webpackJsonp([14],{10:function(e,t,n){"use strict";function i(){return a.default.createElement("span",{className:"loading-icon loading-tip"})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=i},1007:function(e,t){},1008:function(e,t){},108:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(96),p=i(f),Y=n(4),Z=n(2),L=n(119),h=i(L),S=n(90),C=i(S),m=n(120),X=i(m),J=n(3),D=n(5),T=i(D),g={isPublic:d.default.bool,repoID:d.default.string,placeholder:d.default.string,onSearchedClick:d.default.func.isRequired},P=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFocusHandler=function(){n.setState({width:"30rem",isMaskShow:!0,isCloseShow:!0})},n.onCloseHandler=function(){n.resetToDefault()},n.onItemClickHandler=function(e){n.resetToDefault(),n.props.onSearchedClick(e)},n.onChangeHandler=function(e){var t=n;n.setState({value:e.target.value});var i=e.target.value;if(n.inputValue===i.trim())return!1;if(n.inputValue=i.trim(),""===n.inputValue||t.getValueLength(n.inputValue)<3)return n.setState({isResultShow:!1,isResultGetted:!1}),!1;var o=n.props.repoID,a={q:i,search_repo:o||"all",search_ftypes:"all"};n.timer&&clearTimeout(n.timer),n.timer=setTimeout(t.getSearchResult(a),500)},n.onShowMore=function(){var e=n.props.repoID,t=n.state.value,i={q:t,search_repo:e||"all",search_ftypes:"all"},o="";for(var a in i)o+=a+"="+i[a]+"&";window.location=Z.siteRoot+"search/?"+o.slice(0,o.length-1)},n.onSearchToggle=function(){n.setState({isSearchInputShow:!n.state.isSearchInputShow,isMaskShow:!n.state.isMaskShow})},n.onSearchPage=function(){window.location.href=Z.siteRoot+"search/"},n.state={width:"default",value:"",resultItems:[],isMaskShow:!1,isResultShow:!1,isResultGetted:!1,isCloseShow:!1,isSearchInputShow:!1},n.inputValue="",n.source=null,n}return r(t,e),s(t,[{key:"getSearchResult",value:function(e){this.source&&this.cancelRequest(),this.setState({isResultShow:!0,isResultGetted:!1}),this.source=C.default.getSource(),this.sendRequest(e,this.source.token)}},{key:"sendRequest",value:function(e,t){var n=this;this.props.isPublic?Y.seafileAPI.searchFilesInPublishedRepo(e.q,e.search_repo).then(function(e){if(!e.data.total)return n.setState({resultItems:[],isResultGetted:!0}),void(n.source=null);var t=n.formatResultItems(e.data.results);n.setState({resultItems:t,isResultGetted:!0}),n.source=null}).catch(function(e){var t=J.Utils.getErrorMsg(e);T.default.danger(t)}):C.default.searchFiles(e,t).then(function(e){if(!e.data.total)return n.setState({resultItems:[],isResultGetted:!0}),void(n.source=null);var t=n.formatResultItems(e.data.results);n.setState({resultItems:t,isResultGetted:!0}),n.source=null}).catch(function(e){console.log(e)})}},{key:"cancelRequest",value:function(){this.source.cancel("prev request is cancelled")}},{key:"getValueLength",value:function(e){for(var t,n=0,i=0;n<e.length;n++)t=e.charCodeAt(n),10==t?i+=2:t<127?i+=1:t>=128&&t<=2047?i+=2:t>=2048&&t<=65535&&(i+=3);return i}},{key:"formatResultItems",value:function(e){for(var t=[],n=e.length>5?5:e.length,i=0;i<n;i++)t[i]={},t[i].index=[i],t[i].name=e[i].name,t[i].path=e[i].fullpath,t[i].repo_id=e[i].repo_id,t[i].repo_name=e[i].repo_name,t[i].is_dir=e[i].is_dir,t[i].link_content=decodeURI(e[i].fullpath).substring(1),t[i].content=e[i].content_highlight;return t}},{key:"resetToDefault",value:function(){this.inputValue=null,this.setState({width:"",value:"",isMaskShow:!1,isCloseShow:!1,isResultShow:!1,isResultGetted:!1,resultItems:[],isSearchInputShow:!1})}},{key:"renderSearchResult",value:function(){var e=this;if(this.state.isResultShow){if(!this.state.isResultGetted||this.getValueLength(this.inputValue)<3)return u.default.createElement("span",{className:"loading-icon loading-tip"});if(!this.state.resultItems.length)return u.default.createElement("div",{className:"search-result-none"},(0,Z.gettext)("No results matching."));var t=this.state.resultItems.length>=5;return u.default.createElement("ul",{className:"search-result-list"},this.state.resultItems.map(function(t){return u.default.createElement(h.default,{key:t.index,item:t,onItemClickHandler:e.onItemClickHandler})}),t&&u.default.createElement(X.default,{onShowMore:this.onShowMore}))}}},{key:"render",value:function(){var e="default"!==this.state.width?this.state.width:"",t={width:e};return u.default.createElement(l.Fragment,null,u.default.createElement(p.default,{query:"(min-width: 768px)"},u.default.createElement("div",{className:"search"},u.default.createElement("div",{className:"search-mask "+(this.state.isMaskShow?"":"hide"),onClick:this.onCloseHandler}),u.default.createElement("div",{className:"search-container"},u.default.createElement("div",{className:"input-icon"},u.default.createElement("i",{className:"search-icon-left input-icon-addon fas fa-search"}),u.default.createElement("input",{type:"text",className:"form-control search-input",name:"query",placeholder:this.props.placeholder,style:t,value:this.state.value,onFocus:this.onFocusHandler,onChange:this.onChangeHandler,autoComplete:"off"}),this.state.isCloseShow&&Z.username&&u.default.createElement("i",{className:"search-icon-right input-icon-addon fas fa-external-link-alt search-icon-arrow",onClick:this.onSearchPage}),this.state.isCloseShow&&u.default.createElement("i",{className:"search-icon-right input-icon-addon fas fa-times",onClick:this.onCloseHandler})),u.default.createElement("div",{className:"search-result-container"},this.renderSearchResult())))),u.default.createElement(p.default,{query:"(max-width: 767.8px)"},u.default.createElement("div",{className:"search-icon-container"},u.default.createElement("i",{className:"search-icon fas fa-search",onClick:this.onSearchToggle})),this.state.isSearchInputShow&&u.default.createElement("div",{className:"search"},u.default.createElement("div",{className:"search-mask "+(this.state.isMaskShow?"":"hide"),onClick:this.onCloseHandler}),u.default.createElement("div",{className:"search-container"},u.default.createElement("div",{className:"input-icon"},u.default.createElement("i",{className:"search-icon-left input-icon-addon fas fa-search"}),u.default.createElement("input",{type:"text",className:"form-control search-input",name:"query",placeholder:this.props.placeholder,style:t,value:this.state.value,onFocus:this.onFocusHandler,onChange:this.onChangeHandler,autoComplete:"off"}),this.state.isCloseShow&&Z.username&&u.default.createElement("i",{className:"search-icon-right input-icon-addon fas fa-external-link-alt search-icon-arrow",onClick:this.onSearchPage}),this.state.isCloseShow&&u.default.createElement("i",{className:"search-icon-right input-icon-addon fas fa-times",onClick:this.onCloseHandler})),u.default.createElement("div",{className:"search-result-container"},this.renderSearchResult())))))}}]),t}(l.Component);P.propTypes=g,t.default=P},109:function(e,t){},119:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(3),p={item:d.default.object.isRequired,onItemClickHandler:d.default.func.isRequired},Y=function(e){function t(){var e,n,i,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.onClickHandler=function(){var e=i.props.item;i.props.onItemClickHandler(e)},r=n,a(i,r)}return r(t,e),s(t,[{key:"render",value:function(){var e=this.props.item,t=e.link_content?"item-img":"lib-item-img",n=e.link_content?f.Utils.getFolderIconUrl(!1,192):f.Utils.getDefaultLibIconUrl(!0),i=e.is_dir?n:f.Utils.getFileIconUrl(e.name,192);return u.default.createElement("li",{className:"search-result-item",onClick:this.onClickHandler},u.default.createElement("img",{className:t,src:i,alt:""}),u.default.createElement("div",{className:"item-content"},u.default.createElement("div",{className:"item-name ellipsis"},e.name),u.default.createElement("div",{className:"item-link ellipsis"},e.repo_name,"/",e.link_content),u.default.createElement("div",{className:"item-text ellipsis",dangerouslySetInnerHTML:{__html:e.content}})))}}]),t}(u.default.Component);Y.propTypes=p,t.default=Y},120:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(2),p={onShowMore:d.default.func.isRequired},Y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("li",{className:"list-show-more",onClick:this.props.onShowMore},u.default.createElement("span",{className:"more-message"},(0,f.gettext)("show more")))}}]),t}(u.default.Component);Y.propTypes=p,t.default=Y},121:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(4),d=n(2),f=n(122),p=i(f),Y=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(){n.state.showNotice?(c.seafileAPI.updateNotifications(),n.setState({showNotice:!1,unseenCount:0})):(n.loadNotices(),n.setState({showNotice:!0}))},n.loadNotices=function(){c.seafileAPI.listPopupNotices(1,5).then(function(e){var t=e.data.notification_list;n.setState({noticeList:t})})},n.onNoticeItemClick=function(e){var t=n.state.noticeList.map(function(t){return t.id===e.id&&(t.seen=!0),t});c.seafileAPI.markNoticeAsRead(e.id);var i=0===n.state.unseenCount?0:n.state.unseenCount-1;n.setState({noticeList:t,unseenCount:i})},n.state={showNotice:!1,unseenCount:0,noticeList:[]},n}return r(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;c.seafileAPI.getUnseenNotificationCount().then(function(t){e.setState({unseenCount:t.data.unseen_count})})}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{id:"notifications"},u.default.createElement("a",{href:"#",onClick:this.onClick,className:"no-deco",id:"notice-icon",title:"Notifications","aria-label":"Notifications"},u.default.createElement("span",{className:"sf2-icon-bell"}),u.default.createElement("span",{className:"num "+(this.state.unseenCount?"":"hide")},this.state.unseenCount)),u.default.createElement("div",{id:"notice-popover",className:"sf-popover "+(this.state.showNotice?"":"hide")},u.default.createElement("div",{className:"outer-caret up-outer-caret"},u.default.createElement("div",{className:"inner-caret"})),u.default.createElement("div",{className:"sf-popover-hd ovhd"},u.default.createElement("h3",{className:"sf-popover-title title"},(0,d.gettext)("Notifications")),u.default.createElement("a",{href:"#",onClick:this.onClick,title:(0,d.gettext)("Close"),"aria-label":(0,d.gettext)("Close"),className:"sf-popover-close js-close sf2-icon-x1 action-icon float-right"})),u.default.createElement("div",{className:"sf-popover-con"},u.default.createElement("ul",{className:"notice-list"},this.state.noticeList.map(function(t){return u.default.createElement(p.default,{key:t.id,noticeItem:t,onNoticeItemClick:e.onNoticeItemClick})})),u.default.createElement("a",{href:d.siteRoot+"notification/list/",className:"view-all"},(0,d.gettext)("See All Notifications")))))}}]),t}(u.default.Component);t.default=Y},122:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(9),p=i(f),Y=n(2),Z=n(3),L={noticeItem:d.default.object.isRequired,onNoticeItemClick:d.default.func.isRequired},h=function(e){function t(){var e,n,i,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.onNoticeItemClick=function(){var e=i.props.noticeItem;!0!==e.seen&&i.props.onNoticeItemClick(e)},r=n,a(i,r)}return r(t,e),s(t,[{key:"generatorNoticeInfo",value:function(){var e=this.props.noticeItem,t=e.type,n=e.detail;if("add_user_to_group"===t){var i=n.group_staff_avatar_url,o=n.group_staff_name,a=Y.siteRoot+"profile/"+n.group_staff_email+"/",r=Y.siteRoot+"group/"+n.group_id+"/",s=n.group_name,l=(0,Y.gettext)("User {user_link} has added you to {group_link}"),u="<a href="+a+">"+o+"</a>",c="<a href="+r+">"+s+"</a>";return l=l.replace("{user_link}",u),l=l.replace("{group_link}",c),{avatar_url:i,notice:l}}if("repo_share"===t){var d=n.share_from_user_avatar_url,f=n.share_from_user_name,p=n.repo_name,L=Y.siteRoot+"library/"+n.repo_id+"/"+p+"/",h=n.path,S="",C="<a href="+L+">"+p+"</a>";return S="/"===h?(0,Y.gettext)("{share_from} has shared a library named {repo_link} to you."):(0,Y.gettext)("{share_from} has shared a folder named {repo_link} to you."),S=S.replace("{share_from}",f),S=S.replace("{repo_link}",C),{avatar_url:d,notice:S}}if("repo_share_to_group"===t){var m=n.share_from_user_avatar_url,X=n.share_from_user_name,J=n.repo_name,D=Y.siteRoot+"library/"+n.repo_id+"/"+J+"/",T=Y.siteRoot+"group/"+n.group_id+"/",g=n.group_name,P=n.path,M="",v="<a href="+D+">"+J+"</a>",H="<a href="+T+">"+g+"</a>";return M="/"===P?(0,Y.gettext)("{share_from} has shared a library named {repo_link} to group {group_link}."):(0,Y.gettext)("{share_from} has shared a folder named {repo_link} to group {group_link}."),M=M.replace("{share_from}",X),M=M.replace("{repo_link}",v),M=M.replace("{group_link}",H),{avatar_url:m,notice:M}}if("repo_transfer"===t){var Q=n.transfer_from_user_avatar_url,w=n.transfer_from_user_name,N=n.repo_name,y=Y.siteRoot+"library/"+n.repo_id+"/"+N+"/",B=(0,Y.gettext)("{user} has transfered a library named {repo_link} to you."),b="<a href="+y+">"+N+"</a>";return B=B.replace("{user}",w),B=B.replace("{repo_link}",b),{avatar_url:Q,notice:B}}if("file_uploaded"===t){var F=n.uploaded_user_avatar_url,E=n.file_name,G=Y.siteRoot+"lib/"+n.repo_id+"/file"+Z.Utils.encodePath(n.file_path),W=n.folder_name,k=Y.siteRoot+"library/"+n.repo_id+"/"+n.repo_name+Z.Utils.encodePath(n.folder_path),_="";if(n.repo_id){var R="<a href="+G+">"+E+"</a>",K="<a href="+k+">"+W+"</a>";_=(0,Y.gettext)("A file named {upload_file_link} is uploaded to {uploaded_link}."),_=_.replace("{upload_file_link}",R),_=_.replace("{uploaded_link}",K)}else _=(0,Y.gettext)("A file named {upload_file_link} is uploaded to {uploaded_link}."),_=_.replace("{upload_file_link}",E),_=_.replace("{uploaded_link}","<strong>Deleted Library</strong>");return{avatar_url:F,notice:_}}if("file_comment"===t){var O=n.author_avatar_url,x=n.author_name,I=n.file_name,A=Y.siteRoot+"lib/"+n.repo_id+"/file"+n.file_path,j=(0,Y.gettext)("File {file_link} has a new comment form user {author}."),U="<a href="+A+">"+I+"</a>";return j=j.replace("{file_link}",U),j=j.replace("{author}",x),{avatar_url:O,notice:j}}if("draft_comment"===t){var z=n.author_avatar_url,q=n.author_name,V=n.draft_id,$=Y.siteRoot+"drafts/"+V+"/",ee=(0,Y.gettext)("{draft_link} has a new comment from user {author}."),te="<a href="+$+">"+(0,Y.gettext)("Draft")+"#"+V+"</a>";return ee=ee.replace("{draft_link}",te),ee=ee.replace("{author}",q),{avatar_url:z,notice:ee}}if("draft_reviewer"===t){var ne=n.request_user_avatat_url,ie=n.request_user_name,oe=n.draft_id,ae=Y.siteRoot+"drafts/"+oe+"/",re=(0,Y.gettext)("{from_user} has sent you a request for {draft_link}."),se="<a href="+ae+">"+(0,Y.gettext)("Draft")+"#"+oe+"</a>";return re=re.replace("{from_user}",ie),re=re.replace("{draft_link}",se),{avatar_url:ne,notice:re}}return{avatar_url:null,notice:null}}},{key:"render",value:function(){var e=this.props.noticeItem,t=this.generatorNoticeInfo(),n=t.avatar_url,i=t.notice;return n||i?u.default.createElement("li",{onClick:this.onNoticeItemClick,className:e.seen?"read":"unread"},u.default.createElement("div",{className:"notice-item"},u.default.createElement("div",{className:"main-info"},u.default.createElement("img",{src:n,width:"32",height:"32",className:"avatar",alt:""}),u.default.createElement("p",{className:"brief",dangerouslySetInnerHTML:{__html:i}})),u.default.createElement("p",{className:"time"},(0,p.default)(e.time).fromNow()))):""}}]),t}(u.default.Component);h.propTypes=L,t.default=h},137:function(e,t){},138:function(e,t){},139:function(e,t){},140:function(e,t){},17:function(e,t,n){"use strict";n(50),n(51),"undefined"===typeof Promise&&(n(52).enable(),window.Promise=n(44)),n(48),Object.assign=n(29)},177:function(e,t,n){"use strict";function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,i=void 0;"function"===typeof window.CustomEvent?i=new window.CustomEvent(e,{detail:t}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!1,!0,t)),n&&(n.dispatchEvent(i),(0,s.default)(l.store,t))}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];i(u,(0,s.default)({},e,{type:u}),t)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];i(c,(0,s.default)({},e,{type:c}),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MENU_HIDE=t.MENU_SHOW=void 0,t.dispatchGlobalEvent=i,t.showMenu=o,t.hideMenu=a;var r=n(29),s=function(e){return e&&e.__esModule?e:{default:e}}(r),l=n(240),u=t.MENU_SHOW="REACT_CONTEXTMENU_SHOW",c=t.MENU_HIDE="REACT_CONTEXTMENU_HIDE"},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.strChineseFirstPY="YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY"},189:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(2),p={onCloseSidePanel:d.default.func,showCloseSidePanelIcon:d.default.bool},Y=function(e){function t(){var e,n,i,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.closeSide=function(){i.props.onCloseSidePanel()},r=n,a(i,r)}return r(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"top-logo"},u.default.createElement("a",{href:f.siteRoot,id:"logo"},u.default.createElement("img",{src:f.mediaUrl+f.logoPath,height:f.logoHeight,width:f.logoWidth,title:f.siteTitle,alt:"logo"})),this.props.showCloseSidePanelIcon&&u.default.createElement("a",{className:"sf2-icon-x1 sf-popover-close side-panel-close action-icon d-md-none",onClick:this.closeSide,title:"Close","aria-label":"Close"}))}}]),t}(u.default.Component);Y.propTypes=p,t.default=Y},190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o={NEW_FOLDER:{key:"New Folder",value:(0,i.gettext)("New Folder")},NEW_FILE:{key:"New File",value:(0,i.gettext)("New File")},SHARE:{key:"Share",value:(0,i.gettext)("Share")},DOWNLOAD:{key:"Download",value:(0,i.gettext)("Download")},DELETE:{key:"Delete",value:(0,i.gettext)("Delete")},RENAME:{key:"Rename",value:(0,i.gettext)("Rename")},MOVE:{key:"Move",value:(0,i.gettext)("Move")},COPY:{key:"Copy",value:(0,i.gettext)("Copy")},PERMISSION:{key:"Permission",value:(0,i.gettext)("Permission")},DETAILS:{key:"Details",value:(0,i.gettext)("Details")},OPEN_VIA_CLIENT:{key:"Open via Client",value:(0,i.gettext)("Open via Client")},LOCK:{key:"Lock",value:(0,i.gettext)("Lock")},UNLOCK:{key:"Unlock",value:(0,i.gettext)("Unlock")},COMMENT:{key:"Comment",value:(0,i.gettext)("Comment")},HISTORY:{key:"History",value:(0,i.gettext)("History")},ACCESS_LOG:{key:"Access Log",value:(0,i.gettext)("Access Log")},TAGS:{key:"Tags",value:(0,i.gettext)("Tags")},RELATED_FILES:{key:"Related Files",value:(0,i.gettext)("Related Files")}};t.default=o},2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dirPath="/",t.gettext=window.gettext,t.siteRoot=window.app.config.siteRoot,t.loginUrl=window.app.config.loginUrl,t.avatarInfo=window.app.config.avatarInfo,t.logoPath=window.app.config.logoPath,t.mediaUrl=window.app.config.mediaUrl,t.siteTitle=window.app.config.siteTitle,t.siteName=window.app.config.siteName,t.logoWidth=window.app.config.logoWidth,t.logoHeight=window.app.config.logoHeight,t.isPro="True"===window.app.config.isPro,t.isDocs="True"===window.app.config.isDocs,t.lang=window.app.config.lang,t.fileServerRoot=window.app.config.fileServerRoot,t.seafileVersion=window.app.config.seafileVersion,t.serviceURL=window.app.config.serviceURL,t.appAvatarURL=window.app.config.avatarURL,t.seafileCollabServer=window.app.pageOptions.seafileCollabServer,t.name=window.app.pageOptions.name,t.contactEmail=window.app.pageOptions.contactEmail,t.username=window.app.pageOptions.username,t.canAddRepo=window.app.pageOptions.canAddRepo,t.canAddGroup=window.app.pageOptions.canAddGroup,t.canGenerateShareLink=window.app.pageOptions.canGenerateShareLink,t.canGenerateUploadLink=window.app.pageOptions.canGenerateUploadLink,t.canSendShareLinkEmail=window.app.pageOptions.canSendShareLinkEmail,t.canViewOrg="True"===window.app.pageOptions.canViewOrg,t.fileAuditEnabled=window.app.pageOptions.fileAuditEnabled,t.enableFileComment=!!window.app.pageOptions.enableFileComment,t.folderPermEnabled=window.app.pageOptions.folderPermEnabled,t.enableResetEncryptedRepoPassword="True"===window.app.pageOptions.enableResetEncryptedRepoPassword,t.isEmailConfigured="True"===window.app.pageOptions.isEmailConfigured,t.enableUploadFolder="True"===window.app.pageOptions.enableUploadFolder,t.enableResumableFileUpload="True"===window.app.pageOptions.enableResumableFileUpload,t.storages=window.app.pageOptions.storages,t.enableRepoSnapshotLabel=window.app.pageOptions.enableRepoSnapshotLabel,t.shareLinkPasswordMinLength=window.app.pageOptions.shareLinkPasswordMinLength,t.shareLinkExpireDaysMin=window.app.pageOptions.shareLinkExpireDaysMin,t.shareLinkExpireDaysMax=window.app.pageOptions.shareLinkExpireDaysMax,t.shareLinkExpireDaysDefault=window.app.pageOptions.shareLinkExpireDaysDefault,t.maxFileName=window.app.pageOptions.maxFileName,t.enableWiki=window.app.pageOptions.enableWiki,t.canPublishRepo=window.app.pageOptions.canPublishRepo,t.enableEncryptedLibrary=window.app.pageOptions.enableEncryptedLibrary,t.enableRepoHistorySetting=window.app.pageOptions.enableRepoHistorySetting,t.isSystemStaff=window.app.pageOptions.isSystemStaff,t.thumbnailSizeForOriginal=window.app.pageOptions.thumbnailSizeForOriginal,t.repoPasswordMinLength=window.app.pageOptions.repoPasswordMinLength,t.canAddPublicRepo=window.app.pageOptions.canAddPublicRepo,t.canInvitePeople=window.app.pageOptions.canInvitePeople,t.canLockUnlockFile=window.app.pageOptions.canLockUnlockFile,t.curNoteMsg=window.app.pageOptions.curNoteMsg,t.curNoteID=window.app.pageOptions.curNoteID,t.slug=window.wiki?window.wiki.config.slug:"",t.repoID=window.wiki?window.wiki.config.repoId:"",t.initialPath=window.wiki?window.wiki.config.initial_path:"",t.permission=window.wiki?"True"===window.wiki.config.permission:"",t.isDir=window.wiki?window.wiki.config.isDir:"",t.serviceUrl=window.wiki?window.wiki.config.serviceUrl:"",t.isPublicWiki=window.wiki?"True"===window.wiki.config.isPublicWiki:"",t.sharedToken=window.wiki?window.wiki.config.sharedToken:"",t.sharedType=window.wiki?window.wiki.config.sharedType:"",t.hasIndex=window.wiki?window.wiki.config.hasIndex:"",t.PER_PAGE=25,t.historyRepoID=window.fileHistory?window.fileHistory.pageOptions.repoID:"",t.repoName=window.fileHistory?window.fileHistory.pageOptions.repoName:"",t.filePath=window.fileHistory?window.fileHistory.pageOptions.filePath:"",t.fileName=window.fileHistory?window.fileHistory.pageOptions.fileName:"",t.useNewAPI=window.fileHistory?window.fileHistory.pageOptions.use_new_api:"",t.canDownload=window.fileHistory?window.fileHistory.pageOptions.can_download_file:"",t.canCompare=window.fileHistory?window.fileHistory.pageOptions.can_compare:"",t.draftFilePath=window.draft?window.draft.config.draftFilePath:"",t.draftOriginFilePath=window.draft?window.draft.config.draftOriginFilePath:"",t.draftFileName=window.draft?window.draft.config.draftFileName:"",t.draftID=window.draft?window.draft.config.draftID:"",t.draftRepoID=window.draft?window.draft.config.draftRepoID:"",t.author=window.draft?window.draft.config.author:"",t.authorAvatar=window.draft?window.draft.config.authorAvatar:"",t.originFileExists=window.draft?window.draft.config.originFileExists:"",t.draftFileExists=window.draft?window.draft.config.draftFileExists:"",t.draftStatus=window.draft?window.draft.config.draftStatus:"",t.draftPublishVersion=window.draft?window.draft.config.draftPublishVersion:"",t.originFileVersion=window.draft?window.draft.config.originFileVersion:"",t.filePermission=window.draft?window.draft.config.perm:"",t.orgID=window.org?window.org.pageOptions.orgID:"",t.invitationLink=window.org?window.org.pageOptions.invitationLink:"",t.orgMemberQuotaEnabled=window.org?window.org.pageOptions.orgMemberQuotaEnabled:"",t.constanceEnabled=window.sysadmin?window.sysadmin.pageOptions.constance_enabled:"",t.multiTenancy=window.sysadmin?window.sysadmin.pageOptions.multi_tenancy:"",t.multiInstitution=window.sysadmin?window.sysadmin.pageOptions.multi_institution:"",t.sysadminExtraEnabled=window.sysadmin?window.sysadmin.pageOptions.sysadmin_extra_enabled:"",t.enableGuestInvitation=window.sysadmin?window.sysadmin.pageOptions.enable_guest_invitation:"",t.enableTermsAndConditions=window.sysadmin?window.sysadmin.pageOptions.enable_terms_and_conditions:"",t.isDefaultAdmin=window.sysadmin?window.sysadmin.pageOptions.is_default_admin:"",t.enableFileScan=window.sysadmin?window.sysadmin.pageOptions.enable_file_scan:"",t.canViewSystemInfo=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_system_info:"",t.canViewStatistic=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_statistic:"",t.canConfigSystem=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_config_system:"",t.canManageLibrary=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_library:"",t.canManageUser=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_user:"",t.canManageGroup=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_group:"",t.canViewUserLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_user_log:"",t.canViewAdminLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_admin_log:"",t.enableWorkWeixin=window.sysadmin?window.sysadmin.pageOptions.enable_work_weixin:""},20:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(0),s=i(r),l=n(8),u=i(l),c=n(21),d=i(c),f="undefined"!==typeof window&&"undefined"!==typeof window.document,p=function e(){var t=this;if(o(this,e),this._bindNotify=function(e){t.notifyHandler=e},this._bindGetToasts=function(e){t.getToastsHandler=e},this._bindCloseAll=function(e){t.closeAllHandler=e},this.getToasts=function(){return t.getToastsHandler()},this.closeAll=function(){return t.closeAllHandler()},this.notify=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,a({},n,{intent:"none"}))},this.success=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,a({},n,{intent:"success"}))},this.warning=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,a({},n,{intent:"warning"}))},this.danger=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,a({},n,{intent:"danger"}))},f){var n=document.createElement("div");n.setAttribute("data-evergreen-toaster-container",""),document.body.appendChild(n),u.default.render(s.default.createElement(d.default,{bindNotify:this._bindNotify,bindGetToasts:this._bindGetToasts,bindCloseAll:this._bindCloseAll}),n)}};t.default=p},2028:function(e,t,n){n(17),e.exports=n(2029)},2029:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(8),d=i(c),f=n(9),p=i(f),Y=n(96),Z=i(Y),L=n(6),h=n(2),S=n(3),C=n(4),m=n(31),X=i(m),J=n(27),D=i(J),T=n(60),g=i(T),P=n(2030),M=i(P),v=n(2033),H=i(v);n(137),n(138),n(139),n(140),n(1007),n(1008),n(79),n(109);var Q=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loadWikiData=function(e){if(n.loadSidePanel(e),"None"===h.isDir)if("/home.md"===e)n.showDir("/");else{n.setState({pathExist:!1});var t=h.siteRoot+"published/"+h.slug+S.Utils.encodePath(e);window.history.pushState({url:t,path:e},e,t)}else"True"===h.isDir?n.showDir(e):"False"===h.isDir&&n.showFile(e)},n.loadSidePanel=function(e){h.hasIndex?n.loadIndexNode():"None"===h.isDir?(e="/",n.loadNodeAndParentsByPath("/")):n.loadNodeAndParentsByPath(e)},n.loadIndexNode=function(){C.seafileAPI.listWikiDir(h.slug,"/").then(function(e){var t=n.state.treeData;n.addFirstResponseListToNode(e.data.dirent_list,t.root);var i=t.getNodeByPath(n.indexPath);C.seafileAPI.getWikiFileContent(h.slug,i.path).then(function(e){n.setState({treeData:t,indexNode:i,indexContent:e.data.content,isTreeDataLoading:!1})})}).catch(function(){n.setState({isLoadFailed:!0})})},n.showDir=function(e){n.loadDirentList(e);var t=h.siteRoot+"published/"+h.slug+S.Utils.encodePath(e);window.history.pushState({url:t,path:e},e,t)},n.showFile=function(e){n.setState({isDataLoading:!0,isViewFile:!0,path:e}),C.seafileAPI.getWikiFileContent(h.slug,e).then(function(e){var t=e.data;n.setState({isDataLoading:!1,content:t.content,permission:t.permission,lastModified:p.default.unix(t.last_modified).fromNow(),latestContributor:t.latest_contributor})});var t=window.location.hash,i=h.siteRoot+"published/"+h.slug+S.Utils.encodePath(e)+t;"/home.md"===e?window.history.replaceState({url:i,path:e},e,i):window.history.pushState({url:i,path:e},e,i)},n.loadDirentList=function(e){n.setState({isDataLoading:!0}),C.seafileAPI.listWikiDir(h.slug,e).then(function(t){var i=t.data.dirent_list.map(function(e){return new X.default(e)});"/"===e&&(i=i.filter(function(e){if("dir"===e.type){var t=e.name.toLowerCase();return"drafts"!==t&&"images"!==t&&"downloads"!==t}return!0})),i=S.Utils.sortDirents(i,"name","asc"),n.setState({path:e,isViewFile:!1,direntList:i,isDataLoading:!1})}).catch(function(){n.setState({isLoadFailed:!0})})},n.loadTreeNodeByPath=function(e){var t=n.state.treeData.clone(),i=t.getNodeByPath(e);if(i.isLoaded){t.getNodeByPath(i.parentNode.path).isExpanded=!0,n.setState({treeData:t,currentNode:i})}else C.seafileAPI.listWikiDir(h.slug,i.path).then(function(e){n.addResponseListToNode(e.data.dirent_list,i),t.getNodeByPath(i.parentNode.path).isExpanded=!0,n.setState({treeData:t,currentNode:i})})},n.loadNodeAndParentsByPath=function(e){var t=n.state.treeData.clone();S.Utils.isMarkdownFile(e)&&(e=S.Utils.getDirName(e)),C.seafileAPI.listWikiDir(h.slug,e,!0).then(function(e){for(var i=e.data.dirent_list,o={},a=0;a<i.length;a++){var r=i[a],s=r.parent_dir;o[s]||(o[s]=[]),o[s].push(r)}for(var l in o){var u=t.getNodeByPath(l);u.isLoaded||"/"!==u.path?u.isLoaded||n.addResponseListToNode(o[l],u):n.addFirstResponseListToNode(o[l],u)}n.setState({isTreeDataLoading:!1,treeData:t})}).catch(function(){n.setState({isLoadFailed:!0})})},n.onLinkClick=function(e){var t=e;if(S.Utils.isWikiInternalMarkdownLink(t,h.slug)){var i=S.Utils.getPathFromWikiInternalMarkdownLink(t,h.slug);n.showFile(i)}else if(S.Utils.isWikiInternalDirLink(t,h.slug)){var o=S.Utils.getPathFromWikiInternalDirLink(t,h.slug);n.showDir(o)}else window.location.href=t;n.state.closeSideBar||n.setState({closeSideBar:!0})},n.onpopstate=function(e){if(e.state&&e.state.path){var t=e.state.path;S.Utils.isMarkdownFile(t)?n.showFile(t):(n.loadDirentList(t),n.setState({path:t,isViewFile:!1}))}},n.onSearchedClick=function(e){var t=e.is_dir?e.path.slice(0,e.path.length-1):e.path;if(n.state.currentPath!==t){for(var i=-1,o=S.Utils.getPaths(t),a=0;a<o.length;a++){var r=n.state.treeData.getNodeByPath(r);if(!r){i=a;break}}if(-1===i){var s=n.state.treeData.clone(),l=s.getNodeByPath(e.path);g.default.expandNode(l),n.setState({treeData:s})}else n.loadNodeAndParentsByPath(t);if(e.is_dir)n.showDir(t);else if(S.Utils.isMarkdownFile(t))n.showFile(t);else{var u=h.siteRoot+"d/"+h.sharedToken+"/files/?p="+S.Utils.encodePath(t),c=window.open("about:blank");c.location.href=u}}},n.onMenuClick=function(){n.setState({closeSideBar:!n.state.closeSideBar})},n.onMainNavBarClick=function(e){var t=n.state.treeData.clone(),i=t.getNodeByPath(e);t.expandNode(i),n.setState({treeData:t,currentNode:i}),n.showDir(i.path)},n.onDirentClick=function(e){var t=S.Utils.joinPath(n.state.path,e.name);if(e.isDir())n.loadTreeNodeByPath(t),n.showDir(t);else if(S.Utils.isMarkdownFile(t))n.showFile(t);else{var i=window.open("about:blank"),o=h.siteRoot+"d/"+h.sharedToken+"/files/?p="+S.Utils.encodePath(t);i.location.href=o}},n.onCloseSide=function(){n.setState({closeSideBar:!n.state.closeSideBar})},n.onNodeClick=function(e){if(n.state.pathExist||n.setState({pathExist:!0}),e.object.isDir()){if(!e.isLoaded){var t=n.state.treeData.clone();e=t.getNodeByPath(e.path),C.seafileAPI.listWikiDir(h.slug,e.path).then(function(i){n.addResponseListToNode(i.data.dirent_list,e),t.collapseNode(e),n.setState({treeData:t})})}if(e.path===n.state.path)if(e.isExpanded){var i=g.default.collapseNode(n.state.treeData,e);n.setState({treeData:i})}else{var o=n.state.treeData.clone();e=o.getNodeByPath(e.path),o.expandNode(e),n.setState({treeData:o})}}if(e.path!==n.state.path)if(e.object.isDir())n.showDir(e.path);else if(S.Utils.isMarkdownFile(e.path))e.path!==n.state.path&&n.showFile(e.path);else{var a=window.open("about:blank"),r=h.siteRoot+"d/"+h.sharedToken+"/files/?p="+S.Utils.encodePath(e.path);a.location.href=r}},n.onNodeCollapse=function(e){var t=g.default.collapseNode(n.state.treeData,e);n.setState({treeData:t})},n.onNodeExpanded=function(e){var t=n.state.treeData.clone();e=t.getNodeByPath(e.path),e.isLoaded?(t.expandNode(e),n.setState({treeData:t})):C.seafileAPI.listWikiDir(h.slug,e.path).then(function(i){n.addResponseListToNode(i.data.dirent_list,e),n.setState({treeData:t})})},n.addFirstResponseListToNode=function(e,t){t.isLoaded=!0,t.isExpanded=!0;var n=e.map(function(e){return new X.default(e)});n=n.filter(function(e){if("dir"===e.type){var t=e.name.toLowerCase();return"drafts"!==t&&"images"!==t&&"downloads"!==t}return!0}),n=S.Utils.sortDirents(n,"name","asc");var i=n.map(function(e){return new D.default({object:e})});t.addChildren(i)},n.addResponseListToNode=function(e,t){t.isLoaded=!0,t.isExpanded=!0;var n=e.map(function(e){return new X.default(e)});n=S.Utils.sortDirents(n,"name","asc");var i=n.map(function(e){return new D.default({object:e})});t.addChildren(i)},n.state={path:"",pathExist:!0,closeSideBar:!1,isViewFile:!0,isDataLoading:!0,direntList:[],content:"",permission:"",lastModified:"",latestContributor:"",isTreeDataLoading:!0,treeData:g.default.buildTree(),currentNode:null,indexNode:null,indexContent:""},window.onpopstate=n.onpopstate,n.indexPath="/index.md",n.homePath="/home.md",n}return r(t,e),s(t,[{key:"componentWillMount",value:function(){window.screen.width<=768&&this.setState({closeSideBar:!0})}},{key:"componentDidMount",value:function(){this.loadWikiData(h.initialPath)}},{key:"render",value:function(){return u.default.createElement("div",{id:"main",className:"wiki-main"},u.default.createElement(M.default,{isTreeDataLoading:this.state.isTreeDataLoading,closeSideBar:this.state.closeSideBar,currentPath:this.state.path,treeData:this.state.treeData,indexNode:this.state.indexNode,indexContent:this.state.indexContent,onCloseSide:this.onCloseSide,onNodeClick:this.onNodeClick,onNodeCollapse:this.onNodeCollapse,onNodeExpanded:this.onNodeExpanded,onLinkClick:this.onLinkClick}),u.default.createElement(H.default,{path:this.state.path,pathExist:this.state.pathExist,isViewFile:this.state.isViewFile,isDataLoading:this.state.isDataLoading,content:this.state.content,permission:this.state.permission,lastModified:this.state.lastModified,latestContributor:this.state.latestContributor,direntList:this.state.direntList,onLinkClick:this.onLinkClick,onMenuClick:this.onMenuClick,onSearchedClick:this.onSearchedClick,onMainNavBarClick:this.onMainNavBarClick,onDirentClick:this.onDirentClick}),u.default.createElement(Z.default,{query:"(max-width: 767.8px)"},u.default.createElement(L.Modal,{isOpen:!this.state.closeSideBar,toggle:this.onCloseSide,contentClassName:"d-none"})))}}]),t}(l.Component);d.default.render(u.default.createElement(Q,null),document.getElementById("wrapper"))},2030:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(2),p=n(189),Y=i(p),Z=n(10),L=i(Z),h=n(640),S=i(h),C=n(2031),m=i(C),X={closeSideBar:d.default.bool.isRequired,isTreeDataLoading:d.default.bool.isRequired,treeData:d.default.object.isRequired,indexNode:d.default.object,indexContent:d.default.string.isRequired,currentPath:d.default.string.isRequired,onCloseSide:d.default.func.isRequired,onNodeClick:d.default.func.isRequired,onNodeCollapse:d.default.func.isRequired,onNodeExpanded:d.default.func.isRequired,onLinkClick:d.default.func.isRequired},J=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderIndexView=function(){return u.default.createElement(l.Fragment,null,u.default.createElement("h3",{className:"wiki-pages-heading"},(0,f.gettext)("Contents")),u.default.createElement("div",{className:"wiki-pages-container"},u.default.createElement(m.default,{indexContent:n.props.indexContent,onLinkClick:n.props.onLinkClick})))},n.renderTreeView=function(){return u.default.createElement(l.Fragment,null,u.default.createElement("h3",{className:"wiki-pages-heading"},(0,f.gettext)("Contents")),u.default.createElement("div",{className:"wiki-pages-container"},n.props.treeData&&u.default.createElement(S.default,{treeData:n.props.treeData,currentPath:n.props.currentPath,isNodeMenuShow:n.isNodeMenuShow,onNodeClick:n.props.onNodeClick,onNodeCollapse:n.props.onNodeCollapse,onNodeExpanded:n.props.onNodeExpanded})))},n.isNodeMenuShow=!1,n}return r(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"side-panel wiki-side-panel "+(this.props.closeSideBar?"":"left-zero")},u.default.createElement("div",{className:"side-panel-top panel-top"},u.default.createElement(Y.default,{onCloseSidePanel:this.props.onCloseSide})),u.default.createElement("div",{id:"side-nav",className:"wiki-side-nav",role:"navigation"},this.props.isTreeDataLoading&&u.default.createElement(L.default,null),!this.props.isTreeDataLoading&&this.props.indexNode&&this.renderIndexView(),!this.props.isTreeDataLoading&&!this.props.indexNode&&this.renderTreeView(),f.username&&f.permission&&u.default.createElement("div",{className:"text-left p-2"},u.default.createElement("a",{href:f.siteRoot+"library/"+f.repoID+"/"+f.slug+"/",className:"text-dark text-decoration-underline"},(0,f.gettext)("Go to Library")))))}}]),t}(l.Component);J.propTypes=X,t.default=J},2031:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(2),p=n(3),Y=n(266);n(2032);var Z={indexContent:d.default.string.isRequired,onLinkClick:d.default.func.isRequired},L=function(){function e(t){var n=t.name,i=t.href,o=t.parentNode;r(this,e),this.name=n,this.href=i,this.parentNode=o||null,this.children=[]}return s(e,[{key:"setParent",value:function(e){this.parentNode=e}},{key:"addChildren",value:function(e){var t=this;e.forEach(function(e){e.setParent(t)}),this.children=e}}]),e}(),h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.bindClickEvent=function(){n.links=document.querySelectorAll(".wiki-nav-content a"),n.links.forEach(function(e){e.addEventListener("click",n.onLinkClick)})},n.removeClickEvent=function(){n.links.forEach(function(e){e.removeEventListener("click",n.onLinkClick)})},n.onLinkClick=function(e){e.preventDefault(),e.stopPropagation();var t=n.getLink(e.target);t&&n.props.onLinkClick(t);var i=e.target.getAttribute("data-path");i&&n.setState({currentPath:i})},n.getLink=function(e){var t=e.tagName;if(t&&"HTML"!==t)return"A"===t?e.href:n.getLink(e.parentNode)},n.changeInlineNode=function(e){if("inline"==e.object){var t=void 0;if("image"==e.type&&f.isPublicWiki){t=e.data.src;if(!new RegExp(f.serviceURL+"/lib/"+f.repoID+"/file.*raw=1").test(t))return;var n=t.indexOf("/file"),i=t.indexOf("?"),o=t.substring(n+5,i);e.data.src=f.serviceURL+"/view-image-via-public-wiki/?slug="+f.slug+"&path="+o}else if("link"==e.type){t=e.data.href;var a=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/,r=new RegExp(a);if(r.test(t)){if(p.Utils.isInternalMarkdownLink(t,f.repoID)){var s=p.Utils.getPathFromInternalMarkdownLink(t,f.repoID);e.data.href=f.serviceURL+"/published/"+f.slug+s}else if(p.Utils.isInternalDirLink(t,f.repoID)){var l=p.Utils.getPathFromInternalDirLink(t,f.repoID);e.data.href=f.serviceURL+"/published/"+f.slug+l}}else e.data.href=f.serviceURL+"/published/"+f.slug+"/"+t}}return e},n.getRootNode=function(){var e=(0,Y.deserialize)(n.props.indexContent);e=e.toJSON(),p.Utils.changeMarkdownNodes(e.document.nodes,n.changeInlineNode).map(function(e){if("unordered_list"===e.type||"ordered_list"===e.type){var t=n.transSlateToTree(e.nodes,n.treeRoot);n.setNodePath(t,"/"),n.treeRoot=t}})},n.setNodePath=function(e,t){var i=e.name,o="/"===t?t+i:t+"/"+i;e.path=o,e.children.length>0&&e.children.map(function(e){n.setNodePath(e,o)})},n.transSlateToTree=function(e,t){var i=e.map(function(e){if(2!==e.nodes.length||"unordered_list"!==e.nodes[1].type&&"ordered_list"!==e.nodes[1].type)return e.nodes[0]&&"paragraph"===e.nodes[0].type?n.transParagraph(e.nodes[0]):new L({name:"",href:""});var t=e.nodes[0],i=n.transParagraph(t),o=e.nodes[1];return n.transSlateToTree(o.nodes,i)});return t.addChildren(i),t},n.transParagraph=function(e){var t=void 0;if(e.nodes[1]&&"link"===e.nodes[1].type){var n=e.nodes[1],i=n.nodes[0],o=i.leaves[0]?i.leaves[0].text:"";t=new L({name:o,href:n.data.href})}else if("text"===e.nodes[0].object){var a=e.nodes[0],r=a.leaves[0]?a.leaves[0].text:"";t=new L({name:r,href:""})}else t=new L({name:"",href:""});return t},n.links=[],n.treeRoot=new L({name:"",href:""}),n.state={currentPath:""},n}return a(t,e),s(t,[{key:"componentWillMount",value:function(){this.getRootNode()}},{key:"componentDidMount",value:function(){this.bindClickEvent()}},{key:"componentWillReceiveProps",value:function(){this.removeClickEvent()}},{key:"componentDidUpdate",value:function(){this.bindClickEvent()}},{key:"componentWillUnmount",value:function(){this.removeClickEvent()}},{key:"render",value:function(){return u.default.createElement("div",{className:"mx-4 o-hidden"},u.default.createElement(C,{node:this.treeRoot,bindClickEvent:this.bindClickEvent,currentPath:this.state.currentPath}))}}]),t}(u.default.Component);h.propTypes=Z;var S={node:d.default.object.isRequired,bindClickEvent:d.default.func.isRequired,currentPath:d.default.string},C=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleExpanded=function(){n.setState({expanded:!n.state.expanded},function(){n.state.expanded&&n.props.bindClickEvent()})},n.renderLink=function(e){var t=e.path===n.props.currentPath?"wiki-nav-content wiki-nav-content-highlight":"wiki-nav-content";return e.href&&e.name?u.default.createElement("div",{className:t},u.default.createElement("a",{href:e.href,"data-path":e.path},e.name)):e.name?u.default.createElement("div",{className:"wiki-nav-content"},u.default.createElement("span",null,e.name)):null},n.state={expanded:!1},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.props.node&&!this.props.node.parentNode&&this.setState({expanded:!0},function(){e.props.bindClickEvent()})}},{key:"render",value:function(){var e=this,n=this.props.node;return n.children.length>0?u.default.createElement(u.default.Fragment,null,n.parentNode&&u.default.createElement(u.default.Fragment,null,u.default.createElement("span",{className:"switch-btn",onClick:this.toggleExpanded},this.state.expanded?u.default.createElement("i",{className:"fa fa-caret-down"}):u.default.createElement("i",{className:"fa fa-caret-right"})),this.renderLink(n)),this.state.expanded&&n.children.map(function(n,i){return u.default.createElement("div",{className:"pl-4 position-relative",key:i},u.default.createElement(t,{node:n,bindClickEvent:e.props.bindClickEvent,currentPath:e.props.currentPath}))})):this.renderLink(n)}}]),t}(u.default.Component);C.propTypes=S,t.default=h},2032:function(e,t){},2033:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(96),p=i(f),Y=n(2),Z=n(67),L=i(Z),h=n(642),S=i(h),C=n(2035),m=i(C),X=n(10),J=i(X),D=n(3),T=n(108),g=i(T),P={path:d.default.string.isRequired,pathExist:d.default.bool.isRequired,isViewFile:d.default.bool.isRequired,isDataLoading:d.default.bool.isRequired,content:d.default.string,permission:d.default.string,lastModified:d.default.string,latestContributor:d.default.string,direntList:d.default.array.isRequired,onMenuClick:d.default.func.isRequired,onSearchedClick:d.default.func.isRequired,onMainNavBarClick:d.default.func.isRequired,onDirentClick:d.default.func.isRequired,onLinkClick:d.default.func.isRequired},M=function(e){function t(){var e,n,i,r;o(this,t);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return n=i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.onMenuClick=function(){i.props.onMenuClick()},i.onEditClick=function(e){e.preventDefault();var t=Y.siteRoot+"lib/"+Y.repoID+"/file"+i.props.path+"?mode=edit";window.open(t)},i.onMainNavBarClick=function(e){var t=D.Utils.getEventData(e,"path");i.props.onMainNavBarClick(t)},i.renderNavPath=function(){var e=i.props.path.split("/"),t="";return e.map(function(n,o){if(""!==n)return o===e.length-1?u.default.createElement("span",{key:o},u.default.createElement("span",{className:"path-split"},"/"),n):(t+="/"+n,u.default.createElement(l.Fragment,{key:o},u.default.createElement("span",{className:"path-split"},"/"),u.default.createElement("a",{className:"path-link","data-path":t,onClick:i.onMainNavBarClick},n)))})},r=n,a(i,r)}return r(t,e),s(t,[{key:"render",value:function(){var e=u.default.createElement("div",{className:"message err-tip"},(0,Y.gettext)("Folder does not exist."));return u.default.createElement("div",{className:"main-panel wiki-main-panel o-hidden"},u.default.createElement("div",{className:"main-panel-north panel-top border-left-show"},!Y.username&&u.default.createElement(l.Fragment,null,u.default.createElement("div",{className:"cur-view-toolbar"},u.default.createElement("span",{className:"sf2-icon-menu hidden-md-up d-md-none side-nav-toggle",title:"Side Nav Menu",onClick:this.onMenuClick})),u.default.createElement("div",{className:"common-toolbar"},u.default.createElement(g.default,{isPublic:!0,repoID:Y.repoID,onSearchedClick:this.props.onSearchedClick,placeholder:(0,Y.gettext)("Search files in this library")}))),Y.username&&u.default.createElement(l.Fragment,null,u.default.createElement("div",{className:"cur-view-toolbar"},u.default.createElement("span",{className:"sf2-icon-menu hidden-md-up d-md-none side-nav-toggle",title:"Side Nav Menu",onClick:this.onMenuClick}),u.default.createElement(p.default,{query:"(min-width: 768px)"},"rw"===this.props.permission&&u.default.createElement("button",{className:"btn btn-secondary operation-item",title:"Edit",onClick:this.onEditClick},(0,Y.gettext)("Edit"))),u.default.createElement(p.default,{query:"(max-width: 767.8px)"},"rw"===this.props.permission&&u.default.createElement("button",{className:"btn btn-secondary operation-item my-1",title:"Edit",onClick:this.onEditClick},(0,Y.gettext)("Edit")))),u.default.createElement(L.default,{repoID:Y.repoID,onSearchedClick:this.props.onSearchedClick,searchPlaceholder:(0,Y.gettext)("Search files in this library")}))),u.default.createElement("div",{className:"main-panel-center"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"path-container"},u.default.createElement("a",{href:Y.siteRoot+"published/"+Y.slug,className:"normal"},Y.slug),this.renderNavPath())),u.default.createElement("div",{className:"cur-view-content"},!this.props.pathExist&&e,this.props.pathExist&&this.props.isDataLoading&&u.default.createElement(J.default,null),this.props.pathExist&&!this.props.isDataLoading&&this.props.isViewFile&&u.default.createElement(S.default,{markdownContent:this.props.content,isFileLoading:this.props.isDataLoading,lastModified:this.props.lastModified,latestContributor:this.props.latestContributor,onLinkClick:this.props.onLinkClick,isWiki:!0,path:this.props.path}),!this.props.isDataLoading&&!this.props.isViewFile&&u.default.createElement(m.default,{path:this.props.path,direntList:this.props.direntList,onDirentClick:this.props.onDirentClick}))))}}]),t}(l.Component);M.propTypes=P,t.default=M},2035:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(2),p=n(2036),Y=i(p),Z={path:d.default.string.isRequired,direntList:d.default.array.isRequired,onDirentClick:d.default.func.isRequired},L=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),s(t,[{key:"render",value:function(){var e=this;return u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{style:{width:"4%"}}),u.default.createElement("th",{style:{width:"66%"}},(0,f.gettext)("Name")),u.default.createElement("th",{style:{width:"15%"}},(0,f.gettext)("Size")),u.default.createElement("th",{style:{width:"15%"}},(0,f.gettext)("Last Update")))),u.default.createElement("tbody",null,0!==this.props.direntList.length&&this.props.direntList.map(function(t,n){return u.default.createElement(Y.default,{key:n,path:e.props.path,dirent:t,onDirentClick:e.props.onDirentClick})})))}}]),t}(u.default.Component);L.propTypes=Z,t.default=L},2036:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(2),p=n(3),Y={path:d.default.string.isRequired,dirent:d.default.object.isRequired,onDirentClick:d.default.func.isRequired},Z=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({highlight:!0})},n.onMouseLeave=function(){n.setState({highlight:!1})},n.onContextMenu=function(e){e.preventDefault(),e.stopPropagation()},n.onDirentClick=function(e){e.preventDefault(),n.props.onDirentClick(n.props.dirent)},n.state={highlight:!1},n}return r(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.dirent,i=f.siteRoot+"published"+p.Utils.joinPath(t,n.name),o=p.Utils.getDirentIcon(n);return u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onContextMenu:this.onContextMenu},u.default.createElement("td",{className:"text-center"},u.default.createElement("img",{src:o,width:"24",alt:""})),u.default.createElement("td",{className:"name"},u.default.createElement("a",{href:i,onClick:this.onDirentClick},n.name)),u.default.createElement("td",null,n.size),u.default.createElement("td",{title:n.mtime_relative},n.mtime_relative))}}]),t}(u.default.Component);Z.propTypes=Y,t.default=Z},21:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=n(0),f=i(d),p=n(11),Y=n(1),Z=i(Y),L=n(22),h=i(L),S=(0,p.css)({maxWidth:560,margin:"0 auto",top:0,left:0,right:0,position:"fixed",zIndex:999999}),C=function(e){return Object.hasOwnProperty.call(e,"id")},m=function(e){function t(e,n){r(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.getToasts=function(){return i.state.toasts},i.closeAll=function(){i.getToasts().forEach(function(e){return e.close()})},i.notify=function(e,t){if(C(t)){var n=!0,o=!1,r=void 0;try{for(var s,l=i.state.toasts[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;String(u.id).startsWith(t.id)&&i.closeToast(u.id)}}catch(e){o=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw r}}}var c=i.createToastInstance(e,t);return i.setState(function(e){return{toasts:[c].concat(a(e.toasts))}}),c},i.createToastInstance=function(e,n){var o=++t.idCounter,a=C(n)?n.id+"-"+o:o;return{id:a,title:e,description:n.description,hasCloseButton:n.hasCloseButton||!0,duration:n.duration||2,close:function(){return i.closeToast(a)},intent:n.intent}},i.closeToast=function(e){i.setState(function(t){return{toasts:t.toasts.map(function(t){return t.id===e?u({},t,{isShown:!1}):t})}})},i.removeToast=function(e){i.setState(function(t){return{toasts:t.toasts.filter(function(t){return t.id!==e})}})},e.bindNotify(i.notify),e.bindGetToasts(i.getToasts),e.bindCloseAll(i.closeAll),i.state={toasts:[]},i}return l(t,e),c(t,[{key:"render",value:function(){var e=this;return f.default.createElement("span",{className:S},this.state.toasts.map(function(t){var n=t.id,i=t.description,a=o(t,["id","description"]);return f.default.createElement(h.default,u({key:n,onRemove:function(){return e.removeToast(n)}},a),i)}))}}]),t}(f.default.PureComponent);m.propTypes={bindNotify:Z.default.func.isRequired,bindGetToasts:Z.default.func.isRequired,bindCloseAll:Z.default.func.isRequired},m.idCounter=0,t.default=m},22:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(11),d=n(1),f=i(d),p=n(40),Y=i(p),Z=n(23),L=i(Z),h={deceleration:"cubic-bezier(0.0, 0.0, 0.2, 1)",acceleration:"cubic-bezier(0.4, 0.0, 1, 1)",spring:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},S=c.css.keyframes("openAnimation",{from:{opacity:0,transform:"translateY(-120%)"},to:{transform:"translateY(0)"}}),C=c.css.keyframes("closeAnimation",{from:{transform:"scale(1)",opacity:1},to:{transform:"scale(0.9)",opacity:0}}),m=(0,c.css)({display:"flex",flexDirection:"column",alignItems:"center",height:0,transition:"all 240ms "+h.deceleration,'&[data-state="entering"], &[data-state="entered"]':{animation:S+" 240ms "+h.spring+" both"},'&[data-state="exiting"]':{animation:C+" 120ms "+h.acceleration+" both"}}),X=function(e){function t(){var e,n,i,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.state={isShown:!0,height:0},i.close=function(){i.clearCloseTimer(),i.setState({isShown:!1})},i.startCloseTimer=function(){i.props.duration&&(i.closeTimer=setTimeout(function(){i.close()},1e3*i.props.duration))},i.clearCloseTimer=function(){i.closeTimer&&(clearTimeout(i.closeTimer),i.closeTimer=null)},i.handleMouseEnter=function(){i.clearCloseTimer()},i.handleMouseLeave=function(){i.startCloseTimer()},i.onRef=function(e){if(null!==e){var t=e.getBoundingClientRect(),n=t.height;i.setState({height:n})}},r=n,a(i,r)}return r(t,e),s(t,[{key:"componentDidUpdate",value:function(e){e.isShown!==this.props.isShown&&this.setState({isShown:this.props.isShown})}},{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"render",value:function(){var e=this;return u.default.createElement(Y.default,{appear:!0,unmountOnExit:!0,timeout:240,in:this.state.isShown,onExited:this.props.onRemove},function(t){return u.default.createElement("div",{"data-state":t,className:m,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,style:{height:e.state.height,zIndex:e.props.zIndex,marginBottom:e.state.isShown?0:-e.state.height}},u.default.createElement("div",{ref:e.onRef,style:{padding:8}},u.default.createElement(L.default,{intent:e.props.intent,title:e.props.title,children:e.props.children,isRemoveable:e.props.hasCloseButton,onRemove:function(){return e.close()}})))})}}]),t}(u.default.PureComponent);X.propTypes={zIndex:f.default.number,duration:f.default.number,onRemove:f.default.func,intent:f.default.oneOf(["none","success","warning","danger"]).isRequired,title:f.default.node,children:f.default.node,hasCloseButton:f.default.bool,isShown:f.default.bool},X.defaultProps={intent:"none"},t.default=X},23:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(11),d=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.containerStyle=(0,c.css)({borderRadius:"3px",backgroundColor:"#fff",padding:"10px 16px",display:"flex",boxSizing:"border-box",boxShadow:"rgba(67, 90, 111, 0.3) 0px 0px 1px, rgba(67, 90, 111, 0.47) 0px 8px 10px -4px",justifyContent:"space-between",flexDirection:"row"}),n.containerBorderSuccess=(0,c.css)({borderLeft:"3px solid rgb(71, 184, 129)"}),n.containerBorderWarn=(0,c.css)({borderLeft:"3px solid rgb(217, 130, 43)"}),n.containerBorderDanger=(0,c.css)({borderLeft:"3px solid rgb(236, 76, 71)"}),n.containerBorderNotify=(0,c.css)({borderLeft:"3px solid rgb(16, 112, 202)"}),n.toastTextTitle=(0,c.css)({fontWeight:"600",fontSize:"14px",color:"#435a6f",margin:"0"}),n.toastTextChild=(0,c.css)({fontSize:"14px",color:"#999",margin:"0"}),n.toastClose=(0,c.css)({marginLeft:"15px",height:"24px",width:"24px",lineHeight:"22px",fontWeight:"700",textAlign:"center",fontSize:"20px",color:"#000",cursor:"pointer",opacity:"0.5",":hover":{opacity:1}}),n.toastIcon=(0,c.css)({marginRight:"10px",width:"14px",height:"20px",lineHeight:"20px"}),n}return a(t,e),s(t,[{key:"getContainerStyle",value:function(e){switch(e){case"success":return{borderStyle:this.containerBorderSuccess,iconColor:(0,c.css)({color:"rgb(71, 184, 129)"}),iconClass:"fa fa-check-circle"};case"warning":return{borderStyle:this.containerBorderWarn,iconColor:(0,c.css)({color:"rgb(217, 130, 43)"}),iconClass:"fa fa-exclamation-triangle"};case"none":return{borderStyle:this.containerBorderNotify,iconColor:(0,c.css)({color:"rgb(16, 112, 202)"}),iconClass:"fa fa-exclamation-circle"};case"danger":return{borderStyle:this.containerBorderDanger,iconColor:(0,c.css)({color:"rgb(236, 76, 71)"}),iconClass:"fa fa-exclamation-circle"}}}},{key:"render",value:function(){var e=this.getContainerStyle(this.props.intent);return u.default.createElement("div",(0,c.css)(e.borderStyle,this.containerStyle),u.default.createElement("div",{className:this.toastIcon},u.default.createElement("i",r({className:e.iconClass},e.iconColor))),u.default.createElement("div",{className:this.toastTextContainer},u.default.createElement("p",{className:this.toastTextTitle},this.props.title),this.props.children?u.default.createElement("p",{className:this.toastTextChild},this.props.children):null),u.default.createElement("div",{onClick:this.props.onRemove,className:this.toastClose},u.default.createElement("span",null,"\xd7")))}}]),t}(u.default.PureComponent);t.default=d},240:function(e,t,n){"use strict";function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return"function"===typeof e&&e.apply(void 0,n)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(){return Math.random().toString(36).substring(7)}Object.defineProperty(t,"__esModule",{value:!0}),t.callIfExists=i,t.hasOwnProp=o,t.uniqueId=a;t.store={},t.canUseDOM=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement)},27:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t){var n=t.path,o=t.object,a=t.isLoaded,r=t.isPreload,s=t.isExpanded,l=t.parentNode;i(this,e),this.path=n||o.name,this.object=o,this.isLoaded=a||!1,this.isPreload=r||!1,this.isExpanded=s||!1,this.children=[],this.parentNode=l||null}return o(e,[{key:"clone",value:function(t){var n=new e({path:this.path,object:this.object.clone(),isLoaded:this.isLoaded,isPreload:this.isPreload,isExpanded:this.isExpanded,parentNode:t||null});return n.children=this.children.map(function(e){return e.clone(n)}),n}},{key:"setParent",value:function(e){this.path=this.generatePath(e),this.parentNode=e,this.isLoaded=!1}},{key:"hasChildren",value:function(){return 0!==this.children.length}},{key:"addChild",value:function(e){e.setParent(this);var t=this.children;if(e.object.isDir())this.children.unshift(e);else{for(var n=-1,i=0;i<t.length;i++)if(!t[i].object.isDir()){n=i;break}-1===n?this.children.push(e):0===n?this.children.unshift(e):this.children.splice(n,0,e)}}},{key:"addChildren",value:function(e){var t=this;e.forEach(function(e){e.setParent(t)}),this.children=e}},{key:"deleteChild",value:function(e){var t=this.children.filter(function(t){return t!==e});this.children=t}},{key:"rename",value:function(e){this.object.name=e,this.path=this.generatePath(this.parentNode),this.isExpanded?this.updateChildrenPath(this):this.isLoaded=!1}},{key:"updateChildrenPath",value:function(e){e.children.forEach(function(e){e.path=e.generatePath(e.parentNode),e.isExpanded?e.updateChildrenPath(e):e.isLoaded=!1})}},{key:"updateObjectProperties",value:function(e,t){var n=this;Array.isArray(e)&&Array.isArray(t)?e.forEach(function(e,i){n.object[e]=t[i]}):this.object[e]=t}},{key:"generatePath",value:function(e){return"/"===e.path?e.path+this.object.name:e.path+"/"+this.object.name}},{key:"serializeToJson",value:function(){var e=[];return this.hasChildren&&(e=this.children.map(function(e){return e.serializeToJson()})),{path:this.path,object:this.object.clone(),isLoaded:this.isLoaded,isPreload:this.isPreload,isExpanded:this.isExpanded,parentNode:this.parentNode,children:e}}}],[{key:"deserializefromJson",value:function(t){var n=t.path,i=t.object,o=t.isLoaded,a=t.isPreload,r=t.isExpanded,s=t.parentNode,l=t.children,u=void 0===l?[]:l;return i=i.clone(),new e({path:n,object:i,isLoaded:o,isPreload:a,isExpanded:r,parentNode:s,children:u.map(function(t){return e.deserializefromJson(t)})})}}]),e}();t.default=a},272:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(319),p=i(f),Y=n(6),Z=n(2),L=n(3),h={tagName:d.default.string,item:d.default.object.isRequired,toggleClass:d.default.string,isHandleContextMenuEvent:d.default.bool,getMenuList:d.default.func.isRequired,onMenuItemClick:d.default.func.isRequired,freezeItem:d.default.func,unfreezeItem:d.default.func},S=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onShowMenu=function(){},n.onHideMenu=function(){n.state.isItemMenuShow&&(n.setState({isItemMenuShow:!1}),"function"===typeof n.props.unfreezeItem&&n.props.unfreezeItem())},n.onDropdownToggleClick=function(e){e.preventDefault(),e.stopPropagation(),n.toggleOperationMenu()},n.toggleOperationMenu=function(){n.setState({isItemMenuShow:!n.state.isItemMenuShow},function(){n.state.isItemMenuShow&&"function"===typeof n.props.freezeItem?n.props.freezeItem():n.state.isItemMenuShow||"function"!==typeof n.props.unfreezeItem||n.props.unfreezeItem()})},n.onMenuItemClick=function(e){var t=L.Utils.getEventData(e,"toggle"),i=n.props.item;n.props.onMenuItemClick(t,e,i)},n.state={menuList:[],isItemMenuShow:!1},n}return r(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.isHandleContextMenuEvent&&(this.listenerId=p.default.register(this.onShowMenu,this.onHideMenu));var e=this.props.item,t=this.props.getMenuList(e);this.setState({menuList:t})}},{key:"componentWillReceiveProps",value:function(e){var t=e.item;if(t.name!==this.props.item.name){var n=this.props.getMenuList(t);this.setState({menuList:n})}}},{key:"componentWillUnmount",value:function(){this.props.isHandleContextMenuEvent&&this.listenerId&&p.default.unregister(this.listenerId)}},{key:"render",value:function(){var e=this,t=this.state.menuList,n=this.props,i=n.toggleClass,o=n.tagName;return i="sf-dropdown-toggle "+i,t.length?o&&"button"===o?u.default.createElement(Y.ButtonDropdown,{isOpen:this.state.isItemMenuShow,toggle:this.onDropdownToggleClick,title:(0,Z.gettext)("More Operations")},u.default.createElement(Y.DropdownToggle,{className:i,"data-toggle":"dropdown",title:(0,Z.gettext)("More Operations"),"aria-expanded":this.state.isItemMenuShow}),u.default.createElement(Y.DropdownMenu,null,t.map(function(t,n){return"Divider"===t?u.default.createElement(Y.DropdownItem,{key:n,divider:!0}):u.default.createElement(Y.DropdownItem,{key:n,"data-toggle":t.key,onClick:e.onMenuItemClick},t.value)}))):u.default.createElement(Y.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.onDropdownToggleClick},u.default.createElement(Y.DropdownToggle,{tag:o||"i",className:i,title:(0,Z.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow}),u.default.createElement(Y.DropdownMenu,null,t.map(function(t,n){return"Divider"===t?u.default.createElement(Y.DropdownItem,{key:n,divider:!0}):u.default.createElement(Y.DropdownItem,{key:n,"data-toggle":t.key,onClick:e.onMenuItemClick},t.value)}))):""}}]),t}(u.default.Component);S.defaultProps={isHandleContextMenuEvent:!0,toggleClass:"sf2-icon-caret-down"},S.propTypes=h,t.default=S},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var i=n(2),o=n(18),a=t.Utils={keyCodes:{esc:27,space:32,tab:9,up:38,down:40},bytesToSize:function(e){if("undefined"==typeof e)return" ";if(e<0)return"--";var t=["bytes","KB","MB","GB","TB","PB"];if(0===e)return e+" "+t[0];var n=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return 0===n?e+" "+t[n]:(e/Math.pow(1e3,n)).toFixed(1)+" "+t[n]},isHiDPI:function(){return(window.devicePixelRatio?window.devicePixelRatio:1)>1},FILEEXT_ICON_MAP:{md:"txt.png",txt:"txt.png",pdf:"pdf.png",doc:"word.png",docx:"word.png",odt:"word.png",fodt:"word.png",ppt:"ppt.png",pptx:"ppt.png",odp:"ppt.png",fodp:"ppt.png",xls:"excel.png",xlsx:"excel.png",ods:"excel.png",fods:"excel.png",mp4:"video.png",ogv:"video.png",webm:"video.png",mov:"video.png",flv:"video.png",wmv:"video.png",rmvb:"video.png",mp3:"music.png",oga:"music.png",ogg:"music.png",flac:"music.png",aac:"music.png",ac3:"music.png",wma:"music.png",jpg:"pic.png",jpeg:"pic.png",png:"pic.png",svg:"pic.png",gif:"pic.png",bmp:"pic.png",ico:"pic.png",default:"file.png"},imageCheck:function(e){return-1!=e.lastIndexOf(".")&&-1!=["gif","jpeg","jpg","png","ico","bmp"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},isOfficeFile:function(e){return-1!=e.lastIndexOf(".")&&-1!=["doc","ppt","xls","docx","pptx","xlsx"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},videoCheck:function(e){return-1!=e.lastIndexOf(".")&&-1!=["mp4","ogv","webm","mov"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},encodePath:function(e){if(!e)return"";for(var t=e.split("/"),n=[],i=0,o=t.length;i<o;i++)n.push(encodeURIComponent(t[i]));return n.join("/")},HTMLescape:function(e){return document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML},generateDialogTitle:function(e,t){var n=this.HTMLescape(t),i='<span class="op-target ellipsis ellipsis-op-target" title='+n+">"+n+"</span>";return e.replace("{placeholder}",i)},getFileName:function(e){var t=e.lastIndexOf("/");return e.slice(t+1)},getPaths:function(e){for(var t=e.split("/").slice(1),n=[];t.length;)n.push("/"+t.join("/")),t.pop();return n.reverse()},getFolderName:function(e){return"/"===e?e:(e="/"!==e[e.length-1]?e:e.slice(0,e.length-2),e.slice(e.lastIndexOf("/")+1))},getDirName:function(e){var t=e.slice(0,e.lastIndexOf("/"));return""===t?"/":t},isChildPath:function(e,t){return this.getDirName(e)===t},isAncestorPath:function(e,t){return t.indexOf(e)>-1},renameAncestorPath:function(e,t,n){return e.replace(t,n)},joinPath:function(e,t){return"/"===e[e.length-1]?e+t:e+"/"+t},isSupportUploadFolder:function(){return-1!=navigator.userAgent.indexOf("Firefox")||navigator.userAgent.indexOf("Chrome")>-1||navigator.userAgent.indexOf("Safari")>-1},isIEBrower:function(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,n=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;return t||n},getDefaultLibIconUrl:function(e){var t=a.isHiDPI()?48:24;t=e?256:t;return i.mediaUrl+"img/lib/"+t+"/lib.png"},getLibIconUrl:function(e,t){var n=e.permission||e.share_permission,o=a.isHiDPI()?48:24;o=t?256:o;var r="lib.png";switch(e.encrypted&&(r="lib-encrypted.png"),n){case"r":r="lib-readonly.png";break;case"preview":r="lib-cloud-preview.png";break;case"cloud-edit":r="lib-cloud-preview-edit.png"}return"read-only"==e.status&&(r="lib-readonly.png"),i.mediaUrl+"img/lib/"+o+"/"+r},getDirentIcon:function(e,t){var n=this.isHiDPI()?48:24;if(n=t?192:n,e.isDir()){var i=!1;return!e.permission||"r"!==e.permission&&"preview"!==e.permission||(i=!0),this.getFolderIconUrl(i,n)}return this.getFileIconUrl(e.name,n)},getFolderIconUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];return t||(t=a.isHiDPI()?48:24),t=t>24?192:24,i.mediaUrl+"img/folder"+(e?"-read-only-":"-")+t+".png"},getFileIconUrl:function(e,t){t||(t=a.isHiDPI()?48:24),t=t>24?192:24;var n="";return-1==e.lastIndexOf(".")?i.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP.default:(n=e.substr(e.lastIndexOf(".")+1).toLowerCase(),this.FILEEXT_ICON_MAP[n]?i.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP[n]:i.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP.default)},getLibIconTitle:function(e){var t,n=e.permission||e.share_permission;if(e.encrypted)t=(0,i.gettext)("Encrypted library");else if(e.is_admin)t=(0,i.gettext)("Admin access");else switch(n){case"rw":t=(0,i.gettext)("Read-Write library");break;case"r":t=(0,i.gettext)("Read-Only library");break;case"cloud-edit":t=(0,i.gettext)("Online Read-Write library");break;case"preview":t=(0,i.gettext)("Online Read-Only library")}return t},getFolderIconTitle:function(e){var t;switch(e.permission){case"rw":t=(0,i.gettext)("Read-Write folder");break;case"r":t=(0,i.gettext)("Read-Only folder");break;case"cloud-edit":t=(0,i.gettext)("Online Read-Write folder");break;case"preview":t=(0,i.gettext)("Online Read-Only folder")}return t},sharePerms:function(e){var t;switch(e){case"rw":t=(0,i.gettext)("Read-Write");break;case"r":t=(0,i.gettext)("Read-Only");break;case"admin":t=(0,i.gettext)("Admin");break;case"cloud-edit":t=(0,i.gettext)("Online Read-Write");break;case"preview":t=(0,i.gettext)("Online Read-Only")}return t},sharePermsExplanation:function(e){var t;switch(e){case"rw":t=(0,i.gettext)("User can read, write, upload, download and sync files.");break;case"r":t=(0,i.gettext)("User can read, download and sync files.");break;case"admin":t=(0,i.gettext)("Besides Write permission, user can also share the library.");break;case"cloud-edit":t=(0,i.gettext)("User can view and edit file online via browser. Files can't be downloaded.");break;case"preview":t=(0,i.gettext)("User can only view files online via browser. Files can't be downloaded.")}return t},formatSize:function(e){var t=e.bytes,n=e.precision||0;return t>=0&&t<1e3?t+" B":t>=1e3&&t<1e6?(t/1e3).toFixed(n)+" KB":t>=1e6&&t<1e9?(t/1e6).toFixed(n)+" MB":t>=1e9&&t<1e12?(t/1e9).toFixed(n)+" GB":t>=1e12?(t/1e12).toFixed(n)+" TB":t+" B"},formatBitRate:function(e){var t;return"number"!==typeof e?"":(t=e/8,t>=1e9?(t/1e9).toFixed(2)+" GB/s":t>=1e6?(t/1e6).toFixed(2)+" MB/s":t>=1e3?(t/1e3).toFixed(2)+" kB/s":t.toFixed(2)+" B/s")},isMarkdownFile:function(e){var t=e.lastIndexOf(".");if(-1===t)return!1;var n=e.substring(t).toLowerCase();return".md"===n||".markdown"===n},isInternalMarkdownLink:function(e,t){return new RegExp(i.serviceURL+"/lib/"+t+".*.md$").test(e)},isInternalDirLink:function(e,t){return new RegExp(i.serviceURL+"/library/"+t+".*").test(e)},getPathFromInternalMarkdownLink:function(e,t){var n=new RegExp(i.serviceURL+"/lib/"+t+"/file(.*.md)"),o=n.exec(e);return decodeURIComponent(o[1])},getPathFromInternalDirLink:function(e,t){var n=new RegExp(i.serviceURL+"/library/"+t+"(/.*)"),o=n.exec(e),a=decodeURIComponent(o[1]);return a=a.slice(1),a=a.slice(a.indexOf("/"))},isWikiInternalMarkdownLink:function(e,t){return t=encodeURIComponent(t),new RegExp(i.serviceURL+"/published/"+t+".*.md$").test(e)},isWikiInternalDirLink:function(e,t){return t=encodeURIComponent(t),new RegExp(i.serviceURL+"/published/"+t+".*").test(e)},getPathFromWikiInternalMarkdownLink:function(e,t){t=encodeURIComponent(t);var n=new RegExp(i.serviceURL+"/published/"+t+"(.*.md)"),o=n.exec(e),a=o[1];try{a=decodeURIComponent(a)}catch(e){a=a.replace(/%/g,"%25"),a=decodeURIComponent(a)}return a},getPathFromWikiInternalDirLink:function(e,t){t=encodeURIComponent(t);var n=new RegExp(i.serviceURL+"/published/"+t+"(/.*)"),o=n.exec(e),a=o[1];try{a=decodeURIComponent(a)}catch(e){a=a.replace(/%/g,"%25"),a=decodeURIComponent(a)}return a},compareTwoWord:function(e,t){var n,i,a=e.charCodeAt(0),r=t.charCodeAt(0);return 19968<a&&a<40869&&19968<r&&r<40869?(n=o.strChineseFirstPY.charAt(a-19968).toLowerCase(),i=o.strChineseFirstPY.charAt(r-19968).toLowerCase(),n>=i?1:-1):19968<a&&a<40869&&!(19968<r&&r<40869)?1:!(19968<a&&a<40869)&&19968<r&&r<40869?-1:(n=e.toLowerCase(),i=t.toLowerCase(),this.compareStrWithNumbersIn(n,i))},compareStrWithNumbersIn:function(e,t){var n,i,o,a=/\d+|\D+/g,r=/\d/,s=e.match(a),l=t.match(a),u=Math.min(s.length,l.length);if(s&&l&&(n=r.test(s[0]))==r.test(l[0]))for(var c=0;c<u;c++){if(i=s[c],o=l[c],n&&(i=parseInt(i,10),o=parseInt(o,10)),i!=o)return i<o?-1:1;n=!n}return(e>=t)-(e<=t)},sortRepos:function(e,t,n){var i=this,o=void 0;switch(t+"-"+n){case"name-asc":o=function(e,t){return e.repo_name?t.repo_name?i.compareTwoWord(e.repo_name,t.repo_name):-1:1};break;case"name-desc":o=function(e,t){return e.repo_name?t.repo_name?-i.compareTwoWord(e.repo_name,t.repo_name):1:-1};break;case"time-asc":o=function(e,t){return e.last_modified<t.last_modified?-1:1};break;case"time-desc":o=function(e,t){return e.last_modified<t.last_modified?1:-1};break;case"size-asc":o=function(e,t){if(e.size===t.size){return i.compareTwoWord(e.repo_name,t.repo_name)}return e.size_original<t.size_original?-1:1};break;case"size-desc":o=function(e,t){if(e.size===t.size){return-i.compareTwoWord(e.repo_name,t.repo_name)}return e.size_original<t.size_original?1:-1}}return e.sort(o),e},sortDirents:function(e,t,n){var i=this,o=void 0;switch(t+"-"+n){case"name-asc":o=function(e,t){return i.compareTwoWord(e.name,t.name)};break;case"name-desc":o=function(e,t){return-i.compareTwoWord(e.name,t.name)};break;case"time-asc":o=function(e,t){return e.mtime<t.mtime?-1:1};break;case"time-desc":o=function(e,t){return e.mtime<t.mtime?1:-1};break;case"size-asc":o=function(e,t){if("dir"==e.type&&"dir"==t.type){return i.compareTwoWord(e.name,t.name)}return e.size_original<t.size_original?-1:1};break;case"size-desc":o=function(e,t){if("dir"==e.type&&"dir"==t.type){return-i.compareTwoWord(e.name,t.name)}return e.size_original<t.size_original?1:-1}}return e.sort(function(e,t){return"dir"==e.type&&"file"==t.type?-1:"file"==e.type&&"dir"==t.type?1:o(e,t)}),e},getErrorMsg:function(e){return e.response?e.response.data&&e.response.data.error_msg?e.response.data.error_msg:(0,i.gettext)("Error"):(0,i.gettext)("Please check the network.")},changeMarkdownNodes:function(e,t){return e.map(function(e){t(e),e.nodes&&e.nodes.length>0&&a.changeMarkdownNodes(e.nodes,t)}),e},chooseLanguage:function(e){var t=void 0;switch(e){case"py":t="python";break;case"js":t="javascript";break;case"c":t="text/x-csrc";break;case"cpp":t="text/x-c++src";break;case"java":t="text/x-java";break;case"cs":t="text/x-csharp";break;case"mdf":t="text/x-sql";break;case"html":t="htmlmixed";break;default:t=e}return t},DARK_COLOR_MAP:{red:"#D11507",orange:"#FF8C00",yellow:"#EDEF00",green:"#006400",cyan:"#00E0E1",blue:"#2510A3",indigo:"#350C56",purple:"#551054",pink:"#E3A5B0",azure:"#C4D0D0",lime:"#00E100",teal:"#006A6B",gray:"#545454","#FFA8A8":"#E49090","#FFA94D":"#E39136","#FFD43B":"#E0B815","#A0EC50":"#83CF32","#A9E34B":"#8DC72E","#63E6BE":"#43CAA4","#4FD2C9":"#2DB9B0","#72C3FC":"#57ABE3","#91A7FF":"#7A91E7","#E599F7":"#CC82DE","#B197FC":"#9B82E5","#F783AC":"#DF6D97","#CED4DA":"#A8ADB2"},getDarkColor:function(e){return this.DARK_COLOR_MAP[e]},getCopySuccessfulMessage:function(e){var t=void 0,n=e.length;return 1===n?t=(0,i.gettext)("Successfully copied %(name)s."):2===n?t=(0,i.gettext)("Successfully copied %(name)s and 1 other item."):(t=(0,i.gettext)("Successfully copied %(name)s and %(amount)s other items."),t=t.replace("%(amount)s",n-1)),t=t.replace("%(name)s",e[0])},getMoveSuccessMessage:function(e){var t=void 0,n=e.length;return 1===n?t=(0,i.gettext)("Successfully moved %(name)s."):2===n?t=(0,i.gettext)("Successfully moved %(name)s and 1 other item."):(t=(0,i.gettext)("Successfully moved %(name)s and %(amount)s other items."),t=t.replace("%(amount)s",n-1)),t=t.replace("%(name)s",e[0])},getCopyFailedMessage:function(e){var t=void 0,n=e.length;return n>1?(t=(0,i.gettext)("Failed to copy %(name)s and %(amount)s other item(s)."),t=t.replace("%(amount)s",n-1)):t=(0,i.gettext)("Failed to copy %(name)s."),t=t.replace("%(name)s",e[0])},getMoveFailedMessage:function(e){var t=void 0,n=e.length;return n>1?(t=(0,i.gettext)("Failed to move %(name)s and %(amount)s other item(s)."),t=t.replace("%(amount)s",n-1)):t=(0,i.gettext)("Failed to move %(name)s."),t=t.replace("%(name)s",e[0])},handleSearchedItemClick:function(e){if(!0===e.is_dir){var t=i.siteRoot+"library/"+e.repo_id+"/"+e.repo_name+e.path;window.open("about:blank").location.href=t}else{var n=i.siteRoot+"lib/"+e.repo_id+"/file"+a.encodePath(e.path);window.open("about:blank").location.href=n}},generatePassword:function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz0123456789",n="",i=0;i<e;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},pathNormalize:function(e){for(var t=e.split("/"),n=[],i=0;i<t.length;i++)"."!==t[i]&&""!==t[i]&&(".."===t[i]?n.pop():n.push(t[i]));return n.join("/")},getEventData:function(e,t){return e.target.dataset?e.target.dataset[t]:e.target.getAttribute("data-"+t)},isHasPermissionToShare:function(e,t,n){var o=e.is_admin,a=e.is_virtual,r=e.encrypted,s=e.owner_email,l=s===i.username;if(r)return!1;if(n&&"file"===n.type){var u=!1;return!i.canGenerateShareLink||"rw"!=t&&"r"!=t||(u=!0),u}if(i.canGenerateShareLink&&("rw"==t||"r"==t))return!0;if(i.canGenerateUploadLink&&"rw"==t)return!0;return!(a||!l&&!o)&&!0}}},31:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(9),s=i(r),l=n(3),u=n(55),c=i(u),d=function(){function e(t){if(o(this,e),this.id=t.id||"0000000000000000",this.name=t.name,this.type=t.type,this.mtime=t.mtime,this.mtime_relative=s.default.unix(t.mtime).fromNow(),this.permission=t.permission||"rw",this.isSelected=!1,this.starred=t.starred||!1,"file"===t.type){this.size_original=t.size,this.size=l.Utils.bytesToSize(t.size),this.is_locked=t.is_locked||!1,this.lock_time=t.lock_time||"",this.lock_owner=t.lock_owner||null,this.lock_owner_name=t.lock_owner_name||null,this.locked_by_me=t.locked_by_me||!1,this.modifier_name=t.modifier_name||"",this.modifier_email=t.modifier_email||"",this.modifier_contact_email=t.modifier_contact_email||"";var n=[];t.file_tags&&(n=t.file_tags.map(function(e){return new c.default(e)})),this.file_tags=n,t.encoded_thumbnail_src&&(this.encoded_thumbnail_src=t.encoded_thumbnail_src)}}return a(e,[{key:"clone",value:function(){return new e(this)}},{key:"isDir",value:function(){return"file"!==this.type}}]),e}();t.default=d},319:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(177),a=n(240),r=function e(){var t=this;i(this,e),this.handleShowEvent=function(e){for(var n in t.callbacks)(0,a.hasOwnProp)(t.callbacks,n)&&t.callbacks[n].show(e)},this.handleHideEvent=function(e){for(var n in t.callbacks)(0,a.hasOwnProp)(t.callbacks,n)&&t.callbacks[n].hide(e)},this.register=function(e,n){var i=(0,a.uniqueId)();return t.callbacks[i]={show:e,hide:n},i},this.unregister=function(e){e&&t.callbacks[e]&&delete t.callbacks[e]},this.callbacks={},a.canUseDOM&&(window.addEventListener(o.MENU_SHOW,this.handleShowEvent),window.addEventListener(o.MENU_HIDE,this.handleHideEvent))};t.default=new r},32:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(8),p=i(f),Y=n(3),Z=n(4),L=n(2),h=n(5),S=i(h),C={isAdminPanel:d.default.bool},m=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getContainer=function(){return p.default.findDOMNode(n)},n.handleProps=function(){n.state.showInfo?n.addEvents():n.removeEvents()},n.addEvents=function(){["click","touchstart","keyup"].forEach(function(e){return document.addEventListener(e,n.handleDocumentClick,!0)})},n.removeEvents=function(){["click","touchstart","keyup"].forEach(function(e){return document.removeEventListener(e,n.handleDocumentClick,!0)})},n.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===Y.Utils.keyCodes.tab)){var t=n.getContainer();(!t.contains(e.target)||t===e.target||"keyup"===e.type&&e.which!==Y.Utils.keyCodes.tab)&&n.setState({showInfo:!n.state.showInfo})}},n.onClickAccount=function(){n.isFirstMounted?(Z.seafileAPI.getAccountInfo().then(function(e){n.setState({userName:e.data.name,contactEmail:e.data.email,usageRate:e.data.space_usage,quotaUsage:Y.Utils.bytesToSize(e.data.usage),quotaTotal:Y.Utils.bytesToSize(e.data.total),isStaff:e.data.is_staff,isOrgStaff:1===e.data.is_org_staff,showInfo:!n.state.showInfo})}).catch(function(e){var t=Y.Utils.getErrorMsg(e);S.default.danger(t)}),n.isFirstMounted=!1):n.setState({showInfo:!n.state.showInfo})},n.renderMenu=function(){return n.state.isStaff&&n.props.isAdminPanel?u.default.createElement("a",{href:L.siteRoot,title:(0,L.gettext)("Exit Admin Panel"),className:"item"},(0,L.gettext)("Exit Admin Panel")):n.state.isOrgStaff&&n.props.isAdminPanel?u.default.createElement("a",{href:L.siteRoot,title:(0,L.gettext)("Exit Organization Admin"),className:"item"},(0,L.gettext)("Exit Organization Admin")):n.state.isStaff?u.default.createElement("a",{href:L.siteRoot+"sys/useradmin/",title:(0,L.gettext)("System Admin"),className:"item"},(0,L.gettext)("System Admin")):n.state.isOrgStaff?u.default.createElement("a",{href:L.siteRoot+"org/useradmin/",title:(0,L.gettext)("Organization Admin"),className:"item"},(0,L.gettext)("Organization Admin")):void 0},n.renderAvatar=function(){return u.default.createElement("img",{src:L.appAvatarURL,width:"36",height:"36",className:"avatar",alt:(0,L.gettext)("Avatar")})},n.state={showInfo:!1,userName:"",contactEmail:"",quotaUsage:"",quotaTotal:"",isStaff:!1,isOrgStaff:!1,usageRate:""},n.isFirstMounted=!0,n}return r(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.handleProps()}},{key:"render",value:function(){return u.default.createElement("div",{id:"account"},u.default.createElement("a",{id:"my-info",onClick:this.onClickAccount,className:"account-toggle no-deco d-none d-md-block","aria-label":"View profile and more"},u.default.createElement("span",null,this.renderAvatar()),u.default.createElement("span",{className:"fas fa-caret-down vam"})),u.default.createElement("span",{className:"account-toggle sf2-icon-more mobile-icon d-md-none","aria-label":"View profile and more",onClick:this.onClickAccount}),u.default.createElement("div",{id:"user-info-popup",className:"account-popup sf-popover "+(this.state.showInfo?"":"hide")},u.default.createElement("div",{className:"outer-caret up-outer-caret"},u.default.createElement("div",{className:"inner-caret"})),u.default.createElement("div",{className:"sf-popover-con"},u.default.createElement("div",{className:"item o-hidden"},this.renderAvatar(),u.default.createElement("div",{className:"txt"},this.state.userName)),u.default.createElement("div",{id:"space-traffic"},u.default.createElement("div",{className:"item"},u.default.createElement("p",null,(0,L.gettext)("Used:")," ",this.state.quotaUsage," / ",this.state.quotaTotal),u.default.createElement("div",{id:"quota-bar"},u.default.createElement("span",{id:"quota-usage",className:"usage",style:{width:this.state.usageRate}})))),u.default.createElement("a",{href:L.siteRoot+"profile/",className:"item"},(0,L.gettext)("Settings")),this.renderMenu(),u.default.createElement("a",{href:L.siteRoot+"accounts/logout/",className:"item"},(0,L.gettext)("Log out")))))}}]),t}(l.Component);m.defaultProps={isAdminPanel:!1},m.propTypes=C,t.default=m},320:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(319),p=i(f),Y=n(177),Z=n(240),L=n(3),h={id:d.default.string.isRequired,rtl:d.default.bool,onMenuItemClick:d.default.func.isRequired,onShowMenu:d.default.func,onHideMenu:d.default.func},S=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.registerHandlers=function(){document.addEventListener("mousedown",n.handleOutsideClick),document.addEventListener("touchstart",n.handleOutsideClick),document.addEventListener("scroll",n.handleHide),document.addEventListener("contextmenu",n.handleHide),document.addEventListener("keydown",n.handleKeyNavigation),window.addEventListener("resize",n.handleHide)},n.unregisterHandlers=function(){document.removeEventListener("mousedown",n.handleOutsideClick),document.removeEventListener("touchstart",n.handleOutsideClick),document.removeEventListener("scroll",n.handleHide),document.removeEventListener("contextmenu",n.handleHide),document.removeEventListener("keydown",n.handleKeyNavigation),window.removeEventListener("resize",n.handleHide)},n.handleShow=function(e){if(e.detail.id===n.props.id&&!n.state.isVisible){var t=e.detail.position,i=t.x,o=t.y,a=e.detail,r=a.currentObject,s=a.menuList;n.setState({isVisible:!0,x:i,y:o,currentObject:r,menuList:s}),n.registerHandlers(),(0,Z.callIfExists)(n.props.onShowMenu,e)}},n.handleHide=function(e){!n.state.isVisible||e.detail&&e.detail.id&&e.detail.id!==n.props.id||(n.unregisterHandlers(),n.setState({isVisible:!1}),(0,Z.callIfExists)(n.props.onHideMenu,e))},n.handleOutsideClick=function(e){n.menu.contains(e.target)||(0,Y.hideMenu)()},n.handleMouseLeave=function(e){e.preventDefault(),n.props.hideOnLeave&&(0,Y.hideMenu)()},n.handleContextMenu=function(e){n.handleHide(e)},n.handleKeyNavigation=function(e){!1!==n.state.isVisible&&(e.preventDefault(),n.hideMenu(e))},n.hideMenu=function(e){27!==e.keyCode&&13!==e.keyCode||(0,Y.hideMenu)()},n.getMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i={top:t,left:e};if(!n.menu)return i;var o=window,a=o.innerWidth,r=o.innerHeight,s=n.menu.getBoundingClientRect();return t+s.height>r&&(i.top-=s.height),e+s.width>a&&(i.left-=s.width),i.top<0&&(i.top=s.height<r?(r-s.height)/2:0),i.left<0&&(i.left=s.width<a?(a-s.width)/2:0),i},n.getRTLMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i={top:t,left:e};if(!n.menu)return i;var o=window,a=o.innerWidth,r=o.innerHeight,s=n.menu.getBoundingClientRect();return i.left=e-s.width,t+s.height>r&&(i.top-=s.height),i.left<0&&(i.left+=s.width),i.top<0&&(i.top=s.height<r?(r-s.height)/2:0),i.left+s.width>a&&(i.left=s.width<a?(a-s.width)/2:0),i},n.onMenuItemClick=function(e){e.stopPropagation();var t=L.Utils.getEventData(e,"operation"),i=n.state.currentObject;n.props.onMenuItemClick(t,i,e)},n.state={x:0,y:0,isVisible:!1,currentObject:null,menuList:[]},n}return r(t,e),s(t,[{key:"componentDidMount",value:function(){this.listenId=p.default.register(this.handleShow,this.handleHide)}},{key:"componentDidUpdate",value:function(){var e=this;if(this.state.isVisible){var t=window.requestAnimationFrame||setTimeout;t(function(){var n=e.state,i=n.x,o=n.y,a=e.props.rtl?e.getRTLMenuPosition(i,o):e.getMenuPosition(i,o),r=a.top,s=a.left;t(function(){e.menu&&(e.menu.style.top=r+"px",e.menu.style.left=s+"px",e.menu.style.opacity=1,e.menu.style.pointerEvents="auto")})})}else{if(!this.menu)return;this.menu.style.opacity=0,this.menu.style.pointerEvents="none"}}},{key:"componentWillUnmount",value:function(){this.listenId&&p.default.unregister(this.listenId),this.unregisterHandlers()}},{key:"render",value:function(){var e=this,t={position:"fixed",opacity:0,pointerEvents:"none",display:"block"};return u.default.createElement("div",{role:"menu",className:"seafile-contextmenu dropdown-menu",style:t,ref:function(t){e.menu=t}},this.state.menuList.map(function(t,n){return"Divider"===t?u.default.createElement("div",{key:n,className:"seafile-divider dropdown-divider"}):u.default.createElement("button",{key:n,className:"seafile-contextmenu-item dropdown-item","data-operation":t.key,onClick:e.onMenuItemClick},t.value)}))}}]),t}(u.default.Component);S.propTypes=h,t.default=S},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.seafileAPI=void 0;var i=n(38),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(54),r=n(2),s=new a.SeafileAPI,l=o.default.load("sfcsrftoken");s.initForSeahubUsage({siteRoot:r.siteRoot,xcsrfHeaders:l}),t.seafileAPI=s},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=new o.default;t.default=a},55:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t){i(this,e),this.id=t.file_tag_id,this.repo_tag_id=t.repo_tag_id,this.name=t.tag_name,this.color=t.tag_color};t.default=o},60:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(3),s=n(66),l=i(s),u=n(27),c=i(u),d=n(31),f=i(d),p=function(){function e(){o(this,e)}return a(e,[{key:"expandNode",value:function(e,t){e.expandNode(t)}},{key:"collapseNode",value:function(e,t){var n=e.clone();return t=n.getNodeByPath(t.path),n.collapseNode(t),n}},{key:"findNodeByPath",value:function(e,t){return e.clone().getNodeByPath(t)}},{key:"getNodeChildrenObject",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asc",o=e.getNodeChildrenObject(t);return o=r.Utils.sortDirents(o,n,i)}},{key:"addNodeToParent",value:function(e,t,n){return e.addNodeToParentNode(t,n),e}},{key:"addNodeListToParent",value:function(e,t,n){return e.addNodeListToParent(t,n),e}},{key:"addNodeToParentByPath",value:function(e,t,n){var i=e.clone(),o=i.getNodeByPath(n);return i.addNodeToParent(t,o),i}},{key:"deleteNodeByPath",value:function(e,t){var n=e.clone(),i=n.getNodeByPath(t);return n.deleteNode(i),n}},{key:"deleteNodeListByPaths",value:function(e,t){var n=e.clone();return t.forEach(function(e){var t=n.getNodeByPath(e);n.deleteNode(t)}),n}},{key:"renameNodeByPath",value:function(e,t,n){var i=e.clone(),o=i.getNodeByPath(t);return i.renameNode(o,n),i}},{key:"updateNodeByPath",value:function(e,t,n,i){var o=e.clone(),a=o.getNodeByPath(t);return o.updateNode(a,n,i),o}},{key:"moveNodeByPath",value:function(e,t,n,i){var o=e.clone(),a=o.getNodeByPath(t),r=o.getNodeByPath(n);return r&&a&&(a.object.name=i,o.moveNode(a,r)),!r&&a&&o.deleteNode(a),o}},{key:"moveNodeListByPaths",value:function(e,t,n){var i=e.clone(),o=i.getNodeByPath(n);return o?t.forEach(function(e){var t=i.getNodeByPath(e);i.moveNode(t,o)}):t.forEach(function(e){var t=i.getNodeByPath(e);i.delete(t)}),i}},{key:"copyNodeByPath",value:function(e,t,n,i){var o=e.clone(),a=o.getNodeByPath(n),r=o.getNodeByPath(t);if(a){var s=r.clone();s.object.name=i,o.copyNode(s,a)}return o}},{key:"copyNodeListByPaths",value:function(e,t,n){var i=e.clone(),o=i.getNodeByPath(n);return o&&t.forEach(function(e){var t=i.getNodeByPath(e);i.copyNode(t,o)}),i}},{key:"buildTree",value:function(){var e=new l.default,t=new f.default({name:"/"}),n=new c.default({object:t,isLoaded:!1,isExpanded:!0});return e.setRoot(n),e}}]),e}(),Y=new p;t.default=Y},640:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(190),p=i(f),Y=n(641),Z=i(Y),L=n(320),h=i(L),S=n(177),C=n(3),m={repoPermission:d.default.bool,isNodeMenuShow:d.default.bool.isRequired,treeData:d.default.object.isRequired,currentPath:d.default.string.isRequired,onMenuItemClick:d.default.func,onNodeClick:d.default.func.isRequired,onNodeExpanded:d.default.func.isRequired,onNodeCollapse:d.default.func.isRequired,onItemMove:d.default.func,currentRepoInfo:d.default.object,selectedDirentList:d.default.array,onItemsMove:d.default.func},X=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onItemMove=function(e,t,i,o){n.props.onItemMove(e,t,i,o)},n.onNodeDragStart=function(e,t){if(C.Utils.isIEBrower())return!1;var n={nodeDirent:t.object,nodeParentPath:t.parentNode.path,nodeRootPath:t.path};n=JSON.stringify(n),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("applicaiton/drag-item-info",n)},n.onNodeDragEnter=function(e,t){if(C.Utils.isIEBrower())return!1;e.persist(),"tree-view tree "===e.target.className&&n.setState({isTreeViewDropTipShow:!0})},n.onNodeDragMove=function(e){if(C.Utils.isIEBrower())return!1;e.preventDefault(),e.dataTransfer.dropEffect="move"},n.onNodeDragLeave=function(e,t){if(C.Utils.isIEBrower())return!1;"tree-view tree tree-view-drop"===e.target.className&&n.setState({isTreeViewDropTipShow:!1})},n.onNodeDrop=function(e,t){if(C.Utils.isIEBrower())return!1;if(!e.dataTransfer.files.length){var i=e.dataTransfer.getData("applicaiton/drag-item-info");i=JSON.parse(i);var o=i,a=o.nodeDirent,r=o.nodeParentPath,s=o.nodeRootPath,l=t;if(Array.isArray(i))return l?void n.onMoveItems(i,l,n.props.currentRepoInfo,l.path):"/"===i[0].nodeParentPath?void n.setState({isTreeViewDropTipShow:!1}):(n.props.onItemsMove(n.props.currentRepoInfo,"/"),void n.setState({isTreeViewDropTipShow:!1}));if(!l)return"/"===r?void n.setState({isTreeViewDropTipShow:!1}):(n.onItemMove(n.props.currentRepoInfo,a,"/",r),void n.setState({isTreeViewDropTipShow:!1}));if("dir"===l.object.type&&r!==l.path&&(r!==l.parentNode.path||l.object.name!==a.name)){if("dir"===l.object.type&&"dir"===a.type&&l.parentNode.path!==r){if(C.Utils.getPaths(l.path).includes(s))return}n.onItemMove(n.props.currentRepoInfo,a,l.path,r)}}},n.onMoveItems=function(e,t,i,o){var a=[],r=C.Utils.getPaths(o);if(e.forEach(function(e){var t=e.nodeRootPath;a.push(t)}),"dir"===t.object.type&&!a.some(function(e){return e===o})&&(!e[0].nodeParentPath||e[0].nodeParentPath!==t.path)){a.some(function(e){return r.includes(e)})||n.props.onItemsMove(i,o)}},n.freezeItem=function(){n.setState({isItemFreezed:!0})},n.unfreezeItem=function(){n.setState({isItemFreezed:!1})},n.onMenuItemClick=function(e,t){n.props.onMenuItemClick(e,t),(0,S.hideMenu)()},n.onMouseDown=function(e){e.stopPropagation(),e.button},n.onContextMenu=function(e){e.preventDefault();var t=n.props.currentRepoInfo;if("admin"!==t.permission&&"rw"!==t.permission)return"";n.handleContextClick(e)},n.handleContextClick=function(e,t){if(e.preventDefault(),e.stopPropagation(),n.props.isNodeMenuShow){var i=e.clientX||e.touches&&e.touches[0].pageX,o=e.clientY||e.touches&&e.touches[0].pageY;n.props.posX&&(i-=n.props.posX),n.props.posY&&(o-=n.props.posY),(0,S.hideMenu)();var a=n.getMenuList(t),r={id:"tree-node-contextmenu",position:{x:i,y:o},target:e.target,currentObject:t,menuList:a};(0,S.showMenu)(r)}},n.getMenuList=function(e){var t=p.default.NEW_FOLDER,n=p.default.NEW_FILE,i=p.default.COPY,o=p.default.MOVE,a=p.default.RENAME,r=p.default.DELETE,s=p.default.OPEN_VIA_CLIENT;return e?"dir"===e.object.type?[t,n,i,o,a,r]:[a,r,i,o,s]:[t,n]},n.onShowMenu=function(){n.freezeItem()},n.onHideMenu=function(){n.unfreezeItem()},n.state={isItemFreezed:!1,isTreeViewDropTipShow:!1},n}return r(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"tree-view tree "+(this.state.isTreeViewDropTipShow?"tree-view-drop":""),onDrop:this.onNodeDrop,onDragEnter:this.onNodeDragEnter,onDragLeave:this.onNodeDragLeave,onMouseDown:this.onMouseDown,onContextMenu:this.onContextMenu},u.default.createElement(Z.default,{repoPermission:this.props.repoPermission,node:this.props.treeData.root,currentPath:this.props.currentPath,paddingLeft:20,isNodeMenuShow:this.props.isNodeMenuShow,isItemFreezed:this.state.isItemFreezed,onNodeClick:this.props.onNodeClick,onMenuItemClick:this.props.onMenuItemClick,onNodeExpanded:this.props.onNodeExpanded,onNodeCollapse:this.props.onNodeCollapse,onNodeDragStart:this.onNodeDragStart,freezeItem:this.freezeItem,unfreezeItem:this.unfreezeItem,onNodeDragMove:this.onNodeDragMove,onNodeDrop:this.onNodeDrop,onNodeDragEnter:this.onNodeDragEnter,onNodeDragLeave:this.onNodeDragLeave,handleContextClick:this.handleContextClick}),u.default.createElement(h.default,{id:"tree-node-contextmenu",onMenuItemClick:this.onMenuItemClick,onHideMenu:this.onHideMenu,onShowMenu:this.onShowMenu}))}}]),t}(u.default.Component);X.propTypes=m,t.default=X},641:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(2),p=n(190),Y=i(p),Z=n(272),L=i(Z),h={repoPermission:d.default.bool,node:d.default.object.isRequired,currentPath:d.default.string.isRequired,paddingLeft:d.default.number.isRequired,isNodeMenuShow:d.default.bool.isRequired,isItemFreezed:d.default.bool.isRequired,onNodeClick:d.default.func.isRequired,onNodeExpanded:d.default.func.isRequired,onNodeCollapse:d.default.func.isRequired,onNodeDragStart:d.default.func.isRequired,freezeItem:d.default.func.isRequired,unfreezeItem:d.default.func.isRequired,onMenuItemClick:d.default.func,onNodeDragMove:d.default.func,onNodeDrop:d.default.func,handleContextClick:d.default.func.isRequired,onNodeDragEnter:d.default.func.isRequired,onNodeDragLeave:d.default.func.isRequired},S=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({isShowOperationMenu:!0,isHighlight:!0})},n.onMouseOver=function(){n.props.isItemFreezed||n.setState({isShowOperationMenu:!0,isHighlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({isShowOperationMenu:!1,isHighlight:!1})},n.onNodeClick=function(){n.props.onNodeClick(n.props.node)},n.onLoadToggle=function(e){e.stopPropagation();var t=n.props.node;t.isExpanded?n.props.onNodeCollapse(t):n.props.onNodeExpanded(t)},n.onNodeDragStart=function(e){n.props.onNodeDragStart(e,n.props.node)},n.onNodeDragEnter=function(e){"dir"===n.props.node.object.type&&n.setState({isNodeDropShow:!0}),n.props.onNodeDragEnter(e,n.props.node)},n.onNodeDragMove=function(e){n.props.onNodeDragMove(e)},n.onNodeDragLeave=function(e){n.setState({isNodeDropShow:!1}),n.props.onNodeDragLeave(e,n.props.node)},n.onNodeDrop=function(e){e.stopPropagation(),n.setState({isNodeDropShow:!1}),n.props.onNodeDrop(e,n.props.node)},n.unfreezeItem=function(){n.setState({isShowOperationMenu:!1}),n.props.unfreezeItem()},n.onMenuItemClick=function(e,t,i){n.props.onMenuItemClick(e,i)},n.onItemMouseDown=function(e){e.stopPropagation(),e.button},n.onItemContextMenu=function(e){n.handleContextClick(e)},n.handleContextClick=function(e){n.props.handleContextClick(e,n.props.node),n.setState({isShowOperationMenu:!1})},n.getNodeTypeAndIcon=function(){var e=n.props.node,t="",i="";if("dir"===e.object.type)t=u.default.createElement("i",{className:"far fa-folder"}),i="dir";else{var o=e.object.name.lastIndexOf(".");if(-1===o)t=u.default.createElement("i",{className:"far fa-file"}),i="file";else{var a=e.object.name.slice(o).toLowerCase();".png"===a||".jpg"===a||".jpeg"===a||".gif"===a||".bmp"===a?(t=u.default.createElement("i",{className:"far fa-image"}),i="image"):".md"===a||".markdown"===a?(t=u.default.createElement("i",{className:"far fa-file-alt"}),i="file"):(t=u.default.createElement("i",{className:"far fa-file"}),i="file")}}return{icon:t,type:i}},n.renderChildren=function(){var e=n.props,i=e.node,o=e.paddingLeft;return i.hasChildren()?u.default.createElement("div",{className:"children",style:{paddingLeft:o}},i.children.map(function(e){return u.default.createElement(t,{key:e.path,node:e,paddingLeft:o,repoPermission:n.props.repoPermission,currentPath:n.props.currentPath,isNodeMenuShow:n.props.isNodeMenuShow,isItemFreezed:n.props.isItemFreezed,onNodeClick:n.props.onNodeClick,onNodeCollapse:n.props.onNodeCollapse,onNodeExpanded:n.props.onNodeExpanded,freezeItem:n.props.freezeItem,onMenuItemClick:n.props.onMenuItemClick,unfreezeItem:n.unfreezeItem,onNodeDragStart:n.props.onNodeDragStart,onNodeDragMove:n.props.onNodeDragMove,onNodeDrop:n.props.onNodeDrop,onNodeDragEnter:n.props.onNodeDragEnter,onNodeDragLeave:n.props.onNodeDragLeave,handleContextClick:n.props.handleContextClick})})):""},n.state={isHighlight:!1,isShowOperationMenu:!1,isNodeDropShow:!1},n}return r(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){e.isItemFreezed||this.setState({isShowOperationMenu:!1,isHighlight:!1})}},{key:"caculateMenuList",value:function(e){var t=Y.default.NEW_FOLDER,n=Y.default.NEW_FILE,i=Y.default.COPY,o=Y.default.MOVE,a=Y.default.RENAME,r=Y.default.DELETE,s=Y.default.OPEN_VIA_CLIENT;return"dir"===e.object.type?[t,n,i,o,a,r]:[a,r,i,o,s]}},{key:"render",value:function(){var e=this.props,t=e.currentPath,n=e.node,i=e.isNodeMenuShow,o=this.getNodeTypeAndIcon(),a=o.type,r=o.icon,s=this.state.isHighlight?"tree-node-inner-hover ":"";return n.path===t&&(s="tree-node-hight-light"),u.default.createElement("div",{className:"tree-node"},u.default.createElement("div",{type:a,className:"tree-node-inner text-nowrap "+s+" "+("/"===n.path?"hide":"")+" "+(this.state.isNodeDropShow?"tree-node-drop":""),title:n.object.name,onMouseEnter:this.onMouseEnter,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onMouseDown:this.onItemMouseDown,onContextMenu:this.onItemContextMenu,onClick:this.onNodeClick},u.default.createElement("div",{className:"tree-node-text",draggable:"true",onDragStart:this.onNodeDragStart,onDragEnter:this.onNodeDragEnter,onDragLeave:this.onNodeDragLeave,onDragOver:this.onNodeDragMove,onDrop:this.onNodeDrop},n.object.name),u.default.createElement("div",{className:"left-icon"},"dir"===a&&(!n.isLoaded||n.isLoaded&&n.hasChildren())&&u.default.createElement("i",{className:"folder-toggle-icon fa "+(n.isExpanded?"fa-caret-down":"fa-caret-right"),onMouseDown:function(e){return e.stopPropagation()},onClick:this.onLoadToggle}),u.default.createElement("i",{className:"tree-node-icon"},r)),i&&u.default.createElement("div",{className:"right-icon"},(this.props.repoPermission||f.permission)&&this.state.isShowOperationMenu&&u.default.createElement(L.default,{item:this.props.node,toggleClass:"fas fa-ellipsis-v",getMenuList:this.caculateMenuList,onMenuItemClick:this.onMenuItemClick,freezeItem:this.props.freezeItem,unfreezeItem:this.unfreezeItem}))),n.isExpanded&&this.renderChildren())}}]),t}(u.default.Component);S.propTypes=h,t.default=S},642:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(382),p=i(f),Y=n(2),Z=n(6),L=n(10),h=i(L),S=n(4),C=n(3),m=n(5),X=i(m);n(644);var J={children:d.default.object,isFileLoading:d.default.bool.isRequired,markdownContent:d.default.string.isRequired,latestContributor:d.default.string.isRequired,lastModified:d.default.string.isRequired,onLinkClick:d.default.func.isRequired,isWiki:d.default.bool,isTOCShow:d.default.bool,repoID:d.default.string,path:d.default.string},D=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onContentRendered=function(e){n.titlesInfo=e.titlesInfo},n.listRelatedFiles=function(){n.props.repoID&&n.props.path&&S.seafileAPI.listRelatedFiles(n.props.repoID,n.props.path).then(function(e){n.setState({relatedFiles:e.data.related_files})}).catch(function(e){var t=C.Utils.getErrorMsg(e);X.default.danger(t)})},n.onLinkClick=function(e){e.preventDefault(),e.stopPropagation();var t="";if("A"!==e.target.tagName){for(var i=e.target.parentNode;"A"!==i.tagName;)i=i.parentNode;t=i.href}else t=e.target.href;n.props.onLinkClick(t)},n.onScrollHandler=function(){var e=n.markdownContainer.current.scrollTop+180,t=n.titlesInfo.length,i=void 0;if(e<=n.titlesInfo[0])return i=0,void n.setState({activeTitleIndex:i});if(e>n.titlesInfo[t-1])return i=n.titlesInfo.length-1,void n.setState({activeTitleIndex:i});for(var o=0;o<t;o++)if(!(e>n.titlesInfo[o])){i=o-1;break}n.setState({activeTitleIndex:i})},n.changeInlineNode=function(e){if("inline"==e.object){var t=void 0,i=void 0;if("image"==e.type&&Y.isPublicWiki){t=e.data.src;if(new RegExp(Y.serviceURL+"/lib/"+Y.repoID+"/file.*raw=1").test(t)){var o=t.indexOf("/file"),a=t.indexOf("?");i=t.substring(o+5,a)}else{if(!/^\.\.\/*/.test(t)&&!/^\.\/*/.test(t))return;var r=n.props.path,s=r.slice(0,r.lastIndexOf("/"))+"/"+t;i=C.Utils.pathNormalize(s)}e.data.src=Y.serviceURL+"/view-image-via-public-wiki/?slug="+Y.slug+"&path="+i}else if("link"==e.type)if(t=e.data.href,C.Utils.isInternalMarkdownLink(t,Y.repoID)){var l=C.Utils.getPathFromInternalMarkdownLink(t,Y.repoID);e.data.href=Y.serviceURL+"/published/"+Y.slug+l}else if(C.Utils.isInternalDirLink(t,Y.repoID)){var u=C.Utils.getPathFromInternalDirLink(t,Y.repoID);e.data.href=Y.serviceURL+"/published/"+Y.slug+u}}return e},n.modifyValueBeforeRender=function(e){var t=e.document.nodes,i=C.Utils.changeMarkdownNodes(t,n.changeInlineNode);return e.document.nodes=i,e},n.renderMarkdown=function(){var e=!0;return!1===n.props.isTOCShow&&(e=!1),n.props.isWiki?u.default.createElement(p.default,{showTOC:e,markdownContent:n.props.markdownContent,activeTitleIndex:n.state.activeTitleIndex,onContentRendered:n.onContentRendered,modifyValueBeforeRender:n.modifyValueBeforeRender}):u.default.createElement(p.default,{showTOC:e,markdownContent:n.props.markdownContent,activeTitleIndex:n.state.activeTitleIndex,onContentRendered:n.onContentRendered})},n.renderRelatedFiles=function(){var e=n.state.relatedFiles;return e.length>0?u.default.createElement("div",{className:"sf-releted-files",id:"sf-releted-files"},u.default.createElement("div",{className:"sf-releted-files-header"},u.default.createElement("h4",null,(0,Y.gettext)("related files"))),e.map(function(e,t){var n=Y.siteRoot+"lib/"+e.repo_id+"/file"+C.Utils.encodePath(e.path);return u.default.createElement("div",{className:"sf-releted-file",key:t},u.default.createElement("a",{href:n,target:"_blank"},u.default.createElement(Z.Card,{body:!0,size:"sm"},u.default.createElement(Z.CardTitle,null,e.name),u.default.createElement(Z.CardText,null,e.repo_name),u.default.createElement("span",{className:"sf-releted-file-arrow"}))))})):null},n.state={activeTitleIndex:0,relatedFiles:[]},n.markdownContainer=u.default.createRef(),n.links=[],n.titlesInfo=[],n}return r(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.links=document.querySelectorAll(".wiki-page-content a"),this.links.forEach(function(t){t.addEventListener("click",e.onLinkClick)}),this.listRelatedFiles()}},{key:"componentWillReceiveProps",value:function(){var e=this;this.links.forEach(function(t){t.removeEventListener("click",e.onLinkClick)}),this.listRelatedFiles()}},{key:"componentDidUpdate",value:function(){var e=this;this.links=document.querySelectorAll(".wiki-page-content a"),this.links.forEach(function(t){t.addEventListener("click",e.onLinkClick)})}},{key:"componentWillUnmount",value:function(){var e=this;this.links.forEach(function(t){t.removeEventListener("click",e.onLinkClick)})}},{key:"render",value:function(){if(this.props.isFileLoading)return u.default.createElement(h.default,null);var e=this.props.repoID?"wiki-page-content w-100":"wiki-page-content";return u.default.createElement("div",{ref:this.markdownContainer,className:"wiki-page-container",onScroll:this.onScrollHandler.bind(this)},u.default.createElement("div",{className:e},this.props.children,this.renderMarkdown(),this.props.isWiki&&this.renderRelatedFiles(),u.default.createElement("p",{id:"wiki-page-last-modified"},(0,Y.gettext)("Last modified by")," ",this.props.latestContributor,", ",u.default.createElement("span",null,this.props.lastModified))))}}]),t}(u.default.Component),T={isWiki:!1};D.propTypes=J,p.default.defaultProps=T,t.default=D},643:function(e,t){},644:function(e,t){},66:function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(27),s=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){function e(){o(this,e),this.root=null}return a(e,[{key:"clone",value:function(){var t=new e;return this.root&&(t.root=this.root.clone()),t}},{key:"setRoot",value:function(e){this.root=e}},{key:"getNodeByPath",value:function(e){function t(t){return t.path===e&&(n=t,!0)}var n=null;return this.traverseDF(t),n}},{key:"getNodeChildrenObject",value:function(e){return e.children.map(function(e){return e.object})}},{key:"addNodeToParent",value:function(e,t){t.addChild(e)}},{key:"addNodeListToParent",value:function(e,t){e.forEach(function(e){t.addChild(e)})}},{key:"deleteNode",value:function(e){this.getNodeByPath(e.parentNode.path).deleteChild(e)}},{key:"deleteNodeList",value:function(e){var t=this;e.forEach(function(e){t.deleteNode(e)})}},{key:"renameNode",value:function(e,t){e.rename(t)}},{key:"updateNode",value:function(e,t,n){e.updateObjectParam(t,n)}},{key:"moveNode",value:function(e,t){this.deleteNode(e),t.addChild(e)}},{key:"copyNode",value:function(e,t){t.addChild(e)}},{key:"traverseDF",value:function(e){var t=[],n=!1;t.unshift(this.root);for(var o=t.shift();!n&&o;)(n=1==e(o))||(t.unshift.apply(t,i(o.children)),o=t.shift())}},{key:"traverseBF",value:function(e){var t=[],n=!1;t.push(this.root);for(var o=t.shift();!n&&o;)(n=!0===e(o))||(t.push.apply(t,i(o.children)),o=t.shift())}},{key:"expandNode",value:function(e){for(e.isExpanded=!0;e.parentNode;)e.parentNode.isExpanded=!0,e=e.parentNode}},{key:"collapseNode",value:function(e){e.isExpanded=!1}},{key:"isNodeChild",value:function(e,t){return t.children.some(function(t){return t.path===e.path})}},{key:"serializeToJson",value:function(){return this.root.serializeToJson()}},{key:"deserializefromJson",value:function(t){var n=s.default.deserializefromJson(t),i=new e;return i.setRoot(n),i}}]),e}();t.default=l},67:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=i(l),c=n(1),d=i(c),f=n(2),p=n(108),Y=i(p),Z=n(121),L=i(Z),h=n(32),S=i(h),C={repoID:d.default.string,onSearchedClick:d.default.func.isRequired,searchPlaceholder:d.default.string},m=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),s(t,[{key:"render",value:function(){var e=this.props.searchPlaceholder||(0,f.gettext)("Search Files");return u.default.createElement("div",{className:"common-toolbar"},f.isPro&&u.default.createElement(Y.default,{repoID:this.props.repoID,placeholder:e,onSearchedClick:this.props.onSearchedClick}),u.default.createElement(L.default,null),u.default.createElement(S.default,null))}}]),t}(u.default.Component);m.propTypes=C,t.default=m},79:function(e,t){},90:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),r=n(4),s=function(){function e(){i(this,e)}return o(e,[{key:"getFiles",value:function(){return r.seafileAPI.listWikiDir(a.slug,"/").then(function(e){return e.data.dir_file_list.map(function(e){return{name:e.name,type:"dir"===e.type?"dir":"file",isExpanded:"dir"===e.type,parent_path:e.parent_dir,last_update_time:e.last_update_time,permission:e.permission,size:e.size}})})}},{key:"listRepoDir",value:function(){return r.seafileAPI.listDir(a.repoID,"/",{recursive:!0}).then(function(e){return e.data.dirent_list.map(function(e){return{name:e.name,type:"dir"===e.type?"dir":"file",isExpanded:"dir"===e.type,parent_path:e.parent_dir,last_update_time:e.mtime,permission:e.permission,size:e.size}})})}},{key:"createFile",value:function(e,t){return r.seafileAPI.createFile(a.repoID,e,t)}},{key:"deleteFile",value:function(e){return r.seafileAPI.deleteFile(a.repoID,e)}},{key:"renameFile",value:function(e,t){return r.seafileAPI.renameFile(a.repoID,e,t)}},{key:"createDir",value:function(e){return r.seafileAPI.createDir(a.repoID,e)}},{key:"deleteDir",value:function(e){return r.seafileAPI.deleteDir(a.repoID,e)}},{key:"renameDir",value:function(e,t){return r.seafileAPI.renameDir(a.repoID,e,t)}},{key:"getWikiFileContent",value:function(e,t){return r.seafileAPI.getWikiFileContent(e,t)}},{key:"getSource",value:function(){return r.seafileAPI.getSource()}},{key:"searchFiles",value:function(e,t){return r.seafileAPI.searchFiles(e,t)}},{key:"getAccountInfo",value:function(){return r.seafileAPI.getAccountInfo()}},{key:"getFileDownloadLink",value:function(e){return r.seafileAPI.getFileDownloadLink(a.historyRepoID,e)}},{key:"getFileContent",value:function(e){return r.seafileAPI.getFileContent(e)}},{key:"listFileHistoryRecords",value:function(e,t,n){return r.seafileAPI.listFileHistoryRecords(a.historyRepoID,e,t,n)}},{key:"revertFile",value:function(e,t){return r.seafileAPI.revertFile(a.historyRepoID,e,t)}},{key:"listDrafts",value:function(){return r.seafileAPI.listDrafts()}},{key:"deleteDraft",value:function(e){return r.seafileAPI.deleteDraft(e)}},{key:"publishDraft",value:function(e){return r.seafileAPI.publishDraft(e)}},{key:"zipDownload",value:function(e,t){return r.seafileAPI.zipDownload(a.repoID,e,t)}},{key:"queryZipProgress",value:function(e){return r.seafileAPI.queryZipProgress(e)}},{key:"cancelZipTask",value:function(e){return r.seafileAPI.cancelZipTask(e)}}]),e}(),l=new s;t.default=l}},[2028]);