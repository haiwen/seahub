{"version":3,"sources":["../js/draft.js","components/modal-portal.js","components/loading.js","../config/polyfills.js","draft.js","components/review-list-view/review-comments.js","models/review-comment.js","components/review-list-view/review-comment-dialog.js","components/dialog/add-reviewer-dialog.js","pages/review/history-list.js","utils/pinyin-by-unicode.js","utils/constants.js","components/user-select.js","utils/seafile-api.js","utils/utils.js","utils/seafile-markdown2html.js"],"names":["webpackJsonp","10","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_react","_react2","_reactDom","_reactDom2","_propTypes","_propTypes2","propTypes","children","PropTypes","object","isRequired","modalRoot","document","getElementById","ModalPortal","_React$Component","this","_this","getPrototypeOf","el","createElement","appendChild","removeChild","ReactDOM","createPortal","React","Component","11","Loading","className","12","Promise","enable","window","assign","1248","1249","_reactstrap","_prismjs","_constants","_seafileApi","_axios","_axios2","_diffViewer","_diffViewer2","_serialize","_loading","_loading2","_reviewComments","_reviewComments2","_reviewCommentDialog","_reviewCommentDialog2","_addReviewerDialog","_addReviewerDialog2","_slateReact","_classnames","_classnames2","_historyList","_historyList2","_slate","_modalPortal","_modalPortal2","_utils","URL","Draft","initialContent","draftStatus","draftFileExists","setState","isLoading","isShowDiff","originFileExists","seafileAPI","getFileDownloadLink","draftRepoID","draftFilePath","then","res","getFileContent","data","draftContent","draftOriginContent","hash","location","indexOf","currentCommitID","slice","preCommitID","preItemFilePath","currentItemFilePath","activeTab","listFileHistoryRecords","historyList","totalReversionCount","total_count","commit_id","activeItem","path","axios","all","getFileRevision","spread","res1","res2","content1","content2","setDiffViewerContent","draftOriginFilePath","that","setTimeout","getChangedNodes","dl0","siteRoot","draftPublishVersion","dl","originFileVersion","onHistoryItemClick","currentItem","preItem","url","setURL","onHistoryListChange","getCommentsNumber","listComments","number","comments","unresolvedComments","resolved","commentsNumber","addComment","e","stopPropagation","getQuote","quote","isShowCommentDialog","onCommentAdded","toggleCommentDialog","state","getOriginRepoInfo","getRepoInfo","originRepoName","repo_name","nodes","refs","diffViewer","keys","lastDiffState","map","node","get","push","changedNodes","scrollToChangedNode","scroll","changeIndex","win","element","querySelector","tagName","parentNode","scroller","findScrollContainer","body","documentElement","scrollTo","offsetTop","scrollTop","parent","OVERFLOWS","style","getComputedStyle","overflowY","includes","scrollToQuote","newIndex","oldIndex","text","showDiffViewer","newMarkdownContent","oldMarkdownContent","ref","onMouseDown","listReviewers","listDraftReviewers","draftID","reviewers","onSwitchShowDiff","toggleDiffTip","showDiffTip","toggleAddReviewerDialog","showReviewerDialog","showDiffButton","id","type","checked","name","onChange","Tooltip","placement","isOpen","toggle","gettext","onPublishDraft","publishDraft","OriginFileLink","Utils","encodePath","published_file_path","href","initialDiffViewerContent","content","newContent","prevContent","newurl","set","toString","tabItemClick","tab","showNavItem","showTab","NavItem","NavLink","active","onClick","setBtnPosition","nativeSelection","getSelection","rangeCount","range","isCollapsed","nativeRange","getRangeAt","focusNode","nodeType","getAttribute","fragment","cloneContents","startNode","firstChild","newNativeRange","createRange","setStartBefore","setEndAfter","findRange","rect","getBoundingClientRect","navigator","userAgent","collapsed","top","height","startOffset","setEnd","endContainer","setStart","startContainer","getClientRects","commentbtn","viewContent","_range","anchor","focus","anchorText","getNode","focusText","anchorInline","getClosestInline","focusInline","offset","block","getClosestBlock","nextText","getNextText","moveAnchorTo","moveFocusTo","getFragmentAtRange","removeNullNode","newFragment","Document","newValue","Value","serialize","toJSON","blockPath","createSelection","oldNodes","newNodes","trim","childNodes","size","newNode","Block","onResizeMouseUp","inResizing","onResizeMouseDown","onResizeMouseMove","rate","nativeEvent","clientX","main","clientWidth","rightPartWidth","renderDiffButton","renderNavItems","Nav","tabs","renderContent","addEventListener","removeEventListener","onResizeMove","draftLink","Fragment","draftFileName","title","disabled","onMouseMove","onMouseUp","width","TabContent","TabPane","tabId","SidePanelReviewers","SidePanelAuthor","UnresolvedComments","SidePanelChanges","changedNumber","SidePanelOrigin","Button","color","_React$Component2","item","index","arguments","undefined","src","avatar_url","alt","user_name","sidePanelReviewersPropTypes","array","func","_React$Component3","apply","authorAvatar","author","_React$Component4","SidePanelOriginPropTypes","string","_React$Component5","UnresolvedCommentsPropTypes","_React$Component6","_this7","sidePanelChangesPropTypes","render","1250","_seafileMarkdown2html","_reviewComment","_reviewComment2","_constants2","commentPropTypes","bool","ReviewComments","response","commentList","forEach","commentItem","reviewComment","commentsList","handleCommentChange","event","comment","submitComment","postComment","resolveComment","updateComment","editComment","commentID","newComment","toggleResolvedComment","showResolvedComment","deleteComment","clientY","clientHeight","commentFooterHeight","nextProps","_this2","CommentItem","placeholder","clos","rows","warp","commentItemPropTypes","_this3","toggleDropDownMenu","dropdownOpen","convertComment","processor","process","result","String","toggleEditComment","editable","avatarUrl","time","Dropdown","DropdownToggle","DropdownMenu","userEmail","username","DropdownItem","dangerouslySetInnerHTML","__html","1255","_moment","_moment2","oldTime","Date","created_at","getTime","format","user_email","detail","JSON","parse","1256","1257","commentDialogPropTypes","ReviewCommentDialog","detailJSON","stringify","setQuoteText","mdQuote","1258","1259","_userSelect","_userSelect2","AddReviewerDialog","handleSelectChange","option","selectedOption","Options","addReviewers","reviewSelect","clearSelect","email","loading","errorMsg","addDraftReviewers","failed","success","deleteReviewer","reviewer","deleteDraftReviewer","newReviewers","Modal","ModalHeader","ModalBody","onSelectChange","isMulti","error_msg","ModalFooter","1260","1261","_toConsumableArray","arr","Array","isArray","arr2","from","moment","locale","app","config","lang","HistoryList","onScroll","scrollHeight","perPage","currentPage","draftOriginRepoID","currentHistoryList","concat","preItemIndex","HistoryItem","ctime","creator_name","_this4","parseZone","1262","13","strChineseFirstPY","194","2","dirPath","loginUrl","avatarInfo","logoPath","mediaUrl","siteTitle","siteName","logoWidth","logoHeight","isPro","isDocs","fileServerRoot","seafileVersion","serviceURL","seafileCollabServer","pageOptions","contactEmail","canAddRepo","canGenerateShareLink","canGenerateUploadLink","canViewOrg","fileAuditEnabled","enableFileComment","folderPermEnabled","enableResetEncryptedRepoPassword","isEmailConfigured","enableUploadFolder","enableResumableFileUpload","storages","enableRepoSnapshotLabel","shareLinkExpireDaysMin","shareLinkExpireDaysMax","maxFileName","enableWiki","enableEncryptedLibrary","enableRepoHistorySetting","isSystemStaff","thumbnailSizeForOriginal","repoPasswordMinLength","curNoteMsg","curNoteID","slug","wiki","repoID","repoId","initialPath","initial_path","permission","isDir","serviceUrl","isPublicWiki","PER_PAGE","historyRepoID","fileHistory","repoName","filePath","fileName","draft","orgID","org","invitationLink","orgMemberQuotaEnabled","constanceEnabled","sysadmin","constance_enabled","multiTenancy","multi_tenancy","multiInstitution","multi_institution","sysadminExtraEnabled","sysadmin_extra_enabled","enableGuestInvitation","enable_guest_invitation","enableTermsAndConditions","enable_terms_and_conditions","isDefaultAdmin","is_default_admin","enableFileScan","enable_file_scan","canViewSystemInfo","admin_permissions","can_view_system_info","canViewStatistic","can_view_statistic","canConfigSystem","can_config_system","canManageLibrary","can_manage_library","canManageUser","can_manage_user","canManageGroup","can_manage_group","canViewUserLog","can_view_user_log","canViewAdminLog","can_view_admin_log","23","_extends","source","hasOwnProperty","_Async","_Async2","NoOptionsMessage","innerProps","margin","textAlign","UserSelect","options","loadOptions","input","callback","searchUsers","users","label","userSelect","select","action","isClearable","classNamePrefix","components","268","269","271","3","_reactCookies","_reactCookies2","_seafileJs","SeafileAPI","xcsrfHeaders","cookie","load","initForSeahubUsage","311","4","_pinyinByUnicode","keyCodes","esc","space","up","down","bytesToSize","bytes","sizes","parseInt","Math","floor","log","toFixed","isHiDPI","devicePixelRatio","FILEEXT_ICON_MAP","md","txt","pdf","doc","docx","odt","fodt","ppt","pptx","odp","fodp","xls","xlsx","ods","fods","mp4","ogv","webm","mov","flv","wmv","rmvb","mp3","oga","ogg","flac","aac","ac3","wma","jpg","jpeg","png","svg","gif","bmp","ico","imageCheck","filename","lastIndexOf","substr","toLowerCase","videoCheck","path_arr","split","path_arr_","len","encodeURIComponent","join","HTMLescape","html","createTextNode","innerHTML","generateDialogTitle","operationTarget","targetStr","str","replace","getFileName","lastIndex","getPaths","paths","pop","reverse","getFolderName","getDirName","dir","isChildPath","child","isAncestorPath","ancestor","renameAncestorPath","newAncestor","joinPath","pathA","pathB","isSupportUploadFolder","getDefaultLibIconUrl","isBig","getLibIconUrl","repo","share_permission","icon_name","encrypted","getDirentIcon","dirent","readonly","getFolderIconUrl","getFileIconUrl","file_ext","getLibIconTitle","is_admin","getFolderIconTitle","sharePerms","sharePermsExplanation","formatSize","precision","kilobyte","megabyte","gigabyte","formatBitRate","bits","Bs","isMarkdownFile","substring","isInternalMarkdownLink","RegExp","test","isInternalDirLink","getPathFromInternalMarkdownLink","re","exec","decodeURIComponent","getPathFromInternalDirLink","isWikiInternalMarkdownLink","isWikiInternalDirLink","getPathFromWikiInternalMarkdownLink","err","getPathFromWikiInternalDirLink","compareTwoWord","wordA","wordB","a_val","b_val","a_uni","charCodeAt","b_uni","charAt","compareStrWithNumbersIn","a","b","isDigitPart","aPart","bPart","reParts","reDigit","aParts","match","bParts","min","sortRepos","repos","sortBy","sortOrder","comparator","last_modified","sort","sortDirents","items","mtime","changeMarkdownNodes","fn","chooseLanguage","suffix","mode","DARK_COLOR_MAP","red","orange","yellow","green","cyan","blue","indigo","purple","pink","azure","lime","teal","gray","#FFA8A8","#FFA94D","#FFD43B","#A0EC50","#A9E34B","#63E6BE","#4FD2C9","#72C3FC","#91A7FF","#E599F7","#B197FC","#F783AC","#CED4DA","getDarkColor","526","compiler","tree","hast","sanitize","schema","toHTML","settings","xtend","deepmerge","gh","attributes","li","code","tagNames","Compiler","unified","markdown","breaks","remark2rehype","raw","use","commonmark","allowDangerousHTML","processorGetAST","86","87","88","89","90","98"],"mappings":"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","file":"js/draft.js","sourcesContent":["webpackJsonp([21],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(8);var _reactDom2=_interopRequireDefault(_reactDom);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={children:_propTypes2.default.object.isRequired};var modalRoot=document.getElementById('modal-wrapper');var ModalPortal=function(_React$Component){_inherits(ModalPortal,_React$Component);function ModalPortal(props){_classCallCheck(this,ModalPortal);var _this=_possibleConstructorReturn(this,(ModalPortal.__proto__||Object.getPrototypeOf(ModalPortal)).call(this,props));_this.el=document.createElement('div');return _this;}_createClass(ModalPortal,[{key:'componentDidMount',value:function componentDidMount(){modalRoot.appendChild(this.el);}},{key:'componentWillUnmount',value:function componentWillUnmount(){modalRoot.removeChild(this.el);}},{key:'render',value:function render(){return _reactDom2.default.createPortal(this.props.children,this.el);}}]);return ModalPortal;}(_react2.default.Component);ModalPortal.propTypes=propTypes;exports.default=ModalPortal;\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function Loading(){return _react2.default.createElement(\"span\",{className:\"loading-icon loading-tip\"});}exports.default=Loading;\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  __webpack_require__(33).enable();\n  window.Promise = __webpack_require__(34);\n}\n\n// fetch() polyfill for making API calls.\n__webpack_require__(28);\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = __webpack_require__(20);\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\nif (false) {\n  require('raf').polyfill(global);\n}\n\n\n/***/ }),\n\n/***/ 1248:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(12);\nmodule.exports = __webpack_require__(1249);\n\n\n/***/ }),\n\n/***/ 1249:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(8);var _reactDom2=_interopRequireDefault(_reactDom);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _prismjs=__webpack_require__(185);var _prismjs2=_interopRequireDefault(_prismjs);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _axios=__webpack_require__(158);var _axios2=_interopRequireDefault(_axios);var _diffViewer=__webpack_require__(270);var _diffViewer2=_interopRequireDefault(_diffViewer);var _serialize=__webpack_require__(479);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _reviewComments=__webpack_require__(1250);var _reviewComments2=_interopRequireDefault(_reviewComments);var _reviewCommentDialog=__webpack_require__(1257);var _reviewCommentDialog2=_interopRequireDefault(_reviewCommentDialog);var _addReviewerDialog=__webpack_require__(1259);var _addReviewerDialog2=_interopRequireDefault(_addReviewerDialog);var _slateReact=__webpack_require__(96);var _classnames=__webpack_require__(153);var _classnames2=_interopRequireDefault(_classnames);var _historyList=__webpack_require__(1261);var _historyList2=_interopRequireDefault(_historyList);var _slate=__webpack_require__(29);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _utils=__webpack_require__(4);__webpack_require__(86);__webpack_require__(87);__webpack_require__(88);__webpack_require__(89);__webpack_require__(90);__webpack_require__(98);__webpack_require__(1262);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}/* eslint-disable *//* eslint-enable */__webpack_require__(267);var URL=__webpack_require__(202);var Draft=function(_React$Component){_inherits(Draft,_React$Component);function Draft(props){_classCallCheck(this,Draft);var _this=_possibleConstructorReturn(this,(Draft.__proto__||Object.getPrototypeOf(Draft)).call(this,props));_this.initialContent=function(){switch(_constants.draftStatus){case'open':if(!_constants.draftFileExists){_this.setState({isLoading:false,isShowDiff:false});return;}if(!_constants.originFileExists){_seafileApi.seafileAPI.getFileDownloadLink(_constants.draftRepoID,_constants.draftFilePath).then(function(res){_seafileApi.seafileAPI.getFileContent(res.data).then(function(res){_this.setState({draftContent:res.data,draftOriginContent:res.data,isLoading:false,isShowDiff:false});});});return;}var hash=window.location.hash;if(hash.indexOf('#history-')===0){var currentCommitID=hash.slice(9,49);var preCommitID=hash.slice(50,90);var preItemFilePath=void 0,currentItemFilePath=void 0;_this.setState({isLoading:false,activeTab:'history'});_seafileApi.seafileAPI.listFileHistoryRecords(_constants.draftRepoID,_constants.draftFilePath,1,25).then(function(res){var historyList=res.data.data;_this.setState({historyList:historyList,totalReversionCount:res.data.total_count});for(var i=0,length=historyList.length;i<length;i++){if(preCommitID===historyList[i].commit_id){_this.setState({activeItem:i});preItemFilePath=historyList[i].path;}if(currentCommitID===historyList[i].commit_id){currentItemFilePath=historyList[i].path;}if(preItemFilePath&&currentItemFilePath)break;}_axios2.default.all([_seafileApi.seafileAPI.getFileRevision(_constants.draftRepoID,currentCommitID,currentItemFilePath),_seafileApi.seafileAPI.getFileRevision(_constants.draftRepoID,preCommitID,preItemFilePath)]).then(_axios2.default.spread(function(res1,res2){_axios2.default.all([_seafileApi.seafileAPI.getFileContent(res1.data),_seafileApi.seafileAPI.getFileContent(res2.data)]).then(_axios2.default.spread(function(content1,content2){_this.setDiffViewerContent(content2.data,content1.data);}));}));return;});}else{_axios2.default.all([_seafileApi.seafileAPI.getFileDownloadLink(_constants.draftRepoID,_constants.draftFilePath),_seafileApi.seafileAPI.getFileDownloadLink(_constants.draftRepoID,_constants.draftOriginFilePath)]).then(_axios2.default.spread(function(res1,res2){_axios2.default.all([_seafileApi.seafileAPI.getFileContent(res1.data),_seafileApi.seafileAPI.getFileContent(res2.data)]).then(_axios2.default.spread(function(draftContent,draftOriginContent){_this.setState({draftContent:draftContent.data,draftOriginContent:draftOriginContent.data,isLoading:false});var that=_this;setTimeout(function(){that.getChangedNodes();},100);}));}));}break;case'published':if(!_constants.originFileExists){_this.setState({isLoading:false,isShowDiff:false});return;}var dl0=_constants.siteRoot+'repo/'+_constants.draftRepoID+'/'+_constants.draftPublishVersion+'/download?'+'p='+_constants.draftOriginFilePath;var dl=_constants.siteRoot+'repo/'+_constants.draftRepoID+'/'+_constants.originFileVersion+'/download?'+'p='+_constants.draftOriginFilePath;_axios2.default.all([_seafileApi.seafileAPI.getFileContent(dl0),_seafileApi.seafileAPI.getFileContent(dl)]).then(_axios2.default.spread(function(draftContent,draftOriginContent){_this.setState({draftContent:draftContent.data,draftOriginContent:draftOriginContent.data,isLoading:false});}));break;}};_this.onHistoryItemClick=function(currentItem,preItem,activeItem){var preCommitID=preItem.commit_id;var currentCommitID=currentItem.commit_id;var url='history-'+preCommitID+'-'+currentCommitID;_this.setURL(url);_this.setState({activeItem:activeItem,isLoading:true});_axios2.default.all([_seafileApi.seafileAPI.getFileRevision(_constants.draftRepoID,currentCommitID,currentItem.path),_seafileApi.seafileAPI.getFileRevision(_constants.draftRepoID,preCommitID,preItem.path)]).then(_axios2.default.spread(function(res1,res2){_axios2.default.all([_seafileApi.seafileAPI.getFileContent(res1.data),_seafileApi.seafileAPI.getFileContent(res2.data)]).then(_axios2.default.spread(function(content1,content2){_this.setDiffViewerContent(content1.data,content2.data);}));}));};_this.onHistoryListChange=function(historyList){_this.setState({historyList:historyList});};_this.getCommentsNumber=function(){_seafileApi.seafileAPI.listComments(_constants.draftRepoID,_constants.draftFilePath).then(function(res){var number=res.data.total_count;var comments=res.data.comments;var unresolvedComments=0;for(var i=0;i<res.data.total_count;i++){if(comments[i].resolved===false){unresolvedComments++;}}_this.setState({commentsNumber:number,unresolvedComments:unresolvedComments});});};_this.addComment=function(e){e.stopPropagation();_this.getQuote();if(!_this.quote){return;}_this.setState({isShowCommentDialog:true});};_this.onCommentAdded=function(){_this.getCommentsNumber();_this.toggleCommentDialog();};_this.toggleCommentDialog=function(){_this.setState({isShowCommentDialog:!_this.state.isShowCommentDialog});};_this.getOriginRepoInfo=function(){_seafileApi.seafileAPI.getRepoInfo(_constants.draftRepoID).then(function(res){_this.setState({originRepoName:res.data.repo_name});});};_this.getChangedNodes=function(){var nodes=_this.refs.diffViewer.value.document.nodes;var keys=[];var lastDiffState='';nodes.map(function(node){if(node.data.get('diff_state')==='diff-added'&&lastDiffState!=='diff-added'){keys.push(node.key);}else if(node.data.get('diff_state')==='diff-removed'&&lastDiffState!=='diff-removed'){keys.push(node.key);}else if(node.data.get('diff_state')==='diff-replaced'&&lastDiffState!=='diff-replaced'){keys.push(node.key);}lastDiffState=node.data.get('diff_state');});_this.setState({changedNodes:keys});};_this.scrollToChangedNode=function(scroll){if(_this.state.changedNodes.length==0)return;if(scroll==='up'){_this.changeIndex++;}else{_this.changeIndex--;}if(_this.changeIndex>_this.state.changedNodes.length-1){_this.changeIndex=0;}if(_this.changeIndex<0){_this.changeIndex=_this.state.changedNodes.length-1;}var win=window;var key=_this.state.changedNodes[_this.changeIndex];var element=win.document.querySelector('[data-key=\"'+key+'\"]');// fix code-block or tables\nwhile(element.className.indexOf('diff-')===-1&&element.tagName!=='BODY'){element=element.parentNode;}var scroller=_this.findScrollContainer(element,win);var isWindow=scroller==win.document.body||scroller==win.document.documentElement;if(isWindow){win.scrollTo(0,element.offsetTop);}else{scroller.scrollTop=element.offsetTop;}};_this.findScrollContainer=function(element,window){var parent=element.parentNode;var OVERFLOWS=['auto','overlay','scroll'];var scroller=void 0;while(!scroller){if(!parent.parentNode)break;var style=window.getComputedStyle(parent);var overflowY=style.overflowY;if(OVERFLOWS.includes(overflowY)){scroller=parent;break;}parent=parent.parentNode;}if(!scroller){return window.document.body;}return scroller;};_this.scrollToQuote=function(newIndex,oldIndex,quote){var nodes=_this.refs.diffViewer.value.document.nodes;var key=void 0;nodes.map(function(node){if(node.data.get('old_index')==oldIndex&&node.data.get('new_index')==newIndex){key=node.key;}});if(typeof key!=='string'){nodes.map(function(node){if(node.text.indexOf(quote)>0){key=node.key;}});}if(typeof key==='string'){var win=window;var element=win.document.querySelector('[data-key=\"'+key+'\"]');while(element.tagName==='CODE'){element=element.parentNode;}var scroller=_this.findScrollContainer(element,win);var isWindow=scroller==win.document.body||scroller==win.document.documentElement;if(isWindow){win.scrollTo(0,element.offsetTop);}else{scroller.scrollTop=element.offsetTop;}}};_this.showDiffViewer=function(){return _react2.default.createElement('div',null,_this.state.isShowDiff?_react2.default.createElement(_diffViewer2.default,{newMarkdownContent:_this.state.draftContent,oldMarkdownContent:_this.state.draftOriginContent,ref:'diffViewer'}):_react2.default.createElement(_diffViewer2.default,{newMarkdownContent:_this.state.draftContent,oldMarkdownContent:_this.state.draftContent,ref:'diffViewer'}),_react2.default.createElement('i',{className:'fa fa-plus-square review-comment-btn',ref:'commentbtn',onMouseDown:_this.addComment}));};_this.listReviewers=function(){_seafileApi.seafileAPI.listDraftReviewers(_constants.draftID).then(function(res){_this.setState({reviewers:res.data.reviewers});});};_this.onSwitchShowDiff=function(){if(!_this.state.isShowDiff){var that=_this;setTimeout(function(){that.getChangedNodes();},100);}_this.setState({isShowDiff:!_this.state.isShowDiff});};_this.toggleDiffTip=function(){_this.setState({showDiffTip:!_this.state.showDiffTip});};_this.toggleAddReviewerDialog=function(){if(_this.state.showReviewerDialog){_this.listReviewers();}_this.setState({showReviewerDialog:!_this.state.showReviewerDialog});};_this.showDiffButton=function(){return _react2.default.createElement('div',{className:'seafile-toggle-diff'},_react2.default.createElement('label',{className:'custom-switch',id:'toggle-diff'},_react2.default.createElement('input',{type:'checkbox',checked:_this.state.isShowDiff&&'checked',name:'option',className:'custom-switch-input',onChange:_this.onSwitchShowDiff}),_react2.default.createElement('span',{className:'custom-switch-indicator'})),_react2.default.createElement(_reactstrap.Tooltip,{placement:'bottom',isOpen:_this.state.showDiffTip,target:'toggle-diff',toggle:_this.toggleDiffTip},(0,_constants.gettext)('View diff')));};_this.onPublishDraft=function(){_seafileApi.seafileAPI.publishDraft(_constants.draftID).then(function(res){var OriginFileLink=_constants.siteRoot+'lib/'+_constants.draftRepoID+'/file'+_utils.Utils.encodePath(res.data.published_file_path);window.location.href=OriginFileLink;});};_this.initialDiffViewerContent=function(){_seafileApi.seafileAPI.listFileHistoryRecords(_constants.draftRepoID,_constants.draftFilePath,1,25).then(function(res){_this.setState({historyList:res.data.data,totalReversionCount:res.data.total_count});if(res.data.data.length>1){_axios2.default.all([_seafileApi.seafileAPI.getFileRevision(_constants.draftRepoID,res.data.data[0].commit_id,_constants.draftFilePath),_seafileApi.seafileAPI.getFileRevision(_constants.draftRepoID,res.data.data[1].commit_id,_constants.draftFilePath)]).then(_axios2.default.spread(function(res1,res2){_axios2.default.all([_seafileApi.seafileAPI.getFileContent(res1.data),_seafileApi.seafileAPI.getFileContent(res2.data)]).then(_axios2.default.spread(function(content1,content2){_this.setState({draftContent:content1.data,draftOriginContent:content2.data});}));}));}else{_seafileApi.seafileAPI.getFileRevision(_constants.draftRepoID,res.data.data[0].commit_id,_constants.draftFilePath).then(function(res){_seafileApi.seafileAPI.getFileContent(res.data).then(function(content){_this.setState({draftContent:content.data,draftOriginContent:''});});});}});};_this.setDiffViewerContent=function(newContent,prevContent){_this.setState({draftContent:newContent,draftOriginContent:prevContent,isLoading:false});};_this.setURL=function(newurl){var url=new URL(window.location.href);url.set('hash',newurl);window.location.href=url.toString();};_this.tabItemClick=function(tab){if(_this.state.activeTab!==tab){if(tab!=='history'&&window.location.hash){_this.setURL('#');}if(tab=='reviewInfo'){_this.initialContent();}else if(tab=='history'){_this.initialDiffViewerContent();}_this.setState({activeTab:tab});}};_this.showNavItem=function(showTab){switch(showTab){case'info':return _react2.default.createElement(_reactstrap.NavItem,{className:'nav-item'},_react2.default.createElement(_reactstrap.NavLink,{className:(0,_classnames2.default)({active:_this.state.activeTab==='reviewInfo'}),onClick:function onClick(){_this.tabItemClick('reviewInfo');}},_react2.default.createElement('i',{className:'fas fa-info-circle'})));case'comments':return _react2.default.createElement(_reactstrap.NavItem,{className:'nav-item'},_react2.default.createElement(_reactstrap.NavLink,{className:(0,_classnames2.default)({active:_this.state.activeTab==='comments'}),onClick:function onClick(){_this.tabItemClick('comments');}},_react2.default.createElement('i',{className:'fa fa-comments'}),_this.state.commentsNumber>0&&_react2.default.createElement('div',{className:'comments-number'},_this.state.commentsNumber)));case'history':return _react2.default.createElement(_reactstrap.NavItem,{className:'nav-item'},_react2.default.createElement(_reactstrap.NavLink,{className:(0,_classnames2.default)({active:_this.state.activeTab==='history'}),onClick:function onClick(){_this.tabItemClick('history');}},_react2.default.createElement('i',{className:'fas fa-history'})));}};_this.setBtnPosition=function(e){var nativeSelection=window.getSelection();if(!nativeSelection.rangeCount){_this.range=null;return;}if(nativeSelection.isCollapsed===false){var nativeRange=nativeSelection.getRangeAt(0);var focusNode=nativeSelection.focusNode;if(focusNode.tagName==='I'||focusNode.nodeType!==3&&focusNode.getAttribute('class')==='language-type'){// fix select last paragraph\nvar fragment=nativeRange.cloneContents();var startNode=fragment.firstChild.firstChild;if(!startNode){return;}var newNativeRange=document.createRange();newNativeRange.setStartBefore(startNode);newNativeRange.setEndAfter(startNode);_this.range=(0,_slateReact.findRange)(newNativeRange,_this.refs.diffViewer);}else{_this.range=(0,_slateReact.findRange)(nativeRange,_this.refs.diffViewer);}if(!_this.range){return;}var rect=nativeRange.getBoundingClientRect();// fix Safari bug\nif(navigator.userAgent.indexOf('Chrome')<0&&navigator.userAgent.indexOf('Safari')>0){if(nativeRange.collapsed&&rect.top==0&&rect.height==0){if(nativeRange.startOffset==0){nativeRange.setEnd(nativeRange.endContainer,1);}else{nativeRange.setStart(nativeRange.startContainer,nativeRange.startOffset-1);}rect=nativeRange.getBoundingClientRect();if(rect.top==0&&rect.height==0){if(nativeRange.getClientRects().length){rect=nativeRange.getClientRects()[0];}}}}var style=_this.refs.commentbtn.style;style.top=rect.top-100+_this.refs.viewContent.scrollTop+'px';}else{var _style=_this.refs.commentbtn.style;_style.top='-1000px';}};_this.getQuote=function(){var range=_this.range;if(!range){return;}_this.quote='';var document=_this.refs.diffViewer.value.document;var _range=range,anchor=_range.anchor,focus=_range.focus;var anchorText=document.getNode(anchor.key);var focusText=document.getNode(focus.key);var anchorInline=document.getClosestInline(anchor.key);var focusInline=document.getClosestInline(focus.key);// COMPAT: If the selection is at the end of a non-void inline node, and\n// there is a node after it, put it in the node after instead. This\n// standardizes the behavior, since it's indistinguishable to the user.\nif(anchorInline&&anchor.offset==anchorText.text.length){var block=document.getClosestBlock(anchor.key);var nextText=block.getNextText(anchor.key);if(nextText){range=range.moveAnchorTo(nextText.key,0);}}if(focusInline&&focus.offset==focusText.text.length){var _block=document.getClosestBlock(focus.key);var _nextText=_block.getNextText(focus.key);if(_nextText){range=range.moveFocusTo(_nextText.key,0);}}var fragment=document.getFragmentAtRange(range);var nodes=_this.removeNullNode(fragment.nodes);var newFragment=_slate.Document.create({nodes:nodes});var newValue=_slate.Value.create({document:newFragment});_this.quote=(0,_serialize.serialize)(newValue.toJSON());var blockPath=document.createSelection(range).anchor.path.slice(0,1);var node=document.getNode(blockPath);_this.newIndex=node.data.get('new_index');_this.oldIndex=node.data.get('old_index');};_this.removeNullNode=function(oldNodes){var newNodes=[];oldNodes.map(function(node){var text=node.text.trim();var childNodes=node.nodes;if(!text){return;}if(childNodes&&childNodes.size===1||!childNodes){newNodes.push(node);}else if(childNodes.size>1){var nodes=_this.removeNullNode(childNodes);var newNode=_slate.Block.create({nodes:nodes,data:node.data,key:node.key,type:node.type});newNodes.push(newNode);}});return newNodes;};_this.onResizeMouseUp=function(){if(_this.state.inResizing){_this.setState({inResizing:false});}};_this.onResizeMouseDown=function(){_this.setState({inResizing:true});};_this.onResizeMouseMove=function(e){var rate=100-e.nativeEvent.clientX/_this.refs.main.clientWidth*100;if(rate<20||rate>60){_this.setState({inResizing:false});return null;}_this.setState({rightPartWidth:rate});};_this.renderDiffButton=function(){switch(_constants.draftStatus){case'open':if(!_constants.draftFileExists){return;}if(!_constants.originFileExists){return;}return _this.showDiffButton();case'published':if(!_constants.originFileExists){return;}return _this.showDiffButton();}};_this.renderNavItems=function(){switch(_constants.draftStatus){case'open':if(!_constants.draftFileExists){return _react2.default.createElement(_reactstrap.Nav,{tabs:true,className:'review-side-panel-nav'},_this.showNavItem('info'));}return _react2.default.createElement(_reactstrap.Nav,{tabs:true,className:'review-side-panel-nav'},_this.showNavItem('info'),_this.showNavItem('comments'),_this.showNavItem('history'));case'published':if(!_constants.originFileExists){return _react2.default.createElement(_reactstrap.Nav,{tabs:true,className:'review-side-panel-nav'},_this.showNavItem('info'));}return _react2.default.createElement(_reactstrap.Nav,{tabs:true,className:'review-side-panel-nav'},_this.showNavItem('info'),_this.showNavItem('comments'));}};_this.renderContent=function(){switch(_constants.draftStatus){case'open':if(!_constants.draftFileExists){return _react2.default.createElement('p',{className:'error'},(0,_constants.gettext)('Draft has been deleted.'));}return _this.showDiffViewer();case'published':if(!_constants.originFileExists){return _react2.default.createElement('p',{className:'error'},(0,_constants.gettext)('Original file has been deleted.'));}return _this.showDiffViewer();}};_this.state={draftContent:'',draftOriginContent:'',isLoading:true,isShowDiff:true,showDiffTip:false,activeTab:'reviewInfo',commentsNumber:null,changedNodes:[],originRepoName:'',isShowCommentDialog:false,unresolvedComments:0,activeItem:null,historyList:[],showReviewerDialog:false,reviewers:[],inResizing:false,rightPartWidth:30};_this.quote='';_this.newIndex=null;_this.oldIndex=null;_this.changeIndex=-1;_this.range=null;return _this;}_createClass(Draft,[{key:'componentWillMount',value:function componentWillMount(){this.getCommentsNumber();this.listReviewers();this.getOriginRepoInfo();}},{key:'componentDidMount',value:function componentDidMount(){this.initialContent();document.addEventListener('selectionchange',this.setBtnPosition);}},{key:'componentWillUnmount',value:function componentWillUnmount(){document.removeEventListener('selectionchange',this.setBtnPosition);}},{key:'render',value:function render(){var onResizeMove=this.state.inResizing?this.onResizeMouseMove:null;var draftLink=_constants.siteRoot+'lib/'+_constants.draftRepoID+'/file'+_constants.draftFilePath+'?mode=edit';return _react2.default.createElement('div',{className:'wrapper'},_react2.default.createElement('div',{id:'header',className:'header review'},_react2.default.createElement('div',{className:'cur-file-info'},_react2.default.createElement('div',{className:'info-item file-feature'},_react2.default.createElement('span',{className:'sf2-icon-review'})),_react2.default.createElement('div',{className:'info-item file-info'},_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement('span',{className:'file-name'},_constants.draftFileName),_constants.draftFileExists&&_react2.default.createElement('a',{href:draftLink,className:'draft-link'},(0,_constants.gettext)('Edit draft'))))),_react2.default.createElement('div',{className:'button-group'},this.renderDiffButton(),_constants.draftFileExists&&_react2.default.createElement('button',{className:'btn btn-success file-operation-btn',title:(0,_constants.gettext)('Publish draft'),onClick:this.onPublishDraft},(0,_constants.gettext)('Publish')),_constants.draftStatus=='published'&&_react2.default.createElement('button',{className:'btn btn-success file-operation-btn',title:(0,_constants.gettext)('Published'),disabled:true},(0,_constants.gettext)('Published')))),_react2.default.createElement('div',{id:'main',className:'main',ref:'main'},_react2.default.createElement('div',{className:'cur-view-container',onMouseMove:onResizeMove,onMouseUp:this.onResizeMouseUp},_react2.default.createElement('div',{className:'cur-view-content',ref:'viewContent',style:{width:100-this.state.rightPartWidth+'%'}},this.state.isLoading?_react2.default.createElement('div',{className:'markdown-viewer-render-content article'},_react2.default.createElement(_loading2.default,null)):_react2.default.createElement('div',{className:'markdown-viewer-render-content article'},this.renderContent())),_react2.default.createElement('div',{className:'cur-view-right-part',style:{width:this.state.rightPartWidth+'%'}},_react2.default.createElement('div',{className:'seafile-comment-resize',onMouseDown:this.onResizeMouseDown}),_react2.default.createElement('div',{className:'review-side-panel'},this.renderNavItems(),_react2.default.createElement(_reactstrap.TabContent,{activeTab:this.state.activeTab},_react2.default.createElement(_reactstrap.TabPane,{tabId:'reviewInfo'},_react2.default.createElement('div',{className:'review-side-panel-body'},_react2.default.createElement(SidePanelReviewers,{reviewers:this.state.reviewers,toggleAddReviewerDialog:this.toggleAddReviewerDialog}),_react2.default.createElement(SidePanelAuthor,null),_constants.draftFileExists&&_react2.default.createElement(UnresolvedComments,{number:this.state.unresolvedComments}),this.state.isShowDiff===true&&this.state.changedNodes.length>0&&_react2.default.createElement(SidePanelChanges,{changedNumber:this.state.changedNodes.length,scrollToChangedNode:this.scrollToChangedNode}),_react2.default.createElement(SidePanelOrigin,{originRepoName:this.state.originRepoName}),_constants.draftFileExists&&_react2.default.createElement('a',{href:draftLink},_react2.default.createElement(_reactstrap.Button,{color:'secondary'},(0,_constants.gettext)('Edit Draft'))))),_react2.default.createElement(_reactstrap.TabPane,{tabId:'comments',className:'comments'},_react2.default.createElement(_reviewComments2.default,{scrollToQuote:this.scrollToQuote,getCommentsNumber:this.getCommentsNumber,commentsNumber:this.state.commentsNumber,inResizing:false})),_react2.default.createElement(_reactstrap.TabPane,{tabId:'history',className:'history'},_react2.default.createElement(_historyList2.default,{activeItem:this.state.activeItem,historyList:this.state.historyList,totalReversionCount:this.state.totalReversionCount,onHistoryItemClick:this.onHistoryItemClick,onHistoryListChange:this.onHistoryListChange}))))))),this.state.showReviewerDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_addReviewerDialog2.default,{showReviewerDialog:this.state.showReviewerDialog,toggleAddReviewerDialog:this.toggleAddReviewerDialog,draftID:_constants.draftID,reviewers:this.state.reviewers})),this.state.isShowCommentDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_reviewCommentDialog2.default,{toggleCommentDialog:this.toggleCommentDialog,onCommentAdded:this.onCommentAdded,quote:this.quote,draftID:_constants.draftID,newIndex:this.newIndex,oldIndex:this.oldIndex})));}}]);return Draft;}(_react2.default.Component);var SidePanelReviewers=function(_React$Component2){_inherits(SidePanelReviewers,_React$Component2);function SidePanelReviewers(props){_classCallCheck(this,SidePanelReviewers);return _possibleConstructorReturn(this,(SidePanelReviewers.__proto__||Object.getPrototypeOf(SidePanelReviewers)).call(this,props));}_createClass(SidePanelReviewers,[{key:'render',value:function render(){return _react2.default.createElement('div',{className:'review-side-panel-item'},_react2.default.createElement('div',{className:'review-side-panel-header'},(0,_constants.gettext)('Reviewers'),_react2.default.createElement('i',{className:'fa fa-cog',onClick:this.props.toggleAddReviewerDialog})),this.props.reviewers.length>0?this.props.reviewers.map(function(item){var index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var arr=arguments[2];return _react2.default.createElement('div',{className:'reviewer-info',key:index},_react2.default.createElement('img',{className:'avatar review-side-panel-avatar',src:item.avatar_url,alt:''}),_react2.default.createElement('span',{className:'reviewer-name'},item.user_name));}):_react2.default.createElement('span',null,(0,_constants.gettext)('No reviewer yet.')));}}]);return SidePanelReviewers;}(_react2.default.Component);var sidePanelReviewersPropTypes={reviewers:_propTypes2.default.array.isRequired,toggleAddReviewerDialog:_propTypes2.default.func.isRequired};SidePanelReviewers.propTypes=sidePanelReviewersPropTypes;var SidePanelAuthor=function(_React$Component3){_inherits(SidePanelAuthor,_React$Component3);function SidePanelAuthor(){_classCallCheck(this,SidePanelAuthor);return _possibleConstructorReturn(this,(SidePanelAuthor.__proto__||Object.getPrototypeOf(SidePanelAuthor)).apply(this,arguments));}_createClass(SidePanelAuthor,[{key:'render',value:function render(){return _react2.default.createElement('div',{className:'review-side-panel-item'},_react2.default.createElement('div',{className:'review-side-panel-header'},(0,_constants.gettext)('Author')),_react2.default.createElement('div',{className:'author-info'},_react2.default.createElement('img',{className:'avatar review-side-panel-avatar',src:_constants.authorAvatar,alt:''}),_react2.default.createElement('span',{className:'author-name'},_constants.author)));}}]);return SidePanelAuthor;}(_react2.default.Component);var SidePanelOrigin=function(_React$Component4){_inherits(SidePanelOrigin,_React$Component4);function SidePanelOrigin(props){_classCallCheck(this,SidePanelOrigin);return _possibleConstructorReturn(this,(SidePanelOrigin.__proto__||Object.getPrototypeOf(SidePanelOrigin)).call(this,props));}_createClass(SidePanelOrigin,[{key:'render',value:function render(){return _react2.default.createElement('div',{className:'dirent-table-container'},_react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'25%'}),_react2.default.createElement('th',{width:'75%'}))),_react2.default.createElement('tbody',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Location')),_react2.default.createElement('td',null,this.props.originRepoName,_constants.draftFilePath)))));}}]);return SidePanelOrigin;}(_react2.default.Component);var SidePanelOriginPropTypes={originRepoName:_propTypes2.default.string.isRequired};SidePanelOrigin.propTypes=SidePanelOriginPropTypes;var UnresolvedComments=function(_React$Component5){_inherits(UnresolvedComments,_React$Component5);function UnresolvedComments(props){_classCallCheck(this,UnresolvedComments);return _possibleConstructorReturn(this,(UnresolvedComments.__proto__||Object.getPrototypeOf(UnresolvedComments)).call(this,props));}_createClass(UnresolvedComments,[{key:'render',value:function render(){return _react2.default.createElement('div',{className:'review-side-panel-item'},_react2.default.createElement('div',{className:'review-side-panel-header'},(0,_constants.gettext)('Comments')),_react2.default.createElement('div',{className:'changes-info'},_react2.default.createElement('span',null,(0,_constants.gettext)('Unresolved comments:'),' ',this.props.number)));}}]);return UnresolvedComments;}(_react2.default.Component);var UnresolvedCommentsPropTypes={number:_propTypes2.default.number.isRequired};UnresolvedComments.propTypes=UnresolvedCommentsPropTypes;var SidePanelChanges=function(_React$Component6){_inherits(SidePanelChanges,_React$Component6);function SidePanelChanges(props){_classCallCheck(this,SidePanelChanges);return _possibleConstructorReturn(this,(SidePanelChanges.__proto__||Object.getPrototypeOf(SidePanelChanges)).call(this,props));}_createClass(SidePanelChanges,[{key:'render',value:function render(){var _this7=this;return _react2.default.createElement('div',{className:'review-side-panel-item'},_react2.default.createElement('div',{className:'review-side-panel-header'},(0,_constants.gettext)('Changes')),_react2.default.createElement('div',{className:'changes-info'},_react2.default.createElement('span',null,(0,_constants.gettext)('Number of changes:'),' ',this.props.changedNumber),this.props.changedNumber>0&&_react2.default.createElement('div',null,_react2.default.createElement('i',{className:'fa fa-arrow-circle-up',onClick:function onClick(){_this7.props.scrollToChangedNode('down');}}),_react2.default.createElement('i',{className:'fa fa-arrow-circle-down',onClick:function onClick(){_this7.props.scrollToChangedNode('up');}}))));}}]);return SidePanelChanges;}(_react2.default.Component);var sidePanelChangesPropTypes={changedNumber:_propTypes2.default.number.isRequired,scrollToChangedNode:_propTypes2.default.func.isRequired};SidePanelChanges.propTypes=sidePanelChangesPropTypes;_reactDom2.default.render(_react2.default.createElement(Draft,null),document.getElementById('wrapper'));\n\n/***/ }),\n\n/***/ 1250:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _seafileMarkdown2html=__webpack_require__(526);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _reviewComment=__webpack_require__(1255);var _reviewComment2=_interopRequireDefault(_reviewComment);var _constants2=__webpack_require__(2);__webpack_require__(1256);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var commentPropTypes={getCommentsNumber:_propTypes2.default.func.isRequired,inResizing:_propTypes2.default.bool.isRequired,commentsNumber:_propTypes2.default.number,scrollToQuote:_propTypes2.default.func.isRequired};var ReviewComments=function(_React$Component){_inherits(ReviewComments,_React$Component);function ReviewComments(props){_classCallCheck(this,ReviewComments);var _this=_possibleConstructorReturn(this,(ReviewComments.__proto__||Object.getPrototypeOf(ReviewComments)).call(this,props));_this.listComments=function(scroll){_seafileApi.seafileAPI.listComments(_constants.draftRepoID,_constants.draftFilePath).then(function(response){var commentList=[];response.data.comments.forEach(function(item){var commentItem=new _reviewComment2.default(item);commentList.push(commentItem);});_this.setState({commentsList:commentList});if(scroll){var that=_this;setTimeout(function(){that.refs.commentsList.scrollTo(0,10000);},100);}});};_this.handleCommentChange=function(event){_this.setState({comment:event.target.value});};_this.submitComment=function(){var comment=_this.state.comment.trim();if(comment.length>0){_seafileApi.seafileAPI.postComment(_constants.draftRepoID,_constants.draftFilePath,comment).then(function(response){_this.listComments(true);_this.props.getCommentsNumber();});_this.setState({comment:''});}};_this.resolveComment=function(event){_seafileApi.seafileAPI.updateComment(_constants.draftRepoID,event.target.id,'true').then(function(res){_this.props.getCommentsNumber();_this.listComments();});};_this.editComment=function(commentID,newComment){_seafileApi.seafileAPI.updateComment(_constants.draftRepoID,commentID,null,null,newComment).then(function(res){_this.props.getCommentsNumber();_this.listComments();});};_this.toggleResolvedComment=function(){_this.setState({showResolvedComment:!_this.state.showResolvedComment});};_this.deleteComment=function(event){_seafileApi.seafileAPI.deleteComment(_constants.draftRepoID,event.target.id).then(function(res){_this.props.getCommentsNumber();_this.listComments();});};_this.onResizeMouseUp=function(){if(_this.state.inResizing){_this.setState({inResizing:false});}};_this.onResizeMouseDown=function(){_this.setState({inResizing:true});};_this.onResizeMouseMove=function(event){var rate=100-(event.nativeEvent.clientY-120)/_this.refs.comment.clientHeight*100;if(rate<20||rate>70){if(rate<20){_this.setState({commentFooterHeight:25});}if(rate>70){_this.setState({commentFooterHeight:65});}_this.setState({inResizing:false});return null;}_this.setState({commentFooterHeight:rate});};_this.scrollToQuote=function(newIndex,oldIndex,quote){_this.props.scrollToQuote(newIndex,oldIndex,quote);_this.setState({comment:''});};_this.state={commentsList:[],inResizing:false,commentFooterHeight:25,showResolvedComment:true,comment:''};return _this;}_createClass(ReviewComments,[{key:'componentWillMount',value:function componentWillMount(){this.listComments();}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(this.props.commentsNumber!==nextProps.commentsNumber){this.listComments();}}},{key:'render',value:function render(){var _this2=this;var onResizeMove=this.state.inResizing?this.onResizeMouseMove:null;return _react2.default.createElement('div',{className:this.state.inResizing||this.props.inResizing?'seafile-comment seafile-comment-resizing':'seafile-comment',onMouseMove:onResizeMove,onMouseUp:this.onResizeMouseUp,ref:'comment'},_react2.default.createElement('div',{className:'seafile-comment-title'},_react2.default.createElement('div',{className:'seafile-comment-title-text'},(0,_constants.gettext)('Show resolved comments')),_react2.default.createElement('div',{className:'seafile-comment-title-toggle'},_react2.default.createElement('label',{className:'custom-switch',id:'toggle-resolved-comments'},_react2.default.createElement('input',{type:'checkbox',name:'option',className:'custom-switch-input',onChange:this.toggleResolvedComment,checked:this.state.showResolvedComment&&'checked'}),_react2.default.createElement('span',{className:'custom-switch-indicator'})))),_react2.default.createElement('div',{style:{height:100-this.state.commentFooterHeight+'%'}},this.props.commentsNumber==0&&_react2.default.createElement('div',{className:'seafile-comment-list'},_react2.default.createElement('div',{className:'comment-vacant'},(0,_constants.gettext)('No comment yet.'))),this.state.commentsList.length===0&&this.props.commentsNumber>0&&_react2.default.createElement('div',{className:'seafile-comment-list'},_react2.default.createElement(_loading2.default,null)),this.state.commentsList.length>0&&_react2.default.createElement('ul',{className:'seafile-comment-list',ref:'commentsList'},this.state.commentsList.length>0&&this.props.commentsNumber>0&&this.state.commentsList.map(function(item,index){return _react2.default.createElement(CommentItem,{item:item,showResolvedComment:_this2.state.showResolvedComment,resolveComment:_this2.resolveComment,key:index,editComment:_this2.editComment,scrollToQuote:_this2.scrollToQuote,deleteComment:_this2.deleteComment});}))),_react2.default.createElement('div',{className:'seafile-comment-footer',style:{height:this.state.commentFooterHeight+'%'}},_react2.default.createElement('div',{className:'seafile-comment-row-resize',onMouseDown:this.onResizeMouseDown}),_react2.default.createElement('div',{className:'seafile-add-comment'},_react2.default.createElement('textarea',{className:'add-comment-input',value:this.state.comment,placeholder:(0,_constants.gettext)('Add a comment.'),onChange:this.handleCommentChange,clos:'100',rows:'3',warp:'virtual'}),_react2.default.createElement(_reactstrap.Button,{className:'comment-btn',color:'success',size:'sm',onClick:this.submitComment},(0,_constants.gettext)('Submit')))));}}]);return ReviewComments;}(_react2.default.Component);ReviewComments.propTypes=commentPropTypes;var commentItemPropTypes={item:_propTypes2.default.object.isRequired,deleteComment:_propTypes2.default.func.isRequired,resolveComment:_propTypes2.default.func.isRequired,editComment:_propTypes2.default.func.isRequired,showResolvedComment:_propTypes2.default.bool.isRequired,scrollToQuote:_propTypes2.default.func.isRequired};var CommentItem=function(_React$Component2){_inherits(CommentItem,_React$Component2);function CommentItem(props){_classCallCheck(this,CommentItem);var _this3=_possibleConstructorReturn(this,(CommentItem.__proto__||Object.getPrototypeOf(CommentItem)).call(this,props));_this3.toggleDropDownMenu=function(){_this3.setState({dropdownOpen:!_this3.state.dropdownOpen});};_this3.convertComment=function(item){_seafileMarkdown2html.processor.process(item.comment).then(function(result){var comment=String(result);_this3.setState({comment:comment});});_seafileMarkdown2html.processor.process(item.quote).then(function(result){var quote=String(result);_this3.setState({quote:quote});});};_this3.scrollToQuote=function(){var item=_this3.props.item;_this3.props.scrollToQuote(item.newIndex,item.oldIndex,item.quote);};_this3.toggleEditComment=function(){_this3.setState({editable:!_this3.state.editable});};_this3.updateComment=function(event){var newComment=_this3.state.newComment;if(_this3.props.item.comment!==newComment){_this3.props.editComment(event.target.id,newComment);}_this3.toggleEditComment();};_this3.handleCommentChange=function(event){_this3.setState({newComment:event.target.value});};_this3.state={dropdownOpen:false,comment:'',quote:'',newComment:_this3.props.item.comment,editable:false};return _this3;}_createClass(CommentItem,[{key:'componentWillMount',value:function componentWillMount(){this.convertComment(this.props.item);}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){this.convertComment(nextProps.item);}},{key:'render',value:function render(){var item=this.props.item;if(item.resolved&&!this.props.showResolvedComment){return null;}if(this.state.editable){return _react2.default.createElement('li',{className:'seafile-comment-item',id:item.id},_react2.default.createElement('div',{className:'seafile-comment-info'},_react2.default.createElement('img',{className:'avatar',src:item.avatarUrl,alt:''}),_react2.default.createElement('div',{className:'reviewer-info'},_react2.default.createElement('div',{className:'reviewer-name'},item.name),_react2.default.createElement('div',{className:'review-time'},item.time))),_react2.default.createElement('div',{className:'seafile-edit-comment'},_react2.default.createElement('textarea',{className:'edit-comment-input',value:this.state.newComment,onChange:this.handleCommentChange,clos:'100',rows:'3',warp:'virtual'}),_react2.default.createElement(_reactstrap.Button,{className:'comment-btn',color:'success',size:'sm',onClick:this.updateComment,id:item.id},(0,_constants.gettext)('Update')),' ',_react2.default.createElement(_reactstrap.Button,{className:'comment-btn',color:'secondary',size:'sm',onClick:this.toggleEditComment},' ',(0,_constants.gettext)('Cancel'))));}return _react2.default.createElement('li',{className:item.resolved?'seafile-comment-item seafile-comment-item-resolved':'seafile-comment-item',id:item.id},_react2.default.createElement('div',{className:'seafile-comment-info'},_react2.default.createElement('img',{className:'avatar',src:item.avatarUrl,alt:''}),_react2.default.createElement('div',{className:'reviewer-info'},_react2.default.createElement('div',{className:'reviewer-name'},item.name),_react2.default.createElement('div',{className:'review-time'},item.time)),!item.resolved&&_react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.dropdownOpen,size:'sm',className:'seafile-comment-dropdown',toggle:this.toggleDropDownMenu},_react2.default.createElement(_reactstrap.DropdownToggle,{className:'seafile-comment-dropdown-btn'},_react2.default.createElement('i',{className:'fas fa-ellipsis-v'})),_react2.default.createElement(_reactstrap.DropdownMenu,null,item.userEmail===_constants2.username&&_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.props.deleteComment,className:'delete-comment',id:item.id},(0,_constants.gettext)('Delete')),item.userEmail===_constants2.username&&_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.toggleEditComment,className:'edit-comment',id:item.id},(0,_constants.gettext)('Edit')),_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.props.resolveComment,className:'seafile-comment-resolved',id:item.id},(0,_constants.gettext)('Mark as resolved'))))),item.newIndex>=-1&&item.oldIndex>=-1&&_react2.default.createElement('blockquote',{className:'seafile-comment-content'},_react2.default.createElement('div',{onClick:this.scrollToQuote,dangerouslySetInnerHTML:{__html:this.state.quote}})),_react2.default.createElement('div',{className:'seafile-comment-content',dangerouslySetInnerHTML:{__html:this.state.comment}}));}}]);return CommentItem;}(_react2.default.Component);CommentItem.propTypes=commentItemPropTypes;exports.default=ReviewComments;\n\n/***/ }),\n\n/***/ 1255:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var reviewComment=function reviewComment(item){_classCallCheck(this,reviewComment);var oldTime=new Date(item.created_at).getTime();this.time=(0,_moment2.default)(oldTime).format('YYYY-MM-DD HH:mm');this.id=item.id;this.avatarUrl=item.avatar_url;this.comment=item.comment;this.name=item.user_name;this.userEmail=item.user_email;this.resolved=item.resolved;if(item.detail){var detail=JSON.parse(item.detail);this.newIndex=detail.newIndex;this.oldIndex=detail.oldIndex;this.quote=detail.quote;}};exports.default=reviewComment;\n\n/***/ }),\n\n/***/ 1256:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 1257:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _seafileMarkdown2html=__webpack_require__(526);__webpack_require__(1258);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var commentDialogPropTypes={onCommentAdded:_propTypes2.default.func.isRequired,toggleCommentDialog:_propTypes2.default.func.isRequired,quote:_propTypes2.default.string,newIndex:_propTypes2.default.number,oldIndex:_propTypes2.default.number,draftID:_propTypes2.default.string};var ReviewCommentDialog=function(_React$Component){_inherits(ReviewCommentDialog,_React$Component);function ReviewCommentDialog(props){_classCallCheck(this,ReviewCommentDialog);var _this=_possibleConstructorReturn(this,(ReviewCommentDialog.__proto__||Object.getPrototypeOf(ReviewCommentDialog)).call(this,props));_this.handleCommentChange=function(event){var comment=event.target.value;_this.setState({comment:comment});};_this.submitComment=function(){var comment=_this.state.comment.trim();if(comment.length>0){if(_this.props.quote.length>0){var detail={quote:_this.props.quote,newIndex:_this.props.newIndex,oldIndex:_this.props.oldIndex};var detailJSON=JSON.stringify(detail);_seafileApi.seafileAPI.postComment(_constants.draftRepoID,_constants.draftFilePath,comment,detailJSON).then(function(response){_this.props.onCommentAdded();});}else{_seafileApi.seafileAPI.postComment(_constants.draftRepoID,_constants.draftFilePath,comment).then(function(response){_this.props.onCommentAdded();});}_this.setState({comment:''});}};_this.setQuoteText=function(mdQuote){_seafileMarkdown2html.processor.process(mdQuote).then(function(result){var quote=String(result);_this.setState({quote:quote});});};_this.state={comment:'',quote:''};return _this;}_createClass(ReviewCommentDialog,[{key:'componentDidMount',value:function componentDidMount(){this.setQuoteText(this.props.quote);}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(this.props.quote!==nextProps.quote){this.setQuoteText(nextProps.quote);}}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'review-comment-dialog'},_react2.default.createElement('div',null,_constants.name),_react2.default.createElement('blockquote',{className:'review-comment-dialog-quote'},_react2.default.createElement('div',{dangerouslySetInnerHTML:{__html:this.state.quote}})),_react2.default.createElement('textarea',{value:this.state.comment,onChange:this.handleCommentChange}),_react2.default.createElement('div',{className:'button-group'},_react2.default.createElement(_reactstrap.Button,{size:'sm',color:'primary',onClick:this.submitComment},(0,_constants.gettext)('Submit')),_react2.default.createElement(_reactstrap.Button,{size:'sm',color:'secondary',onClick:this.props.toggleCommentDialog},(0,_constants.gettext)('Cancel'))),_react2.default.createElement('span',{className:'review-comment-dialog-triangle'}));}}]);return ReviewCommentDialog;}(_react2.default.Component);ReviewCommentDialog.propTypes=commentDialogPropTypes;exports.default=ReviewCommentDialog;\n\n/***/ }),\n\n/***/ 1258:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 1259:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);var _userSelect=__webpack_require__(23);var _userSelect2=_interopRequireDefault(_userSelect);__webpack_require__(1260);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={showReviewerDialog:_propTypes2.default.bool.isRequired,draftID:_propTypes2.default.string.isRequired,toggleAddReviewerDialog:_propTypes2.default.func.isRequired,reviewers:_propTypes2.default.array.isRequired};var AddReviewerDialog=function(_React$Component){_inherits(AddReviewerDialog,_React$Component);function AddReviewerDialog(props){_classCallCheck(this,AddReviewerDialog);var _this=_possibleConstructorReturn(this,(AddReviewerDialog.__proto__||Object.getPrototypeOf(AddReviewerDialog)).call(this,props));_this.listReviewers=function(){_seafileApi.seafileAPI.listDraftReviewers(_this.props.draftID).then(function(res){_this.setState({reviewers:res.data.reviewers});});};_this.handleSelectChange=function(option){_this.setState({selectedOption:option});_this.Options=[];};_this.addReviewers=function(){if(_this.state.selectedOption.length>0){_this.refs.reviewSelect.clearSelect();var reviewers=[];for(var i=0;i<_this.state.selectedOption.length;i++){reviewers[i]=_this.state.selectedOption[i].email;}_this.setState({loading:true,errorMsg:[]});_seafileApi.seafileAPI.addDraftReviewers(_this.props.draftID,reviewers).then(function(res){if(res.data.failed.length>0){var errorMsg=[];for(var _i=0;_i<res.data.failed.length;_i++){errorMsg[_i]=res.data.failed[_i];}_this.setState({errorMsg:errorMsg});}_this.setState({selectedOption:null,loading:false});if(res.data.success.length>0){_this.listReviewers();}});}};_this.deleteReviewer=function(event){var reviewer=event.target.getAttribute('name');_seafileApi.seafileAPI.deleteDraftReviewer(_this.props.draftID,reviewer).then(function(res){if(res.data===200){var newReviewers=[];for(var i=0;i<_this.state.reviewers.length;i++){if(_this.state.reviewers[i].user_email!==reviewer){newReviewers.push(_this.state.reviewers[i]);}}_this.setState({reviewers:newReviewers});}});};_this.state={reviewers:_this.props.reviewers,selectedOption:null,errorMsg:[],loading:false};_this.Options=[];return _this;}_createClass(AddReviewerDialog,[{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.props.toggleAddReviewerDialog},_react2.default.createElement(_reactstrap.ModalHeader,null,(0,_constants.gettext)('Request a review')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('p',null,(0,_constants.gettext)('Add new reviewer')),_react2.default.createElement('div',{className:'add-reviewer'},_react2.default.createElement(_userSelect2.default,{placeholder:(0,_constants.gettext)('Select users...'),onSelectChange:this.handleSelectChange,ref:'reviewSelect',isMulti:true,className:'reviewer-select'}),this.state.selectedOption&&!this.state.loading?_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.addReviewers},(0,_constants.gettext)('Submit')):_react2.default.createElement(_reactstrap.Button,{color:'secondary',disabled:true},(0,_constants.gettext)('Submit'))),this.state.errorMsg.length>0&&this.state.errorMsg.map(function(item){var index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var arr=arguments[2];return _react2.default.createElement('p',{className:'reviewer-select-error error',key:index},_this2.state.errorMsg[index].email,': ',_this2.state.errorMsg[index].error_msg);}),this.state.reviewers.length>0&&this.state.reviewers.map(function(item){var index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var arr=arguments[2];return _react2.default.createElement('div',{className:'reviewer-select-info',key:index},_react2.default.createElement('div',null,_react2.default.createElement('img',{className:'avatar reviewer-select-avatar',src:item.avatar_url,alt:''}),_react2.default.createElement('span',{className:'reviewer-select-name'},item.user_name)),_react2.default.createElement('i',{className:'fa fa-times',name:item.user_email,onClick:_this2.deleteReviewer}));})),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.props.toggleAddReviewerDialog},(0,_constants.gettext)('Close'))));}}]);return AddReviewerDialog;}(_react2.default.Component);AddReviewerDialog.propTypes=propTypes;exports.default=AddReviewerDialog;\n\n/***/ }),\n\n/***/ 1260:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 1261:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _axios=__webpack_require__(158);var _axios2=_interopRequireDefault(_axios);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);__webpack_require__(311);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}/* eslint-disable linebreak-style */_moment2.default.locale(window.app.config.lang);var HistoryList=function(_React$Component){_inherits(HistoryList,_React$Component);function HistoryList(props){_classCallCheck(this,HistoryList);var _this=_possibleConstructorReturn(this,(HistoryList.__proto__||Object.getPrototypeOf(HistoryList)).call(this,props));_this.onClick=function(event,key,preItem,currentItem){if(key===_this.state.activeItem)return false;_this.props.onHistoryItemClick(currentItem,preItem,key);};_this.onScroll=function(event){var clientHeight=event.target.clientHeight;var scrollHeight=event.target.scrollHeight;var scrollTop=event.target.scrollTop;var isBottom=clientHeight+scrollTop+1>=scrollHeight;if(isBottom){if(_this.props.totalReversionCount>_this.perPage*_this.state.currentPage){var currentPage=_this.state.currentPage+1;_this.setState({currentPage:currentPage,loading:true});_seafileApi.seafileAPI.listFileHistoryRecords(_constants.draftOriginRepoID,_constants.draftFilePath,currentPage,_this.perPage).then(function(res){var currentHistoryList=Object.assign([],_this.props.historyList);_this.props.onHistoryListChange([].concat(_toConsumableArray(currentHistoryList),_toConsumableArray(res.data.data)));_this.setState({loading:false});});}}};_this.perPage=25;_this.state={currentPage:1,loading:false};return _this;}_createClass(HistoryList,[{key:'render',value:function render(){var _this2=this;return _react2.default.createElement('div',{className:'history-body'},_react2.default.createElement('ul',{onScroll:this.onScroll,className:'history-list-container'},this.props.historyList?this.props.historyList.map(function(item){var index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var arr=arguments[2];var preItemIndex=index+1;if(preItemIndex===arr.length){preItemIndex=index;}return _react2.default.createElement(HistoryItem,{onClick:_this2.onClick,ctime:item.ctime,className:_this2.props.activeItem===index?'item-active':'',name:item.creator_name,index:index,key:index,preItem:arr[preItemIndex],currentItem:item});}):_react2.default.createElement(_loading2.default,null),this.state.loading&&_react2.default.createElement('li',{className:'reloading-reversion'},_react2.default.createElement(_loading2.default,null))));}}]);return HistoryList;}(_react2.default.Component);var HistoryItem=function(_React$Component2){_inherits(HistoryItem,_React$Component2);function HistoryItem(){_classCallCheck(this,HistoryItem);return _possibleConstructorReturn(this,(HistoryItem.__proto__||Object.getPrototypeOf(HistoryItem)).apply(this,arguments));}_createClass(HistoryItem,[{key:'render',value:function render(){var _this4=this;var time=_moment2.default.parseZone(this.props.ctime).format('YYYY-MM-DD HH:mm');return _react2.default.createElement('li',{onClick:function onClick(event){return _this4.props.onClick(event,_this4.props.index,_this4.props.preItem,_this4.props.currentItem);},className:'history-list-item '+this.props.className},_react2.default.createElement('div',{className:'history-info'},_react2.default.createElement('div',{className:'time'},time),_react2.default.createElement('div',{className:'owner'},_react2.default.createElement('i',{className:'squire-icon'}),_react2.default.createElement('span',null,this.props.name))));}}]);return HistoryItem;}(_react2.default.Component);exports.default=HistoryList;\n\n/***/ }),\n\n/***/ 1262:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var strChineseFirstPY=exports.strChineseFirstPY=\"YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY\";\n\n/***/ }),\n\n/***/ 194:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var dirPath=exports.dirPath='/';var gettext=exports.gettext=window.gettext;var siteRoot=exports.siteRoot=window.app.config.siteRoot;var loginUrl=exports.loginUrl=window.app.config.loginUrl;var avatarInfo=exports.avatarInfo=window.app.config.avatarInfo;var logoPath=exports.logoPath=window.app.config.logoPath;var mediaUrl=exports.mediaUrl=window.app.config.mediaUrl;var siteTitle=exports.siteTitle=window.app.config.siteTitle;var siteName=exports.siteName=window.app.config.siteName;var logoWidth=exports.logoWidth=window.app.config.logoWidth;var logoHeight=exports.logoHeight=window.app.config.logoHeight;var isPro=exports.isPro=window.app.config.isPro==='True';var isDocs=exports.isDocs=window.app.config.isDocs==='True';var lang=exports.lang=window.app.config.lang;var fileServerRoot=exports.fileServerRoot=window.app.config.fileServerRoot;var seafileVersion=exports.seafileVersion=window.app.config.seafileVersion;var serviceURL=exports.serviceURL=window.app.config.serviceURL;//pageOptions\nvar seafileCollabServer=exports.seafileCollabServer=window.app.pageOptions.seafileCollabServer;var name=exports.name=window.app.pageOptions.name;var contactEmail=exports.contactEmail=window.app.pageOptions.contactEmail;var username=exports.username=window.app.pageOptions.username;var canAddRepo=exports.canAddRepo=window.app.pageOptions.canAddRepo;var canGenerateShareLink=exports.canGenerateShareLink=window.app.pageOptions.canGenerateShareLink;var canGenerateUploadLink=exports.canGenerateUploadLink=window.app.pageOptions.canGenerateUploadLink?true:false;var canViewOrg=exports.canViewOrg=window.app.pageOptions.canViewOrg==='True';var fileAuditEnabled=exports.fileAuditEnabled=window.app.pageOptions.fileAuditEnabled?true:false;var enableFileComment=exports.enableFileComment=window.app.pageOptions.enableFileComment?true:false;var folderPermEnabled=exports.folderPermEnabled=window.app.pageOptions.folderPermEnabled==='True';var enableResetEncryptedRepoPassword=exports.enableResetEncryptedRepoPassword=window.app.pageOptions.enableResetEncryptedRepoPassword==='True';var isEmailConfigured=exports.isEmailConfigured=window.app.pageOptions.isEmailConfigured==='True';var enableUploadFolder=exports.enableUploadFolder=window.app.pageOptions.enableUploadFolder==='True';var enableResumableFileUpload=exports.enableResumableFileUpload=window.app.pageOptions.enableResumableFileUpload==='True';var storages=exports.storages=window.app.pageOptions.storages;// storage backends\nvar enableRepoSnapshotLabel=exports.enableRepoSnapshotLabel=window.app.pageOptions.enableRepoSnapshotLabel;var shareLinkExpireDaysMin=exports.shareLinkExpireDaysMin=window.app.pageOptions.shareLinkExpireDaysMin;var shareLinkExpireDaysMax=exports.shareLinkExpireDaysMax=window.app.pageOptions.shareLinkExpireDaysMax;var maxFileName=exports.maxFileName=window.app.pageOptions.maxFileName;var enableWiki=exports.enableWiki=window.app.pageOptions.enableWiki;var enableEncryptedLibrary=exports.enableEncryptedLibrary=window.app.pageOptions.enableEncryptedLibrary;var enableRepoHistorySetting=exports.enableRepoHistorySetting=window.app.pageOptions.enableRepoHistorySetting;var isSystemStaff=exports.isSystemStaff=window.app.pageOptions.isSystemStaff;var thumbnailSizeForOriginal=exports.thumbnailSizeForOriginal=window.app.pageOptions.thumbnailSizeForOriginal;var repoPasswordMinLength=exports.repoPasswordMinLength=window.app.pageOptions.repoPasswordMinLength;var curNoteMsg=exports.curNoteMsg=window.app.pageOptions.curNoteMsg;var curNoteID=exports.curNoteID=window.app.pageOptions.curNoteID;// wiki\nvar slug=exports.slug=window.wiki?window.wiki.config.slug:'';var repoID=exports.repoID=window.wiki?window.wiki.config.repoId:'';var initialPath=exports.initialPath=window.wiki?window.wiki.config.initial_path:'';var permission=exports.permission=window.wiki?window.wiki.config.permission==='True':'';var isDir=exports.isDir=window.wiki?window.wiki.config.isDir:'';var serviceUrl=exports.serviceUrl=window.wiki?window.wiki.config.serviceUrl:'';var isPublicWiki=exports.isPublicWiki=window.wiki?window.wiki.config.isPublicWiki==='True':'';// file history\nvar PER_PAGE=exports.PER_PAGE=25;var historyRepoID=exports.historyRepoID=window.fileHistory?window.fileHistory.pageOptions.repoID:'';var repoName=exports.repoName=window.fileHistory?window.fileHistory.pageOptions.repoName:'';var filePath=exports.filePath=window.fileHistory?window.fileHistory.pageOptions.filePath:'';var fileName=exports.fileName=window.fileHistory?window.fileHistory.pageOptions.fileName:'';// Draft review\nvar draftFilePath=exports.draftFilePath=window.draft?window.draft.config.draftFilePath:'';var draftOriginFilePath=exports.draftOriginFilePath=window.draft?window.draft.config.draftOriginFilePath:'';var draftFileName=exports.draftFileName=window.draft?window.draft.config.draftFileName:'';var draftID=exports.draftID=window.draft?window.draft.config.draftID:'';var draftRepoID=exports.draftRepoID=window.draft?window.draft.config.draftRepoID:'';var author=exports.author=window.draft?window.draft.config.author:'';var authorAvatar=exports.authorAvatar=window.draft?window.draft.config.authorAvatar:'';var originFileExists=exports.originFileExists=window.draft?window.draft.config.originFileExists:'';var draftFileExists=exports.draftFileExists=window.draft?window.draft.config.draftFileExists:'';var draftStatus=exports.draftStatus=window.draft?window.draft.config.draftStatus:'';var draftPublishVersion=exports.draftPublishVersion=window.draft?window.draft.config.draftPublishVersion:'';var originFileVersion=exports.originFileVersion=window.draft?window.draft.config.originFileVersion:'';// org admin\nvar orgID=exports.orgID=window.org?window.org.pageOptions.orgID:'';var invitationLink=exports.invitationLink=window.org?window.org.pageOptions.invitationLink:'';var orgMemberQuotaEnabled=exports.orgMemberQuotaEnabled=window.org?window.org.pageOptions.orgMemberQuotaEnabled:'';// sys admin\nvar constanceEnabled=exports.constanceEnabled=window.sysadmin?window.sysadmin.pageOptions.constance_enabled:'';var multiTenancy=exports.multiTenancy=window.sysadmin?window.sysadmin.pageOptions.multi_tenancy:'';var multiInstitution=exports.multiInstitution=window.sysadmin?window.sysadmin.pageOptions.multi_institution:'';var sysadminExtraEnabled=exports.sysadminExtraEnabled=window.sysadmin?window.sysadmin.pageOptions.sysadmin_extra_enabled:'';var enableGuestInvitation=exports.enableGuestInvitation=window.sysadmin?window.sysadmin.pageOptions.enable_guest_invitation:'';var enableTermsAndConditions=exports.enableTermsAndConditions=window.sysadmin?window.sysadmin.pageOptions.enable_terms_and_conditions:'';var isDefaultAdmin=exports.isDefaultAdmin=window.sysadmin?window.sysadmin.pageOptions.is_default_admin:'';var enableFileScan=exports.enableFileScan=window.sysadmin?window.sysadmin.pageOptions.enable_file_scan:'';var canViewSystemInfo=exports.canViewSystemInfo=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_system_info:'';var canViewStatistic=exports.canViewStatistic=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_statistic:'';var canConfigSystem=exports.canConfigSystem=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_config_system:'';var canManageLibrary=exports.canManageLibrary=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_library:'';var canManageUser=exports.canManageUser=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_user:'';var canManageGroup=exports.canManageGroup=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_group:'';var canViewUserLog=exports.canViewUserLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_user_log:'';var canViewAdminLog=exports.canViewAdminLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_admin_log:'';\n\n/***/ }),\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _Async=__webpack_require__(76);var _Async2=_interopRequireDefault(_Async);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={placeholder:_propTypes2.default.string.isRequired,onSelectChange:_propTypes2.default.func.isRequired,isMulti:_propTypes2.default.bool.isRequired,className:_propTypes2.default.string};var NoOptionsMessage=function NoOptionsMessage(props){return _react2.default.createElement('div',_extends({},props.innerProps,{style:{margin:'6px 10px',textAlign:'center',color:'hsl(0,0%,50%)'}}),(0,_constants.gettext)('User not found'));};var UserSelect=function(_React$Component){_inherits(UserSelect,_React$Component);function UserSelect(props){_classCallCheck(this,UserSelect);var _this=_possibleConstructorReturn(this,(UserSelect.__proto__||Object.getPrototypeOf(UserSelect)).call(this,props));_this.handleSelectChange=function(option){_this.options=[];_this.props.onSelectChange(option);};_this.loadOptions=function(input,callback){var value=input.trim();if(value.length>0){_seafileApi.seafileAPI.searchUsers(value).then(function(res){_this.options=[];for(var i=0;i<res.data.users.length;i++){var item=res.data.users[i];var obj={};obj.value=item.name;obj.email=item.email;obj.label=_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement('img',{src:item.avatar_url,className:'select-module select-module-icon avatar',alt:''}),_react2.default.createElement('span',{className:'select-module select-module-name'},item.name));_this.options.push(obj);}callback(_this.options);});}};_this.clearSelect=function(){_this.refs.userSelect.select.onChange([],{action:'clear'});};_this.options=[];return _this;}_createClass(UserSelect,[{key:'render',value:function render(){return _react2.default.createElement(_Async2.default,{isClearable:true,classNamePrefix:true,components:{NoOptionsMessage:NoOptionsMessage},isMulti:this.props.isMulti,loadOptions:this.loadOptions,onChange:this.handleSelectChange,placeholder:this.props.placeholder,className:'user-select '+this.props.className,ref:'userSelect'});}}]);return UserSelect;}(_react2.default.Component);UserSelect.propTypes=propTypes;exports.default=UserSelect;\n\n/***/ }),\n\n/***/ 268:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 269:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 271:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});exports.seafileAPI=undefined;var _reactCookies=__webpack_require__(22);var _reactCookies2=_interopRequireDefault(_reactCookies);var _seafileJs=__webpack_require__(35);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var seafileAPI=new _seafileJs.SeafileAPI();var xcsrfHeaders=_reactCookies2.default.load('sfcsrftoken');seafileAPI.initForSeahubUsage({siteRoot:_constants.siteRoot,xcsrfHeaders:xcsrfHeaders});exports.seafileAPI=seafileAPI;\n\n/***/ }),\n\n/***/ 311:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});exports.Utils=undefined;var _constants=__webpack_require__(2);var _pinyinByUnicode=__webpack_require__(13);var Utils=exports.Utils={keyCodes:{esc:27,space:32,tab:9,up:38,down:40},bytesToSize:function bytesToSize(bytes){if(typeof bytes=='undefined')return' ';if(bytes<0)return'--';var sizes=['bytes','KB','MB','GB','TB','PB'];if(bytes===0)return bytes+' '+sizes[0];var i=parseInt(Math.floor(Math.log(bytes)/Math.log(1000)),10);if(i===0)return bytes+' '+sizes[i];return(bytes/Math.pow(1000,i)).toFixed(1)+' '+sizes[i];},isHiDPI:function isHiDPI(){var pixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;if(pixelRatio>1){return true;}else{return false;}},FILEEXT_ICON_MAP:{// text file\n'md':'txt.png','txt':'txt.png',// pdf file\n'pdf':'pdf.png',// document file\n'doc':'word.png','docx':'word.png','odt':'word.png','fodt':'word.png','ppt':'ppt.png','pptx':'ppt.png','odp':'ppt.png','fodp':'ppt.png','xls':'excel.png','xlsx':'excel.png','ods':'excel.png','fods':'excel.png',// video\n'mp4':'video.png','ogv':'video.png','webm':'video.png','mov':'video.png','flv':'video.png','wmv':'video.png','rmvb':'video.png',// music file\n'mp3':'music.png','oga':'music.png','ogg':'music.png','flac':'music.png','aac':'music.png','ac3':'music.png','wma':'music.png',// image file\n'jpg':'pic.png','jpeg':'pic.png','png':'pic.png','svg':'pic.png','gif':'pic.png','bmp':'pic.png','ico':'pic.png',// default\n'default':'file.png'},// check if a file is an image\nimageCheck:function imageCheck(filename){// no file ext\nif(filename.lastIndexOf('.')==-1){return false;}var file_ext=filename.substr(filename.lastIndexOf('.')+1).toLowerCase();var image_exts=['gif','jpeg','jpg','png','ico','bmp'];if(image_exts.indexOf(file_ext)!=-1){return true;}else{return false;}},// check if a file is a video\nvideoCheck:function videoCheck(filename){// no file ext\nif(filename.lastIndexOf('.')==-1){return false;}var file_ext=filename.substr(filename.lastIndexOf('.')+1).toLowerCase();var exts=['mp4','ogv','webm','mov'];if(exts.indexOf(file_ext)!=-1){return true;}else{return false;}},encodePath:function encodePath(path){// IE8 does not support 'map()'\n/*\n       return path.split('/').map(function(e) {\n       return encodeURIComponent(e);\n       }).join('/');\n       */if(!path){return'';}var path_arr=path.split('/');var path_arr_=[];for(var i=0,len=path_arr.length;i<len;i++){path_arr_.push(encodeURIComponent(path_arr[i]));}return path_arr_.join('/');},HTMLescape:function HTMLescape(html){return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;},generateDialogTitle:function generateDialogTitle(title,operationTarget){/*\n     * @param title: gettext('...{placeholder}...')\n     */var targetStr=this.HTMLescape(operationTarget);var str='<span class=\"op-target ellipsis ellipsis-op-target\" title='+targetStr+'>'+targetStr+'</span>';return title.replace('{placeholder}',str);},getFileName:function getFileName(filePath){var lastIndex=filePath.lastIndexOf('/');return filePath.slice(lastIndex+1);},/**\n   * input: '/abc/bc/cb'\n   * output: ['/abc', '/abc/bc', '/abc/bc/cb'];\n   */getPaths:function getPaths(path){var paths=path.split('/').slice(1);var result=[];while(paths.length){result.push('/'+paths.join('/'));paths.pop();}return result.reverse();},/**\n   * input: \n   *  eg: /\n   *      ../abc/abc/\n   *      ../abc/bc\n   * output(return):\n   *  eg: /\n   *      abc\n   *      bc\n   */getFolderName:function getFolderName(path){if(path==='/'){return path;}path=path[path.length-1]!=='/'?path:path.slice(0,path.length-2);return path.slice(path.lastIndexOf('/')+1);},/*\n    return dirname of a path.\n    if path is '/', return '/'.\n  */getDirName:function getDirName(path){var dir=path.slice(0,path.lastIndexOf('/'));if(dir===''){return'/';}else{return dir;}},isChildPath:function isChildPath(child,parent){var p=this.getDirName(child);return p===parent;},isAncestorPath:function isAncestorPath(ancestor,path){return path.indexOf(ancestor)>-1;},renameAncestorPath:function renameAncestorPath(path,ancestor,newAncestor){return path.replace(ancestor,newAncestor);},joinPath:function joinPath(pathA,pathB){if(pathA[pathA.length-1]==='/'){return pathA+pathB;}else{return pathA+'/'+pathB;}},isSupportUploadFolder:function isSupportUploadFolder(){return navigator.userAgent.indexOf('Firefox')!=-1||navigator.userAgent.indexOf('Chrome')>-1;},getDefaultLibIconUrl:function getDefaultLibIconUrl(isBig){var size=Utils.isHiDPI()?48:24;size=isBig?256:size;var icon_name='lib.png';return _constants.mediaUrl+'img/lib/'+size+'/'+icon_name;},getLibIconUrl:function getLibIconUrl(repo,isBig){var permission=repo.permission||repo.share_permission;//Compatible with regular repo and repo shared\nvar size=Utils.isHiDPI()?48:24;size=isBig?256:size;var icon_name='lib.png';if(repo.encrypted){icon_name='lib-encrypted.png';}if(permission==='r'||permission==='perview'){icon_name='lib-readonly.png';}return _constants.mediaUrl+'img/lib/'+size+'/'+icon_name;},getDirentIcon:function getDirentIcon(dirent,isBig){var size=this.isHiDPI()?48:24;size=isBig?192:size;if(dirent.isDir()){var readonly=false;if(dirent.permission&&(dirent.permission==='r'||dirent.permission==='preview')){readonly=true;}return this.getFolderIconUrl(readonly,size);}else{return this.getFileIconUrl(dirent.name,size);}},getFolderIconUrl:function getFolderIconUrl(){var readonly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var size=arguments[1];if(!size){size=Utils.isHiDPI()?48:24;}size=size>24?192:24;return _constants.mediaUrl+'img/folder'+(readonly?'-read-only-':'-')+size+'.png';},getFileIconUrl:function getFileIconUrl(filename,size){if(!size){size=Utils.isHiDPI()?48:24;}size=size>24?192:24;var file_ext='';if(filename.lastIndexOf('.')==-1){return _constants.mediaUrl+'img/file/'+size+'/'+this.FILEEXT_ICON_MAP['default'];}else{file_ext=filename.substr(filename.lastIndexOf('.')+1).toLowerCase();}if(this.FILEEXT_ICON_MAP[file_ext]){return _constants.mediaUrl+'img/file/'+size+'/'+this.FILEEXT_ICON_MAP[file_ext];}else{return _constants.mediaUrl+'img/file/'+size+'/'+this.FILEEXT_ICON_MAP['default'];}},getLibIconTitle:function getLibIconTitle(repo){var title;var permission=repo.permission||repo.share_permission;//Compatible with regular repo and repo shared\nif(repo.encrypted){title=(0,_constants.gettext)('Encrypted library');}else if(repo.is_admin){// shared with 'admin' permission\ntitle=(0,_constants.gettext)('Admin access');}else{switch(permission){case'rw':title=(0,_constants.gettext)('Read-Write library');break;case'r':title=(0,_constants.gettext)('Read-Only library');break;case'cloud-edit':title=(0,_constants.gettext)('Preview-Edit-on-Cloud library');break;case'preview':title=(0,_constants.gettext)('Preview-on-Cloud library');break;}}return title;},getFolderIconTitle:function getFolderIconTitle(options){var title;switch(options.permission){case'rw':title=(0,_constants.gettext)('Read-Write folder');break;case'r':title=(0,_constants.gettext)('Read-Only folder');break;case'cloud-edit':title=(0,_constants.gettext)('Preview-Edit-on-Cloud folder');break;case'preview':title=(0,_constants.gettext)('Preview-on-Cloud folder');break;}return title;},sharePerms:function sharePerms(permission){var title;switch(permission){case'rw':title=(0,_constants.gettext)('Read-Write');break;case'r':title=(0,_constants.gettext)('Read-Only');break;case'admin':title=(0,_constants.gettext)('Admin');break;case'cloud-edit':title=(0,_constants.gettext)('Preview-Edit-on-Cloud');break;case'preview':title=(0,_constants.gettext)('Preview-on-Cloud');break;}return title;},sharePermsExplanation:function sharePermsExplanation(permission){var title;switch(permission){case'rw':title=(0,_constants.gettext)('User can read, write, upload, download and sync files.');break;case'r':title=(0,_constants.gettext)('User can read, download and sync files.');break;case'admin':title=(0,_constants.gettext)('Besides Write permission, user can also share the library.');break;case'cloud-edit':title=(0,_constants.gettext)('Same as Preview on cloud. But user can also edit files online via browser.');break;case'preview':title=(0,_constants.gettext)('User can only view files online via browser. Files can\\'t be downloaded.');break;}return title;},formatSize:function formatSize(options){/*\n     * param: {bytes, precision}\n     */var bytes=options.bytes;var precision=options.precision||0;var kilobyte=1000;var megabyte=kilobyte*1000;var gigabyte=megabyte*1000;var terabyte=gigabyte*1000;if(bytes>=0&&bytes<kilobyte){return bytes+' B';}else if(bytes>=kilobyte&&bytes<megabyte){return(bytes/kilobyte).toFixed(precision)+' KB';}else if(bytes>=megabyte&&bytes<gigabyte){return(bytes/megabyte).toFixed(precision)+' MB';}else if(bytes>=gigabyte&&bytes<terabyte){return(bytes/gigabyte).toFixed(precision)+' GB';}else if(bytes>=terabyte){return(bytes/terabyte).toFixed(precision)+' TB';}else{return bytes+' B';}},formatBitRate:function formatBitRate(bits){var Bs;if(typeof bits!=='number'){return'';}Bs=bits/8;if(Bs>=1000000000){return(Bs/1000000000).toFixed(2)+' GB/s';}if(Bs>=1000000){return(Bs/1000000).toFixed(2)+' MB/s';}if(Bs>=1000){return(Bs/1000).toFixed(2)+' kB/s';}return Bs.toFixed(2)+' B/s';},isMarkdownFile:function isMarkdownFile(filePath){var index=filePath.lastIndexOf('.');if(index===-1){return false;}else{var type=filePath.substring(index).toLowerCase();if(type==='.md'||type==='.markdown'){return true;}else{return false;}}},isInternalMarkdownLink:function isInternalMarkdownLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/lib/'+repoID+'.*\\.md$');return re.test(url);},isInternalDirLink:function isInternalDirLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/library/'+repoID+'.*');return re.test(url);},getPathFromInternalMarkdownLink:function getPathFromInternalMarkdownLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/lib/'+repoID+'/file'+'(.*\\.md)');var array=re.exec(url);var path=decodeURIComponent(array[1]);return path;},getPathFromInternalDirLink:function getPathFromInternalDirLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/library/'+repoID+'(/.*)');var array=re.exec(url);var path=decodeURIComponent(array[1]);path=path.slice(1);path=path.slice(path.indexOf('/'));return path;},isWikiInternalMarkdownLink:function isWikiInternalMarkdownLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'.*\\.md$');return re.test(url);},isWikiInternalDirLink:function isWikiInternalDirLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'.*');return re.test(url);},getPathFromWikiInternalMarkdownLink:function getPathFromWikiInternalMarkdownLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'(.*\\.md)');var array=re.exec(url);var path=array[1];try{path=decodeURIComponent(path);}catch(err){path=path.replace(/%/g,'%25');path=decodeURIComponent(path);}return path;},getPathFromWikiInternalDirLink:function getPathFromWikiInternalDirLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'(/.*)');var array=re.exec(url);var path=array[1];try{path=decodeURIComponent(path);}catch(err){path=path.replace(/%/g,'%25');path=decodeURIComponent(path);}return path;},compareTwoWord:function compareTwoWord(wordA,wordB){// compare wordA and wordB at lower case\n// if wordA >= wordB, return 1\n// if wordA < wordB, return -1\nvar a_val,b_val,a_uni=wordA.charCodeAt(0),b_uni=wordB.charCodeAt(0);if(19968<a_uni&&a_uni<40869&&19968<b_uni&&b_uni<40869){// both are chinese words\na_val=_pinyinByUnicode.strChineseFirstPY.charAt(a_uni-19968).toLowerCase();b_val=_pinyinByUnicode.strChineseFirstPY.charAt(b_uni-19968).toLowerCase();}else if(19968<a_uni&&a_uni<40869&&!(19968<b_uni&&b_uni<40869)){// a is chinese and b is english\nreturn 1;}else if(!(19968<a_uni&&a_uni<40869)&&19968<b_uni&&b_uni<40869){// a is english and b is chinese\nreturn-1;}else{// both are english words\na_val=wordA.toLowerCase();b_val=wordB.toLowerCase();return this.compareStrWithNumbersIn(a_val,b_val);}return a_val>=b_val?1:-1;},// compare two strings which may have digits in them\n// and compare those digits as number instead of string\ncompareStrWithNumbersIn:function compareStrWithNumbersIn(a,b){var reParts=/\\d+|\\D+/g;var reDigit=/\\d/;var aParts=a.match(reParts);var bParts=b.match(reParts);var isDigitPart;var len=Math.min(aParts.length,bParts.length);var aPart,bPart;if(aParts&&bParts&&(isDigitPart=reDigit.test(aParts[0]))==reDigit.test(bParts[0])){// Loop through each substring part to compare the overall strings.\nfor(var i=0;i<len;i++){aPart=aParts[i];bPart=bParts[i];if(isDigitPart){aPart=parseInt(aPart,10);bPart=parseInt(bPart,10);}if(aPart!=bPart){return aPart<bPart?-1:1;}// Toggle the value of isDigitPart since the parts will alternate.\nisDigitPart=!isDigitPart;}}// Use normal comparison.\nreturn(a>=b)-(a<=b);},sortRepos:function sortRepos(repos,sortBy,sortOrder){var _this=this;var comparator=void 0;switch(sortBy+'-'+sortOrder){case'name-asc':comparator=function comparator(a,b){if(!a.repo_name){return 1;}if(!b.repo_name){return-1;}var result=_this.compareTwoWord(a.repo_name,b.repo_name);return result;};break;case'name-desc':comparator=function comparator(a,b){if(!a.repo_name){return-1;}if(!b.repo_name){return 1;}var result=_this.compareTwoWord(a.repo_name,b.repo_name);return-result;};break;case'time-asc':comparator=function comparator(a,b){return a.last_modified<b.last_modified?-1:1;};break;case'time-desc':comparator=function comparator(a,b){return a.last_modified<b.last_modified?1:-1;};break;}repos.sort(comparator);return repos;},sortDirents:function sortDirents(items,sortBy,sortOrder){var _this=this;var comparator=void 0;switch(sortBy+'-'+sortOrder){case'name-asc':comparator=function comparator(a,b){var result=_this.compareTwoWord(a.name,b.name);return result;};break;case'name-desc':comparator=function comparator(a,b){var result=_this.compareTwoWord(a.name,b.name);return-result;};break;case'time-asc':comparator=function comparator(a,b){return a.mtime<b.mtime?-1:1;};break;case'time-desc':comparator=function comparator(a,b){return a.mtime<b.mtime?1:-1;};break;}items.sort(function(a,b){if(a.type=='dir'&&b.type=='file'){return-1;}else if(a.type=='file'&&b.type=='dir'){return 1;}else{return comparator(a,b);}});return items;},changeMarkdownNodes:function changeMarkdownNodes(nodes,fn){nodes.map(function(item){fn(item);if(item.nodes&&item.nodes.length>0){Utils.changeMarkdownNodes(item.nodes,fn);}});return nodes;},chooseLanguage:function chooseLanguage(suffix){var mode=void 0;switch(suffix){case'py':mode='python';break;case'js':mode='javascript';break;case'c':mode='text/x-csrc';break;case'cpp':mode='text/x-c++src';break;case'java':mode='text/x-java';break;case'cs':mode='text/x-csharp';break;case'mdf':mode='text/x-sql';break;case'html':mode='htmlmixed';break;default:mode=suffix;}return mode;},DARK_COLOR_MAP:{// old color\n'red':'#D11507','orange':'#FF8C00','yellow':'#EDEF00','green':'#006400','cyan':'#00E0E1','blue':'#2510A3','indigo':'#350C56','purple':'#551054','pink':'#E3A5B0','azure':'#C4D0D0','lime':'#00E100','teal':'#006A6B','gray':'#545454',// new color\n'#FFA8A8':'#E49090','#FFA94D':'#E39136','#FFD43B':'#E0B815','#A0EC50':'#83CF32','#A9E34B':'#8DC72E','#63E6BE':'#43CAA4','#4FD2C9':'#2DB9B0','#72C3FC':'#57ABE3','#91A7FF':'#7A91E7','#E599F7':'#CC82DE','#B197FC':'#9B82E5','#F783AC':'#DF6D97','#CED4DA':'#A8ADB2'},getDarkColor:function getDarkColor(color){var darkColor=void 0;darkColor=this.DARK_COLOR_MAP[color];return darkColor;}};\n\n/***/ }),\n\n/***/ 526:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var unified=__webpack_require__(1251);var markdown=__webpack_require__(237);var slug=__webpack_require__(448);var breaks=__webpack_require__(449);var remark2rehype=__webpack_require__(450);var format=__webpack_require__(457);var raw=__webpack_require__(460);var xtend=__webpack_require__(72);var toHTML=__webpack_require__(468);var sanitize=__webpack_require__(477);var gh=__webpack_require__(249);var deepmerge=__webpack_require__(478).default;function stringify(config){var settings=xtend(config,this.data('settings'));var schema=deepmerge(gh,{'attributes':{'input':['type'],'li':['className'],'code':['className']},'tagNames':['input','code']});this.Compiler=compiler;function compiler(tree){// use sanity to remove dangerous html, the default is\nvar hast=sanitize(tree,schema);return toHTML(hast,settings);}}// markdown -> mdast -> html AST -> html\nvar processor=unified().use(markdown,{commonmark:true}).use(breaks).use(slug).use(remark2rehype,{allowDangerousHTML:true}).use(raw).use(format).use(stringify);var processorGetAST=unified().use(markdown,{commonmark:true}).use(slug);exports.processor=processor;exports.processorGetAST=processorGetAST;\n\n/***/ }),\n\n/***/ 86:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 88:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 90:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[1248]);\n\n\n// WEBPACK FOOTER //\n// js/draft.js","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  children: PropTypes.object.isRequired,\n};\n\nconst modalRoot = document.getElementById('modal-wrapper');\nclass ModalPortal extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.el = document.createElement('div');\n  }\n\n  componentDidMount() {\n    modalRoot.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    modalRoot.removeChild(this.el);\n  }\n\n  render() {\n    return ReactDOM.createPortal(\n      this.props.children,\n      this.el,\n    );\n  }\n}\n\nModalPortal.propTypes = propTypes;\n\nexport default ModalPortal;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/modal-portal.js","import React from 'react';\n\nfunction Loading() {\n  return (\n    <span className=\"loading-icon loading-tip\"></span>\n  );\n}\n\nexport default Loading;\n\n\n// WEBPACK FOOTER //\n// ./src/components/loading.js","'use strict';\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  window.Promise = require('promise/lib/es6-extensions.js');\n}\n\n// fetch() polyfill for making API calls.\nrequire('whatwg-fetch');\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = require('object-assign');\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\nif (process.env.NODE_ENV === 'test') {\n  require('raf').polyfill(global);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/polyfills.js\n// module id = 12\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\n/* eslint-disable */\nimport Prism from 'prismjs';\n/* eslint-enable */\nimport { siteRoot, gettext, draftOriginFilePath, draftFilePath, author, authorAvatar, originFileExists, draftFileExists, draftID, draftFileName, draftRepoID, draftStatus, draftPublishVersion, originFileVersion } from './utils/constants';\nimport { seafileAPI } from './utils/seafile-api';\nimport axios from 'axios';\nimport DiffViewer from '@seafile/seafile-editor/dist/viewer/diff-viewer';\nimport { serialize } from '@seafile/seafile-editor/dist/utils/slate2markdown/serialize';\nimport Loading from './components/loading';\nimport ReviewComments from './components/review-list-view/review-comments';\nimport ReviewCommentDialog from './components/review-list-view/review-comment-dialog.js';\nimport { Tooltip } from 'reactstrap';\nimport AddReviewerDialog from './components/dialog/add-reviewer-dialog.js';\nimport { findRange } from '@seafile/slate-react';\nimport { Nav, NavItem, NavLink, TabContent, TabPane } from 'reactstrap';\nimport classnames from 'classnames';\nimport HistoryList from './pages/review/history-list';\nimport { Value, Document, Block } from 'slate';\nimport ModalPortal from './components/modal-portal';\nimport { Utils } from './utils/utils';\n\nimport './assets/css/fa-solid.css';\nimport './assets/css/fa-regular.css';\nimport './assets/css/fontawesome.css';\nimport './css/layout.css';\nimport './css/toolbar.css';\nimport './css/dirent-detail.css';\nimport './css/draft.css';\n\nrequire('@seafile/seafile-editor/dist/editor/code-hight-package');\nconst URL = require('url-parse');\n\nclass Draft extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      draftContent: '',\n      draftOriginContent: '',\n      isLoading: true,\n      isShowDiff: true,\n      showDiffTip: false,\n      activeTab: 'reviewInfo',\n      commentsNumber: null,\n      changedNodes: [],\n      originRepoName: '',\n      isShowCommentDialog: false,\n      unresolvedComments: 0,\n      activeItem: null,\n      historyList: [],\n      showReviewerDialog: false,\n      reviewers: [],\n      inResizing: false,\n      rightPartWidth: 30,\n    };\n    this.quote = '';\n    this.newIndex = null;\n    this.oldIndex = null;\n    this.changeIndex = -1;\n    this.range = null;\n  }\n\n  initialContent = () => {\n    switch(draftStatus) {\n      case 'open':\n        if (!draftFileExists) {\n          this.setState({\n            isLoading: false,\n            isShowDiff: false\n          });\n          return;\n        }\n\n        if (!originFileExists) {\n          seafileAPI.getFileDownloadLink(draftRepoID, draftFilePath)\n            .then(res => { \n              seafileAPI.getFileContent(res.data)\n                .then(res => {\n                  this.setState({\n                    draftContent: res.data,\n                    draftOriginContent: res.data,\n                    isLoading: false,\n                    isShowDiff: false\n                  }); \n                });\n            });\n          return;\n        }\n\n        const hash = window.location.hash;\n        if (hash.indexOf('#history-') === 0) {\n          const currentCommitID = hash.slice(9, 49);\n          const preCommitID = hash.slice(50, 90);\n          let preItemFilePath, currentItemFilePath;\n          this.setState({\n            isLoading: false,\n            activeTab: 'history',\n          });\n          seafileAPI.listFileHistoryRecords(draftRepoID, draftFilePath, 1, 25).then((res) => {\n            const historyList = res.data.data;        \n            this.setState({\n              historyList: historyList,\n              totalReversionCount: res.data.total_count\n            });\n            for (let i = 0, length = historyList.length; i < length; i++) {\n              if (preCommitID === historyList[i].commit_id) {\n                this.setState({\n                  activeItem: i\n                });\n                preItemFilePath = historyList[i].path;\n              }\n              if (currentCommitID === historyList[i].commit_id) {\n                currentItemFilePath = historyList[i].path;\n              }\n              if (preItemFilePath && currentItemFilePath) break;\n            }\n            axios.all([\n              seafileAPI.getFileRevision(draftRepoID, currentCommitID, currentItemFilePath),\n              seafileAPI.getFileRevision(draftRepoID, preCommitID, preItemFilePath)\n            ]).then(axios.spread((res1, res2) => {\n              axios.all([seafileAPI.getFileContent(res1.data), seafileAPI.getFileContent(res2.data)]).then(axios.spread((content1, content2) => {\n                this.setDiffViewerContent(content2.data, content1.data);\n              }));\n            }));\n            return;\n          });\n        } else {\n          axios.all([\n            seafileAPI.getFileDownloadLink(draftRepoID, draftFilePath),\n            seafileAPI.getFileDownloadLink(draftRepoID, draftOriginFilePath)\n          ]).then(axios.spread((res1, res2) => {\n            axios.all([\n              seafileAPI.getFileContent(res1.data),\n              seafileAPI.getFileContent(res2.data)\n            ]).then(axios.spread((draftContent, draftOriginContent) => {\n              this.setState({\n                draftContent: draftContent.data,\n                draftOriginContent: draftOriginContent.data,\n                isLoading: false\n              });\n              let that = this;\n              setTimeout(() => {\n                that.getChangedNodes();\n              }, 100);\n            }));\n          }));\n        }\n        break;\n      case 'published':\n        if (!originFileExists) {\n          this.setState({\n            isLoading: false,\n            isShowDiff: false\n          });\n          return;\n        }\n\n        let dl0 = siteRoot + 'repo/' + draftRepoID + '/' + draftPublishVersion + '/download?' + 'p=' + draftOriginFilePath; \n        let dl = siteRoot + 'repo/' + draftRepoID + '/' + originFileVersion + '/download?' + 'p=' + draftOriginFilePath; \n        axios.all([\n          seafileAPI.getFileContent(dl0),\n          seafileAPI.getFileContent(dl)\n        ]).then(axios.spread((draftContent, draftOriginContent) => {\n          this.setState({\n            draftContent: draftContent.data,\n            draftOriginContent: draftOriginContent.data,\n            isLoading: false,\n          }); \n        }));\n        break;\n      } \n  }\n\n  onHistoryItemClick = (currentItem, preItem, activeItem) => {\n    const preCommitID = preItem.commit_id;\n    const currentCommitID = currentItem.commit_id;\n    const url = 'history-' + preCommitID + '-' + currentCommitID;\n    this.setURL(url);\n    this.setState({\n      activeItem: activeItem,\n      isLoading: true,\n    });\n    axios.all([\n      seafileAPI.getFileRevision(draftRepoID, currentCommitID, currentItem.path),\n      seafileAPI.getFileRevision(draftRepoID, preCommitID, preItem.path)\n    ]).then(axios.spread((res1, res2) => {\n      axios.all([seafileAPI.getFileContent(res1.data), seafileAPI.getFileContent(res2.data)]).then(axios.spread((content1,content2) => {\n        this.setDiffViewerContent(content1.data, content2.data);\n      }));\n    }));\n  }\n\n  onHistoryListChange = (historyList) => {\n    this.setState({\n      historyList: historyList\n    });\n  }\n\n  getCommentsNumber = () => {\n    seafileAPI.listComments(draftRepoID, draftFilePath).then((res) => {\n      let number = res.data.total_count;\n      let comments = res.data.comments;\n      let unresolvedComments = 0;\n      for (let i = 0; i < res.data.total_count; i++) {\n        if (comments[i].resolved === false) {\n          unresolvedComments++;\n        }\n      }\n      this.setState({\n        commentsNumber: number,\n        unresolvedComments: unresolvedComments,\n      });\n    });\n  }\n\n  addComment = (e) => {\n    e.stopPropagation();\n    this.getQuote();\n    if (!this.quote) {\n      return;\n    }\n    this.setState({\n      isShowCommentDialog: true\n    });\n  }\n\n  onCommentAdded = () => {\n    this.getCommentsNumber();\n    this.toggleCommentDialog();\n  }\n\n  toggleCommentDialog = () => {\n    this.setState({\n      isShowCommentDialog: !this.state.isShowCommentDialog\n    });\n  }\n\n  getOriginRepoInfo = () => {\n    seafileAPI.getRepoInfo(draftRepoID).then((res) => {\n      this.setState({\n        originRepoName: res.data.repo_name\n      });\n    });\n  }\n\n  getChangedNodes = () => {\n    const nodes = this.refs.diffViewer.value.document.nodes;\n    let keys = [];\n    let lastDiffState = '';\n    nodes.map((node) => {\n      if (node.data.get('diff_state') === 'diff-added' && lastDiffState !== 'diff-added') {\n        keys.push(node.key);\n      } else if (node.data.get('diff_state') === 'diff-removed' && lastDiffState !== 'diff-removed') {\n        keys.push(node.key);\n      } else if (node.data.get('diff_state') === 'diff-replaced' && lastDiffState !== 'diff-replaced') {\n        keys.push(node.key);\n      }\n      lastDiffState = node.data.get('diff_state');\n    });\n    this.setState({\n      changedNodes: keys\n    });\n  }\n\n  scrollToChangedNode = (scroll) => {\n    if (this.state.changedNodes.length == 0) return;\n    if (scroll === 'up') { this.changeIndex++; } else { this.changeIndex--; }\n    if (this.changeIndex > this.state.changedNodes.length - 1) {\n      this.changeIndex = 0;\n    }\n    if (this.changeIndex < 0) {\n      this.changeIndex = this.state.changedNodes.length - 1;\n    }\n    const win = window;\n    let key = this.state.changedNodes[this.changeIndex];\n    let element = win.document.querySelector(`[data-key=\"${key}\"]`);\n    // fix code-block or tables\n    while (element.className.indexOf('diff-') === -1 && element.tagName !== 'BODY') {\n      element = element.parentNode;\n    }\n    const scroller = this.findScrollContainer(element, win);\n    const isWindow = scroller == win.document.body || scroller == win.document.documentElement;\n    if (isWindow) {\n      win.scrollTo(0, element.offsetTop);\n    } else {\n      scroller.scrollTop = element.offsetTop;\n    }\n  }\n\n  findScrollContainer = (element, window) => {\n    let parent = element.parentNode;\n    const OVERFLOWS = ['auto', 'overlay', 'scroll'];\n    let scroller;\n    while (!scroller) {\n      if (!parent.parentNode) break;\n      const style = window.getComputedStyle(parent);\n      const { overflowY } = style;\n      if (OVERFLOWS.includes(overflowY)) {\n        scroller = parent;\n        break;\n      }\n      parent = parent.parentNode;\n    }\n    if (!scroller) {\n      return window.document.body;\n    }\n    return scroller;\n  }\n\n  scrollToQuote = (newIndex, oldIndex, quote) => {\n    const nodes = this.refs.diffViewer.value.document.nodes;\n    let key;\n    nodes.map((node) => {\n      if (node.data.get('old_index') == oldIndex && node.data.get('new_index') == newIndex) {\n        key = node.key;\n      }\n    });\n    if (typeof(key) !== 'string') {\n      nodes.map((node) => {\n        if (node.text.indexOf(quote) > 0) {\n          key = node.key;\n        }\n      });\n    }\n    if (typeof(key) === 'string') {\n      const win = window;\n      let element = win.document.querySelector(`[data-key=\"${key}\"]`);\n      while (element.tagName === 'CODE') {\n        element = element.parentNode;\n      }\n      const scroller = this.findScrollContainer(element, win);\n      const isWindow = scroller == win.document.body || scroller == win.document.documentElement;\n      if (isWindow) {\n        win.scrollTo(0, element.offsetTop);\n      } else {\n        scroller.scrollTop = element.offsetTop;\n      }\n    }\n  }\n\n  showDiffViewer = () => {\n    return (\n      <div>\n        {this.state.isShowDiff ?\n          <DiffViewer\n            newMarkdownContent={this.state.draftContent}\n            oldMarkdownContent={this.state.draftOriginContent}\n            ref=\"diffViewer\"\n          /> :\n          <DiffViewer\n            newMarkdownContent={this.state.draftContent}\n            oldMarkdownContent={this.state.draftContent}\n            ref=\"diffViewer\"\n          />\n        }\n        <i className=\"fa fa-plus-square review-comment-btn\" ref=\"commentbtn\" onMouseDown={this.addComment}></i>\n      </div>\n    );\n  }\n\n  listReviewers = () => {\n    seafileAPI.listDraftReviewers(draftID).then((res) => {\n      this.setState({\n        reviewers: res.data.reviewers\n      });\n    });\n  }\n\n  onSwitchShowDiff = () => {\n    if (!this.state.isShowDiff) {\n      let that = this;\n      setTimeout(() => {\n        that.getChangedNodes();\n      }, 100);\n    }\n    this.setState({\n      isShowDiff: !this.state.isShowDiff,\n    });\n  }\n\n  toggleDiffTip = () => {\n    this.setState({\n      showDiffTip: !this.state.showDiffTip\n    });\n  }\n\n  toggleAddReviewerDialog = () => {\n    if (this.state.showReviewerDialog) {\n      this.listReviewers();\n    }\n    this.setState({\n      showReviewerDialog: !this.state.showReviewerDialog\n    });\n  }\n\n  showDiffButton = () => {\n    return (\n      <div className={'seafile-toggle-diff'}>\n        <label className=\"custom-switch\" id=\"toggle-diff\">\n          <input type=\"checkbox\" checked={this.state.isShowDiff && 'checked'}\n            name=\"option\" className=\"custom-switch-input\"\n            onChange={this.onSwitchShowDiff}/>\n          <span className=\"custom-switch-indicator\"></span>\n        </label>\n        <Tooltip placement=\"bottom\" isOpen={this.state.showDiffTip}\n          target=\"toggle-diff\" toggle={this.toggleDiffTip}>\n          {gettext('View diff')}</Tooltip>\n      </div>\n    );\n  }\n\n  onPublishDraft = () => {\n    seafileAPI.publishDraft(draftID).then(res => {\n      const OriginFileLink = siteRoot + 'lib/' + draftRepoID + '/file' + Utils.encodePath(res.data.published_file_path);\n      window.location.href = OriginFileLink; \n    });\n  }\n\n  initialDiffViewerContent = () => {\n    seafileAPI.listFileHistoryRecords(draftRepoID, draftFilePath, 1, 25).then((res) => {\n      this.setState({\n        historyList: res.data.data,\n        totalReversionCount: res.data.total_count\n      });\n      if (res.data.data.length > 1) {\n        axios.all([\n          seafileAPI.getFileRevision(draftRepoID, res.data.data[0].commit_id, draftFilePath),\n          seafileAPI.getFileRevision(draftRepoID, res.data.data[1].commit_id, draftFilePath)\n        ]).then(axios.spread((res1, res2) => {\n          axios.all([seafileAPI.getFileContent(res1.data), seafileAPI.getFileContent(res2.data)]).then(axios.spread((content1,content2) => {\n            this.setState({\n              draftContent: content1.data,\n              draftOriginContent: content2.data\n            });\n          }));\n        }));\n      } else {\n        seafileAPI.getFileRevision(draftRepoID, res.data.data[0].commit_id, draftFilePath).then((res) => {\n          seafileAPI.getFileContent(res.data).then((content) => {\n            this.setState({\n              draftContent: content.data,\n              draftOriginContent: ''\n            });\n          });\n        });\n      }\n    });\n  }\n\n  setDiffViewerContent = (newContent, prevContent) => {\n    this.setState({\n      draftContent: newContent,\n      draftOriginContent: prevContent,\n      isLoading: false,\n    });\n  }\n\n  setURL = (newurl) => {\n    let url = new URL(window.location.href);\n    url.set('hash', newurl);\n    window.location.href = url.toString();\n  }\n\n  tabItemClick = (tab) => {\n    if (this.state.activeTab !== tab) {\n      if (tab !== 'history' && window.location.hash) {\n        this.setURL('#');\n      }\n      if (tab == 'reviewInfo') { \n        this.initialContent();\n      }\n      else if (tab == 'history') {\n        this.initialDiffViewerContent();\n      }\n      this.setState({\n        activeTab: tab\n      });\n    }\n  }\n\n  showNavItem = (showTab) => {\n    switch(showTab) {\n      case 'info':\n        return (\n          <NavItem className=\"nav-item\">\n            <NavLink\n              className={classnames({ active: this.state.activeTab === 'reviewInfo' })}\n              onClick={() => { this.tabItemClick('reviewInfo');}}\n            >\n              <i className=\"fas fa-info-circle\"></i>\n            </NavLink>\n          </NavItem>\n        );\n      case 'comments':\n        return (\n          <NavItem className=\"nav-item\">\n            <NavLink\n              className={classnames({ active: this.state.activeTab === 'comments' })}\n              onClick={() => {this.tabItemClick('comments');}}\n            >\n              <i className=\"fa fa-comments\"></i>\n              {this.state.commentsNumber > 0 && <div className='comments-number'>{this.state.commentsNumber}</div>}\n            </NavLink>\n          </NavItem>\n        );\n      case 'history':\n        return (\n          <NavItem className=\"nav-item\">\n            <NavLink\n              className={classnames({ active: this.state.activeTab === 'history' })}\n              onClick={() => { this.tabItemClick('history');}}\n            >\n              <i className=\"fas fa-history\"></i>\n            </NavLink>\n          </NavItem>\n        );\n    }\n  } \n\n\n  setBtnPosition = (e) => {\n    const nativeSelection = window.getSelection();\n    if (!nativeSelection.rangeCount) {\n      this.range = null;\n      return;\n    }\n    if (nativeSelection.isCollapsed === false) {\n      const nativeRange = nativeSelection.getRangeAt(0);\n      const focusNode = nativeSelection.focusNode;\n      if ((focusNode.tagName === 'I') ||\n          (focusNode.nodeType !== 3 && focusNode.getAttribute('class') === 'language-type')) {\n        // fix select last paragraph\n        let fragment = nativeRange.cloneContents();\n        let startNode = fragment.firstChild.firstChild;\n        if (!startNode) {\n          return;\n        }\n        let newNativeRange = document.createRange();\n        newNativeRange.setStartBefore(startNode);\n        newNativeRange.setEndAfter(startNode);\n        this.range =  findRange(newNativeRange, this.refs.diffViewer);\n      }\n      else {\n        this.range = findRange(nativeRange, this.refs.diffViewer);\n      }\n      if (!this.range) {\n        return;\n      }\n      let rect = nativeRange.getBoundingClientRect();\n      // fix Safari bug\n      if (navigator.userAgent.indexOf('Chrome') < 0 && navigator.userAgent.indexOf('Safari') > 0) {\n        if (nativeRange.collapsed && rect.top == 0 && rect.height == 0) {\n          if (nativeRange.startOffset == 0) {\n            nativeRange.setEnd(nativeRange.endContainer, 1);\n          } else {\n            nativeRange.setStart(nativeRange.startContainer, nativeRange.startOffset - 1);\n          }\n          rect = nativeRange.getBoundingClientRect();\n          if (rect.top == 0 && rect.height == 0) {\n            if (nativeRange.getClientRects().length) {\n              rect = nativeRange.getClientRects()[0];\n            }\n          }\n        }\n      }\n      let style = this.refs.commentbtn.style;\n      style.top = `${rect.top - 100 + this.refs.viewContent.scrollTop}px`;\n    }\n    else {\n      let style = this.refs.commentbtn.style;\n      style.top = '-1000px';\n    }\n  }\n\n  getQuote = () => {\n    let range = this.range;\n    if (!range) {\n      return;\n    }\n    this.quote = '';\n    const { document } = this.refs.diffViewer.value;\n    let { anchor, focus } = range;\n    const anchorText = document.getNode(anchor.key);\n    const focusText = document.getNode(focus.key);\n    const anchorInline = document.getClosestInline(anchor.key);\n    const focusInline = document.getClosestInline(focus.key);\n    // COMPAT: If the selection is at the end of a non-void inline node, and\n    // there is a node after it, put it in the node after instead. This\n    // standardizes the behavior, since it's indistinguishable to the user.\n    if (anchorInline && anchor.offset == anchorText.text.length) {\n      const block = document.getClosestBlock(anchor.key);\n      const nextText = block.getNextText(anchor.key);\n      if (nextText) {\n        range = range.moveAnchorTo(nextText.key, 0);\n      }\n    }\n    if (focusInline && focus.offset == focusText.text.length) {\n      const block = document.getClosestBlock(focus.key);\n      const nextText = block.getNextText(focus.key);\n      if (nextText) {\n        range = range.moveFocusTo(nextText.key, 0); \n      }\n    }\n    let fragment = document.getFragmentAtRange(range);\n    let nodes = this.removeNullNode(fragment.nodes);\n    let newFragment = Document.create({\n      nodes: nodes\n    });\n    let newValue = Value.create({\n      document: newFragment\n    });\n    this.quote = serialize(newValue.toJSON());\n    let blockPath = document.createSelection(range).anchor.path.slice(0, 1);\n    let node = document.getNode(blockPath);\n    this.newIndex = node.data.get('new_index');\n    this.oldIndex = node.data.get('old_index');\n  }\n\n  removeNullNode = (oldNodes) => {\n    let newNodes = [];\n    oldNodes.map((node) => {\n      const text = node.text.trim();\n      const childNodes = node.nodes;\n      if (!text) {\n        return;\n      }\n      if ((childNodes && childNodes.size === 1) || (!childNodes)) {\n        newNodes.push(node);\n      }\n      else if (childNodes.size > 1) {\n        let nodes = this.removeNullNode(childNodes);\n        let newNode = Block.create({\n          nodes: nodes,\n          data: node.data,\n          key: node.key,\n          type: node.type\n        });\n        newNodes.push(newNode);\n      }\n    });\n    return newNodes;\n  }\n\n  onResizeMouseUp = () => {\n    if (this.state.inResizing) {\n      this.setState({\n        inResizing: false\n      });\n    }\n  }\n\n  onResizeMouseDown = () => {\n    this.setState({\n      inResizing: true\n    });\n  };\n\n  onResizeMouseMove = (e) => {\n    let rate = 100 - e.nativeEvent.clientX / this.refs.main.clientWidth * 100;\n    if (rate < 20 || rate > 60) {\n      this.setState({\n        inResizing: false\n      });\n      return null;\n    }\n    this.setState({\n      rightPartWidth: rate\n    });\n  };\n\n  componentWillMount() {\n    this.getCommentsNumber();\n    this.listReviewers();\n    this.getOriginRepoInfo();\n  }\n\n  componentDidMount() {\n    this.initialContent();\n    document.addEventListener('selectionchange', this.setBtnPosition);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('selectionchange', this.setBtnPosition);\n  }\n\n  renderDiffButton = () => {\n    switch(draftStatus) {\n      case 'open':\n        if (!draftFileExists) {\n          return;\n        }\n\n        if (!originFileExists) {\n          return;\n        }\n\n        return this.showDiffButton();\n      case 'published':\n        if (!originFileExists) {\n          return;\n        } \n\n        return this.showDiffButton();\n    }\n  }\n\n  renderNavItems = () => {\n    switch (draftStatus) {\n      case 'open':\n        if (!draftFileExists) {\n          return (\n            <Nav tabs className=\"review-side-panel-nav\">\n            {this.showNavItem('info')}\n            </Nav>\n          );\n        }\n\n        return (\n          <Nav tabs className=\"review-side-panel-nav\">\n            {this.showNavItem('info')}\n            {this.showNavItem('comments')}\n            {this.showNavItem('history')}\n          </Nav>\n        );\n      case 'published':\n        if (!originFileExists) {\n          return (\n            <Nav tabs className=\"review-side-panel-nav\">\n              {this.showNavItem('info')}\n            </Nav>\n          );\n        }\n        return (\n          <Nav tabs className=\"review-side-panel-nav\">\n            {this.showNavItem('info')}\n            {this.showNavItem('comments')}\n          </Nav>\n        );\n    }\n  }\n\n  renderContent = () => {\n    switch(draftStatus) {\n      case 'open':\n        if (!draftFileExists) {\n          return <p className=\"error\">{gettext('Draft has been deleted.')}</p>;\n        }\n        return this.showDiffViewer();\n      case 'published':\n        if (!originFileExists) {\n          return <p className=\"error\">{gettext('Original file has been deleted.')}</p>;\n        }\n        return this.showDiffViewer();\n    }\n  }\n\n  render() {\n    const onResizeMove = this.state.inResizing ? this.onResizeMouseMove : null;\n    const draftLink = siteRoot + 'lib/' + draftRepoID + '/file' + draftFilePath + '?mode=edit';\n    return(\n      <div className=\"wrapper\">\n        <div id=\"header\" className=\"header review\">\n          <div className=\"cur-file-info\">\n            <div className=\"info-item file-feature\">\n              <span className=\"sf2-icon-review\"></span>\n            </div>\n            <div className=\"info-item file-info\">\n                <React.Fragment>\n                  <span className=\"file-name\">{draftFileName}</span>\n                  {draftFileExists &&\n                    <a href={draftLink} className=\"draft-link\">{gettext('Edit draft')}</a>\n                  }\n                </React.Fragment>\n            </div>\n          </div>\n          <div className=\"button-group\">\n            {this.renderDiffButton()}\n            {draftFileExists &&\n              <button \n                className='btn btn-success file-operation-btn' \n                title={gettext('Publish draft')}\n                onClick={this.onPublishDraft}\n              >\n                {gettext('Publish')}\n              </button>\n            }\n            {draftStatus == 'published' &&\n              <button \n                className='btn btn-success file-operation-btn' \n                title={gettext('Published')}\n                disabled\n              >\n                {gettext('Published')}\n              </button>\n            }\n          </div>\n        </div>\n        <div id=\"main\" className=\"main\" ref=\"main\">\n          <div className=\"cur-view-container\" onMouseMove={onResizeMove} onMouseUp={this.onResizeMouseUp} >\n            <div className='cur-view-content' ref=\"viewContent\" style={{width:(100 - this.state.rightPartWidth) + '%'}}>\n              {this.state.isLoading ?\n                <div className=\"markdown-viewer-render-content article\">\n                  <Loading /> \n                </div> \n                :\n                <div className=\"markdown-viewer-render-content article\">\n                  {this.renderContent()}\n                </div>\n              }\n            </div>\n            <div className=\"cur-view-right-part\" style={{width:(this.state.rightPartWidth) + '%'}}>\n              <div className=\"seafile-comment-resize\" onMouseDown={this.onResizeMouseDown}></div>\n              <div className=\"review-side-panel\">\n                {this.renderNavItems()}\n                <TabContent activeTab={this.state.activeTab}>\n                  <TabPane tabId=\"reviewInfo\">\n                    <div className=\"review-side-panel-body\">\n                      <SidePanelReviewers\n                        reviewers={this.state.reviewers}\n                        toggleAddReviewerDialog={this.toggleAddReviewerDialog}/>\n                      <SidePanelAuthor/>\n                      {draftFileExists &&\n                        <UnresolvedComments number={this.state.unresolvedComments}/>\n                      }\n                      {(this.state.isShowDiff === true && this.state.changedNodes.length > 0) &&\n                      <SidePanelChanges\n                        changedNumber={this.state.changedNodes.length}\n                        scrollToChangedNode={this.scrollToChangedNode}/>\n                      }\n                      <SidePanelOrigin originRepoName={this.state.originRepoName}/>\n                      {draftFileExists &&\n                        <a href={draftLink}><Button color=\"secondary\">{gettext('Edit Draft')}</Button></a>\n                      }\n                    </div>\n                  </TabPane>\n                  <TabPane tabId=\"comments\" className=\"comments\">\n                    <ReviewComments\n                      scrollToQuote={this.scrollToQuote}\n                      getCommentsNumber={this.getCommentsNumber}\n                      commentsNumber={this.state.commentsNumber}\n                      inResizing={false}\n                    />\n                  </TabPane>\n                  <TabPane tabId=\"history\" className=\"history\">\n                    <HistoryList\n                      activeItem={this.state.activeItem}\n                      historyList={this.state.historyList}\n                      totalReversionCount={this.state.totalReversionCount}\n                      onHistoryItemClick={this.onHistoryItemClick}\n                      onHistoryListChange={this.onHistoryListChange}\n                    />\n                  </TabPane>\n                </TabContent>\n              </div>\n            </div>\n          </div>\n        </div>\n        { this.state.showReviewerDialog &&\n          <ModalPortal>\n            <AddReviewerDialog\n              showReviewerDialog={this.state.showReviewerDialog}\n              toggleAddReviewerDialog={this.toggleAddReviewerDialog}\n              draftID={draftID}\n              reviewers={this.state.reviewers}\n            />\n          </ModalPortal>\n        }\n        {this.state.isShowCommentDialog &&\n          <ModalPortal>\n            <ReviewCommentDialog\n              toggleCommentDialog={this.toggleCommentDialog}\n              onCommentAdded={this.onCommentAdded}\n              quote={this.quote}\n              draftID={draftID}\n              newIndex={this.newIndex}\n              oldIndex={this.oldIndex}\n            />\n          </ModalPortal>\n        }\n      </div>\n    );\n  }\n}\n\n\nclass SidePanelReviewers extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"review-side-panel-item\">\n        <div className=\"review-side-panel-header\">{gettext('Reviewers')}\n          <i className=\"fa fa-cog\" onClick={this.props.toggleAddReviewerDialog}></i>\n        </div>\n        { this.props.reviewers.length > 0 ?\n          this.props.reviewers.map((item, index = 0, arr) => {\n            return (\n              <div className=\"reviewer-info\" key={index}>\n                <img className=\"avatar review-side-panel-avatar\" src={item.avatar_url} alt=\"\"/>\n                <span className=\"reviewer-name\">{item.user_name}</span>\n              </div>\n            );\n          })\n          :\n          <span>{gettext('No reviewer yet.')}</span>\n        }\n      </div>\n    );\n  }\n}\n\nconst sidePanelReviewersPropTypes = {\n  reviewers: PropTypes.array.isRequired,\n  toggleAddReviewerDialog: PropTypes.func.isRequired\n};\n\nSidePanelReviewers.propTypes = sidePanelReviewersPropTypes;\n\nclass SidePanelAuthor extends React.Component {\n  render() {\n    return (\n      <div className=\"review-side-panel-item\">\n        <div className=\"review-side-panel-header\">{gettext('Author')}</div>\n        <div className=\"author-info\">\n          <img className=\"avatar review-side-panel-avatar\" src={authorAvatar} alt=\"\"/>\n          <span className=\"author-name\">{author}</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass SidePanelOrigin extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"dirent-table-container\">\n        <table className=\"table-thead-hidden\">\n          <thead>\n            <tr><th width=\"25%\"></th><th width=\"75%\"></th></tr>\n          </thead>\n          <tbody>\n            <tr><th>{gettext('Location')}</th><td>{this.props.originRepoName}{draftFilePath}</td></tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst SidePanelOriginPropTypes = {\n  originRepoName: PropTypes.string.isRequired\n};\n\nSidePanelOrigin.propTypes = SidePanelOriginPropTypes;\n\n\nclass UnresolvedComments extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"review-side-panel-item\">\n        <div className=\"review-side-panel-header\">{gettext('Comments')}</div>\n        <div className=\"changes-info\">\n          <span>{gettext('Unresolved comments:')}{' '}{this.props.number}</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst UnresolvedCommentsPropTypes = {\n  number: PropTypes.number.isRequired\n};\n\nUnresolvedComments.propTypes = UnresolvedCommentsPropTypes;\n\n\nclass SidePanelChanges extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"review-side-panel-item\">\n        <div className=\"review-side-panel-header\">{gettext('Changes')}</div>\n        <div className=\"changes-info\">\n          <span>{gettext('Number of changes:')}{' '}{this.props.changedNumber}</span>\n          { this.props.changedNumber > 0 &&\n            <div>\n              <i className=\"fa fa-arrow-circle-up\" onClick={() => { this.props.scrollToChangedNode('down');}}></i>\n              <i className=\"fa fa-arrow-circle-down\" onClick={() => { this.props.scrollToChangedNode('up');}}></i>\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nconst sidePanelChangesPropTypes = {\n  changedNumber: PropTypes.number.isRequired,\n  scrollToChangedNode: PropTypes.func.isRequired\n};\n\nSidePanelChanges.propTypes = sidePanelChangesPropTypes;\n\n\nReactDOM.render (\n  <Draft />,\n  document.getElementById('wrapper')\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/draft.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { processor } from '../../utils/seafile-markdown2html';\nimport { Button, Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, draftFilePath, draftRepoID } from '../../utils/constants';\nimport Loading from '../../components/loading.js';\nimport reviewComment from '../../models/review-comment.js';\nimport { username } from '../../utils/constants.js';\n\nimport '../../css/review-comments.css';\n\nconst commentPropTypes = {\n  getCommentsNumber: PropTypes.func.isRequired,\n  inResizing: PropTypes.bool.isRequired,\n  commentsNumber: PropTypes.number,\n  scrollToQuote: PropTypes.func.isRequired\n};\n\nclass ReviewComments extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      commentsList: [],\n      inResizing: false,\n      commentFooterHeight: 25,\n      showResolvedComment: true,\n      comment: '',\n    };\n  }\n\n  listComments = (scroll) => {\n    seafileAPI.listComments(draftRepoID, draftFilePath).then((response) => {\n      let commentList = [];\n      response.data.comments.forEach(item => {\n        let commentItem = new reviewComment(item);\n        commentList.push(commentItem);\n      });\n      this.setState({\n        commentsList: commentList\n      });\n      if (scroll) {\n        let that = this;\n        setTimeout(() => {\n          that.refs.commentsList.scrollTo(0, 10000);\n        }, 100);\n      }\n    });\n  }\n\n  handleCommentChange = (event) => {\n    this.setState({\n      comment: event.target.value,\n    });\n  }\n\n  submitComment = () => {\n    let comment = this.state.comment.trim();\n    if (comment.length > 0) {\n      seafileAPI.postComment(draftRepoID, draftFilePath, comment).then((response) => {\n        this.listComments(true);\n        this.props.getCommentsNumber();\n      });\n      this.setState({\n        comment: ''\n      });\n    }\n  }\n\n  resolveComment = (event) => {\n    seafileAPI.updateComment(draftRepoID, event.target.id, 'true').then((res) => {\n      this.props.getCommentsNumber();\n      this.listComments();\n    });\n  }\n\n  editComment = (commentID, newComment) => {\n    seafileAPI.updateComment(draftRepoID, commentID, null, null, newComment).then((res) => {\n      this.props.getCommentsNumber();\n      this.listComments();\n    });\n  }\n\n  toggleResolvedComment = () => {\n    this.setState({\n      showResolvedComment: !this.state.showResolvedComment\n    });\n  }\n\n  deleteComment = (event) => {\n    seafileAPI.deleteComment(draftRepoID, event.target.id).then((res) => {\n      this.props.getCommentsNumber();\n      this.listComments();\n    });\n  }\n\n  onResizeMouseUp = () => {\n    if (this.state.inResizing) {\n      this.setState({\n        inResizing: false\n      });\n    }\n  }\n\n  onResizeMouseDown = () => {\n    this.setState({\n      inResizing: true\n    });\n  };\n\n  onResizeMouseMove = (event) => {\n    let rate = 100 - (event.nativeEvent.clientY - 120 ) / this.refs.comment.clientHeight * 100;\n    if (rate < 20 || rate > 70) {\n      if (rate < 20) {\n        this.setState({\n          commentFooterHeight: 25\n        });\n      }\n      if (rate > 70) {\n        this.setState({\n          commentFooterHeight: 65\n        });\n      }\n      this.setState({\n        inResizing: false\n      });\n      return null;\n    }\n    this.setState({\n      commentFooterHeight: rate\n    });\n  };\n  \n  scrollToQuote = (newIndex, oldIndex, quote) => {\n    this.props.scrollToQuote(newIndex, oldIndex, quote);\n    this.setState({\n      comment: ''\n    });\n  }\n\n  componentWillMount() {\n    this.listComments();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.commentsNumber !== nextProps.commentsNumber) {\n      this.listComments();\n    }\n  }\n\n  render() {\n    const onResizeMove = this.state.inResizing ? this.onResizeMouseMove : null;\n    return (\n      <div className={(this.state.inResizing || this.props.inResizing)?\n        'seafile-comment seafile-comment-resizing' : 'seafile-comment'}\n      onMouseMove={onResizeMove} onMouseUp={this.onResizeMouseUp} ref=\"comment\">\n        <div className=\"seafile-comment-title\">\n          <div className={'seafile-comment-title-text'}>{gettext('Show resolved comments')}</div>\n          <div className={'seafile-comment-title-toggle'}>\n            <label className=\"custom-switch\" id=\"toggle-resolved-comments\">\n              <input type=\"checkbox\" name=\"option\" className=\"custom-switch-input\"\n                onChange={this.toggleResolvedComment}\n                checked={this.state.showResolvedComment && 'checked'}\n              />\n              <span className=\"custom-switch-indicator\"></span>\n            </label>\n          </div>\n        </div>\n        <div style={{height:(100-this.state.commentFooterHeight)+'%'}}>\n          { this.props.commentsNumber == 0 &&\n            <div className={'seafile-comment-list'}>\n              <div className=\"comment-vacant\">{gettext('No comment yet.')}</div>\n            </div>\n          }\n          { (this.state.commentsList.length === 0 && this.props.commentsNumber > 0) &&\n            <div className={'seafile-comment-list'}><Loading/></div>\n          }\n          { this.state.commentsList.length > 0 &&\n            <ul className={'seafile-comment-list'} ref='commentsList'>\n              { (this.state.commentsList.length > 0 && this.props.commentsNumber > 0) &&\n                this.state.commentsList.map((item, index) => {\n                  return (\n                    <CommentItem item={item} showResolvedComment={this.state.showResolvedComment}\n                      resolveComment={this.resolveComment} key={index} editComment={this.editComment}\n                      scrollToQuote={this.scrollToQuote} deleteComment={this.deleteComment}/>\n                  );\n                })\n              }\n            </ul>\n          }\n        </div>\n        <div className=\"seafile-comment-footer\" style={{height:this.state.commentFooterHeight+'%'}}>\n          <div className=\"seafile-comment-row-resize\" onMouseDown={this.onResizeMouseDown}></div>\n          <div className=\"seafile-add-comment\">\n            <textarea className=\"add-comment-input\" value={this.state.comment}\n              placeholder={gettext('Add a comment.')} onChange={this.handleCommentChange}\n              clos=\"100\" rows=\"3\" warp=\"virtual\"></textarea>\n            <Button className=\"comment-btn\" color=\"success\"\n              size=\"sm\" onClick={this.submitComment}>\n              {gettext('Submit')}</Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nReviewComments.propTypes = commentPropTypes;\n\nconst commentItemPropTypes = {\n  item: PropTypes.object.isRequired,\n  deleteComment: PropTypes.func.isRequired,\n  resolveComment: PropTypes.func.isRequired,\n  editComment: PropTypes.func.isRequired,\n  showResolvedComment: PropTypes.bool.isRequired,\n  scrollToQuote: PropTypes.func.isRequired\n};\n\nclass CommentItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      dropdownOpen: false,\n      comment: '',\n      quote: '',\n      newComment: this.props.item.comment,\n      editable: false,\n    };\n  }\n\n  toggleDropDownMenu = () => {\n    this.setState({\n      dropdownOpen: !this.state.dropdownOpen,\n    });\n  }\n\n  convertComment = (item) => {\n    processor.process(item.comment).then(\n      (result) => {\n        let comment = String(result);\n        this.setState({\n          comment: comment\n        });\n      }\n    );\n    processor.process(item.quote).then(\n      (result) => {\n        let quote = String(result);\n        this.setState({\n          quote: quote\n        });\n      }\n    );\n  }\n\n  scrollToQuote = () => {\n    const item = this.props.item;\n    this.props.scrollToQuote(item.newIndex, item.oldIndex, item.quote);\n  }\n\n  toggleEditComment = () => {\n    this.setState({\n      editable: !this.state.editable\n    });\n  }\n\n  updateComment = (event) => {\n    const newComment = this.state.newComment;\n    if (this.props.item.comment !== newComment) {\n      this.props.editComment(event.target.id, newComment);\n    }\n    this.toggleEditComment();\n  }\n\n  handleCommentChange = (event) => {\n    this.setState({\n      newComment: event.target.value,\n    });\n  }\n\n  componentWillMount() {\n    this.convertComment(this.props.item);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.convertComment(nextProps.item);\n  }\n\n  render() {\n    const item = this.props.item;\n    if (item.resolved && !this.props.showResolvedComment) {\n      return null;\n    }\n    if (this.state.editable) {\n      return(\n        <li className=\"seafile-comment-item\" id={item.id}>\n          <div className=\"seafile-comment-info\">\n            <img className=\"avatar\" src={item.avatarUrl} alt=\"\"/>\n            <div className=\"reviewer-info\">\n              <div className=\"reviewer-name\">{item.name}</div>\n              <div className=\"review-time\">{item.time}</div>\n            </div>\n          </div>\n          <div className=\"seafile-edit-comment\">\n            <textarea className=\"edit-comment-input\" value={this.state.newComment} onChange={this.handleCommentChange} clos=\"100\" rows=\"3\" warp=\"virtual\"></textarea>\n            <Button className=\"comment-btn\" color=\"success\" size=\"sm\" onClick={this.updateComment} id={item.id}>{gettext('Update')}</Button>{' '}\n            <Button className=\"comment-btn\" color=\"secondary\" size=\"sm\" onClick={this.toggleEditComment}> {gettext('Cancel')}</Button>\n          </div>\n        </li>\n      );\n    }\n    return (\n      <li className={item.resolved ? 'seafile-comment-item seafile-comment-item-resolved'\n        : 'seafile-comment-item'} id={item.id}>\n        <div className=\"seafile-comment-info\">\n          <img className=\"avatar\" src={item.avatarUrl} alt=\"\"/>\n          <div className=\"reviewer-info\">\n            <div className=\"reviewer-name\">{item.name}</div>\n            <div className=\"review-time\">{item.time}</div>\n          </div>\n          { !item.resolved &&\n            <Dropdown isOpen={this.state.dropdownOpen} size=\"sm\"\n              className=\"seafile-comment-dropdown\" toggle={this.toggleDropDownMenu}>\n              <DropdownToggle className=\"seafile-comment-dropdown-btn\">\n                <i className=\"fas fa-ellipsis-v\"></i>\n              </DropdownToggle>\n              <DropdownMenu>\n                { (item.userEmail === username) &&\n                  <DropdownItem onClick={this.props.deleteComment}\n                    className=\"delete-comment\" id={item.id}>{gettext('Delete')}</DropdownItem>}\n                { (item.userEmail === username) &&\n                  <DropdownItem onClick={this.toggleEditComment}\n                    className=\"edit-comment\" id={item.id}>{gettext('Edit')}</DropdownItem>}\n                <DropdownItem onClick={this.props.resolveComment}\n                  className=\"seafile-comment-resolved\" id={item.id}>{gettext('Mark as resolved')}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n          }\n        </div>\n        { (item.newIndex >= -1 && item.oldIndex >= -1) &&\n          <blockquote className=\"seafile-comment-content\">\n            <div onClick={this.scrollToQuote} dangerouslySetInnerHTML={{ __html: this.state.quote }}></div>\n          </blockquote>\n        }\n        <div className=\"seafile-comment-content\" dangerouslySetInnerHTML={{ __html: this.state.comment }}></div>\n      </li>\n    );\n  }\n}\n\nCommentItem.propTypes = commentItemPropTypes;\n\nexport default ReviewComments;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/review-list-view/review-comments.js","import moment from 'moment';\n\nclass reviewComment {\n\n  constructor(item) {\n    let oldTime = (new Date(item.created_at)).getTime();\n    this.time = moment(oldTime).format('YYYY-MM-DD HH:mm');\n    this.id = item.id;\n    this.avatarUrl = item.avatar_url;\n    this.comment = item.comment;\n    this.name = item.user_name;\n    this.userEmail = item.user_email;\n    this.resolved = item.resolved;\n    if (item.detail) {\n      let detail = JSON.parse(item.detail);\n      this.newIndex = detail.newIndex;\n      this.oldIndex = detail.oldIndex;\n      this.quote = detail.quote;\n    }\n  }\n\n}\n\nexport default reviewComment;\n\n\n// WEBPACK FOOTER //\n// ./src/models/review-comment.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, name, draftRepoID, draftFilePath } from '../../utils/constants';\nimport { processor } from '../../utils/seafile-markdown2html';\n\nimport '../../css/review-comment-dialog.css';\n\nconst commentDialogPropTypes = {\n  onCommentAdded: PropTypes.func.isRequired,\n  toggleCommentDialog: PropTypes.func.isRequired,\n  quote: PropTypes.string,\n  newIndex: PropTypes.number,\n  oldIndex: PropTypes.number,\n  draftID: PropTypes.string,\n};\n\nclass ReviewCommentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      comment: '',\n      quote: '',\n    };\n  }\n\n  handleCommentChange = (event) => {\n    let comment = event.target.value;\n    this.setState({\n      comment: comment\n    });\n  }\n\n  submitComment = () => {\n    let comment = this.state.comment.trim();\n    if (comment.length > 0) {\n      if (this.props.quote.length > 0) {\n        let detail = {\n          quote: this.props.quote,\n          newIndex: this.props.newIndex,\n          oldIndex: this.props.oldIndex\n        };\n        let detailJSON = JSON.stringify(detail);\n        seafileAPI.postComment(draftRepoID, draftFilePath, comment, detailJSON).then((response) => {\n          this.props.onCommentAdded();\n        });\n      }\n      else {\n        seafileAPI.postComment(draftRepoID, draftFilePath, comment).then((response) => {\n          this.props.onCommentAdded();\n        });\n      }\n      this.setState({\n        comment: ''\n      });\n    }\n  }\n\n  setQuoteText = (mdQuote) => {\n    processor.process(mdQuote).then(\n      (result) => {\n        let quote = String(result);\n        this.setState({\n          quote: quote\n        });\n      }\n    );\n  }\n\n  componentDidMount() {\n    this.setQuoteText(this.props.quote);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.quote !== nextProps.quote) {\n      this.setQuoteText(nextProps.quote);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"review-comment-dialog\">\n        <div>{name}</div>\n        <blockquote className=\"review-comment-dialog-quote\">\n          <div dangerouslySetInnerHTML={{ __html: this.state.quote}}></div>\n        </blockquote>\n        <textarea value={this.state.comment} onChange={this.handleCommentChange}></textarea>\n        <div className=\"button-group\">\n          <Button size=\"sm\" color=\"primary\" onClick={this.submitComment}>{gettext('Submit')}</Button>\n          <Button size=\"sm\" color=\"secondary\" onClick={this.props.toggleCommentDialog}>{gettext('Cancel')}</Button>\n        </div>\n        <span className=\"review-comment-dialog-triangle\"></span>\n      </div>\n    );\n  }\n}\n\nReviewCommentDialog.propTypes = commentDialogPropTypes;\n\nexport default ReviewCommentDialog;\n\n\n// WEBPACK FOOTER //\n// ./src/components/review-list-view/review-comment-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api.js';\nimport UserSelect from '../user-select.js';\nimport '../../css/add-reviewer-dialog.css';\n\nconst propTypes = {\n  showReviewerDialog: PropTypes.bool.isRequired,\n  draftID: PropTypes.string.isRequired,\n  toggleAddReviewerDialog: PropTypes.func.isRequired,\n  reviewers: PropTypes.array.isRequired\n};\n\nclass AddReviewerDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      reviewers: this.props.reviewers,\n      selectedOption: null,\n      errorMsg: [],\n      loading: false,\n    };\n    this.Options = [];\n  }\n\n  listReviewers = () => {\n    seafileAPI.listDraftReviewers(this.props.draftID).then((res) => {\n      this.setState({\n        reviewers: res.data.reviewers\n      });\n    });\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({\n      selectedOption: option,\n    });\n    this.Options = [];\n  }\n\n  addReviewers = () => {\n    if (this.state.selectedOption.length > 0 ) {\n      this.refs.reviewSelect.clearSelect();\n      let reviewers = [];\n      for (let i = 0; i < this.state.selectedOption.length; i ++) {\n        reviewers[i] = this.state.selectedOption[i].email;\n      }\n      this.setState({\n        loading: true,\n        errorMsg: [],\n      });\n      seafileAPI.addDraftReviewers(this.props.draftID, reviewers).then((res) => {\n        if (res.data.failed.length > 0) {\n          let errorMsg = [];\n          for (let i = 0 ; i < res.data.failed.length ; i++) {\n            errorMsg[i] = res.data.failed[i];\n          }\n          this.setState({\n            errorMsg: errorMsg\n          });\n        }\n        this.setState({\n          selectedOption: null,\n          loading: false\n        });\n        if (res.data.success.length > 0) {\n          this.listReviewers();\n        }\n      });\n    }\n  }\n\n  deleteReviewer = (event) => {\n    let reviewer = event.target.getAttribute('name');\n    seafileAPI.deleteDraftReviewer(this.props.draftID, reviewer).then((res) => {\n      if (res.data === 200) {\n        let newReviewers = [];\n        for (let i = 0; i < this.state.reviewers.length; i ++) {\n          if (this.state.reviewers[i].user_email !== reviewer) {\n            newReviewers.push(this.state.reviewers[i]);\n          }\n        }\n        this.setState({\n          reviewers: newReviewers\n        });\n      }\n    });\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggleAddReviewerDialog}>\n        <ModalHeader>{gettext('Request a review')}</ModalHeader>\n        <ModalBody >\n          <p>{gettext('Add new reviewer')}</p>\n          <div className='add-reviewer'>\n            <UserSelect\n              placeholder={gettext('Select users...')}\n              onSelectChange={this.handleSelectChange}\n              ref=\"reviewSelect\"\n              isMulti={true}\n              className='reviewer-select'\n            />\n            {(this.state.selectedOption && !this.state.loading)?\n              <Button color=\"secondary\" onClick={this.addReviewers}>{gettext('Submit')}</Button> :\n              <Button color=\"secondary\" disabled>{gettext('Submit')}</Button>\n            }\n          </div>\n          {this.state.errorMsg.length > 0 &&\n            this.state.errorMsg.map((item, index = 0, arr) => {\n              return (\n                <p className=\"reviewer-select-error error\" key={index}>{this.state.errorMsg[index].email}\n                  {': '}{this.state.errorMsg[index].error_msg}</p>\n              );\n            })\n          }\n          { this.state.reviewers.length > 0 &&\n            this.state.reviewers.map((item, index = 0, arr) => {\n              return (\n                <div className=\"reviewer-select-info\" key={index}>\n                  <div>\n                    <img className=\"avatar reviewer-select-avatar\" src={item.avatar_url} alt=\"\"/>\n                    <span className=\"reviewer-select-name\">{item.user_name}</span>\n                  </div>\n                  <i className=\"fa fa-times\" name={item.user_email} onClick={this.deleteReviewer}></i>\n                </div>\n              );\n            })\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleAddReviewerDialog}>\n            {gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddReviewerDialog.propTypes = propTypes;\n\nexport default AddReviewerDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/add-reviewer-dialog.js","/* eslint-disable linebreak-style */\nimport React from 'react';\nimport axios from 'axios';\nimport Loading from '../../components/loading';\nimport moment from 'moment';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { draftOriginRepoID, draftFilePath, draftOriginFilePath } from '../../utils/constants';\n\nimport '../../css/file-history.css';\n\nmoment.locale(window.app.config.lang);\n\nclass HistoryList extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.perPage = 25;\n    this.state = {\n      currentPage: 1,\n      loading: false\n    };\n  }\n\n  onClick = (event, key, preItem, currentItem)=> {\n    if (key === this.state.activeItem) return false;\n    this.props.onHistoryItemClick(currentItem, preItem, key);\n  }\n\n  onScroll = (event) => {\n    const clientHeight = event.target.clientHeight;\n    const scrollHeight = event.target.scrollHeight;\n    const scrollTop    = event.target.scrollTop;\n    const isBottom = (clientHeight + scrollTop + 1 >= scrollHeight);\n    if (isBottom) {\n      if (this.props.totalReversionCount > this.perPage * this.state.currentPage) {\n        let currentPage = this.state.currentPage + 1;\n        this.setState({\n          currentPage: currentPage,\n          loading : true\n        });\n        seafileAPI.listFileHistoryRecords(draftOriginRepoID, draftFilePath, currentPage, this.perPage).then((res) => {\n          let currentHistoryList = Object.assign([], this.props.historyList);\n          this.props.onHistoryListChange([...currentHistoryList, ...res.data.data]);\n          this.setState({\n            loading : false\n          });\n        });\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"history-body\">\n        <ul onScroll={this.onScroll} className={'history-list-container'}>\n          {\n            this.props.historyList ?\n              this.props.historyList.map((item, index = 0, arr) => {\n                let preItemIndex = index + 1;\n                if (preItemIndex === arr.length) {\n                  preItemIndex = index;\n                }\n                return (\n                  <HistoryItem\n                    onClick={this.onClick}\n                    ctime={item.ctime}\n                    className={this.props.activeItem === index ? 'item-active': ''}\n                    name={item.creator_name}\n                    index={index}\n                    key={index}\n                    preItem={arr[preItemIndex]}\n                    currentItem={item}\n                  />\n                );\n              }) : <Loading/>\n          }\n          {\n            this.state.loading &&\n            <li className={'reloading-reversion'}><Loading /></li>\n          }\n        </ul>\n      </div>\n    );\n  }\n}\n\nclass HistoryItem extends React.Component {\n  render() {\n    let time = moment.parseZone(this.props.ctime).format('YYYY-MM-DD HH:mm');\n    return (\n      <li onClick={(event) => this.props.onClick(event, this.props.index, this.props.preItem, this.props.currentItem)} className={'history-list-item ' + this.props.className}>\n        <div className=\"history-info\">\n          <div className=\"time\">{time}</div>\n          <div className=\"owner\"><i className=\"squire-icon\"/><span>{this.props.name}</span></div>\n        </div>\n      </li>\n    );\n  }\n}\n\n\nexport default HistoryList;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/review/history-list.js","export const strChineseFirstPY = \"YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY\";\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/pinyin-by-unicode.js","export const dirPath = '/';\nexport const gettext = window.gettext;\n\nexport const siteRoot = window.app.config.siteRoot;\nexport const loginUrl = window.app.config.loginUrl;\nexport const avatarInfo = window.app.config.avatarInfo;\nexport const logoPath =  window.app.config.logoPath;\nexport const mediaUrl = window.app.config.mediaUrl;\nexport const siteTitle = window.app.config.siteTitle;\nexport const siteName = window.app.config.siteName;\nexport const logoWidth = window.app.config.logoWidth;\nexport const logoHeight = window.app.config.logoHeight;\nexport const isPro = window.app.config.isPro === 'True';\nexport const isDocs = window.app.config.isDocs === 'True';\nexport const lang = window.app.config.lang;\nexport const fileServerRoot = window.app.config.fileServerRoot;\nexport const seafileVersion = window.app.config.seafileVersion;\nexport const serviceURL = window.app.config.serviceURL;\n\n//pageOptions\nexport const seafileCollabServer = window.app.pageOptions.seafileCollabServer;\nexport const name = window.app.pageOptions.name;\nexport const contactEmail = window.app.pageOptions.contactEmail;\nexport const username = window.app.pageOptions.username;\nexport const canAddRepo = window.app.pageOptions.canAddRepo;\nexport const canGenerateShareLink = window.app.pageOptions.canGenerateShareLink;\nexport const canGenerateUploadLink = window.app.pageOptions.canGenerateUploadLink ? true : false;\nexport const canViewOrg = window.app.pageOptions.canViewOrg === 'True';\nexport const fileAuditEnabled = window.app.pageOptions.fileAuditEnabled ? true : false;\nexport const enableFileComment = window.app.pageOptions.enableFileComment ? true : false;\nexport const folderPermEnabled = window.app.pageOptions.folderPermEnabled === 'True';\nexport const enableResetEncryptedRepoPassword = window.app.pageOptions.enableResetEncryptedRepoPassword === 'True';\nexport const isEmailConfigured = window.app.pageOptions.isEmailConfigured === 'True';\nexport const enableUploadFolder = window.app.pageOptions.enableUploadFolder === 'True';\nexport const enableResumableFileUpload = window.app.pageOptions.enableResumableFileUpload === 'True';\nexport const storages = window.app.pageOptions.storages; // storage backends\nexport const enableRepoSnapshotLabel = window.app.pageOptions.enableRepoSnapshotLabel;\nexport const shareLinkExpireDaysMin = window.app.pageOptions.shareLinkExpireDaysMin;\nexport const shareLinkExpireDaysMax = window.app.pageOptions.shareLinkExpireDaysMax;\nexport const maxFileName = window.app.pageOptions.maxFileName;\nexport const enableWiki = window.app.pageOptions.enableWiki;\nexport const enableEncryptedLibrary = window.app.pageOptions.enableEncryptedLibrary;\nexport const enableRepoHistorySetting = window.app.pageOptions.enableRepoHistorySetting;\nexport const isSystemStaff = window.app.pageOptions.isSystemStaff;\nexport const thumbnailSizeForOriginal = window.app.pageOptions.thumbnailSizeForOriginal;\nexport const repoPasswordMinLength = window.app.pageOptions.repoPasswordMinLength;\n\nexport const curNoteMsg = window.app.pageOptions.curNoteMsg;\nexport const curNoteID = window.app.pageOptions.curNoteID;\n\n// wiki\nexport const slug = window.wiki ? window.wiki.config.slug : '';\nexport const repoID = window.wiki ? window.wiki.config.repoId : '';\nexport const initialPath = window.wiki ? window.wiki.config.initial_path : '';\nexport const permission = window.wiki ? window.wiki.config.permission === 'True' : '';\nexport const isDir = window.wiki ? window.wiki.config.isDir : '';\nexport const serviceUrl = window.wiki ? window.wiki.config.serviceUrl : '';\nexport const isPublicWiki = window.wiki ? window.wiki.config.isPublicWiki === 'True': '';\n\n// file history\nexport const PER_PAGE = 25;\nexport const historyRepoID = window.fileHistory ? window.fileHistory.pageOptions.repoID : '';\nexport const repoName = window.fileHistory ? window.fileHistory.pageOptions.repoName : '';\nexport const filePath = window.fileHistory ? window.fileHistory.pageOptions.filePath : '';\nexport const fileName = window.fileHistory ? window.fileHistory.pageOptions.fileName : '';\n\n// Draft review\nexport const draftFilePath = window.draft ? window.draft.config.draftFilePath: '';\nexport const draftOriginFilePath = window.draft ? window.draft.config.draftOriginFilePath: '';\nexport const draftFileName = window.draft ? window.draft.config.draftFileName: '';\nexport const draftID = window.draft ? window.draft.config.draftID : '';\nexport const draftRepoID = window.draft ? window.draft.config.draftRepoID : '';\nexport const author = window.draft ? window.draft.config.author : '';\nexport const authorAvatar = window.draft ? window.draft.config.authorAvatar : '';\nexport const originFileExists = window.draft ? window.draft.config.originFileExists : '';\nexport const draftFileExists = window.draft ? window.draft.config.draftFileExists : '';\nexport const draftStatus = window.draft ? window.draft.config.draftStatus : '';\nexport const draftPublishVersion = window.draft ? window.draft.config.draftPublishVersion : '';\nexport const originFileVersion = window.draft ? window.draft.config.originFileVersion : '';\n\n// org admin\nexport const orgID = window.org ? window.org.pageOptions.orgID : '';\nexport const invitationLink = window.org ? window.org.pageOptions.invitationLink : '';\nexport const orgMemberQuotaEnabled = window.org ? window.org.pageOptions.orgMemberQuotaEnabled : '';\n\n// sys admin\nexport const constanceEnabled = window.sysadmin ? window.sysadmin.pageOptions.constance_enabled : '';\nexport const multiTenancy = window.sysadmin ? window.sysadmin.pageOptions.multi_tenancy : '';\nexport const multiInstitution = window.sysadmin ? window.sysadmin.pageOptions.multi_institution : '';\nexport const sysadminExtraEnabled = window.sysadmin ? window.sysadmin.pageOptions.sysadmin_extra_enabled : '';\nexport const enableGuestInvitation = window.sysadmin ? window.sysadmin.pageOptions.enable_guest_invitation : '';\nexport const enableTermsAndConditions = window.sysadmin ? window.sysadmin.pageOptions.enable_terms_and_conditions : '';\nexport const isDefaultAdmin = window.sysadmin ? window.sysadmin.pageOptions.is_default_admin : '';\nexport const enableFileScan = window.sysadmin ? window.sysadmin.pageOptions.enable_file_scan : '';\nexport const canViewSystemInfo = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_system_info : '';\nexport const canViewStatistic = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_statistic : '';\nexport const canConfigSystem = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_config_system : '';\nexport const canManageLibrary = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_library : '';\nexport const canManageUser = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_user : '';\nexport const canManageGroup = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_group : '';\nexport const canViewUserLog = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_user_log : '';\nexport const canViewAdminLog = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_admin_log : '';\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/constants.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AsyncSelect from 'react-select/lib/Async';\nimport { seafileAPI } from '../utils/seafile-api.js';\nimport { gettext } from '../utils/constants';\n\nconst propTypes = {\n  placeholder: PropTypes.string.isRequired,\n  onSelectChange: PropTypes.func.isRequired,\n  isMulti: PropTypes.bool.isRequired,\n  className: PropTypes.string,\n};\n\nconst NoOptionsMessage = (props) => {\n  return (\n    <div {...props.innerProps} style={{margin: '6px 10px', textAlign: 'center', color: 'hsl(0,0%,50%)'}}>{gettext('User not found')}</div>\n  );\n};\n\nclass UserSelect extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.options = [];\n  }\n\n  handleSelectChange = (option) => {\n    this.options = [];\n    this.props.onSelectChange(option);\n  }\n\n  loadOptions = (input, callback) => {\n    const value = input.trim();\n    if (value.length > 0) {\n      seafileAPI.searchUsers(value).then((res) => {\n        this.options = [];\n        for (let i = 0 ; i < res.data.users.length; i++) {\n          const item = res.data.users[i];\n          let obj = {};\n          obj.value = item.name;\n          obj.email = item.email;\n          obj.label =\n            <React.Fragment>\n              <img src={item.avatar_url} className=\"select-module select-module-icon avatar\" alt=\"\"/>\n              <span className='select-module select-module-name'>{item.name}</span>\n            </React.Fragment>;\n          this.options.push(obj);\n        }\n        callback(this.options);\n      });\n    }\n  }\n\n  clearSelect = () => {\n    this.refs.userSelect.select.onChange([], { action: 'clear' });\n  }\n\n  render() {\n    return (\n      <AsyncSelect\n        isClearable\n        classNamePrefix\n        components={{ NoOptionsMessage }}\n        isMulti={this.props.isMulti}\n        loadOptions={this.loadOptions}\n        onChange={this.handleSelectChange}\n        placeholder={this.props.placeholder}\n        className={`user-select ${this.props.className}`}\n        ref=\"userSelect\"\n      />\n    );\n  }\n}\n\nUserSelect.propTypes = propTypes;\n\nexport default UserSelect;\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-select.js","import cookie from 'react-cookies';\nimport { SeafileAPI } from 'seafile-js';\nimport { siteRoot } from './constants';\n\nlet seafileAPI = new SeafileAPI();\nlet xcsrfHeaders = cookie.load('sfcsrftoken');\nseafileAPI.initForSeahubUsage({ siteRoot, xcsrfHeaders });\n\nexport { seafileAPI };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/seafile-api.js","import { mediaUrl, gettext, serviceURL } from './constants';\nimport { strChineseFirstPY } from './pinyin-by-unicode';\n\nexport const Utils = {\n\n  keyCodes:  {\n    esc:   27,\n    space: 32,\n    tab:   9,\n    up:    38,\n    down:  40\n  },\n\n  bytesToSize: function(bytes) {\n    if (typeof(bytes) == 'undefined') return ' ';\n\n    if(bytes < 0) return '--';\n    const sizes = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n\n    if (bytes === 0) return bytes + ' ' + sizes[0];\n\n    const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1000)), 10);\n    if (i === 0) return bytes + ' ' + sizes[i];\n    return (bytes / (1000 ** i)).toFixed(1) + ' ' + sizes[i];\n  },\n\n  isHiDPI: function() {\n    var pixelRatio = window.devicePixelRatio ? window.devicePixelRatio : 1;\n    if (pixelRatio > 1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  FILEEXT_ICON_MAP: {\n\n    // text file\n    'md': 'txt.png',\n    'txt': 'txt.png',\n\n    // pdf file\n    'pdf' : 'pdf.png',\n\n    // document file\n    'doc' : 'word.png',\n    'docx' : 'word.png',\n    'odt' : 'word.png',\n    'fodt' : 'word.png',\n\n    'ppt' : 'ppt.png',\n    'pptx' : 'ppt.png',\n    'odp' : 'ppt.png',\n    'fodp' : 'ppt.png',\n\n    'xls' : 'excel.png',\n    'xlsx' : 'excel.png',\n    'ods' : 'excel.png',\n    'fods' : 'excel.png',\n\n    // video\n    'mp4': 'video.png',\n    'ogv': 'video.png',\n    'webm': 'video.png',\n    'mov': 'video.png',\n    'flv': 'video.png',\n    'wmv': 'video.png',\n    'rmvb': 'video.png',\n\n    // music file\n    'mp3' : 'music.png',\n    'oga' : 'music.png',\n    'ogg' : 'music.png',\n    'flac' : 'music.png',\n    'aac' : 'music.png',\n    'ac3' : 'music.png',\n    'wma' : 'music.png',\n\n    // image file\n    'jpg' : 'pic.png',\n    'jpeg' : 'pic.png',\n    'png' : 'pic.png',\n    'svg' : 'pic.png',\n    'gif' : 'pic.png',\n    'bmp' : 'pic.png',\n    'ico' : 'pic.png',\n\n    // default\n    'default' : 'file.png'\n  },\n\n  // check if a file is an image\n  imageCheck: function (filename) {\n    // no file ext\n    if (filename.lastIndexOf('.') == -1) {\n      return false;\n    }\n    var file_ext = filename.substr(filename.lastIndexOf('.') + 1).toLowerCase();\n    var image_exts = ['gif', 'jpeg', 'jpg', 'png', 'ico', 'bmp'];\n    if (image_exts.indexOf(file_ext) != -1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  // check if a file is a video\n  videoCheck: function (filename) {\n    // no file ext\n    if (filename.lastIndexOf('.') == -1) {\n      return false;\n    }\n    var file_ext = filename.substr(filename.lastIndexOf('.') + 1).toLowerCase();\n    var exts = ['mp4', 'ogv', 'webm', 'mov'];\n    if (exts.indexOf(file_ext) != -1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  encodePath: function(path) {\n    // IE8 does not support 'map()'\n    /*\n       return path.split('/').map(function(e) {\n       return encodeURIComponent(e);\n       }).join('/');\n       */\n    if (!path) {\n      return '';\n    }\n    var path_arr = path.split('/');\n    var path_arr_ = [];\n    for (var i = 0, len = path_arr.length; i < len; i++) {\n      path_arr_.push(encodeURIComponent(path_arr[i]));\n    }\n    return path_arr_.join('/');\n  },\n\n  HTMLescape: function(html) {\n    return document.createElement('div')\n      .appendChild(document.createTextNode(html))\n      .parentNode\n      .innerHTML;\n  },\n\n  generateDialogTitle: function(title, operationTarget) {\n    /*\n     * @param title: gettext('...{placeholder}...')\n     */\n    const targetStr = this.HTMLescape(operationTarget);\n    const str = `<span class=\"op-target ellipsis ellipsis-op-target\" title=${targetStr}>${targetStr}</span>`;\n    return title.replace('{placeholder}', str);\n  },\n\n  getFileName: function(filePath) {\n    let lastIndex = filePath.lastIndexOf('/');\n    return filePath.slice(lastIndex+1);\n  },\n\n  /**\n   * input: '/abc/bc/cb'\n   * output: ['/abc', '/abc/bc', '/abc/bc/cb'];\n   */\n  getPaths: function(path) {\n    let paths = path.split('/').slice(1);\n    let result = [];\n    while(paths.length) {\n      result.push('/' + paths.join('/'));\n      paths.pop();\n    }\n    return result.reverse();\n  },\n\n  /**\n   * input: \n   *  eg: /\n   *      ../abc/abc/\n   *      ../abc/bc\n   * output(return):\n   *  eg: /\n   *      abc\n   *      bc\n   */\n  getFolderName: function(path) {\n    if (path === '/') {\n      return path;\n    }\n    path = path[path.length - 1] !== '/' ? path : path.slice(0, path.length -2);\n    return path.slice(path.lastIndexOf('/') + 1);\n  },\n\n  /*\n    return dirname of a path.\n    if path is '/', return '/'.\n  */\n  getDirName: function(path) {\n    let dir = path.slice(0, path.lastIndexOf('/'));\n    if (dir === '') {\n      return '/';\n    } else {\n      return dir;\n    }\n  },\n\n  isChildPath: function(child, parent) {\n    let p = this.getDirName(child);\n    return p === parent;\n  },\n\n  isAncestorPath: function(ancestor, path) {\n    return path.indexOf(ancestor) > -1;\n  },\n\n  renameAncestorPath: function(path, ancestor, newAncestor) {\n    return path.replace(ancestor, newAncestor);\n  },\n\n  joinPath: function(pathA, pathB) {\n    if (pathA[pathA.length-1] === '/') {\n      return pathA + pathB;\n    } else {\n      return pathA + '/' + pathB;\n    }\n  },\n\n  isSupportUploadFolder: function() {\n    return navigator.userAgent.indexOf('Firefox')!=-1 ||\n      navigator.userAgent.indexOf('Chrome') > -1;\n  },\n\n  getDefaultLibIconUrl: function(isBig) {\n    let size = Utils.isHiDPI() ? 48 : 24;\n    size = isBig ? 256 : size;\n    let icon_name = 'lib.png';\n    return mediaUrl + 'img/lib/' + size + '/' + icon_name;\n  },\n\n  getLibIconUrl: function(repo, isBig) {\n    let permission = repo.permission || repo.share_permission; //Compatible with regular repo and repo shared\n    let size = Utils.isHiDPI() ? 48 : 24;\n    size = isBig ? 256 : size;\n    let icon_name = 'lib.png';\n    if (repo.encrypted) {\n      icon_name = 'lib-encrypted.png';\n    }\n    if (permission === 'r' || permission === 'perview') {\n      icon_name = 'lib-readonly.png';\n    }\n\n    return mediaUrl + 'img/lib/' + size + '/' + icon_name;\n  },\n\n  getDirentIcon: function (dirent, isBig) {\n    let size = this.isHiDPI() ? 48 : 24;\n    size = isBig ? 192 : size;\n    if (dirent.isDir()) {\n      let readonly = false;\n      if (dirent.permission && (dirent.permission === 'r' || dirent.permission === 'preview')) {\n        readonly = true;\n      }\n      return this.getFolderIconUrl(readonly, size);\n    } else {\n      return this.getFileIconUrl(dirent.name, size);\n    }\n  },\n\n  getFolderIconUrl: function(readonly = false, size) {\n    if (!size) {\n      size = Utils.isHiDPI() ? 48 : 24;\n    }\n    size = size > 24 ? 192 : 24;\n    return `${mediaUrl}img/folder${readonly ? '-read-only-' : '-'}${size}.png`;\n  },\n\n  getFileIconUrl: function(filename, size) {\n    if (!size) {\n      size = Utils.isHiDPI() ? 48 : 24;\n    }\n    size = size > 24 ? 192 : 24;\n    let file_ext = '';\n    if (filename.lastIndexOf('.') == -1) {\n      return mediaUrl + 'img/file/' + size + '/' + this.FILEEXT_ICON_MAP['default'];\n    } else {\n      file_ext = filename.substr(filename.lastIndexOf('.') + 1).toLowerCase();\n    }\n\n    if (this.FILEEXT_ICON_MAP[file_ext]) {\n      return mediaUrl + 'img/file/' + size + '/' + this.FILEEXT_ICON_MAP[file_ext];\n    } else {\n      return mediaUrl + 'img/file/' + size + '/' + this.FILEEXT_ICON_MAP['default'];\n    }\n  },\n\n  getLibIconTitle: function(repo) {\n    var title;\n    let permission = repo.permission || repo.share_permission; //Compatible with regular repo and repo shared\n    if (repo.encrypted) {\n      title = gettext('Encrypted library');\n    } else if (repo.is_admin) { // shared with 'admin' permission\n      title = gettext('Admin access');\n    } else {\n      switch(permission) {\n        case 'rw':\n          title = gettext('Read-Write library');\n          break;\n        case 'r':\n          title = gettext('Read-Only library');\n          break;\n        case 'cloud-edit':\n          title = gettext('Preview-Edit-on-Cloud library');\n          break;\n        case 'preview':\n          title = gettext('Preview-on-Cloud library');\n          break;\n      }\n    }\n    return title;\n  },\n\n  getFolderIconTitle: function(options) {\n    var title;\n    switch(options.permission) {\n      case 'rw':\n        title = gettext('Read-Write folder');\n        break;\n      case 'r':\n        title = gettext('Read-Only folder');\n        break;\n      case 'cloud-edit':\n        title = gettext('Preview-Edit-on-Cloud folder');\n        break;\n      case 'preview':\n        title = gettext('Preview-on-Cloud folder');\n        break;\n    }\n    return title;\n  },\n\n  sharePerms: function(permission) {\n    var title;\n    switch(permission) {\n      case 'rw':\n        title = gettext('Read-Write');\n        break;\n      case 'r':\n        title = gettext('Read-Only');\n        break;\n      case 'admin':\n        title = gettext('Admin');\n        break;\n      case 'cloud-edit':\n        title = gettext('Preview-Edit-on-Cloud');\n        break;\n      case 'preview':\n        title = gettext('Preview-on-Cloud');\n        break;\n    }\n    return title;\n  },\n\n  sharePermsExplanation: function(permission) {\n    var title;\n    switch(permission) {\n      case 'rw':\n        title = gettext('User can read, write, upload, download and sync files.');\n        break;\n      case 'r':\n        title = gettext('User can read, download and sync files.');\n        break;\n      case 'admin':\n        title = gettext('Besides Write permission, user can also share the library.');\n        break;\n      case 'cloud-edit':\n        title = gettext('Same as Preview on cloud. But user can also edit files online via browser.');\n        break;\n      case 'preview':\n        title = gettext('User can only view files online via browser. Files can\\'t be downloaded.');\n        break;\n    }\n    return title;\n  },\n\n  formatSize: function(options) {\n    /*\n     * param: {bytes, precision}\n     */\n    var bytes = options.bytes;\n    var precision = options.precision || 0;\n\n    var kilobyte = 1000;\n    var megabyte = kilobyte * 1000;\n    var gigabyte = megabyte * 1000;\n    var terabyte = gigabyte * 1000;\n\n    if ((bytes >= 0) && (bytes < kilobyte)) {\n      return bytes + ' B';\n\n    } else if ((bytes >= kilobyte) && (bytes < megabyte)) {\n      return (bytes / kilobyte).toFixed(precision) + ' KB';\n\n    } else if ((bytes >= megabyte) && (bytes < gigabyte)) {\n      return (bytes / megabyte).toFixed(precision) + ' MB';\n\n    } else if ((bytes >= gigabyte) && (bytes < terabyte)) {\n      return (bytes / gigabyte).toFixed(precision) + ' GB';\n\n    } else if (bytes >= terabyte) {\n      return (bytes / terabyte).toFixed(precision) + ' TB';\n\n    } else {\n      return bytes + ' B';\n    }\n  },\n\n  formatBitRate: function(bits) {\n    var Bs;\n    if (typeof bits !== 'number') {\n      return '';\n    }\n    Bs = bits / 8;\n    if (Bs >= 1000000000) {\n      return (Bs / 1000000000).toFixed(2) + ' GB/s';\n    }\n    if (Bs >= 1000000) {\n      return (Bs / 1000000).toFixed(2) + ' MB/s';\n    }\n    if (Bs >= 1000) {\n      return (Bs / 1000).toFixed(2) + ' kB/s';\n    }\n    return Bs.toFixed(2) + ' B/s';\n  },\n\n  isMarkdownFile: function(filePath) {\n    let index = filePath.lastIndexOf('.');\n    if (index === -1) {\n      return false;\n    } else {\n      let type = filePath.substring(index).toLowerCase();\n      if (type === '.md' || type === '.markdown') {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  },\n\n  isInternalMarkdownLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/lib/' + repoID + '.*\\.md$');\n    return re.test(url);\n  },\n\n  isInternalDirLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/library/' + repoID + '.*');\n    return re.test(url);\n  },\n\n  getPathFromInternalMarkdownLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/lib/' + repoID + '/file' + '(.*\\.md)');\n    var array = re.exec(url);\n    var path = decodeURIComponent(array[1]);\n    return path;\n  },\n  \n  getPathFromInternalDirLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/library/' + repoID + '(/.*)');\n    var array = re.exec(url);\n    var path = decodeURIComponent(array[1]);\n    path = path.slice(1);\n    path = path.slice(path.indexOf('/'));\n    return path;\n  },\n\n  isWikiInternalMarkdownLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '.*\\.md$');\n    return re.test(url);\n  },\n\n  isWikiInternalDirLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '.*');\n    return re.test(url);\n  },\n\n  getPathFromWikiInternalMarkdownLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '(.*\\.md)');\n    var array = re.exec(url);\n    var path = array[1];\n    try {\n      path = decodeURIComponent(path);\n    } catch(err) {\n      path = path.replace(/%/g, '%25');\n      path = decodeURIComponent(path);\n    }\n    return path;\n  },\n  \n  getPathFromWikiInternalDirLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '(/.*)');\n    var array = re.exec(url);\n    var path = array[1];\n    try {\n      path = decodeURIComponent(path);\n    } catch(err) {\n      path = path.replace(/%/g, '%25');\n      path = decodeURIComponent(path);\n    }\n    return path;\n  },\n\n  compareTwoWord: function(wordA, wordB) {\n    // compare wordA and wordB at lower case\n    // if wordA >= wordB, return 1\n    // if wordA < wordB, return -1\n\n    var a_val, b_val,\n      a_uni = wordA.charCodeAt(0),\n      b_uni = wordB.charCodeAt(0);\n\n    if ((19968 < a_uni && a_uni < 40869) && (19968 < b_uni && b_uni < 40869)) {\n      // both are chinese words\n      a_val = strChineseFirstPY.charAt(a_uni - 19968).toLowerCase();\n      b_val = strChineseFirstPY.charAt(b_uni - 19968).toLowerCase();\n    } else if ((19968 < a_uni && a_uni < 40869) && !(19968 < b_uni && b_uni < 40869)) {\n      // a is chinese and b is english\n      return 1;\n    } else if (!(19968 < a_uni && a_uni < 40869) && (19968 < b_uni && b_uni < 40869)) {\n      // a is english and b is chinese\n      return -1;\n    } else {\n      // both are english words\n      a_val = wordA.toLowerCase();\n      b_val = wordB.toLowerCase();\n      return this.compareStrWithNumbersIn(a_val, b_val);\n    }\n\n    return a_val >= b_val ? 1 : -1;\n  },\n\n  // compare two strings which may have digits in them\n  // and compare those digits as number instead of string\n  compareStrWithNumbersIn: function(a, b) {\n    var reParts = /\\d+|\\D+/g;\n    var reDigit = /\\d/;\n    var aParts = a.match(reParts);\n    var bParts = b.match(reParts);\n    var isDigitPart;\n    var len = Math.min(aParts.length, bParts.length);\n    var aPart, bPart;\n\n    if (aParts && bParts &&\n      (isDigitPart = reDigit.test(aParts[0])) == reDigit.test(bParts[0])) {\n      // Loop through each substring part to compare the overall strings.\n      for (var i = 0; i < len; i++) {\n        aPart = aParts[i];\n        bPart = bParts[i];\n\n        if (isDigitPart) {\n          aPart = parseInt(aPart, 10);\n          bPart = parseInt(bPart, 10);\n        }\n\n        if (aPart != bPart) {\n          return aPart < bPart ? -1 : 1;\n        }\n\n        // Toggle the value of isDigitPart since the parts will alternate.\n        isDigitPart = !isDigitPart;\n      }\n    }\n\n    // Use normal comparison.\n    return (a >= b) - (a <= b);\n  },\n\n  sortRepos: function(repos, sortBy, sortOrder) {\n    const _this = this;\n    let comparator;\n\n    switch (`${sortBy}-${sortOrder}`) {\n      case 'name-asc':\n        comparator = function(a, b) {\n          if (!a.repo_name) {\n            return 1;\n          }\n          if (!b.repo_name) {\n            return -1;\n          }\n          var result = _this.compareTwoWord(a.repo_name, b.repo_name);\n          return result;\n        };\n        break;\n      case 'name-desc':\n        comparator = function(a, b) {\n          if (!a.repo_name) {\n            return -1;\n          }\n          if (!b.repo_name) {\n            return 1;\n          }\n          var result = _this.compareTwoWord(a.repo_name, b.repo_name);\n          return -result;\n        };\n        break;\n      case 'time-asc':\n        comparator = function(a, b) {\n          return a.last_modified < b.last_modified ? -1 : 1;\n        };\n        break;\n      case 'time-desc':\n        comparator = function(a, b) {\n          return a.last_modified < b.last_modified ? 1 : -1;\n        };\n        break;\n    }\n\n    repos.sort(comparator);\n    return repos;\n  },\n\n  sortDirents: function(items, sortBy, sortOrder) {\n    const _this = this;\n    let comparator;\n\n    switch (`${sortBy}-${sortOrder}`) {\n      case 'name-asc':\n        comparator = function(a, b) {\n          var result = _this.compareTwoWord(a.name, b.name);\n          return result;\n        };\n        break;\n      case 'name-desc':\n        comparator = function(a, b) {\n          var result = _this.compareTwoWord(a.name, b.name);\n          return -result;\n        };\n        break;\n      case 'time-asc':\n        comparator = function(a, b) {\n          return a.mtime < b.mtime ? -1 : 1;\n        };\n        break;\n      case 'time-desc':\n        comparator = function(a, b) {\n          return a.mtime < b.mtime ? 1 : -1;\n        };\n        break;\n    }\n\n    items.sort((a, b) => {\n      if (a.type == 'dir' && b.type == 'file') {\n        return -1;\n      } else if (a.type == 'file' && b.type == 'dir') {\n        return 1;\n      } else {\n        return comparator(a, b);\n      }\n    });\n    return items;\n  },\n\n  changeMarkdownNodes: function(nodes, fn) {\n    nodes.map((item) => {\n      fn(item); \n      if (item.nodes && item.nodes.length > 0){\n        Utils.changeMarkdownNodes(item.nodes, fn); \n      }\n    });\n\n    return nodes;\n  },\n\n  chooseLanguage: function(suffix) {\n    let mode;\n    switch(suffix) {\n      case 'py':\n        mode = 'python';\n        break;\n      case 'js':\n        mode = 'javascript';\n        break;\n      case 'c':\n        mode = 'text/x-csrc';\n        break;\n      case 'cpp':\n        mode = 'text/x-c++src';\n        break;\n      case 'java':\n        mode = 'text/x-java';\n        break;\n      case 'cs':\n        mode = 'text/x-csharp';\n        break;\n      case 'mdf':\n        mode = 'text/x-sql';\n        break;\n      case 'html':\n        mode = 'htmlmixed';\n        break;\n      default:\n        mode = suffix;\n    }\n    return mode;\n  },\n\n  DARK_COLOR_MAP: {\n    // old color\n    'red': '#D11507',\n    'orange': '#FF8C00',\n    'yellow': '#EDEF00',\n    'green': '#006400',\n    'cyan': '#00E0E1',\n    'blue': '#2510A3',\n    'indigo': '#350C56',\n    'purple': '#551054',\n    'pink': '#E3A5B0',\n    'azure': '#C4D0D0',\n    'lime': '#00E100',\n    'teal': '#006A6B',\n    'gray': '#545454',\n\n    // new color\n    '#FFA8A8': '#E49090',\n    '#FFA94D': '#E39136',\n    '#FFD43B': '#E0B815',\n    '#A0EC50': '#83CF32',\n    '#A9E34B': '#8DC72E',\n    '#63E6BE': '#43CAA4',\n    '#4FD2C9': '#2DB9B0',\n    '#72C3FC': '#57ABE3',\n    '#91A7FF': '#7A91E7',\n    '#E599F7': '#CC82DE',\n    '#B197FC': '#9B82E5',\n    '#F783AC': '#DF6D97',\n    '#CED4DA': '#A8ADB2',\n  },\n\n  getDarkColor: function(color) {\n    let darkColor;\n    darkColor = this.DARK_COLOR_MAP[color];\n    return darkColor;\n  },\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js","var unified = require('unified');\nvar markdown = require('remark-parse');\nvar slug = require('remark-slug');\nvar breaks = require('remark-breaks');\nvar remark2rehype = require('remark-rehype');\nvar format = require('rehype-format');\nvar raw = require('rehype-raw');\nvar xtend = require('xtend');\nvar toHTML = require('hast-util-to-html');\nvar sanitize = require('hast-util-sanitize');\nvar gh = require('hast-util-sanitize/lib/github');\nvar deepmerge = require('deepmerge').default;\n\nfunction stringify(config) {\n  var settings = xtend(config, this.data('settings'));\n  var schema = deepmerge(gh, {\n    'attributes': {\n      'input': [\n        'type',\n      ],\n      'li': [\n        'className'\n      ],\n      'code': [\n        'className',\n      ],\n    },\n    'tagNames': [\n      'input',\n      'code'\n    ]\n  });\n  this.Compiler = compiler;\n\n  function compiler(tree) {\n    // use sanity to remove dangerous html, the default is\n    var hast = sanitize(tree, schema);\n    return toHTML(hast, settings);\n  }\n}\n\n// markdown -> mdast -> html AST -> html\nvar processor = unified()\n  .use(markdown, {commonmark: true})\n  .use(breaks)\n  .use(slug)\n  .use(remark2rehype, {allowDangerousHTML: true})\n  .use(raw)\n  .use(format)\n  .use(stringify);\n\nvar processorGetAST = unified()\n  .use(markdown, {commonmark: true})\n  .use(slug);\n\nexport { processor, processorGetAST };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/seafile-markdown2html.js"],"sourceRoot":""}