webpackJsonp([1],[,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dirPath="/",t.gettext=window.gettext,t.siteRoot=window.app.config.siteRoot,t.loginUrl=window.app.config.loginUrl,t.logoutUrl=window.app.config.logoutUrl,t.avatarInfo=window.app.config.avatarInfo,t.logoPath=window.app.config.logoPath,t.mediaUrl=window.app.config.mediaUrl,t.siteTitle=window.app.config.siteTitle,t.siteName=window.app.config.siteName,t.logoWidth=window.app.config.logoWidth,t.logoHeight=window.app.config.logoHeight,t.isPro="True"===window.app.config.isPro,t.isDocs="True"===window.app.config.isDocs,t.lang=window.app.config.lang,t.fileServerRoot=window.app.config.fileServerRoot,t.seafileVersion=window.app.config.seafileVersion,t.serviceURL=window.app.config.serviceURL,t.appAvatarURL=window.app.config.avatarURL,t.faviconPath=window.app.config.faviconPath,t.loginBGPath=window.app.config.loginBGPath,t.trashReposExpireDays=window.app.pageOptions.trashReposExpireDays,t.dtableWebServer=window.app.pageOptions.dtableWebServer,t.seafileCollabServer=window.app.pageOptions.seafileCollabServer,t.name=window.app.pageOptions.name,t.contactEmail=window.app.pageOptions.contactEmail,t.username=window.app.pageOptions.username,t.canAddRepo=window.app.pageOptions.canAddRepo,t.canAddGroup=window.app.pageOptions.canAddGroup,t.canGenerateShareLink=window.app.pageOptions.canGenerateShareLink,t.canGenerateUploadLink=window.app.pageOptions.canGenerateUploadLink,t.canSendShareLinkEmail=window.app.pageOptions.canSendShareLinkEmail,t.canViewOrg="True"===window.app.pageOptions.canViewOrg,t.fileAuditEnabled=window.app.pageOptions.fileAuditEnabled,t.enableFileComment=!!window.app.pageOptions.enableFileComment,t.folderPermEnabled=window.app.pageOptions.folderPermEnabled,t.enableResetEncryptedRepoPassword="True"===window.app.pageOptions.enableResetEncryptedRepoPassword,t.isEmailConfigured="True"===window.app.pageOptions.isEmailConfigured,t.enableUploadFolder="True"===window.app.pageOptions.enableUploadFolder,t.enableResumableFileUpload="True"===window.app.pageOptions.enableResumableFileUpload,t.resumableUploadFileBlockSize=window.app.pageOptions.resumableUploadFileBlockSize,t.storages=window.app.pageOptions.storages,t.libraryTemplates=window.app.pageOptions.libraryTemplates,t.enableRepoSnapshotLabel=window.app.pageOptions.enableRepoSnapshotLabel,t.shareLinkPasswordMinLength=window.app.pageOptions.shareLinkPasswordMinLength,t.shareLinkExpireDaysMin=window.app.pageOptions.shareLinkExpireDaysMin,t.shareLinkExpireDaysMax=window.app.pageOptions.shareLinkExpireDaysMax,t.sideNavFooterCustomHtml=window.app.pageOptions.sideNavFooterCustomHtml,t.aboutDialogCustomHtml=window.app.pageOptions.aboutDialogCustomHtml,t.shareLinkExpireDaysDefault=window.app.pageOptions.shareLinkExpireDaysDefault,t.uploadLinkExpireDaysMin=window.app.pageOptions.uploadLinkExpireDaysMin,t.uploadLinkExpireDaysMax=window.app.pageOptions.uploadLinkExpireDaysMax,t.uploadLinkExpireDaysDefault=window.app.pageOptions.uploadLinkExpireDaysDefault,t.maxFileName=window.app.pageOptions.maxFileName,t.canPublishRepo=window.app.pageOptions.canPublishRepo,t.enableEncryptedLibrary=window.app.pageOptions.enableEncryptedLibrary,t.enableRepoHistorySetting=window.app.pageOptions.enableRepoHistorySetting,t.isSystemStaff=window.app.pageOptions.isSystemStaff,t.thumbnailSizeForOriginal=window.app.pageOptions.thumbnailSizeForOriginal,t.repoPasswordMinLength=window.app.pageOptions.repoPasswordMinLength,t.canAddPublicRepo=window.app.pageOptions.canAddPublicRepo,t.canInvitePeople=window.app.pageOptions.canInvitePeople,t.canLockUnlockFile=window.app.pageOptions.canLockUnlockFile,t.customNavItems=window.app.pageOptions.customNavItems,t.enableShowContactEmailWhenSearchUser=window.app.pageOptions.enableShowContactEmailWhenSearchUser,t.maxUploadFileSize=window.app.pageOptions.maxUploadFileSize,t.maxNumberOfFilesForFileupload=window.app.pageOptions.maxNumberOfFilesForFileupload,t.curNoteMsg=window.app.pageOptions.curNoteMsg,t.curNoteID=window.app.pageOptions.curNoteID,t.enableTC=window.app.pageOptions.enableTC,t.workspaceID=window.app.pageOptions.workspaceID,t.showLogoutIcon=window.app.pageOptions.showLogoutIcon,t.additionalShareDialogNote=window.app.pageOptions.additionalShareDialogNote,t.additionalAppBottomLinks=window.app.pageOptions.additionalAppBottomLinks,t.additionalAboutDialogLinks=window.app.pageOptions.additionalAboutDialogLinks,t.slug=window.wiki?window.wiki.config.slug:"",t.repoID=window.wiki?window.wiki.config.repoId:"",t.initialPath=window.wiki?window.wiki.config.initial_path:"",t.permission=window.wiki?"True"===window.wiki.config.permission:"",t.isDir=window.wiki?window.wiki.config.isDir:"",t.serviceUrl=window.wiki?window.wiki.config.serviceUrl:"",t.isPublicWiki=window.wiki?"True"===window.wiki.config.isPublicWiki:"",t.sharedToken=window.wiki?window.wiki.config.sharedToken:"",t.sharedType=window.wiki?window.wiki.config.sharedType:"",t.hasIndex=window.wiki?window.wiki.config.hasIndex:"",t.PER_PAGE=25,t.historyRepoID=window.fileHistory?window.fileHistory.pageOptions.repoID:"",t.repoName=window.fileHistory?window.fileHistory.pageOptions.repoName:"",t.filePath=window.fileHistory?window.fileHistory.pageOptions.filePath:"",t.fileName=window.fileHistory?window.fileHistory.pageOptions.fileName:"",t.useNewAPI=window.fileHistory?window.fileHistory.pageOptions.use_new_api:"",t.canDownload=window.fileHistory?window.fileHistory.pageOptions.can_download_file:"",t.canCompare=window.fileHistory?window.fileHistory.pageOptions.can_compare:"",t.draftFilePath=window.draft?window.draft.config.draftFilePath:"",t.draftOriginFilePath=window.draft?window.draft.config.draftOriginFilePath:"",t.draftFileName=window.draft?window.draft.config.draftFileName:"",t.draftID=window.draft?window.draft.config.draftID:"",t.draftRepoID=window.draft?window.draft.config.draftRepoID:"",t.author=window.draft?window.draft.config.author:"",t.authorAvatar=window.draft?window.draft.config.authorAvatar:"",t.originFileExists=window.draft?window.draft.config.originFileExists:"",t.draftFileExists=window.draft?window.draft.config.draftFileExists:"",t.draftStatus=window.draft?window.draft.config.draftStatus:"",t.draftPublishVersion=window.draft?window.draft.config.draftPublishVersion:"",t.originFileVersion=window.draft?window.draft.config.originFileVersion:"",t.filePermission=window.draft?window.draft.config.perm:"",t.orgID=window.org?window.org.pageOptions.orgID:"",t.invitationLink=window.org?window.org.pageOptions.invitationLink:"",t.orgMemberQuotaEnabled=window.org?window.org.pageOptions.orgMemberQuotaEnabled:"",t.constanceEnabled=window.sysadmin?window.sysadmin.pageOptions.constance_enabled:"",t.multiTenancy=window.sysadmin?window.sysadmin.pageOptions.multi_tenancy:"",t.multiInstitution=window.sysadmin?window.sysadmin.pageOptions.multi_institution:"",t.sysadminExtraEnabled=window.sysadmin?window.sysadmin.pageOptions.sysadmin_extra_enabled:"",t.enableGuestInvitation=window.sysadmin?window.sysadmin.pageOptions.enable_guest_invitation:"",t.enableTermsAndConditions=window.sysadmin?window.sysadmin.pageOptions.enable_terms_and_conditions:"",t.isDefaultAdmin=window.sysadmin?window.sysadmin.pageOptions.is_default_admin:"",t.enableFileScan=window.sysadmin?window.sysadmin.pageOptions.enable_file_scan:"",t.canViewSystemInfo=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_system_info:"",t.canViewStatistic=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_statistic:"",t.canConfigSystem=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_config_system:"",t.canManageLibrary=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_library:"",t.canManageUser=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_user:"",t.canManageGroup=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_group:"",t.canViewUserLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_user_log:"",t.canViewAdminLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_admin_log:"",t.otherPermission=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.other_permission:"",t.enableWorkWeixin=window.sysadmin?window.sysadmin.pageOptions.enable_work_weixin:"",t.enableDingtalk=window.sysadmin?window.sysadmin.pageOptions.enable_dingtalk:"",t.enableSysAdminViewRepo=window.sysadmin?window.sysadmin.pageOptions.enableSysAdminViewRepo:"",t.haveLDAP=window.sysadmin?window.sysadmin.pageOptions.haveLDAP:"",t.enableShareLinkReportAbuse=window.sysadmin?window.sysadmin.pageOptions.enable_share_link_report_abuse:""},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var a=n(2),o=n(21),i=n(14),l=r(i),s=n(0),u=r(s),c=n(5),d=r(c),f=n(26),p=r(f),m=t.Utils={keyCodes:{esc:27,space:32,tab:9,up:38,down:40},bytesToSize:function(e){if("undefined"==typeof e)return" ";if(e<0)return"--";var t=["bytes","KB","MB","GB","TB","PB"];if(0===e)return e+" "+t[0];var n=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return 0===n?e+" "+t[n]:(e/Math.pow(1e3,n)).toFixed(1)+" "+t[n]},isHiDPI:function(){return(window.devicePixelRatio?window.devicePixelRatio:1)>1},isDesktop:function(){return window.innerWidth>=768},isWeChat:function(){var e=window.navigator.userAgent.toLowerCase(),t="micromessenger"==e.match(/MicroMessenger/i);return"micromessenger"==e.match(/MicroMessenger/i)&&"wxwork"==e.match(/wxwork/i)||t},FILEEXT_ICON_MAP:{md:"txt.png",txt:"txt.png",pdf:"pdf.png",doc:"word.png",docx:"word.png",odt:"word.png",fodt:"word.png",ppt:"ppt.png",pptx:"ppt.png",odp:"ppt.png",fodp:"ppt.png",xls:"excel.png",xlsx:"excel.png",ods:"excel.png",fods:"excel.png",mp4:"video.png",ogv:"video.png",webm:"video.png",mov:"video.png",flv:"video.png",wmv:"video.png",rmvb:"video.png",mp3:"music.png",oga:"music.png",ogg:"music.png",flac:"music.png",aac:"music.png",ac3:"music.png",wma:"music.png",jpg:"pic.png",jpeg:"pic.png",png:"pic.png",svg:"pic.png",gif:"pic.png",bmp:"pic.png",ico:"pic.png",default:"file.png"},imageCheck:function(e){return-1!=e.lastIndexOf(".")&&-1!=["gif","jpeg","jpg","png","ico","bmp","tif","tiff"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},getShareLinkPermissionList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=[];return"library"===e?a.push("preview_download"):"dir"===e?"rw"!=t&&"admin"!=t&&"r"!=t||a.push("preview_download"):"file"===e&&("rw"!=t&&"admin"!=t&&"r"!=t||a.push("preview_download"),this.isEditableOfficeFile(n)&&("rw"==t||"admin"==t)&&r&&a.push("edit_download")),a.push("preview_only"),a},getShareLinkPermissionStr:function(e){var t=e.can_edit,n=e.can_download;return t?n?"edit_download":"cloud_edit":n?"preview_download":"preview_only"},isEditableOfficeFile:function(e){return-1!=e.lastIndexOf(".")&&-1!=["docx","pptx","xlsx"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},videoCheck:function(e){return-1!=e.lastIndexOf(".")&&-1!=["mp4","ogv","webm","mov"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},checkDuplicatedNameInList:function(e,t){return e.some(function(e){return e.name===t})},encodePath:function(e){if(!e)return"";for(var t=e.split("/"),n=[],r=0,a=t.length;r<a;r++)n.push(encodeURIComponent(t[r]));return n.join("/")},HTMLescape:function(e){return document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML},generateDialogTitle:function(e,t){var n=this.HTMLescape(t),r='<span class="op-target ellipsis ellipsis-op-target" title='+n+">"+n+"</span>";return e.replace("{placeholder}",r)},getFileName:function(e){var t=e.lastIndexOf("/");return e.slice(t+1)},getPaths:function(e){for(var t=e.split("/").slice(1),n=[];t.length;)n.push("/"+t.join("/")),t.pop();return n.reverse()},getFolderName:function(e){return"/"===e?e:(e="/"!==e[e.length-1]?e:e.slice(0,e.length-2),e.slice(e.lastIndexOf("/")+1))},getDirName:function(e){var t=e.slice(0,e.lastIndexOf("/"));return""===t?"/":t},isChildPath:function(e,t){return this.getDirName(e)===t},isAncestorPath:function(e,t){return t.indexOf(e)>-1},renameAncestorPath:function(e,t,n){return e.replace(t,n)},joinPath:function(e,t){return"/"===e[e.length-1]?e+t:e+"/"+t},isSupportUploadFolder:function(){return-1!=navigator.userAgent.indexOf("Firefox")||navigator.userAgent.indexOf("Chrome")>-1||navigator.userAgent.indexOf("Safari")>-1},isIEBrower:function(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,n=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;return t||n},getDefaultLibIconUrl:function(e){var t=m.isHiDPI()?48:24;t=e?256:t;return a.mediaUrl+"img/lib/"+t+"/lib.png"},getLibIconUrl:function(e,t){var n=e.permission||e.share_permission,r=m.isHiDPI()?48:24;r=t?256:r;var o="lib.png";switch(e.encrypted&&(o="lib-encrypted.png"),n){case"r":o="lib-readonly.png";break;case"preview":o="lib-cloud-preview.png";break;case"cloud-edit":o="lib-cloud-preview-edit.png"}return"read-only"==e.status&&(o="lib-readonly.png"),a.mediaUrl+"img/lib/"+r+"/"+o},getDirentIcon:function(e,t){var n=this.isHiDPI()?48:24;if(n=t?192:n,e.isDir()){var r=!1;return!e.permission||"r"!==e.permission&&"preview"!==e.permission||(r=!0),this.getFolderIconUrl(r,n)}return this.getFileIconUrl(e.name,n)},getAdminTemplateDirentIcon:function(e,t){var n=this.isHiDPI()?48:24;return n=t?192:n,e.is_file?this.getFileIconUrl(e.obj_name,n):this.getFolderIconUrl()},getFolderIconUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];return t||(t=m.isHiDPI()?48:24),t=t>24?192:24,a.mediaUrl+"img/folder"+(e?"-read-only-":"-")+t+".png"},getFileIconUrl:function(e,t){t||(t=m.isHiDPI()?48:24),t=t>24?192:24;var n="";return-1==e.lastIndexOf(".")?a.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP.default:(n=e.substr(e.lastIndexOf(".")+1).toLowerCase(),this.FILEEXT_ICON_MAP[n]?a.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP[n]:a.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP.default)},getLibIconTitle:function(e){var t,n=e.permission||e.share_permission;if(e.encrypted)t=(0,a.gettext)("Encrypted library");else if(e.is_admin)t=(0,a.gettext)("Admin access");else switch(n){case"rw":t=(0,a.gettext)("Read-Write library");break;case"r":t=(0,a.gettext)("Read-Only library");break;case"cloud-edit":t=(0,a.gettext)("Online Read-Write library");break;case"preview":t=(0,a.gettext)("Online Read-Only library")}return t},getFolderIconTitle:function(e){var t;switch(e.permission){case"rw":t=(0,a.gettext)("Read-Write folder");break;case"r":t=(0,a.gettext)("Read-Only folder");break;case"cloud-edit":t=(0,a.gettext)("Online Read-Write folder");break;case"preview":t=(0,a.gettext)("Online Read-Only folder")}return t},getFolderOperationList:function(e,t,n,r){var o=[],i=l.default.SHARE,s=l.default.DOWNLOAD,u=l.default.DELETE,c=l.default.RENAME,d=l.default.MOVE,f=l.default.COPY,p=l.default.PERMISSION,h=l.default.OPEN_VIA_CLIENT,g=n.permission;return r&&("rw"!=g&&"r"!=g||o.push(s),m.isHasPermissionToShare(t,g,n)&&o.push(i),"rw"==g&&o.push(u,"Divider")),"rw"==g&&(o.push(c,d,f),a.folderPermEnabled&&(e&&t.has_been_shared_out||t.is_admin)&&o.push("Divider",p),o.push("Divider",h)),"r"!=g||t.encrypted||o.push(f),o},getFileOperationList:function(e,t,n,r){var o=[],i=l.default.SHARE,s=l.default.DOWNLOAD,u=l.default.DELETE,c=l.default.RENAME,d=l.default.MOVE,f=l.default.COPY,p=l.default.TAGS,h=l.default.UNLOCK,g=l.default.LOCK,v=l.default.COMMENT,b=l.default.HISTORY,y=l.default.ACCESS_LOG,E=l.default.OPEN_VIA_CLIENT,w=n.permission;return r&&("rw"!=w&&"r"!=w||o.push(s),m.isHasPermissionToShare(t,w,n)&&o.push(i),"rw"==w&&(!n.is_locked||n.is_locked&&n.locked_by_me)&&o.push(u),o.push("Divider")),"rw"==w&&((!n.is_locked||n.is_locked&&n.locked_by_me)&&o.push(c,d),o.push(f,p),a.isPro&&(n.is_locked?(n.locked_by_me||"OnlineOffice"==n.lock_owner||e||t.is_admin)&&o.push(h):o.push(g)),o.push("Divider"),a.enableFileComment&&o.push(v),o.push(b),a.isPro&&a.fileAuditEnabled&&o.push(y),o.push("Divider",E)),"r"==w&&(t.encrypted||o.push(f),a.enableFileComment&&o.push(v),o.push(b)),o},getDirentOperationList:function(e,t,n,r){return"dir"==n.type?m.getFolderOperationList(e,t,n,r):m.getFileOperationList(e,t,n,r)},sharePerms:function(e){var t;switch(e){case"rw":t=(0,a.gettext)("Read-Write");break;case"r":t=(0,a.gettext)("Read-Only");break;case"admin":t=(0,a.gettext)("Admin");break;case"cloud-edit":t=(0,a.gettext)("Online Read-Write");break;case"preview":t=(0,a.gettext)("Online Read-Only")}return t},sharePermsExplanation:function(e){var t;switch(e){case"rw":t=(0,a.gettext)("User can read, write, upload, download and sync files.");break;case"r":t=(0,a.gettext)("User can read, download and sync files.");break;case"admin":t=(0,a.gettext)("Besides Write permission, user can also share the library.");break;case"cloud-edit":t=(0,a.gettext)("User can view and edit file online via browser. Files can't be downloaded.");break;case"preview":t=(0,a.gettext)("User can only view files online via browser. Files can't be downloaded.")}return t},getShareLinkPermissionObject:function(e){switch(e){case"preview_download":return{value:e,text:(0,a.gettext)("Preview and download"),permissionDetails:{can_edit:!1,can_download:!0}};case"preview_only":return{value:e,text:(0,a.gettext)("Preview only"),permissionDetails:{can_edit:!1,can_download:!1}};case"edit_download":return{value:e,text:(0,a.gettext)("Edit on cloud and download"),permissionDetails:{can_edit:!0,can_download:!0}};case"cloud_edit":return{value:e,text:(0,a.gettext)("Edit on cloud only"),permissionDetails:{can_edit:!0,can_download:!1}}}return{text:""}},formatSize:function(e){var t=e.bytes,n=e.precision||0;return t>=0&&t<1e3?t+" B":t>=1e3&&t<1e6?(t/1e3).toFixed(n)+" KB":t>=1e6&&t<1e9?(t/1e6).toFixed(n)+" MB":t>=1e9&&t<1e12?(t/1e9).toFixed(n)+" GB":t>=1e12?(t/1e12).toFixed(n)+" TB":t+" B"},formatBitRate:function(e){var t;return"number"!==typeof e?"":(t=e/8,t>=1e9?(t/1e9).toFixed(2)+" GB/s":t>=1e6?(t/1e6).toFixed(2)+" MB/s":t>=1e3?(t/1e3).toFixed(2)+" kB/s":t.toFixed(2)+" B/s")},isMarkdownFile:function(e){var t=e.lastIndexOf(".");if(-1===t)return!1;var n=e.substring(t).toLowerCase();return".md"===n||".markdown"===n},isInternalFileLink:function(e,t){return new RegExp(a.serviceURL+"/lib/"+t+"/file.*").test(e)},isInternalMarkdownLink:function(e,t){return new RegExp(a.serviceURL+"/lib/"+t+".*.md$").test(e)},isInternalDirLink:function(e,t){return new RegExp(a.serviceURL+"/library/"+t+".*").test(e)},getPathFromInternalMarkdownLink:function(e,t){var n=new RegExp(a.serviceURL+"/lib/"+t+"/file(.*.md)"),r=n.exec(e);return decodeURIComponent(r[1])},getPathFromInternalDirLink:function(e,t){var n=new RegExp(a.serviceURL+"/library/"+t+"(/.*)"),r=n.exec(e),o=decodeURIComponent(r[1]);return o=o.slice(1),o=o.slice(o.indexOf("/"))},isWikiInternalMarkdownLink:function(e,t){return t=encodeURIComponent(t),new RegExp(a.serviceURL+"/published/"+t+".*.md$").test(e)},isWikiInternalDirLink:function(e,t){return t=encodeURIComponent(t),new RegExp(a.serviceURL+"/published/"+t+".*").test(e)},getPathFromWikiInternalMarkdownLink:function(e,t){t=encodeURIComponent(t);var n=new RegExp(a.serviceURL+"/published/"+t+"(.*.md)"),r=n.exec(e),o=r[1];try{o=decodeURIComponent(o)}catch(e){o=o.replace(/%/g,"%25"),o=decodeURIComponent(o)}return o},getPathFromWikiInternalDirLink:function(e,t){t=encodeURIComponent(t);var n=new RegExp(a.serviceURL+"/published/"+t+"(/.*)"),r=n.exec(e),o=r[1];try{o=decodeURIComponent(o)}catch(e){o=o.replace(/%/g,"%25"),o=decodeURIComponent(o)}return o},compareTwoWord:function(e,t){var n,r,a=e.charCodeAt(0),i=t.charCodeAt(0);return 19968<a&&a<40869&&19968<i&&i<40869?(n=o.strChineseFirstPY.charAt(a-19968).toLowerCase(),r=o.strChineseFirstPY.charAt(i-19968).toLowerCase(),n>=r?1:-1):19968<a&&a<40869&&!(19968<i&&i<40869)?1:!(19968<a&&a<40869)&&19968<i&&i<40869?-1:(n=e.toLowerCase(),r=t.toLowerCase(),this.compareStrWithNumbersIn(n,r))},compareStrWithNumbersIn:function(e,t){var n,r,a,o=/\d+|\D+/g,i=/\d/,l=e.match(o),s=t.match(o),u=Math.min(l.length,s.length);if(l&&s&&(n=i.test(l[0]))==i.test(s[0]))for(var c=0;c<u;c++){if(r=l[c],a=s[c],n&&(r=parseInt(r,10),a=parseInt(a,10)),r!=a)return r<a?-1:1;n=!n}return(e>=t)-(e<=t)},sortRepos:function(e,t,n){var r=this,a=void 0;switch(t+"-"+n){case"name-asc":a=function(e,t){return e.repo_name?t.repo_name?r.compareTwoWord(e.repo_name,t.repo_name):-1:1};break;case"name-desc":a=function(e,t){return e.repo_name?t.repo_name?-r.compareTwoWord(e.repo_name,t.repo_name):1:-1};break;case"time-asc":a=function(e,t){return e.last_modified<t.last_modified?-1:1};break;case"time-desc":a=function(e,t){return e.last_modified<t.last_modified?1:-1};break;case"size-asc":a=function(e,t){if(e.size===t.size){return r.compareTwoWord(e.repo_name,t.repo_name)}return e.size_original<t.size_original?-1:1};break;case"size-desc":a=function(e,t){if(e.size===t.size){return-r.compareTwoWord(e.repo_name,t.repo_name)}return e.size_original<t.size_original?1:-1}}return e.sort(a),e},sortDirents:function(e,t,n){var r=this,a=void 0;switch(t+"-"+n){case"name-asc":a=function(e,t){return r.compareTwoWord(e.name,t.name)};break;case"name-desc":a=function(e,t){return-r.compareTwoWord(e.name,t.name)};break;case"time-asc":a=function(e,t){return e.mtime<t.mtime?-1:1};break;case"time-desc":a=function(e,t){return e.mtime<t.mtime?1:-1};break;case"size-asc":a=function(e,t){return"dir"==e.type&&"dir"==t.type?0:e.size_original<t.size_original?-1:1};break;case"size-desc":a=function(e,t){return"dir"==e.type&&"dir"==t.type?0:e.size_original<t.size_original?1:-1}}return e.sort(function(e,t){return"dir"==e.type&&"file"==t.type?-1:"file"==e.type&&"dir"==t.type?1:a(e,t)}),e},sortDirentsInSharedDir:function(e,t,n){var r=this,a=void 0;switch(t+"-"+n){case"name-asc":a=function(e,t){return e.is_dir?r.compareTwoWord(e.folder_name,t.folder_name):r.compareTwoWord(e.file_name,t.file_name)};break;case"name-desc":a=function(e,t){return-(e.is_dir?r.compareTwoWord(e.folder_name,t.folder_name):r.compareTwoWord(e.file_name,t.file_name))};break;case"time-asc":a=function(e,t){return e.last_modified<t.last_modified?-1:1};break;case"time-desc":a=function(e,t){return e.last_modified<t.last_modified?1:-1};break;case"size-asc":a=function(e,t){return e.is_dir?0:e.size<t.size?-1:1};break;case"size-desc":a=function(e,t){return e.is_dir?0:e.size<t.size?1:-1}}return e.sort(function(e,t){return e.is_dir&&!t.is_dir?-1:!e.is_dir&&t.is_dir?1:a(e,t)}),e},getErrorMsg:function(e,t){var n="";return e.response?403==e.response.status?(t&&d.default.danger(u.default.createElement(p.default,null),{id:"permission_denied",duration:3600}),n=(0,a.gettext)("Permission denied")):n=e.response.data&&e.response.data.error_msg?e.response.data.error_msg:(0,a.gettext)("Error"):n=(0,a.gettext)("Please check the network."),n},changeMarkdownNodes:function(e,t){return e.map(function(e){t(e),e.nodes&&e.nodes.length>0&&m.changeMarkdownNodes(e.nodes,t)}),e},chooseLanguage:function(e){var t=void 0;switch(e){case"py":t="python";break;case"js":t="javascript";break;case"c":t="text/x-csrc";break;case"cpp":t="text/x-c++src";break;case"java":t="text/x-java";break;case"cs":t="text/x-csharp";break;case"mdf":t="text/x-sql";break;case"html":t="htmlmixed";break;default:t=e}return t},DARK_COLOR_MAP:{red:"#D11507",orange:"#FF8C00",yellow:"#EDEF00",green:"#006400",cyan:"#00E0E1",blue:"#2510A3",indigo:"#350C56",purple:"#551054",pink:"#E3A5B0",azure:"#C4D0D0",lime:"#00E100",teal:"#006A6B",gray:"#545454","#FFA8A8":"#E49090","#FFA94D":"#E39136","#FFD43B":"#E0B815","#A0EC50":"#83CF32","#A9E34B":"#8DC72E","#63E6BE":"#43CAA4","#4FD2C9":"#2DB9B0","#72C3FC":"#57ABE3","#91A7FF":"#7A91E7","#E599F7":"#CC82DE","#B197FC":"#9B82E5","#F783AC":"#DF6D97","#CED4DA":"#A8ADB2"},getDarkColor:function(e){return this.DARK_COLOR_MAP[e]},getCopySuccessfulMessage:function(e){var t=void 0,n=e.length;return 1===n?t=(0,a.gettext)("Successfully copied %(name)s."):2===n?t=(0,a.gettext)("Successfully copied %(name)s and 1 other item."):(t=(0,a.gettext)("Successfully copied %(name)s and %(amount)s other items."),t=t.replace("%(amount)s",n-1)),t=t.replace("%(name)s",e[0])},getMoveSuccessMessage:function(e){var t=void 0,n=e.length;return 1===n?t=(0,a.gettext)("Successfully moved %(name)s."):2===n?t=(0,a.gettext)("Successfully moved %(name)s and 1 other item."):(t=(0,a.gettext)("Successfully moved %(name)s and %(amount)s other items."),t=t.replace("%(amount)s",n-1)),t=t.replace("%(name)s",e[0])},getCopyFailedMessage:function(e){var t=void 0,n=e.length;return n>1?(t=(0,a.gettext)("Failed to copy %(name)s and %(amount)s other item(s)."),t=t.replace("%(amount)s",n-1)):t=(0,a.gettext)("Failed to copy %(name)s."),t=t.replace("%(name)s",e[0])},getMoveFailedMessage:function(e){var t=void 0,n=e.length;return n>1?(t=(0,a.gettext)("Failed to move %(name)s and %(amount)s other item(s)."),t=t.replace("%(amount)s",n-1)):t=(0,a.gettext)("Failed to move %(name)s."),t=t.replace("%(name)s",e[0])},handleSearchedItemClick:function(e){if(!0===e.is_dir){var t=a.siteRoot+"library/"+e.repo_id+"/"+e.repo_name+e.path;window.open("about:blank").location.href=t}else{var n=a.siteRoot+"lib/"+e.repo_id+"/file"+m.encodePath(e.path);window.open("about:blank").location.href=n}},generatePassword:function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},pathNormalize:function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++)"."!==t[r]&&""!==t[r]&&(".."===t[r]?n.pop():n.push(t[r]));return n.join("/")},getEventData:function(e,t){return e.target.dataset?e.target.dataset[t]:e.target.getAttribute("data-"+t)},isHasPermissionToShare:function(e,t,n){var r=e.is_admin,o=e.is_virtual,i=e.encrypted,l=e.owner_email,s=l===a.username;if(i)return!0;if(n&&("rw"==t||"r"==t))return!0;if(a.canGenerateShareLink&&("rw"==t||"r"==t))return!0;if(a.canGenerateUploadLink&&"rw"==t)return!0;return!(o||!s&&!r)&&!0},registerGlobalVariable:function(e,t,n){window[e]||(window[e]={}),window[e][t]=n},formatTime:function(e){var t=parseInt(e),n=0,r=0;t>60&&(n=parseInt(t/60),t=parseInt(t%60)),n>60&&(r=parseInt(n/60),n=parseInt(n%60));var a=("00"+parseInt(t)).slice(-2);return a=n>0?("00"+parseInt(n)).slice(-2)+":"+a:"00:"+a,a=r>0?("00"+parseInt(r)).slice(-2)+":"+a:"00:"+a},hasNextPage:function(e,t,n){return e*t<n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.seafileAPI=void 0;var r=n(47),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(60),i=n(2),l=new o.SeafileAPI,s=a.default.load("sfcsrftoken");l.initForSeahubUsage({siteRoot:i.siteRoot,xcsrfHeaders:s}),t.seafileAPI=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=new a.default;t.default=o},,,function(e,t,n){"use strict";function r(){return o.default.createElement("span",{className:"loading-icon loading-tip"})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(10),d=r(c),f=n(1),p=r(f),m={children:p.default.object.isRequired},h=document.getElementById("modal-wrapper"),g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.el=document.createElement("div"),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){h.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){h.removeChild(this.el)}},{key:"render",value:function(){return d.default.createPortal(this.props.children,this.el)}}]),t}(u.default.Component);g.propTypes=m,t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a={NEW_FOLDER:{key:"New Folder",value:(0,r.gettext)("New Folder")},NEW_FILE:{key:"New File",value:(0,r.gettext)("New File")},SHARE:{key:"Share",value:(0,r.gettext)("Share")},DOWNLOAD:{key:"Download",value:(0,r.gettext)("Download")},DELETE:{key:"Delete",value:(0,r.gettext)("Delete")},RENAME:{key:"Rename",value:(0,r.gettext)("Rename")},MOVE:{key:"Move",value:(0,r.gettext)("Move")},COPY:{key:"Copy",value:(0,r.gettext)("Copy")},PERMISSION:{key:"Permission",value:(0,r.gettext)("Permission")},DETAILS:{key:"Details",value:(0,r.gettext)("Details")},OPEN_VIA_CLIENT:{key:"Open via Client",value:(0,r.gettext)("Open via Client")},LOCK:{key:"Lock",value:(0,r.gettext)("Lock")},UNLOCK:{key:"Unlock",value:(0,r.gettext)("Unlock")},COMMENT:{key:"Comment",value:(0,r.gettext)("Comment")},HISTORY:{key:"History",value:(0,r.gettext)("History")},ACCESS_LOG:{key:"Access Log",value:(0,r.gettext)("Access Log")},TAGS:{key:"Tags",value:(0,r.gettext)("Tags")},RELATED_FILES:{key:"Related Files",value:(0,r.gettext)("Related Files")}};t.default=a},,,,,,function(e,t,n){"use strict";n(54),n(57),"undefined"===typeof Promise&&(n(58).enable(),window.Promise=n(49)),n(52),Object.assign=n(35)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.strChineseFirstPY="YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),l=r(i),s=n(10),u=r(s),c=n(23),d=r(c),f="undefined"!==typeof window&&"undefined"!==typeof window.document,p=function e(){var t=this;if(a(this,e),this._bindNotify=function(e){t.notifyHandler=e},this._bindGetToasts=function(e){t.getToastsHandler=e},this._bindCloseAll=function(e){t.closeAllHandler=e},this.getToasts=function(){return t.getToastsHandler()},this.closeAll=function(){return t.closeAllHandler()},this.notify=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"none"}))},this.success=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"success"}))},this.warning=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"warning"}))},this.danger=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"danger"}))},f){var n=document.createElement("div");n.setAttribute("data-evergreen-toaster-container",""),document.body.appendChild(n),u.default.render(l.default.createElement(d.default,{bindNotify:this._bindNotify,bindGetToasts:this._bindGetToasts,bindCloseAll:this._bindCloseAll}),n)}};t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),f=r(d),p=n(11),m=n(1),h=r(m),g=n(24),v=r(g),b=(0,p.css)({maxWidth:560,margin:"0 auto",top:0,left:0,right:0,position:"fixed",zIndex:999999}),y=function(e){return Object.hasOwnProperty.call(e,"id")},E=function(e){function t(e,n){i(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.getToasts=function(){return r.state.toasts},r.closeAll=function(){r.getToasts().forEach(function(e){return e.close()})},r.notify=function(e,t){if(y(t)){var n=!0,a=!1,i=void 0;try{for(var l,s=r.state.toasts[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var u=l.value;String(u.id).startsWith(t.id)&&r.closeToast(u.id)}}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}}var c=r.createToastInstance(e,t);return r.setState(function(e){return{toasts:[c].concat(o(e.toasts))}}),c},r.createToastInstance=function(e,n){var a=++t.idCounter,o=y(n)?n.id+"-"+a:a;return{id:o,title:e,description:n.description,hasCloseButton:n.hasCloseButton||!0,duration:n.duration||2,close:function(){return r.closeToast(o)},intent:n.intent}},r.closeToast=function(e){r.setState(function(t){return{toasts:t.toasts.map(function(t){return t.id===e?u({},t,{isShown:!1}):t})}})},r.removeToast=function(e){r.setState(function(t){return{toasts:t.toasts.filter(function(t){return t.id!==e})}})},e.bindNotify(r.notify),e.bindGetToasts(r.getToasts),e.bindCloseAll(r.closeAll),r.state={toasts:[]},r}return s(t,e),c(t,[{key:"render",value:function(){var e=this;return f.default.createElement("span",{className:b},this.state.toasts.map(function(t){var n=t.id,r=t.description,o=a(t,["id","description"]);return f.default.createElement(v.default,u({key:n,onRemove:function(){return e.removeToast(n)}},o),r)}))}}]),t}(f.default.PureComponent);E.propTypes={bindNotify:h.default.func.isRequired,bindGetToasts:h.default.func.isRequired,bindCloseAll:h.default.func.isRequired},E.idCounter=0,t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(11),d=n(1),f=r(d),p=n(46),m=r(p),h=n(25),g=r(h),v={deceleration:"cubic-bezier(0.0, 0.0, 0.2, 1)",acceleration:"cubic-bezier(0.4, 0.0, 1, 1)",spring:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},b=c.css.keyframes("openAnimation",{from:{opacity:0,transform:"translateY(-120%)"},to:{transform:"translateY(0)"}}),y=c.css.keyframes("closeAnimation",{from:{transform:"scale(1)",opacity:1},to:{transform:"scale(0.9)",opacity:0}}),E=(0,c.css)({display:"flex",flexDirection:"column",alignItems:"center",height:0,transition:"all 240ms "+v.deceleration,'&[data-state="entering"], &[data-state="entered"]':{animation:b+" 240ms "+v.spring+" both"},'&[data-state="exiting"]':{animation:y+" 120ms "+v.acceleration+" both"}}),w=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={isShown:!0,height:0},r.close=function(){r.clearCloseTimer(),r.setState({isShown:!1})},r.startCloseTimer=function(){r.props.duration&&(r.closeTimer=setTimeout(function(){r.close()},1e3*r.props.duration))},r.clearCloseTimer=function(){r.closeTimer&&(clearTimeout(r.closeTimer),r.closeTimer=null)},r.handleMouseEnter=function(){r.clearCloseTimer()},r.handleMouseLeave=function(){r.startCloseTimer()},r.onRef=function(e){if(null!==e){var t=e.getBoundingClientRect(),n=t.height;r.setState({height:n})}},i=n,o(r,i)}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(e){e.isShown!==this.props.isShown&&this.setState({isShown:this.props.isShown})}},{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"render",value:function(){var e=this;return u.default.createElement(m.default,{appear:!0,unmountOnExit:!0,timeout:240,in:this.state.isShown,onExited:this.props.onRemove},function(t){return u.default.createElement("div",{"data-state":t,className:E,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,style:{height:e.state.height,zIndex:e.props.zIndex,marginBottom:e.state.isShown?0:-e.state.height}},u.default.createElement("div",{ref:e.onRef,style:{padding:8}},u.default.createElement(g.default,{intent:e.props.intent,title:e.props.title,children:e.props.children,isRemoveable:e.props.hasCloseButton,onRemove:function(){return e.close()}})))})}}]),t}(u.default.PureComponent);w.propTypes={zIndex:f.default.number,duration:f.default.number,onRemove:f.default.func,intent:f.default.oneOf(["none","success","warning","danger"]).isRequired,title:f.default.node,children:f.default.node,hasCloseButton:f.default.bool,isShown:f.default.bool},w.defaultProps={intent:"none"},t.default=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(11),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.containerStyle=(0,c.css)({borderRadius:"3px",backgroundColor:"#fff",padding:"10px 16px",display:"flex",boxSizing:"border-box",boxShadow:"rgba(67, 90, 111, 0.3) 0px 0px 1px, rgba(67, 90, 111, 0.47) 0px 8px 10px -4px",justifyContent:"space-between",flexDirection:"row"}),n.containerBorderSuccess=(0,c.css)({borderLeft:"3px solid rgb(71, 184, 129)"}),n.containerBorderWarn=(0,c.css)({borderLeft:"3px solid rgb(217, 130, 43)"}),n.containerBorderDanger=(0,c.css)({borderLeft:"3px solid rgb(236, 76, 71)"}),n.containerBorderNotify=(0,c.css)({borderLeft:"3px solid rgb(16, 112, 202)"}),n.toastTextTitle=(0,c.css)({fontWeight:"600",fontSize:"14px",color:"#435a6f",margin:"0"}),n.toastTextChild=(0,c.css)({fontSize:"14px",color:"#999",margin:"0"}),n.toastClose=(0,c.css)({marginLeft:"15px",height:"24px",width:"24px",lineHeight:"22px",fontWeight:"700",textAlign:"center",fontSize:"20px",color:"#000",cursor:"pointer",opacity:"0.5",":hover":{opacity:1}}),n.toastIcon=(0,c.css)({marginRight:"10px",width:"14px",height:"20px",lineHeight:"20px"}),n}return o(t,e),l(t,[{key:"getContainerStyle",value:function(e){switch(e){case"success":return{borderStyle:this.containerBorderSuccess,iconColor:(0,c.css)({color:"rgb(71, 184, 129)"}),iconClass:"fa fa-check-circle"};case"warning":return{borderStyle:this.containerBorderWarn,iconColor:(0,c.css)({color:"rgb(217, 130, 43)"}),iconClass:"fa fa-exclamation-triangle"};case"none":return{borderStyle:this.containerBorderNotify,iconColor:(0,c.css)({color:"rgb(16, 112, 202)"}),iconClass:"fa fa-exclamation-circle"};case"danger":return{borderStyle:this.containerBorderDanger,iconColor:(0,c.css)({color:"rgb(236, 76, 71)"}),iconClass:"fa fa-exclamation-circle"}}}},{key:"render",value:function(){var e=this.getContainerStyle(this.props.intent);return u.default.createElement("div",(0,c.css)(e.borderStyle,this.containerStyle),u.default.createElement("div",{className:this.toastIcon},u.default.createElement("i",i({className:e.iconClass},e.iconColor))),u.default.createElement("div",{className:this.toastTextContainer},u.default.createElement("p",{className:this.toastTextTitle},this.props.title),this.props.children?u.default.createElement("p",{className:this.toastTextChild},this.props.children):null),u.default.createElement("div",{onClick:this.props.onRemove,className:this.toastClose},u.default.createElement("span",null,"\xd7")))}}]),t}(u.default.PureComponent);t.default=d},function(e,t,n){"use strict";function r(){var e=i.loginUrl+"?next="+encodeURIComponent(location.href),t=(0,i.gettext)("Permission denied. Please try {placeholder-left}login again.{placeholder-right}");return t=t.replace("{placeholder-left}",'<a class="action-link p-0" href='+e+">"),t=t.replace("{placeholder-right}","</a>"),o.default.createElement("span",{className:"error",dangerouslySetInnerHTML:{__html:t}})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=n(2);t.default=r},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(10),p=r(f),m=n(3),h=n(4),g=n(2),v=n(5),b=r(v),y={isAdminPanel:d.default.bool},E=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getContainer=function(){return p.default.findDOMNode(n)},n.handleProps=function(){n.state.showInfo?n.addEvents():n.removeEvents()},n.addEvents=function(){["click","touchstart","keyup"].forEach(function(e){return document.addEventListener(e,n.handleDocumentClick,!0)})},n.removeEvents=function(){["click","touchstart","keyup"].forEach(function(e){return document.removeEventListener(e,n.handleDocumentClick,!0)})},n.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===m.Utils.keyCodes.tab)){var t=n.getContainer();(!t.contains(e.target)||t===e.target||"keyup"===e.type&&e.which!==m.Utils.keyCodes.tab)&&n.setState({showInfo:!n.state.showInfo})}},n.onClickAccount=function(){n.isFirstMounted?(h.seafileAPI.getAccountInfo().then(function(e){n.setState({userName:e.data.name,contactEmail:e.data.email,usageRate:e.data.space_usage,quotaUsage:m.Utils.bytesToSize(e.data.usage),quotaTotal:m.Utils.bytesToSize(e.data.total),isStaff:e.data.is_staff,isInstAdmin:e.data.is_inst_admin,isOrgStaff:1===e.data.is_org_staff,showInfo:!n.state.showInfo})}).catch(function(e){var t=m.Utils.getErrorMsg(e);b.default.danger(t)}),n.isFirstMounted=!1):n.setState({showInfo:!n.state.showInfo})},n.renderMenu=function(){var e=void 0,t=n.state,r=t.isStaff,a=t.isOrgStaff,o=t.isInstAdmin;return n.props.isAdminPanel?r?e={url:g.siteRoot,text:(0,g.gettext)("Exit System Admin")}:a?e={url:g.siteRoot,text:(0,g.gettext)("Exit Organization Admin")}:o&&(e={url:g.siteRoot,text:(0,g.gettext)("Exit Institution Admin")}):r?e={url:g.siteRoot+"sys/info/",text:(0,g.gettext)("System Admin")}:a?e={url:g.siteRoot+"org/useradmin/",text:(0,g.gettext)("Organization Admin")}:o&&(e={url:g.siteRoot+"inst/useradmin/",text:(0,g.gettext)("Institution Admin")}),e&&u.default.createElement("a",{href:e.url,title:e.text,className:"item"},e.text)},n.renderAvatar=function(){return u.default.createElement("img",{src:g.appAvatarURL,width:"36",height:"36",className:"avatar",alt:(0,g.gettext)("Avatar")})},n.state={showInfo:!1,userName:"",contactEmail:"",quotaUsage:"",quotaTotal:"",isStaff:!1,isOrgStaff:!1,usageRate:""},n.isFirstMounted=!0,n}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(e){this.handleProps()}},{key:"render",value:function(){return u.default.createElement("div",{id:"account"},u.default.createElement("a",{id:"my-info",onClick:this.onClickAccount,className:"account-toggle no-deco d-none d-md-block","aria-label":"View profile and more"},u.default.createElement("span",null,this.renderAvatar()),u.default.createElement("span",{className:"fas fa-caret-down vam"})),u.default.createElement("span",{className:"account-toggle sf2-icon-more mobile-icon d-md-none","aria-label":"View profile and more",onClick:this.onClickAccount}),u.default.createElement("div",{id:"user-info-popup",className:"account-popup sf-popover "+(this.state.showInfo?"":"hide")},u.default.createElement("div",{className:"outer-caret up-outer-caret"},u.default.createElement("div",{className:"inner-caret"})),u.default.createElement("div",{className:"sf-popover-con"},u.default.createElement("div",{className:"item o-hidden"},this.renderAvatar(),u.default.createElement("div",{className:"txt"},this.state.userName)),u.default.createElement("div",{id:"space-traffic"},u.default.createElement("div",{className:"item"},u.default.createElement("p",null,(0,g.gettext)("Used:")," ",this.state.quotaUsage," / ",this.state.quotaTotal),u.default.createElement("div",{id:"quota-bar"},u.default.createElement("span",{id:"quota-usage",className:"usage",style:{width:this.state.usageRate}})))),u.default.createElement("a",{href:g.siteRoot+"profile/",className:"item"},(0,g.gettext)("Settings")),this.renderMenu(),u.default.createElement("a",{href:g.logoutUrl,className:"item"},(0,g.gettext)("Log out")))))}}]),t}(s.Component);E.defaultProps={isAdminPanel:!1},E.propTypes=y,t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(515);n.d(t,"Trans",function(){return r.a});var a=n(215);n.d(t,"useTranslation",function(){return a.a});var o=n(528);n.d(t,"withTranslation",function(){return o.a});var i=n(529);n.d(t,"Translation",function(){return i.a});var l=n(530);n.d(t,"I18nextProvider",function(){return l.a});var s=n(531);n.d(t,"withSSR",function(){return s.a});var u=n(295);n.d(t,"useSSR",function(){return u.a});var c=n(103);n.d(t,"I18nContext",function(){return c.a}),n.d(t,"initReactI18next",function(){return c.h}),n.d(t,"setDefaults",function(){return c.i}),n.d(t,"getDefaults",function(){return c.d}),n.d(t,"setI18n",function(){return c.j}),n.d(t,"getI18n",function(){return c.f}),n.d(t,"composeInitialProps",function(){return c.c}),n.d(t,"getInitialProps",function(){return c.g})},,,,,function(e,t,n){"use strict";var r=n(309),a=n(310),o=n(561),i=n(562),l=n(563),s=n(564),u=n(565),c=n(135),d=n(566),f=n(567),p=n(568);n.d(t,"h",function(){return i.a}),n.d(t,"i",function(){return l.a}),n.d(t,"e",function(){return d.a}),n.d(t,"g",function(){return f.a}),n.d(t,"f",function(){return p.a}),n.d(t,"j",function(){return s.a}),n.d(t,"k",function(){return u.a}),n.d(t,"a",function(){return c.a}),n.d(t,"b",function(){return r.a}),n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return o.a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(31),p=r(f),m={children:d.default.object},h=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"main-panel-north "+(this.props.children?"border-left-show":"")},u.default.createElement("div",{className:"cur-view-toolbar"},u.default.createElement("span",{className:"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none",title:"Side Nav Menu"}),u.default.createElement("div",{className:"operation"},this.props.children)),u.default.createElement("div",{className:"common-toolbar"},this.props.search&&this.props.search,u.default.createElement(p.default,{isAdminPanel:!0})))}}]),t}(s.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p={forDialog:d.default.bool},m=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:this.props.forDialog?"text-center mt-8":"empty-tip"},u.default.createElement("img",{src:f.mediaUrl+"img/no-items-tip.png",alt:"",width:"100",height:"100",className:"no-items-img-tip"}),this.props.children)}}]),t}(u.default.Component);m.propTypes=p,t.default=m},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),c=r(u),d=n(1),f=r(d),p=n(255),m=r(p),h=n(4),g=n(2),v=n(3),b=n(5),y=r(b);n(114);var E={placeholder:f.default.string.isRequired,onSelectChange:f.default.func.isRequired,isMulti:f.default.bool.isRequired,className:f.default.string},w=function(e){return c.default.createElement("div",s({},e.innerProps,{style:{margin:"6px 10px",textAlign:"center",color:"hsl(0,0%,50%)"}}),(0,g.gettext)("User not found"))},S=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.options=[],n.props.onSelectChange(e)},n.loadOptions=function(e,t){var r=e.trim();r.length>0&&h.seafileAPI.searchUsers(r).then(function(e){n.options=[];for(var r=0;r<e.data.users.length;r++){var a=e.data.users[r],o={};o.value=a.name,o.email=a.email,o.label=g.enableShowContactEmailWhenSearchUser?c.default.createElement("div",{className:"d-flex"},c.default.createElement("img",{src:a.avatar_url,className:"avatar",width:"24",alt:""}),c.default.createElement("div",{className:"ml-2"},c.default.createElement("span",{className:"user-option-name"},a.name),c.default.createElement("br",null),c.default.createElement("span",{className:"user-option-email"},a.contact_email))):c.default.createElement(c.default.Fragment,null,c.default.createElement("img",{src:a.avatar_url,className:"select-module select-module-icon avatar",alt:""}),c.default.createElement("span",{className:"select-module select-module-name"},a.name)),n.options.push(o)}t(n.options)}).catch(function(e){var t=v.Utils.getErrorMsg(e);y.default.danger(t)})},n.clearSelect=function(){n.refs.userSelect.select.onChange([],{action:"clear"})},n.options=[],n}return i(t,e),l(t,[{key:"render",value:function(){return c.default.createElement(m.default,{isClearable:!0,classNamePrefix:!0,components:{NoOptionsMessage:w},isMulti:this.props.isMulti,loadOptions:this.loadOptions,onChange:this.handleSelectChange,placeholder:this.props.placeholder,className:"user-select "+this.props.className,value:this.props.value,ref:"userSelect"})}}]),t}(c.default.Component);S.propTypes=E,t.default=S},,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(3),p=n(62),m=r(p),h={isTextMode:d.default.bool.isRequired,isEditIconShow:d.default.bool.isRequired,permissions:d.default.array.isRequired,currentPermission:d.default.string.isRequired,onPermissionChanged:d.default.func.isRequired},g=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.translatePermission=function(e){return f.Utils.sharePerms(e)},r.translateExplanation=function(e){return f.Utils.sharePermsExplanation(e)},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(m.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.permissions,currentOption:this.props.currentPermission,onOptionChanged:this.props.onPermissionChanged,translateOption:this.translatePermission,translateExplanation:this.translateExplanation})}}]),t}(u.default.Component);g.propTypes=h,t.default=g},,,,,,function(e,t,n){"use strict";function r(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function a(e){document.body.style.paddingRight=e>0?e+"px":null}function o(){return document.body.clientWidth<window.innerWidth}function i(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)}function l(){var e=r(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=t?parseInt(t.style.paddingRight||0,10):0;o()&&a(n+e)}function s(e){F=e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F;return t?e.split(" ").map(function(e){return t[e]||e}).join(" "):e}function c(e,t){var n={};return Object.keys(e).forEach(function(r){-1===t.indexOf(r)&&(n[r]=e[r])}),n}function d(e,t){for(var n=Array.isArray(t)?t:[t],r=n.length,a=void 0,o={};r>0;)r-=1,a=n[r],o[a]=e[a];return o}function f(e){B[e]||("undefined"!==typeof console&&console.error(e),B[e]=!0)}function p(e,t){return function(n,r,a){null!==n[r]&&"undefined"!==typeof n[r]&&f('"'+r+'" property of "'+a+'" has been deprecated.\n'+t);for(var o=arguments.length,i=Array(o>3?o-3:0),l=3;l<o;l++)i[l-3]=arguments[l];return e.apply(void 0,[n,r,a].concat(i))}}function m(e,t,n){if(!(e[t]instanceof Element))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")}function h(e){if(T()(e))return e();if("string"===typeof e&&document){var t=document.querySelector(e);if(null===t&&(t=document.querySelector("#"+e)),null===t)throw new Error("The target '"+e+"' could not be identified in the dom, tip: check spelling");return t}return e}function g(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function v(e,t){return t={exports:{}},e(t,t.exports),t.exports}function b(e){var t=e.tag,n=e.baseClass,r=e.baseClassActive,a=e.className,o=e.cssModule,i=e.children,l=$(e,["tag","baseClass","baseClassActive","className","cssModule","children"]),s=d(l,H),f=c(l,H);return O.a.createElement(yt,s,function(e){var l="entered"===e,s=u(D()(a,n,l&&r),o);return O.a.createElement(t,V({className:s},f),i)})}function y(){}function E(e,t){var n=e.className,r=e.cssModule,a=e.tabId,o=e.tag,i=$(e,["className","cssModule","tabId","tag"]),l=u(D()("tab-pane",n,{active:a===t.activeTabId}),r);return O.a.createElement(o,V({},i,{className:l}))}function w(e){var t=e.className,n=e.closeClassName,r=e.closeAriaLabel,a=e.cssModule,o=e.tag,i=e.color,l=e.isOpen,s=e.toggle,c=e.children,d=e.transition,f=$(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition"]),p=u(D()(t,"alert","alert-"+i,{"alert-dismissible":s}),a),m=u(D()("close",n),a);return O.a.createElement(b,V({},f,d,{tag:o,className:p,in:l,role:"alert"}),s?O.a.createElement("button",{type:"button",className:m,"aria-label":r,onClick:s},O.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,c)}function S(e){return fa[e]||"collapse"}function _(e){return e.scrollHeight}n.d(t,"a",function(){return Ge}),n.d(t,"b",function(){return Re}),n.d(t,"c",function(){return it}),n.d(t,"d",function(){return ft}),n.d(t,"e",function(){return gt}),n.d(t,"f",function(){return Hn}),n.d(t,"i",function(){return Un}),n.d(t,"g",function(){return Gn}),n.d(t,"h",function(){return Vn}),n.d(t,"j",function(){return tr});var x=n(0),O=n.n(x),C=n(1),P=n.n(C),k=n(41),D=n.n(k),M=n(828),T=n.n(M),L=n(829),N=n.n(L),I=n(10),j=n.n(I),R=n(667),Y=(n.n(R),n(831)),A=n.n(Y),F=void 0,B={},Z={Fade:150,Collapse:350,Modal:300,Carousel:600},H=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],X={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"},J={esc:27,space:32,tab:9,up:38,down:40},U=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Q=!("undefined"===typeof window||!window.document||!window.document.createElement),W=(Object.freeze({getScrollbarWidth:r,setScrollbarWidth:a,isBodyOverflowing:o,getOriginalBodyPadding:i,conditionallyUpdateScrollbar:l,setGlobalCssModule:s,mapToCssModules:u,omit:c,pick:d,warnOnce:f,deprecated:p,DOMElement:m,getTarget:h,TransitionTimeouts:Z,TransitionPropTypeKeys:H,TransitionStatuses:X,keyCodes:J,PopperPlacements:U,canUseDOM:Q}),"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),G=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),K=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},$=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},ee=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},te={tag:P.a.oneOfType([P.a.func,P.a.string]),fluid:P.a.bool,className:P.a.string,cssModule:P.a.object},ne={tag:"div"},re=function(e){var t=e.className,n=e.cssModule,r=e.fluid,a=e.tag,o=$(e,["className","cssModule","fluid","tag"]),i=u(D()(t,r?"container-fluid":"container"),n);return O.a.createElement(a,V({},o,{className:i}))};re.propTypes=te,re.defaultProps=ne;var ae={tag:P.a.oneOfType([P.a.func,P.a.string]),noGutters:P.a.bool,className:P.a.string,cssModule:P.a.object},oe={tag:"div"},ie=function(e){var t=e.className,n=e.cssModule,r=e.noGutters,a=e.tag,o=$(e,["className","cssModule","noGutters","tag"]),i=u(D()(t,r?"no-gutters":null,"row"),n);return O.a.createElement(a,V({},o,{className:i}))};ie.propTypes=ae,ie.defaultProps=oe;var le=["xs","sm","md","lg","xl"],se=P.a.oneOfType([P.a.number,P.a.string]),ue=P.a.oneOfType([P.a.bool,P.a.number,P.a.string,P.a.shape({size:P.a.oneOfType([P.a.bool,P.a.number,P.a.string]),push:p(se,'Please use the prop "order"'),pull:p(se,'Please use the prop "order"'),order:se,offset:se})]),ce={tag:P.a.oneOfType([P.a.func,P.a.string]),xs:ue,sm:ue,md:ue,lg:ue,xl:ue,className:P.a.string,cssModule:P.a.object,widths:P.a.array},de={tag:"div",widths:le},fe=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},pe=function(e){var t=e.className,n=e.cssModule,r=e.widths,a=e.tag,o=$(e,["className","cssModule","widths","tag"]),i=[];r.forEach(function(t,r){var a=e[t];if(delete o[t],a||""===a){var l=!r;if(N()(a)){var s,c=l?"-":"-"+t+"-",d=fe(l,t,a.size);i.push(u(D()((s={},K(s,d,a.size||""===a.size),K(s,"order"+c+a.order,a.order||0===a.order),K(s,"offset"+c+a.offset,a.offset||0===a.offset),s)),n))}else{var f=fe(l,t,a);i.push(f)}}}),i.length||i.push("col");var l=u(D()(t,i),n);return O.a.createElement(a,V({},o,{className:l}))};pe.propTypes=ce,pe.defaultProps=de;var me={light:P.a.bool,dark:P.a.bool,inverse:p(P.a.bool,'Please use the prop "dark"'),full:P.a.bool,fixed:P.a.string,sticky:P.a.string,color:P.a.string,role:P.a.string,tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object,toggleable:p(P.a.oneOfType([P.a.bool,P.a.string]),'Please use the prop "expand"'),expand:P.a.oneOfType([P.a.bool,P.a.string])},he={tag:"nav",expand:!1},ge=function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-"+e)},ve={xs:"sm",sm:"md",md:"lg",lg:"xl"},be=function(e){return void 0!==e&&"xl"!==e&&(!1===e?"navbar-expand":"navbar-expand-"+(!0===e?"sm":ve[e]||e))},ye=function(e){var t,n=e.toggleable,r=e.expand,a=e.className,o=e.cssModule,i=e.light,l=e.dark,s=e.inverse,c=e.fixed,d=e.sticky,f=e.color,p=e.tag,m=$(e,["toggleable","expand","className","cssModule","light","dark","inverse","fixed","sticky","color","tag"]),h=u(D()(a,"navbar",ge(r)||be(n),(t={"navbar-light":i,"navbar-dark":s||l},K(t,"bg-"+f,f),K(t,"fixed-"+c,c),K(t,"sticky-"+d,d),t)),o);return O.a.createElement(p,V({},m,{className:h}))};ye.propTypes=me,ye.defaultProps=he;var Ee={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},we={tag:"a"},Se=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"navbar-brand"),n);return O.a.createElement(r,V({},a,{className:o}))};Se.propTypes=Ee,Se.defaultProps=we;var _e={tag:P.a.oneOfType([P.a.func,P.a.string]),type:P.a.string,className:P.a.string,cssModule:P.a.object,children:P.a.node},xe={tag:"button",type:"button"},Oe=function(e){var t=e.className,n=e.cssModule,r=e.children,a=e.tag,o=$(e,["className","cssModule","children","tag"]),i=u(D()(t,"navbar-toggler"),n);return O.a.createElement(a,V({},o,{className:i}),r||O.a.createElement("span",{className:u("navbar-toggler-icon",n)}))};Oe.propTypes=_e,Oe.defaultProps=xe;var Ce={tabs:P.a.bool,pills:P.a.bool,vertical:P.a.oneOfType([P.a.bool,P.a.string]),horizontal:P.a.string,justified:P.a.bool,fill:P.a.bool,navbar:P.a.bool,card:P.a.bool,tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},Pe={tag:"ul",vertical:!1},ke=function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")},De=function(e){var t=e.className,n=e.cssModule,r=e.tabs,a=e.pills,o=e.vertical,i=e.horizontal,l=e.justified,s=e.fill,c=e.navbar,d=e.card,f=e.tag,p=$(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),m=u(D()(t,c?"navbar-nav":"nav",!!i&&"justify-content-"+i,ke(o),{"nav-tabs":r,"card-header-tabs":d&&r,"nav-pills":a,"card-header-pills":d&&a,"nav-justified":l,"nav-fill":s}),n);return O.a.createElement(f,V({},p,{className:m}))};De.propTypes=Ce,De.defaultProps=Pe;var Me={tag:P.a.oneOfType([P.a.func,P.a.string]),active:P.a.bool,className:P.a.string,cssModule:P.a.object},Te={tag:"li"},Le=function(e){var t=e.className,n=e.cssModule,r=e.active,a=e.tag,o=$(e,["className","cssModule","active","tag"]),i=u(D()(t,"nav-item",!!r&&"active"),n);return O.a.createElement(a,V({},o,{className:i}))};Le.propTypes=Me,Le.defaultProps=Te;var Ne={disabled:P.a.bool,dropup:p(P.a.bool,'Please use the prop "direction" with the value "up".'),direction:P.a.oneOf(["up","down","left","right"]),group:P.a.bool,isOpen:P.a.bool,nav:P.a.bool,active:P.a.bool,addonType:P.a.oneOfType([P.a.bool,P.a.oneOf(["prepend","append"])]),size:P.a.string,tag:P.a.string,toggle:P.a.func,children:P.a.node,className:P.a.string,cssModule:P.a.object,inNavbar:P.a.bool},Ie={isOpen:!1,direction:"down",nav:!1,active:!1,addonType:!1,inNavbar:!1},je={toggle:P.a.func.isRequired,isOpen:P.a.bool.isRequired,direction:P.a.oneOf(["up","down","left","right"]).isRequired,inNavbar:P.a.bool.isRequired},Re=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addEvents=n.addEvents.bind(n),n.handleDocumentClick=n.handleDocumentClick.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.removeEvents=n.removeEvents.bind(n),n.toggle=n.toggle.bind(n),n}return q(t,e),z(t,[{key:"getChildContext",value:function(){return{toggle:this.props.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar}}},{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(e){this.props.isOpen!==e.isOpen&&this.handleProps()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"getContainer",value:function(){return j.a.findDOMNode(this)}},{key:"addEvents",value:function(){var e=this;["click","touchstart","keyup"].forEach(function(t){return document.addEventListener(t,e.handleDocumentClick,!0)})}},{key:"removeEvents",value:function(){var e=this;["click","touchstart","keyup"].forEach(function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)})}},{key:"handleDocumentClick",value:function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===J.tab)){var t=this.getContainer();(!t.contains(e.target)||t===e.target||"keyup"===e.type&&e.which!==J.tab)&&this.toggle(e)}}},{key:"handleKeyDown",value:function(e){if(!(-1===[J.esc,J.up,J.down,J.space].indexOf(e.which)||/button/i.test(e.target.tagName)&&e.which===J.space||/input|textarea/i.test(e.target.tagName))&&(e.preventDefault(),!this.props.disabled)){var t=this.getContainer();if(e.which===J.space&&this.props.isOpen&&t!==e.target&&e.target.click(),e.which===J.esc||!this.props.isOpen)return this.toggle(e),void t.querySelector("[aria-expanded]").focus();var n=u("dropdown-menu",this.props.cssModule),r=u("dropdown-item",this.props.cssModule),a=u("disabled",this.props.cssModule),o=t.querySelectorAll("."+n+" ."+r+":not(."+a+")");if(o.length){for(var i=-1,l=0;l<o.length;l+=1)if(o[l]===e.target){i=l;break}e.which===J.up&&i>0&&(i-=1),e.which===J.down&&i<o.length-1&&(i+=1),i<0&&(i=0),o[i].focus()}}}},{key:"handleProps",value:function(){this.props.isOpen?this.addEvents():this.removeEvents()}},{key:"toggle",value:function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)}},{key:"render",value:function(){var e,t=c(this.props,["toggle","disabled","inNavbar","direction"]),n=t.className,r=t.cssModule,a=t.dropup,o=t.isOpen,i=t.group,l=t.size,s=t.nav,d=t.active,f=t.addonType,p=$(t,["className","cssModule","dropup","isOpen","group","size","nav","active","addonType"]),m="down"===this.props.direction&&a?"up":this.props.direction;p.tag=p.tag||(s?"li":"div");var h=u(D()(n,"down"!==m&&"drop"+m,!(!s||!d)&&"active",(e={},K(e,"input-group-"+f,f),K(e,"btn-group",i),K(e,"btn-group-"+l,!!l),K(e,"dropdown",!i&&!f),K(e,"show",o),K(e,"nav-item",s),e)),r);return O.a.createElement(R.Manager,V({},p,{className:h,onKeyDown:this.handleKeyDown}))}}]),t}(O.a.Component);Re.propTypes=Ne,Re.defaultProps=Ie,Re.childContextTypes=je;var Ye={tag:P.a.oneOfType([P.a.func,P.a.string]),innerRef:P.a.oneOfType([P.a.func,P.a.string]),disabled:P.a.bool,active:P.a.bool,className:P.a.string,cssModule:P.a.object,onClick:P.a.func,href:P.a.any},Ae={tag:"a"},Fe=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return q(t,e),z(t,[{key:"onClick",value:function(e){if(this.props.disabled)return void e.preventDefault();"#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,r=e.active,a=e.tag,o=e.innerRef,i=$(e,["className","cssModule","active","tag","innerRef"]),l=u(D()(t,"nav-link",{disabled:i.disabled,active:r}),n);return O.a.createElement(a,V({},i,{ref:o,onClick:this.onClick,className:l}))}}]),t}(O.a.Component);Fe.propTypes=Ye,Fe.defaultProps=Ae;var Be={tag:P.a.string,className:P.a.string,cssModule:P.a.object},Ze={tag:"ol"},He=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"breadcrumb"),n);return O.a.createElement(r,V({},a,{className:o}))};He.propTypes=Be,He.defaultProps=Ze;var Xe={tag:P.a.oneOfType([P.a.func,P.a.string]),active:P.a.bool,className:P.a.string,cssModule:P.a.object},Je={tag:"li"},Ue=function(e){var t=e.className,n=e.cssModule,r=e.active,a=e.tag,o=$(e,["className","cssModule","active","tag"]),i=u(D()(t,!!r&&"active","breadcrumb-item"),n);return O.a.createElement(a,V({},o,{className:i}))};Ue.propTypes=Xe,Ue.defaultProps=Je;var Qe={active:P.a.bool,block:P.a.bool,color:P.a.string,disabled:P.a.bool,outline:P.a.bool,tag:P.a.oneOfType([P.a.func,P.a.string]),innerRef:P.a.oneOfType([P.a.func,P.a.string]),onClick:P.a.func,size:P.a.string,children:P.a.node,className:P.a.string,cssModule:P.a.object},We={color:"secondary",tag:"button"},Ge=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return q(t,e),z(t,[{key:"onClick",value:function(e){if(this.props.disabled)return void e.preventDefault();this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.active,n=e.block,r=e.className,a=e.cssModule,o=e.color,i=e.outline,l=e.size,s=e.tag,c=e.innerRef,d=$(e,["active","block","className","cssModule","color","outline","size","tag","innerRef"]),f=u(D()(r,"btn","btn"+(i?"-outline":"")+"-"+o,!!l&&"btn-"+l,!!n&&"btn-block",{active:t,disabled:this.props.disabled}),a);return d.href&&"button"===s&&(s="a"),O.a.createElement(s,V({type:"button"===s&&d.onClick?"button":void 0},d,{className:f,ref:c,onClick:this.onClick}))}}]),t}(O.a.Component);Ge.propTypes=Qe,Ge.defaultProps=We;var ze={children:P.a.node},Ke=function(e){return O.a.createElement(Re,V({group:!0},e))};Ke.propTypes=ze;var Ve={tag:P.a.oneOfType([P.a.func,P.a.string]),"aria-label":P.a.string,className:P.a.string,cssModule:P.a.object,role:P.a.string,size:P.a.string,vertical:P.a.bool},qe={tag:"div",role:"group"},$e=function(e){var t=e.className,n=e.cssModule,r=e.size,a=e.vertical,o=e.tag,i=$(e,["className","cssModule","size","vertical","tag"]),l=u(D()(t,!!r&&"btn-group-"+r,a?"btn-group-vertical":"btn-group"),n);return O.a.createElement(o,V({},i,{className:l}))};$e.propTypes=Ve,$e.defaultProps=qe;var et={tag:P.a.oneOfType([P.a.func,P.a.string]),"aria-label":P.a.string,className:P.a.string,cssModule:P.a.object,role:P.a.string},tt={tag:"div",role:"toolbar"},nt=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"btn-toolbar"),n);return O.a.createElement(r,V({},a,{className:o}))};nt.propTypes=et,nt.defaultProps=tt;var rt={children:P.a.node,active:P.a.bool,disabled:P.a.bool,divider:P.a.bool,tag:P.a.oneOfType([P.a.func,P.a.string]),header:P.a.bool,onClick:P.a.func,className:P.a.string,cssModule:P.a.object,toggle:P.a.bool},at={toggle:P.a.func},ot={tag:"button",toggle:!0},it=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.getTabIndex=n.getTabIndex.bind(n),n}return q(t,e),z(t,[{key:"onClick",value:function(e){if(this.props.disabled||this.props.header||this.props.divider)return void e.preventDefault();this.props.onClick&&this.props.onClick(e),this.props.toggle&&this.context.toggle(e)}},{key:"getTabIndex",value:function(){return this.props.disabled||this.props.header||this.props.divider?"-1":"0"}},{key:"render",value:function(){var e=this.getTabIndex(),t=c(this.props,["toggle"]),n=t.className,r=t.cssModule,a=t.divider,o=t.tag,i=t.header,l=t.active,s=$(t,["className","cssModule","divider","tag","header","active"]),d=u(D()(n,{disabled:s.disabled,"dropdown-item":!a&&!i,active:l,"dropdown-header":i,"dropdown-divider":a}),r);return"button"===o&&(i?o="h6":a?o="div":s.href&&(o="a")),O.a.createElement(o,V({type:"button"===o&&(s.onClick||this.props.toggle)?"button":void 0},s,{tabIndex:e,className:d,onClick:this.onClick}))}}]),t}(O.a.Component);it.propTypes=rt,it.defaultProps=ot,it.contextTypes=at;var lt={tag:P.a.string,children:P.a.node.isRequired,right:P.a.bool,flip:P.a.bool,className:P.a.string,cssModule:P.a.object},st={tag:"div",flip:!0},ut={isOpen:P.a.bool.isRequired,direction:P.a.oneOf(["up","down","left","right"]).isRequired,inNavbar:P.a.bool.isRequired},ct={flip:{enabled:!1}},dt={up:"top",left:"left",right:"right",down:"bottom"},ft=function(e,t){var n=e.className,r=e.cssModule,a=e.right,o=e.tag,i=e.flip,l=$(e,["className","cssModule","right","tag","flip"]),s=u(D()(n,"dropdown-menu",{"dropdown-menu-right":a,show:t.isOpen}),r),c=o;if(t.isOpen&&!t.inNavbar){c=R.Popper;var d=dt[t.direction]||"bottom",f=a?"end":"start";l.placement=d+"-"+f,l.component=o,l.modifiers=i?void 0:ct}return O.a.createElement(c,V({tabIndex:"-1",role:"menu"},l,{"aria-hidden":!t.isOpen,className:s}))};ft.propTypes=lt,ft.defaultProps=st,ft.contextTypes=ut;var pt={caret:P.a.bool,color:P.a.string,children:P.a.node,className:P.a.string,cssModule:P.a.object,disabled:P.a.bool,onClick:P.a.func,"aria-haspopup":P.a.bool,split:P.a.bool,tag:P.a.oneOfType([P.a.func,P.a.string]),nav:P.a.bool},mt={"aria-haspopup":!0,color:"secondary"},ht={isOpen:P.a.bool.isRequired,toggle:P.a.func.isRequired,inNavbar:P.a.bool.isRequired},gt=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return q(t,e),z(t,[{key:"onClick",value:function(e){if(this.props.disabled)return void e.preventDefault();this.props.nav&&!this.props.tag&&e.preventDefault(),this.props.onClick&&this.props.onClick(e),this.context.toggle(e)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.color,r=e.cssModule,a=e.caret,o=e.split,i=e.nav,l=e.tag,s=$(e,["className","color","cssModule","caret","split","nav","tag"]),c=s["aria-label"]||"Toggle Dropdown",d=u(D()(t,{"dropdown-toggle":a||o,"dropdown-toggle-split":o,"nav-link":i}),r),f=s.children||O.a.createElement("span",{className:"sr-only"},c),p=void 0;return i&&!l?(p="a",s.href="#"):l?p=l:(p=Ge,s.color=n,s.cssModule=r),this.context.inNavbar?O.a.createElement(p,V({},s,{className:d,onClick:this.onClick,"aria-expanded":this.context.isOpen,children:f})):O.a.createElement(R.Target,V({},s,{className:d,component:p,onClick:this.onClick,"aria-expanded":this.context.isOpen,children:f}))}}]),t}(O.a.Component);gt.propTypes=pt,gt.defaultProps=mt,gt.contextTypes=ht;var vt=v(function(e,t){function n(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!==typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,t.transitionTimeout=n;var r=function(e){return e&&e.__esModule?e:{default:e}}(P.a);t.timeoutsShape=r.default.oneOfType([r.default.number,r.default.shape({enter:r.default.number,exit:r.default.number}).isRequired]),t.classNamesShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,exit:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,exit:r.default.string,exitActive:r.default.string})])});g(vt);var bt=v(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":W(t))&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":W(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){}t.__esModule=!0,t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(P.a),u=n(O.a),c=n(j.a),d=t.UNMOUNTED="unmounted",f=t.EXITED="exited",p=t.ENTERING="entering",m=t.ENTERED="entered",h=t.EXITING="exiting",g=function(e){function t(n,r){a(this,t);var i=o(this,e.call(this,n,r)),l=r.transitionGroup,s=l&&!l.isMounting?n.enter:n.appear,u=void 0;return i.nextStatus=null,n.in?s?(u=f,i.nextStatus=p):u=m:u=n.unmountOnExit||n.mountOnEnter?d:f,i.state={status:u},i.nextCallback=null,i}return i(t,e),t.prototype.getChildContext=function(){return{transitionGroup:null}},t.prototype.componentDidMount=function(){this.updateStatus(!0)},t.prototype.componentWillReceiveProps=function(e){var t=this.pendingState||this.state,n=t.status;e.in?(n===d&&this.setState({status:f}),n!==p&&n!==m&&(this.nextStatus=p)):n!==p&&n!==m||(this.nextStatus=h)},t.prototype.componentDidUpdate=function(){this.updateStatus()},t.prototype.componentWillUnmount=function(){this.cancelNextCallback()},t.prototype.getTimeouts=function(){var e=this.props.timeout,t=void 0,n=void 0,r=void 0;return t=n=r=e,null!=e&&"number"!==typeof e&&(t=e.exit,n=e.enter,r=e.appear),{exit:t,enter:n,appear:r}},t.prototype.updateStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nextStatus;if(null!==t){this.nextStatus=null,this.cancelNextCallback();var n=c.default.findDOMNode(this);t===p?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===f&&this.setState({status:d})},t.prototype.performEnter=function(e,t){var n=this,r=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts();if(!t&&!r)return void this.safeSetState({status:m},function(){n.props.onEntered(e)});this.props.onEnter(e,a),this.safeSetState({status:p},function(){n.props.onEntering(e,a),n.onTransitionEnd(e,o.enter,function(){n.safeSetState({status:m},function(){n.props.onEntered(e,a)})})})},t.prototype.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();if(!n)return void this.safeSetState({status:f},function(){t.props.onExited(e)});this.props.onExit(e),this.safeSetState({status:h},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:f},function(){t.props.onExited(e)})})})},t.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.prototype.safeSetState=function(e,t){var n=this;this.pendingState=e,t=this.setNextCallback(t),this.setState(e,function(){n.pendingState=null,t()})},t.prototype.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},t.prototype.onTransitionEnd=function(e,t,n){this.setNextCallback(n),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},t.prototype.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,n=t.children,a=r(t,["children"]);if(delete a.in,delete a.mountOnEnter,delete a.unmountOnExit,delete a.appear,delete a.enter,delete a.exit,delete a.timeout,delete a.addEndListener,delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,"function"===typeof n)return n(e,a);var o=u.default.Children.only(n);return u.default.cloneElement(o,a)},t}(u.default.Component);g.contextTypes={transitionGroup:s.object},g.childContextTypes={transitionGroup:function(){}},g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:l,onEntering:l,onEntered:l,onExit:l,onExiting:l,onExited:l},g.UNMOUNTED=0,g.EXITED=1,g.ENTERING=2,g.ENTERED=3,g.EXITING=4,t.default=g}),yt=g(bt),Et=V({},yt.propTypes,{children:P.a.oneOfType([P.a.arrayOf(P.a.node),P.a.node]),tag:P.a.oneOfType([P.a.string,P.a.func]),baseClass:P.a.string,baseClassActive:P.a.string,className:P.a.string,cssModule:P.a.object}),wt=V({},yt.defaultProps,{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:Z.Fade,appear:!0,enter:!0,exit:!0,in:!0});b.propTypes=Et,b.defaultProps=wt;var St={color:P.a.string,pill:P.a.bool,tag:P.a.oneOfType([P.a.func,P.a.string]),children:P.a.node,className:P.a.string,cssModule:P.a.object},_t={color:"secondary",pill:!1,tag:"span"},xt=function(e){var t=e.className,n=e.cssModule,r=e.color,a=e.pill,o=e.tag,i=$(e,["className","cssModule","color","pill","tag"]),l=u(D()(t,"badge","badge-"+r,!!a&&"badge-pill"),n);return i.href&&"span"===o&&(o="a"),O.a.createElement(o,V({},i,{className:l}))};xt.propTypes=St,xt.defaultProps=_t;var Ot={tag:P.a.oneOfType([P.a.func,P.a.string]),inverse:P.a.bool,color:P.a.string,block:p(P.a.bool,'Please use the props "body"'),body:P.a.bool,outline:P.a.bool,className:P.a.string,cssModule:P.a.object},Ct={tag:"div"},Pt=function(e){var t=e.className,n=e.cssModule,r=e.color,a=e.block,o=e.body,i=e.inverse,l=e.outline,s=e.tag,c=$(e,["className","cssModule","color","block","body","inverse","outline","tag"]),d=u(D()(t,"card",!!i&&"text-white",!(!a&&!o)&&"card-body",!!r&&(l?"border":"bg")+"-"+r),n);return O.a.createElement(s,V({},c,{className:d}))};Pt.propTypes=Ot,Pt.defaultProps=Ct;var kt={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},Dt={tag:"div"},Mt=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"card-group"),n);return O.a.createElement(r,V({},a,{className:o}))};Mt.propTypes=kt,Mt.defaultProps=Dt;var Tt={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},Lt={tag:"div"},Nt=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"card-deck"),n);return O.a.createElement(r,V({},a,{className:o}))};Nt.propTypes=Tt,Nt.defaultProps=Lt;var It={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},jt={tag:"div"},Rt=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"card-columns"),n);return O.a.createElement(r,V({},a,{className:o}))};Rt.propTypes=It,Rt.defaultProps=jt;var Yt={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},At={tag:"div"},Ft=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"card-body"),n);return O.a.createElement(r,V({},a,{className:o}))};Ft.propTypes=Yt,Ft.defaultProps=At;var Bt={tag:P.a.oneOfType([P.a.func,P.a.string]),innerRef:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},Zt={tag:"a"},Ht=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=e.innerRef,o=$(e,["className","cssModule","tag","innerRef"]),i=u(D()(t,"card-link"),n);return O.a.createElement(r,V({},o,{ref:a,className:i}))};Ht.propTypes=Bt,Ht.defaultProps=Zt;var Xt={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},Jt={tag:"div"},Ut=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"card-footer"),n);return O.a.createElement(r,V({},a,{className:o}))};Ut.propTypes=Xt,Ut.defaultProps=Jt;var Qt={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},Wt={tag:"div"},Gt=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"card-header"),n);return O.a.createElement(r,V({},a,{className:o}))};Gt.propTypes=Qt,Gt.defaultProps=Wt;var zt={tag:P.a.oneOfType([P.a.func,P.a.string]),top:P.a.bool,bottom:P.a.bool,className:P.a.string,cssModule:P.a.object},Kt={tag:"img"},Vt=function(e){var t=e.className,n=e.cssModule,r=e.top,a=e.bottom,o=e.tag,i=$(e,["className","cssModule","top","bottom","tag"]),l="card-img";r&&(l="card-img-top"),a&&(l="card-img-bottom");var s=u(D()(t,l),n);return O.a.createElement(o,V({},i,{className:s}))};Vt.propTypes=zt,Vt.defaultProps=Kt;var qt={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},$t={tag:"div"},en=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"card-img-overlay"),n);return O.a.createElement(r,V({},a,{className:o}))};en.propTypes=qt,en.defaultProps=$t;var tn=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={startAnimation:!1},n.onEnter=n.onEnter.bind(n),n.onEntering=n.onEntering.bind(n),n.onExit=n.onExit.bind(n),n.onExiting=n.onExiting.bind(n),n.onExited=n.onExited.bind(n),n}return q(t,e),z(t,[{key:"onEnter",value:function(e,t){this.setState({startAnimation:!1}),this.props.onEnter(e,t)}},{key:"onEntering",value:function(e,t){var n=e.offsetHeight;return this.setState({startAnimation:!0}),this.props.onEntering(e,t),n}},{key:"onExit",value:function(e){this.setState({startAnimation:!1}),this.props.onExit(e)}},{key:"onExiting",value:function(e){this.setState({startAnimation:!0}),e.dispatchEvent(new CustomEvent("slide.bs.carousel")),this.props.onExiting(e)}},{key:"onExited",value:function(e){e.dispatchEvent(new CustomEvent("slid.bs.carousel")),this.props.onExited(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.in,r=t.children,a=t.cssModule,o=t.slide,i=t.tag,l=t.className,s=$(t,["in","children","cssModule","slide","tag","className"]);return O.a.createElement(yt,V({},s,{enter:o,exit:o,in:n,onEnter:this.onEnter,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),function(t){var n=e.context.direction,o=t===X.ENTERED||t===X.EXITING,s=(t===X.ENTERING||t===X.EXITING)&&e.state.startAnimation&&("right"===n?"carousel-item-left":"carousel-item-right"),c=t===X.ENTERING&&("right"===n?"carousel-item-next":"carousel-item-prev"),d=u(D()(l,"carousel-item",o&&"active",s,c),a);return O.a.createElement(i,{className:d},r)})}}]),t}(O.a.Component);tn.propTypes=V({},yt.propTypes,{tag:P.a.oneOfType([P.a.func,P.a.string]),in:P.a.bool,cssModule:P.a.object,children:P.a.node,slide:P.a.bool,className:P.a.string}),tn.defaultProps=V({},yt.defaultProps,{tag:"div",timeout:Z.Carousel,slide:!0}),tn.contextTypes={direction:P.a.string};var nn=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKeyPress=n.handleKeyPress.bind(n),n.renderItems=n.renderItems.bind(n),n.hoverStart=n.hoverStart.bind(n),n.hoverEnd=n.hoverEnd.bind(n),n.state={direction:"right",indicatorClicked:!1},n}return q(t,e),z(t,[{key:"getChildContext",value:function(){return{direction:this.state.direction}}},{key:"componentDidMount",value:function(){"carousel"===this.props.ride&&this.setInterval(),document.addEventListener("keyup",this.handleKeyPress)}},{key:"componentWillReceiveProps",value:function(e){this.setInterval(e),this.props.activeIndex+1===e.activeIndex?this.setState({direction:"right"}):this.props.activeIndex-1===e.activeIndex?this.setState({direction:"left"}):this.props.activeIndex>e.activeIndex?this.setState({direction:this.state.indicatorClicked?"left":"right"}):this.props.activeIndex!==e.activeIndex&&this.setState({direction:this.state.indicatorClicked?"right":"left"}),this.setState({indicatorClicked:!1})}},{key:"componentWillUnmount",value:function(){this.clearInterval(),document.removeEventListener("keyup",this.handleKeyPress)}},{key:"setInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.clearInterval(),e.interval&&(this.cycleInterval=setInterval(function(){e.next()},parseInt(e.interval,10)))})},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){clearInterval(this.cycleInterval)})},{key:"hoverStart",value:function(){if("hover"===this.props.pause&&this.clearInterval(),this.props.mouseEnter){var e;(e=this.props).mouseEnter.apply(e,arguments)}}},{key:"hoverEnd",value:function(){if("hover"===this.props.pause&&this.setInterval(),this.props.mouseLeave){var e;(e=this.props).mouseLeave.apply(e,arguments)}}},{key:"handleKeyPress",value:function(e){this.props.keyboard&&(37===e.keyCode?this.props.previous():39===e.keyCode&&this.props.next())}},{key:"renderItems",value:function(e,t){var n=this,r=this.props.slide;return O.a.createElement("div",{role:"listbox",className:t},e.map(function(e,t){var a=t===n.props.activeIndex;return O.a.cloneElement(e,{in:a,slide:r})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.cssModule,a=t.slide,o=t.className,i=u(D()(o,"carousel",a&&"slide"),r),l=u(D()("carousel-inner"),r);if(n.every(function(e){return e.type===tn}))return O.a.createElement("div",{className:i,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(n,l));if(n[0]instanceof Array){var s=n[0],c=n[1],d=n[2];return O.a.createElement("div",{className:i,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(s,l),c,d)}var f=n[0],p=function(t){"function"===typeof f.props.onClickHandler&&e.setState({indicatorClicked:!0},function(){return f.props.onClickHandler(t)})},m=O.a.cloneElement(f,{onClickHandler:p}),h=n[1],g=n[2],v=n[3];return O.a.createElement("div",{className:i,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},m,this.renderItems(h,l),g,v)}}]),t}(O.a.Component);nn.propTypes={activeIndex:P.a.number,next:P.a.func.isRequired,previous:P.a.func.isRequired,keyboard:P.a.bool,pause:P.a.oneOf(["hover",!1]),ride:P.a.oneOf(["carousel"]),interval:P.a.oneOfType([P.a.number,P.a.string,P.a.bool]),children:P.a.array,mouseEnter:P.a.func,mouseLeave:P.a.func,slide:P.a.bool,cssModule:P.a.object,className:P.a.string},nn.defaultProps={interval:5e3,pause:"hover",keyboard:!0,slide:!0},nn.childContextTypes={direction:P.a.string};var rn=function(e){var t=e.direction,n=e.onClickHandler,r=e.cssModule,a=e.directionText,o=e.className,i=u(D()(o,"carousel-control-"+t),r),l=u(D()("carousel-control-"+t+"-icon"),r),s=u(D()("sr-only"),r);return O.a.createElement("a",{className:i,role:"button",tabIndex:"0",onClick:function(e){e.preventDefault(),n()}},O.a.createElement("span",{className:l,"aria-hidden":"true"}),O.a.createElement("span",{className:s},a||t))};rn.propTypes={direction:P.a.oneOf(["prev","next"]).isRequired,onClickHandler:P.a.func.isRequired,cssModule:P.a.object,directionText:P.a.string,className:P.a.string};var an=function(e){var t=e.items,n=e.activeIndex,r=e.cssModule,a=e.onClickHandler,o=e.className,i=u(D()(o,"carousel-indicators"),r),l=t.map(function(e,t){var o=u(D()({active:n===t}),r);return O.a.createElement("li",{key:""+(e.key||e.src)+e.caption+e.altText,onClick:function(e){e.preventDefault(),a(t)},className:o})});return O.a.createElement("ol",{className:i},l)};an.propTypes={items:P.a.array.isRequired,activeIndex:P.a.number.isRequired,cssModule:P.a.object,onClickHandler:P.a.func.isRequired,className:P.a.string};var on=function(e){var t=e.captionHeader,n=e.captionText,r=e.cssModule,a=e.className,o=u(D()(a,"carousel-caption","d-none","d-md-block"),r);return O.a.createElement("div",{className:o},O.a.createElement("h3",null,t),O.a.createElement("p",null,n))};on.propTypes={captionHeader:P.a.string,captionText:P.a.string.isRequired,cssModule:P.a.object,className:P.a.string};var ln={items:P.a.array.isRequired,indicators:P.a.bool,controls:P.a.bool,autoPlay:P.a.bool,activeIndex:P.a.number,next:P.a.func,previous:P.a.func,goToIndex:P.a.func},sn=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.animating=!1,n.state={activeIndex:0},n.next=n.next.bind(n),n.previous=n.previous.bind(n),n.goToIndex=n.goToIndex.bind(n),n.onExiting=n.onExiting.bind(n),n.onExited=n.onExited.bind(n),n}return q(t,e),z(t,[{key:"onExiting",value:function(){this.animating=!0}},{key:"onExited",value:function(){this.animating=!1}},{key:"next",value:function(){if(!this.animating){var e=this.state.activeIndex===this.props.items.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}}},{key:"previous",value:function(){if(!this.animating){var e=0===this.state.activeIndex?this.props.items.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}}},{key:"goToIndex",value:function(e){this.animating||this.setState({activeIndex:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoPlay,r=t.indicators,a=t.controls,o=t.items,i=t.goToIndex,l=$(t,["autoPlay","indicators","controls","items","goToIndex"]),s=this.state.activeIndex,u=o.map(function(t){return O.a.createElement(tn,{onExiting:e.onExiting,onExited:e.onExited,key:t.src},O.a.createElement("img",{src:t.src,alt:t.altText}),O.a.createElement(on,{captionText:t.caption,captionHeader:t.caption}))});return O.a.createElement(nn,V({activeIndex:s,next:this.next,previous:this.previous,ride:n?"carousel":void 0},l),r&&O.a.createElement(an,{items:o,activeIndex:l.activeIndex||s,onClickHandler:i||this.goToIndex}),u,a&&O.a.createElement(rn,{direction:"prev",directionText:"Previous",onClickHandler:l.previous||this.previous}),a&&O.a.createElement(rn,{direction:"next",directionText:"Next",onClickHandler:l.next||this.next}))}}]),t}(x.Component);sn.propTypes=ln,sn.defaultProps={controls:!0,indicators:!0,autoPlay:!0};var un={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},cn={tag:"h6"},dn=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"card-subtitle"),n);return O.a.createElement(r,V({},a,{className:o}))};dn.propTypes=un,dn.defaultProps=cn;var fn={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},pn={tag:"p"},mn=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"card-text"),n);return O.a.createElement(r,V({},a,{className:o}))};mn.propTypes=fn,mn.defaultProps=pn;var hn={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},gn={tag:"h5"},vn=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"card-title"),n);return O.a.createElement(r,V({},a,{className:o}))};vn.propTypes=hn,vn.defaultProps=gn;var bn={children:P.a.node.isRequired,className:P.a.string,placement:P.a.string,placementPrefix:P.a.string,hideArrow:P.a.bool,tag:P.a.string,isOpen:P.a.bool.isRequired,cssModule:P.a.object,offset:P.a.oneOfType([P.a.string,P.a.number]),fallbackPlacement:P.a.oneOfType([P.a.string,P.a.array]),flip:P.a.bool,container:P.a.oneOfType([P.a.string,P.a.func,m]),target:P.a.oneOfType([P.a.string,P.a.func,m]).isRequired,modifiers:P.a.object},yn={placement:"auto",hideArrow:!1,isOpen:!1,offset:0,fallbackPlacement:"flip",flip:!0,container:"body",modifiers:{}},En={popperManager:P.a.object.isRequired},wn=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePlacementChange=n.handlePlacementChange.bind(n),n.setTargetNode=n.setTargetNode.bind(n),n.getTargetNode=n.getTargetNode.bind(n),n.state={},n}return q(t,e),z(t,[{key:"getChildContext",value:function(){return{popperManager:{setTargetNode:this.setTargetNode,getTargetNode:this.getTargetNode}}}},{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(e){this.props.isOpen!==e.isOpen?this.handleProps():this._element&&this.renderIntoSubtree()}},{key:"componentWillUnmount",value:function(){this.hide()}},{key:"setTargetNode",value:function(e){this.targetNode=e}},{key:"getTargetNode",value:function(){return this.targetNode}},{key:"getContainerNode",value:function(){return h(this.props.container)}},{key:"handlePlacementChange",value:function(e){return this.state.placement!==e.placement&&this.setState({placement:e.placement}),e}},{key:"handleProps",value:function(){"inline"!==this.props.container&&(this.props.isOpen?this.show():this.hide())}},{key:"hide",value:function(){this._element&&(this.getContainerNode().removeChild(this._element),j.a.unmountComponentAtNode(this._element),this._element=null)}},{key:"show",value:function(){this._element=document.createElement("div"),this.getContainerNode().appendChild(this._element),this.renderIntoSubtree(),this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()}},{key:"renderIntoSubtree",value:function(){j.a.unstable_renderSubtreeIntoContainer(this,this.renderChildren(),this._element)}},{key:"renderChildren",value:function(){var e=this.props,t=e.cssModule,n=e.children,r=(e.isOpen,e.flip),a=(e.target,e.offset),o=e.fallbackPlacement,i=e.placementPrefix,l=e.hideArrow,s=e.className,c=e.tag,d=(e.container,e.modifiers),f=$(e,["cssModule","children","isOpen","flip","target","offset","fallbackPlacement","placementPrefix","hideArrow","className","tag","container","modifiers"]),p=u("arrow",t),m=(this.state.placement||f.placement).split("-")[0],h=u(D()(s,i?i+"-"+m:m),this.props.cssModule),g=V({offset:{offset:a},flip:{enabled:r,behavior:o},update:{enabled:!0,order:950,fn:this.handlePlacementChange}},d);return O.a.createElement(R.Popper,V({modifiers:g},f,{component:c,className:h}),n,!l&&O.a.createElement(R.Arrow,{className:p}))}},{key:"render",value:function(){return this.setTargetNode(h(this.props.target)),"inline"===this.props.container&&this.props.isOpen?this.renderChildren():null}}]),t}(O.a.Component);wn.propTypes=bn,wn.defaultProps=yn,wn.childContextTypes=En;var Sn=function(e,t){return t.popperManager.setTargetNode(h(e.target)),null};Sn.contextTypes={popperManager:P.a.object.isRequired},Sn.propTypes={target:P.a.oneOfType([P.a.string,P.a.func,m]).isRequired};var _n={placement:P.a.oneOf(U),target:P.a.oneOfType([P.a.string,P.a.func,m]).isRequired,container:P.a.oneOfType([P.a.string,P.a.func,m]),isOpen:P.a.bool,disabled:P.a.bool,hideArrow:P.a.bool,className:P.a.string,innerClassName:P.a.string,placementPrefix:P.a.string,cssModule:P.a.object,toggle:P.a.func,delay:P.a.oneOfType([P.a.shape({show:P.a.number,hide:P.a.number}),P.a.number]),modifiers:P.a.object},xn={show:0,hide:0},On={isOpen:!1,hideArrow:!1,placement:"right",placementPrefix:"bs-popover",delay:xn,toggle:function(){}},Cn=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addTargetEvents=n.addTargetEvents.bind(n),n.handleDocumentClick=n.handleDocumentClick.bind(n),n.removeTargetEvents=n.removeTargetEvents.bind(n),n.getRef=n.getRef.bind(n),n.toggle=n.toggle.bind(n),n.show=n.show.bind(n),n.hide=n.hide.bind(n),n}return q(t,e),z(t,[{key:"componentDidMount",value:function(){this._target=h(this.props.target),this.handleProps()}},{key:"componentDidUpdate",value:function(){this.handleProps()}},{key:"componentWillUnmount",value:function(){this.clearShowTimeout(),this.clearHideTimeout(),this.removeTargetEvents()}},{key:"getRef",value:function(e){this._popover=e}},{key:"getDelay",value:function(e){var t=this.props.delay;return"object"===("undefined"===typeof t?"undefined":W(t))?isNaN(t[e])?xn[e]:t[e]:t}},{key:"handleProps",value:function(){this.props.isOpen?this.show():this.hide()}},{key:"show",value:function(){this.clearHideTimeout(),this.addTargetEvents(),this.props.isOpen||(this.clearShowTimeout(),this._showTimeout=setTimeout(this.toggle,this.getDelay("show")))}},{key:"hide",value:function(){this.clearShowTimeout(),this.removeTargetEvents(),this.props.isOpen&&(this.clearHideTimeout(),this._hideTimeout=setTimeout(this.toggle,this.getDelay("hide")))}},{key:"clearShowTimeout",value:function(){clearTimeout(this._showTimeout),this._showTimeout=void 0}},{key:"clearHideTimeout",value:function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0}},{key:"handleDocumentClick",value:function(e){e.target===this._target||this._target.contains(e.target)||e.target===this._popover||this._popover&&this._popover.contains(e.target)||(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&this.toggle(e))}},{key:"addTargetEvents",value:function(){var e=this;["click","touchstart"].forEach(function(t){return document.addEventListener(t,e.handleDocumentClick,!0)})}},{key:"removeTargetEvents",value:function(){var e=this;["click","touchstart"].forEach(function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)})}},{key:"toggle",value:function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)}},{key:"render",value:function(){if(!this.props.isOpen)return null;var e=c(this.props,Object.keys(_n)),t=u(D()("popover-inner",this.props.innerClassName),this.props.cssModule),n=u(D()("popover","show",this.props.className),this.props.cssModule);return O.a.createElement(wn,{className:n,target:this.props.target,isOpen:this.props.isOpen,hideArrow:this.props.hideArrow,placement:this.props.placement,placementPrefix:this.props.placementPrefix,container:this.props.container,modifiers:this.props.modifiers},O.a.createElement("div",V({},e,{className:t,ref:this.getRef})))}}]),t}(O.a.Component);Cn.propTypes=_n,Cn.defaultProps=On;var Pn={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},kn={tag:"h3"},Dn=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"popover-header"),n);return O.a.createElement(r,V({},a,{className:o}))};Dn.propTypes=Pn,Dn.defaultProps=kn;var Mn={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},Tn={tag:"div"},Ln=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"popover-body"),n);return O.a.createElement(r,V({},a,{className:o}))};Ln.propTypes=Mn,Ln.defaultProps=Tn;var Nn={children:P.a.node,bar:P.a.bool,multi:P.a.bool,tag:P.a.string,value:P.a.oneOfType([P.a.string,P.a.number]),max:P.a.oneOfType([P.a.string,P.a.number]),animated:P.a.bool,striped:P.a.bool,color:P.a.string,className:P.a.string,barClassName:P.a.string,cssModule:P.a.object},In={tag:"div",value:0,max:100},jn=function(e){var t=e.children,n=e.className,r=e.barClassName,a=e.cssModule,o=e.value,i=e.max,l=e.animated,s=e.striped,c=e.color,d=e.bar,f=e.multi,p=e.tag,m=$(e,["children","className","barClassName","cssModule","value","max","animated","striped","color","bar","multi","tag"]),h=A()(o)/A()(i)*100,g=u(D()(n,"progress"),a),v=u(D()("progress-bar",d?n||r:r,l?"progress-bar-animated":null,c?"bg-"+c:null,s||l?"progress-bar-striped":null),a),b=f?t:O.a.createElement("div",{className:v,style:{width:h+"%"},role:"progressbar","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":i,children:t});return d?b:O.a.createElement(p,V({},m,{className:g,children:b}))};jn.propTypes=Nn,jn.defaultProps=In;var Rn={children:P.a.node.isRequired,node:P.a.any},Yn=function(e){function t(){return G(this,t),ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return q(t,e),z(t,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return Q?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),j.a.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),t}(O.a.Component);Yn.propTypes=Rn;var An=P.a.shape(b.propTypes),Fn={isOpen:P.a.bool,autoFocus:P.a.bool,centered:P.a.bool,size:P.a.string,toggle:P.a.func,keyboard:P.a.bool,role:P.a.string,labelledBy:P.a.string,backdrop:P.a.oneOfType([P.a.bool,P.a.oneOf(["static"])]),onEnter:P.a.func,onExit:P.a.func,onOpened:P.a.func,onClosed:P.a.func,children:P.a.node,className:P.a.string,wrapClassName:P.a.string,modalClassName:P.a.string,backdropClassName:P.a.string,contentClassName:P.a.string,external:P.a.node,fade:P.a.bool,cssModule:P.a.object,zIndex:P.a.oneOfType([P.a.number,P.a.string]),backdropTransition:An,modalTransition:An},Bn=Object.keys(Fn),Zn={isOpen:!1,autoFocus:!0,centered:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:y,onClosed:y,modalTransition:{timeout:Z.Modal},backdropTransition:{mountOnEnter:!0,timeout:Z.Fade}},Hn=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._element=null,n._originalBodyPadding=null,n.handleBackdropClick=n.handleBackdropClick.bind(n),n.handleEscape=n.handleEscape.bind(n),n.onOpened=n.onOpened.bind(n),n.onClosed=n.onClosed.bind(n),n.state={isOpen:e.isOpen},e.isOpen&&n.init(),n}return q(t,e),z(t,[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter(),this.state.isOpen&&this.props.autoFocus&&this.setFocus(),this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){e.isOpen&&!this.props.isOpen&&this.setState({isOpen:e.isOpen})}},{key:"componentWillUpdate",value:function(e,t){t.isOpen&&!this.state.isOpen&&this.init()}},{key:"componentDidUpdate",value:function(e,t){this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus()}},{key:"componentWillUnmount",value:function(){this.props.onExit&&this.props.onExit(),this.state.isOpen&&this.destroy(),this._isMounted=!1}},{key:"onOpened",value:function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||y)(e,t)}},{key:"onClosed",value:function(e){this.props.onClosed(),(this.props.modalTransition.onExited||y)(e),this.destroy(),this._isMounted&&this.setState({isOpen:!1})}},{key:"setFocus",value:function(){this._dialog&&this._dialog.parentNode&&"function"===typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()}},{key:"handleBackdropClick",value:function(e){if(e.stopPropagation(),this.props.isOpen&&!0===this.props.backdrop){var t=this._dialog;e.target&&!t.contains(e.target)&&this.props.toggle&&this.props.toggle(e)}}},{key:"handleEscape",value:function(e){this.props.isOpen&&this.props.keyboard&&27===e.keyCode&&this.props.toggle&&this.props.toggle(e)}},{key:"init",value:function(){this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._originalBodyPadding=i(),l(),document.body.appendChild(this._element),this.bodyClassAdded||(document.body.className=D()(document.body.className,u("modal-open",this.props.cssModule)),this.bodyClassAdded=!0)}},{key:"destroy",value:function(){if(this._element&&(document.body.removeChild(this._element),this._element=null),this.bodyClassAdded){var e=u("modal-open",this.props.cssModule),t=new RegExp("(^| )"+e+"( |$)");document.body.className=document.body.className.replace(t," ").trim(),this.bodyClassAdded=!1}a(this._originalBodyPadding)}},{key:"renderModalDialog",value:function(){var e,t=this,n=c(this.props,Bn);return O.a.createElement("div",V({},n,{className:u(D()("modal-dialog",this.props.className,(e={},K(e,"modal-"+this.props.size,this.props.size),K(e,"modal-dialog-centered",this.props.centered),e)),this.props.cssModule),role:"document",ref:function(e){t._dialog=e}}),O.a.createElement("div",{className:u(D()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))}},{key:"render",value:function(){if(this.state.isOpen){var e=this.props,t=e.wrapClassName,n=e.modalClassName,r=e.backdropClassName,a=e.cssModule,o=e.isOpen,i=e.backdrop,l=e.role,s=e.labelledBy,c=e.external,d={onClick:this.handleBackdropClick,onKeyUp:this.handleEscape,style:{display:"block"},"aria-labelledby":s,role:l,tabIndex:"-1"},f=this.props.fade,p=V({},b.defaultProps,this.props.modalTransition,{baseClass:f?this.props.modalTransition.baseClass:"",timeout:f?this.props.modalTransition.timeout:0}),m=V({},b.defaultProps,this.props.backdropTransition,{baseClass:f?this.props.backdropTransition.baseClass:"",timeout:f?this.props.backdropTransition.timeout:0});return O.a.createElement(Yn,{node:this._element},O.a.createElement("div",{className:u(t)},O.a.createElement(b,V({},d,p,{in:o,onEntered:this.onOpened,onExited:this.onClosed,cssModule:a,className:u(D()("modal",n),a)}),c,this.renderModalDialog()),O.a.createElement(b,V({},m,{in:o&&!!i,cssModule:a,className:u(D()("modal-backdrop",r),a)}))))}return null}}]),t}(O.a.Component);Hn.propTypes=Fn,Hn.defaultProps=Zn;var Xn={tag:P.a.oneOfType([P.a.func,P.a.string]),wrapTag:P.a.oneOfType([P.a.func,P.a.string]),toggle:P.a.func,className:P.a.string,cssModule:P.a.object,children:P.a.node,closeAriaLabel:P.a.string},Jn={tag:"h5",wrapTag:"div",closeAriaLabel:"Close"},Un=function(e){var t=void 0,n=e.className,r=e.cssModule,a=e.children,o=e.toggle,i=e.tag,l=e.wrapTag,s=e.closeAriaLabel,c=$(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel"]),d=u(D()(n,"modal-header"),r);return o&&(t=O.a.createElement("button",{type:"button",onClick:o,className:u("close",r),"aria-label":s},O.a.createElement("span",{"aria-hidden":"true"},String.fromCharCode(215)))),O.a.createElement(l,V({},c,{className:d}),O.a.createElement(i,{className:u("modal-title",r)},a),t)};Un.propTypes=Xn,Un.defaultProps=Jn;var Qn={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},Wn={tag:"div"},Gn=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"modal-body"),n);return O.a.createElement(r,V({},a,{className:o}))};Gn.propTypes=Qn,Gn.defaultProps=Wn;var zn={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},Kn={tag:"div"},Vn=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"modal-footer"),n);return O.a.createElement(r,V({},a,{className:o}))};Vn.propTypes=zn,Vn.defaultProps=Kn;var qn={placement:P.a.oneOf(U),target:P.a.oneOfType([P.a.string,P.a.func,m]).isRequired,container:P.a.oneOfType([P.a.string,P.a.func,m]),isOpen:P.a.bool,disabled:P.a.bool,hideArrow:P.a.bool,className:P.a.string,innerClassName:P.a.string,cssModule:P.a.object,toggle:P.a.func,autohide:P.a.bool,placementPrefix:P.a.string,delay:P.a.oneOfType([P.a.shape({show:P.a.number,hide:P.a.number}),P.a.number]),modifiers:P.a.object},$n={show:0,hide:250},er={isOpen:!1,hideArrow:!1,placement:"top",placementPrefix:"bs-tooltip",delay:$n,autohide:!0,toggle:function(){}},tr=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addTargetEvents=n.addTargetEvents.bind(n),n.handleDocumentClick=n.handleDocumentClick.bind(n),n.removeTargetEvents=n.removeTargetEvents.bind(n),n.toggle=n.toggle.bind(n),n.onMouseOverTooltip=n.onMouseOverTooltip.bind(n),n.onMouseLeaveTooltip=n.onMouseLeaveTooltip.bind(n),n.onMouseOverTooltipContent=n.onMouseOverTooltipContent.bind(n),n.onMouseLeaveTooltipContent=n.onMouseLeaveTooltipContent.bind(n),n.show=n.show.bind(n),n.hide=n.hide.bind(n),n}return q(t,e),z(t,[{key:"componentDidMount",value:function(){this._target=h(this.props.target),this.addTargetEvents()}},{key:"componentWillUnmount",value:function(){this.removeTargetEvents()}},{key:"onMouseOverTooltip",value:function(){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show,this.getDelay("show"))}},{key:"onMouseLeaveTooltip",value:function(){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide,this.getDelay("hide"))}},{key:"onMouseOverTooltipContent",value:function(){this.props.autohide||this._hideTimeout&&this.clearHideTimeout()}},{key:"onMouseLeaveTooltipContent",value:function(){this.props.autohide||(this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide,this.getDelay("hide")))}},{key:"getDelay",value:function(e){var t=this.props.delay;return"object"===("undefined"===typeof t?"undefined":W(t))?isNaN(t[e])?$n[e]:t[e]:t}},{key:"show",value:function(){this.props.isOpen||(this.clearShowTimeout(),this.toggle())}},{key:"hide",value:function(){this.props.isOpen&&(this.clearHideTimeout(),this.toggle())}},{key:"clearShowTimeout",value:function(){clearTimeout(this._showTimeout),this._showTimeout=void 0}},{key:"clearHideTimeout",value:function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0}},{key:"handleDocumentClick",value:function(e){(e.target===this._target||this._target.contains(e.target))&&(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen||this.toggle())}},{key:"addTargetEvents",value:function(){var e=this;this._target.addEventListener("mouseover",this.onMouseOverTooltip,!0),this._target.addEventListener("mouseout",this.onMouseLeaveTooltip,!0),["click","touchstart"].forEach(function(t){return document.addEventListener(t,e.handleDocumentClick,!0)})}},{key:"removeTargetEvents",value:function(){var e=this;this._target.removeEventListener("mouseover",this.onMouseOverTooltip,!0),this._target.removeEventListener("mouseout",this.onMouseLeaveTooltip,!0),["click","touchstart"].forEach(function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)})}},{key:"toggle",value:function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle()}},{key:"render",value:function(){if(!this.props.isOpen)return null;var e=c(this.props,Object.keys(qn)),t=u(D()("tooltip-inner",this.props.innerClassName),this.props.cssModule),n=u(D()("tooltip","show",this.props.className),this.props.cssModule);return O.a.createElement(wn,{className:n,target:this.props.target,isOpen:this.props.isOpen,hideArrow:this.props.hideArrow,placement:this.props.placement,placementPrefix:this.props.placementPrefix,container:this.props.container,modifiers:this.props.modifiers},O.a.createElement("div",V({},e,{className:t,onMouseOver:this.onMouseOverTooltipContent,onMouseLeave:this.onMouseLeaveTooltipContent})))}}]),t}(O.a.Component);tr.propTypes=qn,tr.defaultProps=er;var nr={className:P.a.string,cssModule:P.a.object,size:P.a.string,bordered:P.a.bool,striped:P.a.bool,inverse:p(P.a.bool,'Please use the prop "dark"'),dark:P.a.bool,hover:P.a.bool,responsive:P.a.oneOfType([P.a.bool,P.a.string]),tag:P.a.oneOfType([P.a.func,P.a.string]),responsiveTag:P.a.oneOfType([P.a.func,P.a.string])},rr={tag:"table",responsiveTag:"div"},ar=function(e){var t=e.className,n=e.cssModule,r=e.size,a=e.bordered,o=e.striped,i=e.inverse,l=e.dark,s=e.hover,c=e.responsive,d=e.tag,f=e.responsiveTag,p=$(e,["className","cssModule","size","bordered","striped","inverse","dark","hover","responsive","tag","responsiveTag"]),m=u(D()(t,"table",!!r&&"table-"+r,!!a&&"table-bordered",!!o&&"table-striped",!(!l&&!i)&&"table-dark",!!s&&"table-hover"),n),h=O.a.createElement(d,V({},p,{className:m}));if(c){var g=!0===c?"table-responsive":"table-responsive-"+c;return O.a.createElement(f,{className:g},h)}return h};ar.propTypes=nr,ar.defaultProps=rr;var or={tag:P.a.oneOfType([P.a.func,P.a.string]),flush:P.a.bool,className:P.a.string,cssModule:P.a.object},ir={tag:"ul"},lr=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=e.flush,o=$(e,["className","cssModule","tag","flush"]),i=u(D()(t,"list-group",!!a&&"list-group-flush"),n);return O.a.createElement(r,V({},o,{className:i}))};lr.propTypes=or,lr.defaultProps=ir;var sr={children:P.a.node,inline:P.a.bool,tag:P.a.oneOfType([P.a.func,P.a.string]),innerRef:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},ur={tag:"form"},cr=function(e){var t=e.className,n=e.cssModule,r=e.inline,a=e.tag,o=e.innerRef,i=$(e,["className","cssModule","inline","tag","innerRef"]),l=u(D()(t,!!r&&"form-inline"),n);return O.a.createElement(a,V({},i,{ref:o,className:l}))};cr.propTypes=sr,cr.defaultProps=ur;var dr={children:P.a.node,tag:P.a.string,className:P.a.string,cssModule:P.a.object,valid:P.a.bool},fr={tag:"div",valid:void 0},pr=function(e){var t=e.className,n=e.cssModule,r=e.valid,a=e.tag,o=$(e,["className","cssModule","valid","tag"]),i=u(D()(t,r?"valid-feedback":"invalid-feedback"),n);return O.a.createElement(a,V({},o,{className:i}))};pr.propTypes=dr,pr.defaultProps=fr;var mr={children:P.a.node,row:P.a.bool,check:P.a.bool,inline:P.a.bool,disabled:P.a.bool,tag:P.a.string,className:P.a.string,cssModule:P.a.object},hr={tag:"div"},gr=function(e){var t=e.className,n=e.cssModule,r=e.row,a=e.disabled,o=e.check,i=e.inline,l=e.tag,s=$(e,["className","cssModule","row","disabled","check","inline","tag"]),c=u(D()(t,!!r&&"row",o?"form-check":"form-group",!(!o||!i)&&"form-check-inline",!(!o||!a)&&"disabled"),n);return O.a.createElement(l,V({},s,{className:c}))};gr.propTypes=mr,gr.defaultProps=hr;var vr={children:P.a.node,inline:P.a.bool,tag:P.a.oneOfType([P.a.func,P.a.string]),color:P.a.string,className:P.a.string,cssModule:P.a.object},br={tag:"small",color:"muted"},yr=function(e){var t=e.className,n=e.cssModule,r=e.inline,a=e.color,o=e.tag,i=$(e,["className","cssModule","inline","color","tag"]),l=u(D()(t,!r&&"form-text",!!a&&"text-"+a),n);return O.a.createElement(o,V({},i,{className:l}))};yr.propTypes=vr,yr.defaultProps=br;var Er={children:P.a.node,type:P.a.string,size:P.a.string,bsSize:P.a.string,state:p(P.a.string,'Please use the props "valid" and "invalid" to indicate the state.'),valid:P.a.bool,invalid:P.a.bool,tag:P.a.oneOfType([P.a.func,P.a.string]),innerRef:P.a.oneOfType([P.a.func,P.a.string]),static:p(P.a.bool,'Please use the prop "plaintext"'),plaintext:P.a.bool,addon:P.a.bool,className:P.a.string,cssModule:P.a.object},wr={type:"text"},Sr=function(e){function t(){return G(this,t),ee(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return q(t,e),z(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,r=e.type,a=e.bsSize,o=e.state,i=e.valid,l=e.invalid,s=e.tag,c=e.addon,d=e.static,p=e.plaintext,m=e.innerRef,h=$(e,["className","cssModule","type","bsSize","state","valid","invalid","tag","addon","static","plaintext","innerRef"]),g=["radio","checkbox"].indexOf(r)>-1,v=new RegExp("\\D","g"),b="file"===r,y="textarea"===r,E="select"===r,w=s||(E||y?r:"input"),S="form-control";p||d?(S+="-plaintext",w=s||"p"):b?S+="-file":g&&(S=c?null:"form-check-input"),o&&"undefined"===typeof i&&"undefined"===typeof l&&("danger"===o?l=!0:"success"===o&&(i=!0)),h.size&&v.test(h.size)&&(f('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),a=h.size,delete h.size);var _=u(D()(t,l&&"is-invalid",i&&"is-valid",!!a&&"form-control-"+a,S),n);return"input"!==w&&"string"===typeof s||(h.type=r),O.a.createElement(w,V({},h,{ref:m,className:_}))}}]),t}(O.a.Component);Sr.propTypes=Er,Sr.defaultProps=wr;var _r={tag:P.a.oneOfType([P.a.func,P.a.string]),size:P.a.string,className:P.a.string,cssModule:P.a.object},xr={tag:"div"},Or=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=e.size,o=$(e,["className","cssModule","tag","size"]),i=u(D()(t,"input-group",a?"input-group-"+a:null),n);return O.a.createElement(r,V({},o,{className:i}))};Or.propTypes=_r,Or.defaultProps=xr;var Cr={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object},Pr={tag:"span"},kr=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"input-group-text"),n);return O.a.createElement(r,V({},a,{className:o}))};kr.propTypes=Cr,kr.defaultProps=Pr;var Dr={tag:P.a.oneOfType([P.a.func,P.a.string]),addonType:P.a.oneOf(["prepend","append"]).isRequired,children:P.a.node,className:P.a.string,cssModule:P.a.object},Mr={tag:"div"},Tr=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=e.addonType,o=e.children,i=$(e,["className","cssModule","tag","addonType","children"]),l=u(D()(t,"input-group-"+a),n);return"string"===typeof o?O.a.createElement(r,V({},i,{className:l}),O.a.createElement(kr,{children:o})):O.a.createElement(r,V({},i,{className:l,children:o}))};Tr.propTypes=Dr,Tr.defaultProps=Mr;var Lr={tag:P.a.oneOfType([P.a.func,P.a.string]),addonType:P.a.oneOf(["prepend","append"]).isRequired,children:P.a.node,groupClassName:P.a.string,groupAttributes:P.a.object,className:P.a.string,cssModule:P.a.object};(function(e){f('The "InputGroupButton" component has been deprecated.\nPlease use component "InputGroupAddon".');var t=e.children,n=e.groupClassName,r=e.groupAttributes,a=$(e,["children","groupClassName","groupAttributes"]);if("string"===typeof t){var o=a.cssModule,i=a.tag,l=a.addonType,s=$(a,["cssModule","tag","addonType"]),u=V({},r,{cssModule:o,tag:i,addonType:l});return O.a.createElement(Tr,V({},u,{className:n}),O.a.createElement(Ge,V({},s,{children:t})))}return O.a.createElement(Tr,V({},e,{children:t}))}).propTypes=Lr;var Nr={addonType:P.a.oneOf(["prepend","append"]).isRequired,children:P.a.node};(function(e){return O.a.createElement(Re,e)}).propTypes=Nr;var Ir=["xs","sm","md","lg","xl"],jr=P.a.oneOfType([P.a.number,P.a.string]),Rr=P.a.oneOfType([P.a.string,P.a.number,P.a.shape({size:jr,push:p(jr,'Please use the prop "order"'),pull:p(jr,'Please use the prop "order"'),order:jr,offset:jr})]),Yr={children:P.a.node,hidden:P.a.bool,check:P.a.bool,size:P.a.string,for:P.a.string,tag:P.a.string,className:P.a.string,cssModule:P.a.object,xs:Rr,sm:Rr,md:Rr,lg:Rr,xl:Rr,widths:P.a.array},Ar={tag:"label",widths:Ir},Fr=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},Br=function(e){var t=e.className,n=e.cssModule,r=e.hidden,a=e.widths,o=e.tag,i=e.check,l=e.size,s=e.for,c=$(e,["className","cssModule","hidden","widths","tag","check","size","for"]),d=[];a.forEach(function(t,r){var a=e[t];if(delete c[t],a||""===a){var o=!r,i=void 0;if(N()(a)){var l,s=o?"-":"-"+t+"-";i=Fr(o,t,a.size),d.push(u(D()((l={},K(l,i,a.size||""===a.size),K(l,"order"+s+a.order,a.order||0===a.order),K(l,"offset"+s+a.offset,a.offset||0===a.offset),l))),n)}else i=Fr(o,t,a),d.push(i)}});var f=u(D()(t,!!r&&"sr-only",!!i&&"form-check-label",!!l&&"col-form-label-"+l,d,!!d.length&&"col-form-label"),n);return O.a.createElement(o,V({htmlFor:s},c,{className:f}))};Br.propTypes=Yr,Br.defaultProps=Ar;var Zr={body:P.a.bool,bottom:P.a.bool,children:P.a.node,className:P.a.string,cssModule:P.a.object,heading:P.a.bool,left:P.a.bool,list:P.a.bool,middle:P.a.bool,object:P.a.bool,right:P.a.bool,tag:P.a.oneOfType([P.a.func,P.a.string]),top:P.a.bool};(function(e){var t=e.body,n=e.bottom,r=e.className,a=e.cssModule,o=e.heading,i=e.left,l=e.list,s=e.middle,c=e.object,d=e.right,f=e.tag,p=e.top,m=$(e,["body","bottom","className","cssModule","heading","left","list","middle","object","right","tag","top"]),h=void 0;h=o?"h4":i||d?"a":c?"img":l?"ul":"div";var g=f||h,v=u(D()(r,{"media-body":t,"media-heading":o,"media-left":i,"media-right":d,"media-top":p,"media-bottom":n,"media-middle":s,"media-object":c,"media-list":l,media:!t&&!o&&!i&&!d&&!p&&!n&&!s&&!c&&!l}),a);return O.a.createElement(g,V({},m,{className:v}))}).propTypes=Zr;var Hr={children:P.a.node,className:P.a.string,cssModule:P.a.object,size:P.a.string,tag:P.a.oneOfType([P.a.func,P.a.string])},Xr={tag:"ul"},Jr=function(e){var t=e.className,n=e.cssModule,r=e.size,a=e.tag,o=$(e,["className","cssModule","size","tag"]),i=u(D()(t,"pagination",K({},"pagination-"+r,!!r)),n);return O.a.createElement(a,V({},o,{className:i}))};Jr.propTypes=Hr,Jr.defaultProps=Xr;var Ur={active:P.a.bool,children:P.a.node,className:P.a.string,cssModule:P.a.object,disabled:P.a.bool,tag:P.a.oneOfType([P.a.func,P.a.string])},Qr={tag:"li"},Wr=function(e){var t=e.active,n=e.className,r=e.cssModule,a=e.disabled,o=e.tag,i=$(e,["active","className","cssModule","disabled","tag"]),l=u(D()(n,"page-item",{active:t,disabled:a}),r);return O.a.createElement(o,V({},i,{className:l}))};Wr.propTypes=Ur,Wr.defaultProps=Qr;var Gr={"aria-label":P.a.string,children:P.a.node,className:P.a.string,cssModule:P.a.object,next:P.a.bool,previous:P.a.bool,tag:P.a.oneOfType([P.a.func,P.a.string])},zr={tag:"a"},Kr=function(e){var t=e.className,n=e.cssModule,r=e.next,a=e.previous,o=e.tag,i=$(e,["className","cssModule","next","previous","tag"]),l=u(D()(t,"page-link"),n),s=void 0;a?s="Previous":r&&(s="Next");var c=e["aria-label"]||s,d=void 0;a?d="\xab":r&&(d="\xbb");var f=e.children;return f&&Array.isArray(f)&&0===f.length&&(f=null),(a||r)&&(f=[O.a.createElement("span",{"aria-hidden":"true",key:"caret"},f||d),O.a.createElement("span",{className:"sr-only",key:"sr"},c)]),O.a.createElement(o,V({},i,{className:l,"aria-label":c}),f)};Kr.propTypes=Gr,Kr.defaultProps=zr;var Vr={tag:P.a.oneOfType([P.a.func,P.a.string]),activeTab:P.a.any,className:P.a.string,cssModule:P.a.object},qr={tag:"div"},$r={activeTabId:P.a.any},ea=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={activeTab:n.props.activeTab},n}return q(t,e),z(t,[{key:"getChildContext",value:function(){return{activeTabId:this.state.activeTab}}},{key:"componentWillReceiveProps",value:function(e){this.state.activeTab!==e.activeTab&&this.setState({activeTab:e.activeTab})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,r=e.tag,a=c(this.props,Object.keys(Vr)),o=u(D()("tab-content",t),n);return O.a.createElement(r,V({},a,{className:o}))}}]),t}(x.Component);ea.propTypes=Vr,ea.defaultProps=qr,ea.childContextTypes=$r;var ta={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.string,cssModule:P.a.object,tabId:P.a.any},na={tag:"div"},ra={activeTabId:P.a.any};E.propTypes=ta,E.defaultProps=na,E.contextTypes=ra;var aa={tag:P.a.oneOfType([P.a.func,P.a.string]),fluid:P.a.bool,className:P.a.string,cssModule:P.a.object},oa={tag:"div"},ia=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=e.fluid,o=$(e,["className","cssModule","tag","fluid"]),i=u(D()(t,"jumbotron",!!a&&"jumbotron-fluid"),n);return O.a.createElement(r,V({},o,{className:i}))};ia.propTypes=aa,ia.defaultProps=oa;var la={children:P.a.node,className:P.a.string,closeClassName:P.a.string,closeAriaLabel:P.a.string,cssModule:P.a.object,color:P.a.string,isOpen:P.a.bool,toggle:P.a.func,tag:P.a.oneOfType([P.a.func,P.a.string]),transition:P.a.shape(b.propTypes)},sa={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",transition:V({},b.defaultProps,{unmountOnExit:!0})};w.propTypes=la,w.defaultProps=sa;var ua,ca=V({},yt.propTypes,{isOpen:P.a.bool,children:P.a.oneOfType([P.a.arrayOf(P.a.node),P.a.node]),tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.node,navbar:P.a.bool,cssModule:P.a.object}),da=V({},yt.defaultProps,{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:Z.Collapse}),fa=(ua={},K(ua,X.ENTERING,"collapsing"),K(ua,X.ENTERED,"collapse show"),K(ua,X.EXITING,"collapsing"),K(ua,X.EXITED,"collapse"),ua),pa=function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach(function(e){n[e]=n[e].bind(n)}),n}return q(t,e),z(t,[{key:"onEntering",value:function(e,t){this.setState({height:_(e)}),this.props.onEntering(e,t)}},{key:"onEntered",value:function(e,t){this.setState({height:null}),this.props.onEntered(e,t)}},{key:"onExit",value:function(e){this.setState({height:_(e)}),this.props.onExit(e)}},{key:"onExiting",value:function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)}},{key:"onExited",value:function(e){this.setState({height:null}),this.props.onExited(e)}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.isOpen,r=e.className,a=e.navbar,o=e.cssModule,i=e.children,l=$(e,["tag","isOpen","className","navbar","cssModule","children"]),s=this.state.height,f=d(l,H),p=c(l,H);return O.a.createElement(yt,V({},f,{in:n,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),function(e){var n=S(e),l=u(D()(r,n,a&&"navbar-collapse"),o),c=null===s?null:{height:s};return O.a.createElement(t,V({},p,{style:V({},p.style,c),className:l}),i)})}}]),t}(x.Component);pa.propTypes=ca,pa.defaultProps=da;var ma={tag:P.a.oneOfType([P.a.func,P.a.string]),active:P.a.bool,disabled:P.a.bool,color:P.a.string,action:P.a.bool,className:P.a.any,cssModule:P.a.object},ha={tag:"li"},ga=function(e){e.preventDefault()},va=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=e.active,o=e.disabled,i=e.action,l=e.color,s=$(e,["className","cssModule","tag","active","disabled","action","color"]),c=u(D()(t,!!a&&"active",!!o&&"disabled",!!i&&"list-group-item-action",!!l&&"list-group-item-"+l,"list-group-item"),n);return o&&(s.onClick=ga),O.a.createElement(r,V({},s,{className:c}))};va.propTypes=ma,va.defaultProps=ha;var ba={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.any,cssModule:P.a.object},ya={tag:"h5"},Ea=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"list-group-item-heading"),n);return O.a.createElement(r,V({},a,{className:o}))};Ea.propTypes=ba,Ea.defaultProps=ya;var wa={tag:P.a.oneOfType([P.a.func,P.a.string]),className:P.a.any,cssModule:P.a.object},Sa={tag:"p"},_a=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=$(e,["className","cssModule","tag"]),o=u(D()(t,"list-group-item-text"),n);return O.a.createElement(r,V({},a,{className:o}))};_a.propTypes=wa,_a.defaultProps=Sa;(function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!0},n.toggle=n.toggle.bind(n),n}q(t,e),z(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return O.a.createElement(w,V({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}])})(x.Component),function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n.toggle=n.toggle.bind(n),n}q(t,e),z(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return O.a.createElement(Ke,V({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}])}(x.Component),function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n.toggle=n.toggle.bind(n),n}q(t,e),z(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return O.a.createElement(Re,V({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}])}(x.Component),function(e){function t(e){G(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n.toggle=n.toggle.bind(n),n}q(t,e),z(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return O.a.createElement(tr,V({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}])}(x.Component)},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(82),m=r(p);n(137);var h={isTextMode:d.default.bool.isRequired,isEditIconShow:d.default.bool.isRequired,options:d.default.array.isRequired,currentOption:d.default.string.isRequired,translateOption:d.default.func.isRequired,translateExplanation:d.default.func,onOptionChanged:d.default.func.isRequired,toggleItemFreezed:d.default.func},g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOptions=function(){n.options=[];for(var e=n.props.options,t=0,r=e.length;t<r;t++){var a={};a.value=e[t],e[t].length?a.label=u.default.createElement("div",null,n.props.translateOption(e[t]),n.props.translateExplanation&&u.default.createElement("div",{className:"permission-editor-explanation"},n.props.translateExplanation(e[t]))):a.label=u.default.createElement("div",{style:{minHeight:"1em"}}),n.options.push(a)}n.setState({options:n.options})},n.onEditPermission=function(e){e.nativeEvent.stopImmediatePropagation(),n.setState({isEditing:!0}),n.props.toggleItemFreezed&&n.props.toggleItemFreezed(!0)},n.onOptionChanged=function(e){var t=e.value;t!==n.props.currentOption&&n.props.onOptionChanged(t),n.setState({isEditing:!1}),n.props.toggleItemFreezed&&n.props.toggleItemFreezed(!1)},n.onSelectHandler=function(e){e.nativeEvent.stopImmediatePropagation()},n.onHideSelect=function(){n.setState({isEditing:!1}),n.props.toggleItemFreezed&&n.props.toggleItemFreezed(!1)},n.state={isEditing:!1,options:[]},n.options=[],n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onHideSelect),this.setOptions()}},{key:"componentWillReceiveProps",value:function(){this.setOptions()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onHideSelect)}},{key:"render",value:function(){var e=this.props,t=e.currentOption,n=e.isTextMode;return u.default.createElement("div",{className:"permission-editor",onClick:this.onSelectHandler},(!n||this.state.isEditing)&&u.default.createElement(m.default,{options:this.state.options,className:"permission-editor-select",classNamePrefix:"permission-editor",placeholder:this.props.translateOption(t),onChange:this.onOptionChanged,captureMenuScroll:!1}),n&&!this.state.isEditing&&u.default.createElement("div",null,this.props.translateOption(t),this.props.isEditIconShow&&u.default.createElement("span",{title:(0,f.gettext)("Edit"),className:"fa fa-pencil-alt attr-action-icon",onClick:this.onEditPermission})))}}]),t}(u.default.Component);g.propTypes=h,t.default=g},,,,function(e,t,n){"use strict";var r=n(132),a=n(504),o=n(505),i=n(294),l=n(293),s=n(506),u=n(213),c=n(507);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return a.a}),n.d(t,"c",function(){return o.a}),n.d(t,"d",function(){return i.a}),n.d(t,"e",function(){return l.a}),n.d(t,"f",function(){return s.a}),n.d(t,"g",function(){return u.a}),n.d(t,"h",function(){return c.a})},function(e,t,n){"use strict";var r=n(543),a=n(545),o=n(298),i=n(546),l=n(299);n.d(t,"a",function(){return r.a}),n.d(t,"e",function(){return a.a}),n.d(t,"b",function(){return o.a}),n.d(t,"c",function(){return i.a}),n.d(t,"d",function(){return l.a})},,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(2);n(732);var m={currentPage:d.default.number.isRequired,gotoPreviousPage:d.default.func.isRequired,gotoNextPage:d.default.func.isRequired,hasNextPage:d.default.bool.isRequired,resetPerPage:d.default.func.isRequired,curPerPage:d.default.number.isRequired},h=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.resetPerPage=function(e){var t=parseInt(e.target.value);r.updateURL(1,t),r.props.resetPerPage(t)},r.goToPrevious=function(){var e=r.props,t=e.currentPage,n=e.curPerPage;r.updateURL(t-1,n),r.props.gotoPreviousPage()},r.goToNext=function(){var e=r.props,t=e.currentPage,n=e.curPerPage;r.updateURL(t+1,n),r.props.gotoNextPage()},r.updateURL=function(e,t){var n=new URL(location.href),r=new URLSearchParams(n.search);r.set("page",e),r.set("per_page",t),n.search=r.toString(),(0,f.navigate)(n.toString())},r.getPerPageText=function(e){return(0,p.gettext)("{number_placeholder} / Page").replace("{number_placeholder}",e)},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.curPerPage,n=e.currentPage;return u.default.createElement("div",{className:"my-6 paginator d-flex align-items-center justify-content-center"},u.default.createElement("button",{className:"btn btn-secondary",disabled:1==n,onClick:this.goToPrevious},u.default.createElement("span",{className:"fas fa-chevron-left"})),u.default.createElement("span",{className:"btn btn-primary mx-4"},n),u.default.createElement("button",{className:"btn btn-secondary",disabled:!this.props.hasNextPage,onClick:this.goToNext},u.default.createElement("span",{className:"fas fa-chevron-right"})),u.default.createElement("select",{className:"form-control d-inline-block w-auto ml-6",value:t,onChange:this.resetPerPage},u.default.createElement("option",{value:"25"},this.getPerPageText(25)),u.default.createElement("option",{value:"50"},this.getPerPageText(50)),u.default.createElement("option",{value:"100"},this.getPerPageText(100))))}}]),t}(s.Component);h.propTypes=m,t.default=h},,,function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(2),m={email:d.default.string.isRequired,name:d.default.string.isRequired},h=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Link,{to:p.siteRoot+"sys/users/"+encodeURIComponent(this.props.email)+"/"},this.props.name)}}]),t}(s.Component);h.propTypes=m,t.default=h},,,function(e,t,n){"use strict";function r(e){var t=void 0,n=void 0,r=void 0,a=void 0,i=!1;try{t=(0,o.default)(),n=document.createRange(),r=document.getSelection(),a=document.createElement("a"),a.textContent=e,document.body.appendChild(a),n.selectNode(a),r.addRange(n);document.execCommand("copy");i=!0}catch(e){}finally{r&&("function"==typeof r.removeRange?r.removeRange(n):r.removeAllRanges()),a&&document.body.removeChild(a),t()}return i}Object.defineProperty(t,"__esModule",{value:!0});var a=n(203),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){E()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){m=e}function i(){return m}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_=a({},_,{},e)}function s(){return _}function u(e){p=e}function c(){return p}function d(e){return function(t){return new Promise(function(n){var r=f();e.getInitialProps?e.getInitialProps(t).then(function(e){n(a({},e,{},r))}):n(r)})}}function f(){var e=c(),t=e.reportNamespaces?e.reportNamespaces.getUsedNamespaces():[],n={},r={};return e.languages.forEach(function(n){r[n]={},t.forEach(function(t){r[n][t]=e.getResourceBundle(n,t)||{}})}),n.initialI18nStore=r,n.initialLanguage=e.language,n}n.d(t,"a",function(){return x}),t.k=o,t.e=i,t.i=l,t.d=s,n.d(t,"b",function(){return O}),t.j=u,t.f=c,n.d(t,"h",function(){return C}),t.c=d,t.g=f;var p,m,h=n(523),g=n.n(h),v=n(524),b=n.n(v),y=n(133),E=n.n(y),w=n(0),S=n.n(w),_={bindI18n:"languageChanging languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},x=S.a.createContext(),O=function(){function e(){g()(this,e),this.usedNamespaces={}}return b()(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach(function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}(),C={type:"3rdParty",init:function(e){l(e.options.react),u(e)}}},function(e,t,n){"use strict";var r=n(533),a=new r.a;t.a=a},function(e,t,n){"use strict";function r(e){var t=g()();return t.locale(e.locale()).utcOffset(e.utcOffset()),t}function a(e){return e.format("LL")}function o(e){return a(r(e))}function i(e){var t=e.locale();return e.localeData()["zh-cn"===t?"months":"monthsShort"](e)}function l(e,t){g.a.isMoment(e)&&g.a.isMoment(t)&&(t.hour(e.hour()),t.minute(e.minute()),t.second(e.second()),t.millisecond(e.millisecond()))}function s(e,t){var n=t?t(e):{};return n=m()({},v,n)}function u(e,t){var n=!1;if(e){var r=e.hour(),a=e.minute(),o=e.second();if(-1===t.disabledHours().indexOf(r)){if(-1===t.disabledMinutes(r).indexOf(a)){n=-1!==t.disabledSeconds(r,a).indexOf(o)}else n=!0}else n=!0}return!n}function c(e,t){return u(e,s(e,t))}function d(e,t,n){return(!t||!t(e))&&!(n&&!c(e,n))}function f(e,t){return e?(Array.isArray(t)&&(t=t[0]),e.format(t)):""}t.e=r,t.d=a,t.f=o,t.b=i,t.h=l,t.c=s,t.g=d,t.a=f;var p=n(146),m=n.n(p),h=n(7),g=n.n(h),v={disabledHours:function(){return[]},disabledMinutes:function(){return[]},disabledSeconds:function(){return[]}}},,,,,,,,,function(e,t){},,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m={title:d.default.string.isRequired,message:d.default.string.isRequired,confirmBtnText:d.default.string,executeOperation:d.default.func.isRequired,toggleDialog:d.default.func.isRequired},h=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.toggle=function(){r.props.toggleDialog()},r.executeOperation=function(){r.toggle(),r.props.executeOperation()},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.message,r=e.confirmBtnText;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},t),u.default.createElement(f.ModalBody,null,u.default.createElement("p",{dangerouslySetInnerHTML:{__html:n}})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.executeOperation},r||(0,p.gettext)("Confirm"))))}}]),t}(s.Component);h.propTypes=m,t.default=h},,,,function(e,t,n){"use strict";function r(e,t,n){var r=t.document;if(!n){if(!t.selection.start.key)return null;n=t.startBlock}var a=r.getParent(n.key);return a&&a.type===e.typeItem?a:null}t.a=r},function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n},function(e,t,n){"use strict";var r=n(560),a=n(569),o=n(570),i=n(571),l=n(572),s=n(573),u=n(311),c=n(313),d=n(314),f=n(219),p=n(312),m=n(574);n.d(t,"d",function(){return r.a}),n.d(t,"c",function(){return a.a}),n.d(t,"i",function(){return o.a}),n.d(t,"j",function(){return u.a}),n.d(t,"b",function(){return i.a}),n.d(t,"g",function(){return l.a}),n.d(t,"h",function(){return c.a}),n.d(t,"k",function(){return s.a}),n.d(t,"l",function(){return d.a}),n.d(t,"a",function(){return f.a}),n.d(t,"e",function(){return p.a}),n.d(t,"f",function(){return m.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),t&&(this.tableBlock=t.tableBlock,this.rowBlock=t.rowBlock,this.cellBlock=t.cellBlock,this.contentBlock=t.contentBlock)}return a(e,[{key:"isInCell",value:function(){return Boolean(this.cellBlock)}},{key:"isInRow",value:function(){return Boolean(this.rowBlock)}},{key:"isInTable",value:function(){return Boolean(this.tableBlock)}},{key:"isTopOfCell",value:function(){var e=this.contentBlock,t=this.cellBlock;return!(!e||!t)&&0==t.nodes.findIndex(function(t){return t.key==e.key})}},{key:"isBottomOfCell",value:function(){var e=this.contentBlock,t=this.cellBlock;if(!e||!t)return!1;var n=t.nodes;return n.findIndex(function(t){return t.key==e.key})==n.size-1}},{key:"getWidth",value:function(){return this.table.nodes.get(0).nodes.size}},{key:"getHeight",value:function(){return this.table.nodes.size}},{key:"getRowIndex",value:function(){var e=this.table,t=this.row;return e.nodes.findIndex(function(e){return e===t})}},{key:"getColumnIndex",value:function(){var e=this.row,t=this.cell;return e.nodes.findIndex(function(e){return e===t})}},{key:"isFirstCell",value:function(){return this.isFirstRow()&&this.isFirstColumn()}},{key:"isLastCell",value:function(){return this.isLastRow()&&this.isLastColumn()}},{key:"isFirstRow",value:function(){return 0===this.getRowIndex()}},{key:"isLastRow",value:function(){return this.getRowIndex()===this.getHeight()-1}},{key:"isFirstColumn",value:function(){return 0===this.getColumnIndex()}},{key:"isLastColumn",value:function(){return this.getColumnIndex()===this.getWidth()-1}},{key:"table",get:function(){if(!this.tableBlock)throw new Error("Not in a table");return this.tableBlock}},{key:"row",get:function(){if(!this.rowBlock)throw new Error("Not in a row");return this.rowBlock}},{key:"cell",get:function(){if(!this.cellBlock)throw new Error("Not in a cell");return this.cellBlock}}],[{key:"create",value:function(t,n,r){var a=n.getDescendant(r),o=n.getAncestors(r).push(a),i=o.findLast(function(e){return e.type===t.typeTable}),l=o.findLast(function(e){return e.type===t.typeRow}),s=o.findLast(function(e){return e.type===t.typeCell}),u=o.skipUntil(function(e){return e===s}).skip(1).first();return new e({tableBlock:i,rowBlock:l,cellBlock:s,contentBlock:u})}}]),e}();t.a=o},,function(e,t){},function(e,t,n){"use strict";function r(){var e=window.app.config?window.app.config.lang:"zh-CH",t=void 0;switch(e){case"zh-CH":t=a;break;case"zh-tw":t=o;break;case"en":t=i;break;case"fr":t=l;break;case"de":t=s;break;case"es":case"es-ar":case"es-mx":t=u;break;case"pl":t=c;break;case"cs":t=d;break;default:t=a}return t}Object.defineProperty(t,"__esModule",{value:!0});var a=n(265),o=n(266),i=n(267),l=n(268),s=n(269),u=n(270),c=n(271),d=n(272);t.translateCalendar=r},function(e,t){},,,,,,,,function(e,t){},,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p={onCloseSidePanel:d.default.func,showCloseSidePanelIcon:d.default.bool},m=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.closeSide=function(){r.props.onCloseSidePanel()},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"top-logo"},u.default.createElement("a",{href:f.siteRoot,id:"logo"},u.default.createElement("img",{src:f.mediaUrl+f.logoPath,height:f.logoHeight,width:f.logoWidth,title:f.siteTitle,alt:"logo"})),this.props.showCloseSidePanelIcon&&u.default.createElement("a",{className:"sf2-icon-x1 sf-popover-close side-panel-close action-icon d-md-none",onClick:this.closeSide,title:"Close","aria-label":"Close"}))}}]),t}(u.default.Component);m.propTypes=p,t.default=m},function(e,t){},,,,,,,,,function(e,t,n){"use strict";var r=n(503),a=n(508),o=n(509),i=n(510),l=n(511);n.d(t,"e",function(){return r.a}),n.d(t,"d",function(){return a.a}),n.d(t,"c",function(){return o.a}),n.d(t,"b",function(){return i.a}),n.d(t,"a",function(){return l.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"b",function(){return p}),n.d(t,"a",function(){return f});var i=n(0),l=n.n(i),s=n(32),u=n(532),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.startMove=function(e){e.stopPropagation(),n.setState({isResizing:!0}),window.addEventListener("mousemove",n.handleMove),window.addEventListener("mouseup",n.stopMove)},n.stopMove=function(){window.removeEventListener("mousemove",n.handleMove);var e=n.props.node;n.setState({isResizing:!1}),n.props.adjustImageSize(e.key,n.state.width,n.state.height,e.data.get("src"),e.data.get("title"),e.data.get("alt")),window.removeEventListener("mouseup",n.stopMove)},n.handleMove=function(e){var t=void 0;t=e.clientX-n.refs.resizer.getBoundingClientRect().left-5;var r=n.refs.image.width+t;r>=n.editor.offsetWidth||r<20||n.setState({width:r})},n.setFullScreen=function(e){e.stopPropagation();var t=n.props.node.get("data").get("src");n.props.toggleBigImage(e,t)},n.state={width:null,height:null,isResizing:!1},n.editor=null,n}return o(t,e),c(t,[{key:"componentDidMount",value:function(){this.editor=document.querySelector(".editor-component")}},{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.node,r=e.isSelected,a=n.data,o=a.get("src");if(/^\.\.\/*/.test(o)||/^\.\/*/.test(o)){var i=this.props.editorUtilities,s=i.filePath,c=i.serviceUrl,d=i.repoID,f=s.slice(0,s.lastIndexOf("/"))+"/"+o;o=c+"/lib/"+d+"/file/"+u.a.pathNormalize(f)+"?raw=1"}var p=l.a.createElement("span",{className:"seafile-ed-image"},r?l.a.createElement(l.a.Fragment,null,l.a.createElement("img",Object.assign({className:"seafile-ed-image-inResizing",draggable:!1,src:o},t,{width:this.state.width||a.get("width"),alt:n.data.get(""),ref:"image"})),this.state.isResizing?l.a.createElement("span",{contentEditable:!1,className:"image-size"},l.a.createElement("span",null,this.props.t("width"),":",parseInt(this.state.width||this.refs.image.clientWidth)),l.a.createElement("span",null,"\xa0\xa0"),l.a.createElement("span",null,this.props.t("height"),":",this.refs.image.clientHeight)):null,l.a.createElement("span",{ref:"resizer",onMouseDown:this.startMove,className:"image-resizer"}),r&&l.a.createElement("span",{contentEditable:!1,onClick:this.setFullScreen,className:"image-full-button"},l.a.createElement("i",{className:"ico ico-full-button"}),l.a.createElement("span",{className:"image-tooltip"},this.props.t("Full_screen")))):l.a.createElement("img",Object.assign({width:a.get("width")||"",draggable:!1,src:o},t,{alt:n.data.get(""),ref:"image"})));return o?p:l.a.createElement("span",t,"Loading...")}}]),t}(l.a.Component),f=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),c(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"big-image-cover",onClick:function(t){return e.props.toggleBigImage(t)}},l.a.createElement("div",{className:"big-image-container"},l.a.createElement("img",{src:this.props.bigImageSrc,alt:""})),l.a.createElement("div",{onClick:function(t){return e.props.toggleBigImage(t)},className:"image-container-close"},l.a.createElement("i",{className:"fa fa-times"})))}}]),t}(l.a.Component),p=Object(s.withTranslation)("seafile-editor")(d)},function(e,t,n){"use strict";function r(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&s[t[0]]||("string"===typeof t[0]&&(s[t[0]]=new Date),r.apply(void 0,t))}function o(e,t,n){e.loadNamespaces(t,function(){if(e.isInitialized)n();else{var t=function t(){setTimeout(function(){e.off("initialized",t)},0),n()};e.on("initialized",t)}})}function i(e,t){if(!t.languages||!t.languages.length)return a("i18n.languages were undefined or empty",t.languages),!0;var n=t.languages[0],r=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===n.toLowerCase())return!0;var i=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!!t.hasResourceBundle(n,e)||(!t.services.backendConnector.backend||!(!i(n,e)||r&&!i(o,e)))}function l(e){return e.displayName||e.name||("string"===typeof e&&e.length>0?e:"Unknown")}t.d=r,t.e=a,t.c=o,t.b=i,t.a=l;var s={}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(3),h={onFreezedItem:d.default.func.isRequired,onUnfreezedItem:d.default.func.isRequired,onMenuItemClick:d.default.func.isRequired,operations:d.default.array.isRequired,translateOperations:d.default.func.isRequired},g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMenuItemClick=function(e){var t=m.Utils.getEventData(e,"op");n.props.onMenuItemClick(t)},n.onDropdownToggleClick=function(e){n.toggleOperationMenu(e)},n.toggleOperationMenu=function(e){n.setState({isItemMenuShow:!n.state.isItemMenuShow},function(){n.state.isItemMenuShow?n.props.onFreezedItem():n.props.onUnfreezedItem()})},n.state={isItemMenuShow:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.operations,r=t.translateOperations;return u.default.createElement(f.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},u.default.createElement(f.DropdownToggle,{tag:"i",className:"d-flex w-5 h-5 align-items-center justify-content-center sf-dropdown-toggle fa fa-ellipsis-v",title:(0,p.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow}),u.default.createElement(f.DropdownMenu,{className:"my-1 mr-2"},n.map(function(t,n){return u.default.createElement(f.DropdownItem,{key:n,"data-op":t,onClick:e.onMenuItemClick},r(t))})))}}]),t}(u.default.Component);g.propTypes=h,t.default=g},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(12),a=n(292),o=(Object(a.a)(),{inlines:{image:{isVoid:!0},link:{text:/./}},blocks:{html_block:{isVoid:!0},blockquote:{nodes:[{match:[{type:"paragraph"},{type:"ordered_list"},{type:"unordered_list"},{type:"code_block"},{type:"table"}]}],normalize:function(e,t){if("child_type_invalid"===t.code&&("blockquote"===t.child.type&&e.unwrapBlockByKey(t.child.key,"blockquote"),"block"!==t.child.object)){var n=Object.assign({},t);e.replaceNodeByKey(t.child.key,r.Block.create({type:"paragraph",nodes:n.node.nodes}))}}},list_item:{nodes:[{match:[{type:"paragraph"},{type:"ordered_list"},{type:"unordered_list"},{type:"code_block"},{type:"table"},{type:"blockquote"}]}],normalize:function(e,t){if("child_type_invalid"===t.code){var n=Object.assign({},t);e.replaceNodeByKey(t.child.key,r.Block.create({type:"paragraph",nodes:n.node.nodes}))}return e}},ordered_list:{previous:[{type:"paragraph"},{type:"code_block"},{type:"table"},{type:"unordered_list"},{type:"header_one"},{type:"header_two"},{type:"header_three"},{type:"header_four"},{type:"header_five"},{type:"header_six"},{type:"blockquote"},{type:"card_void"}],normalize:function(e,t){return"next_sibling_type_invalid"===t.code?e.mergeNodeByKey(t.next.key):"previous_sibling_type_invalid"===t.code&&e.mergeNodeByKey(t.previous.key),e},next:[{type:"paragraph"},{type:"code_block"},{type:"table"},{type:"unordered_list"},{type:"header_one"},{type:"header_two"},{type:"header_three"},{type:"header_four"},{type:"header_five"},{type:"header_six"},{type:"blockquote"},{type:"card_void"}]},unordered_list:{previous:[{type:"paragraph"},{type:"code_block"},{type:"table"},{type:"ordered_list"},{type:"header_one"},{type:"header_two"},{type:"header_three"},{type:"header_four"},{type:"header_five"},{type:"header_six"},{type:"blockquote"},{type:"card_void"}],normalize:function(e,t,n){return"next_sibling_type_invalid"===t.code?e.mergeNodeByKey(t.next.key):"previous_sibling_type_invalid"===t.code&&e.mergeNodeByKey(t.previous.key),e},next:[{type:"paragraph"},{type:"code_block"},{type:"table"},{type:"ordered_list"},{type:"header_one"},{type:"header_two"},{type:"header_three"},{type:"header_four"},{type:"header_five"},{type:"header_six"},{type:"blockquote"},{type:"card"}]},hr:{isVoid:!0},card_void:{isVoid:!0}}});t.a=o},function(e,t,n){"use strict";function r(e,t){return e.types.includes(t.type)}t.a=r},function(e,t,n){function r(e,t){if(null==e)return{};var n,r,o=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a=n(516);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){u()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){function t(){return{t:p.getFixedT(null,"fallback"===h.nsMode?b:b[0])}}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.i18n,o=Object(c.useContext)(d.a),i=Object(d.e)()?o||{}:{},s=i.i18n,u=i.defaultNS,p=r||s||Object(d.f)();if(p&&!p.reportNamespaces&&(p.reportNamespaces=new d.b),!p){Object(f.e)("You will need pass in an i18next instance by using initReactI18next");var m=[function(e){return e},{},!1];return m.t=function(e){return e},m.i18n={},m.ready=!1,m}var h=a({},Object(d.d)(),{},p.options.react),g=n.useSuspense,v=void 0===g?h.useSuspense:g,b=e||u||p.options&&p.options.defaultNS;b="string"===typeof b?[b]:b||["translation"],p.reportNamespaces.addUsedNamespaces&&p.reportNamespaces.addUsedNamespaces(b);var y=(p.isInitialized||p.initializedStoreOnce)&&b.every(function(e){return Object(f.b)(e,p)}),E=Object(c.useState)(t()),w=l()(E,2),S=w[0],_=w[1];Object(c.useEffect)(function(){function e(){n&&_(t())}var n=!0,r=h.bindI18n,a=h.bindI18nStore;return y||v||Object(f.c)(p,b,function(){n&&_(t())}),r&&p&&p.on(r,e),a&&p&&p.store.on(a,e),function(){n=!1,r&&p&&r.split(" ").forEach(function(t){return p.off(t,e)}),a&&p&&a.split(" ").forEach(function(t){return p.store.off(t,e)})}},[b.join()]);var x=[S.t,p,y];if(x.t=S.t,x.i18n=p,x.ready=y,y)return x;if(!y&&!v)return x;throw new Promise(function(e){Object(f.c)(p,b,function(){_(t()),e()})})}t.a=o;var i=n(216),l=n.n(i),s=n(133),u=n.n(s),c=n(0),d=(n.n(c),n(103)),f=n(170)},function(e,t,n){function r(e,t){return a(e)||o(e,t)||i()}var a=n(525),o=n(526),i=n(527);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"e",function(){return k}),n.d(t,"d",function(){return D}),n.d(t,"c",function(){return P}),n.d(t,"b",function(){return w}),n.d(t,"a",function(){return M});var a=n(0),o=n.n(a),i=n(820),l=n(538),s=n(539),u=n(169),c=n(12),d=n(297),f=n(557),p=n(292),m=n(577),h=n(579),g=n(587),v=n(602),b=n(608),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=Object(d.a)(),w=Object(f.a)(),S=Object(h.a)(),_=Object(p.a)({types:["ordered_list","unordered_list"]}),x=Object(m.a)({type:"paragraph"}),O=Object(g.a)({extensions:["png","gif","jpg"],insertImage:function(e,t,n){var r=c.Inline.create({type:"image",isVoid:!0,data:{file:t}});e.richEditor.props.editorUtilities.uploadLocalImage(t).then(function(t){e.setNodeByKey(r.key,{data:{src:t}})});var a=e.value.selection;return 0===a.anchor.offset&&0===a.focus.offset&&!1===a.isCollapsed?(e.moveToAnchor(),e.insertInline(r)):e.insertInlineAtRange(a,r),n()}}),C=new v.a({editCode:E,editTable:w,editBlockquote:S,editList:_}),P=[O,C,w,_,E,S,x],k=function(e){var t=e.attributes,n=e.children,r=e.node,a=e.isSelected,c=r.get("data"),d=c.get("diff_state"),f=c.get("href");switch(r.type){case"paragraph":return o.a.createElement("p",t,n);case"blockquote":return o.a.createElement("blockquote",t,n);case"header_one":return o.a.createElement("h1",t,n);case"header_two":return o.a.createElement("h2",t,n);case"header_three":return o.a.createElement("h3",t,n);case"header_four":return o.a.createElement("h4",t,n);case"header_five":return o.a.createElement("h5",t,n);case"header_six":return o.a.createElement("h6",t,n);case"list_item":return void 0===r.get("data").get("checked")?o.a.createElement("li",t,n):o.a.createElement(i.a,e);case"unordered_list":return o.a.createElement("ul",t,n);case"ordered_list":return o.a.createElement("ol",t,n);case"image":return o.a.createElement(u.b,Object.assign({toggleBigImage:this.toggleBigImage},e,{adjustImageSize:this.adjustImageSize,editorUtilities:this.props.editorUtilities}));case"code_block":return o.a.createElement(l.a,e);case"code_line":return o.a.createElement("p",t,n);case"table":return o.a.createElement(s.a,Object.assign({editor:this.editor,richEditor:this,editTable:w},e));case"table_row":return o.a.createElement("tr",t,n);case"table_cell":var p=r.get("data").get("align");return p=-1===["left","right","center"].indexOf(p)?"left":p,o.a.createElement("td",Object.assign({style:{textAlign:p}},t),n);case"link":if(this.props.readOnly)return o.a.createElement("a",Object.assign({className:d||""},t,{href:f}),n);var m=a?"seafile-ed-hovermenu-mouseclick":null;return o.a.createElement("span",Object.assign({},t,{className:"virtual-link "+m}),n);case"hr":var m=a?"active":null;return o.a.createElement("hr",Object.assign({},t,{className:m}));case"card_void":if("document_header"===r.get("data").get("card_type"))return o.a.createElement(b.a,Object.assign({editorUtilities:this.props.editorUtilities},e));break;case"html_block":var h=r.get("data").get("html"),m=a?"html-element active":"html-element";return"block"==r.object?o.a.createElement("div",Object.assign({className:m},t),h):o.a.createElement("span",Object.assign({className:m},t),h);default:return o.a.createElement("p",t,n)}},D=function(e){var t=e.children,n=e.mark;switch(n.type){case"BOLD":return o.a.createElement("strong",null,t);case"CODE":return o.a.createElement("code",null,t);case"ITALIC":return o.a.createElement("em",null,t);case"code-highlight":var r=n.data.get("className");return o.a.createElement("span",{className:r},t)}},M=function(){function e(){r(this,e)}return y(e,[{key:"setSelectedCells",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectedCells.key,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.selectedCells.row.min,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.selectedCells.col.min,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.selectedCells.row.max,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.selectedCells.col.max;this.selectedCells={key:t,hasRendered:e,row:{max:a,min:n},col:{min:r,max:o}}}},{key:"focusEditor",value:function(){this.onChange(this.editor.focus())}},{key:"resetSelectedCells",value:function(){this.selectedCells={key:null,hasRendered:!0,row:{max:-1,min:-1},col:{min:-1,max:-1}}}},{key:"toggleMark",value:function(e){var t=this;this.editor.toggleMark(e);var n=this.editor.value,r=n.marks;if("CODE"===e)r.forEach(function(e){"CODE"!==e.type&&t.editor.removeMarkAtRange(n.selection,e)});else if(this.hasMark("CODE",r)){var a=n.startText,o=0;a.leaves.forEach(function(n){if(t.hasMark("CODE",n.marks)){var r=Range.create({anchor:{key:a.key,offset:o},focus:{key:a.key,offset:o+n.text.length}});t.editor.removeMarkAtRange(r,e)}o+=n.text.length})}}},{key:"hasMark",value:function(e,t){return t.some(function(t){return t.type===e})}},{key:"isInTable",value:function(){return w.utils.isSelectionInTable(this.editor.value)}},{key:"isInCode",value:function(){return E.utils.isInCodeBlock(this.editor.value)}},{key:"hasBlock",value:function(e){return this.editor.value.blocks.some(function(t){return t.type===e})}},{key:"toggleImageDialog",value:function(){this.setState({showAddImageDialog:!this.state.showAddImageDialog})}},{key:"clickMark",value:function(e,t){e.preventDefault(),this.toggleMark(t)}},{key:"onClickBlock",value:function(e,t){e.preventDefault();var n=this.editor,r=n.value;if("block-quote"===t){S.utils.isSelectionInBlockquote(r)?S.changes.unwrapBlockquote(n):S.changes.wrapInBlockquote(n)}else if("ordered_list"===t||"unordered_list"===t){var a=_.utils.getCurrentList(r),o=a&&a.type==t;o?_.changes.unwrapList(n):_.changes.wrapInList(_.changes.unwrapList(n),t)}else{var i=this.hasBlock(t);n.setBlocks(i?"paragraph":t),n.focus()}return n}},{key:"onAddCheckItem",value:function(e){e.preventDefault();var t=this.editor.value,n=_.utils.getCurrentItem(t);if(null!==n)return void 0===n.get("data").get("checked")?this.editor.setNodeByKey(n.key,{data:{checked:!1}}):this.editor.setNodeByKey(n.key,{data:{}}),this.editor;_.changes.wrapInList(this.editor,"unordered_list"),n=_.utils.getCurrentItem(this.editor.value),this.editor.setNodeByKey(n.key,{data:{checked:!1}})}},{key:"hasSelectImage",value:function(e){var t=e.inlines.toJSON()[0];return!(!t||"image"!==t.type)}},{key:"getButtonState",value:function(e){var t=e.activeMarks,n={isTableActive:w.utils.isSelectionInTable(e),isCodeActive:E.utils.isInCodeBlock(e),headerType:"paragraph",isLinkActive:this.hasLinks(e),isBoldActive:this.hasMark("BOLD",t),isItalicActive:this.hasMark("ITALIC",t),isInlineCodeActive:this.hasMark("CODE",t),isImageActive:this.hasSelectImage(e),isBlockquoteActive:S.utils.isSelectionInBlockquote(e),isOrderedListActive:!1,isUnorderedListActive:!1,isSaveActive:this.state.contentChanged,isCheckListActive:!1,isSaving:this.state.isSaving,isShowAddImageDialog:this.state.showAddImageDialog,isShowAddLinkDialog:this.state.showAddLinkDialog};if(n.headerType=e.focusBlock?e.focusBlock.type:"paragraph",n.headerType=this.headerList.includes(n.headerType)?n.headerType:"paragraph",_.utils.isSelectionInList(e)){var r=_.utils.getCurrentList(e).type;"unordered_list"===r?_.utils.getCurrentItem(e).data.has("checked")?n.isCheckListActive=!0:n.isUnorderedListActive=!0:"ordered_list"===r&&(n.isOrderedListActive=!0)}return n}},{key:"onToggleLink",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.editor.value;this.hasLinks(t)?this.editor.unwrapInline("link"):this.toggleLinkDialog()}},{key:"hasLinks",value:function(e){return e.inlines.some(function(e){return"link"===e.type})}},{key:"onSetLink",value:function(e){var t=this;if(this.editor.value.selection.isExpanded)this.editor.call(function(e){t.editor.wrapInline({type:"link",data:{href:e}}),t.editor.collapseToEnd()},e);else{var n=c.Inline.create({data:{href:e},type:"link",nodes:[c.Text.create({text:e})]});this.editor.insertInline(n),this.editor.moveToEnd()}}},{key:"addLink",value:function(e,t){this.editor.value.selection.isExpanded&&this.editor.delete();var n=c.Inline.create({data:{href:t},type:"link",nodes:[c.Text.create({text:e})]});this.editor.insertInline(n),this.onChange(this.editor)}},{key:"changeLink",value:function(e,t,n){this.editor.replaceNodeByKey(n,c.Inline.create({data:{href:t},object:"inline",type:"link",nodes:[c.Text.create(e)]})),this.onChange(this.editor)}},{key:"getSelectionText",value:function(){var e=this.editor.value;if(e.selection.isExpanded){var t=e.selection;if(1===e.texts.size)return t.isForward?e.anchorText.text.slice(t.anchor.offset,t.focus.offset):e.anchorText.text.slice(t.focus.offset,t.anchor.offset);for(var n="",r=0;r<e.texts.size-1;r++)n+=e.texts._tail.array[r].getText(this);return n=t.isForward?n.slice(t.anchor.offset)+e.texts._tail.array[e.texts.size-1].getText(this).slice(0,t.focus.offset):n.slice(t.focus.offset)+e.texts._tail.array[e.texts.size-1].getText(this).slice(0,t.anchor.offset)}return""}},{key:"getCurrentLinkNode",value:function(){var e=this.editor.value.inlines;if(e&&e.get(0)&&"link"===e.get(0).type){return{text:e.get(0).text,link:e.get(0).get("data").get("href"),key:e.get(0).key}}return null}},{key:"onToggleCode",value:function(e){e.preventDefault();var t=this.editor.value;if(E.utils.isInCodeBlock(t))return E.changes.unwrapCodeBlock(this.editor),this.editor;var n=t.texts;if(n.size<=1)return E.changes.wrapCodeBlock(this.editor),this.editor;var r="";return n.forEach(function(e,t){if(t===n.size-1)return void(r+=e.text);r+=e.text+"\n"}),this.editor.insertBlock(E.utils.deserializeCode(r)),this.editor}},{key:"onAddTable",value:function(e){e.preventDefault();var t=this.editor,n=t.value;w.utils.isSelectionInTable(n)?(w.changes.removeTable(t),this.onChange(this.editor)):(w.changes.insertTable(t,2,2),w.changes.moveSelection(t,0,0),n.selection.start.key&&C.resetTableAlign(t,"insertNewTable"),this.onChange(this.editor))}},{key:"onInsertColumn",value:function(e){e.preventDefault();var t=w.changes.insertColumn(this.editor);C.resetTableAlign(t,"insertColumn"),this.onChange(this.editor)}},{key:"onInsertRow",value:function(e){e.preventDefault(),this.onChange(w.changes.insertRow(this.editor))}},{key:"onRemoveColumn",value:function(e){e.preventDefault(),C.resetTableAlign(this.editor,"removeColumn"),w.changes.removeColumn(this.editor),this.onChange(this.editor)}},{key:"onRemoveRow",value:function(e){e.preventDefault(),this.onChange(w.changes.removeRow(this.editor))}},{key:"onRemoveTable",value:function(e){e.preventDefault(),this.onChange(w.changes.removeTable(this.editor))}},{key:"onSetAlign",value:function(e,t){e.preventDefault(),C.setColumnAlign(this.editor,t),this.onChange(this.editor)}},{key:"onInsertImage",value:function(e){this.editor.insertInlineAtRange(this.editor.value.selection,{type:"image",isVoid:!0,data:{src:e}}),this.onChange(this.editor)}},{key:"adjustImageSize",value:function(e,t,n,r,a,o){var i={};i.src=r,i.height=""+n,i.width=""+t,a&&(i.title=a),o&&(i.alt=o);var l=c.Inline.create({type:"image",data:i});this.editor.replaceNodeByKey(e,l),this.onChange(this.editor)}},{key:"onContext",value:function(e,t,n){if(e.preventDefault(),t.value.selection.isExpanded)return n();w.utils.isSelectionInTable(this.editor.value)&&this.setState({hasContextMenu:!0})}},{key:"toggleLinkDialog",value:function(){this.setState({showAddLinkDialog:!this.state.showAddLinkDialog})}},{key:"toggleBigImage",value:function(e,t){e.stopPropagation(),t?(this.setState({isShowBigImage:!0}),this.bigImageSrc=t):(this.setState({isShowBigImage:!1}),this.bigImageSrc="")}},{key:"onRightMenuChange",value:function(e){this.hasContextMenuShowed=e}}]),e}()},function(e,t,n){"use strict";function r(e,t,n){!t||"byKey"in t||(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(e){return i(e,t)}),a=function(e){return r.some(function(t){return l(t,e)})};return null==n?a:a(n)}function a(e,t){return r(e,t)}function o(e,t){return r(e,{byKey:!0},t)}function i(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var a=e.split("+"),o=a.length;for(var i in d)r[d[i]]=!1;var l=!0,c=!1,f=void 0;try{for(var p,m=a[Symbol.iterator]();!(l=(p=m.next()).done);l=!0){var h=p.value,g=h.endsWith("?")&&h.length>1;g&&(h=h.slice(0,-1));var v=u(h),b=d[v];1!==o&&b||(n?r.key=v:r.which=s(h)),b&&(r[b]=!g||null)}}catch(e){c=!0,f=e}finally{try{!l&&m.return&&m.return()}finally{if(c)throw f}}return r}function l(e,t){for(var n in e){var r=e[n],a=void 0;if(null!=r&&((null!=(a="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&a!==r))return!1}return!0}function s(e){return e=u(e),p[e]||e.toUpperCase().charCodeAt(0)}function u(e){return e=e.toLowerCase(),e=f[e]||e}Object.defineProperty(t,"__esModule",{value:!0});for(var c="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),d={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},f={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:c?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},p={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},m=1;m<20;m++)p["f"+m]=111+m;t.default=r,t.isHotkey=r,t.isCodeHotkey=a,t.isKeyHotkey=o,t.parseHotkey=i,t.compareHotkey=l,t.toKeyCode=s,t.toKeyName=u},function(e,t,n){"use strict";function r(e,t,n){var r=a.Block.create({type:e.typeContent}),o=n.nodes;return t.insertNodeByKey(n.key,0,r,{normalize:!1}),o.forEach(function(e){t.removeNodeByKey(e.key)}),t}var a=n(12);t.a=r},function(e,t,n){"use strict";var r=n(321),a=n(582);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return a.a})},function(e,t,n){"use strict";var r=n(583),a=n(584);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return a.a})},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function u(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,a=e.placement,o=e.shouldScroll,i=e.isFixedPosition,l=e.theme,s=l.spacing,u=(0,w.getScrollParent)(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d=u.getBoundingClientRect(),f=d.height,p=n.getBoundingClientRect(),m=p.bottom,h=p.height,g=p.top,v=n.offsetParent.getBoundingClientRect(),b=v.top,y=window.innerHeight,E=(0,w.getScrollTop)(u),S=parseInt(getComputedStyle(n).marginBottom,10),_=parseInt(getComputedStyle(n).marginTop,10),x=b-_,O=y-g,C=x+E,P=f-E-g,k=m-y+E+S,D=E+g-_;switch(a){case"auto":case"bottom":if(O>=h)return{placement:"bottom",maxHeight:t};if(P>=h&&!i)return o&&(0,w.animatedScrollTo)(u,k,160),{placement:"bottom",maxHeight:t};if(!i&&P>=r||i&&O>=r){o&&(0,w.animatedScrollTo)(u,k,160);return{placement:"bottom",maxHeight:i?O-S:P-S}}if("auto"===a||i){var M=t,T=i?x:C;return T>=r&&(M=Math.min(T-S-s.controlHeight,t)),{placement:"top",maxHeight:M}}if("bottom"===a)return(0,w.scrollTo)(u,k),{placement:"bottom",maxHeight:t};break;case"top":if(x>=h)return{placement:"top",maxHeight:t};if(C>=h&&!i)return o&&(0,w.animatedScrollTo)(u,D,160),{placement:"top",maxHeight:t};if(!i&&C>=r||i&&x>=r){var L=t;return(!i&&C>=r||i&&x>=r)&&(L=i?x-_:C-_),o&&(0,w.animatedScrollTo)(u,D,160),{placement:"top",maxHeight:L}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return c}function g(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}Object.defineProperty(t,"__esModule",{value:!0}),t.getMenuPlacement=h,t.MenuPortal=t.menuPortalCSS=t.LoadingMessage=t.NoOptionsMessage=t.loadingMessageCSS=t.noOptionsMessageCSS=t.MenuList=t.menuListCSS=t.default=t.MenuPlacer=t.menuCSS=void 0;var v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),b=n(33),y=n(10),E=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),w=n(223),S=function(e){return"auto"===e?"bottom":e},_=function(e){var t,n=e.placement,r=e.theme,a=r.borderRadius,o=r.spacing,i=r.colors;return t={label:"menu"},m(t,g(n),"100%"),m(t,"backgroundColor",i.neutral0),m(t,"borderRadius",a),m(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),m(t,"marginBottom",o.menuGutter),m(t,"marginTop",o.menuGutter),m(t,"position","absolute"),m(t,"width","100%"),m(t,"zIndex",1),t};t.menuCSS=_;var x=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=u(this,(e=c(t)).call.apply(e,[this].concat(a))),m(p(p(n)),"state",{maxHeight:n.props.maxMenuHeight,placement:null}),m(p(p(n)),"getPlacement",function(e){var t=n.props,r=t.minMenuHeight,a=t.maxMenuHeight,o=t.menuPlacement,i=t.menuPosition,l=t.menuShouldScrollIntoView,s=t.theme,u=n.context.getPortalPlacement;if(e){var c="fixed"===i,d=l&&!c,f=h({maxHeight:a,menuEl:e,minHeight:r,placement:o,shouldScroll:d,isFixedPosition:c,theme:s});u&&u(f),n.setState(f)}}),m(p(p(n)),"getUpdatedProps",function(){var e=n.props.menuPlacement,t=n.state.placement||S(e);return o({},n.props,{placement:t,maxHeight:n.state.maxHeight})}),n}return d(t,e),s(t,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),t}(v.Component);t.MenuPlacer=x,m(x,"contextTypes",{getPortalPlacement:E.default.func});var O=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerRef,l=e.innerProps,s=r((0,b.css)(o("menu",e)),{menu:!0},n);return v.default.createElement("div",a({className:s},l,{ref:i}),t)},C=O;t.default=C;var P=function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}};t.menuListCSS=P;var k=function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,o=e.isMulti,i=e.innerRef;return v.default.createElement("div",{className:r((0,b.css)(a("menuList",e)),{"menu-list":!0,"menu-list--is-multi":o},n),ref:i},t)};t.MenuList=k;var D=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},M=D;t.noOptionsMessageCSS=M;var T=D;t.loadingMessageCSS=T;var L=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return v.default.createElement("div",a({className:r((0,b.css)(o("noOptionsMessage",e)),{"menu-notice":!0,"menu-notice--no-options":!0},n)},i),t)};t.NoOptionsMessage=L,L.defaultProps={children:"No options"};var N=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,i=e.innerProps;return v.default.createElement("div",a({className:r((0,b.css)(o("loadingMessage",e)),{"menu-notice":!0,"menu-notice--loading":!0},n)},i),t)};t.LoadingMessage=N,N.defaultProps={children:"Loading..."};var I=function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}};t.menuPortalCSS=I;var j=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=u(this,(e=c(t)).call.apply(e,[this].concat(a))),m(p(p(n)),"state",{placement:null}),m(p(p(n)),"getPortalPlacement",function(e){var t=e.placement;t!==S(n.props.menuPlacement)&&n.setState({placement:t})}),n}return d(t,e),s(t,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.controlElement,a=e.menuPlacement,o=e.menuPosition,i=e.getStyles,l="fixed"===o;if(!t&&!l||!r)return null;var s=this.state.placement||S(a),u=(0,w.getBoundingClientObj)(r),c=l?0:window.pageYOffset,d=u[s]+c,f={offset:d,position:o,rect:u},p=v.default.createElement("div",{className:(0,b.css)(i("menuPortal",f))},n);return t?(0,y.createPortal)(p,t):p}}]),t}(v.Component);t.MenuPortal=j,m(j,"childContextTypes",{getPortalPlacement:E.default.func})},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function o(e,t,n,r){var o=[t,r];if(n&&e)for(var i in n)n.hasOwnProperty(i)&&n[i]&&o.push("".concat(a(e,i)));return o.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}function i(e,t,n){if(n){var r=n(e,t);if("string"===typeof r)return r}return e}function l(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function s(e){return l(e)?window.innerHeight:e.clientHeight}function u(e){return l(e)?window.pageYOffset:e.scrollTop}function c(e,t){if(l(e))return void window.scrollTo(0,t);e.scrollTop=t}function d(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,a=document.documentElement;if("fixed"===t.position)return a;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return a}function f(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function p(e,t){function n(){s+=l;var t=f(s,o,i,r);c(e,t),s<r?(0,y.default)(n):a(e)}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E,o=u(e),i=t-o,l=10,s=0;n()}function m(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),a=t.offsetHeight/3;r.bottom+a>n.bottom?c(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):r.top-a<n.top&&c(e,Math.max(t.offsetTop-a,0))}function h(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function g(e){return e.replace(/\W/g,"-")}function v(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function b(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.classNames=o,t.handleInputChange=i,t.isDocumentElement=l,t.normalizedHeight=s,t.getScrollTop=u,t.scrollTo=c,t.getScrollParent=d,t.animatedScrollTo=p,t.scrollIntoView=m,t.getBoundingClientObj=h,t.toKey=g,t.isTouchCapable=v,t.isMobileDevice=b,t.cleanValue=t.emptyString=t.noop=void 0;var y=function(e){return e&&e.__esModule?e:{default:e}}(n(613)),E=function(){};t.noop=E;var w=function(){return""};t.emptyString=w;var S=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===r(e)&&null!==e?[e]:[]};t.cleanValue=S},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function l(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f=n(0),p=n(10),m=function(e){function t(){return a(this,t),l(this,u(t).apply(this,arguments))}return c(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,p.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(f.Component);t.default=m},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,a=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingIndicator=t.loadingIndicatorCSS=t.IndicatorSeparator=t.indicatorSeparatorCSS=t.ClearIndicator=t.clearIndicatorCSS=t.DropdownIndicator=t.dropdownIndicatorCSS=t.DownChevron=t.CrossIcon=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),l=n(33),s=function(e){var t=e.size,n=a(e,["size"]);return i.default.createElement("svg",r({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:(0,l.css)({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},n))},u=function(e){return i.default.createElement(s,r({size:20},e),i.default.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))};t.CrossIcon=u;var c=function(e){return i.default.createElement(s,r({size:20},e),i.default.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))};t.DownChevron=c;var d=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,a=n.colors;return{label:"indicatorContainer",color:t?a.neutral60:a.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?a.neutral80:a.neutral40}}},f=d;t.dropdownIndicatorCSS=f;var p=function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,s=e.innerProps;return i.default.createElement("div",r({},s,{className:a((0,l.css)(o("dropdownIndicator",e)),{indicator:!0,"dropdown-indicator":!0},n)}),t||i.default.createElement(c,null))};t.DropdownIndicator=p;var m=d;t.clearIndicatorCSS=m;var h=function(e){var t=e.children,n=e.className,a=e.cx,o=e.getStyles,s=e.innerProps;return i.default.createElement("div",r({},s,{className:a((0,l.css)(o("clearIndicator",e)),{indicator:!0,"clear-indicator":!0},n)}),t||i.default.createElement(u,null))};t.ClearIndicator=h;var g=function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,a=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?a.neutral10:a.neutral20,marginBottom:2*r,marginTop:2*r,width:1}};t.indicatorSeparatorCSS=g;var v=function(e){var t=e.className,n=e.cx,a=e.getStyles,o=e.innerProps;return i.default.createElement("span",r({},o,{className:n((0,l.css)(a("indicatorSeparator",e)),{"indicator-separator":!0},t)}))};t.IndicatorSeparator=v;var b=!1,y=function(e){var t=e.isFocused,n=e.size,r=e.theme,a=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?a.neutral60:a.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}};t.loadingIndicatorCSS=y;var E=function(e){var t=e.color,n=e.delay,r=e.offset;return i.default.createElement("span",{className:(0,l.css)({animationDuration:"1s",animationDelay:"".concat(n,"ms"),animationIterationCount:"infinite",animationName:"react-select-loading-indicator",animationTimingFunction:"ease-in-out",backgroundColor:t,borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":null,height:"1em",verticalAlign:"top",width:"1em"})})},w=function(e){var t=e.className,n=e.cx,a=e.getStyles,o=e.innerProps,s=e.isFocused,u=e.isRtl,c=e.theme.colors,d=s?c.neutral80:c.neutral20;return b||((0,l.injectGlobal)("@keyframes ","react-select-loading-indicator","{0%,80%,100%{opacity:0;}40%{opacity:1;}};"),b=!0),i.default.createElement("div",r({},o,{className:n((0,l.css)(a("loadingIndicator",e)),{indicator:!0,"loading-indicator":!0},t)}),i.default.createElement(E,{color:d,delay:0,offset:u}),i.default.createElement(E,{color:d,delay:160,offset:!0}),i.default.createElement(E,{color:d,delay:320,offset:!u}))};t.LoadingIndicator=w,w.defaultProps={size:4}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(59),u=n(32),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={link:""},o.saveRef=function(e){o.refDom=e},o.setLink=function(){var e=o.props.editor.getCurrentLinkNode().link;o.setState({link:e})},o.setMenuPosition=function(){if(o.refDom&&0!==window.getSelection().anchorOffset&&0!==window.getSelection().focusOffset){var e=window.getSelection(),t=e.getRangeAt(0),n=t.getBoundingClientRect();navigator.userAgent.indexOf("Chrome")<0&&navigator.userAgent.indexOf("Safari")>0&&t.collapsed&&0==n.top&&0==n.height&&(0==t.startOffset?t.setEnd(t.endContainer,1):t.setStart(t.startContainer,t.startOffset-1),n=t.getBoundingClientRect(),0==n.top&&0==n.height&&t.getClientRects().length&&(n=t.getClientRects()[0]));var r=o.refDom.style;r.zIndex="1050",r.top=n.top-40-5+"px";var a=parseInt(n.x-125);a<0?r.left="0px":a+250>document.body.clientWidth?r.left=document.body.clientWidth-250+"px":r.left=n.x-125+"px"}},o.componentWillMount=function(){o.saveRef(),o.setLink()},o.componentDidMount=function(){o.setMenuPosition()},o.componentWillUpdate=function(){o.setMenuPosition(),o.setLink()},i=n,a(o,i)}return o(t,e),c(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"seafile-ed-hovermenu",ref:this.saveRef},l.a.createElement("a",{href:this.state.link,target:"blank",className:"seafile-ed-hovermenu-link"},this.state.link),l.a.createElement(s.a,{color:"",className:"seafile-ed-hovermenu-btn",onClick:this.props.editor.onToggleLink},l.a.createElement("i",{className:"fas fa-trash"})),l.a.createElement(s.a,{color:"",className:"seafile-ed-hovermenu-btn",onClick:this.props.editor.toggleLinkDialog},l.a.createElement("i",{className:"fa fa-edit"})),l.a.createElement("span",{className:"seafile-ed-hovermenu-triangle"}))}}]),t}(l.a.PureComponent);t.a=Object(u.withTranslation)("seafile-editor")(d)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(377),u=n(672),c=n(673),d=n(674),f=n(675),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=n(86),h=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"shouldComponentUpdate",value:function(e,t){return!m.isEqual(e.buttonState,this.props.buttonState)||!m.isEqual(e.collabUsers,this.props.collabUsers)||e.isShowSidePanel!=this.props.isShowSidePanel}},{key:"render",value:function(){var e=this,t=this.props.editor,n=t.props.t,r=this.props.buttonState,a=this.props.readOnly,o=r.isTableActive||a,i=r.isCodeActive||a,p=!("paragraph"===r.headerType)||a;return l.a.createElement("div",{className:"sf-editor-rich-menu "+(this.props.isSimpleEditor?"":"rich-menu")},l.a.createElement("div",{className:"button-container"},!a&&l.a.createElement("div",{className:"header-list-container"},l.a.createElement(s.HeaderList,{disabled:i||o,headerType:r.headerType,onClickBlock:t.onClickBlock})),l.a.createElement(s.ButtonGroup,{className:"editor-btn-group"},l.a.createElement(s.IconButton,{disabled:i||p,isRichEditor:!0,text:n("bold"),id:"BOLDButton",icon:"fa fa-bold",isActive:r.isBoldActive,onMouseDown:function(t){return e.props.editor.clickMark(t,"BOLD")}}),l.a.createElement(s.IconButton,{disabled:i||p,isRichEditor:!0,text:n("italic"),id:"ITALICButton",icon:"fa fa-italic",isActive:r.isItalicActive,onMouseDown:function(t){return e.props.editor.clickMark(t,"ITALIC")}}),l.a.createElement(s.IconButton,{disabled:i||p,isRichEditor:!0,text:n("code"),id:"CODEButton",icon:"fa fa-code",isActive:r.isInlineCodeActive,onMouseDown:function(t){return e.props.editor.clickMark(t,"CODE")}}),l.a.createElement(s.IconButton,{disabled:i||p,isRichEditor:!0,text:n("insert_link"),id:"linkButton",icon:"fa fa-link",isActive:r.isLinkActive,onClick:this.props.editor.onToggleLink})),l.a.createElement(s.ButtonGroup,{className:"editor-btn-group"},l.a.createElement(s.IconButton,{disabled:o||i||p,isRichEditor:!0,text:n("quote"),id:"block-quoteButton",icon:"fa fa-quote-left",isActive:r.isBlockquoteActive,onMouseDown:function(t){return e.props.editor.onClickBlock(t,"block-quote")}}),l.a.createElement(s.IconButton,{disabled:o||i||p,isRichEditor:!0,text:n("ordered_list"),id:"ordered_listButton",icon:"fa fa-list-ol",isActive:r.isOrderedListActive,onMouseDown:function(t){return e.props.editor.onClickBlock(t,"ordered_list")}}),l.a.createElement(s.IconButton,{disabled:o||i||p,isRichEditor:!0,text:n("unordered_list"),id:"unordered_listButton",icon:"fa fa-list-ul",isActive:r.isUnorderedListActive,onMouseDown:function(t){return e.props.editor.onClickBlock(t,"unordered_list")}}),l.a.createElement(s.IconButton,{disabled:o||i||p,isRichEditor:!0,text:n("check_list_item"),id:"checkListItemButton",icon:"fa fa-check-square",isActive:r.isCheckListActive,onMouseDown:this.props.editor.onAddCheckItem})),l.a.createElement(s.ButtonGroup,{className:"editor-btn-group"},l.a.createElement(s.IconButton,{disabled:o||p,isRichEditor:!0,text:n("code_block"),id:"codeButton",icon:"ico ico-code-block",onMouseDown:t.onToggleCode,isActive:i&&!a}),l.a.createElement(s.IconButton,{disabled:i||o||p,isRichEditor:!0,text:n("insert_table"),id:"tableButton",icon:"fa fa-table",onMouseDown:t.onAddTable}),l.a.createElement(d.a,{disabled:i||p,text:"insert_image",id:"insertImageButton",isSimpleEditor:this.props.isSimpleEditor,editor:this.props.editor,buttonState:this.props.buttonState,editorUtilities:this.props.editorUtilities}),!this.props.isSimpleEditor&&l.a.createElement(f.a,{disabled:i||p,insertRepoFile:this.props.insertRepoFile,t:n})),o&&!a&&l.a.createElement(s.TableToolBar,{t:n,onRemoveTable:t.onRemoveTable,onInsertColumn:t.onInsertColumn,onRemoveColumn:t.onRemoveColumn,onInsertRow:t.onInsertRow,onRemoveRow:t.onRemoveRow,onSetAlign:t.onSetAlign})),this.props.hasSidePanel&&l.a.createElement("div",{className:"button-container"},!this.props.isShowSidePanel&&l.a.createElement(s.ButtonGroup,{className:"editor-btn-group position-absolute dropdown-menu-right"},l.a.createElement(s.IconButton,{isRichEditor:!0,text:n("Show_side_panel"),id:"showSidepanel",icon:"fas fa-angle-double-left",isActive:!1,onMouseDown:t.toggleSidePanel})),this.props.isShowSidePanel&&l.a.createElement(s.ButtonGroup,{className:"editor-btn-group position-absolute dropdown-menu-right"},l.a.createElement(s.IconButton,{isRichEditor:!0,text:n("Hide_side_panel"),id:"hideSidepanel",icon:"fas fa-angle-double-right",isActive:!1,onMouseDown:t.toggleSidePanel}))),r.isShowAddImageDialog&&l.a.createElement(u.a,{showAddImageDialog:r.isShowAddImageDialog,toggleImageDialog:t.toggleImageDialog,onInsertImage:t.onInsertImage}),r.isShowAddLinkDialog&&l.a.createElement(c.a,{showAddLinkDialog:r.isShowAddLinkDialog,toggleLinkDialog:t.toggleLinkDialog,editor:t}))}}]),t}(l.a.Component);t.a=h},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(10),u=n.n(s),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isMounted:!1},n.el=document.createElement("div"),n}return o(t,e),c(t,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){return u.a.createPortal(this.props.children,this.el)}}]),t}(l.a.Component);t.a=d},function(e,t){},function(e,t){},,,,,,function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function l(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(null==e)return{};var n,r,a=g(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function g(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.Collapse=t.collapseDuration=t.Fade=void 0;var v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),b=n(379),y=function(e){var t=e.component,n=e.duration,r=void 0===n?1:n,a=e.in,o=(e.onExited,h(e,["component","duration","in","onExited"])),i={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(r,"ms")},exiting:{opacity:0},exited:{opacity:0}};return v.default.createElement(b.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:a,timeout:r},function(e){var n={style:p({},i[e])};return v.default.createElement(t,f({innerProps:n},o))})};t.Fade=y;var E=260;t.collapseDuration=E;var w=function(e){function t(){var e,n;a(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=l(this,(e=s(t)).call.apply(e,[this].concat(o))),m(d(d(n)),"duration",E),m(d(d(n)),"rafID",void 0),m(d(d(n)),"state",{width:"auto"}),m(d(d(n)),"transition",{exiting:{width:0,transition:"width ".concat(n.duration,"ms ease-out")},exited:{width:0}}),m(d(d(n)),"getWidth",function(e){e&&isNaN(n.state.width)&&(n.rafID=window.requestAnimationFrame(function(){var t=e.getBoundingClientRect(),r=t.width;n.setState({width:r})}))}),m(d(d(n)),"getStyle",function(e){return{overflow:"hidden",whiteSpace:"nowrap",width:e}}),m(d(d(n)),"getTransition",function(e){return n.transition[e]}),n}return u(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.in,a=this.state.width;return v.default.createElement(b.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:r,timeout:this.duration},function(t){var r=p({},e.getStyle(a),e.getTransition(t));return v.default.createElement("div",{ref:e.getWidth,style:r},n)})}}]),t}(v.Component);t.Collapse=w},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){e=new o.a(e);var t=Object(l.a)(e);return Object.assign({},t,{onKeyDown:a.bind(null,e)})}function a(e,t,n,r){var a=[t,n,e,r];switch(t.key){case s:return i.b.apply(void 0,a);case u:return i.c.apply(void 0,a);case c:return i.a.apply(void 0,a);default:return r()}}var o=n(500),i=n(501),l=n(514),s="Enter",u="Tab",c="Backspace";t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.document,o=r.getParent(n.key);return o&&Object(a.a)(e,o)?o:null}var a=n(213);t.a=r},function(e,t,n){"use strict";function r(e,t,n){if(n=n||t.selection,!n.start.key)return Object(a.List)();var r=t.document,l=r.getClosestBlock(n.startKey),s=r.getClosestBlock(n.endKey);if(l===s){var u=Object(i.a)(e,t,l);return u?Object(a.List)([u]):Object(a.List)()}var c=r.getCommonAncestor(l.key,s.key);if(Object(o.a)(e,c)){var d=c.getPath(l.key),f=c.getPath(s.key);return c.nodes.slice(d[0],f[0]+1)}return c.type===e.typeItem?Object(a.List)([c]):Object(a.List)()}var a=n(70),o=(n.n(a),n(213)),i=n(132);t.a=r},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.i18n,i=Object(a.useContext)(o.a),l=Object(o.e)()?i||{}:{},s=l.i18n,u=r||s||Object(o.f)();u.options&&u.options.isClone||(e&&!u.initializedStoreOnce&&(u.services.resourceStore.data=e,u.initializedStoreOnce=!0),t&&!u.initializedLanguageOnce&&(u.changeLanguage(t),u.initializedLanguageOnce=!0))}t.a=r;var a=n(0),o=(n.n(a),n(103))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.platfrom=navigator.platform.indexOf("Win")<0?"Mac":"Win",n}return o(t,e),u(t,[{key:"render",value:function(){return l.a.createElement("li",{className:"help-shortcut"},l.a.createElement("div",{className:"help-shortcut-left"},this.props.shortcutName),l.a.createElement("div",{className:"help-shortcut-right"},l.a.createElement(d,{platfrom:this.platform,shortcuts:this.props.shortcuts})))}}]),t}(l.a.Component),d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,this.props.shortcuts.map(function(t){var n=t[0],r=t[1];return"object"===s(t[0])&&(n="Win"===e.platfrom?t[0][0]:t[0][1]),l.a.createElement("div",{className:"help-shortcut-right-container",key:"help"+t[0]},n?l.a.createElement("div",{className:"key shortcut-first"},n):null,r?l.a.createElement("div",{className:"key shortcut-second"},r):null)}))}}]),t}(l.a.PureComponent),f=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shortcutData=[{Make_list:[["* / + / -","space"]],Make_ordered_list:[["* / + / -","space"]],Insert_new_item:[["Enter"]],Insert_child_in_item:[["Shift","Enter"]],Increase_depth:[["Tab"]]},{Heading_1:[["#","space"]],Heading_2:[["##","space"]],Heading_3:[["###","space"]],Heading_4:[["####","space"]],Heading_5:[["#####","space"]],Heading_6:[["######","space"]]},{Make_code_block:[["space*3"],["```"]],Insert_new_line:[["Enter"]],Escape_code_block:[[["Ctrl","Cmd"],"Enter"]],Insert_indent:[["Tab"]]},{Make_Block_quote:[["* / + / -","space"]],Escape_Block_quote:[["Enter"]]},{Insert_Table_Row:[["Enter"]],Escape_table:[[["Ctrl","Cmd"],"Enter"]]},{Bold:[["**bold** / __bold__","space"]],Italic:[["*italic* / _italic_","space"]],Italic_Bold:[["***italic*** / ___italic___","space"]],Inline_code:[["`code`","space"]]},{Save_file:[[["Ctrl","Cmd"],"s"]]},{Paste_screen_shot:[[["Ctrl","Cmd"],"v"]],Drag_image_from_anywhere_to_upload_it:[]}],n}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props.data.shortcutType,t=this.props.data.shortcutData,n=[];for(var r in t){var a=this.shortcutData[this.props.index][r];n.push(l.a.createElement(c,{key:"help "+r,shortcutName:t[r],shortcuts:a}))}return l.a.createElement("div",{className:"help-content-container"},l.a.createElement("h5",{className:"help-shortcut-type"},e),l.a.createElement("ul",{className:"help-shortcut-list"},n))}}]),t}(l.a.PureComponent),p=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"seafile-editor-help align-self-end"},l.a.createElement("div",{className:"help-header d-flex"},l.a.createElement("div",{className:"help-title"},this.props.userHelp.title),l.a.createElement("div",{className:"help-close",onClick:this.props.hideHelpDialog},l.a.createElement("i",{className:"fa fa-times-circle"}))),l.a.createElement("div",{className:"help-content"},this.props.userHelp.userHelpData.map(function(e,t){return l.a.createElement(f,{key:"help-list"+t,index:t,data:e})})))}}]),t}(l.a.PureComponent);t.a=p},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new a.a(e),n=Object(o.a)(t);return Object.assign({},n,{onKeyDown:i.a.bind(null,t),onPaste:i.b.bind(null,t)})}var a=n(541),o=n(542),i=n(553);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.document,a=void 0;if(n)a=t.document.getDescendant(n);else{if(!t.selection.start.key)return null;a=t.startBlock}var o=r.getParent(a.key);return o&&o.type===e.containerType?o:null}t.a=r},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return o()(e).indent||t}var a=n(547),o=n.n(a),i="    ";t.a=r},function(e,t,n){"use strict";var r=n(551),a=n(303),o=(n(304),n(301)),i=(n(302),n(552));n.d(t,"b",function(){return r.a}),n.d(t,"c",function(){return a.a}),n.d(t,"d",function(){return o.a}),n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";function r(e,t){var n=t.value,r=n.startBlock,o=n.selection;return Object(a.a)(e,t,r.key),t.moveToStartOfNode(t.value.document.getDescendant(r.key)).moveFocusTo(o.start.offset),t}var a=n(302);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.value,o=r.document,i=o.getDescendant(n),l=i.text;return i.nodes.forEach(function(e){t.removeNodeByKey(e.key,{normalize:!1})}),Object(a.a)(e,l).nodes.forEach(function(e,n){t.insertNodeByKey(i.key,n,e,{normalize:!1})}),t.setNodeByKey(i.key,{type:e.containerType}),t}var a=n(67);t.a=r},function(e,t,n){"use strict";function r(e,t){var n=t.value,r=Object(a.b)(e,n);return r?Object(o.a)(e,t,r.key,e.exitBlockType):t}var a=n(67),o=n(304);t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var a=t.value,o=a.document,i=o.getDescendant(n);if(!i||i.type!=e.containerType)throw new Error("Block passed to unwrapCodeBlockByKey should be a code block container");return i.nodes.forEach(function(e){return t.setNodeByKey(e.key,{type:r},{normalize:!1}).unwrapNodeByKey(e.key,{normalize:!1})}),t}t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=n.value;t.preventDefault(),t.stopPropagation();var i=r.isCollapsed,l=Object(a.c)(e,r);return i?n.insertText(l).focus():Object(o.a)(e,n,l)}var a=n(67),o=n(300);t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=n.value;if(!o.selection.isCollapsed)return r();t.preventDefault();var i=o.startBlock,l=i.text,s=Object(a.d)(l,"");return n.splitBlock().insertText(s).focus()}var a=n(67);t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){return n.value.selection.isCollapsed?(t.preventDefault(),e.resolvedOnExit(n)):r()}t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var a=n.value;if(a.selection.isExpanded)return r();var l=a.startText,s=a.selection,u=a.startBlock,c=s.start.offset,d=Object(i.c)(e,a),f=u.text.slice(0,c);if(o()(f,d))return t.preventDefault(),n.deleteBackward(d.length).focus();if(e.exitBlockType){var p=Object(i.b)(e,a),m=0===c&&p.getFirstText()===l,h=1===p.nodes.size&&0===u.text.length;if(m&&h)return t.preventDefault(),n.setBlocks(e.exitBlockType,{normalize:!1}).unwrapNodeByKey(u.key)}return r()}var a=n(554),o=n.n(a),i=n(67);t.a=r},function(e,t,n){"use strict";function r(e,t){return o.Block.create({type:e.typeCell,nodes:t||[a(e)]})}function a(e){return o.Block.create({type:e.typeContent,nodes:[o.Text.create()]})}var o=n(12);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=Object(a.Range)(0,t).map(function(t){return Object(i.a)(e,n?n(t):void 0)}).toList();return o.Block.create({type:e.typeRow,nodes:r})}var a=n(70),o=(n.n(a),n(12)),i=n(309);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.value,i=a.a.create(e,r.document,n);return i.getHeight()>1?t.removeNodeByKey(n):i.row.nodes.forEach(function(n){n.nodes.forEach(function(r){return Object(o.a)(e,t,n)})}),t}var a=n(37),o=n(219);t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=t.value,i=o.selection.start.key,l=a.a.create(e,o.document,i);if(!l.isInCell())throw new Error("moveSelection can only be applied from within a cell");var s=l.table,u=s.nodes.get(r),c=u.nodes.get(n);return t.moveToEndOfNode(c)}var a=n(37);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.value,i=a.a.create(e,r.document,n),l=i.table,s=i.getColumnIndex(),u=l.nodes;return i.getWidth()>1?u.forEach(function(e){var n=e.nodes.get(s);t.removeNodeByKey(n.key,{normalize:!1})}):u.forEach(function(n){n.nodes.forEach(function(n){n.nodes.forEach(function(r){return Object(o.a)(e,t,n)})})}),t}var a=n(37),o=n(219);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.value,i=o.a.create(e,r.document,n),l=i.table,s=t.value.document,u=null,c=t.value.document.getNextBlock(l.key);if(c)u=c;else{var d=t.value.document.getPreviousBlock(l.key);if(d)u=d,!0;else if(e.exitBlockType){u=a.Block.create({type:e.exitBlockType,nodes:[a.Text.create("")]});var f=s.getParent(l.key),p=f.nodes.indexOf(l)+1;t.insertNodeByKey(f.key,p,u)}}return t.removeNodeByKey(l.key),u?(t.moveToEndOfNode(u).focus(),t):t}var a=n(12),o=n(37);t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){e.preventDefault();var i=t.value,l=i.selection,s=i.document,u=a.a.create(n,s,l.start.key);return l.get("focus").isAtStartOfNode(u.cell)||l.get("focus").isAtEndOfNode(u.cell)?e.shiftKey?t:Object(o.c)(n,t):r()}var a=n(37),o=n(134);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.value;if(r.selection.isCollapsed){e.preventDefault();var i=a.Block.create({type:n.exitBlockType,nodes:[a.Text.create("")]}),l=o.a.create(n,r.document,r.selection.start.key).table,s=r.document.getParent(l.key),u=s.nodes.indexOf(l)+1;t.insertNodeByKey(s.key,u,i).moveToStartOfNode(i)}}var a=n(12),o=n(37);t.a=r},function(e,t,n){"use strict";function r(e){var t=e.value,n=t.startBlock;return e.moveFocusTo(0).moveFocusForward(n.text.length)}function a(e,t,n){e.preventDefault();var a=t.value,l=e.shiftKey?-1:1,s=a.selection,u=s.start.key,c=o.a.create(n,a.document,u);return c.isFirstCell()&&-1===l?Object(i.c)(n,t,0):c.isLastCell()&&1===l&&Object(i.c)(n,t),t.select(s),Object(i.f)(n,t,l,0),r(t)}var o=n(37),i=n(134);t.a=a},function(e,t,n){"use strict";function r(e,t,n,r){var o=t.value,i=o.startBlock,l=o.selection,s=o.endBlock,u=o.document,c=l.start.offset,d=l.isCollapsed,f=u.getClosest(i.key,n.isCell),p=u.getClosest(s.key,n.isCell),m=f.nodes.findIndex(function(e){return e.key==i.key});if(0===c&&d&&0===m)return i.isVoid?r():(e.preventDefault(),t);if(f===p)return r();e.preventDefault();var h=o.blocks,g=h.map(function(e){return e.type===n.typeCell?e:u.getClosest(e.key,function(e){return e.type===n.typeCell})}).toSet(),v=o.selection.moveToStart().get("anchor").isAtEndOfNode(g.first())&&o.selection.isCollapsed,b=o.selection.moveToEnd().get("anchor").isAtStartOfNode(g.last())&&o.selection.isCollapsed,y=g;v&&(y=y.rest()),b&&(y=y.butLast()),y.forEach(function(e){return Object(a.a)(n,t,e)});var E=t.value.document.getDescendant(y.first().key);return t.moveToStartOfNode(E)}var a=n(134);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.value,i="ArrowUp"===e.key?-1:1,l=a.a.create(n,r.document,r.selection.start.key);if(!(l.isFirstRow()&&-1===i||l.isLastRow()&&1===i)&&(-1!==i||l.isTopOfCell())&&(1!==i||l.isBottomOfCell()))return e.preventDefault(),Object(o.f)(n,t,0,i),t}var a=n(37),o=n(134);t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var i=n.value,l=i.selection,s=l.start.offset,u=l.isCollapsed;return Object(a.a)(e,i)&&u?0!==s?r():(t.preventDefault(),void Object(o.a)(e,n)):r()}var a=n(220),o=n(221);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.document;if(!n){if(!t.selection.start.key)return null;n=t.startBlock}var a=r.getParent(n.key);return a&&a.type===e.type?a:null}t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var i=n.value,l=i.startBlock;return Object(a.a)(e,i)?0!==l.text.length?r():(t.preventDefault(),void Object(o.a)(e,n)):r()}var a=n(220),o=n(221);t.a=r},function(e,t){function n(e){if("string"!==typeof e)return!1;var t=e.match(r);if(!t)return!1;var n=t[1];return!!n&&!(!a.test(n)&&!o.test(n))}e.exports=n;var r=/^(?:\w+:)?\/\/(\S+)$/,a=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,o=/^[^\s\.]+\.\S{2,}$/},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function l(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.IndicatorsContainer=t.indicatorsContainerCSS=t.ValueContainer=t.valueContainerCSS=t.SelectContainer=t.containerCSS=void 0;var p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),m=n(33),h=function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}};t.containerCSS=h;var g=function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,o=e.innerProps,i=e.isDisabled,l=e.isRtl;return p.default.createElement("div",f({className:r((0,m.css)(a("container",e)),{"--is-disabled":i,"--is-rtl":l},n)},o),t)};t.SelectContainer=g;var v=function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}};t.valueContainerCSS=v;var b=function(e){function t(){return a(this,t),l(this,u(t).apply(this,arguments))}return c(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.cx,a=e.isMulti,o=e.getStyles,i=e.hasValue;return p.default.createElement("div",{className:r((0,m.css)(o("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":i},n)},t)}}]),t}(p.Component);t.ValueContainer=b;var y=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}};t.indicatorsContainerCSS=y;var E=function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles;return p.default.createElement("div",{className:r((0,m.css)(a("indicatorsContainer",e)),{indicators:!0},n)},t)};t.IndicatorsContainer=E},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.css=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(33),i=function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,a=r.colors,o=r.borderRadius,i=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?a.neutral5:a.neutral0,borderColor:t?a.neutral10:n?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(a.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?a.primary:a.neutral30}}};t.css=i;var l=function(e){var t=e.children,n=e.cx,i=e.getStyles,l=e.className,s=e.isDisabled,u=e.isFocused,c=e.innerRef,d=e.innerProps,f=e.menuIsOpen;return a.default.createElement("div",r({ref:c,className:n((0,o.css)(i("control",e)),{control:!0,"control--is-disabled":s,"control--is-focused":u,"control--menu-is-open":f},l)},d),t)},s=l;t.default=s},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,a=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GroupHeading=t.groupHeadingCSS=t.groupCSS=void 0;var s=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),u=n(33),c=function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}};t.groupCSS=c;var d=function(e){var t=e.children,n=e.className,r=e.cx,a=e.getStyles,o=e.Heading,i=e.headingProps,c=e.label,d=e.theme,f=e.selectProps;return s.default.createElement("div",{className:r((0,u.css)(a("group",e)),{group:!0},n)},s.default.createElement(o,l({},i,{selectProps:f,theme:d,getStyles:a,cx:r}),c),s.default.createElement("div",null,t))},f=function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}};t.groupHeadingCSS=f;var p=function(e){var t=e.className,n=e.cx,a=e.getStyles,i=e.theme,c=(e.selectProps,o(e,["className","cx","getStyles","theme","selectProps"]));return s.default.createElement("div",l({className:n((0,u.css)(a("groupHeading",r({theme:i},c))),{"group-heading":!0},t)},c))};t.GroupHeading=p;var m=d;t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,a=s(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.inputCSS=void 0;var u=r(n(0)),c=n(33),d=r(n(628)),f=function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,a=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?"hidden":"visible",color:a.neutral80}};t.inputCSS=f;var p=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},m=function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerRef,s=e.isHidden,f=e.isDisabled,m=e.theme,h=(e.selectProps,l(e,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return u.default.createElement("div",{className:(0,c.css)(r("input",o({theme:m},h)))},u.default.createElement(d.default,a({className:n(null,{input:!0},t),inputRef:i,inputStyle:p(s),disabled:f},h)))},h=m;t.default=h},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function u(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MultiValueRemove=t.MultiValueLabel=t.MultiValueContainer=t.MultiValueGeneric=t.multiValueRemoveCSS=t.multiValueLabelCSS=t.multiValueCSS=void 0;var m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),h=n(33),g=n(225),v=function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}};t.multiValueCSS=v;var b=function(e){var t=e.theme,n=t.borderRadius,r=t.colors,a=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:a?"ellipsis":null,whiteSpace:"nowrap"}};t.multiValueLabelCSS=b;var y=function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,a=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused&&a.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}}};t.multiValueRemoveCSS=y;var E=function(e){var t=e.children,n=e.innerProps;return m.default.createElement("div",n,t)};t.MultiValueGeneric=E;var w=E;t.MultiValueContainer=w;var S=E;t.MultiValueLabel=S;var _=function(e){function t(){return i(this,t),u(this,d(t).apply(this,arguments))}return f(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.innerProps;return m.default.createElement("div",n,t||m.default.createElement(g.CrossIcon,{size:14}))}}]),t}(m.Component);t.MultiValueRemove=_;var x=function(e){function t(){return i(this,t),u(this,d(t).apply(this,arguments))}return f(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.components,o=e.cx,i=e.data,l=e.getStyles,s=e.innerProps,u=e.isDisabled,c=e.removeProps,d=e.selectProps,f=r.Container,p=r.Label,g=r.Remove,v=a({className:o((0,h.css)(l("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":u},n)},s),b={className:o((0,h.css)(l("multiValueLabel",this.props)),{"multi-value__label":!0},n)},y=a({className:o((0,h.css)(l("multiValueRemove",this.props)),{"multi-value__remove":!0},n)},c);return m.default.createElement(f,{data:i,innerProps:v,selectProps:d},m.default.createElement(p,{data:i,innerProps:b,selectProps:d},t),m.default.createElement(g,{data:i,innerProps:y,selectProps:d}))}}]),t}(m.Component);o(x,"defaultProps",{cropWithEllipsis:!0});var O=x;t.default=O},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.optionCSS=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(33),i=function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,a=e.theme,o=a.spacing,i=a.colors;return{label:"option",backgroundColor:r?i.primary:n?i.primary25:"transparent",color:t?i.neutral20:r?i.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(r?i.primary:i.primary50)}}};t.optionCSS=i;var l=function(e){var t=e.children,n=e.className,i=e.cx,l=e.getStyles,s=e.isDisabled,u=e.isFocused,c=e.isSelected,d=e.innerRef,f=e.innerProps;return a.default.createElement("div",r({ref:d,className:i((0,o.css)(l("option",e)),{option:!0,"option--is-disabled":s,"option--is-focused":u,"option--is-selected":c},n)},f),t)},s=l;t.default=s},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.placeholderCSS=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(33),i=function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}};t.placeholderCSS=i;var l=function(e){var t=e.children,n=e.className,i=e.cx,l=e.getStyles,s=e.innerProps;return a.default.createElement("div",r({className:i((0,o.css)(l("placeholder",e)),{placeholder:!0},n)},s),t)},s=l;t.default=s},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.css=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(33),i=function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,a=n.colors;return{label:"singleValue",color:t?a.neutral40:a.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}};t.css=i;var l=function(e){var t=e.children,n=e.className,i=e.cx,l=e.getStyles,s=e.isDisabled,u=e.innerProps;return a.default.createElement("div",r({className:i((0,o.css)(l("singleValue",e)),{"single-value":!0,"single-value--is-disabled":s},n)},u),t)},s=l;t.default=s},,,function(e,t,n){"use strict";t.a={DATE_ROW_COUNT:6,DATE_COL_COUNT:7}},,function(e,t){},function(e,t){},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(59),u=n(684),c=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=function(){n.props.openDialogs&&n.props.openDialogs("add-participant")},n.tooltipToggle=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.state={tooltipOpen:!1},n}return o(t,e),c(t,[{key:"render",value:function(){var e=this.props.participants;return l.a.createElement("div",{className:"participants mb-2 position-relative"},e.map(function(e,t){return l.a.createElement(f,{item:e,index:t,key:t})}),l.a.createElement("span",{className:"add-participants",onClick:this.handleClick,id:"add-participant-icon"},l.a.createElement("i",{className:"fas fa-plus-circle"})),l.a.createElement(s.j,{toggle:this.tooltipToggle,delay:{show:0,hide:0},target:"add-participant-icon",placement:"bottom",isOpen:this.state.tooltipOpen},this.props.t("Add_participants")))}}]),t}(l.a.Component),f=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleAvatarTooltip=function(){n.setState({showAvatarTooltip:!n.state.showAvatarTooltip})},n.state={showAvatarTooltip:!1},n}return o(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.index,r="participant-avatar-"+n;return l.a.createElement("span",{className:"participant-avatar"},l.a.createElement("img",{src:t.avatar_url,className:"avatar",id:r,alt:"avatar",key:n}),l.a.createElement(s.j,{toggle:this.toggleAvatarTooltip,delay:{show:0,hide:0},target:r,placement:"bottom",isOpen:this.state.showAvatarTooltip},t.name))}}]),t}(l.a.Component);t.a=d},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(32),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.onInsertRow=function(e,t){var n=void 0;e.preventDefault(),n=o.props.editTable.utils.getPosition(o.props.editor.value).getRowIndex(),"after"===t&&(n+=1),o.props.editTable.changes.insertRow(o.props.editor,n)},o.onInsertColumn=function(e,t){e.preventDefault();var n=void 0;n=o.props.editTable.utils.getPosition(o.props.editor.value).getColumnIndex(),"after"===t&&(n+=1),o.props.editTable.changes.insertColumn(o.props.editor,n)},i=n,a(o,i)}return o(t,e),u(t,[{key:"componentDidUpdate",value:function(){this.props.onRightMenuChange(!0)}},{key:"componentWillUpdate",value:function(){var e=window.getSelection(),t=e.getRangeAt(0),n=t.getBoundingClientRect();this.menu.style.display="block",this.menu.style.position="absolute";var r=this.menu.offsetHeight;n.top+r>document.body.clientHeight?this.menu.style.top=document.body.clientHeight-r-5+"px":this.menu.style.top=n.top+"px",this.menu.style.left=n.left+3+"px",this.menu.style.zIndex="1051"}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{role:"menu",className:"seafile-contextmenu dropdown-menu",ref:function(t){e.menu=t}},l.a.createElement("button",{onMouseDown:function(t,n){return e.onInsertRow(t,"before")},className:"seafile-contextmenu-item dropdown-item"},this.props.t("Insert_Row_Before")),l.a.createElement("button",{onMouseDown:function(t,n){return e.onInsertRow(t,"after")},className:"seafile-contextmenu-item dropdown-item"},this.props.t("Insert_Row_After")),l.a.createElement("button",{onMouseDown:function(t,n){return e.onInsertColumn(t,"before")},className:"seafile-contextmenu-item dropdown-item"},this.props.t("Insert_Column_Before")),l.a.createElement("button",{onMouseDown:function(t,n){return e.onInsertColumn(t,"after")},className:"seafile-contextmenu-item dropdown-item"},this.props.t("Insert_Column_After")),l.a.createElement("div",{className:"seafile-divider dropdown-divider"}),l.a.createElement("button",{onMouseDown:this.props.richEditor.onRemoveRow,className:"seafile-contextmenu-item dropdown-item"},this.props.t("Remove_Row")),l.a.createElement("button",{onMouseDown:this.props.richEditor.onRemoveColumn,className:"seafile-contextmenu-item dropdown-item"},this.props.t("Remove_Column")))}}]),t}(l.a.Component);t.a=Object(s.withTranslation)("seafile-editor")(c)},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"IconButton",function(){return g}),n.d(t,"CollabUsersButton",function(){return v}),n.d(t,"TableToolBar",function(){return w}),n.d(t,"Button",function(){return h}),n.d(t,"ButtonGroup",function(){return m}),n.d(t,"MoreMenu",function(){return S}),n.d(t,"HeaderList",function(){return _});var i=n(0),l=n.n(i),s=n(10),u=n.n(s),c=n(59),d=n(32),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tooltipToggle=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.dropdownToggle=function(){n.setState({dropdownOpen:!n.state.dropdownOpen})},n.state={tooltipOpen:!1,dropdownOpen:!1},n}return o(t,e),f(t,[{key:"render",value:function(){return l.a.createElement(c.b,{isOpen:this.state.dropdownOpen,toggle:this.dropdownToggle},l.a.createElement(c.e,{id:this.props.id},l.a.createElement("i",{className:"fa fa-ellipsis-v"}),l.a.createElement(c.j,{toggle:this.tooltipToggle,delay:{show:0,hide:0},target:this.props.id,placement:"bottom",isOpen:this.state.tooltipOpen},this.props.text)),l.a.createElement(c.d,{className:"drop-list"},this.props.switchEditorMode&&!this.props.readOnly?l.a.createElement(c.c,{onMouseDown:this.props.switchEditorMode},this.props.t(this.props.editText)):null,"rich-editor"===this.props.mode&&!this.props.readOnly&&l.a.createElement(c.c,{onMouseDown:this.props.switchToMarkDownViewer},this.props.t("switch_to_viewer")),this.props.showHelpDialog?l.a.createElement(c.c,{onMouseDown:this.props.showHelpDialog},this.props.t("help")):""))}}]),t}(l.a.PureComponent),m=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"btn-group "+this.props.className,role:"group"},this.props.children)}}]),t}(l.a.PureComponent),h=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"render",value:function(){return l.a.createElement("button",{type:"button",onMouseDown:this.props.onMouseDown,className:"btn btn-secondary btn-active "+this.props.className},this.props.children)}}]),t}(l.a.PureComponent),g=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(){if(!(n.props.disabled||n.state.isFreezed&&!n.state.tooltipOpen)){n.setState({tooltipOpen:!n.state.tooltipOpen,isFreezed:!0});var e=n;setTimeout(function(){e.setState({isFreezed:!1})},100)}},n.state={tooltipOpen:!1,isFreezed:!1},n}return o(t,e),f(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.disabled!==e.disabled?(this.setState({tooltipOpen:!1}),!0):t.tooltipOpen!==this.state.tooltipOpen||e.isActive!==this.props.isActive}},{key:"render",value:function(){var e=this.props.isRichEditor?"rich-icon-btn "+(this.props.disabled?"rich-icon-btn-disabled":"rich-icon-btn-hover"):"btn btn-icon btn-secondary btn-active";return l.a.createElement("button",{id:this.props.id,type:"button",onClick:this.props.disabled?null:this.props.onClick,onMouseDown:this.props.disabled?null:this.props.onMouseDown,className:e,"data-active":this.props.isActive||!1,disabled:this.props.disabled},l.a.createElement("i",{className:this.props.icon}),l.a.createElement(c.j,{toggle:this.toggle,delay:{show:0,hide:0},target:this.props.id,placement:"bottom",isOpen:this.state.tooltipOpen},this.props.text))}}]),t}(l.a.Component),v=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dropdownToggle=function(){n.setState({dropdownOpen:!n.state.dropdownOpen})},n.state={dropdownOpen:!1},n}return o(t,e),f(t,[{key:"render",value:function(){return l.a.createElement(c.b,{className:this.props.className,isOpen:this.state.dropdownOpen,toggle:this.dropdownToggle},l.a.createElement(c.e,{id:this.props.id},l.a.createElement("i",{className:"fa fa-users"})," ",this.props.users.length),l.a.createElement(c.d,{className:"drop-list"},this.props.users.map(function(e,t){return l.a.createElement(c.c,{key:t},l.a.createElement("i",{className:e.is_editing?"fa fa-edit":"fa fa-user"})," ",e.user.name," ",e.myself?"(you)":"")})))}}]),t}(l.a.PureComponent),b=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"render",value:function(){var e=this;return l.a.createElement(m,{className:"editor-btn-group"},l.a.createElement(y,{icon:"ico ico-left-align",items:[{handle:function(t){e.props.onSetAlign(t,"left")},icon:"ico ico-left-align",text:this.props.t("left")},{handle:function(t){e.props.onSetAlign(t,"center")},icon:"ico ico-center-horizontally",text:this.props.t("center")},{handle:function(t){e.props.onSetAlign(t,"right")},icon:"ico ico-right-align",text:this.props.t("right")}]}),l.a.createElement(y,{icon:"ico ico-column",items:[{handle:this.props.onInsertColumn,text:this.props.t("Insert_Column")},{handle:this.props.onRemoveColumn,text:this.props.t("Remove_Column")}]}),l.a.createElement(y,{icon:"ico ico-row",items:[{handle:this.props.onInsertRow,text:this.props.t("Insert_Row")},{handle:this.props.onRemoveRow,text:this.props.t("Remove_Row")}]}),l.a.createElement(g,{disabled:!1,isRichEditor:!0,text:this.props.t("remove_table"),id:"removeTable",icon:"ico ico-delete-table",onMouseDown:this.props.onRemoveTable}))}}]),t}(l.a.PureComponent),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=function(e){if(!n.props.disabled){n.getContainer().contains(e.target)?n.toggle():n.state.dropdownOpen&&n.setState({dropdownOpen:!n.state.dropdownOpen})}},n.toggle=function(){n.setState({dropdownOpen:!n.state.dropdownOpen})},n.state={dropdownOpen:!1},n}return o(t,e),f(t,[{key:"getContainer",value:function(){return u.a.findDOMNode(this)}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=[];return this.props.items.forEach(function(t,n){e.push(l.a.createElement("button",{key:"dropdown-item"+n,onMouseDown:t.handle,className:"dropdown-item"},t.icon?l.a.createElement("i",{className:t.icon,style:{marginRight:"6px"}}):null,t.text))}),l.a.createElement("div",{className:"custom-dropdown-list"},l.a.createElement("div",{id:"list_toggle",className:"dropdown-list-toggle"},l.a.createElement("i",{className:this.props.icon,style:{marginRight:"3px"}}),l.a.createElement("i",{className:this.state.dropdownOpen?"fa fa-caret-up":"fa fa-caret-down"})),this.state.dropdownOpen&&l.a.createElement("div",{role:"menu",className:"custom-dropdown-menu dropdown-menu"},e))}}]),t}(l.a.PureComponent),E=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=function(e){if(!n.props.disabled){n.getContainer().contains(e.target)?n.toggle():n.state.dropdownOpen&&n.setState({dropdownOpen:!n.state.dropdownOpen})}},n.toggle=function(){n.setState({dropdownOpen:!n.state.dropdownOpen})},n.state={dropdownOpen:!1},n}return o(t,e),f(t,[{key:"getContainer",value:function(){return u.a.findDOMNode(this)}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"header-list"},l.a.createElement("div",{className:"list-body "+(this.props.disabled?"":"header-list-body-hover")+(this.state.dropdownOpen?" header-list-body-highlight":"")},l.a.createElement("div",{className:"list-title"},this.props.t(this.props.headerType)),l.a.createElement("div",{className:"list-caret"},l.a.createElement("i",{className:this.state.dropdownOpen?"fa fa-caret-up":"fa fa-caret-down"}))),this.state.dropdownOpen&&l.a.createElement("div",{className:"list-dropdown"},l.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickBlock(t,"paragraph")}},this.props.t("paragraph")),l.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickBlock(t,"header_one")}},this.props.t("header_one")),l.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickBlock(t,"header_two")}},this.props.t("header_two")),l.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickBlock(t,"header_three")}},this.props.t("header_three")),l.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickBlock(t,"header_four")}},this.props.t("header_four")),l.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickBlock(t,"header_five")}},this.props.t("header_five")),l.a.createElement("div",{className:"list-dropdown-item",onClick:function(t){e.props.onClickBlock(t,"header_six")}},this.props.t("header_six"))))}}]),t}(l.a.PureComponent),w=Object(d.withTranslation)("seafile-editor")(b),S=Object(d.withTranslation)("seafile-editor")(p),_=Object(d.withTranslation)("seafile-editor")(E)},,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(3),h={repo:d.default.object.isRequired,isRepoDeleted:d.default.bool.isRequired,toggle:d.default.func.isRequired,onDeleteRepo:d.default.func.isRequired},g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(){n.props.toggle()},n.onDeleteRepo=function(){n.setState({isRequestSended:!0},function(){n.props.onDeleteRepo(n.props.repo)})},n.state={isRequestSended:!1},n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.isRepoDeleted||this.setState({isRequestSended:!1})}},{key:"render",value:function(){var e=this.state.isRequestSended,t=this.props.repo,n='<span class="op-target">'+m.Utils.HTMLescape(t.repo_name||t.name)+"</span>",r=(0,p.gettext)("Are you sure you want to delete %s ?");return r=r.replace("%s",n),u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Delete Library")),u.default.createElement(f.ModalBody,null,u.default.createElement("p",{dangerouslySetInnerHTML:{__html:r}})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",disabled:e,onClick:this.onDeleteRepo},(0,p.gettext)("Delete"))))}}]),t}(s.Component);g.propTypes=h,t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,a=l(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ValueContainer=t.SingleValue=t.Placeholder=t.MultiValue=t.Input=void 0;var s=r(n(725)),u=r(n(841)),c=n(842),d=r(n(737)),f=r(n(738)),p=r(n(739)),m=r(n(740)),h=r(n(741)),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,c.defaultComponents)({components:e}),n=t.Input,r=t.MultiValue,o=t.Placeholder,l=t.SingleValue,s=t.ValueContainer,u=i(t,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return a({Input:(0,d.default)(n),MultiValue:(0,f.default)(r),Placeholder:(0,p.default)(o),SingleValue:(0,m.default)(l),ValueContainer:(0,h.default)(s)},u)},v=g(),b=v.Input;t.Input=b;var y=v.MultiValue;t.MultiValue=y;var E=v.Placeholder;t.Placeholder=E;var w=v.SingleValue;t.SingleValue=w;var S=v.ValueContainer;t.ValueContainer=S;var _=(0,s.default)(g,u.default);t.default=_},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(126),p=n(8),m=r(p),h={content:d.default.string,onContentClick:d.default.func},g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.formatterLongTextValue=function(e){f.processor.process(e).then(function(e){var t=String(e);n.setState({isFormatValue:!1,innerHtml:t})})},n.state={innerHtml:null,isFormatValue:!0},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.content;e?this.formatterLongTextValue(e):this.setState({isFormatValue:!1,innerHtml:""})}},{key:"componentWillReceiveProps",value:function(e){var t=e.content;this.formatterLongTextValue(t)}},{key:"render",value:function(){return this.state.isFormatValue?u.default.createElement(m.default,null):u.default.createElement("div",{className:"conditions-preview-container",onClick:this.props.onContentClick},u.default.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.innerHtml}}))}}]),t}(u.default.Component);g.propTypes=h,t.default=g},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(82),m=r(p),h=n(389),g=r(h),v=n(4),b=n(2),y=n(3),E=n(5),w=r(E),S=n(45),_=r(S),x={itemName:d.default.string.isRequired,toggleDialog:d.default.func.isRequired,submit:d.default.func.isRequired,canTransferToDept:d.default.bool},O=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e})},n.submit=function(){var e=n.state.selectedOption;n.props.submit(e)},n.onClick=function(){n.setState({transferToUser:!n.state.transferToUser})},n.state={selectedOption:null,errorMsg:[],transferToUser:!0},n.options=[],n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;b.isPro&&v.seafileAPI.listDepartments().then(function(t){for(var n=0;n<t.data.length;n++){var r={};r.value=t.data[n].name,r.email=t.data[n].email,r.label=t.data[n].name,e.options.push(r)}}).catch(function(e){var t=y.Utils.getErrorMsg(e);w.default.danger(t)})}},{key:"render",value:function(){var e=this.props.itemName,t='<span class="op-target" title='+e+">"+e+"</span>",n=(0,b.gettext)("Transfer Library {library_name}"),r=n.replace("{library_name}",t),a=!0;return void 0!=this.props.canTransferToDept&&(a=this.props.canTransferToDept),u.default.createElement(f.Modal,{isOpen:!0},u.default.createElement(f.ModalHeader,{toggle:this.props.toggleDialog},u.default.createElement("div",{dangerouslySetInnerHTML:{__html:r}})),u.default.createElement(f.ModalBody,null,this.state.transferToUser?u.default.createElement(_.default,{ref:"userSelect",isMulti:!1,className:"reviewer-select",placeholder:(0,b.gettext)("Select a user"),onSelectChange:this.handleSelectChange}):u.default.createElement(m.default,{isClearable:!0,isMulti:!1,maxMenuHeight:200,hideSelectedOptions:!0,components:(0,g.default)(),placeholder:(0,b.gettext)("Select a department"),options:this.options,onChange:this.handleSelectChange}),b.isPro&&a&&u.default.createElement("span",{className:"action-link",onClick:this.onClick},this.state.transferToUser?(0,b.gettext)("Transfer to department"):(0,b.gettext)("Transfer to user"))),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggleDialog},(0,b.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.submit},(0,b.gettext)("Submit"))))}}]),t}(u.default.Component);O.propTypes=x,t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(3),h={fileType:d.default.string,parentPath:d.default.string.isRequired,onAddFolder:d.default.func.isRequired,checkDuplicatedName:d.default.func.isRequired,addFolderCancel:d.default.func.isRequired},g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){e.target.value.trim()?n.setState({isSubmitBtnActive:!0}):n.setState({isSubmitBtnActive:!1}),n.setState({childName:e.target.value})},n.handleSubmit=function(){if(n.state.isSubmitBtnActive){var e=n.state.childName;if(n.checkDuplicatedName()){var t=(0,p.gettext)('The name "{name}" is already taken. Please choose a different name.');t=t.replace("{name}",m.Utils.HTMLescape(e)),n.setState({errMessage:t})}else{var r=n.state.parentPath+e;n.props.onAddFolder(r)}}},n.handleKeyPress=function(e){"Enter"===e.key&&(n.handleSubmit(),e.preventDefault())},n.toggle=function(){n.props.addFolderCancel()},n.checkDuplicatedName=function(){return n.props.checkDuplicatedName(n.state.childName)},n.state={parentPath:"",childName:"",errMessage:"",isSubmitBtnActive:!1},n.newInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.parentPath;"/"===e[e.length-1]?this.setState({parentPath:e}):this.setState({parentPath:e+"/"}),this.newInput.focus(),this.newInput.setSelectionRange(0,0)}},{key:"render",value:function(){var e=this;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("New Folder")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"folderName"},(0,p.gettext)("Name")),u.default.createElement(f.Input,{id:"folderName",value:this.state.childName,innerRef:function(t){e.newInput=t},onKeyPress:this.handleKeyPress,onChange:this.handleChange}))),this.state.errMessage&&u.default.createElement(f.Alert,{color:"danger",className:"mt-2"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit,disabled:!this.state.isSubmitBtnActive},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);g.propTypes=h,t.default=g},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=(n(3),{toggle:d.default.func.isRequired,updateQuota:d.default.func.isRequired}),h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(){n.props.toggle()},n.handleQuotaChange=function(e){var t=e.target.value;n.setState({quota:t,isSubmitBtnActive:""!=t.trim()})},n.handleKeyPress=function(e){"Enter"==e.key&&(n.handleSubmit(),e.preventDefault())},n.handleSubmit=function(){n.props.updateQuota(n.state.quota.trim()),n.toggle()},n.state={quota:"",isSubmitBtnActive:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.quota,n=e.isSubmitBtnActive;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Set Quota")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.InputGroup,null,u.default.createElement(f.Input,{type:"text",className:"form-control",value:t,onKeyPress:this.handleKeyPress,onChange:this.handleQuotaChange}),u.default.createElement(f.InputGroupAddon,{addonType:"append"},u.default.createElement(f.InputGroupText,null,"MB"))),u.default.createElement("p",{className:"small text-secondary mt-2 mb-2"},(0,p.gettext)("An integer that is greater than or equal to 0."),u.default.createElement("br",null),(0,p.gettext)("Tip: 0 means default limit"))))),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit,disabled:!n},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(498),a=n(677),o=n(695);n.d(t,"SeafileEditor",function(){return a.a}),n.d(t,"RichEditor",function(){return r.a}),n.d(t,"SimpleEditor",function(){return o.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(1),u=n.n(s),c=n(73),d=n(212),f=n(169),p=n(104),m=n(296),h=n(217),g=n(226),v=n(227),b=n(676),y=(n.n(b),n(228)),E=(n.n(y),n(229)),w=(n.n(E),n(230)),S=(n.n(w),n(231)),_=(n.n(S),n(32)),x=n(232),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={showAddImageDialog:!1,isSelectedImage:!1,leftNavMode:"files",showAddLinkDialog:!1,fileInfo:{},contentChanged:!1,isSaving:!1,isShowHelpDialog:!1,isShowBigImage:!1},n.scrollToNode=function(e){n.editor.moveToStartOfNode(e).focus()},n.showEditCurrentLinkDialog=function(){n.setState({showAddLinkDialog:!0})},n.onChange=function(e){n.selectedCells.key&&!0===n.selectedCells.hasRendered&&n.resetSelectedCells(),n.props.onChange(e)},n.onSave=function(e){n.props.onSave(e)},n.getScrollTop=function(){return n.refs.editorContainer.scrollTop},n.showHelpDialog=function(){n.setState({isShowHelpDialog:!0})},n.hideHelpDialog=function(){n.setState({isShowHelpDialog:!1})};var o=new h.a;return n.renderNode=h.e.bind(n),n.renderMark=h.d.bind(n),n.focusEditor=o.focusEditor.bind(n),n.setSelectedCells=o.setSelectedCells.bind(n),n.resetSelectedCells=o.resetSelectedCells.bind(n),n.toggleMark=o.toggleMark.bind(n),n.hasMark=o.hasMark.bind(n),n.isInTable=o.isInTable.bind(n),n.isInCode=o.isInCode.bind(n),n.hasBlock=o.hasBlock.bind(n),n.toggleImageDialog=o.toggleImageDialog.bind(n),n.clickMark=o.clickMark.bind(n),n.onClickBlock=o.onClickBlock.bind(n),n.onAddCheckItem=o.onAddCheckItem.bind(n),n.getButtonState=o.getButtonState.bind(n),n.onToggleLink=o.onToggleLink.bind(n),n.hasLinks=o.hasLinks.bind(n),n.onSetLink=o.onSetLink.bind(n),n.addLink=o.addLink.bind(n),n.hasSelectImage=o.hasSelectImage.bind(n),n.changeLink=o.changeLink.bind(n),n.getSelectionText=o.getSelectionText.bind(n),n.getCurrentLinkNode=o.getCurrentLinkNode.bind(n),n.onToggleCode=o.onToggleCode.bind(n),n.onAddTable=o.onAddTable.bind(n),n.onInsertColumn=o.onInsertColumn.bind(n),n.onInsertRow=o.onInsertRow.bind(n),n.onRemoveColumn=o.onRemoveColumn.bind(n),n.onRemoveRow=o.onRemoveRow.bind(n),n.onRemoveTable=o.onRemoveTable.bind(n),n.onSetAlign=o.onSetAlign.bind(n),n.onInsertImage=o.onInsertImage.bind(n),n.adjustImageSize=o.adjustImageSize.bind(n),n.onContext=o.onContext.bind(n),n.toggleLinkDialog=o.toggleLinkDialog.bind(n),n.toggleBigImage=o.toggleBigImage.bind(n),n.onRightMenuChange=o.onRightMenuChange.bind(n),n.headerList=["paragraph","header_one","header_two","header_three","header_four","header_five","header_six"],n.selectedCells={key:null,hasRendered:!1,row:{max:-1,min:-1},col:{min:-1,max:-1}},n.bigImageSrc="",n}return o(t,e),O(t,[{key:"setContent",value:function(){this.setState({isSelectedImage:!1})}},{key:"componentDidCatch",value:function(e){this.props.resetRichValue(),console.log(e)}},{key:"componentDidMount",value:function(){var e=this;this.setContent(),window.richEditor=this,this.editor=this.refs.editor,this.editor.richEditor=this,setTimeout(function(){e.editor.focus()},10),this.props.resetContentChange&&setTimeout(function(){e.props.resetContentChange()}),this.props.collabUsers.filter(function(e){return!0===e.is_editing&&void 0===e.myself}).length>0&&p.a.danger("Another user is editing this file!",{duration:3}),-1===navigator.userAgent.toLowerCase().indexOf("chrome")&&p.a.warning(this.props.t("Editing_files_in_this_browser_can_lead_to_slight_display_problems"),{duration:4})}},{key:"componentWillReceiveProps",value:function(){this.setContent()}},{key:"render",value:function(){var e=this.props.t,t=this.props.value.selection.isCollapsed,n=void 0;try{n=this.getButtonState(this.props.value)}catch(e){console.log(e),n={isTableActive:!1,isCodeActive:!1,headerType:"paragraph",isLinkActive:!1,isBoldActive:!1,isItalicActive:!1,isInlineCodeActive:!1,isImageActive:!1,isBlockquoteActive:!1,isOrderedListActive:!1,isUnorderedListActive:!1,isCheckListActive:!1,isSaving:!1,isShowAddImageDialog:!1,isShowAddLinkDialog:!1}}return l.a.createElement("div",{className:"seafile-editor-module seafile-editor"},l.a.createElement("div",{className:"seafile-rich-editor-topbar"},l.a.createElement(v.a,{buttonState:n,editor:this})),l.a.createElement("div",{className:"d-flex seafile-editor-main"},l.a.createElement("div",{className:"editor-main-panel"},l.a.createElement("div",{className:"rich-editor-container",ref:"editorContainer"},l.a.createElement("div",{onClick:1===this.props.value.document.nodes.size&&"paragraph"===this.props.value.document.nodes.get(0).type&&0===this.props.value.document.text.length?this.focusEditor:null,className:"editor article"},l.a.createElement(c.Editor,{value:this.props.value,plugins:h.c,ref:"editor",onChange:this.onChange,renderNode:this.renderNode,renderMark:this.renderMark,schema:d.a,editorUtilities:this.props.editorUtilities}))),n.isLinkActive&&t?l.a.createElement(x.a,null,l.a.createElement(g.a,{editor:this,value:this.props.value})):null,this.state.isShowHelpDialog?l.a.createElement(m.a,{userHelp:e("userHelp",{returnObjects:!0}),hideHelpDialog:this.hideHelpDialog}):null,this.state.isShowBigImage&&l.a.createElement(f.a,{bigImageSrc:this.bigImageSrc,toggleBigImage:this.toggleBigImage}))))}}]),t}(l.a.Component);C.defaultProps={collabUsers:[]},C.propTypes={collabUsers:u.a.array},t.a=Object(_.withTranslation)("seafile-editor")(C)},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(86),o=n.n(a),i={types:["ul_list","ol_list"],typeItem:"list_item",typeDefault:"paragraph",canMerge:function(e,t){return e.type===t.type}},l=function e(t){r(this,e);var n=t?o.a.assign({},i,t):i;this.types=n.types,this.typeItem=n.typeItem,this.typeDefault=n.typeDefault,this.canMerge=n.canMerge};t.a=l},function(e,t,n){"use strict";var r=n(502),a=n(512),o=n(513);n.d(t,"b",function(){return r.a}),n.d(t,"c",function(){return a.a}),n.d(t,"a",function(){return o.a})},function(e,t,n){"use strict";function r(e,t,n,r){if(e.shiftKey)return r();var i=t.value,l=Object(o.a)(n,i);return l?(e.preventDefault(),i.selection.isExpanded&&t.withoutNormalizing(function(){t.delete()}),0===l.text.length?Object(o.c)(n,i)>1?(t.withoutNormalizing(function(){Object(a.a)(n,t)}),t):(t.withoutNormalizing(function(){Object(a.d)(n,t)}),t):(t.withoutNormalizing(function(){Object(a.c)(n,t)}),t)):r()}var a=n(168),o=n(66);t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var i=a(t.value);return n=n||e.types[0],t.wrapBlock({type:n,data:o.Data.create(r)}),i.forEach(function(n){Object(l.g)(e,n)?n.nodes.forEach(function(e){var n=e.key;return t.unwrapNodeByKey(n)}):t.wrapBlockByKey(n.key,e.typeItem)}),t}function a(e){var t=e.selection,n=e.document,r=n.getClosestBlock(t.start.key),a=n.getClosestBlock(t.end.key);if(r===a)return Object(i.List)([r]);var o=n.getCommonAncestor(r.key,a.key),l=o.getPath(r.key),s=o.getPath(a.key);return o.nodes.slice(l[0],s[0]+1)}var o=n(12),i=n(70),l=(n.n(i),n(66));t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=Object(a.a)(e,t,n);return r?Object(o.a)(e,t,r):null}var a=n(132),o=n(293);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var o=t.document,i=t.startBlock;n=n||i;var l=Object(a.a)(e,t,n);return l?1+r(e,t,o.getParent(l.key)):0}var a=n(132);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.document,o=t.startBlock;n=n||o;var i=Object(a.a)(e,t,n);if(!i)return null;var l=r.getPreviousSibling(i.key);return l&&l.type===e.typeItem?l:null}var a=n(132);t.a=r},function(e,t,n){"use strict";function r(e,t){return!Object(a.a)(e,t).isEmpty()}var a=n(294);t.a=r},function(e,t,n){"use strict";function r(e,t){var n=Object(a.d)(e,t.value);if(n.isEmpty())return t;n.forEach(function(e){t.unwrapNodeByKey(e.key)});var r=n.first(),o=t.value.document.getParent(r.key),i=o.nodes.findIndex(function(e){return e.key===r.key});n.forEach(function(e){e.nodes.forEach(function(e){t.moveNodeByKey(e.key,o.key,i),i+=1})}),n.forEach(function(e){return t.removeNodeByKey(e.key)})}var a=n(66);t.a=r},function(e,t,n){"use strict";function r(e,t){var n=t.value,r=Object(a.a)(e,n);if(!r)return t;var o=n.selection.start.offset;return t.splitDescendantsByKey(r.key,n.selection.start.key,o)}var a=n(66);t.a=r},function(e,t,n){"use strict";function r(e,t){var n=Object(i.f)(e,t.value),r=Object(i.a)(e,t.value);return n&&r?a(e,t,r,n.key):t}function a(e,t,n,r){var a=t.value.document.getDescendant(r),l=a.nodes.size,s=a.nodes.last(),u=Object(i.g)(e,s)?s:null;if(u)return t.moveNodeByKey(n.key,u.key,u.nodes.size);var c=Object(i.e)(e,t.value,a);if(!c)throw new Error("Destination is not in a list");var d=o.Block.create({object:"block",type:c.type,data:c.data});return t.insertNodeByKey(r,l,d),t.moveNodeByKey(n.key,d.key,0)}var o=n(12),i=n(66);t.a=r},function(e,t,n){"use strict";function r(e,t){var n=t.value,r=n.document;if(1==Object(o.c)(e,n))return t;var i=Object(o.a)(e,n);if(!i)return t;var l=r.getParent(i.key),s=r.getParent(l.key),u=r.getParent(s.key),c=l.nodes.skipUntil(function(e){return e===i}).rest(),d=l.nodes.size===c.size+1;if(c.isEmpty())t.moveNodeByKey(i.key,u.key,u.nodes.indexOf(s)+1);else{var f=a.Block.create({object:"block",type:l.type,data:l.data});t.insertNodeByKey(i.key,i.nodes.size,f),t.moveNodeByKey(i.key,u.key,u.nodes.indexOf(s)+1),c.forEach(function(e,n){return t.moveNodeByKey(e.key,f.key,f.nodes.size+n)})}return d&&t.removeNodeByKey(l.key),t}var a=n(12),o=n(66);t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var i=t.value;return i.selection.isCollapsed&&Object(o.a)(n,i)?e.shiftKey?(e.preventDefault(),t.withoutNormalizing(function(){Object(a.a)(n,t)}),r()):(e.preventDefault(),void t.withoutNormalizing(function(){Object(a.b)(n,t)})):r()}var a=n(168),o=n(66);t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var i=t.value,l=i.selection,s=l.start.offset;if(l.isExpanded)return r();if(s>0)return r();var u=Object(o.a)(n,i);return u?!l.isCollapsed&&l.get("anchor").isAtStartOfNode(u)?r():(e.preventDefault(),l.get("anchor").isAtStartOfNode(u)?void t.withoutNormalizing(function(){Object(a.d)(n,t)}):r()):r()}var a=n(168),o=n(66);t.a=r},function(e,t,n){"use strict";function r(e){return{utils:{getCurrentItem:o.a.bind(null,e),getCurrentList:o.b.bind(null,e),getItemDepth:o.c.bind(null,e),getItemsAtRange:o.d.bind(null,e),getPreviousItem:o.f.bind(null,e),isList:o.g.bind(null,e),isSelectionInList:o.h.bind(null,e)},changes:{decreaseItemDepth:a.a.bind(null,e),increaseItemDepth:a.b.bind(null,e),splitListItem:a.c.bind(null,e),unwrapList:a.d.bind(null,e),wrapInList:a.e.bind(null,e)}}}var a=n(168),o=n(66);t.a=r},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){m()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){return e&&(e.children||e.props&&e.props.children)}function i(e){return e?e&&e.children?e.children:e.props&&e.props.children:[]}function l(e){return"[object Array]"===Object.prototype.toString.call(e)&&e.every(function(e){return b.a.isValidElement(e)})}function s(e,t,n,r){if(!t)return"";"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);var l=r.transKeepBasicHtmlNodesFor||[];return t.forEach(function(t,n){var u="".concat(n);if("string"===typeof t)e="".concat(e).concat(t);else if(o(t)){var c=l.indexOf(t.type)>-1&&1===Object.keys(t.props).length&&"string"===typeof o(t)?t.type:u;e=t.props&&t.props.i18nIsDynamicList?"".concat(e,"<").concat(c,"></").concat(c,">"):"".concat(e,"<").concat(c,">").concat(s("",i(t),n+1,r),"</").concat(c,">")}else if(b.a.isValidElement(t))e=l.indexOf(t.type)>-1&&0===Object.keys(t.props).length?"".concat(e,"<").concat(t.type,"/>"):"".concat(e,"<").concat(u,"></").concat(u,">");else if("object"===g()(t)){var d=a({},t),f=d.format;delete d.format;var p=Object.keys(d);f&&1===p.length?e="".concat(e,"{{").concat(p[0],", ").concat(f,"}}"):1===p.length?e="".concat(e,"{{").concat(p[0],"}}"):Object(S.d)("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",t)}else Object(S.d)("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",t)}),e}function u(e,t,n,r,s){function u(e){"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),e.forEach(function(e){"string"!==typeof e&&(o(e)?u(i(e)):"object"!==g()(e)||b.a.isValidElement(e)||Object.assign(p,e))})}function c(e,t){return"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),t.reduce(function(t,n,s){var u=n.children&&n.children[0]&&n.children[0].content;if("tag"===n.type){var p=e[parseInt(n.name,10)]||{},m=b.a.isValidElement(p);if("string"===typeof p)t.push(p);else if(o(p)){var h=i(p),v=c(h,n.children),y=l(h)&&0===v.length?h:v;p.dummy&&(p.children=y),t.push(b.a.cloneElement(p,a({},p.props,{key:s}),y))}else if(f&&"object"===g()(p)&&p.dummy&&!m){var E=c(e,n.children);t.push(b.a.cloneElement(p,a({},p.props,{key:s}),E))}else if(isNaN(n.name))if(r.transSupportBasicHtmlNodes&&d.indexOf(n.name)>-1)if(n.voidElement)t.push(b.a.createElement(n.name,{key:"".concat(n.name,"-").concat(s)}));else{var w=c(e,n.children);t.push(b.a.createElement(n.name,{key:"".concat(n.name,"-").concat(s)},w))}else if(n.voidElement)t.push("<".concat(n.name," />"));else{var S=c(e,n.children);t.push("<".concat(n.name,">").concat(S,"</").concat(n.name,">"))}else if("object"!==g()(p)||m)1===n.children.length&&u?t.push(b.a.cloneElement(p,a({},p.props,{key:s}),u)):t.push(b.a.cloneElement(p,a({},p.props,{key:s})));else{var _=n.children[0]?u:null;_&&t.push(_)}}else"text"===n.type&&t.push(n.content);return t},[])}if(""===t)return[];var d=r.transKeepBasicHtmlNodesFor||[],f=t&&new RegExp(d.join("|")).test(t);if(!e&&!f)return[t];var p={};return u(e),t=n.services.interpolator.interpolate(t,a({},p,{},s),n.language),i(c([{dummy:!0,children:e}],E.a.parse("<0>".concat(t,"</0>")))[0])}function c(e){var t=e.children,n=e.count,r=e.parent,o=e.i18nKey,i=e.tOptions,l=e.values,c=e.defaults,d=e.components,p=e.ns,m=e.i18n,h=e.t,g=f()(e,["children","count","parent","i18nKey","tOptions","values","defaults","components","ns","i18n","t"]),y=Object(w.e)()?Object(v.useContext)(w.a)||{}:{},E=y.i18n,_=y.defaultNS,x=m||E||Object(w.f)();if(!x)return Object(S.e)("You will need pass in an i18next instance by using i18nextReactModule"),t;var O=h||x.t.bind(x)||function(e){return e},C=a({},Object(w.d)(),{},x.options&&x.options.react),P=void 0!==r?r:C.defaultTransParent,k=p||O.ns||_||x.options&&x.options.defaultNS;k="string"===typeof k?[k]:k||["translation"];var D=c||s("",t,0,C)||C.transEmptyNodeValue,M=C.hashTransKey,T=o||(M?M(D):D),L=l?{}:{interpolation:{prefix:"#$?",suffix:"?$#"}},N=a({},i,{count:n},l,{},L,{defaultValue:D,ns:k}),I=T?O(T,N):D;return P?b.a.createElement(P,g,u(d||t,I,x,C,N)):u(d||t,I,x,C,N)}t.a=c;var d=n(214),f=n.n(d),p=n(133),m=n.n(p),h=n(517),g=n.n(h),v=n(0),b=n.n(v),y=n(518),E=n.n(y),w=n(103),S=n(170)},function(e,t){function n(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}e.exports=n},function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){e.exports={parse:n(519),stringify:n(522)}},function(e,t,n){function r(e,t,n,r,a){var o=t.indexOf("<",r),i=t.slice(r,-1===o?void 0:o);/^\s*$/.test(i)&&(i=" "),(!a&&o>-1&&n+e.length>=0||" "!==i)&&e.push({type:"text",content:i})}var a=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,o=n(520),i=Object.create?Object.create(null):{};e.exports=function(e,t){t||(t={}),t.components||(t.components=i);var n,l=[],s=-1,u=[],c={},d=!1;return e.replace(a,function(a,i){if(d){if(a!=="</"+n.name+">")return;d=!1}var f,p="/"!==a.charAt(1),m=0===a.indexOf("\x3c!--"),h=i+a.length,g=e.charAt(h);p&&!m&&(s++,n=o(a),"tag"===n.type&&t.components[n.name]&&(n.type="component",d=!0),n.voidElement||d||!g||"<"===g||r(n.children,e,s,h,t.ignoreWhitespace),c[n.tagName]=n,0===s&&l.push(n),f=u[s-1],f&&f.children.push(n),u[s]=n),(m||!p||n.voidElement)&&(m||s--,!d&&"<"!==g&&g&&(f=-1===s?l:u[s].children,r(f,e,s,h,t.ignoreWhitespace)))}),!l.length&&e.length&&r(l,e,0,0,t.ignoreWhitespace),l}},function(e,t,n){var r=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,a=n(521);e.exports=function(e){var t,n=0,o=!0,i={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(r,function(r){if("="===r)return o=!0,void n++;o?0===n?((a[r]||"/"===e.charAt(e.length-2))&&(i.voidElement=!0),i.name=r):(i.attrs[t]=r.replace(/^['"]|['"]$/g,""),t=void 0):(t&&(i.attrs[t]=t),t=r),n++,o=!1}),i}},function(e,t){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t){function n(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}function r(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?n(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(r,"")+"</"+t.name+">"}}e.exports=function(e){return e.reduce(function(e,t){return e+r("",t)},"")}},function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}e.exports=r},function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n},function(e,t){function n(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}e.exports=n},function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}e.exports=n},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){l()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function r(r,o){var i=Object(f.a)(e,r),l=u()(i,3),s=l[0],c=l[1],p=l[2],m=a({},r,{t:s,i18n:c,tReady:p});return t.withRef&&o&&(m.ref=o),d.a.createElement(n,m)}return r.displayName="withI18nextTranslation(".concat(Object(p.a)(n),")"),r.WrappedComponent=n,t.withRef?d.a.forwardRef(r):r}}t.a=o;var i=n(133),l=n.n(i),s=n(216),u=n.n(s),c=n(0),d=n.n(c),f=n(215),p=n(170)},function(e,t,n){"use strict";function r(e){var t=e.ns,n=e.children,r=l()(e,["ns","children"]),a=Object(u.a)(t,r),i=o()(a,3),s=i[0],c=i[1],d=i[2];return n(s,{i18n:c,lng:c.language},d)}t.a=r;var a=n(216),o=n.n(a),i=n(214),l=n.n(i),s=n(0),u=(n.n(s),n(215))},function(e,t,n){"use strict";function r(e){var t=e.i18n,n=e.defaultNS,r=e.children;return Object(i.k)(!0),o.a.createElement(i.a.Provider,{value:{i18n:t,defaultNS:n}},r)}t.a=r;var a=n(0),o=n.n(a),i=n(103)},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach(function(t){l()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(){return function(e){function t(t){var n=t.initialI18nStore,r=t.initialLanguage,o=u()(t,["initialI18nStore","initialLanguage"]);return Object(f.a)(n,r),d.a.createElement(e,a({},o))}return t.getInitialProps=Object(p.c)(e),t.displayName="withI18nextSSR(".concat(Object(m.a)(e),")"),t.WrappedComponent=e,t}}t.a=o;var i=n(133),l=n.n(i),s=n(214),u=n.n(s),c=n(0),d=n.n(c),f=n(295),p=n(103),m=n(170)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={pathNormalize:function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++)"."!==t[r]&&""!==t[r]&&(".."===t[r]?n.pop():n.push(t[r]));return n.join("/")}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(0),o=n.n(a),i=n(10),l=n.n(i),s=n(534),u="undefined"!==typeof window&&"undefined"!==typeof window.document,c=function e(){var t=this;if(r(this,e),this._bindNotify=function(e){t.notifyHandler=e},this._bindGetToasts=function(e){t.getToastsHandler=e},this._bindCloseAll=function(e){t.closeAllHandler=e},this.getToasts=function(){return t.getToastsHandler()},this.closeAll=function(){return t.closeAllHandler()},this.notify=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,Object.assign({},n,{intent:"none"}))},this.success=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,Object.assign({},n,{intent:"success"}))},this.warning=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,Object.assign({},n,{intent:"warning"}))},this.danger=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,Object.assign({},n,{intent:"danger"}))},u){var n=document.createElement("div");n.setAttribute("data-evergreen-toaster-container",""),document.body.appendChild(n),l.a.render(o.a.createElement(s.a,{bindNotify:this._bindNotify,bindGetToasts:this._bindGetToasts,bindCloseAll:this._bindCloseAll}),n)}};t.a=c},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),u=n.n(s),c=n(11),d=(n.n(c),n(1)),f=n.n(d),p=n(536),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=Object(c.css)({maxWidth:560,margin:"0 auto",top:0,left:0,right:0,position:"fixed",zIndex:30}),g=function(e){return Object.hasOwnProperty.call(e,"id")},v=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.getToasts=function(){return r.state.toasts},r.closeAll=function(){r.getToasts().forEach(function(e){return e.close()})},r.notify=function(e,t){if(g(t)){var n=!0,o=!1,i=void 0;try{for(var l,s=r.state.toasts[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var u=l.value;String(u.id).startsWith(t.id)&&r.closeToast(u.id)}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}var c=r.createToastInstance(e,t);return r.setState(function(e){return{toasts:[c].concat(a(e.toasts))}}),c},r.createToastInstance=function(e,n){var a=++t.idCounter,o=g(n)?n.id+"-"+a:a;return{id:o,title:e,description:n.description,hasCloseButton:n.hasCloseButton||!0,duration:n.duration||2,close:function(){return r.closeToast(o)},intent:n.intent}},r.closeToast=function(e){r.setState(function(t){return{toasts:t.toasts.map(function(t){return t.id===e?Object.assign({},t,{isShown:!1}):t})}})},r.removeToast=function(e){r.setState(function(t){return{toasts:t.toasts.filter(function(t){return t.id!==e})}})},e.bindNotify(r.notify),e.bindGetToasts(r.getToasts),e.bindCloseAll(r.closeAll),r.state={toasts:[]},r}return l(t,e),m(t,[{key:"render",value:function(){var e=this;return u.a.createElement("span",{className:h},this.state.toasts.map(function(t){var n=t.id,a=t.description,o=r(t,["id","description"]);return u.a.createElement(p.a,Object.assign({key:n,onRemove:function(){return e.removeToast(n)}},o),a)}))}}]),t}(u.a.PureComponent);v.propTypes={bindNotify:f.a.func.isRequired,bindGetToasts:f.a.func.isRequired,bindCloseAll:f.a.func.isRequired},v.idCounter=0,t.a=v},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(11),u=(n.n(s),n(1)),c=n.n(u),d=n(46),f=n.n(d),p=n(537),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h={deceleration:"cubic-bezier(0.0, 0.0, 0.2, 1)",acceleration:"cubic-bezier(0.4, 0.0, 1, 1)",spring:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},g=s.css.keyframes("openAnimation",{from:{opacity:0,transform:"translateY(-120%)"},to:{transform:"translateY(0)"}}),v=s.css.keyframes("closeAnimation",{from:{transform:"scale(1)",opacity:1},to:{transform:"scale(0.9)",opacity:0}}),b=Object(s.css)({display:"flex",flexDirection:"column",alignItems:"center",height:0,transition:"all 240ms "+h.deceleration,'&[data-state="entering"], &[data-state="entered"]':{animation:g+" 240ms "+h.spring+" both"},'&[data-state="exiting"]':{animation:v+" 120ms "+h.acceleration+" both"}}),y=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={isShown:!0,height:0},o.close=function(){o.clearCloseTimer(),o.setState({isShown:!1})},o.startCloseTimer=function(){o.props.duration&&(o.closeTimer=setTimeout(function(){o.close()},1e3*o.props.duration))},o.clearCloseTimer=function(){o.closeTimer&&(clearTimeout(o.closeTimer),o.closeTimer=null)},o.handleMouseEnter=function(){o.clearCloseTimer()},o.handleMouseLeave=function(){o.startCloseTimer()},o.onRef=function(e){if(null!==e){var t=e.getBoundingClientRect(),n=t.height;o.setState({height:n})}},i=n,a(o,i)}return o(t,e),m(t,[{key:"componentDidUpdate",value:function(e){e.isShown!==this.props.isShown&&this.setState({isShown:this.props.isShown})}},{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"render",value:function(){var e=this;return l.a.createElement(f.a,{appear:!0,unmountOnExit:!0,timeout:240,in:this.state.isShown,onExited:this.props.onRemove},function(t){return l.a.createElement("div",{"data-state":t,className:b,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,style:{height:e.state.height,zIndex:e.props.zIndex,marginBottom:e.state.isShown?0:-e.state.height}},l.a.createElement("div",{ref:e.onRef,style:{padding:8}},l.a.createElement(p.a,{intent:e.props.intent,title:e.props.title,children:e.props.children,isRemoveable:e.props.hasCloseButton,onRemove:function(){return e.close()}})))})}}]),t}(l.a.PureComponent);y.propTypes={zIndex:c.a.number,duration:c.a.number,onRemove:c.a.func,intent:c.a.oneOf(["none","success","warning","danger"]).isRequired,title:c.a.node,children:c.a.node,hasCloseButton:c.a.bool,isShown:c.a.bool},y.defaultProps={intent:"none"},t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(11),u=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),c=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.containerStyle=Object(s.css)({borderRadius:"3px",backgroundColor:"#fff",padding:"10px 16px",display:"flex",boxSizing:"border-box",boxShadow:"rgba(67, 90, 111, 0.3) 0px 0px 1px, rgba(67, 90, 111, 0.47) 0px 8px 10px -4px",justifyContent:"space-between",flexDirection:"row"}),n.containerBorderSuccess=Object(s.css)({borderLeft:"3px solid rgb(71, 184, 129)"}),n.containerBorderWarn=Object(s.css)({borderLeft:"3px solid rgb(217, 130, 43)"}),n.containerBorderDanger=Object(s.css)({borderLeft:"3px solid rgb(236, 76, 71)"}),n.containerBorderNotify=Object(s.css)({borderLeft:"3px solid rgb(16, 112, 202)"}),n.toastTextTitle=Object(s.css)({fontWeight:"600",fontSize:"14px",color:"#435a6f",margin:"0"}),n.toastTextChild=Object(s.css)({fontSize:"14px",color:"#999",margin:"0"}),n.toastClose=Object(s.css)({marginLeft:"15px",height:"24px",width:"24px",lineHeight:"22px",fontWeight:"700",textAlign:"center",fontSize:"20px",color:"#000",cursor:"pointer",opacity:"0.5",":hover":{opacity:1}}),n.toastIcon=Object(s.css)({marginRight:"10px",width:"14px",height:"20px",lineHeight:"20px"}),n}return o(t,e),u(t,[{key:"getContainerStyle",value:function(e){switch(e){case"success":return{borderStyle:this.containerBorderSuccess,iconColor:Object(s.css)({color:"rgb(71, 184, 129)"}),iconClass:"fa fa-check-circle"};case"warning":return{borderStyle:this.containerBorderWarn,iconColor:Object(s.css)({color:"rgb(217, 130, 43)"}),iconClass:"fa fa-exclamation-triangle"};case"none":return{borderStyle:this.containerBorderNotify,iconColor:Object(s.css)({color:"rgb(16, 112, 202)"}),iconClass:"fa fa-exclamation-circle"};case"danger":return{borderStyle:this.containerBorderDanger,iconColor:Object(s.css)({color:"rgb(236, 76, 71)"}),iconClass:"fa fa-exclamation-circle"}}}},{key:"render",value:function(){var e=this.getContainerStyle(this.props.intent);return l.a.createElement("div",Object(s.css)(e.borderStyle,this.containerStyle),l.a.createElement("div",{className:this.toastIcon},l.a.createElement("i",Object.assign({className:e.iconClass},e.iconColor))),l.a.createElement("div",{className:this.toastTextContainer},l.a.createElement("p",{className:this.toastTextTitle},this.props.title),this.props.children?l.a.createElement("p",{className:this.toastTextChild},this.props.children):null),l.a.createElement("div",{onClick:this.props.onRemove,className:this.toastClose},l.a.createElement("span",null,"\xd7")))}}]),t}(l.a.PureComponent);t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.onChange=function(e){var t=o.props,n=t.editor,r=t.node;n.setNodeByKey(r.key,{data:{syntax:e.target.value}})},i=n,a(o,i)}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.children,r=e.node,a=e.isSelected,o=e.editor,i=r.get("data").get("syntax");return l.a.createElement("div",{onBlur:this.onBlur,className:"code-container"},l.a.createElement("pre",Object.assign({className:"code"},t),l.a.createElement("code",null,n)),a?l.a.createElement(c,{disabled:o.props.readOnly,lang:i,onChange:this.onChange}):null)}}]),t}(l.a.PureComponent),c=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return l.a.createElement("div",{contentEditable:!1,className:"language-type"},l.a.createElement("select",{value:this.props.lang,disabled:this.props.disabled,name:"language",onInput:function(e){return e.stopPropagation()},onChange:this.props.onChange},l.a.createElement("option",{value:"none"},"Text"),l.a.createElement("option",{value:"html"},"HTML"),l.a.createElement("option",{value:"css"},"CSS"),l.a.createElement("option",{value:"javascript"},"Javascript"),l.a.createElement("option",{value:"c"},"C"),l.a.createElement("option",{value:"cpp"},"C++"),l.a.createElement("option",{value:"csharp"},"C#"),l.a.createElement("option",{value:"java"},"Java"),l.a.createElement("option",{value:"python"},"Python"),l.a.createElement("option",{value:"sql"},"Sql"),l.a.createElement("option",{value:"swift"},"Swift"),l.a.createElement("option",{value:"json"},"JSON")))}}]),t}(l.a.PureComponent);t.a=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(10),u=n.n(s),c=n(540),d=(n.n(c),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),f=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setHasSelectedCells=function(e){n.hasSelectedCells=e},n.clearSelectedCell=function(){var e=u.a.findDOMNode(n);n.hasSelectedCells=!1,e.querySelectorAll(".selected-cell").forEach(function(e){e.classList.remove("selected-cell","selected-cell-left","selected-cell-bottom","selected-cell-top","selected-cell-right")})},n.setSelectedRange=function(e,t,r,a){n.setState({selectedRowRange:{min:e,max:t},selectedColRange:{min:r,max:a}})},n.state={selectedRowRange:{min:-1,max:-1},selectedColRange:{min:-1,max:-1}},n.hasSelectedCells=!1,n}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.children,r=e.node,a=e.isSelected,o=e.editor,i=e.richEditor;return l.a.createElement(p,{setSelectedRange:this.setSelectedRange,editor:o,isSelected:a,setHandler:this.setHandler,attributes:t,children:n,richEditor:i,node:r,hasSelectedCells:this.hasSelectedCells,clearSelectedCells:this.clearSelectedCell,setHasSelectedCells:this.setHasSelectedCells})}}]),t}(l.a.PureComponent),p=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selectTable=function(e){n.startRowIndex=n.getTableEle(e.target,"tr").rowIndex,n.startColIndex=n.getTableEle(e.target,"td").cellIndex,window.document.addEventListener("mousemove",n.selectCellsInTable),window.document.addEventListener("mouseup",n.onMouseUp)},n.getTableEle=function(e,t){if(e.nodeName.toLowerCase()===t)return e;for(var n=e;n.nodeName.toLowerCase()!==t;)n=n.parentNode;return n},n.selectCellsInTable=function(e){if("TBODY"!==e.target.nodeName&&n.table.contains(e.target)){if(n.endRowIndex=n.getTableEle(e.target,"tr").rowIndex,n.endColIndex=n.getTableEle(e.target,"td").cellIndex,n.endRowIndex===n.startRowIndex&&n.endColIndex===n.startColIndex)return void n.props.clearSelectedCells();window.getSelection?window.getSelection().removeAllRanges():document.selection.empty(),n.props.clearSelectedCells();for(var t=Math.min(n.startRowIndex,n.endRowIndex),r=Math.max(n.startRowIndex,n.endRowIndex),a=Math.min(n.startColIndex,n.endColIndex),o=Math.max(n.startColIndex,n.endColIndex),i=t;i<=r;i++)for(var l=n.table.querySelectorAll("tr")[i],s=a;s<=o;s++)l.querySelectorAll("td")[s].classList.add("selected-cell"),i===t&&l.querySelectorAll("td")[s].classList.add("selected-cell-top"),s===a&&l.querySelectorAll("td")[s].classList.add("selected-cell-left"),s===o&&l.querySelectorAll("td")[s].classList.add("selected-cell-right"),i===r&&l.querySelectorAll("td")[s].classList.add("selected-cell-bottom");return n.props.setHasSelectedCells(!0),n.props.richEditor.setSelectedCells(!1,n.props.node.key,t,a,r,o),n.props.setSelectedRange(t,r,a,o),!1}},n.onMouseUp=function(){var e=n.props.richEditor.selectedCells;e.col.min===e.col.max&&e.row.min===e.row.max||n.props.editor.moveToStart(),n.props.editor.focus(),window.document.removeEventListener("mousemove",n.selectCellsInTable),window.document.removeEventListener("mouseup",n.onMouseUp)},n.table=null,n}return o(t,e),d(t,[{key:"componentDidUpdate",value:function(){var e=this.props.richEditor.selectedCells;if(e.key===this.props.node.key&&e.row.min>=0){for(var t=e.row.min;t<=e.row.max;t++)for(var n=this.table.querySelectorAll("tr")[t],r=e.col.min;r<=e.col.max;r++)n.querySelectorAll("td")[r].classList.add("selected-cell"),t===e.row.min&&n.querySelectorAll("td")[r].classList.add("selected-cell-top"),r===e.col.min&&n.querySelectorAll("td")[r].classList.add("selected-cell-left"),r===e.col.max&&n.querySelectorAll("td")[r].classList.add("selected-cell-right"),t===e.row.max&&n.querySelectorAll("td")[r].classList.add("selected-cell-bottom");this.props.richEditor.setSelectedCells(!0)}else this.props.hasSelectedCells&&(this.props.clearSelectedCells(),this.props.setSelectedRange(-1,-1,-1,-1))}},{key:"componentDidMount",value:function(){this.table=u.a.findDOMNode(this)}},{key:"render",value:function(){return l.a.createElement("table",{onMouseDown:this.selectTable},l.a.createElement("tbody",this.props.attributes,this.props.children))}}]),t}(l.a.PureComponent);t.a=f},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(12),o=n(86),i=n.n(o),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s={containerType:"code_block",lineType:"code_line",exitBlockType:"paragraph",selectAll:!0,allowMarks:!1,getIndent:null,onExit:null},u=function(){function e(t){r(this,e);var n=t?i.a.assign({},s,t):s;this.containerType=n.containerType,this.lineType=n.lineType,this.exitBlockType=n.exitBlockType,this.selectAll=n.selectAll,this.allowMarks=n.allowMarks,this.getIndent=n.getIndent,this.onExit=n.onExit}return l(e,[{key:"resolvedOnExit",value:function(e){if(this.onExit)return this.onExit(e);var t=a.Block.create({type:this.exitBlockType,nodes:[a.Text.create()]});return e.insertBlockAtRange(e.value.selection,t,{normalize:!1}),e.unwrapNodeByKey(t.key),e.moveToStartOfNode(t)}}]),e}();t.a=u},function(e,t,n){"use strict";function r(e){return{changes:{wrapCodeBlock:o.d.bind(null,e),unwrapCodeBlock:o.c.bind(null,e),toggleCodeBlock:o.b.bind(null,e)},utils:{isInCodeBlock:a.e.bind(null,e),deserializeCode:a.a.bind(null,e)}}}var a=n(67),o=n(300);t.a=r},function(e,t,n){"use strict";function r(e,t){var n=l()(t)||s,r=Object(o.List)(t.split(n)).map(function(t){return a.Block.create({type:e.lineType,nodes:[a.Text.create(t)]})});return a.Block.create({type:e.containerType,nodes:r})}var a=n(12),o=n(70),i=(n.n(o),n(544)),l=n.n(i),s="\n";t.a=r},function(e,t,n){"use strict";e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected a string");var t=e.match(/(?:\r?\n)/g)||[];if(0===t.length)return null;var n=t.filter(function(e){return"\r\n"===e}).length;return n>t.length-n?"\r\n":"\n"},e.exports.graceful=function(t){return e.exports(t)||"\n"}},function(e,t,n){"use strict";function r(e,t){var n=t.document,r=t.selection;if(r.start.key){var a=n.getClosest(r.start.key,function(t){return t.type===e.containerType});return Boolean(a)}return!1}t.a=r},function(e,t,n){"use strict";function r(e,t){if(e.getIndent)return e.getIndent(t);var n=Object(o.a)(e,t);if(!n)return"";var r=n.getTexts().map(function(e){return e.text}).join("\n");return Object(a.a)(r)}var a=n(299),o=n(298);t.a=r},function(e,t,n){"use strict";function r(e){var t=0,n=0,r=0;for(var a in e){var o=e[a],i=o[0],l=o[1];(i>n||i===n&&l>r)&&(n=i,r=l,t=Number(a))}return t}var a=n(548),o=/^(?:( )+|\t+)/;e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected a string");var t,n,i=0,l=0,s=0,u={};e.split(/\n/g).forEach(function(e){if(e){var r,a=e.match(o);a?(r=a[0].length,a[1]?l++:i++):r=0;var c=r-s;s=r,c?(n=c>0,t=u[n?c:-c],t?t[0]++:t=u[c]=[1,0]):t&&(t[1]+=Number(n))}});var c,d,f=r(u);return f?l>=i?(c="space",d=a(" ",f)):(c="tab",d=a("\t",f)):(c=null,d=""),{amount:f,type:c,indent:d}}},function(e,t,n){"use strict";var r=n(549);e.exports=function(e,t){if("string"!==typeof e)throw new TypeError("Expected `input` to be a string");if(t<0||!r(t))throw new TypeError("Expected `count` to be a positive finite number");var n="";do{1&t&&(n+=e),e+=e}while(t>>=1);return n}},function(e,t,n){"use strict";var r=n(550);e.exports=Number.isFinite||function(e){return!("number"!==typeof e||r(e)||e===1/0||e===-1/0)}},function(e,t,n){"use strict";e.exports=Number.isNaN||function(e){return e!==e}},function(e,t,n){"use strict";function r(e,t,n){return Object(a.e)(e,t.value)?Object(i.a)(e,t,n):Object(o.a)(e,t)}var a=n(67),o=n(301),i=n(303);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.value,a=r.document,o=r.selection;return a.getBlocksAtRange(o).filter(function(t){return t.type===e.lineType}).reduce(function(e,t){var r=t.nodes.first();return e.insertTextByKey(r.key,0,n)},t)}t.a=r},function(e,t,n){"use strict";var r=(n(305),n(306),n(307),n(308),n(555)),a=n(556);n.d(t,"b",function(){return r.a}),n.d(t,"a",function(){return a.a})},function(e,t,n){"use strict";e.exports=function(e,t){if(Array.isArray(e))return e[e.length-1]===t;e=String(e),t=String(t);for(var n=t.length,r=e.length-n;n--;)if(t.charAt(n)!==e.charAt(r+n))return!1;return!0}},function(e,t,n){"use strict";function r(e,t,n,r){var l=n.value,s=Object(a.getEventTransfer)(t),u=Object(o.b)(e,l),c=l.endBlock;if(!u||!u.hasDescendant(c.key))return r();var d=void 0;d="fragment"===s.type?s.fragment.getTexts().map(function(e){return e.text}).join("\n"):s.text;var f=Object(o.a)(e,d).nodes,p=i.Document.create({nodes:f});return n.insertFragment(p)}var a=n(73),o=n(67),i=n(12);t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var a=n.value;if(!Object(o.b)(e,a))return r();var m=[e,t,n,r];return c(t)?i.a.apply(void 0,m):e.exitBlockType&&d(t)?s.a.apply(void 0,m):f(t)?l.a.apply(void 0,m):p(t)?u.a.apply(void 0,m):r()}var a=n(218),o=(n.n(a),n(67)),i=n(305),l=n(306),s=n(307),u=n(308),c=Object(a.isKeyHotkey)("tab"),d=Object(a.isKeyHotkey)("mod+enter"),f=Object(a.isKeyHotkey)("enter"),p=Object(a.isKeyHotkey)("backspace");t.a=r},function(e,t,n){"use strict";function r(e){var t=new a.a(e||{}),n=Object(o.a)(t);return Object.assign({},n,{onKeyDown:i.a.bind(null,t)})}var a=n(558),o=n(559),i=n(575);t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(86),o=n.n(a),i={typeTable:"table",typeRow:"table_row",typeCell:"table_cell",typeContent:"paragraph",exitBlockType:"paragraph"},l=function e(t){var n=this;r(this,e),this.isCell=function(e){return"block"==e.object&&e.type==n.typeCell};var a=t?o.a.assign({},i,t):i;this.typeTable=a.typeTable,this.typeRow=a.typeRow,this.typeCell=a.typeCell,this.typeContent=a.typeContent,this.exitBlockType=a.exitBlockType};t.a=l},function(e,t,n){"use strict";function r(e){return{utils:{isSelectionInTable:o.j.bind(null,e),isSelectionOutOfTable:o.k.bind(null,e),getPosition:o.h.bind(null,e),getPositionByKey:o.i.bind(null,e),createCell:o.b.bind(null,e),createRow:o.c.bind(null,e),createTable:o.d.bind(null,e),forEachCells:o.e.bind(null,e),getCellsAtRow:o.g.bind(null,e),getCellsAtColumn:o.f.bind(null,e)},changes:{insertTable:a.d.bind(null,e),clearCell:a.a.bind(null,e),removeRowByKey:a.j.bind(null,e),removeColumnByKey:a.h.bind(null,e),removeTableByKey:a.l.bind(null,e),insertRow:a.c.bind(null,e),removeRow:a.i.bind(null,e),insertColumn:a.b.bind(null,e),removeColumn:a.g.bind(null,e),removeTable:a.k.bind(null,e),moveSelection:a.e.bind(null,e),moveSelectionBy:a.f.bind(null,e)}}}var a=n(134),o=n(37);t.a=r},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=arguments[4];if(!t.value.selection.start.key)return t;var i=Object(a.d)(e,n,r,o);return t.insertBlock(i)}var a=n(37);t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var l=Object(a.Range)(0,n).map(function(n){return Object(i.a)(e,t,r?r.bind(null,n):void 0)}).toList();return o.Block.create({type:e.typeTable,nodes:l})}var a=n(70),o=(n.n(a),n(12)),i=n(310);t.a=r},function(e,t,n){"use strict";function r(e,t){return a.a.create(e,t.document,t.selection.start.key)}var a=n(135);t.a=r},function(e,t,n){"use strict";function r(e,t,n){return a.a.create(e,t,n)}var a=n(135);t.a=r},function(e,t,n){"use strict";function r(e,t){var n=t.selection;if(!n.start.key)return!1;var r=n.start.key,o=n.end.key,i=a.a.create(e,t.document,r),l=a.a.create(e,t.document,o);return!(!i.isInTable()||!l.isInTable())&&i.table===l.table}var a=n(135);t.a=r},function(e,t,n){"use strict";function r(e,t){if(!t.selection.start.key)return!1;var n=t.startKey,r=t.endKey,o=a.a.create(e,t.document,n),i=a.a.create(e,t.document,r);return!o.isInTable()&&!i.isInTable()}var a=n(135);t.a=r},function(e,t,n){"use strict";function r(e,t,n){return t.nodes.forEach(function(e,t){return e.nodes.forEach(function(e,r){return n(e,t,r)})})}t.a=r},function(e,t,n){"use strict";function r(e,t,n){return t.nodes.get(n).nodes}t.a=r},function(e,t,n){"use strict";function r(e,t,n){return t.nodes.map(function(e){return e.nodes.get(n)})}t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=t.value,i=o.startBlock.key,l=a.a.create(e,o.document,i),s=l.table,u=s.nodes.get(0).nodes.size,c=r?r(u):Object(a.c)(e,u);return"undefined"===typeof n&&(n=l.getRowIndex()+1),t.insertNodeByKey(s.key,n,c).moveToEndOfNode(c.nodes.get(l.getColumnIndex()))}var a=n(37);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.value,i=r.selection,l=i.start.key,s=a.a.create(e,r.document,l),u=void 0;return u="undefined"===typeof n?s.row.key:s.table.nodes.get(n).key,Object(o.a)(e,t,u)}var a=n(37),o=n(311);t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var i=t.value,l=i.selection.start.key,s=a.a.create(e,i.document,l),u=s.table,c="undefined"===typeof n?s.getColumnIndex()+1:n;return u.nodes.forEach(function(n,o){var i=r?r(c,o):Object(a.b)(e);t.insertNodeByKey(n.key,c,i,{normalize:!1})}),Object(o.a)(e,t,s.getColumnIndex()+1,s.getRowIndex())}var a=n(37),o=n(312);t.a=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.value,i=r.selection.start.key,l=a.a.create(e,r.document,i),s=void 0;return s="undefined"===typeof n?l.cell.key:l.row.nodes.get(n).key,Object(o.a)(e,t,s)}var a=n(37),o=n(313);t.a=r},function(e,t,n){"use strict";function r(e,t){var n=t.value,r=n.selection,o=r.start.key;return Object(a.a)(e,t,o)}var a=n(314);t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var l=t.value,s=l.selection.start.key,u=o.a.create(e,l.document,s);if(!u.isInCell())throw new Error("moveSelectionBy can only be applied in a cell");var c=u.getRowIndex(),d=u.getColumnIndex(),f=u.getWidth(),p=u.getHeight(),m=a(n+d,r+c,f,p),h=i(m,2),g=h[0],v=h[1];if(-1===g)return t;var b=u.table,y=b.nodes.get(v),E=y.nodes.get(g);return t.moveToEndOfNode(E),t}function a(e,t,n,r){return e<0&&(e=n-1,t-=1),t<0?[-1,-1]:(e>=n&&(e=0,t+=1),t>=r?[-1,-1]:[e,t])}var o=n(37),i=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.a=r},function(e,t,n){"use strict";var r=(n(315),n(316),n(317),n(318),n(319),n(576));n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function r(e,t,n,r){if(!Object(a.j)(e,n.value))return r();var h=[t,n,e,r];switch(t.key){case c:return t.metaKey&&e.exitBlockType?i.a.apply(void 0,h):o.a.apply(void 0,h);case d:return l.a.apply(void 0,h);case f:return s.a.apply(void 0,h);case p:case m:return u.a.apply(void 0,h);default:return r()}}var a=n(37),o=n(315),i=n(316),l=n(317),s=n(318),u=n(319),c="Enter",d="Tab",f="Backspace",p="ArrowDown",m="ArrowUp";t.a=r},function(e,t,n){"use strict";function r(e){return e=e||{},e.type=e.type||"paragraph",e.match=e.match||function(t){return t.type===e.type},{normalizeNode:function(t,n,r){if("document"!==t.object)return r();var a=t.nodes.last();if(a&&e.match(a))return r();var i=t.nodes.count(),l=o.Block.create({type:e.type,nodes:[o.Text.create()]});return function(e){return e.insertNodeByKey(t.key,i,l)}},changes:{focusAtEnd:a.a}}}var a=n(578),o=n(12);t.a=r},function(e,t,n){"use strict";function r(e){var t=e.value,n=t.document;return e.moveToEndOfNode(n)}t.a=r},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=new a.a(e);var t=Object(i.a)(e);return Object.assign({},t,{onKeyDown:o.a.bind(null,e)})}var a=n(580),o=n(581),i=n(586);t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(86),o=n.n(a),i={type:"blockquote",typeDefault:"paragraph"},l=function e(t){r(this,e);var n=t?o.a.assign({},i,t):i;this.type=n.type,this.typeDefault=n.typeDefault};t.a=l},function(e,t,n){"use strict";var r=(n(320),n(322),n(585));n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function r(e,t){return Boolean(Object(a.a)(e,t))}var a=n(321);t.a=r},function(e,t,n){"use strict";function r(e,t){return t.unwrapBlock(e.type)}t.a=r},function(e,t,n){"use strict";function r(e,t){return t.wrapBlock(e.type)}t.a=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=[e,t,n,r];switch(t.key){case i:return a.a.apply(void 0,s);case l:return o.a.apply(void 0,s);default:return r()}}var a=n(322),o=n(320),i="Enter",l="Backspace";t.a=r},function(e,t,n){"use strict";function r(e){return{utils:{isSelectionInBlockquote:a.b.bind(null,e)},changes:{wrapInBlockquote:o.b.bind(null,e),unwrapBlockquote:o.a.bind(null,e)}}}var a=n(220),o=n(221);t.a=r},function(e,t,n){"use strict";function r(){function e(e){var t=!1,n=!0,r=!1,a=void 0;try{for(var o,i=l[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;e.includes(s)&&(t=!0)}}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}return t}function t(e,t,n){return o.a.resolve(i(e,t,n)).then(function(){e.onChange(e)})}function n(e,t,n){var a=Object(u.getEventTransfer)(e),o=Object(u.getEventRange)(e,t);switch(a.type){case"files":return r(e,t,a,o,n);default:return n()}}function r(n,r,a,o,i){var s=a.files,u=!0,d=!1,f=void 0;try{for(var p,m=s[Symbol.iterator]();!(u=(p=m.next()).done);u=!0){var h=p.value;if(l){var g=h.type,v=g.split("/");if(!e(c(v,2)[1]))continue}o&&r.select(o),t(r,h,i)}}catch(e){d=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(d)throw f}}return r}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a.insertImage,l=a.extensions;if(a.applyTransform&&(i=a.applyTransform),!i)throw new Error("You must supply an `insertImage` function.");return{onDrop:n,onPaste:n}}var a=n(588),o=n.n(a),i=n(595),l=(n.n(i),n(323)),s=(n.n(l),n(597),n(254)),u=(n.n(s),n(73)),c=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.a=r},function(e,t,n){"use strict";e.exports=n(589)},function(e,t,n){"use strict";e.exports=n(131),n(590),n(591),n(49),n(592),n(594)},function(e,t,n){"use strict";var r=n(131);e.exports=r,r.prototype.done=function(e,t){(arguments.length?this.then.apply(this,arguments):this).then(null,function(e){setTimeout(function(){throw e},0)})}},function(e,t,n){"use strict";var r=n(131);e.exports=r,r.prototype.finally=function(e){return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})}},function(e,t,n){"use strict";function r(e,t){for(var n=[],r=0;r<t;r++)n.push("a"+r);var a=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([l]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],a)(o,e)}function a(e){for(var t=Math.max(e.length-1,3),n=[],r=0;r<t;r++)n.push("a"+r);var a=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+l+";","var res;","switch (argLength) {",n.concat(["extra"]).map(function(e,t){return"case "+t+":res = fn.call("+["self"].concat(n.slice(0,t)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],a)(o,e)}var o=n(131),i=n(593);e.exports=o,o.denodeify=function(e,t){return"number"===typeof t&&t!==1/0?r(e,t):a(e)};var l="function (err, res) {if (err) { rj(err); } else { rs(res); }}";o.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"===typeof t[t.length-1]?t.pop():null,r=this;try{return e.apply(this,arguments).nodeify(n,r)}catch(e){if(null===n||"undefined"==typeof n)return new o(function(t,n){n(e)});i(function(){n.call(r,e)})}}},o.prototype.nodeify=function(e,t){if("function"!=typeof e)return this;this.then(function(n){i(function(){e.call(t,null,n)})},function(n){i(function(){e.call(t,n)})})}},function(e,t,n){"use strict";function r(){if(s.length)throw s.shift()}function a(e){var t;t=l.length?l.pop():new o,t.task=e,i(t)}function o(){this.task=null}var i=n(483),l=[],s=[],u=i.makeRequestCallFromTimer(r);e.exports=a,o.prototype.call=function(){try{this.task.call()}catch(e){a.onerror?a.onerror(e):(s.push(e),u())}finally{this.task=null,l[l.length]=this}}},function(e,t,n){"use strict";var r=n(131);e.exports=r,r.enableSynchronous=function(){r.prototype.isPending=function(){return 0==this.getState()},r.prototype.isFulfilled=function(){return 1==this.getState()},r.prototype.isRejected=function(){return 2==this.getState()},r.prototype.getValue=function(){if(3===this._83)return this._18.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._18},r.prototype.getReason=function(){if(3===this._83)return this._18.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._18},r.prototype.getState=function(){return 3===this._83?this._18.getState():-1===this._83||-2===this._83?0:this._83}},r.disableSynchronous=function(){r.prototype.isPending=void 0,r.prototype.isFulfilled=void 0,r.prototype.isRejected=void 0,r.prototype.getValue=void 0,r.prototype.getReason=void 0,r.prototype.getState=void 0}},function(e,t,n){"use strict";var r=n(254),a=n(596),o=new Set(a);e.exports=function(e){return o.has(r.extname(e).slice(1).toLowerCase())}},function(e,t){e.exports=["ase","art","bmp","blp","cd5","cit","cpt","cr2","cut","dds","dib","djvu","egt","exif","gif","gpl","grf","icns","ico","iff","jng","jpeg","jpg","jfif","jp2","jps","lbm","max","miff","mng","msp","nitf","ota","pbm","pc1","pc2","pc3","pcf","pcx","pdn","pgm","PI1","PI2","PI3","pict","pct","pnm","pns","ppm","psb","psd","pdd","psp","px","pxm","pxr","qfx","raw","rle","sct","sgi","rgb","int","bw","tga","tiff","tif","vtf","xbm","xcf","xpm","3dv","amf","ai","awg","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","gbr","odg","svg","stl","vrml","x3d","sxd","v2d","vnd","wmf","emf","art","xar","png","webp","jxr","hdp","wdp","cur","ecw","iff","lbm","liff","nrrd","pam","pcx","pgf","sgi","rgb","rgba","bw","int","inta","sid","ras","sun","tga"]},function(e,t,n){"use strict";var r=(n(598),n(599));n.n(r),n(601)},function(e,t,n){"use strict";function r(e){for(var t=e.split(",")[1],n=atob(t),r=new window.ArrayBuffer(n.length),i=new window.Uint8Array(r),l=0;l<n.length;l++)i[l]=n.charCodeAt(l);o()||(i=r);var s=new Blob([i],{type:a(e)});return s.slice=s.slice||s.webkitSlice,s}function a(e){return e.split("")[0].slice(5)}function o(){return 100==new Blob([new window.Uint8Array(100)]).size}t.a=r},function(e,t,n){"use strict";var r=n(600);e.exports=function(e){return!0===(e&&r().test(e))}},function(e,t,n){"use strict";e.exports=function(){return new RegExp(/^(data:)([\w\/\+]+);(charset=[\w-]+|base64).*,(.*)/gi)}},function(e,t,n){"use strict";function r(e,t){var n=window.document.createElement("canvas"),r=window.document.createElement("img");if(!n.getContext)return setTimeout(t,0,new Error("Canvas is not supported."));r.onload=function(){var e=n.getContext("2d");n.width=r.width,n.height=r.height,e.drawImage(r,0,0);var a=n.toDataURL("image/png");t(null,a)},r.ononerror=function(){t(new Error("Failed to load image."))},r.setAttribute("crossOrigin","anonymous"),r.src=e}t.a=r},function(e,t,n){"use strict";var r=n(73),a=n(323),o=n.n(a),i=n(218),l=n.n(i),s=n(12),u=n(603),c=n(70),d=(n.n(c),n(372)),f=function(e){var t=e.editCode,n=e.editTable,a=e.editBlockquote,i=e.editList;return{setColumnAlign:function(e,t,r){var a=n.utils.getPosition(e.value),o=a.table,i=o.get("data").get("align"),l=void 0,s=void 0;return s=r?Number(r):a.getColumnIndex(),l=n.utils.getCellsAtColumn(a.table,s),l.forEach(function(n){e.setNodeByKey(n.key,{data:{align:t}})}),i[s]=t,e.setNodeByKey(a.table.key,{data:{align:i}}),e},resetTableAlign:function(e,t){var r=n.utils.getPosition(e.value);if("insertNewTable"===t)e.setNodeByKey(r.table.key,{data:{align:["left","left"]}}),r.table.nodes.forEach(function(t){t.nodes.forEach(function(t){e.setNodeByKey(t.key,{data:{align:"left"}})})});else if("removeColumn"===t){var a=r.table.get("data").get("align"),o=r.getColumnIndex();a.splice(o,1),e.setNodeByKey(r.table.key,{data:{align:a}})}else if("insertColumn"===t){var i=r.getColumnIndex(),l=r.table.get("data").get("align");l.splice(i,0,"left");var s=n.utils.getCellsAtColumn(r.table,i);s.forEach(function(t){e.setNodeByKey(t.key,{data:{align:"left"}})}),e.setNodeByKey(r.table.key,{data:{align:l}})}},onCut:function(e,t,n){return e.preventDefault(),e.stopPropagation(),n()},onCopy:function(e,o,l){e.preventDefault(),e.stopPropagation();var u=o.value,c=u.selection,f=u.startBlock,p=u.endBlock;if(u.selection.isCollapsed&&u.inlines.get(0)&&"image"===u.inlines.get(0).type)return Object(r.cloneFragment)(e,o,s.Document.create({nodes:[s.Block.create({type:"paragraph",nodes:[u.inlines.get(0)]})]})),o;if(n.utils.isSelectionInTable(o.value))return Object(d.h)(e,n.utils.getPosition(o.value).tableBlock,o,o.richEditor.selectedCells);if(c.isCollapsed)return l();if(i.utils.isSelectionInList(o.value)){var m=u.fragment;if(f.key===p.key)return Object(r.cloneFragment)(e,o,s.Document.create({nodes:m.getBlocksByType("paragraph")})),o;if("document"!==u.document.getCommonAncestor(u.startBlock.key,u.endBlock.key).object){var h=m.nodes.get(0),g=Object(d.b)(h);return Object(r.cloneFragment)(e,o,s.Document.create({nodes:[g]})),o}return l()}if(a.utils.isSelectionInBlockquote(o.value)){if(f.key!==p.key)return l();var v=u.fragment;return Object(r.cloneFragment)(e,o,s.Document.create({nodes:v.getBlocksByType("paragraph")})),o}if(t.utils.isInCodeBlock(o.value)){if(f.key!==p.key)return l();var b=f.text;return Math.abs(c.start.offset-c.end.offset)===b.length?l():(e.preventDefault(),Object(r.setEventTransfer)(e,"text",b.slice(c.start.offset,c.end.offset)),o)}return l()},onPaste:function(e,l,f){e.preventDefault(),e.stopPropagation();var p=Object(r.getEventTransfer)(e),m=p.type,h=p.text,g=p.html,v=p.fragment,b=l.value;if("html"===m){var y=s.Document.create(u.a.deserialize(g).toJSON().document);Object(d.c)(y,l,n,t,i,a,h)}if("fragment"===m&&Object(d.c)(v,l,n,t,i,a,h),"text"===m){if(o()(h)){if(l.value.selection.isCollapsed){if(t.utils.isInCodeBlock(b))return f();var E=s.Inline.create({data:{href:h},type:"link",nodes:[s.Text.create({text:h})]});l.insertInline(E),l.moveToEnd()}b.inlines.some(function(e){return"link"===e.type})&&l.call(function(e){e.unwrapInline("link")}),l.call(function(e,t){l.wrapInline({type:"link",data:{href:t}}),l.moveToEnd()},h)}else t.utils.isInCodeBlock(b)?Object(c.List)(h.split("\n")).map(function(e){l.insertBlock(s.Block.create({type:"code_line",nodes:[s.Text.create(e)]}))}):l.insertText(h.replace(/\n/g," "),"");return l}},decorateNode:function(e){return Object(d.a)(e)},shouldNodeComponentUpdate:function(e,t){if(t.editor.richEditor.selectedCells.key===t.node.key&&t.editor.richEditor.selectedCells.row.min>=0&&t.editor.richEditor.selectedCells.col.min>=0)return!0},onKeyDown:function(e,r,o){switch(e.key){case"Enter":return Object(d.f)(e,r,t,n,o);case" ":return Object(d.g)(e,r,a,i,t,o);case"Backspace":return Object(d.d)(e,r,i,o)}if(l()("mod+s",e)){if(e.preventDefault(),!r.richEditor.onSave)return;r.richEditor.onSave(r.value)}else if(l()("mod+b",e))e.preventDefault(),r.richEditor.toggleMark("BOLD");else if(l()("mod+i",e))e.preventDefault(),r.richEditor.toggleMark("ITALIC");else{if(!l()("mod+/",e))return"`"===e.key?t.utils.isInCodeBlock(r.value)?o():Object(d.e)(e,r,t):o();e.preventDefault(),r.richEditor.toggleMark("CODE")}},onDrop:function(e,t,n){var a=Object(r.getEventTransfer)(e),i=Object(r.getEventRange)(e,t);switch(a.type){case"text":var l=a.text;if(!o()(l))return n();if(l.endsWith("png?raw=1")||l.endsWith("PNG?raw=1")||l.endsWith("jpg?raw=1")||l.endsWith("JPG?raw=1")||l.endsWith("gif?raw=1")||l.endsWith("GIF?raw=1")){var u=s.Inline.create({type:"image",isVoid:!0,data:{src:l}});return t.insertInlineAtRange(i,u),t}if(t.props.editorUtilities.isInternalFileLink(l)){var c=l.lastIndexOf("/");if(-1===c)return n();var d=l.substring(c+1),f=decodeURIComponent(d),p=s.Text.create({text:f}),u=s.Inline.create({type:"link",data:{href:l},nodes:[p]});return t.insertInlineAtRange(i,u),t}if(t.props.editorUtilities.isInternalDirLink(l)){var m=l.lastIndexOf("/");if(-1===m)return n();var d=l.substring(m+1),h=decodeURIComponent(d),p=s.Text.create({text:h}),u=s.Inline.create({type:"link",data:{href:l},nodes:[p]});return t.insertInlineAtRange(i,u),t}}}}};t.a=f},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(604),a=n(297),o=Object(a.a)(),i={p:"paragraph",li:"list_item",ul:"unordered_list",ol:"ordered_list",blockquote:"blockquote",pre:"code_block",h1:"header_one",h2:"header_two",h3:"header_three",h4:"header_four",h5:"header_five",h6:"header_six",hr:"hr",table:"table",tr:"table_row",td:"table_cell"},l={a:"link",img:"image"},s={strong:"BOLD",em:"ITALIC",code:"CODE"},u=[{deserialize:function(e,t){var n=i[e.tagName.toLowerCase()];if(n){if(e.querySelectorAll("br").forEach(function(e,t){e.parentNode.removeChild(e)}),"task-list-item"===e.className)return{object:"block",type:"list_item",data:{checked:!!e.childNodes[0].checked},nodes:t(e.childNodes)};if("pre"===e.tagName.toLowerCase()){var r=e.childNodes,a=r.length,l="",s=e.querySelector("code");if(s&&(r=s.childNodes,a=r.length),1===a)l=r[0].innerText||r[0].textContent;else for(var u=0;u<a-1;u++)l+=(r[u].innerText||r[u].textContent)+"\n";return l+=r[a-1].innerText||r[a-1].textContent,o.utils.deserializeCode(l)}return n?{object:"block",type:n,nodes:t(e.childNodes)}:void 0}}},{deserialize:function(e,t){var n=l[e.tagName.toLowerCase()];if(n){return e.querySelectorAll("br").forEach(function(e,t){e.parentNode.removeChild(e)}),"image"===n?{object:"inline",type:"image",nodes:t(e.childNodes),data:{src:e.getAttribute("src")}}:"link"===n?{object:"inline",type:"link",nodes:t(e.childNodes),data:{href:e.getAttribute("href")}}:void 0}}},{deserialize:function(e,t){var n=s[e.tagName.toLowerCase()];if(n&&n){return e.querySelectorAll("br").forEach(function(e,t){e.parentNode.removeChild(e)}),{object:"mark",type:n,nodes:t(e.childNodes)}}}}],c=new r.a({rules:u,defaultBlock:{type:"paragraph"}})},function(e,t,n){"use strict";function r(e){if("undefined"==typeof DOMParser)throw new Error("The native `DOMParser` global which the `Html` serializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return(new DOMParser).parseFromString(e,"text/html").body||window.document.createElement("body")}function a(e){return i.a.cloneElement(e,{key:y++})}var o=n(0),i=n.n(o),l=n(605),s=(n.n(l),n(607)),u=n.n(s),c=n(12),d=n(70),f=(n.n(d),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},h=new d.Record({object:"string",text:""}),g={deserialize:function(e){if(e.tagName&&"br"===e.tagName.toLowerCase())return{object:"text",leaves:[{object:"leaf",text:"\n"}]};if("#text"===e.nodeName){if(e.nodeValue&&e.nodeValue.match(/<!--.*?-->/))return;return{object:"text",leaves:[{object:"leaf",text:e.nodeValue}]}}},serialize:function(e,t){if("string"===e.object)return t.split("\n").reduce(function(e,t,n){return 0!==n&&e.push(i.a.createElement("br",{key:n})),e.push(t),e},[])}},v=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),b.call(this);var n=t.defaultBlock,a=void 0===n?"paragraph":n,o=t.parseHtml,i=void 0===o?r:o,l=t.rules,s=void 0===l?[]:l;a=c.Node.createProperties(a),this.rules=[].concat(m(s),[g]),this.defaultBlock=a,this.parseHtml=i},b=function(){var e=this;this.deserialize=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.toJSON,a=void 0!==r&&r,o=e.defaultBlock,i=e.parseHtml,l=i(t),s=Array.from(l.childNodes),u=e.deserializeElements(s);u=u.reduce(function(e,t,n,r){if("block"===t.object)return e.push(t),e;if(n>0&&"block"!==r[n-1].object){return e[e.length-1].nodes.push(t),e}var a=p({object:"block",data:{}},o,{nodes:[t]});return e.push(a),e},[]),0===u.length&&(u=[p({object:"block",data:{}},o,{nodes:[{object:"text",leaves:[{object:"leaf",text:"",marks:[]}]}]})]);var d={object:"value",document:{object:"document",data:{},nodes:u}};return a?d:c.Value.fromJSON(d)},this.deserializeElements=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return t.filter(e.cruftNewline).forEach(function(t){var r=e.deserializeElement(t);switch(u()(r)){case"array":n=n.concat(r);break;case"object":n.push(r)}}),n},this.deserializeElement=function(t){var n=void 0;t.tagName||(t.tagName="");var r=function(t){switch("[object NodeList]"===Object.prototype.toString.call(t)&&(t=Array.from(t)),u()(t)){case"array":return e.deserializeElements(t);case"object":return e.deserializeElement(t);case"null":case"undefined":return;default:throw new Error('The `next` argument was called with invalid children: "'+t+'".')}},a=!0,o=!1,i=void 0;try{for(var l,s=e.rules[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var c=l.value;if(c.deserialize){var d=c.deserialize(t,r),f=u()(d);if("array"!==f&&"object"!==f&&"null"!==f&&"undefined"!==f)throw new Error('A rule returned an invalid deserialized representation: "'+n+'".');if(void 0!==d){if(null===d)return null;n="mark"===d.object?e.deserializeMark(d):d;break}}}}catch(e){o=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}return n||r(t.childNodes)},this.deserializeMark=function(t){var n=t.type,r=t.data,a=function t(a){return"mark"===a.object?e.deserializeMark(a):("text"===a.object?a.leaves=a.leaves.map(function(e){return e.marks=e.marks||[],e.marks.push({type:n,data:r}),e}):a.nodes&&(a.nodes=a.nodes.map(t)),a)};return t.nodes.reduce(function(e,t){var n=a(t);return Array.isArray(n)?e.concat(n):(e.push(n),e)},[])},this.serialize=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.document,a=r.nodes.map(e.serializeNode).filter(function(e){return e});return!1===n.render?a:Object(l.renderToStaticMarkup)(i.a.createElement("body",null,a)).slice(6,-7)},this.serializeNode=function(t){if("text"===t.object){return t.getLeaves().map(e.serializeLeaf)}var n=t.nodes.map(e.serializeNode),r=!0,o=!1,i=void 0;try{for(var l,s=e.rules[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var u=l.value;if(u.serialize){var c=u.serialize(t,n);if(null===c)return;if(c)return a(c)}}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}throw new Error('No serializer defined for node of type "'+t.type+'".')},this.serializeLeaf=function(t){var n=new h({text:t.text}),r=e.serializeString(n);return t.marks.reduce(function(t,n){var r=!0,o=!1,i=void 0;try{for(var l,s=e.rules[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var u=l.value;if(u.serialize){var c=u.serialize(n,t);if(null===c)return;if(c)return a(c)}}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}throw new Error('No serializer defined for mark of type "'+n.type+'".')},r)},this.serializeString=function(t){var n=!0,r=!1,a=void 0;try{for(var o,i=e.rules[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value;if(l.serialize){var s=l.serialize(t,t.text);if(s)return s}}}catch(e){r=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw a}}},this.cruftNewline=function(e){return!("#text"===e.nodeName&&"\n"===e.nodeValue)}},y=0;t.a=v},function(e,t,n){"use strict";e.exports=n(606)},function(e,t,n){"use strict";function r(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}function a(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}function o(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case L:return"Fragment";case T:return"Portal";case I:return"Profiler";case N:return"StrictMode";case F:return"Suspense";case B:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case R:return"Context.Consumer";case j:return"Context.Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Z:return o(e.type);case H:if(e=1===e._status?e._result:null)return o(e)}return null}function i(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}function l(e,t,n,r){if(r&&"object"===typeof(r=e.contextType)&&null!==r)return i(r,n),r[n];if(e=e.contextTypes){n={};for(var a in e)n[a]=t[a];t=n}else t=Q;return t}function s(e){return!!K.call(q,e)||!K.call(V,e)&&(z.test(e)?q[e]=!0:(V[e]=!0,!1))}function u(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function c(e,t,n,r){if(null===t||"undefined"===typeof t||u(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function d(e,t,n,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}function f(e){return e[1].toUpperCase()}function p(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=te.exec(e);if(t){var n,r="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(r+=e.substring(a,n)),a=n+1,r+=t}e=a!==n?r+e.substring(a,n):r}return e}function m(e,t){var n,r=$.hasOwnProperty(e)?$[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||c(e,t,r,!1)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+p(t)+'"')):s(e)?e+'="'+p(t)+'"':""}function h(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}function g(){if(null===re)throw r(Error(321));return re}function v(){if(0<ue)throw r(Error(312));return{memoizedState:null,queue:null,next:null}}function b(){return null===oe?null===ae?(ie=!1,ae=oe=v()):(ie=!0,oe=ae):null===oe.next?(ie=!1,oe=oe.next=v()):(ie=!0,oe=oe.next),oe}function y(e,t,n,r){for(;le;)le=!1,ue+=1,oe=null,n=e(t,r);return ae=re=null,ue=0,oe=se=null,n}function E(e,t){return"function"===typeof t?t(e):t}function w(e,t,n){if(re=g(),oe=b(),ie){var r=oe.queue;if(t=r.dispatch,null!==se&&void 0!==(n=se.get(r))){se.delete(r),r=oe.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return oe.memoizedState=r,[r,t]}return[oe.memoizedState,t]}return e=e===E?"function"===typeof t?t():t:void 0!==n?n(t):t,oe.memoizedState=e,e=oe.queue={last:null,dispatch:null},e=e.dispatch=S.bind(null,re,e),[oe.memoizedState,e]}function S(e,t,n){if(!(25>ue))throw r(Error(301));if(e===re)if(le=!0,e={action:n,next:null},null===se&&(se=new Map),void 0===(n=se.get(t)))se.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function _(){}function x(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O(e){if(void 0===e||null===e)return e;var t="";return D.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function C(e,t){if(void 0===e)throw r(Error(152),o(t)||"Component")}function P(e,t,n){for(;D.isValidElement(e);){var a=e,i=a.type;if("function"!==typeof i)break;!function(a,i){var s=i.prototype&&i.prototype.isReactComponent,u=l(i,t,n,s),c=[],d=!1,f={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===c)return null},enqueueReplaceState:function(e,t){d=!0,c=[t]},enqueueSetState:function(e,t){if(null===c)return null;c.push(t)}};if(s){if(s=new i(a.props,u,f),"function"===typeof i.getDerivedStateFromProps){var p=i.getDerivedStateFromProps.call(null,a.props,s.state);null!=p&&(s.state=k({},s.state,p))}}else if(re={},s=i(a.props,u,f),null==(s=y(i,a.props,s,u))||null==s.render)return e=s,void C(e,i);if(s.props=a.props,s.context=u,s.updater=f,f=s.state,void 0===f&&(s.state=f=null),"function"===typeof s.UNSAFE_componentWillMount||"function"===typeof s.componentWillMount)if("function"===typeof s.componentWillMount&&"function"!==typeof i.getDerivedStateFromProps&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&"function"!==typeof i.getDerivedStateFromProps&&s.UNSAFE_componentWillMount(),c.length){f=c;var m=d;if(c=null,d=!1,m&&1===f.length)s.state=f[0];else{p=m?f[0]:s.state;var h=!0;for(m=m?1:0;m<f.length;m++){var g=f[m];null!=(g="function"===typeof g?g.call(s,p,a.props,u):g)&&(h?(h=!1,p=k({},p,g)):k(p,g))}s.state=p}}else c=null;if(e=s.render(),C(e,i),"function"===typeof s.getChildContext&&"object"===typeof(a=i.childContextTypes)){var v=s.getChildContext();for(var b in v)if(!(b in a))throw r(Error(108),o(i)||"Unknown",b)}v&&(t=k({},t,v))}(a,i)}return{child:e,context:t}}var k=n(35),D=n(0),M="function"===typeof Symbol&&Symbol.for,T=M?Symbol.for("react.portal"):60106,L=M?Symbol.for("react.fragment"):60107,N=M?Symbol.for("react.strict_mode"):60108,I=M?Symbol.for("react.profiler"):60114,j=M?Symbol.for("react.provider"):60109,R=M?Symbol.for("react.context"):60110,Y=M?Symbol.for("react.concurrent_mode"):60111,A=M?Symbol.for("react.forward_ref"):60112,F=M?Symbol.for("react.suspense"):60113,B=M?Symbol.for("react.suspense_list"):60120,Z=M?Symbol.for("react.memo"):60115,H=M?Symbol.for("react.lazy"):60116,X=M?Symbol.for("react.fundamental"):60117,J=M?Symbol.for("react.scope"):60119,U=D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;U.hasOwnProperty("ReactCurrentDispatcher")||(U.ReactCurrentDispatcher={current:null}),U.hasOwnProperty("ReactCurrentBatchConfig")||(U.ReactCurrentBatchConfig={suspense:null});for(var Q={},W=new Uint16Array(16),G=0;15>G;G++)W[G]=G+1;W[15]=0;var z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K=Object.prototype.hasOwnProperty,V={},q={},$={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$[e]=new d(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$[t]=new d(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){$[e]=new d(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$[e]=new d(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$[e]=new d(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){$[e]=new d(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){$[e]=new d(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){$[e]=new d(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){$[e]=new d(e,5,!1,e.toLowerCase(),null,!1)});var ee=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ee,f);$[t]=new d(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ee,f);$[t]=new d(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ee,f);$[t]=new d(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){$[e]=new d(e,1,!1,e.toLowerCase(),null,!1)}),$.xlinkHref=new d("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){$[e]=new d(e,1,!1,e.toLowerCase(),null,!0)});var te=/["'&<>]/,ne="function"===typeof Object.is?Object.is:h,re=null,ae=null,oe=null,ie=!1,le=!1,se=null,ue=0,ce=0,de={readContext:function(e){var t=ce;return i(e,t),e[t]},useContext:function(e){g();var t=ce;return i(e,t),e[t]},useMemo:function(e,t){if(re=g(),oe=b(),t=void 0===t?null:t,null!==oe){var n=oe.memoizedState;if(null!==n&&null!==t){e:{var r=n[1];if(null===r)r=!1;else{for(var a=0;a<r.length&&a<t.length;a++)if(!ne(t[a],r[a])){r=!1;break e}r=!0}}if(r)return n[0]}}return e=e(),oe.memoizedState=[e,t],e},useReducer:w,useRef:function(e){re=g(),oe=b();var t=oe.memoizedState;return null===t?(e={current:e},oe.memoizedState=e):t},useState:function(e){return w(E,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:_,useEffect:_,useDebugValue:_,useResponder:function(e,t){return{props:t,responder:e}}},fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},pe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},me=k({menuitem:!0},pe),he={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];Object.keys(he).forEach(function(e){ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ve=/([A-Z])/g,be=/^ms-/,ye=D.Children.toArray,Ee=U.ReactCurrentDispatcher,we={listing:!0,pre:!0,textarea:!0},Se=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,_e={},xe={},Oe=Object.prototype.hasOwnProperty,Ce={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null},Pe=function(){function e(e,t){D.isValidElement(e)?e.type!==L?e=[e]:(e=e.props.children,e=D.isValidElement(e)?[e]:ye(e)):e=ye(e),e={type:null,domNamespace:fe.html,children:e,childIndex:0,context:Q,footer:""};var n=W[0];if(0===n){var a=W;n=a.length;var o=2*n;if(!(65536>=o))throw r(Error(304));var i=new Uint16Array(o);for(i.set(a),W=i,W[0]=n+1,a=n;a<o-1;a++)W[a]=a+1;W[o-1]=0}else W[0]=W[n];this.threadID=n,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;W[e]=W[0],W[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;i(n,r);var a=n[r];this.contextStack[t]=n,this.contextValueStack[t]=a,n[r]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=ce;ce=this.threadID;var n=Ee.current;Ee.current=de;try{for(var a=[""],o=!1;a[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var i=this.threadID;W[i]=W[0],W[0]=i;break}var l=this.stack[this.stack.length-1];if(o||l.childIndex>=l.children.length){var s=l.footer;if(""!==s&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===l.type)this.currentSelectValue=null;else if(null!=l.type&&null!=l.type.type&&l.type.type.$$typeof===j)this.popProvider(l.type);else if(l.type===F){this.suspenseDepth--;var u=a.pop();if(o){o=!1;var c=l.fallbackFrame;if(!c)throw r(Error(303));this.stack.push(c),a[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}a[this.suspenseDepth]+=u}a[this.suspenseDepth]+=s}else{var d=l.children[l.childIndex++],f="";try{f+=this.render(d,l.context,l.domNamespace)}catch(e){if(null!=e&&"function"===typeof e.then)throw r(Error(294));throw e}a.length<=this.suspenseDepth&&a.push(""),a[this.suspenseDepth]+=f}}return a[0]}finally{Ee.current=n,ce=t}},t.render=function(e,t,n){if("string"===typeof e||"number"===typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?p(n):this.previousWasTextNode?"\x3c!-- --\x3e"+p(n):(this.previousWasTextNode=!0,p(n));if(t=P(e,t,this.threadID),e=t.child,t=t.context,null===e||!1===e)return"";if(!D.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===T)throw r(Error(257));throw r(Error(258),n.toString())}return e=ye(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var o=e.type;if("string"===typeof o)return this.renderDOM(e,t,n);switch(o){case N:case Y:case I:case B:case L:return e=ye(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case F:throw r(Error(294))}if("object"===typeof o&&null!==o)switch(o.$$typeof){case A:re={};var l=o.render(e.props,e.ref);return l=y(o.render,e.props,l,e.ref),l=ye(l),this.stack.push({type:null,domNamespace:n,children:l,childIndex:0,context:t,footer:""}),"";case Z:return e=[D.createElement(o.type,k({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case j:return o=ye(e.props.children),n={type:e,domNamespace:n,children:o,childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case R:o=e.type,l=e.props;var s=this.threadID;return i(o,s),o=ye(l.children(o[s])),this.stack.push({type:e,domNamespace:n,children:o,childIndex:0,context:t,footer:""}),"";case X:throw r(Error(338));case H:switch(o=e.type,a(o),o._status){case 1:return e=[D.createElement(o._result,k({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case 2:throw o._result;default:throw r(Error(295))}case J:throw r(Error(343))}throw r(Error(130),null==o?o:typeof o,"")},t.renderDOM=function(e,t,n){var a=e.type.toLowerCase();if(n===fe.html&&x(a),!_e.hasOwnProperty(a)){if(!Se.test(a))throw r(Error(65),a);_e[a]=!0}var o=e.props;if("input"===a)o=k({type:void 0},o,{defaultChecked:void 0,defaultValue:void 0,value:null!=o.value?o.value:o.defaultValue,checked:null!=o.checked?o.checked:o.defaultChecked});else if("textarea"===a){var i=o.value;if(null==i){i=o.defaultValue;var l=o.children;if(null!=l){if(null!=i)throw r(Error(92));if(Array.isArray(l)){if(!(1>=l.length))throw r(Error(93));l=l[0]}i=""+l}null==i&&(i="")}o=k({},o,{value:void 0,children:""+i})}else if("select"===a)this.currentSelectValue=null!=o.value?o.value:o.defaultValue,o=k({},o,{value:void 0});else if("option"===a){l=this.currentSelectValue;var u=O(o.children);if(null!=l){var c=null!=o.value?o.value+"":u;if(i=!1,Array.isArray(l)){for(var d=0;d<l.length;d++)if(""+l[d]===c){i=!0;break}}else i=""+l===c;o=k({selected:void 0,children:void 0},o,{selected:i,children:u})}}if(i=o){if(me[a]&&(null!=i.children||null!=i.dangerouslySetInnerHTML))throw r(Error(137),a,"");if(null!=i.dangerouslySetInnerHTML){if(null!=i.children)throw r(Error(60));if(!("object"===typeof i.dangerouslySetInnerHTML&&"__html"in i.dangerouslySetInnerHTML))throw r(Error(61))}if(null!=i.style&&"object"!==typeof i.style)throw r(Error(62),"")}i=o,l=this.makeStaticMarkup,u=1===this.stack.length,c="<"+e.type;for(w in i)if(Oe.call(i,w)){var f=i[w];if(null!=f){if("style"===w){d=void 0;var h="",g="";for(d in f)if(f.hasOwnProperty(d)){var v=0===d.indexOf("--"),b=f[d];if(null!=b){if(v)var y=d;else if(y=d,xe.hasOwnProperty(y))y=xe[y];else{var E=y.replace(ve,"-$1").toLowerCase().replace(be,"-ms-");y=xe[y]=E}h+=g+y+":",g=d,v=null==b||"boolean"===typeof b||""===b?"":v||"number"!==typeof b||0===b||he.hasOwnProperty(g)&&he[g]?(""+b).trim():b+"px",h+=v,g=";"}}f=h||null}d=null;e:if(v=a,b=i,-1===v.indexOf("-"))v="string"===typeof b.is;else switch(v){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":v=!1;break e;default:v=!0}v?Ce.hasOwnProperty(w)||(d=w,d=s(d)&&null!=f?d+'="'+p(f)+'"':""):d=m(w,f),d&&(c+=" "+d)}}l||u&&(c+=' data-reactroot=""');var w=c;i="",pe.hasOwnProperty(a)?w+="/>":(w+=">",i="</"+e.type+">");e:{if(null!=(l=o.dangerouslySetInnerHTML)){if(null!=l.__html){l=l.__html;break e}}else if("string"===typeof(l=o.children)||"number"===typeof l){l=p(l);break e}l=null}return null!=l?(o=[],we[a]&&"\n"===l.charAt(0)&&(w+="\n"),w+=l):o=ye(o.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?x(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:a,children:o,childIndex:0,context:t,footer:i}),this.previousWasTextNode=!1,w},e}(),ke={renderToString:function(e){e=new Pe(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new Pe(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw r(Error(207))},renderToStaticNodeStream:function(){throw r(Error(208))},version:"16.10.2"},De={default:ke},Me=De&&ke||De;e.exports=Me.default||Me},function(e,t){var n=Object.prototype.toString;e.exports=function(e){switch(n.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if("object"==typeof e&&e&&"number"==typeof e.length)try{if("function"==typeof e.callee)return"arguments"}catch(e){if(e instanceof TypeError)return"arguments"}return null===e?"null":void 0===e?"undefined":e&&1===e.nodeType?"element":e===Object(e)?"object":typeof e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(32),u=n(609),c=n(633),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDateChange=function(e){var t=n.props.node.get("data").toJSON();t.Date=e,n.props.editor.setNodeByKey(n.props.node.key,{data:t})},n.onClick=function(e){e.stopPropagation()},n.state={dateValue:0!==n.props.node.get("data").size?n.props.node.get("data").get("Date"):""},n}return o(t,e),d(t,[{key:"renderDate",value:function(e){return l.a.createElement("div",{className:"info-item"},l.a.createElement("div",{className:"info-item-title"}," ",l.a.createElement("i",{className:"fa fa-calendar-alt"}),this.props.t("Date")),l.a.createElement("div",{className:"info-item-content"},l.a.createElement(c.a,{onDateChange:this.onDateChange,value:e})))}},{key:"renderParticipants",value:function(e){return l.a.createElement("div",{className:"info-item"},l.a.createElement("div",{className:"info-item-title"},l.a.createElement("i",{className:"fa fa-users"}),this.props.t("Participants")),l.a.createElement("div",{onClick:this.onClick,className:"participants info-item-content"},l.a.createElement(u.a,Object.assign({},this.props,{defaultParticipants:e}))))}},{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.node;return 0===n.get("data").size?null:l.a.createElement("div",Object.assign({},t,{className:"info-container"}),this.renderDate(n.get("data").get("Date")),this.renderParticipants(n.get("data").get("Participants")))}}]),t}(l.a.Component);t.a=Object(s.withTranslation)("seafile-editor")(f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(610),u=n.n(s),c=n(632),d=(n.n(c),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),f=function(e){return l.a.createElement("div",Object.assign({},e.innerProps,{style:{margin:"6px 10px",textAlign:"center",color:"hsl(0,0%,50%)"}}),"User not found")},p=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.options=[],n.props.onSelectChange(e)},n.loadOptions=function(e,t){var r=e.trim();r.length>0&&n.props.editorUtilities.searchUsers(r).then(function(e){n.options=[];for(var r=0;r<e.data.users.length;r++){var a=e.data.users[r],o={};o.value=a.name,o.avatarUrl=a.avatar_url,o.label=l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:a.avatar_url,className:"select-module select-module-icon avatar",alt:""}),l.a.createElement("span",{className:"select-module select-module-name"},a.name)),n.options.push(o)}t(n.options)})},n.clearSelect=function(){n.refs.userSelect.select.onChange([],{action:"clear"})},n.options=[],n}return o(t,e),d(t,[{key:"render",value:function(){return l.a.createElement(u.a,{isClearable:!1,classNamePrefix:"participants-select",defaultValue:this.props.defaultValue,components:{NoOptionsMessage:f},isMulti:this.props.isMulti,styles:this.props.styles,loadOptions:this.loadOptions,onChange:this.handleSelectChange,placeholder:"",className:"user-select "+this.props.className,ref:"userSelect"})}}]),t}(l.a.Component),m=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.Options=e;var t=n.props.node.get("data").toJSON(),r=[];n.Options.forEach(function(e,t){r.push({value:e.value,avatarUrl:e.avatarUrl})}),t.Participants=r,n.props.editor.setNodeByKey(n.props.node.key,{data:t})},n.onClick=function(e){e.stopPropagation()},n.Options=[],n.styleObject={control:function(e,t){var n=t.isFocused;return{border:n?"1px solid #e6e6e3":"none",boxSizing:"border-box",backgroundColor:n?"#f7f7f7":"#ffffff",":hover":{backgroundColor:"#f7f7f7"},".participants-select__multi-value__remove":{display:n?"flex":"none"}}},indicatorsContainer:function(e){return{display:"none"}},multiValue:function(e){return Object.assign({height:"30px"},e,{img:{height:"24px",width:"24px",verticalAlign:"middle"},lineHeight:"30px",backgroundColor:"none"})},multiValueLabel:function(e){return{lineHeight:"24px",padding:"3px"}},multiValueRemove:function(e){return Object.assign({},e,{":hover":{backgroundColor:"#e8e8e6"}})},dropdownIndicator:function(e){return{display:"none"}}},n}return o(t,e),d(t,[{key:"componentWillMount",value:function(){var e=this;this.defaultParticipants=[],this.props.defaultParticipants.forEach(function(t){var n={};n.value=t.get("value"),n.avatarUrl=t.get("avatarUrl"),n.label=l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:t.get("avatarUrl"),className:"select-module select-module-icon avatar",alt:""}),l.a.createElement("span",{className:"select-module select-module-name"},t.get("value"))),e.defaultParticipants.push(n)}),this.Options=this.defaultParticipants}},{key:"render",value:function(){return l.a.createElement(p,{onSelectChange:this.handleSelectChange,ref:"participantsSelect",isMulti:!0,styles:this.styleObject,isClearable:!1,defaultValue:this.defaultParticipants,editorUtilities:this.props.editorUtilities})}}]),t}(l.a.Component);t.a=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a=l(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?h(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.makeAsyncSelect=t.defaultProps=void 0;var v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),b=r(n(611)),y=n(223),E=r(n(631)),w={cacheOptions:!1,defaultOptions:!1,filterOption:null};t.defaultProps=w;var S=function(e){var t,n;return n=t=function(t){function n(e){var t;return s(this,n),t=d(this,f(n).call(this)),g(h(h(t)),"select",void 0),g(h(h(t)),"lastRequest",void 0),g(h(h(t)),"mounted",!1),g(h(h(t)),"optionsCache",{}),g(h(h(t)),"handleInputChange",function(e,n){var r=t.props,a=r.cacheOptions,o=r.onInputChange,i=(0,y.handleInputChange)(e,n,o);if(!i)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(a&&t.optionsCache[i])t.setState({inputValue:i,loadedInputValue:i,loadedOptions:t.optionsCache[i],isLoading:!1,passEmptyOptions:!1});else{var l=t.lastRequest={};t.setState({inputValue:i,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},function(){t.loadOptions(i,function(e){t.mounted&&(e&&(t.optionsCache[i]=e),l===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:i,loadedOptions:e||[],passEmptyOptions:!1})))})})}return i}),t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:"undefined"!==typeof e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return p(n,t),c(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}})}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var r=n(e,t);r&&"function"===typeof r.then&&r.then(t,function(){return t()})}},{key:"render",value:function(){var t=this,n=this.props,r=(n.loadOptions,i(n,["loadOptions"])),a=this.state,l=a.defaultOptions,s=a.inputValue,u=a.isLoading,c=a.loadedInputValue,d=a.loadedOptions,f=a.passEmptyOptions,p=f?[]:s&&c?d:l||[];return v.default.createElement(e,o({},r,{ref:function(e){t.select=e},options:p,isLoading:u,onInputChange:this.handleInputChange}))}}]),n}(v.Component),g(t,"defaultProps",w),n};t.makeAsyncSelect=S;var _=(0,E.default)(b.default),x=S(_);t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(null==e)return{};var n,r,a=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function s(e){return d(e)||c(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function d(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){w(e,t,n[t])})}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function g(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?E(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.defaultProps=void 0;var S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),_=r(n(612)),x=n(222),O=r(n(614)),C=n(615),P=n(617),k=n(625),D=n(223),M=n(626),T=n(627),L=n(629),N=n(630),I={backspaceRemovesValue:!0,blurInputOnSelect:(0,D.isTouchCapable)(),captureMenuScroll:!(0,D.isTouchCapable)(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:(0,C.createFilter)(),formatGroupLabel:M.formatGroupLabel,getOptionLabel:M.getOptionLabel,getOptionValue:M.getOptionValue,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:M.isOptionDisabled,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!(0,D.isMobileDevice)(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};t.defaultProps=I;var j=1,R=function(e){function t(e){var n;p(this,t),n=g(this,v(t).call(this,e)),w(E(E(n)),"state",{ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),w(E(E(n)),"blockOptionHover",!1),w(E(E(n)),"isComposing",!1),w(E(E(n)),"clearFocusValueOnUpdate",!1),w(E(E(n)),"commonProps",void 0),w(E(E(n)),"components",void 0),w(E(E(n)),"hasGroups",!1),w(E(E(n)),"initialTouchX",0),w(E(E(n)),"initialTouchY",0),w(E(E(n)),"inputIsHiddenAfterUpdate",void 0),w(E(E(n)),"instancePrefix",""),w(E(E(n)),"openAfterFocus",!1),w(E(E(n)),"scrollToFocusedOptionOnUpdate",!1),w(E(E(n)),"userIsDragging",void 0),w(E(E(n)),"controlRef",null),w(E(E(n)),"getControlRef",function(e){n.controlRef=e}),w(E(E(n)),"focusedOptionRef",null),w(E(E(n)),"getFocusedOptionRef",function(e){n.focusedOptionRef=e}),w(E(E(n)),"menuListRef",null),w(E(E(n)),"getMenuListRef",function(e){n.menuListRef=e}),w(E(E(n)),"inputRef",null),w(E(E(n)),"getInputRef",function(e){n.inputRef=e}),w(E(E(n)),"cacheComponents",function(e){n.components=(0,T.defaultComponents)({components:e})}),w(E(E(n)),"focus",n.focusInput),w(E(E(n)),"blur",n.blurInput),w(E(E(n)),"onChange",function(e,t){var r=n.props;(0,r.onChange)(e,f({},t,{name:r.name}))}),w(E(E(n)),"setValue",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",r=arguments.length>2?arguments[2]:void 0,a=n.props,o=a.closeMenuOnSelect,i=a.isMulti;n.onInputChange("",{action:"set-value"}),o&&(n.inputIsHiddenAfterUpdate=!i,n.onMenuClose()),n.clearFocusValueOnUpdate=!0,n.onChange(e,{action:t,option:r})}),w(E(E(n)),"selectOption",function(e){var t=n.props,r=t.blurInputOnSelect,a=t.isMulti,o=n.state.selectValue;if(a)if(n.isOptionSelected(e,o)){var i=n.getOptionValue(e);n.setValue(o.filter(function(e){return n.getOptionValue(e)!==i}),"deselect-option",e),n.announceAriaLiveSelection({event:"deselect-option",context:{value:n.getOptionLabel(e)}})}else n.isOptionDisabled(e,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue([].concat(s(o),[e]),"select-option",e),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));else n.isOptionDisabled(e,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue(e,"select-option"),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));r&&n.blurInput()}),w(E(E(n)),"removeValue",function(e){var t=n.state.selectValue,r=n.getOptionValue(e);n.onChange(t.filter(function(e){return n.getOptionValue(e)!==r}),{action:"remove-value",removedValue:e}),n.announceAriaLiveSelection({event:"remove-value",context:{value:e?n.getOptionLabel(e):""}}),n.focusInput()}),w(E(E(n)),"clearValue",function(){var e=n.props.isMulti;n.onChange(e?[]:null,{action:"clear"})}),w(E(E(n)),"popValue",function(){var e=n.state.selectValue,t=e[e.length-1];n.announceAriaLiveSelection({event:"pop-value",context:{value:t?n.getOptionLabel(t):""}}),n.onChange(e.slice(0,e.length-1),{action:"pop-value",removedValue:t})}),w(E(E(n)),"getOptionLabel",function(e){return n.props.getOptionLabel(e)}),w(E(E(n)),"getOptionValue",function(e){return n.props.getOptionValue(e)}),w(E(E(n)),"getStyles",function(e,t){var r=L.defaultStyles[e](t);r.boxSizing="border-box";var a=n.props.styles[e];return a?a(r,t):r}),w(E(E(n)),"getElementId",function(e){return"".concat(n.instancePrefix,"-").concat(e)}),w(E(E(n)),"getActiveDescendentId",function(){var e=n.props.menuIsOpen,t=n.state,r=t.menuOptions,a=t.focusedOption;if(a&&e){var o=r.focusable.indexOf(a),i=r.render[o];return i&&i.key}}),w(E(E(n)),"announceAriaLiveSelection",function(e){var t=e.event,r=e.context;n.setState({ariaLiveSelection:(0,k.valueEventAriaMessage)(t,r)})}),w(E(E(n)),"announceAriaLiveContext",function(e){var t=e.event,r=e.context;n.setState({ariaLiveContext:(0,k.instructionsAriaMessage)(t,f({},r,{label:n.props["aria-label"]}))})}),w(E(E(n)),"onMenuMouseDown",function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),n.focusInput())}),w(E(E(n)),"onMenuMouseMove",function(e){n.blockOptionHover=!1}),w(E(E(n)),"onControlMouseDown",function(e){var t=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?"INPUT"!==e.target.tagName&&n.onMenuClose():t&&n.openMenu("first"):(t&&(n.openAfterFocus=!0),n.focusInput()),"INPUT"!==e.target.tagName&&e.preventDefault()}),w(E(E(n)),"onDropdownIndicatorMouseDown",function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!n.props.isDisabled){var t=n.props,r=t.isMulti,a=t.menuIsOpen;n.focusInput(),a?(n.inputIsHiddenAfterUpdate=!r,n.onMenuClose()):n.openMenu("first"),e.preventDefault(),e.stopPropagation()}}),w(E(E(n)),"onClearIndicatorMouseDown",function(e){e&&"mousedown"===e.type&&0!==e.button||(n.clearValue(),e.stopPropagation(),n.openAfterFocus=!1,setTimeout(function(){return n.focusInput()}))}),w(E(E(n)),"onScroll",function(e){"boolean"===typeof n.props.closeMenuOnScroll?e.target instanceof HTMLElement&&(0,D.isDocumentElement)(e.target)&&n.props.onMenuClose():"function"===typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(e)&&n.props.onMenuClose()}),w(E(E(n)),"onCompositionStart",function(){n.isComposing=!0}),w(E(E(n)),"onCompositionEnd",function(){n.isComposing=!1}),w(E(E(n)),"onTouchStart",function(e){var t=e.touches,r=t.item(0);r&&(n.initialTouchX=r.clientX,n.initialTouchY=r.clientY,n.userIsDragging=!1)}),w(E(E(n)),"onTouchMove",function(e){var t=e.touches,r=t.item(0);if(r){var a=Math.abs(r.clientX-n.initialTouchX),o=Math.abs(r.clientY-n.initialTouchY);n.userIsDragging=a>5||o>5}}),w(E(E(n)),"onTouchEnd",function(e){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(e.target)&&n.menuListRef&&!n.menuListRef.contains(e.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)}),w(E(E(n)),"onControlTouchEnd",function(e){n.userIsDragging||n.onControlMouseDown(e)}),w(E(E(n)),"onClearIndicatorTouchEnd",function(e){n.userIsDragging||n.onClearIndicatorMouseDown(e)}),w(E(E(n)),"onDropdownIndicatorTouchEnd",function(e){n.userIsDragging||n.onDropdownIndicatorMouseDown(e)}),w(E(E(n)),"handleInputChange",function(e){var t=e.currentTarget.value;n.inputIsHiddenAfterUpdate=!1,n.onInputChange(t,{action:"input-change"}),n.onMenuOpen()}),w(E(E(n)),"onInputFocus",function(e){var t=n.props,r=t.isSearchable,a=t.isMulti;n.props.onFocus&&n.props.onFocus(e),n.inputIsHiddenAfterUpdate=!1,n.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:a}}),n.setState({isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1}),w(E(E(n)),"onInputBlur",function(e){if(n.menuListRef&&n.menuListRef.contains(document.activeElement))return void n.inputRef.focus();n.props.onBlur&&n.props.onBlur(e),n.onInputChange("",{action:"input-blur"}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1})}),w(E(E(n)),"onOptionHover",function(e){n.blockOptionHover||n.state.focusedOption===e||n.setState({focusedOption:e})}),w(E(E(n)),"shouldHideSelectedOptions",function(){var e=n.props,t=e.hideSelectedOptions,r=e.isMulti;return void 0===t?r:t}),w(E(E(n)),"onKeyDown",function(e){var t=n.props,r=t.isMulti,a=t.backspaceRemovesValue,o=t.escapeClearsValue,i=t.inputValue,l=t.isClearable,s=t.isDisabled,u=t.menuIsOpen,c=t.onKeyDown,d=t.tabSelectsValue,f=t.openMenuOnFocus,p=n.state,m=p.focusedOption,h=p.focusedValue,g=p.selectValue;if(!s&&("function"!==typeof c||(c(e),!e.defaultPrevented))){switch(n.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||i)return;n.focusValue("previous");break;case"ArrowRight":if(!r||i)return;n.focusValue("next");break;case"Delete":case"Backspace":if(i)return;if(h)n.removeValue(h);else{if(!a)return;r?n.popValue():l&&n.clearValue()}break;case"Tab":if(n.isComposing)return;if(e.shiftKey||!u||!d||!m||f&&n.isOptionSelected(m,g))return;n.selectOption(m);break;case"Enter":if(229===e.keyCode)break;if(u){if(!m)return;if(n.isComposing)return;n.selectOption(m);break}return;case"Escape":u?(n.inputIsHiddenAfterUpdate=!1,n.onInputChange("",{action:"menu-close"}),n.onMenuClose()):l&&o&&n.clearValue();break;case" ":if(i)return;if(!u){n.openMenu("first");break}if(!m)return;n.selectOption(m);break;case"ArrowUp":u?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":u?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!u)return;n.focusOption("pageup");break;case"PageDown":if(!u)return;n.focusOption("pagedown");break;case"Home":if(!u)return;n.focusOption("first");break;case"End":if(!u)return;n.focusOption("last");break;default:return}e.preventDefault()}});var r=e.value;n.cacheComponents=(0,_.default)(n.cacheComponents,O.default).bind(E(E(n))),n.cacheComponents(e.components),n.instancePrefix="react-select-"+(n.props.instanceId||++j);var a=(0,D.cleanValue)(r),o=n.buildMenuOptions(e,a);return n.state.menuOptions=o,n.state.selectValue=a,n}return b(t,e),h(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.options,r=t.value,a=t.inputValue;if(this.cacheComponents(e.components),e.value!==r||e.options!==n||e.inputValue!==a){var o=(0,D.cleanValue)(e.value),i=this.buildMenuOptions(e,o),l=this.getNextFocusedValue(o),s=this.getNextFocusedOption(i.focusable);this.setState({menuOptions:i,selectValue:o,focusedOption:s,focusedValue:l})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,a=this.state.isFocused;(a&&!n&&e.isDisabled||a&&r&&!e.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(0,D.scrollIntoView)(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var e=this.props,t=e.isSearchable,n=e.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:t,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this.state,n=t.menuOptions,r=t.selectValue,a=t.isFocused,o=this.props.isMulti,i="first"===e?0:n.focusable.length-1;if(!o){var l=n.focusable.indexOf(r[0]);l>-1&&(i=l)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[i]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(e){var t=this.props,n=t.isMulti,r=t.isSearchable,a=this.state,o=a.selectValue,i=a.focusedValue;if(n){this.setState({focusedOption:null});var l=o.indexOf(i);i||(l=-1,this.announceAriaLiveContext({event:"value"}));var s=o.length-1,u=-1;if(o.length){switch(e){case"previous":u=0===l?0:-1===l?s:l-1;break;case"next":l>-1&&l<s&&(u=l+1)}-1===u&&this.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==u,focusedValue:o[u]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state,r=n.focusedOption,a=n.menuOptions,o=a.focusable;if(o.length){var i=0,l=o.indexOf(r);r||(l=-1,this.announceAriaLiveContext({event:"menu"})),"up"===e?i=l>0?l-1:o.length-1:"down"===e?i=(l+1)%o.length:"pageup"===e?(i=l-t)<0&&(i=0):"pagedown"===e?(i=l+t)>o.length-1&&(i=o.length-1):"last"===e&&(i=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[i],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:(0,M.isOptionDisabled)(o[i])}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(N.defaultTheme):f({},N.defaultTheme,this.props.theme):N.defaultTheme}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,r=this.selectOption,a=this.props,o=a.classNamePrefix,i=a.isMulti,l=a.isRtl,s=a.options,u=this.state.selectValue,c=this.hasValue(),d=function(){return u};return{cx:D.classNames.bind(null,o),clearValue:e,getStyles:t,getValue:d,hasValue:c,isMulti:i,isRtl:l,options:s,selectOption:r,setValue:n,selectProps:a,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,r=t.selectValue,a=r.indexOf(n);if(a>-1){if(e.indexOf(n)>-1)return n;if(a<e.length)return e[a]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return"function"===typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if("function"===typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var r=this.getOptionValue(e);return t.some(function(e){return n.getOptionValue(e)===r})}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var n=this,r=e.inputValue,a=void 0===r?"":r,o=e.options,i=function(e,r){var o=n.isOptionDisabled(e,t),i=n.isOptionSelected(e,t),l=n.getOptionLabel(e),s=n.getOptionValue(e);if(!(n.shouldHideSelectedOptions()&&i||!n.filterOption({label:l,value:s,data:e},a))){var u=o?void 0:function(){return n.onOptionHover(e)},c=o?void 0:function(){return n.selectOption(e)},d="".concat(n.getElementId("option"),"-").concat(r);return{innerProps:{id:d,onClick:c,onMouseMove:u,onMouseOver:u,tabIndex:-1},data:e,isDisabled:o,isSelected:i,key:d,label:l,type:"option",value:s}}};return o.reduce(function(e,t,r){if(t.options){n.hasGroups||(n.hasGroups=!0);var a=t.options,o=a.map(function(t,n){var a=i(t,"".concat(r,"-").concat(n));return a&&e.focusable.push(t),a}).filter(Boolean);if(o.length){var l="".concat(n.getElementId("group"),"-").concat(r);e.render.push({type:"group",key:l,data:t,options:o})}}else{var s=i(t,"".concat(r));s&&(e.render.push(s),e.focusable.push(t))}return e},{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var e=this.state,t=e.ariaLiveContext,n=e.selectValue,r=e.focusedValue,a=e.focusedOption,o=this.props,i=o.options,l=o.menuIsOpen,s=o.inputValue,u=o.screenReaderStatus,c=r?(0,k.valueFocusAriaMessage)({focusedValue:r,getOptionLabel:this.getOptionLabel,selectValue:n}):"",d=a&&l?(0,k.optionFocusAriaMessage)({focusedOption:a,getOptionLabel:this.getOptionLabel,options:i}):"",f=(0,k.resultsAriaMessage)({inputValue:s,screenReaderMessage:u({count:this.countOptions()})});return"".concat(c," ").concat(d," ").concat(f," ").concat(t)}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,a=e.inputValue,o=e.tabIndex,i=this.components.Input,s=this.state.inputIsHidden,u=r||this.getElementId("input");if(!n)return S.default.createElement(P.DummyInput,{id:u,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:D.noop,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:o,value:""});var c={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},d=this.commonProps,f=d.cx,p=d.theme,m=d.selectProps;return S.default.createElement(i,l({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:f,getStyles:this.getStyles,id:u,innerRef:this.getInputRef,isDisabled:t,isHidden:s,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:m,spellCheck:"false",tabIndex:o,theme:p,type:"text",value:a},c))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,n=t.MultiValue,r=t.MultiValueContainer,a=t.MultiValueLabel,o=t.MultiValueRemove,i=t.SingleValue,s=t.Placeholder,u=this.commonProps,c=this.props,d=c.controlShouldRenderValue,f=c.isDisabled,p=c.isMulti,m=c.inputValue,h=c.placeholder,g=this.state,v=g.selectValue,b=g.focusedValue,y=g.isFocused;if(!this.hasValue()||!d)return m?null:S.default.createElement(s,l({},u,{key:"placeholder",isDisabled:f,isFocused:y}),h);if(p){return v.map(function(t){var i=t===b;return S.default.createElement(n,l({},u,{components:{Container:r,Label:a,Remove:o},isFocused:i,isDisabled:f,key:e.getOptionValue(t),removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))})}if(m)return null;var E=v[0];return S.default.createElement(i,l({},u,{data:E,isDisabled:f}),this.formatOptionLabel(E,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,a=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||a)return null;var i={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return S.default.createElement(e,l({},t,{innerProps:i,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,a=n.isLoading,o=this.state.isFocused;if(!e||!a)return null;var i={"aria-hidden":"true"};return S.default.createElement(e,l({},t,{innerProps:i,isDisabled:r,isFocused:o}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,a=this.props.isDisabled,o=this.state.isFocused;return S.default.createElement(n,l({},r,{isDisabled:a,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return S.default.createElement(e,l({},t,{innerProps:a,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,n=t.Group,r=t.GroupHeading,a=t.Menu,i=t.MenuList,s=t.MenuPortal,u=t.LoadingMessage,c=t.NoOptionsMessage,d=t.Option,f=this.commonProps,p=this.state,m=p.focusedOption,h=p.menuOptions,g=this.props,v=g.captureMenuScroll,b=g.inputValue,y=g.isLoading,E=g.loadingMessage,w=g.minMenuHeight,_=g.maxMenuHeight,O=g.menuIsOpen,C=g.menuPlacement,k=g.menuPosition,D=g.menuPortalTarget,M=g.menuShouldBlockScroll,T=g.menuShouldScrollIntoView,L=g.noOptionsMessage,N=g.onMenuScrollToTop,I=g.onMenuScrollToBottom;if(!O)return null;var j,R=function(t){var n=m===t.data;return t.innerRef=n?e.getFocusedOptionRef:void 0,S.default.createElement(d,l({},f,t,{isFocused:n}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())j=h.render.map(function(t){if("group"===t.type){var a=(t.type,o(t,["type"])),i="".concat(t.key,"-heading");return S.default.createElement(n,l({},f,a,{Heading:r,headingProps:{id:i},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return R(e)}))}if("option"===t.type)return R(t)});else if(y){var Y=E({inputValue:b});if(null===Y)return null;j=S.default.createElement(u,f,Y)}else{var A=L({inputValue:b});if(null===A)return null;j=S.default.createElement(c,f,A)}var F={minMenuHeight:w,maxMenuHeight:_,menuPlacement:C,menuPosition:k,menuShouldScrollIntoView:T},B=S.default.createElement(x.MenuPlacer,l({},f,F),function(t){var n=t.ref,r=t.placerProps,o=r.placement,s=r.maxHeight;return S.default.createElement(a,l({},f,F,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:y,placement:o}),S.default.createElement(P.ScrollCaptor,{isEnabled:v,onTopArrive:N,onBottomArrive:I},S.default.createElement(P.ScrollBlock,{isEnabled:M},S.default.createElement(i,l({},f,{innerRef:e.getMenuListRef,isLoading:y,maxHeight:s}),j))))});return D||"fixed"===k?S.default.createElement(s,l({},f,{appendTo:D,controlElement:this.controlRef,menuPlacement:C,menuPosition:k}),B):B}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,a=t.isMulti,o=t.name,i=this.state.selectValue;if(o&&!r){if(a){if(n){var l=i.map(function(t){return e.getOptionValue(t)}).join(n);return S.default.createElement("input",{name:o,type:"hidden",value:l})}var s=i.length>0?i.map(function(t,n){return S.default.createElement("input",{key:"i-".concat(n),name:o,type:"hidden",value:e.getOptionValue(t)})}):S.default.createElement("input",{name:o,type:"hidden"});return S.default.createElement("div",null,s)}var u=i[0]?this.getOptionValue(i[0]):"";return S.default.createElement("input",{name:o,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?S.default.createElement(P.A11yText,{"aria-live":"assertive"},S.default.createElement("p",{id:"aria-selection-event"},"\xa0",this.state.ariaLiveSelection),S.default.createElement("p",{id:"aria-context"},"\xa0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,a=e.ValueContainer,o=this.props,i=o.className,s=o.id,u=o.isDisabled,c=o.menuIsOpen,d=this.state.isFocused,f=this.commonProps=this.getCommonProps();return S.default.createElement(r,l({},f,{className:i,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:u,isFocused:d}),this.renderLiveRegion(),S.default.createElement(t,l({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:u,isFocused:d,menuIsOpen:c}),S.default.createElement(a,l({},f,{isDisabled:u}),this.renderPlaceholderOrValue(),this.renderInput()),S.default.createElement(n,l({},f,{isDisabled:u}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),t}(S.Component);t.default=R,w(R,"defaultProps",I)},function(e,t,n){"use strict";function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function a(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return l&&a===this&&t(n,i)?o:(o=e.apply(this,n),l=!0,a=this,i=n,o)}void 0===t&&(t=r);var a,o,i=[],l=!1;return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},,function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(e===t)return!0;if(e&&t&&"object"==r(e)&&"object"==r(t)){var n,o,u,c=i(e),d=i(t);if(c&&d){if((o=e.length)!=t.length)return!1;for(n=o;0!==n--;)if(!a(e[n],t[n]))return!1;return!0}if(c!=d)return!1;var f=e instanceof Date,p=t instanceof Date;if(f!=p)return!1;if(f&&p)return e.getTime()==t.getTime();var m=e instanceof RegExp,h=t instanceof RegExp;if(m!=h)return!1;if(m&&h)return e.toString()==t.toString();var g=l(e);if((o=g.length)!==l(t).length)return!1;for(n=o;0!==n--;)if(!s.call(t,g[n]))return!1;for(n=o;0!==n--;)if(("_owner"!==(u=g[n])||!e.$$typeof)&&!a(e[u],t[u]))return!1;return!0}return e!==e&&t!==t}function o(e,t){try{return a(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=Array.isArray,l=Object.keys,s=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.createFilter=void 0;var o=n(616),i=function(e){return e.replace(/^\s+|\s+$/g,"")},l=function(e){return"".concat(e.label," ").concat(e.value)},s=function(e){return function(t,n){var a=r({ignoreCase:!0,ignoreAccents:!0,stringify:l,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,u=a.ignoreAccents,c=a.stringify,d=a.trim,f=a.matchFrom,p=d?i(n):n,m=d?i(c(t)):c(t);return s&&(p=p.toLowerCase(),m=m.toLowerCase()),u&&(p=(0,o.stripDiacritics)(p),m=(0,o.stripDiacritics)(m)),"start"===f?m.substr(0,p.length)===p:m.indexOf(p)>-1}};t.createFilter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stripDiacritics=void 0;var r=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],a=function(e){for(var t=0;t<r.length;t++)e=e.replace(r[t].letters,r[t].base);return e};t.stripDiacritics=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"A11yText",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"DummyInput",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"NodeResolver",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ScrollBlock",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"ScrollCaptor",{enumerable:!0,get:function(){return s.default}});var a=r(n(618)),o=r(n(619)),i=r(n(224)),l=r(n(620)),s=r(n(624))},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(33),i=function(e){return a.default.createElement("span",r({className:(0,o.css)({label:"a11yText",zIndex:9999,border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,width:1,position:"absolute",overflow:"hidden",padding:0,whiteSpace:"nowrap",backgroundColor:"red",color:"blue"})},e))},l=i;t.default=l},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,a=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),g=n(33),v=function(e){function t(){return l(this,t),c(this,f(t).apply(this,arguments))}return p(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=(e.in,e.out,e.onExited,e.appear,e.enter,e.exit,e.innerRef),n=(e.emotion,o(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return h.default.createElement("input",a({ref:t},n,{className:(0,g.css)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),t}(h.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?f(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),h=n(33),g=r(n(224)),v=r(n(621)),b=function(e){function t(){var e,n;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=s(this,(e=u(t)).call.apply(e,[this].concat(a))),p(f(f(n)),"state",{touchScrollTarget:null}),p(f(f(n)),"getScrollTarget",function(e){e!==n.state.touchScrollTarget&&n.setState({touchScrollTarget:e})}),p(f(f(n)),"blurSelectInput",function(){document.activeElement&&document.activeElement.blur()}),n}return c(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isEnabled,r=this.state.touchScrollTarget;return n?m.default.createElement("div",null,m.default.createElement("div",{onClick:this.blurSelectInput,className:(0,h.css)({position:"fixed",left:0,bottom:0,right:0,top:0})}),m.default.createElement(g.default,{innerRef:this.getScrollTarget},t),r?m.default.createElement(v.default,{touchScrollTarget:r}):null):t}}]),t}(m.PureComponent);t.default=b},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function l(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p=n(0),m=n(622),h=n(623),g=!("undefined"===typeof window||!window.document||!window.document.createElement),v=0,b=function(e){function t(){var e,n;a(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=l(this,(e=s(t)).call.apply(e,[this].concat(o))),f(d(d(n)),"originalStyles",{}),f(d(d(n)),"listenerOptions",{capture:!1,passive:!1}),n}return u(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;if(g){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,a=document.body,o=a&&a.style;if(n&&m.STYLE_KEYS.forEach(function(t){var n=o&&o[t];e.originalStyles[t]=n}),n&&v<1){var i=parseInt(this.originalStyles.paddingRight,10)||0,l=document.body?document.body.clientWidth:0,s=window.innerWidth-l+i||0;Object.keys(m.LOCK_STYLES).forEach(function(e){var t=m.LOCK_STYLES[e];o&&(o[e]=t)}),o&&(o.paddingRight="".concat(s,"px"))}a&&(0,h.isTouchDevice)()&&(a.addEventListener("touchmove",h.preventTouchMove,this.listenerOptions),r&&(r.addEventListener("touchstart",h.preventInertiaScroll,this.listenerOptions),r.addEventListener("touchmove",h.allowTouchMove,this.listenerOptions))),v+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(g){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,a=document.body,o=a&&a.style;v=Math.max(v-1,0),n&&v<1&&m.STYLE_KEYS.forEach(function(t){var n=e.originalStyles[t];o&&(o[t]=n)}),a&&(0,h.isTouchDevice)()&&(a.removeEventListener("touchmove",h.preventTouchMove,this.listenerOptions),r&&(r.removeEventListener("touchstart",h.preventInertiaScroll,this.listenerOptions),r.removeEventListener("touchmove",h.allowTouchMove,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(p.Component);t.default=b,f(b,"defaultProps",{accountForScrollbars:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOCK_STYLES=t.STYLE_KEYS=void 0;var r=["boxSizing","height","overflow","paddingRight","position"];t.STYLE_KEYS=r;var a={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};t.LOCK_STYLES=a},function(e,t,n){"use strict";function r(e){e.preventDefault()}function a(e){e.stopPropagation()}function o(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function i(){return"ontouchstart"in window||navigator.maxTouchPoints}Object.defineProperty(t,"__esModule",{value:!0}),t.preventTouchMove=r,t.allowTouchMove=a,t.preventInertiaScroll=o,t.isTouchDevice=i},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function u(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?p(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),g=function(e){return e&&e.__esModule?e:{default:e}}(n(224)),v=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=u(this,(e=c(t)).call.apply(e,[this].concat(a))),m(p(p(n)),"isBottom",!1),m(p(p(n)),"isTop",!1),m(p(p(n)),"scrollTarget",void 0),m(p(p(n)),"touchStart",void 0),m(p(p(n)),"cancelScroll",function(e){e.preventDefault(),e.stopPropagation()}),m(p(p(n)),"handleEventDelta",function(e,t){var r=n.props,a=r.onBottomArrive,o=r.onBottomLeave,i=r.onTopArrive,l=r.onTopLeave,s=n.scrollTarget,u=s.scrollTop,c=s.scrollHeight,d=s.clientHeight,f=n.scrollTarget,p=t>0,m=c-d-u,h=!1;m>t&&n.isBottom&&(o&&o(e),n.isBottom=!1),p&&n.isTop&&(l&&l(e),n.isTop=!1),p&&t>m?(a&&!n.isBottom&&a(e),f.scrollTop=c,h=!0,n.isBottom=!0):!p&&-t>u&&(i&&!n.isTop&&i(e),f.scrollTop=0,h=!0,n.isTop=!0),h&&n.cancelScroll(e)}),m(p(p(n)),"onWheel",function(e){n.handleEventDelta(e,e.deltaY)}),m(p(p(n)),"onTouchStart",function(e){n.touchStart=e.changedTouches[0].clientY}),m(p(p(n)),"onTouchMove",function(e){var t=n.touchStart-e.changedTouches[0].clientY;n.handleEventDelta(e,t)}),m(p(p(n)),"getScrollTarget",function(e){n.scrollTarget=e}),n}return d(t,e),s(t,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e&&(e.scrollHeight<=e.clientHeight||("function"===typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"===typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"===typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1)))}},{key:"stopListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"===typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"===typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"===typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return h.default.createElement(g.default,{innerRef:this.getScrollTarget},this.props.children)}}]),t}(h.Component),b=function(e){function t(){return i(this,t),u(this,c(t).apply(this,arguments))}return d(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=r(e,["isEnabled"]);return t?h.default.createElement(v,n):this.props.children}}]),t}(h.Component);t.default=b,m(b,"defaultProps",{isEnabled:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resultsAriaMessage=t.optionFocusAriaMessage=t.valueFocusAriaMessage=t.valueEventAriaMessage=t.instructionsAriaMessage=void 0;var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isSearchable,r=t.isMulti,a=t.label,o=t.isDisabled;switch(e){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu, press Tab to select the option and exit the menu.");case"input":return"".concat(a||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}};t.instructionsAriaMessage=r;var a=function(e,t){var n=t.value,r=t.isDisabled;if(n)switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"select-option":return r?"option ".concat(n," is disabled. Select another option."):"option ".concat(n,", selected.")}};t.valueEventAriaMessage=a;var o=function(e){var t=e.focusedValue,n=e.getOptionLabel,r=e.selectValue;return"value ".concat(n(t)," focused, ").concat(r.indexOf(t)+1," of ").concat(r.length,".")};t.valueFocusAriaMessage=o;var i=function(e){var t=e.focusedOption,n=e.getOptionLabel,r=e.options;return"option ".concat(n(t)," focused").concat(t.isDisabled?" disabled":"",", ").concat(r.indexOf(t)+1," of ").concat(r.length,".")};t.optionFocusAriaMessage=i;var l=function(e){var t=e.inputValue;return"".concat(e.screenReaderMessage).concat(t?" for search term "+t:"",".")};t.resultsAriaMessage=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isOptionDisabled=t.getOptionValue=t.getOptionLabel=t.formatGroupLabel=void 0;var r=function(e){return e.label};t.formatGroupLabel=r;var a=function(e){return e.label};t.getOptionLabel=a;var o=function(e){return e.value};t.getOptionValue=o;var i=function(e){return!!e.isDisabled};t.isOptionDisabled=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultComponents=t.components=void 0;var l=n(324),s=n(225),u=a(n(325)),c=r(n(326)),d=a(n(327)),f=r(n(222)),p=r(n(328)),m=a(n(329)),h=a(n(330)),g=a(n(331)),v={ClearIndicator:s.ClearIndicator,Control:u.default,DropdownIndicator:s.DropdownIndicator,DownChevron:s.DownChevron,CrossIcon:s.CrossIcon,Group:c.default,GroupHeading:c.GroupHeading,IndicatorsContainer:l.IndicatorsContainer,IndicatorSeparator:s.IndicatorSeparator,Input:d.default,LoadingIndicator:s.LoadingIndicator,Menu:f.default,MenuList:f.MenuList,MenuPortal:f.MenuPortal,LoadingMessage:f.LoadingMessage,NoOptionsMessage:f.NoOptionsMessage,MultiValue:p.default,MultiValueContainer:p.MultiValueContainer,MultiValueLabel:p.MultiValueLabel,MultiValueRemove:p.MultiValueRemove,Option:m.default,Placeholder:h.default,SelectContainer:l.SelectContainer,SingleValue:g.default,ValueContainer:l.ValueContainer};t.components=v;var b=function(e){return o({},v,e.components)};t.defaultComponents=b},,function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r({},e);return Object.keys(t).forEach(function(r){e[r]?n[r]=function(n,a){return t[r](e[r](n,a),a)}:n[r]=t[r]}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeStyles=o,t.defaultStyles=void 0;var i=n(324),l=n(325),s=n(326),u=n(225),c=n(327),d=n(330),f=n(329),p=n(222),m=n(331),h=n(328),g={clearIndicator:u.clearIndicatorCSS,container:i.containerCSS,control:l.css,dropdownIndicator:u.dropdownIndicatorCSS,group:s.groupCSS,groupHeading:s.groupHeadingCSS,indicatorsContainer:i.indicatorsContainerCSS,indicatorSeparator:u.indicatorSeparatorCSS,input:c.inputCSS,loadingIndicator:u.loadingIndicatorCSS,loadingMessage:p.loadingMessageCSS,menu:p.menuCSS,menuList:p.menuListCSS,menuPortal:p.menuPortalCSS,multiValue:h.multiValueCSS,multiValueLabel:h.multiValueLabelCSS,multiValueRemove:h.multiValueRemoveCSS,noOptionsMessage:p.noOptionsMessageCSS,option:f.optionCSS,placeholder:d.placeholderCSS,singleValue:m.css,valueContainer:i.valueContainerCSS};t.defaultStyles=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTheme=t.spacing=t.colors=void 0;var r={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"};t.colors=r;var a={baseUnit:4,controlHeight:38,menuGutter:8};t.spacing=a;var o={borderRadius:4,colors:r,spacing:a};t.defaultTheme=o},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,a=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?m(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.defaultProps=void 0;var g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),v={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null};t.defaultProps=v;var b=function(e){var t,n;return n=t=function(t){function n(){var e,t;l(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=c(this,(e=d(n)).call.apply(e,[this].concat(a))),h(m(m(t)),"select",void 0),h(m(m(t)),"state",{inputValue:void 0!==t.props.inputValue?t.props.inputValue:t.props.defaultInputValue,menuIsOpen:void 0!==t.props.menuIsOpen?t.props.menuIsOpen:t.props.defaultMenuIsOpen,value:void 0!==t.props.value?t.props.value:t.props.defaultValue}),h(m(m(t)),"onChange",function(e,n){t.callProp("onChange",e,n),t.setState({value:e})}),h(m(m(t)),"onInputChange",function(e,n){var r=t.callProp("onInputChange",e,n);t.setState({inputValue:void 0!==r?r:e})}),h(m(m(t)),"onMenuOpen",function(){t.callProp("onMenuOpen"),t.setState({menuIsOpen:!0})}),h(m(m(t)),"onMenuClose",function(){t.callProp("onMenuClose"),t.setState({menuIsOpen:!1})}),t}return f(n,t),u(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"===typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var t=this,n=this.props,r=(n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue,o(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return g.default.createElement(e,a({},r,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(g.Component),h(t,"defaultProps",v),n},y=b;t.default=y},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(634),u=n(656),c=n.n(u),d=n(658),f=(n.n(d),n(7)),p=n.n(f),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(659),g=n(660),v=n(661),b=n(662),y=n(663),E=n(664),w=n(665),S=n(666),_="YYYY-MM-DD",x=p()(),O=x.clone(),C=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){n.props.onDateChange(e?e.format(_):""),n.setState({value:e})},n.toggleDisabled=function(){n.setState({disabled:!n.state.disabled})},n.translateCalendar=function(e){var t=v;if(e)switch(e){case"zh-ch":t=h;break;case"zh-tw":t=g;break;case"en":t=v;break;case"fr":t=b;break;case"de":t=y;break;case"es":case"es-ar":case"es-mx":t=E;break;case"pl":t=w;break;case"cs":t=S}return t},n.state={showTime:!0,showDateInput:!0,disabled:!1,value:p()(e.value)},n}return o(t,e),m(t,[{key:"render",value:function(){var e=this,t=this.state,n=this.translateCalendar(this.props.locale),r=l.a.createElement(s.a,{style:{zIndex:1e3},format:_,showDateInput:!1,defaultValue:O,locale:n});return l.a.createElement(c.a,{animation:"slide-up",calendar:r,value:""===this.props.value?O:t.value,onChange:this.onChange},function(n){var r=n.value,a=void 0;return a="Invalid date"===e.state.value.format(_)?"":r.format(_),l.a.createElement("span",{tabIndex:"0"},l.a.createElement("input",{style:{width:"100%"},disabled:t.disabled,readOnly:!0,tabIndex:"-1",className:"ant-calendar-pick-input ant-input",value:a}))})}}]),t}(l.a.Component);t.a=C},function(e,t,n){"use strict";var r=n(635);t.a=r.a},function(e,t,n){"use strict";function r(){}var a=n(146),o=n.n(a),i=n(16),l=n.n(i),s=n(17),u=n.n(s),c=n(18),d=n.n(c),f=n(0),p=n.n(f),m=n(10),h=n.n(m),g=n(1),v=n.n(g),b=n(333),y=n(87),E=n(638),w=n(641),S=n(646),_=n(650),x=n(651),O=n(652),C=n(654),P=n(105),k=n(655),D=n(7),M=n.n(D),T=function(e){return!(!M.a.isMoment(e)||!e.isValid())&&e},L=function(e){function t(n){l()(this,t);var r=u()(this,e.call(this,n));return N.call(r),r.state={mode:r.props.mode||"date",value:T(n.value)||T(n.defaultValue)||M()(),selectedValue:n.selectedValue||n.defaultSelectedValue},r}return d()(t,e),t.prototype.componentDidMount=function(){this.props.showDateInput&&this.saveFocusElement(C.a.getInstance())},t.getDerivedStateFromProps=function(e,t){var n=e.value,r=e.selectedValue,a={};return"mode"in e&&t.mode!==e.mode&&(a={mode:e.mode}),"value"in e&&(a.value=T(n)||T(e.defaultValue)||Object(x.d)(t.value)),"selectedValue"in e&&(a.selectedValue=r),a},t.prototype.render=function(){var e=this.props,t=this.state,n=e.locale,r=e.prefixCls,a=e.disabledDate,i=e.dateInputPlaceholder,l=e.timePicker,s=e.disabledTime,u=e.clearIcon,c=e.renderFooter,d=e.inputMode,f=e.showHourAndMinute,m=t.value,h=t.selectedValue,g=t.mode,v="time"===g,b=v&&s&&l?Object(P.c)(h,s):null,y=null;if(l&&v){var x=o()({showHour:!0,showSecond:!0,showMinute:!0},l.props,b,{onChange:this.onDateInputChange,value:h,disabledTime:s});void 0!==l.props.defaultValue&&(x.defaultOpenValue=l.props.defaultValue),y=p.a.cloneElement(l,x)}var O=e.showDateInput?p.a.createElement(C.a,{format:this.getFormat(),key:"date-input",value:m,locale:n,placeholder:i,showClear:!0,disabledTime:s,disabledDate:a,onClear:this.onClear,prefixCls:r,selectedValue:h,onChange:this.onDateInputChange,onSelect:this.onDateInputSelect,clearIcon:u,inputMode:d}):null,k=[];return e.renderSidebar&&k.push(e.renderSidebar()),k.push(p.a.createElement("div",{className:r+"-panel",key:"panel"},O,p.a.createElement("div",{className:r+"-date-panel-container"},p.a.createElement("div",{tabIndex:this.props.focusablePanel?0:void 0,className:r+"-date-panel"},p.a.createElement(w.a,{locale:n,mode:g,value:m,onValueChange:this.setValue,onPanelChange:this.onPanelChange,renderFooter:c,showTimePicker:v,prefixCls:r}),l&&v?p.a.createElement("div",{className:r+"-time-picker"},p.a.createElement("div",{className:r+"-time-picker-panel"},y)):null,p.a.createElement("div",{className:r+"-body"},p.a.createElement(E.a,{locale:n,value:m,selectedValue:h,prefixCls:r,dateRender:e.dateRender,onSelect:this.onDateTableSelect,disabledDate:a,showWeekNumber:e.showWeekNumber})),p.a.createElement(S.a,{showOk:e.showOk,mode:g,renderFooter:e.renderFooter,locale:n,prefixCls:r,showToday:e.showToday,disabledTime:s,showTimePicker:v,showDateInput:e.showDateInput,timePicker:l,selectedValue:h,value:m,disabledDate:a,okDisabled:!1!==e.showOk&&(!h||!this.isAllowedDate(h)),onOk:this.onOk,onSelect:this.onSelect,onToday:this.onToday,onOpenTimePicker:this.openTimePicker,onCloseTimePicker:this.closeTimePicker})),f&&p.a.createElement(_.a,{prefixCls:r,value:m,locale:n,onSelect:this.onDateTableSelect})))),this.renderRoot({children:k,className:e.showWeekNumber?r+"-week-number":""})},t}(p.a.Component);L.propTypes=o()({},x.b,O.c,{prefixCls:v.a.string,className:v.a.string,style:v.a.object,defaultValue:v.a.object,value:v.a.object,selectedValue:v.a.object,defaultSelectedValue:v.a.object,mode:v.a.oneOf(["time","date","month","year","decade"]),locale:v.a.object,showDateInput:v.a.bool,showWeekNumber:v.a.bool,showToday:v.a.bool,showOk:v.a.bool,showHourAndMinute:v.a.bool,onSelect:v.a.func,onOk:v.a.func,onKeyDown:v.a.func,timePicker:v.a.element,dateInputPlaceholder:v.a.any,onClear:v.a.func,onChange:v.a.func,onPanelChange:v.a.func,disabledDate:v.a.func,disabledTime:v.a.any,dateRender:v.a.func,renderFooter:v.a.func,renderSidebar:v.a.func,clearIcon:v.a.node,focusablePanel:v.a.bool,inputMode:v.a.string,onBlur:v.a.func}),L.defaultProps=o()({},x.a,O.b,{showToday:!0,showDateInput:!0,showHourAndMinute:!1,timePicker:null,onOk:r,onPanelChange:r,focusablePanel:!0});var N=function(){var e=this;this.onPanelChange=function(t,n){var r=e.props,a=e.state;"mode"in r||e.setState({mode:n}),r.onPanelChange(t||a.value,n)},this.onKeyDown=function(t){if("input"!==t.target.nodeName.toLowerCase()){var n=t.keyCode,r=t.ctrlKey||t.metaKey,a=e.props.disabledDate,o=e.state.value;switch(n){case b.a.DOWN:return e.goTime(1,"weeks"),t.preventDefault(),1;case b.a.UP:return e.goTime(-1,"weeks"),t.preventDefault(),1;case b.a.LEFT:return r?e.goTime(-1,"years"):e.goTime(-1,"days"),t.preventDefault(),1;case b.a.RIGHT:return r?e.goTime(1,"years"):e.goTime(1,"days"),t.preventDefault(),1;case b.a.HOME:return e.setValue(Object(k.b)(e.state.value)),t.preventDefault(),1;case b.a.END:return e.setValue(Object(k.a)(e.state.value)),t.preventDefault(),1;case b.a.PAGE_DOWN:return e.goTime(1,"month"),t.preventDefault(),1;case b.a.PAGE_UP:return e.goTime(-1,"month"),t.preventDefault(),1;case b.a.ENTER:return a&&a(o)||e.onSelect(o,{source:"keyboard"}),t.preventDefault(),1;default:return e.props.onKeyDown(t),1}}},this.onClear=function(){e.onSelect(null),e.props.onClear()},this.onOk=function(){var t=e.state.selectedValue;e.isAllowedDate(t)&&e.props.onOk(t)},this.onDateInputChange=function(t){e.onSelect(t,{source:"dateInput"})},this.onDateInputSelect=function(t){e.onSelect(t,{source:"dateInputSelect"})},this.onDateTableSelect=function(t){var n=e.props.timePicker;if(!e.state.selectedValue&&n){var r=n.props.defaultValue;r&&Object(P.h)(r,t)}e.onSelect(t)},this.onToday=function(){var t=e.state.value,n=Object(P.e)(t);e.onSelect(n,{source:"todayButton"})},this.onBlur=function(t){setTimeout(function(){var n=C.a.getInstance(),r=e.rootInstance;!r||r.contains(document.activeElement)||n&&n.contains(document.activeElement)||e.props.onBlur&&e.props.onBlur(t)},0)},this.getRootDOMNode=function(){return h.a.findDOMNode(e)},this.openTimePicker=function(){e.onPanelChange(null,"time")},this.closeTimePicker=function(){e.onPanelChange(null,"date")},this.goTime=function(t,n){e.setValue(Object(k.c)(e.state.value,t,n))}};Object(y.polyfill)(L),t.a=Object(x.c)(Object(O.a)(L))},,,function(e,t,n){"use strict";var r=n(16),a=n.n(r),o=n(17),i=n.n(o),l=n(18),s=n.n(l),u=n(0),c=n.n(u),d=n(639),f=n(640),p=function(e){function t(){return a()(this,t),i()(this,e.apply(this,arguments))}return s()(t,e),t.prototype.render=function(){var e=this.props,t=e.prefixCls;return c.a.createElement("table",{className:t+"-table",cellSpacing:"0",role:"grid"},c.a.createElement(d.a,e),c.a.createElement(f.a,e))},t}(c.a.Component);t.a=p},function(e,t,n){"use strict";var r=n(16),a=n.n(r),o=n(17),i=n.n(o),l=n(18),s=n.n(l),u=n(0),c=n.n(u),d=n(334),f=n(7),p=n.n(f),m=function(e){function t(){return a()(this,t),i()(this,e.apply(this,arguments))}return s()(t,e),t.prototype.render=function(){for(var e=this.props,t=e.value,n=t.localeData(),r=e.prefixCls,a=[],o=[],i=void 0,l=p()(),s=0;s<d.a.DATE_COL_COUNT;s++){var u=(7+s)%d.a.DATE_COL_COUNT;l.day(u),a[s]=n.weekdaysMin(l),o[s]=n.weekdaysShort(l)}e.showWeekNumber&&(i=c.a.createElement("th",{role:"columnheader",className:r+"-column-header "+r+"-week-number-header"},c.a.createElement("span",{className:r+"-column-header-inner"},"x")));var f=o.map(function(e,t){return c.a.createElement("th",{key:t,role:"columnheader",title:e,className:r+"-column-header"},c.a.createElement("span",{className:r+"-column-header-inner"},a[t]))});return c.a.createElement("thead",null,c.a.createElement("tr",{role:"row"},i,f))},t}(c.a.Component);t.a=m},function(e,t,n){"use strict";function r(e,t){return e&&t&&e.isSame(t,"day")}function a(e,t){return e.year()<t.year()?1:e.year()===t.year()&&e.month()<t.month()}function o(e,t){return e.year()>t.year()?1:e.year()===t.year()&&e.month()>t.month()}function i(e){return"rc-calendar-"+e.year()+"-"+e.month()+"-"+e.date()}var l=n(16),s=n.n(l),u=n(17),c=n.n(u),d=n(18),f=n.n(d),p=n(0),m=n.n(p),h=n(1),g=n.n(h),v=n(41),b=n.n(v),y=n(334),E=n(105),w=function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.contentRender,n=e.prefixCls,l=e.selectedValue,s=e.value,u=e.showWeekNumber,c=e.dateRender,d=e.disabledDate,f=e.hoverValue,p=void 0,h=void 0,g=void 0,v=[],w=Object(E.e)(s),S=n+"-cell",_=n+"-week-number-cell",x=n+"-date",O=n+"-today",C=n+"-selected-day",P=n+"-selected-date",k=n+"-selected-start-date",D=n+"-selected-end-date",M=n+"-in-range-cell",T=n+"-last-month-cell",L=n+"-next-month-btn-day",N=n+"-disabled-cell",I=n+"-disabled-cell-first-of-row",j=n+"-disabled-cell-last-of-row",R=n+"-last-day-of-month",Y=s.clone();Y.date(1);var A=Y.day(),F=(A+7-7)%7,B=Y.clone();B.add(0-F,"days");var Z=0;for(p=0;p<y.a.DATE_ROW_COUNT;p++)for(h=0;h<y.a.DATE_COL_COUNT;h++)g=B,Z&&(g=g.clone(),g.add(Z,"days")),v.push(g),Z++;var H=[];for(Z=0,p=0;p<y.a.DATE_ROW_COUNT;p++){var X,J=void 0,U=void 0,Q=!1,W=[];for(u&&(U=m.a.createElement("td",{key:v[Z].week(),role:"gridcell",className:_},v[Z].week())),h=0;h<y.a.DATE_COL_COUNT;h++){var G=null,z=null;g=v[Z],h<y.a.DATE_COL_COUNT-1&&(G=v[Z+1]),h>0&&(z=v[Z-1]);var K=S,V=!1,q=!1;r(g,w)&&(K+=" "+O,J=!0);var $=a(g,s),ee=o(g,s);if(l&&Array.isArray(l)){var te=f.length?f:l;if(!$&&!ee){var ne=te[0],re=te[1];ne&&r(g,ne)&&(q=!0,Q=!0,K+=" "+k),(ne||re)&&(r(g,re)?(q=!0,Q=!0,K+=" "+D):(null!==ne&&void 0!==ne||!g.isBefore(re,"day"))&&(null!==re&&void 0!==re||!g.isAfter(ne,"day"))?g.isAfter(ne,"day")&&g.isBefore(re,"day")&&(K+=" "+M):K+=" "+M)}}else r(g,s)&&(q=!0,Q=!0);r(g,l)&&(K+=" "+P),$&&(K+=" "+T),ee&&(K+=" "+L),g.clone().endOf("month").date()===g.date()&&(K+=" "+R),d&&d(g,s)&&(V=!0,z&&d(z,s)||(K+=" "+I),G&&d(G,s)||(K+=" "+j)),q&&(K+=" "+C),V&&(K+=" "+N);var ae=void 0;if(c)ae=c(g,s);else{var oe=t?t(g,s):g.date();ae=m.a.createElement("div",{key:i(g),className:x,"aria-selected":q,"aria-disabled":V},oe)}W.push(m.a.createElement("td",{key:Z,onClick:V?void 0:e.onSelect.bind(null,g),onMouseEnter:V?void 0:e.onDayHover&&e.onDayHover.bind(null,g)||void 0,role:"gridcell",title:Object(E.d)(g),className:K},ae)),Z++}H.push(m.a.createElement("tr",{key:p,role:"row",className:b()((X={},X[n+"-current-week"]=J,X[n+"-active-week"]=Q,X))},U,W))}return m.a.createElement("tbody",{className:n+"-tbody"},H)},t}(m.a.Component);w.propTypes={contentRender:g.a.func,dateRender:g.a.func,disabledDate:g.a.func,prefixCls:g.a.string,selectedValue:g.a.oneOfType([g.a.object,g.a.arrayOf(g.a.object)]),value:g.a.object,hoverValue:g.a.any,showWeekNumber:g.a.bool},w.defaultProps={hoverValue:[]},t.a=w},function(e,t,n){"use strict";function r(e){var t=this.props.value.clone();t.add(e,"months"),this.props.onValueChange(t)}function a(e){var t=this.props.value.clone();t.add(e,"years"),this.props.onValueChange(t)}function o(e,t){return e?t:null}var i=n(16),l=n.n(i),s=n(17),u=n.n(s),c=n(18),d=n.n(c),f=n(0),p=n.n(f),m=n(1),h=n.n(m),g=n(335),v=n(642),b=n(644),y=n(645),E=function(e){function t(n){l()(this,t);var o=u()(this,e.call(this,n));return w.call(o),o.nextMonth=r.bind(o,1),o.previousMonth=r.bind(o,-1),o.nextYear=a.bind(o,1),o.previousYear=a.bind(o,-1),o.state={yearPanelReferer:null},o}return d()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.prefixCls,r=t.locale,a=t.mode,i=t.value,l=t.showTimePicker,s=t.enableNext,u=t.enablePrev,c=t.disabledMonth,d=t.renderFooter,f=null;return"month"===a&&(f=p.a.createElement(v.a,{locale:r,value:i,rootPrefixCls:n,onSelect:this.onMonthSelect,onYearPanelShow:function(){return e.showYearPanel("month")},disabledDate:c,cellRender:t.monthCellRender,contentRender:t.monthCellContentRender,renderFooter:d,changeYear:this.changeYear})),"year"===a&&(f=p.a.createElement(b.a,{locale:r,defaultValue:i,rootPrefixCls:n,onSelect:this.onYearSelect,onDecadePanelShow:this.showDecadePanel,renderFooter:d})),"decade"===a&&(f=p.a.createElement(y.a,{locale:r,defaultValue:i,rootPrefixCls:n,onSelect:this.onDecadeSelect,renderFooter:d})),p.a.createElement("div",{className:n+"-header"},p.a.createElement("div",{style:{position:"relative"}},o(u&&!l,p.a.createElement("a",{className:n+"-prev-year-btn",role:"button",onClick:this.previousYear,title:r.previousYear})),o(u&&!l,p.a.createElement("a",{className:n+"-prev-month-btn",role:"button",onClick:this.previousMonth,title:r.previousMonth})),this.monthYearElement(l),o(s&&!l,p.a.createElement("a",{className:n+"-next-month-btn",onClick:this.nextMonth,title:r.nextMonth})),o(s&&!l,p.a.createElement("a",{className:n+"-next-year-btn",onClick:this.nextYear,title:r.nextYear}))),f)},t}(p.a.Component);E.propTypes={prefixCls:h.a.string,value:h.a.object,onValueChange:h.a.func,showTimePicker:h.a.bool,onPanelChange:h.a.func,locale:h.a.object,enablePrev:h.a.any,enableNext:h.a.any,disabledMonth:h.a.func,renderFooter:h.a.func,onMonthSelect:h.a.func},E.defaultProps={enableNext:1,enablePrev:1,onPanelChange:function(){},onValueChange:function(){}};var w=function(){var e=this;this.onMonthSelect=function(t){e.props.onPanelChange(t,"date"),e.props.onMonthSelect?e.props.onMonthSelect(t):e.props.onValueChange(t)},this.onYearSelect=function(t){var n=e.state.yearPanelReferer;e.setState({yearPanelReferer:null}),e.props.onPanelChange(t,n),e.props.onValueChange(t)},this.onDecadeSelect=function(t){e.props.onPanelChange(t,"year"),e.props.onValueChange(t)},this.changeYear=function(t){t>0?e.nextYear():e.previousYear()},this.monthYearElement=function(t){var n=e.props,r=n.prefixCls,a=n.locale,o=n.value,i=o.localeData(),l=a.monthBeforeYear,s=r+"-"+(l?"my-select":"ym-select"),u=t?" "+r+"-time-status":"",c=p.a.createElement("a",{className:r+"-year-select"+u,role:"button",onClick:t?null:function(){return e.showYearPanel("date")},title:t?null:a.yearSelect},o.format(a.yearFormat)),d=p.a.createElement("a",{className:r+"-month-select"+u,role:"button",onClick:t?null:e.showMonthPanel,title:t?null:a.monthSelect},a.monthFormat?o.format(a.monthFormat):i.monthsShort(o)),f=void 0;t&&(f=p.a.createElement("a",{className:r+"-day-select"+u,role:"button"},o.format(a.dayFormat)));var m=[];return m=l?[d,f,c]:[c,d,f],p.a.createElement("span",{className:s},Object(g.a)(m))},this.showMonthPanel=function(){e.props.onPanelChange(null,"month")},this.showYearPanel=function(t){e.setState({yearPanelReferer:t}),e.props.onPanelChange(null,"year")},this.showDecadePanel=function(){e.props.onPanelChange(null,"decade")}};t.a=E},function(e,t,n){"use strict";function r(e){this.props.changeYear(e)}function a(){}var o=n(16),i=n.n(o),l=n(17),s=n.n(l),u=n(18),c=n.n(u),d=n(0),f=n.n(d),p=n(1),m=n.n(p),h=n(87),g=n(643),v=function(e){function t(n){i()(this,t);var a=s()(this,e.call(this,n));return a.setAndSelectValue=function(e){a.setValue(e),a.props.onSelect(e)},a.setValue=function(e){"value"in a.props&&a.setState({value:e})},a.nextYear=r.bind(a,1),a.previousYear=r.bind(a,-1),a.prefixCls=n.rootPrefixCls+"-month-panel",a.state={value:n.value||n.defaultValue},a}return c()(t,e),t.getDerivedStateFromProps=function(e){var t={};return"value"in e&&(t={value:e.value}),t},t.prototype.render=function(){var e=this.props,t=this.state.value,n=e.locale,r=e.cellRender,a=e.contentRender,o=e.renderFooter,i=t.year(),l=this.prefixCls,s=o&&o("month");return f.a.createElement("div",{className:l,style:e.style},f.a.createElement("div",null,f.a.createElement("div",{className:l+"-header"},f.a.createElement("a",{className:l+"-prev-year-btn",role:"button",onClick:this.previousYear,title:n.previousYear}),f.a.createElement("a",{className:l+"-year-select",role:"button",onClick:e.onYearPanelShow,title:n.yearSelect},f.a.createElement("span",{className:l+"-year-select-content"},i),f.a.createElement("span",{className:l+"-year-select-arrow"},"x")),f.a.createElement("a",{className:l+"-next-year-btn",role:"button",onClick:this.nextYear,title:n.nextYear})),f.a.createElement("div",{className:l+"-body"},f.a.createElement(g.a,{disabledDate:e.disabledDate,onSelect:this.setAndSelectValue,locale:n,value:t,cellRender:r,contentRender:a,prefixCls:l})),s&&f.a.createElement("div",{className:l+"-footer"},s)))},t}(f.a.Component);v.propTypes={onChange:m.a.func,disabledDate:m.a.func,onSelect:m.a.func,renderFooter:m.a.func,rootPrefixCls:m.a.string,value:m.a.object,defaultValue:m.a.object},v.defaultProps={onChange:a,onSelect:a},Object(h.polyfill)(v),t.a=v},function(e,t,n){"use strict";function r(e){var t=this.state.value.clone();t.month(e),this.setAndSelectValue(t)}function a(){}var o=n(16),i=n.n(o),l=n(17),s=n.n(l),u=n(18),c=n.n(u),d=n(0),f=n.n(d),p=n(1),m=n.n(p),h=n(41),g=n.n(h),v=n(105),b=function(e){function t(n){i()(this,t);var r=s()(this,e.call(this,n));return r.state={value:n.value},r}return c()(t,e),t.prototype.componentWillReceiveProps=function(e){"value"in e&&this.setState({value:e.value})},t.prototype.setAndSelectValue=function(e){this.setState({value:e}),this.props.onSelect(e)},t.prototype.months=function(){for(var e=this.state.value,t=e.clone(),n=[],r=0,a=0;a<4;a++){n[a]=[];for(var o=0;o<3;o++){t.month(r);var i=Object(v.b)(t);n[a][o]={value:r,content:i,title:i},r++}}return n},t.prototype.render=function(){var e=this,t=this.props,n=this.state.value,a=Object(v.e)(n),o=this.months(),i=n.month(),l=t.prefixCls,s=t.locale,u=t.contentRender,c=t.cellRender,d=o.map(function(o,d){var p=o.map(function(o){var d,p=!1;if(t.disabledDate){var m=n.clone();m.month(o.value),p=t.disabledDate(m)}var h=(d={},d[l+"-cell"]=1,d[l+"-cell-disabled"]=p,d[l+"-selected-cell"]=o.value===i,d[l+"-current-cell"]=a.year()===n.year()&&o.value===a.month(),d),v=void 0;if(c){var b=n.clone();b.month(o.value),v=c(b,s)}else{var y=void 0;if(u){var E=n.clone();E.month(o.value),y=u(E,s)}else y=o.content;v=f.a.createElement("a",{className:l+"-month"},y)}return f.a.createElement("td",{role:"gridcell",key:o.value,onClick:p?null:r.bind(e,o.value),title:o.title,className:g()(h)},v)});return f.a.createElement("tr",{key:d,role:"row"},p)});return f.a.createElement("table",{className:l+"-table",cellSpacing:"0",role:"grid"},f.a.createElement("tbody",{className:l+"-tbody"},d))},t}(d.Component);b.defaultProps={onSelect:a},b.propTypes={onSelect:m.a.func,cellRender:m.a.func,prefixCls:m.a.string,value:m.a.object},t.a=b},function(e,t,n){"use strict";function r(e){var t=this.state.value.clone();t.add(e,"year"),this.setState({value:t})}function a(e){var t=this.state.value.clone();t.year(e),t.month(this.state.value.month()),this.setState({value:t}),this.props.onSelect(t)}var o=n(16),i=n.n(o),l=n(17),s=n.n(l),u=n(18),c=n.n(u),d=n(0),f=n.n(d),p=n(1),m=n.n(p),h=n(41),g=n.n(h),v=function(e){function t(n){i()(this,t);var a=s()(this,e.call(this,n));return a.prefixCls=n.rootPrefixCls+"-year-panel",a.state={value:n.value||n.defaultValue},a.nextDecade=r.bind(a,10),a.previousDecade=r.bind(a,-10),a}return c()(t,e),t.prototype.years=function(){for(var e=this.state.value,t=e.year(),n=10*parseInt(t/10,10),r=n-1,a=[],o=0,i=0;i<4;i++){a[i]=[];for(var l=0;l<3;l++){var s=r+o,u=String(s);a[i][l]={content:u,year:s,title:u},o++}}return a},t.prototype.render=function(){var e=this,t=this.props,n=this.state.value,r=t.locale,o=t.renderFooter,i=this.years(),l=n.year(),s=10*parseInt(l/10,10),u=s+9,c=this.prefixCls,d=i.map(function(t,n){var r=t.map(function(t){var n,r=(n={},n[c+"-cell"]=1,n[c+"-selected-cell"]=t.year===l,n[c+"-last-decade-cell"]=t.year<s,n[c+"-next-decade-cell"]=t.year>u,n),o=void 0;return o=t.year<s?e.previousDecade:t.year>u?e.nextDecade:a.bind(e,t.year),f.a.createElement("td",{role:"gridcell",title:t.title,key:t.content,onClick:o,className:g()(r)},f.a.createElement("a",{className:c+"-year"},t.content))});return f.a.createElement("tr",{key:n,role:"row"},r)}),p=o&&o("year");return f.a.createElement("div",{className:this.prefixCls},f.a.createElement("div",null,f.a.createElement("div",{className:c+"-header"},f.a.createElement("a",{className:c+"-prev-decade-btn",role:"button",onClick:this.previousDecade,title:r.previousDecade}),f.a.createElement("a",{className:c+"-decade-select",role:"button",onClick:t.onDecadePanelShow,title:r.decadeSelect},f.a.createElement("span",{className:c+"-decade-select-content"},s,"-",u),f.a.createElement("span",{className:c+"-decade-select-arrow"},"x")),f.a.createElement("a",{className:c+"-next-decade-btn",role:"button",onClick:this.nextDecade,title:r.nextDecade})),f.a.createElement("div",{className:c+"-body"},f.a.createElement("table",{className:c+"-table",cellSpacing:"0",role:"grid"},f.a.createElement("tbody",{className:c+"-tbody"},d))),p&&f.a.createElement("div",{className:c+"-footer"},p)))},t}(f.a.Component);t.a=v,v.propTypes={rootPrefixCls:m.a.string,value:m.a.object,defaultValue:m.a.object,renderFooter:m.a.func},v.defaultProps={onSelect:function(){}}},function(e,t,n){"use strict";function r(e){var t=this.state.value.clone();t.add(e,"years"),this.setState({value:t})}function a(e,t){var n=this.state.value.clone();n.year(e),n.month(this.state.value.month()),this.props.onSelect(n),t.preventDefault()}var o=n(16),i=n.n(o),l=n(17),s=n.n(l),u=n(18),c=n.n(u),d=n(0),f=n.n(d),p=n(1),m=n.n(p),h=n(41),g=n.n(h),v=function(e){function t(n){i()(this,t);var a=s()(this,e.call(this,n));return a.state={value:n.value||n.defaultValue},a.prefixCls=n.rootPrefixCls+"-decade-panel",a.nextCentury=r.bind(a,100),a.previousCentury=r.bind(a,-100),a}return c()(t,e),t.prototype.render=function(){for(var e=this,t=this.state.value,n=this.props,r=n.locale,o=n.renderFooter,i=t.year(),l=100*parseInt(i/100,10),s=l-10,u=l+99,c=[],d=0,p=this.prefixCls,m=0;m<4;m++){c[m]=[];for(var h=0;h<3;h++){var v=s+10*d,b=s+10*d+9;c[m][h]={startDecade:v,endDecade:b},d++}}var y=o&&o("decade"),E=c.map(function(t,n){var r=t.map(function(t){var n,r=t.startDecade,o=t.endDecade,s=r<l,c=o>u,d=(n={},n[p+"-cell"]=1,n[p+"-selected-cell"]=r<=i&&i<=o,n[p+"-last-century-cell"]=s,n[p+"-next-century-cell"]=c,n),m=r+"-"+o,h=void 0;return h=s?e.previousCentury:c?e.nextCentury:a.bind(e,r),f.a.createElement("td",{key:r,onClick:h,role:"gridcell",className:g()(d)},f.a.createElement("a",{className:p+"-decade"},m))});return f.a.createElement("tr",{key:n,role:"row"},r)});return f.a.createElement("div",{className:this.prefixCls},f.a.createElement("div",{className:p+"-header"},f.a.createElement("a",{className:p+"-prev-century-btn",role:"button",onClick:this.previousCentury,title:r.previousCentury}),f.a.createElement("div",{className:p+"-century"},l,"-",u),f.a.createElement("a",{className:p+"-next-century-btn",role:"button",onClick:this.nextCentury,title:r.nextCentury})),f.a.createElement("div",{className:p+"-body"},f.a.createElement("table",{className:p+"-table",cellSpacing:"0",role:"grid"},f.a.createElement("tbody",{className:p+"-tbody"},E))),y&&f.a.createElement("div",{className:p+"-footer"},y))},t}(f.a.Component);t.a=v,v.propTypes={locale:m.a.object,value:m.a.object,defaultValue:m.a.object,rootPrefixCls:m.a.string,renderFooter:m.a.func},v.defaultProps={onSelect:function(){}}},function(e,t,n){"use strict";var r=n(146),a=n.n(r),o=n(16),i=n.n(o),l=n(17),s=n.n(l),u=n(18),c=n.n(u),d=n(0),f=n.n(d),p=n(10),m=n.n(p),h=n(1),g=n.n(h),v=n(335),b=n(41),y=n.n(b),E=n(647),w=n(648),S=n(649),_=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.onSelect=function(e){this.props.onSelect(e)},t.prototype.getRootDOMNode=function(){return m.a.findDOMNode(this)},t.prototype.render=function(){var e=this.props,t=e.value,n=e.prefixCls,r=e.showOk,o=e.timePicker,i=e.renderFooter,l=e.mode,s=null,u=i&&i(l);if(e.showToday||o||u){var c,d=void 0;e.showToday&&(d=f.a.createElement(E.a,a()({},e,{value:t})));var p=void 0;(!0===r||!1!==r&&e.timePicker)&&(p=f.a.createElement(w.a,e));var m=void 0;e.timePicker&&(m=f.a.createElement(S.a,e));var h=void 0;(d||m||p||u)&&(h=f.a.createElement("span",{className:n+"-footer-btn"},u,Object(v.a)([d,m,p])));var g=y()(n+"-footer",(c={},c[n+"-footer-show-ok"]=p,c));s=f.a.createElement("div",{className:g},h)}return s},t}(f.a.Component);_.propTypes={prefixCls:g.a.string,showDateInput:g.a.bool,disabledTime:g.a.any,timePicker:g.a.element,selectedValue:g.a.any,showOk:g.a.bool,onSelect:g.a.func,value:g.a.object,renderFooter:g.a.func,defaultValue:g.a.object,mode:g.a.string},t.a=_},function(e,t,n){"use strict";function r(e){var t=e.prefixCls,n=e.locale,r=e.value,a=e.timePicker,l=e.disabled,s=e.disabledDate,u=e.onToday,c=e.text,d=(!c&&a?n.now:c)||n.today,f=s&&!Object(i.g)(Object(i.e)(r),s),p=f||l,m=p?t+"-today-btn-disabled":"";return o.a.createElement("a",{className:t+"-today-btn "+m,role:"button",onClick:p?null:u,title:Object(i.f)(r)},d)}t.a=r;var a=n(0),o=n.n(a),i=n(105)},function(e,t,n){"use strict";function r(e){var t=e.prefixCls,n=e.locale,r=e.okDisabled,a=e.onOk,i=t+"-ok-btn";return r&&(i+=" "+t+"-ok-btn-disabled"),o.a.createElement("a",{className:i,role:"button",onClick:r?null:a},n.ok)}t.a=r;var a=n(0),o=n.n(a)},function(e,t,n){"use strict";function r(e){var t,n=e.prefixCls,r=e.locale,a=e.showTimePicker,i=e.onOpenTimePicker,s=e.onCloseTimePicker,u=e.timePickerDisabled,c=l()((t={},t[n+"-time-picker-btn"]=!0,t[n+"-time-picker-btn-disabled"]=u,t)),d=null;return u||(d=a?s:i),o.a.createElement("a",{className:c,role:"button",onClick:d},a?r.dateSelect:r.timeSelect)}t.a=r;var a=n(0),o=n.n(a),i=n(41),l=n.n(i)},function(e,t,n){"use strict";var r=n(16),a=n.n(r),o=n(17),i=n.n(o),l=n(18),s=n.n(l),u=n(0),c=n.n(u),d=n(1),f=n.n(d),p=n(7),m=n.n(p),h=function(e){function t(n){a()(this,t);var r=i()(this,e.call(this,n));return r.onSelect=function(e){r.setState({highlightTime:e}),r.props.onSelect(e)},r.scrollUp=function(){r.timeRef.current.scrollBy(0,-200)},r.scrollDown=function(){r.timeRef.current.scrollBy(0,200)},r.state={highlightTime:r.props.value||null},r.timeRef=c.a.createRef(),r}return s()(t,e),t.prototype.componentDidMount=function(){this.timeRef.current.scrollTo(0,544)},t.prototype.render=function(){for(var e=this,t=this.props,n=t.value,r=t.prefixCls,a=t.locale,o=n.format().slice(0,10),i=[],l=0;l<24;l++){var s=(String(l)+":00").padStart(5,"0"),u=(String(l)+":30").padStart(5,"0");i.push(s),i.push(u)}var d=this.state.highlightTime,f=d?d.format().slice(11,16):null,p=a&&"Year"===a.year;return c.a.createElement("div",{className:r+"-right-panel"},c.a.createElement("div",{className:r+"-right-panel-header",onClick:this.scrollUp},c.a.createElement("span",null)),c.a.createElement("div",{className:r+"-right-panel-body",ref:this.timeRef},c.a.createElement("ul",null,i.map(function(t){var n=m()(o+" "+t);return n=p?n.locale("en-gb"):n.locale("zh-cn"),c.a.createElement("li",{key:t,onClick:e.onSelect.bind(e,n),className:f===t?"highlight":""},t)}))),c.a.createElement("div",{className:r+"-right-panel-footer",onClick:this.scrollDown},c.a.createElement("span",null)))},t}(c.a.Component);h.propTypes={prefixCls:f.a.string,value:f.a.object,onSelect:f.a.func,locale:f.a.object},t.a=h},function(e,t,n){"use strict";function r(){}function a(e){return e?Object(y.e)(e):b()()}t.d=a,n.d(t,"b",function(){return E}),n.d(t,"a",function(){return w}),n.d(t,"c",function(){return S});var o=n(16),i=n.n(o),l=n(17),s=n.n(l),u=n(18),c=n.n(u),d=n(0),f=n.n(d),p=n(1),m=n.n(p),h=n(41),g=n.n(h),v=n(7),b=n.n(v),y=n(105),E={value:m.a.object,defaultValue:m.a.object,onKeyDown:m.a.func},w={onKeyDown:r},S=function(e){var t,n;return n=t=function(t){function n(){var e,r,a;i()(this,n);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return e=r=s()(this,t.call.apply(t,[this].concat(l))),r.onSelect=function(e,t){e&&r.setValue(e),r.setSelectedValue(e,t)},r.renderRoot=function(e){var t,n=r.props,a=n.prefixCls,o=(t={},t[a]=1,t[a+"-hidden"]=!n.visible,t[n.className]=!!n.className,t[e.className]=!!e.className,t);return f.a.createElement("div",{ref:r.saveRoot,className:""+g()(o),style:r.props.style,tabIndex:"0",onKeyDown:r.onKeyDown,onBlur:r.onBlur},e.children)},r.setSelectedValue=function(e,t){"selectedValue"in r.props||r.setState({selectedValue:e}),r.props.onSelect&&r.props.onSelect(e,t)},r.setValue=function(e){var t=r.state.value;"value"in r.props||r.setState({value:e}),(t&&e&&!t.isSame(e)||!t&&e||t&&!e)&&r.props.onChange(e)},r.isAllowedDate=function(e){var t=r.props.disabledDate,n=r.props.disabledTime;return Object(y.g)(e,t,n)},a=e,s()(r,a)}return c()(n,t),n.getDerivedStateFromProps=function(t,n){if(e.getDerivedStateFromProps)return e.getDerivedStateFromProps(t,n);var r=t.value,o=t.selectedValue,i={};return"value"in t&&(i.value=r||t.defaultValue||a(n.value)),"selectedValue"in t&&(i.selectedValue=o),i},n}(e),t.displayName="CalendarMixinWrapper",t.defaultProps=e.defaultProps,n}},function(e,t,n){"use strict";function r(){}n.d(t,"c",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return h});var a=n(16),o=n.n(a),i=n(17),l=n.n(i),s=n(18),u=n.n(s),c=n(1),d=n.n(c),f=n(653),p={className:d.a.string,locale:d.a.object,style:d.a.object,visible:d.a.bool,onSelect:d.a.func,prefixCls:d.a.string,onChange:d.a.func,onOk:d.a.func},m={locale:f.a,style:{},visible:!0,prefixCls:"rc-calendar",className:"",onSelect:r,onChange:r,onClear:r,renderFooter:function(){return null},renderSidebar:function(){return null}},h=function(e){var t,n;return n=t=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.getFormat=function(){var e=r.props.format,t=r.props,n=t.locale,a=t.timePicker;return e||(e=a?n.dateTimeFormat:n.dateFormat),e},r.focus=function(){r.focusElement?r.focusElement.focus():r.rootInstance&&r.rootInstance.focus()},r.saveFocusElement=function(e){r.focusElement=e},r.saveRoot=function(e){r.rootInstance=e},a=n,l()(r,a)}return u()(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.visible||e.visible},t}(e),t.displayName="CommonMixinWrapper",t.defaultProps=e.defaultProps,t.getDerivedStateFromProps=e.getDerivedStateFromProps,n}},function(e,t,n){"use strict";t.a={today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}},function(e,t,n){"use strict";var r=n(16),a=n.n(r),o=n(17),i=n.n(o),l=n(18),s=n.n(l),u=n(0),c=n.n(u),d=n(10),f=n.n(d),p=n(1),m=n.n(p),h=n(333),g=n(87),v=n(7),b=n.n(v),y=n(105),E=void 0,w=void 0,S=void 0,_=function(e){function t(n){a()(this,t);var r=i()(this,e.call(this,n));x.call(r);var o=n.selectedValue;return r.state={str:Object(y.a)(o,r.props.format),invalid:!1,hasFocus:!1},r}return s()(t,e),t.prototype.componentDidUpdate=function(){!S||!this.state.hasFocus||this.state.invalid||0===E&&0===w||S.setSelectionRange(E,w)},t.getDerivedStateFromProps=function(e,t){var n={};S&&(E=S.selectionStart,w=S.selectionEnd);var r=e.selectedValue;return t.hasFocus||(n={str:Object(y.a)(r,e.format),invalid:!1}),n},t.getInstance=function(){return S},t.prototype.render=function(){var e=this.props,t=this.state,n=t.invalid,r=t.str,a=e.locale,o=e.prefixCls,i=e.placeholder,l=e.clearIcon,s=e.inputMode,u=n?o+"-input-invalid":"";return c.a.createElement("div",{className:o+"-input-wrap"},c.a.createElement("div",{className:o+"-date-input-wrap"},c.a.createElement("input",{ref:this.saveDateInput,className:o+"-input "+u,value:r,disabled:e.disabled,placeholder:i,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,inputMode:s})),e.showClear?c.a.createElement("a",{role:"button",title:a.clear,onClick:this.onClear},l||c.a.createElement("span",{className:o+"-clear-btn"})):null)},t}(c.a.Component);_.propTypes={prefixCls:m.a.string,timePicker:m.a.object,value:m.a.object,disabledTime:m.a.any,format:m.a.oneOfType([m.a.string,m.a.arrayOf(m.a.string)]),locale:m.a.object,disabledDate:m.a.func,onChange:m.a.func,onClear:m.a.func,placeholder:m.a.string,onSelect:m.a.func,selectedValue:m.a.object,clearIcon:m.a.node,inputMode:m.a.string};var x=function(){var e=this;this.onClear=function(){e.setState({str:""}),e.props.onClear(null)},this.onInputChange=function(t){var n=t.target.value,r=e.props,a=r.disabledDate,o=r.format,i=r.onChange,l=r.selectedValue;if(!n)return i(null),void e.setState({invalid:!1,str:n});var s=b()(n,o,!0);if(!s.isValid())return void e.setState({invalid:!0,str:n});var u=e.props.value.clone();if(u.year(s.year()).month(s.month()).date(s.date()).hour(s.hour()).minute(s.minute()).second(s.second()),!u||a&&a(u))return void e.setState({invalid:!0,str:n});(l!==u||l&&u&&!l.isSame(u))&&(e.setState({invalid:!1,str:n}),i(u))},this.onFocus=function(){e.setState({hasFocus:!0})},this.onBlur=function(){e.setState(function(e,t){return{hasFocus:!1,str:Object(y.a)(t.value,t.format)}})},this.onKeyDown=function(t){var n=t.keyCode,r=e.props,a=r.onSelect,o=r.value,i=r.disabledDate;if(n===h.a.ENTER&&a){(!i||!i(o))&&a(o.clone()),t.preventDefault()}},this.getRootDOMNode=function(){return f.a.findDOMNode(e)},this.focus=function(){S&&S.focus()},this.saveDateInput=function(e){S=e}};Object(g.polyfill)(_),t.a=_},function(e,t,n){"use strict";function r(e){return e.clone().startOf("month")}function a(e){return e.clone().endOf("month")}function o(e,t,n){return e.clone().add(t,n)}t.b=r,t.a=a,t.c=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){}function o(e,t){this[e]=t}t.__esModule=!0;var i=n(16),l=r(i),s=n(17),u=r(s),c=n(18),d=r(c),f=n(0),p=r(f),m=n(10),h=r(m),g=n(1),v=r(g),b=n(87),y=n(825),E=r(y),w=n(826),S=r(w),_=n(657),x=r(_),O=n(827),C=r(O),P=function(e){function t(n){(0,l.default)(this,t);var r=(0,u.default)(this,e.call(this,n));k.call(r);var a=void 0;a="open"in n?n.open:n.defaultOpen;var i=n.value||n.defaultValue;return r.saveCalendarRef=o.bind(r,"calendarInstance"),r.state={open:a,value:i},r}return(0,d.default)(t,e),t.prototype.componentDidUpdate=function(e,t){!t.open&&this.state.open&&(this.focusTimeout=setTimeout(this.focusCalendar,0,this))},t.prototype.componentWillUnmount=function(){clearTimeout(this.focusTimeout)},t.getDerivedStateFromProps=function(e){var t={},n=e.value,r=e.open;return"value"in e&&(t.value=n),void 0!==r&&(t.open=r),t},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.placement,r=e.style,a=e.getCalendarContainer,o=e.align,i=e.animation,l=e.disabled,s=e.dropdownClassName,u=e.transitionName,c=e.children,d=this.state;return p.default.createElement(C.default,{popup:this.getCalendarElement(),popupAlign:o,builtinPlacements:x.default,popupPlacement:n,action:l&&!d.open?[]:["click"],destroyPopupOnHide:!0,getPopupContainer:a,popupStyle:r,popupAnimation:i,popupTransitionName:u,popupVisible:d.open,onPopupVisibleChange:this.onVisibleChange,prefixCls:t,popupClassName:s},p.default.cloneElement(c(d,e),{onKeyDown:this.onKeyDown}))},t}(p.default.Component);P.propTypes={animation:v.default.oneOfType([v.default.func,v.default.string]),disabled:v.default.bool,transitionName:v.default.string,onChange:v.default.func,onOpenChange:v.default.func,children:v.default.func,getCalendarContainer:v.default.func,calendar:v.default.element,style:v.default.object,open:v.default.bool,defaultOpen:v.default.bool,prefixCls:v.default.string,placement:v.default.any,value:v.default.oneOfType([v.default.object,v.default.array]),defaultValue:v.default.oneOfType([v.default.object,v.default.array]),align:v.default.object,dateRender:v.default.func,onBlur:v.default.func},P.defaultProps={prefixCls:"rc-calendar-picker",style:{},align:{},placement:"bottomLeft",defaultOpen:!1,onChange:a,onOpenChange:a,onBlur:a};var k=function(){var e=this;this.onCalendarKeyDown=function(t){t.keyCode===S.default.ESC&&(t.stopPropagation(),e.close(e.focus))},this.onCalendarSelect=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.props;"value"in r||e.setState({value:t}),("keyboard"===n.source||"dateInputSelect"===n.source||!r.calendar.props.timePicker&&"dateInput"!==n.source||"todayButton"===n.source)&&e.close(e.focus),r.onChange(t)},this.onKeyDown=function(t){e.state.open||t.keyCode!==S.default.DOWN&&t.keyCode!==S.default.ENTER||(e.open(),t.preventDefault())},this.onCalendarOk=function(){e.close(e.focus)},this.onCalendarClear=function(){e.close(e.focus)},this.onCalendarBlur=function(){e.setOpen(!1)},this.onVisibleChange=function(t){e.setOpen(t)},this.getCalendarElement=function(){var t=e.props,n=e.state,r=t.calendar.props,a=n.value,o=a,i={ref:e.saveCalendarRef,defaultValue:o||r.defaultValue,selectedValue:a,onKeyDown:e.onCalendarKeyDown,onOk:(0,E.default)(r.onOk,e.onCalendarOk),onSelect:(0,E.default)(r.onSelect,e.onCalendarSelect),onClear:(0,E.default)(r.onClear,e.onCalendarClear),onBlur:(0,E.default)(r.onBlur,e.onCalendarBlur)};return p.default.cloneElement(t.calendar,i)},this.setOpen=function(t,n){var r=e.props.onOpenChange;e.state.open!==t&&("open"in e.props||e.setState({open:t},n),r(t))},this.open=function(t){e.setOpen(!0,t)},this.close=function(t){e.setOpen(!1,t)},this.focus=function(){e.state.open||h.default.findDOMNode(e).focus()},this.focusCalendar=function(){e.state.open&&e.calendarInstance&&e.calendarInstance.focus()}};(0,b.polyfill)(P),t.default=P,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r={adjustX:1,adjustY:1},a=[0,0],o={bottomLeft:{points:["tl","tl"],overflow:r,offset:[0,-3],targetOffset:a},bottomRight:{points:["tr","tr"],overflow:r,offset:[0,-3],targetOffset:a},topRight:{points:["br","br"],overflow:r,offset:[0,3],targetOffset:a},topLeft:{points:["bl","bl"],overflow:r,offset:[0,3],targetOffset:a}};t.default=o,e.exports=t.default},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0,t.default={today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u78ba\u5b9a",timeSelect:"\u9078\u64c7\u6642\u9593",dateSelect:"\u9078\u64c7\u65e5\u671f",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u500b\u6708 (\u7ffb\u9801\u4e0a\u9375)",nextMonth:"\u4e0b\u500b\u6708 (\u7ffb\u9801\u4e0b\u9375)",monthSelect:"\u9078\u64c7\u6708\u4efd",yearSelect:"\u9078\u64c7\u5e74\u4efd",decadeSelect:"\u9078\u64c7\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u6642mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u9375\u52a0\u5de6\u65b9\u5411\u9375)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u9375\u52a0\u53f3\u65b9\u5411\u9375)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7d00",nextCentury:"\u4e0b\u4e00\u4e16\u7d00"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={today:"Aujourd'hui",now:"Maintenant",backToToday:"Aujourd'hui",ok:"Ok",clear:"R\xe9tablir",month:"Mois",year:"Ann\xe9e",timeSelect:"S\xe9lectionner l'heure",dateSelect:"S\xe9lectionner la date",monthSelect:"Choisissez un mois",yearSelect:"Choisissez une ann\xe9e",decadeSelect:"Choisissez une d\xe9cennie",yearFormat:"YYYY",dateFormat:"DD/MM/YYYY",dayFormat:"DD",dateTimeFormat:"DD/MM/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Mois pr\xe9c\xe9dent (PageUp)",nextMonth:"Mois suivant (PageDown)",previousYear:"Ann\xe9e pr\xe9c\xe9dente (Ctrl + gauche)",nextYear:"Ann\xe9e prochaine (Ctrl + droite)",previousDecade:"D\xe9cennie pr\xe9c\xe9dente",nextDecade:"D\xe9cennie suivante",previousCentury:"Si\xe8cle pr\xe9c\xe9dent",nextCentury:"Si\xe8cle suivant"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={today:"Heute",now:"Jetzt",backToToday:"Zur\xfcck zu Heute",ok:"OK",clear:"Zur\xfccksetzen",month:"Monat",year:"Jahr",timeSelect:"Zeit w\xe4hlen",dateSelect:"Datum w\xe4hlen",monthSelect:"W\xe4hle einen Monat",yearSelect:"W\xe4hle ein Jahr",decadeSelect:"W\xe4hle ein Jahrzehnt",yearFormat:"YYYY",dateFormat:"D.M.YYYY",dayFormat:"D",dateTimeFormat:"D.M.YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Vorheriger Monat (PageUp)",nextMonth:"N\xe4chster Monat (PageDown)",previousYear:"Vorheriges Jahr (Ctrl + left)",nextYear:"N\xe4chstes Jahr (Ctrl + right)",previousDecade:"Vorheriges Jahrzehnt",nextDecade:"N\xe4chstes Jahrzehnt",previousCentury:"Vorheriges Jahrhundert",nextCentury:"N\xe4chstes Jahrhundert"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={today:"Hoy",now:"Ahora",backToToday:"Volver a hoy",ok:"Aceptar",clear:"Limpiar",month:"Mes",year:"A\xf1o",timeSelect:"Seleccionar hora",dateSelect:"Seleccionar fecha",monthSelect:"Elegir un mes",yearSelect:"Elegir un a\xf1o",decadeSelect:"Elegir una d\xe9cada",yearFormat:"YYYY",dateFormat:"D/M/YYYY",dayFormat:"D",dateTimeFormat:"D/M/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Mes anterior (PageUp)",nextMonth:"Mes siguiente (PageDown)",previousYear:"A\xf1o anterior (Control + left)",nextYear:"A\xf1o siguiente (Control + right)",previousDecade:"D\xe9cada anterior",nextDecade:"D\xe9cada siguiente",previousCentury:"Siglo anterior",nextCentury:"Siglo siguiente"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={today:"Dzisiaj",now:"Teraz",backToToday:"Ustaw dzisiaj",ok:"Ok",clear:"Wyczy\u015b\u0107",month:"Miesi\u0105c",year:"Rok",timeSelect:"Ustaw czas",dateSelect:"Ustaw dat\u0119",monthSelect:"Wybierz miesi\u0105c",yearSelect:"Wybierz rok",decadeSelect:"Wybierz dekad\u0119",yearFormat:"YYYY",dateFormat:"D/M/YYYY",dayFormat:"D",dateTimeFormat:"D/M/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Poprzedni miesi\u0105c (PageUp)",nextMonth:"Nast\u0119pny miesi\u0105c (PageDown)",previousYear:"Ostatni rok (Ctrl + left)",nextYear:"Nast\u0119pny rok (Ctrl + right)",previousDecade:"Ostatnia dekada",nextDecade:"Nast\u0119pna dekada",previousCentury:"Ostatni wiek",nextCentury:"Nast\u0119pny wiek"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={today:"Dnes",now:"Nyn\xed",backToToday:"Zp\u011bt na dne\u0161ek",ok:"Ok",clear:"Vymazat",month:"M\u011bs\xedc",year:"Rok",timeSelect:"Vybrat \u010das",dateSelect:"Vybrat datum",monthSelect:"Vyberte m\u011bs\xedc",yearSelect:"Vyberte rok",decadeSelect:"Vyberte dek\xe1du",yearFormat:"YYYY",dateFormat:"D.M.YYYY",dayFormat:"D",dateTimeFormat:"D.M.YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"P\u0159edchoz\xed m\u011bs\xedc (PageUp)",nextMonth:"N\xe1sleduj\xedc\xed (PageDown)",previousYear:"P\u0159edchoz\xed rok (Control + left)",nextYear:"N\xe1sleduj\xedc\xed rok (Control + right)",previousDecade:"P\u0159edchoz\xed dek\xe1da",nextDecade:"N\xe1sleduj\xedc\xed dek\xe1da",previousCentury:"P\u0159edchoz\xed stolet\xed",nextCentury:"N\xe1sleduj\xedc\xed stolet\xed"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Arrow=t.Popper=t.Target=t.Manager=void 0;var a=n(668),o=r(a),i=n(669),l=r(i),s=n(670),u=r(s),c=n(671),d=r(c);t.Manager=o.default,t.Target=l.default,t.Popper=u.default,t.Arrow=d.default},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(u),d=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r._setTargetNode=function(e){r._targetNode=e},r._getTargetNode=function(){return r._targetNode},i=n,o(r,i)}return i(t,e),l(t,[{key:"getChildContext",value:function(){return{popperManager:{setTargetNode:this._setTargetNode,getTargetNode:this._getTargetNode}}}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.children,a=r(e,["tag","children"]);return!1!==t?(0,s.createElement)(t,a,n):n}}]),t}(s.Component);d.childContextTypes={popperManager:c.default.object.isRequired},d.propTypes={tag:c.default.oneOfType([c.default.string,c.default.bool]),children:c.default.oneOfType([c.default.node,c.default.func])},d.defaultProps={tag:"div"},t.default=d},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(e,t){var n=e.component,i=void 0===n?"div":n,l=e.innerRef,s=e.children,u=r(e,["component","innerRef","children"]),c=t.popperManager,d=function(e){c.setTargetNode(e),"function"===typeof l&&l(e)};if("function"===typeof s){return s({targetProps:{ref:d},restProps:u})}var f=a({},u);return"string"===typeof i?f.ref=d:f.innerRef=d,(0,o.createElement)(i,f,s)};s.contextTypes={popperManager:l.default.object.isRequired},s.propTypes={component:l.default.oneOfType([l.default.node,l.default.func]),innerRef:l.default.func,children:l.default.oneOfType([l.default.node,l.default.func])},t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),d=n(1),f=r(d),p=n(830),m=r(p),h=function(e){function t(){var e,n,r,a;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={},r._setArrowNode=function(e){r._arrowNode=e},r._getTargetNode=function(){return r.context.popperManager.getTargetNode()},r._getOffsets=function(e){return Object.keys(e.offsets).map(function(t){return e.offsets[t]})},r._isDataDirty=function(e){return!r.state.data||JSON.stringify(r._getOffsets(r.state.data))!==JSON.stringify(r._getOffsets(e))},r._updateStateModifier={enabled:!0,order:900,fn:function(e){return r._isDataDirty(e)&&r.setState({data:e}),e}},r._getPopperStyle=function(){var e=r.state.data;return r._popper&&e?s({position:e.offsets.popper.position},e.styles):{position:"absolute",pointerEvents:"none",opacity:0}},r._getPopperPlacement=function(){return r.state.data?r.state.data.placement:void 0},r._getPopperHide=function(){return r.state.data&&r.state.data.hide?"":void 0},r._getArrowStyle=function(){if(r.state.data&&r.state.data.offsets.arrow){var e=r.state.data.offsets.arrow;return{top:e.top,left:e.left}}return{}},r._handlePopperRef=function(e){r._popperNode=e,e?r._createPopper():r._destroyPopper(),r.props.innerRef&&r.props.innerRef(e)},r._scheduleUpdate=function(){r._popper&&r._popper.scheduleUpdate()},a=n,i(r,a)}return l(t,e),u(t,[{key:"getChildContext",value:function(){return{popper:{setArrowNode:this._setArrowNode,getArrowStyle:this._getArrowStyle}}}},{key:"componentDidUpdate",value:function(e){e.placement===this.props.placement&&e.eventsEnabled===this.props.eventsEnabled||(this._destroyPopper(),this._createPopper()),e.children!==this.props.children&&this._scheduleUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyPopper()}},{key:"_createPopper",value:function(){var e=this,t=this.props,n=t.placement,r=t.eventsEnabled,a=s({},this.props.modifiers,{applyStyle:{enabled:!1},updateState:this._updateStateModifier});this._arrowNode&&(a.arrow={element:this._arrowNode}),this._popper=new m.default(this._getTargetNode(),this._popperNode,{placement:n,eventsEnabled:r,modifiers:a}),setTimeout(function(){return e._scheduleUpdate()})}},{key:"_destroyPopper",value:function(){this._popper&&this._popper.destroy()}},{key:"render",value:function(){var e=this.props,t=e.component,n=(e.innerRef,e.placement,e.eventsEnabled,e.modifiers,e.children),r=a(e,["component","innerRef","placement","eventsEnabled","modifiers","children"]),o=this._getPopperStyle(),i=this._getPopperPlacement(),l=this._getPopperHide();if("function"===typeof n){return n({popperProps:{ref:this._handlePopperRef,style:o,"data-placement":i,"data-x-out-of-boundaries":l},restProps:r,scheduleUpdate:this._scheduleUpdate})}var u=s({},r,{style:s({},r.style,o),"data-placement":i,"data-x-out-of-boundaries":l});return"string"===typeof t?u.ref=this._handlePopperRef:u.innerRef=this._handlePopperRef,(0,c.createElement)(t,u,n)}}]),t}(c.Component);h.contextTypes={popperManager:f.default.object.isRequired},h.childContextTypes={popper:f.default.object.isRequired},h.propTypes={component:f.default.oneOfType([f.default.node,f.default.func]),innerRef:f.default.func,placement:f.default.oneOf(m.default.placements),eventsEnabled:f.default.bool,modifiers:f.default.object,children:f.default.oneOfType([f.default.node,f.default.func])},h.defaultProps={component:"div",placement:"bottom",eventsEnabled:!0,modifiers:{}},t.default=h},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(e,t){var n=e.component,i=void 0===n?"span":n,l=e.innerRef,s=e.children,u=r(e,["component","innerRef","children"]),c=t.popper,d=function(e){c.setArrowNode(e),"function"===typeof l&&l(e)},f=c.getArrowStyle();if("function"===typeof s){return s({arrowProps:{ref:d,style:f},restProps:u})}var p=a({},u,{style:a({},f,u.style)});return"string"===typeof i?p.ref=d:p.innerRef=d,(0,o.createElement)(i,p,s)};s.contextTypes={popper:l.default.object.isRequired},s.propTypes={component:l.default.oneOfType([l.default.node,l.default.func]),innerRef:l.default.func,children:l.default.oneOfType([l.default.node,l.default.func])},t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(59),u=n(32),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={url:""},o.handleUrlChange=function(e){o.setState({url:e.target.value})},o.handleSubmit=function(e){o.props.toggleImageDialog(),o.props.onInsertImage(o.state.url)},i=n,a(o,i)}return o(t,e),c(t,[{key:"render",value:function(){return l.a.createElement(s.f,{isOpen:this.props.showAddImageDialog,toggle:this.props.toggleImageDialog,className:this.props.className},l.a.createElement(s.i,{toggle:this.props.toggleImageDialog},this.props.t("insert_image")),l.a.createElement(s.g,null,l.a.createElement("p",null,this.props.t("image_address")),l.a.createElement("input",{type:"url",value:this.state.value,onChange:this.handleUrlChange})),l.a.createElement(s.h,null,l.a.createElement(s.a,{color:"primary",disabled:0==this.state.url.length,onClick:this.handleSubmit},this.props.t("submit"))," ",l.a.createElement(s.a,{color:"secondary",onClick:this.props.toggleImageDialog},this.props.t("cancel"))))}}]),t}(l.a.PureComponent);t.a=Object(u.withTranslation)("seafile-editor")(d)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(59),u=n(32),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={url:"",title:""},o.setInitialValue=function(){var e=o.props.editor.getCurrentLinkNode();if(e)o.setState({title:e.text,url:e.link});else{var t=o.props.editor.getSelectionText();o.setState({title:t,url:""})}},o.handleUrlChange=function(e){o.setState({url:e.target.value})},o.handleTitleChange=function(e){o.setState({title:e.target.value})},o.handleSubmit=function(){var e=o.props.editor,t=e.getCurrentLinkNode();t?e.changeLink(o.state.title,o.state.url,t.key):e.addLink(o.state.title,o.state.url),e.toggleLinkDialog()},i=n,a(o,i)}return o(t,e),c(t,[{key:"componentWillMount",value:function(){this.setInitialValue()}},{key:"componentWillReceiveProps",value:function(){this.setInitialValue()}},{key:"render",value:function(){return l.a.createElement(s.f,{isOpen:this.props.showAddLinkDialog,toggle:this.props.toggleLinkDialog,className:this.props.className},l.a.createElement(s.i,{toggle:this.props.toggleLinkDialog},this.props.t("insert_link")),l.a.createElement(s.g,null,l.a.createElement(i.Fragment,null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-check-label",htmlFor:"addLink"},this.props.t("link_address")),l.a.createElement("input",{type:"url",className:"form-control",id:"addLink",value:this.state.url,onChange:this.handleUrlChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-check-label",htmlFor:"addTitle"},this.props.t("link_title")),l.a.createElement("input",{type:"text",className:"form-control",id:"addTitle",value:this.state.title,onChange:this.handleTitleChange})))),l.a.createElement(s.h,null,l.a.createElement(s.a,{color:"primary",disabled:!(this.state.title.length>0&&this.state.url.length>0),onClick:this.handleSubmit},this.props.t("add_link")),l.a.createElement(s.a,{color:"secondary",onClick:this.props.toggleLinkDialog},this.props.t("cancel"))))}}]),t}(l.a.PureComponent);t.a=Object(u.withTranslation)("seafile-editor")(d)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(59),u=n(12),c=n(32),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={dropdownOpen:!1,tooltipOpen:!1},o.imgtoggle=function(){o.setState({dropdownOpen:!o.state.dropdownOpen})},o.toggle=function(){if(o.props.disabled)return void o.setState({tooltipOpen:!1});o.setState({tooltipOpen:!o.state.tooltipOpen})},o.uploadLocalImage=function(e){var t=o.props.editor,n=u.Inline.create({type:"image",isVoid:!0,data:{src:""}});t.editor.insertInline(n),t.props.editorUtilities.uploadLocalImage(e.target.files[0]).then(function(e){return t.editor.setNodeByKey(n.key,{data:{src:e}}),t.editor})},o.handleFileChange=function(e){o.uploadLocalImage(e),o.setState({dropdownOpen:!1})},o.onInputFile=function(e){e.target.value=null,e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},i=n,a(o,i)}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props.editor.props.t;return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.b,{isOpen:this.state.dropdownOpen,toggle:this.imgtoggle,className:this.props.disabled?"upload-localimg upload-localimg-disabled":"upload-localimg upload-localimg-hover"},l.a.createElement(s.e,{id:this.props.id,disabled:this.props.disabled},l.a.createElement("i",{className:"fa fa-image"}),l.a.createElement(s.j,{toggle:this.toggle,delay:{show:0,hide:0},target:this.props.id,placement:"bottom",isOpen:this.state.tooltipOpen},e("insert_image"))),l.a.createElement(s.d,null,l.a.createElement(s.c,{onClick:this.props.editor.toggleImageDialog},e("insert_network_image")),!this.props.isSimpleEditor&&l.a.createElement(s.c,{onMouseDown:this.props.editor.insertRepoImage},e("Insert_library_image")),l.a.createElement(s.c,{className:"seafile-ed-dropbtn"},l.a.createElement("span",{className:"seafile-ed-localimgspan"},l.a.createElement("span",{className:"upload-local-image-word"},e("upload_local_image")),l.a.createElement("input",{type:"file",onClick:this.onInputFile,className:"seafile-ed-localimginput",accept:"image/*",onChange:this.handleFileChange}))))))}}]),t}(l.a.Component);t.a=Object(c.withTranslation)("seafile-editor")(f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(59),u=n(32),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(){if(n.props.disabled)return void n.setState({tooltipOpen:!1});n.setState({tooltipOpen:!n.state.tooltipOpen})},n.state={tooltipOpen:!1},n}return o(t,e),c(t,[{key:"render",value:function(){var e=this.props.disabled?"insert-file insert-file-disabled rich-icon-btn rich-icon-btn-disabled":"insert-file rich-icon-btn";return l.a.createElement("span",{className:e,id:"insertFileButton",onMouseDown:this.props.insertRepoFile},l.a.createElement("i",{className:"fa fa-file"}),l.a.createElement(s.j,{toggle:this.toggle,delay:{show:0,hide:0},target:"insertFileButton",placement:"bottom",isOpen:this.state.tooltipOpen},this.props.t("insert_file")))}}]),t}(l.a.Component);t.a=Object(u.withTranslation)("seafile-editor")(d)},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(1),u=n.n(s),c=n(104),d=n(32),f=n(12),p=n(336),m=(n.n(p),n(337)),h=(n.n(m),n(678)),g=n(691),v=n(136),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.switchToPlainTextEditor=function(){if("rich"===n.props.editorMode){var e=n.state.richValue,t=Object(v.serialize)(e.toJSON());n.props.setEditorMode("plain"),n.setState({initialPlainValue:t,currentContent:t})}n.props.collabServer&&n.props.emitSwitchEditor(!1)},n.switchToRichTextEditor=function(){n.setState({richValue:Object(v.deserialize)(n.state.currentContent)}),n.props.setEditorMode("rich"),n.props.collabServer&&n.props.emitSwitchEditor(!1)},n.onUnload=function(e){if(n.props.contentChanged){return n.props.clearTimer(),n.props.deleteDraft&&n.props.deleteDraft(),e.returnValue="Leave this page? The system may not save your changes.","Leave this page? The system may not save your changes."}},n.onChange=function(e){if("rich"===n.props.editorMode){n.setState({richValue:e.value}),n.props.setDraftValue("rich",n.state.richValue);0!==e.operations.filter(function(e){return"set_selection"!==e.type&&"set_value"!==e.type}).size&&(n.props.onContentChanged(!0),n.autoSave&&n.props.autoSaveDraft())}else n.setState({currentContent:e}),n.props.onContentChanged(!0),n.props.setDraftValue("rich",n.state.richValue),n.props.autoSaveDraft()},n.saveContent=function(e){n.props.editorUtilities.saveContent(e).then(function(){if(n.props.onSaving(!1),n.props.onContentChanged(!1),n.props.markdownLint){var e=n.state.richValue.toJSON();n.props.editorUtilities.markdownLint(JSON.stringify(e)).then(function(e){n.setState({issues:e.data})})}n.lastModifyTime=new Date,c.a.success(n.props.t("file_saved"),{duration:2}),n.props.editorUtilities.getFileInfo().then(function(e){n.props.setFileInfoMtime(e.data)}),n.addParticipants()},function(){n.props.onSaving(!1),c.a.danger(n.props.t("file_failed_to_save"),{duration:2})}),n.props.onSaving(!0)},n.addParticipants=function(){if(!n.isParticipant&&window.showParticipants){var e=n.props.editorUtilities,t=e.userName,r=e.addFileParticipants,a=n.props.participants;if(!a||0===a.length||(n.isParticipant=a.every(function(e){return e.email==t}),!n.isParticipant)){r([t]).then(function(e){n.isParticipant=!0,n.props.onParticipantsChange()})}}},n.onRichEditorSave=function(){if(!n.props.isSaving){var e=n.state.richValue,t=Object(v.serialize)(e.toJSON());n.saveContent(t),n.props.clearTimer(),n.props.deleteDraft&&n.props.deleteDraft()}},n.resetRichValue=function(){var e=n.state.richValue;n.setState({richValue:e})},n.onPlainEditorSave=function(){if(!n.props.isSaving){var e=n.state.currentContent;n.saveContent(e),n.props.clearTimer(),n.props.deleteDraft&&n.props.deleteDraft()}},n.resetContentChanged=function(){n.props.contentChanged&&n.props.onContentChanged(!1),n.autoSave=!0};var o=n.props.markdownContent,i="editor"===n.props.mode,l=n.props.isDraft;return n.lastModifyTime=null,n.autoSave=!1,n.isParticipant=!1,n.state={isTreeDataLoaded:!1,initialPlainValue:"",currentContent:o,richValue:i||l?Object(v.deserialize)(o):Object(v.deserialize)(""),issues:{issue_list:[]}},n}return o(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){this.props.markdownContent!==e.markdownContent&&this.setState({richValue:Object(v.deserialize)(e.markdownContent)})}},{key:"componentDidMount",value:function(){window.seafileEditor=this,window.addEventListener("beforeunload",this.onUnload)}},{key:"componentWillMount",value:function(){if("rich"===this.props.editorMode){var e=this.state.richValue.document,t=e.nodes.get(0);if(1===e.nodes.size&&"paragraph"===t.type&&1===t.nodes.size&&"text"===t.nodes.get(0).object&&0===t.text.length){var n=this.props.fileInfo.name.slice(0,this.props.fileInfo.name.lastIndexOf(".")),r=this.state.richValue,a=f.Block.create({type:"header_one",nodes:[f.Text.create({text:n})]}),o=r.document.nodes.push(a);o=o.shift();var i=f.Value.create({document:f.Document.create({nodes:o})});this.setState({richValue:i})}}}},{key:"render",value:function(){var e="";return"rich"===this.props.editorMode?e=l.a.createElement(h.a,{editorUtilities:this.props.editorUtilities,onChange:this.onChange,onSave:this.onRichEditorSave,value:this.state.richValue,resetRichValue:this.resetRichValue,contentChanged:this.props.contentChanged,saving:this.props.saving,switchToMarkDownViewer:this.switchToMarkDownViewer,switchToPlainTextEditor:this.switchToPlainTextEditor,fileInfo:this.props.fileInfo,toggleStar:this.props.toggleStar,issues:this.state.issues,resetContentChanged:this.resetContentChanged,collabUsers:this.props.collabUsers,mode:this.props.editorMode,draftID:this.props.draftID,isDraft:this.props.isDraft,openDialogs:this.props.openDialogs,readOnly:this.props.readOnly,relatedFiles:this.props.relatedFiles,fileTagList:this.props.fileTagList,participants:this.props.participants,onParticipantsChange:this.props.onParticipantsChange}):"plain"===this.props.editorMode&&(e=l.a.createElement(g.a,{editorUtilities:this.props.editorUtilities,initialValue:this.state.initialPlainValue,currentContent:this.state.currentContent,contentChanged:this.props.contentChanged,switchToRichTextEditor:this.switchToRichTextEditor,switchToMarkDownViewer:this.switchToMarkDownViewer,onSave:this.onPlainEditorSave,onChange:this.onChange,fileInfo:this.props.fileInfo,toggleStar:this.props.toggleStar,collabUsers:this.props.collabUsers,mode:this.props.editorMode,draftID:this.props.draftID,isDraft:this.props.isDraft})),e}}]),t}(l.a.Component);y.defaultProps={userInfo:null},y.propTypes={userInfo:u.a.shape({name:u.a.string.isRequired}),fileInfo:u.a.shape({repoID:u.a.string.isRequired,path:u.a.string.isRequired})},t.a=Object(d.withTranslation)("seafile-editor")(y)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(1),u=n.n(s),c=n(73),d=n(212),f=n(679),p=n(169),m=n(12),h=n(296),g=n(104),v=n(136),b=n(688),y=n(341),E=n(217),w=n(232),S=n(227),_=n(226),x=n(32),O=n(342),C=(n.n(O),n(689)),P=(n.n(C),n(228)),k=(n.n(P),n(229)),D=(n.n(k),n(233)),M=(n.n(D),n(230)),T=(n.n(M),n(231)),L=(n.n(T),n(690)),N=(n.n(L),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),I=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={showAddImageDialog:!1,isSelectedImage:!1,leftNavMode:"files",showAddLinkDialog:!1,mainPanelWidth:80,isShowSidePanel:!1,resizeFlag:!1,isShowHelpDialog:!1,showCommentBtn:!1,showCommentDialog:!1,commentPosition:null,relistComment:0,hasContextMenu:!1,isShowBigImage:!1},n.initialSidePanel=function(){var e=n.getCookie("md-editor-main-panel-width");e&&n.setState({mainPanelWidth:1*e});var t=n.getCookie("md-editor-show-side-panel");"true"===t?n.setState({isShowSidePanel:!0}):"false"===t&&n.setState({isShowSidePanel:!1})},n.scrollToNode=function(e){n.editor.moveToStartOfNode(e).focus();var t=Object(c.findDOMNode)(e);n.refs.editorContainer.scrollTo(0,t.offsetTop),window.location.hash=encodeURI(e.text)},n.showHelpDialog=function(){n.setState({isShowSidePanel:!1,isShowHelpDialog:!0})},n.hideHelpDialog=function(){n.setState({isShowHelpDialog:!1})},n.insertRepoImage=function(e){e.preventDefault(),n.props.readOnly||n.props.openDialogs&&n.props.openDialogs("insert_repo_image")},n.onResizeMouseUp=function(e){n.state.resizeFlag&&n.setState({resizeFlag:!1}),n.setCookie("md-editor-main-panel-width",n.state.mainPanelWidth)},n.onResizeMouseDown=function(e){n.setState({resizeFlag:!0})},n.onResizeMouseMove=function(e){var t=n.state.mainPanelWidth+e.nativeEvent.movementX/e.view.innerWidth*100;if(t>=82||t<=30)return void n.setState({resizeFlag:!1});n.setState({mainPanelWidth:t})},n.toggleSidePanel=function(){n.state.isShowSidePanel?(n.setState({isShowSidePanel:!1}),n.setCookie("md-editor-show-side-panel","false")):(n.setState({isShowSidePanel:!0}),n.setCookie("md-editor-show-side-panel","true")),n.setState({isShowHelpDialog:!1})},n.handleCommentOpen=function(){n.setState({mainPanelWidth:70,isShowHelpDialog:!1})},n.setCookie=function(e,t){document.cookie=e+"="+t+"; "},n.getCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var a=n[r].trim();if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},n.ref=function(e){n.editor=e,e&&(n.editor.richEditor=n)},n.onSave=function(e){n.props.onSave()},n.getScrollTop=function(){return n.refs.editorContainer.scrollTop},n.insertRepoFile=function(){n.props.readOnly||n.props.openDialogs&&n.props.openDialogs("insert_file")},n.toggleCommentBtn=function(e){n.setState({showCommentBtn:e})},n.setBtnPosition=function(e){if(n.state.showCommentBtn){var t=window.getSelection();if(!t.rangeCount)return void(n.range=null);if(!1===t.isCollapsed){var r=t.getRangeAt(0),a=t.focusNode;if("I"===a.tagName||3!==a.nodeType&&"language-type"===a.getAttribute("class")){var o=r.cloneContents(),i=o.firstChild.firstChild;if(!i)return;var l=document.createRange();l.setStartBefore(i),l.setEndAfter(i);var s={value:n.props.value};n.range=Object(c.findRange)(r,s)}else{var u={value:n.props.value};n.range=Object(c.findRange)(r,u)}if(!n.range)return;var d=r.getBoundingClientRect();navigator.userAgent.indexOf("Chrome")<0&&navigator.userAgent.indexOf("Safari")>0&&r.collapsed&&0==d.top&&0==d.height&&(0==r.startOffset?r.setEnd(r.endContainer,1):r.setStart(r.startContainer,r.startOffset-1),d=r.getBoundingClientRect(),0==d.top&&0==d.height&&r.getClientRects().length&&(d=r.getClientRects()[0]));var f=n.refs.commentbtn.style;f.top=d.top-100+n.refs.editorContainer.scrollTop+"px",f.right="40px"}else{n.refs.commentbtn.style.top="-1000px"}}},n.addComment=function(e){e.stopPropagation(),n.getQuote(),n.toggleCommentDialog()},n.toggleCommentDialog=function(){n.setState({showCommentDialog:!n.state.showCommentDialog})},n.getQuote=function(){var e=n.range;if(e){var t=n.props.value.document,r=e,a=r.anchor,o=r.focus,i=t.getNode(a.key),l=t.getNode(o.key),s=t.getClosestInline(a.key),u=t.getClosestInline(o.key);if(s&&a.offset==i.text.length){var c=t.getClosestBlock(a.key),d=c.getNextText(a.key);d&&(e=e.moveAnchorTo(d.key,0))}if(u&&o.offset==l.text.length){var f=t.getClosestBlock(o.key),p=f.getNextText(o.key);p&&(e=e.moveFocusTo(p.key,0))}var h=t.getFragmentAtRange(e),g=n.removeNullNode(h.nodes),b=m.Document.create({nodes:g}),y=m.Value.create({document:b});n.quote=Object(v.serialize)(y.toJSON());var E=t.createSelection(e);E=E.setIsFocused(!0),n.setState({commentPosition:E.anchor.path})}},n.removeNullNode=function(e){var t=[];return e.map(function(e){var r=e.text.trim(),a=e.nodes;if(r)if(a&&1===a.size||!a)t.push(e);else if(a.size>1){var o=n.removeNullNode(a),i=m.Block.create({nodes:o,data:e.data,key:e.key,type:e.type});t.push(i)}}),t},n.findScrollContainer=function(e,t){for(var n=e.parentNode,r=["auto","overlay","scroll"],a=void 0;!a&&n.parentNode;){var o=t.getComputedStyle(n),i=o.overflowY;if(r.includes(i)){a=n;break}n=n.parentNode}return a||t.document.body},n.scrollToQuote=function(e){if(e){var t=window;e.length>2&&(e[0]=e[0]>1?e[0]-1:e[0]+1,e=e.slice(0,1));var r=n.props.value.document.getNode(e);if(r||(e=e.slice(0,1),r=n.state.value.document.getNode(e)),r){for(var a=t.document.querySelector('[data-key="'+r.key+'"]');"CODE"===a.tagName;)a=a.parentNode;var o=n.findScrollContainer(a,t);o==t.document.body||o==t.document.documentElement?t.scrollTo(0,a.offsetTop):o.scrollTop=a.offsetTop}}},n.onCommentAdded=function(){n.toggleCommentDialog(),n.setState({relistComment:n.state.relistComment+1})},n.onChange=function(e){n.selectedCells.key&&!0===n.selectedCells.hasRendered&&n.resetSelectedCells(),n.state.hasContextMenu&&n.hasContextMenuShowed&&(n.onRightMenuChange(!1),n.setState({hasContextMenu:!1})),n.props.onChange(e)};var o=new E.a;return n.renderNode=E.e.bind(n),n.renderMark=E.d.bind(n),n.focusEditor=o.focusEditor.bind(n),n.setSelectedCells=o.setSelectedCells.bind(n),n.resetSelectedCells=o.resetSelectedCells.bind(n),n.toggleMark=o.toggleMark.bind(n),n.hasMark=o.hasMark.bind(n),n.isInTable=o.isInTable.bind(n),n.isInCode=o.isInCode.bind(n),n.hasBlock=o.hasBlock.bind(n),n.toggleImageDialog=o.toggleImageDialog.bind(n),n.clickMark=o.clickMark.bind(n),n.onClickBlock=o.onClickBlock.bind(n),n.onAddCheckItem=o.onAddCheckItem.bind(n),n.getButtonState=o.getButtonState.bind(n),n.onToggleLink=o.onToggleLink.bind(n),n.hasLinks=o.hasLinks.bind(n),n.onSetLink=o.onSetLink.bind(n),n.addLink=o.addLink.bind(n),n.hasSelectImage=o.hasSelectImage.bind(n),n.changeLink=o.changeLink.bind(n),n.getSelectionText=o.getSelectionText.bind(n),n.getCurrentLinkNode=o.getCurrentLinkNode.bind(n),n.onToggleCode=o.onToggleCode.bind(n),n.onAddTable=o.onAddTable.bind(n),n.onInsertColumn=o.onInsertColumn.bind(n),n.onInsertRow=o.onInsertRow.bind(n),n.onRemoveColumn=o.onRemoveColumn.bind(n),n.onRemoveRow=o.onRemoveRow.bind(n),n.onRemoveTable=o.onRemoveTable.bind(n),n.onSetAlign=o.onSetAlign.bind(n),n.onInsertImage=o.onInsertImage.bind(n),n.adjustImageSize=o.adjustImageSize.bind(n),n.onContext=o.onContext.bind(n),n.toggleLinkDialog=o.toggleLinkDialog.bind(n),n.toggleBigImage=o.toggleBigImage.bind(n),n.onRightMenuChange=o.onRightMenuChange.bind(n),n.headerList=["paragraph","header_one","header_two","header_three","header_four","header_five","header_six"],n.selectedCells={key:null,hasRendered:!1,row:{max:-1,min:-1},col:{min:-1,max:-1}},n.quote=null,n.bigImageSrc="",n}return o(t,e),N(t,[{key:"setContent",value:function(){this.setState({isSelectedImage:!1})}},{key:"componentDidCatch",value:function(e){this.props.resetRichValue(),console.log(e)}},{key:"componentDidMount",value:function(){var e=this;window.richMarkdownEditor=this,this.setContent(),setTimeout(function(){e.editor.focus()},10),setTimeout(function(){e.props.resetContentChanged()},200),this.props.collabUsers.filter(function(e){return!0===e.is_editing&&void 0===e.myself}).length>0&&g.a.danger("Another user is editing this file!",{duration:3}),-1===navigator.userAgent.toLowerCase().indexOf("chrome")&&g.a.warning(this.props.t("Editing_files_in_this_browser_can_lead_to_slight_display_problems"),{duration:4}),this.initialSidePanel(),document.addEventListener("selectionchange",this.setBtnPosition)}},{key:"componentWillReceiveProps",value:function(e){this.setContent(),this.props.issues!==e.issues&&e.issues.issue_list.length>0&&!this.state.isShowSidePanel&&this.setState({isShowSidePanel:!0},function(){window.openMarkdownHint&&window.openMarkdownHint()})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("selectionchange",this.setBtnPosition)}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.value,r=e.mode,a=e.readOnly,o=e.collabUsers,i=e.editorUtilities,s=this.state,u=s.mainPanelWidth,m=s.isShowHelpDialog,g=s.isShowSidePanel,v=this.state.resizeFlag?this.onResizeMouseMove:null,x=this.props.value.selection.isCollapsed,O=void 0;try{O=this.getButtonState(this.props.value)}catch(e){console.log(e),O={isTableActive:!1,isCodeActive:!1,headerType:"paragraph",isLinkActive:!1,isBoldActive:!1,isItalicActive:!1,isInlineCodeActive:!1,isImageActive:!1,isBlockquoteActive:!1,isOrderedListActive:!1,isUnorderedListActive:!1,isCheckListActive:!1,isSaveActive:!1,isSaving:!1,isShowAddImageDialog:!1,isShowAddLinkDialog:!1}}var C="seafile-editor-main-panel d-flex align-self-end "+(g||m?"":"seafile-editor-all-panel"),P={width:g?u+"%":"100%"};return l.a.createElement("div",{className:"seafile-editor-module seafile-editor"},l.a.createElement("div",{className:"seafile-rich-editor-topbar"},l.a.createElement(S.a,{buttonState:O,collabUsers:o,isShowSidePanel:g,editor:this,insertRepoFile:this.insertRepoFile,hasSidePanel:!0,mode:r,readOnly:a})),l.a.createElement("div",{className:"seafile-editor-main d-flex",onMouseMove:v,onMouseUp:this.onResizeMouseUp},l.a.createElement("div",{className:C,style:P},l.a.createElement("div",{className:"editor-container align-self-start",ref:"editorContainer"},l.a.createElement("div",{onClick:1===n.document.nodes.size&&"paragraph"===n.document.nodes.get(0).type&&0===n.document.text.length?this.focusEditor:null,className:"editor article"},l.a.createElement(c.Editor,{value:this.props.value,plugins:E.c,ref:this.ref,className:"editor-component",onChange:this.onChange,onContextMenu:this.onContext,renderNode:this.renderNode,renderMark:this.renderMark,schema:d.a,editorUtilities:i,shouldNodeComponentUpdate:this.shouldNodeComponentUpdate,readOnly:a}),this.state.showCommentBtn&&l.a.createElement("i",{className:"fa fa-plus-square seafile-viewer-comment-btn",ref:"commentbtn",onMouseDown:this.addComment}))),O.isLinkActive&&x?l.a.createElement(w.a,null,l.a.createElement(_.a,{editor:this,value:this.props.value,isShowHelpDialog:this.state.isShowHelpDialog,mainPanelWidth:u,isShowSidePanel:g})):null,this.state.hasContextMenu&&l.a.createElement(w.a,null,l.a.createElement(y.a,{editTable:E.b,editor:this.editor,richEditor:this,onRightMenuChange:this.onRightMenuChange}))),!m&&g&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"seafile-editor-resize",style:{right:100-u+"%"},onMouseDown:this.onResizeMouseDown}),l.a.createElement("div",{className:"seafile-editor-side-panel align-self-start",style:{width:100-u+"%"}},l.a.createElement(f.a,{editor:this,document:n.document,issues:this.props.issues,scrollToNode:this.scrollToNode,scrollToQuote:this.scrollToQuote,t:this.props.t,editorUtilities:i,toggleCommentBtn:this.toggleCommentBtn,relistComment:this.state.relistComment,relatedFiles:this.props.relatedFiles,fileTagList:this.props.fileTagList,openDialogs:this.props.openDialogs,fileInfo:this.props.fileInfo,participants:this.props.participants,onParticipantsChange:this.props.onParticipantsChange}))),m&&l.a.createElement(h.a,{userHelp:t("userHelp",{returnObjects:!0}),hideHelpDialog:this.hideHelpDialog}),this.state.showCommentDialog&&l.a.createElement(b.a,{editorUtilities:i,t:t,quote:this.quote,commentPosition:this.state.commentPosition,onCommentAdded:this.onCommentAdded,toggleCommentDialog:this.toggleCommentDialog}),this.state.isShowBigImage&&l.a.createElement(p.a,{bigImageSrc:this.bigImageSrc,toggleBigImage:this.toggleBigImage})))}}]),t}(l.a.Component);I.defaultProps={collabUsers:[]},I.propTypes={collabUsers:u.a.array},t.a=Object(x.withTranslation)("seafile-editor")(I)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(378),u=n(680),c=n(681),d=n(686),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={navItem:"outline"},o.onOutlineClick=function(e){e.preventDefault(),o.props.toggleCommentBtn(!1),o.setState({navItem:"outline"})},o.onMarkdownHintClick=function(e){e.preventDefault(),o.props.toggleCommentBtn(!1),o.setState({navItem:"markdownHint"})},o.onDetailClick=function(e){e.preventDefault(),o.props.toggleCommentBtn(!1),o.setState({navItem:"detail"})},o.onCommentsPanelClick=function(e){e.preventDefault(),o.props.toggleCommentBtn(!0),o.setState({navItem:"commentsPanel"})},o.openMarkdownHint=function(){o.setState({navItem:"markdownHint"})},i=n,a(o,i)}return o(t,e),f(t,[{key:"componentDidMount",value:function(){window.openMarkdownHint=this.openMarkdownHint}},{key:"componentWillReceiveProps",value:function(e){e.issues!==this.props.issues&&e.issues.issue_list.length>0&&this.setState({navItem:"markdownHint"})}},{key:"componentWillUnmount",value:function(){window.openMarkdownHint=null}},{key:"render",value:function(){var e="",t="",n="",r="";return"outline"===this.state.navItem?e="active":"commentsPanel"===this.state.navItem?n="active":"detail"===this.state.navItem?r="active":t="active",l.a.createElement("div",{className:"side-panel"},l.a.createElement("ul",{className:"nav justify-content-center"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link "+e,href:"",onClick:this.onOutlineClick},l.a.createElement("i",{className:"fa fa-list"}))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link "+r,href:"",onClick:this.onDetailClick},l.a.createElement("i",{className:"fas fa-info-circle"}))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link "+t,href:"",onClick:this.onMarkdownHintClick},l.a.createElement("i",{className:"fa fa-bell"}))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link "+n,href:"",onClick:this.onCommentsPanelClick},l.a.createElement("i",{className:"fa fa-comment"})))),l.a.createElement("div",{className:"side-panel-content"},"outline"===this.state.navItem&&l.a.createElement(s.a,{editor:this.props.editor,document:this.props.document,t:this.props.t}),"markdownHint"===this.state.navItem&&this.props.issues&&l.a.createElement(u.a,{issues:this.props.issues,scrollToNode:this.props.scrollToNode,document:this.props.document,t:this.props.t,markdownLint:this.props.t("markdownLint",{returnObjects:!0})}),"commentsPanel"===this.state.navItem&&l.a.createElement(c.a,{editorUtilities:this.props.editorUtilities,t:this.props.t,scrollToQuote:this.props.scrollToQuote,relistComment:this.props.relistComment,openDialogs:this.props.openDialogs,participants:this.props.participants,onParticipantsChange:this.props.onParticipantsChange}),"detail"===this.state.navItem&&l.a.createElement(d.a,{t:this.props.t,relatedFiles:this.props.relatedFiles,fileTagList:this.props.fileTagList,editorUtilities:this.props.editorUtilities,openDialogs:this.props.openDialogs,fileInfo:this.props.fileInfo,participants:this.props.participants})))}}]),t}(l.a.PureComponent);t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.onClickCard=function(e,t){o.props.document.nodes.get(t)&&o.props.scrollToNode(o.props.document.nodes.get(t))},i=n,a(o,i)}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=[];return this.props.issues.issue_list.length>0&&this.props.issues.issue_list.map(function(n,r){if(n.detail)n.detail.map(function(a,o){var i=l.a.createElement("div",{key:"issue-"+r+"-"+o,onClick:function(t){e.onClickCard(t,a.position)},className:"issue-card"},l.a.createElement("div",{className:"issue-card-title"},e.props.markdownLint[n.issue_code].issue),l.a.createElement("div",{className:"issue-card-description"},e.props.markdownLint[n.issue_code].description));t.push(i)});else{var a=l.a.createElement("div",{key:"issue-"+r,className:"issue-card"},l.a.createElement("div",{className:"issue-card-title"},e.props.markdownLint[n.issue_code].issue),l.a.createElement("div",{className:"issue-card-description"},e.props.markdownLint[n.issue_code].description));t.push(a)}}),l.a.createElement("div",{className:"issue-container"},t.length>0?t:l.a.createElement("div",{className:"size-panel-no-content"},this.props.t("no_document_improvement_suggestion")))}}]),t}(l.a.PureComponent);t.a=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(7),u=n.n(s),c=n(126),d=n(59),f=n(339),p=n(104),m=n(340),h=n(685),g=n(233),v=(n.n(g),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),b=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleResolvedComment=function(){n.setState({showResolvedComment:!n.state.showResolvedComment})},n.listComments=function(e){n.props.editorUtilities.listComments().then(function(t){if(n.setState({commentsList:t.data.comments}),e){var r=n;setTimeout(function(){r.refs.commentsList.scrollTo(0,1e4)},100)}})},n.handleCommentChange=function(e){n.setState({comment:e.target.value})},n.resolveComment=function(e){n.props.editorUtilities.updateComment(e.target.id,"true").then(function(){n.listComments()})},n.deleteComment=function(e){n.props.editorUtilities.deleteComment(e.target.id).then(function(){n.listComments()})},n.editComment=function(e,t){n.props.editorUtilities.updateComment(e,null,null,t).then(function(e){n.listComments()})},n.listRepoRelatedUsers=function(){window.showParticipants&&n.props.editorUtilities.listRepoRelatedUsers().then(function(e){var t=e.data.user_list.map(function(e){return{id:e.email,display:e.name}});n.setState({relatedUsers:t})})},n.addComment=function(){n.state.comment.trim()&&(n.props.editorUtilities.postComment(n.state.comment.trim()).then(function(){n.listComments(!0)}).catch(function(e){e.response.data&&p.a.danger(e.response.data.error_msg,{duration:3})}),n.setState({comment:""}))},n.onSubmit=function(){window.showParticipants&&n.addParticipant(n.props.editorUtilities.userName),0!==n.toBeAddedParticipant.length&&window.showParticipants?n.props.editorUtilities.addFileParticipants(n.toBeAddedParticipant).then(function(e){n.toBeAddedParticipant=[],n.addComment(),n.props.onParticipantsChange()}).catch(function(e){e.response.data&&p.a.danger(e.response.data.error_msg,{duration:3})}):n.addComment()},n.checkParticipant=function(e){return n.props.participants.map(function(e){return e.email}).includes(e)},n.addParticipant=function(e){n.checkParticipant(e)||n.toBeAddedParticipant.push(e)},n.renderUserSuggestion=function(e,t,n,r,a){return l.a.createElement("div",{className:"user "+(a?"focused":"")},n)},n.state={commentsList:[],showResolvedComment:!0,comment:"",relatedUsers:null},n.toBeAddedParticipant=[],n}return o(t,e),v(t,[{key:"componentDidMount",value:function(){this.listComments(),this.listRepoRelatedUsers()}},{key:"componentWillReceiveProps",value:function(e){this.props.relistComment!==e.relistComment&&this.listComments(!0)}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.props.participants;return l.a.createElement("div",{className:"seafile-comment"},l.a.createElement("div",{className:"seafile-comment-toggle-resolved"},l.a.createElement("div",{className:"seafile-comment-title-text"},t("Show_resolved_comments")),l.a.createElement("div",{className:"seafile-comment-title-toggle d-flex"},l.a.createElement("label",{className:"custom-switch",id:"toggle-resolved-comments"},l.a.createElement("input",{type:"checkbox",name:"option",className:"custom-switch-input",onChange:this.toggleResolvedComment,checked:this.state.showResolvedComment&&"checked"}),l.a.createElement("span",{className:"custom-switch-indicator"})))),l.a.createElement("ul",{className:window.showParticipants?"seafile-comment-list show-participants":"seafile-comment-list",ref:"commentsList"},this.state.commentsList.length>0&&this.state.commentsList.map(function(t){var n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments[2],new Date(t.created_at).getTime()),r=u()(n).format("YYYY-MM-DD HH:mm");return l.a.createElement(l.a.Fragment,{key:t.id},l.a.createElement(y,{item:t,time:r,t:e.props.t,deleteComment:e.deleteComment,resolveComment:e.resolveComment,editComment:e.editComment,showResolvedComment:e.state.showResolvedComment,editorUtilities:e.props.editorUtilities,scrollToQuote:e.props.scrollToQuote}))}),0==this.state.commentsList.length&&l.a.createElement("li",{className:"comment-vacant"},t("no_comment_yet"))),l.a.createElement("div",{className:"seafile-comment-footer"},n&&window.showParticipants&&l.a.createElement(f.a,{openDialogs:this.props.openDialogs,participants:n,t:this.props.t}),window.showParticipants?l.a.createElement(m.MentionsInput,{value:this.state.comment,onChange:this.handleCommentChange,placeholder:t("add_a_comment"),style:h.a},l.a.createElement(m.Mention,{trigger:"@",displayTransform:function(e,t){return"@"+t},data:this.state.relatedUsers,renderSuggestion:this.renderUserSuggestion,onAdd:function(t,n){e.addParticipant(t)},appendSpaceOnAdd:!0})):l.a.createElement("textarea",{className:"add-comment-input",onChange:this.handleCommentChange,value:this.state.comment,placeholder:t("add_a_comment"),clos:"100",rows:"3",warp:"virtual"}),l.a.createElement(d.a,{className:"submit-comment",color:"primary",size:"sm",onClick:this.onSubmit},t("submit"))))}}]),t}(l.a.Component),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleDropDownMenu=function(){n.setState({dropdownOpen:!n.state.dropdownOpen})},n.convertComment=function(e){if(c.processor.process(e.comment).then(function(e){var t=String(e);n.setState({html:t})}),e.detail){var t=JSON.parse(e.detail);c.processor.process(t.quote).then(function(e){var r=String(e);n.setState({quote:r,position:t.position})})}},n.toggleEditComment=function(){n.setState({editable:!n.state.editable})},n.updateComment=function(e){var t=n.state.newComment;n.props.item.comment!==t&&n.props.editComment(e.target.id,t),n.toggleEditComment()},n.handleCommentChange=function(e){n.setState({newComment:e.target.value})},n.state={dropdownOpen:!1,html:"",newComment:n.props.item.comment,editable:!1,quote:"",position:null},n}return o(t,e),v(t,[{key:"componentWillMount",value:function(){this.convertComment(this.props.item)}},{key:"componentWillReceiveProps",value:function(e){this.convertComment(e.item)}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.t,r=e.editorUtilities;return t.resolved&&!this.props.showResolvedComment?null:this.state.editable?l.a.createElement("li",{className:"seafile-comment-item",id:t.id},l.a.createElement("div",{className:"seafile-comment-info"},l.a.createElement("img",{className:"avatar",src:t.avatar_url,alt:""}),l.a.createElement("div",{className:"reviewer-info"},l.a.createElement("div",{className:"reviewer-name ellipsis"},t.user_name),l.a.createElement("div",{className:"review-time"},this.props.time))),l.a.createElement("div",{className:"seafile-edit-comment"},l.a.createElement("textarea",{className:"edit-comment-input",value:this.state.newComment,onChange:this.handleCommentChange,clos:"100",rows:"3",warp:"virtual"}),l.a.createElement(d.a,{className:"comment-btn",color:"primary",size:"sm",onClick:this.updateComment,id:t.id},n("Update"))," ",l.a.createElement(d.a,{className:"comment-btn",color:"secondary",size:"sm",onClick:this.toggleEditComment},n("cancel")))):l.a.createElement("li",{className:t.resolved?"seafile-comment-item seafile-comment-item-resolved":"seafile-comment-item",id:t.id},l.a.createElement("div",{className:"seafile-comment-info"},l.a.createElement("img",{className:"avatar",src:t.avatar_url,alt:""}),l.a.createElement("div",{className:"reviewer-info"},l.a.createElement("div",{className:"reviewer-name ellipsis"},t.user_name),l.a.createElement("div",{className:"review-time"},this.props.time)),l.a.createElement(d.b,{isOpen:this.state.dropdownOpen,size:"sm",className:"seafile-comment-dropdown",toggle:this.toggleDropDownMenu},l.a.createElement(d.e,{className:"seafile-comment-dropdown-btn"},l.a.createElement("i",{className:"fas fa-ellipsis-v"})),l.a.createElement(d.d,null,t.user_email===r.userName&&l.a.createElement(d.c,{onClick:this.props.deleteComment,className:"delete-comment",id:t.id},n("delete")),t.user_email===r.userName&&l.a.createElement(d.c,{onClick:this.toggleEditComment,className:"edit-comment",id:t.id},n("edit")),!t.resolved&&l.a.createElement(d.c,{onClick:this.props.resolveComment,className:"seafile-comment-resolved",id:t.id},n("Mark_as_Resolved"))))),t.detail&&l.a.createElement("blockquote",{className:"seafile-comment-content"},l.a.createElement("div",{onClick:this.props.scrollToQuote.bind(this,this.state.position),dangerouslySetInnerHTML:{__html:this.state.quote}})),l.a.createElement("div",{className:"seafile-comment-content",dangerouslySetInnerHTML:{__html:this.state.html}}))}}]),t}(l.a.Component);t.a=b},,,function(e,t){},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={control:{backgroundColor:"#fff",fontSize:14,fontWeight:"normal"},highlighter:{overflow:"hidden"},input:{margin:0},"&singleLine":{control:{display:"inline-block",width:130},highlighter:{padding:1,border:"2px inset transparent"},input:{padding:1,border:"2px inset"}},"&multiLine":{control:{},highlighter:{padding:9},input:{padding:"8px 6px",minHeight:90,height:90,border:"1px solid #e6e6dd",borderRadius:"5px",overfflowY:"auto","&focused":{backgroundColor:"#cee4e5",outlineOffset:"-2px",outlineColor:"-webkit-focus-ring-color",outlineStyle:"auto",outlineWidth:"5px"}}},suggestions:{list:{backgroundColor:"white",border:"1px solid rgba(0,0,0,0.15)",fontSize:14,maxHeight:200,overflow:"auto",position:"absolute",bottom:14,width:"150px"},item:{width:"auto",padding:"5px 15px",overflowX:"auto",borderBottom:"1px solid rgba(0,0,0,0.15)","&focused":{backgroundColor:"#f19654",color:"#fff",fontWeight:"400"}}}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(7),u=n.n(s),c=n(339),d=n(687),f=(n.n(d),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),p=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onEditFileTagToggle=function(){n.props.openDialogs&&n.props.openDialogs("file_tags")},n.onListRelatedFileToggle=function(){n.props.openDialogs&&n.props.openDialogs("related_files")},n.bytesToSize=function(e){if(e<0)return"--";var t=["bytes","KB","MB","GB","TB","PB"];if(0===e)return e+" "+t[0];var n=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return 0===n?e+" "+t[n]:(e/Math.pow(1e3,n)).toFixed(1)+" "+t[n]},n}return o(t,e),f(t,[{key:"render",value:function(){var e=this.props,t=e.fileTagList,n=e.relatedFiles,r=e.fileInfo,a=this.props.editorUtilities,o=a.filePath,i=a.serviceUrl;return l.a.createElement("div",{className:"dirent-table-container"},l.a.createElement("table",{className:"table-thead-hidden"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{width:"40%"}),l.a.createElement("th",{width:"60%"}))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,this.props.t("Size")),l.a.createElement("td",null,this.bytesToSize(r.size))),l.a.createElement("tr",null,l.a.createElement("th",null,this.props.t("Location")),l.a.createElement("td",null,o)),l.a.createElement("tr",null,l.a.createElement("th",null,this.props.t("Last_Update")),l.a.createElement("td",null,u()(r.last_modified).fromNow())),l.a.createElement("tr",{className:"file-tag-container"},l.a.createElement("th",null,this.props.t("Tags")),l.a.createElement("td",null,t.length>0&&l.a.createElement("ul",{className:"file-tag-list"},t.map(function(e){return l.a.createElement("li",{key:e.id,className:"file-tag-item"},l.a.createElement("span",{className:"file-tag",style:{backgroundColor:e.tag_color}}),l.a.createElement("span",{className:"tag-name",title:e.tag_name},e.tag_name))})),l.a.createElement("i",{className:"fa fa-pencil-alt attr-action-icon",onClick:this.onEditFileTagToggle}))),l.a.createElement("tr",{className:"file-related-files"},l.a.createElement("th",null,this.props.t("Related_Files")),l.a.createElement("td",null,n.length>0&&l.a.createElement("ul",null,n.map(function(e,t){var n=i+"/lib/"+e.repo_id+"/file"+encodeURIComponent(e.path);return l.a.createElement("li",{key:t},l.a.createElement("a",{href:n,target:"_blank"},e.name))})),l.a.createElement("i",{className:"fa fa-pencil-alt attr-action-icon",onClick:this.onListRelatedFileToggle}))),this.props.participants&&window.showParticipants&&l.a.createElement("tr",{className:"file-participants"},l.a.createElement("th",null,this.props.t("Participants")),l.a.createElement("td",null,l.a.createElement(c.a,{openDialogs:this.props.openDialogs,participants:this.props.participants,t:this.props.t}))))))}}]),t}(l.a.Component);t.a=p},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(59),u=n(126),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleCommentChange=function(e){var t=e.target.value;n.setState({comment:t})},n.submitComment=function(){var e=n.state.comment.trim();if(e.length>0&&n.props.quote.length>0){var t={quote:n.props.quote,position:n.props.commentPosition},r=JSON.stringify(t);n.props.editorUtilities.postComment(e,r).then(function(e){n.props.onCommentAdded()})}},n.setQuoteText=function(e){u.processor.process(e).then(function(e){var t=String(e);n.setState({quote:t})})},n.state={comment:"",quote:""},n}return o(t,e),c(t,[{key:"componentDidMount",value:function(){this.setQuoteText(this.props.quote)}},{key:"componentWillReceiveProps",value:function(e){this.props.quote!==e.quote&&this.setQuoteText(e.quote)}},{key:"render",value:function(){return l.a.createElement("div",{className:"comment-dialog"},l.a.createElement("div",null,this.props.editorUtilities.name),l.a.createElement("blockquote",{className:"comment-dialog-quote"},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.quote}})),l.a.createElement("textarea",{value:this.state.comment,onChange:this.handleCommentChange}),l.a.createElement("div",{className:"button-group"},l.a.createElement(s.a,{size:"sm",color:"primary",onClick:this.submitComment},this.props.t("submit")),l.a.createElement(s.a,{size:"sm",color:"secondary",onClick:this.props.toggleCommentDialog},this.props.t("cancel"))),l.a.createElement("span",{className:"comment-dialog-triangle"}))}}]),t}(l.a.Component);t.a=d},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(1),u=n.n(s),c=n(126),d=n(104),f=n(218),p=n.n(f),m=n(32),h=n(457),g=n.n(h),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=n(41),y=n(86);n(234),n(692),n(694),n(343);var E=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={isFocused:!1},o.focus=function(){o.codeMirror&&o.codeMirror.focus()},o.focusChanged=function(e){o.setState({isFocused:e}),o.props.onFocusChange&&o.props.onFocusChange(e)},o.cursorActivity=function(e){o.props.onCursorActivity&&o.props.onCursorActivity(e)},o.scrollChanged=function(e){o.props.onScroll&&o.props.onScroll(e.getScrollInfo())},o.codemirrorValueChanged=function(e,t){o.props.onChange&&"setValue"!==t.origin&&o.props.onChange(e.getValue(),t)},i=n,a(o,i)}return o(t,e),v(t,[{key:"getCodeMirrorInstance",value:function(){return this.props.codeMirrorInstance||n(27)}},{key:"componentWillMount",value:function(){this.props.path&&console.error("Warning: react-codemirror: the `path` prop has been changed to `name`")}},{key:"componentDidMount",value:function(){var e=this.getCodeMirrorInstance();this.codeMirror=e.fromTextArea(this.textareaNode,this.props.options),this.codeMirror.on("change",this.codemirrorValueChanged),this.codeMirror.on("cursorActivity",this.cursorActivity),this.codeMirror.on("focus",this.focusChanged.bind(this,!0)),this.codeMirror.on("blur",this.focusChanged.bind(this,!1)),this.codeMirror.on("scroll",this.scrollChanged)}},{key:"componentWillUnmount",value:function(){this.codeMirror&&this.codeMirror.toTextArea()}},{key:"componentWillReceiveProps",value:function(e){if(this.codeMirror&&void 0!==e.initialValue&&e.initialValue!==this.props.initialValue)if(this.props.preserveScrollPosition){var t=this.codeMirror.getScrollInfo();this.codeMirror.setValue(e.initialValue),this.codeMirror.scrollTo(t.left,t.top)}else this.codeMirror.setValue(e.initialValue)}},{key:"render",value:function(){var e=this,t=b("ReactCodeMirror",this.state.isFocused?"ReactCodeMirror--focused":null,this.props.className);return l.a.createElement("div",{className:t},l.a.createElement("textarea",{ref:function(t){return e.textareaNode=t},name:this.props.name||this.props.path,defaultValue:this.props.initialValue,autoComplete:"off",autoFocus:this.props.autoFocus}))}}]),t}(l.a.Component),w=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={html:"",leftIsBindScroll:!1,rightIsBindScroll:!1},n.scrollData={scrollPercentage:0,leftPanel:null,rightPanel:null},n.updateCode=function(e){n.props.onChange(e)},n.onLeftScroll=function(e){var t=n.scrollData.leftPanel;n.scrollData.scrollPercentage=t.scrollTop/t.scrollHeight,n.scrollData.rightPanel.scrollTop=n.scrollData.scrollPercentage*n.scrollData.rightPanel.scrollHeight},n.onRightScroll=function(e){var t=n.scrollData.rightPanel;n.scrollData.scrollPercentage=t.scrollTop/t.scrollHeight,n.scrollData.leftPanel.scrollTop=n.scrollData.scrollPercentage*n.scrollData.leftPanel.scrollHeight},n.onEnterLeftPanel=function(){n.setState({leftIsBindScroll:!0})},n.onLeaveLeftPanel=function(){n.setState({leftIsBindScroll:!1})},n.onEnterRightPanel=function(){n.setState({rightIsBindScroll:!0})},n.onLeaveRightPanel=function(){n.setState({rightIsBindScroll:!1})},n.onHotKey=function(e){if(p()("mod+s",e))return e.preventDefault(),n.props.onSave(e),!0},n.options={lineNumbers:!0,mode:"markdown",lineWrapping:!0,scrollbarStyle:null},n.setContent=y.throttle(n.setContent,1e3),n}return o(t,e),v(t,[{key:"setContent",value:function(e){var t=this;c.processor.process(e).then(function(e){var n=String(e);t.setState({html:n})})}},{key:"componentDidMount",value:function(){this.scrollData.leftPanel=document.querySelector(".plain-editor-left-panel"),this.scrollData.rightPanel=document.querySelector(".plain-editor-right-panel"),this.setContent(this.props.currentContent),this.props.collabUsers.filter(function(e){return!0===e.is_editing&&void 0===e.myself}).length>0&&d.a.danger("Another user is editing this file!",{duration:3})}},{key:"componentWillReceiveProps",value:function(e){this.setContent(e.currentContent)}},{key:"componentDidUpdate",value:function(){g.a.highlightAll()}},{key:"render",value:function(){return l.a.createElement("div",{className:"seafile-editor-module seafile-editor"},l.a.createElement("div",{className:"seafile-editor-main plain-editor-main d-flex"},l.a.createElement("div",{className:"plain-editor-left-panel",onKeyDown:this.onHotKey,onMouseLeave:this.onLeaveLeftPanel,onMouseEnter:this.onEnterLeftPanel,onScroll:this.state.leftIsBindScroll?this.onLeftScroll:null},l.a.createElement(E,{initialValue:this.props.initialValue,onChange:this.updateCode,options:this.options})),l.a.createElement("div",{className:"plain-editor-right-panel",onMouseEnter:this.onEnterRightPanel,onMouseLeave:this.onLeaveRightPanel,onScroll:this.state.rightIsBindScroll?this.onRightScroll:null},l.a.createElement("div",{className:"preview"},l.a.createElement("div",{className:"rendered-markdown article",dangerouslySetInnerHTML:{__html:this.state.html}})))))}}]),t}(l.a.Component);w.defaultProps={collabUsers:[]},w.propTypes={collabUsers:u.a.array},t.a=Object(m.withTranslation)("seafile-editor")(w)},function(e,t,n){!function(e){e(n(27),n(201),n(693))}(function(e){"use strict";e.defineMode("markdown",function(t,n){function r(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var a=e.getMode(t,n);return"null"==a.name?null:a}function a(e,t,n){return t.f=t.inline=n,n(e,t)}function o(e,t,n){return t.f=t.block=n,n(e,t)}function i(e){return!e||!/\S/.test(e.string)}function l(t){if(t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==u){var n=w;if(!n){var r=e.innerMode(E,t.htmlState);n="xml"==r.mode.name&&null===r.state.tagStart&&!r.state.context&&r.state.tokenize.isInText}n&&(t.f=p,t.block=s,t.htmlState=null)}return t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function s(t,o){var l=t.column()===o.indentation,s=i(o.prevLine.stream),u=o.indentedCode,f=o.prevLine.hr,p=!1!==o.list,m=(o.listStack[o.listStack.length-1]||0)+3;o.indentedCode=!1;var h=o.indentation;if(null===o.indentationDiff&&(o.indentationDiff=o.indentation,p)){for(o.em=!1,o.strong=!1,o.code=!1,o.strikethrough=!1,o.list=null;h<o.listStack[o.listStack.length-1];)o.listStack.pop(),o.listStack.length?o.indentation=o.listStack[o.listStack.length-1]:o.list=!1;!1!==o.list&&(o.indentationDiff=h-o.listStack[o.listStack.length-1])}var g=!s&&!f&&!o.prevLine.header&&(!p||!u)&&!o.prevLine.fencedCodeEnd,b=(!1===o.list||f||s)&&o.indentation<=m&&t.match(x),y=null;if(o.indentationDiff>=4&&(u||o.prevLine.fencedCodeEnd||o.prevLine.header||s))return t.skipToEnd(),o.indentedCode=!0,S.code;if(t.eatSpace())return null;if(l&&o.indentation<=m&&(y=t.match(P))&&y[1].length<=6)return o.quote=0,o.header=y[1].length,o.thisLine.header=!0,n.highlightFormatting&&(o.formatting="header"),o.f=o.inline,d(o);if(o.indentation<=m&&t.eat(">"))return o.quote=l?1:o.quote+1,n.highlightFormatting&&(o.formatting="quote"),t.eatSpace(),d(o);if(!b&&!o.setext&&l&&o.indentation<=m&&(y=t.match(O))){var E=y[1]?"ol":"ul";return o.indentation=h+t.current().length,o.list=!0,o.quote=0,o.listStack.push(o.indentation),n.taskLists&&t.match(C,!1)&&(o.taskList=!0),o.f=o.inline,n.highlightFormatting&&(o.formatting=["list","list-"+E]),d(o)}return l&&o.indentation<=m&&(y=t.match(M,!0))?(o.quote=0,o.fencedEndRE=new RegExp(y[1]+"+ *$"),o.localMode=n.fencedCodeBlockHighlighting&&r(y[2]),o.localMode&&(o.localState=e.startState(o.localMode)),o.f=o.block=c,n.highlightFormatting&&(o.formatting="code-block"),o.code=-1,d(o)):o.setext||!(g&&p||o.quote||!1!==o.list||o.code||b||T.test(t.string))&&(y=t.lookAhead(1))&&(y=y.match(k))?(o.setext?(o.header=o.setext,o.setext=0,t.skipToEnd(),n.highlightFormatting&&(o.formatting="header")):(o.header="="==y[0].charAt(0)?1:2,o.setext=o.header),o.thisLine.header=!0,o.f=o.inline,d(o)):b?(t.skipToEnd(),o.hr=!0,o.thisLine.hr=!0,S.hr):"["===t.peek()?a(t,o,v):a(t,o,o.inline)}function u(t,n){var r=E.token(t,n.htmlState);if(!w){var a=e.innerMode(E,n.htmlState);("xml"==a.mode.name&&null===a.state.tagStart&&!a.state.context&&a.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=p,n.block=s,n.htmlState=null)}return r}function c(e,t){var r=t.listStack[t.listStack.length-1]||0,a=t.indentation<r,i=r+3;if(t.fencedEndRE&&t.indentation<=i&&(a||e.match(t.fencedEndRE))){n.highlightFormatting&&(t.formatting="code-block");var l;return a||(l=d(t)),t.localMode=t.localState=null,t.block=s,t.f=p,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,a?o(e,t,t.block):l}return t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),S.code)}function d(e){var t=[];if(e.formatting){t.push(S.formatting),"string"===typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(S.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(S.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(S.formatting+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(S.linkHref,"url"):(e.strong&&t.push(S.strong),e.em&&t.push(S.em),e.strikethrough&&t.push(S.strikethrough),e.emoji&&t.push(S.emoji),e.linkText&&t.push(S.linkText),e.code&&t.push(S.code),e.image&&t.push(S.image),e.imageAltText&&t.push(S.imageAltText,"link"),e.imageMarker&&t.push(S.imageMarker)),e.header&&t.push(S.header,S.header+"-"+e.header),e.quote&&(t.push(S.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(S.quote+"-"+e.quote):t.push(S.quote+"-"+n.maxBlockquoteDepth)),!1!==e.list){var a=(e.listStack.length-1)%3;a?1===a?t.push(S.list2):t.push(S.list3):t.push(S.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function f(e,t){if(e.match(D,!0))return d(t)}function p(t,r){var a=r.text(t,r);if("undefined"!==typeof a)return a;if(r.list)return r.list=null,d(r);if(r.taskList){return" "===t.match(C,!0)[1]?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,d(r)}if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),d(r);var i=t.next();if(r.linkTitle){r.linkTitle=!1;var l=i;"("===i&&(l=")"),l=(l+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var s="^\\s*(?:[^"+l+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(t.match(new RegExp(s),!0))return S.linkHref}if("`"===i){var c=r.formatting;n.highlightFormatting&&(r.formatting="code"),t.eatWhile("`");var f=t.current().length;if(0!=r.code||r.quote&&1!=f){if(f==r.code){var g=d(r);return r.code=0,g}return r.formatting=c,d(r)}return r.code=f,d(r)}if(r.code)return d(r);if("\\"===i&&(t.next(),n.highlightFormatting)){var v=d(r),b=S.formatting+"-escape";return v?v+" "+b:b}if("!"===i&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return r.imageMarker=!0,r.image=!0,n.highlightFormatting&&(r.formatting="image"),d(r);if("["===i&&r.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return r.imageMarker=!1,r.imageAltText=!0,n.highlightFormatting&&(r.formatting="image"),d(r);if("]"===i&&r.imageAltText){n.highlightFormatting&&(r.formatting="image");var v=d(r);return r.imageAltText=!1,r.image=!1,r.inline=r.f=h,v}if("["===i&&!r.image)return r.linkText&&t.match(/^.*?\]/)?d(r):(r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),d(r));if("]"===i&&r.linkText){n.highlightFormatting&&(r.formatting="link");var v=d(r);return r.linkText=!1,r.inline=r.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?h:p,v}if("<"===i&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=m,n.highlightFormatting&&(r.formatting="link");var v=d(r);return v?v+=" ":v="",v+S.linkInline}if("<"===i&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=m,n.highlightFormatting&&(r.formatting="link");var v=d(r);return v?v+=" ":v="",v+S.linkEmail}if(n.xml&&"<"===i&&t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var y=t.string.indexOf(">",t.pos);if(-1!=y){/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(t.string.substring(t.start,y))&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(E),o(t,r,u)}if(n.xml&&"<"===i&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";if("*"===i||"_"===i){for(var w=1,_=1==t.pos?" ":t.string.charAt(t.pos-2);w<3&&t.eat(i);)w++;var x=t.peek()||" ",O=!/\s/.test(x)&&(!L.test(x)||/\s/.test(_)||L.test(_)),P=!/\s/.test(_)&&(!L.test(_)||/\s/.test(x)||L.test(x)),k=null,D=null;if(w%2&&(r.em||!O||"*"!==i&&P&&!L.test(_)?r.em!=i||!P||"*"!==i&&O&&!L.test(x)||(k=!1):k=!0),w>1&&(r.strong||!O||"*"!==i&&P&&!L.test(_)?r.strong!=i||!P||"*"!==i&&O&&!L.test(x)||(D=!1):D=!0),null!=D||null!=k){n.highlightFormatting&&(r.formatting=null==k?"strong":null==D?"em":"strong em"),!0===k&&(r.em=i),!0===D&&(r.strong=i);var g=d(r);return!1===k&&(r.em=!1),!1===D&&(r.strong=!1),g}}else if(" "===i&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return d(r);t.backUp(1)}if(n.strikethrough)if("~"===i&&t.eatWhile(i)){if(r.strikethrough){n.highlightFormatting&&(r.formatting="strikethrough");var g=d(r);return r.strikethrough=!1,g}if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),d(r)}else if(" "===i&&t.match(/^~~/,!0)){if(" "===t.peek())return d(r);t.backUp(2)}if(n.emoji&&":"===i&&t.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){r.emoji=!0,n.highlightFormatting&&(r.formatting="emoji");var M=d(r);return r.emoji=!1,M}return" "===i&&(t.match(/^ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),d(r)}function m(e,t){if(">"===e.next()){t.f=t.inline=p,n.highlightFormatting&&(t.formatting="link");var r=d(t);return r?r+=" ":r="",r+S.linkInline}return e.match(/^[^>]+/,!0),S.linkInline}function h(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(t.f=t.inline=g("("===r?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,d(t)):"error"}function g(e){return function(t,r){if(t.next()===e){r.f=r.inline=p,n.highlightFormatting&&(r.formatting="link-string");var a=d(r);return r.linkHref=!1,a}return t.match(N[e]),r.linkHref=!0,d(r)}}function v(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=b,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,d(t)):a(e,t,p)}function b(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=y,n.highlightFormatting&&(t.formatting="link");var r=d(t);return t.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),S.linkText}function y(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=p,S.linkHref+" url")}var E=e.getMode(t,"text/html"),w="null"==E.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.emoji&&(n.emoji=!1),void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0),void 0===n.xml&&(n.xml=!0),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var S={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var _ in S)S.hasOwnProperty(_)&&n.tokenTypeOverrides[_]&&(S[_]=n.tokenTypeOverrides[_]);var x=/^([*\-_])(?:\s*\1){2,}\s*$/,O=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,C=/^\[(x| )\](?=\s)/i,P=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,k=/^ *(?:\={1,}|-{1,})\s*$/,D=/^[^#!\[\]*_\\<>` "'(~:]+/,M=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,T=/^\s*\[[^\]]+?\]:.*$/,L=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,N={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},I={startState:function(){return{f:s,prevLine:{stream:null},thisLine:{stream:null},block:s,htmlState:null,indentation:0,inline:p,text:f,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(E,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return l(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=u)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==u?{state:e.htmlState,mode:E}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:I}},indent:function(t,n,r){return t.block==u&&E.indent?E.indent(t.htmlState,n,r):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},blankLine:l,getType:d,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return I},"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")})},function(e,t,n){!function(e){e(n(27))}(function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var a=0;a<r.mimes.length;a++)if(r.mimes[a]==t)return r}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var a=0;a<r.ext.length;a++)if(r.ext[a]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var a=t.lastIndexOf("."),o=a>-1&&t.substring(a+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var a=0;a<r.alias.length;a++)if(r.alias[a].toLowerCase()==t)return r}}})},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),s=n(73),u=n(212),c=n(169),d=n(136),f=n(341),p=n(217),m=n(336),h=(n.n(m),n(337)),g=(n.n(h),n(342)),v=(n.n(g),n(228)),b=(n.n(v),n(229)),y=(n.n(b),n(233)),E=(n.n(y),n(230)),w=(n.n(E),n(231)),S=(n.n(w),n(696)),_=(n.n(S),n(226)),x=n(32),O=n(232),C=n(227),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.ref=function(e){n.editor=e,e&&(n.editor.richEditor=n)},n.hasContentChange=function(){return n.contentChanged},n.onChange=function(e){e.operations.some(function(e){return"set_selection"!==e.type&&"set_value"!==e.type})&&(n.contentChanged=!0),n.selectedCells.key&&!0===n.selectedCells.hasRendered&&n.resetSelectedCells(),n.state.hasContextMenu&&n.hasContextMenuShowed&&(n.onRightMenuChange(!1),n.setState({hasContextMenu:!1})),n.setState({value:e.value})},n.contentChanged=!1;var o=new p.a;return n.renderNode=p.e.bind(n),n.renderMark=p.d.bind(n),n.focusEditor=o.focusEditor.bind(n),n.setSelectedCells=o.setSelectedCells.bind(n),n.resetSelectedCells=o.resetSelectedCells.bind(n),n.toggleMark=o.toggleMark.bind(n),n.hasMark=o.hasMark.bind(n),n.isInTable=o.isInTable.bind(n),n.isInCode=o.isInCode.bind(n),n.hasBlock=o.hasBlock.bind(n),n.toggleImageDialog=o.toggleImageDialog.bind(n),n.clickMark=o.clickMark.bind(n),n.onClickBlock=o.onClickBlock.bind(n),n.onAddCheckItem=o.onAddCheckItem.bind(n),n.getButtonState=o.getButtonState.bind(n),n.onToggleLink=o.onToggleLink.bind(n),n.hasLinks=o.hasLinks.bind(n),n.onSetLink=o.onSetLink.bind(n),n.addLink=o.addLink.bind(n),n.hasSelectImage=o.hasSelectImage.bind(n),n.changeLink=o.changeLink.bind(n),n.getSelectionText=o.getSelectionText.bind(n),n.getCurrentLinkNode=o.getCurrentLinkNode.bind(n),n.onToggleCode=o.onToggleCode.bind(n),n.onAddTable=o.onAddTable.bind(n),n.onInsertColumn=o.onInsertColumn.bind(n),n.onInsertRow=o.onInsertRow.bind(n),n.onRemoveColumn=o.onRemoveColumn.bind(n),n.onRemoveRow=o.onRemoveRow.bind(n),n.onRemoveTable=o.onRemoveTable.bind(n),n.onSetAlign=o.onSetAlign.bind(n),n.onInsertImage=o.onInsertImage.bind(n),n.adjustImageSize=o.adjustImageSize.bind(n),n.onContext=o.onContext.bind(n),n.toggleLinkDialog=o.toggleLinkDialog.bind(n),n.toggleBigImage=o.toggleBigImage.bind(n),n.onRightMenuChange=o.onRightMenuChange.bind(n),n.headerList=["paragraph","header_one","header_two","header_three","header_four","header_five","header_six"],n.selectedCells={key:null,hasRendered:!1,row:{max:-1,min:-1},col:{min:-1,max:-1}},n.bigImageSrc="",n.state={value:Object(d.deserialize)(e.value)},n}return o(t,e),P(t,[{key:"componentWillMount",value:function(){window.getSelection().removeAllRanges()}},{key:"componentDidCatch",value:function(e){this.setState({value:this.state.value})}},{key:"componentDidMount",value:function(){var e=this;this.props.onRef(this),this.editor=this.refs.editor,this.editor.richEditor=this,setTimeout(function(){e.editor.focus(),e.contentChanged=!1},200)}},{key:"getMarkdown",value:function(){return this.contentChanged=!1,Object(d.serialize)(this.editor.value.toJSON())}},{key:"render",value:function(){var e=this.state.value,t=this.state.value.selection.isCollapsed,n=void 0;try{n=this.getButtonState(this.state.value)}catch(e){console.log(e),n={isTableActive:!1,isCodeActive:!1,headerType:"paragraph",isLinkActive:!1,isBoldActive:!1,isItalicActive:!1,isInlineCodeActive:!1,isImageActive:!1,isBlockquoteActive:!1,isOrderedListActive:!1,isUnorderedListActive:!1,isCheckListActive:!1,isSaving:!1,isShowAddImageDialog:!1,isShowAddLinkDialog:!1}}return l.a.createElement(i.Fragment,null,l.a.createElement("div",{className:"seafile-editor-module seafile-simple-editor"},l.a.createElement("div",{className:"seafile-rich-editor-topbar"},l.a.createElement(C.a,{isSimpleEditor:!0,buttonState:n,editor:this})),l.a.createElement("div",{className:"editor-container",ref:"editorContainer"},l.a.createElement("div",{onClick:1===e.document.nodes.size&&"paragraph"===e.document.nodes.get(0).type&&0===e.document.text.length?this.focusEditor:null,className:"editor article"},l.a.createElement(s.Editor,{value:this.state.value,plugins:p.c,ref:"editor",className:"editor-component",onChange:this.onChange,onContextMenu:this.onContext,renderNode:this.renderNode,renderMark:this.renderMark,schema:u.a,editorUtilities:this.props.editorUtilities})),n.isLinkActive&&t?l.a.createElement(O.a,null,l.a.createElement(_.a,{editor:this,value:this.editor.value})):null,this.state.hasContextMenu&&l.a.createElement(O.a,null,l.a.createElement(f.a,{editTable:p.b,editor:this.editor,richEditor:this,onRightMenuChange:this.onRightMenuChange})),this.state.isShowBigImage&&l.a.createElement(c.a,{bigImageSrc:this.bigImageSrc,toggleBigImage:this.toggleBigImage}))))}}]),t}(l.a.Component);t.a=Object(x.withTranslation)("seafile-editor")(k)},,function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=function(e){return function(t){var n=(t.in,t.onExited,t.appear,t.enter,t.exit,r(t,["in","onExited","appear","enter","exit"]));return o.default.createElement(e,n)}},l=i;t.default=l},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,a=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),l=n(240),s=function(e){return function(t){var n=t.in,o=t.onExited,s=a(t,["in","onExited"]);return i.default.createElement(l.Collapse,{in:n,onExited:o},i.default.createElement(e,r({cropWithEllipsis:n},s)))}},u=s;t.default=u},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(240),i=function(e){return function(t){return a.default.createElement(o.Fade,r({component:e,duration:t.isMulti?o.collapseDuration:1},t))}},l=i;t.default=l},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(240),i=function(e){return function(t){return a.default.createElement(o.Fade,r({component:e},t))}},l=i;t.default=l},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(379),i=function(e){return function(t){return a.default.createElement(o.TransitionGroup,r({component:e},t))}},l=i;t.default=l},,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(62),m=r(p),h={isTextMode:d.default.bool.isRequired,isEditIconShow:d.default.bool.isRequired,roles:d.default.array.isRequired,currentRole:d.default.string.isRequired,onRoleChanged:d.default.func.isRequired,toggleItemFreezed:d.default.func},g=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.translateRole=function(e){return"Admin"===e?(0,f.gettext)("Admin"):"Member"===e?(0,f.gettext)("Member"):void 0},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(m.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.roles,currentOption:this.props.currentRole,onOptionChanged:this.props.onRoleChanged,translateOption:this.translateRole,toggleItemFreezed:this.props.toggleItemFreezed})}}]),t}(u.default.Component);g.propTypes=h,t.default=g},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f={placeholder:d.default.string.isRequired,submit:d.default.func.isRequired},p=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleInputChange=function(e){n.setState({value:e.target.value})},n.handleKeyPress=function(e){"Enter"==e.key&&(e.preventDefault(),n.handleSubmit())},n.handleSubmit=function(){var e=n.state.value.trim();if(!e)return!1;n.props.submit(e)},n.state={value:""},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"input-icon"},u.default.createElement("i",{className:"d-flex input-icon-addon fas fa-search"}),u.default.createElement("input",{type:"text",className:"form-control search-input h-6 mr-1",style:{width:"15rem"},placeholder:this.props.placeholder,value:this.state.value,onChange:this.handleInputChange,onKeyPress:this.handleKeyPress,autoComplete:"off"}))}}]),t}(u.default.Component);p.propTypes=f,t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(2),m={currentItem:d.default.string.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navItems=[{name:"info",urlPart:"",text:(0,p.gettext)("Info")},{name:"owned-repos",urlPart:"owned-libraries",text:(0,p.gettext)("Owned Libraries")},{name:"shared-repos",urlPart:"shared-libraries",text:(0,p.gettext)("Shared Libraries")},{name:"links",urlPart:"shared-links",text:(0,p.gettext)("Shared Links")},{name:"groups",urlPart:"groups",text:(0,p.gettext)("Groups")}],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.currentItem,n=e.email,r=e.userName;return u.default.createElement("div",null,u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},u.default.createElement(f.Link,{to:p.siteRoot+"sys/users/"},(0,p.gettext)("Users"))," / ",r)),u.default.createElement("ul",{className:"nav border-bottom mx-4"},this.navItems.map(function(e,r){return u.default.createElement("li",{className:"nav-item mr-2",key:r},u.default.createElement(f.Link,{to:p.siteRoot+"sys/users/"+encodeURIComponent(n)+"/"+e.urlPart,className:"nav-link "+(t==e.name?" active":"")},e.text))})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(2),m={currentItem:d.default.string.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navItems=[{name:"fileStatistic",urlPart:"statistics/file",text:(0,p.gettext)("File")},{name:"storageStatistic",urlPart:"statistics/storage",text:(0,p.gettext)("Storage")},{name:"usersStatistic",urlPart:"statistics/user",text:(0,p.gettext)("Users")},{name:"trafficStatistic",urlPart:"statistics/traffic",text:(0,p.gettext)("Traffic")},{name:"reportsStatistic",urlPart:"statistics/reports",text:(0,p.gettext)("Reports")}],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.currentItem;return u.default.createElement("div",{className:"cur-view-path tab-nav-container"},u.default.createElement("ul",{className:"nav"},this.navItems.map(function(t,n){return u.default.createElement("li",{className:"nav-item",key:n},u.default.createElement(f.Link,{to:p.siteRoot+"sys/"+t.urlPart+"/",className:"nav-link"+(e==t.name?" active":"")},t.text))})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(83),m=r(p),h=n(2),g=n(5),v=r(g),b={link:d.default.string.isRequired,toggleDialog:d.default.func.isRequired},y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.copyToClipboard=function(){(0,m.default)(n.props.link),n.props.toggleDialog(),v.default.success((0,h.gettext)("The link is copied to the clipboard."))},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.link,n=e.toggleDialog;return u.default.createElement(f.Modal,{isOpen:!0,toggle:n},u.default.createElement(f.ModalHeader,{toggle:n},(0,h.gettext)("Link")),u.default.createElement(f.ModalBody,null,u.default.createElement("a",{href:t},t)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.copyToClipboard},(0,h.gettext)("Copy")),u.default.createElement(f.Button,{color:"secondary",onClick:n},(0,h.gettext)("Close"))))}}]),t}(u.default.Component);y.propTypes=b,t.default=y},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(2),m={currentItem:d.default.string.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navItems=[{name:"info",urlPart:"info",text:(0,p.gettext)("Info")},{name:"users",urlPart:"users",text:(0,p.gettext)("Members")},{name:"groups",urlPart:"groups",text:(0,p.gettext)("Groups")},{name:"repos",urlPart:"libraries",text:(0,p.gettext)("Libraries")}],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.currentItem,n=e.orgID,r=e.orgName;return u.default.createElement("div",null,u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},u.default.createElement(f.Link,{to:p.siteRoot+"sys/organizations/"},(0,p.gettext)("Organizations"))," / ",r)),u.default.createElement("ul",{className:"nav border-bottom mx-4"},this.navItems.map(function(e,r){return u.default.createElement("li",{className:"nav-item mr-2",key:r},u.default.createElement(f.Link,{to:p.siteRoot+"sys/organizations/"+n+"/"+e.urlPart+"/",className:"nav-link "+(t==e.name?" active":"")},e.text))})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(2),m={currentItem:d.default.string.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navItems=[{name:"loginLogs",urlPart:"logs/login",text:(0,p.gettext)("Login")},{name:"fileAccessLogs",urlPart:"logs/file-access",text:(0,p.gettext)("File Access")},{name:"fileUpdateLogs",urlPart:"logs/file-update",text:(0,p.gettext)("File Update")},{name:"sharePermissionLogs",urlPart:"logs/share-permission",text:(0,p.gettext)("Permission")}],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.currentItem;return u.default.createElement("div",{className:"cur-view-path tab-nav-container"},u.default.createElement("ul",{className:"nav"},this.navItems.map(function(t,n){return u.default.createElement("li",{className:"nav-item",key:n},u.default.createElement(f.Link,{to:p.siteRoot+"sys/"+t.urlPart+"/",className:"nav-link"+(e==t.name?" active":"")},t.text))})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(7),h=r(m),g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.downloadExcel=function(){if(n.isValidDateStr()){var e=n.state,t=e.startDateStr,r=e.endDateStr,a=p.siteRoot;switch(n.props.logType){case"login":a+="sys/loginadmin/export-excel/";break;case"fileAccess":a+="sys/log/fileaudit/export-excel/";break;case"fileUpdate":a+="sys/log/fileupdate/export-excel/";break;case"sharePermission":a+="sys/log/permaudit/export-excel/"}location.href=a+"?start="+t+"&end="+r,n.props.toggle()}},n.isValidDateStr=function(){var e=n.state,t=e.startDateStr,r=e.endDateStr;return!!((0,h.default)(t,"YYYY-MM-DD",!0).isValid()&&(0,h.default)(r,"YYYY-MM-DD",!0).isValid()&&(0,h.default)(t).isBefore(r))||(n.setState({errMsg:(0,p.gettext)("Date Invalid.")}),!1)},n.handleStartChange=function(e){var t=e.target.value.trim();n.setState({startDateStr:t,errMsg:""})},n.handleEndChange=function(e){var t=e.target.value.trim();n.setState({endDateStr:t,errMsg:""})},n.state={loading:!0,startDateStr:"",endDateStr:"",errMsg:""},n.newInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.newInput.focus()}},{key:"render",value:function(){var e=this;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Choose date")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,null,(0,p.gettext)("Start date")),u.default.createElement(f.Input,{value:this.state.startDateStr,onChange:this.handleStartChange,placeholder:"yyyy-mm-dd",innerRef:function(t){e.newInput=t}})),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,null,(0,p.gettext)("End date")),u.default.createElement(f.Input,{value:this.state.endDateStr,onChange:this.handleEndChange,placeholder:"yyyy-mm-dd"})),this.state.errMsg&&u.default.createElement(f.Alert,{className:"mt-2",color:"danger"},(0,p.gettext)(this.state.errMsg))),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.downloadExcel},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component),v={toggle:d.default.func.isRequired,logType:d.default.string.isRequired};g.propTypes=v,t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),d=n(1),f=r(d),p=n(6),m=n(7),h=r(m),g=n(2),v=n(2565),b=r(v),y={getActiviesFiles:f.default.func.isRequired,children:f.default.object},E=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.changeActive=function(e){if(n.state.statisticType!==e){var t=(0,h.default)().format("YYYY-MM-DD 00:00:00"),r=t,a=void 0;switch(e){case"oneWeek":a=(0,h.default)().subtract(6,"d").format("YYYY-MM-DD 00:00:00");break;case"oneMonth":a=(0,h.default)().subtract(29,"d").format("YYYY-MM-DD 00:00:00");break;case"oneYear":a=(0,h.default)().subtract(364,"d").format("YYYY-MM-DD 00:00:00")}n.setState({statisticType:e}),n.props.getActiviesFiles(a,r,"day")}},n.disabledStartDate=function(e){if(!e)return!1;var t=(0,h.default)().format(),r=n.state.endValue;if(!r){return t<(0,h.default)(e).format()}return r.isBefore(e)||(0,h.default)(e).format()>t},n.disabledEndDate=function(e){if(!e)return!1;var t=(0,h.default)().format(),r=n.state.startValue;if(!r){return t<(0,h.default)(e).format()}return e.isBefore(r)||(0,h.default)(e).format()>t},n.onChange=function(e,t){n.setState(a({},e,t))},n.onSubmit=function(){var e=n.state,t=e.startValue,r=e.endValue;if(t&&r){n.setState({statisticType:"itemButton"});var a=(0,h.default)(t).format("YYYY-MM-DD 00:00:00"),o=(0,h.default)(r).format("YYYY-MM-DD 00:00:00");n.props.getActiviesFiles(a,o,"day")}},n.state={statisticType:"oneWeek",startValue:null,endValue:null},n}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=(0,h.default)().format("YYYY-MM-DD 00:00:00"),t=e,n=(0,h.default)().subtract(6,"d").format("YYYY-MM-DD 00:00:00");this.props.getActiviesFiles(n,t,"day")}},{key:"render",value:function(){var e=this.state,t=e.statisticType,n=e.endValue,r=e.startValue;return c.default.createElement(u.Fragment,null,this.props.children,c.default.createElement("div",{className:"system-statistic-time-range"},c.default.createElement("div",{className:"sys-stat-tool"},c.default.createElement("div",{className:"system-statistic-item border-right-0 rounded-left "+("oneWeek"===t?"item-active":""),onClick:this.changeActive.bind(this,"oneWeek")},(0,g.gettext)("7 Days")),c.default.createElement("div",{className:"system-statistic-item border-right-0 "+("oneMonth"===t?"item-active":""),onClick:this.changeActive.bind(this,"oneMonth")},(0,g.gettext)("30 Days")),c.default.createElement("div",{className:"system-statistic-item rounded-right "+("oneYear"===t?"item-active":""),onClick:this.changeActive.bind(this,"oneYear")},(0,g.gettext)("1 Year"))),c.default.createElement("div",{className:"system-statistic-input-container"},c.default.createElement(b.default,{disabledDate:this.disabledStartDate,value:r,onChange:this.onChange.bind(this,"startValue")}),c.default.createElement("span",{className:"system-statistic-connect"},"-"),c.default.createElement(b.default,{disabledDate:this.disabledEndDate,value:n,onChange:this.onChange.bind(this,"endValue")}),c.default.createElement(p.Button,{className:"operation-item system-statistic-button",onClick:this.onSubmit},(0,g.gettext)("Submit")))))}}]),t}(c.default.Component);E.propTypes=y,t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(2566),d=n(1),f=r(d),p=n(3),m={labels:f.default.array.isRequired,filesData:f.default.array.isRequired,suggestedMaxNumbers:f.default.number.isRequired,isLegendStatus:f.default.bool.isRequired,chartTitle:f.default.string.isRequired,isTitleCallback:f.default.bool,isTicksCallback:f.default.bool},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.titleCallback=function(e,t){return t.datasets[e.datasetIndex].label+": "+p.Utils.bytesToSize(e.yLabel)},n.ticksCallback=function(e,t,n){return p.Utils.bytesToSize(e)},n.state={data:{},opations:{}},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.labels,n=e.filesData,r=e.isTitleCallback,a=e.isTicksCallback,o=e.suggestedMaxNumbers,i=e.isLegendStatus,l=e.chartTitle,s=this,u={labels:t,datasets:n},c={title:{display:!0,fontSize:14,text:l},elements:{line:{fill:!1,tension:0,borderWidth:2}},legend:{display:i,labels:{usePointStyle:!0}},tooltips:{callbacks:{label:function(e,t){return r?s.titleCallback(e,t):t.datasets[e.datasetIndex].label+": "+e.yLabel}}},layout:{padding:{right:100}},scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMax:o,callback:function(e,t,n){return a?s.ticksCallback(e,t,n):e}}}],xAxes:[{ticks:{maxTicksLimit:20}}]}};this.setState({data:u,options:c})}},{key:"componentWillReceiveProps",value:function(e){var t={labels:e.labels,datasets:e.filesData};this.setState({data:t})}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.options;return u.default.createElement(c.Line,{data:t,options:n})}}]),t}(u.default.Component);h.propTypes=m,t.default=h},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(7),m=r(p),h=n(2),g=n(4),v=n(3),b=n(8),y=r(b);n(1046);var E={repoID:d.default.string.isRequired,commitID:d.default.string.isRequired,commitTime:d.default.string.isRequired,toggleDialog:d.default.func.isRequired},w=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isLoading:!0,errorMsg:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.repoID,r=t.commitID;g.seafileAPI.getCommitDetails(n,r).then(function(t){e.setState({isLoading:!1,errorMsg:"",commitDetails:t.data})}).catch(function(t){var n=v.Utils.getErrorMsg(t);e.setState({isLoading:!1,errorMsg:n})})}},{key:"render",value:function(){var e=this.props,t=e.toggleDialog;e.commitTime;return u.default.createElement(f.Modal,{isOpen:!0,centered:!0,toggle:t},u.default.createElement(f.ModalHeader,{toggle:t},(0,h.gettext)("Modification Details")),u.default.createElement(f.ModalBody,null,u.default.createElement("p",{className:"small"},(0,m.default)(this.props.commitTime).format("YYYY-MM-DD HH:mm:ss")),u.default.createElement(S,{data:this.state})))}}]),t}(u.default.Component),S=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.renderDetails=function(e){for(var t=[{type:"new",title:(0,h.gettext)("New files")},{type:"removed",title:(0,h.gettext)("Deleted files")},{type:"renamed",title:(0,h.gettext)("Renamed or Moved files")},{type:"modified",title:(0,h.gettext)("Modified files")},{type:"newdir",title:(0,h.gettext)("New directories")},{type:"deldir",title:(0,h.gettext)("Deleted directories")}],n=!0,r=0,a=t.length;r<a;r++)if(e[t[r].type].length){n=!1;break}return n?u.default.createElement("p",null,e.cmt_desc):u.default.createElement(u.default.Fragment,null,t.map(function(t,n){if(e[t.type].length)return u.default.createElement(u.default.Fragment,{key:n},u.default.createElement("h6",null,t.title),u.default.createElement("ul",null,e[t.type].map(function(e,t){return u.default.createElement("li",{key:t,dangerouslySetInnerHTML:{__html:e},className:"commit-detail-item"})})))}))},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.data,t=e.isLoading,n=e.errorMsg,r=e.commitDetails;return t?u.default.createElement(y.default,null):n?u.default.createElement("p",{className:"error mt-4 text-center"},n):this.renderDetails(r)}}]),t}(u.default.Component);w.propTypes=E,t.default=w},function(e,t){},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(2),m={currentItem:d.default.string.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navItems=[{name:"desktop",urlPart:"desktop-devices",text:(0,p.gettext)("Desktop")},{name:"mobile",urlPart:"mobile-devices",text:(0,p.gettext)("Mobile")}],p.isPro&&n.navItems.push({name:"errors",urlPart:"device-errors",text:(0,p.gettext)("Errors")}),n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.currentItem;return u.default.createElement("div",{className:"cur-view-path tab-nav-container"},u.default.createElement("ul",{className:"nav"},this.navItems.map(function(t,n){return u.default.createElement("li",{className:"nav-item",key:n},u.default.createElement(f.Link,{to:p.siteRoot+"sys/"+t.urlPart+"/",className:"nav-link"+(e==t.name?" active":"")},t.text))})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(6),f=n(1),p=r(f),m=n(3),h=n(4),g=n(2),v=n(5),b=r(v),y=n(476),E=r(y),w=n(2466),S=r(w),_=n(1329),x=r(_),O=n(2467),C=r(O),P=n(128),k=r(P),D=n(2468),M=r(D),T=n(2469),L=r(T),N=n(38),I=r(N),j=n(778),R=r(j),Y=n(1330),A=r(Y),F=n(1331),B=r(F),Z=window.sysadmin.pageOptions.availableRoles,H={isAdmin:p.default.bool,isLDAPImported:p.default.bool},X=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleImportUserDialog=function(){n.setState({isImportUserDialogOpen:!n.state.isImportUserDialogOpen})},n.toggleAddUserDialog=function(){n.setState({isAddUserDialogOpen:!n.state.isAddUserDialogOpen})},n.toggleBatchSetQuotaDialog=function(){n.setState({isBatchSetQuotaDialogOpen:!n.state.isBatchSetQuotaDialogOpen})},n.toggleBatchDeleteUserDialog=function(){n.setState({isBatchDeleteUserDialogOpen:!n.state.isBatchDeleteUserDialogOpen})},n.onUserSelected=function(e){var t=!1,r=[],a=n.state.userList.map(function(n){return n.email===e.email&&(n.isSelected=!n.isSelected),1==n.isSelected?(t=!0,r.push(n)):r=r.filter(function(e){return e.email!=n.email}),n});n.setState({userList:a,hasUserSelected:t,selectedUserList:r})},n.toggleSelectAllUsers=function(){if(n.state.isAllUsersSelected){var e=n.state.userList.map(function(e){return e.isSelected=!1,e});n.setState({userList:e,hasUserSelected:!1,isAllUsersSelected:!1,selectedUserList:[]})}else{var t=n.state.userList.map(function(e){return e.isSelected=!0,e});n.setState({userList:t,hasUserSelected:!0,isAllUsersSelected:!0,selectedUserList:t})}},n.getUserList=function(){h.seafileAPI.sysAdminListAdmins().then(function(e){var t=e.data.admin_user_list.map(function(e){return new L.default(e)});n.setState({userList:t,loading:!1})}).catch(function(e){n.setState({loading:!1,errorMsg:m.Utils.getErrorMsg(e,!0)})})},n.getUsersListByPage=function(e){var t=n.state,r=t.perPage,a=t.sortBy,o=t.sortOrder,i=n.props.isLDAPImported;h.seafileAPI.sysAdminListUsers(e,r,i,a,o).then(function(t){var a=t.data.data.map(function(e){return new M.default(e)});n.setState({userList:a,loading:!1,hasNextPage:m.Utils.hasNextPage(e,r,t.data.total_count),currentPage:e})}).catch(function(e){n.setState({loading:!1,errorMsg:m.Utils.getErrorMsg(e,!0)})})},n.sortByQuotaUsage=function(){n.setState({sortBy:"quota_usage",sortOrder:"asc"==n.state.sortOrder?"desc":"asc",currentPage:1},function(){var e=new URL(location.href),t=new URLSearchParams(e.search),r=n.state,a=r.currentPage,o=r.sortBy,i=r.sortOrder;t.set("page",a),t.set("order_by",o),t.set("direction",i),e.search=t.toString(),(0,c.navigate)(e.toString()),n.getUsersListByPage(a)})},n.deleteUser=function(e){h.seafileAPI.sysAdminDeleteUser(e).then(function(t){var r=n.state.userList.filter(function(t){return t.email!=e});n.setState({userList:r}),b.default.success((0,g.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=m.Utils.getErrorMsg(e);b.default.danger(t)})},n.setUserQuotaInBatch=function(e){var t=n.state.selectedUserList.map(function(e){return e.email});h.seafileAPI.sysAdminSetUserQuotaInBatch(t,e).then(function(e){var t=n.state.userList.map(function(t){return e.data.success.map(function(e){t.email==e.email&&(t.quota_total=e.quota_total)}),t});n.setState({userList:t})}).catch(function(e){var t=m.Utils.getErrorMsg(e);b.default.danger(t)})},n.deleteUserInBatch=function(){var e=n.state.selectedUserList.map(function(e){return e.email});h.seafileAPI.sysAdminDeleteUserInBatch(e).then(function(t){if(t.data.success.length){var r=n.state.userList,a=r.filter(function(e){return!t.data.success.some(function(t){return t.email==e.email})});n.setState({userList:a,hasUserSelected:e.length!=t.data.success.length});var o=t.data.success.length,i=1==o?(0,g.gettext)("Successfully deleted 1 user."):(0,g.gettext)("Successfully deleted {user_number_placeholder} users.").replace("{user_number_placeholder}",o);b.default.success(i)}t.data.failed.map(function(e){var t=e.email+": "+e.error_msg;b.default.danger(t)})}).catch(function(e){var t=m.Utils.getErrorMsg(e);b.default.danger(t)})},n.importUserInBatch=function(e){b.default.notify((0,g.gettext)("It may take some time, please wait.")),h.seafileAPI.sysAdminImportUserViaFile(e).then(function(e){if(e.data.success.length){var t=e.data.success.map(function(e){return void 0==e.institution&&(e.institution=""),new M.default(e)});n.setState({userList:t.concat(n.state.userList)})}e.data.failed.map(function(e){var t=e.email+": "+e.error_msg;b.default.danger(t)})}).catch(function(e){var t=m.Utils.getErrorMsg(e);b.default.danger(t)})},n.addUser=function(e){b.default.notify((0,g.gettext)("It may take some time, please wait."));var t=e.email,r=e.name,a=e.role,o=e.password;h.seafileAPI.sysAdminAddUser(t,r,a,o).then(function(e){var t=n.state.userList;t.unshift(e.data),n.setState({userList:t}),b.default.success(e.data.add_user_tip)}).catch(function(e){var t=m.Utils.getErrorMsg(e);b.default.danger(t)})},n.resetPerPage=function(e){n.setState({perPage:e},function(){n.getUsersListByPage(1)})},n.updateUser=function(e,t,r){h.seafileAPI.sysAdminUpdateUser(e,t,r).then(function(a){var o=n.state.userList.map(function(n){return n.email==e&&(n[t]=a.data[t]),n});n.setState({userList:o});var i="is_active"==t&&r?a.data.update_status_tip:(0,g.gettext)("Edit succeeded");b.default.success(i)}).catch(function(e){var t=m.Utils.getErrorMsg(e);b.default.danger(t)})},n.updateAdminRole=function(e,t){h.seafileAPI.sysAdminUpdateAdminRole(e,t).then(function(t){var r=n.state.userList.map(function(n){return n.email==e&&(n.admin_role=t.data.role),n});n.setState({userList:r}),b.default.success((0,g.gettext)("Edit succeeded"))}).catch(function(e){var t=m.Utils.getErrorMsg(e);b.default.danger(t)})},n.revokeAdmin=function(e,t){h.seafileAPI.sysAdminUpdateUser(e,"is_staff",!1).then(function(r){var a=n.state.userList.filter(function(t){return t.email!=e});n.setState({userList:a}),b.default.success((0,g.gettext)("Successfully revoked the admin permission of {placeholder}.").replace("{placeholder}",t))}).catch(function(e){var t=m.Utils.getErrorMsg(e);b.default.danger(t)})},n.getOperationsForAll=function(){var e=n.props,t=e.isAdmin,r=e.isLDAPImported;return t?u.default.createElement(d.Button,{className:"btn btn-secondary operation-item",onClick:n.toggleBatchAddAdminDialog},(0,g.gettext)("Add Admin")):r?u.default.createElement("a",{className:"btn btn-secondary operation-item",href:g.siteRoot+"sys/useradmin/export-excel/"},(0,g.gettext)("Export Excel")):u.default.createElement(s.Fragment,null,u.default.createElement(d.Button,{className:"btn btn-secondary operation-item",onClick:n.toggleImportUserDialog},(0,g.gettext)("Import Users")),u.default.createElement(d.Button,{className:"btn btn-secondary operation-item",onClick:n.toggleAddUserDialog},(0,g.gettext)("Add User")),u.default.createElement("a",{className:"btn btn-secondary operation-item",href:g.siteRoot+"sys/useradmin/export-excel/"},(0,g.gettext)("Export Excel")))},n.getCurrentNavItem=function(){var e=n.props,t=e.isAdmin,r=e.isLDAPImported,a="database";return t?a="admin":r&&(a="ldap-imported"),a},n.toggleBatchAddAdminDialog=function(){n.setState({isBatchAddAdminDialogOpen:!n.state.isBatchAddAdminDialogOpen})},n.addAdminInBatch=function(e){h.seafileAPI.sysAdminAddAdminInBatch(e).then(function(e){var t=e.data.success.map(function(e){return new L.default(e)});n.setState({userList:t.concat(n.state.userList)}),e.data.failed.map(function(e){var t=e.email+": "+e.error_msg;b.default.danger(t)})}).catch(function(e){var t=m.Utils.getErrorMsg(e);b.default.danger(t)})},n.getSearch=function(){return n.props.isAdmin?null:u.default.createElement(R.default,{placeholder:(0,g.gettext)("Search users"),submit:n.searchItems})},n.searchItems=function(e){(0,c.navigate)(g.siteRoot+"sys/search-users/?query="+encodeURIComponent(e))},n.state={loading:!0,errorMsg:"",userList:[],hasNextPage:!1,currentPage:1,perPage:25,hasUserSelected:!1,selectedUserList:[],isAllUsersSelected:!1,isImportUserDialogOpen:!1,isAddUserDialogOpen:!1,isBatchSetQuotaDialogOpen:!1,isBatchDeleteUserDialogOpen:!1,isBatchAddAdminDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.isAdmin)this.getUserList();else{var t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage,o=n.sortBy,i=void 0===o?"":o,l=n.sortOrder,s=void 0===l?"asc":l;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r),sortBy:t.get("order_by")||i,sortOrder:t.get("direction")||s},function(){e.getUsersListByPage(e.state.currentPage)})}}},{key:"render",value:function(){var e=this.props,t=e.isAdmin,n=e.isLDAPImported,r=this.state,a=r.hasUserSelected,o=r.isImportUserDialogOpen,i=r.isAddUserDialogOpen,l=r.isBatchDeleteUserDialogOpen,c=r.isBatchSetQuotaDialogOpen,f=r.isBatchAddAdminDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement(I.default,{search:this.getSearch()},a?u.default.createElement(s.Fragment,null,u.default.createElement(d.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleBatchSetQuotaDialog},(0,g.gettext)("Set Quota")),u.default.createElement(d.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleBatchDeleteUserDialog},(0,g.gettext)("Delete Users"))):this.getOperationsForAll()),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(A.default,{currentItem:this.getCurrentNavItem()}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(B.default,{isAdmin:t,isLDAPImported:n,loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.userList,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortByQuotaUsage:this.sortByQuotaUsage,currentPage:this.state.currentPage,hasNextPage:this.state.hasNextPage,curPerPage:this.state.perPage,resetPerPage:this.resetPerPage,getListByPage:this.getUsersListByPage,updateUser:this.updateUser,deleteUser:this.deleteUser,updateAdminRole:this.updateAdminRole,revokeAdmin:this.revokeAdmin,onUserSelected:this.onUserSelected,isAllUsersSelected:this.isAllUsersSelected,toggleSelectAllUsers:this.toggleSelectAllUsers})))),o&&u.default.createElement(S.default,{toggle:this.toggleImportUserDialog,importUserInBatch:this.importUserInBatch}),i&&u.default.createElement(x.default,{dialogTitle:(0,g.gettext)("Add User"),showRole:g.isPro,availableRoles:Z,addUser:this.addUser,toggleDialog:this.toggleAddUserDialog}),c&&u.default.createElement(E.default,{toggle:this.toggleBatchSetQuotaDialog,updateQuota:this.setUserQuotaInBatch}),l&&u.default.createElement(k.default,{title:(0,g.gettext)("Delete Users"),message:(0,g.gettext)("Are you sure you want to delete the selected user(s) ?"),executeOperation:this.deleteUserInBatch,confirmBtnText:(0,g.gettext)("Delete"),toggleDialog:this.toggleBatchDeleteUserDialog}),f&&u.default.createElement(C.default,{addAdminInBatch:this.addAdminInBatch,toggle:this.toggleBatchAddAdminDialog}))}}]),t}(s.Component);X.propTypes=H,t.default=X},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(62),m=r(p),h={isTextMode:d.default.bool.isRequired,isEditIconShow:d.default.bool.isRequired,roleOptions:d.default.array.isRequired,currentRole:d.default.string.isRequired,onRoleChanged:d.default.func.isRequired},g=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.translateRoles=function(e){switch(e){case"default":return(0,f.gettext)("Default");case"guest":return(0,f.gettext)("Guest");default:return e}},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(m.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.roleOptions,currentOption:this.props.currentRole,onOptionChanged:this.props.onRoleChanged,translateOption:this.translateRoles})}}]),t}(u.default.Component);g.propTypes=h,t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(2),m={currentItem:d.default.string.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navItems=[{name:"all",urlPart:"all-libraries",text:(0,p.gettext)("All")},{name:"system",urlPart:"system-library",text:(0,p.gettext)("System")},{name:"trash",urlPart:"trash-libraries",text:(0,p.gettext)("Trash")}],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.currentItem;return u.default.createElement("div",{className:"cur-view-path tab-nav-container"},u.default.createElement("ul",{className:"nav"},this.navItems.map(function(t,n){return u.default.createElement("li",{className:"nav-item",key:n},u.default.createElement(f.Link,{to:p.siteRoot+"sys/"+t.urlPart+"/",className:"nav-link"+(e==t.name?" active":"")},t.text))})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(2),m={currentItem:d.default.string.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navItems=[{name:"info",urlPart:"info",text:(0,p.gettext)("Info")},{name:"members",urlPart:"members",text:(0,p.gettext)("Members")},{name:"admins",urlPart:"admins",text:(0,p.gettext)("Admins")}],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.currentItem,n=e.institutionID,r=e.institutionName;return u.default.createElement("div",null,u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},u.default.createElement(f.Link,{to:p.siteRoot+"sys/institutions/"},(0,p.gettext)("Institutions"))," / ",r)),u.default.createElement("ul",{className:"nav border-bottom mx-4"},this.navItems.map(function(e,r){return u.default.createElement("li",{className:"nav-item mr-2",key:r},u.default.createElement(f.Link,{to:p.siteRoot+"sys/institutions/"+n+"/"+e.urlPart+"/",className:"nav-link "+(t==e.name?" active":"")},e.text))})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p={displayName:d.default.string.isRequired,helpTip:d.default.string,mainContent:d.default.object.isRequired,extraContent:d.default.object},m=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.helpTip,n=e.displayName,r=e.mainContent,a=e.extraContent;return u.default.createElement(s.Fragment,null,u.default.createElement(f.Row,{className:"my-4"},u.default.createElement(f.Col,{md:"3"},u.default.createElement(f.Label,{className:"web-setting-label"},n)),u.default.createElement(f.Col,{md:"5"},r,t&&u.default.createElement("p",{className:"small text-secondary mt-1"},t)),u.default.createElement(f.Col,{md:"4"},a)))}}]),t}(s.Component);m.propTypes=p,t.default=m},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(4),d=n(2),f=n(5),p=r(f),m=n(3),h=n(39),g=r(h),v=n(7),b=r(v),y=n(8),E=r(y),w=n(76),S=r(w),_=n(2462),x=r(_),O=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPageDevicesList=function(){n.props.getDevicesListByPage(n.props.pageInfo.current_page-1)},n.getNextPageDevicesList=function(){n.props.getDevicesListByPage(n.props.pageInfo.current_page+1)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,r=e.items,a=e.pageInfo,o=e.curPerPage;if(t)return u.default.createElement(E.default,null);if(n)return u.default.createElement("p",{className:"error text-center"},n);var i=u.default.createElement(g.default,null,u.default.createElement("h2",null,(0,d.gettext)("No connected devices"))),l=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"19%"},(0,d.gettext)("User")),u.default.createElement("th",{width:"19%"},(0,d.gettext)("Platform")," / ",(0,d.gettext)("Version")),u.default.createElement("th",{width:"19%"},(0,d.gettext)("Device Name")),u.default.createElement("th",{width:"19%"},(0,d.gettext)("IP")),u.default.createElement("th",{width:"19%"},(0,d.gettext)("Last Access")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(C,{key:t,item:e})}))),u.default.createElement(S.default,{gotoPreviousPage:this.getPreviousPageDevicesList,gotoNextPage:this.getNextPageDevicesList,currentPage:a.current_page,hasNextPage:a.has_next_page,curPerPage:o,resetPerPage:this.props.resetPerPage}));return r.length?l:i}}]),t}(s.Component),C=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.handleUnlink=function(e){e.preventDefault(),n.props.item.is_desktop_client?n.toggleUnlinkDeviceDialog():n.unlinkDevice(!0)},n.toggleUnlinkDeviceDialog=function(){n.setState({isUnlinkDeviceDialogOpen:!n.state.isUnlinkDeviceDialogOpen})},n.unlinkDevice=function(e){var t=n.props.item,r=t.platform,a=t.device_id,o=t.user;c.seafileAPI.sysAdminUnlinkDevice(r,a,o,e).then(function(e){n.setState({unlinked:!0});var t=(0,d.gettext)("Successfully unlinked the device.");p.default.success(t)}).catch(function(e){var t=m.Utils.getErrorMsg(e);p.default.danger(t)})},n.state={unlinked:!1,isOpIconShown:!1,isUnlinkDeviceDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.unlinked,r=t.isUnlinkDeviceDialogOpen,a=t.isOpIconShown;return n?null:u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut},u.default.createElement("td",null,e.user_name),u.default.createElement("td",null,e.platform," / ",e.client_version),u.default.createElement("td",null,e.device_name),u.default.createElement("td",null,e.last_login_ip),u.default.createElement("td",null,u.default.createElement("span",{title:(0,b.default)(e.last_accessed).format("llll")},(0,b.default)(e.last_accessed).fromNow())),u.default.createElement("td",null,d.isPro&&u.default.createElement("a",{href:"#",className:"sf2-icon-delete action-icon "+(a?"":"invisible"),title:(0,d.gettext)("Unlink"),onClick:this.handleUnlink}))),r&&u.default.createElement(x.default,{unlinkDevice:this.unlinkDevice,toggleDialog:this.toggleUnlinkDeviceDialog}))}}]),t}(s.Component),P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDevicesListByPage=function(e){var t=n.props.devicesPlatform,r=n.state.perPage;c.seafileAPI.sysAdminListDevices(t,e,r).then(function(e){n.setState({devicesData:e.data.devices,pageInfo:e.data.page_info,loading:!1})}).catch(function(e){n.setState({loading:!1,errorMsg:m.Utils.getErrorMsg(e,!0)})})},n.resetPerPage=function(e){n.setState({perPage:e},function(){n.getDevicesListByPage(1)})},n.state={loading:!0,errorMsg:"",devicesData:{},pageInfo:{},perPage:25},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=void 0===r?1:r,o=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||o),currentPage:parseInt(t.get("page")||a)},function(){e.getDevicesListByPage(e.state.currentPage)})}},{key:"render",value:function(){return u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(O,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.devicesData,getDevicesListByPage:this.getDevicesListByPage,curPerPage:this.state.perPage,resetPerPage:this.resetPerPage,pageInfo:this.state.pageInfo}))}}]),t}(s.Component);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(3),h=n(1053),g=r(h),v={toggleDialog:d.default.func.isRequired,addUser:d.default.func.isRequired},b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.checkSubmitBtnActive=function(){var e=n.state,t=e.email,r=e.password,a=e.passwordAgain,o=!0;o=!!(t.trim()&&r.trim()&&a.trim()),n.setState({isSubmitBtnActive:o})},n.toggle=function(){n.props.toggleDialog()},n.togglePasswordVisible=function(){n.setState({isPasswordVisible:!n.state.isPasswordVisible})},n.inputPassword=function(e){var t=e.target.value;n.setState({password:t,errorMsg:""},n.checkSubmitBtnActive)},n.inputPasswordAgain=function(e){var t=e.target.value;n.setState({passwordAgain:t,errorMsg:""},n.checkSubmitBtnActive)},n.generatePassword=function(){var e=m.Utils.generatePassword(8);n.setState({password:e,passwordAgain:e},n.checkSubmitBtnActive)},n.inputEmail=function(e){var t=e.target.value;n.setState({email:t},n.checkSubmitBtnActive)},n.inputName=function(e){var t=e.target.value;n.setState({name:t})},n.updateRole=function(e){n.setState({role:e})},n.handleSubmit=function(){var e=n.state,t=e.email,r=e.password,a=e.passwordAgain,o=e.name,i=e.role;if(r!=a)return void n.setState({errorMsg:(0,p.gettext)("Passwords do not match.")});var l={email:t.trim(),name:o.trim(),password:r.trim()};n.props.showRole&&(l.role=i),n.props.addUser(l),n.toggle()},n.state={errorMsg:"",isPasswordVisible:!1,password:"",passwordAgain:"",email:"",name:"",role:"default",isSubmitBtnActive:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.dialogTitle,n=e.showRole,r=this.state,a=r.errorMsg,o=r.isPasswordVisible,i=r.email,l=r.name,s=r.role,c=r.password,d=r.passwordAgain,m=r.isSubmitBtnActive;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},t||(0,p.gettext)("Add Member")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,{autoComplete:"off"},u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,null,(0,p.gettext)("Email")),u.default.createElement(f.Input,{value:i,onChange:this.inputEmail})),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,null,(0,p.gettext)("Name(optional)")),u.default.createElement(f.Input,{type:"text",value:l,onChange:this.inputName})),n&&u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,null,(0,p.gettext)("Role"),u.default.createElement("span",{className:"small text-secondary ml-1 fas fa-question-circle",title:(0,p.gettext)("You can also add a user as a guest, who will not be allowed to create libraries and groups.")})),u.default.createElement(g.default,{isTextMode:!1,isEditIconShow:!1,currentRole:s,roleOptions:this.props.availableRoles,onRoleChanged:this.updateRole})),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,null,(0,p.gettext)("Password")),u.default.createElement(f.InputGroup,null,u.default.createElement(f.Input,{autoComplete:"new-password",type:o?"text":"password",value:c||"",onChange:this.inputPassword}),u.default.createElement(f.InputGroupAddon,{addonType:"append"},u.default.createElement(f.Button,{className:"mt-0",onClick:this.togglePasswordVisible},u.default.createElement("i",{className:"link-operation-icon fas "+(this.state.isPasswordVisible?"fa-eye":"fa-eye-slash")})),u.default.createElement(f.Button,{className:"mt-0",onClick:this.generatePassword},u.default.createElement("i",{className:"link-operation-icon fas fa-magic"}))))),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,null,(0,p.gettext)("Password again")),u.default.createElement(f.Input,{type:o?"text":"password",value:d||"",onChange:this.inputPasswordAgain}))),a&&u.default.createElement(f.Alert,{color:"danger"},a)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit,disabled:!m},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);b.propTypes=v,t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(2),m={currentItem:d.default.string.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navItems=[{name:"database",urlPart:"users",text:(0,p.gettext)("Database")}],p.haveLDAP&&n.navItems.push({name:"ldap",urlPart:"users/ldap",text:(0,p.gettext)("LDAP")},{name:"ldap-imported",urlPart:"users/ldap-imported",text:(0,p.gettext)("LDAP(imported)")}),p.isDefaultAdmin&&n.navItems.push({name:"admin",urlPart:"users/admins",text:(0,p.gettext)("Admin")}),n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.currentItem;return u.default.createElement("div",{className:"cur-view-path tab-nav-container"},u.default.createElement("ul",{className:"nav"},this.navItems.map(function(t,n){return u.default.createElement("li",{className:"nav-item",key:n},u.default.createElement(f.Link,{to:p.siteRoot+"sys/"+t.urlPart+"/",className:"nav-link"+(e==t.name?" active":"")},t.text))})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(7),d=r(c),f=n(15),p=n(3),m=n(4),h=n(2),g=n(5),v=r(g),b=n(39),y=r(b),E=n(8),w=r(E),S=n(76),_=r(S),x=n(1332),O=r(x),C=n(1053),P=r(C),k=n(62),D=r(k),M=n(196),T=r(M),L=n(476),N=r(L),I=n(128),j=r(I),R=n(80),Y=r(R),A=window.sysadmin.pageOptions,F=A.availableRoles,B=A.availableAdminRoles,Z=A.institutions,H=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.getPreviousPage=function(){n.props.getListByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getListByPage(n.props.currentPage+1)},n.sortByQuotaUsage=function(e){e.preventDefault(),n.props.sortByQuotaUsage()},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isAdmin,r=t.loading,a=t.errorMsg,o=t.items,i=t.isAllUsersSelected,l=t.curPerPage,c=t.hasNextPage,d=t.currentPage,f=t.sortBy,p=t.sortOrder;if(r)return u.default.createElement(w.default,null);if(a)return u.default.createElement("p",{className:"error text-center mt-4"},a);var m=u.default.createElement(y.default,null,u.default.createElement("h2",null,(0,h.gettext)("No users"))),g=[],v=void 0;v=""==f?u.default.createElement("span",{className:"fas fa-sort"}):u.default.createElement("span",{className:"fas "+("asc"==p?"fa-caret-up":"fa-caret-down")});var b=(0,h.gettext)("Space Used"),E=void 0!=f?u.default.createElement("a",{className:"d-inline-block table-sort-op",href:"#",onClick:this.sortByQuotaUsage},b," ",v):b,S=u.default.createElement(s.Fragment,null,E," / "+(0,h.gettext)("Quota")),x=(0,h.gettext)("Name")+" / "+(0,h.gettext)("Contact Email"),O=(0,h.gettext)("Created At")+" / "+(0,h.gettext)("Last Login")+" / "+(0,h.gettext)("Last Access");h.isPro?g.push({width:"20%",text:x},{width:"15%",text:(0,h.gettext)("Status")},{width:"15%",text:(0,h.gettext)("Role")}):g.push({width:"30%",text:x},{width:"20%",text:(0,h.gettext)("Status")}),h.multiInstitution&&!n?g.push({width:"14%",text:S},{width:"14%",text:(0,h.gettext)("Institution")},{width:"14%",text:O},{width:"5%",text:""}):g.push({width:"20%",text:S},{width:"22%",text:O},{width:"5%",text:""});var C=u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"3%",className:"pl-2"},u.default.createElement("input",{type:"checkbox",className:"vam",onChange:this.props.toggleSelectAllUsers,checked:i})),g.map(function(e,t){return u.default.createElement("th",{width:e.width,key:t},e.text)}))),u.default.createElement("tbody",null,o.map(function(t,n){return u.default.createElement(X,{key:n,item:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,updateUser:e.props.updateUser,deleteUser:e.props.deleteUser,updateAdminRole:e.props.updateAdminRole,revokeAdmin:e.props.revokeAdmin,onUserSelected:e.props.onUserSelected,isAdmin:e.props.isAdmin,isLDAPImported:e.props.isLDAPImported})}))),!this.props.isAdmin&&!this.props.isSearchResult&&u.default.createElement(_.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:d,hasNextPage:c,curPerPage:l,resetPerPage:this.props.resetPerPage}));return o.length?C:m}}]),t}(s.Component),X=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseLeave=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.toggleSetQuotaDialog=function(){n.setState({isSetQuotaDialogOpen:!n.state.isSetQuotaDialogOpen})},n.toggleDeleteUserDialog=function(){n.setState({isDeleteUserDialogOpen:!n.state.isDeleteUserDialogOpen})},n.toggleResetUserPasswordDialog=function(){n.setState({isResetUserPasswordDialogOpen:!n.state.isResetUserPasswordDialogOpen})},n.toggleRevokeAdminDialog=function(){n.setState({isRevokeAdminDialogOpen:!n.state.isRevokeAdminDialogOpen})},n.onUserSelected=function(){n.props.onUserSelected(n.props.item)},n.updateStatus=function(e){var t="active"==e;t&&v.default.notify((0,h.gettext)("It may take some time, please wait.")),n.props.updateUser(n.props.item.email,"is_active",t)},n.updateRole=function(e){n.props.updateUser(n.props.item.email,"role",e)},n.updateAdminRole=function(e){n.props.updateAdminRole(n.props.item.email,e)},n.translateAdminRole=function(e){switch(e){case"default_admin":return(0,h.gettext)("Default Admin");case"system_admin":return(0,h.gettext)("System Admin");case"daily_admin":return(0,h.gettext)("Daily Admin");case"audit_admin":return(0,h.gettext)("Audit Admin");default:return e}},n.updateInstitution=function(e){n.props.updateUser(n.props.item.email,"institution",e)},n.translateInstitution=function(e){return e},n.updateQuota=function(e){n.props.updateUser(n.props.item.email,"quota_total",e)},n.deleteUser=function(){v.default.notify((0,h.gettext)("It may take some time, please wait.")),n.props.deleteUser(n.props.item.email)},n.resetPassword=function(){v.default.notify((0,h.gettext)("It may take some time, please wait.")),m.seafileAPI.sysAdminResetUserPassword(n.props.item.email).then(function(e){v.default.success(e.data.reset_tip)}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.revokeAdmin=function(){var e=n.props.item;n.props.revokeAdmin(e.email,e.name)},n.getMenuOperations=function(){var e=n.props,t=e.isAdmin,r=e.isLDAPImported,a=e.isSearchResult,o=e.item,i=["Delete"];return(!r||a&&"db"==o.source)&&i.push("Reset Password"),t&&(i=["Revoke Admin"]),i},n.translateOperations=function(e){var t="";switch(e){case"Delete":t=(0,h.gettext)("Delete");break;case"Reset Password":t=(0,h.gettext)("Reset Password");break;case"Revoke Admin":t=(0,h.gettext)("Revoke Admin")}return t},n.onMenuItemClick=function(e){switch(e){case"Delete":n.toggleDeleteUserDialog();break;case"Reset Password":n.toggleResetUserPasswordDialog();break;case"Revoke Admin":n.toggleRevokeAdminDialog()}},n.state={isOpIconShown:!1,highlight:!1,isSetQuotaDialogOpen:!1,isDeleteUserDialogOpen:!1,isResetUserPasswordDialogOpen:!1,isRevokeAdminDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.isAdmin,r=this.state,a=r.isOpIconShown,o=r.isSetQuotaDialogOpen,i=r.isDeleteUserDialogOpen,l=r.isResetUserPasswordDialogOpen,c=r.isRevokeAdminDialogOpen,m='<span class="op-target">'+p.Utils.HTMLescape(t.name)+"</span>",g=(0,h.gettext)("Are you sure you want to delete {placeholder} ?").replace("{placeholder}",m),v=(0,h.gettext)("Are you sure you want to reset the password of {placeholder} ?").replace("{placeholder}",m),b=(0,h.gettext)("Are you sure you want to revoke the admin permission of {placeholder} ?").replace("{placeholder}",m);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",{className:"pl-2"},u.default.createElement("input",{type:"checkbox",className:"vam",onChange:this.onUserSelected,checked:t.isSelected})),u.default.createElement("td",null,u.default.createElement(Y.default,{email:t.email,name:t.name}),t.contact_email&&u.default.createElement(s.Fragment,null,u.default.createElement("br",null),t.contact_email),t.org_id&&u.default.createElement(s.Fragment,null,u.default.createElement("br",null),u.default.createElement(f.Link,{to:h.siteRoot+"sys/organizations/"+t.org_id+"/info/"},"(",t.org_name,")"))),u.default.createElement("td",null,u.default.createElement(O.default,{isTextMode:!0,isEditIconShow:a,currentStatus:t.is_active?"active":"inactive",statusOptions:["active","inactive"],onStatusChanged:this.updateStatus})),h.isPro&&u.default.createElement("td",null,n?u.default.createElement(D.default,{isTextMode:!0,isEditIconShow:a,options:B,currentOption:t.admin_role,onOptionChanged:this.updateAdminRole,translateOption:this.translateAdminRole}):u.default.createElement(P.default,{isTextMode:!0,isEditIconShow:a,currentRole:t.role,roleOptions:F,onRoleChanged:this.updateRole})),u.default.createElement("td",null,p.Utils.bytesToSize(t.quota_usage)+" / "+(t.quota_total>0?p.Utils.bytesToSize(t.quota_total):"--"),u.default.createElement("span",{title:(0,h.gettext)("Edit"),className:"fa fa-pencil-alt attr-action-icon "+(a?"":"invisible"),onClick:this.toggleSetQuotaDialog})),h.multiInstitution&&!n&&u.default.createElement("td",null,u.default.createElement(D.default,{isTextMode:!0,isEditIconShow:a&&Z.length>0,options:Z,currentOption:t.institution,onOptionChanged:this.updateInstitution,translateOption:this.translateInstitution})),u.default.createElement("td",null,(t.create_time?(0,d.default)(t.create_time).format("YYYY-MM-DD HH:mm"):"--")+" /",u.default.createElement("br",null),""+(t.last_login?(0,d.default)(t.last_login).fromNow():"--"),u.default.createElement("br",null),""+(t.last_access_time?(0,d.default)(t.last_access_time).fromNow():"--")),u.default.createElement("td",null,t.email!=h.username&&a&&u.default.createElement(T.default,{operations:this.getMenuOperations(),translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),o&&u.default.createElement(N.default,{toggle:this.toggleSetQuotaDialog,updateQuota:this.updateQuota}),i&&u.default.createElement(j.default,{title:(0,h.gettext)("Delete User"),message:g,executeOperation:this.deleteUser,confirmBtnText:(0,h.gettext)("Delete"),toggleDialog:this.toggleDeleteUserDialog}),l&&u.default.createElement(j.default,{title:(0,h.gettext)("Reset Password"),message:v,executeOperation:this.resetPassword,confirmBtnText:(0,h.gettext)("Reset"),toggleDialog:this.toggleResetUserPasswordDialog}),c&&u.default.createElement(j.default,{title:(0,h.gettext)("Revoke Admin"),message:b,executeOperation:this.revokeAdmin,confirmBtnText:(0,h.gettext)("Revoke"),toggleDialog:this.toggleRevokeAdminDialog}))}}]),t}(s.Component);t.default=H},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(62),m=r(p),h={isTextMode:d.default.bool.isRequired,isEditIconShow:d.default.bool.isRequired,statusOptions:d.default.array.isRequired,currentStatus:d.default.string.isRequired,onStatusChanged:d.default.func.isRequired},g=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.translateStatus=function(e){switch(e){case"active":return(0,f.gettext)("Active");case"inactive":return(0,f.gettext)("Inactive")}},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(m.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.statusOptions,currentOption:this.props.currentStatus,onOptionChanged:this.props.onStatusChanged,translateOption:this.translateStatus})}}]),t}(u.default.Component);g.propTypes=h,t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(3),f=n(4),p=n(2),m=n(5),h=r(m),g=n(39),v=r(g),b=n(8),y=r(b),E=n(76),w=r(E),S=n(13),_=r(S),x=n(196),O=r(x),C=n(472),P=r(C),k=n(388),D=r(k),M=n(2482),T=r(M),L=n(2485),N=r(L),I=n(80),j=r(I),R=window.sysadmin.pageOptions.enableSysAdminViewRepo,Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.getPreviousPageList=function(){n.props.getListByPage(n.props.pageInfo.current_page-1)},n.getNextPageList=function(){n.props.getListByPage(n.props.pageInfo.current_page+1)},n.sortByFileCount=function(e){e.preventDefault(),n.props.sortItems("file_count")},n.sortBySize=function(e){e.preventDefault(),n.props.sortItems("size")},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items,o=t.pageInfo,i=t.curPerPage,l=t.sortBy;if(n)return u.default.createElement(y.default,null);if(r)return u.default.createElement("p",{className:"error text-center"},r);var c=u.default.createElement(v.default,null,u.default.createElement("h2",null,(0,p.gettext)("No libraries"))),d=u.default.createElement("span",{className:"fas fa-sort"}),f=u.default.createElement("span",{className:"fas fa-caret-down"}),m=u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"25%"},(0,p.gettext)("Name")),u.default.createElement("th",{width:"15%"},void 0!=l?u.default.createElement(s.Fragment,null,u.default.createElement("a",{className:"d-inline-block table-sort-op",href:"#",onClick:this.sortByFileCount},(0,p.gettext)("Files")," ","file_count"==l?f:d)," / ",u.default.createElement("a",{className:"d-inline-block table-sort-op",href:"#",onClick:this.sortBySize},(0,p.gettext)("Size")," ","size"==l?f:d)):(0,p.gettext)("Files")/(0,p.gettext)("Size")),u.default.createElement("th",{width:"32%"},"ID"),u.default.createElement("th",{width:"18%"},(0,p.gettext)("Owner")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(A,{key:n,repo:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,onDeleteRepo:e.props.onDeleteRepo,onTransferRepo:e.props.onTransferRepo})}))),o&&u.default.createElement(w.default,{gotoPreviousPage:this.getPreviousPageList,gotoNextPage:this.getNextPageList,currentPage:o.current_page,hasNextPage:o.has_next_page,curPerPage:i,resetPerPage:this.props.resetPerPage}));return a.length?m:c}}]),t}(s.Component),A=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDeleteRepo=function(e){f.seafileAPI.sysAdminDeleteRepo(e.id).then(function(t){n.props.onDeleteRepo(e),n.setState({isDeleteDialogOpen:!1,isRepoDeleted:!0});var r=(0,p.gettext)("Successfully deleted {name}.").replace("{name}",e.name);h.default.success(r)}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t),n.setState({isRepoDeleted:!1})})},n.onTransferRepo=function(e){f.seafileAPI.sysAdminTransferRepo(n.props.repo.id,e.email).then(function(e){n.props.onTransferRepo(e.data);var t=(0,p.gettext)("Successfully transferred the library.");h.default.success(t)}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)}),n.toggleTransferDialog()},n.handleMouseOver=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseOut=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.onMenuItemClick=function(e){switch(e){case"Share":n.toggleShareDialog();break;case"Delete":n.toggleDeleteDialog();break;case"Transfer":n.toggleTransferDialog();break;case"History Setting":n.toggleHistorySettingDialog()}},n.toggleShareDialog=function(){n.setState({isShareDialogOpen:!n.state.isShareDialogOpen})},n.toggleDeleteDialog=function(){n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen})},n.toggleTransferDialog=function(){n.setState({isTransferDialogOpen:!n.state.isTransferDialogOpen})},n.toggleHistorySettingDialog=function(){n.setState({isHistorySettingDialogOpen:!n.state.isHistorySettingDialogOpen})},n.renderRepoName=function(){var e=n.props.repo;return e.name?p.isPro&&R&&!e.encrypted?u.default.createElement(c.Link,{to:p.siteRoot+"sys/libraries/"+e.id+"/"},e.name):e.name:"--"},n.translateOperations=function(e){var t="";switch(e){case"Share":t=(0,p.gettext)("Share");break;case"Delete":t=(0,p.gettext)("Delete");break;case"Transfer":t=(0,p.gettext)("Transfer");break;case"History Setting":t=(0,p.gettext)("History Setting")}return t},n.getOperations=function(){var e=n.props.repo,t=["Delete","Transfer"];return e.encrypted||t.push("Share"),t.push("History Setting"),t},n.state={isOpIconShown:!1,highlight:!1,isShareDialogOpen:!1,isDeleteDialogOpen:!1,isTransferDialogOpen:!1,isHistorySettingDialogOpen:!1,isRepoDeleted:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.repo,t=this.state,n=t.isOpIconShown,r=t.isShareDialogOpen,a=t.isDeleteDialogOpen,o=t.isTransferDialogOpen,i=t.isHistorySettingDialogOpen,l=d.Utils.getLibIconUrl(e),f=d.Utils.getLibIconTitle(e),m=e.owner_email.indexOf("@seafile_group"),h=-1!=m,g=void 0;return h&&(g=e.owner_email.substring(0,m)),u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut},u.default.createElement("td",null,u.default.createElement("img",{src:l,title:f,alt:f,width:"24"})),u.default.createElement("td",null,this.renderRepoName()),u.default.createElement("td",null,e.file_count+" / "+d.Utils.bytesToSize(e.size)),u.default.createElement("td",null,e.id),u.default.createElement("td",null,h?u.default.createElement(c.Link,{to:p.siteRoot+"sys/departments/"+g+"/"},e.owner_name):u.default.createElement(j.default,{email:e.owner_email,name:e.owner_name})),u.default.createElement("td",null,!h&&n&&u.default.createElement(O.default,{operations:this.getOperations(),translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),r&&u.default.createElement(_.default,null,u.default.createElement(T.default,{itemName:e.name,itemPath:"/",repoID:e.id,isGroupOwnedRepo:h,repoEncrypted:e.encrypted,enableDirPrivateShare:!0,userPerm:e.permission,toggleDialog:this.toggleShareDialog})),a&&u.default.createElement(_.default,null,u.default.createElement(D.default,{repo:e,isRepoDeleted:this.state.isRepoDeleted,onDeleteRepo:this.onDeleteRepo,toggle:this.toggleDeleteDialog})),o&&u.default.createElement(_.default,null,u.default.createElement(P.default,{itemName:e.name,submit:this.onTransferRepo,canTransferToDept:!1,toggleDialog:this.toggleTransferDialog})),i&&u.default.createElement(_.default,null,u.default.createElement(N.default,{repoID:e.id,itemName:e.name,toggleDialog:this.toggleHistorySettingDialog})))}}]),t}(s.Component);t.default=Y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(7),f=r(d),p=n(3),m=n(2),h=n(8),g=r(h),v=n(39),b=r(v),y=n(76),E=r(y),w=n(196),S=r(w),_=n(128),x=r(_),O=n(2495),C=r(O),P=n(80),k=r(P),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.getPreviousPage=function(){n.props.getListByPage(n.props.pageInfo.current_page-1)},n.getNextPage=function(){n.props.getListByPage(n.props.pageInfo.current_page+1)},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items,o=t.pageInfo,i=t.curPerPage;if(n)return u.default.createElement(g.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var l=u.default.createElement(b.default,null,u.default.createElement("h2",null,(0,m.gettext)("No groups"))),c=u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"35%"},(0,m.gettext)("Name")),u.default.createElement("th",{width:"40%"},(0,m.gettext)("Owner")),u.default.createElement("th",{width:"20%"},(0,m.gettext)("Created At")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(M,{key:n,item:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteGroup:e.props.deleteGroup,transferGroup:e.props.transferGroup})}))),o&&u.default.createElement(E.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:o.current_page,hasNextPage:o.has_next_page,curPerPage:i,resetPerPage:this.props.resetPerPage}));return a.length?c:l}}]),t}(s.Component),M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseLeave=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.onMenuItemClick=function(e){switch(e){case"Delete":n.toggleDeleteDialog();break;case"Transfer":n.toggleTransferDialog()}},n.toggleDeleteDialog=function(e){e&&e.preventDefault(),n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen})},n.toggleTransferDialog=function(e){e&&e.preventDefault(),n.setState({isTransferDialogOpen:!n.state.isTransferDialogOpen})},n.deleteGroup=function(){n.props.deleteGroup(n.props.item.id)},n.transferGroup=function(e){n.props.transferGroup(n.props.item.id,e)},n.translateOperations=function(e){var t="";switch(e){case"Delete":t=(0,m.gettext)("Delete");break;case"Transfer":t=(0,m.gettext)("Transfer")}return t},n.state={isOpIconShown:!1,highlight:!1,isDeleteDialogOpen:!1,isTransferDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isOpIconShown,r=t.isDeleteDialogOpen,a=t.isTransferDialogOpen,o='<span class="op-target">'+p.Utils.HTMLescape(e.name)+"</span>",i=(0,m.gettext)("Are you sure you want to delete {placeholder} ?").replace("{placeholder}",o),l=0==e.parent_group_id?m.siteRoot+"sys/groups/"+e.id+"/libraries/":m.siteRoot+"sys/departments/"+e.id+"/";return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement(c.Link,{to:l},e.name)),u.default.createElement("td",null,"system admin"==e.owner?"--":u.default.createElement(k.default,{email:e.owner,name:e.owner_name})),u.default.createElement("td",null,u.default.createElement("span",{title:(0,f.default)(e.created_at).format("llll")},(0,f.default)(e.created_at).fromNow())),u.default.createElement("td",null,n&&"system admin"!=e.owner&&u.default.createElement(S.default,{operations:["Delete","Transfer"],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),r&&u.default.createElement(x.default,{title:(0,m.gettext)("Delete Group"),message:i,executeOperation:this.deleteGroup,confirmBtnText:(0,m.gettext)("Delete"),toggleDialog:this.toggleDeleteDialog}),a&&u.default.createElement(C.default,{groupName:e.name,transferGroup:this.transferGroup,toggleDialog:this.toggleTransferDialog}))}}]),t}(s.Component);t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(2),m={currentItem:d.default.string.isRequired,groupID:d.default.string.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navItems=[{name:"repos",urlPart:"groups/"+n.props.groupID+"/libraries",text:(0,p.gettext)("Libraries")},{name:"members",urlPart:"groups/"+n.props.groupID+"/members",text:(0,p.gettext)("Members")}],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.groupName,n=e.currentItem;return u.default.createElement("div",null,u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},u.default.createElement(f.Link,{to:p.siteRoot+"sys/groups/"},(0,p.gettext)("Groups"))," / ",t)),u.default.createElement("ul",{className:"nav border-bottom mx-4"},this.navItems.map(function(e,t){return u.default.createElement("li",{className:"nav-item mr-2",key:t},u.default.createElement(f.Link,{to:p.siteRoot+"sys/"+e.urlPart+"/",className:"nav-link "+(n==e.name?" active":"")},e.text))})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),h={groupID:d.default.string,parentGroupID:d.default.string,toggle:d.default.func.isRequired,onDepartChanged:d.default.func.isRequired},g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=function(){if(n.validateName()){var e=-1;n.props.parentGroupID&&(e=n.props.parentGroupID),m.seafileAPI.sysAdminAddNewDepartment(e,n.state.departName.trim()).then(function(e){n.props.toggle(),n.props.onDepartChanged()}).catch(function(e){var t=(0,p.gettext)(e.response.data.error_msg);n.setState({errMessage:t})})}},n.validateName=function(){var e="";return!!n.state.departName.trim().length||(e=(0,p.gettext)("Name is required"),n.setState({errMessage:e}),!1)},n.handleChange=function(e){n.setState({departName:e.target.value})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.handleSubmit(),e.preventDefault())},n.state={departName:"",errMessage:""},n.newInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.newInput.focus(),this.newInput.setSelectionRange(0,0)}},{key:"render",value:function(){var e=this,t=this.props.parentGroupID?(0,p.gettext)("New Sub-department"):(0,p.gettext)("New Department");return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},t),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"departName"},(0,p.gettext)("Name")),u.default.createElement(f.Input,{id:"departName",onKeyPress:this.handleKeyPress,value:this.state.departName,onChange:this.handleChange,innerRef:function(t){e.newInput=t}}))),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);g.propTypes=h,t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),h=n(3),g=n(5),v=r(g),b={groupName:d.default.string,groupID:d.default.number.isRequired,toggle:d.default.func.isRequired,onDepartChanged:d.default.func.isRequired},y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteDepart=function(){n.props.toggle(),m.seafileAPI.sysAdminDeleteDepartment(n.props.groupID).then(function(e){n.props.onDepartChanged()}).catch(function(e){var t=h.Utils.getErrorMsg(e);v.default.danger(t)})},n}return i(t,e),l(t,[{key:"render",value:function(){var e=(0,p.gettext)("Are you sure you want to delete {placeholder} ?");return e=e.replace("{placeholder}",'<span class="op-target">'+h.Utils.HTMLescape(this.props.groupName)+"</span>"),u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Delete Department")),u.default.createElement(f.ModalBody,null,u.default.createElement("p",{dangerouslySetInnerHTML:{__html:e}})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.deleteDepart},(0,p.gettext)("Delete"))))}}]),t}(u.default.Component);y.propTypes=b,t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),h=n(3),g=n(5),v=r(g),b={toggle:d.default.func.isRequired,groupID:d.default.number.isRequired,onDepartChanged:d.default.func.isRequired},y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setGroupQuota=function(){var e=/^[1-9]\d*$/im,t=n.state.quota;if(t.length&&e.test(t)||-2==t){n.setState({errMessage:""});var r=-2==n.state.quota?n.state.quota:1e6*n.state.quota;m.seafileAPI.sysAdminUpdateDepartmentQuota(n.props.groupID,r).then(function(e){n.props.toggle(),n.props.onDepartChanged()}).catch(function(e){var t=h.Utils.getErrorMsg(e);v.default.danger(t)})}else{var a=(0,p.gettext)("Quota is invalid.");n.setState({errMessage:a})}},n.handleChange=function(e){var t=e.target.value.trim();n.setState({quota:t})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.setGroupQuota(),e.preventDefault())},n.state={quota:"",errMessage:""},n.newInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.newInput.focus(),this.newInput.setSelectionRange(0,0)}},{key:"render",value:function(){var e=this;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Set Quota")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.InputGroup,null,u.default.createElement(f.Input,{onKeyPress:this.handleKeyPress,value:this.state.quota,onChange:this.handleChange,innerRef:function(t){e.newInput=t}}),u.default.createElement(f.InputGroupAddon,{addonType:"append"},"MB")),u.default.createElement("p",{className:"tip"},u.default.createElement("br",null),u.default.createElement("span",null,(0,p.gettext)("An integer that is greater than 0 or equal to -2.")),u.default.createElement("br",null),u.default.createElement("span",null,(0,p.gettext)("Tip: -2 means no limit."))),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.setGroupQuota},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);y.propTypes=b,t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(7),p=r(f),m=n(15),h=n(3),g=n(2),v={group:d.default.object.isRequired,showSetGroupQuotaDialog:d.default.func.isRequired,showDeleteDepartDialog:d.default.func.isRequired},b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({highlight:!0})},n.onMouseLeave=function(){n.setState({highlight:!1})},n.state={highlight:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.group,t=this.state.highlight,n=g.siteRoot+"sys/departments/"+e.id+"/";return u.default.createElement("tr",{className:t?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement(m.Link,{to:n},e.name)),u.default.createElement("td",null,(0,p.default)(e.created_at).fromNow()),u.default.createElement("td",{onClick:this.props.showSetGroupQuotaDialog.bind(this,e.id)},h.Utils.bytesToSize(e.quota)," ",u.default.createElement("span",{title:"Edit Quota",className:"fa fa-pencil-alt attr-action-icon "+(t?"":"vh")})),u.default.createElement("td",{className:"cursor-pointer text-center",onClick:this.props.showDeleteDepartDialog.bind(this,e)},u.default.createElement("span",{className:"sf2-icon-delete action-icon  "+(t?"":"vh"),title:"Delete"})))}}]),t}(u.default.Component);b.propTypes=v,t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(2),m={currentItem:d.default.string.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navItems=[{name:"shareLinks",urlPart:"share-links",text:(0,p.gettext)("Share Links")},{name:"uploadLinks",urlPart:"upload-links",text:(0,p.gettext)("Upload Links")}],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.currentItem;return u.default.createElement("div",{className:"cur-view-path tab-nav-container"},u.default.createElement("ul",{className:"nav"},this.navItems.map(function(t,n){return u.default.createElement("li",{className:"nav-item",key:n},u.default.createElement(f.Link,{to:p.siteRoot+"sys/"+t.urlPart+"/",className:"nav-link"+(e==t.name?" active":"")},t.text))})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(7),f=r(d),p=n(3),m=n(2),h=n(39),g=r(h),v=n(8),b=r(v),y=n(76),E=r(y),w=n(4),S=n(1053),_=r(S),x=n(128),O=r(x),C=n(80),P=r(C),k=n(5),D=r(k),M=window.sysadmin.pageOptions.availableRoles,T=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPage=function(){n.props.getListByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getListByPage(n.props.currentPage+1)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items;if(n)return u.default.createElement(b.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var o=u.default.createElement(g.default,null,u.default.createElement("h2",null,(0,m.gettext)("No organizations"))),i=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"20%"},(0,m.gettext)("Name")),u.default.createElement("th",{width:"20%"},(0,m.gettext)("Creator")),u.default.createElement("th",{width:"20%"},(0,m.gettext)("Role")),u.default.createElement("th",{width:"15%"},(0,m.gettext)("Space Used")),u.default.createElement("th",{width:"20%"},(0,m.gettext)("Created At")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(L,{key:n,item:t,updateRole:e.props.updateRole,deleteOrg:e.props.deleteOrg})}))),this.props.currentPage&&u.default.createElement(E.default,{currentPage:this.props.currentPage,hasNextPage:this.props.hasNextPage,curPerPage:this.props.curPerPage,resetPerPage:this.props.resetPerPage,gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage}));return a.length?i:o}}]),t}(s.Component),L=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.setState({isOpIconShown:!0})},n.handleMouseLeave=function(){n.setState({isOpIconShown:!1})},n.toggleDeleteDialog=function(e){e&&e.preventDefault(),n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen},function(){n.state.isDeleteDialogOpen&&w.seafileAPI.sysAdminGetOrg(n.props.item.org_id).then(function(e){var t='<span class="op-target">'+p.Utils.HTMLescape(e.data.org_name)+"</span>",r='<span class="op-target">'+p.Utils.HTMLescape(e.data.users_count)+"</span>",a='<span class="op-target">'+p.Utils.HTMLescape(e.data.repos_count)+"</span>",o=(0,m.gettext)("Are you sure you want to delete {placeholder} ?").replace("{placeholder}",t)+"<br/>"+(0,m.gettext)("{userCount} user(s) and {repoCount} libraries of this organization will also be deleted.").replace("{userCount}",r).replace("{repoCount}",a);n.setState({deleteDialogMsg:o})}).catch(function(e){var t=p.Utils.getErrorMsg(e);D.default.danger(t)})})},n.updateRole=function(e){n.props.updateRole(n.props.item.org_id,e)},n.deleteOrg=function(){D.default.notify((0,m.gettext)("It may take some time, please wait.")),n.props.deleteOrg(n.props.item.org_id)},n.state={isOpIconShown:!1,isDeleteDialogOpen:!1,deleteDialogMsg:""},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isOpIconShown,r=t.isDeleteDialogOpen,a=t.deleteDialogMsg;return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement(c.Link,{to:m.siteRoot+"sys/organizations/"+e.org_id+"/info/"},e.org_name)),u.default.createElement("td",null,u.default.createElement(P.default,{email:e.creator_email,name:e.creator_name})),u.default.createElement("td",null,u.default.createElement(_.default,{isTextMode:!0,isEditIconShow:n,currentRole:e.role,roleOptions:M,onRoleChanged:this.updateRole})),u.default.createElement("td",null,p.Utils.bytesToSize(e.quota_usage)+" / "+(e.quota>0?p.Utils.bytesToSize(e.quota):"--")),u.default.createElement("td",null,(0,f.default)(e.ctime).format("YYYY-MM-DD HH:mm:ss")),u.default.createElement("td",null,u.default.createElement("a",{href:"#",className:"action-icon sf2-icon-delete "+(n?"":"invisible"),title:(0,m.gettext)("Delete"),onClick:this.toggleDeleteDialog}))),r&&u.default.createElement(O.default,{title:(0,m.gettext)("Delete Organization"),message:a,executeOperation:this.deleteOrg,confirmBtnText:(0,m.gettext)("Delete"),toggleDialog:this.toggleDeleteDialog}))}}]),t}(s.Component);t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(2),m={currentItem:d.default.string.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navItems=[{name:"adminOperationLogs",urlPart:"admin-logs/operation",text:(0,p.gettext)("Admin Operation Logs")},{name:"adminLoginLogs",urlPart:"admin-logs/login",text:(0,p.gettext)("Admin Login Logs")}],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.currentItem;return u.default.createElement("div",{className:"cur-view-path tab-nav-container"},u.default.createElement("ul",{className:"nav"},this.navItems.map(function(t,n){return u.default.createElement("li",{className:"nav-item",key:n},u.default.createElement(f.Link,{to:p.siteRoot+"sys/"+t.urlPart+"/",className:"nav-link"+(e==t.name?" active":"")},t.text))})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(470),h=r(m),g=n(2536),v=r(g);n(2537);var b={isUpdate:d.default.bool,oldTermObj:d.default.object,addTerm:d.default.func,updateTerm:d.default.func,toggle:d.default.func.isRequired},y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleNameChange=function(e){n.setState({name:e.target.value.trim()})},n.handleVersionNumberChange=function(e){n.setState({versionNumber:e.target.value.trim()})},n.handleTextChange=function(e){n.setState({text:e.target.value.trim()})},n.setActive=function(){n.setState({isActive:!0})},n.setInActive=function(){n.setState({isActive:!1})},n.addTerm=function(){var e=n.state,t=e.name,r=e.versionNumber,a=e.text,o=e.isActive;return""===t?void n.setState({errMsg:(0,p.gettext)("Name is required.")}):""===r?void n.setState({errMsg:(0,p.gettext)("Version Number is required.")}):isNaN(r)?void n.setState({errMsg:(0,p.gettext)("Version Number must be a number.")}):""===a?void n.setState({errMsg:(0,p.gettext)("Text is required.")}):void(n.props.isUpdate?n.props.updateTerm(t,r,a,o):n.props.addTerm(t,r,a,o))},n.onContentClick=function(){n.setState({isConditionsEditorDialogShow:!n.state.isConditionsEditorDialogShow})},n.onCloseEditorDialog=function(){n.setState({isConditionsEditorDialogShow:!1})},n.onUpdateContent=function(e){n.setState({text:e})},n.state={name:"",versionNumber:"",text:"",isActive:!0,errorMsg:"",isConditionsEditorDialogShow:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.oldTermObj;e&&this.setState({name:e.name,versionNumber:e.version_number,text:e.text,isActive:!(""===e.activate_time)})}},{key:"render",value:function(){var e=this.props.isUpdate?(0,p.gettext)("Update Terms and Conditions"):(0,p.gettext)("Add Terms and Conditions");return u.default.createElement(s.Fragment,null,u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},e),u.default.createElement(f.ModalBody,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"name"},(0,p.gettext)("Name")),u.default.createElement(f.Input,{id:"name",value:this.state.name,onChange:this.handleNameChange})),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,null,(0,p.gettext)("Version Number")),u.default.createElement(f.Input,{value:this.state.versionNumber,onChange:this.handleVersionNumberChange})),u.default.createElement(f.FormGroup,{className:"form-content"},u.default.createElement(f.Label,null,(0,p.gettext)("Text")),u.default.createElement(h.default,{content:this.state.text,onContentClick:this.onContentClick})),u.default.createElement(f.FormGroup,{tag:"fieldset"},u.default.createElement(f.Label,null,(0,p.gettext)("Activated")),u.default.createElement(f.FormGroup,{check:!0},u.default.createElement(f.Label,{check:!0},u.default.createElement(f.Input,{type:"radio",checked:this.state.isActive,onChange:this.setActive})," ",(0,p.gettext)("On"))),u.default.createElement(f.FormGroup,{check:!0},u.default.createElement(f.Label,{check:!0},u.default.createElement(f.Input,{type:"radio",checked:!this.state.isActive,onChange:this.setInActive})," ",(0,p.gettext)("Off")))),this.state.errMsg&&u.default.createElement(f.Alert,{color:"danger"},this.state.errMsg)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.addTerm},(0,p.gettext)("Submit")))),this.state.isConditionsEditorDialogShow&&u.default.createElement(v.default,{content:this.state.text,onCommit:this.onUpdateContent,onCloseEditorDialog:this.onCloseEditorDialog}))}}]),t}(u.default.Component);y.propTypes=b,t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(41),p=r(f),m=n(6),h=n(2),g={index:d.default.number,department:d.default.object.isRequired,isChildrenShow:d.default.bool.isRequired,onChangeDepartment:d.default.func.isRequired,checkedDepartmentId:d.default.number.isRequired,importDepartmentDialogToggle:d.default.func.isRequired},v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleChildren=function(e){e.preventDefault(),e.stopPropagation(),n.setState({isChildrenShow:!n.state.isChildrenShow})},n.dropdownToggle=function(e){e.stopPropagation(),n.setState({dropdownOpen:!n.state.dropdownOpen})},n.onMouseEnter=function(){n.setState({active:!0})},n.onMouseLeave=function(){n.state.dropdownOpen||n.setState({active:!1})},n.importDepartmentDialogToggle=function(e){n.setState({active:!1}),n.props.importDepartmentDialogToggle(e)},n.renderTreeNodes=function(e){if(e.length>0)return e.map(function(e){return u.default.createElement(t,{key:e.id,department:e,isChildrenShow:n.state.isChildrenShow,onChangeDepartment:n.props.onChangeDepartment,checkedDepartmentId:n.props.checkedDepartmentId,importDepartmentDialogToggle:n.importDepartmentDialogToggle})})},n.changeDept=function(e){var t=n.props,r=t.department,a=t.checkedDepartmentId;n.props.onChangeDepartment(e),a!==r.id||n.state.isChildrenShow||n.setState({isChildrenShow:!0})},n.state={isChildrenShow:!1,dropdownOpen:!1,active:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){0===this.props.index&&(this.setState({isChildrenShow:!0}),this.props.onChangeDepartment(this.props.department.id))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isChildrenShow,r=t.department,a=t.checkedDepartmentId,o=(0,p.default)({"folder-toggle-icon fa fa-caret-down":r.children&&this.state.isChildrenShow,"folder-toggle-icon fa fa-caret-right":r.children&&!this.state.isChildrenShow}),i=(0,p.default)({"tree-node-inner":!0,"tree-node-inner-hover":this.state.active,"tree-node-hight-light":a===r.id});return u.default.createElement(s.Fragment,null,n&&u.default.createElement("div",{className:i,onClick:function(){return e.changeDept(r.id)},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("span",{className:"tree-node-icon",onClick:function(t){return e.toggleChildren(t)}},u.default.createElement("i",{className:o})),u.default.createElement("span",{className:"tree-node-text"},r.name),h.isPro&&u.default.createElement(m.Dropdown,{isOpen:this.state.dropdownOpen,toggle:function(t){return e.dropdownToggle(t)},direction:"down",style:this.state.active?{}:{opacity:0}},u.default.createElement(m.DropdownToggle,{tag:"i",className:"fa fa-ellipsis-v cursor-pointer attr-action-icon",title:(0,h.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.dropdownOpen}),u.default.createElement(m.DropdownMenu,{className:"drop-list",right:!0},u.default.createElement(m.DropdownItem,{onClick:this.importDepartmentDialogToggle.bind(this,r),id:r.id},"\u5bfc\u5165\u90e8\u95e8")))),this.state.isChildrenShow&&u.default.createElement("div",{className:"department-children"},r.children&&this.renderTreeNodes(r.children)))}}]),t}(s.Component);v.propTypes=g,t.default=v},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(41),p=r(f),m=n(6),h=n(2),g={index:d.default.number,department:d.default.object.isRequired,isChildrenShow:d.default.bool.isRequired,onChangeDepartment:d.default.func.isRequired,checkedDepartmentId:d.default.number.isRequired,importDepartmentDialogToggle:d.default.func.isRequired},v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleChildren=function(e){e.preventDefault(),e.stopPropagation(),n.setState({isChildrenShow:!n.state.isChildrenShow})},n.dropdownToggle=function(e){e.stopPropagation(),n.setState({dropdownOpen:!n.state.dropdownOpen})},n.onMouseEnter=function(){n.setState({active:!0})},n.onMouseLeave=function(){n.state.dropdownOpen||n.setState({active:!1})},n.importDepartmentDialogToggle=function(e){n.setState({active:!1}),n.props.importDepartmentDialogToggle(e)},n.renderTreeNodes=function(e){if(e.length>0)return e.map(function(e){return u.default.createElement(t,{key:e.id,department:e,isChildrenShow:n.state.isChildrenShow,onChangeDepartment:n.props.onChangeDepartment,checkedDepartmentId:n.props.checkedDepartmentId,importDepartmentDialogToggle:n.importDepartmentDialogToggle})})},n.changeDept=function(e){var t=n.props,r=t.department,a=t.checkedDepartmentId;n.props.onChangeDepartment(e),a!==r.id||n.state.isChildrenShow||n.setState({isChildrenShow:!0})},n.state={isChildrenShow:!1,dropdownOpen:!1,active:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){0===this.props.index&&(this.setState({isChildrenShow:!0}),this.props.onChangeDepartment(this.props.department.id))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isChildrenShow,r=t.department,a=t.checkedDepartmentId,o=(0,p.default)({"folder-toggle-icon fa fa-caret-down":r.children&&this.state.isChildrenShow,"folder-toggle-icon fa fa-caret-right":r.children&&!this.state.isChildrenShow}),i=(0,p.default)({"tree-node-inner":!0,"tree-node-inner-hover":this.state.active,"tree-node-hight-light":a===r.id});return u.default.createElement(s.Fragment,null,n&&u.default.createElement("div",{className:i,onClick:function(){return e.changeDept(r.id)},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("span",{className:"tree-node-icon",onClick:function(t){return e.toggleChildren(t)}},u.default.createElement("i",{className:o})),u.default.createElement("span",{className:"tree-node-text"},r.name),h.isPro&&u.default.createElement(m.Dropdown,{isOpen:this.state.dropdownOpen,toggle:function(t){return e.dropdownToggle(t)},direction:"down",style:this.state.active?{}:{opacity:0}},u.default.createElement(m.DropdownToggle,{tag:"i",className:"fa fa-ellipsis-v cursor-pointer attr-action-icon",title:(0,h.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.dropdownOpen}),u.default.createElement(m.DropdownMenu,{className:"drop-list",right:!0},u.default.createElement(m.DropdownItem,{onClick:this.importDepartmentDialogToggle.bind(this,r),id:r.id},"\u5bfc\u5165\u90e8\u95e8")))),this.state.isChildrenShow&&u.default.createElement("div",{className:"department-children"},r.children&&this.renderTreeNodes(r.children)))}}]),t}(s.Component);v.propTypes=g,t.default=v},function(e,t,n){function r(e){return e===e&&!a(e)}var a=n(253);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p={type:d.default.string.isRequired,sortBy:d.default.string.isRequired,sortOrder:d.default.string.isRequired,sortItems:d.default.func.isRequired,children:d.default.oneOfType([d.default.bool,d.default.array])},m=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.sortBy,r=e.sortOrder,a="asc"==r?u.default.createElement("span",{className:"fas fa-caret-up"}):u.default.createElement("span",{className:"fas fa-caret-down"});return u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"16%"},"user"==t?(0,f.gettext)("User"):(0,f.gettext)("Organization")),u.default.createElement("th",{width:"11%"},u.default.createElement("div",{className:"d-block table-sort-op cursor-pointer",onClick:this.props.sortItems.bind(this,"sync_file_upload")},(0,f.gettext)("Sync Upload")," ","sync_file_upload"===n&&a)),u.default.createElement("th",{width:"14%"},u.default.createElement("div",{className:"d-block table-sort-op cursor-pointer",onClick:this.props.sortItems.bind(this,"sync_file_download")},(0,f.gettext)("Sync Download")," ","sync_file_download"===n&&a)),u.default.createElement("th",{width:"11%"},u.default.createElement("div",{className:"d-block table-sort-op cursor-pointer",onClick:this.props.sortItems.bind(this,"web_file_upload")},(0,f.gettext)("Web Upload")," ","web_file_upload"===n&&a)),u.default.createElement("th",{width:"14%"},u.default.createElement("div",{className:"d-block table-sort-op cursor-pointer",onClick:this.props.sortItems.bind(this,"web_file_download")},(0,f.gettext)("Web Download")," ","web_file_download"===n&&a)),u.default.createElement("th",{width:"17%"},u.default.createElement("div",{className:"d-block table-sort-op cursor-pointer",onClick:this.props.sortItems.bind(this,"link_file_upload")},(0,f.gettext)("Share link upload")," ","link_file_upload"===n&&a)),u.default.createElement("th",{width:"17%"},u.default.createElement("div",{className:"d-block table-sort-op cursor-pointer",onClick:this.props.sortItems.bind(this,"link_file_download")},(0,f.gettext)("Share link download")," ","link_file_download"===n&&a)))),u.default.createElement("tbody",null,this.props.children))}}]),t}(u.default.Component);m.propTypes=p,t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(3),p=n(2),m={type:d.default.string.isRequired,userTrafficItem:d.default.object.isRequired},h=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.trafficName=function(){var e=r.props,t=e.userTrafficItem;switch(e.type){case"user":return t.name?u.default.createElement("a",{href:p.siteRoot+"useradmin/info/"+t.email+"/"},t.name):u.default.createElement("span",null,"--");case"org":return u.default.createElement("span",null,t.org_name)}},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.userTrafficItem,t=f.Utils.bytesToSize(e.sync_file_upload),n=f.Utils.bytesToSize(e.sync_file_download),r=f.Utils.bytesToSize(e.web_file_upload),a=f.Utils.bytesToSize(e.web_file_download),o=f.Utils.bytesToSize(e.link_file_upload),i=f.Utils.bytesToSize(e.link_file_download);return u.default.createElement("tr",null,u.default.createElement("td",null,this.trafficName()),u.default.createElement("td",null,t),u.default.createElement("td",null,n),u.default.createElement("td",null,r),u.default.createElement("td",null,a),u.default.createElement("td",null,o),u.default.createElement("td",null,i))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(20),e.exports=n(2456)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(10),d=r(c),f=n(15),p=n(2),m=n(2457),h=r(m),g=n(2458),v=r(g),b=n(2459),y=r(b),E=n(2461),w=r(E),S=n(2463),_=r(S),x=n(2464),O=r(x),C=n(2465),P=r(C),k=n(1052),D=r(k),M=n(2470),T=r(M),L=n(2471),N=r(L),I=n(2472),j=r(I),R=n(2473),Y=r(R),A=n(2474),F=r(A),B=n(2476),Z=r(B),H=n(2477),X=r(H),J=n(2478),U=r(J),Q=n(2479),W=r(Q),G=n(2480),z=r(G),K=n(2486),V=r(K),q=n(2487),$=r(q),ee=n(2488),te=r(ee),ne=n(2489),re=r(ne),ae=n(2493),oe=r(ae),ie=n(2496),le=r(ie),se=n(2497),ue=r(se),ce=n(2498),de=r(ce),fe=n(2501),pe=r(fe),me=n(2502),he=r(me),ge=n(2503),ve=r(ge),be=n(2510),ye=r(be),Ee=n(2511),we=r(Ee),Se=n(2512),_e=r(Se),xe=n(2514),Oe=r(xe),Ce=n(2515),Pe=r(Ce),ke=n(2518),De=r(ke),Me=n(2519),Te=r(Me),Le=n(2520),Ne=r(Le),Ie=n(2521),je=r(Ie),Re=n(2523),Ye=r(Re),Ae=n(2524),Fe=r(Ae),Be=n(2526),Ze=r(Be),He=n(2527),Xe=r(He),Je=n(2528),Ue=r(Je),Qe=n(2531),We=r(Qe),Ge=n(2532),ze=r(Ge),Ke=n(2533),Ve=r(Ke),qe=n(2534),$e=r(qe),et=n(2535),tt=r(et),nt=n(2542),rt=r(nt),at=n(2548),ot=r(at),it=n(2550),lt=r(it),st=n(2551),ut=r(st),ct=n(2552),dt=r(ct),ft=n(2557),pt=r(ft),mt=n(2563),ht=r(mt),gt=n(2564),vt=r(gt),bt=n(2587),yt=r(bt),Et=n(2588),wt=r(Et),St=n(2591),_t=r(St),xt=n(2592),Ot=r(xt);n(155),n(156),n(157),n(159),n(79);var Ct=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getCurrentTabForPageList=function(e){for(var t=void 0,n=void 0,r=p.siteRoot+"sys/",a=0,o=e.length;a<o;a++){t=e[a].urlPartList,n=e[a].tab;for(var i=0,l=t.length;i<l;i++)if(-1!=location.href.indexOf(""+r+t[i]))return n}},n.onCloseSidePanel=function(){n.setState({isSidePanelClosed:!n.state.isSidePanelClosed})},n.tabItemClick=function(e){n.setState({currentTab:e})},n.state={isSidePanelClosed:!1,currentTab:"file-scan"},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/"),t=e[e.length-2],n=[{tab:"devices",urlPartList:["desktop-devices","mobile-devices","device-errors"]},{tab:"libraries",urlPartList:["all-libraries","search-libraries","system-library","trash-libraries","libraries/"]},{tab:"statistic",urlPartList:["statistics/file","statistics/storage","statistics/user","statistics/traffic","statistics/reports"]},{tab:"users",urlPartList:["users/","search-users/"]},{tab:"groups",urlPartList:["groups/","search-groups/"]},{tab:"organizations",urlPartList:["organizations/","search-organizations/"]},{tab:"links",urlPartList:["share-links/","upload-links/"]},{tab:"institutions",urlPartList:["institutions/"]},{tab:"termsandconditions",urlPartList:["terms-and-conditions/"]},{tab:"departments",urlPartList:["departments/"]},{tab:"logs",urlPartList:["logs/"]},{tab:"adminLogs",urlPartList:["admin-logs/"]}],r=this.getCurrentTabForPageList(n);t=r||t,this.setState({currentTab:t})}},{key:"render",value:function(){var e=this.state,t=e.currentTab,n=e.isSidePanelClosed;return u.default.createElement("div",{id:"main"},u.default.createElement(h.default,{isSidePanelClosed:n,onCloseSidePanel:this.onCloseSidePanel,currentTab:t,tabItemClick:this.tabItemClick}),u.default.createElement(v.default,null,u.default.createElement(f.Router,{className:"reach-router"},u.default.createElement(y.default,{path:p.siteRoot+"sys/info"}),u.default.createElement(vt.default,{path:p.siteRoot+"sys/statistics/file"}),u.default.createElement(yt.default,{path:p.siteRoot+"sys/statistics/storage"}),u.default.createElement(_t.default,{path:p.siteRoot+"sys/statistics/user"}),u.default.createElement(wt.default,{path:p.siteRoot+"sys/statistics/traffic"}),u.default.createElement(Ot.default,{path:p.siteRoot+"sys/statistics/reports"}),u.default.createElement(w.default,{path:p.siteRoot+"sys/desktop-devices"}),u.default.createElement(_.default,{path:p.siteRoot+"sys/mobile-devices"}),u.default.createElement(O.default,{path:p.siteRoot+"sys/device-errors"}),u.default.createElement(z.default,{path:p.siteRoot+"sys/all-libraries"}),u.default.createElement(V.default,{path:p.siteRoot+"sys/system-library"}),u.default.createElement($.default,{path:p.siteRoot+"sys/trash-libraries"}),u.default.createElement(te.default,{path:p.siteRoot+"sys/search-libraries"}),u.default.createElement(re.default,{path:p.siteRoot+"sys/libraries/:repoID/*"}),u.default.createElement(rt.default,{path:p.siteRoot+"sys/web-settings"}),u.default.createElement(ot.default,{path:p.siteRoot+"sys/notifications"}),u.default.createElement(oe.default,{path:p.siteRoot+"sys/groups"}),u.default.createElement(le.default,{path:p.siteRoot+"sys/search-groups"}),u.default.createElement(ue.default,{path:p.siteRoot+"sys/groups/:groupID/libraries"}),u.default.createElement(de.default,{path:p.siteRoot+"sys/groups/:groupID/members"}),u.default.createElement(pe.default,{path:p.siteRoot+"sys/departments"},u.default.createElement(he.default,{path:"/"}),u.default.createElement(ve.default,{path:"/:groupID"})),u.default.createElement(ye.default,{path:p.siteRoot+"sys/share-links"}),u.default.createElement(we.default,{path:p.siteRoot+"sys/upload-links"}),u.default.createElement(_e.default,{path:p.siteRoot+"sys/organizations"}),u.default.createElement(Oe.default,{path:p.siteRoot+"sys/search-organizations"}),u.default.createElement(Pe.default,{path:p.siteRoot+"sys/organizations/:orgID/info"}),u.default.createElement(De.default,{path:p.siteRoot+"sys/organizations/:orgID/users"}),u.default.createElement(Te.default,{path:p.siteRoot+"sys/organizations/:orgID/groups"}),u.default.createElement(Ne.default,{path:p.siteRoot+"sys/organizations/:orgID/libraries"}),u.default.createElement(je.default,{path:p.siteRoot+"sys/institutions"}),u.default.createElement(Ye.default,{path:p.siteRoot+"sys/institutions/:institutionID/info"}),u.default.createElement(Fe.default,{path:p.siteRoot+"sys/institutions/:institutionID/members"}),u.default.createElement(Ze.default,{path:p.siteRoot+"sys/institutions/:institutionID/admins"}),u.default.createElement(Xe.default,{path:p.siteRoot+"sys/logs/login"}),u.default.createElement(Ue.default,{path:p.siteRoot+"sys/logs/file-access"}),u.default.createElement(We.default,{path:p.siteRoot+"sys/logs/file-update"}),u.default.createElement(ze.default,{path:p.siteRoot+"sys/logs/share-permission"}),u.default.createElement(Ve.default,{path:p.siteRoot+"sys/admin-logs/operation"}),u.default.createElement($e.default,{path:p.siteRoot+"sys/admin-logs/login"}),u.default.createElement(D.default,{path:p.siteRoot+"sys/users"}),u.default.createElement(T.default,{path:p.siteRoot+"sys/users/admins"}),u.default.createElement(N.default,{path:p.siteRoot+"sys/users/ldap-imported"}),u.default.createElement(j.default,{path:p.siteRoot+"sys/users/ldap"}),u.default.createElement(Y.default,{path:p.siteRoot+"sys/search-users"}),u.default.createElement(F.default,{path:p.siteRoot+"sys/users/:email"}),u.default.createElement(Z.default,{path:p.siteRoot+"sys/users/:email/owned-libraries"}),u.default.createElement(X.default,{path:p.siteRoot+"sys/users/:email/shared-libraries"}),u.default.createElement(U.default,{path:p.siteRoot+"sys/users/:email/shared-links"}),u.default.createElement(W.default,{path:p.siteRoot+"sys/users/:email/groups"}),u.default.createElement(ht.default,{path:p.siteRoot+"sys/invitations"}),u.default.createElement(tt.default,{path:p.siteRoot+"sys/terms-and-conditions/"}),u.default.createElement(lt.default,{path:p.siteRoot+"sys/file-scan-records",currentTab:t,tabItemClick:this.tabItemClick}),u.default.createElement(ut.default,{path:p.siteRoot+"sys/virus-scan-records",currentTab:t,tabItemClick:this.tabItemClick}),u.default.createElement(dt.default,{path:p.siteRoot+"sys/work-weixin",currentTab:t,tabItemClick:this.tabItemClick}),u.default.createElement(pt.default,{path:p.siteRoot+"sys/dingtalk",currentTab:t,tabItemClick:this.tabItemClick}),u.default.createElement(P.default,{path:p.siteRoot+"sys/abuse-reports"}))))}}]),t}(u.default.Component);d.default.render(u.default.createElement(Ct,null),document.getElementById("wrapper"))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(158),m=r(p),h=n(2),g={isSidePanelClosed:d.default.bool.isRequired,onCloseSidePanel:d.default.func.isRequired,currentTab:d.default.string.isRequired,tabItemClick:d.default.func.isRequired},v=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.getActiveClass=function(e){return r.props.currentTab==e?"active":""},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"side-panel "+(this.props.isSidePanelClosed?"":"left-zero")},u.default.createElement("div",{className:"side-panel-north"},u.default.createElement(m.default,{onCloseSidePanel:this.props.onCloseSidePanel})),u.default.createElement("div",{className:"side-panel-center"},u.default.createElement("div",{className:"side-nav"},u.default.createElement("div",{className:"side-nav-con"},u.default.createElement("h3",{className:"sf-heading"},(0,h.gettext)("System Admin")),u.default.createElement("ul",{className:"nav nav-pills flex-column nav-container"},h.canViewSystemInfo&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("info"),to:h.siteRoot+"sys/info/",onClick:function(){return e.props.tabItemClick("info")}},u.default.createElement("span",{className:"sf2-icon-info","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Info")))),h.isPro&&h.canViewStatistic&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("statistic"),to:h.siteRoot+"sys/statistics/file/",onClick:function(){return e.props.tabItemClick("statistic")}},u.default.createElement("span",{className:"sf2-icon-histogram","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Statistic")))),h.otherPermission&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("devices"),to:h.siteRoot+"sys/desktop-devices/",onClick:function(){return e.props.tabItemClick("devices")}},u.default.createElement("span",{className:"sf2-icon-monitor","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Devices")))),h.constanceEnabled&&h.canConfigSystem&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("web-settings"),to:h.siteRoot+"sys/web-settings/",onClick:function(){return e.props.tabItemClick("web-settings")}},u.default.createElement("span",{className:"sf2-icon-cog2","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Settings")))),h.canManageLibrary&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("libraries"),to:h.siteRoot+"sys/all-libraries/",onClick:function(){return e.props.tabItemClick("libraries")}},u.default.createElement("span",{className:"sf2-icon-library","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Libraries")))),h.canManageUser&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("users"),to:h.siteRoot+"sys/users/",onClick:function(){return e.props.tabItemClick("users")}},u.default.createElement("span",{className:"sf2-icon-user","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Users")))),h.canManageGroup&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("groups"),to:h.siteRoot+"sys/groups/",onClick:function(){return e.props.tabItemClick("groups")}},u.default.createElement("span",{className:"sf2-icon-group","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Groups")))),h.isPro&&h.canManageGroup&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("departments"),to:h.siteRoot+"sys/departments/",onClick:function(){return e.props.tabItemClick("departments")}},u.default.createElement("span",{className:"sf2-icon-organization","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Departments")))),h.multiTenancy&&h.otherPermission&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("organizations"),to:h.siteRoot+"sys/organizations/",onClick:function(){return e.props.tabItemClick("organizations")}},u.default.createElement("span",{className:"sf2-icon-organization","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Organizations")))),h.multiInstitution&&h.otherPermission&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("institutions"),to:h.siteRoot+"sys/institutions/",onClick:function(){return e.props.tabItemClick("institutions")}},u.default.createElement("span",{className:"sf2-icon-organization","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Institutions")))),h.otherPermission&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("notifications"),to:h.siteRoot+"sys/notifications/",onClick:function(){return e.props.tabItemClick("notifications")}},u.default.createElement("span",{className:"sf2-icon-msgs","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Notifications")))),h.otherPermission&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("links"),to:h.siteRoot+"sys/share-links/",onClick:function(){return e.props.tabItemClick("links")}},u.default.createElement("span",{className:"sf2-icon-link","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Links")))),h.sysadminExtraEnabled&&h.canViewUserLog&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("logs"),to:h.siteRoot+"sys/logs/login",onClick:function(){return e.props.tabItemClick("logs")}},u.default.createElement("span",{className:"sf2-icon-clock","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Logs")))),h.isPro&&h.otherPermission&&h.enableFileScan&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("file-scan-records"),to:h.siteRoot+"sys/file-scan-records/",onClick:function(){return e.props.tabItemClick("file-scan-records")}},u.default.createElement("span",{className:"sf2-icon-security","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("File Scan")))),h.isPro&&h.otherPermission&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("virus-scan-records"),to:h.siteRoot+"sys/virus-scan-records/",onClick:function(){return e.props.tabItemClick("virus-scan-records")}},u.default.createElement("span",{className:"sf2-icon-security","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Virus Scan")))),h.isPro&&h.enableGuestInvitation&&h.otherPermission&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("invitations"),to:h.siteRoot+"sys/invitations/",onClick:function(){return e.props.tabItemClick("invitations")}},u.default.createElement("span",{className:"sf2-icon-invite","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Invitations")))),h.otherPermission&&h.enableTermsAndConditions&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("termsandconditions"),to:h.siteRoot+"sys/terms-and-conditions/",onClick:function(){return e.props.tabItemClick("termsandconditions")}},u.default.createElement("span",{className:"sf2-icon-wiki","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Terms and Conditions")))),h.isPro&&h.canViewAdminLog&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("adminLogs"),to:h.siteRoot+"sys/admin-logs/operation",onClick:function(){return e.props.tabItemClick("adminLogs")}},u.default.createElement("span",{className:"sf2-icon-admin-log","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Admin Logs")))),h.otherPermission&&h.enableWorkWeixin&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("work-weixin"),to:h.siteRoot+"sys/work-weixin/",onClick:function(){return e.props.tabItemClick("work-weixin")}},u.default.createElement("span",{className:"sf3-font-enterprise-wechat sf3-font","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},"\u4f01\u4e1a\u5fae\u4fe1\u96c6\u6210"))),h.otherPermission&&h.enableDingtalk&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("dingtalk"),to:h.siteRoot+"sys/dingtalk/",onClick:function(){return e.props.tabItemClick("dingtalk")}},u.default.createElement("span",{className:"sf3-font-dingtalk sf3-font","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},"\u9489\u9489\u96c6\u6210"))),h.otherPermission&&h.enableShareLinkReportAbuse&&u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("abuse-reports"),to:h.siteRoot+"sys/abuse-reports/",onClick:function(){return e.props.tabItemClick("abuse-reports")}},u.default.createElement("span",{className:"sf2-icon-monitor","aria-hidden":"true"}),u.default.createElement("span",{className:"nav-text"},(0,h.gettext)("Abuse Reports")))))))))}}]),t}(u.default.Component);v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f={children:d.default.object.isRequired},p=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"main-panel o-hidden"},this.props.children)}}]),t}(s.Component);p.propTypes=f,t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(4),f=n(2),p=n(5),m=r(p),h=n(3),g=n(8),v=r(g),b=n(38),y=r(b);n(2460);var E=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.uploadLicenseFile=function(e){if(n.fileInput.current.files.length){var t=n.fileInput.current.files[0];d.seafileAPI.sysAdminUploadLicense(t).then(function(e){var t=n.state.sysInfo;Object.assign(t,e.data,{with_license:!0}),n.setState({sysInfo:t})}).catch(function(e){var t=h.Utils.getErrorMsg(e);m.default.danger(t)})}},n.openFileInput=function(){n.fileInput.current.click()},n.renderLicenseDescString=function(e,t,n){return"life-time"==e?"zh-cn"==window.app.config.lang?"\u6c38\u4e45\u6388\u6743\u7ed9 "+t+"\uff0c\u6280\u672f\u652f\u6301\u670d\u52a1\u81f3 "+n+" \u5230\u671f":(0,f.gettext)("licensed to {placeholder_license_to}, upgrade service expired in {placeholder_license_expiration}").replace("{placeholder_license_to}",t).replace("{placeholder_license_expiration}",n):(0,f.gettext)("licensed to {placeholder_license_to}, expires on {placeholder_license_expiration}").replace("{placeholder_license_to}",t).replace("{placeholder_license_expiration}",n)},n.fileInput=u.default.createRef(),n.state={loading:!0,errorMsg:"",sysInfo:{}},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;d.seafileAPI.sysAdminGetSysInfo().then(function(t){e.setState({loading:!1,sysInfo:t.data})}).catch(function(t){e.setState({loading:!1,errorMsg:h.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){var e=this.state.sysInfo,t=e.license_mode,n=e.license_to,r=e.license_expiration,a=e.org_count,o=e.repos_count,i=e.total_files_count,l=e.total_storage,d=e.total_devices_count,p=e.current_connected_devices_count,m=e.license_maxusers,g=e.multi_tenancy_enabled,b=e.active_users_count,E=e.users_count,w=e.groups_count,S=e.with_license,_=this.state,x=_.loading,O=_.errorMsg;return u.default.createElement(s.Fragment,null,u.default.createElement(y.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container system-admin-info"},u.default.createElement("h2",{className:"heading"},(0,f.gettext)("Info")),u.default.createElement("div",{className:"content"},x&&u.default.createElement(v.default,null),O&&u.default.createElement("p",{className:"error text-center mt-4"},O),!x&&!O&&u.default.createElement("dl",{className:"flex-1 m-0"},u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("System Info")),f.isPro?u.default.createElement("dd",{className:"info-item-content"},(0,f.gettext)("Professional Edition"),S&&" "+this.renderLicenseDescString(t,n,r),u.default.createElement("br",null),f.isDefaultAdmin&&u.default.createElement(s.Fragment,null,u.default.createElement(c.Button,{type:"button",className:"mt-2",onClick:this.openFileInput},(0,f.gettext)("Upload license")),u.default.createElement("input",{className:"d-none",type:"file",onChange:this.uploadLicenseFile,ref:this.fileInput}))):u.default.createElement("dd",{className:"info-item-content"},(0,f.gettext)("Community Edition"),u.default.createElement("a",{className:"ml-1",href:"https://download.seafile.com/published/seafile-manual/deploy_pro/migrate_from_seafile_community_server.md",target:"_blank"},(0,f.gettext)("Upgrade to Pro Edition"))),u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Libraries")," / ",(0,f.gettext)("Files")),u.default.createElement("dd",{className:"info-item-content"},o," / ",i),u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Storage Used")),u.default.createElement("dd",{className:"info-item-content"},h.Utils.bytesToSize(l)),u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Total Devices")," / ",(0,f.gettext)("Current Connected Devices")),u.default.createElement("dd",{className:"info-item-content"},d," / ",p),f.isPro?u.default.createElement(s.Fragment,null,u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Activated Users")," / ",(0,f.gettext)("Total Users")," / ",(0,f.gettext)("Limits")),u.default.createElement("dd",{className:"info-item-content"},b," / ",E," / ",S?m:"--")):u.default.createElement(s.Fragment,null,u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Activated Users")," / ",(0,f.gettext)("Total Users")),u.default.createElement("dd",{className:"info-item-content"},b," / ",E)),u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Groups")),u.default.createElement("dd",{className:"info-item-content"},w),g&&u.default.createElement(s.Fragment,null,u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Organizations")),u.default.createElement("dd",{className:"info-item-content"},a)))))))}}]),t}(s.Component);t.default=E},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1051),d=r(c),f=n(1328),p=r(f),m=n(38),h=r(m),g=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(h.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(d.default,{currentItem:"desktop"}),u.default.createElement(p.default,{devicesPlatform:"desktop"}))))}}]),t}(s.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(6),m={unlinkDevice:d.default.func.isRequired,toggleDialog:d.default.func.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleInputChange=function(e){n.setState({inputChecked:e.target.checked})},n.unlinkDevice=function(){n.props.toggleDialog(),n.props.unlinkDevice(n.state.inputChecked)},n.state={inputChecked:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state.inputChecked,t=this.props.toggleDialog;return u.default.createElement(p.Modal,{isOpen:!0,toggle:t},u.default.createElement(p.ModalHeader,{toggle:t},(0,f.gettext)("Unlink device")),u.default.createElement(p.ModalBody,null,u.default.createElement("p",null,(0,f.gettext)("Are you sure you want to unlink this device?")),u.default.createElement("div",{className:"d-flex align-items-center"},u.default.createElement("input",{id:"delete-files",className:"mr-1",type:"checkbox",checked:e,onChange:this.handleInputChange}),u.default.createElement("label",{htmlFor:"delete-files",className:"m-0"},(0,f.gettext)("Delete files from this device the next time it comes online.")))),u.default.createElement(p.ModalFooter,null,u.default.createElement(p.Button,{color:"secondary",onClick:t},(0,f.gettext)("Cancel")),u.default.createElement(p.Button,{color:"primary",onClick:this.unlinkDevice},(0,f.gettext)("Unlink"))))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1051),d=r(c),f=n(1328),p=r(f),m=n(38),h=r(m),g=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(h.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(d.default,{currentItem:"mobile"}),u.default.createElement(p.default,{devicesPlatform:"mobile"}))))}}]),t}(s.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(4),f=n(2),p=n(5),m=r(p),h=n(3),g=n(39),v=r(g),b=n(7),y=r(b),E=n(8),w=r(E),S=n(15),_=n(1051),x=r(_),O=n(38),C=r(O),P=n(80),k=r(P),D=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,r=e.items;if(t)return u.default.createElement(w.default,null);if(n)return u.default.createElement("p",{className:"error text-center"},n);var a=u.default.createElement(v.default,null,u.default.createElement("h2",null,(0,f.gettext)("No sync errors"))),o=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"16%"},(0,f.gettext)("User")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("Device")," / ",(0,f.gettext)("Version")),u.default.createElement("th",{width:"16%"},(0,f.gettext)("IP")),u.default.createElement("th",{width:"16%"},(0,f.gettext)("Library")),u.default.createElement("th",{width:"16%"},(0,f.gettext)("Error")),u.default.createElement("th",{width:"16%"},(0,f.gettext)("Time")))),u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(M,{key:t,item:e})}))));return r.length?o:a}}]),t}(s.Component),M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.state={isOpIconShown:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item;return u.default.createElement("tr",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut},u.default.createElement("td",null,u.default.createElement(k.default,{email:e.email,name:e.name})),u.default.createElement("td",null,e.device_name," / ",e.client_version),u.default.createElement("td",null,e.device_ip),u.default.createElement("td",null,u.default.createElement(S.Link,{to:f.siteRoot+"sysadmin/#libs/"+e.repo_id},e.repo_name)),u.default.createElement("td",null,e.error_msg),u.default.createElement("td",null,u.default.createElement("span",{className:"item-meta-info",title:(0,y.default)(e.last_accessed).format("llll")},(0,y.default)(e.error_time).fromNow())))}}]),t}(s.Component),T=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clean=function(){d.seafileAPI.sysAdminClearDeviceErrors().then(function(e){n.setState({devicesErrors:[],isCleanBtnShown:!1});var t=(0,f.gettext)("Successfully cleaned all errors.");m.default.success(t)}).catch(function(e){var t=h.Utils.getErrorMsg(e);m.default.danger(t)})},n.state={loading:!0,errorMsg:"",devicesErrors:[],isCleanBtnShown:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;d.seafileAPI.sysAdminListDeviceErrors().then(function(t){e.setState({loading:!1,devicesErrors:t.data,isCleanBtnShown:t.data.length>0})}).catch(function(t){e.setState({loading:!1,errorMsg:h.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,this.state.isCleanBtnShown?u.default.createElement(C.default,null,u.default.createElement(c.Button,{className:"operation-item",onClick:this.clean},(0,f.gettext)("Clean"))):u.default.createElement(C.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(x.default,{currentItem:"errors"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(D,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.devicesErrors})))))}}]),t}(s.Component);t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(31),d=r(c),f=n(2),p=n(3),m=n(4),h=n(5),g=r(h),v=n(7),b=r(v),y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.listAbuseReports=function(){m.seafileAPI.sysAdminListAbuseReports().then(function(e){n.setState({abuseReportList:e.data.abuse_report_list})}).catch(function(e){n.handleError(e)})},n.updateAbuseReport=function(e,t){m.seafileAPI.sysAdminUpdateAbuseReport(e,t).then(function(e){var r=n.state.abuseReportList.map(function(n,r){return n.id===t&&(n.handled=e.data.handled),n});n.setState({abuseReportList:r})}).catch(function(e){n.handleError(e)})},n.handleError=function(e){e.response?g.default.danger(e.response.data.error_msg||e.response.data.detail||(0,f.gettext)("Error"),{duration:3}):g.default.danger((0,f.gettext)("Please check the network."),{duration:3})},n.state={abuseReportList:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.listAbuseReports()}},{key:"render",value:function(){var e=this,t=p.Utils.isDesktop(),n=this.state.abuseReportList.map(function(t,n){var r=(!t.handled).toString(),a=t.id,o=f.siteRoot+"lib/"+t.repo_id+"/file"+t.file_path;return u.default.createElement("tr",{key:n},u.default.createElement("td",null,t.repo_name),u.default.createElement("td",null,u.default.createElement("a",{href:o,target:"_blank"},t.file_path)),u.default.createElement("td",null,t.reporter),u.default.createElement("td",null,t.abuse_type),u.default.createElement("td",null,t.description),u.default.createElement("td",null,(0,b.default)(t.time).format("YYYY-MM-DD")),u.default.createElement("td",null,u.default.createElement("p",{onClick:e.updateAbuseReport.bind(e,r,a),className:"op-target ellipsis ellipsis-op-target cursor-pointer"},(0,f.gettext)(t.handled.toString()))))});return u.default.createElement(s.Fragment,null,u.default.createElement("div",{className:"main-panel-north"},u.default.createElement("div",{className:"cur-view-toolbar"},u.default.createElement("span",{className:"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none",title:"Side Nav Menu"})),u.default.createElement("div",{className:"common-toolbar"},u.default.createElement(d.default,{isAdminPanel:!0}))),u.default.createElement("div",{className:"main-panel-center"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,f.gettext)("Abuse Reports"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",{className:"table-hover"+(t?"":" table-thead-hidden")},u.default.createElement("thead",null,t?u.default.createElement("tr",null,u.default.createElement("th",{width:"20%"},(0,f.gettext)("Library")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("File")),u.default.createElement("th",{width:"10%"},(0,f.gettext)("Reporter")),u.default.createElement("th",{width:"15%"},(0,f.gettext)("Abuse Type")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("Description")),u.default.createElement("th",{width:"10%"},(0,f.gettext)("Time")),u.default.createElement("th",{width:"5%"},(0,f.gettext)("Handled"))):u.default.createElement("tr",null,u.default.createElement("th",{width:"92%"}),u.default.createElement("th",{width:"8%"}))),u.default.createElement("tbody",null,n))))))}}]),t}(s.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m={toggle:d.default.func.isRequired,importUserInBatch:d.default.func.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(){n.props.toggle()},n.openFileInput=function(){n.fileInputRef.current.click()},n.uploadFile=function(e){if(n.fileInputRef.current.files.length){var t=n.fileInputRef.current.files[0].name;if("xlsx"!=t.substr(t.lastIndexOf(".")+1))return void n.setState({errorMsg:(0,p.gettext)("Please choose a .xlsx file.")});var r=n.fileInputRef.current.files[0];n.props.importUserInBatch(r),n.toggle()}},n.fileInputRef=u.default.createRef(),n.state={errorMsg:""},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state.errorMsg;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Import users from a .xlsx file")),u.default.createElement(f.ModalBody,null,u.default.createElement("p",null,u.default.createElement("a",{className:"text-secondary small",href:p.siteRoot+"useradmin/batchadduser/example/"},(0,p.gettext)("Download an example file"))),u.default.createElement("button",{className:"btn btn-outline-primary",onClick:this.openFileInput},(0,p.gettext)("Upload file")),u.default.createElement("input",{className:"d-none",type:"file",onChange:this.uploadFile,ref:this.fileInputRef}),e&&u.default.createElement(f.Alert,{color:"danger"},e)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel"))))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(45),m=r(p),h=n(2),g={toggle:d.default.func.isRequired,addAdminInBatch:d.default.func.isRequired},v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(){n.props.toggle()},n.handleSelectChange=function(e){n.setState({options:e,isSubmitBtnActive:e.length>0})},n.handleSubmit=function(){n.props.addAdminInBatch(n.state.options.map(function(e){return e.email})),n.toggle()},n.handleKeyPress=function(e){"Enter"===e.key&&(n.handleSubmit(),e.preventDefault())},n.state={options:null,isSubmitBtnActive:!1},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,h.gettext)("Add Admin")),u.default.createElement(f.ModalBody,null,u.default.createElement(m.default,{isMulti:!0,className:"reviewer-select",placeholder:(0,h.gettext)("Select users..."),onSelectChange:this.handleSelectChange})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,h.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit,disabled:!this.state.isSubmitBtnActive},(0,h.gettext)("Submit"))))}}]),t}(u.default.Component);v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){r(this,e),this.email=t.email,this.name=t.name,this.contact_email=t.contact_email,this.login_id=t.login_id,this.last_login=t.last_login,this.last_access_time=t.last_access_time,this.create_time=t.create_time,this.is_active=t.is_active,this.is_staff=t.is_staff,this.reference_id=t.reference_id,this.department=t.department,this.quota_total=t.quota_total,this.quota_usage=t.quota_usage,this.role=t.role,this.institution=t.institution,t.org_id&&(this.org_id=t.org_id),t.org_name&&(this.org_name=t.org_name),this.isSelected=!1};t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){r(this,e),this.email=t.email,this.name=t.name,this.contact_email=t.contact_email,this.login_id=t.login_id,this.last_login=t.last_login,this.last_access_time=t.last_access_time,this.create_time=t.create_time,this.is_active=t.is_active,this.is_staff=t.is_staff,this.quota_total=t.quota_total,this.quota_usage=t.quota_usage,this.admin_role=t.admin_role,this.isSelected=!1};t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1052),d=r(c),f=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(d.default,{isAdmin:!0})}}]),t}(s.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1052),d=r(c),f=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(d.default,{isLDAPImported:!0})}}]),t}(s.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(7),d=r(c),f=n(3),p=n(4),m=n(2),h=n(39),g=r(h),v=n(8),b=r(v),y=n(76),E=r(y),w=n(1330),S=r(w),_=n(38),x=r(_),O=n(80),C=r(O),P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPage=function(){n.props.getListByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getListByPage(n.props.currentPage+1)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,r=e.items,a=e.curPerPage,o=e.hasNextPage,i=e.currentPage;if(t)return u.default.createElement(b.default,null);if(n)return u.default.createElement("p",{className:"error text-center mt-4"},n);var l=u.default.createElement(g.default,null,u.default.createElement("h2",null,(0,m.gettext)("No users"))),c=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"40%"},(0,m.gettext)("Email")),u.default.createElement("th",{width:"30%"},(0,m.gettext)("Space Used")," / ",(0,m.gettext)("Quota")),u.default.createElement("th",{width:"30%"},(0,m.gettext)("Last Login")))),u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(k,{key:t,item:e})}))),u.default.createElement(E.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:i,hasNextPage:o,curPerPage:a,resetPerPage:this.props.resetPerPage}));return r.length?c:l}}]),t}(s.Component),k=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item;f.Utils.HTMLescape(e.email);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement(C.default,{email:e.email,name:e.email})),u.default.createElement("td",null,f.Utils.bytesToSize(e.quota_usage)+" / "+(e.quota_total>0?f.Utils.bytesToSize(e.quota_total):"--")),u.default.createElement("td",null,e.last_login?(0,d.default)(e.last_login).fromNow():"--")))}}]),t}(s.Component),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getUsersListByPage=function(e){var t=n.state.perPage;p.seafileAPI.sysAdminListLDAPUsers(e,t).then(function(t){n.setState({loading:!1,userList:t.data.ldap_user_list,hasNextPage:t.data.has_next_page,currentPage:e})}).catch(function(e){n.setState({loading:!1,errorMsg:f.Utils.getErrorMsg(e,!0)})})},n.resetPerPage=function(e){n.setState({perPage:e},function(){n.getUsersListByPage(1)})},n.state={loading:!0,errorMsg:"",userList:{},hasNextPage:!1,currentPage:1,perPage:25},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r)},function(){e.getUsersListByPage(e.state.currentPage)})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(x.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(S.default,{currentItem:"ldap"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(P,{resetPerPage:this.resetPerPage,loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.userList,currentPage:this.state.currentPage,hasNextPage:this.state.hasNextPage,curPerPage:this.state.perPage,getListByPage:this.getUsersListByPage})))))}}]),t}(s.Component);t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(3),f=n(4),p=n(2),m=n(5),h=r(m),g=n(476),v=r(g),b=n(128),y=r(b),E=n(38),w=r(E),S=n(1331),_=r(S),x=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleBatchSetQuotaDialog=function(){n.setState({isBatchSetQuotaDialogOpen:!n.state.isBatchSetQuotaDialogOpen})},n.toggleBatchDeleteUserDialog=function(){n.setState({isBatchDeleteUserDialogOpen:!n.state.isBatchDeleteUserDialogOpen})},n.onUserSelected=function(e){var t=!1,r=[],a=n.state.userList.map(function(n){return n.email===e.email&&(n.isSelected=!n.isSelected),1==n.isSelected?(t=!0,r.push(n)):r=r.filter(function(e){return e.email!=n.email}),n});n.setState({userList:a,hasUserSelected:t,selectedUserList:r})},n.toggleSelectAllUsers=function(){if(n.state.isAllUsersSelected){var e=n.state.userList.map(function(e){return e.isSelected=!1,e});n.setState({userList:e,hasUserSelected:!1,isAllUsersSelected:!1,selectedUserList:[]})}else{var t=n.state.userList.map(function(e){return e.isSelected=!0,e});n.setState({userList:t,hasUserSelected:!0,isAllUsersSelected:!0,selectedUserList:t})}},n.getItems=function(){f.seafileAPI.sysAdminSearchUsers(n.state.query.trim()).then(function(e){n.setState({userList:e.data.user_list,loading:!1})}).catch(function(e){n.setState({loading:!1,errorMsg:d.Utils.getErrorMsg(e,!0)})})},n.deleteUser=function(e){f.seafileAPI.sysAdminDeleteUser(e).then(function(t){var r=n.state.userList.filter(function(t){return t.email!=e});n.setState({userList:r}),h.default.success((0,p.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.setUserQuotaInBatch=function(e){var t=n.state.selectedUserList.map(function(e){return e.email});f.seafileAPI.sysAdminSetUserQuotaInBatch(t,e).then(function(e){var t=n.state.userList.map(function(t){return e.data.success.map(function(e){t.email==e.email&&(t.quota_total=e.quota_total)}),t});n.setState({userList:t})}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.deleteUserInBatch=function(){var e=n.state.selectedUserList.map(function(e){return e.email});f.seafileAPI.sysAdminDeleteUserInBatch(e).then(function(t){if(t.data.success.length){var r=n.state.userList,a=r.filter(function(e){return!t.data.success.some(function(t){return t.email==e.email})});n.setState({userList:a,hasUserSelected:e.length!=t.data.success.length});var o=t.data.success.length,i=1==o?(0,p.gettext)("Successfully deleted 1 user."):(0,p.gettext)("Successfully deleted {user_number_placeholder} users.").replace("{user_number_placeholder}",o);h.default.success(i)}t.data.failed.map(function(e){var t=e.email+": "+e.error_msg;h.default.danger(t)})}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.updateUser=function(e,t,r){f.seafileAPI.sysAdminUpdateUser(e,t,r).then(function(a){var o=n.state.userList.map(function(n){return n.email==e&&(n[t]=a.data[t]),n});n.setState({userList:o});var i="is_active"==t&&r?a.data.update_status_tip:(0,p.gettext)("Edit succeeded");h.default.success(i)}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.updateAdminRole=function(e,t){f.seafileAPI.sysAdminUpdateAdminRole(e,t).then(function(t){var r=n.state.userList.map(function(n){return n.email==e&&(n.admin_role=t.data.role),n});n.setState({userList:r}),h.default.success((0,p.gettext)("Edit succeeded"))}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.revokeAdmin=function(e,t){f.seafileAPI.sysAdminUpdateUser(e,"is_staff",!1).then(function(r){var a=n.state.userList.filter(function(t){return t.email!=e});n.setState({userList:a}),h.default.success((0,p.gettext)("Successfully revoked the admin permission of {placeholder}.").replace("{placeholder}",t))}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.handleInputChange=function(e){n.setState({query:e.target.value},n.checkSubmitBtnActive)},n.checkSubmitBtnActive=function(){var e=n.state.query;n.setState({isSubmitBtnActive:e.trim()})},n.state={query:"",isSubmitBtnActive:!1,loading:!0,errorMsg:"",userList:[],hasUserSelected:!1,selectedUserList:[],isAllUsersSelected:!1,isBatchSetQuotaDialogOpen:!1,isBatchDeleteUserDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=new URL(document.location).searchParams;this.setState({query:e.get("query")||""},this.getItems)}},{key:"render",value:function(){var e=this.state,t=e.query,n=e.isSubmitBtnActive,r=this.state,a=r.hasUserSelected,o=r.isBatchDeleteUserDialogOpen,i=r.isBatchSetQuotaDialogOpen;return u.default.createElement(s.Fragment,null,a?u.default.createElement(w.default,null,u.default.createElement(s.Fragment,null,u.default.createElement(c.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleBatchSetQuotaDialog},(0,p.gettext)("Set Quota")),u.default.createElement(c.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleBatchDeleteUserDialog},(0,p.gettext)("Delete Users")))):u.default.createElement(w.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,p.gettext)("Users"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("div",{className:"mt-4 mb-6"},u.default.createElement("h4",{className:"border-bottom font-weight-normal mb-2 pb-1"},(0,p.gettext)("Search Users")),u.default.createElement(c.Form,null,u.default.createElement(c.FormGroup,{row:!0},u.default.createElement(c.Col,{sm:5},u.default.createElement(c.Input,{type:"text",name:"query",value:t,placeholder:(0,p.gettext)("Search users"),onChange:this.handleInputChange}))),u.default.createElement(c.FormGroup,{row:!0},u.default.createElement(c.Col,{sm:{size:5}},u.default.createElement("button",{className:"btn btn-outline-primary",disabled:!n,onClick:this.getItems},(0,p.gettext)("Submit")))))),u.default.createElement("div",{className:"mt-4 mb-6"},u.default.createElement("h4",{className:"border-bottom font-weight-normal mb-2 pb-1"},(0,p.gettext)("Result")),u.default.createElement(_.default,{isLDAPImported:!1,isAdmin:!1,isSearchResult:!0,loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.userList,updateUser:this.updateUser,deleteUser:this.deleteUser,updateAdminRole:this.updateAdminRole,revokeAdmin:this.revokeAdmin,onUserSelected:this.onUserSelected,isAllUsersSelected:this.isAllUsersSelected,toggleSelectAllUsers:this.toggleSelectAllUsers}))))),i&&u.default.createElement(v.default,{toggle:this.toggleBatchSetQuotaDialog,updateQuota:this.setUserQuotaInBatch}),o&&u.default.createElement(y.default,{title:(0,p.gettext)("Delete Users"),message:(0,p.gettext)("Are you sure you want to delete the selected user(s) ?"),executeOperation:this.deleteUserInBatch,confirmBtnText:(0,p.gettext)("Delete"),toggleDialog:this.toggleBatchDeleteUserDialog}))}}]),t}(s.Component);t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(3),f=n(4),p=n(2),m=n(5),h=r(m),g=n(8),v=r(g),b=n(476),y=r(b),E=n(2475),w=r(E),S=n(38),_=r(S),x=n(779),O=r(x),C=window.sysadmin.pageOptions.twoFactorAuthEnabled,P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleSetQuotaDialog=function(){n.setState({isSetQuotaDialogOpen:!n.state.isSetQuotaDialogOpen})},n.updateQuota=function(e){n.props.updateUser("quota_total",e)},n.toggleDialog=function(e,t){n.setState({currentKey:e,dialogTitle:t,isUpdateUserDialogOpen:!n.state.isUpdateUserDialogOpen})},n.toggleSetNameDialog=function(){n.toggleDialog("name",(0,p.gettext)("Set Name"))},n.toggleSetUserLoginIDDialog=function(){n.toggleDialog("login_id",(0,p.gettext)("Set Login ID"))},n.toggleSetUserComtactEmailDialog=function(){n.toggleDialog("contact_email",(0,p.gettext)("Set Contact Email"))},n.toggleSetUserReferenceIDDialog=function(){n.toggleDialog("reference_id",(0,p.gettext)("Set Reference ID"))},n.updateValue=function(e){n.props.updateUser(n.state.currentKey,e)},n.toggleUpdateUserDialog=function(){n.toggleDialog("","")},n.showEditIcon=function(e){return u.default.createElement("span",{title:(0,p.gettext)("Edit"),className:"fa fa-pencil-alt attr-action-icon",onClick:e})},n.state={currentKey:"",dialogTitle:"",isSetQuotaDialogOpen:!1,isUpdateUserDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg;e.userInfo;if(t)return u.default.createElement(v.default,null);if(n)return u.default.createElement("p",{className:"error text-center mt-4"},n);var r=this.props.userInfo,a=this.state,o=a.currentKey,i=a.dialogTitle,l=a.isSetQuotaDialogOpen,f=a.isUpdateUserDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement("dl",{className:"m-0"},u.default.createElement("dt",{className:"info-item-heading"},(0,p.gettext)("Avatar")),u.default.createElement("dd",{className:"info-item-content"},u.default.createElement("img",{src:r.avatar_url,alt:r.name,width:"80",className:"rounded"})),u.default.createElement("dt",{className:"info-item-heading"},(0,p.gettext)("Email")),u.default.createElement("dd",{className:"info-item-content"},r.email),r.org_name&&u.default.createElement(s.Fragment,null,u.default.createElement("dt",{className:"info-item-heading"},(0,p.gettext)("Organization")),u.default.createElement("dd",{className:"info-item-content"},r.org_name)),u.default.createElement("dt",{className:"info-item-heading"},(0,p.gettext)("Name")),u.default.createElement("dd",{className:"info-item-content"},r.name||"--",this.showEditIcon(this.toggleSetNameDialog)),u.default.createElement("dt",{className:"info-item-heading"},(0,p.gettext)("Login ID")),u.default.createElement("dd",{className:"info-item-content"},r.login_id||"--",this.showEditIcon(this.toggleSetUserLoginIDDialog)),u.default.createElement("dt",{className:"info-item-heading"},(0,p.gettext)("Contact Email")),u.default.createElement("dd",{className:"info-item-content"},r.contact_email||"--",this.showEditIcon(this.toggleSetUserComtactEmailDialog)),u.default.createElement("dt",{className:"info-item-heading"},(0,p.gettext)("Reference ID")),u.default.createElement("dd",{className:"info-item-content"},r.reference_id||"--",this.showEditIcon(this.toggleSetUserReferenceIDDialog)),u.default.createElement("dt",{className:"info-item-heading"},(0,p.gettext)("Space Used / Quota")),u.default.createElement("dd",{className:"info-item-content"},d.Utils.bytesToSize(r.quota_usage)+" / "+(r.quota_total>0?d.Utils.bytesToSize(r.quota_total):"--"),this.showEditIcon(this.toggleSetQuotaDialog)),C&&u.default.createElement(s.Fragment,null,u.default.createElement("dt",{className:"info-item-heading"},(0,p.gettext)("Two-Factor Authentication")),u.default.createElement("dd",{className:"info-item-content"},r.has_default_device?u.default.createElement(c.FormGroup,null,u.default.createElement("p",{className:"mb-1"},(0,p.gettext)("Status: enabled")),u.default.createElement(c.Button,{onClick:this.props.disable2FA},(0,p.gettext)("Disable Two-Factor Authentication"))):u.default.createElement(c.FormGroup,null,u.default.createElement(c.Button,{disabled:!0},(0,p.gettext)("Disable Two-Factor Authentication"))),u.default.createElement(c.FormGroup,{check:!0},u.default.createElement(c.Label,{check:!0},u.default.createElement(c.Input,{type:"checkbox",checked:r.is_force_2fa,onChange:this.props.toggleForce2fa}),u.default.createElement("span",null,(0,p.gettext)("Force Two-Factor Authentication"))))))),l&&u.default.createElement(y.default,{updateQuota:this.updateQuota,toggle:this.toggleSetQuotaDialog}),f&&u.default.createElement(w.default,{dialogTitle:i,value:r[o],updateValue:this.updateValue,toggleDialog:this.toggleUpdateUserDialog}))}}]),t}(s.Component),k=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateUser=function(e,t){var r=n.state.userInfo.email;f.seafileAPI.sysAdminUpdateUser(r,e,t).then(function(t){var r=n.state.userInfo;r[e]=t.data[e],n.setState({userInfo:r}),h.default.success((0,p.gettext)("Edit succeeded"))}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.disable2FA=function(){var e=n.state.userInfo.email;f.seafileAPI.sysAdminDeleteTwoFactorAuth(e).then(function(e){var t=n.state.userInfo;t.has_default_device=!1,n.setState({userInfo:t})}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.toggleForce2fa=function(e){var t=n.state.userInfo.email,r=e.target.checked;f.seafileAPI.sysAdminSetForceTwoFactorAuth(t,r).then(function(e){var t=n.state.userInfo;t.is_force_2fa=r,n.setState({userInfo:t})}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.state={loading:!0,errorMsg:"",userInfo:{}},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;f.seafileAPI.sysAdminGetUser(this.props.email,160).then(function(t){e.setState({loading:!1,userInfo:t.data})}).catch(function(t){e.setState({loading:!1,errorMsg:d.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){var e=this.state.userInfo;return u.default.createElement(s.Fragment,null,u.default.createElement(_.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(O.default,{currentItem:"info",email:this.props.email,userName:e.name}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(P,{loading:this.state.loading,errorMsg:this.state.errorMsg,userInfo:this.state.userInfo,updateUser:this.updateUser,disable2FA:this.disable2FA,toggleForce2fa:this.toggleForce2fa})))))}}]),t}(s.Component);t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=(n(3),{dialogTitle:d.default.string.isRequired,updateValue:d.default.func.isRequired,toggleDialog:d.default.func.isRequired}),h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleInputChange=function(e){var t=e.target.value;n.setState({value:t})},n.handleKeyPress=function(e){"Enter"==e.key&&(n.handleSubmit(),e.preventDefault())},n.handleSubmit=function(){n.props.updateValue(n.state.value.trim()),n.props.toggleDialog()},n.state={value:n.props.value,isSubmitBtnActive:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=(e.dialogTitle,e.toggleDialog);return u.default.createElement(f.Modal,{isOpen:!0,toggle:t},u.default.createElement(f.ModalHeader,{toggle:t},this.props.dialogTitle),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Input,{type:"text",value:this.state.value,onKeyPress:this.handleKeyPress,onChange:this.handleInputChange})))),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:t},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(7),f=r(d),p=n(3),m=n(4),h=n(2),g=n(5),v=r(g),b=n(39),y=r(b),E=n(8),w=r(E),S=n(128),_=r(S),x=n(472),O=r(x),C=n(196),P=r(C),k=n(38),D=r(k),M=n(779),T=r(M),L=window.sysadmin.pageOptions.enableSysAdminViewRepo,N=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items;if(n)return u.default.createElement(w.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var o=u.default.createElement(y.default,null,u.default.createElement("h2",null,(0,h.gettext)("No libraries"))),i=u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"35%"},(0,h.gettext)("Name")),u.default.createElement("th",{width:"30%"},(0,h.gettext)("Size")),u.default.createElement("th",{width:"25%"},(0,h.gettext)("Last Update")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(I,{key:n,item:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteRepo:e.props.deleteRepo,transferRepo:e.props.transferRepo})}))));return a.length?i:o}}]),t}(s.Component),I=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseLeave=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.toggleDeleteDialog=function(){n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen})},n.deleteRepo=function(){n.props.deleteRepo(n.props.item.id)},n.toggleTransferDialog=function(){n.setState({isTransferDialogOpen:!n.state.isTransferDialogOpen})},n.transferRepo=function(e){n.props.transferRepo(n.props.item.id,e.email),n.toggleTransferDialog()},n.renderRepoName=function(){var e=n.props.item,t=e;return t.name?h.isPro&&L&&!t.encrypted?u.default.createElement(c.Link,{to:h.siteRoot+"sys/libraries/"+t.id+"/"},t.name):t.name:(0,h.gettext)("Broken ({repo_id_placeholder})").replace("{repo_id_placeholder}",t.id)},n.translateOperations=function(e){var t="";switch(e){case"Delete":t=(0,h.gettext)("Delete");break;case"Transfer":t=(0,h.gettext)("Transfer")}return t},n.onMenuItemClick=function(e){switch(e){case"Delete":n.toggleDeleteDialog();break;case"Transfer":n.toggleTransferDialog()}},n.state={isOpIconShown:!1,highlight:!1,isDeleteDialogOpen:!1,isTransferDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isOpIconShown,r=t.isDeleteDialogOpen,a=t.isTransferDialogOpen,o=p.Utils.getLibIconUrl(e),i=p.Utils.getLibIconTitle(e),l='<span class="op-target">'+p.Utils.HTMLescape(e.name)+"</span>",c=(0,h.gettext)("Are you sure you want to delete {placeholder} ?").replace("{placeholder}",l);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement("img",{src:o,title:i,alt:i,width:"24"})),u.default.createElement("td",null,this.renderRepoName()),u.default.createElement("td",null,p.Utils.bytesToSize(e.size)),u.default.createElement("td",null,(0,f.default)(e.last_modified).fromNow()),u.default.createElement("td",null,n&&u.default.createElement(P.default,{operations:["Delete","Transfer"],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),r&&u.default.createElement(_.default,{title:(0,h.gettext)("Delete Library"),message:c,executeOperation:this.deleteRepo,confirmBtnText:(0,h.gettext)("Delete"),toggleDialog:this.toggleDeleteDialog}),a&&u.default.createElement(O.default,{itemName:e.name,submit:this.transferRepo,canTransferToDept:!1,toggleDialog:this.toggleTransferDialog}))}}]),t}(s.Component),j=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteRepo=function(e){m.seafileAPI.sysAdminDeleteRepo(e).then(function(t){var r=n.state.repoList.filter(function(t){return t.id!=e});n.setState({repoList:r}),v.default.success((0,h.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.transferRepo=function(e,t){m.seafileAPI.sysAdminTransferRepo(e,t).then(function(t){var r=n.state.repoList.filter(function(t){return t.id!=e});n.setState({repoList:r});var a=(0,h.gettext)("Successfully transferred the library.");v.default.success(a)}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.state={loading:!0,errorMsg:"",userInfo:{},repoList:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;m.seafileAPI.sysAdminGetUser(this.props.email).then(function(t){e.setState({userInfo:t.data})}),m.seafileAPI.sysAdminListReposByOwner(this.props.email).then(function(t){e.setState({loading:!1,repoList:t.data.repos})}).catch(function(t){e.setState({loading:!1,errorMsg:p.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(D.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(T.default,{currentItem:"owned-repos",email:this.props.email,userName:this.state.userInfo.name}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(N,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.repoList,deleteRepo:this.deleteRepo,transferRepo:this.transferRepo})))))}}]),t}(s.Component);t.default=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(7),f=r(d),p=n(3),m=n(4),h=n(2),g=n(39),v=r(g),b=n(8),y=r(b),E=n(38),w=r(E),S=n(80),_=r(S),x=n(779),O=r(x),C=window.sysadmin.pageOptions.enableSysAdminViewRepo,P=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,r=e.items;if(t)return u.default.createElement(y.default,null);if(n)return u.default.createElement("p",{className:"error text-center mt-4"},n);var a=u.default.createElement(v.default,null,u.default.createElement("h2",null,(0,h.gettext)("No libraries"))),o=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"35%"},(0,h.gettext)("Name")),u.default.createElement("th",{width:"20%"},(0,h.gettext)("Share From")),u.default.createElement("th",{width:"20%"},(0,h.gettext)("Size")),u.default.createElement("th",{width:"20%"},(0,h.gettext)("Last Update")))),u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(k,{key:t,item:e})}))));return r.length?o:a}}]),t}(s.Component),k=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderRepoName=function(){var e=n.props.item,t=e;return t.name?h.isPro&&C&&!t.encrypted?u.default.createElement(c.Link,{to:h.siteRoot+"sys/libraries/"+t.id+"/"},t.name):t.name:(0,h.gettext)("Broken ({repo_id_placeholder})").replace("{repo_id_placeholder}",t.id)},n.getOwnerLink=function(){var e=void 0,t=n.props.item,r=t.owner_email.indexOf("@seafile_group");if(-1==r)e=u.default.createElement(_.default,{email:t.owner_email,name:t.owner_name});else{var a=t.owner_email.substring(0,r);e=u.default.createElement(c.Link,{to:h.siteRoot+"sys/departments/"+a+"/"},t.owner_name)}return e},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=p.Utils.getLibIconUrl(e),n=p.Utils.getLibIconTitle(e);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement("img",{src:t,title:n,alt:n,width:"24"})),u.default.createElement("td",null,this.renderRepoName()),u.default.createElement("td",null,this.getOwnerLink()),u.default.createElement("td",null,p.Utils.bytesToSize(e.size)),u.default.createElement("td",null,(0,f.default)(e.last_modify).fromNow())))}}]),t}(s.Component),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0,errorMsg:"",userInfo:{},repoList:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;m.seafileAPI.sysAdminGetUser(this.props.email).then(function(t){e.setState({userInfo:t.data})}),m.seafileAPI.sysAdminListShareInRepos(this.props.email).then(function(t){e.setState({loading:!1,repoList:t.data.repo_list})}).catch(function(t){e.setState({loading:!1,errorMsg:p.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(w.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(O.default,{currentItem:"shared-repos",email:this.props.email,userName:this.state.userInfo.name}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(P,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.repoList})))))}}]),t}(s.Component);t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(3),d=n(4),f=n(2),p=n(5),m=r(p),h=n(39),g=r(h),v=n(8),b=r(v),y=n(196),E=r(y),w=n(846),S=r(w),_=n(38),x=r(_),O=n(779),C=r(O),P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items;if(n)return u.default.createElement(b.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var o=u.default.createElement(g.default,null,u.default.createElement("h2",null,(0,f.gettext)("No shared links"))),i=u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"30%"},(0,f.gettext)("Name")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("Size")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("Type")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("Visits")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(k,{key:n,item:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteItem:e.props.deleteItem})}))));return a.length?i:o}}]),t}(s.Component),k=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseLeave=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.toggleLinkDialog=function(){n.setState({isLinkDialogOpen:!n.state.isLinkDialogOpen})},n.deleteItem=function(){n.props.deleteItem(n.props.item)},n.translateOperations=function(e){var t="";switch(e){case"View":t=(0,f.gettext)("View");break;case"Delete":t=(0,f.gettext)("Delete")}return t},n.onMenuItemClick=function(e){switch(e){case"View":n.toggleLinkDialog();break;case"Delete":n.deleteItem()}},n.getRoleText=function(){var e=void 0;switch(n.props.item.role){case"Owner":e=(0,f.gettext)("Owner");break;case"Admin":e=(0,f.gettext)("Admin");break;case"Member":e=(0,f.gettext)("Member")}return e},n.getIconUrl=function(){var e=n.props.item;return"upload"==e.type?c.Utils.getFolderIconUrl():e.is_dir?c.Utils.getFolderIconUrl():c.Utils.getFileIconUrl(e.obj_name)},n.state={isOpIconShown:!1,highlight:!1,isLinkDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isOpIconShown,r=t.isLinkDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement("img",{src:this.getIconUrl(),alt:"",width:"24"})),u.default.createElement("td",null,"/"==e.obj_name?e.repo_name:e.obj_name),"upload"==e.type?u.default.createElement(s.Fragment,null,u.default.createElement("td",null),u.default.createElement("td",null,(0,f.gettext)("Upload"))):u.default.createElement(s.Fragment,null,u.default.createElement("td",null,e.is_dir?null:c.Utils.bytesToSize(e.size)),u.default.createElement("td",null,(0,f.gettext)("Download"))),u.default.createElement("td",null,e.view_cnt),u.default.createElement("td",null,n&&u.default.createElement(E.default,{operations:["View","Delete"],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),r&&u.default.createElement(S.default,{link:e.link,toggleDialog:this.toggleLinkDialog}))}}]),t}(s.Component),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteItem=function(e){var t=e.type,r=e.token;"download"==t?d.seafileAPI.sysAdminDeleteShareLink(r).then(function(e){var t=n.state.shareLinkItems.filter(function(e){return e.token!=r});n.setState({shareLinkItems:t}),m.default.success((0,f.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=c.Utils.getErrorMsg(e);m.default.danger(t)}):d.seafileAPI.sysAdminDeleteUploadLink(r).then(function(e){var t=n.state.uploadLinkItems.filter(function(e){return e.token!=r});n.setState({uploadLinkItems:t}),m.default.success((0,f.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=c.Utils.getErrorMsg(e);m.default.danger(t)})},n.state={loading:!0,errorMsg:"",userInfo:{},uploadLinkItems:[],shareLinkItems:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;d.seafileAPI.sysAdminGetUser(this.props.email).then(function(t){e.setState({userInfo:t.data})}),d.seafileAPI.sysAdminListShareLinksByUser(this.props.email).then(function(t){var n=t.data.share_link_list.map(function(e){return e.type="download",e});n.sort(function(e,t){return e.is_dir?-1:1}),e.setState({loading:!1,shareLinkItems:n})}),d.seafileAPI.sysAdminListUploadLinksByUser(this.props.email).then(function(t){var n=t.data.upload_link_list.map(function(e){return e.type="upload",e});e.setState({loading:!1,uploadLinkItems:n})}).catch(function(t){e.setState({loading:!1,errorMsg:c.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){var e=this.state,t=e.shareLinkItems,n=e.uploadLinkItems;return u.default.createElement(s.Fragment,null,u.default.createElement(x.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(C.default,{currentItem:"links",email:this.props.email,userName:this.state.userInfo.name}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(P,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:[].concat(n,t),deleteItem:this.deleteItem})))))}}]),t}(s.Component);t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(7),f=r(d),p=n(3),m=n(4),h=n(2),g=n(5),v=r(g),b=n(39),y=r(b),E=n(8),w=r(E),S=n(196),_=r(S),x=n(128),O=r(x),C=n(38),P=r(C),k=n(779),D=r(k),M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items;if(n)return u.default.createElement(w.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var o=u.default.createElement(y.default,null,u.default.createElement("h2",null,(0,h.gettext)("No groups"))),i=u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"35%"},(0,h.gettext)("Name")),u.default.createElement("th",{width:"30%"},(0,h.gettext)("Role")),u.default.createElement("th",{width:"30%"},(0,h.gettext)("Created At")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(T,{key:n,item:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteItem:e.props.deleteItem})}))));return a.length?i:o}}]),t}(s.Component),T=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseLeave=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.toggleDeleteDialog=function(){n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen})},n.deleteItem=function(){n.props.deleteItem(n.props.item.id)},n.translateOperations=function(e){var t="";switch(e){case"Delete":t=(0,h.gettext)("Delete")}return t},n.onMenuItemClick=function(e){switch(e){case"Delete":n.toggleDeleteDialog()}},n.getRoleText=function(){var e=void 0;switch(n.props.item.role){case"Owner":e=(0,h.gettext)("Owner");break;case"Admin":e=(0,h.gettext)("Admin");break;case"Member":e=(0,h.gettext)("Member")}return e},n.state={isOpIconShown:!1,highlight:!1,isDeleteDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isOpIconShown,r=t.isDeleteDialogOpen,a='<span class="op-target">'+p.Utils.HTMLescape(e.name)+"</span>",o=(0,h.gettext)("Are you sure you want to delete {placeholder} ?").replace("{placeholder}",a),i=0==e.parent_group_id?h.siteRoot+"sys/groups/"+e.id+"/libraries/":h.siteRoot+"sys/departments/"+e.id+"/";return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement(c.Link,{to:i},e.name)),u.default.createElement("td",null,this.getRoleText()),u.default.createElement("td",null,(0,f.default)(e.created_at).format("YYYY-MM-DD HH:mm")),u.default.createElement("td",null,n&&0==e.parent_group_id&&u.default.createElement(_.default,{operations:["Delete"],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),r&&u.default.createElement(O.default,{title:(0,h.gettext)("Delete Group"),message:o,executeOperation:this.deleteItem,confirmBtnText:(0,h.gettext)("Delete"),toggleDialog:this.toggleDeleteDialog}))}}]),t}(s.Component),L=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteItem=function(e){m.seafileAPI.sysAdminDismissGroupByID(e).then(function(t){var r=n.state.items.filter(function(t){return t.id!=e});n.setState({items:r}),v.default.success((0,h.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.state={loading:!0,errorMsg:"",userInfo:{},items:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;m.seafileAPI.sysAdminGetUser(this.props.email).then(function(t){e.setState({userInfo:t.data})}),m.seafileAPI.sysAdminListGroupsJoinedByUser(this.props.email).then(function(t){e.setState({loading:!1,items:t.data.group_list})}).catch(function(t){e.setState({loading:!1,errorMsg:p.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(P.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(D.default,{currentItem:"groups",email:this.props.email,userName:this.state.userInfo.name}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(M,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.items,deleteItem:this.deleteItem})))))}}]),t}(s.Component);t.default=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(6),f=n(3),p=n(4),m=n(2),h=n(5),g=r(h),v=n(2481),b=r(v),y=n(38),E=r(y),w=n(778),S=r(w),_=n(1054),x=r(_),O=n(1333),C=r(O),P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleCreateRepoDialog=function(){n.setState({isCreateRepoDialogOpen:!n.state.isCreateRepoDialogOpen})},n.getReposByPage=function(e){var t=n.state,r=t.perPage,a=t.sortBy;p.seafileAPI.sysAdminListAllRepos(e,r,a).then(function(e){n.setState({loading:!1,repos:e.data.repos,pageInfo:e.data.page_info})}).catch(function(e){n.setState({loading:!1,errorMsg:f.Utils.getErrorMsg(e,!0)})})},n.sortItems=function(e){n.setState({currentPage:1,sortBy:e},function(){var e=new URL(location.href),t=new URLSearchParams(e.search),r=n.state,a=r.currentPage,o=r.sortBy;t.set("page",a),t.set("order_by",o),e.search=t.toString(),(0,c.navigate)(e.toString()),n.getReposByPage(a)})},n.resetPerPage=function(e){n.setState({perPage:e},function(){n.getReposByPage(1)})},n.createRepo=function(e,t){p.seafileAPI.sysAdminCreateRepo(e,t).then(function(e){n.state.repos.unshift(e.data),n.setState({repos:n.state.repos})}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})},n.onDeleteRepo=function(e){var t=n.state.repos.filter(function(t){return t.id!=e.id});n.setState({repos:t})},n.onTransferRepo=function(e){var t=n.state.repos.map(function(t){return t.id==e.id?e:t});n.setState({repos:t})},n.getSearch=function(){return u.default.createElement(S.default,{placeholder:(0,m.gettext)("Search libraries by name"),submit:n.searchRepos})},n.searchRepos=function(e){(0,c.navigate)(m.siteRoot+"sys/search-libraries/?name="+encodeURIComponent(e))},n.state={loading:!0,errorMsg:"",repos:[],pageInfo:{},perPage:25,sortBy:"",isCreateRepoDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=void 0===r?1:r,o=n.perPage,i=n.sortBy;this.setState({sortBy:t.get("order_by")||i,perPage:parseInt(t.get("per_page")||o),currentPage:parseInt(t.get("page")||a)},function(){e.getReposByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state.isCreateRepoDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement(E.default,{search:this.getSearch()},u.default.createElement(d.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleCreateRepoDialog},u.default.createElement("i",{className:"fas fa-plus-square text-secondary mr-1"}),(0,m.gettext)("New Library"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(x.default,{currentItem:"all"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(C.default,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.repos,sortBy:this.state.sortBy,sortItems:this.sortItems,pageInfo:this.state.pageInfo,curPerPage:this.state.perPage,getListByPage:this.getReposByPage,resetPerPage:this.resetPerPage,onDeleteRepo:this.onDeleteRepo,onTransferRepo:this.onTransferRepo})))),e&&u.default.createElement(b.default,{createRepo:this.createRepo,toggleDialog:this.toggleCreateRepoDialog}))}}]),t}(s.Component);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(45),h=r(m),g={createRepo:d.default.func.isRequired,toggleDialog:d.default.func.isRequired},v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRepoNameChange=function(e){var t=e.target.value;n.setState({repoName:t,isSubmitBtnActive:t.trim()})},n.handleSubmit=function(){var e=n.state,t=e.repoName,r=e.ownerEmail;n.props.createRepo(t.trim(),r),n.toggle()},n.handleSelectChange=function(e){n.setState({ownerEmail:e?e.email:""})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.handleSubmit(),e.preventDefault())},n.toggle=function(){n.props.toggleDialog()},n.state={repoName:"",ownerEmail:"",errMessage:"",isSubmitBtnActive:!1},n.newInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.newInput.focus()}},{key:"render",value:function(){var e=this;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("New Library")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"repoName"},(0,p.gettext)("Name")),u.default.createElement(f.Input,{id:"repoName",onKeyPress:this.handleKeyPress,innerRef:function(t){e.newInput=t},value:this.state.repoName,onChange:this.handleRepoNameChange})),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"userSelect"},(0,p.gettext)("Owner"),u.default.createElement("span",{className:"small text-secondary"},(0,p.gettext)("(If left blank, owner will be admin)"))),u.default.createElement(h.default,{id:"userSelect",isMulti:!1,className:"reviewer-select",placeholder:(0,p.gettext)("Select a user"),onSelectChange:this.handleSelectChange}))),this.state.errMessage&&u.default.createElement(f.Alert,{color:"danger"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit,disabled:!this.state.isSubmitBtnActive},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(2483),h=r(m),g=n(2484),v=r(g);n(147);var b={itemName:d.default.string.isRequired,itemPath:d.default.string.isRequired,toggleDialog:d.default.func.isRequired,repoID:d.default.string.isRequired,isGroupOwnedRepo:d.default.bool.isRequired,repoEncrypted:d.default.bool,userPerm:d.default.string,enableDirPrivateShare:d.default.bool},y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getInitialActiveTab=function(){return"shareToUser"},n.toggle=function(e){n.state.activeTab!==e&&n.setState({activeTab:e})},n.renderDirContent=function(){var e=n.state.activeTab,t=n.props,r=t.enableDirPrivateShare,a=t.isGroupOwnedRepo;return u.default.createElement(s.Fragment,null,u.default.createElement("div",{className:"share-dialog-side"},u.default.createElement(f.Nav,{pills:!0},r&&u.default.createElement(s.Fragment,null,u.default.createElement(f.NavItem,null,u.default.createElement(f.NavLink,{className:"shareToUser"===e?"active":"",onClick:n.toggle.bind(n,"shareToUser")},(0,p.gettext)("Share to user"))),u.default.createElement(f.NavItem,null,u.default.createElement(f.NavLink,{className:"shareToGroup"===e?"active":"",onClick:n.toggle.bind(n,"shareToGroup")},(0,p.gettext)("Share to group")))))),u.default.createElement("div",{className:"share-dialog-main"},u.default.createElement(f.TabContent,{activeTab:n.state.activeTab},r&&u.default.createElement(s.Fragment,null,u.default.createElement(f.TabPane,{tabId:"shareToUser"},u.default.createElement(h.default,{itemType:"library",isGroupOwnedRepo:a,itemPath:n.props.itemPath,repoID:n.props.repoID,isRepoOwner:n.state.isRepoOwner})),u.default.createElement(f.TabPane,{tabId:"shareToGroup"},u.default.createElement(v.default,{itemType:"library",isGroupOwnedRepo:a,itemPath:n.props.itemPath,repoID:n.props.repoID,isRepoOwner:n.state.isRepoOwner}))))))},n.state={activeTab:n.getInitialActiveTab(),isRepoOwner:!1},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(f.Modal,{isOpen:!0,style:{maxWidth:"720px"},className:"share-dialog",toggle:this.props.toggleDialog},u.default.createElement(f.ModalHeader,{toggle:this.props.toggleDialog},(0,p.gettext)("Share")," ",u.default.createElement("span",{className:"op-target",title:this.props.itemName},this.props.itemName)),u.default.createElement(f.ModalBody,{className:"share-dialog-content"},this.renderDirContent())))}}]),t}(u.default.Component);y.propTypes=b,t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(6),m=n(4),h=n(3),g=n(5),v=r(g),b=n(45),y=r(b),E=n(53),w=r(E),S=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({isOperationShow:!0})},n.onMouseLeave=function(){n.setState({isOperationShow:!1})},n.deleteShareItem=function(){var e=n.props.item;n.props.deleteShareItem(e.user_email)},n.onChangeUserPermission=function(e){var t=n.props.item;n.props.onChangeUserPermission(t,e)},n.state={isOperationShow:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=e.is_admin?"admin":e.permission;return u.default.createElement("tr",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",{className:"name"},e.user_name),u.default.createElement("td",null,u.default.createElement(w.default,{isTextMode:!0,isEditIconShow:this.state.isOperationShow,currentPermission:t,permissions:this.props.permissions,onPermissionChanged:this.onChangeUserPermission})),u.default.createElement("td",null,u.default.createElement("span",{className:"sf2-icon-x3 action-icon "+(this.state.isOperationShow?"":"hide"),onClick:this.deleteShareItem,title:(0,f.gettext)("Delete")})))}}]),t}(u.default.Component),_=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.items;return u.default.createElement("tbody",null,t.map(function(t,n){return u.default.createElement(S,{key:n,item:t,permissions:e.props.permissions,deleteShareItem:e.props.deleteShareItem,onChangeUserPermission:e.props.onChangeUserPermission})}))}}]),t}(u.default.Component),x={isGroupOwnedRepo:d.default.bool,itemPath:d.default.string.isRequired,itemType:d.default.string.isRequired,repoID:d.default.string.isRequired},O=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e}),n.options=[]},n.setPermission=function(e){n.setState({permission:e})},n.shareToUser=function(){var e=[],t=n.props.repoID;if(n.state.selectedOption&&n.state.selectedOption.length>0)for(var r=0;r<n.state.selectedOption.length;r++)e[r]=n.state.selectedOption[r].email;m.seafileAPI.sysAdminAddRepoSharedItem(t,"user",e,n.state.permission).then(function(e){var t=[];if(e.data.failed.length>0)for(var r=0;r<e.data.failed.length;r++)t[r]=e.data.failed[r];var a=e.data.success;n.setState({errorMsg:t,sharedItems:n.state.sharedItems.concat(a),selectedOption:null,permission:"rw"}),n.refs.userSelect.clearSelect()}).catch(function(e){if(e.response){var t=(0,f.gettext)("Library can not be shared to owner."),r=[];r.push(t),n.setState({errorMsg:r,selectedOption:null})}})},n.deleteShareItem=function(e){var t=n.props.repoID;m.seafileAPI.sysAdminDeleteRepoSharedItem(t,"user",e).then(function(t){n.setState({sharedItems:n.state.sharedItems.filter(function(t){return t.user_email!==e})})}).catch(function(e){var t=h.Utils.getErrorMsg(e);v.default.danger(t)})},n.onChangeUserPermission=function(e,t){var r=n.props.repoID,a=e.user_email;m.seafileAPI.sysAdminUpdateRepoSharedItemPermission(r,"user",a,t).then(function(){n.updateSharedItems(e,t)}).catch(function(e){var t=h.Utils.getErrorMsg(e);v.default.danger(t)})},n.updateSharedItems=function(e,t){var r=e.user_name,a=n.state.sharedItems.map(function(e){var n=e.user_name;return r===n&&(e.permission=t,e.is_admin="admin"===t),e});n.setState({sharedItems:a})},n.state={selectedOption:null,errorMsg:[],permission:"rw",sharedItems:[]},n.options=[],n.permissions=["rw","r"],f.isPro&&n.permissions.push("admin","cloud-edit","preview"),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.repoID;m.seafileAPI.sysAdminListRepoSharedItems(t,"user").then(function(t){0!==t.data.length&&e.setState({sharedItems:t.data})}).catch(function(e){var t=h.Utils.getErrorMsg(e);v.default.danger(t)})}},{key:"render",value:function(){var e=this.state.sharedItems;return u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"50%"},(0,f.gettext)("User")),u.default.createElement("th",{width:"35%"},(0,f.gettext)("Permission")),u.default.createElement("th",{width:"15%"}))),u.default.createElement("tbody",null,u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement(y.default,{ref:"userSelect",isMulti:!0,className:"reviewer-select",placeholder:(0,f.gettext)("Select users..."),onSelectChange:this.handleSelectChange})),u.default.createElement("td",null,u.default.createElement(w.default,{isTextMode:!1,isEditIconShow:!1,currentPermission:this.state.permission,permissions:this.permissions,onPermissionChanged:this.setPermission})),u.default.createElement("td",null,u.default.createElement(p.Button,{onClick:this.shareToUser},(0,f.gettext)("Submit")))),this.state.errorMsg.length>0&&this.state.errorMsg.map(function(e,t){var n="";return n=e.email?e.email+": "+e.error_msg:e,u.default.createElement("tr",{key:t},u.default.createElement("td",{colSpan:3},u.default.createElement("p",{className:"error"},n)))}))),u.default.createElement("div",{className:"share-list-container"},u.default.createElement("table",{className:"table-thead-hidden"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"50%"},(0,f.gettext)("User")),u.default.createElement("th",{width:"35%"},(0,f.gettext)("Permission")),u.default.createElement("th",{width:"15%"}))),u.default.createElement(_,{items:e,permissions:this.permissions,deleteShareItem:this.deleteShareItem,onChangeUserPermission:this.onChangeUserPermission}))))}}]),t}(u.default.Component);O.propTypes=x,t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),d=r(c),f=n(1),p=r(f),m=n(6),h=n(82),g=r(h),v=n(389),b=r(v),y=n(2),E=n(4),w=n(3),S=n(5),_=r(S),x=n(53),O=r(x),C=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({isOperationShow:!0})},n.onMouseLeave=function(){n.setState({isOperationShow:!1})},n.deleteShareItem=function(){var e=n.props.item;n.props.deleteShareItem(e.group_id)},n.onChangeUserPermission=function(e){var t=n.props.item;n.props.onChangeUserPermission(t,e)},n.state={isOperationShow:!1},n}return l(t,e),u(t,[{key:"render",value:function(){var e=this.props.item,t=e.is_admin?"admin":e.permission;return d.default.createElement("tr",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},d.default.createElement("td",{className:"name"},e.group_name),d.default.createElement("td",null,d.default.createElement(O.default,{isTextMode:!0,isEditIconShow:this.state.isOperationShow,currentPermission:t,permissions:this.props.permissions,onPermissionChanged:this.onChangeUserPermission})),d.default.createElement("td",null,d.default.createElement("span",{className:"sf2-icon-x3 action-icon "+(this.state.isOperationShow?"":"hide"),onClick:this.deleteShareItem,title:(0,y.gettext)("Delete")})))}}]),t}(d.default.Component),P=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props.items;return d.default.createElement("tbody",null,t.map(function(t,n){return d.default.createElement(C,{key:n,item:t,permissions:e.props.permissions,deleteShareItem:e.props.deleteShareItem,onChangeUserPermission:e.props.onChangeUserPermission})}))}}]),t}(d.default.Component),k={isGroupOwnedRepo:p.default.bool,itemPath:p.default.string.isRequired,itemType:p.default.string.isRequired,repoID:p.default.string.isRequired,isRepoOwner:p.default.bool.isRequired},D=function(e){return d.default.createElement("div",s({},e.innerProps,{style:{margin:"6px 10px",textAlign:"center",color:"hsl(0,0%,50%)"}}),(0,y.gettext)("Group not found"))},M=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e})},n.loadOptions=function(){E.seafileAPI.shareableGroups().then(function(e){n.options=[];for(var t=0;t<e.data.length;t++){var r={};r.value=e.data[t].name,r.id=e.data[t].id,r.label=e.data[t].name,n.options.push(r)}}).catch(function(e){var t=w.Utils.getErrorMsg(e);_.default.danger(t)})},n.listSharedGroups=function(){var e=n.props.repoID;E.seafileAPI.sysAdminListRepoSharedItems(e,"group").then(function(e){0!==e.data.length&&n.setState({sharedItems:e.data})}).catch(function(e){var t=w.Utils.getErrorMsg(e);_.default.danger(t)})},n.setPermission=function(e){n.setState({permission:e})},n.shareToGroup=function(){var e=[],t=n.props.repoID;if(n.state.selectedOption&&n.state.selectedOption.length>0)for(var r=0;r<n.state.selectedOption.length;r++)e[r]=n.state.selectedOption[r].id;E.seafileAPI.sysAdminAddRepoSharedItem(t,"group",e,n.state.permission).then(function(e){var t=[];if(e.data.failed.length>0)for(var r=0;r<e.data.failed.length;r++)t[r]=e.data.failed[r];var a=e.data.success;n.setState({errorMsg:t,sharedItems:n.state.sharedItems.concat(a),selectedOption:null,permission:"rw"})}).catch(function(e){var t=w.Utils.getErrorMsg(e);_.default.danger(t)})},n.deleteShareItem=function(e){var t=n.props.repoID;E.seafileAPI.sysAdminDeleteRepoSharedItem(t,"group",e).then(function(){n.setState({sharedItems:n.state.sharedItems.filter(function(t){return t.group_id!==e})})}).catch(function(e){var t=w.Utils.getErrorMsg(e);_.default.danger(t)})},n.onChangeUserPermission=function(e,t){var r=n.props.repoID,a=e.group_id;E.seafileAPI.sysAdminUpdateRepoSharedItemPermission(r,"group",a,t).then(function(){n.updateSharedItems(e,t)}).catch(function(e){var t=w.Utils.getErrorMsg(e);_.default.danger(t)})},n.updateSharedItems=function(e,t){var r=e.group_id,a=n.state.sharedItems.map(function(e){var n=e.group_id;return r===n&&(e.permission=t,e.is_admin="admin"===t),e});n.setState({sharedItems:a})},n.state={selectedOption:null,errorMsg:[],permission:"rw",sharedItems:[]},n.options=[],n.permissions=["rw","r"],y.isPro&&n.permissions.push("admin","cloud-edit","preview"),n}return l(t,e),u(t,[{key:"componentDidMount",value:function(){this.loadOptions(),this.listSharedGroups()}},{key:"render",value:function(){return d.default.createElement(c.Fragment,null,d.default.createElement("table",null,d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",{width:"50%"},(0,y.gettext)("Group")),d.default.createElement("th",{width:"35%"},(0,y.gettext)("Permission")),d.default.createElement("th",{width:"15%"}))),d.default.createElement("tbody",null,d.default.createElement("tr",null,d.default.createElement("td",null,d.default.createElement(g.default,a({isMulti:!0,onChange:this.handleSelectChange,options:this.options,placeholder:(0,y.gettext)("Select groups..."),components:(0,b.default)(),maxMenuHeight:200,inputId:"react-select-2-input",value:this.state.selectedOption},"components",{NoOptionsMessage:D}))),d.default.createElement("td",null,d.default.createElement(O.default,{isTextMode:!1,isEditIconShow:!1,currentPermission:this.state.permission,permissions:this.permissions,onPermissionChanged:this.setPermission})),d.default.createElement("td",null,d.default.createElement(m.Button,{onClick:this.shareToGroup},(0,y.gettext)("Submit")))),this.state.errorMsg.length>0&&this.state.errorMsg.map(function(e,t){var n=e.group_name+": "+e.error_msg;return d.default.createElement("tr",{key:t},d.default.createElement("td",{colSpan:3},d.default.createElement("p",{className:"error"},n)))}))),d.default.createElement("div",{className:"share-list-container"},d.default.createElement("table",{className:"table-thead-hidden"},d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",{width:"50%"},(0,y.gettext)("Group")),d.default.createElement("th",{width:"35%"},(0,y.gettext)("Permission")),d.default.createElement("th",{width:"15%"}))),d.default.createElement(P,{items:this.state.sharedItems,permissions:this.permissions,deleteShareItem:this.deleteShareItem,onChangeUserPermission:this.onChangeUserPermission}))))}}]),t}(d.default.Component);M.propTypes=k,t.default=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),h=n(3),g=n(5),v=r(g),b={itemName:d.default.string.isRequired,toggleDialog:d.default.func.isRequired,repoID:d.default.string.isRequired},y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.submit=function(){var e=n.state.keepDays;n.state.autoHistory&&(e=n.state.expireDays);var t=n.props.repoID;if(/^-?\d+$/.test(e)){var r=(0,p.gettext)("Successfully set library history.");m.seafileAPI.sysAdminUpdateRepoHistorySetting(t,e).then(function(e){v.default.success(r),n.setState({keepDays:e.data.keep_days}),n.props.toggleDialog()}).catch(function(e){var t=h.Utils.getErrorMsg(e);v.default.danger(t)})}else n.setState({errorInfo:(0,p.gettext)("Please enter a non-negative integer")})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.submit(),e.preventDefault())},n.onChange=function(e){var t=e.target.value;n.setState({keepDays:t,expireDays:t})},n.setLimitDays=function(e){"allHistory"===e?n.setState({keepDays:-1}):"noHistory"===e?n.setState({keepDays:0}):n.setState({disabled:!1}),n.setState({allHistory:"allHistory"===e,noHistory:"noHistory"===e,autoHistory:"autoHistory"===e})},n.state={keepDays:-1,expireDays:30,disabled:!0,allHistory:!0,noHistory:!1,autoHistory:!1,errorInfo:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;m.seafileAPI.sysAdminGetRepoHistorySetting(this.props.repoID).then(function(t){e.setState({keepDays:t.data.keep_days,allHistory:t.data.keep_days<0,noHistory:0===t.data.keep_days,autoHistory:t.data.keep_days>0,disabled:!(t.data.keep_days>0),expireDays:t.data.keep_days>0?t.data.keep_days:30})}).catch(function(e){var t=h.Utils.getErrorMsg(e);v.default.danger(t)})}},{key:"render",value:function(){var e=this,t=this.props.itemName;return u.default.createElement(f.Modal,{isOpen:!0},u.default.createElement(f.ModalHeader,{toggle:this.props.toggleDialog},u.default.createElement("span",{className:"op-target",title:t},t)," ",(0,p.gettext)("History Setting")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,{check:!0},u.default.createElement(f.Input,{type:"radio",name:"radio1",checked:this.state.allHistory,onChange:function(){e.setLimitDays("allHistory")}})," ",u.default.createElement(f.Label,null,(0,p.gettext)("Keep full history"))),u.default.createElement(f.FormGroup,{check:!0},u.default.createElement(f.Input,{type:"radio",name:"radio1",checked:this.state.noHistory,onChange:function(){e.setLimitDays("noHistory")}})," ",u.default.createElement(f.Label,null,(0,p.gettext)("Don't keep history"))),u.default.createElement(f.FormGroup,{check:!0},u.default.createElement(f.Input,{type:"radio",name:"radio1",checked:this.state.autoHistory,onChange:function(){e.setLimitDays("autoHistory")}})," ",u.default.createElement(f.Label,null,(0,p.gettext)("Only keep a period of history:")),u.default.createElement(f.Input,{type:"text",className:"expire-input",value:this.state.expireDays,onChange:this.onChange,disabled:this.state.disabled,onKeyDown:this.handleKeyPress})," ",u.default.createElement(f.Label,null,u.default.createElement("span",null,(0,p.gettext)("days")))),this.state.errorInfo&&u.default.createElement(f.Alert,{color:"danger"},this.state.errorInfo))),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggleDialog},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.submit},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);y.propTypes=b,t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(3),f=n(4),p=n(2),m=n(5),h=(r(m),n(8)),g=r(h),v=n(38),b=r(v),y=n(1054),E=r(y),w=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,r=e.items;return t?u.default.createElement(g.default,null):n?u.default.createElement("p",{className:"error text-center"},n):u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"33%"},(0,p.gettext)("Name")),u.default.createElement("th",{width:"34%"},"ID"),u.default.createElement("th",{width:"33%"},(0,p.gettext)("Description")))),u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(S,{key:t,item:e})}))))}}]),t}(s.Component),S=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item;return u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement(c.Link,{to:p.siteRoot+"sys/libraries/"+e.id+"/"},e.name)),u.default.createElement("td",null,e.id),u.default.createElement("td",null,e.description))}}]),t}(s.Component),_=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0,errorMsg:"",items:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;f.seafileAPI.sysAdminGetSystemRepoInfo().then(function(t){var n=[];n.push(t.data),e.setState({items:n,loading:!1})}).catch(function(t){e.setState({loading:!1,errorMsg:d.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(b.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(E.default,{currentItem:"system"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(w,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.items})))))}}]),t}(s.Component);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(7),f=r(d),p=n(3),m=n(4),h=n(2),g=n(5),v=r(g),b=n(39),y=r(b),E=n(8),w=r(E),S=n(76),_=r(S),x=n(13),O=r(x),C=n(196),P=r(C),k=n(128),D=r(k),M=n(38),T=r(M),L=n(778),N=r(L),I=n(80),j=r(I),R=n(1054),Y=r(R),A=window.sysadmin.pageOptions.trashReposExpireDays,F=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.getPreviousPageList=function(){n.props.getListByPage(n.props.pageInfo.current_page-1)},n.getNextPageList=function(){n.props.getListByPage(n.props.pageInfo.current_page+1)},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items,o=t.pageInfo,i=t.curPerPage;if(n)return u.default.createElement(w.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var l=u.default.createElement(y.default,null,u.default.createElement("h2",null,(0,h.gettext)("No deleted libraries"))),c=u.default.createElement(s.Fragment,null,u.default.createElement("p",{className:"mt-4 small text-secondary"},(0,h.gettext)("Tip: libraries deleted {trashReposExpireDays} days ago will be cleaned automatically.").replace("{trashReposExpireDays}",A)),u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"43%"},(0,h.gettext)("Name")),u.default.createElement("th",{width:"27%"},(0,h.gettext)("Owner")),u.default.createElement("th",{width:"20%"},(0,h.gettext)("Deleted Time")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(B,{key:n,repo:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,onDeleteRepo:e.props.onDeleteRepo,onRestoreRepo:e.props.onRestoreRepo})}))),o&&u.default.createElement(_.default,{gotoPreviousPage:this.getPreviousPageList,gotoNextPage:this.getNextPageList,currentPage:o.current_page,hasNextPage:o.has_next_page,curPerPage:i,resetPerPage:this.props.resetPerPage}));return a.length?c:l}}]),t}(s.Component),B=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseOut=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.onDeleteRepo=function(){var e=n.props.repo;m.seafileAPI.sysAdminDeleteTrashRepo(e.id).then(function(t){n.props.onDeleteRepo(e);var r=(0,h.gettext)("Successfully deleted {name}.").replace("{name}",e.name);v.default.success(r)}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.onRestoreRepo=function(){var e=n.props.repo;m.seafileAPI.sysAdminRestoreTrashRepo(e.id).then(function(t){n.props.onRestoreRepo(e);var r=(0,h.gettext)("Successfully restored the library.");v.default.success(r)}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.toggleDeleteRepoDialog=function(e){e&&e.preventDefault(),n.setState({isDeleteRepoDialogOpen:!n.state.isDeleteRepoDialogOpen})},n.toggleRestoreRepoDialog=function(e){e&&e.preventDefault(),n.setState({isRestoreRepoDialogOpen:!n.state.isRestoreRepoDialogOpen})},n.translateOperations=function(e){var t="";switch(e){case"Restore":t=(0,h.gettext)("Restore");break;case"Delete":t=(0,h.gettext)("Delete")}return t},n.onMenuItemClick=function(e){switch(e){case"Restore":n.toggleRestoreRepoDialog();break;case"Delete":n.toggleDeleteRepoDialog()}},n.state={highlight:!1,isOpIconShown:!1,isDeleteRepoDialogOpen:!1,isRestoreRepoDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.repo,t=this.state,n=t.isOpIconShown,r=t.isDeleteRepoDialogOpen,a=t.isRestoreRepoDialogOpen,o=p.Utils.getLibIconUrl(e),i=p.Utils.getLibIconTitle(e),l='<span class="op-target">'+p.Utils.HTMLescape(e.name)+"</span>";return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut},u.default.createElement("td",null,u.default.createElement("img",{src:o,title:i,alt:i,width:"24"})),u.default.createElement("td",null,e.name),u.default.createElement("td",null,-1==e.owner.indexOf("@seafile_group")?u.default.createElement(j.default,{email:e.owner,name:e.owner_name}):e.group_name),u.default.createElement("td",null,(0,f.default)(e.delete_time).fromNow()),u.default.createElement("td",null,n&&u.default.createElement(P.default,{operations:["Restore","Delete"],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),r&&u.default.createElement(O.default,null,u.default.createElement(D.default,{title:(0,h.gettext)("Delete Library"),message:(0,h.gettext)("Are you sure you want to delete {placeholder} completely?").replace("{placeholder}",l),executeOperation:this.onDeleteRepo,confirmBtnText:(0,h.gettext)("Delete"),toggleDialog:this.toggleDeleteRepoDialog})),a&&u.default.createElement(O.default,null,u.default.createElement(D.default,{title:(0,h.gettext)("Restore Library"),message:(0,h.gettext)("Are you sure you want to restore {placeholder}?").replace("{placeholder}",l),executeOperation:this.onRestoreRepo,confirmBtnText:(0,h.gettext)("Restore"),toggleDialog:this.toggleRestoreRepoDialog})))}}]),t}(s.Component),Z=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleCleanTrashDialog=function(){n.setState({isCleanTrashDialogOpen:!n.state.isCleanTrashDialogOpen})},n.getReposByPage=function(e){var t=n.state.perPage;m.seafileAPI.sysAdminListTrashRepos(e,t).then(function(e){n.setState({repos:e.data.repos,pageInfo:e.data.page_info,loading:!1})}).catch(function(e){n.setState({loading:!1,errorMsg:p.Utils.getErrorMsg(e,!0)})})},n.resetPerPage=function(e){n.setState({perPage:e},function(){n.getReposByPage(1)})},n.onDeleteRepo=function(e){var t=n.state.repos.filter(function(t){return t.id!=e.id});n.setState({repos:t})},n.onRestoreRepo=function(e){var t=n.state.repos.filter(function(t){return t.id!=e.id});n.setState({repos:t})},n.cleanTrash=function(){m.seafileAPI.sysAdminCleanTrashRepos().then(function(e){n.setState({repos:[]}),v.default.success((0,h.gettext)("Successfully cleared trash."))}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.getSearch=function(){return u.default.createElement(N.default,{placeholder:(0,h.gettext)("Search libraries by owner"),submit:n.searchRepos})},n.searchRepos=function(e){m.seafileAPI.sysAdminSearchTrashRepos(e).then(function(e){n.setState({repos:e.data.repos,pageInfo:null,errorMsg:"",loading:!1})}).catch(function(e){n.setState({loading:!1,errorMsg:p.Utils.getErrorMsg(e,!0)})})},n.state={loading:!0,errorMsg:"",repos:[],pageInfo:{},perPage:25,isCleanTrashDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=void 0===r?1:r,o=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||o),currentPage:parseInt(t.get("page")||a)},function(){e.getReposByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state.isCleanTrashDialogOpen;return u.default.createElement(s.Fragment,null,this.state.repos.length?u.default.createElement(T.default,null,u.default.createElement(c.Button,{className:"operation-item",onClick:this.toggleCleanTrashDialog},(0,h.gettext)("Clean"))):u.default.createElement(T.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(Y.default,{currentItem:"trash"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(F,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.repos,pageInfo:this.state.pageInfo,onDeleteRepo:this.onDeleteRepo,onRestoreRepo:this.onRestoreRepo,getListByPage:this.getReposByPage,resetPerPage:this.resetPerPage,curPerPage:this.state.perPage})))),e&&u.default.createElement(D.default,{title:(0,h.gettext)("Clear Trash"),message:(0,h.gettext)("Are you sure you want to clear trash?"),executeOperation:this.cleanTrash,confirmBtnText:(0,h.gettext)("Clear"),toggleDialog:this.toggleCleanTrashDialog}))}}]),t}(s.Component);t.default=Z},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(4),f=n(2),p=n(3),m=n(38),h=r(m),g=n(1333),v=r(g),b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getRepos=function(){var e=n.state.name;d.seafileAPI.sysAdminSearchRepos(e).then(function(e){n.setState({loading:!1,repos:e.data.repo_list})}).catch(function(e){n.setState({loading:!1,errorMsg:p.Utils.getErrorMsg(e,!0)})})},n.searchRepos=function(){n.getRepos()},n.onDeleteRepo=function(e){var t=n.state.repos.filter(function(t){return t.id!=e.id});n.setState({repos:t})},n.onTransferRepo=function(e){var t=n.state.repos.map(function(t){return t.id==e.id?e:t});n.setState({repos:t})},n.handleNameInputChange=function(e){n.setState({name:e.target.value},n.checkSubmitBtnActive)},n.checkSubmitBtnActive=function(){var e=n.state.name;n.setState({isSubmitBtnActive:e.trim()})},n.state={name:"",isSubmitBtnActive:!1,loading:!0,errorMsg:"",repos:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=new URL(document.location).searchParams;this.setState({name:e.get("name")||""},this.getRepos)}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.isSubmitBtnActive;return u.default.createElement(s.Fragment,null,u.default.createElement(h.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,f.gettext)("Libraries"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("div",{className:"mt-4 mb-6"},u.default.createElement("h4",{className:"border-bottom font-weight-normal mb-2 pb-1"},(0,f.gettext)("Search Libraries")),u.default.createElement("p",{className:"text-secondary small"},(0,f.gettext)("Tip: you can search by keyword in name.")),u.default.createElement(c.Form,null,u.default.createElement(c.FormGroup,{row:!0},u.default.createElement(c.Label,{for:"name",sm:1},(0,f.gettext)("Name")),u.default.createElement(c.Col,{sm:5},u.default.createElement(c.Input,{type:"text",name:"name",id:"name",value:t,onChange:this.handleNameInputChange}))),u.default.createElement(c.FormGroup,{row:!0},u.default.createElement(c.Col,{sm:{size:5,offset:1}},u.default.createElement("button",{className:"btn btn-outline-primary",disabled:!n,onClick:this.searchRepos},(0,f.gettext)("Submit")))))),u.default.createElement("div",{className:"mt-4 mb-6"},u.default.createElement("h4",{className:"border-bottom font-weight-normal mb-2 pb-1"},(0,f.gettext)("Result")),u.default.createElement(v.default,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.repos,onDeleteRepo:this.onDeleteRepo,onTransferRepo:this.onTransferRepo}))))))}}]),t}(s.Component);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(699),f=n(3),p=n(4),m=n(2),h=n(5),g=r(h),v=n(473),b=r(v),y=n(2490),E=r(y),w=n(38),S=r(w),_=n(2491),x=r(_),O=n(2492),C=r(O),P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onPathClick=function(e){n.loadDirentList(e)},n.toggleNewFolderDialog=function(){n.setState({isNewFolderDialogOpen:!n.state.isNewFolderDialogOpen})},n.createNewFolder=function(e){var t=f.Utils.getFileName(e);p.seafileAPI.sysAdminCreateSysRepoFolder(n.props.repoID,n.state.path,t).then(function(e){var t=new E.default(e.data),r=n.state.direntList;r.unshift(t),n.setState({direntList:r}),n.toggleNewFolderDialog()}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})},n.openFolder=function(e){var t=f.Utils.joinPath(n.state.path,e.name);e.is_file||n.loadDirentList(t)},n.loadDirentList=function(e){var t=n.props.repoID;p.seafileAPI.sysAdminListRepoDirents(t,e).then(function(r){var a=r.data,o=a.is_system_library,i=a.repo_name,l=a.dirent_list,s=[];l.forEach(function(e){var t=new E.default(e);s.push(t)}),n.setState({loading:!1,repoName:i,isSystemRepo:o,direntList:s,path:e},function(){var r=m.siteRoot+"sys/libraries/"+t+"/"+encodeURIComponent(n.state.repoName)+f.Utils.encodePath(e);window.history.replaceState({url:r,path:e},e,r)})}).catch(function(e){n.setState({loading:!1,errorMsg:f.Utils.getErrorMsg(e,!0)})})},n.deleteDirent=function(e){var t=f.Utils.joinPath(n.state.path,e.name);p.seafileAPI.sysAdminDeleteRepoDirent(n.props.repoID,t).then(function(t){g.default.success((0,m.gettext)("Successfully deleted 1 item."));var r=n.state.direntList.filter(function(t){return t.name!=e.name});n.setState({direntList:r})}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})},n.downloadDirent=function(e){var t=f.Utils.joinPath(n.state.path,e.name);p.seafileAPI.sysAdminGetRepoFileDownloadURL(n.props.repoID,t).then(function(e){location.href=e.data.download_url}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})},n.openFileInput=function(){n.fileInput.current.click()},n.onFileInputChange=function(){if(n.fileInput.current.files.length){var e=n.fileInput.current.files[0],t=n.state.path;p.seafileAPI.sydAdminGetSysRepoItemUploadURL(t).then(function(r){var a=new FormData;a.append("parent_dir",t),a.append("file",e),(0,d.post)(r.data.upload_link,a).then(function(e){var t=e.data[0],r=new E.default({is_file:!0,obj_name:t.name,file_size:f.Utils.bytesToSize(t.size),last_update:(new Date).getTime()}),a=n.state.direntList,o=a.filter(function(e){return!e.is_file});a.splice(o.length,0,r),n.setState({direntList:a})})}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})}},n.checkDuplicatedName=function(e){return n.state.direntList.some(function(t){return t.name===e})},n.fileInput=u.default.createRef(),n.state={loading:!0,errorMsg:"",isSystemRepo:!1,repoName:"",path:"",direntList:[],isNewFolderDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.loadDirentList("/")}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.errorMsg,r=e.repoName,a=e.direntList,o=e.isSystemRepo,i=e.path,l=e.isNewFolderDialogOpen,d=this.props.repoID;return u.default.createElement(s.Fragment,null,o?u.default.createElement(S.default,null,u.default.createElement(s.Fragment,null,u.default.createElement("input",{className:"d-none",type:"file",onChange:this.onFileInputChange,ref:this.fileInput}),u.default.createElement(c.Button,{className:"operation-item",onClick:this.openFileInput},(0,m.gettext)("Upload")),u.default.createElement(c.Button,{className:"operation-item",onClick:this.toggleNewFolderDialog},(0,m.gettext)("New Folder")))):u.default.createElement(S.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path align-items-center"},u.default.createElement(x.default,{isSystemRepo:o,repoID:d,repoName:r,currentPath:i,onPathClick:this.onPathClick})),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(C.default,{loading:t,errorMsg:n,fromSystemRepo:o,direntList:a,openFolder:this.openFolder,deleteDirent:this.deleteDirent,downloadDirent:this.downloadDirent})))),l&&u.default.createElement(b.default,{parentPath:i,checkDuplicatedName:this.checkDuplicatedName,onAddFolder:this.createNewFolder,addFolderCancel:this.toggleNewFolderDialog}))}}]),t}(s.Component);t.default=P},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.name=t.obj_name,this.mtime=t.last_update,this.size=t.file_size,this.is_file=t.is_file}return a(e,[{key:"isDir",value:function(){return!this.is_file}}]),e}();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(3),m={repoName:d.default.string.isRequired,currentPath:d.default.string.isRequired,onPathClick:d.default.func.isRequired,repoID:d.default.string.isRequired},h=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,c=Array(l),d=0;d<l;d++)c[d]=arguments[d];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.onPathClick=function(e){var t=p.Utils.getEventData(e,"path");r.props.onPathClick(t)},r.turnPathToLink=function(e){e="/"===e[e.length-1]?e.slice(0,e.length-1):e;var t=e.split("/"),n="";return t.map(function(e,a){if(""!==e)return a===t.length-1?u.default.createElement(s.Fragment,{key:a},u.default.createElement("span",{className:"path-split"},"/"),u.default.createElement("span",{className:"path-file-name"},e)):(n+="/"+e,u.default.createElement(s.Fragment,{key:a},u.default.createElement("span",{className:"path-split"},"/"),u.default.createElement("a",{className:"path-link","data-path":n,onClick:r.onPathClick},e)))})},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.isSystemRepo,n=e.currentPath,r=e.repoName,a=this.turnPathToLink(n);return u.default.createElement("div",{className:"path-container"},t?u.default.createElement("a",{href:f.siteRoot+"sys/system-library/"},(0,f.gettext)("System")):u.default.createElement("a",{href:f.siteRoot+"sys/all-libraries/"},(0,f.gettext)("All")),u.default.createElement("span",{className:"path-split"},"/"),"/"===n||""===n?u.default.createElement("span",{className:"path-repo-name"},r):u.default.createElement("a",{className:"path-link","data-path":"/",onClick:this.onPathClick},r),a)}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(15),p=n(7),m=r(p),h=n(2),g=n(3),v=n(8),b=r(v),y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.openFolder=function(){n.props.openFolder(n.props.dirent)},n.deleteDirent=function(e){e.preventDefault(),n.props.deleteDirent(n.props.dirent)},n.downloadDirent=function(e){e.preventDefault(),n.props.downloadDirent(n.props.dirent)},n.state={isOpIconShown:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.isOpIconShown,n=(e.isDeleteDialogOpen,this.props),r=n.dirent,a=n.fromSystemRepo,o=g.Utils.getDirentIcon(r);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut},u.default.createElement("td",{className:"text-center"},u.default.createElement("img",{src:o,width:"24",alt:""})),u.default.createElement("td",null,r.is_file?r.name:u.default.createElement(f.Link,{to:"#",onClick:this.openFolder},r.name)),u.default.createElement("td",null,t&&a&&u.default.createElement("a",{href:"#",className:"op-icon sf2-icon-delete",title:(0,h.gettext)("Delete"),onClick:this.deleteDirent}),t&&r.is_file&&u.default.createElement("a",{href:"#",className:"op-icon sf2-icon-download",title:(0,h.gettext)("Download"),onClick:this.downloadDirent})),u.default.createElement("td",null,r.size),u.default.createElement("td",null,(0,m.default)(r.mtime).fromNow())))}}]),t}(u.default.Component),E={direntList:d.default.array.isRequired},w=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.direntList;return n?u.default.createElement(b.default,null):r?u.default.createElement("p",{className:"error text-center mt-4"},r):u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"55%"},(0,h.gettext)("Name")),u.default.createElement("th",{width:"10%"}),u.default.createElement("th",{width:"15%"},(0,h.gettext)("Size")),u.default.createElement("th",{width:"15%"},(0,h.gettext)("Last Update")))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(y,{key:n,dirent:t,openFolder:e.props.openFolder,deleteDirent:e.props.deleteDirent,downloadDirent:e.props.downloadDirent,fromSystemRepo:e.props.fromSystemRepo})}))))}}]),t}(u.default.Component);w.propTypes=E,t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(6),f=n(3),p=n(4),m=n(2),h=n(5),g=r(h),v=n(2494),b=r(v),y=n(38),E=r(y),w=n(778),S=r(w),_=n(1334),x=r(_),O=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleCreateGroupDialog=function(){n.setState({isCreateGroupDialogOpen:!n.state.isCreateGroupDialogOpen})},n.getGroupListByPage=function(e){p.seafileAPI.sysAdminListAllGroups(e,n.state.perPage).then(function(e){n.setState({loading:!1,groupList:e.data.groups,pageInfo:e.data.page_info})}).catch(function(e){n.setState({loading:!1,errorMsg:f.Utils.getErrorMsg(e,!0)})})},n.resetPerPage=function(e){n.setState({perPage:e},function(){n.getGroupListByPage(1)})},n.createGroup=function(e,t){p.seafileAPI.sysAdminCreateNewGroup(e,t).then(function(e){var t=n.state.groupList;t.unshift(e.data),n.setState({groupList:t}),n.toggleCreateGroupDialog()}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})},n.deleteGroup=function(e){p.seafileAPI.sysAdminDismissGroupByID(e).then(function(t){var r=n.state.groupList.filter(function(t){return t.id!=e});n.setState({groupList:r}),g.default.success((0,m.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})},n.transferGroup=function(e,t){p.seafileAPI.sysAdminTransferGroup(t,e).then(function(t){var r=n.state.groupList.map(function(n){return n.id==e&&(n=t.data),n});n.setState({groupList:r}),g.default.success((0,m.gettext)("Successfully transferred the group."))}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})},n.getSearch=function(){return u.default.createElement(S.default,{placeholder:(0,m.gettext)("Search groups by name"),submit:n.searchGroups})},n.searchGroups=function(e){(0,c.navigate)(m.siteRoot+"sys/search-groups/?name="+encodeURIComponent(e))},n.state={loading:!0,errorMsg:"",groupList:[],pageInfo:{},perPage:25,isCreateGroupDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=void 0===r?1:r,o=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||o),currentPage:parseInt(t.get("page")||a)},function(){e.getGroupListByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state.isCreateGroupDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement(E.default,{search:this.getSearch()},u.default.createElement(s.Fragment,null,u.default.createElement(d.Button,{className:"operation-item",onClick:this.toggleCreateGroupDialog},(0,m.gettext)("New Group")),u.default.createElement("a",{className:"btn btn-secondary operation-item",href:m.siteRoot+"sys/groupadmin/export-excel/"},(0,m.gettext)("Export Excel")))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,m.gettext)("Groups"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(x.default,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.groupList,pageInfo:this.state.pageInfo,deleteGroup:this.deleteGroup,transferGroup:this.transferGroup,getListByPage:this.getGroupListByPage,resetPerPage:this.resetPerPage,curPerPage:this.state.perPage})))),e&&u.default.createElement(b.default,{createGroup:this.createGroup,toggleDialog:this.toggleCreateGroupDialog}))}}]),t}(s.Component);t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(45),h=r(m),g={createGroup:d.default.func.isRequired,toggleDialog:d.default.func.isRequired},v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRepoNameChange=function(e){e.target.value.trim()?n.setState({isSubmitBtnActive:!0}):n.setState({isSubmitBtnActive:!1}),n.setState({groupName:e.target.value})},n.handleSubmit=function(){var e=n.state.groupName.trim();n.props.createGroup(e,n.state.ownerEmail)},n.handleSelectChange=function(e){n.setState({ownerEmail:e?e.email:""})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.handleSubmit(),e.preventDefault())},n.toggle=function(){n.props.toggleDialog()},n.state={groupName:"",ownerEmail:"",errMessage:"",isSubmitBtnActive:!1},n.newInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.newInput.focus()}},{key:"render",value:function(){var e=this;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("New Group")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"groupName"},(0,p.gettext)("Name")),u.default.createElement(f.Input,{id:"groupName",onKeyPress:this.handleKeyPress,innerRef:function(t){e.newInput=t},value:this.state.groupName,onChange:this.handleRepoNameChange}),u.default.createElement(f.Label,{className:"mt-2"},(0,p.gettext)("Owner"),u.default.createElement("span",{className:"small text-secondary"},(0,p.gettext)("(If left blank, owner will be admin)"))),u.default.createElement(h.default,{isMulti:!1,className:"reviewer-select",placeholder:(0,p.gettext)("Select a user"),onSelectChange:this.handleSelectChange}))),this.state.errMessage&&u.default.createElement(f.Alert,{color:"danger"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit,disabled:!this.state.isSubmitBtnActive},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(3),m=n(2),h=n(45),g=r(h),v={groupName:d.default.string.isRequired,transferGroup:d.default.func.isRequired,toggleDialog:d.default.func.isRequired},b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e,submitBtnDisabled:null==e})},n.submit=function(){var e=n.state.selectedOption.email;n.props.transferGroup(e),n.props.toggleDialog()},n.state={selectedOption:null,submitBtnDisabled:!0},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state.submitBtnDisabled,t='<span class="op-target">'+p.Utils.HTMLescape(this.props.groupName)+"</span>",n=(0,m.gettext)("Transfer Group {placeholder} to").replace("{placeholder}",t);return u.default.createElement(f.Modal,{isOpen:!0},u.default.createElement(f.ModalHeader,{toggle:this.props.toggleDialog},u.default.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),u.default.createElement(f.ModalBody,null,u.default.createElement(g.default,{ref:"userSelect",isMulti:!1,className:"reviewer-select",placeholder:(0,m.gettext)("Select a user"),onSelectChange:this.handleSelectChange})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggleDialog},(0,m.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.submit,disabled:e},(0,m.gettext)("Submit"))))}}]),t}(u.default.Component);b.propTypes=v,t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(3),f=n(4),p=n(2),m=n(5),h=r(m),g=n(38),v=r(g),b=n(1334),y=r(b),E=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getGroups=function(){var e=n.state.name;f.seafileAPI.sysAdminSearchGroups(e).then(function(e){n.setState({loading:!1,groupList:e.data.group_list})}).catch(function(e){n.setState({loading:!1,errorMsg:d.Utils.getErrorMsg(e,!0)})})},n.deleteGroup=function(e){f.seafileAPI.sysAdminDismissGroupByID(e).then(function(t){var r=n.state.groupList.filter(function(t){return t.id!=e});n.setState({groupList:r}),h.default.success((0,p.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.transferGroup=function(e,t){f.seafileAPI.sysAdminTransferGroup(t,e).then(function(t){var r=n.state.groupList.map(function(n){return n.id==e&&(n=t.data),n});n.setState({groupList:r}),h.default.success((0,p.gettext)("Successfully transferred the group."))}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.handleNameInputChange=function(e){n.setState({name:e.target.value},n.checkSubmitBtnActive)},n.checkSubmitBtnActive=function(){var e=n.state.name;n.setState({isSubmitBtnActive:e.trim()})},n.state={name:"",isSubmitBtnActive:!1,loading:!0,errorMsg:"",groupList:[],pageInfo:null},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=new URL(document.location).searchParams;this.setState({name:e.get("name")||""},this.getGroups)}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.isSubmitBtnActive;return u.default.createElement(s.Fragment,null,u.default.createElement(v.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,p.gettext)("Groups"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("div",{className:"mt-4 mb-6"},u.default.createElement("h4",{className:"border-bottom font-weight-normal mb-2 pb-1"},(0,p.gettext)("Search Groups")),u.default.createElement("p",{className:"text-secondary small"},(0,p.gettext)("Tip: you can search by keyword in name.")),u.default.createElement(c.Form,null,u.default.createElement(c.FormGroup,{row:!0},u.default.createElement(c.Label,{for:"name",sm:1},(0,p.gettext)("Name")),u.default.createElement(c.Col,{sm:5},u.default.createElement(c.Input,{type:"text",name:"name",id:"name",value:t,onChange:this.handleNameInputChange}))),u.default.createElement(c.FormGroup,{row:!0},u.default.createElement(c.Col,{sm:{size:5,offset:1}},u.default.createElement("button",{className:"btn btn-outline-primary",disabled:!n,onClick:this.getGroups},(0,p.gettext)("Submit")))))),u.default.createElement("div",{className:"mt-4 mb-6"},u.default.createElement("h4",{className:"border-bottom font-weight-normal mb-2 pb-1"},(0,p.gettext)("Result")),u.default.createElement(y.default,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.groupList,deleteGroup:this.deleteGroup,transferGroup:this.transferGroup}))))))}}]),t}(s.Component);t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(3),d=n(4),f=n(2),p=n(5),m=r(p),h=n(39),g=r(h),v=n(8),b=r(v),y=n(128),E=r(y),w=n(38),S=r(w),_=n(80),x=r(_),O=n(1335),C=r(O),P=window.sysadmin.pageOptions.enableSysAdminViewRepo,k=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items;if(n)return u.default.createElement(b.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var o=u.default.createElement(g.default,null,u.default.createElement("h2",null,(0,f.gettext)("No libraries"))),i=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"30%"},(0,f.gettext)("Name")),u.default.createElement("th",{width:"30%"},(0,f.gettext)("Size")),u.default.createElement("th",{width:"25%"},(0,f.gettext)("Shared By")),u.default.createElement("th",{width:"10%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(D,{key:n,item:t,unshareRepo:e.props.unshareRepo})}))));return a.length?i:o}}]),t}(s.Component),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.setState({isOpIconShown:!0})},n.handleMouseLeave=function(){n.setState({isOpIconShown:!1})},n.toggleUnshareRepoDialog=function(e){e&&e.preventDefault(),n.setState({isUnshareRepoDialogOpen:!n.state.isUnshareRepoDialogOpen})},n.unshareRepo=function(){var e=n.props.item;n.props.unshareRepo(e.repo_id,e.name),n.toggleUnshareRepoDialog()},n.renderRepoName=function(){var e=n.props.item,t=e;return t.id=e.repo_id,t.name?f.isPro&&P&&!t.encrypted?u.default.createElement("a",{href:f.siteRoot+"sys/libraries/"+t.id+"/"},t.name):t.name:"--"},n.state={isOpIconShown:!1,isUnshareRepoDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.isOpIconShown,n=e.isUnshareRepoDialogOpen,r=this.props.item,a=c.Utils.getLibIconUrl(r),o=c.Utils.getLibIconTitle(r),i='<span class="op-target">'+c.Utils.HTMLescape(r.name)+"</span>",l=(0,f.gettext)("Are you sure you want to unshare {placeholder} ?").replace("{placeholder}",i);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement("img",{src:a,title:o,alt:o,width:"24"})),u.default.createElement("td",null,this.renderRepoName()),u.default.createElement("td",null,c.Utils.bytesToSize(r.size)),u.default.createElement("td",null,u.default.createElement(x.default,{email:r.shared_by,name:r.shared_by_name})),u.default.createElement("td",null,u.default.createElement("a",{href:"#",className:"action-icon sf2-icon-x3 "+(t?"":"invisible"),title:(0,f.gettext)("Unshare"),onClick:this.toggleUnshareRepoDialog}))),n&&u.default.createElement(E.default,{title:(0,f.gettext)("Unshare Library"),message:l,executeOperation:this.unshareRepo,confirmBtnText:(0,f.gettext)("Unshare"),toggleDialog:this.toggleUnshareRepoDialog}))}}]),t}(s.Component),M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.unshareRepo=function(e,t){d.seafileAPI.sysAdminUnshareRepoFromGroup(n.props.groupID,e).then(function(r){var a=n.state.repoList.filter(function(t){return t.repo_id!=e});n.setState({repoList:a});var o=(0,f.gettext)("Successfully unshared library {placeholder}").replace("{placeholder}",t);m.default.success(o)}).catch(function(e){var t=c.Utils.getErrorMsg(e);m.default.danger(t)})},n.state={loading:!0,errorMsg:"",groupName:"",repoList:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;d.seafileAPI.sysAdminListGroupRepos(this.props.groupID).then(function(t){e.setState({loading:!1,repoList:t.data.libraries,groupName:t.data.group_name})}).catch(function(t){e.setState({loading:!1,errorMsg:c.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(S.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(C.default,{groupID:this.props.groupID,groupName:this.state.groupName,currentItem:"repos"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(k,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.repoList,unshareRepo:this.unshareRepo})))))}}]),t}(s.Component);t.default=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(3),f=n(4),p=n(2),m=n(5),h=r(m),g=n(39),v=r(g),b=n(8),y=r(b),E=n(76),w=r(E),S=n(128),_=r(S),x=n(2499),O=r(x),C=n(2500),P=r(C),k=n(38),D=r(k),M=n(80),T=r(M),L=n(1335),N=r(L),I=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPageList=function(){n.props.getListByPage(n.props.pageInfo.current_page-1)},n.getNextPageList=function(){n.props.getListByPage(n.props.pageInfo.current_page+1)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items,o=t.pageInfo,i=t.curPerPage;if(n)return u.default.createElement(y.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var l=u.default.createElement(v.default,null,u.default.createElement("h2",null,(0,p.gettext)("No members"))),c=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"55%"},(0,p.gettext)("Name")),u.default.createElement("th",{width:"30%"},(0,p.gettext)("Role")),u.default.createElement("th",{width:"10%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(j,{key:n,item:t,removeMember:e.props.removeMember,updateMemberRole:e.props.updateMemberRole})}))),o&&u.default.createElement(w.default,{gotoPreviousPage:this.getPreviousPageList,gotoNextPage:this.getNextPageList,currentPage:o.current_page,hasNextPage:o.has_next_page,curPerPage:i,resetPerPage:this.props.resetPerPage}));return a.length?c:l}}]),t}(s.Component),j=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.setState({isOpIconShown:!0})},n.handleMouseLeave=function(){n.setState({isOpIconShown:!1})},n.toggleDeleteDialog=function(e){e&&e.preventDefault(),n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen})},n.removeMember=function(){var e=n.props.item;n.props.removeMember(e.email,e.name),n.toggleDeleteDialog()},n.updateMemberRole=function(e){n.props.updateMemberRole(n.props.item.email,e)},n.state={isOpIconShown:!1,isDeleteDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.isOpIconShown,n=e.isDeleteDialogOpen,r=this.props.item,a='<span class="op-target">'+d.Utils.HTMLescape(r.name)+"</span>",o=(0,p.gettext)("Are you sure you want to remove {placeholder} ?").replace("{placeholder}",a);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement("img",{src:r.avatar_url,alt:"",className:"rounded-circle",width:"24"})),u.default.createElement("td",null,u.default.createElement(T.default,{email:r.email,name:r.name})),u.default.createElement("td",null,"Owner"==r.role?(0,p.gettext)("Owner"):u.default.createElement(P.default,{isTextMode:!0,isEditIconShow:t,roleOptions:["Member","Admin"],currentRole:r.role,onRoleChanged:this.updateMemberRole})),u.default.createElement("td",null,"Owner"!=r.role&&u.default.createElement("a",{href:"#",className:"action-icon sf2-icon-x3 "+(t?"":"invisible"),title:(0,p.gettext)("Remove"),onClick:this.toggleDeleteDialog}))),n&&u.default.createElement(_.default,{title:(0,p.gettext)("Remove Member"),message:o,executeOperation:this.removeMember,confirmBtnText:(0,p.gettext)("Remove"),toggleDialog:this.toggleDeleteDialog}))}}]),t}(s.Component),R=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getListByPage=function(e){var t=n.state.perPage;f.seafileAPI.sysAdminListGroupMembers(n.props.groupID,e,t).then(function(e){n.setState({loading:!1,memberList:e.data.members,groupName:e.data.group_name,pageInfo:e.data.page_info})}).catch(function(e){n.setState({loading:!1,errorMsg:d.Utils.getErrorMsg(e,!0)})})},n.resetPerPage=function(e){n.setState({perPage:e},function(){n.getListByPage(1)})},n.toggleAddMemgerDialog=function(){n.setState({isAddMemberDialogOpen:!n.state.isAddMemberDialogOpen})},n.addMembers=function(e){f.seafileAPI.sysAdminAddGroupMember(n.props.groupID,e).then(function(e){var t=e.data.success;t.length&&(n.setState({memberList:t.concat(n.state.memberList)}),t.map(function(e){var t=(0,p.gettext)("Successfully added {email_placeholder}").replace("{email_placeholder}",e.email);h.default.success(t)})),e.data.failed.map(function(e){var t=(0,p.gettext)("Failed to add {email_placeholder}: {error_msg_placeholder}").replace("{email_placeholder}",e.email).replace("{error_msg_placeholder}",e.error_msg);h.default.danger(t,{duration:3})})}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.removeMember=function(e,t){f.seafileAPI.sysAdminDeleteGroupMember(n.props.groupID,e).then(function(r){var a=n.state.memberList.filter(function(t){return t.email!=e});n.setState({memberList:a}),h.default.success((0,p.gettext)("Successfully removed {placeholder}.").replace("{placeholder}",t))}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.updateMemberRole=function(e,t){var r="Admin"==t;f.seafileAPI.sysAdminUpdateGroupMemberRole(n.props.groupID,e,r).then(function(r){var a=n.state.memberList.map(function(n){return n.email==e&&(n.role=t),n});n.setState({memberList:a})}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.state={loading:!0,errorMsg:"",groupName:"",memberList:[],pageInfo:{},currentPage:1,perPage:25,isAddMemberDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({currentPage:parseInt(t.get("page")||r),perPage:parseInt(t.get("per_page")||a)},function(){e.getListByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state.isAddMemberDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement(D.default,null,u.default.createElement(c.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleAddMemgerDialog},(0,p.gettext)("Add Member"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(N.default,{currentItem:"members",groupID:this.props.groupID,groupName:this.state.groupName}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(I,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.memberList,removeMember:this.removeMember,updateMemberRole:this.updateMemberRole,pageInfo:this.state.pageInfo,curPerPage:this.state.perPage,getListByPage:this.getListByPage,resetPerPage:this.resetPerPage})))),e&&u.default.createElement(O.default,{addMembers:this.addMembers,toggle:this.toggleAddMemgerDialog}))}}]),t}(s.Component);t.default=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(45),h=r(m),g={toggle:d.default.func.isRequired,addMembers:d.default.func.isRequired},v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOptions:e,isSubmitBtnDisabled:!e.length})},n.addMembers=function(){var e=n.state.selectedOptions.map(function(e){return e.email});n.props.addMembers(e),n.props.toggle()},n.state={selectedOptions:null,isSubmitBtnDisabled:!0},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state.isSubmitBtnDisabled;return u.default.createElement(f.Modal,{isOpen:!0},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Add Member")),u.default.createElement(f.ModalBody,null,u.default.createElement(h.default,{ref:"userSelect",isMulti:!0,className:"reviewer-select",placeholder:(0,p.gettext)("Search users"),onSelectChange:this.handleSelectChange})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.addMembers,disabled:e},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(62),m=r(p),h={isTextMode:d.default.bool.isRequired,isEditIconShow:d.default.bool.isRequired,roleOptions:d.default.array.isRequired,currentRole:d.default.string.isRequired,onRoleChanged:d.default.func.isRequired},g=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.translateRoles=function(e){switch(e){case"Member":return(0,f.gettext)("Member");case"Admin":return(0,f.gettext)("Admin");default:return e}},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(m.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.roleOptions,currentOption:this.props.currentRole,onOptionChanged:this.props.onRoleChanged,translateOption:this.translateRoles})}}]),t}(u.default.Component);g.propTypes=h,t.default=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(l);n(445);var u=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"h-100 org-departments"},this.props.children)}}]),t}(s.default.Component);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=(r(c),n(7)),f=r(d),p=n(4),m=n(38),h=r(m),g=n(13),v=r(g),b=n(1336),y=r(b),E=n(1337),w=r(E),S=n(1338),_=r(S),x=n(2),O=n(1339),C=r(O);n(445),f.default.locale(x.lang);var P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.listDepartGroups=function(){p.seafileAPI.sysAdminListAllDepartments().then(function(e){n.setState({groups:e.data.data})})},n.showDeleteDepartDialog=function(e){n.setState({showDeleteDepartDialog:!0,groupID:e.id,groupName:e.name})},n.showSetGroupQuotaDialog=function(e){n.setState({showSetGroupQuotaDialog:!0,groupID:e})},n.toggleAddDepartDialog=function(){n.setState({isShowAddDepartDialog:!n.state.isShowAddDepartDialog})},n.toggleCancel=function(){n.setState({showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1})},n.onDepartChanged=function(){n.listDepartGroups()},n.state={groups:null,groupID:"",groupName:"",showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1,isShowAddDepartDialog:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.listDepartGroups()}},{key:"render",value:function(){var e=this,t=this.state.groups,n=u.default.createElement(s.Fragment,null,u.default.createElement("button",{className:"btn btn-secondary operation-item",title:(0,x.gettext)("New Department"),onClick:this.toggleAddDepartDialog},(0,x.gettext)("New Department")),this.state.isShowAddDepartDialog&&u.default.createElement(v.default,null,u.default.createElement(y.default,{onDepartChanged:this.onDepartChanged,groupID:this.state.groupID,toggle:this.toggleAddDepartDialog})));return u.default.createElement(s.Fragment,null,u.default.createElement(h.default,{children:n}),u.default.createElement("div",{className:"main-panel-center flex-row h-100"},u.default.createElement("div",{className:"cur-view-container o-auto"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"fleft"},u.default.createElement("h3",{className:"sf-heading"},(0,x.gettext)("Departments")))),u.default.createElement("div",{className:"cur-view-content"},t&&t.length>0?u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"40%"},(0,x.gettext)("Name")),u.default.createElement("th",{width:"25%"},(0,x.gettext)("Created At")),u.default.createElement("th",{width:"20%"},(0,x.gettext)("Quota")),u.default.createElement("th",{width:"15%"}))),u.default.createElement("tbody",null,t.map(function(t,n){return u.default.createElement(s.Fragment,{key:t.id},u.default.createElement(C.default,{group:t,showDeleteDepartDialog:e.showDeleteDepartDialog,showSetGroupQuotaDialog:e.showSetGroupQuotaDialog}))}))):u.default.createElement("p",{className:"no-group"},(0,x.gettext)("No departments"))),this.state.showDeleteDepartDialog&&u.default.createElement(v.default,null,u.default.createElement(w.default,{toggle:this.toggleCancel,groupID:this.state.groupID,groupName:this.state.groupName,onDepartChanged:this.onDepartChanged})),this.state.showSetGroupQuotaDialog&&u.default.createElement(v.default,null,u.default.createElement(_.default,{toggle:this.toggleCancel,groupID:this.state.groupID,onDepartChanged:this.onDepartChanged})))))}}]),t}(u.default.Component);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(7),p=r(f),m=n(15),h=n(76),g=r(h),v=n(4),b=n(3),y=n(5),E=r(y),w=n(38),S=r(w),_=n(13),x=r(_),O=n(1336),C=r(O),P=n(2504),k=r(P),D=n(2505),M=r(D),T=n(2506),L=r(T),N=n(2507),I=r(N),j=n(1337),R=r(j),Y=n(1338),A=r(Y),F=n(2),B=n(1339),Z=r(B),H=n(2508),X=r(H),J=n(2509),U=r(J);n(445),p.default.locale(F.lang);var Q={groupID:d.default.string},W=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.listGroupRepo=function(e){v.seafileAPI.sysAdminListGroupRepos(e).then(function(e){n.setState({repos:e.data.libraries})}).catch(function(e){var t=b.Utils.getErrorMsg(e);E.default.danger(t)})},n.getDepartmentInfo=function(e){v.seafileAPI.sysAdminGetDepartmentInfo(e,!0).then(function(e){n.setState({groups:e.data.groups,ancestorGroups:e.data.ancestor_groups,groupName:e.data.name})}).catch(function(e){var t=b.Utils.getErrorMsg(e);E.default.danger(t)})},n.listMembers=function(e,t,r){v.seafileAPI.sysAdminListGroupMembers(e,t,r).then(function(e){n.setState({members:e.data.members,membersPageInfo:e.data.page_info})}).catch(function(e){var t=b.Utils.getErrorMsg(e);n.setState({membersErrorMsg:t})})},n.getPreviousPageList=function(){n.listMembers(n.props.groupID,n.state.membersPageInfo.current_page-1,n.state.membersPerPage)},n.getNextPageList=function(){n.listMembers(n.props.groupID,n.state.membersPageInfo.current_page+1,n.state.membersPerPage)},n.resetPerPage=function(e){n.setState({membersPerPage:e},function(){n.listMembers(n.props.groupID,1,e)})},n.listSubDepartGroups=function(e){v.seafileAPI.sysAdminGetDepartmentInfo(e,!0).then(function(e){n.setState({groups:e.data.groups})}).catch(function(e){var t=b.Utils.getErrorMsg(e);E.default.danger(t)})},n.toggleCancel=function(){n.setState({showDeleteMemberDialog:!1,showDeleteRepoDialog:!1,showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1})},n.onSubDepartChanged=function(){n.listSubDepartGroups(n.props.groupID)},n.onRepoChanged=function(){n.listGroupRepo(n.props.groupID)},n.onMemberChanged=function(){n.listMembers(n.props.groupID,n.state.membersPageInfo.current_page,n.state.membersPerPage)},n.toggleItemFreezed=function(e){n.setState({isItemFreezed:e})},n.showDeleteMemberDialog=function(e){n.setState({showDeleteMemberDialog:!0,deletedMember:e})},n.showDeleteRepoDialog=function(e){n.setState({showDeleteRepoDialog:!0,deletedRepo:e})},n.toggleAddRepoDialog=function(){n.setState({isShowAddRepoDialog:!n.state.isShowAddRepoDialog})},n.toggleAddMemberDialog=function(){n.setState({isShowAddMemberDialog:!n.state.isShowAddMemberDialog})},n.toggleAddDepartDialog=function(){n.setState({isShowAddDepartDialog:!n.state.isShowAddDepartDialog})},n.showDeleteDepartDialog=function(e){n.setState({showDeleteDepartDialog:!0,subGroupID:e.id,subGroupName:e.name})},n.showSetGroupQuotaDialog=function(e){n.setState({showSetGroupQuotaDialog:!0,subGroupID:e})},n.state={groupName:"",isItemFreezed:!1,ancestorGroups:[],members:[],membersErrorMsg:"",membersPageInfo:{},membersPage:1,membersPerPage:25,deletedMember:{},isShowAddMemberDialog:!1,showDeleteMemberDialog:!1,repos:[],deletedRepo:{},isShowAddRepoDialog:!1,showDeleteRepoDialog:!1,groups:[],subGroupID:"",subGroupName:"",isShowAddDepartDialog:!1,showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.groupID;this.listGroupRepo(e),this.getDepartmentInfo(e),this.listMembers(e,this.state.membersPage,this.state.membersPerPage)}},{key:"componentWillReceiveProps",value:function(e){this.props.groupID!==e.groupID&&(this.listGroupRepo(e.groupID),this.getDepartmentInfo(e.groupID),this.listMembers(e.groupID,this.state.membersPage,this.state.membersPerPage))}},{key:"render",value:function(){var e=this,t=this.state,n=t.members,r=t.membersErrorMsg,a=t.repos,o=t.groups,i=this.props.groupID,l="btn btn-secondary operation-item",c=u.default.createElement(s.Fragment,null,i&&u.default.createElement(s.Fragment,null,u.default.createElement("button",{className:l,title:(0,F.gettext)("New Sub-department"),onClick:this.toggleAddDepartDialog},(0,F.gettext)("New Sub-department")),u.default.createElement("button",{className:l,title:(0,F.gettext)("Add Member"),onClick:this.toggleAddMemberDialog},(0,F.gettext)("Add Member")),u.default.createElement("button",{className:l,onClick:this.toggleAddRepoDialog,title:(0,F.gettext)("New Library")},(0,F.gettext)("New Library"))),this.state.isShowAddMemberDialog&&u.default.createElement(x.default,null,u.default.createElement(k.default,{toggle:this.toggleAddMemberDialog,onMemberChanged:this.onMemberChanged,groupID:i})),this.state.isShowAddRepoDialog&&u.default.createElement(x.default,null,u.default.createElement(L.default,{toggle:this.toggleAddRepoDialog,onRepoChanged:this.onRepoChanged,groupID:i})),this.state.isShowAddDepartDialog&&u.default.createElement(x.default,null,u.default.createElement(C.default,{onDepartChanged:this.onSubDepartChanged,parentGroupID:i,toggle:this.toggleAddDepartDialog})));return u.default.createElement(s.Fragment,null,u.default.createElement(S.default,{children:c}),u.default.createElement("div",{className:"main-panel-center flex-row h-100"},u.default.createElement("div",{className:"cur-view-container o-auto"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"fleft"},u.default.createElement("h3",{className:"sf-heading"},i?u.default.createElement(m.Link,{to:F.siteRoot+"sys/departments/"},(0,F.gettext)("Departments")):u.default.createElement("span",null,(0,F.gettext)("Departments")),this.state.ancestorGroups.map(function(e){var t=F.siteRoot+"sys/departments/"+e.id+"/";return u.default.createElement("span",{key:e.id}," / ",u.default.createElement(m.Link,{to:t},e.name))}),i&&u.default.createElement("span",null," / ",this.state.groupName)))),u.default.createElement("div",{className:"cur-view-subcontainer org-groups"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"fleft"},u.default.createElement("h3",{className:"sf-heading"},(0,F.gettext)("Sub-departments")))),u.default.createElement("div",{className:"cur-view-content"},o&&o.length>0?u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"40%"},(0,F.gettext)("Name")),u.default.createElement("th",{width:"25%"},(0,F.gettext)("Created At")),u.default.createElement("th",{width:"20%"},(0,F.gettext)("Quota")),u.default.createElement("th",{width:"15%"}))),u.default.createElement("tbody",null,o.map(function(t,n){return u.default.createElement(s.Fragment,{key:t.id},u.default.createElement(Z.default,{group:t,showDeleteDepartDialog:e.showDeleteDepartDialog,showSetGroupQuotaDialog:e.showSetGroupQuotaDialog}))}))):u.default.createElement("p",{className:"no-group"},(0,F.gettext)("No sub-departments")))),u.default.createElement("div",{className:"cur-view-subcontainer org-members"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"fleft"},u.default.createElement("h3",{className:"sf-heading"},(0,F.gettext)("Members")))),u.default.createElement("div",{className:"cur-view-content"},r?u.default.createElement("p",{className:"error text-center"},r):0==n.length?u.default.createElement("p",{className:"no-member"},(0,F.gettext)("No members")):u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"50%"},(0,F.gettext)("Name")),u.default.createElement("th",{width:"15%"},(0,F.gettext)("Role")),u.default.createElement("th",{width:"30%"}))),u.default.createElement("tbody",null,n.map(function(t,n){return u.default.createElement(s.Fragment,{key:n},u.default.createElement(X.default,{member:t,showDeleteMemberDialog:e.showDeleteMemberDialog,isItemFreezed:e.state.isItemFreezed,onMemberChanged:e.onMemberChanged,toggleItemFreezed:e.toggleItemFreezed,groupID:i}))}))),this.state.membersPageInfo&&u.default.createElement(g.default,{gotoPreviousPage:this.getPreviousPageList,gotoNextPage:this.getNextPageList,currentPage:this.state.membersPageInfo.current_page,hasNextPage:this.state.membersPageInfo.has_next_page,curPerPage:this.state.membersPerPage,resetPerPage:this.resetPerPage})))),u.default.createElement("div",{className:"cur-view-subcontainer org-libriries"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"fleft"},u.default.createElement("h3",{className:"sf-heading"},(0,F.gettext)("Libraries")))),a.length>0?u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"50%"},(0,F.gettext)("Name")),u.default.createElement("th",{width:"30%"},(0,F.gettext)("Size")),u.default.createElement("th",{width:"15%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(s.Fragment,{key:n},u.default.createElement(U.default,{repo:t,showDeleteRepoDialog:e.showDeleteRepoDialog}))})))):u.default.createElement("p",{className:"no-libraty"},(0,F.gettext)("No libraries")))),this.state.showDeleteMemberDialog&&u.default.createElement(x.default,null,u.default.createElement(M.default,{toggle:this.toggleCancel,onMemberChanged:this.onMemberChanged,member:this.state.deletedMember,groupID:i})),this.state.showDeleteRepoDialog&&u.default.createElement(x.default,null,u.default.createElement(I.default,{toggle:this.toggleCancel,onRepoChanged:this.onRepoChanged,repo:this.state.deletedRepo,groupID:i})),this.state.showDeleteDepartDialog&&u.default.createElement(x.default,null,u.default.createElement(R.default,{toggle:this.toggleCancel,groupID:this.state.subGroupID,groupName:this.state.subGroupName,onDepartChanged:this.onSubDepartChanged})),this.state.showSetGroupQuotaDialog&&u.default.createElement(x.default,null,u.default.createElement(A.default,{toggle:this.toggleCancel,groupID:this.state.subGroupID,onDepartChanged:this.onSubDepartChanged}))))}}]),t}(u.default.Component);W.propTypes=Q,t.default=W},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),h=n(3),g=n(5),v=r(g),b=n(45),y=r(b),E={toggle:d.default.func.isRequired,groupID:d.default.string.isRequired,onMemberChanged:d.default.func.isRequired},w=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e})},n.handleSubmit=function(){if(n.state.selectedOption){var e=n.state.selectedOption.map(function(e){return e.email});n.refs.orgSelect.clearSelect(),n.setState({errMessage:[]}),m.seafileAPI.sysAdminAddGroupMember(n.props.groupID,e).then(function(e){n.setState({selectedOption:null}),e.data.failed.length>0&&n.setState({errMessage:e.data.failed[0].error_msg}),e.data.success.length>0&&(n.props.onMemberChanged(),n.props.toggle())}).catch(function(e){var t=h.Utils.getErrorMsg(e);v.default.danger(t)})}},n.state={selectedOption:null,errMessage:""},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Add Member")),u.default.createElement(f.ModalBody,null,u.default.createElement(y.default,{placeholder:(0,p.gettext)("Select users..."),onSelectChange:this.handleSelectChange,ref:"orgSelect",isMulti:!0,className:"org-add-member-select"}),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit},(0,p.gettext)("Submit")),u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel"))))}}]),t}(u.default.Component);w.propTypes=E,t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),h=n(3),g=n(5),v=r(g),b={member:d.default.object.isRequired,groupID:d.default.string.isRequired,toggle:d.default.func.isRequired,onMemberChanged:d.default.func.isRequired},y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteMember=function(){var e=n.props.member.email;m.seafileAPI.sysAdminDeleteGroupMember(n.props.groupID,e).then(function(e){e.data.success&&(n.props.onMemberChanged(),n.props.toggle())}).catch(function(e){var t=h.Utils.getErrorMsg(e);v.default.danger(t)})},n}return i(t,e),l(t,[{key:"render",value:function(){var e=(0,p.gettext)("Are you sure you want to delete {placeholder} ?");return e=e.replace("{placeholder}",'<span class="op-target">'+h.Utils.HTMLescape(this.props.member.name)+"</span>"),u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Delete Member")),u.default.createElement(f.ModalBody,null,u.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.deleteMember},(0,p.gettext)("Delete")),u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel"))))}}]),t}(u.default.Component);y.propTypes=b,t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),h=n(3),g={toggle:d.default.func.isRequired,groupID:d.default.string.isRequired,onRepoChanged:d.default.func.isRequired},v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=function(){n.validateName()&&m.seafileAPI.sysAdminAddRepoInDepartment(n.props.groupID,n.state.repoName.trim()).then(function(e){n.props.toggle(),n.props.onRepoChanged()}).catch(function(e){var t=h.Utils.getErrorMsg(e);n.setState({errMessage:t})})},n.validateName=function(){var e="";return!!n.state.repoName.trim().length||(e=(0,p.gettext)("Name is required"),n.setState({errMessage:e}),!1)},n.handleChange=function(e){n.setState({repoName:e.target.value})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.handleSubmit(),e.preventDefault())},n.state={repoName:"",errMessage:""},n.newInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.newInput.focus(),this.newInput.setSelectionRange(0,0)}},{key:"render",value:function(){var e=this;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("New Library")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"repoName"},(0,p.gettext)("Name")),u.default.createElement(f.Input,{id:"repoName",onKeyPress:this.handleKeyPress,value:this.state.repoName,onChange:this.handleChange,innerRef:function(t){e.newInput=t}}))),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(4),h=n(3),g=n(5),v=r(g),b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteRepo=function(){m.seafileAPI.sysAdminDeleteRepoInDepartment(n.props.groupID,n.props.repo.repo_id).then(function(e){e.data.success&&(n.props.onRepoChanged(),n.props.toggle())}).catch(function(e){var t=h.Utils.getErrorMsg(e);v.default.danger(t)})},n}return i(t,e),l(t,[{key:"render",value:function(){var e=(0,p.gettext)("Are you sure you want to delete {placeholder} ?");return e=e.replace("{placeholder}",'<span class="op-target">'+h.Utils.HTMLescape(this.props.repo.name)+"</span>"),u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Delete Library")),u.default.createElement(f.ModalBody,null,u.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.deleteRepo},(0,p.gettext)("Delete")),u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel"))))}}]),t}(u.default.Component),y={repo:d.default.object.isRequired,toggle:d.default.func.isRequired,groupID:d.default.string.isRequired,onRepoChanged:d.default.func.isRequired};b.propTypes=y,t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(4),p=n(3),m=n(5),h=r(m),g=n(750),v=r(g),b=n(80),y=r(b),E={groupID:d.default.string.isRequired,member:d.default.object.isRequired,isItemFreezed:d.default.bool.isRequired,onMemberChanged:d.default.func.isRequired,showDeleteMemberDialog:d.default.func.isRequired,toggleItemFreezed:d.default.func.isRequired},w=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({highlight:!1})},n.toggleMemberRoleMenu=function(){n.setState({showRoleMenu:!n.state.showRoleMenu})},n.onChangeUserRole=function(e){var t="Admin"===e;f.seafileAPI.sysAdminUpdateGroupMemberRole(n.props.groupID,n.props.member.email,t).then(function(e){n.props.onMemberChanged()}).catch(function(e){var t=p.Utils.getErrorMsg(e);h.default.danger(t)}),n.setState({highlight:!1})},n.state={highlight:!1,showRoleMenu:!1},n.roles=["Admin","Member"],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.member,t=this.state.highlight;return"Owner"===e.role?null:u.default.createElement("tr",{className:t?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement("img",{src:e.avatar_url,alt:"member-header",width:"24",className:"avatar"})),u.default.createElement("td",null,u.default.createElement(y.default,{email:e.email,name:e.name})),u.default.createElement("td",null,u.default.createElement(v.default,{isTextMode:!0,isEditIconShow:t,currentRole:e.role,roles:this.roles,onRoleChanged:this.onChangeUserRole,toggleItemFreezed:this.props.toggleItemFreezed})),this.props.isItemFreezed?u.default.createElement("td",null):u.default.createElement("td",{className:"cursor-pointer text-center",onClick:this.props.showDeleteMemberDialog.bind(this,e)},u.default.createElement("span",{className:"sf2-icon-x3 action-icon "+(t?"":"vh"),title:"Delete"})))}}]),t}(u.default.Component);w.propTypes=E,t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(3),p=n(2),m={repo:d.default.object.isRequired,showDeleteRepoDialog:d.default.func.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({highlight:!0})},n.onMouseLeave=function(){n.setState({highlight:!1})},n.state={highlight:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.repo,t=this.state.highlight,n=f.Utils.getLibIconUrl(e);return u.default.createElement("tr",{className:t?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement("img",{src:n,width:"24",alt:(0,p.gettext)("icon")})),u.default.createElement("td",null,u.default.createElement("a",{href:p.siteRoot+"sys/libraries/"+e.repo_id+"/"+e.name+"/"},e.name)),u.default.createElement("td",null,f.Utils.bytesToSize(e.size)," "),u.default.createElement("td",{className:"cursor-pointer text-center",onClick:this.props.showDeleteRepoDialog.bind(this,e)},u.default.createElement("span",{className:"sf2-icon-delete action-icon "+(t?"":"vh"),title:"Delete"})))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(4),f=n(2),p=n(5),m=r(p),h=n(3),g=n(39),v=r(g),b=n(7),y=r(b),E=n(8),w=r(E),S=n(76),_=r(S),x=n(1340),O=r(x),C=n(38),P=r(C),k=n(80),D=r(k),M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPage=function(){n.props.getShareLinksByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getShareLinksByPage(n.props.currentPage+1)},n.sortByTime=function(e){e.preventDefault(),n.props.sortItems("ctime")},n.sortByCount=function(e){e.preventDefault(),n.props.sortItems("view_cnt")},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items,o=t.perPage,i=t.currentPage,l=t.hasNextPage,c=t.sortBy,d=t.sortOrder;if(n)return u.default.createElement(w.default,null);if(r)return u.default.createElement("p",{className:"error text-center"},r);var p=u.default.createElement(v.default,null,u.default.createElement("h2",null,(0,f.gettext)("No share links"))),m=u.default.createElement("span",{className:"fas fa-sort"}),h=u.default.createElement("span",{className:"fas "+("asc"==d?"fa-caret-up":"fa-caret-down")}),g=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"18%"},(0,f.gettext)("Name")),u.default.createElement("th",{width:"18%"},(0,f.gettext)("Token")),u.default.createElement("th",{width:"18%"},(0,f.gettext)("Owner")),u.default.createElement("th",{width:"15%"},u.default.createElement("a",{className:"d-inline-block table-sort-op",href:"#",onClick:this.sortByTime},(0,f.gettext)("Created At")," ","ctime"==c?h:m)),u.default.createElement("th",{width:"10%"},u.default.createElement("a",{className:"d-inline-block table-sort-op",href:"#",onClick:this.sortByCount},(0,f.gettext)("Count")," ","view_cnt"==c?h:m)),u.default.createElement("th",{width:"11%"},(0,f.gettext)("Expiration")),u.default.createElement("th",{width:"10%"}))),a&&u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(T,{key:n,item:t,deleteShareLink:e.props.deleteShareLink})}))),u.default.createElement(_.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:i,hasNextPage:l,curPerPage:o,resetPerPage:this.props.resetPerPage}));return a.length?g:p}}]),t}(s.Component),T=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.deleteShareLink=function(){n.props.deleteShareLink(n.props.item.token)},n.renderExpiration=function(){var e=n.props.item;if(!e.expire_date)return"--";var t=(0,y.default)(e.expire_date).format("YYYY-MM-DD"),r=(0,y.default)(e.expire_date).format("YYYY-MM-DD HH:mm:ss");return u.default.createElement("span",{className:e.is_expired?"error":"",title:r},t)},n.state={isOpIconShown:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state.isOpIconShown,t=this.props.item,n="action-icon sf2-icon-delete "+(e?"":"invisible");return u.default.createElement("tr",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},u.default.createElement("td",null,t.obj_name),u.default.createElement("td",null,t.token),u.default.createElement("td",null,u.default.createElement(D.default,{email:t.creator_email,name:t.creator_name})),u.default.createElement("td",null,(0,y.default)(t.ctime).fromNow()),u.default.createElement("td",null,t.view_cnt),u.default.createElement("td",null,this.renderExpiration()),u.default.createElement("td",null,u.default.createElement("a",{href:"#",className:n,title:(0,f.gettext)("Remove"),onClick:this.deleteShareLink})))}}]),t}(s.Component),L=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getShareLinksByPage=function(e){var t=n.state,r=t.perPage,a=t.sortBy,o=t.sortOrder;d.seafileAPI.sysAdminListShareLinks(e,r,a,o).then(function(t){n.setState({shareLinkList:t.data.share_link_list,loading:!1,currentPage:e,hasNextPage:h.Utils.hasNextPage(e,r,t.data.count)})}).catch(function(e){n.setState({loading:!1,errorMsg:h.Utils.getErrorMsg(e,!0)})})},n.sortItems=function(e){n.setState({currentPage:1,sortBy:e,sortOrder:"asc"==n.state.sortOrder?"desc":"asc"},function(){var e=new URL(location.href),t=new URLSearchParams(e.search),r=n.state,a=r.currentPage,o=r.sortBy,i=r.sortOrder;t.set("page",a),t.set("order_by",o),t.set("direction",i),e.search=t.toString(),(0,c.navigate)(e.toString()),n.getShareLinksByPage(a)})},n.deleteShareLink=function(e){d.seafileAPI.sysAdminDeleteShareLink(e).then(function(t){var r=n.state.shareLinkList.filter(function(t){return t.token!=e});n.setState({shareLinkList:r})}).catch(function(e){var t=h.Utils.getErrorMsg(e);m.default.danger(t)})},n.resetPerPage=function(e){n.setState({perPage:e},function(){return n.getShareLinksByPage(n.initPage)})},n.state={loading:!0,errorMsg:"",shareLinkList:[],perPage:25,currentPage:1,hasNextPage:!1,sortBy:"",sortOrder:"asc"},n.initPage=1,n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage,o=n.sortBy,i=n.sortOrder;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r),sortBy:t.get("order_by")||o,sortOrder:t.get("direction")||i},function(){e.getShareLinksByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state,t=e.shareLinkList,n=e.currentPage,r=e.perPage,a=e.hasNextPage;return u.default.createElement(s.Fragment,null,u.default.createElement(P.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(O.default,{currentItem:"shareLinks"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(M,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:t,currentPage:n,perPage:r,hasNextPage:a,getShareLinksByPage:this.getShareLinksByPage,resetPerPage:this.resetPerPage,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems,deleteShareLink:this.deleteShareLink})))))}}]),t}(s.Component);t.default=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(4),d=n(2),f=n(5),p=r(f),m=n(3),h=n(39),g=r(h),v=n(7),b=r(v),y=n(8),E=r(y),w=n(76),S=r(w),_=n(1340),x=r(_),O=n(38),C=r(O),P=n(80),k=r(P),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPage=function(){n.props.getUploadLinksByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getUploadLinksByPage(n.props.currentPage+1)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items,o=t.perPage,i=t.currentPage,l=t.hasNextPage;if(n)return u.default.createElement(E.default,null);if(r)return u.default.createElement("p",{className:"error text-center"},r);var c=u.default.createElement(g.default,null,u.default.createElement("h2",null,(0,d.gettext)("No upload links"))),f=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"18%"},(0,d.gettext)("Name")),u.default.createElement("th",{width:"18%"},(0,d.gettext)("Token")),u.default.createElement("th",{width:"18%"},(0,d.gettext)("Owner")),u.default.createElement("th",{width:"15%"},(0,d.gettext)("Created At")),u.default.createElement("th",{width:"10%"},(0,d.gettext)("Count")),u.default.createElement("th",{width:"11%"},(0,d.gettext)("Expiration")),u.default.createElement("th",{width:"10%"}))),a&&u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(M,{key:n,item:t,deleteUploadLink:e.props.deleteUploadLink})}))),u.default.createElement(S.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:i,hasNextPage:l,curPerPage:o,resetPerPage:this.props.resetPerPage}));return a.length?f:c}}]),t}(s.Component),M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.deleteUploadLink=function(){n.props.deleteUploadLink(n.props.item.token)},n.renderExpiration=function(){var e=n.props.item;if(!e.expire_date)return"--";var t=(0,b.default)(e.expire_date).format("YYYY-MM-DD"),r=(0,b.default)(e.expire_date).format("YYYY-MM-DD HH:mm:ss");return u.default.createElement("span",{className:e.is_expired?"error":"",title:r},t)},n.state={isOpIconShown:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state.isOpIconShown,t=this.props.item,n="action-icon sf2-icon-delete "+(e?"":"invisible");return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},u.default.createElement("td",null,t.path),u.default.createElement("td",null,t.token),u.default.createElement("td",null,u.default.createElement(k.default,{email:t.creator_email,name:t.creator_name})),u.default.createElement("td",null,(0,b.default)(t.ctime).fromNow()),u.default.createElement("td",null,t.view_cnt),u.default.createElement("td",null,this.renderExpiration()),u.default.createElement("td",null,u.default.createElement("a",{href:"#",className:n,title:(0,d.gettext)("Remove"),onClick:this.deleteUploadLink}))))}}]),t}(s.Component),T=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getUploadLinksByPage=function(e){var t=n.state.perPage;c.seafileAPI.sysAdminListAllUploadLinks(e,t).then(function(r){n.setState({uploadLinkList:r.data.upload_link_list,loading:!1,currentPage:e,hasNextPage:m.Utils.hasNextPage(e,t,r.data.count)})}).catch(function(e){n.setState({loading:!1,errorMsg:m.Utils.getErrorMsg(e,!0)})})},n.deleteUploadLink=function(e){c.seafileAPI.sysAdminDeleteUploadLink(e).then(function(t){var r=n.state.uploadLinkList.filter(function(t){return t.token!=e});n.setState({uploadLinkList:r})}).catch(function(e){var t=m.Utils.getErrorMsg(e);p.default.danger(t)})},n.resetPerPage=function(e){n.setState({perPage:e},function(){return n.getUploadLinksByPage(n.initPage)})},n.state={loading:!0,errorMsg:"",uploadLinkList:[],perPage:25,currentPage:1,hasNextPage:!1},n.initPage=1,n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r)},function(){e.getUploadLinksByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state,t=e.uploadLinkList,n=e.currentPage,r=e.perPage,a=e.hasNextPage;return u.default.createElement(s.Fragment,null,u.default.createElement(C.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(x.default,{currentItem:"uploadLinks"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(D,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:t,currentPage:n,perPage:r,hasNextPage:a,getUploadLinksByPage:this.getUploadLinksByPage,resetPerPage:this.resetPerPage,deleteUploadLink:this.deleteUploadLink})))))}}]),t}(s.Component);t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(6),f=n(3),p=n(4),m=n(2),h=n(5),g=r(h),v=n(2513),b=r(v),y=n(38),E=r(y),w=n(778),S=r(w),_=n(1341),x=r(_),O=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getItemsByPage=function(e){var t=n.state.perPage;p.seafileAPI.sysAdminListOrgs(e,t).then(function(r){n.setState({loading:!1,orgList:r.data.organizations,currentPage:e,hasNextPage:f.Utils.hasNextPage(e,t,r.data.total_count)})}).catch(function(e){n.setState({loading:!1,errorMsg:f.Utils.getErrorMsg(e,!0)})})},n.resetPerPage=function(e){n.setState({perPage:e},function(){n.getItemsByPage(1)})},n.toggleAddOrgDialog=function(){n.setState({isAddOrgDialogOpen:!n.state.isAddOrgDialogOpen})},n.updateRole=function(e,t){var r={};r.role=t,p.seafileAPI.sysAdminUpdateOrg(e,r).then(function(r){var a=n.state.orgList.map(function(n){return n.org_id==e&&(n.role=t),n});n.setState({orgList:a}),g.default.success((0,m.gettext)("Edit succeeded"))}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})},n.addOrg=function(e){var t=e.orgName,r=e.ownerEmail,a=e.password;p.seafileAPI.sysAdminAddOrg(t,r,a).then(function(e){var t=n.state.orgList;t.unshift(e.data),n.setState({orgList:t})}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})},n.deleteOrg=function(e){p.seafileAPI.sysAdminDeleteOrg(e).then(function(t){var r=n.state.orgList.filter(function(t){return t.org_id!=e});n.setState({orgList:r}),g.default.success((0,m.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})},n.getSearch=function(){return u.default.createElement(S.default,{placeholder:(0,m.gettext)("Search organizations"),submit:n.searchItems})},n.searchItems=function(e){(0,c.navigate)(m.siteRoot+"sys/search-organizations/?query="+encodeURIComponent(e))},n.state={loading:!0,errorMsg:"",orgList:[],currentPage:1,perPage:25,hasNextPage:!1,isAddOrgDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r)},function(){e.getItemsByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state.isAddOrgDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement(E.default,{search:this.getSearch()},u.default.createElement(d.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleAddOrgDialog},(0,m.gettext)("Add Organization"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,m.gettext)("Organizations"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(x.default,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.orgList,currentPage:this.state.currentPage,hasNextPage:this.state.hasNextPage,curPerPage:this.state.perPage,resetPerPage:this.resetPerPage,getListByPage:this.getItemsByPage,updateRole:this.updateRole,deleteOrg:this.deleteOrg})))),e&&u.default.createElement(b.default,{addOrg:this.addOrg,toggleDialog:this.toggleAddOrgDialog}))}}]),t}(s.Component);t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m={toggleDialog:d.default.func.isRequired,addOrg:d.default.func.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.checkSubmitBtnActive=function(){var e=n.state,t=e.name,r=e.email,a=e.password,o=e.passwordAgain,i=!0;i=""!=t.trim()&&""!=r.trim()&&""!=a.trim()&&""!=o.trim(),n.setState({isSubmitBtnActive:i})},n.toggle=function(){n.props.toggleDialog()},n.inputPassword=function(e){var t=e.target.value;n.setState({password:t},n.checkSubmitBtnActive)},n.inputPasswordAgain=function(e){var t=e.target.value;n.setState({passwordAgain:t},n.checkSubmitBtnActive)},n.inputEmail=function(e){var t=e.target.value;n.setState({email:t},n.checkSubmitBtnActive)},n.inputName=function(e){var t=e.target.value;n.setState({name:t},n.checkSubmitBtnActive)},n.handleSubmit=function(){var e=n.state,t=e.name,r=e.email,a=e.password;if(a!=e.passwordAgain)return void n.setState({errorMsg:(0,p.gettext)("Passwords do not match.")});var o={orgName:t.trim(),ownerEmail:r.trim(),password:a.trim()};n.props.addOrg(o),n.toggle()},n.state={name:"",email:"",password:"",passwordAgain:"",errorMsg:"",isSubmitBtnActive:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.errorMsg,n=e.password,r=e.passwordAgain,a=e.email,o=e.name,i=e.isSubmitBtnActive;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Add Organization")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,{autoComplete:"off"},u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,null,(0,p.gettext)("Name")),u.default.createElement(f.Input,{value:o,onChange:this.inputName})),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,null,(0,p.gettext)("Owner"),u.default.createElement("span",{className:"small text-secondary ml-1 fas fa-question-circle",title:(0,p.gettext)("Owner can use admin panel in an organization, must be a new account.")})),u.default.createElement(f.Input,{value:a,onChange:this.inputEmail})),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,null,(0,p.gettext)("Password")),u.default.createElement(f.Input,{type:"password",value:n,onChange:this.inputPassword})),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,null,(0,p.gettext)("Password again")),u.default.createElement(f.Input,{type:"password",value:r,onChange:this.inputPasswordAgain}))),t&&u.default.createElement(f.Alert,{color:"danger"},t)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit,disabled:!i},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(3),f=n(4),p=n(2),m=n(5),h=r(m),g=n(38),v=r(g),b=n(1341),y=r(b),E=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getItems=function(){f.seafileAPI.sysAdminSearchOrgs(n.state.query.trim()).then(function(e){n.setState({loading:!1,orgList:e.data.organization_list})}).catch(function(e){n.setState({loading:!1,errorMsg:d.Utils.getErrorMsg(e,!0)})})},n.updateRole=function(e,t){var r={};r.role=t,f.seafileAPI.sysAdminUpdateOrg(e,r).then(function(r){var a=n.state.orgList.map(function(n){return n.org_id==e&&(n.role=t),n});n.setState({orgList:a}),h.default.success((0,p.gettext)("Edit succeeded"))}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.deleteOrg=function(e){f.seafileAPI.sysAdminDeleteOrg(e).then(function(t){var r=n.state.orgList.filter(function(t){return t.org_id!=e});n.setState({orgList:r}),h.default.success((0,p.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.handleInputChange=function(e){n.setState({query:e.target.value},n.checkSubmitBtnActive)},n.checkSubmitBtnActive=function(){var e=n.state.query;n.setState({isSubmitBtnActive:e.trim()})},n.state={query:"",isSubmitBtnActive:!1,loading:!0,errorMsg:"",orgList:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=new URL(document.location).searchParams;this.setState({query:e.get("query")||""},this.getItems)}},{key:"render",value:function(){var e=this.state,t=e.query,n=e.isSubmitBtnActive;return u.default.createElement(s.Fragment,null,u.default.createElement(v.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,p.gettext)("Organizations"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("div",{className:"mt-4 mb-6"},u.default.createElement("h4",{className:"border-bottom font-weight-normal mb-2 pb-1"},(0,p.gettext)("Search Organizations")),u.default.createElement("p",{className:"text-secondary small"},(0,p.gettext)("Tip: you can search by keyword in name.")),u.default.createElement(c.Form,null,u.default.createElement(c.FormGroup,{row:!0},u.default.createElement(c.Label,{for:"name",sm:1},(0,p.gettext)("Name")),u.default.createElement(c.Col,{sm:5},u.default.createElement(c.Input,{type:"text",name:"query",id:"name",value:t,onChange:this.handleInputChange}))),u.default.createElement(c.FormGroup,{row:!0},u.default.createElement(c.Col,{sm:{size:5,offset:1}},u.default.createElement("button",{className:"btn btn-outline-primary",disabled:!n,onClick:this.getItems},(0,p.gettext)("Submit")))))),u.default.createElement("div",{className:"mt-4 mb-6"},u.default.createElement("h4",{className:"border-bottom font-weight-normal mb-2 pb-1"},(0,p.gettext)("Result")),u.default.createElement(y.default,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.orgList,updateRole:this.updateRole,deleteOrg:this.deleteOrg}))))))}}]),t}(s.Component);t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(3),d=n(4),f=n(2),p=n(5),m=r(p),h=n(8),g=r(h),v=n(476),b=r(v),y=n(2516),E=r(y),w=n(2517),S=r(w),_=n(38),x=r(_),O=n(849),C=r(O),P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleSetQuotaDialog=function(){n.setState({isSetQuotaDialogOpen:!n.state.isSetQuotaDialogOpen})},n.toggleSetNameDialog=function(){n.setState({isSetNameDialogOpen:!n.state.isSetNameDialogOpen})},n.toggleSetMaxUserNumberDialog=function(){n.setState({isSetMaxUserNumberDialogOpen:!n.state.isSetMaxUserNumberDialogOpen})},n.showEditIcon=function(e){return u.default.createElement("span",{title:(0,f.gettext)("Edit"),className:"fa fa-pencil-alt attr-action-icon",onClick:e})},n.state={isSetQuotaDialogOpen:!1,isSetNameDialogOpen:!1,isSetMaxUserNumberDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg;e.orgInfo;if(t)return u.default.createElement(g.default,null);if(n)return u.default.createElement("p",{className:"error text-center"},n);var r=this.props.orgInfo,a=r.org_name,o=r.users_count,i=r.max_user_number,l=r.groups_count,d=r.quota,p=r.quota_usage,m=this.state,h=m.isSetQuotaDialogOpen,v=m.isSetNameDialogOpen,y=m.isSetMaxUserNumberDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement("dl",{className:"m-0"},u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Name")),u.default.createElement("dd",{className:"info-item-content"},a,this.showEditIcon(this.toggleSetNameDialog)),u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Number of members")),u.default.createElement("dd",{className:"info-item-content"},o),i&&u.default.createElement(s.Fragment,null,u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Max number of members")),u.default.createElement("dd",{className:"info-item-content"},i,this.showEditIcon(this.toggleSetMaxUserNumberDialog))),u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Number of groups")),u.default.createElement("dd",{className:"info-item-content"},l),u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Space Used")),u.default.createElement("dd",{className:"info-item-content"},c.Utils.bytesToSize(p)+" / "+(d>0?c.Utils.bytesToSize(d):"--"),this.showEditIcon(this.toggleSetQuotaDialog))),h&&u.default.createElement(b.default,{updateQuota:this.props.updateQuota,toggle:this.toggleSetQuotaDialog}),v&&u.default.createElement(E.default,{name:a,updateName:this.props.updateName,toggle:this.toggleSetNameDialog}),y&&u.default.createElement(S.default,{value:i,updateValue:this.props.updateMaxUserNumber,toggle:this.toggleSetMaxUserNumberDialog}))}}]),t}(s.Component),k=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateQuota=function(e){var t={quota:e};d.seafileAPI.sysAdminUpdateOrg(n.props.orgID,t).then(function(e){var t=Object.assign(n.state.orgInfo,{quota:e.data.quota});n.setState({orgInfo:t}),m.default.success((0,f.gettext)("Successfully set quota."))}).catch(function(e){var t=c.Utils.getErrorMsg(e);m.default.danger(t)})},n.updateName=function(e){var t={orgName:e};d.seafileAPI.sysAdminUpdateOrg(n.props.orgID,t).then(function(e){var t=Object.assign(n.state.orgInfo,{org_name:e.data.org_name});n.setState({orgInfo:t}),m.default.success((0,f.gettext)("Successfully set name."))}).catch(function(e){var t=c.Utils.getErrorMsg(e);m.default.danger(t)})},n.updateMaxUserNumber=function(e){var t={maxUserNumber:e};d.seafileAPI.sysAdminUpdateOrg(n.props.orgID,t).then(function(e){var t=Object.assign(n.state.orgInfo,{max_user_number:e.data.max_user_number});n.setState({orgInfo:t}),m.default.success((0,f.gettext)("Successfully set max number of members."))}).catch(function(e){var t=c.Utils.getErrorMsg(e);m.default.danger(t)})},n.state={loading:!0,errorMsg:"",orgInfo:{}},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;d.seafileAPI.sysAdminGetOrg(this.props.orgID).then(function(t){e.setState({loading:!1,orgInfo:t.data})}).catch(function(t){e.setState({loading:!1,errorMsg:c.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){var e=this.state.orgInfo;return u.default.createElement(s.Fragment,null,u.default.createElement(x.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(C.default,{currentItem:"info",orgID:this.props.orgID,orgName:e.org_name}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(P,{orgID:this.props.orgID,loading:this.state.loading,errorMsg:this.state.errorMsg,orgInfo:this.state.orgInfo,updateQuota:this.updateQuota,updateName:this.updateName,updateMaxUserNumber:this.updateMaxUserNumber})))))}}]),t}(s.Component);t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=(n(3),{toggle:d.default.func.isRequired,updateName:d.default.func.isRequired}),h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(){n.props.toggle()},n.handleInputChange=function(e){var t=e.target.value;n.setState({name:t,isSubmitBtnActive:""!=t.trim()})},n.handleKeyPress=function(e){"Enter"==e.key&&(n.handleSubmit(),e.preventDefault())},n.handleSubmit=function(){n.props.updateName(n.state.name.trim()),n.toggle()},n.state={name:n.props.name,isSubmitBtnActive:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.isSubmitBtnActive;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Set Name")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Input,{type:"text",value:t,onKeyPress:this.handleKeyPress,onChange:this.handleInputChange})))),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit,disabled:!n},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=(n(3),{toggle:d.default.func.isRequired,updateValue:d.default.func.isRequired}),h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(){n.props.toggle()},n.handleInputChange=function(e){var t=e.target.value;n.setState({value:t,isSubmitBtnActive:""!=t.trim()})},n.handleKeyPress=function(e){"Enter"==e.key&&(n.handleSubmit(),e.preventDefault())},n.handleSubmit=function(){n.props.updateValue(n.state.value.trim()),n.toggle()},n.state={value:n.props.value,isSubmitBtnActive:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.value,n=e.isSubmitBtnActive;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Set max number of members")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Input,{type:"text",className:"form-control",value:t,onKeyPress:this.handleKeyPress,onChange:this.handleInputChange})))),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit,disabled:!n},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(7),f=r(d),p=n(3),m=n(4),h=n(2),g=n(5),v=r(g),b=n(39),y=r(b),E=n(8),w=r(E),S=n(1332),_=r(S),x=n(1329),O=r(x),C=n(128),P=r(C),k=n(196),D=r(k),M=n(38),T=r(M),L=n(80),N=r(L),I=n(849),j=r(I),R=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items;if(n)return u.default.createElement(w.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var o=u.default.createElement(y.default,null,u.default.createElement("h2",null,(0,h.gettext)("No members"))),i=u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"25%"},(0,h.gettext)("Name")),u.default.createElement("th",{width:"20%"},(0,h.gettext)("Status")),u.default.createElement("th",{width:"20%"},(0,h.gettext)("Space Used")),u.default.createElement("th",{width:"30%"},(0,h.gettext)("Created At")," / ",(0,h.gettext)("Last Login")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(Y,{key:n,item:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,updateStatus:e.props.updateStatus,deleteUser:e.props.deleteUser})}))));return a.length?i:o}}]),t}(s.Component),Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseLeave=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.onMenuItemClick=function(e){switch(e){case"Delete":n.toggleDeleteDialog();break;case"Reset Password":n.toggleResetPasswordDialog()}},n.toggleDeleteDialog=function(e){e&&e.preventDefault(),n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen})},n.toggleResetPasswordDialog=function(e){e&&e.preventDefault(),n.setState({isResetPasswordDialogOpen:!n.state.isResetPasswordDialogOpen})},n.updateStatus=function(e){n.props.updateStatus(n.props.item.email,e)},n.deleteUser=function(){var e=n.props.item;n.props.deleteUser(e.org_id,e.email)},n.resetPassword=function(){m.seafileAPI.sysAdminResetUserPassword(n.props.item.email).then(function(e){v.default.success(e.data.reset_tip)}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.translateOperations=function(e){var t="";switch(e){case"Delete":t=(0,h.gettext)("Delete");break;case"Reset Password":t=(0,h.gettext)("Reset Password")}return t},n.state={isOpIconShown:!1,highlight:!1,isDeleteDialogOpen:!1,isResetPasswordDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isOpIconShown,r=t.isDeleteDialogOpen,a=t.isResetPasswordDialogOpen,o='<span class="op-target">'+p.Utils.HTMLescape(e.name)+"</span>",i=(0,h.gettext)("Are you sure you want to delete {placeholder} ?").replace("{placeholder}",o),l=(0,h.gettext)("Are you sure you want to reset the password of {placeholder} ?").replace("{placeholder}",o);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement(N.default,{email:e.email,name:e.name})),u.default.createElement("td",null,u.default.createElement(_.default,{isTextMode:!0,isEditIconShow:n,currentStatus:e.active?"active":"inactive",statusOptions:["active","inactive"],onStatusChanged:this.updateStatus})),u.default.createElement("td",null,p.Utils.bytesToSize(e.quota_usage)+" / "+(e.quota_total>0?p.Utils.bytesToSize(e.quota_total):"--")),u.default.createElement("td",null,(0,f.default)(e.create_time).format("YYYY-MM-DD HH:mm:ss")," / ",e.last_login?(0,f.default)(e.last_login).fromNow():"--"),u.default.createElement("td",null,n&&e.email!=h.username&&u.default.createElement(D.default,{operations:["Delete","Reset Password"],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),r&&u.default.createElement(P.default,{title:(0,h.gettext)("Delete Member"),message:i,executeOperation:this.deleteUser,confirmBtnText:(0,h.gettext)("Delete"),toggleDialog:this.toggleDeleteDialog}),a&&u.default.createElement(P.default,{title:(0,h.gettext)("Reset Password"),message:l,executeOperation:this.resetPassword,confirmBtnText:(0,h.gettext)("Reset"),toggleDialog:this.toggleResetPasswordDialog}))}}]),t}(s.Component),A=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleAddUserDialog=function(){n.setState({isAddUserDialogOpen:!n.state.isAddUserDialogOpen})},n.addUser=function(e){var t=e.email,r=e.name,a=e.password;m.seafileAPI.sysAdminAddOrgUser(n.props.orgID,t,r,a).then(function(e){var t=n.state.userList;t.unshift(e.data),n.setState({userList:t})}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.deleteUser=function(e,t){m.seafileAPI.sysAdminDeleteOrgUser(e,t).then(function(e){var r=n.state.userList.filter(function(e){return e.email!=t});n.setState({userList:r}),v.default.success((0,h.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.updateStatus=function(e,t){var r="active"==t;m.seafileAPI.sysAdminUpdateOrgUser(n.props.orgID,e,"active",r).then(function(t){var r=n.state.userList.map(function(n){return n.email==e&&(n.active=t.data.active),n});n.setState({userList:r})}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.state={loading:!0,errorMsg:"",orgName:"",userList:[],isAddUserDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;m.seafileAPI.sysAdminGetOrg(this.props.orgID).then(function(t){e.setState({orgName:t.data.org_name})}),m.seafileAPI.sysAdminListOrgUsers(this.props.orgID).then(function(t){e.setState({loading:!1,userList:t.data.users})}).catch(function(t){e.setState({loading:!1,errorMsg:p.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){var e=this.state,t=e.isAddUserDialogOpen,n=e.orgName;return u.default.createElement(s.Fragment,null,u.default.createElement(T.default,null,u.default.createElement(c.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleAddUserDialog},(0,h.gettext)("Add Member"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(j.default,{currentItem:"users",orgID:this.props.orgID,orgName:n}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(R,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.userList,updateStatus:this.updateStatus,deleteUser:this.deleteUser})))),t&&u.default.createElement(O.default,{addUser:this.addUser,toggleDialog:this.toggleAddUserDialog}))}}]),t}(s.Component);t.default=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(7),d=r(c),f=n(3),p=n(4),m=n(2),h=n(5),g=r(h),v=n(39),b=r(v),y=n(8),E=r(y),w=n(128),S=r(w),_=n(38),x=r(_),O=n(80),C=r(O),P=n(849),k=r(P),D=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items;if(n)return u.default.createElement(E.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var o=u.default.createElement(b.default,null,u.default.createElement("h2",null,(0,m.gettext)("No groups"))),i=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"30%"},(0,m.gettext)("Name")),u.default.createElement("th",{width:"30%"},(0,m.gettext)("Creator")),u.default.createElement("th",{width:"30%"},(0,m.gettext)("Created At")),u.default.createElement("th",{width:"10%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(M,{key:n,item:t,deleteGroup:e.props.deleteGroup})}))));return a.length?i:o}}]),t}(s.Component),M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.setState({isOpIconShown:!0})},n.handleMouseLeave=function(){n.setState({isOpIconShown:!1})},n.toggleDeleteDialog=function(e){e&&e.preventDefault(),n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen})},n.deleteGroup=function(){n.toggleDeleteDialog(),n.props.deleteGroup(n.props.item.group_id)},n.state={isOpIconShown:!1,isDeleteDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isOpIconShown,r=t.isDeleteDialogOpen,a='<span class="op-target">'+f.Utils.HTMLescape(e.group_name)+"</span>",o=(0,m.gettext)("Are you sure you want to delete {placeholder} ?").replace("{placeholder}",a),i=0==e.parent_group_id?m.siteRoot+"sys/groups/"+e.group_id+"/libraries/":m.siteRoot+"sysadmin/#address-book/groups/"+e.group_id+"/";return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement("a",{href:i},e.group_name)),u.default.createElement("td",null,u.default.createElement(C.default,{email:e.creator_email,name:e.creator_name})),u.default.createElement("td",null,(0,d.default)(e.created_at).format("YYYY-MM-DD HH:mm:ss")),u.default.createElement("td",null,u.default.createElement("a",{href:"#",className:"action-icon sf2-icon-delete "+(n?"":"invisible"),title:(0,m.gettext)("Delete"),onClick:this.toggleDeleteDialog}))),r&&u.default.createElement(S.default,{title:(0,m.gettext)("Delete Group"),message:o,executeOperation:this.deleteGroup,confirmBtnText:(0,m.gettext)("Delete"),toggleDialog:this.toggleDeleteDialog}))}}]),t}(s.Component),T=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteGroup=function(e){p.seafileAPI.sysAdminDismissGroupByID(e).then(function(t){var r=n.state.groupList.filter(function(t){return t.group_id!=e});n.setState({groupList:r}),g.default.success((0,m.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})},n.state={loading:!0,errorMsg:"",orgName:"",groupList:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;p.seafileAPI.sysAdminGetOrg(this.props.orgID).then(function(t){e.setState({orgName:t.data.org_name})}),p.seafileAPI.sysAdminListOrgGroups(this.props.orgID).then(function(t){e.setState({loading:!1,groupList:t.data.group_list})}).catch(function(t){e.setState({loading:!1,errorMsg:f.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(x.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(k.default,{currentItem:"groups",orgID:this.props.orgID,orgName:this.state.orgName}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(D,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.groupList,deleteGroup:this.deleteGroup})))))}}]),t}(s.Component);t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(3),d=n(4),f=n(2),p=n(5),m=r(p),h=n(39),g=r(h),v=n(8),b=r(v),y=n(128),E=r(y),w=n(38),S=r(w),_=n(80),x=r(_),O=n(849),C=r(O),P=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items;if(n)return u.default.createElement(b.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var o=u.default.createElement(g.default,null,u.default.createElement("h2",null,(0,f.gettext)("No libraries"))),i=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"30%"},(0,f.gettext)("Name")),u.default.createElement("th",{width:"35%"},(0,f.gettext)("ID")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("Owner")),u.default.createElement("th",{width:"10%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(k,{key:n,item:t,deleteRepo:e.props.deleteRepo})}))));return a.length?i:o}}]),t}(s.Component),k=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.setState({isOpIconShown:!0})},n.handleMouseLeave=function(){n.setState({isOpIconShown:!1})},n.toggleDeleteDialog=function(e){e&&e.preventDefault(),n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen})},n.deleteRepo=function(){n.props.deleteRepo(n.props.item.repo_id)},n.state={isOpIconShown:!1,isDeleteDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isOpIconShown,r=t.isDeleteDialogOpen,a=c.Utils.getLibIconUrl(e),o=c.Utils.getLibIconTitle(e),i='<span class="op-target">'+c.Utils.HTMLescape(e.repo_name)+"</span>",l=(0,f.gettext)("Are you sure you want to delete {placeholder} ?").replace("{placeholder}",i);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement("img",{src:a,title:o,alt:o,width:"24"})),u.default.createElement("td",null,e.repo_name),u.default.createElement("td",null,e.repo_id),u.default.createElement("td",null,e.owner_email?-1==e.owner_email.indexOf("@seafile_group")?u.default.createElement(x.default,{email:e.owner_email,name:e.owner_name}):e.owner_name:"--"),u.default.createElement("td",null,u.default.createElement("a",{href:"#",className:"action-icon sf2-icon-delete "+(n?"":"invisible"),title:(0,f.gettext)("Delete"),onClick:this.toggleDeleteDialog}))),r&&u.default.createElement(E.default,{title:(0,f.gettext)("Delete Library"),message:l,executeOperation:this.deleteRepo,confirmBtnText:(0,f.gettext)("Delete"),toggleDialog:this.toggleDeleteDialog}))}}]),t}(s.Component),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteRepo=function(e){d.seafileAPI.sysAdminDeleteRepo(e).then(function(t){var r=n.state.repoList.filter(function(t){return t.repo_id!=e});n.setState({repoList:r}),m.default.success((0,f.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=c.Utils.getErrorMsg(e);m.default.danger(t)})},n.state={loading:!0,errorMsg:"",orgName:"",repoList:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;d.seafileAPI.sysAdminGetOrg(this.props.orgID).then(function(t){e.setState({orgName:t.data.org_name})}),d.seafileAPI.sysAdminListOrgRepos(this.props.orgID).then(function(t){e.setState({loading:!1,repoList:t.data.repo_list})}).catch(function(t){e.setState({loading:!1,errorMsg:c.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(S.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(C.default,{currentItem:"repos",orgID:this.props.orgID,orgName:this.state.orgName}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(P,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.repoList,deleteRepo:this.deleteRepo})))))}}]),t}(s.Component);t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(6),f=n(7),p=r(f),m=n(3),h=n(4),g=n(2),v=n(5),b=r(v),y=n(39),E=r(y),w=n(8),S=r(w),_=n(128),x=r(_),O=n(38),C=r(O),P=n(2522),k=r(P),D=n(76),M=r(D),T=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPage=function(){n.props.getInstitutionsByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getInstitutionsByPage(n.props.currentPage+1)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items,o=t.perPage,i=t.currentPage,l=t.hasNextPage;if(n)return u.default.createElement(S.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var c=u.default.createElement(E.default,null,u.default.createElement("h2",null,(0,g.gettext)("No institutions"))),d=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"75%"},(0,g.gettext)("Name")),u.default.createElement("th",{width:"20%"},(0,g.gettext)("Created At")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(L,{key:n,item:t,deleteInstitution:e.props.deleteInstitution})}))),u.default.createElement(M.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:i,hasNextPage:l,curPerPage:o,resetPerPage:this.props.resetPerPage}));return a.length?d:c}}]),t}(s.Component),L=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.setState({isOpIconShown:!0})},n.handleMouseLeave=function(){n.setState({isOpIconShown:!1})},n.toggleDeleteDialog=function(e){e&&e.preventDefault(),n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen})},n.deleteInstitution=function(){n.props.deleteInstitution(n.props.item.id)},n.state={isOpIconShown:!1,isDeleteDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isOpIconShown,r=t.isDeleteDialogOpen,a='<span class="op-target">'+m.Utils.HTMLescape(e.name)+"</span>",o=(0,g.gettext)("Are you sure you want to delete {placeholder} ?").replace("{placeholder}",a);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement(c.Link,{to:g.siteRoot+"sys/institutions/"+e.id+"/info/"},e.name)),u.default.createElement("td",null,(0,p.default)(e.ctime).fromNow()),u.default.createElement("td",null,u.default.createElement("a",{href:"#",className:"action-icon sf2-icon-delete "+(n?"":"invisible"),title:(0,g.gettext)("Delete"),onClick:this.toggleDeleteDialog}))),r&&u.default.createElement(x.default,{title:(0,g.gettext)("Delete Institution"),message:o,executeOperation:this.deleteInstitution,confirmBtnText:(0,g.gettext)("Delete"),toggleDialog:this.toggleDeleteDialog}))}}]),t}(s.Component),N=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getInstitutionsByPage=function(e){var t=n.state.perPage;h.seafileAPI.sysAdminListInstitutions(e,t).then(function(r){n.setState({loading:!1,institutionList:r.data.institution_list,currentPage:e,hasNextPage:m.Utils.hasNextPage(e,t,r.data.total_count)})}).catch(function(e){n.setState({loading:!1,errorMsg:m.Utils.getErrorMsg(e,!0)})})},n.resetPerPage=function(e){n.setState({perPage:e},function(){return n.getInstitutionsByPage(n.initPage)})},n.toggleAddInstitutionDialog=function(){n.setState({isAddInstitutionDialogOpen:!n.state.isAddInstitutionDialogOpen})},n.addInstitution=function(e){h.seafileAPI.sysAdminAddInstitution(e).then(function(e){var t=n.state.institutionList;t.push(e.data),n.setState({institutionList:t})}).catch(function(e){var t=m.Utils.getErrorMsg(e);b.default.danger(t)})},n.deleteInstitution=function(e){h.seafileAPI.sysAdminDeleteInstitution(e).then(function(t){var r=n.state.institutionList.filter(function(t){return t.id!=e});n.setState({institutionList:r}),b.default.success((0,g.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=m.Utils.getErrorMsg(e);b.default.danger(t)})},n.state={loading:!0,errorMsg:"",institutionList:[],perPage:25,currentPage:1,hasNextPage:!1,isAddInstitutionDialogOpen:!1},n.initPage=1,n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r)},function(){e.getInstitutionsByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state,t=e.isAddInstitutionDialogOpen,n=e.hasNextPage,r=e.currentPage,a=e.perPage;return u.default.createElement(s.Fragment,null,u.default.createElement(C.default,null,u.default.createElement(d.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleAddInstitutionDialog},(0,g.gettext)("Add Institution"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,g.gettext)("Institutions"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(T,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.institutionList,deleteInstitution:this.deleteInstitution,currentPage:r,perPage:a,hasNextPage:n,getInstitutionsByPage:this.getInstitutionsByPage,resetPerPage:this.resetPerPage})))),t&&u.default.createElement(k.default,{addInstitution:this.addInstitution,toggle:this.toggleAddInstitutionDialog}))}}]),t}(s.Component);t.default=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m={toggle:d.default.func.isRequired,addInstitution:d.default.func.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){var t=e.target.value;n.setState({value:t,isSubmitBtnActive:""!=t.trim()})},n.handleSubmit=function(){n.toggle(),n.props.addInstitution(n.state.value.trim())},n.toggle=function(){n.props.toggle()},n.state={value:"",isSubmitBtnActive:!1},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Add institution")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement("p",null,(0,p.gettext)("Name")),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Input,{value:this.state.value,onChange:this.handleChange})))),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit,disabled:!this.state.isSubmitBtnActive},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(3),d=n(4),f=n(2),p=n(5),m=r(p),h=n(8),g=r(h),v=n(476),b=r(v),y=n(38),E=r(y),w=n(1055),S=r(w),_=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleSetQuotaDialog=function(){n.setState({isSetQuotaDialogOpen:!n.state.isSetQuotaDialogOpen})},n.showEditIcon=function(e){return u.default.createElement("span",{title:(0,f.gettext)("Edit"),className:"fa fa-pencil-alt attr-action-icon",onClick:e})},n.state={isSetQuotaDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,r=e.institutionInfo;if(t)return u.default.createElement(g.default,null);if(n)return u.default.createElement("p",{className:"error text-center"},n);var a=r.name,o=r.user_count,i=r.quota_total,l=r.quota_used,d=this.state.isSetQuotaDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement("dl",{className:"m-0"},u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Name")),u.default.createElement("dd",{className:"info-item-content"},a),u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Number of members")),u.default.createElement("dd",{className:"info-item-content"},o),u.default.createElement("dt",{className:"info-item-heading"},(0,f.gettext)("Space Used")),u.default.createElement("dd",{className:"info-item-content"},c.Utils.bytesToSize(l)+" / "+(i>0?c.Utils.bytesToSize(i):"--"),this.showEditIcon(this.toggleSetQuotaDialog))),d&&u.default.createElement(b.default,{updateQuota:this.props.updateQuota,toggle:this.toggleSetQuotaDialog}))}}]),t}(s.Component),x=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateQuota=function(e){d.seafileAPI.sysAdminUpdateInstitution(n.props.institutionID,e).then(function(e){var t=Object.assign(n.state.institutionInfo,{quota_total:e.data.quota_total});n.setState({institutionInfo:t}),m.default.success((0,f.gettext)("Successfully set quota."))}).catch(function(e){var t=c.Utils.getErrorMsg(e);m.default.danger(t)})},n.state={loading:!0,errorMsg:"",institutionInfo:{}},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;d.seafileAPI.sysAdminGetInstitution(this.props.institutionID).then(function(t){e.setState({loading:!1,institutionInfo:t.data})}).catch(function(t){e.setState({loading:!1,errorMsg:c.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){var e=this.state.institutionInfo;return u.default.createElement(s.Fragment,null,u.default.createElement(E.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(S.default,{currentItem:"info",institutionID:this.props.institutionID,institutionName:e.name}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(_,{loading:this.state.loading,errorMsg:this.state.errorMsg,institutionInfo:this.state.institutionInfo,updateQuota:this.updateQuota})))))}}]),t}(s.Component);t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(7),f=r(d),p=n(3),m=n(4),h=n(2),g=n(5),v=r(g),b=n(39),y=r(b),E=n(8),w=r(E),S=n(76),_=r(S),x=n(196),O=r(x),C=n(2525),P=r(C),k=n(128),D=r(k),M=n(80),T=r(M),L=n(38),N=r(L),I=n(1055),j=r(I),R=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.getPreviousPage=function(){n.props.getInstitutionUsersByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getInstitutionUsersByPage(n.props.currentPage+1)},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items,o=t.perPage,i=t.currentPage,l=t.hasNextPage;if(n)return u.default.createElement(w.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var c=u.default.createElement(y.default,null,u.default.createElement("h2",null,(0,h.gettext)("No members"))),d=u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"25%"},(0,h.gettext)("Name")),u.default.createElement("th",{width:"10%"},(0,h.gettext)("Status")),u.default.createElement("th",{width:"20%"},(0,h.gettext)("Space Used")),u.default.createElement("th",{width:"40%"},(0,h.gettext)("Created At")," / ",(0,h.gettext)("Last Login")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(Y,{key:n,item:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,setAdmin:e.props.setAdmin,deleteUser:e.props.deleteUser})}))),u.default.createElement(_.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:i,hasNextPage:l,curPerPage:o,resetPerPage:this.props.resetPerPage}));return a.length?d:c}}]),t}(s.Component),Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseLeave=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.toggleSetAdminDialog=function(e){e&&e.preventDefault(),n.setState({isSetAdminDialogOpen:!n.state.isSetAdminDialogOpen})},n.setAdmin=function(){n.props.setAdmin(n.props.item.email)},n.onMenuItemClick=function(e){switch(e){case"Delete":n.props.deleteUser(n.props.item.email);break;case"Set Admin":n.toggleSetAdminDialog()}},n.getOperations=function(){var e=[];return n.props.item.is_institution_admin||e.push("Set Admin"),e.push("Delete"),e},n.translateOperations=function(e){var t="";switch(e){case"Delete":t=(0,h.gettext)("Delete");break;case"Set Admin":t=(0,h.gettext)("Set Admin")}return t},n.state={isOpIconShown:!1,highlight:!1,isSetAdminDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isOpIconShown,r=t.isSetAdminDialogOpen,a='<span class="op-target">'+p.Utils.HTMLescape(e.name)+"</span>",o=(0,h.gettext)("Are you sure you want to set {placeholder} as Admin?").replace("{placeholder}",a);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement(T.default,{email:e.email,name:e.name})),u.default.createElement("td",null,e.is_active?(0,h.gettext)("Active"):(0,h.gettext)("Inactive")),u.default.createElement("td",null,p.Utils.bytesToSize(e.quota_usage)+" / "+(e.quota_total>0?p.Utils.bytesToSize(e.quota_total):"--")),u.default.createElement("td",null,(0,f.default)(e.create_time).format("YYYY-MM-DD HH:mm:ss")," / ",e.last_login?(0,f.default)(e.last_login).fromNow():"--"),u.default.createElement("td",null,n&&u.default.createElement(O.default,{operations:this.getOperations(),translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),r&&u.default.createElement(D.default,{title:(0,h.gettext)("Set Admin"),message:o,executeOperation:this.setAdmin,toggleDialog:this.toggleSetAdminDialog,confirmBtnText:(0,h.gettext)("Set Admin")}))}}]),t}(s.Component),A=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getInstitutionUsersByPage=function(e){var t=n.state.perPage;m.seafileAPI.sysAdminListInstitutionUsers(n.props.institutionID,e,t).then(function(r){n.setState({loading:!1,userList:r.data.user_list,currentPage:e,hasNextPage:p.Utils.hasNextPage(e,t,r.data.total_count)})}).catch(function(e){n.setState({loading:!1,errorMsg:p.Utils.getErrorMsg(e,!0)})})},n.setAdmin=function(e){m.seafileAPI.sysAdminUpdateInstitutionUser(n.props.institutionID,e,!0).then(function(t){var r=n.state.userList.map(function(t){return t.email==e&&(t.is_institution_admin=!0),t});n.setState({userList:r}),v.default.success((0,h.gettext)("Success"))}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.toggleAddUserDialog=function(){n.setState({isAddUserDialogOpen:!n.state.isAddUserDialogOpen})},n.resetPerPage=function(e){n.setState({perPage:e},function(){return n.getInstitutionUsersByPage(n.initPage)})},n.addUser=function(e){m.seafileAPI.sysAdminAddInstitutionUserBatch(n.props.institutionID,e).then(function(e){n.toggleAddUserDialog();var t=e.data.success,r=e.data.failed;if(t.length){var a=n.state.userList.concat(t);n.setState({userList:a})}r.map(function(e){v.default.danger(e.error_msg)})}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.deleteUser=function(e){m.seafileAPI.sysAdminDeleteInstitutionUser(n.props.institutionID,e).then(function(t){var r=n.state.userList.filter(function(t){return t.email!=e});n.setState({userList:r}),v.default.success("success")}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.state={loading:!0,errorMsg:"",institutionName:"",userList:[],perPage:25,currentPage:1,hasNextPage:!1,isAddUserDialogOpen:!1},n.initPage=1,n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;m.seafileAPI.sysAdminGetInstitution(this.props.institutionID).then(function(t){e.setState({institutionName:t.data.name})});var t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r)},function(){e.getInstitutionUsersByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state,t=e.isAddUserDialogOpen,n=e.institutionName,r=e.hasNextPage,a=e.currentPage,o=e.perPage;return u.default.createElement(s.Fragment,null,u.default.createElement(N.default,null,u.default.createElement(c.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleAddUserDialog},(0,h.gettext)("Add Member"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(j.default,{currentItem:"members",institutionID:this.props.institutionID,institutionName:n}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(R,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.userList,setAdmin:this.setAdmin,deleteUser:this.deleteUser,currentPage:a,perPage:o,hasNextPage:r,getInstitutionUsersByPage:this.getInstitutionUsersByPage,resetPerPage:this.resetPerPage})))),t&&u.default.createElement(P.default,{addUser:this.addUser,toggle:this.toggleAddUserDialog}))}}]),t}(s.Component);t.default=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(45),h=r(m),g={toggle:d.default.func.isRequired,addUser:d.default.func.isRequired},v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e})},n.handleSubmit=function(){if(n.state.selectedOption){var e=n.state.selectedOption.map(function(e){return e.email});n.props.addUser(e)}},n.state={selectedOption:[]},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Add Member")),u.default.createElement(f.ModalBody,null,u.default.createElement(h.default,{placeholder:(0,p.gettext)("Select users..."),onSelectChange:this.handleSelectChange,isMulti:!0,className:"org-add-member-select"})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit},(0,p.gettext)("Submit")),u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel"))))}}]),t}(u.default.Component);v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(7),d=r(c),f=n(3),p=n(4),m=n(2),h=n(5),g=r(h),v=n(39),b=r(v),y=n(8),E=r(y),w=n(196),S=r(w),_=n(128),x=r(_),O=n(80),C=r(O),P=n(38),k=r(P),D=n(1055),M=r(D),T=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items;if(n)return u.default.createElement(E.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var o=u.default.createElement(b.default,null,u.default.createElement("h2",null,(0,m.gettext)("No admins"))),i=u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"25%"},(0,m.gettext)("Name")),u.default.createElement("th",{width:"10%"},(0,m.gettext)("Status")),u.default.createElement("th",{width:"20%"},(0,m.gettext)("Space Used")),u.default.createElement("th",{width:"40%"},(0,m.gettext)("Created At")," / ",(0,m.gettext)("Last Login")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(L,{key:n,item:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,revokeAdmin:e.props.revokeAdmin,deleteUser:e.props.deleteUser})}))));return a.length?i:o}}]),t}(s.Component),L=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseLeave=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.toggleRevokeAdminDialog=function(e){e&&e.preventDefault(),n.setState({isRevokeAdminDialogOpen:!n.state.isRevokeAdminDialogOpen})},n.revokeAdmin=function(){n.props.revokeAdmin(n.props.item)},n.onMenuItemClick=function(e){switch(e){case"Revoke Admin":n.toggleRevokeAdminDialog()}},n.translateOperations=function(e){var t="";switch(e){case"Revoke Admin":t=(0,m.gettext)("Revoke Admin")}return t},n.state={isOpIconShown:!1,highlight:!1,isRevokeAdminDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isOpIconShown,r=t.isRevokeAdminDialogOpen,a='<span class="op-target">'+f.Utils.HTMLescape(e.name)+"</span>",o=(0,m.gettext)("Are you sure you want to revoke the admin permission of {placeholder} ?").replace("{placeholder}",a);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement(C.default,{email:e.email,name:e.name})),u.default.createElement("td",null,e.is_active?(0,m.gettext)("Active"):(0,m.gettext)("Inactive")),u.default.createElement("td",null,f.Utils.bytesToSize(e.quota_usage)+" / "+(e.quota_total>0?f.Utils.bytesToSize(e.quota_total):"--")),u.default.createElement("td",null,(0,d.default)(e.create_time).format("YYYY-MM-DD HH:mm:ss")," / ",e.last_login?(0,d.default)(e.last_login).fromNow():"--"),u.default.createElement("td",null,n&&u.default.createElement(S.default,{operations:["Revoke Admin"],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),r&&u.default.createElement(x.default,{title:(0,m.gettext)("Revoke Admin"),message:o,executeOperation:this.revokeAdmin,confirmBtnText:(0,m.gettext)("Revoke"),toggleDialog:this.toggleRevokeAdminDialog}))}}]),t}(s.Component),N=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.revokeAdmin=function(e){var t=e.email,r=e.name;p.seafileAPI.sysAdminUpdateInstitutionUser(n.props.institutionID,t,!1).then(function(e){var a=n.state.userList.filter(function(e){return e.email!=t});n.setState({userList:a}),g.default.success((0,m.gettext)("Successfully revoked the admin permission of {placeholder}.").replace("{placeholder}",r))}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})},n.deleteUser=function(e){p.seafileAPI.sysAdminDeleteInstitutionUser(n.props.institutionID,e).then(function(t){var r=n.state.userList.filter(function(t){return t.email!=e});n.setState({userList:r}),g.default.success("success")}).catch(function(e){var t=f.Utils.getErrorMsg(e);g.default.danger(t)})},n.state={loading:!0,errorMsg:"",institutionName:"",userList:[],isAddUserDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;p.seafileAPI.sysAdminGetInstitution(this.props.institutionID).then(function(t){e.setState({institutionName:t.data.name})}),p.seafileAPI.sysAdminListInstitutionAdmins(this.props.institutionID).then(function(t){e.setState({loading:!1,userList:t.data.user_list})}).catch(function(t){e.setState({loading:!1,errorMsg:f.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){var e=this.state.institutionName;return u.default.createElement(s.Fragment,null,u.default.createElement(k.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(M.default,{currentItem:"admins",institutionID:this.props.institutionID,institutionName:e}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(T,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.userList,revokeAdmin:this.revokeAdmin,deleteUser:this.deleteUser})))))}}]),t}(s.Component);t.default=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(4),d=n(2),f=n(3),p=n(6),m=n(39),h=r(m),g=n(7),v=r(g),b=n(8),y=r(b),E=n(76),w=r(E),S=n(850),_=r(S),x=n(38),O=r(x),C=n(80),P=r(C),k=n(851),D=r(k),M=n(13),T=r(M),L=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPage=function(){n.props.getLogsByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getLogsByPage(n.props.currentPage+1)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,r=e.items,a=e.perPage,o=e.currentPage,i=e.hasNextPage;if(t)return u.default.createElement(y.default,null);if(n)return u.default.createElement("p",{className:"error text-center"},n);var l=u.default.createElement(h.default,null,u.default.createElement("h2",null,(0,d.gettext)("No login logs"))),c=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"25%"},(0,d.gettext)("Name")),u.default.createElement("th",{width:"25%"},(0,d.gettext)("IP")),u.default.createElement("th",{width:"25%"},(0,d.gettext)("Status")),u.default.createElement("th",{width:"25%"},(0,d.gettext)("Time")))),r&&u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(N,{key:t,item:e})}))),u.default.createElement(w.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:o,hasNextPage:i,curPerPage:a,resetPerPage:this.props.resetPerPage}));return r.length?c:l}}]),t}(s.Component),N=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.state={isOpIconShown:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item;return u.default.createElement("tr",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},u.default.createElement("td",null,u.default.createElement(P.default,{email:e.email,name:e.name})),u.default.createElement("td",null,e.login_ip),u.default.createElement("td",null,e.log_success?(0,d.gettext)("Success"):(0,d.gettext)("Failed")),u.default.createElement("td",null,(0,v.default)(e.login_time).fromNow()))}}]),t}(s.Component),I=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleExportExcelDialog=function(){n.setState({isExportExcelDialogOpen:!n.state.isExportExcelDialogOpen})},n.getLogsByPage=function(e){var t=n.state.perPage;c.seafileAPI.sysAdminListLoginLogs(e,t).then(function(r){n.setState({logList:r.data.login_log_list,loading:!1,currentPage:e,hasNextPage:f.Utils.hasNextPage(e,t,r.data.total_count)})}).catch(function(e){n.setState({loading:!1,errorMsg:f.Utils.getErrorMsg(e,!0)})})},n.resetPerPage=function(e){n.setState({perPage:e},function(){return n.getLogsByPage(n.initPage)})},n.state={loading:!0,errorMsg:"",logList:[],perPage:25,currentPage:1,hasNextPage:!1,isExportExcelDialogOpen:!1},n.initPage=1,n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r)},function(){e.getLogsByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state,t=e.logList,n=e.currentPage,r=e.perPage,a=e.hasNextPage,o=e.isExportExcelDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement(O.default,null,u.default.createElement(p.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleExportExcelDialog},(0,d.gettext)("Export Excel"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(_.default,{currentItem:"loginLogs"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(L,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:t,currentPage:n,perPage:r,hasNextPage:a,getLogsByPage:this.getLogsByPage,resetPerPage:this.resetPerPage})))),o&&u.default.createElement(T.default,null,u.default.createElement(D.default,{logType:"login",toggle:this.toggleExportExcelDialog})))}}]),t}(s.Component);t.default=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(4),d=n(2),f=n(3),p=n(39),m=r(p),h=n(6),g=n(15),v=n(7),b=r(v),y=n(8),E=r(y),w=n(76),S=r(w),_=n(851),x=r(_),O=n(13),C=r(O),P=n(850),k=r(P),D=n(2529),M=r(D),T=n(2530),L=r(T),N=n(38),I=r(N),j=n(80),R=r(j),Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPage=function(){n.props.getLogsByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getLogsByPage(n.props.currentPage+1)},n.toggleFilterByUser=function(){n.props.filterByUser(null)},n.toggleFilterByRepo=function(){n.props.filterByRepo(null)},n.toggleFreezeItem=function(e){n.setState({isItemFreezed:e})},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items,o=t.userFilteredBy,i=t.repoFilteredBy,l=t.perPage,c=t.currentPage,f=t.hasNextPage;if(n)return u.default.createElement(E.default,null);if(r)return u.default.createElement("p",{className:"error text-center"},r);var p=u.default.createElement(m.default,null,u.default.createElement("h2",null,(0,d.gettext)("No file access logs"))),h=u.default.createElement(s.Fragment,null,u.default.createElement("div",null,o&&u.default.createElement(L.default,{filterBy:a[0].name,toggleFilter:this.toggleFilterByUser}),i&&u.default.createElement(L.default,{filterBy:a[0].repo_name,toggleFilter:this.toggleFilterByRepo})),u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"20%"},(0,d.gettext)("Name")),u.default.createElement("th",{width:"10%"},(0,d.gettext)("Type")),u.default.createElement("th",{width:"20%"},(0,d.gettext)("IP")," / ",(0,d.gettext)("Device")),u.default.createElement("th",{width:"20%"},(0,d.gettext)("Date")),u.default.createElement("th",{width:"15%"},(0,d.gettext)("Library")),u.default.createElement("th",{width:"15%"},(0,d.gettext)("File")," / ",(0,d.gettext)("Folder")))),a&&u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(A,{key:n,item:t,isFreezed:e.state.isItemFreezed,toggleFreezeItem:e.toggleFreezeItem,userFilteredBy:o,repoFilteredBy:i,filterByUser:e.props.filterByUser,filterByRepo:e.props.filterByRepo})}))),u.default.createElement(S.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:c,hasNextPage:f,curPerPage:l,resetPerPage:this.props.resetPerPage}));return a.length?h:p}}]),t}(s.Component),A=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.isFreezed||n.setState({isHighlighted:!0,isOpIconShown:!0})},n.handleMouseLeave=function(){n.props.isFreezed||n.setState({isHighlighted:!1,isOpIconShown:!1})},n.filterByUser=function(){var e=n.props.item;n.props.filterByUser(e.email)},n.filterByRepo=function(){var e=n.props.item;n.props.filterByRepo(e.repo_id)},n.toggleFreezeItem=function(e){n.props.toggleFreezeItem(e),e||n.setState({isHighlighted:!1,isOpIconShown:!1})},n.state={isHighlighted:!1,isOpIconShown:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.isHighlighted,n=e.isOpIconShown,r=this.props,a=r.item,o=r.userFilteredBy,i=r.repoFilteredBy;return u.default.createElement("tr",{className:t?"tr-highlight":"",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement(R.default,{email:a.email,name:a.name}),n&&!o&&u.default.createElement(M.default,{filterBy:a.name,filterItems:this.filterByUser,toggleFreezeItem:this.toggleFreezeItem})),u.default.createElement("td",null,a.event_type),u.default.createElement("td",null,a.ip," / ",a.device||"--"),u.default.createElement("td",null,(0,b.default)(a.time).fromNow()),u.default.createElement("td",null,a.repo_name?a.repo_name:(0,d.gettext)("Deleted"),n&&a.repo_name&&!i&&u.default.createElement(M.default,{filterBy:a.repo_name,filterItems:this.filterByRepo,toggleFreezeItem:this.toggleFreezeItem})),u.default.createElement("td",null,a.file_or_dir_name))}}]),t}(s.Component),F=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleExportExcelDialog=function(){n.setState({isExportExcelDialogOpen:!n.state.isExportExcelDialogOpen})},n.getLogsByPage=function(e){var t=n.state,r=t.perPage,a=t.userFilteredBy,o=t.repoFilteredBy;c.seafileAPI.sysAdminListFileAccessLogs(e,r,a,o).then(function(t){n.setState({logList:t.data.file_access_log_list,loading:!1,currentPage:e,hasNextPage:t.data.has_next_page})}).catch(function(e){n.setState({loading:!1,errorMsg:f.Utils.getErrorMsg(e,!0)})})},n.resetPerPage=function(e){n.setState({perPage:e},function(){return n.getLogsByPage(n.initPage)})},n.updateURL=function(e){var t=new URL(location.href),n=new URLSearchParams(t.search);for(var r in e)null==e[r]?n.delete(r):n.set(r,e[r]);t.search=n.toString(),(0,g.navigate)(t.toString())},n.filterByUser=function(e){n.setState({userFilteredBy:e},function(){n.getLogsByPage(n.initPage),n.updateURL({email:e})})},n.filterByRepo=function(e){n.setState({repoFilteredBy:e},function(){n.getLogsByPage(n.initPage),n.updateURL({repo_id:e})})},n.state={loading:!0,errorMsg:"",logList:[],perPage:25,currentPage:1,hasNextPage:!1,isExportExcelDialogOpen:!1},n.initPage=1,n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r),userFilteredBy:t.get("email"),repoFilteredBy:t.get("repo_id")},function(){e.getLogsByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state,t=e.logList,n=e.userFilteredBy,r=e.repoFilteredBy,a=e.currentPage,o=e.perPage,i=e.hasNextPage,l=e.isExportExcelDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement(I.default,null,u.default.createElement(h.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleExportExcelDialog},(0,d.gettext)("Export Excel"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(k.default,{currentItem:"fileAccessLogs"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(Y,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:t,userFilteredBy:n,repoFilteredBy:r,filterByUser:this.filterByUser,filterByRepo:this.filterByRepo,currentPage:a,perPage:o,hasNextPage:i,getLogsByPage:this.getLogsByPage,resetPerPage:this.resetPerPage})))),l&&u.default.createElement(C.default,null,u.default.createElement(x.default,{logType:"fileAccess",toggle:this.toggleExportExcelDialog})))}}]),t}(s.Component);t.default=F},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n(2),c=n(6),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleMenu=function(){n.setState({isMenuShown:!n.state.isMenuShown},function(){n.props.toggleFreezeItem(n.state.isMenuShown)})},n.onItemClick=function(){n.props.filterItems(),n.props.toggleFreezeItem(!1)},n.state={isMenuShown:!1},n}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props.filterBy;return s.default.createElement(c.Dropdown,{isOpen:this.state.isMenuShown,toggle:this.toggleMenu},s.default.createElement(c.DropdownToggle,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down",title:(0,u.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isMenuShown}),s.default.createElement(c.DropdownMenu,null,s.default.createElement(c.DropdownItem,{onClick:this.onItemClick},(0,u.gettext)("only show {placeholder}").replace("{placeholder}",e))))}}]),t}(s.default.Component);t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n(6),c=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props.filterBy;return s.default.createElement(u.Button,{color:"secondary",className:"my-2 mr-2",onClick:this.props.toggleFilter},s.default.createElement("span",{className:"text-primary"},e),s.default.createElement("span",{className:"ml-2 close",style:{fontSize:"1.2rem"}},"x"))}}]),t}(s.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(4),d=n(2),f=n(3),p=n(39),m=r(p),h=n(7),g=r(h),v=n(8),b=r(v),y=n(76),E=r(y),w=n(850),S=r(w),_=n(6),x=n(38),O=r(x),C=n(80),P=r(C),k=n(13),D=r(k),M=n(1045),T=r(M),L=n(851),N=r(L),I=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPage=function(){n.props.getLogsByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getLogsByPage(n.props.currentPage+1)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,r=e.items,a=e.perPage,o=e.currentPage,i=e.hasNextPage;if(t)return u.default.createElement(b.default,null);if(n)return u.default.createElement("p",{className:"error text-center"},n);var l=u.default.createElement(m.default,null,u.default.createElement("h2",null,(0,d.gettext)("No file update logs"))),c=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"25%"},(0,d.gettext)("Name")),u.default.createElement("th",{width:"25%"},(0,d.gettext)("Date")),u.default.createElement("th",{width:"25%"},(0,d.gettext)("Library")),u.default.createElement("th",{width:"25%"},(0,d.gettext)("Action")))),r&&u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(j,{key:t,item:e})}))),u.default.createElement(E.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:o,hasNextPage:i,curPerPage:a,resetPerPage:this.props.resetPerPage}));return r.length?c:l}}]),t}(s.Component),j=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.toggleCommitDetailsDialog=function(){n.setState({isCommitDetailsDialogOpen:!n.state.isCommitDetailsDialogOpen})},n.showCommitDetails=function(e){e.preventDefault(),n.setState({isCommitDetailsDialogOpen:!n.state.isCommitDetailsDialogOpen})},n.state={isOpIconShown:!1,isCommitDetailsDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item;return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},u.default.createElement("td",null,u.default.createElement(P.default,{email:e.email,name:e.name})),u.default.createElement("td",null,(0,g.default)(e.time).fromNow()),u.default.createElement("td",null,e.repo_name?e.repo_name:(0,d.gettext)("Deleted")),u.default.createElement("td",null,e.file_operation,e.repo_name&&!e.repo_encrypted&&u.default.createElement("a",{className:"ml-1",href:"#",onClick:this.showCommitDetails},(0,d.gettext)("Details")))),this.state.isCommitDetailsDialogOpen&&u.default.createElement(D.default,null,u.default.createElement(T.default,{repoID:e.repo_id,commitID:e.commit_id,commitTime:e.time,toggleDialog:this.toggleCommitDetailsDialog})))}}]),t}(s.Component),R=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleExportExcelDialog=function(){n.setState({isExportExcelDialogOpen:!n.state.isExportExcelDialogOpen})},n.getLogsByPage=function(e){var t=n.state.perPage;c.seafileAPI.sysAdminListFileUpdateLogs(e,t).then(function(t){n.setState({logList:t.data.file_update_log_list,loading:!1,currentPage:e,hasNextPage:t.data.has_next_page})}).catch(function(e){n.setState({loading:!1,errorMsg:f.Utils.getErrorMsg(e,!0)})})},n.resetPerPage=function(e){n.setState({perPage:e},function(){return n.getLogsByPage(n.initPage)})},n.state={loading:!0,errorMsg:"",logList:[],perPage:25,currentPage:1,hasNextPage:!1,isExportExcelDialogOpen:!1},n.initPage=1,n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r)},function(){e.getLogsByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state,t=e.logList,n=e.currentPage,r=e.perPage,a=e.hasNextPage,o=e.isExportExcelDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement(O.default,null,u.default.createElement(_.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleExportExcelDialog},(0,d.gettext)("Export Excel"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(S.default,{currentItem:"fileUpdateLogs"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(I,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:t,currentPage:n,perPage:r,hasNextPage:a,getLogsByPage:this.getLogsByPage,resetPerPage:this.resetPerPage})))),o&&u.default.createElement(D.default,null,u.default.createElement(N.default,{logType:"fileUpdate",toggle:this.toggleExportExcelDialog})))}}]),t}(s.Component);t.default=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(15),d=n(7),f=r(d),p=n(6),m=n(4),h=n(2),g=n(3),v=n(851),b=r(v),y=n(13),E=r(y),w=n(39),S=r(w),_=n(8),x=r(_),O=n(76),C=r(O),P=n(38),k=r(P),D=n(80),M=r(D),T=n(850),L=r(T),N=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPage=function(){n.props.getLogsByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getLogsByPage(n.props.currentPage+1)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,r=e.items,a=e.perPage,o=e.currentPage,i=e.hasNextPage;if(t)return u.default.createElement(x.default,null);if(n)return u.default.createElement("p",{className:"error text-center"},n);var l=u.default.createElement(S.default,null,u.default.createElement("h2",null,(0,h.gettext)("No permission logs"))),c=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"15%"},(0,h.gettext)("Share From")),u.default.createElement("th",{width:"15%"},(0,h.gettext)("Share To")),u.default.createElement("th",{width:"10%"},(0,h.gettext)("Actions")),u.default.createElement("th",{width:"13%"},(0,h.gettext)("Permission")),u.default.createElement("th",{width:"20%"},(0,h.gettext)("Library")),u.default.createElement("th",{width:"12%"},(0,h.gettext)("Folder")),u.default.createElement("th",{width:"15%"},(0,h.gettext)("Date")))),r&&u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(I,{key:t,item:e})}))),u.default.createElement(C.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:o,hasNextPage:i,curPerPage:a,resetPerPage:this.props.resetPerPage}));return r.length?c:l}}]),t}(s.Component),I=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseOver=function(){n.setState({isOpIconShown:!0})},n.handleMouseOut=function(){n.setState({isOpIconShown:!1})},n.getActionTextByEType=function(e){return-1!=e.indexOf("add")?(0,h.gettext)("Add"):-1!=e.indexOf("modify")?(0,h.gettext)("Modify"):-1!=e.indexOf("delete")?(0,h.gettext)("Delete"):""},n.getShareTo=function(e){switch(e.share_type){case"user":return u.default.createElement(M.default,{email:e.to_user_email,name:e.to_user_name});case"group":return u.default.createElement(c.Link,{to:h.siteRoot+"sys/groups/"+e.to_group_id+"/libraries/"},e.to_group_name);case"department":return u.default.createElement(c.Link,{to:h.siteRoot+"sys/departments/"+e.to_group_id+"/"},e.to_group_name);case"all":return u.default.createElement(c.Link,{to:h.siteRoot+"org/"},(0,h.gettext)("All"));default:return(0,h.gettext)("Deleted")}},n.state={isOpIconShown:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item;return u.default.createElement("tr",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},u.default.createElement("td",null,u.default.createElement(M.default,{email:e.from_user_email,name:e.from_user_name})),u.default.createElement("td",null,this.getShareTo(e)),u.default.createElement("td",null,this.getActionTextByEType(e.etype)),u.default.createElement("td",null,g.Utils.sharePerms(e.permission)),u.default.createElement("td",null,e.repo_name?e.repo_name:(0,h.gettext)("Deleted")),u.default.createElement("td",null,e.folder),u.default.createElement("td",null,(0,f.default)(e.date).fromNow()))}}]),t}(s.Component),j=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleExportExcelDialog=function(){n.setState({isExportExcelDialogOpen:!n.state.isExportExcelDialogOpen})},n.getLogsByPage=function(e){var t=n.state.perPage;m.seafileAPI.sysAdminListSharePermissionLogs(e,t).then(function(t){n.setState({logList:t.data.share_permission_log_list,loading:!1,currentPage:e,hasNextPage:t.data.has_next_page})}).catch(function(e){n.setState({loading:!1,errorMsg:g.Utils.getErrorMsg(e,!0)})})},n.resetPerPage=function(e){n.setState({perPage:e},function(){return n.getLogsByPage(n.initPage)})},n.state={loading:!0,errorMsg:"",logList:[],perPage:25,currentPage:1,hasNextPage:!1,isExportExcelDialogOpen:!1},n.initPage=1,n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r)},function(){e.getLogsByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state,t=e.logList,n=e.currentPage,r=e.perPage,a=e.hasNextPage,o=e.isExportExcelDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement(k.default,null,u.default.createElement(p.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleExportExcelDialog},(0,h.gettext)("Export Excel"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(L.default,{currentItem:"sharePermissionLogs"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(N,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:t,currentPage:n,perPage:r,hasNextPage:a,getLogsByPage:this.getLogsByPage,resetPerPage:this.resetPerPage})))),o&&u.default.createElement(E.default,null,u.default.createElement(b.default,{logType:"sharePermission",toggle:this.toggleExportExcelDialog})))}}]),t}(s.Component);t.default=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(4),d=n(2),f=n(3),p=n(39),m=r(p),h=n(7),g=r(h),v=n(8),b=r(v),y=n(76),E=r(y),w=n(1342),S=r(w),_=n(38),x=r(_),O=n(80),C=r(O),P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPage=function(){n.props.getLogsByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getLogsByPage(n.props.currentPage+1)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,r=e.items,a=e.perPage,o=e.currentPage,i=e.hasNextPage;if(t)return u.default.createElement(b.default,null);if(n)return u.default.createElement("p",{className:"error text-center"},n);var l=u.default.createElement(m.default,null,u.default.createElement("h2",null,(0,d.gettext)("No Admin operation logs"))),c=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"20%"},(0,d.gettext)("Name")),u.default.createElement("th",{width:"15%"},(0,d.gettext)("Operation")),u.default.createElement("th",{width:"50%"},(0,d.gettext)("Detail")),u.default.createElement("th",{width:"15%"},(0,d.gettext)("Time")))),r&&u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(k,{key:t,item:e})}))),u.default.createElement(E.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:o,hasNextPage:i,curPerPage:a,resetPerPage:this.props.resetPerPage}));return r.length?c:l}}]),t}(s.Component),k=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getOperationText=function(e){switch(e){case"repo_create":return(0,d.gettext)("Create Library");case"repo_delete":return(0,d.gettext)("Delete Library");case"repo_transfer":return(0,d.gettext)("Transfer Library");case"group_create":return(0,d.gettext)("Create Group");case"group_transfer":return(0,d.gettext)("Transfer Group");case"group_delete":return(0,d.gettext)("Delete Group");case"user_add":return(0,d.gettext)("Add User");case"user_delete":return(0,d.gettext)("Delete User");default:return""}},n.getOperationDetail=function(e){var t=e.detail,n="";t.owner&&(n=d.siteRoot+"sys/users/"+encodeURIComponent(t.owner)+"/");var r="";t.email&&(r=d.siteRoot+"sys/users/"+encodeURIComponent(t.email)+"/");var a="",o="",i="";switch("repo_create"!=e.operation&&"repo_delete"!=e.operation&&"repo_transfer"!=e.operation||(o=d.siteRoot+"sys/libraries/"+t.id+"/"+encodeURIComponent(t.name)+"/"),"group_create"!=e.operation&&"group_delete"!=e.operation&&"group_transfer"!=e.operation||(i=d.siteRoot+"sys/groups/"+t.id+"/libraries/"),e.operation){case"repo_create":return a=(0,d.gettext)("Created library {library_name} with {owner} as its owner").replace("{owner}",'<a href="'+n+'">'+t.owner+"</a>"),a=d.isPro&&d.enableSysAdminViewRepo?a.replace("{library_name}",'<a href="'+o+'">'+t.name+"</a>"):a.replace("{library_name}",'<span class="font-weight-bold">'+t.name+"</span>");case"repo_delete":return a=(0,d.gettext)("Deleted library {library_name}").replace("{library_name}",'<span class="font-weight-bold">'+t.name+"</span>");case"repo_transfer":return a=(0,d.gettext)("Transferred library {library_name} from {user_from} to {user_to}").replace("{user_from}",'<span class="font-weight-bold">'+t.from+"</span>").replace("{user_to}",'<span class="font-weight-bold">'+t.to+"</span>"),a=d.isPro&&d.enableSysAdminViewRepo?a.replace("{library_name}",'<a href="'+o+'">'+t.name+"</a>"):a.replace("{library_name}",'<span class="font-weight-bold">'+t.name+"</span>");case"group_create":return a=(0,d.gettext)("Created group {group_name}").replace("{group_name}",'<a href="'+i+'">'+t.name+"</a>");case"group_transfer":return a=(0,d.gettext)("Transferred group {group_name} from {user_from} to {user_to}").replace("{user_from}",'<span class="font-weight-bold">'+t.from+"</span>").replace("{user_to}",'<span class="font-weight-bold">'+t.to+"</span>").replace("{group_name}",'<a href="'+i+'">'+t.name+"</a>");case"group_delete":return a=(0,d.gettext)("Deleted group {group_name}").replace("{group_name}",'<span class="font-weight-bold">'+t.name+"</span>");case"user_add":return a=(0,d.gettext)("Added user {user}").replace("{user}",'<a href="'+r+'">'+t.email+"</a>");case"user_delete":return a=(0,d.gettext)("Deleted user {user}").replace("{user}",'<span class="font-weight-bold">'+t.email+"</span>");default:return""}},n.state={isOpIconShown:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item;return u.default.createElement("tr",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},u.default.createElement("td",null,u.default.createElement(C.default,{email:e.email,name:e.name})),u.default.createElement("td",null,this.getOperationText(e.operation)),u.default.createElement("td",null,u.default.createElement("span",{dangerouslySetInnerHTML:{__html:this.getOperationDetail(e)}})),u.default.createElement("td",null,(0,g.default)(e.datetime).fromNow()))}}]),t}(s.Component),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getLogsByPage=function(e){var t=n.state.perPage;c.seafileAPI.sysAdminListAdminLogs(e,t).then(function(r){n.setState({logList:r.data.data,loading:!1,currentPage:e,hasNextPage:f.Utils.hasNextPage(e,t,r.data.total_count)})}).catch(function(e){n.setState({loading:!1,errorMsg:f.Utils.getErrorMsg(e,!0)})})},n.resetPerPage=function(e){n.setState({perPage:e},function(){return n.getLogsByPage(n.initPage)})},n.state={loading:!0,errorMsg:"",logList:[],perPage:25,currentPage:1,hasNextPage:!1},n.initPage=1,n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r)},function(){e.getLogsByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state,t=e.logList,n=e.currentPage,r=e.perPage,a=e.hasNextPage;return u.default.createElement(s.Fragment,null,u.default.createElement(x.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(S.default,{currentItem:"adminOperationLogs"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(P,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:t,currentPage:n,perPage:r,hasNextPage:a,getLogsByPage:this.getLogsByPage,resetPerPage:this.resetPerPage})))))}}]),t}(s.Component);t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(4),d=n(2),f=n(3),p=n(39),m=r(p),h=n(7),g=r(h),v=n(8),b=r(v),y=n(76),E=r(y),w=n(1342),S=r(w),_=n(38),x=r(_),O=n(80),C=r(O),P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPage=function(){n.props.getLogsByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getLogsByPage(n.props.currentPage+1)},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,r=e.items,a=e.perPage,o=e.currentPage,i=e.hasNextPage;if(t)return u.default.createElement(b.default,null);if(n)return u.default.createElement("p",{className:"error text-center"},n);var l=u.default.createElement(m.default,null,u.default.createElement("h2",null,(0,d.gettext)("No Admin login logs"))),c=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"25%"},(0,d.gettext)("Name")),u.default.createElement("th",{width:"25%"},(0,d.gettext)("IP")),u.default.createElement("th",{width:"25%"},(0,d.gettext)("Status")),u.default.createElement("th",{width:"25%"},(0,d.gettext)("Time")))),r&&u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(k,{key:t,item:e})}))),u.default.createElement(E.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:o,hasNextPage:i,curPerPage:a,resetPerPage:this.props.resetPerPage}));return r.length?c:l}}]),t}(s.Component),k=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item;return u.default.createElement("tr",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},u.default.createElement("td",null,u.default.createElement(C.default,{email:e.email,name:e.name})),u.default.createElement("td",null,e.login_ip),u.default.createElement("td",null,e.login_success?(0,d.gettext)("Success"):(0,d.gettext)("Failed")),u.default.createElement("td",null,(0,g.default)(e.login_time).fromNow()))}}]),t}(s.Component),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getLogsByPage=function(e){var t=n.state.perPage;c.seafileAPI.sysAdminListAdminLoginLogs(e,t).then(function(r){n.setState({logList:r.data.data,loading:!1,currentPage:e,hasNextPage:f.Utils.hasNextPage(e,t,r.data.total_count)})}).catch(function(e){n.setState({loading:!1,errorMsg:f.Utils.getErrorMsg(e,!0)})})},n.resetPerPage=function(e){n.setState({perPage:e},function(){return n.getLogsByPage(n.initPage)})},n.state={loading:!0,errorMsg:"",logList:[],perPage:25,currentPage:1,hasNextPage:!1},n.initPage=1,n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r)},function(){e.getLogsByPage(e.state.currentPage)})}},{key:"render",value:function(){var e=this.state,t=e.logList,n=e.currentPage,r=e.perPage,a=e.hasNextPage;return u.default.createElement(s.Fragment,null,u.default.createElement(x.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(S.default,{currentItem:"adminLoginLogs"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(P,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:t,currentPage:n,perPage:r,hasNextPage:a,getLogsByPage:this.getLogsByPage,resetPerPage:this.resetPerPage})))))}}]),t}(s.Component);t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(3),f=n(4),p=n(2),m=n(1343),h=r(m),g=n(13),v=r(g),b=n(5),y=r(b),E=n(38),w=r(E),S=n(2538),_=r(S),x=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleAddTermDialog=function(){n.setState({isAddTermDialogOpen:!n.state.isAddTermDialogOpen})},n.addTerm=function(e,t,n,r){f.seafileAPI.sysAdminAddTermAndCondition(e,t,n,r).then(function(e){location.reload()}).catch(function(e){var t=d.Utils.getErrorMsg(e);y.default.danger(t)})},n.updateTerm=function(e,t,r,a,o){f.seafileAPI.sysAdminUpdateTermAndCondition(e,t,r,a,o).then(function(t){var r=n.state.termList.map(function(n){return n.id==e?t.data:n});n.setState({termList:r}),y.default.success((0,p.gettext)("Update succeeded."))}).catch(function(e){var t=d.Utils.getErrorMsg(e);y.default.danger(t)})},n.deleteTerm=function(e){f.seafileAPI.sysAdminDeleteTermAndCondition(e).then(function(t){var r=n.state.termList.filter(function(t){return t.id!=e});n.setState({termList:r}),y.default.success((0,p.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=d.Utils.getErrorMsg(e);y.default.danger(t)})},n.state={loading:!0,errorMsg:"",termList:[],isAddTermDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;f.seafileAPI.sysAdminListTermsAndConditions().then(function(t){e.setState({termList:t.data.term_and_condition_list,loading:!1})}).catch(function(t){e.setState({loading:!1,errorMsg:d.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){var e=this.state,t=e.termList,n=e.isAddTermDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement(w.default,null,u.default.createElement(c.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleAddTermDialog},(0,p.gettext)("Add"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,p.gettext)("Terms and Conditions"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(_.default,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:t,deleteTerm:this.deleteTerm,updateTerm:this.updateTerm})))),n&&u.default.createElement(v.default,null,u.default.createElement(h.default,{isUpdate:!1,addTerm:this.addTerm,toggle:this.toggleAddTermDialog})))}}]),t}(s.Component);t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(497),m=n(2),h={title:d.default.string,content:d.default.string,onCommit:d.default.func.isRequired,onCloseEditorDialog:d.default.func.isRequired},g=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.onKeyDown=function(e){e.stopPropagation()},r.toggle=function(){if(r.isContentChanged()){var e=r.getCurrentContent();r.props.onCommit(e)}r.props.onCloseEditorDialog()},r.isContentChanged=function(){return r.simpleEditor.hasContentChange()},r.getCurrentContent=function(){return r.simpleEditor.getMarkdown()},r.setSimpleEditorRef=function(e){r.simpleEditor=e},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.title;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle,onKeyDown:this.onKeyDown,wrapClassName:"conditions-editor-dialog-wrapper",className:"conditions-editor-dialog",contentClassName:"conditions-editor-dialog-content",size:"lg",style:{width:770}},u.default.createElement(f.ModalHeader,{className:"conditions-editor-dialog-title",toggle:this.toggle},n),u.default.createElement(f.ModalBody,{className:"conditions-editor-dialog-main"},u.default.createElement(p.SimpleEditor,{onRef:this.setSimpleEditorRef.bind(this),value:t||""})))}}]),t}(u.default.Component);g.defaultProps={title:(0,m.gettext)("Terms")},g.propTypes=h,t.default=g},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(39),m=r(p),h=n(8),g=r(h),v=n(2539),b=r(v),y={loading:d.default.bool.isRequired,items:d.default.array.isRequired,errorMsg:d.default.string,deleteTerm:d.default.func.isRequired,updateTerm:d.default.func.isRequired},E=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items;if(n)return u.default.createElement(g.default,null);if(r)return u.default.createElement("p",{className:"error text-center"},r);var o=u.default.createElement(m.default,null,u.default.createElement("h2",null,(0,f.gettext)("No terms and conditions"))),i=u.default.createElement(s.Fragment,null,u.default.createElement("table",{className:"table-hover"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"20%"},(0,f.gettext)("Name")),u.default.createElement("th",{width:"10%"},(0,f.gettext)("Version")),u.default.createElement("th",{width:"25%"},(0,f.gettext)("Text")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("Created")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("Activated")),u.default.createElement("th",{width:"5%"}))),a&&u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(b.default,{key:n,item:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteTerm:e.props.deleteTerm,updateTerm:e.props.updateTerm})}))));return a.length?i:o}}]),t}(s.Component);E.propTypes=y,t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(7),p=r(f),m=n(126),h=n(2),g=n(3),v=n(2540),b=r(v),y=n(1343),E=r(y),w=n(128),S=r(w),_=n(2541),x=r(_),O=n(13),C=r(O),P=n(196),k=r(P),D={item:d.default.object.isRequired,isItemFreezed:d.default.bool.isRequired,onFreezedItem:d.default.func.isRequired,onUnfreezedItem:d.default.func.isRequired,deleteTerm:d.default.func.isRequired,updateTerm:d.default.func.isRequired},M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseLeave=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.toggleUpdateDialog=function(e){n.setState({isUpdateDialogOpen:!n.state.isUpdateDialogOpen})},n.toggleDeleteDialog=function(e){n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen})},n.toggleTermsContentDialog=function(e){n.setState({isTermsPerviewDialogOpen:!n.state.isTermsPerviewDialogOpen})},n.onMenuItemClick=function(e){switch(e){case"Update":n.toggleUpdateDialog();break;case"Delete":n.toggleDeleteDialog()}},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.deleteTerm=function(){n.props.deleteTerm(n.props.item.id),n.toggleDeleteDialog()},n.updateTerm=function(e,t,r,a){n.props.updateTerm(n.props.item.id,e,t,r,a),n.toggleUpdateDialog()},n.translateOperations=function(e){var t="";switch(e){case"Update":t=(0,h.gettext)("Update");break;case"Delete":t=(0,h.gettext)("Delete")}return t},n.state={itemContent:"...",isOpIconShown:!1,isUpdateDialogOpen:!1,isDeleteDialogOpen:!1,isTermsPerviewDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.item.text;m.processor.process(t).then(function(t){var n=String(t);e.setState({itemContent:n})})}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.item.text!==this.props.item.text){var n=e.item.text;m.processor.process(n).then(function(e){var n=String(e);t.setState({itemContent:n})})}}},{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isDeleteDialogOpen,r=t.isUpdateDialogOpen,a=t.isTermsPerviewDialogOpen,o=(0,b.default)(e.text),i='<span class="op-target">'+g.Utils.HTMLescape(e.name)+"</span>",l=(0,h.gettext)("Are you sure you want to delete {placeholder} ?").replace("{placeholder}",i);return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,e.name),u.default.createElement("td",null,e.version_number),u.default.createElement("td",{className:"ellipsis"},u.default.createElement("a",{href:"#",onClick:this.toggleTermsContentDialog},o.previewText)),u.default.createElement("td",null,(0,p.default)(e.ctime).fromNow()),u.default.createElement("td",null,e.activate_time?(0,p.default)(e.activate_time).fromNow():"--"),u.default.createElement("td",null,this.state.isOpIconShown&&u.default.createElement(k.default,{operations:["Update","Delete"],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),n&&u.default.createElement(C.default,null,u.default.createElement(S.default,{title:(0,h.gettext)("Delete T&C"),message:l,toggleDialog:this.toggleDeleteDialog,executeOperation:this.deleteTerm,confirmBtnText:(0,h.gettext)("Delete")})),r&&u.default.createElement(C.default,null,u.default.createElement(E.default,{updateTerm:this.updateTerm,toggle:this.toggleUpdateDialog,isUpdate:!0,oldTermObj:e})),a&&u.default.createElement(C.default,null,u.default.createElement(x.default,{content:e.text,onClosePreviewDialog:this.toggleTermsContentDialog})))}}]),t}(s.Component);M.propTypes=D,t.default=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/\[.+\]\(\S+\)|<img src=(\S+).+\/>|!\[\]\(\S+\)|<\S+>/g,a=/^<img src="(\S+)" .+\/>/,o=/^!\[\]\((\S+)\)/,i=/^\[.+\]\(\S+\)/,l=/^<\S+>$/,s=function(e){var t={links:[],images:[]};return e.forEach(function(e){if(e.search(i)>=0||e.search(l)>=0)t.links.push(e);else{var n=e.match(a),r=e.match(o);n?t.images.push(n[1]):r&&t.images.push(r[1])}}),t},u=function(e){for(var t="",n=e.replace(r,""),a=0;a<n.length&&("#"===n[a]||("\n"===n[a]?t+=" ":t+=n[a],30!==t.length));a++);var o=e.match(r);if(o){var i=s(o);return{previewText:t,images:i.images,links:i.links}}return{previewText:t,images:[],links:[]}};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(470),m=r(p),h=n(2),g={title:d.default.string,content:d.default.string,onClosePreviewDialog:d.default.func.isRequired},v=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.toggle=function(){r.props.onClosePreviewDialog()},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.content;return u.default.createElement(f.Modal,{isOpen:!0,size:"lg",style:{width:600},wrapClassName:"conditions-perview-wrapper",toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},t),u.default.createElement(f.ModalBody,null,u.default.createElement(m.default,{content:n})))}}]),t}(u.default.Component);v.defaultProps={title:(0,h.gettext)("Terms")},v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(3),d=n(4),f=n(2),p=n(8),m=r(p),h=n(5),g=r(h),v=n(38),b=r(v),y=n(2543),E=r(y),w=n(2544),S=r(w),_=n(2545),x=r(_),O=n(2546),C=r(O);n(2547);var P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.saveSetting=function(e,t){d.seafileAPI.sysAdminSetSysSettingInfo(e,t).then(function(e){n.setState({config_dict:e.data}),g.default.success((0,f.gettext)("Success"))}).catch(function(e){var t=c.Utils.getErrorMsg(e);g.default.danger(t)})},n.postFile=function(e,t){var r=void 0;"Logo"==t?r=d.seafileAPI.sysAdminUpdateLogo(e):"Favicon"==t?r=d.seafileAPI.sysAdminUpdateFavicon(e):"loginBGImage"==t&&(r=d.seafileAPI.sysAdminUpdateLoginBG(e)),r.then(function(e){"Logo"==t?n.setState({logoPath:e.data.logo_path}):"Favicon"==t?n.setState({faviconPath:e.data.favicon_path}):"loginBGImage"==t&&n.setState({loginBGPath:e.data.login_bg_image_path}),g.default.success((0,f.gettext)("Success"))}).catch(function(e){var t=c.Utils.getErrorMsg(e);g.default.danger(t)})},n.state={loading:!0,errorMsg:"",config_dict:null,logoPath:f.mediaUrl+f.logoPath,faviconPath:f.mediaUrl+f.faviconPath,loginBGPath:f.mediaUrl+f.loginBGPath},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;d.seafileAPI.sysAdminGetSysSettingInfo().then(function(t){e.setState({loading:!1,config_dict:t.data})}).catch(function(t){e.setState({loading:!1,errorMsg:c.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.errorMsg,r=e.config_dict,a=e.logoPath,o=e.faviconPath,i=e.loginBGPath;return u.default.createElement(s.Fragment,null,u.default.createElement(b.default,null),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,f.gettext)("Settings"))),u.default.createElement("div",{className:"cur-view-content container mw-100"},t&&u.default.createElement(m.default,null),n&&u.default.createElement("p",{className:"error text-center mt-4"},n),!t&&!n&&r&&u.default.createElement(s.Fragment,null,u.default.createElement("p",{className:"small text-secondary my-4"},(0,f.gettext)("Note: Settings via web interface are saved in database table (seahub-db/constance_config). They have a higher priority over the settings in config files.")),u.default.createElement(E.default,{headingText:"URL"},u.default.createElement(s.Fragment,null,u.default.createElement(S.default,{saveSetting:this.saveSetting,displayName:"SERVICE_URL",keyText:"SERVICE_URL",value:r.SERVICE_URL,helpTip:(0,f.gettext)("The URL of the server, like https://seafile.example.com or http://192.168.1.2:8000")}),u.default.createElement(S.default,{saveSetting:this.saveSetting,displayName:"FILE_SERVER_ROOT",keyText:"FILE_SERVER_ROOT",value:r.FILE_SERVER_ROOT,helpTip:(0,f.gettext)("The internal URL for downloading/uploading files. Users will not be able to download/upload files if this is not set correctly. If you config Seafile behind Nginx/Apache, it should be SERVICE_URL/seafhttp, like https://seafile.example.com/seafhttp .")}))),u.default.createElement(E.default,{headingText:(0,f.gettext)("Branding")},u.default.createElement(s.Fragment,null,u.default.createElement(S.default,{saveSetting:this.saveSetting,displayName:"SITE_TITLE",keyText:"SITE_TITLE",value:r.SITE_TITLE,helpTip:(0,f.gettext)("Site title shown in a browser tab")}),u.default.createElement(S.default,{saveSetting:this.saveSetting,displayName:"SITE_NAME",keyText:"SITE_NAME",value:r.SITE_NAME,helpTip:(0,f.gettext)("Site name used in email sending")}),u.default.createElement(x.default,{postFile:this.postFile,displayName:"Logo",keyText:"Logo",filePath:a,fileWidth:256,fileHeight:64,helpTip:"logo.png, 256px * 64px"}),u.default.createElement(x.default,{postFile:this.postFile,displayName:"Favicon",keyText:"Favicon",filePath:o,fileWidth:32,fileHeight:32,helpTip:"favicon.ico, 32px * 32px"}),u.default.createElement(x.default,{postFile:this.postFile,displayName:(0,f.gettext)("Login Background Image"),keyText:"loginBGImage",filePath:i,fileWidth:240,fileHeight:160,helpTip:"login-bg.jpg, 2400px * 1600px"}),u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:"ENABLE_BRANDING_CSS",keyText:"ENABLE_BRANDING_CSS",value:r.ENABLE_BRANDING_CSS,helpTip:(0,f.gettext)("Use custom CSS")}),u.default.createElement(S.default,{inputType:"textarea",saveSetting:this.saveSetting,displayName:(0,f.gettext)("Custom CSS"),keyText:"CUSTOM_CSS",value:r.CUSTOM_CSS,helpTip:""}))),u.default.createElement(E.default,{headingText:(0,f.gettext)("User")},u.default.createElement(s.Fragment,null,u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:(0,f.gettext)("allow new registrations"),keyText:"ENABLE_SIGNUP",value:r.ENABLE_SIGNUP,helpTip:(0,f.gettext)("Allow new user registrations. Uncheck this to prevent anyone from creating a new account.")}),u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:(0,f.gettext)("activate after registration"),keyText:"ACTIVATE_AFTER_REGISTRATION",value:r.ACTIVATE_AFTER_REGISTRATION,helpTip:(0,f.gettext)("Activate user immediately after registration. If unchecked, a user need to be activated by administrator or via activation email")}),u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:(0,f.gettext)("send activation email"),keyText:"REGISTRATION_SEND_MAIL",value:r.REGISTRATION_SEND_MAIL,helpTip:(0,f.gettext)("Send activation Email after user registration.")}),u.default.createElement(S.default,{saveSetting:this.saveSetting,displayName:(0,f.gettext)("keep sign in"),keyText:"LOGIN_REMEMBER_DAYS",value:r.LOGIN_REMEMBER_DAYS,helpTip:(0,f.gettext)("Number of days that keep user sign in.")}),u.default.createElement(S.default,{saveSetting:this.saveSetting,displayName:"LOGIN_ATTEMPT_LIMIT",keyText:"LOGIN_ATTEMPT_LIMIT",value:r.LOGIN_ATTEMPT_LIMIT,helpTip:(0,f.gettext)("The maximum number of failed login attempts before showing CAPTCHA.")}),u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:"FREEZE_USER_ON_LOGIN_FAILED",keyText:"FREEZE_USER_ON_LOGIN_FAILED",value:r.FREEZE_USER_ON_LOGIN_FAILED,helpTip:(0,f.gettext)("Freeze user account when failed login attempts exceed limit.")}))),u.default.createElement(E.default,{headingText:(0,f.gettext)("Groups")},u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:"ENABLE_SHARE_TO_ALL_GROUPS",keyText:"ENABLE_SHARE_TO_ALL_GROUPS",value:r.ENABLE_SHARE_TO_ALL_GROUPS,helpTip:(0,f.gettext)("Enable users to share libraries to any groups in the system.")})),u.default.createElement(E.default,{headingText:(0,f.gettext)("Password")},u.default.createElement(s.Fragment,null,u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:"strong password",keyText:"USER_STRONG_PASSWORD_REQUIRED",value:r.USER_STRONG_PASSWORD_REQUIRED,helpTip:(0,f.gettext)("Force user to use a strong password when sign up or change password.")}),u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:"force password change",keyText:"FORCE_PASSWORD_CHANGE",value:r.FORCE_PASSWORD_CHANGE,helpTip:(0,f.gettext)("Force user to change password when account is newly added or reset by admin")}),u.default.createElement(S.default,{saveSetting:this.saveSetting,displayName:(0,f.gettext)("password minimum length"),keyText:"USER_PASSWORD_MIN_LENGTH",value:r.USER_PASSWORD_MIN_LENGTH,helpTip:(0,f.gettext)("The least number of characters an account password should include.")}),u.default.createElement(S.default,{saveSetting:this.saveSetting,displayName:(0,f.gettext)("password strength level"),keyText:"USER_PASSWORD_STRENGTH_LEVEL",value:r.USER_PASSWORD_STRENGTH_LEVEL,helpTip:(0,f.gettext)("The level(1-4) of an account password's strength. For example, '3' means password must have at least 3 of the following: num, upper letter, lower letter and other symbols")}),u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:"enable two factor authentication",keyText:"ENABLE_TWO_FACTOR_AUTH",value:r.ENABLE_TWO_FACTOR_AUTH,helpTip:(0,f.gettext)("Enable two factor authentication")}))),u.default.createElement(E.default,{headingText:(0,f.gettext)("Library")},u.default.createElement(s.Fragment,null,u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:"library history",keyText:"ENABLE_REPO_HISTORY_SETTING",value:r.ENABLE_REPO_HISTORY_SETTING,helpTip:(0,f.gettext)("Allow user to change library history settings")}),u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:"encrypted library",keyText:"ENABLE_ENCRYPTED_LIBRARY",value:r.ENABLE_ENCRYPTED_LIBRARY,helpTip:(0,f.gettext)("Allow user to create encrypted libraries")}),u.default.createElement(S.default,{saveSetting:this.saveSetting,displayName:(0,f.gettext)("library password minimum length"),keyText:"REPO_PASSWORD_MIN_LENGTH",value:r.REPO_PASSWORD_MIN_LENGTH,helpTip:(0,f.gettext)("The least number of characters an encrypted library password should include.")}),u.default.createElement(S.default,{saveSetting:this.saveSetting,displayName:(0,f.gettext)("download/upload link password minimum length"),keyText:"SHARE_LINK_PASSWORD_MIN_LENGTH",value:r.SHARE_LINK_PASSWORD_MIN_LENGTH,helpTip:(0,f.gettext)("The least number of characters a download/upload link password should include.")}),u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:"ENABLE_USER_CREATE_ORG_REPO",keyText:"ENABLE_USER_CREATE_ORG_REPO",value:r.ENABLE_USER_CREATE_ORG_REPO,helpTip:(0,f.gettext)("Allow user to add organization libraries. Otherwise, only system admin can add organization libraries.")}),u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:"ENABLE_USER_CLEAN_TRASH",keyText:"ENABLE_USER_CLEAN_TRASH",value:r.ENABLE_USER_CLEAN_TRASH,helpTip:(0,f.gettext)("Allow user to clean library trash")}))),u.default.createElement(E.default,{headingText:(0,f.gettext)("Online Preview")},u.default.createElement(S.default,{inputType:"textarea",saveSetting:this.saveSetting,displayName:(0,f.gettext)("text file extensions"),keyText:"TEXT_PREVIEW_EXT",value:r.TEXT_PREVIEW_EXT,helpTip:(0,f.gettext)("Extensions of text files that can be online previewed, each suffix is separated by a comma.")})),u.default.createElement(E.default,{headingText:(0,f.gettext)("Sync")},u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:"DISABLE_SYNC_WITH_ANY_FOLDER",keyText:"DISABLE_SYNC_WITH_ANY_FOLDER",value:r.DISABLE_SYNC_WITH_ANY_FOLDER,helpTip:(0,f.gettext)("If turn on, the desktop clients will not be able to sync a folder outside the default Seafile folder.")})),f.isPro&&u.default.createElement(E.default,{headingText:(0,f.gettext)("Terms")},u.default.createElement(C.default,{saveSetting:this.saveSetting,displayName:"ENABLE_TERMS_AND_CONDITIONS",keyText:"ENABLE_TERMS_AND_CONDITIONS",value:r.ENABLE_TERMS_AND_CONDITIONS,helpTip:(0,f.gettext)("Enable system admin to add Terms and Conditions, and all users will have to accept the terms.")})))))))}}]),t}(s.Component);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f={headingText:d.default.string.isRequired,children:d.default.object.isRequired},p=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.headingText,n=e.children;return u.default.createElement("div",{className:"mb-4"},u.default.createElement("h4",{className:"border-bottom font-weight-normal mb-2 pb-1"},t),n)}}]),t}(s.Component);p.propTypes=f,t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(1056),h=r(m),g={inputType:d.default.string,saveSetting:d.default.func.isRequired,keyText:d.default.string.isRequired,value:d.default.oneOfType([d.default.string,d.default.number]),helpTip:d.default.string.isRequired,displayName:d.default.string.isRequired},v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleBtns=function(){n.setState({isBtnsShown:!n.state.isBtnsShown})},n.hideBtns=function(e){n.state.isBtnsShown&&(n.props.value!=n.state.value&&n.setState({value:n.props.value}),n.toggleBtns())},n.onInputChange=function(e){n.setState({value:e.target.value})},n.onSubmit=function(e){var t=n.state.value.trim();t!=n.props.value&&n.props.saveSetting(n.props.keyText,t),n.toggleBtns()},n.state={isBtnsShown:!1,value:n.props.value},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.isBtnsShown,n=e.value,r=this.props,a=r.helpTip,o=r.displayName,i=r.inputType;return u.default.createElement(h.default,{displayName:o,helpTip:a,mainContent:u.default.createElement(f.Input,{type:i||"text",className:"textarea"==i?"web-setting-textarea":"",onChange:this.onInputChange,onFocus:this.toggleBtns,onBlur:this.hideBtns,value:n}),extraContent:t?u.default.createElement(s.Fragment,null,u.default.createElement(f.Button,{className:"sf2-icon-tick web-setting-icon-btn web-setting-icon-btn-submit",onMouseDown:this.onSubmit,title:(0,p.gettext)("Submit")}),u.default.createElement(f.Button,{className:"ml-1 sf2-icon-x2 web-setting-icon-btn web-setting-icon-btn-cancel",title:(0,p.gettext)("Cancel")})):null})}}]),t}(s.Component);v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(1056),h=r(m),g={postFile:d.default.func.isRequired,keyText:d.default.string.isRequired,filePath:d.default.string.isRequired,helpTip:d.default.string.isRequired,fileWidth:d.default.number.isRequired,fileHeight:d.default.number.isRequired,displayName:d.default.string.isRequired},v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.uploadFile=function(){if(n.fileInput.current.files.length){var e=n.fileInput.current.files[0];n.props.postFile(e,n.props.keyText)}},n.openFileInput=function(){n.fileInput.current.click()},n.fileInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.helpTip,n=e.filePath,r=e.fileWidth,a=e.fileHeight,o=e.displayName;return u.default.createElement(h.default,{displayName:o,helpTip:t,mainContent:u.default.createElement("img",{src:n+"?t="+(new Date).getTime(),alt:o,width:r,height:a,className:"mb-1"}),extraContent:u.default.createElement(s.Fragment,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.openFileInput},(0,p.gettext)("Change")),u.default.createElement("input",{className:"d-none",type:"file",onChange:this.uploadFile,ref:this.fileInput}))})}}]),t}(s.Component);v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(1056),m=r(p),h={saveSetting:d.default.func.isRequired,keyText:d.default.string.isRequired,value:d.default.oneOfType([d.default.bool,d.default.number]),helpTip:d.default.string.isRequired,displayName:d.default.string.isRequired},g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputChange=function(e){var t=e.target.checked,r=t?1:0;n.setState({inputChecked:t}),n.props.saveSetting(n.props.keyText,r)},n.state={inputChecked:n.props.value},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state.inputChecked,t=this.props,n=t.helpTip,r=t.displayName;return u.default.createElement(m.default,{displayName:r,mainContent:u.default.createElement(s.Fragment,null,u.default.createElement(f.Input,{className:"ml-0",checked:e,type:"checkbox",onChange:this.onInputChange}),u.default.createElement("p",{className:"ml-4"},n))})}}]),t}(s.Component);g.propTypes=h,t.default=g},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(3),f=n(4),p=n(2),m=n(5),h=r(m),g=n(39),v=r(g),b=n(8),y=r(b),E=n(196),w=r(E),S=n(128),_=r(S),x=n(2549),O=r(x),C=n(38),P=r(C),k=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items;if(n)return u.default.createElement(y.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var o=u.default.createElement(v.default,null,u.default.createElement("h2",null,(0,p.gettext)("No notifications"))),i=u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"95%"},(0,p.gettext)("Notification Detail")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(D,{key:n,item:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteNotification:e.props.deleteNotification,setToCurrent:e.props.setToCurrent})})));return a.length?i:o}}]),t}(s.Component),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseLeave=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.toggleDeleteDialog=function(e){e&&e.preventDefault(),n.setState({isDeleteDialogOpen:!n.state.isDeleteDialogOpen})},n.deleteNotification=function(){n.props.deleteNotification(n.props.item.id),n.toggleDeleteDialog()},n.setToCurrent=function(){n.props.setToCurrent(n.props.item.id)},n.onMenuItemClick=function(e){switch(e){case"Set to current":n.setToCurrent();break;case"Delete":n.toggleDeleteDialog()}},n.translateOperations=function(e){var t="";switch(e){case"Set to current":t=(0,p.gettext)("Set to current");break;case"Delete":t=(0,p.gettext)("Delete")}return t},n.getOperations=function(){var e=n.props.item,t=[];return e.is_current||t.push("Set to current"),t.push("Delete"),t},n.state={isOpIconShown:!1,highlight:!1,isDeleteDialogOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state,n=t.isOpIconShown,r=t.isDeleteDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,e.msg,e.is_current&&u.default.createElement("span",{className:"small text-orange"},(0,p.gettext)("(current notification)"))),u.default.createElement("td",null,n&&u.default.createElement(w.default,{operations:this.getOperations(),translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))),r&&u.default.createElement(_.default,{title:(0,p.gettext)("Delete Notification"),message:(0,p.gettext)("Are you sure you want to delete the notification ?"),toggleDialog:this.toggleDeleteDialog,executeOperation:this.deleteNotification,confirmBtnText:(0,p.gettext)("Delete")}))}}]),t}(s.Component),M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleAddNotificationDialog=function(){n.setState({isAddNotificationDialogOpen:!n.state.isAddNotificationDialogOpen})},n.addNotification=function(e){f.seafileAPI.sysAdminAddSysNotification(e).then(function(e){var t=n.state.notificationList;t.unshift(e.data.notification),n.setState({notificationList:t})}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.deleteNotification=function(e){f.seafileAPI.sysAdminDeleteSysNotification(e).then(function(t){var r=n.state.notificationList.filter(function(t){return t.id!=e});n.setState({notificationList:r}),h.default.success((0,p.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.setToCurrent=function(e){f.seafileAPI.sysAdminSetSysNotificationToCurrent(e).then(function(t){var r=n.state.notificationList.map(function(t){return t.id==e?t.is_current=!0:t.is_current=!1,t});n.setState({notificationList:r})}).catch(function(e){var t=d.Utils.getErrorMsg(e);h.default.danger(t)})},n.state={loading:!0,errorMsg:"",notificationList:[],isAddNotificationDialogOpen:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;f.seafileAPI.sysAdminListAllSysNotifications().then(function(t){e.setState({loading:!1,notificationList:t.data.notifications})}).catch(function(t){e.setState({loading:!1,errorMsg:d.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){var e=this.state.isAddNotificationDialogOpen;return u.default.createElement(s.Fragment,null,u.default.createElement(P.default,null,u.default.createElement(c.Button,{className:"btn btn-secondary operation-item",onClick:this.toggleAddNotificationDialog},(0,p.gettext)("Add new notification"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,p.gettext)("All Notifications"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(k,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.notificationList,deleteNotification:this.deleteNotification,setToCurrent:this.setToCurrent})))),e&&u.default.createElement(O.default,{addNotification:this.addNotification,toggle:this.toggleAddNotificationDialog}))}}]),t}(s.Component);t.default=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m={toggle:d.default.func.isRequired,addNotification:d.default.func.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){var t=e.target.value;n.setState({value:t,isSubmitBtnActive:""!=t.trim()})},n.handleSubmit=function(){n.toggle(),n.props.addNotification(n.state.value.trim())},n.toggle=function(){n.props.toggle()},n.state={value:"",isSubmitBtnActive:!1},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Add new notification")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Input,{type:"textarea",value:this.state.value,onChange:this.handleChange})))),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit,disabled:!this.state.isSubmitBtnActive},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);h.propTypes=m,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(4),p=n(2),m=n(3),h=n(31),g=r(h),v={loading:d.default.bool.isRequired,errorMsg:d.default.string.isRequired,records:d.default.array.isRequired},b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.errorMsg,r=e.records;return t?u.default.createElement("span",{className:"loading-icon loading-tip"}):n?u.default.createElement("p",{className:"error text-center"},n):u.default.createElement("table",{width:"100%",className:"table table-hover table-vcenter"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"16%"},(0,p.gettext)("Library")),u.default.createElement("th",{width:"30%"},"ID"),u.default.createElement("th",{width:"30%"},(0,p.gettext)("Path")),u.default.createElement("th",{width:"12%"},(0,p.gettext)("Label")),u.default.createElement("th",{width:"12%"},(0,p.gettext)("Suggestion")))),u.default.createElement("tbody",null,r.map(function(e,t){return u.default.createElement(E,{key:t,record:e})})))}}]),t}(s.Component);b.propTypes=v;var y={record:d.default.object.isRequired},E=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.record;return u.default.createElement("tr",null,u.default.createElement("td",null,e.repo_name),u.default.createElement("td",null,e.repo_id),u.default.createElement("td",null,e.path),u.default.createElement("td",null,e.detail.label),u.default.createElement("td",null,e.detail.suggestion))}}]),t}(s.Component);E.propTypes=y;var w=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0,errorMsg:"",records:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;f.seafileAPI.listFileScanRecords().then(function(t){e.setState({loading:!1,records:t.data.record_list})}).catch(function(t){e.setState({loading:!1,errorMsg:m.Utils.getErrorMsg(t,!0)})})}},{key:"render",value:function(){return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"main-panel-north border-left-show"},u.default.createElement("div",{className:"cur-view-toolbar"},u.default.createElement("span",{className:"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none",title:"Side Nav Menu"})),u.default.createElement("div",{className:"common-toolbar"},u.default.createElement(g.default,{isAdminPanel:!0}))),u.default.createElement("div",{className:"main-panel-center"},u.default.createElement("div",{className:"cur-view-container",id:"content-scan-records"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,p.gettext)("Content Scan Records"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(b,{loading:this.state.loading,errorMsg:this.state.errorMsg,records:this.state.records})))))}}]),t}(s.Component);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),d=n(1),f=r(d),p=n(4),m=n(2),h=n(5),g=r(h),v=n(31),b=r(v),y={record:f.default.object.isRequired},E=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteVirusScanRecord=function(){p.seafileAPI.deleteVirusScanRecord(n.props.record.virus_id).then(function(){n.setState({handleStatus:!n.state.handleStatus})}).catch(function(e){e.response&&(n.setState({errorMsg:e.response.data.error_msg}),g.default.danger(n.state.errorMsg))})},n.state={handleStatus:n.props.record.has_handle,errorMsg:""},n}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props.record;return c.default.createElement("tr",null,c.default.createElement("td",null,e.repo_name),c.default.createElement("td",null,e.repo_owner),c.default.createElement("td",null,e.file_path),c.default.createElement("td",null,this.state.handleStatus?c.default.createElement("span",{style:{color:"green"}},(0,m.gettext)("Handled")):c.default.createElement("a",{style:{color:"red",cursor:"pointer"},onClick:this.deleteVirusScanRecord},(0,m.gettext)("Delete"))))}}]),t}(u.Component);E.propTypes=y;var w={loading:f.default.bool.isRequired,isLoadingMore:f.default.bool.isRequired,errorMsg:f.default.string.isRequired,records:f.default.array.isRequired},S=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.isLoadingMore,r=e.errorMsg,a=e.records;return t?c.default.createElement("span",{className:"loading-icon loading-tip"}):r?c.default.createElement("p",{className:"error text-center"},r):c.default.createElement(u.Fragment,null,c.default.createElement("table",{width:"100%",className:"table table-hover table-vcenter"},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",{width:"28%"},(0,m.gettext)("Library")),c.default.createElement("th",{width:"28%"},(0,m.gettext)("Owner")),c.default.createElement("th",{width:"29%"},(0,m.gettext)("Virus File")),c.default.createElement("th",{width:"15%"},(0,m.gettext)("Operations")))),c.default.createElement("tbody",null,a.map(function(e,t){return c.default.createElement(E,{key:t,record:e})}))),n?c.default.createElement("span",{className:"loading-icon loading-tip"}):"")}}]),t}(u.Component);S.propTypes=w;var _=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleScroll=function(e){if(!n.state.isLoadingMore&&n.state.hasMore){var t=e.target.clientHeight,r=e.target.scrollHeight;t+e.target.scrollTop+1>=r&&n.setState({isLoadingMore:!0},function(){n.getMore()})}},n.state={loading:!0,isLoadingMore:!1,currentPage:1,hasMore:!0,errorMsg:"",records:[]},n}return l(t,e),s(t,[{key:"getMore",value:function(){var e=this,t=this.state.currentPage;p.seafileAPI.listVirusScanRecords(t).then(function(n){e.setState({isLoadingMore:!1,records:[].concat(a(e.state.records),a(n.data.record_list)),currentPage:t+1,hasMore:0!==n.data.record_list.length})}).catch(function(t){t.response&&(e.setState({isLoadingMore:!1,errorMsg:t.response.data.error_msg}),g.default.danger(e.state.errorMsg))})}},{key:"componentDidMount",value:function(){var e=this,t=this.state.currentPage;p.seafileAPI.listVirusScanRecords(t).then(function(n){e.setState({loading:!1,records:n.data.record_list,currentPage:t+1,hasMore:!0})}).catch(function(t){t.response&&(e.setState({loading:!1,errorMsg:t.response.data.error_msg}),g.default.danger(e.state.errorMsg))})}},{key:"render",value:function(){return c.default.createElement(u.Fragment,null,c.default.createElement("div",{className:"main-panel-north border-left-show"},c.default.createElement("div",{className:"cur-view-toolbar"},c.default.createElement("span",{className:"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none",title:"Side Nav Menu"})),c.default.createElement("div",{className:"common-toolbar"},c.default.createElement(b.default,{isAdminPanel:!0}))),c.default.createElement("div",{className:"main-panel-center"},c.default.createElement("div",{className:"cur-view-container",id:"content-scan-records"},c.default.createElement("div",{className:"cur-view-path"},c.default.createElement("h3",{className:"sf-heading"},(0,m.gettext)("Virus Scan Records"))),c.default.createElement("div",{className:"cur-view-content",onScroll:this.handleScroll},c.default.createElement(S,{loading:this.state.loading,isLoadingMore:this.state.isLoadingMore,errorMsg:this.state.errorMsg,records:this.state.records})))))}}]),t}(u.Component);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(86),f=r(d),p=n(4),m=n(2),h=n(3),g=n(5),v=r(g),b=n(31),y=r(b),E=n(2553),w=n(2556),S=r(w);n(1345);var _=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDepartmentsTree=function(e){for(var t=[],n=[],r=0;r<e.length;r++)-1===t.indexOf(e[r].id)&&t.push(e[r].id),-1===n.indexOf(e[r].parentid)&&n.push(e[r].parentid);var a=n.filter(function(e){return-1!==t.indexOf(e)}),o=n.concat(a).filter(function(e){return-1===n.indexOf(e)||-1===a.indexOf(e)}),i=f.default.cloneDeep(e);return i.filter(function(e){var t=i.filter(function(t){return e.id===t.parentid});return t.length>0&&(e.children=t),-1!==o.indexOf(e.parentid)})},n.getWorkWeixinDepartmentsList=function(e){p.seafileAPI.adminListWorkWeixinDepartments(e).then(function(t){if(e)n.setState({importDepartmentChildrenCount:t.data.department.length,importDepartmentMembersCount:n.state.membersTempObj[e].length});else{var r=n.getDepartmentsTree(t.data.department);n.setState({isTreeLoading:!1,departmentsTree:r})}}).catch(function(e){n.handleError(e),n.setState({isTreeLoading:!1,isMembersListLoading:!1}),e.response&&403===e.response.status&&(window.location=m.siteRoot+"sys/useradmin/")})},n.getWorkWeixinDepartmentMembersList=function(e){n.setState({isMembersListLoading:!0}),p.seafileAPI.adminListWorkWeixinDepartmentMembers(e,{fetch_child:!0}).then(function(t){var r=n.state.membersTempObj;r[e]=t.data.userlist;var a=n.getCanCheckUserIds(t.data.userlist);n.setState({membersTempObj:r,membersList:t.data.userlist,isMembersListLoading:!1,canCheckUserIds:a})}).catch(function(e){n.setState({isMembersListLoading:!1}),n.handleError(e)})},n.getCanCheckUserIds=function(e){var t=[];return e.forEach(function(e){e.email||t.push(e.userid)}),t},n.onChangeDepartment=function(e){if(n.setState({newUsersTempObj:{},isCheckedAll:!1,checkedDepartmentId:e}),e in n.state.membersTempObj){var t=n.getCanCheckUserIds(n.state.membersTempObj[e]);n.setState({membersList:n.state.membersTempObj[e],canCheckUserIds:t})}else n.getWorkWeixinDepartmentMembersList(e)},n.onUserChecked=function(e){if(-1!==n.state.canCheckUserIds.indexOf(e.userid)){var t=n.state.newUsersTempObj;e.userid in t?(delete t[e.userid],n.state.isCheckedAll&&n.setState({isCheckedAll:!1})):(t[e.userid]=e,Object.keys(t).length===n.state.canCheckUserIds.length&&n.setState({isCheckedAll:!0})),n.setState({newUsersTempObj:t})}},n.onAllUsersChecked=function(){n.setState({isCheckedAll:!n.state.isCheckedAll},function(){if(n.state.isCheckedAll){for(var e={},t=n.state.membersList.filter(function(e){return-1!==n.state.canCheckUserIds.indexOf(e.userid)}),r=0;r<t.length;r++)e[t[r].userid]=t[r];n.setState({newUsersTempObj:e})}else n.setState({newUsersTempObj:{}})})},n.onSubmit=function(){var e=n.state.newUsersTempObj;if("{}"!==JSON.stringify(e)){var t=[];for(var r in e)t.push(e[r]);if(0===t.length)return void v.default.danger("\u672a\u9009\u62e9\u6210\u5458",{duration:3});p.seafileAPI.adminAddWorkWeixinUsersBatch(t).then(function(e){if(n.setState({newUsersTempObj:{},isCheckedAll:!1}),e.data.success&&n.handleSubmitSuccess(e.data.success),e.data.failed)for(var t=e.data.failed,r=0;r<t.length;r++)v.default.danger(t[r].name+" "+t[r].error_msg,{duration:3})}).catch(function(e){n.handleError(e)})}},n.handleSubmitSuccess=function(e){for(var t=n.state,r=t.membersTempObj,a=t.membersList,o=t.canCheckUserIds,i=0;i<e.length;i++){var l=e[i],s=l.userid,u=l.name,c=l.email;v.default.success(u+" \u6210\u529f\u5bfc\u5165",{duration:1}),-1!==o.indexOf(s)&&o.splice(o.indexOf(s),1);for(var d=0;d<a.length;d++)if(a[d].userid===s){a[d].email=c;break}for(var f in r)for(var p=0;p<r[f].length;p++)if(r[f][p].userid===s){r[f][p].email=c;break}}n.setState({membersTempObj:r,membersList:a,canCheckUserIds:o})},n.importDepartmentDialogToggle=function(e){n.setState({isImportDepartmentDialogShow:!n.state.isImportDepartmentDialogShow,importDepartment:e},function(){e&&n.getWorkWeixinDepartmentsList(e.id)})},n.onImportDepartmentSubmit=function(){var e=n.state.importDepartment;e&&p.seafileAPI.adminImportWorkWeixinDepartment(e.id).then(function(t){n.setState({isMembersListLoading:!0,checkedDepartmentId:e.id,membersTempObj:{},membersList:[],newUsersTempObj:{},isCheckedAll:!1,canCheckUserIds:[]}),n.getWorkWeixinDepartmentMembersList(e.id),n.importDepartmentDialogToggle(null),t.data.success&&n.handleImportDepartmentSubmitSuccess(t.data.success),t.data.failed&&n.handleImportDepartmentSubmitFailed(t.data.failed)}).catch(function(e){n.handleError(e)})},n.handleImportDepartmentSubmitSuccess=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],a="department"===r.type?"\u90e8\u95e8 "+r.department_name+" \u5bfc\u5165\u6210\u529f":r.api_user_name+" \u5bfc\u5165\u6210\u529f";v.default.success(a,{duration:3})}},n.handleImportDepartmentSubmitFailed=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],a="department"===r.type?r.department_name:r.api_user_name;v.default.danger(a+" "+r.msg,{duration:3})}},n.handleError=function(e){var t=h.Utils.getErrorMsg(e);v.default.danger(t)},n.state={isTreeLoading:!0,isMembersListLoading:!0,departmentsTree:[],checkedDepartmentId:0,membersTempObj:{},membersList:[],newUsersTempObj:{},isCheckedAll:!1,canCheckUserIds:[],isImportDepartmentDialogShow:!1,importDepartment:null,importDepartmentChildrenCount:0,importDepartmentMembersCount:0},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.getWorkWeixinDepartmentsList(null)}},{key:"renderNav",value:function(){var e="btn btn-secondary operation-item ";return u.default.createElement("div",{className:"main-panel-north border-left-show"},u.default.createElement("div",{className:"cur-view-toolbar"},u.default.createElement("span",{className:"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none",title:"Side Nav Menu"}),u.default.createElement(c.Button,{className:e+"my-1 d-md-none",onClick:this.onSubmit},"\u5bfc\u5165\u7528\u6237"),u.default.createElement(c.Button,{className:e+"hidden-md-up",onClick:this.onSubmit},"\u5bfc\u5165\u7528\u6237")),u.default.createElement("div",{className:"common-toolbar"},u.default.createElement(y.default,{isAdminPanel:!0})))}},{key:"render",value:function(){var e=this.state,t=e.isImportDepartmentDialogShow,n=e.isTreeLoading,r=e.importDepartment,a=e.importDepartmentChildrenCount,o=e.importDepartmentMembersCount,i=!(!m.isPro||!t||n||!r);return u.default.createElement(s.Fragment,null,this.renderNav(),u.default.createElement("div",{className:"main-panel-center"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},"\u4f01\u4e1a\u5fae\u4fe1\u96c6\u6210")),u.default.createElement("div",{className:"cur-view-content d-flex flex-row"},u.default.createElement(E.WorkWeixinDepartmentsTreePanel,{departmentsTree:this.state.departmentsTree,isTreeLoading:this.state.isTreeLoading,onChangeDepartment:this.onChangeDepartment,checkedDepartmentId:this.state.checkedDepartmentId,importDepartmentDialogToggle:this.importDepartmentDialogToggle}),u.default.createElement("div",{className:"dir-content-resize"}),u.default.createElement(E.WorkWeixinDepartmentMembersList,{isMembersListLoading:this.state.isMembersListLoading,membersList:this.state.membersList,checkedDepartmentId:this.state.checkedDepartmentId,newUsersTempObj:this.state.newUsersTempObj,onUserChecked:this.onUserChecked,onAllUsersChecked:this.onAllUsersChecked,isCheckedAll:this.state.isCheckedAll,canCheckUserIds:this.state.canCheckUserIds})))),i&&u.default.createElement(S.default,{importDepartmentDialogToggle:this.importDepartmentDialogToggle,onImportDepartmentSubmit:this.onImportDepartmentSubmit,departmentsCount:a,membersCount:o,departmentName:r.name}))}}]),t}(s.Component);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WorkWeixinDepartmentsTreeNode=t.WorkWeixinDepartmentsTreePanel=t.WorkWeixinDepartmentMembersList=void 0;var a=n(2554),o=r(a),i=n(2555),l=r(i),s=n(1344),u=r(s);t.WorkWeixinDepartmentMembersList=o.default,t.WorkWeixinDepartmentsTreePanel=l.default,t.WorkWeixinDepartmentsTreeNode=u.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(8),h=r(m),g={isMembersListLoading:d.default.bool.isRequired,membersList:d.default.array.isRequired,newUsersTempObj:d.default.object.isRequired,checkedDepartmentId:d.default.number.isRequired,onUserChecked:d.default.func.isRequired,onAllUsersChecked:d.default.func.isRequired,isCheckedAll:d.default.bool.isRequired,canCheckUserIds:d.default.array.isRequired},v=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.newUsersTempObj,r=t.checkedDepartmentId,a=t.isMembersListLoading,o=t.canCheckUserIds,i=this.props.membersList.map(function(t,a){var o=t.avatar;return o=t.avatar.length>0?t.avatar.substring(0,t.avatar.length-1)+"100":p.siteRoot+"media/avatars/default.png",u.default.createElement("tr",{key:r.toString()+t.userid},u.default.createElement("td",null,!t.email&&u.default.createElement("input",{type:"checkbox",className:"vam",onChange:function(){return e.props.onUserChecked(t)},checked:t.userid in n?"checked":""})),u.default.createElement("td",null,u.default.createElement("img",{className:"avatar",src:o,alt:""})),u.default.createElement("td",null,t.name),u.default.createElement("td",null,t.mobile),u.default.createElement("td",null,t.contact_email),u.default.createElement("td",null,t.email&&u.default.createElement("i",{className:"sf2-icon-tick"})))});return u.default.createElement("div",{className:"dir-content-main"},a&&u.default.createElement(h.default,null),!a&&this.props.membersList.length>0&&u.default.createElement(f.Table,{hover:!0},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"},o.length>0&&u.default.createElement("input",{type:"checkbox",className:"vam",checked:this.props.isCheckedAll,onChange:function(){return e.props.onAllUsersChecked()}})),u.default.createElement("th",{width:"10%"}),u.default.createElement("th",{width:"20%"},"\u540d\u79f0"),u.default.createElement("th",{width:"20%"},"\u624b\u673a\u53f7"),u.default.createElement("th",{width:"30%"},"\u90ae\u7bb1"),u.default.createElement("th",{width:"15%"},"\u5df2\u6dfb\u52a0"))),u.default.createElement("tbody",null,i)),!a&&0===this.props.membersList.length&&u.default.createElement("div",{className:"message empty-tip text-center"},u.default.createElement("img",{src:p.siteRoot+"media/img/member-list-empty-2x.png",alt:""}),u.default.createElement("h4",null,"\u6210\u5458\u5217\u8868\u4e3a\u7a7a")))}}]),t}(s.Component);v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(8),p=r(f),m=n(1344),h=r(m),g={isTreeLoading:d.default.bool.isRequired,departmentsTree:d.default.array.isRequired,onChangeDepartment:d.default.func.isRequired,checkedDepartmentId:d.default.number.isRequired,importDepartmentDialogToggle:d.default.func.isRequired},v=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.departmentsTree;return u.default.createElement("div",{className:"dir-content-nav"},u.default.createElement("div",{className:"tree-view tree"},this.props.isTreeLoading?u.default.createElement(p.default,null):u.default.createElement("div",{className:"tree-node"},t.length>0&&t.map(function(t,n){return u.default.createElement(h.default,{key:t.id,index:n,department:t,isChildrenShow:!0,onChangeDepartment:e.props.onChangeDepartment,checkedDepartmentId:e.props.checkedDepartmentId,importDepartmentDialogToggle:e.props.importDepartmentDialogToggle})}))))}}]),t}(s.Component);v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(8),m=r(p),h={importDepartmentDialogToggle:d.default.func.isRequired,onImportDepartmentSubmit:d.default.func.isRequired,departmentsCount:d.default.number.isRequired,membersCount:d.default.number.isRequired,departmentName:d.default.string.isRequired},g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(){n.props.importDepartmentDialogToggle(null)},n.handleSubmit=function(){n.props.onImportDepartmentSubmit(),n.setState({isLoading:!0})},n.state={isLoading:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.departmentsCount,n=e.membersCount,r=e.departmentName;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},u.default.createElement("span",null,"\u5bfc\u5165\u90e8\u95e8 "),u.default.createElement("span",{className:"op-target",title:r},r)),u.default.createElement(f.ModalBody,null,u.default.createElement("p",null,"\u5c06\u8981\u5bfc\u5165 ",u.default.createElement("strong",null,t)," \u4e2a\u90e8\u95e8\uff0c\u5176\u4e2d\u5305\u62ec ",u.default.createElement("strong",null,n)," \u4e2a\u6210\u5458"),this.state.isLoading&&u.default.createElement(m.default,null)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},"\u53d6\u6d88"),u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit},"\u5bfc\u5165")))}}]),t}(u.default.Component);g.propTypes=h,t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(86),f=r(d),p=n(4),m=n(2),h=n(3),g=n(5),v=r(g),b=n(31),y=r(b),E=n(2558),w=n(2561),S=r(w);n(1345),n(2562);var _=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDepartmentsTree=function(e){for(var t=[],n=[],r=0;r<e.length;r++)-1===t.indexOf(e[r].id)&&t.push(e[r].id),-1===n.indexOf(e[r].parentid)&&n.push(e[r].parentid);var a=n.filter(function(e){return-1!==t.indexOf(e)}),o=n.concat(a).filter(function(e){return-1===n.indexOf(e)||-1===a.indexOf(e)}),i=f.default.cloneDeep(e);return i.filter(function(e){var t=i.filter(function(t){return e.id===t.parentid});return t.length>0&&(e.children=t),-1!==o.indexOf(e.parentid)})},n.getDingtalkDepartmentsList=function(e){p.seafileAPI.adminListDingtalkDepartments(e).then(function(t){if(e)n.setState({importDepartmentChildrenCount:t.data.department.length,importDepartmentMembersCount:n.state.membersTempObj[e].length});else{var r=n.getDepartmentsTree(t.data.department);n.setState({isTreeLoading:!1,departmentsTree:r})}}).catch(function(e){n.handleError(e),n.setState({isTreeLoading:!1,isMembersListLoading:!1}),e.response&&403===e.response.status&&(window.location=m.siteRoot+"sys/useradmin/")})},n.getDingtalkDepartmentMembersList=function(e){n.setState({isMembersListLoading:!0}),p.seafileAPI.adminListDingtalkDepartmentMembers(e).then(function(t){var r=n.state.membersTempObj;r[e]=t.data.userlist;var a=n.getCanCheckUserIds(t.data.userlist);n.setState({membersTempObj:r,membersList:t.data.userlist,isMembersListLoading:!1,canCheckUserIds:a})}).catch(function(e){n.setState({isMembersListLoading:!1}),n.handleError(e)})},n.getCanCheckUserIds=function(e){var t=[];return e.forEach(function(e){e.email||t.push(e.userid)}),t},n.onChangeDepartment=function(e){if(n.setState({newUsersTempObj:{},isCheckedAll:!1,checkedDepartmentId:e}),e in n.state.membersTempObj){var t=n.getCanCheckUserIds(n.state.membersTempObj[e]);n.setState({membersList:n.state.membersTempObj[e],canCheckUserIds:t})}else n.getDingtalkDepartmentMembersList(e)},n.onUserChecked=function(e){if(-1!==n.state.canCheckUserIds.indexOf(e.userid)){var t=n.state.newUsersTempObj;e.userid in t?(delete t[e.userid],n.state.isCheckedAll&&n.setState({isCheckedAll:!1})):(t[e.userid]=e,Object.keys(t).length===n.state.canCheckUserIds.length&&n.setState({isCheckedAll:!0})),n.setState({newUsersTempObj:t})}},n.onAllUsersChecked=function(){n.setState({isCheckedAll:!n.state.isCheckedAll},function(){if(n.state.isCheckedAll){for(var e={},t=n.state.membersList.filter(function(e){return-1!==n.state.canCheckUserIds.indexOf(e.userid)}),r=0;r<t.length;r++)e[t[r].userid]=t[r];n.setState({newUsersTempObj:e})}else n.setState({newUsersTempObj:{}})})},n.onSubmit=function(){var e=n.state.newUsersTempObj;if("{}"!==JSON.stringify(e)){var t=[];for(var r in e)t.push(e[r]);if(0===t.length)return void v.default.danger("\u672a\u9009\u62e9\u6210\u5458",{duration:3});p.seafileAPI.adminAddDingtalkUsersBatch(t).then(function(e){if(n.setState({newUsersTempObj:{},isCheckedAll:!1}),e.data.success&&n.handleSubmitSuccess(e.data.success),e.data.failed)for(var t=e.data.failed,r=0;r<t.length;r++)v.default.danger(t[r].name+" "+t[r].error_msg,{duration:3})}).catch(function(e){n.handleError(e)})}},n.handleSubmitSuccess=function(e){for(var t=n.state,r=t.membersTempObj,a=t.membersList,o=t.canCheckUserIds,i=0;i<e.length;i++){var l=e[i],s=l.userid,u=l.name,c=l.email;v.default.success(u+" \u6210\u529f\u5bfc\u5165",{duration:1}),-1!==o.indexOf(s)&&o.splice(o.indexOf(s),1);for(var d=0;d<a.length;d++)if(a[d].userid===s){a[d].email=c;break}for(var f in r)for(var p=0;p<r[f].length;p++)if(r[f][p].userid===s){r[f][p].email=c;break}}n.setState({membersTempObj:r,membersList:a,canCheckUserIds:o})},n.importDepartmentDialogToggle=function(e){n.setState({isImportDepartmentDialogShow:!n.state.isImportDepartmentDialogShow,importDepartment:e},function(){e&&n.getDingtalkDepartmentsList(e.id)})},n.onImportDepartmentSubmit=function(){var e=n.state.importDepartment;e&&p.seafileAPI.adminImportDingtalkDepartment(e.id).then(function(t){n.setState({isMembersListLoading:!0,checkedDepartmentId:e.id,membersTempObj:{},membersList:[],newUsersTempObj:{},isCheckedAll:!1,canCheckUserIds:[]}),n.getDingtalkDepartmentMembersList(e.id),n.importDepartmentDialogToggle(null),t.data.success&&n.handleImportDepartmentSubmitSuccess(t.data.success),t.data.failed&&n.handleImportDepartmentSubmitFailed(t.data.failed)}).catch(function(e){n.handleError(e)})},n.handleImportDepartmentSubmitSuccess=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],a="department"===r.type?"\u90e8\u95e8 "+r.department_name+" \u5bfc\u5165\u6210\u529f":r.api_user_name+" \u5bfc\u5165\u6210\u529f";v.default.success(a,{duration:3})}},n.handleImportDepartmentSubmitFailed=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],a="department"===r.type?r.department_name:r.api_user_name;v.default.danger(a+" "+r.msg,{duration:3})}},n.handleError=function(e){var t=h.Utils.getErrorMsg(e);v.default.danger(t)},n.state={isTreeLoading:!0,isMembersListLoading:!0,departmentsTree:[],checkedDepartmentId:0,membersTempObj:{},membersList:[],newUsersTempObj:{},isCheckedAll:!1,canCheckUserIds:[],isImportDepartmentDialogShow:!1,importDepartment:null,importDepartmentChildrenCount:0,importDepartmentMembersCount:0},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.getDingtalkDepartmentsList(null)}},{key:"renderNav",value:function(){var e="btn btn-secondary operation-item ";return u.default.createElement("div",{className:"main-panel-north border-left-show"},u.default.createElement("div",{className:"cur-view-toolbar"},u.default.createElement("span",{className:"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none",title:"Side Nav Menu"}),u.default.createElement(c.Button,{className:e+"my-1 d-md-none",onClick:this.onSubmit},"\u5bfc\u5165\u7528\u6237"),u.default.createElement(c.Button,{className:e+"hidden-md-up",onClick:this.onSubmit},"\u5bfc\u5165\u7528\u6237")),u.default.createElement("div",{className:"common-toolbar"},u.default.createElement(y.default,{isAdminPanel:!0})))}},{key:"render",value:function(){var e=this.state,t=e.isImportDepartmentDialogShow,n=e.isTreeLoading,r=e.importDepartment,a=e.importDepartmentChildrenCount,o=e.importDepartmentMembersCount,i=!(!m.isPro||!t||n||!r);return u.default.createElement(s.Fragment,null,this.renderNav(),u.default.createElement("div",{className:"main-panel-center"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},"\u9489\u9489\u96c6\u6210")),u.default.createElement("div",{className:"cur-view-content d-flex flex-row"},u.default.createElement(E.DingtalkDepartmentsTreePanel,{departmentsTree:this.state.departmentsTree,isTreeLoading:this.state.isTreeLoading,onChangeDepartment:this.onChangeDepartment,checkedDepartmentId:this.state.checkedDepartmentId,importDepartmentDialogToggle:this.importDepartmentDialogToggle}),u.default.createElement("div",{className:"dir-content-resize"}),u.default.createElement(E.DingtalkDepartmentMembersList,{isMembersListLoading:this.state.isMembersListLoading,membersList:this.state.membersList,checkedDepartmentId:this.state.checkedDepartmentId,newUsersTempObj:this.state.newUsersTempObj,onUserChecked:this.onUserChecked,onAllUsersChecked:this.onAllUsersChecked,isCheckedAll:this.state.isCheckedAll,canCheckUserIds:this.state.canCheckUserIds})))),i&&u.default.createElement(S.default,{importDepartmentDialogToggle:this.importDepartmentDialogToggle,onImportDepartmentSubmit:this.onImportDepartmentSubmit,departmentsCount:a,membersCount:o,departmentName:r.name}))}}]),t}(s.Component);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DingtalkDepartmentsTreeNode=t.DingtalkDepartmentsTreePanel=t.DingtalkDepartmentMembersList=void 0;var a=n(2559),o=r(a),i=n(2560),l=r(i),s=n(1346),u=r(s);t.DingtalkDepartmentMembersList=o.default,t.DingtalkDepartmentsTreePanel=l.default,t.DingtalkDepartmentsTreeNode=u.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(2),m=n(8),h=r(m),g={isMembersListLoading:d.default.bool.isRequired,membersList:d.default.array.isRequired,newUsersTempObj:d.default.object.isRequired,checkedDepartmentId:d.default.number.isRequired,onUserChecked:d.default.func.isRequired,onAllUsersChecked:d.default.func.isRequired,isCheckedAll:d.default.bool.isRequired,canCheckUserIds:d.default.array.isRequired},v=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.newUsersTempObj,r=t.checkedDepartmentId,a=t.isMembersListLoading,o=t.canCheckUserIds,i=this.props.membersList.map(function(t,a){var o=t.avatar;return o=t.avatar.length>0?t.avatar:p.siteRoot+"media/avatars/default.png",u.default.createElement("tr",{key:r.toString()+t.userid},u.default.createElement("td",null,!t.email&&u.default.createElement("input",{type:"checkbox",className:"vam",onChange:function(){return e.props.onUserChecked(t)},checked:t.userid in n?"checked":""})),u.default.createElement("td",null,u.default.createElement("img",{className:"avatar",src:o,alt:""})),u.default.createElement("td",null,t.name),u.default.createElement("td",null,t.mobile),u.default.createElement("td",null,t.contact_email),u.default.createElement("td",null,t.email&&u.default.createElement("i",{className:"sf2-icon-tick"})))});return u.default.createElement("div",{className:"dir-content-main"},a&&u.default.createElement(h.default,null),!a&&this.props.membersList.length>0&&u.default.createElement(f.Table,{hover:!0},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"},o.length>0&&u.default.createElement("input",{type:"checkbox",className:"vam",checked:this.props.isCheckedAll,onChange:function(){return e.props.onAllUsersChecked()}})),u.default.createElement("th",{width:"10%"}),u.default.createElement("th",{width:"20%"},"\u540d\u79f0"),u.default.createElement("th",{width:"20%"},"\u624b\u673a\u53f7"),u.default.createElement("th",{width:"30%"},"\u90ae\u7bb1"),u.default.createElement("th",{width:"15%"},"\u5df2\u6dfb\u52a0"))),u.default.createElement("tbody",null,i)),!a&&0===this.props.membersList.length&&u.default.createElement("div",{className:"message empty-tip text-center"},u.default.createElement("img",{src:p.siteRoot+"media/img/member-list-empty-2x.png",alt:""}),u.default.createElement("h4",null,"\u6210\u5458\u5217\u8868\u4e3a\u7a7a")))}}]),t}(s.Component);v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(8),p=r(f),m=n(1346),h=r(m),g={isTreeLoading:d.default.bool.isRequired,departmentsTree:d.default.array.isRequired,onChangeDepartment:d.default.func.isRequired,checkedDepartmentId:d.default.number.isRequired,importDepartmentDialogToggle:d.default.func.isRequired},v=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props.departmentsTree;return u.default.createElement("div",{className:"dir-content-nav"},u.default.createElement("div",{className:"tree-view tree"},this.props.isTreeLoading?u.default.createElement(p.default,null):u.default.createElement("div",{className:"tree-node"},t.length>0&&t.map(function(t,n){return u.default.createElement(h.default,{key:t.id,index:n,department:t,isChildrenShow:!0,onChangeDepartment:e.props.onChangeDepartment,checkedDepartmentId:e.props.checkedDepartmentId,importDepartmentDialogToggle:e.props.importDepartmentDialogToggle})}))))}}]),t}(s.Component);v.propTypes=g,t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=n(8),m=r(p),h={importDepartmentDialogToggle:d.default.func.isRequired,onImportDepartmentSubmit:d.default.func.isRequired,departmentsCount:d.default.number.isRequired,membersCount:d.default.number.isRequired,departmentName:d.default.string.isRequired},g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=function(){n.props.importDepartmentDialogToggle(null)},n.handleSubmit=function(){n.props.onImportDepartmentSubmit(),n.setState({isLoading:!0})},n.state={isLoading:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.departmentsCount,n=e.membersCount,r=e.departmentName;return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.toggle},u.default.createElement(f.ModalHeader,{toggle:this.toggle},u.default.createElement("span",null,"\u5bfc\u5165\u90e8\u95e8 "),u.default.createElement("span",{className:"op-target",title:r},r)),u.default.createElement(f.ModalBody,null,u.default.createElement("p",null,"\u5c06\u8981\u5bfc\u5165 ",u.default.createElement("strong",null,t)," \u4e2a\u90e8\u95e8\uff0c\u5176\u4e2d\u5305\u62ec ",u.default.createElement("strong",null,n)," \u4e2a\u6210\u5458"),this.state.isLoading&&u.default.createElement(m.default,null)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},"\u53d6\u6d88"),u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit},"\u5bfc\u5165")))}}]),t}(u.default.Component);g.propTypes=h,t.default=g},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(7),f=r(d),p=n(3),m=n(4),h=n(2),g=n(5),v=r(g),b=n(39),y=r(b),E=n(8),w=r(E),S=n(76),_=r(S),x=n(196),O=r(x),C=n(38),P=r(C),k=n(80),D=r(k),M=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.getPreviousPage=function(){n.props.getItemsByPage(n.props.currentPage-1)},n.getNextPage=function(){n.props.getItemsByPage(n.props.currentPage+1)},n.state={isItemFreezed:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loading,r=t.errorMsg,a=t.items,o=(t.pageInfo,t.curPerPage),i=t.hasNextPage,l=t.currentPage;if(n)return u.default.createElement(w.default,null);if(r)return u.default.createElement("p",{className:"error text-center mt-4"},r);var c=u.default.createElement(y.default,null,u.default.createElement("h2",null,(0,h.gettext)("No invitations"))),d=u.default.createElement(s.Fragment,null,u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"20%"},(0,h.gettext)("Inviter")),u.default.createElement("th",{width:"20%"},(0,h.gettext)("Accepter")),u.default.createElement("th",{width:"9%"},(0,h.gettext)("Type")),u.default.createElement("th",{width:"14%"},(0,h.gettext)("Invited at")),u.default.createElement("th",{width:"14%"},(0,h.gettext)("Accepted at")),u.default.createElement("th",{width:"18%"},(0,h.gettext)("Expired at")),u.default.createElement("th",{width:"5%"}))),u.default.createElement("tbody",null,a.map(function(t,n){return u.default.createElement(T,{key:n,item:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteItem:e.props.deleteItem})}))),u.default.createElement(_.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:l,hasNextPage:i,curPerPage:o,resetPerPage:this.props.resetPerPage}));return a.length?d:c}}]),t}(s.Component),T=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseEnter=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!0,highlight:!0})},n.handleMouseLeave=function(){n.props.isItemFreezed||n.setState({isOpIconShown:!1,highlight:!1})},n.onUnfreezedItem=function(){n.setState({highlight:!1,isOpIconShow:!1}),n.props.onUnfreezedItem()},n.deleteItem=function(){n.props.deleteItem(n.props.item)},n.translateOperations=function(e){var t="";switch(e){case"Delete":t=(0,h.gettext)("Delete")}return t},n.onMenuItemClick=function(e){switch(e){case"Delete":n.deleteItem()}},n.getInviteTypeText=function(){var e="";switch(n.props.item.invite_type){case"Guest":e=(0,h.gettext)("Guest")}return e},n.state={isOpIconShown:!1,highlight:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item,t=this.state.isOpIconShown;return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.default.createElement("td",null,u.default.createElement(D.default,{email:e.inviter_email,name:e.inviter_name})),u.default.createElement("td",null,e.accept_time?u.default.createElement(D.default,{email:e.accepter_email,name:e.accepter_name}):e.accepter_email),u.default.createElement("td",null,this.getInviteTypeText()),u.default.createElement("td",null,u.default.createElement("span",{title:(0,f.default)(e.invite_time).format("llll")},(0,f.default)(e.invite_time).fromNow())),u.default.createElement("td",null,e.accept_time?u.default.createElement("span",{title:(0,f.default)(e.accept_time).format("llll")},(0,f.default)(e.accept_time).fromNow()):"--"),u.default.createElement("td",null,e.is_expired?u.default.createElement("span",{className:"text-red"},(0,f.default)(e.expire_time).format("YYYY-MM-DD HH:mm")):(0,f.default)(e.expire_time).format("YYYY-MM-DD HH:mm")),u.default.createElement("td",null,t&&u.default.createElement(O.default,{operations:["Delete"],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))))}}]),t}(s.Component),L=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getItemsByPage=function(e){var t=n.state.perPage;m.seafileAPI.sysAdminListInvitations(e,t).then(function(r){n.setState({loading:!1,items:r.data.invitation_list,hasNextPage:p.Utils.hasNextPage(e,t,r.data.total_count),currentPage:e})}).catch(function(e){n.setState({loading:!1,errorMsg:p.Utils.getErrorMsg(e,!0)})})},n.deleteItem=function(e){var t=e.token;m.seafileAPI.sysAdminDeleteInvitation(t).then(function(e){var r=n.state.items.filter(function(e){return e.token!=t});n.setState({items:r}),v.default.success((0,h.gettext)("Successfully deleted 1 item."))}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.deleteItemInBatch=function(){m.seafileAPI.sysAdminDeleteExpiredInvitations().then(function(e){var t=n.state.items,r=n.state.items.filter(function(e){return!e.is_expired||e.accept_time});r.length<t.length&&(n.setState({items:r}),v.default.success((0,h.gettext)("Operation succeeded.")))}).catch(function(e){var t=p.Utils.getErrorMsg(e);v.default.danger(t)})},n.resetPerPage=function(e){n.setState({perPage:e},function(){n.getItemsByPage(1)})},n.state={loading:!0,errorMsg:"",items:[],totalItemCount:0,hasNextPage:!1,currentPage:1,perPage:25},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r)},function(){e.getItemsByPage(e.state.currentPage)})}},{key:"render",value:function(){return u.default.createElement(s.Fragment,null,u.default.createElement(P.default,null,u.default.createElement(c.Button,{className:"btn btn-secondary operation-item",onClick:this.deleteItemInBatch},(0,h.gettext)("Delete Expired Invitations"))),u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,h.gettext)("Invitations"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(M,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.items,currentPage:this.state.currentPage,hasNextPage:this.state.hasNextPage,curPerPage:this.state.perPage,resetPerPage:this.resetPerPage,getItemsByPage:this.getItemsByPage,deleteItem:this.deleteItem})))))}}]),t}(s.Component);t.default=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(7),d=r(c),f=n(38),p=r(f),m=n(780),h=r(m),g=n(852),v=r(g),b=n(4),y=n(853),E=r(y),w=n(8),S=r(w),_=n(2),x=n(3),O=n(5),C=r(O);n(2586);var P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getActiviesFiles=function(e,t,r){var a=n.state.filesData;b.seafileAPI.sysAdminStatisticFiles(e,t,r).then(function(e){var t=[],r=[],o=[],i=[],l=[],s=e.data;if(Array.isArray(s)){s.forEach(function(e){t.push((0,d.default)(e.datetime).format("YYYY-MM-DD")),r.push(e.added),o.push(e.deleted),l.push(e.modified),i.push(e.visited)});var u={label:(0,_.gettext)("Added"),data:r,borderColor:"#57cd6b",backgroundColor:"#57cd6b"},c={label:(0,_.gettext)("Visited"),data:i,borderColor:"#fd913a",backgroundColor:"#fd913a"},f={label:(0,_.gettext)("Modified"),data:l,borderColor:"#72c3fc",backgroundColor:"#72c3fc"},p={label:(0,_.gettext)("Deleted"),data:o,borderColor:"#f75356",backgroundColor:"#f75356"};a=[c,u,f,p]}n.setState({filesData:a,labels:t,isLoading:!1})}).catch(function(e){var t=x.Utils.getErrorMsg(e);C.default.danger(t)})},n.state={filesData:[],labels:[],isLoading:!0},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.labels,n=e.filesData,r=e.isLoading;return u.default.createElement(s.Fragment,null,u.default.createElement(p.default,null),u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(h.default,{currentItem:"fileStatistic"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(v.default,{getActiviesFiles:this.getActiviesFiles}),r&&u.default.createElement(S.default,null),!r&&t.length>0&&u.default.createElement(E.default,{labels:t,filesData:n,suggestedMaxNumbers:10,isLegendStatus:!0,chartTitle:(0,_.gettext)("File Operations")}))))}}]),t}(u.default.Component);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(7),p=r(f),m=n(263),h=r(m),g=n(264),v=r(g),b=n(138);n(139);var y={disabledDate:d.default.func.isRequired,value:d.default.object,onChange:d.default.func.isRequired},E=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.defaultCalendarValue=null,n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=window.app.config.lang;this.defaultCalendarValue=(0,p.default)().locale(e).clone()}},{key:"render",value:function(){var e=this.props,t=u.default.createElement(h.default,{defaultValue:this.defaultCalendarValue,disabledDate:e.disabledDate,format:"YYYY-MM-DD",locale:(0,b.translateCalendar)()});return u.default.createElement(v.default,{calendar:t,value:e.value,onChange:e.onChange},function(e){var t=e.value;return u.default.createElement("span",null,u.default.createElement("input",{placeholder:"yyyy-mm-dd",tabIndex:"-1",readOnly:!0,value:t&&t.format("YYYY-MM-DD")||"",className:"form-control system-statistic-input"}))})}}]),t}(u.default.Component);E.propsTypes=y,t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"Doughnut",function(){return E}),n.d(t,"Pie",function(){return w}),n.d(t,"Line",function(){return S}),n.d(t,"Bar",function(){return _}),n.d(t,"HorizontalBar",function(){return x}),n.d(t,"Radar",function(){return O}),n.d(t,"Polar",function(){return C}),n.d(t,"Bubble",function(){return P}),n.d(t,"Scatter",function(){return k}),n.d(t,"defaults",function(){return D});var l=n(0),s=n.n(l),u=n(1),c=n.n(u),d=n(2567),f=n.n(d),p=n(1278),m=n.n(p),h=n(2568),g=n.n(h);n.d(t,"Chart",function(){return f.a});var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b="undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"/media/seafile-editor"})&&"production",y=function(e){function t(){a(this,t);var n=o(this,e.call(this));return n.handleOnClick=function(e){var t=n.chartInstance,r=n.props,a=r.getDatasetAtEvent,o=r.getElementAtEvent,i=r.getElementsAtEvent,l=r.onElementsClick;a&&a(t.getDatasetAtEvent(e),e),o&&o(t.getElementAtEvent(e),e),i&&i(t.getElementsAtEvent(e),e),l&&l(t.getElementsAtEvent(e),e)},n.ref=function(e){n.element=e},n.chartInstance=void 0,n}return i(t,e),t.prototype.componentDidMount=function(){this.renderChart()},t.prototype.componentDidUpdate=function(){if(this.props.redraw)return this.destroyChart(),void this.renderChart();this.updateChart()},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=(t.redraw,t.type),r=t.options,a=t.plugins,o=t.legend,i=t.height,l=t.width;if(!0===e.redraw)return!0;if(i!==e.height||l!==e.width)return!0;if(n!==e.type)return!0;if(!m()(o,e.legend))return!0;if(!m()(r,e.options))return!0;var s=this.transformDataProp(e);return!m()(this.shadowDataProp,s)||!m()(a,e.plugins)},t.prototype.componentWillUnmount=function(){this.destroyChart()},t.prototype.transformDataProp=function(e){var t=e.data;if("function"==typeof t){return t(this.element)}return t},t.prototype.memoizeDataProps=function(){if(this.props.data){var e=this.transformDataProp(this.props);return this.shadowDataProp=v({},e,{datasets:e.datasets&&e.datasets.map(function(e){return v({},e)})}),this.saveCurrentDatasets(),e}},t.prototype.checkDatasets=function(e){var n="production"!==b&&"prod"!==b,r=this.props.datasetKeyProvider!==t.getLabelAsKey,a=e.length>1;if(n&&a&&!r){var o=!1;e.forEach(function(e){e.label||(o=!0)}),o&&console.error('[react-chartjs-2] Warning: Each dataset needs a unique key. By default, the "label" property on each dataset is used. Alternatively, you may provide a "datasetKeyProvider" as a prop that returns a unique key.')}},t.prototype.getCurrentDatasets=function(){return this.chartInstance&&this.chartInstance.config.data&&this.chartInstance.config.data.datasets||[]},t.prototype.saveCurrentDatasets=function(){var e=this;this.datasets=this.datasets||{},this.getCurrentDatasets().forEach(function(t){e.datasets[e.props.datasetKeyProvider(t)]=t})},t.prototype.updateChart=function(){var e=this,t=this.props.options,n=this.memoizeDataProps(this.props);if(this.chartInstance){t&&(this.chartInstance.options=f.a.helpers.configMerge(this.chartInstance.options,t));var a=this.getCurrentDatasets(),o=n.datasets||[];this.checkDatasets(a);var i=g()(a,this.props.datasetKeyProvider);this.chartInstance.config.data.datasets=o.map(function(t){var n=i[e.props.datasetKeyProvider(t)];if(n&&n.type===t.type&&t.data){n.data.splice(t.data.length),t.data.forEach(function(e,r){n.data[r]=t.data[r]});var a=(t.data,r(t,["data"]));return v({},n,a)}return t});var l=(n.datasets,r(n,["datasets"]));this.chartInstance.config.data=v({},this.chartInstance.config.data,l),this.chartInstance.update()}},t.prototype.renderChart=function(){var e=this.props,n=e.options,r=e.legend,a=e.type,o=e.plugins,i=this.element,l=this.memoizeDataProps();"undefined"===typeof r||m()(t.defaultProps.legend,r)||(n.legend=r),this.chartInstance=new f.a(i,{type:a,data:l,options:n,plugins:o})},t.prototype.destroyChart=function(){this.saveCurrentDatasets();var e=Object.values(this.datasets);this.chartInstance.config.data.datasets=e,this.chartInstance.destroy()},t.prototype.render=function(){var e=this.props,t=e.height,n=e.width,r=e.id;return s.a.createElement("canvas",{ref:this.ref,height:t,width:n,id:r,onClick:this.handleOnClick})},t}(s.a.Component);y.getLabelAsKey=function(e){return e.label},y.propTypes={data:c.a.oneOfType([c.a.object,c.a.func]).isRequired,getDatasetAtEvent:c.a.func,getElementAtEvent:c.a.func,getElementsAtEvent:c.a.func,height:c.a.number,legend:c.a.object,onElementsClick:c.a.func,options:c.a.object,plugins:c.a.arrayOf(c.a.object),redraw:c.a.bool,type:function(e,t,n){if(!f.a.controllers[e[t]])return new Error("Invalid chart type `"+e[t]+"` supplied to `"+n+"`.")},width:c.a.number,datasetKeyProvider:c.a.func},y.defaultProps={legend:{display:!0,position:"bottom"},type:"doughnut",height:150,width:300,redraw:!1,options:{},datasetKeyProvider:y.getLabelAsKey},t.default=y;var E=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(y,v({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"doughnut"}))},t}(s.a.Component),w=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(y,v({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"pie"}))},t}(s.a.Component),S=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(y,v({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"line"}))},t}(s.a.Component),_=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(y,v({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"bar"}))},t}(s.a.Component),x=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(y,v({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"horizontalBar"}))},t}(s.a.Component),O=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(y,v({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"radar"}))},t}(s.a.Component),C=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(y,v({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"polarArea"}))},t}(s.a.Component),P=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(y,v({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"bubble"}))},t}(s.a.Component),k=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this;return s.a.createElement(y,v({},this.props,{ref:function(t){return e.chartInstance=t&&t.chartInstance},type:"scatter"}))},t}(s.a.Component),D=f.a.defaults}.call(t,n(48))},function(e,t,n){!function(t,r){e.exports=r(function(){try{return n(7)}catch(e){}}())}(0,function(e){"use strict";function t(e){var t,n,r,a=e[0]/255,o=e[1]/255,i=e[2]/255,l=Math.min(a,o,i),s=Math.max(a,o,i),u=s-l;return s==l?t=0:a==s?t=(o-i)/u:o==s?t=2+(i-a)/u:i==s&&(t=4+(a-o)/u),t=Math.min(60*t,360),t<0&&(t+=360),r=(l+s)/2,n=s==l?0:r<=.5?u/(s+l):u/(2-s-l),[t,100*n,100*r]}function n(e){var t,n,r,a=e[0],o=e[1],i=e[2],l=Math.min(a,o,i),s=Math.max(a,o,i),u=s-l;return n=0==s?0:u/s*1e3/10,s==l?t=0:a==s?t=(o-i)/u:o==s?t=2+(i-a)/u:i==s&&(t=4+(a-o)/u),t=Math.min(60*t,360),t<0&&(t+=360),r=s/255*1e3/10,[t,n,r]}function a(e){var n=e[0],r=e[1],a=e[2],o=t(e)[0],i=1/255*Math.min(n,Math.min(r,a)),a=1-1/255*Math.max(n,Math.max(r,a));return[o,100*i,100*a]}function o(e){var t,n,r,a,o=e[0]/255,i=e[1]/255,l=e[2]/255;return a=Math.min(1-o,1-i,1-l),t=(1-o-a)/(1-a)||0,n=(1-i-a)/(1-a)||0,r=(1-l-a)/(1-a)||0,[100*t,100*n,100*r,100*a]}function i(e){return Ln[JSON.stringify(e)]}function l(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]}function s(e){var t,n,r,a=l(e),o=a[0],i=a[1],s=a[2];return o/=95.047,i/=100,s/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,t=116*i-16,n=500*(o-i),r=200*(i-s),[t,n,r]}function u(e){return R(s(e))}function c(e){var t,n,r,a,o,i=e[0]/360,l=e[1]/100,s=e[2]/100;if(0==l)return o=255*s,[o,o,o];n=s<.5?s*(1+l):s+l-s*l,t=2*s-n,a=[0,0,0];for(var u=0;u<3;u++)r=i+1/3*-(u-1),r<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,a[u]=255*o;return a}function d(e){var t,n,r=e[0],a=e[1]/100,o=e[2]/100;return 0===o?[0,0,0]:(o*=2,a*=o<=1?o:2-o,n=(o+a)/2,t=2*a/(o+a),[r,100*t,100*n])}function f(e){return a(c(e))}function p(e){return o(c(e))}function m(e){return i(c(e))}function h(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,a=Math.floor(t)%6,o=t-Math.floor(t),i=255*r*(1-n),l=255*r*(1-n*o),s=255*r*(1-n*(1-o)),r=255*r;switch(a){case 0:return[r,s,i];case 1:return[l,r,i];case 2:return[i,r,s];case 3:return[i,l,r];case 4:return[s,i,r];case 5:return[r,i,l]}}function v(e){var t,n,r=e[0],a=e[1]/100,o=e[2]/100;return n=(2-a)*o,t=a*o,t/=n<=1?n:2-n,t=t||0,n/=2,[r,100*t,100*n]}function y(e){return a(h(e))}function E(e){return o(h(e))}function w(e){return i(h(e))}function S(e){var t,n,a,o,i=e[0]/360,l=e[1]/100,s=e[2]/100,u=l+s;switch(u>1&&(l/=u,s/=u),t=Math.floor(6*i),n=1-s,a=6*i-t,0!=(1&t)&&(a=1-a),o=l+a*(n-l),t){default:case 6:case 0:r=n,g=o,b=l;break;case 1:r=o,g=n,b=l;break;case 2:r=l,g=n,b=o;break;case 3:r=l,g=o,b=n;break;case 4:r=o,g=l,b=n;break;case 5:r=n,g=l,b=o}return[255*r,255*g,255*b]}function _(e){return t(S(e))}function x(e){return n(S(e))}function O(e){return o(S(e))}function C(e){return i(S(e))}function P(e){var t,n,r,a=e[0]/100,o=e[1]/100,i=e[2]/100,l=e[3]/100;return t=1-Math.min(1,a*(1-l)+l),n=1-Math.min(1,o*(1-l)+l),r=1-Math.min(1,i*(1-l)+l),[255*t,255*n,255*r]}function k(e){return t(P(e))}function D(e){return n(P(e))}function M(e){return a(P(e))}function T(e){return i(P(e))}function L(e){var t,n,r,a=e[0]/100,o=e[1]/100,i=e[2]/100;return t=3.2406*a+-1.5372*o+-.4986*i,n=-.9689*a+1.8758*o+.0415*i,r=.0557*a+-.204*o+1.057*i,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,t=Math.min(Math.max(0,t),1),n=Math.min(Math.max(0,n),1),r=Math.min(Math.max(0,r),1),[255*t,255*n,255*r]}function N(e){var t,n,r,a=e[0],o=e[1],i=e[2];return a/=95.047,o/=100,i/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,t=116*o-16,n=500*(a-o),r=200*(o-i),[t,n,r]}function I(e){return R(N(e))}function j(e){var t,n,r,a,o=e[0],i=e[1],l=e[2];return o<=8?(n=100*o/903.3,a=n/100*7.787+16/116):(n=100*Math.pow((o+16)/116,3),a=Math.pow(n/100,1/3)),t=t/95.047<=.008856?t=95.047*(i/500+a-16/116)/7.787:95.047*Math.pow(i/500+a,3),r=r/108.883<=.008859?r=108.883*(a-l/200-16/116)/7.787:108.883*Math.pow(a-l/200,3),[t,n,r]}function R(e){var t,n,r,a=e[0],o=e[1],i=e[2];return t=Math.atan2(i,o),n=360*t/2/Math.PI,n<0&&(n+=360),r=Math.sqrt(o*o+i*i),[a,r,n]}function Y(e){return L(j(e))}function A(e){var t,n,r,a=e[0],o=e[1],i=e[2];return r=i/360*2*Math.PI,t=o*Math.cos(r),n=o*Math.sin(r),[a,t,n]}function F(e){return j(A(e))}function B(e){return Y(A(e))}function Z(e){return Tn[e]}function H(e){return t(Z(e))}function X(e){return n(Z(e))}function J(e){return a(Z(e))}function U(e){return o(Z(e))}function Q(e){return s(Z(e))}function W(e){return l(Z(e))}function G(e){if(e){var t=/^#([a-fA-F0-9]{3,4})$/i,n=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,r=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,a=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,o=/(\w+)/,i=[0,0,0],l=1,s=e.match(t),u="";if(s){s=s[1],u=s[3];for(var c=0;c<i.length;c++)i[c]=parseInt(s[c]+s[c],16);u&&(l=Math.round(parseInt(u+u,16)/255*100)/100)}else if(s=e.match(n)){u=s[2],s=s[1];for(var c=0;c<i.length;c++)i[c]=parseInt(s.slice(2*c,2*c+2),16);u&&(l=Math.round(parseInt(u,16)/255*100)/100)}else if(s=e.match(r)){for(var c=0;c<i.length;c++)i[c]=parseInt(s[c+1]);l=parseFloat(s[4])}else if(s=e.match(a)){for(var c=0;c<i.length;c++)i[c]=Math.round(2.55*parseFloat(s[c+1]));l=parseFloat(s[4])}else if(s=e.match(o)){if("transparent"==s[1])return[0,0,0,0];if(!(i=Zn[s[1]]))return}for(var c=0;c<i.length;c++)i[c]=ue(i[c],0,255);return l=l||0==l?ue(l,0,1):1,i[3]=l,i}}function z(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var r=parseFloat(n[4]);return[ue(parseInt(n[1]),0,360),ue(parseFloat(n[2]),0,100),ue(parseFloat(n[3]),0,100),ue(isNaN(r)?1:r,0,1)]}}}function K(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var r=parseFloat(n[4]);return[ue(parseInt(n[1]),0,360),ue(parseFloat(n[2]),0,100),ue(parseFloat(n[3]),0,100),ue(isNaN(r)?1:r,0,1)]}}}function V(e){var t=G(e);return t&&t.slice(0,3)}function q(e){var t=z(e);return t&&t.slice(0,3)}function $(e){var t=G(e);return t?t[3]:(t=z(e))?t[3]:(t=K(e))?t[3]:void 0}function ee(e,t){var t=void 0!==t&&3===e.length?t:e[3];return"#"+ce(e[0])+ce(e[1])+ce(e[2])+(t>=0&&t<1?ce(Math.round(255*t)):"")}function te(e,t){return t<1||e[3]&&e[3]<1?ne(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function ne(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function re(e,t){return t<1||e[3]&&e[3]<1?ae(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"}function ae(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function oe(e,t){return t<1||e[3]&&e[3]<1?ie(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function ie(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function le(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"}function se(e){return Xn[e.slice(0,3)]}function ue(e,t,n){return Math.min(Math.max(t,e),n)}function ce(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}function de(e){return!e||Gn.isNullOrUndef(e.size)||Gn.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function fe(e,t,n,r){var a,o,i,l,s,u,c,d,f,p=Object.keys(n);for(a=0,o=p.length;a<o;++a)if(i=p[a],u=n[i],t.hasOwnProperty(i)||(t[i]=u),(l=t[i])!==u&&"_"!==i[0]){if(e.hasOwnProperty(i)||(e[i]=l),s=e[i],(c=typeof u)===typeof s)if("string"===c){if(d=Qn(s),d.valid&&(f=Qn(u),f.valid)){t[i]=f.mix(d,r).rgbString();continue}}else if(vr.isFinite(s)&&vr.isFinite(u)){t[i]=s+(u-s)*r;continue}t[i]=u}}function pe(e,t){if(e._chartjs)return void e._chartjs.listeners.push(t);Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Dr.forEach(function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),a=r.apply(this,t);return vr.each(e._chartjs.listeners,function(e){"function"===typeof e[n]&&e[n].apply(e,t)}),a}})})}function me(e,t){var n=e._chartjs;if(n){var r=n.listeners,a=r.indexOf(t);-1!==a&&r.splice(a,1),r.length>0||(Dr.forEach(function(t){delete e[t]}),delete e._chartjs)}}function he(e,t){var n=t.startAngle,r=t.endAngle,a=t.pixelMargin,o=a/t.outerRadius,i=t.x,l=t.y;e.beginPath(),e.arc(i,l,t.outerRadius,n-o,r+o),t.innerRadius>a?(o=a/t.innerRadius,e.arc(i,l,t.innerRadius-a,r+o,n-o,!0)):e.arc(i,l,a,r+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip()}function ge(e,t,n,r){var a,o=n.endAngle;for(r&&(n.endAngle=n.startAngle+Lr,he(e,n),n.endAngle=o,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=Lr,n.fullCircles--)),e.beginPath(),e.arc(n.x,n.y,n.innerRadius,n.startAngle+Lr,n.startAngle,!0),a=0;a<n.fullCircles;++a)e.stroke();for(e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.startAngle+Lr),a=0;a<n.fullCircles;++a)e.stroke()}function ve(e,t,n){var r="inner"===t.borderAlign;r?(e.lineWidth=2*t.borderWidth,e.lineJoin="round"):(e.lineWidth=t.borderWidth,e.lineJoin="bevel"),n.fullCircles&&ge(e,t,n,r),r&&he(e,n),e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.endAngle),e.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),e.closePath(),e.stroke()}function be(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}function ye(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius}function Ee(e){return e&&void 0!==e.width}function we(e){var t,n,r,a,o;return Ee(e)?(o=e.width/2,t=e.x-o,n=e.x+o,r=Math.min(e.y,e.base),a=Math.max(e.y,e.base)):(o=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),r=e.y-o,a=e.y+o),{left:t,top:r,right:n,bottom:a}}function Se(e,t,n){return e===t?n:e===n?t:e}function _e(e){var t=e.borderSkipped,n={};return t?(e.horizontal?e.base>e.x&&(t=Se(t,"left","right")):e.base<e.y&&(t=Se(t,"bottom","top")),n[t]=!0,n):n}function xe(e,t,n){var r,a,o,i,l=e.borderWidth,s=_e(e);return vr.isObject(l)?(r=+l.top||0,a=+l.right||0,o=+l.bottom||0,i=+l.left||0):r=a=o=i=+l||0,{t:s.top||r<0?0:r>n?n:r,r:s.right||a<0?0:a>t?t:a,b:s.bottom||o<0?0:o>n?n:o,l:s.left||i<0?0:i>t?t:i}}function Oe(e){var t=we(e),n=t.right-t.left,r=t.bottom-t.top,a=xe(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:r-a.t-a.b}}}function Ce(e,t,n){var r=null===t,a=null===n,o=!(!e||r&&a)&&we(e);return o&&(r||t>=o.left&&t<=o.right)&&(a||n>=o.top&&n<=o.bottom)}function Pe(e,t){var n,r,a,o,i=e._length;for(a=1,o=t.length;a<o;++a)i=Math.min(i,Math.abs(t[a]-t[a-1]));for(a=0,o=e.getTicks().length;a<o;++a)r=e.getPixelForTick(a),i=a>0?Math.min(i,Math.abs(r-n)):i,n=r;return i}function ke(e,t,n){var r,a,o=n.barThickness,i=t.stackCount,l=t.pixels[e],s=vr.isNullOrUndef(o)?Pe(t.scale,t.pixels):-1;return vr.isNullOrUndef(o)?(r=s*n.categoryPercentage,a=n.barPercentage):(r=o*i,a=1),{chunk:r/i,ratio:a,start:l-r/2}}function De(e,t,n){var r,a,o=t.pixels,i=o[e],l=e>0?o[e-1]:null,s=e<o.length-1?o[e+1]:null,u=n.categoryPercentage;return null===l&&(l=i-(null===s?t.end-t.start:s-i)),null===s&&(s=i+i-l),r=i-(i-Math.min(l,s))/2*u,a=Math.abs(s-l)/2*u,{chunk:a/t.stackCount,ratio:n.barPercentage,start:r}}function Me(e,t){return e.native?{x:e.x,y:e.y}:vr.getRelativePosition(e,t)}function Te(e,t){var n,r,a,o,i,l,s=e._getSortedVisibleDatasetMetas();for(r=0,o=s.length;r<o;++r)for(n=s[r].data,a=0,i=n.length;a<i;++a)l=n[a],l._view.skip||t(l)}function Le(e,t){var n=[];return Te(e,function(e){e.inRange(t.x,t.y)&&n.push(e)}),n}function Ne(e,t,n,r){var a=Number.POSITIVE_INFINITY,o=[];return Te(e,function(e){if(!n||e.inRange(t.x,t.y)){var i=e.getCenterPoint(),l=r(t,i);l<a?(o=[e],a=l):l===a&&o.push(e)}}),o}function Ie(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var a=t?Math.abs(e.x-r.x):0,o=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function je(e,t,n){var r=Me(t,e);n.axis=n.axis||"x";var a=Ie(n.axis),o=n.intersect?Le(e,r):Ne(e,r,!1,a),i=[];return o.length?(e._getSortedVisibleDatasetMetas().forEach(function(e){var t=e.data[o[0]._index];t&&!t._view.skip&&i.push(t)}),i):[]}function Re(e,t){return vr.where(e,function(e){return e.pos===t})}function Ye(e,t){return e.sort(function(e,n){var r=t?n:e,a=t?e:n;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function Ae(e){var t,n,r,a=[];for(t=0,n=(e||[]).length;t<n;++t)r=e[t],a.push({index:t,box:r,pos:r.position,horizontal:r.isHorizontal(),weight:r.weight});return a}function Fe(e,t){var n,r,a;for(n=0,r=e.length;n<r;++n)a=e[n],a.width=a.horizontal?a.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,a.height=a.horizontal&&t.hBoxMaxHeight}function Be(e){var t=Ae(e),n=Ye(Re(t,"left"),!0),r=Ye(Re(t,"right")),a=Ye(Re(t,"top"),!0),o=Ye(Re(t,"bottom"));return{leftAndTop:n.concat(a),rightAndBottom:r.concat(o),chartArea:Re(t,"chartArea"),vertical:n.concat(r),horizontal:a.concat(o)}}function Ze(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function He(e,t,n){var r,a,o=n.box,i=e.maxPadding;if(n.size&&(e[n.pos]-=n.size),n.size=n.horizontal?o.height:o.width,e[n.pos]+=n.size,o.getPadding){var l=o.getPadding();i.top=Math.max(i.top,l.top),i.left=Math.max(i.left,l.left),i.bottom=Math.max(i.bottom,l.bottom),i.right=Math.max(i.right,l.right)}if(r=t.outerWidth-Ze(i,e,"left","right"),a=t.outerHeight-Ze(i,e,"top","bottom"),r!==e.w||a!==e.h)return e.w=r,e.h=a,n.horizontal?r!==e.w:a!==e.h}function Xe(e){function t(t){var r=Math.max(n[t]-e[t],0);return e[t]+=r,r}var n=e.maxPadding;e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}function Je(e,t){function n(e){var n={left:0,top:0,right:0,bottom:0};return e.forEach(function(e){n[e]=Math.max(t[e],r[e])}),n}var r=t.maxPadding;return n(e?["left","right"]:["top","bottom"])}function Ue(e,t,n){var r,a,o,i,l,s,u=[];for(r=0,a=e.length;r<a;++r)o=e[r],i=o.box,i.update(o.width||t.w,o.height||t.h,Je(o.horizontal,t)),He(t,n,o)&&(s=!0,u.length&&(l=!0)),i.fullWidth||u.push(o);return l?Ue(u,t,n)||s:s}function Qe(e,t,n){var r,a,o,i,l=n.padding,s=t.x,u=t.y;for(r=0,a=e.length;r<a;++r)o=e[r],i=o.box,o.horizontal?(i.left=i.fullWidth?l.left:t.left,i.right=i.fullWidth?n.outerWidth-l.right:t.left+t.w,i.top=u,i.bottom=u+i.height,i.width=i.right-i.left,u=i.bottom):(i.left=s,i.right=s+i.width,i.top=t.top,i.bottom=t.top+t.h,i.height=i.bottom-i.top,s=i.right);t.x=s,t.y=u}function We(e,t){var n=vr.getStyle(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?Number(r[1]):void 0}function Ge(e,t){var n=e.style,r=e.getAttribute("height"),a=e.getAttribute("width");if(e[Sa]={initial:{height:r,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===a||""===a){var o=We(e,"width");void 0!==o&&(e.width=o)}if(null===r||""===r)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var i=We(e,"height");void 0!==o&&(e.height=i)}return e}function ze(e,t,n){e.addEventListener(t,n,Da)}function Ke(e,t,n){e.removeEventListener(t,n,Da)}function Ve(e,t,n,r,a){return{type:e,chart:t,native:a||null,x:void 0!==n?n:null,y:void 0!==r?r:null}}function qe(e,t){var n=Pa[e.type]||e.type,r=vr.getRelativePosition(e,t);return Ve(n,t,r.x,r.y,e)}function $e(e,t){var n=!1,r=[];return function(){r=Array.prototype.slice.call(arguments),t=t||this,n||(n=!0,vr.requestAnimFrame.call(window,function(){n=!1,e.apply(t,r)}))}}function et(e){var t=document.createElement("div");return t.className=e||"",t}function tt(e){var t=et(_a),n=et(_a+"-expand"),r=et(_a+"-shrink");n.appendChild(et()),r.appendChild(et()),t.appendChild(n),t.appendChild(r),t._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,r.scrollLeft=1e6,r.scrollTop=1e6};var a=function(){t._reset(),e()};return ze(n,"scroll",a.bind(n,"expand")),ze(r,"scroll",a.bind(r,"shrink")),t}function nt(e,t){var n=e[Sa]||(e[Sa]={}),r=n.renderProxy=function(e){e.animationName===Oa&&t()};vr.each(Ca,function(t){ze(e,t,r)}),n.reflow=!!e.offsetParent,e.classList.add(xa)}function rt(e){var t=e[Sa]||{},n=t.renderProxy;n&&(vr.each(Ca,function(t){Ke(e,t,n)}),delete t.renderProxy),e.classList.remove(xa)}function at(e,t,n){var r=e[Sa]||(e[Sa]={}),a=r.resizer=tt($e(function(){if(r.resizer){var a=n.options.maintainAspectRatio&&e.parentNode,o=a?a.clientWidth:0;t(Ve("resize",n)),a&&a.clientWidth<o&&n.canvas&&t(Ve("resize",n))}}));nt(e,function(){if(r.resizer){var t=e.parentNode;t&&t!==a.parentNode&&t.insertBefore(a,t.firstChild),a._reset()}})}function ot(e){var t=e[Sa]||{},n=t.resizer;delete t.resizer,rt(e),n&&n.parentNode&&n.parentNode.removeChild(n)}function it(e,t){var n=e[Sa]||(e[Sa]={});if(!n.containsStyles){n.containsStyles=!0,t="/* Chart.js */\n"+t;var r=document.createElement("style");r.setAttribute("type","text/css"),r.appendChild(document.createTextNode(t)),e.appendChild(r)}}function lt(e,t){return t&&(vr.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function st(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function ut(e){var t=e._xScale,n=e._yScale||e._scale,r=e._index,a=e._datasetIndex,o=e._chart.getDatasetMeta(a).controller,i=o._getIndexScale(),l=o._getValueScale();return{xLabel:t?t.getLabelForIndex(r,a):"",yLabel:n?n.getLabelForIndex(r,a):"",label:i?""+i.getLabelForIndex(r,a):"",value:l?""+l.getLabelForIndex(r,a):"",index:r,datasetIndex:a,x:e._model.x,y:e._model.y}}function ct(e){var t=ir.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:ja(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:ja(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:ja(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:ja(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:ja(e.titleFontStyle,t.defaultFontStyle),titleFontSize:ja(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:ja(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:ja(e.footerFontStyle,t.defaultFontStyle),footerFontSize:ja(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function dt(e,t){var n=e._chart.ctx,r=2*t.yPadding,a=0,o=t.body,i=o.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0);i+=t.beforeBody.length+t.afterBody.length;var l=t.title.length,s=t.footer.length,u=t.titleFontSize,c=t.bodyFontSize,d=t.footerFontSize;r+=l*u,r+=l?(l-1)*t.titleSpacing:0,r+=l?t.titleMarginBottom:0,r+=i*c,r+=i?(i-1)*t.bodySpacing:0,r+=s?t.footerMarginTop:0,r+=s*d,r+=s?(s-1)*t.footerSpacing:0;var f=0,p=function(e){a=Math.max(a,n.measureText(e).width+f)};return n.font=vr.fontString(u,t._titleFontStyle,t._titleFontFamily),vr.each(t.title,p),n.font=vr.fontString(c,t._bodyFontStyle,t._bodyFontFamily),vr.each(t.beforeBody.concat(t.afterBody),p),f=t.displayColors?c+2:0,vr.each(o,function(e){vr.each(e.before,p),vr.each(e.lines,p),vr.each(e.after,p)}),f=0,n.font=vr.fontString(d,t._footerFontStyle,t._footerFontFamily),vr.each(t.footer,p),a+=2*t.xPadding,{width:a,height:r}}function ft(e,t){var n=e._model,r=e._chart,a=e._chart.chartArea,o="center",i="center";n.y<t.height?i="top":n.y>r.height-t.height&&(i="bottom");var l,s,u,c,d,f=(a.left+a.right)/2,p=(a.top+a.bottom)/2;"center"===i?(l=function(e){return e<=f},s=function(e){return e>f}):(l=function(e){return e<=t.width/2},s=function(e){return e>=r.width-t.width/2}),u=function(e){return e+t.width+n.caretSize+n.caretPadding>r.width},c=function(e){return e-t.width-n.caretSize-n.caretPadding<0},d=function(e){return e<=p?"top":"bottom"},l(n.x)?(o="left",u(n.x)&&(o="center",i=d(n.y))):s(n.x)&&(o="right",c(n.x)&&(o="center",i=d(n.y)));var m=e._options;return{xAlign:m.xAlign?m.xAlign:o,yAlign:m.yAlign?m.yAlign:i}}function pt(e,t,n,r){var a=e.x,o=e.y,i=e.caretSize,l=e.caretPadding,s=e.cornerRadius,u=n.xAlign,c=n.yAlign,d=i+l,f=s+l;return"right"===u?a-=t.width:"center"===u&&(a-=t.width/2,a+t.width>r.width&&(a=r.width-t.width),a<0&&(a=0)),"top"===c?o+=d:o-="bottom"===c?t.height+d:t.height/2,"center"===c?"left"===u?a+=d:"right"===u&&(a-=d):"left"===u?a-=f:"right"===u&&(a+=f),{x:a,y:o}}function mt(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function ht(e){return lt([],st(e))}function gt(){return vr.merge({},[].slice.call(arguments),{merger:function(e,t,n,r){if("xAxes"===e||"yAxes"===e){var a,o,i,l=n[e].length;for(t[e]||(t[e]=[]),a=0;a<l;++a)i=n[e][a],o=Za(i.type,"xAxes"===e?"category":"linear"),a>=t[e].length&&t[e].push({}),!t[e][a].type||i.type&&i.type!==t[e][a].type?vr.merge(t[e][a],[Ia.getScaleDefaults(o),i]):vr.merge(t[e][a],i)}else vr._merger(e,t,n,r)}})}function vt(){return vr.merge({},[].slice.call(arguments),{merger:function(e,t,n,r){var a=t[e]||{},o=n[e];"scales"===e?t[e]=gt(a,o):"scale"===e?t[e]=vr.merge(a,[Ia.getScaleDefaults(o.type),o]):vr._merger(e,t,n,r)}})}function bt(e){e=e||{};var t=e.data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=vt(ir.global,ir[e.type],e.options||{}),e}function yt(e){var t=e.options;vr.each(e.scales,function(t){ba.removeBox(e,t)}),t=vt(ir.global,ir[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function Et(e,t,n){var r,a=function(e){return e.id===r};do{r=t+n++}while(vr.findIndex(e,a)>=0);return r}function wt(e){return"top"===e||"bottom"===e}function St(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function _t(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function xt(e){this.options=e||{}}function Ot(e,t){for(var n=[],r=e.length/t,a=0,o=e.length;a<o;a+=r)n.push(e[Math.floor(a)]);return n}function Ct(e,t,n){var r,a=e.getTicks().length,o=Math.min(t,a-1),i=e.getPixelForTick(o),l=e._startPixel,s=e._endPixel;if(!(n&&(r=1===a?Math.max(i-l,s-i):0===t?(e.getPixelForTick(1)-i)/2:(i-e.getPixelForTick(o-1))/2,(i+=o<t?r:-r)<l-1e-6||i>s+1e-6)))return i}function Pt(e,t){vr.each(e,function(e){var n,r=e.gc,a=r.length/2;if(a>t){for(n=0;n<a;++n)delete e.data[r[n]];r.splice(0,a)}})}function kt(e,t,n,r){function a(e){return{width:y[e]||0,height:E[e]||0,offset:w[e]||0}}var o,i,l,s,u,c,d,f,p,m,h,g,v,b=n.length,y=[],E=[],w=[];for(o=0;o<b;++o){if(s=n[o].label,u=n[o].major?t.major:t.minor,e.font=c=u.string,d=r[c]=r[c]||{data:{},gc:[]},f=u.lineHeight,p=m=0,Ga(s)||Wa(s)){if(Wa(s))for(i=0,l=s.length;i<l;++i)h=s[i],Ga(h)||Wa(h)||(p=vr.measureText(e,d.data,d.gc,p,h),m+=f)}else p=vr.measureText(e,d.data,d.gc,p,s),m=f;y.push(p),E.push(m),w.push(f/2)}return Pt(r,b),g=y.indexOf(Math.max.apply(null,y)),v=E.indexOf(Math.max.apply(null,E)),{first:a(0),last:a(b-1),widest:a(g),highest:a(v)}}function Dt(e){return e.drawTicks?e.tickMarkLength:0}function Mt(e){var t,n;return e.display?(t=vr.options._parseFont(e),n=vr.options.toPadding(e.padding),t.lineHeight+n.height):0}function Tt(e,t){return vr.extend(vr.options._parseFont({fontFamily:za(t.fontFamily,e.fontFamily),fontSize:za(t.fontSize,e.fontSize),fontStyle:za(t.fontStyle,e.fontStyle),lineHeight:za(t.lineHeight,e.lineHeight)}),{color:vr.options.resolve([t.fontColor,e.fontColor,ir.global.defaultFontColor])})}function Lt(e){var t=Tt(e,e.minor);return{minor:t,major:e.major.enabled?Tt(e,e.major):t}}function Nt(e){var t,n,r,a=[];for(n=0,r=e.length;n<r;++n)t=e[n],"undefined"!==typeof t._index&&a.push(t);return a}function It(e){var t,n,r=e.length;if(r<2)return!1;for(n=e[0],t=1;t<r;++t)if(e[t]-e[t-1]!==n)return!1;return n}function jt(e,t,n,r){var a,o,i,l,s=It(e),u=(t.length-1)/r;if(!s)return Math.max(u,1);for(a=vr.math._factorize(s),i=0,l=a.length-1;i<l;i++)if((o=a[i])>u)return o;return Math.max(u,1)}function Rt(e){var t,n,r=[];for(t=0,n=e.length;t<n;t++)e[t].major&&r.push(t);return r}function Yt(e,t,n){var r,a,o=0,i=t[0];for(n=Math.ceil(n),r=0;r<e.length;r++)a=e[r],r===i?(a._index=r,o++,i=t[o*n]):delete a.label}function At(e,t,n,r){var a,o,i,l,s=za(n,0),u=Math.min(za(r,e.length),e.length),c=0;for(t=Math.ceil(t),r&&(a=r-n,t=a/Math.floor(a/t)),l=s;l<0;)c++,l=Math.round(s+c*t);for(o=Math.max(s,0);o<u;o++)i=e[o],o===l?(i._index=o,c++,l=Math.round(s+c*t)):delete i.label}function Ft(e,t){var n,r,a,o,i=[],l=e.stepSize,s=l||1,u=e.maxTicks-1,c=e.min,d=e.max,f=e.precision,p=t.min,m=t.max,h=vr.niceNum((m-p)/u/s)*s;if(h<1e-14&&ao(c)&&ao(d))return[p,m];o=Math.ceil(m/h)-Math.floor(p/h),o>u&&(h=vr.niceNum(o*h/u/s)*s),l||ao(f)?n=Math.pow(10,vr._decimalPlaces(h)):(n=Math.pow(10,f),h=Math.ceil(h*n)/n),r=Math.floor(p/h)*h,a=Math.ceil(m/h)*h,l&&(!ao(c)&&vr.almostWhole(c/h,h/1e3)&&(r=c),!ao(d)&&vr.almostWhole(d/h,h/1e3)&&(a=d)),o=(a-r)/h,o=vr.almostEquals(o,Math.round(o),h/1e3)?Math.round(o):Math.ceil(o),r=Math.round(r*n)/n,a=Math.round(a*n)/n,i.push(ao(c)?r:c);for(var g=1;g<o;++g)i.push(Math.round((r+g*h)*n)/n);return i.push(ao(d)?a:d),i}function Bt(e,t,n){var r=[n.type,void 0===t&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===e[r]&&(e[r]={pos:[],neg:[]}),e[r]}function Zt(e,t,n,r){var a,o,i=e.options,l=i.stacked,s=Bt(t,l,n),u=s.pos,c=s.neg,d=r.length;for(a=0;a<d;++a)o=e._parseValue(r[a]),isNaN(o.min)||isNaN(o.max)||n.data[a].hidden||(u[a]=u[a]||0,c[a]=c[a]||0,i.relativePoints?u[a]=100:o.min<0||o.max<0?c[a]+=o.min:u[a]+=o.max)}function Ht(e,t,n){var r,a,o=n.length;for(r=0;r<o;++r)a=e._parseValue(n[r]),isNaN(a.min)||isNaN(a.max)||t.data[r].hidden||(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}function Xt(e,t){var n,r,a=[],o=uo(e.min,Math.pow(10,Math.floor(co(t.min)))),i=Math.floor(co(t.max)),l=Math.ceil(t.max/Math.pow(10,i));0===o?(n=Math.floor(co(t.minNotZero)),r=Math.floor(t.minNotZero/Math.pow(10,n)),a.push(o),o=r*Math.pow(10,n)):(n=Math.floor(co(o)),r=Math.floor(o/Math.pow(10,n)));var s=n<0?Math.pow(10,Math.abs(n)):1;do{a.push(o),++r,10===r&&(r=1,++n,s=n>=0?1:s),o=Math.round(r*Math.pow(10,n)*s)/s}while(n<i||n===i&&r<l);var u=uo(e.max,o);return a.push(u),a}function Jt(e,t){return vr.isFinite(e)&&e>=0?e:t}function Ut(e){var t=e.ticks;return t.display&&e.display?ho(t.fontSize,ir.global.defaultFontSize)+2*t.backdropPaddingY:0}function Qt(e,t,n){return vr.isArray(n)?{w:vr.longestText(e,e.font,n),h:n.length*t}:{w:e.measureText(n).width,h:t}}function Wt(e,t,n,r,a){return e===r||e===a?{start:t-n/2,end:t+n/2}:e<r||e>a?{start:t-n,end:t}:{start:t,end:t+n}}function Gt(e){var t,n,r,a=vr.options._parseFont(e.options.pointLabels),o={l:0,r:e.width,t:0,b:e.height-e.paddingTop},i={};e.ctx.font=a.string,e._pointLabelSizes=[];var l=e.chart.data.labels.length;for(t=0;t<l;t++){r=e.getPointPosition(t,e.drawingArea+5),n=Qt(e.ctx,a.lineHeight,e.pointLabels[t]),e._pointLabelSizes[t]=n;var s=e.getIndexAngle(t),u=vr.toDegrees(s)%360,c=Wt(u,r.x,n.w,0,180),d=Wt(u,r.y,n.h,90,270);c.start<o.l&&(o.l=c.start,i.l=s),c.end>o.r&&(o.r=c.end,i.r=s),d.start<o.t&&(o.t=d.start,i.t=s),d.end>o.b&&(o.b=d.end,i.b=s)}e.setReductions(e.drawingArea,o,i)}function zt(e){return 0===e||180===e?"center":e<180?"left":"right"}function Kt(e,t,n,r){var a,o,i=n.y+r/2;if(vr.isArray(t))for(a=0,o=t.length;a<o;++a)e.fillText(t[a],n.x,i),i+=r;else e.fillText(t,n.x,i)}function Vt(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function qt(e){var t=e.ctx,n=e.options,r=n.pointLabels,a=Ut(n),o=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),i=vr.options._parseFont(r);t.save(),t.font=i.string,t.textBaseline="middle";for(var l=e.chart.data.labels.length-1;l>=0;l--){var s=0===l?a/2:0,u=e.getPointPosition(l,o+s+5),c=go(r.fontColor,l,ir.global.defaultFontColor);t.fillStyle=c;var d=e.getIndexAngle(l),f=vr.toDegrees(d);t.textAlign=zt(f),Vt(f,e._pointLabelSizes[l],u),Kt(t,e.pointLabels[l],u,i.lineHeight)}t.restore()}function $t(e,t,n,r){var a,o=e.ctx,i=t.circular,l=e.chart.data.labels.length,s=go(t.color,r-1),u=go(t.lineWidth,r-1);if((i||l)&&s&&u){if(o.save(),o.strokeStyle=s,o.lineWidth=u,o.setLineDash&&(o.setLineDash(t.borderDash||[]),o.lineDashOffset=t.borderDashOffset||0),o.beginPath(),i)o.arc(e.xCenter,e.yCenter,n,0,2*Math.PI);else{a=e.getPointPosition(0,n),o.moveTo(a.x,a.y);for(var c=1;c<l;c++)a=e.getPointPosition(c,n),o.lineTo(a.x,a.y)}o.closePath(),o.stroke(),o.restore()}}function en(e){return vr.isNumber(e)?e:0}function tn(e,t){return e-t}function nn(e){var t,n,r,a={},o=[];for(t=0,n=e.length;t<n;++t)r=e[t],a[r]||(a[r]=!0,o.push(r));return o}function rn(e){return vr.valueOrDefault(e.time.min,e.ticks.min)}function an(e){return vr.valueOrDefault(e.time.max,e.ticks.max)}function on(e,t,n,r){if("linear"===r||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var a,o,i,l,s,u=[],c=[t];for(a=0,o=e.length;a<o;++a)(l=e[a])>t&&l<n&&c.push(l);for(c.push(n),a=0,o=c.length;a<o;++a)s=c[a+1],i=c[a-1],l=c[a],void 0!==i&&void 0!==s&&Math.round((s+i)/2)===l||u.push({time:l,pos:a/(o-1)});return u}function ln(e,t,n){for(var r,a,o,i=0,l=e.length-1;i>=0&&i<=l;){if(r=i+l>>1,a=e[r-1]||null,o=e[r],!a)return{lo:null,hi:o};if(o[t]<n)i=r+1;else{if(!(a[t]>n))return{lo:a,hi:o};l=r-1}}return{lo:o,hi:null}}function sn(e,t,n,r){var a=ln(e,t,n),o=a.lo?a.hi?a.lo:e[e.length-2]:e[0],i=a.lo?a.hi?a.hi:e[e.length-1]:e[1],l=i[t]-o[t],s=l?(n-o[t])/l:0,u=(i[r]-o[r])*s;return o[r]+u}function un(e,t){var n=e._adapter,r=e.options.time,a=r.parser,o=a||r.format,i=t;return"function"===typeof a&&(i=a(i)),vr.isFinite(i)||(i="string"===typeof o?n.parse(i,o):n.parse(i)),null!==i?+i:(a||"function"!==typeof o||(i=o(t),vr.isFinite(i)||(i=n.parse(i))),i)}function cn(e,t){if(vr.isNullOrUndef(t))return null;var n=e.options.time,r=un(e,e.getRightValue(t));return null===r?r:(n.round&&(r=+e._adapter.startOf(r,n.round)),r)}function dn(e,t,n,r){var a,o,i,l=Po.length;for(a=Po.indexOf(e);a<l-1;++a)if(o=Co[Po[a]],i=o.steps?o.steps:Oo,o.common&&Math.ceil((n-t)/(i*o.size))<=r)return Po[a];return Po[l-1]}function fn(e,t,n,r,a){var o,i;for(o=Po.length-1;o>=Po.indexOf(n);o--)if(i=Po[o],Co[i].common&&e._adapter.diff(a,r,i)>=t-1)return i;return Po[n?Po.indexOf(n):0]}function pn(e){for(var t=Po.indexOf(e)+1,n=Po.length;t<n;++t)if(Co[Po[t]].common)return Po[t]}function mn(e,t,n,r){var a,o=e._adapter,i=e.options,l=i.time,s=l.unit||dn(l.minUnit,t,n,r),u=So([l.stepSize,l.unitStepSize,1]),c="week"===s&&l.isoWeekday,d=t,f=[];if(c&&(d=+o.startOf(d,"isoWeek",c)),d=+o.startOf(d,c?"day":s),o.diff(n,t,s)>1e5*u)throw t+" and "+n+" are too far apart with stepSize of "+u+" "+s;for(a=d;a<n;a=+o.add(a,u,s))f.push(a);return a!==n&&"ticks"!==i.bounds||f.push(a),f}function hn(e,t,n,r,a){var o,i,l=0,s=0;return a.offset&&t.length&&(o=sn(e,"time",t[0],"pos"),l=1===t.length?1-o:(sn(e,"time",t[1],"pos")-o)/2,i=sn(e,"time",t[t.length-1],"pos"),s=1===t.length?i:(i-sn(e,"time",t[t.length-2],"pos"))/2),{start:l,end:s,factor:1/(l+1+s)}}function gn(e,t,n,r){var a,o,i=e._adapter,l=+i.startOf(t[0].value,r),s=t[t.length-1].value;for(a=l;a<=s;a=+i.add(a,1,r))(o=n[a])>=0&&(t[o].major=!0);return t}function vn(e,t,n){var r,a,o=[],i={},l=t.length;for(r=0;r<l;++r)a=t[r],i[a]=r,o.push({value:a,major:!1});return 0!==l&&n?gn(e,o,i,n):o}function bn(e,t,n){var r,a=e._model||{},o=a.fill;if(void 0===o&&(o=!!a.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(r=parseFloat(o,10),isFinite(r)&&Math.floor(r)===r)return"-"!==o[0]&&"+"!==o[0]||(r=t+r),!(r===t||r<0||r>=n)&&r;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function yn(e){var t,n=e.el._model||{},r=e.el._scale||{},a=e.fill,o=null;if(isFinite(a))return null;if("start"===a?o=void 0===n.scaleBottom?r.bottom:n.scaleBottom:"end"===a?o=void 0===n.scaleTop?r.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:r.getBasePixel&&(o=r.getBasePixel()),void 0!==o&&null!==o){if(void 0!==o.x&&void 0!==o.y)return o;if(vr.isFinite(o))return t=r.isHorizontal(),{x:t?o:null,y:t?null:o}}return null}function En(e){var t,n,r,a,o,i=e.el._scale,l=i.options,s=i.chart.data.labels.length,u=e.fill,c=[];if(!s)return null;for(t=l.ticks.reverse?i.max:i.min,n=l.ticks.reverse?i.min:i.max,r=i.getPointPositionForValue(0,t),a=0;a<s;++a)o="start"===u||"end"===u?i.getPointPositionForValue(a,"start"===u?t:n):i.getBasePosition(a),l.gridLines.circular&&(o.cx=r.x,o.cy=r.y,o.angle=i.getIndexAngle(a)-Math.PI/2),c.push(o);return c}function wn(e){return(e.el._scale||{}).getPointPositionForValue?En(e):yn(e)}function Sn(e,t,n){var r,a=e[t],o=a.fill,i=[t];if(!n)return o;for(;!1!==o&&-1===i.indexOf(o);){if(!isFinite(o))return o;if(!(r=e[o]))return!1;if(r.visible)return o;i.push(o),o=r.fill}return!1}function _n(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),No[n](e))}function xn(e){return e&&!e.skip}function On(e,t,n,r,a){var o,i,l,s;if(r&&a){for(e.moveTo(t[0].x,t[0].y),o=1;o<r;++o)vr.canvas.lineTo(e,t[o-1],t[o]);if(void 0===n[0].angle)for(e.lineTo(n[a-1].x,n[a-1].y),o=a-1;o>0;--o)vr.canvas.lineTo(e,n[o],n[o-1],!0);else for(i=n[0].cx,l=n[0].cy,s=Math.sqrt(Math.pow(n[0].x-i,2)+Math.pow(n[0].y-l,2)),o=a-1;o>0;--o)e.arc(i,l,s,n[o].angle,n[o-1].angle,!0)}}function Cn(e,t,n,r,a,o){var i,l,s,u,c,d,f,p,m=t.length,h=r.spanGaps,g=[],v=[],b=0,y=0;for(e.beginPath(),i=0,l=m;i<l;++i)s=i%m,u=t[s]._view,c=n(u,s,r),d=xn(u),f=xn(c),o&&void 0===p&&d&&(p=i+1,l=m+p),d&&f?(b=g.push(u),y=v.push(c)):b&&y&&(h?(d&&g.push(u),f&&v.push(c)):(On(e,g,v,b,y),b=y=0,g=[],v=[]));On(e,g,v,b,y),e.closePath(),e.fillStyle=a,e.fill()}function Pn(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}function kn(e,t){var n=new Ao({ctx:e.ctx,options:t,chart:e});ba.configure(e,n,t),ba.addBox(e,n),e.legend=n}function Dn(e,t){var n=new Zo({ctx:e.ctx,options:t,chart:e});ba.configure(e,n,t),ba.addBox(e,n),e.titleBlock=n}e=e&&e.hasOwnProperty("default")?e.default:e;var Mn={rgb2hsl:t,rgb2hsv:n,rgb2hwb:a,rgb2cmyk:o,rgb2keyword:i,rgb2xyz:l,rgb2lab:s,rgb2lch:u,hsl2rgb:c,hsl2hsv:d,hsl2hwb:f,hsl2cmyk:p,hsl2keyword:m,hsv2rgb:h,hsv2hsl:v,hsv2hwb:y,hsv2cmyk:E,hsv2keyword:w,hwb2rgb:S,hwb2hsl:_,hwb2hsv:x,hwb2cmyk:O,hwb2keyword:C,cmyk2rgb:P,cmyk2hsl:k,cmyk2hsv:D,cmyk2hwb:M,cmyk2keyword:T,keyword2rgb:Z,keyword2hsl:H,keyword2hsv:X,keyword2hwb:J,keyword2cmyk:U,keyword2lab:Q,keyword2xyz:W,xyz2rgb:L,xyz2lab:N,xyz2lch:I,lab2xyz:j,lab2rgb:Y,lab2lch:R,lch2lab:A,lch2xyz:F,lch2rgb:B},Tn={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ln={};for(var Nn in Tn)Ln[JSON.stringify(Tn[Nn])]=Nn;var In=function(){return new Fn};for(var jn in Mn){In[jn+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),Mn[e](t)}}(jn);var Rn=/(\w+)2(\w+)/.exec(jn),Yn=Rn[1],An=Rn[2];In[Yn]=In[Yn]||{},In[Yn][An]=In[jn]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=Mn[e](t);if("string"==typeof n||void 0===n)return n;for(var r=0;r<n.length;r++)n[r]=Math.round(n[r]);return n}}(jn)}var Fn=function(){this.convs={}};Fn.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},Fn.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},Fn.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,r=this.convs[n];t=In[n][e](r),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){Fn.prototype[e]=function(t){return this.routeSpace(e,arguments)}});var Bn=In,Zn={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Hn={getRgba:G,getHsla:z,getRgb:V,getHsl:q,getHwb:K,getAlpha:$,hexString:ee,rgbString:te,rgbaString:ne,percentString:re,percentaString:ae,hslString:oe,hslaString:ie,hwbString:le,keyword:se},Xn={};for(var Jn in Zn)Xn[Zn[Jn]]=Jn;var Un=function(e){if(e instanceof Un)return e;if(!(this instanceof Un))return new Un(e);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var t;"string"===typeof e?(t=Hn.getRgba(e),t?this.setValues("rgb",t):(t=Hn.getHsla(e))?this.setValues("hsl",t):(t=Hn.getHwb(e))&&this.setValues("hwb",t)):"object"===typeof e&&(t=e,void 0!==t.r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t))};Un.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e%=360,e=e<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return Hn.hexString(this.values.rgb)},rgbString:function(){return Hn.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return Hn.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return Hn.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return Hn.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return Hn.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return Hn.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return Hn.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,r=e,a=void 0===t?.5:t,o=2*a-1,i=n.alpha()-r.alpha(),l=((o*i===-1?o:(o+i)/(1+o*i))+1)/2,s=1-l;return this.rgb(l*n.red()+s*r.red(),l*n.green()+s*r.green(),l*n.blue()+s*r.blue()).alpha(n.alpha()*a+r.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new Un,r=this.values,a=n.values;for(var o in r)r.hasOwnProperty(o)&&(e=r[o],t={}.toString.call(e),"[object Array]"===t?a[o]=e.slice(0):"[object Number]"===t?a[o]=e:console.error("unexpected color value:",e));return n}},Un.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Un.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Un.prototype.getValues=function(e){for(var t=this.values,n={},r=0;r<e.length;r++)n[e.charAt(r)]=t[e][r];return 1!==t.alpha&&(n.a=t.alpha),n},Un.prototype.setValues=function(e,t){var n,r=this.values,a=this.spaces,o=this.maxes,i=1;if(this.valid=!0,"alpha"===e)i=t;else if(t.length)r[e]=t.slice(0,e.length),i=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)r[e][n]=t[e.charAt(n)];i=t.a}else if(void 0!==t[a[e][0]]){var l=a[e];for(n=0;n<e.length;n++)r[e][n]=t[l[n]];i=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===i?r.alpha:i)),"alpha"===e)return!1;var s;for(n=0;n<e.length;n++)s=Math.max(0,Math.min(o[e][n],r[e][n])),r[e][n]=Math.round(s);for(var u in a)u!==e&&(r[u]=Bn[e][u](r[e]));return!0},Un.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"===typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},Un.prototype.setChannel=function(e,t,n){var r=this.values[e];return void 0===n?r[t]:n===r[t]?this:(r[t]=n,this.setValues(e,r),this)},"undefined"!==typeof window&&(window.Color=Un);var Qn=Un,Wn={noop:function(){},uid:function(){var e=0;return function(){return e++}}(),isNullOrUndef:function(e){return null===e||"undefined"===typeof e},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){return("number"===typeof e||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,t){return"undefined"===typeof e?t:e},valueAtIndexOrDefault:function(e,t,n){return Wn.valueOrDefault(Wn.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)},each:function(e,t,n,r){var a,o,i;if(Wn.isArray(e))if(o=e.length,r)for(a=o-1;a>=0;a--)t.call(n,e[a],a);else for(a=0;a<o;a++)t.call(n,e[a],a);else if(Wn.isObject(e))for(i=Object.keys(e),o=i.length,a=0;a<o;a++)t.call(n,e[i[a]],i[a])},arrayEquals:function(e,t){var n,r,a,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(a=e[n],o=t[n],a instanceof Array&&o instanceof Array){if(!Wn.arrayEquals(a,o))return!1}else if(a!==o)return!1;return!0},clone:function(e){if(Wn.isArray(e))return e.map(Wn.clone);if(Wn.isObject(e)){for(var t={},n=Object.keys(e),r=n.length,a=0;a<r;++a)t[n[a]]=Wn.clone(e[n[a]]);return t}return e},_merger:function(e,t,n,r){var a=t[e],o=n[e];Wn.isObject(a)&&Wn.isObject(o)?Wn.merge(a,o,r):t[e]=Wn.clone(o)},_mergerIf:function(e,t,n){var r=t[e],a=n[e];Wn.isObject(r)&&Wn.isObject(a)?Wn.mergeIf(r,a):t.hasOwnProperty(e)||(t[e]=Wn.clone(a))},merge:function(e,t,n){var r,a,o,i,l,s=Wn.isArray(t)?t:[t],u=s.length;if(!Wn.isObject(e))return e;for(n=n||{},r=n.merger||Wn._merger,a=0;a<u;++a)if(t=s[a],Wn.isObject(t))for(o=Object.keys(t),l=0,i=o.length;l<i;++l)r(o[l],e,t,n);return e},mergeIf:function(e,t){return Wn.merge(e,t,{merger:Wn._mergerIf})},extend:Object.assign||function(e){return Wn.merge(e,[].slice.call(arguments,1),{merger:function(e,t,n){t[e]=n[e]}})},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,n.extend=Wn.inherits,e&&Wn.extend(n.prototype,e),n.__super__=t.prototype,n},_deprecated:function(e,t,n,r){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+r+'" instead')}},Gn=Wn;Wn.callCallback=Wn.callback,Wn.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},Wn.getValueOrDefault=Wn.valueOrDefault,Wn.getValueAtIndexOrDefault=Wn.valueAtIndexOrDefault;var zn={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),-r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:2===(e/=.5)?1:(n||(n=.45),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-zn.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*zn.easeInBounce(2*e):.5*zn.easeOutBounce(2*e-1)+.5}},Kn={effects:zn};Gn.easingEffects=zn;var Vn=Math.PI,qn=Vn/180,$n=2*Vn,er=Vn/2,tr=Vn/4,nr=2*Vn/3,rr={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,r,a,o){if(o){var i=Math.min(o,a/2,r/2),l=t+i,s=n+i,u=t+r-i,c=n+a-i;e.moveTo(t,s),l<u&&s<c?(e.arc(l,s,i,-Vn,-er),e.arc(u,s,i,-er,0),e.arc(u,c,i,0,er),e.arc(l,c,i,er,Vn)):l<u?(e.moveTo(l,n),e.arc(u,s,i,-er,er),e.arc(l,s,i,er,Vn+er)):s<c?(e.arc(l,s,i,-Vn,0),e.arc(l,c,i,0,Vn)):e.arc(l,s,i,-Vn,Vn),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,r,a)},drawPoint:function(e,t,n,r,a,o){var i,l,s,u,c,d=(o||0)*qn;if(t&&"object"===typeof t&&("[object HTMLImageElement]"===(i=t.toString())||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(r,a),e.rotate(d),e.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void e.restore();if(!(isNaN(n)||n<=0)){switch(e.beginPath(),t){default:e.arc(r,a,n,0,$n),e.closePath();break;case"triangle":e.moveTo(r+Math.sin(d)*n,a-Math.cos(d)*n),d+=nr,e.lineTo(r+Math.sin(d)*n,a-Math.cos(d)*n),d+=nr,e.lineTo(r+Math.sin(d)*n,a-Math.cos(d)*n),e.closePath();break;case"rectRounded":c=.516*n,u=n-c,l=Math.cos(d+tr)*u,s=Math.sin(d+tr)*u,e.arc(r-l,a-s,c,d-Vn,d-er),e.arc(r+s,a-l,c,d-er,d),e.arc(r+l,a+s,c,d,d+er),e.arc(r-s,a+l,c,d+er,d+Vn),e.closePath();break;case"rect":if(!o){u=Math.SQRT1_2*n,e.rect(r-u,a-u,2*u,2*u);break}d+=tr;case"rectRot":l=Math.cos(d)*n,s=Math.sin(d)*n,e.moveTo(r-l,a-s),e.lineTo(r+s,a-l),e.lineTo(r+l,a+s),e.lineTo(r-s,a+l),e.closePath();break;case"crossRot":d+=tr;case"cross":l=Math.cos(d)*n,s=Math.sin(d)*n,e.moveTo(r-l,a-s),e.lineTo(r+l,a+s),e.moveTo(r+s,a-l),e.lineTo(r-s,a+l);break;case"star":l=Math.cos(d)*n,s=Math.sin(d)*n,e.moveTo(r-l,a-s),e.lineTo(r+l,a+s),e.moveTo(r+s,a-l),e.lineTo(r-s,a+l),d+=tr,l=Math.cos(d)*n,s=Math.sin(d)*n,e.moveTo(r-l,a-s),e.lineTo(r+l,a+s),e.moveTo(r+s,a-l),e.lineTo(r-s,a+l);break;case"line":l=Math.cos(d)*n,s=Math.sin(d)*n,e.moveTo(r-l,a-s),e.lineTo(r+l,a+s);break;case"dash":e.moveTo(r,a),e.lineTo(r+Math.cos(d)*n,a+Math.sin(d)*n)}e.fill(),e.stroke()}},_isPointInArea:function(e,t){return e.x>t.left-1e-6&&e.x<t.right+1e-6&&e.y>t.top-1e-6&&e.y<t.bottom+1e-6},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,r){var a=n.steppedLine;if(a){if("middle"===a){var o=(t.x+n.x)/2;e.lineTo(o,r?n.y:t.y),e.lineTo(o,r?t.y:n.y)}else"after"===a&&!r||"after"!==a&&r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);return void e.lineTo(n.x,n.y)}if(!n.tension)return void e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.controlPointPreviousX:t.controlPointNextX,r?t.controlPointPreviousY:t.controlPointNextY,r?n.controlPointNextX:n.controlPointPreviousX,r?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y)}},ar=rr;Gn.clear=rr.clear,Gn.drawRoundedRectangle=function(e){e.beginPath(),rr.roundedRect.apply(rr,arguments)};var or={_set:function(e,t){return Gn.merge(this[e]||(this[e]={}),t)}};or._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var ir=or,lr=Gn.valueOrDefault,sr={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,r,a;return Gn.isObject(e)?(t=+e.top||0,n=+e.right||0,r=+e.bottom||0,a=+e.left||0):t=n=r=a=+e||0,{top:t,right:n,bottom:r,left:a,height:t+r,width:a+n}},_parseFont:function(e){var t=ir.global,n=lr(e.fontSize,t.defaultFontSize),r={family:lr(e.fontFamily,t.defaultFontFamily),lineHeight:Gn.options.toLineHeight(lr(e.lineHeight,t.defaultLineHeight),n),size:n,style:lr(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return r.string=de(r),r},resolve:function(e,t,n,r){var a,o,i,l=!0;for(a=0,o=e.length;a<o;++a)if(void 0!==(i=e[a])&&(void 0!==t&&"function"===typeof i&&(i=i(t),l=!1),void 0!==n&&Gn.isArray(i)&&(i=i[n],l=!1),void 0!==i))return r&&!l&&(r.cacheable=!1),i}},ur={_factorize:function(e){var t,n=[],r=Math.sqrt(e);for(t=1;t<r;t++)e%t===0&&(n.push(t),n.push(e/t));return r===(0|r)&&n.push(r),n.sort(function(e,t){return e-t}).pop(),n},log10:Math.log10||function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t}},cr=ur;Gn.log10=ur.log10;var dr=function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}},fr=function(){return{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}},pr=function(e,t,n){return e?dr(t,n):fr()},mr=function(e,t){var n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)},hr=function(e){var t=e.prevTextDirection;void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))},gr={getRtlAdapter:pr,overrideTextDirection:mr,restoreTextDirection:hr},vr=Gn,br=Kn,yr=ar,Er=sr,wr=cr,Sr=gr;vr.easing=br,vr.canvas=yr,vr.options=Er,vr.math=wr,vr.rtl=Sr;var _r=function(e){vr.extend(this,e),this.initialize.apply(this,arguments)};vr.extend(_r.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=vr.extend({},e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,r=t._start,a=t._view;return n&&1!==e?(a||(a=t._view={}),r||(r=t._start={}),fe(r,a,n,e),t):(t._view=vr.extend({},n),t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return vr.isNumber(this._model.x)&&vr.isNumber(this._model.y)}}),_r.extend=vr.inherits;var xr=_r,Or=xr.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Cr=Or;Object.defineProperty(Or.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Or.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),ir._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:vr.noop,onComplete:vr.noop}});var Pr={animations:[],request:null,addAnimation:function(e,t,n,r){var a,o,i=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,r||(e.animating=!0),a=0,o=i.length;a<o;++a)if(i[a].chart===e)return void(i[a]=t);i.push(t),1===i.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=vr.findIndex(this.animations,function(t){return t.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=vr.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this;e.advance(),e.animations.length>0&&e.requestAnimationFrame()},advance:function(){for(var e,t,n,r,a=this.animations,o=0;o<a.length;)e=a[o],t=e.chart,n=e.numSteps,r=Math.floor((Date.now()-e.startTime)/e.duration*n)+1,e.currentStep=Math.min(r,n),vr.callback(e.render,[t,e],t),vr.callback(e.onAnimationProgress,[e],t),e.currentStep>=n?(vr.callback(e.onAnimationComplete,[e],t),t.animating=!1,a.splice(o,1)):++o}},kr=vr.options.resolve,Dr=["push","pop","shift","splice","unshift"],Mr=function(e,t){this.initialize(e,t)};vr.extend(Mr.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.chart,r=n.scales,a=e.getDataset(),o=n.options.scales;null!==t.xAxisID&&t.xAxisID in r&&!a.xAxisID||(t.xAxisID=a.xAxisID||o.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in r&&!a.yAxisID||(t.yAxisID=a.yAxisID||o.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&me(this._data,this)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,r=n.getMeta(),a=n.getDataset().data||[],o=r.data;for(e=0,t=a.length;e<t;++e)o[e]=o[e]||n.createMetaData(e);r.dataset=r.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e=this,t=e.getDataset(),n=t.data||(t.data=[]);e._data!==n&&(e._data&&me(e._data,e),n&&Object.isExtensible(n)&&pe(n,e),e._data=n),e.resyncElements()},_configure:function(){var e=this;e._config=vr.merge({},[e.chart.options.datasets[e._type],e.getDataset()],{merger:function(e,t,n){"_meta"!==e&&"data"!==e&&vr._merger(e,t,n)}})},_update:function(e){var t=this;t._configure(),t._cachedDataOpts=null,t.update(e)},update:vr.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],r=n.length,a=0;a<r;++a)n[a].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,r=0;for(e.dataset&&e.dataset.draw();r<n;++r)t[r].draw()},getStyle:function(e){var t,n=this,r=n.getMeta(),a=r.dataset;return n._configure(),a&&void 0===e?t=n._resolveDatasetElementOptions(a||{}):(e=e||0,t=n._resolveDataElementOptions(r.data[e]||{},e)),!1!==t.fill&&null!==t.fill||(t.backgroundColor="rgba(0,0,0,0)"),t},_resolveDatasetElementOptions:function(e,t){var n,r,a,o,i=this,l=i.chart,s=i._config,u=e.custom||{},c=l.options.elements[i.datasetElementType.prototype._type]||{},d=i._datasetElementOptions,f={},p={chart:l,dataset:i.getDataset(),datasetIndex:i.index,hover:t};for(n=0,r=d.length;n<r;++n)a=d[n],o=t?"hover"+a.charAt(0).toUpperCase()+a.slice(1):a,f[a]=kr([u[o],s[o],c[o]],p);return f},_resolveDataElementOptions:function(e,t){var n=this,r=e&&e.custom,a=n._cachedDataOpts;if(a&&!r)return a;var o,i,l,s,u=n.chart,c=n._config,d=u.options.elements[n.dataElementType.prototype._type]||{},f=n._dataElementOptions,p={},m={chart:u,dataIndex:t,dataset:n.getDataset(),datasetIndex:n.index},h={cacheable:!r};if(r=r||{},vr.isArray(f))for(i=0,l=f.length;i<l;++i)s=f[i],p[s]=kr([r[s],c[s],d[s]],m,t,h);else for(o=Object.keys(f),i=0,l=o.length;i<l;++i)s=o[i],p[s]=kr([r[s],c[f[s]],c[s],d[s]],m,t,h);return h.cacheable&&(n._cachedDataOpts=Object.freeze(p)),p},removeHoverStyle:function(e){vr.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},a=e._model,o=vr.getHoverColor;e.$previousStyle={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:a.borderWidth},a.backgroundColor=kr([r.hoverBackgroundColor,t.hoverBackgroundColor,o(a.backgroundColor)],void 0,n),a.borderColor=kr([r.hoverBorderColor,t.hoverBorderColor,o(a.borderColor)],void 0,n),a.borderWidth=kr([r.hoverBorderWidth,t.hoverBorderWidth,a.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var e,t,n,r,a,o,i=this.getMeta().dataset,l={};if(i){for(o=i._model,a=this._resolveDatasetElementOptions(i,!0),r=Object.keys(a),e=0,t=r.length;e<t;++e)n=r[e],l[n]=o[n],o[n]=a[n];i.$previousStyle=l}},resyncElements:function(){var e=this,t=e.getMeta(),n=e.getDataset().data,r=t.data.length,a=n.length;a<r?t.data.splice(a,r-a):a>r&&e.insertElements(r,a-r)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Mr.extend=vr.inherits;var Tr=Mr,Lr=2*Math.PI;ir._set("global",{elements:{arc:{backgroundColor:ir.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Nr=xr.extend({_type:"arc",inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var r=vr.getAngleFromPoint(n,{x:e,y:t}),a=r.angle,o=r.distance,i=n.startAngle,l=n.endAngle;l<i;)l+=Lr;for(;a>l;)a-=Lr;for(;a<i;)a+=Lr;var s=a>=i&&a<=l,u=o>=n.innerRadius&&o<=n.outerRadius;return s&&u}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e,t=this._chart.ctx,n=this._view,r="inner"===n.borderAlign?.33:0,a={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-r,0),pixelMargin:r,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/Lr)};if(t.save(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,a.fullCircles){for(a.endAngle=a.startAngle+Lr,t.beginPath(),t.arc(a.x,a.y,a.outerRadius,a.startAngle,a.endAngle),t.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),t.closePath(),e=0;e<a.fullCircles;++e)t.fill();a.endAngle=a.startAngle+n.circumference%Lr}t.beginPath(),t.arc(a.x,a.y,a.outerRadius,a.startAngle,a.endAngle),t.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),t.closePath(),t.fill(),n.borderWidth&&ve(t,n,a),t.restore()}}),Ir=vr.valueOrDefault,jr=ir.global.defaultColor;ir._set("global",{elements:{line:{tension:.4,backgroundColor:jr,borderWidth:3,borderColor:jr,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Rr=xr.extend({_type:"line",draw:function(){var e,t,n,r=this,a=r._view,o=r._chart.ctx,i=a.spanGaps,l=r._children.slice(),s=ir.global,u=s.elements.line,c=-1,d=r._loop;if(l.length){if(r._loop){for(e=0;e<l.length;++e)if(t=vr.previousItem(l,e),!l[e]._view.skip&&t._view.skip){l=l.slice(e).concat(l.slice(0,e)),d=i;break}d&&l.push(l[0])}for(o.save(),o.lineCap=a.borderCapStyle||u.borderCapStyle,o.setLineDash&&o.setLineDash(a.borderDash||u.borderDash),o.lineDashOffset=Ir(a.borderDashOffset,u.borderDashOffset),o.lineJoin=a.borderJoinStyle||u.borderJoinStyle,o.lineWidth=Ir(a.borderWidth,u.borderWidth),o.strokeStyle=a.borderColor||s.defaultColor,o.beginPath(),n=l[0]._view,n.skip||(o.moveTo(n.x,n.y),c=0),e=1;e<l.length;++e)n=l[e]._view,t=-1===c?vr.previousItem(l,e):l[c],n.skip||(c!==e-1&&!i||-1===c?o.moveTo(n.x,n.y):vr.canvas.lineTo(o,t._view,n),c=e);d&&o.closePath(),o.stroke(),o.restore()}}}),Yr=vr.valueOrDefault,Ar=ir.global.defaultColor;ir._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Ar,borderColor:Ar,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Fr=xr.extend({_type:"point",inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:be,inXRange:be,inYRange:ye,getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,r=t.pointStyle,a=t.rotation,o=t.radius,i=t.x,l=t.y,s=ir.global,u=s.defaultColor;t.skip||(void 0===e||vr.canvas._isPointInArea(t,e))&&(n.strokeStyle=t.borderColor||u,n.lineWidth=Yr(t.borderWidth,s.elements.point.borderWidth),n.fillStyle=t.backgroundColor||u,vr.canvas.drawPoint(n,r,o,i,l,a))}}),Br=ir.global.defaultColor;ir._set("global",{elements:{rectangle:{backgroundColor:Br,borderColor:Br,borderSkipped:"bottom",borderWidth:0}}});var Zr=xr.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,t=this._view,n=Oe(t),r=n.outer,a=n.inner;e.fillStyle=t.backgroundColor,e.fillRect(r.x,r.y,r.w,r.h),r.w===a.w&&r.h===a.h||(e.save(),e.beginPath(),e.rect(r.x,r.y,r.w,r.h),e.clip(),e.fillStyle=t.borderColor,e.rect(a.x,a.y,a.w,a.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return Ce(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return Ee(n)?Ce(n,e,null):Ce(n,null,t)},inXRange:function(e){return Ce(this._view,e,null)},inYRange:function(e){return Ce(this._view,null,e)},getCenterPoint:function(){var e,t,n=this._view;return Ee(n)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return Ee(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),Hr={},Xr=Nr,Jr=Rr,Ur=Fr,Qr=Zr;Hr.Arc=Xr,Hr.Line=Jr,Hr.Point=Ur,Hr.Rectangle=Qr;var Wr=vr._deprecated,Gr=vr.valueOrDefault;ir._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),ir._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var zr=Tr.extend({dataElementType:Hr.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var e,t,n=this;Tr.prototype.initialize.apply(n,arguments),e=n.getMeta(),e.stack=n.getDataset().stack,e.bar=!0,t=n._getIndexScale().options,Wr("bar chart",t.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Wr("bar chart",t.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Wr("bar chart",t.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Wr("bar chart",n._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Wr("bar chart",t.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var t,n,r=this,a=r.getMeta().data;for(r._ruler=r.getRuler(),t=0,n=a.length;t<n;++t)r.updateElement(a[t],t,e)},updateElement:function(e,t,n){var r=this,a=r.getMeta(),o=r.getDataset(),i=r._resolveDataElementOptions(e,t);e._xScale=r.getScaleForId(a.xAxisID),e._yScale=r.getScaleForId(a.yAxisID),e._datasetIndex=r.index,e._index=t,e._model={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderSkipped:i.borderSkipped,borderWidth:i.borderWidth,datasetLabel:o.label,label:r.chart.data.labels[t]},vr.isArray(o.data[t])&&(e._model.borderSkipped=null),r._updateElementGeometry(e,t,n,i),e.pivot()},_updateElementGeometry:function(e,t,n,r){var a=this,o=e._model,i=a._getValueScale(),l=i.getBasePixel(),s=i.isHorizontal(),u=a._ruler||a.getRuler(),c=a.calculateBarValuePixels(a.index,t,r),d=a.calculateBarIndexPixels(a.index,t,u,r);o.horizontal=s,o.base=n?l:c.base,o.x=s?n?l:c.head:d.center,o.y=s?d.center:n?l:c.head,o.height=s?d.size:void 0,o.width=s?void 0:d.size},_getStacks:function(e){var t,n,r=this,a=r._getIndexScale(),o=a._getMatchingVisibleMetas(r._type),i=a.options.stacked,l=o.length,s=[];for(t=0;t<l&&(n=o[t],(!1===i||-1===s.indexOf(n.stack)||void 0===i&&void 0===n.stack)&&s.push(n.stack),n.index!==e);++t);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),r=void 0!==t?n.indexOf(t):-1;return-1===r?n.length-1:r},getRuler:function(){var e,t,n=this,r=n._getIndexScale(),a=[];for(e=0,t=n.getMeta().data.length;e<t;++e)a.push(r.getPixelForValue(null,e,n.index));return{pixels:a,start:r._startPixel,end:r._endPixel,stackCount:n.getStackCount(),scale:r}},calculateBarValuePixels:function(e,t,n){var r,a,o,i,l,s,u,c=this,d=c.chart,f=c._getValueScale(),p=f.isHorizontal(),m=d.data.datasets,h=f._getMatchingVisibleMetas(c._type),g=f._parseValue(m[e].data[t]),v=n.minBarLength,b=f.options.stacked,y=c.getMeta().stack,E=void 0===g.start?0:g.max>=0&&g.min>=0?g.min:g.max,w=void 0===g.start?g.end:g.max>=0&&g.min>=0?g.max-g.min:g.min-g.max,S=h.length;if(b||void 0===b&&void 0!==y)for(r=0;r<S&&(a=h[r],a.index!==e);++r)a.stack===y&&(u=f._parseValue(m[a.index].data[t]),o=void 0===u.start?u.end:u.min>=0&&u.max>=0?u.max:u.min,(g.min<0&&o<0||g.max>=0&&o>0)&&(E+=o));return i=f.getPixelForValue(E),l=f.getPixelForValue(E+w),s=l-i,void 0!==v&&Math.abs(s)<v&&(s=v,l=w>=0&&!p||w<0&&p?i-v:i+v),{size:s,base:i,head:l,center:l+s/2}},calculateBarIndexPixels:function(e,t,n,r){var a=this,o="flex"===r.barThickness?De(t,n,r):ke(t,n,r),i=a.getStackIndex(e,a.getMeta().stack),l=o.start+o.chunk*i+o.chunk/2,s=Math.min(Gr(r.maxBarThickness,1/0),o.chunk*o.ratio);return{base:l-s/2,head:l+s/2,center:l,size:s}},draw:function(){var e=this,t=e.chart,n=e._getValueScale(),r=e.getMeta().data,a=e.getDataset(),o=r.length,i=0;for(vr.canvas.clipArea(t.ctx,t.chartArea);i<o;++i){var l=n._parseValue(a.data[i]);isNaN(l.min)||isNaN(l.max)||r[i].draw()}vr.canvas.unclipArea(t.ctx)},_resolveDataElementOptions:function(){var e=this,t=vr.extend({},Tr.prototype._resolveDataElementOptions.apply(e,arguments)),n=e._getIndexScale().options,r=e._getValueScale().options;return t.barPercentage=Gr(n.barPercentage,t.barPercentage),t.barThickness=Gr(n.barThickness,t.barThickness),t.categoryPercentage=Gr(n.categoryPercentage,t.categoryPercentage),t.maxBarThickness=Gr(n.maxBarThickness,t.maxBarThickness),t.minBarLength=Gr(r.minBarLength,t.minBarLength),t}}),Kr=vr.valueOrDefault,Vr=vr.options.resolve;ir._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",r=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+r.r+")"}}}});var qr=Tr.extend({dataElementType:Hr.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var t=this,n=t.getMeta(),r=n.data;vr.each(r,function(n,r){t.updateElement(n,r,e)})},updateElement:function(e,t,n){var r=this,a=r.getMeta(),o=e.custom||{},i=r.getScaleForId(a.xAxisID),l=r.getScaleForId(a.yAxisID),s=r._resolveDataElementOptions(e,t),u=r.getDataset().data[t],c=r.index,d=n?i.getPixelForDecimal(.5):i.getPixelForValue("object"===typeof u?u:NaN,t,c),f=n?l.getBasePixel():l.getPixelForValue(u,t,c);e._xScale=i,e._yScale=l,e._options=s,e._datasetIndex=c,e._index=t,e._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,hitRadius:s.hitRadius,pointStyle:s.pointStyle,rotation:s.rotation,radius:n?0:s.radius,skip:o.skip||isNaN(d)||isNaN(f),x:d,y:f},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,r=vr.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Kr(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=Kr(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=Kr(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(e,t){var n=this,r=n.chart,a=n.getDataset(),o=e.custom||{},i=a.data[t]||{},l=Tr.prototype._resolveDataElementOptions.apply(n,arguments),s={chart:r,dataIndex:t,dataset:a,datasetIndex:n.index};return n._cachedDataOpts===l&&(l=vr.extend({},l)),l.radius=Vr([o.radius,i.r,n._config.radius,r.options.elements.point.radius],s,t),l}}),$r=vr.valueOrDefault,ea=Math.PI,ta=2*ea,na=ea/2;ir._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t,n,r,a,o=document.createElement("ul"),i=e.data,l=i.datasets,s=i.labels;if(o.setAttribute("class",e.id+"-legend"),l.length)for(t=0,n=l[0].data.length;t<n;++t)r=o.appendChild(document.createElement("li")),a=r.appendChild(document.createElement("span")),a.style.backgroundColor=l[0].backgroundColor[t],s[t]&&r.appendChild(document.createTextNode(s[t]));return o.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,r){var a=e.getDatasetMeta(0),o=a.controller.getStyle(r);return{text:n,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:isNaN(t.datasets[0].data[r])||a.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,r,a,o=t.index,i=this.chart;for(n=0,r=(i.data.datasets||[]).length;n<r;++n)a=i.getDatasetMeta(n),a.data[o]&&(a.data[o].hidden=!a.data[o].hidden);i.update()}},cutoutPercentage:50,rotation:-na,circumference:ta,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],r=": "+t.datasets[e.datasetIndex].data[e.index];return vr.isArray(n)?(n=n.slice(),n[0]+=r):n+=r,n}}}});var ra=Tr.extend({dataElementType:Hr.Arc,linkScales:vr.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t,n,r,a,o=this,i=o.chart,l=i.chartArea,s=i.options,u=1,c=1,d=0,f=0,p=o.getMeta(),m=p.data,h=s.cutoutPercentage/100||0,g=s.circumference,v=o._getRingWeight(o.index);if(g<ta){var b=s.rotation%ta;b+=b>=ea?-ta:b<-ea?ta:0;var y=b+g,E=Math.cos(b),w=Math.sin(b),S=Math.cos(y),_=Math.sin(y),x=b<=0&&y>=0||y>=ta,O=b<=na&&y>=na||y>=ta+na,C=b===-ea||y>=ea,P=b<=-na&&y>=-na||y>=ea+na,k=C?-1:Math.min(E,E*h,S,S*h),D=P?-1:Math.min(w,w*h,_,_*h),M=x?1:Math.max(E,E*h,S,S*h),T=O?1:Math.max(w,w*h,_,_*h);u=(M-k)/2,c=(T-D)/2,d=-(M+k)/2,f=-(T+D)/2}for(r=0,a=m.length;r<a;++r)m[r]._options=o._resolveDataElementOptions(m[r],r);for(i.borderWidth=o.getMaxBorderWidth(),t=(l.right-l.left-i.borderWidth)/u,n=(l.bottom-l.top-i.borderWidth)/c,i.outerRadius=Math.max(Math.min(t,n)/2,0),i.innerRadius=Math.max(i.outerRadius*h,0),i.radiusLength=(i.outerRadius-i.innerRadius)/(o._getVisibleDatasetWeightTotal()||1),i.offsetX=d*i.outerRadius,i.offsetY=f*i.outerRadius,p.total=o.calculateTotal(),o.outerRadius=i.outerRadius-i.radiusLength*o._getRingWeightOffset(o.index),o.innerRadius=Math.max(o.outerRadius-i.radiusLength*v,0),r=0,a=m.length;r<a;++r)o.updateElement(m[r],r,e)},updateElement:function(e,t,n){var r=this,a=r.chart,o=a.chartArea,i=a.options,l=i.animation,s=(o.left+o.right)/2,u=(o.top+o.bottom)/2,c=i.rotation,d=i.rotation,f=r.getDataset(),p=n&&l.animateRotate?0:e.hidden?0:r.calculateCircumference(f.data[t])*(i.circumference/ta),m=n&&l.animateScale?0:r.innerRadius,h=n&&l.animateScale?0:r.outerRadius,g=e._options||{};vr.extend(e,{_datasetIndex:r.index,_index:t,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:s+a.offsetX,y:u+a.offsetY,startAngle:c,endAngle:d,circumference:p,outerRadius:h,innerRadius:m,label:vr.valueAtIndexOrDefault(f.label,t,a.data.labels[t])}});var v=e._model;n&&l.animateRotate||(v.startAngle=0===t?i.rotation:r.getMeta().data[t-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),e.pivot()},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),r=0;return vr.each(n.data,function(n,a){e=t.data[a],isNaN(e)||n.hidden||(r+=Math.abs(e))}),r},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?ta*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var t,n,r,a,o,i,l,s,u=this,c=0,d=u.chart;if(!e)for(t=0,n=d.data.datasets.length;t<n;++t)if(d.isDatasetVisible(t)){r=d.getDatasetMeta(t),e=r.data,t!==u.index&&(o=r.controller);break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)a=e[t],o?(o._configure(),i=o._resolveDataElementOptions(a,t)):i=a._options,"inner"!==i.borderAlign&&(l=i.borderWidth,s=i.hoverBorderWidth,c=l>c?l:c,c=s>c?s:c);return c},setHoverStyle:function(e){var t=e._model,n=e._options,r=vr.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=$r(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=$r(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=$r(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t},_getRingWeight:function(e){return Math.max($r(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});ir._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),ir._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var aa=zr.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),oa=vr.valueOrDefault,ia=vr.options.resolve,la=vr.canvas._isPointInArea;ir._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var sa=Tr.extend({datasetElementType:Hr.Line,dataElementType:Hr.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var t,n,r=this,a=r.getMeta(),o=a.dataset,i=a.data||[],l=r.chart.options,s=r._config,u=r._showLine=oa(s.showLine,l.showLines);for(r._xScale=r.getScaleForId(a.xAxisID),r._yScale=r.getScaleForId(a.yAxisID),u&&(void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),o._scale=r._yScale,o._datasetIndex=r.index,o._children=i,o._model=r._resolveDatasetElementOptions(o),o.pivot()),t=0,n=i.length;t<n;++t)r.updateElement(i[t],t,e);for(u&&0!==o._model.tension&&r.updateBezierControlPoints(),t=0,n=i.length;t<n;++t)i[t].pivot()},updateElement:function(e,t,n){var r,a,o=this,i=o.getMeta(),l=e.custom||{},s=o.getDataset(),u=o.index,c=s.data[t],d=o._xScale,f=o._yScale,p=i.dataset._model,m=o._resolveDataElementOptions(e,t);r=d.getPixelForValue("object"===typeof c?c:NaN,t,u),a=n?f.getBasePixel():o.calculatePointY(c,t,u),e._xScale=d,e._yScale=f,e._options=m,e._datasetIndex=u,e._index=t,e._model={x:r,y:a,skip:l.skip||isNaN(r)||isNaN(a),radius:m.radius,pointStyle:m.pointStyle,rotation:m.rotation,backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,tension:oa(l.tension,p?p.tension:0),steppedLine:!!p&&p.steppedLine,hitRadius:m.hitRadius}},_resolveDatasetElementOptions:function(e){var t=this,n=t._config,r=e.custom||{},a=t.chart.options,o=a.elements.line,i=Tr.prototype._resolveDatasetElementOptions.apply(t,arguments);return i.spanGaps=oa(n.spanGaps,a.spanGaps),i.tension=oa(n.lineTension,o.tension),i.steppedLine=ia([r.steppedLine,n.steppedLine,o.stepped]),i},calculatePointY:function(e,t,n){var r,a,o,i,l=this,s=l.chart,u=l._yScale,c=0,d=0,f=+u.getRightValue(e),p=s._getSortedVisibleDatasetMetas(),m=p.length;if(u.options.stacked){for(r=0;r<m&&(o=p[r],o.index!==n);++r)a=s.data.datasets[o.index],"line"===o.type&&o.yAxisID===u.id&&(i=+u.getRightValue(a.data[t]),i<0?d+=i||0:c+=i||0);return f<0?u.getPixelForValue(d+f):u.getPixelForValue(c+f)}return u.getPixelForValue(e)},updateBezierControlPoints:function(){function e(e,t,n){return Math.max(Math.min(e,n),t)}var t,n,r,a,o=this,i=o.chart,l=o.getMeta(),s=l.dataset._model,u=i.chartArea,c=l.data||[];if(s.spanGaps&&(c=c.filter(function(e){return!e._model.skip})),"monotone"===s.cubicInterpolationMode)vr.splineCurveMonotone(c);else for(t=0,n=c.length;t<n;++t)r=c[t]._model,a=vr.splineCurve(vr.previousItem(c,t)._model,r,vr.nextItem(c,t)._model,s.tension),r.controlPointPreviousX=a.previous.x,r.controlPointPreviousY=a.previous.y,r.controlPointNextX=a.next.x,r.controlPointNextY=a.next.y;if(i.options.elements.line.capBezierPoints)for(t=0,n=c.length;t<n;++t)r=c[t]._model,la(r,u)&&(t>0&&la(c[t-1]._model,u)&&(r.controlPointPreviousX=e(r.controlPointPreviousX,u.left,u.right),r.controlPointPreviousY=e(r.controlPointPreviousY,u.top,u.bottom)),t<c.length-1&&la(c[t+1]._model,u)&&(r.controlPointNextX=e(r.controlPointNextX,u.left,u.right),r.controlPointNextY=e(r.controlPointNextY,u.top,u.bottom)))},draw:function(){var e,t=this,n=t.chart,r=t.getMeta(),a=r.data||[],o=n.chartArea,i=0,l=a.length;for(t._showLine&&(e=(r.dataset._model.borderWidth||0)/2,vr.canvas.clipArea(n.ctx,{left:o.left-e,right:o.right+e,top:o.top-e,bottom:o.bottom+e}),r.dataset.draw(),vr.canvas.unclipArea(n.ctx));i<l;++i)a[i].draw(o)},setHoverStyle:function(e){var t=e._model,n=e._options,r=vr.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=oa(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=oa(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=oa(n.hoverBorderWidth,n.borderWidth),t.radius=oa(n.hoverRadius,n.radius)}}),ua=vr.options.resolve;ir._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t,n,r,a,o=document.createElement("ul"),i=e.data,l=i.datasets,s=i.labels;if(o.setAttribute("class",e.id+"-legend"),l.length)for(t=0,n=l[0].data.length;t<n;++t)r=o.appendChild(document.createElement("li")),a=r.appendChild(document.createElement("span")),a.style.backgroundColor=l[0].backgroundColor[t],s[t]&&r.appendChild(document.createTextNode(s[t]));return o.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,r){var a=e.getDatasetMeta(0),o=a.controller.getStyle(r);return{text:n,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:isNaN(t.datasets[0].data[r])||a.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,r,a,o=t.index,i=this.chart;for(n=0,r=(i.data.datasets||[]).length;n<r;++n)a=i.getDatasetMeta(n),a.data[o].hidden=!a.data[o].hidden;i.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}});var ca=Tr.extend({dataElementType:Hr.Arc,linkScales:vr.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,r,a=this,o=a.getDataset(),i=a.getMeta(),l=a.chart.options.startAngle||0,s=a._starts=[],u=a._angles=[],c=i.data;for(a._updateRadius(),i.count=a.countVisibleElements(),t=0,n=o.data.length;t<n;t++)s[t]=l,r=a._computeAngle(t),u[t]=r,l+=r;for(t=0,n=c.length;t<n;++t)c[t]._options=a._resolveDataElementOptions(c[t],t),a.updateElement(c[t],t,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,r=t.options,a=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(a/2,0),t.innerRadius=Math.max(r.cutoutPercentage?t.outerRadius/100*r.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var r=this,a=r.chart,o=r.getDataset(),i=a.options,l=i.animation,s=a.scale,u=a.data.labels,c=s.xCenter,d=s.yCenter,f=i.startAngle,p=e.hidden?0:s.getDistanceFromCenterForValue(o.data[t]),m=r._starts[t],h=m+(e.hidden?0:r._angles[t]),g=l.animateScale?0:s.getDistanceFromCenterForValue(o.data[t]),v=e._options||{};vr.extend(e,{_datasetIndex:r.index,_index:t,_scale:s,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:c,y:d,innerRadius:0,outerRadius:n?g:p,startAngle:n&&l.animateRotate?f:m,endAngle:n&&l.animateRotate?f:h,label:vr.valueAtIndexOrDefault(u,t,u[t])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return vr.each(t.data,function(t,r){isNaN(e.data[r])||t.hidden||n++}),n},setHoverStyle:function(e){var t=e._model,n=e._options,r=vr.getHoverColor,a=vr.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=a(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=a(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=a(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(e){var t=this,n=this.getMeta().count,r=t.getDataset(),a=t.getMeta();if(isNaN(r.data[e])||a.data[e].hidden)return 0;var o={chart:t.chart,dataIndex:e,dataset:r,datasetIndex:t.index};return ua([t.chart.options.elements.arc.angle,2*Math.PI/n],o,e)}});ir._set("pie",vr.clone(ir.doughnut)),ir._set("pie",{cutoutPercentage:0});var da=ra,fa=vr.valueOrDefault;ir._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{tension:0}}});var pa=Tr.extend({datasetElementType:Hr.Line,dataElementType:Hr.Point,linkScales:vr.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,r=this,a=r.getMeta(),o=a.dataset,i=a.data||[],l=r.chart.scale,s=r._config;for(void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),o._scale=l,o._datasetIndex=r.index,o._children=i,o._loop=!0,o._model=r._resolveDatasetElementOptions(o),o.pivot(),t=0,n=i.length;t<n;++t)r.updateElement(i[t],t,e);for(r.updateBezierControlPoints(),t=0,n=i.length;t<n;++t)i[t].pivot()},updateElement:function(e,t,n){var r=this,a=e.custom||{},o=r.getDataset(),i=r.chart.scale,l=i.getPointPositionForValue(t,o.data[t]),s=r._resolveDataElementOptions(e,t),u=r.getMeta().dataset._model,c=n?i.xCenter:l.x,d=n?i.yCenter:l.y;e._scale=i,e._options=s,e._datasetIndex=r.index,e._index=t,e._model={x:c,y:d,skip:a.skip||isNaN(c)||isNaN(d),radius:s.radius,pointStyle:s.pointStyle,rotation:s.rotation,backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,tension:fa(a.tension,u?u.tension:0),hitRadius:s.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,t=e._config,n=e.chart.options,r=Tr.prototype._resolveDatasetElementOptions.apply(e,arguments);return r.spanGaps=fa(t.spanGaps,n.spanGaps),r.tension=fa(t.lineTension,n.elements.line.tension),r},updateBezierControlPoints:function(){function e(e,t,n){return Math.max(Math.min(e,n),t)}var t,n,r,a,o=this,i=o.getMeta(),l=o.chart.chartArea,s=i.data||[];for(i.dataset._model.spanGaps&&(s=s.filter(function(e){return!e._model.skip})),t=0,n=s.length;t<n;++t)r=s[t]._model,a=vr.splineCurve(vr.previousItem(s,t,!0)._model,r,vr.nextItem(s,t,!0)._model,r.tension),r.controlPointPreviousX=e(a.previous.x,l.left,l.right),r.controlPointPreviousY=e(a.previous.y,l.top,l.bottom),r.controlPointNextX=e(a.next.x,l.left,l.right),r.controlPointNextY=e(a.next.y,l.top,l.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,r=vr.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=fa(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=fa(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=fa(n.hoverBorderWidth,n.borderWidth),t.radius=fa(n.hoverRadius,n.radius)}});ir._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),ir._set("global",{datasets:{scatter:{showLine:!1}}});var ma=sa,ha={bar:zr,bubble:qr,doughnut:ra,horizontalBar:aa,line:sa,polarArea:ca,pie:da,radar:pa,scatter:ma},ga={modes:{single:function(e,t){var n=Me(t,e),r=[];return Te(e,function(e){if(e.inRange(n.x,n.y))return r.push(e),r}),r.slice(0,1)},label:je,index:je,dataset:function(e,t,n){var r=Me(t,e);n.axis=n.axis||"xy";var a=Ie(n.axis),o=n.intersect?Le(e,r):Ne(e,r,!1,a);return o.length>0&&(o=e.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(e,t){return je(e,t,{intersect:!1})},point:function(e,t){return Le(e,Me(t,e))},nearest:function(e,t,n){var r=Me(t,e);n.axis=n.axis||"xy";var a=Ie(n.axis);return Ne(e,r,n.intersect,a)},x:function(e,t,n){var r=Me(t,e),a=[],o=!1;return Te(e,function(e){e.inXRange(r.x)&&a.push(e),e.inRange(r.x,r.y)&&(o=!0)}),n.intersect&&!o&&(a=[]),a},y:function(e,t,n){var r=Me(t,e),a=[],o=!1;return Te(e,function(e){e.inYRange(r.y)&&a.push(e),e.inRange(r.x,r.y)&&(o=!0)}),n.intersect&&!o&&(a=[]),a}}},va=vr.extend;ir._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var ba={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var r,a=["fullWidth","position","weight"],o=a.length,i=0;i<o;++i)r=a[i],n.hasOwnProperty(r)&&(t[r]=n[r])},update:function(e,t,n){if(e){var r=e.options.layout||{},a=vr.options.toPadding(r.padding),o=t-a.width,i=n-a.height,l=Be(e.boxes),s=l.vertical,u=l.horizontal,c=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:o,vBoxMaxWidth:o/2/s.length,hBoxMaxHeight:i/2}),d=va({maxPadding:va({},a),w:o,h:i,x:a.left,y:a.top},a);Fe(s.concat(u),c),Ue(s,d,c),Ue(u,d,c)&&Ue(s,d,c),Xe(d),Qe(l.leftAndTop,d,c),d.x+=d.w,d.y+=d.h,Qe(l.rightAndBottom,d,c),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h},vr.each(l.chartArea,function(t){var n=t.box;va(n,e.chartArea),n.update(d.w,d.h)})}}},ya={acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},Ea=Object.freeze({default:"/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n"}),wa=function(e){return e&&e.default||e}(Ea),Sa="$chartjs",_a="chartjs-size-monitor",xa="chartjs-render-monitor",Oa="chartjs-render-animation",Ca=["animationstart","webkitAnimationStart"],Pa={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ka=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}(),Da=!!ka&&{passive:!0},Ma={disableCSSInjection:!1,_enabled:"undefined"!==typeof window&&"undefined"!==typeof document,_ensureLoaded:function(e){if(!this.disableCSSInjection){var t=e.getRootNode();it(t.host?t:document.head,wa)}},acquireContext:function(e,t){"string"===typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(this._ensureLoaded(e),Ge(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[Sa]){var n=t[Sa].initial;["height","width"].forEach(function(e){var r=n[e];vr.isNullOrUndef(r)?t.removeAttribute(e):t.setAttribute(e,r)}),vr.each(n.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t[Sa]}},addEventListener:function(e,t,n){var r=e.canvas;if("resize"===t)return void at(r,n,e);var a=n[Sa]||(n[Sa]={});ze(r,t,(a.proxies||(a.proxies={}))[e.id+"_"+t]=function(t){n(qe(t,e))})},removeEventListener:function(e,t,n){var r=e.canvas;if("resize"===t)return void ot(r);var a=n[Sa]||{},o=a.proxies||{},i=o[e.id+"_"+t];i&&Ke(r,t,i)}};vr.addEvent=ze,vr.removeEvent=Ke;var Ta=Ma._enabled?Ma:ya,La=vr.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Ta);ir._set("global",{plugins:{}});var Na={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var r,a,o,i,l,s=this.descriptors(e),u=s.length;for(r=0;r<u;++r)if(a=s[r],o=a.plugin,"function"===typeof(l=o[t])&&(i=[e].concat(n||[]),i.push(a.options),!1===l.apply(o,i)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],r=[],a=e&&e.config||{},o=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(e){if(-1===n.indexOf(e)){var t=e.id,a=o[t];!1!==a&&(!0===a&&(a=vr.clone(ir.global.plugins[t])),n.push(e),r.push({plugin:e,options:a||{}}))}}),t.descriptors=r,t.id=this._cacheId,r},_invalidate:function(e){delete e.$plugins}},Ia={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=vr.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?vr.merge({},[ir.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){var n=this;n.defaults.hasOwnProperty(e)&&(n.defaults[e]=vr.extend(n.defaults[e],t))},addScalesToLayout:function(e){vr.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,ba.addBox(e,t)})}},ja=vr.valueOrDefault,Ra=vr.rtl.getRtlAdapter;ir._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:vr.noop,title:function(e,t){var n="",r=t.labels,a=r?r.length:0;if(e.length>0){var o=e[0];o.label?n=o.label:o.xLabel?n=o.xLabel:a>0&&o.index<a&&(n=r[o.index])}return n},afterTitle:vr.noop,beforeBody:vr.noop,beforeLabel:vr.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),vr.isNullOrUndef(e.value)?n+=e.yLabel:n+=e.value,n},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex),r=n.data[e.index],a=r._view;return{borderColor:a.borderColor,backgroundColor:a.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:vr.noop,afterBody:vr.noop,beforeFooter:vr.noop,footer:vr.noop,afterFooter:vr.noop}}});var Ya={average:function(e){if(!e.length)return!1;var t,n,r=0,a=0,o=0;for(t=0,n=e.length;t<n;++t){var i=e[t];if(i&&i.hasValue()){var l=i.tooltipPosition();r+=l.x,a+=l.y,++o}}return{x:r/o,y:a/o}},nearest:function(e,t){var n,r,a,o=t.x,i=t.y,l=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var s=e[n];if(s&&s.hasValue()){var u=s.getCenterPoint(),c=vr.distanceBetweenPoints(t,u);c<l&&(l=c,a=s)}}if(a){var d=a.tooltipPosition();o=d.x,i=d.y}return{x:o,y:i}}},Aa=xr.extend({initialize:function(){this._model=ct(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options,n=t.callbacks,r=n.beforeTitle.apply(e,arguments),a=n.title.apply(e,arguments),o=n.afterTitle.apply(e,arguments),i=[];return i=lt(i,st(r)),i=lt(i,st(a)),i=lt(i,st(o))},getBeforeBody:function(){return ht(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var n=this,r=n._options.callbacks,a=[];return vr.each(e,function(e){var o={before:[],lines:[],after:[]};lt(o.before,st(r.beforeLabel.call(n,e,t))),lt(o.lines,r.label.call(n,e,t)),lt(o.after,st(r.afterLabel.call(n,e,t))),a.push(o)}),a},getAfterBody:function(){return ht(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,t=e._options.callbacks,n=t.beforeFooter.apply(e,arguments),r=t.footer.apply(e,arguments),a=t.afterFooter.apply(e,arguments),o=[];return o=lt(o,st(n)),o=lt(o,st(r)),o=lt(o,st(a))},update:function(e){var t,n,r=this,a=r._options,o=r._model,i=r._model=ct(a),l=r._active,s=r._data,u={xAlign:o.xAlign,yAlign:o.yAlign},c={x:o.x,y:o.y},d={width:o.width,height:o.height},f={x:o.caretX,y:o.caretY};if(l.length){i.opacity=1;var p=[],m=[];f=Ya[a.position].call(r,l,r._eventPosition);var h=[];for(t=0,n=l.length;t<n;++t)h.push(ut(l[t]));a.filter&&(h=h.filter(function(e){return a.filter(e,s)})),a.itemSort&&(h=h.sort(function(e,t){return a.itemSort(e,t,s)})),vr.each(h,function(e){p.push(a.callbacks.labelColor.call(r,e,r._chart)),m.push(a.callbacks.labelTextColor.call(r,e,r._chart))}),i.title=r.getTitle(h,s),i.beforeBody=r.getBeforeBody(h,s),i.body=r.getBody(h,s),i.afterBody=r.getAfterBody(h,s),i.footer=r.getFooter(h,s),i.x=f.x,i.y=f.y,i.caretPadding=a.caretPadding,i.labelColors=p,i.labelTextColors=m,i.dataPoints=h,d=dt(this,i),u=ft(this,d),c=pt(i,d,u,r._chart)}else i.opacity=0;return i.xAlign=u.xAlign,i.yAlign=u.yAlign,i.x=c.x,i.y=c.y,i.width=d.width,i.height=d.height,i.caretX=f.x,i.caretY=f.y,r._model=i,e&&a.custom&&a.custom.call(r,i),r},drawCaret:function(e,t){var n=this._chart.ctx,r=this._view,a=this.getCaretPosition(e,t,r);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)},getCaretPosition:function(e,t,n){var r,a,o,i,l,s,u=n.caretSize,c=n.cornerRadius,d=n.xAlign,f=n.yAlign,p=e.x,m=e.y,h=t.width,g=t.height;if("center"===f)l=m+g/2,"left"===d?(r=p,a=r-u,o=r,i=l+u,s=l-u):(r=p+h,a=r+u,o=r,i=l-u,s=l+u);else if("left"===d?(a=p+c+u,r=a-u,o=a+u):"right"===d?(a=p+h-c-u,r=a-u,o=a+u):(a=n.caretX,r=a-u,o=a+u),"top"===f)i=m,l=i-u,s=i;else{i=m+g,l=i+u,s=i;var v=o;o=r,r=v}return{x1:r,x2:a,x3:o,y1:i,y2:l,y3:s}},drawTitle:function(e,t,n){var r,a,o,i=t.title,l=i.length;if(l){var s=Ra(t.rtl,t.x,t.width);for(e.x=mt(t,t._titleAlign),n.textAlign=s.textAlign(t._titleAlign),n.textBaseline="middle",r=t.titleFontSize,a=t.titleSpacing,n.fillStyle=t.titleFontColor,n.font=vr.fontString(r,t._titleFontStyle,t._titleFontFamily),o=0;o<l;++o)n.fillText(i[o],s.x(e.x),e.y+r/2),e.y+=r+a,o+1===l&&(e.y+=t.titleMarginBottom-a)}},drawBody:function(e,t,n){var r,a,o,i,l,s,u,c,d=t.bodyFontSize,f=t.bodySpacing,p=t._bodyAlign,m=t.body,h=t.displayColors,g=0,v=h?mt(t,"left"):0,b=Ra(t.rtl,t.x,t.width),y=function(t){n.fillText(t,b.x(e.x+g),e.y+d/2),e.y+=d+f},E=b.textAlign(p);for(n.textAlign=p,n.textBaseline="middle",n.font=vr.fontString(d,t._bodyFontStyle,t._bodyFontFamily),e.x=mt(t,E),n.fillStyle=t.bodyFontColor,vr.each(t.beforeBody,y),g=h&&"right"!==E?"center"===p?d/2+1:d+2:0,l=0,u=m.length;l<u;++l){for(r=m[l],a=t.labelTextColors[l],o=t.labelColors[l],n.fillStyle=a,vr.each(r.before,y),i=r.lines,s=0,c=i.length;s<c;++s){if(h){var w=b.x(v);n.fillStyle=t.legendColorBackground,n.fillRect(b.leftForLtr(w,d),e.y,d,d),n.lineWidth=1,n.strokeStyle=o.borderColor,n.strokeRect(b.leftForLtr(w,d),e.y,d,d),n.fillStyle=o.backgroundColor,n.fillRect(b.leftForLtr(b.xPlus(w,1),d-2),e.y+1,d-2,d-2),n.fillStyle=a}y(i[s])}vr.each(r.after,y)}g=0,vr.each(t.afterBody,y),e.y-=f},drawFooter:function(e,t,n){var r,a,o=t.footer,i=o.length;if(i){var l=Ra(t.rtl,t.x,t.width);for(e.x=mt(t,t._footerAlign),e.y+=t.footerMarginTop,n.textAlign=l.textAlign(t._footerAlign),n.textBaseline="middle",r=t.footerFontSize,n.fillStyle=t.footerFontColor,n.font=vr.fontString(r,t._footerFontStyle,t._footerFontFamily),a=0;a<i;++a)n.fillText(o[a],l.x(e.x),e.y+r/2),e.y+=r+t.footerSpacing}},drawBackground:function(e,t,n,r){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var a=t.xAlign,o=t.yAlign,i=e.x,l=e.y,s=r.width,u=r.height,c=t.cornerRadius;n.beginPath(),n.moveTo(i+c,l),"top"===o&&this.drawCaret(e,r),n.lineTo(i+s-c,l),n.quadraticCurveTo(i+s,l,i+s,l+c),"center"===o&&"right"===a&&this.drawCaret(e,r),n.lineTo(i+s,l+u-c),n.quadraticCurveTo(i+s,l+u,i+s-c,l+u),"bottom"===o&&this.drawCaret(e,r),n.lineTo(i+c,l+u),n.quadraticCurveTo(i,l+u,i,l+u-c),"center"===o&&"left"===a&&this.drawCaret(e,r),n.lineTo(i,l+c),n.quadraticCurveTo(i,l,i+c,l),n.closePath(),n.fill(),t.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},r={x:t.x,y:t.y},a=Math.abs(t.opacity<.001)?0:t.opacity,o=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&o&&(e.save(),e.globalAlpha=a,this.drawBackground(r,t,e,n),r.y+=t.yPadding,vr.rtl.overrideTextDirection(e,t.textDirection),this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),vr.rtl.restoreTextDirection(e,t.textDirection),e.restore())}},handleEvent:function(e){var t=this,n=t._options,r=!1;return t._lastActive=t._lastActive||[],"mouseout"===e.type?t._active=[]:(t._active=t._chart.getElementsAtEventForMode(e,n.mode,n),n.reverse&&t._active.reverse()),r=!vr.arrayEquals(t._active,t._lastActive),r&&(t._lastActive=t._active,(n.enabled||n.custom)&&(t._eventPosition={x:e.x,y:e.y},t.update(!0),t.pivot())),r}}),Fa=Ya,Ba=Aa;Ba.positioners=Fa;var Za=vr.valueOrDefault;ir._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Ha=function(e,t){return this.construct(e,t),this};vr.extend(Ha.prototype,{construct:function(e,t){var n=this;t=bt(t);var r=La.acquireContext(e,t),a=r&&r.canvas,o=a&&a.height,i=a&&a.width;if(n.id=vr.uid(),n.ctx=r,n.canvas=a,n.config=t,n.width=i,n.height=o,n.aspectRatio=o?i/o:null,n.options=t.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,Ha.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(e){n.config.data=e}}),!r||!a)return void console.error("Failed to create chart: can't acquire context from the given item");n.initialize(),n.update()},initialize:function(){var e=this;return Na.notify(e,"beforeInit"),vr.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),Na.notify(e,"afterInit"),e},clear:function(){return vr.canvas.clear(this),this},stop:function(){return Pr.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,r=t.canvas,a=n.maintainAspectRatio&&t.aspectRatio||null,o=Math.max(0,Math.floor(vr.getMaximumWidth(r))),i=Math.max(0,Math.floor(a?o/a:vr.getMaximumHeight(r)));if((t.width!==o||t.height!==i)&&(r.width=t.width=o,r.height=t.height=i,r.style.width=o+"px",r.style.height=i+"px",vr.retinaScale(t,n.devicePixelRatio),!e)){var l={width:o,height:i};Na.notify(t,"resize",[l]),n.onResize&&n.onResize(t,l),t.stop(),t.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;vr.each(t.xAxes,function(e,n){e.id||(e.id=Et(t.xAxes,"x-axis-",n))}),vr.each(t.yAxes,function(e,n){e.id||(e.id=Et(t.yAxes,"y-axis-",n))}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var e=this,t=e.options,n=e.scales||{},r=[],a=Object.keys(n).reduce(function(e,t){return e[t]=!1,e},{});t.scales&&(r=r.concat((t.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category",dposition:"bottom"}}),(t.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear",dposition:"left"}}))),t.scale&&r.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),vr.each(r,function(t){var r=t.options,o=r.id,i=Za(r.type,t.dtype);wt(r.position)!==wt(t.dposition)&&(r.position=t.dposition),a[o]=!0;var l=null;if(o in n&&n[o].type===i)l=n[o],l.options=r,l.ctx=e.ctx,l.chart=e;else{var s=Ia.getScaleConstructor(i);if(!s)return;l=new s({id:o,type:i,options:r,ctx:e.ctx,chart:e}),n[l.id]=l}l.mergeTicksOptions(),t.isDefault&&(e.scale=l)}),vr.each(a,function(e,t){e||delete n[t]}),e.scales=n,Ia.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e,t,n=this,r=[],a=n.data.datasets;for(e=0,t=a.length;e<t;e++){var o=a[e],i=n.getDatasetMeta(e),l=o.type||n.config.type;if(i.type&&i.type!==l&&(n.destroyDatasetMeta(e),i=n.getDatasetMeta(e)),i.type=l,i.order=o.order||0,i.index=e,i.controller)i.controller.updateIndex(e),i.controller.linkScales();else{var s=ha[i.type];if(void 0===s)throw new Error('"'+i.type+'" is not a chart type.');i.controller=new s(n,e),r.push(i.controller)}}return r},resetElements:function(){var e=this;vr.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t,n,r=this;if(e&&"object"===typeof e||(e={duration:e,lazy:arguments[1]}),yt(r),Na._invalidate(r),!1!==Na.notify(r,"beforeUpdate")){r.tooltip._data=r.data;var a=r.buildOrUpdateControllers();for(t=0,n=r.data.datasets.length;t<n;t++)r.getDatasetMeta(t).controller.buildOrUpdateElements();r.updateLayout(),r.options.animation&&r.options.animation.duration&&vr.each(a,function(e){e.reset()}),r.updateDatasets(),r.tooltip.initialize(),r.lastActive=[],Na.notify(r,"afterUpdate"),r._layers.sort(St("z","_idx")),r._bufferedRender?r._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:r.render(e)}},updateLayout:function(){var e=this;!1!==Na.notify(e,"beforeLayout")&&(ba.update(this,this.width,this.height),e._layers=[],vr.each(e.boxes,function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers())},e),e._layers.forEach(function(e,t){e._idx=t}),Na.notify(e,"afterScaleUpdate"),Na.notify(e,"afterLayout"))},updateDatasets:function(){var e=this;if(!1!==Na.notify(e,"beforeDatasetsUpdate")){for(var t=0,n=e.data.datasets.length;t<n;++t)e.updateDataset(t);Na.notify(e,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this,n=t.getDatasetMeta(e),r={meta:n,index:e};!1!==Na.notify(t,"beforeDatasetUpdate",[r])&&(n.controller._update(),Na.notify(t,"afterDatasetUpdate",[r]))},render:function(e){var t=this;e&&"object"===typeof e||(e={duration:e,lazy:arguments[1]});var n=t.options.animation,r=Za(e.duration,n&&n.duration),a=e.lazy;if(!1!==Na.notify(t,"beforeRender")){var o=function(e){Na.notify(t,"afterRender"),vr.callback(n&&n.onComplete,[e],t)};if(n&&r){var i=new Cr({numSteps:r/16.66,easing:e.easing||n.easing,render:function(e,t){var n=vr.easing.effects[t.easing],r=t.currentStep,a=r/t.numSteps;e.draw(n(a),a,r)},onAnimationProgress:n.onProgress,onAnimationComplete:o});Pr.addAnimation(t,i,r,a)}else t.draw(),o(new Cr({numSteps:0,chart:t}));return t}},draw:function(e){var t,n,r=this;if(r.clear(),vr.isNullOrUndef(e)&&(e=1),r.transition(e),!(r.width<=0||r.height<=0)&&!1!==Na.notify(r,"beforeDraw",[e])){for(n=r._layers,t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(r.chartArea);for(r.drawDatasets(e);t<n.length;++t)n[t].draw(r.chartArea);r._drawTooltip(e),Na.notify(r,"afterDraw",[e])}},transition:function(e){for(var t=this,n=0,r=(t.data.datasets||[]).length;n<r;++n)t.isDatasetVisible(n)&&t.getDatasetMeta(n).controller.transition(e);t.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var t,n,r=this,a=r.data.datasets||[],o=[];for(t=0,n=a.length;t<n;++t)e&&!r.isDatasetVisible(t)||o.push(r.getDatasetMeta(t));return o.sort(St("order","index")),o},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var t,n,r=this;if(!1!==Na.notify(r,"beforeDatasetsDraw",[e])){for(t=r._getSortedVisibleDatasetMetas(),n=t.length-1;n>=0;--n)r.drawDataset(t[n],e);Na.notify(r,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n=this,r={meta:e,index:e.index,easingValue:t};!1!==Na.notify(n,"beforeDatasetDraw",[r])&&(e.controller.draw(t),Na.notify(n,"afterDatasetDraw",[r]))},_drawTooltip:function(e){var t=this,n=t.tooltip,r={tooltip:n,easingValue:e};!1!==Na.notify(t,"beforeTooltipDraw",[r])&&(n.draw(),Na.notify(t,"afterTooltipDraw",[r]))},getElementAtEvent:function(e){return ga.modes.single(this,e)},getElementsAtEvent:function(e){return ga.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return ga.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var r=ga.modes[t];return"function"===typeof r?r(this,e,n):[]},getDatasetAtEvent:function(e){return ga.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var r=n._meta[t.id];return r||(r=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n.order||0,index:e}),r},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"===typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],r=n._meta&&n._meta[t];r&&(r.controller.destroy(),delete n._meta[t])},destroy:function(){var e,t,n=this,r=n.canvas;for(n.stop(),e=0,t=n.data.datasets.length;e<t;++e)n.destroyDatasetMeta(e);r&&(n.unbindEvents(),vr.canvas.clear(n),La.releaseContext(n.ctx),n.canvas=null,n.ctx=null),Na.notify(n,"destroy"),delete Ha.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new Ba({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};vr.each(e.options.events,function(r){La.addEventListener(e,r,n),t[r]=n}),e.options.responsive&&(n=function(){e.resize()},La.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,vr.each(t,function(t,n){La.removeEventListener(e,n,t)}))},updateHoverStyle:function(e,t,n){var r,a,o,i=n?"set":"remove";for(a=0,o=e.length;a<o;++a)(r=e[a])&&this.getDatasetMeta(r._datasetIndex).controller[i+"HoverStyle"](r);"dataset"===t&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+i+"DatasetHoverStyle"]()},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==Na.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var r=t.handleEvent(e);n&&(r=n._start?n.handleEvent(e):r|n.handleEvent(e)),Na.notify(t,"afterEvent",[e]);var a=t._bufferedRequest;return a?t.render(a):r&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t=this,n=t.options||{},r=n.hover,a=!1;return t.lastActive=t.lastActive||[],"mouseout"===e.type?t.active=[]:t.active=t.getElementsAtEventForMode(e,r.mode,r),vr.callback(n.onHover||n.hover.onHover,[e.native,t.active],t),"mouseup"!==e.type&&"click"!==e.type||n.onClick&&n.onClick.call(t,e.native,t.active),t.lastActive.length&&t.updateHoverStyle(t.lastActive,r.mode,!1),t.active.length&&r.mode&&t.updateHoverStyle(t.active,r.mode,!0),a=!vr.arrayEquals(t.active,t.lastActive),t.lastActive=t.active,a}}),Ha.instances={};var Xa=Ha;Ha.Controller=Ha,Ha.types={},vr.configMerge=vt,vr.scaleMerge=gt;vr.extend(xt.prototype,{formats:_t,parse:_t,format:_t,add:_t,diff:_t,startOf:_t,endOf:_t,_create:function(e){return e}}),xt.override=function(e){vr.extend(xt.prototype,e)};var Ja=xt,Ua={_date:Ja},Qa={formatters:{values:function(e){return vr.isArray(e)?e:""+e},linear:function(e,t,n){var r=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(r)>1&&e!==Math.floor(e)&&(r=e-Math.floor(e));var a=vr.log10(Math.abs(r)),o="";if(0!==e){if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var i=vr.log10(Math.abs(e)),l=Math.floor(i)-Math.floor(a);l=Math.max(Math.min(l,20),0),o=e.toExponential(l)}else{var s=-1*Math.floor(a);s=Math.max(Math.min(s,20),0),o=e.toFixed(s)}}else o="0";return o},logarithmic:function(e,t,n){var r=e/Math.pow(10,Math.floor(vr.log10(e)));return 0===e?"0":1===r||2===r||5===r||0===t||t===n.length-1?e.toExponential():""}}},Wa=vr.isArray,Ga=vr.isNullOrUndef,za=vr.valueOrDefault,Ka=vr.valueAtIndexOrDefault;ir._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Qa.formatters.values,minor:{},major:{}}});var Va=xr.extend({zeroLineIndex:0,getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},mergeTicksOptions:function(){},beforeUpdate:function(){vr.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var r,a,o,i,l,s=this,u=s.options.ticks,c=u.sampleSize;if(s.beforeUpdate(),s.maxWidth=e,s.maxHeight=t,s.margins=vr.extend({left:0,right:0,top:0,bottom:0},n),s._ticks=null,s.ticks=null,s._labelSizes=null,s._maxLabelLines=0,s.longestLabelWidth=0,s.longestTextCache=s.longestTextCache||{},s._gridLineItems=null,s._labelItems=null,s.beforeSetDimensions(),s.setDimensions(),s.afterSetDimensions(),s.beforeDataLimits(),s.determineDataLimits(),s.afterDataLimits(),s.beforeBuildTicks(),i=s.buildTicks()||[],(!(i=s.afterBuildTicks(i)||i)||!i.length)&&s.ticks)for(i=[],r=0,a=s.ticks.length;r<a;++r)i.push({value:s.ticks[r],major:!1});return s._ticks=i,l=c<i.length,o=s._convertTicksToLabels(l?Ot(i,c):i),s._configure(),s.beforeCalculateTickRotation(),s.calculateTickRotation(),s.afterCalculateTickRotation(),s.beforeFit(),s.fit(),s.afterFit(),s._ticksToDraw=u.display&&(u.autoSkip||"auto"===u.source)?s._autoSkip(i):i,l&&(o=s._convertTicksToLabels(s._ticksToDraw)),s.ticks=o,s.afterUpdate(),s.minSize},_configure:function(){var e,t,n=this,r=n.options.ticks.reverse;n.isHorizontal()?(e=n.left,t=n.right):(e=n.top,t=n.bottom,r=!r),n._startPixel=e,n._endPixel=t,n._reversePixels=r,n._length=t-e},afterUpdate:function(){vr.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){vr.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){vr.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){vr.callback(this.options.beforeDataLimits,[this])},determineDataLimits:vr.noop,afterDataLimits:function(){vr.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){vr.callback(this.options.beforeBuildTicks,[this])},buildTicks:vr.noop,afterBuildTicks:function(e){var t=this;return Wa(e)&&e.length?vr.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=vr.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){vr.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,t=e.options.ticks;e.ticks=e.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){vr.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){vr.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e,t,n,r,a,o,i,l=this,s=l.options,u=s.ticks,c=l.getTicks().length,d=u.minRotation||0,f=u.maxRotation,p=d;if(!l._isVisible()||!u.display||d>=f||c<=1||!l.isHorizontal())return void(l.labelRotation=d);e=l._getLabelSizes(),t=e.widest.width,n=e.highest.height-e.highest.offset,r=Math.min(l.maxWidth,l.chart.width-t),a=s.offset?l.maxWidth/c:r/(c-1),t+6>a&&(a=r/(c-(s.offset?.5:1)),o=l.maxHeight-Dt(s.gridLines)-u.padding-Mt(s.scaleLabel),i=Math.sqrt(t*t+n*n),p=vr.toDegrees(Math.min(Math.asin(Math.min((e.highest.height+6)/a,1)),Math.asin(Math.min(o/i,1))-Math.asin(n/i))),p=Math.max(d,Math.min(f,p))),l.labelRotation=p},afterCalculateTickRotation:function(){vr.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){vr.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=e.chart,r=e.options,a=r.ticks,o=r.scaleLabel,i=r.gridLines,l=e._isVisible(),s="bottom"===r.position,u=e.isHorizontal();if(u?t.width=e.maxWidth:l&&(t.width=Dt(i)+Mt(o)),u?l&&(t.height=Dt(i)+Mt(o)):t.height=e.maxHeight,a.display&&l){var c=Lt(a),d=e._getLabelSizes(),f=d.first,p=d.last,m=d.widest,h=d.highest,g=.4*c.minor.lineHeight,v=a.padding;if(u){var b=0!==e.labelRotation,y=vr.toRadians(e.labelRotation),E=Math.cos(y),w=Math.sin(y),S=w*m.width+E*(h.height-(b?h.offset:0))+(b?0:g);t.height=Math.min(e.maxHeight,t.height+S+v);var _,x,O=e.getPixelForTick(0)-e.left,C=e.right-e.getPixelForTick(e.getTicks().length-1);b?(_=s?E*f.width+w*f.offset:w*(f.height-f.offset),x=s?w*(p.height-p.offset):E*p.width+w*p.offset):(_=f.width/2,x=p.width/2),e.paddingLeft=Math.max((_-O)*e.width/(e.width-O),0)+3,e.paddingRight=Math.max((x-C)*e.width/(e.width-C),0)+3}else{var P=a.mirror?0:m.width+v+g;t.width=Math.min(e.maxWidth,t.width+P),e.paddingTop=f.height/2,e.paddingBottom=p.height/2}}e.handleMargins(),u?(e.width=e._length=n.width-e.margins.left-e.margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){vr.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(Ga(e))return NaN;if(("number"===typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},_convertTicksToLabels:function(e){var t,n,r,a=this;for(a.ticks=e.map(function(e){return e.value}),a.beforeTickToLabelConversion(),t=a.convertTicksToLabels(e)||a.ticks,a.afterTickToLabelConversion(),n=0,r=e.length;n<r;++n)e[n].label=t[n];return t},_getLabelSizes:function(){var e=this,t=e._labelSizes;return t||(e._labelSizes=t=kt(e.ctx,Lt(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=t.widest.width),t},_parseValue:function(e){var t,n,r,a;return Wa(e)?(t=+this.getRightValue(e[0]),n=+this.getRightValue(e[1]),r=Math.min(t,n),a=Math.max(t,n)):(e=+this.getRightValue(e),t=void 0,n=e,r=e,a=e),{min:r,max:a,start:t,end:n}},_getScaleLabel:function(e){var t=this._parseValue(e);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(e)},getLabelForIndex:vr.noop,getPixelForValue:vr.noop,getValueForPixel:vr.noop,getPixelForTick:function(e){var t=this,n=t.options.offset,r=t._ticks.length,a=1/Math.max(r-(n?0:1),1);return e<0||e>r-1?null:t.getPixelForDecimal(e*a+(n?a/2:0))},getPixelForDecimal:function(e){var t=this;return t._reversePixels&&(e=1-e),t._startPixel+e*t._length},getDecimalForPixel:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,t=e.min,n=e.max;return e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0},_autoSkip:function(e){var t,n,r,a,o=this,i=o.options.ticks,l=o._length,s=i.maxTicksLimit||l/o._tickSize()+1,u=i.major.enabled?Rt(e):[],c=u.length,d=u[0],f=u[c-1];if(c>s)return Yt(e,u,c/s),Nt(e);if(r=jt(u,e,l,s),c>0){for(t=0,n=c-1;t<n;t++)At(e,r,u[t],u[t+1]);return a=c>1?(f-d)/(c-1):null,At(e,r,vr.isNullOrUndef(a)?0:d-a,d),At(e,r,f,vr.isNullOrUndef(a)?e.length:f+a),Nt(e)}return At(e,r),Nt(e)},_tickSize:function(){var e=this,t=e.options.ticks,n=vr.toRadians(e.labelRotation),r=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=e._getLabelSizes(),i=t.autoSkipPadding||0,l=o?o.widest.width+i:0,s=o?o.highest.height+i:0;return e.isHorizontal()?s*r>l*a?l/r:s/a:s*a<l*r?s/r:l/a},_isVisible:function(){var e,t,n,r=this,a=r.chart,o=r.options.display;if("auto"!==o)return!!o;for(e=0,t=a.data.datasets.length;e<t;++e)if(a.isDatasetVisible(e)&&(n=a.getDatasetMeta(e),n.xAxisID===r.id||n.yAxisID===r.id))return!0;return!1},_computeGridLineItems:function(e){var t,n,r,a,o,i,l,s,u,c,d,f,p,m,h,g,v,b=this,y=b.chart,E=b.options,w=E.gridLines,S=E.position,_=w.offsetGridLines,x=b.isHorizontal(),O=b._ticksToDraw,C=O.length+(_?1:0),P=Dt(w),k=[],D=w.drawBorder?Ka(w.lineWidth,0,0):0,M=D/2,T=vr._alignPixel,L=function(e){return T(y,e,D)};for("top"===S?(t=L(b.bottom),l=b.bottom-P,u=t-M,d=L(e.top)+M,p=e.bottom):"bottom"===S?(t=L(b.top),d=e.top,p=L(e.bottom)-M,l=t+M,u=b.top+P):"left"===S?(t=L(b.right),i=b.right-P,s=t-M,c=L(e.left)+M,f=e.right):(t=L(b.left),c=e.left,f=L(e.right)-M,i=t+M,s=b.left+P),n=0;n<C;++n)r=O[n]||{},Ga(r.label)&&n<O.length||(n===b.zeroLineIndex&&E.offset===_?(m=w.zeroLineWidth,h=w.zeroLineColor,g=w.zeroLineBorderDash||[],v=w.zeroLineBorderDashOffset||0):(m=Ka(w.lineWidth,n,1),h=Ka(w.color,n,"rgba(0,0,0,0.1)"),g=w.borderDash||[],v=w.borderDashOffset||0),void 0!==(a=Ct(b,r._index||n,_))&&(o=T(y,a,m),x?i=s=c=f=o:l=u=d=p=o,k.push({tx1:i,ty1:l,tx2:s,ty2:u,x1:c,y1:d,x2:f,y2:p,width:m,color:h,borderDash:g,borderDashOffset:v})));return k.ticksLength=C,k.borderValue=t,k},_computeLabelItems:function(){var e,t,n,r,a,o,i,l,s,u,c,d,f=this,p=f.options,m=p.ticks,h=p.position,g=m.mirror,v=f.isHorizontal(),b=f._ticksToDraw,y=Lt(m),E=m.padding,w=Dt(p.gridLines),S=-vr.toRadians(f.labelRotation),_=[];for("top"===h?(o=f.bottom-w-E,i=S?"left":"center"):"bottom"===h?(o=f.top+w+E,i=S?"right":"center"):"left"===h?(a=f.right-(g?0:w)-E,i=g?"left":"right"):(a=f.left+(g?0:w)+E,i=g?"right":"left"),e=0,t=b.length;e<t;++e)n=b[e],r=n.label,Ga(r)||(l=f.getPixelForTick(n._index||e)+m.labelOffset,s=n.major?y.major:y.minor,u=s.lineHeight,c=Wa(r)?r.length:1,v?(a=l,d="top"===h?((S?1:.5)-c)*u:(S?0:.5)*u):(o=l,d=(1-c)*u/2),_.push({x:a,y:o,rotation:S,label:r,font:s,textOffset:d,textAlign:i}));return _},_drawGrid:function(e){var t=this,n=t.options.gridLines;if(n.display){var r,a,o,i,l,s=t.ctx,u=t.chart,c=vr._alignPixel,d=n.drawBorder?Ka(n.lineWidth,0,0):0,f=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e));for(o=0,i=f.length;o<i;++o)l=f[o],r=l.width,a=l.color,r&&a&&(s.save(),s.lineWidth=r,s.strokeStyle=a,s.setLineDash&&(s.setLineDash(l.borderDash),s.lineDashOffset=l.borderDashOffset),s.beginPath(),n.drawTicks&&(s.moveTo(l.tx1,l.ty1),s.lineTo(l.tx2,l.ty2)),n.drawOnChartArea&&(s.moveTo(l.x1,l.y1),s.lineTo(l.x2,l.y2)),s.stroke(),s.restore());if(d){var p,m,h,g,v=d,b=Ka(n.lineWidth,f.ticksLength-1,1),y=f.borderValue;t.isHorizontal()?(p=c(u,t.left,v)-v/2,m=c(u,t.right,b)+b/2,h=g=y):(h=c(u,t.top,v)-v/2,g=c(u,t.bottom,b)+b/2,p=m=y),s.lineWidth=d,s.strokeStyle=Ka(n.color,0),s.beginPath(),s.moveTo(p,h),s.lineTo(m,g),s.stroke()}}},_drawLabels:function(){var e=this;if(e.options.ticks.display){var t,n,r,a,o,i,l,s,u=e.ctx,c=e._labelItems||(e._labelItems=e._computeLabelItems());for(t=0,r=c.length;t<r;++t){if(o=c[t],i=o.font,u.save(),u.translate(o.x,o.y),u.rotate(o.rotation),u.font=i.string,u.fillStyle=i.color,u.textBaseline="middle",u.textAlign=o.textAlign,l=o.label,s=o.textOffset,Wa(l))for(n=0,a=l.length;n<a;++n)u.fillText(""+l[n],0,s),s+=i.lineHeight;else u.fillText(l,0,s);u.restore()}}},_drawTitle:function(){var e=this,t=e.ctx,n=e.options,r=n.scaleLabel;if(r.display){var a,o,i=za(r.fontColor,ir.global.defaultFontColor),l=vr.options._parseFont(r),s=vr.options.toPadding(r.padding),u=l.lineHeight/2,c=n.position,d=0;if(e.isHorizontal())a=e.left+e.width/2,o="bottom"===c?e.bottom-u-s.bottom:e.top+u+s.top;else{var f="left"===c;a=f?e.left+u+s.top:e.right-u-s.top,o=e.top+e.height/2,d=f?-.5*Math.PI:.5*Math.PI}t.save(),t.translate(a,o),t.rotate(d),t.textAlign="center",t.textBaseline="middle",t.fillStyle=i,t.font=l.string,t.fillText(r.labelString,0,0),t.restore()}},draw:function(e){var t=this;t._isVisible()&&(t._drawGrid(e),t._drawTitle(),t._drawLabels())},_layers:function(){var e=this,t=e.options,n=t.ticks&&t.ticks.z||0,r=t.gridLines&&t.gridLines.z||0;return e._isVisible()&&n!==r&&e.draw===e._draw?[{z:r,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:n,draw:function(){e._drawLabels.apply(e,arguments)}}]:[{z:n,draw:function(){e.draw.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var t=this,n=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter(function(r){return(!e||r.type===e)&&(n?r.xAxisID===t.id:r.yAxisID===t.id)})}});Va.prototype._draw=Va.prototype.draw;var qa=Va,$a=vr.isNullOrUndef,eo={position:"bottom"},to=qa.extend({determineDataLimits:function(){var e,t=this,n=t._getLabels(),r=t.options.ticks,a=r.min,o=r.max,i=0,l=n.length-1;void 0!==a&&(e=n.indexOf(a))>=0&&(i=e),void 0!==o&&(e=n.indexOf(o))>=0&&(l=e),t.minIndex=i,t.maxIndex=l,t.min=n[i],t.max=n[l]},buildTicks:function(){var e=this,t=e._getLabels(),n=e.minIndex,r=e.maxIndex;e.ticks=0===n&&r===t.length-1?t:t.slice(n,r+1)},getLabelForIndex:function(e,t){var n=this,r=n.chart;return r.getDatasetMeta(t).controller._getValueScaleId()===n.id?n.getRightValue(r.data.datasets[t].data[e]):n._getLabels()[e]},_configure:function(){var e=this,t=e.options.offset,n=e.ticks;qa.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),n&&(e._startValue=e.minIndex-(t?.5:0),e._valueRange=Math.max(n.length-(t?0:1),1))},getPixelForValue:function(e,t,n){var r,a,o,i=this;return $a(t)||$a(n)||(e=i.chart.data.datasets[n].data[t]),$a(e)||(r=i.isHorizontal()?e.x:e.y),(void 0!==r||void 0!==e&&isNaN(t))&&(a=i._getLabels(),e=vr.valueOrDefault(r,e),o=a.indexOf(e),t=-1!==o?o:t,isNaN(t)&&(t=e)),i.getPixelForDecimal((t-i._startValue)/i._valueRange)},getPixelForTick:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e],e+this.minIndex)},getValueForPixel:function(e){var t=this,n=Math.round(t._startValue+t.getDecimalForPixel(e)*t._valueRange);return Math.min(Math.max(n,0),t.ticks.length-1)},getBasePixel:function(){return this.bottom}}),no=eo;to._defaults=no;var ro=vr.noop,ao=vr.isNullOrUndef,oo=qa.extend({getRightValue:function(e){return"string"===typeof e?+e:qa.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options,n=t.ticks;if(n.beginAtZero){var r=vr.sign(e.min),a=vr.sign(e.max);r<0&&a<0?e.max=0:r>0&&a>0&&(e.min=0)}var o=void 0!==n.min||void 0!==n.suggestedMin,i=void 0!==n.max||void 0!==n.suggestedMax;void 0!==n.min?e.min=n.min:void 0!==n.suggestedMin&&(null===e.min?e.min=n.suggestedMin:e.min=Math.min(e.min,n.suggestedMin)),void 0!==n.max?e.max=n.max:void 0!==n.suggestedMax&&(null===e.max?e.max=n.suggestedMax:e.max=Math.max(e.max,n.suggestedMax)),o!==i&&e.min>=e.max&&(o?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,n.beginAtZero||e.min--)},getTickLimit:function(){var e,t=this,n=t.options.ticks,r=n.stepSize,a=n.maxTicksLimit;return r?e=Math.ceil(t.max/r)-Math.floor(t.min/r)+1:(e=t._computeTickLimit(),a=a||11),a&&(e=Math.min(a,e)),e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:ro,buildTicks:function(){var e=this,t=e.options,n=t.ticks,r=e.getTickLimit();r=Math.max(2,r);var a={maxTicks:r,min:n.min,max:n.max,precision:n.precision,stepSize:vr.valueOrDefault(n.fixedStepSize,n.stepSize)},o=e.ticks=Ft(a,e);e.handleDirectionalChanges(),e.max=vr.max(o),e.min=vr.min(o),n.reverse?(o.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),qa.prototype.convertTicksToLabels.call(e)},_configure:function(){var e,t=this,n=t.getTicks(),r=t.min,a=t.max;qa.prototype._configure.call(t),t.options.offset&&n.length&&(e=(a-r)/Math.max(n.length-1,1)/2,r-=e,a+=e),t._startValue=r,t._endValue=a,t._valueRange=a-r}}),io={position:"left",ticks:{callback:Qa.formatters.linear}},lo=oo.extend({determineDataLimits:function(){var e,t,n,r,a=this,o=a.options,i=a.chart,l=i.data.datasets,s=a._getMatchingVisibleMetas(),u=o.stacked,c={},d=s.length;if(a.min=Number.POSITIVE_INFINITY,a.max=Number.NEGATIVE_INFINITY,void 0===u)for(e=0;!u&&e<d;++e)t=s[e],u=void 0!==t.stack;for(e=0;e<d;++e)t=s[e],n=l[t.index].data,u?Zt(a,c,t,n):Ht(a,t,n);vr.each(c,function(e){r=e.pos.concat(e.neg),a.min=Math.min(a.min,vr.min(r)),a.max=Math.max(a.max,vr.max(r))}),a.min=vr.isFinite(a.min)&&!isNaN(a.min)?a.min:0,a.max=vr.isFinite(a.max)&&!isNaN(a.max)?a.max:1,a.handleTickRangeOptions()},_computeTickLimit:function(){var e,t=this;return t.isHorizontal()?Math.ceil(t.width/40):(e=vr.options._parseFont(t.options.ticks),Math.ceil(t.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t=this;return t.getPixelForDecimal((+t.getRightValue(e)-t._startValue)/t._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var t=this.ticksAsNumbers;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])}}),so=io;lo._defaults=so;var uo=vr.valueOrDefault,co=vr.math.log10,fo={position:"left",ticks:{callback:Qa.formatters.logarithmic}},po=qa.extend({determineDataLimits:function(){function e(e){return d?e.xAxisID===l.id:e.yAxisID===l.id}var t,n,r,a,o,i,l=this,s=l.options,u=l.chart,c=u.data.datasets,d=l.isHorizontal();l.min=Number.POSITIVE_INFINITY,l.max=Number.NEGATIVE_INFINITY,l.minNotZero=Number.POSITIVE_INFINITY;var f=s.stacked;if(void 0===f)for(t=0;t<c.length;t++)if(n=u.getDatasetMeta(t),u.isDatasetVisible(t)&&e(n)&&void 0!==n.stack){f=!0;break}if(s.stacked||f){var p={};for(t=0;t<c.length;t++){n=u.getDatasetMeta(t);var m=[n.type,void 0===s.stacked&&void 0===n.stack?t:"",n.stack].join(".");if(u.isDatasetVisible(t)&&e(n))for(void 0===p[m]&&(p[m]=[]),a=c[t].data,o=0,i=a.length;o<i;o++){var h=p[m];r=l._parseValue(a[o]),isNaN(r.min)||isNaN(r.max)||n.data[o].hidden||r.min<0||r.max<0||(h[o]=h[o]||0,h[o]+=r.max)}}vr.each(p,function(e){if(e.length>0){var t=vr.min(e),n=vr.max(e);l.min=Math.min(l.min,t),l.max=Math.max(l.max,n)}})}else for(t=0;t<c.length;t++)if(n=u.getDatasetMeta(t),u.isDatasetVisible(t)&&e(n))for(a=c[t].data,o=0,i=a.length;o<i;o++)r=l._parseValue(a[o]),isNaN(r.min)||isNaN(r.max)||n.data[o].hidden||r.min<0||r.max<0||(l.min=Math.min(r.min,l.min),l.max=Math.max(r.max,l.max),0!==r.min&&(l.minNotZero=Math.min(r.min,l.minNotZero)));l.min=vr.isFinite(l.min)?l.min:null,l.max=vr.isFinite(l.max)?l.max:null,l.minNotZero=vr.isFinite(l.minNotZero)?l.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;e.min=Jt(t.min,e.min),e.max=Jt(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(co(e.min))-1),e.max=Math.pow(10,Math.floor(co(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(co(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(co(e.min))+1):10),null===e.minNotZero&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(co(e.max))):e.minNotZero=1)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),r={min:Jt(t.min),max:Jt(t.max)},a=e.ticks=Xt(r,e);e.max=vr.max(a),e.min=vr.min(a),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&a.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),qa.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){var t=this.tickValues;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])},_getFirstTickValue:function(e){var t=Math.floor(co(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var e=this,t=e.min,n=0;qa.prototype._configure.call(e),0===t&&(t=e._getFirstTickValue(e.minNotZero),n=uo(e.options.ticks.fontSize,ir.global.defaultFontSize)/e._length),e._startValue=co(t),e._valueOffset=n,e._valueRange=(co(e.max)-co(t))/(1-n)},getPixelForValue:function(e){var t=this,n=0;return e=+t.getRightValue(e),e>t.min&&e>0&&(n=(co(e)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(n)},getValueForPixel:function(e){var t=this,n=t.getDecimalForPixel(e);return 0===n&&0===t.min?0:Math.pow(10,t._startValue+(n-t._valueOffset)*t._valueRange)}}),mo=fo;po._defaults=mo;var ho=vr.valueOrDefault,go=vr.valueAtIndexOrDefault,vo=vr.options.resolve,bo={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Qa.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}},yo=oo.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=Ut(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;vr.each(t.data.datasets,function(a,o){if(t.isDatasetVisible(o)){var i=t.getDatasetMeta(o);vr.each(a.data,function(t,a){var o=+e.getRightValue(t);isNaN(o)||i.data[a].hidden||(n=Math.min(o,n),r=Math.max(o,r))})}}),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=r===Number.NEGATIVE_INFINITY?0:r,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Ut(this.options))},convertTicksToLabels:function(){var e=this;oo.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(function(){var t=vr.callback(e.options.pointLabels.callback,arguments,e);return t||0===t?t:""})},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this,t=e.options;t.display&&t.pointLabels.display?Gt(e):e.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var r=this,a=t.l/Math.sin(n.l),o=Math.max(t.r-r.width,0)/Math.sin(n.r),i=-t.t/Math.cos(n.t),l=-Math.max(t.b-(r.height-r.paddingTop),0)/Math.cos(n.b);a=en(a),o=en(o),i=en(i),l=en(l),r.drawingArea=Math.min(Math.floor(e-(a+o)/2),Math.floor(e-(i+l)/2)),r.setCenterPoint(a,o,i,l)},setCenterPoint:function(e,t,n,r){var a=this,o=a.width-t-a.drawingArea,i=e+a.drawingArea,l=n+a.drawingArea,s=a.height-a.paddingTop-r-a.drawingArea;a.xCenter=Math.floor((i+o)/2+a.left),a.yCenter=Math.floor((l+s)/2+a.top+a.paddingTop)},getIndexAngle:function(e){var t=this.chart,n=360/t.data.labels.length,r=t.options||{},a=r.startAngle||0,o=(e*n+a)%360;return(o<0?o+360:o)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(vr.isNullOrUndef(e))return NaN;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,r=n.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(r)*t+n.xCenter,y:Math.sin(r)*t+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(e){var t=this,n=t.min,r=t.max;return t.getPointPositionForValue(e||0,t.beginAtZero?0:n<0&&r<0?r:n>0&&r>0?n:0)},_drawGrid:function(){var e,t,n,r=this,a=r.ctx,o=r.options,i=o.gridLines,l=o.angleLines,s=ho(l.lineWidth,i.lineWidth),u=ho(l.color,i.color);if(o.pointLabels.display&&qt(r),i.display&&vr.each(r.ticks,function(e,n){0!==n&&(t=r.getDistanceFromCenterForValue(r.ticksAsNumbers[n]),$t(r,i,t,n))}),l.display&&s&&u){for(a.save(),a.lineWidth=s,a.strokeStyle=u,a.setLineDash&&(a.setLineDash(vo([l.borderDash,i.borderDash,[]])),a.lineDashOffset=vo([l.borderDashOffset,i.borderDashOffset,0])),e=r.chart.data.labels.length-1;e>=0;e--)t=r.getDistanceFromCenterForValue(o.ticks.reverse?r.min:r.max),n=r.getPointPosition(e,t),a.beginPath(),a.moveTo(r.xCenter,r.yCenter),a.lineTo(n.x,n.y),a.stroke();a.restore()}},_drawLabels:function(){var e=this,t=e.ctx,n=e.options,r=n.ticks;if(r.display){var a,o,i=e.getIndexAngle(0),l=vr.options._parseFont(r),s=ho(r.fontColor,ir.global.defaultFontColor);t.save(),t.font=l.string,t.translate(e.xCenter,e.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",vr.each(e.ticks,function(n,i){(0!==i||r.reverse)&&(a=e.getDistanceFromCenterForValue(e.ticksAsNumbers[i]),r.showLabelBackdrop&&(o=t.measureText(n).width,t.fillStyle=r.backdropColor,t.fillRect(-o/2-r.backdropPaddingX,-a-l.size/2-r.backdropPaddingY,o+2*r.backdropPaddingX,l.size+2*r.backdropPaddingY)),t.fillStyle=s,t.fillText(n,0,-a))}),t.restore()}},_drawTitle:vr.noop}),Eo=bo;yo._defaults=Eo;var wo=vr._deprecated,So=vr.options.resolve,_o=vr.valueOrDefault,xo=Number.MIN_SAFE_INTEGER||-9007199254740991,Oo=Number.MAX_SAFE_INTEGER||9007199254740991,Co={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Po=Object.keys(Co),ko={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Do=qa.extend({initialize:function(){this.mergeTicksOptions(),qa.prototype.initialize.call(this)},update:function(){var e=this,t=e.options,n=t.time||(t.time={}),r=e._adapter=new Ua._date(t.adapters.date);return wo("time scale",n.format,"time.format","time.parser"),wo("time scale",n.min,"time.min","ticks.min"),wo("time scale",n.max,"time.max","ticks.max"),vr.mergeIf(n.displayFormats,r.formats()),qa.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),qa.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e,t,n,r,a,o,i,l=this,s=l.chart,u=l._adapter,c=l.options,d=c.time.unit||"day",f=Oo,p=xo,m=[],h=[],g=[],v=l._getLabels();for(e=0,n=v.length;e<n;++e)g.push(cn(l,v[e]));for(e=0,n=(s.data.datasets||[]).length;e<n;++e)if(s.isDatasetVisible(e))if(a=s.data.datasets[e].data,vr.isObject(a[0]))for(h[e]=[],t=0,r=a.length;t<r;++t)o=cn(l,a[t]),m.push(o),h[e][t]=o;else h[e]=g.slice(0),i||(m=m.concat(g),i=!0);else h[e]=[];g.length&&(f=Math.min(f,g[0]),p=Math.max(p,g[g.length-1])),m.length&&(m=n>1?nn(m).sort(tn):m.sort(tn),f=Math.min(f,m[0]),p=Math.max(p,m[m.length-1])),f=cn(l,rn(c))||f,p=cn(l,an(c))||p,f=f===Oo?+u.startOf(Date.now(),d):f,p=p===xo?+u.endOf(Date.now(),d)+1:p,l.min=Math.min(f,p),l.max=Math.max(f+1,p),l._table=[],l._timestamps={data:m,datasets:h,labels:g}},buildTicks:function(){var e,t,n,r=this,a=r.min,o=r.max,i=r.options,l=i.ticks,s=i.time,u=r._timestamps,c=[],d=r.getLabelCapacity(a),f=l.source,p=i.distribution;for(u="data"===f||"auto"===f&&"series"===p?u.data:"labels"===f?u.labels:mn(r,a,o,d),"ticks"===i.bounds&&u.length&&(a=u[0],o=u[u.length-1]),a=cn(r,rn(i))||a,o=cn(r,an(i))||o,e=0,t=u.length;e<t;++e)(n=u[e])>=a&&n<=o&&c.push(n);return r.min=a,r.max=o,r._unit=s.unit||(l.autoSkip?dn(s.minUnit,r.min,r.max,d):fn(r,c.length,s.minUnit,r.min,r.max)),r._majorUnit=l.major.enabled&&"year"!==r._unit?pn(r._unit):void 0,r._table=on(r._timestamps.data,a,o,p),r._offsets=hn(r._table,c,a,o,i),l.reverse&&c.reverse(),vn(r,c,r._majorUnit)},getLabelForIndex:function(e,t){var n=this,r=n._adapter,a=n.chart.data,o=n.options.time,i=a.labels&&e<a.labels.length?a.labels[e]:"",l=a.datasets[t].data[e];return vr.isObject(l)&&(i=n.getRightValue(l)),o.tooltipFormat?r.format(un(n,i),o.tooltipFormat):"string"===typeof i?i:r.format(un(n,i),o.displayFormats.datetime)},tickFormatFunction:function(e,t,n,r){var a=this,o=a._adapter,i=a.options,l=i.time.displayFormats,s=l[a._unit],u=a._majorUnit,c=l[u],d=n[t],f=i.ticks,p=u&&c&&d&&d.major,m=o.format(e,r||(p?c:s)),h=p?f.major:f.minor,g=So([h.callback,h.userCallback,f.callback,f.userCallback]);return g?g(m,t,n):m},convertTicksToLabels:function(e){var t,n,r=[];for(t=0,n=e.length;t<n;++t)r.push(this.tickFormatFunction(e[t].value,t,e));return r},getPixelForOffset:function(e){var t=this,n=t._offsets,r=sn(t._table,"time",e,"pos");return t.getPixelForDecimal((n.start+r)*n.factor)},getPixelForValue:function(e,t,n){var r=this,a=null;if(void 0!==t&&void 0!==n&&(a=r._timestamps.datasets[n][t]),null===a&&(a=cn(r,e)),null!==a)return r.getPixelForOffset(a)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,n=t._offsets,r=t.getDecimalForPixel(e)/n.factor-n.end,a=sn(t._table,"pos",r,"time");return t._adapter._create(a)},_getLabelSize:function(e){var t=this,n=t.options.ticks,r=t.ctx.measureText(e).width,a=vr.toRadians(t.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),i=Math.sin(a),l=_o(n.fontSize,ir.global.defaultFontSize);return{w:r*o+l*i,h:r*i+l*o}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var t=this,n=t.options.time,r=n.displayFormats,a=r[n.unit]||r.millisecond,o=t.tickFormatFunction(e,0,vn(t,[e],t._majorUnit),a),i=t._getLabelSize(o),l=Math.floor(t.isHorizontal()?t.width/i.w:t.height/i.h);return t.options.offset&&l--,l>0?l:1}}),Mo=ko;Do._defaults=Mo;var To={category:to,linear:lo,logarithmic:po,radialLinear:yo,time:Do},Lo={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Ua._date.override("function"===typeof e?{_id:"moment",formats:function(){return Lo},parse:function(t,n){return"string"===typeof t&&"string"===typeof n?t=e(t,n):t instanceof e||(t=e(t)),t.isValid()?t.valueOf():null},format:function(t,n){return e(t).format(n)},add:function(t,n,r){return e(t).add(n,r).valueOf()},diff:function(t,n,r){return e(t).diff(e(n),r)},startOf:function(t,n,r){return t=e(t),"isoWeek"===n?t.isoWeekday(r).valueOf():t.startOf(n).valueOf()},endOf:function(t,n){return e(t).endOf(n).valueOf()},_create:function(t){return e(t)}}:{}),ir._set("global",{plugins:{filler:{propagate:!0}}});var No={dataset:function(e){var t=e.fill,n=e.chart,r=n.getDatasetMeta(t),a=r&&n.isDatasetVisible(t),o=a&&r.dataset._children||[],i=o.length||0;return i?function(e,t){return t<i&&o[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,r=t?t.y:null;return vr.isArray(t)?function(e,n){return t[n]}:function(e){return{x:null===n?e.x:n,y:null===r?e.y:r}}}},Io={id:"filler",afterDatasetsUpdate:function(e,t){var n,r,a,o,i=(e.data.datasets||[]).length,l=t.propagate,s=[];for(r=0;r<i;++r)n=e.getDatasetMeta(r),a=n.dataset,o=null,a&&a._model&&a instanceof Hr.Line&&(o={visible:e.isDatasetVisible(r),fill:bn(a,r,i),chart:e,el:a}),n.$filler=o,s.push(o);for(r=0;r<i;++r)(o=s[r])&&(o.fill=Sn(s,r,l),o.boundary=wn(o),o.mapper=_n(o))},beforeDatasetsDraw:function(e){var t,n,r,a,o,i,l,s=e._getSortedVisibleDatasetMetas(),u=e.ctx;for(n=s.length-1;n>=0;--n)(t=s[n].$filler)&&t.visible&&(r=t.el,a=r._view,o=r._children||[],i=t.mapper,l=a.backgroundColor||ir.global.defaultColor,i&&l&&o.length&&(vr.canvas.clipArea(u,e.chartArea),Cn(u,o,i,a,l,r._loop),vr.canvas.unclipArea(u)))}},jo=vr.rtl.getRtlAdapter,Ro=vr.noop,Yo=vr.valueOrDefault;ir._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,r=this.chart,a=r.getDatasetMeta(n);a.hidden=null===a.hidden?!r.data.datasets[n].hidden:null,r.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.options.legend||{},r=n.labels&&n.labels.usePointStyle;return e._getSortedDatasetMetas().map(function(n,a){var o=n.controller.getStyle(r?0:void 0);return{text:t[n.index].label,fillStyle:o.backgroundColor,hidden:!e.isDatasetVisible(a),lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:o.borderWidth,strokeStyle:o.borderColor,pointStyle:o.pointStyle,rotation:o.rotation,datasetIndex:a}},this)}}},legendCallback:function(e){var t,n,r,a,o=document.createElement("ul"),i=e.data.datasets;for(o.setAttribute("class",e.id+"-legend"),t=0,n=i.length;t<n;t++)r=o.appendChild(document.createElement("li")),a=r.appendChild(document.createElement("span")),a.style.backgroundColor=i[t].backgroundColor,i[t].label&&r.appendChild(document.createTextNode(i[t].label));return o.outerHTML}});var Ao=xr.extend({initialize:function(e){var t=this;vr.extend(t,e),t.legendHitBoxes=[],t._hoveredItem=null,t.doughnutMode=!1},beforeUpdate:Ro,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:Ro,beforeSetDimensions:Ro,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:Ro,beforeBuildLabels:Ro,buildLabels:function(){var e=this,t=e.options.labels||{},n=vr.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter(function(n){return t.filter(n,e.chart.data)})),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:Ro,beforeFit:Ro,fit:function(){var e=this,t=e.options,n=t.labels,r=t.display,a=e.ctx,o=vr.options._parseFont(n),i=o.size,l=e.legendHitBoxes=[],s=e.minSize,u=e.isHorizontal();if(u?(s.width=e.maxWidth,s.height=r?10:0):(s.width=r?10:0,s.height=e.maxHeight),!r)return void(e.width=s.width=e.height=s.height=0);if(a.font=o.string,u){var c=e.lineWidths=[0],d=0;a.textAlign="left",a.textBaseline="middle",vr.each(e.legendItems,function(e,t){var r=Pn(n,i),o=r+i/2+a.measureText(e.text).width;(0===t||c[c.length-1]+o+2*n.padding>s.width)&&(d+=i+n.padding,c[c.length-(t>0?0:1)]=0),l[t]={left:0,top:0,width:o,height:i},c[c.length-1]+=o+n.padding}),s.height+=d}else{var f=n.padding,p=e.columnWidths=[],m=e.columnHeights=[],h=n.padding,g=0,v=0;vr.each(e.legendItems,function(e,t){var r=Pn(n,i),o=r+i/2+a.measureText(e.text).width;t>0&&v+i+2*f>s.height&&(h+=g+n.padding,p.push(g),m.push(v),g=0,v=0),g=Math.max(g,o),v+=i+f,l[t]={left:0,top:0,width:o,height:i}}),h+=g,p.push(g),m.push(v),s.width+=h}e.width=s.width,e.height=s.height},afterFit:Ro,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,r=ir.global,a=r.defaultColor,o=r.elements.line,i=e.height,l=e.columnHeights,s=e.width,u=e.lineWidths;if(t.display){var c,d=jo(t.rtl,e.left,e.minSize.width),f=e.ctx,p=Yo(n.fontColor,r.defaultFontColor),m=vr.options._parseFont(n),h=m.size;f.textAlign=d.textAlign("left"),f.textBaseline="middle",f.lineWidth=.5,f.strokeStyle=p,f.fillStyle=p,f.font=m.string;var g=Pn(n,h),v=e.legendHitBoxes,b=function(e,t,r){if(!(isNaN(g)||g<=0)){f.save();var i=Yo(r.lineWidth,o.borderWidth);if(f.fillStyle=Yo(r.fillStyle,a),f.lineCap=Yo(r.lineCap,o.borderCapStyle),f.lineDashOffset=Yo(r.lineDashOffset,o.borderDashOffset),f.lineJoin=Yo(r.lineJoin,o.borderJoinStyle),f.lineWidth=i,f.strokeStyle=Yo(r.strokeStyle,a),f.setLineDash&&f.setLineDash(Yo(r.lineDash,o.borderDash)),n&&n.usePointStyle){var l=g*Math.SQRT2/2,s=d.xPlus(e,g/2),u=t+h/2;vr.canvas.drawPoint(f,r.pointStyle,l,s,u,r.rotation)}else f.fillRect(d.leftForLtr(e,g),t,g,h),0!==i&&f.strokeRect(d.leftForLtr(e,g),t,g,h);f.restore()}},y=function(e,t,n,r){var a=h/2,o=d.xPlus(e,g+a),i=t+a;f.fillText(n.text,o,i),n.hidden&&(f.beginPath(),f.lineWidth=2,f.moveTo(o,i),f.lineTo(d.xPlus(o,r),i),f.stroke())},E=function(e,r){switch(t.align){case"start":return n.padding;case"end":return e-r;default:return(e-r+n.padding)/2}},w=e.isHorizontal();c=w?{x:e.left+E(s,u[0]),y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+E(i,l[0]),line:0},vr.rtl.overrideTextDirection(e.ctx,t.textDirection);var S=h+n.padding;vr.each(e.legendItems,function(t,r){var a=f.measureText(t.text).width,o=g+h/2+a,p=c.x,m=c.y;d.setWidth(e.minSize.width),w?r>0&&p+o+n.padding>e.left+e.minSize.width&&(m=c.y+=S,c.line++,p=c.x=e.left+E(s,u[c.line])):r>0&&m+S>e.top+e.minSize.height&&(p=c.x=p+e.columnWidths[c.line]+n.padding,c.line++,m=c.y=e.top+E(i,l[c.line]));var _=d.x(p);b(_,m,t),v[r].left=d.leftForLtr(_,v[r].width),v[r].top=m,y(_,m,t,a),w?c.x+=o+n.padding:c.y+=S}),vr.rtl.restoreTextDirection(e.ctx,t.textDirection)}},_getLegendItemAt:function(e,t){var n,r,a,o=this;if(e>=o.left&&e<=o.right&&t>=o.top&&t<=o.bottom)for(a=o.legendHitBoxes,n=0;n<a.length;++n)if(r=a[n],e>=r.left&&e<=r.left+r.width&&t>=r.top&&t<=r.top+r.height)return o.legendItems[n];return null},handleEvent:function(e){var t,n=this,r=n.options,a="mouseup"===e.type?"click":e.type;if("mousemove"===a){if(!r.onHover&&!r.onLeave)return}else{if("click"!==a)return;if(!r.onClick)return}t=n._getLegendItemAt(e.x,e.y),"click"===a?t&&r.onClick&&r.onClick.call(n,e.native,t):(r.onLeave&&t!==n._hoveredItem&&(n._hoveredItem&&r.onLeave.call(n,e.native,n._hoveredItem),n._hoveredItem=t),r.onHover&&t&&r.onHover.call(n,e.native,t))}}),Fo={id:"legend",_element:Ao,beforeInit:function(e){var t=e.options.legend;t&&kn(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(vr.mergeIf(t,ir.global.legend),n?(ba.configure(e,n,t),n.options=t):kn(e,t)):n&&(ba.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}},Bo=vr.noop;ir._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Zo=xr.extend({initialize:function(e){var t=this;vr.extend(t,e),t.legendHitBoxes=[]},beforeUpdate:Bo,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:Bo,beforeSetDimensions:Bo,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:Bo,beforeBuildLabels:Bo,buildLabels:Bo,afterBuildLabels:Bo,beforeFit:Bo,fit:function(){var e,t,n=this,r=n.options,a=n.minSize={},o=n.isHorizontal();if(!r.display)return void(n.width=a.width=n.height=a.height=0);e=vr.isArray(r.text)?r.text.length:1,t=e*vr.options._parseFont(r).lineHeight+2*r.padding,n.width=a.width=o?n.maxWidth:t,n.height=a.height=o?t:n.maxHeight},afterFit:Bo,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=e.options;if(n.display){var r,a,o,i=vr.options._parseFont(n),l=i.lineHeight,s=l/2+n.padding,u=0,c=e.top,d=e.left,f=e.bottom,p=e.right;t.fillStyle=vr.valueOrDefault(n.fontColor,ir.global.defaultFontColor),t.font=i.string,e.isHorizontal()?(a=d+(p-d)/2,o=c+s,r=p-d):(a="left"===n.position?d+s:p-s,o=c+(f-c)/2,r=f-c,u=Math.PI*("left"===n.position?-.5:.5)),t.save(),t.translate(a,o),t.rotate(u),t.textAlign="center",t.textBaseline="middle";var m=n.text;if(vr.isArray(m))for(var h=0,g=0;g<m.length;++g)t.fillText(m[g],0,h,r),h+=l;else t.fillText(m,0,0,r);t.restore()}}}),Ho={id:"title",_element:Zo,beforeInit:function(e){var t=e.options.title;t&&Dn(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(vr.mergeIf(t,ir.global.title),n?(ba.configure(e,n,t),n.options=t):Dn(e,t)):n&&(ba.removeBox(e,n),delete e.titleBlock)}},Xo={},Jo=Io,Uo=Fo,Qo=Ho;Xo.filler=Jo,Xo.legend=Uo,Xo.title=Qo,Xa.helpers=vr,function(){function e(e,t,n){var r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}function t(e){return void 0!==e&&null!==e&&"none"!==e}function n(n,r,a){var o=document.defaultView,i=vr._getParentNode(n),l=o.getComputedStyle(n)[r],s=o.getComputedStyle(i)[r],u=t(l),c=t(s),d=Number.POSITIVE_INFINITY;return u||c?Math.min(u?e(l,n,a):d,c?e(s,i,a):d):"none"}vr.where=function(e,t){if(vr.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return vr.each(e,function(e){t(e)&&n.push(e)}),n},vr.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var r=0,a=e.length;r<a;++r)if(t.call(n,e[r],r,e))return r;return-1},vr.findNextWhere=function(e,t,n){vr.isNullOrUndef(n)&&(n=-1);for(var r=n+1;r<e.length;r++){var a=e[r];if(t(a))return a}},vr.findPreviousWhere=function(e,t,n){vr.isNullOrUndef(n)&&(n=e.length);for(var r=n-1;r>=0;r--){var a=e[r];if(t(a))return a}},vr.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},vr.almostEquals=function(e,t,n){return Math.abs(e-t)<n},vr.almostWhole=function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e},vr.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},vr.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},vr.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return e=+e,0===e||isNaN(e)?e:e>0?1:-1},vr.toRadians=function(e){return e*(Math.PI/180)},vr.toDegrees=function(e){return e*(180/Math.PI)},vr._decimalPlaces=function(e){if(vr.isFinite(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}},vr.getAngleFromPoint=function(e,t){var n=t.x-e.x,r=t.y-e.y,a=Math.sqrt(n*n+r*r),o=Math.atan2(r,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:a}},vr.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},vr.aliasPixel=function(e){return e%2===0?0:.5},vr._alignPixel=function(e,t,n){var r=e.currentDevicePixelRatio,a=n/2;return Math.round((t-a)*r)/r+a},vr.splineCurve=function(e,t,n,r){var a=e.skip?t:e,o=t,i=n.skip?t:n,l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),s=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2)),u=l/(l+s),c=s/(l+s);u=isNaN(u)?0:u,c=isNaN(c)?0:c;var d=r*u,f=r*c;return{previous:{x:o.x-d*(i.x-a.x),y:o.y-d*(i.y-a.y)},next:{x:o.x+f*(i.x-a.x),y:o.y+f*(i.y-a.y)}}},vr.EPSILON=Number.EPSILON||1e-14,vr.splineCurveMonotone=function(e){var t,n,r,a,o=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),i=o.length;for(t=0;t<i;++t)if(r=o[t],!r.model.skip){if(n=t>0?o[t-1]:null,(a=t<i-1?o[t+1]:null)&&!a.model.skip){var l=a.model.x-r.model.x;r.deltaK=0!==l?(a.model.y-r.model.y)/l:0}!n||n.model.skip?r.mK=r.deltaK:!a||a.model.skip?r.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(r.deltaK)?r.mK=0:r.mK=(n.deltaK+r.deltaK)/2}var s,u,c,d;for(t=0;t<i-1;++t)r=o[t],a=o[t+1],r.model.skip||a.model.skip||(vr.almostEquals(r.deltaK,0,this.EPSILON)?r.mK=a.mK=0:(s=r.mK/r.deltaK,u=a.mK/r.deltaK,(d=Math.pow(s,2)+Math.pow(u,2))<=9||(c=3/Math.sqrt(d),r.mK=s*c*r.deltaK,a.mK=u*c*r.deltaK)));var f;for(t=0;t<i;++t)r=o[t],r.model.skip||(n=t>0?o[t-1]:null,a=t<i-1?o[t+1]:null,n&&!n.model.skip&&(f=(r.model.x-n.model.x)/3,r.model.controlPointPreviousX=r.model.x-f,r.model.controlPointPreviousY=r.model.y-f*r.mK),a&&!a.model.skip&&(f=(a.model.x-r.model.x)/3,r.model.controlPointNextX=r.model.x+f,r.model.controlPointNextY=r.model.y+f*r.mK))},vr.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},vr.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},vr.niceNum=function(e,t){var n=Math.floor(vr.log10(e)),r=e/Math.pow(10,n);return(t?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,n)},vr.requestAnimFrame=function(){return"undefined"===typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),vr.getRelativePosition=function(e,t){var n,r,a=e.originalEvent||e,o=e.target||e.srcElement,i=o.getBoundingClientRect(),l=a.touches;l&&l.length>0?(n=l[0].clientX,r=l[0].clientY):(n=a.clientX,r=a.clientY);var s=parseFloat(vr.getStyle(o,"padding-left")),u=parseFloat(vr.getStyle(o,"padding-top")),c=parseFloat(vr.getStyle(o,"padding-right")),d=parseFloat(vr.getStyle(o,"padding-bottom")),f=i.right-i.left-s-c,p=i.bottom-i.top-u-d;return n=Math.round((n-i.left-s)/f*o.width/t.currentDevicePixelRatio),r=Math.round((r-i.top-u)/p*o.height/t.currentDevicePixelRatio),{x:n,y:r}},vr.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},vr.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},vr._calculatePadding=function(e,t,n){return t=vr.getStyle(e,t),t.indexOf("%")>-1?n*parseInt(t,10)/100:parseInt(t,10)},vr._getParentNode=function(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t},vr.getMaximumWidth=function(e){var t=vr._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,r=vr._calculatePadding(t,"padding-left",n),a=vr._calculatePadding(t,"padding-right",n),o=n-r-a,i=vr.getConstraintWidth(e);return isNaN(i)?o:Math.min(o,i)},vr.getMaximumHeight=function(e){var t=vr._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,r=vr._calculatePadding(t,"padding-top",n),a=vr._calculatePadding(t,"padding-bottom",n),o=n-r-a,i=vr.getConstraintHeight(e);return isNaN(i)?o:Math.min(o,i)},vr.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},vr.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||"undefined"!==typeof window&&window.devicePixelRatio||1;if(1!==n){var r=e.canvas,a=e.height,o=e.width;r.height=a*n,r.width=o*n,e.ctx.scale(n,n),r.style.height||r.style.width||(r.style.height=a+"px",r.style.width=o+"px")}},vr.fontString=function(e,t,n){return t+" "+e+"px "+n},vr.longestText=function(e,t,n,r){r=r||{};var a=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(a=r.data={},o=r.garbageCollect=[],r.font=t),e.font=t;var i,l,s,u,c,d=0,f=n.length;for(i=0;i<f;i++)if(void 0!==(u=n[i])&&null!==u&&!0!==vr.isArray(u))d=vr.measureText(e,a,o,d,u);else if(vr.isArray(u))for(l=0,s=u.length;l<s;l++)void 0===(c=u[l])||null===c||vr.isArray(c)||(d=vr.measureText(e,a,o,d,c));var p=o.length/2;if(p>n.length){for(i=0;i<p;i++)delete a[o[i]];o.splice(0,p)}return d},vr.measureText=function(e,t,n,r,a){var o=t[a];return o||(o=t[a]=e.measureText(a).width,n.push(a)),o>r&&(r=o),r},vr.numberOfLabelLines=function(e){var t=1;return vr.each(e,function(e){vr.isArray(e)&&e.length>t&&(t=e.length)}),t},vr.color=Qn?function(e){return e instanceof CanvasGradient&&(e=ir.global.defaultColor),Qn(e)}:function(e){return console.error("Color.js not found!"),e},vr.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:vr.color(e).saturate(.5).darken(.1).rgbString()}}(),Xa._adapters=Ua,Xa.Animation=Cr,Xa.animationService=Pr,Xa.controllers=ha,Xa.DatasetController=Tr,Xa.defaults=ir,Xa.Element=xr,Xa.elements=Hr,Xa.Interaction=ga,Xa.layouts=ba,Xa.platform=La,Xa.plugins=Na,Xa.Scale=qa,Xa.scaleService=Ia,Xa.Ticks=Qa,Xa.Tooltip=Ba,Xa.helpers.each(To,function(e,t){Xa.scaleService.registerScaleType(t,e,e._defaults)});for(var Wo in Xo)Xo.hasOwnProperty(Wo)&&Xa.plugins.register(Xo[Wo]);Xa.platform.initialize();var Go=Xa;return"undefined"!==typeof window&&(window.Chart=Xa),Xa.Chart=Xa,Xa.Legend=Xo.legend._element,Xa.Title=Xo.title._element,Xa.pluginService=Xa.plugins,Xa.PluginBase=Xa.Element.extend({}),Xa.canvasHelpers=Xa.helpers.canvas,Xa.layoutService=Xa.layouts,Xa.LinearScaleBase=oo,Xa.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(e){Xa[e]=function(t,n){return new Xa(t,Xa.helpers.merge(n||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}}),Go})},function(e,t,n){var r=n(893),a=n(2569),o=a(function(e,t,n){r(e,n,t)});e.exports=o},function(e,t,n){function r(e,t){return function(n,r){var s=l(n)?a:o,u=t?t():{};return s(n,e,i(r,2),u)}}var a=n(2570),o=n(2571),i=n(2577),l=n(209);e.exports=r},function(e,t){function n(e,t,n,r){for(var a=-1,o=null==e?0:e.length;++a<o;){var i=e[a];t(r,i,n(i),e)}return r}e.exports=n},function(e,t,n){function r(e,t,n,r){return a(e,function(e,a,o){t(r,e,n(e),o)}),r}var a=n(2572);e.exports=r},function(e,t,n){var r=n(2573),a=n(2576),o=a(r);e.exports=o},function(e,t,n){function r(e,t){return e&&a(e,t,o)}var a=n(2574),o=n(371);e.exports=r},function(e,t,n){var r=n(2575),a=r();e.exports=a},function(e,t){function n(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),l=i.length;l--;){var s=i[e?l:++a];if(!1===n(o[s],s,o))break}return t}}e.exports=n},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!a(n))return e(n,r);for(var o=n.length,i=t?o:-1,l=Object(n);(t?i--:++i<o)&&!1!==r(l[i],i,l););return n}}var a=n(903);e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?l(e)?o(e[0],e[1]):a(e):s(e)}var a=n(2578),o=n(2581),i=n(1160),l=n(209),s=n(2583);e.exports=r},function(e,t,n){function r(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||a(n,e,t)}}var a=n(2579),o=n(2580),i=n(1348);e.exports=r},function(e,t,n){function r(e,t,n,r){var s=n.length,u=s,c=!r;if(null==e)return!u;for(e=Object(e);s--;){var d=n[s];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++s<u;){d=n[s];var f=d[0],p=e[f],m=d[1];if(c&&d[2]){if(void 0===p&&!(f in e))return!1}else{var h=new a;if(r)var g=r(p,m,f,e,t,h);if(!(void 0===g?o(m,p,i|l,r,h):g))return!1}}return!0}var a=n(898),o=n(938),i=1,l=2;e.exports=r},function(e,t,n){function r(e){for(var t=o(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,a(i)]}return t}var a=n(1347),o=n(371);e.exports=r},function(e,t,n){function r(e,t){return l(e)&&s(t)?u(c(e),t):function(n){var r=o(n,e);return void 0===r&&r===t?i(n,e):a(t,r,d|f)}}var a=n(938),o=n(2582),i=n(1158),l=n(887),s=n(1347),u=n(1348),c=n(456),d=1,f=2;e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:a(e,t);return void 0===r?n:r}var a=n(813);e.exports=r},function(e,t,n){function r(e){return i(e)?a(l(e)):o(e)}var a=n(2584),o=n(2585),i=n(887),l=n(456);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e){return function(t){return a(t,e)}}var a=n(813);e.exports=r},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(7),d=r(c),f=n(38),p=r(f),m=n(780),h=r(m),g=n(852),v=r(g),b=n(4),y=n(853),E=r(y),w=n(8),S=r(w),_=n(2),x=n(3),O=n(5),C=r(O),P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getActiviesFiles=function(e,t,r){var a=n.state.filesData;b.seafileAPI.sysAdminStatisticStorages(e,t,r).then(function(e){var t=[],r=[],o=e.data;if(Array.isArray(o)){o.forEach(function(e){t.push((0,d.default)(e.datetime).format("YYYY-MM-DD")),r.push(e.total_storage)});var i={label:(0,_.gettext)("Total Storage"),data:r,borderColor:"#fd913a",backgroundColor:"#fd913a"};a=[i]}n.setState({filesData:a,labels:t,isLoading:!1})}).catch(function(e){var t=x.Utils.getErrorMsg(e);C.default.danger(t)})},n.state={filesData:[],labels:[],isLoading:!0},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.labels,n=e.filesData,r=e.isLoading;return u.default.createElement(s.Fragment,null,u.default.createElement(p.default,null),u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(h.default,{currentItem:"storageStatistic"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(v.default,{getActiviesFiles:this.getActiviesFiles}),r&&u.default.createElement(S.default,null),!r&&t.length>0&&u.default.createElement(E.default,{labels:t,filesData:n,suggestedMaxNumbers:1e7,isTitleCallback:!0,isTicksCallback:!0,isLegendStatus:!1,chartTitle:(0,_.gettext)("Total Storage")}))))}}]),t}(u.default.Component);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(7),d=r(c),f=n(2),p=n(4),m=n(38),h=r(m),g=n(780),v=r(g),b=n(852),y=r(b),E=n(8),w=r(E),S=n(2589),_=r(S),x=n(2590),O=r(x),C=n(853),P=r(C),k=n(3),D=n(5),M=r(D),T=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.changeTabActive=function(e){n.setState({tabActive:e})},n.getActiviesFiles=function(e,t,r){p.seafileAPI.sysAdminStatisticTraffic(e,t,r).then(function(e){var t=[],r=[],a=[],o=[],i=[],l=[],s=[],u=[],c=[],p=e.data;if(Array.isArray(p)){p.forEach(function(e){t.push((0,d.default)(e.datetime).format("YYYY-MM-DD")),o.push(e["link-file-upload"]),i.push(e["link-file-download"]),l.push(e["sync-file-upload"]),s.push(e["sync-file-download"]),u.push(e["web-file-upload"]),c.push(e["web-file-download"]),r.push(e["link-file-upload"]+e["sync-file-upload"]+e["web-file-upload"]),a.push(e["link-file-download"]+e["sync-file-download"]+e["web-file-download"])});var m={label:(0,f.gettext)("Upload"),data:o,borderColor:"#fd913a",backgroundColor:"#fd913a"},h={label:(0,f.gettext)("Download"),data:i,borderColor:"#57cd6b",backgroundColor:"#57cd6b"},g={label:(0,f.gettext)("Upload"),data:l,borderColor:"#fd913a",backgroundColor:"#fd913a"},v={label:(0,f.gettext)("Download"),data:s,borderColor:"#57cd6b",backgroundColor:"#57cd6b"},b={label:(0,f.gettext)("Upload"),data:u,borderColor:"#fd913a",backgroundColor:"#fd913a"},y={label:(0,f.gettext)("Download"),data:c,borderColor:"#57cd6b",backgroundColor:"#57cd6b"},E={label:(0,f.gettext)("Upload"),data:r,borderColor:"#fd913a",backgroundColor:"#fd913a"},w={label:(0,f.gettext)("Download"),data:a,borderColor:"#57cd6b",backgroundColor:"#57cd6b"},S=[m,h],_=[g,v],x=[b,y],O=[E,w];n.setState({linkData:S,syncData:_,webData:x,filesData:O,labels:t,isLoading:!1})}}).catch(function(e){var t=k.Utils.getErrorMsg(e);M.default.danger(t)})},n.renderCommonTool=function(){var e=n.state.tabActive;return"system"===e?u.default.createElement(y.default,{getActiviesFiles:n.getActiviesFiles},u.default.createElement("div",{className:"statistic-traffic-tab"},u.default.createElement("div",{className:"statistic-traffic-tab-item "+("system"===e?"active":""),onClick:n.changeTabActive.bind(n,"system")},(0,f.gettext)("System")),u.default.createElement("div",{className:"statistic-traffic-tab-item "+("user"===e?"active":""),onClick:n.changeTabActive.bind(n,"user")},(0,f.gettext)("Users")),u.default.createElement("div",{className:"statistic-traffic-tab-item "+("organizations"===e?"active":""),onClick:n.changeTabActive.bind(n,"organizations")},(0,f.gettext)("Organizations")))):u.default.createElement("div",{className:"statistic-traffic-tab"},u.default.createElement("div",{className:"statistic-traffic-tab-item "+("system"===e?"active":""),onClick:n.changeTabActive.bind(n,"system")},(0,f.gettext)("System")),u.default.createElement("div",{className:"statistic-traffic-tab-item "+("user"===e?"active":""),onClick:n.changeTabActive.bind(n,"user")},(0,f.gettext)("Users")),u.default.createElement("div",{className:"statistic-traffic-tab-item "+("organizations"===e?"active":""),onClick:n.changeTabActive.bind(n,"organizations")},(0,f.gettext)("Organizations")))},n.state={filesData:[],linkData:[],syncData:[],webData:[],labels:[],isLoading:!0,tabActive:"system"},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.labels,n=e.filesData,r=e.linkData,a=e.syncData,o=e.webData,i=e.isLoading,l=e.tabActive;return u.default.createElement(s.Fragment,null,u.default.createElement(h.default,null),u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(v.default,{currentItem:"trafficStatistic"}),u.default.createElement("div",{className:"cur-view-content"},this.renderCommonTool(),i&&u.default.createElement(w.default,null),!i&&"system"===l&&u.default.createElement("div",{className:"statistic-traffic-chart-container"},u.default.createElement("div",{className:"mb-4"},t.length>0&&u.default.createElement(P.default,{labels:t,filesData:n,chartTitle:(0,f.gettext)("Total Traffic"),suggestedMaxNumbers:1e7,isTitleCallback:!0,isTicksCallback:!0,isLegendStatus:!0})),u.default.createElement("div",{className:"mb-4"},t.length>0&&u.default.createElement(P.default,{labels:t,filesData:o,chartTitle:(0,f.gettext)("Web Traffic"),suggestedMaxNumbers:1e7,isTitleCallback:!0,isTicksCallback:!0,isLegendStatus:!0})),u.default.createElement("div",{className:"mb-4"},t.length>0&&u.default.createElement(P.default,{labels:t,filesData:r,chartTitle:(0,f.gettext)("Share Link Traffic"),suggestedMaxNumbers:1e7,isTitleCallback:!0,isTicksCallback:!0,isLegendStatus:!0})),u.default.createElement("div",{className:"mb-4"},t.length>0&&u.default.createElement(P.default,{labels:t,filesData:a,chartTitle:(0,f.gettext)("Sync Traffic"),suggestedMaxNumbers:1e7,isTitleCallback:!0,isTicksCallback:!0,isLegendStatus:!0}))),!i&&"user"===l&&u.default.createElement(O.default,null),!i&&"organizations"===l&&u.default.createElement(_.default,null))))}}]),t}(u.default.Component);t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(7),f=r(d),p=n(2),m=n(1349),h=r(m),g=n(1350),v=r(g),b=n(4),y=n(76),E=r(y),w=n(8),S=r(w),_=n(3),x=n(5),O=r(x),C=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPage=function(){n.getTrafficList(n.state.month,n.state.currentPage-1)},n.getNextPage=function(){n.getTrafficList(n.state.month,n.state.currentPage+1)},n.handleChange=function(e){var t=e.target.value;n.setState({month:t})},n.handleKeyPress=function(e){var t=n.state.month;if("Enter"===e.key){if(!/^([012]\d{3})(0[1-9]|1[012])$/.test(t)){var r=(0,p.gettext)("Invalid month, should be yyyymm.");return void n.setState({errorMessage:r})}n.getTrafficList(t,n.initPage),e.target.blur(),e.preventDefault()}},n.getTrafficList=function(e,t){var r=n.state,a=r.perPage,o=r.sortBy,i=r.sortOrder,l="asc"==i?o:o+"_"+i;n.setState({isLoading:!0,errorMessage:""}),b.seafileAPI.sysAdminListOrgTraffic(e,t,a,l).then(function(r){var a=r.data.org_monthly_traffic_list.slice(0);n.setState({month:e,currentPage:t,orgTrafficList:a,hasNextPage:r.data.has_next_page,isLoading:!1})}).catch(function(e){var t=_.Utils.getErrorMsg(e);O.default.danger(t)})},n.sortItems=function(e){n.setState({sortBy:e,sortOrder:"asc"==n.state.sortOrder?"desc":"asc"},function(){var e=n.state,t=e.month,r=e.currentPage;n.getTrafficList(t,r)})},n.resetPerPage=function(e){n.setState({perPage:e},function(){return n.getTrafficList(n.initPage,n.initMonth)})},n.state={orgTrafficList:[],perPage:25,currentPage:1,hasNextPage:!1,month:(0,f.default)().format("YYYYMM"),isLoading:!1,errorMessage:"",sortBy:"link_file_download",sortOrder:"desc"},n.initPage=1,n.initMonth=(0,f.default)().format("YYYYMM"),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r)},function(){e.getTrafficList(e.initMonth,e.state.currentPage)})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.errorMessage,r=e.orgTrafficList,a=e.currentPage,o=e.hasNextPage,i=e.perPage,l=e.sortBy,d=e.sortOrder;return u.default.createElement(s.Fragment,null,u.default.createElement("div",{className:"d-flex align-items-center mt-4"},u.default.createElement("span",{className:"statistic-reports-tip"},(0,p.gettext)("Month:")),u.default.createElement(c.Input,{className:"statistic-reports-input",defaultValue:(0,f.default)().format("YYYYMM"),onChange:this.handleChange,onKeyPress:this.handleKeyPress}),n&&u.default.createElement("div",{className:"error"},n)),t&&u.default.createElement(S.default,null),!t&&u.default.createElement(h.default,{type:"org",sortItems:this.sortItems,sortBy:l,sortOrder:d},r.length>0&&r.map(function(e,t){return u.default.createElement(v.default,{key:t,userTrafficItem:e,type:"org"})})),u.default.createElement(E.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:a,hasNextPage:o,curPerPage:i,resetPerPage:this.resetPerPage}))}}]),t}(u.default.Component);t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(6),d=n(1349),f=r(d),p=n(1350),m=r(p),h=n(4),g=n(76),v=r(g),b=n(7),y=r(b),E=n(8),w=r(E),S=n(2),_=n(3),x=n(5),O=r(x),C=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getPreviousPage=function(){n.getTrafficList(n.state.month,n.state.currentPage-1)},n.getNextPage=function(){n.getTrafficList(n.state.month,n.state.currentPage+1)},n.handleChange=function(e){var t=e.target.value;n.setState({month:t})},n.handleKeyPress=function(e){var t=n.state.month;if("Enter"===e.key){if(!/^([012]\d{3})(0[1-9]|1[012])$/.test(t)){var r=(0,S.gettext)("Invalid month, should be yyyymm.");return void n.setState({errorMessage:r})}n.getTrafficList(t,n.initPage),e.target.blur(),e.preventDefault()}},n.getTrafficList=function(e,t){var r=n.state,a=r.perPage,o=r.sortBy,i=r.sortOrder,l="asc"==i?o:o+"_"+i;n.setState({isLoading:!0,errorMessage:""}),h.seafileAPI.sysAdminListUserTraffic(e,t,a,l).then(function(r){var a=r.data.user_monthly_traffic_list.slice(0);n.setState({month:e,currentPage:t,userTrafficList:a,hasNextPage:r.data.has_next_page,isLoading:!1})}).catch(function(e){var t=_.Utils.getErrorMsg(e);O.default.danger(t)})},n.sortItems=function(e){n.setState({sortBy:e,sortOrder:"asc"==n.state.sortOrder?"desc":"asc"},function(){var e=n.state,t=e.month,r=e.currentPage;n.getTrafficList(t,r)})},n.resetPerPage=function(e){n.setState({perPage:e},function(){return n.getTrafficList(n.initMonth,n.initPage)})},n.state={userTrafficList:[],hasNextPage:!1,perPage:25,currentPage:1,month:(0,y.default)().format("YYYYMM"),isLoading:!1,errorMessage:"",sortBy:"link_file_download",sortOrder:"desc"},n.initPage=1,n.initMonth=(0,y.default)().format("YYYYMM"),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=new URL(window.location).searchParams,n=this.state,r=n.currentPage,a=n.perPage;this.setState({perPage:parseInt(t.get("per_page")||a),currentPage:parseInt(t.get("page")||r)},function(){e.getTrafficList(e.initMonth,e.state.currentPage)})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.errorMessage,r=e.userTrafficList,a=e.currentPage,o=e.hasNextPage,i=e.perPage,l=e.sortBy,d=e.sortOrder;return u.default.createElement(s.Fragment,null,u.default.createElement("div",{className:"d-flex align-items-center mt-4"},u.default.createElement("span",{className:"statistic-reports-tip"},(0,S.gettext)("Month:")),u.default.createElement(c.Input,{className:"statistic-reports-input",defaultValue:(0,y.default)().format("YYYYMM"),onChange:this.handleChange,onKeyPress:this.handleKeyPress}),n&&u.default.createElement("div",{className:"error"},n)),t&&u.default.createElement(w.default,null),!t&&u.default.createElement(f.default,{type:"user",sortItems:this.sortItems,sortBy:l,sortOrder:d},r.length>0&&r.map(function(e,t){return u.default.createElement(m.default,{key:t,userTrafficItem:e,type:"user"})})),u.default.createElement(v.default,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:a,hasNextPage:o,curPerPage:i,resetPerPage:this.resetPerPage}))}}]),t}(u.default.Component);t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(7),d=r(c),f=n(2),p=n(38),m=r(p),h=n(780),g=r(h),v=n(852),b=r(v),y=n(4),E=n(853),w=r(E),S=n(8),_=r(S),x=n(3),O=n(5),C=r(O),P=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getActiviesFiles=function(e,t,r){var a=n.state.filesData;y.seafileAPI.sysAdminStatisticActiveUsers(e,t,r).then(function(e){var t=[],r=[],o=e.data;if(Array.isArray(o)){o.forEach(function(e){t.push((0,d.default)(e.datetime).format("YYYY-MM-DD")),r.push(e.count)});var i={label:(0,f.gettext)("Active Users"),data:r,borderColor:"#fd913a",backgroundColor:"#fd913a"};a=[i]}n.setState({filesData:a,labels:t,isLoading:!1})}).catch(function(e){var t=x.Utils.getErrorMsg(e);C.default.danger(t)})},n.state={filesData:[],labels:[],isLoading:!0},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state,t=e.labels,n=e.filesData,r=e.isLoading;return u.default.createElement(s.Fragment,null,u.default.createElement(m.default,null),u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(g.default,{currentItem:"usersStatistic"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement(b.default,{getActiviesFiles:this.getActiviesFiles}),r&&u.default.createElement(_.default,null),!r&&t.length>0&&u.default.createElement(w.default,{labels:t,filesData:n,suggestedMaxNumbers:10,isLegendStatus:!1,chartTitle:(0,f.gettext)("Active Users")}))))}}]),t}(u.default.Component);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(38),d=r(c),f=n(7),p=r(f),m=n(780),h=r(m),g=n(6),v=n(2),b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){var t=e.target.value;n.setState({month:t})},n.onGenerateReports=function(e){var t=v.siteRoot+"api/v2.1/admin/statistics/",r=n.state.month;if(!r){var a=(0,v.gettext)("It is required.");return void n.setState({errorMessage:a})}if("month"===e){if(!/^([012]\d{3})(0[1-9]|1[012])$/.test(r)){var o=(0,v.gettext)("Invalid month, should be yyyymm.");return void n.setState({errorMessage:o})}}switch(e){case"month":t+="system-user-traffic/excel/?month="+r;break;case"storage":t+="system-user-storage/excel/?"}n.setState({errorMessage:""}),window.location.href=t},n.state={month:(0,p.default)().format("YYYYMM"),errorMessage:""},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.state.errorMessage;return u.default.createElement(s.Fragment,null,u.default.createElement(d.default,null),u.default.createElement("div",{className:"cur-view-container"},u.default.createElement(h.default,{currentItem:"reportsStatistic"}),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("div",{className:"statistic-reports"},u.default.createElement("div",{className:"statistic-reports-title"},(0,v.gettext)("Monthly User Traffic")),u.default.createElement("div",{className:"d-flex align-items-center mt-4"},u.default.createElement("span",{className:"statistic-reports-tip"},(0,v.gettext)("Month:")),u.default.createElement(g.Input,{className:"statistic-reports-input",defaultValue:(0,p.default)().format("YYYYMM"),onChange:this.handleChange}),u.default.createElement(g.Button,{className:"statistic-reports-submit operation-item",onClick:this.onGenerateReports.bind(this,"month")},(0,v.gettext)("Create Report"))),e&&u.default.createElement("div",{className:"error"},e)),u.default.createElement("div",{className:"statistic-reports"},u.default.createElement("div",{className:"statistic-reports-title"},(0,v.gettext)("User Storage")),u.default.createElement(g.Button,{className:"mt-4 operation-item",onClick:this.onGenerateReports.bind(this,"storage")},(0,v.gettext)("Create Report"))))))}}]),t}(u.default.Component);t.default=b}],[2455]);