{"version":3,"sources":["../js/app.js","components/modal-portal.js","models/repo-tag.js","components/logo.js","components/dialog/edit-filetag-dialog.js","components/dialog/related-file-dialogs.js","components/loading.js","components/search/search.js","app.js","components/search/search-result-item.js","components/system-notification.js","components/side-panel.js","components/main-side-nav.js","components/side-nav-footer.js","components/dialog/about-dialog.js","components/main-panel.js","pages/drafts/drafts-view.js","pages/drafts/draft-content.js","components/draft-list-view/draft-list-view.js","components/more.js","components/draft-list-view/draft-list-item.js","pages/dashboard/files-activities.js","models/activity.js","components/dialog/list-created-files-dialog.js","pages/starred/starred.js","pages/linked-devices/linked-devices.js","pages/share-admin/libraries.js","models/shared-repo-info.js","pages/share-admin/folders.js","../config/polyfills.js","components/common/notification.js","models/shared-folder-info.js","pages/share-admin/share-links.js","pages/share-admin/upload-links.js","pages/shared-libs/shared-libs.js","pages/my-libs/my-libs.js","components/toolbar/repo-view-toobar.js","pages/my-libs/mylib-repo-list-view.js","pages/my-libs/mylib-repo-list-item.js","components/dialog/delete-repo-dialog.js","components/dialog/lib-history-setting-dialog.js","components/common/notice-item.js","components/dialog/change-repo-password-dialog.js","components/dialog/reset-encrypted-repo-password-dialog.js","pages/my-libs/mylib-repo-menu.js","pages/my-libs/my-libs-deleted.js","pages/shared-with-all/public-shared-view.js","components/dialog/share-repo-dialog.js","components/shared-repo-list-view/shared-repo-list-item.js","pages/lib-content-view/lib-content-view.js","pages/lib-content-view/lib-content-toolbar.js","components/toolbar/view-file-toolbar.js","pages/lib-content-view/lib-content-container.js","components/dir-view-mode/dir-grid-view.js","components/dir-view-mode/dir-column-view.js","components/dir-view-mode/dir-column-nav.js","components/dir-view-mode/dir-column-file.js","pages/groups/group-view.js","components/dialog/create-department-repo-dialog.js","components/dialog/dismiss-group-dialog.js","components/dialog/rename-group-dialog.js","components/dialog/create-file-dialog.js","components/dialog/transfer-group-dialog.js","components/dialog/manage-members-dialog.js","pages/groups/groups-view.js","components/toolbar/groups-toolbar.js","components/dialog/create-group-dialog.js","pages/wikis/wikis.js","utils/url-decorator.js","components/dialog/new-wiki-dialog.js","components/dialog/wiki-select-dialog.js","components/wiki-list-view/wiki-list-view.js","components/wiki-list-view/wiki-list-item.js","components/select-editor/wiki-permission-editor.js","components/dialog/wiki-delete-dialog.js","components/main-content-wrapper.js","components/toolbar/general-toolbar.js","models/repo.js","utils/pinyin-by-unicode.js","models/dirent.js","components/dialog/move-dirent-dialog.js","components/dialog/copy-dirent-dialog.js","components/rename.js","components/toast/toaster.js","components/dialog/add-related-file-dialog.js","components/toast/toastManager.js","components/dialog/list-related-file-dialog.js","components/tree-view/tree-helper.js","components/tree-view/tree.js","components/tree-view/tree-view.js","components/tree-view/tree-node-view.js","components/tree-view/tree-node-menu.js","components/tree-view/tree-view-contextmenu.js","components/wiki-markdown-viewer.js","components/toast/toast.js","components/dialog/create-folder-dialog.js","components/dialog/zip-download-dialog.js","components/dialog/list-taggedfiles-dialog.js","components/toast/alert.js","components/select-editor/share-permission-editor.js","utils/constants.js","utils/editor-utilties.js","components/user-select.js","models/file-tag.js","components/dialog/share-dialog.js","components/common/account.js","utils/collab-server.js","components/dialog/delete-dialog.js","components/dialog/rename-dialog.js","components/toolbar/view-mode-toolbar.js","components/toolbar/dir-operation-toolbar.js","components/toolbar/mutilple-dir-operation-toolbar.js","components/dirent-list-view/dirents-menu.js","components/cur-dir-path/index.js","components/cur-dir-path/dir-path.js","components/cur-dir-path/dir-tool.js","components/dialog/list-tag-dialog.js","components/dialog/create-tag-dialog.js","components/dialog/update-tag-dialog.js","components/dirent-list-view/dirent-list-view.js","components/dirent-list-view/dirent-list-item.js","components/dirent-list-view/dirent-menu.js","components/dirent-detail/dirent-details.js","components/dirent-detail/detail-list-view.js","components/file-uploader/file-uploader.js","utils/seafile-api.js","components/file-chooser/file-chooser.js","components/file-uploader/upload-progress-dialog.js","components/file-uploader/upload-list-item.js","components/dialog/upload-remind-dialog.js","components/repo-info-bar.js","components/dialog/list-repo-drafts-dialog.js","models/draft.js","components/dialog/readme-dialog.js","components/dialog/lib-decrypt-dialog.js","models/repo-info.js","models/group.js","components/dialog/create-repo-dialog.js","components/dirent-detail/lib-details.js","components/dialog/transfer-dialog.js","components/shared-repo-list-view/shared-repo-list-view.js","components/select-editor/role-editor.js","components/select-editor/select-editor.js","utils/utils.js","models/shared-link-info.js","models/shared-upload-info.js","components/file-chooser/repo-list-view.js","components/file-chooser/repo-list-item.js","components/file-chooser/dirent-list-view.js","components/file-chooser/dirent-list-item.js","components/file-chooser/searched-list-view.js","components/file-chooser/searched-list-item.js","components/dialog/share-to-user.js","components/dialog/share-to-group.js","components/dialog/generate-share-link.js","components/dialog/generate-upload-link.js","components/dir-view-mode/dir-list-view.js","components/dialog/internal-link-dialog.js","components/toast/index.js","components/toolbar/common-toolbar.js","components/tree-view/tree-node.js"],"names":["webpackJsonp","10","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_react","_react2","_reactDom","_reactDom2","_propTypes","_propTypes2","propTypes","children","PropTypes","object","isRequired","modalRoot","document","getElementById","ModalPortal","_React$Component","this","_this","getPrototypeOf","el","createElement","appendChild","removeChild","ReactDOM","createPortal","React","Component","103","RepoTag","id","repo_tag_id","fileCount","files_count","name","tag_name","color","tag_color","104","_constants","onCloseSidePanel","func","Logo","_ref","_temp","_ret","_len","arguments","args","Array","_key","apply","concat","closeSide","className","href","siteRoot","src","mediaUrl","logoPath","height","logoHeight","width","logoWidth","title","siteTitle","alt","onClick","aria-label","106","_reactstrap","_seafileApi","_utils","_repoTag","_repoTag2","TagItemPropTypes","repoID","string","repoTag","filePath","fileTagList","array","onEditFileTag","TagItem","onMouseEnter","setState","showSelectedTag","onMouseLeave","getRepoTagIdList","repoTagIdList","map","fileTag","push","_this$props","indexOf","seafileAPI","addFileTag","then","deleteFileTag","state","drakColor","Utils","getDarkColor","style","backgroundColor","onFileTagChanged","toggleCancel","EditFileTagDialog","_React$Component2","_this2","getRepoTagList","listRepoTags","res","repotagList","data","repo_tags","forEach","item","toggle","_this3","Modal","isOpen","ModalHeader","gettext","ModalBody","ModalFooter","Button","107","_addRelatedFileDialog","_addRelatedFileDialog2","_listRelatedFileDialog","_listRelatedFileDialog2","_modalPortal","_modalPortal2","onRelatedFileChange","dirent","relatedFiles","viewMode","oneOf","RelatedFileDialogs","onAddRelatedFileToggle","showListRelatedFileDialog","onCloseAddRelatedFileDialog","size","addRelatedFileToggle","onClose","11","Loading","113","116","_reactResponsive","_reactResponsive2","_searchResultItem","_searchResultItem2","_editorUtilties","_editorUtilties2","_more","_more2","placeholder","onSearchedClick","Search","_Component","onFocusHandler","isMaskShow","isCloseShow","onCloseHandler","resetToDefault","onItemClickHandler","onChangeHandler","event","newValue","inputValue","trim","getValueLength","isResultShow","isResultGetted","queryData","q","search_repo","search_ftypes","timer","clearTimeout","setTimeout","getSearchResult","onShowMore","params","window","location","slice","onSearchToggle","isSearchInputShow","resultItems","source","cancelRequest","editorUtilities","getSource","sendRequest","token","cancelToken","searchFiles","total","items","formatResultItems","results","catch","console","log","cancel","str","code","len","charCodeAt","fullpath","repo_id","repo_name","is_dir","decodeURI","substring","content_highlight","isShowMore","index","Fragment","query","type","onFocus","onChange","autoComplete","renderSearchResult","1178","1179","_router","_systemNotification","_systemNotification2","_sidePanel","_sidePanel2","_mainPanel","_mainPanel2","_draftsView","_draftsView2","_draftContent","_draftContent2","_filesActivities","_filesActivities2","_starred","_starred2","_linkedDevices","_linkedDevices2","_libraries","_libraries2","_folders","_folders2","_shareLinks","_shareLinks2","_uploadLinks","_uploadLinks2","_sharedLibs","_sharedLibs2","_myLibs","_myLibs2","_myLibsDeleted","_myLibsDeleted2","_publicSharedView","_publicSharedView2","_libContentView","_libContentView2","_groupView","_groupView2","_groupsView","_groupsView2","_wikis","_wikis2","_mainContentWrapper","_mainContentWrapper2","FilesActivitiesWrapper","FilesActivities","DraftsViewWrapper","DraftsView","StarredWrapper","Starred","LinkedDevicesWrapper","LinkedDevices","SharedLibrariesWrapper","SharedLibraries","ShareAdminLibrariesWrapper","ShareAdminLibraries","ShareAdminFoldersWrapper","ShareAdminFolders","ShareAdminShareLinksWrapper","ShareAdminShareLinks","ShareAdminUploadLinksWrapper","ShareAdminUploadLinks","App","getDrafts","editUtilties","listDrafts","draftCounts","draft_counts","draftList","isLoadingDraft","updateDraftsList","draft_id","filter","draft","isSidePanelClosed","onShowSidePanel","selectedItem","currentTab","pathPrefix","url","path","navigate","repalce","encodePath","open","onGroupChanged","groupID","toString","tabItemClick","tabName","dirViewPanels","generatorPrefix","navTab1","showName","navTab2","navTab","getTabShowName","split","home","canAddRepo","Router","onMenuClick","onTabNavClick","render","118","SearchResultItem","onClickHandler","fileIconUrl","getFolderIconUrl","getFileIconUrl","link_content","dangerouslySetInnerHTML","__html","content","1180","SystemNotification","close","isClosed","navigator","cookieEnabled","date","Date","cookies","cookie","infoIDExist","newInfoID","curNoteID","setTime","getTime","toGMTString","curNoteMsg","1181","1182","_logo","_logo2","_mainSideNav","_mainSideNav2","_sideNavFooter","_sideNavFooter2","bool","oneOfType","number","SidePanel","1183","_group","_group2","MainSideNav","grpsExtend","groupsExtended","loadGroups","shExtend","sharedExtended","listGroups","groupList","Group","groupsHeight","listHeight","groupItems","param","getActiveClass","tab","closeSideBar","adminHeight","Link","to","aria-hidden","_this4","linksNavItem","canGenerateShareLink","canGenerateUploadLink","_this5","canViewOrg","renderSharedGroups","isDocs","enableWiki","Badge","pill","renderSharedAdmin","1184","_aboutDialog","_aboutDialog2","SideNavFooter","onAboutDialogToggle","isAboutDialogShow","rel","onCloseAboutDialog","1185","AboutDialog","lang","seafileVersion","1186","MainPanel","1187","1188","_toast","_toast2","_loading","_loading2","_draftListView","_draftListView2","DraftContent","onDeleteHandler","draft_name","getFileName","draft_file_path","deleteDraft","msg_s","replace","toaster","success","danger","onPublishHandler","publishDraft","1189","_draftListItem","_draftListItem2","DraftListView","onFreezedItem","isItemFreezed","onUnfreezedItem","drafts","119","More","1190","_moment","_moment2","moment","locale","DraftListItem","isMenuIconShow","highlight","onDropdownToggleClick","e","preventDefault","toggleOperationMenu","stopPropagation","isItemMenuShow","origin_repo_id","fileName","draftUrl","libraryUrl","encodeURIComponent","localTime","utc","updated_at","toDate","fromNow","iconUrl","Dropdown","DropdownToggle","tag","data-toggle","aria-expanded","DropdownMenu","DropdownItem","status","1191","_toConsumableArray","arr","isArray","arr2","from","_activity","_activity2","_listCreatedFilesDialog","_listCreatedFilesDialog2","app","config","contentPropTypes","isLoadingMore","FileActivitiesContent","_props","ActivityItem","activityPropTypes","_Component2","active","onListCreatedFilesToggle","isListCreatedFiles","_props2","op","details","userProfileURL","author_email","libURL","libLink","smallLibLink","obj_type","op_type","old_repo_name","days","fileURL","fileLink","endsWith","serviceURL","createdFilesCount","firstLine","old_name","filePathLink","old_path","dirURL","dirLink","dirPathLink","isShowDate","lastEventTime","time","isSame","colSpan","format","avatar_url","author_name","datetime","is","activity","_Component3","mergePublishEvents","events","curPathList","oldPathList","actuallyEvents","includes","splice","mergeFileCreateEvents","multiFilesActivity","isFulfilCondition","createdFilesList","Activity","handleScroll","hasMore","clientHeight","scrollHeight","scrollTop","getMore","errorMsg","isFirstLoading","currentPage","avatarSize","listActivities","error","response","onScroll","1192","Acticity","json","commit_id","author_contact_email","1193","ListCreatedFileDialog","Table","bind","1194","1195","Content","_props$data","loading","desktopThead","mobileThead","innerWidth","TableBody","getThumbnails","imageCheck","obj_name","repo_encrypted","getThumbnail","curItem","createThumbnail","encoded_thumbnail_src","listFilesActivities","item_icon_url","getDefaultLibIconUrl","encoded_path","thumbnail_url","dirent_view_url","mtime_relative","mtime","Item","handleMouseOver","showOpIcon","handleMouseOut","handleClick","unstarItem","unstarred","opClasses","desktopItem","onMouseOver","onMouseOut","mobileItem","_Component4","_this6","listStarredItems","starred_item_list","loginUrl","1196","listLinkedDevices","unlinked","unlinkDevice","platform","device_id","device_name","message","last_login_ip","last_accessed","1197","_sharePermissionEditor","_sharePermissionEditor2","_sharedRepoInfo","_sharedRepoInfo2","sortByName","sortOrder","sortItems","sortBy","emptyTip","sortIcon","table","unshareFolder","_initialiseProps","share_permission","is_admin","unshared","permissions","isPro","_getRepoParams","getRepoParams","iconTitle","repoUrl","_state","shareTo","shareType","share_type","contact_email","user_name","group_name","showAdmin","iconVisibility","unshareIconClassName","isTextMode","isEditIconShow","currentPermission","onPermissionChanged","changePerm","unshare","permission","options","user","user_email","group_id","updateRepoSharePerm","getLibIconUrl","getLibIconTitle","unshareRepo","repoItem","sortRepos","listSharedRepos","SharedRepoInfo","1198","modifier_name","modifier_email","modifier_contact_email","encrypted","1199","_sharedFolderInfo","_sharedFolderInfo2","perm","postData","p","username","updateFolderSharePerm","getFolderParams","is_readonly","getFolderIconTitle","folderUrl","_getFolderParams","folder_name","_sortItems","comparator","a","b","compareTwoWord","sort","folderItem","listSharedFolders","SharedFolderInfo","12","Promise","enable","assign","120","_noticeItem","_noticeItem2","Notification","showNotice","updateNotifications","unseenCount","loadNotices","listPopupNotices","noticeList","notification_list","onNoticeItemClick","noticeItem","seen","markNoticeAsRead","getUnseenNotificationCount","unseen_count","1200","1201","_sharedLinkInfo","_sharedLinkInfo2","_copyToClipboard","_copyToClipboard2","sortByTime","toggleModal","modalOpen","showModal","modalContent","copyToClipboard","onRemoveLink","centered","viewLink","link","removeLink","getLinkParams","linkUrl","renderExpriedData","expire_date","is_expired","_getLinkParams","linkIconClassName","deleteIconClassName","view_cnt","deleteShareLink","uploadItem","listShareLinks","SharedLinkInfo","1202","_sharedUploadInfo","_sharedUploadInfo2","getUploadParams","uploadUrl","_getUploadParams","deleteUploadLink","listUploadLinks","SharedUploadInfo","1203","_reactCookies","_reactCookies2","_repo","_repo2","_shareDialog","_shareDialog2","listItems","toggleShareDialog","isShowSharedDialog","onStarRepo","isStarred","starItem","starred","share","leaveShare","request","owner_email","leaveShareRepo","leaveShareGroupOwnedRepo","icon_url","icon_title","shareIconClassName","leaveShareIconClassName","last_modified","owner_contact_email","owner_name","itemType","itemName","itemPath","repoEncrypted","enableDirPrivateShare","userPerm","isAdmin","toggleDialog","save","load","listRepos","repoList","repos","Repo","1204","_commonToolbar","_commonToolbar2","_repoViewToobar","_repoViewToobar2","_libDetails","_libDetails2","_mylibRepoListView","_mylibRepoListView2","MyLibraries","onCreateRepo","repo","createMineRepo","repo_size","email","unshift","sortRepoList","onTransferRepo","onRenameRepo","newName","onDeleteRepo","onRepoClick","isShowDetails","onRepoDetails","currentRepo","closeDetails","isLoading","emptyMessage","libraryType","1205","_createRepoDialog","_createRepoDialog2","RepoViewToolbar","onCreateToggle","isCreateRepoDialogShow","toggleMore","1206","_mylibRepoListItem","_mylibRepoListItem2","MylibRepoListView","renderRepoListView","renderPCUI","showStorageBackend","storages","renderMobileUI","1207","_deleteRepoDialog","_deleteRepoDialog2","_transferDialog","_transferDialog2","_libHistorySettingDialog","_libHistorySettingDialog2","_changeRepoPasswordDialog","_changeRepoPasswordDialog2","_resetEncryptedRepoPasswordDialog","_resetEncryptedRepoPasswordDialog2","_rename","_rename2","_mylibRepoMenu","_mylibRepoMenu2","MylibRepoListItem","isOpIconShow","onMenuItemClick","onShareToggle","onDeleteToggle","onRenameToggle","onTransferToggle","onHistorySettingToggle","onChangePasswordToggle","onResetPasswordToggle","onLabel","isShareDialogShow","isDeleteDialogShow","isRenaming","isTransferDialogShow","isHistorySettingDialogShow","isChangePasswordDialogShow","isResetPasswordDialogShow","onRenameConfirm","renameRepo","onRenameCancel","transferRepo","deleteRepo","repoURL","isPC","storage_name","submit","repoName","1208","DeleteRepoDialog","HTMLescape","1209","LibHistorySetting","keepDays","autoHistory","expireDays","test","setRepoHistoryLimit","keep_days","errorInfo","num","setLimitDays","disabled","allHistory","noHistory","getRepoHistoryLimit","Form","enableRepoHistorySetting","FormGroup","Label","check","Input","checked","Alert","121","NoticeItem","noticeType","detail","group_staff_avatar_url","groupStaff","group_staff_name","userHref","group_staff_email","groupHref","groupName","notice","userLink","groupLink","share_from_user_avatar_url","shareFrom","share_from_user_name","repoLink","groupUrl","transfer_from_user_avatar_url","repoOwner","transfer_from_user_name","uploaded_user_avatar_url","file_name","file_path","folderName","folderLink","folder_path","uploadFileLink","uploadedLink","author_avatar_url","author","fileUrl","draftId","draftLink","request_user_avatat_url","fromUser","request_user_name","_generatorNoticeInfo","generatorNoticeInfo","timestamp","1210","ChangeRepoPasswordDialog","handleOldPasswordInputChange","oldPassword","handleNewPasswordInputChange","newPassword","handleNewPasswordAgainInputChange","newPasswordAgain","formSubmit","_this$state","repoPasswordMinLength","submitBtnDisabled","changeEncryptedRepoPassword","error_msg","generateDialogTitle","action","method","htmlFor","1211","ResetEncryptedRepoPasswordDialog","errMessage","showLoading","showSuccess","showError","resetAndSendEncryptedRepoPassword","contactEmail","1212","MylibRepoMenu","operation","dataset","generatorOperations","showResetPasswordMenuItem","enableResetEncryptedRepoPassword","isEmailConfigured","operations","folderPermEnabled","enableRepoSnapshotLabel","translateOperations","translateResult","1213","MyLibsDeleted","refreshDeletedRepoList","deletedRepoList","listDeletedRepo","DeletedRepoTable","deletedRepos","DeletedRepoItem","hideRestoreMenu","restoreDeletedRepo","del_time","1214","_shareRepoDialog","_shareRepoDialog2","_sharedRepoListView","_sharedRepoListView2","PublicSharedView","createPublicRepo","owner","addRepoItem","onCreateRepoToggle","onRepoSelectedHandler","selectedRepoList","selectOwnedRepoToPublic","sharePermission","onItemUnshare","onItemDelete","isExist","repoIndex","newRepoList","onAddRepoToggle","isCreateMenuShow","onSelectRepoToggle","isSelectRepoDialpgShow","onShareRepoDialogClose","1215","shareRepoListItemProps","onRepoSelect","onPermissionChange","ShareRepoListItem","isChecked","padding","ShareRepoDialog","handleSubmit","onCloseDialog","1216","currentGroup","onItmeDetails","onItemRename","SharedRepoListItem","isOperationShow","clickOperationMenuToggle","getRepoComputeParams","libPath","onItemRenameToggle","onItemPermisionChanged","onItemDetails","onItemShare","translateMenuItem","menuItem","isStaff","admins","isRepoOwner","isDeparementOnwerGroupMember","generatorMobileMenu","isSystemStaff","generatorPCMenu","shareOperation","unshareOperation","deleteOperation","_this$getRepoComputeP","isGroupOwnedRepo","_this$getRepoComputeP2","1217","_collabServer","_collabServer2","_dirent2","_dirent3","_fileTag","_fileTag2","_repoInfo2","_repoInfo3","_treeNode","_treeNode2","_treeHelper","_treeHelper2","_libDecryptDialog","_libDecryptDialog2","_libContentToolbar","_libContentToolbar2","_libContentContainer","_libContentContainer2","_fileUploader","_fileUploader2","LibContentView","showDirentDetail","isDirentDetailShow","closeDirentDetail","onpopstate","loadDirentList","isViewFile","currentMode","isMarkdownFile","showFile","onRepoUpdateEvent","currentTime","parseFloat","lastModifyTime","_this2$state","dirID","dirMetaData","notify","duration","updateUsedRepoTags","usedRepoTags","usedRepoTag","updateReadmeMarkdown","direntList","readmeMarkdown","some","toLowerCase","loadDirData","collabServer","watchRepo","getRepoDraftCounts","getFileInfo","loadSidePanel","showDir","listDir","tree","treeData","addResponseListToNode","dirent_list","root","isTreeDataLoading","loadNodeAndParentsByPath","isDirentListLoading","isNeedUpdateHistoryState","repoInfo","currentRepoInfo","history","pushState","listFileTags","fileTags","file_tags","FileTag","listRelatedFiles","related_files","relatedFile","isFileLoading","_res$data","last_modifier_name","is_draft","has_draft","getFileDownloadLink","getFileContent","filePermission","latestContributor","lastModified","unix","isFileLoadedErr","isDraft","hasDraft","draftID","with_thumbnail","markdownItem","Dirent","pathExist","user_perm","sortDirents","dir_id","curItemPath","join","onMoveItems","destRepo","destDirentPath","direntPaths","getSelectedDirentPaths","dirNames","getSelectedDirentNames","moveDir","names","direntPath","moveTreeNode","moveDirent","onCopyItems","copyDir","copyTreeNode","onDeleteItems","deleteMutipleDirents","deleteTreeNode","deleteDirent","onAddFolder","dirPath","createDir","parentPath","getDirName","addNodeToTree","addDirent","onAddFile","createFile","switchViewMode","mode","currentPath","paths","getPaths","node","getNodeByPath","currentNode","newWindow","onMainNavBarClick","nodePath","resetSelected","clone","expandNode","onLinkClick","isInternalMarkdownLink","getPathFromInternalMarkdownLink","isInternalDirLink","getPathFromInternalDirLink","onMainPanelItemRename","joinPath","renameItem","isDir","onMainPanelItemDelete","deleteItem","onRenameTreeNode","onDeleteTreeNode","renameDir","renameItemAjaxCallback","renameFile","onMoveItem","moveToDirentPath","nodeParentPath","dirName","nodeName","onCopyItem","copyToDirentPath","onDirentClick","loadTreeNodeByPath","w","onDirentSelected","isSelected","selectedDirentList","isDirentSelected","isAllDirentSelected","onAllDirentSelected","updateDirent","onFileUploadSuccess","direntObject","createDirent","renameDirent","newDirentPath","replaceState","isChildPath","oldName","isAncestorPath","newPath","renameAncestorPath","lastIndexOf","paramKey","paramValue","newDirentList","isLoaded","parentNode","isExpanded","with_parents","parent_dir","isLoadFailed","onTreeNodeClick","collapseNode","treeHelper","onTreeNodeCollapse","onTreeNodeExpanded","createTreeNode","addNodeToParentByPath","renameTreeNode","renameNodeByPath","deleteNodeByPath","moveToPath","moveToRepo","moveNodeByPath","copyToPath","copyNodeByPath","list","nodeList","TreeNode","addChildren","selectedDirent","onLibDecryptDialog","libNeedDecrypt","goDraftPage","onUploadFile","nativeEvent","stopImmediatePropagation","uploader","onFileUpload","onUploadFolder","onFolderUpload","onToolbarFileTagChanged","onToolbarRelatedFileChange","unSelectDirent","onDeleteRepoTag","deletedTagID","hash","repoPermission","buildTree","decodeURIComponent","getRepoInfo","RepoInfo","lib_need_decrypt","unwatchRepo","deleteDir","deleteItemAjaxCallback","deleteFile","showShareBtn","isVirtual","is_virtual","showGenerateShareLinkTab","showGenerateUploadLinkTab","onSideNavMenuClick","onItemsMove","onItemsCopy","onItemsDelete","onFilesTagChanged","onNodeClick","onNodeCollapse","onNodeExpanded","onAddFolderNode","onAddFileNode","onRenameNode","onDeleteNode","onItemClick","onItemSelected","onItemMove","onItemCopy","ref","dragAndDrop","1218","_viewModeToolbar","_viewModeToolbar2","_dirOperationToolbar","_dirOperationToolbar2","_mutilpleDirOperationToolbar","_mutilpleDirOperationToolbar2","_viewFileToolbar","_viewFileToolbar2","LibContentToolbar","searchPlaceholder","1219","_editFiletagDialog","_editFiletagDialog2","_relatedFileDialogs","_relatedFileDialogs2","ViewFileToolbar","onEditClick","onNewDraft","_this$props2","createDraft","onDraftHover","isDraftMessageShow","isMoreMenuShow","onEditFileTagToggle","isEditTagDialogShow","onListRelatedFileToggle","isRelatedFileDialogShow","showRelatedFileDialog","Tooltip","placement","122","1220","_curDirPath","_curDirPath2","_direntDetails","_direntDetails2","_dirListView","_dirListView2","_dirGridView","_dirGridView2","_dirColumnView","_dirColumnView2","userPrem","LibContentContainer","onPathClick","currentDirent","onItemDetailsClose","nextProps","isRepoInfoBarShow","isAllItemSelected","onAllItemSelected","1221","DirGridView","1222","_dirColumnNav","_dirColumnNav2","_dirColumnFile","_dirColumnFile2","DirColumnView","onResizeMouseUp","inResizing","setCookie","navRate","onResizeMouseDown","containerWidth","refs","viewModeContainer","clientWidth","onResizeMouseMove","sizeNavWidth","rate","clientX","getCookie","cookiename","c","onResizeMove","select","mainFlex","onMouseMove","onMouseUp","onMouseDown","userSelect","flex","1223","_treeView","_treeView2","_deleteDialog","_deleteDialog2","_renameDialog","_renameDialog2","_copyDirentDialog","_copyDirentDialog2","_moveDirentDialog","_moveDirentDialog2","_createFolderDialog","_createFolderDialog2","_createFileDialog","_createFileDialog2","_reactImageLightbox","_reactImageLightbox2","DirColumnNav","opNode","showNodeImagePopup","onAddFolderToggle","onAddFileToggle","onCopyToggle","onMoveToggle","onOpenFile","isAddFileDialogShow","isAddFolderDialogShow","isRenameDialogShow","isCopyDialogShow","isMoveDialogShow","newUrl","checkDuplicatedName","childrenNode","imageNames","isNodeImagePopupOpen","imageNodeItems","prepareImageItems","imageIndex","useThumbnail","prepareItem","fileExt","substr","isGIF","thumbnailSizeForOriginal","closeNodeImagePopup","moveToPrevImage","imageItemsLength","prevState","moveToNextImage","isMutipleOperation","isNodeMenuShow","imageCaption","role","onUnFreezedItem","addFolderCancel","addFileCancel","onRename","onCancelCopy","onCancelMove","mainSrc","imageTitle","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","imagePadding","imageLoadErrorMessage","prevLabel","nextLabel","closeLabel","zoomInLabel","zoomOutLabel","defaultProps","1224","_wikiMarkdownViewer","_wikiMarkdownViewer2","DirColumnFile","_this$props3","isTOCShow","markdownContent","1225","1226","_createDepartmentRepoDialog","_createDepartmentRepoDialog2","_dismissGroupDialog","_dismissGroupDialog2","_renameGroupDialog","_renameGroupDialog2","_transferGroupDialog","_transferGroupDialog2","_manageMembersDialog","_manageMembersDialog2","GroupView","loadGroup","getGroup","getEmptyTip","isOwner","isDepartmentGroup","parent_group_id","loadRepos","listGroupRepos","groupOwnerType","groupId","createGroupOwnedLibrary","createGroupRepo","deleteGroupOwnedLibrary","group","renameGroupOwnedLibrary","toggleGroupDropdown","showGroupDropdown","toggleDismissGroupDialog","showDismissGroupDialog","toggleRenameGroupDialog","showRenameGroupDialog","toggleTransferGroupDialog","showTransferGroupDialog","toggleManageMembersDialog","showManageMembersDialog","listGroupMembers","groupMembers","toggleGroupMembersPopover","showGroupMembersPopover","translateRole","isShowSettingIcon","that","Popover","hideArrow","currentGroupName","1227","CreateDepartmentRepoDialog","handleChange","validateRepoName","createRepo","handleKeyPress","componentDidMount","newInput","focus","createRef","for","onKeyPress","innerRef","input","maxLength","maxFileName","1228","DismissGroupDialog","dismissGroup","deleteGroup","DismissGroupDialogPropTypes","1229","RenameGroupDialog","handleGroupNameChange","newGroupName","renameGroup","handleKeyDown","keyCode","onKeyDown","RenameGroupDialogPropTypes","123","fileType","CreateFile","childName","isDuplicated","handleCheck","pos","isdraft","setSelectionRange","1230","_userSelect","_userSelect2","TransferGroupDialog","handleSelectChange","option","selectedOption","transferGroup","isMulti","onSelectChange","1231","1232","_roleEditor","_roleEditor2","ManageMembersDialog","addGroupMember","emails","addGroupMembers","onGroupMembersChange","clearSelect","failed","toggleItemFreezed","isFreezed","undefined","Member","MemberPropTypes","_React$PureComponent","onChangeUserRole","setGroupAdmin","deleteMember","deleteGroupMember","handleMouseLeave","roles","deleteAuthority","scope","currentRole","onRoleChanged","PureComponent","1233","1234","1235","_groupsToolbar","_groupsToolbar2","_createGroupDialog","_createGroupDialog2","RepoListViewPanel","isShowTableThread","isShowRepoOwner","GroupsView","toggleAddGroupModal","showAddGroupModal","onCreateGroup","GroupsViewPropTypes","1236","GroupsToolbar","1237","CreateGroupDialog","handleGroupChange","handleSubmitGroup","createGroup","CreateGroupDialogPropTypes","1238","1239","_newWikiDialog","_newWikiDialog2","_wikiSelectDialog","_wikiSelectDialog2","_wikiListView","_wikiListView2","Wikis","getWikis","listWikis","wikis","clickMenuToggle","onMenuToggle","isShowAddWikiMenu","onSelectToggle","isShowSelectDialog","isShowCreateDialog","addWiki","renameWiki","wiki","slug","deleteWiki","124","URLDecorator","historyRepoID","objID","fileServerRoot","1240","NewWikiDialog","inputNewName","1241","WikiSelectDialog","1242","_wikiListItem","_wikiListItem2","WikiListView","1243","_wikiPermissionEditor","_wikiPermissionEditor2","_wikiDeleteDialog","_wikiDeleteDialog2","WikiListItem","isShowMenuControl","isShowWikiMenu","updateWikiPermission","Toast","isRenameing","isShowDeleteDialog","onDeleteCancel","owner_nickname","1244","_selectEditor","_selectEditor2","WikiPermissionEditor","translatePermission","currentOption","onOptionChanged","translateOption","1245","WikiDeleteDialog","1246","_generalToolbar","_generalToolbar2","MainContentWrapper","WrapperedComponent","Wrapper","1247","GeneralToolbar","125","bytesToSize","13","strChineseFirstPY","137","14","is_locked","lock_time","lock_owner","lock_owner_name","locked_by_me","141","_fileChooser","_fileChooser2","MoveDirent","moveItems","moveItem","selectedPath","moveDirentPath","flag","_this$state2","onDirentItemClick","onRepoItemClick","nextState","margin","142","CopyDirent","copyItems","copyItem","copyDirentPath","143","hasSuffix","Rename","_this$validateInput","validateInput","isValid","renameInput","endIndex","15","_extends","hasOwnProperty","_toastManager","_toastManager2","isBrowser","Toaster","_bindNotify","handler","notifyHandler","_bindGetToasts","getToastsHandler","_bindCloseAll","closeAllHandler","getToasts","closeAll","settings","intent","warning","container","setAttribute","body","bindNotify","bindGetToasts","bindCloseAll","159","AddRelatedFileDialog","onAddRelatedFile","oRepoID","rRepoID","oFilePath","rFilePath","addRelatedFile","isShowFile","subtitle","16","_objectWithoutProperties","keys","_glamor","wrapperClass","css","maxWidth","top","left","right","position","zIndex","hasCustomId","ToastManager","context","toasts","toast","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","String","startsWith","closeToast","err","return","createToastInstance","previousState","uniqueId","idCounter","description","hasCloseButton","isShown","removeToast","onRemove","160","_dirent","ListRelatedFileDialog","onDeleteRelatedFile","relatedID","related_id","deleteRelatedFile","getDirentList","hover","RelatedFile","RelatedFilePropTypes","161","162","_tree","_tree2","TreeHelper","treeCopy","sortType","order","objects","getNodeChildrenObject","addNodeToParentNode","addNodeListToParent","addNodeToParent","deleteNode","nodePaths","renameNode","newValues","updateNode","destPath","destNode","moveNode","delete","treeNode","copyNode","Tree","setRoot","163","callback","findNode","traverseDF","addChild","deleteChild","rename","updateObjectParam","stack","found","shift","queue","serializeToJson","deserializefromJson","164","_treeNodeView","_treeNodeView2","_treeViewContextmenu","_treeViewContextmenu2","TreeView","onNodeDragStart","dragStartNodeData","nodeDirent","nodeRootPath","JSON","stringify","dataTransfer","effectAllowed","setData","onNodeDragEnter","onNodeDragMove","dropEffect","onNodeDragLeave","onNodeDrop","files","getData","parse","_dragStartNodeData","dropNodeData","contextMenu","isRightMenuShow","fileData","nodeData","mousePosition","clientY","unregisterHandlers","querySelector","removeEventListener","registerHandlers","addEventListener","onNodeChanged","closeRightMenu","paddingLeft","165","_treeNodeMenu","_treeNodeMenu2","TreeNodeView","isShowOperationMenu","isHighlight","onLoadToggle","isNodeDropShow","getNodeTypeAndIcon","icon","suffix","renderChildren","hasChildren","_getNodeTypeAndIcon","hlClass","draggable","onDragStart","onDragEnter","onDragLeave","onDragOver","onDrop","166","TreeNodeMenu","menuList","caculateMenuList","167","TreeViewContextMenu","calculateMenuDistance","rightTreeMenu","rightTreeMenuHeight","offsetHeight","listenClick","handleContextMenu","rightTreeMenuWidth","offsetWidth","168","169","_markdownViewer","_markdownViewer2","isWiki","WikiMarkdownViewer","onContentRendered","markdownViewer","titlesInfo","tagName","onScrollHandler","contentScrollTop","markdownContainer","current","titlesLength","activeTitleIndex","changeInlineNode","isPublicWiki","RegExp","index2","imagePath","modifyValueBeforeRender","nodes","newNodes","changeMarkdownNodes","renderMarkdown","showTOC","links","querySelectorAll","MarkdownViewer","17","_Transition","_Transition2","_alert","_alert2","animationEasing","deceleration","acceleration","spring","openAnimation","keyframes","opacity","transform","closeAnimation","animationStyles","display","flexDirection","alignItems","transition","&[data-state=\"entering\"], &[data-state=\"entered\"]","animation","&[data-state=\"exiting\"]","clearCloseTimer","startCloseTimer","closeTimer","handleMouseEnter","onRef","_ref$getBoundingClien","getBoundingClientRect","prevProps","appear","unmountOnExit","timeout","in","onExited","data-state","marginBottom","isRemoveable","170","CreateForder","171","onCancelDownload","progress","ZipDownloadDialog","172","currentTag","ListTaggedFilesDialog","onDeleteTaggedFile","taggedFile","fileTagID","file_tag_id","getTaggedFiles","listTaggedFiles","taggedFileList","tagged_files","file","TaggedFile","TaggedFilePropTypes","parent_path","filename","file_deleted","18","containerStyle","borderRadius","boxSizing","boxShadow","justifyContent","containerBorderSuccess","borderLeft","containerBorderWarn","containerBorderDanger","containerBorderNotify","toastTextTitle","fontWeight","fontSize","toastTextChild","toastClose","marginLeft","lineHeight","textAlign","cursor",":hover","toastIcon","marginRight","borderStyle","iconColor","iconClass","toastStyle","getContainerStyle","toastTextContainer","19","SharePermissionEditor","sharePerms","translateExplanation","explanation","sharePermsExplanation","2","avatarInfo","siteName","seafileCollabServer","pageOptions","fileAuditEnabled","enableFileComment","enableUploadFolder","enableResumableFileUpload","shareLinkExpireDaysMin","shareLinkExpireDaysMax","enableEncryptedLibrary","repoId","initialPath","initial_path","serviceUrl","PER_PAGE","fileHistory","draftFilePath","draftOriginFilePath","draftFileName","draftRepoID","authorAvatar","originFileExists","draftFileExists","draftStatus","draftPublishVersion","originFileVersion","orgID","org","invitationLink","orgMemberQuotaEnabled","constanceEnabled","sysadmin","constance_enabled","multiTenancy","multi_tenancy","multiInstitution","multi_institution","sysadminExtraEnabled","sysadmin_extra_enabled","enableGuestInvitation","enable_guest_invitation","enableTermsAndConditions","enable_terms_and_conditions","isDefaultAdmin","is_default_admin","enableFileScan","enable_file_scan","canViewSystemInfo","admin_permissions","can_view_system_info","canViewStatistic","can_view_statistic","canConfigSystem","can_config_system","canManageLibrary","can_manage_library","canManageUser","can_manage_user","canManageGroup","can_manage_group","canViewUserLog","can_view_user_log","canViewAdminLog","can_view_admin_log","207","21","EditorUtilities","listWikiDir","dir_file_list","last_update_time","recursive","newFileName","newDirName","getWikiFileContent","getAccountInfo","page","per_page","listFileHistoryRecords","commitID","revertFile","dirents","zipDownload","zip_token","queryZipProgress","cancelZipTask","23","_Async","_Async2","NoOptionsMessage","innerProps","UserSelect","loadOptions","searchUsers","users","label","isClearable","classNamePrefix","components","24","25","_shareToUser","_shareToUser2","_shareToGroup","_shareToGroup2","_generateShareLink","_generateShareLink2","_generateUploadLink","_generateUploadLink2","ShareDialog","getInitialActiveTab","enableShareLink","enableUploadLink","activeTab","renderDirContent","Nav","pills","vertical","NavItem","NavLink","TabContent","TabPane","tabId","closeShareDialog","renderFileContent","258","27","isAdminPanel","Account","getContainer","findDOMNode","handleProps","showInfo","addEvents","removeEvents","handleDocumentClick","which","keyCodes","contains","onClickAccount","resp","userName","usageRate","space_usage","quotaUsage","usage","quotaTotal","is_staff","isOrgStaff","is_org_staff","avatarURL","renderMenu","renderAvatar","276","_socket","_socket2","socket","CollabServer","fn","emit","on","off","277","Delete","278","changeState","279","ViewModeToolbar","baseClass","280","DirOperationToolbar","hideOperationMenu","isUploadMenuShow","targetRect","getClientRects","x","y","operationMenuStyle","onUploadClick","onCreateClick","onShareClick","onCreateFolderToggle","isCreateFolderDialogShow","onCreateFileToggle","isCreateFileDialogShow","onCreateMarkdownToggle","onCreateExcelToggle","onCreatePPTToggle","onCreateWordToggle","getFolderName","isSupportUploadFolder","281","_urlDecorator","_urlDecorator2","_zipDownloadDialog","_zipDownloadDialog2","_direntsMenu","_direntsMenu2","MutipleDirOperationToolbar","onItemsDownload","_this2$props","getUrl","selectedDirentNames","isProgressDialogShow","zipToken","addDownloadAnimation","interval","setInterval","zipped","toFixed","parseInt","clearInterval","showLibContentViewDialogs","showShareDialog","lockFile","unlockFile","openRelatedFilesDialog","onHistory","onOpenViaClient","getDirentPath","lockfile","unlockfile","showEditFileTagDialog","onMenuFileTagChanged","multiFileTagList","ButtonGroup","282","DirentMenu","calculateMenuList","ButtonDropdown","divider","283","284","_dirPath","_dirPath2","_dirTool","_dirTool2","CurDirPath","285","_internalLinkDialog","_internalLinkDialog2","DirPath","turnPathToLink","pathList","data-path","pathElem","tagTitle","UncontrolledTooltip","286","_listTagDialog","_listTagDialog2","_createTagDialog","_createTagDialog2","_updateTagDialog","_updateTagDialog2","_listTaggedfilesDialog","_listTaggedfilesDialog2","DirTool","onShowListRepoTag","isRepoTagDialogShow","isListRepoTagShow","isUpdateRepoTagShow","isCreateRepoTagShow","isListTaggedFileShow","onCloseRepoTagDialog","onCreateRepoTagToggle","onUpdateRepoTagToggle","onListTaggedFileToggle","isFile","trashUrl","historyUrl","onListTagCancel","onCreateRepoTag","onUpdateRepoTag","onListTaggedFiles","287","tagListItemPropTypes","onTagUpdate","TagListItem","listTagPropTypes","ListTagDialog","createNewTag","repo_tag","288","CreateTagDialog","selectTagcolor","tagColor","createTag","createRepoTag","newTag","colorList","defaultChecked","289","UpdateTagDialog","selectNewcolor","newColor","updateTag","tag_id","updateRepoTag","deleteTagClick","deleteRepoTag","onDeleteTag","290","_direntListItem","_direntListItem2","DirentListView","onCreateNewFile","showImagePopup","isImagePopupOpen","imageItems","closeImagePopup","291","_MD","_MD2","_direntMenu","_direntMenu2","DirentListItem","isDragTipShow","onItemStarred","closeSharedDialog","onItemMoveToggle","onItemCopyToggle","onPermissionItem","onDetailsItem","onUnlockItem","onLockItem","onComnentItem","onAccessLog","onItemDownload","onTagTooltipToggle","isShowTagTooltip","onItemDragStart","dragStartItemData","setDragImage","drag_icon","onItemDragEnter","isDropTipshow","onItemDragOver","onItemDragLeave","onItemDragDrop","_dragStartItemData","dropItemData","dirHref","fileHref","toolTipID","getDirentIcon","showShare","trClass","292","can_set_folder_perm","has_been_shared_out","293","296","297","_detailListView","_detailListView2","_repoInfo","DirentDetail","updateDetailView","direntType","direntDetail","file_tag","getDirInfo","smallIconUrl","bigIconUrl","298","DetailListView","getDirentPostion","isEditFileTagShow","299","_resumablejs","_resumablejs2","_uploadProgressDialog","_uploadProgressDialog2","_uploadRemindDialog","_uploadRemindDialog2","filetypes","chunkSize","withCredentials","maxFiles","maxFileSize","testMethod","testChunks","simultaneousUploads","fileParameterName","maxFilesErrorCallback","maxFileSizeErrorCallback","minFileSizeErrorCallback","fileTypeErrorCallback","FileUploader","componentWillUnmount","resumable","disableDropOnDocument","bindCallbackHandler","opts","bindEventHandler","onChunkingComplete","onFileAdded","filesAddedComplete","onFileProgress","onProgress","onComplete","onPause","onFileRetry","onFileError","onError","onBeforeCancel","onCancel","relativePath","getFileUploadedBytes","uploadedBytes","offset","Math","floor","markChunksCompleted","resumableFile","formData","relative_path","hasRepetition","isUploadRemindDialogShow","currentResumableFile","setUploadFileList","upload","uploadFileList","buildCustomFileObj","isUploadProgressDialogShow","uniqueIdentifier","isSaved","round","getBitrate","loaded","uploadBitrate","now","timeDiff","bitrateInterval","formatBitRate","totalProgress","dir_name","notifiedFolders","allFilesUploaded","setHeaders","getOpt","fileSize","startByte","endByte","min","Accept","Content-Disposition","encodeURI","Content-Range","setQuery","generateUniqueIdentifier","webkitRelativePath","uploadInput","removeAttribute","click","getUploadLink","onCloseUploadDialog","onUploadCancel","uploadingItem","removeFile","newUploaderFileList","onCancelAllUploading","onUploaderRetry","replaceRepetitionFile","getUpdateLink","uploadFile","fileObject","cancelFileUpload","pop","Resumablejs","headers","forceChunkSize","maxChunkRetries","assignBrowse","enableDropOnDocument","3","_seafileJs","SeafileAPI","xcsrfHeaders","initForSeahubUsage","30","_defineProperty","_repoListView","_repoListView2","_searchedListView","_searchedListView2","FileChooser","onOtherRepoToggle","hasRequest","isOtherRepoShow","repoIdList","onCurrentRepoToggle","isCurrentRepoShow","selectedRepo","onCloseSearching","isSearching","isResultGot","searchInfo","searchResults","onSearchInfoChanged","searchRepo","onSearchedItemClick","renderSearchedView","initToShowChildren","_React$createElement","300","_uploadListItem","_uploadListItem2","UploadProgressDialog","onMinimizeUpload","isMinimized","onCloseUpload","uploadedMessage","uploadingMessage","uploadingOptions","uploadedOptions","301","UploadListItem","formatFileSize","aria-valuenow","aria-valuemin","aria-valuemax","302","UploadRemindDialog","outline","303","304","_listRepoDraftsDialog","_listRepoDraftsDialog2","_readmeDialog","_readmeDialog2","RepoInfoBar","toggleDrafts","showRepoDrafts","toggleReadme","showReadmeDialog","305","_draft","_draft2","ListRepoDraftsDialog","listRepoDrafts","Draft","ownerNickname","createdStr","306","created","created_at","originRepoID","307","ReadmeDialog","readmeContent","308","309","LibDecryptDialog","password","setRepoDecryptPassword","31","file_count","no_quota","310","312","wiki_enabled","313","CreateRepoDialog","handleRepoNameChange","handlePassword1Change","password1","handlePassword2Change","password2","validateInputParams","encrypt","onEncrypted","desc","passwd","passwd1","passwd2","314","LibDetail","getFileCounts","315","TransferDialog","sharedItems","innerSpan","msg","316","_sharedRepoListItem","_sharedRepoListItem2","SharedRepoListView","getSortMetaData","_this$getSortMetaData","_this$getSortMetaData2","317","RoleEditor","32","_reactSelect","_reactSelect2","SelectEditor","setOptions","onEditPermission","isEditing","onSelectHandler","onHideSelect","captureMenuScroll","38","4","_pinyinByUnicode","esc","space","up","down","bytes","sizes","isHiDPI","devicePixelRatio","FILEEXT_ICON_MAP","md","txt","pdf","doc","docx","odt","fodt","ppt","pptx","odp","fodp","xls","xlsx","ods","fods","mp4","ogv","webm","mov","flv","wmv","rmvb","mp3","oga","ogg","flac","aac","ac3","wma","jpg","jpeg","png","svg","gif","bmp","ico","videoCheck","path_arr","path_arr_","html","createTextNode","innerHTML","operationTarget","targetStr","lastIndex","result","reverse","dir","child","parent","ancestor","newAncestor","pathA","pathB","userAgent","isBig","icon_name","readonly","file_ext","formatSize","precision","kilobyte","megabyte","gigabyte","bits","Bs","re","exec","isWikiInternalMarkdownLink","isWikiInternalDirLink","getPathFromWikiInternalMarkdownLink","getPathFromWikiInternalDirLink","wordA","wordB","a_val","b_val","a_uni","b_uni","charAt","compareStrWithNumbersIn","isDigitPart","aPart","bPart","reParts","reDigit","aParts","match","bParts","chooseLanguage","DARK_COLOR_MAP","red","orange","yellow","green","cyan","blue","indigo","purple","pink","azure","lime","teal","gray","#FFA8A8","#FFA94D","#FFD43B","#A0EC50","#A9E34B","#63E6BE","#4FD2C9","#72C3FC","#91A7FF","#E599F7","#B197FC","#F783AC","#CED4DA","40","ctime","41","42","_repoListItem","_repoListItem2","RepoListView","43","_direntListView","_direntListView2","RepoListItem","onToggleClick","isShowChildren","isCurrentRepo","repoActive","44","45","isCurrentPath","46","_searchedListItem","_searchedListItem2","SearchedListView","currentItem","47","SearchedListItem","48","49","UserItem","deleteShareItem","user_info","onChangeUserPermission","nickname","UserList","ShareToUser","_React$Component3","setPermission","shareToUser","shareGroupOwnedRepoToUser","shareFolder","deleteGroupOwnedRepoSharedUserItem","deleteShareToUserItem","modifyGroupOwnedRepoUserSharedPermission","updateSharedItems","updateShareToUserItemPermission","sharedItem","sharedItemUsername","listSharedItems","50","_animated","_animated2","GroupItem","group_info","GroupList","ShareToGroup","shareableGroups","listSharedGroups","shareToGroup","groups","shareGroupOwnedRepoToGroup","deleteGroupOwnedRepoSharedGroupItem","deleteShareToGroupItem","modifyGroupOwnedRepoGroupSharedPermission","updateShareToGroupItemPermission","sharedItemGroupID","maxMenuHeight","inputId","51","GenerateShareLink","getShareLink","sharedLinkInfo","onPasswordInputChecked","isShowPasswordInput","passwdnew","togglePasswordVisible","isPasswordVisible","generatePassword","val","random","inputPassword","inputPasswordNew","can_edit","can_download","generateShareLink","validateParamsInput","createShareLink","onCopySharedLink","sharedLink","onCopyDownloadLink","downloadLink","passwordnew","isExpireChecked","isNoticeMessageShow","onExpireChecked","onExpireDaysChanged","day","reg","isExpireDaysNoLimit","minDays","maxDays","onNoticeMessageToggle","isValidate","InputGroup","InputGroupAddon","addonType","readOnly","52","GenerateUploadLink","getUploadLinks","sharedUploadInfo","addPassword","showPasswordInput","passwordVisible","generateUploadLink","createUploadLink","onCopyUploadLink","uploadLink","FormText","525","_repoInfoBar","_repoInfoBar2","DirListView","53","54","InternalLinkDialog","smartLink","getInternalLink","copyToClipBoard","smart_link","55","7","_toaster","_toaster2","80","_search","_search2","_notification","_notification2","_account","_account2","CommonToolbar","89","90","95","isPreload","generatePath","setParent","updateChildrenPath","m","_json$children","98"],"mappings":"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","file":"js/app.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(8);var _reactDom2=_interopRequireDefault(_reactDom);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={children:_propTypes2.default.object.isRequired};var modalRoot=document.getElementById('modal-wrapper');var ModalPortal=function(_React$Component){_inherits(ModalPortal,_React$Component);function ModalPortal(props){_classCallCheck(this,ModalPortal);var _this=_possibleConstructorReturn(this,(ModalPortal.__proto__||Object.getPrototypeOf(ModalPortal)).call(this,props));_this.el=document.createElement('div');return _this;}_createClass(ModalPortal,[{key:'componentDidMount',value:function componentDidMount(){modalRoot.appendChild(this.el);}},{key:'componentWillUnmount',value:function componentWillUnmount(){modalRoot.removeChild(this.el);}},{key:'render',value:function render(){return _reactDom2.default.createPortal(this.props.children,this.el);}}]);return ModalPortal;}(_react2.default.Component);ModalPortal.propTypes=propTypes;exports.default=ModalPortal;\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var RepoTag=function RepoTag(object){_classCallCheck(this,RepoTag);this.id=object.repo_tag_id;this.fileCount=object.files_count;this.name=object.tag_name;this.color=object.tag_color;};exports.default=RepoTag;\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onCloseSidePanel:_propTypes2.default.func.isRequired};var Logo=function(_React$Component){_inherits(Logo,_React$Component);function Logo(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Logo);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Logo.__proto__||Object.getPrototypeOf(Logo)).call.apply(_ref,[this].concat(args))),_this),_this.closeSide=function(){_this.props.onCloseSidePanel();},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Logo,[{key:'render',value:function render(){return _react2.default.createElement('div',{className:'top-logo'},_react2.default.createElement('a',{href:_constants.siteRoot,id:'logo'},_react2.default.createElement('img',{src:_constants.mediaUrl+_constants.logoPath,height:_constants.logoHeight,width:_constants.logoWidth,title:_constants.siteTitle,alt:'logo'})),_react2.default.createElement('a',{className:'sf2-icon-x1 sf-popover-close side-panel-close action-icon d-md-none',onClick:this.closeSide,title:'Close','aria-label':'Close'}));}}]);return Logo;}(_react2.default.Component);Logo.propTypes=propTypes;exports.default=Logo;\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _repoTag=__webpack_require__(103);var _repoTag2=_interopRequireDefault(_repoTag);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}__webpack_require__(113);var TagItemPropTypes={repoID:_propTypes2.default.string.isRequired,repoTag:_propTypes2.default.object.isRequired,filePath:_propTypes2.default.string.isRequired,fileTagList:_propTypes2.default.array.isRequired,onEditFileTag:_propTypes2.default.func.isRequired};var TagItem=function(_React$Component){_inherits(TagItem,_React$Component);function TagItem(props){_classCallCheck(this,TagItem);var _this=_possibleConstructorReturn(this,(TagItem.__proto__||Object.getPrototypeOf(TagItem)).call(this,props));_this.onMouseEnter=function(){_this.setState({showSelectedTag:true});};_this.onMouseLeave=function(){_this.setState({showSelectedTag:false});};_this.getRepoTagIdList=function(){var repoTagIdList=[];var fileTagList=_this.props.fileTagList;fileTagList.map(function(fileTag){repoTagIdList.push(fileTag.repo_tag_id);});return repoTagIdList;};_this.onEditFileTag=function(){var _this$props=_this.props,repoID=_this$props.repoID,repoTag=_this$props.repoTag,filePath=_this$props.filePath;var repoTagIdList=_this.getRepoTagIdList();if(repoTagIdList.indexOf(repoTag.id)===-1){var id=repoTag.id;_seafileApi.seafileAPI.addFileTag(repoID,filePath,id).then(function(){repoTagIdList=_this.getRepoTagIdList();_this.props.onEditFileTag();});}else{var fileTag=null;var fileTagList=_this.props.fileTagList;for(var i=0;i<fileTagList.length;i++){if(fileTagList[i].repo_tag_id===repoTag.id){fileTag=fileTagList[i];break;}}_seafileApi.seafileAPI.deleteFileTag(repoID,fileTag.id).then(function(){repoTagIdList=_this.getRepoTagIdList();_this.props.onEditFileTag();});}};_this.state={showSelectedTag:false};return _this;}_createClass(TagItem,[{key:'render',value:function render(){var repoTag=this.props.repoTag;var repoTagIdList=this.getRepoTagIdList();var drakColor=_utils.Utils.getDarkColor(repoTag.color);return _react2.default.createElement('li',{key:repoTag.id,className:'tag-list-item',onClick:this.onEditFileTag,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('div',{className:'tag-demo',style:{backgroundColor:repoTag.color}},_react2.default.createElement('span',{className:''+(this.state.showSelectedTag?'show-tag-selected':''),style:{backgroundColor:drakColor}}),_react2.default.createElement('span',{className:'tag-name'},repoTag.name),repoTagIdList.indexOf(repoTag.id)>-1&&_react2.default.createElement('i',{className:'fas fa-check tag-operation'})));}}]);return TagItem;}(_react2.default.Component);TagItem.propTypes=TagItemPropTypes;var propTypes={repoID:_propTypes2.default.string.isRequired,filePath:_propTypes2.default.string.isRequired,fileTagList:_propTypes2.default.array.isRequired,onFileTagChanged:_propTypes2.default.func.isRequired,toggleCancel:_propTypes2.default.func.isRequired};var EditFileTagDialog=function(_React$Component2){_inherits(EditFileTagDialog,_React$Component2);function EditFileTagDialog(props){_classCallCheck(this,EditFileTagDialog);var _this2=_possibleConstructorReturn(this,(EditFileTagDialog.__proto__||Object.getPrototypeOf(EditFileTagDialog)).call(this,props));_this2.getRepoTagList=function(){var repoID=_this2.props.repoID;_seafileApi.seafileAPI.listRepoTags(repoID).then(function(res){var repotagList=[];res.data.repo_tags.forEach(function(item){var repoTag=new _repoTag2.default(item);repotagList.push(repoTag);});_this2.setState({repotagList:repotagList});});};_this2.toggle=function(){_this2.props.toggleCancel();};_this2.onEditFileTag=function(){_this2.props.onFileTagChanged();};_this2.state={repotagList:[]};return _this2;}_createClass(EditFileTagDialog,[{key:'componentDidMount',value:function componentDidMount(){this.getRepoTagList();}},{key:'render',value:function render(){var _this3=this;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Select Tags')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('ul',{className:'tag-list tag-list-container'},this.state.repotagList.map(function(repoTag){return _react2.default.createElement(TagItem,{key:repoTag.id,repoTag:repoTag,repoID:_this3.props.repoID,filePath:_this3.props.filePath,fileTagList:_this3.props.fileTagList,onEditFileTag:_this3.onEditFileTag});}))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{onClick:this.toggle},(0,_constants.gettext)('Close'))));}}]);return EditFileTagDialog;}(_react2.default.Component);EditFileTagDialog.propTypes=propTypes;exports.default=EditFileTagDialog;\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _addRelatedFileDialog=__webpack_require__(159);var _addRelatedFileDialog2=_interopRequireDefault(_addRelatedFileDialog);var _listRelatedFileDialog=__webpack_require__(160);var _listRelatedFileDialog2=_interopRequireDefault(_listRelatedFileDialog);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,filePath:_propTypes2.default.string.isRequired,toggleCancel:_propTypes2.default.func.isRequired,onRelatedFileChange:_propTypes2.default.func.isRequired,dirent:_propTypes2.default.object.isRequired,relatedFiles:_propTypes2.default.array,viewMode:_propTypes2.default.oneOf(['list_related_file','add_related_file']).isRequired};var RelatedFileDialogs=function(_React$Component){_inherits(RelatedFileDialogs,_React$Component);function RelatedFileDialogs(props){_classCallCheck(this,RelatedFileDialogs);var _this=_possibleConstructorReturn(this,(RelatedFileDialogs.__proto__||Object.getPrototypeOf(RelatedFileDialogs)).call(this,props));_this.onAddRelatedFileToggle=function(){_this.setState({showListRelatedFileDialog:false});};_this.onCloseAddRelatedFileDialog=function(){_this.setState({showListRelatedFileDialog:true});};_this.state={showListRelatedFileDialog:props.viewMode==='list_related_file'};return _this;}_createClass(RelatedFileDialogs,[{key:'render',value:function render(){return _react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.props.toggleCancel,size:'lg',style:{width:'650px'}},this.state.showListRelatedFileDialog&&_react2.default.createElement(_listRelatedFileDialog2.default,{filePath:this.props.filePath,relatedFiles:this.props.relatedFiles,repoID:this.props.repoID,toggleCancel:this.props.toggleCancel,addRelatedFileToggle:this.onAddRelatedFileToggle,onRelatedFileChange:this.props.onRelatedFileChange}),!this.state.showListRelatedFileDialog&&_react2.default.createElement(_addRelatedFileDialog2.default,{filePath:this.props.filePath,repoID:this.props.repoID,toggleCancel:this.onCloseAddRelatedFileDialog,onRelatedFileChange:this.props.onRelatedFileChange,dirent:this.props.dirent,onClose:this.props.toggleCancel})));}}]);return RelatedFileDialogs;}(_react2.default.Component);RelatedFileDialogs.propTypes=propTypes;exports.default=RelatedFileDialogs;\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function Loading(){return _react2.default.createElement(\"span\",{className:\"loading-icon loading-tip\"});}exports.default=Loading;\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactResponsive=__webpack_require__(117);var _reactResponsive2=_interopRequireDefault(_reactResponsive);var _constants=__webpack_require__(2);var _searchResultItem=__webpack_require__(118);var _searchResultItem2=_interopRequireDefault(_searchResultItem);var _editorUtilties=__webpack_require__(21);var _editorUtilties2=_interopRequireDefault(_editorUtilties);var _more=__webpack_require__(119);var _more2=_interopRequireDefault(_more);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string,placeholder:_propTypes2.default.string,onSearchedClick:_propTypes2.default.func.isRequired};var Search=function(_Component){_inherits(Search,_Component);function Search(props){_classCallCheck(this,Search);var _this2=_possibleConstructorReturn(this,(Search.__proto__||Object.getPrototypeOf(Search)).call(this,props));_this2.onFocusHandler=function(){_this2.setState({width:'30rem',isMaskShow:true,isCloseShow:true});};_this2.onCloseHandler=function(){_this2.resetToDefault();};_this2.onItemClickHandler=function(item){_this2.resetToDefault();_this2.props.onSearchedClick(item);};_this2.onChangeHandler=function(event){var _this=_this2;_this2.setState({value:event.target.value});var newValue=event.target.value;if(_this2.inputValue===newValue.trim()){return false;}_this2.inputValue=newValue.trim();if(_this2.inputValue===''||_this.getValueLength(_this2.inputValue)<3){_this2.setState({isResultShow:false,isResultGetted:false});return false;}var repoID=_this2.props.repoID;var queryData={q:newValue,search_repo:repoID?repoID:'all',search_ftypes:'all'};if(_this2.timer){clearTimeout(_this2.timer);}_this2.timer=setTimeout(_this.getSearchResult(queryData),500);};_this2.onShowMore=function(){var repoID=_this2.props.repoID;var newValue=_this2.state.value;var queryData={q:newValue,search_repo:repoID?repoID:'all',search_ftypes:'all'};var params='';for(var key in queryData){params+=key+'='+queryData[key]+'&';}window.location=_constants.siteRoot+'search/?'+params.slice(0,params.length-1);};_this2.onSearchToggle=function(){_this2.setState({isSearchInputShow:!_this2.state.isSearchInputShow,isMaskShow:!_this2.state.isMaskShow});};_this2.state={width:'default',value:'',resultItems:[],isMaskShow:false,isResultShow:false,isResultGetted:false,isCloseShow:false,isSearchInputShow:false// for mobile\n};_this2.inputValue='';_this2.source=null;// used to cancel request;\nreturn _this2;}_createClass(Search,[{key:'getSearchResult',value:function getSearchResult(queryData){if(this.source){this.cancelRequest();}this.setState({isResultShow:true,isResultGetted:false});this.source=_editorUtilties2.default.getSource();this.sendRequest(queryData,this.source.token);}},{key:'sendRequest',value:function sendRequest(queryData,cancelToken){var _this=this;_editorUtilties2.default.searchFiles(queryData,cancelToken).then(function(res){if(!res.data.total){_this.setState({resultItems:[],isResultGetted:true});_this.source=null;return;}var items=_this.formatResultItems(res.data.results);_this.setState({resultItems:items,isResultGetted:true});_this.source=null;}).catch(function(res){/* eslint-disable */console.log(res);/* eslint-enable */});}},{key:'cancelRequest',value:function cancelRequest(){this.source.cancel('prev request is cancelled');}},{key:'getValueLength',value:function getValueLength(str){var i=0,code,len=0;for(;i<str.length;i++){code=str.charCodeAt(i);if(code==10){//solve enter problem\nlen+=2;}else if(code<0x007f){len+=1;}else if(code>=0x0080&&code<=0x07ff){len+=2;}else if(code>=0x0800&&code<=0xffff){len+=3;}}return len;}},{key:'formatResultItems',value:function formatResultItems(data){var items=[];var length=data.length>5?5:data.length;for(var i=0;i<length;i++){items[i]={};items[i]['index']=[i];items[i]['name']=data[i].name;items[i]['path']=data[i].fullpath;items[i]['repo_id']=data[i].repo_id;items[i]['repo_name']=data[i].repo_name;items[i]['is_dir']=data[i].is_dir;items[i]['link_content']=decodeURI(data[i].fullpath).substring(1);items[i]['content']=data[i].content_highlight;}return items;}},{key:'resetToDefault',value:function resetToDefault(){this.inputValue=null;this.setState({width:'',value:'',isMaskShow:false,isCloseShow:false,isResultShow:false,isResultGetted:false,resultItems:[],isSearchInputShow:false});}},{key:'renderSearchResult',value:function renderSearchResult(){var _this=this;if(!this.state.isResultShow){return;}if(!this.state.isResultGetted||this.getValueLength(this.inputValue)<3){return _react2.default.createElement('span',{className:'loading-icon loading-tip'});}if(!this.state.resultItems.length){return _react2.default.createElement('div',{className:'search-result-none'},(0,_constants.gettext)('No results matching.'));}var isShowMore=this.state.resultItems.length>=5?true:false;return _react2.default.createElement('ul',{className:'search-result-list'},this.state.resultItems.map(function(item){return _react2.default.createElement(_searchResultItem2.default,{key:item.index,item:item,onItemClickHandler:_this.onItemClickHandler});}),isShowMore&&_react2.default.createElement(_more2.default,{onShowMore:this.onShowMore}));}},{key:'render',value:function render(){var width=this.state.width!=='default'?this.state.width:'';var style={'width':width};return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactResponsive2.default,{query:'(min-width: 768px)'},_react2.default.createElement('div',{className:'search'},_react2.default.createElement('div',{className:'search-mask '+(this.state.isMaskShow?'':'hide'),onClick:this.onCloseHandler}),_react2.default.createElement('div',{className:'search-container'},_react2.default.createElement('div',{className:'input-icon'},_react2.default.createElement('i',{className:'search-icon-left input-icon-addon fas fa-search'}),_react2.default.createElement('input',{type:'text',className:'form-control search-input',name:'query',placeholder:this.props.placeholder,style:style,value:this.state.value,onFocus:this.onFocusHandler,onChange:this.onChangeHandler,autoComplete:'off'}),this.state.isCloseShow&&_react2.default.createElement('i',{className:'search-icon-right input-icon-addon fas fa-times',onClick:this.onCloseHandler})),_react2.default.createElement('div',{className:'search-result-container'},this.renderSearchResult())))),_react2.default.createElement(_reactResponsive2.default,{query:'(max-width: 768px)'},_react2.default.createElement('div',{className:'search-icon-container'},_react2.default.createElement('i',{className:'search-icon fas fa-search',onClick:this.onSearchToggle})),this.state.isSearchInputShow&&_react2.default.createElement('div',{className:'search'},_react2.default.createElement('div',{className:'search-mask '+(this.state.isMaskShow?'':'hide'),onClick:this.onCloseHandler}),_react2.default.createElement('div',{className:'search-container'},_react2.default.createElement('div',{className:'input-icon'},_react2.default.createElement('i',{className:'search-icon-left input-icon-addon fas fa-search'}),_react2.default.createElement('input',{type:'text',className:'form-control search-input',name:'query',placeholder:this.props.placeholder,style:style,value:this.state.value,onFocus:this.onFocusHandler,onChange:this.onChangeHandler,autoComplete:'off'}),this.state.isCloseShow&&_react2.default.createElement('i',{className:'search-icon-right input-icon-addon fas fa-times',onClick:this.onCloseHandler})),_react2.default.createElement('div',{className:'search-result-container'},this.renderSearchResult())))));}}]);return Search;}(_react.Component);Search.propTypes=propTypes;exports.default=Search;\n\n/***/ }),\n\n/***/ 1178:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(12);\nmodule.exports = __webpack_require__(1179);\n\n\n/***/ }),\n\n/***/ 1179:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(8);var _reactDom2=_interopRequireDefault(_reactDom);var _router=__webpack_require__(60);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _systemNotification=__webpack_require__(1180);var _systemNotification2=_interopRequireDefault(_systemNotification);var _sidePanel=__webpack_require__(1182);var _sidePanel2=_interopRequireDefault(_sidePanel);var _mainPanel=__webpack_require__(1186);var _mainPanel2=_interopRequireDefault(_mainPanel);var _draftsView=__webpack_require__(1187);var _draftsView2=_interopRequireDefault(_draftsView);var _draftContent=__webpack_require__(1188);var _draftContent2=_interopRequireDefault(_draftContent);var _filesActivities=__webpack_require__(1191);var _filesActivities2=_interopRequireDefault(_filesActivities);var _starred=__webpack_require__(1195);var _starred2=_interopRequireDefault(_starred);var _linkedDevices=__webpack_require__(1196);var _linkedDevices2=_interopRequireDefault(_linkedDevices);var _editorUtilties=__webpack_require__(21);var _editorUtilties2=_interopRequireDefault(_editorUtilties);var _libraries=__webpack_require__(1197);var _libraries2=_interopRequireDefault(_libraries);var _folders=__webpack_require__(1199);var _folders2=_interopRequireDefault(_folders);var _shareLinks=__webpack_require__(1201);var _shareLinks2=_interopRequireDefault(_shareLinks);var _uploadLinks=__webpack_require__(1202);var _uploadLinks2=_interopRequireDefault(_uploadLinks);var _sharedLibs=__webpack_require__(1203);var _sharedLibs2=_interopRequireDefault(_sharedLibs);var _myLibs=__webpack_require__(1204);var _myLibs2=_interopRequireDefault(_myLibs);var _myLibsDeleted=__webpack_require__(1213);var _myLibsDeleted2=_interopRequireDefault(_myLibsDeleted);var _publicSharedView=__webpack_require__(1214);var _publicSharedView2=_interopRequireDefault(_publicSharedView);var _libContentView=__webpack_require__(1217);var _libContentView2=_interopRequireDefault(_libContentView);var _groupView=__webpack_require__(1226);var _groupView2=_interopRequireDefault(_groupView);var _groupsView=__webpack_require__(1235);var _groupsView2=_interopRequireDefault(_groupsView);var _wikis=__webpack_require__(1239);var _wikis2=_interopRequireDefault(_wikis);var _mainContentWrapper=__webpack_require__(1246);var _mainContentWrapper2=_interopRequireDefault(_mainContentWrapper);__webpack_require__(89);__webpack_require__(90);__webpack_require__(122);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FilesActivitiesWrapper=(0,_mainContentWrapper2.default)(_filesActivities2.default);var DraftsViewWrapper=(0,_mainContentWrapper2.default)(_draftsView2.default);var StarredWrapper=(0,_mainContentWrapper2.default)(_starred2.default);var LinkedDevicesWrapper=(0,_mainContentWrapper2.default)(_linkedDevices2.default);var SharedLibrariesWrapper=(0,_mainContentWrapper2.default)(_sharedLibs2.default);var ShareAdminLibrariesWrapper=(0,_mainContentWrapper2.default)(_libraries2.default);var ShareAdminFoldersWrapper=(0,_mainContentWrapper2.default)(_folders2.default);var ShareAdminShareLinksWrapper=(0,_mainContentWrapper2.default)(_shareLinks2.default);var ShareAdminUploadLinksWrapper=(0,_mainContentWrapper2.default)(_uploadLinks2.default);var App=function(_Component){_inherits(App,_Component);function App(props){_classCallCheck(this,App);var _this=_possibleConstructorReturn(this,(App.__proto__||Object.getPrototypeOf(App)).call(this,props));_this.getDrafts=function(){_editorUtilties2.default.listDrafts().then(function(res){_this.setState({draftCounts:res.data.draft_counts,draftList:res.data.data,isLoadingDraft:false});});};_this.updateDraftsList=function(draft_id){_this.setState({draftCounts:_this.state.draftCounts-1,draftList:_this.state.draftList.filter(function(draft){return draft.id!=draft_id;})});};_this.onCloseSidePanel=function(){_this.setState({isSidePanelClosed:!_this.state.isSidePanelClosed});};_this.onShowSidePanel=function(){_this.setState({isSidePanelClosed:!_this.state.isSidePanelClosed});};_this.onSearchedClick=function(selectedItem){if(selectedItem.is_dir===true){_this.setState({currentTab:'',pathPrefix:[]});var url=_constants.siteRoot+'library/'+selectedItem.repo_id+'/'+selectedItem.repo_name+selectedItem.path;(0,_router.navigate)(url,{repalce:true});}else{var _url=_constants.siteRoot+'lib/'+selectedItem.repo_id+'/file'+_utils.Utils.encodePath(selectedItem.path);var newWindow=window.open('about:blank');newWindow.location.href=_url;}};_this.onGroupChanged=function(groupID){setTimeout(function(){var url=void 0;if(groupID){url=_constants.siteRoot+'group/'+groupID+'/';}else{url=_constants.siteRoot+'groups/';}window.location=url.toString();},1);};_this.tabItemClick=function(tabName,groupID){var pathPrefix=[];if(groupID||_this.dirViewPanels.indexOf(tabName)>-1){pathPrefix=_this.generatorPrefix(tabName,groupID);}_this.setState({currentTab:tabName,pathPrefix:pathPrefix});};_this.generatorPrefix=function(tabName,groupID){var pathPrefix=[];if(groupID){var navTab1={url:_constants.siteRoot+'groups/',showName:'Groups',name:'groups',id:null};var navTab2={url:_constants.siteRoot+'group/'+groupID+'/',showName:tabName,name:tabName,id:groupID};pathPrefix.push(navTab1);pathPrefix.push(navTab2);}else{var navTab={url:_constants.siteRoot+tabName+'/',showName:_this.getTabShowName(tabName),name:tabName,id:null};pathPrefix.push(navTab);}return pathPrefix;};_this.getTabShowName=function(tabName){if(tabName==='my-libs'){return'Libraries';}if(tabName==='shared-libs'){return'Shared with me';}if(tabName==='org'){return'Shared with all';}};_this.state={isOpen:false,isSidePanelClosed:false,draftCounts:0,draftList:[],isLoadingDraft:true,currentTab:'/',pathPrefix:[]};_this.dirViewPanels=['my-libs','shared-libs','org'];// and group\nreturn _this;}_createClass(App,[{key:'componentDidMount',value:function componentDidMount(){// e.g.  from http://127.0.0.1:8000/drafts/reviews/\n// get reviews  \n// TODO: need refactor later\nvar href=window.location.href.split('/');this.getDrafts();this.setState({currentTab:href[href.length-2]});}},{key:'render',value:function render(){var currentTab=this.state.currentTab;var home=_constants.canAddRepo?_react2.default.createElement(_myLibs2.default,{path:_constants.siteRoot,onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick}):_react2.default.createElement(SharedLibrariesWrapper,{path:_constants.siteRoot,onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick});return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_systemNotification2.default,null),_react2.default.createElement('div',{id:'main'},_react2.default.createElement(_sidePanel2.default,{isSidePanelClosed:this.state.isSidePanelClosed,onCloseSidePanel:this.onCloseSidePanel,currentTab:currentTab,tabItemClick:this.tabItemClick,draftCounts:this.state.draftCounts}),_react2.default.createElement(_mainPanel2.default,null,_react2.default.createElement(_router.Router,{className:'reach-router'},home,_react2.default.createElement(FilesActivitiesWrapper,{path:_constants.siteRoot+'dashboard',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick}),_react2.default.createElement(DraftsViewWrapper,{path:_constants.siteRoot+'drafts',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick},_react2.default.createElement(_draftContent2.default,{path:'/',getDrafts:this.getDrafts,isLoadingDraft:this.state.isLoadingDraft,draftList:this.state.draftList,updateDraftsList:this.updateDraftsList})),_react2.default.createElement(StarredWrapper,{path:_constants.siteRoot+'starred',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick}),_react2.default.createElement(LinkedDevicesWrapper,{path:_constants.siteRoot+'linked-devices',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick}),_react2.default.createElement(ShareAdminLibrariesWrapper,{path:_constants.siteRoot+'share-admin-libs',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick}),_react2.default.createElement(ShareAdminFoldersWrapper,{path:_constants.siteRoot+'share-admin-folders',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick}),_react2.default.createElement(ShareAdminShareLinksWrapper,{path:_constants.siteRoot+'share-admin-share-links',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick}),_react2.default.createElement(ShareAdminUploadLinksWrapper,{path:_constants.siteRoot+'share-admin-upload-links',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick}),_react2.default.createElement(SharedLibrariesWrapper,{path:_constants.siteRoot+'shared-libs',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick}),_react2.default.createElement(_myLibs2.default,{path:_constants.siteRoot+'my-libs',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick}),_react2.default.createElement(_myLibsDeleted2.default,{path:_constants.siteRoot+'my-libs/deleted/',onSearchedClick:this.onSearchedClick}),_react2.default.createElement(_libContentView2.default,{path:_constants.siteRoot+'library/:repoID/*',pathPrefix:this.state.pathPrefix,onMenuClick:this.onShowSidePanel,onTabNavClick:this.tabItemClick}),_react2.default.createElement(_groupsView2.default,{path:_constants.siteRoot+'groups',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick}),_react2.default.createElement(_groupView2.default,{path:_constants.siteRoot+'group/:groupID',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick,onTabNavClick:this.tabItemClick,onGroupChanged:this.onGroupChanged}),_react2.default.createElement(_wikis2.default,{path:_constants.siteRoot+'wikis',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick}),_react2.default.createElement(_publicSharedView2.default,{path:_constants.siteRoot+'org/',onShowSidePanel:this.onShowSidePanel,onSearchedClick:this.onSearchedClick,onTabNavClick:this.tabItemClick})))));}}]);return App;}(_react.Component);_reactDom2.default.render(_react2.default.createElement(App,null),document.getElementById('wrapper'));\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={item:_propTypes2.default.object.isRequired,onItemClickHandler:_propTypes2.default.func.isRequired};var SearchResultItem=function(_React$Component){_inherits(SearchResultItem,_React$Component);function SearchResultItem(){var _ref;var _temp,_this,_ret;_classCallCheck(this,SearchResultItem);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=SearchResultItem.__proto__||Object.getPrototypeOf(SearchResultItem)).call.apply(_ref,[this].concat(args))),_this),_this.onClickHandler=function(){var item=_this.props.item;_this.props.onItemClickHandler(item);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(SearchResultItem,[{key:'render',value:function render(){var item=this.props.item;var fileIconUrl=item.is_dir?_utils.Utils.getFolderIconUrl(false,192):_utils.Utils.getFileIconUrl(item.name,192);return _react2.default.createElement('li',{className:'search-result-item',onClick:this.onClickHandler},_react2.default.createElement('img',{className:'item-img',src:fileIconUrl,alt:''}),_react2.default.createElement('div',{className:'item-content'},_react2.default.createElement('div',{className:'item-name ellipsis'},item.name),_react2.default.createElement('div',{className:'item-link ellipsis'},item.repo_name,'/',item.link_content),_react2.default.createElement('div',{className:'item-text ellipsis',dangerouslySetInnerHTML:{__html:item.content}})));}}]);return SearchResultItem;}(_react2.default.Component);SearchResultItem.propTypes=propTypes;exports.default=SearchResultItem;\n\n/***/ }),\n\n/***/ 1180:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _constants=__webpack_require__(2);__webpack_require__(1181);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var SystemNotification=function(_React$Component){_inherits(SystemNotification,_React$Component);function SystemNotification(props){_classCallCheck(this,SystemNotification);var _this=_possibleConstructorReturn(this,(SystemNotification.__proto__||Object.getPrototypeOf(SystemNotification)).call(this,props));_this.close=function(){_this.setState({isClosed:true});if(navigator.cookieEnabled){var date=new Date(),cookies=document.cookie.split('; '),infoIDExist=false,newInfoID=_constants.curNoteID+'_';date.setTime(date.getTime()+14*24*60*60*1000);newInfoID+='; expires='+date.toGMTString()+'; path='+_constants.siteRoot;for(var i=0,len=cookies.length;i<len;i++){if(cookies[i].split('=')[0]=='info_id'){infoIDExist=true;document.cookie='info_id='+cookies[i].split('=')[1]+newInfoID;break;}}if(!infoIDExist){document.cookie='info_id='+newInfoID;}}};_this.state={isClosed:false};return _this;}_createClass(SystemNotification,[{key:'render',value:function render(){if(!_constants.curNoteMsg||this.state.isClosed){return null;}return _react2.default.createElement('div',{id:'info-bar'},_react2.default.createElement('p',{id:'info-bar-info'},_constants.curNoteMsg),_react2.default.createElement('span',{className:'close sf2-icon-x1',title:(0,_constants.gettext)('Close'),onClick:this.close}));}}]);return SystemNotification;}(_react2.default.Component);exports.default=SystemNotification;\n\n/***/ }),\n\n/***/ 1181:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 1182:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _logo=__webpack_require__(104);var _logo2=_interopRequireDefault(_logo);var _mainSideNav=__webpack_require__(1183);var _mainSideNav2=_interopRequireDefault(_mainSideNav);var _sideNavFooter=__webpack_require__(1184);var _sideNavFooter2=_interopRequireDefault(_sideNavFooter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isSidePanelClosed:_propTypes2.default.bool.isRequired,currentTab:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]).isRequired,onCloseSidePanel:_propTypes2.default.func.isRequired,tabItemClick:_propTypes2.default.func.isRequired,draftCounts:_propTypes2.default.number};var SidePanel=function(_React$Component){_inherits(SidePanel,_React$Component);function SidePanel(){_classCallCheck(this,SidePanel);return _possibleConstructorReturn(this,(SidePanel.__proto__||Object.getPrototypeOf(SidePanel)).apply(this,arguments));}_createClass(SidePanel,[{key:'render',value:function render(){return _react2.default.createElement('div',{className:'side-panel '+(this.props.isSidePanelClosed?'':'left-zero')},_react2.default.createElement('div',{className:'side-panel-north'},_react2.default.createElement(_logo2.default,{onCloseSidePanel:this.props.onCloseSidePanel})),_react2.default.createElement('div',{className:'side-panel-center'},_react2.default.createElement(_mainSideNav2.default,{tabItemClick:this.props.tabItemClick,currentTab:this.props.currentTab,draftCounts:this.props.draftCounts})),_react2.default.createElement('div',{className:'side-panel-footer'},_react2.default.createElement(_sideNavFooter2.default,null)));}}]);return SidePanel;}(_react2.default.Component);SidePanel.propTypes=propTypes;exports.default=SidePanel;\n\n/***/ }),\n\n/***/ 1183:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _router=__webpack_require__(60);var _group=__webpack_require__(312);var _group2=_interopRequireDefault(_group);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentTab:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]).isRequired,tabItemClick:_propTypes2.default.func.isRequired,draftCounts:_propTypes2.default.number};var MainSideNav=function(_React$Component){_inherits(MainSideNav,_React$Component);function MainSideNav(props){_classCallCheck(this,MainSideNav);var _this2=_possibleConstructorReturn(this,(MainSideNav.__proto__||Object.getPrototypeOf(MainSideNav)).call(this,props));_this2.grpsExtend=function(){_this2.setState({groupsExtended:!_this2.state.groupsExtended});_this2.loadGroups();};_this2.shExtend=function(){_this2.setState({sharedExtended:!_this2.state.sharedExtended});};_this2.loadGroups=function(){var _this=_this2;_seafileApi.seafileAPI.listGroups().then(function(res){var groupList=res.data.map(function(item){var group=new _group2.default(item);return group;});_this2.groupsHeight=(groupList.length+1)*_this.listHeight;_this.setState({groupItems:groupList});});};_this2.tabItemClick=function(param,id){_this2.props.tabItemClick(param,id);};_this2.getActiveClass=function(tab){return _this2.props.currentTab===tab?'active':'';};_this2.state={groupsExtended:false,sharedExtended:false,closeSideBar:false,groupItems:[]};_this2.listHeight=24;//for caculate tabheight\n_this2.groupsHeight=0;_this2.adminHeight=0;return _this2;}_createClass(MainSideNav,[{key:'renderSharedGroups',value:function renderSharedGroups(){var _this3=this;var style={height:0};if(this.state.groupsExtended){style={height:this.groupsHeight};}return _react2.default.createElement('ul',{className:'nav sub-nav nav-pills flex-column grp-list '+(this.state.groupsExtended?'side-panel-slide':'side-panel-slide-up'),style:style},_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'groups/',className:'nav-link ellipsis '+this.getActiveClass('groups'),onClick:function onClick(){return _this3.tabItemClick('groups');}},_react2.default.createElement('span',{className:'sharp','aria-hidden':'true'},'#'),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('All Groups')))),this.state.groupItems.map(function(item){return _react2.default.createElement('li',{key:item.id,className:'nav-item'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'group/'+item.id+'/',className:'nav-link ellipsis '+_this3.getActiveClass(item.name),onClick:function onClick(){return _this3.tabItemClick(item.name,item.id);}},_react2.default.createElement('span',{className:'sharp','aria-hidden':'true'},'#'),_react2.default.createElement('span',{className:'nav-text'},item.name)));}));}},{key:'renderSharedAdmin',value:function renderSharedAdmin(){var _this4=this;var height=0;if(this.state.sharedExtended){if(!this.adminHeight){this.adminHeight=3*this.listHeight;}height=this.adminHeight;}var style={height:height};var linksNavItem=null;if(_constants.canGenerateShareLink){linksNavItem=_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'share-admin-share-links/',className:'nav-link ellipsis '+this.getActiveClass('share-admin-share-links'),title:(0,_constants.gettext)('Links'),onClick:function onClick(){return _this4.tabItemClick('share-admin-share-links');}},_react2.default.createElement('span',{'aria-hidden':'true',className:'sharp'},'#'),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('Links'))));}else if(_constants.canGenerateUploadLink){linksNavItem=_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'share-admin-upload-links/',className:'nav-link ellipsis '+this.getActiveClass('share-admin-upload-links'),title:(0,_constants.gettext)('Links'),onClick:function onClick(){return _this4.tabItemClick('share-admin-upload-links');}},_react2.default.createElement('span',{'aria-hidden':'true',className:'sharp'},'#'),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('Links'))));}return _react2.default.createElement('ul',{className:'nav sub-nav nav-pills flex-column '+(this.state.sharedExtended?'side-panel-slide':'side-panel-slide-up'),style:style},_constants.canAddRepo&&_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'share-admin-libs/',className:'nav-link ellipsis '+this.getActiveClass('share-admin-libs'),title:(0,_constants.gettext)('Libraries'),onClick:function onClick(){return _this4.tabItemClick('share-admin-libs');}},_react2.default.createElement('span',{'aria-hidden':'true',className:'sharp'},'#'),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('Libraries')))),_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'share-admin-folders/',className:'nav-link ellipsis '+this.getActiveClass('share-admin-folders'),title:(0,_constants.gettext)('Folders'),onClick:function onClick(){return _this4.tabItemClick('share-admin-folders');}},_react2.default.createElement('span',{'aria-hidden':'true',className:'sharp'},'#'),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('Folders')))),linksNavItem);}},{key:'render',value:function render(){var _this5=this;return _react2.default.createElement('div',{className:'side-nav'},_react2.default.createElement('div',{className:'side-nav-con'},_react2.default.createElement('h3',{className:'sf-heading'},(0,_constants.gettext)('Files')),_react2.default.createElement('ul',{className:'nav nav-pills flex-column nav-container'},_constants.canAddRepo&&_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'my-libs/',className:'nav-link ellipsis '+(this.getActiveClass('my-libs')||this.getActiveClass('deleted')),title:(0,_constants.gettext)('My Libraries'),onClick:function onClick(){return _this5.tabItemClick('my-libs');}},_react2.default.createElement('span',{className:'sf2-icon-user','aria-hidden':'true'}),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('My Libraries')))),_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'shared-libs/',className:'nav-link ellipsis '+this.getActiveClass('shared-libs'),title:(0,_constants.gettext)('Shared with me'),onClick:function onClick(){return _this5.tabItemClick('shared-libs');}},_react2.default.createElement('span',{className:'sf2-icon-share','aria-hidden':'true'}),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('Shared with me')))),_constants.canViewOrg&&_react2.default.createElement('li',{className:'nav-item',onClick:function onClick(){return _this5.tabItemClick('org');}},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'org/',className:'nav-link ellipsis '+this.getActiveClass('org'),title:(0,_constants.gettext)('Shared with all')},_react2.default.createElement('span',{className:'sf2-icon-organization','aria-hidden':'true'}),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('Shared with all')))),_react2.default.createElement('li',{className:'nav-item flex-column',id:'group-nav'},_react2.default.createElement('a',{className:'nav-link ellipsis',title:(0,_constants.gettext)('Shared with groups'),onClick:this.grpsExtend},_react2.default.createElement('span',{className:'toggle-icon float-right fas '+(this.state.groupsExtended?'fa-caret-down':'fa-caret-left'),'aria-hidden':'true'}),_react2.default.createElement('span',{className:'sf2-icon-group','aria-hidden':'true'}),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('Shared with groups'))),this.renderSharedGroups())),_react2.default.createElement('h3',{className:'sf-heading'},(0,_constants.gettext)('Tools')),_react2.default.createElement('ul',{className:'nav nav-pills flex-column nav-container'},_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{className:'nav-link ellipsis '+this.getActiveClass('starred'),to:_constants.siteRoot+'starred/',title:(0,_constants.gettext)('Favorites'),onClick:function onClick(){return _this5.tabItemClick('starred');}},_react2.default.createElement('span',{className:'sf2-icon-star','aria-hidden':'true'}),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('Favorites')))),_constants.isDocs&&_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{className:'nav-link ellipsis '+this.getActiveClass('dashboard'),to:_constants.siteRoot+'dashboard/',title:(0,_constants.gettext)('Activities'),onClick:function onClick(){return _this5.tabItemClick('dashboard');}},_react2.default.createElement('span',{className:'sf2-icon-clock','aria-hidden':'true'}),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('Activities')))),_constants.enableWiki&&_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{className:'nav-link ellipsis '+this.getActiveClass('wikis'),to:_constants.siteRoot+'wikis/',title:(0,_constants.gettext)('Wikis'),onClick:function onClick(){return _this5.tabItemClick('wikis');}},_react2.default.createElement('span',{className:'sf2-icon-wiki-view','aria-hidden':'true'}),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('Wikis')))),_constants.isDocs&&_react2.default.createElement('li',{className:'nav-item',onClick:function onClick(){return _this5.tabItemClick('drafts');}},_react2.default.createElement(_router.Link,{className:'nav-link ellipsis '+this.getActiveClass('drafts'),to:_constants.siteRoot+'drafts/',title:(0,_constants.gettext)('Drafts')},_react2.default.createElement('span',{className:'sf2-icon-edit','aria-hidden':'true'}),_react2.default.createElement('span',{className:'draft-info nav-text'},(0,_constants.gettext)('Drafts'),this.props.draftCounts===0?'':_react2.default.createElement(_reactstrap.Badge,{color:'info',pill:true},this.props.draftCounts)))),_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{className:'nav-link ellipsis '+this.getActiveClass('linked-devices'),to:_constants.siteRoot+'linked-devices/',title:(0,_constants.gettext)('Linked Devices'),onClick:function onClick(){return _this5.tabItemClick('linked-devices');}},_react2.default.createElement('span',{className:'sf2-icon-monitor','aria-hidden':'true'}),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('Linked Devices')))),_react2.default.createElement('li',{className:'nav-item flex-column',id:'share-admin-nav'},_react2.default.createElement('a',{className:'nav-link ellipsis',title:(0,_constants.gettext)('Share Admin'),onClick:this.shExtend},_react2.default.createElement('span',{className:'toggle-icon float-right fas '+(this.state.sharedExtended?'fa-caret-down':'fa-caret-left'),'aria-hidden':'true'}),_react2.default.createElement('span',{className:'sf2-icon-wrench','aria-hidden':'true'}),_react2.default.createElement('span',{className:'nav-text'},(0,_constants.gettext)('Share Admin'))),this.renderSharedAdmin()))));}}]);return MainSideNav;}(_react2.default.Component);MainSideNav.propTypes=propTypes;exports.default=MainSideNav;\n\n/***/ }),\n\n/***/ 1184:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _constants=__webpack_require__(2);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _aboutDialog=__webpack_require__(1185);var _aboutDialog2=_interopRequireDefault(_aboutDialog);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var SideNavFooter=function(_React$Component){_inherits(SideNavFooter,_React$Component);function SideNavFooter(props){_classCallCheck(this,SideNavFooter);var _this=_possibleConstructorReturn(this,(SideNavFooter.__proto__||Object.getPrototypeOf(SideNavFooter)).call(this,props));_this.onAboutDialogToggle=function(){_this.setState({isAboutDialogShow:!_this.state.isAboutDialogShow});};_this.state={isAboutDialogShow:false};return _this;}_createClass(SideNavFooter,[{key:'render',value:function render(){return _react2.default.createElement('div',{className:'side-nav-footer'},_react2.default.createElement('a',{href:_constants.siteRoot+'help/',target:'_blank',rel:'noopener noreferrer',className:'item'},(0,_constants.gettext)('Help')),_react2.default.createElement('a',{className:'item',onClick:this.onAboutDialogToggle},(0,_constants.gettext)('About')),_react2.default.createElement('a',{href:_constants.siteRoot+'download_client_program/',className:'item last-item'},_react2.default.createElement('span',{'aria-hidden':'true',className:'sf2-icon-monitor vam'}),' ',_react2.default.createElement('span',{className:'vam'},(0,_constants.gettext)('Clients'))),this.state.isAboutDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_aboutDialog2.default,{onCloseAboutDialog:this.onAboutDialogToggle})));}}]);return SideNavFooter;}(_react2.default.Component);exports.default=SideNavFooter;\n\n/***/ }),\n\n/***/ 1185:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onCloseAboutDialog:_propTypes2.default.func.isRequired};var AboutDialog=function(_React$Component){_inherits(AboutDialog,_React$Component);function AboutDialog(){var _ref;var _temp,_this,_ret;_classCallCheck(this,AboutDialog);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=AboutDialog.__proto__||Object.getPrototypeOf(AboutDialog)).call.apply(_ref,[this].concat(args))),_this),_this.toggle=function(){_this.props.onCloseAboutDialog();},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(AboutDialog,[{key:'render',value:function render(){var href=_constants.lang===_constants.lang=='zh-cn'?'http://seafile.com/about/':'http://seafile.com/en/about/';return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('button',{type:'button',className:'close',onClick:this.toggle},_react2.default.createElement('span',{'aria-hidden':'true'},'\\xD7')),_react2.default.createElement('div',{className:'about-content'},_react2.default.createElement('p',null,_react2.default.createElement('img',{src:_constants.mediaUrl+_constants.logoPath,height:_constants.logoHeight,width:_constants.logoWidth,title:_constants.siteTitle,alt:'logo'})),_react2.default.createElement('p',null,(0,_constants.gettext)('Server Version: '),_constants.seafileVersion,_react2.default.createElement('br',null),'\\xA9 2019 ',(0,_constants.gettext)('Seafile')),_react2.default.createElement('p',null,_react2.default.createElement('a',{href:href,target:'_blank'},(0,_constants.gettext)('About Us'))))));}}]);return AboutDialog;}(_react2.default.Component);AboutDialog.propTypes=propTypes;exports.default=AboutDialog;\n\n/***/ }),\n\n/***/ 1186:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={children:_propTypes2.default.object.isRequired};var MainPanel=function(_Component){_inherits(MainPanel,_Component);function MainPanel(){_classCallCheck(this,MainPanel);return _possibleConstructorReturn(this,(MainPanel.__proto__||Object.getPrototypeOf(MainPanel)).apply(this,arguments));}_createClass(MainPanel,[{key:'render',value:function render(){return _react2.default.createElement('div',{className:'main-panel o-hidden'},this.props.children);}}]);return MainPanel;}(_react.Component);MainPanel.propTypes=propTypes;exports.default=MainPanel;\n\n/***/ }),\n\n/***/ 1187:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={children:_propTypes2.default.oneOfType([_propTypes2.default.array,_propTypes2.default.object]).isRequired};var DraftsView=function(_React$Component){_inherits(DraftsView,_React$Component);function DraftsView(){_classCallCheck(this,DraftsView);return _possibleConstructorReturn(this,(DraftsView.__proto__||Object.getPrototypeOf(DraftsView)).apply(this,arguments));}_createClass(DraftsView,[{key:'render',value:function render(){return _react2.default.createElement('div',{className:'main-panel-center'},_react2.default.createElement('div',{className:'cur-view-container'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement('div',{className:'path-container'},_react2.default.createElement('h3',{className:'sf-heading'},(0,_constants.gettext)('Drafts')))),this.props.children));}}]);return DraftsView;}(_react2.default.Component);DraftsView.propTypes=propTypes;exports.default=DraftsView;\n\n/***/ }),\n\n/***/ 1188:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _constants=__webpack_require__(2);var _editorUtilties=__webpack_require__(21);var _editorUtilties2=_interopRequireDefault(_editorUtilties);var _utils=__webpack_require__(4);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _draftListView=__webpack_require__(1189);var _draftListView2=_interopRequireDefault(_draftListView);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isLoadingDraft:_propTypes2.default.bool.isRequired,updateDraftsList:_propTypes2.default.func.isRequired,draftList:_propTypes2.default.array.isRequired,getDrafts:_propTypes2.default.func.isRequired};var DraftContent=function(_React$Component){_inherits(DraftContent,_React$Component);function DraftContent(){var _ref;var _temp,_this,_ret;_classCallCheck(this,DraftContent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=DraftContent.__proto__||Object.getPrototypeOf(DraftContent)).call.apply(_ref,[this].concat(args))),_this),_this.onDeleteHandler=function(draft){// let draft = this.state.currentDraft;\nvar draft_name=_utils.Utils.getFileName(draft.draft_file_path);_editorUtilties2.default.deleteDraft(draft.id).then(function(res){_this.props.updateDraftsList(draft.id);var msg_s=(0,_constants.gettext)('Successfully deleted draft %(draft)s.');msg_s=msg_s.replace('%(draft)s',draft_name);_toast2.default.success(msg_s);}).catch(function(){var msg_s=(0,_constants.gettext)('Failed to delete draft %(draft)s.');msg_s=msg_s.replace('%(draft)s',draft_name);_toast2.default.danger(msg_s);});},_this.onPublishHandler=function(draft){// let draft = this.state.currentDraft;\nvar draft_name=_utils.Utils.getFileName(draft.draft_file_path);_editorUtilties2.default.publishDraft(draft.id).then(function(res){_this.props.updateDraftsList(draft.id);var msg_s=(0,_constants.gettext)('Successfully published draft %(draft)s.');msg_s=msg_s.replace('%(draft)s',draft_name);_toast2.default.success(msg_s);}).catch(function(){var msg_s=(0,_constants.gettext)('Failed to publish draft %(draft)s.');msg_s=msg_s.replace('%(draft)s',draft_name);_toast2.default.danger(msg_s);});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(DraftContent,[{key:'componentDidMount',value:function componentDidMount(){this.props.getDrafts();}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'cur-view-content'},this.props.isLoadingDraft&&_react2.default.createElement(_loading2.default,null),!this.props.isLoadingDraft&&_react2.default.createElement(_react.Fragment,null,this.props.draftList.length===0&&_react2.default.createElement('div',{className:'message empty-tip'},_react2.default.createElement('h2',null,(0,_constants.gettext)('No draft yet')),_react2.default.createElement('p',null,(0,_constants.gettext)('Draft is a way to let you collaborate with others on files. You can create a draft from a file, edit the draft and then ask for a review. The original file will be updated only after the draft be reviewed.'))),this.props.draftList.length!==0&&_react2.default.createElement(_draftListView2.default,{draftList:this.props.draftList,onDeleteHandler:this.onDeleteHandler,onPublishHandler:this.onPublishHandler})));}}]);return DraftContent;}(_react2.default.Component);DraftContent.propTypes=propTypes;exports.default=DraftContent;\n\n/***/ }),\n\n/***/ 1189:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _draftListItem=__webpack_require__(1190);var _draftListItem2=_interopRequireDefault(_draftListItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={draftList:_propTypes2.default.array.isRequired,onDeleteHandler:_propTypes2.default.func.isRequired,onPublishHandler:_propTypes2.default.func.isRequired};var DraftListView=function(_React$Component){_inherits(DraftListView,_React$Component);function DraftListView(props){_classCallCheck(this,DraftListView);var _this=_possibleConstructorReturn(this,(DraftListView.__proto__||Object.getPrototypeOf(DraftListView)).call(this,props));_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnfreezedItem=function(){_this.setState({isItemFreezed:false});};_this.state={isItemFreezed:false};return _this;}_createClass(DraftListView,[{key:'render',value:function render(){var _this2=this;var drafts=this.props.draftList;return _react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{style:{width:'4%'}}),_react2.default.createElement('th',{style:{width:'46%'}},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{style:{width:'30%'}},(0,_constants.gettext)('Library')),_react2.default.createElement('th',{style:{width:'10%'}},(0,_constants.gettext)('Last Update')),_react2.default.createElement('th',{style:{width:'10%'}}))),_react2.default.createElement('tbody',null,drafts&&drafts.map(function(draft){return _react2.default.createElement(_draftListItem2.default,{key:draft.id,draft:draft,isItemFreezed:_this2.state.isItemFreezed,onFreezedItem:_this2.onFreezedItem,onUnfreezedItem:_this2.onUnfreezedItem,onDeleteHandler:_this2.props.onDeleteHandler,onPublishHandler:_this2.props.onPublishHandler});})));}}]);return DraftListView;}(_react2.default.Component);DraftListView.propTypes=propTypes;exports.default=DraftListView;\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onShowMore:_propTypes2.default.func.isRequired};var More=function(_React$Component){_inherits(More,_React$Component);function More(){_classCallCheck(this,More);return _possibleConstructorReturn(this,(More.__proto__||Object.getPrototypeOf(More)).apply(this,arguments));}_createClass(More,[{key:'render',value:function render(){return _react2.default.createElement('li',{className:'list-show-more',onClick:this.props.onShowMore},_react2.default.createElement('span',{className:'more-message'},(0,_constants.gettext)('show more')));}}]);return More;}(_react2.default.Component);More.propTypes=propTypes;exports.default=More;\n\n/***/ }),\n\n/***/ 1190:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}_moment2.default.locale(_constants.lang);var propTypes={draft:_propTypes2.default.object.isRequired,isItemFreezed:_propTypes2.default.bool.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnfreezedItem:_propTypes2.default.func.isRequired,onDeleteHandler:_propTypes2.default.func.isRequired,onPublishHandler:_propTypes2.default.func.isRequired};var DraftListItem=function(_React$Component){_inherits(DraftListItem,_React$Component);function DraftListItem(props){_classCallCheck(this,DraftListItem);var _this=_possibleConstructorReturn(this,(DraftListItem.__proto__||Object.getPrototypeOf(DraftListItem)).call(this,props));_this.onMouseEnter=function(){if(!_this.props.isItemFreezed){_this.setState({isMenuIconShow:true,highlight:true});}};_this.onMouseLeave=function(){if(!_this.props.isItemFreezed){_this.setState({isMenuIconShow:false,highlight:false});}};_this.onDropdownToggleClick=function(e){e.preventDefault();_this.toggleOperationMenu(e);};_this.toggleOperationMenu=function(e){e.stopPropagation();_this.setState({isItemMenuShow:!_this.state.isItemMenuShow},function(){if(_this.state.isItemMenuShow){_this.props.onFreezedItem();}else{_this.setState({highlight:false,isMenuIconShow:false});_this.props.onUnfreezedItem();}});};_this.onDeleteHandler=function(){_this.props.onDeleteHandler(_this.props.draft);};_this.onPublishHandler=function(){_this.props.onPublishHandler(_this.props.draft);};_this.state={isMenuIconShow:false,isItemMenuShow:false,highlight:false};return _this;}_createClass(DraftListItem,[{key:'render',value:function render(){var draft=this.props.draft;var repoID=draft.origin_repo_id;var filePath=draft.draft_file_path;var fileName=_utils.Utils.getFileName(filePath);var draftUrl=_constants.siteRoot+'drafts/'+draft.id+'/';var libraryUrl=_constants.siteRoot+'library/'+repoID+'/'+encodeURIComponent(draft.repo_name)+'/';var localTime=_moment2.default.utc(draft.updated_at).toDate();localTime=(0,_moment2.default)(localTime).fromNow();var iconUrl=_utils.Utils.getFileIconUrl(fileName);return _react2.default.createElement('tr',{className:this.state.highlight?'tr-highlight':'',onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{className:'text-center'},_react2.default.createElement('img',{src:iconUrl,width:'24',alt:''})),_react2.default.createElement('td',{className:'name'},_react2.default.createElement('a',{href:draftUrl,target:'_blank'},fileName)),_react2.default.createElement('td',{className:'library'},_react2.default.createElement('a',{href:libraryUrl,target:'_blank'},draft.repo_name)),_react2.default.createElement('td',{className:'update'},localTime),_react2.default.createElement('td',{className:'text-center'},this.state.isMenuIconShow&&_react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},_react2.default.createElement(_reactstrap.DropdownToggle,{tag:'i',className:'fas fa-ellipsis-v attr-action-icon',title:(0,_constants.gettext)('More Operations'),onClick:this.onDropdownToggleClick,'data-toggle':'dropdown','aria-expanded':this.state.isItemMenuShow}),_react2.default.createElement(_reactstrap.DropdownMenu,null,_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.onDeleteHandler},(0,_constants.gettext)('Delete')),draft.status=='open'&&_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.onPublishHandler},(0,_constants.gettext)('Publish'))))));}}]);return DraftListItem;}(_react2.default.Component);DraftListItem.propTypes=propTypes;exports.default=DraftListItem;\n\n/***/ }),\n\n/***/ 1191:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _activity=__webpack_require__(1192);var _activity2=_interopRequireDefault(_activity);var _listCreatedFilesDialog=__webpack_require__(1193);var _listCreatedFilesDialog2=_interopRequireDefault(_listCreatedFilesDialog);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);__webpack_require__(1194);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}_moment2.default.locale(window.app.config.lang);var contentPropTypes={isLoadingMore:_propTypes2.default.bool.isRequired,items:_propTypes2.default.array.isRequired};var FileActivitiesContent=function(_Component){_inherits(FileActivitiesContent,_Component);function FileActivitiesContent(){_classCallCheck(this,FileActivitiesContent);return _possibleConstructorReturn(this,(FileActivitiesContent.__proto__||Object.getPrototypeOf(FileActivitiesContent)).apply(this,arguments));}_createClass(FileActivitiesContent,[{key:'render',value:function render(){var _props=this.props,items=_props.items,isLoadingMore=_props.isLoadingMore;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('table',{width:'100%',className:'table table-hover table-vcenter'},_react2.default.createElement('colgroup',null,_react2.default.createElement('col',{width:'8%'}),_react2.default.createElement('col',{width:'15%'}),_react2.default.createElement('col',{width:'20%'}),_react2.default.createElement('col',{width:'37%'}),_react2.default.createElement('col',{width:'20%'})),_react2.default.createElement('tbody',null,items.map(function(item,index){return _react2.default.createElement(ActivityItem,{key:index,item:item,index:index,items:items});}))),isLoadingMore?_react2.default.createElement('span',{className:'loading-icon loading-tip'}):'');}}]);return FileActivitiesContent;}(_react.Component);FileActivitiesContent.propTypes=contentPropTypes;var activityPropTypes={item:_propTypes2.default.object.isRequired,index:_propTypes2.default.number.isRequired,items:_propTypes2.default.array.isRequired};var ActivityItem=function(_Component2){_inherits(ActivityItem,_Component2);function ActivityItem(props){_classCallCheck(this,ActivityItem);var _this2=_possibleConstructorReturn(this,(ActivityItem.__proto__||Object.getPrototypeOf(ActivityItem)).call(this,props));_this2.onMouseEnter=function(){_this2.setState({active:true});};_this2.onMouseLeave=function(){_this2.setState({active:false});};_this2.onListCreatedFilesToggle=function(){_this2.setState({isListCreatedFiles:!_this2.state.isListCreatedFiles});};_this2.state={isListCreatedFiles:false,active:false};return _this2;}_createClass(ActivityItem,[{key:'render',value:function render(){var _props2=this.props,item=_props2.item,index=_props2.index,items=_props2.items;var op=void 0,details=void 0;var userProfileURL=_constants.siteRoot+'profile/'+encodeURIComponent(item.author_email)+'/';var libURL=_constants.siteRoot+'library/'+item.repo_id+'/'+encodeURIComponent(item.repo_name)+'/';var libLink=_react2.default.createElement('a',{href:libURL},item.repo_name);var smallLibLink=_react2.default.createElement('a',{className:'small text-secondary',href:libURL},item.repo_name);if(item.obj_type=='repo'){switch(item.op_type){case'create':op=(0,_constants.gettext)('Created library');details=_react2.default.createElement('td',null,libLink);break;case'rename':op=(0,_constants.gettext)('Renamed library');details=_react2.default.createElement('td',null,item.old_repo_name,' => ',libLink);break;case'delete':op=(0,_constants.gettext)('Deleted library');details=_react2.default.createElement('td',null,item.repo_name);break;case'recover':op=(0,_constants.gettext)('Restored library');details=_react2.default.createElement('td',null,libLink);break;case'clean-up-trash':if(item.days==0){op=(0,_constants.gettext)('Removed all items from trash.');}else{op=(0,_constants.gettext)('Removed items older than {n} days from trash.').replace('{n}',item.days);}details=_react2.default.createElement('td',null,libLink);break;}}else if(item.obj_type=='draft'){var fileURL=_constants.siteRoot+'lib/'+item.repo_id+'/file'+_utils.Utils.encodePath(item.path);var fileLink=_react2.default.createElement('a',{href:fileURL,target:'_blank'},item.name);op=(0,_constants.gettext)('Publish draft');details=_react2.default.createElement('td',null,fileLink,_react2.default.createElement('br',null),smallLibLink);}else if(item.obj_type=='files'){var _fileURL=_constants.siteRoot+'lib/'+item.repo_id+'/file'+_utils.Utils.encodePath(item.path);if(item.name.endsWith('(draft).md')){_fileURL=_constants.serviceURL+'/drafts/'+item.draft_id+'/';}var _fileLink='<a href='+_fileURL+' target=\"_blank\">'+item.name+'</a>';if(item.name.endsWith('(draft).md')&&!item.draft_id){_fileLink=item.name;}var fileCount=item.createdFilesCount-1;var firstLine=(0,_constants.gettext)('{file} and {n} other files');firstLine=firstLine.replace('{file}',_fileLink);firstLine=firstLine.replace('{n}',fileCount);op=(0,_constants.gettext)('Created {n} files').replace('{n}',item.createdFilesCount);details=_react2.default.createElement('td',null,_react2.default.createElement('div',{className:'activity-detail',dangerouslySetInnerHTML:{__html:firstLine}}),' ',this.state.active&&_react2.default.createElement('i',{className:'attr-action-icon fas fa-eye',onClick:this.onListCreatedFilesToggle}),_react2.default.createElement('br',null),smallLibLink);}else if(item.obj_type=='file'){var _fileURL2=_constants.siteRoot+'lib/'+item.repo_id+'/file'+_utils.Utils.encodePath(item.path);if(item.name.endsWith('(draft).md')){_fileURL2=_constants.serviceURL+'/drafts/'+item.draft_id+'/';}var _fileLink2=_react2.default.createElement('a',{href:_fileURL2,target:'_blank'},item.name);if(item.name.endsWith('(draft).md')&&!item.draft_id){_fileLink2=item.name;}switch(item.op_type){case'create':if(item.name.endsWith('(draft).md')){op=(0,_constants.gettext)('Created draft');details=_react2.default.createElement('td',null,_fileLink2,_react2.default.createElement('br',null),smallLibLink);break;}op=(0,_constants.gettext)('Created file');details=_react2.default.createElement('td',null,_fileLink2,_react2.default.createElement('br',null),smallLibLink);break;case'delete':if(item.name.endsWith('(draft).md')){op=(0,_constants.gettext)('Deleted draft');details=_react2.default.createElement('td',null,item.name,_react2.default.createElement('br',null),smallLibLink);break;}op=(0,_constants.gettext)('Deleted file');details=_react2.default.createElement('td',null,item.name,_react2.default.createElement('br',null),smallLibLink);break;case'recover':op=(0,_constants.gettext)('Restored file');details=_react2.default.createElement('td',null,_fileLink2,_react2.default.createElement('br',null),smallLibLink);break;case'rename':op=(0,_constants.gettext)('Renamed file');details=_react2.default.createElement('td',null,item.old_name,' => ',_fileLink2,_react2.default.createElement('br',null),smallLibLink);break;case'move':var filePathLink=_react2.default.createElement('a',{href:_fileURL2},item.path);op=(0,_constants.gettext)('Moved file');details=_react2.default.createElement('td',null,item.old_path,' => ',filePathLink,_react2.default.createElement('br',null),smallLibLink);break;case'edit':// update\nif(item.name.endsWith('(draft).md')){op=(0,_constants.gettext)('Updated draft');details=_react2.default.createElement('td',null,_fileLink2,_react2.default.createElement('br',null),smallLibLink);break;}op=(0,_constants.gettext)('Updated file');details=_react2.default.createElement('td',null,_fileLink2,_react2.default.createElement('br',null),smallLibLink);break;}}else{// dir\nvar dirURL=_constants.siteRoot+'library/'+item.repo_id+'/'+encodeURIComponent(item.repo_name)+_utils.Utils.encodePath(item.path);var dirLink=_react2.default.createElement('a',{href:dirURL,target:'_blank'},item.name);switch(item.op_type){case'create':op=(0,_constants.gettext)('Created folder');details=_react2.default.createElement('td',null,dirLink,_react2.default.createElement('br',null),smallLibLink);break;case'delete':op=(0,_constants.gettext)('Deleted folder');details=_react2.default.createElement('td',null,item.name,_react2.default.createElement('br',null),smallLibLink);break;case'recover':op=(0,_constants.gettext)('Restored folder');details=_react2.default.createElement('td',null,dirLink,_react2.default.createElement('br',null),smallLibLink);break;case'rename':op=(0,_constants.gettext)('Renamed folder');details=_react2.default.createElement('td',null,item.old_name,' => ',dirLink,_react2.default.createElement('br',null),smallLibLink);break;case'move':var dirPathLink=_react2.default.createElement('a',{href:dirURL},item.path);op=(0,_constants.gettext)('Moved folder');details=_react2.default.createElement('td',null,item.old_path,' => ',dirPathLink,_react2.default.createElement('br',null),smallLibLink);break;}}var isShowDate=true;if(index>0){var lastEventTime=items[index-1].time;isShowDate=(0,_moment2.default)(item.time).isSame(lastEventTime,'day')?false:true;}return _react2.default.createElement(_react.Fragment,null,isShowDate&&_react2.default.createElement('tr',null,_react2.default.createElement('td',{colSpan:'5',className:'activity-date'},(0,_moment2.default)(item.time).format('YYYY-MM-DD'))),_react2.default.createElement('tr',{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{className:'text-center'},_react2.default.createElement('img',{src:item.avatar_url,alt:'',width:'36px',height:'36px',className:'avatar'})),_react2.default.createElement('td',null,_react2.default.createElement('a',{href:userProfileURL},item.author_name)),_react2.default.createElement('td',null,_react2.default.createElement('span',{className:'activity-op'},op)),details,_react2.default.createElement('td',{className:'text-secondary'},_react2.default.createElement('time',{datetime:item.time,is:'relative-time',title:(0,_moment2.default)(item.time).format('llll')},(0,_moment2.default)(item.time).fromNow()))),this.state.isListCreatedFiles&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_listCreatedFilesDialog2.default,{activity:item,toggleCancel:this.onListCreatedFilesToggle})));}}]);return ActivityItem;}(_react.Component);ActivityItem.propTypes=activityPropTypes;var FilesActivities=function(_Component3){_inherits(FilesActivities,_Component3);function FilesActivities(props){_classCallCheck(this,FilesActivities);var _this3=_possibleConstructorReturn(this,(FilesActivities.__proto__||Object.getPrototypeOf(FilesActivities)).call(this,props));_this3.mergePublishEvents=function(events){events.map(function(item){if(item.op_type==='publish'){_this3.curPathList.push(item.path);_this3.oldPathList.push(item.old_path);}});var actuallyEvents=[];for(var i=0;i<events.length;i++){if(events[i].obj_type==='file'){if(events[i].op_type==='delete'&&_this3.oldPathList.includes(events[i].path)){_this3.oldPathList.splice(_this3.oldPathList.indexOf(events[i].path),1);}else if(events[i].op_type==='edit'&&_this3.curPathList.includes(events[i].path)){_this3.curPathList.splice(_this3.curPathList.indexOf(events[i].path),1);}else if(events[i].op_type==='rename'&&_this3.oldPathList.includes(events[i].old_path)){_this3.oldPathList.splice(_this3.oldPathList.indexOf(events[i].old_path),1);}else{actuallyEvents.push(events[i]);}}else{actuallyEvents.push(events[i]);}}return actuallyEvents;};_this3.mergeFileCreateEvents=function(events){var actuallyEvents=[];var multiFilesActivity=null;for(var i=0;i<events.length;i++){var isFulfilCondition=events[i].obj_type==='file'&&events[i].op_type==='create'&&events[i+1]&&events[i+1].obj_type==='file'&&events[i+1].op_type==='create'&&events[i+1].repo_name===events[i].repo_name&&events[i+1].author_email===events[i].author_email;if(multiFilesActivity!=null){multiFilesActivity.createdFilesCount++;multiFilesActivity.createdFilesList.push(events[i]);if(isFulfilCondition){continue;}else{actuallyEvents.push(multiFilesActivity);multiFilesActivity=null;}}else{if(isFulfilCondition){multiFilesActivity=new _activity2.default(events[i]);multiFilesActivity.obj_type='files';multiFilesActivity.createdFilesCount++;multiFilesActivity.createdFilesList.push(events[i]);}else{actuallyEvents.push(events[i]);}}}return actuallyEvents;};_this3.handleScroll=function(event){if(!_this3.state.isLoadingMore&&_this3.state.hasMore){var clientHeight=event.target.clientHeight;var scrollHeight=event.target.scrollHeight;var scrollTop=event.target.scrollTop;var isBottom=clientHeight+scrollTop+1>=scrollHeight;if(isBottom){// scroll to the bottom\n_this3.setState({isLoadingMore:true},function(){_this3.getMore();});}}};_this3.state={errorMsg:'',isFirstLoading:true,isLoadingMore:false,currentPage:1,hasMore:true,items:[]};_this3.avatarSize=72;_this3.curPathList=[];_this3.oldPathList=[];return _this3;}_createClass(FilesActivities,[{key:'componentDidMount',value:function componentDidMount(){var _this4=this;var currentPage=this.state.currentPage;_seafileApi.seafileAPI.listActivities(currentPage,this.avatarSize).then(function(res){// {\"events\":[...]}\nvar events=_this4.mergePublishEvents(res.data.events);events=_this4.mergeFileCreateEvents(events);_this4.setState({items:events,currentPage:currentPage+1,isFirstLoading:false,hasMore:true});if(_this4.state.items.length<25){_this4.getMore();}}).catch(function(error){if(error.response.status==403){_this4.setState({isFirstLoading:false,errorMsg:(0,_constants.gettext)('Permission denied')});}});}},{key:'getMore',value:function getMore(){var _this5=this;var currentPage=this.state.currentPage;_seafileApi.seafileAPI.listActivities(currentPage,this.avatarSize).then(function(res){// {\"events\":[...]}\nvar events=_this5.mergePublishEvents(res.data.events);events=_this5.mergeFileCreateEvents(events);_this5.setState({isLoadingMore:false,items:[].concat(_toConsumableArray(_this5.state.items),_toConsumableArray(events)),currentPage:currentPage+1,hasMore:res.data.events.length===0?false:true});if(_this5.state.items.length<25&&_this5.state.hasMore){_this5.getMore();}}).catch(function(error){if(error.response.status==403){_this5.setState({isLoadingMore:false,errorMsg:(0,_constants.gettext)('Permission denied')});}});}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'main-panel-center'},_react2.default.createElement('div',{className:'cur-view-container',id:'activities'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement('h3',{className:'sf-heading'},(0,_constants.gettext)('Activities'))),_react2.default.createElement('div',{className:'cur-view-content',onScroll:this.handleScroll},this.state.isFirstLoading&&_react2.default.createElement(_loading2.default,null),!this.state.isFirstLoading&&this.state.errorMsg&&_react2.default.createElement('p',{className:'error text-center'},this.state.errorMsg),!this.state.isFirstLoading&&_react2.default.createElement(FileActivitiesContent,{items:this.state.items,isLoadingMore:this.state.isLoadingMore}))));}}]);return FilesActivities;}(_react.Component);exports.default=FilesActivities;\n\n/***/ }),\n\n/***/ 1192:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Acticity=function Acticity(json){_classCallCheck(this,Acticity);this.repo_id=json.repo_id;this.repo_name=json.repo_name;this.obj_type=json.obj_type;this.commit_id=json.commit_id;this.path=json.path;this.name=json.name;this.author_email=json.author_email;this.author_name=json.author_name;this.author_contact_email=json.author_contact_email;this.avatar_url=json.avatar_url;this.time=json.time;this.op_type=json.op_type;this.createdFilesCount=0;this.createdFilesList=[];if(json.op_type==='clean-up-trash'){this.days=json.days;}else if(json.op_type==='rename'&&json.obj_type==='repo'){this.old_repo_name=json.old_repo_name;}else if(json.op_type==='move'&&['dir','file'].includes(json.obj_type)){this.old_path=json.old_path;}else if(json.op_type==='rename'&&['dir','file'].includes(json.obj_type)){this.old_path=json.old_path;this.old_name=json.old_name;}else if(json.op_type==='publish'){this.old_path=json.old_path;}else if(json.name.endsWith('(draft).md')){this.draft_id=json.draft_id;}};exports.default=Acticity;\n\n/***/ }),\n\n/***/ 1193:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={activity:_propTypes2.default.object.isRequired,toggleCancel:_propTypes2.default.func.isRequired};var ListCreatedFileDialog=function(_React$Component){_inherits(ListCreatedFileDialog,_React$Component);function ListCreatedFileDialog(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ListCreatedFileDialog);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ListCreatedFileDialog.__proto__||Object.getPrototypeOf(ListCreatedFileDialog)).call.apply(_ref,[this].concat(args))),_this),_this.toggle=function(activity){_this.props.toggleCancel(activity);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(ListCreatedFileDialog,[{key:'render',value:function render(){var activity=this.props.activity;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Created Files')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement(_reactstrap.Table,null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'75%'},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{width:'25%'},(0,_constants.gettext)('Time')))),_react2.default.createElement('tbody',null,activity.createdFilesList.map(function(item,index){var fileURL=_constants.siteRoot+'lib/'+item.repo_id+'/file'+_utils.Utils.encodePath(item.path);if(item.name.endsWith('(draft).md')){fileURL=_constants.serviceURL+'/drafts/'+item.draft_id+'/';}var fileLink=_react2.default.createElement('a',{href:fileURL,target:'_blank'},item.name);if(item.name.endsWith('(draft).md')&&!item.draft_id){fileLink=item.name;}return _react2.default.createElement('tr',{key:index},_react2.default.createElement('td',null,fileLink),_react2.default.createElement('td',null,(0,_moment2.default)(item.time).fromNow()));})))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle.bind(this,activity)},(0,_constants.gettext)('Close'))));}}]);return ListCreatedFileDialog;}(_react2.default.Component);ListCreatedFileDialog.propTypes=propTypes;exports.default=ListCreatedFileDialog;\n\n/***/ }),\n\n/***/ 1194:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 1195:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _router=__webpack_require__(60);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Content=function(_Component){_inherits(Content,_Component);function Content(){_classCallCheck(this,Content);return _possibleConstructorReturn(this,(Content.__proto__||Object.getPrototypeOf(Content)).apply(this,arguments));}_createClass(Content,[{key:'render',value:function render(){var _props$data=this.props.data,loading=_props$data.loading,errorMsg=_props$data.errorMsg,items=_props$data.items;if(loading){return _react2.default.createElement('span',{className:'loading-icon loading-tip'});}else if(errorMsg){return _react2.default.createElement('p',{className:'error text-center'},errorMsg);}else{var desktopThead=_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'4%'}),_react2.default.createElement('th',{width:'40%'},(0,_constants.gettext)('File Name')),_react2.default.createElement('th',{width:'32%'},(0,_constants.gettext)('Library')),_react2.default.createElement('th',{width:'18%'},(0,_constants.gettext)('Last Update')),_react2.default.createElement('th',{width:'6%'})));var mobileThead=_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'4%'}),_react2.default.createElement('th',{width:'90%'},(0,_constants.gettext)('File Name')),_react2.default.createElement('th',{width:'6%'})));return _react2.default.createElement('table',{className:'table-hover'},window.innerWidth>=768?desktopThead:mobileThead,_react2.default.createElement(TableBody,{items:items}));}}}]);return Content;}(_react.Component);var TableBody=function(_Component2){_inherits(TableBody,_Component2);function TableBody(props){_classCallCheck(this,TableBody);var _this3=_possibleConstructorReturn(this,(TableBody.__proto__||Object.getPrototypeOf(TableBody)).call(this,props));_this3.state={items:_this3.props.items};return _this3;}_createClass(TableBody,[{key:'componentDidMount',value:function componentDidMount(){this.getThumbnails();}},{key:'getThumbnails',value:function getThumbnails(){var items=this.state.items.filter(function(item){return _utils.Utils.imageCheck(item.obj_name)&&!item.repo_encrypted;});if(items.length==0){return;}var len=items.length;var thumbnailSize=48;var _this=this;var getThumbnail=function getThumbnail(i){var curItem=items[i];_seafileApi.seafileAPI.createThumbnail(curItem.repo_id,curItem.path,thumbnailSize).then(function(res){curItem.encoded_thumbnail_src=res.data.encoded_thumbnail_src;}).catch(function(error){// do nothing\n}).then(function(){if(i<len-1){getThumbnail(++i);}else{// when done, `setState()`\n_this.setState({items:_this.state.items});}});};getThumbnail(0);}},{key:'render',value:function render(){var listFilesActivities=this.state.items.map(function(item,index){if(item.path==='/'){item.item_icon_url=_utils.Utils.getDefaultLibIconUrl(false);}else{item.item_icon_url=item.is_dir?_utils.Utils.getFolderIconUrl(false):_utils.Utils.getFileIconUrl(item.obj_name);}item.encoded_path=_utils.Utils.encodePath(item.path);item.thumbnail_url=item.encoded_thumbnail_src?''+_constants.siteRoot+item.encoded_thumbnail_src:'';item.dirent_view_url=item.is_dir?_constants.siteRoot+'library/'+item.repo_id+'/'+item.repo_name+item.encoded_path:_constants.siteRoot+'lib/'+item.repo_id+'/file'+item.encoded_path;item.mtime_relative=(0,_moment2.default)(item.mtime).fromNow();return _react2.default.createElement(Item,{key:index,data:item});},this);return _react2.default.createElement('tbody',null,listFilesActivities);}}]);return TableBody;}(_react.Component);var Item=function(_Component3){_inherits(Item,_Component3);function Item(props){_classCallCheck(this,Item);var _this4=_possibleConstructorReturn(this,(Item.__proto__||Object.getPrototypeOf(Item)).call(this,props));_this4.handleMouseOver=function(){_this4.setState({showOpIcon:true});};_this4.handleMouseOut=function(){_this4.setState({showOpIcon:false});};_this4.handleClick=function(e){e.preventDefault();var data=_this4.props.data;_seafileApi.seafileAPI.unstarItem(data.repo_id,data.path).then(function(res){_this4.setState({unstarred:true});// TODO: show feedback msg\n}).catch(function(error){// TODO: show feedback msg\n});};_this4.state={showOpIcon:false,unstarred:false};return _this4;}_createClass(Item,[{key:'render',value:function render(){if(this.state.unstarred){return null;}var data=this.props.data;var opClasses='sf2-icon-x3 unstar action-icon';opClasses+=this.state.showOpIcon?'':' invisible';var desktopItem=_react2.default.createElement('tr',{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},_react2.default.createElement('td',{className:'alc'},data.thumbnail_url?_react2.default.createElement('img',{className:'thumbnail',src:data.thumbnail_url,alt:''}):_react2.default.createElement('img',{src:data.item_icon_url,alt:(0,_constants.gettext)('icon'),width:'24'})),_react2.default.createElement('td',null,data.is_dir?_react2.default.createElement(_router.Link,{to:data.dirent_view_url},data.obj_name):_react2.default.createElement('a',{className:'normal',href:data.dirent_view_url,target:'_blank'},data.obj_name)),_react2.default.createElement('td',null,data.repo_name),_react2.default.createElement('td',{dangerouslySetInnerHTML:{__html:data.mtime_relative}}),_react2.default.createElement('td',null,_react2.default.createElement('a',{href:'#',className:opClasses,title:(0,_constants.gettext)('Unstar'),'aria-label':(0,_constants.gettext)('Unstar'),onClick:this.handleClick})));var mobileItem=_react2.default.createElement('tr',null,_react2.default.createElement('td',{className:'alc'},data.thumbnail_url?_react2.default.createElement('img',{className:'thumbnail',src:data.thumbnail_url,alt:''}):_react2.default.createElement('img',{src:data.item_icon_url,alt:(0,_constants.gettext)('icon'),width:'24'})),_react2.default.createElement('td',null,data.is_dir?_react2.default.createElement(_router.Link,{to:data.dirent_view_url},data.obj_name):_react2.default.createElement('a',{className:'normal',href:data.dirent_view_url,target:'_blank'},data.obj_name),_react2.default.createElement('br',null),_react2.default.createElement('span',{className:'dirent-meta-info'},data.repo_name),_react2.default.createElement('span',{className:'dirent-meta-info',dangerouslySetInnerHTML:{__html:data.mtime_relative}})),_react2.default.createElement('td',null,_react2.default.createElement('a',{href:'#',className:'sf2-icon-delete unstar action-icon',title:(0,_constants.gettext)('Unstar'),'aria-label':(0,_constants.gettext)('Unstar'),onClick:this.handleClick})));if(window.innerWidth>=768){return desktopItem;}else{return mobileItem;}}}]);return Item;}(_react.Component);var Starred=function(_Component4){_inherits(Starred,_Component4);function Starred(props){_classCallCheck(this,Starred);var _this5=_possibleConstructorReturn(this,(Starred.__proto__||Object.getPrototypeOf(Starred)).call(this,props));_this5.state={loading:true,errorMsg:'',items:[]};return _this5;}_createClass(Starred,[{key:'componentDidMount',value:function componentDidMount(){var _this6=this;_seafileApi.seafileAPI.listStarredItems().then(function(res){//res: {data: Array(2), status: 200, statusText: \"OK\", headers: {}, config: {},}\n_this6.setState({loading:false,items:res.data.starred_item_list});}).catch(function(error){if(error.response){if(error.response.status==403){_this6.setState({loading:false,errorMsg:(0,_constants.gettext)('Permission denied')});location.href=_constants.loginUrl+'?next='+encodeURIComponent(location.href);}else{_this6.setState({loading:false,errorMsg:(0,_constants.gettext)('Error')});}}else{_this6.setState({loading:false,errorMsg:(0,_constants.gettext)('Please check the network.')});}});}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'main-panel-center'},_react2.default.createElement('div',{className:'cur-view-container',id:'starred'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement('h3',{className:'sf-heading'},(0,_constants.gettext)('Favorites'))),_react2.default.createElement('div',{className:'cur-view-content'},_react2.default.createElement(Content,{data:this.state}))));}}]);return Starred;}(_react.Component);exports.default=Starred;\n\n/***/ }),\n\n/***/ 1196:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Content=function(_Component){_inherits(Content,_Component);function Content(){_classCallCheck(this,Content);return _possibleConstructorReturn(this,(Content.__proto__||Object.getPrototypeOf(Content)).apply(this,arguments));}_createClass(Content,[{key:'render',value:function render(){var _props$data=this.props.data,loading=_props$data.loading,errorMsg=_props$data.errorMsg,items=_props$data.items;if(loading){return _react2.default.createElement('span',{className:'loading-icon loading-tip'});}else if(errorMsg){return _react2.default.createElement('p',{className:'error text-center'},errorMsg);}else{var desktopThead=_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'13%'},(0,_constants.gettext)('Platform')),_react2.default.createElement('th',{width:'30%'},(0,_constants.gettext)('Device Name')),_react2.default.createElement('th',{width:'30%'},(0,_constants.gettext)('IP')),_react2.default.createElement('th',{width:'17%'},(0,_constants.gettext)('Last Access')),_react2.default.createElement('th',{width:'10%'})));var mobileThead=_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'25%'},(0,_constants.gettext)('Platform')),_react2.default.createElement('th',{width:'70%'},(0,_constants.gettext)('Device Name')),_react2.default.createElement('th',{width:'5%'})));return _react2.default.createElement('table',null,window.innerWidth>=768?desktopThead:mobileThead,_react2.default.createElement(TableBody,{items:items}));}}}]);return Content;}(_react.Component);var TableBody=function(_Component2){_inherits(TableBody,_Component2);function TableBody(props){_classCallCheck(this,TableBody);var _this2=_possibleConstructorReturn(this,(TableBody.__proto__||Object.getPrototypeOf(TableBody)).call(this,props));_this2.state={items:_this2.props.items};return _this2;}_createClass(TableBody,[{key:'render',value:function render(){var listLinkedDevices=this.state.items.map(function(item,index){return _react2.default.createElement(Item,{key:index,data:item});},this);return _react2.default.createElement('tbody',null,listLinkedDevices);}}]);return TableBody;}(_react.Component);var Item=function(_Component3){_inherits(Item,_Component3);function Item(props){_classCallCheck(this,Item);var _this3=_possibleConstructorReturn(this,(Item.__proto__||Object.getPrototypeOf(Item)).call(this,props));_this3.state={showOpIcon:false,unlinked:false};_this3.handleMouseOver=_this3.handleMouseOver.bind(_this3);_this3.handleMouseOut=_this3.handleMouseOut.bind(_this3);_this3.handleClick=_this3.handleClick.bind(_this3);return _this3;}_createClass(Item,[{key:'handleMouseOver',value:function handleMouseOver(){this.setState({showOpIcon:true});}},{key:'handleMouseOut',value:function handleMouseOut(){this.setState({showOpIcon:false});}},{key:'handleClick',value:function handleClick(e){var _this4=this;e.preventDefault();var data=this.props.data;_seafileApi.seafileAPI.unlinkDevice(data.platform,data.device_id).then(function(res){_this4.setState({unlinked:true});var msg_s=(0,_constants.gettext)('Successfully unlink %(name)s.');msg_s=msg_s.replace('%(name)s',data.device_name);_toast2.default.success(msg_s);}).catch(function(error){var message=(0,_constants.gettext)('Failed to unlink %(name)s');message=message.replace('%(name)s',data.device_name);_toast2.default.danger(message);});}},{key:'render',value:function render(){if(this.state.unlinked){return null;}var data=this.props.data;var opClasses='sf2-icon-delete unlink-device action-icon';opClasses+=this.state.showOpIcon?'':' invisible';var desktopItem=_react2.default.createElement('tr',{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},_react2.default.createElement('td',null,data.platform),_react2.default.createElement('td',null,data.device_name),_react2.default.createElement('td',null,data.last_login_ip),_react2.default.createElement('td',null,(0,_moment2.default)(data.last_accessed).fromNow()),_react2.default.createElement('td',null,_react2.default.createElement('a',{href:'#',className:opClasses,title:(0,_constants.gettext)('Unlink'),'aria-label':(0,_constants.gettext)('Unlink'),onClick:this.handleClick})));var mobileItem=_react2.default.createElement('tr',null,_react2.default.createElement('td',null,data.platform),_react2.default.createElement('td',null,data.device_name),_react2.default.createElement('td',null,_react2.default.createElement('a',{href:'#',className:opClasses,title:(0,_constants.gettext)('Unlink'),'aria-label':(0,_constants.gettext)('Unlink'),onClick:this.handleClick})));if(window.innerWidth>=768){return desktopItem;}else{return mobileItem;}}}]);return Item;}(_react.Component);var LinkedDevices=function(_Component4){_inherits(LinkedDevices,_Component4);function LinkedDevices(props){_classCallCheck(this,LinkedDevices);var _this5=_possibleConstructorReturn(this,(LinkedDevices.__proto__||Object.getPrototypeOf(LinkedDevices)).call(this,props));_this5.state={loading:true,errorMsg:'',items:[]};return _this5;}_createClass(LinkedDevices,[{key:'componentDidMount',value:function componentDidMount(){var _this6=this;_seafileApi.seafileAPI.listLinkedDevices().then(function(res){//res: {data: Array(2), status: 200, statusText: \"OK\", headers: {}, config: {},}\n_this6.setState({loading:false,items:res.data});}).catch(function(error){if(error.response){if(error.response.status==403){_this6.setState({loading:false,errorMsg:(0,_constants.gettext)('Permission denied')});location.href=_constants.loginUrl+'?next='+encodeURIComponent(location.href);}else{_this6.setState({loading:false,errorMsg:(0,_constants.gettext)('Error')});}}else{_this6.setState({loading:false,errorMsg:(0,_constants.gettext)('Please check the network.')});}});}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'main-panel-center'},_react2.default.createElement('div',{className:'cur-view-container',id:'linked-devices'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement('h3',{className:'sf-heading'},(0,_constants.gettext)('Linked Devices'))),_react2.default.createElement('div',{className:'cur-view-content'},_react2.default.createElement(Content,{data:this.state}))));}}]);return LinkedDevices;}(_react.Component);exports.default=LinkedDevices;\n\n/***/ }),\n\n/***/ 1197:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _router=__webpack_require__(60);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _constants=__webpack_require__(2);var _sharePermissionEditor=__webpack_require__(19);var _sharePermissionEditor2=_interopRequireDefault(_sharePermissionEditor);var _sharedRepoInfo=__webpack_require__(1198);var _sharedRepoInfo2=_interopRequireDefault(_sharedRepoInfo);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Content=function(_Component){_inherits(Content,_Component);function Content(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Content);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Content.__proto__||Object.getPrototypeOf(Content)).call.apply(_ref,[this].concat(args))),_this),_this.sortByName=function(e){e.preventDefault();var sortBy='name';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Content,[{key:'render',value:function render(){var _this2=this;var _props=this.props,loading=_props.loading,errorMsg=_props.errorMsg,items=_props.items,sortBy=_props.sortBy,sortOrder=_props.sortOrder;if(loading){return _react2.default.createElement('span',{className:'loading-icon loading-tip'});}else if(errorMsg){return _react2.default.createElement('p',{className:'error text-center'},errorMsg);}else{var emptyTip=_react2.default.createElement('div',{className:'empty-tip'},_react2.default.createElement('h2',null,(0,_constants.gettext)('You have not shared any libraries')),_react2.default.createElement('p',null,(0,_constants.gettext)('You can share libraries with your friends and colleagues by clicking the share icon of your own libraries in your home page or creating a new library in groups you are in.')));// sort\nvar sortByName=sortBy=='name';var sortIcon=sortOrder=='asc'?_react2.default.createElement('span',{className:'fas fa-caret-up'}):_react2.default.createElement('span',{className:'fas fa-caret-down'});var table=_react2.default.createElement('table',{className:'table-hover'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'4%'}),_react2.default.createElement('th',{width:'34%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:this.sortByName},(0,_constants.gettext)('Name'),' ',sortByName&&sortIcon)),_react2.default.createElement('th',{width:'30%'},(0,_constants.gettext)('Share To')),_react2.default.createElement('th',{width:'24%'},(0,_constants.gettext)('Permission')),_react2.default.createElement('th',{width:'8%'}))),_react2.default.createElement('tbody',null,items.map(function(item,index){return _react2.default.createElement(Item,{key:index,item:item,unshareFolder:_this2.props.unshareFolder});})));return items.length?table:emptyTip;}}}]);return Content;}(_react.Component);var Item=function(_Component2){_inherits(Item,_Component2);function Item(props){_classCallCheck(this,Item);var _this3=_possibleConstructorReturn(this,(Item.__proto__||Object.getPrototypeOf(Item)).call(this,props));_initialiseProps.call(_this3);var item=_this3.props.item;_this3.state={share_permission:item.share_permission,is_admin:item.is_admin,showOpIcon:false,unshared:false};_this3.permissions=['rw','r'];if(_constants.isPro){_this3.permissions=['rw','r','cloud-edit','preview'];}return _this3;}_createClass(Item,[{key:'render',value:function render(){var _getRepoParams=this.getRepoParams(),iconUrl=_getRepoParams.iconUrl,iconTitle=_getRepoParams.iconTitle,repoUrl=_getRepoParams.repoUrl;var item=this.props.item;var _state=this.state,share_permission=_state.share_permission,is_admin=_state.is_admin;var shareTo=void 0;var shareType=item.share_type;if(shareType=='personal'){shareTo=_react2.default.createElement('td',{title:item.contact_email},item.user_name);}else if(shareType=='group'){shareTo=_react2.default.createElement('td',null,item.group_name);}else if(shareType=='public'){shareTo=_react2.default.createElement('td',null,(0,_constants.gettext)('all members'));}// show 'admin' perm or not\nvar showAdmin=_constants.isPro&&item.share_type!=='public';if(showAdmin&&is_admin){share_permission='admin';}var iconVisibility=this.state.showOpIcon?'':' invisible';var unshareIconClassName='unshare action-icon sf2-icon-x3'+iconVisibility;if(showAdmin&&this.permissions.indexOf('admin')===-1){this.permissions.splice(2,0,'admin');// add a item after 'r' permission;\n}return _react2.default.createElement('tr',{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',null,_react2.default.createElement('img',{src:iconUrl,title:iconTitle,alt:iconTitle,width:'24'})),_react2.default.createElement('td',null,_react2.default.createElement(_router.Link,{to:repoUrl},item.repo_name)),shareTo,_react2.default.createElement('td',null,_react2.default.createElement(_sharePermissionEditor2.default,{isTextMode:true,isEditIconShow:this.state.showOpIcon,currentPermission:share_permission,permissions:this.permissions,onPermissionChanged:this.changePerm})),_react2.default.createElement('td',null,_react2.default.createElement('a',{href:'#',className:unshareIconClassName,title:(0,_constants.gettext)('Unshare'),onClick:this.unshare})));}}]);return Item;}(_react.Component);var _initialiseProps=function _initialiseProps(){var _this6=this;this.onMouseEnter=function(){_this6.setState({showOpIcon:true});};this.onMouseLeave=function(){_this6.setState({showOpIcon:false});};this.changePerm=function(permission){var item=_this6.props.item;var share_type=item.share_type;var options={'share_type':share_type,'permission':permission};if(share_type=='personal'){options.user=item.user_email;}else if(share_type=='group'){options.group_id=item.group_id;}else if(share_type==='public'){// nothing todo\n}_seafileApi.seafileAPI.updateRepoSharePerm(item.repo_id,options).then(function(){_this6.setState({share_permission:permission=='admin'?'rw':permission,is_admin:permission=='admin'});// TODO: show feedback msg\n// gettext(\"Successfully modified permission\")\n}).catch(function(error){// TODO: show feedback msg\n});};this.unshare=function(){_this6.props.unshareFolder(_this6.props.item);};this.getRepoParams=function(){var item=_this6.props.item;var iconUrl=_utils.Utils.getLibIconUrl(item);var iconTitle=_utils.Utils.getLibIconTitle(item);var repoUrl=_constants.siteRoot+'library/'+item.repo_id+'/'+item.repo_name;return{iconUrl:iconUrl,iconTitle:iconTitle,repoUrl:repoUrl};};};var ShareAdminLibraries=function(_Component3){_inherits(ShareAdminLibraries,_Component3);function ShareAdminLibraries(props){_classCallCheck(this,ShareAdminLibraries);var _this4=_possibleConstructorReturn(this,(ShareAdminLibraries.__proto__||Object.getPrototypeOf(ShareAdminLibraries)).call(this,props));_this4.unshareFolder=function(item){var share_type=item.share_type;var options={'share_type':share_type};if(share_type=='personal'){options.user=item.user_email;}else if(share_type=='group'){options.group_id=item.group_id;}_seafileApi.seafileAPI.unshareRepo(item.repo_id,options).then(function(res){var items=[];if(item.share_type==='personal'){items=_this4.state.items.filter(function(repoItem){return!(repoItem.user_email===item.user_email&&repoItem.repo_id===item.repo_id);});}else if(item.share_type==='group'){items=_this4.state.items.filter(function(repoItem){return!(repoItem.group_id===item.group_id&&repoItem.repo_id===item.repo_id);});}else if(item.share_type==='public'){items=_this4.state.items.filter(function(repoItem){return!(repoItem.share_type==='public'&&repoItem.repo_id===item.repo_id);});}_this4.setState({items:items});// TODO: show feedback msg\n// gettext(\"Successfully deleted 1 item\")\n}).catch(function(error){// TODO: show feedback msg\n});};_this4.sortItems=function(sortBy,sortOrder){_this4.setState({sortBy:sortBy,sortOrder:sortOrder,items:_utils.Utils.sortRepos(_this4.state.items,sortBy,sortOrder)});};_this4.state={loading:true,errorMsg:'',items:[],sortBy:'name',// 'name' or 'time'\nsortOrder:'asc'// 'asc' or 'desc'\n};return _this4;}_createClass(ShareAdminLibraries,[{key:'componentDidMount',value:function componentDidMount(){var _this5=this;_seafileApi.seafileAPI.listSharedRepos().then(function(res){// res: {data: Array(2), status: 200, statusText: \"OK\", headers: {}, config: {},}\nvar items=res.data.map(function(item){return new _sharedRepoInfo2.default(item);});_this5.setState({loading:false,items:_utils.Utils.sortRepos(items,_this5.state.sortBy,_this5.state.sortOrder)});}).catch(function(error){if(error.response){if(error.response.status==403){_this5.setState({loading:false,errorMsg:(0,_constants.gettext)('Permission denied')});location.href=_constants.loginUrl+'?next='+encodeURIComponent(location.href);}else{_this5.setState({loading:false,errorMsg:(0,_constants.gettext)('Error')});}}else{_this5.setState({loading:false,errorMsg:(0,_constants.gettext)('Please check the network.')});}});}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'main-panel-center'},_react2.default.createElement('div',{className:'cur-view-container',id:'share-admin-libs'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement('h3',{className:'sf-heading'},(0,_constants.gettext)('Libraries'))),_react2.default.createElement('div',{className:'cur-view-content'},_react2.default.createElement(Content,{errorMsg:this.state.errorMsg,loading:this.state.loading,items:this.state.items,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems,unshareFolder:this.unshareFolder}))));}}]);return ShareAdminLibraries;}(_react.Component);exports.default=ShareAdminLibraries;\n\n/***/ }),\n\n/***/ 1198:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var SharedRepoInfo=function SharedRepoInfo(object){_classCallCheck(this,SharedRepoInfo);this.repo_id=object.repo_id;this.repo_name=object.repo_name;this.share_type=object.share_type;this.share_permission=object.share_permission;this.modifier_name=object.modifier_name;this.modifier_email=object.modifier_email;this.modifier_contact_email=object.modifier_contact_email;this.encrypted=object.encrypted;if(this.share_type==='personal'){this.is_admin=object.is_admin;this.user_name=object.user_name;this.user_email=object.user_email;this.contact_email=this.contact_email;}else if(this.share_type==='group'){this.is_admin=object.is_admin;this.group_id=object.group_id;this.group_name=object.group_name;}};exports.default=SharedRepoInfo;\n\n/***/ }),\n\n/***/ 1199:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _router=__webpack_require__(60);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _constants=__webpack_require__(2);var _sharePermissionEditor=__webpack_require__(19);var _sharePermissionEditor2=_interopRequireDefault(_sharePermissionEditor);var _sharedFolderInfo=__webpack_require__(1200);var _sharedFolderInfo2=_interopRequireDefault(_sharedFolderInfo);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Content=function(_Component){_inherits(Content,_Component);function Content(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Content);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Content.__proto__||Object.getPrototypeOf(Content)).call.apply(_ref,[this].concat(args))),_this),_this.sortByName=function(e){e.preventDefault();var sortBy='name';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Content,[{key:'render',value:function render(){var _this2=this;var _props=this.props,loading=_props.loading,errorMsg=_props.errorMsg,items=_props.items,sortBy=_props.sortBy,sortOrder=_props.sortOrder;if(loading){return _react2.default.createElement('span',{className:'loading-icon loading-tip'});}else if(errorMsg){return _react2.default.createElement('p',{className:'error text-center'},errorMsg);}else{var emptyTip=_react2.default.createElement('div',{className:'empty-tip'},_react2.default.createElement('h2',null,(0,_constants.gettext)('You have not shared any folders')),_react2.default.createElement('p',null,(0,_constants.gettext)('You can share a single folder with a registered user if you don\\'t want to share a whole library.')));// sort\nvar sortByName=sortBy=='name';var sortIcon=sortOrder=='asc'?_react2.default.createElement('span',{className:'fas fa-caret-up'}):_react2.default.createElement('span',{className:'fas fa-caret-down'});var table=_react2.default.createElement('table',{className:'table-hover'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'4%'}),_react2.default.createElement('th',{width:'34%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:this.sortByName},(0,_constants.gettext)('Name'),' ',sortByName&&sortIcon)),_react2.default.createElement('th',{width:'30%'},(0,_constants.gettext)('Share To')),_react2.default.createElement('th',{width:'24%'},(0,_constants.gettext)('Permission')),_react2.default.createElement('th',{width:'8%'}))),_react2.default.createElement('tbody',null,items.map(function(item,index){return _react2.default.createElement(Item,{key:index,item:item,unshareFolder:_this2.props.unshareFolder});})));return items.length?table:emptyTip;}}}]);return Content;}(_react.Component);var Item=function(_Component2){_inherits(Item,_Component2);function Item(props){_classCallCheck(this,Item);var _this3=_possibleConstructorReturn(this,(Item.__proto__||Object.getPrototypeOf(Item)).call(this,props));_this3.onMouseEnter=function(){_this3.setState({showOpIcon:true});};_this3.onMouseLeave=function(){_this3.setState({showOpIcon:false});};_this3.unshare=function(e){e.preventDefault();var item=_this3.props.item;_this3.props.unshareFolder(item);};_this3.changePerm=function(permission){var perm=permission;var postData={'permission':perm};var item=_this3.props.item;var options={'p':item.path,'share_type':item.share_type};if(item.share_type=='user'){options.username=item.user_email;}else{options.group_id=item.group_id;}_seafileApi.seafileAPI.updateFolderSharePerm(item.repo_id,postData,options).then(function(res){_this3.setState({share_permission:perm});// TODO: show feedback msg\n// gettext(\"Successfully modified permission\")\n}).catch(function(error){// TODO: show feedback msg\n});};_this3.getFolderParams=function(){var item=_this3.props.item;var share_permission=_this3.state.share_permission;var is_readonly=false;if(share_permission=='r'||share_permission=='preview'){is_readonly=true;}var iconUrl=_utils.Utils.getFolderIconUrl(is_readonly);var iconTitle=_utils.Utils.getFolderIconTitle({'permission':share_permission});var folderUrl=_constants.siteRoot+'library/'+item.repo_id+'/'+item.repo_name+_utils.Utils.encodePath(item.path);return{iconUrl:iconUrl,iconTitle:iconTitle,folderUrl:folderUrl};};_this3.state={share_permission:_this3.props.item.share_permission,showOpIcon:false,unshared:false};_this3.permissions=['rw','r'];if(_constants.isPro){_this3.permissions=['rw','r','cloud-edit','preview'];}return _this3;}_createClass(Item,[{key:'render',value:function render(){var item=this.props.item;var _getFolderParams=this.getFolderParams(),iconUrl=_getFolderParams.iconUrl,iconTitle=_getFolderParams.iconTitle,folderUrl=_getFolderParams.folderUrl;var shareTo=void 0;var shareType=item.share_type;if(shareType=='user'){shareTo=_react2.default.createElement('td',{title:item.contact_email},item.user_name);}else if(shareType=='group'){shareTo=_react2.default.createElement('td',null,item.group_name);}var iconVisibility=this.state.showOpIcon?'':' invisible';var unshareIconClassName='unshare action-icon sf2-icon-x3'+iconVisibility;return _react2.default.createElement('tr',{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',null,_react2.default.createElement('img',{src:iconUrl,title:iconTitle,alt:iconTitle,width:'24'})),_react2.default.createElement('td',null,_react2.default.createElement(_router.Link,{to:folderUrl},item.folder_name)),shareTo,_react2.default.createElement('td',null,_react2.default.createElement(_sharePermissionEditor2.default,{isTextMode:true,isEditIconShow:this.state.showOpIcon,currentPermission:this.state.share_permission,permissions:this.permissions,onPermissionChanged:this.changePerm})),_react2.default.createElement('td',null,_react2.default.createElement('a',{href:'#',className:unshareIconClassName,title:(0,_constants.gettext)('Unshare'),onClick:this.unshare})));}}]);return Item;}(_react.Component);var ShareAdminFolders=function(_Component3){_inherits(ShareAdminFolders,_Component3);function ShareAdminFolders(props){_classCallCheck(this,ShareAdminFolders);var _this4=_possibleConstructorReturn(this,(ShareAdminFolders.__proto__||Object.getPrototypeOf(ShareAdminFolders)).call(this,props));_this4._sortItems=function(items,sortBy,sortOrder){var comparator=void 0;switch(sortBy+'-'+sortOrder){case'name-asc':comparator=function comparator(a,b){var result=_utils.Utils.compareTwoWord(a.folder_name,b.folder_name);return result;};break;case'name-desc':comparator=function comparator(a,b){var result=_utils.Utils.compareTwoWord(a.folder_name,b.folder_name);return-result;};break;}items.sort(comparator);return items;};_this4.sortItems=function(sortBy,sortOrder){_this4.setState({sortBy:sortBy,sortOrder:sortOrder,items:_this4._sortItems(_this4.state.items,sortBy,sortOrder)});};_this4.unshareFolder=function(item){var options={};options['p']=item.path;options.share_type=item.share_type;if(item.share_type=='user'){// or group\noptions.username=item.user_email;}else{options.group_id=item.group_id;}_seafileApi.seafileAPI.unshareFolder(item.repo_id,options).then(function(res){var items=_this4.state.items.filter(function(folderItem){if(item.share_type==='user'){return folderItem.user_email!==item.user_email;}else{return folderItem.group_id!==item.group_id;}});_this4.setState({items:items});// TODO: show feedback msg\n// gettext(\"Successfully deleted 1 item\")\n}).catch(function(error){// TODO: show feedback msg\n});};_this4.state={loading:true,errorMsg:'',items:[],sortBy:'name',sortOrder:'asc'// 'asc' or 'desc'\n};return _this4;}_createClass(ShareAdminFolders,[{key:'componentDidMount',value:function componentDidMount(){var _this5=this;_seafileApi.seafileAPI.listSharedFolders().then(function(res){// res: {data: Array(2), status: 200, statusText: \"OK\", headers: {}, config: {},}\nvar items=res.data.map(function(item){return new _sharedFolderInfo2.default(item);});_this5.setState({loading:false,items:_this5._sortItems(items,_this5.state.sortBy,_this5.state.sortOrder)});}).catch(function(error){if(error.response){if(error.response.status==403){_this5.setState({loading:false,errorMsg:(0,_constants.gettext)('Permission denied')});location.href=_constants.loginUrl+'?next='+encodeURIComponent(location.href);}else{_this5.setState({loading:false,errorMsg:(0,_constants.gettext)('Error')});}}else{_this5.setState({loading:false,errorMsg:(0,_constants.gettext)('Please check the network.')});}});}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'main-panel-center'},_react2.default.createElement('div',{className:'cur-view-container',id:'share-admin-libs'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement('h3',{className:'sf-heading'},(0,_constants.gettext)('Folders'))),_react2.default.createElement('div',{className:'cur-view-content'},_react2.default.createElement(Content,{errorMsg:this.state.errorMsg,loading:this.state.loading,items:this.state.items,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems,unshareFolder:this.unshareFolder}))));}}]);return ShareAdminFolders;}(_react.Component);exports.default=ShareAdminFolders;\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  __webpack_require__(33).enable();\n  window.Promise = __webpack_require__(34);\n}\n\n// fetch() polyfill for making API calls.\n__webpack_require__(28);\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = __webpack_require__(20);\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\nif (false) {\n  require('raf').polyfill(global);\n}\n\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _noticeItem=__webpack_require__(121);var _noticeItem2=_interopRequireDefault(_noticeItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Notification=function(_React$Component){_inherits(Notification,_React$Component);function Notification(props){_classCallCheck(this,Notification);var _this=_possibleConstructorReturn(this,(Notification.__proto__||Object.getPrototypeOf(Notification)).call(this,props));_this.onClick=function(){if(_this.state.showNotice){_seafileApi.seafileAPI.updateNotifications();_this.setState({showNotice:false,unseenCount:0});}else{_this.loadNotices();_this.setState({showNotice:true});}};_this.loadNotices=function(){var page=1;var perPage=5;_seafileApi.seafileAPI.listPopupNotices(page,perPage).then(function(res){var noticeList=res.data.notification_list;_this.setState({noticeList:noticeList});});};_this.onNoticeItemClick=function(noticeItem){var noticeList=_this.state.noticeList.map(function(item){if(item.id===noticeItem.id){item.seen=true;}return item;});_seafileApi.seafileAPI.markNoticeAsRead(noticeItem.id);var unseenCount=_this.state.unseenCount===0?0:_this.state.unseenCount-1;_this.setState({noticeList:noticeList,unseenCount:unseenCount});};_this.state={showNotice:false,unseenCount:0,noticeList:[]};return _this;}_createClass(Notification,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.getUnseenNotificationCount().then(function(res){_this2.setState({unseenCount:res.data.unseen_count});});}},{key:'render',value:function render(){var _this3=this;return _react2.default.createElement('div',{id:'notifications'},_react2.default.createElement('a',{href:'#',onClick:this.onClick,className:'no-deco',id:'notice-icon',title:'Notifications','aria-label':'Notifications'},_react2.default.createElement('span',{className:'sf2-icon-bell'}),_react2.default.createElement('span',{className:'num '+(this.state.unseenCount?'':'hide')},this.state.unseenCount)),_react2.default.createElement('div',{id:'notice-popover',className:'sf-popover '+(this.state.showNotice?'':'hide')},_react2.default.createElement('div',{className:'outer-caret up-outer-caret'},_react2.default.createElement('div',{className:'inner-caret'})),_react2.default.createElement('div',{className:'sf-popover-hd ovhd'},_react2.default.createElement('h3',{className:'sf-popover-title title'},(0,_constants.gettext)('Notifications')),_react2.default.createElement('a',{href:'#',onClick:this.onClick,title:(0,_constants.gettext)('Close'),'aria-label':(0,_constants.gettext)('Close'),className:'sf-popover-close js-close sf2-icon-x1 action-icon float-right'})),_react2.default.createElement('div',{className:'sf-popover-con'},_react2.default.createElement('ul',{className:'notice-list'},this.state.noticeList.map(function(item){return _react2.default.createElement(_noticeItem2.default,{key:item.id,noticeItem:item,onNoticeItemClick:_this3.onNoticeItemClick});})),_react2.default.createElement('a',{href:_constants.siteRoot+'notification/list/',className:'view-all'},(0,_constants.gettext)('See All Notifications')))));}}]);return Notification;}(_react2.default.Component);exports.default=Notification;\n\n/***/ }),\n\n/***/ 1200:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var SharedFolderInfo=function SharedFolderInfo(object){_classCallCheck(this,SharedFolderInfo);this.path=object.path;this.folder_name=object.folder_name;this.repo_id=object.repo_id;this.repo_name=object.repo_name;this.share_type=object.share_type;this.share_permission=object.share_permission;if(object.share_type==='group'){this.group_id=object.group_id;this.group_name=object.group_name;}else{this.share_type='user';// change personal to user;\nthis.user_name=object.user_name;this.user_email=object.user_email;this.contact_email=object.contact_email;}};exports.default=SharedFolderInfo;\n\n/***/ }),\n\n/***/ 1201:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _router=__webpack_require__(60);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _constants=__webpack_require__(2);var _sharedLinkInfo=__webpack_require__(40);var _sharedLinkInfo2=_interopRequireDefault(_sharedLinkInfo);var _copyToClipboard=__webpack_require__(75);var _copyToClipboard2=_interopRequireDefault(_copyToClipboard);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Content=function(_Component){_inherits(Content,_Component);function Content(props){_classCallCheck(this,Content);var _this=_possibleConstructorReturn(this,(Content.__proto__||Object.getPrototypeOf(Content)).call(this,props));_this.sortByName=function(e){e.preventDefault();var sortBy='name';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};_this.sortByTime=function(e){e.preventDefault();var sortBy='time';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};_this.toggleModal=function(){_this.setState({modalOpen:!_this.state.modalOpen});};_this.showModal=function(options){_this.toggleModal();_this.setState({modalContent:options.content});};_this.copyToClipboard=function(){(0,_copyToClipboard2.default)(_this.state.modalContent);_this.setState({modalOpen:false});var message=(0,_constants.gettext)('Share link is copied to the clipboard.');_toast2.default.success(message),{duration:2};};_this.state={modalOpen:false,modalContent:''};return _this;}// required by `Modal`, and can only set the 'open' state\n_createClass(Content,[{key:'render',value:function render(){var _this2=this;var _props=this.props,loading=_props.loading,errorMsg=_props.errorMsg,items=_props.items,sortBy=_props.sortBy,sortOrder=_props.sortOrder;if(loading){return _react2.default.createElement('span',{className:'loading-icon loading-tip'});}else if(errorMsg){return _react2.default.createElement('p',{className:'error text-center'},errorMsg);}else{var emptyTip=_react2.default.createElement('div',{className:'empty-tip'},_react2.default.createElement('h2',null,(0,_constants.gettext)('You don\\'t have any share links')),_react2.default.createElement('p',null,(0,_constants.gettext)('You can generate a share link for a folder or a file. Anyone who receives this link can view the folder or the file online.')));// sort\nvar sortByName=sortBy=='name';var sortByTime=sortBy=='time';var sortIcon=sortOrder=='asc'?_react2.default.createElement('span',{className:'fas fa-caret-up'}):_react2.default.createElement('span',{className:'fas fa-caret-down'});var table=_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement('table',{className:'table-hover'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'4%'}),_react2.default.createElement('th',{width:'36%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:this.sortByName},(0,_constants.gettext)('Name'),' ',sortByName&&sortIcon)),_react2.default.createElement('th',{width:'24%'},(0,_constants.gettext)('Library')),_react2.default.createElement('th',{width:'12%'},(0,_constants.gettext)('Visits')),_react2.default.createElement('th',{width:'14%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:this.sortByTime},(0,_constants.gettext)('Expiration'),' ',sortByTime&&sortIcon)),_react2.default.createElement('th',{width:'10%'}))),_react2.default.createElement('tbody',null,items.map(function(item,index){return _react2.default.createElement(Item,{key:index,item:item,showModal:_this2.showModal,onRemoveLink:_this2.props.onRemoveLink});}))),_react2.default.createElement(_reactstrap.Modal,{isOpen:this.state.modalOpen,toggle:this.toggleModal,centered:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggleModal},(0,_constants.gettext)('Link')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('a',{href:this.state.modalContent},this.state.modalContent)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.copyToClipboard},(0,_constants.gettext)('Copy')),' ',_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggleModal},(0,_constants.gettext)('Close')))));return items.length?table:emptyTip;}}}]);return Content;}(_react.Component);var Item=function(_Component2){_inherits(Item,_Component2);function Item(props){_classCallCheck(this,Item);var _this3=_possibleConstructorReturn(this,(Item.__proto__||Object.getPrototypeOf(Item)).call(this,props));_this3.handleMouseOver=function(){_this3.setState({showOpIcon:true});};_this3.handleMouseOut=function(){_this3.setState({showOpIcon:false});};_this3.viewLink=function(e){e.preventDefault();_this3.props.showModal({content:_this3.props.item.link});};_this3.removeLink=function(e){e.preventDefault();_this3.props.onRemoveLink(_this3.props.item);};_this3.getLinkParams=function(){var item=_this3.props.item;var iconUrl='';var linkUrl='';if(item.is_dir){iconUrl=_utils.Utils.getFolderIconUrl(false);linkUrl=_constants.siteRoot+'library/'+item.repo_id+'/'+item.repo_name+_utils.Utils.encodePath(item.path);}else{iconUrl=_utils.Utils.getFileIconUrl(item.obj_name);linkUrl=_constants.siteRoot+'lib/'+item.repo_id+'/file'+_utils.Utils.encodePath(item.path);}return{iconUrl:iconUrl,linkUrl:linkUrl};};_this3.renderExpriedData=function(){var item=_this3.props.item;if(!item.expire_date){return _react2.default.createElement(_react.Fragment,null,'--');}var expire_date=(0,_moment2.default)(item.expire_date).format('YYYY-MM-DD');return _react2.default.createElement(_react.Fragment,null,item.is_expired?_react2.default.createElement('span',{className:'error'},expire_date):expire_date);};_this3.state={showOpIcon:false};return _this3;}_createClass(Item,[{key:'render',value:function render(){var item=this.props.item;var _getLinkParams=this.getLinkParams(),iconUrl=_getLinkParams.iconUrl,linkUrl=_getLinkParams.linkUrl;var iconVisibility=this.state.showOpIcon?'':' invisible';var linkIconClassName='sf2-icon-link action-icon'+iconVisibility;var deleteIconClassName='sf2-icon-delete action-icon'+iconVisibility;return _react2.default.createElement('tr',{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},_react2.default.createElement('td',null,_react2.default.createElement('img',{src:iconUrl,width:'24'})),_react2.default.createElement('td',null,item.is_dir?_react2.default.createElement(_router.Link,{to:linkUrl},item.obj_name):_react2.default.createElement('a',{href:linkUrl,target:'_blank'},item.obj_name)),_react2.default.createElement('td',null,_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'library/'+item.repo_id+'/'+item.repo_name+'/'},item.repo_name)),_react2.default.createElement('td',null,item.view_cnt),_react2.default.createElement('td',null,this.renderExpriedData()),_react2.default.createElement('td',null,_react2.default.createElement('a',{href:'#',className:linkIconClassName,title:(0,_constants.gettext)('View'),onClick:this.viewLink}),_react2.default.createElement('a',{href:'#',className:deleteIconClassName,title:(0,_constants.gettext)('Remove'),onClick:this.removeLink})));}}]);return Item;}(_react.Component);var ShareAdminShareLinks=function(_Component3){_inherits(ShareAdminShareLinks,_Component3);function ShareAdminShareLinks(props){_classCallCheck(this,ShareAdminShareLinks);var _this4=_possibleConstructorReturn(this,(ShareAdminShareLinks.__proto__||Object.getPrototypeOf(ShareAdminShareLinks)).call(this,props));_this4._sortItems=function(items,sortBy,sortOrder){var comparator=void 0;switch(sortBy+'-'+sortOrder){case'name-asc':comparator=function comparator(a,b){var result=_utils.Utils.compareTwoWord(a.obj_name,b.obj_name);return result;};break;case'name-desc':comparator=function comparator(a,b){var result=_utils.Utils.compareTwoWord(a.obj_name,b.obj_name);return-result;};break;case'time-asc':comparator=function comparator(a,b){return a.expire_date<b.expire_date?-1:1;};break;case'time-desc':comparator=function comparator(a,b){return a.expire_date<b.expire_date?1:-1;};break;}items.sort(function(a,b){if(a.is_dir&&!b.is_dir){return-1;}else if(!a.is_dir&&b.is_dir){return 1;}else{return comparator(a,b);}});return items;};_this4.sortItems=function(sortBy,sortOrder){_this4.setState({sortBy:sortBy,sortOrder:sortOrder,items:_this4._sortItems(_this4.state.items,sortBy,sortOrder)});};_this4.onRemoveLink=function(item){_seafileApi.seafileAPI.deleteShareLink(item.token).then(function(){var items=_this4.state.items.filter(function(uploadItem){return uploadItem.token!==item.token;});_this4.setState({items:items});// TODO: show feedback msg\n// gettext(\"Successfully deleted 1 item\")\n}).catch(function(error){// TODO: show feedback msg\n});};_this4.state={loading:true,errorMsg:'',items:[],sortBy:'name',// 'name' or 'time'\nsortOrder:'asc'// 'asc' or 'desc'\n};return _this4;}_createClass(ShareAdminShareLinks,[{key:'componentDidMount',value:function componentDidMount(){var _this5=this;_seafileApi.seafileAPI.listShareLinks().then(function(res){// res: {data: Array(2), status: 200, statusText: \"OK\", headers: {}, config: {},}\nvar items=res.data.map(function(item){return new _sharedLinkInfo2.default(item);});_this5.setState({loading:false,items:_this5._sortItems(items,_this5.state.sortBy,_this5.state.sortOrder)});}).catch(function(error){if(error.response){if(error.response.status==403){_this5.setState({loading:false,errorMsg:(0,_constants.gettext)('Permission denied')});location.href=_constants.loginUrl+'?next='+encodeURIComponent(location.href);}else{_this5.setState({loading:false,errorMsg:(0,_constants.gettext)('Error')});}}else{_this5.setState({loading:false,errorMsg:(0,_constants.gettext)('Please check the network.')});}});}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'main-panel-center'},_react2.default.createElement('div',{className:'cur-view-container'},_react2.default.createElement('div',{className:'cur-view-path share-upload-nav'},_react2.default.createElement('ul',{className:'nav'},_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'share-admin-share-links/',className:'nav-link active'},(0,_constants.gettext)('Share Links'))),_constants.canGenerateUploadLink&&_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'share-admin-upload-links/',className:'nav-link'},(0,_constants.gettext)('Upload Links'))))),_react2.default.createElement('div',{className:'cur-view-content'},_react2.default.createElement(Content,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.items,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems,onRemoveLink:this.onRemoveLink}))));}}]);return ShareAdminShareLinks;}(_react.Component);exports.default=ShareAdminShareLinks;\n\n/***/ }),\n\n/***/ 1202:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _router=__webpack_require__(60);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _sharedUploadInfo=__webpack_require__(41);var _sharedUploadInfo2=_interopRequireDefault(_sharedUploadInfo);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Content=function(_Component){_inherits(Content,_Component);function Content(props){_classCallCheck(this,Content);var _this=_possibleConstructorReturn(this,(Content.__proto__||Object.getPrototypeOf(Content)).call(this,props));_this.toggleModal=function(){_this.setState({modalOpen:!_this.state.modalOpen});};_this.showModal=function(options){_this.toggleModal();_this.setState({modalContent:options.content});};_this.state={modalOpen:false,modalContent:''};return _this;}// required by `Modal`, and can only set the 'open' state\n_createClass(Content,[{key:'render',value:function render(){var _this2=this;var _props=this.props,loading=_props.loading,errorMsg=_props.errorMsg,items=_props.items;if(loading){return _react2.default.createElement('span',{className:'loading-icon loading-tip'});}else if(errorMsg){return _react2.default.createElement('p',{className:'error text-center'},errorMsg);}else{var emptyTip=_react2.default.createElement('div',{className:'empty-tip'},_react2.default.createElement('h2',null,(0,_constants.gettext)('You don\\'t have any upload links')),_react2.default.createElement('p',null,(0,_constants.gettext)('You can generate an upload link from any folder. Anyone who receives this link can upload files to this folder.')));var table=_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement('table',{className:'table-hover'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'4%'}),_react2.default.createElement('th',{width:'42%'},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{width:'30%'},(0,_constants.gettext)('Library')),_react2.default.createElement('th',{width:'14%'},(0,_constants.gettext)('Visits')),_react2.default.createElement('th',{width:'10%'}))),_react2.default.createElement('tbody',null,items.map(function(item,index){return _react2.default.createElement(Item,{key:index,item:item,showModal:_this2.showModal,onRemoveLink:_this2.props.onRemoveLink});}))),_react2.default.createElement(_reactstrap.Modal,{isOpen:this.state.modalOpen,toggle:this.toggleModal,centered:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggleModal},(0,_constants.gettext)('Link')),_react2.default.createElement(_reactstrap.ModalBody,null,this.state.modalContent)));return items.length?table:emptyTip;}}}]);return Content;}(_react.Component);var Item=function(_Component2){_inherits(Item,_Component2);function Item(props){_classCallCheck(this,Item);var _this3=_possibleConstructorReturn(this,(Item.__proto__||Object.getPrototypeOf(Item)).call(this,props));_this3.handleMouseOver=function(){_this3.setState({showOpIcon:true});};_this3.handleMouseOut=function(){_this3.setState({showOpIcon:false});};_this3.viewLink=function(e){e.preventDefault();_this3.props.showModal({content:_this3.props.item.link});};_this3.removeLink=function(e){e.preventDefault();_this3.props.onRemoveLink(_this3.props.item);};_this3.getUploadParams=function(){var item=_this3.props.item;var iconUrl=_utils.Utils.getFolderIconUrl(false);var uploadUrl=_constants.siteRoot+'library/'+item.repo_id+'/'+item.repo_name+_utils.Utils.encodePath(item.path);return{iconUrl:iconUrl,uploadUrl:uploadUrl};};_this3.state={showOpIcon:false};return _this3;}_createClass(Item,[{key:'render',value:function render(){var item=this.props.item;var _getUploadParams=this.getUploadParams(),iconUrl=_getUploadParams.iconUrl,uploadUrl=_getUploadParams.uploadUrl;var iconVisibility=this.state.showOpIcon?'':' invisible';var linkIconClassName='sf2-icon-link action-icon'+iconVisibility;var deleteIconClassName='sf2-icon-delete action-icon'+iconVisibility;return _react2.default.createElement('tr',{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},_react2.default.createElement('td',null,_react2.default.createElement('img',{src:iconUrl,width:'24'})),_react2.default.createElement('td',null,_react2.default.createElement(_router.Link,{to:uploadUrl},item.obj_name)),_react2.default.createElement('td',null,_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'library/'+item.repo_id+'/'+item.repo_name},item.repo_name)),_react2.default.createElement('td',null,item.view_cnt),_react2.default.createElement('td',null,_react2.default.createElement('a',{href:'#',className:linkIconClassName,title:(0,_constants.gettext)('View'),onClick:this.viewLink}),_react2.default.createElement('a',{href:'#',className:deleteIconClassName,title:(0,_constants.gettext)('Remove'),onClick:this.removeLink})));}}]);return Item;}(_react.Component);var ShareAdminUploadLinks=function(_Component3){_inherits(ShareAdminUploadLinks,_Component3);function ShareAdminUploadLinks(props){_classCallCheck(this,ShareAdminUploadLinks);var _this4=_possibleConstructorReturn(this,(ShareAdminUploadLinks.__proto__||Object.getPrototypeOf(ShareAdminUploadLinks)).call(this,props));_this4.onRemoveLink=function(item){_seafileApi.seafileAPI.deleteUploadLink(item.token).then(function(){var items=_this4.state.items.filter(function(uploadItem){return uploadItem.token!==item.token;});_this4.setState({items:items});// TODO: show feedback msg\n// gettext(\"Successfully deleted 1 item\")\n}).catch(function(error){// TODO: show feedback msg\n});};_this4.state={loading:true,errorMsg:'',items:[]};return _this4;}_createClass(ShareAdminUploadLinks,[{key:'componentDidMount',value:function componentDidMount(){var _this5=this;_seafileApi.seafileAPI.listUploadLinks().then(function(res){// res: {data: Array(2), status: 200, statusText: \"OK\", headers: {}, config: {},}\nvar items=res.data.map(function(item){return new _sharedUploadInfo2.default(item);});_this5.setState({loading:false,items:items});}).catch(function(error){if(error.response){if(error.response.status==403){_this5.setState({loading:false,errorMsg:(0,_constants.gettext)('Permission denied')});location.href=_constants.loginUrl+'?next='+encodeURIComponent(location.href);}else{_this5.setState({loading:false,errorMsg:(0,_constants.gettext)('Error')});}}else{_this5.setState({loading:false,errorMsg:(0,_constants.gettext)('Please check the network.')});}});}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'main-panel-center'},_react2.default.createElement('div',{className:'cur-view-container'},_react2.default.createElement('div',{className:'cur-view-path share-upload-nav'},_react2.default.createElement('ul',{className:'nav'},_constants.canGenerateShareLink&&_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'share-admin-share-links/',className:'nav-link'},(0,_constants.gettext)('Share Links'))),_react2.default.createElement('li',{className:'nav-item'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'share-admin-upload-links/',className:'nav-link active'},(0,_constants.gettext)('Upload Links'))))),_react2.default.createElement('div',{className:'cur-view-content'},_react2.default.createElement(Content,{errorMsg:this.state.errorMsg,items:this.state.items,loading:this.state.loading,onRemoveLink:this.onRemoveLink}))));}}]);return ShareAdminUploadLinks;}(_react.Component);exports.default=ShareAdminUploadLinks;\n\n/***/ }),\n\n/***/ 1203:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _reactCookies=__webpack_require__(22);var _reactCookies2=_interopRequireDefault(_reactCookies);var _router=__webpack_require__(60);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _repo=__webpack_require__(125);var _repo2=_interopRequireDefault(_repo);var _constants=__webpack_require__(2);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _shareDialog=__webpack_require__(25);var _shareDialog2=_interopRequireDefault(_shareDialog);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Content=function(_Component){_inherits(Content,_Component);function Content(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Content);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Content.__proto__||Object.getPrototypeOf(Content)).call.apply(_ref,[this].concat(args))),_this),_this.sortByName=function(e){e.preventDefault();var sortBy='name';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);},_this.sortByTime=function(e){e.preventDefault();var sortBy='time';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Content,[{key:'render',value:function render(){var _props=this.props,loading=_props.loading,errorMsg=_props.errorMsg,items=_props.items,sortBy=_props.sortBy,sortOrder=_props.sortOrder;var emptyTip=_react2.default.createElement('div',{className:'empty-tip'},_react2.default.createElement('h2',null,(0,_constants.gettext)('No libraries have been shared with you')),_react2.default.createElement('p',null,(0,_constants.gettext)('No libraries have been shared directly with you. You can find more shared libraries at \"Shared with groups\".')));if(loading){return _react2.default.createElement(_loading2.default,null);}else if(errorMsg){return _react2.default.createElement('p',{className:'error text-center'},errorMsg);}else{// sort\nvar sortByName=sortBy=='name';var sortByTime=sortBy=='time';var sortIcon=sortOrder=='asc'?_react2.default.createElement('span',{className:'fas fa-caret-up'}):_react2.default.createElement('span',{className:'fas fa-caret-down'});var desktopThead=_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'4%'}),_react2.default.createElement('th',{width:'4%'},_react2.default.createElement('span',{className:'sr-only'},(0,_constants.gettext)('Library Type'))),_react2.default.createElement('th',{width:'34%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:this.sortByName},(0,_constants.gettext)('Name'),' ',sortByName&&sortIcon)),_react2.default.createElement('th',{width:'10%'},_react2.default.createElement('span',{className:'sr-only'},(0,_constants.gettext)('Actions'))),_react2.default.createElement('th',{width:'14%'},(0,_constants.gettext)('Size')),_react2.default.createElement('th',{width:'18%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:this.sortByTime},(0,_constants.gettext)('Last Update'),' ',sortByTime&&sortIcon)),_react2.default.createElement('th',{width:'16%'},(0,_constants.gettext)('Owner'))));var mobileThead=_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'18%'},_react2.default.createElement('span',{className:'sr-only'},(0,_constants.gettext)('Library Type'))),_react2.default.createElement('th',{width:'76%'},(0,_constants.gettext)('Sort:'),_react2.default.createElement('a',{className:'table-sort-op',href:'#',onClick:this.sortByName},(0,_constants.gettext)('name'),' ',sortByName&&sortIcon),_react2.default.createElement('a',{className:'table-sort-op',href:'#',onClick:this.sortByTime},(0,_constants.gettext)('last update'),' ',sortByTime&&sortIcon)),_react2.default.createElement('th',{width:'6%'},_react2.default.createElement('span',{className:'sr-only'},(0,_constants.gettext)('Actions')))));var table=_react2.default.createElement('table',null,window.innerWidth>=768?desktopThead:mobileThead,_react2.default.createElement(TableBody,{items:items}));return items.length?table:emptyTip;}}}]);return Content;}(_react.Component);Content.propTypes={loading:_propTypes2.default.bool.isRequired,errorMsg:_propTypes2.default.string.isRequired,items:_propTypes2.default.array.isRequired,sortBy:_propTypes2.default.string.isRequired,sortOrder:_propTypes2.default.string.isRequired,sortItems:_propTypes2.default.func.isRequired};var TableBody=function(_Component2){_inherits(TableBody,_Component2);function TableBody(){_classCallCheck(this,TableBody);return _possibleConstructorReturn(this,(TableBody.__proto__||Object.getPrototypeOf(TableBody)).apply(this,arguments));}_createClass(TableBody,[{key:'render',value:function render(){var listItems=this.props.items.map(function(item,index){return _react2.default.createElement(Item,{key:index,data:item});},this);return _react2.default.createElement('tbody',null,listItems);}}]);return TableBody;}(_react.Component);TableBody.propTypes={items:_propTypes2.default.array.isRequired};var Item=function(_Component3){_inherits(Item,_Component3);function Item(props){_classCallCheck(this,Item);var _this3=_possibleConstructorReturn(this,(Item.__proto__||Object.getPrototypeOf(Item)).call(this,props));_this3.toggleShareDialog=function(){_this3.setState({isShowSharedDialog:false});};_this3.onStarRepo=function(){if(_this3.state.isStarred){_seafileApi.seafileAPI.unstarItem(_this3.props.data.repo_id,'/').then(function(){_this3.setState({isStarred:!_this3.state.isStarred});});}else{_seafileApi.seafileAPI.starItem(_this3.props.data.repo_id,'/').then(function(){_this3.setState({isStarred:!_this3.state.isStarred});});}};_this3.state={showOpIcon:false,unshared:false,isShowSharedDialog:false,isStarred:_this3.props.data.starred};_this3.handleMouseOver=_this3.handleMouseOver.bind(_this3);_this3.handleMouseOut=_this3.handleMouseOut.bind(_this3);_this3.share=_this3.share.bind(_this3);_this3.leaveShare=_this3.leaveShare.bind(_this3);return _this3;}_createClass(Item,[{key:'handleMouseOver',value:function handleMouseOver(){this.setState({showOpIcon:true});}},{key:'handleMouseOut',value:function handleMouseOut(){this.setState({showOpIcon:false});}},{key:'share',value:function share(e){e.preventDefault();this.setState({isShowSharedDialog:true});}},{key:'leaveShare',value:function leaveShare(e){var _this4=this;e.preventDefault();var data=this.props.data;var request=void 0;if(data.owner_email.indexOf('@seafile_group')==-1){var options={'share_type':'personal','from':data.owner_email};request=_seafileApi.seafileAPI.leaveShareRepo(data.repo_id,options);}else{request=_seafileApi.seafileAPI.leaveShareGroupOwnedRepo(data.repo_id);}request.then(function(res){_this4.setState({unshared:true});// TODO: show feedback msg\n}).catch(function(error){// TODO: show feedback msg\n});}},{key:'render',value:function render(){if(this.state.unshared){return null;}var data=this.props.data;data.icon_url=_utils.Utils.getLibIconUrl(data);data.icon_title=_utils.Utils.getLibIconTitle(data);data.url=_constants.siteRoot+'#shared-libs/lib/'+data.repo_id+'/';var iconVisibility=this.state.showOpIcon?'':' invisible';var shareIconClassName='op-icon sf2-icon-share repo-share-btn'+iconVisibility;var leaveShareIconClassName='op-icon sf2-icon-x3'+iconVisibility;var desktopItem=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('tr',{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},_react2.default.createElement('td',{className:'text-center'},!this.state.isStarred&&_react2.default.createElement('i',{className:'far fa-star star-empty cursor-pointer',onClick:this.onStarRepo}),this.state.isStarred&&_react2.default.createElement('i',{className:'fas fa-star cursor-pointer',onClick:this.onStarRepo})),_react2.default.createElement('td',null,_react2.default.createElement('img',{src:data.icon_url,title:data.icon_title,alt:data.icon_title,width:'24'})),_react2.default.createElement('td',null,_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'library/'+data.repo_id+'/'+data.repo_name+'/'},data.repo_name)),_react2.default.createElement('td',null,_constants.isPro&&data.is_admin&&_react2.default.createElement('a',{href:'#',className:shareIconClassName,title:(0,_constants.gettext)('Share'),onClick:this.share}),_react2.default.createElement('a',{href:'#',className:leaveShareIconClassName,title:(0,_constants.gettext)('Leave Share'),onClick:this.leaveShare})),_react2.default.createElement('td',null,data.size),_react2.default.createElement('td',{title:(0,_moment2.default)(data.last_modified).format('llll')},(0,_moment2.default)(data.last_modified).fromNow()),_react2.default.createElement('td',{title:data.owner_contact_email},data.owner_name)),this.state.isShowSharedDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_shareDialog2.default,{itemType:'library',itemName:data.repo_name,itemPath:'/',repoID:data.repo_id,repoEncrypted:data.encrypted,enableDirPrivateShare:true,userPerm:data.permission,isAdmin:true,toggleDialog:this.toggleShareDialog})));var mobileItem=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('tr',{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},_react2.default.createElement('td',null,_react2.default.createElement('img',{src:data.icon_url,title:data.icon_title,alt:data.icon_title,width:'24'})),_react2.default.createElement('td',null,_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'library/'+data.repo_id+'/'+data.repo_name+'/'},data.repo_name),_react2.default.createElement('br',null),_react2.default.createElement('span',{className:'item-meta-info',title:data.owner_contact_email},data.owner_name),_react2.default.createElement('span',{className:'item-meta-info'},data.size),_react2.default.createElement('span',{className:'item-meta-info',title:(0,_moment2.default)(data.last_modified).format('llll')},(0,_moment2.default)(data.last_modified).fromNow())),_react2.default.createElement('td',null,_constants.isPro&&data.is_admin&&_react2.default.createElement('a',{href:'#',className:shareIconClassName,title:(0,_constants.gettext)('Share'),onClick:this.share}),_react2.default.createElement('a',{href:'#',className:leaveShareIconClassName,title:(0,_constants.gettext)(\"Leave Share\"),onClick:this.leaveShare}))),this.state.isShowSharedDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_shareDialog2.default,{itemType:'library',itemName:data.repo_name,itemPath:'/',repoID:data.repo_id,repoEncrypted:data.encrypted,enableDirPrivateShare:true,userPerm:data.permission,isAdmin:true,toggleDialog:this.toggleShareDialog})));return window.innerWidth>=768?desktopItem:mobileItem;}}]);return Item;}(_react.Component);Item.propTypes={data:_propTypes2.default.object.isRequired};var SharedLibraries=function(_Component4){_inherits(SharedLibraries,_Component4);function SharedLibraries(props){_classCallCheck(this,SharedLibraries);var _this5=_possibleConstructorReturn(this,(SharedLibraries.__proto__||Object.getPrototypeOf(SharedLibraries)).call(this,props));_this5.sortItems=function(sortBy,sortOrder){_reactCookies2.default.save('seafile-repo-sort-by',sortBy);_reactCookies2.default.save('seafile-repo-sort-order',sortOrder);_this5.setState({sortBy:sortBy,sortOrder:sortOrder,items:_utils.Utils.sortRepos(_this5.state.items,sortBy,sortOrder)});};_this5.state={loading:true,errorMsg:'',items:[],sortBy:_reactCookies2.default.load('seafile-repo-sort-by')||'name',// 'name' or 'time'\nsortOrder:_reactCookies2.default.load('seafile-repo-sort-order')||'asc'// 'asc' or 'desc'\n};return _this5;}_createClass(SharedLibraries,[{key:'componentDidMount',value:function componentDidMount(){var _this6=this;_seafileApi.seafileAPI.listRepos({type:'shared'}).then(function(res){// res: {data: {...}, status: 200, statusText: \"OK\", headers: {}, config: {},}\nvar repoList=res.data.repos.map(function(item){return new _repo2.default(item);});_this6.setState({loading:false,items:_utils.Utils.sortRepos(repoList,_this6.state.sortBy,_this6.state.sortOrder)});}).catch(function(error){if(error.response){if(error.response.status==403){_this6.setState({loading:false,errorMsg:(0,_constants.gettext)('Permission denied')});location.href=_constants.loginUrl+'?next='+encodeURIComponent(location.href);}else{_this6.setState({loading:false,errorMsg:(0,_constants.gettext)('Error')});}}else{_this6.setState({loading:false,errorMsg:(0,_constants.gettext)('Please check the network.')});}});}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'main-panel-center'},_react2.default.createElement('div',{className:'cur-view-container'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement('h3',{className:'sf-heading'},(0,_constants.gettext)('Shared with me'))),_react2.default.createElement('div',{className:'cur-view-content'},_react2.default.createElement(Content,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.items,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems}))));}}]);return SharedLibraries;}(_react.Component);exports.default=SharedLibraries;\n\n/***/ }),\n\n/***/ 1204:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactCookies=__webpack_require__(22);var _reactCookies2=_interopRequireDefault(_reactCookies);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _repo=__webpack_require__(125);var _repo2=_interopRequireDefault(_repo);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _commonToolbar=__webpack_require__(80);var _commonToolbar2=_interopRequireDefault(_commonToolbar);var _repoViewToobar=__webpack_require__(1205);var _repoViewToobar2=_interopRequireDefault(_repoViewToobar);var _libDetails=__webpack_require__(314);var _libDetails2=_interopRequireDefault(_libDetails);var _mylibRepoListView=__webpack_require__(1206);var _mylibRepoListView2=_interopRequireDefault(_mylibRepoListView);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MyLibraries=function(_Component){_inherits(MyLibraries,_Component);function MyLibraries(props){_classCallCheck(this,MyLibraries);var _this=_possibleConstructorReturn(this,(MyLibraries.__proto__||Object.getPrototypeOf(MyLibraries)).call(this,props));_this.onCreateRepo=function(repo){var permission=repo.permission;_seafileApi.seafileAPI.createMineRepo(repo).then(function(res){var repo={repo_id:res.data.repo_id,repo_name:res.data.repo_name,size:res.data.repo_size,mtime:res.data.mtime,owner_email:res.data.email,encrypted:res.data.encrypted,permission:permission};_this.state.repoList.unshift(repo);_this.setState({repoList:_this.state.repoList});});};_this.sortRepoList=function(sortBy,sortOrder){_reactCookies2.default.save('seafile-repo-sort-by',sortBy);_reactCookies2.default.save('seafile-repo-sort-order',sortOrder);_this.setState({sortBy:sortBy,sortOrder:sortOrder,repoList:_utils.Utils.sortRepos(_this.state.repoList,sortBy,sortOrder)});};_this.onTransferRepo=function(repoID){var repoList=_this.state.repoList.filter(function(item){return item.repo_id!==repoID;});_this.setState({repoList:repoList});};_this.onRenameRepo=function(repo,newName){var repoList=_this.state.repoList.map(function(item){if(item.repo_id===repo.repo_id){item.repo_name=newName;}return item;});_this.setState({repoList:repoList});};_this.onDeleteRepo=function(repo){var repoList=_this.state.repoList.filter(function(item){return item.repo_id!==repo.repo_id;});_this.setState({repoList:repoList});};_this.onRepoClick=function(repo){if(_this.state.isShowDetails){_this.onRepoDetails(repo);}};_this.onRepoDetails=function(repo){_this.setState({currentRepo:repo,isShowDetails:true});};_this.closeDetails=function(){_this.setState({isShowDetails:!_this.state.isShowDetails});};_this.state={errorMsg:'',isLoading:true,repoList:[],isShowDetails:false,sortBy:_reactCookies2.default.load('seafile-repo-sort-by')||'name',// 'name' or 'time'\nsortOrder:_reactCookies2.default.load('seafile-repo-sort-order')||'asc'// 'asc' or 'desc'\n};_this.emptyMessage=_react2.default.createElement('div',{className:'empty-tip'},_react2.default.createElement('h2',null,(0,_constants.gettext)('You have not created any libraries')),_react2.default.createElement('p',null,(0,_constants.gettext)('You can create a library to organize your files. For example, you can create one for each of your projects. Each library can be synchronized and shared separately.')));return _this;}_createClass(MyLibraries,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.listRepos({type:'mine'}).then(function(res){// res: {data: {...}, status: 200, statusText: \"OK\", headers: {}, config: {},}\nvar repoList=res.data.repos.map(function(item){return new _repo2.default(item);});_this2.setState({isLoading:false,repoList:_utils.Utils.sortRepos(repoList,_this2.state.sortBy,_this2.state.sortOrder)});}).catch(function(error){if(error.response){if(error.response.status==403){_this2.setState({isLoading:false,errorMsg:(0,_constants.gettext)('Permission denied')});location.href=_constants.loginUrl+'?next='+encodeURIComponent(location.href);}else{_this2.setState({isLoading:false,errorMsg:(0,_constants.gettext)('Error')});}}else{_this2.setState({isLoading:false,errorMsg:(0,_constants.gettext)('Please check the network.')});}});}},{key:'render',value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'main-panel-north border-left-show'},_react2.default.createElement(_repoViewToobar2.default,{onShowSidePanel:this.props.onShowSidePanel,onCreateRepo:this.onCreateRepo,libraryType:'mine'}),_react2.default.createElement(_commonToolbar2.default,{onSearchedClick:this.props.onSearchedClick})),_react2.default.createElement('div',{className:'main-panel-center flex-row'},_react2.default.createElement('div',{className:'cur-view-container'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement('h3',{className:'sf-heading'},(0,_constants.gettext)('My Libraries'))),_react2.default.createElement('div',{className:'cur-view-content'},this.state.isLoading&&_react2.default.createElement(_loading2.default,null),!this.state.isLoading&&this.state.errorMsg&&_react2.default.createElement('p',{className:'error text-center'},this.state.errorMsg),!this.state.isLoading&&this.state.repoList.length===0&&this.emptyMessage,!this.state.isLoading&&this.state.repoList.length>0&&_react2.default.createElement(_mylibRepoListView2.default,{sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,repoList:this.state.repoList,onRenameRepo:this.onRenameRepo,onDeleteRepo:this.onDeleteRepo,onTransferRepo:this.onTransferRepo,onRepoDetails:this.onRepoDetails,onRepoClick:this.onRepoClick,sortRepoList:this.sortRepoList}))),this.state.isShowDetails&&_react2.default.createElement('div',{className:'cur-view-detail'},_react2.default.createElement(_libDetails2.default,{currentRepo:this.state.currentRepo,closeDetails:this.closeDetails}))));}}]);return MyLibraries;}(_react.Component);exports.default=MyLibraries;\n\n/***/ }),\n\n/***/ 1205:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactResponsive=__webpack_require__(117);var _reactResponsive2=_interopRequireDefault(_reactResponsive);var _router=__webpack_require__(60);var _constants=__webpack_require__(2);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _createRepoDialog=__webpack_require__(313);var _createRepoDialog2=_interopRequireDefault(_createRepoDialog);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={// isOwnLibrary: PropTypes.bool.isRequired,\nlibraryType:_propTypes2.default.string.isRequired,onCreateRepo:_propTypes2.default.func.isRequired,onShowSidePanel:_propTypes2.default.func.isRequired};var RepoViewToolbar=function(_React$Component){_inherits(RepoViewToolbar,_React$Component);function RepoViewToolbar(props){_classCallCheck(this,RepoViewToolbar);var _this=_possibleConstructorReturn(this,(RepoViewToolbar.__proto__||Object.getPrototypeOf(RepoViewToolbar)).call(this,props));_this.onCreateRepo=function(repo){_this.props.onCreateRepo(repo);_this.onCreateToggle();};_this.onCreateToggle=function(){_this.setState({isCreateRepoDialogShow:!_this.state.isCreateRepoDialogShow});};_this.toggleMore=function(){_this.setState({isOpen:!_this.state.isOpen});};_this.state={isCreateRepoDialogShow:false,isOpen:false};return _this;}_createClass(RepoViewToolbar,[{key:'render',value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'cur-view-toolbar'},_react2.default.createElement('span',{className:'sf2-icon-menu side-nav-toggle hidden-md-up d-md-none',title:'Side Nav Menu',onClick:this.props.onShowSidePanel}),_react2.default.createElement(_reactResponsive2.default,{query:'(min-width: 768px)'},_react2.default.createElement('div',{className:'operation'},_react2.default.createElement('button',{className:'btn btn-secondary operation-item',title:(0,_constants.gettext)('New Library'),onClick:this.onCreateToggle},_react2.default.createElement('i',{className:'fas fa-plus-square text-secondary mr-1'}),(0,_constants.gettext)('New Library')),this.props.libraryType!=='group'&&_react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.isOpen,toggle:this.toggleMore},_react2.default.createElement(_reactstrap.DropdownToggle,{className:'btn btn-secondary operation-item'},(0,_constants.gettext)('More')),_react2.default.createElement(_reactstrap.DropdownMenu,null,_react2.default.createElement(_reactstrap.DropdownItem,{className:'link-dropdown-container'},_react2.default.createElement(_router.Link,{className:'link-dropdown-item',to:_constants.siteRoot+'my-libs/deleted/'},(0,_constants.gettext)('Deleted Libraries'))))))),_react2.default.createElement(_reactResponsive2.default,{query:'(max-width: 768px)'},_react2.default.createElement('span',{className:'sf2-icon-plus mobile-toolbar-icon',title:(0,_constants.gettext)('New Library'),onClick:this.onCreateToggle}))),this.state.isCreateRepoDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_createRepoDialog2.default,{libraryType:this.props.libraryType,onCreateRepo:this.onCreateRepo,onCreateToggle:this.onCreateToggle})));}}]);return RepoViewToolbar;}(_react2.default.Component);RepoViewToolbar.propTypes=propTypes;exports.default=RepoViewToolbar;\n\n/***/ }),\n\n/***/ 1206:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactResponsive=__webpack_require__(117);var _reactResponsive2=_interopRequireDefault(_reactResponsive);var _constants=__webpack_require__(2);var _mylibRepoListItem=__webpack_require__(1207);var _mylibRepoListItem2=_interopRequireDefault(_mylibRepoListItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={sortBy:_propTypes2.default.string.isRequired,sortOrder:_propTypes2.default.string.isRequired,repoList:_propTypes2.default.array.isRequired,sortRepoList:_propTypes2.default.func.isRequired,onRenameRepo:_propTypes2.default.func.isRequired,onDeleteRepo:_propTypes2.default.func.isRequired,onTransferRepo:_propTypes2.default.func.isRequired,onRepoDetails:_propTypes2.default.func.isRequired,onRepoClick:_propTypes2.default.func.isRequired};var MylibRepoListView=function(_React$Component){_inherits(MylibRepoListView,_React$Component);function MylibRepoListView(props){_classCallCheck(this,MylibRepoListView);var _this=_possibleConstructorReturn(this,(MylibRepoListView.__proto__||Object.getPrototypeOf(MylibRepoListView)).call(this,props));_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnfreezedItem=function(){_this.setState({isItemFreezed:false});};_this.sortByName=function(e){e.preventDefault();var sortBy='name';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortRepoList(sortBy,sortOrder);};_this.sortByTime=function(e){e.preventDefault();var sortBy='time';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortRepoList(sortBy,sortOrder);};_this.renderRepoListView=function(){return _react2.default.createElement(_react.Fragment,null,_this.props.repoList.map(function(item){return _react2.default.createElement(_mylibRepoListItem2.default,{key:item.repo_id,repo:item,isItemFreezed:_this.state.isItemFreezed,onFreezedItem:_this.onFreezedItem,onUnfreezedItem:_this.onUnfreezedItem,onRenameRepo:_this.props.onRenameRepo,onDeleteRepo:_this.props.onDeleteRepo,onTransferRepo:_this.props.onTransferRepo,onRepoDetails:_this.props.onRepoDetails,onRepoClick:_this.props.onRepoClick});}));};_this.renderPCUI=function(){var showStorageBackend=_constants.storages.length>0;var sortIcon=_this.props.sortOrder==='asc'?_react2.default.createElement('span',{className:'fas fa-caret-up'}):_react2.default.createElement('span',{className:'fas fa-caret-down'});return _react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'4%'}),_react2.default.createElement('th',{width:'4%'},_react2.default.createElement('span',{className:'sr-only'},(0,_constants.gettext)('Library Type'))),_react2.default.createElement('th',{width:'38%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:_this.sortByName},(0,_constants.gettext)('Name'),' ',_this.props.sortBy==='name'&&sortIcon)),_react2.default.createElement('th',{width:'14%'},_react2.default.createElement('span',{className:'sr-only'},(0,_constants.gettext)('Actions'))),_react2.default.createElement('th',{width:showStorageBackend?'15%':'20%'},(0,_constants.gettext)('Size')),showStorageBackend?_react2.default.createElement('th',{width:'10%'},(0,_constants.gettext)('Storage backend')):null,_react2.default.createElement('th',{width:showStorageBackend?'15%':'20%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:_this.sortByTime},(0,_constants.gettext)('Last Update'),' ',_this.props.sortBy==='time'&&sortIcon)))),_react2.default.createElement('tbody',null,_this.renderRepoListView()));};_this.renderMobileUI=function(){var sortIcon=_this.props.sortOrder==='asc'?_react2.default.createElement('span',{className:'fas fa-caret-up'}):_react2.default.createElement('span',{className:'fas fa-caret-down'});return _react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'10%'},_react2.default.createElement('span',{className:'sr-only'},(0,_constants.gettext)('Library Type'))),_react2.default.createElement('th',{width:'84%'},(0,_constants.gettext)('Sort:'),_react2.default.createElement('a',{className:'table-sort-op',href:'#',onClick:_this.sortByName},(0,_constants.gettext)('name'),' ',_this.props.sortBy==='name'&&sortIcon),_react2.default.createElement('a',{className:'table-sort-op',href:'#',onClick:_this.sortByTime},(0,_constants.gettext)('last update'),' ',_this.props.sortBy==='time'&&sortIcon)),_react2.default.createElement('th',{width:'6%'},_react2.default.createElement('span',{className:'sr-only'},(0,_constants.gettext)('Actions'))))),_react2.default.createElement('tbody',null,_this.renderRepoListView()));};_this.state={isItemFreezed:false};return _this;}_createClass(MylibRepoListView,[{key:'render',value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactResponsive2.default,{query:'(min-width: 768px)'},this.renderPCUI()),_react2.default.createElement(_reactResponsive2.default,{query:'(max-width: 768px)'},this.renderMobileUI()));}}]);return MylibRepoListView;}(_react2.default.Component);MylibRepoListView.propTypes=propTypes;exports.default=MylibRepoListView;\n\n/***/ }),\n\n/***/ 1207:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactResponsive=__webpack_require__(117);var _reactResponsive2=_interopRequireDefault(_reactResponsive);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _router=__webpack_require__(60);var _utils=__webpack_require__(4);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _shareDialog=__webpack_require__(25);var _shareDialog2=_interopRequireDefault(_shareDialog);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _deleteRepoDialog=__webpack_require__(1208);var _deleteRepoDialog2=_interopRequireDefault(_deleteRepoDialog);var _transferDialog=__webpack_require__(315);var _transferDialog2=_interopRequireDefault(_transferDialog);var _libHistorySettingDialog=__webpack_require__(1209);var _libHistorySettingDialog2=_interopRequireDefault(_libHistorySettingDialog);var _changeRepoPasswordDialog=__webpack_require__(1210);var _changeRepoPasswordDialog2=_interopRequireDefault(_changeRepoPasswordDialog);var _resetEncryptedRepoPasswordDialog=__webpack_require__(1211);var _resetEncryptedRepoPasswordDialog2=_interopRequireDefault(_resetEncryptedRepoPasswordDialog);var _rename=__webpack_require__(143);var _rename2=_interopRequireDefault(_rename);var _mylibRepoMenu=__webpack_require__(1212);var _mylibRepoMenu2=_interopRequireDefault(_mylibRepoMenu);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repo:_propTypes2.default.object.isRequired,isItemFreezed:_propTypes2.default.bool.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnfreezedItem:_propTypes2.default.func.isRequired,onRenameRepo:_propTypes2.default.func.isRequired,onDeleteRepo:_propTypes2.default.func.isRequired,onTransferRepo:_propTypes2.default.func.isRequired,onRepoDetails:_propTypes2.default.func.isRequired,onRepoClick:_propTypes2.default.func.isRequired};var MylibRepoListItem=function(_React$Component){_inherits(MylibRepoListItem,_React$Component);function MylibRepoListItem(props){_classCallCheck(this,MylibRepoListItem);var _this=_possibleConstructorReturn(this,(MylibRepoListItem.__proto__||Object.getPrototypeOf(MylibRepoListItem)).call(this,props));_this.onMouseEnter=function(){if(!_this.props.isItemFreezed){_this.setState({isOpIconShow:true,highlight:true});}};_this.onMouseLeave=function(){if(!_this.props.isItemFreezed){_this.setState({isOpIconShow:false,highlight:false});}};_this.onMenuItemClick=function(item){switch(item){case'Share':_this.onShareToggle();break;case'Delete':_this.onDeleteToggle();break;case'Rename':_this.onRenameToggle();break;case'Transfer':_this.onTransferToggle();break;case'History Setting':_this.onHistorySettingToggle();break;case'Change Password':_this.onChangePasswordToggle();break;case'Reset Password':_this.onResetPasswordToggle();break;case'Folder Permission':// todo\nbreak;case'Details':_this.onRepoDetails();break;case'Label current state':_this.onLabel();break;default:break;}};_this.onRepoClick=function(){_this.props.onRepoClick(_this.props.repo);};_this.onStarRepo=function(){if(_this.state.isStarred){_seafileApi.seafileAPI.unstarItem(_this.props.repo.repo_id,'/').then(function(){_this.setState({isStarred:!_this.state.isStarred});});}else{_seafileApi.seafileAPI.starItem(_this.props.repo.repo_id,'/').then(function(){_this.setState({isStarred:!_this.state.isStarred});});}};_this.onShareToggle=function(){_this.setState({isShareDialogShow:!_this.state.isShareDialogShow});};_this.onDeleteToggle=function(){_this.setState({isDeleteDialogShow:!_this.state.isDeleteDialogShow});};_this.onRenameToggle=function(){_this.props.onFreezedItem();_this.setState({isRenaming:!_this.state.isRenaming});};_this.onTransferToggle=function(){_this.setState({isTransferDialogShow:!_this.state.isTransferDialogShow});};_this.onHistorySettingToggle=function(){_this.setState({isHistorySettingDialogShow:!_this.state.isHistorySettingDialogShow});};_this.onChangePasswordToggle=function(){_this.setState({isChangePasswordDialogShow:!_this.state.isChangePasswordDialogShow});};_this.onResetPasswordToggle=function(){_this.setState({isResetPasswordDialogShow:!_this.state.isResetPasswordDialogShow});};_this.onRepoDetails=function(){_this.props.onRepoDetails(_this.props.repo);};_this.onLabel=function(){// todo\n};_this.onUnfreezedItem=function(){_this.setState({highlight:false,isOpIconShow:false});_this.props.onUnfreezedItem();};_this.onRenameConfirm=function(newName){var repo=_this.props.repo;var repoID=repo.repo_id;_seafileApi.seafileAPI.renameRepo(repoID,newName).then(function(){_this.props.onRenameRepo(repo,newName);_this.onRenameCancel();});};_this.onRenameCancel=function(){_this.props.onUnfreezedItem();_this.setState({isRenaming:!_this.state.isRenaming});};_this.onTransferRepo=function(user){var repoID=_this.props.repo.repo_id;_seafileApi.seafileAPI.transferRepo(repoID,user.email).then(function(res){_this.props.onTransferRepo(repoID);var message=(0,_constants.gettext)('Successfully transferred the library.');_toast2.default.success(message);}).catch(function(res){var message=(0,_constants.gettext)('Failed. Please check the network.');_toast2.default.danger(message);});_this.onTransferToggle();};_this.onDeleteRepo=function(repo){_seafileApi.seafileAPI.deleteRepo(repo.repo_id).then(function(res){_this.props.onDeleteRepo(repo);// TODO: show feedback msg\n}).catch(function(error){// TODO: show feedback msg\n});};_this.renderPCUI=function(){var repo=_this.props.repo;var iconUrl=_utils.Utils.getLibIconUrl(repo);var iconTitle=_utils.Utils.getLibIconTitle(repo);var repoURL=_constants.siteRoot+'library/'+repo.repo_id+'/'+_utils.Utils.encodePath(repo.repo_name)+'/';return _react2.default.createElement('tr',{className:_this.state.highlight?'tr-highlight':'',onMouseEnter:_this.onMouseEnter,onMouseLeave:_this.onMouseLeave,onClick:_this.onRepoClick},_react2.default.createElement('td',{className:'text-center'},!_this.state.isStarred&&_react2.default.createElement('i',{className:'far fa-star star-empty cursor-pointer',onClick:_this.onStarRepo}),_this.state.isStarred&&_react2.default.createElement('i',{className:'fas fa-star cursor-pointer',onClick:_this.onStarRepo})),_react2.default.createElement('td',null,_react2.default.createElement('img',{src:iconUrl,title:iconTitle,alt:iconTitle,width:'24'})),_react2.default.createElement('td',null,_this.state.isRenaming&&_react2.default.createElement(_rename2.default,{name:repo.repo_name,onRenameConfirm:_this.onRenameConfirm,onRenameCancel:_this.onRenameCancel}),!_this.state.isRenaming&&repo.repo_name&&_react2.default.createElement(_router.Link,{to:repoURL},repo.repo_name),!_this.state.isRenaming&&!repo.repo_name&&(0,_constants.gettext)('Broken (please contact your administrator to fix this library)')),_react2.default.createElement('td',null,repo.repo_name&&_this.state.isOpIconShow&&_react2.default.createElement('div',null,_react2.default.createElement('a',{href:'#',className:'op-icon sf2-icon-share',title:(0,_constants.gettext)('Share'),onClick:_this.onShareToggle}),_react2.default.createElement('a',{href:'#',className:'op-icon sf2-icon-delete',title:(0,_constants.gettext)('Delete'),onClick:_this.onDeleteToggle}),_react2.default.createElement(_mylibRepoMenu2.default,{isPC:true,repo:_this.props.repo,onMenuItemClick:_this.onMenuItemClick,onFreezedItem:_this.props.onFreezedItem,onUnfreezedItem:_this.onUnfreezedItem}))),_react2.default.createElement('td',null,repo.size),_constants.storages.length>0&&_react2.default.createElement('td',null,repo.storage_name),_react2.default.createElement('td',{title:(0,_moment2.default)(repo.last_modified).format('llll')},(0,_moment2.default)(repo.last_modified).fromNow()));};_this.renderMobileUI=function(){var repo=_this.props.repo;var iconUrl=_utils.Utils.getLibIconUrl(repo);var iconTitle=_utils.Utils.getLibIconTitle(repo);var repoURL=_constants.siteRoot+'library/'+repo.repo_id+'/'+_utils.Utils.encodePath(repo.repo_name)+'/';return _react2.default.createElement('tr',{className:_this.state.highlight?'tr-highlight':'',onMouseEnter:_this.onMouseEnter,onMouseLeave:_this.onMouseLeave,onClick:_this.onRepoClick},_react2.default.createElement('td',null,_react2.default.createElement('img',{src:iconUrl,title:iconTitle,alt:iconTitle,width:'24'})),_react2.default.createElement('td',null,_this.state.isRenaming&&_react2.default.createElement(_rename2.default,{name:repo.repo_name,onRenameConfirm:_this.onRenameConfirm,onRenameCancel:_this.onRenameCancel}),!_this.state.isRenaming&&repo.repo_name&&_react2.default.createElement('div',null,_react2.default.createElement(_router.Link,{to:repoURL},repo.repo_name)),!_this.state.isRenaming&&!repo.repo_name&&_react2.default.createElement('div',null,'(gettext(\\'Broken (please contact your administrator to fix this library)\\'))'),_react2.default.createElement('span',{className:'item-meta-info'},repo.size),_react2.default.createElement('span',{className:'item-meta-info',title:(0,_moment2.default)(repo.last_modified).format('llll')},(0,_moment2.default)(repo.last_modified).fromNow())),_react2.default.createElement('td',null,repo.repo_name&&_react2.default.createElement(_mylibRepoMenu2.default,{repo:_this.props.repo,onMenuItemClick:_this.onMenuItemClick,onFreezedItem:_this.props.onFreezedItem,onUnfreezedItem:_this.onUnfreezedItem})));};_this.state={isOpIconShow:false,isStarred:_this.props.repo.starred,isRenaming:false,isShareDialogShow:false,isDeleteDialogShow:false,isTransferDialogShow:false,isHistorySettingDialogShow:false,isChangePasswordDialogShow:false,isResetPasswordDialogShow:false};return _this;}_createClass(MylibRepoListItem,[{key:'render',value:function render(){var repo=this.props.repo;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactResponsive2.default,{query:'(min-width: 768px)'},this.renderPCUI()),_react2.default.createElement(_reactResponsive2.default,{query:'(max-width: 768px)'},this.renderMobileUI()),this.state.isShareDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_shareDialog2.default,{itemType:'library',itemName:repo.repo_name,itemPath:'/',repoID:repo.repo_id,repoEncrypted:repo.encrypted,enableDirPrivateShare:true,userPerm:repo.permission,toggleDialog:this.onShareToggle})),this.state.isDeleteDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_deleteRepoDialog2.default,{repo:repo,onDeleteRepo:this.onDeleteRepo,toggle:this.onDeleteToggle})),this.state.isTransferDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_transferDialog2.default,{itemName:repo.repo_name,submit:this.onTransferRepo,toggleDialog:this.onTransferToggle})),this.state.isHistorySettingDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_libHistorySettingDialog2.default,{repoID:repo.repo_id,itemName:repo.repo_name,toggleDialog:this.onHistorySettingToggle})),this.state.isChangePasswordDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_changeRepoPasswordDialog2.default,{repoID:repo.repo_id,repoName:repo.repo_name,toggleDialog:this.onChangePasswordToggle})),this.state.isResetPasswordDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_resetEncryptedRepoPasswordDialog2.default,{repoID:repo.repo_id,toggleDialog:this.onResetPasswordToggle})));}}]);return MylibRepoListItem;}(_react2.default.Component);MylibRepoListItem.propTypes=propTypes;exports.default=MylibRepoListItem;\n\n/***/ }),\n\n/***/ 1208:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repo:_propTypes2.default.object.isRequired,toggle:_propTypes2.default.func.isRequired,onDeleteRepo:_propTypes2.default.func.isRequired};var DeleteRepoDialog=function(_Component){_inherits(DeleteRepoDialog,_Component);function DeleteRepoDialog(){var _ref;var _temp,_this,_ret;_classCallCheck(this,DeleteRepoDialog);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=DeleteRepoDialog.__proto__||Object.getPrototypeOf(DeleteRepoDialog)).call.apply(_ref,[this].concat(args))),_this),_this.toggle=function(){_this.props.toggle();},_this.onDeleteRepo=function(){_this.props.onDeleteRepo(_this.props.repo);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(DeleteRepoDialog,[{key:'render',value:function render(){var repo=this.props.repo;var repoName='<span class=\"op-target\">'+_utils.Utils.HTMLescape(repo.repo_name)+'</span>';var message=(0,_constants.gettext)('Are you sure you want to delete %s ?');message=message.replace('%s',repoName);return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Delete Library')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('p',{dangerouslySetInnerHTML:{__html:message}})),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.onDeleteRepo},(0,_constants.gettext)('Delete')),_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel'))));}}]);return DeleteRepoDialog;}(_react.Component);DeleteRepoDialog.propTypes=propTypes;exports.default=DeleteRepoDialog;\n\n/***/ }),\n\n/***/ 1209:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={itemName:_propTypes2.default.string.isRequired,toggleDialog:_propTypes2.default.func.isRequired,repoID:_propTypes2.default.string.isRequired};var LibHistorySetting=function(_React$Component){_inherits(LibHistorySetting,_React$Component);function LibHistorySetting(props){_classCallCheck(this,LibHistorySetting);var _this=_possibleConstructorReturn(this,(LibHistorySetting.__proto__||Object.getPrototypeOf(LibHistorySetting)).call(this,props));_this.submit=function(){var days=_this.state.keepDays;if(_this.state.autoHistory){days=_this.state.expireDays;}var repoID=_this.props.repoID;var reg=/^-?\\d+$/;var flag=reg.test(days);if(flag){var message=(0,_constants.gettext)('Successfully set library history.');_seafileApi.seafileAPI.setRepoHistoryLimit(repoID,days).then(function(res){_toast2.default.success(message);_this.setState({keepDays:res.data.keep_days});_this.props.toggleDialog();});}else{_this.setState({errorInfo:(0,_constants.gettext)('Please enter a non-negative integer')});}};_this.onChange=function(e){var num=e.target.value;_this.setState({keepDays:num,expireDays:num});};_this.setLimitDays=function(type){if(type==='allHistory'){_this.setState({keepDays:-1});}else if(type==='noHistory'){_this.setState({keepDays:0});}else{_this.setState({disabled:false});}_this.setState({allHistory:type==='allHistory'?true:false,noHistory:type==='noHistory'?true:false,autoHistory:type==='autoHistory'?true:false});};_this.state={keepDays:-1,expireDays:30,disabled:true,allHistory:true,noHistory:false,autoHistory:false,errorInfo:''};return _this;}_createClass(LibHistorySetting,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.getRepoHistoryLimit(this.props.repoID).then(function(res){_this2.setState({keepDays:res.data.keep_days,allHistory:res.data.keep_days<0?true:false,noHistory:res.data.keep_days===0?true:false,autoHistory:res.data.keep_days>0?true:false,disabled:res.data.keep_days>0?false:true,expireDays:res.data.keep_days>0?res.data.keep_days:30});});}},{key:'render',value:function render(){var _this3=this;var itemName=this.props.itemName;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,centered:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.toggleDialog},_react2.default.createElement('span',{className:'op-target',title:itemName},itemName),' ',(0,_constants.gettext)('History Setting')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement(_reactstrap.Form,null,!_constants.enableRepoHistorySetting&&_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement(_reactstrap.Label,{className:'error'},(0,_constants.gettext)('Setting library history is disabled by Admin.'))),_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'radio',name:'radio1',checked:this.state.allHistory,disabled:!_constants.enableRepoHistorySetting,onChange:function onChange(){_this3.setLimitDays('allHistory');}}),' ',_react2.default.createElement(_reactstrap.Label,null,(0,_constants.gettext)('Keep full history'))),_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'radio',name:'radio1',checked:this.state.noHistory,disabled:!_constants.enableRepoHistorySetting,onChange:function onChange(){_this3.setLimitDays('noHistory');}}),' ',_react2.default.createElement(_reactstrap.Label,null,(0,_constants.gettext)('Don\\'t keep history'))),_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'radio',name:'radio1',checked:this.state.autoHistory,disabled:!_constants.enableRepoHistorySetting,onChange:function onChange(){_this3.setLimitDays('autoHistory');}}),' ',_react2.default.createElement(_reactstrap.Label,null,(0,_constants.gettext)('Only keep a period of history:')),_react2.default.createElement(_reactstrap.Input,{type:'text',className:'expire-input',value:this.state.expireDays,onChange:this.onChange,disabled:this.state.disabled}),' ',_react2.default.createElement(_reactstrap.Label,null,_react2.default.createElement('span',null,(0,_constants.gettext)('days')))),this.state.errorInfo&&_react2.default.createElement(_reactstrap.Alert,{color:'danger'},this.state.errorInfo))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.props.toggleDialog},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.submit},(0,_constants.gettext)('Submit'))));}}]);return LibHistorySetting;}(_react2.default.Component);LibHistorySetting.propTypes=propTypes;exports.default=LibHistorySetting;\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={noticeItem:_propTypes2.default.object.isRequired,onNoticeItemClick:_propTypes2.default.func.isRequired};var MSG_TYPE_ADD_USER_TO_GROUP='add_user_to_group';var MSG_TYPE_REPO_SHARE='repo_share';var MSG_TYPE_REPO_SHARE_TO_GROUP='repo_share_to_group';var MSG_TYPE_REPO_TRANSFER='repo_transfer';var MSG_TYPE_FILE_UPLOADED='file_uploaded';var MSG_TYPE_FILE_COMMENT='file_comment';var MSG_TYPE_DRAFT_COMMENT='draft_comment';var MSG_TYPE_DRAFT_REVIEWER='draft_reviewer';var MSG_TYPE_GUEST_INVITATION_ACCEPTED='guest_invitation_accepted';var NoticeItem=function(_React$Component){_inherits(NoticeItem,_React$Component);function NoticeItem(){var _ref;var _temp,_this,_ret;_classCallCheck(this,NoticeItem);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=NoticeItem.__proto__||Object.getPrototypeOf(NoticeItem)).call.apply(_ref,[this].concat(args))),_this),_this.onNoticeItemClick=function(){var item=_this.props.noticeItem;if(item.seen===true){return;}_this.props.onNoticeItemClick(item);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(NoticeItem,[{key:'generatorNoticeInfo',value:function generatorNoticeInfo(){var noticeItem=this.props.noticeItem;var noticeType=noticeItem.type;var detail=noticeItem.detail;if(noticeType===MSG_TYPE_ADD_USER_TO_GROUP){var avatar_url=detail.group_staff_avatar_url;var groupStaff=detail.group_staff_name;var userHref=_constants.siteRoot+'profile/'+detail.group_staff_email+'/';var groupHref=_constants.siteRoot+'group/'+detail.group_id+'/';var groupName=detail.group_name;var notice=(0,_constants.gettext)('User {user_link} has added you to {group_link}');var userLink='<a href='+userHref+'>'+groupStaff+'</a>';var groupLink='<a href='+groupHref+'>'+groupName+'</a>';notice=notice.replace('{user_link}',userLink);notice=notice.replace('{group_link}',groupLink);return{avatar_url:avatar_url,notice:notice};}if(noticeType===MSG_TYPE_REPO_SHARE){var _avatar_url=detail.share_from_user_avatar_url;var shareFrom=detail.share_from_user_name;var repoName=detail.repo_name;var repoUrl=_constants.siteRoot+'library/'+detail.repo_id+'/'+repoName+'/';var path=detail.path;var _notice='';var repoLink='<a href='+repoUrl+'>'+repoName+'</a>';if(path==='/'){// share repo\n_notice=(0,_constants.gettext)('{share_from} has shared a library named {repo_link} to you.');}else{// share folder\n_notice=(0,_constants.gettext)('{share_from} has shared a folder named {repo_link} to you.');}_notice=_notice.replace('{share_from}',shareFrom);_notice=_notice.replace('{repo_link}',repoLink);return{avatar_url:_avatar_url,notice:_notice};}if(noticeType===MSG_TYPE_REPO_SHARE_TO_GROUP){var _avatar_url2=detail.share_from_user_avatar_url;var _shareFrom=detail.share_from_user_name;var _repoName=detail.repo_name;var _repoUrl=_constants.siteRoot+'library/'+detail.repo_id+'/'+_repoName+'/';var groupUrl=_constants.siteRoot+'group/'+detail.group_id+'/';var _groupName=detail.group_name;var _path=detail.path;var _notice2='';var _repoLink='<a href='+_repoUrl+'>'+_repoName+'</a>';var _groupLink='<a href='+groupUrl+'>'+_groupName+'</a>';if(_path==='/'){_notice2=(0,_constants.gettext)('{share_from} has shared a library named {repo_link} to group {group_link}.');}else{_notice2=(0,_constants.gettext)('{share_from} has shared a folder named {repo_link} to group {group_link}.');}_notice2=_notice2.replace('{share_from}',_shareFrom);_notice2=_notice2.replace('{repo_link}',_repoLink);_notice2=_notice2.replace('{group_link}',_groupLink);return{avatar_url:_avatar_url2,notice:_notice2};}if(noticeType===MSG_TYPE_REPO_TRANSFER){var _avatar_url3=detail.transfer_from_user_avatar_url;var repoOwner=detail.transfer_from_user_name;var _repoName2=detail.repo_name;var _repoUrl2=_constants.siteRoot+'library/'+detail.repo_id+'/'+_repoName2+'/';var _notice3=(0,_constants.gettext)('{user} has transfered a library named {repo_link} to you.');var _repoLink2='<a href='+_repoUrl2+'>'+_repoName2+'</a>';_notice3=_notice3.replace('{user}',repoOwner);_notice3=_notice3.replace('{repo_link}',_repoLink2);return{avatar_url:_avatar_url3,notice:_notice3};}if(noticeType===MSG_TYPE_FILE_UPLOADED){var _avatar_url4=detail.uploaded_user_avatar_url;var fileName=detail.file_name;var fileLink=_constants.siteRoot+'lib/'+detail.repo_id+'/'+'file'+_utils.Utils.encodePath(detail.file_path);var folderName=detail.folder_name;var folderLink=_constants.siteRoot+'library/'+detail.repo_id+'/'+detail.repo_name+_utils.Utils.encodePath(detail.folder_path);var _notice4='';if(detail.repo_id){// todo is repo exist ?\nvar uploadFileLink='<a href='+fileLink+'>'+fileName+'</a>';var uploadedLink='<a href='+folderLink+'>'+folderName+'</a>';_notice4=(0,_constants.gettext)('A file named {upload_file_link} is uploaded to {uploaded_link}.');_notice4=_notice4.replace('{upload_file_link}',uploadFileLink);_notice4=_notice4.replace('{uploaded_link}',uploadedLink);}else{_notice4=(0,_constants.gettext)('A file named {upload_file_link} is uploaded to {uploaded_link}.');_notice4=_notice4.replace('{upload_file_link}',fileName);_notice4=_notice4.replace('{uploaded_link}','<strong>Deleted Library</strong>');}return{avatar_url:_avatar_url4,notice:_notice4};}if(noticeType===MSG_TYPE_FILE_COMMENT){var _avatar_url5=detail.author_avatar_url;var author=detail.author_name;var _fileName=detail.file_name;var fileUrl=_constants.siteRoot+'lib/'+detail.repo_id+'/'+'file'+detail.file_path;var _notice5=(0,_constants.gettext)('File {file_link} has a new comment form user {author}.');var _fileLink='<a href='+fileUrl+'>'+_fileName+'</a>';_notice5=_notice5.replace('{file_link}',_fileLink);_notice5=_notice5.replace('{author}',author);return{avatar_url:_avatar_url5,notice:_notice5};}if(noticeType===MSG_TYPE_DRAFT_COMMENT){var _avatar_url6=detail.author_avatar_url;var _author=detail.author_name;var draftId=detail.draft_id;var draftUrl=_constants.siteRoot+'drafts/'+draftId+'/';var _notice6=(0,_constants.gettext)('{draft_link} has a new comment from user {author}.');var draftLink='<a href='+draftUrl+'>'+(0,_constants.gettext)('Draft')+'#'+draftId+'</a>';_notice6=_notice6.replace('{draft_link}',draftLink);_notice6=_notice6.replace('{author}',_author);return{avatar_url:_avatar_url6,notice:_notice6};}if(noticeType===MSG_TYPE_DRAFT_REVIEWER){var _avatar_url7=detail.request_user_avatat_url;var fromUser=detail.request_user_name;var _draftId=detail.draft_id;var _draftUrl=_constants.siteRoot+'drafts/'+_draftId+'/';var _notice7=(0,_constants.gettext)('{from_user} has sent you a request for {draft_link}.');var _draftLink='<a href='+_draftUrl+'>'+(0,_constants.gettext)('Draft')+'#'+_draftId+'</a>';_notice7=_notice7.replace('{from_user}',fromUser);_notice7=_notice7.replace('{draft_link}',_draftLink);return{avatar_url:_avatar_url7,notice:_notice7};}// if (noticeType === MSG_TYPE_GUEST_INVITATION_ACCEPTED) {\n// }\nreturn{avatar_url:null,notice:null};}},{key:'render',value:function render(){var noticeItem=this.props.noticeItem;var _generatorNoticeInfo=this.generatorNoticeInfo(),avatar_url=_generatorNoticeInfo.avatar_url,notice=_generatorNoticeInfo.notice;if(!avatar_url&&!notice){return'';}return _react2.default.createElement('li',{onClick:this.onNoticeItemClick,className:noticeItem.seen?'read':'unread'},_react2.default.createElement('div',{className:'notice-item'},_react2.default.createElement('div',{className:'main-info'},_react2.default.createElement('img',{src:avatar_url,width:'32',height:'32',className:'avatar'}),_react2.default.createElement('p',{className:'brief',dangerouslySetInnerHTML:{__html:notice}})),_react2.default.createElement('p',{className:'time'},(0,_moment2.default)(noticeItem.timestamp).fromNow())));}}]);return NoticeItem;}(_react2.default.Component);NoticeItem.propTypes=propTypes;exports.default=NoticeItem;\n\n/***/ }),\n\n/***/ 1210:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _seafileApi=__webpack_require__(3);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,repoName:_propTypes2.default.string.isRequired,toggleDialog:_propTypes2.default.func.isRequired};var ChangeRepoPasswordDialog=function(_React$Component){_inherits(ChangeRepoPasswordDialog,_React$Component);function ChangeRepoPasswordDialog(props){_classCallCheck(this,ChangeRepoPasswordDialog);var _this=_possibleConstructorReturn(this,(ChangeRepoPasswordDialog.__proto__||Object.getPrototypeOf(ChangeRepoPasswordDialog)).call(this,props));_this.handleOldPasswordInputChange=function(e){_this.setState({oldPassword:e.target.value});};_this.handleNewPasswordInputChange=function(e){_this.setState({newPassword:e.target.value});};_this.handleNewPasswordAgainInputChange=function(e){_this.setState({newPasswordAgain:e.target.value});};_this.formSubmit=function(e){var _this$state=_this.state,oldPassword=_this$state.oldPassword,newPassword=_this$state.newPassword,newPasswordAgain=_this$state.newPasswordAgain;if(!oldPassword){_this.setState({errorMsg:(0,_constants.gettext)('Please enter the old password')});return false;}if(!newPassword){_this.setState({errorMsg:(0,_constants.gettext)('Please enter a new password')});return false;}if(newPassword.length<_constants.repoPasswordMinLength){_this.setState({errorMsg:(0,_constants.gettext)('New password is too short')});return false;}if(!newPasswordAgain){_this.setState({errorMsg:(0,_constants.gettext)('Please enter the new password again')});return false;}if(newPassword!=newPasswordAgain){_this.setState({errorMsg:(0,_constants.gettext)('New passwords don\\'t match')});return false;}_this.setState({submitBtnDisabled:true});_seafileApi.seafileAPI.changeEncryptedRepoPassword(_this.props.repoID,oldPassword,newPassword).then(function(){_this.props.toggleDialog();_toast2.default.success((0,_constants.gettext)('Successfully changed library password.'));}).catch(function(error){var errorMsg='';if(error.response){if(error.response.data){errorMsg=error.response.data.error_msg;}else{errorMsg=(0,_constants.gettext)('Error');}}else{errorMsg=(0,_constants.gettext)('Please check the network.');}_this.setState({errorMsg:errorMsg,submitBtnDisabled:false});});};_this.state={oldPassword:'',newPassword:'',newPasswordAgain:'',submitBtnDisabled:false,errorMsg:''};return _this;}_createClass(ChangeRepoPasswordDialog,[{key:'render',value:function render(){var _props=this.props,repoID=_props.repoID,repoName=_props.repoName,toggleDialog=_props.toggleDialog;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,centered:true,style:{height:'auto'}},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:toggleDialog},_react2.default.createElement('span',{dangerouslySetInnerHTML:{__html:_utils.Utils.generateDialogTitle((0,_constants.gettext)('Change Password of Library {placeholder}'),repoName)}})),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('form',{id:'repo-change-passwd-form',action:'',method:'post'},_react2.default.createElement('label',{htmlFor:'passwd'},(0,_constants.gettext)('Old Password')),_react2.default.createElement('br',null),_react2.default.createElement('input',{type:'password',name:'old_passwd',className:'form-control',id:'passwd',value:this.state.oldPassword,onChange:this.handleOldPasswordInputChange}),_react2.default.createElement('br',null),_react2.default.createElement('label',{htmlFor:'new-passwd'},(0,_constants.gettext)('New Password')),_react2.default.createElement('span',{className:'tip'},(0,_constants.gettext)('(at least {placeholder} characters)').replace('{placeholder}',_constants.repoPasswordMinLength)),_react2.default.createElement('br',null),_react2.default.createElement('input',{type:'password',name:'new_passwd',className:'form-control',id:'new-passwd',value:this.state.newPassword,onChange:this.handleNewPasswordInputChange}),_react2.default.createElement('br',null),_react2.default.createElement('label',{htmlFor:'new-passwd-again'},(0,_constants.gettext)('New Password Again')),_react2.default.createElement('br',null),_react2.default.createElement('input',{type:'password',name:'new_passwd_again',className:'form-control',id:'new-passwd-again',value:this.state.newPasswordAgain,onChange:this.handleNewPasswordAgainInputChange}),_react2.default.createElement('br',null),this.state.errorMsg&&_react2.default.createElement(_reactstrap.Alert,{color:'danger'},this.state.errorMsg))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement('button',{className:'btn btn-primary',disabled:this.state.submitBtnDisabled,onClick:this.formSubmit},(0,_constants.gettext)('Submit'))));}}]);return ChangeRepoPasswordDialog;}(_react2.default.Component);ChangeRepoPasswordDialog.propTypes=propTypes;exports.default=ChangeRepoPasswordDialog;\n\n/***/ }),\n\n/***/ 1211:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _seafileApi=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,toggleDialog:_propTypes2.default.func.isRequired};var ResetEncryptedRepoPasswordDialog=function(_React$Component){_inherits(ResetEncryptedRepoPasswordDialog,_React$Component);function ResetEncryptedRepoPasswordDialog(props){_classCallCheck(this,ResetEncryptedRepoPasswordDialog);var _this=_possibleConstructorReturn(this,(ResetEncryptedRepoPasswordDialog.__proto__||Object.getPrototypeOf(ResetEncryptedRepoPasswordDialog)).call(this,props));_this.state={errMessage:'',showLoading:true,showSuccess:false,showError:false};return _this;}_createClass(ResetEncryptedRepoPasswordDialog,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.resetAndSendEncryptedRepoPassword(this.props.repoID).then(function(res){_this2.setState({showLoading:false});_this2.setState({showSuccess:true});}).catch(function(error){if(error.response){_this2.setState({errMessage:error.response.data.error_msg});_this2.setState({showLoading:false});_this2.setState({showError:true});}});}},{key:'render',value:function render(){var user_email='<strong>'+_constants.contactEmail+'</strong>';var message=(0,_constants.gettext)('New password has been sent to your email {mail}. Please check your mailbox. If you dont receive the password, please check if your email address is properly configured.').replace('{mail}',user_email);return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,centered:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.toggleDialog},(0,_constants.gettext)('Reset library password')),_react2.default.createElement(_reactstrap.ModalBody,null,this.state.showLoading&&_react2.default.createElement('span',null,(0,_constants.gettext)('Sending new password...')),this.state.showSuccess&&_react2.default.createElement('div',{dangerouslySetInnerHTML:{__html:message}}),this.state.showError&&_react2.default.createElement('span',{className:'err-message'},this.state.errMessage)));}}]);return ResetEncryptedRepoPasswordDialog;}(_react2.default.Component);ResetEncryptedRepoPasswordDialog.propTypes=propTypes;exports.default=ResetEncryptedRepoPasswordDialog;\n\n/***/ }),\n\n/***/ 1212:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isPC:_propTypes2.default.bool,repo:_propTypes2.default.object.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnfreezedItem:_propTypes2.default.func.isRequired,onMenuItemClick:_propTypes2.default.func.isRequired};var MylibRepoMenu=function(_React$Component){_inherits(MylibRepoMenu,_React$Component);function MylibRepoMenu(props){_classCallCheck(this,MylibRepoMenu);var _this=_possibleConstructorReturn(this,(MylibRepoMenu.__proto__||Object.getPrototypeOf(MylibRepoMenu)).call(this,props));_this.onMenuItemClick=function(e){var operation=e.target.dataset.toggle;_this.props.onMenuItemClick(operation);};_this.onDropdownToggleClick=function(e){_this.toggleOperationMenu(e);};_this.toggleOperationMenu=function(e){var dataset=e.target?e.target.dataset:null;if(dataset&&dataset.toggle&&dataset.toggle==='Rename'){_this.setState({isItemMenuShow:!_this.state.isItemMenuShow});return;}_this.setState({isItemMenuShow:!_this.state.isItemMenuShow},function(){if(_this.state.isItemMenuShow){_this.props.onFreezedItem();}else{_this.props.onUnfreezedItem();}});};_this.generatorOperations=function(){var repo=_this.props.repo;var showResetPasswordMenuItem=repo.encrypted&&_constants.enableResetEncryptedRepoPassword&&_constants.isEmailConfigured;var operations=['Rename','Transfer','History Setting'];if(repo.encrypted){operations.push('Change Password');}if(showResetPasswordMenuItem){operations.push('Reset Password');}if(_constants.folderPermEnabled){operations.push('Folder Permission');}operations.push('Details');if(_this.props.isPC&&_constants.enableRepoSnapshotLabel){operations.push('Label current state');}return operations;};_this.translateOperations=function(item){var translateResult='';switch(item){case'Share':translateResult=(0,_constants.gettext)('Share');break;case'Delete':translateResult=(0,_constants.gettext)('Delete');break;case'Rename':translateResult=(0,_constants.gettext)('Rename');break;case'Transfer':translateResult=(0,_constants.gettext)('Transfer');break;case'History Setting':translateResult=(0,_constants.gettext)('History Setting');break;case'Change Password':translateResult=(0,_constants.gettext)('Change Password');break;case'Reset Password':translateResult=(0,_constants.gettext)('Reset Password');break;case'Folder Permission':translateResult=(0,_constants.gettext)('Folder Permission');break;case'Details':translateResult=(0,_constants.gettext)('Details');break;case'Label current state':translateResult=(0,_constants.gettext)('Label current state');break;default:break;}return translateResult;};_this.state={isItemMenuShow:false};return _this;}_createClass(MylibRepoMenu,[{key:'render',value:function render(){var _this2=this;var operations=this.generatorOperations();// pc menu\nif(this.props.isPC){return _react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},_react2.default.createElement(_reactstrap.DropdownToggle,{tag:'i',className:'sf-dropdown-toggle sf2-icon-caret-down',title:(0,_constants.gettext)('More Operations')// onClick={this.clickOperationMenuToggle}\n,'data-toggle':'dropdown','aria-expanded':this.state.isItemMenuShow}),_react2.default.createElement(_reactstrap.DropdownMenu,null,operations.map(function(item,index){return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,'data-toggle':item,onClick:_this2.onMenuItemClick},_this2.translateOperations(item));})));}// mobile menu\noperations.unshift('Share');operations.unshift('Delete');return _react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},_react2.default.createElement(_reactstrap.DropdownToggle,{tag:'i',className:'sf-dropdown-toggle sf2-icon-caret-down ml-0',title:(0,_constants.gettext)('More Operations')// onClick={this.clickOperationMenuToggle}\n,'data-toggle':'dropdown','aria-expanded':this.state.isItemMenuShow}),_react2.default.createElement('div',{className:''+(this.state.isItemMenuShow?'':'d-none'),onClick:this.toggleOperationMenu},_react2.default.createElement('div',{className:'mobile-operation-menu-bg-layer'}),_react2.default.createElement('div',{className:'mobile-operation-menu'},operations.map(function(item,index){return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,className:'mobile-menu-item','data-toggle':item,onClick:_this2.onMenuItemClick},_this2.translateOperations(item));}))));}}]);return MylibRepoMenu;}(_react2.default.Component);MylibRepoMenu.propTypes=propTypes;exports.default=MylibRepoMenu;\n\n/***/ }),\n\n/***/ 1213:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _router=__webpack_require__(60);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _commonToolbar=__webpack_require__(80);var _commonToolbar2=_interopRequireDefault(_commonToolbar);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}_moment2.default.locale(_constants.lang);var MyLibsDeleted=function(_Component){_inherits(MyLibsDeleted,_Component);function MyLibsDeleted(props){_classCallCheck(this,MyLibsDeleted);var _this=_possibleConstructorReturn(this,(MyLibsDeleted.__proto__||Object.getPrototypeOf(MyLibsDeleted)).call(this,props));_this.refreshDeletedRepoList=function(repoID){var deletedRepoList=_this.state.deletedRepoList.filter(function(item){return item.repo_id!==repoID;});_this.setState({deletedRepoList:deletedRepoList});};_this.state={deletedRepoList:[],isLoading:true};return _this;}_createClass(MyLibsDeleted,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.listDeletedRepo().then(function(res){_this2.setState({deletedRepoList:res.data,isLoading:false});});}},{key:'render',value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'main-panel-north'},_react2.default.createElement(_commonToolbar2.default,{onSearchedClick:this.props.onSearchedClick})),_react2.default.createElement('div',{className:'main-panel-center'},_react2.default.createElement('div',{className:'cur-view-container'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement('div',{className:'path-container'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'my-libs/'},(0,_constants.gettext)(\"My Libraries\")),_react2.default.createElement('span',{className:'path-split'},'/'),_react2.default.createElement('span',null,(0,_constants.gettext)('Deleted Libraries')))),_react2.default.createElement('div',{className:'cur-view-content'},this.state.isLoading&&_react2.default.createElement(_loading2.default,null),!this.state.isLoading&&this.state.deletedRepoList.length===0&&_react2.default.createElement('div',{className:'message empty-tip'},_react2.default.createElement('h2',null,(0,_constants.gettext)('No deleted libraries.'))),this.state.deletedRepoList.length!==0&&_react2.default.createElement('div',null,_react2.default.createElement('p',{className:'tip'},(0,_constants.gettext)('Tip: libraries deleted 30 days ago will be cleaned automatically.')),_react2.default.createElement(DeletedRepoTable,{deletedRepoList:this.state.deletedRepoList,refreshDeletedRepoList:this.refreshDeletedRepoList}))))));}}]);return MyLibsDeleted;}(_react.Component);var DeletedRepoTable=function(_Component2){_inherits(DeletedRepoTable,_Component2);function DeletedRepoTable(){_classCallCheck(this,DeletedRepoTable);return _possibleConstructorReturn(this,(DeletedRepoTable.__proto__||Object.getPrototypeOf(DeletedRepoTable)).apply(this,arguments));}_createClass(DeletedRepoTable,[{key:'render',value:function render(){var _this4=this;var deletedRepos=this.props.deletedRepoList;return _react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{style:{width:'4%'}}),_react2.default.createElement('th',{style:{width:'52%'}},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{style:{width:'30%'}},(0,_constants.gettext)('Deleted Time')),_react2.default.createElement('th',{style:{width:'14%'}}))),_react2.default.createElement('tbody',null,deletedRepos&&deletedRepos.map(function(item){return _react2.default.createElement(DeletedRepoItem,{key:item.repo_id,repo:item,refreshDeletedRepoList:_this4.props.refreshDeletedRepoList});})));}}]);return DeletedRepoTable;}(_react.Component);var DeletedRepoItem=function(_Component3){_inherits(DeletedRepoItem,_Component3);function DeletedRepoItem(props){_classCallCheck(this,DeletedRepoItem);var _this5=_possibleConstructorReturn(this,(DeletedRepoItem.__proto__||Object.getPrototypeOf(DeletedRepoItem)).call(this,props));_this5.onMouseEnter=function(){if(!_this5.props.isItemFreezed){_this5.setState({hideRestoreMenu:false,highlight:true});}};_this5.onMouseLeave=function(){if(!_this5.props.isItemFreezed){_this5.setState({hideRestoreMenu:true,highlight:false});}};_this5.restoreDeletedRepo=function(){var repoID=_this5.props.repo.repo_id;var repoName=_this5.props.repo.repo_name;_seafileApi.seafileAPI.restoreDeletedRepo(repoID).then(function(res){var message=(0,_constants.gettext)('Successfully restored the library.')+'  '+repoName;_toast2.default.success(message);_this5.props.refreshDeletedRepoList(repoID);}).catch(function(res){var message=(0,_constants.gettext)('Failed. Please check the network.');_toast2.default.danger(message);});};_this5.state={hideRestoreMenu:true,highlight:false};return _this5;}_createClass(DeletedRepoItem,[{key:'render',value:function render(){var localTime=_moment2.default.utc(this.props.repo.del_time).toDate();localTime=(0,_moment2.default)(localTime).fromNow();return _react2.default.createElement('tr',{className:this.state.highlight?'tr-highlight':'',onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{className:'text-center'},_react2.default.createElement('img',{src:_constants.siteRoot+'media/img/lib/48/lib.png',alt:''})),_react2.default.createElement('td',{className:'name'},this.props.repo.repo_name),_react2.default.createElement('td',{className:'update'},localTime),_react2.default.createElement('td',null,this.state.highlight&&_react2.default.createElement('a',{href:'#',onClick:this.restoreDeletedRepo,className:'op-icon sf2-icon-reply repo-share-btn',title:(0,_constants.gettext)('Restore'),'aria-label':(0,_constants.gettext)('Restore')})));}}]);return DeletedRepoItem;}(_react.Component);exports.default=MyLibsDeleted;\n\n/***/ }),\n\n/***/ 1214:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactCookies=__webpack_require__(22);var _reactCookies2=_interopRequireDefault(_reactCookies);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _repo=__webpack_require__(125);var _repo2=_interopRequireDefault(_repo);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _commonToolbar=__webpack_require__(80);var _commonToolbar2=_interopRequireDefault(_commonToolbar);var _createRepoDialog=__webpack_require__(313);var _createRepoDialog2=_interopRequireDefault(_createRepoDialog);var _shareRepoDialog=__webpack_require__(1215);var _shareRepoDialog2=_interopRequireDefault(_shareRepoDialog);var _sharedRepoListView=__webpack_require__(316);var _sharedRepoListView2=_interopRequireDefault(_sharedRepoListView);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onShowSidePanel:_propTypes2.default.func.isRequired,onSearchedClick:_propTypes2.default.func.isRequired};var PublicSharedView=function(_React$Component){_inherits(PublicSharedView,_React$Component);function PublicSharedView(props){_classCallCheck(this,PublicSharedView);var _this=_possibleConstructorReturn(this,(PublicSharedView.__proto__||Object.getPrototypeOf(PublicSharedView)).call(this,props));_this.onCreateRepo=function(repo){_seafileApi.seafileAPI.createPublicRepo(repo).then(function(res){var object={// need modify api return value\nrepo_id:res.data.id,repo_name:res.data.name,permission:res.data.permission,size:res.data.size,owner_name:res.data.owner_name,owner_email:res.data.owner,mtime:res.data.mtime,encrypted:res.data.encrypted};var repo=new _repo2.default(object);var repoList=_this.addRepoItem(repo);_this.setState({repoList:repoList});_this.onCreateRepoToggle();}).catch(function(){// todo\n});};_this.onRepoSelectedHandler=function(selectedRepoList){selectedRepoList.forEach(function(repo){_seafileApi.seafileAPI.selectOwnedRepoToPublic(repo.repo_id,{share_type:'public',permission:repo.sharePermission}).then(function(){var repoList=_this.addRepoItem(repo);_this.setState({repoList:repoList});}).catch(function(){// todo\n});});};_this.onItemUnshare=function(repo){_seafileApi.seafileAPI.unshareRepo(repo.repo_id,{share_type:'public'}).then(function(){var repoList=_this.state.repoList.filter(function(item){return item.repo_id!==repo.repo_id;});_this.setState({repoList:repoList});_toast2.default.success('Successfully unshared 1 item.');});};_this.onItemDelete=function(){// todo need to optimized\n};_this.addRepoItem=function(repo){var isExist=false;var repoIndex=0;var repoList=_this.state.repoList;for(var i=0;i<repoList.length;i++){if(repo.repo_id===repoList[i].repo_id){isExist=true;repoIndex=i;break;}}if(isExist){_this.state.repoList.splice(repoIndex,1);}var newRepoList=_this.state.repoList.map(function(item){return item;});newRepoList.unshift(repo);return newRepoList;};_this.onAddRepoToggle=function(){_this.setState({isCreateMenuShow:!_this.state.isCreateMenuShow});};_this.onCreateRepoToggle=function(){_this.setState({isCreateRepoDialogShow:!_this.state.isCreateRepoDialogShow});};_this.onSelectRepoToggle=function(){_this.setState({isSelectRepoDialpgShow:!_this.state.isSelectRepoDialpgShow});};_this.sortItems=function(sortBy,sortOrder){_reactCookies2.default.save('seafile-repo-sort-by',sortBy);_reactCookies2.default.save('seafile-repo-sort-order',sortOrder);_this.setState({sortBy:sortBy,sortOrder:sortOrder,repoList:_utils.Utils.sortRepos(_this.state.repoList,sortBy,sortOrder)});};_this.state={isLoading:true,errMessage:'',emptyTip:'',repoList:[],sortBy:_reactCookies2.default.load('seafile-repo-sort-by')||'name',// 'name' or 'time'\nsortOrder:_reactCookies2.default.load('seafile-repo-sort-order')||'asc',// 'asc' or 'desc'\nlibraryType:'public',isCreateMenuShow:false,isCreateRepoDialogShow:false,isSelectRepoDialpgShow:false};return _this;}_createClass(PublicSharedView,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.listRepos({type:'public'}).then(function(res){var repoList=res.data.repos.map(function(item){var repo=new _repo2.default(item);return repo;});_this2.setState({isLoading:false,repoList:_utils.Utils.sortRepos(repoList,_this2.state.sortBy,_this2.state.sortOrder)});}).catch(function(error){if(error.response){if(error.response.status==403){_this2.setState({isLoading:false,errMessage:(0,_constants.gettext)('Permission denied')});location.href=_constants.loginUrl+'?next='+encodeURIComponent(location.href);}else{_this2.setState({isLoading:false,errMessage:(0,_constants.gettext)('Error')});}}else{_this2.setState({isLoading:false,errMessage:(0,_constants.gettext)('Please check the network.')});}});}},{key:'render',value:function render(){var errMessage=this.state.errMessage;var emptyTip=_react2.default.createElement('div',{className:'empty-tip'},_react2.default.createElement('h2',null,(0,_constants.gettext)('No public libraries')),_react2.default.createElement('p',null,(0,_constants.gettext)('You can create a public library by clicking the \"New Library\" button, others can view and download this library.')));return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'main-panel-north border-left-show'},_react2.default.createElement('div',{className:'cur-view-toolbar'},_react2.default.createElement('span',{className:'sf2-icon-menu side-nav-toggle hidden-md-up d-md-none',title:'Side Nav Menu',onClick:this.props.onShowSidePanel}),_react2.default.createElement('div',{className:'operation'},_react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.isCreateMenuShow,toggle:this.onAddRepoToggle},_react2.default.createElement(_reactstrap.DropdownToggle,{className:'btn btn-secondary operation-item'},_react2.default.createElement('i',{className:'fas fa-plus-square text-secondary mr-1'}),(0,_constants.gettext)('Add Library')),_react2.default.createElement(_reactstrap.DropdownMenu,null,_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.onSelectRepoToggle},(0,_constants.gettext)('Share existing libraries')),_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.onCreateRepoToggle},(0,_constants.gettext)('New Library')))))),_react2.default.createElement(_commonToolbar2.default,{onSearchedClick:this.props.onSearchedClick})),_react2.default.createElement('div',{className:'main-panel-center'},_react2.default.createElement('div',{className:'cur-view-container'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement('h3',{className:'sf-heading'},(0,_constants.gettext)('Shared with all'))),_react2.default.createElement('div',{className:'cur-view-content'},this.state.isLoading&&_react2.default.createElement(_loading2.default,null),!this.state.isLoading&&errMessage&&errMessage,!this.state.isLoading&&this.state.repoList.length===0&&emptyTip,!this.state.isLoading&&this.state.repoList.length>0&&_react2.default.createElement(_sharedRepoListView2.default,{libraryType:this.state.libraryType,repoList:this.state.repoList,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems,onItemUnshare:this.onItemUnshare,onItemDelete:this.onItemDelete})))),this.state.isCreateRepoDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_createRepoDialog2.default,{libraryType:this.state.libraryType,onCreateToggle:this.onCreateRepoToggle,onCreateRepo:this.onCreateRepo})),this.state.isSelectRepoDialpgShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_shareRepoDialog2.default,{onRepoSelectedHandler:this.onRepoSelectedHandler,onShareRepoDialogClose:this.onSelectRepoToggle})));}}]);return PublicSharedView;}(_react2.default.Component);PublicSharedView.propTypes=propTypes;exports.default=PublicSharedView;\n\n/***/ }),\n\n/***/ 1215:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _repo=__webpack_require__(125);var _repo2=_interopRequireDefault(_repo);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var shareRepoListItemProps={repo:_propTypes2.default.object.isRequired,onRepoSelect:_propTypes2.default.func.isRequired,onPermissionChange:_propTypes2.default.func.isRequired};var ShareRepoListItem=function(_React$Component){_inherits(ShareRepoListItem,_React$Component);function ShareRepoListItem(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ShareRepoListItem);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ShareRepoListItem.__proto__||Object.getPrototypeOf(ShareRepoListItem)).call.apply(_ref,[this].concat(args))),_this),_this.onRepoSelect=function(e){var isChecked=e.target.checked;_this.props.onRepoSelect(_this.props.repo,isChecked);},_this.onPermissionChange=function(e){var permission=e.target.value;var repo=_this.props.repo;_this.props.onPermissionChange(repo,permission);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(ShareRepoListItem,[{key:'render',value:function render(){var repo=this.props.repo;var iconUrl=_utils.Utils.getLibIconUrl(repo);return _react2.default.createElement('tr',null,_react2.default.createElement('td',{className:'text-center'},_react2.default.createElement('input',{type:'checkbox',className:'vam',name:'repo',onChange:this.onRepoSelect})),_react2.default.createElement('td',{className:'text-center'},_react2.default.createElement('img',{src:iconUrl,width:'24',alt:(0,_constants.gettext)('icon')})),_react2.default.createElement('td',{className:'name'},repo.repo_name),_react2.default.createElement('td',null,(0,_moment2.default)(repo.last_modified).fromNow()),_react2.default.createElement('td',null,_react2.default.createElement(_reactstrap.Input,{style:{height:'1.5rem',padding:0},type:'select',name:'select',onChange:this.onPermissionChange,value:repo.sharePermission},_react2.default.createElement('option',{value:'rw'},(0,_constants.gettext)('Read-Write')),_react2.default.createElement('option',{value:'r'},(0,_constants.gettext)('Read-Only')))));}}]);return ShareRepoListItem;}(_react2.default.Component);ShareRepoListItem.propTypes=shareRepoListItemProps;var propTypes={onRepoSelectedHandler:_propTypes2.default.func.isRequired,onShareRepoDialogClose:_propTypes2.default.func.isRequired};var ShareRepoDialog=function(_React$Component2){_inherits(ShareRepoDialog,_React$Component2);function ShareRepoDialog(props){_classCallCheck(this,ShareRepoDialog);var _this2=_possibleConstructorReturn(this,(ShareRepoDialog.__proto__||Object.getPrototypeOf(ShareRepoDialog)).call(this,props));_this2.onRepoSelect=function(repo,isChecked){var selectedRepoList=[];if(isChecked){_this2.state.selectedRepoList.push(repo);selectedRepoList=_this2.state.selectedRepoList;}else{selectedRepoList=_this2.state.selectedRepoList.filter(function(item){return item.repo_id!==repo.repo_id;});}_this2.setState({selectedRepoList:selectedRepoList});};_this2.onPermissionChange=function(repo,permission){var repoList=_this2.state.repoList.map(function(item){if(item.repo_id===repo.repo_id){item.sharePermission=permission;}return item;});_this2.setState({repoList:repoList});};_this2.handleSubmit=function(){if(_this2.state.selectedRepoList.length===0){var errMessage=(0,_constants.gettext)('Please select a library to share.');_this2.setState({errMessage:errMessage});return;}_this2.props.onRepoSelectedHandler(_this2.state.selectedRepoList);_this2.onCloseDialog();};_this2.onCloseDialog=function(){_this2.props.onShareRepoDialogClose();};_this2.state={repoList:[],currentRepo:null,permission:'rw',selectedRepoList:[],errMessage:''};return _this2;}_createClass(ShareRepoDialog,[{key:'componentDidMount',value:function componentDidMount(){var _this3=this;_seafileApi.seafileAPI.listRepos({type:'mine'}).then(function(res){var repoList=res.data.repos.map(function(item){var repo=new _repo2.default(item);repo.sharePermission='rw';return repo;});_this3.setState({repoList:repoList});});}},{key:'render',value:function render(){var _this4=this;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Select libraries to share')),_react2.default.createElement(_reactstrap.ModalBody,{className:'dialog-list-container'},_react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'4%'}),_react2.default.createElement('th',{width:'6%'}),_react2.default.createElement('th',{width:'35%'},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{width:'25%'},(0,_constants.gettext)('Last Update')),_react2.default.createElement('th',{width:'30%'},(0,_constants.gettext)('Permission')))),_react2.default.createElement('tbody',null,this.state.repoList.map(function(repo,index){return _react2.default.createElement(ShareRepoListItem,{key:index,repo:repo,onRepoSelect:_this4.onRepoSelect,onPermissionChange:_this4.onPermissionChange});})))),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',className:'mt-2'},this.state.errMessage),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.onCloseDialog},(0,_constants.gettext)('Close')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return ShareRepoDialog;}(_react2.default.Component);ShareRepoDialog.propTypes=propTypes;exports.default=ShareRepoDialog;\n\n/***/ }),\n\n/***/ 1216:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _reactstrap=__webpack_require__(5);var _router=__webpack_require__(60);var _utils=__webpack_require__(4);var _constants=__webpack_require__(2);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _shareDialog=__webpack_require__(25);var _shareDialog2=_interopRequireDefault(_shareDialog);var _rename=__webpack_require__(143);var _rename2=_interopRequireDefault(_rename);var _seafileApi=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentGroup:_propTypes2.default.object,libraryType:_propTypes2.default.string,repo:_propTypes2.default.object.isRequired,isItemFreezed:_propTypes2.default.bool.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnfreezedItem:_propTypes2.default.func.isRequired,onItemUnshare:_propTypes2.default.func.isRequired,onItmeDetails:_propTypes2.default.func,onItemRename:_propTypes2.default.func};var SharedRepoListItem=function(_React$Component){_inherits(SharedRepoListItem,_React$Component);function SharedRepoListItem(props){_classCallCheck(this,SharedRepoListItem);var _this=_possibleConstructorReturn(this,(SharedRepoListItem.__proto__||Object.getPrototypeOf(SharedRepoListItem)).call(this,props));_this.onMouseEnter=function(){if(!_this.props.isItemFreezed){_this.setState({highlight:true,isOperationShow:true});}};_this.onMouseOver=function(){if(!_this.props.isItemFreezed){_this.setState({highlight:true,isOperationShow:true});}};_this.onMouseLeave=function(){if(!_this.props.isItemFreezed){_this.setState({highlight:false,isOperationShow:false});}};_this.clickOperationMenuToggle=function(e){_this.toggleOperationMenu(e);};_this.toggleOperationMenu=function(e){var dataset=e.target?e.target.dataset:null;if(dataset&&dataset.toggle&&dataset.toggle==='Rename'){_this.setState({isItemMenuShow:!_this.state.isItemMenuShow});return;}_this.setState({isItemMenuShow:!_this.state.isItemMenuShow},function(){if(_this.state.isItemMenuShow){_this.props.onFreezedItem();}else{_this.props.onUnfreezedItem();_this.setState({highlight:false,isOperationShow:false});}});};_this.getRepoComputeParams=function(){var repo=_this.props.repo;var iconUrl=_utils.Utils.getLibIconUrl(repo);var iconTitle=_utils.Utils.getLibIconTitle(repo);var libPath=_constants.siteRoot+'library/'+repo.repo_id+'/'+_utils.Utils.encodePath(repo.repo_name)+'/';return{iconUrl:iconUrl,iconTitle:iconTitle,libPath:libPath};};_this.onMenuItemClick=function(e){var operation=e.target.dataset.toggle;switch(operation){case'Rename':_this.onItemRenameToggle();break;case'Folder Permission':_this.onItemPermisionChanged();break;case'Details':_this.onItemDetails();break;case'Share':_this.onItemShare();break;case'Unshare':_this.onItemUnshare();break;default:break;}};_this.onItemRenameToggle=function(){_this.props.onFreezedItem();_this.setState({isRenaming:!_this.state.isRenaming,isOperationShow:!_this.state.isOperationShow});};_this.onRenameConfirm=function(name){_this.props.onItemRename(_this.props.repo,name);_this.onRenameCancel();};_this.onRenameCancel=function(){_this.props.onUnfreezedItem();_this.setState({isRenaming:!_this.state.isRenaming});};_this.onItemPermisionChanged=function(){// todo\n};_this.onItemDetails=function(){_this.props.onItemDetails(_this.props.repo);};_this.onItemShare=function(){_this.setState({isShowSharedDialog:true});};_this.onItemUnshare=function(){_this.props.onItemUnshare(_this.props.repo);};_this.onItemDelete=function(){_this.props.onItemDelete(_this.props.repo);};_this.toggleShareDialog=function(){_this.setState({isShowSharedDialog:false});};_this.translateMenuItem=function(menuItem){var translateResult='';switch(menuItem){case'Rename':translateResult=(0,_constants.gettext)('Rename');break;case'Folder Permission':translateResult=(0,_constants.gettext)('Folder Premission');break;case'Details':translateResult=(0,_constants.gettext)('Details');break;case'Unshare':translateResult=(0,_constants.gettext)('Unshare');break;case'Share':translateResult=(0,_constants.gettext)('Share');break;default:break;}return translateResult;};_this.generatorOperations=function(){var _this$props=_this.props,repo=_this$props.repo,currentGroup=_this$props.currentGroup;//todo this have a bug; use current api is not return admins param;\nvar isStaff=currentGroup&&currentGroup.admins&&currentGroup.admins.indexOf(_constants.username)>-1;//for group repolist;\nvar isRepoOwner=repo.owner_email===_constants.username;var isAdmin=repo.is_admin;var operations=[];// todo ,shared width me shared width all;\nif(_constants.isPro){if(repo.owner_email.indexOf('@seafile_group')!=-1){//current repo is belong to a group;\nif(isStaff&&repo.owner_email==currentGroup.id+'@seafile_group'){//is a member of this current group,\n_this.isDeparementOnwerGroupMember=true;if(_constants.folderPermEnabled){operations=['Rename','Folder Permission','Details'];}else{operations=['Rename','Details'];}}else{operations.push('Unshare');}}else{if(isRepoOwner||isAdmin){operations.push('Share');}if(isStaff||isRepoOwner||isAdmin){operations.push('Unshare');}}}else{if(isRepoOwner){operations.push('Share');}if(isStaff||isRepoOwner){operations.push('Unshare');}}return operations;};_this.generatorMobileMenu=function(){var operations=[];if(_this.props.libraryType&&_this.props.libraryType==='public'){var isRepoOwner=_this.props.repo.owner_email===_constants.username;if(_constants.isSystemStaff||isRepoOwner){operations.push('Unshare');}}else{operations=_this.generatorOperations();if(_this.isDeparementOnwerGroupMember){operations.unshift('Unshare');operations.unshift('Share');}}return _react2.default.createElement(_reactstrap.Dropdown,{isOpen:_this.state.isItemMenuShow,toggle:_this.toggleOperationMenu},_react2.default.createElement(_reactstrap.DropdownToggle,{tag:'i',className:'sf-dropdown-toggle sf2-icon-caret-down',title:(0,_constants.gettext)('More Operations'),'data-toggle':'dropdown','aria-expanded':_this.state.isItemMenuShow,onClick:_this.clickOperationMenuToggle}),_react2.default.createElement('div',{className:''+(_this.state.isItemMenuShow?'':'d-none'),onClick:_this.toggleOperationMenu},_react2.default.createElement('div',{className:'mobile-operation-menu-bg-layer'}),_react2.default.createElement('div',{className:'mobile-operation-menu'},operations.map(function(item,index){return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,'data-toggle':item,onClick:_this.onMenuItemClick},_this.translateMenuItem(item));}))));};_this.generatorPCMenu=function(){var operations=[];if(_this.props.libraryType&&_this.props.libraryType==='public'){var isRepoOwner=_this.props.repo.owner_email===_constants.username;if(_constants.isSystemStaff||isRepoOwner){operations.push('unshare');}}else{// scene one: (share, delete, itemToggle and other operations);\n// scene two: (share, unshare), (share), (unshare)\noperations=_this.generatorOperations();}var shareOperation=_react2.default.createElement('a',{href:'#',className:'op-icon sf2-icon-share',title:(0,_constants.gettext)('Share'),onClick:_this.onItemShare});var unshareOperation=_react2.default.createElement('a',{href:'#',className:'op-icon sf2-icon-x3',title:(0,_constants.gettext)('Unshare'),onClick:_this.onItemUnshare});var deleteOperation=_react2.default.createElement('a',{href:'#',className:'op-icon sf2-icon-delete',title:(0,_constants.gettext)('Delete'),onClick:_this.onItemDelete});if(_this.isDeparementOnwerGroupMember){return _react2.default.createElement(_react.Fragment,null,shareOperation,deleteOperation,_react2.default.createElement(_reactstrap.Dropdown,{isOpen:_this.state.isItemMenuShow,toggle:_this.toggleOperationMenu},_react2.default.createElement(_reactstrap.DropdownToggle,{tag:'i',className:'sf-dropdown-toggle sf2-icon-caret-down',title:(0,_constants.gettext)('More Operations'),'data-toggle':'dropdown','aria-expanded':_this.state.isItemMenuShow,onClick:_this.clickOperationMenuToggle}),_react2.default.createElement(_reactstrap.DropdownMenu,null,operations.map(function(item,index){return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,'data-toggle':item,onClick:_this.onMenuItemClick},_this.translateMenuItem(item));}))));}else{if(operations.length==2){return _react2.default.createElement(_react.Fragment,null,shareOperation,unshareOperation);}if(operations.length==1&&operations[0]==='share'){return shareOperation;}if(operations.length==1&&operations[0]==='unshare'){return unshareOperation;}}return null;};_this.onStarRepo=function(){if(_this.state.isStarred){_seafileApi.seafileAPI.unstarItem(_this.props.repo.repo_id,'/').then(function(){_this.setState({isStarred:!_this.state.isStarred});});}else{_seafileApi.seafileAPI.starItem(_this.props.repo.repo_id,'/').then(function(){_this.setState({isStarred:!_this.state.isStarred});});}};_this.renderPCUI=function(){var _this$getRepoComputeP=_this.getRepoComputeParams(),iconUrl=_this$getRepoComputeP.iconUrl,iconTitle=_this$getRepoComputeP.iconTitle,libPath=_this$getRepoComputeP.libPath;var repo=_this.props.repo;// TODO: enableDirPrivateShare, isGroupOwnedRepo\nvar isGroupOwnedRepo=repo.owner_email.indexOf('@seafile_group')>-1;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('tr',{className:_this.state.highlight?'tr-highlight':'',onMouseEnter:_this.onMouseEnter,onMouseOver:_this.onMouseOver,onMouseLeave:_this.onMouseLeave},_react2.default.createElement('td',{className:'text-center'},!_this.state.isStarred&&_react2.default.createElement('i',{className:'far fa-star star-empty cursor-pointer',onClick:_this.onStarRepo}),_this.state.isStarred&&_react2.default.createElement('i',{className:'fas fa-star cursor-pointer',onClick:_this.onStarRepo})),_react2.default.createElement('td',null,_react2.default.createElement('img',{src:iconUrl,title:repo.iconTitle,alt:iconTitle,width:'24'})),_react2.default.createElement('td',null,_this.state.isRenaming?_react2.default.createElement(_rename2.default,{name:repo.repo_name,onRenameConfirm:_this.onRenameConfirm,onRenameCancel:_this.onRenameCancel}):_react2.default.createElement(_router.Link,{to:libPath},repo.repo_name)),_react2.default.createElement('td',null,_this.state.isOperationShow&&_this.generatorPCMenu()),_react2.default.createElement('td',null,repo.size),_react2.default.createElement('td',{title:(0,_moment2.default)(repo.last_modified).format('llll')},(0,_moment2.default)(repo.last_modified).fromNow()),_react2.default.createElement('td',{title:repo.owner_contact_email},repo.owner_name)),_this.state.isShowSharedDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_shareDialog2.default,{itemType:'library',itemName:repo.repo_name,itemPath:'/',repoID:repo.repo_id,repoEncrypted:repo.encrypted,enableDirPrivateShare:true,userPerm:repo.permission,isAdmin:repo.is_admin,isGroupOwnedRepo:isGroupOwnedRepo,toggleDialog:_this.toggleShareDialog})));};_this.renderMobileUI=function(){var _this$getRepoComputeP2=_this.getRepoComputeParams(),iconUrl=_this$getRepoComputeP2.iconUrl,iconTitle=_this$getRepoComputeP2.iconTitle,libPath=_this$getRepoComputeP2.libPath;var repo=_this.props.repo;var isGroupOwnedRepo=repo.owner_email.indexOf('@seafile_group')>-1;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('tr',{className:_this.state.highlight?'tr-highlight':'',onMouseEnter:_this.onMouseEnter,onMouseOver:_this.onMouseOver,onMouseLeave:_this.onMouseLeave},_react2.default.createElement('td',null,_react2.default.createElement('img',{src:iconUrl,title:iconTitle,width:'24',alt:iconTitle})),_react2.default.createElement('td',null,_this.state.isRenaming?_react2.default.createElement(_rename2.default,{name:repo.repo_name,onRenameConfirm:_this.onRenameConfirm,onRenameCancel:_this.onRenameCancel}):_react2.default.createElement(_router.Link,{to:libPath},repo.repo_name),_react2.default.createElement('br',null),_react2.default.createElement('span',{className:'item-meta-info',title:repo.owner_contact_email},repo.owner_name),_react2.default.createElement('span',{className:'item-meta-info'},repo.size),_react2.default.createElement('span',{className:'item-meta-info',title:(0,_moment2.default)(repo.last_modified).format('llll')},(0,_moment2.default)(repo.last_modified).fromNow())),_react2.default.createElement('td',null,_this.generatorMobileMenu())),_this.state.isShowSharedDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_shareDialog2.default,{itemType:'library',itemName:repo.repo_name,itemPath:'/',repoID:repo.repo_id,repoEncrypted:repo.encrypted,enableDirPrivateShare:true,userPerm:repo.permission,isAdmin:repo.is_admin,isGroupOwnedRepo:isGroupOwnedRepo,toggleDialog:_this.toggleShareDialog})));};_this.state={highlight:false,isOperationShow:false,isItemMenuShow:false,isShowSharedDialog:false,isRenaming:false,isStarred:_this.props.repo.starred};_this.isDeparementOnwerGroupMember=false;return _this;}_createClass(SharedRepoListItem,[{key:'render',value:function render(){if(window.innerWidth>=768){return this.renderPCUI();}else{return this.renderMobileUI();}}}]);return SharedRepoListItem;}(_react2.default.Component);SharedRepoListItem.propTypes=propTypes;exports.default=SharedRepoListItem;\n\n/***/ }),\n\n/***/ 1217:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactCookies=__webpack_require__(22);var _reactCookies2=_interopRequireDefault(_reactCookies);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _collabServer=__webpack_require__(276);var _collabServer2=_interopRequireDefault(_collabServer);var _dirent2=__webpack_require__(14);var _dirent3=_interopRequireDefault(_dirent2);var _fileTag=__webpack_require__(24);var _fileTag2=_interopRequireDefault(_fileTag);var _repoTag=__webpack_require__(103);var _repoTag2=_interopRequireDefault(_repoTag);var _repoInfo2=__webpack_require__(31);var _repoInfo3=_interopRequireDefault(_repoInfo2);var _treeNode=__webpack_require__(95);var _treeNode2=_interopRequireDefault(_treeNode);var _treeHelper=__webpack_require__(162);var _treeHelper2=_interopRequireDefault(_treeHelper);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _libDecryptDialog=__webpack_require__(309);var _libDecryptDialog2=_interopRequireDefault(_libDecryptDialog);var _libContentToolbar=__webpack_require__(1218);var _libContentToolbar2=_interopRequireDefault(_libContentToolbar);var _libContentContainer=__webpack_require__(1220);var _libContentContainer2=_interopRequireDefault(_libContentContainer);var _fileUploader=__webpack_require__(299);var _fileUploader2=_interopRequireDefault(_fileUploader);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={pathPrefix:_propTypes2.default.array.isRequired,onTabNavClick:_propTypes2.default.func.isRequired,onMenuClick:_propTypes2.default.func.isRequired,repoID:_propTypes2.default.string};var LibContentView=function(_React$Component){_inherits(LibContentView,_React$Component);function LibContentView(props){_classCallCheck(this,LibContentView);var _this2=_possibleConstructorReturn(this,(LibContentView.__proto__||Object.getPrototypeOf(LibContentView)).call(this,props));_this2.showDirentDetail=function(){_this2.setState({isDirentDetailShow:true});};_this2.closeDirentDetail=function(){_this2.setState({isDirentDetailShow:false});};_this2.onpopstate=function(event){if(event.state&&event.state.key){// root path\nif(_this2.state.path==='/'){return;}else{var path='/';_this2.loadDirentList(path);_this2.setState({path:path,isViewFile:false});}}else if(event.state&&event.state.path){// file path\nvar _path=event.state.path;if(_this2.state.currentMode==='column'){if(_utils.Utils.isMarkdownFile(_path)){// Judging not strict\n_this2.showFile(_path);return;}}_this2.loadDirentList(_path);_this2.setState({path:_path,isViewFile:false});}};_this2.onRepoUpdateEvent=function(){var currentTime=new Date();if(parseFloat(currentTime-_this2.lastModifyTime)/1000<=5){return;}var repoID=_this2.props.repoID;var _this2$state=_this2.state,path=_this2$state.path,dirID=_this2$state.dirID;_seafileApi.seafileAPI.dirMetaData(repoID,path).then(function(res){if(res.data.id!==dirID){_toast2.default.notify(_react2.default.createElement('span',null,(0,_constants.gettext)('This folder has been updated. '),_react2.default.createElement('a',{href:''},(0,_constants.gettext)('Refresh'))),{id:'repo_updated',duration:3600});}});};_this2.updateUsedRepoTags=function(){var repoID=_this2.props.repoID;_seafileApi.seafileAPI.listRepoTags(repoID).then(function(res){var usedRepoTags=[];res.data.repo_tags.forEach(function(item){var usedRepoTag=new _repoTag2.default(item);if(usedRepoTag.fileCount>0){usedRepoTags.push(usedRepoTag);}});_this2.setState({usedRepoTags:usedRepoTags});});};_this2.updateReadmeMarkdown=function(direntList){_this2.setState({readmeMarkdown:null});direntList.some(function(item){var fileName=item.name.toLowerCase();if(fileName==='readme.md'||fileName==='readme.markdown'){_this2.setState({readmeMarkdown:item});return true;}});};_this2.loadDirData=function(path){var repoID=_this2.props.repoID;// listen current repo\n_collabServer2.default.watchRepo(repoID,_this2.onRepoUpdateEvent);// list used FileTags\n_this2.updateUsedRepoTags();// list draft counts and revierw counts\n_seafileApi.seafileAPI.getRepoDraftCounts(repoID).then(function(res){_this2.setState({draftCounts:res.data.draft_counts});});if(_utils.Utils.isMarkdownFile(path)){_seafileApi.seafileAPI.getFileInfo(_this2.props.repoID,path).then(function(){if(_this2.state.currentMode!=='column'){_reactCookies2.default.save('seafile-view-mode','column');_this2.setState({currentMode:'column'});}_this2.loadSidePanel(path);_this2.showFile(path);}).catch(function(){if(_this2.state.currentMode==='column'){// After an error occurs, follow dir\n_this2.loadSidePanel(path);_this2.showDir(path);}else{_this2.showDir(path);}});}else{if(_this2.state.currentMode==='column'){_this2.loadSidePanel(path);_this2.showDir(path);}else{_this2.showDir(path);}}};_this2.loadSidePanel=function(path){var repoID=_this2.props.repoID;if(path==='/'){_seafileApi.seafileAPI.listDir(repoID,'/').then(function(res){var tree=_this2.state.treeData;_this2.addResponseListToNode(res.data.dirent_list,tree.root);_this2.setState({isTreeDataLoading:false,treeData:tree});}).catch(function(){_this2.setState({isTreeDataLoading:false});// todo show error message\n});}else{_this2.loadNodeAndParentsByPath(path);}};_this2.showDir=function(path){var repoID=_this2.props.repoID;// update stste\n_this2.setState({isDirentListLoading:true,path:path,isViewFile:false});// update data\n_this2.loadDirentList(path);if(!_this2.isNeedUpdateHistoryState){_this2.isNeedUpdateHistoryState=true;return;}// update location\nvar repoInfo=_this2.state.currentRepoInfo;var url=_constants.siteRoot+'library/'+repoID+'/'+encodeURIComponent(repoInfo.repo_name)+_utils.Utils.encodePath(path);window.history.pushState({url:url,path:path},path,url);};_this2.showFile=function(filePath){var repoID=_this2.props.repoID;if(_this2.state.currentMode==='column'){_seafileApi.seafileAPI.listFileTags(repoID,filePath).then(function(res){var fileTags=res.data.file_tags.map(function(item){return new _fileTag2.default(item);});_this2.setState({fileTags:fileTags});});_seafileApi.seafileAPI.listRelatedFiles(repoID,filePath).then(function(res){var relatedFiles=res.data.related_files.map(function(relatedFile){return relatedFile;});_this2.setState({relatedFiles:relatedFiles});}).catch(function(error){if(error.response.status===500){_this2.setState({relatedFiles:[]});}});}// update state\n_this2.setState({isFileLoading:true,path:filePath,isViewFile:true});// update data\n_seafileApi.seafileAPI.getFileInfo(repoID,filePath).then(function(res){var _res$data=res.data,mtime=_res$data.mtime,permission=_res$data.permission,last_modifier_name=_res$data.last_modifier_name,is_draft=_res$data.is_draft,has_draft=_res$data.has_draft,draft_id=_res$data.draft_id;_seafileApi.seafileAPI.getFileDownloadLink(repoID,filePath).then(function(res){_seafileApi.seafileAPI.getFileContent(res.data).then(function(res){_this2.setState({content:res.data,filePermission:permission==='rw',latestContributor:last_modifier_name,lastModified:_moment2.default.unix(mtime).fromNow(),isFileLoading:false,isFileLoadedErr:false,isDraft:is_draft,hasDraft:has_draft,draftID:draft_id});});});}).catch(function(){_this2.setState({isFileLoading:false,isFileLoadedErr:true});});// update location\nvar repoInfo=_this2.state.currentRepoInfo;var url=_constants.siteRoot+'library/'+repoID+'/'+encodeURIComponent(repoInfo.repo_name)+_utils.Utils.encodePath(filePath);window.history.pushState({url:url,path:filePath},filePath,url);};_this2.loadDirentList=function(path){var repoID=_this2.props.repoID;_seafileApi.seafileAPI.listDir(repoID,path,{'with_thumbnail':true}).then(function(res){var direntList=[];var markdownItem=null;res.data.dirent_list.forEach(function(item){var fileName=item.name.toLowerCase();if(fileName==='readme.md'||fileName==='readme.markdown'){markdownItem=item;}var dirent=new _dirent3.default(item);direntList.push(dirent);});_this2.setState({pathExist:true,userPerm:res.data.user_perm,isDirentListLoading:false,direntList:_utils.Utils.sortDirents(direntList,_this2.state.sortBy,_this2.state.sortOrder),dirID:res.data.dir_id,readmeMarkdown:markdownItem});if(!_this2.state.repoEncrypted&&direntList.length){_this2.getThumbnails(repoID,path,_this2.state.direntList);}}).catch(function(){_this2.setState({isDirentListLoading:false,pathExist:false});});};_this2.getThumbnails=function(repoID,path,direntList){var items=direntList.filter(function(item){return _utils.Utils.imageCheck(item.name)&&!item.encoded_thumbnail_src;});if(items.length==0){return;}var _this=_this2;var len=items.length;var thumbnailSize=48;var getThumbnail=function getThumbnail(i){var curItem=items[i];var curItemPath=[path,curItem.name].join('/');_seafileApi.seafileAPI.createThumbnail(repoID,curItemPath,thumbnailSize).then(function(res){curItem.encoded_thumbnail_src=res.data.encoded_thumbnail_src;}).catch(function(error){// do nothing\n}).then(function(){if(i<len-1){getThumbnail(++i);}else{_this.setState({direntList:direntList});}});};getThumbnail(0);};_this2.onMoveItems=function(destRepo,destDirentPath){var repoID=_this2.props.repoID;var direntPaths=_this2.getSelectedDirentPaths();var dirNames=_this2.getSelectedDirentNames();_seafileApi.seafileAPI.moveDir(repoID,destRepo.repo_id,destDirentPath,_this2.state.path,dirNames).then(function(res){var names=res.data.map(function(item){return item.obj_name;});direntPaths.forEach(function(direntPath,index){if(_this2.state.currentMode==='column'){_this2.moveTreeNode(direntPath,destDirentPath,destRepo,names[index]);}_this2.moveDirent(direntPath);});var message=(0,_constants.gettext)('Successfully moved %(name)s.');message=message.replace('%(name)s',dirNames);_toast2.default.success(message);}).catch(function(){var message=(0,_constants.gettext)('Failed to move %(name)s');message=message.replace('%(name)s',dirNames);_toast2.default.danger(message);});};_this2.onCopyItems=function(destRepo,destDirentPath){var repoID=_this2.props.repoID;var direntPaths=_this2.getSelectedDirentPaths();var dirNames=_this2.getSelectedDirentNames();_seafileApi.seafileAPI.copyDir(repoID,destRepo.repo_id,destDirentPath,_this2.state.path,dirNames).then(function(res){var names=res.data.map(function(item){return item.obj_name;});if(_this2.state.currentMode==='column'){direntPaths.forEach(function(direntPath,index){_this2.copyTreeNode(direntPath,destDirentPath,destRepo,names[index]);});}var message=(0,_constants.gettext)('Successfully copied %(name)s.');message=message.replace('%(name)s',dirNames);_toast2.default.success(message);}).catch(function(){var message=(0,_constants.gettext)('Failed to copy %(name)s');message=message.replace('%(name)s',dirNames);_toast2.default.danger(message);});};_this2.onDeleteItems=function(){var repoID=_this2.props.repoID;var direntPaths=_this2.getSelectedDirentPaths();var dirNames=_this2.getSelectedDirentNames();_seafileApi.seafileAPI.deleteMutipleDirents(repoID,_this2.state.path,dirNames).then(function(res){direntPaths.forEach(function(direntPath){if(_this2.state.currentMode==='column'){_this2.deleteTreeNode(direntPath);}_this2.deleteDirent(direntPath);});});};_this2.onAddFolder=function(dirPath){var repoID=_this2.props.repoID;_seafileApi.seafileAPI.createDir(repoID,dirPath).then(function(){var name=_utils.Utils.getFileName(dirPath);var parentPath=_utils.Utils.getDirName(dirPath);if(_this2.state.currentMode==='column'){_this2.addNodeToTree(name,parentPath,'dir');}if(parentPath===_this2.state.path&&!_this2.state.isViewFile){_this2.addDirent(name,'dir');}}).catch(function(){// return error message\n});};_this2.onAddFile=function(filePath,isDraft){var repoID=_this2.props.repoID;_seafileApi.seafileAPI.createFile(repoID,filePath,isDraft).then(function(res){var name=_utils.Utils.getFileName(filePath);var parentPath=_utils.Utils.getDirName(filePath);if(_this2.state.currentMode==='column'){_this2.addNodeToTree(name,parentPath,'file');}if(parentPath===_this2.state.path&&!_this2.state.isViewFile){_this2.addDirent(name,'file',res.data.size);}}).catch(function(){// todo\n});};_this2.switchViewMode=function(mode){if(mode===_this2.state.currentMode){return;}_reactCookies2.default.save('seafile-view-mode',mode);var path=_this2.state.path;if(_this2.state.currentMode==='column'&&_this2.state.isViewFile){path=_utils.Utils.getDirName(path);_this2.setState({path:path,isViewFile:false});var repoInfo=_this2.state.currentRepoInfo;var url=_constants.siteRoot+'library/'+repoInfo.repo_id+'/'+encodeURIComponent(repoInfo.repo_name)+_utils.Utils.encodePath(path);window.history.pushState({url:url,path:path},path,url);}if(mode==='column'){_this2.loadSidePanel(_this2.state.path);}_this2.isNeedUpdateHistoryState=false;_this2.setState({currentMode:mode});_this2.showDir(path);};_this2.onSearchedClick=function(item){var path=item.is_dir?item.path.slice(0,item.path.length-1):item.path;if(_this2.state.currentPath===path){return;}if(_this2.state.currentMode==='column'){// load sidePanel\nvar index=-1;var paths=_utils.Utils.getPaths(path);for(var i=0;i<paths.length;i++){var node=_this2.state.treeData.getNodeByPath(node);if(!node){index=i;break;}}if(index===-1){// all the data has been loaded already.\nvar _node=_this2.state.treeData.getNodeByPath(path);_this2.setState({currentNode:_node});}else{_this2.loadNodeAndParentsByPath(path);}}// load mainPanel\nif(item.is_dir){_this2.showDir(path);}else{if(_utils.Utils.isMarkdownFile(path)){_this2.showFile(path);}else{var url=_constants.siteRoot+'lib/'+item.repo_id+'/file'+_utils.Utils.encodePath(path);var newWindow=window.open('about:blank');newWindow.location.href=url;}}};_this2.onMainNavBarClick=function(nodePath){//just for dir\n_this2.resetSelected();if(_this2.state.currentMode==='column'){var tree=_this2.state.treeData.clone();var node=tree.getNodeByPath(nodePath);tree.expandNode(node);_this2.setState({treeData:tree,currentNode:node});}_this2.showDir(nodePath);};_this2.onLinkClick=function(link){var url=link;var repoID=_this2.props.repoID;if(_utils.Utils.isInternalMarkdownLink(url,repoID)){var path=_utils.Utils.getPathFromInternalMarkdownLink(url,repoID);_this2.showFile(path);}else if(_utils.Utils.isInternalDirLink(url,repoID)){var _path2=_utils.Utils.getPathFromInternalDirLink(url,repoID);_this2.showDir(_path2);}else{window.open(url);}};_this2.onMainPanelItemRename=function(dirent,newName){var path=_utils.Utils.joinPath(_this2.state.path,dirent.name);_this2.renameItem(path,dirent.isDir(),newName);};_this2.onMainPanelItemDelete=function(dirent){var path=_utils.Utils.joinPath(_this2.state.path,dirent.name);_this2.deleteItem(path,dirent.isDir());};_this2.onRenameTreeNode=function(node,newName){_this2.renameItem(node.path,node.object.isDir(),newName);};_this2.onDeleteTreeNode=function(node){_this2.deleteItem(node.path,node.object.isDir());};_this2.renameItem=function(path,isDir,newName){var repoID=_this2.props.repoID;if(isDir){_seafileApi.seafileAPI.renameDir(repoID,path,newName).then(function(){_this2.renameItemAjaxCallback(path,newName);}).catch(function(){// todo\n});}else{_seafileApi.seafileAPI.renameFile(repoID,path,newName).then(function(){_this2.renameItemAjaxCallback(path,newName);}).catch(function(){// todo\n});}};_this2.onMoveItem=function(destRepo,dirent,moveToDirentPath,nodeParentPath){var repoID=_this2.props.repoID;//just for view list state\nvar dirName=dirent.name;if(!nodeParentPath){nodeParentPath=_this2.state.path;}var direntPath=_utils.Utils.joinPath(nodeParentPath,dirName);_seafileApi.seafileAPI.moveDir(repoID,destRepo.repo_id,moveToDirentPath,nodeParentPath,dirName).then(function(res){var nodeName=res.data[0].obj_name;if(_this2.state.currentMode==='column'){_this2.moveTreeNode(direntPath,moveToDirentPath,destRepo,nodeName);}_this2.moveDirent(direntPath);var message=(0,_constants.gettext)('Successfully moved %(name)s.');message=message.replace('%(name)s',dirName);_toast2.default.success(message);}).catch(function(){var message=(0,_constants.gettext)('Failed to move %(name)s');message=message.replace('%(name)s',dirName);_toast2.default.danger(message);});};_this2.onCopyItem=function(destRepo,dirent,copyToDirentPath,nodeParentPath){var repoID=_this2.props.repoID;//just for view list state\nvar dirName=dirent.name;if(!nodeParentPath){nodeParentPath=_this2.state.path;}var direntPath=_utils.Utils.joinPath(nodeParentPath,dirName);_seafileApi.seafileAPI.copyDir(repoID,destRepo.repo_id,copyToDirentPath,nodeParentPath,dirName).then(function(res){var nodeName=res.data[0].obj_name;if(_this2.state.currentMode==='column'){_this2.copyTreeNode(direntPath,copyToDirentPath,destRepo,nodeName);}var message=(0,_constants.gettext)('Successfully copied %(name)s.');message=message.replace('%(name)s',dirName);_toast2.default.success(message);}).catch(function(){var message=(0,_constants.gettext)('Failed to copy %(name)s');message=message.replace('%(name)s',dirName);_toast2.default.danger(message);});};_this2.onDirentClick=function(dirent){_this2.resetSelected();var repoID=_this2.props.repoID;var direntPath=_utils.Utils.joinPath(_this2.state.path,dirent.name);if(dirent.isDir()){// is dir\nif(_this2.state.currentMode==='column'){_this2.loadTreeNodeByPath(direntPath);}_this2.showDir(direntPath);}else{// is file\nif(_this2.state.currentMode==='column'&&_utils.Utils.isMarkdownFile(direntPath)){_this2.showFile(direntPath);}else{var w=window.open('about:blank');var url=_constants.siteRoot+'lib/'+repoID+'/file'+_utils.Utils.encodePath(direntPath);w.location.href=url;}}};_this2.onDirentSelected=function(dirent){var direntList=_this2.state.direntList.map(function(item){if(item.name===dirent.name){item.isSelected=!item.isSelected;}return item;});var selectedDirentList=direntList.filter(function(item){return item.isSelected;});if(selectedDirentList.length){_this2.setState({isDirentSelected:true});if(selectedDirentList.length===direntList.length){_this2.setState({isAllDirentSelected:true,direntList:direntList,selectedDirentList:selectedDirentList});}else{_this2.setState({isAllDirentSelected:false,direntList:direntList,selectedDirentList:selectedDirentList});}}else{_this2.setState({isDirentSelected:false,isAllDirentSelected:false,direntList:direntList,selectedDirentList:[]});}};_this2.onAllDirentSelected=function(){if(_this2.state.isAllDirentSelected){var direntList=_this2.state.direntList.map(function(item){item.isSelected=false;return item;});_this2.setState({isDirentSelected:false,isAllDirentSelected:false,direntList:direntList,selectedDirentList:[]});}else{var _direntList=_this2.state.direntList.map(function(item){item.isSelected=true;return item;});_this2.setState({isDirentSelected:true,isAllDirentSelected:true,direntList:_direntList,selectedDirentList:_direntList});}};_this2.onFileTagChanged=function(dirent,direntPath){var repoID=_this2.props.repoID;_seafileApi.seafileAPI.listFileTags(repoID,direntPath).then(function(res){var fileTags=res.data.file_tags.map(function(item){return new _fileTag2.default(item);});_this2.updateDirent(dirent,'file_tags',fileTags);});_this2.updateUsedRepoTags();};_this2.onFileUploadSuccess=function(direntObject){var isExist=_this2.state.direntList.some(function(item){return item.name===direntObject.name&&item.type===direntObject.type;});if(isExist){var direntList=_this2.state.direntList;for(var i=0;i<direntList.length;i++){var dirent=direntList[i];if(dirent.name===direntObject.name&&dirent.type===direntObject.type){var mtime=_moment2.default.unix(direntObject.mtime).fromNow();_this2.updateDirent(dirent,'mtime',mtime);// todo file size is need update too, api is not return;\nbreak;}}}else{direntObject.permission='rw';var _dirent=new _dirent3.default(direntObject);if(_this2.state.currentMode==='column'){_this2.addNodeToTree(_dirent.name,_this2.state.path,_dirent.type);}if(direntObject.type==='dir'){_this2.setState({direntList:[_dirent].concat(_toConsumableArray(_this2.state.direntList))});}else{_this2.setState({direntList:[].concat(_toConsumableArray(_this2.state.direntList),[_dirent])});_this2.updateReadmeMarkdown(_this2.state.direntList);}}};_this2.addDirent=function(name,type,size){var item=_this2.createDirent(name,type,size);var direntList=_this2.state.direntList;if(type==='dir'){direntList.unshift(item);}else{// there will be there conditions;\n// first: direntList.length === 0;\n// second: all the direntList's items are dir;\n// third: direntList has dir and file;\nvar length=direntList.length;if(length===0||direntList[length-1].type==='dir'){direntList.push(item);}else{var index=0;for(var i=0;i<=length;i++){if(direntList[i].type==='file'){index=i;break;}}direntList.splice(index,0,item);}}_this2.setState({direntList:direntList});_this2.updateReadmeMarkdown(direntList);};_this2.renameDirent=function(direntPath,newName){var repoID=_this2.props.repoID;var parentPath=_utils.Utils.getDirName(direntPath);var newDirentPath=_utils.Utils.joinPath(parentPath,newName);if(direntPath===_this2.state.path){// the renamed item is current viewed item\n// example: direntPath = /A/B/C, state.path = /A/B/C\n_this2.setState({path:newDirentPath});var repoInfo=_this2.state.currentRepoInfo;var url=_constants.siteRoot+'library/'+repoID+'/'+encodeURIComponent(repoInfo.repo_name)+newDirentPath;window.history.replaceState({url:url,path:newDirentPath},newDirentPath,url);}else if(_utils.Utils.isChildPath(direntPath,_this2.state.path)){// example: direntPath = /A/B/C/D, state.path = /A/B/C\nvar oldName=_utils.Utils.getFileName(direntPath);var direntList=_this2.state.direntList.map(function(item){if(item.name===oldName){item.name=newName;}return item;});_this2.setState({direntList:direntList});_this2.updateReadmeMarkdown(direntList);}else if(_utils.Utils.isAncestorPath(direntPath,_this2.state.path)){// example: direntPath = /A/B, state.path = /A/B/C\nvar newPath=_utils.Utils.renameAncestorPath(_this2.state.path,direntPath,newDirentPath);_this2.setState({path:newPath});var _repoInfo=_this2.state.currentRepoInfo;var _url=_constants.siteRoot+'library/'+repoID+'/'+encodeURIComponent(_repoInfo.repo_name)+newPath;window.history.replaceState({url:_url,path:newPath},newPath,_url);}};_this2.moveDirent=function(direntPath){var name=direntPath.slice(direntPath.lastIndexOf('/')+1);var direntList=_this2.state.direntList.filter(function(item){return item.name!==name;});_this2.setState({direntList:direntList});_this2.updateReadmeMarkdown(direntList);};_this2.updateDirent=function(dirent,paramKey,paramValue){var newDirentList=_this2.state.direntList.map(function(item){if(item.name===dirent.name){item[paramKey]=paramValue;}return item;});_this2.setState({direntList:newDirentList});};_this2.loadTreeNodeByPath=function(path){var repoID=_this2.props.repoID;var tree=_this2.state.treeData.clone();var node=tree.getNodeByPath(path);if(!node.isLoaded){_seafileApi.seafileAPI.listDir(repoID,node.path).then(function(res){_this2.addResponseListToNode(res.data.dirent_list,node);var parentNode=tree.getNodeByPath(node.parentNode.path);parentNode.isExpanded=true;_this2.setState({treeData:tree,currentNode:node});});}else{var parentNode=tree.getNodeByPath(node.parentNode.path);parentNode.isExpanded=true;_this2.setState({treeData:tree,currentNode:node});//tree\n}};_this2.loadNodeAndParentsByPath=function(path){var repoID=_this2.props.repoID;var tree=_this2.state.treeData.clone();if(_utils.Utils.isMarkdownFile(path)){path=_utils.Utils.getDirName(path);}_seafileApi.seafileAPI.listDir(repoID,path,{with_parents:true}).then(function(res){var direntList=res.data.dirent_list;var results={};for(var i=0;i<direntList.length;i++){var object=direntList[i];var key=object.parent_dir;if(!results[key]){results[key]=[];}results[key].push(object);}for(var _key in results){var node=tree.getNodeByPath(_key);if(!node.isLoaded){_this2.addResponseListToNode(results[_key],node);}}_this2.setState({isTreeDataLoading:false,treeData:tree});}).catch(function(){_this2.setState({isLoadFailed:true});});};_this2.onTreeNodeClick=function(node){_this2.resetSelected();var repoID=_this2.props.repoID;if(!_this2.state.pathExist){_this2.setState({pathExist:true});}if(node.object.isDir()){var isLoaded=node.isLoaded;if(!node.isLoaded){var tree=_this2.state.treeData.clone();node=tree.getNodeByPath(node.path);_seafileApi.seafileAPI.listDir(repoID,node.path).then(function(res){_this2.addResponseListToNode(res.data.dirent_list,node);tree.collapseNode(node);_this2.setState({treeData:tree});});}if(isLoaded&&node.path===_this2.state.path){if(node.isExpanded){var _tree=_treeHelper2.default.collapseNode(_this2.state.treeData,node);_this2.setState({treeData:_tree});}else{var _tree2=_this2.state.treeData.clone();node=_tree2.getNodeByPath(node.path);_tree2.expandNode(node);_this2.setState({treeData:_tree2});}}}if(node.path===_this2.state.path){return;}if(node.object.isDir()){// isDir\n_this2.showDir(node.path);}else{if(_utils.Utils.isMarkdownFile(node.path)){if(node.path!==_this2.state.path){_this2.showFile(node.path);}}else{var w=window.open('about:blank');var url=_constants.siteRoot+'lib/'+repoID+'/file'+_utils.Utils.encodePath(node.path);w.location.href=url;}}};_this2.onTreeNodeCollapse=function(node){var tree=_treeHelper2.default.collapseNode(_this2.state.treeData,node);_this2.setState({treeData:tree});};_this2.onTreeNodeExpanded=function(node){var repoID=_this2.props.repoID;var tree=_this2.state.treeData.clone();node=tree.getNodeByPath(node.path);if(!node.isLoaded){_seafileApi.seafileAPI.listDir(repoID,node.path).then(function(res){_this2.addResponseListToNode(res.data.dirent_list,node);_this2.setState({treeData:tree});});}else{tree.expandNode(node);_this2.setState({treeData:tree});}};_this2.addNodeToTree=function(name,parentPath,type){var node=_this2.createTreeNode(name,type);var tree=_treeHelper2.default.addNodeToParentByPath(_this2.state.treeData,node,parentPath);_this2.setState({treeData:tree});};_this2.renameTreeNode=function(path,newName){var tree=_treeHelper2.default.renameNodeByPath(_this2.state.treeData,path,newName);_this2.setState({treeData:tree});};_this2.deleteTreeNode=function(path){var tree=_treeHelper2.default.deleteNodeByPath(_this2.state.treeData,path);_this2.setState({treeData:tree});};_this2.moveTreeNode=function(nodePath,moveToPath,moveToRepo,nodeName){var repoID=_this2.props.repoID;if(repoID!==moveToRepo.repo_id){var _tree3=_treeHelper2.default.deleteNodeByPath(_this2.state.treeData,nodePath);_this2.setState({treeData:_tree3});return;}var tree=_treeHelper2.default.moveNodeByPath(_this2.state.treeData,nodePath,moveToPath,nodeName);_this2.setState({treeData:tree});};_this2.copyTreeNode=function(nodePath,copyToPath,destRepo,nodeName){var repoID=_this2.props.repoID;if(repoID!==destRepo.repo_id){return;}var tree=_treeHelper2.default.copyNodeByPath(_this2.state.treeData,nodePath,copyToPath,nodeName);_this2.setState({treeData:tree});};_this2.addResponseListToNode=function(list,node){node.isLoaded=true;node.isExpanded=true;var direntList=list.map(function(item){return new _dirent3.default(item);});direntList=_utils.Utils.sortDirents(direntList,'name','asc');var nodeList=direntList.map(function(object){return new _treeNode2.default({object:object});});node.addChildren(nodeList);};_this2.getSelectedDirentPaths=function(){var paths=[];_this2.state.selectedDirentList.forEach(function(selectedDirent){paths.push(_utils.Utils.joinPath(_this2.state.path,selectedDirent.name));});return paths;};_this2.getSelectedDirentNames=function(){var names=[];_this2.state.selectedDirentList.forEach(function(selectedDirent){names.push(selectedDirent.name);});return names;};_this2.resetSelected=function(){_this2.setState({isDirentSelected:false,isAllDirentSelected:false});};_this2.onLibDecryptDialog=function(){_this2.setState({libNeedDecrypt:false});_this2.loadDirData(_this2.state.path);};_this2.goDraftPage=function(){window.location.href=_constants.siteRoot+'drafts/'+_this2.state.draftID+'/';};_this2.sortItems=function(sortBy,sortOrder){_reactCookies2.default.save('seafile-dir-sort-by',sortBy);_reactCookies2.default.save('seafile-dir-sort-order',sortOrder);_this2.setState({sortBy:sortBy,sortOrder:sortOrder,items:_utils.Utils.sortDirents(_this2.state.direntList,sortBy,sortOrder)});};_this2.onUploadFile=function(e){e.nativeEvent.stopImmediatePropagation();_this2.uploader.onFileUpload();};_this2.onUploadFolder=function(e){e.nativeEvent.stopImmediatePropagation();_this2.uploader.onFolderUpload();};_this2.onToolbarFileTagChanged=function(){var repoID=_this2.props.repoID;var filePath=_this2.state.path;_seafileApi.seafileAPI.listFileTags(repoID,filePath).then(function(res){var fileTags=res.data.file_tags.map(function(item){return new _fileTag2.default(item);});_this2.setState({fileTags:fileTags});});};_this2.onToolbarRelatedFileChange=function(){var repoID=_this2.props.repoID;var filePath=_this2.state.path;_seafileApi.seafileAPI.listRelatedFiles(repoID,filePath).then(function(res){var relatedFiles=res.data.related_files.map(function(relatedFile){return relatedFile;});_this2.setState({relatedFiles:relatedFiles});}).catch(function(error){if(error.response.status===500){_this2.setState({relatedFiles:[]});}});};_this2.unSelectDirent=function(){_this2.setState({isDirentSelected:false,selectedDirentList:[]});var dirent={};_this2.onDirentSelected(dirent);};_this2.onDeleteRepoTag=function(deletedTagID){var direntList=_this2.state.direntList.map(function(dirent){if(dirent.file_tags){var fileTags=dirent.file_tags.filter(function(item){return item.repo_tag_id!==deletedTagID;});dirent.file_tags=fileTags;}return dirent;});_this2.setState({direntList:direntList});_this2.updateUsedRepoTags();};_this2.state={currentMode:_reactCookies2.default.load('seafile-view-mode')||'list',path:'',pathExist:true,isViewFile:false,hash:'',currentRepoInfo:null,repoName:'',repoPermission:true,repoEncrypted:false,libNeedDecrypt:false,isGroupOwnedRepo:false,userPerm:'',selectedDirentList:[],isDraft:false,hasDraft:false,fileTags:[],relatedFiles:[],draftID:'',draftCounts:0,usedRepoTags:[],readmeMarkdown:null,isTreeDataLoading:true,treeData:_treeHelper2.default.buildTree(),currentNode:null,isFileLoading:true,isFileLoadedErr:false,filePermission:true,content:'',lastModified:'',latestContributor:'',isDirentListLoading:true,direntList:[],isDirentSelected:false,sortBy:_reactCookies2.default.load('seafile-dir-sort-by')||'name',// 'name' or 'time'\nsortOrder:_reactCookies2.default.load('seafile-dir-sort-order')||'asc',// 'asc' or 'desc'\nisAllDirentSelected:false,dirID:'',// for update dir list\nerrorMsg:'',isDirentDetailShow:false};window.onpopstate=_this2.onpopstate;_this2.lastModifyTime=new Date();_this2.isNeedUpdateHistoryState=true;// Load, refresh page, switch mode for the first time, no need to set historyState\nreturn _this2;}_createClass(LibContentView,[{key:'componentWillMount',value:function componentWillMount(){var hash=window.location.hash;if(hash.slice(0,1)==='#'){this.setState({hash:hash});}}},{key:'componentDidMount',value:function componentDidMount(){var _this3=this;// eg: http://127.0.0.1:8000/library/repo_id/repo_name/**/**/\\\nvar repoID=this.props.repoID;var location=window.location.href.split('#')[0];location=decodeURIComponent(location);_seafileApi.seafileAPI.getRepoInfo(repoID).then(function(res){var repoInfo=new _repoInfo3.default(res.data);_this3.setState({currentRepoInfo:repoInfo,repoName:repoInfo.repo_name,libNeedDecrypt:repoInfo.lib_need_decrypt,repoEncrypted:repoInfo.encrypted,repoPermission:repoInfo.permission==='rw'});var repoID=repoInfo.repo_id;var path=location.slice(location.indexOf(repoID)+repoID.length+1);// get the string after repoID\npath=path.slice(path.indexOf('/'));// get current path\n_this3.isNeedUpdateHistoryState=false;_this3.setState({path:path});if(!repoInfo.lib_need_decrypt){_this3.loadDirData(path);}}).catch(function(error){if(error.response){if(error.response.status==403){_this3.setState({isDirentListLoading:false,errorMsg:(0,_constants.gettext)('Permission denied')});}else{_this3.setState({isDirentListLoading:false,errorMsg:(0,_constants.gettext)('Error')});}}else{_this3.setState({isDirentListLoading:false,errorMsg:(0,_constants.gettext)('Please check the network.')});}});}},{key:'componentWillUnmount',value:function componentWillUnmount(){_collabServer2.default.unwatchRepo(this.props.repoID,this.onRepoUpdateEvent);}},{key:'componentDidUpdate',value:function componentDidUpdate(){this.lastModifyTime=new Date();}// load data\n// toolbar operations\n// list&tree operations\n},{key:'renameItemAjaxCallback',value:function renameItemAjaxCallback(path,newName){if(this.state.currentMode==='column'){this.renameTreeNode(path,newName);}this.renameDirent(path,newName);}},{key:'deleteItem',value:function deleteItem(path,isDir){var _this4=this;var repoID=this.props.repoID;if(isDir){_seafileApi.seafileAPI.deleteDir(repoID,path).then(function(){_this4.deleteItemAjaxCallback(path,isDir);}).catch(function(){// todo\n});}else{_seafileApi.seafileAPI.deleteFile(repoID,path).then(function(){_this4.deleteItemAjaxCallback(path,isDir);}).catch(function(){// todo\n});}}},{key:'deleteItemAjaxCallback',value:function deleteItemAjaxCallback(path){if(this.state.currentMode==='column'){this.deleteTreeNode(path);}this.deleteDirent(path);}// list operations\n},{key:'deleteDirent',value:function deleteDirent(direntPath){if(direntPath===this.state.path){// The deleted item is current item\nvar parentPath=_utils.Utils.getDirName(direntPath);this.showDir(parentPath);}else if(_utils.Utils.isChildPath(direntPath,this.state.path)){// The deleted item is inside current path\nvar name=_utils.Utils.getFileName(direntPath);var direntList=this.state.direntList.filter(function(item){return item.name!==name;});this.setState({direntList:direntList});this.updateReadmeMarkdown(direntList);}else if(_utils.Utils.isAncestorPath(direntPath,this.state.path)){// the deleted item is ancester of the current item\nvar _parentPath=_utils.Utils.getDirName(direntPath);this.showDir(_parentPath);}// else do nothing\n}// tree operations\n},{key:'createTreeNode',value:function createTreeNode(name,type){var object=this.createDirent(name,type);return new _treeNode2.default({object:object});}},{key:'createDirent',value:function createDirent(name,type,size){var mtime=new Date().getTime()/1000;var dirent=new _dirent3.default({name:name,type:type,mtime:mtime,size:size});return dirent;}},{key:'render',value:function render(){var _this5=this;if(this.state.libNeedDecrypt){return _react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_libDecryptDialog2.default,{repoID:this.props.repoID,onLibDecryptDialog:this.onLibDecryptDialog}));}if(!this.state.currentRepoInfo){return'';}var showShareBtn=false;var enableDirPrivateShare=false;var _state=this.state,currentRepoInfo=_state.currentRepoInfo,repoEncrypted=_state.repoEncrypted,userPerm=_state.userPerm;var isAdmin=currentRepoInfo.is_admin;var isVirtual=currentRepoInfo.is_virtual;var isRepoOwner=currentRepoInfo.owner_email===_constants.username;if(!repoEncrypted){var showGenerateShareLinkTab=false;if(_constants.canGenerateShareLink&&(userPerm=='rw'||userPerm=='r')){showGenerateShareLinkTab=true;}var showGenerateUploadLinkTab=false;if(_constants.canGenerateUploadLink&&userPerm=='rw'){showGenerateUploadLinkTab=true;}if(!isVirtual&&(isRepoOwner||isAdmin)){enableDirPrivateShare=true;}if(showGenerateShareLinkTab||showGenerateUploadLinkTab||enableDirPrivateShare){showShareBtn=true;}}return _react2.default.createElement('div',{className:'main-panel o-hidden'},_react2.default.createElement('div',{className:'main-panel-north border-left-show'},_react2.default.createElement(_libContentToolbar2.default,{isViewFile:this.state.isViewFile,filePermission:this.state.filePermission,isDraft:this.state.isDraft,hasDraft:this.state.hasDraft,fileTags:this.state.fileTags,relatedFiles:this.state.relatedFiles,onFileTagChanged:this.onToolbarFileTagChanged,onRelatedFileChange:this.onToolbarRelatedFileChange,onSideNavMenuClick:this.props.onMenuClick,repoID:this.props.repoID,path:this.state.path,isDirentSelected:this.state.isDirentSelected,selectedDirentList:this.state.selectedDirentList,onItemsMove:this.onMoveItems,onItemsCopy:this.onCopyItems,onItemsDelete:this.onDeleteItems,direntList:this.state.direntList,repoName:this.state.repoName,repoEncrypted:this.state.repoEncrypted,isGroupOwnedRepo:this.state.isGroupOwnedRepo,userPerm:this.state.userPerm,showShareBtn:showShareBtn,enableDirPrivateShare:enableDirPrivateShare,onAddFile:this.onAddFile,onAddFolder:this.onAddFolder,onUploadFile:this.onUploadFile,onUploadFolder:this.onUploadFolder,currentMode:this.state.currentMode,switchViewMode:this.switchViewMode,onSearchedClick:this.onSearchedClick,isRepoOwner:isRepoOwner,currentRepoInfo:this.state.currentRepoInfo,updateDirent:this.updateDirent,onDirentSelected:this.onDirentSelected,showDirentDetail:this.showDirentDetail,listRelatedFiles:this.listRelatedFiles,unSelectDirent:this.unSelectDirent,onFilesTagChanged:this.onFileTagChanged})),_react2.default.createElement('div',{className:'main-panel-center flex-row'},_react2.default.createElement(_libContentContainer2.default,{pathPrefix:this.props.pathPrefix,currentMode:this.state.currentMode,path:this.state.path,pathExist:this.state.pathExist,currentRepoInfo:this.state.currentRepoInfo,repoID:this.props.repoID,repoPermission:this.state.repoPermission,enableDirPrivateShare:enableDirPrivateShare,userPerm:userPerm,isGroupOwnedRepo:this.state.isGroupOwnedRepo,onTabNavClick:this.props.onTabNavClick,onMainNavBarClick:this.onMainNavBarClick,isViewFile:this.state.isViewFile,hash:this.state.hash,isDraft:this.state.isDraft,hasDraft:this.state.hasDraft,fileTags:this.state.fileTags,relatedFiles:this.state.relatedFiles,goDraftPage:this.goDraftPage,isFileLoading:this.state.isFileLoading,isFileLoadedErr:this.state.isFileLoadedErr,filePermission:this.state.filePermission,content:this.state.content,lastModified:this.state.lastModified,latestContributor:this.state.latestContributor,onLinkClick:this.onLinkClick,isTreeDataLoading:this.state.isTreeDataLoading,treeData:this.state.treeData,currentNode:this.state.currentNode,onNodeClick:this.onTreeNodeClick,onNodeCollapse:this.onTreeNodeCollapse,onNodeExpanded:this.onTreeNodeExpanded,onAddFolderNode:this.onAddFolder,onAddFileNode:this.onAddFile,onRenameNode:this.onRenameTreeNode,onDeleteNode:this.onDeleteTreeNode,draftCounts:this.state.draftCounts,usedRepoTags:this.state.usedRepoTags,readmeMarkdown:this.state.readmeMarkdown,updateUsedRepoTags:this.updateUsedRepoTags,isDirentListLoading:this.state.isDirentListLoading,direntList:this.state.direntList,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems,updateDirent:this.updateDirent,onItemClick:this.onDirentClick,onItemSelected:this.onDirentSelected,onItemDelete:this.onMainPanelItemDelete,onItemRename:this.onMainPanelItemRename,onItemMove:this.onMoveItem,onItemCopy:this.onCopyItem,onAddFolder:this.onAddFolder,onAddFile:this.onAddFile,onFileTagChanged:this.onFileTagChanged,isDirentSelected:this.state.isDirentSelected,isAllDirentSelected:this.state.isAllDirentSelected,onAllDirentSelected:this.onAllDirentSelected,isDirentDetailShow:this.state.isDirentDetailShow,selectedDirent:this.state.selectedDirentList&&this.state.selectedDirentList[0],closeDirentDetail:this.closeDirentDetail,showDirentDetail:this.showDirentDetail,onDeleteRepoTag:this.onDeleteRepoTag}),this.state.pathExist&&!this.state.isViewFile&&_react2.default.createElement(_fileUploader2.default,{ref:function ref(uploader){return _this5.uploader=uploader;},dragAndDrop:true,path:this.state.path,repoID:this.props.repoID,direntList:this.state.direntList,onFileUploadSuccess:this.onFileUploadSuccess})));}}]);return LibContentView;}(_react2.default.Component);LibContentView.propTypes=propTypes;exports.default=LibContentView;\n\n/***/ }),\n\n/***/ 1218:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _commonToolbar=__webpack_require__(80);var _commonToolbar2=_interopRequireDefault(_commonToolbar);var _viewModeToolbar=__webpack_require__(279);var _viewModeToolbar2=_interopRequireDefault(_viewModeToolbar);var _dirOperationToolbar=__webpack_require__(280);var _dirOperationToolbar2=_interopRequireDefault(_dirOperationToolbar);var _mutilpleDirOperationToolbar=__webpack_require__(281);var _mutilpleDirOperationToolbar2=_interopRequireDefault(_mutilpleDirOperationToolbar);var _viewFileToolbar=__webpack_require__(1219);var _viewFileToolbar2=_interopRequireDefault(_viewFileToolbar);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isViewFile:_propTypes2.default.bool.isRequired,filePermission:_propTypes2.default.bool.isRequired,// ture = 'rw'\nisDraft:_propTypes2.default.bool.isRequired,hasDraft:_propTypes2.default.bool.isRequired,fileTags:_propTypes2.default.array.isRequired,relatedFiles:_propTypes2.default.array.isRequired,onFileTagChanged:_propTypes2.default.func.isRequired,// for file-view-toolbar\nonRelatedFileChange:_propTypes2.default.func.isRequired,// side-panel\nonSideNavMenuClick:_propTypes2.default.func.isRequired,// mutiple-dir\nisDirentSelected:_propTypes2.default.bool.isRequired,repoID:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,selectedDirentList:_propTypes2.default.array.isRequired,onItemsMove:_propTypes2.default.func.isRequired,onItemsCopy:_propTypes2.default.func.isRequired,onItemsDelete:_propTypes2.default.func.isRequired,// dir\ndirentList:_propTypes2.default.array.isRequired,repoName:_propTypes2.default.string.isRequired,repoEncrypted:_propTypes2.default.bool.isRequired,isGroupOwnedRepo:_propTypes2.default.bool.isRequired,userPerm:_propTypes2.default.string.isRequired,showShareBtn:_propTypes2.default.bool.isRequired,enableDirPrivateShare:_propTypes2.default.bool.isRequired,onAddFile:_propTypes2.default.func.isRequired,onAddFolder:_propTypes2.default.func.isRequired,onUploadFile:_propTypes2.default.func.isRequired,onUploadFolder:_propTypes2.default.func.isRequired,// view-mode\ncurrentMode:_propTypes2.default.string.isRequired,switchViewMode:_propTypes2.default.func.isRequired,// search\nonSearchedClick:_propTypes2.default.func.isRequired,isRepoOwner:_propTypes2.default.bool.isRequired,// selected menu\nonDirentSelected:_propTypes2.default.func.isRequired,showDirentDetail:_propTypes2.default.func.isRequired,onFilesTagChanged:_propTypes2.default.func.isRequired,// for mutiple select toolbar\nupdateDirent:_propTypes2.default.func.isRequired};var LibContentToolbar=function(_React$Component){_inherits(LibContentToolbar,_React$Component);function LibContentToolbar(){_classCallCheck(this,LibContentToolbar);return _possibleConstructorReturn(this,(LibContentToolbar.__proto__||Object.getPrototypeOf(LibContentToolbar)).apply(this,arguments));}_createClass(LibContentToolbar,[{key:'render',value:function render(){if(this.props.isViewFile){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'cur-view-toolbar'},_react2.default.createElement('span',{className:'sf2-icon-menu hidden-md-up d-md-none side-nav-toggle',title:(0,_constants.gettext)('Side Nav Menu'),onClick:this.props.onSideNavMenuClick}),_react2.default.createElement(_viewFileToolbar2.default,{path:this.props.path,repoID:this.props.repoID,userPerm:this.props.userPerm,repoEncrypted:this.props.repoEncrypted,enableDirPrivateShare:this.props.enableDirPrivateShare,isGroupOwnedRepo:this.props.isGroupOwnedRepo,filePermission:this.props.filePermission,isDraft:this.props.isDraft,hasDraft:this.props.hasDraft,fileTags:this.props.fileTags,relatedFiles:this.props.relatedFiles,onFileTagChanged:this.props.onFileTagChanged,onRelatedFileChange:this.props.onRelatedFileChange}),_react2.default.createElement(_viewModeToolbar2.default,{currentMode:this.props.currentMode,switchViewMode:this.props.switchViewMode})),_react2.default.createElement(_commonToolbar2.default,{repoID:this.props.repoID,onSearchedClick:this.props.onSearchedClick,searchPlaceholder:(0,_constants.gettext)('Search files in this library')}));}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'cur-view-toolbar'},_react2.default.createElement('span',{className:'sf2-icon-menu hidden-md-up d-md-none side-nav-toggle',title:(0,_constants.gettext)('Side Nav Menu'),onClick:this.props.onSideNavMenuClick}),_react2.default.createElement('div',{className:'dir-operation'},this.props.isDirentSelected?_react2.default.createElement(_mutilpleDirOperationToolbar2.default,{repoID:this.props.repoID,path:this.props.path,repoEncrypted:this.props.repoEncrypted,selectedDirentList:this.props.selectedDirentList,onItemsMove:this.props.onItemsMove,onItemsCopy:this.props.onItemsCopy,onItemsDelete:this.props.onItemsDelete,isRepoOwner:this.props.isRepoOwner,currentRepoInfo:this.props.currentRepoInfo,enableDirPrivateShare:this.props.enableDirPrivateShare,updateDirent:this.props.updateDirent,onDirentSelected:this.props.onDirentSelected,showDirentDetail:this.props.showDirentDetail,relatedFiles:this.props.relatedFiles,unSelectDirent:this.props.unSelectDirent,onFilesTagChanged:this.props.onFilesTagChanged}):_react2.default.createElement(_dirOperationToolbar2.default,{path:this.props.path,repoID:this.props.repoID,repoName:this.props.repoName,repoEncrypted:this.props.repoEncrypted,direntList:this.props.direntList,showShareBtn:this.props.showShareBtn,enableDirPrivateShare:this.props.enableDirPrivateShare,userPerm:this.props.userPerm,isGroupOwnedRepo:this.props.isGroupOwnedRepo,onAddFile:this.props.onAddFile,onAddFolder:this.props.onAddFolder,onUploadFile:this.props.onUploadFile,onUploadFolder:this.props.onUploadFolder})),_react2.default.createElement(_viewModeToolbar2.default,{currentMode:this.props.currentMode,switchViewMode:this.props.switchViewMode})),_react2.default.createElement(_commonToolbar2.default,{repoID:this.props.repoID,onSearchedClick:this.props.onSearchedClick,searchPlaceholder:(0,_constants.gettext)('Search files in this library')}));}}]);return LibContentToolbar;}(_react2.default.Component);LibContentToolbar.propTypes=propTypes;exports.default=LibContentToolbar;\n\n/***/ }),\n\n/***/ 1219:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _utils=__webpack_require__(4);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _shareDialog=__webpack_require__(25);var _shareDialog2=_interopRequireDefault(_shareDialog);var _editFiletagDialog=__webpack_require__(106);var _editFiletagDialog2=_interopRequireDefault(_editFiletagDialog);var _relatedFileDialogs=__webpack_require__(107);var _relatedFileDialogs2=_interopRequireDefault(_relatedFileDialogs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,userPerm:_propTypes2.default.string.isRequired,repoEncrypted:_propTypes2.default.bool.isRequired,enableDirPrivateShare:_propTypes2.default.bool.isRequired,isGroupOwnedRepo:_propTypes2.default.bool.isRequired,filePermission:_propTypes2.default.bool.isRequired,isDraft:_propTypes2.default.bool.isRequired,hasDraft:_propTypes2.default.bool.isRequired,fileTags:_propTypes2.default.array.isRequired,relatedFiles:_propTypes2.default.array.isRequired,onFileTagChanged:_propTypes2.default.func.isRequired,onRelatedFileChange:_propTypes2.default.func.isRequired};var ViewFileToolbar=function(_React$Component){_inherits(ViewFileToolbar,_React$Component);function ViewFileToolbar(props){_classCallCheck(this,ViewFileToolbar);var _this=_possibleConstructorReturn(this,(ViewFileToolbar.__proto__||Object.getPrototypeOf(ViewFileToolbar)).call(this,props));_this.onEditClick=function(e){e.preventDefault();var _this$props=_this.props,path=_this$props.path,repoID=_this$props.repoID;var url=_constants.siteRoot+'lib/'+repoID+'/file'+_utils.Utils.encodePath(path)+'?mode=edit';window.open(url);};_this.onNewDraft=function(e){e.preventDefault();var _this$props2=_this.props,path=_this$props2.path,repoID=_this$props2.repoID;_seafileApi.seafileAPI.createDraft(repoID,path).then(function(res){window.location.href=_constants.siteRoot+'lib/'+res.data.origin_repo_id+'/file'+res.data.draft_file_path+'?mode=edit';});};_this.onDraftHover=function(){_this.setState({isDraftMessageShow:!_this.state.isDraftMessageShow});};_this.toggleMore=function(){_this.setState({isMoreMenuShow:!_this.state.isMoreMenuShow});};_this.onShareToggle=function(){_this.setState({isShareDialogShow:!_this.state.isShareDialogShow});};_this.onEditFileTagToggle=function(){_this.setState({isEditTagDialogShow:!_this.state.isEditTagDialogShow});};_this.onListRelatedFileToggle=function(){_this.setState({isRelatedFileDialogShow:true,showRelatedFileDialog:true});};_this.toggleCancel=function(){_this.setState({isRelatedFileDialogShow:false,showRelatedFileDialog:false});};_this.state={isDraftMessageShow:false,isMoreMenuShow:false,isShareDialogShow:false,isEditTagDialogShow:false,isRelatedFileDialogShow:false,showRelatedFileDialog:false};return _this;}_createClass(ViewFileToolbar,[{key:'render',value:function render(){var name=_utils.Utils.getFileName(this.props.path);var dirent={name:name};return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'dir-operation'},this.props.filePermission&&!this.props.hasDraft&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('button',{className:'btn btn-secondary operation-item',title:(0,_constants.gettext)('Edit File'),onClick:this.onEditClick},(0,_constants.gettext)('Edit'))),!this.props.isDraft&&!this.props.hasDraft&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('button',{id:'new-draft',className:'btn btn-secondary operation-item',onClick:this.onNewDraft},(0,_constants.gettext)('New Draft')),_react2.default.createElement(_reactstrap.Tooltip,{target:'new-draft',placement:'bottom',isOpen:this.state.isDraftMessageShow,toggle:this.onDraftHover},(0,_constants.gettext)('Create a draft from this file, instead of editing it directly.'))),this.props.filePermission&&_react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.isMoreMenuShow,toggle:this.toggleMore},_react2.default.createElement(_reactstrap.DropdownToggle,{className:'btn btn-secondary operation-item'},(0,_constants.gettext)('More')),_react2.default.createElement(_reactstrap.DropdownMenu,null,_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.onShareToggle},(0,_constants.gettext)('Share')),_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.onEditFileTagToggle},(0,_constants.gettext)('Tags')),_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.onListRelatedFileToggle},(0,_constants.gettext)('Related Files'))))),this.state.isShareDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_shareDialog2.default,{itemType:'file',itemName:_utils.Utils.getFileName(this.props.path),itemPath:this.props.path,repoID:this.props.repoID,repoEncrypted:this.props.repoEncrypted,enableDirPrivateShare:this.props.enableDirPrivateShare,userPerm:this.props.userPerm,isGroupOwnedRepo:this.props.isGroupOwnedRepo,toggleDialog:this.onShareToggle})),this.state.isEditTagDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_editFiletagDialog2.default,{filePath:this.props.path,repoID:this.props.repoID,fileTagList:this.props.fileTags,toggleCancel:this.onEditFileTagToggle,onFileTagChanged:this.props.onFileTagChanged})),this.state.showRelatedFileDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_relatedFileDialogs2.default,{repoID:this.props.repoID,filePath:this.props.path,relatedFiles:this.props.relatedFiles,toggleCancel:this.toggleCancel,onRelatedFileChange:this.props.onRelatedFileChange,dirent:dirent,viewMode:'list_related_file'})));}}]);return ViewFileToolbar;}(_react2.default.Component);ViewFileToolbar.propTypes=propTypes;exports.default=ViewFileToolbar;\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 1220:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _curDirPath=__webpack_require__(284);var _curDirPath2=_interopRequireDefault(_curDirPath);var _direntDetails=__webpack_require__(297);var _direntDetails2=_interopRequireDefault(_direntDetails);var _dirListView=__webpack_require__(525);var _dirListView2=_interopRequireDefault(_dirListView);var _dirGridView=__webpack_require__(1221);var _dirGridView2=_interopRequireDefault(_dirGridView);var _dirColumnView=__webpack_require__(1222);var _dirColumnView2=_interopRequireDefault(_dirColumnView);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={pathPrefix:_propTypes2.default.array.isRequired,currentMode:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,pathExist:_propTypes2.default.bool.isRequired,// repoinfo\ncurrentRepoInfo:_propTypes2.default.object.isRequired,repoID:_propTypes2.default.string.isRequired,repoPermission:_propTypes2.default.bool.isRequired,enableDirPrivateShare:_propTypes2.default.bool.isRequired,userPrem:_propTypes2.default.bool,isGroupOwnedRepo:_propTypes2.default.bool.isRequired,// path func\nonTabNavClick:_propTypes2.default.func.isRequired,onMainNavBarClick:_propTypes2.default.func.isRequired,// file\nisViewFile:_propTypes2.default.bool.isRequired,isFileLoadedErr:_propTypes2.default.bool.isRequired,hash:_propTypes2.default.string,isDraft:_propTypes2.default.bool.isRequired,hasDraft:_propTypes2.default.bool.isRequired,fileTags:_propTypes2.default.array.isRequired,goDraftPage:_propTypes2.default.func.isRequired,isFileLoading:_propTypes2.default.bool.isRequired,filePermission:_propTypes2.default.bool.isRequired,content:_propTypes2.default.string,lastModified:_propTypes2.default.string,latestContributor:_propTypes2.default.string,onLinkClick:_propTypes2.default.func.isRequired,// tree\nisTreeDataLoading:_propTypes2.default.bool.isRequired,treeData:_propTypes2.default.object.isRequired,currentNode:_propTypes2.default.object,onNodeClick:_propTypes2.default.func.isRequired,onNodeCollapse:_propTypes2.default.func.isRequired,onNodeExpanded:_propTypes2.default.func.isRequired,onRenameNode:_propTypes2.default.func.isRequired,onDeleteNode:_propTypes2.default.func.isRequired,onAddFileNode:_propTypes2.default.func.isRequired,onAddFolderNode:_propTypes2.default.func.isRequired,// repo content\ndraftCounts:_propTypes2.default.number,usedRepoTags:_propTypes2.default.array.isRequired,readmeMarkdown:_propTypes2.default.object,updateUsedRepoTags:_propTypes2.default.func.isRequired,// list\nisDirentListLoading:_propTypes2.default.bool.isRequired,direntList:_propTypes2.default.array.isRequired,sortBy:_propTypes2.default.string.isRequired,sortOrder:_propTypes2.default.string.isRequired,sortItems:_propTypes2.default.func.isRequired,updateDirent:_propTypes2.default.func.isRequired,onItemClick:_propTypes2.default.func.isRequired,onItemSelected:_propTypes2.default.func.isRequired,onItemDelete:_propTypes2.default.func.isRequired,onItemRename:_propTypes2.default.func.isRequired,onItemMove:_propTypes2.default.func.isRequired,onItemCopy:_propTypes2.default.func.isRequired,onAddFolder:_propTypes2.default.func.isRequired,onAddFile:_propTypes2.default.func.isRequired,onFileTagChanged:_propTypes2.default.func.isRequired,isDirentSelected:_propTypes2.default.bool.isRequired,isAllDirentSelected:_propTypes2.default.bool.isRequired,onAllDirentSelected:_propTypes2.default.func.isRequired,isDirentDetailShow:_propTypes2.default.bool.isRequired,selectedDirent:_propTypes2.default.object,closeDirentDetail:_propTypes2.default.func.isRequired,showDirentDetail:_propTypes2.default.func.isRequired,onDeleteRepoTag:_propTypes2.default.func.isRequired};var LibContentContainer=function(_React$Component){_inherits(LibContentContainer,_React$Component);function LibContentContainer(props){_classCallCheck(this,LibContentContainer);var _this=_possibleConstructorReturn(this,(LibContentContainer.__proto__||Object.getPrototypeOf(LibContentContainer)).call(this,props));_this.onPathClick=function(path){_this.props.onMainNavBarClick(path);_this.props.closeDirentDetail();};_this.onItemClick=function(dirent){_this.props.onItemClick(dirent);_this.props.closeDirentDetail();};_this.onDirentClick=function(dirent){if(_this.props.isDirentDetailShow){_this.onItemDetails(dirent);}};_this.onItemDetails=function(dirent){_this.setState({currentDirent:dirent});_this.props.showDirentDetail();};_this.onItemDetailsClose=function(){_this.props.closeDirentDetail();};_this.state={currentDirent:null};_this.errMessage=_react2.default.createElement('div',{className:'message err-tip'},(0,_constants.gettext)('Folder does not exist.'));return _this;}// on '<tr>'\n_createClass(LibContentContainer,[{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(nextProps.isDirentDetailShow){this.setState({isDirentDetailShow:nextProps.isDirentDetailShow});}if(nextProps.selectedDirent&&nextProps.isDirentDetailShow){this.setState({currentDirent:nextProps.selectedDirent});}}},{key:'render',value:function render(){var _props=this.props,path=_props.path,repoID=_props.repoID,usedRepoTags=_props.usedRepoTags,readmeMarkdown=_props.readmeMarkdown,draftCounts=_props.draftCounts;var isRepoInfoBarShow=false;if(path==='/'){if(usedRepoTags.length!==0||readmeMarkdown!==null||draftCounts!==0){isRepoInfoBarShow=true;}}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'cur-view-container'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement(_curDirPath2.default,{repoID:repoID,repoName:this.props.currentRepoInfo.repo_name,pathPrefix:this.props.pathPrefix,currentPath:this.props.path,permission:this.props.repoPermission,isViewFile:this.props.isViewFile,onTabNavClick:this.props.onTabNavClick,onPathClick:this.onPathClick,updateUsedRepoTags:this.props.updateUsedRepoTags,fileTags:this.props.fileTags,onDeleteRepoTag:this.props.onDeleteRepoTag})),_react2.default.createElement('div',{className:'cur-view-content '+(this.props.currentMode==='column'?'view-mode-container':'')},!this.props.pathExist&&this.errMessage,this.props.pathExist&&_react2.default.createElement(_react.Fragment,null,this.props.currentMode==='list'&&_react2.default.createElement(_dirListView2.default,{path:this.props.path,repoID:repoID,currentRepoInfo:this.props.currentRepoInfo,isGroupOwnedRepo:this.props.isGroupOwnedRepo,enableDirPrivateShare:this.props.enableDirPrivateShare,isRepoInfoBarShow:isRepoInfoBarShow,usedRepoTags:this.props.usedRepoTags,readmeMarkdown:this.props.readmeMarkdown,draftCounts:this.props.draftCounts,updateUsedRepoTags:this.props.updateUsedRepoTags,isDirentListLoading:this.props.isDirentListLoading,direntList:this.props.direntList,sortBy:this.props.sortBy,sortOrder:this.props.sortOrder,sortItems:this.props.sortItems,onAddFile:this.props.onAddFile,onItemClick:this.onItemClick,onItemSelected:this.props.onItemSelected,onItemDelete:this.props.onItemDelete,onItemRename:this.props.onItemRename,onItemMove:this.props.onItemMove,onItemCopy:this.props.onItemCopy,onDirentClick:this.onDirentClick,onItemDetails:this.onItemDetails,updateDirent:this.props.updateDirent,isAllItemSelected:this.props.isAllDirentSelected,onAllItemSelected:this.props.onAllDirentSelected}),this.props.currentMode==='grid'&&_react2.default.createElement(_dirGridView2.default,null),this.props.currentMode==='column'&&_react2.default.createElement(_dirColumnView2.default,{path:this.props.path,repoID:repoID,currentRepoInfo:this.props.currentRepoInfo,repoPermission:this.props.repoPermission,isGroupOwnedRepo:this.props.isGroupOwnedRepo,enableDirPrivateShare:this.props.enableDirPrivateShare,isTreeDataLoading:this.props.isTreeDataLoading,treeData:this.props.treeData,currentNode:this.props.currentNode,onNodeClick:this.props.onNodeClick,onNodeCollapse:this.props.onNodeCollapse,onNodeExpanded:this.props.onNodeExpanded,onAddFolderNode:this.props.onAddFolder,onAddFileNode:this.props.onAddFile,onRenameNode:this.props.onRenameNode,onDeleteNode:this.props.onDeleteNode,isViewFile:this.props.isViewFile,isFileLoading:this.props.isFileLoading,isFileLoadedErr:this.props.isFileLoadedErr,hash:this.props.hash,isDraft:this.props.isDraft,hasDraft:this.props.hasDraft,goDraftPage:this.props.goDraftPage,filePermission:this.props.filePermission,content:this.props.content,lastModified:this.props.lastModified,latestContributor:this.props.latestContributor,onLinkClick:this.props.onLinkClick,isRepoInfoBarShow:isRepoInfoBarShow,usedRepoTags:this.props.usedRepoTags,readmeMarkdown:this.props.readmeMarkdown,draftCounts:this.props.draftCounts,updateUsedRepoTags:this.props.updateUsedRepoTags,isDirentListLoading:this.props.isDirentListLoading,direntList:this.props.direntList,sortBy:this.props.sortBy,sortOrder:this.props.sortOrder,sortItems:this.props.sortItems,onAddFile:this.props.onAddFile,onItemClick:this.onItemClick,onItemSelected:this.props.onItemSelected,onItemDelete:this.props.onItemDelete,onItemRename:this.props.onItemRename,onItemMove:this.props.onItemMove,onItemCopy:this.props.onItemCopy,onDirentClick:this.onDirentClick,onItemDetails:this.onItemDetails,updateDirent:this.props.updateDirent,isAllItemSelected:this.props.isAllDirentSelected,onAllItemSelected:this.props.onAllDirentSelected})))),this.props.isDirentDetailShow&&_react2.default.createElement('div',{className:'cur-view-detail'},_react2.default.createElement(_direntDetails2.default,{repoID:repoID,path:this.props.path,dirent:this.state.currentDirent,onItemDetailsClose:this.onItemDetailsClose,onFileTagChanged:this.props.onFileTagChanged})));}}]);return LibContentContainer;}(_react2.default.Component);LibContentContainer.propTypes=propTypes;exports.default=LibContentContainer;\n\n/***/ }),\n\n/***/ 1221:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={};var DirGridView=function(_React$Component){_inherits(DirGridView,_React$Component);function DirGridView(){_classCallCheck(this,DirGridView);return _possibleConstructorReturn(this,(DirGridView.__proto__||Object.getPrototypeOf(DirGridView)).apply(this,arguments));}_createClass(DirGridView,[{key:'render',value:function render(){return _react2.default.createElement('div',null,'\\u8868\\u683C\\u5E03\\u5C40');}}]);return DirGridView;}(_react2.default.Component);DirGridView.propTypes=propTypes;exports.default=DirGridView;\n\n/***/ }),\n\n/***/ 1222:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _dirColumnNav=__webpack_require__(1223);var _dirColumnNav2=_interopRequireDefault(_dirColumnNav);var _dirColumnFile=__webpack_require__(1224);var _dirColumnFile2=_interopRequireDefault(_dirColumnFile);var _dirListView=__webpack_require__(525);var _dirListView2=_interopRequireDefault(_dirListView);__webpack_require__(1225);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,// repoinfo\ncurrentRepoInfo:_propTypes2.default.object.isRequired,repoPermission:_propTypes2.default.bool.isRequired,enableDirPrivateShare:_propTypes2.default.bool.isRequired,userPrem:_propTypes2.default.bool,isGroupOwnedRepo:_propTypes2.default.bool.isRequired,// tree\nisTreeDataLoading:_propTypes2.default.bool.isRequired,treeData:_propTypes2.default.object.isRequired,currentNode:_propTypes2.default.object,onNodeClick:_propTypes2.default.func.isRequired,onNodeCollapse:_propTypes2.default.func.isRequired,onNodeExpanded:_propTypes2.default.func.isRequired,onRenameNode:_propTypes2.default.func.isRequired,onDeleteNode:_propTypes2.default.func.isRequired,onAddFileNode:_propTypes2.default.func.isRequired,onAddFolderNode:_propTypes2.default.func.isRequired,// file\nisViewFile:_propTypes2.default.bool.isRequired,isFileLoading:_propTypes2.default.bool.isRequired,isFileLoadedErr:_propTypes2.default.bool.isRequired,hash:_propTypes2.default.string,isDraft:_propTypes2.default.bool.isRequired,hasDraft:_propTypes2.default.bool.isRequired,goDraftPage:_propTypes2.default.func.isRequired,filePermission:_propTypes2.default.bool.isRequired,content:_propTypes2.default.string,lastModified:_propTypes2.default.string,latestContributor:_propTypes2.default.string,onLinkClick:_propTypes2.default.func.isRequired,// repo content\nisRepoInfoBarShow:_propTypes2.default.bool.isRequired,draftCounts:_propTypes2.default.number.isRequired,usedRepoTags:_propTypes2.default.array.isRequired,readmeMarkdown:_propTypes2.default.object,updateUsedRepoTags:_propTypes2.default.func.isRequired,// list\nisDirentListLoading:_propTypes2.default.bool.isRequired,direntList:_propTypes2.default.array.isRequired,sortBy:_propTypes2.default.string.isRequired,sortOrder:_propTypes2.default.string.isRequired,sortItems:_propTypes2.default.func.isRequired,onAddFile:_propTypes2.default.func.isRequired,updateDirent:_propTypes2.default.func.isRequired,onItemClick:_propTypes2.default.func.isRequired,onItemSelected:_propTypes2.default.func.isRequired,onItemDelete:_propTypes2.default.func.isRequired,onItemRename:_propTypes2.default.func.isRequired,onItemMove:_propTypes2.default.func.isRequired,onItemCopy:_propTypes2.default.func.isRequired,onItemDetails:_propTypes2.default.func.isRequired,onDirentClick:_propTypes2.default.func.isRequired,isAllItemSelected:_propTypes2.default.bool.isRequired,onAllItemSelected:_propTypes2.default.func.isRequired};var DirColumnView=function(_React$Component){_inherits(DirColumnView,_React$Component);function DirColumnView(props){_classCallCheck(this,DirColumnView);var _this=_possibleConstructorReturn(this,(DirColumnView.__proto__||Object.getPrototypeOf(DirColumnView)).call(this,props));_this.onResizeMouseUp=function(){if(_this.state.inResizing){_this.setState({inResizing:false});}_this.setCookie('navRate',_this.state.navRate);};_this.onResizeMouseDown=function(){_this.containerWidth=_this.refs.viewModeContainer.clientWidth;_this.setState({inResizing:true});};_this.onResizeMouseMove=function(e){var sizeNavWidth=_this.containerWidth/0.78*0.22+3;var rate=(e.nativeEvent.clientX-sizeNavWidth)/_this.containerWidth;if(rate<0.1){_this.setState({inResizing:false,navRate:0.12});}else if(rate>0.4){_this.setState({inResizing:false,navRate:0.38});}else{_this.setState({navRate:rate});}};_this.setCookie=function(name,value){var cookie=name+'='+value+';';document.cookie=cookie;};_this.getCookie=function(cookiename){var name=cookiename+'=';var cookie=document.cookie.split(';');for(var i=0,len=cookie.length;i<len;i++){var c=cookie[i].trim();if(c.indexOf(name)==0){return c.substring(name.length,c.length)*1;}}return'';};_this.state={inResizing:false,navRate:0.25};_this.containerWidth=null;return _this;}_createClass(DirColumnView,[{key:'componentWillMount',value:function componentWillMount(){var rate=this.getCookie('navRate');if(rate){this.setState({navRate:rate});}}},{key:'render',value:function render(){var onResizeMove=this.state.inResizing?this.onResizeMouseMove:null;var select=this.state.inResizing?'none':'';var mainFlex='1 0 '+(1-this.state.navRate)*100+'%';return _react2.default.createElement('div',{className:'dir-colunm-view',onMouseMove:onResizeMove,onMouseUp:this.onResizeMouseUp,ref:'viewModeContainer'},_react2.default.createElement(_dirColumnNav2.default,{currentPath:this.props.path,repoPermission:this.props.repoPermission,isTreeDataLoading:this.props.isTreeDataLoading,treeData:this.props.treeData,currentNode:this.props.currentNode,onNodeClick:this.props.onNodeClick,onNodeCollapse:this.props.onNodeCollapse,onNodeExpanded:this.props.onNodeExpanded,onAddFolderNode:this.props.onAddFolderNode,onAddFileNode:this.props.onAddFileNode,onRenameNode:this.props.onRenameNode,onDeleteNode:this.props.onDeleteNode,repoID:this.props.repoID,navRate:this.state.navRate,inResizing:this.state.inResizing,currentRepoInfo:this.props.currentRepoInfo,onItemMove:this.props.onItemMove,onItemCopy:this.props.onItemCopy}),_react2.default.createElement('div',{className:'dir-content-resize',onMouseDown:this.onResizeMouseDown}),_react2.default.createElement('div',{className:'dir-content-main',style:{userSelect:select,flex:mainFlex}},this.props.isViewFile?_react2.default.createElement(_dirColumnFile2.default,{path:this.props.path,repoID:this.props.repoID,hash:this.props.hash,isDraft:this.props.isDraft,hasDraft:this.props.hasDraft,goDraftPage:this.props.goDraftPage,isFileLoading:this.props.isFileLoading,isFileLoadedErr:this.props.isFileLoadedErr,filePermission:this.props.filePermission,content:this.props.content,lastModified:this.props.lastModified,latestContributor:this.props.latestContributor,onLinkClick:this.props.onLinkClick}):_react2.default.createElement(_dirListView2.default,{path:this.props.path,repoID:this.props.repoID,currentRepoInfo:this.props.currentRepoInfo,isGroupOwnedRepo:this.props.isGroupOwnedRepo,enableDirPrivateShare:this.props.enableDirPrivateShare,isRepoInfoBarShow:this.props.isRepoInfoBarShow,usedRepoTags:this.props.usedRepoTags,readmeMarkdown:this.props.readmeMarkdown,draftCounts:this.props.draftCounts,updateUsedRepoTags:this.props.updateUsedRepoTags,isDirentListLoading:this.props.isDirentListLoading,direntList:this.props.direntList,sortBy:this.props.sortBy,sortOrder:this.props.sortOrder,sortItems:this.props.sortItems,onAddFile:this.props.onAddFile,onItemClick:this.props.onItemClick,onItemSelected:this.props.onItemSelected,onItemDelete:this.props.onItemDelete,onItemRename:this.props.onItemRename,onItemMove:this.props.onItemMove,onItemCopy:this.props.onItemCopy,onDirentClick:this.props.onDirentClick,onItemDetails:this.props.onItemDetails,updateDirent:this.props.updateDirent,isAllItemSelected:this.props.isAllItemSelected,onAllItemSelected:this.props.onAllItemSelected})));}}]);return DirColumnView;}(_react2.default.Component);DirColumnView.propTypes=propTypes;exports.default=DirColumnView;\n\n/***/ }),\n\n/***/ 1223:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _treeView=__webpack_require__(164);var _treeView2=_interopRequireDefault(_treeView);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _deleteDialog=__webpack_require__(277);var _deleteDialog2=_interopRequireDefault(_deleteDialog);var _renameDialog=__webpack_require__(278);var _renameDialog2=_interopRequireDefault(_renameDialog);var _copyDirentDialog=__webpack_require__(142);var _copyDirentDialog2=_interopRequireDefault(_copyDirentDialog);var _moveDirentDialog=__webpack_require__(141);var _moveDirentDialog2=_interopRequireDefault(_moveDirentDialog);var _createFolderDialog=__webpack_require__(170);var _createFolderDialog2=_interopRequireDefault(_createFolderDialog);var _createFileDialog=__webpack_require__(123);var _createFileDialog2=_interopRequireDefault(_createFileDialog);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _reactImageLightbox=__webpack_require__(294);var _reactImageLightbox2=_interopRequireDefault(_reactImageLightbox);__webpack_require__(207);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentPath:_propTypes2.default.string.isRequired,repoPermission:_propTypes2.default.bool.isRequired,isTreeDataLoading:_propTypes2.default.bool.isRequired,treeData:_propTypes2.default.object.isRequired,currentNode:_propTypes2.default.object,onNodeClick:_propTypes2.default.func.isRequired,onNodeCollapse:_propTypes2.default.func.isRequired,onNodeExpanded:_propTypes2.default.func.isRequired,onRenameNode:_propTypes2.default.func.isRequired,onDeleteNode:_propTypes2.default.func.isRequired,onAddFileNode:_propTypes2.default.func.isRequired,onAddFolderNode:_propTypes2.default.func.isRequired,repoID:_propTypes2.default.string.isRequired,navRate:_propTypes2.default.number,inResizing:_propTypes2.default.bool.isRequired,currentRepoInfo:_propTypes2.default.object.isRequired};var DirColumnNav=function(_React$Component){_inherits(DirColumnNav,_React$Component);function DirColumnNav(props){_classCallCheck(this,DirColumnNav);var _this=_possibleConstructorReturn(this,(DirColumnNav.__proto__||Object.getPrototypeOf(DirColumnNav)).call(this,props));_this.onNodeClick=function(node){_this.setState({opNode:node});if(_utils.Utils.imageCheck(node.object.name)){_this.showNodeImagePopup(node);return;}_this.props.onNodeClick(node);};_this.onMenuItemClick=function(operation,node){_this.setState({opNode:node});switch(operation){case'New Folder':if(!node){_this.onAddFolderToggle('root');}else{_this.onAddFolderToggle();}break;case'New File':if(!node){_this.onAddFileToggle('root');}else{_this.onAddFileToggle();}break;case'Rename':_this.onRenameToggle();break;case'Delete':_this.onDeleteToggle();break;case'Copy':_this.onCopyToggle();break;case'Move':_this.onMoveToggle();break;case'Open in New Tab':_this.onOpenFile(node);break;}};_this.onAddFileToggle=function(type){if(type==='root'){var root=_this.props.treeData.root;_this.setState({isAddFileDialogShow:!_this.state.isAddFileDialogShow,opNode:root});}else{_this.setState({isAddFileDialogShow:!_this.state.isAddFileDialogShow});}};_this.onAddFolderToggle=function(type){if(type==='root'){var root=_this.props.treeData.root;_this.setState({isAddFolderDialogShow:!_this.state.isAddFolderDialogShow,opNode:root});}else{_this.setState({isAddFolderDialogShow:!_this.state.isAddFolderDialogShow});}};_this.onRenameToggle=function(){_this.setState({isRenameDialogShow:!_this.state.isRenameDialogShow});};_this.onDeleteToggle=function(){_this.setState({isDeleteDialogShow:!_this.state.isDeleteDialogShow});};_this.onCopyToggle=function(){_this.setState({isCopyDialogShow:!_this.state.isCopyDialogShow});};_this.onMoveToggle=function(){_this.setState({isMoveDialogShow:!_this.state.isMoveDialogShow});};_this.onAddFolderNode=function(dirPath){_this.setState({isAddFolderDialogShow:!_this.state.isAddFolderDialogShow});_this.props.onAddFolderNode(dirPath);};_this.onAddFileNode=function(filePath,isDraft){_this.setState({isAddFileDialogShow:!_this.state.isAddFileDialogShow});_this.props.onAddFileNode(filePath,isDraft);};_this.onRenameNode=function(newName){_this.setState({isRenameDialogShow:!_this.state.isRenameDialogShow});var node=_this.state.opNode;_this.props.onRenameNode(node,newName);};_this.onDeleteNode=function(){_this.setState({isDeleteDialogShow:!_this.state.isDeleteDialogShow});var node=_this.state.opNode;_this.props.onDeleteNode(node);};_this.onOpenFile=function(node){var newUrl=_constants.siteRoot+'lib/'+_this.props.repoID+'/file'+_utils.Utils.encodePath(node.path);window.open(newUrl,'_blank');};_this.checkDuplicatedName=function(newName){var node=_this.state.opNode;// root node to new node conditions: parentNode is null, \nvar parentNode=node.parentNode?node.parentNode:node;var childrenObject=parentNode.children.map(function(item){return item.object;});var isDuplicated=childrenObject.some(function(object){return object.name===newName;});return isDuplicated;};_this.showNodeImagePopup=function(node){var childrenNode=node.parentNode.children;var items=childrenNode.filter(function(item){return _utils.Utils.imageCheck(item.object.name);});var imageNames=items.map(function(item){return item.object.name;});_this.setState({isNodeImagePopupOpen:true,imageNodeItems:_this.prepareImageItems(node),imageIndex:imageNames.indexOf(node.object.name)});};_this.prepareImageItems=function(node){var childrenNode=node.parentNode.children;var items=childrenNode.filter(function(item){return _utils.Utils.imageCheck(item.object.name);});var useThumbnail=!_this.props.currentRepoInfo.encrypted;var prepareItem=function prepareItem(item){var name=item.object.name;var path=_utils.Utils.encodePath(_utils.Utils.joinPath(node.parentNode.path,name));var fileExt=name.substr(name.lastIndexOf('.')+1).toLowerCase();var isGIF=fileExt==='gif';var repoID=_this.props.repoID;var src='';if(useThumbnail&&!isGIF){src=_constants.siteRoot+'thumbnail/'+repoID+'/'+_constants.thumbnailSizeForOriginal+path;}else{src=_constants.siteRoot+'repo/'+repoID+'/raw'+path;}return{'name':name,'url':_constants.siteRoot+'lib/'+repoID+'/file'+path,'src':src};};return items.map(function(item){return prepareItem(item);});};_this.closeNodeImagePopup=function(){_this.setState({isNodeImagePopupOpen:false});};_this.moveToPrevImage=function(){var imageItemsLength=_this.state.imageNodeItems.length;_this.setState(function(prevState){return{imageIndex:(prevState.imageIndex+imageItemsLength-1)%imageItemsLength};});};_this.moveToNextImage=function(){var imageItemsLength=_this.state.imageNodeItems.length;_this.setState(function(prevState){return{imageIndex:(prevState.imageIndex+1)%imageItemsLength};});};_this.state={opNode:null,isDeleteDialogShow:false,isAddFileDialogShow:false,isAddFolderDialogShow:false,isRenameDialogShow:false,isNodeImagePopupOpen:false,imageNodeItems:[],imageIndex:0,isCopyDialogShow:false,isMoveDialogShow:false,isMutipleOperation:false};_this.isNodeMenuShow=true;return _this;}_createClass(DirColumnNav,[{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){this.setState({opNode:nextProps.currentNode});}},{key:'render',value:function render(){var flex=this.props.navRate?'0 0 '+this.props.navRate*100+'%':'0 0 25%';var select=this.props.inResizing?'none':'';var imageNodeItems=this.state.imageNodeItems;var imageIndex=this.state.imageIndex;var imageItemsLength=imageNodeItems.length;var imageCaption=imageItemsLength&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('span',null,(0,_constants.gettext)('%curr% of %total%').replace('%curr%',imageIndex+1).replace('%total%',imageItemsLength)),_react2.default.createElement('br',null),_react2.default.createElement('a',{href:imageNodeItems[imageIndex].url,target:'_blank'},(0,_constants.gettext)('Open in New Tab')));return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'dir-content-nav',role:'navigation',style:{flex:flex,userSelect:select}},this.props.isTreeDataLoading?_react2.default.createElement(_loading2.default,null):_react2.default.createElement(_treeView2.default,{repoPermission:this.props.repoPermission,isNodeMenuShow:this.isNodeMenuShow,treeData:this.props.treeData,currentPath:this.props.currentPath,onNodeClick:this.onNodeClick,onNodeExpanded:this.props.onNodeExpanded,onNodeCollapse:this.props.onNodeCollapse,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.onFreezedItem,onUnFreezedItem:this.onUnFreezedItem,onItemMove:this.props.onItemMove,currentRepoInfo:this.props.currentRepoInfo})),this.state.isAddFolderDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_createFolderDialog2.default,{parentPath:this.state.opNode.path,onAddFolder:this.onAddFolderNode,checkDuplicatedName:this.checkDuplicatedName,addFolderCancel:this.onAddFolderToggle})),this.state.isAddFileDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_createFileDialog2.default,{parentPath:this.state.opNode.path,onAddFile:this.onAddFileNode,checkDuplicatedName:this.checkDuplicatedName,addFileCancel:this.onAddFileToggle})),this.state.isRenameDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_renameDialog2.default,{currentNode:this.state.opNode,onRename:this.onRenameNode,checkDuplicatedName:this.checkDuplicatedName,toggleCancel:this.onRenameToggle})),this.state.isDeleteDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_deleteDialog2.default,{currentNode:this.state.opNode,handleSubmit:this.onDeleteNode,toggleCancel:this.onDeleteToggle})),this.state.isCopyDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_copyDirentDialog2.default,{path:this.state.opNode.parentNode.path,repoID:this.props.repoID,dirent:this.state.opNode.object,onItemCopy:this.props.onItemCopy,repoEncrypted:this.props.currentRepoInfo.encrypted,onCancelCopy:this.onCopyToggle,isMutipleOperation:this.state.isMutipleOperation})),this.state.isMoveDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_moveDirentDialog2.default,{path:this.state.opNode.parentNode.path,repoID:this.props.repoID,dirent:this.state.opNode.object,onItemMove:this.props.onItemMove,repoEncrypted:this.props.currentRepoInfo.encrypted,onCancelMove:this.onMoveToggle,isMutipleOperation:this.state.isMutipleOperation})),this.state.isNodeImagePopupOpen&&_react2.default.createElement(_reactImageLightbox2.default,{mainSrc:imageNodeItems[imageIndex].src,imageCaption:imageCaption,imageTitle:imageNodeItems[imageIndex].name,nextSrc:imageNodeItems[(imageIndex+1)%imageItemsLength].src,prevSrc:imageNodeItems[(imageIndex+imageItemsLength-1)%imageItemsLength].src,onCloseRequest:this.closeNodeImagePopup,onMovePrevRequest:this.moveToPrevImage,onMoveNextRequest:this.moveToNextImage,imagePadding:70,imageLoadErrorMessage:(0,_constants.gettext)('The image could not be loaded.'),prevLabel:(0,_constants.gettext)('Previous (Left arrow key)'),nextLabel:(0,_constants.gettext)('Next (Right arrow key)'),closeLabel:(0,_constants.gettext)('Close (Esc)'),zoomInLabel:(0,_constants.gettext)('Zoom in'),zoomOutLabel:(0,_constants.gettext)('Zoom out')}));}}]);return DirColumnNav;}(_react2.default.Component);DirColumnNav.defaultProps={navRate:0.25};DirColumnNav.propTypes=propTypes;exports.default=DirColumnNav;\n\n/***/ }),\n\n/***/ 1224:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _utils=__webpack_require__(4);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _wikiMarkdownViewer=__webpack_require__(169);var _wikiMarkdownViewer2=_interopRequireDefault(_wikiMarkdownViewer);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,hash:_propTypes2.default.string,isDraft:_propTypes2.default.bool,hasDraft:_propTypes2.default.bool,goDraftPage:_propTypes2.default.func.isRequired,isFileLoading:_propTypes2.default.bool.isRequired,isFileLoadedErr:_propTypes2.default.bool.isRequired,filePermission:_propTypes2.default.bool,content:_propTypes2.default.string,lastModified:_propTypes2.default.string,latestContributor:_propTypes2.default.string,onLinkClick:_propTypes2.default.func.isRequired};var DirColumnFile=function(_React$Component){_inherits(DirColumnFile,_React$Component);function DirColumnFile(){var _ref;var _temp,_this,_ret;_classCallCheck(this,DirColumnFile);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=DirColumnFile.__proto__||Object.getPrototypeOf(DirColumnFile)).call.apply(_ref,[this].concat(args))),_this),_this.onEditClick=function(e){e.preventDefault();var _this$props=_this.props,path=_this$props.path,repoID=_this$props.repoID;var url=_constants.siteRoot+'lib/'+repoID+'/file'+_utils.Utils.encodePath(path)+'?mode=edit';window.open(url);},_this.onNewDraft=function(e){e.preventDefault();var _this$props2=_this.props,path=_this$props2.path,repoID=_this$props2.repoID;_seafileApi.seafileAPI.createDraft(repoID,path).then(function(res){window.location.href=_constants.siteRoot+'lib/'+res.data.origin_repo_id+'/file'+res.data.draft_file_path+'?mode=edit';});},_this.onOpenFile=function(e){e.preventDefault();var _this$props3=_this.props,path=_this$props3.path,repoID=_this$props3.repoID;var newUrl=_constants.siteRoot+'lib/'+repoID+'/file'+_utils.Utils.encodePath(path);window.open(newUrl,'_blank');},_this.goDraftPage=function(e){e.preventDefault();_this.props.goDraftPage();},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(DirColumnFile,[{key:'componentDidMount',value:function componentDidMount(){if(this.props.hash){var hash=this.props.hash;setTimeout(function(){window.location.hash=hash;},500);}}},{key:'render',value:function render(){if(this.props.isFileLoadedErr){return _react2.default.createElement('div',{className:'message err-tip'},(0,_constants.gettext)('File does not exist.'));}return _react2.default.createElement(_wikiMarkdownViewer2.default,{isTOCShow:false,isFileLoading:this.props.isFileLoading,markdownContent:this.props.content,lastModified:this.props.lastModified,latestContributor:this.props.latestContributor,onLinkClick:this.props.onLinkClick},_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('span',{className:'wiki-open-file position-fixed',onClick:this.onOpenFile},_react2.default.createElement('i',{className:'fas fa-expand-arrows-alt'})),!this.props.isDraft&&this.props.hasDraft&&_react2.default.createElement('div',{className:'seafile-btn-view-review text-center mt-2'},_react2.default.createElement('div',{className:'tag tag-green'},(0,_constants.gettext)('This file is in draft stage.'),_react2.default.createElement('span',{className:'ml-2',onClick:this.goDraftPage},(0,_constants.gettext)('View Draft'))))));}}]);return DirColumnFile;}(_react2.default.Component);DirColumnFile.propTypes=propTypes;exports.default=DirColumnFile;\n\n/***/ }),\n\n/***/ 1225:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 1226:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactstrap=__webpack_require__(5);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactCookies=__webpack_require__(22);var _reactCookies2=_interopRequireDefault(_reactCookies);var _constants=__webpack_require__(2);var _router=__webpack_require__(60);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _group=__webpack_require__(312);var _group2=_interopRequireDefault(_group);var _repo=__webpack_require__(125);var _repo2=_interopRequireDefault(_repo);var _commonToolbar=__webpack_require__(80);var _commonToolbar2=_interopRequireDefault(_commonToolbar);var _createRepoDialog=__webpack_require__(313);var _createRepoDialog2=_interopRequireDefault(_createRepoDialog);var _createDepartmentRepoDialog=__webpack_require__(1227);var _createDepartmentRepoDialog2=_interopRequireDefault(_createDepartmentRepoDialog);var _dismissGroupDialog=__webpack_require__(1228);var _dismissGroupDialog2=_interopRequireDefault(_dismissGroupDialog);var _renameGroupDialog=__webpack_require__(1229);var _renameGroupDialog2=_interopRequireDefault(_renameGroupDialog);var _transferGroupDialog=__webpack_require__(1230);var _transferGroupDialog2=_interopRequireDefault(_transferGroupDialog);var _manageMembersDialog=__webpack_require__(1232);var _manageMembersDialog2=_interopRequireDefault(_manageMembersDialog);var _sharedRepoListView=__webpack_require__(316);var _sharedRepoListView2=_interopRequireDefault(_sharedRepoListView);var _libDetails=__webpack_require__(314);var _libDetails2=_interopRequireDefault(_libDetails);__webpack_require__(1234);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}// import ImportMembersDialog from '../../components/dialog/import-members-dialog';\nvar propTypes={onShowSidePanel:_propTypes2.default.func.isRequired,onSearchedClick:_propTypes2.default.func.isRequired,onGroupChanged:_propTypes2.default.func.isRequired,onTabNavClick:_propTypes2.default.func.isRequired,groupID:_propTypes2.default.string};var GroupView=function(_React$Component){_inherits(GroupView,_React$Component);function GroupView(props){_classCallCheck(this,GroupView);var _this=_possibleConstructorReturn(this,(GroupView.__proto__||Object.getPrototypeOf(GroupView)).call(this,props));_this.loadGroup=function(groupID){_seafileApi.seafileAPI.getGroup(groupID).then(function(res){var currentGroup=new _group2.default(res.data);var emptyTip=_this.getEmptyTip(currentGroup);var isStaff=currentGroup.admins.indexOf(_constants.username)>-1;//for item operations\nvar isOwner=currentGroup.owner===_constants.username?true:false;var isDepartmentGroup=currentGroup.parent_group_id!==0;_this.setState({emptyTip:emptyTip,currentGroup:currentGroup,isStaff:isStaff,isDepartmentGroup:isDepartmentGroup,isOwner:isOwner});_this.loadRepos(groupID);}).catch(function(error){if(error.response){if(error.response.status==403){_this.setState({isLoading:false,errMessage:(0,_constants.gettext)('Permission denied')});location.href=_constants.loginUrl+'?next='+encodeURIComponent(location.href);}else{_this.setState({isLoading:false,errMessage:(0,_constants.gettext)('Error')});}}else{_this.setState({isLoading:false,errMessage:(0,_constants.gettext)('Please check the network.')});}});};_this.loadRepos=function(groupID){_this.setState({isLoading:true});_seafileApi.seafileAPI.listGroupRepos(groupID).then(function(res){var repoList=res.data.map(function(item){var repo=new _repo2.default(item);return repo;});_this.setState({isLoading:false,repoList:_utils.Utils.sortRepos(repoList,_this.state.sortBy,_this.state.sortOrder)});}).catch(function(error){if(error.response){if(error.response.status==403){_this.setState({isLoading:false,errMessage:(0,_constants.gettext)('Permission denied')});location.href=_constants.loginUrl+'?next='+encodeURIComponent(location.href);}else{_this.setState({isLoading:false,errMessage:(0,_constants.gettext)('Error')});}}else{_this.setState({isLoading:false,errMessage:(0,_constants.gettext)('Please check the network.')});}});};_this.getEmptyTip=function(currentGroup){var emptyTip=null;if(currentGroup){if(currentGroup.parent_group_id===0){emptyTip=_react2.default.createElement('div',{className:'empty-tip'},_react2.default.createElement('h2',null,(0,_constants.gettext)('No library is shared to this group')),_react2.default.createElement('p',null,(0,_constants.gettext)('You can share libraries by clicking the \"New Library\" button above or the \"Share\" icon on your libraries list.')),_react2.default.createElement('p',null,(0,_constants.gettext)('Libraries shared as writable can be downloaded and synced by other group members. Read only libraries can only be downloaded, updates by others will not be uploaded.')));}else{if(currentGroup.admins.indexOf(_constants.username)==-1){// is a member of this group\nemptyTip=_react2.default.createElement('div',{className:'empty-tip'},_react2.default.createElement('h2',null,(0,_constants.gettext)('No libraries')));}else{emptyTip=_react2.default.createElement('div',{className:'empty-tip'},_react2.default.createElement('h2',null,(0,_constants.gettext)('No libraries')),_react2.default.createElement('p',null,(0,_constants.gettext)('You can create libraries by clicking the \"New Library\" button above.')));}}}return emptyTip;};_this.onCreateRepoToggle=function(){_this.setState({isCreateRepoDialogShow:!_this.state.isCreateRepoDialogShow});};_this.onCreateRepo=function(repo,groupOwnerType){var groupId=_this.props.groupID;if(groupOwnerType&&groupOwnerType==='department'){_seafileApi.seafileAPI.createGroupOwnedLibrary(groupId,repo).then(function(res){//need modify endpoint api\nvar object={repo_id:res.data.id,repo_name:res.data.name,owner_name:res.data.group_name,owner_email:res.data.owner,permission:res.data.permission,mtime:res.data.mtime,size:res.data.size,encrypted:res.data.encrypted};var repo=new _repo2.default(object);var repoList=_this.addRepoItem(repo);_this.setState({repoList:repoList});}).then(function(){//todo\n});}else{_seafileApi.seafileAPI.createGroupRepo(groupId,repo).then(function(res){var repo=new _repo2.default(res.data);var repoList=_this.addRepoItem(repo);_this.setState({repoList:repoList});}).catch(function(){//todo\n});}_this.onCreateRepoToggle();};_this.onItemDelete=function(repo){var groupID=_this.props.groupID;_seafileApi.seafileAPI.deleteGroupOwnedLibrary(groupID,repo.repo_id).then(function(){var repoList=_this.state.repoList.filter(function(item){return item.repo_id!==repo.repo_id;});_this.setState({repoList:repoList});}).catch(function(){// todo;\n});};_this.addRepoItem=function(repo){var newRepoList=_this.state.repoList.map(function(item){return item;});newRepoList.unshift(repo);return newRepoList;};_this.onItemUnshare=function(repo){var group=_this.state.currentGroup;_seafileApi.seafileAPI.unshareRepo(repo.repo_id,{share_type:'group',group_id:group.id}).then(function(){var repoList=_this.state.repoList.filter(function(item){return item.repo_id!==repo.repo_id;});_this.setState({repoList:repoList});});};_this.onItemRename=function(repo,newName){_seafileApi.seafileAPI.renameGroupOwnedLibrary(_this.props.groupID,repo.repo_id,newName).then(function(res){var repoList=_this.state.repoList.map(function(item){if(item.repo_id===repo.repo_id){item.repo_name=newName;}return item;});_this.setState({repoList:repoList});}).catch(function(){// todo\n});};_this.onTabNavClick=function(tabName){_this.props.onTabNavClick(tabName);};_this.toggleGroupDropdown=function(){_this.setState({showGroupDropdown:!_this.state.showGroupDropdown});};_this.toggleDismissGroupDialog=function(){_this.setState({showDismissGroupDialog:!_this.state.showDismissGroupDialog,showGroupDropdown:false});};_this.toggleRenameGroupDialog=function(){_this.setState({showRenameGroupDialog:!_this.state.showRenameGroupDialog,showGroupDropdown:false});};_this.toggleTransferGroupDialog=function(){_this.setState({showTransferGroupDialog:!_this.state.showTransferGroupDialog,showGroupDropdown:false});};_this.toggleManageMembersDialog=function(){_this.setState({showManageMembersDialog:!_this.state.showManageMembersDialog,showGroupDropdown:false});};_this.listGroupMembers=function(){_seafileApi.seafileAPI.listGroupMembers(_this.props.groupID).then(function(res){_this.setState({groupMembers:res.data});});};_this.toggleGroupMembersPopover=function(state){if(state==='open'){_this.listGroupMembers();_this.setState({showGroupMembersPopover:true});}else{_this.setState({showGroupMembersPopover:false});}};_this.onItemDetails=function(repo){_this.setState({isShowDetails:true,currentRepo:repo});};_this.closeDetails=function(){_this.setState({isShowDetails:false});};_this.sortItems=function(sortBy,sortOrder){_reactCookies2.default.save('seafile-repo-sort-by',sortBy);_reactCookies2.default.save('seafile-repo-sort-order',sortOrder);_this.setState({sortBy:sortBy,sortOrder:sortOrder,repoList:_utils.Utils.sortRepos(_this.state.repoList,sortBy,sortOrder)});};_this.translateRole=function(role){if(role==='Admin'){return(0,_constants.gettext)('Admin');}else if(role==='Member'){return(0,_constants.gettext)('Member');}else if(role==='Owner'){return(0,_constants.gettext)('Owner');}};_this.state={isLoading:true,errMessage:'',emptyTip:null,currentGroup:null,currentRepo:null,isStaff:false,isOwner:false,sortBy:_reactCookies2.default.load('seafile-repo-sort-by')||'name',// 'name' or 'time'\nsortOrder:_reactCookies2.default.load('seafile-repo-sort-order')||'asc',// 'asc' or 'desc'\nrepoList:[],libraryType:'group',isCreateRepoDialogShow:false,isDepartmentGroup:false,showGroupDropdown:false,showGroupMembersPopover:false,showRenameGroupDialog:false,showDismissGroupDialog:false,showTransferGroupDialog:false,// showImportMembersDialog: false,\nshowManageMembersDialog:false,groupMembers:[],isShowDetails:false};return _this;}_createClass(GroupView,[{key:'componentDidMount',value:function componentDidMount(){var groupID=this.props.groupID;this.loadGroup(groupID);}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(nextProps.groupID!==this.props.groupID){this.loadGroup(nextProps.groupID);}}// toggleImportMembersDialog= () => {\n//   this.setState({\n//     showImportMembersDialog: !this.state.showImportMembersDialog\n//   });\n// }\n},{key:'render',value:function render(){var _this2=this;var _state=this.state,errMessage=_state.errMessage,emptyTip=_state.emptyTip,currentGroup=_state.currentGroup;var isShowSettingIcon=!(currentGroup&&currentGroup.parent_group_id!==0&&currentGroup.admins.indexOf(_constants.username)===-1);var that=this;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'main-panel-north border-left-show'},_react2.default.createElement('div',{className:'cur-view-toolbar'},_react2.default.createElement('span',{className:'sf2-icon-menu side-nav-toggle hidden-md-up d-md-none',title:'Side Nav Menu',onClick:this.props.onShowSidePanel}),_react2.default.createElement('div',{className:'operation'},_constants.canAddRepo&&_react2.default.createElement('button',{className:'btn btn-secondary operation-item',title:(0,_constants.gettext)('New Library'),onClick:this.onCreateRepoToggle},_react2.default.createElement('i',{className:'fas fa-plus-square text-secondary mr-1'}),(0,_constants.gettext)('New Library')))),_react2.default.createElement(_commonToolbar2.default,{onSearchedClick:this.props.onSearchedClick})),_react2.default.createElement('div',{className:'main-panel-center flex-row'},_react2.default.createElement('div',{className:'cur-view-container'},_react2.default.createElement('div',{className:'cur-view-path'},currentGroup&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'path-container'},_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'groups/',onClick:function onClick(){return _this2.onTabNavClick('groups');}},(0,_constants.gettext)('Groups')),_react2.default.createElement('span',{className:'path-split'},'/'),_react2.default.createElement('span',null,currentGroup.name),currentGroup.parent_group_id!==0&&_react2.default.createElement('span',{className:'department-group-icon fas fa-building',title:(0,_constants.gettext)('This is a special group representing a department.')})),_react2.default.createElement('div',{className:'path-tool'},isShowSettingIcon&&this.state.isStaff&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement('a',{href:'#',className:'sf2-icon-cog1 action-icon group-top-action-icon',title:'Settings',id:'settings',onClick:this.toggleGroupDropdown}),_react2.default.createElement(_reactstrap.Popover,{placement:'bottom',isOpen:this.state.showGroupDropdown,target:'settings',toggle:this.toggleGroupDropdown,hideArrow:true,className:'sf-popover'},_react2.default.createElement('div',{className:'sf-popover-hd sf-popover-title'},_react2.default.createElement('span',null,(0,_constants.gettext)('Settings')),_react2.default.createElement('a',{href:'#',className:'sf-popover-close js-close sf2-icon-x1 action-icon',onClick:this.toggleGroupDropdown})),_react2.default.createElement('div',{className:'sf-popover-con'},_react2.default.createElement('ul',{className:'sf-popover-list'},_react2.default.createElement('li',null,_react2.default.createElement('a',{href:'#',className:'sf-popover-item',onClick:this.toggleRenameGroupDialog},(0,_constants.gettext)('Rename'))),this.state.isOwner&&_react2.default.createElement('li',null,_react2.default.createElement('a',{href:'#',className:'sf-popover-item',onClick:this.toggleTransferGroupDialog},(0,_constants.gettext)('Transfer')))),_react2.default.createElement('ul',{className:'sf-popover-list'},_react2.default.createElement('li',null,_react2.default.createElement('a',{href:'#',className:'sf-popover-item',onClick:this.toggleManageMembersDialog},(0,_constants.gettext)('Manage Members')))),this.state.isOwner&&_react2.default.createElement('ul',{className:'sf-popover-list'},_react2.default.createElement('li',null,_react2.default.createElement('a',{href:'#',className:'sf-popover-item',onClick:this.toggleDismissGroupDialog},(0,_constants.gettext)('Dismiss'))))))),_react2.default.createElement('a',{href:'#',className:'sf2-icon-user2 action-icon group-top-action-icon',title:(0,_constants.gettext)('Members'),id:'groupMembers',onClick:function onClick(){return _this2.toggleGroupMembersPopover('open');}}),_react2.default.createElement(_reactstrap.Popover,{placement:'bottom',isOpen:this.state.showGroupMembersPopover,target:'groupMembers',toggle:this.toggleGroupMembersPopover,hideArrow:true,className:'sf-popover'},_react2.default.createElement('div',{className:'sf-popover-hd sf-popover-title group-member-list-header'},_react2.default.createElement('span',null,(0,_constants.gettext)('Members')),_react2.default.createElement('a',{href:'#',className:'sf-popover-close js-close sf2-icon-x1 action-icon',onClick:this.toggleGroupMembersPopover})),_react2.default.createElement('div',{className:'sf-popover-con'},_react2.default.createElement('ul',{className:'sf-popover-list group-member-list'},this.state.groupMembers.map(function(item,index){return _react2.default.createElement('li',{key:index},_react2.default.createElement('a',{href:'#',className:'sf-popover-item user-item'},_react2.default.createElement('img',{src:item.avatar_url,alt:'',className:'group-member-avatar avatar'}),_react2.default.createElement('span',{className:'txt-item ellipsis'},_react2.default.createElement('span',{className:'group-member-name'},item.name),_react2.default.createElement('span',{className:'group-member-admin'},that.translateRole(item.role)))));}))))))),_react2.default.createElement('div',{className:'cur-view-content'},this.state.isLoading&&_react2.default.createElement(_loading2.default,null),!this.state.isLoading&&errMessage&&errMessage,!this.state.isLoading&&this.state.repoList.length===0&&emptyTip,!this.state.isLoading&&this.state.repoList.length>0&&_react2.default.createElement(_sharedRepoListView2.default,{repoList:this.state.repoList,currentGroup:this.state.currentGroup,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems,onItemUnshare:this.onItemUnshare,onItemDelete:this.onItemDelete,onItemDetails:this.onItemDetails,onItemRename:this.onItemRename}))),this.state.isShowDetails&&_react2.default.createElement('div',{className:'cur-view-detail'},_react2.default.createElement(_libDetails2.default,{currentRepo:this.state.currentRepo,closeDetails:this.closeDetails}))),this.state.isCreateRepoDialogShow&&!this.state.isDepartmentGroup&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_createRepoDialog2.default,{libraryType:this.state.libraryType,onCreateToggle:this.onCreateRepoToggle,onCreateRepo:this.onCreateRepo})),this.state.isCreateRepoDialogShow&&this.state.isDepartmentGroup&&_react2.default.createElement(_createDepartmentRepoDialog2.default,{isAdmin:this.state.isAdmin,onCreateToggle:this.onCreateRepoToggle,onCreateRepo:this.onCreateRepo}),this.state.showRenameGroupDialog&&_react2.default.createElement(_renameGroupDialog2.default,{showRenameGroupDialog:this.state.showRenameGroupDialog,toggleRenameGroupDialog:this.toggleRenameGroupDialog,loadGroup:this.loadGroup,groupID:this.props.groupID,onGroupChanged:this.props.onGroupChanged,currentGroupName:currentGroup.name}),this.state.showDismissGroupDialog&&_react2.default.createElement(_dismissGroupDialog2.default,{showDismissGroupDialog:this.state.showDismissGroupDialog,toggleDismissGroupDialog:this.toggleDismissGroupDialog,loadGroup:this.loadGroup,groupID:this.props.groupID,onGroupChanged:this.props.onGroupChanged}),this.state.showTransferGroupDialog&&_react2.default.createElement(_transferGroupDialog2.default,{toggleTransferGroupDialog:this.toggleTransferGroupDialog,groupID:this.props.groupID,onGroupChanged:this.props.onGroupChanged}),this.state.showManageMembersDialog&&_react2.default.createElement(_manageMembersDialog2.default,{toggleManageMembersDialog:this.toggleManageMembersDialog,groupID:this.props.groupID,onGroupChanged:this.props.onGroupChanged,isOwner:this.state.isOwner}));}}]);return GroupView;}(_react2.default.Component);GroupView.propTypes=propTypes;exports.default=GroupView;\n\n/***/ }),\n\n/***/ 1227:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onCreateRepo:_propTypes2.default.func.isRequired,onCreateToggle:_propTypes2.default.func.isRequired};var CreateDepartmentRepoDialog=function(_React$Component){_inherits(CreateDepartmentRepoDialog,_React$Component);function CreateDepartmentRepoDialog(props){_classCallCheck(this,CreateDepartmentRepoDialog);var _this=_possibleConstructorReturn(this,(CreateDepartmentRepoDialog.__proto__||Object.getPrototypeOf(CreateDepartmentRepoDialog)).call(this,props));_this.handleChange=function(e){_this.setState({repoName:e.target.value});};_this.handleSubmit=function(){var isValid=_this.validateRepoName();if(isValid){var repo=_this.createRepo(_this.state.repoName);_this.props.onCreateRepo(repo,'department');}};_this.handleKeyPress=function(e){if(e.key==='Enter'){_this.handleSubmit();e.preventDefault();}};_this.toggle=function(){_this.props.onCreateToggle();};_this.componentDidMount=function(){_this.newInput.focus();};_this.validateRepoName=function(){var errMessage='';var repoName=_this.state.repoName.trim();if(!repoName.length){errMessage=(0,_constants.gettext)('Name is required');_this.setState({errMessage:errMessage});return false;}if(repoName.indexOf('/')>-1){errMessage=(0,_constants.gettext)('Name should not include \\'/\\'.');_this.setState({errMessage:errMessage});return false;}return true;};_this.createRepo=function(repoName){var repo={repo_name:repoName};return repo;};_this.state={repoName:'',errMessage:''};_this.newInput=_react2.default.createRef();return _this;}_createClass(CreateDepartmentRepoDialog,[{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('New Department Library')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement(_reactstrap.Form,null,_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement(_reactstrap.Label,{'for':'repo-name'},(0,_constants.gettext)('Name')),_react2.default.createElement(_reactstrap.Input,{id:'repo-name',onKeyPress:this.handleKeyPress,innerRef:function innerRef(input){_this2.newInput=input;},value:this.state.repoName,onChange:this.handleChange,maxLength:_constants.maxFileName}))),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger'},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return CreateDepartmentRepoDialog;}(_react2.default.Component);CreateDepartmentRepoDialog.propTypes=propTypes;exports.default=CreateDepartmentRepoDialog;\n\n/***/ }),\n\n/***/ 1228:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var DismissGroupDialog=function(_React$Component){_inherits(DismissGroupDialog,_React$Component);function DismissGroupDialog(props){_classCallCheck(this,DismissGroupDialog);var _this=_possibleConstructorReturn(this,(DismissGroupDialog.__proto__||Object.getPrototypeOf(DismissGroupDialog)).call(this,props));_this.dismissGroup=function(){var that=_this;_seafileApi.seafileAPI.deleteGroup(_this.props.groupID).then(function(res){that.props.onGroupChanged();});};return _this;}_createClass(DismissGroupDialog,[{key:'render',value:function render(){return _react2.default.createElement(_reactstrap.Modal,{isOpen:this.props.showDismissGroupDialog,toggle:this.props.toggleDismissGroupDialog},_react2.default.createElement(_reactstrap.ModalHeader,null,(0,_constants.gettext)('Dismiss Group')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('span',null,(0,_constants.gettext)('Really want to dismiss this group?'))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.props.toggleDismissGroupDialog},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.dismissGroup},(0,_constants.gettext)('Dismiss'))));}}]);return DismissGroupDialog;}(_react2.default.Component);var DismissGroupDialogPropTypes={showDismissGroupDialog:_propTypes2.default.bool.isRequired,toggleDismissGroupDialog:_propTypes2.default.func.isRequired,loadGroup:_propTypes2.default.func.isRequired,groupID:_propTypes2.default.string.isRequired,onGroupChanged:_propTypes2.default.func.isRequired};DismissGroupDialog.propTypes=DismissGroupDialogPropTypes;exports.default=DismissGroupDialog;\n\n/***/ }),\n\n/***/ 1229:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var RenameGroupDialog=function(_React$Component){_inherits(RenameGroupDialog,_React$Component);function RenameGroupDialog(props){_classCallCheck(this,RenameGroupDialog);var _this=_possibleConstructorReturn(this,(RenameGroupDialog.__proto__||Object.getPrototypeOf(RenameGroupDialog)).call(this,props));_this.handleGroupNameChange=function(event){var name=event.target.value;_this.setState({newGroupName:name});};_this.renameGroup=function(){var name=_this.state.newGroupName.trim();if(name){var that=_this;_seafileApi.seafileAPI.renameGroup(_this.props.groupID,name).then(function(res){that.props.loadGroup(_this.props.groupID);that.props.onGroupChanged(res.data.id);});}_this.setState({newGroupName:''});_this.props.toggleRenameGroupDialog();};_this.handleKeyDown=function(event){if(event.keyCode===13){_this.renameGroup();}};_this.state={newGroupName:_this.props.currentGroupName};return _this;}_createClass(RenameGroupDialog,[{key:'render',value:function render(){return _react2.default.createElement(_reactstrap.Modal,{isOpen:this.props.showRenameGroupDialog,toggle:this.props.toggleRenameGroupDialog},_react2.default.createElement(_reactstrap.ModalHeader,null,(0,_constants.gettext)('Rename Group')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('label',{htmlFor:'newGroupName'},(0,_constants.gettext)('Rename group to')),_react2.default.createElement(_reactstrap.Input,{type:'text',id:'newGroupName',value:this.state.newGroupName,onChange:this.handleGroupNameChange,onKeyDown:this.handleKeyDown})),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.props.toggleRenameGroupDialog},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.renameGroup},(0,_constants.gettext)('Submit'))));}}]);return RenameGroupDialog;}(_react2.default.Component);var RenameGroupDialogPropTypes={showRenameGroupDialog:_propTypes2.default.bool.isRequired,toggleRenameGroupDialog:_propTypes2.default.func.isRequired,loadGroup:_propTypes2.default.func.isRequired,groupID:_propTypes2.default.string.isRequired,onGroupChanged:_propTypes2.default.func.isRequired,currentGroupName:_propTypes2.default.string.isRequired};RenameGroupDialog.propTypes=RenameGroupDialogPropTypes;exports.default=RenameGroupDialog;\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={fileType:_propTypes2.default.string,parentPath:_propTypes2.default.string.isRequired,onAddFile:_propTypes2.default.func.isRequired,checkDuplicatedName:_propTypes2.default.func.isRequired,addFileCancel:_propTypes2.default.func.isRequired};var CreateFile=function(_React$Component){_inherits(CreateFile,_React$Component);function CreateFile(props){_classCallCheck(this,CreateFile);var _this=_possibleConstructorReturn(this,(CreateFile.__proto__||Object.getPrototypeOf(CreateFile)).call(this,props));_this.handleChange=function(e){_this.setState({childName:e.target.value});};_this.handleSubmit=function(){var isDuplicated=_this.checkDuplicatedName();var newName=_this.state.childName;if(isDuplicated){var errMessage=(0,_constants.gettext)('The name \"{name}\" is already taken. Please choose a different name.');errMessage=errMessage.replace('{name}',_utils.Utils.HTMLescape(newName));_this.setState({errMessage:errMessage});}else{var path=_this.state.parentPath+newName;var isDraft=_this.state.isDraft;_this.props.onAddFile(path,isDraft);}};_this.handleKeyPress=function(e){if(e.key==='Enter'){_this.handleSubmit();e.preventDefault();}};_this.handleCheck=function(){var pos=_this.state.childName.lastIndexOf('.');if(_this.state.isDraft){// from draft to not draft\n// case 1, normally, the file name is ended with `(draft)`, like `test(draft).md`\n// case 2, the file name is not ended with `(draft)`, the user has deleted some characters, like `test(dra.md`\nvar p=_this.state.childName.substring(pos-7,pos);var fileName=_this.state.childName.substring(0,pos-7);var fileType=_this.state.childName.substring(pos);if(p==='(draft)'){// remove `(draft)` from file name\n_this.setState({childName:fileName+fileType,isDraft:!_this.state.isDraft});}else{// don't change file name\n_this.setState({isDraft:!_this.state.isDraft});}}if(!_this.state.isDraft){// from not draft to draft\n// case 1, test.md  ===> test(draft).md\n// case 2, .md ===> (draft).md\n// case 3, no '.' in the file name, don't change the file name\nif(pos>0){var _fileName=_this.state.childName.substring(0,pos);var _fileType=_this.state.childName.substring(pos);_this.setState({childName:_fileName+'(draft)'+_fileType,isDraft:!_this.state.isDraft});}else if(pos===0){_this.setState({childName:'(draft)'+_this.state.childName,isDraft:!_this.state.isdraft});}else{_this.setState({isDraft:!_this.state.isdraft});}}};_this.toggle=function(){_this.props.addFileCancel();};_this.checkDuplicatedName=function(){var isDuplicated=_this.props.checkDuplicatedName(_this.state.childName);return isDuplicated;};_this.state={parentPath:'',childName:props.fileType,isDraft:false,errMessage:''};_this.newInput=_react2.default.createRef();return _this;}_createClass(CreateFile,[{key:'componentDidMount',value:function componentDidMount(){var parentPath=this.props.parentPath;if(parentPath[parentPath.length-1]==='/'){// mainPanel\nthis.setState({parentPath:parentPath});}else{this.setState({parentPath:parentPath+'/'});// sidePanel\n}this.newInput.focus();this.newInput.setSelectionRange(0,0);}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('New File')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement(_reactstrap.Form,null,_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement(_reactstrap.Label,{'for':'fileName'},(0,_constants.gettext)('Name')),_react2.default.createElement(_reactstrap.Input,{id:'fileName',onKeyPress:this.handleKeyPress,innerRef:function innerRef(input){_this2.newInput=input;},value:this.state.childName,onChange:this.handleChange})),this.props.fileType=='.md'&&_constants.isDocs&&_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'checkbox',onChange:this.handleCheck}),'  ',(0,_constants.gettext)('This is a draft')))),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',className:'mt-2'},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return CreateFile;}(_react2.default.Component);CreateFile.propTypes=propTypes;exports.default=CreateFile;\n\n/***/ }),\n\n/***/ 1230:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _userSelect=__webpack_require__(23);var _userSelect2=_interopRequireDefault(_userSelect);__webpack_require__(1231);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={groupID:_propTypes2.default.string.isRequired,toggleTransferGroupDialog:_propTypes2.default.func.isRequired,onGroupChanged:_propTypes2.default.func.isRequired};var TransferGroupDialog=function(_React$Component){_inherits(TransferGroupDialog,_React$Component);function TransferGroupDialog(props){_classCallCheck(this,TransferGroupDialog);var _this=_possibleConstructorReturn(this,(TransferGroupDialog.__proto__||Object.getPrototypeOf(TransferGroupDialog)).call(this,props));_this.handleSelectChange=function(option){_this.setState({selectedOption:option,errMessage:''});_this.options=[];};_this.transferGroup=function(){var email=_this.state.selectedOption&&_this.state.selectedOption.email;if(email){_seafileApi.seafileAPI.transferGroup(_this.props.groupID,email).then(function(res){_this.props.toggleTransferGroupDialog();}).catch(function(error){if(error.response){_this.setState({errMessage:error.response.data.error_msg});}});}};_this.toggle=function(){_this.props.toggleTransferGroupDialog();};_this.state={selectedOption:null,errMessage:''};_this.options=[];return _this;}_createClass(TransferGroupDialog,[{key:'render',value:function render(){return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Transfer Group')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('p',null,(0,_constants.gettext)('Transfer group to')),_react2.default.createElement(_userSelect2.default,{ref:'userSelect',isMulti:false,className:'reviewer-select',placeholder:(0,_constants.gettext)('Please enter 1 or more character'),onSelectChange:this.handleSelectChange}),_react2.default.createElement('div',{className:'error'},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Close')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.transferGroup},(0,_constants.gettext)('Submit'))));}}]);return TransferGroupDialog;}(_react2.default.Component);TransferGroupDialog.propTypes=propTypes;exports.default=TransferGroupDialog;\n\n/***/ }),\n\n/***/ 1231:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 1232:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);var _roleEditor=__webpack_require__(317);var _roleEditor2=_interopRequireDefault(_roleEditor);var _userSelect=__webpack_require__(23);var _userSelect2=_interopRequireDefault(_userSelect);__webpack_require__(1233);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={groupID:_propTypes2.default.string.isRequired,toggleManageMembersDialog:_propTypes2.default.func.isRequired,onGroupChanged:_propTypes2.default.func.isRequired,isOwner:_propTypes2.default.bool.isRequired};var ManageMembersDialog=function(_React$Component){_inherits(ManageMembersDialog,_React$Component);function ManageMembersDialog(props){_classCallCheck(this,ManageMembersDialog);var _this=_possibleConstructorReturn(this,(ManageMembersDialog.__proto__||Object.getPrototypeOf(ManageMembersDialog)).call(this,props));_this.onSelectChange=function(option){_this.setState({selectedOption:option,errMessage:[]});};_this.addGroupMember=function(){var emails=[];for(var i=0;i<_this.state.selectedOption.length;i++){emails.push(_this.state.selectedOption[i].email);}_seafileApi.seafileAPI.addGroupMembers(_this.props.groupID,emails).then(function(res){_this.onGroupMembersChange();_this.setState({selectedOption:null});_this.refs.userSelect.clearSelect();if(res.data.failed.length>0){_this.setState({errMessage:res.data.failed});}});};_this.listGroupMembers=function(){_seafileApi.seafileAPI.listGroupMembers(_this.props.groupID).then(function(res){_this.setState({groupMembers:res.data});});};_this.onGroupMembersChange=function(){_this.listGroupMembers();};_this.toggleItemFreezed=function(isFreezed){_this.setState({isItemFreezed:isFreezed});};_this.toggle=function(){_this.props.toggleManageMembersDialog();};_this.state={groupMembers:[],selectedOption:null,errMessage:[],isItemFreezed:false};return _this;}_createClass(ManageMembersDialog,[{key:'componentDidMount',value:function componentDidMount(){this.listGroupMembers();}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Manage group members')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('p',null,(0,_constants.gettext)('Add group member')),_react2.default.createElement('div',{className:'add-members'},_react2.default.createElement(_userSelect2.default,{placeholder:(0,_constants.gettext)('Select users...'),onSelectChange:this.onSelectChange,ref:'userSelect',isMulti:true,className:'add-members-select'}),this.state.selectedOption?_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.addGroupMember},(0,_constants.gettext)('Submit')):_react2.default.createElement(_reactstrap.Button,{color:'secondary',disabled:true},(0,_constants.gettext)('Submit'))),this.state.errMessage.length>0&&this.state.errMessage.map(function(item){var index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return _react2.default.createElement('div',{className:'group-error error',key:index},item.error_msg);}),_react2.default.createElement('div',{className:'manage-members'},_react2.default.createElement(_reactstrap.Table,{size:'sm',className:'manage-members-table'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'15%'}),_react2.default.createElement('th',{width:'45%'},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{width:'30%'},(0,_constants.gettext)('Role')),_react2.default.createElement('th',{width:'10%'}))),_react2.default.createElement('tbody',null,this.state.groupMembers.length>0&&this.state.groupMembers.map(function(item){var index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return _react2.default.createElement(_react2.default.Fragment,{key:index},_react2.default.createElement(Member,{item:item,onGroupMembersChange:_this2.onGroupMembersChange,groupID:_this2.props.groupID,isOwner:_this2.props.isOwner,isItemFreezed:_this2.state.isItemFreezed,toggleItemFreezed:_this2.toggleItemFreezed}));}))))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Close'))));}}]);return ManageMembersDialog;}(_react2.default.Component);ManageMembersDialog.propTypes=propTypes;var MemberPropTypes={item:_propTypes2.default.object.isRequired,onGroupMembersChange:_propTypes2.default.func.isRequired,groupID:_propTypes2.default.string.isRequired,isOwner:_propTypes2.default.bool.isRequired};var Member=function(_React$PureComponent){_inherits(Member,_React$PureComponent);function Member(props){_classCallCheck(this,Member);var _this3=_possibleConstructorReturn(this,(Member.__proto__||Object.getPrototypeOf(Member)).call(this,props));_this3.onChangeUserRole=function(role){var isAdmin=role==='Admin'?'True':'False';_seafileApi.seafileAPI.setGroupAdmin(_this3.props.groupID,_this3.props.item.email,isAdmin).then(function(res){_this3.props.onGroupMembersChange();});_this3.setState({highlight:false});};_this3.deleteMember=function(name){_seafileApi.seafileAPI.deleteGroupMember(_this3.props.groupID,name).then(function(res){_this3.props.onGroupMembersChange();});};_this3.handleMouseOver=function(){if(_this3.props.isItemFreezed)return;_this3.setState({highlight:true});};_this3.handleMouseLeave=function(){if(_this3.props.isItemFreezed)return;_this3.setState({highlight:false});};_this3.translateRole=function(role){if(role==='Admin'){return(0,_constants.gettext)('Admin');}else if(role==='Member'){return(0,_constants.gettext)('Member');}else if(role==='Owner'){return(0,_constants.gettext)('Owner');}};_this3.roles=['Admin','Member'];_this3.state={highlight:false};return _this3;}_createClass(Member,[{key:'render',value:function render(){var _props=this.props,item=_props.item,isOwner=_props.isOwner;var deleteAuthority=item.role!=='Owner'&&isOwner===true||item.role==='Member'&&isOwner===false;return _react2.default.createElement('tr',{onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,className:this.state.highlight?'editing':''},_react2.default.createElement('th',{scope:'row'},_react2.default.createElement('img',{className:'avatar',src:item.avatar_url,alt:''})),_react2.default.createElement('td',null,item.name),_react2.default.createElement('td',null,(isOwner===false||isOwner===true&&item.role==='Owner')&&_react2.default.createElement('span',{className:'group-admin'},this.translateRole(item.role)),isOwner===true&&item.role!=='Owner'&&_react2.default.createElement(_roleEditor2.default,{isTextMode:true,isEditIconShow:this.state.highlight,currentRole:item.role,roles:this.roles,onRoleChanged:this.onChangeUserRole,toggleItemFreezed:this.props.toggleItemFreezed})),_react2.default.createElement('td',null,deleteAuthority&&!this.props.isItemFreezed&&_react2.default.createElement('i',{className:'fa fa-times delete-group-member-icon',name:item.email,onClick:this.deleteMember.bind(this,item.email)})));}}]);return Member;}(_react2.default.PureComponent);Member.propTypes=MemberPropTypes;exports.default=ManageMembersDialog;\n\n/***/ }),\n\n/***/ 1233:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 1234:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 1235:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _group=__webpack_require__(312);var _group2=_interopRequireDefault(_group);var _repo=__webpack_require__(125);var _repo2=_interopRequireDefault(_repo);var _groupsToolbar=__webpack_require__(1236);var _groupsToolbar2=_interopRequireDefault(_groupsToolbar);var _sharedRepoListView=__webpack_require__(316);var _sharedRepoListView2=_interopRequireDefault(_sharedRepoListView);var _createGroupDialog=__webpack_require__(1237);var _createGroupDialog2=_interopRequireDefault(_createGroupDialog);var _libDetails=__webpack_require__(314);var _libDetails2=_interopRequireDefault(_libDetails);__webpack_require__(1238);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={group:_propTypes2.default.object.isRequired,onItemDetails:_propTypes2.default.func.isRequired};var RepoListViewPanel=function(_React$Component){_inherits(RepoListViewPanel,_React$Component);function RepoListViewPanel(props){_classCallCheck(this,RepoListViewPanel);var _this=_possibleConstructorReturn(this,(RepoListViewPanel.__proto__||Object.getPrototypeOf(RepoListViewPanel)).call(this,props));_this.onItemUnshare=function(repo){var group=_this.props.group;_seafileApi.seafileAPI.unshareRepo(repo.repo_id,{share_type:'group',group_id:group.id}).then(function(){var repoList=_this.state.repoList.filter(function(item){return item.repo_id!==repo.repo_id;});_this.setState({repoList:repoList});});};_this.onItemDelete=function(repo){var group=_this.props.group;_seafileApi.seafileAPI.deleteGroupOwnedLibrary(group.id,repo.repo_id).then(function(){var repoList=_this.state.repoList.filter(function(item){return item.repo_id!==repo.repo_id;});_this.setState({repoList:repoList});}).catch(function(){// todo;\n});};_this.onItemRename=function(repo,newName){var group=_this.props.group;_seafileApi.seafileAPI.renameGroupOwnedLibrary(group.id,repo.repo_id,newName).then(function(res){var repoList=_this.state.repoList.map(function(item){if(item.repo_id===repo.repo_id){item.repo_name=newName;}return item;});_this.setState({repoList:repoList});}).catch(function(){// todo\n});};_this.state={repoList:[]};return _this;}_createClass(RepoListViewPanel,[{key:'componentDidMount',value:function componentDidMount(){var group=this.props.group;var repoList=group.repos.map(function(item){var repo=new _repo2.default(item);return repo;});this.setState({repoList:repoList});}},{key:'render',value:function render(){var group=this.props.group;var emptyTip=_react2.default.createElement('p',{className:'group-item-empty-tip'},(0,_constants.gettext)('No libraries'));return _react2.default.createElement('div',{className:'group-list-panel'},_react2.default.createElement('h4',{className:'group-item-heading ellipsis'},_react2.default.createElement('a',{href:_constants.siteRoot+'group/'+group.id+'/',title:group.name},group.name)),this.state.repoList.length===0?emptyTip:_react2.default.createElement(_sharedRepoListView2.default,{isShowTableThread:false,isShowRepoOwner:false,currentGroup:this.props.group,repoList:this.state.repoList,onItemUnshare:this.onItemUnshare,onItemDelete:this.onItemDelete,onItemDetails:this.props.onItemDetails,onItemRename:this.onItemRename}));}}]);return RepoListViewPanel;}(_react2.default.Component);RepoListViewPanel.propTypes=propTypes;var GroupsView=function(_React$Component2){_inherits(GroupsView,_React$Component2);function GroupsView(props){_classCallCheck(this,GroupsView);var _this2=_possibleConstructorReturn(this,(GroupsView.__proto__||Object.getPrototypeOf(GroupsView)).call(this,props));_this2.listGroups=function(){_seafileApi.seafileAPI.listGroups(true).then(function(res){// `{'with_repos': 1}`: list repos of every group\n// res: {data: [...], status: 200, statusText: \"OK\", headers: {}, config: {},}\nvar groupList=res.data.map(function(item){var group=new _group2.default(item);return group;});_this2.setState({isLoading:false,groupList:groupList});}).catch(function(error){if(error.response){if(error.response.status==403){_this2.setState({isLoading:false,errorMsg:(0,_constants.gettext)('Permission denied')});location.href=_constants.loginUrl+'?next='+encodeURIComponent(location.href);}else{_this2.setState({isLoading:false,errorMsg:(0,_constants.gettext)('Error')});}}else{_this2.setState({isLoading:false,errorMsg:(0,_constants.gettext)('Please check the network.')});}});};_this2.toggleAddGroupModal=function(){_this2.setState({showAddGroupModal:!_this2.state.showAddGroupModal});};_this2.onCreateGroup=function(){_this2.setState({showAddGroupModal:false,isLoading:true,groupList:[]});_this2.listGroups();};_this2.onItemDetails=function(repo){_this2.setState({isShowDetails:true,currentRepo:repo});};_this2.closeDetails=function(){_this2.setState({isShowDetails:false});};_this2.state={isLoading:true,errorMsg:'',groupList:[],showAddGroupModal:false,isShowDetails:false,currentRepo:null};return _this2;}_createClass(GroupsView,[{key:'componentDidMount',value:function componentDidMount(){this.listGroups();}},{key:'render',value:function render(){var _this3=this;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_groupsToolbar2.default,{onShowSidePanel:this.props.onShowSidePanel,onSearchedClick:this.props.onSearchedClick,toggleAddGroupModal:this.toggleAddGroupModal}),_react2.default.createElement('div',{className:'main-panel-center flex-row'},_react2.default.createElement('div',{className:'cur-view-container'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement('h3',{className:'sf-heading'},(0,_constants.gettext)('My Groups'))),_react2.default.createElement('div',{className:'cur-view-content cur-view-content-groups'},this.state.isLoading&&_react2.default.createElement(_loading2.default,null),!this.state.isLoading&&this.state.errorMsg!==''&&this.state.errorMsg,!this.state.isLoading&&this.state.groupList.map(function(group,index){return _react2.default.createElement(RepoListViewPanel,{key:index,group:group,onItemDetails:_this3.onItemDetails});}))),this.state.isShowDetails&&_react2.default.createElement('div',{className:'cur-view-detail'},_react2.default.createElement(_libDetails2.default,{currentRepo:this.state.currentRepo,closeDetails:this.closeDetails}))),this.state.showAddGroupModal&&_react2.default.createElement(_createGroupDialog2.default,{toggleAddGroupModal:this.toggleAddGroupModal,onCreateGroup:this.onCreateGroup,showAddGroupModal:this.state.showAddGroupModal}));}}]);return GroupsView;}(_react2.default.Component);var GroupsViewPropTypes={onShowSidePanel:_propTypes2.default.func.isRequired,onSearchedClick:_propTypes2.default.func.isRequired};GroupsView.propTypes=GroupsViewPropTypes;exports.default=GroupsView;\n\n/***/ }),\n\n/***/ 1236:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _commonToolbar=__webpack_require__(80);var _commonToolbar2=_interopRequireDefault(_commonToolbar);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={searchPlaceholder:_propTypes2.default.string,onShowSidePanel:_propTypes2.default.func.isRequired,onSearchedClick:_propTypes2.default.func.isRequired,toggleAddGroupModal:_propTypes2.default.func.isRequired};var GroupsToolbar=function(_React$Component){_inherits(GroupsToolbar,_React$Component);function GroupsToolbar(props){_classCallCheck(this,GroupsToolbar);return _possibleConstructorReturn(this,(GroupsToolbar.__proto__||Object.getPrototypeOf(GroupsToolbar)).call(this,props));}_createClass(GroupsToolbar,[{key:'render',value:function render(){var _props=this.props,onShowSidePanel=_props.onShowSidePanel,onSearchedClick=_props.onSearchedClick;return _react2.default.createElement('div',{className:'main-panel-north border-left-show'},_react2.default.createElement('div',{className:'cur-view-toolbar'},_react2.default.createElement('div',{className:'operation'},_react2.default.createElement(_reactstrap.Button,{color:'btn btn-secondary operation-item',onClick:this.props.toggleAddGroupModal},_react2.default.createElement('i',{className:'fas fa-plus-square text-secondary mr-1'}),(0,_constants.gettext)('New Group'))),_react2.default.createElement('span',{title:'Side Nav Menu',onClick:onShowSidePanel,className:'sf2-icon-menu side-nav-toggle hidden-md-up d-md-none'})),_react2.default.createElement(_commonToolbar2.default,{searchPlaceholder:this.props.searchPlaceholder,onSearchedClick:onSearchedClick}));}}]);return GroupsToolbar;}(_react2.default.Component);GroupsToolbar.propTypes=propTypes;exports.default=GroupsToolbar;\n\n/***/ }),\n\n/***/ 1237:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CreateGroupDialog=function(_React$Component){_inherits(CreateGroupDialog,_React$Component);function CreateGroupDialog(props){_classCallCheck(this,CreateGroupDialog);var _this=_possibleConstructorReturn(this,(CreateGroupDialog.__proto__||Object.getPrototypeOf(CreateGroupDialog)).call(this,props));_this.handleGroupChange=function(event){var name=event.target.value.trim();_this.setState({groupName:name});if(_this.state.errorMsg){_this.setState({errorMsg:''});}};_this.handleSubmitGroup=function(){var name=_this.state.groupName.trim();if(name){var that=_this;_seafileApi.seafileAPI.createGroup(name).then(function(res){that.props.onCreateGroup();}).catch(function(error){var errorMsg=(0,_constants.gettext)(error.response.data.error_msg);_this.setState({errorMsg:errorMsg});});}_this.setState({groupName:''});};_this.handleKeyDown=function(e){if(e.keyCode===13){_this.handleSubmitGroup();}};_this.state={groupName:'',errorMsg:''};return _this;}_createClass(CreateGroupDialog,[{key:'render',value:function render(){return _react2.default.createElement(_reactstrap.Modal,{isOpen:this.props.showAddGroupModal,toggle:this.props.toggleAddGroupModal},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.toggleAddGroupModal},(0,_constants.gettext)('New Group')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('label',{htmlFor:'groupName'},(0,_constants.gettext)('Name')),_react2.default.createElement(_reactstrap.Input,{type:'text',id:'groupName',value:this.state.groupName,onChange:this.handleGroupChange,onKeyDown:this.handleKeyDown}),_react2.default.createElement('span',{className:'error'},this.state.errorMsg)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.props.toggleAddGroupModal},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmitGroup},(0,_constants.gettext)('Submit'))));}}]);return CreateGroupDialog;}(_react2.default.Component);var CreateGroupDialogPropTypes={toggleAddGroupModal:_propTypes2.default.func.isRequired,onCreateGroup:_propTypes2.default.func.isRequired,showAddGroupModal:_propTypes2.default.bool.isRequired};CreateGroupDialog.propTypes=CreateGroupDialogPropTypes;exports.default=CreateGroupDialog;\n\n/***/ }),\n\n/***/ 1238:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 1239:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _commonToolbar=__webpack_require__(80);var _commonToolbar2=_interopRequireDefault(_commonToolbar);var _newWikiDialog=__webpack_require__(1240);var _newWikiDialog2=_interopRequireDefault(_newWikiDialog);var _wikiSelectDialog=__webpack_require__(1241);var _wikiSelectDialog2=_interopRequireDefault(_wikiSelectDialog);var _wikiListView=__webpack_require__(1242);var _wikiListView2=_interopRequireDefault(_wikiListView);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Wikis=function(_Component){_inherits(Wikis,_Component);function Wikis(props){_classCallCheck(this,Wikis);var _this=_possibleConstructorReturn(this,(Wikis.__proto__||Object.getPrototypeOf(Wikis)).call(this,props));_this.getWikis=function(){_seafileApi.seafileAPI.listWikis().then(function(res){_this.setState({loading:false,wikis:res.data.data});}).catch(function(error){if(error.response){if(error.response.status==403){_this.setState({loading:false,errorMsg:(0,_constants.gettext)('Permission denied')});location.href=_constants.loginUrl+'?next='+encodeURIComponent(location.href);}else{_this.setState({loading:false,errorMsg:(0,_constants.gettext)('Error')});}}else{_this.setState({loading:false,errorMsg:(0,_constants.gettext)('Please check the network.')});}});};_this.clickMenuToggle=function(e){e.preventDefault();_this.onMenuToggle();};_this.onMenuToggle=function(){_this.setState({isShowAddWikiMenu:!_this.state.isShowAddWikiMenu});};_this.onSelectToggle=function(){_this.setState({isShowSelectDialog:!_this.state.isShowSelectDialog});};_this.onCreateToggle=function(){_this.setState({isShowCreateDialog:!_this.state.isShowCreateDialog});};_this.addWiki=function(isExist,name,repoID){_seafileApi.seafileAPI.addWiki(isExist,name,repoID).then(function(res){_this.state.wikis.push(res.data);_this.setState({wikis:_this.state.wikis});}).catch(function(error){if(error.response){var errorMsg=error.response.data.error_msg;_toast2.default.danger(errorMsg);}});};_this.renameWiki=function(wiki,newName){_seafileApi.seafileAPI.renameWiki(wiki.slug,newName).then(function(res){var wikis=_this.state.wikis.map(function(item){if(item.name===wiki.name){item=res.data;}return item;});_this.setState({wikis:wikis});}).catch(function(error){if(error.response){var errorMsg=error.response.data.error_msg;_toast2.default.danger(errorMsg);}});};_this.deleteWiki=function(wiki){_seafileApi.seafileAPI.deleteWiki(wiki.slug).then(function(){var wikis=_this.state.wikis.filter(function(item){return item.name!==wiki.name;});_this.setState({wikis:wikis});}).catch(function(error){if(error.response){var errorMsg=error.response.data.error_msg;_toast2.default.danger(errorMsg);}});};_this.state={loading:true,errorMsg:'',wikis:[],isShowAddWikiMenu:false,isShowSelectDialog:false,isShowCreateDialog:false};return _this;}_createClass(Wikis,[{key:'componentDidMount',value:function componentDidMount(){this.getWikis();}},{key:'render',value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'main-panel-north border-left-show'},_react2.default.createElement('div',{className:'cur-view-toolbar'},_react2.default.createElement('span',{className:'sf2-icon-menu side-nav-toggle hidden-md-up d-md-none',title:'Side Nav Menu',onClick:this.props.onShowSidePanel}),_react2.default.createElement('div',{className:'operation'},_react2.default.createElement(_reactstrap.Dropdown,{tag:'div',isOpen:this.state.isShowAddWikiMenu,toggle:this.onMenuToggle},_react2.default.createElement(_reactstrap.DropdownToggle,{className:'btn btn-secondary operation-item'},_react2.default.createElement('i',{className:'fa fa-plus-square text-secondary mr-1'}),(0,_constants.gettext)('Add Wiki')),_react2.default.createElement(_reactstrap.DropdownMenu,null,_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.onCreateToggle},(0,_constants.gettext)('New Wiki')),_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.onSelectToggle},(0,_constants.gettext)('Choose a library as Wiki')))))),_react2.default.createElement(_commonToolbar2.default,{onSearchedClick:this.props.onSearchedClick})),_react2.default.createElement('div',{className:'main-panel-center'},_react2.default.createElement('div',{className:'cur-view-container',id:'wikis'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement('div',{className:'path-container'},_react2.default.createElement('h3',{className:'sf-heading'},(0,_constants.gettext)('Wikis')))),_react2.default.createElement('div',{className:'cur-view-content'},(this.state.loading||this.state.wikis.length!==0)&&_react2.default.createElement(_wikiListView2.default,{data:this.state,renameWiki:this.renameWiki,deleteWiki:this.deleteWiki}),!this.state.loading&&this.state.wikis.length===0&&_react2.default.createElement('div',{className:'message empty-tip'},_react2.default.createElement('h2',null,(0,_constants.gettext)('You do not have any wiki')),_react2.default.createElement('p',null,(0,_constants.gettext)('Seafile Wiki enables you to organize your knowledge in a simple way. The contents of wiki is stored in a normal library with pre-defined file/folder structure. This enables you to edit your wiki in your desktop and then sync back to the server.')))))),this.state.isShowCreateDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_newWikiDialog2.default,{toggleCancel:this.onCreateToggle,addWiki:this.addWiki})),this.state.isShowSelectDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_wikiSelectDialog2.default,{toggleCancel:this.onSelectToggle,addWiki:this.addWiki})));}}]);return Wikis;}(_react.Component);exports.default=Wikis;\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var URLDecorator=function(){function URLDecorator(){_classCallCheck(this,URLDecorator);}_createClass(URLDecorator,null,[{key:'getUrl',value:function getUrl(options){var url='';var params='';switch(options.type){case'download_historic_file':params='p='+options.filePath;url=_constants.siteRoot+'repo/'+_constants.historyRepoID+'/'+options.objID+'/download?'+params;break;case'download_dir_zip_url':url=_constants.fileServerRoot+'zip/'+options.token;break;case'download_file_url':url=_constants.siteRoot+'lib/'+options.repoID+'/file'+_utils.Utils.encodePath(options.filePath)+'?dl=1';break;case'file_revisions':params='p='+_utils.Utils.encodePath(options.filePath);url=_constants.siteRoot+'repo/file_revisions/'+options.repoID+'/?'+params;break;case'open_via_client':url='seafile://openfile?repo_id='+options.repoID+'&path='+_utils.Utils.encodePath(options.filePath);break;case'draft_view':url=_constants.siteRoot+'lib/'+options.repoID+'/file'+options.filePath+'?mode=edit&draft_id='+options.draftId;break;default:url='';break;}return url;}}]);return URLDecorator;}();exports.default=URLDecorator;\n\n/***/ }),\n\n/***/ 1240:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={toggleCancel:_propTypes2.default.func.isRequired,addWiki:_propTypes2.default.func.isRequired};var NewWikiDialog=function(_React$Component){_inherits(NewWikiDialog,_React$Component);function NewWikiDialog(props){_classCallCheck(this,NewWikiDialog);var _this=_possibleConstructorReturn(this,(NewWikiDialog.__proto__||Object.getPrototypeOf(NewWikiDialog)).call(this,props));_this.inputNewName=function(e){_this.setState({name:e.target.value});};_this.handleKeyPress=function(e){if(e.key==='Enter'){_this.handleSubmit();}};_this.handleSubmit=function(){var _this$state=_this.state,isExist=_this$state.isExist,name=_this$state.name,repoID=_this$state.repoID;_this.props.addWiki(isExist,name,repoID);_this.props.toggleCancel();};_this.toggle=function(){_this.props.toggleCancel();};_this.state={isExist:false,name:'',repoID:''};_this.newName=_react2.default.createRef();return _this;}_createClass(NewWikiDialog,[{key:'componentDidMount',value:function componentDidMount(){this.newName.focus();this.newName.setSelectionRange(0,-1);}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('New Wiki')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('label',{className:'form-label'},(0,_constants.gettext)('Name')),_react2.default.createElement(_reactstrap.Input,{onKeyPress:this.handleKeyPress,innerRef:function innerRef(input){_this2.newName=input;},value:this.state.name,onChange:this.inputNewName})),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return NewWikiDialog;}(_react2.default.Component);NewWikiDialog.propTypes=propTypes;exports.default=NewWikiDialog;\n\n/***/ }),\n\n/***/ 1241:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _repo=__webpack_require__(125);var _repo2=_interopRequireDefault(_repo);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={toggleCancel:_propTypes2.default.func.isRequired,addWiki:_propTypes2.default.func.isRequired};var WikiSelectDialog=function(_React$Component){_inherits(WikiSelectDialog,_React$Component);function WikiSelectDialog(props){_classCallCheck(this,WikiSelectDialog);var _this=_possibleConstructorReturn(this,(WikiSelectDialog.__proto__||Object.getPrototypeOf(WikiSelectDialog)).call(this,props));_this.onChange=function(repo){_this.setState({name:repo.repo_name,repoID:repo.repo_id});};_this.handleSubmit=function(){var _this$state=_this.state,isExist=_this$state.isExist,name=_this$state.name,repoID=_this$state.repoID;_this.props.addWiki(isExist,name,repoID);_this.props.toggleCancel();};_this.toggle=function(){_this.props.toggleCancel();};_this.state={repos:[],isExist:true,name:'',repoID:''};return _this;}_createClass(WikiSelectDialog,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.listRepos().then(function(res){var repoList=res.data.repos.map(function(item){var repo=new _repo2.default(item);return repo;});repoList=_utils.Utils.sortRepos(repoList,'name','asc');_this2.setState({repos:repoList});});}},{key:'render',value:function render(){var _this3=this;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Choose a library as Wiki')),_react2.default.createElement(_reactstrap.ModalBody,{className:'dialog-list-container'},_react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'12%'}),_react2.default.createElement('th',{width:'13%'}),_react2.default.createElement('th',{width:'50%'},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{width:'25%'},(0,_constants.gettext)('Last Update')))),_react2.default.createElement('tbody',null,this.state.repos.map(function(repo,index){return _react2.default.createElement('tr',{key:index},_react2.default.createElement('td',{className:'text-center'},_react2.default.createElement('input',{type:'radio',className:'vam',name:'repo',value:repo.repo_id,onChange:_this3.onChange.bind(_this3,repo)})),_react2.default.createElement('td',{className:'text-center'},_react2.default.createElement('img',{src:_constants.siteRoot+'media/img/lib/48/lib.png',width:'24',alt:(0,_constants.gettext)('icon')})),_react2.default.createElement('td',null,repo.repo_name),_react2.default.createElement('td',null,(0,_moment2.default)(repo.last_modified).fromNow()));})))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return WikiSelectDialog;}(_react2.default.Component);WikiSelectDialog.propTypes=propTypes;exports.default=WikiSelectDialog;\n\n/***/ }),\n\n/***/ 1242:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _wikiListItem=__webpack_require__(1243);var _wikiListItem2=_interopRequireDefault(_wikiListItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={data:_propTypes2.default.object.isRequired,renameWiki:_propTypes2.default.func.isRequired,deleteWiki:_propTypes2.default.func.isRequired};var WikiListView=function(_Component){_inherits(WikiListView,_Component);function WikiListView(props){_classCallCheck(this,WikiListView);var _this=_possibleConstructorReturn(this,(WikiListView.__proto__||Object.getPrototypeOf(WikiListView)).call(this,props));_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnfreezedItem=function(){_this.setState({isItemFreezed:false});};_this.state={isItemFreezed:false};return _this;}_createClass(WikiListView,[{key:'render',value:function render(){var _this2=this;var _props$data=this.props.data,loading=_props$data.loading,errorMsg=_props$data.errorMsg,wikis=_props$data.wikis;if(loading){return _react2.default.createElement('span',{className:'loading-icon loading-tip'});}else if(errorMsg){return _react2.default.createElement('p',{className:'error text-center'},errorMsg);}else{return _react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'35%'},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{width:'20%'},(0,_constants.gettext)('Owner')),_react2.default.createElement('th',{width:'20%'},(0,_constants.gettext)('Last Update')),_react2.default.createElement('th',{width:'15%'},(0,_constants.gettext)('Permission')),_react2.default.createElement('th',{width:'10%'}))),_react2.default.createElement('tbody',null,wikis.map(function(wiki,index){return _react2.default.createElement(_wikiListItem2.default,{key:index,wiki:wiki,renameWiki:_this2.props.renameWiki,deleteWiki:_this2.props.deleteWiki,isItemFreezed:_this2.state.isItemFreezed,onFreezedItem:_this2.onFreezedItem,onUnfreezedItem:_this2.onUnfreezedItem});})));}}}]);return WikiListView;}(_react.Component);WikiListView.propTypes=propTypes;exports.default=WikiListView;\n\n/***/ }),\n\n/***/ 1243:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _wikiPermissionEditor=__webpack_require__(1244);var _wikiPermissionEditor2=_interopRequireDefault(_wikiPermissionEditor);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _wikiDeleteDialog=__webpack_require__(1245);var _wikiDeleteDialog2=_interopRequireDefault(_wikiDeleteDialog);var _rename=__webpack_require__(143);var _rename2=_interopRequireDefault(_rename);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={wiki:_propTypes2.default.object.isRequired,renameWiki:_propTypes2.default.func.isRequired,deleteWiki:_propTypes2.default.func.isRequired,isItemFreezed:_propTypes2.default.bool.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnfreezedItem:_propTypes2.default.func.isRequired};var WikiListItem=function(_Component){_inherits(WikiListItem,_Component);function WikiListItem(props){_classCallCheck(this,WikiListItem);var _this=_possibleConstructorReturn(this,(WikiListItem.__proto__||Object.getPrototypeOf(WikiListItem)).call(this,props));_this.clickMenuToggle=function(e){e.preventDefault();_this.onMenuToggle(e);};_this.onMenuToggle=function(e){var targetType=e.target.dataset.toggle;if(targetType!=='item'){if(_this.props.isItemFreezed){_this.setState({highlight:false,isShowMenuControl:false,isShowWikiMenu:!_this.state.isShowWikiMenu});_this.props.onUnfreezedItem();}else{_this.setState({isShowWikiMenu:!_this.state.isShowWikiMenu});_this.props.onFreezedItem();}}};_this.onMouseEnter=function(){if(!_this.props.isItemFreezed){_this.setState({isShowMenuControl:true,highlight:true,showOpIcon:true});}};_this.onMouseLeave=function(){if(!_this.props.isItemFreezed){_this.setState({isShowMenuControl:false,highlight:false,showOpIcon:false});}};_this.changePerm=function(permission){var wiki=_this.props.wiki;_seafileApi.seafileAPI.updateWikiPermission(wiki.slug,permission).then(function(){_this.setState({permission:permission});}).catch(function(error){if(error.response){var errorMsg=error.response.data.error_msg;_toast2.default.danger(errorMsg);}});};_this.onRenameToggle=function(e){_this.props.onFreezedItem();_this.setState({isShowWikiMenu:false,isShowMenuControl:false,isRenameing:true});};_this.onRenameConfirm=function(newName){_this.renameWiki(newName);_this.onRenameCancel();};_this.onRenameCancel=function(){_this.props.onUnfreezedItem();_this.setState({isRenameing:false});};_this.onDeleteToggle=function(){_this.props.onUnfreezedItem();_this.setState({isShowDeleteDialog:!_this.state.isShowDeleteDialog,isShowWikiMenu:false,isShowMenuControl:false});};_this.onDeleteCancel=function(){_this.props.onUnfreezedItem();_this.setState({isShowDeleteDialog:!_this.state.isShowDeleteDialog});};_this.renameWiki=function(newName){var wiki=_this.props.wiki;_this.props.renameWiki(wiki,newName);};_this.deleteWiki=function(){var wiki=_this.props.wiki;_this.props.deleteWiki(wiki);_this.setState({isShowDeleteDialog:!_this.state.isShowDeleteDialog});};_this.state={isShowWikiMenu:false,isShowDeleteDialog:false,isShowMenuControl:false,isRenameing:false,highlight:false,permission:_this.props.wiki.permission,showOpIcon:false};_this.permissions=['private','public'];return _this;}_createClass(WikiListItem,[{key:'render',value:function render(){var wiki=this.props.wiki;var userProfileURL=_constants.siteRoot+'profile/'+encodeURIComponent(wiki.owner)+'/';return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('tr',{className:this.state.highlight?'tr-highlight':'',onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{className:'name'},this.state.isRenameing?_react2.default.createElement(_rename2.default,{wiki:wiki,name:wiki.name,onRenameConfirm:this.onRenameConfirm,onRenameCancel:this.onRenameCancel}):_react2.default.createElement('a',{href:wiki.link},wiki.name)),_react2.default.createElement('td',null,_react2.default.createElement('a',{href:userProfileURL,target:'_blank'},wiki.owner_nickname)),_react2.default.createElement('td',null,(0,_moment2.default)(wiki.updated_at).fromNow()),_react2.default.createElement('td',null,_react2.default.createElement(_wikiPermissionEditor2.default,{isTextMode:true,isEditIconShow:this.state.showOpIcon,currentPermission:this.state.permission,permissions:this.permissions,onPermissionChanged:this.changePerm})),_react2.default.createElement('td',{className:'text-center cursor-pointer'},this.state.isShowMenuControl&&_react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.isShowWikiMenu,toggle:this.onMenuToggle},_react2.default.createElement(_reactstrap.DropdownToggle,{tag:'a',className:'fas fa-ellipsis-v',title:(0,_constants.gettext)('More Operations'),'data-toggle':'dropdown','aria-expanded':this.state.isShowWikiMenu,onClick:this.clickMenuToggle}),_react2.default.createElement(_reactstrap.DropdownMenu,null,_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.onRenameToggle},(0,_constants.gettext)('Rename')),_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.onDeleteToggle},(0,_constants.gettext)('Delete')))))),this.state.isShowDeleteDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_wikiDeleteDialog2.default,{toggleCancel:this.onDeleteCancel,handleSubmit:this.deleteWiki})));}}]);return WikiListItem;}(_react.Component);WikiListItem.propTypes=propTypes;exports.default=WikiListItem;\n\n/***/ }),\n\n/***/ 1244:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _selectEditor=__webpack_require__(32);var _selectEditor2=_interopRequireDefault(_selectEditor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isTextMode:_propTypes2.default.bool.isRequired,isEditIconShow:_propTypes2.default.bool.isRequired,permissions:_propTypes2.default.array.isRequired,currentPermission:_propTypes2.default.string.isRequired,onPermissionChanged:_propTypes2.default.func.isRequired};var WikiPermissionEditor=function(_React$Component){_inherits(WikiPermissionEditor,_React$Component);function WikiPermissionEditor(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WikiPermissionEditor);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WikiPermissionEditor.__proto__||Object.getPrototypeOf(WikiPermissionEditor)).call.apply(_ref,[this].concat(args))),_this),_this.translatePermission=function(permission){if(permission==='private'){return(0,_constants.gettext)('Private');}if(permission==='public'){return(0,_constants.gettext)('Public');}},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(WikiPermissionEditor,[{key:'render',value:function render(){return _react2.default.createElement(_selectEditor2.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.permissions,currentOption:this.props.currentPermission,onOptionChanged:this.props.onPermissionChanged,translateOption:this.translatePermission});}}]);return WikiPermissionEditor;}(_react2.default.Component);WikiPermissionEditor.propTypes=propTypes;exports.default=WikiPermissionEditor;\n\n/***/ }),\n\n/***/ 1245:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={toggleCancel:_propTypes2.default.func.isRequired,handleSubmit:_propTypes2.default.func.isRequired};var WikiDeleteDialog=function(_React$Component){_inherits(WikiDeleteDialog,_React$Component);function WikiDeleteDialog(){var _ref;var _temp,_this,_ret;_classCallCheck(this,WikiDeleteDialog);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=WikiDeleteDialog.__proto__||Object.getPrototypeOf(WikiDeleteDialog)).call.apply(_ref,[this].concat(args))),_this),_this.toggle=function(){_this.props.toggleCancel();},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(WikiDeleteDialog,[{key:'render',value:function render(){return _react2.default.createElement(_reactstrap.Modal,{isOpen:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Delete Wiki')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('p',null,(0,_constants.gettext)('Are you sure you want to delete this wiki?'))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'danger',onClick:this.props.handleSubmit},(0,_constants.gettext)('Delete'))));}}]);return WikiDeleteDialog;}(_react2.default.Component);WikiDeleteDialog.propTypes=propTypes;exports.default=WikiDeleteDialog;\n\n/***/ }),\n\n/***/ 1246:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _generalToolbar=__webpack_require__(1247);var _generalToolbar2=_interopRequireDefault(_generalToolbar);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MainContentWrapper=function MainContentWrapper(WrapperedComponent){return function(_React$Component){_inherits(Wrapper,_React$Component);function Wrapper(props){_classCallCheck(this,Wrapper);return _possibleConstructorReturn(this,(Wrapper.__proto__||Object.getPrototypeOf(Wrapper)).call(this,props));}_createClass(Wrapper,[{key:'render',value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_generalToolbar2.default,this.props),_react2.default.createElement(WrapperedComponent,this.props));}}]);return Wrapper;}(_react2.default.Component);};exports.default=MainContentWrapper;\n\n/***/ }),\n\n/***/ 1247:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _commonToolbar=__webpack_require__(80);var _commonToolbar2=_interopRequireDefault(_commonToolbar);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={searchPlaceholder:_propTypes2.default.string,onShowSidePanel:_propTypes2.default.func.isRequired,onSearchedClick:_propTypes2.default.func.isRequired};var GeneralToolbar=function(_React$Component){_inherits(GeneralToolbar,_React$Component);function GeneralToolbar(){_classCallCheck(this,GeneralToolbar);return _possibleConstructorReturn(this,(GeneralToolbar.__proto__||Object.getPrototypeOf(GeneralToolbar)).apply(this,arguments));}_createClass(GeneralToolbar,[{key:'render',value:function render(){// todo get repoID?\nvar _props=this.props,onShowSidePanel=_props.onShowSidePanel,onSearchedClick=_props.onSearchedClick;return _react2.default.createElement('div',{className:'main-panel-north'},_react2.default.createElement('div',{className:'cur-view-toolbar'},_react2.default.createElement('span',{className:'sf2-icon-menu side-nav-toggle hidden-md-up d-md-none',title:'Side Nav Menu',onClick:onShowSidePanel})),_react2.default.createElement(_commonToolbar2.default,{searchPlaceholder:this.props.searchPlaceholder,onSearchedClick:onSearchedClick}));}}]);return GeneralToolbar;}(_react2.default.Component);GeneralToolbar.propTypes=propTypes;exports.default=GeneralToolbar;\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _utils=__webpack_require__(4);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Repo=function Repo(object){_classCallCheck(this,Repo);this.repo_id=object.repo_id;this.repo_name=object.repo_name;this.permission=object.permission;this.size=_utils.Utils.bytesToSize(object.size);this.owner_name=object.owner_name;this.owner_email=object.owner_email;this.owner_contact_email=object.owner_contact_email;this.encrypted=object.encrypted;this.last_modified=object.last_modified;this.modifier_contact_email=object.modifier_contact_email;this.modifier_email=object.modifier_email;this.modifier_name=object.modifier_name;this.type=object.type;this.starred=object.starred;if(object.is_admin!=undefined){this.is_admin=object.is_admin;}};exports.default=Repo;\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var strChineseFirstPY=exports.strChineseFirstPY=\"YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY\";\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 14:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _utils=__webpack_require__(4);var _fileTag=__webpack_require__(24);var _fileTag2=_interopRequireDefault(_fileTag);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Dirent=function(){function Dirent(json){_classCallCheck(this,Dirent);this.id=json.id||'0000000000000000';this.name=json.name;this.type=json.type;this.mtime=json.mtime;this.mtime_relative=_moment2.default.unix(json.mtime).fromNow();this.permission=json.permission||'rw';this.isSelected=false;// is check or not\nthis.starred=json.starred||false;if(json.type==='file'){this.size=_utils.Utils.bytesToSize(json.size);this.is_locked=json.is_locked||false;this.lock_time=json.lock_time||'';this.lock_owner=json.lock_owner||null;this.lock_owner_name=json.lock_owner_name||null;this.locked_by_me=json.locked_by_me||false;this.modifier_name=json.modifier_name||'';this.modifier_email=json.modifier_email||'';this.modifier_contact_email=json.modifier_contact_email||'';var file_tags=[];if(json.file_tags){file_tags=json.file_tags.map(function(item){return new _fileTag2.default(item);});}this.file_tags=file_tags;if(json.encoded_thumbnail_src){this.encoded_thumbnail_src=json.encoded_thumbnail_src;}}}_createClass(Dirent,[{key:'clone',value:function clone(){return new Dirent(this);}},{key:'isDir',value:function isDir(){return this.type!=='file';}}]);return Dirent;}();exports.default=Dirent;\n\n/***/ }),\n\n/***/ 141:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _fileChooser=__webpack_require__(30);var _fileChooser2=_interopRequireDefault(_fileChooser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,dirent:_propTypes2.default.object,selectedDirentList:_propTypes2.default.array,isMutipleOperation:_propTypes2.default.bool.isRequired,onItemMove:_propTypes2.default.func,onItemsMove:_propTypes2.default.func,onCancelMove:_propTypes2.default.func.isRequired,repoEncrypted:_propTypes2.default.bool.isRequired};// need dirent file Path\nvar MoveDirent=function(_React$Component){_inherits(MoveDirent,_React$Component);function MoveDirent(props){_classCallCheck(this,MoveDirent);var _this=_possibleConstructorReturn(this,(MoveDirent.__proto__||Object.getPrototypeOf(MoveDirent)).call(this,props));_this.handleSubmit=function(){if(_this.props.isMutipleOperation){_this.moveItems();}else{_this.moveItem();}};_this.moveItems=function(){var repoID=_this.props.repoID;var _this$state=_this.state,repo=_this$state.repo,selectedPath=_this$state.selectedPath;var message=(0,_constants.gettext)('Invalid destination path');if(!repo||selectedPath===''){_this.setState({errMessage:message});return;}var selectedDirentList=_this.props.selectedDirentList;var direntPaths=[];selectedDirentList.forEach(function(dirent){var path=_utils.Utils.joinPath(_this.props.path,dirent.name);direntPaths.push(path);});// move dirents to one of them. eg: A/B, A/C -> A/B\nif(direntPaths.some(function(direntPath){return direntPath===selectedPath;})){_this.setState({errMessage:message});return;}// move dirents to current path\nif(selectedPath&&selectedPath===_this.props.path&&repo.repo_id===repoID){_this.setState({errMessage:message});return;}// move dirents to one of their child. eg: A/B, A/D -> A/B/C\nvar moveDirentPath='';var isChildPath=direntPaths.some(function(direntPath){var flag=selectedPath.length>direntPath.length&&selectedPath.indexOf(direntPath)>-1;if(flag){moveDirentPath=direntPath;}return flag;});if(isChildPath){message=(0,_constants.gettext)('Can not move directory %(src)s to its subdirectory %(des)s');message=message.replace('%(src)s',moveDirentPath);message=message.replace('%(des)s',selectedPath);_this.setState({errMessage:message});return;}_this.props.onItemsMove(repo,selectedPath);_this.toggle();};_this.moveItem=function(){var _this$state2=_this.state,repo=_this$state2.repo,repoID=_this$state2.repoID,selectedPath=_this$state2.selectedPath;var direntPath=_utils.Utils.joinPath(_this.props.path,_this.props.dirent.name);var message=(0,_constants.gettext)('Invalid destination path');if(!repo||repo.repo_id===repoID&&selectedPath===''){_this.setState({errMessage:message});return;}// copy the dirent to itself. eg: A/B -> A/B\nif(selectedPath&&direntPath===selectedPath){_this.setState({errMessage:message});return;}// copy the dirent to current path\nif(selectedPath&&_this.props.path===selectedPath&&repo.repo_id===repoID){_this.setState({errMessage:message});return;}// copy the dirent to it's child. eg: A/B -> A/B/C\nif(selectedPath&&selectedPath.length>direntPath.length&&selectedPath.indexOf(direntPath)>-1){message=(0,_constants.gettext)('Can not move directory %(src)s to its subdirectory %(des)s');message=message.replace('%(src)s',direntPath);message=message.replace('%(des)s',selectedPath);_this.setState({errMessage:message});return;}_this.props.onItemMove(repo,_this.props.dirent,selectedPath,_this.props.path);_this.toggle();};_this.toggle=function(){_this.props.onCancelMove();};_this.onDirentItemClick=function(repo,selectedPath){_this.setState({repo:repo,selectedPath:selectedPath,errMessage:''});};_this.onRepoItemClick=function(repo){_this.setState({repo:repo,selectedPath:'/',errMessage:''});};_this.state={repo:null,selectedPath:'',errMessage:''};return _this;}_createClass(MoveDirent,[{key:'shouldComponentUpdate',value:function shouldComponentUpdate(nextProps,nextState){if(this.state.errMessage===nextState.errMessage){return false;}return true;}},{key:'render',value:function render(){var title=(0,_constants.gettext)('Move {placeholder} to:');if(!this.props.isMutipleOperation){title=title.replace('{placeholder}','<span class=\"op-target\">'+_utils.Utils.HTMLescape(this.props.dirent.name)+'</span>');}else{title=(0,_constants.gettext)('Move selected item(s) to:');}var mode=this.props.repoEncrypted?'only_current_library':'current_repo_and_other_repos';return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},_react2.default.createElement('div',{dangerouslySetInnerHTML:{__html:title}})),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement(_fileChooser2.default,{repoID:this.props.repoID,onDirentItemClick:this.onDirentItemClick,onRepoItemClick:this.onRepoItemClick,mode:mode}),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',style:{margin:'0.5rem'}},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return MoveDirent;}(_react2.default.Component);MoveDirent.propTypes=propTypes;exports.default=MoveDirent;\n\n/***/ }),\n\n/***/ 142:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _fileChooser=__webpack_require__(30);var _fileChooser2=_interopRequireDefault(_fileChooser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,dirent:_propTypes2.default.object,selectedDirentList:_propTypes2.default.array,isMutipleOperation:_propTypes2.default.bool.isRequired,onItemCopy:_propTypes2.default.func,onItemsCopy:_propTypes2.default.func,onCancelCopy:_propTypes2.default.func.isRequired,repoEncrypted:_propTypes2.default.bool.isRequired};// need dirent file Path\nvar CopyDirent=function(_React$Component){_inherits(CopyDirent,_React$Component);function CopyDirent(props){_classCallCheck(this,CopyDirent);var _this=_possibleConstructorReturn(this,(CopyDirent.__proto__||Object.getPrototypeOf(CopyDirent)).call(this,props));_this.handleSubmit=function(){if(_this.props.isMutipleOperation){_this.copyItems();}else{_this.copyItem();}};_this.copyItems=function(){var repoID=_this.props.repoID;var _this$state=_this.state,repo=_this$state.repo,selectedPath=_this$state.selectedPath;var message=(0,_constants.gettext)('Invalid destination path');if(!repo||selectedPath===''){_this.setState({errMessage:message});return;}var selectedDirentList=_this.props.selectedDirentList;var direntPaths=[];selectedDirentList.forEach(function(dirent){var path=_utils.Utils.joinPath(_this.props.path,dirent.name);direntPaths.push(path);});// copy dirents to one of them. eg: A/B, A/C -> A/B\nif(direntPaths.some(function(direntPath){return direntPath===selectedPath;})){_this.setState({errMessage:message});return;}// copy dirents to current path\nif(selectedPath&&selectedPath===_this.props.path&&repo.repo_id===repoID){_this.setState({errMessage:message});return;}// copy dirents to one of their child. eg: A/B, A/D -> A/B/C\nvar copyDirentPath='';var isChildPath=direntPaths.some(function(direntPath){var flag=selectedPath.length>direntPath.length&&selectedPath.indexOf(direntPath)>-1;if(flag){copyDirentPath=direntPath;}return flag;});if(isChildPath){message=(0,_constants.gettext)('Can not move directory %(src)s to its subdirectory %(des)s');message=message.replace('%(src)s',copyDirentPath);message=message.replace('%(des)s',selectedPath);_this.setState({errMessage:message});return;}_this.props.onItemsCopy(repo,selectedPath);_this.toggle();};_this.copyItem=function(){var _this$state2=_this.state,repo=_this$state2.repo,repoID=_this$state2.repoID,selectedPath=_this$state2.selectedPath;var direntPath=_utils.Utils.joinPath(_this.props.path,_this.props.dirent.name);var message='Invalid destination path';if(!repo||repo.repo_id===repoID&&selectedPath===''){_this.setState({errMessage:message});return;}// copy the dirent to itself. eg: A/B -> A/B\nif(selectedPath&&direntPath===selectedPath){_this.setState({errMessage:message});return;}// copy the dirent to current path\nif(selectedPath&&_this.props.path===selectedPath&&repo.repo_id===repoID){_this.setState({errMessage:message});return;}// copy the dirent to it's child. eg: A/B -> A/B/C\nif(selectedPath&&selectedPath.length>direntPath.length&&selectedPath.indexOf(direntPath)>-1){message=(0,_constants.gettext)('Can not copy directory %(src)s to its subdirectory %(des)s');message=message.replace('%(src)s',direntPath);message=message.replace('%(des)s',selectedPath);_this.setState({errMessage:message});return;}_this.props.onItemCopy(repo,_this.props.dirent,selectedPath,_this.props.path);_this.toggle();};_this.toggle=function(){_this.props.onCancelCopy();};_this.onDirentItemClick=function(repo,selectedPath){_this.setState({repo:repo,selectedPath:selectedPath,errMessage:''});};_this.onRepoItemClick=function(repo){_this.setState({repo:repo,selectedPath:'/',errMessage:''});};_this.state={repo:null,selectedPath:'',errMessage:''};return _this;}_createClass(CopyDirent,[{key:'shouldComponentUpdate',value:function shouldComponentUpdate(nextProps,nextState){if(this.state.errMessage===nextState.errMessage){return false;}return true;}},{key:'render',value:function render(){var title=(0,_constants.gettext)('Copy {placeholder} to:');if(!this.props.isMutipleOperation){title=title.replace('{placeholder}','<span class=\"op-target\">'+_utils.Utils.HTMLescape(this.props.dirent.name)+'</span>');}else{title=(0,_constants.gettext)('Copy selected item(s) to:');}var mode=this.props.repoEncrypted?'only_current_library':'current_repo_and_other_repos';return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},_react2.default.createElement('div',{dangerouslySetInnerHTML:{__html:title}})),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement(_fileChooser2.default,{repoID:this.props.repoID,onDirentItemClick:this.onDirentItemClick,onRepoItemClick:this.onRepoItemClick,mode:mode}),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',style:{margin:'0.5rem'}},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return CopyDirent;}(_react2.default.Component);CopyDirent.propTypes=propTypes;exports.default=CopyDirent;\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={hasSuffix:_propTypes2.default.bool,name:_propTypes2.default.string.isRequired,onRenameConfirm:_propTypes2.default.func.isRequired,onRenameCancel:_propTypes2.default.func.isRequired};var Rename=function(_React$Component){_inherits(Rename,_React$Component);function Rename(props){_classCallCheck(this,Rename);var _this=_possibleConstructorReturn(this,(Rename.__proto__||Object.getPrototypeOf(Rename)).call(this,props));_this.onChange=function(e){_this.setState({name:e.target.value});};_this.onClick=function(e){e.nativeEvent.stopImmediatePropagation();};_this.onKeyPress=function(e){if(e.key==='Enter'){_this.onRenameConfirm(e);}};_this.onRenameConfirm=function(e){e.nativeEvent.stopImmediatePropagation();var newName=_this.state.name.trim();if(newName===_this.props.name){_this.props.onRenameCancel();return;}var _this$validateInput=_this.validateInput(),isValid=_this$validateInput.isValid,errMessage=_this$validateInput.errMessage;if(!isValid){_toast2.default.danger(errMessage);}else{_this.props.onRenameConfirm(newName);}};_this.onRenameCancel=function(e){e.nativeEvent.stopImmediatePropagation();_this.props.onRenameCancel();};_this.validateInput=function(){var newName=_this.state.name.trim();var isValid=true;var errMessage='';if(!newName){isValid=false;errMessage=(0,_constants.gettext)('Name is required.');return{isValid:isValid,errMessage:errMessage};}if(newName.indexOf('/')>-1){isValid=false;errMessage=(0,_constants.gettext)('Name should not include '+'\\'/\\''+'.');return{isValid:isValid,errMessage:errMessage};}return{isValid:isValid,errMessage:errMessage};};_this.state={name:props.name};return _this;}_createClass(Rename,[{key:'componentDidMount',value:function componentDidMount(){this.refs.renameInput.focus();if(this.props.hasSuffix){var endIndex=this.props.name.lastIndexOf('.');this.refs.renameInput.setSelectionRange(0,endIndex,'forward');}else{this.refs.renameInput.setSelectionRange(0,-1);}}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'rename-container'},_react2.default.createElement('input',{ref:'renameInput',value:this.state.name,onChange:this.onChange,onKeyPress:this.onKeyPress,onClick:this.onClick}),_react2.default.createElement('button',{className:'btn btn-secondary sf2-icon-confirm confirm',onClick:this.onRenameConfirm}),_react2.default.createElement('button',{className:'btn btn-secondary sf2-icon-cancel cancel',onClick:this.onRenameCancel}));}}]);return Rename;}(_react2.default.Component);Rename.propTypes=propTypes;exports.default=Rename;\n\n/***/ }),\n\n/***/ 15:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(8);var _reactDom2=_interopRequireDefault(_reactDom);var _toastManager=__webpack_require__(16);var _toastManager2=_interopRequireDefault(_toastManager);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var isBrowser=typeof window!=='undefined'&&typeof window.document!=='undefined';/**\n * The Toaster manages the interactionsb between\n * the ToasterManger and the toast API.\n */var Toaster=function Toaster(){var _this=this;_classCallCheck(this,Toaster);this._bindNotify=function(handler){_this.notifyHandler=handler;};this._bindGetToasts=function(handler){_this.getToastsHandler=handler;};this._bindCloseAll=function(handler){_this.closeAllHandler=handler;};this.getToasts=function(){return _this.getToastsHandler();};this.closeAll=function(){return _this.closeAllHandler();};this.notify=function(title){var settings=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return _this.notifyHandler(title,_extends({},settings,{intent:'none'}));};this.success=function(title){var settings=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return _this.notifyHandler(title,_extends({},settings,{intent:'success'}));};this.warning=function(title){var settings=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return _this.notifyHandler(title,_extends({},settings,{intent:'warning'}));};this.danger=function(title){var settings=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return _this.notifyHandler(title,_extends({},settings,{intent:'danger'}));};if(!isBrowser)return;var container=document.createElement('div');container.setAttribute('data-evergreen-toaster-container','');document.body.appendChild(container);_reactDom2.default.render(_react2.default.createElement(_toastManager2.default,{bindNotify:this._bindNotify,bindGetToasts:this._bindGetToasts,bindCloseAll:this._bindCloseAll}),container);};exports.default=Toaster;\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _fileChooser=__webpack_require__(30);var _fileChooser2=_interopRequireDefault(_fileChooser);__webpack_require__(98);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,filePath:_propTypes2.default.string.isRequired,toggleCancel:_propTypes2.default.func.isRequired,onRelatedFileChange:_propTypes2.default.func.isRequired,dirent:_propTypes2.default.object.isRequired,onClose:_propTypes2.default.func};var AddRelatedFileDialog=function(_React$Component){_inherits(AddRelatedFileDialog,_React$Component);function AddRelatedFileDialog(props){_classCallCheck(this,AddRelatedFileDialog);var _this=_possibleConstructorReturn(this,(AddRelatedFileDialog.__proto__||Object.getPrototypeOf(AddRelatedFileDialog)).call(this,props));_this.handleSubmit=function(){_this.onAddRelatedFile();};_this.onAddRelatedFile=function(){var _this$state=_this.state,repo=_this$state.repo,selectedPath=_this$state.selectedPath;var oRepoID=_this.props.repoID;var rRepoID=repo.repo_id;var oFilePath=_this.props.filePath;var rFilePath=selectedPath;if(oRepoID===rRepoID&&oFilePath===rFilePath){var message=(0,_constants.gettext)('Can not select self as a related file.');_this.setState({errMessage:message});return;}_seafileApi.seafileAPI.addRelatedFile(oRepoID,rRepoID,oFilePath,rFilePath).then(function(res){_this.props.onRelatedFileChange();_this.toggle();}).catch(function(error){if(error.response){_this.setState({errMessage:error.response.data.error_msg});}});};_this.toggle=function(){_this.props.toggleCancel();};_this.onDirentItemClick=function(repo,selectedPath,dirent){if(dirent.type==='file'){_this.setState({repo:repo,selectedPath:selectedPath});}else{_this.setState({repo:null,selectedPath:''});}};_this.onRepoItemClick=function(repo){_this.setState({repo:null,selectedPath:''});};_this.state={repo:null,selectedPath:'',isShowFile:true,errMessage:''};return _this;}_createClass(AddRelatedFileDialog,[{key:'render',value:function render(){var subtitle=(0,_constants.gettext)('Select related file for {placeholder}');subtitle=subtitle.replace('{placeholder}','<span class=\"op-target\">'+_utils.Utils.HTMLescape(this.props.dirent.name)+'</span>');return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.onClose},_react2.default.createElement('span',{className:'tag-dialog-back fas fa-sm fa-arrow-left',onClick:this.toggle,'aria-label':(0,_constants.gettext)('Back')}),(0,_constants.gettext)('Select File')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('div',{className:'related-file-subtitle',dangerouslySetInnerHTML:{__html:subtitle}}),_react2.default.createElement(_fileChooser2.default,{isShowFile:this.state.isShowFile,repoID:this.props.repoID,onDirentItemClick:this.onDirentItemClick,onRepoItemClick:this.onRepoItemClick,mode:'current_repo_and_other_repos'}),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger'},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),this.state.selectedPath?_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit')):_react2.default.createElement(_reactstrap.Button,{color:'primary',disabled:true},(0,_constants.gettext)('Submit'))));}}]);return AddRelatedFileDialog;}(_react2.default.Component);AddRelatedFileDialog.propTypes=propTypes;exports.default=AddRelatedFileDialog;\n\n/***/ }),\n\n/***/ 16:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _glamor=__webpack_require__(9);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _toast=__webpack_require__(17);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var wrapperClass=(0,_glamor.css)({maxWidth:560,margin:'0 auto',top:0,left:0,right:0,position:'fixed',zIndex:999999});var hasCustomId=function hasCustomId(settings){return Object.hasOwnProperty.call(settings,'id');};var ToastManager=function(_React$PureComponent){_inherits(ToastManager,_React$PureComponent);function ToastManager(props,context){_classCallCheck(this,ToastManager);var _this=_possibleConstructorReturn(this,(ToastManager.__proto__||Object.getPrototypeOf(ToastManager)).call(this,props,context));_this.getToasts=function(){return _this.state.toasts;};_this.closeAll=function(){_this.getToasts().forEach(function(toast){return toast.close();});};_this.notify=function(title,settings){// If there's a custom toast ID passed, close existing toasts with the same custom ID\nif(hasCustomId(settings)){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_this.state.toasts[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var toast=_step.value;// Since unique ID is still appended to a custom ID, skip the unique ID and check only prefix\nif(String(toast.id).startsWith(settings.id)){_this.closeToast(toast.id);}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}var instance=_this.createToastInstance(title,settings);_this.setState(function(previousState){return{toasts:[instance].concat(_toConsumableArray(previousState.toasts))};});return instance;};_this.createToastInstance=function(title,settings){var uniqueId=++ToastManager.idCounter;var id=hasCustomId(settings)?settings.id+'-'+uniqueId:uniqueId;return{id:id,title:title,description:settings.description,hasCloseButton:settings.hasCloseButton||true,duration:settings.duration||2,close:function close(){return _this.closeToast(id);},intent:settings.intent};};_this.closeToast=function(id){_this.setState(function(previousState){return{toasts:previousState.toasts.map(function(toast){if(toast.id===id){return _extends({},toast,{isShown:false});}return toast;})};});};_this.removeToast=function(id){_this.setState(function(previousState){return{toasts:previousState.toasts.filter(function(toast){return toast.id!==id;})};});};props.bindNotify(_this.notify);props.bindGetToasts(_this.getToasts);props.bindCloseAll(_this.closeAll);_this.state={toasts:[]};return _this;}/**\n   * This will set isShown on the Toast which will close the toast.\n   * It won't remove the toast until onExited triggers onRemove.\n   */_createClass(ToastManager,[{key:'render',value:function render(){var _this2=this;return _react2.default.createElement('span',{className:wrapperClass},this.state.toasts.map(function(_ref){var id=_ref.id,description=_ref.description,props=_objectWithoutProperties(_ref,['id','description']);return _react2.default.createElement(_toast2.default,_extends({key:id,onRemove:function onRemove(){return _this2.removeToast(id);}},props),description);}));}}]);return ToastManager;}(_react2.default.PureComponent);ToastManager.propTypes={/**\n     * Function called with the `this.notify` function.\n     */bindNotify:_propTypes2.default.func.isRequired,/**\n     * Function called with the `this.getToasts` function.\n     */bindGetToasts:_propTypes2.default.func.isRequired,/**\n     * Function called with the `this.closeAll` function.\n     */bindCloseAll:_propTypes2.default.func.isRequired};ToastManager.idCounter=0;exports.default=ToastManager;\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _dirent=__webpack_require__(14);var _dirent2=_interopRequireDefault(_dirent);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _seafileApi=__webpack_require__(3);__webpack_require__(161);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={relatedFiles:_propTypes2.default.array.isRequired,repoID:_propTypes2.default.string.isRequired,filePath:_propTypes2.default.string.isRequired,toggleCancel:_propTypes2.default.func.isRequired,addRelatedFileToggle:_propTypes2.default.func.isRequired,onRelatedFileChange:_propTypes2.default.func.isRequired};var ListRelatedFileDialog=function(_React$Component){_inherits(ListRelatedFileDialog,_React$Component);function ListRelatedFileDialog(props){_classCallCheck(this,ListRelatedFileDialog);var _this=_possibleConstructorReturn(this,(ListRelatedFileDialog.__proto__||Object.getPrototypeOf(ListRelatedFileDialog)).call(this,props));_this.onDeleteRelatedFile=function(item){var filePath=_this.props.filePath;var repoID=_this.props.repoID;var relatedID=item.related_id;_seafileApi.seafileAPI.deleteRelatedFile(repoID,filePath,relatedID).then(function(res){_this.props.onRelatedFileChange();});};_this.toggle=function(){_this.props.toggleCancel();};_this.getDirentList=function(relatedFiles){if(relatedFiles.length===0){_this.setState({direntList:[]});return;}var direntList=[];relatedFiles.map(function(item){_seafileApi.seafileAPI.getFileInfo(item.repo_id,item.path).then(function(res){var dirent=new _dirent2.default(res.data);dirent['repo_name']=item.repo_name;dirent['related_id']=item.related_id;dirent['link']=_constants.siteRoot+'lib/'+item.repo_id+'/file'+_utils.Utils.encodePath(item.path);direntList.push(dirent);_this.setState({direntList:direntList});});});};_this.state={direntList:[]};return _this;}_createClass(ListRelatedFileDialog,[{key:'componentWillMount',value:function componentWillMount(){this.getDirentList(this.props.relatedFiles);}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(nextProps.relatedFiles.length!==this.props.relatedFiles.length){this.getDirentList(nextProps.relatedFiles);}}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Related Files')),_react2.default.createElement(_reactstrap.ModalBody,{className:this.state.direntList.length>0?'list-related-file-body':''},_react2.default.createElement(_reactstrap.Table,{hover:true,size:'sm',className:'list-related-file-table'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'40%'},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{width:'20%'},(0,_constants.gettext)('Library Name')),_react2.default.createElement('th',{width:'13%'},(0,_constants.gettext)('Size')),_react2.default.createElement('th',{width:'20%'},(0,_constants.gettext)('Last Update')),_react2.default.createElement('th',{width:'5%'}),_react2.default.createElement('th',{width:'2%'}))),_react2.default.createElement('tbody',null,this.state.direntList.map(function(relatedFile,index){return _react2.default.createElement(_react2.default.Fragment,{key:index},_react2.default.createElement(RelatedFile,{relatedFile:relatedFile,onDeleteRelatedFile:_this2.onDeleteRelatedFile}));}))),_react2.default.createElement('a',{href:'#',className:'add-related-file-link',onClick:this.props.addRelatedFileToggle},(0,_constants.gettext)('Add File'))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Close'))));}}]);return ListRelatedFileDialog;}(_react2.default.Component);ListRelatedFileDialog.propTypes=propTypes;var RelatedFilePropTypes={relatedFile:_propTypes2.default.object,onDeleteRelatedFile:_propTypes2.default.func.isRequired};var RelatedFile=function(_React$Component2){_inherits(RelatedFile,_React$Component2);function RelatedFile(props){_classCallCheck(this,RelatedFile);var _this3=_possibleConstructorReturn(this,(RelatedFile.__proto__||Object.getPrototypeOf(RelatedFile)).call(this,props));_this3.onMouseEnter=function(){_this3.setState({active:true});};_this3.onMouseLeave=function(){_this3.setState({active:false});};_this3.state={active:false};return _this3;}_createClass(RelatedFile,[{key:'render',value:function render(){var className=this.state.active?'action-icon sf2-icon-x3':'action-icon vh sf2-icon-x3';var relatedFile=this.props.relatedFile;return _react2.default.createElement('tr',{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',null,_react2.default.createElement('a',{href:relatedFile.link,target:'_blank'},relatedFile.name)),_react2.default.createElement('td',null,relatedFile.repo_name),_react2.default.createElement('td',null,relatedFile.size),_react2.default.createElement('td',null,relatedFile.mtime_relative),_react2.default.createElement('td',null,_react2.default.createElement('i',{className:className,onClick:this.props.onDeleteRelatedFile.bind(this,relatedFile)})),_react2.default.createElement('td',null));}}]);return RelatedFile;}(_react2.default.Component);RelatedFile.propTypes=RelatedFilePropTypes;exports.default=ListRelatedFileDialog;\n\n/***/ }),\n\n/***/ 161:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 162:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _utils=__webpack_require__(4);var _tree=__webpack_require__(163);var _tree2=_interopRequireDefault(_tree);var _treeNode=__webpack_require__(95);var _treeNode2=_interopRequireDefault(_treeNode);var _dirent=__webpack_require__(14);var _dirent2=_interopRequireDefault(_dirent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var TreeHelper=function(){function TreeHelper(){_classCallCheck(this,TreeHelper);}_createClass(TreeHelper,[{key:'expandNode',value:function expandNode(tree,node){// This tree has been cloned\ntree.expandNode(node);}},{key:'collapseNode',value:function collapseNode(tree,node){var treeCopy=tree.clone();node=treeCopy.getNodeByPath(node.path);treeCopy.collapseNode(node);return treeCopy;}},{key:'findNodeByPath',value:function findNodeByPath(tree,nodePath){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);return node;}},{key:'getNodeChildrenObject',value:function getNodeChildrenObject(tree,node){var sortType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'name';var order=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'asc';var objects=tree.getNodeChildrenObject(node);objects=_utils.Utils.sortDirents(objects,sortType,order);return objects;}},{key:'addNodeToParent',value:function addNodeToParent(tree,node,parentNode){tree.addNodeToParentNode(node,parentNode);return tree;}},{key:'addNodeListToParent',value:function addNodeListToParent(tree,nodeList,parentNode){tree.addNodeListToParent(nodeList,parentNode);return tree;}},{key:'addNodeToParentByPath',value:function addNodeToParentByPath(tree,node,parentPath){var treeCopy=tree.clone();var parentNode=treeCopy.getNodeByPath(parentPath);treeCopy.addNodeToParent(node,parentNode);return treeCopy;}},{key:'deleteNodeByPath',value:function deleteNodeByPath(tree,nodePath){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);treeCopy.deleteNode(node);return treeCopy;}},{key:'deleteNodeListByPaths',value:function deleteNodeListByPaths(tree,nodePaths){var treeCopy=tree.clone();nodePaths.forEach(function(nodePath){var node=treeCopy.getNodeByPath(nodePath);treeCopy.deleteNode(node);});return treeCopy;}},{key:'renameNodeByPath',value:function renameNodeByPath(tree,nodePath,newName){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);treeCopy.renameNode(node,newName);return treeCopy;}},{key:'updateNodeByPath',value:function updateNodeByPath(tree,nodePath,keys,newValues){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);treeCopy.updateNode(node,keys,newValues);return treeCopy;}},{key:'moveNodeByPath',value:function moveNodeByPath(tree,nodePath,destPath,nodeName){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);var destNode=treeCopy.getNodeByPath(destPath);if(destNode&&node){// node has loaded\nnode.object.name=nodeName;// need not update path\ntreeCopy.moveNode(node,destNode);}if(!destNode&&node){treeCopy.deleteNode(node);}return treeCopy;}},{key:'moveNodeListByPaths',value:function moveNodeListByPaths(tree,nodePaths,destPath){var treeCopy=tree.clone();var destNode=treeCopy.getNodeByPath(destPath);if(destNode){nodePaths.forEach(function(nodePath){var node=treeCopy.getNodeByPath(nodePath);treeCopy.moveNode(node,destNode);});}else{nodePaths.forEach(function(nodePath){var node=treeCopy.getNodeByPath(nodePath);treeCopy.delete(node);});}return treeCopy;}},{key:'copyNodeByPath',value:function copyNodeByPath(tree,nodePath,destPath,nodeName){var treeCopy=tree.clone();var destNode=treeCopy.getNodeByPath(destPath);var treeNode=treeCopy.getNodeByPath(nodePath);if(destNode){var node=treeNode.clone();// need a dup\nnode.object.name=nodeName;// need not update path\ntreeCopy.copyNode(node,destNode);}return treeCopy;}},{key:'copyNodeListByPaths',value:function copyNodeListByPaths(tree,nodePaths,destPath){var treeCopy=tree.clone();var destNode=treeCopy.getNodeByPath(destPath);if(destNode){nodePaths.forEach(function(nodePath){var node=treeCopy.getNodeByPath(nodePath);treeCopy.copyNode(node,destNode);});}return treeCopy;}},{key:'buildTree',value:function buildTree(){var tree=new _tree2.default();var object=new _dirent2.default({name:'/'});var root=new _treeNode2.default({object:object,isLoaded:false,isExpanded:true});tree.setRoot(root);return tree;}}]);return TreeHelper;}();var treeHelper=new TreeHelper();exports.default=treeHelper;\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _treeNode=__webpack_require__(95);var _treeNode2=_interopRequireDefault(_treeNode);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Tree=function(){function Tree(){_classCallCheck(this,Tree);this.root=null;}_createClass(Tree,[{key:'clone',value:function clone(){var tree=new Tree();if(this.root){tree.root=this.root.clone();}return tree;}},{key:'setRoot',value:function setRoot(node){this.root=node;}},{key:'getNodeByPath',value:function getNodeByPath(path){var findNode=null;function callback(currentNode){if(currentNode.path===path){findNode=currentNode;return true;}return false;}this.traverseDF(callback);return findNode;}},{key:'getNodeChildrenObject',value:function getNodeChildrenObject(node){var objects=node.children.map(function(item){var object=item.object;return object;});return objects;}},{key:'addNodeToParent',value:function addNodeToParent(node,parentNode){parentNode.addChild(node);}},{key:'addNodeListToParent',value:function addNodeListToParent(nodeList,parentNode){nodeList.forEach(function(node){parentNode.addChild(node);});}},{key:'deleteNode',value:function deleteNode(node){var parentNode=this.getNodeByPath(node.parentNode.path);parentNode.deleteChild(node);}},{key:'deleteNodeList',value:function deleteNodeList(nodeList){var _this=this;nodeList.forEach(function(node){_this.deleteNode(node);});}},{key:'renameNode',value:function renameNode(node,newName){node.rename(newName);}},{key:'updateNode',value:function updateNode(node,keys,newValues){node.updateObjectParam(keys,newValues);}},{key:'moveNode',value:function moveNode(node,destNode){this.deleteNode(node);destNode.addChild(node);}},{key:'copyNode',value:function copyNode(node,destNode){destNode.addChild(node);}},{key:'traverseDF',value:function traverseDF(callback){var stack=[];var found=false;stack.unshift(this.root);var currentNode=stack.shift();while(!found&&currentNode){found=callback(currentNode)==true?true:false;if(!found){stack.unshift.apply(stack,_toConsumableArray(currentNode.children));currentNode=stack.shift();}}}},{key:'traverseBF',value:function traverseBF(callback){var queue=[];var found=false;queue.push(this.root);var currentNode=queue.shift();while(!found&&currentNode){found=callback(currentNode)===true?true:false;if(!found){queue.push.apply(queue,_toConsumableArray(currentNode.children));currentNode=queue.shift();}}}},{key:'expandNode',value:function expandNode(node){node.isExpanded=true;while(node.parentNode){node.parentNode.isExpanded=true;node=node.parentNode;}}},{key:'collapseNode',value:function collapseNode(node){node.isExpanded=false;}},{key:'isNodeChild',value:function isNodeChild(node,parentNode){return parentNode.children.some(function(item){return item.path===node.path;});}},{key:'serializeToJson',value:function serializeToJson(){return this.root.serializeToJson();}},{key:'deserializefromJson',value:function deserializefromJson(json){var root=_treeNode2.default.deserializefromJson(json);var tree=new Tree();tree.setRoot(root);return tree;}}]);return Tree;}();exports.default=Tree;\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _treeNodeView=__webpack_require__(165);var _treeNodeView2=_interopRequireDefault(_treeNodeView);var _treeViewContextmenu=__webpack_require__(167);var _treeViewContextmenu2=_interopRequireDefault(_treeViewContextmenu);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoPermission:_propTypes2.default.bool,isNodeMenuShow:_propTypes2.default.bool.isRequired,treeData:_propTypes2.default.object.isRequired,currentPath:_propTypes2.default.string.isRequired,onMenuItemClick:_propTypes2.default.func,onNodeClick:_propTypes2.default.func.isRequired,onNodeExpanded:_propTypes2.default.func.isRequired,onNodeCollapse:_propTypes2.default.func.isRequired,onItemMove:_propTypes2.default.func,currentRepoInfo:_propTypes2.default.object};var PADDING_LEFT=20;var TreeView=function(_React$Component){_inherits(TreeView,_React$Component);function TreeView(props){_classCallCheck(this,TreeView);var _this=_possibleConstructorReturn(this,(TreeView.__proto__||Object.getPrototypeOf(TreeView)).call(this,props));_this.onItemMove=function(repo,dirent,selectedPath,currentPath){_this.props.onItemMove(repo,dirent,selectedPath,currentPath);};_this.onNodeDragStart=function(e,node){var dragStartNodeData={nodeDirent:node.object,nodeParentPath:node.parentNode.path,nodeRootPath:node.path};dragStartNodeData=JSON.stringify(dragStartNodeData);e.dataTransfer.effectAllowed=\"move\";e.dataTransfer.setData('applicaiton/drag-item-info',dragStartNodeData);};_this.onNodeDragEnter=function(e,node){//todo\n};_this.onNodeDragMove=function(e){e.preventDefault();e.dataTransfer.dropEffect='move';};_this.onNodeDragLeave=function(e,node){//todo\n};_this.onNodeDrop=function(e,node){if(e.dataTransfer.files.length){// uploaded files\nreturn;}var dragStartNodeData=e.dataTransfer.getData('applicaiton/drag-item-info');dragStartNodeData=JSON.parse(dragStartNodeData);var _dragStartNodeData=dragStartNodeData,nodeDirent=_dragStartNodeData.nodeDirent,nodeParentPath=_dragStartNodeData.nodeParentPath,nodeRootPath=_dragStartNodeData.nodeRootPath;var dropNodeData=node;if(dropNodeData.object.type!=='dir'){return;}// copy the dirent to itself. eg: A/B -> A/B\nif(nodeParentPath===dropNodeData.parentNode.path){if(dropNodeData.object.name===nodeDirent.name){return;}}// copy the dirent to it's child. eg: A/B -> A/B/C\nif(dropNodeData.object.type==='dir'&&nodeDirent.type==='dir'){if(dropNodeData.parentNode.path!==nodeParentPath){if(dropNodeData.path.indexOf(nodeRootPath)!==-1){return;}}}_this.onItemMove(_this.props.currentRepoInfo,nodeDirent,dropNodeData.path,nodeParentPath);};_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnFreezedItem=function(){_this.setState({isItemFreezed:false});};_this.contextMenu=function(e){e.preventDefault();_this.setState({isRightMenuShow:false});setTimeout(function(){_this.setState({isRightMenuShow:true,fileData:_this.state.nodeData,mousePosition:{clientX:e.clientX,clientY:e.clientY}});},40);};_this.unregisterHandlers=function(){var treeView=document.querySelector('.tree-view');treeView.removeEventListener('contextmenu',_this.contextMenu);};_this.registerHandlers=function(){var treeView=document.querySelector('.tree-view');treeView.addEventListener('contextmenu',_this.contextMenu);};_this.onNodeChanged=function(node){_this.setState({nodeData:node});};_this.closeRightMenu=function(){_this.setState({isRightMenuShow:false});};_this.onMenuItemClick=function(operation,node){_this.props.onMenuItemClick(operation,node);};_this.state={isItemFreezed:false,isRightMenuShow:false,nodeData:null,fileData:null,mousePosition:{clientX:'',clientY:''}};return _this;}_createClass(TreeView,[{key:'componentDidMount',value:function componentDidMount(){this.registerHandlers();}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.unregisterHandlers();}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'tree-view tree'},_react2.default.createElement(_treeNodeView2.default,{repoPermission:this.props.repoPermission,node:this.props.treeData.root,currentPath:this.props.currentPath,paddingLeft:PADDING_LEFT,isNodeMenuShow:this.props.isNodeMenuShow,isItemFreezed:this.state.isItemFreezed,onNodeClick:this.props.onNodeClick,onMenuItemClick:this.props.onMenuItemClick,onNodeExpanded:this.props.onNodeExpanded,onNodeCollapse:this.props.onNodeCollapse,onNodeDragStart:this.onNodeDragStart,onFreezedItem:this.onFreezedItem,onUnFreezedItem:this.onUnFreezedItem,onNodeChanged:this.onNodeChanged,registerHandlers:this.registerHandlers,unregisterHandlers:this.unregisterHandlers,onNodeDragMove:this.onNodeDragMove,onNodeDrop:this.onNodeDrop,onNodeDragEnter:this.onNodeDragEnter,onNodeDragLeave:this.onNodeDragLeave}),this.state.isRightMenuShow&&_react2.default.createElement(_treeViewContextmenu2.default,{node:this.state.fileData,onMenuItemClick:this.onMenuItemClick,mousePosition:this.state.mousePosition,closeRightMenu:this.closeRightMenu,registerHandlers:this.registerHandlers,unregisterHandlers:this.unregisterHandlers}));}}]);return TreeView;}(_react2.default.Component);TreeView.propTypes=propTypes;exports.default=TreeView;\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _treeNodeMenu=__webpack_require__(166);var _treeNodeMenu2=_interopRequireDefault(_treeNodeMenu);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoPermission:_propTypes2.default.bool,node:_propTypes2.default.object.isRequired,currentPath:_propTypes2.default.string.isRequired,paddingLeft:_propTypes2.default.number.isRequired,isNodeMenuShow:_propTypes2.default.bool.isRequired,isItemFreezed:_propTypes2.default.bool.isRequired,onNodeClick:_propTypes2.default.func.isRequired,onNodeExpanded:_propTypes2.default.func.isRequired,onNodeCollapse:_propTypes2.default.func.isRequired,onNodeDragStart:_propTypes2.default.func.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnFreezedItem:_propTypes2.default.func.isRequired,onMenuItemClick:_propTypes2.default.func,registerHandlers:_propTypes2.default.func,unregisterHandlers:_propTypes2.default.func,onNodeDragMove:_propTypes2.default.func,onNodeDrop:_propTypes2.default.func};var TreeNodeView=function(_React$Component){_inherits(TreeNodeView,_React$Component);function TreeNodeView(props){_classCallCheck(this,TreeNodeView);var _this=_possibleConstructorReturn(this,(TreeNodeView.__proto__||Object.getPrototypeOf(TreeNodeView)).call(this,props));_this.onMouseEnter=function(){if(!_this.props.isItemFreezed){_this.setState({isShowOperationMenu:true,isHighlight:true});}_this.props.onNodeChanged(_this.props.node);};_this.onMouseLeave=function(){if(!_this.props.isItemFreezed){_this.setState({isShowOperationMenu:false,isHighlight:false});}_this.props.onNodeChanged(null);};_this.onNodeClick=function(){_this.props.onNodeClick(_this.props.node);};_this.onLoadToggle=function(){var node=_this.props.node;if(node.isExpanded){_this.props.onNodeCollapse(node);}else{_this.props.onNodeExpanded(node);}};_this.onNodeDragStart=function(e){_this.props.onNodeDragStart(e,_this.props.node);};_this.onNodeDragEnter=function(e){if(_this.props.node.object.type==='dir'){_this.setState({isNodeDropShow:true});}_this.props.onNodeDragEnter(e,_this.props.node);};_this.onNodeDragMove=function(e){_this.props.onNodeDragMove(e);};_this.onNodeDragLeave=function(e){_this.setState({isNodeDropShow:false});_this.props.onNodeDragLeave(e,_this.props.node);};_this.onNodeDrop=function(e){_this.setState({isNodeDropShow:false});_this.props.onNodeDrop(e,_this.props.node);};_this.onUnFreezedItem=function(){_this.setState({isShowOperationMenu:false});_this.props.onUnFreezedItem();};_this.onMenuItemClick=function(operation,node){_this.props.onMenuItemClick(operation,node);};_this.getNodeTypeAndIcon=function(){var node=_this.props.node;var icon='';var type='';if(node.object.type==='dir'){icon=_react2.default.createElement('i',{className:'far fa-folder'});type='dir';}else{var index=node.object.name.lastIndexOf('.');if(index===-1){icon=_react2.default.createElement('i',{className:'far fa-file'});type='file';}else{var suffix=node.object.name.slice(index).toLowerCase();if(suffix==='.png'||suffix==='.jpg'||suffix==='.jpeg'||suffix==='.gif'||suffix==='.bmp'){icon=_react2.default.createElement('i',{className:'far fa-image'});type='image';}else if(suffix==='.md'||suffix==='.markdown'){icon=_react2.default.createElement('i',{className:'far fa-file-alt'});type='file';}else{icon=_react2.default.createElement('i',{className:'far fa-file'});type='file';}}}return{icon:icon,type:type};};_this.renderChildren=function(){var _this$props=_this.props,node=_this$props.node,paddingLeft=_this$props.paddingLeft;if(!node.hasChildren()){return'';}return _react2.default.createElement('div',{className:'children',style:{paddingLeft:paddingLeft}},node.children.map(function(item){return _react2.default.createElement(TreeNodeView,{key:item.path,node:item,paddingLeft:paddingLeft,repoPermission:_this.props.repoPermission,currentPath:_this.props.currentPath,isNodeMenuShow:_this.props.isNodeMenuShow,isItemFreezed:_this.props.isItemFreezed,onNodeClick:_this.props.onNodeClick,onNodeCollapse:_this.props.onNodeCollapse,onNodeExpanded:_this.props.onNodeExpanded,onFreezedItem:_this.props.onFreezedItem,onMenuItemClick:_this.onMenuItemClick,onUnFreezedItem:_this.onUnFreezedItem,onNodeChanged:_this.props.onNodeChanged,registerHandlers:_this.props.registerHandlers,unregisterHandlers:_this.props.unregisterHandlers,onNodeDragStart:_this.props.onNodeDragStart,onNodeDragMove:_this.props.onNodeDragMove,onNodeDrop:_this.props.onNodeDrop,onNodeDragEnter:_this.props.onNodeDragEnter,onNodeDragLeave:_this.props.onNodeDragLeave});}));};_this.state={isHighlight:false,isShowOperationMenu:false,isNodeDropShow:false};return _this;}_createClass(TreeNodeView,[{key:'render',value:function render(){var _props=this.props,currentPath=_props.currentPath,node=_props.node,isNodeMenuShow=_props.isNodeMenuShow;var _getNodeTypeAndIcon=this.getNodeTypeAndIcon(),type=_getNodeTypeAndIcon.type,icon=_getNodeTypeAndIcon.icon;var hlClass=this.state.isHighlight?'tree-node-inner-hover ':'';if(node.path===currentPath){hlClass='tree-node-hight-light';}return _react2.default.createElement('div',{className:'tree-node'},_react2.default.createElement('div',{type:type,title:node.object.name,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:'tree-node-inner text-nowrap '+hlClass+' '+(node.path==='/'?'hide':'')+' '+(this.state.isNodeDropShow?'tree-node-drop':'')},_react2.default.createElement('div',{className:'tree-node-text',draggable:'true',onDragStart:this.onNodeDragStart,onClick:this.onNodeClick,onDragEnter:this.onNodeDragEnter,onDragLeave:this.onNodeDragLeave,onDragOver:this.onNodeDragMove,onDrop:this.onNodeDrop},node.object.name),_react2.default.createElement('div',{className:'left-icon'},type==='dir'&&(!node.isLoaded||node.isLoaded&&node.hasChildren())&&_react2.default.createElement('i',{className:'folder-toggle-icon fa '+(node.isExpanded?'fa-caret-down':'fa-caret-right'),onMouseDown:function onMouseDown(e){return e.stopPropagation();},onClick:this.onLoadToggle}),_react2.default.createElement('i',{className:'tree-node-icon'},icon)),isNodeMenuShow&&_react2.default.createElement('div',{className:'right-icon'},(this.props.repoPermission||_constants.permission)&&this.state.isShowOperationMenu&&_react2.default.createElement(_treeNodeMenu2.default,{node:this.props.node,onMenuItemClick:this.onMenuItemClick,onUnFreezedItem:this.onUnFreezedItem,onFreezedItem:this.props.onFreezedItem,registerHandlers:this.props.registerHandlers,unregisterHandlers:this.props.unregisterHandlers}))),node.isExpanded&&this.renderChildren());}}]);return TreeNodeView;}(_react2.default.Component);TreeNodeView.propTypes=propTypes;exports.default=TreeNodeView;\n\n/***/ }),\n\n/***/ 166:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={node:_propTypes2.default.object.isRequired,onMenuItemClick:_propTypes2.default.func.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnFreezedItem:_propTypes2.default.func.isRequired,registerHandlers:_propTypes2.default.func,unregisterHandlers:_propTypes2.default.func};var TreeNodeMenu=function(_React$Component){_inherits(TreeNodeMenu,_React$Component);function TreeNodeMenu(props){_classCallCheck(this,TreeNodeMenu);var _this=_possibleConstructorReturn(this,(TreeNodeMenu.__proto__||Object.getPrototypeOf(TreeNodeMenu)).call(this,props));_this.translateMenuItem=function(menuItem){var translateResult='';switch(menuItem){case'New Folder':translateResult=(0,_constants.gettext)('New Folder');break;case'New File':translateResult=(0,_constants.gettext)('New File');break;case'Rename':translateResult=(0,_constants.gettext)('Rename');break;case'Copy':translateResult=(0,_constants.gettext)('Copy');break;case'Move':translateResult=(0,_constants.gettext)('Move');break;case'Delete':translateResult=(0,_constants.gettext)('Delete');break;case'Open in New Tab':translateResult=(0,_constants.gettext)('Open in New Tab');break;default:break;}return translateResult;};_this.onDropdownToggleClick=function(e){e.preventDefault();_this.toggleOperationMenu(e);};_this.toggleOperationMenu=function(e){e.stopPropagation();_this.setState({isItemMenuShow:!_this.state.isItemMenuShow},function(){if(_this.state.isItemMenuShow){_this.props.onFreezedItem();}else{_this.props.onUnFreezedItem();}});};_this.onMenuItemClick=function(event){var operation=event.target.dataset.toggle;var node=_this.props.node;_this.props.onMenuItemClick(operation,node);};_this.state={isItemMenuShow:false,menuList:[]};return _this;}_createClass(TreeNodeMenu,[{key:'componentDidMount',value:function componentDidMount(){var menuList=this.caculateMenuList();this.setState({menuList:menuList});}},{key:'caculateMenuList',value:function caculateMenuList(){var node=this.props.node;var menuList=[];if(node.object.type==='dir'){menuList=['New Folder','New File','Copy','Move','Rename','Delete'];}else{menuList=['Rename','Delete','Copy','Move','Open in New Tab'];}return menuList;}},{key:'render',value:function render(){var _this2=this;this.state.isItemMenuShow?this.props.unregisterHandlers():this.props.registerHandlers();return _react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},_react2.default.createElement(_reactstrap.DropdownToggle,{tag:'i',className:'fas fa-ellipsis-v',title:(0,_constants.gettext)('More Operations'),'data-toggle':'dropdown','aria-expanded':this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),_react2.default.createElement(_reactstrap.DropdownMenu,null,this.state.menuList.map(function(menuItem,index){return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,'data-toggle':menuItem,onClick:_this2.onMenuItemClick},_this2.translateMenuItem(menuItem));})));}}]);return TreeNodeMenu;}(_react2.default.Component);TreeNodeMenu.propTypes=propTypes;exports.default=TreeNodeMenu;\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);__webpack_require__(168);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onMenuItemClick:_propTypes2.default.func.isRequired,node:_propTypes2.default.object,mousePosition:_propTypes2.default.object,closeRightMenu:_propTypes2.default.func,registerHandlers:_propTypes2.default.func,unregisterHandlers:_propTypes2.default.func};var TreeViewContextMenu=function(_React$Component){_inherits(TreeViewContextMenu,_React$Component);function TreeViewContextMenu(props){_classCallCheck(this,TreeViewContextMenu);var _this=_possibleConstructorReturn(this,(TreeViewContextMenu.__proto__||Object.getPrototypeOf(TreeViewContextMenu)).call(this,props));_this.calculateMenuDistance=function(){var mousePosition=_this.props.mousePosition;var rightTreeMenu=document.querySelector('.right-tree-menu');var rightTreeMenuHeight=rightTreeMenu.offsetHeight;if(mousePosition.clientY+rightTreeMenuHeight>document.body.clientHeight){rightTreeMenu.style.top=mousePosition.clientY-rightTreeMenuHeight+'px';}else{rightTreeMenu.style.top=mousePosition.clientY+'px';}rightTreeMenu.style.left=mousePosition.clientX+'px';document.addEventListener('click',_this.listenClick);document.addEventListener('mousemove',_this.handleContextMenu);};_this.translateMenuItem=function(menuItem){var translateResult='';switch(menuItem){case'New Folder':translateResult=(0,_constants.gettext)('New Folder');break;case'New File':translateResult=(0,_constants.gettext)('New File');break;case'Rename':translateResult=(0,_constants.gettext)('Rename');break;case'Copy':translateResult=(0,_constants.gettext)('Copy');break;case'Move':translateResult=(0,_constants.gettext)('Move');break;case'Delete':translateResult=(0,_constants.gettext)('Delete');break;case'Open in New Tab':translateResult=(0,_constants.gettext)('Open in New Tab');break;default:break;}return translateResult;};_this.handleContextMenu=function(e){var mousePosition=_this.props.mousePosition;var rightTreeMenu=document.querySelector('.right-tree-menu');var rightTreeMenuHeight=rightTreeMenu.offsetHeight;var rightTreeMenuWidth=rightTreeMenu.offsetWidth;if(mousePosition.clientY+rightTreeMenuHeight>document.body.clientHeight){if(e.clientX>=mousePosition.clientX&&e.clientX<=mousePosition.clientX+rightTreeMenuWidth&&e.clientY<=mousePosition.clientY&&e.clientY>=mousePosition.clientY-rightTreeMenuHeight){_this.props.unregisterHandlers();}else{_this.props.registerHandlers();}}else{if(e.clientX>=mousePosition.clientX&&e.clientX<=mousePosition.clientX+rightTreeMenuWidth&&e.clientY>=mousePosition.clientY&&e.clientY<=mousePosition.clientY+rightTreeMenuHeight){_this.props.unregisterHandlers();}else{_this.props.registerHandlers();}}};_this.listenClick=function(e){var mousePosition=_this.props.mousePosition;var rightTreeMenu=document.querySelector('.right-tree-menu');var rightTreeMenuHeight=rightTreeMenu.offsetHeight;var rightTreeMenuWidth=rightTreeMenu.offsetWidth;if(e.clientX<=mousePosition.clientX||e.clientX>=mousePosition.clientX+rightTreeMenuWidth){_this.props.closeRightMenu();}if(mousePosition.clientY+rightTreeMenuHeight>document.body.clientHeight){if(e.clientY<=mousePosition.clientY-rightTreeMenuHeight||e.clientY>=mousePosition.clientY){_this.props.closeRightMenu();}}else{if(e.clientY<=mousePosition.clientY||e.clientY>=mousePosition.clientY+rightTreeMenuHeight){_this.props.closeRightMenu();}}};_this.onMenuItemClick=function(event){var operation=event.target.dataset.toggle;var node=_this.props.node;_this.props.onMenuItemClick(operation,node);_this.props.closeRightMenu();};_this.state={isItemMenuShow:false,menuList:[]};return _this;}_createClass(TreeViewContextMenu,[{key:'componentDidMount',value:function componentDidMount(){var menuList=this.caculateMenuList();this.setState({menuList:menuList});}},{key:'componentDidUpdate',value:function componentDidUpdate(){this.calculateMenuDistance();}},{key:'componentWillUnmount',value:function componentWillUnmount(){document.removeEventListener('click',this.listenClick);document.removeEventListener('mousemove',this.handleContextMenu);}},{key:'caculateMenuList',value:function caculateMenuList(){var node=this.props.node;var menuList=[];if(!node){menuList=['New Folder','New File'];}else{if(node.object.type==='dir'){menuList=['New Folder','New File','Copy','Move','Rename','Delete'];}else{menuList=['Rename','Delete','Copy','Move','Open in New Tab'];}}return menuList;}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement('div',{className:'right-tree-menu'},this.state.menuList.map(function(menuItem,index){return _react2.default.createElement('button',{className:'right-tree-item',key:index,'data-toggle':menuItem,onClick:_this2.onMenuItemClick},_this2.translateMenuItem(menuItem));}));}}]);return TreeViewContextMenu;}(_react2.default.Component);TreeViewContextMenu.propTypes=propTypes;exports.default=TreeViewContextMenu;\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _markdownViewer=__webpack_require__(115);var _markdownViewer2=_interopRequireDefault(_markdownViewer);var _constants=__webpack_require__(2);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={children:_propTypes2.default.object,isFileLoading:_propTypes2.default.bool.isRequired,markdownContent:_propTypes2.default.string.isRequired,latestContributor:_propTypes2.default.string.isRequired,lastModified:_propTypes2.default.string.isRequired,onLinkClick:_propTypes2.default.func.isRequired,isWiki:_propTypes2.default.bool,isTOCShow:_propTypes2.default.bool};var contentClass='wiki-page-content';var WikiMarkdownViewer=function(_React$Component){_inherits(WikiMarkdownViewer,_React$Component);function WikiMarkdownViewer(props){_classCallCheck(this,WikiMarkdownViewer);var _this=_possibleConstructorReturn(this,(WikiMarkdownViewer.__proto__||Object.getPrototypeOf(WikiMarkdownViewer)).call(this,props));_this.onContentRendered=function(markdownViewer){_this.titlesInfo=markdownViewer.titlesInfo;};_this.onLinkClick=function(event){event.preventDefault();event.stopPropagation();var link='';if(event.target.tagName!=='A'){var target=event.target.parentNode;while(target.tagName!=='A'){target=target.parentNode;}link=target.href;}else{link=event.target.href;}_this.props.onLinkClick(link);};_this.onScrollHandler=function(){var contentScrollTop=_this.markdownContainer.current.scrollTop+180;var titlesLength=_this.titlesInfo.length;var activeTitleIndex=void 0;if(contentScrollTop<=_this.titlesInfo[0]){activeTitleIndex=0;_this.setState({activeTitleIndex:activeTitleIndex});return;}if(contentScrollTop>_this.titlesInfo[titlesLength-1]){activeTitleIndex=_this.titlesInfo.length-1;_this.setState({activeTitleIndex:activeTitleIndex});return;}for(var i=0;i<titlesLength;i++){if(contentScrollTop>_this.titlesInfo[i]){continue;}else{activeTitleIndex=i-1;break;}}_this.setState({activeTitleIndex:activeTitleIndex});};_this.changeInlineNode=function(item){if(item.object=='inline'){var url=void 0;// change image url\nif(item.type=='image'&&_constants.isPublicWiki){url=item.data.src;var re=new RegExp(_constants.serviceURL+'/lib/'+_constants.repoID+'/file.*raw=1');// different repo \nif(!re.test(url)){return;}// get image path\nvar index=url.indexOf('/file');var index2=url.indexOf('?');var imagePath=url.substring(index+5,index2);// replace url\nitem.data.src=_constants.serviceURL+'/view-image-via-public-wiki/?slug='+_constants.slug+'&path='+imagePath;}else if(item.type=='link'){url=item.data.href;// change file url \nif(_utils.Utils.isInternalMarkdownLink(url,_constants.repoID)){var path=_utils.Utils.getPathFromInternalMarkdownLink(url,_constants.repoID);// replace url\nitem.data.href=_constants.serviceURL+'/wikis/'+_constants.slug+path;}// change dir url \nelse if(_utils.Utils.isInternalDirLink(url,_constants.repoID)){var _path=_utils.Utils.getPathFromInternalDirLink(url,_constants.repoID);// replace url\nitem.data.href=_constants.serviceURL+'/wikis/'+_constants.slug+_path;}}}return item;};_this.modifyValueBeforeRender=function(value){var nodes=value.document.nodes;var newNodes=_utils.Utils.changeMarkdownNodes(nodes,_this.changeInlineNode);value.document.nodes=newNodes;return value;};_this.renderMarkdown=function(){var isTOCShow=true;if(_this.props.isTOCShow===false){isTOCShow=false;}if(_this.props.isWiki){return _react2.default.createElement(_markdownViewer2.default,{showTOC:isTOCShow,markdownContent:_this.props.markdownContent,activeTitleIndex:_this.state.activeTitleIndex,onContentRendered:_this.onContentRendered,modifyValueBeforeRender:_this.modifyValueBeforeRender});}return _react2.default.createElement(_markdownViewer2.default,{showTOC:isTOCShow,markdownContent:_this.props.markdownContent,activeTitleIndex:_this.state.activeTitleIndex,onContentRendered:_this.onContentRendered});};_this.state={activeTitleIndex:0};_this.markdownContainer=_react2.default.createRef();_this.links=[];_this.titlesInfo=[];return _this;}_createClass(WikiMarkdownViewer,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;// Bind event when first loaded\nthis.links=document.querySelectorAll('.'+contentClass+' a');this.links.forEach(function(link){link.addEventListener('click',_this2.onLinkClick);});}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(){var _this3=this;// Unbound event when updating\nthis.links.forEach(function(link){link.removeEventListener('click',_this3.onLinkClick);});}},{key:'componentDidUpdate',value:function componentDidUpdate(){var _this4=this;// Update completed, rebind event\nthis.links=document.querySelectorAll('.'+contentClass+' a');this.links.forEach(function(link){link.addEventListener('click',_this4.onLinkClick);});}},{key:'componentWillUnmount',value:function componentWillUnmount(){var _this5=this;// Rebinding events when the component is destroyed\nthis.links.forEach(function(link){link.removeEventListener('click',_this5.onLinkClick);});}},{key:'render',value:function render(){if(this.props.isFileLoading){return _react2.default.createElement(_loading2.default,null);}return _react2.default.createElement('div',{ref:this.markdownContainer,className:'wiki-page-container',onScroll:this.onScrollHandler.bind(this)},_react2.default.createElement('div',{className:contentClass},this.props.children,this.renderMarkdown(),_react2.default.createElement('p',{id:'wiki-page-last-modified'},(0,_constants.gettext)('Last modified by'),' ',this.props.latestContributor,', ',_react2.default.createElement('span',null,this.props.lastModified))));}}]);return WikiMarkdownViewer;}(_react2.default.Component);var defaultProps={isWiki:false};WikiMarkdownViewer.propTypes=propTypes;_markdownViewer2.default.defaultProps=defaultProps;exports.default=WikiMarkdownViewer;\n\n/***/ }),\n\n/***/ 17:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _glamor=__webpack_require__(9);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _Transition=__webpack_require__(36);var _Transition2=_interopRequireDefault(_Transition);var _alert=__webpack_require__(18);var _alert2=_interopRequireDefault(_alert);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var animationEasing={deceleration:'cubic-bezier(0.0, 0.0, 0.2, 1)',acceleration:'cubic-bezier(0.4, 0.0, 1, 1)',spring:'cubic-bezier(0.175, 0.885, 0.320, 1.175)'};var ANIMATION_DURATION=240;var openAnimation=_glamor.css.keyframes('openAnimation',{from:{opacity:0,transform:'translateY(-120%)'},to:{transform:'translateY(0)'}});var closeAnimation=_glamor.css.keyframes('closeAnimation',{from:{transform:'scale(1)',opacity:1},to:{transform:'scale(0.9)',opacity:0}});var animationStyles=(0,_glamor.css)({display:'flex',flexDirection:'column',alignItems:'center',height:0,transition:'all '+ANIMATION_DURATION+'ms '+animationEasing.deceleration,'&[data-state=\"entering\"], &[data-state=\"entered\"]':{animation:openAnimation+' '+ANIMATION_DURATION+'ms '+animationEasing.spring+' both'},'&[data-state=\"exiting\"]':{animation:closeAnimation+' 120ms '+animationEasing.acceleration+' both'}});var Toast=function(_React$PureComponent){_inherits(Toast,_React$PureComponent);function Toast(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Toast);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Toast.__proto__||Object.getPrototypeOf(Toast)).call.apply(_ref,[this].concat(args))),_this),_this.state={isShown:true,height:0},_this.close=function(){_this.clearCloseTimer();_this.setState({isShown:false});},_this.startCloseTimer=function(){if(_this.props.duration){_this.closeTimer=setTimeout(function(){_this.close();},_this.props.duration*1000);}},_this.clearCloseTimer=function(){if(_this.closeTimer){clearTimeout(_this.closeTimer);_this.closeTimer=null;}},_this.handleMouseEnter=function(){_this.clearCloseTimer();},_this.handleMouseLeave=function(){_this.startCloseTimer();},_this.onRef=function(ref){if(ref===null)return;var _ref$getBoundingClien=ref.getBoundingClientRect(),height=_ref$getBoundingClien.height;_this.setState({height:height});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Toast,[{key:'componentDidUpdate',value:function componentDidUpdate(prevProps){if(prevProps.isShown!==this.props.isShown){// eslint-disable-next-line react/no-did-update-set-state\nthis.setState({isShown:this.props.isShown});}}},{key:'componentDidMount',value:function componentDidMount(){this.startCloseTimer();}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.clearCloseTimer();}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_Transition2.default,{appear:true,unmountOnExit:true,timeout:ANIMATION_DURATION,'in':this.state.isShown,onExited:this.props.onRemove},function(state){return _react2.default.createElement('div',{'data-state':state,className:animationStyles,onMouseEnter:_this2.handleMouseEnter,onMouseLeave:_this2.handleMouseLeave,style:{height:_this2.state.height,zIndex:_this2.props.zIndex,marginBottom:_this2.state.isShown?0:-_this2.state.height}},_react2.default.createElement('div',{ref:_this2.onRef,style:{padding:8}},_react2.default.createElement(_alert2.default,{intent:_this2.props.intent,title:_this2.props.title,children:_this2.props.children,isRemoveable:_this2.props.hasCloseButton,onRemove:function onRemove(){return _this2.close();}})));});}}]);return Toast;}(_react2.default.PureComponent);Toast.propTypes={/**\n     * The z-index of the toast.\n     */zIndex:_propTypes2.default.number,/**\n     * Duration of the toast.\n     */duration:_propTypes2.default.number,/**\n     * Function called when the toast is all the way closed.\n     */onRemove:_propTypes2.default.func,/**\n     * The type of the alert.\n     */intent:_propTypes2.default.oneOf(['none','success','warning','danger']).isRequired,/**\n     * The title of the alert.\n     */title:_propTypes2.default.node,/**\n     * Description of the alert.\n     */children:_propTypes2.default.node,/**\n     * When true, show a close icon button inside of the toast.\n     */hasCloseButton:_propTypes2.default.bool,/**\n     * When false, will close the Toast and call onRemove when finished.\n     */isShown:_propTypes2.default.bool};Toast.defaultProps={intent:'none'};exports.default=Toast;\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={fileType:_propTypes2.default.string,parentPath:_propTypes2.default.string.isRequired,onAddFolder:_propTypes2.default.func.isRequired,checkDuplicatedName:_propTypes2.default.func.isRequired,addFolderCancel:_propTypes2.default.func.isRequired};var CreateForder=function(_React$Component){_inherits(CreateForder,_React$Component);function CreateForder(props){_classCallCheck(this,CreateForder);var _this=_possibleConstructorReturn(this,(CreateForder.__proto__||Object.getPrototypeOf(CreateForder)).call(this,props));_this.handleChange=function(e){_this.setState({childName:e.target.value});};_this.handleSubmit=function(){var newName=_this.state.childName;var isDuplicated=_this.checkDuplicatedName();if(isDuplicated){var errMessage=(0,_constants.gettext)('The name \"{name}\" is already taken. Please choose a different name.');errMessage=errMessage.replace('{name}',_utils.Utils.HTMLescape(newName));_this.setState({errMessage:errMessage});}else{var path=_this.state.parentPath+newName;_this.props.onAddFolder(path);}};_this.handleKeyPress=function(e){if(e.key==='Enter'){_this.handleSubmit();e.preventDefault();}};_this.toggle=function(){_this.props.addFolderCancel();};_this.checkDuplicatedName=function(){var isDuplicated=_this.props.checkDuplicatedName(_this.state.childName);return isDuplicated;};_this.state={parentPath:'',childName:'',errMessage:''};_this.newInput=_react2.default.createRef();return _this;}_createClass(CreateForder,[{key:'componentDidMount',value:function componentDidMount(){var parentPath=this.props.parentPath;if(parentPath[parentPath.length-1]==='/'){// mainPanel\nthis.setState({parentPath:parentPath});}else{this.setState({parentPath:parentPath+'/'});// sidePanel\n}this.newInput.focus();this.newInput.setSelectionRange(0,0);}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('New Folder')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement(_reactstrap.Form,null,_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement(_reactstrap.Label,{'for':'folderName'},(0,_constants.gettext)('Name')),_react2.default.createElement(_reactstrap.Input,{id:'folderName',value:this.state.childName,innerRef:function innerRef(input){_this2.newInput=input;},onKeyPress:this.handleKeyPress,onChange:this.handleChange}))),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',className:'mt-2'},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return CreateForder;}(_react2.default.Component);CreateForder.propTypes=propTypes;exports.default=CreateForder;\n\n/***/ }),\n\n/***/ 171:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onCancelDownload:_propTypes2.default.func.isRequired,progress:_propTypes2.default.number.isRequired};var ZipDownloadDialog=function(_React$Component){_inherits(ZipDownloadDialog,_React$Component);function ZipDownloadDialog(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ZipDownloadDialog);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ZipDownloadDialog.__proto__||Object.getPrototypeOf(ZipDownloadDialog)).call.apply(_ref,[this].concat(args))),_this),_this.toggle=function(){_this.props.onCancelDownload();},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(ZipDownloadDialog,[{key:'render',value:function render(){return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle}),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('div',null,this.props.progress+'%')));}}]);return ZipDownloadDialog;}(_react2.default.Component);ZipDownloadDialog.propTypes=propTypes;exports.default=ZipDownloadDialog;\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,currentTag:_propTypes2.default.object.isRequired,toggleCancel:_propTypes2.default.func.isRequired,onClose:_propTypes2.default.func.isRequired,updateUsedRepoTags:_propTypes2.default.func.isRequired};var ListTaggedFilesDialog=function(_React$Component){_inherits(ListTaggedFilesDialog,_React$Component);function ListTaggedFilesDialog(props){_classCallCheck(this,ListTaggedFilesDialog);var _this=_possibleConstructorReturn(this,(ListTaggedFilesDialog.__proto__||Object.getPrototypeOf(ListTaggedFilesDialog)).call(this,props));_this.onDeleteTaggedFile=function(taggedFile){var repoID=_this.props.repoID;var fileTagID=taggedFile.file_tag_id;_seafileApi.seafileAPI.deleteFileTag(repoID,fileTagID).then(function(res){_this.getTaggedFiles();_this.props.updateUsedRepoTags();});};_this.getTaggedFiles=function(){var _this$props=_this.props,repoID=_this$props.repoID,currentTag=_this$props.currentTag;_seafileApi.seafileAPI.listTaggedFiles(repoID,currentTag.id).then(function(res){var taggedFileList=[];res.data.tagged_files!==undefined&&res.data.tagged_files.forEach(function(file){var taggedFile=file;taggedFileList.push(taggedFile);});_this.setState({taggedFileList:taggedFileList});});};_this.state={taggedFileList:[]};return _this;}_createClass(ListTaggedFilesDialog,[{key:'componentDidMount',value:function componentDidMount(){this.getTaggedFiles();}},{key:'render',value:function render(){var _this2=this;var taggedFileList=this.state.taggedFileList;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.onClose},(0,_constants.gettext)('Tagged Files')),_react2.default.createElement(_reactstrap.ModalBody,{className:'dialog-list-container'},_react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'45%',className:'ellipsis'},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{width:'27%'},(0,_constants.gettext)('Size')),_react2.default.createElement('th',{width:'18%'},(0,_constants.gettext)('Last Update')),_react2.default.createElement('th',{width:'10%'}))),_react2.default.createElement('tbody',null,taggedFileList.map(function(taggedFile,index){return _react2.default.createElement(TaggedFile,{key:index,repoID:_this2.props.repoID,taggedFile:taggedFile,onDeleteTaggedFile:_this2.onDeleteTaggedFile});})))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.props.toggleCancel},(0,_constants.gettext)('Close'))));}}]);return ListTaggedFilesDialog;}(_react2.default.Component);ListTaggedFilesDialog.propTypes=propTypes;exports.default=ListTaggedFilesDialog;var TaggedFilePropTypes={repoID:_propTypes2.default.string.isRequired,taggedFile:_propTypes2.default.object,onDeleteTaggedFile:_propTypes2.default.func.isRequired};var TaggedFile=function(_React$Component2){_inherits(TaggedFile,_React$Component2);function TaggedFile(props){_classCallCheck(this,TaggedFile);var _this3=_possibleConstructorReturn(this,(TaggedFile.__proto__||Object.getPrototypeOf(TaggedFile)).call(this,props));_this3.onMouseEnter=function(){_this3.setState({active:true});};_this3.onMouseLeave=function(){_this3.setState({active:false});};_this3.state={active:false};return _this3;}_createClass(TaggedFile,[{key:'render',value:function render(){var taggedFile=this.props.taggedFile;var className=this.state.active?'action-icon sf2-icon-x3':'action-icon vh sf2-icon-x3';var path=taggedFile.parent_path?_utils.Utils.joinPath(taggedFile.parent_path,taggedFile.filename):'';var href=_constants.siteRoot+'lib/'+this.props.repoID+'/file'+_utils.Utils.encodePath(path);return taggedFile.file_deleted?_react2.default.createElement('tr',{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{colSpan:'3',className:'name'},taggedFile.filename,' ',_react2.default.createElement('span',{style:{color:\"red\"}},(0,_constants.gettext)('deleted'))),_react2.default.createElement('td',null,_react2.default.createElement('i',{className:className,onClick:this.props.onDeleteTaggedFile.bind(this,taggedFile)}))):_react2.default.createElement('tr',{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{className:'name'},_react2.default.createElement('a',{href:href,target:'_blank'},taggedFile.filename)),_react2.default.createElement('td',null,_utils.Utils.bytesToSize(taggedFile.size)),_react2.default.createElement('td',null,_moment2.default.unix(taggedFile.mtime).fromNow()),_react2.default.createElement('td',null,_react2.default.createElement('i',{className:className,onClick:this.props.onDeleteTaggedFile.bind(this,taggedFile)})));}}]);return TaggedFile;}(_react2.default.Component);TaggedFile.propTypes=TaggedFilePropTypes;\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _glamor=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Alert=function(_React$PureComponent){_inherits(Alert,_React$PureComponent);function Alert(props){_classCallCheck(this,Alert);var _this=_possibleConstructorReturn(this,(Alert.__proto__||Object.getPrototypeOf(Alert)).call(this,props));_this.containerStyle=(0,_glamor.css)({borderRadius:'3px',backgroundColor:'#fff',padding:'10px 16px',display:'flex',boxSizing:'border-box',boxShadow:'rgba(67, 90, 111, 0.3) 0px 0px 1px, rgba(67, 90, 111, 0.47) 0px 8px 10px -4px',justifyContent:'space-between',flexDirection:'row'});_this.containerBorderSuccess=(0,_glamor.css)({borderLeft:'3px solid rgb(71, 184, 129)'});_this.containerBorderWarn=(0,_glamor.css)({borderLeft:'3px solid rgb(217, 130, 43)'});_this.containerBorderDanger=(0,_glamor.css)({borderLeft:'3px solid rgb(236, 76, 71)'});_this.containerBorderNotify=(0,_glamor.css)({borderLeft:'3px solid rgb(16, 112, 202)'});_this.toastTextTitle=(0,_glamor.css)({fontWeight:'600',fontSize:'14px',color:'#435a6f',margin:'0'});_this.toastTextChild=(0,_glamor.css)({fontSize:'14px',color:'#999',margin:'0'});_this.toastClose=(0,_glamor.css)({marginLeft:'15px',height:'24px',width:'24px',lineHeight:'22px',fontWeight:'700',textAlign:'center',fontSize:'20px',color:'#000',cursor:'pointer',opacity:'0.5',':hover':{opacity:1}});_this.toastIcon=(0,_glamor.css)({marginRight:'10px',width:'14px',height:'20px',lineHeight:'20px'});return _this;}_createClass(Alert,[{key:'getContainerStyle',value:function getContainerStyle(intent){switch(intent){case'success':return{borderStyle:this.containerBorderSuccess,iconColor:(0,_glamor.css)({color:'rgb(71, 184, 129)'}),iconClass:'fa fa-check-circle'};case'warning':return{borderStyle:this.containerBorderWarn,iconColor:(0,_glamor.css)({color:'rgb(217, 130, 43)'}),iconClass:'fa fa-exclamation-triangle'};case'none':return{borderStyle:this.containerBorderNotify,iconColor:(0,_glamor.css)({color:'rgb(16, 112, 202)'}),iconClass:'fa fa-exclamation-circle'};case'danger':return{borderStyle:this.containerBorderDanger,iconColor:(0,_glamor.css)({color:'rgb(236, 76, 71)'}),iconClass:'fa fa-exclamation-circle'};}}},{key:'render',value:function render(){var toastStyle=this.getContainerStyle(this.props.intent);return _react2.default.createElement('div',(0,_glamor.css)(toastStyle.borderStyle,this.containerStyle),_react2.default.createElement('div',{className:this.toastIcon},_react2.default.createElement('i',_extends({className:toastStyle.iconClass},toastStyle.iconColor))),_react2.default.createElement('div',{className:this.toastTextContainer},_react2.default.createElement('p',{className:this.toastTextTitle},this.props.title),this.props.children?_react2.default.createElement('p',{className:this.toastTextChild},this.props.children):null),_react2.default.createElement('div',{onClick:this.props.onRemove,className:this.toastClose},_react2.default.createElement('span',null,'\\xD7')));}}]);return Alert;}(_react2.default.PureComponent);exports.default=Alert;\n\n/***/ }),\n\n/***/ 19:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _utils=__webpack_require__(4);var _selectEditor=__webpack_require__(32);var _selectEditor2=_interopRequireDefault(_selectEditor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isTextMode:_propTypes2.default.bool.isRequired,isEditIconShow:_propTypes2.default.bool.isRequired,permissions:_propTypes2.default.array.isRequired,currentPermission:_propTypes2.default.string.isRequired,onPermissionChanged:_propTypes2.default.func.isRequired};var SharePermissionEditor=function(_React$Component){_inherits(SharePermissionEditor,_React$Component);function SharePermissionEditor(){var _ref;var _temp,_this,_ret;_classCallCheck(this,SharePermissionEditor);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=SharePermissionEditor.__proto__||Object.getPrototypeOf(SharePermissionEditor)).call.apply(_ref,[this].concat(args))),_this),_this.translatePermission=function(permission){return _utils.Utils.sharePerms(permission);},_this.translateExplanation=function(explanation){return _utils.Utils.sharePermsExplanation(explanation);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(SharePermissionEditor,[{key:'render',value:function render(){return _react2.default.createElement(_selectEditor2.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.permissions,currentOption:this.props.currentPermission,onOptionChanged:this.props.onPermissionChanged,translateOption:this.translatePermission,translateExplanation:this.translateExplanation});}}]);return SharePermissionEditor;}(_react2.default.Component);SharePermissionEditor.propTypes=propTypes;exports.default=SharePermissionEditor;\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var dirPath=exports.dirPath='/';var gettext=exports.gettext=window.gettext;var siteRoot=exports.siteRoot=window.app.config.siteRoot;var loginUrl=exports.loginUrl=window.app.config.loginUrl;var avatarInfo=exports.avatarInfo=window.app.config.avatarInfo;var logoPath=exports.logoPath=window.app.config.logoPath;var mediaUrl=exports.mediaUrl=window.app.config.mediaUrl;var siteTitle=exports.siteTitle=window.app.config.siteTitle;var siteName=exports.siteName=window.app.config.siteName;var logoWidth=exports.logoWidth=window.app.config.logoWidth;var logoHeight=exports.logoHeight=window.app.config.logoHeight;var isPro=exports.isPro=window.app.config.isPro==='True';var isDocs=exports.isDocs=window.app.config.isDocs==='True';var lang=exports.lang=window.app.config.lang;var fileServerRoot=exports.fileServerRoot=window.app.config.fileServerRoot;var seafileVersion=exports.seafileVersion=window.app.config.seafileVersion;var serviceURL=exports.serviceURL=window.app.config.serviceURL;//pageOptions\nvar seafileCollabServer=exports.seafileCollabServer=window.app.pageOptions.seafileCollabServer;var name=exports.name=window.app.pageOptions.name;var contactEmail=exports.contactEmail=window.app.pageOptions.contactEmail;var username=exports.username=window.app.pageOptions.username;var canAddRepo=exports.canAddRepo=window.app.pageOptions.canAddRepo;var canGenerateShareLink=exports.canGenerateShareLink=window.app.pageOptions.canGenerateShareLink;var canGenerateUploadLink=exports.canGenerateUploadLink=window.app.pageOptions.canGenerateUploadLink?true:false;var canViewOrg=exports.canViewOrg=window.app.pageOptions.canViewOrg==='True';var fileAuditEnabled=exports.fileAuditEnabled=window.app.pageOptions.fileAuditEnabled?true:false;var enableFileComment=exports.enableFileComment=window.app.pageOptions.enableFileComment?true:false;var folderPermEnabled=exports.folderPermEnabled=window.app.pageOptions.folderPermEnabled==='True';var enableResetEncryptedRepoPassword=exports.enableResetEncryptedRepoPassword=window.app.pageOptions.enableResetEncryptedRepoPassword==='True';var isEmailConfigured=exports.isEmailConfigured=window.app.pageOptions.isEmailConfigured==='True';var enableUploadFolder=exports.enableUploadFolder=window.app.pageOptions.enableUploadFolder==='True';var enableResumableFileUpload=exports.enableResumableFileUpload=window.app.pageOptions.enableResumableFileUpload==='True';var storages=exports.storages=window.app.pageOptions.storages;// storage backends\nvar enableRepoSnapshotLabel=exports.enableRepoSnapshotLabel=window.app.pageOptions.enableRepoSnapshotLabel;var shareLinkExpireDaysMin=exports.shareLinkExpireDaysMin=window.app.pageOptions.shareLinkExpireDaysMin;var shareLinkExpireDaysMax=exports.shareLinkExpireDaysMax=window.app.pageOptions.shareLinkExpireDaysMax;var maxFileName=exports.maxFileName=window.app.pageOptions.maxFileName;var enableWiki=exports.enableWiki=window.app.pageOptions.enableWiki;var enableEncryptedLibrary=exports.enableEncryptedLibrary=window.app.pageOptions.enableEncryptedLibrary;var enableRepoHistorySetting=exports.enableRepoHistorySetting=window.app.pageOptions.enableRepoHistorySetting;var isSystemStaff=exports.isSystemStaff=window.app.pageOptions.isSystemStaff;var thumbnailSizeForOriginal=exports.thumbnailSizeForOriginal=window.app.pageOptions.thumbnailSizeForOriginal;var repoPasswordMinLength=exports.repoPasswordMinLength=window.app.pageOptions.repoPasswordMinLength;var curNoteMsg=exports.curNoteMsg=window.app.pageOptions.curNoteMsg;var curNoteID=exports.curNoteID=window.app.pageOptions.curNoteID;// wiki\nvar slug=exports.slug=window.wiki?window.wiki.config.slug:'';var repoID=exports.repoID=window.wiki?window.wiki.config.repoId:'';var initialPath=exports.initialPath=window.wiki?window.wiki.config.initial_path:'';var permission=exports.permission=window.wiki?window.wiki.config.permission==='True':'';var isDir=exports.isDir=window.wiki?window.wiki.config.isDir:'';var serviceUrl=exports.serviceUrl=window.wiki?window.wiki.config.serviceUrl:'';var isPublicWiki=exports.isPublicWiki=window.wiki?window.wiki.config.isPublicWiki==='True':'';// file history\nvar PER_PAGE=exports.PER_PAGE=25;var historyRepoID=exports.historyRepoID=window.fileHistory?window.fileHistory.pageOptions.repoID:'';var repoName=exports.repoName=window.fileHistory?window.fileHistory.pageOptions.repoName:'';var filePath=exports.filePath=window.fileHistory?window.fileHistory.pageOptions.filePath:'';var fileName=exports.fileName=window.fileHistory?window.fileHistory.pageOptions.fileName:'';// Draft review\nvar draftFilePath=exports.draftFilePath=window.draft?window.draft.config.draftFilePath:'';var draftOriginFilePath=exports.draftOriginFilePath=window.draft?window.draft.config.draftOriginFilePath:'';var draftFileName=exports.draftFileName=window.draft?window.draft.config.draftFileName:'';var draftID=exports.draftID=window.draft?window.draft.config.draftID:'';var draftRepoID=exports.draftRepoID=window.draft?window.draft.config.draftRepoID:'';var author=exports.author=window.draft?window.draft.config.author:'';var authorAvatar=exports.authorAvatar=window.draft?window.draft.config.authorAvatar:'';var originFileExists=exports.originFileExists=window.draft?window.draft.config.originFileExists:'';var draftFileExists=exports.draftFileExists=window.draft?window.draft.config.draftFileExists:'';var draftStatus=exports.draftStatus=window.draft?window.draft.config.draftStatus:'';var draftPublishVersion=exports.draftPublishVersion=window.draft?window.draft.config.draftPublishVersion:'';var originFileVersion=exports.originFileVersion=window.draft?window.draft.config.originFileVersion:'';// org admin\nvar orgID=exports.orgID=window.org?window.org.pageOptions.orgID:'';var invitationLink=exports.invitationLink=window.org?window.org.pageOptions.invitationLink:'';var orgMemberQuotaEnabled=exports.orgMemberQuotaEnabled=window.org?window.org.pageOptions.orgMemberQuotaEnabled:'';// sys admin\nvar constanceEnabled=exports.constanceEnabled=window.sysadmin?window.sysadmin.pageOptions.constance_enabled:'';var multiTenancy=exports.multiTenancy=window.sysadmin?window.sysadmin.pageOptions.multi_tenancy:'';var multiInstitution=exports.multiInstitution=window.sysadmin?window.sysadmin.pageOptions.multi_institution:'';var sysadminExtraEnabled=exports.sysadminExtraEnabled=window.sysadmin?window.sysadmin.pageOptions.sysadmin_extra_enabled:'';var enableGuestInvitation=exports.enableGuestInvitation=window.sysadmin?window.sysadmin.pageOptions.enable_guest_invitation:'';var enableTermsAndConditions=exports.enableTermsAndConditions=window.sysadmin?window.sysadmin.pageOptions.enable_terms_and_conditions:'';var isDefaultAdmin=exports.isDefaultAdmin=window.sysadmin?window.sysadmin.pageOptions.is_default_admin:'';var enableFileScan=exports.enableFileScan=window.sysadmin?window.sysadmin.pageOptions.enable_file_scan:'';var canViewSystemInfo=exports.canViewSystemInfo=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_system_info:'';var canViewStatistic=exports.canViewStatistic=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_statistic:'';var canConfigSystem=exports.canConfigSystem=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_config_system:'';var canManageLibrary=exports.canManageLibrary=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_library:'';var canManageUser=exports.canManageUser=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_user:'';var canManageGroup=exports.canManageGroup=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_group:'';var canViewUserLog=exports.canViewUserLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_user_log:'';var canViewAdminLog=exports.canViewAdminLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_admin_log:'';\n\n/***/ }),\n\n/***/ 207:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 21:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var EditorUtilities=function(){function EditorUtilities(){_classCallCheck(this,EditorUtilities);}_createClass(EditorUtilities,[{key:'getFiles',value:function getFiles(){return _seafileApi.seafileAPI.listWikiDir(_constants.slug,'/').then(function(items){var files=items.data.dir_file_list.map(function(item){return{name:item.name,type:item.type==='dir'?'dir':'file',isExpanded:item.type==='dir'?true:false,parent_path:item.parent_dir,last_update_time:item.last_update_time,permission:item.permission,size:item.size};});return files;});}},{key:'listRepoDir',value:function listRepoDir(){return _seafileApi.seafileAPI.listDir(_constants.repoID,'/',{recursive:true}).then(function(items){var files=items.data.dirent_list.map(function(item){return{name:item.name,type:item.type==='dir'?'dir':'file',isExpanded:item.type==='dir'?true:false,parent_path:item.parent_dir,last_update_time:item.mtime,permission:item.permission,size:item.size};});return files;});}},{key:'createFile',value:function createFile(filePath,isDraft){return _seafileApi.seafileAPI.createFile(_constants.repoID,filePath,isDraft);}},{key:'deleteFile',value:function deleteFile(filePath){return _seafileApi.seafileAPI.deleteFile(_constants.repoID,filePath);}},{key:'renameFile',value:function renameFile(filePath,newFileName){return _seafileApi.seafileAPI.renameFile(_constants.repoID,filePath,newFileName);}},{key:'createDir',value:function createDir(dirPath){return _seafileApi.seafileAPI.createDir(_constants.repoID,dirPath);}},{key:'deleteDir',value:function deleteDir(dirPath){return _seafileApi.seafileAPI.deleteDir(_constants.repoID,dirPath);}},{key:'renameDir',value:function renameDir(dirPath,newDirName){return _seafileApi.seafileAPI.renameDir(_constants.repoID,dirPath,newDirName);}},{key:'getWikiFileContent',value:function getWikiFileContent(slug,filePath){return _seafileApi.seafileAPI.getWikiFileContent(slug,filePath);}},{key:'getSource',value:function getSource(){return _seafileApi.seafileAPI.getSource();}},{key:'searchFiles',value:function searchFiles(queryData,cancelToken){return _seafileApi.seafileAPI.searchFiles(queryData,cancelToken);}},{key:'getAccountInfo',value:function getAccountInfo(){return _seafileApi.seafileAPI.getAccountInfo();}// file history\n},{key:'getFileDownloadLink',value:function getFileDownloadLink(filePath){return _seafileApi.seafileAPI.getFileDownloadLink(_constants.historyRepoID,filePath);}},{key:'getFileContent',value:function getFileContent(filePath){return _seafileApi.seafileAPI.getFileContent(filePath);}},{key:'listFileHistoryRecords',value:function listFileHistoryRecords(filePath,page,per_page){return _seafileApi.seafileAPI.listFileHistoryRecords(_constants.historyRepoID,filePath,page,per_page);}},{key:'revertFile',value:function revertFile(filePath,commitID){return _seafileApi.seafileAPI.revertFile(_constants.historyRepoID,filePath,commitID);}},{key:'listDrafts',value:function listDrafts(){return _seafileApi.seafileAPI.listDrafts();}},{key:'deleteDraft',value:function deleteDraft(id){return _seafileApi.seafileAPI.deleteDraft(id);}},{key:'publishDraft',value:function publishDraft(id){return _seafileApi.seafileAPI.publishDraft(id);}},{key:'zipDownload',value:function zipDownload(parent_dir,dirents){return _seafileApi.seafileAPI.zipDownload(_constants.repoID,parent_dir,dirents);}},{key:'queryZipProgress',value:function queryZipProgress(zip_token){return _seafileApi.seafileAPI.queryZipProgress(zip_token);}},{key:'cancelZipTask',value:function cancelZipTask(zip_token){return _seafileApi.seafileAPI.cancelZipTask(zip_token);}}]);return EditorUtilities;}();var editorUtilities=new EditorUtilities();exports.default=editorUtilities;\n\n/***/ }),\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _Async=__webpack_require__(76);var _Async2=_interopRequireDefault(_Async);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={placeholder:_propTypes2.default.string.isRequired,onSelectChange:_propTypes2.default.func.isRequired,isMulti:_propTypes2.default.bool.isRequired,className:_propTypes2.default.string};var NoOptionsMessage=function NoOptionsMessage(props){return _react2.default.createElement('div',_extends({},props.innerProps,{style:{margin:'6px 10px',textAlign:'center',color:'hsl(0,0%,50%)'}}),(0,_constants.gettext)('User not found'));};var UserSelect=function(_React$Component){_inherits(UserSelect,_React$Component);function UserSelect(props){_classCallCheck(this,UserSelect);var _this=_possibleConstructorReturn(this,(UserSelect.__proto__||Object.getPrototypeOf(UserSelect)).call(this,props));_this.handleSelectChange=function(option){_this.options=[];_this.props.onSelectChange(option);};_this.loadOptions=function(input,callback){var value=input.trim();if(value.length>0){_seafileApi.seafileAPI.searchUsers(value).then(function(res){_this.options=[];for(var i=0;i<res.data.users.length;i++){var item=res.data.users[i];var obj={};obj.value=item.name;obj.email=item.email;obj.label=_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement('img',{src:item.avatar_url,className:'select-module select-module-icon avatar',alt:''}),_react2.default.createElement('span',{className:'select-module select-module-name'},item.name));_this.options.push(obj);}callback(_this.options);});}};_this.clearSelect=function(){_this.refs.userSelect.select.onChange([],{action:'clear'});};_this.options=[];return _this;}_createClass(UserSelect,[{key:'render',value:function render(){return _react2.default.createElement(_Async2.default,{isClearable:true,classNamePrefix:true,components:{NoOptionsMessage:NoOptionsMessage},isMulti:this.props.isMulti,loadOptions:this.loadOptions,onChange:this.handleSelectChange,placeholder:this.props.placeholder,className:'user-select '+this.props.className,ref:'userSelect'});}}]);return UserSelect;}(_react2.default.Component);UserSelect.propTypes=propTypes;exports.default=UserSelect;\n\n/***/ }),\n\n/***/ 24:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var FileTag=function FileTag(object){_classCallCheck(this,FileTag);this.id=object.file_tag_id;this.repo_tag_id=object.repo_tag_id;this.name=object.tag_name;this.color=object.tag_color;};exports.default=FileTag;\n\n/***/ }),\n\n/***/ 25:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _shareToUser=__webpack_require__(49);var _shareToUser2=_interopRequireDefault(_shareToUser);var _shareToGroup=__webpack_require__(50);var _shareToGroup2=_interopRequireDefault(_shareToGroup);var _generateShareLink=__webpack_require__(51);var _generateShareLink2=_interopRequireDefault(_generateShareLink);var _generateUploadLink=__webpack_require__(52);var _generateUploadLink2=_interopRequireDefault(_generateUploadLink);__webpack_require__(53);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isGroupOwnedRepo:_propTypes2.default.bool,itemType:_propTypes2.default.string.isRequired,// there will be three choose: ['library', 'dir', 'file']\nitemName:_propTypes2.default.string.isRequired,itemPath:_propTypes2.default.string.isRequired,toggleDialog:_propTypes2.default.func.isRequired,repoID:_propTypes2.default.string.isRequired,repoEncrypted:_propTypes2.default.bool,userPerm:_propTypes2.default.string,enableDirPrivateShare:_propTypes2.default.bool};var ShareDialog=function(_React$Component){_inherits(ShareDialog,_React$Component);function ShareDialog(props){_classCallCheck(this,ShareDialog);var _this=_possibleConstructorReturn(this,(ShareDialog.__proto__||Object.getPrototypeOf(ShareDialog)).call(this,props));_this.getInitialActiveTab=function(){var _this$props=_this.props,repoEncrypted=_this$props.repoEncrypted,userPerm=_this$props.userPerm,enableDirPrivateShare=_this$props.enableDirPrivateShare;var enableShareLink=!repoEncrypted&&_constants.canGenerateShareLink;var enableUploadLink=!repoEncrypted&&_constants.canGenerateUploadLink&&userPerm=='rw';if(enableShareLink){return'shareLink';}else if(enableUploadLink){return'uploadLink';}else if(enableDirPrivateShare){return'shareToUser';}};_this.toggle=function(tab){if(_this.state.activeTab!==tab){_this.setState({activeTab:tab});}};_this.renderDirContent=function(){var activeTab=_this.state.activeTab;var _this$props2=_this.props,repoEncrypted=_this$props2.repoEncrypted,userPerm=_this$props2.userPerm,enableDirPrivateShare=_this$props2.enableDirPrivateShare;var enableShareLink=!repoEncrypted&&_constants.canGenerateShareLink;var enableUploadLink=!repoEncrypted&&_constants.canGenerateUploadLink&&userPerm=='rw';return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'share-dialog-side'},_react2.default.createElement(_reactstrap.Nav,{pills:true,vertical:true},enableShareLink&&_react2.default.createElement(_reactstrap.NavItem,null,_react2.default.createElement(_reactstrap.NavLink,{className:activeTab==='shareLink'?'active':'',onClick:_this.toggle.bind(_this,'shareLink')},(0,_constants.gettext)('Share Link'))),enableUploadLink&&_react2.default.createElement(_reactstrap.NavItem,null,_react2.default.createElement(_reactstrap.NavLink,{className:activeTab==='uploadLink'?'active':'',onClick:_this.toggle.bind(_this,'uploadLink')},(0,_constants.gettext)('Upload Link'))),enableDirPrivateShare&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.NavItem,null,_react2.default.createElement(_reactstrap.NavLink,{className:activeTab==='shareToUser'?'active':'',onClick:_this.toggle.bind(_this,'shareToUser')},(0,_constants.gettext)('Share to user'))),_react2.default.createElement(_reactstrap.NavItem,null,_react2.default.createElement(_reactstrap.NavLink,{className:activeTab==='shareToGroup'?'active':'',onClick:_this.toggle.bind(_this,'shareToGroup')},(0,_constants.gettext)('Share to group')))))),_react2.default.createElement('div',{className:'share-dialog-main'},_react2.default.createElement(_reactstrap.TabContent,{activeTab:_this.state.activeTab},enableShareLink&&_react2.default.createElement(_reactstrap.TabPane,{tabId:'shareLink'},_react2.default.createElement(_generateShareLink2.default,{itemPath:_this.props.itemPath,repoID:_this.props.repoID,closeShareDialog:_this.props.toggleDialog})),enableUploadLink&&_react2.default.createElement(_reactstrap.TabPane,{tabId:'uploadLink'},_react2.default.createElement(_generateUploadLink2.default,{itemPath:_this.props.itemPath,repoID:_this.props.repoID,closeShareDialog:_this.props.toggleDialog})),enableDirPrivateShare&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.TabPane,{tabId:'shareToUser'},_react2.default.createElement(_shareToUser2.default,{itemType:_this.props.itemType,isGroupOwnedRepo:_this.props.isGroupOwnedRepo,itemPath:_this.props.itemPath,repoID:_this.props.repoID})),_react2.default.createElement(_reactstrap.TabPane,{tabId:'shareToGroup'},_react2.default.createElement(_shareToGroup2.default,{itemType:_this.props.itemType,isGroupOwnedRepo:_this.props.isGroupOwnedRepo,itemPath:_this.props.itemPath,repoID:_this.props.repoID}))))));};_this.renderFileContent=function(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'share-dialog-side'},_react2.default.createElement(_reactstrap.Nav,{pills:true,vertical:true},_react2.default.createElement(_reactstrap.NavItem,null,_react2.default.createElement(_reactstrap.NavLink,{className:'active',onClick:function onClick(){_this.toggle.bind(_this,'shareLink');}},(0,_constants.gettext)('Share Link'))))),_react2.default.createElement('div',{className:'share-dialog-main'},_react2.default.createElement(_reactstrap.TabContent,{activeTab:_this.state.activeTab},_react2.default.createElement(_reactstrap.TabPane,{tabId:'shareLink'},_react2.default.createElement(_generateShareLink2.default,{itemPath:_this.props.itemPath,repoID:_this.props.repoID,closeShareDialog:_this.props.toggleDialog})))));};_this.state={activeTab:_this.getInitialActiveTab()};return _this;}_createClass(ShareDialog,[{key:'render',value:function render(){var _props=this.props,itemType=_props.itemType,itemName=_props.itemName,repoEncrypted=_props.repoEncrypted;var enableShareLink=!repoEncrypted&&_constants.canGenerateShareLink;return _react2.default.createElement('div',null,_react2.default.createElement(_reactstrap.Modal,{isOpen:true,style:{maxWidth:'720px'},className:'share-dialog',toggle:this.props.toggleDialog},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.toggleDialog},(0,_constants.gettext)('Share'),' ',_react2.default.createElement('span',{className:'op-target',title:itemName},itemName)),_react2.default.createElement(_reactstrap.ModalBody,{className:'dialog-list-container share-dialog-content'},(itemType==='library'||itemType==='dir')&&this.renderDirContent(),itemType==='file'&&enableShareLink&&this.renderFileContent())));}}]);return ShareDialog;}(_react2.default.Component);ShareDialog.propTypes=propTypes;exports.default=ShareDialog;\n\n/***/ }),\n\n/***/ 258:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactDom=__webpack_require__(8);var _reactDom2=_interopRequireDefault(_reactDom);var _utils=__webpack_require__(4);var _editorUtilties=__webpack_require__(21);var _editorUtilties2=_interopRequireDefault(_editorUtilties);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isAdminPanel:_propTypes2.default.bool};var Account=function(_Component){_inherits(Account,_Component);function Account(props){_classCallCheck(this,Account);var _this=_possibleConstructorReturn(this,(Account.__proto__||Object.getPrototypeOf(Account)).call(this,props));_this.getContainer=function(){return _reactDom2.default.findDOMNode(_this);};_this.handleProps=function(){if(_this.state.showInfo){_this.addEvents();}else{_this.removeEvents();}};_this.addEvents=function(){['click','touchstart','keyup'].forEach(function(event){return document.addEventListener(event,_this.handleDocumentClick,true);});};_this.removeEvents=function(){['click','touchstart','keyup'].forEach(function(event){return document.removeEventListener(event,_this.handleDocumentClick,true);});};_this.handleDocumentClick=function(e){if(e&&(e.which===3||e.type==='keyup'&&e.which!==_utils.Utils.keyCodes.tab))return;var container=_this.getContainer();if(container.contains(e.target)&&container!==e.target&&(e.type!=='keyup'||e.which===_utils.Utils.keyCodes.tab)){return;}_this.setState({showInfo:!_this.state.showInfo});};_this.onClickAccount=function(){_this.setState({showInfo:!_this.state.showInfo});};_this.getAccountInfo=function(){_editorUtilties2.default.getAccountInfo().then(function(resp){_this.setState({userName:resp.data.name,contactEmail:resp.data.email,usageRate:resp.data.space_usage,quotaUsage:_utils.Utils.bytesToSize(resp.data.usage),quotaTotal:_utils.Utils.bytesToSize(resp.data.total),isStaff:resp.data.is_staff,isOrgStaff:resp.data.is_org_staff===1?true:false,avatarURL:resp.data.avatar_url});});};_this.renderMenu=function(){var isAdminPage=_this.state.isStaff||_this.state.isOrgStaff;if(isAdminPage&&_this.props.isAdminPanel){return _react2.default.createElement('a',{href:_constants.siteRoot,title:(0,_constants.gettext)('Exit Admin Panel'),className:'item'},(0,_constants.gettext)('Exit Admin Panel'));}if(_this.state.isStaff){return _react2.default.createElement('a',{href:_constants.siteRoot+'sys/useradmin/',title:(0,_constants.gettext)('System Admin'),className:'item'},(0,_constants.gettext)('System Admin'));}if(_this.state.isOrgStaff){return _react2.default.createElement('a',{href:_constants.siteRoot+'org/useradmin/',title:(0,_constants.gettext)('Organization Admin'),className:'item'},(0,_constants.gettext)('Organization Admin'));}};_this.renderAvatar=function(){if(_this.state.avatarURL){return _react2.default.createElement('img',{src:_this.state.avatarURL,width:'36',height:'36',className:'avatar',alt:(0,_constants.gettext)('Avatar')});}return _react2.default.createElement('img',{src:'',width:'36',height:'36',className:'avatar',alt:(0,_constants.gettext)('Avatar')});};_this.state={showInfo:false,userName:'',contactEmail:'',quotaUsage:'',quotaTotal:'',isStaff:false,isOrgStaff:false,usageRate:'',avatarURL:''};return _this;}_createClass(Account,[{key:'componentDidMount',value:function componentDidMount(){this.getAccountInfo();}},{key:'componentDidUpdate',value:function componentDidUpdate(prevProps){this.handleProps();}},{key:'render',value:function render(){return _react2.default.createElement('div',{id:'account'},_react2.default.createElement('a',{id:'my-info',onClick:this.onClickAccount,className:'account-toggle no-deco d-none d-md-block','aria-label':'View profile and more'},_react2.default.createElement('span',null,_react2.default.createElement('img',{src:this.state.avatarURL,width:'36',height:'36',className:'avatar',alt:(0,_constants.gettext)('Avatar')})),_react2.default.createElement('span',{className:'fas fa-caret-down vam'})),_react2.default.createElement('span',{className:'account-toggle sf2-icon-more mobile-icon d-md-none','aria-label':'View profile and more',onClick:this.onClickAccount}),_react2.default.createElement('div',{id:'user-info-popup',className:'account-popup sf-popover '+(this.state.showInfo?'':'hide')},_react2.default.createElement('div',{className:'outer-caret up-outer-caret'},_react2.default.createElement('div',{className:'inner-caret'})),_react2.default.createElement('div',{className:'sf-popover-con'},_react2.default.createElement('div',{className:'item o-hidden'},this.renderAvatar(),_react2.default.createElement('div',{className:'txt'},this.state.userName)),_react2.default.createElement('div',{id:'space-traffic'},_react2.default.createElement('div',{className:'item'},_react2.default.createElement('p',null,(0,_constants.gettext)('Used:'),' ',this.state.quotaUsage,' / ',this.state.quotaTotal),_react2.default.createElement('div',{id:'quota-bar'},_react2.default.createElement('span',{id:'quota-usage',className:'usage',style:{width:this.state.usageRate}})))),_react2.default.createElement('a',{href:_constants.siteRoot+'profile/',className:'item'},(0,_constants.gettext)('Settings')),this.renderMenu(),_react2.default.createElement('a',{href:_constants.siteRoot+'accounts/logout/',className:'item'},(0,_constants.gettext)('Log out')))));}}]);return Account;}(_react.Component);Account.defaultProps={isAdminPanel:false};Account.propTypes=propTypes;exports.default=Account;\n\n/***/ }),\n\n/***/ 276:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _socket=__webpack_require__(253);var _socket2=_interopRequireDefault(_socket);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var socket=_constants.seafileCollabServer!==''?(0,_socket2.default)(_constants.seafileCollabServer):undefined;var CollabServer=function(){function CollabServer(){_classCallCheck(this,CollabServer);}_createClass(CollabServer,[{key:'watchRepo',value:function watchRepo(repoID,fn){if(!socket){return;}socket.emit('repo_update',{request:'watch_update',repo_id:repoID,user:{name:_constants.name,username:_constants.username,contact_email:_constants.contactEmail}});socket.on('repo_update',fn);}},{key:'unwatchRepo',value:function unwatchRepo(repoID,fn){if(!socket){return;}socket.emit('repo_update',{request:'unwatch_update',repo_id:repoID,user:{name:_constants.name,username:_constants.username,contact_email:_constants.contactEmail}});socket.off('repo_update',fn);}}]);return CollabServer;}();var collabServer=new CollabServer();exports.default=collabServer;\n\n/***/ }),\n\n/***/ 277:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentNode:_propTypes2.default.object.isRequired,toggleCancel:_propTypes2.default.func.isRequired,handleSubmit:_propTypes2.default.func.isRequired};var Delete=function(_React$Component){_inherits(Delete,_React$Component);function Delete(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Delete);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Delete.__proto__||Object.getPrototypeOf(Delete)).call.apply(_ref,[this].concat(args))),_this),_this.toggle=function(){_this.props.toggleCancel();},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Delete,[{key:'render',value:function render(){var currentNode=this.props.currentNode;var name=currentNode.object.name;var title=(0,_constants.gettext)('Delete File');if(currentNode.object.isDir()){title=(0,_constants.gettext)('Delete Folder');}return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},title),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('p',null,(0,_constants.gettext)('Are you sure to delete'),' ',_react2.default.createElement('b',null,name),' ?')),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.props.handleSubmit},(0,_constants.gettext)('Delete'))));}}]);return Delete;}(_react2.default.Component);Delete.propTypes=propTypes;exports.default=Delete;\n\n/***/ }),\n\n/***/ 278:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentNode:_propTypes2.default.object,onRename:_propTypes2.default.func.isRequired,toggleCancel:_propTypes2.default.func.isRequired,checkDuplicatedName:_propTypes2.default.func.isRequired};var Rename=function(_React$Component){_inherits(Rename,_React$Component);function Rename(props){_classCallCheck(this,Rename);var _this=_possibleConstructorReturn(this,(Rename.__proto__||Object.getPrototypeOf(Rename)).call(this,props));_this.handleChange=function(e){_this.setState({newName:e.target.value});};_this.handleSubmit=function(){var _this$validateInput=_this.validateInput(),isValid=_this$validateInput.isValid,errMessage=_this$validateInput.errMessage;if(!isValid){_this.setState({errMessage:errMessage});}else{var isDuplicated=_this.checkDuplicatedName();if(isDuplicated){var _errMessage=(0,_constants.gettext)('The name \"{name}\" is already taken. Please choose a different name.');_errMessage=_errMessage.replace('{name}',_utils.Utils.HTMLescape(_this.state.newName));_this.setState({errMessage:_errMessage});}else{_this.props.onRename(_this.state.newName);}}};_this.handleKeyPress=function(e){if(e.key==='Enter'){_this.handleSubmit();}};_this.toggle=function(){_this.props.toggleCancel();};_this.changeState=function(currentNode){var name=currentNode.object.name;_this.setState({newName:name});};_this.validateInput=function(){var newName=_this.state.newName.trim();var isValid=true;var errMessage='';if(!newName){isValid=false;errMessage=(0,_constants.gettext)('Name is required.');return{isValid:isValid,errMessage:errMessage};}if(newName.indexOf('/')>-1){isValid=false;errMessage=(0,_constants.gettext)('Name should not include '+'\\'/\\''+'.');return{isValid:isValid,errMessage:errMessage};}return{isValid:isValid,errMessage:errMessage};};_this.checkDuplicatedName=function(){var isDuplicated=_this.props.checkDuplicatedName(_this.state.newName);return isDuplicated;};_this.state={newName:'',errMessage:''};_this.newInput=_react2.default.createRef();return _this;}_createClass(Rename,[{key:'componentWillMount',value:function componentWillMount(){this.setState({newName:this.props.currentNode.object.name});}},{key:'componentDidMount',value:function componentDidMount(){var currentNode=this.props.currentNode;this.changeState(currentNode);this.newInput.focus();var type=currentNode.object.type;if(type==='file'){var endIndex=currentNode.object.name.lastIndexOf('.md');this.newInput.setSelectionRange(0,endIndex,'forward');}else{this.newInput.setSelectionRange(0,-1);}}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){this.changeState(nextProps.currentNode);}},{key:'render',value:function render(){var _this2=this;var type=this.props.currentNode.object.type;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},type==='file'?(0,_constants.gettext)('Rename File'):(0,_constants.gettext)('Rename Folder')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('p',null,type==='file'?(0,_constants.gettext)('New file name'):(0,_constants.gettext)('New folder name')),_react2.default.createElement(_reactstrap.Input,{onKeyPress:this.handleKeyPress,innerRef:function innerRef(input){_this2.newInput=input;},placeholder:'newName',value:this.state.newName,onChange:this.handleChange}),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',className:'mt-2'},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return Rename;}(_react2.default.Component);Rename.propTypes=propTypes;exports.default=Rename;\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentMode:_propTypes2.default.string.isRequired,switchViewMode:_propTypes2.default.func.isRequired};var ViewModeToolbar=function(_React$Component){_inherits(ViewModeToolbar,_React$Component);function ViewModeToolbar(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ViewModeToolbar);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ViewModeToolbar.__proto__||Object.getPrototypeOf(ViewModeToolbar)).call.apply(_ref,[this].concat(args))),_this),_this.switchViewMode=function(e){e.preventDefault();var id=e.target.id;if(id===_this.props.currentMode){return;}_this.props.switchViewMode(id);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(ViewModeToolbar,[{key:'render',value:function render(){var baseClass='btn btn-secondary btn-icon sf-view-mode-btn ';return _react2.default.createElement('div',{className:'view-mode btn-group'},_react2.default.createElement('button',{className:baseClass+' sf2-icon-list-view '+(this.props.currentMode==='list'?'current-mode':''),id:'list',title:(0,_constants.gettext)('List'),onClick:this.switchViewMode}),_react2.default.createElement('button',{className:baseClass+' sf2-icon-two-columns '+(this.props.currentMode==='column'?'current-mode':''),id:'column',title:(0,_constants.gettext)('Column'),onClick:this.switchViewMode}));}}]);return ViewModeToolbar;}(_react2.default.Component);ViewModeToolbar.propTypes=propTypes;exports.default=ViewModeToolbar;\n\n/***/ }),\n\n/***/ 280:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _utils=__webpack_require__(4);var _constants=__webpack_require__(2);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _createFolderDialog=__webpack_require__(170);var _createFolderDialog2=_interopRequireDefault(_createFolderDialog);var _createFileDialog=__webpack_require__(123);var _createFileDialog2=_interopRequireDefault(_createFileDialog);var _shareDialog=__webpack_require__(25);var _shareDialog2=_interopRequireDefault(_shareDialog);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,repoName:_propTypes2.default.string.isRequired,repoEncrypted:_propTypes2.default.bool.isRequired,enableDirPrivateShare:_propTypes2.default.bool.isRequired,userPerm:_propTypes2.default.string.isRequired,isGroupOwnedRepo:_propTypes2.default.bool.isRequired,showShareBtn:_propTypes2.default.bool.isRequired,onAddFile:_propTypes2.default.func.isRequired,onAddFolder:_propTypes2.default.func.isRequired,onUploadFile:_propTypes2.default.func.isRequired,onUploadFolder:_propTypes2.default.func.isRequired,direntList:_propTypes2.default.array.isRequired};var DirOperationToolbar=function(_React$Component){_inherits(DirOperationToolbar,_React$Component);function DirOperationToolbar(props){_classCallCheck(this,DirOperationToolbar);var _this=_possibleConstructorReturn(this,(DirOperationToolbar.__proto__||Object.getPrototypeOf(DirOperationToolbar)).call(this,props));_this.hideOperationMenu=function(){_this.setState({isUploadMenuShow:false,isCreateMenuShow:false});};_this.toggleOperationMenu=function(e){e.nativeEvent.stopImmediatePropagation();var targetRect=e.target.getClientRects()[0];var left=targetRect.x;var top=targetRect.y+targetRect.height;var style={position:'fixed',display:'block',left:left,top:top};_this.setState({operationMenuStyle:style});};_this.onUploadClick=function(e){_this.toggleOperationMenu(e);_this.setState({isUploadMenuShow:true,isCreateMenuShow:false});};_this.onUploadFile=function(e){_this.setState({isUploadMenuShow:false});_this.props.onUploadFile(e);};_this.onUploadFolder=function(e){_this.setState({isUploadMenuShow:false});_this.props.onUploadFolder(e);};_this.onCreateClick=function(e){_this.toggleOperationMenu(e);_this.setState({isCreateMenuShow:true,isUploadMenuShow:false});};_this.onShareClick=function(e){e.nativeEvent.stopImmediatePropagation();//for document event\n_this.setState({isShareDialogShow:!_this.state.isShareDialogShow});};_this.onCreateFolderToggle=function(){_this.setState({isCreateFolderDialogShow:!_this.state.isCreateFolderDialogShow});};_this.onCreateFileToggle=function(){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:''});};_this.onCreateMarkdownToggle=function(){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:'.md'});};_this.onCreateExcelToggle=function(){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:'.xlsx'});};_this.onCreatePPTToggle=function(){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:'.pptx'});};_this.onCreateWordToggle=function(){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:'.docx'});};_this.onAddFile=function(filePath,isDraft){_this.setState({isCreateFileDialogShow:false});_this.props.onAddFile(filePath,isDraft);};_this.onAddFolder=function(dirPath){_this.setState({isCreateFolderDialogShow:false});_this.props.onAddFolder(dirPath);};_this.checkDuplicatedName=function(newName){var direntList=_this.props.direntList;var isDuplicated=direntList.some(function(object){return object.name===newName;});return isDuplicated;};_this.state={fileType:'.md',isCreateFileDialogShow:false,isCreateFolderDialogShow:false,isUploadMenuShow:false,isCreateMenuShow:false,isShareDialogShow:false,operationMenuStyle:''};return _this;}_createClass(DirOperationToolbar,[{key:'componentDidMount',value:function componentDidMount(){document.addEventListener('click',this.hideOperationMenu);}},{key:'componentWillUnmount',value:function componentWillUnmount(){document.removeEventListener('click',this.hideOperationMenu);}},{key:'render',value:function render(){var _props=this.props,path=_props.path,repoName=_props.repoName,userPerm=_props.userPerm;if(userPerm!=='rw'&&userPerm!=='admin'){return'';}var itemType=path==='/'?'library':'dir';var itemName=path=='/'?repoName:_utils.Utils.getFolderName(path);return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'operation'},_utils.Utils.isSupportUploadFolder()?_react2.default.createElement('button',{className:'btn btn-secondary operation-item',title:(0,_constants.gettext)('Upload'),onClick:this.onUploadClick},(0,_constants.gettext)('Upload')):_react2.default.createElement('button',{className:'btn btn-secondary operation-item',title:(0,_constants.gettext)('Upload'),onClick:this.onUploadFile},(0,_constants.gettext)('Upload')),_react2.default.createElement('button',{className:'btn btn-secondary operation-item',title:(0,_constants.gettext)('New'),onClick:this.onCreateClick},(0,_constants.gettext)('New')),this.props.showShareBtn&&_react2.default.createElement('button',{className:'btn btn-secondary operation-item',title:(0,_constants.gettext)('Share'),onClick:this.onShareClick},(0,_constants.gettext)('Share'))),this.state.isUploadMenuShow&&_react2.default.createElement('ul',{className:'menu dropdown-menu',style:this.state.operationMenuStyle},_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onUploadFile},(0,_constants.gettext)('Upload Files')),_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onUploadFolder},(0,_constants.gettext)('Upload Folder'))),this.state.isCreateMenuShow&&_react2.default.createElement('ul',{className:'menu dropdown-menu',style:this.state.operationMenuStyle},_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onCreateFolderToggle},(0,_constants.gettext)('New Folder')),_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onCreateFileToggle},(0,_constants.gettext)('New File')),_react2.default.createElement('li',{className:'dropdown-divider'}),_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onCreateMarkdownToggle},(0,_constants.gettext)('New Markdown File')),_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onCreateExcelToggle},(0,_constants.gettext)('New Excel File')),_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onCreatePPTToggle},(0,_constants.gettext)('New PowerPoint File')),_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onCreateWordToggle},(0,_constants.gettext)('New Word File'))),this.state.isCreateFileDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_createFileDialog2.default,{parentPath:this.props.path,fileType:this.state.fileType,onAddFile:this.onAddFile,checkDuplicatedName:this.checkDuplicatedName,addFileCancel:this.onCreateFileToggle})),this.state.isCreateFolderDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_createFolderDialog2.default,{parentPath:this.props.path,onAddFolder:this.onAddFolder,checkDuplicatedName:this.checkDuplicatedName,addFolderCancel:this.onCreateFolderToggle})),this.state.isShareDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_shareDialog2.default,{itemType:itemType,itemName:itemName,itemPath:this.props.path,repoID:this.props.repoID,repoEncrypted:this.props.repoEncrypted,enableDirPrivateShare:this.props.enableDirPrivateShare,userPerm:this.props.userPerm,isGroupOwnedRepo:this.props.isGroupOwnedRepo,toggleDialog:this.onShareClick})));}}]);return DirOperationToolbar;}(_react2.default.Component);DirOperationToolbar.propTypes=propTypes;exports.default=DirOperationToolbar;\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _seafileApi=__webpack_require__(3);var _urlDecorator=__webpack_require__(124);var _urlDecorator2=_interopRequireDefault(_urlDecorator);var _zipDownloadDialog=__webpack_require__(171);var _zipDownloadDialog2=_interopRequireDefault(_zipDownloadDialog);var _moveDirentDialog=__webpack_require__(141);var _moveDirentDialog2=_interopRequireDefault(_moveDirentDialog);var _copyDirentDialog=__webpack_require__(142);var _copyDirentDialog2=_interopRequireDefault(_copyDirentDialog);var _direntsMenu=__webpack_require__(282);var _direntsMenu2=_interopRequireDefault(_direntsMenu);var _shareDialog=__webpack_require__(25);var _shareDialog2=_interopRequireDefault(_shareDialog);var _relatedFileDialogs=__webpack_require__(107);var _relatedFileDialogs2=_interopRequireDefault(_relatedFileDialogs);var _editFiletagDialog=__webpack_require__(106);var _editFiletagDialog2=_interopRequireDefault(_editFiletagDialog);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,repoEncrypted:_propTypes2.default.bool.isRequired,selectedDirentList:_propTypes2.default.array.isRequired,onItemsMove:_propTypes2.default.func.isRequired,onItemsCopy:_propTypes2.default.func.isRequired,onItemsDelete:_propTypes2.default.func.isRequired,isRepoOwner:_propTypes2.default.bool.isRequired,enableDirPrivateShare:_propTypes2.default.bool.isRequired,currentRepoInfo:_propTypes2.default.object.isRequired,onFilesTagChanged:_propTypes2.default.func.isRequired,unSelectDirent:_propTypes2.default.func.isRequired,updateDirent:_propTypes2.default.func.isRequired,showDirentDetail:_propTypes2.default.func.isRequired};var MutipleDirOperationToolbar=function(_React$Component){_inherits(MutipleDirOperationToolbar,_React$Component);function MutipleDirOperationToolbar(props){_classCallCheck(this,MutipleDirOperationToolbar);var _this2=_possibleConstructorReturn(this,(MutipleDirOperationToolbar.__proto__||Object.getPrototypeOf(MutipleDirOperationToolbar)).call(this,props));_this2.onMoveToggle=function(){_this2.setState({isMoveDialogShow:!_this2.state.isMoveDialogShow});};_this2.onCopyToggle=function(){_this2.setState({isCopyDialogShow:!_this2.state.isCopyDialogShow});};_this2.onItemsDelete=function(){_this2.props.onItemsDelete();};_this2.onItemsDownload=function(){var _this2$props=_this2.props,path=_this2$props.path,repoID=_this2$props.repoID,selectedDirentList=_this2$props.selectedDirentList;if(selectedDirentList.length){if(selectedDirentList.length===1&&!selectedDirentList[0].isDir()){var direntPath=_utils.Utils.joinPath(path,selectedDirentList[0].name);var url=_urlDecorator2.default.getUrl({type:'download_file_url',repoID:repoID,filePath:direntPath});location.href=url;return;}var selectedDirentNames=selectedDirentList.map(function(dirent){return dirent.name;});_this2.setState({isProgressDialogShow:true,progress:0});_seafileApi.seafileAPI.zipDownload(repoID,path,selectedDirentNames).then(function(res){_this2.zipToken=res.data['zip_token'];_this2.addDownloadAnimation();_this2.interval=setInterval(_this2.addDownloadAnimation,1000);});}};_this2.addDownloadAnimation=function(){var _this=_this2;var token=_this2.zipToken;_seafileApi.seafileAPI.queryZipProgress(token).then(function(res){var data=res.data;var progress=data.total===0?100:(data.zipped/data.total*100).toFixed(0);_this2.setState({progress:parseInt(progress)});if(data['total']===data['zipped']){_this2.setState({progress:100});clearInterval(_this2.interval);location.href=_urlDecorator2.default.getUrl({type:'download_dir_zip_url',token:token});setTimeout(function(){_this.setState({isProgressDialogShow:false});},500);}});};_this2.onCancelDownload=function(){_seafileApi.seafileAPI.cancelZipTask(_this2.zipToken).then(function(){_this2.setState({isProgressDialogShow:false});});};_this2.onMenuItemClick=function(operation){var dirents=_this2.props.selectedDirentList;var dirent=dirents[0];switch(operation){case'Share':_this2.setState({showLibContentViewDialogs:true,showShareDialog:true});break;case'Tags':_this2.listFileTags(dirent);break;case'Details':_this2.props.showDirentDetail();break;case'Lock':_this2.lockFile(dirent);break;case'Unlock':_this2.unlockFile(dirent);break;case'Related Files':_this2.openRelatedFilesDialog(dirent);break;case'History':_this2.onHistory(dirent);break;case'Open via Client':_this2.onOpenViaClient(dirent);break;default:break;}};_this2.lockFile=function(dirent){var filePath=_this2.getDirentPath(dirent);_seafileApi.seafileAPI.lockfile(_this2.props.repoID,filePath).then(function(res){if(res.data.is_locked){_this2.props.updateDirent(dirent,'is_locked',true);_this2.props.updateDirent(dirent,'locked_by_me',true);_this2.props.unSelectDirent();}});};_this2.unlockFile=function(dirent){var filePath=_this2.getDirentPath(dirent);_seafileApi.seafileAPI.unlockfile(_this2.props.repoID,filePath).then(function(res){if(!res.data.is_locked){_this2.props.updateDirent(dirent,'is_locked',false);_this2.props.updateDirent(dirent,'locked_by_me',false);_this2.props.unSelectDirent();}});};_this2.onOpenViaClient=function(dirent){var filePath=_this2.getDirentPath(dirent);var url=_urlDecorator2.default.getUrl({type:'open_via_client',repoID:_this2.props.repoID,filePath:filePath});location.href=url;_this2.props.unSelectDirent();};_this2.onHistory=function(dirent){var filePath=_this2.getDirentPath(dirent);var url=_urlDecorator2.default.getUrl({type:'file_revisions',repoID:_this2.props.repoID,filePath:filePath});location.href=url;};_this2.openRelatedFilesDialog=function(dirent){var filePath=_this2.getDirentPath(dirent);_seafileApi.seafileAPI.listRelatedFiles(_this2.props.repoID,filePath).then(function(res){var relatedFiles=res.data.related_files;if(relatedFiles.length>0){_this2.setState({relatedFiles:relatedFiles,showLibContentViewDialogs:true,showRelatedFileDialog:true,viewMode:'list_related_file'});}else{_this2.setState({relatedFiles:relatedFiles,showLibContentViewDialogs:true,showRelatedFileDialog:true,viewMode:'add_related_file'});}});};_this2.toggleCancel=function(){_this2.setState({showLibContentViewDialogs:false,showShareDialog:false,showEditFileTagDialog:false,showRelatedFileDialog:false});};_this2.listFileTags=function(dirent){var filePath=_this2.getDirentPath(dirent);_seafileApi.seafileAPI.listFileTags(_this2.props.repoID,filePath).then(function(res){var fileTagList=res.data.file_tags;for(var i=0,length=fileTagList.length;i<length;i++){fileTagList[i].id=fileTagList[i].file_tag_id;}_this2.setState({fileTagList:fileTagList,showLibContentViewDialogs:true,showEditFileTagDialog:true});});};_this2.onMenuFileTagChanged=function(){_this2.listFileTags(_this2.props.selectedDirentList[0]);var length=_this2.props.selectedDirentList.length;for(var i=0;i<length;i++){var dirent=_this2.props.selectedDirentList[i];var direntPath=_this2.getDirentPath(dirent);_this2.props.onFilesTagChanged(dirent,direntPath);}};_this2.listRelatedFiles=function(dirent){var filePath=_this2.getDirentPath(dirent);_seafileApi.seafileAPI.listRelatedFiles(_this2.props.repoID,filePath).then(function(res){_this2.setState({relatedFiles:res.data.related_files});});};_this2.onRelatedFileChange=function(){_this2.listRelatedFiles(_this2.props.selectedDirentList[0]);};_this2.getDirentPath=function(dirent){if(dirent)return _utils.Utils.joinPath(_this2.props.path,dirent.name);};_this2.state={progress:0,isProgressDialogShow:false,isMoveDialogShow:false,isCopyDialogShow:false,isMutipleOperation:true,showLibContentViewDialogs:false,showShareDialog:false,showEditFileTagDialog:false,fileTagList:[],multiFileTagList:[],showRelatedFileDialog:false,viewMode:'list_related_file'};_this2.zipToken=null;return _this2;}_createClass(MutipleDirOperationToolbar,[{key:'render',value:function render(){var repoID=this.props.repoID;var direntPath=this.getDirentPath(this.props.selectedDirentList[0]);return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'d-flex'},_react2.default.createElement(_reactstrap.ButtonGroup,{className:'flex-row group-operations'},_react2.default.createElement(_reactstrap.Button,{className:'secondary group-op-item action-icon sf2-icon-move',title:(0,_constants.gettext)('Move'),onClick:this.onMoveToggle}),_react2.default.createElement(_reactstrap.Button,{className:'secondary group-op-item action-icon sf2-icon-copy',title:(0,_constants.gettext)('Copy'),onClick:this.onCopyToggle}),_react2.default.createElement(_reactstrap.Button,{className:'secondary group-op-item action-icon sf2-icon-delete',title:(0,_constants.gettext)('Delete'),onClick:this.onItemsDelete}),_react2.default.createElement(_reactstrap.Button,{className:'secondary group-op-item action-icon sf2-icon-download',title:(0,_constants.gettext)('Download'),onClick:this.onItemsDownload}),this.props.selectedDirentList.length>0&&_react2.default.createElement(_direntsMenu2.default,{dirents:this.props.selectedDirentList,currentRepoInfo:this.props.currentRepoInfo,isRepoOwner:this.props.isRepoOwner,onMenuItemClick:this.onMenuItemClick}))),this.state.isMoveDialogShow&&_react2.default.createElement(_moveDirentDialog2.default,{path:this.props.path,repoID:this.props.repoID,repoEncrypted:this.props.repoEncrypted,isMutipleOperation:this.state.isMutipleOperation,selectedDirentList:this.props.selectedDirentList,onItemsMove:this.props.onItemsMove,onCancelMove:this.onMoveToggle}),this.state.isCopyDialogShow&&_react2.default.createElement(_copyDirentDialog2.default,{path:this.props.path,repoID:this.props.repoID,repoEncrypted:this.props.repoEncrypted,selectedDirentList:this.props.selectedDirentList,isMutipleOperation:this.state.isMutipleOperation,onItemsCopy:this.props.onItemsCopy,onCancelCopy:this.onCopyToggle}),this.state.isProgressDialogShow&&_react2.default.createElement(_zipDownloadDialog2.default,{progress:this.state.progress,onCancelDownload:this.onCancelDownload}),this.state.showLibContentViewDialogs&&_react2.default.createElement(_react.Fragment,null,this.state.showShareDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_shareDialog2.default,{itemType:this.props.selectedDirentList[0].type,itemName:this.props.selectedDirentList[0].name,itemPath:direntPath,userPerm:this.props.selectedDirentList[0].permission,repoID:repoID,repoEncrypted:false,enableDirPrivateShare:this.props.enableDirPrivateShare,isGroupOwnedRepo:this.state.isGroupOwnedRepo,toggleDialog:this.toggleCancel})),this.state.showEditFileTagDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_editFiletagDialog2.default,{repoID:repoID,filePath:direntPath,fileTagList:this.state.fileTagList,toggleCancel:this.toggleCancel,onFileTagChanged:this.onMenuFileTagChanged})),this.state.showRelatedFileDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_relatedFileDialogs2.default,{repoID:repoID,filePath:direntPath,relatedFiles:this.state.relatedFiles,toggleCancel:this.toggleCancel,onRelatedFileChange:this.onRelatedFileChange,dirent:this.props.selectedDirentList[0],viewMode:this.state.viewMode}))));}}]);return MutipleDirOperationToolbar;}(_react2.default.Component);MutipleDirOperationToolbar.propTypes=propTypes;exports.default=MutipleDirOperationToolbar;\n\n/***/ }),\n\n/***/ 282:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);__webpack_require__(283);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={dirents:_propTypes2.default.array.isRequired,currentRepoInfo:_propTypes2.default.object.isRequired,isRepoOwner:_propTypes2.default.bool.isRequired,onMenuItemClick:_propTypes2.default.func.isRequired};var DirentMenu=function(_React$Component){_inherits(DirentMenu,_React$Component);function DirentMenu(props){_classCallCheck(this,DirentMenu);var _this=_possibleConstructorReturn(this,(DirentMenu.__proto__||Object.getPrototypeOf(DirentMenu)).call(this,props));_this.translateMenuItem=function(menuItem){var translateResult='';switch(menuItem){case'Share':translateResult=(0,_constants.gettext)('Share');break;case'Tags':translateResult=(0,_constants.gettext)('Tags');break;case'Details':translateResult=(0,_constants.gettext)('Details');break;case'Lock':translateResult=(0,_constants.gettext)('Lock');break;case'Unlock':translateResult=(0,_constants.gettext)('Unlock');break;case'Related Files':translateResult=(0,_constants.gettext)('Related Files');break;case'History':translateResult=(0,_constants.gettext)('History');break;case'Open via Client':translateResult=(0,_constants.gettext)('Open via Client');break;default:break;}return translateResult;};_this.onDropdownToggleClick=function(e){e.preventDefault();_this.setState({isItemMenuShow:!_this.state.isItemMenuShow});};_this.onMenuItemClick=function(event){var operation=event.target.dataset.toggle;_this.props.onMenuItemClick(operation,_this.props.dirents);};_this.state={isItemMenuShow:false,menuList:[]};return _this;}_createClass(DirentMenu,[{key:'calculateMenuList',value:function calculateMenuList(props){var currentRepoInfo=props.currentRepoInfo,dirents=props.dirents,isRepoOwner=props.isRepoOwner;var length=dirents.length;var menuList=[];if(length===1){var dirent=dirents[0];if(dirent.type==='dir'){menuList=['Share'];}else if(dirent.type==='file'){menuList=['Share','Tags','Related Files','Divider','History','Details','Divider','Open via Client'];if(_constants.isPro){if(dirent.is_locked){if(dirent.locked_by_me||dirent.lock_owner==='OnlineOffice'&&currentRepoInfo.permission==='rw'){menuList.splice(1,0,'Unlock');}}else{menuList.splice(1,0,'Lock');}}}}else{menuList=[];}this.setState({menuList:menuList});}},{key:'componentDidMount',value:function componentDidMount(){this.calculateMenuList(this.props);}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(this.props.dirents.length!==nextProps.dirents.length){this.calculateMenuList(nextProps);}}},{key:'render',value:function render(){var _this2=this;if(this.state.menuList.length===0){return null;}return _react2.default.createElement(_reactstrap.ButtonDropdown,{isOpen:this.state.isItemMenuShow,toggle:this.onDropdownToggleClick,title:(0,_constants.gettext)('More Operations')},_react2.default.createElement(_reactstrap.DropdownToggle,{'data-toggle':'dropdown','aria-expanded':this.state.isItemMenuShow,onClick:this.onDropdownToggleClick,className:'fas fa-ellipsis-v sf-dropdown-toggle dirents-more-menu'}),_react2.default.createElement(_reactstrap.DropdownMenu,null,this.state.menuList.map(function(menuItem,index){if(menuItem==='Divider'){return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,divider:true});}else{return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,'data-toggle':menuItem,onClick:_this2.onMenuItemClick},_this2.translateMenuItem(menuItem));}})));}}]);return DirentMenu;}(_react2.default.Component);DirentMenu.propTypes=propTypes;exports.default=DirentMenu;\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 284:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _dirPath=__webpack_require__(285);var _dirPath2=_interopRequireDefault(_dirPath);var _dirTool=__webpack_require__(286);var _dirTool2=_interopRequireDefault(_dirTool);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,repoName:_propTypes2.default.string.isRequired,permission:_propTypes2.default.bool.isRequired,currentPath:_propTypes2.default.string.isRequired,onPathClick:_propTypes2.default.func.isRequired,onTabNavClick:_propTypes2.default.func,pathPrefix:_propTypes2.default.array,isViewFile:_propTypes2.default.bool,updateUsedRepoTags:_propTypes2.default.func.isRequired,fileTags:_propTypes2.default.array.isRequired,onDeleteRepoTag:_propTypes2.default.func.isRequired};var CurDirPath=function(_React$Component){_inherits(CurDirPath,_React$Component);function CurDirPath(){_classCallCheck(this,CurDirPath);return _possibleConstructorReturn(this,(CurDirPath.__proto__||Object.getPrototypeOf(CurDirPath)).apply(this,arguments));}_createClass(CurDirPath,[{key:'render',value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_dirPath2.default,{repoName:this.props.repoName,pathPrefix:this.props.pathPrefix,currentPath:this.props.currentPath,onPathClick:this.props.onPathClick,onTabNavClick:this.props.onTabNavClick,repoID:this.props.repoID,isViewFile:this.props.isViewFile,fileTags:this.props.fileTags}),_react2.default.createElement(_dirTool2.default,{repoID:this.props.repoID,repoName:this.props.repoName,permission:this.props.permission,currentPath:this.props.currentPath,updateUsedRepoTags:this.props.updateUsedRepoTags,onDeleteRepoTag:this.props.onDeleteRepoTag}));}}]);return CurDirPath;}(_react2.default.Component);CurDirPath.propTypes=propTypes;exports.default=CurDirPath;\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _router=__webpack_require__(60);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _fileTag=__webpack_require__(24);var _fileTag2=_interopRequireDefault(_fileTag);var _internalLinkDialog=__webpack_require__(54);var _internalLinkDialog2=_interopRequireDefault(_internalLinkDialog);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoName:_propTypes2.default.string.isRequired,currentPath:_propTypes2.default.string.isRequired,onPathClick:_propTypes2.default.func.isRequired,onTabNavClick:_propTypes2.default.func,pathPrefix:_propTypes2.default.array,repoID:_propTypes2.default.string.isRequired,isViewFile:_propTypes2.default.bool,fileTags:_propTypes2.default.array.isRequired};var DirPath=function(_React$Component){_inherits(DirPath,_React$Component);function DirPath(){var _ref;var _temp,_this,_ret;_classCallCheck(this,DirPath);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=DirPath.__proto__||Object.getPrototypeOf(DirPath)).call.apply(_ref,[this].concat(args))),_this),_this.onPathClick=function(e){var path=e.target.dataset.path;_this.props.onPathClick(path);},_this.onTabNavClick=function(tabName,id){_this.props.onTabNavClick(tabName,id);},_this.turnPathToLink=function(path){path=path[path.length-1]==='/'?path.slice(0,path.length-1):path;var pathList=path.split('/');var nodePath='';var pathElem=pathList.map(function(item,index){if(item===''){return;}if(index===pathList.length-1){return _react2.default.createElement('span',{key:index},_react2.default.createElement('span',{className:'path-split'},'/'),item);}else{nodePath+='/'+item;return _react2.default.createElement('span',{key:index},_react2.default.createElement('span',{className:'path-split'},'/'),_react2.default.createElement('a',{className:'path-link','data-path':nodePath,onClick:_this.onPathClick},item));}});return pathElem;},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(DirPath,[{key:'render',value:function render(){var _this2=this;var _props=this.props,currentPath=_props.currentPath,repoName=_props.repoName,fileTags=_props.fileTags;var pathElem=this.turnPathToLink(currentPath);var tagTitle='';if(fileTags.length>0){fileTags.forEach(function(item){tagTitle+=item.name+' ';});}return _react2.default.createElement('div',{className:'path-container'},this.props.pathPrefix&&this.props.pathPrefix.map(function(item,index){return _react2.default.createElement(_react.Fragment,{key:index},_react2.default.createElement(_router.Link,{to:item.url,className:'normal',onClick:function onClick(){return _this2.onTabNavClick(item.name,item.id);}},(0,_constants.gettext)(item.showName)),_react2.default.createElement('span',{className:'path-split'},'/'));}),this.props.pathPrefix&&this.props.pathPrefix.length===0&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'my-libs/',className:'normal',onClick:function onClick(){return _this2.onTabNavClick.bind(_this2,'my-libs');}},(0,_constants.gettext)('Libraries')),_react2.default.createElement('span',{className:'path-split'},'/')),!this.props.pathPrefix&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('a',{href:_constants.siteRoot+'my-libs/',className:'normal',onClick:function onClick(){return _this2.onTabNavClick.bind(_this2,'my-libs');}},(0,_constants.gettext)('Libraries')),_react2.default.createElement('span',{className:'path-split'},'/')),currentPath==='/'?_react2.default.createElement('span',null,repoName):_react2.default.createElement('a',{className:'path-link','data-path':'/',onClick:this.onPathClick},repoName),pathElem,this.props.isViewFile&&_react2.default.createElement(_internalLinkDialog2.default,{repoID:this.props.repoID,path:this.props.currentPath}),this.props.isViewFile&&fileTags.length!==0&&_react2.default.createElement('span',{id:'column-mode-file-tags',className:'tag-list tag-list-stacked align-middle ml-1'},fileTags.map(function(fileTag,index){return _react2.default.createElement('span',{className:'file-tag',key:fileTag.id,style:{zIndex:index,backgroundColor:fileTag.color}});}),_react2.default.createElement(_reactstrap.UncontrolledTooltip,{target:'column-mode-file-tags',placement:'bottom'},tagTitle)));}}]);return DirPath;}(_react2.default.Component);DirPath.propTypes=propTypes;exports.default=DirPath;\n\n/***/ }),\n\n/***/ 286:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _reactstrap=__webpack_require__(5);var _listTagDialog=__webpack_require__(287);var _listTagDialog2=_interopRequireDefault(_listTagDialog);var _createTagDialog=__webpack_require__(288);var _createTagDialog2=_interopRequireDefault(_createTagDialog);var _updateTagDialog=__webpack_require__(289);var _updateTagDialog2=_interopRequireDefault(_updateTagDialog);var _listTaggedfilesDialog=__webpack_require__(172);var _listTaggedfilesDialog2=_interopRequireDefault(_listTaggedfilesDialog);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,repoName:_propTypes2.default.string.isRequired,permission:_propTypes2.default.bool.isRequired,currentPath:_propTypes2.default.string.isRequired,updateUsedRepoTags:_propTypes2.default.func.isRequired,onDeleteRepoTag:_propTypes2.default.func.isRequired};var DirTool=function(_React$Component){_inherits(DirTool,_React$Component);function DirTool(props){_classCallCheck(this,DirTool);var _this=_possibleConstructorReturn(this,(DirTool.__proto__||Object.getPrototypeOf(DirTool)).call(this,props));_this.onShowListRepoTag=function(){_this.setState({isRepoTagDialogShow:true,isListRepoTagShow:true,isUpdateRepoTagShow:false,isCreateRepoTagShow:false,isListTaggedFileShow:false});};_this.onCloseRepoTagDialog=function(){_this.setState({isRepoTagDialogShow:false,isListRepoTagShow:false,isUpdateRepoTagShow:false,isCreateRepoTagShow:false,isListTaggedFileShow:false});};_this.onCreateRepoTagToggle=function(){_this.setState({isCreateRepoTagShow:!_this.state.isCreateRepoTagShow,isListRepoTagShow:!_this.state.isListRepoTagShow});};_this.onUpdateRepoTagToggle=function(currentTag){_this.setState({currentTag:currentTag,isListRepoTagShow:!_this.state.isListRepoTagShow,isUpdateRepoTagShow:!_this.state.isUpdateRepoTagShow});};_this.onListTaggedFileToggle=function(currentTag){_this.setState({currentTag:currentTag,isListRepoTagShow:!_this.state.isListRepoTagShow,isListTaggedFileShow:!_this.state.isListTaggedFileShow});};_this.state={isRepoTagDialogShow:false,currentTag:null,isListRepoTagShow:false,isUpdateRepoTagShow:false,isCreateRepoTagShow:false,isListTaggedFileShow:false};return _this;}_createClass(DirTool,[{key:'isMarkdownFile',value:function isMarkdownFile(filePath){var name=_utils.Utils.getFileName(filePath);return name.indexOf('.md')>-1?true:false;}},{key:'render',value:function render(){var _props=this.props,repoID=_props.repoID,repoName=_props.repoName,permission=_props.permission,currentPath=_props.currentPath;var isFile=this.isMarkdownFile(currentPath);var name=_utils.Utils.getFileName(currentPath);var trashUrl=_constants.siteRoot+'repo/recycle/'+repoID+'/?referer='+encodeURIComponent(location.href);var historyUrl=_constants.siteRoot+'repo/history/'+repoID+'/?referer='+encodeURIComponent(location.href);if((name===repoName||name==='')&&!isFile&&permission){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('ul',{className:'path-toolbar'},_react2.default.createElement('li',{className:'toolbar-item'},_react2.default.createElement('a',{className:'op-link sf2-icon-tag',onClick:this.onShowListRepoTag,title:(0,_constants.gettext)('Tags'),'aria-label':(0,_constants.gettext)('Tags')})),_react2.default.createElement('li',{className:'toolbar-item'},_react2.default.createElement('a',{className:'op-link sf2-icon-recycle',href:trashUrl,title:(0,_constants.gettext)('Trash'),'aria-label':(0,_constants.gettext)('Trash')})),_react2.default.createElement('li',{className:'toolbar-item'},_react2.default.createElement('a',{className:'op-link sf2-icon-history',href:historyUrl,title:(0,_constants.gettext)('History'),'aria-label':(0,_constants.gettext)('History')}))),this.state.isRepoTagDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_reactstrap.Modal,{isOpen:true},this.state.isListRepoTagShow&&_react2.default.createElement(_listTagDialog2.default,{repoID:repoID,onListTagCancel:this.onCloseRepoTagDialog,onCreateRepoTag:this.onCreateRepoTagToggle,onUpdateRepoTag:this.onUpdateRepoTagToggle,onListTaggedFiles:this.onListTaggedFileToggle}),this.state.isCreateRepoTagShow&&_react2.default.createElement(_createTagDialog2.default,{repoID:repoID,onClose:this.onCloseRepoTagDialog,toggleCancel:this.onCreateRepoTagToggle}),this.state.isUpdateRepoTagShow&&_react2.default.createElement(_updateTagDialog2.default,{repoID:repoID,currentTag:this.state.currentTag,onClose:this.onCloseRepoTagDialog,toggleCancel:this.onUpdateRepoTagToggle,onDeleteRepoTag:this.props.onDeleteRepoTag}),this.state.isListTaggedFileShow&&_react2.default.createElement(_listTaggedfilesDialog2.default,{repoID:this.props.repoID,currentTag:this.state.currentTag,onClose:this.onCloseRepoTagDialog,toggleCancel:this.onListTaggedFileToggle,updateUsedRepoTags:this.props.updateUsedRepoTags}))));}else if(!isFile&&permission){return _react2.default.createElement('ul',{className:'path-toolbar'},_react2.default.createElement('li',{className:'toolbar-item'},_react2.default.createElement('a',{className:'op-link sf2-icon-recycle',href:trashUrl,title:(0,_constants.gettext)('Trash'),'aria-label':(0,_constants.gettext)('Trash')})));}else if(permission){historyUrl=_constants.siteRoot+'repo/file_revisions/'+repoID+'/?p='+_utils.Utils.encodePath(currentPath);return _react2.default.createElement('ul',{className:'path-toolbar'},_react2.default.createElement('li',{className:'toolbar-item'},_react2.default.createElement('a',{className:'op-link sf2-icon-history',href:historyUrl,title:(0,_constants.gettext)('History'),'aria-label':(0,_constants.gettext)('History')})));}return'';}}]);return DirTool;}(_react2.default.Component);DirTool.propTypes=propTypes;exports.default=DirTool;\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _repoTag=__webpack_require__(103);var _repoTag2=_interopRequireDefault(_repoTag);__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var tagListItemPropTypes={item:_propTypes2.default.object.isRequired,onTagUpdate:_propTypes2.default.func.isRequired,onListTaggedFiles:_propTypes2.default.func.isRequired};var TagListItem=function(_React$Component){_inherits(TagListItem,_React$Component);function TagListItem(props){_classCallCheck(this,TagListItem);var _this=_possibleConstructorReturn(this,(TagListItem.__proto__||Object.getPrototypeOf(TagListItem)).call(this,props));_this.onMouseOver=function(){_this.setState({showSelectedTag:true});};_this.onMouseOut=function(){_this.setState({showSelectedTag:false});};_this.onTagUpdate=function(){_this.props.onTagUpdate(_this.props.item);};_this.onListTaggedFiles=function(){_this.props.onListTaggedFiles(_this.props.item);};_this.state={showSelectedTag:false};return _this;}_createClass(TagListItem,[{key:'render',value:function render(){var color=this.props.item.color;var drakColor=_utils.Utils.getDarkColor(color);return _react2.default.createElement('li',{className:'tag-list-item'},_react2.default.createElement('div',{className:'tag-demo',style:{backgroundColor:color},onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut},_react2.default.createElement('span',{className:''+(this.state.showSelectedTag?'show-tag-selected':''),style:{backgroundColor:drakColor}}),_react2.default.createElement('span',{className:'tag-name'},this.props.item.name),_react2.default.createElement('span',{className:'tag-files',onClick:this.onListTaggedFiles},this.props.item.fileCount,' ','files')),_react2.default.createElement('i',{className:'tag-edit fa fa-pencil-alt',onClick:this.onTagUpdate}));}}]);return TagListItem;}(_react2.default.Component);TagListItem.propTypes=tagListItemPropTypes;var listTagPropTypes={repoID:_propTypes2.default.string.isRequired,onListTagCancel:_propTypes2.default.func.isRequired,onCreateRepoTag:_propTypes2.default.func.isRequired,onUpdateRepoTag:_propTypes2.default.func.isRequired,onListTaggedFiles:_propTypes2.default.func.isRequired};var ListTagDialog=function(_React$Component2){_inherits(ListTagDialog,_React$Component2);function ListTagDialog(props){_classCallCheck(this,ListTagDialog);var _this2=_possibleConstructorReturn(this,(ListTagDialog.__proto__||Object.getPrototypeOf(ListTagDialog)).call(this,props));_this2.toggle=function(){_this2.props.onListTagCancel();};_this2.createNewTag=function(e){e.preventDefault();_this2.props.onCreateRepoTag();};_this2.state={repotagList:[]};return _this2;}_createClass(ListTagDialog,[{key:'componentDidMount',value:function componentDidMount(){var _this3=this;var repoID=this.props.repoID;_seafileApi.seafileAPI.listRepoTags(repoID).then(function(res){var repotagList=[];res.data.repo_tags.forEach(function(item){var repo_tag=new _repoTag2.default(item);repotagList.push(repo_tag);});_this3.setState({repotagList:repotagList});});}},{key:'render',value:function render(){var _this4=this;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Tags')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('ul',{className:'tag-list tag-list-container'},this.state.repotagList.map(function(repoTag,index){return _react2.default.createElement(TagListItem,{key:index,item:repoTag,onTagUpdate:_this4.props.onUpdateRepoTag,onListTaggedFiles:_this4.props.onListTaggedFiles});})),_react2.default.createElement('a',{href:'#',className:'add-tag-link',onClick:this.createNewTag},(0,_constants.gettext)('Create a new tag'))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Close'))));}}]);return ListTagDialog;}(_react2.default.Component);ListTagDialog.propTypes=listTagPropTypes;exports.default=ListTagDialog;\n\n/***/ }),\n\n/***/ 288:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,toggleCancel:_propTypes2.default.func.isRequired,onClose:_propTypes2.default.func.isRequired};var CreateTagDialog=function(_React$Component){_inherits(CreateTagDialog,_React$Component);function CreateTagDialog(props){_classCallCheck(this,CreateTagDialog);var _this=_possibleConstructorReturn(this,(CreateTagDialog.__proto__||Object.getPrototypeOf(CreateTagDialog)).call(this,props));_this.inputNewName=function(e){_this.setState({tagName:e.target.value});};_this.selectTagcolor=function(e){_this.setState({tagColor:e.target.value});};_this.createTag=function(){var name=_this.state.tagName;var color=_this.state.tagColor;var repoID=_this.props.repoID;_seafileApi.seafileAPI.createRepoTag(repoID,name,color).then(function(){_this.props.toggleCancel();});};_this.handleKeyPress=function(e){if(e.key==='Enter'){_this.createTag();}};_this.state={tagName:'',tagColor:'',newTag:{},colorList:['#FFA8A8','#FFA94D','#FFD43B','#A0EC50','#A9E34B','#63E6BE','#4FD2C9','#72C3FC','#91A7FF','#E599F7','#B197FC','#F783AC','#CED4DA']};_this.newInput=_react2.default.createRef();return _this;}_createClass(CreateTagDialog,[{key:'componentDidMount',value:function componentDidMount(){this.setState({tagColor:this.state.colorList[0]});this.newInput.focus();this.newInput.setSelectionRange(0,0);}},{key:'render',value:function render(){var _this2=this;var colorList=this.state.colorList;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.onClose},_react2.default.createElement('span',{className:'tag-dialog-back fas fa-sm fa-arrow-left',onClick:this.props.toggleCancel,'aria-label':(0,_constants.gettext)('Back')}),(0,_constants.gettext)('New Tag')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('div',{role:'form',className:'tag-create'},_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('label',{className:'form-label'},(0,_constants.gettext)('Name')),_react2.default.createElement(_reactstrap.Input,{onKeyPress:this.handleKeyPress,innerRef:function innerRef(input){_this2.newInput=input;},value:this.state.tagName,onChange:this.inputNewName})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('label',{className:'form-label'},(0,_constants.gettext)('Select a color')),_react2.default.createElement('div',{className:'row gutters-xs'},colorList.map(function(item,index){return _react2.default.createElement('div',{key:index,className:'col-auto',onChange:_this2.selectTagcolor},_react2.default.createElement('label',{className:'colorinput'},index===0?_react2.default.createElement('input',{name:'color',type:'radio',value:item,className:'colorinput-input',defaultChecked:true,onClick:_this2.selectTagcolor}):_react2.default.createElement('input',{name:'color',type:'radio',value:item,className:'colorinput-input',onClick:_this2.selectTagcolor}),_react2.default.createElement('span',{className:'colorinput-color',style:{backgroundColor:item}})));}))))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.createTag},(0,_constants.gettext)('Save')),_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.props.toggleCancel},(0,_constants.gettext)('Cancel'))));}}]);return CreateTagDialog;}(_react2.default.Component);CreateTagDialog.propTypes=propTypes;exports.default=CreateTagDialog;\n\n/***/ }),\n\n/***/ 289:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentTag:_propTypes2.default.object,repoID:_propTypes2.default.string.isRequired,toggleCancel:_propTypes2.default.func.isRequired,onDeleteRepoTag:_propTypes2.default.func.isRequired,onClose:_propTypes2.default.func.isRequired};var UpdateTagDialog=function(_React$Component){_inherits(UpdateTagDialog,_React$Component);function UpdateTagDialog(props){_classCallCheck(this,UpdateTagDialog);var _this=_possibleConstructorReturn(this,(UpdateTagDialog.__proto__||Object.getPrototypeOf(UpdateTagDialog)).call(this,props));_this.inputNewName=function(e){_this.setState({newName:e.target.value});};_this.selectNewcolor=function(e){_this.setState({newColor:e.target.value});};_this.updateTag=function(){var tag_id=_this.props.currentTag.id;var name=_this.state.newName;var color=_this.state.newColor;var repoID=_this.props.repoID;_seafileApi.seafileAPI.updateRepoTag(repoID,tag_id,name,color).then(function(){_this.props.toggleCancel();});};_this.handleKeyPress=function(e){if(e.key==='Enter'){_this.updateTag();}};_this.deleteTagClick=function(item){_this.setState({deleteRepoTag:!_this.state.deleteRepoTag});};_this.onDeleteTag=function(){var tag=_this.props.currentTag;var repoID=_this.props.repoID;_seafileApi.seafileAPI.deleteRepoTag(repoID,tag.id).then(function(res){_this.props.toggleCancel();if(res.data.success===\"true\"){_this.props.onDeleteRepoTag(tag.id);}});};_this.state={deleteRepoTag:false,newName:_this.props.currentTag.name,newColor:_this.props.currentTag.color,colorList:['#FFA8A8','#FFA94D','#FFD43B','#A0EC50','#A9E34B','#63E6BE','#4FD2C9','#72C3FC','#91A7FF','#E599F7','#B197FC','#F783AC','#CED4DA']};_this.newInput=_react2.default.createRef();return _this;}_createClass(UpdateTagDialog,[{key:'componentDidMount',value:function componentDidMount(){this.newInput.focus();this.newInput.setSelectionRange(0,-1);}},{key:'render',value:function render(){var _this2=this;var colorList=this.state.colorList;if(colorList.indexOf(this.props.currentTag.color)===-1){colorList.push(this.props.currentTag.color);}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.onClose},_react2.default.createElement('span',{className:'tag-dialog-back fas fa-sm fa-arrow-left',onClick:this.props.toggleCancel,'aria-label':(0,_constants.gettext)('Back')}),(0,_constants.gettext)('Edit Tag')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('div',{className:'tag-edit'},_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('label',{className:'form-label'},(0,_constants.gettext)('Name')),_react2.default.createElement(_reactstrap.Input,{onKeyPress:this.handleKeyPress,innerRef:function innerRef(input){_this2.newInput=input;},value:this.state.newName,onChange:this.inputNewName})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('label',{className:'form-label'},(0,_constants.gettext)('Select a color')),_react2.default.createElement('div',{className:'row gutters-xs'},colorList.map(function(item,index){return _react2.default.createElement('div',{key:index,className:'col-auto',onChange:_this2.selectNewcolor},_react2.default.createElement('label',{className:'colorinput'},item===_this2.props.currentTag.color?_react2.default.createElement('input',{name:'color',type:'radio',value:item,className:'colorinput-input',defaultChecked:true,onChange:_this2.selectNewcolor}):_react2.default.createElement('input',{name:'color',type:'radio',value:item,className:'colorinput-input',onChange:_this2.selectNewcolor}),_react2.default.createElement('span',{className:'colorinput-color',style:{backgroundColor:item}})));}))))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'danger',onClick:this.onDeleteTag},(0,_constants.gettext)('Delete')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.updateTag},(0,_constants.gettext)('Save'))));}}]);return UpdateTagDialog;}(_react2.default.Component);UpdateTagDialog.propTypes=propTypes;exports.default=UpdateTagDialog;\n\n/***/ }),\n\n/***/ 290:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _direntListItem=__webpack_require__(291);var _direntListItem2=_interopRequireDefault(_direntListItem);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _createFileDialog=__webpack_require__(123);var _createFileDialog2=_interopRequireDefault(_createFileDialog);var _reactImageLightbox=__webpack_require__(294);var _reactImageLightbox2=_interopRequireDefault(_reactImageLightbox);__webpack_require__(207);__webpack_require__(296);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,currentRepoInfo:_propTypes2.default.object,isAllItemSelected:_propTypes2.default.bool.isRequired,isDirentListLoading:_propTypes2.default.bool.isRequired,direntList:_propTypes2.default.array.isRequired,sortBy:_propTypes2.default.string.isRequired,sortOrder:_propTypes2.default.string.isRequired,sortItems:_propTypes2.default.func.isRequired,onAddFile:_propTypes2.default.func.isRequired,onItemDelete:_propTypes2.default.func.isRequired,onAllItemSelected:_propTypes2.default.func.isRequired,onItemSelected:_propTypes2.default.func.isRequired,onItemRename:_propTypes2.default.func.isRequired,onItemClick:_propTypes2.default.func.isRequired,onItemMove:_propTypes2.default.func.isRequired,onItemCopy:_propTypes2.default.func.isRequired,onDirentClick:_propTypes2.default.func.isRequired,onItemDetails:_propTypes2.default.func.isRequired,updateDirent:_propTypes2.default.func.isRequired};var DirentListView=function(_React$Component){_inherits(DirentListView,_React$Component);function DirentListView(props){_classCallCheck(this,DirentListView);var _this=_possibleConstructorReturn(this,(DirentListView.__proto__||Object.getPrototypeOf(DirentListView)).call(this,props));_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnfreezedItem=function(){_this.setState({isItemFreezed:false});};_this.onItemRename=function(dirent,newName){var isDuplicated=_this.props.direntList.some(function(item){return item.name===newName;});if(isDuplicated){var errMessage=(0,_constants.gettext)('The name \"{name}\" is already taken. Please choose a different name.');errMessage=errMessage.replace('{name}',_utils.Utils.HTMLescape(newName));_toast2.default.danger(errMessage);return false;}_this.props.onItemRename(dirent,newName);};_this.onItemRenameToggle=function(){_this.onFreezedItem();};_this.onItemDetails=function(dirent){_this.props.onItemDetails(dirent);};_this.onCreateFileToggle=function(){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:''});};_this.onCreateNewFile=function(suffix){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:suffix});};_this.onAddFile=function(filePath,isDraft){_this.setState({isCreateFileDialogShow:false});_this.props.onAddFile(filePath,isDraft);};_this.sortByName=function(e){e.preventDefault();var sortBy='name';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};_this.sortByTime=function(e){e.preventDefault();var sortBy='time';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};_this.prepareImageItems=function(){var items=_this.props.direntList.filter(function(item){return _utils.Utils.imageCheck(item.name);});var useThumbnail=!_this.repoEncrypted;var prepareItem=function prepareItem(item){var name=item.name;var fileExt=name.substr(name.lastIndexOf('.')+1).toLowerCase();var isGIF=fileExt=='gif';var path=_utils.Utils.encodePath(_utils.Utils.joinPath(_this.props.path,name));var repoID=_this.props.repoID;var src=void 0;if(useThumbnail&&!isGIF){src=_constants.siteRoot+'thumbnail/'+repoID+'/'+_constants.thumbnailSizeForOriginal+path;}else{src=_constants.siteRoot+'repo/'+repoID+'/raw'+path;}return{'name':name,'url':_constants.siteRoot+'lib/'+repoID+'/file'+path,'src':src};};return items.map(function(item){return prepareItem(item);});};_this.showImagePopup=function(dirent){var items=_this.props.direntList.filter(function(item){return _utils.Utils.imageCheck(item.name);});_this.setState({isImagePopupOpen:true,imageItems:_this.prepareImageItems(),imageIndex:items.indexOf(dirent)});};_this.moveToPrevImage=function(){var imageItemsLength=_this.state.imageItems.length;_this.setState(function(prevState){return{imageIndex:(prevState.imageIndex+imageItemsLength-1)%imageItemsLength};});};_this.moveToNextImage=function(){var imageItemsLength=_this.state.imageItems.length;_this.setState(function(prevState){return{imageIndex:(prevState.imageIndex+1)%imageItemsLength};});};_this.closeImagePopup=function(){_this.setState({isImagePopupOpen:false});};_this.checkDuplicatedName=function(newName){var direntList=_this.props.direntList;var isDuplicated=direntList.some(function(object){return object.name===newName;});return isDuplicated;};_this.state={isItemFreezed:false,isImagePopupOpen:false,imageItems:[],imageIndex:0,isCreateFileDialogShow:false,fileType:''};_this.isRepoOwner=props.currentRepoInfo.owner_email===_constants.username;_this.isAdmin=props.currentRepoInfo.is_admin;_this.repoEncrypted=props.currentRepoInfo.encrypted;return _this;}// for image popup\n_createClass(DirentListView,[{key:'render',value:function render(){var _this2=this;var _props=this.props,direntList=_props.direntList,sortBy=_props.sortBy,sortOrder=_props.sortOrder;if(this.props.isDirentListLoading){return _react2.default.createElement(_loading2.default,null);}if(this.props.path=='/'&&!direntList.length){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'tip-for-new-file'},_react2.default.createElement('p',{className:'text-center'},(0,_constants.gettext)('This folder has no content at this time.')),_react2.default.createElement('p',{className:'text-center'},(0,_constants.gettext)('You can create files quickly'),' +'),_react2.default.createElement('div',{className:'big-new-file-button-group'},_react2.default.createElement('div',{className:'d-flex justify-content-center'},_react2.default.createElement('button',{className:'big-new-file-button',onClick:this.onCreateNewFile.bind(this,'.md')},'+ Markdown'),_react2.default.createElement('button',{className:'big-new-file-button',onClick:this.onCreateNewFile.bind(this,'.ppt')},'+ PPT')),_react2.default.createElement('div',{className:'d-flex justify-content-center'},_react2.default.createElement('button',{className:'big-new-file-button',onClick:this.onCreateNewFile.bind(this,'.doc')},'+ Word'),_react2.default.createElement('button',{className:'big-new-file-button',onClick:this.onCreateNewFile.bind(this,'.xls')},'+ Excel')))),this.state.isCreateFileDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_createFileDialog2.default,{parentPath:this.props.path,fileType:this.state.fileType,onAddFile:this.onAddFile,checkDuplicatedName:this.checkDuplicatedName,addFileCancel:this.onCreateFileToggle})));}// sort\nvar sortByName=sortBy=='name';var sortByTime=sortBy=='time';var sortIcon=sortOrder=='asc'?_react2.default.createElement('span',{className:'fas fa-caret-up'}):_react2.default.createElement('span',{className:'fas fa-caret-down'});// for image popup\nvar imageItems=this.state.imageItems;var imageIndex=this.state.imageIndex;var imageItemsLength=imageItems.length;var imageCaption=imageItemsLength&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('span',null,(0,_constants.gettext)('%curr% of %total%').replace('%curr%',imageIndex+1).replace('%total%',imageItemsLength)),_react2.default.createElement('br',null),_react2.default.createElement('a',{href:imageItems[imageIndex].url,target:'_blank'},(0,_constants.gettext)('Open in New Tab')));return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'3%',className:'pl10'},_react2.default.createElement('input',{type:'checkbox',className:'vam',onChange:this.props.onAllItemSelected,checked:this.props.isAllItemSelected})),_react2.default.createElement('th',{width:'3%',className:'pl10'}),_react2.default.createElement('th',{width:'5%',className:'pl10'}),_react2.default.createElement('th',{width:'39%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:this.sortByName},(0,_constants.gettext)('Name'),' ',sortByName&&sortIcon)),_react2.default.createElement('th',{width:'6%'}),_react2.default.createElement('th',{width:'18%'}),_react2.default.createElement('th',{width:'11%'},(0,_constants.gettext)('Size')),_react2.default.createElement('th',{width:'15%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:this.sortByTime},(0,_constants.gettext)('Last Update'),' ',sortByTime&&sortIcon)))),_react2.default.createElement('tbody',null,direntList.length!==0&&direntList.map(function(dirent,index){return _react2.default.createElement(_direntListItem2.default,{key:index,dirent:dirent,path:_this2.props.path,repoID:_this2.props.repoID,currentRepoInfo:_this2.props.currentRepoInfo,isAdmin:_this2.isAdmin,isRepoOwner:_this2.isRepoOwner,repoEncrypted:_this2.repoEncrypted,enableDirPrivateShare:_this2.props.enableDirPrivateShare,isGroupOwnedRepo:_this2.props.isGroupOwnedRepo,direntList:_this2.props.direntList,onItemClick:_this2.props.onItemClick,onItemRenameToggle:_this2.onItemRenameToggle,onItemSelected:_this2.props.onItemSelected,onItemDelete:_this2.props.onItemDelete,onItemRename:_this2.onItemRename,onItemMove:_this2.props.onItemMove,onItemCopy:_this2.props.onItemCopy,updateDirent:_this2.props.updateDirent,isItemFreezed:_this2.state.isItemFreezed,onFreezedItem:_this2.onFreezedItem,onUnfreezedItem:_this2.onUnfreezedItem,onDirentClick:_this2.props.onDirentClick,onItemDetails:_this2.onItemDetails,showImagePopup:_this2.showImagePopup});}))),this.state.isImagePopupOpen&&_react2.default.createElement(_reactImageLightbox2.default,{mainSrc:imageItems[imageIndex].src,imageTitle:imageItems[imageIndex].name,imageCaption:imageCaption,nextSrc:imageItems[(imageIndex+1)%imageItemsLength].src,prevSrc:imageItems[(imageIndex+imageItemsLength-1)%imageItemsLength].src,onCloseRequest:this.closeImagePopup,onMovePrevRequest:this.moveToPrevImage,onMoveNextRequest:this.moveToNextImage,imagePadding:70,imageLoadErrorMessage:(0,_constants.gettext)('The image could not be loaded.'),prevLabel:(0,_constants.gettext)('Previous (Left arrow key)'),nextLabel:(0,_constants.gettext)('Next (Right arrow key)'),closeLabel:(0,_constants.gettext)('Close (Esc)'),zoomInLabel:(0,_constants.gettext)('Zoom in'),zoomOutLabel:(0,_constants.gettext)('Zoom out')}));}}]);return DirentListView;}(_react2.default.Component);DirentListView.propTypes=propTypes;exports.default=DirentListView;\n\n/***/ }),\n\n/***/ 291:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _MD=__webpack_require__(206);var _MD2=_interopRequireDefault(_MD);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _seafileApi=__webpack_require__(3);var _urlDecorator=__webpack_require__(124);var _urlDecorator2=_interopRequireDefault(_urlDecorator);var _direntMenu=__webpack_require__(292);var _direntMenu2=_interopRequireDefault(_direntMenu);var _rename=__webpack_require__(143);var _rename2=_interopRequireDefault(_rename);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _zipDownloadDialog=__webpack_require__(171);var _zipDownloadDialog2=_interopRequireDefault(_zipDownloadDialog);var _moveDirentDialog=__webpack_require__(141);var _moveDirentDialog2=_interopRequireDefault(_moveDirentDialog);var _copyDirentDialog=__webpack_require__(142);var _copyDirentDialog2=_interopRequireDefault(_copyDirentDialog);var _shareDialog=__webpack_require__(25);var _shareDialog2=_interopRequireDefault(_shareDialog);__webpack_require__(293);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,isItemFreezed:_propTypes2.default.bool.isRequired,dirent:_propTypes2.default.object.isRequired,onItemClick:_propTypes2.default.func.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnfreezedItem:_propTypes2.default.func.isRequired,onItemRenameToggle:_propTypes2.default.func.isRequired,onItemSelected:_propTypes2.default.func.isRequired,onItemDelete:_propTypes2.default.func.isRequired,onItemRename:_propTypes2.default.func.isRequired,onItemMove:_propTypes2.default.func.isRequired,onItemCopy:_propTypes2.default.func.isRequired,onItemDetails:_propTypes2.default.func.isRequired,onDirentClick:_propTypes2.default.func.isRequired,updateDirent:_propTypes2.default.func.isRequired,showImagePopup:_propTypes2.default.func.isRequired,currentRepoInfo:_propTypes2.default.object,isRepoOwner:_propTypes2.default.bool,isAdmin:_propTypes2.default.bool.isRequired,repoEncrypted:_propTypes2.default.bool.isRequired,isGroupOwnedRepo:_propTypes2.default.bool.isRequired};var DirentListItem=function(_React$Component){_inherits(DirentListItem,_React$Component);function DirentListItem(props){_classCallCheck(this,DirentListItem);var _this2=_possibleConstructorReturn(this,(DirentListItem.__proto__||Object.getPrototypeOf(DirentListItem)).call(this,props));_this2.onMouseEnter=function(){if(!_this2.props.isItemFreezed){_this2.setState({highlight:true,isOperationShow:true});}_this2.setState({isDragTipShow:true});};_this2.onMouseOver=function(){if(!_this2.props.isItemFreezed){_this2.setState({highlight:true,isOperationShow:true});}_this2.setState({isDragTipShow:true});};_this2.onMouseLeave=function(){if(!_this2.props.isItemFreezed){_this2.setState({highlight:false,isOperationShow:false});}_this2.setState({isDragTipShow:false});};_this2.onUnfreezedItem=function(){_this2.setState({highlight:false,isOperationShow:false});_this2.props.onUnfreezedItem();};_this2.onItemSelected=function(){_this2.props.onItemSelected(_this2.props.dirent);};_this2.onItemStarred=function(){var dirent=_this2.props.dirent;var repoID=_this2.props.repoID;var filePath=_this2.getDirentPath(dirent);if(dirent.starred){_seafileApi.seafileAPI.unstarItem(repoID,filePath).then(function(){_this2.props.updateDirent(_this2.props.dirent,'starred',false);});}else{_seafileApi.seafileAPI.starItem(repoID,filePath).then(function(){_this2.props.updateDirent(_this2.props.dirent,'starred',true);});}};_this2.onDirentClick=function(e){// '<td>' is clicked\nif(e.target.tagName=='TD'){_this2.props.onDirentClick(_this2.props.dirent);}};_this2.onItemClick=function(e){e.preventDefault();var dirent=_this2.props.dirent;if(_utils.Utils.imageCheck(dirent.name)){_this2.props.showImagePopup(dirent);}else{_this2.props.onItemClick(dirent);}};_this2.onItemDelete=function(e){e.nativeEvent.stopImmediatePropagation();//for document event\n_this2.props.onItemDelete(_this2.props.dirent);};_this2.onItemShare=function(e){e.nativeEvent.stopImmediatePropagation();//for document event\n_this2.setState({isShareDialogShow:!_this2.state.isShareDialogShow});};_this2.closeSharedDialog=function(){_this2.setState({isShareDialogShow:!_this2.state.isShareDialogShow});};_this2.onMenuItemClick=function(operation){switch(operation){case'Rename':_this2.onItemRenameToggle();break;case'Move':_this2.onItemMoveToggle();break;case'Copy':_this2.onItemCopyToggle();break;case'Permission':_this2.onPermissionItem();break;case'Details':_this2.onDetailsItem();break;case'Unlock':_this2.onUnlockItem();break;case'Lock':_this2.onLockItem();break;case'Comment':_this2.onComnentItem();break;case'History':_this2.onHistory();break;case'Access Log':_this2.onAccessLog();break;case'Open via Client':_this2.onOpenViaClient();break;default:break;}};_this2.onItemRenameToggle=function(){_this2.props.onItemRenameToggle(_this2.props.dirent);_this2.setState({isOperationShow:false,isRenameing:true});};_this2.onRenameConfirm=function(newName){_this2.props.onItemRename(_this2.props.dirent,newName);_this2.onRenameCancel();};_this2.onRenameCancel=function(){_this2.setState({isRenameing:false});_this2.props.onUnfreezedItem();};_this2.onItemMoveToggle=function(){_this2.setState({isMoveDialogShow:!_this2.state.isMoveDialogShow});};_this2.onItemCopyToggle=function(){_this2.setState({isCopyDialogShow:!_this2.state.isCopyDialogShow});};_this2.onPermissionItem=function(){};_this2.onDetailsItem=function(){_this2.props.onItemDetails(_this2.props.dirent);};_this2.onLockItem=function(){var repoID=_this2.props.repoID;var filePath=_this2.getDirentPath(_this2.props.dirent);_seafileApi.seafileAPI.lockfile(repoID,filePath).then(function(){_this2.props.updateDirent(_this2.props.dirent,'is_locked',true);_this2.props.updateDirent(_this2.props.dirent,'locked_by_me',true);});};_this2.onUnlockItem=function(){var repoID=_this2.props.repoID;var filePath=_this2.getDirentPath(_this2.props.dirent);_seafileApi.seafileAPI.unlockfile(repoID,filePath).then(function(){_this2.props.updateDirent(_this2.props.dirent,'is_locked',false);_this2.props.updateDirent(_this2.props.dirent,'locked_by_me',false);});};_this2.onComnentItem=function(){};_this2.onHistory=function(){var repoID=_this2.props.repoID;var filePath=_this2.getDirentPath(_this2.props.dirent);var url=_urlDecorator2.default.getUrl({type:'file_revisions',repoID:repoID,filePath:filePath});location.href=url;};_this2.onAccessLog=function(){};_this2.onOpenViaClient=function(){var repoID=_this2.props.repoID;var filePath=_this2.getDirentPath(_this2.props.dirent);var url=_urlDecorator2.default.getUrl({type:'open_via_client',repoID:repoID,filePath:filePath});location.href=url;};_this2.onItemDownload=function(e){e.nativeEvent.stopImmediatePropagation();var dirent=_this2.props.dirent;var repoID=_this2.props.repoID;var direntPath=_this2.getDirentPath(dirent);if(dirent.type==='dir'){_this2.setState({isProgressDialogShow:true,progress:0});_seafileApi.seafileAPI.zipDownload(repoID,_this2.props.path,dirent.name).then(function(res){_this2.zipToken=res.data['zip_token'];_this2.addDownloadAnimation();_this2.interval=setInterval(_this2.addDownloadAnimation,1000);}).catch(function(){clearInterval(_this2.interval);});}else{var url=_urlDecorator2.default.getUrl({type:'download_file_url',repoID:repoID,filePath:direntPath});location.href=url;}};_this2.addDownloadAnimation=function(){var _this=_this2;var token=_this2.zipToken;_seafileApi.seafileAPI.queryZipProgress(token).then(function(res){var data=res.data;var progress=data.total===0?100:(data.zipped/data.total*100).toFixed(0);_this2.setState({progress:parseInt(progress)});if(data['total']===data['zipped']){_this2.setState({progress:100});clearInterval(_this2.interval);location.href=_urlDecorator2.default.getUrl({type:'download_dir_zip_url',token:token});setTimeout(function(){_this.setState({isProgressDialogShow:false});},500);}});};_this2.onCancelDownload=function(){var zipToken=_this2.zipToken;_seafileApi.seafileAPI.cancelZipTask(zipToken).then(function(res){_this2.setState({isProgressDialogShow:false});});};_this2.getDirentPath=function(dirent){var path=_this2.props.path;return path==='/'?path+dirent.name:path+'/'+dirent.name;};_this2.onTagTooltipToggle=function(e){e.stopPropagation();_this2.setState({isShowTagTooltip:!_this2.state.isShowTagTooltip});};_this2.onItemMove=function(destRepo,dirent,selectedPath,currentPath){_this2.props.onItemMove(destRepo,dirent,selectedPath,currentPath);};_this2.onItemDragStart=function(e){var nodeRootPath='';nodeRootPath=_this2.props.path==='/'?''+_this2.props.path+_this2.props.dirent.name:_this2.props.path;var dragStartItemData={nodeDirent:_this2.props.dirent,nodeParentPath:_this2.props.path,nodeRootPath:nodeRootPath};dragStartItemData=JSON.stringify(dragStartItemData);e.dataTransfer.effectAllowed=\"move\";e.dataTransfer.setDragImage(_this2.refs.drag_icon,15,15);e.dataTransfer.setData('applicaiton/drag-item-info',dragStartItemData);};_this2.onItemDragEnter=function(){if(_this2.props.dirent.type==='dir'){_this2.setState({isDropTipshow:true});}};_this2.onItemDragOver=function(e){e.preventDefault();e.dataTransfer.dropEffect='move';};_this2.onItemDragLeave=function(){_this2.setState({isDropTipshow:false});};_this2.onItemDragDrop=function(e){_this2.setState({isDropTipshow:false});if(e.dataTransfer.files.length){// uploaded files\nreturn;}var dragStartItemData=e.dataTransfer.getData('applicaiton/drag-item-info');dragStartItemData=JSON.parse(dragStartItemData);var _dragStartItemData=dragStartItemData,nodeDirent=_dragStartItemData.nodeDirent,nodeParentPath=_dragStartItemData.nodeParentPath,nodeRootPath=_dragStartItemData.nodeRootPath;var dropItemData=_this2.props.dirent;if(nodeDirent.name===dropItemData.name){return;}if(dropItemData.type!=='dir'){return;}//  copy the dirent to it's child. eg: A/B -> A/B/C\nif(dropItemData.type==='dir'&&nodeDirent.type==='dir'){if(nodeParentPath!==_this2.props.path){if(_this2.props.path.indexOf(nodeRootPath)!==-1){return;}}}var selectedPath=_utils.Utils.joinPath(_this2.props.path,_this2.props.dirent.name);_this2.onItemMove(_this2.props.currentRepoInfo,nodeDirent,selectedPath,nodeParentPath);};_this2.state={isOperationShow:false,highlight:false,progress:0,isProgressDialogShow:false,isMoveDialogShow:false,isCopyDialogShow:false,isShareDialogShow:false,isMutipleOperation:false,isShowTagTooltip:false,isDragTipShow:false,isDropTipshow:false};_this2.zipToken=null;return _this2;}//UI Interactive\n//buiness handler\n// on '<tr>'\n_createClass(DirentListItem,[{key:'render',value:function render(){var _props=this.props,path=_props.path,dirent=_props.dirent;var direntPath=_utils.Utils.joinPath(path,dirent.name);var dirHref='';if(this.props.currentRepoInfo){dirHref=_constants.siteRoot+'library/'+this.props.repoID+'/'+this.props.currentRepoInfo.repo_name+_utils.Utils.encodePath(direntPath);}var fileHref=_constants.siteRoot+'lib/'+this.props.repoID+'/file'+_utils.Utils.encodePath(direntPath);var toolTipID=(0,_MD2.default)(dirent.name).slice(0,7);var tagTitle='';if(dirent.file_tags&&dirent.file_tags.length>0){dirent.file_tags.forEach(function(item){tagTitle+=item.name+' ';});}var iconUrl=_utils.Utils.getDirentIcon(dirent);var _props2=this.props,repoEncrypted=_props2.repoEncrypted,isRepoOwner=_props2.isRepoOwner,isAdmin=_props2.isAdmin;var showShare=false;if(!repoEncrypted&&(dirent.permission=='rw'||dirent.permission=='r')){showShare=dirent.type=='file'?_constants.canGenerateShareLink:_constants.canGenerateShareLink||_constants.canGenerateUploadLink||isRepoOwner||isAdmin;}var trClass=this.state.highlight?'tr-highlight ':'';trClass+=this.state.isDropTipshow?'tr-drop-effect':'';return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('tr',{className:trClass,draggable:'true',onMouseEnter:this.onMouseEnter,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onClick:this.onDirentClick,onDragStart:this.onItemDragStart,onDragEnter:this.onItemDragEnter,onDragOver:this.onItemDragOver,onDragLeave:this.onItemDragLeave,onDrop:this.onItemDragDrop},_react2.default.createElement('td',{className:'pl10 '+(this.state.isDragTipShow?'tr-drag-effect':'')},_react2.default.createElement('input',{type:'checkbox',className:'vam',onChange:this.onItemSelected,checked:dirent.isSelected})),_react2.default.createElement('td',{className:'pl10'},dirent.starred!==undefined&&!dirent.starred&&_react2.default.createElement('i',{className:'far fa-star star-empty cursor-pointer',onClick:this.onItemStarred}),dirent.starred!==undefined&&dirent.starred&&_react2.default.createElement('i',{className:'fas fa-star cursor-pointer',onClick:this.onItemStarred})),_react2.default.createElement('td',{className:'pl10'},_react2.default.createElement('div',{className:'dir-icon'},dirent.encoded_thumbnail_src?_react2.default.createElement('img',{ref:'drag_icon',src:''+_constants.siteRoot+dirent.encoded_thumbnail_src,className:'thumbnail cursor-pointer',onClick:this.onItemClick,alt:''}):_react2.default.createElement('img',{ref:'drag_icon',src:iconUrl,width:'24',alt:''}),dirent.is_locked&&_react2.default.createElement('img',{className:'locked',src:_constants.mediaUrl+'img/file-locked-32.png',alt:(0,_constants.gettext)('locked'),title:dirent.lock_owner_name}))),_react2.default.createElement('td',{className:'name'},this.state.isRenameing?_react2.default.createElement(_rename2.default,{hasSuffix:dirent.type!=='dir',name:dirent.name,onRenameConfirm:this.onRenameConfirm,onRenameCancel:this.onRenameCancel}):_react2.default.createElement('a',{href:dirent.type==='dir'?dirHref:fileHref,onClick:this.onItemClick},dirent.name)),_react2.default.createElement('td',{className:'tag-list-title'},dirent.type!=='dir'&&dirent.file_tags&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{id:'tag-list-title-'+toolTipID,className:'dirent-item tag-list tag-list-stacked'},dirent.file_tags.map(function(fileTag,index){var length=dirent.file_tags.length;return _react2.default.createElement('span',{className:'file-tag',key:fileTag.id,style:{zIndex:length-index,backgroundColor:fileTag.color}});})),_react2.default.createElement(_reactstrap.UncontrolledTooltip,{target:'tag-list-title-'+toolTipID,placement:'bottom'},tagTitle))),_react2.default.createElement('td',{className:'operation'},this.state.isOperationShow&&_react2.default.createElement('div',{className:'operations'},_react2.default.createElement('ul',{className:'operation-group'},_react2.default.createElement('li',{className:'operation-group-item'},_react2.default.createElement('i',{className:'op-icon sf2-icon-download',title:(0,_constants.gettext)('Download'),onClick:this.onItemDownload})),showShare&&_react2.default.createElement('li',{className:'operation-group-item'},_react2.default.createElement('i',{className:'op-icon sf2-icon-share',title:(0,_constants.gettext)('Share'),onClick:this.onItemShare})),_react2.default.createElement('li',{className:'operation-group-item'},_react2.default.createElement('i',{className:'op-icon sf2-icon-delete',title:(0,_constants.gettext)('Delete'),onClick:this.onItemDelete})),_react2.default.createElement('li',{className:'operation-group-item'},_react2.default.createElement(_direntMenu2.default,{dirent:this.props.dirent,onMenuItemClick:this.onMenuItemClick,currentRepoInfo:this.props.currentRepoInfo,isRepoOwner:this.props.isRepoOwner,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))))),_react2.default.createElement('td',{className:'file-size'},dirent.size&&dirent.size),_react2.default.createElement('td',{className:'last-update'},dirent.mtime_relative)),this.state.isMoveDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_moveDirentDialog2.default,{path:this.props.path,repoID:this.props.repoID,dirent:this.props.dirent,isMutipleOperation:this.state.isMutipleOperation,onItemMove:this.props.onItemMove,onCancelMove:this.onItemMoveToggle,repoEncrypted:this.props.repoEncrypted})),this.state.isCopyDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_copyDirentDialog2.default,{path:this.props.path,repoID:this.props.repoID,dirent:this.props.dirent,isMutipleOperation:this.state.isMutipleOperation,onItemCopy:this.props.onItemCopy,onCancelCopy:this.onItemCopyToggle,repoEncrypted:this.props.repoEncrypted})),this.state.isProgressDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_zipDownloadDialog2.default,{progress:this.state.progress,onCancelDownload:this.onCancelDownload})),this.state.isShareDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_shareDialog2.default,{itemType:dirent.type,itemName:dirent.name,itemPath:direntPath,userPerm:dirent.permission,repoID:this.props.repoID,repoEncrypted:false,enableDirPrivateShare:this.props.enableDirPrivateShare,isGroupOwnedRepo:this.props.isGroupOwnedRepo,toggleDialog:this.closeSharedDialog})));}}]);return DirentListItem;}(_react2.default.Component);DirentListItem.propTypes=propTypes;exports.default=DirentListItem;\n\n/***/ }),\n\n/***/ 292:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={dirent:_propTypes2.default.object.isRequired,currentRepoInfo:_propTypes2.default.object.isRequired,isRepoOwner:_propTypes2.default.bool.isRequired,onMenuItemClick:_propTypes2.default.func.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnfreezedItem:_propTypes2.default.func.isRequired};var DirentMenu=function(_React$Component){_inherits(DirentMenu,_React$Component);function DirentMenu(props){_classCallCheck(this,DirentMenu);var _this=_possibleConstructorReturn(this,(DirentMenu.__proto__||Object.getPrototypeOf(DirentMenu)).call(this,props));_this.translateMenuItem=function(menuItem){var translateResult='';switch(menuItem){case'Rename':translateResult=(0,_constants.gettext)('Rename');break;case'Move':translateResult=(0,_constants.gettext)('Move');break;case'Copy':translateResult=(0,_constants.gettext)('Copy');break;case'Permission':translateResult=(0,_constants.gettext)('Permission');break;case'Details':translateResult=(0,_constants.gettext)('Details');break;case'Unlock':translateResult=(0,_constants.gettext)('Unlock');break;case'Lock':translateResult=(0,_constants.gettext)('Lock');break;case'Comment':translateResult=(0,_constants.gettext)('Comment');break;case'History':translateResult=(0,_constants.gettext)('History');break;case'Access Log':translateResult=(0,_constants.gettext)('Access Log');break;case'Open via Client':translateResult=(0,_constants.gettext)('Open via Client');break;default:break;}return translateResult;};_this.onDropdownToggleClick=function(e){e.preventDefault();_this.toggleOperationMenu();};_this.toggleOperationMenu=function(){_this.setState({isItemMenuShow:!_this.state.isItemMenuShow},function(){if(_this.state.isItemMenuShow){_this.props.onFreezedItem();}else{_this.props.onUnfreezedItem();}});};_this.onMenuItemClick=function(event){var operation=event.target.dataset.toggle;_this.props.onMenuItemClick(operation);};_this.state={isItemMenuShow:false};_this.menuList=[];return _this;}_createClass(DirentMenu,[{key:'componentDidMount',value:function componentDidMount(){this.menuList=this.calculateMenuList();}},{key:'calculateMenuList',value:function calculateMenuList(){var _props=this.props,currentRepoInfo=_props.currentRepoInfo,dirent=_props.dirent,isRepoOwner=_props.isRepoOwner;var type=dirent.type;var permission=dirent.permission;var can_set_folder_perm=_constants.folderPermEnabled&&(isRepoOwner&&currentRepoInfo.has_been_shared_out||currentRepoInfo.is_admin);if(type==='dir'&&permission==='rw'){var menuList=[];if(can_set_folder_perm){menuList=['Rename','Move','Copy','Divider','Permission','Details','Divider','Open via Client'];}else{menuList=['Rename','Move','Copy','Divider','Details','Divider','Open via Client'];}return menuList;}if(type==='dir'&&permission==='r'){var _menuList=currentRepoInfo.encrypted?['Copy','Details']:['Details'];return _menuList;}if(type==='file'&&permission==='rw'){var _menuList2=[];if(!dirent.is_locked||dirent.is_locked&&dirent.locked_by_me){_menuList2.push('Rename');_menuList2.push('Move');}_menuList2.push('Copy');if(_constants.isPro){if(dirent.is_locked){if(dirent.locked_by_me||dirent.lock_owner==='OnlineOffice'&&permission==='rw'){_menuList2.push('Unlock');}}else{_menuList2.push('Lock');}}_menuList2.push('Divider');if(_constants.enableFileComment){_menuList2.push('Comment');}_menuList2.push('History');if(_constants.fileAuditEnabled){_menuList2.push('Access Log');}_menuList2.push('Details');_menuList2.push('Divider');_menuList2.push('Open via Client');return _menuList2;}if(type==='file'&&permission==='r'){var _menuList3=[];if(!currentRepoInfo.encrypted){_menuList3.push('Copy');}if(_constants.enableFileComment){_menuList3.push('Comment');}_menuList3.push('History');_menuList3.push('Details');return _menuList3;}}},{key:'render',value:function render(){var _this2=this;if(!this.menuList.length){return'';}return _react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},_react2.default.createElement(_reactstrap.DropdownToggle,{tag:'i',className:'sf-dropdown-toggle sf2-icon-caret-down',title:(0,_constants.gettext)('More Operations'),'data-toggle':'dropdown','aria-expanded':this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),_react2.default.createElement(_reactstrap.DropdownMenu,null,this.menuList.map(function(menuItem,index){if(menuItem==='Divider'){return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,divider:true});}else{return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,'data-toggle':menuItem,onClick:_this2.onMenuItemClick},_this2.translateMenuItem(menuItem));}})));}}]);return DirentMenu;}(_react2.default.Component);DirentMenu.propTypes=propTypes;exports.default=DirentMenu;\n\n/***/ }),\n\n/***/ 293:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 296:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 297:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _utils=__webpack_require__(4);var _seafileApi=__webpack_require__(3);var _detailListView=__webpack_require__(298);var _detailListView2=_interopRequireDefault(_detailListView);var _repoInfo=__webpack_require__(31);var _repoInfo2=_interopRequireDefault(_repoInfo);var _fileTag=__webpack_require__(24);var _fileTag2=_interopRequireDefault(_fileTag);__webpack_require__(98);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,dirent:_propTypes2.default.object.isRequired,path:_propTypes2.default.string.isRequired,onItemDetailsClose:_propTypes2.default.func.isRequired,onFileTagChanged:_propTypes2.default.func.isRequired};var DirentDetail=function(_React$Component){_inherits(DirentDetail,_React$Component);function DirentDetail(props){_classCallCheck(this,DirentDetail);var _this=_possibleConstructorReturn(this,(DirentDetail.__proto__||Object.getPrototypeOf(DirentDetail)).call(this,props));_this.updateDetailView=function(dirent,direntPath){var repoID=_this.props.repoID;if(dirent.type==='file'){_seafileApi.seafileAPI.getFileInfo(repoID,direntPath).then(function(res){_this.setState({direntType:'file',direntDetail:res.data});});_seafileApi.seafileAPI.listFileTags(repoID,direntPath).then(function(res){var fileTagList=[];res.data.file_tags.forEach(function(item){var file_tag=new _fileTag2.default(item);fileTagList.push(file_tag);});_this.setState({fileTagList:fileTagList});});_seafileApi.seafileAPI.listRelatedFiles(repoID,direntPath).then(function(res){var relatedFiles=[];res.data.related_files.map(function(relatedFile){relatedFiles.push(relatedFile);});_this.setState({relatedFiles:relatedFiles});}).catch(function(error){if(error.response.status===500){_this.setState({relatedFiles:[]});}});}else{_seafileApi.seafileAPI.getDirInfo(repoID,direntPath).then(function(res){_this.setState({direntType:'dir',direntDetail:res.data});});}};_this.onFileTagChanged=function(dirent,direntPath){_this.updateDetailView(dirent,direntPath);_this.props.onFileTagChanged(dirent,direntPath);};_this.onRelatedFileChange=function(){var _this$props=_this.props,dirent=_this$props.dirent,path=_this$props.path;var direntPath=_utils.Utils.joinPath(path,dirent.name);_this.updateDetailView(dirent,direntPath);};_this.state={direntType:'',direntDetail:'',repoInfo:null,fileTagList:[],relatedFiles:[]};return _this;}_createClass(DirentDetail,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;var _props=this.props,dirent=_props.dirent,path=_props.path,repoID=_props.repoID;var direntPath=_utils.Utils.joinPath(path,dirent.name);_seafileApi.seafileAPI.getRepoInfo(repoID).then(function(res){var repoInfo=new _repoInfo2.default(res.data);_this2.setState({repoInfo:repoInfo});_this2.updateDetailView(dirent,direntPath);});}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){var dirent=nextProps.dirent,path=nextProps.path;var direntPath=_utils.Utils.joinPath(path,dirent.name);this.updateDetailView(dirent,direntPath);}},{key:'render',value:function render(){var dirent=this.props.dirent;var smallIconUrl=_utils.Utils.getDirentIcon(dirent);var bigIconUrl=_utils.Utils.getDirentIcon(dirent,true);return _react2.default.createElement('div',{className:'detail-container'},_react2.default.createElement('div',{className:'detail-header'},_react2.default.createElement('div',{className:'detail-control sf2-icon-x1',onClick:this.props.onItemDetailsClose}),_react2.default.createElement('div',{className:'detail-title dirent-title'},_react2.default.createElement('img',{src:smallIconUrl,width:'24',height:'24',alt:''}),' ',_react2.default.createElement('span',{className:'name ellipsis',title:dirent.name},dirent.name))),_react2.default.createElement('div',{className:'detail-body dirent-info'},_react2.default.createElement('div',{className:'img'},_react2.default.createElement('img',{src:bigIconUrl,width:'96',alt:''})),this.state.direntDetail&&_react2.default.createElement('div',{className:'dirent-table-container'},_react2.default.createElement(_detailListView2.default,{repoInfo:this.state.repoInfo,path:this.props.path,repoID:this.props.repoID,dirent:this.props.dirent,direntType:this.state.direntType,direntDetail:this.state.direntDetail,fileTagList:this.state.fileTagList,relatedFiles:this.state.relatedFiles,onFileTagChanged:this.onFileTagChanged,onRelatedFileChange:this.onRelatedFileChange}))));}}]);return DirentDetail;}(_react2.default.Component);DirentDetail.propTypes=propTypes;exports.default=DirentDetail;\n\n/***/ }),\n\n/***/ 298:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _editFiletagDialog=__webpack_require__(106);var _editFiletagDialog2=_interopRequireDefault(_editFiletagDialog);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _relatedFileDialogs=__webpack_require__(107);var _relatedFileDialogs2=_interopRequireDefault(_relatedFileDialogs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoInfo:_propTypes2.default.object.isRequired,repoID:_propTypes2.default.string.isRequired,dirent:_propTypes2.default.object.isRequired,direntType:_propTypes2.default.string.isRequired,direntDetail:_propTypes2.default.object.isRequired,path:_propTypes2.default.string.isRequired,fileTagList:_propTypes2.default.array.isRequired,relatedFiles:_propTypes2.default.array.isRequired,onFileTagChanged:_propTypes2.default.func.isRequired,onRelatedFileChange:_propTypes2.default.func.isRequired};var DetailListView=function(_React$Component){_inherits(DetailListView,_React$Component);function DetailListView(props){_classCallCheck(this,DetailListView);var _this=_possibleConstructorReturn(this,(DetailListView.__proto__||Object.getPrototypeOf(DetailListView)).call(this,props));_this.getDirentPostion=function(){var repoInfo=_this.props.repoInfo;var direntPath=_this.getDirentPath();var position=repoInfo.repo_name;if(direntPath!=='/'){var index=direntPath.lastIndexOf('/');var path=direntPath.slice(0,index);position=position+path;}return position;};_this.onEditFileTagToggle=function(){_this.setState({isEditFileTagShow:!_this.state.isEditFileTagShow});};_this.onFileTagChanged=function(){var direntPath=_this.getDirentPath();_this.props.onFileTagChanged(_this.props.dirent,direntPath);};_this.getDirentPath=function(){var _this$props=_this.props,dirent=_this$props.dirent,path=_this$props.path;return _utils.Utils.joinPath(path,dirent.name);};_this.onListRelatedFileToggle=function(){_this.setState({showRelatedFileDialog:true});};_this.toggleCancel=function(){_this.setState({showRelatedFileDialog:false});};_this.state={isEditFileTagShow:false,showRelatedFileDialog:false};return _this;}_createClass(DetailListView,[{key:'render',value:function render(){var _props=this.props,direntType=_props.direntType,direntDetail=_props.direntDetail,fileTagList=_props.fileTagList,relatedFiles=_props.relatedFiles;var position=this.getDirentPostion();var direntPath=this.getDirentPath();if(direntType==='dir'){return _react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'35%'}),_react2.default.createElement('th',{width:'65%'}))),_react2.default.createElement('tbody',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Location')),_react2.default.createElement('td',null,position)),_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Last Update')),_react2.default.createElement('td',null,(0,_moment2.default)(direntDetail.mtime).format('YYYY-MM-DD')))));}else{return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'35%'}),_react2.default.createElement('th',{width:'65%'}))),_react2.default.createElement('tbody',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Size')),_react2.default.createElement('td',null,_utils.Utils.bytesToSize(direntDetail.size))),_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Location')),_react2.default.createElement('td',null,position)),_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Last Update')),_react2.default.createElement('td',null,(0,_moment2.default)(direntDetail.last_modified).fromNow())),_react2.default.createElement('tr',{className:'file-tag-container'},_react2.default.createElement('th',null,(0,_constants.gettext)('Tags')),_react2.default.createElement('td',null,_react2.default.createElement('ul',{className:'file-tag-list'},fileTagList.map(function(fileTag){return _react2.default.createElement('li',{key:fileTag.id,className:'file-tag-item'},_react2.default.createElement('span',{className:'file-tag',style:{backgroundColor:fileTag.color}}),_react2.default.createElement('span',{className:'tag-name',title:fileTag.name},fileTag.name));})),_react2.default.createElement('i',{className:'fa fa-pencil-alt attr-action-icon',onClick:this.onEditFileTagToggle}))),_react2.default.createElement('tr',{className:'file-related-files'},_react2.default.createElement('th',null,(0,_constants.gettext)('Related Files')),_react2.default.createElement('td',null,_react2.default.createElement('ul',null,relatedFiles.map(function(relatedFile,index){var href=_constants.siteRoot+'lib/'+relatedFile.repo_id+'/file'+_utils.Utils.encodePath(relatedFile.path);return _react2.default.createElement('li',{key:index},_react2.default.createElement('a',{href:href,target:'_blank'},relatedFile.name));})),_react2.default.createElement('i',{className:'fa fa-pencil-alt attr-action-icon',onClick:this.onListRelatedFileToggle}))))),this.state.showRelatedFileDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_relatedFileDialogs2.default,{repoID:this.props.repoID,filePath:direntPath,relatedFiles:relatedFiles,toggleCancel:this.toggleCancel,onRelatedFileChange:this.props.onRelatedFileChange,dirent:this.props.dirent,viewMode:'list_related_file'})),this.state.isEditFileTagShow&&_react2.default.createElement(_editFiletagDialog2.default,{repoID:this.props.repoID,fileTagList:fileTagList,filePath:direntPath,toggleCancel:this.onEditFileTagToggle,onFileTagChanged:this.onFileTagChanged}));}}}]);return DetailListView;}(_react2.default.Component);DetailListView.propTypes=propTypes;exports.default=DetailListView;\n\n/***/ }),\n\n/***/ 299:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _resumablejs=__webpack_require__(524);var _resumablejs2=_interopRequireDefault(_resumablejs);var _MD=__webpack_require__(206);var _MD2=_interopRequireDefault(_MD);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _uploadProgressDialog=__webpack_require__(300);var _uploadProgressDialog2=_interopRequireDefault(_uploadProgressDialog);var _uploadRemindDialog=__webpack_require__(302);var _uploadRemindDialog2=_interopRequireDefault(_uploadRemindDialog);__webpack_require__(303);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,direntList:_propTypes2.default.array.isRequired,filetypes:_propTypes2.default.array,chunkSize:_propTypes2.default.number,withCredentials:_propTypes2.default.bool,maxFiles:_propTypes2.default.number,maxFileSize:_propTypes2.default.number,testMethod:_propTypes2.default.string,testChunks:_propTypes2.default.number,simultaneousUploads:_propTypes2.default.number,fileParameterName:_propTypes2.default.string,maxFilesErrorCallback:_propTypes2.default.func,maxFileSizeErrorCallback:_propTypes2.default.func,minFileSizeErrorCallback:_propTypes2.default.func,fileTypeErrorCallback:_propTypes2.default.func,dragAndDrop:_propTypes2.default.bool.isRequired,path:_propTypes2.default.string.isRequired,onFileUploadSuccess:_propTypes2.default.func.isRequired};var FileUploader=function(_React$Component){_inherits(FileUploader,_React$Component);function FileUploader(props){_classCallCheck(this,FileUploader);var _this=_possibleConstructorReturn(this,(FileUploader.__proto__||Object.getPrototypeOf(FileUploader)).call(this,props));_this.componentWillUnmount=function(){if(_this.props.dragAndDrop===true){_this.resumable.disableDropOnDocument();}};_this.bindCallbackHandler=function(){var _this$props=_this.props,maxFilesErrorCallback=_this$props.maxFilesErrorCallback,minFileSizeErrorCallback=_this$props.minFileSizeErrorCallback,maxFileSizeErrorCallback=_this$props.maxFileSizeErrorCallback,fileTypeErrorCallback=_this$props.fileTypeErrorCallback;if(maxFilesErrorCallback){_this.resumable.opts.maxFilesErrorCallback=_this.props.maxFilesErrorCallback;}if(minFileSizeErrorCallback){_this.resumable.opts.minFileSizeErrorCallback=_this.props.minFileSizeErrorCallback;}if(maxFileSizeErrorCallback){_this.resumable.opts.maxFileSizeErrorCallback=_this.props.maxFileSizeErrorCallback;}if(fileTypeErrorCallback){_this.resumable.opts.fileTypeErrorCallback=_this.props.fileTypeErrorCallback;}};_this.bindEventHandler=function(){_this.resumable.on('chunkingComplete',_this.onChunkingComplete.bind(_this));_this.resumable.on('fileAdded',_this.onFileAdded.bind(_this));_this.resumable.on('filesAddedComplete',_this.filesAddedComplete.bind(_this));_this.resumable.on('fileProgress',_this.onFileProgress.bind(_this));_this.resumable.on('fileSuccess',_this.onFileUploadSuccess.bind(_this));_this.resumable.on('progress',_this.onProgress.bind(_this));_this.resumable.on('complete',_this.onComplete.bind(_this));_this.resumable.on('pause',_this.onPause.bind(_this));_this.resumable.on('fileRetry',_this.onFileRetry.bind(_this));_this.resumable.on('fileError',_this.onFileError.bind(_this));_this.resumable.on('error',_this.onError.bind(_this));_this.resumable.on('beforeCancel',_this.onBeforeCancel.bind(_this));_this.resumable.on('cancel',_this.onCancel.bind(_this));_this.resumable.on('dragstart',_this.onDragStart.bind(_this));};_this.onChunkingComplete=function(file){if(file.relativePath!==file.fileName){return;// is upload a folder;\n}if(_constants.enableResumableFileUpload){var repoID=_this.props.repoID;_seafileApi.seafileAPI.getFileUploadedBytes(repoID,_this.props.path,file.fileName).then(function(res){var uploadedBytes=res.data.uploadedBytes;var offset=Math.floor(uploadedBytes/(1024*1024));file.markChunksCompleted(offset);});}};_this.onFileAdded=function(resumableFile,files){//get parent_dirrelative_path\nvar path=_this.props.path==='/'?'/':_this.props.path+'/';var fileName=resumableFile.fileName;var relativePath=resumableFile.relativePath;var isFile=fileName===relativePath;//update formdata\nresumableFile.formData={};if(isFile){resumableFile.formData={parent_dir:path};}else{var relative_path=relativePath.slice(0,relativePath.lastIndexOf('/')+1);resumableFile.formData={parent_dir:path,relative_path:relative_path};}//check repetition\n//uploading is file and only upload one file\nif(isFile&&files.length===1){var hasRepetition=false;var direntList=_this.props.direntList;for(var i=0;i<direntList.length;i++){if(direntList[i].type==='file'&&direntList[i].name===resumableFile.fileName){hasRepetition=true;break;}}if(hasRepetition){_this.setState({isUploadRemindDialogShow:true,currentResumableFile:resumableFile});}else{_this.setUploadFileList(_this.resumable.files);_this.resumable.upload();}}else{_this.setUploadFileList(_this.resumable.files);_this.resumable.upload();}};_this.filesAddedComplete=function(resumable,files){// single file uploading can check repetition, because custom dialog conn't prevent program execution;\n};_this.setUploadFileList=function(){var uploadFileList=_this.resumable.files.map(function(resumableFile){return _this.buildCustomFileObj(resumableFile);});_this.setState({isUploadProgressDialogShow:true,uploadFileList:uploadFileList});};_this.buildCustomFileObj=function(resumableFile){return{uniqueIdentifier:resumableFile.uniqueIdentifier,resumableFile:resumableFile,progress:resumableFile.progress(),isSaved:resumableFile.progress()===1?true:false// The 'isSaved' property is not saved in resumableFile.\n};};_this.onFileProgress=function(file){var uniqueIdentifier=file.uniqueIdentifier;var uploadFileList=_this.state.uploadFileList.map(function(item){if(item.uniqueIdentifier===uniqueIdentifier){item.progress=Math.round(file.progress()*100);}return item;});_this.setState({uploadFileList:uploadFileList});};_this.getBitrate=function(){var loaded=0;var uploadBitrate=0;var now=new Date().getTime();_this.resumable.files.forEach(function(file){loaded+=file.progress()*file.size;});if(_this.timestamp){var timeDiff=now-_this.timestamp;if(timeDiff<_this.bitrateInterval){return _this.state.uploadBitrate;}uploadBitrate=(loaded-_this.loaded)*(1000/timeDiff)*8;}_this.timestamp=now;_this.loaded=loaded;uploadBitrate=_utils.Utils.formatBitRate(uploadBitrate);return uploadBitrate;};_this.onProgress=function(){var progress=Math.round(_this.resumable.progress()*100);var uploadBitrate=_this.getBitrate();_this.setState({totalProgress:progress,uploadBitrate:uploadBitrate});};_this.onFileUploadSuccess=function(resumableFile,message){var formData=resumableFile.formData;var currentTime=new Date().getTime()/1000;message=formData.replace?message:JSON.parse(message)[0];if(formData.relative_path){// upload folder\nvar relative_path=formData.relative_path;var dir_name=relative_path.slice(0,relative_path.indexOf('/'));var _dirent={id:message.id,name:dir_name,type:'dir',mtime:currentTime};// update folders cache\nvar isExist=_this.notifiedFolders.some(function(item){return item.name===_dirent.name;});if(!isExist){_this.notifiedFolders.push(_dirent);_this.props.onFileUploadSuccess(_dirent);}// update uploadFileList\nvar _uploadFileList=_this.state.uploadFileList.map(function(item){if(item.resumableFile.uniqueIdentifier===resumableFile.uniqueIdentifier){item.resumableFile.fileName=message.name;item.resumableFile.relativePath=relative_path+message.name;item.isSaved=true;}return item;});_this.setState({uploadFileList:_uploadFileList});return;}if(formData.replace){// upload file -- replace exist file\nvar fileName=resumableFile.fileName;var _dirent2={id:message,name:fileName,type:'file',mtime:currentTime};_this.props.onFileUploadSuccess(_dirent2);// this contance: just one file\nvar _uploadFileList2=_this.state.uploadFileList.map(function(item){if(item.resumableFile.uniqueIdentifier===resumableFile.uniqueIdentifier){item.isSaved=true;}return item;});_this.setState({uploadFileList:_uploadFileList2});return;}// upload file -- add files\nvar dirent={id:message.id,type:'file',name:message.name,size:message.size,mtime:currentTime};_this.props.onFileUploadSuccess(dirent);// this contance:  no repetition file\nvar uploadFileList=_this.state.uploadFileList.map(function(item){if(item.resumableFile.uniqueIdentifier===resumableFile.uniqueIdentifier){item.resumableFile.fileName=message.name;item.resumableFile.relativePath=message.name;item.isSaved=true;}return item;});_this.setState({uploadFileList:uploadFileList});};_this.onFileError=function(resumableFile,message){var error='';if(!message){error=(0,_constants.gettext)('Network error');}else{error=message;}var uploadFileList=_this.state.uploadFileList.map(function(item){if(item.resumableFile.uniqueIdentifier===resumableFile.uniqueIdentifier){item.resumableFile.error=error;}return item;});_this.setState({uploadFileList:uploadFileList});};_this.onComplete=function(){_this.notifiedFolders=[];_this.setState({allFilesUploaded:true});};_this.onPause=function(){};_this.onError=function(message){};_this.onFileRetry=function(){//todos, cancel upload file, uploded again;\n};_this.onBeforeCancel=function(){//todos, giving a pop message ?\n};_this.onCancel=function(){};_this.setHeaders=function(resumableFile,resumable){if(resumableFile.formData.replace){return[];}var offset=resumable.offset;var chunkSize=resumable.getOpt('chunkSize');var fileSize=resumableFile.size;var startByte=offset!==0?offset*chunkSize:0;var endByte=Math.min(fileSize,(offset+1)*chunkSize)-1;if(fileSize-resumable.endByte<chunkSize&&!resumable.getOpt('forceChunkSize')){endByte=fileSize;}var headers={'Accept':'application/json; text/javascript, */*; q=0.01','Content-Disposition':'attachment; filename=\"'+encodeURI(resumableFile.fileName)+'\"','Content-Range':'bytes '+startByte+'-'+endByte+'/'+fileSize};return headers;};_this.setQuery=function(resumableFile){var formData=resumableFile.formData;return formData;};_this.generateUniqueIdentifier=function(file){var relativePath=file.webkitRelativePath||file.relativePath||file.fileName||file.name;return(0,_MD2.default)(relativePath+new Date())+relativePath;};_this.onClick=function(e){e.nativeEvent.stopImmediatePropagation();e.stopPropagation();};_this.onFileUpload=function(){_this.uploadInput.current.removeAttribute('webkitdirectory');_this.uploadInput.current.click();var repoID=_this.props.repoID;_seafileApi.seafileAPI.getUploadLink(repoID,_this.props.path).then(function(res){_this.resumable.opts.target=res.data;});};_this.onFolderUpload=function(){_this.uploadInput.current.setAttribute('webkitdirectory','webkitdirectory');_this.uploadInput.current.click();var repoID=_this.props.repoID;_seafileApi.seafileAPI.getUploadLink(repoID,_this.props.path).then(function(res){_this.resumable.opts.target=res.data;});};_this.onDragStart=function(){var repoID=_this.props.repoID;_this.uploadInput.current.setAttribute('webkitdirectory','webkitdirectory');_seafileApi.seafileAPI.getUploadLink(repoID,_this.props.path).then(function(res){_this.resumable.opts.target=res.data;});};_this.onCloseUploadDialog=function(){_this.resumable.files=[];_this.setState({isUploadProgressDialogShow:false,uploadFileList:[]});};_this.onUploadCancel=function(uploadingItem){var uploadFileList=_this.state.uploadFileList.filter(function(item){if(item.uniqueIdentifier===uploadingItem.uniqueIdentifier){uploadingItem.resumableFile.cancel();_this.resumable.removeFile(uploadingItem.resumableFile.file);}else{return item;}});var newUploaderFileList=uploadFileList.map(function(item){var progress=Math.round(item.resumableFile.progress()*100);item.progress=progress;return item;});_this.setState({uploadFileList:newUploaderFileList});};_this.onCancelAllUploading=function(){var uploadFileList=_this.state.uploadFileList.filter(function(item){var resumableFile=item.resumableFile;if(Math.round(resumableFile.progress()!==1)){resumableFile.cancel();_this.resumable.removeFile(resumableFile.file);}else{return item;}});_this.setState({uploadFileList:uploadFileList});};_this.onUploaderRetry=function(){};_this.replaceRepetitionFile=function(){var _this$props2=_this.props,repoID=_this$props2.repoID,path=_this$props2.path;_seafileApi.seafileAPI.getUpdateLink(repoID,path).then(function(res){_this.resumable.opts.target=res.data;var resumableFile=_this.resumable.files[_this.resumable.files.length-1];resumableFile.formData['replace']=1;resumableFile.formData['target_file']=resumableFile.formData.parent_dir+resumableFile.fileName;_this.setState({isUploadRemindDialogShow:false});_this.setUploadFileList(_this.resumable.files);_this.resumable.upload();});};_this.uploadFile=function(){var resumableFile=_this.resumable.files[_this.resumable.files.length-1];var fileObject=_this.buildCustomFileObj(resumableFile);_this.setState({isUploadRemindDialogShow:false,isUploadProgressDialogShow:true,uploadFileList:[].concat(_toConsumableArray(_this.state.uploadFileList),[fileObject])},function(){_this.resumable.upload();});};_this.cancelFileUpload=function(){_this.resumable.files.pop();//delete latest file\n_this.setState({isUploadRemindDialogShow:false});};_this.state={uploadFileList:[],totalProgress:0,isUploadProgressDialogShow:false,isUploadRemindDialogShow:false,currentResumableFile:null,uploadBitrate:'0',allFilesUploaded:false};_this.uploadInput=_react2.default.createRef();_this.notifiedFolders=[];_this.timestamp=null;_this.loaded=0;_this.bitrateInterval=500;// Interval in milliseconds to calculate the bitrate\nreturn _this;}_createClass(FileUploader,[{key:'componentDidMount',value:function componentDidMount(){this.resumable=new _resumablejs2.default({target:'',query:this.setQuery||{},fileType:this.props.filetypes,maxFiles:this.props.maxFiles,maxFileSize:this.props.maxFileSize,testMethod:this.props.testMethod||'post',testChunks:this.props.testChunks||false,headers:this.setHeaders||{},withCredentials:this.props.withCredentials||false,chunkSize:this.props.chunkSize,simultaneousUploads:this.props.simultaneousUploads||1,fileParameterName:this.props.fileParameterName,generateUniqueIdentifier:this.generateUniqueIdentifier,forceChunkSize:true,maxChunkRetries:3});this.resumable.assignBrowse(this.uploadInput.current,true);//Enable or Disable DragAnd Drop\nif(this.props.dragAndDrop===true){this.resumable.enableDropOnDocument();}this.bindCallbackHandler();this.bindEventHandler();}},{key:'render',value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'file-uploader-container'},_react2.default.createElement('div',{className:'file-uploader'},_react2.default.createElement('input',{className:'upload-input',type:'file',ref:this.uploadInput,onClick:this.onClick}))),this.state.isUploadRemindDialogShow&&_react2.default.createElement(_uploadRemindDialog2.default,{currentResumableFile:this.state.currentResumableFile,replaceRepetitionFile:this.replaceRepetitionFile,uploadFile:this.uploadFile,cancelFileUpload:this.cancelFileUpload}),this.state.isUploadProgressDialogShow&&_react2.default.createElement(_uploadProgressDialog2.default,{uploadFileList:this.state.uploadFileList,totalProgress:this.state.totalProgress,uploadBitrate:this.state.uploadBitrate,allFilesUploaded:this.state.allFilesUploaded,onCloseUploadDialog:this.onCloseUploadDialog,onCancelAllUploading:this.onCancelAllUploading,onUploadCancel:this.onUploadCancel}));}}]);return FileUploader;}(_react2.default.Component);FileUploader.propTypes=propTypes;exports.default=FileUploader;\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});exports.seafileAPI=undefined;var _reactCookies=__webpack_require__(22);var _reactCookies2=_interopRequireDefault(_reactCookies);var _seafileJs=__webpack_require__(35);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var seafileAPI=new _seafileJs.SeafileAPI();var xcsrfHeaders=_reactCookies2.default.load('sfcsrftoken');seafileAPI.initForSeahubUsage({siteRoot:_constants.siteRoot,xcsrfHeaders:xcsrfHeaders});exports.seafileAPI=seafileAPI;\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _repoInfo=__webpack_require__(31);var _repoInfo2=_interopRequireDefault(_repoInfo);var _repoListView=__webpack_require__(42);var _repoListView2=_interopRequireDefault(_repoListView);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _searchedListView=__webpack_require__(46);var _searchedListView2=_interopRequireDefault(_searchedListView);__webpack_require__(48);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isShowFile:_propTypes2.default.bool,repoID:_propTypes2.default.string,onDirentItemClick:_propTypes2.default.func,onRepoItemClick:_propTypes2.default.func,mode:_propTypes2.default.oneOf(['current_repo_and_other_repos','only_all_repos','only_current_library'])};var FileChooser=function(_React$Component){_inherits(FileChooser,_React$Component);function FileChooser(props){_classCallCheck(this,FileChooser);var _this=_possibleConstructorReturn(this,(FileChooser.__proto__||Object.getPrototypeOf(FileChooser)).call(this,props));_this.onOtherRepoToggle=function(){if(!_this.state.hasRequest){var that=_this;_seafileApi.seafileAPI.listRepos().then(function(res){// todo optimized code\nvar repos=res.data.repos;var repoList=[];var repoIdList=[];for(var i=0;i<repos.length;i++){if(repos[i].permission!=='rw'){continue;}if(that.props.repoID&&repos[i].repo_name===that.state.currentRepoInfo.repo_name){continue;}if(repoIdList.indexOf(repos[i].repo_id)>-1){continue;}repoList.push(repos[i]);repoIdList.push(repos[i].repo_id);}repoList=_utils.Utils.sortRepos(repoList,'name','asc');_this.setState({repoList:repoList,isOtherRepoShow:!_this.state.isOtherRepoShow});});}else{_this.setState({isOtherRepoShow:!_this.state.isOtherRepoShow});}};_this.onCurrentRepoToggle=function(){return[_this.setState({isCurrentRepoShow:!_this.state.isCurrentRepoShow})];};_this.onDirentItemClick=function(repo,filePath,dirent){_this.props.onDirentItemClick(repo,filePath,dirent);_this.setState({selectedRepo:repo,selectedPath:filePath});};_this.onRepoItemClick=function(repo){if(_this.props.onRepoItemClick){_this.props.onRepoItemClick(repo);}_this.setState({selectedRepo:repo,selectedPath:''});};_this.onCloseSearching=function(){_this.setState({isSearching:false,isResultGot:false,searchInfo:'',searchResults:[]});_this.inputValue='';_this.timer=null;_this.source=null;};_this.onSearchInfoChanged=function(event){var searchInfo=event.target.value.trim();_this.setState({searchInfo:searchInfo});if(_this.inputValue===searchInfo){return false;}_this.inputValue=searchInfo;if(searchInfo.length===0){_this.setState({isSearching:false,searchResults:[]});return false;}if(!_this.state.searchResults.length&&searchInfo.length>0){_this.setState({isSearching:true,isResultGot:false});}if(_this.inputValue===''||_this.getValueLength(_this.inputValue)<3){_this.setState({isResultGot:false});return false;}var repoID=_this.props.repoID;var isShowFile=_this.props.isShowFile;var mode=_this.props.mode;var searchRepo=mode==='only_current_library'?repoID:'all';var queryData={q:searchInfo,search_repo:searchRepo,search_ftypes:'all',obj_type:isShowFile?'file':'dir'};if(_this.timer){clearTimeout(_this.timer);}_this.timer=setTimeout(_this.getSearchResult(queryData),500);};_this.getSearchResult=function(queryData){if(_this.source){_this.cancelRequest();}_this.setState({isResultGot:false});_this.source=_seafileApi.seafileAPI.getSource();_this.sendRequest(queryData,_this.source.token);};_this.sendRequest=function(queryData,cancelToken){_seafileApi.seafileAPI.searchFiles(queryData,cancelToken).then(function(res){if(!res.data.total){_this.setState({searchResults:[],isResultGot:true});_this.source=null;return;}var items=_this.formatResultItems(res.data.results);_this.setState({searchResults:items,isResultGot:true});_this.source=null;}).catch(function(res){/* eslint-disable */console.log(res);/* eslint-enable */});};_this.cancelRequest=function(){_this.source.cancel('prev request is cancelled');};_this.getValueLength=function(str){var i=0,code,len=0;for(;i<str.length;i++){code=str.charCodeAt(i);if(code==10){//solve enter problem\nlen+=2;}else if(code<0x007f){len+=1;}else if(code>=0x0080&&code<=0x07ff){len+=2;}else if(code>=0x0800&&code<=0xffff){len+=3;}}return len;};_this.formatResultItems=function(data){var items=[];var length=data.length>10?10:data.length;for(var i=0;i<length;i++){items[i]={};items[i]['index']=[i];items[i]['name']=data[i].name;items[i]['path']=data[i].fullpath;items[i]['repo_id']=data[i].repo_id;items[i]['repo_name']=data[i].repo_name;items[i]['is_dir']=data[i].is_dir;items[i]['link_content']=decodeURI(data[i].fullpath).substring(1);items[i]['content']=data[i].content_highlight;}return items;};_this.onSearchedItemClick=function(item){item['type']=item.is_dir?'dir':'file';var repo=new _repoInfo2.default(item);_this.props.onDirentItemClick(repo,item.path,item);};_this.renderSearchedView=function(){if(_this.getValueLength(_this.inputValue)<3){return'';}if(!_this.state.isResultGot){return _react2.default.createElement(_loading2.default,null);}if(_this.state.isResultGot&&_this.state.searchResults.length===0){return _react2.default.createElement('div',{className:'search-result-none text-center'},(0,_constants.gettext)('No results matching.'));}if(_this.state.isResultGot&&_this.state.searchResults.length>0){return _react2.default.createElement(_searchedListView2.default,{searchResults:_this.state.searchResults,onItemClick:_this.onSearchedItemClick});}};_this.renderRepoListView=function(){return _react2.default.createElement('div',{className:'file-chooser-container'},_this.props.mode==='current_repo_and_other_repos'&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'list-view'},_react2.default.createElement('div',{className:'list-view-header'},_react2.default.createElement('span',{className:'item-toggle fa '+(_this.state.isCurrentRepoShow?'fa-caret-down':'fa-caret-right'),onClick:_this.onCurrentRepoToggle}),_react2.default.createElement('span',{className:'library'},(0,_constants.gettext)('Current Library'))),_this.state.isCurrentRepoShow&&_this.state.currentRepoInfo&&_react2.default.createElement(_repoListView2.default,{initToShowChildren:true,currentRepoInfo:_this.state.currentRepoInfo,selectedRepo:_this.state.selectedRepo,selectedPath:_this.state.selectedPath,onRepoItemClick:_this.onRepoItemClick,onDirentItemClick:_this.onDirentItemClick,isShowFile:_this.props.isShowFile})),_react2.default.createElement('div',{className:'list-view'},_react2.default.createElement('div',{className:'list-view-header'},_react2.default.createElement('span',{className:'item-toggle fa '+(_this.state.isOtherRepoShow?'fa-caret-down':'fa-caret-right'),onClick:_this.onOtherRepoToggle}),_react2.default.createElement('span',{className:'library'},(0,_constants.gettext)('Other Libraries'))),_this.state.isOtherRepoShow&&_react2.default.createElement(_repoListView2.default,{initToShowChildren:false,repoList:_this.state.repoList,selectedRepo:_this.state.selectedRepo,selectedPath:_this.state.selectedPath,onRepoItemClick:_this.onRepoItemClick,onDirentItemClick:_this.onDirentItemClick,isShowFile:_this.props.isShowFile}))),_this.props.mode==='only_current_library'&&_react2.default.createElement('div',{className:'list-view'},_react2.default.createElement('div',{className:'list-view-header'},_react2.default.createElement('span',{className:'item-toggle fa '+(_this.state.isCurrentRepoShow?'fa-caret-down':'fa-caret-right'),onClick:_this.onCurrentRepoToggle}),_react2.default.createElement('span',{className:'library'},(0,_constants.gettext)('Current Library'))),_this.state.isCurrentRepoShow&&_this.state.currentRepoInfo&&_react2.default.createElement(_repoListView2.default,{initToShowChildren:true,currentRepoInfo:_this.state.currentRepoInfo,selectedRepo:_this.state.selectedRepo,selectedPath:_this.state.selectedPath,onRepoItemClick:_this.onRepoItemClick,onDirentItemClick:_this.onDirentItemClick,isShowFile:_this.props.isShowFile})),_this.props.mode==='only_all_repos'&&_react2.default.createElement('div',{className:'file-chooser-container'},_react2.default.createElement('div',{className:'list-view'},_react2.default.createElement('div',{className:'list-view-header'},_react2.default.createElement('span',{className:'item-toggle fa fa-caret-down'}),_react2.default.createElement('span',{className:'library'},(0,_constants.gettext)('Libraries'))),_react2.default.createElement(_repoListView2.default,{initToShowChildren:false,repoList:_this.state.repoList,selectedRepo:_this.state.selectedRepo,selectedPath:_this.state.selectedPath,onRepoItemClick:_this.onRepoItemClick,onDirentItemClick:_this.onDirentItemClick,isShowFile:_this.props.isShowFile}))));};_this.state={hasRequest:false,isCurrentRepoShow:true,isOtherRepoShow:false,repoList:[],currentRepoInfo:null,selectedRepo:null,selectedPath:'',isSearching:false,isResultGot:false,searchInfo:'',searchResults:[]};_this.inputValue='';_this.timer=null;_this.source=null;return _this;}_createClass(FileChooser,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;if(this.props.repoID){// current_repo_and_other_repos, only_current_library\nvar repoID=this.props.repoID;_seafileApi.seafileAPI.getRepoInfo(repoID).then(function(res){// need to optimized\nvar repoInfo=new _repoInfo2.default(res.data);_this2.setState({currentRepoInfo:repoInfo,selectedRepo:repoInfo});_this2.props.onRepoItemClick(repoInfo);});}else{// only_all_repos\n_seafileApi.seafileAPI.listRepos().then(function(res){var repos=res.data.repos;var repoList=[];var repoIdList=[];for(var i=0;i<repos.length;i++){if(repos[i].permission!=='rw'){continue;}if(repoIdList.indexOf(repos[i].repo_id)>-1){continue;}repoList.push(repos[i]);repoIdList.push(repos[i].repo_id);}repoList=_utils.Utils.sortRepos(repoList,'name','asc');_this2.setState({repoList:repoList});});}}},{key:'render',value:function render(){var _React$createElement;if(!this.state.selectedRepo&&this.props.repoID){return'';}return _react2.default.createElement(_react.Fragment,null,_constants.isPro&&_react2.default.createElement('div',{className:'file-chooser-search-input'},_react2.default.createElement(_reactstrap.Input,(_React$createElement={className:'search-input',placeholder:(0,_constants.gettext)('Search...')},_defineProperty(_React$createElement,'className','mb-2'),_defineProperty(_React$createElement,'type','text'),_defineProperty(_React$createElement,'value',this.state.searchInfo),_defineProperty(_React$createElement,'onChange',this.onSearchInfoChanged),_React$createElement)),this.state.searchInfo.length!==0&&_react2.default.createElement('span',{className:'search-control attr-action-icon fas fa-times',onClick:this.onCloseSearching})),this.state.isSearching&&_react2.default.createElement('div',{className:'file-chooser-search-container'},this.renderSearchedView()),!this.state.isSearching&&this.renderRepoListView());}}]);return FileChooser;}(_react2.default.Component);FileChooser.propTypes=propTypes;exports.default=FileChooser;\n\n/***/ }),\n\n/***/ 300:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _uploadListItem=__webpack_require__(301);var _uploadListItem2=_interopRequireDefault(_uploadListItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={uploadBitrate:_propTypes2.default.string.isRequired,totalProgress:_propTypes2.default.number.isRequired,uploadFileList:_propTypes2.default.array.isRequired,onCloseUploadDialog:_propTypes2.default.func.isRequired,onCancelAllUploading:_propTypes2.default.func.isRequired,onUploadCancel:_propTypes2.default.func.isRequired,allFilesUploaded:_propTypes2.default.bool.isRequired};var UploadProgressDialog=function(_React$Component){_inherits(UploadProgressDialog,_React$Component);function UploadProgressDialog(props){_classCallCheck(this,UploadProgressDialog);var _this=_possibleConstructorReturn(this,(UploadProgressDialog.__proto__||Object.getPrototypeOf(UploadProgressDialog)).call(this,props));_this.onCancelAllUploading=function(){_this.props.onCancelAllUploading();};_this.onMinimizeUpload=function(e){e.nativeEvent.stopImmediatePropagation();_this.setState({isMinimized:!_this.state.isMinimized});};_this.onCloseUpload=function(e){e.nativeEvent.stopImmediatePropagation();_this.props.onCloseUploadDialog();};_this.state={isMinimized:false};return _this;}_createClass(UploadProgressDialog,[{key:'render',value:function render(){var _this2=this;var uploadedMessage=(0,_constants.gettext)('File Upload');var uploadingMessage=(0,_constants.gettext)('File Uploading...')+' '+this.props.totalProgress+'%'+' ('+this.props.uploadBitrate+')';var uploadingOptions=_react2.default.createElement('span',{className:'sf2-icon-minus',onClick:this.onMinimizeUpload});var uploadedOptions=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('span',{className:'sf2-icon-minus',onClick:this.onMinimizeUpload}),_react2.default.createElement('span',{className:'sf2-icon-x1',onClick:this.onCloseUpload}));var _props=this.props,totalProgress=_props.totalProgress,allFilesUploaded=_props.allFilesUploaded;return _react2.default.createElement('div',{className:'uploader-list-view',style:{height:this.state.isMinimized?'2.25rem':'20rem'}},_react2.default.createElement('div',{className:'uploader-list-header'},_react2.default.createElement('div',{className:'title'},totalProgress===100?uploadedMessage:uploadingMessage),_react2.default.createElement('div',{className:'uploader-options'},totalProgress===100||allFilesUploaded?uploadedOptions:uploadingOptions)),_react2.default.createElement('div',{className:'uploader-list-content'},_react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'45%'},(0,_constants.gettext)('name')),_react2.default.createElement('th',{width:'40%'},(0,_constants.gettext)('progress')),_react2.default.createElement('th',{width:'15%'},(0,_constants.gettext)('state')))),_react2.default.createElement('tbody',null,!allFilesUploaded&&_react2.default.createElement('tr',null,_react2.default.createElement('td',{className:'text-right',colSpan:3},_react2.default.createElement('span',{className:'cursor-pointer',onClick:this.onCancelAllUploading},(0,_constants.gettext)('Cancel All')))),this.props.uploadFileList.map(function(item,index){return _react2.default.createElement(_uploadListItem2.default,{key:index,item:item,onUploadCancel:_this2.props.onUploadCancel});})))));}}]);return UploadProgressDialog;}(_react2.default.Component);UploadProgressDialog.propTypes=propTypes;exports.default=UploadProgressDialog;\n\n/***/ }),\n\n/***/ 301:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={item:_propTypes2.default.object.isRequired,onUploadCancel:_propTypes2.default.func.isRequired};var UploadListItem=function(_React$Component){_inherits(UploadListItem,_React$Component);function UploadListItem(){var _ref;var _temp,_this,_ret;_classCallCheck(this,UploadListItem);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=UploadListItem.__proto__||Object.getPrototypeOf(UploadListItem)).call.apply(_ref,[this].concat(args))),_this),_this.onUploadCancel=function(e){e.preventDefault();_this.props.onUploadCancel(_this.props.item);},_this.formatFileSize=function(size){if(typeof size!=='number'){return'';}if(size>=1000*1000*1000){return(size/(1000*1000*1000)).toFixed(1)+' G';}if(size>=1000*1000){return(size/(1000*1000)).toFixed(1)+' M';}if(size>=1000){return(size/1000).toFixed(1)+' K';}return size.toFixed(1)+' B';},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(UploadListItem,[{key:'render',value:function render(){var item=this.props.item;var progress=Math.round(item.resumableFile.progress()*100);var error=item.resumableFile.error;return _react2.default.createElement('tr',{className:'file-upload-item'},_react2.default.createElement('td',{className:'upload-name'},_react2.default.createElement('div',{className:'ellipsis'},item.resumableFile.relativePath),_react2.default.createElement('div',{className:'message err-message ml-0'},error)),_react2.default.createElement('td',{className:'upload-progress'},_react2.default.createElement('span',{className:'file-size'},this.formatFileSize(item.resumableFile.size)),!item.resumableFile.error&&progress!==100&&_react2.default.createElement('div',{className:'progress'},_react2.default.createElement('div',{className:'progress-bar',role:'progressbar',style:{width:progress+'%'},'aria-valuenow':progress,'aria-valuemin':'0','aria-valuemax':'100'}))),_react2.default.createElement('td',{className:'upload-operation'},!item.resumableFile.error&&_react2.default.createElement(_react.Fragment,null,!item.isSaved&&progress!==100&&_react2.default.createElement('a',{href:'#',onClick:this.onUploadCancel},(0,_constants.gettext)('cancel')),!item.isSaved&&progress===100&&_react2.default.createElement('span',{className:'saving'},(0,_constants.gettext)('saving...')),item.isSaved&&_react2.default.createElement('span',{className:'uploaded'},(0,_constants.gettext)('uploaded')))));}}]);return UploadListItem;}(_react2.default.Component);UploadListItem.propTypes=propTypes;exports.default=UploadListItem;\n\n/***/ }),\n\n/***/ 302:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentResumableFile:_propTypes2.default.object.isRequired,replaceRepetitionFile:_propTypes2.default.func.isRequired,uploadFile:_propTypes2.default.func.isRequired,cancelFileUpload:_propTypes2.default.func.isRequired};var UploadRemindDialog=function(_React$Component){_inherits(UploadRemindDialog,_React$Component);function UploadRemindDialog(){var _ref;var _temp,_this,_ret;_classCallCheck(this,UploadRemindDialog);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=UploadRemindDialog.__proto__||Object.getPrototypeOf(UploadRemindDialog)).call.apply(_ref,[this].concat(args))),_this),_this.toggle=function(e){e.nativeEvent.stopImmediatePropagation();_this.props.cancelFileUpload();},_this.replaceRepetitionFile=function(e){e.nativeEvent.stopImmediatePropagation();_this.props.replaceRepetitionFile();},_this.uploadFile=function(e){e.nativeEvent.stopImmediatePropagation();_this.props.uploadFile();},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(UploadRemindDialog,[{key:'render',value:function render(){var title=(0,_constants.gettext)('Replace file {filename}?');title=title.replace('{filename}','<span class=\"a-simaulte\">'+this.props.currentResumableFile.fileName+'</span>');return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},_react2.default.createElement('div',{dangerouslySetInnerHTML:{__html:title}})),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('p',null,(0,_constants.gettext)('A file with the same name already exists in this folder.')),_react2.default.createElement('p',null,(0,_constants.gettext)('Replacing it will overwrite its content.'))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{outline:true,color:'primary',onClick:this.replaceRepetitionFile},(0,_constants.gettext)('Replace')),_react2.default.createElement(_reactstrap.Button,{outline:true,color:'info',onClick:this.uploadFile},(0,_constants.gettext)('Don\\'t replace')),_react2.default.createElement(_reactstrap.Button,{outline:true,color:'danger',onClick:this.toggle},(0,_constants.gettext)('Cancel'))));}}]);return UploadRemindDialog;}(_react2.default.Component);UploadRemindDialog.propTypes=propTypes;exports.default=UploadRemindDialog;\n\n/***/ }),\n\n/***/ 303:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 304:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _listTaggedfilesDialog=__webpack_require__(172);var _listTaggedfilesDialog2=_interopRequireDefault(_listTaggedfilesDialog);var _listRepoDraftsDialog=__webpack_require__(305);var _listRepoDraftsDialog2=_interopRequireDefault(_listRepoDraftsDialog);var _readmeDialog=__webpack_require__(307);var _readmeDialog2=_interopRequireDefault(_readmeDialog);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);__webpack_require__(308);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,currentPath:_propTypes2.default.string.isRequired,usedRepoTags:_propTypes2.default.array.isRequired,readmeMarkdown:_propTypes2.default.object,draftCounts:_propTypes2.default.number,updateUsedRepoTags:_propTypes2.default.func.isRequired};var RepoInfoBar=function(_React$Component){_inherits(RepoInfoBar,_React$Component);function RepoInfoBar(props){_classCallCheck(this,RepoInfoBar);var _this=_possibleConstructorReturn(this,(RepoInfoBar.__proto__||Object.getPrototypeOf(RepoInfoBar)).call(this,props));_this.onListTaggedFiles=function(currentTag){_this.setState({currentTag:currentTag,isListTaggedFileShow:!_this.state.isListTaggedFileShow});};_this.onCloseDialog=function(){_this.setState({isListTaggedFileShow:false});};_this.toggleDrafts=function(){_this.setState({showRepoDrafts:!_this.state.showRepoDrafts});};_this.toggleReadme=function(){_this.setState({showReadmeDialog:!_this.state.showReadmeDialog});};_this.state={currentTag:null,isListTaggedFileShow:false,showRepoDrafts:false,showReadmeDialog:false};return _this;}_createClass(RepoInfoBar,[{key:'render',value:function render(){var _this2=this;var _props=this.props,repoID=_props.repoID,currentPath=_props.currentPath,usedRepoTags=_props.usedRepoTags,readmeMarkdown=_props.readmeMarkdown;var href=readmeMarkdown!==null?_constants.siteRoot+'lib/'+repoID+'/file'+_utils.Utils.joinPath(currentPath,readmeMarkdown.name)+'?mode=edit':'';var filePath=readmeMarkdown!==null?currentPath+readmeMarkdown.name:'';return _react2.default.createElement('div',{className:'repo-info-bar'},usedRepoTags.length>0&&_react2.default.createElement('ul',{className:'used-tag-list'},usedRepoTags.map(function(usedRepoTag){return _react2.default.createElement('li',{key:usedRepoTag.id,className:'used-tag-item'},_react2.default.createElement('span',{className:'used-tag',style:{backgroundColor:usedRepoTag.color}}),_react2.default.createElement('span',{className:'used-tag-name',title:usedRepoTag.name},usedRepoTag.name),_react2.default.createElement('span',{className:'used-tag-files',onClick:_this2.onListTaggedFiles.bind(_this2,usedRepoTag)},usedRepoTag.fileCount>1?usedRepoTag.fileCount+' files':usedRepoTag.fileCount+' file'));})),_react2.default.createElement('div',{className:usedRepoTags.length>0&&readmeMarkdown?'file-info-list mt-1':'file-info-list'},readmeMarkdown!==null&&parseInt(readmeMarkdown.size)>1&&_react2.default.createElement('span',{className:'file-info',onClick:this.toggleReadme},_react2.default.createElement('span',{className:'info-icon sf2-icon-readme'}),_react2.default.createElement('span',{className:'used-tag-name'},readmeMarkdown.name)),readmeMarkdown!==null&&parseInt(readmeMarkdown.size)<2&&_react2.default.createElement('span',{className:'file-info'},_react2.default.createElement('span',{className:'info-icon sf2-icon-readme'}),_react2.default.createElement('a',{className:'used-tag-name',href:href,target:'_blank'},readmeMarkdown.name)),this.props.draftCounts>0&&_react2.default.createElement('span',{className:'file-info'},_react2.default.createElement('span',{className:'info-icon sf2-icon-drafts'}),_react2.default.createElement('span',{className:'used-tag-name'},(0,_constants.gettext)('draft')),_react2.default.createElement('span',{className:'used-tag-files',onClick:this.toggleDrafts},this.props.draftCounts>1?this.props.draftCounts+' files':this.props.draftCounts+' file'))),this.state.isListTaggedFileShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_listTaggedfilesDialog2.default,{repoID:repoID,currentTag:this.state.currentTag,onClose:this.onCloseDialog,toggleCancel:this.onListTaggedFiles,updateUsedRepoTags:this.props.updateUsedRepoTags})),this.state.showRepoDrafts&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_listRepoDraftsDialog2.default,{toggle:this.toggleDrafts,repoID:this.props.repoID})),this.state.showReadmeDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_readmeDialog2.default,{toggleCancel:this.toggleReadme,repoID:repoID,filePath:filePath,href:href,fileName:readmeMarkdown.name})));}}]);return RepoInfoBar;}(_react2.default.Component);RepoInfoBar.propTypes=propTypes;exports.default=RepoInfoBar;\n\n/***/ }),\n\n/***/ 305:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _utils=__webpack_require__(4);var _draft=__webpack_require__(306);var _draft2=_interopRequireDefault(_draft);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,toggle:_propTypes2.default.func.isRequired};var ListRepoDraftsDialog=function(_React$Component){_inherits(ListRepoDraftsDialog,_React$Component);function ListRepoDraftsDialog(props){_classCallCheck(this,ListRepoDraftsDialog);var _this=_possibleConstructorReturn(this,(ListRepoDraftsDialog.__proto__||Object.getPrototypeOf(ListRepoDraftsDialog)).call(this,props));_this.toggle=function(){_this.props.toggle();};_this.state={drafts:[]};return _this;}_createClass(ListRepoDraftsDialog,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.listRepoDrafts(this.props.repoID).then(function(res){var drafts=res.data.drafts.map(function(item){var draft=new _draft2.default(item);return draft;});_this2.setState({drafts:drafts});});}},{key:'render',value:function render(){var drafts=this.state.drafts;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Drafts')),_react2.default.createElement(_reactstrap.ModalBody,{className:'dialog-list-container'},_react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'50%',className:'ellipsis'},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{width:'25%'},(0,_constants.gettext)('Owner')),_react2.default.createElement('th',{width:'25%'},(0,_constants.gettext)('Last Update')))),_react2.default.createElement('tbody',null,this.state.drafts.map(function(draft){var href=_constants.siteRoot+'drafts/'+draft.id+'/';return _react2.default.createElement('tr',{key:draft.id},_react2.default.createElement('td',{className:'name'},_react2.default.createElement('a',{href:href,target:'_blank'},_utils.Utils.getFileName(draft.draftFilePath))),_react2.default.createElement('td',null,draft.ownerNickname),_react2.default.createElement('td',null,(0,_moment2.default)(draft.createdStr).fromNow()));})))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Close'))));}}]);return ListRepoDraftsDialog;}(_react2.default.Component);ListRepoDraftsDialog.propTypes=propTypes;exports.default=ListRepoDraftsDialog;\n\n/***/ }),\n\n/***/ 306:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Draft=function Draft(item){_classCallCheck(this,Draft);this.created=item.created_at;this.createdStr=(0,_moment2.default)(new Date(item.created_at).getTime()).format('YYYY-MM-DD HH:mm');this.id=item.id;this.ownerNickname=item.owner_nickname;this.originRepoID=item.origin_repo_id;this.draftFilePath=item.draft_file_path;};exports.default=Draft;\n\n/***/ }),\n\n/***/ 307:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _markdownViewer=__webpack_require__(115);var _markdownViewer2=_interopRequireDefault(_markdownViewer);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,filePath:_propTypes2.default.string.isRequired,fileName:_propTypes2.default.string.isRequired,href:_propTypes2.default.string,toggleCancel:_propTypes2.default.func.isRequired};var ReadmeDialog=function(_React$Component){_inherits(ReadmeDialog,_React$Component);function ReadmeDialog(props){_classCallCheck(this,ReadmeDialog);var _this=_possibleConstructorReturn(this,(ReadmeDialog.__proto__||Object.getPrototypeOf(ReadmeDialog)).call(this,props));_this.state={readmeContent:null,isLoading:true};return _this;}_createClass(ReadmeDialog,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.getFileDownloadLink(this.props.repoID,this.props.filePath).then(function(res){_seafileApi.seafileAPI.getFileContent(res.data).then(function(res){_this2.setState({readmeContent:res.data,isLoading:false});});});}},{key:'render',value:function render(){return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.props.toggleCancel,className:'readme-dialog',size:'lg'},_react2.default.createElement(_reactstrap.ModalHeader,null,this.props.fileName,_react2.default.createElement('a',{className:'readme-dialog-edit',href:this.props.href,target:'_blank'},_react2.default.createElement('i',{className:'fa fa-pencil-alt'}))),_react2.default.createElement(_reactstrap.ModalBody,null,this.state.isLoading?_react2.default.createElement(_loading2.default,null):_react2.default.createElement(_markdownViewer2.default,{markdownContent:this.state.readmeContent,showTOC:false})),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.props.toggleCancel},(0,_constants.gettext)('Close'))));}}]);return ReadmeDialog;}(_react2.default.Component);ReadmeDialog.propTypes=propTypes;exports.default=ReadmeDialog;\n\n/***/ }),\n\n/***/ 308:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 309:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);__webpack_require__(310);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,onLibDecryptDialog:_propTypes2.default.func.isRequired};var LibDecryptDialog=function(_React$Component){_inherits(LibDecryptDialog,_React$Component);function LibDecryptDialog(props){_classCallCheck(this,LibDecryptDialog);var _this=_possibleConstructorReturn(this,(LibDecryptDialog.__proto__||Object.getPrototypeOf(LibDecryptDialog)).call(this,props));_this.handleSubmit=function(e){var repoID=_this.props.repoID;var password=_this.state.password;_seafileApi.seafileAPI.setRepoDecryptPassword(repoID,password).then(function(res){_this.props.onLibDecryptDialog();}).catch(function(res){_this.setState({showError:true});});e.preventDefault();};_this.handleKeyPress=function(e){if(e.key=='Enter'){_this.handleSubmit(e);}};_this.handleChange=function(e){_this.setState({password:e.target.value,showError:false});};_this.toggle=function(){window.location.href=_constants.siteRoot;};_this.state={password:'',showError:false};return _this;}_createClass(LibDecryptDialog,[{key:'render',value:function render(){return _react2.default.createElement(_reactstrap.Modal,{isOpen:true},_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('button',{type:'button',className:'close',onClick:this.toggle},_react2.default.createElement('span',{'aria-hidden':'true'},'\\xD7')),_react2.default.createElement(_reactstrap.Form,{className:'lib-decrypt-form text-center'},_react2.default.createElement('img',{src:_constants.mediaUrl+'img/lock.png',alt:'','aria-hidden':'true'}),_react2.default.createElement('p',{className:'intro'},(0,_constants.gettext)('This library is password protected')),this.state.showError&&_react2.default.createElement('p',{className:'error'},(0,_constants.gettext)('Wrong password')),_react2.default.createElement('input',{type:'password',name:'password',className:'form-control password-input',autoComplete:'off',onKeyPress:this.handleKeyPress,placeholder:(0,_constants.gettext)('Password'),onChange:this.handleChange}),_react2.default.createElement('button',{type:'submit',className:'btn btn-primary submit',onClick:this.handleSubmit},(0,_constants.gettext)('Submit')),_react2.default.createElement('p',{className:'tip'},'* ',(0,_constants.gettext)('The password will be kept in the server for only 1 hour.')))));}}]);return LibDecryptDialog;}(_react2.default.Component);LibDecryptDialog.propTypes=propTypes;exports.default=LibDecryptDialog;\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _utils=__webpack_require__(4);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var RepoInfo=function RepoInfo(object){_classCallCheck(this,RepoInfo);this.repo_id=object.repo_id;this.repo_name=object.repo_name;this.permission=object.permission;this.size=_utils.Utils.bytesToSize(object.size);this.file_count=object.file_count;this.owner_name=object.owner_name;this.owner_email=object.owner_email;this.owner_contact_email=object.owner_contact_email;// is repo shared admin; \n// is repo shared admin && is one of current ordinary group's admins; \n// is one of current group owned group's admins;\nthis.is_admin=object.is_admin;this.is_virtual=object.is_virtual;this.no_quota=object.no_quota;this.has_been_shared_out=object.has_been_shared_out;this.encrypted=object.encrypted;this.lib_need_decrypt=object.lib_need_decrypt;};exports.default=RepoInfo;\n\n/***/ }),\n\n/***/ 310:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 312:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Group=function Group(object){_classCallCheck(this,Group);this.id=object.id;this.name=object.name;this.owner=object.owner;this.admins=object.admins||[];this.avatar_url=object.avatar_url;this.created_at=object.created_at;this.parent_group_id=object.parent_group_id;this.wiki_enabled=object.wiki_enabled;this.repos=object.repos||[];};exports.default=Group;\n\n/***/ }),\n\n/***/ 313:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={libraryType:_propTypes2.default.string.isRequired,onCreateRepo:_propTypes2.default.func.isRequired,onCreateToggle:_propTypes2.default.func.isRequired};var CreateRepoDialog=function(_React$Component){_inherits(CreateRepoDialog,_React$Component);function CreateRepoDialog(props){_classCallCheck(this,CreateRepoDialog);var _this=_possibleConstructorReturn(this,(CreateRepoDialog.__proto__||Object.getPrototypeOf(CreateRepoDialog)).call(this,props));_this.handleRepoNameChange=function(e){_this.setState({repoName:e.target.value});};_this.handlePassword1Change=function(e){_this.setState({password1:e.target.value});};_this.handlePassword2Change=function(e){_this.setState({password2:e.target.value});};_this.handleSubmit=function(){var isValid=_this.validateInputParams();if(isValid){var repoName=_this.state.repoName.trim();var password=_this.state.encrypt?_this.state.password1:'';var permission=_this.state.permission;var repo=_this.createRepo(repoName,password,permission);_this.props.onCreateRepo(repo);}};_this.handleKeyPress=function(e){if(e.key==='Enter'){_this.handleSubmit();e.preventDefault();}};_this.toggle=function(){_this.props.onCreateToggle();};_this.onPermissionChange=function(e){var permission=e.target.value;_this.setState({permission:permission});};_this.onEncrypted=function(e){var isChecked=e.target.checked;_this.setState({encrypt:isChecked,disabled:!isChecked});};_this.createRepo=function(repoName,password,permission){var libraryType=_this.props.libraryType;var encrypt=password?true:false;var repo=null;if(libraryType==='mine'||libraryType==='public'){repo={id:null,name:repoName,desc:'',encrypted:encrypt,passwd:password,passwd1:password,passwd2:password,mtime:0,mtime_relative:'',owner:'-',owner_nickname:'-',permission:'rw',storage_name:'-'};}if(libraryType==='group'){repo={repo_name:repoName,password:password,permission:permission};}return repo;};_this.state={repoName:'',disabled:true,encrypt:false,password1:'',password2:'',errMessage:'',permission:'rw'};_this.newInput=_react2.default.createRef();return _this;}_createClass(CreateRepoDialog,[{key:'componentDidMount',value:function componentDidMount(){this.newInput.focus();}},{key:'validateInputParams',value:function validateInputParams(){var errMessage='';var repoName=this.state.repoName.trim();if(!repoName.length){errMessage=(0,_constants.gettext)('Name is required');this.setState({errMessage:errMessage});return false;}if(repoName.indexOf('/')>-1){errMessage=(0,_constants.gettext)('Name should not include \\'/\\'.');this.setState({errMessage:errMessage});return false;}if(this.state.encrypt){var password1=this.state.password1.trim();var password2=this.state.password2.trim();if(!password1.length){errMessage=(0,_constants.gettext)('Please enter password');this.setState({errMessage:errMessage});return false;}if(!password2.length){errMessage=(0,_constants.gettext)('Please enter the password again');this.setState({errMessage:errMessage});return false;}if(password1.length<8){errMessage=(0,_constants.gettext)('Password is too short');this.setState({errMessage:errMessage});return false;}if(password1!==password2){errMessage=(0,_constants.gettext)('Passwords don\\'t match');this.setState({errMessage:errMessage});return false;}}return true;}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('New Library')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement(_reactstrap.Form,null,_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement(_reactstrap.Label,{'for':'repoName'},(0,_constants.gettext)('Name')),_react2.default.createElement(_reactstrap.Input,{id:'repoName',onKeyPress:this.handleKeyPress,innerRef:function innerRef(input){_this2.newInput=input;},value:this.state.repoName,onChange:this.handleRepoNameChange})),this.props.libraryType==='group'&&_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement(_reactstrap.Label,{'for':'exampleSelect'},(0,_constants.gettext)('Permission')),_react2.default.createElement(_reactstrap.Input,{type:'select',name:'select',id:'exampleSelect',onChange:this.onPermissionChange,value:this.state.permission},_react2.default.createElement('option',{value:'rw'},(0,_constants.gettext)('Read-Write')),_react2.default.createElement('option',{value:'r'},(0,_constants.gettext)('Read-Only')))),_constants.enableEncryptedLibrary&&_react2.default.createElement('div',null,_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'checkbox',id:'encrypt',onChange:this.onEncrypted}),_react2.default.createElement(_reactstrap.Label,{'for':'encrypt'},(0,_constants.gettext)('Encrypt'))),_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement(_reactstrap.Label,{'for':'passwd1',className:'font-weight-bold'},(0,_constants.gettext)('Password'),' '),_react2.default.createElement('span',{className:'tip'},(0,_constants.gettext)('(at least 8 characters)')),_react2.default.createElement(_reactstrap.Input,{id:'passwd1',type:'password',disabled:this.state.disabled,value:this.state.password1,onChange:this.handlePassword1Change})),_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement(_reactstrap.Label,{'for':'passwd2',className:'font-weight-bold'},(0,_constants.gettext)('Password again')),_react2.default.createElement(_reactstrap.Input,{id:'passwd2',type:'password',disabled:this.state.disabled,value:this.state.password2,onChange:this.handlePassword2Change})))),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger'},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return CreateRepoDialog;}(_react2.default.Component);CreateRepoDialog.propTypes=propTypes;exports.default=CreateRepoDialog;\n\n/***/ }),\n\n/***/ 314:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _utils=__webpack_require__(4);var _constants=__webpack_require__(2);__webpack_require__(98);var _seafileApi=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentRepo:_propTypes2.default.object.isRequired,closeDetails:_propTypes2.default.func.isRequired};var LibDetail=function(_React$Component){_inherits(LibDetail,_React$Component);function LibDetail(props){_classCallCheck(this,LibDetail);var _this=_possibleConstructorReturn(this,(LibDetail.__proto__||Object.getPrototypeOf(LibDetail)).call(this,props));_this.getFileCounts=function(repo){_seafileApi.seafileAPI.getRepoInfo(repo.repo_id).then(function(res){_this.setState({fileCount:res.data.file_count});});};_this.state={fileCount:0};return _this;}_createClass(LibDetail,[{key:'componentDidMount',value:function componentDidMount(){var repo=this.props.currentRepo;this.getFileCounts(repo);}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(nextProps.currentRepo.repo_id!==this.props.currentRepo.repo_id){this.getFileCounts(nextProps.currentRepo);}}},{key:'render',value:function render(){var repo=this.props.currentRepo;var smallIconUrl=_utils.Utils.getLibIconUrl(repo);var bigIconUrl=_utils.Utils.getLibIconUrl(repo,true);return _react2.default.createElement('div',{className:'detail-container'},_react2.default.createElement('div',{className:'detail-header'},_react2.default.createElement('div',{className:'detail-control sf2-icon-x1',onClick:this.props.closeDetails}),_react2.default.createElement('div',{className:'detail-title dirent-title'},_react2.default.createElement('img',{src:smallIconUrl,width:'24',height:'24',alt:''}),'  ',_react2.default.createElement('span',{className:'name ellipsis',title:repo.repo_name},repo.repo_name))),_react2.default.createElement('div',{className:'detail-body dirent-info'},_react2.default.createElement('div',{className:'img'},_react2.default.createElement('img',{src:bigIconUrl,height:'96',alt:''})),_react2.default.createElement('div',{className:'dirent-table-container'},_react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'35%'}),_react2.default.createElement('th',{width:'65%'}))),_react2.default.createElement('tbody',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Files')),_react2.default.createElement('td',null,this.state.fileCount)),_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Size')),_react2.default.createElement('td',null,repo.size)),_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Last Update')),_react2.default.createElement('td',null,(0,_moment2.default)(repo.last_modified).fromNow())))))));}}]);return LibDetail;}(_react2.default.Component);LibDetail.propTypes=propTypes;exports.default=LibDetail;\n\n/***/ }),\n\n/***/ 315:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _userSelect=__webpack_require__(23);var _userSelect2=_interopRequireDefault(_userSelect);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={itemName:_propTypes2.default.string.isRequired,toggleDialog:_propTypes2.default.func.isRequired,submit:_propTypes2.default.func.isRequired};var TransferDialog=function(_React$Component){_inherits(TransferDialog,_React$Component);function TransferDialog(props){_classCallCheck(this,TransferDialog);var _this=_possibleConstructorReturn(this,(TransferDialog.__proto__||Object.getPrototypeOf(TransferDialog)).call(this,props));_this.handleSelectChange=function(option){_this.setState({selectedOption:option});_this.options=[];};_this.submit=function(){var user=_this.state.selectedOption;_this.props.submit(user);};_this.state={selectedOption:null,errorMsg:[],sharedItems:[]};_this.options=[];return _this;}_createClass(TransferDialog,[{key:'render',value:function render(){var itemName=this.props.itemName;var innerSpan='<span class=\"op-target\" title='+itemName+'>'+itemName+'</span>';var msg=(0,_constants.gettext)('Transfer Library {library_name} To');var message=msg.replace('{library_name}',innerSpan);return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,centered:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.toggleDialog},_react2.default.createElement('div',{dangerouslySetInnerHTML:{__html:message}})),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement(_userSelect2.default,{ref:'userSelect',isMulti:false,className:'reviewer-select',placeholder:(0,_constants.gettext)('Please enter 1 or more character'),onSelectChange:this.handleSelectChange})),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.props.toggleDialog},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.submit},(0,_constants.gettext)('Submit'))));}}]);return TransferDialog;}(_react2.default.Component);TransferDialog.propTypes=propTypes;exports.default=TransferDialog;\n\n/***/ }),\n\n/***/ 316:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _sharedRepoListItem=__webpack_require__(1216);var _sharedRepoListItem2=_interopRequireDefault(_sharedRepoListItem);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={libraryType:_propTypes2.default.string,currentGroup:_propTypes2.default.object,isShowTableThread:_propTypes2.default.bool,sortBy:_propTypes2.default.string,sortOrder:_propTypes2.default.string,sortItems:_propTypes2.default.func,repoList:_propTypes2.default.array.isRequired,onItemUnshare:_propTypes2.default.func.isRequired,onItemDelete:_propTypes2.default.func.isRequired,onItemDetails:_propTypes2.default.func,onItemRename:_propTypes2.default.func};var SharedRepoListView=function(_React$Component){_inherits(SharedRepoListView,_React$Component);function SharedRepoListView(props){_classCallCheck(this,SharedRepoListView);var _this=_possibleConstructorReturn(this,(SharedRepoListView.__proto__||Object.getPrototypeOf(SharedRepoListView)).call(this,props));_this.sortByName=function(e){e.preventDefault();var sortBy='name';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};_this.sortByTime=function(e){e.preventDefault();var sortBy='time';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};_this.getSortMetaData=function(){return{sortByName:_this.props.sortBy=='name',sortByTime:_this.props.sortBy=='time',sortIcon:_this.props.sortOrder=='asc'?_react2.default.createElement('span',{className:'fas fa-caret-up'}):_react2.default.createElement('span',{className:'fas fa-caret-down'})};};_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnfreezedItem=function(){_this.setState({isItemFreezed:false});};_this.onItemRename=function(repo,newName){var isDuplicated=_this.props.repoList.some(function(item){return item.name===newName;});if(isDuplicated){var errMessage=(0,_constants.gettext)('The name \"{name}\" is already taken. Please choose a different name.');errMessage=errMessage.replace('{name}',_utils.Utils.HTMLescape(newName));_toast2.default.danger(errMessage);return false;}_this.props.onItemRename(repo,newName);};_this.renderRepoListView=function(){return _react2.default.createElement(_react.Fragment,null,_this.props.repoList.map(function(repo){return _react2.default.createElement(_sharedRepoListItem2.default,{key:repo.repo_id,repo:repo,libraryType:_this.props.libraryType,currentGroup:_this.props.currentGroup,isItemFreezed:_this.state.isItemFreezed,onFreezedItem:_this.onFreezedItem,onUnfreezedItem:_this.onUnfreezedItem,onItemUnshare:_this.props.onItemUnshare,onItemDelete:_this.props.onItemDelete,onItemDetails:_this.props.onItemDetails,onItemRename:_this.props.onItemRename});}));};_this.renderPCUI=function(){var isShowTableThread=_this.props.isShowTableThread!==undefined?_this.props.isShowTableThread:true;var _this$getSortMetaData=_this.getSortMetaData(),sortByName=_this$getSortMetaData.sortByName,sortByTime=_this$getSortMetaData.sortByTime,sortIcon=_this$getSortMetaData.sortIcon;return _react2.default.createElement('table',{className:isShowTableThread?'':'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'4%'}),_react2.default.createElement('th',{width:'4%'},_react2.default.createElement('span',{className:'sr-only'},(0,_constants.gettext)('Library Type'))),_react2.default.createElement('th',{width:'36%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:_this.sortByName},(0,_constants.gettext)('Name'),' ',sortByName&&sortIcon)),_react2.default.createElement('th',{width:'12%'},_react2.default.createElement('span',{className:'sr-only'},(0,_constants.gettext)('Actions'))),_react2.default.createElement('th',{width:'14%'},(0,_constants.gettext)('Size')),_react2.default.createElement('th',{width:'14%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:_this.sortByTime},(0,_constants.gettext)('Last Update'),' ',sortByTime&&sortIcon)),_react2.default.createElement('th',{width:'16%'},(0,_constants.gettext)('Owner')))),_react2.default.createElement('tbody',null,_this.renderRepoListView()));};_this.renderMobileUI=function(){var isShowTableThread=_this.props.isShowTableThread!==undefined?_this.props.isShowTableThread:true;var _this$getSortMetaData2=_this.getSortMetaData(),sortByName=_this$getSortMetaData2.sortByName,sortByTime=_this$getSortMetaData2.sortByTime,sortIcon=_this$getSortMetaData2.sortIcon;return _react2.default.createElement('table',{className:isShowTableThread?'':'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'18%'},_react2.default.createElement('span',{className:'sr-only'},(0,_constants.gettext)('Library Type'))),_react2.default.createElement('th',{width:'68%'},(0,_constants.gettext)('Sort:'),_react2.default.createElement('a',{className:'table-sort-op',href:'#',onClick:_this.sortByName},(0,_constants.gettext)('name'),' ',sortByName&&sortIcon),_react2.default.createElement('a',{className:'table-sort-op',href:'#',onClick:_this.sortByTime},(0,_constants.gettext)('last update'),' ',sortByTime&&sortIcon)),_react2.default.createElement('th',{width:'14%'},_react2.default.createElement('span',{className:'sr-only'},(0,_constants.gettext)('Actions'))))),_react2.default.createElement('tbody',null,_this.renderRepoListView()));};_this.state={isItemFreezed:false};return _this;}_createClass(SharedRepoListView,[{key:'render',value:function render(){if(window.innerWidth>=768){return this.renderPCUI();}else{return this.renderMobileUI();}}}]);return SharedRepoListView;}(_react2.default.Component);SharedRepoListView.propTypes=propTypes;exports.default=SharedRepoListView;\n\n/***/ }),\n\n/***/ 317:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _selectEditor=__webpack_require__(32);var _selectEditor2=_interopRequireDefault(_selectEditor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isTextMode:_propTypes2.default.bool.isRequired,isEditIconShow:_propTypes2.default.bool.isRequired,roles:_propTypes2.default.array.isRequired,currentRole:_propTypes2.default.string.isRequired,onRoleChanged:_propTypes2.default.func.isRequired,toggleItemFreezed:_propTypes2.default.func};var RoleEditor=function(_React$Component){_inherits(RoleEditor,_React$Component);function RoleEditor(){var _ref;var _temp,_this,_ret;_classCallCheck(this,RoleEditor);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=RoleEditor.__proto__||Object.getPrototypeOf(RoleEditor)).call.apply(_ref,[this].concat(args))),_this),_this.translateRole=function(role){if(role==='Admin'){return(0,_constants.gettext)('Admin');}if(role==='Member'){return(0,_constants.gettext)('Member');}},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(RoleEditor,[{key:'render',value:function render(){return _react2.default.createElement(_selectEditor2.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.roles,currentOption:this.props.currentRole,onOptionChanged:this.props.onRoleChanged,translateOption:this.translateRole,toggleItemFreezed:this.props.toggleItemFreezed});}}]);return RoleEditor;}(_react2.default.Component);RoleEditor.propTypes=propTypes;exports.default=RoleEditor;\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactSelect=__webpack_require__(37);var _reactSelect2=_interopRequireDefault(_reactSelect);__webpack_require__(38);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isTextMode:_propTypes2.default.bool.isRequired,// there will be two mode. first: text and select. second: just select\nisEditIconShow:_propTypes2.default.bool.isRequired,options:_propTypes2.default.array.isRequired,currentOption:_propTypes2.default.string.isRequired,translateOption:_propTypes2.default.func.isRequired,translateExplanation:_propTypes2.default.func,onOptionChanged:_propTypes2.default.func.isRequired,toggleItemFreezed:_propTypes2.default.func};var SelectEditor=function(_React$Component){_inherits(SelectEditor,_React$Component);function SelectEditor(props){_classCallCheck(this,SelectEditor);var _this=_possibleConstructorReturn(this,(SelectEditor.__proto__||Object.getPrototypeOf(SelectEditor)).call(this,props));_this.setOptions=function(){_this.options=[];var options=_this.props.options;for(var i=0,length=options.length;i<length;i++){var option={};option.value=options[i];option.label=_react2.default.createElement('div',null,_this.props.translateOption(options[i]),_this.props.translateExplanation&&_react2.default.createElement('div',{className:'permission-editor-explanation'},_this.props.translateExplanation(options[i])));_this.options.push(option);}};_this.onEditPermission=function(e){e.nativeEvent.stopImmediatePropagation();_this.setState({isEditing:true});_this.props.toggleItemFreezed&&_this.props.toggleItemFreezed(true);};_this.onOptionChanged=function(e){var permission=e.value;if(permission!==_this.props.currentOption){_this.props.onOptionChanged(permission);}_this.setState({isEditing:false});_this.props.toggleItemFreezed&&_this.props.toggleItemFreezed(false);};_this.onSelectHandler=function(e){e.nativeEvent.stopImmediatePropagation();};_this.onHideSelect=function(){_this.setState({isEditing:false});_this.props.toggleItemFreezed&&_this.props.toggleItemFreezed(false);};_this.state={isEditing:false};_this.options=[];return _this;}_createClass(SelectEditor,[{key:'componentDidMount',value:function componentDidMount(){document.addEventListener('click',this.onHideSelect);this.setOptions();}},{key:'componentWillUnmount',value:function componentWillUnmount(){document.removeEventListener('click',this.onHideSelect);}},{key:'render',value:function render(){var _props=this.props,currentOption=_props.currentOption,isTextMode=_props.isTextMode;// scence1: isTextMode (text)editor-icon --> select\n// scence2: !isTextMode select\nreturn _react2.default.createElement('div',{className:'permission-editor',onClick:this.onSelectHandler},(!isTextMode||this.state.isEditing)&&_react2.default.createElement(_reactSelect2.default,{options:this.options,className:'permission-editor-select',classNamePrefix:'permission-editor',placeholder:this.props.translateOption(currentOption),onChange:this.onOptionChanged,captureMenuScroll:false}),isTextMode&&!this.state.isEditing&&_react2.default.createElement('div',null,this.props.translateOption(currentOption),this.props.isEditIconShow&&_react2.default.createElement('span',{title:(0,_constants.gettext)('Edit'),className:'fa fa-pencil-alt attr-action-icon',onClick:this.onEditPermission})));}}]);return SelectEditor;}(_react2.default.Component);SelectEditor.propTypes=propTypes;exports.default=SelectEditor;\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});exports.Utils=undefined;var _constants=__webpack_require__(2);var _pinyinByUnicode=__webpack_require__(13);var Utils=exports.Utils={keyCodes:{esc:27,space:32,tab:9,up:38,down:40},bytesToSize:function bytesToSize(bytes){if(typeof bytes=='undefined')return' ';if(bytes<0)return'--';var sizes=['bytes','KB','MB','GB','TB','PB'];if(bytes===0)return bytes+' '+sizes[0];var i=parseInt(Math.floor(Math.log(bytes)/Math.log(1000)),10);if(i===0)return bytes+' '+sizes[i];return(bytes/Math.pow(1000,i)).toFixed(1)+' '+sizes[i];},isHiDPI:function isHiDPI(){var pixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;if(pixelRatio>1){return true;}else{return false;}},FILEEXT_ICON_MAP:{// text file\n'md':'txt.png','txt':'txt.png',// pdf file\n'pdf':'pdf.png',// document file\n'doc':'word.png','docx':'word.png','odt':'word.png','fodt':'word.png','ppt':'ppt.png','pptx':'ppt.png','odp':'ppt.png','fodp':'ppt.png','xls':'excel.png','xlsx':'excel.png','ods':'excel.png','fods':'excel.png',// video\n'mp4':'video.png','ogv':'video.png','webm':'video.png','mov':'video.png','flv':'video.png','wmv':'video.png','rmvb':'video.png',// music file\n'mp3':'music.png','oga':'music.png','ogg':'music.png','flac':'music.png','aac':'music.png','ac3':'music.png','wma':'music.png',// image file\n'jpg':'pic.png','jpeg':'pic.png','png':'pic.png','svg':'pic.png','gif':'pic.png','bmp':'pic.png','ico':'pic.png',// default\n'default':'file.png'},// check if a file is an image\nimageCheck:function imageCheck(filename){// no file ext\nif(filename.lastIndexOf('.')==-1){return false;}var file_ext=filename.substr(filename.lastIndexOf('.')+1).toLowerCase();var image_exts=['gif','jpeg','jpg','png','ico','bmp'];if(image_exts.indexOf(file_ext)!=-1){return true;}else{return false;}},// check if a file is a video\nvideoCheck:function videoCheck(filename){// no file ext\nif(filename.lastIndexOf('.')==-1){return false;}var file_ext=filename.substr(filename.lastIndexOf('.')+1).toLowerCase();var exts=['mp4','ogv','webm','mov'];if(exts.indexOf(file_ext)!=-1){return true;}else{return false;}},encodePath:function encodePath(path){// IE8 does not support 'map()'\n/*\n       return path.split('/').map(function(e) {\n       return encodeURIComponent(e);\n       }).join('/');\n       */if(!path){return'';}var path_arr=path.split('/');var path_arr_=[];for(var i=0,len=path_arr.length;i<len;i++){path_arr_.push(encodeURIComponent(path_arr[i]));}return path_arr_.join('/');},HTMLescape:function HTMLescape(html){return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;},generateDialogTitle:function generateDialogTitle(title,operationTarget){/*\n     * @param title: gettext('...{placeholder}...')\n     */var targetStr=this.HTMLescape(operationTarget);var str='<span class=\"op-target ellipsis ellipsis-op-target\" title='+targetStr+'>'+targetStr+'</span>';return title.replace('{placeholder}',str);},getFileName:function getFileName(filePath){var lastIndex=filePath.lastIndexOf('/');return filePath.slice(lastIndex+1);},/**\n   * input: '/abc/bc/cb'\n   * output: ['/abc', '/abc/bc', '/abc/bc/cb'];\n   */getPaths:function getPaths(path){var paths=path.split('/').slice(1);var result=[];while(paths.length){result.push('/'+paths.join('/'));paths.pop();}return result.reverse();},/**\n   * input: \n   *  eg: /\n   *      ../abc/abc/\n   *      ../abc/bc\n   * output(return):\n   *  eg: /\n   *      abc\n   *      bc\n   */getFolderName:function getFolderName(path){if(path==='/'){return path;}path=path[path.length-1]!=='/'?path:path.slice(0,path.length-2);return path.slice(path.lastIndexOf('/')+1);},/*\n    return dirname of a path.\n    if path is '/', return '/'.\n  */getDirName:function getDirName(path){var dir=path.slice(0,path.lastIndexOf('/'));if(dir===''){return'/';}else{return dir;}},isChildPath:function isChildPath(child,parent){var p=this.getDirName(child);return p===parent;},isAncestorPath:function isAncestorPath(ancestor,path){return path.indexOf(ancestor)>-1;},renameAncestorPath:function renameAncestorPath(path,ancestor,newAncestor){return path.replace(ancestor,newAncestor);},joinPath:function joinPath(pathA,pathB){if(pathA[pathA.length-1]==='/'){return pathA+pathB;}else{return pathA+'/'+pathB;}},isSupportUploadFolder:function isSupportUploadFolder(){return navigator.userAgent.indexOf('Firefox')!=-1||navigator.userAgent.indexOf('Chrome')>-1;},getDefaultLibIconUrl:function getDefaultLibIconUrl(isBig){var size=Utils.isHiDPI()?48:24;size=isBig?256:size;var icon_name='lib.png';return _constants.mediaUrl+'img/lib/'+size+'/'+icon_name;},getLibIconUrl:function getLibIconUrl(repo,isBig){var permission=repo.permission||repo.share_permission;//Compatible with regular repo and repo shared\nvar size=Utils.isHiDPI()?48:24;size=isBig?256:size;var icon_name='lib.png';if(repo.encrypted){icon_name='lib-encrypted.png';}if(permission==='r'||permission==='perview'){icon_name='lib-readonly.png';}return _constants.mediaUrl+'img/lib/'+size+'/'+icon_name;},getDirentIcon:function getDirentIcon(dirent,isBig){var size=this.isHiDPI()?48:24;size=isBig?192:size;if(dirent.isDir()){var readonly=false;if(dirent.permission&&(dirent.permission==='r'||dirent.permission==='preview')){readonly=true;}return this.getFolderIconUrl(readonly,size);}else{return this.getFileIconUrl(dirent.name,size);}},getFolderIconUrl:function getFolderIconUrl(){var readonly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var size=arguments[1];if(!size){size=Utils.isHiDPI()?48:24;}size=size>24?192:24;return _constants.mediaUrl+'img/folder'+(readonly?'-read-only-':'-')+size+'.png';},getFileIconUrl:function getFileIconUrl(filename,size){if(!size){size=Utils.isHiDPI()?48:24;}size=size>24?192:24;var file_ext='';if(filename.lastIndexOf('.')==-1){return _constants.mediaUrl+'img/file/'+size+'/'+this.FILEEXT_ICON_MAP['default'];}else{file_ext=filename.substr(filename.lastIndexOf('.')+1).toLowerCase();}if(this.FILEEXT_ICON_MAP[file_ext]){return _constants.mediaUrl+'img/file/'+size+'/'+this.FILEEXT_ICON_MAP[file_ext];}else{return _constants.mediaUrl+'img/file/'+size+'/'+this.FILEEXT_ICON_MAP['default'];}},getLibIconTitle:function getLibIconTitle(repo){var title;var permission=repo.permission||repo.share_permission;//Compatible with regular repo and repo shared\nif(repo.encrypted){title=(0,_constants.gettext)('Encrypted library');}else if(repo.is_admin){// shared with 'admin' permission\ntitle=(0,_constants.gettext)('Admin access');}else{switch(permission){case'rw':title=(0,_constants.gettext)('Read-Write library');break;case'r':title=(0,_constants.gettext)('Read-Only library');break;case'cloud-edit':title=(0,_constants.gettext)('Preview-Edit-on-Cloud library');break;case'preview':title=(0,_constants.gettext)('Preview-on-Cloud library');break;}}return title;},getFolderIconTitle:function getFolderIconTitle(options){var title;switch(options.permission){case'rw':title=(0,_constants.gettext)('Read-Write folder');break;case'r':title=(0,_constants.gettext)('Read-Only folder');break;case'cloud-edit':title=(0,_constants.gettext)('Preview-Edit-on-Cloud folder');break;case'preview':title=(0,_constants.gettext)('Preview-on-Cloud folder');break;}return title;},sharePerms:function sharePerms(permission){var title;switch(permission){case'rw':title=(0,_constants.gettext)('Read-Write');break;case'r':title=(0,_constants.gettext)('Read-Only');break;case'admin':title=(0,_constants.gettext)('Admin');break;case'cloud-edit':title=(0,_constants.gettext)('Preview-Edit-on-Cloud');break;case'preview':title=(0,_constants.gettext)('Preview-on-Cloud');break;}return title;},sharePermsExplanation:function sharePermsExplanation(permission){var title;switch(permission){case'rw':title=(0,_constants.gettext)('User can read, write, upload, download and sync files.');break;case'r':title=(0,_constants.gettext)('User can read, download and sync files.');break;case'admin':title=(0,_constants.gettext)('Besides Write permission, user can also share the library.');break;case'cloud-edit':title=(0,_constants.gettext)('Same as Preview on cloud. But user can also edit files online via browser.');break;case'preview':title=(0,_constants.gettext)('User can only view files online via browser. Files can\\'t be downloaded.');break;}return title;},formatSize:function formatSize(options){/*\n     * param: {bytes, precision}\n     */var bytes=options.bytes;var precision=options.precision||0;var kilobyte=1000;var megabyte=kilobyte*1000;var gigabyte=megabyte*1000;var terabyte=gigabyte*1000;if(bytes>=0&&bytes<kilobyte){return bytes+' B';}else if(bytes>=kilobyte&&bytes<megabyte){return(bytes/kilobyte).toFixed(precision)+' KB';}else if(bytes>=megabyte&&bytes<gigabyte){return(bytes/megabyte).toFixed(precision)+' MB';}else if(bytes>=gigabyte&&bytes<terabyte){return(bytes/gigabyte).toFixed(precision)+' GB';}else if(bytes>=terabyte){return(bytes/terabyte).toFixed(precision)+' TB';}else{return bytes+' B';}},formatBitRate:function formatBitRate(bits){var Bs;if(typeof bits!=='number'){return'';}Bs=bits/8;if(Bs>=1000000000){return(Bs/1000000000).toFixed(2)+' GB/s';}if(Bs>=1000000){return(Bs/1000000).toFixed(2)+' MB/s';}if(Bs>=1000){return(Bs/1000).toFixed(2)+' kB/s';}return Bs.toFixed(2)+' B/s';},isMarkdownFile:function isMarkdownFile(filePath){var index=filePath.lastIndexOf('.');if(index===-1){return false;}else{var type=filePath.substring(index).toLowerCase();if(type==='.md'||type==='.markdown'){return true;}else{return false;}}},isInternalMarkdownLink:function isInternalMarkdownLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/lib/'+repoID+'.*\\.md$');return re.test(url);},isInternalDirLink:function isInternalDirLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/library/'+repoID+'.*');return re.test(url);},getPathFromInternalMarkdownLink:function getPathFromInternalMarkdownLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/lib/'+repoID+'/file'+'(.*\\.md)');var array=re.exec(url);var path=decodeURIComponent(array[1]);return path;},getPathFromInternalDirLink:function getPathFromInternalDirLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/library/'+repoID+'(/.*)');var array=re.exec(url);var path=decodeURIComponent(array[1]);path=path.slice(1);path=path.slice(path.indexOf('/'));return path;},isWikiInternalMarkdownLink:function isWikiInternalMarkdownLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'.*\\.md$');return re.test(url);},isWikiInternalDirLink:function isWikiInternalDirLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'.*');return re.test(url);},getPathFromWikiInternalMarkdownLink:function getPathFromWikiInternalMarkdownLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'(.*\\.md)');var array=re.exec(url);var path=array[1];try{path=decodeURIComponent(path);}catch(err){path=path.replace(/%/g,'%25');path=decodeURIComponent(path);}return path;},getPathFromWikiInternalDirLink:function getPathFromWikiInternalDirLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'(/.*)');var array=re.exec(url);var path=array[1];try{path=decodeURIComponent(path);}catch(err){path=path.replace(/%/g,'%25');path=decodeURIComponent(path);}return path;},compareTwoWord:function compareTwoWord(wordA,wordB){// compare wordA and wordB at lower case\n// if wordA >= wordB, return 1\n// if wordA < wordB, return -1\nvar a_val,b_val,a_uni=wordA.charCodeAt(0),b_uni=wordB.charCodeAt(0);if(19968<a_uni&&a_uni<40869&&19968<b_uni&&b_uni<40869){// both are chinese words\na_val=_pinyinByUnicode.strChineseFirstPY.charAt(a_uni-19968).toLowerCase();b_val=_pinyinByUnicode.strChineseFirstPY.charAt(b_uni-19968).toLowerCase();}else if(19968<a_uni&&a_uni<40869&&!(19968<b_uni&&b_uni<40869)){// a is chinese and b is english\nreturn 1;}else if(!(19968<a_uni&&a_uni<40869)&&19968<b_uni&&b_uni<40869){// a is english and b is chinese\nreturn-1;}else{// both are english words\na_val=wordA.toLowerCase();b_val=wordB.toLowerCase();return this.compareStrWithNumbersIn(a_val,b_val);}return a_val>=b_val?1:-1;},// compare two strings which may have digits in them\n// and compare those digits as number instead of string\ncompareStrWithNumbersIn:function compareStrWithNumbersIn(a,b){var reParts=/\\d+|\\D+/g;var reDigit=/\\d/;var aParts=a.match(reParts);var bParts=b.match(reParts);var isDigitPart;var len=Math.min(aParts.length,bParts.length);var aPart,bPart;if(aParts&&bParts&&(isDigitPart=reDigit.test(aParts[0]))==reDigit.test(bParts[0])){// Loop through each substring part to compare the overall strings.\nfor(var i=0;i<len;i++){aPart=aParts[i];bPart=bParts[i];if(isDigitPart){aPart=parseInt(aPart,10);bPart=parseInt(bPart,10);}if(aPart!=bPart){return aPart<bPart?-1:1;}// Toggle the value of isDigitPart since the parts will alternate.\nisDigitPart=!isDigitPart;}}// Use normal comparison.\nreturn(a>=b)-(a<=b);},sortRepos:function sortRepos(repos,sortBy,sortOrder){var _this=this;var comparator=void 0;switch(sortBy+'-'+sortOrder){case'name-asc':comparator=function comparator(a,b){if(!a.repo_name){return 1;}if(!b.repo_name){return-1;}var result=_this.compareTwoWord(a.repo_name,b.repo_name);return result;};break;case'name-desc':comparator=function comparator(a,b){if(!a.repo_name){return-1;}if(!b.repo_name){return 1;}var result=_this.compareTwoWord(a.repo_name,b.repo_name);return-result;};break;case'time-asc':comparator=function comparator(a,b){return a.last_modified<b.last_modified?-1:1;};break;case'time-desc':comparator=function comparator(a,b){return a.last_modified<b.last_modified?1:-1;};break;}repos.sort(comparator);return repos;},sortDirents:function sortDirents(items,sortBy,sortOrder){var _this=this;var comparator=void 0;switch(sortBy+'-'+sortOrder){case'name-asc':comparator=function comparator(a,b){var result=_this.compareTwoWord(a.name,b.name);return result;};break;case'name-desc':comparator=function comparator(a,b){var result=_this.compareTwoWord(a.name,b.name);return-result;};break;case'time-asc':comparator=function comparator(a,b){return a.mtime<b.mtime?-1:1;};break;case'time-desc':comparator=function comparator(a,b){return a.mtime<b.mtime?1:-1;};break;}items.sort(function(a,b){if(a.type=='dir'&&b.type=='file'){return-1;}else if(a.type=='file'&&b.type=='dir'){return 1;}else{return comparator(a,b);}});return items;},changeMarkdownNodes:function changeMarkdownNodes(nodes,fn){nodes.map(function(item){fn(item);if(item.nodes&&item.nodes.length>0){Utils.changeMarkdownNodes(item.nodes,fn);}});return nodes;},chooseLanguage:function chooseLanguage(suffix){var mode=void 0;switch(suffix){case'py':mode='python';break;case'js':mode='javascript';break;case'c':mode='text/x-csrc';break;case'cpp':mode='text/x-c++src';break;case'java':mode='text/x-java';break;case'cs':mode='text/x-csharp';break;case'mdf':mode='text/x-sql';break;case'html':mode='htmlmixed';break;default:mode=suffix;}return mode;},DARK_COLOR_MAP:{// old color\n'red':'#D11507','orange':'#FF8C00','yellow':'#EDEF00','green':'#006400','cyan':'#00E0E1','blue':'#2510A3','indigo':'#350C56','purple':'#551054','pink':'#E3A5B0','azure':'#C4D0D0','lime':'#00E100','teal':'#006A6B','gray':'#545454',// new color\n'#FFA8A8':'#E49090','#FFA94D':'#E39136','#FFD43B':'#E0B815','#A0EC50':'#83CF32','#A9E34B':'#8DC72E','#63E6BE':'#43CAA4','#4FD2C9':'#2DB9B0','#72C3FC':'#57ABE3','#91A7FF':'#7A91E7','#E599F7':'#CC82DE','#B197FC':'#9B82E5','#F783AC':'#DF6D97','#CED4DA':'#A8ADB2'},getDarkColor:function getDarkColor(color){var darkColor=void 0;darkColor=this.DARK_COLOR_MAP[color];return darkColor;}};\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var SharedLinkInfo=function SharedLinkInfo(object){_classCallCheck(this,SharedLinkInfo);this.repo_id=object.repo_id;this.repo_name=object.repo_name;this.path=object.path;this.obj_name=object.obj_name;this.is_dir=object.is_dir;this.permissions=object.permissions;this.username=object.username;this.is_expired=object.is_expired;this.expire_date=object.expire_date;this.token=object.token;this.link=object.link;this.view_cnt=object.view_cnt;this.ctime=object.ctime;};exports.default=SharedLinkInfo;\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var SharedUploadInfo=function SharedUploadInfo(object){_classCallCheck(this,SharedUploadInfo);this.repo_id=object.repo_id;this.repo_name=object.repo_name;this.path=object.path;this.link=object.link;this.obj_name=object.obj_name;this.username=object.username;this.ctime=object.ctime;this.token=object.token;this.view_cnt=object.view_cnt;};exports.default=SharedUploadInfo;\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _repoListItem=__webpack_require__(43);var _repoListItem2=_interopRequireDefault(_repoListItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentRepoInfo:_propTypes2.default.object,isShowFile:_propTypes2.default.bool,repo:_propTypes2.default.object,repoList:_propTypes2.default.array,selectedRepo:_propTypes2.default.object,initToShowChildren:_propTypes2.default.bool.isRequired,selectedPath:_propTypes2.default.string,onDirentItemClick:_propTypes2.default.func.isRequired,onRepoItemClick:_propTypes2.default.func.isRequired};var RepoListView=function(_React$Component){_inherits(RepoListView,_React$Component);function RepoListView(){_classCallCheck(this,RepoListView);return _possibleConstructorReturn(this,(RepoListView.__proto__||Object.getPrototypeOf(RepoListView)).apply(this,arguments));}_createClass(RepoListView,[{key:'render',value:function render(){var _this2=this;var _props=this.props,currentRepoInfo=_props.currentRepoInfo,repoList=_props.repoList;if(currentRepoInfo){repoList=[];repoList.push(currentRepoInfo);}return _react2.default.createElement('ul',{className:'list-view-content file-chooser-item'},repoList.length>0&&repoList.map(function(repoItem,index){return _react2.default.createElement(_repoListItem2.default,{key:index,repo:repoItem,initToShowChildren:_this2.props.initToShowChildren,selectedRepo:_this2.props.selectedRepo,selectedPath:_this2.props.selectedPath,onRepoItemClick:_this2.props.onRepoItemClick,onDirentItemClick:_this2.props.onDirentItemClick,isShowFile:_this2.props.isShowFile});}));}}]);return RepoListView;}(_react2.default.Component);RepoListView.propTypes=propTypes;exports.default=RepoListView;\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _direntListView=__webpack_require__(44);var _direntListView2=_interopRequireDefault(_direntListView);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isShowFile:_propTypes2.default.bool,selectedPath:_propTypes2.default.string,selectedRepo:_propTypes2.default.object,repo:_propTypes2.default.object.isRequired,initToShowChildren:_propTypes2.default.bool.isRequired,onDirentItemClick:_propTypes2.default.func.isRequired,onRepoItemClick:_propTypes2.default.func.isRequired};var RepoListItem=function(_React$Component){_inherits(RepoListItem,_React$Component);function RepoListItem(props){_classCallCheck(this,RepoListItem);var _this=_possibleConstructorReturn(this,(RepoListItem.__proto__||Object.getPrototypeOf(RepoListItem)).call(this,props));_this.onToggleClick=function(){_this.setState({isShowChildren:!_this.state.isShowChildren});};_this.onDirentItemClick=function(filePath,dirent){var repo=_this.props.repo;_this.props.onDirentItemClick(repo,filePath,dirent);};_this.onRepoItemClick=function(){if(!_this.isCurrentRepo()){_this.props.onRepoItemClick(_this.props.repo);}else{_this.onToggleClick();}};_this.isCurrentRepo=function(){var _this$props=_this.props,selectedRepo=_this$props.selectedRepo,repo=_this$props.repo;return selectedRepo&&repo.repo_id===selectedRepo.repo_id;};_this.state={isShowChildren:_this.props.initToShowChildren};return _this;}_createClass(RepoListItem,[{key:'render',value:function render(){var repoActive=false;var isCurrentRepo=this.isCurrentRepo();if(isCurrentRepo&&!this.props.selectedPath){repoActive=true;}return _react2.default.createElement('li',{className:'file-chooser-item'},_react2.default.createElement('span',{className:'item-toggle fa '+(this.state.isShowChildren?'fa-caret-down':'fa-caret-right'),onClick:this.onToggleClick}),_react2.default.createElement('span',{className:'item-info '+(repoActive?'item-active':''),onClick:this.onRepoItemClick},_react2.default.createElement('span',{className:'icon far fa-folder'}),_react2.default.createElement('span',{className:'name user-select-none ellipsis'},this.props.repo.repo_name)),this.state.isShowChildren&&_react2.default.createElement(_direntListView2.default,{repo:this.props.repo,isShowChildren:this.state.isShowChildren,onDirentItemClick:this.onDirentItemClick,selectedRepo:this.props.selectedRepo,selectedPath:this.props.selectedPath,isShowFile:this.props.isShowFile}));}}]);return RepoListItem;}(_react2.default.Component);RepoListItem.propTypes=propTypes;exports.default=RepoListItem;\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _seafileApi=__webpack_require__(3);var _dirent2=__webpack_require__(14);var _dirent3=_interopRequireDefault(_dirent2);var _direntListItem=__webpack_require__(45);var _direntListItem2=_interopRequireDefault(_direntListItem);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isShowFile:_propTypes2.default.bool,selectedPath:_propTypes2.default.string,selectedRepo:_propTypes2.default.object,repo:_propTypes2.default.object.isRequired,isShowChildren:_propTypes2.default.bool.isRequired,onDirentItemClick:_propTypes2.default.func.isRequired};var DirentListView=function(_React$Component){_inherits(DirentListView,_React$Component);function DirentListView(props){_classCallCheck(this,DirentListView);var _this=_possibleConstructorReturn(this,(DirentListView.__proto__||Object.getPrototypeOf(DirentListView)).call(this,props));_this.state={direntList:[]};return _this;}_createClass(DirentListView,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;var repo=this.props.repo;_seafileApi.seafileAPI.listDir(repo.repo_id,'/').then(function(res){var direntList=[];res.data.dirent_list.forEach(function(item){if(_this2.props.isShowFile===true){var dirent=new _dirent3.default(item);direntList.push(dirent);}else{if(item.type==='dir'){var _dirent=new _dirent3.default(item);direntList.push(_dirent);}}});direntList=_utils.Utils.sortDirents(direntList,'name','asc');_this2.setState({direntList:direntList});});}},{key:'render',value:function render(){var _this3=this;var direntList=this.state.direntList;return _react2.default.createElement('ul',{className:'list-view-content '+(this.props.isShowChildren?'':'hide')},direntList.map(function(dirent,index){return _react2.default.createElement(_direntListItem2.default,{key:index,repo:_this3.props.repo,dirent:dirent,selectedRepo:_this3.props.selectedRepo,onDirentItemClick:_this3.props.onDirentItemClick,selectedPath:_this3.props.selectedPath,isShowFile:_this3.props.isShowFile});}));}}]);return DirentListView;}(_react2.default.Component);DirentListView.propTypes=propTypes;exports.default=DirentListView;\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _seafileApi=__webpack_require__(3);var _dirent2=__webpack_require__(14);var _dirent3=_interopRequireDefault(_dirent2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isShowFile:_propTypes2.default.bool,filePath:_propTypes2.default.string,selectedPath:_propTypes2.default.string,selectedRepo:_propTypes2.default.object,dirent:_propTypes2.default.object.isRequired,repo:_propTypes2.default.object.isRequired,onDirentItemClick:_propTypes2.default.func.isRequired};var DirentListItem=function(_React$Component){_inherits(DirentListItem,_React$Component);function DirentListItem(props){_classCallCheck(this,DirentListItem);var _this=_possibleConstructorReturn(this,(DirentListItem.__proto__||Object.getPrototypeOf(DirentListItem)).call(this,props));_this.onItemClick=function(e){e.stopPropagation();// need prevent event popup\nvar isCurrentRepo=_this.props.selectedRepo.repo_id===_this.props.repo.repo_id;if(isCurrentRepo){if(_this.props.selectedPath!==_this.state.filePath){_this.props.onDirentItemClick(_this.state.filePath,_this.props.dirent);}else{if(_this.props.dirent.type==='dir'){_this.onToggleClick(e);}}}else{_this.props.onDirentItemClick(_this.state.filePath,_this.props.dirent);}};_this.onToggleClick=function(e){e.stopPropagation();// need prevent event popup\nif(!_this.state.hasRequest){_seafileApi.seafileAPI.listDir(_this.props.repo.repo_id,_this.state.filePath).then(function(res){var direntList=[];res.data.dirent_list.forEach(function(item){if(_this.props.isShowFile===true){// show dir and file\nvar dirent=new _dirent3.default(item);direntList.push(dirent);}else{// just show dir\nif(item.type==='dir'){var _dirent=new _dirent3.default(item);direntList.push(_dirent);}}});direntList=_utils.Utils.sortDirents(direntList,'name','asc');_this.setState({hasRequest:true,direntList:direntList});if(res.data.length===0||direntList.length===0){_this.setState({hasChildren:false});}});}_this.setState({isShowChildren:!_this.state.isShowChildren});};_this.renderChildren=function(){return _react2.default.createElement('ul',{className:'list-view-content'},_this.state.direntList.map(function(dirent,index){return _react2.default.createElement(DirentListItem,{key:index,dirent:dirent,repo:_this.props.repo,filePath:_this.state.filePath,onItemClick:_this.onItemClick,selectedPath:_this.props.selectedPath,selectedRepo:_this.props.selectedRepo,onDirentItemClick:_this.props.onDirentItemClick,isShowFile:_this.props.isShowFile});}));};var filePath=_this.props.filePath?_this.props.filePath+'/'+_this.props.dirent.name:'/'+_this.props.dirent.name;_this.state={isShowChildren:false,hasRequest:false,hasChildren:true,filePath:filePath,direntList:[]};return _this;}_createClass(DirentListItem,[{key:'render',value:function render(){var isCurrentRepo=this.props.selectedRepo.repo_id===this.props.repo.repo_id;var isCurrentPath=this.props.selectedPath===this.state.filePath;return _react2.default.createElement('li',{className:'file-chooser-item'},this.state.hasChildren&&this.props.dirent.type!=='file'&&_react2.default.createElement('span',{className:'item-toggle fa '+(this.state.isShowChildren?'fa-caret-down':'fa-caret-right'),onClick:this.onToggleClick}),_react2.default.createElement('span',{className:'item-info '+(isCurrentRepo&&isCurrentPath?'item-active':''),onClick:this.onItemClick},_react2.default.createElement('span',{className:'icon far '+(this.props.dirent.type==='dir'?'fa-folder':'fa-file')}),_react2.default.createElement('span',{className:'name user-select-none ellipsis'},this.props.dirent&&this.props.dirent.name)),this.state.isShowChildren&&this.renderChildren());}}]);return DirentListItem;}(_react2.default.Component);DirentListItem.propTypes=propTypes;exports.default=DirentListItem;\n\n/***/ }),\n\n/***/ 46:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _searchedListItem=__webpack_require__(47);var _searchedListItem2=_interopRequireDefault(_searchedListItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={searchResults:_propTypes2.default.array.isRequired,onItemClick:_propTypes2.default.func.isRequired};var SearchedListView=function(_React$Component){_inherits(SearchedListView,_React$Component);function SearchedListView(props){_classCallCheck(this,SearchedListView);var _this=_possibleConstructorReturn(this,(SearchedListView.__proto__||Object.getPrototypeOf(SearchedListView)).call(this,props));_this.onItemClick=function(item){_this.setState({currentItem:item});_this.props.onItemClick(item);};_this.state={currentItem:null};return _this;}_createClass(SearchedListView,[{key:'render',value:function render(){var _this2=this;return _react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'8%'}),_react2.default.createElement('th',{width:'92%'}))),_react2.default.createElement('tbody',null,this.props.searchResults.map(function(item,index){return _react2.default.createElement(_searchedListItem2.default,{key:index,item:item,currentItem:_this2.state.currentItem,onItemClick:_this2.onItemClick});})));}}]);return SearchedListView;}(_react2.default.Component);SearchedListView.propTypes=propTypes;exports.default=SearchedListView;\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentItem:_propTypes2.default.object,onItemClick:_propTypes2.default.func.isRequired};var SearchedListItem=function(_React$Component){_inherits(SearchedListItem,_React$Component);function SearchedListItem(props){_classCallCheck(this,SearchedListItem);var _this=_possibleConstructorReturn(this,(SearchedListItem.__proto__||Object.getPrototypeOf(SearchedListItem)).call(this,props));_this.onMouseEnter=function(){_this.setState({highlight:true});};_this.onMouseLeave=function(){_this.setState({highlight:false});};_this.onClick=function(){var item=_this.props.item;_this.props.onItemClick(item);};_this.state={highlight:false};return _this;}_createClass(SearchedListItem,[{key:'render',value:function render(){var _props=this.props,item=_props.item,currentItem=_props.currentItem;var fileIconUrl=item.is_dir?_utils.Utils.getFolderIconUrl(false,192):_utils.Utils.getFileIconUrl(item.name,192);var trClass=this.state.highlight?'tr-highlight':'';if(currentItem){if(item.repo_id===currentItem.repo_id&&item.path===currentItem.path){trClass='searched-active';}}return _react2.default.createElement('tr',{className:trClass,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{className:'text-center'},_react2.default.createElement('img',{className:'item-img',src:fileIconUrl,alt:'',width:'24'})),_react2.default.createElement('td',null,_react2.default.createElement('span',{className:'item-link'},item.repo_name,'/',item.link_content)));}}]);return SearchedListItem;}(_react2.default.Component);SearchedListItem.propTypes=propTypes;exports.default=SearchedListItem;\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);var _userSelect=__webpack_require__(23);var _userSelect2=_interopRequireDefault(_userSelect);var _sharePermissionEditor=__webpack_require__(19);var _sharePermissionEditor2=_interopRequireDefault(_sharePermissionEditor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var UserItem=function(_React$Component){_inherits(UserItem,_React$Component);function UserItem(props){_classCallCheck(this,UserItem);var _this=_possibleConstructorReturn(this,(UserItem.__proto__||Object.getPrototypeOf(UserItem)).call(this,props));_this.onMouseEnter=function(){_this.setState({isOperationShow:true});};_this.onMouseLeave=function(){_this.setState({isOperationShow:false});};_this.deleteShareItem=function(){var item=_this.props.item;_this.props.deleteShareItem(item.user_info.name);};_this.onChangeUserPermission=function(permission){var item=_this.props.item;_this.props.onChangeUserPermission(item,permission);};_this.state={isOperationShow:false};return _this;}_createClass(UserItem,[{key:'render',value:function render(){var item=this.props.item;var currentPermission=item.is_admin?'admin':item.permission;return _react2.default.createElement('tr',{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{className:'name'},item.user_info.nickname),_react2.default.createElement('td',null,_react2.default.createElement(_sharePermissionEditor2.default,{isTextMode:true,isEditIconShow:this.state.isOperationShow,currentPermission:currentPermission,permissions:this.props.permissions,onPermissionChanged:this.onChangeUserPermission})),_react2.default.createElement('td',null,_react2.default.createElement('span',{className:'sf2-icon-x3 action-icon '+(this.state.isOperationShow?'':'hide'),onClick:this.deleteShareItem,title:(0,_constants.gettext)('Delete')})));}}]);return UserItem;}(_react2.default.Component);var UserList=function(_React$Component2){_inherits(UserList,_React$Component2);function UserList(){_classCallCheck(this,UserList);return _possibleConstructorReturn(this,(UserList.__proto__||Object.getPrototypeOf(UserList)).apply(this,arguments));}_createClass(UserList,[{key:'render',value:function render(){var _this3=this;var items=this.props.items;return _react2.default.createElement('tbody',null,items.map(function(item,index){return _react2.default.createElement(UserItem,{key:index,item:item,permissions:_this3.props.permissions,deleteShareItem:_this3.props.deleteShareItem,onChangeUserPermission:_this3.props.onChangeUserPermission});}));}}]);return UserList;}(_react2.default.Component);var propTypes={isGroupOwnedRepo:_propTypes2.default.bool,itemPath:_propTypes2.default.string.isRequired,itemType:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired};var ShareToUser=function(_React$Component3){_inherits(ShareToUser,_React$Component3);function ShareToUser(props){_classCallCheck(this,ShareToUser);var _this4=_possibleConstructorReturn(this,(ShareToUser.__proto__||Object.getPrototypeOf(ShareToUser)).call(this,props));_this4.handleSelectChange=function(option){_this4.setState({selectedOption:option});_this4.options=[];};_this4.setPermission=function(permission){_this4.setState({permission:permission});};_this4.shareToUser=function(){var users=[];var path=_this4.props.itemPath;var repoID=_this4.props.repoID;if(_this4.state.selectedOption&&_this4.state.selectedOption.length>0){for(var i=0;i<_this4.state.selectedOption.length;i++){users[i]=_this4.state.selectedOption[i].email;}}if(_this4.props.isGroupOwnedRepo){_seafileApi.seafileAPI.shareGroupOwnedRepoToUser(repoID,_this4.state.permission,users).then(function(res){var errorMsg=[];if(res.data.failed.length>0){for(var _i=0;_i<res.data.failed.length;_i++){errorMsg[_i]=res.data.failed[_i];}}// todo modify api\nvar items=res.data.success.map(function(item){var sharedItem={'user_info':{'nickname':item.user_name,'name':item.user_email},'permission':item.permission,'share_type':'user'};return sharedItem;});_this4.setState({errorMsg:errorMsg,sharedItems:_this4.state.sharedItems.concat(items),selectedOption:null,permission:'rw'});_this4.refs.userSelect.clearSelect();}).catch(function(error){if(error.response){var message=(0,_constants.gettext)('Library can not be shared to owner.');var errMessage=[];errMessage.push(message);_this4.setState({errorMsg:errMessage,selectedOption:null});}});}else{_seafileApi.seafileAPI.shareFolder(repoID,path,'user',_this4.state.permission,users).then(function(res){var errorMsg=[];if(res.data.failed.length>0){for(var _i2=0;_i2<res.data.failed.length;_i2++){errorMsg[_i2]=res.data.failed[_i2];}}_this4.setState({errorMsg:errorMsg,sharedItems:_this4.state.sharedItems.concat(res.data.success),selectedOption:null,permission:'rw'});_this4.refs.userSelect.clearSelect();}).catch(function(error){if(error.response){var message=(0,_constants.gettext)('Library can not be shared to owner.');var errMessage=[];errMessage.push(message);_this4.setState({errorMsg:errMessage,selectedOption:null});}});}};_this4.deleteShareItem=function(username){var path=_this4.props.itemPath;var repoID=_this4.props.repoID;if(_this4.props.isGroupOwnedRepo){_seafileApi.seafileAPI.deleteGroupOwnedRepoSharedUserItem(repoID,username).then(function(res){_this4.setState({sharedItems:_this4.state.sharedItems.filter(function(item){return item.user_info.name!==username;})});});}else{_seafileApi.seafileAPI.deleteShareToUserItem(repoID,path,'user',username).then(function(res){_this4.setState({sharedItems:_this4.state.sharedItems.filter(function(item){return item.user_info.name!==username;})});});}};_this4.onChangeUserPermission=function(item,permission){var path=_this4.props.itemPath;var repoID=_this4.props.repoID;var username=item.user_info.name;if(_this4.props.isGroupOwnedRepo){_seafileApi.seafileAPI.modifyGroupOwnedRepoUserSharedPermission(repoID,permission,username).then(function(){_this4.updateSharedItems(item,permission);});}else{_seafileApi.seafileAPI.updateShareToUserItemPermission(repoID,path,'user',username,permission).then(function(){_this4.updateSharedItems(item,permission);});}};_this4.updateSharedItems=function(item,permission){var username=item.user_info.name;var sharedItems=_this4.state.sharedItems.map(function(sharedItem){var sharedItemUsername=sharedItem.user_info.name;if(username===sharedItemUsername){sharedItem.permission=permission;}sharedItem.is_admin=permission==='admin'?true:false;return sharedItem;});_this4.setState({sharedItems:sharedItems});};_this4.state={selectedOption:null,errorMsg:[],permission:'rw',sharedItems:[]};_this4.options=[];_this4.permissions=[];if(_this4.props.itemType==='library'){_this4.permissions=['rw','r','admin','cloud-edit','preview'];}else if(_this4.props.itemType==='dir'){_this4.permissions=['rw','r','cloud-edit','preview'];}if(_this4.props.isGroupOwnedRepo||!_constants.isPro){_this4.permissions=['rw','r'];}return _this4;}_createClass(ShareToUser,[{key:'componentDidMount',value:function componentDidMount(){var _this5=this;var path=this.props.itemPath;var repoID=this.props.repoID;_seafileApi.seafileAPI.listSharedItems(repoID,path,'user').then(function(res){if(res.data.length!==0){_this5.setState({sharedItems:res.data});}});}},{key:'render',value:function render(){var sharedItems=this.state.sharedItems;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'50%'},(0,_constants.gettext)('User')),_react2.default.createElement('th',{width:'35%'},(0,_constants.gettext)('Permission')),_react2.default.createElement('th',{width:'15%'}))),_react2.default.createElement('tbody',null,_react2.default.createElement('tr',null,_react2.default.createElement('td',null,_react2.default.createElement(_userSelect2.default,{ref:'userSelect',isMulti:true,className:'reviewer-select',placeholder:(0,_constants.gettext)('Select users...'),onSelectChange:this.handleSelectChange})),_react2.default.createElement('td',null,_react2.default.createElement(_sharePermissionEditor2.default,{isTextMode:false,isEditIconShow:false,currentPermission:this.state.permission,permissions:this.permissions,onPermissionChanged:this.setPermission})),_react2.default.createElement('td',null,_react2.default.createElement(_reactstrap.Button,{onClick:this.shareToUser},(0,_constants.gettext)('Submit')))),this.state.errorMsg.length>0&&this.state.errorMsg.map(function(item,index){var errMessage='';if(item.email){errMessage=item.email+': '+item.error_msg;}else{errMessage=item;}return _react2.default.createElement('tr',{key:index},_react2.default.createElement('td',{colSpan:3},_react2.default.createElement('p',{className:'error'},errMessage)));}))),_react2.default.createElement('div',{className:'share-list-container'},_react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'50%'},(0,_constants.gettext)('User')),_react2.default.createElement('th',{width:'35%'},(0,_constants.gettext)('Permission')),_react2.default.createElement('th',{width:'15%'}))),_react2.default.createElement(UserList,{items:sharedItems,permissions:this.permissions,deleteShareItem:this.deleteShareItem,onChangeUserPermission:this.onChangeUserPermission}))));}}]);return ShareToUser;}(_react2.default.Component);ShareToUser.propTypes=propTypes;exports.default=ShareToUser;\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _reactSelect=__webpack_require__(37);var _reactSelect2=_interopRequireDefault(_reactSelect);var _animated=__webpack_require__(85);var _animated2=_interopRequireDefault(_animated);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _sharePermissionEditor=__webpack_require__(19);var _sharePermissionEditor2=_interopRequireDefault(_sharePermissionEditor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var GroupItem=function(_React$Component){_inherits(GroupItem,_React$Component);function GroupItem(props){_classCallCheck(this,GroupItem);var _this=_possibleConstructorReturn(this,(GroupItem.__proto__||Object.getPrototypeOf(GroupItem)).call(this,props));_this.onMouseEnter=function(){_this.setState({isOperationShow:true});};_this.onMouseLeave=function(){_this.setState({isOperationShow:false});};_this.deleteShareItem=function(){var item=_this.props.item;_this.props.deleteShareItem(item.group_info.id);};_this.onChangeUserPermission=function(permission){var item=_this.props.item;_this.props.onChangeUserPermission(item,permission);};_this.state={isOperationShow:false};return _this;}_createClass(GroupItem,[{key:'render',value:function render(){var item=this.props.item;return _react2.default.createElement('tr',{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{className:'name'},item.group_info.name),_react2.default.createElement('td',null,_react2.default.createElement(_sharePermissionEditor2.default,{isTextMode:true,isEditIconShow:this.state.isOperationShow,currentPermission:item.permission,permissions:this.props.permissions,onPermissionChanged:this.onChangeUserPermission})),_react2.default.createElement('td',null,_react2.default.createElement('span',{className:'sf2-icon-x3 action-icon '+(this.state.isOperationShow?'':'hide'),onClick:this.deleteShareItem,title:(0,_constants.gettext)('Delete')})));}}]);return GroupItem;}(_react2.default.Component);var GroupList=function(_React$Component2){_inherits(GroupList,_React$Component2);function GroupList(){_classCallCheck(this,GroupList);return _possibleConstructorReturn(this,(GroupList.__proto__||Object.getPrototypeOf(GroupList)).apply(this,arguments));}_createClass(GroupList,[{key:'render',value:function render(){var _this3=this;var items=this.props.items;return _react2.default.createElement('tbody',null,items.map(function(item,index){return _react2.default.createElement(GroupItem,{key:index,item:item,permissions:_this3.props.permissions,deleteShareItem:_this3.props.deleteShareItem,onChangeUserPermission:_this3.props.onChangeUserPermission});}));}}]);return GroupList;}(_react2.default.Component);var propTypes={isGroupOwnedRepo:_propTypes2.default.bool,itemPath:_propTypes2.default.string.isRequired,itemType:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired};var NoOptionsMessage=function NoOptionsMessage(props){return _react2.default.createElement('div',_extends({},props.innerProps,{style:{margin:'6px 10px',textAlign:'center',color:'hsl(0,0%,50%)'}}),(0,_constants.gettext)('Group not found'));};var ShareToGroup=function(_React$Component3){_inherits(ShareToGroup,_React$Component3);function ShareToGroup(props){_classCallCheck(this,ShareToGroup);var _this4=_possibleConstructorReturn(this,(ShareToGroup.__proto__||Object.getPrototypeOf(ShareToGroup)).call(this,props));_this4.handleSelectChange=function(option){_this4.setState({selectedOption:option});};_this4.loadOptions=function(){_seafileApi.seafileAPI.shareableGroups().then(function(res){_this4.options=[];for(var i=0;i<res.data.length;i++){var obj={};obj.value=res.data[i].name;obj.id=res.data[i].id;obj.label=res.data[i].name;_this4.options.push(obj);}});};_this4.listSharedGroups=function(){var path=_this4.props.itemPath;var repoID=_this4.props.repoID;_seafileApi.seafileAPI.listSharedItems(repoID,path,'group').then(function(res){if(res.data.length!==0){_this4.setState({sharedItems:res.data});}});};_this4.setPermission=function(permission){_this4.setState({permission:permission});};_this4.shareToGroup=function(){var groups=[];var path=_this4.props.itemPath;var repoID=_this4.props.repoID;var isGroupOwnedRepo=_this4.props.isGroupOwnedRepo;if(_this4.state.selectedOption&&_this4.state.selectedOption.length>0){for(var i=0;i<_this4.state.selectedOption.length;i++){groups[i]=_this4.state.selectedOption[i].id;}}if(isGroupOwnedRepo){_seafileApi.seafileAPI.shareGroupOwnedRepoToGroup(repoID,_this4.state.permission,groups).then(function(res){var errorMsg=[];if(res.data.failed.length>0){for(var _i=0;_i<res.data.failed.length;_i++){errorMsg[_i]=res.data.failed[_i];}}// todo modify api\nvar items=res.data.success.map(function(item){var sharedItem={'group_info':{'id':item.group_id,'name':item.group_name},'permission':item.permission,'share_type':'group'};return sharedItem;});_this4.setState({errorMsg:errorMsg,sharedItems:_this4.state.sharedItems.concat(items),selectedOption:null,permission:'rw'});});}else{_seafileApi.seafileAPI.shareFolder(repoID,path,'group',_this4.state.permission,groups).then(function(res){var errorMsg=[];if(res.data.failed.length>0){for(var _i2=0;_i2<res.data.failed.length;_i2++){errorMsg[_i2]=res.data.failed[_i2];}}_this4.setState({errorMsg:errorMsg,sharedItems:_this4.state.sharedItems.concat(res.data.success),selectedOption:null,permission:'rw'});});}};_this4.deleteShareItem=function(groupID){var path=_this4.props.itemPath;var repoID=_this4.props.repoID;if(_this4.props.isGroupOwnedRepo){_seafileApi.seafileAPI.deleteGroupOwnedRepoSharedGroupItem(repoID,groupID).then(function(){_this4.setState({sharedItems:_this4.state.sharedItems.filter(function(item){return item.group_info.id!==groupID;})});});}else{_seafileApi.seafileAPI.deleteShareToGroupItem(repoID,path,'group',groupID).then(function(){_this4.setState({sharedItems:_this4.state.sharedItems.filter(function(item){return item.group_info.id!==groupID;})});});}};_this4.onChangeUserPermission=function(item,permission){var path=_this4.props.itemPath;var repoID=_this4.props.repoID;var groupID=item.group_info.id;if(_this4.props.isGroupOwnedRepo){_seafileApi.seafileAPI.modifyGroupOwnedRepoGroupSharedPermission(repoID,permission,groupID).then(function(){_this4.updateSharedItems(item,permission);});}else{_seafileApi.seafileAPI.updateShareToGroupItemPermission(repoID,path,'group',groupID,permission).then(function(){_this4.updateSharedItems(item,permission);});}};_this4.updateSharedItems=function(item,permission){var groupID=item.group_info.id;var sharedItems=_this4.state.sharedItems.map(function(sharedItem){var sharedItemGroupID=sharedItem.group_info.id;if(groupID===sharedItemGroupID){sharedItem.permission=permission;}return sharedItem;});_this4.setState({sharedItems:sharedItems});};_this4.state={selectedOption:null,errorMsg:[],permission:'rw',sharedItems:[]};_this4.options=[];_this4.permissions=[];if(_this4.props.itemType==='library'){_this4.permissions=['rw','r','admin','cloud-edit','preview'];}else if(_this4.props.itemType==='dir'){_this4.permissions=['rw','r','cloud-edit','preview'];}if(_this4.props.isGroupOwnedRepo||!_constants.isPro){_this4.permissions=['rw','r'];}return _this4;}_createClass(ShareToGroup,[{key:'componentDidMount',value:function componentDidMount(){this.loadOptions();this.listSharedGroups();}},{key:'render',value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'50%'},(0,_constants.gettext)('Group')),_react2.default.createElement('th',{width:'35%'},(0,_constants.gettext)('Permission')),_react2.default.createElement('th',{width:'15%'}))),_react2.default.createElement('tbody',null,_react2.default.createElement('tr',null,_react2.default.createElement('td',null,_react2.default.createElement(_reactSelect2.default,_defineProperty({isMulti:true,onChange:this.handleSelectChange,options:this.options,placeholder:(0,_constants.gettext)('Select a group'),components:(0,_animated2.default)(),maxMenuHeight:200,inputId:'react-select-2-input',value:this.state.selectedOption},'components',{NoOptionsMessage:NoOptionsMessage}))),_react2.default.createElement('td',null,_react2.default.createElement(_sharePermissionEditor2.default,{isTextMode:false,isEditIconShow:false,currentPermission:this.state.permission,permissions:this.permissions,onPermissionChanged:this.setPermission})),_react2.default.createElement('td',null,_react2.default.createElement(_reactstrap.Button,{onClick:this.shareToGroup},(0,_constants.gettext)('Submit')))),this.state.errorMsg.length>0&&this.state.errorMsg.map(function(item,index){var errMessage=item.group_name+': '+item.error_msg;return _react2.default.createElement('tr',{key:index},_react2.default.createElement('td',{colSpan:3},_react2.default.createElement('p',{className:'error'},errMessage)));}))),_react2.default.createElement('div',{className:'share-list-container'},_react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'50%'},(0,_constants.gettext)('Group')),_react2.default.createElement('th',{width:'35%'},(0,_constants.gettext)('Permission')),_react2.default.createElement('th',{width:'15%'}))),_react2.default.createElement(GroupList,{items:this.state.sharedItems,permissions:this.permissions,deleteShareItem:this.deleteShareItem,onChangeUserPermission:this.onChangeUserPermission}))));}}]);return ShareToGroup;}(_react2.default.Component);ShareToGroup.propTypes=propTypes;exports.default=ShareToGroup;\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _copyToClipboard=__webpack_require__(39);var _copyToClipboard2=_interopRequireDefault(_copyToClipboard);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _sharedLinkInfo=__webpack_require__(40);var _sharedLinkInfo2=_interopRequireDefault(_sharedLinkInfo);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={itemPath:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,closeShareDialog:_propTypes2.default.func.isRequired};var GenerateShareLink=function(_React$Component){_inherits(GenerateShareLink,_React$Component);function GenerateShareLink(props){_classCallCheck(this,GenerateShareLink);var _this=_possibleConstructorReturn(this,(GenerateShareLink.__proto__||Object.getPrototypeOf(GenerateShareLink)).call(this,props));_this.getShareLink=function(){var path=_this.props.itemPath;var repoID=_this.props.repoID;_seafileApi.seafileAPI.getShareLink(repoID,path).then(function(res){if(res.data.length!==0){var sharedLinkInfo=new _sharedLinkInfo2.default(res.data[0]);_this.setState({sharedLinkInfo:sharedLinkInfo});}});};_this.onPasswordInputChecked=function(){_this.setState({isShowPasswordInput:!_this.state.isShowPasswordInput,password:'',passwdnew:'',errorInfo:''});};_this.togglePasswordVisible=function(){_this.setState({isPasswordVisible:!_this.state.isPasswordVisible});};_this.generatePassword=function(){var val=Math.random().toString(36).substr(5);_this.setState({password:val,passwdnew:val});};_this.inputPassword=function(e){var passwd=e.target.value.trim();_this.setState({password:passwd});};_this.inputPasswordNew=function(e){var passwd=e.target.value.trim();_this.setState({passwdnew:passwd});};_this.setPermission=function(permission){if(permission=='previewAndDownload'){_this.permissions={'can_edit':false,'can_download':true};}else{_this.permissions={'can_edit':false,'can_download':false};}};_this.generateShareLink=function(){var isValid=_this.validateParamsInput();if(isValid){_this.setState({errorInfo:''});var _this$props=_this.props,itemPath=_this$props.itemPath,repoID=_this$props.repoID;var _this$state=_this.state,password=_this$state.password,expireDays=_this$state.expireDays;var permissions=_this.permissions;permissions=JSON.stringify(permissions);_seafileApi.seafileAPI.createShareLink(repoID,itemPath,password,expireDays,permissions).then(function(res){var sharedLinkInfo=new _sharedLinkInfo2.default(res.data);_this.setState({sharedLinkInfo:sharedLinkInfo});});}};_this.onCopySharedLink=function(){var sharedLink=_this.state.sharedLinkInfo.link;(0,_copyToClipboard2.default)(sharedLink);_toast2.default.success((0,_constants.gettext)('Share link is copied to the clipboard.'));_this.props.closeShareDialog();};_this.onCopyDownloadLink=function(){var downloadLink=_this.state.sharedLinkInfo.link+'?dl';(0,_copyToClipboard2.default)(downloadLink);_toast2.default.success((0,_constants.gettext)('Direct download link is copied to the clipboard.'));_this.props.closeShareDialog();};_this.deleteShareLink=function(){var sharedLinkInfo=_this.state.sharedLinkInfo;_seafileApi.seafileAPI.deleteShareLink(sharedLinkInfo.token).then(function(){_this.setState({password:'',passwordnew:'',isShowPasswordInput:false,expireDays:'',isExpireChecked:false,errorInfo:'',sharedLinkInfo:null,isNoticeMessageShow:false});_this.permissions={'can_edit':false,'can_download':true};});};_this.onExpireChecked=function(e){_this.setState({isExpireChecked:e.target.checked});};_this.onExpireDaysChanged=function(e){var day=e.target.value.trim();_this.setState({expireDays:day});};_this.validateParamsInput=function(){var _this$state2=_this.state,isShowPasswordInput=_this$state2.isShowPasswordInput,password=_this$state2.password,passwdnew=_this$state2.passwdnew,isExpireChecked=_this$state2.isExpireChecked,expireDays=_this$state2.expireDays;// validate password\nif(isShowPasswordInput){if(password.length===0){_this.setState({errorInfo:'Please enter password'});return false;}if(password.length<8){_this.setState({errorInfo:'Password is too short'});return false;}if(password!==passwdnew){_this.setState({errorInfo:'Passwords don\\'t match'});return false;}}// validate days\n// no limit\nvar reg=/^\\d+$/;if(_this.isExpireDaysNoLimit){if(isExpireChecked){if(!expireDays){_this.setState({errorInfo:'Please enter days'});return false;}var flag=reg.test(expireDays);if(!flag){_this.setState({errorInfo:'Please enter a non-negative integer'});return false;}_this.setState({expireDays:parseInt(expireDays)});}}else{if(!expireDays){_this.setState({errorInfo:'Please enter days'});return false;}var _flag=reg.test(expireDays);if(!_flag){_this.setState({errorInfo:'Please enter a non-negative integer'});return false;}expireDays=parseInt(expireDays);var minDays=parseInt(_constants.shareLinkExpireDaysMin);var maxDays=parseInt(_constants.shareLinkExpireDaysMax);if(minDays!==0&&maxDays!==maxDays){if(expireDays<minDays){_this.setState({errorInfo:'Please enter valid days'});return false;}}if(minDays===0&&maxDays!==0){if(expireDays>maxDays){_this.setState({errorInfo:'Please enter valid days'});return false;}}if(minDays!==0&&maxDays!==0){if(expireDays<minDays||expireDays<maxDays){_this.setState({errorInfo:'Please enter valid days'});return false;}}_this.setState({expireDays:expireDays});}return true;};_this.onNoticeMessageToggle=function(){_this.setState({isNoticeMessageShow:!_this.state.isNoticeMessageShow});};_this.state={isValidate:false,isShowPasswordInput:false,isPasswordVisible:false,isExpireChecked:false,password:'',passwdnew:'',expireDays:'',errorInfo:'',sharedLinkInfo:null,isNoticeMessageShow:false};_this.permissions={'can_edit':false,'can_download':true};_this.isExpireDaysNoLimit=parseInt(_constants.shareLinkExpireDaysMin)===0&&parseInt(_constants.shareLinkExpireDaysMax)===0;return _this;}_createClass(GenerateShareLink,[{key:'componentDidMount',value:function componentDidMount(){this.getShareLink();}},{key:'render',value:function render(){var _this2=this;if(this.state.sharedLinkInfo){var sharedLinkInfo=this.state.sharedLinkInfo;return _react2.default.createElement('div',null,_react2.default.createElement(_reactstrap.Form,{className:'mb-4'},_react2.default.createElement(_reactstrap.FormGroup,{className:'mb-0'},_react2.default.createElement('dt',{className:'text-secondary font-weight-normal'},(0,_constants.gettext)('Link:')),_react2.default.createElement('dd',{className:'d-flex'},_react2.default.createElement('span',null,sharedLinkInfo.link),' ',sharedLinkInfo.is_expired?_react2.default.createElement('span',{className:'err-message'},'(',(0,_constants.gettext)('Expired'),')'):_react2.default.createElement('span',{className:'far fa-copy action-icon',onClick:this.onCopySharedLink}))),!sharedLinkInfo.is_dir&&//just for file\n_react2.default.createElement(_reactstrap.FormGroup,{className:'mb-0'},_react2.default.createElement('dt',{className:'text-secondary font-weight-normal'},(0,_constants.gettext)('Direct Download Link:')),_react2.default.createElement('dd',{className:'d-flex'},_react2.default.createElement('span',null,sharedLinkInfo.link,'?dl'),' ',sharedLinkInfo.is_expired?_react2.default.createElement('span',{className:'err-message'},'(',(0,_constants.gettext)('Expired'),')'):_react2.default.createElement('span',{className:'far fa-copy action-icon',onClick:this.onCopyDownloadLink}))),sharedLinkInfo.expire_date&&_react2.default.createElement(_reactstrap.FormGroup,{className:'mb-0'},_react2.default.createElement('dt',{className:'text-secondary font-weight-normal'},(0,_constants.gettext)('Expiration Date:')),_react2.default.createElement('dd',null,(0,_moment2.default)(sharedLinkInfo.expire_date).format('YYYY-MM-DD hh:mm:ss')))),!this.state.isNoticeMessageShow?_react2.default.createElement(_reactstrap.Button,{onClick:this.onNoticeMessageToggle},(0,_constants.gettext)('Delete')):_react2.default.createElement('div',{className:'alert alert-warning'},_react2.default.createElement('h4',{className:'alert-heading'},(0,_constants.gettext)('Are you sure you want to delete the share link?')),_react2.default.createElement('p',{className:'mb-4'},(0,_constants.gettext)('If the share link is deleted, no one will be able to access it any more.')),_react2.default.createElement('button',{className:'btn btn-primary',onClick:this.deleteShareLink},(0,_constants.gettext)('Delete')),' ',_react2.default.createElement('button',{className:'btn btn-secondary',onClick:this.onNoticeMessageToggle},(0,_constants.gettext)('Cancel'))));}else{return _react2.default.createElement(_reactstrap.Form,{className:'generate-share-link'},_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'checkbox',onChange:this.onPasswordInputChecked}),'  ',(0,_constants.gettext)('Add password protection'))),this.state.isShowPasswordInput&&_react2.default.createElement(_reactstrap.FormGroup,{className:'link-operation-content'},_react2.default.createElement(_reactstrap.Label,{className:'font-weight-bold'},(0,_constants.gettext)('Password')),' ',_react2.default.createElement('span',{className:'tip'},(0,_constants.gettext)('(at least 8 characters)')),_react2.default.createElement(_reactstrap.InputGroup,{className:'passwd'},_react2.default.createElement(_reactstrap.Input,{type:this.state.isPasswordVisible?'text':'password',value:this.state.password||'',onChange:this.inputPassword}),_react2.default.createElement(_reactstrap.InputGroupAddon,{addonType:'append'},_react2.default.createElement(_reactstrap.Button,{onClick:this.togglePasswordVisible},_react2.default.createElement('i',{className:'link-operation-icon fas '+(this.state.isPasswordVisible?'fa-eye':'fa-eye-slash')})),_react2.default.createElement(_reactstrap.Button,{onClick:this.generatePassword},_react2.default.createElement('i',{className:'link-operation-icon fas fa-magic'})))),_react2.default.createElement(_reactstrap.Label,{className:'font-weight-bold'},(0,_constants.gettext)('Password again')),_react2.default.createElement(_reactstrap.Input,{className:'passwd',type:this.state.isPasswordVisible?'text':'password',value:this.state.passwdnew||'',onChange:this.inputPasswordNew})),this.isExpireDaysNoLimit&&_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{className:'expire-checkbox',type:'checkbox',onChange:this.onExpireChecked}),'  ',(0,_constants.gettext)('Add auto expiration'),_react2.default.createElement(_reactstrap.Input,{className:'expire-input',type:'text',value:this.state.expireDays,onChange:this.onExpireDaysChanged,readOnly:!this.state.isExpireChecked}),_react2.default.createElement('span',null,(0,_constants.gettext)('days')))),!this.isExpireDaysNoLimit&&_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{className:'expire-checkbox',type:'checkbox',onChange:this.onExpireChecked,checked:true,readOnly:true}),'  ',(0,_constants.gettext)('Add auto expiration'),_react2.default.createElement(_reactstrap.Input,{className:'expire-input',type:'text',value:this.state.expireDays,onChange:this.onExpireDaysChanged}),' ',_react2.default.createElement('span',null,(0,_constants.gettext)('days')),parseInt(_constants.shareLinkExpireDaysMin)!==0&&parseInt(_constants.shareLinkExpireDaysMax)!==0&&_react2.default.createElement('span',null,' (',_constants.shareLinkExpireDaysMin,' - ',_constants.shareLinkExpireDaysMax,' ',(0,_constants.gettext)('days'),')'),parseInt(_constants.shareLinkExpireDaysMin)!==0&&parseInt(_constants.shareLinkExpireDaysMax)===0&&_react2.default.createElement('span',null,' (',(0,_constants.gettext)('Greater than or equal to'),' ',_constants.shareLinkExpireDaysMin,' ',(0,_constants.gettext)('days'),')'),parseInt(_constants.shareLinkExpireDaysMin)===0&&parseInt(_constants.shareLinkExpireDaysMax)!==0&&_react2.default.createElement('span',null,' (',(0,_constants.gettext)('Less than or equal to'),' ',_constants.shareLinkExpireDaysMax,' ',(0,_constants.gettext)('days'),')'))),_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'checkbox',checked:true,readOnly:true}),'  ',(0,_constants.gettext)('Set permission'))),_react2.default.createElement(_reactstrap.FormGroup,{check:true,className:'permission'},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'radio',name:'radio1',defaultChecked:true,onChange:function onChange(){return _this2.setPermission('previewAndDownload');}}),'  ',(0,_constants.gettext)('Preview and download'))),_react2.default.createElement(_reactstrap.FormGroup,{check:true,className:'permission'},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'radio',name:'radio1',onChange:function onChange(){return _this2.setPermission('preview');}}),'  ',(0,_constants.gettext)('Preview only'))),this.state.errorInfo&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',className:'mt-2'},(0,_constants.gettext)(this.state.errorInfo)),_react2.default.createElement(_reactstrap.Button,{onClick:this.generateShareLink},(0,_constants.gettext)('Generate')));}}}]);return GenerateShareLink;}(_react2.default.Component);GenerateShareLink.propTypes=propTypes;exports.default=GenerateShareLink;\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _copyToClipboard=__webpack_require__(39);var _copyToClipboard2=_interopRequireDefault(_copyToClipboard);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _sharedUploadInfo=__webpack_require__(41);var _sharedUploadInfo2=_interopRequireDefault(_sharedUploadInfo);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={itemPath:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,closeShareDialog:_propTypes2.default.func.isRequired};var GenerateUploadLink=function(_React$Component){_inherits(GenerateUploadLink,_React$Component);function GenerateUploadLink(props){_classCallCheck(this,GenerateUploadLink);var _this=_possibleConstructorReturn(this,(GenerateUploadLink.__proto__||Object.getPrototypeOf(GenerateUploadLink)).call(this,props));_this.getUploadLink=function(){var path=_this.props.itemPath;var repoID=_this.props.repoID;_seafileApi.seafileAPI.getUploadLinks(repoID,path).then(function(res){if(res.data.length!==0){var sharedUploadInfo=new _sharedUploadInfo2.default(res.data[0]);_this.setState({sharedUploadInfo:sharedUploadInfo});}});};_this.addPassword=function(){_this.setState({showPasswordInput:!_this.state.showPasswordInput,password:'',passwdnew:'',errorInfo:''});};_this.togglePasswordVisible=function(){_this.setState({passwordVisible:!_this.state.passwordVisible});};_this.generatePassword=function(){var val=Math.random().toString(36).substr(5);_this.setState({password:val,passwordnew:val});};_this.inputPassword=function(e){_this.setState({password:e.target.value});};_this.inputPasswordNew=function(e){_this.setState({passwordnew:e.target.value});};_this.generateUploadLink=function(){var path=_this.props.itemPath;var repoID=_this.props.repoID;if(_this.state.showPasswordInput&&_this.state.password==''){_this.setState({errorInfo:(0,_constants.gettext)('Please enter password')});}else if(_this.state.showPasswordInput&&_this.state.showPasswordInput&&_this.state.password.length<8){_this.setState({errorInfo:(0,_constants.gettext)('Password is too short')});}else if(_this.state.showPasswordInput&&_this.state.password!==_this.state.passwordnew){_this.setState({errorInfo:(0,_constants.gettext)('Passwords don\\'t match')});}else{_seafileApi.seafileAPI.createUploadLink(repoID,path,_this.state.password).then(function(res){var sharedUploadInfo=new _sharedUploadInfo2.default(res.data);_this.setState({sharedUploadInfo:sharedUploadInfo});});}};_this.onCopyUploadLink=function(){var uploadLink=_this.state.sharedUploadInfo.link;(0,_copyToClipboard2.default)(uploadLink);_toast2.default.success((0,_constants.gettext)('Upload link is copied to the clipboard.'));_this.props.closeShareDialog();};_this.deleteUploadLink=function(){var sharedUploadInfo=_this.state.sharedUploadInfo;_seafileApi.seafileAPI.deleteUploadLink(sharedUploadInfo.token).then(function(){_this.setState({showPasswordInput:false,password:'',passwordnew:'',sharedUploadInfo:null});});};_this.state={showPasswordInput:false,passwordVisible:false,password:'',passwdnew:'',sharedUploadInfo:null};return _this;}_createClass(GenerateUploadLink,[{key:'componentDidMount',value:function componentDidMount(){this.getUploadLink();}},{key:'render',value:function render(){if(this.state.sharedUploadInfo){var sharedUploadInfo=this.state.sharedUploadInfo;return _react2.default.createElement('div',null,_react2.default.createElement(_reactstrap.Form,{className:'mb-4'},_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement('dt',{className:'text-secondary font-weight-normal'},(0,_constants.gettext)('Upload Link:')),_react2.default.createElement('dd',{className:'d-flex'},_react2.default.createElement('span',null,sharedUploadInfo.link),_react2.default.createElement('span',{className:'far fa-copy action-icon',onClick:this.onCopyUploadLink})))),_react2.default.createElement(_reactstrap.Button,{onClick:this.deleteUploadLink},(0,_constants.gettext)('Delete')));}return _react2.default.createElement(_reactstrap.Form,{className:'generate-upload-link'},_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement(_reactstrap.FormText,{className:'tip'},(0,_constants.gettext)('You can share the generated link to others and then they can upload files to this directory via the link.'))),_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'checkbox',onChange:this.addPassword}),'  ',(0,_constants.gettext)('Add password protection'))),this.state.showPasswordInput&&_react2.default.createElement(_reactstrap.FormGroup,{className:'link-operation-content'},_react2.default.createElement(_reactstrap.Label,{className:'font-weight-bold'},(0,_constants.gettext)('Password')),' ',_react2.default.createElement('span',{className:'tip'},(0,_constants.gettext)('(at least 8 characters)')),_react2.default.createElement(_reactstrap.InputGroup,{className:'passwd'},_react2.default.createElement(_reactstrap.Input,{type:this.state.passwordVisible?'text':'password',value:this.state.password||'',onChange:this.inputPassword}),_react2.default.createElement(_reactstrap.InputGroupAddon,{addonType:'append'},_react2.default.createElement(_reactstrap.Button,{onClick:this.togglePasswordVisible},_react2.default.createElement('i',{className:'link-operation-icon fas '+(this.state.passwordVisible?'fa-eye':'fa-eye-slash')})),_react2.default.createElement(_reactstrap.Button,{onClick:this.generatePassword},_react2.default.createElement('i',{className:'link-operation-icon fas fa-magic'})))),_react2.default.createElement(_reactstrap.Label,{className:'font-weight-bold'},(0,_constants.gettext)('Password again')),_react2.default.createElement(_reactstrap.Input,{className:'passwd',type:this.state.passwordVisible?'text':'password',value:this.state.passwordnew||'',onChange:this.inputPasswordNew})),this.state.errorInfo&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',className:'mt-2'},this.state.errorInfo),_react2.default.createElement(_reactstrap.Button,{className:'generate-link-btn',onClick:this.generateUploadLink},(0,_constants.gettext)('Generate')));}}]);return GenerateUploadLink;}(_react2.default.Component);GenerateUploadLink.propTypes=propTypes;exports.default=GenerateUploadLink;\n\n/***/ }),\n\n/***/ 525:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _repoInfoBar=__webpack_require__(304);var _repoInfoBar2=_interopRequireDefault(_repoInfoBar);var _direntListView=__webpack_require__(290);var _direntListView2=_interopRequireDefault(_direntListView);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,currentRepoInfo:_propTypes2.default.object.isRequired,isGroupOwnedRepo:_propTypes2.default.bool.isRequired,enableDirPrivateShare:_propTypes2.default.bool.isRequired,isRepoInfoBarShow:_propTypes2.default.bool.isRequired,usedRepoTags:_propTypes2.default.array.isRequired,readmeMarkdown:_propTypes2.default.object,draftCounts:_propTypes2.default.number,updateUsedRepoTags:_propTypes2.default.func.isRequired,isDirentListLoading:_propTypes2.default.bool.isRequired,direntList:_propTypes2.default.array.isRequired,sortBy:_propTypes2.default.string.isRequired,sortOrder:_propTypes2.default.string.isRequired,sortItems:_propTypes2.default.func.isRequired,onAddFile:_propTypes2.default.func.isRequired,onItemClick:_propTypes2.default.func.isRequired,onItemSelected:_propTypes2.default.func.isRequired,onItemDelete:_propTypes2.default.func.isRequired,onItemRename:_propTypes2.default.func.isRequired,onItemMove:_propTypes2.default.func.isRequired,onItemCopy:_propTypes2.default.func.isRequired,onDirentClick:_propTypes2.default.func.isRequired,onItemDetails:_propTypes2.default.func.isRequired,updateDirent:_propTypes2.default.func.isRequired,isAllItemSelected:_propTypes2.default.bool.isRequired,onAllItemSelected:_propTypes2.default.func.isRequired};var DirListView=function(_React$Component){_inherits(DirListView,_React$Component);function DirListView(){_classCallCheck(this,DirListView);return _possibleConstructorReturn(this,(DirListView.__proto__||Object.getPrototypeOf(DirListView)).apply(this,arguments));}_createClass(DirListView,[{key:'render',value:function render(){return _react2.default.createElement(_react.Fragment,null,this.props.isRepoInfoBarShow&&_react2.default.createElement(_repoInfoBar2.default,{repoID:this.props.repoID,currentPath:this.props.path,readmeMarkdown:this.props.readmeMarkdown,draftCounts:this.props.draftCounts,usedRepoTags:this.props.usedRepoTags,updateUsedRepoTags:this.props.updateUsedRepoTags}),_react2.default.createElement(_direntListView2.default,{path:this.props.path,currentRepoInfo:this.props.currentRepoInfo,repoID:this.props.repoID,isGroupOwnedRepo:this.props.isGroupOwnedRepo,enableDirPrivateShare:this.props.enableDirPrivateShare,direntList:this.props.direntList,sortBy:this.props.sortBy,sortOrder:this.props.sortOrder,sortItems:this.props.sortItems,onAddFile:this.props.onAddFile,onItemClick:this.props.onItemClick,onItemSelected:this.props.onItemSelected,onItemDelete:this.props.onItemDelete,onItemRename:this.props.onItemRename,onItemMove:this.props.onItemMove,onItemCopy:this.props.onItemCopy,onDirentClick:this.props.onDirentClick,onItemDetails:this.props.onItemDetails,isDirentListLoading:this.props.isDirentListLoading,updateDirent:this.props.updateDirent,isAllItemSelected:this.props.isAllItemSelected,onAllItemSelected:this.props.onAllItemSelected}));}}]);return DirListView;}(_react2.default.Component);DirListView.propTypes=propTypes;exports.default=DirListView;\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactstrap=__webpack_require__(5);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _copyToClipboard=__webpack_require__(75);var _copyToClipboard2=_interopRequireDefault(_copyToClipboard);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);__webpack_require__(55);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired};var InternalLinkDialog=function(_React$Component){_inherits(InternalLinkDialog,_React$Component);function InternalLinkDialog(props){_classCallCheck(this,InternalLinkDialog);var _this=_possibleConstructorReturn(this,(InternalLinkDialog.__proto__||Object.getPrototypeOf(InternalLinkDialog)).call(this,props));_this.state={isOpen:false,smartLink:''};_this.toggle=_this.toggle.bind(_this);_this.getInternalLink=_this.getInternalLink.bind(_this);_this.copyToClipBoard=_this.copyToClipBoard.bind(_this);return _this;}_createClass(InternalLinkDialog,[{key:'toggle',value:function toggle(){this.setState({isOpen:!this.state.isOpen});}},{key:'getInternalLink',value:function getInternalLink(){var _this2=this;var repoID=this.props.repoID;var path=this.props.path;_seafileApi.seafileAPI.getInternalLink(repoID,path).then(function(res){_this2.setState({isOpen:true,smartLink:res.data.smart_link});});}},{key:'copyToClipBoard',value:function copyToClipBoard(){(0,_copyToClipboard2.default)(this.state.smartLink);this.setState({isOpen:false});var message=(0,_constants.gettext)('Internal link has been copied to clipboard');_toast2.default.success(message),{duration:2};}},{key:'render',value:function render(){return _react2.default.createElement('span',{className:'file-internal-link',title:(0,_constants.gettext)('Internal Link')},_react2.default.createElement('i',{className:'fa fa-link',onClick:this.getInternalLink}),_react2.default.createElement(_reactstrap.Modal,{isOpen:this.state.isOpen,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Internal Link')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('p',{className:'tip mb-1'},(0,_constants.gettext)('An internal link is a link to a file or folder that can be accessed by users with read permission to the file or folder.')),_react2.default.createElement('p',null,_react2.default.createElement('a',{target:'_blank',href:this.state.smartLink},this.state.smartLink))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.copyToClipBoard},(0,_constants.gettext)('Copy')),' ',_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')))));}}]);return InternalLinkDialog;}(_react2.default.Component);InternalLinkDialog.propTypes=propTypes;exports.default=InternalLinkDialog;\n\n/***/ }),\n\n/***/ 55:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _toaster=__webpack_require__(15);var _toaster2=_interopRequireDefault(_toaster);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var toaster=new _toaster2.default();exports.default=toaster;\n\n/***/ }),\n\n/***/ 80:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _search=__webpack_require__(116);var _search2=_interopRequireDefault(_search);var _notification=__webpack_require__(120);var _notification2=_interopRequireDefault(_notification);var _account=__webpack_require__(27);var _account2=_interopRequireDefault(_account);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string,onSearchedClick:_propTypes2.default.func.isRequired,searchPlaceholder:_propTypes2.default.string};var CommonToolbar=function(_React$Component){_inherits(CommonToolbar,_React$Component);function CommonToolbar(){_classCallCheck(this,CommonToolbar);return _possibleConstructorReturn(this,(CommonToolbar.__proto__||Object.getPrototypeOf(CommonToolbar)).apply(this,arguments));}_createClass(CommonToolbar,[{key:'render',value:function render(){var searchPlaceholder=this.props.searchPlaceholder||(0,_constants.gettext)('Search Files');return _react2.default.createElement('div',{className:'common-toolbar'},_constants.isPro&&_react2.default.createElement(_search2.default,{repoID:this.props.repoID,placeholder:searchPlaceholder,onSearchedClick:this.props.onSearchedClick}),_react2.default.createElement(_notification2.default,null),_react2.default.createElement(_account2.default,null));}}]);return CommonToolbar;}(_react2.default.Component);CommonToolbar.propTypes=propTypes;exports.default=CommonToolbar;\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 90:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var TreeNode=function(){function TreeNode(_ref){var path=_ref.path,object=_ref.object,isLoaded=_ref.isLoaded,isPreload=_ref.isPreload,isExpanded=_ref.isExpanded,parentNode=_ref.parentNode;_classCallCheck(this,TreeNode);this.path=path||object.name,// The default setting is the object name, which is set to a relative path when the father is set.\nthis.object=object.clone();this.isLoaded=isLoaded||false;this.isPreload=isPreload||false;this.isExpanded=isExpanded||false;this.children=[];this.parentNode=parentNode||null;}_createClass(TreeNode,[{key:'clone',value:function clone(parentNode){var treeNode=new TreeNode({path:this.path,object:this.object.clone(),isLoaded:this.isLoaded,isPreload:this.isPreload,isExpanded:this.isExpanded,parentNode:parentNode||null});treeNode.children=this.children.map(function(child){var newChild=child.clone(treeNode);return newChild;});return treeNode;}},{key:'setParent',value:function setParent(parentNode){this.path=this.generatePath(parentNode);this.parentNode=parentNode;this.isLoaded=false;// update parentNode need loaded data again;\n}},{key:'hasChildren',value:function hasChildren(){return this.children.length!==0;}},{key:'addChild',value:function addChild(node){node.setParent(this);var children=this.children;if(node.object.isDir()){this.children.unshift(node);}else{var index=-1;for(var i=0;i<children.length;i++){if(!children[i].object.isDir()){index=i;break;}}if(index===-1){// -1: all the node object is dir;\nthis.children.push(node);}else if(index===0){// 0: all the node object is file\nthis.children.unshift(node);}else{this.children.splice(index,0,node);}}}},{key:'addChildren',value:function addChildren(nodeList){var _this=this;nodeList.forEach(function(node){node.setParent(_this);});this.children=nodeList;}},{key:'deleteChild',value:function deleteChild(node){var children=this.children.filter(function(item){return item!==node;});this.children=children;}},{key:'rename',value:function rename(newName){this.object.name=newName;this.path=this.generatePath(this.parentNode);if(this.isExpanded){this.updateChildrenPath(this);}else{this.isLoaded=false;}}},{key:'updateChildrenPath',value:function updateChildrenPath(node){var children=node.children;children.forEach(function(child){child.path=child.generatePath(child.parentNode);if(child.isExpanded){child.updateChildrenPath(child);}else{child.isLoaded=false;}});}},{key:'updateObjectProperties',value:function updateObjectProperties(keys,newValues){var _this2=this;if(Array.isArray(keys)&&Array.isArray(newValues)){keys.forEach(function(key,index){_this2.object[key]=newValues[index];});}else{this.object[keys]=newValues;}}},{key:'generatePath',value:function generatePath(parentNode){return parentNode.path==='/'?parentNode.path+this.object.name:parentNode.path+'/'+this.object.name;}},{key:'serializeToJson',value:function serializeToJson(){var children=[];if(this.hasChildren){children=this.children.map(function(m){return m.serializeToJson();});}var treeNode={path:this.path,object:this.object.clone(),isLoaded:this.isLoaded,isPreload:this.isPreload,isExpanded:this.isExpanded,parentNode:this.parentNode,children:children};return treeNode;}}],[{key:'deserializefromJson',value:function deserializefromJson(json){var path=json.path,object=json.object,isLoaded=json.isLoaded,isPreload=json.isPreload,isExpanded=json.isExpanded,parentNode=json.parentNode,_json$children=json.children,children=_json$children===undefined?[]:_json$children;object=object.clone();var treeNode=new TreeNode({path:path,object:object,isLoaded:isLoaded,isPreload:isPreload,isExpanded:isExpanded,parentNode:parentNode,children:children.map(function(item){return TreeNode.deserializefromJson(item);})});return treeNode;}}]);return TreeNode;}();exports.default=TreeNode;\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[1178]);\n\n\n// WEBPACK FOOTER //\n// js/app.js","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  children: PropTypes.object.isRequired,\n};\n\nconst modalRoot = document.getElementById('modal-wrapper');\nclass ModalPortal extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.el = document.createElement('div');\n  }\n\n  componentDidMount() {\n    modalRoot.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    modalRoot.removeChild(this.el);\n  }\n\n  render() {\n    return ReactDOM.createPortal(\n      this.props.children,\n      this.el,\n    );\n  }\n}\n\nModalPortal.propTypes = propTypes;\n\nexport default ModalPortal;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/modal-portal.js","class RepoTag {\n  constructor(object) {\n    this.id = object.repo_tag_id;\n    this.fileCount = object.files_count;\n    this.name = object.tag_name;\n    this.color = object.tag_color;\n  }\n}\n\nexport default RepoTag;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/repo-tag.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot, mediaUrl, logoPath, logoWidth, logoHeight, siteTitle } from '../utils/constants'; \n\nconst propTypes = {\n  onCloseSidePanel: PropTypes.func.isRequired,\n};\n\nclass Logo extends React.Component {\n\n  closeSide = () => {\n    this.props.onCloseSidePanel();\n  }\n  \n  render() {\n    return (\n      <div className=\"top-logo\">\n        <a href={siteRoot} id=\"logo\">\n          <img src={mediaUrl + logoPath} height={logoHeight} width={logoWidth} title={siteTitle} alt=\"logo\" />\n        </a>\n        <a \n          className=\"sf2-icon-x1 sf-popover-close side-panel-close action-icon d-md-none\"\n          onClick={this.closeSide} \n          title=\"Close\" \n          aria-label=\"Close\" \n        >\n        </a>\n      </div>\n    );\n  }\n}\n\nLogo.propTypes = propTypes;\n\nexport default Logo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/logo.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport RepoTag from '../../models/repo-tag';\nrequire('../../css/repo-tag.css');\n\nconst TagItemPropTypes = {\n  repoID: PropTypes.string.isRequired,\n  repoTag: PropTypes.object.isRequired,\n  filePath: PropTypes.string.isRequired,\n  fileTagList: PropTypes.array.isRequired,\n  onEditFileTag: PropTypes.func.isRequired,\n};\n\nclass TagItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSelectedTag: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({\n      showSelectedTag: true\n    });\n  }\n\n  onMouseLeave = () => {\n    this.setState({\n      showSelectedTag: false\n    });\n  }\n\n  getRepoTagIdList = () => {\n    let repoTagIdList = [];\n    let fileTagList = this.props.fileTagList;\n    fileTagList.map((fileTag) => {\n      repoTagIdList.push(fileTag.repo_tag_id);\n    });\n    return repoTagIdList;\n  }\n\n  onEditFileTag = () => {\n    let { repoID, repoTag, filePath } = this.props;\n    let repoTagIdList = this.getRepoTagIdList();\n    if (repoTagIdList.indexOf(repoTag.id) === -1) {\n      let id = repoTag.id;\n      seafileAPI.addFileTag(repoID, filePath, id).then(() => {\n        repoTagIdList = this.getRepoTagIdList();\n        this.props.onEditFileTag();\n      });\n    } else {\n      let fileTag = null;\n      let fileTagList = this.props.fileTagList;\n      for(let i = 0; i < fileTagList.length; i++) {\n        if (fileTagList[i].repo_tag_id === repoTag.id) {\n          fileTag = fileTagList[i];\n          break;\n        }\n      } \n      seafileAPI.deleteFileTag(repoID, fileTag.id).then(() => {\n        repoTagIdList = this.getRepoTagIdList();\n        this.props.onEditFileTag();\n      });\n    }\n  }\n\n  render() {\n    let repoTag = this.props.repoTag;\n    let repoTagIdList = this.getRepoTagIdList();\n    let drakColor = Utils.getDarkColor(repoTag.color);\n    return (\n      <li key={repoTag.id} className=\"tag-list-item\" onClick={this.onEditFileTag} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <div className=\"tag-demo\" style={{backgroundColor:repoTag.color}}>\n          <span className={`${this.state.showSelectedTag ? 'show-tag-selected': ''}`} style={{backgroundColor: drakColor}}></span>\n          <span className=\"tag-name\">{repoTag.name}</span>\n          {repoTagIdList.indexOf(repoTag.id) > -1 &&\n            <i className=\"fas fa-check tag-operation\"></i>\n          }\n        </div>\n      </li>\n    );\n  }\n\n}\n\nTagItem.propTypes = TagItemPropTypes;\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  fileTagList: PropTypes.array.isRequired,\n  onFileTagChanged: PropTypes.func.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n};\n\nclass EditFileTagDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      repotagList: [],\n    };\n  }\n\n  componentDidMount() {\n    this.getRepoTagList();\n  }\n\n  getRepoTagList = () => {\n    let repoID = this.props.repoID;\n    seafileAPI.listRepoTags(repoID).then(res => {\n      let repotagList = [];\n      res.data.repo_tags.forEach(item => {\n        let repoTag = new RepoTag(item);\n        repotagList.push(repoTag);\n      });\n      this.setState({\n        repotagList: repotagList,\n      });\n    });\n  }\n\n  toggle = () => {\n    this.props.toggleCancel();\n  }\n\n  onEditFileTag = () => {\n    this.props.onFileTagChanged();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Select Tags')}</ModalHeader>\n        <ModalBody>\n          {\n            <ul className=\"tag-list tag-list-container\">\n              {this.state.repotagList.map((repoTag) => {\n                return (\n                  <TagItem \n                    key={repoTag.id} \n                    repoTag={repoTag}\n                    repoID={this.props.repoID}\n                    filePath={this.props.filePath}\n                    fileTagList={this.props.fileTagList}\n                    onEditFileTag={this.onEditFileTag}\n                  />\n                );\n              })}\n            </ul>\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button onClick={this.toggle}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nEditFileTagDialog.propTypes = propTypes;\n\nexport default EditFileTagDialog;\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/edit-filetag-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal } from 'reactstrap';\nimport AddRelatedFileDialog from './add-related-file-dialog';\nimport ListRelatedFileDialog from './list-related-file-dialog';\nimport ModalPortal from '../modal-portal';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  onRelatedFileChange: PropTypes.func.isRequired,\n  dirent: PropTypes.object.isRequired,\n  relatedFiles: PropTypes.array,\n  viewMode: PropTypes.oneOf(['list_related_file','add_related_file']).isRequired,\n};\n\nclass RelatedFileDialogs extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showListRelatedFileDialog: props.viewMode === 'list_related_file',\n    };\n  }\n\n  onAddRelatedFileToggle = () => {\n    this.setState({\n      showListRelatedFileDialog: false,\n    });\n  }\n\n  onCloseAddRelatedFileDialog = () => {\n    this.setState({\n      showListRelatedFileDialog: true,\n    });\n  }\n\n  render() {\n    return (\n      <ModalPortal>\n        <Modal isOpen={true} toggle={this.props.toggleCancel} size='lg' style={{width:'650px'}}>\n          {this.state.showListRelatedFileDialog && \n            <ListRelatedFileDialog\n              filePath={this.props.filePath}\n              relatedFiles={this.props.relatedFiles}\n              repoID={this.props.repoID}\n              toggleCancel={this.props.toggleCancel}\n              addRelatedFileToggle={this.onAddRelatedFileToggle}\n              onRelatedFileChange={this.props.onRelatedFileChange}\n            />\n          }\n          {!this.state.showListRelatedFileDialog && \n            <AddRelatedFileDialog\n              filePath={this.props.filePath}\n              repoID={this.props.repoID}\n              toggleCancel={this.onCloseAddRelatedFileDialog}\n              onRelatedFileChange={this.props.onRelatedFileChange}\n              dirent={this.props.dirent}\n              onClose={this.props.toggleCancel}\n            />\n          }\n        </Modal>\n      </ModalPortal>\n    )\n  }\n}\n\nRelatedFileDialogs.propTypes = propTypes;\n\nexport default RelatedFileDialogs\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/related-file-dialogs.js","import React from 'react';\n\nfunction Loading() {\n  return (\n    <span className=\"loading-icon loading-tip\"></span>\n  );\n}\n\nexport default Loading;\n\n\n// WEBPACK FOOTER //\n// ./src/components/loading.js","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport MediaQuery from 'react-responsive';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport SearchResultItem from './search-result-item';\nimport editorUtilities from '../../utils/editor-utilties';\nimport More from '../more';\n\nconst propTypes = {\n  repoID: PropTypes.string,\n  placeholder: PropTypes.string,\n  onSearchedClick: PropTypes.func.isRequired,\n};\n\nclass Search extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      width: 'default',\n      value: '',\n      resultItems: [],\n      isMaskShow: false,\n      isResultShow: false,\n      isResultGetted: false,\n      isCloseShow: false,\n      isSearchInputShow: false, // for mobile\n    };\n    this.inputValue = '';\n    this.source = null; // used to cancel request;\n  }\n\n  onFocusHandler = () => {\n    this.setState({\n      width: '30rem',\n      isMaskShow: true,\n      isCloseShow: true\n    });\n  }\n\n  onCloseHandler = () => {\n    this.resetToDefault();\n  }\n\n  onItemClickHandler = (item) => {\n    this.resetToDefault();\n    this.props.onSearchedClick(item);\n  }\n\n  onChangeHandler = (event) => {\n    let _this = this;\n    this.setState({value: event.target.value});\n    let newValue = event.target.value;\n    if (this.inputValue === newValue.trim()) {\n      return false;\n    }\n    this.inputValue = newValue.trim();\n\n    if (this.inputValue === '' || _this.getValueLength(this.inputValue) < 3) {\n      this.setState({\n        isResultShow: false,\n        isResultGetted: false\n      });\n      return false;\n    }\n    let repoID = this.props.repoID;\n    let queryData = {\n      q: newValue,\n      search_repo: repoID ? repoID : 'all',\n      search_ftypes: 'all',\n    };\n\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    this.timer = setTimeout(_this.getSearchResult(queryData), 500);\n  }\n\n  getSearchResult(queryData) {\n    \n    if(this.source){\n      this.cancelRequest();\n    }\n    this.setState({\n      isResultShow: true,\n      isResultGetted: false\n    });\n\n    this.source = editorUtilities.getSource();\n    this.sendRequest(queryData, this.source.token);\n  }\n\n  sendRequest(queryData, cancelToken) {\n    var _this = this;\n    editorUtilities.searchFiles(queryData,cancelToken).then(res => {\n      if (!res.data.total) {\n        _this.setState({\n          resultItems: [],\n          isResultGetted: true\n        });\n        _this.source = null;\n        return;\n      }\n\n      let items = _this.formatResultItems(res.data.results);\n      _this.setState({\n        resultItems: items,\n        isResultGetted: true\n      });\n      _this.source = null;\n    }).catch(res => {\n      /* eslint-disable */\n      console.log(res);\n      /* eslint-enable */\n    });\n  }\n\n  cancelRequest() {\n    this.source.cancel('prev request is cancelled');\n  }\n\n  getValueLength(str) {\n    var i = 0, code, len = 0;\n    for (; i < str.length; i++) {\n      code = str.charCodeAt(i);\n      if (code == 10) { //solve enter problem\n        len += 2;\n      } else if (code < 0x007f) {\n        len += 1;\n      } else if (code >= 0x0080 && code <= 0x07ff) {\n        len += 2;\n      } else if (code >= 0x0800 && code <= 0xffff) {\n        len += 3;\n      }\n    }\n    return len;\n  }\n\n  formatResultItems(data) {\n    let items = [];\n    let length = data.length > 5 ? 5 : data.length;\n    for (let i = 0; i < length; i++) {\n      items[i] = {};\n      items[i]['index'] = [i];\n      items[i]['name'] = data[i].name;\n      items[i]['path'] = data[i].fullpath;\n      items[i]['repo_id'] = data[i].repo_id;\n      items[i]['repo_name'] = data[i].repo_name;\n      items[i]['is_dir'] = data[i].is_dir;\n      items[i]['link_content'] = decodeURI(data[i].fullpath).substring(1);\n      items[i]['content'] = data[i].content_highlight;\n    }\n    return items;\n  }\n\n  resetToDefault() {\n    this.inputValue = null;\n    this.setState({\n      width: '',\n      value: '',\n      isMaskShow: false,\n      isCloseShow: false,\n      isResultShow: false,\n      isResultGetted: false,\n      resultItems: [],\n      isSearchInputShow: false,\n    });\n  }\n\n  onShowMore = () => {\n    let repoID = this.props.repoID;\n    let newValue = this.state.value;\n    let queryData = {\n      q: newValue,\n      search_repo: repoID ? repoID : 'all',\n      search_ftypes: 'all',\n    };\n    let params = '';\n    for (let key in queryData) {\n      params += key + '=' + queryData[key] + '&';\n    }\n    window.location = siteRoot + 'search/?' + params.slice(0, params.length - 1);\n  }\n\n  renderSearchResult() {\n    var _this = this;\n    if (!this.state.isResultShow) {\n      return;\n    }\n    if (!this.state.isResultGetted || this.getValueLength(this.inputValue) < 3) {\n      return (\n        <span className=\"loading-icon loading-tip\"></span>\n      );\n    }\n    if (!this.state.resultItems.length) {\n      return (\n        <div className=\"search-result-none\">{gettext('No results matching.')}</div>\n      );\n    }\n    let isShowMore = this.state.resultItems.length >= 5 ? true : false;\n    return (\n      <ul className=\"search-result-list\">\n        {this.state.resultItems.map(item => {\n          return (\n            <SearchResultItem\n              key={item.index}\n              item={item}\n              onItemClickHandler={_this.onItemClickHandler}\n            />\n          );\n        })}\n        {isShowMore && <More onShowMore={this.onShowMore}/>}\n      </ul>\n    );\n  }\n\n  onSearchToggle = () => {\n    this.setState({\n      isSearchInputShow: !this.state.isSearchInputShow,\n      isMaskShow: !this.state.isMaskShow,\n    });\n  }\n\n  render() {\n    let width = this.state.width !== 'default' ? this.state.width : '';\n    let style = {'width': width};\n    return (\n      <Fragment>\n        <MediaQuery query=\"(min-width: 768px)\">\n          <div className=\"search\">\n            <div className={`search-mask ${this.state.isMaskShow ? '' : 'hide'}`} onClick={this.onCloseHandler}></div>\n            <div className=\"search-container\">\n              <div className=\"input-icon\">\n                <i className=\"search-icon-left input-icon-addon fas fa-search\"></i>\n                <input \n                  type=\"text\" \n                  className=\"form-control search-input\" \n                  name=\"query\"\n                  placeholder={this.props.placeholder}\n                  style={style}\n                  value={this.state.value}\n                  onFocus={this.onFocusHandler}\n                  onChange={this.onChangeHandler}\n                  autoComplete=\"off\"\n                />\n                {this.state.isCloseShow && <i className='search-icon-right input-icon-addon fas fa-times' onClick={this.onCloseHandler}></i>}\n              </div>\n              <div className=\"search-result-container\">\n                {this.renderSearchResult()}\n              </div>\n            </div>\n          </div>\n        </MediaQuery>\n        <MediaQuery query=\"(max-width: 768px)\">\n          <div className=\"search-icon-container\">\n            <i className=\"search-icon fas fa-search\" onClick={this.onSearchToggle}></i>\n          </div>\n          {this.state.isSearchInputShow && \n            <div className=\"search\">\n              <div className={`search-mask ${this.state.isMaskShow ? '' : 'hide'}`} onClick={this.onCloseHandler}></div>\n              <div className=\"search-container\">\n                <div className=\"input-icon\">\n                  <i className=\"search-icon-left input-icon-addon fas fa-search\"></i>\n                  <input \n                    type=\"text\" \n                    className=\"form-control search-input\" \n                    name=\"query\"\n                    placeholder={this.props.placeholder}\n                    style={style}\n                    value={this.state.value}\n                    onFocus={this.onFocusHandler}\n                    onChange={this.onChangeHandler}\n                    autoComplete=\"off\"\n                  />\n                  {this.state.isCloseShow && <i className='search-icon-right input-icon-addon fas fa-times' onClick={this.onCloseHandler}></i>}\n                </div>\n                <div className=\"search-result-container\">\n                  {this.renderSearchResult()}\n                </div>\n              </div>\n            </div>\n          }\n        </MediaQuery>\n      </Fragment>\n    );\n  }\n}\n\nSearch.propTypes = propTypes;\n\nexport default Search;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/search/search.js","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router, navigate } from '@reach/router';\nimport { siteRoot, canAddRepo } from './utils/constants';\nimport { Utils } from './utils/utils';\nimport SystemNotification from './components/system-notification';\nimport SidePanel from './components/side-panel';\nimport MainPanel from './components/main-panel';\nimport DraftsView from './pages/drafts/drafts-view';\nimport DraftContent from './pages/drafts/draft-content';\nimport FilesActivities from './pages/dashboard/files-activities';\nimport Starred from './pages/starred/starred';\nimport LinkedDevices from './pages/linked-devices/linked-devices';\nimport editUtilties from './utils/editor-utilties';\nimport ShareAdminLibraries from './pages/share-admin/libraries';\nimport ShareAdminFolders from './pages/share-admin/folders';\nimport ShareAdminShareLinks from './pages/share-admin/share-links';\nimport ShareAdminUploadLinks from './pages/share-admin/upload-links';\nimport SharedLibraries from './pages/shared-libs/shared-libs';\nimport MyLibraries from './pages/my-libs/my-libs';\nimport MyLibDeleted from './pages/my-libs/my-libs-deleted';\nimport PublicSharedView from './pages/shared-with-all/public-shared-view';\nimport LibContentView from './pages/lib-content-view/lib-content-view';\nimport Group from './pages/groups/group-view';\nimport Groups from './pages/groups/groups-view';\nimport Wikis from './pages/wikis/wikis';\nimport MainContentWrapper from './components/main-content-wrapper';\n\nimport './css/layout.css';\nimport './css/toolbar.css';\nimport './css/search.css';\n\nconst FilesActivitiesWrapper = MainContentWrapper(FilesActivities);\nconst DraftsViewWrapper = MainContentWrapper(DraftsView);\nconst StarredWrapper = MainContentWrapper(Starred);\nconst LinkedDevicesWrapper = MainContentWrapper(LinkedDevices);\nconst SharedLibrariesWrapper = MainContentWrapper(SharedLibraries);\nconst ShareAdminLibrariesWrapper = MainContentWrapper(ShareAdminLibraries);\nconst ShareAdminFoldersWrapper = MainContentWrapper(ShareAdminFolders);\nconst ShareAdminShareLinksWrapper = MainContentWrapper(ShareAdminShareLinks);\nconst ShareAdminUploadLinksWrapper = MainContentWrapper(ShareAdminUploadLinks);\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false,\n      isSidePanelClosed: false,\n      draftCounts: 0,\n      draftList:[],\n      isLoadingDraft: true,\n      currentTab: '/',\n      pathPrefix: [],\n    };\n    this.dirViewPanels = ['my-libs', 'shared-libs', 'org']; // and group\n  }\n\n  componentDidMount() {\n    // e.g.  from http://127.0.0.1:8000/drafts/reviews/\n    // get reviews  \n    // TODO: need refactor later\n    let href = window.location.href.split('/');\n    this.getDrafts();\n    this.setState({currentTab: href[href.length - 2]});\n  }\n\n  getDrafts = () => {\n    editUtilties.listDrafts().then(res => {\n      this.setState({\n        draftCounts: res.data.draft_counts,\n        draftList: res.data.data, \n        isLoadingDraft: false,\n      }); \n    });\n  }\n\n  updateDraftsList = (draft_id) => {\n    this.setState({\n      draftCounts: this.state.draftCounts - 1,\n      draftList: this.state.draftList.filter(draft => draft.id != draft_id), \n    });\n  }\n\n  onCloseSidePanel = () => {\n    this.setState({\n      isSidePanelClosed: !this.state.isSidePanelClosed\n    });\n  }\n\n  onShowSidePanel = () => {\n    this.setState({\n      isSidePanelClosed: !this.state.isSidePanelClosed\n    });\n  }\n\n  onSearchedClick = (selectedItem) => {\n    if (selectedItem.is_dir === true) {\n      this.setState({currentTab: '', pathPrefix: []});\n      let url = siteRoot + 'library/' + selectedItem.repo_id + '/' + selectedItem.repo_name + selectedItem.path;\n      navigate(url, {repalce: true});\n    } else {\n      let url = siteRoot + 'lib/' + selectedItem.repo_id + '/file' + Utils.encodePath(selectedItem.path);\n      let newWindow = window.open('about:blank');\n      newWindow.location.href = url;\n    }\n  }\n\n  onGroupChanged = (groupID) => {\n    setTimeout(function(){\n      let url;\n      if (groupID) {\n        url = siteRoot + 'group/' + groupID + '/';\n      }\n      else {\n        url = siteRoot + 'groups/';\n      }\n      window.location = url.toString();\n    }, 1);\n  }\n\n  tabItemClick = (tabName, groupID) => {\n    let pathPrefix = [];\n    if (groupID || this.dirViewPanels.indexOf(tabName) > -1) {\n      pathPrefix = this.generatorPrefix(tabName, groupID);\n    }\n    this.setState({\n      currentTab: tabName,\n      pathPrefix: pathPrefix\n    });\n  } \n\n  generatorPrefix = (tabName, groupID) => {\n    let pathPrefix = [];\n    if (groupID) {\n      let navTab1 = {\n        url: siteRoot + 'groups/',\n        showName: 'Groups',\n        name: 'groups',\n        id: null,\n      };\n      let navTab2 = {\n        url: siteRoot + 'group/' + groupID + '/',\n        showName: tabName,\n        name: tabName,\n        id: groupID,\n      };\n      pathPrefix.push(navTab1);\n      pathPrefix.push(navTab2);\n    } else {\n      let navTab = {\n        url: siteRoot + tabName + '/',\n        showName: this.getTabShowName(tabName),\n        name: tabName,\n        id: null,\n      };\n      pathPrefix.push(navTab);\n    }\n    return pathPrefix;\n  }\n\n  getTabShowName = (tabName) => {\n    if (tabName === 'my-libs') {\n      return 'Libraries';\n    }\n    if (tabName === 'shared-libs') {\n      return 'Shared with me';\n    }\n    if (tabName === 'org') {\n      return 'Shared with all';\n    }\n  }\n\n  render() {\n    let { currentTab } = this.state;\n\n    const home = canAddRepo ?\n      <MyLibraries path={ siteRoot } onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick} /> :\n      <SharedLibrariesWrapper path={ siteRoot } onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick} />;\n\n    return (\n      <React.Fragment>\n        <SystemNotification />\n        <div id=\"main\">\n          <SidePanel isSidePanelClosed={this.state.isSidePanelClosed} onCloseSidePanel={this.onCloseSidePanel} currentTab={currentTab} tabItemClick={this.tabItemClick} draftCounts={this.state.draftCounts} />\n          <MainPanel>\n            <Router className=\"reach-router\">\n              {home}\n              <FilesActivitiesWrapper path={siteRoot + 'dashboard'} onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick} />\n              <DraftsViewWrapper path={siteRoot + 'drafts'}\n                onShowSidePanel={this.onShowSidePanel}\n                onSearchedClick={this.onSearchedClick}\n              >\n                <DraftContent\n                  path='/'\n                  getDrafts={this.getDrafts}\n                  isLoadingDraft={this.state.isLoadingDraft}\n                  draftList={this.state.draftList}\n                  updateDraftsList={this.updateDraftsList}\n                />\n              </DraftsViewWrapper>\n              <StarredWrapper path={siteRoot + 'starred'} onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick} />\n              <LinkedDevicesWrapper path={siteRoot + 'linked-devices'} onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick} />\n              <ShareAdminLibrariesWrapper path={siteRoot + 'share-admin-libs'} onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick} />\n              <ShareAdminFoldersWrapper path={siteRoot + 'share-admin-folders'} onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick} />\n              <ShareAdminShareLinksWrapper path={siteRoot + 'share-admin-share-links'} onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick} />\n              <ShareAdminUploadLinksWrapper path={siteRoot + 'share-admin-upload-links'} onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick} />\n              <SharedLibrariesWrapper path={siteRoot + 'shared-libs'} onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick} />\n              <MyLibraries path={siteRoot + 'my-libs'} onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick} />\n              <MyLibDeleted path={siteRoot + 'my-libs/deleted/'} onSearchedClick={this.onSearchedClick} />\n              <LibContentView path={siteRoot + 'library/:repoID/*'} pathPrefix={this.state.pathPrefix} onMenuClick={this.onShowSidePanel} onTabNavClick={this.tabItemClick}/>\n              <Groups path={siteRoot + 'groups'} onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick}/>\n              <Group\n                path={siteRoot + 'group/:groupID'}\n                onShowSidePanel={this.onShowSidePanel}\n                onSearchedClick={this.onSearchedClick}\n                onTabNavClick={this.tabItemClick}\n                onGroupChanged={this.onGroupChanged}\n              />\n              <Wikis path={siteRoot + 'wikis'} onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick}/>\n              <PublicSharedView path={siteRoot + 'org/'} onShowSidePanel={this.onShowSidePanel} onSearchedClick={this.onSearchedClick} onTabNavClick={this.tabItemClick}/>\n            </Router>\n          </MainPanel>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('wrapper')\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  item: PropTypes.object.isRequired,\n  onItemClickHandler: PropTypes.func.isRequired,\n};\n\nclass SearchResultItem extends React.Component {\n\n  onClickHandler = () => {\n    var item = this.props.item;\n    this.props.onItemClickHandler(item);\n  }\n\n  render() {\n    let item = this.props.item;\n    let fileIconUrl = item.is_dir ? Utils.getFolderIconUrl(false, 192) : Utils.getFileIconUrl(item.name, 192);\n    return (\n      <li className=\"search-result-item\" onClick={this.onClickHandler}>\n        <img className=\"item-img\" src={fileIconUrl} alt=\"\" />\n        <div className=\"item-content\">\n          <div className=\"item-name ellipsis\">{item.name}</div>\n          <div className=\"item-link ellipsis\">{item.repo_name}/{item.link_content}</div>\n          <div className=\"item-text ellipsis\" dangerouslySetInnerHTML={{__html: item.content}}></div>\n        </div>\n      </li>\n    );\n  }\n}\n\nSearchResultItem.propTypes = propTypes;\n\nexport default SearchResultItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/search/search-result-item.js","import React from 'react';\nimport { curNoteMsg, curNoteID, siteRoot, gettext } from '../utils/constants'; \n\nimport '../css/system-notification.css';\n\nclass SystemNotification extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isClosed: false\n    };\n  }\n\n  close = () => {\n    this.setState({isClosed: true});\n\n    if (navigator.cookieEnabled) {\n      let date = new Date(),\n        cookies = document.cookie.split('; '),\n        infoIDExist = false,\n        newInfoID = curNoteID + '_';\n      date.setTime(date.getTime() + 14*24*60*60*1000);\n      newInfoID += '; expires=' + date.toGMTString() + '; path=' + siteRoot;\n      for (var i = 0, len = cookies.length; i < len; i++) {\n        if (cookies[i].split('=')[0] == 'info_id') {\n          infoIDExist = true;\n          document.cookie = 'info_id=' + cookies[i].split('=')[1] + newInfoID;\n          break;\n        }\n      }\n      if (!infoIDExist) {\n        document.cookie = 'info_id=' + newInfoID;\n      }\n    }\n  }\n  \n  render() {\n    if (!curNoteMsg || this.state.isClosed) {\n      return null;\n    }\n\n    return (\n      <div id=\"info-bar\">\n        <p id=\"info-bar-info\">{curNoteMsg}</p>\n        <span className=\"close sf2-icon-x1\" title={gettext('Close')} onClick={this.close}></span>\n      </div>\n    );\n  }\n}\n\nexport default SystemNotification;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/system-notification.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Logo from './logo';\nimport MainSideNav from './main-side-nav';\nimport SideNavFooter from './side-nav-footer';\n\nconst propTypes = {\n  isSidePanelClosed: PropTypes.bool.isRequired,\n  currentTab: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onCloseSidePanel: PropTypes.func.isRequired,\n  tabItemClick: PropTypes.func.isRequired,\n  draftCounts: PropTypes.number,\n};\n\nclass SidePanel extends React.Component {\n\n  render() {\n    return (\n      <div className={`side-panel ${this.props.isSidePanelClosed ? '' : 'left-zero'}`}>\n        <div className=\"side-panel-north\">\n          <Logo onCloseSidePanel={this.props.onCloseSidePanel}/>\n        </div>\n        <div className=\"side-panel-center\">\n          <MainSideNav tabItemClick={this.props.tabItemClick} currentTab={this.props.currentTab} draftCounts={this.props.draftCounts}/>\n        </div>\n        <div className=\"side-panel-footer\">\n          <SideNavFooter />\n        </div>\n      </div>\n    );\n  }\n}\n\nSidePanel.propTypes = propTypes;\n\nexport default SidePanel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/side-panel.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@reach/router';\nimport Group from '../models/group';\nimport { gettext, siteRoot, enableWiki, canAddRepo, canGenerateShareLink, canGenerateUploadLink } from '../utils/constants';\nimport { seafileAPI } from '../utils/seafile-api';\nimport { Badge } from 'reactstrap';\n\nimport { canViewOrg, isDocs } from '../utils/constants';\n\nconst propTypes = {\n  currentTab: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  tabItemClick: PropTypes.func.isRequired,\n  draftCounts: PropTypes.number,\n};\n\nclass MainSideNav extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupsExtended: false,\n      sharedExtended: false,\n      closeSideBar:false,\n      groupItems: [],\n    };\n\n    this.listHeight = 24; //for caculate tabheight\n    this.groupsHeight = 0;\n    this.adminHeight = 0;\n  }\n\n  grpsExtend = () => {\n    this.setState({\n      groupsExtended: !this.state.groupsExtended,\n    });\n    this.loadGroups();\n  }\n\n  shExtend = () => {\n    this.setState({\n      sharedExtended: !this.state.sharedExtended,\n    });\n  }\n\n  loadGroups = () => {\n    let _this = this;\n    seafileAPI.listGroups().then(res =>{\n      let groupList = res.data.map(item => {\n        let group = new Group(item);\n        return group;\n      });\n\n      this.groupsHeight = (groupList.length + 1) * _this.listHeight;\n      _this.setState({\n        groupItems: groupList\n      });\n    });\n  }\n\n  tabItemClick = (param, id) => {\n    this.props.tabItemClick(param, id);\n  }\n\n  getActiveClass = (tab) => {\n    return this.props.currentTab === tab ? 'active' : '';\n  }\n\n  renderSharedGroups() {\n    let style = {height: 0};\n    if (this.state.groupsExtended) {\n      style = {height: this.groupsHeight};\n    }\n    return (\n      <ul className={`nav sub-nav nav-pills flex-column grp-list ${this.state.groupsExtended ? 'side-panel-slide' : 'side-panel-slide-up'}`} style={style}>\n        <li className=\"nav-item\"> \n          <Link to={siteRoot + 'groups/'}  className={`nav-link ellipsis ${this.getActiveClass('groups')}`} onClick={() => this.tabItemClick('groups')}>\n            <span className=\"sharp\" aria-hidden=\"true\">#</span>\n            <span className=\"nav-text\">{gettext('All Groups')}</span>\n          </Link>\n        </li>\n        {this.state.groupItems.map(item => {\n          return (\n            <li key={item.id} className=\"nav-item\"> \n              <Link to={siteRoot + 'group/' + item.id + '/'} className={`nav-link ellipsis ${this.getActiveClass(item.name)}`} onClick={() => this.tabItemClick(item.name, item.id)}>\n                <span className=\"sharp\" aria-hidden=\"true\">#</span>\n                <span className=\"nav-text\">{item.name}</span>\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    );\n  }\n\n  renderSharedAdmin() {\n    let height = 0;\n    if (this.state.sharedExtended) {\n      if (!this.adminHeight) {\n        this.adminHeight = 3 * this.listHeight;\n      }\n      height = this.adminHeight;\n    }\n    let style = {height: height};\n\n    let linksNavItem = null;\n    if (canGenerateShareLink) {\n      linksNavItem = (\n        <li className=\"nav-item\">\n          <Link to={siteRoot + 'share-admin-share-links/'} className={`nav-link ellipsis ${this.getActiveClass('share-admin-share-links')}`} title={gettext('Links')} onClick={() => this.tabItemClick('share-admin-share-links')}>\n            <span aria-hidden=\"true\" className=\"sharp\">#</span>\n            <span className=\"nav-text\">{gettext('Links')}</span>\n          </Link>\n        </li>\n      );\n    } else if (canGenerateUploadLink) {\n      linksNavItem = (\n        <li className=\"nav-item\">\n          <Link to={siteRoot + 'share-admin-upload-links/'} className={`nav-link ellipsis ${this.getActiveClass('share-admin-upload-links')}`} title={gettext('Links')} onClick={() => this.tabItemClick('share-admin-upload-links')}>\n            <span aria-hidden=\"true\" className=\"sharp\">#</span>\n            <span className=\"nav-text\">{gettext('Links')}</span>\n          </Link>\n        </li>\n      );\n    }\n    return (\n      <ul className={`nav sub-nav nav-pills flex-column ${this.state.sharedExtended ? 'side-panel-slide' : 'side-panel-slide-up'}`} style={style} >\n        {canAddRepo && (\n          <li className=\"nav-item\">\n            <Link to={siteRoot + 'share-admin-libs/'} className={`nav-link ellipsis ${this.getActiveClass('share-admin-libs')}`} title={gettext('Libraries')} onClick={() => this.tabItemClick('share-admin-libs')}>\n              <span aria-hidden=\"true\" className=\"sharp\">#</span>\n              <span className=\"nav-text\">{gettext('Libraries')}</span>\n            </Link>\n          </li>\n        )}\n        <li className=\"nav-item\">\n          <Link to={siteRoot + 'share-admin-folders/'} className={`nav-link ellipsis ${this.getActiveClass('share-admin-folders')}`} title={gettext('Folders')} onClick={() => this.tabItemClick('share-admin-folders')}>\n            <span aria-hidden=\"true\" className=\"sharp\">#</span>\n            <span className=\"nav-text\">{gettext('Folders')}</span>\n          </Link>\n        </li>\n        {linksNavItem}\n      </ul>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"side-nav\">\n        <div className=\"side-nav-con\">\n          <h3 className=\"sf-heading\">{gettext('Files')}</h3>\n          <ul className=\"nav nav-pills flex-column nav-container\">\n            {canAddRepo && (\n              <li className=\"nav-item\">\n                <Link to={ siteRoot + 'my-libs/' } className={`nav-link ellipsis ${this.getActiveClass('my-libs') || this.getActiveClass('deleted') }`} title={gettext('My Libraries')} onClick={() => this.tabItemClick('my-libs')}>\n                  <span className=\"sf2-icon-user\" aria-hidden=\"true\"></span>\n                  <span className=\"nav-text\">{gettext('My Libraries')}</span>\n                </Link>\n              </li>\n            )}\n            <li className=\"nav-item\">\n              <Link to={siteRoot + 'shared-libs/'} className={`nav-link ellipsis ${this.getActiveClass('shared-libs')}`} title={gettext('Shared with me')} onClick={() => this.tabItemClick('shared-libs')}>\n                <span className=\"sf2-icon-share\" aria-hidden=\"true\"></span>\n                <span className=\"nav-text\">{gettext('Shared with me')}</span>\n              </Link>\n            </li>\n            { canViewOrg &&\n              <li className=\"nav-item\" onClick={() => this.tabItemClick('org')}>\n                <Link to={ siteRoot + 'org/' } className={`nav-link ellipsis ${this.getActiveClass('org')}`} title={gettext('Shared with all')}>\n                  <span className=\"sf2-icon-organization\" aria-hidden=\"true\"></span>\n                  <span className=\"nav-text\">{gettext('Shared with all')}</span>\n                </Link>\n              </li>\n            }\n            <li className=\"nav-item flex-column\" id=\"group-nav\">\n              <a className=\"nav-link ellipsis\" title={gettext('Shared with groups')} onClick={this.grpsExtend}>\n                <span className={`toggle-icon float-right fas ${this.state.groupsExtended ?'fa-caret-down':'fa-caret-left'}`} aria-hidden=\"true\"></span>\n                <span className=\"sf2-icon-group\" aria-hidden=\"true\"></span>\n                <span className=\"nav-text\">{gettext('Shared with groups')}</span>\n              </a>\n              {this.renderSharedGroups()}\n            </li>\n          </ul>\n\n          <h3 className=\"sf-heading\">{gettext('Tools')}</h3>\n          <ul className=\"nav nav-pills flex-column nav-container\">\n            <li className=\"nav-item\">\n              <Link className={`nav-link ellipsis ${this.getActiveClass('starred')}`} to={siteRoot + 'starred/'} title={gettext('Favorites')} onClick={() => this.tabItemClick('starred')}>\n                <span className=\"sf2-icon-star\" aria-hidden=\"true\"></span>\n                <span className=\"nav-text\">{gettext('Favorites')}</span>\n              </Link>\n            </li>\n            {isDocs &&\n              <li className=\"nav-item\">\n                <Link className={`nav-link ellipsis ${this.getActiveClass('dashboard')}`} to={siteRoot + 'dashboard/'} title={gettext('Activities')} onClick={() => this.tabItemClick('dashboard')}>\n                  <span className=\"sf2-icon-clock\" aria-hidden=\"true\"></span>\n                  <span className=\"nav-text\">{gettext('Activities')}</span>\n                </Link>\n              </li>\n            }\n            {enableWiki &&\n              <li className=\"nav-item\">\n                <Link className={`nav-link ellipsis ${this.getActiveClass('wikis')}`} to={siteRoot + 'wikis/'} title={gettext('Wikis')} onClick={() => this.tabItemClick('wikis')}>\n                  <span className=\"sf2-icon-wiki-view\" aria-hidden=\"true\"></span>\n                  <span className=\"nav-text\">{gettext('Wikis')}</span>\n                </Link>\n              </li>\n            }\n            {isDocs &&\n              <li className=\"nav-item\" onClick={() => this.tabItemClick('drafts')}>\n                <Link className={`nav-link ellipsis ${this.getActiveClass('drafts')}`} to={siteRoot + 'drafts/'} title={gettext('Drafts')}>\n                  <span className=\"sf2-icon-edit\" aria-hidden=\"true\"></span>\n                  <span className=\"draft-info nav-text\">\n                    {gettext('Drafts')}  \n                    {this.props.draftCounts === 0 ? '' : <Badge color=\"info\" pill>{this.props.draftCounts}</Badge>}\n                  </span>\n                </Link>\n              </li>\n            }\n            <li className=\"nav-item\">\n              <Link className={`nav-link ellipsis ${this.getActiveClass('linked-devices')}`} to={siteRoot + 'linked-devices/'} title={gettext('Linked Devices')} onClick={() => this.tabItemClick('linked-devices')}>\n                <span className=\"sf2-icon-monitor\" aria-hidden=\"true\"></span>\n                <span className=\"nav-text\">{gettext('Linked Devices')}</span>\n              </Link>\n            </li>\n            <li className=\"nav-item flex-column\" id=\"share-admin-nav\">\n              <a className=\"nav-link ellipsis\" title={gettext('Share Admin')} onClick={this.shExtend}>\n                <span className={`toggle-icon float-right fas ${this.state.sharedExtended ? 'fa-caret-down':'fa-caret-left'}`} aria-hidden=\"true\"></span>\n                <span className=\"sf2-icon-wrench\" aria-hidden=\"true\"></span>\n                <span className=\"nav-text\">{gettext('Share Admin')}</span>\n              </a>\n              {this.renderSharedAdmin()}\n            </li>\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nMainSideNav.propTypes = propTypes;\n\nexport default MainSideNav;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/main-side-nav.js","import React from 'react';\nimport { gettext, siteRoot } from '../utils/constants';\nimport ModalPortal from './modal-portal';\nimport AboutDialog from './dialog/about-dialog';\n\nclass SideNavFooter extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAboutDialogShow: false,\n    };\n  }\n\n  onAboutDialogToggle = () => {\n    this.setState({isAboutDialogShow: !this.state.isAboutDialogShow});\n  }\n\n  render() {\n    return (\n      <div className=\"side-nav-footer\">\n        <a href={siteRoot + 'help/'} target=\"_blank\" rel=\"noopener noreferrer\" className=\"item\">{gettext('Help')}</a>\n        <a className=\"item\" onClick={this.onAboutDialogToggle}>{gettext('About')}</a>\n        <a href={siteRoot + 'download_client_program/'} className=\"item last-item\">\n          <span aria-hidden=\"true\" className=\"sf2-icon-monitor vam\"></span>{' '}\n          <span className=\"vam\">{gettext('Clients')}</span>\n        </a>\n        {this.state.isAboutDialogShow &&\n          <ModalPortal>\n            <AboutDialog onCloseAboutDialog={this.onAboutDialogToggle} />\n          </ModalPortal>\n        }\n      </div>\n    );\n  }\n}\n\nexport default SideNavFooter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/side-nav-footer.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalBody } from 'reactstrap';\nimport { gettext, lang, mediaUrl, logoPath, logoWidth, logoHeight, siteTitle, seafileVersion } from '../../utils/constants';\n\nconst propTypes = {\n  onCloseAboutDialog: PropTypes.func.isRequired,\n};\n\nclass AboutDialog extends React.Component {\n\n  toggle = () => {\n    this.props.onCloseAboutDialog();\n  }\n\n  render() {\n    let href = lang === lang == 'zh-cn' ? 'http://seafile.com/about/' : 'http://seafile.com/en/about/';\n\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalBody>\n          <button type=\"button\" className=\"close\" onClick={this.toggle}><span aria-hidden=\"true\"></span></button>\n          <div className=\"about-content\">\n            <p><img src={mediaUrl + logoPath} height={logoHeight} width={logoWidth} title={siteTitle} alt=\"logo\" /></p>\n            <p>{gettext('Server Version: ')}{seafileVersion}<br /> 2019 {gettext('Seafile')}</p>\n            <p><a href={href} target=\"_blank\">{gettext('About Us')}</a></p>\n          </div>\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nAboutDialog.propTypes = propTypes;\n\nexport default AboutDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/about-dialog.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  children: PropTypes.object.isRequired,\n};\n\nclass MainPanel extends Component {\n\n  render() {\n    return (\n      <div className=\"main-panel o-hidden\">\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nMainPanel.propTypes = propTypes;\n\nexport default MainPanel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/main-panel.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.object\n  ]).isRequired,\n};\n\nclass DraftsView extends React.Component {\n  render() {\n    return (\n      <div className=\"main-panel-center\">\n        <div className=\"cur-view-container\">\n          <div className=\"cur-view-path\">\n            <div className=\"path-container\">\n              <h3 className=\"sf-heading\">{gettext('Drafts')}</h3>\n            </div>\n          </div>\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\n\nDraftsView.propTypes = propTypes;\n\nexport default DraftsView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/drafts/drafts-view.js","import React, { Fragment } from 'react';\nimport { gettext } from '../../utils/constants';\nimport editUtilties from '../../utils/editor-utilties';\nimport { Utils } from '../../utils/utils';\nimport PropTypes from 'prop-types';\nimport toaster from '../../components/toast';\nimport Loading from '../../components/loading';\nimport DraftListView from '../../components/draft-list-view/draft-list-view';\n\nconst propTypes = {\n  isLoadingDraft: PropTypes.bool.isRequired,\n  updateDraftsList: PropTypes.func.isRequired,\n  draftList: PropTypes.array.isRequired,\n  getDrafts: PropTypes.func.isRequired,\n};\n\nclass DraftContent extends React.Component {\n\n  componentDidMount() {\n    this.props.getDrafts();\n  }\n\n  onDeleteHandler = (draft) => {\n    // let draft = this.state.currentDraft;\n    let draft_name = Utils.getFileName(draft.draft_file_path);\n    editUtilties.deleteDraft(draft.id).then(res => {\n      this.props.updateDraftsList(draft.id);\n      let msg_s = gettext('Successfully deleted draft %(draft)s.');\n      msg_s = msg_s.replace('%(draft)s', draft_name);\n      toaster.success(msg_s);\n    }).catch(() => {\n      let msg_s = gettext('Failed to delete draft %(draft)s.');\n      msg_s = msg_s.replace('%(draft)s', draft_name);\n      toaster.danger(msg_s);\n    });\n  }\n\n  onPublishHandler = (draft) => {\n    // let draft = this.state.currentDraft;\n    let draft_name = Utils.getFileName(draft.draft_file_path);\n    editUtilties.publishDraft(draft.id).then(res => {\n      this.props.updateDraftsList(draft.id);\n      let msg_s = gettext('Successfully published draft %(draft)s.');\n      msg_s = msg_s.replace('%(draft)s', draft_name);\n      toaster.success(msg_s);\n    }).catch(() => {\n      let msg_s = gettext('Failed to publish draft %(draft)s.');\n      msg_s = msg_s.replace('%(draft)s', draft_name);\n      toaster.danger(msg_s);\n    });\n  }\n  \n  render() {\n    return (\n      <div className=\"cur-view-content\">\n        {this.props.isLoadingDraft && <Loading />}\n        {!this.props.isLoadingDraft && (\n          <Fragment>\n            {this.props.draftList.length === 0 && (\n              <div className=\"message empty-tip\">\n                <h2>{gettext('No draft yet')}</h2>\n                <p>{gettext('Draft is a way to let you collaborate with others on files. You can create a draft from a file, edit the draft and then ask for a review. The original file will be updated only after the draft be reviewed.')}</p>\n              </div>\n            )}\n            {this.props.draftList.length !==0 && (\n              <DraftListView\n                draftList={this.props.draftList} \n                onDeleteHandler={this.onDeleteHandler}\n                onPublishHandler={this.onPublishHandler}\n              />\n            )}\n          </Fragment>\n        )}\n      </div>\n    );\n  }\n}\n\nDraftContent.propTypes = propTypes;\n\nexport default DraftContent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/drafts/draft-content.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport DraftListItem from './draft-list-item';\n\nconst propTypes = {\n  draftList: PropTypes.array.isRequired,\n  onDeleteHandler: PropTypes.func.isRequired,\n  onPublishHandler: PropTypes.func.isRequired,\n};\n\nclass DraftListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  render() {\n    let drafts = this.props.draftList;\n    return (\n      <table>\n        <thead>\n          <tr>\n            <th style={{width: '4%'}}>{/*img*/}</th>\n            <th style={{width: '46%'}}>{gettext('Name')}</th>\n            <th style={{width: '30%'}}>{gettext('Library')}</th>\n            <th style={{width: '10%'}}>{gettext('Last Update')}</th>\n            <th style={{width: '10%'}}></th>\n          </tr>\n        </thead>\n        <tbody>\n          { drafts && drafts.map((draft) => {\n            return (\n              <DraftListItem \n                key={draft.id} \n                draft={draft} \n                isItemFreezed={this.state.isItemFreezed}\n                onFreezedItem={this.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n                onDeleteHandler={this.props.onDeleteHandler}\n                onPublishHandler={this.props.onPublishHandler}\n              />\n            );\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nDraftListView.propTypes = propTypes;\n\nexport default DraftListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/draft-list-view/draft-list-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../utils/constants';\n\nconst propTypes = {\n  onShowMore: PropTypes.func.isRequired\n};\n\nclass More extends React.Component {\n\n  render() {\n    return (\n      <li className=\"list-show-more\" onClick={this.props.onShowMore}>\n        <span className=\"more-message\">{gettext('show more')}</span>\n      </li>\n    );\n  }\n}\n\nMore.propTypes = propTypes;\n\nexport default More;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/more.js","import React from 'react';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext, siteRoot, lang } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nmoment.locale(lang);\nconst propTypes = {\n  draft: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onDeleteHandler: PropTypes.func.isRequired,\n  onPublishHandler: PropTypes.func.isRequired,\n};\n\nclass DraftListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMenuIconShow: false,\n      isItemMenuShow: false,\n      highlight: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isMenuIconShow: true,\n        highlight: true,\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isMenuIconShow: false,\n        highlight: false,\n      });\n    }\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    e.stopPropagation();\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow }, () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.setState({\n            highlight: false,\n            isMenuIconShow: false,\n          });\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  }\n\n  onDeleteHandler = () => {\n    this.props.onDeleteHandler(this.props.draft);\n  }\n\n  onPublishHandler = () => {\n    this.props.onPublishHandler(this.props.draft);\n  }\n\n  render() {\n    let draft = this.props.draft;\n    let repoID = draft.origin_repo_id;\n    let filePath = draft.draft_file_path;\n    let fileName = Utils.getFileName(filePath);\n    let draftUrl = siteRoot + 'drafts/' + draft.id + '/';\n    let libraryUrl = siteRoot + 'library/' + repoID + '/' + encodeURIComponent(draft.repo_name) + '/' ;\n    let localTime = moment.utc(draft.updated_at).toDate();\n    localTime = moment(localTime).fromNow();\n\n    let iconUrl = Utils.getFileIconUrl(fileName);\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className=\"text-center\"><img src={iconUrl} width=\"24\" alt='' /></td>\n        <td className=\"name\" >\n          <a href={draftUrl} target=\"_blank\">{fileName}</a>\n        </td>\n        <td className=\"library\">\n          <a href={libraryUrl} target=\"_blank\">{draft.repo_name}</a>\n        </td>\n        <td className=\"update\">{localTime}</td>\n        <td className=\"text-center\">\n          {this.state.isMenuIconShow && (\n            <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n              <DropdownToggle \n                tag=\"i\" \n                className=\"fas fa-ellipsis-v attr-action-icon\" \n                title={gettext('More Operations')}\n                onClick={this.onDropdownToggleClick}\n                data-toggle=\"dropdown\" \n                aria-expanded={this.state.isItemMenuShow}\n              />\n              <DropdownMenu>\n                <DropdownItem onClick={this.onDeleteHandler}>{gettext('Delete')}</DropdownItem>\n                {draft.status == 'open' &&\n                  <DropdownItem onClick={this.onPublishHandler}>{gettext('Publish')}</DropdownItem>\n                }\n              </DropdownMenu>\n            </Dropdown>\n          )}\n        </td>\n      </tr>\n    );\n  }\n}\n\nDraftListItem.propTypes = propTypes;\n\nexport default DraftListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/draft-list-view/draft-list-item.js","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, siteRoot, serviceURL } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport Activity from '../../models/activity';\nimport ListCreatedFileDialog from '../../components/dialog/list-created-files-dialog';\nimport ModalPortal from '../../components/modal-portal';\nimport '../../css/files-activities.css';\n\nmoment.locale(window.app.config.lang);\n\nconst contentPropTypes = {\n  isLoadingMore: PropTypes.bool.isRequired,\n  items: PropTypes.array.isRequired,\n};\n\nclass FileActivitiesContent extends Component {\n\n  render() {\n    let {items, isLoadingMore} = this.props;\n    return ( \n      <Fragment>\n        <table width=\"100%\" className=\"table table-hover table-vcenter\">\n          <colgroup>\n            <col width=\"8%\" />\n            <col width=\"15%\" />\n            <col width=\"20%\" />\n            <col width=\"37%\" />\n            <col width=\"20%\" />\n          </colgroup>\n          <tbody>\n            {items.map((item, index) => {\n              return (\n                <ActivityItem \n                  key={index}\n                  item={item}\n                  index={index}\n                  items={items}\n                />\n              );\n            })}\n          </tbody>\n        </table>\n        {isLoadingMore ? <span className=\"loading-icon loading-tip\"></span> : ''}\n      </Fragment>\n    ); \n  }\n}\n\nFileActivitiesContent.propTypes = contentPropTypes;\n\nconst activityPropTypes = {\n  item: PropTypes.object.isRequired,\n  index: PropTypes.number.isRequired,\n  items: PropTypes.array.isRequired,\n};\n\nclass ActivityItem extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isListCreatedFiles: false,\n      active: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({\n      active: true\n    });\n  }\n\n  onMouseLeave = () => {\n    this.setState({\n      active: false\n    });\n  }\n\n  onListCreatedFilesToggle = () => {\n    this.setState({\n      isListCreatedFiles: !this.state.isListCreatedFiles,\n    });\n  }\n\n  render() {\n    let {item, index, items} = this.props;\n    let op, details;\n    let userProfileURL = `${siteRoot}profile/${encodeURIComponent(item.author_email)}/`;\n\n    let libURL = siteRoot + 'library/' + item.repo_id + '/' + encodeURIComponent(item.repo_name) + '/';\n    let libLink = <a href={libURL}>{item.repo_name}</a>;\n    let smallLibLink = <a className=\"small text-secondary\" href={libURL}>{item.repo_name}</a>;\n\n    if (item.obj_type == 'repo') {\n      switch(item.op_type) {\n        case 'create':\n          op = gettext('Created library');\n          details = <td>{libLink}</td>;\n          break;\n        case 'rename':\n          op = gettext('Renamed library');\n          details = <td>{item.old_repo_name} => {libLink}</td>;\n          break;\n        case 'delete':\n          op = gettext('Deleted library');\n          details = <td>{item.repo_name}</td>;\n          break;\n        case 'recover':\n          op = gettext('Restored library');\n          details = <td>{libLink}</td>;\n          break;\n        case 'clean-up-trash':\n          if (item.days == 0) {\n            op = gettext('Removed all items from trash.');\n          } else {\n            op = gettext('Removed items older than {n} days from trash.').replace('{n}', item.days);\n          }\n          details = <td>{libLink}</td>;\n          break;\n      }\n    } else if (item.obj_type == 'draft') {\n      let fileURL = `${siteRoot}lib/${item.repo_id}/file${Utils.encodePath(item.path)}`;\n      let fileLink = <a href={fileURL} target=\"_blank\">{item.name}</a>;\n      op = gettext('Publish draft');\n      details = <td>{fileLink}<br />{smallLibLink}</td>;\n    } else if (item.obj_type == 'files') {\n      let fileURL = `${siteRoot}lib/${item.repo_id}/file${Utils.encodePath(item.path)}`;\n      if (item.name.endsWith('(draft).md')) {\n        fileURL = serviceURL + '/drafts/' + item.draft_id + '/';\n      }\n      let fileLink = `<a href=${fileURL} target=\"_blank\">${item.name}</a>`;\n      if (item.name.endsWith('(draft).md') && !item.draft_id) {\n        fileLink = item.name;\n      }\n      let fileCount = item.createdFilesCount - 1;\n      let firstLine = gettext('{file} and {n} other files');\n      firstLine = firstLine.replace('{file}', fileLink);\n      firstLine = firstLine.replace('{n}', fileCount);\n      op = gettext('Created {n} files').replace('{n}', item.createdFilesCount);\n      details =\n        <td>\n          <div className=\"activity-detail\" dangerouslySetInnerHTML={{__html: firstLine}}></div>{' '}\n          {this.state.active && <i className=\"attr-action-icon fas fa-eye\" onClick={this.onListCreatedFilesToggle}></i>}\n          <br />{smallLibLink}\n        </td>;\n    } else if (item.obj_type == 'file') {\n      let fileURL = `${siteRoot}lib/${item.repo_id}/file${Utils.encodePath(item.path)}`;\n      if (item.name.endsWith('(draft).md')) {\n        fileURL = serviceURL + '/drafts/' + item.draft_id + '/';\n      }\n      let fileLink = <a href={fileURL} target=\"_blank\">{item.name}</a>;\n      if (item.name.endsWith('(draft).md') && !item.draft_id) {\n        fileLink = item.name;\n      }\n      switch(item.op_type) {\n        case 'create':\n          if (item.name.endsWith('(draft).md')) {\n            op = gettext('Created draft');\n            details = <td>{fileLink}<br />{smallLibLink}</td>;\n            break;\n          }\n          op = gettext('Created file');\n          details = <td>{fileLink}<br />{smallLibLink}</td>;\n          break;\n        case 'delete':\n          if (item.name.endsWith('(draft).md')) {\n            op = gettext('Deleted draft');\n            details = <td>{item.name}<br />{smallLibLink}</td>;\n            break;\n          }\n          op = gettext('Deleted file');\n          details = <td>{item.name}<br />{smallLibLink}</td>;\n          break;\n        case 'recover':\n          op = gettext('Restored file');\n          details = <td>{fileLink}<br />{smallLibLink}</td>;\n          break;\n        case 'rename':\n          op = gettext('Renamed file');\n          details = <td>{item.old_name} => {fileLink}<br />{smallLibLink}</td>;\n          break;\n        case 'move':\n          var filePathLink = <a href={fileURL}>{item.path}</a>;\n          op = gettext('Moved file');\n          details = <td>{item.old_path} => {filePathLink}<br />{smallLibLink}</td>;\n          break;\n        case 'edit': // update\n          if (item.name.endsWith('(draft).md')) {\n            op = gettext('Updated draft');\n            details = <td>{fileLink}<br />{smallLibLink}</td>;\n            break;\n          }\n          op = gettext('Updated file');\n          details = <td>{fileLink}<br />{smallLibLink}</td>;\n          break;\n      }\n    } else { // dir\n      let dirURL = siteRoot + 'library/' + item.repo_id + '/' + encodeURIComponent(item.repo_name) + Utils.encodePath(item.path);\n      let dirLink = <a href={dirURL} target=\"_blank\">{item.name}</a>;\n      switch(item.op_type) {\n        case 'create':\n          op = gettext('Created folder');\n          details = <td>{dirLink}<br />{smallLibLink}</td>;\n          break;\n        case 'delete':\n          op = gettext('Deleted folder');\n          details = <td>{item.name}<br />{smallLibLink}</td>;\n          break;\n        case 'recover':\n          op = gettext('Restored folder');\n          details = <td>{dirLink}<br />{smallLibLink}</td>;\n          break;\n        case 'rename':\n          op = gettext('Renamed folder');\n          details = <td>{item.old_name} => {dirLink}<br />{smallLibLink}</td>;\n          break;\n        case 'move':\n          var dirPathLink = <a href={dirURL}>{item.path}</a>;\n          op = gettext('Moved folder');\n          details = <td>{item.old_path} => {dirPathLink}<br />{smallLibLink}</td>;\n          break;\n      }\n    }\n\n    let isShowDate = true;\n    if (index > 0) {\n      let lastEventTime = items[index - 1].time;\n      isShowDate = moment(item.time).isSame(lastEventTime, 'day') ? false : true;\n    }\n\n    return (\n      <Fragment>\n        { isShowDate &&\n          <tr>\n            <td colSpan='5' className=\"activity-date\">{moment(item.time).format('YYYY-MM-DD')}</td>\n          </tr>\n        }\n        <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n          <td className=\"text-center\">\n            <img src={item.avatar_url} alt=\"\" width=\"36px\" height=\"36px\" className=\"avatar\" />\n          </td>\n          <td>\n            <a href={userProfileURL}>{item.author_name}</a>\n          </td>\n          <td><span className=\"activity-op\">{op}</span></td>\n          {details}\n          <td className=\"text-secondary\">\n            <time datetime={item.time} is=\"relative-time\" title={moment(item.time).format('llll')}>{moment(item.time).fromNow()}</time>\n          </td>\n        </tr>\n        {this.state.isListCreatedFiles &&\n          <ModalPortal>\n            <ListCreatedFileDialog\n              activity={item}\n              toggleCancel={this.onListCreatedFilesToggle}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nActivityItem.propTypes = activityPropTypes;\n\nclass FilesActivities extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorMsg: '',\n      isFirstLoading: true,\n      isLoadingMore: false,\n      currentPage: 1,\n      hasMore: true,\n      items: [],\n    };\n    this.avatarSize = 72;\n    this.curPathList = [];\n    this.oldPathList = [];\n  }\n\n  componentDidMount() {\n    let currentPage = this.state.currentPage;\n    seafileAPI.listActivities(currentPage, this.avatarSize).then(res => {\n      // {\"events\":[...]}\n      let events = this.mergePublishEvents(res.data.events);\n      events = this.mergeFileCreateEvents(events);\n      this.setState({\n        items: events,\n        currentPage: currentPage + 1,\n        isFirstLoading: false,\n        hasMore: true,\n      });\n      if (this.state.items.length < 25) {\n        this.getMore();\n      }\n    }).catch(error => {\n      if (error.response.status == 403) {\n        this.setState({\n          isFirstLoading: false,\n          errorMsg: gettext('Permission denied')\n        });\n      }\n    });\n  }\n\n  mergePublishEvents = (events) => {\n    events.map((item) => {\n      if (item.op_type === 'publish') {\n        this.curPathList.push(item.path);\n        this.oldPathList.push(item.old_path);\n      }\n    });\n    let actuallyEvents = [];\n    for (var i = 0; i < events.length; i++) {\n      if (events[i].obj_type === 'file') {\n        if (events[i].op_type === 'delete' && this.oldPathList.includes(events[i].path)) {\n          this.oldPathList.splice(this.oldPathList.indexOf(events[i].path), 1);\n        } else if (events[i].op_type === 'edit' && this.curPathList.includes(events[i].path)) {\n          this.curPathList.splice(this.curPathList.indexOf(events[i].path), 1);\n        } else if (events[i].op_type === 'rename' && this.oldPathList.includes(events[i].old_path)) {\n          this.oldPathList.splice(this.oldPathList.indexOf(events[i].old_path), 1);\n        } else {\n          actuallyEvents.push(events[i]);\n        }\n      } else {\n        actuallyEvents.push(events[i]);\n      }\n    }\n    return actuallyEvents;\n  }\n\n  mergeFileCreateEvents = (events) => {\n    let actuallyEvents = [];\n    let multiFilesActivity = null;\n    for (var i = 0; i < events.length; i++) {\n      let isFulfilCondition = events[i].obj_type === 'file' &&\n                              events[i].op_type === 'create' &&\n                              events[i + 1] &&\n                              events[i + 1].obj_type === 'file' &&\n                              events[i + 1].op_type === 'create' &&\n                              events[i + 1].repo_name === events[i].repo_name &&\n                              events[i + 1].author_email === events[i].author_email;\n      if (multiFilesActivity != null) {\n        multiFilesActivity.createdFilesCount++;\n        multiFilesActivity.createdFilesList.push(events[i]);\n        if (isFulfilCondition) {\n          continue;\n        } else {\n          actuallyEvents.push(multiFilesActivity);\n          multiFilesActivity = null;\n        }\n      } else {\n        if (isFulfilCondition) {\n          multiFilesActivity = new Activity(events[i]);\n          multiFilesActivity.obj_type = 'files';\n          multiFilesActivity.createdFilesCount++;\n          multiFilesActivity.createdFilesList.push(events[i]);\n        } else {\n          actuallyEvents.push(events[i]);\n        }\n      }\n    }\n    return actuallyEvents;\n  }\n\n  getMore() {\n    let currentPage = this.state.currentPage;\n    seafileAPI.listActivities(currentPage, this.avatarSize).then(res => {\n      // {\"events\":[...]}\n      let events = this.mergePublishEvents(res.data.events);\n      events = this.mergeFileCreateEvents(events);\n      this.setState({\n        isLoadingMore: false,\n        items: [...this.state.items, ...events],\n        currentPage: currentPage + 1,\n        hasMore: res.data.events.length === 0 ? false : true \n      });\n      if (this.state.items.length < 25 && this.state.hasMore) {\n        this.getMore();\n      }\n    }).catch(error => {\n      if (error.response.status == 403) {\n        this.setState({\n          isLoadingMore: false,\n          errorMsg: gettext('Permission denied')\n        });\n      }\n    });\n  }\n\n  handleScroll = (event) => {\n    if (!this.state.isLoadingMore && this.state.hasMore) {\n      const clientHeight = event.target.clientHeight;\n      const scrollHeight = event.target.scrollHeight;\n      const scrollTop    = event.target.scrollTop;\n      const isBottom = (clientHeight + scrollTop + 1 >= scrollHeight);\n      if (isBottom) { // scroll to the bottom\n        this.setState({isLoadingMore: true}, () => {\n          this.getMore();\n        });\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"main-panel-center\">\n        <div className=\"cur-view-container\" id=\"activities\">\n          <div className=\"cur-view-path\">\n            <h3 className=\"sf-heading\">{gettext('Activities')}</h3>\n          </div>\n          <div className=\"cur-view-content\" onScroll={this.handleScroll}>\n            {this.state.isFirstLoading && <Loading />}\n            {(!this.state.isFirstLoading && this.state.errorMsg) && \n              <p className=\"error text-center\">{this.state.errorMsg}</p>\n            }\n            {!this.state.isFirstLoading && \n              <FileActivitiesContent items={this.state.items} isLoadingMore={this.state.isLoadingMore}/>\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FilesActivities;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dashboard/files-activities.js","class Acticity {\n  constructor(json) {\n    this.repo_id = json.repo_id;\n    this.repo_name = json.repo_name;\n    this.obj_type = json.obj_type;\n    this.commit_id = json.commit_id;\n    this.path = json.path;\n    this.name = json.name;\n    this.author_email = json.author_email;\n    this.author_name = json.author_name;\n    this.author_contact_email = json.author_contact_email;\n    this.avatar_url = json.avatar_url;\n    this.time = json.time;\n    this.op_type = json.op_type;\n    this.createdFilesCount = 0;\n    this.createdFilesList = [];\n    if (json.op_type === 'clean-up-trash') {\n      this.days = json.days;\n    } else if (json.op_type === 'rename' && json.obj_type === 'repo') {\n      this.old_repo_name = json.old_repo_name;\n    } else if (json.op_type === 'move' && ['dir', 'file'].includes(json.obj_type)) {\n      this.old_path = json.old_path;\n    } else if (json.op_type === 'rename' && ['dir', 'file'].includes(json.obj_type)) {\n      this.old_path = json.old_path;\n      this.old_name = json.old_name;\n    } else if (json.op_type === 'publish') {\n      this.old_path = json.old_path;\n    } else if (json.name.endsWith('(draft).md')) {\n      this.draft_id = json.draft_id;\n    }\n  }\n}\n\nexport default Acticity;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/activity.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Table } from 'reactstrap';\nimport { gettext, siteRoot, serviceURL } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  activity: PropTypes.object.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n};\n\nclass ListCreatedFileDialog extends React.Component {\n\n  toggle = (activity) => {\n    this.props.toggleCancel(activity);\n  }\n\n  render() {\n    let activity = this.props.activity;\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.toggle}>{gettext('Created Files')}</ModalHeader>\n        <ModalBody>\n          <Table>\n            <thead>\n              <tr>\n                <th width='75%'>{gettext('Name')}</th>\n                <th width='25%'>{gettext('Time')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                activity.createdFilesList.map((item, index) => {\n                  let fileURL = `${siteRoot}lib/${item.repo_id}/file${Utils.encodePath(item.path)}`;\n                  if (item.name.endsWith('(draft).md')) {                 \n                    fileURL = serviceURL + '/drafts/' + item.draft_id + '/';\n                  } \n                  let fileLink = <a href={fileURL} target='_blank'>{item.name}</a>                       \n                  if (item.name.endsWith('(draft).md') && !item.draft_id) {\n                    fileLink = item.name;\n                  }  \n                  return (\n                    <tr key={index}>\n                      <td>{fileLink}</td>\n                      <td>{moment(item.time).fromNow()}</td>\n                    </tr>\n                  );\n                })\n              }\n            </tbody>\n          </Table>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle.bind(this, activity)}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nListCreatedFileDialog.propTypes = propTypes;\n\nexport default ListCreatedFileDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/list-created-files-dialog.js","import React, { Component } from 'react';\nimport { Link } from '@reach/router';\nimport moment from 'moment';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport { gettext, siteRoot, loginUrl } from '../../utils/constants';\n\nclass Content extends Component {\n\n  render() {\n    const {loading, errorMsg, items} = this.props.data;\n\n    if (loading) {\n      return <span className=\"loading-icon loading-tip\"></span>;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const desktopThead = (\n        <thead>\n          <tr>\n            <th width=\"4%\"></th>\n            <th width=\"40%\">{gettext('File Name')}</th>\n            <th width=\"32%\">{gettext('Library')}</th>\n            <th width=\"18%\">{gettext('Last Update')}</th>\n            <th width=\"6%\"></th>\n          </tr>\n        </thead>\n      );\n      const mobileThead = (\n        <thead>\n          <tr>\n            <th width=\"4%\"></th>\n            <th width=\"90%\">{gettext('File Name')}</th>\n            <th width=\"6%\"></th>\n          </tr>\n        </thead>\n      );\n\n      return ( \n        <table className=\"table-hover\">\n          {window.innerWidth >= 768 ? desktopThead : mobileThead}\n          <TableBody items={items} />\n        </table>\n      ); \n    }\n  }\n}\n\nclass TableBody extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: this.props.items\n    };\n  }\n\n  componentDidMount() {\n    this.getThumbnails();\n  }\n\n  getThumbnails() {\n    let items = this.state.items.filter((item) => {\n        return Utils.imageCheck(item.obj_name) && !item.repo_encrypted;\n    });\n    if (items.length == 0) {\n      return ;\n    }\n\n    const len = items.length;\n    const thumbnailSize = 48;\n    const _this = this;\n    let getThumbnail = function(i) {\n      const curItem = items[i];\n      seafileAPI.createThumbnail(curItem.repo_id, curItem.path, thumbnailSize).then((res) => {\n        curItem.encoded_thumbnail_src = res.data.encoded_thumbnail_src;\n      }).catch((error) => {\n        // do nothing\n      }).then(() => {\n        if (i < len - 1) {\n          getThumbnail(++i);\n        } else {\n          // when done, `setState()`\n          _this.setState({\n            items: _this.state.items\n          });\n        }\n      });\n    };\n    getThumbnail(0);\n  }\n\n  render() {\n\n    let listFilesActivities = this.state.items.map(function(item, index) {\n\n      if (item.path === '/') {\n        item.item_icon_url = Utils.getDefaultLibIconUrl(false);\n      } else {\n        item.item_icon_url = item.is_dir ? Utils.getFolderIconUrl(false) : Utils.getFileIconUrl(item.obj_name);\n      }\n\n      item.encoded_path = Utils.encodePath(item.path);\n\n      item.thumbnail_url = item.encoded_thumbnail_src ? `${siteRoot}${item.encoded_thumbnail_src}` : '';\n      item.dirent_view_url = item.is_dir ? `${siteRoot}library/${item.repo_id}/${item.repo_name}${item.encoded_path}` : `${siteRoot}lib/${item.repo_id}/file${item.encoded_path}`;\n\n      item.mtime_relative = moment(item.mtime).fromNow();\n\n\n      return <Item key={index} data={item} />;\n    }, this);\n\n    return (\n      <tbody>{listFilesActivities}</tbody>\n    );\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showOpIcon: false,\n      unstarred: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      showOpIcon: true\n    });\n  }\n\n  handleMouseOut = () => {\n    this.setState({\n      showOpIcon: false\n    });\n  }\n\n  handleClick = (e) => {\n    e.preventDefault();\n\n    const data = this.props.data;\n    seafileAPI.unstarItem(data.repo_id, data.path).then((res) => {\n      this.setState({\n        unstarred: true\n      });\n      // TODO: show feedback msg\n    }).catch((error) => {\n      // TODO: show feedback msg\n    });\n  }\n\n  render() {\n\n    if (this.state.unstarred) {\n      return null;\n    }\n\n    const data = this.props.data;\n\n    let opClasses = 'sf2-icon-x3 unstar action-icon';\n    opClasses += this.state.showOpIcon ? '' : ' invisible';\n\n    const desktopItem = (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td className=\"alc\">\n          {\n            data.thumbnail_url ?\n              <img className=\"thumbnail\" src={data.thumbnail_url} alt=\"\" /> :\n              <img src={data.item_icon_url} alt={gettext('icon')} width=\"24\" />\n          }\n        </td>\n        <td>\n          { data.is_dir ?\n              <Link to={data.dirent_view_url}>{data.obj_name}</Link> :\n              <a className=\"normal\" href={data.dirent_view_url} target=\"_blank\">{data.obj_name}</a>\n          }\n        </td>\n        <td>{data.repo_name}</td>\n        <td dangerouslySetInnerHTML={{__html:data.mtime_relative}}></td>\n        <td>\n          <a href=\"#\" className={opClasses} title={gettext('Unstar')} aria-label={gettext('Unstar')} onClick={this.handleClick}></a>\n        </td>\n      </tr>\n    );\n\n    const mobileItem = (\n      <tr>\n        <td className=\"alc\">\n          {\n            data.thumbnail_url ?\n              <img className=\"thumbnail\" src={data.thumbnail_url} alt=\"\" /> :\n              <img src={data.item_icon_url} alt={gettext('icon')} width=\"24\" />\n          }\n        </td>\n        <td>\n          { data.is_dir ?\n              <Link to={data.dirent_view_url}>{data.obj_name}</Link> :\n              <a className=\"normal\" href={data.dirent_view_url} target=\"_blank\">{data.obj_name}</a>\n          }\n          <br />\n          <span className=\"dirent-meta-info\">{data.repo_name}</span>\n          <span className=\"dirent-meta-info\" dangerouslySetInnerHTML={{__html:data.mtime_relative}}></span>\n        </td>\n        <td>\n          <a href=\"#\" className=\"sf2-icon-delete unstar action-icon\" title={gettext('Unstar')} aria-label={gettext('Unstar')} onClick={this.handleClick}></a>\n        </td>\n      </tr>\n    );\n\n    if (window.innerWidth >= 768) {\n      return desktopItem;\n    } else {\n      return mobileItem;\n    }\n  }\n}\n\nclass Starred extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: []\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listStarredItems().then((res) => {\n      //res: {data: Array(2), status: 200, statusText: \"OK\", headers: {}, config: {},}\n      this.setState({\n        loading: false,\n        items: res.data.starred_item_list\n      });\n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Permission denied')\n          });\n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Error')\n          });\n        }\n\n      } else {\n        this.setState({\n          loading: false,\n          errorMsg: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"main-panel-center\">\n        <div className=\"cur-view-container\" id=\"starred\">\n          <div className=\"cur-view-path\">\n            <h3 className=\"sf-heading\">{gettext('Favorites')}</h3>\n          </div>\n          <div className=\"cur-view-content\">\n            <Content data={this.state} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Starred;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/starred/starred.js","import React, { Component } from 'react';\nimport moment from 'moment';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, loginUrl } from '../../utils/constants';\nimport toaster from '../../components/toast';\n\nclass Content extends Component {\n\n  render() {\n    const {loading, errorMsg, items} = this.props.data;\n\n    if (loading) {\n      return <span className=\"loading-icon loading-tip\"></span>;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const desktopThead = (\n        <thead>\n          <tr>\n            <th width=\"13%\">{gettext('Platform')}</th>\n            <th width=\"30%\">{gettext('Device Name')}</th>\n            <th width=\"30%\">{gettext('IP')}</th>\n            <th width=\"17%\">{gettext('Last Access')}</th>\n            <th width=\"10%\"></th>\n          </tr>\n        </thead>\n      );\n      const mobileThead = (\n        <thead>\n          <tr>\n            <th width=\"25%\">{gettext('Platform')}</th>\n            <th width=\"70%\">{gettext('Device Name')}</th>\n            <th width=\"5%\"></th>\n          </tr>\n        </thead>\n      );\n\n      return (\n        <table>\n          {window.innerWidth >= 768 ? desktopThead : mobileThead}\n          <TableBody items={items} />\n        </table>\n      );\n    }\n  }\n}\n\nclass TableBody extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: this.props.items\n    };\n  }\n\n  render() {\n\n    let listLinkedDevices = this.state.items.map(function(item, index) {\n      return <Item key={index} data={item} />;\n    }, this);\n\n    return (\n      <tbody>{listLinkedDevices}</tbody>\n    );\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showOpIcon: false,\n      unlinked: false\n    };\n\n    this.handleMouseOver = this.handleMouseOver.bind(this);\n    this.handleMouseOut = this.handleMouseOut.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleMouseOver() {\n    this.setState({\n      showOpIcon: true\n    });\n  }\n\n  handleMouseOut() {\n    this.setState({\n      showOpIcon: false\n    });\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n\n    const data = this.props.data;\n\n    seafileAPI.unlinkDevice(data.platform, data.device_id).then((res) => {\n      this.setState({\n        unlinked: true\n      });\n      let msg_s = gettext('Successfully unlink %(name)s.');\n      msg_s = msg_s.replace('%(name)s', data.device_name);\n      toaster.success(msg_s);\n    }).catch((error) => {\n      let message = gettext('Failed to unlink %(name)s');\n      message = message.replace('%(name)s', data.device_name);\n      toaster.danger(message);\n    });\n  }\n\n  render() {\n    if (this.state.unlinked) {\n      return null;\n    }\n\n    const data = this.props.data;\n\n    let opClasses = 'sf2-icon-delete unlink-device action-icon';\n    opClasses += this.state.showOpIcon ? '' : ' invisible';\n\n    const desktopItem = (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td>{data.platform}</td>\n        <td>{data.device_name}</td>\n        <td>{data.last_login_ip}</td>\n        <td>{moment(data.last_accessed).fromNow()}</td>\n        <td>\n          <a href=\"#\" className={opClasses} title={gettext('Unlink')} aria-label={gettext('Unlink')} onClick={this.handleClick}></a>\n        </td>\n      </tr>\n    );\n\n    const mobileItem = (\n      <tr>\n        <td>{data.platform}</td>\n        <td>{data.device_name}</td>\n        <td>\n          <a href=\"#\" className={opClasses} title={gettext('Unlink')} aria-label={gettext('Unlink')} onClick={this.handleClick}></a>\n        </td>\n      </tr>\n    );\n\n    if (window.innerWidth >= 768) {\n      return desktopItem;\n    } else {\n      return mobileItem;\n    }\n  }\n}\n\nclass LinkedDevices extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: []\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listLinkedDevices().then((res) => {\n      //res: {data: Array(2), status: 200, statusText: \"OK\", headers: {}, config: {},}\n      this.setState({\n        loading: false,\n        items: res.data\n      });\n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Permission denied')\n          });\n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Error')\n          });\n        }\n\n      } else {\n        this.setState({\n          loading: false,\n          errorMsg: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"main-panel-center\">\n        <div className=\"cur-view-container\" id=\"linked-devices\">\n          <div className=\"cur-view-path\">\n            <h3 className=\"sf-heading\">{gettext('Linked Devices')}</h3>\n          </div>\n          <div className=\"cur-view-content\">\n            <Content data={this.state} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LinkedDevices;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/linked-devices/linked-devices.js","import React, { Component } from 'react';\nimport { Link } from '@reach/router';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport { gettext, siteRoot, loginUrl, isPro } from '../../utils/constants';\nimport SharePermissionEditor from '../../components/select-editor/share-permission-editor';\nimport SharedRepoInfo from '../../models/shared-repo-info';\n\nclass Content extends Component {\n\n  sortByName = (e) => {\n    e.preventDefault();\n    const sortBy = 'name';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  }\n\n  render() {\n    const { loading, errorMsg, items, sortBy, sortOrder } = this.props;\n\n    if (loading) {\n      return <span className=\"loading-icon loading-tip\"></span>;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <div className=\"empty-tip\">\n          <h2>{gettext('You have not shared any libraries')}</h2>\n          <p>{gettext('You can share libraries with your friends and colleagues by clicking the share icon of your own libraries in your home page or creating a new library in groups you are in.')}</p>\n        </div>\n      );\n\n      // sort\n      const sortByName = sortBy == 'name';\n      const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n      const table = (\n        <table className=\"table-hover\">\n          <thead>\n            <tr>\n              <th width=\"4%\">{/*icon*/}</th>\n              <th width=\"34%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('Name')} {sortByName && sortIcon}</a></th>\n              <th width=\"30%\">{gettext('Share To')}</th>\n              <th width=\"24%\">{gettext('Permission')}</th>\n              <th width=\"8%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, index) => {\n              return (<Item key={index} item={item} unshareFolder={this.props.unshareFolder}/>);\n            })}\n          </tbody>\n        </table>\n      );\n\n      return items.length ? table : emptyTip; \n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n\n    let item = this.props.item;\n    this.state = {\n      share_permission: item.share_permission,\n      is_admin: item.is_admin,\n      showOpIcon: false,\n      unshared: false\n    };\n    this.permissions = ['rw', 'r'];\n    if (isPro) {\n      this.permissions = ['rw', 'r', 'cloud-edit', 'preview'];\n    }\n  }\n\n  onMouseEnter = () => {\n    this.setState({showOpIcon: true});\n  }\n\n  onMouseLeave = () => {\n    this.setState({showOpIcon: false});\n  }\n\n  changePerm = (permission) => {\n    const item = this.props.item;\n    const share_type = item.share_type;\n    let options = {\n      'share_type': share_type,\n      'permission': permission\n    };\n    if (share_type == 'personal') {\n      options.user = item.user_email;\n    } else if (share_type == 'group') {\n      options.group_id = item.group_id;\n    } else if (share_type === 'public') {\n      // nothing todo\n    }\n\n    seafileAPI.updateRepoSharePerm(item.repo_id, options).then(() => {\n      this.setState({\n        share_permission: permission == 'admin' ? 'rw' : permission,\n        is_admin: permission == 'admin',\n      });\n      // TODO: show feedback msg\n      // gettext(\"Successfully modified permission\")\n    }).catch((error) => {\n      // TODO: show feedback msg\n    });\n  }\n\n  unshare = () => {\n    this.props.unshareFolder(this.props.item);\n  }\n\n  getRepoParams = () => {\n    let item = this.props.item;\n    \n    let iconUrl = Utils.getLibIconUrl(item); \n    let iconTitle = Utils.getLibIconTitle(item);\n    let repoUrl = `${siteRoot}library/${item.repo_id}/${item.repo_name}`;\n\n    return { iconUrl, iconTitle, repoUrl };\n  }\n\n  render() {\n\n    let { iconUrl, iconTitle, repoUrl } = this.getRepoParams();\n    let item = this.props.item;\n    let { share_permission, is_admin } = this.state;\n\n    let shareTo;\n    const shareType = item.share_type;\n    if (shareType == 'personal') {\n      shareTo = <td title={item.contact_email}>{item.user_name}</td>;\n    } else if (shareType == 'group') {\n      shareTo = <td>{item.group_name}</td>;\n    } else if (shareType == 'public') {\n      shareTo = <td>{gettext('all members')}</td>;\n    }\n\n    // show 'admin' perm or not\n    let showAdmin = isPro && (item.share_type !== 'public'); \n    if (showAdmin && is_admin) {\n      share_permission = 'admin';\n    }\n\n    let iconVisibility = this.state.showOpIcon ? '' : ' invisible';\n    let unshareIconClassName = 'unshare action-icon sf2-icon-x3' + iconVisibility;\n\n    if (showAdmin && this.permissions.indexOf('admin') === -1) {\n      this.permissions.splice(2, 0, 'admin'); // add a item after 'r' permission;\n    }\n\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n        <td><Link to={repoUrl}>{item.repo_name}</Link></td>\n        {shareTo}\n        <td>\n          <SharePermissionEditor \n            isTextMode={true}\n            isEditIconShow={this.state.showOpIcon}\n            currentPermission={share_permission}\n            permissions={this.permissions}\n            onPermissionChanged={this.changePerm}\n          />\n        </td>\n        <td><a href=\"#\" className={unshareIconClassName} title={gettext('Unshare')} onClick={this.unshare}></a></td>\n      </tr>\n    );\n  }\n}\n\nclass ShareAdminLibraries extends Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: [],\n      sortBy: 'name', // 'name' or 'time'\n      sortOrder: 'asc' // 'asc' or 'desc'\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listSharedRepos().then((res) => {\n      // res: {data: Array(2), status: 200, statusText: \"OK\", headers: {}, config: {},}\n      let items = res.data.map(item => {\n        return new SharedRepoInfo(item);\n      });\n      this.setState({\n        loading: false,\n        items: Utils.sortRepos(items, this.state.sortBy, this.state.sortOrder)\n      });\n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Permission denied')\n          });\n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Error')\n          });\n        }\n      } else {\n        this.setState({\n          loading: false,\n          errorMsg: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  unshareFolder = (item) => {\n    const share_type = item.share_type;\n    let options = {\n      'share_type': share_type\n    };\n    if (share_type == 'personal') {\n      options.user = item.user_email;\n    } else if (share_type == 'group') {\n      options.group_id = item.group_id;\n    } \n\n    seafileAPI.unshareRepo(item.repo_id, options).then((res) => {\n      let items = [];\n      if (item.share_type === 'personal') {\n        items = this.state.items.filter(repoItem => {\n          return !(repoItem.user_email === item.user_email && repoItem.repo_id === item.repo_id);\n        });\n      } else if (item.share_type === 'group') {\n        items = this.state.items.filter(repoItem => {\n          return !(repoItem.group_id === item.group_id && repoItem.repo_id === item.repo_id);\n        });\n      } else if (item.share_type === 'public') {\n        items = this.state.items.filter(repoItem => {\n          return !(repoItem.share_type === 'public' && repoItem.repo_id === item.repo_id);\n        });\n      }\n      this.setState({items: items});\n      // TODO: show feedback msg\n      // gettext(\"Successfully deleted 1 item\")\n    }).catch((error) => {\n    // TODO: show feedback msg\n    });\n  }\n\n  sortItems = (sortBy, sortOrder) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: sortOrder,\n      items: Utils.sortRepos(this.state.items, sortBy, sortOrder)\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"main-panel-center\">\n        <div className=\"cur-view-container\" id=\"share-admin-libs\">\n          <div className=\"cur-view-path\">\n            <h3 className=\"sf-heading\">{gettext('Libraries')}</h3>\n          </div>\n          <div className=\"cur-view-content\">\n            <Content \n              errorMsg={this.state.errorMsg}\n              loading={this.state.loading}\n              items={this.state.items}\n              sortBy={this.state.sortBy}\n              sortOrder={this.state.sortOrder}\n              sortItems={this.sortItems}\n              unshareFolder={this.unshareFolder}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ShareAdminLibraries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/share-admin/libraries.js","class SharedRepoInfo {\n  \n  constructor(object) {\n    this.repo_id = object.repo_id;\n    this.repo_name = object.repo_name;\n    this.share_type = object.share_type;\n    this.share_permission = object.share_permission;\n    this.modifier_name = object.modifier_name;\n    this.modifier_email = object.modifier_email;\n    this.modifier_contact_email = object.modifier_contact_email;\n    this.encrypted = object.encrypted;\n    if (this.share_type === 'personal') {\n      this.is_admin = object.is_admin;\n      this.user_name = object.user_name;\n      this.user_email = object.user_email;\n      this.contact_email = this.contact_email;\n    } else if(this.share_type === 'group') {\n      this.is_admin = object.is_admin;\n      this.group_id = object.group_id;\n      this.group_name = object.group_name;\n    }\n  }\n\n}\n\nexport default SharedRepoInfo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/shared-repo-info.js","import React, { Component } from 'react';\nimport { Link } from '@reach/router';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport { gettext, siteRoot, loginUrl, isPro } from '../../utils/constants';\nimport SharePermissionEditor from '../../components/select-editor/share-permission-editor';\nimport SharedFolderInfo from '../../models/shared-folder-info';\n\nclass Content extends Component {\n\n  sortByName = (e) => {\n    e.preventDefault();\n    const sortBy = 'name';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  }\n\n  render() {\n    const { loading, errorMsg, items, sortBy, sortOrder } = this.props;\n\n    if (loading) {\n      return <span className=\"loading-icon loading-tip\"></span>;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <div className=\"empty-tip\">\n          <h2>{gettext('You have not shared any folders')}</h2>\n          <p>{gettext('You can share a single folder with a registered user if you don\\'t want to share a whole library.')}</p>\n        </div>\n      );\n\n      // sort\n      const sortByName = sortBy == 'name';\n      const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n      const table = (\n        <table className=\"table-hover\">\n          <thead>\n            <tr>\n              <th width=\"4%\">{/*icon*/}</th>\n              <th width=\"34%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('Name')} {sortByName && sortIcon}</a></th>\n              <th width=\"30%\">{gettext('Share To')}</th>\n              <th width=\"24%\">{gettext('Permission')}</th>\n              <th width=\"8%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, index) => {\n              return (<Item key={index} item={item} unshareFolder={this.props.unshareFolder}/>);\n            })}\n          </tbody>\n        </table>\n      );\n\n      return items.length ? table : emptyTip; \n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      share_permission: this.props.item.share_permission,\n      showOpIcon: false,\n      unshared: false\n    };\n\n    this.permissions = ['rw', 'r'];\n    if (isPro) {\n      this.permissions = ['rw', 'r', 'cloud-edit', 'preview'];\n    }\n  }\n\n  onMouseEnter = () => {\n    this.setState({showOpIcon: true});\n  }\n\n  onMouseLeave = () => {\n    this.setState({showOpIcon: false});\n  }\n\n  unshare = (e) => {\n    e.preventDefault();\n    const item = this.props.item;\n    this.props.unshareFolder(item);\n  }\n\n  changePerm = (permission) => {\n    const perm = permission;\n    const postData = {\n      'permission': perm\n    };\n    const item = this.props.item;\n    let options = {\n      'p': item.path,\n      'share_type': item.share_type\n    };\n    if (item.share_type == 'user') {\n      options.username = item.user_email;\n    } else {\n      options.group_id = item.group_id;\n    }\n\n    seafileAPI.updateFolderSharePerm(item.repo_id, postData, options).then((res) => {\n      this.setState({share_permission: perm});\n      // TODO: show feedback msg\n      // gettext(\"Successfully modified permission\")\n    }).catch((error) => {\n      // TODO: show feedback msg\n    });\n  }\n\n  getFolderParams = () => {\n    let item = this.props.item;\n    let share_permission = this.state.share_permission;\n    let is_readonly = false;\n    if (share_permission == 'r' || share_permission == 'preview') {\n      is_readonly = true;\n    }\n    let iconUrl = Utils.getFolderIconUrl(is_readonly); \n    let iconTitle = Utils.getFolderIconTitle({\n      'permission': share_permission\n    });\n    let folderUrl = `${siteRoot}library/${item.repo_id}/${item.repo_name}${Utils.encodePath(item.path)}`;\n\n    return { iconUrl, iconTitle, folderUrl };\n  }\n\n  render() {\n    const item = this.props.item;\n    let { iconUrl, iconTitle, folderUrl } = this.getFolderParams();\n\n    let shareTo;\n    const shareType = item.share_type;\n    if (shareType == 'user') {\n      shareTo = <td title={item.contact_email}>{item.user_name}</td>;\n    } else if (shareType == 'group') {\n      shareTo = <td>{item.group_name}</td>;\n    }\n\n    let iconVisibility = this.state.showOpIcon ? '' : ' invisible';\n    let unshareIconClassName = 'unshare action-icon sf2-icon-x3' + iconVisibility;\n\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n        <td><Link to={folderUrl}>{item.folder_name}</Link></td>\n        {shareTo}\n        <td>\n          <SharePermissionEditor \n            isTextMode={true}\n            isEditIconShow={this.state.showOpIcon}\n            currentPermission={this.state.share_permission}\n            permissions={this.permissions}\n            onPermissionChanged={this.changePerm}\n          />\n        </td>\n        <td><a href=\"#\" className={unshareIconClassName} title={gettext('Unshare')} onClick={this.unshare}></a></td>\n      </tr>\n    );\n  }\n}\n\nclass ShareAdminFolders extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: [],\n      sortBy: 'name',\n      sortOrder: 'asc' // 'asc' or 'desc'\n    };\n  }\n\n  _sortItems = (items, sortBy, sortOrder) => {\n    let comparator;\n\n    switch (`${sortBy}-${sortOrder}`) {\n      case 'name-asc':\n        comparator = function(a, b) {\n          var result = Utils.compareTwoWord(a.folder_name, b.folder_name);\n          return result;\n        };\n        break;\n      case 'name-desc':\n        comparator = function(a, b) {\n          var result = Utils.compareTwoWord(a.folder_name, b.folder_name);\n          return -result;\n        };\n        break;\n    }\n\n    items.sort(comparator);\n    return items;\n  }\n\n  sortItems = (sortBy, sortOrder) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: sortOrder,\n      items: this._sortItems(this.state.items, sortBy, sortOrder)\n    });\n  }\n\n  componentDidMount() {\n    seafileAPI.listSharedFolders().then((res) => {\n      // res: {data: Array(2), status: 200, statusText: \"OK\", headers: {}, config: {},}\n      let items = res.data.map(item => {\n        return new SharedFolderInfo(item);\n      });\n      this.setState({\n        loading: false,\n        items: this._sortItems(items, this.state.sortBy, this.state.sortOrder)\n      });\n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Permission denied')\n          });\n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Error')\n          });\n        }\n\n      } else {\n        this.setState({\n          loading: false,\n          errorMsg: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  unshareFolder = (item) => {\n    let options = {};\n    options['p'] = item.path;\n    options.share_type = item.share_type;\n    if (item.share_type == 'user') { // or group\n      options.username = item.user_email;\n    } else {\n      options.group_id = item.group_id;\n    }\n\n    seafileAPI.unshareFolder(item.repo_id, options).then((res) => {\n      let items = this.state.items.filter(folderItem => {\n        if (item.share_type === 'user') {\n          return folderItem.user_email !== item.user_email;\n        } else {\n          return folderItem.group_id !== item.group_id;\n        }\n      });\n      this.setState({items: items});\n      // TODO: show feedback msg\n      // gettext(\"Successfully deleted 1 item\")\n    }).catch((error) => {\n      // TODO: show feedback msg\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"main-panel-center\">\n        <div className=\"cur-view-container\" id=\"share-admin-libs\">\n          <div className=\"cur-view-path\">\n            <h3 className=\"sf-heading\">{gettext('Folders')}</h3>\n          </div>\n          <div className=\"cur-view-content\">\n            <Content \n              errorMsg={this.state.errorMsg}\n              loading={this.state.loading}\n              items={this.state.items}\n              sortBy={this.state.sortBy}\n              sortOrder={this.state.sortOrder}\n              sortItems={this.sortItems}\n              unshareFolder={this.unshareFolder}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ShareAdminFolders;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/share-admin/folders.js","'use strict';\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  window.Promise = require('promise/lib/es6-extensions.js');\n}\n\n// fetch() polyfill for making API calls.\nrequire('whatwg-fetch');\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = require('object-assign');\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\nif (process.env.NODE_ENV === 'test') {\n  require('raf').polyfill(global);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/polyfills.js\n// module id = 12\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28","import React from 'react';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport NoticeItem from './notice-item';\n\nclass Notification extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showNotice: false,\n      unseenCount: 0,\n      noticeList: [],\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.getUnseenNotificationCount().then(res => {\n      this.setState({unseenCount: res.data.unseen_count});\n    });\n  }\n\n  onClick = () => {\n    if (this.state.showNotice) {\n      seafileAPI.updateNotifications();\n      this.setState({\n        showNotice: false,\n        unseenCount: 0\n      });\n    } else {\n      this.loadNotices();\n      this.setState({showNotice: true});\n    }\n  }\n\n  loadNotices = () => {\n    let page = 1;\n    let perPage = 5;\n    seafileAPI.listPopupNotices(page, perPage).then(res => {\n      let noticeList = res.data.notification_list;\n      this.setState({noticeList: noticeList});\n    });\n  }\n\n  onNoticeItemClick = (noticeItem) => {    \n    let noticeList = this.state.noticeList.map(item => {\n      if (item.id === noticeItem.id) {\n        item.seen = true;\n      }\n      return item;\n    });\n    seafileAPI.markNoticeAsRead(noticeItem.id);\n    let unseenCount = this.state.unseenCount === 0 ? 0 : this.state.unseenCount - 1;\n    this.setState({\n      noticeList: noticeList,\n      unseenCount: unseenCount, \n    });\n    \n  }\n\n  render() {\n\n    return (\n      <div id=\"notifications\">\n        <a href=\"#\" onClick={this.onClick} className=\"no-deco\" id=\"notice-icon\" title=\"Notifications\" aria-label=\"Notifications\">\n          <span className=\"sf2-icon-bell\"></span>\n          <span className={`num ${this.state.unseenCount ? '' : 'hide'}`}>{this.state.unseenCount}</span>\n        </a>\n        <div id=\"notice-popover\" className={`sf-popover ${this.state.showNotice ? '': 'hide'}`}>\n          <div className=\"outer-caret up-outer-caret\"><div className=\"inner-caret\"></div></div>\n          <div className=\"sf-popover-hd ovhd\">\n            <h3 className=\"sf-popover-title title\">{gettext('Notifications')}</h3>\n            <a href=\"#\" onClick={this.onClick} title={gettext('Close')} aria-label={gettext('Close')} className=\"sf-popover-close js-close sf2-icon-x1 action-icon float-right\"></a>\n          </div>\n          <div className=\"sf-popover-con\">\n            <ul className=\"notice-list\">\n              {this.state.noticeList.map(item => {\n                return (<NoticeItem key={item.id} noticeItem={item} onNoticeItemClick={this.onNoticeItemClick}/>);\n              })}\n            </ul>\n            <a href={siteRoot + 'notification/list/'} className=\"view-all\">{gettext('See All Notifications')}</a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Notification;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/notification.js","class SharedFolderInfo {\n\n  constructor(object) {\n    this.path = object.path;\n    this.folder_name = object.folder_name;\n    this.repo_id = object.repo_id;\n    this.repo_name = object.repo_name;\n    this.share_type = object.share_type;\n    this.share_permission = object.share_permission;\n    if (object.share_type === 'group') {\n      this.group_id = object.group_id;\n      this.group_name = object.group_name;\n    } else {\n      this.share_type = 'user'; // change personal to user;\n      this.user_name = object.user_name;\n      this.user_email = object.user_email;\n      this.contact_email = object.contact_email;\n    }\n  }\n\n}\n\nexport default SharedFolderInfo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/shared-folder-info.js","import React, { Component, Fragment } from 'react';\nimport { Link } from '@reach/router';\nimport moment from 'moment';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport { gettext, siteRoot, loginUrl, canGenerateUploadLink } from '../../utils/constants';\nimport SharedLinkInfo from '../../models/shared-link-info';\nimport copy from '@seafile/seafile-editor/dist//utils/copy-to-clipboard';\nimport toaster from '../../components/toast';\n\nclass Content extends Component {\n\n  sortByName = (e) => {\n    e.preventDefault();\n    const sortBy = 'name';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  }\n\n  sortByTime = (e) => {\n    e.preventDefault();\n    const sortBy = 'time';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  }\n\n constructor(props) {\n    super(props);\n    this.state = {\n      modalOpen: false,\n      modalContent: ''\n    };\n  }\n\n  // required by `Modal`, and can only set the 'open' state\n  toggleModal = () => {\n    this.setState({\n      modalOpen: !this.state.modalOpen\n    });\n  }\n\n  showModal = (options) => {\n    this.toggleModal();\n    this.setState({modalContent: options.content});\n  }\n\n  copyToClipboard = () => {\n    copy(this.state.modalContent);\n    this.setState({\n      modalOpen: false\n    });\n    let message = gettext('Share link is copied to the clipboard.');\n    toaster.success(message), {\n      duration: 2\n    };\n  }\n\n  render() {\n    const { loading, errorMsg, items, sortBy, sortOrder } = this.props;\n\n    if (loading) {\n      return <span className=\"loading-icon loading-tip\"></span>;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <div className=\"empty-tip\">\n          <h2>{gettext('You don\\'t have any share links')}</h2>\n          <p>{gettext('You can generate a share link for a folder or a file. Anyone who receives this link can view the folder or the file online.')}</p>\n        </div>\n      );\n\n      // sort\n      const sortByName = sortBy == 'name';\n      const sortByTime = sortBy == 'time';\n      const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n      const table = (\n        <React.Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"4%\">{/*icon*/}</th>\n                <th width=\"36%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('Name')} {sortByName && sortIcon}</a></th>\n                <th width=\"24%\">{gettext('Library')}</th>\n                <th width=\"12%\">{gettext('Visits')}</th>\n                <th width=\"14%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('Expiration')} {sortByTime && sortIcon}</a></th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item} showModal={this.showModal} onRemoveLink={this.props.onRemoveLink}/>);\n              })}\n            </tbody>\n          </table>\n          <Modal isOpen={this.state.modalOpen} toggle={this.toggleModal} centered={true}>\n            <ModalHeader toggle={this.toggleModal}>{gettext('Link')}</ModalHeader>\n            <ModalBody>\n              <a href={this.state.modalContent}>{this.state.modalContent}</a>\n            </ModalBody>\n            <ModalFooter>\n              <Button color=\"primary\" onClick={this.copyToClipboard}>{gettext('Copy')}</Button>{' '}\n              <Button color=\"secondary\" onClick={this.toggleModal}>{gettext('Close')}</Button>\n            </ModalFooter>\n          </Modal>\n        </React.Fragment>\n      );\n\n      return items.length ? table : emptyTip; \n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showOpIcon: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({showOpIcon: true});\n  }\n\n  handleMouseOut = () => {\n    this.setState({showOpIcon: false});\n  }\n\n  viewLink = (e) => {\n    e.preventDefault();\n    this.props.showModal({content: this.props.item.link});\n  }\n  \n  removeLink = (e) => {\n    e.preventDefault();\n    this.props.onRemoveLink(this.props.item);\n  }\n\n  getLinkParams = () => {\n    let item = this.props.item;\n    let iconUrl = '';\n    let linkUrl = '';\n    if (item.is_dir) {\n      iconUrl = Utils.getFolderIconUrl(false);\n      linkUrl = `${siteRoot}library/${item.repo_id}/${item.repo_name}${Utils.encodePath(item.path)}`;\n    } else {\n      iconUrl = Utils.getFileIconUrl(item.obj_name); \n      linkUrl = `${siteRoot}lib/${item.repo_id}/file${Utils.encodePath(item.path)}`;\n    }\n\n    return { iconUrl, linkUrl };\n  }\n\n  renderExpriedData = () => {\n    let item = this.props.item;\n    if (!item.expire_date) {\n      return (\n        <Fragment>--</Fragment>\n      );\n    }\n    let expire_date = moment(item.expire_date).format('YYYY-MM-DD');\n    return (\n      <Fragment>\n        {item.is_expired ? \n          <span className=\"error\">{expire_date}</span> :\n          expire_date\n        }\n      </Fragment>\n    );\n  }\n\n  render() {\n    const item = this.props.item;\n    let { iconUrl, linkUrl } = this.getLinkParams();\n\n    let iconVisibility = this.state.showOpIcon ? '' : ' invisible';\n    let linkIconClassName = 'sf2-icon-link action-icon' + iconVisibility; \n    let deleteIconClassName = 'sf2-icon-delete action-icon' + iconVisibility;\n\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><img src={iconUrl} width=\"24\" /></td>\n        <td>\n          {item.is_dir ?\n            <Link to={linkUrl}>{item.obj_name}</Link> :\n            <a href={linkUrl} target=\"_blank\">{item.obj_name}</a>\n          }\n        </td>\n        <td><Link to={`${siteRoot}library/${item.repo_id}/${item.repo_name}/`}>{item.repo_name}</Link></td>\n        <td>{item.view_cnt}</td>\n        <td>{this.renderExpriedData()}</td> \n        <td>\n          <a href=\"#\" className={linkIconClassName} title={gettext('View')} onClick={this.viewLink}></a>\n          <a href=\"#\" className={deleteIconClassName} title={gettext('Remove')} onClick={this.removeLink}></a>\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass ShareAdminShareLinks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: [],\n      sortBy: 'name', // 'name' or 'time'\n      sortOrder: 'asc' // 'asc' or 'desc'\n    };\n  }\n\n  _sortItems = (items, sortBy, sortOrder) => {\n    let comparator;\n\n    switch (`${sortBy}-${sortOrder}`) {\n      case 'name-asc':\n        comparator = function(a, b) {\n          var result = Utils.compareTwoWord(a.obj_name, b.obj_name);\n          return result;\n        };\n        break;\n      case 'name-desc':\n        comparator = function(a, b) {\n          var result = Utils.compareTwoWord(a.obj_name, b.obj_name);\n          return -result;\n        };\n        break;\n      case 'time-asc':\n        comparator = function(a, b) {\n          return a.expire_date < b.expire_date ? -1 : 1;\n        };\n        break;\n      case 'time-desc':\n        comparator = function(a, b) {\n          return a.expire_date < b.expire_date ? 1 : -1;\n        };\n        break;\n    }\n\n    items.sort((a, b) => {\n      if (a.is_dir && !b.is_dir) {\n        return -1;\n      } else if (!a.is_dir && b.is_dir) {\n        return 1;\n      } else {\n        return comparator(a, b);\n      }\n    });\n    return items;\n  }\n\n  sortItems = (sortBy, sortOrder) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: sortOrder,\n      items: this._sortItems(this.state.items, sortBy, sortOrder)\n    });\n  }\n\n  componentDidMount() {\n    seafileAPI.listShareLinks().then((res) => {\n      // res: {data: Array(2), status: 200, statusText: \"OK\", headers: {}, config: {},}\n      let items = res.data.map(item => {\n        return new SharedLinkInfo(item);\n      });\n      this.setState({\n        loading: false,\n        items: this._sortItems(items, this.state.sortBy, this.state.sortOrder)\n      });\n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Permission denied')\n          });\n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Error')\n          });\n        }\n\n      } else {\n        this.setState({\n          loading: false,\n          errorMsg: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  onRemoveLink = (item) => {\n    seafileAPI.deleteShareLink(item.token).then(() => {\n      let items = this.state.items.filter(uploadItem => {\n        return uploadItem.token !== item.token;\n      });\n      this.setState({items: items});\n      // TODO: show feedback msg\n      // gettext(\"Successfully deleted 1 item\")\n    }).catch((error) => {\n    // TODO: show feedback msg\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"main-panel-center\">\n        <div className=\"cur-view-container\">\n          <div className=\"cur-view-path share-upload-nav\">\n            <ul className=\"nav\">\n              <li className=\"nav-item\">\n                <Link to={`${siteRoot}share-admin-share-links/`} className=\"nav-link active\">{gettext('Share Links')}</Link>\n              </li>\n              {canGenerateUploadLink && (\n                <li className=\"nav-item\"><Link to={`${siteRoot}share-admin-upload-links/`} className=\"nav-link\">{gettext('Upload Links')}</Link></li>\n              )}\n            </ul>\n          </div>\n          <div className=\"cur-view-content\">\n            <Content\n              loading={this.state.loading}\n              errorMsg={this.state.errorMsg}\n              items={this.state.items}\n              sortBy={this.state.sortBy}\n              sortOrder={this.state.sortOrder}\n              sortItems={this.sortItems}\n              onRemoveLink={this.onRemoveLink}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ShareAdminShareLinks;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/share-admin/share-links.js","import React, { Component } from 'react';\nimport { Link } from '@reach/router';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { gettext, siteRoot, loginUrl, canGenerateShareLink } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport SharedUploadInfo from '../../models/shared-upload-info';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalOpen: false,\n      modalContent: ''\n    };\n  }\n\n  // required by `Modal`, and can only set the 'open' state\n  toggleModal = () => {\n    this.setState({\n      modalOpen: !this.state.modalOpen\n    });\n  }\n\n  showModal = (options) => {\n    this.toggleModal();\n    this.setState({\n      modalContent: options.content\n    });\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n\n    if (loading) {\n      return <span className=\"loading-icon loading-tip\"></span>;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <div className=\"empty-tip\">\n          <h2>{gettext('You don\\'t have any upload links')}</h2>\n          <p>{gettext('You can generate an upload link from any folder. Anyone who receives this link can upload files to this folder.')}</p>\n        </div>\n      );\n\n      const table = (\n        <React.Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"4%\">{/*icon*/}</th>\n                <th width=\"42%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Library')}</th>\n                <th width=\"14%\">{gettext('Visits')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item} showModal={this.showModal} onRemoveLink={this.props.onRemoveLink}/>);\n              })}\n            </tbody>\n          </table>\n\n          <Modal isOpen={this.state.modalOpen} toggle={this.toggleModal} centered={true}>\n            <ModalHeader toggle={this.toggleModal}>{gettext('Link')}</ModalHeader>\n            <ModalBody>\n              {this.state.modalContent}\n            </ModalBody>\n          </Modal>\n        </React.Fragment>\n      );\n\n      return items.length ? table : emptyTip; \n    }\n  }\n}\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showOpIcon: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({showOpIcon: true});\n  }\n\n  handleMouseOut = () => {\n    this.setState({showOpIcon: false});\n  }\n\n  viewLink = (e) => {\n    e.preventDefault();\n    this.props.showModal({content: this.props.item.link});\n  }\n  \n  removeLink = (e) => {\n    e.preventDefault();\n    this.props.onRemoveLink(this.props.item);\n  }\n\n  getUploadParams = () => {\n    let item = this.props.item;\n    let iconUrl = Utils.getFolderIconUrl(false);\n    let uploadUrl = `${siteRoot}library/${item.repo_id}/${item.repo_name}${Utils.encodePath(item.path)}`;\n\n    return { iconUrl, uploadUrl };\n  }\n\n  render() {\n    let item = this.props.item;\n    let { iconUrl, uploadUrl } = this.getUploadParams();\n\n    let iconVisibility = this.state.showOpIcon ? '' : ' invisible';\n    let linkIconClassName = 'sf2-icon-link action-icon' + iconVisibility; \n    let deleteIconClassName = 'sf2-icon-delete action-icon' + iconVisibility;\n\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><img src={iconUrl} width=\"24\" /></td>\n        <td><Link to={uploadUrl}>{item.obj_name}</Link></td>\n        <td><Link to={`${siteRoot}library/${item.repo_id}/${item.repo_name}`}>{item.repo_name}</Link></td>\n        <td>{item.view_cnt}</td>\n        <td>\n          <a href=\"#\" className={linkIconClassName} title={gettext('View')} onClick={this.viewLink}></a>\n          <a href=\"#\" className={deleteIconClassName} title={gettext('Remove')} onClick={this.removeLink}></a>\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass ShareAdminUploadLinks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: []\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listUploadLinks().then((res) => {\n      // res: {data: Array(2), status: 200, statusText: \"OK\", headers: {}, config: {},}\n      let items = res.data.map(item => {\n        return new SharedUploadInfo(item);\n      });\n      this.setState({\n        loading: false,\n        items: items\n      });\n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Permission denied')\n          });\n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Error')\n          });\n        }\n      } else {\n        this.setState({\n          loading: false,\n          errorMsg: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  onRemoveLink = (item) => {\n    seafileAPI.deleteUploadLink(item.token).then(() => {\n      let items = this.state.items.filter(uploadItem => {\n        return uploadItem.token !== item.token;\n      });\n      this.setState({items: items});\n      // TODO: show feedback msg\n      // gettext(\"Successfully deleted 1 item\")\n    }).catch((error) => {\n    // TODO: show feedback msg\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"main-panel-center\">\n        <div className=\"cur-view-container\">\n          <div className=\"cur-view-path share-upload-nav\">\n            <ul className=\"nav\">\n              { canGenerateShareLink && (\n                <li className=\"nav-item\"><Link to={`${siteRoot}share-admin-share-links/`} className=\"nav-link\">{gettext('Share Links')}</Link></li>\n              )}\n              <li className=\"nav-item\"><Link to={`${siteRoot}share-admin-upload-links/`} className=\"nav-link active\">{gettext('Upload Links')}</Link></li>\n            </ul>\n          </div>\n          <div className=\"cur-view-content\">\n            <Content\n              errorMsg={this.state.errorMsg}\n              items={this.state.items}\n              loading={this.state.loading}\n              onRemoveLink={this.onRemoveLink}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ShareAdminUploadLinks;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/share-admin/upload-links.js","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport cookie from 'react-cookies';\nimport { Link } from '@reach/router';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport Repo from '../../models/repo';\nimport { gettext, siteRoot, loginUrl, isPro } from '../../utils/constants';\nimport Loading from '../../components/loading';\nimport ModalPotal from '../../components/modal-portal';\nimport ShareDialog from '../../components/dialog/share-dialog';\n\nclass Content extends Component {\n\n  sortByName = (e) => {\n    e.preventDefault();\n    const sortBy = 'name';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  }\n\n  sortByTime = (e) => {\n    e.preventDefault();\n    const sortBy = 'time';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  }\n\n  render() {\n    const { loading, errorMsg, items, sortBy, sortOrder } = this.props;\n    \n    const emptyTip = (\n      <div className=\"empty-tip\">\n        <h2>{gettext('No libraries have been shared with you')}</h2>\n        <p>{gettext('No libraries have been shared directly with you. You can find more shared libraries at \"Shared with groups\".')}</p>\n      </div>\n    );\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      // sort\n      const sortByName = sortBy == 'name';\n      const sortByTime = sortBy == 'time';\n      const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n      const desktopThead = (\n        <thead>\n          <tr>\n            <th width=\"4%\"></th>\n            <th width=\"4%\"><span className=\"sr-only\">{gettext('Library Type')}</span></th>\n            <th width=\"34%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('Name')} {sortByName && sortIcon}</a></th>\n            <th width=\"10%\"><span className=\"sr-only\">{gettext('Actions')}</span></th>\n            <th width=\"14%\">{gettext('Size')}</th>\n            <th width=\"18%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('Last Update')} {sortByTime && sortIcon}</a></th>\n            <th width=\"16%\">{gettext('Owner')}</th>\n          </tr>\n        </thead>\n      );\n\n      const mobileThead = (\n        <thead>\n          <tr>\n            <th width=\"18%\"><span className=\"sr-only\">{gettext('Library Type')}</span></th>\n            <th width=\"76%\">\n              {gettext('Sort:')}\n              <a className=\"table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('name')} {sortByName && sortIcon}</a>\n              <a className=\"table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('last update')} {sortByTime && sortIcon}</a>\n            </th>\n            <th width=\"6%\"><span className=\"sr-only\">{gettext('Actions')}</span></th>\n          </tr>\n        </thead>\n      );\n\n      const table = (\n        <table>\n          {window.innerWidth >= 768 ? desktopThead : mobileThead}\n          <TableBody items={items} />\n        </table>\n      );\n\n      return items.length ? table : emptyTip; \n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired\n};\n\nclass TableBody extends Component {\n\n  render() {\n\n    let listItems = this.props.items.map(function(item, index) {\n      return <Item key={index} data={item} />;\n    }, this);\n\n    return (\n      <tbody>{listItems}</tbody>\n    );\n  }\n}\n\nTableBody.propTypes = {\n  items: PropTypes.array.isRequired\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showOpIcon: false,\n      unshared: false,\n      isShowSharedDialog: false,\n      isStarred: this.props.data.starred,\n    };\n\n    this.handleMouseOver = this.handleMouseOver.bind(this);\n    this.handleMouseOut = this.handleMouseOut.bind(this);\n\n    this.share = this.share.bind(this);\n    this.leaveShare = this.leaveShare.bind(this);\n  }\n\n  handleMouseOver() {\n    this.setState({\n      showOpIcon: true\n    });\n  }\n\n  handleMouseOut() {\n    this.setState({\n      showOpIcon: false\n    });\n  }\n\n  share(e) {\n    e.preventDefault();\n    this.setState({isShowSharedDialog: true});\n  }\n\n  leaveShare(e) {\n    e.preventDefault();\n\n    const data = this.props.data;\n\n    let request;\n    if (data.owner_email.indexOf('@seafile_group') == -1) {\n      let options = {\n        'share_type': 'personal',\n        'from': data.owner_email\n      };\n      request = seafileAPI.leaveShareRepo(data.repo_id, options);\n    } else {\n      request = seafileAPI.leaveShareGroupOwnedRepo(data.repo_id);\n    }\n\n    request.then((res) => {\n      this.setState({\n        unshared: true\n      });\n      // TODO: show feedback msg\n    }).catch((error) => {\n        // TODO: show feedback msg\n    });\n  }\n\n  toggleShareDialog = () => {\n    this.setState({isShowSharedDialog: false});\n  }\n\n  onStarRepo = () => {\n    if (this.state.isStarred) {\n      seafileAPI.unstarItem(this.props.data.repo_id, '/').then(() => {\n        this.setState({isStarred: !this.state.isStarred});\n      });\n    } else {\n      seafileAPI.starItem(this.props.data.repo_id, '/').then(() => {\n        this.setState({isStarred: !this.state.isStarred});\n      })\n    }\n  }\n\n  render() {\n    if (this.state.unshared) {\n      return null;\n    }\n\n    const data = this.props.data;\n\n    data.icon_url = Utils.getLibIconUrl(data); \n    data.icon_title = Utils.getLibIconTitle(data);\n    data.url = `${siteRoot}#shared-libs/lib/${data.repo_id}/`;\n\n    let iconVisibility = this.state.showOpIcon ? '' : ' invisible';\n    let shareIconClassName = 'op-icon sf2-icon-share repo-share-btn' + iconVisibility; \n    let leaveShareIconClassName = 'op-icon sf2-icon-x3' + iconVisibility;\n\n    const desktopItem = (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td className=\"text-center\">\n            {!this.state.isStarred && <i className=\"far fa-star star-empty cursor-pointer\" onClick={this.onStarRepo}></i>}\n            {this.state.isStarred && <i className=\"fas fa-star cursor-pointer\" onClick={this.onStarRepo}></i>}\n          </td>\n          <td><img src={data.icon_url} title={data.icon_title} alt={data.icon_title} width=\"24\" /></td>\n          <td><Link to={`${siteRoot}library/${data.repo_id}/${data.repo_name}/`}>{data.repo_name}</Link></td>\n          <td>\n            {(isPro && data.is_admin) &&\n              <a href=\"#\" className={shareIconClassName} title={gettext('Share')} onClick={this.share}></a>\n            }\n            <a href=\"#\" className={leaveShareIconClassName} title={gettext('Leave Share')} onClick={this.leaveShare}></a>\n          </td>\n          <td>{data.size}</td>\n          <td title={moment(data.last_modified).format('llll')}>{moment(data.last_modified).fromNow()}</td>\n          <td title={data.owner_contact_email}>{data.owner_name}</td>\n        </tr>\n        {this.state.isShowSharedDialog && (\n          <ModalPotal>\n            <ShareDialog \n              itemType={'library'}\n              itemName={data.repo_name}\n              itemPath={'/'}\n              repoID={data.repo_id}\n              repoEncrypted={data.encrypted}\n              enableDirPrivateShare={true}\n              userPerm={data.permission}\n              isAdmin={true}\n              toggleDialog={this.toggleShareDialog}\n            />\n          </ModalPotal>\n        )}\n      </Fragment>\n    );\n\n    const mobileItem = (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td><img src={data.icon_url} title={data.icon_title} alt={data.icon_title} width=\"24\" /></td>\n          <td>\n            <Link to={`${siteRoot}library/${data.repo_id}/${data.repo_name}/`}>{data.repo_name}</Link><br />\n            <span className=\"item-meta-info\" title={data.owner_contact_email}>{data.owner_name}</span>\n            <span className=\"item-meta-info\">{data.size}</span>\n            <span className=\"item-meta-info\" title={moment(data.last_modified).format('llll')}>{moment(data.last_modified).fromNow()}</span>\n          </td>\n          <td>\n            {(isPro && data.is_admin) &&\n              <a href=\"#\" className={shareIconClassName} title={gettext('Share')} onClick={this.share}></a>\n            }\n            <a href=\"#\" className={leaveShareIconClassName} title={gettext(\"Leave Share\")} onClick={this.leaveShare}></a>\n          </td>\n        </tr>\n        {this.state.isShowSharedDialog && (\n          <ModalPotal>\n            <ShareDialog \n              itemType={'library'}\n              itemName={data.repo_name}\n              itemPath={'/'}\n              repoID={data.repo_id}\n              repoEncrypted={data.encrypted}\n              enableDirPrivateShare={true}\n              userPerm={data.permission}\n              isAdmin={true}\n              toggleDialog={this.toggleShareDialog}\n            />\n          </ModalPotal>\n        )}\n      </Fragment>\n    );\n\n    return window.innerWidth >= 768 ? desktopItem : mobileItem;\n  }\n}\n\nItem.propTypes = {\n  data: PropTypes.object.isRequired\n};\n\nclass SharedLibraries extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: [],\n      sortBy: cookie.load('seafile-repo-sort-by') || 'name', // 'name' or 'time'\n      sortOrder: cookie.load('seafile-repo-sort-order') || 'asc', // 'asc' or 'desc'\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listRepos({type:'shared'}).then((res) => {\n      // res: {data: {...}, status: 200, statusText: \"OK\", headers: {}, config: {},}\n      let repoList = res.data.repos.map((item) => {\n        return new Repo(item);\n      });\n      this.setState({\n        loading: false,\n        items: Utils.sortRepos(repoList, this.state.sortBy, this.state.sortOrder)\n      });\n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Permission denied')\n          });\n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Error')\n          });\n        }\n\n      } else {\n        this.setState({\n          loading: false,\n          errorMsg: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  sortItems = (sortBy, sortOrder) => {\n    cookie.save('seafile-repo-sort-by', sortBy);\n    cookie.save('seafile-repo-sort-order', sortOrder);\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: sortOrder,\n      items: Utils.sortRepos(this.state.items, sortBy, sortOrder)\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"main-panel-center\">\n        <div className=\"cur-view-container\">\n          <div className=\"cur-view-path\">\n            <h3 className=\"sf-heading\">{gettext('Shared with me')}</h3>\n          </div>\n          <div className=\"cur-view-content\">\n            <Content\n              loading={this.state.loading}\n              errorMsg={this.state.errorMsg}\n              items={this.state.items}\n              sortBy={this.state.sortBy}\n              sortOrder={this.state.sortOrder}\n              sortItems={this.sortItems}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SharedLibraries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shared-libs/shared-libs.js","import React, { Component, Fragment } from 'react';\nimport cookie from 'react-cookies';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, loginUrl} from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Repo from '../../models/repo';\nimport Loading from '../../components/loading';\nimport CommonToolbar from '../../components/toolbar/common-toolbar';\nimport RepoViewToolbar from '../../components/toolbar/repo-view-toobar';\nimport LibDetail from '../../components/dirent-detail/lib-details';\nimport MylibRepoListView from './mylib-repo-list-view';\n\nclass MyLibraries extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorMsg: '',\n      isLoading: true,\n      repoList: [],\n      isShowDetails: false,\n      sortBy: cookie.load('seafile-repo-sort-by') || 'name', // 'name' or 'time'\n      sortOrder: cookie.load('seafile-repo-sort-order') || 'asc', // 'asc' or 'desc'\n    };\n\n    this.emptyMessage = (\n      <div className=\"empty-tip\">\n        <h2>{gettext('You have not created any libraries')}</h2>\n        <p>{gettext('You can create a library to organize your files. For example, you can create one for each of your projects. Each library can be synchronized and shared separately.')}</p>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    seafileAPI.listRepos({type: 'mine'}).then((res) => {\n      // res: {data: {...}, status: 200, statusText: \"OK\", headers: {}, config: {},}\n      let repoList = res.data.repos.map((item) => {\n        return new Repo(item);\n      });\n      this.setState({\n        isLoading: false,\n        repoList: Utils.sortRepos(repoList, this.state.sortBy, this.state.sortOrder)\n      });\n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            isLoading: false,\n            errorMsg: gettext('Permission denied')\n          });\n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            isLoading: false,\n            errorMsg: gettext('Error')\n          });\n        }\n      } else {\n        this.setState({\n          isLoading: false,\n          errorMsg: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  onCreateRepo = (repo) => {\n    let permission = repo.permission;\n    seafileAPI.createMineRepo(repo).then((res) => {\n      let repo = {\n        repo_id: res.data.repo_id,\n        repo_name: res.data.repo_name,\n        size: res.data.repo_size,\n        mtime: res.data.mtime,\n        owner_email: res.data.email,\n        encrypted: res.data.encrypted,\n        permission: permission,\n      };\n      this.state.repoList.unshift(repo);\n      this.setState({repoList: this.state.repoList});\n    });\n  }\n\n  sortRepoList = (sortBy, sortOrder) => {\n    cookie.save('seafile-repo-sort-by', sortBy);\n    cookie.save('seafile-repo-sort-order', sortOrder);\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: sortOrder,\n      repoList: Utils.sortRepos(this.state.repoList, sortBy, sortOrder)\n    });\n  }\n\n  onTransferRepo = (repoID) => {\n    let repoList = this.state.repoList.filter(item => {\n      return item.repo_id !== repoID;\n    });\n    this.setState({repoList: repoList});\n  }\n\n  onRenameRepo = (repo, newName) => {\n    let repoList = this.state.repoList.map(item => {\n      if (item.repo_id === repo.repo_id) {\n        item.repo_name = newName;\n      }\n      return item;\n    });\n    this.setState({repoList: repoList});\n  }\n  \n  onDeleteRepo = (repo) => {\n    let repoList = this.state.repoList.filter(item => {\n      return item.repo_id !== repo.repo_id;\n    });\n    this.setState({repoList: repoList});\n  }\n\n  onRepoClick = (repo) => {\n    if (this.state.isShowDetails) {\n      this.onRepoDetails(repo);\n    }\n  }\n\n  onRepoDetails = (repo) => {\n    this.setState({\n      currentRepo: repo,\n      isShowDetails: true,\n    });\n  }\n\n  closeDetails = () => {\n    this.setState({isShowDetails: !this.state.isShowDetails});\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"main-panel-north border-left-show\">\n          <RepoViewToolbar onShowSidePanel={this.props.onShowSidePanel} onCreateRepo={this.onCreateRepo} libraryType={'mine'}/>\n          <CommonToolbar onSearchedClick={this.props.onSearchedClick} />\n        </div>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('My Libraries')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              {this.state.isLoading && <Loading />}\n              {!this.state.isLoading && this.state.errorMsg &&  <p className=\"error text-center\">{this.state.errorMsg}</p>}\n              {!this.state.isLoading && this.state.repoList.length === 0 && this.emptyMessage}\n              {!this.state.isLoading && this.state.repoList.length > 0 && \n                <MylibRepoListView\n                  sortBy={this.state.sortBy}\n                  sortOrder={this.state.sortOrder}\n                  repoList={this.state.repoList}\n                  onRenameRepo={this.onRenameRepo}\n                  onDeleteRepo={this.onDeleteRepo}\n                  onTransferRepo={this.onTransferRepo}\n                  onRepoDetails={this.onRepoDetails}\n                  onRepoClick={this.onRepoClick}\n                  sortRepoList={this.sortRepoList}\n                />\n              }\n            </div>\n          </div>\n          {this.state.isShowDetails && (\n            <div className=\"cur-view-detail\">\n              <LibDetail \n                currentRepo={this.state.currentRepo}\n                closeDetails={this.closeDetails}\n              />\n            </div>\n          )}\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default MyLibraries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-libs/my-libs.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport MediaQuery from 'react-responsive';\nimport { Link } from '@reach/router';\nimport { siteRoot, gettext } from '../../utils/constants';\nimport ModalPortal from '../modal-portal';\nimport CreateRepoDialog from '../dialog/create-repo-dialog';\nimport { DropdownToggle, Dropdown, DropdownMenu, DropdownItem } from 'reactstrap';\n\nconst propTypes = {\n  // isOwnLibrary: PropTypes.bool.isRequired,\n  libraryType: PropTypes.string.isRequired,\n  onCreateRepo: PropTypes.func.isRequired,\n  onShowSidePanel: PropTypes.func.isRequired,\n};\n\nclass RepoViewToolbar extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      isCreateRepoDialogShow: false,\n      isOpen: false,\n    };\n  }\n\n  onCreateRepo = (repo) => {\n    this.props.onCreateRepo(repo);\n    this.onCreateToggle();\n  }\n\n  onCreateToggle = () => {\n    this.setState({isCreateRepoDialogShow: !this.state.isCreateRepoDialogShow});\n  }\n\n  toggleMore = () => {\n    this.setState({ isOpen: !this.state.isOpen });\n  }\n\n  render() {\n    return (\n      <Fragment>\n          <div className=\"cur-view-toolbar\">\n            <span className=\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\" title=\"Side Nav Menu\" onClick={this.props.onShowSidePanel}></span>\n            <MediaQuery query=\"(min-width: 768px)\">\n              <div className=\"operation\">\n                <button className=\"btn btn-secondary operation-item\" title={gettext('New Library')} onClick={this.onCreateToggle}>\n                  <i className=\"fas fa-plus-square text-secondary mr-1\"></i>{gettext('New Library')}\n                </button>\n                {this.props.libraryType !== 'group' && (\n                  <Dropdown isOpen={this.state.isOpen} toggle={this.toggleMore}>\n                    <DropdownToggle className='btn btn-secondary operation-item'>\n                      {gettext('More')}\n                    </DropdownToggle>\n                    <DropdownMenu>\n                      <DropdownItem className=\"link-dropdown-container\">\n                        <Link className=\"link-dropdown-item\" to={siteRoot + 'my-libs/deleted/'}>{gettext('Deleted Libraries')}</Link>\n                      </DropdownItem>\n                    </DropdownMenu>\n                  </Dropdown>\n                )}\n              </div>\n            </MediaQuery>\n            <MediaQuery query=\"(max-width: 768px)\">\n              <span className=\"sf2-icon-plus mobile-toolbar-icon\" title={gettext('New Library')} onClick={this.onCreateToggle}></span>\n            </MediaQuery>\n          </div>\n        {this.state.isCreateRepoDialogShow && (\n          <ModalPortal>\n            <CreateRepoDialog \n              libraryType={this.props.libraryType}\n              onCreateRepo={this.onCreateRepo}\n              onCreateToggle={this.onCreateToggle}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nRepoViewToolbar.propTypes = propTypes;\n\nexport default RepoViewToolbar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbar/repo-view-toobar.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport MediaQuery from 'react-responsive';\nimport { gettext, storages } from '../../utils/constants';\nimport MylibRepoListItem from './mylib-repo-list-item';\n\nconst propTypes = {\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  repoList: PropTypes.array.isRequired,\n  sortRepoList: PropTypes.func.isRequired,\n  onRenameRepo: PropTypes.func.isRequired,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onTransferRepo: PropTypes.func.isRequired,\n  onRepoDetails: PropTypes.func.isRequired,\n  onRepoClick: PropTypes.func.isRequired,\n};\n\nclass MylibRepoListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n  \n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  sortByName = (e) => {\n    e.preventDefault();\n    const sortBy = 'name';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortRepoList(sortBy, sortOrder);\n  }\n\n  sortByTime = (e) => {\n    e.preventDefault();\n    const sortBy = 'time';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortRepoList(sortBy, sortOrder);\n  }\n\n  renderRepoListView = () => {\n    return (\n      <Fragment>\n        {this.props.repoList.map(item => {\n          return (\n            <MylibRepoListItem \n              key={item.repo_id}\n              repo={item}\n              isItemFreezed={this.state.isItemFreezed}\n              onFreezedItem={this.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n              onRenameRepo={this.props.onRenameRepo}\n              onDeleteRepo={this.props.onDeleteRepo}\n              onTransferRepo={this.props.onTransferRepo}\n              onRepoDetails={this.props.onRepoDetails}\n              onRepoClick={this.props.onRepoClick}\n            />\n          );\n        })}\n      </Fragment>\n    );\n  }\n\n  renderPCUI = () => {\n    const showStorageBackend = storages.length > 0;\n    const sortIcon = this.props.sortOrder === 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n    return (\n      <table>\n        <thead>\n          <tr>\n            <th width=\"4%\"></th>\n            <th width=\"4%\"><span className=\"sr-only\">{gettext('Library Type')}</span></th>\n            <th width=\"38%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('Name')} {this.props.sortBy === 'name' && sortIcon}</a></th>\n            <th width=\"14%\"><span className=\"sr-only\">{gettext('Actions')}</span></th>\n            <th width={showStorageBackend ? '15%' : '20%'}>{gettext('Size')}</th>\n            {showStorageBackend ? <th width=\"10%\">{gettext('Storage backend')}</th> : null}\n            <th width={showStorageBackend ? '15%' : '20%'}><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('Last Update')} {this.props.sortBy === 'time' && sortIcon}</a></th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.renderRepoListView()}\n        </tbody>\n      </table>\n    );\n  }\n\n  renderMobileUI = () => {\n    const sortIcon = this.props.sortOrder === 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n    return (\n      <table>\n        <thead>\n          <tr>\n            <th width=\"10%\"><span className=\"sr-only\">{gettext('Library Type')}</span></th>\n            <th width=\"84%\">\n              {gettext('Sort:')}\n              <a className=\"table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('name')} {this.props.sortBy === 'name' && sortIcon}</a>\n              <a className=\"table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('last update')} {this.props.sortBy === 'time' && sortIcon}</a>\n            </th>\n            <th width=\"6%\"><span className=\"sr-only\">{gettext('Actions')}</span></th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.renderRepoListView()}\n        </tbody>\n      </table>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MediaQuery query=\"(min-width: 768px)\">\n          {this.renderPCUI()}\n        </MediaQuery>\n        <MediaQuery query=\"(max-width: 768px)\">\n          {this.renderMobileUI()}\n        </MediaQuery>\n      </Fragment>\n    );\n  }\n}\n\nMylibRepoListView.propTypes = propTypes;\n\nexport default MylibRepoListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-libs/mylib-repo-list-view.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport MediaQuery from 'react-responsive';\nimport moment from 'moment';\nimport { Link } from '@reach/router';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, siteRoot, storages } from '../../utils/constants';\nimport ModalPortal from '../../components/modal-portal';\nimport ShareDialog from '../../components/dialog/share-dialog';\nimport toaster from '../../components/toast';\nimport DeleteRepoDialog from '../../components/dialog/delete-repo-dialog';\nimport TransferDialog from '../../components/dialog/transfer-dialog';\nimport LibHistorySettingDialog from '../../components/dialog/lib-history-setting-dialog';\nimport ChangeRepoPasswordDialog from '../../components/dialog/change-repo-password-dialog';\nimport ResetEncryptedRepoPasswordDialog from '../../components/dialog/reset-encrypted-repo-password-dialog';\nimport Rename from '../../components/rename';\nimport MylibRepoMenu from './mylib-repo-menu';\n\nconst propTypes = {\n  repo: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onRenameRepo: PropTypes.func.isRequired,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onTransferRepo: PropTypes.func.isRequired,\n  onRepoDetails: PropTypes.func.isRequired,\n  onRepoClick: PropTypes.func.isRequired,\n};\n\nclass MylibRepoListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShow: false,\n      isStarred: this.props.repo.starred,\n      isRenaming: false,\n      isShareDialogShow: false,\n      isDeleteDialogShow: false,\n      isTransferDialogShow: false,\n      isHistorySettingDialogShow: false,\n      isChangePasswordDialogShow: false,\n      isResetPasswordDialogShow: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShow: true,\n        highlight: true,\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShow: false,\n        highlight: false\n      });\n    }\n  }\n\n  onMenuItemClick = (item) => {\n    switch(item) {\n      case 'Share':\n        this.onShareToggle();\n        break;\n      case 'Delete':\n        this.onDeleteToggle();\n        break;\n      case 'Rename':\n        this.onRenameToggle();\n        break;\n      case 'Transfer':\n        this.onTransferToggle();\n        break;\n      case 'History Setting':\n        this.onHistorySettingToggle();\n        break;\n      case 'Change Password':\n        this.onChangePasswordToggle();\n        break;\n      case 'Reset Password':\n        this.onResetPasswordToggle();\n        break;\n      case 'Folder Permission':\n        // todo\n        break;\n      case 'Details':\n        this.onRepoDetails();\n        break;\n      case 'Label current state':\n        this.onLabel();\n        break;\n      default:\n        break;\n    }\n  }\n\n  onRepoClick = () => {\n    this.props.onRepoClick(this.props.repo);\n  }\n\n  onStarRepo = () => {\n    if (this.state.isStarred) {\n      seafileAPI.unstarItem(this.props.repo.repo_id, '/').then(() => {\n        this.setState({isStarred: !this.state.isStarred});\n      });\n    } else {\n      seafileAPI.starItem(this.props.repo.repo_id, '/').then(() => {\n        this.setState({isStarred: !this.state.isStarred});\n      })\n    }\n  }\n\n  onShareToggle = () => {\n    this.setState({isShareDialogShow: !this.state.isShareDialogShow});\n  }\n\n  onDeleteToggle = () => {\n    this.setState({isDeleteDialogShow: !this.state.isDeleteDialogShow});\n  }\n\n  onRenameToggle = () => {\n    this.props.onFreezedItem();\n    this.setState({isRenaming: !this.state.isRenaming});\n  }\n\n  onTransferToggle = () => {\n    this.setState({isTransferDialogShow: !this.state.isTransferDialogShow});\n  }\n\n  onHistorySettingToggle = () => {\n    this.setState({isHistorySettingDialogShow: !this.state.isHistorySettingDialogShow});\n  }\n\n  onChangePasswordToggle = () => {\n    this.setState({isChangePasswordDialogShow: !this.state.isChangePasswordDialogShow});\n  }\n\n  onResetPasswordToggle = () => {\n    this.setState({isResetPasswordDialogShow: !this.state.isResetPasswordDialogShow});\n  }\n\n  onRepoDetails = () => {\n    this.props.onRepoDetails(this.props.repo);\n  }\n\n  onLabel = () => {\n    // todo\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false,\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  onRenameConfirm = (newName) => {\n    let repo = this.props.repo;\n    let repoID = repo.repo_id;\n    seafileAPI.renameRepo(repoID, newName).then(() => {\n      this.props.onRenameRepo(repo, newName);\n      this.onRenameCancel();\n    });\n  }\n\n  onRenameCancel = () => {\n    this.props.onUnfreezedItem();\n    this.setState({isRenaming: !this.state.isRenaming});\n  }\n\n  onTransferRepo = (user) => {\n    let repoID = this.props.repo.repo_id;\n    seafileAPI.transferRepo(repoID, user.email).then(res => {\n      this.props.onTransferRepo(repoID);\n      let message = gettext('Successfully transferred the library.');\n      toaster.success(message);\n    }).catch(res => {\n      let message = gettext('Failed. Please check the network.');\n      toaster.danger(message);\n    });\n\n    this.onTransferToggle();\n  }\n\n  onDeleteRepo = (repo) => {\n    seafileAPI.deleteRepo(repo.repo_id).then((res) => {\n      this.props.onDeleteRepo(repo);\n\n      // TODO: show feedback msg\n    }).catch((error) => {\n\n      // TODO: show feedback msg\n    });\n  }\n\n  renderPCUI = () => {\n    let repo = this.props.repo;\n    let iconUrl = Utils.getLibIconUrl(repo);\n    let iconTitle = Utils.getLibIconTitle(repo);\n    let repoURL = `${siteRoot}library/${repo.repo_id}/${Utils.encodePath(repo.repo_name)}/`;\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} onClick={this.onRepoClick}>\n        <td className=\"text-center\">\n          {!this.state.isStarred && <i className=\"far fa-star star-empty cursor-pointer\" onClick={this.onStarRepo}></i>}\n          {this.state.isStarred && <i className=\"fas fa-star cursor-pointer\" onClick={this.onStarRepo}></i>}\n        </td>\n        <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n        <td>\n          {this.state.isRenaming && (\n            <Rename\n              name={repo.repo_name}\n              onRenameConfirm={this.onRenameConfirm}\n              onRenameCancel={this.onRenameCancel}\n            />\n          )}\n          {!this.state.isRenaming && repo.repo_name && (\n            <Link to={repoURL}>{repo.repo_name}</Link>\n          )}\n          {!this.state.isRenaming && !repo.repo_name &&\n            (gettext('Broken (please contact your administrator to fix this library)'))\n          }\n        </td>\n        <td>\n          {(repo.repo_name && this.state.isOpIconShow) && (\n            <div>\n              <a href=\"#\" className=\"op-icon sf2-icon-share\" title={gettext('Share')} onClick={this.onShareToggle}></a>\n              <a href=\"#\" className=\"op-icon sf2-icon-delete\" title={gettext('Delete')} onClick={this.onDeleteToggle}></a>\n              <MylibRepoMenu\n                isPC={true}\n                repo={this.props.repo}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            </div>\n          )}\n        </td>\n        <td>{repo.size}</td>\n        {storages.length > 0 && <td>{repo.storage_name}</td>}\n        <td title={moment(repo.last_modified).format('llll')}>{moment(repo.last_modified).fromNow()}</td>\n      </tr>\n    );\n  }\n\n  renderMobileUI = () => {\n    let repo = this.props.repo;\n    let iconUrl = Utils.getLibIconUrl(repo);\n    let iconTitle = Utils.getLibIconTitle(repo);\n    let repoURL = `${siteRoot}library/${repo.repo_id}/${Utils.encodePath(repo.repo_name)}/`;\n\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''}  onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} onClick={this.onRepoClick}>\n        <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n        <td>\n        {this.state.isRenaming && (\n            <Rename\n              name={repo.repo_name}\n              onRenameConfirm={this.onRenameConfirm}\n              onRenameCancel={this.onRenameCancel}\n            />\n          )}\n          {!this.state.isRenaming && repo.repo_name && (\n            <div><Link to={repoURL}>{repo.repo_name}</Link></div>\n          )}\n          {!this.state.isRenaming && !repo.repo_name &&\n            <div>(gettext('Broken (please contact your administrator to fix this library)'))</div>\n          }\n          <span className=\"item-meta-info\">{repo.size}</span>\n          <span className=\"item-meta-info\" title={moment(repo.last_modified).format('llll')}>{moment(repo.last_modified).fromNow()}</span>\n        </td>\n        <td>\n          {repo.repo_name && (\n            <MylibRepoMenu\n              repo={this.props.repo}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n          )}\n        </td>\n      </tr>\n    );\n  }\n\n  render() {\n    let repo = this.props.repo;\n    return (\n      <Fragment>\n        <MediaQuery query=\"(min-width: 768px)\">\n          {this.renderPCUI()}\n        </MediaQuery>\n        <MediaQuery query=\"(max-width: 768px)\">\n          {this.renderMobileUI()}\n        </MediaQuery>\n        {this.state.isShareDialogShow && (\n          <ModalPortal>\n            <ShareDialog\n              itemType={'library'}\n              itemName={repo.repo_name}\n              itemPath={'/'}\n              repoID={repo.repo_id}\n              repoEncrypted={repo.encrypted}\n              enableDirPrivateShare={true}\n              userPerm={repo.permission}\n              toggleDialog={this.onShareToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isDeleteDialogShow && (\n          <ModalPortal>\n            <DeleteRepoDialog\n              repo={repo}\n              onDeleteRepo={this.onDeleteRepo}\n              toggle={this.onDeleteToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isTransferDialogShow && (\n          <ModalPortal>\n            <TransferDialog\n              itemName={repo.repo_name}\n              submit={this.onTransferRepo}\n              toggleDialog={this.onTransferToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isHistorySettingDialogShow && (\n          <ModalPortal>\n            <LibHistorySettingDialog\n              repoID={repo.repo_id}\n              itemName={repo.repo_name}\n              toggleDialog={this.onHistorySettingToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isChangePasswordDialogShow && (\n          <ModalPortal>\n            <ChangeRepoPasswordDialog\n              repoID={repo.repo_id}\n              repoName={repo.repo_name}\n              toggleDialog={this.onChangePasswordToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isResetPasswordDialogShow && (\n          <ModalPortal>\n            <ResetEncryptedRepoPasswordDialog\n              repoID={repo.repo_id}\n              toggleDialog={this.onResetPasswordToggle}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    )\n  }\n}\n\nMylibRepoListItem.propTypes = propTypes;\n\nexport default MylibRepoListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-libs/mylib-repo-list-item.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  repo: PropTypes.object.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onDeleteRepo: PropTypes.func.isRequired,\n};\n\nclass DeleteRepoDialog extends Component {\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  onDeleteRepo = () => {\n    this.props.onDeleteRepo(this.props.repo);\n  }\n\n  render() {\n\n    const repo = this.props.repo;\n    const repoName = '<span class=\"op-target\">' + Utils.HTMLescape(repo.repo_name) + '</span>';\n    let message = gettext('Are you sure you want to delete %s ?');\n    message = message.replace('%s', repoName);\n\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Delete Library')}</ModalHeader>\n        <ModalBody>\n          <p dangerouslySetInnerHTML={{__html: message}}></p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.onDeleteRepo}>{gettext('Delete')}</Button>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDeleteRepoDialog.propTypes = propTypes;\n\nexport default DeleteRepoDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/delete-repo-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext, enableRepoHistorySetting } from '../../utils/constants';\nimport toaster from '../toast';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, Alert } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api.js';\n\nconst propTypes = {\n  itemName: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n};\n\nclass LibHistorySetting extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      keepDays: -1,\n      expireDays: 30,\n      disabled: true,\n      allHistory: true,\n      noHistory: false,\n      autoHistory: false,\n      errorInfo: ''\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.getRepoHistoryLimit(this.props.repoID).then(res => {\n      this.setState({\n        keepDays: res.data.keep_days,\n        allHistory: res.data.keep_days < 0 ? true : false,\n        noHistory: res.data.keep_days === 0 ? true : false,\n        autoHistory: res.data.keep_days > 0 ? true : false,\n        disabled: res.data.keep_days > 0 ? false : true,\n        expireDays: res.data.keep_days > 0 ? res.data.keep_days : 30, \n      });\n    });\n  }\n\n  submit = () => {\n    let days = this.state.keepDays;\n    if (this.state.autoHistory) {\n      days = this.state.expireDays;\n    }\n    let repoID = this.props.repoID;\n    let reg = /^-?\\d+$/;\n    let flag = reg.test(days);\n    if (flag) {  \n      let message = gettext('Successfully set library history.');\n      seafileAPI.setRepoHistoryLimit(repoID, days).then(res => {\n        toaster.success(message);\n        this.setState({keepDays: res.data.keep_days});\n        this.props.toggleDialog();\n      });\n    } else {\n      this.setState({\n        errorInfo: gettext('Please enter a non-negative integer'),\n      });\n    }\n  }\n\n  onChange = (e) => {\n    let num = e.target.value;\n    this.setState({\n      keepDays: num,\n      expireDays: num,\n    });\n  }\n\n  setLimitDays = (type) => {\n    if (type === 'allHistory') {\n      this.setState({\n        keepDays: -1,\n      });\n    } else if (type === 'noHistory') {\n      this.setState({\n        keepDays: 0,\n      });\n    } else {\n      this.setState({\n        disabled: false \n      });\n    }\n\n    this.setState({\n      allHistory: type === 'allHistory' ? true : false,\n      noHistory: type === 'noHistory' ? true : false,\n      autoHistory: type === 'autoHistory' ? true : false,\n    });\n  }\n\n  render() {\n    const itemName = this.props.itemName;\n    return (\n      <Modal isOpen={true} centered={true}>\n        <ModalHeader toggle={this.props.toggleDialog}>\n          <span className=\"op-target\" title={itemName}>{itemName}</span>{' '}\n          {gettext('History Setting')}\n        </ModalHeader>\n        <ModalBody>\n          <Form>\n            {!enableRepoHistorySetting &&\n              <FormGroup>\n                <Label className=\"error\">{gettext('Setting library history is disabled by Admin.')}</Label>\n              </FormGroup>\n            }\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.allHistory} disabled={!enableRepoHistorySetting} onChange={() => {this.setLimitDays('allHistory');}}/>{' '}\n              <Label>{gettext('Keep full history')}</Label>\n            </FormGroup>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.noHistory} disabled={!enableRepoHistorySetting} onChange={() =>{this.setLimitDays('noHistory');}}/>{' '}\n              <Label>{gettext('Don\\'t keep history')}</Label>\n            </FormGroup>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.autoHistory} disabled={!enableRepoHistorySetting} onChange={() =>{this.setLimitDays('autoHistory');}}/>{' '}\n              <Label>{gettext('Only keep a period of history:')}</Label>\n              <Input \n                type=\"text\" \n                className=\"expire-input\" \n                value={this.state.expireDays}\n                onChange={this.onChange} \n                disabled={this.state.disabled}\n              />{' '}\n              <Label><span>{gettext('days')}</span></Label>\n            </FormGroup>\n            {this.state.errorInfo && <Alert color=\"danger\">{this.state.errorInfo}</Alert>}\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n            <Button color=\"secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</Button>\n            <Button color=\"primary\" onClick={this.submit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nLibHistorySetting.propTypes = propTypes;\n\nexport default LibHistorySetting;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/lib-history-setting-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  noticeItem: PropTypes.object.isRequired,\n  onNoticeItemClick: PropTypes.func.isRequired,\n};\n\nconst MSG_TYPE_ADD_USER_TO_GROUP = 'add_user_to_group'\nconst MSG_TYPE_REPO_SHARE = 'repo_share'\nconst MSG_TYPE_REPO_SHARE_TO_GROUP = 'repo_share_to_group'\nconst MSG_TYPE_REPO_TRANSFER = 'repo_transfer'\nconst MSG_TYPE_FILE_UPLOADED = 'file_uploaded'\nconst MSG_TYPE_FILE_COMMENT = 'file_comment'\nconst MSG_TYPE_DRAFT_COMMENT = 'draft_comment'\nconst MSG_TYPE_DRAFT_REVIEWER = 'draft_reviewer'\nconst MSG_TYPE_GUEST_INVITATION_ACCEPTED = 'guest_invitation_accepted'\n\nclass NoticeItem extends React.Component {\n\n  generatorNoticeInfo () {\n    let noticeItem = this.props.noticeItem;\n    let noticeType = noticeItem.type;\n    let detail = noticeItem.detail;\n\n    if (noticeType === MSG_TYPE_ADD_USER_TO_GROUP) {\n\n      let avatar_url = detail.group_staff_avatar_url;\n\n      let groupStaff = detail.group_staff_name;\n      \n      let userHref = siteRoot + 'profile/' + detail.group_staff_email + '/';\n      let groupHref = siteRoot + 'group/' + detail.group_id + '/';\n      let groupName = detail.group_name;\n\n      let notice = gettext('User {user_link} has added you to {group_link}');\n      let userLink = '<a href=' + userHref + '>' + groupStaff + '</a>';\n      let groupLink = '<a href=' + groupHref + '>' + groupName + '</a>';\n\n      notice = notice.replace('{user_link}', userLink);\n      notice = notice.replace('{group_link}', groupLink);\n\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_REPO_SHARE) {\n\n      let avatar_url = detail.share_from_user_avatar_url;\n\n      let shareFrom = detail.share_from_user_name;\n\n      let repoName = detail.repo_name;\n      let repoUrl = siteRoot + 'library/' + detail.repo_id + '/' +  repoName + '/';\n\n      let path = detail.path;\n      let notice = '';\n      let repoLink = '<a href=' + repoUrl + '>' + repoName + '</a>';\n      if (path === '/') { // share repo\n        notice = gettext('{share_from} has shared a library named {repo_link} to you.');\n      } else { // share folder\n        notice = gettext('{share_from} has shared a folder named {repo_link} to you.');\n      }\n\n      notice = notice.replace('{share_from}', shareFrom);\n      notice = notice.replace('{repo_link}', repoLink);\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_REPO_SHARE_TO_GROUP) {\n\n      let avatar_url = detail.share_from_user_avatar_url;\n\n      let shareFrom = detail.share_from_user_name;\n\n      let repoName = detail.repo_name;\n      let repoUrl = siteRoot + 'library/' + detail.repo_id + '/' + repoName + '/';\n\n      let groupUrl = siteRoot + 'group/' + detail.group_id + '/';\n      let groupName = detail.group_name; \n\n      let path = detail.path;\n      let notice = '';\n      let repoLink = '<a href=' + repoUrl + '>' + repoName + '</a>';\n      let groupLink = '<a href=' + groupUrl + '>' + groupName + '</a>';\n      if (path === '/') {\n        notice =  gettext('{share_from} has shared a library named {repo_link} to group {group_link}.');\n      } else {\n        notice =  gettext('{share_from} has shared a folder named {repo_link} to group {group_link}.');\n      }\n      notice = notice.replace('{share_from}', shareFrom);\n      notice = notice.replace('{repo_link}', repoLink);\n      notice = notice.replace('{group_link}', groupLink);\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_REPO_TRANSFER) {\n\n      let avatar_url = detail.transfer_from_user_avatar_url;\n\n      let repoOwner = detail.transfer_from_user_name;\n\n      let repoName = detail.repo_name;\n      let repoUrl = siteRoot + 'library/' + detail.repo_id + '/' + repoName + '/';\n      let notice = gettext('{user} has transfered a library named {repo_link} to you.');\n      let repoLink = '<a href=' + repoUrl + '>' + repoName + '</a>';\n      notice = notice.replace('{user}', repoOwner);\n      notice = notice.replace('{repo_link}', repoLink);\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_FILE_UPLOADED) {\n      let avatar_url = detail.uploaded_user_avatar_url;\n      let fileName = detail.file_name;\n      let fileLink = siteRoot + 'lib/' + detail.repo_id + '/' + 'file' + Utils.encodePath(detail.file_path);\n\n      let folderName = detail.folder_name;\n      let folderLink = siteRoot + 'library/' + detail.repo_id + '/' + detail.repo_name + Utils.encodePath(detail.folder_path);\n      let notice = '';\n      if (detail.repo_id) { // todo is repo exist ?\n        let uploadFileLink = '<a href=' + fileLink + '>' + fileName + '</a>';\n        let uploadedLink = '<a href=' + folderLink  + '>' + folderName + '</a>';\n\n        notice = gettext('A file named {upload_file_link} is uploaded to {uploaded_link}.');\n        notice = notice.replace('{upload_file_link}', uploadFileLink);\n        notice = notice.replace('{uploaded_link}', uploadedLink);\n      } else {\n        notice = gettext('A file named {upload_file_link} is uploaded to {uploaded_link}.');\n        notice = notice.replace('{upload_file_link}', fileName);\n        notice = notice.replace('{uploaded_link}', '<strong>Deleted Library</strong>')\n      }\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_FILE_COMMENT) {\n\n      let avatar_url = detail.author_avatar_url;\n\n      let author = detail.author_name;\n\n      let fileName = detail.file_name;\n      let fileUrl = siteRoot + 'lib/' + detail.repo_id + '/' + 'file' + detail.file_path;\n\n      let notice = gettext('File {file_link} has a new comment form user {author}.');\n      let fileLink = '<a href=' + fileUrl + '>' + fileName + '</a>';\n      notice = notice.replace('{file_link}', fileLink);\n      notice = notice.replace('{author}', author);\n      return {avatar_url, notice};\n    }\n    \n    if (noticeType === MSG_TYPE_DRAFT_COMMENT) {\n\n      let avatar_url = detail.author_avatar_url;\n\n      let author = detail.author_name;\n\n      let draftId = detail.draft_id;\n      let draftUrl = siteRoot + 'drafts/' + draftId + '/';\n\n      let notice = gettext('{draft_link} has a new comment from user {author}.');\n      let draftLink = '<a href=' + draftUrl + '>' + gettext('Draft') + '#' + draftId + '</a>';\n      notice = notice.replace('{draft_link}', draftLink);\n      notice = notice.replace('{author}', author);\n      return {avatar_url, notice};\n    }\n    \n    if (noticeType === MSG_TYPE_DRAFT_REVIEWER) {\n\n      let avatar_url = detail.request_user_avatat_url;\n\n      let fromUser = detail.request_user_name;\n\n      let draftId = detail.draft_id;\n      let draftUrl = siteRoot + 'drafts/' + draftId + '/';\n\n      let notice = gettext('{from_user} has sent you a request for {draft_link}.');\n      let draftLink = '<a href=' + draftUrl + '>' + gettext('Draft') + '#' + draftId + '</a>';\n      notice = notice.replace('{from_user}', fromUser);\n      notice = notice.replace('{draft_link}', draftLink);\n      return {avatar_url, notice};\n    }\n    \n    // if (noticeType === MSG_TYPE_GUEST_INVITATION_ACCEPTED) {\n      \n    // }\n    \n    return {avatar_url : null, notice : null};\n  }\n\n  onNoticeItemClick = () => {\n    let item = this.props.noticeItem;\n    if (item.seen === true) {\n      return;\n    }\n    this.props.onNoticeItemClick(item);\n  }\n\n  render() {\n    let noticeItem = this.props.noticeItem;\n    let { avatar_url, notice } = this.generatorNoticeInfo();\n\n    if (!avatar_url && !notice) {\n      return '';\n    }\n\n    return (\n      <li onClick={this.onNoticeItemClick} className={noticeItem.seen ? 'read' : 'unread'}>\n        <div className=\"notice-item\">\n          <div className=\"main-info\">\n            <img src={avatar_url} width=\"32\" height=\"32\" className=\"avatar\" />\n            <p className=\"brief\" dangerouslySetInnerHTML={{__html: notice}}></p>\n          </div>\n          <p className=\"time\">{moment(noticeItem.timestamp).fromNow()}</p>\n        </div>\n      </li>\n    )\n  }\n}\n\nNoticeItem.propTypes = propTypes;\n\nexport default NoticeItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/notice-item.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Alert } from 'reactstrap'; \nimport { gettext, repoPasswordMinLength } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport toaster from '../toast';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  repoName: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass ChangeRepoPasswordDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      oldPassword: '',\n      newPassword: '',\n      newPasswordAgain: '',\n      submitBtnDisabled: false,\n      errorMsg: ''\n    };\n  }\n\n  handleOldPasswordInputChange = (e) => {\n    this.setState({\n      oldPassword: e.target.value\n    });\n  }\n\n  handleNewPasswordInputChange = (e) => {\n    this.setState({\n      newPassword: e.target.value\n    });\n  }\n\n  handleNewPasswordAgainInputChange = (e) => {\n    this.setState({\n      newPasswordAgain: e.target.value\n    });\n  }\n\n  formSubmit = (e) => {\n    const { oldPassword, newPassword, newPasswordAgain } = this.state;\n    if (!oldPassword) {\n      this.setState({\n        errorMsg: gettext('Please enter the old password')\n      });\n      return false;\n    }\n    if (!newPassword) {\n      this.setState({\n        errorMsg: gettext('Please enter a new password')\n      });\n      return false;\n    }\n    if (newPassword.length < repoPasswordMinLength) {\n      this.setState({\n        errorMsg: gettext('New password is too short')\n      });\n      return false;\n    }\n    if (!newPasswordAgain) {\n      this.setState({\n        errorMsg: gettext('Please enter the new password again')\n      });\n      return false;\n    }\n    if (newPassword != newPasswordAgain) {\n      this.setState({\n        errorMsg: gettext('New passwords don\\'t match')\n      });\n      return false;\n    }\n\n    this.setState({\n      submitBtnDisabled: true  \n    });\n    seafileAPI.changeEncryptedRepoPassword(this.props.repoID, oldPassword, newPassword)\n    .then(() => {\n      this.props.toggleDialog();\n      toaster.success(gettext('Successfully changed library password.'));\n    }).catch((error) => {\n      let errorMsg = '';\n      if (error.response) {\n        if (error.response.data) {\n            errorMsg = error.response.data.error_msg;\n        } else {\n            errorMsg = gettext('Error');\n        }   \n      } else {\n          errorMsg = gettext('Please check the network.');\n      }   \n      this.setState({\n        errorMsg: errorMsg,\n        submitBtnDisabled: false\n      }); \n    });\n  }\n\n\n  render() {\n    const { repoID, repoName, toggleDialog } = this.props;\n\n    return (\n      <Modal isOpen={true} centered={true} style={{height: 'auto'}}>\n        <ModalHeader toggle={toggleDialog}>\n          <span dangerouslySetInnerHTML={{__html: Utils.generateDialogTitle(gettext('Change Password of Library {placeholder}'), repoName)}}></span>\n        </ModalHeader>\n        <ModalBody>\n          <form id=\"repo-change-passwd-form\" action=\"\" method=\"post\">\n            <label htmlFor=\"passwd\">{gettext('Old Password')}</label><br />\n            <input type=\"password\" name=\"old_passwd\" className=\"form-control\" id=\"passwd\" value={this.state.oldPassword} onChange={this.handleOldPasswordInputChange} /><br />\n            <label htmlFor=\"new-passwd\">{gettext('New Password')}</label><span className=\"tip\">{gettext('(at least {placeholder} characters)').replace('{placeholder}', repoPasswordMinLength)}</span><br />\n            <input type=\"password\" name=\"new_passwd\" className=\"form-control\" id=\"new-passwd\" value={this.state.newPassword} onChange={this.handleNewPasswordInputChange} /><br />\n            <label htmlFor=\"new-passwd-again\">{gettext('New Password Again')}</label><br />\n            <input type=\"password\" name=\"new_passwd_again\" className=\"form-control\" id=\"new-passwd-again\" value={this.state.newPasswordAgain} onChange={this.handleNewPasswordAgainInputChange} /><br />\n            {this.state.errorMsg && <Alert color=\"danger\">{this.state.errorMsg}</Alert>}\n          </form>\n        </ModalBody>\n        <ModalFooter>\n            <button className=\"btn btn-primary\" disabled={this.state.submitBtnDisabled} onClick={this.formSubmit}>{gettext('Submit')}</button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nChangeRepoPasswordDialog.propTypes = propTypes;\n\nexport default ChangeRepoPasswordDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/change-repo-password-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport toaster from '../../components/toast';\nimport { Button, Form, FormGroup, Label, Input, Modal, ModalHeader, ModalBody, ModalFooter, Alert } from 'reactstrap';\nimport { gettext, contactEmail } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n};\n\nclass ResetEncryptedRepoPasswordDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      errMessage: '',\n      showLoading: true,\n      showSuccess: false,\n      showError: false,\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.resetAndSendEncryptedRepoPassword(this.props.repoID).then((res) => {\n      this.setState({showLoading: false});\n      this.setState({showSuccess: true});\n    }).catch((error) => {\n      if (error.response) {\n        this.setState({\n          errMessage: error.response.data.error_msg\n        });\n        this.setState({showLoading: false});\n        this.setState({showError: true});\n      }\n    });\n  }\n\n  render() {\n\n    let user_email = '<strong>' + contactEmail + '</strong>';\n    let message = gettext('New password has been sent to your email {mail}. Please check your mailbox. If you dont receive the password, please check if your email address is properly configured.').replace('{mail}', user_email);\n\n    return (\n      <Modal isOpen={true}  centered={true}>\n        <ModalHeader toggle={this.props.toggleDialog}>\n          {gettext('Reset library password')}\n        </ModalHeader>\n        <ModalBody>\n        {this.state.showLoading && (\n          <span>{gettext('Sending new password...')}</span>\n        )}\n        {this.state.showSuccess && (\n          <div dangerouslySetInnerHTML={{__html:message}} />\n        )}\n        {this.state.showError && (\n          <span className=\"err-message\">{this.state.errMessage}</span>\n        )}\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nResetEncryptedRepoPasswordDialog.propTypes = propTypes;\n\nexport default ResetEncryptedRepoPasswordDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/reset-encrypted-repo-password-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext, folderPermEnabled, enableRepoSnapshotLabel, enableResetEncryptedRepoPassword, isEmailConfigured } from '../../utils/constants';\n\nconst propTypes = {\n  isPC: PropTypes.bool,\n  repo: PropTypes.object.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n};\n\nclass MylibRepoMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false,\n    };\n  }\n\n  onMenuItemClick = (e) => {\n    let operation = e.target.dataset.toggle;\n    this.props.onMenuItemClick(operation);\n  }\n\n  onDropdownToggleClick = (e) => {\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    let dataset = e.target ? e.target.dataset : null;\n    if (dataset && dataset.toggle && dataset.toggle === 'Rename') {\n      this.setState({isItemMenuShow: !this.state.isItemMenuShow});\n      return;\n    }\n    \n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow},\n      () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  }\n\n  generatorOperations = () => {\n    let repo = this.props.repo;\n    let showResetPasswordMenuItem = repo.encrypted && enableResetEncryptedRepoPassword && isEmailConfigured;\n    let operations = ['Rename', 'Transfer', 'History Setting'];\n    if (repo.encrypted) {\n      operations.push('Change Password');\n    }\n    if (showResetPasswordMenuItem) {\n      operations.push('Reset Password')\n    }\n    if (folderPermEnabled) {\n      operations.push('Folder Permission');\n    }\n    operations.push('Details');\n    if (this.props.isPC && enableRepoSnapshotLabel) {\n      operations.push('Label current state');\n    }\n    return operations;\n  }\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Share':\n        translateResult = gettext('Share');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n      case 'History Setting':\n        translateResult = gettext('History Setting');\n        break;\n      case 'Change Password':\n        translateResult = gettext('Change Password');\n        break;\n      case 'Reset Password':\n        translateResult = gettext('Reset Password');\n        break;\n      case 'Folder Permission':\n        translateResult = gettext('Folder Permission');\n        break;\n      case 'Details':\n        translateResult = gettext('Details');\n        break;\n      case 'Label current state':\n        translateResult = gettext('Label current state');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  }\n\n  render() {\n    let operations = this.generatorOperations();\n\n    // pc menu\n    if (this.props.isPC) {\n      return (\n        <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n          <DropdownToggle \n            tag=\"i\"\n            className=\"sf-dropdown-toggle sf2-icon-caret-down\"\n            title={gettext('More Operations')}\n            // onClick={this.clickOperationMenuToggle}\n            data-toggle=\"dropdown\" \n            aria-expanded={this.state.isItemMenuShow}\n          />\n          <DropdownMenu>\n            {operations.map((item, index )=> {\n              return (<DropdownItem key={index} data-toggle={item} onClick={this.onMenuItemClick}>{this.translateOperations(item)}</DropdownItem>);\n            })}\n          </DropdownMenu>\n        </Dropdown>\n      )\n    }\n\n    // mobile menu\n    operations.unshift('Share');\n    operations.unshift('Delete');\n\n    return (\n      <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n        <DropdownToggle \n          tag=\"i\"\n          className=\"sf-dropdown-toggle sf2-icon-caret-down ml-0\"\n          title={gettext('More Operations')}\n          // onClick={this.clickOperationMenuToggle}\n          data-toggle=\"dropdown\" \n          aria-expanded={this.state.isItemMenuShow}\n        />\n        <div className={`${this.state.isItemMenuShow ? '' : 'd-none'}`} onClick={this.toggleOperationMenu}>\n          <div className=\"mobile-operation-menu-bg-layer\"></div>\n          <div className=\"mobile-operation-menu\">\n            {operations.map((item, index) => {\n              return (<DropdownItem key={index} className=\"mobile-menu-item\" data-toggle={item} onClick={this.onMenuItemClick}>{this.translateOperations(item)}</DropdownItem>);\n            })}\n          </div>\n        </div>\n      </Dropdown>\n    );\n  }\n}\n\nMylibRepoMenu.propTypes = propTypes;\n\nexport default MylibRepoMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-libs/mylib-repo-menu.js","import React, { Component, Fragment } from 'react';\nimport { Link } from '@reach/router';\nimport moment from 'moment';\nimport { gettext, siteRoot, lang } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport toaster from '../../components/toast';\nimport CommonToolbar from '../../components/toolbar/common-toolbar';\nimport Loading from '../../components/loading';\n\nmoment.locale(lang);\n\nclass MyLibsDeleted extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      deletedRepoList: [],\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listDeletedRepo().then(res => {\n      this.setState({\n        deletedRepoList: res.data,\n        isLoading: false,\n      });\n    });  \n  }\n\n  refreshDeletedRepoList = (repoID) => {\n    let deletedRepoList = this.state.deletedRepoList.filter(item => {\n      return item.repo_id !== repoID;\n    });\n    this.setState({deletedRepoList: deletedRepoList});\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"main-panel-north\">\n          <CommonToolbar onSearchedClick={this.props.onSearchedClick} />\n        </div>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <div className=\"path-container\">\n                <Link to={ siteRoot + 'my-libs/' }>{gettext(\"My Libraries\")}</Link>\n                <span className=\"path-split\">/</span>\n                <span>{gettext('Deleted Libraries')}</span>\n              </div>\n            </div>\n            <div className=\"cur-view-content\">\n              {this.state.isLoading && <Loading />}\n              {(!this.state.isLoading && this.state.deletedRepoList.length === 0) &&\n                <div className=\"message empty-tip\">\n                  <h2>{gettext('No deleted libraries.')}</h2>\n                </div>\n              }\n              {this.state.deletedRepoList.length !== 0 && \n                <div>\n                  <p className=\"tip\">{gettext('Tip: libraries deleted 30 days ago will be cleaned automatically.')}</p>\n                  <DeletedRepoTable \n                    deletedRepoList={this.state.deletedRepoList}\n                    refreshDeletedRepoList={this.refreshDeletedRepoList}\n                  />\n                </div>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nclass DeletedRepoTable extends Component {\n\n  render() {\n    let deletedRepos = this.props.deletedRepoList;\n    return (\n      <table>\n        <thead>\n          <tr>\n            <th style={{width: '4%'}}>{/*img*/}</th>\n            <th style={{width: '52%'}}>{gettext('Name')}</th>\n            <th style={{width: '30%'}}>{gettext('Deleted Time')}</th>\n            <th style={{width: '14%'}}></th>\n          </tr>\n        </thead>\n        <tbody>\n          { deletedRepos && deletedRepos.map((item) => {\n            return (\n              <DeletedRepoItem\n                key={item.repo_id}\n                repo={item}\n                refreshDeletedRepoList={this.props.refreshDeletedRepoList}\n              />\n            );\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nclass DeletedRepoItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hideRestoreMenu: true,\n      highlight: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        hideRestoreMenu: false,\n        highlight: true,\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        hideRestoreMenu: true,\n        highlight: false,\n      });\n    }\n  } \n\n  restoreDeletedRepo = () => {\n    let repoID = this.props.repo.repo_id;\n    let repoName = this.props.repo.repo_name;\n    seafileAPI.restoreDeletedRepo(repoID).then(res => {\n      let message = gettext('Successfully restored the library.') + '  ' + repoName;\n      toaster.success(message);\n      this.props.refreshDeletedRepoList(repoID);\n    }).catch(res => {\n        let message = gettext('Failed. Please check the network.')\n        toaster.danger(message);\n    })\n  }\n\n  render() {\n    let localTime = moment.utc(this.props.repo.del_time).toDate();\n    localTime = moment(localTime).fromNow();\n\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className=\"text-center\"><img src={siteRoot + 'media/img/lib/48/lib.png'} alt='' /></td>\n        <td className=\"name\">{this.props.repo.repo_name}</td>\n        <td className=\"update\">{localTime}</td>\n        <td>\n          {this.state.highlight && (\n            <a href=\"#\" onClick={this.restoreDeletedRepo} className=\"op-icon sf2-icon-reply repo-share-btn\" title={gettext('Restore')} aria-label={gettext('Restore')}></a>\n          )}\n        </td>\n      </tr>\n    );\n  }\n}\n\nexport default MyLibsDeleted;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-libs/my-libs-deleted.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport cookie from 'react-cookies';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem} from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, loginUrl } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Repo from '../../models/repo';\nimport toaster from '../../components/toast';\nimport Loading from '../../components/loading';\nimport ModalPortal from '../../components/modal-portal';\nimport CommonToolbar from '../../components/toolbar/common-toolbar';\nimport CreateRepoDialog from '../../components/dialog/create-repo-dialog';\nimport ShareRepoDialog from '../../components/dialog/share-repo-dialog';\nimport SharedRepoListView from '../../components/shared-repo-list-view/shared-repo-list-view';\n\nconst propTypes = {\n  onShowSidePanel: PropTypes.func.isRequired,\n  onSearchedClick: PropTypes.func.isRequired,\n};\n\nclass PublicSharedView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      errMessage: '',\n      emptyTip: '',\n      repoList: [],\n      sortBy: cookie.load('seafile-repo-sort-by') || 'name', // 'name' or 'time'\n      sortOrder: cookie.load('seafile-repo-sort-order') || 'asc', // 'asc' or 'desc'\n      libraryType: 'public',\n      isCreateMenuShow: false,\n      isCreateRepoDialogShow: false,\n      isSelectRepoDialpgShow: false,\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listRepos({type: 'public'}).then((res) => {\n      let repoList = res.data.repos.map(item => {\n        let repo = new Repo(item);\n        return repo;\n      });\n      this.setState({\n        isLoading: false,\n        repoList: Utils.sortRepos(repoList, this.state.sortBy, this.state.sortOrder)\n      });\n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            isLoading: false,\n            errMessage: gettext('Permission denied')\n          });\n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            isLoading: false,\n            errMessage: gettext('Error')\n          });\n        }\n      } else {\n        this.setState({\n          isLoading: false,\n          errMessage: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  onCreateRepo = (repo) => {\n    seafileAPI.createPublicRepo(repo).then(res => {\n      let object = {  // need modify api return value\n        repo_id: res.data.id,\n        repo_name: res.data.name,\n        permission: res.data.permission,\n        size: res.data.size,\n        owner_name: res.data.owner_name,\n        owner_email: res.data.owner,\n        mtime: res.data.mtime,\n        encrypted: res.data.encrypted,\n      };\n      let repo = new Repo(object);\n      let repoList = this.addRepoItem(repo);\n      this.setState({repoList: repoList});\n      this.onCreateRepoToggle();\n    }).catch(() => {\n      // todo\n    });\n  }\n\n  onRepoSelectedHandler = (selectedRepoList) => {\n    selectedRepoList.forEach(repo => {\n      seafileAPI.selectOwnedRepoToPublic(repo.repo_id, {share_type: 'public', permission: repo.sharePermission}).then(() => {\n        let repoList = this.addRepoItem(repo);\n        this.setState({repoList: repoList});\n      }).catch(() => {\n        // todo\n      });\n    });\n  }\n\n  onItemUnshare = (repo) => {\n    seafileAPI.unshareRepo(repo.repo_id, {share_type: 'public'}).then(() => {\n      let repoList = this.state.repoList.filter(item => {\n        return item.repo_id !== repo.repo_id;\n      });\n      this.setState({repoList: repoList});\n      toaster.success('Successfully unshared 1 item.');\n    });\n  }\n\n  onItemDelete = () => {\n    // todo need to optimized\n  }\n\n  addRepoItem = (repo) => {\n    let isExist = false;\n    let repoIndex = 0;\n    let repoList = this.state.repoList;\n    for (let i = 0; i < repoList.length; i ++) {\n      if (repo.repo_id === repoList[i].repo_id) {\n        isExist = true;\n        repoIndex = i;\n        break;\n      }\n    }\n    if (isExist) {\n      this.state.repoList.splice(repoIndex, 1);\n    }\n\n    let newRepoList = this.state.repoList.map(item => {return item;});\n    newRepoList.unshift(repo);\n    return newRepoList;\n  }\n\n  onAddRepoToggle = () => {\n    this.setState({isCreateMenuShow: !this.state.isCreateMenuShow});\n  }\n\n  onCreateRepoToggle = () => {\n    this.setState({isCreateRepoDialogShow: !this.state.isCreateRepoDialogShow});\n  }\n\n  onSelectRepoToggle = () => {\n    this.setState({isSelectRepoDialpgShow: !this.state.isSelectRepoDialpgShow});\n  }\n\n  sortItems = (sortBy, sortOrder) => {\n    cookie.save('seafile-repo-sort-by', sortBy);\n    cookie.save('seafile-repo-sort-order', sortOrder);\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: sortOrder,\n      repoList: Utils.sortRepos(this.state.repoList, sortBy, sortOrder)\n    });\n  }\n\n  render() {\n    let errMessage = this.state.errMessage;\n    let emptyTip = (\n      <div className=\"empty-tip\">\n        <h2>{gettext('No public libraries')}</h2>\n        <p>{gettext('You can create a public library by clicking the \"New Library\" button, others can view and download this library.')}</p>\n      </div>\n    );\n    return (\n      <Fragment>\n        <div className=\"main-panel-north border-left-show\">\n          <div className=\"cur-view-toolbar\">\n            <span className=\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\" title=\"Side Nav Menu\" onClick={this.props.onShowSidePanel}></span>\n            <div className=\"operation\">\n              <Dropdown isOpen={this.state.isCreateMenuShow} toggle={this.onAddRepoToggle}>\n                <DropdownToggle className='btn btn-secondary operation-item'>\n                  <i className=\"fas fa-plus-square text-secondary mr-1\"></i>{gettext('Add Library')}\n                </DropdownToggle>\n                <DropdownMenu>\n                  <DropdownItem onClick={this.onSelectRepoToggle}>{gettext('Share existing libraries')}</DropdownItem>\n                  <DropdownItem onClick={this.onCreateRepoToggle}>{gettext('New Library')}</DropdownItem>\n                </DropdownMenu>\n              </Dropdown>\n            </div>\n          </div>\n          <CommonToolbar onSearchedClick={this.props.onSearchedClick} />\n        </div>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Shared with all')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              {this.state.isLoading && <Loading />}\n              {(!this.state.isLoading && errMessage) && errMessage}\n              {(!this.state.isLoading && this.state.repoList.length === 0) && emptyTip}\n              {(!this.state.isLoading && this.state.repoList.length > 0) &&\n                <SharedRepoListView \n                  libraryType={this.state.libraryType}\n                  repoList={this.state.repoList}\n                  sortBy={this.state.sortBy}\n                  sortOrder={this.state.sortOrder}\n                  sortItems={this.sortItems}\n                  onItemUnshare={this.onItemUnshare}\n                  onItemDelete={this.onItemDelete}\n                />\n              }\n            </div>\n          </div>\n        </div>\n        {this.state.isCreateRepoDialogShow && (\n          <ModalPortal>\n            <CreateRepoDialog \n              libraryType={this.state.libraryType}\n              onCreateToggle={this.onCreateRepoToggle}\n              onCreateRepo={this.onCreateRepo}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isSelectRepoDialpgShow && (\n          <ModalPortal>\n            <ShareRepoDialog \n              onRepoSelectedHandler={this.onRepoSelectedHandler}\n              onShareRepoDialogClose={this.onSelectRepoToggle}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nPublicSharedView.propTypes = propTypes;\n\nexport default PublicSharedView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shared-with-all/public-shared-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Alert } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Repo from '../../models/repo';\n\nconst shareRepoListItemProps = {\n  repo: PropTypes.object.isRequired,\n  onRepoSelect: PropTypes.func.isRequired,\n  onPermissionChange: PropTypes.func.isRequired,\n};\n\nclass ShareRepoListItem extends React.Component {\n\n  onRepoSelect = (e) => {\n    let isChecked = e.target.checked;\n    this.props.onRepoSelect(this.props.repo, isChecked);\n  }\n\n  onPermissionChange = (e) => {\n    let permission = e.target.value;\n    let repo = this.props.repo;\n    this.props.onPermissionChange(repo, permission);\n  }\n\n  render() {\n    let repo = this.props.repo;\n    let iconUrl = Utils.getLibIconUrl(repo);\n    return (\n      <tr>\n        <td className=\"text-center\"><input type=\"checkbox\" className=\"vam\" name=\"repo\" onChange={this.onRepoSelect} /></td>\n        <td className=\"text-center\"><img src={iconUrl} width=\"24\" alt={gettext('icon')} /></td>\n        <td className=\"name\">{repo.repo_name}</td>\n        <td>{moment(repo.last_modified).fromNow()}</td>\n        <td>\n          <Input style={{height: '1.5rem', padding: 0}} type=\"select\" name=\"select\" onChange={this.onPermissionChange} value={repo.sharePermission}>\n            <option value='rw'>{gettext('Read-Write')}</option>\n            <option value='r'>{gettext('Read-Only')}</option>\n          </Input>\n        </td>\n      </tr>\n    );\n  }\n}\n\nShareRepoListItem.propTypes = shareRepoListItemProps;\n\nconst propTypes = {\n  onRepoSelectedHandler: PropTypes.func.isRequired,\n  onShareRepoDialogClose: PropTypes.func.isRequired,\n};\n\nclass ShareRepoDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoList: [],\n      currentRepo: null,\n      permission: 'rw',\n      selectedRepoList: [],\n      errMessage: '',\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listRepos({type: 'mine'}).then(res => {\n      let repoList = res.data.repos.map(item => {\n        let repo = new Repo(item);\n        repo.sharePermission = 'rw';\n        return repo;\n      });\n      this.setState({repoList: repoList});\n    });\n  }\n\n  onRepoSelect = (repo, isChecked) => {\n    let selectedRepoList = [];\n    if (isChecked) {\n      this.state.selectedRepoList.push(repo);\n      selectedRepoList = this.state.selectedRepoList;\n    } else {\n      selectedRepoList = this.state.selectedRepoList.filter(item => {\n        return item.repo_id !== repo.repo_id;\n      });\n    }\n    this.setState({selectedRepoList: selectedRepoList});\n  }\n\n  onPermissionChange = (repo, permission) => {\n    let repoList = this.state.repoList.map(item => {\n      if (item.repo_id === repo.repo_id) {\n        item.sharePermission = permission;\n      }\n      return item;\n    });\n    this.setState({repoList: repoList});\n  }\n\n  handleSubmit = () => {\n    if (this.state.selectedRepoList.length === 0) {\n      let errMessage = gettext('Please select a library to share.');\n      this.setState({errMessage: errMessage});\n      return;\n    }\n\n    this.props.onRepoSelectedHandler(this.state.selectedRepoList);\n    this.onCloseDialog();\n  }\n\n  onCloseDialog = () => {\n    this.props.onShareRepoDialogClose();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.toggle}>{gettext('Select libraries to share')}</ModalHeader>\n        <ModalBody className=\"dialog-list-container\">\n          <table>\n            <thead>\n              <tr>\n                <th width='4%'>{/* select */}</th>\n                <th width='6%'>{/* icon */}</th>\n                <th width='35%'>{gettext('Name')}</th>\n                <th width='25%'>{gettext('Last Update')}</th>\n                <th width='30%'>{gettext('Permission')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.repoList.map((repo, index) => {\n                return (\n                  <ShareRepoListItem \n                    key={index} \n                    repo={repo} \n                    onRepoSelect={this.onRepoSelect}\n                    onPermissionChange={this.onPermissionChange}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n        </ModalBody>\n        {this.state.errMessage && <Alert color=\"danger\" className=\"mt-2\">{this.state.errMessage}</Alert>}\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.onCloseDialog}>{gettext('Close')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nShareRepoDialog.propTypes = propTypes;\n\nexport default ShareRepoDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/share-repo-dialog.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { Link } from '@reach/router';\nimport { Utils } from '../../utils/utils';\nimport { gettext, siteRoot, isPro, username, folderPermEnabled, isSystemStaff } from '../../utils/constants';\nimport ModalPotal from '../../components/modal-portal';\nimport ShareDialog from '../../components/dialog/share-dialog';\nimport Rename from '../rename';\nimport { seafileAPI } from '../../utils/seafile-api';\n\nconst propTypes = {\n  currentGroup: PropTypes.object,\n  libraryType: PropTypes.string,\n  repo: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onItemUnshare: PropTypes.func.isRequired,\n  onItmeDetails: PropTypes.func,\n  onItemRename: PropTypes.func,\n};\n\nclass SharedRepoListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOperationShow: false,\n      isItemMenuShow: false,\n      isShowSharedDialog: false,\n      isRenaming: false,\n      isStarred: this.props.repo.starred,\n    };\n    this.isDeparementOnwerGroupMember = false;\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: true,\n        isOperationShow: true,\n      });\n    }\n  }\n\n  onMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: true,\n        isOperationShow: true,\n      });\n    }\n  }\n  \n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: false,\n        isOperationShow: false,\n      });\n    }\n  }\n\n  clickOperationMenuToggle = (e) => {\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    let dataset = e.target ? e.target.dataset : null;\n    if (dataset && dataset.toggle && dataset.toggle === 'Rename') {\n      this.setState({isItemMenuShow: !this.state.isItemMenuShow});\n      return;\n    }\n    \n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow},\n      () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.props.onUnfreezedItem();\n          this.setState({\n            highlight: false,\n            isOperationShow: false,\n          });\n        }\n      }\n    );\n  }\n\n  getRepoComputeParams = () => {\n    let repo = this.props.repo;\n    \n    let iconUrl = Utils.getLibIconUrl(repo);\n    let iconTitle = Utils.getLibIconTitle(repo);\n    let libPath = `${siteRoot}library/${repo.repo_id}/${Utils.encodePath(repo.repo_name)}/`;\n\n    return { iconUrl, iconTitle, libPath };\n  }\n\n  onMenuItemClick = (e) => {\n    let operation = e.target.dataset.toggle;\n    switch(operation) {\n      case 'Rename':\n        this.onItemRenameToggle();\n        break;\n      case 'Folder Permission':\n        this.onItemPermisionChanged();\n        break;\n      case 'Details':\n        this.onItemDetails();\n        break;\n      case 'Share':\n        this.onItemShare();\n        break;\n      case 'Unshare':\n        this.onItemUnshare();\n        break;\n      default:\n        break;\n    }\n  }\n\n  onItemRenameToggle = () => {\n    this.props.onFreezedItem();\n    this.setState({\n      isRenaming: !this.state.isRenaming,\n      isOperationShow: !this.state.isOperationShow\n    });\n  }\n\n  onRenameConfirm = (name) => {\n    this.props.onItemRename(this.props.repo, name);\n    this.onRenameCancel();\n  }\n  \n  onRenameCancel = () => {\n    this.props.onUnfreezedItem();\n    this.setState({isRenaming: !this.state.isRenaming});\n  }\n\n  onItemPermisionChanged = () => {\n    // todo\n  }\n\n  onItemDetails = () => {\n    this.props.onItemDetails(this.props.repo);\n  }\n\n  onItemShare = () => {\n    this.setState({isShowSharedDialog: true});\n  }\n\n  onItemUnshare = () => {\n    this.props.onItemUnshare(this.props.repo);\n  }\n\n  onItemDelete = () => {\n    this.props.onItemDelete(this.props.repo);\n  }\n\n  toggleShareDialog = () => {\n    this.setState({isShowSharedDialog: false});\n  }\n\n  translateMenuItem = (menuItem) => {\n    let translateResult = '';\n    switch(menuItem) {\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Folder Permission':\n        translateResult = gettext('Folder Premission');\n        break;\n      case 'Details':\n        translateResult = gettext('Details');\n        break;\n      case 'Unshare':\n        translateResult = gettext('Unshare');\n        break;\n      case 'Share':\n        translateResult = gettext('Share');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  }\n\n  generatorOperations = () => {\n    let { repo, currentGroup } = this.props;\n    //todo this have a bug; use current api is not return admins param;\n    let isStaff = currentGroup && currentGroup.admins && currentGroup.admins.indexOf(username) > -1; //for group repolist;\n    let isRepoOwner = repo.owner_email === username;\n    let isAdmin = repo.is_admin;\n    let operations = [];\n    // todo ,shared width me shared width all;\n    if (isPro) {\n      if (repo.owner_email.indexOf('@seafile_group') != -1) {  //current repo is belong to a group;\n        if (isStaff && repo.owner_email == currentGroup.id + '@seafile_group') { //is a member of this current group,\n          this.isDeparementOnwerGroupMember = true;\n          if (folderPermEnabled) {\n            operations = ['Rename', 'Folder Permission', 'Details'];\n          } else {\n            operations = ['Rename', 'Details'];\n          }\n        } else {\n          operations.push('Unshare');\n        }\n      } else {\n        if (isRepoOwner || isAdmin) {\n          operations.push('Share');\n        }\n        if (isStaff || isRepoOwner || isAdmin) {\n          operations.push('Unshare');\n        }\n      }\n    } else {\n      if (isRepoOwner) {\n        operations.push('Share');\n      }\n      if (isStaff || isRepoOwner) {\n        operations.push('Unshare');\n      }\n    }\n    return operations;\n  } \n\n  generatorMobileMenu = () => {\n    let operations = [];\n    if (this.props.libraryType && this.props.libraryType === 'public') {\n      let isRepoOwner = this.props.repo.owner_email === username;\n      if (isSystemStaff || isRepoOwner) {\n        operations.push('Unshare');\n      }\n    } else {\n      operations = this.generatorOperations();\n      if (this.isDeparementOnwerGroupMember) {\n        operations.unshift('Unshare');\n        operations.unshift('Share');\n      }\n    }\n    return (\n      <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n        <DropdownToggle \n          tag=\"i\" \n          className=\"sf-dropdown-toggle sf2-icon-caret-down\" \n          title={gettext('More Operations')} \n          data-toggle=\"dropdown\" \n          aria-expanded={this.state.isItemMenuShow}\n          onClick={this.clickOperationMenuToggle}\n        />\n        <div className={`${this.state.isItemMenuShow?'':'d-none'}`} onClick={this.toggleOperationMenu}>\n          <div className=\"mobile-operation-menu-bg-layer\"></div>\n          <div className=\"mobile-operation-menu\">\n            {operations.map((item, index) => {\n              return (\n                <DropdownItem key={index} data-toggle={item} onClick={this.onMenuItemClick}>{this.translateMenuItem(item)}</DropdownItem>\n              );\n            })}\n          </div>\n        </div>\n      </Dropdown>\n    );\n  }\n\n  generatorPCMenu = () => {\n    let operations = [];\n    if (this.props.libraryType && this.props.libraryType === 'public') {\n      let isRepoOwner = this.props.repo.owner_email === username;\n      if (isSystemStaff || isRepoOwner) {\n        operations.push('unshare');\n      }\n    } else {\n      // scene one: (share, delete, itemToggle and other operations);\n      // scene two: (share, unshare), (share), (unshare)\n      operations = this.generatorOperations();\n    }\n    const shareOperation   = <a href=\"#\" className=\"op-icon sf2-icon-share\" title={gettext('Share')} onClick={this.onItemShare}></a>;\n    const unshareOperation = <a href=\"#\" className=\"op-icon sf2-icon-x3\" title={gettext('Unshare')} onClick={this.onItemUnshare}></a>;\n    const deleteOperation  = <a href=\"#\" className=\"op-icon sf2-icon-delete\" title={gettext('Delete')} onClick={this.onItemDelete}></a>;\n    \n    if (this.isDeparementOnwerGroupMember) {\n      return (\n        <Fragment>\n          {shareOperation}\n          {deleteOperation}\n          <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n            <DropdownToggle \n              tag=\"i\" \n              className=\"sf-dropdown-toggle sf2-icon-caret-down\" \n              title={gettext('More Operations')}\n              data-toggle=\"dropdown\" \n              aria-expanded={this.state.isItemMenuShow}\n              onClick={this.clickOperationMenuToggle}\n            />\n            <DropdownMenu>\n              {operations.map((item, index) => {\n                return <DropdownItem key={index} data-toggle={item} onClick={this.onMenuItemClick}>{this.translateMenuItem(item)}</DropdownItem>;\n              })}\n            </DropdownMenu>\n          </Dropdown>\n        </Fragment>\n      );\n    } else {\n      if (operations.length == 2) {\n        return (\n          <Fragment>\n            {shareOperation}\n            {unshareOperation}\n          </Fragment>\n        );\n      }\n      if (operations.length == 1 && operations[0] === 'share') {\n        return shareOperation;\n      }\n\n      if (operations.length == 1 && operations[0] === 'unshare') {\n        return unshareOperation;\n      }\n    }\n    return null;\n  }\n\n  onStarRepo = () => {\n    if (this.state.isStarred) {\n      seafileAPI.unstarItem(this.props.repo.repo_id, '/').then(() => {\n        this.setState({isStarred: !this.state.isStarred});\n      });\n    } else {\n      seafileAPI.starItem(this.props.repo.repo_id, '/').then(() => {\n        this.setState({isStarred: !this.state.isStarred});\n      })\n    }\n  }\n\n  renderPCUI = () => {\n    let { iconUrl, iconTitle, libPath } = this.getRepoComputeParams();\n    let { repo } = this.props;\n\n    // TODO: enableDirPrivateShare, isGroupOwnedRepo\n    let isGroupOwnedRepo = repo.owner_email.indexOf('@seafile_group') > -1;\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseOver={this.onMouseOver} onMouseLeave={this.onMouseLeave}>\n          <td className=\"text-center\">\n            {!this.state.isStarred && <i className=\"far fa-star star-empty cursor-pointer\" onClick={this.onStarRepo}></i>}\n            {this.state.isStarred && <i className=\"fas fa-star cursor-pointer\" onClick={this.onStarRepo}></i>}\n          </td>\n          <td><img src={iconUrl} title={repo.iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>\n            {this.state.isRenaming ? \n              <Rename  name={repo.repo_name} onRenameConfirm={this.onRenameConfirm} onRenameCancel={this.onRenameCancel}/> : \n              <Link to={libPath}>{repo.repo_name}</Link>\n            }\n          </td>\n          <td>{this.state.isOperationShow && this.generatorPCMenu()}</td>\n          <td>{repo.size}</td>\n          <td title={moment(repo.last_modified).format('llll')}>{moment(repo.last_modified).fromNow()}</td>\n          <td title={repo.owner_contact_email}>{repo.owner_name}</td>\n        </tr>\n        {this.state.isShowSharedDialog && (\n          <ModalPotal>\n            <ShareDialog \n              itemType={'library'}\n              itemName={repo.repo_name}\n              itemPath={'/'}\n              repoID={repo.repo_id}\n              repoEncrypted={repo.encrypted}\n              enableDirPrivateShare={true}\n              userPerm={repo.permission}\n              isAdmin={repo.is_admin}\n              isGroupOwnedRepo={isGroupOwnedRepo}\n              toggleDialog={this.toggleShareDialog}\n            />\n          </ModalPotal>\n        )}\n      </Fragment>\n    );\n  }\n  \n  renderMobileUI = () => {\n    let { iconUrl, iconTitle, libPath } = this.getRepoComputeParams();\n    let { repo } = this.props;\n    let isGroupOwnedRepo = repo.owner_email.indexOf('@seafile_group') > -1;\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''}  onMouseEnter={this.onMouseEnter} onMouseOver={this.onMouseOver} onMouseLeave={this.onMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} width=\"24\" alt={iconTitle}/></td>\n          <td>\n            {this.state.isRenaming ? \n              <Rename name={repo.repo_name} onRenameConfirm={this.onRenameConfirm} onRenameCancel={this.onRenameCancel} /> :\n              <Link to={libPath}>{repo.repo_name}</Link>  \n            }\n            <br />\n            <span className=\"item-meta-info\" title={repo.owner_contact_email}>{repo.owner_name}</span>\n            <span className=\"item-meta-info\">{repo.size}</span>\n            <span className=\"item-meta-info\" title={moment(repo.last_modified).format('llll')}>{moment(repo.last_modified).fromNow()}</span>\n          </td>\n          <td>{this.generatorMobileMenu()}</td>\n        </tr>\n        {this.state.isShowSharedDialog && (\n          <ModalPotal>\n            <ShareDialog \n              itemType={'library'}\n              itemName={repo.repo_name}\n              itemPath={'/'}\n              repoID={repo.repo_id}\n              repoEncrypted={repo.encrypted}\n              enableDirPrivateShare={true}\n              userPerm={repo.permission}\n              isAdmin={repo.is_admin}\n              isGroupOwnedRepo={isGroupOwnedRepo}\n              toggleDialog={this.toggleShareDialog}\n            />\n          </ModalPotal>\n        )}\n      </Fragment>\n    );\n  }\n\n  render() {\n    if (window.innerWidth >= 768) {\n      return this.renderPCUI();\n    } else {\n      return this.renderMobileUI();\n    }\n  }\n}\n\nSharedRepoListItem.propTypes = propTypes;\n\nexport default SharedRepoListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/shared-repo-list-view/shared-repo-list-item.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cookie from 'react-cookies';\nimport moment from 'moment';\nimport { gettext, siteRoot, username, canGenerateShareLink, canGenerateUploadLink } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport collabServer from '../../utils/collab-server';\nimport Dirent from '../../models/dirent';\nimport FileTag from '../../models/file-tag';\nimport RepoTag from '../../models/repo-tag';\nimport RepoInfo from '../../models/repo-info';\nimport TreeNode from '../../components/tree-view/tree-node';\nimport treeHelper from '../../components/tree-view/tree-helper';\nimport toaster from '../../components/toast';\nimport ModalPortal from '../../components/modal-portal';\nimport LibDecryptDialog from '../../components/dialog/lib-decrypt-dialog';\nimport LibContentToolbar from './lib-content-toolbar';\nimport LibContentContainer from './lib-content-container';\nimport FileUploader from '../../components/file-uploader/file-uploader';\n\nconst propTypes = {\n  pathPrefix: PropTypes.array.isRequired,\n  onTabNavClick: PropTypes.func.isRequired,\n  onMenuClick: PropTypes.func.isRequired,\n  repoID: PropTypes.string,\n};\n\nclass LibContentView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentMode: cookie.load('seafile-view-mode') || 'list',\n      path: '',\n      pathExist: true,\n      isViewFile: false,\n      hash: '',\n      currentRepoInfo: null,\n      repoName: '',\n      repoPermission: true,\n      repoEncrypted: false,\n      libNeedDecrypt: false,\n      isGroupOwnedRepo: false,\n      userPerm: '',\n      selectedDirentList: [],\n      isDraft: false,\n      hasDraft: false,\n      fileTags: [],\n      relatedFiles: [],\n      draftID: '',\n      draftCounts: 0,\n      usedRepoTags: [],\n      readmeMarkdown: null,\n      isTreeDataLoading: true,\n      treeData: treeHelper.buildTree(),\n      currentNode: null,\n      isFileLoading: true,\n      isFileLoadedErr: false,\n      filePermission: true,\n      content: '',\n      lastModified: '',\n      latestContributor: '',\n      isDirentListLoading: true,\n      direntList: [],\n      isDirentSelected: false,\n      sortBy: cookie.load('seafile-dir-sort-by') || 'name', // 'name' or 'time'\n      sortOrder: cookie.load('seafile-dir-sort-order') || 'asc', // 'asc' or 'desc'\n      isAllDirentSelected: false,\n      dirID: '',  // for update dir list\n      errorMsg: '',\n      isDirentDetailShow: false,\n    };\n\n    window.onpopstate = this.onpopstate;\n    this.lastModifyTime = new Date();\n    this.isNeedUpdateHistoryState = true; // Load, refresh page, switch mode for the first time, no need to set historyState\n  }\n\n  showDirentDetail = () => {\n    this.setState({\n      isDirentDetailShow: true,\n    });\n  }\n\n  closeDirentDetail = () => {\n    this.setState({ isDirentDetailShow: false });\n  }\n\n  componentWillMount() {\n    const hash = window.location.hash;\n    if (hash.slice(0, 1) === '#') {\n      this.setState({hash: hash});\n    }\n  }\n\n  componentDidMount() {\n    // eg: http://127.0.0.1:8000/library/repo_id/repo_name/**/**/\\\n    let repoID = this.props.repoID;\n    let location = window.location.href.split('#')[0];\n    location = decodeURIComponent(location);\n    seafileAPI.getRepoInfo(repoID).then(res => {\n      let repoInfo = new RepoInfo(res.data);\n      this.setState({\n        currentRepoInfo: repoInfo,\n        repoName: repoInfo.repo_name,\n        libNeedDecrypt: repoInfo.lib_need_decrypt, \n        repoEncrypted: repoInfo.encrypted,\n        repoPermission: repoInfo.permission === 'rw'\n      });\n\n      let repoID = repoInfo.repo_id;\n      let path = location.slice(location.indexOf(repoID) + repoID.length + 1); // get the string after repoID\n      path = path.slice(path.indexOf('/')); // get current path\n\n      this.isNeedUpdateHistoryState = false;\n\n      this.setState({path: path});\n\n      if (!repoInfo.lib_need_decrypt) {\n        this.loadDirData(path);\n      }\n    }).catch(error => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            isDirentListLoading: false,\n            errorMsg: gettext('Permission denied')\n          });\n        } else {\n          this.setState({\n            isDirentListLoading: false,\n            errorMsg: gettext('Error')\n          });\n        }\n      } else {\n        this.setState({\n          isDirentListLoading: false,\n          errorMsg: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    collabServer.unwatchRepo(this.props.repoID, this.onRepoUpdateEvent);\n  }\n\n  componentDidUpdate() {\n    this.lastModifyTime = new Date();\n  }\n\n  onpopstate = (event) => {\n    if (event.state && event.state.key) { // root path\n      if (this.state.path === '/') {\n        return;\n      } else {\n        let path = '/';\n        this.loadDirentList(path);\n        this.setState({\n          path: path,\n          isViewFile: false\n        });\n      }\n    } else if (event.state && event.state.path) { // file path\n      let path = event.state.path;\n      if (this.state.currentMode === 'column') {\n        if (Utils.isMarkdownFile(path)) { // Judging not strict\n          this.showFile(path);\n          return;\n        }\n      }\n      this.loadDirentList(path);\n      this.setState({\n        path: path,\n        isViewFile: false\n      });\n    }\n  }\n\n  onRepoUpdateEvent = () => {\n    let currentTime = new Date();\n    if ((parseFloat(currentTime - this.lastModifyTime)/1000) <= 5) {\n      return;\n    }\n    let repoID = this.props.repoID;\n    let { path, dirID } = this.state;\n    seafileAPI.dirMetaData(repoID, path).then((res) => {\n      if (res.data.id !== dirID) {\n        toaster.notify(\n          <span>\n            {gettext('This folder has been updated. ')}\n            <a href='' >{gettext('Refresh')}</a>\n          </span>,\n          {id: 'repo_updated', duration: 3600}\n        );\n      }\n    });\n  }\n\n  updateUsedRepoTags = () => {\n    let repoID = this.props.repoID;\n    seafileAPI.listRepoTags(repoID).then(res => {\n      let usedRepoTags = [];\n      res.data.repo_tags.forEach(item => {\n        let usedRepoTag = new RepoTag(item);\n        if (usedRepoTag.fileCount > 0) {\n          usedRepoTags.push(usedRepoTag);\n        }\n      });\n      this.setState({usedRepoTags: usedRepoTags});\n    });\n  }\n\n  updateReadmeMarkdown = (direntList) => {\n    this.setState({readmeMarkdown: null});\n    direntList.some(item => {\n      let fileName = item.name.toLowerCase();\n      if (fileName === 'readme.md' || fileName === 'readme.markdown') {\n        this.setState({readmeMarkdown: item});\n        return true;\n      }\n    });\n  }\n\n  // load data\n  loadDirData = (path) => {\n    let repoID = this.props.repoID;\n\n    // listen current repo\n    collabServer.watchRepo(repoID, this.onRepoUpdateEvent);\n\n    // list used FileTags\n    this.updateUsedRepoTags();\n\n    // list draft counts and revierw counts\n    seafileAPI.getRepoDraftCounts(repoID).then(res => {\n      this.setState({\n        draftCounts: res.data.draft_counts,\n      });\n    });\n\n    if (Utils.isMarkdownFile(path)) {\n      seafileAPI.getFileInfo(this.props.repoID, path).then(() => {\n        if (this.state.currentMode !== 'column') {\n          cookie.save('seafile-view-mode', 'column');\n          this.setState({currentMode: 'column'});\n        }\n        this.loadSidePanel(path);\n        this.showFile(path);\n      }).catch(() => {\n        if (this.state.currentMode === 'column') { // After an error occurs, follow dir\n          this.loadSidePanel(path);\n          this.showDir(path);\n        } else {\n          this.showDir(path);\n        }\n      });\n    } else {\n      if (this.state.currentMode === 'column') {\n        this.loadSidePanel(path);\n        this.showDir(path);\n      } else {\n        this.showDir(path);\n      }\n    }\n  }\n\n  loadSidePanel = (path) => {\n    let repoID = this.props.repoID;\n    if (path === '/') {\n      seafileAPI.listDir(repoID, '/').then(res => {\n        let tree = this.state.treeData;\n        this.addResponseListToNode(res.data.dirent_list, tree.root);\n        this.setState({\n          isTreeDataLoading: false,\n          treeData: tree\n        });\n      }).catch(() => {\n        this.setState({isTreeDataLoading: false});\n        // todo show error message\n      });\n    } else {\n      this.loadNodeAndParentsByPath(path);\n    }\n  }\n\n  showDir = (path) => {\n    let repoID = this.props.repoID;\n\n    // update stste\n    this.setState({\n      isDirentListLoading: true,\n      path: path,\n      isViewFile: false\n    });\n\n    // update data\n    this.loadDirentList(path);\n\n    if (!this.isNeedUpdateHistoryState) {\n      this.isNeedUpdateHistoryState = true;\n      return;\n    }\n    // update location\n    let repoInfo = this.state.currentRepoInfo;\n    let url = siteRoot + 'library/' + repoID + '/' + encodeURIComponent(repoInfo.repo_name) + Utils.encodePath(path);\n    window.history.pushState({url: url, path: path}, path, url);\n  }\n\n  showFile = (filePath) => {\n    let repoID = this.props.repoID;\n\n    if (this.state.currentMode === 'column') {\n      seafileAPI.listFileTags(repoID, filePath).then(res => {\n        let fileTags = res.data.file_tags.map(item => {\n          return new FileTag(item);\n        });\n\n        this.setState({fileTags: fileTags});\n      });\n      \n      seafileAPI.listRelatedFiles(repoID, filePath).then(res => {\n        let relatedFiles = res.data.related_files.map((relatedFile) => {\n          return relatedFile;\n        });\n        this.setState({relatedFiles: relatedFiles});\n      }).catch((error) => {\n        if (error.response.status === 500) {\n          this.setState({relatedFiles: []});\n        }\n      });\n    }\n\n    // update state\n    this.setState({\n      isFileLoading: true,\n      path: filePath,\n      isViewFile: true\n    });\n\n    // update data\n    seafileAPI.getFileInfo(repoID, filePath).then((res) => {\n      let { mtime, permission, last_modifier_name, is_draft, has_draft, draft_id } = res.data;\n      seafileAPI.getFileDownloadLink(repoID, filePath).then((res) => {\n        seafileAPI.getFileContent(res.data).then((res) => {\n          this.setState({\n            content: res.data,\n            filePermission: permission === 'rw',\n            latestContributor: last_modifier_name,\n            lastModified: moment.unix(mtime).fromNow(),\n            isFileLoading: false,\n            isFileLoadedErr: false,\n            isDraft: is_draft,\n            hasDraft: has_draft,\n            draftID: draft_id\n          });\n        });\n      });\n    }).catch(() => {\n      this.setState({\n        isFileLoading: false,\n        isFileLoadedErr: true,\n      });\n    });\n\n    // update location\n    let repoInfo = this.state.currentRepoInfo;\n    let url = siteRoot + 'library/' + repoID + '/' + encodeURIComponent(repoInfo.repo_name) + Utils.encodePath(filePath);\n    window.history.pushState({url: url, path: filePath}, filePath, url);\n  } \n\n  loadDirentList = (path) => {\n    let repoID = this.props.repoID;\n    seafileAPI.listDir(repoID, path, {'with_thumbnail': true}).then(res => {\n      let direntList = [];\n      let markdownItem = null;\n      res.data.dirent_list.forEach(item => {\n        let fileName = item.name.toLowerCase();\n        if (fileName === 'readme.md' || fileName === 'readme.markdown') {\n          markdownItem = item;\n        }\n        let dirent = new Dirent(item);\n        direntList.push(dirent);\n      });\n\n      this.setState({\n        pathExist: true,\n        userPerm: res.data.user_perm,\n        isDirentListLoading: false,\n        direntList: Utils.sortDirents(direntList, this.state.sortBy, this.state.sortOrder),\n        dirID: res.data.dir_id,\n        readmeMarkdown: markdownItem,\n      });\n\n      if (!this.state.repoEncrypted && direntList.length) {\n        this.getThumbnails(repoID, path, this.state.direntList);\n      }\n    }).catch(() => {\n      this.setState({\n        isDirentListLoading: false,\n        pathExist: false,\n      });\n    });\n  }\n\n  getThumbnails = (repoID, path, direntList) => {\n    let items = direntList.filter((item) => {\n      return Utils.imageCheck(item.name) && !item.encoded_thumbnail_src;\n    });\n    if (items.length == 0) {\n      return ;\n    }\n\n    const _this = this;\n    const len = items.length;\n    const thumbnailSize = 48;\n    let getThumbnail = (i) => {\n      const curItem = items[i];\n      const curItemPath = [path, curItem.name].join('/');\n      seafileAPI.createThumbnail(repoID, curItemPath, thumbnailSize).then((res) => {\n        curItem.encoded_thumbnail_src = res.data.encoded_thumbnail_src;\n      }).catch((error) => {\n        // do nothing\n      }).then(() => {\n        if (i < len - 1) {\n          getThumbnail(++i);\n        } else {\n          _this.setState({\n            direntList: direntList \n          });\n        }\n      });\n    };\n    getThumbnail(0);\n  }\n\n  // toolbar operations\n  onMoveItems = (destRepo, destDirentPath) => {\n    let repoID = this.props.repoID;\n    let direntPaths = this.getSelectedDirentPaths();\n    let dirNames = this.getSelectedDirentNames();\n\n    seafileAPI.moveDir(repoID, destRepo.repo_id, destDirentPath, this.state.path, dirNames).then(res => {\n      let names = res.data.map(item => {\n        return item.obj_name;\n      });\n      direntPaths.forEach((direntPath, index) => {\n        if (this.state.currentMode === 'column') {\n          this.moveTreeNode(direntPath, destDirentPath, destRepo, names[index]);\n        }\n        this.moveDirent(direntPath);\n      });\n      let message = gettext('Successfully moved %(name)s.');\n      message = message.replace('%(name)s', dirNames);\n      toaster.success(message);\n    }).catch(() => {\n      let message = gettext('Failed to move %(name)s');\n      message = message.replace('%(name)s', dirNames);\n      toaster.danger(message);\n    });\n  }\n\n  onCopyItems = (destRepo, destDirentPath) => {\n    let repoID = this.props.repoID;\n    let direntPaths = this.getSelectedDirentPaths();\n    let dirNames = this.getSelectedDirentNames();\n\n    seafileAPI.copyDir(repoID, destRepo.repo_id, destDirentPath, this.state.path, dirNames).then(res => {\n      let names = res.data.map(item => {\n        return item.obj_name;\n      });\n      if (this.state.currentMode === 'column') {\n        direntPaths.forEach((direntPath, index) => {\n          this.copyTreeNode(direntPath, destDirentPath, destRepo, names[index]);\n        });\n      }\n      let message = gettext('Successfully copied %(name)s.');\n      message = message.replace('%(name)s', dirNames);\n      toaster.success(message);\n    }).catch(() => {\n      let message = gettext('Failed to copy %(name)s');\n      message = message.replace('%(name)s', dirNames);\n      toaster.danger(message);\n    });\n  }\n\n  onDeleteItems = () => {\n    let repoID = this.props.repoID;\n    let direntPaths = this.getSelectedDirentPaths();\n    let dirNames = this.getSelectedDirentNames();\n\n    seafileAPI.deleteMutipleDirents(repoID, this.state.path, dirNames).then(res => {\n      direntPaths.forEach(direntPath => {\n        if (this.state.currentMode === 'column') {\n          this.deleteTreeNode(direntPath);\n        }\n        this.deleteDirent(direntPath);\n      });\n    });\n  }\n\n  onAddFolder = (dirPath) => {\n    let repoID = this.props.repoID;\n    seafileAPI.createDir(repoID, dirPath).then(() => {\n      let name = Utils.getFileName(dirPath);\n      let parentPath = Utils.getDirName(dirPath);\n\n      if (this.state.currentMode === 'column') {\n        this.addNodeToTree(name, parentPath, 'dir');\n      }\n\n      if (parentPath === this.state.path && !this.state.isViewFile) {\n        this.addDirent(name, 'dir');\n      }\n    }).catch(() => {\n      // return error message\n    });\n  }\n\n  onAddFile = (filePath, isDraft) => {\n    let repoID = this.props.repoID;\n    seafileAPI.createFile(repoID, filePath, isDraft).then(res => {\n      let name = Utils.getFileName(filePath);\n      let parentPath = Utils.getDirName(filePath);\n      if (this.state.currentMode === 'column') {\n        this.addNodeToTree(name, parentPath, 'file');\n      }\n      if (parentPath === this.state.path && !this.state.isViewFile) {\n        this.addDirent(name, 'file', res.data.size);\n      }\n    }).catch(() => {\n      // todo\n    });\n  }\n\n  switchViewMode = (mode) => {\n    if (mode === this.state.currentMode) {\n      return;\n    }\n    cookie.save('seafile-view-mode', mode);\n    let path = this.state.path;\n    if (this.state.currentMode === 'column' && this.state.isViewFile) {\n      path = Utils.getDirName(path);\n      this.setState({\n        path: path,\n        isViewFile: false,\n      });\n      let repoInfo = this.state.currentRepoInfo;\n\n      let url = siteRoot + 'library/' + repoInfo.repo_id + '/' + encodeURIComponent(repoInfo.repo_name) + Utils.encodePath(path);\n      window.history.pushState({url: url, path: path}, path, url);\n    }\n\n    if (mode === 'column') {\n      this.loadSidePanel(this.state.path);\n    }\n    this.isNeedUpdateHistoryState = false;\n    this.setState({currentMode: mode});\n    this.showDir(path);\n  }\n\n  onSearchedClick = (item) => {\n    let path = item.is_dir ? item.path.slice(0, item.path.length - 1) : item.path; \n    if (this.state.currentPath === path) {\n      return;\n    }\n    if (this.state.currentMode === 'column') {\n      // load sidePanel\n      let index = -1;\n      let paths = Utils.getPaths(path);\n      for (let i = 0; i < paths.length; i++) {\n        let node = this.state.treeData.getNodeByPath(node);\n        if (!node) {\n          index = i;\n          break;\n        } \n      }\n      if (index === -1) { // all the data has been loaded already.\n        let node = this.state.treeData.getNodeByPath(path);\n        this.setState({currentNode: node});\n      } else {\n        this.loadNodeAndParentsByPath(path);\n      }\n    }\n\n    // load mainPanel\n    if (item.is_dir) {\n      this.showDir(path);\n    } else {\n      if (Utils.isMarkdownFile(path)) {\n        this.showFile(path);\n      } else {\n        let url = siteRoot + 'lib/' + item.repo_id + '/file' + Utils.encodePath(path);\n        let newWindow = window.open('about:blank');\n        newWindow.location.href = url;\n      }\n    }\n  }\n\n  onMainNavBarClick = (nodePath) => {\n    //just for dir\n    this.resetSelected();\n    if (this.state.currentMode === 'column') {\n      let tree = this.state.treeData.clone();\n      let node = tree.getNodeByPath(nodePath);\n      tree.expandNode(node);\n      this.setState({treeData: tree, currentNode: node});\n    }\n\n    this.showDir(nodePath);\n  }\n\n  onLinkClick = (link) => {\n    const url = link;\n    let repoID = this.props.repoID;\n    if (Utils.isInternalMarkdownLink(url, repoID)) {\n      let path = Utils.getPathFromInternalMarkdownLink(url, repoID);\n      this.showFile(path);\n    } else if (Utils.isInternalDirLink(url, repoID)) {\n      let path = Utils.getPathFromInternalDirLink(url, repoID);\n      this.showDir(path);\n    } else {\n      window.open(url);\n    }\n  }\n\n  // list&tree operations\n  onMainPanelItemRename = (dirent, newName) => {\n    let path = Utils.joinPath(this.state.path, dirent.name);\n    this.renameItem(path, dirent.isDir(), newName);\n  }\n\n  onMainPanelItemDelete = (dirent) => {\n    let path = Utils.joinPath(this.state.path, dirent.name);\n    this.deleteItem(path, dirent.isDir());\n  }\n\n  onRenameTreeNode = (node, newName) => {\n    this.renameItem(node.path, node.object.isDir(), newName);\n  }\n\n  onDeleteTreeNode = (node) => {\n    this.deleteItem(node.path, node.object.isDir());\n  }\n\n  renameItem = (path, isDir, newName) => {\n    let repoID = this.props.repoID;\n    if (isDir) {\n      seafileAPI.renameDir(repoID, path, newName).then(() => {\n        this.renameItemAjaxCallback(path, newName);\n      }).catch(() => {\n        // todo\n      });\n    } else {\n      seafileAPI.renameFile(repoID, path, newName).then(() => {\n        this.renameItemAjaxCallback(path, newName);\n      }).catch(() => {\n        // todo\n      });\n    }\n  }\n\n  renameItemAjaxCallback(path, newName) {\n    if (this.state.currentMode === 'column') {\n      this.renameTreeNode(path, newName);\n    }\n    this.renameDirent(path, newName);\n  }\n\n  deleteItem(path, isDir) {\n    let repoID = this.props.repoID;\n    if (isDir) {\n      seafileAPI.deleteDir(repoID, path).then(() => {\n        this.deleteItemAjaxCallback(path, isDir);\n      }).catch(() => {\n        // todo\n      });\n    } else {\n      seafileAPI.deleteFile(repoID, path).then(() => {\n        this.deleteItemAjaxCallback(path, isDir);\n      }).catch(() => {\n        // todo\n      });\n    }\n  }\n\n  deleteItemAjaxCallback(path) {\n    if (this.state.currentMode === 'column') {\n      this.deleteTreeNode(path);\n    }\n    this.deleteDirent(path);\n  }\n\n  // list operations\n  onMoveItem = (destRepo, dirent, moveToDirentPath, nodeParentPath) => {\n    let repoID = this.props.repoID;\n    //just for view list state\n    let dirName = dirent.name;\n    if (!nodeParentPath) {\n      nodeParentPath = this.state.path;\n    }\n    let direntPath = Utils.joinPath(nodeParentPath, dirName);\n    seafileAPI.moveDir(repoID, destRepo.repo_id,moveToDirentPath, nodeParentPath, dirName).then(res => {\n      let nodeName = res.data[0].obj_name;\n      if (this.state.currentMode === 'column') {\n        this.moveTreeNode(direntPath, moveToDirentPath, destRepo, nodeName);\n      }\n      this.moveDirent(direntPath);\n\n      let message = gettext('Successfully moved %(name)s.');\n      message = message.replace('%(name)s', dirName);\n      toaster.success(message);\n    }).catch(() => {\n      let message = gettext('Failed to move %(name)s');\n      message = message.replace('%(name)s', dirName);\n      toaster.danger(message);\n    });\n  }\n\n  onCopyItem = (destRepo, dirent, copyToDirentPath, nodeParentPath) => {\n    let repoID = this.props.repoID;\n    //just for view list state\n    let dirName = dirent.name;\n    if (!nodeParentPath) {\n      nodeParentPath = this.state.path;\n    }\n    let direntPath = Utils.joinPath(nodeParentPath, dirName);\n    seafileAPI.copyDir(repoID, destRepo.repo_id, copyToDirentPath, nodeParentPath, dirName).then(res => {\n      let nodeName = res.data[0].obj_name;\n      if (this.state.currentMode === 'column') {\n        this.copyTreeNode(direntPath, copyToDirentPath, destRepo, nodeName);\n      }\n      let message = gettext('Successfully copied %(name)s.');\n      message = message.replace('%(name)s', dirName);\n      toaster.success(message);\n    }).catch(() => {\n      let message = gettext('Failed to copy %(name)s');\n      message = message.replace('%(name)s', dirName);\n      toaster.danger(message);\n    });\n  }\n\n  onDirentClick = (dirent) => {\n    this.resetSelected();\n    let repoID = this.props.repoID;\n    let direntPath = Utils.joinPath(this.state.path, dirent.name);\n    if (dirent.isDir()) {  // is dir\n      if (this.state.currentMode === 'column') {\n        this.loadTreeNodeByPath(direntPath);\n      }\n      this.showDir(direntPath);\n    } else {  // is file\n      if (this.state.currentMode === 'column' && Utils.isMarkdownFile(direntPath)) {\n        this.showFile(direntPath);\n      } else {\n        const w=window.open('about:blank');\n        const url = siteRoot + 'lib/' + repoID + '/file' + Utils.encodePath(direntPath);\n        w.location.href = url;\n      }\n    }\n  }\n\n  onDirentSelected = (dirent) => {\n    let direntList = this.state.direntList.map(item => {\n      if (item.name === dirent.name) {\n        item.isSelected = !item.isSelected;\n      }\n      return item;\n    });\n    let selectedDirentList = direntList.filter(item => {\n      return item.isSelected;\n    });\n\n    if (selectedDirentList.length) {\n      this.setState({isDirentSelected: true});\n      if (selectedDirentList.length === direntList.length) {\n        this.setState({\n          isAllDirentSelected: true,\n          direntList: direntList,\n          selectedDirentList: selectedDirentList,\n        });\n      } else {\n        this.setState({\n          isAllDirentSelected: false,\n          direntList: direntList,\n          selectedDirentList: selectedDirentList\n        });\n      }\n    } else {\n      this.setState({\n        isDirentSelected: false,\n        isAllDirentSelected: false,\n        direntList: direntList,\n        selectedDirentList: []\n      });\n    }\n  }\n\n  onAllDirentSelected = () => {\n    if (this.state.isAllDirentSelected) {\n      let direntList = this.state.direntList.map(item => {\n        item.isSelected = false;\n        return item;\n      });\n      this.setState({\n        isDirentSelected: false,\n        isAllDirentSelected: false,\n        direntList: direntList,\n        selectedDirentList: [],\n      });\n    } else {\n      let direntList = this.state.direntList.map(item => {\n        item.isSelected = true;\n        return item;\n      });\n      this.setState({\n        isDirentSelected: true,\n        isAllDirentSelected: true,\n        direntList: direntList,\n        selectedDirentList: direntList,\n      });\n    }\n  }\n\n  onFileTagChanged = (dirent, direntPath) => {\n    let repoID = this.props.repoID;\n    seafileAPI.listFileTags(repoID, direntPath).then(res => {\n      let fileTags = res.data.file_tags.map(item => {\n        return new FileTag(item);\n      });\n      this.updateDirent(dirent, 'file_tags', fileTags);\n    });\n\n    this.updateUsedRepoTags();\n  }\n\n  onFileUploadSuccess = (direntObject) => {\n    let isExist = this.state.direntList.some(item => { \n      return item.name === direntObject.name && item.type === direntObject.type;\n    });\n    if (isExist) {\n      let direntList = this.state.direntList;\n      for (let i = 0; i < direntList.length; i++) {\n        let dirent = direntList[i];\n        if (dirent.name === direntObject.name && dirent.type === direntObject.type) {\n          let mtime = moment.unix(direntObject.mtime).fromNow();\n          this.updateDirent(dirent, 'mtime', mtime);  // todo file size is need update too, api is not return;\n          break;\n        }\n      }\n    } else {\n      direntObject.permission = 'rw';\n      let dirent = new Dirent(direntObject);\n      if (this.state.currentMode === 'column') {\n        this.addNodeToTree(dirent.name, this.state.path, dirent.type);\n      }\n      if (direntObject.type === 'dir') {\n        this.setState({direntList: [dirent, ...this.state.direntList]});\n      } else {\n        this.setState({direntList: [...this.state.direntList, dirent]});\n        this.updateReadmeMarkdown(this.state.direntList);\n      }\n    }\n  }\n\n  addDirent = (name, type, size) => {\n    let item = this.createDirent(name, type, size);\n    let direntList = this.state.direntList;\n    if (type === 'dir') {\n      direntList.unshift(item);\n    } else {\n      // there will be there conditions;\n      // first: direntList.length === 0;\n      // second: all the direntList's items are dir;\n      // third: direntList has dir and file;\n      let length = direntList.length;\n      if (length === 0 || direntList[length - 1].type === 'dir') {\n        direntList.push(item);\n      } else {\n        let index = 0;\n        for (let i = 0; i <= length; i++) {\n          if (direntList[i].type === 'file') {\n            index = i;\n            break;\n          }\n        }\n        direntList.splice(index, 0, item);\n      }\n    }\n    this.setState({direntList: direntList});\n    this.updateReadmeMarkdown(direntList);\n  }\n\n  renameDirent = (direntPath, newName) => {\n    let repoID = this.props.repoID;\n    let parentPath = Utils.getDirName(direntPath);\n    let newDirentPath = Utils.joinPath(parentPath, newName);\n    if (direntPath === this.state.path) {\n      // the renamed item is current viewed item\n      // example: direntPath = /A/B/C, state.path = /A/B/C\n\n      this.setState({ path: newDirentPath });\n      let repoInfo = this.state.currentRepoInfo;\n      let url = siteRoot + 'library/' + repoID + '/' + encodeURIComponent(repoInfo.repo_name) + newDirentPath;\n      window.history.replaceState({ url: url, path: newDirentPath}, newDirentPath, url);\n    } else if (Utils.isChildPath(direntPath, this.state.path)) {\n      // example: direntPath = /A/B/C/D, state.path = /A/B/C\n      let oldName = Utils.getFileName(direntPath);\n      let direntList = this.state.direntList.map(item => {\n        if (item.name === oldName) {\n          item.name = newName;\n        }\n        return item;\n      });\n      this.setState({ direntList: direntList });\n      this.updateReadmeMarkdown(direntList);\n    } else if (Utils.isAncestorPath(direntPath, this.state.path)) {\n      // example: direntPath = /A/B, state.path = /A/B/C\n      let newPath = Utils.renameAncestorPath(this.state.path, direntPath, newDirentPath);\n      this.setState({ path: newPath });\n\n      let repoInfo = this.state.currentRepoInfo;\n      let url = siteRoot + 'library/' + repoID + '/' + encodeURIComponent(repoInfo.repo_name) + newPath;\n      window.history.replaceState({ url: url, path: newPath}, newPath, url);\n    }\n  }\n\n  deleteDirent(direntPath) {\n    if (direntPath === this.state.path) {\n      // The deleted item is current item\n      let parentPath = Utils.getDirName(direntPath);\n      this.showDir(parentPath);\n    } else if (Utils.isChildPath(direntPath, this.state.path)) {\n      // The deleted item is inside current path\n      let name = Utils.getFileName(direntPath);\n      let direntList = this.state.direntList.filter(item => {\n        return item.name !== name;\n      });\n      this.setState({ direntList: direntList });\n      this.updateReadmeMarkdown(direntList);\n    } else if (Utils.isAncestorPath(direntPath, this.state.path)) {\n      // the deleted item is ancester of the current item\n      let parentPath = Utils.getDirName(direntPath);\n      this.showDir(parentPath);\n    }\n    // else do nothing\n  }\n\n  moveDirent = (direntPath) => {\n    let name = direntPath.slice(direntPath.lastIndexOf('/') + 1);\n    let direntList = this.state.direntList.filter(item => {\n      return item.name !== name;\n    });\n    this.setState({direntList: direntList});\n    this.updateReadmeMarkdown(direntList);\n  }\n\n  updateDirent = (dirent, paramKey, paramValue) => {\n    let newDirentList = this.state.direntList.map(item => {\n      if (item.name === dirent.name) {\n        item[paramKey] = paramValue;\n      }\n      return item;\n    });\n    this.setState({direntList: newDirentList});\n  }\n\n  // tree operations\n  loadTreeNodeByPath = (path) => {\n    let repoID = this.props.repoID;\n    let tree = this.state.treeData.clone();\n    let node = tree.getNodeByPath(path);\n    if (!node.isLoaded) {\n      seafileAPI.listDir(repoID, node.path).then(res => {\n        this.addResponseListToNode(res.data.dirent_list, node);\n        let parentNode = tree.getNodeByPath(node.parentNode.path);\n        parentNode.isExpanded = true;\n        this.setState({\n          treeData: tree,\n          currentNode: node\n        });\n      });\n    } else {\n      let parentNode = tree.getNodeByPath(node.parentNode.path);\n      parentNode.isExpanded = true;\n      this.setState({treeData: tree, currentNode: node}); //tree\n    }\n  }\n\n  loadNodeAndParentsByPath = (path) => {\n    let repoID = this.props.repoID;\n    let tree = this.state.treeData.clone();\n    if (Utils.isMarkdownFile(path)) {\n      path = Utils.getDirName(path);\n    }\n    seafileAPI.listDir(repoID, path, {with_parents: true}).then(res => {\n      let direntList = res.data.dirent_list;\n      let results = {};\n      for (let i = 0; i < direntList.length; i++) {\n        let object = direntList[i];\n        let key = object.parent_dir;\n        if (!results[key]) {\n          results[key] = [];\n        }\n        results[key].push(object);\n      }\n      for (let key in results) {\n        let node = tree.getNodeByPath(key);\n        if (!node.isLoaded) {\n          this.addResponseListToNode(results[key], node);\n        }\n      }\n      this.setState({\n        isTreeDataLoading: false,\n        treeData: tree\n      });\n    }).catch(() => {\n      this.setState({isLoadFailed: true});\n    });\n  }\n\n  onTreeNodeClick = (node) => {\n    this.resetSelected();\n    let repoID = this.props.repoID;\n    if (!this.state.pathExist) {\n      this.setState({pathExist: true});\n    }\n\n    if (node.object.isDir()) {\n      let isLoaded = node.isLoaded;\n      if (!node.isLoaded) {\n        let tree = this.state.treeData.clone();\n        node = tree.getNodeByPath(node.path);\n        seafileAPI.listDir(repoID, node.path).then(res => {\n          this.addResponseListToNode(res.data.dirent_list, node);\n          tree.collapseNode(node);\n          this.setState({treeData: tree});\n        });\n      }\n      if (isLoaded && node.path === this.state.path) {\n        if (node.isExpanded) {\n          let tree = treeHelper.collapseNode(this.state.treeData, node);\n          this.setState({treeData: tree});\n        } else {\n          let tree = this.state.treeData.clone();\n          node = tree.getNodeByPath(node.path);\n          tree.expandNode(node);\n          this.setState({treeData: tree});\n        }\n      }\n    }\n\n    if (node.path === this.state.path ) {\n      return;\n    }\n\n    if (node.object.isDir()) {  // isDir\n      this.showDir(node.path);\n    } else {\n      if (Utils.isMarkdownFile(node.path)) {\n        if (node.path !== this.state.path) {\n          this.showFile(node.path);\n        }\n      } else {\n        const w = window.open('about:blank');\n        const url = siteRoot + 'lib/' + repoID + '/file' + Utils.encodePath(node.path);\n        w.location.href = url;\n      }\n    }\n  }\n\n  onTreeNodeCollapse = (node) => {\n    let tree = treeHelper.collapseNode(this.state.treeData, node);\n    this.setState({treeData: tree});\n  }\n\n  onTreeNodeExpanded = (node) => {\n    let repoID = this.props.repoID;\n    let tree = this.state.treeData.clone();\n    node = tree.getNodeByPath(node.path);\n    if (!node.isLoaded) {\n      seafileAPI.listDir(repoID, node.path).then(res => {\n        this.addResponseListToNode(res.data.dirent_list, node);\n        this.setState({treeData: tree});\n      });\n    } else {\n      tree.expandNode(node);\n      this.setState({treeData: tree});\n    }\n  }\n\n  addNodeToTree = (name, parentPath, type) => {\n    let node = this.createTreeNode(name, type);\n    let tree = treeHelper.addNodeToParentByPath(this.state.treeData, node, parentPath);\n    this.setState({treeData: tree});\n  }\n\n  renameTreeNode = (path, newName) => {\n    let tree = treeHelper.renameNodeByPath(this.state.treeData, path, newName);\n    this.setState({treeData: tree});\n  }\n\n  deleteTreeNode = (path) => {\n    let tree = treeHelper.deleteNodeByPath(this.state.treeData, path);\n    this.setState({treeData: tree});\n  }\n\n  moveTreeNode = (nodePath, moveToPath, moveToRepo, nodeName) => {\n    let repoID = this.props.repoID;\n    if (repoID !== moveToRepo.repo_id) {\n      let tree = treeHelper.deleteNodeByPath(this.state.treeData, nodePath);\n      this.setState({treeData: tree});\n      return;\n    }\n    let tree = treeHelper.moveNodeByPath(this.state.treeData, nodePath, moveToPath, nodeName);\n    this.setState({treeData: tree});\n  }\n\n  copyTreeNode = (nodePath, copyToPath, destRepo, nodeName) => {\n    let repoID = this.props.repoID;\n    if (repoID !== destRepo.repo_id) {\n      return;\n    }\n    let tree = treeHelper.copyNodeByPath(this.state.treeData, nodePath, copyToPath, nodeName);\n    this.setState({treeData: tree});\n  }\n\n  createTreeNode(name, type) {\n    let object = this.createDirent(name, type);\n    return new TreeNode({object});\n  }\n\n  createDirent(name, type, size) {\n    let mtime = new Date().getTime()/1000;\n    let dirent = new Dirent({name, type, mtime, size});\n    return dirent;\n  }\n\n  addResponseListToNode = (list, node) => {\n    node.isLoaded = true;\n    node.isExpanded = true;\n    let direntList = list.map(item => {\n      return new Dirent(item);\n    });\n    direntList = Utils.sortDirents(direntList, 'name', 'asc');\n\n    let nodeList = direntList.map(object => {\n      return new TreeNode({object});\n    });\n    node.addChildren(nodeList);\n  }\n\n  getSelectedDirentPaths = () => {\n    let paths = [];\n    this.state.selectedDirentList.forEach(selectedDirent => {\n      paths.push(Utils.joinPath(this.state.path, selectedDirent.name));\n    });\n    return paths;\n  }\n\n  getSelectedDirentNames = () => {\n    let names = [];\n    this.state.selectedDirentList.forEach(selectedDirent => {\n      names.push(selectedDirent.name);\n    });\n    return names;\n  }\n\n  resetSelected = () => {\n    this.setState({\n      isDirentSelected: false,\n      isAllDirentSelected: false,\n    });\n  }\n\n  onLibDecryptDialog = () => {\n    this.setState({libNeedDecrypt: false});\n    this.loadDirData(this.state.path);\n  }\n  \n  goDraftPage = () => {\n    window.location.href = siteRoot + 'drafts/' + this.state.draftID + '/';\n  }\n\n  sortItems = (sortBy, sortOrder) => {\n    cookie.save('seafile-dir-sort-by', sortBy);\n    cookie.save('seafile-dir-sort-order', sortOrder);\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: sortOrder,\n      items: Utils.sortDirents(this.state.direntList, sortBy, sortOrder)\n    });\n  }\n\n  onUploadFile = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.uploader.onFileUpload();\n  }\n\n  onUploadFolder = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.uploader.onFolderUpload();\n  }\n\n  onToolbarFileTagChanged = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.state.path;\n    seafileAPI.listFileTags(repoID, filePath).then(res => {\n      let fileTags = res.data.file_tags.map(item => {\n        return new FileTag(item);\n      });\n\n      this.setState({fileTags: fileTags});\n    });\n  }\n\n  onToolbarRelatedFileChange = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.state.path;\n\n    seafileAPI.listRelatedFiles(repoID, filePath).then(res => {\n      let relatedFiles = res.data.related_files.map((relatedFile) => {\n        return relatedFile;\n      });\n      this.setState({relatedFiles: relatedFiles});\n    }).catch((error) => {\n      if (error.response.status === 500) {\n        this.setState({relatedFiles: []});\n      }\n    });\n  }\n\n  unSelectDirent = () => {\n    this.setState({\n      isDirentSelected: false,\n      selectedDirentList: []\n    });\n    const dirent = {};\n    this.onDirentSelected(dirent);\n  }\n\n  onDeleteRepoTag = (deletedTagID) => {\n    let direntList = this.state.direntList.map(dirent => {\n      if (dirent.file_tags) {\n        let fileTags = dirent.file_tags.filter(item => {\n          return item.repo_tag_id !== deletedTagID;\n        });\n        dirent.file_tags = fileTags;\n      }\n      return dirent;\n    });\n    this.setState({direntList: direntList});\n    this.updateUsedRepoTags();\n  }\n\n  render() {\n    if (this.state.libNeedDecrypt) {\n      return (\n        <ModalPortal>\n          <LibDecryptDialog \n            repoID={this.props.repoID}\n            onLibDecryptDialog={this.onLibDecryptDialog}\n          />\n        </ModalPortal>\n      );\n    }\n\n    if (!this.state.currentRepoInfo) {\n      return '';\n    }\n\n    let showShareBtn = false;\n    let enableDirPrivateShare = false;\n    let { currentRepoInfo, repoEncrypted, userPerm } = this.state;\n    let isAdmin = currentRepoInfo.is_admin;\n    let isVirtual = currentRepoInfo.is_virtual;\n    let isRepoOwner = currentRepoInfo.owner_email === username;\n\n    if (!repoEncrypted) {\n      let showGenerateShareLinkTab = false;\n      if (canGenerateShareLink && (userPerm == 'rw' || userPerm == 'r')) {\n        showGenerateShareLinkTab = true;\n      }\n      let showGenerateUploadLinkTab = false;\n      if (canGenerateUploadLink && (userPerm == 'rw')) {\n        showGenerateUploadLinkTab = true;\n      }\n\n      if (!isVirtual && (isRepoOwner || isAdmin)) {\n        enableDirPrivateShare = true;\n      }\n\n      if (showGenerateShareLinkTab || showGenerateUploadLinkTab || enableDirPrivateShare) {\n        showShareBtn = true;\n      }\n\n    }\n\n    return (\n      <div className=\"main-panel o-hidden\">\n        <div className=\"main-panel-north border-left-show\">\n          <LibContentToolbar\n            isViewFile={this.state.isViewFile}\n            filePermission={this.state.filePermission}\n            isDraft={this.state.isDraft}\n            hasDraft={this.state.hasDraft}\n            fileTags={this.state.fileTags}\n            relatedFiles={this.state.relatedFiles}\n            onFileTagChanged={this.onToolbarFileTagChanged}\n            onRelatedFileChange={this.onToolbarRelatedFileChange}\n            onSideNavMenuClick={this.props.onMenuClick}\n            repoID={this.props.repoID}\n            path={this.state.path}\n            isDirentSelected={this.state.isDirentSelected}\n            selectedDirentList={this.state.selectedDirentList}\n            onItemsMove={this.onMoveItems}\n            onItemsCopy={this.onCopyItems}\n            onItemsDelete={this.onDeleteItems}\n            direntList={this.state.direntList}\n            repoName={this.state.repoName}\n            repoEncrypted={this.state.repoEncrypted}\n            isGroupOwnedRepo={this.state.isGroupOwnedRepo}\n            userPerm={this.state.userPerm}\n            showShareBtn={showShareBtn}\n            enableDirPrivateShare={enableDirPrivateShare}\n            onAddFile={this.onAddFile}\n            onAddFolder={this.onAddFolder}\n            onUploadFile={this.onUploadFile}\n            onUploadFolder={this.onUploadFolder}\n            currentMode={this.state.currentMode}\n            switchViewMode={this.switchViewMode}\n            onSearchedClick={this.onSearchedClick}\n            isRepoOwner={isRepoOwner}\n            currentRepoInfo={this.state.currentRepoInfo}\n            updateDirent={this.updateDirent}\n            onDirentSelected={this.onDirentSelected}\n            showDirentDetail={this.showDirentDetail}\n            listRelatedFiles={this.listRelatedFiles}\n            unSelectDirent={this.unSelectDirent}\n            onFilesTagChanged={this.onFileTagChanged}\n          />\n        </div>\n        <div className=\"main-panel-center flex-row\">\n          <LibContentContainer \n            pathPrefix={this.props.pathPrefix}\n            currentMode={this.state.currentMode}\n            path={this.state.path}\n            pathExist={this.state.pathExist}\n            currentRepoInfo={this.state.currentRepoInfo}\n            repoID={this.props.repoID}\n            repoPermission={this.state.repoPermission}\n            enableDirPrivateShare={enableDirPrivateShare}\n            userPerm={userPerm}\n            isGroupOwnedRepo={this.state.isGroupOwnedRepo}\n            onTabNavClick={this.props.onTabNavClick}\n            onMainNavBarClick={this.onMainNavBarClick}\n            isViewFile={this.state.isViewFile}\n            hash={this.state.hash}\n            isDraft={this.state.isDraft}\n            hasDraft={this.state.hasDraft}\n            fileTags={this.state.fileTags}\n            relatedFiles={this.state.relatedFiles}\n            goDraftPage={this.goDraftPage}\n            isFileLoading={this.state.isFileLoading}\n            isFileLoadedErr={this.state.isFileLoadedErr}\n            filePermission={this.state.filePermission}\n            content={this.state.content}\n            lastModified={this.state.lastModified}\n            latestContributor={this.state.latestContributor}\n            onLinkClick={this.onLinkClick}\n            isTreeDataLoading={this.state.isTreeDataLoading}\n            treeData={this.state.treeData}\n            currentNode={this.state.currentNode}\n            onNodeClick={this.onTreeNodeClick}\n            onNodeCollapse={this.onTreeNodeCollapse}\n            onNodeExpanded={this.onTreeNodeExpanded}\n            onAddFolderNode={this.onAddFolder}\n            onAddFileNode={this.onAddFile}\n            onRenameNode={this.onRenameTreeNode}\n            onDeleteNode={this.onDeleteTreeNode}\n            draftCounts={this.state.draftCounts}\n            usedRepoTags={this.state.usedRepoTags}\n            readmeMarkdown={this.state.readmeMarkdown}\n            updateUsedRepoTags={this.updateUsedRepoTags}\n            isDirentListLoading={this.state.isDirentListLoading}\n            direntList={this.state.direntList}\n            sortBy={this.state.sortBy}\n            sortOrder={this.state.sortOrder}\n            sortItems={this.sortItems}\n            updateDirent={this.updateDirent}\n            onItemClick={this.onDirentClick}\n            onItemSelected={this.onDirentSelected}\n            onItemDelete={this.onMainPanelItemDelete}\n            onItemRename={this.onMainPanelItemRename}\n            onItemMove={this.onMoveItem}\n            onItemCopy={this.onCopyItem}\n            onAddFolder={this.onAddFolder}\n            onAddFile={this.onAddFile}\n            onFileTagChanged={this.onFileTagChanged}\n            isDirentSelected={this.state.isDirentSelected}\n            isAllDirentSelected={this.state.isAllDirentSelected}\n            onAllDirentSelected={this.onAllDirentSelected}\n            isDirentDetailShow={this.state.isDirentDetailShow}\n            selectedDirent={this.state.selectedDirentList && this.state.selectedDirentList[0]}\n            closeDirentDetail={this.closeDirentDetail}\n            showDirentDetail={this.showDirentDetail}\n            onDeleteRepoTag={this.onDeleteRepoTag}\n          />\n          {this.state.pathExist && !this.state.isViewFile && (\n            <FileUploader\n              ref={uploader => this.uploader = uploader}\n              dragAndDrop={true}\n              path={this.state.path}\n              repoID={this.props.repoID}\n              direntList={this.state.direntList}\n              onFileUploadSuccess={this.onFileUploadSuccess}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nLibContentView.propTypes = propTypes;\n\nexport default LibContentView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lib-content-view/lib-content-view.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport CommonToolbar from '../../components/toolbar/common-toolbar';\nimport ViewModeToolbar from '../../components/toolbar/view-mode-toolbar';\nimport DirOperationToolBar from '../../components/toolbar/dir-operation-toolbar';\nimport MutipleDirOperationToolbar from '../../components/toolbar/mutilple-dir-operation-toolbar';\nimport ViewFileToolbar from '../../components/toolbar/view-file-toolbar';\n\nconst propTypes = {\n  isViewFile: PropTypes.bool.isRequired,\n  filePermission: PropTypes.bool.isRequired, // ture = 'rw'\n  isDraft: PropTypes.bool.isRequired,\n  hasDraft: PropTypes.bool.isRequired,\n  fileTags: PropTypes.array.isRequired,\n  relatedFiles: PropTypes.array.isRequired,\n  onFileTagChanged: PropTypes.func.isRequired,  // for file-view-toolbar\n  onRelatedFileChange: PropTypes.func.isRequired,\n  // side-panel\n  onSideNavMenuClick: PropTypes.func.isRequired,\n  // mutiple-dir\n  isDirentSelected: PropTypes.bool.isRequired,\n  repoID: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  selectedDirentList: PropTypes.array.isRequired,\n  onItemsMove: PropTypes.func.isRequired,\n  onItemsCopy: PropTypes.func.isRequired,\n  onItemsDelete: PropTypes.func.isRequired,\n  // dir\n  direntList: PropTypes.array.isRequired,\n  repoName: PropTypes.string.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  userPerm: PropTypes.string.isRequired,\n  showShareBtn: PropTypes.bool.isRequired,\n  enableDirPrivateShare: PropTypes.bool.isRequired,\n  onAddFile: PropTypes.func.isRequired,\n  onAddFolder: PropTypes.func.isRequired,\n  onUploadFile: PropTypes.func.isRequired,\n  onUploadFolder: PropTypes.func.isRequired,\n  // view-mode\n  currentMode: PropTypes.string.isRequired,\n  switchViewMode: PropTypes.func.isRequired,\n  // search\n  onSearchedClick: PropTypes.func.isRequired,\n  isRepoOwner: PropTypes.bool.isRequired,\n  // selected menu\n  onDirentSelected: PropTypes.func.isRequired,\n  showDirentDetail: PropTypes.func.isRequired,\n  onFilesTagChanged: PropTypes.func.isRequired, // for mutiple select toolbar\n  updateDirent: PropTypes.func.isRequired,\n};\n\nclass LibContentToolbar extends React.Component {\n\n  render() {\n    if (this.props.isViewFile) {\n      return (\n        <Fragment>\n          <div className=\"cur-view-toolbar\">\n            <span className=\"sf2-icon-menu hidden-md-up d-md-none side-nav-toggle\" title={gettext('Side Nav Menu')} onClick={this.props.onSideNavMenuClick}></span>\n            <ViewFileToolbar \n              path={this.props.path}\n              repoID={this.props.repoID}\n              userPerm={this.props.userPerm}\n              repoEncrypted={this.props.repoEncrypted}\n              enableDirPrivateShare={this.props.enableDirPrivateShare}\n              isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n              filePermission={this.props.filePermission}\n              isDraft={this.props.isDraft}\n              hasDraft={this.props.hasDraft}\n              fileTags={this.props.fileTags}\n              relatedFiles={this.props.relatedFiles}\n              onFileTagChanged={this.props.onFileTagChanged}\n              onRelatedFileChange={this.props.onRelatedFileChange}\n            />\n            <ViewModeToolbar currentMode={this.props.currentMode} switchViewMode={this.props.switchViewMode}/>\n          </div>\n          <CommonToolbar repoID={this.props.repoID} onSearchedClick={this.props.onSearchedClick} searchPlaceholder={gettext('Search files in this library')}/>\n        </Fragment>\n      );\n    }\n\n    return (\n      <Fragment>\n        <div className=\"cur-view-toolbar\">\n          <span className=\"sf2-icon-menu hidden-md-up d-md-none side-nav-toggle\" title={gettext('Side Nav Menu')} onClick={this.props.onSideNavMenuClick}></span>\n          <div className=\"dir-operation\">\n            {this.props.isDirentSelected ?\n              <MutipleDirOperationToolbar\n                repoID={this.props.repoID} \n                path={this.props.path}\n                repoEncrypted={this.props.repoEncrypted}\n                selectedDirentList={this.props.selectedDirentList}\n                onItemsMove={this.props.onItemsMove}\n                onItemsCopy={this.props.onItemsCopy}\n                onItemsDelete={this.props.onItemsDelete}\n                isRepoOwner={this.props.isRepoOwner}\n                currentRepoInfo={this.props.currentRepoInfo}\n                enableDirPrivateShare={this.props.enableDirPrivateShare}\n                updateDirent={this.props.updateDirent}\n                onDirentSelected={this.props.onDirentSelected}\n                showDirentDetail={this.props.showDirentDetail}\n                relatedFiles={this.props.relatedFiles}\n                unSelectDirent={this.props.unSelectDirent}\n                onFilesTagChanged={this.props.onFilesTagChanged}\n              /> :\n              <DirOperationToolBar \n                path={this.props.path}\n                repoID={this.props.repoID}\n                repoName={this.props.repoName}\n                repoEncrypted={this.props.repoEncrypted}\n                direntList={this.props.direntList}\n                showShareBtn={this.props.showShareBtn}\n                enableDirPrivateShare={this.props.enableDirPrivateShare}\n                userPerm={this.props.userPerm}\n                isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n                onAddFile={this.props.onAddFile}\n                onAddFolder={this.props.onAddFolder}\n                onUploadFile={this.props.onUploadFile}\n                onUploadFolder={this.props.onUploadFolder}\n              />\n            }\n          </div>\n          <ViewModeToolbar currentMode={this.props.currentMode} switchViewMode={this.props.switchViewMode}/>\n        </div>\n        <CommonToolbar repoID={this.props.repoID} onSearchedClick={this.props.onSearchedClick} searchPlaceholder={gettext('Search files in this library')}/>\n      </Fragment>\n    );\n  }\n}\n\nLibContentToolbar.propTypes = propTypes;\n\nexport default LibContentToolbar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lib-content-view/lib-content-toolbar.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { DropdownToggle, Dropdown, DropdownMenu, DropdownItem, Tooltip} from 'reactstrap';\nimport { Utils } from '../../utils/utils';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport ModalPotal from '../modal-portal';\nimport ShareDialog from '../dialog/share-dialog';\nimport EditFileTagDialog from '../dialog/edit-filetag-dialog';\nimport RelatedFileDialogs from '../dialog/related-file-dialogs';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  userPerm: PropTypes.string.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n  enableDirPrivateShare: PropTypes.bool.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  filePermission: PropTypes.bool.isRequired,\n  isDraft: PropTypes.bool.isRequired,\n  hasDraft: PropTypes.bool.isRequired,\n  fileTags: PropTypes.array.isRequired,\n  relatedFiles: PropTypes.array.isRequired,\n  onFileTagChanged: PropTypes.func.isRequired,\n  onRelatedFileChange: PropTypes.func.isRequired,\n};\n\nclass ViewFileToolbar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isDraftMessageShow: false,\n      isMoreMenuShow: false,\n      isShareDialogShow: false,\n      isEditTagDialogShow: false,\n      isRelatedFileDialogShow: false,\n      showRelatedFileDialog: false,\n    };\n  }\n\n  onEditClick = (e) => {\n    e.preventDefault();\n    let { path, repoID } = this.props;\n    let url = siteRoot + 'lib/' + repoID + '/file' + Utils.encodePath(path) + '?mode=edit';\n    window.open(url);\n  }\n\n  onNewDraft = (e) => {\n    e.preventDefault();\n    let { path, repoID } = this.props;\n    seafileAPI.createDraft(repoID, path).then(res => {\n      window.location.href = siteRoot + 'lib/' + res.data.origin_repo_id + '/file' + res.data.draft_file_path + '?mode=edit';\n    });\n  }\n\n  onDraftHover = () => {\n    this.setState({isDraftMessageShow: !this.state.isDraftMessageShow});\n  }\n\n  toggleMore = () => {\n    this.setState({isMoreMenuShow: !this.state.isMoreMenuShow});\n  }\n\n  onShareToggle = () => {\n    this.setState({isShareDialogShow: !this.state.isShareDialogShow});\n  }\n\n  onEditFileTagToggle = () => {\n    this.setState({isEditTagDialogShow: !this.state.isEditTagDialogShow});\n  }\n\n  onListRelatedFileToggle = () => {\n    this.setState({\n      isRelatedFileDialogShow: true,\n      showRelatedFileDialog: true,\n    });\n  }\n\n  toggleCancel = () => {\n    this.setState({\n      isRelatedFileDialogShow: false,\n      showRelatedFileDialog: false,\n    })\n  }\n\n  render() {\n\n    let name = Utils.getFileName(this.props.path);\n    let dirent = { name: name };\n\n    return (\n      <Fragment>\n        <div className=\"dir-operation\">\n          {(this.props.filePermission && !this.props.hasDraft) && (\n            <Fragment>\n              <button className=\"btn btn-secondary operation-item\" title={gettext('Edit File')} onClick={this.onEditClick}>{gettext('Edit')}</button>\n            </Fragment>\n          )}\n          {/* default have read priv */}\n          {(!this.props.isDraft && !this.props.hasDraft) && (\n            <Fragment>\n              <button id=\"new-draft\" className=\"btn btn-secondary operation-item\" onClick={this.onNewDraft}>{gettext('New Draft')}</button>\n              <Tooltip target=\"new-draft\" placement=\"bottom\" isOpen={this.state.isDraftMessageShow} toggle={this.onDraftHover}>{gettext('Create a draft from this file, instead of editing it directly.')}</Tooltip>\n            </Fragment>\n          )}\n          {this.props.filePermission && (\n            <Dropdown isOpen={this.state.isMoreMenuShow} toggle={this.toggleMore}>\n              <DropdownToggle className='btn btn-secondary operation-item'>\n                {gettext('More')}\n              </DropdownToggle>\n              <DropdownMenu>\n                <DropdownItem onClick={this.onShareToggle}>{gettext('Share')}</DropdownItem>\n                <DropdownItem onClick={this.onEditFileTagToggle}>{gettext('Tags')}</DropdownItem>\n                <DropdownItem onClick={this.onListRelatedFileToggle}>{gettext('Related Files')}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n          )}\n        </div>\n        {this.state.isShareDialogShow && (\n          <ModalPotal>\n            <ShareDialog \n              itemType={'file'}\n              itemName={Utils.getFileName(this.props.path)}\n              itemPath={this.props.path}\n              repoID={this.props.repoID}\n              repoEncrypted={this.props.repoEncrypted}\n              enableDirPrivateShare={this.props.enableDirPrivateShare}\n              userPerm={this.props.userPerm}\n              isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n              toggleDialog={this.onShareToggle}\n            />\n          </ModalPotal>\n        )}\n        {this.state.isEditTagDialogShow && (\n          <ModalPotal>\n            <EditFileTagDialog\n              filePath={this.props.path}\n              repoID={this.props.repoID}\n              fileTagList={this.props.fileTags}\n              toggleCancel={this.onEditFileTagToggle}\n              onFileTagChanged={this.props.onFileTagChanged}\n            />\n          </ModalPotal>\n        )}\n        {this.state.showRelatedFileDialog &&\n          <ModalPotal>\n            <RelatedFileDialogs\n              repoID={this.props.repoID}\n              filePath={this.props.path}\n              relatedFiles={this.props.relatedFiles}\n              toggleCancel={this.toggleCancel}\n              onRelatedFileChange={this.props.onRelatedFileChange}\n              dirent={dirent}\n              viewMode=\"list_related_file\"\n            />\n          </ModalPotal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nViewFileToolbar.propTypes = propTypes;\n\nexport default ViewFileToolbar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbar/view-file-toolbar.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport CurDirPath from '../../components/cur-dir-path';\nimport DirentDetail from '../../components/dirent-detail/dirent-details';\nimport DirListView from '../../components/dir-view-mode/dir-list-view';\nimport DirGridView from '../../components/dir-view-mode/dir-grid-view';\nimport DirColumnView from '../../components/dir-view-mode/dir-column-view';\n\nconst propTypes = {\n  pathPrefix: PropTypes.array.isRequired,\n  currentMode: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  pathExist: PropTypes.bool.isRequired,\n  // repoinfo\n  currentRepoInfo: PropTypes.object.isRequired,\n  repoID: PropTypes.string.isRequired,\n  repoPermission: PropTypes.bool.isRequired,\n  enableDirPrivateShare: PropTypes.bool.isRequired,\n  userPrem: PropTypes.bool,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  // path func\n  onTabNavClick: PropTypes.func.isRequired,\n  onMainNavBarClick: PropTypes.func.isRequired,\n  // file\n  isViewFile: PropTypes.bool.isRequired,\n  isFileLoadedErr: PropTypes.bool.isRequired,\n  hash: PropTypes.string,\n  isDraft: PropTypes.bool.isRequired,\n  hasDraft: PropTypes.bool.isRequired,\n  fileTags: PropTypes.array.isRequired,\n  goDraftPage: PropTypes.func.isRequired,\n  isFileLoading: PropTypes.bool.isRequired,\n  filePermission: PropTypes.bool.isRequired,\n  content: PropTypes.string,\n  lastModified: PropTypes.string,\n  latestContributor: PropTypes.string,\n  onLinkClick: PropTypes.func.isRequired,\n  // tree\n  isTreeDataLoading: PropTypes.bool.isRequired,\n  treeData: PropTypes.object.isRequired,\n  currentNode: PropTypes.object,\n  onNodeClick: PropTypes.func.isRequired,\n  onNodeCollapse: PropTypes.func.isRequired,\n  onNodeExpanded: PropTypes.func.isRequired,\n  onRenameNode: PropTypes.func.isRequired,\n  onDeleteNode: PropTypes.func.isRequired,\n  onAddFileNode: PropTypes.func.isRequired,\n  onAddFolderNode: PropTypes.func.isRequired,\n  // repo content\n  draftCounts: PropTypes.number,\n  usedRepoTags: PropTypes.array.isRequired,\n  readmeMarkdown: PropTypes.object,\n  updateUsedRepoTags: PropTypes.func.isRequired,\n  // list\n  isDirentListLoading: PropTypes.bool.isRequired,\n  direntList: PropTypes.array.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  updateDirent: PropTypes.func.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  onItemSelected: PropTypes.func.isRequired,\n  onItemDelete: PropTypes.func.isRequired,\n  onItemRename: PropTypes.func.isRequired,\n  onItemMove: PropTypes.func.isRequired,\n  onItemCopy: PropTypes.func.isRequired,\n  onAddFolder: PropTypes.func.isRequired,\n  onAddFile: PropTypes.func.isRequired,\n  onFileTagChanged: PropTypes.func.isRequired,\n  isDirentSelected: PropTypes.bool.isRequired,\n  isAllDirentSelected: PropTypes.bool.isRequired,\n  onAllDirentSelected: PropTypes.func.isRequired,\n  isDirentDetailShow: PropTypes.bool.isRequired,\n  selectedDirent: PropTypes.object,\n  closeDirentDetail: PropTypes.func.isRequired,\n  showDirentDetail: PropTypes.func.isRequired,\n  onDeleteRepoTag: PropTypes.func.isRequired,\n};\n\nclass LibContentContainer extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentDirent: null,\n    };\n\n    this.errMessage = (<div className=\"message err-tip\">{gettext('Folder does not exist.')}</div>);\n  }\n\n  onPathClick = (path) => {\n    this.props.onMainNavBarClick(path);\n    this.props.closeDirentDetail();\n  }\n\n  onItemClick = (dirent) => {\n    this.props.onItemClick(dirent);\n    this.props.closeDirentDetail();\n  }\n\n  // on '<tr>'\n  onDirentClick = (dirent) => {\n    if (this.props.isDirentDetailShow) {\n      this.onItemDetails(dirent);\n    }\n  }\n\n  onItemDetails = (dirent) => {\n    this.setState({\n      currentDirent: dirent,\n    });\n    this.props.showDirentDetail();\n  }\n\n  onItemDetailsClose = () => {\n    this.props.closeDirentDetail();\n  }\n\n  componentWillReceiveProps (nextProps) {\n    if (nextProps.isDirentDetailShow) {\n      this.setState({\n        isDirentDetailShow: nextProps.isDirentDetailShow\n      });\n    }\n    if (nextProps.selectedDirent && nextProps.isDirentDetailShow) {\n      this.setState({\n        currentDirent: nextProps.selectedDirent,\n      });\n    }\n  }\n\n  render() {\n    let { path, repoID, usedRepoTags, readmeMarkdown, draftCounts } = this.props;\n    let isRepoInfoBarShow = false;\n    if (path === '/') {\n      if (usedRepoTags.length !== 0 || readmeMarkdown !== null || draftCounts !== 0) {\n        isRepoInfoBarShow = true;\n      }\n    } \n\n    return (\n      <Fragment>\n        <div className=\"cur-view-container\">\n          <div className=\"cur-view-path\">\n            <CurDirPath \n              repoID={repoID}\n              repoName={this.props.currentRepoInfo.repo_name}\n              pathPrefix={this.props.pathPrefix}\n              currentPath={this.props.path} \n              permission={this.props.repoPermission} \n              isViewFile={this.props.isViewFile}\n              onTabNavClick={this.props.onTabNavClick}\n              onPathClick={this.onPathClick}\n              updateUsedRepoTags={this.props.updateUsedRepoTags}\n              fileTags={this.props.fileTags}\n              onDeleteRepoTag={this.props.onDeleteRepoTag}\n            />\n          </div>\n          <div className={`cur-view-content ${this.props.currentMode === 'column' ? 'view-mode-container' : ''}`}>\n            {!this.props.pathExist && this.errMessage}\n            {this.props.pathExist && (\n              <Fragment>\n                {this.props.currentMode === 'list' && (\n                  <DirListView \n                    path={this.props.path}\n                    repoID={repoID}\n                    currentRepoInfo={this.props.currentRepoInfo}\n                    isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n                    enableDirPrivateShare={this.props.enableDirPrivateShare}\n                    isRepoInfoBarShow={isRepoInfoBarShow}\n                    usedRepoTags={this.props.usedRepoTags}\n                    readmeMarkdown={this.props.readmeMarkdown}\n                    draftCounts={this.props.draftCounts}\n                    updateUsedRepoTags={this.props.updateUsedRepoTags}\n                    isDirentListLoading={this.props.isDirentListLoading}\n                    direntList={this.props.direntList}\n                    sortBy={this.props.sortBy}\n                    sortOrder={this.props.sortOrder}\n                    sortItems={this.props.sortItems}\n                    onAddFile={this.props.onAddFile}\n                    onItemClick={this.onItemClick}\n                    onItemSelected={this.props.onItemSelected}\n                    onItemDelete={this.props.onItemDelete}\n                    onItemRename={this.props.onItemRename}\n                    onItemMove={this.props.onItemMove}\n                    onItemCopy={this.props.onItemCopy}\n                    onDirentClick={this.onDirentClick}\n                    onItemDetails={this.onItemDetails}\n                    updateDirent={this.props.updateDirent}\n                    isAllItemSelected={this.props.isAllDirentSelected}\n                    onAllItemSelected={this.props.onAllDirentSelected}\n                  />\n                )}\n                {this.props.currentMode === 'grid' && (\n                  <DirGridView \n                  />\n                )}\n                {this.props.currentMode === 'column' && (\n                  <DirColumnView \n                    path={this.props.path}\n                    repoID={repoID}\n                    currentRepoInfo={this.props.currentRepoInfo}\n                    repoPermission={this.props.repoPermission}\n                    isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n                    enableDirPrivateShare={this.props.enableDirPrivateShare}\n                    isTreeDataLoading={this.props.isTreeDataLoading}\n                    treeData={this.props.treeData}\n                    currentNode={this.props.currentNode}\n                    onNodeClick={this.props.onNodeClick}\n                    onNodeCollapse={this.props.onNodeCollapse}\n                    onNodeExpanded={this.props.onNodeExpanded}\n                    onAddFolderNode={this.props.onAddFolder}\n                    onAddFileNode={this.props.onAddFile}\n                    onRenameNode={this.props.onRenameNode}\n                    onDeleteNode={this.props.onDeleteNode}\n                    isViewFile={this.props.isViewFile}\n                    isFileLoading={this.props.isFileLoading}\n                    isFileLoadedErr={this.props.isFileLoadedErr}\n                    hash={this.props.hash}\n                    isDraft={this.props.isDraft}\n                    hasDraft={this.props.hasDraft}\n                    goDraftPage={this.props.goDraftPage}\n                    filePermission={this.props.filePermission}\n                    content={this.props.content}\n                    lastModified={this.props.lastModified}\n                    latestContributor={this.props.latestContributor}\n                    onLinkClick={this.props.onLinkClick}\n                    isRepoInfoBarShow={isRepoInfoBarShow}\n                    usedRepoTags={this.props.usedRepoTags}\n                    readmeMarkdown={this.props.readmeMarkdown}\n                    draftCounts={this.props.draftCounts}\n                    updateUsedRepoTags={this.props.updateUsedRepoTags}\n                    isDirentListLoading={this.props.isDirentListLoading}\n                    direntList={this.props.direntList}\n                    sortBy={this.props.sortBy}\n                    sortOrder={this.props.sortOrder}\n                    sortItems={this.props.sortItems}\n                    onAddFile={this.props.onAddFile}\n                    onItemClick={this.onItemClick}\n                    onItemSelected={this.props.onItemSelected}\n                    onItemDelete={this.props.onItemDelete}\n                    onItemRename={this.props.onItemRename}\n                    onItemMove={this.props.onItemMove}\n                    onItemCopy={this.props.onItemCopy}\n                    onDirentClick={this.onDirentClick}\n                    onItemDetails={this.onItemDetails}\n                    updateDirent={this.props.updateDirent}\n                    isAllItemSelected={this.props.isAllDirentSelected}\n                    onAllItemSelected={this.props.onAllDirentSelected}\n                  />\n                )}\n              </Fragment>\n            )}\n          </div>\n        </div>\n        {this.props.isDirentDetailShow && (\n          <div className=\"cur-view-detail\">\n            <DirentDetail\n              repoID={repoID}\n              path={this.props.path}\n              dirent={this.state.currentDirent}\n              onItemDetailsClose={this.onItemDetailsClose}\n              onFileTagChanged={this.props.onFileTagChanged}\n            />\n          </div>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nLibContentContainer.propTypes = propTypes;\n\nexport default LibContentContainer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lib-content-view/lib-content-container.js","import React from 'react';\n\nconst propTypes = {\n\n};\n\nclass DirGridView extends React.Component {\n\n  render() {\n    return (\n      <div></div>\n    );\n  }\n}\n\nDirGridView.propTypes = propTypes;\n\nexport default DirGridView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dir-view-mode/dir-grid-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport DirColumnNav from './dir-column-nav';\nimport DirColumnFile from './dir-column-file';\nimport DirListView from './dir-list-view';\n\nimport '../../css/lib-content-view.css';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  // repoinfo\n  currentRepoInfo: PropTypes.object.isRequired,\n  repoPermission: PropTypes.bool.isRequired,\n  enableDirPrivateShare: PropTypes.bool.isRequired,\n  userPrem: PropTypes.bool,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  // tree\n  isTreeDataLoading: PropTypes.bool.isRequired,\n  treeData: PropTypes.object.isRequired,\n  currentNode: PropTypes.object,\n  onNodeClick: PropTypes.func.isRequired,\n  onNodeCollapse: PropTypes.func.isRequired,\n  onNodeExpanded: PropTypes.func.isRequired,\n  onRenameNode: PropTypes.func.isRequired,\n  onDeleteNode: PropTypes.func.isRequired,\n  onAddFileNode: PropTypes.func.isRequired,\n  onAddFolderNode: PropTypes.func.isRequired,\n  // file\n  isViewFile: PropTypes.bool.isRequired,\n  isFileLoading: PropTypes.bool.isRequired,\n  isFileLoadedErr: PropTypes.bool.isRequired,\n  hash: PropTypes.string,\n  isDraft: PropTypes.bool.isRequired,\n  hasDraft: PropTypes.bool.isRequired,\n  goDraftPage: PropTypes.func.isRequired,\n  filePermission: PropTypes.bool.isRequired,\n  content: PropTypes.string,\n  lastModified: PropTypes.string,\n  latestContributor: PropTypes.string,\n  onLinkClick: PropTypes.func.isRequired,\n  // repo content\n  isRepoInfoBarShow: PropTypes.bool.isRequired,\n  draftCounts: PropTypes.number.isRequired,\n  usedRepoTags: PropTypes.array.isRequired,\n  readmeMarkdown: PropTypes.object,\n  updateUsedRepoTags: PropTypes.func.isRequired,\n  // list\n  isDirentListLoading: PropTypes.bool.isRequired,\n  direntList: PropTypes.array.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  onAddFile: PropTypes.func.isRequired,\n  updateDirent: PropTypes.func.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  onItemSelected: PropTypes.func.isRequired,\n  onItemDelete: PropTypes.func.isRequired,\n  onItemRename: PropTypes.func.isRequired,\n  onItemMove: PropTypes.func.isRequired,\n  onItemCopy: PropTypes.func.isRequired,\n  onItemDetails: PropTypes.func.isRequired,\n  onDirentClick: PropTypes.func.isRequired,\n  isAllItemSelected: PropTypes.bool.isRequired,\n  onAllItemSelected: PropTypes.func.isRequired,\n};\n\nclass DirColumnView extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      inResizing: false,\n      navRate: 0.25,\n    };\n    this.containerWidth = null;\n  }\n\n  onResizeMouseUp = () => {\n    if (this.state.inResizing) {\n      this.setState({\n        inResizing: false\n      });\n    }\n    this.setCookie('navRate', this.state.navRate);\n  }\n\n  onResizeMouseDown = () => {\n    this.containerWidth = this.refs.viewModeContainer.clientWidth;\n    this.setState({\n      inResizing: true\n    });\n  };\n\n  onResizeMouseMove = (e) => {\n    let sizeNavWidth = this.containerWidth / 0.78 * 0.22 + 3;\n    let rate = (e.nativeEvent.clientX - sizeNavWidth) / this.containerWidth;\n    if (rate < 0.1) {\n      this.setState({\n        inResizing: false,\n        navRate: 0.12,\n      });\n    }\n    else if (rate > 0.4) {\n      this.setState({\n        inResizing: false,\n        navRate: 0.38,\n      });\n    }\n    else {\n      this.setState({\n        navRate: rate\n      });\n    }\n  };\n\n  setCookie = (name, value) => {\n    let cookie = name + '=' + value + ';';\n    document.cookie = cookie;\n  }\n\n  getCookie = (cookiename) => {\n    let name = cookiename + '=';\n    let cookie = document.cookie.split(';');\n    for (let i = 0, len = cookie.length; i < len; i++) {\n      let c = cookie[i].trim();\n      if (c.indexOf(name) == 0) {\n        return c.substring(name.length, c.length) * 1;\n      }\n    }\n    return '';\n  }\n\n  componentWillMount() {\n    let rate = this.getCookie('navRate');\n    if (rate) {\n      this.setState({\n        navRate: rate,\n      });\n    }\n  }\n\n  render() {\n    const onResizeMove = this.state.inResizing ? this.onResizeMouseMove : null;\n    const select = this.state.inResizing ? 'none' : '';\n    const mainFlex = '1 0 ' + (1 - this.state.navRate) * 100 + '%';\n    return (\n      <div className=\"dir-colunm-view\" onMouseMove={onResizeMove} onMouseUp={this.onResizeMouseUp} ref=\"viewModeContainer\">\n        <DirColumnNav \n          currentPath={this.props.path}\n          repoPermission={this.props.repoPermission}\n          isTreeDataLoading={this.props.isTreeDataLoading}\n          treeData={this.props.treeData}\n          currentNode={this.props.currentNode}\n          onNodeClick={this.props.onNodeClick}\n          onNodeCollapse={this.props.onNodeCollapse}\n          onNodeExpanded={this.props.onNodeExpanded}\n          onAddFolderNode={this.props.onAddFolderNode}\n          onAddFileNode={this.props.onAddFileNode}\n          onRenameNode={this.props.onRenameNode}\n          onDeleteNode={this.props.onDeleteNode}\n          repoID={this.props.repoID}\n          navRate={this.state.navRate}\n          inResizing={this.state.inResizing}\n          currentRepoInfo={this.props.currentRepoInfo}\n          onItemMove={this.props.onItemMove}\n          onItemCopy={this.props.onItemCopy}\n        />\n        <div className=\"dir-content-resize\" onMouseDown={this.onResizeMouseDown}></div>\n        <div className=\"dir-content-main\" style={{userSelect: select, flex: mainFlex}}>\n          {this.props.isViewFile ? (\n            <DirColumnFile \n              path={this.props.path}\n              repoID={this.props.repoID}\n              hash={this.props.hash}\n              isDraft={this.props.isDraft}\n              hasDraft={this.props.hasDraft}\n              goDraftPage={this.props.goDraftPage}\n              isFileLoading={this.props.isFileLoading}\n              isFileLoadedErr={this.props.isFileLoadedErr}\n              filePermission={this.props.filePermission}\n              content={this.props.content}\n              lastModified={this.props.lastModified}\n              latestContributor={this.props.latestContributor}\n              onLinkClick={this.props.onLinkClick}\n            />\n          ) : (\n            <DirListView \n              path={this.props.path}\n              repoID={this.props.repoID}\n              currentRepoInfo={this.props.currentRepoInfo}\n              isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n              enableDirPrivateShare={this.props.enableDirPrivateShare}\n              isRepoInfoBarShow={this.props.isRepoInfoBarShow}\n              usedRepoTags={this.props.usedRepoTags}\n              readmeMarkdown={this.props.readmeMarkdown}\n              draftCounts={this.props.draftCounts}\n              updateUsedRepoTags={this.props.updateUsedRepoTags}\n              isDirentListLoading={this.props.isDirentListLoading}\n              direntList={this.props.direntList}\n              sortBy={this.props.sortBy}\n              sortOrder={this.props.sortOrder}\n              sortItems={this.props.sortItems}\n              onAddFile={this.props.onAddFile}\n              onItemClick={this.props.onItemClick}\n              onItemSelected={this.props.onItemSelected}\n              onItemDelete={this.props.onItemDelete}\n              onItemRename={this.props.onItemRename}\n              onItemMove={this.props.onItemMove}\n              onItemCopy={this.props.onItemCopy}\n              onDirentClick={this.props.onDirentClick}\n              onItemDetails={this.props.onItemDetails}\n              updateDirent={this.props.updateDirent}\n              isAllItemSelected={this.props.isAllItemSelected}\n              onAllItemSelected={this.props.onAllItemSelected}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nDirColumnView.propTypes = propTypes;\n\nexport default DirColumnView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dir-view-mode/dir-column-view.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport TreeView from '../../components/tree-view/tree-view';\nimport Loading from '../../components/loading';\nimport ModalPortal from '../../components/modal-portal';\nimport Delete from '../../components/dialog/delete-dialog';\nimport Rename from '../../components/dialog/rename-dialog';\nimport Copy from '../../components/dialog/copy-dirent-dialog';\nimport Move from '../../components/dialog/move-dirent-dialog';\nimport CreateFolder from '../../components/dialog/create-folder-dialog';\nimport CreateFile from '../../components/dialog/create-file-dialog';\nimport { siteRoot, gettext, thumbnailSizeForOriginal } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css';\n\nconst propTypes = {\n  currentPath: PropTypes.string.isRequired,\n  repoPermission: PropTypes.bool.isRequired,\n  isTreeDataLoading: PropTypes.bool.isRequired,\n  treeData: PropTypes.object.isRequired,\n  currentNode: PropTypes.object,\n  onNodeClick: PropTypes.func.isRequired,\n  onNodeCollapse: PropTypes.func.isRequired,\n  onNodeExpanded: PropTypes.func.isRequired,\n  onRenameNode: PropTypes.func.isRequired,\n  onDeleteNode: PropTypes.func.isRequired,\n  onAddFileNode: PropTypes.func.isRequired,\n  onAddFolderNode: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n  navRate: PropTypes.number,\n  inResizing: PropTypes.bool.isRequired,\n  currentRepoInfo: PropTypes.object.isRequired,\n};\n\nclass DirColumnNav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      opNode: null,\n      isDeleteDialogShow: false,\n      isAddFileDialogShow: false,\n      isAddFolderDialogShow: false,\n      isRenameDialogShow: false,\n      isNodeImagePopupOpen: false,\n      imageNodeItems: [],\n      imageIndex: 0,\n      isCopyDialogShow: false,\n      isMoveDialogShow: false,\n      isMutipleOperation: false,\n    };\n    this.isNodeMenuShow = true;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({opNode: nextProps.currentNode});\n  }\n\n  onNodeClick = (node) => {\n    this.setState({opNode: node});\n    if (Utils.imageCheck(node.object.name)) {\n      this.showNodeImagePopup(node);\n      return;\n    }\n    this.props.onNodeClick(node);\n  }\n\n  onMenuItemClick = (operation, node) => {\n    this.setState({opNode: node});\n    switch (operation) {\n      case 'New Folder':\n        if (!node) {\n          this.onAddFolderToggle('root');\n        } else {\n          this.onAddFolderToggle();\n        }\n        break;\n      case 'New File':\n        if (!node) {\n          this.onAddFileToggle('root');\n        } else {\n          this.onAddFileToggle();\n        }\n        break;\n      case 'Rename':\n        this.onRenameToggle();\n        break;\n      case 'Delete':\n        this.onDeleteToggle();\n        break;\n      case 'Copy':\n        this.onCopyToggle();\n        break;\n      case 'Move':\n        this.onMoveToggle();\n        break;\n      case 'Open in New Tab':\n        this.onOpenFile(node);\n        break;\n    }\n  }\n\n  onAddFileToggle = (type) => {\n    if (type === 'root') {\n      let root = this.props.treeData.root;\n      this.setState({\n        isAddFileDialogShow: !this.state.isAddFileDialogShow,\n        opNode: root,\n      });\n    } else {\n      this.setState({isAddFileDialogShow: !this.state.isAddFileDialogShow});\n    }\n  }\n  \n  onAddFolderToggle = (type) => {\n    if (type === 'root') {\n      let root = this.props.treeData.root;\n      this.setState({\n        isAddFolderDialogShow: !this.state.isAddFolderDialogShow,\n        opNode: root,\n      });\n    } else {\n      this.setState({isAddFolderDialogShow: !this.state.isAddFolderDialogShow});\n    }\n  }\n\n  onRenameToggle = () => {\n    this.setState({isRenameDialogShow: !this.state.isRenameDialogShow});\n  }\n\n  onDeleteToggle = () => {\n    this.setState({isDeleteDialogShow: !this.state.isDeleteDialogShow});\n  }\n\n  onCopyToggle = () => {\n    this.setState({isCopyDialogShow: !this.state.isCopyDialogShow})\n  }\n\n  onMoveToggle = () => {\n    this.setState({isMoveDialogShow: !this.state.isMoveDialogShow})\n  }\n\n  onAddFolderNode = (dirPath) => {\n    this.setState({isAddFolderDialogShow: !this.state.isAddFolderDialogShow});\n    this.props.onAddFolderNode(dirPath);\n  }\n\n  onAddFileNode = (filePath, isDraft) => {\n    this.setState({isAddFileDialogShow: !this.state.isAddFileDialogShow});\n    this.props.onAddFileNode(filePath, isDraft);\n  }\n\n  onRenameNode = (newName) => {\n    this.setState({isRenameDialogShow: !this.state.isRenameDialogShow});\n    let node = this.state.opNode;\n    this.props.onRenameNode(node, newName);\n  }\n\n  onDeleteNode = () => {\n    this.setState({isDeleteDialogShow: !this.state.isDeleteDialogShow});\n    let node = this.state.opNode;\n    this.props.onDeleteNode(node);\n  }\n\n  onOpenFile = (node) => {\n    let newUrl = siteRoot + 'lib/' + this.props.repoID + '/file' + Utils.encodePath(node.path);\n    window.open(newUrl, '_blank');\n  }\n\n  checkDuplicatedName = (newName) => {\n    let node = this.state.opNode;\n    // root node to new node conditions: parentNode is null, \n    let parentNode = node.parentNode ? node.parentNode : node;\n    let childrenObject = parentNode.children.map(item => {\n      return item.object;\n    });\n    let isDuplicated = childrenObject.some(object => {\n      return object.name === newName;\n    });\n    return isDuplicated;\n  }\n\n  showNodeImagePopup = (node) => {\n    let childrenNode = node.parentNode.children;\n    let items = childrenNode.filter((item) => {\n      return Utils.imageCheck(item.object.name);\n    });\n    let imageNames = items.map((item) => {\n      return item.object.name;\n    })\n    this.setState({\n      isNodeImagePopupOpen: true,\n      imageNodeItems: this.prepareImageItems(node),\n      imageIndex: imageNames.indexOf(node.object.name)\n    });\n  }\n\n  prepareImageItems = (node) => {\n    let childrenNode = node.parentNode.children;\n    let items = childrenNode.filter((item) => {\n      return Utils.imageCheck(item.object.name);\n    });\n\n    const useThumbnail = !this.props.currentRepoInfo.encrypted;\n    let prepareItem = (item) => {\n      const name = item.object.name;\n\n      const path = Utils.encodePath(Utils.joinPath(node.parentNode.path, name));\n      const fileExt = name.substr(name.lastIndexOf('.') + 1).toLowerCase();\n      const isGIF = fileExt === 'gif';\n\n      const repoID = this.props.repoID;\n      let src = '';\n      if (useThumbnail && !isGIF) {\n        src = `${siteRoot}thumbnail/${repoID}/${thumbnailSizeForOriginal}${path}`;\n      } else {\n        src = `${siteRoot}repo/${repoID}/raw${path}`;\n      }\n\n      return {\n        'name': name,\n        'url': `${siteRoot}lib/${repoID}/file${path}`,\n        'src': src\n      };\n    };\n\n    return items.map((item) => { return prepareItem(item); });\n  }\n\n  closeNodeImagePopup = () => {\n    this.setState({\n      isNodeImagePopupOpen: false\n    });\n  }\n\n  moveToPrevImage = () => {\n    const imageItemsLength = this.state.imageNodeItems.length;\n    this.setState((prevState) => ({\n      imageIndex: (prevState.imageIndex + imageItemsLength - 1) % imageItemsLength\n    }));\n  }\n\n  moveToNextImage = () => {\n    const imageItemsLength = this.state.imageNodeItems.length;\n    this.setState((prevState) => ({\n      imageIndex: (prevState.imageIndex + 1) % imageItemsLength\n    }));\n  }\n\n  render() {\n    let flex = this.props.navRate ? '0 0 ' + this.props.navRate * 100 + '%' : '0 0 25%';\n    const select = this.props.inResizing ? 'none' : '';\n\n    const imageNodeItems = this.state.imageNodeItems;\n    const imageIndex = this.state.imageIndex;\n    const imageItemsLength = imageNodeItems.length; \n    const imageCaption = imageItemsLength && (\n      <Fragment>\n        <span>{gettext('%curr% of %total%').replace('%curr%', imageIndex + 1).replace('%total%', imageItemsLength)}</span>\n        <br />\n        <a href={imageNodeItems[imageIndex].url} target=\"_blank\">{gettext('Open in New Tab')}</a>\n      </Fragment>\n    );\n\n    return (\n      <Fragment>\n        <div className=\"dir-content-nav\" role=\"navigation\" style={{flex: (flex), userSelect: select}}>\n          {this.props.isTreeDataLoading ? \n            (<Loading/>) :\n            (<TreeView\n              repoPermission={this.props.repoPermission}\n              isNodeMenuShow={this.isNodeMenuShow}\n              treeData={this.props.treeData}\n              currentPath={this.props.currentPath}\n              onNodeClick={this.onNodeClick}\n              onNodeExpanded={this.props.onNodeExpanded}\n              onNodeCollapse={this.props.onNodeCollapse}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.onFreezedItem}\n              onUnFreezedItem={this.onUnFreezedItem}\n              onItemMove={this.props.onItemMove}\n              currentRepoInfo={this.props.currentRepoInfo}\n            />)\n          }\n        </div>\n        {this.state.isAddFolderDialogShow && (\n          <ModalPortal>\n            <CreateFolder\n              parentPath={this.state.opNode.path}\n              onAddFolder={this.onAddFolderNode}\n              checkDuplicatedName={this.checkDuplicatedName}\n              addFolderCancel={this.onAddFolderToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isAddFileDialogShow && (\n          <ModalPortal>\n            <CreateFile\n              parentPath={this.state.opNode.path}\n              onAddFile={this.onAddFileNode}\n              checkDuplicatedName={this.checkDuplicatedName}\n              addFileCancel={this.onAddFileToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isRenameDialogShow && (\n          <ModalPortal>\n            <Rename\n              currentNode={this.state.opNode}\n              onRename={this.onRenameNode}\n              checkDuplicatedName={this.checkDuplicatedName}\n              toggleCancel={this.onRenameToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isDeleteDialogShow && (\n          <ModalPortal>\n            <Delete\n              currentNode={this.state.opNode}\n              handleSubmit={this.onDeleteNode}\n              toggleCancel={this.onDeleteToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isCopyDialogShow && (\n          <ModalPortal>\n            <Copy\n              path={this.state.opNode.parentNode.path}\n              repoID={this.props.repoID}\n              dirent={this.state.opNode.object}\n              onItemCopy={this.props.onItemCopy}\n              repoEncrypted={this.props.currentRepoInfo.encrypted}\n              onCancelCopy={this.onCopyToggle}\n              isMutipleOperation={this.state.isMutipleOperation}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isMoveDialogShow && (\n          <ModalPortal>\n            <Move\n              path={this.state.opNode.parentNode.path}\n              repoID={this.props.repoID}\n              dirent={this.state.opNode.object}\n              onItemMove={this.props.onItemMove}\n              repoEncrypted={this.props.currentRepoInfo.encrypted}\n              onCancelMove={this.onMoveToggle}\n              isMutipleOperation={this.state.isMutipleOperation}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isNodeImagePopupOpen && (\n            <Lightbox\n              mainSrc={imageNodeItems[imageIndex].src}\n              imageCaption={imageCaption}\n              imageTitle={imageNodeItems[imageIndex].name}\n              nextSrc={imageNodeItems[(imageIndex + 1) % imageItemsLength].src}\n              prevSrc={imageNodeItems[(imageIndex + imageItemsLength - 1) % imageItemsLength].src}\n              onCloseRequest={this.closeNodeImagePopup}\n              onMovePrevRequest={this.moveToPrevImage}\n              onMoveNextRequest={this.moveToNextImage}\n              imagePadding={70}\n              imageLoadErrorMessage={gettext('The image could not be loaded.')}\n              prevLabel={gettext('Previous (Left arrow key)')}\n              nextLabel={gettext('Next (Right arrow key)')}\n              closeLabel={gettext('Close (Esc)')}\n              zoomInLabel={gettext('Zoom in')}\n              zoomOutLabel={gettext('Zoom out')}\n            />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nDirColumnNav.defaultProps={\n  navRate: 0.25\n};\n\nDirColumnNav.propTypes = propTypes;\n\nexport default DirColumnNav;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dir-view-mode/dir-column-nav.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport WikiMarkdownViewer from '../wiki-markdown-viewer';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  hash: PropTypes.string,\n  isDraft: PropTypes.bool,\n  hasDraft: PropTypes.bool,\n  goDraftPage: PropTypes.func.isRequired,\n  isFileLoading: PropTypes.bool.isRequired,\n  isFileLoadedErr: PropTypes.bool.isRequired,\n  filePermission: PropTypes.bool,\n  content: PropTypes.string,\n  lastModified: PropTypes.string,\n  latestContributor: PropTypes.string,\n  onLinkClick: PropTypes.func.isRequired,\n};\n\nclass DirColumnFile extends React.Component {\n\n  componentDidMount() {\n    if (this.props.hash) {\n      let hash = this.props.hash;\n      setTimeout(function() {\n        window.location.hash = hash;\n      }, 500);\n    }\n  }\n\n  onEditClick = (e) => {\n    e.preventDefault();\n    let { path, repoID } = this.props;\n    let url = siteRoot + 'lib/' + repoID + '/file' + Utils.encodePath(path) + '?mode=edit';\n    window.open(url);\n  }\n\n  onNewDraft = (e) => {\n    e.preventDefault();\n    let { path, repoID } = this.props;\n    seafileAPI.createDraft(repoID, path).then(res => {\n      window.location.href = siteRoot + 'lib/' + res.data.origin_repo_id + '/file' + res.data.draft_file_path + '?mode=edit';\n    });\n  }\n\n  onOpenFile = (e) => {\n    e.preventDefault();\n    let { path, repoID } = this.props;\n    let newUrl = siteRoot + 'lib/' + repoID + '/file' + Utils.encodePath(path);\n    window.open(newUrl, '_blank');\n  }\n\n  goDraftPage = (e) => {\n    e.preventDefault();\n    this.props.goDraftPage();\n  }\n  \n  render() {\n    if (this.props.isFileLoadedErr) {\n      return (\n        <div className=\"message err-tip\">{gettext('File does not exist.')}</div>\n      );\n    }\n    return (\n      <WikiMarkdownViewer\n        isTOCShow={false}\n        isFileLoading={this.props.isFileLoading}\n        markdownContent={this.props.content}\n        lastModified = {this.props.lastModified}\n        latestContributor={this.props.latestContributor}\n        onLinkClick={this.props.onLinkClick}\n      >\n        <Fragment>\n          <span className='wiki-open-file position-fixed' onClick={this.onOpenFile}>\n            <i className=\"fas fa-expand-arrows-alt\"></i>\n          </span>\n          {(!this.props.isDraft && this.props.hasDraft) &&\n            <div className='seafile-btn-view-review text-center mt-2'>\n              <div className='tag tag-green'>\n                {gettext('This file is in draft stage.')}\n                <span className=\"ml-2\" onClick={this.goDraftPage}>{gettext('View Draft')}</span>\n              </div>\n            </div>\n          }\n        </Fragment>\n      </WikiMarkdownViewer>\n    );\n  }\n}\n\nDirColumnFile.propTypes = propTypes;\n\nexport default DirColumnFile;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dir-view-mode/dir-column-file.js","import React,{ Fragment } from 'react';\nimport { Popover } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport cookie from 'react-cookies';\nimport { gettext, siteRoot, username, loginUrl, canAddRepo } from '../../utils/constants';\nimport { Link } from '@reach/router';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport ModalPortal from '../../components/modal-portal';\nimport Group from '../../models/group';\nimport Repo from '../../models/repo';\nimport CommonToolbar from '../../components/toolbar/common-toolbar';\nimport CreateRepoDialog from '../../components/dialog/create-repo-dialog';\nimport CreateDepartmentRepoDialog from '../../components/dialog/create-department-repo-dialog';\nimport DismissGroupDialog from '../../components/dialog/dismiss-group-dialog';\nimport RenameGroupDialog from '../../components/dialog/rename-group-dialog';\nimport TransferGroupDialog from '../../components/dialog/transfer-group-dialog';\n// import ImportMembersDialog from '../../components/dialog/import-members-dialog';\nimport ManageMembersDialog from '../../components/dialog/manage-members-dialog';\nimport SharedRepoListView from '../../components/shared-repo-list-view/shared-repo-list-view';\nimport LibDetail from '../../components/dirent-detail/lib-details';\n\nimport '../../css/group-view.css';\n\nconst propTypes = {\n  onShowSidePanel: PropTypes.func.isRequired,\n  onSearchedClick: PropTypes.func.isRequired,\n  onGroupChanged: PropTypes.func.isRequired,\n  onTabNavClick: PropTypes.func.isRequired,\n  groupID: PropTypes.string,\n};\n\nclass GroupView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      errMessage: '',\n      emptyTip: null,\n      currentGroup: null,\n      currentRepo: null,\n      isStaff: false,\n      isOwner: false,\n      sortBy: cookie.load('seafile-repo-sort-by') || 'name', // 'name' or 'time'\n      sortOrder: cookie.load('seafile-repo-sort-order') || 'asc', // 'asc' or 'desc'\n      repoList: [],\n      libraryType: 'group',\n      isCreateRepoDialogShow: false,\n      isDepartmentGroup: false,\n      showGroupDropdown: false,\n      showGroupMembersPopover: false,\n      showRenameGroupDialog: false,\n      showDismissGroupDialog: false,\n      showTransferGroupDialog: false,\n      // showImportMembersDialog: false,\n      showManageMembersDialog: false,\n      groupMembers: [],\n      isShowDetails: false,\n    };\n  }\n\n  componentDidMount() {\n    let groupID = this.props.groupID;\n    this.loadGroup(groupID);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.groupID !== this.props.groupID) {\n      this.loadGroup(nextProps.groupID);\n    }\n  }\n\n  loadGroup = (groupID) => {\n    seafileAPI.getGroup(groupID).then((res) => {\n      let currentGroup = new Group(res.data);\n      let emptyTip = this.getEmptyTip(currentGroup);\n      let isStaff  = currentGroup.admins.indexOf(username) > -1;  //for item operations\n      let isOwner = currentGroup.owner === username ? true : false;\n      let isDepartmentGroup = currentGroup.parent_group_id !== 0;\n      this.setState({\n        emptyTip: emptyTip,\n        currentGroup: currentGroup,\n        isStaff: isStaff,\n        isDepartmentGroup: isDepartmentGroup,\n        isOwner: isOwner,\n      });\n      this.loadRepos(groupID);\n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            isLoading: false,\n            errMessage: gettext('Permission denied')\n          });\n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            isLoading: false,\n            errMessage: gettext('Error')\n          });\n        }\n      } else {\n        this.setState({\n          isLoading: false,\n          errMessage: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  loadRepos = (groupID) => {\n    this.setState({isLoading: true});\n    seafileAPI.listGroupRepos(groupID).then((res) => {\n      let repoList = res.data.map(item => {\n        let repo = new Repo(item);\n        return repo;\n      });\n      this.setState({\n        isLoading: false,\n        repoList: Utils.sortRepos(repoList, this.state.sortBy, this.state.sortOrder)\n      });\n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            isLoading: false,\n            errMessage: gettext('Permission denied')\n          });\n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            isLoading: false,\n            errMessage: gettext('Error')\n          });\n        }\n      } else {\n        this.setState({\n          isLoading: false,\n          errMessage: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  getEmptyTip = (currentGroup) => {\n    let emptyTip = null;\n    if (currentGroup) {\n      if (currentGroup.parent_group_id === 0) {\n        emptyTip = (\n          <div className=\"empty-tip\">\n            <h2>{gettext('No library is shared to this group')}</h2>\n            <p>{gettext('You can share libraries by clicking the \"New Library\" button above or the \"Share\" icon on your libraries list.')}</p>\n            <p>{gettext('Libraries shared as writable can be downloaded and synced by other group members. Read only libraries can only be downloaded, updates by others will not be uploaded.')}</p>\n          </div>\n        );\n      } else {\n        if (currentGroup.admins.indexOf(username) == -1) {  // is a member of this group\n          emptyTip = (\n            <div className=\"empty-tip\">\n              <h2>{gettext('No libraries')}</h2>\n            </div>\n          );\n        } else {\n          emptyTip = (\n            <div className=\"empty-tip\">\n              <h2>{gettext('No libraries')}</h2>\n              <p>{gettext('You can create libraries by clicking the \"New Library\" button above.')}</p>\n            </div>\n          );\n        }\n      }\n    }\n    return emptyTip;\n  }\n\n  onCreateRepoToggle = () => {\n    this.setState({isCreateRepoDialogShow: !this.state.isCreateRepoDialogShow});\n  }\n\n  onCreateRepo = (repo, groupOwnerType) => {\n    let groupId = this.props.groupID;\n    if (groupOwnerType && groupOwnerType === 'department') {\n      seafileAPI.createGroupOwnedLibrary(groupId, repo).then(res => { //need modify endpoint api\n        let object = {\n          repo_id: res.data.id,\n          repo_name: res.data.name,\n          owner_name: res.data.group_name,\n          owner_email: res.data.owner,\n          permission: res.data.permission,\n          mtime: res.data.mtime,\n          size: res.data.size,\n          encrypted: res.data.encrypted,\n        };\n        let repo = new Repo(object);\n        let repoList = this.addRepoItem(repo);\n        this.setState({repoList: repoList});\n      }).then(() => {\n        //todo\n      });\n\n    } else {\n      seafileAPI.createGroupRepo(groupId, repo).then(res => {\n        let repo = new Repo(res.data);\n        let repoList = this.addRepoItem(repo);\n        this.setState({repoList: repoList});\n      }).catch(() => {\n        //todo\n      });\n    }\n    this.onCreateRepoToggle();\n  }\n\n  onItemDelete = (repo) => {\n    let groupID = this.props.groupID;\n    seafileAPI.deleteGroupOwnedLibrary(groupID, repo.repo_id).then(() => {\n      let repoList = this.state.repoList.filter(item => {\n        return item.repo_id !== repo.repo_id;\n      });\n      this.setState({repoList: repoList});\n    }).catch(() => {\n      // todo;\n    });\n  }\n\n  addRepoItem = (repo) => {\n    let newRepoList = this.state.repoList.map(item => {return item;});\n    newRepoList.unshift(repo);\n    return newRepoList;\n  }\n\n  onItemUnshare = (repo) => {\n    let group = this.state.currentGroup;\n    seafileAPI.unshareRepo(repo.repo_id, {share_type: 'group', group_id: group.id}).then(() => {\n      let repoList = this.state.repoList.filter(item => {\n        return item.repo_id !== repo.repo_id;\n      });\n      this.setState({repoList: repoList});\n    });\n  }\n\n  onItemRename = (repo, newName) => {\n    seafileAPI.renameGroupOwnedLibrary(this.props.groupID, repo.repo_id, newName).then(res => {\n      let repoList = this.state.repoList.map(item => {\n        if (item.repo_id === repo.repo_id) {\n          item.repo_name = newName;\n        }\n        return item;\n      });\n      this.setState({repoList: repoList});\n    }).catch(() => {\n      // todo\n    });\n  }\n\n  onTabNavClick = (tabName) => {\n    this.props.onTabNavClick(tabName);\n  }\n  \n  toggleGroupDropdown = () => {\n    this.setState({\n      showGroupDropdown: !this.state.showGroupDropdown\n    });\n  }\n\n  toggleDismissGroupDialog = () => {\n    this.setState({\n      showDismissGroupDialog: !this.state.showDismissGroupDialog,\n      showGroupDropdown: false,\n    });\n  }\n\n  toggleRenameGroupDialog = () => {\n    this.setState({\n      showRenameGroupDialog: !this.state.showRenameGroupDialog,\n      showGroupDropdown: false,\n    });\n  }\n\n  toggleTransferGroupDialog = () => {\n    this.setState({\n      showTransferGroupDialog: !this.state.showTransferGroupDialog,\n      showGroupDropdown: false,\n    });\n  }\n\n  // toggleImportMembersDialog= () => {\n  //   this.setState({\n  //     showImportMembersDialog: !this.state.showImportMembersDialog\n  //   });\n  // }\n\n  toggleManageMembersDialog = () => {\n    this.setState({\n      showManageMembersDialog: !this.state.showManageMembersDialog,\n      showGroupDropdown: false,\n    });\n  }\n\n  listGroupMembers = () => {\n    seafileAPI.listGroupMembers(this.props.groupID).then((res) => {\n      this.setState({\n        groupMembers: res.data\n      });\n    });\n  }\n\n  toggleGroupMembersPopover = (state) => {\n    if (state === 'open') {\n      this.listGroupMembers();\n      this.setState({\n        showGroupMembersPopover: true\n      });\n    } else {\n      this.setState({\n        showGroupMembersPopover: false\n      });\n    }\n  }\n\n  onItemDetails = (repo) => {\n    this.setState({\n      isShowDetails: true,\n      currentRepo: repo,\n    });\n  }\n\n  closeDetails = () => {\n    this.setState({isShowDetails: false});\n  }\n\n  sortItems = (sortBy, sortOrder) => {\n    cookie.save('seafile-repo-sort-by', sortBy);\n    cookie.save('seafile-repo-sort-order', sortOrder);\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: sortOrder,\n      repoList: Utils.sortRepos(this.state.repoList, sortBy, sortOrder)\n    });\n  }\n\n  translateRole = (role) => {\n    if (role === 'Admin') {\n      return gettext('Admin');\n    }  \n    else if (role === 'Member') {\n      return gettext('Member');\n    }\n    else if (role === 'Owner') {\n      return gettext('Owner');\n    }\n  }\n\n  render() {\n    let { errMessage, emptyTip, currentGroup } = this.state;\n    let isShowSettingIcon = !(currentGroup && currentGroup.parent_group_id !== 0 && currentGroup.admins.indexOf(username) === -1);\n    let that = this;\n    return (\n      <Fragment>\n        <div className=\"main-panel-north border-left-show\">\n          <div className=\"cur-view-toolbar\">\n            <span className=\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\" title=\"Side Nav Menu\" onClick={this.props.onShowSidePanel}></span>\n            <div className=\"operation\">\n              {canAddRepo && (\n                <button className=\"btn btn-secondary operation-item\" title={gettext('New Library')} onClick={this.onCreateRepoToggle}>\n                  <i className=\"fas fa-plus-square text-secondary mr-1\"></i>{gettext('New Library')}\n                </button>\n              )}\n            </div>\n          </div>\n          <CommonToolbar onSearchedClick={this.props.onSearchedClick} />\n        </div>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              {currentGroup && (\n                <Fragment>\n                  <div className=\"path-container\">\n                    <Link to={`${siteRoot}groups/`} onClick={() => this.onTabNavClick('groups')}>{gettext('Groups')}</Link>\n                    <span className=\"path-split\">/</span>\n                    <span>{currentGroup.name}</span>\n                    {currentGroup.parent_group_id !== 0 && (\n                      <span className=\"department-group-icon fas fa-building\" title={gettext('This is a special group representing a department.')}></span>\n                    )}\n                  </div>\n                  <div className=\"path-tool\">\n                    { (isShowSettingIcon && this.state.isStaff) &&\n                    <React.Fragment>\n                      <a href=\"#\" className=\"sf2-icon-cog1 action-icon group-top-action-icon\" title=\"Settings\" id=\"settings\"\n                        onClick={this.toggleGroupDropdown}></a>\n                      <Popover placement=\"bottom\" isOpen={this.state.showGroupDropdown} target=\"settings\"\n                        toggle={this.toggleGroupDropdown} hideArrow={true} className=\"sf-popover\">\n                        <div className=\"sf-popover-hd sf-popover-title\">\n                          <span>{gettext('Settings')}</span>\n                          <a href=\"#\" className=\"sf-popover-close js-close sf2-icon-x1 action-icon\"\n                            onClick={this.toggleGroupDropdown}></a>\n                        </div>\n                        <div className=\"sf-popover-con\">\n                          <ul className=\"sf-popover-list\">\n                            <li><a href=\"#\" className=\"sf-popover-item\" onClick={this.toggleRenameGroupDialog} >{gettext('Rename')}</a></li>\n                            {\n                              this.state.isOwner &&\n                              <li><a href=\"#\" className=\"sf-popover-item\" onClick={this.toggleTransferGroupDialog} >{gettext('Transfer')}</a></li>\n                            }\n                          </ul>\n                          <ul className=\"sf-popover-list\">\n                            {/* <li><a href=\"#\" className=\"sf-popover-item\" onClick={this.toggleImportMembersDialog} >{gettext('Import Members')}</a></li> */}\n                            <li><a href=\"#\" className=\"sf-popover-item\" onClick={this.toggleManageMembersDialog} >{gettext('Manage Members')}</a></li>\n                          </ul>\n                          {\n                            this.state.isOwner &&\n                            <ul className=\"sf-popover-list\">\n                              <li><a href=\"#\" className=\"sf-popover-item\" onClick={this.toggleDismissGroupDialog}>{gettext('Dismiss')}</a></li>\n                            </ul>\n                          }\n                        </div>\n                      </Popover>\n                    </React.Fragment>\n                    }\n                    <a href=\"#\"\n                      className=\"sf2-icon-user2 action-icon group-top-action-icon\"\n                      title={gettext('Members')} id=\"groupMembers\"\n                      onClick={() => this.toggleGroupMembersPopover('open')}>\n                    </a>\n                    <Popover placement=\"bottom\" isOpen={this.state.showGroupMembersPopover} target=\"groupMembers\"\n                      toggle={this.toggleGroupMembersPopover} hideArrow={true} className=\"sf-popover\">\n                      <div className=\"sf-popover-hd sf-popover-title group-member-list-header\">\n                        <span>{gettext('Members')}</span>\n                        <a href=\"#\" className=\"sf-popover-close js-close sf2-icon-x1 action-icon\"\n                          onClick={this.toggleGroupMembersPopover}></a>\n                      </div>\n                      <div className=\"sf-popover-con\">\n                        <ul className=\"sf-popover-list group-member-list\">\n                          {\n                            this.state.groupMembers.map(function(item, index) {\n                              return (\n                                <li key={index}>\n                                  <a href=\"#\" className=\"sf-popover-item user-item\">\n                                    <img src={item.avatar_url} alt=\"\" className=\"group-member-avatar avatar\"/>\n                                    <span className=\"txt-item ellipsis\">\n                                      <span className=\"group-member-name\">{item.name}</span>\n                                      <span className=\"group-member-admin\">{that.translateRole(item.role)}</span>\n                                    </span>\n                                  </a>\n                                </li>\n                              );\n                            })\n                          }\n                        </ul>\n                      </div>\n                    </Popover>\n                  </div>\n                </Fragment>\n              )}\n            </div>\n            <div className=\"cur-view-content\">\n              {this.state.isLoading && <Loading />}\n              {(!this.state.isLoading && errMessage) && errMessage}\n              {(!this.state.isLoading && this.state.repoList.length === 0) && emptyTip}\n              {(!this.state.isLoading && this.state.repoList.length > 0) &&\n                <SharedRepoListView \n                  repoList={this.state.repoList} \n                  currentGroup={this.state.currentGroup} \n                  sortBy={this.state.sortBy}\n                  sortOrder={this.state.sortOrder}\n                  sortItems={this.sortItems}\n                  onItemUnshare={this.onItemUnshare}\n                  onItemDelete={this.onItemDelete}\n                  onItemDetails={this.onItemDetails}\n                  onItemRename={this.onItemRename}\n                />\n              }\n            </div>\n          </div>\n          {this.state.isShowDetails && (\n            <div className=\"cur-view-detail\">\n              <LibDetail currentRepo={this.state.currentRepo} closeDetails={this.closeDetails}/>\n            </div>\n          )}\n        </div>\n        {this.state.isCreateRepoDialogShow && !this.state.isDepartmentGroup && (\n          <ModalPortal>\n            <CreateRepoDialog \n              libraryType={this.state.libraryType}\n              onCreateToggle={this.onCreateRepoToggle}\n              onCreateRepo={this.onCreateRepo}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isCreateRepoDialogShow && this.state.isDepartmentGroup &&\n          <CreateDepartmentRepoDialog \n            isAdmin={this.state.isAdmin}\n            onCreateToggle={this.onCreateRepoToggle}\n            onCreateRepo={this.onCreateRepo}\n          />\n        }\n        {this.state.showRenameGroupDialog &&\n          <RenameGroupDialog\n            showRenameGroupDialog={this.state.showRenameGroupDialog}\n            toggleRenameGroupDialog={this.toggleRenameGroupDialog}\n            loadGroup={this.loadGroup}\n            groupID={this.props.groupID}\n            onGroupChanged={this.props.onGroupChanged}\n            currentGroupName={currentGroup.name}\n          />\n        }\n        {this.state.showDismissGroupDialog &&\n          <DismissGroupDialog\n            showDismissGroupDialog={this.state.showDismissGroupDialog}\n            toggleDismissGroupDialog={this.toggleDismissGroupDialog}\n            loadGroup={this.loadGroup}\n            groupID={this.props.groupID}\n            onGroupChanged={this.props.onGroupChanged}\n          />\n        }\n        {this.state.showTransferGroupDialog &&\n          <TransferGroupDialog\n            toggleTransferGroupDialog={this.toggleTransferGroupDialog}\n            groupID={this.props.groupID}\n            onGroupChanged={this.props.onGroupChanged}\n          />\n        }\n        {/* this.state.showImportMembersDialog &&\n          <ImportMembersDialog\n            toggleImportMembersDialog={this.toggleImportMembersDialog}\n            groupID={this.props.groupID}\n            onGroupChanged={this.props.onGroupChanged}\n          />\n        */}\n        {this.state.showManageMembersDialog &&\n          <ManageMembersDialog\n            toggleManageMembersDialog={this.toggleManageMembersDialog}\n            groupID={this.props.groupID}\n            onGroupChanged={this.props.onGroupChanged}\n            isOwner={this.state.isOwner}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nGroupView.propTypes = propTypes;\n\nexport default GroupView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/groups/group-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext, maxFileName } from '../../utils/constants';\n\nconst propTypes = {\n  onCreateRepo: PropTypes.func.isRequired,\n  onCreateToggle: PropTypes.func.isRequired\n};\n\nclass CreateDepartmentRepoDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoName: '',\n      errMessage: '',\n    };\n    this.newInput = React.createRef();\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      repoName: e.target.value, \n    });\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateRepoName();\n    if (isValid) {\n      let repo = this.createRepo(this.state.repoName);\n      this.props.onCreateRepo(repo, 'department');\n    }\n  } \n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  toggle = () => {\n    this.props.onCreateToggle();\n  }\n\n  componentDidMount = () => {\n    this.newInput.focus();\n  }\n\n  validateRepoName = () => {\n    let errMessage = '';\n    let repoName = this.state.repoName.trim();\n    if (!repoName.length) {\n      errMessage = gettext('Name is required');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n    if (repoName.indexOf('/') > -1) {\n      errMessage = gettext('Name should not include \\'/\\'.');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n\n    return true;\n  }\n\n  createRepo = (repoName) => {\n    let repo = { repo_name: repoName };\n    return repo;\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Department Library')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"repo-name\">{gettext('Name')}</Label>\n              <Input \n                id=\"repo-name\" \n                onKeyPress={this.handleKeyPress} \n                innerRef={input => {this.newInput = input;}} \n                value={this.state.repoName} \n                onChange={this.handleChange}\n                maxLength={maxFileName}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nCreateDepartmentRepoDialog.propTypes = propTypes;\n\nexport default CreateDepartmentRepoDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/create-department-repo-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\n\nclass DismissGroupDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  dismissGroup = () => {\n    let that = this;\n    seafileAPI.deleteGroup(this.props.groupID).then((res)=> {\n      that.props.onGroupChanged();\n    });\n  }\n\n  render() {\n    return(\n      <Modal isOpen={this.props.showDismissGroupDialog} toggle={this.props.toggleDismissGroupDialog}>\n        <ModalHeader>{gettext('Dismiss Group')}</ModalHeader>\n        <ModalBody>\n          <span>{gettext('Really want to dismiss this group?')}</span>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleDismissGroupDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.dismissGroup}>{gettext('Dismiss')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst DismissGroupDialogPropTypes = {\n  showDismissGroupDialog: PropTypes.bool.isRequired,\n  toggleDismissGroupDialog: PropTypes.func.isRequired,\n  loadGroup: PropTypes.func.isRequired,\n  groupID: PropTypes.string.isRequired,\n  onGroupChanged: PropTypes.func.isRequired,\n};\n\nDismissGroupDialog.propTypes = DismissGroupDialogPropTypes;\n\nexport default DismissGroupDialog;\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/dismiss-group-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Input, Button } from 'reactstrap';\n\nclass RenameGroupDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      newGroupName: this.props.currentGroupName,\n    };\n  }\n\n  handleGroupNameChange = (event) => {\n    let name = event.target.value;\n    this.setState({\n      newGroupName: name\n    });\n  }\n\n  renameGroup = () => {\n    let name = this.state.newGroupName.trim();\n    if (name) {\n      let that = this;\n      seafileAPI.renameGroup(this.props.groupID, name).then((res)=> {\n        that.props.loadGroup(this.props.groupID);\n        that.props.onGroupChanged(res.data.id);\n      });\n    }\n    this.setState({\n      newGroupName: '',\n    });\n    this.props.toggleRenameGroupDialog();\n  }\n\n  handleKeyDown = (event) => {\n    if (event.keyCode === 13) {\n      this.renameGroup();\n    }\n  }\n\n  render() {\n    return(\n      <Modal isOpen={this.props.showRenameGroupDialog} toggle={this.props.toggleRenameGroupDialog}>\n        <ModalHeader>{gettext('Rename Group')}</ModalHeader>\n        <ModalBody>\n          <label htmlFor=\"newGroupName\">{gettext('Rename group to')}</label>\n          <Input type=\"text\" id=\"newGroupName\" value={this.state.newGroupName}\n            onChange={this.handleGroupNameChange} onKeyDown={this.handleKeyDown}/>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleRenameGroupDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.renameGroup}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst RenameGroupDialogPropTypes = {\n  showRenameGroupDialog: PropTypes.bool.isRequired,\n  toggleRenameGroupDialog: PropTypes.func.isRequired,\n  loadGroup: PropTypes.func.isRequired,\n  groupID: PropTypes.string.isRequired,\n  onGroupChanged: PropTypes.func.isRequired,\n  currentGroupName: PropTypes.string.isRequired,\n};\n\nRenameGroupDialog.propTypes = RenameGroupDialogPropTypes;\n\nexport default RenameGroupDialog;\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/rename-group-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext, isDocs } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  fileType: PropTypes.string,\n  parentPath: PropTypes.string.isRequired,\n  onAddFile: PropTypes.func.isRequired,\n  checkDuplicatedName: PropTypes.func.isRequired,\n  addFileCancel: PropTypes.func.isRequired,\n};\n\nclass CreateFile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      parentPath: '',\n      childName: props.fileType,\n      isDraft: false,\n      errMessage: '',\n    };\n    this.newInput = React.createRef();\n  }\n\n  componentDidMount() {\n    let parentPath = this.props.parentPath;\n    if (parentPath[parentPath.length - 1] === '/') {  // mainPanel\n      this.setState({parentPath: parentPath});\n    } else {\n      this.setState({parentPath: parentPath + '/'}); // sidePanel\n    }\n    this.newInput.focus();\n    this.newInput.setSelectionRange(0,0);\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      childName: e.target.value, \n    }) ;\n  }\n\n  handleSubmit = () => {\n    let isDuplicated = this.checkDuplicatedName();\n    let newName = this.state.childName;\n    if (isDuplicated) {\n      let errMessage = gettext('The name \"{name}\" is already taken. Please choose a different name.');\n      errMessage = errMessage.replace('{name}', Utils.HTMLescape(newName));\n      this.setState({errMessage: errMessage});\n    } else {\n      let path = this.state.parentPath + newName;\n      let isDraft = this.state.isDraft;\n      this.props.onAddFile(path, isDraft);\n    }\n  } \n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  handleCheck = () => {\n    let pos = this.state.childName.lastIndexOf('.');\n    \n    if (this.state.isDraft) {\n      // from draft to not draft\n      // case 1, normally, the file name is ended with `(draft)`, like `test(draft).md`\n      // case 2, the file name is not ended with `(draft)`, the user has deleted some characters, like `test(dra.md`\n      let p = this.state.childName.substring(pos-7, pos);\n      let fileName = this.state.childName.substring(0, pos-7);\n      let fileType = this.state.childName.substring(pos);\n      if (p === '(draft)') {\n        // remove `(draft)` from file name\n        this.setState({\n          childName: fileName + fileType, \n          isDraft: !this.state.isDraft\n        });\n      } else {\n        // don't change file name\n        this.setState({\n          isDraft: !this.state.isDraft\n        });\n      }\n    }\n    \n    if (!this.state.isDraft) {\n      // from not draft to draft\n      // case 1, test.md  ===> test(draft).md\n      // case 2, .md ===> (draft).md\n      // case 3, no '.' in the file name, don't change the file name\n      if (pos > 0) {\n        let fileName = this.state.childName.substring(0, pos);\n        let fileType = this.state.childName.substring(pos);\n        this.setState({\n          childName: fileName + '(draft)' + fileType,\n          isDraft: !this.state.isDraft\n        });\n      } else if (pos === 0 ) {\n        this.setState({\n          childName: '(draft)' + this.state.childName, \n          isDraft: !this.state.isdraft\n        });\n      } else {\n        this.setState({\n          isDraft: !this.state.isdraft\n        });\n      } \n    }\n  }\n\n  toggle = () => {\n    this.props.addFileCancel();\n  }\n\n  checkDuplicatedName = () => {\n    let isDuplicated = this.props.checkDuplicatedName(this.state.childName);\n    return isDuplicated;\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('New File')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"fileName\">{gettext('Name')}</Label>\n              <Input \n                id=\"fileName\" \n                onKeyPress={this.handleKeyPress} \n                innerRef={input => {this.newInput = input;}} \n                value={this.state.childName} \n                onChange={this.handleChange}\n              />\n            </FormGroup>\n            {this.props.fileType == '.md' && isDocs && (\n              <FormGroup check>\n                <Label check>\n                  <Input type=\"checkbox\" onChange={this.handleCheck}/>{'  '}{gettext('This is a draft')}\n                </Label>\n              </FormGroup>\n            )}\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\" className=\"mt-2\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nCreateFile.propTypes = propTypes;\n\nexport default CreateFile;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/create-file-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api.js';\nimport UserSelect from '../user-select';\n\nimport '../../css/transfer-group-dialog.css';\n\nconst propTypes = {\n  groupID: PropTypes.string.isRequired,\n  toggleTransferGroupDialog: PropTypes.func.isRequired,\n  onGroupChanged: PropTypes.func.isRequired\n};\n\nclass TransferGroupDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errMessage: '',\n    };\n    this.options = [];\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({\n      selectedOption: option,\n      errMessage: '',\n    });\n    this.options = [];\n  }\n\n  transferGroup = () => {\n    const email = this.state.selectedOption && this.state.selectedOption.email;\n    if (email) {\n      seafileAPI.transferGroup(this.props.groupID, email).then((res) => {\n        this.props.toggleTransferGroupDialog();\n      }).catch((error) => {\n        if (error.response) {\n          this.setState({\n            errMessage: error.response.data.error_msg\n          });\n        }\n      });\n    }\n  }\n\n  toggle = () => {\n    this.props.toggleTransferGroupDialog();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Transfer Group')}</ModalHeader>\n        <ModalBody>\n          <p>{gettext('Transfer group to')}</p>\n          <UserSelect\n            ref=\"userSelect\"\n            isMulti={false}\n            className=\"reviewer-select\"\n            placeholder={gettext('Please enter 1 or more character')}\n            onSelectChange={this.handleSelectChange}\n          />\n          <div className=\"error\">{this.state.errMessage}</div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Close')}</Button>\n          <Button color=\"primary\" onClick={this.transferGroup}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nTransferGroupDialog.propTypes = propTypes;\n\nexport default TransferGroupDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/transfer-group-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Table } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api.js';\nimport RoleEditor from '../select-editor/role-editor';\nimport UserSelect from '../user-select.js';\nimport '../../css/manage-members-dialog.css';\n\nconst propTypes = {\n  groupID: PropTypes.string.isRequired,\n  toggleManageMembersDialog: PropTypes.func.isRequired,\n  onGroupChanged: PropTypes.func.isRequired,\n  isOwner: PropTypes.bool.isRequired,\n};\n\nclass ManageMembersDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupMembers: [],\n      selectedOption: null,\n      errMessage: [],\n      isItemFreezed: false,\n    };\n  }\n\n  onSelectChange = (option) => {\n    this.setState({\n      selectedOption: option,\n      errMessage: [],\n    });\n  }\n\n  addGroupMember = () => {\n    let emails = [];\n    for (let i = 0; i < this.state.selectedOption.length; i++) {\n      emails.push(this.state.selectedOption[i].email);\n    }\n    seafileAPI.addGroupMembers(this.props.groupID, emails).then((res) => {\n      this.onGroupMembersChange();\n      this.setState({\n        selectedOption: null,\n      });\n      this.refs.userSelect.clearSelect();\n      if (res.data.failed.length > 0) {\n        this.setState({\n          errMessage: res.data.failed\n        });\n      }\n    });\n  }\n\n  listGroupMembers = () => {\n    seafileAPI.listGroupMembers(this.props.groupID).then((res) => {\n      this.setState({\n        groupMembers: res.data\n      });\n    });\n  }\n\n  onGroupMembersChange = () => {\n    this.listGroupMembers();\n  }\n\n  toggleItemFreezed = (isFreezed) => {\n    this.setState({\n      isItemFreezed: isFreezed\n    });\n  }\n\n  toggle = () => {\n    this.props.toggleManageMembersDialog();\n  }\n\n  componentDidMount() {\n    this.listGroupMembers();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Manage group members')}</ModalHeader>\n        <ModalBody>\n          <p>{gettext('Add group member')}</p>\n          <div className='add-members'>\n            <UserSelect\n              placeholder={gettext('Select users...')}\n              onSelectChange={this.onSelectChange}\n              ref=\"userSelect\"\n              isMulti={true}\n              className=\"add-members-select\"\n            />\n            {this.state.selectedOption ?\n              <Button color=\"secondary\" onClick={this.addGroupMember}>{gettext('Submit')}</Button> :\n              <Button color=\"secondary\" disabled>{gettext('Submit')}</Button>\n            }\n          </div>\n          {\n            this.state.errMessage.length > 0 &&\n            this.state.errMessage.map((item, index = 0) => {\n              return (\n                <div className=\"group-error error\" key={index}>{item.error_msg}</div>\n              );\n            })\n          }\n          <div className=\"manage-members\">\n            <Table size=\"sm\" className=\"manage-members-table\">\n              <thead>\n                <tr>\n                  <th width=\"15%\"></th>\n                  <th width=\"45%\">{gettext('Name')}</th>\n                  <th width=\"30%\">{gettext('Role')}</th>\n                  <th width=\"10%\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                {\n                  this.state.groupMembers.length > 0 &&\n                  this.state.groupMembers.map((item, index = 0) => {\n                    return (\n                      <React.Fragment key={index}>\n                        <Member\n                          item={item}\n                          onGroupMembersChange={this.onGroupMembersChange}\n                          groupID={this.props.groupID}\n                          isOwner={this.props.isOwner}\n                          isItemFreezed={this.state.isItemFreezed}\n                          toggleItemFreezed={this.toggleItemFreezed}\n                        />\n                      </React.Fragment>\n                    );\n                  })\n                }\n              </tbody>\n            </Table>\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nManageMembersDialog.propTypes = propTypes;\n\nconst MemberPropTypes = {\n  item: PropTypes.object.isRequired,\n  onGroupMembersChange: PropTypes.func.isRequired,\n  groupID: PropTypes.string.isRequired,\n  isOwner: PropTypes.bool.isRequired,\n};\n\nclass Member extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n    this.roles = ['Admin', 'Member'];\n    this.state = ({\n      highlight: false,\n    });\n  }\n\n  onChangeUserRole = (role) => {\n    let isAdmin = role === 'Admin' ? 'True' : 'False';\n    seafileAPI.setGroupAdmin(this.props.groupID, this.props.item.email, isAdmin).then((res) => {\n      this.props.onGroupMembersChange();\n    });\n    this.setState({\n      highlight: false,\n    });\n  }\n\n  deleteMember = (name) => {\n    seafileAPI.deleteGroupMember(this.props.groupID, name).then((res) => {\n      this.props.onGroupMembersChange();\n    });\n  }\n\n  handleMouseOver = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({\n      highlight: true,\n    });\n  }\n\n  handleMouseLeave = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({\n      highlight: false,\n    });\n  }\n\n  translateRole = (role) => {\n    if (role === 'Admin') {\n      return gettext('Admin');\n    }  \n    else if (role === 'Member') {\n      return gettext('Member');\n    }\n    else if (role === 'Owner') {\n      return gettext('Owner');\n    }\n  }\n\n  render() {\n    const { item, isOwner } = this.props;\n    const deleteAuthority = (item.role !== 'Owner' && isOwner === true) || (item.role === 'Member' && isOwner === false);\n    return(\n      <tr onMouseOver={this.handleMouseOver} onMouseLeave={this.handleMouseLeave} className={this.state.highlight ? 'editing' : ''}>\n        <th scope=\"row\"><img className=\"avatar\" src={item.avatar_url} alt=\"\"/></th>\n        <td>{item.name}</td>\n        <td>\n          {((isOwner === false) || (isOwner === true && item.role === 'Owner')) && \n            <span className=\"group-admin\">{this.translateRole(item.role)}</span>\n          }\n          {(isOwner === true && item.role !== 'Owner') &&\n            <RoleEditor \n              isTextMode={true}\n              isEditIconShow={this.state.highlight}\n              currentRole={item.role}\n              roles={this.roles}\n              onRoleChanged={this.onChangeUserRole}\n              toggleItemFreezed={this.props.toggleItemFreezed}\n            />\n          }\n        </td>\n        <td>\n          {(deleteAuthority && !this.props.isItemFreezed) &&\n            <i\n              className=\"fa fa-times delete-group-member-icon\"\n              name={item.email}\n              onClick={this.deleteMember.bind(this, item.email)}>\n            </i>\n          }\n        </td>\n      </tr>\n    );\n  }\n}\n\nMember.propTypes = MemberPropTypes;\n\n\nexport default ManageMembersDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/manage-members-dialog.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext, siteRoot, loginUrl } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport Loading from '../../components/loading';\nimport Group from '../../models/group';\nimport Repo from '../../models/repo';\nimport GroupsToolbar from '../../components/toolbar/groups-toolbar';\nimport SharedRepoListView from '../../components/shared-repo-list-view/shared-repo-list-view';\nimport CreateGroupDialog from '../../components/dialog/create-group-dialog';\nimport LibDetail from '../../components/dirent-detail/lib-details';\n\nimport '../../css/groups.css';\n\nconst propTypes = {\n  group: PropTypes.object.isRequired,\n  onItemDetails: PropTypes.func.isRequired,\n};\n\n\nclass RepoListViewPanel extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoList: [],\n    };\n  }\n\n  componentDidMount() {\n    let group = this.props.group;\n    let repoList = group.repos.map(item => {\n      let repo = new Repo(item);\n      return repo;\n    });\n    this.setState({repoList: repoList});\n  }\n\n  onItemUnshare = (repo) => {\n    let group = this.props.group;\n    seafileAPI.unshareRepo(repo.repo_id, {share_type: 'group', group_id: group.id}).then(() => {\n      let repoList = this.state.repoList.filter(item => {\n        return item.repo_id !== repo.repo_id;\n      });\n      this.setState({repoList: repoList});\n    });\n  }\n\n  onItemDelete = (repo) => {\n    let group = this.props.group;\n    seafileAPI.deleteGroupOwnedLibrary(group.id, repo.repo_id).then(() => {\n      let repoList = this.state.repoList.filter(item => {\n        return item.repo_id !== repo.repo_id;\n      });\n      this.setState({repoList: repoList});\n    }).catch(() => {\n      // todo;\n    });\n  }\n  \n  onItemRename = (repo, newName) => {\n    let group = this.props.group;\n    seafileAPI.renameGroupOwnedLibrary(group.id, repo.repo_id, newName).then(res => {\n      let repoList = this.state.repoList.map(item => {\n        if (item.repo_id === repo.repo_id) {\n          item.repo_name = newName;\n        }\n        return item;\n      });\n      this.setState({repoList: repoList});\n    }).catch(() => {\n      // todo\n    });\n  }\n\n  render() {\n    let group = this.props.group;\n    const emptyTip = <p className=\"group-item-empty-tip\">{gettext('No libraries')}</p>;\n    return (\n      <div className=\"group-list-panel\">\n        <h4 className=\"group-item-heading ellipsis\">\n          <a href={`${siteRoot}group/${group.id}/`} title={group.name}>{group.name}</a>\n        </h4>\n        {this.state.repoList.length === 0 ? \n          emptyTip :\n          <SharedRepoListView \n            isShowTableThread={false}\n            isShowRepoOwner={false} \n            currentGroup={this.props.group} \n            repoList={this.state.repoList}\n            onItemUnshare={this.onItemUnshare}\n            onItemDelete={this.onItemDelete}\n            onItemDetails={this.props.onItemDetails}\n            onItemRename={this.onItemRename}\n          />\n        }\n      </div>\n    );\n  }\n}\n\nRepoListViewPanel.propTypes = propTypes;\n\nclass GroupsView extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      errorMsg: '',\n      groupList: [],\n      showAddGroupModal: false,\n      isShowDetails: false,\n      currentRepo: null,\n    };\n  }\n\n  listGroups = () => {\n    seafileAPI.listGroups(true).then((res) => {\n      // `{'with_repos': 1}`: list repos of every group\n      // res: {data: [...], status: 200, statusText: \"OK\", headers: {}, config: {},}\n      let groupList = res.data.map(item => {\n        let group = new Group(item);\n        return group;\n      });\n      this.setState({\n        isLoading: false,\n        groupList: groupList,\n      });\n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            isLoading: false,\n            errorMsg: gettext('Permission denied')\n          });\n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            isLoading: false,\n            errorMsg: gettext('Error')\n          });\n        }\n      } else {\n        this.setState({\n          isLoading: false,\n          errorMsg: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  toggleAddGroupModal = () => {\n    this.setState({\n      showAddGroupModal: !this.state.showAddGroupModal\n    });\n  }\n\n  onCreateGroup = () => {\n    this.setState({\n      showAddGroupModal: false,\n      isLoading: true,\n      groupList: [],\n    });\n    this.listGroups();\n  }\n\n  componentDidMount() {\n    this.listGroups();\n  }\n\n  onItemDetails = (repo) => {\n    this.setState({\n      isShowDetails: true,\n      currentRepo: repo,\n    });\n  }\n\n  closeDetails = () => {\n    this.setState({isShowDetails: false});\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <GroupsToolbar\n          onShowSidePanel={this.props.onShowSidePanel}\n          onSearchedClick={this.props.onSearchedClick}\n          toggleAddGroupModal={this.toggleAddGroupModal}\n        />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('My Groups')}</h3>\n            </div>\n            <div className=\"cur-view-content cur-view-content-groups\">\n              {this.state.isLoading && <Loading />}\n              {(!this.state.isLoading && this.state.errorMsg !== '') && this.state.errorMsg}\n              {/* {(!this.state.isLoading && this.state.groupList.length === 0 ) && emptyTip} //todo */}\n              {!this.state.isLoading && this.state.groupList.map((group, index) => {\n                return (\n                  <RepoListViewPanel \n                    key={index} \n                    group={group} \n                    onItemDetails={this.onItemDetails}\n                  />\n                );\n              })}\n            </div>\n          </div>\n          {this.state.isShowDetails && (\n            <div className=\"cur-view-detail\">\n              <LibDetail currentRepo={this.state.currentRepo} closeDetails={this.closeDetails}/>\n            </div>\n          )}\n        </div>\n        { this.state.showAddGroupModal &&\n          <CreateGroupDialog\n            toggleAddGroupModal={this.toggleAddGroupModal}\n            onCreateGroup={this.onCreateGroup}\n            showAddGroupModal={this.state.showAddGroupModal}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nconst GroupsViewPropTypes = {\n  onShowSidePanel: PropTypes.func.isRequired,\n  onSearchedClick: PropTypes.func.isRequired,\n};\n\nGroupsView.propTypes = GroupsViewPropTypes;\n\nexport default GroupsView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/groups/groups-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CommonToolbar from './common-toolbar';\nimport { Button } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  searchPlaceholder: PropTypes.string,\n  onShowSidePanel: PropTypes.func.isRequired,\n  onSearchedClick: PropTypes.func.isRequired,\n  toggleAddGroupModal: PropTypes.func.isRequired,\n};\n\nclass GroupsToolbar extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let { onShowSidePanel, onSearchedClick } = this.props;\n    return (\n      <div className=\"main-panel-north border-left-show\">\n        <div className=\"cur-view-toolbar\">\n          <div className=\"operation\">\n            <Button color=\"btn btn-secondary operation-item\" onClick={this.props.toggleAddGroupModal}>\n              <i className=\"fas fa-plus-square text-secondary mr-1\"></i>{gettext('New Group')}\n            </Button>\n          </div>\n          <span title=\"Side Nav Menu\" onClick={onShowSidePanel}\n            className=\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\">\n          </span>\n        </div>\n        <CommonToolbar searchPlaceholder={this.props.searchPlaceholder} onSearchedClick={onSearchedClick}/>\n      </div>\n    );\n  }\n}\n\nGroupsToolbar.propTypes = propTypes;\n\nexport default GroupsToolbar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbar/groups-toolbar.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Input, Button } from 'reactstrap';\n\nclass CreateGroupDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupName: '',\n      errorMsg: '',\n    };\n  }\n\n  handleGroupChange = (event) => {\n    let name = event.target.value.trim();\n    this.setState({\n      groupName: name\n    });\n    if (this.state.errorMsg) {\n      this.setState({\n        errorMsg: ''\n      });\n    }\n  }\n\n  handleSubmitGroup = () => {\n    let name = this.state.groupName.trim();\n    if (name) {\n      let that = this;\n      seafileAPI.createGroup(name).then((res)=> {\n        that.props.onCreateGroup();\n      }).catch((error) => {\n        let errorMsg = gettext(error.response.data.error_msg);\n        this.setState({\n          errorMsg: errorMsg\n        });\n      });\n    }\n    this.setState({\n      groupName: '',\n    });\n  }\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      this.handleSubmitGroup();\n    }\n  }\n\n  render() {\n    return(\n      <Modal isOpen={this.props.showAddGroupModal} toggle={this.props.toggleAddGroupModal}>\n        <ModalHeader toggle={this.props.toggleAddGroupModal}>{gettext('New Group')}</ModalHeader>\n        <ModalBody>\n          <label htmlFor=\"groupName\">{gettext('Name')}</label>\n          <Input type=\"text\" id=\"groupName\" value={this.state.groupName}\n            onChange={this.handleGroupChange} onKeyDown={this.handleKeyDown}/>\n          <span className=\"error\">{this.state.errorMsg}</span>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleAddGroupModal}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmitGroup}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst CreateGroupDialogPropTypes = {\n  toggleAddGroupModal: PropTypes.func.isRequired,\n  onCreateGroup: PropTypes.func.isRequired,\n  showAddGroupModal: PropTypes.bool.isRequired,\n};\n\nCreateGroupDialog.propTypes = CreateGroupDialogPropTypes;\n\nexport default CreateGroupDialog;\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/create-group-dialog.js","import React, { Component, Fragment } from 'react';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, loginUrl } from '../../utils/constants';\nimport toaster from '../../components/toast';\nimport ModalPortal from '../../components/modal-portal';\nimport CommonToolbar from '../../components/toolbar/common-toolbar';\nimport NewWikiDialog from '../../components/dialog/new-wiki-dialog';\nimport WikiSelectDialog from '../../components/dialog/wiki-select-dialog';\nimport WikiListView from '../../components/wiki-list-view/wiki-list-view';\n\n\nclass Wikis extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      wikis: [],\n      isShowAddWikiMenu: false,\n      isShowSelectDialog: false,\n      isShowCreateDialog: false,\n    };\n  }\n\n  componentDidMount() {\n    this.getWikis();\n  }\n\n  getWikis = () => {\n    seafileAPI.listWikis().then(res => {\n      this.setState({\n        loading: false,\n        wikis: res.data.data,\n      });\n    }).catch((error) => {\n      if (error.response) {\n        if (error.response.status == 403) {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Permission denied')\n          });\n          location.href = `${loginUrl}?next=${encodeURIComponent(location.href)}`;\n        } else {\n          this.setState({\n            loading: false,\n            errorMsg: gettext('Error')\n          });\n        }\n      } else {\n        this.setState({\n          loading: false,\n          errorMsg: gettext('Please check the network.')\n        });\n      }\n    });\n  }\n\n  clickMenuToggle = (e) => {\n    e.preventDefault();\n    this.onMenuToggle();\n  }\n\n  onMenuToggle = () => {\n    this.setState({isShowAddWikiMenu: !this.state.isShowAddWikiMenu});\n  }\n\n  onSelectToggle = () => {\n    this.setState({isShowSelectDialog: !this.state.isShowSelectDialog});\n  }\n\n  onCreateToggle = () => {\n    this.setState({isShowCreateDialog: !this.state.isShowCreateDialog});\n  }\n\n  addWiki = (isExist, name, repoID) => {\n    seafileAPI.addWiki(isExist, name, repoID).then((res) => {\n      this.state.wikis.push(res.data);\n      this.setState({wikis: this.state.wikis});\n    }).catch((error) => {\n      if(error.response) {\n        let errorMsg = error.response.data.error_msg;\n        toaster.danger(errorMsg);\n      }\n    });\n  }\n\n  renameWiki = (wiki, newName) => {\n    seafileAPI.renameWiki(wiki.slug, newName).then((res) => {\n      let wikis = this.state.wikis.map((item) => {\n        if (item.name === wiki.name) {\n          item = res.data;\n        }\n        return item;\n      });\n      this.setState({wikis: wikis});\n    }).catch((error) => {\n      if(error.response) {\n        let errorMsg = error.response.data.error_msg;\n        toaster.danger(errorMsg);\n      }\n    });\n  }\n\n  deleteWiki = (wiki) => {\n    seafileAPI.deleteWiki(wiki.slug).then(() => {\n      let wikis = this.state.wikis.filter(item => {\n        return item.name !== wiki.name;\n      });\n      this.setState({wikis: wikis});\n    }).catch((error) => {\n      if(error.response) {\n        let errorMsg = error.response.data.error_msg;\n        toaster.danger(errorMsg);\n      }\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"main-panel-north border-left-show\">\n          <div className=\"cur-view-toolbar\">\n            <span className=\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\" title=\"Side Nav Menu\" onClick={this.props.onShowSidePanel}></span>\n            <div className=\"operation\">\n              <Dropdown tag=\"div\" isOpen={this.state.isShowAddWikiMenu} toggle={this.onMenuToggle}>\n                <DropdownToggle className=\"btn btn-secondary operation-item\">\n                  <i className=\"fa fa-plus-square text-secondary mr-1\"></i>{gettext('Add Wiki')}\n                </DropdownToggle>\n                <DropdownMenu>\n                  <DropdownItem onClick={this.onCreateToggle}>{gettext('New Wiki')}</DropdownItem>\n                  <DropdownItem onClick={this.onSelectToggle}>{gettext('Choose a library as Wiki')}</DropdownItem>\n                </DropdownMenu>\n              </Dropdown>\n            </div>\n          </div>\n          <CommonToolbar onSearchedClick={this.props.onSearchedClick} />\n        </div>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\" id=\"wikis\">\n            <div className=\"cur-view-path\">\n              <div className=\"path-container\">\n                <h3 className=\"sf-heading\">{gettext('Wikis')}</h3>\n              </div>\n            </div>\n            <div className=\"cur-view-content\">\n              {(this.state.loading || this.state.wikis.length !== 0) &&\n                <WikiListView\n                  data={this.state}\n                  renameWiki={this.renameWiki}\n                  deleteWiki={this.deleteWiki}\n                />\n              }\n              {(!this.state.loading && this.state.wikis.length === 0) &&\n                <div className=\"message empty-tip\">\n                  <h2>{gettext('You do not have any wiki')}</h2>\n                  <p>{gettext('Seafile Wiki enables you to organize your knowledge in a simple way. The contents of wiki is stored in a normal library with pre-defined file/folder structure. This enables you to edit your wiki in your desktop and then sync back to the server.')}</p>\n                </div>\n              }\n            </div>\n          </div>\n        </div>\n        {this.state.isShowCreateDialog && (\n          <ModalPortal>\n            <NewWikiDialog\n              toggleCancel={this.onCreateToggle}\n              addWiki={this.addWiki}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowSelectDialog && (\n          <ModalPortal>\n            <WikiSelectDialog\n              toggleCancel={this.onSelectToggle}\n              addWiki={this.addWiki}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default Wikis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/wikis/wikis.js","import {siteRoot, historyRepoID, fileServerRoot } from './constants';\nimport { Utils } from './utils';\nclass URLDecorator {\n\n  static getUrl(options) {\n    let url = '';\n    let params = '';\n    switch (options.type) {\n      case 'download_historic_file':\n        params = 'p=' + options.filePath;\n        url = siteRoot + 'repo/' + historyRepoID + '/' + options.objID + '/download?' + params;\n        break;\n      case 'download_dir_zip_url':\n        url = fileServerRoot + 'zip/' + options.token;\n        break;\n      case 'download_file_url':\n        url = siteRoot + 'lib/' + options.repoID + '/file' + Utils.encodePath(options.filePath) + '?dl=1';\n        break;\n      case 'file_revisions':\n        params = 'p=' + Utils.encodePath(options.filePath);\n        url = siteRoot + 'repo/file_revisions/' + options.repoID + '/?' + params;\n        break;\n      case 'open_via_client':\n        url = 'seafile://openfile?repo_id=' + options.repoID + '&path=' + Utils.encodePath(options.filePath);\n        break;\n      case 'draft_view':\n        url = siteRoot + 'lib/' + options.repoID + '/file' + options.filePath + '?mode=edit&draft_id=' + options.draftId;\n        break;\n      default:\n        url = '';\n        break;\n    }\n    return url;\n  }\n\n}\n\nexport default URLDecorator;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/url-decorator.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input } from 'reactstrap';\n\nconst propTypes = {\n  toggleCancel: PropTypes.func.isRequired,\n  addWiki: PropTypes.func.isRequired,\n};\n\nclass NewWikiDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isExist: false,\n      name: '',\n      repoID: '',\n    };\n    this.newName = React.createRef();\n  }\n\n  componentDidMount() {\n    this.newName.focus();\n    this.newName.setSelectionRange(0, -1);\n  }\n\n  inputNewName = (e) => {\n    this.setState({\n      name: e.target.value,\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n    } \n  }\n\n  handleSubmit = () => {\n    let { isExist, name, repoID } = this.state;\n    this.props.addWiki(isExist, name, repoID);\n    this.props.toggleCancel();\n  }\n\n  toggle = () => {\n    this.props.toggleCancel();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Wiki')}</ModalHeader>\n        <ModalBody>\n          <label className=\"form-label\">{gettext('Name')}</label>\n          <Input onKeyPress={this.handleKeyPress} innerRef={input => {this.newName = input;}} value={this.state.name} onChange={this.inputNewName}/>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nNewWikiDialog.propTypes = propTypes;\n\nexport default NewWikiDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/new-wiki-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport moment from 'moment';\nimport Repo from '../../models/repo';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  toggleCancel: PropTypes.func.isRequired,\n  addWiki: PropTypes.func.isRequired,\n};\n\nclass WikiSelectDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repos: [],\n      isExist: true,\n      name: '',\n      repoID: '',\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listRepos().then(res => {\n      let repoList = res.data.repos.map(item => {\n        let repo = new Repo(item);\n        return repo;\n      });\n      repoList = Utils.sortRepos(repoList, 'name', 'asc');\n      this.setState({repos: repoList}); \n    });\n  }\n\n  onChange = (repo) => {\n    this.setState({\n      name: repo.repo_name,\n      repoID: repo.repo_id,\n    });\n  }\n\n  handleSubmit = () => {\n    let { isExist, name, repoID } = this.state;\n    this.props.addWiki(isExist, name, repoID);\n    this.props.toggleCancel();\n  }\n\n  toggle = () => {\n    this.props.toggleCancel();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.toggle}>{gettext('Choose a library as Wiki')}</ModalHeader>\n        <ModalBody className=\"dialog-list-container\">\n          <table>\n            <thead>\n              <tr>\n                <th width='12%'>{/* select */}</th>\n                <th width='13%'>{/* icon */}</th>\n                <th width='50%'>{gettext('Name')}</th>\n                <th width='25%'>{gettext('Last Update')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.repos.map((repo, index) => {\n                return (\n                  <tr key={index}>\n                    <td className=\"text-center\"><input type=\"radio\" className=\"vam\" name=\"repo\" value={repo.repo_id} onChange={this.onChange.bind(this, repo)} /></td>\n                    <td className=\"text-center\"><img src={siteRoot + 'media/img/lib/48/lib.png'} width=\"24\" alt={gettext('icon')} /></td>\n                    <td>{repo.repo_name}</td>\n                    <td>{moment(repo.last_modified).fromNow()}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nWikiSelectDialog.propTypes = propTypes;\n\nexport default WikiSelectDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/wiki-select-dialog.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport WikiListItem from './wiki-list-item';\n\nconst propTypes = {\n  data: PropTypes.object.isRequired,\n  renameWiki: PropTypes.func.isRequired,\n  deleteWiki: PropTypes.func.isRequired,\n};\n\nclass WikiListView extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  render() {\n    let { loading, errorMsg, wikis } = this.props.data;\n\n    if (loading) {\n      return <span className=\"loading-icon loading-tip\"></span>;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      return (\n        <table>\n          <thead>\n            <tr>\n              <th width=\"35%\">{gettext('Name')}</th>\n              <th width=\"20%\">{gettext('Owner')}</th>\n              <th width=\"20%\">{gettext('Last Update')}</th>\n              <th width=\"15%\">{gettext('Permission')}</th>\n              <th width=\"10%\">{/* operation */}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {wikis.map((wiki, index) => {\n              return (\n                <WikiListItem \n                  key={index} \n                  wiki={wiki}\n                  renameWiki={this.props.renameWiki}\n                  deleteWiki={this.props.deleteWiki}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                />\n              );\n            })}\n          </tbody>\n        </table>\n      );\n    }\n  }\n}\n\nWikiListView.propTypes = propTypes;\n\nexport default WikiListView;\n\n\n// WEBPACK FOOTER //\n// ./src/components/wiki-list-view/wiki-list-view.js","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport WikiPermissionEditor from '../select-editor/wiki-permission-editor.js';\nimport Toast from '../toast';\nimport ModalPortal from '../modal-portal';\nimport WikiDeleteDialog from '../dialog/wiki-delete-dialog';\nimport Rename from '../rename';\n\nconst propTypes = {\n  wiki: PropTypes.object.isRequired,\n  renameWiki: PropTypes.func.isRequired,\n  deleteWiki: PropTypes.func.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n};\n\nclass WikiListItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isShowWikiMenu: false,\n      isShowDeleteDialog: false,\n      isShowMenuControl: false,\n      isRenameing: false,\n      highlight: false,\n      permission: this.props.wiki.permission,\n      showOpIcon: false,\n    };\n    this.permissions = ['private', 'public'];\n  }\n\n  clickMenuToggle = (e) => {\n    e.preventDefault();\n    this.onMenuToggle(e);\n  }\n\n  onMenuToggle = (e) => {\n    let targetType = e.target.dataset.toggle;\n    if (targetType !== 'item') {\n      if (this.props.isItemFreezed) {\n        this.setState({\n          highlight: false,\n          isShowMenuControl: false,\n          isShowWikiMenu: !this.state.isShowWikiMenu\n        });\n        this.props.onUnfreezedItem();\n      } else {\n        this.setState({\n          isShowWikiMenu: !this.state.isShowWikiMenu\n        });\n        this.props.onFreezedItem();\n      }\n    }\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isShowMenuControl: true,\n        highlight: true,\n        showOpIcon: true,\n      });\n    }\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isShowMenuControl: false,\n        highlight: false,\n        showOpIcon: false,\n      });\n    }\n  }\n\n  changePerm = (permission) => {\n    let wiki = this.props.wiki;\n    seafileAPI.updateWikiPermission(wiki.slug, permission).then(() => {\n      this.setState({permission: permission});\n    }).catch((error) => {\n      if(error.response) {\n        let errorMsg = error.response.data.error_msg;\n        Toast.danger(errorMsg);\n      }\n    });\n  }\n\n  onRenameToggle = (e) => {\n    this.props.onFreezedItem();\n    this.setState({\n      isShowWikiMenu: false,\n      isShowMenuControl: false,\n      isRenameing: true,\n    });\n  }\n\n  onRenameConfirm = (newName) => {\n    this.renameWiki(newName);\n    this.onRenameCancel();\n  }\n\n  onRenameCancel = () => {\n    this.props.onUnfreezedItem();\n    this.setState({isRenameing: false});\n  }\n  \n  onDeleteToggle = () => {\n    this.props.onUnfreezedItem();\n    this.setState({\n      isShowDeleteDialog: !this.state.isShowDeleteDialog,\n      isShowWikiMenu: false,\n      isShowMenuControl: false,\n    });\n  }\n  \n  onDeleteCancel = () => {\n    this.props.onUnfreezedItem();\n    this.setState({\n      isShowDeleteDialog: !this.state.isShowDeleteDialog,\n    });\n  }\n\n  renameWiki = (newName) => {\n    let wiki = this.props.wiki;\n    this.props.renameWiki(wiki, newName);\n  }\n\n  deleteWiki = () => {\n    let wiki = this.props.wiki;\n    this.props.deleteWiki(wiki);\n    this.setState({\n      isShowDeleteDialog: !this.state.isShowDeleteDialog,\n    });\n  }\n\n  render() {\n    let wiki = this.props.wiki;\n    let userProfileURL = `${siteRoot}profile/${encodeURIComponent(wiki.owner)}/`;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n          <td className=\"name\">\n            {this.state.isRenameing ?\n              <Rename wiki={wiki} name={wiki.name} onRenameConfirm={this.onRenameConfirm} onRenameCancel={this.onRenameCancel}/> :\n              <a href={wiki.link}>{wiki.name}</a>\n            }\n          </td>\n          <td><a href={userProfileURL} target='_blank'>{wiki.owner_nickname}</a></td>\n          <td>{moment(wiki.updated_at).fromNow()}</td>\n          <td>\n            <WikiPermissionEditor \n              isTextMode={true}\n              isEditIconShow={this.state.showOpIcon}\n              currentPermission={this.state.permission}\n              permissions={this.permissions}\n              onPermissionChanged={this.changePerm}\n            />\n          </td>\n          <td className=\"text-center cursor-pointer\">\n            {this.state.isShowMenuControl && (\n              <Dropdown isOpen={this.state.isShowWikiMenu} toggle={this.onMenuToggle}>\n                <DropdownToggle \n                  tag=\"a\" \n                  className=\"fas fa-ellipsis-v\" \n                  title={gettext('More Operations')}\n                  data-toggle=\"dropdown\" \n                  aria-expanded={this.state.isShowWikiMenu}\n                  onClick={this.clickMenuToggle}\n                />\n                <DropdownMenu>\n                  <DropdownItem onClick={this.onRenameToggle}>{gettext('Rename')}</DropdownItem>\n                  <DropdownItem onClick={this.onDeleteToggle}>{gettext('Delete')}</DropdownItem>\n                </DropdownMenu>\n              </Dropdown>\n            )}\n          </td>\n        </tr>\n        {this.state.isShowDeleteDialog &&\n          <ModalPortal>\n            <WikiDeleteDialog\n              toggleCancel={this.onDeleteCancel}\n              handleSubmit={this.deleteWiki}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nWikiListItem.propTypes = propTypes;\n\nexport default WikiListItem;\n\n\n// WEBPACK FOOTER //\n// ./src/components/wiki-list-view/wiki-list-item.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  permissions: PropTypes.array.isRequired,\n  currentPermission: PropTypes.string.isRequired,\n  onPermissionChanged: PropTypes.func.isRequired\n};\n\nclass WikiPermissionEditor extends React.Component {\n\n  translatePermission = (permission) => {\n    if (permission === 'private') {\n      return gettext('Private');\n    }\n    \n    if (permission === 'public') {\n      return gettext('Public');\n    }\n  }\n\n  render() {\n    return (\n      <SelectEditor \n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.permissions}\n        currentOption={this.props.currentPermission}\n        onOptionChanged={this.props.onPermissionChanged}\n        translateOption={this.translatePermission}\n      />\n    );\n  }\n\n}\n\nWikiPermissionEditor.propTypes = propTypes;\n\nexport default WikiPermissionEditor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/select-editor/wiki-permission-editor.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nconst propTypes = {\n  toggleCancel: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n};\n\nclass WikiDeleteDialog extends React.Component {\n\n  toggle = () => {\n    this.props.toggleCancel();\n  }\n  \n  render() {\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.toggle}>{gettext('Delete Wiki')}</ModalHeader>\n        <ModalBody>\n          <p>{gettext('Are you sure you want to delete this wiki?')}</p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"danger\" onClick={this.props.handleSubmit}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nWikiDeleteDialog.propTypes = propTypes;\n\nexport default WikiDeleteDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/wiki-delete-dialog.js","import React, { Fragment } from 'react';\nimport GeneralToolBar from './toolbar/general-toolbar';\n\nconst MainContentWrapper = (WrapperedComponent) => {\n  return class Wrapper extends React.Component {\n\n    constructor(props) {\n      super(props);\n    }\n\n    render() {\n      return (\n        <Fragment>\n          <GeneralToolBar {...this.props} />\n          <WrapperedComponent {...this.props} />\n        </Fragment>\n      );\n    }\n  };\n};\n\nexport default MainContentWrapper;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/main-content-wrapper.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CommonToolbar from './common-toolbar';\n\nconst propTypes = {\n  searchPlaceholder: PropTypes.string,\n  onShowSidePanel: PropTypes.func.isRequired,\n  onSearchedClick: PropTypes.func.isRequired,\n};\n\nclass GeneralToolbar extends React.Component {\n\n  render() {\n    // todo get repoID?\n    let { onShowSidePanel, onSearchedClick } = this.props;\n    return (\n      <div className=\"main-panel-north\">\n        <div className=\"cur-view-toolbar\">\n          <span \n            className=\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\" \n            title=\"Side Nav Menu\" \n            onClick={onShowSidePanel}>\n          </span>\n        </div>\n        <CommonToolbar \n          searchPlaceholder={this.props.searchPlaceholder}\n          onSearchedClick={onSearchedClick} \n        />\n      </div>\n    );\n  }\n}\n\nGeneralToolbar.propTypes = propTypes;\n\nexport default GeneralToolbar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbar/general-toolbar.js","import { Utils } from '../utils/utils';\n\nclass Repo {\n  constructor(object) {\n    this.repo_id = object.repo_id;\n    this.repo_name = object.repo_name;\n    this.permission = object.permission;\n    this.size = Utils.bytesToSize(object.size);\n    this.owner_name = object.owner_name;\n    this.owner_email = object.owner_email;\n    this.owner_contact_email = object.owner_contact_email;\n    this.encrypted = object.encrypted;\n    this.last_modified = object.last_modified;\n    this.modifier_contact_email = object.modifier_contact_email;\n    this.modifier_email = object.modifier_email;\n    this.modifier_name = object.modifier_name;\n    this.type = object.type;\n    this.starred = object.starred;\n    if (object.is_admin != undefined) {\n      this.is_admin = object.is_admin;\n    }\n  }\n}\n\nexport default Repo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/repo.js","export const strChineseFirstPY = \"YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY\";\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/pinyin-by-unicode.js","import moment from 'moment';\nimport { Utils } from '../utils/utils';\nimport FileTag from './file-tag';\n\nclass Dirent {\n  constructor(json) {\n    this.id = json.id || '0000000000000000';\n    this.name = json.name;\n    this.type = json.type;\n    this.mtime = json.mtime;\n    this.mtime_relative = moment.unix(json.mtime).fromNow();\n    this.permission = json.permission || 'rw';\n    this.isSelected = false; // is check or not\n    this.starred = json.starred || false;\n    if (json.type === 'file') {\n      this.size = Utils.bytesToSize(json.size);\n      this.is_locked = json.is_locked || false;\n      this.lock_time = json.lock_time || '';\n      this.lock_owner= json.lock_owner || null;\n      this.lock_owner_name= json.lock_owner_name || null;\n      this.locked_by_me = json.locked_by_me || false;\n      this.modifier_name = json.modifier_name || '';\n      this.modifier_email = json.modifier_email || '';\n      this.modifier_contact_email = json.modifier_contact_email || '';\n      let file_tags = [];\n      if (json.file_tags) {\n        file_tags = json.file_tags.map(item => {\n          return new FileTag(item);\n        });\n      }\n      this.file_tags = file_tags;\n      if (json.encoded_thumbnail_src) {\n        this.encoded_thumbnail_src = json.encoded_thumbnail_src;\n      }\n    }\n  }\n\n  clone() {\n    return new Dirent(this);\n  }\n\n  isDir() {\n    return this.type !== 'file';\n  }\n\n}\n\nexport default Dirent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/dirent.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalFooter, ModalBody, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport FileChooser from '../file-chooser/file-chooser';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  dirent: PropTypes.object,\n  selectedDirentList: PropTypes.array,\n  isMutipleOperation: PropTypes.bool.isRequired,\n  onItemMove: PropTypes.func,\n  onItemsMove: PropTypes.func,\n  onCancelMove: PropTypes.func.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n};\n\n// need dirent file Path\nclass MoveDirent extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repo: null,\n      selectedPath: '',\n      errMessage: '',\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.errMessage === nextState.errMessage) {\n      return false;\n    }\n    return true;\n  }\n\n  handleSubmit = () => {\n    if (this.props.isMutipleOperation) {\n      this.moveItems();\n    } else {\n      this.moveItem();\n    }\n  }\n\n  moveItems = () => {\n    let { repoID } = this.props;\n    let { repo, selectedPath } = this.state;\n    let message = gettext('Invalid destination path');\n    \n    if (!repo || selectedPath === '') {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    let selectedDirentList = this.props.selectedDirentList;\n    let direntPaths = [];\n    selectedDirentList.forEach(dirent => {\n      let path = Utils.joinPath(this.props.path, dirent.name);\n      direntPaths.push(path);\n    });\n    \n    // move dirents to one of them. eg: A/B, A/C -> A/B\n    if (direntPaths.some(direntPath => { return direntPath === selectedPath;})) {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    // move dirents to current path\n    if (selectedPath && selectedPath === this.props.path && (repo.repo_id === repoID)) {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    // move dirents to one of their child. eg: A/B, A/D -> A/B/C\n    let moveDirentPath = '';\n    let isChildPath = direntPaths.some(direntPath => {\n      let flag = selectedPath.length > direntPath.length && selectedPath.indexOf(direntPath) > -1;\n      if (flag) {\n        moveDirentPath = direntPath;\n      }\n      return flag;\n    });\n\n    if (isChildPath) {\n      message = gettext('Can not move directory %(src)s to its subdirectory %(des)s');\n      message = message.replace('%(src)s', moveDirentPath);\n      message = message.replace('%(des)s', selectedPath);\n      this.setState({errMessage: message});\n      return;\n    }\n\n    this.props.onItemsMove(repo, selectedPath);\n    this.toggle();\n  }\n\n  moveItem = () => {\n    let { repo, repoID, selectedPath } = this.state; \n    let direntPath = Utils.joinPath(this.props.path, this.props.dirent.name);\n    let message = gettext('Invalid destination path');\n\n    if (!repo || (repo.repo_id === repoID && selectedPath === '')) {\n      this.setState({errMessage: message});\n      return;\n    }\n    \n    // copy the dirent to itself. eg: A/B -> A/B\n    if (selectedPath && direntPath === selectedPath) {\n      this.setState({errMessage: message});\n      return;\n    }\n    \n    // copy the dirent to current path\n    if (selectedPath && this.props.path === selectedPath && repo.repo_id === repoID) {\n      this.setState({errMessage: message});\n      return;\n    }\n    \n    // copy the dirent to it's child. eg: A/B -> A/B/C\n    if ( selectedPath && selectedPath.length > direntPath.length && selectedPath.indexOf(direntPath) > -1) {\n      message = gettext('Can not move directory %(src)s to its subdirectory %(des)s');\n      message = message.replace('%(src)s', direntPath);\n      message = message.replace('%(des)s', selectedPath);\n      this.setState({errMessage: message});\n      return;\n    }\n\n    this.props.onItemMove(repo, this.props.dirent, selectedPath, this.props.path);\n    this.toggle();\n  }\n\n  toggle = () => {\n    this.props.onCancelMove();\n  }\n\n  onDirentItemClick = (repo, selectedPath) => {\n    this.setState({\n      repo: repo,\n      selectedPath: selectedPath,\n      errMessage: '',\n    });\n  }\n\n  onRepoItemClick = (repo) => {\n    this.setState({\n      repo: repo,\n      selectedPath: '/',\n      errMessage: ''\n    });\n  }\n\n  render() {\n    let title = gettext('Move {placeholder} to:');\n    if (!this.props.isMutipleOperation) {\n      title = title.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.dirent.name) + '</span>');\n    } else {\n      title = gettext('Move selected item(s) to:');\n    }\n    let mode = this.props.repoEncrypted ? 'only_current_library':'current_repo_and_other_repos'\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}><div dangerouslySetInnerHTML={{__html: title}}></div></ModalHeader>\n        <ModalBody>\n          <FileChooser \n            repoID={this.props.repoID}\n            onDirentItemClick={this.onDirentItemClick}\n            onRepoItemClick={this.onRepoItemClick}\n            mode={mode}\n          />\n          {this.state.errMessage && <Alert color=\"danger\" style={{margin: '0.5rem'}}>{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nMoveDirent.propTypes = propTypes;\n\nexport default MoveDirent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/move-dirent-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalFooter, ModalBody, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport FileChooser from '../file-chooser/file-chooser';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  dirent: PropTypes.object,\n  selectedDirentList: PropTypes.array,\n  isMutipleOperation: PropTypes.bool.isRequired,\n  onItemCopy: PropTypes.func,\n  onItemsCopy: PropTypes.func,\n  onCancelCopy: PropTypes.func.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n};\n\n// need dirent file Path\nclass CopyDirent extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repo: null,\n      selectedPath: '',\n      errMessage: '',\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.errMessage === nextState.errMessage) {\n      return false;\n    }\n    return true;\n  }\n\n  handleSubmit = () => {\n    if (this.props.isMutipleOperation) {\n      this.copyItems();\n    } else {\n      this.copyItem();\n    }\n  }\n\n  copyItems = () => {\n    let { repoID } = this.props;\n    let { repo, selectedPath } = this.state;\n    let message = gettext('Invalid destination path');\n    \n    if (!repo || selectedPath === '') {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    let selectedDirentList = this.props.selectedDirentList;\n    let direntPaths = [];\n    selectedDirentList.forEach(dirent => {\n      let path = Utils.joinPath(this.props.path, dirent.name);\n      direntPaths.push(path);\n    });\n    \n    // copy dirents to one of them. eg: A/B, A/C -> A/B\n    if (direntPaths.some(direntPath => { return direntPath === selectedPath;})) {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    // copy dirents to current path\n    if (selectedPath && selectedPath === this.props.path && repo.repo_id === repoID) {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    // copy dirents to one of their child. eg: A/B, A/D -> A/B/C\n    let copyDirentPath = '';\n    let isChildPath = direntPaths.some(direntPath => {\n      let flag = selectedPath.length > direntPath.length && selectedPath.indexOf(direntPath) > -1;\n      if (flag) {\n        copyDirentPath = direntPath;\n      }\n      return flag;\n    });\n\n    if (isChildPath) {\n      message = gettext('Can not move directory %(src)s to its subdirectory %(des)s');\n      message = message.replace('%(src)s', copyDirentPath);\n      message = message.replace('%(des)s', selectedPath);\n      this.setState({errMessage: message});\n      return;\n    }\n    \n    this.props.onItemsCopy(repo, selectedPath);\n    this.toggle();\n  }\n\n  copyItem = () => {\n    let { repo, repoID, selectedPath } = this.state; \n    let direntPath = Utils.joinPath(this.props.path, this.props.dirent.name);\n    let message = 'Invalid destination path';\n\n    if (!repo || (repo.repo_id === repoID && selectedPath === '')) {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    // copy the dirent to itself. eg: A/B -> A/B\n    if (selectedPath && direntPath === selectedPath) {\n      this.setState({errMessage: message});\n      return;\n    }\n    \n    // copy the dirent to current path\n    if (selectedPath && this.props.path === selectedPath && repo.repo_id === repoID) {\n      this.setState({errMessage: message});\n      return;\n    }\n    \n    // copy the dirent to it's child. eg: A/B -> A/B/C\n    if ( selectedPath && selectedPath.length > direntPath.length && selectedPath.indexOf(direntPath) > -1) {\n      message = gettext('Can not copy directory %(src)s to its subdirectory %(des)s');\n      message = message.replace('%(src)s', direntPath);\n      message = message.replace('%(des)s', selectedPath);\n      this.setState({errMessage: message});\n      return;\n    }\n\n    this.props.onItemCopy(repo, this.props.dirent, selectedPath, this.props.path);\n    this.toggle();\n  }\n\n  toggle = () => {\n    this.props.onCancelCopy();\n  }\n\n  onDirentItemClick = (repo, selectedPath) => {\n    this.setState({\n      repo: repo,\n      selectedPath: selectedPath,\n      errMessage: '',\n    });\n  }\n\n  onRepoItemClick = (repo) => {\n    this.setState({\n      repo: repo,\n      selectedPath: '/',\n      errMessage: ''\n    });\n  }\n\n  render() {\n    let title = gettext('Copy {placeholder} to:');\n    if (!this.props.isMutipleOperation) {\n      title = title.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.dirent.name) + '</span>');\n    } else {\n      title = gettext('Copy selected item(s) to:');\n    }\n    let mode = this.props.repoEncrypted ? 'only_current_library':'current_repo_and_other_repos'\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}><div dangerouslySetInnerHTML={{__html: title}}></div></ModalHeader>\n        <ModalBody>\n          <FileChooser \n            repoID={this.props.repoID}\n            onDirentItemClick={this.onDirentItemClick}\n            onRepoItemClick={this.onRepoItemClick}\n            mode={mode}\n          />\n          {this.state.errMessage && <Alert color=\"danger\" style={{margin: '0.5rem'}}>{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nCopyDirent.propTypes = propTypes;\n\nexport default CopyDirent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/copy-dirent-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../utils/constants';\nimport toaster from './toast';\n\nconst propTypes = {\n  hasSuffix: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  onRenameConfirm: PropTypes.func.isRequired,\n  onRenameCancel: PropTypes.func.isRequired,\n};\n\nclass Rename extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: props.name\n    };\n  }\n\n  componentDidMount() {\n    this.refs.renameInput.focus();\n    if (this.props.hasSuffix) {\n      var endIndex = this.props.name.lastIndexOf('.');\n      this.refs.renameInput.setSelectionRange(0, endIndex, 'forward');\n    } else {\n      this.refs.renameInput.setSelectionRange(0, -1);\n    }\n  }\n\n  onChange = (e) => {\n    this.setState({name: e.target.value});\n  }\n\n  onClick = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n  }\n\n  onKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.onRenameConfirm(e);\n    }\n  }\n\n  onRenameConfirm = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    let newName = this.state.name.trim();\n    if (newName === this.props.name) {\n      this.props.onRenameCancel();\n      return;\n    }\n\n    let { isValid, errMessage } = this.validateInput();\n    if (!isValid) {\n      toaster.danger(errMessage);\n    } else {\n      this.props.onRenameConfirm(newName);\n    }\n  }\n\n  onRenameCancel = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.props.onRenameCancel();\n  }\n\n  validateInput = () => {\n    let newName = this.state.name.trim();\n    let isValid = true;\n    let errMessage = '';\n    if (!newName) {\n      isValid = false;\n      errMessage = gettext('Name is required.');\n      return { isValid, errMessage };\n    }\n\n    if (newName.indexOf('/') > -1) {\n      isValid = false;\n      errMessage = gettext('Name should not include ' + '\\'/\\'' + '.');\n      return { isValid, errMessage };\n    }\n\n    return { isValid, errMessage };\n  }\n\n  render() {\n    return (\n      <div className=\"rename-container\">\n        <input \n          ref=\"renameInput\" \n          value={this.state.name} \n          onChange={this.onChange} \n          onKeyPress={this.onKeyPress} \n          onClick={this.onClick} \n        />\n        <button className=\"btn btn-secondary sf2-icon-confirm confirm\" onClick={this.onRenameConfirm}></button>\n        <button className=\"btn btn-secondary sf2-icon-cancel cancel\" onClick={this.onRenameCancel}></button>\n      </div>\n    );\n  }\n}\n\nRename.propTypes = propTypes;\n\nexport default Rename;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/rename.js","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ToastManager from './toastManager';\n\nconst isBrowser =\n    typeof window !== 'undefined' && typeof window.document !== 'undefined';\n\n/**\n * The Toaster manages the interactionsb between\n * the ToasterManger and the toast API.\n */\nexport default class Toaster {\n  constructor() {\n    if (!isBrowser) return;\n\n    const container = document.createElement('div');\n    container.setAttribute('data-evergreen-toaster-container', '');\n    document.body.appendChild(container);\n\n    ReactDOM.render(\n      <ToastManager\n        bindNotify={this._bindNotify}\n        bindGetToasts={this._bindGetToasts}\n        bindCloseAll={this._bindCloseAll}\n      />,\n      container\n    );\n  }\n\n  _bindNotify = handler => {\n    this.notifyHandler = handler;\n  }\n\n  _bindGetToasts = handler => {\n    this.getToastsHandler = handler;\n  }\n\n  _bindCloseAll = handler => {\n    this.closeAllHandler = handler;\n  }\n\n  getToasts = () => {\n    return this.getToastsHandler();\n  }\n\n  closeAll = () => {\n    return this.closeAllHandler();\n  }\n\n  notify = (title, settings = {}) => {\n    return this.notifyHandler(title, { ...settings, intent: 'none' });\n  }\n\n  success = (title, settings = {}) => {\n    return this.notifyHandler(title, { ...settings, intent: 'success' });\n  }\n\n  warning = (title, settings = {}) => {\n    return this.notifyHandler(title, { ...settings, intent: 'warning' });\n  }\n\n  danger = (title, settings = {}) => {\n    return this.notifyHandler(title, { ...settings, intent: 'danger' });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/toast/toaster.js","import React ,{ Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport FileChooser from '../file-chooser/file-chooser';\nimport '../../css/dirent-detail.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  onRelatedFileChange: PropTypes.func.isRequired,\n  dirent: PropTypes.object.isRequired,\n  onClose: PropTypes.func,\n};\n\nclass AddRelatedFileDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repo: null,\n      selectedPath: '',\n      isShowFile: true,\n      errMessage: '',\n    };\n  }\n\n  handleSubmit = () => {\n    this.onAddRelatedFile();\n  }\n\n  onAddRelatedFile = () => {\n    let { repo, selectedPath } = this.state;\n    let oRepoID = this.props.repoID;\n    let rRepoID = repo.repo_id;\n    let oFilePath = this.props.filePath;\n    let rFilePath = selectedPath;\n\n    if (oRepoID === rRepoID && oFilePath === rFilePath) {\n      let message = gettext('Can not select self as a related file.');\n      this.setState({errMessage: message});\n      return;\n    }\n\n    seafileAPI.addRelatedFile(oRepoID, rRepoID, oFilePath, rFilePath).then((res) => {\n      this.props.onRelatedFileChange();\n      this.toggle();\n    }).catch((error) => {\n      if (error.response) {\n        this.setState({\n          errMessage: error.response.data.error_msg\n        });\n      }\n    });\n  }\n\n  toggle = () => {\n    this.props.toggleCancel();\n  }\n\n  onDirentItemClick = (repo, selectedPath, dirent) => {\n    if (dirent.type === 'file') {\n      this.setState({\n        repo: repo,\n        selectedPath: selectedPath,\n      });\n    }\n    else {\n      this.setState({\n        repo: null,\n        selectedPath: '',\n      });\n    }\n  }\n\n  onRepoItemClick = (repo) => {\n    this.setState({\n      repo: null,\n      selectedPath: '',\n    });\n  }\n\n  render() {\n    let subtitle = gettext('Select related file for {placeholder}');\n    subtitle = subtitle.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.dirent.name) + '</span>');\n    return (\n      <Fragment>\n        <ModalHeader toggle={this.props.onClose}>\n          <span className=\"tag-dialog-back fas fa-sm fa-arrow-left\" onClick={this.toggle} aria-label={gettext('Back')}></span>\n          {gettext('Select File')}\n        </ModalHeader>\n        <ModalBody>\n          <div className=\"related-file-subtitle\" dangerouslySetInnerHTML={{__html: subtitle}}></div>\n          <FileChooser\n            isShowFile={this.state.isShowFile}\n            repoID={this.props.repoID}\n            onDirentItemClick={this.onDirentItemClick}\n            onRepoItemClick={this.onRepoItemClick}\n            mode=\"current_repo_and_other_repos\"\n          />\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          { this.state.selectedPath ?\n            <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n            :\n            <Button color=\"primary\" disabled>{gettext('Submit')}</Button>\n          }\n        </ModalFooter>\n      </Fragment>\n    );\n  }\n}\n\nAddRelatedFileDialog.propTypes = propTypes;\n\nexport default AddRelatedFileDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/add-related-file-dialog.js","import React from 'react';\nimport { css } from 'glamor';\nimport PropTypes from 'prop-types';\n\nimport Toast from './toast';\n\nconst wrapperClass = css({\n  maxWidth: 560,\n  margin: '0 auto',\n  top: 0,\n  left: 0,\n  right: 0,\n  position: 'fixed',\n  zIndex: 999999,\n});\n\n\nconst hasCustomId = settings => Object.hasOwnProperty.call(settings, 'id');\n\nexport default class ToastManager extends React.PureComponent {\n  static propTypes = {\n    /**\n     * Function called with the `this.notify` function.\n     */\n    bindNotify: PropTypes.func.isRequired,\n\n    /**\n     * Function called with the `this.getToasts` function.\n     */\n    bindGetToasts: PropTypes.func.isRequired,\n\n    /**\n     * Function called with the `this.closeAll` function.\n     */\n    bindCloseAll: PropTypes.func.isRequired\n  }\n\n  static idCounter = 0;\n\n  constructor(props, context) {\n    super(props, context);\n\n    props.bindNotify(this.notify);\n    props.bindGetToasts(this.getToasts);\n    props.bindCloseAll(this.closeAll);\n\n    this.state = {\n      toasts: []\n    };\n  }\n\n  getToasts = () => {\n    return this.state.toasts;\n  }\n\n  closeAll = () => {\n    this.getToasts().forEach(toast => toast.close());\n  }\n\n  notify = (title, settings) => {\n    // If there's a custom toast ID passed, close existing toasts with the same custom ID\n    if (hasCustomId(settings)) {\n      for (const toast of this.state.toasts) {\n        // Since unique ID is still appended to a custom ID, skip the unique ID and check only prefix\n        if (String(toast.id).startsWith(settings.id)) {\n          this.closeToast(toast.id);\n        }\n      }\n    }\n\n    const instance = this.createToastInstance(title, settings);\n\n    this.setState(previousState => {\n      return {\n        toasts: [instance, ...previousState.toasts]\n      };\n    });\n\n    return instance;\n  }\n\n  createToastInstance = (title, settings) => {\n    const uniqueId = ++ToastManager.idCounter;\n    const id = hasCustomId(settings) ? `${settings.id}-${uniqueId}` : uniqueId;\n\n    return {\n      id,\n      title,\n      description: settings.description,\n      hasCloseButton: settings.hasCloseButton || true,\n      duration: settings.duration || 2,\n      close: () => this.closeToast(id),\n      intent: settings.intent\n    };\n  }\n\n  /**\n   * This will set isShown on the Toast which will close the toast.\n   * It won't remove the toast until onExited triggers onRemove.\n   */\n  closeToast = id => {\n    this.setState(previousState => {\n      return {\n        toasts: previousState.toasts.map(toast => {\n          if (toast.id === id) {\n            return {\n              ...toast,\n              isShown: false\n            };\n          }\n          return toast;\n        })\n      };\n    });\n  }\n\n  removeToast = id => {\n    this.setState(previousState => {\n      return {\n        toasts: previousState.toasts.filter(toast => toast.id !== id)\n      };\n    });\n  }\n\n  render() {\n    return (\n      <span className={wrapperClass}>\n        {this.state.toasts.map(({ id, description, ...props }) => {\n          return (\n            <Toast key={id} onRemove={() => this.removeToast(id)} {...props}>\n              {description}\n            </Toast>\n          );\n        })}\n      </span>\n    );\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/toast/toastManager.js","import React ,{ Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Table } from 'reactstrap';\nimport Dirent from '../../models/dirent';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport '../../css/list-related-file-dialog.css';\n\nconst propTypes = {\n  relatedFiles: PropTypes.array.isRequired,\n  repoID: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  addRelatedFileToggle: PropTypes.func.isRequired,\n  onRelatedFileChange: PropTypes.func.isRequired,\n};\n\nclass ListRelatedFileDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = ({\n      direntList: [],\n    });\n  }\n\n  onDeleteRelatedFile = (item) => {\n    let filePath = this.props.filePath;\n    let repoID = this.props.repoID;\n    let relatedID = item.related_id;\n    seafileAPI.deleteRelatedFile(repoID, filePath, relatedID).then((res) => {\n      this.props.onRelatedFileChange();\n    });\n  }\n\n  toggle = () => {\n    this.props.toggleCancel();\n  }\n\n  getDirentList = (relatedFiles) => {\n    if (relatedFiles.length === 0) {\n      this.setState({\n        direntList: [],\n      });\n      return;\n    }\n    let direntList = [];\n    relatedFiles.map((item) => {\n      seafileAPI.getFileInfo(item.repo_id, item.path).then(res => {\n        let dirent = new Dirent(res.data);\n        dirent['repo_name'] = item.repo_name;\n        dirent['related_id'] = item.related_id;\n        dirent['link'] = siteRoot + 'lib/' + item.repo_id + '/file' + Utils.encodePath(item.path);\n        direntList.push(dirent);\n        this.setState({\n          direntList: direntList\n        });\n      });\n    });\n  }\n\n  componentWillMount() {\n    this.getDirentList(this.props.relatedFiles);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.relatedFiles.length !== this.props.relatedFiles.length) {\n      this.getDirentList(nextProps.relatedFiles);\n    }\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <ModalHeader toggle={this.toggle}>{gettext('Related Files')}</ModalHeader>\n        <ModalBody className={this.state.direntList.length > 0 ? 'list-related-file-body' : ''}>\n          <Table hover size=\"sm\" className=\"list-related-file-table\">\n            <thead>\n              <tr>\n                <th width='40%'>{gettext('Name')}</th>\n                <th width='20%'>{gettext('Library Name')}</th>\n                <th width='13%'>{gettext('Size')}</th>\n                <th width='20%'>{gettext('Last Update')}</th>\n                <th width='5%'></th>\n                <th width='2%'></th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                this.state.direntList.map((relatedFile, index) => {\n                  return (\n                    <React.Fragment key={index}>\n                      <RelatedFile relatedFile={relatedFile} onDeleteRelatedFile={this.onDeleteRelatedFile}/>\n                    </React.Fragment>\n                  );\n                })\n              }\n            </tbody>\n          </Table>\n          <a href=\"#\" className=\"add-related-file-link\" onClick={this.props.addRelatedFileToggle}>{gettext('Add File')}</a>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Fragment>\n    );\n  }\n}\n\nListRelatedFileDialog.propTypes = propTypes;\n\nconst RelatedFilePropTypes = {\n  relatedFile: PropTypes.object,\n  onDeleteRelatedFile: PropTypes.func.isRequired,\n};\n\nclass RelatedFile extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = ({\n      active: false,\n    });\n  }\n\n  onMouseEnter = () => {\n    this.setState({\n      active: true\n    });\n  }\n\n  onMouseLeave = () => {\n    this.setState({\n      active: false\n    });\n  }\n\n  render() {\n    let className = this.state.active ? 'action-icon sf2-icon-x3' : 'action-icon vh sf2-icon-x3';\n    const relatedFile = this.props.relatedFile;\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><a href={relatedFile.link} target='_blank'>{relatedFile.name}</a></td>\n        <td>{relatedFile.repo_name}</td>\n        <td>{relatedFile.size}</td>\n        <td>{relatedFile.mtime_relative}</td>\n        <td><i className={className} onClick={this.props.onDeleteRelatedFile.bind(this, relatedFile)}></i></td>\n        <td></td>\n      </tr>\n    );\n  }\n}\n\nRelatedFile.propTypes = RelatedFilePropTypes;\n\nexport default ListRelatedFileDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/list-related-file-dialog.js","import { Utils } from '../../utils/utils';\nimport Tree from './tree';\nimport TreeNode from './tree-node';\nimport Dirent from '../../models/dirent';\n\nclass TreeHelper {\n\n  expandNode(tree, node) {  // This tree has been cloned\n    tree.expandNode(node);\n  }\n\n  collapseNode(tree, node) {\n    let treeCopy = tree.clone();\n    node = treeCopy.getNodeByPath(node.path);\n    treeCopy.collapseNode(node);\n    return treeCopy;\n  }\n\n  findNodeByPath(tree, nodePath) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    return node;\n  }\n\n  getNodeChildrenObject(tree, node, sortType = 'name', order = 'asc') {\n    let objects = tree.getNodeChildrenObject(node);\n    objects = Utils.sortDirents(objects, sortType, order);\n    return objects;\n  }\n\n  addNodeToParent(tree, node, parentNode) {\n    tree.addNodeToParentNode(node, parentNode);\n    return tree;\n  }\n\n  addNodeListToParent(tree, nodeList, parentNode) {\n    tree.addNodeListToParent(nodeList, parentNode);\n    return tree;\n  }\n\n  addNodeToParentByPath(tree, node, parentPath) {\n    let treeCopy = tree.clone();\n    let parentNode = treeCopy.getNodeByPath(parentPath);\n    treeCopy.addNodeToParent(node, parentNode);\n    return treeCopy;\n  }\n\n  deleteNodeByPath(tree, nodePath) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    treeCopy.deleteNode(node);\n    return treeCopy;\n  }\n\n  deleteNodeListByPaths(tree, nodePaths) {\n    let treeCopy = tree.clone();\n    nodePaths.forEach(nodePath => {\n      let node = treeCopy.getNodeByPath(nodePath);\n      treeCopy.deleteNode(node);\n    });\n    return treeCopy;\n  }\n\n  renameNodeByPath(tree, nodePath, newName) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    treeCopy.renameNode(node, newName);\n    return treeCopy;\n  }\n\n  updateNodeByPath(tree, nodePath, keys, newValues) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    treeCopy.updateNode(node, keys, newValues);\n    return treeCopy;\n  }\n\n  moveNodeByPath(tree, nodePath, destPath, nodeName) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    let destNode = treeCopy.getNodeByPath(destPath);\n    if (destNode && node) {        // node has loaded\n      node.object.name = nodeName; // need not update path\n      treeCopy.moveNode(node, destNode);\n    }\n    if (!destNode && node){\n      treeCopy.deleteNode(node);\n    }\n    return treeCopy;\n  }\n\n  moveNodeListByPaths(tree, nodePaths, destPath) {\n    let treeCopy = tree.clone();\n    let destNode = treeCopy.getNodeByPath(destPath);\n    if (destNode) {\n      nodePaths.forEach(nodePath => { \n        let node = treeCopy.getNodeByPath(nodePath);\n        treeCopy.moveNode(node, destNode);\n      });\n    } else {\n      nodePaths.forEach(nodePath=> {\n        let node = treeCopy.getNodeByPath(nodePath);\n        treeCopy.delete(node);\n      });\n    }\n    return treeCopy;\n  }\n\n  copyNodeByPath(tree, nodePath, destPath, nodeName) {\n    let treeCopy = tree.clone();\n    let destNode = treeCopy.getNodeByPath(destPath);\n    let treeNode = treeCopy.getNodeByPath(nodePath);\n    if (destNode) {\n      let node = treeNode.clone();  // need a dup\n      node.object.name = nodeName;  // need not update path\n      treeCopy.copyNode(node, destNode);\n    }\n    return treeCopy;\n  }\n  \n  copyNodeListByPaths(tree, nodePaths, destPath) {\n    let treeCopy = tree.clone();\n    let destNode = treeCopy.getNodeByPath(destPath);\n    if (destNode) {\n      nodePaths.forEach(nodePath => {\n        let node = treeCopy.getNodeByPath(nodePath);\n        treeCopy.copyNode(node, destNode);\n      });\n    }\n    return treeCopy;\n  }\n\n  buildTree() {\n    let tree = new Tree();\n    let object = new Dirent({name: '/'});\n    let root = new TreeNode({object, isLoaded: false, isExpanded: true});\n    tree.setRoot(root);\n    return tree;\n  }\n}\n\nlet treeHelper = new TreeHelper();\n\nexport default treeHelper;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-helper.js","import TreeNode from './tree-node';\n\nclass Tree {\n\n  constructor() {\n    this.root = null;\n  }\n\n  clone() {\n    let tree = new Tree();\n    if (this.root) {\n      tree.root = this.root.clone();\n    }\n    return tree;\n  }\n\n  setRoot(node) {\n    this.root = node;\n  }\n\n  getNodeByPath(path) { \n    let findNode = null;\n    function callback(currentNode) {\n      if (currentNode.path === path) {\n        findNode = currentNode;\n        return true;\n      }\n      return false;\n    }\n    this.traverseDF(callback);\n    return findNode;\n  }\n\n  getNodeChildrenObject(node) {\n    let objects = node.children.map(item => {\n      let object = item.object;\n      return object;\n    });\n    return objects;\n  }\n\n  addNodeToParent(node, parentNode) {\n    parentNode.addChild(node);\n  }\n\n  addNodeListToParent(nodeList, parentNode) {\n    nodeList.forEach(node => {\n      parentNode.addChild(node);\n    });\n  }\n\n  deleteNode(node) {\n    let parentNode = this.getNodeByPath(node.parentNode.path);\n    parentNode.deleteChild(node);\n  }\n\n  deleteNodeList(nodeList) {\n    nodeList.forEach(node => {\n      this.deleteNode(node);\n    });\n  }\n\n  renameNode(node, newName) {\n    node.rename(newName);\n  }\n\n  updateNode(node, keys, newValues) {\n    node.updateObjectParam(keys, newValues);\n  }\n\n  moveNode(node, destNode) {\n    this.deleteNode(node);\n    destNode.addChild(node);\n  }\n\n  copyNode(node, destNode) {\n    destNode.addChild(node);\n  }\n\n  traverseDF(callback) {\n    let stack = [];\n    let found = false;\n    stack.unshift(this.root);\n    let currentNode = stack.shift();\n    while (!found && currentNode) {\n      found = callback(currentNode) == true ? true : false;\n      if (!found) {\n        stack.unshift(...currentNode.children);\n        currentNode = stack.shift();\n      }\n    }\n  }\n\n  traverseBF(callback) {\n    let queue = [];\n    let found = false;\n    queue.push(this.root);\n    let currentNode = queue.shift();\n    while (!found && currentNode) {\n      found = callback(currentNode) === true ? true : false;\n      if (!found) {\n        queue.push(...currentNode.children);\n        currentNode = queue.shift();\n      }\n    }\n  }\n\n  expandNode(node) {\n    node.isExpanded = true;\n    while (node.parentNode) {\n      node.parentNode.isExpanded = true;\n      node = node.parentNode;\n    }\n  }\n  \n  collapseNode(node) {\n    node.isExpanded = false;\n  }\n\n  isNodeChild(node, parentNode) {\n    return parentNode.children.some(item => {\n      return item.path === node.path;\n    });\n  }\n\n  serializeToJson() {\n    return this.root.serializeToJson();\n  }\n\n  deserializefromJson(json) {\n    let root = TreeNode.deserializefromJson(json);\n    let tree = new Tree();\n    tree.setRoot(root);\n    return tree;\n  }\n\n}\n\nexport default Tree;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TreeNodeView from './tree-node-view';\n\nimport TreeViewContextMenu from './tree-view-contextmenu'\n\nconst propTypes = {\n  repoPermission: PropTypes.bool,\n  isNodeMenuShow: PropTypes.bool.isRequired,\n  treeData: PropTypes.object.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onMenuItemClick: PropTypes.func,\n  onNodeClick: PropTypes.func.isRequired,\n  onNodeExpanded: PropTypes.func.isRequired,\n  onNodeCollapse: PropTypes.func.isRequired,\n  onItemMove: PropTypes.func,\n  currentRepoInfo: PropTypes.object,\n};\n\nconst PADDING_LEFT = 20;\n\nclass TreeView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n      isRightMenuShow: false,\n      nodeData: null,\n      fileData: null,\n      mousePosition: {clientX: '', clientY: ''},\n    };\n  }\n\n  componentDidMount() {\n    this.registerHandlers();\n  }\n\n  componentWillUnmount() {\n    this.unregisterHandlers();\n  }\n\n  onItemMove = (repo, dirent, selectedPath, currentPath) => {\n    this.props.onItemMove(repo, dirent, selectedPath, currentPath);\n  }\n\n  onNodeDragStart = (e, node) => {\n    let dragStartNodeData = {nodeDirent: node.object, nodeParentPath: node.parentNode.path, nodeRootPath: node.path};\n    dragStartNodeData = JSON.stringify(dragStartNodeData);\n    \n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData('applicaiton/drag-item-info', dragStartNodeData);\n  }\n\n  onNodeDragEnter = (e, node) => {\n    //todo\n  }\n\n  onNodeDragMove = (e) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n  }\n\n  onNodeDragLeave = (e, node) => {\n    //todo\n  }\n\n  onNodeDrop = (e, node) => {\n    if (e.dataTransfer.files.length) { // uploaded files\n      return;\n    }\n    let dragStartNodeData = e.dataTransfer.getData('applicaiton/drag-item-info');\n    dragStartNodeData = JSON.parse(dragStartNodeData);\n\n    let {nodeDirent, nodeParentPath, nodeRootPath} = dragStartNodeData;\n    let dropNodeData = node;\n\n    if (dropNodeData.object.type !== 'dir') {\n      return;\n    }\n\n    // copy the dirent to itself. eg: A/B -> A/B\n    if (nodeParentPath === dropNodeData.parentNode.path) {\n      if (dropNodeData.object.name === nodeDirent.name) {\n        return;\n      }\n    }\n\n    // copy the dirent to it's child. eg: A/B -> A/B/C\n    if (dropNodeData.object.type === 'dir' && nodeDirent.type === 'dir') {\n      if (dropNodeData.parentNode.path !== nodeParentPath) {\n        if (dropNodeData.path.indexOf(nodeRootPath) !== -1) {\n          return;\n        }\n      }\n    }\n\n    this.onItemMove(this.props.currentRepoInfo, nodeDirent, dropNodeData.path, nodeParentPath);\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnFreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  contextMenu = (e) => {\n    e.preventDefault();\n    this.setState({\n      isRightMenuShow:false,\n    });\n    setTimeout(() => { \n      this.setState({\n        isRightMenuShow:true,\n        fileData:this.state.nodeData,\n        mousePosition: {clientX: e.clientX, clientY: e.clientY}\n      })\n    },40)\n  }  \n\n  unregisterHandlers = () => {\n    let treeView = document.querySelector('.tree-view');\n    treeView.removeEventListener('contextmenu', this.contextMenu);\n  }\n\n  registerHandlers = () => {\n    let treeView = document.querySelector('.tree-view');\n    treeView.addEventListener('contextmenu', this.contextMenu);\n  }\n\n  onNodeChanged = (node) => {\n    this.setState({\n      nodeData:node\n    })\n  }\n\n  closeRightMenu = () => {\n    this.setState({\n      isRightMenuShow:false,\n    })\n  }\n\n  onMenuItemClick = (operation, node) => {\n    this.props.onMenuItemClick(operation, node)\n  }\n\n  render() {\n    return (\n      <div className=\"tree-view tree\">\n        <TreeNodeView \n          repoPermission={this.props.repoPermission}\n          node={this.props.treeData.root}\n          currentPath={this.props.currentPath}\n          paddingLeft={PADDING_LEFT}\n          isNodeMenuShow={this.props.isNodeMenuShow}\n          isItemFreezed={this.state.isItemFreezed}\n          onNodeClick={this.props.onNodeClick}\n          onMenuItemClick={this.props.onMenuItemClick}\n          onNodeExpanded={this.props.onNodeExpanded}\n          onNodeCollapse={this.props.onNodeCollapse}\n          onNodeDragStart={this.onNodeDragStart}\n          onFreezedItem={this.onFreezedItem}\n          onUnFreezedItem={this.onUnFreezedItem}\n          onNodeChanged={this.onNodeChanged}\n          registerHandlers={this.registerHandlers}\n          unregisterHandlers={this.unregisterHandlers}\n          onNodeDragMove={this.onNodeDragMove}\n          onNodeDrop={this.onNodeDrop}\n          onNodeDragEnter={this.onNodeDragEnter}\n          onNodeDragLeave={this.onNodeDragLeave}\n        />\n       {this.state.isRightMenuShow && (\n          <TreeViewContextMenu \n            node={this.state.fileData}\n            onMenuItemClick={this.onMenuItemClick}\n            mousePosition={this.state.mousePosition}\n            closeRightMenu={this.closeRightMenu}\n            registerHandlers={this.registerHandlers}\n            unregisterHandlers={this.unregisterHandlers}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nTreeView.propTypes = propTypes;\n\nexport default TreeView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TreeNodeMenu from './tree-node-menu';\nimport { permission } from '../../utils/constants';\n\nconst propTypes = {\n  repoPermission: PropTypes.bool,\n  node: PropTypes.object.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  paddingLeft: PropTypes.number.isRequired,\n  isNodeMenuShow: PropTypes.bool.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onNodeClick: PropTypes.func.isRequired,\n  onNodeExpanded: PropTypes.func.isRequired,\n  onNodeCollapse: PropTypes.func.isRequired,\n  onNodeDragStart: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnFreezedItem: PropTypes.func.isRequired,\n  onMenuItemClick: PropTypes.func,\n  registerHandlers: PropTypes.func,\n  unregisterHandlers: PropTypes.func,\n  onNodeDragMove: PropTypes.func,\n  onNodeDrop: PropTypes.func,\n};\n\nclass TreeNodeView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHighlight: false,\n      isShowOperationMenu: false,\n      isNodeDropShow: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isShowOperationMenu: true,\n        isHighlight: true,\n      });\n    }\n    this.props.onNodeChanged(this.props.node)\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isShowOperationMenu: false,\n        isHighlight: false,\n      });\n    }\n    this.props.onNodeChanged(null)\n  }\n\n  onNodeClick = () => {\n    this.props.onNodeClick(this.props.node);\n  }\n\n  onLoadToggle = () => {\n    let { node } = this.props;\n    if (node.isExpanded) {\n      this.props.onNodeCollapse(node);\n    } else {\n      this.props.onNodeExpanded(node);\n    }\n  }\n\n  onNodeDragStart = (e) => {\n    this.props.onNodeDragStart(e, this.props.node);\n  }\n\n  onNodeDragEnter = (e) => {\n    if (this.props.node.object.type === 'dir') {\n      this.setState({isNodeDropShow: true});\n    }\n    this.props.onNodeDragEnter(e, this.props.node);\n  }\n\n  onNodeDragMove = (e) => {\n    this.props.onNodeDragMove(e);\n  }\n\n  onNodeDragLeave = (e) => {\n    this.setState({isNodeDropShow: false});\n    this.props.onNodeDragLeave(e, this.props.node);\n  }\n\n  onNodeDrop = (e) => {\n    this.setState({isNodeDropShow: false});\n    this.props.onNodeDrop(e, this.props.node);\n  }\n\n  onUnFreezedItem = () => {\n    this.setState({isShowOperationMenu: false});\n    this.props.onUnFreezedItem();\n  }\n\n  onMenuItemClick = (operation, node) => {\n    this.props.onMenuItemClick(operation, node);\n  }\n\n  getNodeTypeAndIcon = () => {\n    let { node } = this.props;\n    let icon = '';\n    let type = '';\n    if (node.object.type === 'dir') {\n      icon = <i className=\"far fa-folder\"></i>;\n      type = 'dir';\n    } else {\n      let index = node.object.name.lastIndexOf('.');\n      if (index === -1) {\n        icon = <i className=\"far fa-file\"></i>;\n        type = 'file';\n      } else {\n        let suffix = node.object.name.slice(index).toLowerCase();\n        if (suffix === '.png' || suffix === '.jpg' || suffix === '.jpeg' || suffix === '.gif' || suffix === '.bmp') {\n          icon = <i className=\"far fa-image\"></i>;\n          type = 'image';\n        } \n        else if (suffix === '.md' || suffix === '.markdown') {\n          icon = <i className=\"far fa-file-alt\"></i>;\n          type = 'file';\n        }\n        else {\n          icon = <i className=\"far fa-file\"></i>;\n          type = 'file';\n        }\n      }\n    }\n    return {icon, type};\n  }\n\n  renderChildren = () => {\n    let { node, paddingLeft } = this.props;\n    if (!node.hasChildren()) {\n      return '';\n    }\n    return (\n      <div className=\"children\" style={{paddingLeft: paddingLeft}}>\n        {node.children.map(item => {\n          return (\n            <TreeNodeView \n              key={item.path}\n              node={item}\n              paddingLeft={paddingLeft}\n              repoPermission={this.props.repoPermission}\n              currentPath={this.props.currentPath}\n              isNodeMenuShow={this.props.isNodeMenuShow}\n              isItemFreezed={this.props.isItemFreezed}\n              onNodeClick={this.props.onNodeClick}\n              onNodeCollapse={this.props.onNodeCollapse}\n              onNodeExpanded={this.props.onNodeExpanded}\n              onFreezedItem={this.props.onFreezedItem}\n              onMenuItemClick={this.onMenuItemClick}\n              onUnFreezedItem={this.onUnFreezedItem}\n              onNodeChanged={this.props.onNodeChanged}\n              registerHandlers={this.props.registerHandlers}\n              unregisterHandlers={this.props.unregisterHandlers}\n              onNodeDragStart={this.props.onNodeDragStart}\n              onNodeDragMove={this.props.onNodeDragMove}\n              onNodeDrop={this.props.onNodeDrop}\n              onNodeDragEnter={this.props.onNodeDragEnter}\n              onNodeDragLeave={this.props.onNodeDragLeave}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n\n  render() {\n    let { currentPath, node, isNodeMenuShow } = this.props;\n    let { type, icon } = this.getNodeTypeAndIcon();\n    let hlClass = this.state.isHighlight ? 'tree-node-inner-hover ' : '';\n    if (node.path === currentPath) {\n      hlClass = 'tree-node-hight-light';\n    }\n    return (\n      <div className=\"tree-node\">\n        <div type={type} title={node.object.name}\n          onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}\n          className={`tree-node-inner text-nowrap ${hlClass} ${node.path === '/'? 'hide': ''} ${this.state.isNodeDropShow ? 'tree-node-drop' : ''}`}>\n          <div className=\"tree-node-text\" draggable=\"true\" onDragStart={this.onNodeDragStart} onClick={this.onNodeClick} onDragEnter={this.onNodeDragEnter} onDragLeave={this.onNodeDragLeave} onDragOver={this.onNodeDragMove} onDrop={this.onNodeDrop}>{node.object.name}</div>\n          <div className=\"left-icon\">\n            {type === 'dir' && (!node.isLoaded ||  (node.isLoaded && node.hasChildren())) && (\n              <i \n                className={`folder-toggle-icon fa ${node.isExpanded ? 'fa-caret-down' : 'fa-caret-right'}`}\n                onMouseDown={e => e.stopPropagation()}\n                onClick={this.onLoadToggle}\n              ></i>\n            )}\n            <i className=\"tree-node-icon\">{icon}</i>\n          </div>\n          {isNodeMenuShow && (\n            <div className=\"right-icon\">\n              {((this.props.repoPermission || permission) && this.state.isShowOperationMenu) && (\n                <TreeNodeMenu \n                  node={this.props.node}\n                  onMenuItemClick={this.onMenuItemClick}\n                  onUnFreezedItem={this.onUnFreezedItem}\n                  onFreezedItem={this.props.onFreezedItem}\n                  registerHandlers={this.props.registerHandlers}\n                  unregisterHandlers={this.props.unregisterHandlers}\n                />\n              )}\n            </div>\n          )}\n        </div>\n        {node.isExpanded && this.renderChildren()}\n      </div>\n    );\n  }\n}\n\nTreeNodeView.propTypes = propTypes;\n\nexport default TreeNodeView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-node-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  node: PropTypes.object.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnFreezedItem: PropTypes.func.isRequired,\n  registerHandlers: PropTypes.func,\n  unregisterHandlers: PropTypes.func,\n};\n\nclass TreeNodeMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false,\n      menuList: []\n    };\n  }\n\n  componentDidMount() {\n    let menuList = this.caculateMenuList();\n    this.setState({menuList: menuList});\n  }\n\n  caculateMenuList() {\n    let { node } = this.props;\n    let menuList = [];\n    if (node.object.type === 'dir') {\n      menuList = ['New Folder', 'New File', 'Copy', 'Move', 'Rename', 'Delete'];\n    } else {\n      menuList = ['Rename', 'Delete', 'Copy', 'Move', 'Open in New Tab'];\n    }\n    return menuList;\n  }\n\n  translateMenuItem = (menuItem) => {\n    let translateResult = '';\n    switch(menuItem) {\n      case 'New Folder':\n        translateResult = gettext('New Folder');\n        break;\n      case 'New File':\n        translateResult = gettext('New File');\n        break;\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Copy':\n        translateResult = gettext('Copy');\n        break;\n      case 'Move':\n        translateResult = gettext('Move');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Open in New Tab':\n        translateResult = gettext('Open in New Tab');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    e.stopPropagation();\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow }, () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.props.onUnFreezedItem();\n        }\n      }\n    );\n  }\n\n  onMenuItemClick = (event) => {\n    let operation = event.target.dataset.toggle;\n    let node = this.props.node;\n    this.props.onMenuItemClick(operation, node);\n  }\n\n  render() {\n    this.state.isItemMenuShow ? this.props.unregisterHandlers() : this.props.registerHandlers()\n\n    return (\n      <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n        <DropdownToggle \n          tag=\"i\" \n          className=\"fas fa-ellipsis-v\" \n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\" \n          aria-expanded={this.state.isItemMenuShow}\n          onClick={this.onDropdownToggleClick}\n        />\n        <DropdownMenu>\n          {this.state.menuList.map((menuItem, index) => {\n            return (\n              <DropdownItem key={index} data-toggle={menuItem} onClick={this.onMenuItemClick}>{this.translateMenuItem(menuItem)}</DropdownItem>\n            );\n          })}\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nTreeNodeMenu.propTypes = propTypes;\n\nexport default TreeNodeMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-node-menu.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\n\nimport '../../css/tree-view-contextmenu.css'\n\nconst propTypes = {\n  onMenuItemClick: PropTypes.func.isRequired,\n  node: PropTypes.object,\n  mousePosition: PropTypes.object,\n  closeRightMenu: PropTypes.func,\n  registerHandlers:PropTypes.func,\n  unregisterHandlers:PropTypes.func\n};\n\nclass TreeViewContextMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false,\n      menuList: [],\n    };\n  }\n\n  componentDidMount() {\n    let menuList = this.caculateMenuList();\n    this.setState({menuList: menuList});\n  }\n\n  componentDidUpdate() {\n    this.calculateMenuDistance();\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.listenClick);\n    document.removeEventListener('mousemove', this.handleContextMenu);\n  }\n\n  caculateMenuList() {\n    let { node } = this.props;\n    let menuList = [];\n    if (!node) {\n        menuList = ['New Folder', 'New File'];\n    } else {\n      if (node.object.type === 'dir') {\n        menuList = ['New Folder', 'New File', 'Copy', 'Move', 'Rename', 'Delete'];\n      } else {\n        menuList = ['Rename', 'Delete', 'Copy', 'Move', 'Open in New Tab'];\n      } \n    }\n    return menuList;\n  }\n\n  calculateMenuDistance = () => {\n    let mousePosition = this.props.mousePosition;\n    let rightTreeMenu = document.querySelector('.right-tree-menu');\n    let rightTreeMenuHeight = rightTreeMenu.offsetHeight;\n\n    if (mousePosition.clientY + rightTreeMenuHeight > document.body.clientHeight) {\n      rightTreeMenu.style.top = mousePosition.clientY - rightTreeMenuHeight + 'px';\n    } else {\n      rightTreeMenu.style.top = mousePosition.clientY + 'px';\n    }\n    rightTreeMenu.style.left = mousePosition.clientX + 'px';\n\n    document.addEventListener('click', this.listenClick);\n    document.addEventListener('mousemove', this.handleContextMenu);\n  }\n\n  translateMenuItem = (menuItem) => {\n    let translateResult = '';\n    switch(menuItem) {\n      case 'New Folder':\n        translateResult = gettext('New Folder');\n        break;\n      case 'New File':\n        translateResult = gettext('New File');\n        break;\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Copy':\n        translateResult = gettext('Copy');\n        break;\n      case 'Move':\n        translateResult = gettext('Move');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Open in New Tab':\n        translateResult = gettext('Open in New Tab');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  }\n\n  handleContextMenu = (e) => {\n    let mousePosition = this.props.mousePosition;\n    let rightTreeMenu = document.querySelector('.right-tree-menu');\n    let rightTreeMenuHeight = rightTreeMenu.offsetHeight;\n    let rightTreeMenuWidth = rightTreeMenu.offsetWidth;\n\n    if (mousePosition.clientY + rightTreeMenuHeight > document.body.clientHeight) {\n      if ((e.clientX >= mousePosition.clientX) && (e.clientX <= (mousePosition.clientX + rightTreeMenuWidth)) && (e.clientY <= mousePosition.clientY) && (e.clientY >= (mousePosition.clientY - rightTreeMenuHeight))) {\n        this.props.unregisterHandlers();\n      } else {\n        this.props.registerHandlers();\n      }\n    } else {\n      if ((e.clientX >= mousePosition.clientX) && (e.clientX <= (mousePosition.clientX + rightTreeMenuWidth)) && (e.clientY >= mousePosition.clientY) && (e.clientY <= (mousePosition.clientY + rightTreeMenuHeight))) {\n        this.props.unregisterHandlers();\n      } else {\n        this.props.registerHandlers();\n      }\n    }\n  }\n\n  listenClick = (e) => {\n    let mousePosition = this.props.mousePosition;\n    let rightTreeMenu = document.querySelector('.right-tree-menu');\n    let rightTreeMenuHeight = rightTreeMenu.offsetHeight;\n    let rightTreeMenuWidth = rightTreeMenu.offsetWidth;\n\n    if ((e.clientX <= mousePosition.clientX) || (e.clientX >= (mousePosition.clientX + rightTreeMenuWidth))) {\n      this.props.closeRightMenu();\n    }\n\n    if (mousePosition.clientY + rightTreeMenuHeight > document.body.clientHeight) {\n      if ((e.clientY <= (mousePosition.clientY - rightTreeMenuHeight)) || e.clientY >= mousePosition.clientY) {\n        this.props.closeRightMenu();\n      }\n    } else {\n      if ((e.clientY <= mousePosition.clientY) || (e.clientY >= (mousePosition.clientY + rightTreeMenuHeight))) {\n        this.props.closeRightMenu();\n      }\n    }\n  }\n\n  onMenuItemClick = (event) => {\n    let operation = event.target.dataset.toggle;\n    let node = this.props.node;\n    this.props.onMenuItemClick(operation, node);\n    this.props.closeRightMenu();\n  }\n\n  render() {\n    return (\n      <div className='right-tree-menu'>\n        {this.state.menuList.map((menuItem, index) => {\n          return (\n            <button className='right-tree-item' key={index} data-toggle={menuItem} onClick={this.onMenuItemClick}>{this.translateMenuItem(menuItem)}</button>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nTreeViewContextMenu.propTypes = propTypes;\n\nexport default TreeViewContextMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-view-contextmenu.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MarkdownViewer from '@seafile/seafile-editor/dist/viewer/markdown-viewer';\nimport { gettext, repoID, slug, serviceURL, isPublicWiki } from '../utils/constants';\nimport Loading from './loading';\nimport { Utils } from '../utils/utils';\n\nconst propTypes = {\n  children: PropTypes.object,\n  isFileLoading: PropTypes.bool.isRequired,\n  markdownContent: PropTypes.string.isRequired,\n  latestContributor: PropTypes.string.isRequired,\n  lastModified: PropTypes.string.isRequired,\n  onLinkClick: PropTypes.func.isRequired,\n  isWiki: PropTypes.bool,\n  isTOCShow: PropTypes.bool,\n};\n\nconst contentClass = 'wiki-page-content';\n\nclass WikiMarkdownViewer extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTitleIndex: 0\n    };\n    this.markdownContainer = React.createRef();\n    this.links = [];\n    this.titlesInfo = [];\n  }\n\n  componentDidMount() {\n    // Bind event when first loaded\n    this.links = document.querySelectorAll(`.${contentClass} a`);\n    this.links.forEach(link => {\n      link.addEventListener('click', this.onLinkClick);\n    });\n  }\n\n  componentWillReceiveProps() {\n    // Unbound event when updating\n    this.links.forEach(link => {\n      link.removeEventListener('click', this.onLinkClick);\n    });\n  }\n\n  componentDidUpdate() {\n    // Update completed, rebind event\n    this.links = document.querySelectorAll(`.${contentClass} a`);\n    this.links.forEach(link => {\n      link.addEventListener('click', this.onLinkClick);\n    });\n  }\n\n  componentWillUnmount() {\n    // Rebinding events when the component is destroyed\n    this.links.forEach(link => {\n      link.removeEventListener('click', this.onLinkClick);\n    });\n  }\n\n  onContentRendered = (markdownViewer) => {\n    this.titlesInfo = markdownViewer.titlesInfo;\n  }\n\n  onLinkClick = (event) => {\n    event.preventDefault(); \n    event.stopPropagation();\n    let link = '';\n    if (event.target.tagName !== 'A') {\n      let target = event.target.parentNode;\n      while (target.tagName !== 'A') {\n        target = target.parentNode;\n      }\n      link = target.href;\n    } else {\n      link = event.target.href;\n    }\n    this.props.onLinkClick(link);\n  }\n\n  onScrollHandler = () => {\n    const contentScrollTop = this.markdownContainer.current.scrollTop + 180;\n    let titlesLength = this.titlesInfo.length;\n    let activeTitleIndex;\n    if (contentScrollTop <= this.titlesInfo[0]) {\n      activeTitleIndex = 0;\n      this.setState({activeTitleIndex: activeTitleIndex});\n      return;\n    }\n    if (contentScrollTop > this.titlesInfo[titlesLength - 1]) {\n      activeTitleIndex = this.titlesInfo.length - 1;\n      this.setState({activeTitleIndex: activeTitleIndex});\n      return;\n    }\n    for (let i = 0; i < titlesLength; i++) {\n      if (contentScrollTop > this.titlesInfo[i]) {\n        continue;\n      } else {\n        activeTitleIndex = i - 1;\n        break;\n      }\n    }\n    this.setState({activeTitleIndex: activeTitleIndex});\n  }\n\n  changeInlineNode = (item) => {\n    if (item.object == 'inline') {\n      let url;\n\n      // change image url\n      if (item.type == 'image' && isPublicWiki) {\n        url = item.data.src;\n        const re = new RegExp(serviceURL + '/lib/' + repoID +'/file.*raw=1');\n        // different repo \n        if (!re.test(url)) {\n          return;\n        }\n        // get image path\n        let index = url.indexOf('/file');\n        let index2 = url.indexOf('?');\n        const imagePath = url.substring(index + 5, index2);\n        // replace url\n        item.data.src = serviceURL + '/view-image-via-public-wiki/?slug=' + slug + '&path=' + imagePath;\n      } \n\n      else if (item.type == 'link') {\n        url = item.data.href;\n        // change file url \n        if (Utils.isInternalMarkdownLink(url, repoID)) {\n          let path = Utils.getPathFromInternalMarkdownLink(url, repoID);\n          // replace url\n          item.data.href = serviceURL + '/wikis/' + slug + path;\n        } \n        // change dir url \n        else if (Utils.isInternalDirLink(url, repoID)) {\n          let path = Utils.getPathFromInternalDirLink(url, repoID);\n          // replace url\n          item.data.href = serviceURL + '/wikis/' + slug + path;\n        } \n      }\n    }\n\n    return item;\n  }\n\n  modifyValueBeforeRender = (value) => {\n    let nodes = value.document.nodes;\n    let newNodes = Utils.changeMarkdownNodes(nodes, this.changeInlineNode);\n    value.document.nodes = newNodes;\n    return value;\n  }\n\n  renderMarkdown = () => {\n    let isTOCShow = true;\n    if (this.props.isTOCShow === false) {\n      isTOCShow = false;\n    }\n    if (this.props.isWiki) {\n      return (\n        <MarkdownViewer\n          showTOC={isTOCShow}\n          markdownContent={this.props.markdownContent}\n          activeTitleIndex={this.state.activeTitleIndex}\n          onContentRendered={this.onContentRendered}\n          modifyValueBeforeRender={this.modifyValueBeforeRender}\n        />\n      );\n    }\n\n    return (\n      <MarkdownViewer\n        showTOC={isTOCShow}\n        markdownContent={this.props.markdownContent}\n        activeTitleIndex={this.state.activeTitleIndex}\n        onContentRendered={this.onContentRendered}\n      />\n    );\n  }\n\n  render() {\n    if (this.props.isFileLoading) {\n      return <Loading />;\n    }\n    return (\n      <div ref={this.markdownContainer} className=\"wiki-page-container\" onScroll={this.onScrollHandler.bind(this)}>\n        <div className={contentClass}>\n          {this.props.children}\n          {this.renderMarkdown()}\n          <p id=\"wiki-page-last-modified\">{gettext('Last modified by')} {this.props.latestContributor}, <span>{this.props.lastModified}</span></p>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst defaultProps = {\n  isWiki: false,\n};\n\nWikiMarkdownViewer.propTypes = propTypes;\nMarkdownViewer.defaultProps = defaultProps;\n\nexport default WikiMarkdownViewer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/wiki-markdown-viewer.js","import React from 'react';\nimport { css } from 'glamor';\nimport PropTypes from 'prop-types';\nimport Transition from 'react-transition-group/Transition';\nimport Alert from './alert';\n\nconst animationEasing = {\n  deceleration: 'cubic-bezier(0.0, 0.0, 0.2, 1)',\n  acceleration: 'cubic-bezier(0.4, 0.0, 1, 1)',\n  spring: 'cubic-bezier(0.175, 0.885, 0.320, 1.175)'\n};\n\nconst ANIMATION_DURATION = 240;\n\nconst openAnimation = css.keyframes('openAnimation', {\n  from: {\n    opacity: 0,\n    transform: 'translateY(-120%)'\n  },\n  to: {\n    transform: 'translateY(0)'\n  }\n});\n\nconst closeAnimation = css.keyframes('closeAnimation', {\n  from: {\n    transform: 'scale(1)',\n    opacity: 1\n  },\n  to: {\n    transform: 'scale(0.9)',\n    opacity: 0\n  }\n});\n\nconst animationStyles = css({\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  height: 0,\n  transition: `all ${ANIMATION_DURATION}ms ${animationEasing.deceleration}`,\n  '&[data-state=\"entering\"], &[data-state=\"entered\"]': {\n    animation: `${openAnimation} ${ANIMATION_DURATION}ms ${animationEasing.spring} both`\n  },\n  '&[data-state=\"exiting\"]': {\n    animation: `${closeAnimation} 120ms ${animationEasing.acceleration} both`\n  }\n});\n\nexport default class Toast extends React.PureComponent {\n  static propTypes = {\n    /**\n     * The z-index of the toast.\n     */\n    zIndex: PropTypes.number,\n\n    /**\n     * Duration of the toast.\n     */\n    duration: PropTypes.number,\n\n    /**\n     * Function called when the toast is all the way closed.\n     */\n    onRemove: PropTypes.func,\n\n    /**\n     * The type of the alert.\n     */\n    intent: PropTypes.oneOf(['none', 'success', 'warning', 'danger']).isRequired,\n\n    /**\n     * The title of the alert.\n     */\n    title: PropTypes.node,\n\n    /**\n     * Description of the alert.\n     */\n    children: PropTypes.node,\n\n    /**\n     * When true, show a close icon button inside of the toast.\n     */\n    hasCloseButton: PropTypes.bool,\n\n    /**\n     * When false, will close the Toast and call onRemove when finished.\n     */\n    isShown: PropTypes.bool\n  }\n\n  static defaultProps = {\n    intent: 'none'\n  }\n\n  state = {\n    isShown: true,\n    height: 0\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.isShown !== this.props.isShown) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({\n        isShown: this.props.isShown\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.startCloseTimer();\n  }\n\n  componentWillUnmount() {\n    this.clearCloseTimer();\n  }\n\n  close = () => {\n    this.clearCloseTimer();\n    this.setState({\n      isShown: false\n    });\n  }\n\n  startCloseTimer = () => {\n    if (this.props.duration) {\n      this.closeTimer = setTimeout(() => {\n        this.close();\n      }, this.props.duration * 1000);\n    }\n  }\n\n  clearCloseTimer = () => {\n    if (this.closeTimer) {\n      clearTimeout(this.closeTimer);\n      this.closeTimer = null;\n    }\n  }\n\n  handleMouseEnter = () => {\n    this.clearCloseTimer();\n  }\n\n  handleMouseLeave = () => {\n    this.startCloseTimer();\n  }\n\n  onRef = ref => {\n    if (ref === null) return;\n\n    const { height } = ref.getBoundingClientRect();\n\n    this.setState({\n      height\n    });\n  }\n\n  render() {\n    return (\n      <Transition\n        appear\n        unmountOnExit\n        timeout={ANIMATION_DURATION}\n        in={this.state.isShown}\n        onExited={this.props.onRemove}\n      >\n        {state => (\n          <div\n            data-state={state}\n            className={animationStyles}\n            onMouseEnter={this.handleMouseEnter}\n            onMouseLeave={this.handleMouseLeave}\n            style={{\n              height: this.state.height,\n              zIndex: this.props.zIndex,\n              marginBottom: this.state.isShown ? 0 : -this.state.height\n            }}\n          >\n            <div ref={this.onRef} style={{ padding: 8 }}>\n              <Alert\n                intent={this.props.intent}\n                title={this.props.title}\n                children={this.props.children}\n                isRemoveable={this.props.hasCloseButton}\n                onRemove={() => this.close()}\n              />\n            </div>\n          </div>\n        )}\n      </Transition>\n    );\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/toast/toast.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  fileType: PropTypes.string,\n  parentPath: PropTypes.string.isRequired,\n  onAddFolder: PropTypes.func.isRequired,\n  checkDuplicatedName: PropTypes.func.isRequired,\n  addFolderCancel: PropTypes.func.isRequired,\n};\n\nclass CreateForder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      parentPath: '',\n      childName: '',\n      errMessage: ''\n    };\n    this.newInput = React.createRef();\n  }\n\n  componentDidMount() {\n    let parentPath = this.props.parentPath;\n    if (parentPath[parentPath.length - 1] === '/') {  // mainPanel\n      this.setState({parentPath: parentPath});\n    } else {\n      this.setState({parentPath: parentPath + '/'}); // sidePanel\n    }\n    this.newInput.focus();\n    this.newInput.setSelectionRange(0,0);\n  }\n\n  handleChange = (e) => {\n    this.setState({childName: e.target.value});\n  }\n\n  handleSubmit = () => {\n    let newName = this.state.childName;\n    let isDuplicated = this.checkDuplicatedName();\n    if (isDuplicated) {\n      let errMessage = gettext('The name \"{name}\" is already taken. Please choose a different name.');\n      errMessage = errMessage.replace('{name}', Utils.HTMLescape(newName));\n      this.setState({errMessage: errMessage});\n    } else {\n      let path = this.state.parentPath + newName;\n      this.props.onAddFolder(path);\n    }\n  } \n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  toggle = () => {\n    this.props.addFolderCancel();\n  }\n\n  checkDuplicatedName = () => {\n    let isDuplicated = this.props.checkDuplicatedName(this.state.childName);\n    return isDuplicated;\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Folder')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"folderName\">{gettext('Name')}</Label>\n              <Input \n                id=\"folderName\" \n                value={this.state.childName} \n                innerRef={input => {this.newInput = input;}} \n                onKeyPress={this.handleKeyPress} \n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\" className=\"mt-2\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nCreateForder.propTypes = propTypes;\n\nexport default CreateForder;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/create-folder-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\n\nconst propTypes = {\n  onCancelDownload: PropTypes.func.isRequired,\n  progress: PropTypes.number.isRequired,\n};\n\nclass ZipDownloadDialog extends React.Component {\n\n  toggle = () => {\n    this.props.onCancelDownload();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}></ModalHeader>\n        <ModalBody>\n          <div>{this.props.progress + '%'}</div>\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nZipDownloadDialog.propTypes = propTypes;\n\nexport default ZipDownloadDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/zip-download-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport moment from 'moment';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  currentTag: PropTypes.object.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired,\n  updateUsedRepoTags: PropTypes.func.isRequired,\n};\n\nclass ListTaggedFilesDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      taggedFileList: [],\n    };\n  }\n\n  onDeleteTaggedFile = (taggedFile) => {\n    let repoID = this.props.repoID;\n    let fileTagID = taggedFile.file_tag_id;\n    seafileAPI.deleteFileTag(repoID, fileTagID).then(res => {\n      this.getTaggedFiles();\n      this.props.updateUsedRepoTags();\n    });\n  }\n\n  componentDidMount() {\n    this.getTaggedFiles();\n  }\n\n  getTaggedFiles = () => {\n    let { repoID, currentTag } = this.props;\n    seafileAPI.listTaggedFiles(repoID, currentTag.id).then(res => {\n      let taggedFileList = [];\n      res.data.tagged_files !== undefined &&\n      res.data.tagged_files.forEach(file => {\n        let taggedFile = file;\n        taggedFileList.push(taggedFile);\n      });\n      this.setState({\n        taggedFileList: taggedFileList,\n      });\n    });\n  }\n\n  render() {\n    let taggedFileList = this.state.taggedFileList;\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.props.onClose}>{gettext('Tagged Files')}</ModalHeader>\n        <ModalBody className=\"dialog-list-container\">\n          <table>\n            <thead>\n              <tr>\n                <th width='45%' className=\"ellipsis\">{gettext('Name')}</th>\n                <th width='27%'>{gettext('Size')}</th>\n                <th width='18%'>{gettext('Last Update')}</th>\n                <th width='10%'></th>\n              </tr>\n            </thead>\n            <tbody>\n              {taggedFileList.map((taggedFile, index) => {\n                return (\n                  <TaggedFile\n                    key={index}\n                    repoID={this.props.repoID}\n                    taggedFile={taggedFile}\n                    onDeleteTaggedFile={this.onDeleteTaggedFile}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleCancel}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nListTaggedFilesDialog.propTypes = propTypes;\n\nexport default ListTaggedFilesDialog;\n\nconst TaggedFilePropTypes = {\n  repoID: PropTypes.string.isRequired,\n  taggedFile: PropTypes.object,\n  onDeleteTaggedFile: PropTypes.func.isRequired,\n};\n\nclass TaggedFile extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = ({\n      active: false,\n    });\n  }\n\n  onMouseEnter = () => {\n    this.setState({\n      active: true\n    });\n  }\n\n  onMouseLeave = () => {\n    this.setState({\n      active: false\n    });\n  }\n\n  render() {\n    const taggedFile = this.props.taggedFile;\n    let className = this.state.active ? 'action-icon sf2-icon-x3' : 'action-icon vh sf2-icon-x3';\n    let path = taggedFile.parent_path ? Utils.joinPath(taggedFile.parent_path, taggedFile.filename) : '';\n    let href = siteRoot + 'lib/' + this.props.repoID + '/file' + Utils.encodePath(path);\n    return ( taggedFile.file_deleted ?\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td colSpan='3' className=\"name\">{taggedFile.filename}{' '}\n          <span style={{color:\"red\"}}>{gettext('deleted')}</span>\n        </td>\n        <td><i className={className} onClick={this.props.onDeleteTaggedFile.bind(this, taggedFile)}></i></td>\n      </tr>\n      :\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className=\"name\"><a href={href} target='_blank'>{taggedFile.filename}</a></td>\n        <td>{Utils.bytesToSize(taggedFile.size)}</td>\n        <td>{moment.unix(taggedFile.mtime).fromNow()}</td>\n        <td><i className={className} onClick={this.props.onDeleteTaggedFile.bind(this, taggedFile)}></i></td>\n      </tr>\n    );\n  }\n}\n\nTaggedFile.propTypes = TaggedFilePropTypes;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/list-taggedfiles-dialog.js","import React from 'react';\nimport { css } from 'glamor';\n\nclass Alert extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.containerStyle = css({\n      borderRadius: '3px',\n      backgroundColor: '#fff',\n      padding: '10px 16px',\n      display: 'flex',\n      boxSizing: 'border-box',\n      boxShadow: 'rgba(67, 90, 111, 0.3) 0px 0px 1px, rgba(67, 90, 111, 0.47) 0px 8px 10px -4px',\n      justifyContent: 'space-between',\n      flexDirection: 'row',\n    });\n\n    this.containerBorderSuccess = css({\n      borderLeft: '3px solid rgb(71, 184, 129)'\n    });\n\n    this.containerBorderWarn = css({\n      borderLeft: '3px solid rgb(217, 130, 43)'\n    });\n\n    this.containerBorderDanger = css({\n      borderLeft: '3px solid rgb(236, 76, 71)'\n    });\n\n    this.containerBorderNotify = css({\n      borderLeft: '3px solid rgb(16, 112, 202)'\n    });\n\n\n    this.toastTextTitle = css({\n      fontWeight: '600',\n      fontSize: '14px',\n      color: '#435a6f',\n      margin: '0'\n    });\n\n    this.toastTextChild = css({\n      fontSize: '14px',\n      color: '#999',\n      margin: '0'\n    });\n    this.toastClose = css({\n      marginLeft: '15px',\n      height: '24px',\n      width: '24px',\n      lineHeight: '22px',\n      fontWeight: '700',\n      textAlign: 'center',\n      fontSize: '20px',\n      color: '#000',\n      cursor: 'pointer',\n      opacity: '0.5',\n      ':hover': {\n        opacity: 1\n      }\n    });\n\n    this.toastIcon = css({\n      marginRight: '10px',\n      width: '14px',\n      height: '20px',\n      lineHeight: '20px'\n    });\n  }\n\n  getContainerStyle(intent) {\n    switch (intent) {\n      case 'success':\n        return { borderStyle: this.containerBorderSuccess, iconColor: css({color: 'rgb(71, 184, 129)'}), iconClass: 'fa fa-check-circle' };\n      case 'warning':\n        return { borderStyle: this.containerBorderWarn, iconColor: css({color: 'rgb(217, 130, 43)'}) , iconClass: 'fa fa-exclamation-triangle' };\n      case 'none':\n        return { borderStyle: this.containerBorderNotify, iconColor: css({color: 'rgb(16, 112, 202)'}), iconClass: 'fa fa-exclamation-circle' };\n      case  'danger':\n        return { borderStyle: this.containerBorderDanger, iconColor: css({color: 'rgb(236, 76, 71)'}), iconClass: 'fa fa-exclamation-circle' };\n    }\n  }\n\n\n  render() {\n    const toastStyle = this.getContainerStyle(this.props.intent);\n    return (\n      <div {...css(toastStyle.borderStyle, this.containerStyle)}>\n        <div className={this.toastIcon} >\n          <i className={toastStyle.iconClass} {...toastStyle.iconColor}/>\n        </div>\n        <div className={this.toastTextContainer}>\n          <p className={this.toastTextTitle}>{this.props.title}</p>\n          {this.props.children ? <p className={this.toastTextChild}>{this.props.children}</p> : null}\n        </div>\n        <div onClick={this.props.onRemove} className={this.toastClose}>\n          <span>&times;</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Alert;\n\n\n// WEBPACK FOOTER //\n// ./src/components/toast/alert.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  permissions: PropTypes.array.isRequired,\n  currentPermission: PropTypes.string.isRequired,\n  onPermissionChanged: PropTypes.func.isRequired\n};\n\nclass SharePermissionEditor extends React.Component {\n\n  translatePermission = (permission) => {\n    return Utils.sharePerms(permission);\n  }\n\n  translateExplanation = (explanation) => {\n    return Utils.sharePermsExplanation(explanation);\n  }\n\n  render() {\n    return (\n      <SelectEditor \n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.permissions}\n        currentOption={this.props.currentPermission}\n        onOptionChanged={this.props.onPermissionChanged}\n        translateOption={this.translatePermission}\n        translateExplanation={this.translateExplanation}\n      />\n    );\n  }\n}\n\nSharePermissionEditor.propTypes = propTypes;\n\nexport default SharePermissionEditor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/select-editor/share-permission-editor.js","export const dirPath = '/';\nexport const gettext = window.gettext;\n\nexport const siteRoot = window.app.config.siteRoot;\nexport const loginUrl = window.app.config.loginUrl;\nexport const avatarInfo = window.app.config.avatarInfo;\nexport const logoPath =  window.app.config.logoPath;\nexport const mediaUrl = window.app.config.mediaUrl;\nexport const siteTitle = window.app.config.siteTitle;\nexport const siteName = window.app.config.siteName;\nexport const logoWidth = window.app.config.logoWidth;\nexport const logoHeight = window.app.config.logoHeight;\nexport const isPro = window.app.config.isPro === 'True';\nexport const isDocs = window.app.config.isDocs === 'True';\nexport const lang = window.app.config.lang;\nexport const fileServerRoot = window.app.config.fileServerRoot;\nexport const seafileVersion = window.app.config.seafileVersion;\nexport const serviceURL = window.app.config.serviceURL;\n\n//pageOptions\nexport const seafileCollabServer = window.app.pageOptions.seafileCollabServer;\nexport const name = window.app.pageOptions.name;\nexport const contactEmail = window.app.pageOptions.contactEmail;\nexport const username = window.app.pageOptions.username;\nexport const canAddRepo = window.app.pageOptions.canAddRepo;\nexport const canGenerateShareLink = window.app.pageOptions.canGenerateShareLink;\nexport const canGenerateUploadLink = window.app.pageOptions.canGenerateUploadLink ? true : false;\nexport const canViewOrg = window.app.pageOptions.canViewOrg === 'True';\nexport const fileAuditEnabled = window.app.pageOptions.fileAuditEnabled ? true : false;\nexport const enableFileComment = window.app.pageOptions.enableFileComment ? true : false;\nexport const folderPermEnabled = window.app.pageOptions.folderPermEnabled === 'True';\nexport const enableResetEncryptedRepoPassword = window.app.pageOptions.enableResetEncryptedRepoPassword === 'True';\nexport const isEmailConfigured = window.app.pageOptions.isEmailConfigured === 'True';\nexport const enableUploadFolder = window.app.pageOptions.enableUploadFolder === 'True';\nexport const enableResumableFileUpload = window.app.pageOptions.enableResumableFileUpload === 'True';\nexport const storages = window.app.pageOptions.storages; // storage backends\nexport const enableRepoSnapshotLabel = window.app.pageOptions.enableRepoSnapshotLabel;\nexport const shareLinkExpireDaysMin = window.app.pageOptions.shareLinkExpireDaysMin;\nexport const shareLinkExpireDaysMax = window.app.pageOptions.shareLinkExpireDaysMax;\nexport const maxFileName = window.app.pageOptions.maxFileName;\nexport const enableWiki = window.app.pageOptions.enableWiki;\nexport const enableEncryptedLibrary = window.app.pageOptions.enableEncryptedLibrary;\nexport const enableRepoHistorySetting = window.app.pageOptions.enableRepoHistorySetting;\nexport const isSystemStaff = window.app.pageOptions.isSystemStaff;\nexport const thumbnailSizeForOriginal = window.app.pageOptions.thumbnailSizeForOriginal;\nexport const repoPasswordMinLength = window.app.pageOptions.repoPasswordMinLength;\n\nexport const curNoteMsg = window.app.pageOptions.curNoteMsg;\nexport const curNoteID = window.app.pageOptions.curNoteID;\n\n// wiki\nexport const slug = window.wiki ? window.wiki.config.slug : '';\nexport const repoID = window.wiki ? window.wiki.config.repoId : '';\nexport const initialPath = window.wiki ? window.wiki.config.initial_path : '';\nexport const permission = window.wiki ? window.wiki.config.permission === 'True' : '';\nexport const isDir = window.wiki ? window.wiki.config.isDir : '';\nexport const serviceUrl = window.wiki ? window.wiki.config.serviceUrl : '';\nexport const isPublicWiki = window.wiki ? window.wiki.config.isPublicWiki === 'True': '';\n\n// file history\nexport const PER_PAGE = 25;\nexport const historyRepoID = window.fileHistory ? window.fileHistory.pageOptions.repoID : '';\nexport const repoName = window.fileHistory ? window.fileHistory.pageOptions.repoName : '';\nexport const filePath = window.fileHistory ? window.fileHistory.pageOptions.filePath : '';\nexport const fileName = window.fileHistory ? window.fileHistory.pageOptions.fileName : '';\n\n// Draft review\nexport const draftFilePath = window.draft ? window.draft.config.draftFilePath: '';\nexport const draftOriginFilePath = window.draft ? window.draft.config.draftOriginFilePath: '';\nexport const draftFileName = window.draft ? window.draft.config.draftFileName: '';\nexport const draftID = window.draft ? window.draft.config.draftID : '';\nexport const draftRepoID = window.draft ? window.draft.config.draftRepoID : '';\nexport const author = window.draft ? window.draft.config.author : '';\nexport const authorAvatar = window.draft ? window.draft.config.authorAvatar : '';\nexport const originFileExists = window.draft ? window.draft.config.originFileExists : '';\nexport const draftFileExists = window.draft ? window.draft.config.draftFileExists : '';\nexport const draftStatus = window.draft ? window.draft.config.draftStatus : '';\nexport const draftPublishVersion = window.draft ? window.draft.config.draftPublishVersion : '';\nexport const originFileVersion = window.draft ? window.draft.config.originFileVersion : '';\n\n// org admin\nexport const orgID = window.org ? window.org.pageOptions.orgID : '';\nexport const invitationLink = window.org ? window.org.pageOptions.invitationLink : '';\nexport const orgMemberQuotaEnabled = window.org ? window.org.pageOptions.orgMemberQuotaEnabled : '';\n\n// sys admin\nexport const constanceEnabled = window.sysadmin ? window.sysadmin.pageOptions.constance_enabled : '';\nexport const multiTenancy = window.sysadmin ? window.sysadmin.pageOptions.multi_tenancy : '';\nexport const multiInstitution = window.sysadmin ? window.sysadmin.pageOptions.multi_institution : '';\nexport const sysadminExtraEnabled = window.sysadmin ? window.sysadmin.pageOptions.sysadmin_extra_enabled : '';\nexport const enableGuestInvitation = window.sysadmin ? window.sysadmin.pageOptions.enable_guest_invitation : '';\nexport const enableTermsAndConditions = window.sysadmin ? window.sysadmin.pageOptions.enable_terms_and_conditions : '';\nexport const isDefaultAdmin = window.sysadmin ? window.sysadmin.pageOptions.is_default_admin : '';\nexport const enableFileScan = window.sysadmin ? window.sysadmin.pageOptions.enable_file_scan : '';\nexport const canViewSystemInfo = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_system_info : '';\nexport const canViewStatistic = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_statistic : '';\nexport const canConfigSystem = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_config_system : '';\nexport const canManageLibrary = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_library : '';\nexport const canManageUser = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_user : '';\nexport const canManageGroup = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_group : '';\nexport const canViewUserLog = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_user_log : '';\nexport const canViewAdminLog = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_admin_log : '';\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/constants.js","import { slug, repoID, historyRepoID } from './constants';\nimport { seafileAPI } from './seafile-api';\n\nclass EditorUtilities {\n  \n  getFiles() {\n    return seafileAPI.listWikiDir(slug, '/').then(items => {\n      const files = items.data.dir_file_list.map(item => {\n        return {\n          name: item.name,\n          type: item.type === 'dir' ? 'dir' : 'file',\n          isExpanded: item.type === 'dir' ? true : false,\n          parent_path: item.parent_dir,\n          last_update_time: item.last_update_time,\n          permission: item.permission,\n          size: item.size\n        };\n      });\n      return files;\n    });\n  }\n\n  listRepoDir() {\n    return seafileAPI.listDir(repoID, '/',{recursive: true}).then(items => {\n      const files = items.data.dirent_list.map(item => {\n        return {\n          name: item.name,\n          type: item.type === 'dir' ? 'dir' : 'file',\n          isExpanded: item.type === 'dir' ? true : false,\n          parent_path: item.parent_dir,\n          last_update_time: item.mtime,\n          permission: item.permission,\n          size: item.size\n        };\n      });\n\n      return files;\n    });\n  }\n\n  createFile(filePath, isDraft) {\n    return seafileAPI.createFile(repoID, filePath, isDraft);\n  }\n\n  deleteFile(filePath) {\n    return seafileAPI.deleteFile(repoID, filePath);\n  }\n\n  renameFile(filePath, newFileName) {\n    return seafileAPI.renameFile(repoID, filePath, newFileName);\n  }\n\n  createDir(dirPath) {\n    return seafileAPI.createDir(repoID, dirPath);\n  }\n\n  deleteDir(dirPath) {\n    return seafileAPI.deleteDir(repoID, dirPath);\n  }\n\n  renameDir(dirPath, newDirName) {\n    return seafileAPI.renameDir(repoID, dirPath, newDirName);\n  }\n\n  getWikiFileContent(slug, filePath) {\n    return seafileAPI.getWikiFileContent(slug, filePath);\n  }\n\n  getSource() {\n    return seafileAPI.getSource();\n  }\n\n  searchFiles(queryData,cancelToken) {\n    return seafileAPI.searchFiles(queryData,cancelToken);\n  }\n\n  getAccountInfo() {\n    return seafileAPI.getAccountInfo();\n  }\n\n  // file history\n  getFileDownloadLink(filePath) {\n    return seafileAPI.getFileDownloadLink(historyRepoID, filePath);\n  }\n\n  getFileContent(filePath) {\n    return seafileAPI.getFileContent(filePath);\n  }\n\n  listFileHistoryRecords(filePath, page, per_page) {\n    return seafileAPI.listFileHistoryRecords(historyRepoID, filePath, page, per_page);\n  }\n  \n  revertFile(filePath, commitID) {\n    return seafileAPI.revertFile(historyRepoID, filePath, commitID);\n  }\n\n  listDrafts() {\n    return seafileAPI.listDrafts();\n  }\n\n  deleteDraft(id) {\n    return seafileAPI.deleteDraft(id);\n  }\n\n  publishDraft(id) {\n    return seafileAPI.publishDraft(id);\n  }\n\n  zipDownload(parent_dir, dirents) {\n    return seafileAPI.zipDownload(repoID, parent_dir, dirents);\n  }\n\n  queryZipProgress(zip_token) {\n    return seafileAPI.queryZipProgress(zip_token);\n  }\n\n  cancelZipTask(zip_token) {\n    return seafileAPI.cancelZipTask(zip_token);\n  }\n}\n\nconst editorUtilities = new EditorUtilities();\n\nexport default editorUtilities;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/editor-utilties.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AsyncSelect from 'react-select/lib/Async';\nimport { seafileAPI } from '../utils/seafile-api.js';\nimport { gettext } from '../utils/constants';\n\nconst propTypes = {\n  placeholder: PropTypes.string.isRequired,\n  onSelectChange: PropTypes.func.isRequired,\n  isMulti: PropTypes.bool.isRequired,\n  className: PropTypes.string,\n};\n\nconst NoOptionsMessage = (props) => {\n  return (\n    <div {...props.innerProps} style={{margin: '6px 10px', textAlign: 'center', color: 'hsl(0,0%,50%)'}}>{gettext('User not found')}</div>\n  );\n};\n\nclass UserSelect extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.options = [];\n  }\n\n  handleSelectChange = (option) => {\n    this.options = [];\n    this.props.onSelectChange(option);\n  }\n\n  loadOptions = (input, callback) => {\n    const value = input.trim();\n    if (value.length > 0) {\n      seafileAPI.searchUsers(value).then((res) => {\n        this.options = [];\n        for (let i = 0 ; i < res.data.users.length; i++) {\n          const item = res.data.users[i];\n          let obj = {};\n          obj.value = item.name;\n          obj.email = item.email;\n          obj.label =\n            <React.Fragment>\n              <img src={item.avatar_url} className=\"select-module select-module-icon avatar\" alt=\"\"/>\n              <span className='select-module select-module-name'>{item.name}</span>\n            </React.Fragment>;\n          this.options.push(obj);\n        }\n        callback(this.options);\n      });\n    }\n  }\n\n  clearSelect = () => {\n    this.refs.userSelect.select.onChange([], { action: 'clear' });\n  }\n\n  render() {\n    return (\n      <AsyncSelect\n        isClearable\n        classNamePrefix\n        components={{ NoOptionsMessage }}\n        isMulti={this.props.isMulti}\n        loadOptions={this.loadOptions}\n        onChange={this.handleSelectChange}\n        placeholder={this.props.placeholder}\n        className={`user-select ${this.props.className}`}\n        ref=\"userSelect\"\n      />\n    );\n  }\n}\n\nUserSelect.propTypes = propTypes;\n\nexport default UserSelect;\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-select.js","class FileTag {\n  constructor(object) {\n    this.id = object.file_tag_id;\n    this.repo_tag_id = object.repo_tag_id;\n    this.name = object.tag_name;\n    this.color = object.tag_color;\n  }\n}\n\nexport default FileTag;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/file-tag.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap'; \nimport { gettext, canGenerateShareLink, canGenerateUploadLink } from '../../utils/constants';\nimport ShareToUser from './share-to-user';\nimport ShareToGroup from './share-to-group';\nimport GenerateShareLink from './generate-share-link';\nimport GenerateUploadLink from './generate-upload-link';\nimport '../../css/share-link-dialog.css';\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemType: PropTypes.string.isRequired, // there will be three choose: ['library', 'dir', 'file']\n  itemName: PropTypes.string.isRequired,\n  itemPath: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n  repoEncrypted: PropTypes.bool,\n  userPerm: PropTypes.string,\n  enableDirPrivateShare: PropTypes.bool,\n};\n\nclass ShareDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: this.getInitialActiveTab()\n    };\n  }\n\n  getInitialActiveTab = () => {\n    const {repoEncrypted, userPerm, enableDirPrivateShare} = this.props;\n    const enableShareLink = !repoEncrypted && canGenerateShareLink;\n    const enableUploadLink = !repoEncrypted && canGenerateUploadLink && userPerm == 'rw';\n\n    if (enableShareLink) {\n      return 'shareLink';\n    } else if (enableUploadLink) {\n      return 'uploadLink';\n    } else if (enableDirPrivateShare) {\n      return 'shareToUser';\n    }\n  }\n\n  toggle = (tab) => {\n    if (this.state.activeTab !== tab) {\n      this.setState({activeTab: tab});\n    }\n  }\n\n  renderDirContent = () => {\n    let activeTab = this.state.activeTab;\n\n    const {repoEncrypted, userPerm, enableDirPrivateShare} = this.props;\n    const enableShareLink = !repoEncrypted && canGenerateShareLink;\n    const enableUploadLink = !repoEncrypted && canGenerateUploadLink && userPerm == 'rw';\n    \n    return (\n      <Fragment>\n        <div className=\"share-dialog-side\">\n          <Nav pills vertical>\n            {enableShareLink &&\n              <NavItem>\n                <NavLink className={activeTab === 'shareLink' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareLink')}>\n                  {gettext('Share Link')}\n                </NavLink>\n              </NavItem>\n            }\n            {enableUploadLink &&\n              <NavItem>\n                <NavLink className={activeTab === 'uploadLink' ? 'active' : ''} onClick={this.toggle.bind(this, 'uploadLink')}>\n                  {gettext('Upload Link')}\n                </NavLink>\n              </NavItem>\n            }\n            {enableDirPrivateShare &&\n              <Fragment>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToUser' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToUser')}>\n                    {gettext('Share to user')}\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToGroup' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToGroup')}>\n                    {gettext('Share to group')}\n                  </NavLink>\n                </NavItem>\n              </Fragment>\n            }\n          </Nav>\n        </div>\n        <div className=\"share-dialog-main\">\n          <TabContent activeTab={this.state.activeTab}>\n            {enableShareLink &&\n              <TabPane tabId=\"shareLink\">\n                <GenerateShareLink \n                  itemPath={this.props.itemPath} \n                  repoID={this.props.repoID}\n                  closeShareDialog={this.props.toggleDialog} \n                />\n              </TabPane>\n            }\n            {enableUploadLink &&\n              <TabPane tabId=\"uploadLink\">\n                <GenerateUploadLink \n                  itemPath={this.props.itemPath} \n                  repoID={this.props.repoID} \n                  closeShareDialog={this.props.toggleDialog} \n                />\n              </TabPane>\n            }\n            {enableDirPrivateShare &&\n              <Fragment>\n                <TabPane tabId=\"shareToUser\">\n                  <ShareToUser itemType={this.props.itemType} isGroupOwnedRepo={this.props.isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} />\n                </TabPane>\n                <TabPane tabId=\"shareToGroup\">\n                  <ShareToGroup itemType={this.props.itemType} isGroupOwnedRepo={this.props.isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} />\n                </TabPane>\n              </Fragment>\n            }\n          </TabContent>\n        </div>\n      </Fragment>\n    );\n  }\n\n  renderFileContent = () => {\n    return (\n      <Fragment>\n        <div className=\"share-dialog-side\">\n          <Nav pills vertical>\n            <NavItem>\n              <NavLink\n                className=\"active\" onClick={() => {this.toggle.bind(this, 'shareLink');}}>\n                {gettext('Share Link')}\n              </NavLink>\n            </NavItem>\n          </Nav>\n        </div>\n        <div className=\"share-dialog-main\">\n          <TabContent activeTab={this.state.activeTab}>\n            <TabPane tabId=\"shareLink\">\n              <GenerateShareLink \n                itemPath={this.props.itemPath} \n                repoID={this.props.repoID} \n                closeShareDialog={this.props.toggleDialog}\n              />\n            </TabPane>\n          </TabContent>\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    const { itemType, itemName, repoEncrypted } = this.props;\n    const enableShareLink = !repoEncrypted && canGenerateShareLink;\n    return (\n      <div>\n        <Modal isOpen={true} style={{maxWidth: '720px'}} className=\"share-dialog\" toggle={this.props.toggleDialog}>\n          <ModalHeader toggle={this.props.toggleDialog}>{gettext('Share')} <span className=\"op-target\" title={itemName}>{itemName}</span></ModalHeader>\n          <ModalBody className=\"dialog-list-container share-dialog-content\">\n            {(itemType === 'library' || itemType === 'dir') && this.renderDirContent()}\n            {(itemType === 'file' && enableShareLink) && this.renderFileContent()}\n          </ModalBody>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nShareDialog.propTypes = propTypes;\n\nexport default ShareDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/share-dialog.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { Utils } from '../../utils/utils';\nimport editorUtilities from '../../utils/editor-utilties';\nimport { siteRoot, gettext } from '../../utils/constants';\n\nconst propTypes = {\n  isAdminPanel: PropTypes.bool,\n};\n\nclass Account extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showInfo: false,\n      userName: '',\n      contactEmail: '',\n      quotaUsage: '',\n      quotaTotal: '',\n      isStaff: false,\n      isOrgStaff: false,\n      usageRate: '',\n      avatarURL: '',\n    };\n  }\n\n  componentDidMount(){\n    this.getAccountInfo();\n  }\n\n  componentDidUpdate(prevProps) {\n    this.handleProps();\n  }\n\n  getContainer = () => {\n    return ReactDOM.findDOMNode(this);\n  }\n\n  handleProps = () => {\n    if (this.state.showInfo) {\n      this.addEvents();\n    } else {\n      this.removeEvents();\n    }\n  }\n\n  addEvents = () => {\n    ['click', 'touchstart', 'keyup'].forEach(event =>\n      document.addEventListener(event, this.handleDocumentClick, true)\n    );\n  }\n\n  removeEvents = () => {\n    ['click', 'touchstart', 'keyup'].forEach(event =>\n      document.removeEventListener(event, this.handleDocumentClick, true)\n    );\n  }\n\n  handleDocumentClick = (e) => {\n    if (e && (e.which === 3 || (e.type === 'keyup' && e.which !== Utils.keyCodes.tab))) return;\n    const container = this.getContainer();\n\n    if (container.contains(e.target) && container !== e.target && (e.type !== 'keyup' || e.which === Utils.keyCodes.tab)) {\n      return;\n    }\n\n    this.setState({\n      showInfo: !this.state.showInfo,\n    });\n  }\n\n  onClickAccount = () => {\n    this.setState({\n      showInfo: !this.state.showInfo,\n    });\n  }\n\n  getAccountInfo = () => {\n    editorUtilities.getAccountInfo().then(resp => {\n      this.setState({\n        userName: resp.data.name,\n        contactEmail: resp.data.email,\n        usageRate: resp.data.space_usage,\n        quotaUsage: Utils.bytesToSize(resp.data.usage),\n        quotaTotal: Utils.bytesToSize(resp.data.total),\n        isStaff: resp.data.is_staff,\n        isOrgStaff: resp.data.is_org_staff === 1 ? true : false,\n        avatarURL: resp.data.avatar_url\n      });\n    });\n  }\n\n  renderMenu = () => {\n    let isAdminPage = this.state.isStaff || this.state.isOrgStaff;\n\n    if (isAdminPage && this.props.isAdminPanel) {\n      return (\n        <a href={siteRoot} title={gettext('Exit Admin Panel')} className=\"item\">{gettext('Exit Admin Panel')}</a>\n      );\n    }\n\n    if (this.state.isStaff) {\n      return (\n        <a href={siteRoot + 'sys/useradmin/'} title={gettext('System Admin')} className=\"item\">{gettext('System Admin')}</a>\n      );\n    }\n\n    if (this.state.isOrgStaff) {\n      return (\n        <a href={siteRoot + 'org/useradmin/'} title={gettext('Organization Admin')} className=\"item\">{gettext('Organization Admin')}</a>\n      );\n    }\n  }\n\n  renderAvatar = () => {\n    if (this.state.avatarURL) {\n      return (\n        <img src={this.state.avatarURL} width=\"36\" height=\"36\" className=\"avatar\" alt={gettext('Avatar')} />\n      );\n    }\n    return (\n      <img src=\"\" width=\"36\" height=\"36\" className=\"avatar\" alt={gettext('Avatar')} />\n    );\n  }\n\n  render() {\n    return (\n      <div id=\"account\">\n        <a id=\"my-info\" onClick={this.onClickAccount} className=\"account-toggle no-deco d-none d-md-block\" aria-label=\"View profile and more\">\n          <span><img src={this.state.avatarURL} width=\"36\" height=\"36\" className=\"avatar\" alt={gettext('Avatar')} /></span>\n          <span className=\"fas fa-caret-down vam\"></span>\n        </a>\n        <span className=\"account-toggle sf2-icon-more mobile-icon d-md-none\" aria-label=\"View profile and more\" onClick={this.onClickAccount}></span>\n        <div id=\"user-info-popup\" className={`account-popup sf-popover ${this.state.showInfo? '':'hide'}`}>\n          <div className=\"outer-caret up-outer-caret\">\n            <div className=\"inner-caret\"></div>\n          </div>\n          <div className=\"sf-popover-con\">\n            <div className=\"item o-hidden\">\n              {this.renderAvatar()}\n              <div className=\"txt\">{this.state.userName}</div>\n            </div>\n            <div id=\"space-traffic\">\n              <div className=\"item\">\n                <p>{gettext('Used:')}{' '}{this.state.quotaUsage} / {this.state.quotaTotal}</p>\n                <div id=\"quota-bar\"><span id=\"quota-usage\" className=\"usage\" style={{width: this.state.usageRate}}></span></div>\n              </div>\n            </div>\n            <a href={siteRoot + 'profile/'} className=\"item\">{gettext('Settings')}</a>\n            {this.renderMenu()}\n            <a href={siteRoot + 'accounts/logout/'} className=\"item\">{gettext('Log out')}</a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nAccount.defaultProps = {\n  isAdminPanel: false\n}\n\nAccount.propTypes = propTypes;\n\nexport default Account;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/account.js","import io from 'socket.io-client';\nimport { name, username, contactEmail, seafileCollabServer } from './constants';\n\nconst socket = (seafileCollabServer !== '') ? io(seafileCollabServer) : undefined;\n\nclass CollabServer {\n\n  watchRepo(repoID, fn) {\n    if (!socket) {\n      return;\n    }\n    socket.emit('repo_update', {\n      request: 'watch_update',\n      repo_id: repoID,\n      user: {\n        name: name,\n        username: username,\n        contact_email: contactEmail,\n      },\n    });\n    socket.on('repo_update', fn);\n  }\n\n  unwatchRepo(repoID, fn) {\n    if (!socket) {\n      return;\n    }\n    socket.emit('repo_update', {\n      request: 'unwatch_update',\n      repo_id: repoID,\n      user: {\n        name: name,\n        username: username,\n        contact_email: contactEmail,\n      },\n    });\n    socket.off('repo_update', fn);\n  }\n}\n\nconst collabServer = new CollabServer();\n\nexport default collabServer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/collab-server.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nconst propTypes = {\n  currentNode: PropTypes.object.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n};\n\nclass Delete extends React.Component {\n\n  toggle = () => {\n    this.props.toggleCancel();\n  }\n  \n  render() {\n    let currentNode = this.props.currentNode;\n    let name = currentNode.object.name;\n    let title = gettext('Delete File');\n    if (currentNode.object.isDir()) {\n      title = gettext('Delete Folder');\n    }\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{title}</ModalHeader>\n        <ModalBody>\n          <p>{gettext('Are you sure to delete')}{' '}<b>{name}</b> ?</p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.props.handleSubmit}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDelete.propTypes = propTypes;\n\nexport default Delete;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/delete-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Alert } from 'reactstrap';\n\nconst propTypes = {\n  currentNode: PropTypes.object,\n  onRename: PropTypes.func.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  checkDuplicatedName: PropTypes.func.isRequired,\n};\n\nclass Rename extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      newName: '',\n      errMessage: '',\n    };\n    this.newInput = React.createRef();\n  }\n\n  componentWillMount() {\n    this.setState({newName: this.props.currentNode.object.name});\n  }\n\n  componentDidMount() {\n    let currentNode = this.props.currentNode;\n    this.changeState(currentNode);\n    this.newInput.focus();\n    let type = currentNode.object.type;\n    if (type === 'file') {\n      var endIndex = currentNode.object.name.lastIndexOf('.md');\n      this.newInput.setSelectionRange(0, endIndex, 'forward');\n    } else {\n      this.newInput.setSelectionRange(0, -1);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.changeState(nextProps.currentNode);\n  }\n  \n  handleChange = (e) => {\n    this.setState({newName: e.target.value}); \n  }\n\n  handleSubmit = () => {\n    let { isValid, errMessage } = this.validateInput();\n    if (!isValid) {\n      this.setState({errMessage : errMessage});\n    } else {\n      let isDuplicated = this.checkDuplicatedName();\n      if (isDuplicated) {\n        let errMessage = gettext('The name \"{name}\" is already taken. Please choose a different name.');\n        errMessage = errMessage.replace('{name}', Utils.HTMLescape(this.state.newName));\n        this.setState({errMessage: errMessage});\n      } else {\n        this.props.onRename(this.state.newName);\n      }\n    }\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n    } \n  }\n\n  toggle = () => {\n    this.props.toggleCancel();\n  }\n\n  changeState = (currentNode) => {\n    let name = currentNode.object.name;\n    this.setState({newName: name});\n  }\n\n  validateInput = () => {\n    let newName = this.state.newName.trim();\n    let isValid = true;\n    let errMessage = '';\n    if (!newName) {\n      isValid = false;\n      errMessage = gettext('Name is required.');\n      return { isValid, errMessage };\n    }\n\n    if (newName.indexOf('/') > -1) {\n      isValid = false;\n      errMessage = gettext('Name should not include ' + '\\'/\\'' + '.');\n      return { isValid, errMessage };\n    }\n\n    return { isValid, errMessage };\n  }\n\n  checkDuplicatedName = () => {\n    let isDuplicated = this.props.checkDuplicatedName(this.state.newName);\n    return isDuplicated;\n  }\n\n  render() {\n    let type = this.props.currentNode.object.type;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{type === 'file' ? gettext('Rename File') : gettext('Rename Folder') }</ModalHeader>\n        <ModalBody>\n          <p>{type === 'file' ? gettext('New file name'): gettext('New folder name')}</p>\n          <Input onKeyPress={this.handleKeyPress} innerRef={input => {this.newInput = input;}} placeholder=\"newName\" value={this.state.newName} onChange={this.handleChange} />\n          {this.state.errMessage && <Alert color=\"danger\" className=\"mt-2\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nRename.propTypes = propTypes;\n\nexport default Rename;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/rename-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  currentMode: PropTypes.string.isRequired,\n  switchViewMode: PropTypes.func.isRequired,\n};\n\nclass ViewModeToolbar extends React.Component {\n\n  switchViewMode = (e) => {\n    e.preventDefault();\n    let id = e.target.id;\n    if (id === this.props.currentMode) {\n      return;\n    }\n    this.props.switchViewMode(id);\n  }\n\n  render() {\n    let baseClass = 'btn btn-secondary btn-icon sf-view-mode-btn ';\n    return (\n      <div className=\"view-mode btn-group\">\n        <button className={`${baseClass} sf2-icon-list-view ${this.props.currentMode === 'list' ? 'current-mode' : ''}`} id='list' title={gettext('List')} onClick={this.switchViewMode}></button>\n        {/* <button className={`${baseClass} sf2-icon-grid-view ${this.props.currentMode === 'grid' ? 'current-mode' : ''}`} id='grid' title={gettext('Grid')} onClick={this.switchViewMode}></button> */}\n        <button className={`${baseClass} sf2-icon-two-columns ${this.props.currentMode === 'column' ? 'current-mode' : ''}`} id='column' title={gettext('Column')} onClick={this.switchViewMode}></button>\n      </div>\n    );\n  }\n}\n\nViewModeToolbar.propTypes = propTypes;\n\nexport default ViewModeToolbar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbar/view-mode-toolbar.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\nimport { gettext } from '../../utils/constants';\nimport ModalPortal from '../modal-portal';\nimport CreateFolder from '../../components/dialog/create-folder-dialog';\nimport CreateFile from '../../components/dialog/create-file-dialog';\nimport ShareDialog from '../../components/dialog/share-dialog';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  repoName: PropTypes.string.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n  enableDirPrivateShare: PropTypes.bool.isRequired,\n  userPerm: PropTypes.string.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  showShareBtn: PropTypes.bool.isRequired,\n  onAddFile: PropTypes.func.isRequired,\n  onAddFolder: PropTypes.func.isRequired,\n  onUploadFile: PropTypes.func.isRequired,\n  onUploadFolder: PropTypes.func.isRequired,\n  direntList: PropTypes.array.isRequired,\n};\n\nclass DirOperationToolbar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      fileType: '.md',\n      isCreateFileDialogShow: false,\n      isCreateFolderDialogShow: false,\n      isUploadMenuShow: false,\n      isCreateMenuShow: false,\n      isShareDialogShow: false,\n      operationMenuStyle: '',\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.hideOperationMenu);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.hideOperationMenu);\n  }\n\n  hideOperationMenu = () => {\n    this.setState({\n      isUploadMenuShow: false,\n      isCreateMenuShow: false,\n    });\n  }\n\n  toggleOperationMenu = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    let targetRect = e.target.getClientRects()[0];\n    let left = targetRect.x;\n    let top  = targetRect.y + targetRect.height;\n    let style = {position: 'fixed', display: 'block', left: left, top: top};\n    this.setState({operationMenuStyle: style});\n  }\n\n  onUploadClick = (e) => {\n    this.toggleOperationMenu(e);\n    this.setState({\n      isUploadMenuShow: true,\n      isCreateMenuShow: false,\n    });\n  }\n\n  onUploadFile = (e) => {\n    this.setState({isUploadMenuShow: false});\n    this.props.onUploadFile(e);\n  }\n  \n  onUploadFolder = (e) => {\n    this.setState({isUploadMenuShow: false});\n    this.props.onUploadFolder(e);\n  }\n\n  onCreateClick = (e) => {\n    this.toggleOperationMenu(e);\n    this.setState({\n      isCreateMenuShow: true,\n      isUploadMenuShow: false,\n    });\n  }\n\n  onShareClick = (e) => {\n    e.nativeEvent.stopImmediatePropagation(); //for document event\n    this.setState({\n      isShareDialogShow: !this.state.isShareDialogShow\n    });\n  }\n\n  onCreateFolderToggle = () => {\n    this.setState({isCreateFolderDialogShow: !this.state.isCreateFolderDialogShow});\n  }\n\n  onCreateFileToggle = () => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: '',\n    });\n  }\n\n  onCreateMarkdownToggle = () => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: '.md'\n    });\n  }\n\n  onCreateExcelToggle = () => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: '.xlsx'\n    });\n  }\n\n  onCreatePPTToggle = () => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: '.pptx'\n    });\n  }\n\n  onCreateWordToggle = () => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: '.docx'\n    });\n  }\n\n  onAddFile = (filePath, isDraft) => {\n    this.setState({isCreateFileDialogShow: false});\n    this.props.onAddFile(filePath, isDraft);\n  }\n\n  onAddFolder = (dirPath) => {\n    this.setState({isCreateFolderDialogShow: false});\n    this.props.onAddFolder(dirPath);\n  }\n\n  checkDuplicatedName = (newName) => {\n    let direntList = this.props.direntList;\n    let isDuplicated = direntList.some(object => {\n      return object.name === newName;\n    });\n    return isDuplicated;\n  }\n\n  render() {\n    let { path, repoName, userPerm } = this.props;\n    \n    if (userPerm !== 'rw' && userPerm !== 'admin') {\n      return '';\n    }\n\n    let itemType = path === '/' ? 'library' : 'dir';\n    let itemName = path == '/' ? repoName : Utils.getFolderName(path);\n    return (\n      <Fragment>\n        <div className=\"operation\">\n          {Utils.isSupportUploadFolder() ?\n            <button className=\"btn btn-secondary operation-item\" title={gettext('Upload')} onClick={this.onUploadClick}>{gettext('Upload')}</button> :\n            <button className=\"btn btn-secondary operation-item\" title={gettext('Upload')} onClick={this.onUploadFile}>{gettext('Upload')}</button>\n          }\n          <button className=\"btn btn-secondary operation-item\" title={gettext('New')} onClick={this.onCreateClick}>{gettext('New')}</button>\n          {this.props.showShareBtn &&\n          <button className=\"btn btn-secondary operation-item\" title={gettext('Share')} onClick={this.onShareClick}>{gettext('Share')}</button>\n          }\n        </div>\n        {this.state.isUploadMenuShow && (\n          <ul className=\"menu dropdown-menu\" style={this.state.operationMenuStyle}>\n            <li className=\"dropdown-item\" onClick={this.onUploadFile}>{gettext('Upload Files')}</li>\n            <li className=\"dropdown-item\" onClick={this.onUploadFolder}>{gettext('Upload Folder')}</li>\n          </ul>\n        )}\n        {this.state.isCreateMenuShow && (\n          <ul className=\"menu dropdown-menu\" style={this.state.operationMenuStyle}>\n            <li className=\"dropdown-item\" onClick={this.onCreateFolderToggle}>{gettext('New Folder')}</li>\n            <li className=\"dropdown-item\" onClick={this.onCreateFileToggle}>{gettext('New File')}</li>\n            <li className=\"dropdown-divider\"></li>\n            <li className=\"dropdown-item\" onClick={this.onCreateMarkdownToggle}>{gettext('New Markdown File')}</li>\n            <li className=\"dropdown-item\" onClick={this.onCreateExcelToggle}>{gettext('New Excel File')}</li>\n            <li className=\"dropdown-item\" onClick={this.onCreatePPTToggle}>{gettext('New PowerPoint File')}</li>\n            <li className=\"dropdown-item\" onClick={this.onCreateWordToggle}>{gettext('New Word File')}</li>\n          </ul>\n        )}\n        {this.state.isCreateFileDialogShow && (\n          <ModalPortal>\n            <CreateFile\n              parentPath={this.props.path}\n              fileType={this.state.fileType}\n              onAddFile={this.onAddFile}\n              checkDuplicatedName={this.checkDuplicatedName}\n              addFileCancel={this.onCreateFileToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isCreateFolderDialogShow && (\n          <ModalPortal>\n            <CreateFolder\n              parentPath={this.props.path}\n              onAddFolder={this.onAddFolder}\n              checkDuplicatedName={this.checkDuplicatedName}\n              addFolderCancel={this.onCreateFolderToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShareDialogShow &&\n          <ModalPortal>\n            <ShareDialog \n              itemType={itemType}\n              itemName={itemName}\n              itemPath={this.props.path}\n              repoID={this.props.repoID}\n              repoEncrypted={this.props.repoEncrypted}\n              enableDirPrivateShare={this.props.enableDirPrivateShare}\n              userPerm={this.props.userPerm}\n              isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n              toggleDialog={this.onShareClick}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nDirOperationToolbar.propTypes = propTypes;\n\nexport default DirOperationToolbar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbar/dir-operation-toolbar.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button , ButtonGroup , Modal } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport URLDecorator from '../../utils/url-decorator';\nimport ZipDownloadDialog from '../dialog/zip-download-dialog';\nimport MoveDirentDialog from '../dialog/move-dirent-dialog';\nimport CopyDirentDialog from '../dialog/copy-dirent-dialog';\nimport DirentsMenu from '../dirent-list-view/dirents-menu';\nimport ShareDialog from '../dialog/share-dialog';\nimport RelatedFileDialogs from '../dialog/related-file-dialogs';\nimport EditFileTagDialog from '../dialog/edit-filetag-dialog';\nimport toaster from '../toast';\nimport ModalPortal from '../modal-portal';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n  selectedDirentList: PropTypes.array.isRequired,\n  onItemsMove: PropTypes.func.isRequired,\n  onItemsCopy: PropTypes.func.isRequired,\n  onItemsDelete: PropTypes.func.isRequired,\n  isRepoOwner: PropTypes.bool.isRequired,\n  enableDirPrivateShare: PropTypes.bool.isRequired,\n  currentRepoInfo: PropTypes.object.isRequired,\n  onFilesTagChanged: PropTypes.func.isRequired,\n  unSelectDirent: PropTypes.func.isRequired,\n  updateDirent: PropTypes.func.isRequired,\n  showDirentDetail: PropTypes.func.isRequired,\n};\n\nclass MutipleDirOperationToolbar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      progress: 0,\n      isProgressDialogShow: false,\n      isMoveDialogShow: false,\n      isCopyDialogShow: false,\n      isMutipleOperation: true,\n      showLibContentViewDialogs: false,\n      showShareDialog: false,\n      showEditFileTagDialog: false,\n      fileTagList: [],\n      multiFileTagList: [],\n      showRelatedFileDialog: false,\n      viewMode: 'list_related_file',     \n    };\n    this.zipToken = null;\n  }\n\n  onMoveToggle = () => {\n    this.setState({isMoveDialogShow: !this.state.isMoveDialogShow});\n  }\n\n  onCopyToggle = () => {\n    this.setState({isCopyDialogShow: !this.state.isCopyDialogShow});\n  }\n\n  onItemsDelete = () => {\n    this.props.onItemsDelete();\n  }\n\n  onItemsDownload = () => {\n    let { path, repoID, selectedDirentList } = this.props;\n    if (selectedDirentList.length) {\n      if (selectedDirentList.length === 1 && !selectedDirentList[0].isDir()) {\n        let direntPath = Utils.joinPath(path, selectedDirentList[0].name);\n        let url = URLDecorator.getUrl({type: 'download_file_url', repoID: repoID, filePath: direntPath});\n        location.href= url;\n        return;\n      }\n      let selectedDirentNames = selectedDirentList.map(dirent => {\n        return dirent.name;\n      });\n      this.setState({isProgressDialogShow: true, progress: 0});\n      seafileAPI.zipDownload(repoID, path, selectedDirentNames).then(res => {\n        this.zipToken = res.data['zip_token'];\n        this.addDownloadAnimation();\n        this.interval = setInterval(this.addDownloadAnimation, 1000);\n      });\n    }\n  }\n\n  addDownloadAnimation = () => {\n    let _this = this;\n    let token = this.zipToken;\n    seafileAPI.queryZipProgress(token).then(res => {\n      let data = res.data;\n      let progress = data.total === 0 ? 100 : (data.zipped / data.total * 100).toFixed(0);\n      this.setState({progress: parseInt(progress)});\n\n      if (data['total'] === data['zipped']) {\n        this.setState({\n          progress: 100\n        });\n        clearInterval(this.interval);\n        location.href = URLDecorator.getUrl({type: 'download_dir_zip_url', token: token});\n        setTimeout(function() {\n          _this.setState({isProgressDialogShow: false});\n        }, 500);\n      }\n\n    });\n  }\n\n  onCancelDownload = () => {\n    seafileAPI.cancelZipTask(this.zipToken).then(() => {\n      this.setState({isProgressDialogShow: false});\n    });\n  }\n\n  onMenuItemClick = (operation) => {\n    const dirents = this.props.selectedDirentList;\n    const dirent = dirents[0];\n    switch(operation) {\n      case 'Share':\n        this.setState({\n          showLibContentViewDialogs: true,\n          showShareDialog: true,\n        });\n        break;\n      case 'Tags':\n        this.listFileTags(dirent);\n        break;\n      case 'Details':\n        this.props.showDirentDetail();\n        break;\n      case 'Lock':\n        this.lockFile(dirent);\n        break;\n      case 'Unlock':\n        this.unlockFile(dirent);\n        break;\n      case 'Related Files':\n        this.openRelatedFilesDialog(dirent);\n        break;\n      case 'History':\n        this.onHistory(dirent);\n        break;\n      case 'Open via Client':\n        this.onOpenViaClient(dirent);\n        break;\n      default:\n        break;\n    }\n  }\n\n  lockFile = (dirent) => {\n    const filePath = this.getDirentPath(dirent);\n    seafileAPI.lockfile(this.props.repoID, filePath).then((res) => {\n      if (res.data.is_locked) {\n        this.props.updateDirent(dirent, 'is_locked', true);\n        this.props.updateDirent(dirent, 'locked_by_me', true);\n        this.props.unSelectDirent();\n      }\n    });\n  }\n\n  unlockFile = (dirent) => {\n    const filePath = this.getDirentPath(dirent);\n    seafileAPI.unlockfile(this.props.repoID, filePath).then((res) => {\n      if (!res.data.is_locked) {\n        this.props.updateDirent(dirent, 'is_locked', false);\n        this.props.updateDirent(dirent, 'locked_by_me', false);\n        this.props.unSelectDirent();\n      }\n    });\n  }\n\n  onOpenViaClient = (dirent) => {\n    const filePath = this.getDirentPath(dirent);\n    let url = URLDecorator.getUrl({\n      type: 'open_via_client',\n      repoID: this.props.repoID,\n      filePath: filePath\n    });\n    location.href = url;\n    this.props.unSelectDirent();\n  }\n\n  onHistory = (dirent) => {\n    let filePath = this.getDirentPath(dirent);\n    let url = URLDecorator.getUrl({\n      type: 'file_revisions',\n      repoID: this.props.repoID,\n      filePath: filePath\n    });\n    location.href = url;\n  }\n\n  openRelatedFilesDialog = (dirent) => {\n    let filePath = this.getDirentPath(dirent);\n    seafileAPI.listRelatedFiles(this.props.repoID, filePath).then(res => {\n      let relatedFiles = res.data.related_files;\n      if (relatedFiles.length > 0) {\n        this.setState({\n          relatedFiles: relatedFiles,\n          showLibContentViewDialogs: true,\n          showRelatedFileDialog: true,\n          viewMode: 'list_related_file',\n        });\n      } else {\n        this.setState({\n          relatedFiles: relatedFiles,\n          showLibContentViewDialogs: true,\n          showRelatedFileDialog: true,\n          viewMode: 'add_related_file',\n        });\n      }\n    });\n  }\n\n  toggleCancel = () => {\n    this.setState({\n      showLibContentViewDialogs: false,\n      showShareDialog: false,\n      showEditFileTagDialog: false,\n      showRelatedFileDialog: false,\n    });\n  }\n\n  listFileTags = (dirent) => {\n    let filePath = this.getDirentPath(dirent);\n    seafileAPI.listFileTags(this.props.repoID, filePath).then(res => {\n      let fileTagList = res.data.file_tags;\n      for (let i = 0, length = fileTagList.length; i < length; i++) {\n        fileTagList[i].id = fileTagList[i].file_tag_id;\n      }\n      this.setState({\n        fileTagList: fileTagList,\n        showLibContentViewDialogs: true,\n        showEditFileTagDialog: true,\n      });\n    });\n  }\n\n  onMenuFileTagChanged = () => {\n    this.listFileTags(this.props.selectedDirentList[0]);\n    let length = this.props.selectedDirentList.length;\n    for (let i = 0; i < length; i++) {\n      const dirent = this.props.selectedDirentList[i];\n      const direntPath = this.getDirentPath(dirent);\n      this.props.onFilesTagChanged(dirent, direntPath);\n    }\n  }\n\n  listRelatedFiles = (dirent) => {\n    let filePath = this.getDirentPath(dirent);\n    seafileAPI.listRelatedFiles(this.props.repoID, filePath).then(res => {\n      this.setState({\n        relatedFiles: res.data.related_files\n      });\n    });\n  }\n\n  onRelatedFileChange = () => {\n    this.listRelatedFiles(this.props.selectedDirentList[0]);\n  }\n\n  getDirentPath = (dirent) => {\n    if (dirent) return Utils.joinPath(this.props.path, dirent.name);\n  }\n\n  render() {\n    const { repoID } = this.props;\n    let direntPath = this.getDirentPath(this.props.selectedDirentList[0]);\n    return (\n      <Fragment>\n        <div className=\"d-flex\">\n          <ButtonGroup className=\"flex-row group-operations\">\n            <Button className=\"secondary group-op-item action-icon sf2-icon-move\" title={gettext('Move')} onClick={this.onMoveToggle}></Button>\n            <Button className=\"secondary group-op-item action-icon sf2-icon-copy\" title={gettext('Copy')} onClick={this.onCopyToggle}></Button>\n            <Button className=\"secondary group-op-item action-icon sf2-icon-delete\" title={gettext('Delete')} onClick={this.onItemsDelete}></Button>\n            <Button className=\"secondary group-op-item action-icon sf2-icon-download\" title={gettext('Download')} onClick={this.onItemsDownload}></Button>\n            {this.props.selectedDirentList.length > 0 &&\n              <DirentsMenu\n                dirents={this.props.selectedDirentList}\n                currentRepoInfo={this.props.currentRepoInfo}\n                isRepoOwner={this.props.isRepoOwner}\n                onMenuItemClick={this.onMenuItemClick}\n              />\n            }\n          </ButtonGroup>\n        </div>\n        {this.state.isMoveDialogShow && \n          <MoveDirentDialog \n            path={this.props.path}\n            repoID={this.props.repoID}\n            repoEncrypted={this.props.repoEncrypted}\n            isMutipleOperation={this.state.isMutipleOperation}\n            selectedDirentList={this.props.selectedDirentList}\n            onItemsMove={this.props.onItemsMove}\n            onCancelMove={this.onMoveToggle}\n          />\n        }\n        {this.state.isCopyDialogShow &&\n          <CopyDirentDialog\n            path={this.props.path}\n            repoID={this.props.repoID}\n            repoEncrypted={this.props.repoEncrypted}\n            selectedDirentList={this.props.selectedDirentList}\n            isMutipleOperation={this.state.isMutipleOperation}\n            onItemsCopy={this.props.onItemsCopy}\n            onCancelCopy={this.onCopyToggle}\n          />\n        }\n        {this.state.isProgressDialogShow &&\n          <ZipDownloadDialog progress={this.state.progress} onCancelDownload={this.onCancelDownload} />\n        }\n        {this.state.showLibContentViewDialogs && (\n          <Fragment>\n            {this.state.showShareDialog &&\n              <ModalPortal>\n                <ShareDialog\n                  itemType={this.props.selectedDirentList[0].type}\n                  itemName={this.props.selectedDirentList[0].name}\n                  itemPath={direntPath}\n                  userPerm={this.props.selectedDirentList[0].permission}\n                  repoID={repoID}\n                  repoEncrypted={false}\n                  enableDirPrivateShare={this.props.enableDirPrivateShare}\n                  isGroupOwnedRepo={this.state.isGroupOwnedRepo}\n                  toggleDialog={this.toggleCancel}\n                />\n              </ModalPortal>\n            }\n            {this.state.showEditFileTagDialog &&\n              <ModalPortal>\n                <EditFileTagDialog\n                  repoID={repoID}\n                  filePath={direntPath}\n                  fileTagList={this.state.fileTagList}\n                  toggleCancel={this.toggleCancel}\n                  onFileTagChanged={this.onMenuFileTagChanged}\n                />\n              </ModalPortal>\n            }\n            {this.state.showRelatedFileDialog &&\n              <ModalPortal>\n                <RelatedFileDialogs\n                  repoID={repoID}\n                  filePath={direntPath}\n                  relatedFiles={this.state.relatedFiles}\n                  toggleCancel={this.toggleCancel}\n                  onRelatedFileChange={this.onRelatedFileChange}\n                  dirent={this.props.selectedDirentList[0]}\n                  viewMode={this.state.viewMode}\n                />\n              </ModalPortal>\n            }\n          </Fragment>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nMutipleDirOperationToolbar.propTypes = propTypes;\n\nexport default MutipleDirOperationToolbar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbar/mutilple-dir-operation-toolbar.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem, ButtonDropdown } from 'reactstrap';\nimport { gettext, isPro, enableFileComment, fileAuditEnabled, folderPermEnabled } from '../../utils/constants';\nimport '../../css/dirents-menu.css';\n\nconst propTypes = {\n  dirents: PropTypes.array.isRequired,\n  currentRepoInfo: PropTypes.object.isRequired,\n  isRepoOwner: PropTypes.bool.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n};\n\nclass DirentMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false,\n      menuList: [],\n    };\n  }\n\n  calculateMenuList(props) {\n    const { currentRepoInfo, dirents, isRepoOwner } = props;\n    const length = dirents.length;\n    let menuList = [];\n    if (length === 1) {\n      const dirent = dirents[0];\n      if (dirent.type === 'dir') {\n        menuList = ['Share'];\n      } else if (dirent.type === 'file') {\n        menuList = ['Share', 'Tags', 'Related Files', 'Divider', 'History', 'Details', 'Divider', 'Open via Client'];\n        if (isPro) {\n          if (dirent.is_locked) {\n            if (dirent.locked_by_me || (dirent.lock_owner === 'OnlineOffice' && currentRepoInfo.permission === 'rw')) {\n              menuList.splice(1, 0, 'Unlock');\n            }\n          } else {\n            menuList.splice(1, 0, 'Lock');\n          }\n        }\n      }\n    } else {\n      menuList = [];\n    }\n    this.setState({\n      menuList: menuList,\n    });\n  }\n\n  translateMenuItem = (menuItem) => {\n    let translateResult = '';\n    switch (menuItem) {\n      case 'Share':\n        translateResult = gettext('Share');\n        break;\n      case 'Tags':\n        translateResult = gettext('Tags');\n        break;\n      case 'Details':\n        translateResult = gettext('Details');\n        break;\n      case 'Lock':\n        translateResult = gettext('Lock');\n        break;\n      case 'Unlock':\n        translateResult = gettext('Unlock');\n        break;\n      case 'Related Files':\n        translateResult = gettext('Related Files');\n        break;\n      case 'History':\n        translateResult = gettext('History');\n        break;\n      case 'Open via Client':\n        translateResult = gettext('Open via Client');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.setState({\n      isItemMenuShow: !this.state.isItemMenuShow,\n    });\n  }\n\n  onMenuItemClick = (event) => {\n    let operation = event.target.dataset.toggle;\n    this.props.onMenuItemClick(operation, this.props.dirents);\n  }\n\n  componentDidMount() {\n    this.calculateMenuList(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.dirents.length !== nextProps.dirents.length) {\n      this.calculateMenuList(nextProps);\n    }\n  }\n\n  render() {\n    if (this.state.menuList.length === 0) {\n      return null;\n    }\n    return (\n      <ButtonDropdown isOpen={this.state.isItemMenuShow} toggle={this.onDropdownToggleClick} title={gettext('More Operations')}>\n        <DropdownToggle data-toggle=\"dropdown\" aria-expanded={this.state.isItemMenuShow} onClick={this.onDropdownToggleClick} className=\"fas fa-ellipsis-v sf-dropdown-toggle dirents-more-menu\">\n        </DropdownToggle>\n        <DropdownMenu>\n          {this.state.menuList.map((menuItem, index) => {\n            if (menuItem === 'Divider') {\n              return <DropdownItem key={index} divider/>;\n            } else {\n              return (\n                <DropdownItem key={index} data-toggle={menuItem} onClick={this.onMenuItemClick}>{this.translateMenuItem(menuItem)}</DropdownItem>\n              );\n            }\n          })}\n        </DropdownMenu>\n      </ButtonDropdown>\n    );\n  }\n}\n\nDirentMenu.propTypes = propTypes;\n\nexport default DirentMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dirent-list-view/dirents-menu.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport DirPath from './dir-path';\nimport DirTool from './dir-tool';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  repoName: PropTypes.string.isRequired,\n  permission: PropTypes.bool.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onPathClick: PropTypes.func.isRequired,\n  onTabNavClick: PropTypes.func,\n  pathPrefix: PropTypes.array,\n  isViewFile: PropTypes.bool,\n  updateUsedRepoTags: PropTypes.func.isRequired,\n  fileTags: PropTypes.array.isRequired,\n  onDeleteRepoTag: PropTypes.func.isRequired,\n};\n\nclass CurDirPath extends React.Component {\n\n  render() {\n    return (\n      <Fragment>\n        <DirPath \n          repoName={this.props.repoName}\n          pathPrefix={this.props.pathPrefix}\n          currentPath={this.props.currentPath}\n          onPathClick={this.props.onPathClick}\n          onTabNavClick={this.props.onTabNavClick}\n          repoID={this.props.repoID}\n          isViewFile={this.props.isViewFile}\n          fileTags={this.props.fileTags}\n        />\n        <DirTool \n          repoID={this.props.repoID}\n          repoName={this.props.repoName} \n          permission={this.props.permission}\n          currentPath={this.props.currentPath} \n          updateUsedRepoTags={this.props.updateUsedRepoTags}\n          onDeleteRepoTag={this.props.onDeleteRepoTag}\n        />\n      </Fragment>\n    );\n  }\n}\n\nCurDirPath.propTypes = propTypes;\n\nexport default CurDirPath;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/cur-dir-path/index.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@reach/router';\nimport { UncontrolledTooltip } from 'reactstrap';\nimport { siteRoot, gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport FileTag from '../../models/file-tag';\nimport InternalLinkDialog from '../dialog/internal-link-dialog';\n\nconst propTypes = {\n  repoName: PropTypes.string.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onPathClick: PropTypes.func.isRequired,\n  onTabNavClick: PropTypes.func,\n  pathPrefix: PropTypes.array,\n  repoID: PropTypes.string.isRequired,\n  isViewFile: PropTypes.bool,\n  fileTags: PropTypes.array.isRequired,\n};\n\nclass DirPath extends React.Component {\n\n  onPathClick = (e) => {\n    let path = e.target.dataset.path;\n    this.props.onPathClick(path);\n  }\n\n  onTabNavClick = (tabName, id) => {\n    this.props.onTabNavClick(tabName, id);\n  }\n\n  turnPathToLink = (path) => {\n    path = path[path.length - 1] === '/' ? path.slice(0, path.length - 1) : path;\n    let pathList = path.split('/');\n    let nodePath = '';\n    let pathElem = pathList.map((item, index) => {\n      if (item === '') {\n        return;\n      }\n      if (index === (pathList.length - 1)) {\n        return (\n          <span key={index}><span className=\"path-split\">/</span>{item}</span>\n        );\n      } else {\n        nodePath += '/' + item;\n        return (\n          <span key={index} >\n            <span className=\"path-split\">/</span>\n            <a className=\"path-link\" data-path={nodePath} onClick={this.onPathClick}>{item}</a>\n          </span>\n        );\n      }\n    });\n    return pathElem;\n  }\n\n  render() {\n    let { currentPath, repoName, fileTags } = this.props;\n    let pathElem = this.turnPathToLink(currentPath);\n\n    let tagTitle = '';\n    if (fileTags.length > 0) {\n      fileTags.forEach(item => {\n        tagTitle += item.name + ' ';\n      });\n    }\n\n    return (\n      <div className=\"path-container\">\n        {this.props.pathPrefix && this.props.pathPrefix.map((item, index) => {\n          return (\n            <Fragment key={index}>\n              <Link to={item.url} className=\"normal\" onClick={() => this.onTabNavClick(item.name, item.id)}>{gettext(item.showName)}</Link>\n              <span className=\"path-split\">/</span>\n            </Fragment>\n          );\n        })}\n        {this.props.pathPrefix && this.props.pathPrefix.length === 0 && (\n          <Fragment>\n            <Link to={siteRoot + 'my-libs/'} className=\"normal\" onClick={() => this.onTabNavClick.bind(this, 'my-libs')}>{gettext('Libraries')}</Link>\n            <span className=\"path-split\">/</span>\n          </Fragment>\n        )}\n        {!this.props.pathPrefix && (\n          <Fragment>\n            <a href={siteRoot + 'my-libs/'} className=\"normal\" onClick={() => this.onTabNavClick.bind(this, 'my-libs')}>{gettext('Libraries')}</a>\n            <span className=\"path-split\">/</span>\n          </Fragment>\n        )}\n        {currentPath === '/' ?\n          <span>{repoName}</span>:\n          <a className=\"path-link\" data-path=\"/\" onClick={this.onPathClick}>{repoName}</a>\n        }\n        {pathElem}\n        {this.props.isViewFile && \n          <InternalLinkDialog \n            repoID={this.props.repoID}\n            path={this.props.currentPath}\n          />\n        }\n        {(this.props.isViewFile && fileTags.length !== 0) && \n          <span id='column-mode-file-tags' className=\"tag-list tag-list-stacked align-middle ml-1\">\n            {fileTags.map((fileTag, index) => {\n              return (<span className=\"file-tag\" key={fileTag.id} style={{zIndex: index, backgroundColor: fileTag.color}}></span>)\n            })}\n            <UncontrolledTooltip target=\"column-mode-file-tags\" placement=\"bottom\">\n              {tagTitle}\n            </UncontrolledTooltip>\n          </span>\n        }\n      </div>\n    );\n  }\n}\n\nDirPath.propTypes = propTypes;\n\nexport default DirPath;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/cur-dir-path/dir-path.js","import React, { Fragment } from 'react';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport PropTypes from 'prop-types';\nimport ModalPortal from '../modal-portal';\nimport { Modal } from 'reactstrap';\nimport ListTagDialog from '../dialog/list-tag-dialog';\nimport CreateTagDialog from '../dialog/create-tag-dialog';\nimport UpdateTagDialog from '../dialog/update-tag-dialog';\nimport ListTaggedFilesDialog from '../dialog/list-taggedfiles-dialog';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  repoName: PropTypes.string.isRequired,\n  permission: PropTypes.bool.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  updateUsedRepoTags: PropTypes.func.isRequired,\n  onDeleteRepoTag: PropTypes.func.isRequired,\n};\n\nclass DirTool extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isRepoTagDialogShow: false,\n      currentTag: null,\n      isListRepoTagShow: false,\n      isUpdateRepoTagShow: false,\n      isCreateRepoTagShow: false,\n      isListTaggedFileShow: false,\n    };\n  }\n\n  onShowListRepoTag = () => {\n    this.setState({\n      isRepoTagDialogShow: true,\n      isListRepoTagShow: true,\n      isUpdateRepoTagShow: false,\n      isCreateRepoTagShow: false,\n      isListTaggedFileShow: false\n    });\n  }\n\n  onCloseRepoTagDialog = () => {\n    this.setState({\n      isRepoTagDialogShow: false,\n      isListRepoTagShow: false,\n      isUpdateRepoTagShow: false,\n      isCreateRepoTagShow: false,\n      isListTaggedFileShow: false\n    });\n  }\n\n  onCreateRepoTagToggle = () => {\n    this.setState({\n      isCreateRepoTagShow: !this.state.isCreateRepoTagShow,\n      isListRepoTagShow: !this.state.isListRepoTagShow,\n    });\n  }\n\n  onUpdateRepoTagToggle = (currentTag) => {\n    this.setState({\n      currentTag: currentTag,\n      isListRepoTagShow: !this.state.isListRepoTagShow,\n      isUpdateRepoTagShow: !this.state.isUpdateRepoTagShow,\n    });\n  }\n\n  onListTaggedFileToggle = (currentTag) => {\n    this.setState({\n      currentTag: currentTag,\n      isListRepoTagShow: !this.state.isListRepoTagShow,\n      isListTaggedFileShow: !this.state.isListTaggedFileShow,\n    });\n  }\n\n  isMarkdownFile(filePath) {\n    let name = Utils.getFileName(filePath);\n    return name.indexOf('.md') > -1 ? true : false;\n  }\n\n  render() {\n    let { repoID, repoName, permission, currentPath } = this.props;\n    let isFile = this.isMarkdownFile(currentPath);\n    let name = Utils.getFileName(currentPath);\n    let trashUrl = siteRoot + 'repo/recycle/' + repoID + '/?referer=' + encodeURIComponent(location.href);\n    let historyUrl = siteRoot + 'repo/history/' + repoID + '/?referer=' + encodeURIComponent(location.href);\n    if ( (name === repoName  || name === '') && !isFile && permission) {\n      return (\n        <Fragment>\n          <ul className=\"path-toolbar\">\n            <li className=\"toolbar-item\"><a className=\"op-link sf2-icon-tag\" onClick={this.onShowListRepoTag} title={gettext('Tags')} aria-label={gettext('Tags')}></a></li>\n            <li className=\"toolbar-item\"><a className=\"op-link sf2-icon-recycle\" href={trashUrl} title={gettext('Trash')} aria-label={gettext('Trash')}></a></li>\n            <li className=\"toolbar-item\"><a className=\"op-link sf2-icon-history\" href={historyUrl} title={gettext('History')} aria-label={gettext('History')}></a></li>\n          </ul>\n\n          {this.state.isRepoTagDialogShow && (\n            <ModalPortal>\n              <Modal isOpen={true}>\n                {this.state.isListRepoTagShow && (\n                  <ListTagDialog\n                    repoID={repoID}\n                    onListTagCancel={this.onCloseRepoTagDialog}\n                    onCreateRepoTag={this.onCreateRepoTagToggle}\n                    onUpdateRepoTag={this.onUpdateRepoTagToggle}\n                    onListTaggedFiles={this.onListTaggedFileToggle}\n                  />\n                )}\n\n                {this.state.isCreateRepoTagShow && (\n                  <CreateTagDialog\n                    repoID={repoID}\n                    onClose={this.onCloseRepoTagDialog}\n                    toggleCancel={this.onCreateRepoTagToggle}\n                  />\n                )}\n\n                {this.state.isUpdateRepoTagShow && (\n                  <UpdateTagDialog\n                    repoID={repoID}\n                    currentTag={this.state.currentTag}\n                    onClose={this.onCloseRepoTagDialog}\n                    toggleCancel={this.onUpdateRepoTagToggle}\n                    onDeleteRepoTag={this.props.onDeleteRepoTag}\n                  />\n                )}\n\n                {this.state.isListTaggedFileShow && (\n                  <ListTaggedFilesDialog\n                    repoID={this.props.repoID}\n                    currentTag={this.state.currentTag}\n                    onClose={this.onCloseRepoTagDialog}\n                    toggleCancel={this.onListTaggedFileToggle}\n                    updateUsedRepoTags={this.props.updateUsedRepoTags}\n                  />\n                )}\n              </Modal>\n            </ModalPortal>\n          )}\n        </Fragment>\n      );\n    } else if (!isFile && permission) {\n      return (\n        <ul className=\"path-toolbar\">\n          <li className=\"toolbar-item\"><a className=\"op-link sf2-icon-recycle\" href={trashUrl} title={gettext('Trash')} aria-label={gettext('Trash')}></a></li>\n        </ul>\n      );\n    } else if (permission) {\n      historyUrl = siteRoot + 'repo/file_revisions/' + repoID + '/?p=' + Utils.encodePath(currentPath);\n      return (\n        <ul className=\"path-toolbar\">\n          <li className=\"toolbar-item\"><a className=\"op-link sf2-icon-history\" href={historyUrl} title={gettext('History')} aria-label={gettext('History')}></a></li>\n        </ul>\n      );\n    }\n    return '';\n  }\n}\n\nDirTool.propTypes = propTypes;\n\nexport default DirTool;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/cur-dir-path/dir-tool.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport RepoTag from '../../models/repo-tag';\n\nimport '../../css/repo-tag.css';\n\nconst tagListItemPropTypes = {\n  item: PropTypes.object.isRequired,\n  onTagUpdate: PropTypes.func.isRequired,\n  onListTaggedFiles: PropTypes.func.isRequired,\n};\n\nclass TagListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSelectedTag: false\n    };\n  }\n\n  onMouseOver = () => {\n    this.setState({\n      showSelectedTag: true\n    });\n  }\n\n  onMouseOut = () => {\n    this.setState({\n      showSelectedTag: false\n    });\n  }\n\n  onTagUpdate = () => {\n    this.props.onTagUpdate(this.props.item);\n  }\n\n  onListTaggedFiles = () => {\n    this.props.onListTaggedFiles(this.props.item);\n  }\n\n  render() {\n    let color = this.props.item.color;\n    let drakColor = Utils.getDarkColor(color);\n    return (\n      <li className=\"tag-list-item\">\n        <div className=\"tag-demo\" style={{backgroundColor:color}} onMouseOver={this.onMouseOver} onMouseOut={this.onMouseOut}>\n          <span className={`${this.state.showSelectedTag ? 'show-tag-selected': ''}`} style={{backgroundColor: drakColor}}></span>\n          <span className=\"tag-name\">{this.props.item.name}</span>\n          <span className=\"tag-files\" onClick={this.onListTaggedFiles}>\n            {/* todo 0 file 2 files  */}\n            {this.props.item.fileCount}{' '}{'files'}\n          </span>\n        </div>\n        <i className=\"tag-edit fa fa-pencil-alt\" onClick={this.onTagUpdate}></i>\n      </li>\n    );\n  }\n}\n\nTagListItem.propTypes = tagListItemPropTypes;\n\nconst listTagPropTypes = {\n  repoID: PropTypes.string.isRequired,\n  onListTagCancel: PropTypes.func.isRequired,\n  onCreateRepoTag: PropTypes.func.isRequired,\n  onUpdateRepoTag: PropTypes.func.isRequired,\n  onListTaggedFiles: PropTypes.func.isRequired,\n};\n\nclass ListTagDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      repotagList: [],\n    };\n  }\n\n  componentDidMount() {\n    let repoID = this.props.repoID;\n    seafileAPI.listRepoTags(repoID).then(res => {\n      let repotagList = [];\n      res.data.repo_tags.forEach(item => {\n        let repo_tag = new RepoTag(item);\n        repotagList.push(repo_tag);\n      });\n      this.setState({\n        repotagList: repotagList,\n      });\n    });\n  }\n\n  toggle = () => {\n    this.props.onListTagCancel();\n  }\n\n  createNewTag = (e) => {\n    e.preventDefault();\n    this.props.onCreateRepoTag();\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <ModalHeader toggle={this.toggle}>{gettext('Tags')}</ModalHeader>\n        <ModalBody>\n          <ul className=\"tag-list tag-list-container\">\n            {this.state.repotagList.map((repoTag, index) => {\n              return (\n                <TagListItem\n                  key={index}\n                  item={repoTag}\n                  onTagUpdate={this.props.onUpdateRepoTag}\n                  onListTaggedFiles={this.props.onListTaggedFiles}\n                />\n              );\n            })}\n          </ul>\n          <a href=\"#\" className=\"add-tag-link\" onClick={this.createNewTag}>{gettext('Create a new tag')}</a>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Fragment>\n    );\n  }\n}\n\nListTagDialog.propTypes = listTagPropTypes;\n\nexport default ListTagDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/list-tag-dialog.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, ModalHeader, ModalBody, ModalFooter, Input } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired\n};\n\nclass CreateTagDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tagName: '',\n      tagColor: '',\n      newTag: {},\n      colorList: ['#FFA8A8', '#FFA94D', '#FFD43B', '#A0EC50', '#A9E34B', '#63E6BE', '#4FD2C9', '#72C3FC', '#91A7FF', '#E599F7', '#B197FC', '#F783AC', '#CED4DA'],\n    };\n    this.newInput = React.createRef();\n  }\n\n  inputNewName = (e) => {\n    this.setState({\n      tagName: e.target.value,\n    });\n  }\n\n  selectTagcolor = (e) => {\n    this.setState({\n      tagColor: e.target.value,\n    });\n  }\n\n  createTag = () => {\n    let name = this.state.tagName;\n    let color = this.state.tagColor;\n    let repoID = this.props.repoID;\n    seafileAPI.createRepoTag(repoID, name, color).then(() =>{\n      this.props.toggleCancel();\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.createTag();\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      tagColor: this.state.colorList[0]\n    });\n    this.newInput.focus();\n    this.newInput.setSelectionRange(0, 0);\n  }\n\n  render() {\n    let colorList = this.state.colorList;\n    return (\n      <Fragment>\n        <ModalHeader toggle={this.props.onClose}>\n          <span className=\"tag-dialog-back fas fa-sm fa-arrow-left\" onClick={this.props.toggleCancel} aria-label={gettext('Back')}></span>\n          {gettext('New Tag')}\n        </ModalHeader>\n        <ModalBody>\n          <div role=\"form\" className=\"tag-create\">\n            <div className=\"form-group\">\n              <label className=\"form-label\">{gettext('Name')}</label>\n              <Input onKeyPress={this.handleKeyPress} innerRef={input => {this.newInput = input;}} value={this.state.tagName} onChange={this.inputNewName}/>\n            </div>\n            <div className=\"form-group\">\n              <label className=\"form-label\">{gettext('Select a color')}</label>\n              <div className=\"row gutters-xs\">\n                {colorList.map((item, index)=>{\n                  return (\n                    <div key={index} className=\"col-auto\" onChange={this.selectTagcolor}>\n                      <label className=\"colorinput\">\n                        {index===0 ?\n                          <input name=\"color\" type=\"radio\" value={item} className=\"colorinput-input\" defaultChecked onClick={this.selectTagcolor}></input> :\n                          <input name=\"color\" type=\"radio\" value={item} className=\"colorinput-input\" onClick={this.selectTagcolor}></input>}\n                        <span className=\"colorinput-color\" style={{backgroundColor:item}}></span>\n                      </label>\n                    </div>\n                  );\n                })\n                }\n              </div>\n            </div>\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.createTag}>{gettext('Save')}</Button>\n          <Button color=\"secondary\" onClick={this.props.toggleCancel}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Fragment>\n    );\n  }\n}\n\nCreateTagDialog.propTypes = propTypes;\n\nexport default CreateTagDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/create-tag-dialog.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, ModalHeader, ModalBody, ModalFooter, Input } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\n\nconst propTypes = {\n  currentTag: PropTypes.object,\n  repoID: PropTypes.string.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  onDeleteRepoTag: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired\n};\n\nclass UpdateTagDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      deleteRepoTag: false,\n      newName: this.props.currentTag.name,\n      newColor: this.props.currentTag.color,\n      colorList: ['#FFA8A8', '#FFA94D', '#FFD43B', '#A0EC50', '#A9E34B', '#63E6BE', '#4FD2C9', '#72C3FC', '#91A7FF', '#E599F7', '#B197FC', '#F783AC', '#CED4DA'],\n    };\n    this.newInput = React.createRef();\n  }\n\n  componentDidMount() {\n    this.newInput.focus();\n    this.newInput.setSelectionRange(0, -1);\n  }\n\n  inputNewName = (e) => {\n    this.setState({\n      newName: e.target.value,\n    });\n  }\n\n  selectNewcolor = (e) => {\n    this.setState({\n      newColor: e.target.value,\n    });\n  }\n\n  updateTag = () => {\n    let tag_id = this.props.currentTag.id;\n    let name = this.state.newName;\n    let color = this.state.newColor;\n    let repoID = this.props.repoID;\n    seafileAPI.updateRepoTag(repoID, tag_id, name, color).then(() => {\n      this.props.toggleCancel();\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.updateTag();\n    }\n  }\n\n  deleteTagClick = (item) => {\n    this.setState({\n      deleteRepoTag: !this.state.deleteRepoTag,\n    });\n  }\n\n  onDeleteTag = () => {\n    let tag = this.props.currentTag;\n    let repoID = this.props.repoID;\n    seafileAPI.deleteRepoTag(repoID, tag.id).then((res) => {\n      this.props.toggleCancel();\n      if (res.data.success === \"true\") {\n        this.props.onDeleteRepoTag(tag.id);\n      }\n    });\n  }\n\n  render() {\n    let colorList = this.state.colorList;\n    if (colorList.indexOf(this.props.currentTag.color)===-1) {\n      colorList.push(this.props.currentTag.color);\n    }\n    return (\n      <Fragment>\n        <ModalHeader toggle={this.props.onClose}>\n          <span className=\"tag-dialog-back fas fa-sm fa-arrow-left\" onClick={this.props.toggleCancel} aria-label={gettext('Back')}></span>\n          {gettext('Edit Tag')}\n        </ModalHeader>\n        <ModalBody>\n          <div className=\"tag-edit\">\n            <div className=\"form-group\">\n              <label className=\"form-label\">{gettext('Name')}</label>\n              <Input onKeyPress={this.handleKeyPress} innerRef={input => {this.newInput = input;}} value={this.state.newName} onChange={this.inputNewName}/>\n            </div>\n            <div className=\"form-group\">\n              <label className=\"form-label\">{gettext('Select a color')}</label>\n              <div className=\"row gutters-xs\">\n                {colorList.map((item, index)=>{\n                  return (\n                    <div key={index} className=\"col-auto\" onChange={this.selectNewcolor}>\n                      <label className=\"colorinput\">\n                        {item===this.props.currentTag.color ?\n                          <input name=\"color\" type=\"radio\" value={item} className=\"colorinput-input\" defaultChecked onChange={this.selectNewcolor}></input> :\n                          <input name=\"color\" type=\"radio\" value={item} className=\"colorinput-input\" onChange={this.selectNewcolor}></input>}\n                        <span className=\"colorinput-color\" style={{backgroundColor:item}}></span>\n                      </label>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"danger\" onClick={this.onDeleteTag}>{gettext('Delete')}</Button>\n          <Button color=\"primary\" onClick={this.updateTag}>{gettext('Save')}</Button>\n        </ModalFooter>\n      </Fragment>\n    );\n  }\n}\n\nUpdateTagDialog.propTypes = propTypes;\n\nexport default UpdateTagDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/update-tag-dialog.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot, gettext, thumbnailSizeForOriginal, username } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../loading';\nimport DirentListItem from './dirent-list-item';\nimport ModalPortal from '../modal-portal';\nimport CreateFile from '../../components/dialog/create-file-dialog';\n\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css';\n\nimport '../../css/tip-for-new-md.css';\nimport toaster from '../toast';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  currentRepoInfo: PropTypes.object,\n  isAllItemSelected: PropTypes.bool.isRequired,\n  isDirentListLoading: PropTypes.bool.isRequired,\n  direntList: PropTypes.array.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  onAddFile: PropTypes.func.isRequired,\n  onItemDelete: PropTypes.func.isRequired,\n  onAllItemSelected: PropTypes.func.isRequired,\n  onItemSelected: PropTypes.func.isRequired,\n  onItemRename: PropTypes.func.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  onItemMove: PropTypes.func.isRequired,\n  onItemCopy: PropTypes.func.isRequired,\n  onDirentClick: PropTypes.func.isRequired,\n  onItemDetails: PropTypes.func.isRequired,\n  updateDirent: PropTypes.func.isRequired,\n};\n\nclass DirentListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n\n      isImagePopupOpen: false,\n      imageItems: [],\n      imageIndex: 0,\n\n      isCreateFileDialogShow: false,\n      fileType: ''\n    };\n\n    this.isRepoOwner = props.currentRepoInfo.owner_email === username;\n    this.isAdmin = props.currentRepoInfo.is_admin;\n    this.repoEncrypted = props.currentRepoInfo.encrypted;\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  onItemRename = (dirent, newName) => {\n    let isDuplicated = this.props.direntList.some(item => {\n      return item.name === newName;\n    });\n    if (isDuplicated) {\n      let errMessage = gettext('The name \"{name}\" is already taken. Please choose a different name.');\n      errMessage = errMessage.replace('{name}', Utils.HTMLescape(newName));\n      toaster.danger(errMessage);\n      return false;\n    }\n    this.props.onItemRename(dirent, newName);\n  }\n\n  onItemRenameToggle = () => {\n    this.onFreezedItem();\n  }\n\n  onItemDetails = (dirent) => {\n    this.props.onItemDetails(dirent);\n  }\n\n  onCreateFileToggle = () => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: ''\n    });\n  }\n\n  onCreateNewFile = (suffix) => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: suffix\n    });\n  }\n\n  onAddFile = (filePath, isDraft) => {\n    this.setState({isCreateFileDialogShow: false});\n    this.props.onAddFile(filePath, isDraft);\n  }\n\n  sortByName = (e) => {\n    e.preventDefault();\n    const sortBy = 'name';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  }\n\n  sortByTime = (e) => {\n    e.preventDefault();\n    const sortBy = 'time';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  }\n\n  // for image popup\n  prepareImageItems = () => {\n    let items = this.props.direntList.filter((item) => {\n      return Utils.imageCheck(item.name);\n    });\n\n    const useThumbnail = !this.repoEncrypted;\n    let prepareItem = (item) => {\n      const name = item.name;\n\n      const fileExt = name.substr(name.lastIndexOf('.') + 1).toLowerCase();\n      const isGIF = fileExt == 'gif';\n\n      const path = Utils.encodePath(Utils.joinPath(this.props.path, name));\n      const repoID = this.props.repoID;\n      let src;\n      if (useThumbnail && !isGIF) {\n        src = `${siteRoot}thumbnail/${repoID}/${thumbnailSizeForOriginal}${path}`;\n      } else {\n        src = `${siteRoot}repo/${repoID}/raw${path}`;\n      }\n\n      return {\n        'name': name,\n        'url': `${siteRoot}lib/${repoID}/file${path}`,\n        'src': src\n      };\n    };\n\n    return items.map((item) => { return prepareItem(item); });\n  }\n\n  showImagePopup = (dirent) => {\n    let items = this.props.direntList.filter((item) => {\n      return Utils.imageCheck(item.name);\n    });\n    this.setState({\n      isImagePopupOpen: true,\n      imageItems: this.prepareImageItems(),\n      imageIndex: items.indexOf(dirent)\n    });\n  }\n\n  moveToPrevImage = () => {\n    const imageItemsLength = this.state.imageItems.length;\n    this.setState((prevState) => ({\n      imageIndex: (prevState.imageIndex + imageItemsLength - 1) % imageItemsLength\n    }));\n  }\n\n  moveToNextImage = () => {\n    const imageItemsLength = this.state.imageItems.length;\n    this.setState((prevState) => ({\n      imageIndex: (prevState.imageIndex + 1) % imageItemsLength\n    }));\n  }\n\n  closeImagePopup = () => {\n    this.setState({\n      isImagePopupOpen: false\n    });\n  }\n\n  checkDuplicatedName = (newName) => {\n    let direntList = this.props.direntList;\n    let isDuplicated = direntList.some(object => {\n      return object.name === newName;\n    });\n    return isDuplicated;\n  }\n\n  render() {\n    const { direntList, sortBy, sortOrder } = this.props;\n\n    if (this.props.isDirentListLoading) {\n      return (<Loading />);\n    }\n\n    if (this.props.path == '/' && !direntList.length) {\n      return (\n        <Fragment>\n          <div className=\"tip-for-new-file\">\n            <p className=\"text-center\">{gettext('This folder has no content at this time.')}</p>\n            <p className=\"text-center\">{gettext('You can create files quickly')}{' +'}</p>\n            <div className=\"big-new-file-button-group\">\n              <div className=\"d-flex justify-content-center\">\n                <button className=\"big-new-file-button\" onClick={this.onCreateNewFile.bind(this, '.md')}>\n                  {'+ Markdown'}</button>\n                <button className=\"big-new-file-button\" onClick={this.onCreateNewFile.bind(this, '.ppt')}>\n                  {'+ PPT'}</button>\n              </div>\n              <div className=\"d-flex justify-content-center\">\n                <button className=\"big-new-file-button\" onClick={this.onCreateNewFile.bind(this, '.doc')}>\n                  {'+ Word'}</button>\n                <button className=\"big-new-file-button\" onClick={this.onCreateNewFile.bind(this, '.xls')}>\n                  {'+ Excel'}</button>\n              </div>\n            </div>\n          </div>\n          {this.state.isCreateFileDialogShow && (\n            <ModalPortal>\n              <CreateFile\n                parentPath={this.props.path}\n                fileType={this.state.fileType}\n                onAddFile={this.onAddFile}\n                checkDuplicatedName={this.checkDuplicatedName}\n                addFileCancel={this.onCreateFileToggle}\n              />\n            </ModalPortal>\n          )}\n        </Fragment>\n      );\n    }\n\n    // sort\n    const sortByName = sortBy == 'name';\n    const sortByTime = sortBy == 'time';\n    const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n    // for image popup\n    const imageItems = this.state.imageItems;\n    const imageIndex = this.state.imageIndex;\n    const imageItemsLength = imageItems.length;\n    const imageCaption = imageItemsLength && (\n      <Fragment>\n        <span>{gettext('%curr% of %total%').replace('%curr%', imageIndex + 1).replace('%total%', imageItemsLength)}</span>\n        <br />\n        <a href={imageItems[imageIndex].url} target=\"_blank\">{gettext('Open in New Tab')}</a>\n      </Fragment>\n    );\n\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n            <th width=\"3%\" className=\"pl10\">\n                <input type=\"checkbox\" className=\"vam\" onChange={this.props.onAllItemSelected} checked={this.props.isAllItemSelected}/>\n              </th>\n              <th width=\"3%\" className=\"pl10\">{/*icon */}</th>\n              <th width=\"5%\" className=\"pl10\">{/*star */}</th>\n              <th width=\"39%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('Name')} {sortByName && sortIcon}</a></th>\n              <th width=\"6%\">{/*tag */}</th>\n              <th width=\"18%\">{/*operation */}</th>\n              <th width=\"11%\">{gettext('Size')}</th>\n              <th width=\"15%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('Last Update')} {sortByTime && sortIcon}</a></th>\n            </tr>\n          </thead>\n          <tbody>\n            {\n              direntList.length !== 0 && direntList.map((dirent, index) => {\n                return (\n                  <DirentListItem\n                    key={index}\n                    dirent={dirent}\n                    path={this.props.path}\n                    repoID={this.props.repoID}\n                    currentRepoInfo={this.props.currentRepoInfo}\n                    isAdmin={this.isAdmin}\n                    isRepoOwner={this.isRepoOwner}\n                    repoEncrypted={this.repoEncrypted}\n                    enableDirPrivateShare={this.props.enableDirPrivateShare}\n                    isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n                    direntList={this.props.direntList}\n                    onItemClick={this.props.onItemClick}\n                    onItemRenameToggle={this.onItemRenameToggle}\n                    onItemSelected={this.props.onItemSelected}\n                    onItemDelete={this.props.onItemDelete}\n                    onItemRename={this.onItemRename}\n                    onItemMove={this.props.onItemMove}\n                    onItemCopy={this.props.onItemCopy}\n                    updateDirent={this.props.updateDirent}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    onDirentClick={this.props.onDirentClick}\n                    onItemDetails={this.onItemDetails}\n                    showImagePopup={this.showImagePopup}\n                  />\n                );\n              })\n            }\n          </tbody>\n        </table>\n\n        {this.state.isImagePopupOpen && (\n          <Lightbox\n            mainSrc={imageItems[imageIndex].src}\n            imageTitle={imageItems[imageIndex].name}\n            imageCaption={imageCaption}\n            nextSrc={imageItems[(imageIndex + 1) % imageItemsLength].src}\n            prevSrc={imageItems[(imageIndex + imageItemsLength - 1) % imageItemsLength].src}\n            onCloseRequest={this.closeImagePopup}\n            onMovePrevRequest={this.moveToPrevImage}\n            onMoveNextRequest={this.moveToNextImage}\n            imagePadding={70}\n            imageLoadErrorMessage={gettext('The image could not be loaded.')}\n            prevLabel={gettext('Previous (Left arrow key)')}\n            nextLabel={gettext('Next (Right arrow key)')}\n            closeLabel={gettext('Close (Esc)')}\n            zoomInLabel={gettext('Zoom in')}\n            zoomOutLabel={gettext('Zoom out')}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nDirentListView.propTypes = propTypes;\n\nexport default DirentListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dirent-list-view/dirent-list-view.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport MD5 from 'MD5';\nimport { UncontrolledTooltip } from 'reactstrap';\nimport { gettext, siteRoot, mediaUrl, canGenerateShareLink, canGenerateUploadLink } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport URLDecorator from '../../utils/url-decorator';\nimport DirentMenu from './dirent-menu';\nimport Rename from '../rename';\nimport ModalPortal from '../modal-portal';\nimport ZipDownloadDialog from '../dialog/zip-download-dialog';\nimport MoveDirentDialog from '../dialog/move-dirent-dialog';\nimport CopyDirentDialog from '../dialog/copy-dirent-dialog';\nimport ShareDialog from '../dialog/share-dialog';\n\nimport '../../css/dirent-list-item.css';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  dirent: PropTypes.object.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onItemRenameToggle: PropTypes.func.isRequired,\n  onItemSelected: PropTypes.func.isRequired,\n  onItemDelete: PropTypes.func.isRequired,\n  onItemRename: PropTypes.func.isRequired,\n  onItemMove: PropTypes.func.isRequired,\n  onItemCopy: PropTypes.func.isRequired,\n  onItemDetails: PropTypes.func.isRequired,\n  onDirentClick: PropTypes.func.isRequired,\n  updateDirent: PropTypes.func.isRequired,\n  showImagePopup: PropTypes.func.isRequired,\n  currentRepoInfo: PropTypes.object,\n  isRepoOwner: PropTypes.bool,\n  isAdmin: PropTypes.bool.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n};\n\nclass DirentListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false,\n      highlight: false,\n      progress: 0,\n      isProgressDialogShow: false,\n      isMoveDialogShow: false,\n      isCopyDialogShow: false,\n      isShareDialogShow: false,\n      isMutipleOperation: false,\n      isShowTagTooltip: false,\n      isDragTipShow: false,\n      isDropTipshow: false,\n    };\n    this.zipToken = null;\n  }\n\n  //UI Interactive\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: true,\n        isOperationShow: true,\n      });\n    }\n    this.setState({isDragTipShow: true});\n  }\n\n  onMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: true,\n        isOperationShow: true,\n      });\n    }\n    this.setState({isDragTipShow: true});\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: false,\n        isOperationShow: false,\n      });\n    }\n    this.setState({isDragTipShow: false});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOperationShow: false,\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  //buiness handler\n  onItemSelected = () => {\n    this.props.onItemSelected(this.props.dirent);\n  }\n\n  onItemStarred = () => {\n    let dirent = this.props.dirent;\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(dirent);\n\n    if (dirent.starred) {\n      seafileAPI.unstarItem(repoID, filePath).then(() => {\n        this.props.updateDirent(this.props.dirent, 'starred', false);\n      });\n    } else {\n      seafileAPI.starItem(repoID, filePath).then(() => {\n        this.props.updateDirent(this.props.dirent, 'starred', true);\n      });\n    }\n  }\n\n  // on '<tr>'\n  onDirentClick = (e) => {\n    // '<td>' is clicked\n    if (e.target.tagName == 'TD') {\n      this.props.onDirentClick(this.props.dirent);\n    }\n  }\n\n  onItemClick = (e) => {\n    e.preventDefault();\n\n    const dirent = this.props.dirent;\n    if (Utils.imageCheck(dirent.name)) {\n      this.props.showImagePopup(dirent);\n    } else {\n      this.props.onItemClick(dirent);\n    }\n  }\n\n  onItemDelete = (e) => {\n    e.nativeEvent.stopImmediatePropagation(); //for document event\n    this.props.onItemDelete(this.props.dirent);\n  }\n\n  onItemShare = (e) => {\n    e.nativeEvent.stopImmediatePropagation(); //for document event\n    this.setState({isShareDialogShow: !this.state.isShareDialogShow});\n  }\n\n  closeSharedDialog = () => {\n    this.setState({isShareDialogShow: !this.state.isShareDialogShow});\n  }\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Rename':\n        this.onItemRenameToggle();\n        break;\n      case 'Move':\n        this.onItemMoveToggle();\n        break;\n      case 'Copy':\n        this.onItemCopyToggle();\n        break;\n      case 'Permission':\n        this.onPermissionItem();\n        break;\n      case 'Details':\n        this.onDetailsItem();\n        break;\n      case 'Unlock':\n        this.onUnlockItem();\n        break;\n      case 'Lock':\n        this.onLockItem();\n        break;\n      case 'Comment':\n        this.onComnentItem();\n        break;\n      case 'History':\n        this.onHistory();\n        break;\n      case 'Access Log':\n        this.onAccessLog();\n        break;\n      case 'Open via Client':\n        this.onOpenViaClient();\n        break;\n      default:\n        break;\n    }\n  }\n\n  onItemRenameToggle = () => {\n    this.props.onItemRenameToggle(this.props.dirent);\n    this.setState({\n      isOperationShow: false,\n      isRenameing: true,\n    });\n  }\n\n  onRenameConfirm = (newName) => {\n    this.props.onItemRename(this.props.dirent, newName);\n    this.onRenameCancel();\n  }\n\n  onRenameCancel = () => {\n    this.setState({isRenameing: false});\n    this.props.onUnfreezedItem();\n  }\n\n  onItemMoveToggle = () => {\n    this.setState({isMoveDialogShow: !this.state.isMoveDialogShow});\n  }\n\n  onItemCopyToggle = () => {\n    this.setState({isCopyDialogShow: !this.state.isCopyDialogShow});\n  }\n\n  onPermissionItem = () => {\n\n  }\n\n  onDetailsItem = () => {\n    this.props.onItemDetails(this.props.dirent);\n  }\n\n  onLockItem = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    seafileAPI.lockfile(repoID, filePath).then(() => {\n      this.props.updateDirent(this.props.dirent, 'is_locked', true);\n      this.props.updateDirent(this.props.dirent, 'locked_by_me', true);\n    });\n  }\n\n  onUnlockItem = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    seafileAPI.unlockfile(repoID, filePath).then(() => {\n      this.props.updateDirent(this.props.dirent, 'is_locked', false);\n      this.props.updateDirent(this.props.dirent, 'locked_by_me', false);\n    });\n  }\n\n  onComnentItem = () => {\n\n  }\n\n  onHistory = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    let url = URLDecorator.getUrl({type: 'file_revisions', repoID: repoID, filePath: filePath});\n    location.href = url;\n  }\n\n  onAccessLog = () => {\n\n  }\n\n  onOpenViaClient = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    let url = URLDecorator.getUrl({type: 'open_via_client', repoID: repoID, filePath: filePath});\n    location.href = url;\n  }\n\n  onItemDownload = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    let dirent = this.props.dirent;\n    let repoID = this.props.repoID;\n    let direntPath = this.getDirentPath(dirent);\n    if (dirent.type === 'dir') {\n      this.setState({isProgressDialogShow: true, progress: 0});\n      seafileAPI.zipDownload(repoID, this.props.path, dirent.name).then(res => {\n        this.zipToken = res.data['zip_token'];\n        this.addDownloadAnimation();\n        this.interval = setInterval(this.addDownloadAnimation, 1000);\n      }).catch(() => {\n        clearInterval(this.interval);\n      });\n    } else {\n      let url = URLDecorator.getUrl({type: 'download_file_url', repoID: repoID, filePath: direntPath});\n      location.href = url;\n    }\n  }\n\n  addDownloadAnimation = () => {\n    let _this = this;\n    let token = this.zipToken;\n    seafileAPI.queryZipProgress(token).then(res => {\n      let data = res.data;\n      let progress = data.total === 0 ? 100 : (data.zipped / data.total * 100).toFixed(0);\n      this.setState({progress: parseInt(progress)});\n\n      if (data['total'] === data['zipped']) {\n        this.setState({\n          progress: 100\n        });\n        clearInterval(this.interval);\n        location.href = URLDecorator.getUrl({type: 'download_dir_zip_url', token: token});\n        setTimeout(function() {\n          _this.setState({isProgressDialogShow: false});\n        }, 500);\n      }\n    });\n  }\n\n  onCancelDownload = () => {\n    let zipToken = this.zipToken;\n    seafileAPI.cancelZipTask(zipToken).then(res => {\n      this.setState({\n        isProgressDialogShow: false,\n      });\n    });\n  }\n\n  getDirentPath = (dirent) => {\n    let path = this.props.path;\n    return path === '/' ? path + dirent.name : path + '/' + dirent.name;\n  }\n\n  onTagTooltipToggle = (e) => {\n    e.stopPropagation();\n    this.setState({isShowTagTooltip: !this.state.isShowTagTooltip});\n  }\n\n  onItemMove = (destRepo, dirent, selectedPath, currentPath) => {\n    this.props.onItemMove(destRepo, dirent, selectedPath, currentPath);\n  }\n\n  onItemDragStart = (e) => {\n    let nodeRootPath = '';\n    nodeRootPath = this.props.path === '/' ? `${this.props.path}${this.props.dirent.name}` : this.props.path;\n    let dragStartItemData = {nodeDirent: this.props.dirent, nodeParentPath: this.props.path, nodeRootPath: nodeRootPath};\n    dragStartItemData = JSON.stringify(dragStartItemData);\n\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setDragImage(this.refs.drag_icon, 15, 15);\n    e.dataTransfer.setData('applicaiton/drag-item-info', dragStartItemData);\n  }\n\n  onItemDragEnter = () => {\n    if (this.props.dirent.type === 'dir') {\n      this.setState({isDropTipshow: true});\n    }\n  }\n  \n  onItemDragOver = (e) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n  }\n\n  onItemDragLeave = () => {\n    this.setState({isDropTipshow: false});\n  }\n\n  onItemDragDrop = (e) => {\n    this.setState({isDropTipshow: false});\n    if (e.dataTransfer.files.length) { // uploaded files\n      return;\n    }\n    let dragStartItemData = e.dataTransfer.getData('applicaiton/drag-item-info');\n    dragStartItemData = JSON.parse(dragStartItemData);\n    let {nodeDirent, nodeParentPath, nodeRootPath} = dragStartItemData;\n    let dropItemData = this.props.dirent;\n\n    if (nodeDirent.name === dropItemData.name) {\n      return;\n    }\n\n    if (dropItemData.type !== 'dir') {\n      return;\n    } \n\n    //  copy the dirent to it's child. eg: A/B -> A/B/C\n    if (dropItemData.type === 'dir' && nodeDirent.type === 'dir') {\n      if (nodeParentPath !== this.props.path) {\n        if (this.props.path.indexOf(nodeRootPath) !== -1) {\n          return;\n        }\n      }\n    }\n\n    let selectedPath = Utils.joinPath(this.props.path, this.props.dirent.name);\n    this.onItemMove(this.props.currentRepoInfo, nodeDirent, selectedPath, nodeParentPath);\n  }\n\n  render() {\n    let { path, dirent } = this.props;\n    let direntPath = Utils.joinPath(path, dirent.name);\n    let dirHref = '';\n    if (this.props.currentRepoInfo) {\n      dirHref = siteRoot + 'library/' + this.props.repoID + '/' + this.props.currentRepoInfo.repo_name + Utils.encodePath(direntPath);\n    }\n    let fileHref = siteRoot + 'lib/' + this.props.repoID + '/file' + Utils.encodePath(direntPath);\n    let toolTipID = MD5(dirent.name).slice(0, 7);\n    let tagTitle = '';\n    if (dirent.file_tags && dirent.file_tags.length > 0) {\n      dirent.file_tags.forEach(item => {\n        tagTitle += item.name + ' ';\n      });\n    }\n\n    let iconUrl = Utils.getDirentIcon(dirent);\n\n    const { repoEncrypted, isRepoOwner, isAdmin } = this.props;\n    let showShare = false;\n    if (!repoEncrypted &&\n      (dirent.permission == 'rw' || dirent.permission == 'r')) {\n      showShare = dirent.type == 'file' ? canGenerateShareLink :\n        (canGenerateShareLink || canGenerateUploadLink || (isRepoOwner || isAdmin));\n    }\n\n    let trClass = this.state.highlight ? 'tr-highlight ' : '';\n    trClass += this.state.isDropTipshow ? 'tr-drop-effect' : '';\n\n    return (\n      <Fragment>\n         <tr className={trClass} draggable=\"true\" onMouseEnter={this.onMouseEnter} onMouseOver={this.onMouseOver} onMouseLeave={this.onMouseLeave} onClick={this.onDirentClick} onDragStart={this.onItemDragStart} onDragEnter={this.onItemDragEnter} onDragOver={this.onItemDragOver} onDragLeave={this.onItemDragLeave} onDrop={this.onItemDragDrop}>\n          <td className={`pl10 ${this.state.isDragTipShow ? 'tr-drag-effect' : ''}`}>\n            <input type=\"checkbox\" className=\"vam\" onChange={this.onItemSelected} checked={dirent.isSelected}/>\n          </td>\n          <td className=\"pl10\">\n            {dirent.starred !== undefined && !dirent.starred && <i className=\"far fa-star star-empty cursor-pointer\" onClick={this.onItemStarred}></i>}\n            {dirent.starred !== undefined && dirent.starred && <i className=\"fas fa-star cursor-pointer\" onClick={this.onItemStarred}></i>}\n          </td>\n          <td className=\"pl10\">\n            <div className=\"dir-icon\">\n              {dirent.encoded_thumbnail_src ?\n                <img ref='drag_icon' src={`${siteRoot}${dirent.encoded_thumbnail_src}`} className=\"thumbnail cursor-pointer\" onClick={this.onItemClick} alt=\"\" /> :\n                <img ref='drag_icon' src={iconUrl} width=\"24\" alt='' />\n              }\n              {dirent.is_locked && <img className=\"locked\" src={mediaUrl + 'img/file-locked-32.png'} alt={gettext('locked')} title={dirent.lock_owner_name}/>}\n            </div>\n          </td>\n          <td className=\"name\">\n            {this.state.isRenameing ?\n              <Rename hasSuffix={dirent.type !== 'dir'} name={dirent.name} onRenameConfirm={this.onRenameConfirm} onRenameCancel={this.onRenameCancel} /> :\n              <a href={dirent.type === 'dir' ? dirHref : fileHref} onClick={this.onItemClick}>{dirent.name}</a>\n            }\n          </td>\n          <td className=\"tag-list-title\">\n            {(dirent.type !== 'dir' && dirent.file_tags) && (\n              <Fragment>\n                <div id={`tag-list-title-${toolTipID}`} className=\"dirent-item tag-list tag-list-stacked\">\n                  {dirent.file_tags.map((fileTag, index) => {\n                    let length = dirent.file_tags.length;\n                    return (\n                      <span className=\"file-tag\" key={fileTag.id} style={{zIndex:length - index, backgroundColor:fileTag.color}}></span>\n                    );\n                  })}\n                </div>\n                <UncontrolledTooltip target={`tag-list-title-${toolTipID}`} placement=\"bottom\">\n                  {tagTitle}\n                </UncontrolledTooltip>\n              </Fragment>\n            )} \n          </td>\n          <td className=\"operation\">\n            {\n              this.state.isOperationShow &&\n              <div className=\"operations\">\n                <ul className=\"operation-group\">\n                  <li className=\"operation-group-item\">\n                    <i className=\"op-icon sf2-icon-download\" title={gettext('Download')} onClick={this.onItemDownload}></i>\n                  </li>\n                  {showShare &&\n                  <li className=\"operation-group-item\">\n                    <i className=\"op-icon sf2-icon-share\" title={gettext('Share')} onClick={this.onItemShare}></i>\n                  </li>\n                  }\n                  <li className=\"operation-group-item\">\n                    <i className=\"op-icon sf2-icon-delete\" title={gettext('Delete')} onClick={this.onItemDelete}></i>\n                  </li>\n                  <li className=\"operation-group-item\">\n                    <DirentMenu\n                      dirent={this.props.dirent}\n                      onMenuItemClick={this.onMenuItemClick}\n                      currentRepoInfo={this.props.currentRepoInfo}\n                      isRepoOwner={this.props.isRepoOwner}\n                      onFreezedItem={this.props.onFreezedItem}\n                      onUnfreezedItem={this.onUnfreezedItem}\n                    />\n                  </li>\n                </ul>\n              </div>\n            }\n          </td>\n          <td className=\"file-size\">{dirent.size && dirent.size}</td>\n          <td className=\"last-update\">{dirent.mtime_relative}</td>\n        </tr>\n        {this.state.isMoveDialogShow &&\n          <ModalPortal>\n            <MoveDirentDialog\n              path={this.props.path}\n              repoID={this.props.repoID}\n              dirent={this.props.dirent}\n              isMutipleOperation={this.state.isMutipleOperation}\n              onItemMove={this.props.onItemMove}\n              onCancelMove={this.onItemMoveToggle}\n              repoEncrypted={this.props.repoEncrypted}\n            />\n          </ModalPortal>\n        }\n        {this.state.isCopyDialogShow &&\n          <ModalPortal>\n            <CopyDirentDialog\n              path={this.props.path}\n              repoID={this.props.repoID}\n              dirent={this.props.dirent}\n              isMutipleOperation={this.state.isMutipleOperation}\n              onItemCopy={this.props.onItemCopy}\n              onCancelCopy={this.onItemCopyToggle}\n              repoEncrypted={this.props.repoEncrypted}\n            />\n          </ModalPortal>\n        }\n        {this.state.isProgressDialogShow &&\n          <ModalPortal>\n            <ZipDownloadDialog \n              progress={this.state.progress} \n              onCancelDownload={this.onCancelDownload}\n            />\n          </ModalPortal>\n        }\n        {this.state.isShareDialogShow &&\n          <ModalPortal>\n            <ShareDialog \n              itemType={dirent.type}\n              itemName={dirent.name}\n              itemPath={direntPath}\n              userPerm={dirent.permission}\n              repoID={this.props.repoID}\n              repoEncrypted={false}\n              enableDirPrivateShare={this.props.enableDirPrivateShare}\n              isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n              toggleDialog={this.closeSharedDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nDirentListItem.propTypes = propTypes;\n\nexport default DirentListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dirent-list-view/dirent-list-item.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext, isPro, enableFileComment, fileAuditEnabled, folderPermEnabled } from '../../utils/constants';\n\nconst propTypes = {\n  dirent: PropTypes.object.isRequired,\n  currentRepoInfo: PropTypes.object.isRequired,\n  isRepoOwner: PropTypes.bool.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n};\n\nclass DirentMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false\n    };\n    this.menuList = [];\n  }\n\n  componentDidMount() {\n    this.menuList = this.calculateMenuList();\n  }\n\n  calculateMenuList() {\n    let { currentRepoInfo, dirent, isRepoOwner } = this.props;\n\n    let type = dirent.type;\n    let permission = dirent.permission;\n    let can_set_folder_perm = folderPermEnabled  && ((isRepoOwner && currentRepoInfo.has_been_shared_out) || currentRepoInfo.is_admin);\n    if (type === 'dir' && permission === 'rw') {\n      let menuList = [];\n      if (can_set_folder_perm) {\n        menuList = ['Rename', 'Move', 'Copy', 'Divider', 'Permission', 'Details', 'Divider', 'Open via Client'];\n      } else {\n        menuList = ['Rename', 'Move', 'Copy', 'Divider', 'Details', 'Divider', 'Open via Client'];\n      }\n      return menuList;\n    }\n\n    if (type === 'dir' && permission === 'r') {\n      let menuList = currentRepoInfo.encrypted ? ['Copy', 'Details'] : ['Details'];\n      return menuList;\n    }\n\n    if (type === 'file' && permission === 'rw') {\n      let menuList = [];\n      if (!dirent.is_locked || (dirent.is_locked && dirent.locked_by_me)) {\n        menuList.push('Rename');\n        menuList.push('Move');\n      }\n      menuList.push('Copy');\n      if (isPro) {\n        if (dirent.is_locked) {\n          if (dirent.locked_by_me || (dirent.lock_owner === 'OnlineOffice' && permission === 'rw')) {\n            menuList.push('Unlock');\n          }\n        } else {\n          menuList.push('Lock');\n        }\n      }\n      menuList.push('Divider');\n      if (enableFileComment) {\n        menuList.push('Comment');\n      }\n      menuList.push('History');\n      if (fileAuditEnabled) {\n        menuList.push('Access Log');\n      }\n      menuList.push('Details');\n      menuList.push('Divider');\n      menuList.push('Open via Client');\n      return menuList;\n    }\n\n    if (type === 'file' && permission === 'r') {\n      let menuList = [];\n      if (!currentRepoInfo.encrypted) {\n        menuList.push('Copy');\n      }\n      if (enableFileComment) {\n        menuList.push('Comment');\n      }\n      menuList.push('History');\n      menuList.push('Details');\n      return menuList;\n    }\n  }\n\n  translateMenuItem = (menuItem) => {\n    let translateResult = '';\n    switch(menuItem) {\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Move':\n        translateResult = gettext('Move');\n        break;\n      case 'Copy':\n        translateResult = gettext('Copy');\n        break;\n      case 'Permission':\n        translateResult = gettext('Permission');\n        break;\n      case 'Details':\n        translateResult = gettext('Details');\n        break;\n      case 'Unlock':\n        translateResult = gettext('Unlock');\n        break;\n      case 'Lock':\n        translateResult = gettext('Lock');\n        break;\n      case 'Comment':\n        translateResult = gettext('Comment');\n        break;\n      case 'History':\n        translateResult = gettext('History');\n        break;\n      case 'Access Log':\n        translateResult = gettext('Access Log');\n        break;\n      case 'Open via Client':\n        translateResult = gettext('Open via Client');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu();\n  }\n\n  toggleOperationMenu = () => {\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow},\n      () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  }\n\n  onMenuItemClick = (event) => {\n    let operation = event.target.dataset.toggle;\n    this.props.onMenuItemClick(operation);\n  }\n\n  render() { \n    if (!this.menuList.length) {\n      return '';\n    }\n    return (\n      <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n        <DropdownToggle\n          tag=\"i\" \n          className=\"sf-dropdown-toggle sf2-icon-caret-down\" \n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\" \n          aria-expanded={this.state.isItemMenuShow}\n          onClick={this.onDropdownToggleClick}\n        />\n        <DropdownMenu>\n          {this.menuList.map((menuItem, index) => {\n            if (menuItem === 'Divider') {\n              return <DropdownItem key={index} divider/>;\n            } else {\n              return (\n                <DropdownItem key={index} data-toggle={menuItem} onClick={this.onMenuItemClick}>{this.translateMenuItem(menuItem)}</DropdownItem>\n              );\n            }\n          })}\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nDirentMenu.propTypes = propTypes;\n\nexport default DirentMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dirent-list-view/dirent-menu.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport DetailListView from './detail-list-view';\nimport RepoInfo from '../../models/repo-info';\nimport FileTag from '../../models/file-tag';\nimport '../../css/dirent-detail.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  dirent: PropTypes.object.isRequired,\n  path: PropTypes.string.isRequired,\n  onItemDetailsClose: PropTypes.func.isRequired,\n  onFileTagChanged: PropTypes.func.isRequired,\n};\n\nclass DirentDetail extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      direntType: '',\n      direntDetail: '',\n      repoInfo: null,\n      fileTagList: [],\n      relatedFiles: [],\n    };\n  }\n\n  componentDidMount() {\n    let { dirent, path, repoID } = this.props;\n    let direntPath = Utils.joinPath(path, dirent.name);\n    seafileAPI.getRepoInfo(repoID).then(res => {\n      let repoInfo = new RepoInfo(res.data);\n      this.setState({repoInfo: repoInfo});\n      this.updateDetailView(dirent, direntPath);\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let { dirent, path } = nextProps;\n    let direntPath = Utils.joinPath(path, dirent.name);\n    this.updateDetailView(dirent, direntPath);\n  }\n\n  updateDetailView = (dirent, direntPath) => {\n    let repoID = this.props.repoID;\n    if (dirent.type === 'file') {\n      seafileAPI.getFileInfo(repoID, direntPath).then(res => {\n        this.setState({\n          direntType: 'file',\n          direntDetail: res.data,\n        });\n      });\n      seafileAPI.listFileTags(repoID, direntPath).then(res => {\n        let fileTagList = [];\n        res.data.file_tags.forEach(item => {\n          let file_tag = new FileTag(item);\n          fileTagList.push(file_tag);\n        });\n        this.setState({fileTagList: fileTagList});\n      });\n      seafileAPI.listRelatedFiles(repoID, direntPath).then(res => {\n        let relatedFiles = [];\n        res.data.related_files.map((relatedFile) => {\n          relatedFiles.push(relatedFile);\n        });\n        this.setState({\n          relatedFiles: relatedFiles,\n        });\n      }).catch((error) => {\n        if (error.response.status === 500) {\n          this.setState({\n            relatedFiles: []\n          });\n        }\n      });\n    } else {\n      seafileAPI.getDirInfo(repoID, direntPath).then(res => {\n        this.setState({\n          direntType: 'dir',\n          direntDetail: res.data\n        });\n      });\n    }\n  }\n\n  onFileTagChanged = (dirent, direntPath) => {\n    this.updateDetailView(dirent, direntPath);\n    this.props.onFileTagChanged(dirent, direntPath);\n  }\n\n  onRelatedFileChange = () => {\n    let { dirent, path } = this.props;\n    let direntPath = Utils.joinPath(path, dirent.name);\n    this.updateDetailView(dirent, direntPath);\n  }\n\n  render() {\n    let { dirent } = this.props;\n    let smallIconUrl = Utils.getDirentIcon(dirent);\n    let bigIconUrl = Utils.getDirentIcon(dirent, true);\n\n    return (\n      <div className=\"detail-container\">\n        <div className=\"detail-header\">\n          <div className=\"detail-control sf2-icon-x1\" onClick={this.props.onItemDetailsClose}></div>\n          <div className=\"detail-title dirent-title\">\n            <img src={smallIconUrl} width=\"24\" height=\"24\" alt=\"\" />{' '}\n            <span className=\"name ellipsis\" title={dirent.name}>{dirent.name}</span>\n          </div>\n        </div>\n        <div className=\"detail-body dirent-info\">\n          <div className=\"img\">\n            <img src={bigIconUrl} width=\"96\" alt=\"\" />\n          </div>\n          {this.state.direntDetail && \n            <div className=\"dirent-table-container\">\n              <DetailListView \n                repoInfo={this.state.repoInfo}\n                path={this.props.path}\n                repoID={this.props.repoID}\n                dirent={this.props.dirent}\n                direntType={this.state.direntType}\n                direntDetail={this.state.direntDetail} \n                fileTagList={this.state.fileTagList}\n                relatedFiles={this.state.relatedFiles}\n                onFileTagChanged={this.onFileTagChanged}\n                onRelatedFileChange={this.onRelatedFileChange}\n              />\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nDirentDetail.propTypes = propTypes;\n\nexport default DirentDetail;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dirent-detail/dirent-details.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport EditFileTagDialog from '../dialog/edit-filetag-dialog';\nimport ModalPortal from '../modal-portal';\nimport RelatedFileDialogs from '../dialog/related-file-dialogs';\n\nconst propTypes = {\n  repoInfo: PropTypes.object.isRequired,\n  repoID: PropTypes.string.isRequired,\n  dirent: PropTypes.object.isRequired,\n  direntType: PropTypes.string.isRequired,\n  direntDetail: PropTypes.object.isRequired,\n  path: PropTypes.string.isRequired,\n  fileTagList: PropTypes.array.isRequired,\n  relatedFiles: PropTypes.array.isRequired,\n  onFileTagChanged: PropTypes.func.isRequired,\n  onRelatedFileChange: PropTypes.func.isRequired,\n};\n\nclass DetailListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEditFileTagShow: false,\n      showRelatedFileDialog: false,\n    };\n  }\n\n  getDirentPostion = () => {\n    let { repoInfo } = this.props;\n    let direntPath = this.getDirentPath();\n    let position = repoInfo.repo_name;\n    if (direntPath !== '/') {\n      let index = direntPath.lastIndexOf('/');\n      let path = direntPath.slice(0, index);\n      position = position + path;\n    }\n    return position;\n  }\n\n  onEditFileTagToggle = () => {\n    this.setState({\n      isEditFileTagShow: !this.state.isEditFileTagShow\n    });\n  }\n\n  onFileTagChanged = () => {\n    let direntPath = this.getDirentPath();\n    this.props.onFileTagChanged(this.props.dirent, direntPath);\n  }\n\n  getDirentPath = () => {\n    let { dirent, path } = this.props;\n    return Utils.joinPath(path, dirent.name);\n  }\n\n  onListRelatedFileToggle = () => {\n    this.setState({\n      showRelatedFileDialog: true,\n    });\n  }\n\n  toggleCancel = () => {\n    this.setState({\n      showRelatedFileDialog: false,\n    });\n  }\n  \n  render() {\n    let { direntType, direntDetail, fileTagList, relatedFiles } = this.props;\n    let position = this.getDirentPostion();\n    let direntPath = this.getDirentPath();\n    if (direntType === 'dir') {\n      return (\n        <table className=\"table-thead-hidden\">\n          <thead>\n            <tr><th width=\"35%\"></th><th width=\"65%\"></th></tr>\n          </thead>\n          <tbody>\n            <tr><th>{gettext('Location')}</th><td>{position}</td></tr>\n            <tr><th>{gettext('Last Update')}</th><td>{moment(direntDetail.mtime).format('YYYY-MM-DD')}</td></tr>\n          </tbody>\n        </table>\n      );\n    } else {\n      return (\n        <Fragment>\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr><th width=\"35%\"></th><th width=\"65%\"></th></tr>\n            </thead>\n            <tbody>\n              <tr><th>{gettext('Size')}</th><td>{Utils.bytesToSize(direntDetail.size)}</td></tr>\n              <tr><th>{gettext('Location')}</th><td>{position}</td></tr>\n              <tr><th>{gettext('Last Update')}</th><td>{moment(direntDetail.last_modified).fromNow()}</td></tr>\n              <tr className=\"file-tag-container\">\n                <th>{gettext('Tags')}</th>\n                <td>\n                  <ul className=\"file-tag-list\">\n                    {fileTagList.map((fileTag) => {\n                      return (\n                        <li key={fileTag.id} className=\"file-tag-item\">\n                          <span className=\"file-tag\" style={{backgroundColor:fileTag.color}}></span>\n                          <span className=\"tag-name\" title={fileTag.name}>{fileTag.name}</span>\n                        </li>\n                      );\n                    })}\n                  </ul>\n                  <i className='fa fa-pencil-alt attr-action-icon' onClick={this.onEditFileTagToggle}></i>\n                </td>\n              </tr>\n              <tr className=\"file-related-files\">\n                <th>{gettext('Related Files')}</th>\n                <td>\n                  <ul>\n                    {relatedFiles.map((relatedFile, index) => {\n                      let href = siteRoot + 'lib/' + relatedFile.repo_id + '/file' + Utils.encodePath(relatedFile.path);\n                      return (\n                        <li key={index}>\n                          <a href={href} target='_blank'>{relatedFile.name}</a>\n                        </li>\n                      );\n                    })}\n                  </ul>\n                  <i className='fa fa-pencil-alt attr-action-icon' onClick={this.onListRelatedFileToggle}></i>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          {this.state.showRelatedFileDialog &&\n              <ModalPortal>\n                <RelatedFileDialogs\n                  repoID={this.props.repoID}\n                  filePath={direntPath}\n                  relatedFiles={relatedFiles}\n                  toggleCancel={this.toggleCancel}\n                  onRelatedFileChange={this.props.onRelatedFileChange}\n                  dirent={this.props.dirent}\n                  viewMode=\"list_related_file\"\n                />\n              </ModalPortal>\n            }\n          {\n            this.state.isEditFileTagShow &&\n            <EditFileTagDialog\n              repoID={this.props.repoID}\n              fileTagList={fileTagList}\n              filePath={direntPath}\n              toggleCancel={this.onEditFileTagToggle}\n              onFileTagChanged={this.onFileTagChanged}\n            />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nDetailListView.propTypes = propTypes;\n\nexport default DetailListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dirent-detail/detail-list-view.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Resumablejs from '@seafile/resumablejs';\nimport MD5 from 'MD5';\nimport { enableResumableFileUpload } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport { gettext } from '../../utils/constants';\nimport UploadProgressDialog from './upload-progress-dialog';\nimport UploadRemindDialog from '../dialog/upload-remind-dialog';\nimport '../../css/file-uploader.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  direntList: PropTypes.array.isRequired,\n  filetypes: PropTypes.array,\n  chunkSize: PropTypes.number,\n  withCredentials: PropTypes.bool,\n  maxFiles: PropTypes.number,\n  maxFileSize: PropTypes.number,\n  testMethod: PropTypes.string,\n  testChunks: PropTypes.number,\n  simultaneousUploads: PropTypes.number,\n  fileParameterName: PropTypes.string,\n  maxFilesErrorCallback: PropTypes.func,\n  maxFileSizeErrorCallback: PropTypes.func,\n  minFileSizeErrorCallback: PropTypes.func,\n  fileTypeErrorCallback: PropTypes.func,\n  dragAndDrop: PropTypes.bool.isRequired,\n  path: PropTypes.string.isRequired,\n  onFileUploadSuccess: PropTypes.func.isRequired,\n};\n\nclass FileUploader extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      uploadFileList: [],\n      totalProgress: 0,\n      isUploadProgressDialogShow: false,\n      isUploadRemindDialogShow: false,\n      currentResumableFile: null,\n      uploadBitrate: '0',\n      allFilesUploaded: false,\n    };\n\n    this.uploadInput = React.createRef();\n\n    this.notifiedFolders = [];\n\n    this.timestamp = null;\n    this.loaded = 0;\n    this.bitrateInterval = 500; // Interval in milliseconds to calculate the bitrate\n  }\n\n  componentDidMount() {\n    this.resumable = new Resumablejs({\n      target: '',\n      query: this.setQuery || {},\n      fileType: this.props.filetypes,\n      maxFiles: this.props.maxFiles,\n      maxFileSize: this.props.maxFileSize,\n      testMethod: this.props.testMethod || 'post',\n      testChunks: this.props.testChunks || false,\n      headers: this.setHeaders || {},\n      withCredentials: this.props.withCredentials || false,\n      chunkSize: this.props.chunkSize,\n      simultaneousUploads: this.props.simultaneousUploads || 1,\n      fileParameterName: this.props.fileParameterName,\n      generateUniqueIdentifier: this.generateUniqueIdentifier,\n      forceChunkSize: true,\n      maxChunkRetries: 3,\n    });\n\n    this.resumable.assignBrowse(this.uploadInput.current, true);\n\n    //Enable or Disable DragAnd Drop\n    if (this.props.dragAndDrop === true) {\n      this.resumable.enableDropOnDocument();\n    }\n\n    this.bindCallbackHandler();\n    this.bindEventHandler();\n  }\n\n  componentWillUnmount = () => {\n    if (this.props.dragAndDrop === true) {\n      this.resumable.disableDropOnDocument();\n    }\n  }\n\n  bindCallbackHandler = () => {\n    let {maxFilesErrorCallback, minFileSizeErrorCallback, maxFileSizeErrorCallback, fileTypeErrorCallback } = this.props;\n\n    if (maxFilesErrorCallback) {\n      this.resumable.opts.maxFilesErrorCallback = this.props.maxFilesErrorCallback;\n    }\n\n    if (minFileSizeErrorCallback) {\n      this.resumable.opts.minFileSizeErrorCallback = this.props.minFileSizeErrorCallback;\n    }\n\n    if (maxFileSizeErrorCallback) {\n      this.resumable.opts.maxFileSizeErrorCallback = this.props.maxFileSizeErrorCallback;\n    }\n\n    if (fileTypeErrorCallback) {\n      this.resumable.opts.fileTypeErrorCallback = this.props.fileTypeErrorCallback;\n    }\n\n  }\n\n  bindEventHandler = () => {\n    this.resumable.on('chunkingComplete', this.onChunkingComplete.bind(this));\n    this.resumable.on('fileAdded', this.onFileAdded.bind(this));\n    this.resumable.on('filesAddedComplete', this.filesAddedComplete.bind(this));\n    this.resumable.on('fileProgress', this.onFileProgress.bind(this));\n    this.resumable.on('fileSuccess', this.onFileUploadSuccess.bind(this));\n    this.resumable.on('progress', this.onProgress.bind(this));\n    this.resumable.on('complete', this.onComplete.bind(this));\n    this.resumable.on('pause', this.onPause.bind(this));\n    this.resumable.on('fileRetry', this.onFileRetry.bind(this));\n    this.resumable.on('fileError', this.onFileError.bind(this));\n    this.resumable.on('error', this.onError.bind(this));\n    this.resumable.on('beforeCancel', this.onBeforeCancel.bind(this));\n    this.resumable.on('cancel', this.onCancel.bind(this));\n    this.resumable.on('dragstart', this.onDragStart.bind(this));\n  }\n\n  onChunkingComplete = (file) => {\n    if (file.relativePath !== file.fileName) {\n      return; // is upload a folder;\n    }\n    if (enableResumableFileUpload) {\n      let repoID = this.props.repoID;\n      seafileAPI.getFileUploadedBytes(repoID, this.props.path, file.fileName).then(res => {\n        let uploadedBytes = res.data.uploadedBytes;\n        let offset = Math.floor(uploadedBytes / (1024 * 1024));\n        file.markChunksCompleted(offset);\n      });\n    }\n  }\n\n  onFileAdded = (resumableFile, files) => {\n    //get parent_dirrelative_path\n    let path = this.props.path === '/' ? '/' : this.props.path + '/';\n    let fileName = resumableFile.fileName;\n    let relativePath = resumableFile.relativePath;\n    let isFile = fileName === relativePath;\n\n    //update formdata\n    resumableFile.formData = {};\n    if (isFile) {\n      resumableFile.formData  = {\n        parent_dir: path,\n      };\n    } else {\n      let relative_path = relativePath.slice(0, relativePath.lastIndexOf('/') + 1);\n      resumableFile.formData  = {\n        parent_dir: path,\n        relative_path: relative_path\n      };\n    }\n\n    //check repetition\n    //uploading is file and only upload one file\n    if (isFile && files.length === 1) {\n      let hasRepetition = false;\n      let direntList = this.props.direntList;\n      for (let i = 0; i < direntList.length; i++) {\n        if (direntList[i].type === 'file' && direntList[i].name === resumableFile.fileName) {\n          hasRepetition = true;\n          break;\n        }\n      }\n      if (hasRepetition) {\n        this.setState({\n          isUploadRemindDialogShow: true,\n          currentResumableFile: resumableFile,\n        });\n      } else {\n        this.setUploadFileList(this.resumable.files);\n        this.resumable.upload();\n      }\n    } else {\n      this.setUploadFileList(this.resumable.files);\n      this.resumable.upload();\n    }\n  }\n\n  filesAddedComplete = (resumable, files) => {\n    // single file uploading can check repetition, because custom dialog conn't prevent program execution;\n  }\n\n  setUploadFileList = () => {\n    let uploadFileList = this.resumable.files.map(resumableFile => {\n      return this.buildCustomFileObj(resumableFile);\n    });\n    this.setState({\n      isUploadProgressDialogShow: true,\n      uploadFileList: uploadFileList,\n    });\n  }\n\n  buildCustomFileObj = (resumableFile) => {\n    return {\n      uniqueIdentifier: resumableFile.uniqueIdentifier,\n      resumableFile: resumableFile,\n      progress: resumableFile.progress(),\n      isSaved: resumableFile.progress() === 1 ? true : false, // The 'isSaved' property is not saved in resumableFile.\n    };\n  }\n\n  onFileProgress = (file) => {\n    let uniqueIdentifier = file.uniqueIdentifier;\n    let uploadFileList = this.state.uploadFileList.map(item => {\n      if (item.uniqueIdentifier === uniqueIdentifier) {\n        item.progress = Math.round(file.progress() * 100);\n      }\n      return item;\n    });\n\n    this.setState({uploadFileList: uploadFileList});\n  }\n\n  getBitrate = () => {\n    let loaded = 0;\n    let uploadBitrate = 0;\n    let now = new Date().getTime();\n    \n    this.resumable.files.forEach(file => {\n      loaded += file.progress() * file.size;\n    });\n\n    if (this.timestamp) {\n      let timeDiff = (now - this.timestamp);\n      if (timeDiff < this.bitrateInterval) {\n        return this.state.uploadBitrate; \n      }\n      uploadBitrate = (loaded - this.loaded) * (1000 / timeDiff) * 8;\n    }\n\n    this.timestamp = now;\n    this.loaded = loaded;\n\n    uploadBitrate = Utils.formatBitRate(uploadBitrate);\n    return uploadBitrate;\n  }\n  \n  onProgress = () => {\n    let progress = Math.round(this.resumable.progress() * 100);\n    let uploadBitrate = this.getBitrate();\n    this.setState({\n      totalProgress: progress,\n      uploadBitrate: uploadBitrate\n    });\n  }\n\n  onFileUploadSuccess = (resumableFile, message) => {\n    let formData = resumableFile.formData;\n    let currentTime = new Date().getTime()/1000;\n    message = formData.replace ? message : JSON.parse(message)[0];\n    if (formData.relative_path) { // upload folder\n      let relative_path = formData.relative_path;\n      let dir_name = relative_path.slice(0, relative_path.indexOf('/'));\n      let dirent = {\n        id: message.id,\n        name: dir_name,\n        type: 'dir',\n        mtime: currentTime,\n      };\n\n      // update folders cache\n      let isExist = this.notifiedFolders.some(item => {return item.name === dirent.name;});\n      if (!isExist) {\n        this.notifiedFolders.push(dirent);\n        this.props.onFileUploadSuccess(dirent);\n      }\n\n      // update uploadFileList\n      let uploadFileList = this.state.uploadFileList.map(item => {\n        if (item.resumableFile.uniqueIdentifier === resumableFile.uniqueIdentifier) {\n          item.resumableFile.fileName = message.name;\n          item.resumableFile.relativePath = relative_path + message.name;\n          item.isSaved = true;\n        }\n        return item;\n      });\n      this.setState({uploadFileList: uploadFileList});\n\n      return;\n    }\n\n    if (formData.replace) { // upload file -- replace exist file\n      let fileName = resumableFile.fileName;\n      let dirent = {\n        id: message,\n        name: fileName,\n        type: 'file',\n        mtime: currentTime\n      };\n      this.props.onFileUploadSuccess(dirent); // this contance: just one file\n\n      let uploadFileList = this.state.uploadFileList.map(item => {\n        if (item.resumableFile.uniqueIdentifier === resumableFile.uniqueIdentifier) {\n          item.isSaved = true;\n        }\n        return item;\n      });\n      this.setState({uploadFileList: uploadFileList});\n\n      return;\n    }\n\n    // upload file -- add files\n    let dirent = {\n      id: message.id,\n      type: 'file',\n      name: message.name,\n      size: message.size,\n      mtime: currentTime,\n    };\n    this.props.onFileUploadSuccess(dirent); // this contance:  no repetition file\n\n    let uploadFileList = this.state.uploadFileList.map(item => {\n      if (item.resumableFile.uniqueIdentifier === resumableFile.uniqueIdentifier) {\n        item.resumableFile.fileName = message.name;\n        item.resumableFile.relativePath = message.name;\n        item.isSaved = true;\n      }\n      return item;\n    });\n    this.setState({uploadFileList: uploadFileList});\n  }\n\n  onFileError = (resumableFile, message) => {\n    let error = '';\n    if (!message) {\n      error = gettext('Network error');\n    } else {\n      error = message;\n    }\n\n    let uploadFileList = this.state.uploadFileList.map(item => {\n      if (item.resumableFile.uniqueIdentifier === resumableFile.uniqueIdentifier) {\n        item.resumableFile.error = error;\n      }\n      return item;\n    });\n    this.setState({uploadFileList: uploadFileList});\n\n  }\n\n  onComplete = () => {\n    this.notifiedFolders = [];\n    this.setState({allFilesUploaded: true});\n  }\n\n  onPause = () => {\n\n  }\n\n  onError = (message) => {\n\n  }\n\n  onFileRetry = () => {\n    //todos, cancel upload file, uploded again;\n  }\n\n  onBeforeCancel = () => {\n    //todos, giving a pop message ?\n  }\n\n  onCancel = () => {\n\n  }\n\n  setHeaders = (resumableFile, resumable) => {\n    if (resumableFile.formData.replace) {\n      return [];\n    }\n    let offset = resumable.offset;\n    let chunkSize = resumable.getOpt('chunkSize');\n    let fileSize = resumableFile.size;\n    let startByte = offset !== 0 ? offset * chunkSize : 0;\n    let endByte = Math.min(fileSize, (offset + 1) * chunkSize) - 1;\n\n    if (fileSize - resumable.endByte < chunkSize && !resumable.getOpt('forceChunkSize')) {\n      endByte = fileSize;\n    }\n\n    let headers = {\n      'Accept': 'application/json; text/javascript, */*; q=0.01',\n      'Content-Disposition': 'attachment; filename=\"' + encodeURI(resumableFile.fileName) + '\"',\n      'Content-Range': 'bytes ' + startByte + '-' + endByte + '/' + fileSize,\n    };\n\n    return headers;\n  }\n\n  setQuery = (resumableFile) => {\n    let formData = resumableFile.formData;\n    return formData;\n  }\n\n  generateUniqueIdentifier = (file) => {\n    let relativePath = file.webkitRelativePath||file.relativePath||file.fileName||file.name;\n    return MD5(relativePath + new Date()) + relativePath;\n  }\n\n  onClick = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    e.stopPropagation();\n  }\n\n  onFileUpload = () => {\n    this.uploadInput.current.removeAttribute('webkitdirectory');\n    this.uploadInput.current.click();\n    let repoID = this.props.repoID;\n    seafileAPI.getUploadLink(repoID, this.props.path).then(res => {\n      this.resumable.opts.target = res.data;\n    });\n  }\n\n  onFolderUpload = () => {\n    this.uploadInput.current.setAttribute('webkitdirectory', 'webkitdirectory');\n    this.uploadInput.current.click();\n    let repoID = this.props.repoID;\n    seafileAPI.getUploadLink(repoID, this.props.path).then(res => {\n      this.resumable.opts.target = res.data;\n    });\n  }\n\n  onDragStart = () => {\n    let repoID = this.props.repoID;\n    this.uploadInput.current.setAttribute('webkitdirectory', 'webkitdirectory');\n    seafileAPI.getUploadLink(repoID, this.props.path).then(res => {\n      this.resumable.opts.target = res.data;\n    });\n  }\n\n  onCloseUploadDialog = () => {\n    this.resumable.files = [];\n    this.setState({isUploadProgressDialogShow: false, uploadFileList: []});\n  }\n\n  onUploadCancel = (uploadingItem) => {\n    let uploadFileList = this.state.uploadFileList.filter(item => {\n      if (item.uniqueIdentifier === uploadingItem.uniqueIdentifier) {\n        uploadingItem.resumableFile.cancel();\n        this.resumable.removeFile(uploadingItem.resumableFile.file);\n      } else {\n        return item;\n      }\n    });\n    let newUploaderFileList = uploadFileList.map(item => {\n      let progress = Math.round(item.resumableFile.progress() * 100);\n      item.progress = progress;\n      return item;\n    });\n    this.setState({uploadFileList: newUploaderFileList});\n  }\n\n  onCancelAllUploading = () => {\n    let uploadFileList = this.state.uploadFileList.filter(item => {\n      let resumableFile = item.resumableFile;\n      if (Math.round(resumableFile.progress() !== 1)) {\n        resumableFile.cancel();\n        this.resumable.removeFile(resumableFile.file);\n      } else {\n        return item;\n      }\n    });\n    this.setState({uploadFileList: uploadFileList});\n  }\n\n  onUploaderRetry = () => {\n\n  }\n\n  replaceRepetitionFile = () => {\n    let { repoID, path } = this.props;\n    seafileAPI.getUpdateLink(repoID, path).then(res => {\n      this.resumable.opts.target = res.data;\n\n      let resumableFile = this.resumable.files[this.resumable.files.length - 1];\n      resumableFile.formData['replace'] = 1;\n      resumableFile.formData['target_file'] = resumableFile.formData.parent_dir + resumableFile.fileName;\n      this.setState({isUploadRemindDialogShow: false});\n      this.setUploadFileList(this.resumable.files);\n      this.resumable.upload();\n    });\n  }\n  \n  uploadFile = () => {\n    let resumableFile = this.resumable.files[this.resumable.files.length - 1];\n    let fileObject = this.buildCustomFileObj(resumableFile);\n    this.setState({\n      isUploadRemindDialogShow: false,\n      isUploadProgressDialogShow: true,\n      uploadFileList: [...this.state.uploadFileList, fileObject]\n    }, () => {\n      this.resumable.upload();\n    });\n  }\n\n  cancelFileUpload = () => {\n    this.resumable.files.pop(); //delete latest file\n    this.setState({isUploadRemindDialogShow: false});\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"file-uploader-container\">\n          <div className=\"file-uploader\">\n            <input className=\"upload-input\" type=\"file\" ref={this.uploadInput} onClick={this.onClick}/>\n          </div>\n        </div>\n        {this.state.isUploadRemindDialogShow &&\n          <UploadRemindDialog\n            currentResumableFile={this.state.currentResumableFile}\n            replaceRepetitionFile={this.replaceRepetitionFile}\n            uploadFile={this.uploadFile}\n            cancelFileUpload={this.cancelFileUpload}\n          />\n        }\n        {this.state.isUploadProgressDialogShow &&\n          <UploadProgressDialog\n            uploadFileList={this.state.uploadFileList}\n            totalProgress={this.state.totalProgress}\n            uploadBitrate={this.state.uploadBitrate}\n            allFilesUploaded={this.state.allFilesUploaded}\n            onCloseUploadDialog={this.onCloseUploadDialog}\n            onCancelAllUploading={this.onCancelAllUploading}\n            onUploadCancel={this.onUploadCancel}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nFileUploader.propTypes = propTypes;\n\nexport default FileUploader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-uploader/file-uploader.js","import cookie from 'react-cookies';\nimport { SeafileAPI } from 'seafile-js';\nimport { siteRoot } from './constants';\n\nlet seafileAPI = new SeafileAPI();\nlet xcsrfHeaders = cookie.load('sfcsrftoken');\nseafileAPI.initForSeahubUsage({ siteRoot, xcsrfHeaders });\n\nexport { seafileAPI };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/seafile-api.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, isPro } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport RepoInfo from '../../models/repo-info';\nimport RepoListView from './repo-list-view';\nimport Loading from '../loading';\nimport SearchedListView from './searched-list-view';\n\nimport '../../css/file-chooser.css';\n\nconst propTypes = {\n  isShowFile: PropTypes.bool,\n  repoID: PropTypes.string,\n  onDirentItemClick: PropTypes.func,\n  onRepoItemClick: PropTypes.func,\n  mode: PropTypes.oneOf(['current_repo_and_other_repos', 'only_all_repos', 'only_current_library']),\n};\n\nclass FileChooser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasRequest: false,\n      isCurrentRepoShow: true,\n      isOtherRepoShow: false,\n      repoList: [],\n      currentRepoInfo: null,\n      selectedRepo: null,\n      selectedPath: '',\n      isSearching: false,\n      isResultGot: false,\n      searchInfo: '',\n      searchResults: [],\n    };\n    this.inputValue = '';\n    this.timer = null;\n    this.source = null;\n  }\n\n  componentDidMount() {\n    if (this.props.repoID) {  // current_repo_and_other_repos, only_current_library\n      let repoID = this.props.repoID;\n      seafileAPI.getRepoInfo(repoID).then(res => {\n        // need to optimized\n        let repoInfo = new RepoInfo(res.data);\n        this.setState({\n          currentRepoInfo: repoInfo,\n          selectedRepo: repoInfo\n        });\n        this.props.onRepoItemClick(repoInfo);\n      });\n    } else { // only_all_repos\n      seafileAPI.listRepos().then(res => {\n        let repos = res.data.repos;\n        let repoList = [];\n        let repoIdList = [];\n        for(let i = 0; i < repos.length; i++) {\n          if (repos[i].permission !== 'rw') {\n            continue;\n          }\n          if (repoIdList.indexOf(repos[i].repo_id) > -1) {\n            continue;\n          }\n          repoList.push(repos[i]);\n          repoIdList.push(repos[i].repo_id);\n        }\n        repoList = Utils.sortRepos(repoList, 'name', 'asc');\n        this.setState({repoList: repoList});\n      });\n    }\n  }\n\n  onOtherRepoToggle = () => {\n    if (!this.state.hasRequest) {\n      let that = this;\n      seafileAPI.listRepos().then(res => {\n        // todo optimized code\n        let repos = res.data.repos;\n        let repoList = [];\n        let repoIdList = [];\n        for(let i = 0; i < repos.length; i++) {\n          if (repos[i].permission !== 'rw') {\n            continue;\n          }\n          if (that.props.repoID && (repos[i].repo_name === that.state.currentRepoInfo.repo_name)) {\n            continue;\n          }\n          if (repoIdList.indexOf(repos[i].repo_id) > -1) {\n            continue;\n          }\n          repoList.push(repos[i]);\n          repoIdList.push(repos[i].repo_id);\n        }\n        repoList = Utils.sortRepos(repoList, 'name', 'asc');\n        this.setState({\n          repoList: repoList,\n          isOtherRepoShow: !this.state.isOtherRepoShow,\n        });\n      });\n    }\n    else {\n      this.setState({isOtherRepoShow: !this.state.isOtherRepoShow});\n    }\n  }\n\n  onCurrentRepoToggle = () => [\n    this.setState({isCurrentRepoShow: !this.state.isCurrentRepoShow})\n  ]\n\n  onDirentItemClick = (repo, filePath, dirent) => {\n    this.props.onDirentItemClick(repo, filePath, dirent);\n    this.setState({\n      selectedRepo: repo,\n      selectedPath: filePath\n    });\n  }\n\n  onRepoItemClick = (repo) => {\n    if (this.props.onRepoItemClick) {\n      this.props.onRepoItemClick(repo);\n    }\n    this.setState({\n      selectedRepo: repo,\n      selectedPath: '',\n    });\n  }\n\n  onCloseSearching = () => {\n    this.setState({\n      isSearching: false,\n      isResultGot: false,\n      searchInfo: '',\n      searchResults: [],\n    });\n    this.inputValue = '';\n    this.timer = null;\n    this.source = null;\n  }\n\n  onSearchInfoChanged = (event) => {\n    let searchInfo = event.target.value.trim();\n\n    this.setState({searchInfo: searchInfo});\n\n    if (this.inputValue === searchInfo) {\n      return false;\n    }\n\n    this.inputValue = searchInfo;\n\n    if (searchInfo.length === 0) {\n      this.setState({\n        isSearching: false,\n        searchResults: [],\n      });\n      return false;\n    }\n\n    if (!this.state.searchResults.length && searchInfo.length > 0) {\n      this.setState({\n        isSearching: true,\n        isResultGot: false,\n      });\n    }\n\n    if (this.inputValue === '' || this.getValueLength(this.inputValue) < 3) {\n      this.setState({isResultGot: false});\n      return false;\n    }\n\n    let repoID = this.props.repoID;\n    let isShowFile = this.props.isShowFile;\n    let mode = this.props.mode;\n    let searchRepo = mode === 'only_current_library' ? repoID : 'all';\n\n    let queryData = {\n      q: searchInfo,\n      search_repo: searchRepo,\n      search_ftypes: 'all',\n      obj_type: isShowFile ? 'file' : 'dir',\n    };\n\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    this.timer = setTimeout(this.getSearchResult(queryData), 500);\n  }\n\n  getSearchResult = (queryData) => {\n    if (this.source) {\n      this.cancelRequest();\n    }\n\n    this.setState({isResultGot: false});\n\n    this.source = seafileAPI.getSource();\n    this.sendRequest(queryData, this.source.token);\n  }\n\n  sendRequest = (queryData, cancelToken) => {\n    seafileAPI.searchFiles(queryData, cancelToken).then(res => {\n      if (!res.data.total) {\n        this.setState({\n          searchResults: [],\n          isResultGot: true\n        });\n        this.source = null;\n        return;\n      }\n\n      let items = this.formatResultItems(res.data.results);\n      this.setState({\n        searchResults: items,\n        isResultGot: true\n      });\n      this.source = null;\n    }).catch(res => {\n      /* eslint-disable */\n      console.log(res);\n      /* eslint-enable */\n    });\n  }\n\n  cancelRequest = () => {\n    this.source.cancel('prev request is cancelled');\n  }\n\n  getValueLength = (str) => {\n    var i = 0, code, len = 0;\n    for (; i < str.length; i++) {\n      code = str.charCodeAt(i);\n      if (code == 10) { //solve enter problem\n        len += 2;\n      } else if (code < 0x007f) {\n        len += 1;\n      } else if (code >= 0x0080 && code <= 0x07ff) {\n        len += 2;\n      } else if (code >= 0x0800 && code <= 0xffff) {\n        len += 3;\n      }\n    }\n    return len;\n  }\n\n  formatResultItems = (data) => {\n    let items = [];\n    let length = data.length > 10 ? 10 : data.length;\n    for (let i = 0; i < length; i++) {\n      items[i] = {};\n      items[i]['index'] = [i];\n      items[i]['name'] = data[i].name;\n      items[i]['path'] = data[i].fullpath;\n      items[i]['repo_id'] = data[i].repo_id;\n      items[i]['repo_name'] = data[i].repo_name;\n      items[i]['is_dir'] = data[i].is_dir;\n      items[i]['link_content'] = decodeURI(data[i].fullpath).substring(1);\n      items[i]['content'] = data[i].content_highlight;\n    }\n    return items;\n  }\n\n  onSearchedItemClick = (item) => {\n    item['type'] = item.is_dir ? 'dir' : 'file';\n    let repo = new RepoInfo(item);\n    this.props.onDirentItemClick(repo, item.path, item);\n  }\n\n  renderSearchedView = () => {\n    if (this.getValueLength(this.inputValue) < 3) {\n      return '';\n    }\n\n    if (!this.state.isResultGot) {\n      return (<Loading />);\n    }\n\n    if (this.state.isResultGot && this.state.searchResults.length === 0) {\n      return (<div className=\"search-result-none text-center\">{gettext('No results matching.')}</div>);\n    }\n\n    if (this.state.isResultGot && this.state.searchResults.length > 0) {\n      return (<SearchedListView searchResults={this.state.searchResults} onItemClick={this.onSearchedItemClick}/>);\n    }\n  }\n \n  renderRepoListView = () => {\n    return (\n      <div className=\"file-chooser-container\">\n        {this.props.mode === 'current_repo_and_other_repos' && (\n          <Fragment>\n            <div className=\"list-view\">\n              <div className=\"list-view-header\">\n                <span className={`item-toggle fa ${this.state.isCurrentRepoShow ? 'fa-caret-down' : 'fa-caret-right'}`} onClick={this.onCurrentRepoToggle}></span>\n                <span className=\"library\">{gettext('Current Library')}</span>\n              </div>\n              {\n                this.state.isCurrentRepoShow && this.state.currentRepoInfo &&\n                <RepoListView \n                  initToShowChildren={true}\n                  currentRepoInfo={this.state.currentRepoInfo}\n                  selectedRepo={this.state.selectedRepo}\n                  selectedPath={this.state.selectedPath}\n                  onRepoItemClick={this.onRepoItemClick} \n                  onDirentItemClick={this.onDirentItemClick}\n                  isShowFile={this.props.isShowFile}\n                />\n              }\n            </div>\n            <div className=\"list-view\">\n              <div className=\"list-view-header\">\n                <span className={`item-toggle fa ${this.state.isOtherRepoShow ? 'fa-caret-down' : 'fa-caret-right'}`} onClick={this.onOtherRepoToggle}></span>\n                <span className=\"library\">{gettext('Other Libraries')}</span>\n              </div>\n              {\n                this.state.isOtherRepoShow && \n                <RepoListView \n                  initToShowChildren={false}\n                  repoList={this.state.repoList}\n                  selectedRepo={this.state.selectedRepo}\n                  selectedPath={this.state.selectedPath}\n                  onRepoItemClick={this.onRepoItemClick} \n                  onDirentItemClick={this.onDirentItemClick}\n                  isShowFile={this.props.isShowFile}\n                /> \n              }\n            </div>\n          </Fragment>\n        )}\n        {this.props.mode === 'only_current_library' && (\n            <div className=\"list-view\">\n              <div className=\"list-view-header\">\n                <span className={`item-toggle fa ${this.state.isCurrentRepoShow ? 'fa-caret-down' : 'fa-caret-right'}`} onClick={this.onCurrentRepoToggle}></span>\n                <span className=\"library\">{gettext('Current Library')}</span>\n              </div>\n              {\n                this.state.isCurrentRepoShow && this.state.currentRepoInfo &&\n                <RepoListView \n                  initToShowChildren={true}\n                  currentRepoInfo={this.state.currentRepoInfo}\n                  selectedRepo={this.state.selectedRepo}\n                  selectedPath={this.state.selectedPath}\n                  onRepoItemClick={this.onRepoItemClick} \n                  onDirentItemClick={this.onDirentItemClick}\n                  isShowFile={this.props.isShowFile}\n                />\n              }\n            </div>\n        )}\n        {this.props.mode === 'only_all_repos' && (\n          <div className=\"file-chooser-container\">\n            <div className=\"list-view\">\n              <div className=\"list-view-header\">\n                <span className=\"item-toggle fa fa-caret-down\"></span>\n                <span className=\"library\">{gettext('Libraries')}</span>\n              </div>\n                <RepoListView \n                  initToShowChildren={false}\n                  repoList={this.state.repoList}\n                  selectedRepo={this.state.selectedRepo}\n                  selectedPath={this.state.selectedPath}\n                  onRepoItemClick={this.onRepoItemClick} \n                  onDirentItemClick={this.onDirentItemClick}\n                  isShowFile={this.props.isShowFile}\n                /> \n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    if (!this.state.selectedRepo && this.props.repoID) {\n      return '';\n    }\n\n    return (\n      <Fragment>\n        {isPro && (\n          <div className=\"file-chooser-search-input\">\n            <Input className=\"search-input\" placeholder={gettext('Search...')} className=\"mb-2\" type='text' value={this.state.searchInfo} onChange={this.onSearchInfoChanged}></Input>\n            {this.state.searchInfo.length !== 0 && (\n              <span className=\"search-control attr-action-icon fas fa-times\" onClick={this.onCloseSearching}></span>\n            )}\n          </div>\n        )}\n        {this.state.isSearching && (\n          <div className=\"file-chooser-search-container\">\n            {this.renderSearchedView()}\n          </div>\n        )}\n        {!this.state.isSearching && this.renderRepoListView()}\n      </Fragment>\n    );\n  }\n}\n\nFileChooser.propTypes = propTypes;\n\nexport default FileChooser;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/file-chooser.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport UploadListItem from './upload-list-item';\n\nconst propTypes = {\n  uploadBitrate: PropTypes.string.isRequired,\n  totalProgress: PropTypes.number.isRequired,\n  uploadFileList: PropTypes.array.isRequired,\n  onCloseUploadDialog: PropTypes.func.isRequired,\n  onCancelAllUploading: PropTypes.func.isRequired,\n  onUploadCancel: PropTypes.func.isRequired,\n  allFilesUploaded: PropTypes.bool.isRequired,\n};\n\nclass UploadProgressDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMinimized: false\n    };\n  }\n\n  onCancelAllUploading = () => {\n    this.props.onCancelAllUploading();\n  }\n\n  onMinimizeUpload = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.setState({isMinimized: !this.state.isMinimized});\n  }\n\n  onCloseUpload = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.props.onCloseUploadDialog();\n  }\n\n  render() {\n    let uploadedMessage = gettext('File Upload');\n    let uploadingMessage = gettext('File Uploading...') + ' ' + this.props.totalProgress + '%' + ' (' + this.props.uploadBitrate + ')';\n\n    let uploadingOptions = (<span className=\"sf2-icon-minus\" onClick={this.onMinimizeUpload}></span>);\n\n    let uploadedOptions = (\n      <Fragment>\n        <span className=\"sf2-icon-minus\" onClick={this.onMinimizeUpload}></span>\n        <span className=\"sf2-icon-x1\" onClick={this.onCloseUpload}></span>\n      </Fragment>\n    );\n\n    let { totalProgress, allFilesUploaded } = this.props;\n\n    return (\n      <div className=\"uploader-list-view\" style={{height: this.state.isMinimized ? '2.25rem' : '20rem'}}>\n        <div className=\"uploader-list-header\">\n          <div className=\"title\">\n            {totalProgress === 100 ? uploadedMessage : uploadingMessage}\n          </div>\n          <div className=\"uploader-options\">\n            {totalProgress === 100 ||  allFilesUploaded ? uploadedOptions : uploadingOptions}\n          </div>\n        </div>\n        <div className=\"uploader-list-content\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"45%\">{gettext('name')}</th>\n                <th width=\"40%\">{gettext('progress')}</th>\n                <th width=\"15%\">{gettext('state')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {(!allFilesUploaded) && \n                <tr><td className=\"text-right\" colSpan={3}><span className=\"cursor-pointer\" onClick={this.onCancelAllUploading}>{gettext('Cancel All')}</span></td></tr>\n              }\n              {\n                this.props.uploadFileList.map((item, index) => {\n                  return (\n                    <UploadListItem key={index} item={item} onUploadCancel={this.props.onUploadCancel}/>\n                  );\n                })\n              }\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nUploadProgressDialog.propTypes = propTypes;\n\nexport default UploadProgressDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-uploader/upload-progress-dialog.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  item: PropTypes.object.isRequired,\n  onUploadCancel: PropTypes.func.isRequired,\n};\n\nclass UploadListItem extends React.Component {\n\n  onUploadCancel = (e) => {\n    e.preventDefault();\n    this.props.onUploadCancel(this.props.item);\n  }\n\n  formatFileSize = (size) => {\n    if (typeof size !== 'number') {\n      return '';\n    }\n    if (size >= 1000 * 1000 * 1000) {\n      return (size / (1000 * 1000 * 1000)).toFixed(1) + ' G';\n    }\n    if (size >= 1000 * 1000) {\n      return (size / (1000 * 1000)).toFixed(1) + ' M';\n    }\n    if (size >= 1000) {\n      return (size / 1000).toFixed(1) + ' K';\n    }\n    return size.toFixed(1) + ' B';\n  }\n\n  render() {\n    let { item } = this.props;\n    let progress = Math.round(item.resumableFile.progress() * 100);\n    let error = item.resumableFile.error;\n\n    return (\n      <tr className=\"file-upload-item\">\n        <td className=\"upload-name\">\n          <div className=\"ellipsis\">{item.resumableFile.relativePath}</div>\n          <div className=\"message err-message ml-0\">{error}</div>\n        </td>\n        <td className=\"upload-progress\">\n          <span className=\"file-size\">{this.formatFileSize(item.resumableFile.size)}</span>\n          {!item.resumableFile.error && progress !== 100 &&\n            <div className=\"progress\">\n              <div className=\"progress-bar\" role=\"progressbar\" style={{width: `${progress}%`}} aria-valuenow={progress} aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n            </div>\n          }\n        </td>\n        <td className=\"upload-operation\">\n          {!item.resumableFile.error && (\n            <Fragment>\n              {(!item.isSaved && progress !== 100) && (\n                <a href=\"#\" onClick={this.onUploadCancel}>{gettext('cancel')}</a>\n              )}\n              {(!item.isSaved && progress === 100) && (\n                <span className=\"saving\">{gettext('saving...')}</span>\n              )}\n              {item.isSaved && (\n                <span className=\"uploaded\">{gettext('uploaded')}</span>\n              )}\n            </Fragment>\n          )}\n        </td>\n      </tr>\n    );\n  }\n}\n\nUploadListItem.propTypes = propTypes;\n\nexport default UploadListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-uploader/upload-list-item.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\n\nconst propTypes = {\n  currentResumableFile: PropTypes.object.isRequired,\n  replaceRepetitionFile: PropTypes.func.isRequired,\n  uploadFile: PropTypes.func.isRequired,\n  cancelFileUpload: PropTypes.func.isRequired,\n};\n\nclass UploadRemindDialog extends React.Component {\n\n  toggle = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.props.cancelFileUpload();\n  }\n\n  replaceRepetitionFile = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.props.replaceRepetitionFile();\n  }\n\n  uploadFile = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.props.uploadFile();\n  }\n\n  render() {\n\n    let title = gettext('Replace file {filename}?');\n    title = title.replace('{filename}', '<span class=\"a-simaulte\">' + this.props.currentResumableFile.fileName + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle} ><div dangerouslySetInnerHTML={{__html: title}}></div></ModalHeader>\n        <ModalBody>\n          <p>{gettext('A file with the same name already exists in this folder.')}</p>\n          <p>{gettext('Replacing it will overwrite its content.')}</p>\n        </ModalBody>\n        <ModalFooter>\n          <Button outline color=\"primary\" onClick={this.replaceRepetitionFile}>{gettext('Replace')}</Button>\n          <Button outline color=\"info\" onClick={this.uploadFile}>{gettext('Don\\'t replace')}</Button>\n          <Button outline color=\"danger\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nUploadRemindDialog.propTypes = propTypes;\n\nexport default UploadRemindDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/upload-remind-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ModalPortal from './modal-portal';\nimport ListTaggedFilesDialog from './dialog/list-taggedfiles-dialog';\nimport ListRepoDraftsDialog from './dialog/list-repo-drafts-dialog';\nimport ReadmeDialog from './dialog/readme-dialog';\nimport { siteRoot, gettext } from '../utils/constants';\nimport { Utils } from '../utils/utils';\n\nimport '../css/repo-info-bar.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  usedRepoTags: PropTypes.array.isRequired,\n  readmeMarkdown: PropTypes.object,\n  draftCounts: PropTypes.number,\n  updateUsedRepoTags: PropTypes.func.isRequired,\n};\n\nclass RepoInfoBar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentTag: null,\n      isListTaggedFileShow: false,\n      showRepoDrafts: false,\n      showReadmeDialog: false,\n    };\n  }\n\n  onListTaggedFiles = (currentTag) => {\n    this.setState({\n      currentTag: currentTag,\n      isListTaggedFileShow: !this.state.isListTaggedFileShow,\n    });\n  }\n\n  onCloseDialog = () => {\n    this.setState({\n      isListTaggedFileShow: false\n    });\n  }\n\n  toggleDrafts = () => {\n    this.setState({\n      showRepoDrafts: !this.state.showRepoDrafts \n    });\n  }\n\n  toggleReadme = () => {\n    this.setState({\n      showReadmeDialog: !this.state.showReadmeDialog\n    });\n  }\n\n  render() {\n    let {repoID, currentPath, usedRepoTags, readmeMarkdown} = this.props;\n    let href = readmeMarkdown !== null ? siteRoot + 'lib/' + repoID + '/file' + Utils.joinPath(currentPath, readmeMarkdown.name) +  '?mode=edit' : '';\n    let filePath = readmeMarkdown !== null ? currentPath + readmeMarkdown.name : '';\n    return (\n      <div className=\"repo-info-bar\">\n        {usedRepoTags.length > 0 && (\n          <ul className=\"used-tag-list\">\n            {usedRepoTags.map((usedRepoTag) => {\n              return (\n                <li key={usedRepoTag.id} className=\"used-tag-item\">\n                  <span className=\"used-tag\" style={{backgroundColor:usedRepoTag.color}}></span>\n                  <span className=\"used-tag-name\" title={usedRepoTag.name}>{usedRepoTag.name}</span>\n                  <span className=\"used-tag-files\" onClick={this.onListTaggedFiles.bind(this, usedRepoTag)}>\n                    {usedRepoTag.fileCount > 1 ? usedRepoTag.fileCount + ' files' : usedRepoTag.fileCount + ' file'}\n                  </span>\n                </li>\n              );\n            })}\n          </ul>\n        )}\n        <div className={(usedRepoTags.length > 0 && readmeMarkdown) ? 'file-info-list mt-1' : 'file-info-list'}>\n          {(readmeMarkdown !== null && parseInt(readmeMarkdown.size) > 1) && \n            <span className=\"file-info\" onClick={this.toggleReadme}>\n              <span className=\"info-icon sf2-icon-readme\"></span>\n              <span className=\"used-tag-name\">{readmeMarkdown.name}</span>\n            </span>\n          }\n          {(readmeMarkdown !== null && parseInt(readmeMarkdown.size) < 2) && \n            <span className=\"file-info\">\n              <span className=\"info-icon sf2-icon-readme\"></span>\n              <a className=\"used-tag-name\" href={href} target='_blank'>{readmeMarkdown.name}</a>\n            </span>\n          }\n          {this.props.draftCounts > 0 &&\n            <span className=\"file-info\">\n              <span className=\"info-icon sf2-icon-drafts\"></span>\n              <span className=\"used-tag-name\">{gettext('draft')}</span>\n              <span className=\"used-tag-files\" onClick={this.toggleDrafts}>\n                {this.props.draftCounts > 1 ? this.props.draftCounts + ' files' : this.props.draftCounts + ' file'}\n              </span>\n            </span>\n          }\n        </div>\n        {this.state.isListTaggedFileShow && (\n          <ModalPortal>\n            <ListTaggedFilesDialog\n              repoID={repoID}\n              currentTag={this.state.currentTag}\n              onClose={this.onCloseDialog}\n              toggleCancel={this.onListTaggedFiles}\n              updateUsedRepoTags={this.props.updateUsedRepoTags}\n            />\n          </ModalPortal>\n        )}\n\n        {this.state.showRepoDrafts && (\n          <ModalPortal>\n            <ListRepoDraftsDialog\n              toggle={this.toggleDrafts}\n              repoID={this.props.repoID}\n            />\n          </ModalPortal>\n        )}\n\n        {this.state.showReadmeDialog && (\n          <ModalPortal>\n            <ReadmeDialog\n              toggleCancel={this.toggleReadme}\n              repoID={repoID}\n              filePath={filePath}\n              href={href}\n              fileName={readmeMarkdown.name}\n            />\n          </ModalPortal>\n        )}\n      </div>\n    );\n  }\n}\n\nRepoInfoBar.propTypes = propTypes;\n\nexport default RepoInfoBar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/repo-info-bar.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport moment from 'moment';\nimport { Utils } from '../../utils/utils';\nimport Draft from '../../models/draft';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n};\n\nclass ListRepoDraftsDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      drafts: [],\n    };\n  }\n\n  componentDidMount() { \n    seafileAPI.listRepoDrafts(this.props.repoID).then(res => {\n      let drafts = res.data.drafts.map(item => {\n        let draft = new Draft(item);\n        return draft;\n      });\n      this.setState({\n        drafts: drafts \n      }); \n    });\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  render() {\n    let drafts = this.state.drafts;\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.toggle}>{gettext('Drafts')}</ModalHeader>\n        <ModalBody className=\"dialog-list-container\">\n          <table>\n            <thead>\n              <tr>\n                <th width='50%' className=\"ellipsis\">{gettext('Name')}</th>\n                <th width='25%'>{gettext('Owner')}</th>\n                <th width='25%'>{gettext('Last Update')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.drafts.map((draft) => {\n                let href = siteRoot + 'drafts/' + draft.id + '/';\n                return (\n                  <tr key={draft.id}>\n                    <td className=\"name\">\n                      <a href={href} target='_blank'>{Utils.getFileName(draft.draftFilePath)}</a>\n                    </td>\n                    <td>{draft.ownerNickname}</td>\n                    <td>{moment(draft.createdStr).fromNow()}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nListRepoDraftsDialog.propTypes = propTypes;\n\nexport default ListRepoDraftsDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/list-repo-drafts-dialog.js","import moment from 'moment';\n\nclass Draft {\n\n  constructor(item) {\n    this.created = item.created_at;\n    this.createdStr = moment((new Date(item.created_at)).getTime()).format('YYYY-MM-DD HH:mm');\n    this.id = item.id;\n    this.ownerNickname = item.owner_nickname;\n    this.originRepoID = item.origin_repo_id;\n    this.draftFilePath = item.draft_file_path;\n  }\n}\n\nexport default Draft;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/draft.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport MarkdownViewer from '@seafile/seafile-editor/dist/viewer/markdown-viewer';\nimport Loading from '../../components/loading';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  fileName: PropTypes.string.isRequired,\n  href: PropTypes.string,\n  toggleCancel: PropTypes.func.isRequired,\n};\n\nclass ReadmeDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      readmeContent: null,\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.getFileDownloadLink(this.props.repoID, this.props.filePath).then(res => {\n      seafileAPI.getFileContent(res.data).then(res => {\n        this.setState({\n          readmeContent: res.data,\n          isLoading: false,\n        }); \n      });\n    });\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggleCancel} className=\"readme-dialog\" size=\"lg\">\n        <ModalHeader>{this.props.fileName}\n          <a className=\"readme-dialog-edit\" href={this.props.href} target='_blank'><i className=\"fa fa-pencil-alt\"></i></a>\n        </ModalHeader>\n        <ModalBody>\n          {this.state.isLoading ? \n            <Loading />:\n            <MarkdownViewer markdownContent={this.state.readmeContent} showTOC={false}/>\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleCancel}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nReadmeDialog.propTypes = propTypes;\n\nexport default ReadmeDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/readme-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalBody, Form } from 'reactstrap';\nimport { gettext, siteRoot, mediaUrl } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\n\nimport '../../css/lib-decrypt.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  onLibDecryptDialog: PropTypes.func.isRequired\n};\n\n\nclass LibDecryptDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      password: '',\n      showError: false,\n    };\n  }\n\n  handleSubmit = (e) => {\n    let repoID = this.props.repoID;\n    let password = this.state.password;\n    seafileAPI.setRepoDecryptPassword(repoID, password).then(res => {\n      this.props.onLibDecryptDialog();\n    }).catch(res => {\n      this.setState({\n        showError: true\n      });\n    });\n\n    e.preventDefault();\n  } \n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit(e);\n    }\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      password: e.target.value,\n      showError: false\n    });\n  }\n\n  toggle = () => {\n    window.location.href = siteRoot;\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true}>\n        <ModalBody>\n          <button type=\"button\" className=\"close\" onClick={this.toggle}><span aria-hidden=\"true\"></span></button> \n          <Form className=\"lib-decrypt-form text-center\">\n            <img src={`${mediaUrl}img/lock.png`} alt=\"\" aria-hidden=\"true\" />\n            <p className=\"intro\">{gettext('This library is password protected')}</p>\n            {this.state.showError &&\n              <p className=\"error\">{gettext('Wrong password')}</p>\n            }\n            <input type=\"password\" name=\"password\" className=\"form-control password-input\" autoComplete=\"off\" onKeyPress={this.handleKeyPress} placeholder={gettext('Password')} onChange={this.handleChange} />\n            <button type=\"submit\" className=\"btn btn-primary submit\" onClick={this.handleSubmit}>{gettext('Submit')}</button>\n            <p className=\"tip\">{'* '}{gettext('The password will be kept in the server for only 1 hour.')}</p>\n          </Form>\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nLibDecryptDialog.propTypes = propTypes;\n\nexport default LibDecryptDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/lib-decrypt-dialog.js","import { Utils } from '../utils/utils';\n\nclass RepoInfo {\n  constructor(object) {\n    this.repo_id = object.repo_id;\n    this.repo_name = object.repo_name;\n    this.permission = object.permission;\n    this.size = Utils.bytesToSize(object.size);\n    this.file_count = object.file_count;\n    this.owner_name = object.owner_name;\n    this.owner_email = object.owner_email;\n    this.owner_contact_email = object.owner_contact_email;\n    // is repo shared admin; \n    // is repo shared admin && is one of current ordinary group's admins; \n    // is one of current group owned group's admins;\n    this.is_admin = object.is_admin;\n    this.is_virtual = object.is_virtual;\n    this.no_quota = object.no_quota;\n    this.has_been_shared_out = object.has_been_shared_out;\n    this.encrypted = object.encrypted;\n    this.lib_need_decrypt = object.lib_need_decrypt;\n  }\n}\n\nexport default RepoInfo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/repo-info.js","class Group {\n  constructor(object) {\n    this.id= object.id;\n    this.name = object.name;\n    this.owner = object.owner;\n    this.admins = object.admins || [];\n    this.avatar_url = object.avatar_url;\n    this.created_at = object.created_at;\n    this.parent_group_id = object.parent_group_id;\n    this.wiki_enabled = object.wiki_enabled;\n    this.repos = object.repos || [];\n  }\n}\n\nexport default Group;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/group.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext, enableEncryptedLibrary } from '../../utils/constants';\n\nconst propTypes = {\n  libraryType: PropTypes.string.isRequired,\n  onCreateRepo: PropTypes.func.isRequired,\n  onCreateToggle: PropTypes.func.isRequired,\n};\n\nclass CreateRepoDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoName: '',\n      disabled: true,\n      encrypt: false,\n      password1: '',\n      password2: '',\n      errMessage: '',\n      permission: 'rw'\n    };\n    this.newInput = React.createRef();\n  }\n\n  handleRepoNameChange = (e) => {\n    this.setState({repoName: e.target.value});\n  }\n\n  handlePassword1Change = (e) => {\n    this.setState({password1: e.target.value});\n  }\n\n  handlePassword2Change = (e) => {\n    this.setState({password2: e.target.value});\n  }\n\n  handleSubmit = () => {\n    let isValid= this.validateInputParams();\n    if (isValid) {\n      let repoName = this.state.repoName.trim();\n      let password = this.state.encrypt ? this.state.password1 : '';\n      let permission= this.state.permission;\n      let repo = this.createRepo(repoName, password, permission);\n      this.props.onCreateRepo(repo);\n    }\n  } \n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  toggle = () => {\n    this.props.onCreateToggle();\n  }\n\n  componentDidMount() {\n    this.newInput.focus();\n  }\n\n  validateInputParams() {\n    let errMessage = '';\n    let repoName = this.state.repoName.trim();\n    if (!repoName.length) {\n      errMessage = gettext('Name is required');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n    if (repoName.indexOf('/') > -1) {\n      errMessage = gettext('Name should not include \\'/\\'.');\n      this.setState({errMessage: errMessage});\n      return false;\n    }\n    if (this.state.encrypt) {\n      let password1 = this.state.password1.trim();\n      let password2 = this.state.password2.trim();\n      if (!password1.length) {\n        errMessage = gettext('Please enter password');\n        this.setState({errMessage: errMessage});\n        return false;\n      }\n      if (!password2.length) {\n        errMessage = gettext('Please enter the password again');\n        this.setState({errMessage: errMessage});\n        return false;\n      }\n      if (password1.length < 8) {\n        errMessage = gettext('Password is too short');\n        this.setState({errMessage: errMessage});\n        return false;\n      }\n      if (password1 !== password2) {\n        errMessage = gettext('Passwords don\\'t match');\n        this.setState({errMessage: errMessage});\n        return false;\n      }\n    }\n    return true;\n  }\n\n  onPermissionChange = (e) => {\n    let permission = e.target.value;\n    this.setState({permission: permission});\n  }\n\n  onEncrypted = (e) => {\n    let isChecked = e.target.checked;\n    this.setState({\n      encrypt: isChecked,\n      disabled: !isChecked\n    });\n  }\n\n  createRepo = (repoName, password, permission) => {\n    let libraryType = this.props.libraryType;\n    let encrypt = password ? true : false;\n    let repo = null;\n    if (libraryType === 'mine' || libraryType === 'public') {\n      repo = {\n        id: null,\n        name: repoName,\n        desc: '',\n        encrypted: encrypt,\n        passwd: password,\n        passwd1: password,\n        passwd2: password,\n        mtime: 0,\n        mtime_relative: '',\n        owner: '-',\n        owner_nickname: '-',\n        permission: 'rw',\n        storage_name: '-',\n      };\n    }\n    if (libraryType === 'group') {\n      repo = {\n        repo_name: repoName,\n        password: password,\n        permission: permission,\n      };\n    }\n    return repo;\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Library')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"repoName\">{gettext('Name')}</Label>\n              <Input \n                id=\"repoName\"\n                onKeyPress={this.handleKeyPress} \n                innerRef={input => {this.newInput = input;}} \n                value={this.state.repoName} \n                onChange={this.handleRepoNameChange}\n              />\n            </FormGroup>\n            {this.props.libraryType === 'group' && (\n              <FormGroup>\n                <Label for=\"exampleSelect\">{gettext('Permission')}</Label>\n                <Input type=\"select\" name=\"select\" id=\"exampleSelect\" onChange={this.onPermissionChange} value={this.state.permission}>\n                  <option value='rw'>{gettext('Read-Write')}</option>\n                  <option value='r'>{gettext('Read-Only')}</option>\n                </Input>\n              </FormGroup>\n            )}\n            {enableEncryptedLibrary &&\n              <div>\n                <FormGroup check>\n                  <Input type=\"checkbox\" id=\"encrypt\" onChange={this.onEncrypted}/>\n                  <Label for=\"encrypt\">{gettext('Encrypt')}</Label>\n                </FormGroup>\n                <FormGroup>\n                  {/* todo translate */}\n                  <Label for=\"passwd1\" className=\"font-weight-bold\">{gettext('Password')}{' '}</Label><span className=\"tip\">{gettext('(at least 8 characters)')}</span>\n                  <Input \n                    id=\"passwd1\" \n                    type=\"password\"\n                    disabled={this.state.disabled}\n                    value={this.state.password1} \n                    onChange={this.handlePassword1Change}\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"passwd2\" className=\"font-weight-bold\">{gettext('Password again')}</Label>\n                  <Input \n                    id=\"passwd2\"\n                    type=\"password\"\n                    disabled={this.state.disabled}\n                    value={this.state.password2} \n                    onChange={this.handlePassword2Change}\n                  />\n                </FormGroup>\n              </div>\n            }\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nCreateRepoDialog.propTypes = propTypes;\n\nexport default CreateRepoDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/create-repo-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Utils } from '../../utils/utils';\nimport { gettext } from '../../utils/constants';\nimport '../../css/dirent-detail.css';\nimport { seafileAPI } from '../../utils/seafile-api';\n\nconst propTypes = {\n  currentRepo: PropTypes.object.isRequired,\n  closeDetails: PropTypes.func.isRequired,\n};\n\nclass LibDetail extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      fileCount: 0,\n    };\n  }\n\n  componentDidMount() {\n    let repo = this.props.currentRepo;\n    this.getFileCounts(repo);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.currentRepo.repo_id !== this.props.currentRepo.repo_id) {\n      this.getFileCounts(nextProps.currentRepo);\n    }\n  }\n\n  getFileCounts = (repo) => {\n    seafileAPI.getRepoInfo(repo.repo_id).then(res => {\n      this.setState({fileCount: res.data.file_count});\n    });\n  }\n\n  render() {\n    let repo = this.props.currentRepo;\n    let smallIconUrl = Utils.getLibIconUrl(repo);\n    let bigIconUrl = Utils.getLibIconUrl(repo, true);\n\n    return (\n      <div className=\"detail-container\">\n        <div className=\"detail-header\">\n          <div className=\"detail-control sf2-icon-x1\" onClick={this.props.closeDetails}></div>\n          <div className=\"detail-title dirent-title\">\n            <img src={smallIconUrl} width=\"24\" height=\"24\" alt=\"\" />{'  '}\n            <span className=\"name ellipsis\" title={repo.repo_name}>{repo.repo_name}</span>\n          </div>\n        </div>\n        <div className=\"detail-body dirent-info\">\n          <div className=\"img\">\n            <img src={bigIconUrl} height=\"96\"  alt=\"\" />\n          </div>\n          <div className=\"dirent-table-container\">\n            <table className=\"table-thead-hidden\">\n              <thead>\n                <tr><th width=\"35%\"></th><th width=\"65%\"></th></tr>\n              </thead>\n              <tbody>\n                <tr><th>{gettext('Files')}</th><td>{this.state.fileCount}</td></tr>\n                <tr><th>{gettext('Size')}</th><td>{repo.size}</td></tr>\n                <tr><th>{gettext('Last Update')}</th><td>{ moment(repo.last_modified).fromNow()}</td></tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nLibDetail.propTypes = propTypes;\n\nexport default LibDetail;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dirent-detail/lib-details.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport UserSelect from '../user-select';\n\nconst propTypes = {\n  itemName: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  submit: PropTypes.func.isRequired,\n};\n\nclass TransferDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      sharedItems: []\n    };\n    this.options = [];\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n    this.options = [];\n  }\n\n  submit = () => {\n    let user = this.state.selectedOption;\n    this.props.submit(user);\n  } \n\n  render() {\n    const itemName = this.props.itemName;\n    const innerSpan = '<span class=\"op-target\" title=' + itemName + '>' + itemName +'</span>';\n    let msg = gettext('Transfer Library {library_name} To');\n    let message = msg.replace('{library_name}', innerSpan);\n    return (\n      <Modal isOpen={true} centered={true}>\n        <ModalHeader toggle={this.props.toggleDialog}>\n          <div dangerouslySetInnerHTML={{__html:message}} />\n        </ModalHeader>\n        <ModalBody>\n          <UserSelect\n            ref=\"userSelect\"\n            isMulti={false}\n            className=\"reviewer-select\"\n            placeholder={gettext('Please enter 1 or more character')}\n            onSelectChange={this.handleSelectChange}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.submit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nTransferDialog.propTypes = propTypes;\n\nexport default TransferDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/transfer-dialog.js","import React, {Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport SharedRepoListItem from './shared-repo-list-item';\nimport toaster from '../toast';\n\nconst propTypes = {\n  libraryType: PropTypes.string,\n  currentGroup: PropTypes.object,\n  isShowTableThread: PropTypes.bool,\n  sortBy: PropTypes.string,\n  sortOrder: PropTypes.string,\n  sortItems: PropTypes.func,\n  repoList: PropTypes.array.isRequired,\n  onItemUnshare: PropTypes.func.isRequired,\n  onItemDelete: PropTypes.func.isRequired,\n  onItemDetails: PropTypes.func,\n  onItemRename: PropTypes.func,\n};\n\nclass SharedRepoListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n    };\n  }\n\n  sortByName = (e) => {\n    e.preventDefault();\n    const sortBy = 'name';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  }\n\n  sortByTime = (e) => {\n    e.preventDefault();\n    const sortBy = 'time';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  }\n\n  getSortMetaData = () => {\n    return {\n      sortByName: this.props.sortBy == 'name',\n      sortByTime: this.props.sortBy == 'time',\n      sortIcon: this.props.sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  onItemRename = (repo, newName) => {\n    let isDuplicated = this.props.repoList.some(item => {\n      return item.name === newName;\n    });\n    if (isDuplicated) {\n      let errMessage = gettext('The name \"{name}\" is already taken. Please choose a different name.');\n      errMessage = errMessage.replace('{name}', Utils.HTMLescape(newName));\n      toaster.danger(errMessage);\n      return false;\n    }\n    this.props.onItemRename(repo, newName);\n  }\n\n  renderRepoListView = () => {\n    return (\n      <Fragment>\n        {this.props.repoList.map(repo => {\n          return (\n            <SharedRepoListItem\n              key={repo.repo_id}\n              repo={repo}\n              libraryType={this.props.libraryType}\n              currentGroup={this.props.currentGroup}\n              isItemFreezed={this.state.isItemFreezed}\n              onFreezedItem={this.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n              onItemUnshare={this.props.onItemUnshare}\n              onItemDelete={this.props.onItemDelete}\n              onItemDetails={this.props.onItemDetails}\n              onItemRename={this.props.onItemRename}\n            />\n          );\n        })}\n      </Fragment>\n    );\n  }\n\n  renderPCUI = () => {\n    let isShowTableThread = this.props.isShowTableThread !== undefined ? this.props.isShowTableThread : true;\n\n    const { sortByName, sortByTime, sortIcon } = this.getSortMetaData();\n\n    return (\n      <table className={isShowTableThread ? '' : 'table-thead-hidden'}>\n        <thead>\n          <tr>\n            <th width=\"4%\"></th>\n            <th width=\"4%\"><span className=\"sr-only\">{gettext('Library Type')}</span></th>\n            <th width=\"36%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('Name')} {sortByName && sortIcon}</a></th>\n            <th width=\"12%\"><span className=\"sr-only\">{gettext('Actions')}</span></th>\n            <th width={'14%'}>{gettext('Size')}</th>\n            <th width={'14%'}><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('Last Update')} {sortByTime && sortIcon}</a></th>\n            <th width=\"16%\">{gettext('Owner')}</th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.renderRepoListView()}\n        </tbody>\n      </table>\n    );\n  }\n\n  renderMobileUI = () => {\n    let isShowTableThread = this.props.isShowTableThread !== undefined ? this.props.isShowTableThread : true;\n\n    const { sortByName, sortByTime, sortIcon } = this.getSortMetaData();\n\n    return (\n      <table className={isShowTableThread ? '' : 'table-thead-hidden'}>\n        <thead>\n          <tr>\n            <th width=\"18%\"><span className=\"sr-only\">{gettext('Library Type')}</span></th>\n            <th width=\"68%\">\n              {gettext('Sort:')}\n              <a className=\"table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('name')} {sortByName && sortIcon}</a>\n              <a className=\"table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('last update')} {sortByTime && sortIcon}</a>\n            </th>\n            <th width=\"14%\"><span className=\"sr-only\">{gettext('Actions')}</span></th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.renderRepoListView()}\n        </tbody>\n      </table>\n    );\n  }\n\n  render() {\n    if (window.innerWidth >= 768) {\n      return this.renderPCUI();\n    } else {\n      return this.renderMobileUI();\n    }\n  }\n}\n\nSharedRepoListView.propTypes = propTypes;\n\nexport default SharedRepoListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/shared-repo-list-view/shared-repo-list-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  roles: PropTypes.array.isRequired,\n  currentRole: PropTypes.string.isRequired,\n  onRoleChanged: PropTypes.func.isRequired,\n  toggleItemFreezed: PropTypes.func,\n};\n\nclass RoleEditor extends React.Component {\n\n  translateRole = (role) => {\n    if (role === 'Admin') {\n      return gettext('Admin');\n    }\n    \n    if (role === 'Member') {\n      return gettext('Member');\n    }\n  }\n\n  render() {\n    return (\n      <SelectEditor \n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.roles}\n        currentOption={this.props.currentRole}\n        onOptionChanged={this.props.onRoleChanged}\n        translateOption={this.translateRole}\n        toggleItemFreezed={this.props.toggleItemFreezed}\n      />\n    );\n  }\n}\n\nRoleEditor.propTypes = propTypes;\n\nexport default RoleEditor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/select-editor/role-editor.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport Select from 'react-select';\nimport '../../css/select-editor.css';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired, // there will be two mode. first: text and select. second: just select\n  isEditIconShow: PropTypes.bool.isRequired,\n  options: PropTypes.array.isRequired,\n  currentOption: PropTypes.string.isRequired,\n  translateOption: PropTypes.func.isRequired,\n  translateExplanation: PropTypes.func,\n  onOptionChanged: PropTypes.func.isRequired,\n  toggleItemFreezed: PropTypes.func,\n};\n\nclass SelectEditor extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEditing: false,\n    };\n    this.options = [];\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.onHideSelect);\n    this.setOptions();\n  }\n\n  setOptions = () => {\n    this.options = [];\n    const options = this.props.options;\n    for (let i = 0, length = options.length; i < length; i++) {\n      let option = {};\n      option.value = options[i];\n      option.label = <div>{this.props.translateOption(options[i])}{ this.props.translateExplanation && <div className=\"permission-editor-explanation\">{this.props.translateExplanation(options[i])}</div>}</div>;\n      this.options.push(option);\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.onHideSelect);\n  }\n\n  onEditPermission = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.setState({isEditing: true});\n    this.props.toggleItemFreezed && this.props.toggleItemFreezed(true);\n  }\n\n  onOptionChanged = (e) => {\n    let permission = e.value;\n    if (permission !== this.props.currentOption) {\n      this.props.onOptionChanged(permission);\n    }\n    this.setState({isEditing: false});\n    this.props.toggleItemFreezed && this.props.toggleItemFreezed(false);\n  }\n\n  onSelectHandler = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n  }\n\n  onHideSelect = () => {\n    this.setState({isEditing: false});\n    this.props.toggleItemFreezed && this.props.toggleItemFreezed(false);\n  }\n\n  render() {\n    let { currentOption, isTextMode } = this.props;\n\n    // scence1: isTextMode (text)editor-icon --> select\n    // scence2: !isTextMode select\n    return (\n      <div className=\"permission-editor\" onClick={this.onSelectHandler}>\n        {(!isTextMode || this.state.isEditing) &&\n          <Select\n            options={this.options}\n            className=\"permission-editor-select\"\n            classNamePrefix=\"permission-editor\"\n            placeholder={this.props.translateOption(currentOption)}\n            onChange={this.onOptionChanged}\n            captureMenuScroll={false}\n          />\n        }\n        {(isTextMode && !this.state.isEditing) &&\n          <div>\n            {this.props.translateOption(currentOption)}\n            {this.props.isEditIconShow && (\n              <span \n                title={gettext('Edit')} \n                className=\"fa fa-pencil-alt attr-action-icon\" \n                onClick={this.onEditPermission}>\n              </span>\n            )}\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nSelectEditor.propTypes = propTypes;\n\nexport default SelectEditor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/select-editor/select-editor.js","import { mediaUrl, gettext, serviceURL } from './constants';\nimport { strChineseFirstPY } from './pinyin-by-unicode';\n\nexport const Utils = {\n\n  keyCodes:  {\n    esc:   27,\n    space: 32,\n    tab:   9,\n    up:    38,\n    down:  40\n  },\n\n  bytesToSize: function(bytes) {\n    if (typeof(bytes) == 'undefined') return ' ';\n\n    if(bytes < 0) return '--';\n    const sizes = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n\n    if (bytes === 0) return bytes + ' ' + sizes[0];\n\n    const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1000)), 10);\n    if (i === 0) return bytes + ' ' + sizes[i];\n    return (bytes / (1000 ** i)).toFixed(1) + ' ' + sizes[i];\n  },\n\n  isHiDPI: function() {\n    var pixelRatio = window.devicePixelRatio ? window.devicePixelRatio : 1;\n    if (pixelRatio > 1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  FILEEXT_ICON_MAP: {\n\n    // text file\n    'md': 'txt.png',\n    'txt': 'txt.png',\n\n    // pdf file\n    'pdf' : 'pdf.png',\n\n    // document file\n    'doc' : 'word.png',\n    'docx' : 'word.png',\n    'odt' : 'word.png',\n    'fodt' : 'word.png',\n\n    'ppt' : 'ppt.png',\n    'pptx' : 'ppt.png',\n    'odp' : 'ppt.png',\n    'fodp' : 'ppt.png',\n\n    'xls' : 'excel.png',\n    'xlsx' : 'excel.png',\n    'ods' : 'excel.png',\n    'fods' : 'excel.png',\n\n    // video\n    'mp4': 'video.png',\n    'ogv': 'video.png',\n    'webm': 'video.png',\n    'mov': 'video.png',\n    'flv': 'video.png',\n    'wmv': 'video.png',\n    'rmvb': 'video.png',\n\n    // music file\n    'mp3' : 'music.png',\n    'oga' : 'music.png',\n    'ogg' : 'music.png',\n    'flac' : 'music.png',\n    'aac' : 'music.png',\n    'ac3' : 'music.png',\n    'wma' : 'music.png',\n\n    // image file\n    'jpg' : 'pic.png',\n    'jpeg' : 'pic.png',\n    'png' : 'pic.png',\n    'svg' : 'pic.png',\n    'gif' : 'pic.png',\n    'bmp' : 'pic.png',\n    'ico' : 'pic.png',\n\n    // default\n    'default' : 'file.png'\n  },\n\n  // check if a file is an image\n  imageCheck: function (filename) {\n    // no file ext\n    if (filename.lastIndexOf('.') == -1) {\n      return false;\n    }\n    var file_ext = filename.substr(filename.lastIndexOf('.') + 1).toLowerCase();\n    var image_exts = ['gif', 'jpeg', 'jpg', 'png', 'ico', 'bmp'];\n    if (image_exts.indexOf(file_ext) != -1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  // check if a file is a video\n  videoCheck: function (filename) {\n    // no file ext\n    if (filename.lastIndexOf('.') == -1) {\n      return false;\n    }\n    var file_ext = filename.substr(filename.lastIndexOf('.') + 1).toLowerCase();\n    var exts = ['mp4', 'ogv', 'webm', 'mov'];\n    if (exts.indexOf(file_ext) != -1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  encodePath: function(path) {\n    // IE8 does not support 'map()'\n    /*\n       return path.split('/').map(function(e) {\n       return encodeURIComponent(e);\n       }).join('/');\n       */\n    if (!path) {\n      return '';\n    }\n    var path_arr = path.split('/');\n    var path_arr_ = [];\n    for (var i = 0, len = path_arr.length; i < len; i++) {\n      path_arr_.push(encodeURIComponent(path_arr[i]));\n    }\n    return path_arr_.join('/');\n  },\n\n  HTMLescape: function(html) {\n    return document.createElement('div')\n      .appendChild(document.createTextNode(html))\n      .parentNode\n      .innerHTML;\n  },\n\n  generateDialogTitle: function(title, operationTarget) {\n    /*\n     * @param title: gettext('...{placeholder}...')\n     */\n    const targetStr = this.HTMLescape(operationTarget);\n    const str = `<span class=\"op-target ellipsis ellipsis-op-target\" title=${targetStr}>${targetStr}</span>`;\n    return title.replace('{placeholder}', str);\n  },\n\n  getFileName: function(filePath) {\n    let lastIndex = filePath.lastIndexOf('/');\n    return filePath.slice(lastIndex+1);\n  },\n\n  /**\n   * input: '/abc/bc/cb'\n   * output: ['/abc', '/abc/bc', '/abc/bc/cb'];\n   */\n  getPaths: function(path) {\n    let paths = path.split('/').slice(1);\n    let result = [];\n    while(paths.length) {\n      result.push('/' + paths.join('/'));\n      paths.pop();\n    }\n    return result.reverse();\n  },\n\n  /**\n   * input: \n   *  eg: /\n   *      ../abc/abc/\n   *      ../abc/bc\n   * output(return):\n   *  eg: /\n   *      abc\n   *      bc\n   */\n  getFolderName: function(path) {\n    if (path === '/') {\n      return path;\n    }\n    path = path[path.length - 1] !== '/' ? path : path.slice(0, path.length -2);\n    return path.slice(path.lastIndexOf('/') + 1);\n  },\n\n  /*\n    return dirname of a path.\n    if path is '/', return '/'.\n  */\n  getDirName: function(path) {\n    let dir = path.slice(0, path.lastIndexOf('/'));\n    if (dir === '') {\n      return '/';\n    } else {\n      return dir;\n    }\n  },\n\n  isChildPath: function(child, parent) {\n    let p = this.getDirName(child);\n    return p === parent;\n  },\n\n  isAncestorPath: function(ancestor, path) {\n    return path.indexOf(ancestor) > -1;\n  },\n\n  renameAncestorPath: function(path, ancestor, newAncestor) {\n    return path.replace(ancestor, newAncestor);\n  },\n\n  joinPath: function(pathA, pathB) {\n    if (pathA[pathA.length-1] === '/') {\n      return pathA + pathB;\n    } else {\n      return pathA + '/' + pathB;\n    }\n  },\n\n  isSupportUploadFolder: function() {\n    return navigator.userAgent.indexOf('Firefox')!=-1 ||\n      navigator.userAgent.indexOf('Chrome') > -1;\n  },\n\n  getDefaultLibIconUrl: function(isBig) {\n    let size = Utils.isHiDPI() ? 48 : 24;\n    size = isBig ? 256 : size;\n    let icon_name = 'lib.png';\n    return mediaUrl + 'img/lib/' + size + '/' + icon_name;\n  },\n\n  getLibIconUrl: function(repo, isBig) {\n    let permission = repo.permission || repo.share_permission; //Compatible with regular repo and repo shared\n    let size = Utils.isHiDPI() ? 48 : 24;\n    size = isBig ? 256 : size;\n    let icon_name = 'lib.png';\n    if (repo.encrypted) {\n      icon_name = 'lib-encrypted.png';\n    }\n    if (permission === 'r' || permission === 'perview') {\n      icon_name = 'lib-readonly.png';\n    }\n\n    return mediaUrl + 'img/lib/' + size + '/' + icon_name;\n  },\n\n  getDirentIcon: function (dirent, isBig) {\n    let size = this.isHiDPI() ? 48 : 24;\n    size = isBig ? 192 : size;\n    if (dirent.isDir()) {\n      let readonly = false;\n      if (dirent.permission && (dirent.permission === 'r' || dirent.permission === 'preview')) {\n        readonly = true;\n      }\n      return this.getFolderIconUrl(readonly, size);\n    } else {\n      return this.getFileIconUrl(dirent.name, size);\n    }\n  },\n\n  getFolderIconUrl: function(readonly = false, size) {\n    if (!size) {\n      size = Utils.isHiDPI() ? 48 : 24;\n    }\n    size = size > 24 ? 192 : 24;\n    return `${mediaUrl}img/folder${readonly ? '-read-only-' : '-'}${size}.png`;\n  },\n\n  getFileIconUrl: function(filename, size) {\n    if (!size) {\n      size = Utils.isHiDPI() ? 48 : 24;\n    }\n    size = size > 24 ? 192 : 24;\n    let file_ext = '';\n    if (filename.lastIndexOf('.') == -1) {\n      return mediaUrl + 'img/file/' + size + '/' + this.FILEEXT_ICON_MAP['default'];\n    } else {\n      file_ext = filename.substr(filename.lastIndexOf('.') + 1).toLowerCase();\n    }\n\n    if (this.FILEEXT_ICON_MAP[file_ext]) {\n      return mediaUrl + 'img/file/' + size + '/' + this.FILEEXT_ICON_MAP[file_ext];\n    } else {\n      return mediaUrl + 'img/file/' + size + '/' + this.FILEEXT_ICON_MAP['default'];\n    }\n  },\n\n  getLibIconTitle: function(repo) {\n    var title;\n    let permission = repo.permission || repo.share_permission; //Compatible with regular repo and repo shared\n    if (repo.encrypted) {\n      title = gettext('Encrypted library');\n    } else if (repo.is_admin) { // shared with 'admin' permission\n      title = gettext('Admin access');\n    } else {\n      switch(permission) {\n        case 'rw':\n          title = gettext('Read-Write library');\n          break;\n        case 'r':\n          title = gettext('Read-Only library');\n          break;\n        case 'cloud-edit':\n          title = gettext('Preview-Edit-on-Cloud library');\n          break;\n        case 'preview':\n          title = gettext('Preview-on-Cloud library');\n          break;\n      }\n    }\n    return title;\n  },\n\n  getFolderIconTitle: function(options) {\n    var title;\n    switch(options.permission) {\n      case 'rw':\n        title = gettext('Read-Write folder');\n        break;\n      case 'r':\n        title = gettext('Read-Only folder');\n        break;\n      case 'cloud-edit':\n        title = gettext('Preview-Edit-on-Cloud folder');\n        break;\n      case 'preview':\n        title = gettext('Preview-on-Cloud folder');\n        break;\n    }\n    return title;\n  },\n\n  sharePerms: function(permission) {\n    var title;\n    switch(permission) {\n      case 'rw':\n        title = gettext('Read-Write');\n        break;\n      case 'r':\n        title = gettext('Read-Only');\n        break;\n      case 'admin':\n        title = gettext('Admin');\n        break;\n      case 'cloud-edit':\n        title = gettext('Preview-Edit-on-Cloud');\n        break;\n      case 'preview':\n        title = gettext('Preview-on-Cloud');\n        break;\n    }\n    return title;\n  },\n\n  sharePermsExplanation: function(permission) {\n    var title;\n    switch(permission) {\n      case 'rw':\n        title = gettext('User can read, write, upload, download and sync files.');\n        break;\n      case 'r':\n        title = gettext('User can read, download and sync files.');\n        break;\n      case 'admin':\n        title = gettext('Besides Write permission, user can also share the library.');\n        break;\n      case 'cloud-edit':\n        title = gettext('Same as Preview on cloud. But user can also edit files online via browser.');\n        break;\n      case 'preview':\n        title = gettext('User can only view files online via browser. Files can\\'t be downloaded.');\n        break;\n    }\n    return title;\n  },\n\n  formatSize: function(options) {\n    /*\n     * param: {bytes, precision}\n     */\n    var bytes = options.bytes;\n    var precision = options.precision || 0;\n\n    var kilobyte = 1000;\n    var megabyte = kilobyte * 1000;\n    var gigabyte = megabyte * 1000;\n    var terabyte = gigabyte * 1000;\n\n    if ((bytes >= 0) && (bytes < kilobyte)) {\n      return bytes + ' B';\n\n    } else if ((bytes >= kilobyte) && (bytes < megabyte)) {\n      return (bytes / kilobyte).toFixed(precision) + ' KB';\n\n    } else if ((bytes >= megabyte) && (bytes < gigabyte)) {\n      return (bytes / megabyte).toFixed(precision) + ' MB';\n\n    } else if ((bytes >= gigabyte) && (bytes < terabyte)) {\n      return (bytes / gigabyte).toFixed(precision) + ' GB';\n\n    } else if (bytes >= terabyte) {\n      return (bytes / terabyte).toFixed(precision) + ' TB';\n\n    } else {\n      return bytes + ' B';\n    }\n  },\n\n  formatBitRate: function(bits) {\n    var Bs;\n    if (typeof bits !== 'number') {\n      return '';\n    }\n    Bs = bits / 8;\n    if (Bs >= 1000000000) {\n      return (Bs / 1000000000).toFixed(2) + ' GB/s';\n    }\n    if (Bs >= 1000000) {\n      return (Bs / 1000000).toFixed(2) + ' MB/s';\n    }\n    if (Bs >= 1000) {\n      return (Bs / 1000).toFixed(2) + ' kB/s';\n    }\n    return Bs.toFixed(2) + ' B/s';\n  },\n\n  isMarkdownFile: function(filePath) {\n    let index = filePath.lastIndexOf('.');\n    if (index === -1) {\n      return false;\n    } else {\n      let type = filePath.substring(index).toLowerCase();\n      if (type === '.md' || type === '.markdown') {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  },\n\n  isInternalMarkdownLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/lib/' + repoID + '.*\\.md$');\n    return re.test(url);\n  },\n\n  isInternalDirLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/library/' + repoID + '.*');\n    return re.test(url);\n  },\n\n  getPathFromInternalMarkdownLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/lib/' + repoID + '/file' + '(.*\\.md)');\n    var array = re.exec(url);\n    var path = decodeURIComponent(array[1]);\n    return path;\n  },\n  \n  getPathFromInternalDirLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/library/' + repoID + '(/.*)');\n    var array = re.exec(url);\n    var path = decodeURIComponent(array[1]);\n    path = path.slice(1);\n    path = path.slice(path.indexOf('/'));\n    return path;\n  },\n\n  isWikiInternalMarkdownLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '.*\\.md$');\n    return re.test(url);\n  },\n\n  isWikiInternalDirLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '.*');\n    return re.test(url);\n  },\n\n  getPathFromWikiInternalMarkdownLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '(.*\\.md)');\n    var array = re.exec(url);\n    var path = array[1];\n    try {\n      path = decodeURIComponent(path);\n    } catch(err) {\n      path = path.replace(/%/g, '%25');\n      path = decodeURIComponent(path);\n    }\n    return path;\n  },\n  \n  getPathFromWikiInternalDirLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '(/.*)');\n    var array = re.exec(url);\n    var path = array[1];\n    try {\n      path = decodeURIComponent(path);\n    } catch(err) {\n      path = path.replace(/%/g, '%25');\n      path = decodeURIComponent(path);\n    }\n    return path;\n  },\n\n  compareTwoWord: function(wordA, wordB) {\n    // compare wordA and wordB at lower case\n    // if wordA >= wordB, return 1\n    // if wordA < wordB, return -1\n\n    var a_val, b_val,\n      a_uni = wordA.charCodeAt(0),\n      b_uni = wordB.charCodeAt(0);\n\n    if ((19968 < a_uni && a_uni < 40869) && (19968 < b_uni && b_uni < 40869)) {\n      // both are chinese words\n      a_val = strChineseFirstPY.charAt(a_uni - 19968).toLowerCase();\n      b_val = strChineseFirstPY.charAt(b_uni - 19968).toLowerCase();\n    } else if ((19968 < a_uni && a_uni < 40869) && !(19968 < b_uni && b_uni < 40869)) {\n      // a is chinese and b is english\n      return 1;\n    } else if (!(19968 < a_uni && a_uni < 40869) && (19968 < b_uni && b_uni < 40869)) {\n      // a is english and b is chinese\n      return -1;\n    } else {\n      // both are english words\n      a_val = wordA.toLowerCase();\n      b_val = wordB.toLowerCase();\n      return this.compareStrWithNumbersIn(a_val, b_val);\n    }\n\n    return a_val >= b_val ? 1 : -1;\n  },\n\n  // compare two strings which may have digits in them\n  // and compare those digits as number instead of string\n  compareStrWithNumbersIn: function(a, b) {\n    var reParts = /\\d+|\\D+/g;\n    var reDigit = /\\d/;\n    var aParts = a.match(reParts);\n    var bParts = b.match(reParts);\n    var isDigitPart;\n    var len = Math.min(aParts.length, bParts.length);\n    var aPart, bPart;\n\n    if (aParts && bParts &&\n      (isDigitPart = reDigit.test(aParts[0])) == reDigit.test(bParts[0])) {\n      // Loop through each substring part to compare the overall strings.\n      for (var i = 0; i < len; i++) {\n        aPart = aParts[i];\n        bPart = bParts[i];\n\n        if (isDigitPart) {\n          aPart = parseInt(aPart, 10);\n          bPart = parseInt(bPart, 10);\n        }\n\n        if (aPart != bPart) {\n          return aPart < bPart ? -1 : 1;\n        }\n\n        // Toggle the value of isDigitPart since the parts will alternate.\n        isDigitPart = !isDigitPart;\n      }\n    }\n\n    // Use normal comparison.\n    return (a >= b) - (a <= b);\n  },\n\n  sortRepos: function(repos, sortBy, sortOrder) {\n    const _this = this;\n    let comparator;\n\n    switch (`${sortBy}-${sortOrder}`) {\n      case 'name-asc':\n        comparator = function(a, b) {\n          if (!a.repo_name) {\n            return 1;\n          }\n          if (!b.repo_name) {\n            return -1;\n          }\n          var result = _this.compareTwoWord(a.repo_name, b.repo_name);\n          return result;\n        };\n        break;\n      case 'name-desc':\n        comparator = function(a, b) {\n          if (!a.repo_name) {\n            return -1;\n          }\n          if (!b.repo_name) {\n            return 1;\n          }\n          var result = _this.compareTwoWord(a.repo_name, b.repo_name);\n          return -result;\n        };\n        break;\n      case 'time-asc':\n        comparator = function(a, b) {\n          return a.last_modified < b.last_modified ? -1 : 1;\n        };\n        break;\n      case 'time-desc':\n        comparator = function(a, b) {\n          return a.last_modified < b.last_modified ? 1 : -1;\n        };\n        break;\n    }\n\n    repos.sort(comparator);\n    return repos;\n  },\n\n  sortDirents: function(items, sortBy, sortOrder) {\n    const _this = this;\n    let comparator;\n\n    switch (`${sortBy}-${sortOrder}`) {\n      case 'name-asc':\n        comparator = function(a, b) {\n          var result = _this.compareTwoWord(a.name, b.name);\n          return result;\n        };\n        break;\n      case 'name-desc':\n        comparator = function(a, b) {\n          var result = _this.compareTwoWord(a.name, b.name);\n          return -result;\n        };\n        break;\n      case 'time-asc':\n        comparator = function(a, b) {\n          return a.mtime < b.mtime ? -1 : 1;\n        };\n        break;\n      case 'time-desc':\n        comparator = function(a, b) {\n          return a.mtime < b.mtime ? 1 : -1;\n        };\n        break;\n    }\n\n    items.sort((a, b) => {\n      if (a.type == 'dir' && b.type == 'file') {\n        return -1;\n      } else if (a.type == 'file' && b.type == 'dir') {\n        return 1;\n      } else {\n        return comparator(a, b);\n      }\n    });\n    return items;\n  },\n\n  changeMarkdownNodes: function(nodes, fn) {\n    nodes.map((item) => {\n      fn(item); \n      if (item.nodes && item.nodes.length > 0){\n        Utils.changeMarkdownNodes(item.nodes, fn); \n      }\n    });\n\n    return nodes;\n  },\n\n  chooseLanguage: function(suffix) {\n    let mode;\n    switch(suffix) {\n      case 'py':\n        mode = 'python';\n        break;\n      case 'js':\n        mode = 'javascript';\n        break;\n      case 'c':\n        mode = 'text/x-csrc';\n        break;\n      case 'cpp':\n        mode = 'text/x-c++src';\n        break;\n      case 'java':\n        mode = 'text/x-java';\n        break;\n      case 'cs':\n        mode = 'text/x-csharp';\n        break;\n      case 'mdf':\n        mode = 'text/x-sql';\n        break;\n      case 'html':\n        mode = 'htmlmixed';\n        break;\n      default:\n        mode = suffix;\n    }\n    return mode;\n  },\n\n  DARK_COLOR_MAP: {\n    // old color\n    'red': '#D11507',\n    'orange': '#FF8C00',\n    'yellow': '#EDEF00',\n    'green': '#006400',\n    'cyan': '#00E0E1',\n    'blue': '#2510A3',\n    'indigo': '#350C56',\n    'purple': '#551054',\n    'pink': '#E3A5B0',\n    'azure': '#C4D0D0',\n    'lime': '#00E100',\n    'teal': '#006A6B',\n    'gray': '#545454',\n\n    // new color\n    '#FFA8A8': '#E49090',\n    '#FFA94D': '#E39136',\n    '#FFD43B': '#E0B815',\n    '#A0EC50': '#83CF32',\n    '#A9E34B': '#8DC72E',\n    '#63E6BE': '#43CAA4',\n    '#4FD2C9': '#2DB9B0',\n    '#72C3FC': '#57ABE3',\n    '#91A7FF': '#7A91E7',\n    '#E599F7': '#CC82DE',\n    '#B197FC': '#9B82E5',\n    '#F783AC': '#DF6D97',\n    '#CED4DA': '#A8ADB2',\n  },\n\n  getDarkColor: function(color) {\n    let darkColor;\n    darkColor = this.DARK_COLOR_MAP[color];\n    return darkColor;\n  },\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js","class SharedLinkInfo {\n\n  constructor(object) {\n    this.repo_id = object.repo_id;\n    this.repo_name = object.repo_name;\n    this.path = object.path;\n    this.obj_name = object.obj_name;\n    this.is_dir = object.is_dir;\n    this.permissions = object.permissions;\n    this.username = object.username;\n    this.is_expired = object.is_expired;\n    this.expire_date = object.expire_date;\n    this.token = object.token;\n    this.link = object.link;\n    this.view_cnt = object.view_cnt;\n    this.ctime = object.ctime;\n  }\n\n}\n\nexport default SharedLinkInfo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/shared-link-info.js","class SharedUploadInfo {\n   \n  constructor(object) {\n    this.repo_id = object.repo_id;\n    this.repo_name = object.repo_name;\n    this.path = object.path;\n    this.link = object.link;\n    this.obj_name = object.obj_name;\n    this.username = object.username;\n    this.ctime = object.ctime;\n    this.token = object.token;\n    this.view_cnt = object.view_cnt;\n  }\n\n}\n\n\nexport default SharedUploadInfo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/shared-upload-info.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RepoListItem from './repo-list-item';\n\nconst propTypes = {\n  currentRepoInfo: PropTypes.object,\n  isShowFile: PropTypes.bool,\n  repo: PropTypes.object,\n  repoList: PropTypes.array,\n  selectedRepo: PropTypes.object,\n  initToShowChildren: PropTypes.bool.isRequired,\n  selectedPath: PropTypes.string,\n  onDirentItemClick: PropTypes.func.isRequired,\n  onRepoItemClick: PropTypes.func.isRequired,\n};\n\nclass RepoListView extends React.Component {\n\n  render() {\n    let { currentRepoInfo, repoList } = this.props;\n    if (currentRepoInfo) {\n      repoList = [];\n      repoList.push(currentRepoInfo);\n    }\n    return (\n      <ul className=\"list-view-content file-chooser-item\">\n        {repoList.length > 0 && repoList.map((repoItem, index) => {\n          return (\n            <RepoListItem \n              key={index} \n              repo={repoItem}\n              initToShowChildren={this.props.initToShowChildren}\n              selectedRepo={this.props.selectedRepo}\n              selectedPath={this.props.selectedPath}\n              onRepoItemClick={this.props.onRepoItemClick} \n              onDirentItemClick={this.props.onDirentItemClick}\n              isShowFile={this.props.isShowFile}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nRepoListView.propTypes = propTypes;\n\nexport default RepoListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/repo-list-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport DirentListView from './dirent-list-view';\n\nconst propTypes = {\n  isShowFile: PropTypes.bool,\n  selectedPath: PropTypes.string,\n  selectedRepo: PropTypes.object,\n  repo: PropTypes.object.isRequired,\n  initToShowChildren: PropTypes.bool.isRequired,\n  onDirentItemClick: PropTypes.func.isRequired,\n  onRepoItemClick: PropTypes.func.isRequired,\n};\n\nclass RepoListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isShowChildren: this.props.initToShowChildren,\n    };\n  }\n\n  onToggleClick = () => {\n    this.setState({isShowChildren: !this.state.isShowChildren});\n  }\n\n  onDirentItemClick = (filePath, dirent) => {\n    let repo = this.props.repo;\n    this.props.onDirentItemClick(repo, filePath, dirent);\n  }\n\n  onRepoItemClick = () => {\n    if (!this.isCurrentRepo()) {\n      this.props.onRepoItemClick(this.props.repo);\n    } else {\n      this.onToggleClick();\n    }\n  }\n\n  isCurrentRepo = () => {\n    let { selectedRepo, repo } = this.props;\n    return selectedRepo && (repo.repo_id === selectedRepo.repo_id);\n  }\n\n  render() {\n    let repoActive = false;\n    let isCurrentRepo = this.isCurrentRepo();\n    if (isCurrentRepo && !this.props.selectedPath) {\n      repoActive = true;\n    }\n    return (\n      <li className=\"file-chooser-item\">\n        <span className={`item-toggle fa ${this.state.isShowChildren ? 'fa-caret-down' : 'fa-caret-right'}`} onClick={this.onToggleClick}></span>\n        <span className={`item-info ${repoActive ? 'item-active' : ''}`} onClick={this.onRepoItemClick}>\n          <span className=\"icon far fa-folder\"></span>\n          <span className=\"name user-select-none ellipsis\">{this.props.repo.repo_name}</span>\n        </span>\n        {this.state.isShowChildren && (\n          <DirentListView \n            repo={this.props.repo} \n            isShowChildren={this.state.isShowChildren} \n            onDirentItemClick={this.onDirentItemClick}\n            selectedRepo={this.props.selectedRepo}\n            selectedPath={this.props.selectedPath}\n            isShowFile={this.props.isShowFile}\n          />\n        )}\n      </li>\n    );\n  }\n}\n\nRepoListItem.propTypes = propTypes;\n\nexport default RepoListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/repo-list-item.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport Dirent from '../../models/dirent';\nimport DirentListItem from './dirent-list-item';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  isShowFile: PropTypes.bool,\n  selectedPath: PropTypes.string,\n  selectedRepo: PropTypes.object,\n  repo: PropTypes.object.isRequired,\n  isShowChildren: PropTypes.bool.isRequired,\n  onDirentItemClick: PropTypes.func.isRequired\n};\n\nclass DirentListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      direntList: [],\n    };\n  }\n\n  componentDidMount() {\n    let repo = this.props.repo;\n    seafileAPI.listDir(repo.repo_id, '/').then(res => {\n      let direntList = [];\n      res.data.dirent_list.forEach(item => {\n        if (this.props.isShowFile === true) {\n          let dirent = new Dirent(item);\n          direntList.push(dirent);\n        } else {\n          if (item.type === 'dir') {\n            let dirent = new Dirent(item);\n            direntList.push(dirent);\n          }\n        }\n      });\n      direntList = Utils.sortDirents(direntList, 'name', 'asc');\n      this.setState({direntList: direntList});\n    });\n  }\n\n  render() {\n    let { direntList } = this.state;\n    return (\n      <ul className={`list-view-content ${this.props.isShowChildren ? '' : 'hide'}`}>\n        { direntList.map((dirent, index) => {\n          return (\n            <DirentListItem \n              key={index} \n              repo={this.props.repo} \n              dirent={dirent}\n              selectedRepo={this.props.selectedRepo}\n              onDirentItemClick={this.props.onDirentItemClick}\n              selectedPath={this.props.selectedPath}\n              isShowFile={this.props.isShowFile}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nDirentListView.propTypes = propTypes;\n\nexport default DirentListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/dirent-list-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport Dirent from '../../models/dirent';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  isShowFile: PropTypes.bool,\n  filePath: PropTypes.string,\n  selectedPath: PropTypes.string,\n  selectedRepo: PropTypes.object,\n  dirent: PropTypes.object.isRequired,\n  repo: PropTypes.object.isRequired,\n  onDirentItemClick: PropTypes.func.isRequired,\n};\n\nclass DirentListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    let filePath = this.props.filePath ?  this.props.filePath +  '/' + this.props.dirent.name : '/' + this.props.dirent.name;\n    \n    this.state = {\n      isShowChildren: false,\n      hasRequest: false,\n      hasChildren: true,\n      filePath: filePath,\n      direntList: [],\n    };\n  }\n\n  onItemClick = (e) => {\n    e.stopPropagation();  // need prevent event popup\n    let isCurrentRepo = this.props.selectedRepo.repo_id === this.props.repo.repo_id;\n    if (isCurrentRepo) {\n      if (this.props.selectedPath !== this.state.filePath) {\n        this.props.onDirentItemClick(this.state.filePath, this.props.dirent);\n      } else {\n        if (this.props.dirent.type === 'dir') {\n          this.onToggleClick(e);\n        }\n      }\n    } else {\n      this.props.onDirentItemClick(this.state.filePath, this.props.dirent);\n    }\n  }\n  \n  onToggleClick = (e) => {\n    e.stopPropagation();  // need prevent event popup\n    if (!this.state.hasRequest) {\n      seafileAPI.listDir(this.props.repo.repo_id, this.state.filePath).then(res => {\n        let direntList = [];\n        res.data.dirent_list.forEach(item => {\n          if (this.props.isShowFile === true) { // show dir and file\n            let dirent = new Dirent(item);\n            direntList.push(dirent);\n          } else { // just show dir\n            if (item.type === 'dir') {\n              let dirent = new Dirent(item);\n              direntList.push(dirent);\n            }\n          }\n        });\n        direntList = Utils.sortDirents(direntList, 'name', 'asc');\n        this.setState({\n          hasRequest: true,\n          direntList: direntList,\n        });\n        if (res.data.length === 0 || direntList.length === 0) {\n          this.setState({hasChildren: false});\n        }\n      });\n    }\n    \n    this.setState({isShowChildren: !this.state.isShowChildren});\n  }\n\n  renderChildren = () => {\n    return (\n      <ul className=\"list-view-content\">\n        {this.state.direntList.map((dirent, index) => {\n          return (\n            <DirentListItem \n              key={index} \n              dirent={dirent}\n              repo={this.props.repo}\n              filePath={this.state.filePath}\n              onItemClick={this.onItemClick}\n              selectedPath={this.props.selectedPath}\n              selectedRepo={this.props.selectedRepo}\n              onDirentItemClick={this.props.onDirentItemClick}\n              isShowFile={this.props.isShowFile}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n\n  render() {\n    let isCurrentRepo = this.props.selectedRepo.repo_id === this.props.repo.repo_id;\n    let isCurrentPath = this.props.selectedPath === this.state.filePath;\n\n    return (\n      <li className=\"file-chooser-item\">\n        {\n          this.state.hasChildren && this.props.dirent.type !== 'file' &&\n          <span className={`item-toggle fa ${this.state.isShowChildren ? 'fa-caret-down' : 'fa-caret-right'}`} onClick={this.onToggleClick}></span>\n        }\n        <span className={`item-info ${(isCurrentRepo && isCurrentPath) ? 'item-active' : ''}`} onClick={this.onItemClick}>\n          <span className={`icon far ${this.props.dirent.type === 'dir' ? 'fa-folder' : 'fa-file'}`}></span>\n          <span className=\"name user-select-none ellipsis\">{this.props.dirent && this.props.dirent.name}</span>\n        </span>\n        {this.state.isShowChildren && this.renderChildren()}\n      </li>\n    );\n  }\n}\n\nDirentListItem.propTypes = propTypes;\n\nexport default DirentListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/dirent-list-item.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SearchedListItem from './searched-list-item';\n\nconst propTypes = {\n  searchResults: PropTypes.array.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n};\n\nclass SearchedListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentItem: null,\n    };\n  }\n\n  onItemClick = (item) => {\n    this.setState({currentItem: item});\n    this.props.onItemClick(item);\n  }\n\n  render() {\n    return (\n      <table className=\"table-thead-hidden\">\n        <thead>\n          <tr>\n            <th width=\"8%\"></th>\n            <th width=\"92%\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.props.searchResults.map((item, index) => {\n            return (<SearchedListItem key={index} item={item} currentItem={this.state.currentItem} onItemClick={this.onItemClick} />);\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nSearchedListView.propTypes = propTypes;\n\nexport default SearchedListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/searched-list-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  currentItem: PropTypes.object,\n  onItemClick: PropTypes.func.isRequired,\n};\n\nclass SearchedListItem extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({highlight: true});\n  }\n\n  onMouseLeave = () => {\n    this.setState({highlight: false});\n  }\n\n  onClick = () => {\n    let item = this.props.item;\n    this.props.onItemClick(item);\n  }\n\n  render() {\n    let { item, currentItem } = this.props;\n    let fileIconUrl = item.is_dir ? Utils.getFolderIconUrl(false, 192) : Utils.getFileIconUrl(item.name, 192);\n    let trClass = this.state.highlight ? 'tr-highlight' : '';\n    if (currentItem) {\n      if (item.repo_id === currentItem.repo_id && item.path === currentItem.path) {\n        trClass = 'searched-active';\n      }\n    }\n    return (\n      <tr className={trClass} onClick={this.onClick} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className=\"text-center\"><img className=\"item-img\" src={fileIconUrl} alt=\"\" width=\"24\"/></td>\n        <td><span className=\"item-link\">{item.repo_name}/{item.link_content}</span></td>\n      </tr>\n    );\n  }\n}\n\nSearchedListItem.propTypes = propTypes;\n\nexport default SearchedListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/searched-list-item.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext, isPro } from '../../utils/constants';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api.js';\nimport UserSelect from '../user-select';\nimport SharePermissionEditor from '../select-editor/share-permission-editor';\n\nclass UserItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n  \n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  }\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  }\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.user_info.name);\n  }\n  \n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item, permission);\n  }\n\n  render() {\n    let item = this.props.item;\n    let currentPermission = item.is_admin ? 'admin' : item.permission;\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className=\"name\">{item.user_info.nickname}</td>\n        <td>\n          <SharePermissionEditor \n            isTextMode={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={currentPermission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n          />\n        </td>\n        <td>\n          <span\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem} \n            title={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass UserList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <UserItem \n              key={index} \n              item={item} \n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemPath: PropTypes.string.isRequired,\n  itemType: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired\n};\n\nclass ShareToUser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      permission: 'rw',\n      sharedItems: []\n    };\n    this.options = [];\n    this.permissions = [];\n    if (this.props.itemType === 'library') {\n      this.permissions = ['rw', 'r', 'admin', 'cloud-edit', 'preview'];\n    } else if (this.props.itemType === 'dir') {\n      this.permissions = ['rw', 'r', 'cloud-edit', 'preview'];\n    }\n    if (this.props.isGroupOwnedRepo || !isPro) {\n      this.permissions = ['rw', 'r'];\n    }\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n    this.options = [];\n  }\n\n  componentDidMount() {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID;\n    seafileAPI.listSharedItems(repoID, path, 'user').then((res) => {\n      if(res.data.length !== 0) {\n        this.setState({sharedItems: res.data});\n      }\n    });\n  }\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  }\n\n  shareToUser = () => {\n    let users = [];\n    let path = this.props.itemPath; \n    let repoID = this.props.repoID;\n    if (this.state.selectedOption && this.state.selectedOption.length > 0 ) {\n      for (let i = 0; i < this.state.selectedOption.length; i ++) {\n        users[i] = this.state.selectedOption[i].email;\n      }\n    }\n    if (this.props.isGroupOwnedRepo) {\n      seafileAPI.shareGroupOwnedRepoToUser(repoID, this.state.permission, users).then(res => {\n        let errorMsg = [];\n        if (res.data.failed.length > 0) {\n          for (let i = 0 ; i < res.data.failed.length ; i++) {\n            errorMsg[i] = res.data.failed[i];\n          }\n        }\n        // todo modify api\n        let items = res.data.success.map(item => {\n          let sharedItem = {\n            'user_info': { 'nickname': item.user_name, 'name': item.user_email},\n            'permission': item.permission,\n            'share_type': 'user',\n          };\n          return sharedItem;\n        });\n        this.setState({\n          errorMsg: errorMsg,\n          sharedItems: this.state.sharedItems.concat(items),\n          selectedOption: null,\n          permission: 'rw',\n        });\n        this.refs.userSelect.clearSelect();\n      }).catch(error => {\n        if (error.response) {\n          let message = gettext('Library can not be shared to owner.');\n          let errMessage = [];\n          errMessage.push(message);\n          this.setState({\n            errorMsg: errMessage,\n            selectedOption: null,\n          });\n        }\n      });\n    } else {\n      seafileAPI.shareFolder(repoID, path, 'user', this.state.permission, users).then(res => {\n        let errorMsg = [];\n        if (res.data.failed.length > 0) {\n          for (let i = 0 ; i < res.data.failed.length ; i++) {\n            errorMsg[i] = res.data.failed[i];\n          }\n        }\n        this.setState({\n          errorMsg: errorMsg,\n          sharedItems: this.state.sharedItems.concat(res.data.success),\n          selectedOption: null,\n          permission: 'rw',\n        });\n        this.refs.userSelect.clearSelect();\n      }).catch(error => {\n        if (error.response) {\n          let message = gettext('Library can not be shared to owner.');\n          let errMessage = [];\n          errMessage.push(message);\n          this.setState({\n            errorMsg: errMessage,\n            selectedOption: null,\n          });\n        }\n      });\n    }\n  } \n\n  deleteShareItem = (username) => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID;\n    if (this.props.isGroupOwnedRepo) {\n      seafileAPI.deleteGroupOwnedRepoSharedUserItem(repoID, username).then(res => {\n        this.setState({\n          sharedItems: this.state.sharedItems.filter( item => { return item.user_info.name !== username; }) \n        });\n      });\n    } else {\n      seafileAPI.deleteShareToUserItem(repoID, path, 'user', username).then(res => {\n        this.setState({\n          sharedItems: this.state.sharedItems.filter( item => { return item.user_info.name !== username; }) \n        });\n      });\n    }\n  }\n\n  onChangeUserPermission = (item, permission) => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID;\n    let username = item.user_info.name;\n    if (this.props.isGroupOwnedRepo) {\n      seafileAPI.modifyGroupOwnedRepoUserSharedPermission(repoID, permission, username).then(() => {\n        this.updateSharedItems(item, permission);\n      });\n    } else {\n      seafileAPI.updateShareToUserItemPermission(repoID, path, 'user', username, permission).then(() => {\n        this.updateSharedItems(item, permission);\n      });\n    }\n  }\n  \n  updateSharedItems = (item, permission) => {\n    let username = item.user_info.name;\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      let sharedItemUsername = sharedItem.user_info.name;\n      if (username === sharedItemUsername) {\n        sharedItem.permission = permission;\n      }\n      sharedItem.is_admin = permission === 'admin' ? true : false;\n      return sharedItem;\n    });\n    this.setState({sharedItems: sharedItems});\n  }\n\n  render() {\n    let { sharedItems } = this.state;\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('User')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <UserSelect\n                  ref=\"userSelect\"\n                  isMulti={true}\n                  className=\"reviewer-select\"\n                  placeholder={gettext('Select users...')}\n                  onSelectChange={this.handleSelectChange}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor \n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareToUser}>{gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&\n              this.state.errorMsg.map((item, index) => {\n                let errMessage = '';\n                if (item.email) {\n                  errMessage = item.email + ': ' + item.error_msg;\n                } else {\n                  errMessage = item;\n                }\n                return (\n                  <tr key={index}>\n                    <td colSpan={3}><p className=\"error\">{errMessage}</p></td>\n                  </tr>\n                );\n              })\n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"50%\">{gettext('User')}</th>\n                <th width=\"35%\">{gettext('Permission')}</th>\n                <th width=\"15%\"></th>\n              </tr>\n            </thead>\n            <UserList \n              items={sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem} \n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nShareToUser.propTypes = propTypes;\n\nexport default ShareToUser;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/share-to-user.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport Select from 'react-select';\nimport makeAnimated from 'react-select/lib/animated';\nimport { gettext, isPro } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api.js';\nimport SharePermissionEditor from '../select-editor/share-permission-editor';\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n  \n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  }\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  }\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.group_info.id);\n  }\n\n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item, permission);\n  }\n\n  render() {\n    let item = this.props.item;\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className='name'>{item.group_info.name}</td>\n        <td>\n          <SharePermissionEditor \n            isTextMode={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={item.permission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n          />\n        </td>\n        <td>\n          <span\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem} \n            title={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass GroupList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <GroupItem \n              key={index} \n              item={item} \n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemPath: PropTypes.string.isRequired,\n  itemType: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired\n};\n\nconst NoOptionsMessage = (props) => {\n  return (\n    <div {...props.innerProps} style={{margin: '6px 10px', textAlign: 'center', color: 'hsl(0,0%,50%)'}}>{gettext('Group not found')}</div>\n  );\n};\n\nclass ShareToGroup extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      permission: 'rw',\n      sharedItems: []\n    };\n    this.options = [];\n    this.permissions = []\n    if (this.props.itemType === 'library') {\n      this.permissions = ['rw', 'r', 'admin', 'cloud-edit', 'preview'];\n    } else if (this.props.itemType === 'dir') {\n      this.permissions = ['rw', 'r', 'cloud-edit', 'preview'];\n    }\n    if (this.props.isGroupOwnedRepo || !isPro) {\n      this.permissions = ['rw', 'r'];\n    }\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n  }\n\n  componentDidMount() {\n    this.loadOptions();\n    this.listSharedGroups();\n  }\n\n  loadOptions = () => {\n    seafileAPI.shareableGroups().then((res) => {\n      this.options = [];\n      for (let i = 0 ; i < res.data.length; i++) {\n        let obj = {};\n        obj.value = res.data[i].name;\n        obj.id = res.data[i].id;\n        obj.label = res.data[i].name;\n        this.options.push(obj);\n      }\n    });\n  }\n\n  listSharedGroups = () => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID; \n    seafileAPI.listSharedItems(repoID, path, 'group').then((res) => {\n      if(res.data.length !== 0) {\n        this.setState({\n          sharedItems: res.data\n        });\n      }\n    });\n  }\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  }\n\n  shareToGroup = () => {\n    let groups = [];\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID; \n    let isGroupOwnedRepo = this.props.isGroupOwnedRepo;\n    if (this.state.selectedOption && this.state.selectedOption.length > 0 ) {\n      for (let i = 0; i < this.state.selectedOption.length; i ++) {\n        groups[i] = this.state.selectedOption[i].id;\n      }\n    }\n    if (isGroupOwnedRepo) {\n      seafileAPI.shareGroupOwnedRepoToGroup(repoID, this.state.permission, groups).then(res => {\n        let errorMsg = [];\n        if (res.data.failed.length > 0) {\n          for (let i = 0 ; i < res.data.failed.length ; i++) {\n            errorMsg[i] = res.data.failed[i];\n          }\n        }\n\n        // todo modify api\n        let items = res.data.success.map(item => {\n          let sharedItem = {\n            'group_info': { 'id': item.group_id, 'name': item.group_name},\n            'permission': item.permission,\n            'share_type': 'group',\n          };\n          return sharedItem;\n        });\n  \n        this.setState({\n          errorMsg: errorMsg,\n          sharedItems: this.state.sharedItems.concat(items),\n          selectedOption: null,\n          permission: 'rw',\n        });\n      });\n    } else {\n      seafileAPI.shareFolder(repoID, path, 'group', this.state.permission, groups).then(res => {\n        let errorMsg = [];\n        if (res.data.failed.length > 0) {\n          for (let i = 0 ; i < res.data.failed.length ; i++) {\n            errorMsg[i] = res.data.failed[i];\n          }\n        }\n  \n        this.setState({\n          errorMsg: errorMsg,\n          sharedItems: this.state.sharedItems.concat(res.data.success),\n          selectedOption: null,\n          permission: 'rw'\n        });\n      });\n    }\n  }\n\n  deleteShareItem = (groupID) => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID; \n    if (this.props.isGroupOwnedRepo) {\n      seafileAPI.deleteGroupOwnedRepoSharedGroupItem(repoID, groupID).then(() => {\n        this.setState({\n          sharedItems: this.state.sharedItems.filter(item => { return item.group_info.id !== groupID; }) \n        });\n      });\n    } else {\n      seafileAPI.deleteShareToGroupItem(repoID, path, 'group', groupID).then(() => {\n        this.setState({\n          sharedItems: this.state.sharedItems.filter(item => { return item.group_info.id !== groupID; }) \n        });\n      });\n    }\n  }\n\n  onChangeUserPermission = (item, permission) => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID;\n    let groupID = item.group_info.id;\n    if (this.props.isGroupOwnedRepo) {\n      seafileAPI.modifyGroupOwnedRepoGroupSharedPermission(repoID, permission, groupID).then(() => {\n        this.updateSharedItems(item, permission);\n      });\n    } else {\n      seafileAPI.updateShareToGroupItemPermission(repoID, path, 'group', groupID, permission).then(() => {\n        this.updateSharedItems(item, permission);\n      });\n    }\n  }\n  \n  updateSharedItems = (item, permission) => {\n    let groupID = item.group_info.id;\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      let sharedItemGroupID = sharedItem.group_info.id;\n      if (groupID === sharedItemGroupID) {\n        sharedItem.permission = permission;\n      }\n      return sharedItem;\n    });\n    this.setState({sharedItems: sharedItems});\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('Group')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <Select\n                  isMulti\n                  onChange={this.handleSelectChange}\n                  options={this.options}\n                  placeholder={gettext('Select a group')}\n                  components={makeAnimated()}\n                  maxMenuHeight={200}\n                  inputId={'react-select-2-input'}\n                  value={this.state.selectedOption}\n                  components={{ NoOptionsMessage }}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor \n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareToGroup}>{gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&                  \n              this.state.errorMsg.map((item, index) => {\n                let errMessage = item.group_name + ': ' + item.error_msg;\n                return (\n                  <tr key={index}>\n                    <td colSpan={3}><p className=\"error\">{errMessage}</p></td>\n                  </tr>\n                );\n              })                                                \n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"50%\">{gettext('Group')}</th>\n                <th width=\"35%\">{gettext('Permission')}</th>\n                <th width=\"15%\"></th>\n              </tr>\n            </thead>\n            <GroupList \n              items={this.state.sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem} \n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nShareToGroup.propTypes = propTypes;\n\nexport default ShareToGroup;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/share-to-group.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport copy from 'copy-to-clipboard';\nimport { Button, Form, FormGroup, Label, Input, InputGroup, InputGroupAddon, Alert } from 'reactstrap';\nimport { gettext, shareLinkExpireDaysMin, shareLinkExpireDaysMax } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport SharedLinkInfo from '../../models/shared-link-info';\nimport toaster from '../toast';\n\nconst propTypes = {\n  itemPath: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  closeShareDialog: PropTypes.func.isRequired,\n};\n\nclass GenerateShareLink extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isValidate: false,\n      isShowPasswordInput: false,\n      isPasswordVisible: false,\n      isExpireChecked: false,\n      password: '',\n      passwdnew: '',\n      expireDays: '',\n      errorInfo: '',\n      sharedLinkInfo: null,\n      isNoticeMessageShow: false,\n    };\n    this.permissions = {\n      'can_edit': false, \n      'can_download': true\n    };\n    this.isExpireDaysNoLimit = (parseInt(shareLinkExpireDaysMin) === 0 && parseInt(shareLinkExpireDaysMax) === 0);\n  }\n\n  componentDidMount() {\n    this.getShareLink();\n  }\n\n  getShareLink = () => {\n    let path = this.props.itemPath; \n    let repoID = this.props.repoID;\n    seafileAPI.getShareLink(repoID, path).then((res) => {\n      if (res.data.length !== 0) {\n        let sharedLinkInfo = new SharedLinkInfo(res.data[0]);\n        this.setState({sharedLinkInfo: sharedLinkInfo});\n      }\n    });\n  } \n\n  onPasswordInputChecked = () => {\n    this.setState({\n      isShowPasswordInput: !this.state.isShowPasswordInput,\n      password: '',\n      passwdnew: '',\n      errorInfo: ''\n    });\n  }\n\n  togglePasswordVisible = () => {\n    this.setState({\n      isPasswordVisible: !this.state.isPasswordVisible\n    });\n  }\n\n  generatePassword = () => {\n    let val = Math.random().toString(36).substr(5);\n    this.setState({\n      password: val,\n      passwdnew: val\n    });\n  }\n\n  inputPassword = (e) => {\n    let passwd = e.target.value.trim();\n    this.setState({password: passwd});\n  }\n\n  inputPasswordNew = (e) => {\n    let passwd = e.target.value.trim();\n    this.setState({passwdnew: passwd});\n  }\n\n  setPermission = (permission) => {\n    if (permission == 'previewAndDownload') {\n      this.permissions = {\n        'can_edit': false,\n        'can_download': true\n      };\n    } else {\n      this.permissions = {\n        'can_edit': false,\n        'can_download': false\n      };     \n    }\n  }\n\n  generateShareLink = () => {\n    let isValid = this.validateParamsInput();\n    if (isValid) {\n      this.setState({errorInfo: ''});\n      let { itemPath, repoID } = this.props;\n      let { password, expireDays } = this.state;\n      let permissions = this.permissions;\n      permissions = JSON.stringify(permissions);\n      seafileAPI.createShareLink(repoID, itemPath, password, expireDays, permissions).then((res) => {\n        let sharedLinkInfo = new SharedLinkInfo(res.data);\n        this.setState({sharedLinkInfo: sharedLinkInfo});\n      });\n    }\n  }\n\n  onCopySharedLink = () => {\n    let sharedLink = this.state.sharedLinkInfo.link;\n    copy(sharedLink);\n    toaster.success(gettext('Share link is copied to the clipboard.'));\n    this.props.closeShareDialog();\n  }\n  \n  onCopyDownloadLink = () => {\n    let downloadLink = this.state.sharedLinkInfo.link + '?dl';\n    copy(downloadLink);\n    toaster.success(gettext('Direct download link is copied to the clipboard.'));\n    this.props.closeShareDialog();\n  }\n\n  deleteShareLink = () => {\n    let sharedLinkInfo = this.state.sharedLinkInfo;\n    seafileAPI.deleteShareLink(sharedLinkInfo.token).then(() => {\n      this.setState({\n        password: '',\n        passwordnew: '',\n        isShowPasswordInput: false,\n        expireDays: '',\n        isExpireChecked: false,\n        errorInfo: '',\n        sharedLinkInfo: null,\n        isNoticeMessageShow: false,\n      });\n      this.permissions = {\n        'can_edit': false,\n        'can_download': true\n      };\n    });\n  }\n\n  onExpireChecked = (e) => {\n    this.setState({isExpireChecked: e.target.checked});\n  }\n\n  onExpireDaysChanged = (e) => {\n    let day = e.target.value.trim();\n    this.setState({expireDays: day});\n  }\n\n  validateParamsInput = () => {\n    let { isShowPasswordInput , password, passwdnew, isExpireChecked, expireDays } = this.state;\n    // validate password\n    if (isShowPasswordInput) {\n      if (password.length === 0) {\n        this.setState({errorInfo: 'Please enter password'});\n        return false;\n      }\n      if (password.length < 8) {\n        this.setState({errorInfo: 'Password is too short'});\n        return false;\n      }\n      if (password !== passwdnew) {\n        this.setState({errorInfo: 'Passwords don\\'t match'});\n        return false;\n      }\n    }\n\n    // validate days\n    // no limit\n    let reg = /^\\d+$/;\n    if (this.isExpireDaysNoLimit) {\n      if (isExpireChecked) {\n        if (!expireDays) {\n          this.setState({errorInfo: 'Please enter days'});\n          return false;\n        }\n        let flag = reg.test(expireDays);\n        if (!flag) {\n          this.setState({errorInfo: 'Please enter a non-negative integer'});\n          return false;\n        }\n        this.setState({expireDays: parseInt(expireDays)});\n      }\n    } else {\n      if (!expireDays) {\n        this.setState({errorInfo: 'Please enter days'});\n        return false;\n      }\n      let flag = reg.test(expireDays);\n      if (!flag) {\n        this.setState({errorInfo: 'Please enter a non-negative integer'});\n        return false;\n      }\n\n      expireDays = parseInt(expireDays);\n      let minDays = parseInt(shareLinkExpireDaysMin);\n      let maxDays = parseInt(shareLinkExpireDaysMax);\n\n      if (minDays !== 0 && maxDays !== maxDays) {\n        if (expireDays < minDays) {\n          this.setState({errorInfo: 'Please enter valid days'});\n          return false;\n        }\n      }\n      \n      if (minDays === 0 && maxDays !== 0 ) {\n        if (expireDays > maxDays) {\n          this.setState({errorInfo: 'Please enter valid days'});\n          return false;\n        }\n      }\n      \n      if (minDays !== 0 && maxDays !== 0) {\n        if (expireDays < minDays || expireDays < maxDays) {\n          this.setState({errorInfo: 'Please enter valid days'});\n          return false;\n        }\n      }\n      this.setState({expireDays: expireDays});\n    }\n\n    return true;\n  }\n\n  onNoticeMessageToggle = () => {\n    this.setState({isNoticeMessageShow: !this.state.isNoticeMessageShow});\n  }\n\n  render() {\n    if (this.state.sharedLinkInfo) {\n      let sharedLinkInfo = this.state.sharedLinkInfo;\n      return (\n        <div>\n          <Form className=\"mb-4\">\n            <FormGroup className=\"mb-0\">\n              <dt className=\"text-secondary font-weight-normal\">{gettext('Link:')}</dt>\n              <dd className=\"d-flex\">\n                <span>{sharedLinkInfo.link}</span>{' '}\n                {sharedLinkInfo.is_expired ?\n                  <span className=\"err-message\">({gettext('Expired')})</span> :\n                  <span className=\"far fa-copy action-icon\" onClick={this.onCopySharedLink}></span>\n                }\n              </dd>\n            </FormGroup>\n            {!sharedLinkInfo.is_dir && (  //just for file\n              <FormGroup className=\"mb-0\">\n                <dt className=\"text-secondary font-weight-normal\">{gettext('Direct Download Link:')}</dt>\n                <dd className=\"d-flex\">\n                  <span>{sharedLinkInfo.link}?dl</span>{' '}\n                  {sharedLinkInfo.is_expired ?\n                    <span className=\"err-message\">({gettext('Expired')})</span> :\n                    <span className=\"far fa-copy action-icon\" onClick={this.onCopyDownloadLink}></span>\n                  }\n                </dd>\n              </FormGroup>\n            )}\n            {sharedLinkInfo.expire_date && (\n              <FormGroup className=\"mb-0\">\n                <dt className=\"text-secondary font-weight-normal\">{gettext('Expiration Date:')}</dt>\n                <dd>{moment(sharedLinkInfo.expire_date).format('YYYY-MM-DD hh:mm:ss')}</dd>\n              </FormGroup>\n            )}\n          </Form>\n          {!this.state.isNoticeMessageShow ?\n            <Button onClick={this.onNoticeMessageToggle}>{gettext('Delete')}</Button> :\n            <div className=\"alert alert-warning\">\n              <h4 className=\"alert-heading\">{gettext('Are you sure you want to delete the share link?')}</h4>\n              <p className=\"mb-4\">{gettext('If the share link is deleted, no one will be able to access it any more.')}</p>\n              <button className=\"btn btn-primary\" onClick={this.deleteShareLink}>{gettext('Delete')}</button>{' '}\n              <button className=\"btn btn-secondary\" onClick={this.onNoticeMessageToggle}>{gettext('Cancel')}</button>\n            </div>\n          }\n        </div>\n      );\n    } else {\n      return (\n        <Form className=\"generate-share-link\">\n          <FormGroup check>\n            <Label check>\n              <Input type=\"checkbox\" onChange={this.onPasswordInputChecked}/>{'  '}{gettext('Add password protection')} \n            </Label>\n          </FormGroup>\n          {this.state.isShowPasswordInput &&\n            <FormGroup className=\"link-operation-content\">\n              {/* todo translate  */}\n              <Label className=\"font-weight-bold\">{gettext('Password')}</Label>{' '}<span className=\"tip\">{gettext('(at least 8 characters)')}</span>\n              <InputGroup className=\"passwd\">\n                <Input type={this.state.isPasswordVisible ? 'text' : 'password'} value={this.state.password || ''} onChange={this.inputPassword}/>\n                <InputGroupAddon addonType=\"append\">\n                  <Button onClick={this.togglePasswordVisible}><i className={`link-operation-icon fas ${this.state.isPasswordVisible ? 'fa-eye': 'fa-eye-slash'}`}></i></Button>\n                  <Button onClick={this.generatePassword}><i className=\"link-operation-icon fas fa-magic\"></i></Button>\n                </InputGroupAddon>\n              </InputGroup>\n              <Label className=\"font-weight-bold\">{gettext('Password again')}</Label>\n              <Input className=\"passwd\" type={this.state.isPasswordVisible ? 'text' : 'password'} value={this.state.passwdnew || ''} onChange={this.inputPasswordNew} />\n            </FormGroup>\n          }\n          {this.isExpireDaysNoLimit && (\n            <FormGroup check>\n              <Label check>\n                <Input className=\"expire-checkbox\" type=\"checkbox\" onChange={this.onExpireChecked}/>{'  '}{gettext('Add auto expiration')}\n                <Input className=\"expire-input\" type=\"text\" value={this.state.expireDays} onChange={this.onExpireDaysChanged} readOnly={!this.state.isExpireChecked}/><span>{gettext('days')}</span>\n              </Label>\n            </FormGroup>\n          )}\n          {!this.isExpireDaysNoLimit && (\n            <FormGroup check>\n              <Label check>\n                <Input className=\"expire-checkbox\" type=\"checkbox\" onChange={this.onExpireChecked} checked readOnly/>{'  '}{gettext('Add auto expiration')}\n                <Input className=\"expire-input\" type=\"text\" value={this.state.expireDays} onChange={this.onExpireDaysChanged} /> <span>{gettext('days')}</span>\n                {(parseInt(shareLinkExpireDaysMin) !== 0 && parseInt(shareLinkExpireDaysMax) !== 0) && (\n                  <span> ({shareLinkExpireDaysMin} - {shareLinkExpireDaysMax}{' '}{gettext('days')})</span>\n                )}\n                {(parseInt(shareLinkExpireDaysMin) !== 0 && parseInt(shareLinkExpireDaysMax) === 0) && (\n                  <span> ({gettext('Greater than or equal to')} {shareLinkExpireDaysMin}{' '}{gettext('days')})</span>\n                )}\n                {(parseInt(shareLinkExpireDaysMin) === 0 && parseInt(shareLinkExpireDaysMax) !== 0) && (\n                  <span> ({gettext('Less than or equal to')} {shareLinkExpireDaysMax}{' '}{gettext('days')})</span>\n                )}\n              </Label>\n            </FormGroup>\n          )}\n          <FormGroup check>\n            <Label check>\n              <Input type=\"checkbox\" checked readOnly/>{'  '}{gettext('Set permission')}\n            </Label>\n          </FormGroup>\n          <FormGroup check className=\"permission\">\n            <Label check>\n              <Input type=\"radio\" name=\"radio1\" defaultChecked={true} onChange={() => this.setPermission('previewAndDownload')}/>{'  '}{gettext('Preview and download')}\n            </Label>\n          </FormGroup>\n          <FormGroup check className=\"permission\">\n            <Label check>\n              <Input type=\"radio\" name=\"radio1\" onChange={() => this.setPermission('preview')} />{'  '}{gettext('Preview only')}\n            </Label>\n          </FormGroup>\n          {this.state.errorInfo && <Alert color=\"danger\" className=\"mt-2\">{gettext(this.state.errorInfo)}</Alert>}\n          <Button onClick={this.generateShareLink}>{gettext('Generate')}</Button>\n        </Form>\n      );\n    }\n  }\n}\n\nGenerateShareLink.propTypes = propTypes;\n\nexport default GenerateShareLink;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/generate-share-link.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport copy from 'copy-to-clipboard';\nimport { Button, Form, FormGroup, FormText, Label, Input, InputGroup, InputGroupAddon, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport SharedUploadInfo from '../../models/shared-upload-info';\nimport toaster from '../toast';\n\nconst propTypes = {\n  itemPath: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  closeShareDialog: PropTypes.func.isRequired,\n};\n\nclass GenerateUploadLink extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showPasswordInput: false,\n      passwordVisible: false,\n      password: '',\n      passwdnew: '',\n      sharedUploadInfo: null,\n    };\n  }\n\n  componentDidMount() {\n    this.getUploadLink();\n  }\n\n  getUploadLink = () => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID; \n    seafileAPI.getUploadLinks(repoID, path).then((res) => {\n      if (res.data.length !== 0) {\n        let sharedUploadInfo = new SharedUploadInfo(res.data[0]);\n        this.setState({sharedUploadInfo: sharedUploadInfo});\n      }\n    });\n  }\n\n  addPassword = () => {\n    this.setState({\n      showPasswordInput: !this.state.showPasswordInput,\n      password: '',\n      passwdnew: '',\n      errorInfo: ''\n    });\n  }\n\n  togglePasswordVisible = () => {\n    this.setState({\n      passwordVisible: !this.state.passwordVisible\n    });\n  }\n\n  generatePassword = () => {\n    let val = Math.random().toString(36).substr(5);\n    this.setState({\n      password: val,\n      passwordnew: val\n    });\n  }\n\n  inputPassword = (e) => {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  inputPasswordNew = (e) => {\n    this.setState({\n      passwordnew: e.target.value\n    });\n  }\n\n  generateUploadLink = () => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID; \n\n    if (this.state.showPasswordInput && (this.state.password == '')) {\n      this.setState({\n        errorInfo: gettext('Please enter password')\n      });\n    }\n    else if (this.state.showPasswordInput && (this.state.showPasswordInput && this.state.password.length < 8)) {\n      this.setState({\n        errorInfo: gettext('Password is too short')\n      });\n    }\n    else if (this.state.showPasswordInput && (this.state.password !== this.state.passwordnew)) {\n      this.setState({\n        errorInfo: gettext('Passwords don\\'t match')\n      });\n    } else {\n      seafileAPI.createUploadLink(repoID, path, this.state.password).then((res) => {\n        let sharedUploadInfo = new SharedUploadInfo(res.data);\n        this.setState({sharedUploadInfo: sharedUploadInfo}); \n      });\n    }\n  }\n\n  onCopyUploadLink = () => {\n    let uploadLink = this.state.sharedUploadInfo.link;\n    copy(uploadLink);\n    toaster.success(gettext('Upload link is copied to the clipboard.'));\n    this.props.closeShareDialog();\n  }\n\n  deleteUploadLink = () => {\n    let sharedUploadInfo = this.state.sharedUploadInfo;\n    seafileAPI.deleteUploadLink(sharedUploadInfo.token).then(() => {\n      this.setState({\n        showPasswordInput: false,\n        password: '',\n        passwordnew: '',\n        sharedUploadInfo: null,\n      });\n    });\n  }\n\n  render() {\n    if (this.state.sharedUploadInfo) {\n      let sharedUploadInfo = this.state.sharedUploadInfo;\n      return (\n        <div>\n          <Form className=\"mb-4\">\n            <FormGroup>\n              <dt className=\"text-secondary font-weight-normal\">{gettext('Upload Link:')}</dt>\n              <dd className=\"d-flex\">\n                <span>{sharedUploadInfo.link}</span>\n                <span className=\"far fa-copy action-icon\" onClick={this.onCopyUploadLink}></span>\n              </dd>\n            </FormGroup>\n          </Form>\n          <Button onClick={this.deleteUploadLink}>{gettext('Delete')}</Button>\n        </div>\n      );\n    }\n    return (\n      <Form className=\"generate-upload-link\">\n        <FormGroup>\n          <FormText className=\"tip\">{gettext('You can share the generated link to others and then they can upload files to this directory via the link.')}</FormText>\n        </FormGroup>\n        <FormGroup check>\n          <Label check>\n            <Input type=\"checkbox\" onChange={this.addPassword}/>{'  '}{gettext('Add password protection')} \n          </Label>\n        </FormGroup>\n        {this.state.showPasswordInput &&\n          <FormGroup className=\"link-operation-content\">\n            {/* todo translate  */}\n            <Label className=\"font-weight-bold\">{gettext('Password')}</Label>{' '}<span className=\"tip\">{gettext('(at least 8 characters)')}</span>\n            <InputGroup className=\"passwd\">\n              <Input type={this.state.passwordVisible ? 'text':'password'} value={this.state.password || ''} onChange={this.inputPassword}/>\n              <InputGroupAddon addonType=\"append\">\n                <Button onClick={this.togglePasswordVisible}><i className={`link-operation-icon fas ${this.state.passwordVisible ? 'fa-eye': 'fa-eye-slash'}`}></i></Button>\n                <Button onClick={this.generatePassword}><i className=\"link-operation-icon fas fa-magic\"></i></Button>\n              </InputGroupAddon>\n            </InputGroup>\n            <Label className=\"font-weight-bold\">{gettext('Password again')}</Label>\n            <Input className=\"passwd\" type={this.state.passwordVisible ? 'text' : 'password'} value={this.state.passwordnew || ''} onChange={this.inputPasswordNew} />\n          </FormGroup>\n        }\n        {this.state.errorInfo && <Alert color=\"danger\" className=\"mt-2\">{this.state.errorInfo}</Alert>}\n        <Button className=\"generate-link-btn\" onClick={this.generateUploadLink}>{gettext('Generate')}</Button>\n      </Form>\n    );\n  }\n}\n\nGenerateUploadLink.propTypes = propTypes;\n\nexport default GenerateUploadLink;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/generate-upload-link.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport RepoInfoBar from '../../components/repo-info-bar';\nimport DirentListView from '../../components/dirent-list-view/dirent-list-view';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  currentRepoInfo: PropTypes.object.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  enableDirPrivateShare: PropTypes.bool.isRequired,\n  isRepoInfoBarShow: PropTypes.bool.isRequired,\n  usedRepoTags: PropTypes.array.isRequired,\n  readmeMarkdown: PropTypes.object,\n  draftCounts: PropTypes.number,\n  updateUsedRepoTags: PropTypes.func.isRequired,\n  isDirentListLoading: PropTypes.bool.isRequired,\n  direntList: PropTypes.array.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  onAddFile: PropTypes.func.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  onItemSelected: PropTypes.func.isRequired,\n  onItemDelete: PropTypes.func.isRequired,\n  onItemRename: PropTypes.func.isRequired,\n  onItemMove: PropTypes.func.isRequired,\n  onItemCopy: PropTypes.func.isRequired,\n  onDirentClick: PropTypes.func.isRequired,\n  onItemDetails: PropTypes.func.isRequired,\n  updateDirent: PropTypes.func.isRequired,\n  isAllItemSelected: PropTypes.bool.isRequired,\n  onAllItemSelected: PropTypes.func.isRequired,\n};\n\nclass DirListView extends React.Component {\n\n  render() {\n    return (\n      <Fragment>\n        {this.props.isRepoInfoBarShow && (\n          <RepoInfoBar \n            repoID={this.props.repoID}\n            currentPath={this.props.path}\n            readmeMarkdown={this.props.readmeMarkdown}\n            draftCounts={this.props.draftCounts}\n            usedRepoTags={this.props.usedRepoTags}\n            updateUsedRepoTags={this.props.updateUsedRepoTags}\n          />\n        )}\n        <DirentListView\n          path={this.props.path}\n          currentRepoInfo={this.props.currentRepoInfo}\n          repoID={this.props.repoID}\n          isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n          enableDirPrivateShare={this.props.enableDirPrivateShare}\n          direntList={this.props.direntList}\n          sortBy={this.props.sortBy}\n          sortOrder={this.props.sortOrder}\n          sortItems={this.props.sortItems}\n          onAddFile={this.props.onAddFile}\n          onItemClick={this.props.onItemClick}\n          onItemSelected={this.props.onItemSelected}\n          onItemDelete={this.props.onItemDelete}\n          onItemRename={this.props.onItemRename}\n          onItemMove={this.props.onItemMove}\n          onItemCopy={this.props.onItemCopy}\n          onDirentClick={this.props.onDirentClick}\n          onItemDetails={this.props.onItemDetails}\n          isDirentListLoading={this.props.isDirentListLoading}\n          updateDirent={this.props.updateDirent}\n          isAllItemSelected={this.props.isAllItemSelected}\n          onAllItemSelected={this.props.onAllItemSelected}\n        />\n      </Fragment>\n    );\n  }\n}\n\nDirListView.propTypes = propTypes;\n\nexport default DirListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dir-view-mode/dir-list-view.js","import React from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport toaster from '../toast';\nimport copy from '@seafile/seafile-editor/dist//utils/copy-to-clipboard';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport '../../css/internal-link.css';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n};\n\nclass InternalLinkDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false,\n      smartLink: '',\n    };\n\n    this.toggle = this.toggle.bind(this);\n    this.getInternalLink = this.getInternalLink.bind(this);\n    this.copyToClipBoard = this.copyToClipBoard.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen,\n    });\n  }\n\n  getInternalLink() {\n    let repoID = this.props.repoID;\n    let path = this.props.path;\n    seafileAPI.getInternalLink(repoID, path).then(res => {\n      this.setState({\n        isOpen: true,\n        smartLink: res.data.smart_link\n      });\n    });\n  }\n\n  copyToClipBoard() {\n    copy(this.state.smartLink);\n    this.setState({\n      isOpen: false\n    });\n    let message = gettext('Internal link has been copied to clipboard');\n    toaster.success(message), {\n      duration: 2\n    };\n  }\n\n  render() {\n    return (\n      <span className={'file-internal-link'} title={gettext('Internal Link')}>\n        <i className=\"fa fa-link\" onClick={this.getInternalLink}></i>\n        <Modal isOpen={this.state.isOpen} toggle={this.toggle}>\n          <ModalHeader toggle={this.toggle}>{gettext('Internal Link')}</ModalHeader>\n          <ModalBody>\n            <p className=\"tip mb-1\">\n              {gettext('An internal link is a link to a file or folder that can be accessed by users with read permission to the file or folder.')}\n            </p>\n            <p>\n              <a target=\"_blank\" href={this.state.smartLink}>{this.state.smartLink}</a>\n            </p>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.copyToClipBoard}>{gettext('Copy')}</Button>{' '}\n            <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          </ModalFooter>\n        </Modal>\n      </span>\n    );\n  }\n}\n\nInternalLinkDialog.propTypes = propTypes;\n\nexport default InternalLinkDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/internal-link-dialog.js","import Toaster from './toaster';\n\nconst toaster = new Toaster();\n\nexport default toaster;\n\n\n// WEBPACK FOOTER //\n// ./src/components/toast/index.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isPro, gettext } from '../../utils/constants';\nimport Search from '../search/search';\nimport Notification from '../common/notification';\nimport Account from '../common/account';\n\nconst propTypes = {\n  repoID: PropTypes.string,\n  onSearchedClick: PropTypes.func.isRequired,\n  searchPlaceholder: PropTypes.string\n};\n\nclass  CommonToolbar extends React.Component {\n  render() {\n    let searchPlaceholder = this.props.searchPlaceholder || gettext('Search Files');\n    return (\n      <div className=\"common-toolbar\">\n        {isPro && (\n          <Search \n            repoID={this.props.repoID}\n            placeholder={searchPlaceholder}\n            onSearchedClick={this.props.onSearchedClick} \n          />\n        )}\n        <Notification  />\n        <Account />\n      </div>\n    );\n  }\n}\n\nCommonToolbar.propTypes = propTypes;\n\nexport default CommonToolbar;\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbar/common-toolbar.js","class TreeNode {\n\n  constructor({ path, object, isLoaded, isPreload, isExpanded, parentNode }) {\n    this.path = path || object.name,  // The default setting is the object name, which is set to a relative path when the father is set.\n    this.object = object.clone();\n    this.isLoaded = isLoaded || false;\n    this.isPreload = isPreload || false;\n    this.isExpanded = isExpanded || false;\n    this.children = [];\n    this.parentNode = parentNode || null;\n  }\n\n  clone(parentNode) {\n    let treeNode = new TreeNode({\n      path: this.path,\n      object: this.object.clone(),\n      isLoaded: this.isLoaded,\n      isPreload: this.isPreload,\n      isExpanded: this.isExpanded,\n      parentNode: parentNode || null,\n    });\n    treeNode.children = this.children.map(child => {\n      let newChild = child.clone(treeNode);\n      return newChild;\n    });\n\n    return treeNode;\n  }\n\n  setParent(parentNode) {\n    this.path = this.generatePath(parentNode);\n    this.parentNode = parentNode;\n    this.isLoaded = false;  // update parentNode need loaded data again;\n  }\n\n  hasChildren() {\n    return this.children.length !== 0;\n  }\n\n  addChild(node) {\n    node.setParent(this);\n    let children = this.children;\n    if (node.object.isDir()) {\n      this.children.unshift(node);\n    } else {\n      let index = -1;\n      for (let i = 0; i < children.length; i++) {\n        if (!children[i].object.isDir()) {\n          index = i;\n          break;\n        }\n      }\n      if (index === -1) { // -1: all the node object is dir;\n        this.children.push(node);\n      } else if (index === 0) { // 0: all the node object is file\n        this.children.unshift(node);\n      } else {\n        this.children.splice(index, 0, node);\n      }\n    }\n  }\n\n  addChildren(nodeList) {\n    nodeList.forEach(node => {\n      node.setParent(this);\n    });\n    this.children = nodeList;\n  }\n\n  deleteChild(node) {\n    let children = this.children.filter(item => {\n      return item !== node;\n    });\n    this.children = children;\n  }\n\n  rename(newName) {\n    this.object.name = newName;\n    this.path = this.generatePath(this.parentNode); \n    if (this.isExpanded) {\n      this.updateChildrenPath(this);\n    } else {\n      this.isLoaded = false;\n    }\n  }\n\n  updateChildrenPath(node) {\n    let children = node.children;\n    children.forEach(child => {\n      child.path = child.generatePath(child.parentNode);\n      if (child.isExpanded) {\n        child.updateChildrenPath(child);\n      } else {\n        child.isLoaded = false;\n      }\n    });\n  }\n\n  updateObjectProperties(keys, newValues) {\n    if (Array.isArray(keys) && Array.isArray(newValues)) {\n      keys.forEach((key, index) => {\n        this.object[key] = newValues[index];\n      });\n    } else {\n      this.object[keys] = newValues;\n    }\n  }\n\n  generatePath(parentNode) {\n    return parentNode.path === '/' ? parentNode.path + this.object.name : parentNode.path + '/' + this.object.name;\n  }\n\n  serializeToJson() {\n    let children = [];\n    if (this.hasChildren) {\n      children = this.children.map(m => m.serializeToJson());\n    }\n\n    const treeNode = {\n      path: this.path,\n      object: this.object.clone(),\n      isLoaded: this.isLoaded,\n      isPreload: this.isPreload,\n      isExpanded: this.isExpanded,\n      parentNode: this.parentNode,\n      children: children,\n    };\n\n    return treeNode;\n  }\n\n  static deserializefromJson(json) {\n    let { path, object, isLoaded, isPreload, isExpanded, parentNode, children = [] } = json;\n    object = object.clone();\n\n    const treeNode = new TreeNode({\n      path,\n      object,\n      isLoaded,\n      isPreload,\n      isExpanded,\n      parentNode,\n      children: children.map(item => TreeNode.deserializefromJson(item))\n    });\n    return treeNode;\n  }\n}\n\nexport default TreeNode;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-node.js"],"sourceRoot":""}