{"version":3,"sources":["../js/repoview.js","components/modal-portal.js","models/repo-tag.js","components/logo.js","components/dialog/edit-filetag-dialog.js","components/dialog/related-file-dialogs.js","components/loading.js","repo-wiki-mode.js","pages/repo-wiki-mode/side-panel.js","pages/repo-wiki-mode/main-panel.js","components/search/search.js","components/search/search-result-item.js","components/more.js","../config/polyfills.js","components/common/notification.js","components/common/notice-item.js","components/dialog/create-file-dialog.js","utils/url-decorator.js","utils/pinyin-by-unicode.js","models/dirent.js","components/dialog/move-dirent-dialog.js","components/dialog/copy-dirent-dialog.js","components/rename.js","components/toast/toaster.js","components/dialog/add-related-file-dialog.js","components/toast/toastManager.js","components/dialog/list-related-file-dialog.js","components/tree-view/tree-helper.js","components/tree-view/tree.js","components/tree-view/tree-view.js","components/tree-view/tree-node-view.js","components/tree-view/tree-node-menu.js","components/tree-view/tree-view-contextmenu.js","components/wiki-markdown-viewer.js","components/toast/toast.js","components/dialog/create-folder-dialog.js","components/dialog/zip-download-dialog.js","components/dialog/list-taggedfiles-dialog.js","components/toast/alert.js","components/select-editor/share-permission-editor.js","utils/constants.js","utils/editor-utilties.js","components/user-select.js","models/file-tag.js","components/dialog/share-dialog.js","components/common/account.js","utils/collab-server.js","components/dialog/delete-dialog.js","components/dialog/rename-dialog.js","components/toolbar/view-mode-toolbar.js","components/toolbar/dir-operation-toolbar.js","components/toolbar/mutilple-dir-operation-toolbar.js","components/dirent-list-view/dirents-menu.js","components/cur-dir-path/index.js","components/cur-dir-path/dir-path.js","components/cur-dir-path/dir-tool.js","components/dialog/list-tag-dialog.js","components/dialog/create-tag-dialog.js","components/dialog/update-tag-dialog.js","components/dirent-list-view/dirent-list-view.js","components/dirent-list-view/dirent-list-item.js","components/dirent-list-view/dirent-menu.js","components/dirent-detail/dirent-details.js","components/dirent-detail/detail-list-view.js","components/file-uploader/file-uploader.js","utils/seafile-api.js","components/file-chooser/file-chooser.js","components/file-uploader/upload-progress-dialog.js","components/file-uploader/upload-list-item.js","components/dialog/upload-remind-dialog.js","components/repo-info-bar.js","components/dialog/list-repo-drafts-dialog.js","models/draft.js","components/dialog/readme-dialog.js","components/dialog/lib-decrypt-dialog.js","models/repo-info.js","components/select-editor/select-editor.js","utils/utils.js","models/shared-link-info.js","models/shared-upload-info.js","components/file-chooser/repo-list-view.js","components/file-chooser/repo-list-item.js","components/file-chooser/dirent-list-view.js","components/file-chooser/dirent-list-item.js","components/file-chooser/searched-list-view.js","components/file-chooser/searched-list-item.js","components/dialog/share-to-user.js","components/dialog/share-to-group.js","components/dialog/generate-share-link.js","components/dialog/generate-upload-link.js","components/dialog/internal-link-dialog.js","components/toast/index.js","components/toolbar/common-toolbar.js","components/tree-view/tree-node.js"],"names":["webpackJsonp","10","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_react","_react2","_reactDom","_reactDom2","_propTypes","_propTypes2","propTypes","children","PropTypes","object","isRequired","modalRoot","document","getElementById","ModalPortal","_React$Component","this","_this","getPrototypeOf","el","createElement","appendChild","removeChild","ReactDOM","createPortal","React","Component","103","RepoTag","id","repo_tag_id","fileCount","files_count","name","tag_name","color","tag_color","104","_constants","onCloseSidePanel","func","Logo","_ref","_temp","_ret","_len","arguments","args","Array","_key","apply","concat","closeSide","className","href","siteRoot","src","mediaUrl","logoPath","height","logoHeight","width","logoWidth","title","siteTitle","alt","onClick","aria-label","106","_reactstrap","_seafileApi","_utils","_repoTag","_repoTag2","TagItemPropTypes","repoID","string","repoTag","filePath","fileTagList","array","onEditFileTag","TagItem","onMouseEnter","setState","showSelectedTag","onMouseLeave","getRepoTagIdList","repoTagIdList","map","fileTag","push","_this$props","indexOf","seafileAPI","addFileTag","then","deleteFileTag","state","drakColor","Utils","getDarkColor","style","backgroundColor","onFileTagChanged","toggleCancel","EditFileTagDialog","_React$Component2","_this2","getRepoTagList","listRepoTags","res","repotagList","data","repo_tags","forEach","item","toggle","_this3","Modal","isOpen","ModalHeader","gettext","ModalBody","ModalFooter","Button","107","_addRelatedFileDialog","_addRelatedFileDialog2","_listRelatedFileDialog","_listRelatedFileDialog2","_modalPortal","_modalPortal2","onRelatedFileChange","dirent","relatedFiles","viewMode","oneOf","RelatedFileDialogs","onAddRelatedFileToggle","showListRelatedFileDialog","onCloseAddRelatedFileDialog","size","addRelatedFileToggle","onClose","11","Loading","113","1155","1156","_toConsumableArray","arr","isArray","arr2","from","_moment","_moment2","_collabServer","_collabServer2","_sidePanel","_sidePanel2","_mainPanel","_mainPanel2","_treeNode","_treeNode2","_treeHelper","_treeHelper2","_toast","_toast2","_libDecryptDialog","_libDecryptDialog2","_dirent2","_dirent3","_fileTag","_fileTag2","_repoInfo","_repoInfo2","Wiki","_Component","getGroupInfo","groupID","getGroup","admins","username","isDepartmentAdmin","onRepoUpdateEvent","currentTime","Date","parseFloat","lastModifyTime","_this2$state","path","dirID","dirMetaData","toaster","notify","duration","loadWikiData","collabServer","watchRepo","updateUsedRepoTags","getRepoDraftCounts","draftCounts","draft_counts","loadSidePanel","initialPath","isDir","pathExist","showDir","showFile","listDir","tree","treeData","addResponseListToNode","dirent_list","root","isTreeDataLoading","catch","isLoadFailed","loadNodeAndParentsByPath","loadDirentList","isViewFile","url","encodePath","window","history","pushState","isFileLoading","getFileInfo","_res$data","mtime","permission","last_modifier_name","is_draft","has_draft","draft_id","getFileDownloadLink","getFileContent","content","latestContributor","lastModified","moment","unix","fromNow","isDraft","hasDraft","draftID","fileUrl","updateReadmeMarkdown","direntList","readmeMarkdown","some","fileName","toLowerCase","isDirentListLoading","with_thumbnail","Dirent","userPerm","user_perm","sortDirents","sortBy","sortOrder","dir_id","repoEncrypted","getThumbnails","items","filter","imageCheck","encoded_thumbnail_src","len","getThumbnail","curItem","curItemPath","join","createThumbnail","error","onLinkClick","link","isInternalMarkdownLink","getPathFromInternalMarkdownLink","isInternalDirLink","getPathFromInternalDirLink","open","usedRepoTags","usedRepoTag","updateDirent","paramKey","paramValue","newDirentList","onpopstate","event","isMarkdownFile","onSearchedClick","is_dir","slice","currentPath","index","paths","getPaths","node","getNodeByPath","currentNode","repo_id","newWindow","location","onMainNavBarClick","nodePath","resetSelected","clone","expandNode","onAddFolder","dirPath","createDir","getFileName","parentPath","getDirName","addNodeToTree","addDirent","onAddFile","createFile","onRenameTreeNode","newName","renameItem","onDeleteTreeNode","deleteItem","onMainPanelItemRename","joinPath","onMainPanelItemDelete","renameDir","renameItemAjaxCallback","renameFile","onMoveItem","destRepo","moveToDirentPath","dirName","direntPath","moveDir","nodeName","obj_name","moveTreeNode","moveDirent","message","replace","success","danger","onCopyItem","copyToDirentPath","copyDir","copyTreeNode","onMoveItems","destDirentPath","direntPaths","getSelectedDirentPaths","dirNames","getSelectedDirentNames","names","onCopyItems","onDeleteItems","deleteMutipleDirents","deleteTreeNode","deleteDirent","onDirentClick","loadTreeNodeByPath","w","onDirentSelected","isSelected","selectedDirentList","isDirentSelected","isAllDirentSelected","onAllDirentSelected","listFileTags","fileTags","file_tags","FileTag","onFileUploadSuccess","direntObject","type","createDirent","unshift","splice","renameDirent","newDirentPath","replaceState","isChildPath","oldName","isAncestorPath","newPath","renameAncestorPath","lastIndexOf","onSideNavMenuClick","closeSideBar","onCloseSide","isLoaded","parentNode","isExpanded","with_parents","results","parent_dir","onTreeNodeClick","collapseNode","treeHelper","onTreeNodeCollapse","onTreeNodeExpanded","createTreeNode","addNodeToParentByPath","renameTreeNode","renameNodeByPath","deleteNodeByPath","moveToPath","moveToRepo","moveNodeByPath","copyToPath","copyNodeByPath","list","nodeList","TreeNode","addChildren","selectedDirent","onLibDecryptDialog","libNeedDecrypt","goDraftPage","sortItems","repoName","isGroupOwnedRepo","isAdmin","ownerEmail","buildTree","hash","getRepoInfo","repoInfo","RepoInfo","lib_need_decrypt","repo_name","encrypted","isVirtual","is_virtual","is_admin","owner_email","substring","unwatchRepo","_this4","deleteDir","deleteItemAjaxCallback","deleteFile","getTime","showShareBtn","enableDirPrivateShare","_state","isRepoOwner","canGenerateShareLink","canGenerateUploadLink","onNodeClick","onNodeCollapse","onNodeExpanded","onAddFolderNode","onAddFileNode","onRenameNode","onDeleteNode","onItemClick","onItemSelected","onItemDelete","onItemRename","onItemMove","onItemCopy","onItemsMove","onItemsCopy","onItemsDelete","render","1157","_treeView","_treeView2","_logo","_logo2","_loading","_loading2","_deleteDialog","_deleteDialog2","_renameDialog","_renameDialog2","_createFolderDialog","_createFolderDialog2","_createFileDialog","_createFileDialog2","bool","SidePanel","isMenuIconShow","onDropdownToggleClick","e","preventDefault","toggleOperationMenu","isHeaderMenuShow","opNode","onMenuItemClick","operation","onAddFolderToggle","onAddFileToggle","onRenameToggle","onDeleteToggle","isAddFileDialogShow","isAddFolderDialogShow","isRenameDialogShow","isDeleteDialogShow","checkDuplicatedName","isNodeMenuShow","nextProps","role","Dropdown","DropdownToggle","tag","data-toggle","aria-expanded","DropdownMenu","right","DropdownItem","bind","onFreezedItem","onUnFreezedItem","addFolderCancel","fileType","addFileCancel","onRename","handleSubmit","1158","_reactCookies","_reactCookies2","_commonToolbar","_commonToolbar2","_viewModeToolbar","_viewModeToolbar2","_dirOperationToolbar","_dirOperationToolbar2","_mutilpleDirOperationToolbar","_mutilpleDirOperationToolbar2","_curDirPath","_curDirPath2","_wikiMarkdownViewer","_wikiMarkdownViewer2","_direntListView","_direntListView2","_direntDetails","_direntDetails2","_fileUploader","_fileUploader2","_repoInfoBar","_repoInfoBar2","number","MainPanel","switchViewMode","mode","cookie","save","currentRepoInfo","isDirentDetailShow","onItemDetails","currentDirent","onItemDetailsClose","onUploadFile","nativeEvent","stopImmediatePropagation","uploader","onFileUpload","onUploadFolder","onFolderUpload","currentMode","setTimeout","ErrMessage","showRepoInfoBar","searchPlaceholder","onPathClick","markdownContent","Fragment","onMouseDown","isAllItemSelected","onAllItemSelected","ref","dragAndDrop","116","_reactResponsive","_reactResponsive2","_searchResultItem","_searchResultItem2","_editorUtilties","_editorUtilties2","_more","_more2","placeholder","Search","onFocusHandler","isMaskShow","isCloseShow","onCloseHandler","resetToDefault","onItemClickHandler","onChangeHandler","newValue","inputValue","trim","getValueLength","isResultShow","isResultGetted","queryData","q","search_repo","search_ftypes","timer","clearTimeout","getSearchResult","onShowMore","params","onSearchToggle","isSearchInputShow","resultItems","source","cancelRequest","editorUtilities","getSource","sendRequest","token","cancelToken","searchFiles","total","formatResultItems","console","log","cancel","str","code","charCodeAt","fullpath","decodeURI","content_highlight","isShowMore","query","onFocus","onChange","autoComplete","renderSearchResult","118","SearchResultItem","onClickHandler","fileIconUrl","getFolderIconUrl","getFileIconUrl","link_content","dangerouslySetInnerHTML","__html","119","More","12","Promise","enable","assign","120","_noticeItem","_noticeItem2","Notification","showNotice","updateNotifications","unseenCount","loadNotices","listPopupNotices","noticeList","notification_list","onNoticeItemClick","noticeItem","seen","markNoticeAsRead","getUnseenNotificationCount","unseen_count","121","NoticeItem","noticeType","detail","avatar_url","group_staff_avatar_url","groupStaff","group_staff_name","userHref","group_staff_email","groupHref","group_id","groupName","group_name","notice","userLink","groupLink","share_from_user_avatar_url","shareFrom","share_from_user_name","repoUrl","repoLink","groupUrl","transfer_from_user_avatar_url","repoOwner","transfer_from_user_name","uploaded_user_avatar_url","file_name","fileLink","file_path","folderName","folder_name","folderLink","folder_path","uploadFileLink","uploadedLink","author_avatar_url","author","author_name","draftId","draftUrl","draftLink","request_user_avatat_url","fromUser","request_user_name","_generatorNoticeInfo","generatorNoticeInfo","timestamp","122","123","CreateFile","handleChange","childName","isDuplicated","errMessage","HTMLescape","handleKeyPress","handleCheck","pos","p","isdraft","newInput","createRef","focus","setSelectionRange","Form","FormGroup","Label","for","Input","onKeyPress","innerRef","input","isDocs","check","Alert","124","URLDecorator","options","historyRepoID","objID","fileServerRoot","13","strChineseFirstPY","137","14","json","mtime_relative","starred","bytesToSize","is_locked","lock_time","lock_owner","lock_owner_name","locked_by_me","modifier_name","modifier_email","modifier_contact_email","141","_fileChooser","_fileChooser2","isMutipleOperation","onCancelMove","MoveDirent","moveItems","moveItem","_this$state","repo","selectedPath","moveDirentPath","flag","_this$state2","onDirentItemClick","onRepoItemClick","nextState","margin","142","onCancelCopy","CopyDirent","copyItems","copyItem","copyDirentPath","143","hasSuffix","onRenameConfirm","onRenameCancel","Rename","_this$validateInput","validateInput","isValid","refs","renameInput","endIndex","15","_extends","hasOwnProperty","_toastManager","_toastManager2","isBrowser","Toaster","_bindNotify","handler","notifyHandler","_bindGetToasts","getToastsHandler","_bindCloseAll","closeAllHandler","getToasts","closeAll","settings","undefined","intent","warning","container","setAttribute","body","bindNotify","bindGetToasts","bindCloseAll","159","AddRelatedFileDialog","onAddRelatedFile","oRepoID","rRepoID","oFilePath","rFilePath","addRelatedFile","response","error_msg","isShowFile","subtitle","disabled","16","_objectWithoutProperties","keys","_glamor","wrapperClass","css","maxWidth","top","left","position","zIndex","hasCustomId","ToastManager","_React$PureComponent","context","toasts","toast","close","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","String","startsWith","closeToast","err","return","createToastInstance","previousState","uniqueId","idCounter","description","hasCloseButton","isShown","removeToast","onRemove","PureComponent","160","_dirent","ListRelatedFileDialog","onDeleteRelatedFile","relatedID","related_id","deleteRelatedFile","getDirentList","Table","hover","relatedFile","RelatedFile","RelatedFilePropTypes","active","161","162","_tree","_tree2","TreeHelper","treeCopy","sortType","order","objects","getNodeChildrenObject","addNodeToParentNode","addNodeListToParent","addNodeToParent","deleteNode","nodePaths","renameNode","newValues","updateNode","destPath","destNode","moveNode","delete","treeNode","copyNode","Tree","setRoot","163","callback","findNode","traverseDF","addChild","deleteChild","rename","updateObjectParam","stack","found","shift","queue","serializeToJson","deserializefromJson","164","_treeNodeView","_treeNodeView2","_treeViewContextmenu","_treeViewContextmenu2","repoPermission","TreeView","onNodeDragStart","dragStartNodeData","nodeDirent","nodeParentPath","nodeRootPath","JSON","stringify","dataTransfer","effectAllowed","setData","onNodeDragEnter","onNodeDragMove","dropEffect","onNodeDragLeave","onNodeDrop","files","getData","parse","_dragStartNodeData","dropNodeData","isItemFreezed","contextMenu","isRightMenuShow","fileData","nodeData","mousePosition","clientX","clientY","unregisterHandlers","querySelector","removeEventListener","registerHandlers","addEventListener","onNodeChanged","closeRightMenu","paddingLeft","165","_treeNodeMenu","_treeNodeMenu2","TreeNodeView","isShowOperationMenu","isHighlight","onLoadToggle","isNodeDropShow","getNodeTypeAndIcon","icon","suffix","renderChildren","hasChildren","_props","_getNodeTypeAndIcon","hlClass","draggable","onDragStart","onDragEnter","onDragLeave","onDragOver","onDrop","stopPropagation","166","TreeNodeMenu","translateMenuItem","menuItem","translateResult","isItemMenuShow","dataset","menuList","caculateMenuList","167","TreeViewContextMenu","calculateMenuDistance","rightTreeMenu","rightTreeMenuHeight","offsetHeight","clientHeight","listenClick","handleContextMenu","rightTreeMenuWidth","offsetWidth","168","169","_markdownViewer","_markdownViewer2","isWiki","isTOCShow","WikiMarkdownViewer","onContentRendered","markdownViewer","titlesInfo","tagName","onScrollHandler","contentScrollTop","markdownContainer","current","scrollTop","titlesLength","activeTitleIndex","changeInlineNode","isPublicWiki","RegExp","serviceURL","test","index2","imagePath","slug","modifyValueBeforeRender","nodes","newNodes","changeMarkdownNodes","renderMarkdown","showTOC","links","querySelectorAll","_this5","onScroll","defaultProps","MarkdownViewer","17","_Transition","_Transition2","_alert","_alert2","animationEasing","deceleration","acceleration","spring","openAnimation","keyframes","opacity","transform","to","closeAnimation","animationStyles","display","flexDirection","alignItems","transition","&[data-state=\"entering\"], &[data-state=\"entered\"]","animation","&[data-state=\"exiting\"]","Toast","clearCloseTimer","startCloseTimer","closeTimer","handleMouseEnter","handleMouseLeave","onRef","_ref$getBoundingClien","getBoundingClientRect","prevProps","appear","unmountOnExit","timeout","in","onExited","data-state","marginBottom","padding","isRemoveable","170","CreateForder","171","onCancelDownload","progress","ZipDownloadDialog","172","currentTag","ListTaggedFilesDialog","onDeleteTaggedFile","taggedFile","fileTagID","file_tag_id","getTaggedFiles","listTaggedFiles","taggedFileList","tagged_files","file","TaggedFile","TaggedFilePropTypes","parent_path","filename","file_deleted","colSpan","18","containerStyle","borderRadius","boxSizing","boxShadow","justifyContent","containerBorderSuccess","borderLeft","containerBorderWarn","containerBorderDanger","containerBorderNotify","toastTextTitle","fontWeight","fontSize","toastTextChild","toastClose","marginLeft","lineHeight","textAlign","cursor",":hover","toastIcon","marginRight","borderStyle","iconColor","iconClass","toastStyle","getContainerStyle","toastTextContainer","19","_selectEditor","_selectEditor2","isTextMode","isEditIconShow","permissions","currentPermission","onPermissionChanged","SharePermissionEditor","translatePermission","sharePerms","translateExplanation","explanation","sharePermsExplanation","currentOption","onOptionChanged","translateOption","2","app","config","loginUrl","avatarInfo","siteName","isPro","lang","seafileVersion","seafileCollabServer","pageOptions","contactEmail","canAddRepo","canViewOrg","fileAuditEnabled","enableFileComment","folderPermEnabled","enableResetEncryptedRepoPassword","isEmailConfigured","enableUploadFolder","enableResumableFileUpload","storages","enableRepoSnapshotLabel","shareLinkExpireDaysMin","shareLinkExpireDaysMax","maxFileName","enableWiki","enableEncryptedLibrary","enableRepoHistorySetting","isSystemStaff","thumbnailSizeForOriginal","repoPasswordMinLength","curNoteMsg","curNoteID","wiki","repoId","initial_path","serviceUrl","PER_PAGE","fileHistory","draftFilePath","draft","draftOriginFilePath","draftFileName","draftRepoID","authorAvatar","originFileExists","draftFileExists","draftStatus","draftPublishVersion","originFileVersion","orgID","org","invitationLink","orgMemberQuotaEnabled","constanceEnabled","sysadmin","constance_enabled","multiTenancy","multi_tenancy","multiInstitution","multi_institution","sysadminExtraEnabled","sysadmin_extra_enabled","enableGuestInvitation","enable_guest_invitation","enableTermsAndConditions","enable_terms_and_conditions","isDefaultAdmin","is_default_admin","enableFileScan","enable_file_scan","canViewSystemInfo","admin_permissions","can_view_system_info","canViewStatistic","can_view_statistic","canConfigSystem","can_config_system","canManageLibrary","can_manage_library","canManageUser","can_manage_user","canManageGroup","can_manage_group","canViewUserLog","can_view_user_log","canViewAdminLog","can_view_admin_log","207","21","EditorUtilities","listWikiDir","dir_file_list","last_update_time","recursive","newFileName","newDirName","getWikiFileContent","getAccountInfo","page","per_page","listFileHistoryRecords","commitID","revertFile","listDrafts","deleteDraft","publishDraft","dirents","zipDownload","zip_token","queryZipProgress","cancelZipTask","23","_Async","_Async2","onSelectChange","isMulti","NoOptionsMessage","innerProps","UserSelect","handleSelectChange","option","loadOptions","searchUsers","users","email","label","clearSelect","userSelect","select","action","isClearable","classNamePrefix","components","24","25","_shareToUser","_shareToUser2","_shareToGroup","_shareToGroup2","_generateShareLink","_generateShareLink2","_generateUploadLink","_generateUploadLink2","itemType","itemName","itemPath","toggleDialog","ShareDialog","getInitialActiveTab","enableShareLink","enableUploadLink","tab","activeTab","renderDirContent","_this$props2","Nav","pills","vertical","NavItem","NavLink","TabContent","TabPane","tabId","closeShareDialog","renderFileContent","258","27","isAdminPanel","Account","getContainer","findDOMNode","handleProps","showInfo","addEvents","removeEvents","handleDocumentClick","which","keyCodes","contains","onClickAccount","resp","userName","usageRate","space_usage","quotaUsage","usage","quotaTotal","isStaff","is_staff","isOrgStaff","is_org_staff","avatarURL","renderMenu","renderAvatar","274","275","276","_socket","_socket2","socket","CollabServer","fn","emit","request","user","contact_email","on","off","277","Delete","278","changeState","279","ViewModeToolbar","baseClass","280","_shareDialog","_shareDialog2","DirOperationToolbar","hideOperationMenu","isUploadMenuShow","isCreateMenuShow","targetRect","getClientRects","x","y","operationMenuStyle","onUploadClick","onCreateClick","onShareClick","isShareDialogShow","onCreateFolderToggle","isCreateFolderDialogShow","onCreateFileToggle","isCreateFileDialogShow","onCreateMarkdownToggle","onCreateExcelToggle","onCreatePPTToggle","onCreateWordToggle","getFolderName","isSupportUploadFolder","281","_urlDecorator","_urlDecorator2","_zipDownloadDialog","_zipDownloadDialog2","_moveDirentDialog","_moveDirentDialog2","_copyDirentDialog","_copyDirentDialog2","_direntsMenu","_direntsMenu2","_relatedFileDialogs","_relatedFileDialogs2","_editFiletagDialog","_editFiletagDialog2","onFilesTagChanged","unSelectDirent","showDirentDetail","MutipleDirOperationToolbar","onMoveToggle","isMoveDialogShow","onCopyToggle","isCopyDialogShow","onItemsDownload","_this2$props","getUrl","selectedDirentNames","isProgressDialogShow","zipToken","addDownloadAnimation","interval","setInterval","zipped","toFixed","parseInt","clearInterval","showLibContentViewDialogs","showShareDialog","lockFile","unlockFile","openRelatedFilesDialog","onHistory","onOpenViaClient","getDirentPath","lockfile","unlockfile","listRelatedFiles","related_files","showRelatedFileDialog","showEditFileTagDialog","onMenuFileTagChanged","multiFileTagList","ButtonGroup","282","DirentMenu","calculateMenuList","ButtonDropdown","divider","283","284","_dirPath","_dirPath2","_dirTool","_dirTool2","onTabNavClick","pathPrefix","onDeleteRepoTag","CurDirPath","285","_router","_internalLinkDialog","_internalLinkDialog2","DirPath","tabName","turnPathToLink","pathList","split","data-path","pathElem","tagTitle","Link","showName","UncontrolledTooltip","placement","286","_listTagDialog","_listTagDialog2","_createTagDialog","_createTagDialog2","_updateTagDialog","_updateTagDialog2","_listTaggedfilesDialog","_listTaggedfilesDialog2","DirTool","onShowListRepoTag","isRepoTagDialogShow","isListRepoTagShow","isUpdateRepoTagShow","isCreateRepoTagShow","isListTaggedFileShow","onCloseRepoTagDialog","onCreateRepoTagToggle","onUpdateRepoTagToggle","onListTaggedFileToggle","isFile","trashUrl","encodeURIComponent","historyUrl","onListTagCancel","onCreateRepoTag","onUpdateRepoTag","onListTaggedFiles","287","tagListItemPropTypes","onTagUpdate","TagListItem","onMouseOver","onMouseOut","listTagPropTypes","ListTagDialog","createNewTag","repo_tag","288","CreateTagDialog","inputNewName","selectTagcolor","tagColor","createTag","createRepoTag","newTag","colorList","defaultChecked","289","UpdateTagDialog","selectNewcolor","newColor","updateTag","tag_id","updateRepoTag","deleteTagClick","deleteRepoTag","onDeleteTag","290","_direntListItem","_direntListItem2","_reactImageLightbox","_reactImageLightbox2","DirentListView","onUnfreezedItem","onItemRenameToggle","onCreateNewFile","sortByName","sortByTime","prepareImageItems","useThumbnail","prepareItem","fileExt","substr","isGIF","showImagePopup","isImagePopupOpen","imageItems","imageIndex","moveToPrevImage","imageItemsLength","prevState","moveToNextImage","closeImagePopup","sortIcon","imageCaption","checked","mainSrc","imageTitle","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","imagePadding","imageLoadErrorMessage","prevLabel","nextLabel","closeLabel","zoomInLabel","zoomOutLabel","291","_MD","_MD2","_direntMenu","_direntMenu2","_rename","_rename2","DirentListItem","highlight","isOperationShow","isDragTipShow","onItemStarred","unstarItem","starItem","onItemShare","closeSharedDialog","onItemMoveToggle","onItemCopyToggle","onPermissionItem","onDetailsItem","onUnlockItem","onLockItem","onComnentItem","onAccessLog","isRenameing","onItemDownload","onTagTooltipToggle","isShowTagTooltip","onItemDragStart","dragStartItemData","setDragImage","drag_icon","onItemDragEnter","isDropTipshow","onItemDragOver","onItemDragLeave","onItemDragDrop","_dragStartItemData","dropItemData","dirHref","fileHref","toolTipID","iconUrl","getDirentIcon","_props2","showShare","trClass","292","can_set_folder_perm","has_been_shared_out","293","296","297","_detailListView","_detailListView2","DirentDetail","updateDetailView","direntType","direntDetail","file_tag","status","getDirInfo","smallIconUrl","bigIconUrl","298","DetailListView","getDirentPostion","onEditFileTagToggle","isEditFileTagShow","onListRelatedFileToggle","format","last_modified","299","_resumablejs","_resumablejs2","_uploadProgressDialog","_uploadProgressDialog2","_uploadRemindDialog","_uploadRemindDialog2","filetypes","chunkSize","withCredentials","maxFiles","maxFileSize","testMethod","testChunks","simultaneousUploads","fileParameterName","maxFilesErrorCallback","maxFileSizeErrorCallback","minFileSizeErrorCallback","fileTypeErrorCallback","FileUploader","componentWillUnmount","resumable","disableDropOnDocument","bindCallbackHandler","opts","bindEventHandler","onChunkingComplete","onFileAdded","filesAddedComplete","onFileProgress","onProgress","onComplete","onPause","onFileRetry","onFileError","onError","onBeforeCancel","onCancel","relativePath","getFileUploadedBytes","uploadedBytes","offset","Math","floor","markChunksCompleted","resumableFile","formData","relative_path","hasRepetition","isUploadRemindDialogShow","currentResumableFile","setUploadFileList","upload","uploadFileList","buildCustomFileObj","isUploadProgressDialogShow","uniqueIdentifier","isSaved","round","getBitrate","loaded","uploadBitrate","now","timeDiff","bitrateInterval","formatBitRate","totalProgress","dir_name","notifiedFolders","allFilesUploaded","setHeaders","getOpt","fileSize","startByte","endByte","min","Accept","Content-Disposition","encodeURI","Content-Range","setQuery","generateUniqueIdentifier","webkitRelativePath","uploadInput","removeAttribute","click","getUploadLink","onCloseUploadDialog","onUploadCancel","uploadingItem","removeFile","newUploaderFileList","onCancelAllUploading","onUploaderRetry","replaceRepetitionFile","getUpdateLink","uploadFile","fileObject","cancelFileUpload","pop","Resumablejs","headers","forceChunkSize","maxChunkRetries","assignBrowse","enableDropOnDocument","3","_seafileJs","SeafileAPI","xcsrfHeaders","load","initForSeahubUsage","30","_defineProperty","_repoListView","_repoListView2","_searchedListView","_searchedListView2","FileChooser","onOtherRepoToggle","hasRequest","isOtherRepoShow","that","listRepos","repos","repoList","repoIdList","sortRepos","onCurrentRepoToggle","isCurrentRepoShow","selectedRepo","onCloseSearching","isSearching","isResultGot","searchInfo","searchResults","onSearchInfoChanged","searchRepo","obj_type","onSearchedItemClick","renderSearchedView","renderRepoListView","initToShowChildren","_React$createElement","300","_uploadListItem","_uploadListItem2","UploadProgressDialog","onMinimizeUpload","isMinimized","onCloseUpload","uploadedMessage","uploadingMessage","uploadingOptions","uploadedOptions","301","UploadListItem","formatFileSize","aria-valuenow","aria-valuemin","aria-valuemax","302","UploadRemindDialog","outline","303","304","_listRepoDraftsDialog","_listRepoDraftsDialog2","_readmeDialog","_readmeDialog2","RepoInfoBar","onCloseDialog","toggleDrafts","showRepoDrafts","toggleReadme","showReadmeDialog","305","_draft","_draft2","ListRepoDraftsDialog","drafts","listRepoDrafts","Draft","ownerNickname","createdStr","306","created","created_at","owner_nickname","originRepoID","origin_repo_id","draft_file_path","307","ReadmeDialog","readmeContent","isLoading","308","309","LibDecryptDialog","password","setRepoDecryptPassword","showError","aria-hidden","31","file_count","owner_name","owner_contact_email","no_quota","310","32","_reactSelect","_reactSelect2","toggleItemFreezed","SelectEditor","setOptions","onEditPermission","isEditing","onSelectHandler","onHideSelect","captureMenuScroll","38","4","_pinyinByUnicode","esc","space","up","down","bytes","sizes","isHiDPI","devicePixelRatio","FILEEXT_ICON_MAP","md","txt","pdf","doc","docx","odt","fodt","ppt","pptx","odp","fodp","xls","xlsx","ods","fods","mp4","ogv","webm","mov","flv","wmv","rmvb","mp3","oga","ogg","flac","aac","ac3","wma","jpg","jpeg","png","svg","gif","bmp","ico","videoCheck","path_arr","path_arr_","html","createTextNode","innerHTML","generateDialogTitle","operationTarget","targetStr","lastIndex","result","reverse","dir","child","parent","ancestor","newAncestor","pathA","pathB","navigator","userAgent","getDefaultLibIconUrl","isBig","getLibIconUrl","share_permission","icon_name","readonly","file_ext","getLibIconTitle","getFolderIconTitle","formatSize","precision","kilobyte","megabyte","gigabyte","bits","Bs","re","exec","decodeURIComponent","isWikiInternalMarkdownLink","isWikiInternalDirLink","getPathFromWikiInternalMarkdownLink","getPathFromWikiInternalDirLink","compareTwoWord","wordA","wordB","a_val","b_val","a_uni","b_uni","charAt","compareStrWithNumbersIn","a","b","isDigitPart","aPart","bPart","reParts","reDigit","aParts","match","bParts","comparator","sort","chooseLanguage","DARK_COLOR_MAP","red","orange","yellow","green","cyan","blue","indigo","purple","pink","azure","lime","teal","gray","#FFA8A8","#FFA94D","#FFD43B","#A0EC50","#A9E34B","#63E6BE","#4FD2C9","#72C3FC","#91A7FF","#E599F7","#B197FC","#F783AC","#CED4DA","40","SharedLinkInfo","is_expired","expire_date","view_cnt","ctime","41","SharedUploadInfo","42","_repoListItem","_repoListItem2","RepoListView","repoItem","43","RepoListItem","onToggleClick","isShowChildren","isCurrentRepo","repoActive","44","45","isCurrentPath","46","_searchedListItem","_searchedListItem2","SearchedListView","currentItem","47","SearchedListItem","48","49","_userSelect","_userSelect2","_sharePermissionEditor","_sharePermissionEditor2","UserItem","deleteShareItem","user_info","onChangeUserPermission","nickname","UserList","ShareToUser","_React$Component3","selectedOption","setPermission","shareToUser","shareGroupOwnedRepoToUser","errorMsg","failed","user_name","user_email","share_type","sharedItems","shareFolder","deleteGroupOwnedRepoSharedUserItem","deleteShareToUserItem","modifyGroupOwnedRepoUserSharedPermission","updateSharedItems","updateShareToUserItemPermission","sharedItem","sharedItemUsername","listSharedItems","50","_animated","_animated2","GroupItem","group_info","GroupList","ShareToGroup","shareableGroups","listSharedGroups","shareToGroup","groups","shareGroupOwnedRepoToGroup","deleteGroupOwnedRepoSharedGroupItem","deleteShareToGroupItem","modifyGroupOwnedRepoGroupSharedPermission","updateShareToGroupItemPermission","sharedItemGroupID","maxMenuHeight","inputId","51","_copyToClipboard","_copyToClipboard2","_sharedLinkInfo","_sharedLinkInfo2","GenerateShareLink","getShareLink","sharedLinkInfo","onPasswordInputChecked","isShowPasswordInput","passwdnew","errorInfo","togglePasswordVisible","isPasswordVisible","generatePassword","val","random","toString","inputPassword","passwd","inputPasswordNew","can_edit","can_download","generateShareLink","validateParamsInput","expireDays","createShareLink","onCopySharedLink","sharedLink","onCopyDownloadLink","downloadLink","deleteShareLink","passwordnew","isExpireChecked","isNoticeMessageShow","onExpireChecked","onExpireDaysChanged","day","reg","isExpireDaysNoLimit","minDays","maxDays","onNoticeMessageToggle","isValidate","InputGroup","InputGroupAddon","addonType","readOnly","52","_sharedUploadInfo","_sharedUploadInfo2","GenerateUploadLink","getUploadLinks","sharedUploadInfo","addPassword","showPasswordInput","passwordVisible","generateUploadLink","createUploadLink","onCopyUploadLink","uploadLink","deleteUploadLink","FormText","53","54","InternalLinkDialog","smartLink","getInternalLink","copyToClipBoard","smart_link","55","7","_toaster","_toaster2","80","_search","_search2","_notification","_notification2","_account","_account2","CommonToolbar","86","87","88","89","90","95","isPreload","generatePath","setParent","updateChildrenPath","m","_json$children","98"],"mappings":"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","file":"js/repoview.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(8);var _reactDom2=_interopRequireDefault(_reactDom);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={children:_propTypes2.default.object.isRequired};var modalRoot=document.getElementById('modal-wrapper');var ModalPortal=function(_React$Component){_inherits(ModalPortal,_React$Component);function ModalPortal(props){_classCallCheck(this,ModalPortal);var _this=_possibleConstructorReturn(this,(ModalPortal.__proto__||Object.getPrototypeOf(ModalPortal)).call(this,props));_this.el=document.createElement('div');return _this;}_createClass(ModalPortal,[{key:'componentDidMount',value:function componentDidMount(){modalRoot.appendChild(this.el);}},{key:'componentWillUnmount',value:function componentWillUnmount(){modalRoot.removeChild(this.el);}},{key:'render',value:function render(){return _reactDom2.default.createPortal(this.props.children,this.el);}}]);return ModalPortal;}(_react2.default.Component);ModalPortal.propTypes=propTypes;exports.default=ModalPortal;\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var RepoTag=function RepoTag(object){_classCallCheck(this,RepoTag);this.id=object.repo_tag_id;this.fileCount=object.files_count;this.name=object.tag_name;this.color=object.tag_color;};exports.default=RepoTag;\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onCloseSidePanel:_propTypes2.default.func.isRequired};var Logo=function(_React$Component){_inherits(Logo,_React$Component);function Logo(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Logo);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Logo.__proto__||Object.getPrototypeOf(Logo)).call.apply(_ref,[this].concat(args))),_this),_this.closeSide=function(){_this.props.onCloseSidePanel();},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Logo,[{key:'render',value:function render(){return _react2.default.createElement('div',{className:'top-logo'},_react2.default.createElement('a',{href:_constants.siteRoot,id:'logo'},_react2.default.createElement('img',{src:_constants.mediaUrl+_constants.logoPath,height:_constants.logoHeight,width:_constants.logoWidth,title:_constants.siteTitle,alt:'logo'})),_react2.default.createElement('a',{className:'sf2-icon-x1 sf-popover-close side-panel-close action-icon d-md-none',onClick:this.closeSide,title:'Close','aria-label':'Close'}));}}]);return Logo;}(_react2.default.Component);Logo.propTypes=propTypes;exports.default=Logo;\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _repoTag=__webpack_require__(103);var _repoTag2=_interopRequireDefault(_repoTag);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}__webpack_require__(113);var TagItemPropTypes={repoID:_propTypes2.default.string.isRequired,repoTag:_propTypes2.default.object.isRequired,filePath:_propTypes2.default.string.isRequired,fileTagList:_propTypes2.default.array.isRequired,onEditFileTag:_propTypes2.default.func.isRequired};var TagItem=function(_React$Component){_inherits(TagItem,_React$Component);function TagItem(props){_classCallCheck(this,TagItem);var _this=_possibleConstructorReturn(this,(TagItem.__proto__||Object.getPrototypeOf(TagItem)).call(this,props));_this.onMouseEnter=function(){_this.setState({showSelectedTag:true});};_this.onMouseLeave=function(){_this.setState({showSelectedTag:false});};_this.getRepoTagIdList=function(){var repoTagIdList=[];var fileTagList=_this.props.fileTagList;fileTagList.map(function(fileTag){repoTagIdList.push(fileTag.repo_tag_id);});return repoTagIdList;};_this.onEditFileTag=function(){var _this$props=_this.props,repoID=_this$props.repoID,repoTag=_this$props.repoTag,filePath=_this$props.filePath;var repoTagIdList=_this.getRepoTagIdList();if(repoTagIdList.indexOf(repoTag.id)===-1){var id=repoTag.id;_seafileApi.seafileAPI.addFileTag(repoID,filePath,id).then(function(){repoTagIdList=_this.getRepoTagIdList();_this.props.onEditFileTag();});}else{var fileTag=null;var fileTagList=_this.props.fileTagList;for(var i=0;i<fileTagList.length;i++){if(fileTagList[i].repo_tag_id===repoTag.id){fileTag=fileTagList[i];break;}}_seafileApi.seafileAPI.deleteFileTag(repoID,fileTag.id).then(function(){repoTagIdList=_this.getRepoTagIdList();_this.props.onEditFileTag();});}};_this.state={showSelectedTag:false};return _this;}_createClass(TagItem,[{key:'render',value:function render(){var repoTag=this.props.repoTag;var repoTagIdList=this.getRepoTagIdList();var drakColor=_utils.Utils.getDarkColor(repoTag.color);return _react2.default.createElement('li',{key:repoTag.id,className:'tag-list-item',onClick:this.onEditFileTag,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('div',{className:'tag-demo',style:{backgroundColor:repoTag.color}},_react2.default.createElement('span',{className:''+(this.state.showSelectedTag?'show-tag-selected':''),style:{backgroundColor:drakColor}}),_react2.default.createElement('span',{className:'tag-name'},repoTag.name),repoTagIdList.indexOf(repoTag.id)>-1&&_react2.default.createElement('i',{className:'fas fa-check tag-operation'})));}}]);return TagItem;}(_react2.default.Component);TagItem.propTypes=TagItemPropTypes;var propTypes={repoID:_propTypes2.default.string.isRequired,filePath:_propTypes2.default.string.isRequired,fileTagList:_propTypes2.default.array.isRequired,onFileTagChanged:_propTypes2.default.func.isRequired,toggleCancel:_propTypes2.default.func.isRequired};var EditFileTagDialog=function(_React$Component2){_inherits(EditFileTagDialog,_React$Component2);function EditFileTagDialog(props){_classCallCheck(this,EditFileTagDialog);var _this2=_possibleConstructorReturn(this,(EditFileTagDialog.__proto__||Object.getPrototypeOf(EditFileTagDialog)).call(this,props));_this2.getRepoTagList=function(){var repoID=_this2.props.repoID;_seafileApi.seafileAPI.listRepoTags(repoID).then(function(res){var repotagList=[];res.data.repo_tags.forEach(function(item){var repoTag=new _repoTag2.default(item);repotagList.push(repoTag);});_this2.setState({repotagList:repotagList});});};_this2.toggle=function(){_this2.props.toggleCancel();};_this2.onEditFileTag=function(){_this2.props.onFileTagChanged();};_this2.state={repotagList:[]};return _this2;}_createClass(EditFileTagDialog,[{key:'componentDidMount',value:function componentDidMount(){this.getRepoTagList();}},{key:'render',value:function render(){var _this3=this;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Select Tags')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('ul',{className:'tag-list tag-list-container'},this.state.repotagList.map(function(repoTag){return _react2.default.createElement(TagItem,{key:repoTag.id,repoTag:repoTag,repoID:_this3.props.repoID,filePath:_this3.props.filePath,fileTagList:_this3.props.fileTagList,onEditFileTag:_this3.onEditFileTag});}))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{onClick:this.toggle},(0,_constants.gettext)('Close'))));}}]);return EditFileTagDialog;}(_react2.default.Component);EditFileTagDialog.propTypes=propTypes;exports.default=EditFileTagDialog;\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _addRelatedFileDialog=__webpack_require__(159);var _addRelatedFileDialog2=_interopRequireDefault(_addRelatedFileDialog);var _listRelatedFileDialog=__webpack_require__(160);var _listRelatedFileDialog2=_interopRequireDefault(_listRelatedFileDialog);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,filePath:_propTypes2.default.string.isRequired,toggleCancel:_propTypes2.default.func.isRequired,onRelatedFileChange:_propTypes2.default.func.isRequired,dirent:_propTypes2.default.object.isRequired,relatedFiles:_propTypes2.default.array,viewMode:_propTypes2.default.oneOf(['list_related_file','add_related_file']).isRequired};var RelatedFileDialogs=function(_React$Component){_inherits(RelatedFileDialogs,_React$Component);function RelatedFileDialogs(props){_classCallCheck(this,RelatedFileDialogs);var _this=_possibleConstructorReturn(this,(RelatedFileDialogs.__proto__||Object.getPrototypeOf(RelatedFileDialogs)).call(this,props));_this.onAddRelatedFileToggle=function(){_this.setState({showListRelatedFileDialog:false});};_this.onCloseAddRelatedFileDialog=function(){_this.setState({showListRelatedFileDialog:true});};_this.state={showListRelatedFileDialog:props.viewMode==='list_related_file'};return _this;}_createClass(RelatedFileDialogs,[{key:'render',value:function render(){return _react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.props.toggleCancel,size:'lg',style:{width:'650px'}},this.state.showListRelatedFileDialog&&_react2.default.createElement(_listRelatedFileDialog2.default,{filePath:this.props.filePath,relatedFiles:this.props.relatedFiles,repoID:this.props.repoID,toggleCancel:this.props.toggleCancel,addRelatedFileToggle:this.onAddRelatedFileToggle,onRelatedFileChange:this.props.onRelatedFileChange}),!this.state.showListRelatedFileDialog&&_react2.default.createElement(_addRelatedFileDialog2.default,{filePath:this.props.filePath,repoID:this.props.repoID,toggleCancel:this.onCloseAddRelatedFileDialog,onRelatedFileChange:this.props.onRelatedFileChange,dirent:this.props.dirent,onClose:this.props.toggleCancel})));}}]);return RelatedFileDialogs;}(_react2.default.Component);RelatedFileDialogs.propTypes=propTypes;exports.default=RelatedFileDialogs;\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function Loading(){return _react2.default.createElement(\"span\",{className:\"loading-icon loading-tip\"});}exports.default=Loading;\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 1155:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(12);\nmodule.exports = __webpack_require__(1156);\n\n\n/***/ }),\n\n/***/ 1156:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(8);var _reactDom2=_interopRequireDefault(_reactDom);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _collabServer=__webpack_require__(276);var _collabServer2=_interopRequireDefault(_collabServer);var _sidePanel=__webpack_require__(1157);var _sidePanel2=_interopRequireDefault(_sidePanel);var _mainPanel=__webpack_require__(1158);var _mainPanel2=_interopRequireDefault(_mainPanel);var _treeNode=__webpack_require__(95);var _treeNode2=_interopRequireDefault(_treeNode);var _treeHelper=__webpack_require__(162);var _treeHelper2=_interopRequireDefault(_treeHelper);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _libDecryptDialog=__webpack_require__(309);var _libDecryptDialog2=_interopRequireDefault(_libDecryptDialog);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _dirent2=__webpack_require__(14);var _dirent3=_interopRequireDefault(_dirent2);var _fileTag=__webpack_require__(24);var _fileTag2=_interopRequireDefault(_fileTag);var _repoTag=__webpack_require__(103);var _repoTag2=_interopRequireDefault(_repoTag);var _repoInfo=__webpack_require__(31);var _repoInfo2=_interopRequireDefault(_repoInfo);__webpack_require__(86);__webpack_require__(87);__webpack_require__(88);__webpack_require__(89);__webpack_require__(274);__webpack_require__(275);__webpack_require__(90);__webpack_require__(122);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Wiki=function(_Component){_inherits(Wiki,_Component);function Wiki(props){_classCallCheck(this,Wiki);var _this2=_possibleConstructorReturn(this,(Wiki.__proto__||Object.getPrototypeOf(Wiki)).call(this,props));_this2.getGroupInfo=function(groupID){_seafileApi.seafileAPI.getGroup(groupID).then(function(res){if(res.data.admins.indexOf(_constants.username)!=-1){_this2.setState({isDepartmentAdmin:true});}});};_this2.onRepoUpdateEvent=function(){var currentTime=new Date();if(parseFloat(currentTime-_this2.lastModifyTime)/1000<=5){return;}var _this2$state=_this2.state,path=_this2$state.path,dirID=_this2$state.dirID;_seafileApi.seafileAPI.dirMetaData(_constants.repoID,path).then(function(res){if(res.data.id!==dirID){_toast2.default.notify(_react2.default.createElement('span',null,(0,_constants.gettext)('This folder has been updated. '),_react2.default.createElement('a',{href:''},(0,_constants.gettext)('Refresh'))),{id:'repo_updated',duration:3600});}});};_this2.loadWikiData=function(){// listen current repo\n_collabServer2.default.watchRepo(_constants.repoID,_this2.onRepoUpdateEvent);// list used FileTags\n_this2.updateUsedRepoTags();// list draft counts and revierw counts\n_seafileApi.seafileAPI.getRepoDraftCounts(_constants.repoID).then(function(res){_this2.setState({draftCounts:res.data.draft_counts});});// load side-panel data\n_this2.loadSidePanel(_constants.initialPath);// load main-panel data\nif(_constants.isDir==='None'){_this2.setState({pathExist:false});}else if(_constants.isDir==='True'){_this2.showDir(_constants.initialPath);}else if(_constants.isDir==='False'){_this2.showFile(_constants.initialPath);}};_this2.loadSidePanel=function(initialPath){if(initialPath==='/'||_constants.isDir==='None'){_seafileApi.seafileAPI.listDir(_constants.repoID,'/').then(function(res){var tree=_this2.state.treeData;_this2.addResponseListToNode(res.data.dirent_list,tree.root);_this2.setState({isTreeDataLoading:false,treeData:tree});}).catch(function(){_this2.setState({isLoadFailed:true});});}else{_this2.loadNodeAndParentsByPath(initialPath);}};_this2.showDir=function(path){_this2.loadDirentList(path);_this2.setState({path:path,isViewFile:false});// update location url\nvar url=_constants.siteRoot+'wiki/lib/'+_constants.repoID+_utils.Utils.encodePath(path);window.history.pushState({url:url,path:path},path,url);};_this2.showFile=function(filePath){_this2.setState({path:filePath,isViewFile:true});_this2.setState({isFileLoading:true});_seafileApi.seafileAPI.getFileInfo(_constants.repoID,filePath).then(function(res){var _res$data=res.data,mtime=_res$data.mtime,permission=_res$data.permission,last_modifier_name=_res$data.last_modifier_name,is_draft=_res$data.is_draft,has_draft=_res$data.has_draft,draft_id=_res$data.draft_id;_seafileApi.seafileAPI.getFileDownloadLink(_constants.repoID,filePath).then(function(res){_seafileApi.seafileAPI.getFileContent(res.data).then(function(res){_this2.setState({content:res.data,permission:permission,latestContributor:last_modifier_name,lastModified:_moment2.default.unix(mtime).fromNow(),isFileLoading:false,isDraft:is_draft,hasDraft:has_draft,draftID:draft_id});});});});var fileUrl=_constants.siteRoot+'wiki/lib/'+_constants.repoID+_utils.Utils.encodePath(filePath);window.history.pushState({url:fileUrl,path:filePath},filePath,fileUrl);};_this2.updateReadmeMarkdown=function(direntList){_this2.setState({readmeMarkdown:null});direntList.some(function(item){var fileName=item.name.toLowerCase();if(fileName==='readme.md'||fileName==='readme.markdown'){_this2.setState({readmeMarkdown:item});return true;}});};_this2.loadDirentList=function(path){_this2.setState({isDirentListLoading:true});_seafileApi.seafileAPI.listDir(_constants.repoID,path,{'with_thumbnail':true}).then(function(res){var direntList=[];res.data.dirent_list.forEach(function(item){var fileName=item.name.toLowerCase();if(fileName==='readme.md'||fileName==='readme.markdown'){_this2.setState({readmeMarkdown:item});}var dirent=new _dirent3.default(item);direntList.push(dirent);});_this2.setState({userPerm:res.data.user_perm,direntList:_utils.Utils.sortDirents(direntList,_this2.state.sortBy,_this2.state.sortOrder),isDirentListLoading:false,dirID:res.data.dir_id});if(!_this2.state.repoEncrypted&&direntList.length){_this2.getThumbnails(_constants.repoID,path,_this2.state.direntList);}});};_this2.getThumbnails=function(repoID,path,direntList){var items=direntList.filter(function(item){return _utils.Utils.imageCheck(item.name)&&!item.encoded_thumbnail_src;});if(items.length==0){return;}var _this=_this2;var len=items.length;var thumbnailSize=48;var getThumbnail=function getThumbnail(i){var curItem=items[i];var curItemPath=[path,curItem.name].join('/');_seafileApi.seafileAPI.createThumbnail(repoID,curItemPath,thumbnailSize).then(function(res){curItem.encoded_thumbnail_src=res.data.encoded_thumbnail_src;}).catch(function(error){// do nothing\n}).then(function(){if(i<len-1){getThumbnail(++i);}else{_this.setState({direntList:direntList});}});};getThumbnail(0);};_this2.onLinkClick=function(link){var url=link;if(_utils.Utils.isInternalMarkdownLink(url,_constants.repoID)){var path=_utils.Utils.getPathFromInternalMarkdownLink(url,_constants.repoID);_this2.showFile(path);}else if(_utils.Utils.isInternalDirLink(url,_constants.repoID)){var _path=_utils.Utils.getPathFromInternalDirLink(url,_constants.repoID);_this2.showDir(_path);}else{window.open(url);}};_this2.updateUsedRepoTags=function(){_seafileApi.seafileAPI.listRepoTags(_constants.repoID).then(function(res){var usedRepoTags=[];res.data.repo_tags.forEach(function(item){var usedRepoTag=new _repoTag2.default(item);if(usedRepoTag.fileCount>0){usedRepoTags.push(usedRepoTag);}});_this2.setState({usedRepoTags:usedRepoTags});});};_this2.updateDirent=function(dirent,paramKey,paramValue){var newDirentList=_this2.state.direntList.map(function(item){if(item.name===dirent.name){item[paramKey]=paramValue;}return item;});_this2.setState({direntList:newDirentList});};_this2.onpopstate=function(event){if(event.state&&event.state.path){var path=event.state.path;if(_utils.Utils.isMarkdownFile(path)){_this2.showFile(path);}else{_this2.loadDirentList(path);_this2.setState({path:path,isViewFile:false});}}};_this2.onSearchedClick=function(item){var path=item.is_dir?item.path.slice(0,item.path.length-1):item.path;if(_this2.state.currentPath===path){return;}// load sidePanel\nvar index=-1;var paths=_utils.Utils.getPaths(path);for(var i=0;i<paths.length;i++){var node=_this2.state.treeData.getNodeByPath(node);if(!node){index=i;break;}}if(index===-1){// all the data has been loaded already.\nvar _node=_this2.state.treeData.getNodeByPath(path);_this2.setState({currentNode:_node});}else{_this2.loadNodeAndParentsByPath(path);}// load mainPanel\nif(item.is_dir){_this2.showDir(path);}else{if(_utils.Utils.isMarkdownFile(path)){_this2.showFile(path);}else{var url=_constants.siteRoot+'lib/'+item.repo_id+'/file'+_utils.Utils.encodePath(path);var newWindow=window.open('about:blank');newWindow.location.href=url;}}};_this2.onMainNavBarClick=function(nodePath){//just for dir\n_this2.resetSelected();var tree=_this2.state.treeData.clone();var node=tree.getNodeByPath(nodePath);tree.expandNode(node);_this2.setState({treeData:tree,currentNode:node});_this2.showDir(node.path);};_this2.onAddFolder=function(dirPath){// todo Double name check\n_seafileApi.seafileAPI.createDir(_constants.repoID,dirPath).then(function(){var name=_utils.Utils.getFileName(dirPath);var parentPath=_utils.Utils.getDirName(dirPath);_this2.addNodeToTree(name,parentPath,'dir');if(parentPath===_this2.state.path&&!_this2.state.isViewFile){_this2.addDirent(name,'dir');}}).catch(function(){// return error message\n});};_this2.onAddFile=function(filePath,isDraft){// Double name check\n_seafileApi.seafileAPI.createFile(_constants.repoID,filePath,isDraft).then(function(res){var name=_utils.Utils.getFileName(filePath);var parentPath=_utils.Utils.getDirName(filePath);_this2.addNodeToTree(name,parentPath,'file');if(parentPath===_this2.state.path&&!_this2.state.isViewFile){_this2.addDirent(name,'file',res.data.size);}}).catch(function(){// todo\n});};_this2.onRenameTreeNode=function(node,newName){_this2.renameItem(node.path,node.object.isDir(),newName);};_this2.onDeleteTreeNode=function(node){_this2.deleteItem(node.path,node.object.isDir());};_this2.onMainPanelItemRename=function(dirent,newName){var path=_utils.Utils.joinPath(_this2.state.path,dirent.name);_this2.renameItem(path,dirent.isDir(),newName);};_this2.onMainPanelItemDelete=function(dirent){var path=_utils.Utils.joinPath(_this2.state.path,dirent.name);_this2.deleteItem(path,dirent.isDir());};_this2.renameItem=function(path,isDir,newName){//validate task\nif(isDir){_seafileApi.seafileAPI.renameDir(_constants.repoID,path,newName).then(function(){_this2.renameItemAjaxCallback(path,newName);}).catch(function(){//todos;\n});}else{_seafileApi.seafileAPI.renameFile(_constants.repoID,path,newName).then(function(){_this2.renameItemAjaxCallback(path,newName);}).catch(function(){//todos;\n});}};_this2.onMoveItem=function(destRepo,dirent,moveToDirentPath){//just for view list state\nvar dirName=dirent.name;var direntPath=_utils.Utils.joinPath(_this2.state.path,dirName);_seafileApi.seafileAPI.moveDir(_constants.repoID,destRepo.repo_id,moveToDirentPath,_this2.state.path,dirName).then(function(res){var nodeName=res.data[0].obj_name;_this2.moveTreeNode(direntPath,moveToDirentPath,destRepo,nodeName);_this2.moveDirent(direntPath);var message=(0,_constants.gettext)('Successfully moved %(name)s.');message=message.replace('%(name)s',dirName);_toast2.default.success(message);}).catch(function(){var message=(0,_constants.gettext)('Failed to move %(name)s');message=message.replace('%(name)s',dirName);_toast2.default.danger(message);});};_this2.onCopyItem=function(destRepo,dirent,copyToDirentPath){//just for view list state\nvar dirName=dirent.name;var direntPath=_utils.Utils.joinPath(_this2.state.path,dirName);_seafileApi.seafileAPI.copyDir(_constants.repoID,destRepo.repo_id,copyToDirentPath,_this2.state.path,dirName).then(function(res){var nodeName=res.data[0].obj_name;_this2.copyTreeNode(direntPath,copyToDirentPath,destRepo,nodeName);var message=(0,_constants.gettext)('Successfully copied %(name)s.');message=message.replace('%(name)s',dirName);_toast2.default.success(message);}).catch(function(){var message=(0,_constants.gettext)('Failed to copy %(name)s');message=message.replace('%(name)s',dirName);_toast2.default.danger(message);});};_this2.onMoveItems=function(destRepo,destDirentPath){var direntPaths=_this2.getSelectedDirentPaths();var dirNames=_this2.getSelectedDirentNames();_seafileApi.seafileAPI.moveDir(_constants.repoID,destRepo.repo_id,destDirentPath,_this2.state.path,dirNames).then(function(res){var names=res.data.map(function(item){return item.obj_name;});direntPaths.forEach(function(direntPath,index){_this2.moveTreeNode(direntPath,destDirentPath,destRepo,names[index]);_this2.moveDirent(direntPath);});var message=(0,_constants.gettext)('Successfully moved %(name)s.');message=message.replace('%(name)s',dirNames);_toast2.default.success(message);}).catch(function(){var message=(0,_constants.gettext)('Failed to move %(name)s');message=message.replace('%(name)s',dirNames);_toast2.default.danger(message);});};_this2.onCopyItems=function(destRepo,destDirentPath){var direntPaths=_this2.getSelectedDirentPaths();var dirNames=_this2.getSelectedDirentNames();_seafileApi.seafileAPI.copyDir(_constants.repoID,destRepo.repo_id,destDirentPath,_this2.state.path,dirNames).then(function(res){var names=res.data.map(function(item){return item.obj_name;});direntPaths.forEach(function(direntPath,index){_this2.copyTreeNode(direntPath,destDirentPath,destRepo,names[index]);});var message=(0,_constants.gettext)('Successfully copied %(name)s.');message=message.replace('%(name)s',dirNames);_toast2.default.success(message);}).catch(function(){var message=(0,_constants.gettext)('Failed to copy %(name)s');message=message.replace('%(name)s',dirNames);_toast2.default.danger(message);});};_this2.onDeleteItems=function(){var direntPaths=_this2.getSelectedDirentPaths();var dirNames=_this2.getSelectedDirentNames();_seafileApi.seafileAPI.deleteMutipleDirents(_constants.repoID,_this2.state.path,dirNames).then(function(res){direntPaths.forEach(function(direntPath){_this2.deleteTreeNode(direntPath);_this2.deleteDirent(direntPath);});});};_this2.onDirentClick=function(dirent){_this2.resetSelected();var direntPath=_utils.Utils.joinPath(_this2.state.path,dirent.name);if(dirent.isDir()){// is dir\n_this2.loadTreeNodeByPath(direntPath);_this2.showDir(direntPath);}else{// is file\nif(_utils.Utils.isMarkdownFile(direntPath)){_this2.showFile(direntPath);}else{var w=window.open('about:blank');var url=_constants.siteRoot+'lib/'+_constants.repoID+'/file'+_utils.Utils.encodePath(direntPath);w.location.href=url;}}};_this2.onDirentSelected=function(dirent){var direntList=_this2.state.direntList.map(function(item){if(item.name===dirent.name){item.isSelected=!item.isSelected;}return item;});var selectedDirentList=direntList.filter(function(item){return item.isSelected;});if(selectedDirentList.length){_this2.setState({isDirentSelected:true});if(selectedDirentList.length===direntList.length){_this2.setState({isAllDirentSelected:true,direntList:direntList,selectedDirentList:selectedDirentList});}else{_this2.setState({isAllDirentSelected:false,direntList:direntList,selectedDirentList:selectedDirentList});}}else{_this2.setState({isDirentSelected:false,isAllDirentSelected:false,direntList:direntList,selectedDirentList:[]});}};_this2.onAllDirentSelected=function(){if(_this2.state.isAllDirentSelected){var direntList=_this2.state.direntList.map(function(item){item.isSelected=false;return item;});_this2.setState({isDirentSelected:false,isAllDirentSelected:false,direntList:direntList,selectedDirentList:[]});}else{var _direntList=_this2.state.direntList.map(function(item){item.isSelected=true;return item;});_this2.setState({isDirentSelected:true,isAllDirentSelected:true,direntList:_direntList,selectedDirentList:_direntList});}};_this2.onFileTagChanged=function(dirent,direntPath){_seafileApi.seafileAPI.listFileTags(_constants.repoID,direntPath).then(function(res){var fileTags=res.data.file_tags.map(function(item){return new _fileTag2.default(item);});_this2.updateDirent(dirent,'file_tags',fileTags);});_this2.updateUsedRepoTags();};_this2.onFileUploadSuccess=function(direntObject){var isExist=_this2.state.direntList.some(function(item){return item.name===direntObject.name&&item.type===direntObject.type;});if(isExist){var direntList=_this2.state.direntList;for(var i=0;i<direntList.length;i++){var dirent=direntList[i];if(dirent.name===direntObject.name&&dirent.type===direntObject.type){var mtime=_moment2.default.unix(direntObject.mtime).fromNow();_this2.updateDirent(dirent,'mtime',mtime);// todo file size is need update too, api is not return;\nbreak;}}}else{direntObject.permission='rw';var _dirent=new _dirent3.default(direntObject);_this2.addNodeToTree(_dirent.name,_this2.state.path,_dirent.type);if(direntObject.type==='dir'){_this2.setState({direntList:[_dirent].concat(_toConsumableArray(_this2.state.direntList))});}else{_this2.setState({direntList:[].concat(_toConsumableArray(_this2.state.direntList),[_dirent])});_this2.updateReadmeMarkdown(_this2.state.direntList);}}};_this2.addDirent=function(name,type,size){var item=_this2.createDirent(name,type,size);var direntList=_this2.state.direntList;if(type==='dir'){direntList.unshift(item);}else{// there will be there conditions;\n// first: direntList.length === 0;\n// second: all the direntList's items are dir;\n// third: direntList has dir and file;\nvar length=direntList.length;if(length===0||direntList[length-1].type==='dir'){direntList.push(item);}else{var index=0;for(var i=0;i<=length;i++){if(direntList[i].type==='file'){index=i;break;}}direntList.splice(index,0,item);}}_this2.setState({direntList:direntList});_this2.updateReadmeMarkdown(direntList);};_this2.renameDirent=function(direntPath,newName){var parentPath=_utils.Utils.getDirName(direntPath);var newDirentPath=_utils.Utils.joinPath(parentPath,newName);if(direntPath===_this2.state.path){// the renamed item is current viewed item\n// example: direntPath = /A/B/C, state.path = /A/B/C\n_this2.setState({path:newDirentPath});var url=_constants.siteRoot+'wiki/lib/'+_constants.repoID+newDirentPath;window.history.replaceState({url:url,path:newDirentPath},newDirentPath,url);}else if(_utils.Utils.isChildPath(direntPath,_this2.state.path)){// example: direntPath = /A/B/C/D, state.path = /A/B/C\nvar oldName=_utils.Utils.getFileName(direntPath);var direntList=_this2.state.direntList.map(function(item){if(item.name===oldName){item.name=newName;}return item;});_this2.setState({direntList:direntList});_this2.updateReadmeMarkdown(direntList);}else if(_utils.Utils.isAncestorPath(direntPath,_this2.state.path)){// example: direntPath = /A/B, state.path = /A/B/C\nvar newPath=_utils.Utils.renameAncestorPath(_this2.state.path,direntPath,newDirentPath);_this2.setState({path:newPath});}};_this2.moveDirent=function(direntPath){var name=direntPath.slice(direntPath.lastIndexOf('/')+1);var direntList=_this2.state.direntList.filter(function(item){return item.name!==name;});_this2.setState({direntList:direntList});_this2.updateReadmeMarkdown(direntList);};_this2.onSideNavMenuClick=function(){_this2.setState({closeSideBar:!_this2.state.closeSideBar});};_this2.onCloseSide=function(){_this2.setState({closeSideBar:!_this2.state.closeSideBar});};_this2.loadTreeNodeByPath=function(path){var tree=_this2.state.treeData.clone();var node=tree.getNodeByPath(path);if(!node.isLoaded){_seafileApi.seafileAPI.listDir(_constants.repoID,node.path).then(function(res){_this2.addResponseListToNode(res.data.dirent_list,node);var parentNode=tree.getNodeByPath(node.parentNode.path);parentNode.isExpanded=true;_this2.setState({treeData:tree,currentNode:node});});}else{var parentNode=tree.getNodeByPath(node.parentNode.path);parentNode.isExpanded=true;_this2.setState({treeData:tree,currentNode:node});//tree\n}};_this2.loadNodeAndParentsByPath=function(path){var tree=_this2.state.treeData.clone();if(_utils.Utils.isMarkdownFile(path)){path=_utils.Utils.getDirName(path);}_seafileApi.seafileAPI.listDir(_constants.repoID,path,{with_parents:true}).then(function(res){var direntList=res.data.dirent_list;var results={};for(var i=0;i<direntList.length;i++){var object=direntList[i];var key=object.parent_dir;if(!results[key]){results[key]=[];}results[key].push(object);}for(var _key in results){var node=tree.getNodeByPath(_key);if(!node.isLoaded){_this2.addResponseListToNode(results[_key],node);}}_this2.setState({isTreeDataLoading:false,treeData:tree});}).catch(function(){_this2.setState({isLoadFailed:true});});};_this2.onTreeNodeClick=function(node){_this2.resetSelected();if(!_this2.state.pathExist){_this2.setState({pathExist:true});}if(node.object.isDir()){if(!node.isLoaded){var tree=_this2.state.treeData.clone();node=tree.getNodeByPath(node.path);_seafileApi.seafileAPI.listDir(_constants.repoID,node.path).then(function(res){_this2.addResponseListToNode(res.data.dirent_list,node);tree.collapseNode(node);_this2.setState({treeData:tree});});}if(node.path===_this2.state.path){if(node.isExpanded){var _tree=_treeHelper2.default.collapseNode(_this2.state.treeData,node);_this2.setState({treeData:_tree});}else{var _tree2=_this2.state.treeData.clone();node=_tree2.getNodeByPath(node.path);_tree2.expandNode(node);_this2.setState({treeData:_tree2});}}}if(node.path===_this2.state.path){return;}if(node.object.isDir()){// isDir\n_this2.showDir(node.path);}else{if(_utils.Utils.isMarkdownFile(node.path)){if(node.path!==_this2.state.path){_this2.showFile(node.path);}}else{var w=window.open('about:blank');var url=_constants.siteRoot+'lib/'+_constants.repoID+'/file'+_utils.Utils.encodePath(node.path);w.location.href=url;}}};_this2.onTreeNodeCollapse=function(node){var tree=_treeHelper2.default.collapseNode(_this2.state.treeData,node);_this2.setState({treeData:tree});};_this2.onTreeNodeExpanded=function(node){var tree=_this2.state.treeData.clone();node=tree.getNodeByPath(node.path);if(!node.isLoaded){_seafileApi.seafileAPI.listDir(_constants.repoID,node.path).then(function(res){_this2.addResponseListToNode(res.data.dirent_list,node);_this2.setState({treeData:tree});});}else{tree.expandNode(node);_this2.setState({treeData:tree});}};_this2.addNodeToTree=function(name,parentPath,type){var node=_this2.createTreeNode(name,type);var tree=_treeHelper2.default.addNodeToParentByPath(_this2.state.treeData,node,parentPath);_this2.setState({treeData:tree});};_this2.renameTreeNode=function(path,newName){var tree=_treeHelper2.default.renameNodeByPath(_this2.state.treeData,path,newName);_this2.setState({treeData:tree});};_this2.deleteTreeNode=function(path){var tree=_treeHelper2.default.deleteNodeByPath(_this2.state.treeData,path);_this2.setState({treeData:tree});};_this2.moveTreeNode=function(nodePath,moveToPath,moveToRepo,nodeName){if(_constants.repoID!==moveToRepo.repo_id){var _tree3=_treeHelper2.default.deleteNodeByPath(_this2.state.treeData,nodePath);_this2.setState({treeData:_tree3});return;}var tree=_treeHelper2.default.moveNodeByPath(_this2.state.treeData,nodePath,moveToPath,nodeName);_this2.setState({treeData:tree});};_this2.copyTreeNode=function(nodePath,copyToPath,destRepo,nodeName){if(_constants.repoID!==destRepo.repo_id){return;}var tree=_treeHelper2.default.copyNodeByPath(_this2.state.treeData,nodePath,copyToPath,nodeName);_this2.setState({treeData:tree});};_this2.addResponseListToNode=function(list,node){node.isLoaded=true;node.isExpanded=true;var direntList=list.map(function(item){return new _dirent3.default(item);});direntList=_utils.Utils.sortDirents(direntList,'name','asc');var nodeList=direntList.map(function(object){return new _treeNode2.default({object:object});});node.addChildren(nodeList);};_this2.getSelectedDirentPaths=function(){var paths=[];_this2.state.selectedDirentList.forEach(function(selectedDirent){paths.push(_utils.Utils.joinPath(_this2.state.path,selectedDirent.name));});return paths;};_this2.getSelectedDirentNames=function(){var names=[];_this2.state.selectedDirentList.forEach(function(selectedDirent){names.push(selectedDirent.name);});return names;};_this2.resetSelected=function(){_this2.setState({isDirentSelected:false,isAllDirentSelected:false});};_this2.onLibDecryptDialog=function(){_this2.setState({libNeedDecrypt:false});_this2.loadWikiData();};_this2.goDraftPage=function(){window.location.href=_constants.siteRoot+'drafts/'+_this2.state.draftID+'/';};_this2.sortItems=function(sortBy,sortOrder){_this2.setState({sortBy:sortBy,sortOrder:sortOrder,items:_utils.Utils.sortDirents(_this2.state.direntList,sortBy,sortOrder)});};_this2.state={repoName:'',repoEncrypted:false,isGroupOwnedRepo:false,isAdmin:false,ownerEmail:'',userPerm:'',path:'',pathExist:true,treeData:_treeHelper2.default.buildTree(),closeSideBar:false,currentNode:null,isTreeDataLoading:true,isDirentListLoading:true,isViewFile:false,sortBy:'name',// 'name' or 'time'\nsortOrder:'asc',// 'asc' or 'desc'\ndirentList:[],isFileLoading:true,content:'',lastModified:'',latestContributor:'',permission:'',isDirentSelected:false,isAllDirentSelected:false,selectedDirentList:[],libNeedDecrypt:false,isDraft:false,hasDraft:false,draftID:'',dirID:'',usedRepoTags:[],readmeMarkdown:null,draftCounts:0};window.onpopstate=_this2.onpopstate;_this2.hash='';_this2.lastModifyTime=new Date();return _this2;}_createClass(Wiki,[{key:'componentWillMount',value:function componentWillMount(){var hash=window.location.hash;if(hash.slice(0,1)==='#'){this.hash=hash;}}},{key:'componentDidMount',value:function componentDidMount(){var _this3=this;_seafileApi.seafileAPI.getRepoInfo(_constants.repoID).then(function(res){var repoInfo=new _repoInfo2.default(res.data);_this3.setState({libNeedDecrypt:res.data.lib_need_decrypt,repoName:repoInfo.repo_name,repoEncrypted:repoInfo.encrypted,isVirtual:repoInfo.is_virtual,isAdmin:repoInfo.is_admin,ownerEmail:repoInfo.owner_email});var ownerEmail=repoInfo.owner_email;if(repoInfo.owner_email.indexOf('@seafile_group')!=-1){var groupID=ownerEmail.substring(0,ownerEmail.indexOf('@'));_this3.getGroupInfo(groupID);_this3.setState({isGroupOwnedRepo:true});}if(!res.data.lib_need_decrypt){_this3.loadWikiData();}});}},{key:'componentWillUnmount',value:function componentWillUnmount(){_collabServer2.default.unwatchRepo(_constants.repoID,this.onRepoUpdateEvent);}},{key:'componentDidUpdate',value:function componentDidUpdate(){this.lastModifyTime=new Date();}},{key:'renameItemAjaxCallback',value:function renameItemAjaxCallback(path,newName){this.renameTreeNode(path,newName);this.renameDirent(path,newName);}},{key:'deleteItem',value:function deleteItem(path,isDir){var _this4=this;if(isDir){_seafileApi.seafileAPI.deleteDir(_constants.repoID,path).then(function(){_this4.deleteItemAjaxCallback(path,isDir);}).catch(function(){//todos;\n});}else{_seafileApi.seafileAPI.deleteFile(_constants.repoID,path).then(function(){_this4.deleteItemAjaxCallback(path,isDir);}).catch(function(){//todos;\n});}}},{key:'deleteItemAjaxCallback',value:function deleteItemAjaxCallback(path){this.deleteTreeNode(path);this.deleteDirent(path);}},{key:'deleteDirent',value:function deleteDirent(direntPath){if(direntPath===this.state.path){// The deleted item is current item\nvar parentPath=_utils.Utils.getDirName(direntPath);this.showDir(parentPath);}else if(_utils.Utils.isChildPath(direntPath,this.state.path)){// The deleted item is inside current path\nvar name=_utils.Utils.getFileName(direntPath);var direntList=this.state.direntList.filter(function(item){return item.name!==name;});this.setState({direntList:direntList});this.updateReadmeMarkdown(direntList);}else if(_utils.Utils.isAncestorPath(direntPath,this.state.path)){// the deleted item is ancester of the current item\nvar _parentPath=_utils.Utils.getDirName(direntPath);this.showDir(_parentPath);}// else do nothing\n}},{key:'createTreeNode',value:function createTreeNode(name,type){var object=this.createDirent(name,type);return new _treeNode2.default({object:object});}},{key:'createDirent',value:function createDirent(name,type,size){var mtime=new Date().getTime()/1000;var dirent=new _dirent3.default({name:name,type:type,mtime:mtime,size:size});return dirent;}},{key:'render',value:function render(){var libNeedDecrypt=this.state.libNeedDecrypt;if(libNeedDecrypt){return _react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_libDecryptDialog2.default,{repoID:_constants.repoID,onLibDecryptDialog:this.onLibDecryptDialog}));}var showShareBtn=false,enableDirPrivateShare=false;var _state=this.state,repoEncrypted=_state.repoEncrypted,isAdmin=_state.isAdmin,ownerEmail=_state.ownerEmail,userPerm=_state.userPerm,isVirtual=_state.isVirtual,isDepartmentAdmin=_state.isDepartmentAdmin;var isRepoOwner=ownerEmail==_constants.username;if(!repoEncrypted&&(_constants.canGenerateShareLink||_constants.canGenerateUploadLink||isRepoOwner||isAdmin)&&(userPerm=='rw'||userPerm=='r')){showShareBtn=true;if(!isVirtual&&(isRepoOwner||isAdmin||isDepartmentAdmin)){enableDirPrivateShare=true;}}return _react2.default.createElement('div',{id:'main',className:'wiki-main'},_react2.default.createElement(_sidePanel2.default,{isTreeDataLoading:this.state.isTreeDataLoading,onNodeClick:this.onTreeNodeClick,onNodeCollapse:this.onTreeNodeCollapse,onNodeExpanded:this.onTreeNodeExpanded,closeSideBar:this.state.closeSideBar,onCloseSide:this.onCloseSide,treeData:this.state.treeData,currentPath:this.state.path,currentNode:this.state.currentNode,onAddFolderNode:this.onAddFolder,onAddFileNode:this.onAddFile,onRenameNode:this.onRenameTreeNode,onDeleteNode:this.onDeleteTreeNode}),_react2.default.createElement(_mainPanel2.default,{path:this.state.path,repoName:this.state.repoName,repoEncrypted:this.state.repoEncrypted,isViewFile:this.state.isViewFile,pathExist:this.state.pathExist,isDirentListLoading:this.state.isDirentListLoading,isFileLoading:this.state.isFileLoading,permission:this.state.permission,content:this.state.content,lastModified:this.state.lastModified,latestContributor:this.state.latestContributor,showShareBtn:showShareBtn,enableDirPrivateShare:enableDirPrivateShare,userPerm:userPerm,isRepoOwner:isRepoOwner,isAdmin:isAdmin,isGroupOwnedRepo:this.state.isGroupOwnedRepo,direntList:this.state.direntList,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems,selectedDirentList:this.state.selectedDirentList,updateDirent:this.updateDirent,onSideNavMenuClick:this.onSideNavMenuClick,onSearchedClick:this.onSearchedClick,onMainNavBarClick:this.onMainNavBarClick,onItemClick:this.onDirentClick,onItemSelected:this.onDirentSelected,onItemDelete:this.onMainPanelItemDelete,onItemRename:this.onMainPanelItemRename,onLinkClick:this.onLinkClick,onItemMove:this.onMoveItem,onItemCopy:this.onCopyItem,onAddFile:this.onAddFile,onAddFolder:this.onAddFolder,onFileTagChanged:this.onFileTagChanged,isDirentSelected:this.state.isDirentSelected,isAllDirentSelected:this.state.isAllDirentSelected,onAllDirentSelected:this.onAllDirentSelected,onItemsMove:this.onMoveItems,onItemsCopy:this.onCopyItems,onItemsDelete:this.onDeleteItems,onFileUploadSuccess:this.onFileUploadSuccess,hash:this.hash,isDraft:this.state.isDraft,hasDraft:this.state.hasDraft,goDraftPage:this.goDraftPage,usedRepoTags:this.state.usedRepoTags,readmeMarkdown:this.state.readmeMarkdown,draftCounts:this.state.draftCounts,updateUsedRepoTags:this.updateUsedRepoTags}));}}]);return Wiki;}(_react.Component);_reactDom2.default.render(_react2.default.createElement(Wiki,null),document.getElementById('wrapper'));\n\n/***/ }),\n\n/***/ 1157:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactstrap=__webpack_require__(5);var _treeView=__webpack_require__(164);var _treeView2=_interopRequireDefault(_treeView);var _logo=__webpack_require__(104);var _logo2=_interopRequireDefault(_logo);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _deleteDialog=__webpack_require__(277);var _deleteDialog2=_interopRequireDefault(_deleteDialog);var _renameDialog=__webpack_require__(278);var _renameDialog2=_interopRequireDefault(_renameDialog);var _createFolderDialog=__webpack_require__(170);var _createFolderDialog2=_interopRequireDefault(_createFolderDialog);var _createFileDialog=__webpack_require__(123);var _createFileDialog2=_interopRequireDefault(_createFileDialog);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentNode:_propTypes2.default.object,isTreeDataLoading:_propTypes2.default.bool.isRequired,treeData:_propTypes2.default.object.isRequired,currentPath:_propTypes2.default.string.isRequired,closeSideBar:_propTypes2.default.bool.isRequired,onCloseSide:_propTypes2.default.func.isRequired,onNodeClick:_propTypes2.default.func.isRequired,onNodeCollapse:_propTypes2.default.func.isRequired,onNodeExpanded:_propTypes2.default.func.isRequired,onRenameNode:_propTypes2.default.func.isRequired,onDeleteNode:_propTypes2.default.func.isRequired,onAddFileNode:_propTypes2.default.func.isRequired,onAddFolderNode:_propTypes2.default.func.isRequired};var SidePanel=function(_Component){_inherits(SidePanel,_Component);function SidePanel(props){_classCallCheck(this,SidePanel);var _this=_possibleConstructorReturn(this,(SidePanel.__proto__||Object.getPrototypeOf(SidePanel)).call(this,props));_this.onMouseEnter=function(){_this.setState({isMenuIconShow:true});};_this.onMouseLeave=function(){_this.setState({isMenuIconShow:false});};_this.onDropdownToggleClick=function(e){e.preventDefault();_this.toggleOperationMenu();};_this.toggleOperationMenu=function(){_this.setState({isHeaderMenuShow:!_this.state.isHeaderMenuShow});};_this.onNodeClick=function(node){_this.setState({opNode:node});_this.props.onNodeClick(node);};_this.onMenuItemClick=function(operation,node){_this.setState({opNode:node});switch(operation){case'New Folder':_this.onAddFolderToggle();break;case'New File':_this.onAddFileToggle();break;case'Rename':_this.onRenameToggle();break;case'Delete':_this.onDeleteToggle();break;}};_this.onAddFileToggle=function(type){if(type==='root'){var root=_this.props.treeData.root;_this.setState({isAddFileDialogShow:!_this.state.isAddFileDialogShow,opNode:root});}else{_this.setState({isAddFileDialogShow:!_this.state.isAddFileDialogShow});}};_this.onAddFolderToggle=function(type){if(type==='root'){var root=_this.props.treeData.root;_this.setState({isAddFolderDialogShow:!_this.state.isAddFolderDialogShow,opNode:root});}else{_this.setState({isAddFolderDialogShow:!_this.state.isAddFolderDialogShow});}};_this.onRenameToggle=function(){_this.setState({isRenameDialogShow:!_this.state.isRenameDialogShow});};_this.onDeleteToggle=function(){_this.setState({isDeleteDialogShow:!_this.state.isDeleteDialogShow});};_this.onAddFolderNode=function(dirPath){_this.setState({isAddFolderDialogShow:!_this.state.isAddFolderDialogShow});_this.props.onAddFolderNode(dirPath);};_this.onAddFileNode=function(filePath,isDraft){_this.setState({isAddFileDialogShow:!_this.state.isAddFileDialogShow});_this.props.onAddFileNode(filePath,isDraft);};_this.onRenameNode=function(newName){_this.setState({isRenameDialogShow:!_this.state.isRenameDialogShow});var node=_this.state.opNode;_this.props.onRenameNode(node,newName);};_this.onDeleteNode=function(){_this.setState({isDeleteDialogShow:!_this.state.isDeleteDialogShow});var node=_this.state.opNode;_this.props.onDeleteNode(node);};_this.checkDuplicatedName=function(newName){var node=_this.state.opNode;// root node to new node conditions: parentNode is null, \nvar parentNode=node.parentNode?node.parentNode:node;var childrenObject=parentNode.children.map(function(item){return item.object;});var isDuplicated=childrenObject.some(function(object){return object.name===newName;});return isDuplicated;};_this.state={opNode:null,isLoadFailed:false,isMenuIconShow:false,isHeaderMenuShow:false,isDeleteDialogShow:false,isAddFileDialogShow:false,isAddFolderDialogShow:false,isRenameDialogShow:false};_this.isNodeMenuShow=true;return _this;}_createClass(SidePanel,[{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){this.setState({opNode:nextProps.currentNode});}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'side-panel wiki-side-panel '+(this.props.closeSideBar?'':'left-zero')},_react2.default.createElement('div',{className:'side-panel-top panel-top'},_react2.default.createElement(_logo2.default,{onCloseSidePanel:this.props.onCloseSide})),_react2.default.createElement('div',{id:'side-nav',className:'wiki-side-nav',role:'navigation'},_react2.default.createElement('h3',{className:'wiki-pages-heading',onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},(0,_constants.gettext)('Files'),_react2.default.createElement('div',{className:'heading-icon'},_constants.permission&&this.state.isMenuIconShow&&_react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.isHeaderMenuShow,toggle:this.toggleOperationMenu},_react2.default.createElement(_reactstrap.DropdownToggle,{tag:'i',className:'fas fa-ellipsis-v',title:(0,_constants.gettext)('More Operations'),'data-toggle':'dropdown','aria-expanded':this.state.isHeaderMenuShow,onClick:this.onDropdownToggleClick}),_react2.default.createElement(_reactstrap.DropdownMenu,{right:true},_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.onAddFolderToggle.bind(this,'root')},(0,_constants.gettext)('New Folder')),_react2.default.createElement(_reactstrap.DropdownItem,{onClick:this.onAddFileToggle.bind(this,'root')},(0,_constants.gettext)('New File')))))),_react2.default.createElement('div',{className:'wiki-pages-container'},this.props.isTreeDataLoading?_react2.default.createElement(_loading2.default,null):_react2.default.createElement(_treeView2.default,{isNodeMenuShow:this.isNodeMenuShow,treeData:this.props.treeData,currentPath:this.props.currentPath,onNodeClick:this.onNodeClick,onNodeExpanded:this.props.onNodeExpanded,onNodeCollapse:this.props.onNodeCollapse,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.onFreezedItem,onUnFreezedItem:this.onUnFreezedItem}))),this.state.isAddFolderDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_createFolderDialog2.default,{parentPath:this.state.opNode.path,onAddFolder:this.onAddFolderNode,checkDuplicatedName:this.checkDuplicatedName,addFolderCancel:this.onAddFolderToggle})),this.state.isAddFileDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_createFileDialog2.default,{fileType:'.md',parentPath:this.state.opNode.path,onAddFile:this.onAddFileNode,checkDuplicatedName:this.checkDuplicatedName,addFileCancel:this.onAddFileToggle})),this.state.isRenameDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_renameDialog2.default,{currentNode:this.state.opNode,onRename:this.onRenameNode,checkDuplicatedName:this.checkDuplicatedName,toggleCancel:this.onRenameToggle})),this.state.isDeleteDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_deleteDialog2.default,{currentNode:this.state.opNode,handleSubmit:this.onDeleteNode,toggleCancel:this.onDeleteToggle})));}}]);return SidePanel;}(_react.Component);SidePanel.propTypes=propTypes;exports.default=SidePanel;\n\n/***/ }),\n\n/***/ 1158:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactCookies=__webpack_require__(22);var _reactCookies2=_interopRequireDefault(_reactCookies);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _repoInfo=__webpack_require__(31);var _repoInfo2=_interopRequireDefault(_repoInfo);var _commonToolbar=__webpack_require__(80);var _commonToolbar2=_interopRequireDefault(_commonToolbar);var _viewModeToolbar=__webpack_require__(279);var _viewModeToolbar2=_interopRequireDefault(_viewModeToolbar);var _dirOperationToolbar=__webpack_require__(280);var _dirOperationToolbar2=_interopRequireDefault(_dirOperationToolbar);var _mutilpleDirOperationToolbar=__webpack_require__(281);var _mutilpleDirOperationToolbar2=_interopRequireDefault(_mutilpleDirOperationToolbar);var _curDirPath=__webpack_require__(284);var _curDirPath2=_interopRequireDefault(_curDirPath);var _wikiMarkdownViewer=__webpack_require__(169);var _wikiMarkdownViewer2=_interopRequireDefault(_wikiMarkdownViewer);var _direntListView=__webpack_require__(290);var _direntListView2=_interopRequireDefault(_direntListView);var _direntDetails=__webpack_require__(297);var _direntDetails2=_interopRequireDefault(_direntDetails);var _fileUploader=__webpack_require__(299);var _fileUploader2=_interopRequireDefault(_fileUploader);var _repoInfoBar=__webpack_require__(304);var _repoInfoBar2=_interopRequireDefault(_repoInfoBar);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={content:_propTypes2.default.string,lastModified:_propTypes2.default.string,latestContributor:_propTypes2.default.string,permission:_propTypes2.default.string,hash:_propTypes2.default.string,path:_propTypes2.default.string.isRequired,repoName:_propTypes2.default.string.isRequired,repoEncrypted:_propTypes2.default.bool.isRequired,showShareBtn:_propTypes2.default.bool.isRequired,enableDirPrivateShare:_propTypes2.default.bool.isRequired,userPerm:_propTypes2.default.string.isRequired,isAdmin:_propTypes2.default.bool.isRequired,isGroupOwnedRepo:_propTypes2.default.bool.isRequired,// whether the file or dir corresponding to the path exist\npathExist:_propTypes2.default.bool.isRequired,isFileLoading:_propTypes2.default.bool.isRequired,isViewFile:_propTypes2.default.bool.isRequired,isDirentListLoading:_propTypes2.default.bool.isRequired,isDirentSelected:_propTypes2.default.bool.isRequired,isAllDirentSelected:_propTypes2.default.bool.isRequired,direntList:_propTypes2.default.array.isRequired,sortBy:_propTypes2.default.string.isRequired,sortOrder:_propTypes2.default.string.isRequired,sortItems:_propTypes2.default.func.isRequired,selectedDirentList:_propTypes2.default.array.isRequired,updateDirent:_propTypes2.default.func.isRequired,onSideNavMenuClick:_propTypes2.default.func.isRequired,onSearchedClick:_propTypes2.default.func.isRequired,onMainNavBarClick:_propTypes2.default.func.isRequired,onItemClick:_propTypes2.default.func.isRequired,onAllDirentSelected:_propTypes2.default.func.isRequired,onItemSelected:_propTypes2.default.func.isRequired,onItemDelete:_propTypes2.default.func.isRequired,onItemRename:_propTypes2.default.func.isRequired,onItemMove:_propTypes2.default.func.isRequired,onItemCopy:_propTypes2.default.func.isRequired,onAddFile:_propTypes2.default.func.isRequired,onAddFolder:_propTypes2.default.func.isRequired,onFileTagChanged:_propTypes2.default.func.isRequired,onItemsMove:_propTypes2.default.func.isRequired,onItemsCopy:_propTypes2.default.func.isRequired,onItemsDelete:_propTypes2.default.func.isRequired,onLinkClick:_propTypes2.default.func.isRequired,onFileUploadSuccess:_propTypes2.default.func.isRequired,isDraft:_propTypes2.default.bool,hasDraft:_propTypes2.default.bool,goDraftPage:_propTypes2.default.func,usedRepoTags:_propTypes2.default.array.isRequired,readmeMarkdown:_propTypes2.default.object,draftCounts:_propTypes2.default.number,updateUsedRepoTags:_propTypes2.default.func.isRequired};var MainPanel=function(_Component){_inherits(MainPanel,_Component);function MainPanel(props){_classCallCheck(this,MainPanel);var _this=_possibleConstructorReturn(this,(MainPanel.__proto__||Object.getPrototypeOf(MainPanel)).call(this,props));_this.switchViewMode=function(mode){_reactCookies2.default.save('view_mode',mode,{path:'/'});var repoName=_this.state.currentRepoInfo.repo_name;var dirPath=_this.props.isViewFile?_utils.Utils.getDirName(_this.props.path):_this.props.path;window.location.href=_constants.siteRoot+'library/'+_constants.repoID+'/'+repoName+dirPath;};_this.onSideNavMenuClick=function(){_this.props.onSideNavMenuClick();};_this.onItemClick=function(dirent){_this.setState({isDirentDetailShow:false});_this.props.onItemClick(dirent);};_this.onMainNavBarClick=function(path){_this.setState({isDirentDetailShow:false});_this.props.onMainNavBarClick(path);};_this.onDirentClick=function(dirent){if(_this.state.isDirentDetailShow){_this.onItemDetails(dirent);}};_this.onItemDetails=function(dirent){_this.setState({currentDirent:dirent,isDirentDetailShow:true});};_this.onItemDetailsClose=function(){_this.setState({isDirentDetailShow:false});};_this.onFileTagChanged=function(dirent,direntPath){_this.props.onFileTagChanged(dirent,direntPath);};_this.onUploadFile=function(e){e.nativeEvent.stopImmediatePropagation();_this.uploader.onFileUpload();};_this.onUploadFolder=function(e){e.nativeEvent.stopImmediatePropagation();_this.uploader.onFolderUpload();};_this.onFileUploadSuccess=function(direntObject){_this.props.onFileUploadSuccess(direntObject);};_this.state={currentMode:'wiki',isDirentDetailShow:false,currentDirent:null,direntPath:'',currentRepoInfo:null};return _this;}_createClass(MainPanel,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.getRepoInfo(_constants.repoID).then(function(res){var repoInfo=new _repoInfo2.default(res.data);_this2.setState({currentRepoInfo:repoInfo});});if(this.props.hash){var hash=this.props.hash;setTimeout(function(){window.location.hash=hash;},500);}}// on '<tr>'\n},{key:'render',value:function render(){var _this3=this;var ErrMessage=_react2.default.createElement('div',{className:'message err-tip'},(0,_constants.gettext)('Folder does not exist.'));var showRepoInfoBar=this.props.path==='/'&&(this.props.usedRepoTags.length!=0||this.props.readmeMarkdown!=null||this.props.draftCounts!=0);return _react2.default.createElement('div',{className:'main-panel wiki-main-panel o-hidden'},_react2.default.createElement('div',{className:'main-panel-north border-left-show'},_react2.default.createElement('div',{className:'cur-view-toolbar'},_react2.default.createElement('span',{className:'sf2-icon-menu hidden-md-up d-md-none side-nav-toggle',title:(0,_constants.gettext)('Side Nav Menu'),onClick:this.onSideNavMenuClick}),_react2.default.createElement('div',{className:'dir-operation'},this.props.isDirentSelected?_react2.default.createElement(_mutilpleDirOperationToolbar2.default,{repoID:_constants.repoID,path:this.props.path,selectedDirentList:this.props.selectedDirentList,onItemsMove:this.props.onItemsMove,onItemsCopy:this.props.onItemsCopy,onItemsDelete:this.props.onItemsDelete}):_react2.default.createElement(_dirOperationToolbar2.default,{path:this.props.path,repoID:_constants.repoID,repoName:this.props.repoName,repoEncrypted:this.props.repoEncrypted,isDraft:this.props.isDraft,hasDraft:this.props.hasDraft,direntList:this.props.direntList,permission:this.props.permission,isViewFile:this.props.isViewFile,showShareBtn:this.props.showShareBtn,enableDirPrivateShare:this.props.enableDirPrivateShare,userPerm:this.props.userPerm,isAdmin:this.props.isAdmin,isGroupOwnedRepo:this.props.isGroupOwnedRepo,onAddFile:this.props.onAddFile,onAddFolder:this.props.onAddFolder,onUploadFile:this.onUploadFile,onUploadFolder:this.onUploadFolder})),_react2.default.createElement(_viewModeToolbar2.default,{currentMode:this.state.currentMode,switchViewMode:this.switchViewMode})),_react2.default.createElement(_commonToolbar2.default,{repoID:_constants.repoID,onSearchedClick:this.props.onSearchedClick,searchPlaceholder:(0,_constants.gettext)('Search files in this library')})),_react2.default.createElement('div',{className:'main-panel-center flex-row'},_react2.default.createElement('div',{className:'cur-view-container'},_react2.default.createElement('div',{className:'cur-view-path'},this.state.currentRepoInfo&&_react2.default.createElement(_curDirPath2.default,{repoID:_constants.repoID,repoName:this.state.currentRepoInfo.repo_name,currentPath:this.props.path,permission:_constants.permission,onPathClick:this.onMainNavBarClick,isViewFile:this.props.isViewFile,updateUsedRepoTags:this.props.updateUsedRepoTags})),_react2.default.createElement('div',{className:'cur-view-content'},!this.props.pathExist&&ErrMessage,this.props.pathExist&&this.props.isViewFile&&_react2.default.createElement(_wikiMarkdownViewer2.default,{isFileLoading:this.props.isFileLoading,markdownContent:this.props.content,latestContributor:this.props.latestContributor,lastModified:this.props.lastModified,onLinkClick:this.props.onLinkClick},_react2.default.createElement(_react.Fragment,null,!this.props.isDraft&&this.props.hasDraft&&_react2.default.createElement('div',{className:'seafile-btn-view-review text-center'},_react2.default.createElement('div',{className:'tag tag-green'},(0,_constants.gettext)('This file is in draft stage.'),_react2.default.createElement('a',{className:'ml-2',onMouseDown:this.props.goDraftPage},(0,_constants.gettext)('View Draft')))))),this.props.pathExist&&!this.props.isViewFile&&_react2.default.createElement(_react.Fragment,null,showRepoInfoBar&&_react2.default.createElement(_repoInfoBar2.default,{repoID:_constants.repoID,currentPath:this.props.path,usedRepoTags:this.props.usedRepoTags,readmeMarkdown:this.props.readmeMarkdown,draftCounts:this.props.draftCounts,updateUsedRepoTags:this.props.updateUsedRepoTags}),_react2.default.createElement(_direntListView2.default,{path:this.props.path,repoID:_constants.repoID,repoEncrypted:this.props.repoEncrypted,isRepoOwner:this.props.isRepoOwner,isAdmin:this.props.isAdmin,isGroupOwnedRepo:this.props.isGroupOwnedRepo,enableDirPrivateShare:this.props.enableDirPrivateShare,direntList:this.props.direntList,sortBy:this.props.sortBy,sortOrder:this.props.sortOrder,sortItems:this.props.sortItems,onAddFile:this.props.onAddFile,onItemClick:this.onItemClick,onItemDelete:this.props.onItemDelete,onItemRename:this.props.onItemRename,onItemMove:this.props.onItemMove,onItemCopy:this.props.onItemCopy,onDirentClick:this.onDirentClick,onItemDetails:this.onItemDetails,isDirentListLoading:this.props.isDirentListLoading,updateDirent:this.props.updateDirent,currentRepoInfo:this.state.currentRepoInfo,isAllItemSelected:this.props.isAllDirentSelected,onAllItemSelected:this.props.onAllDirentSelected,onItemSelected:this.props.onItemSelected}),_react2.default.createElement(_fileUploader2.default,{ref:function ref(uploader){return _this3.uploader=uploader;},dragAndDrop:true,path:this.props.path,repoID:_constants.repoID,direntList:this.props.direntList,onFileUploadSuccess:this.onFileUploadSuccess})))),this.state.isDirentDetailShow&&_react2.default.createElement('div',{className:'cur-view-detail'},_react2.default.createElement(_direntDetails2.default,{repoID:_constants.repoID,path:this.props.path,dirent:this.state.currentDirent,direntPath:this.state.direntPath,onItemDetailsClose:this.onItemDetailsClose,onFileTagChanged:this.onFileTagChanged}))));}}]);return MainPanel;}(_react.Component);MainPanel.propTypes=propTypes;exports.default=MainPanel;\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactResponsive=__webpack_require__(117);var _reactResponsive2=_interopRequireDefault(_reactResponsive);var _constants=__webpack_require__(2);var _searchResultItem=__webpack_require__(118);var _searchResultItem2=_interopRequireDefault(_searchResultItem);var _editorUtilties=__webpack_require__(21);var _editorUtilties2=_interopRequireDefault(_editorUtilties);var _more=__webpack_require__(119);var _more2=_interopRequireDefault(_more);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string,placeholder:_propTypes2.default.string,onSearchedClick:_propTypes2.default.func.isRequired};var Search=function(_Component){_inherits(Search,_Component);function Search(props){_classCallCheck(this,Search);var _this2=_possibleConstructorReturn(this,(Search.__proto__||Object.getPrototypeOf(Search)).call(this,props));_this2.onFocusHandler=function(){_this2.setState({width:'30rem',isMaskShow:true,isCloseShow:true});};_this2.onCloseHandler=function(){_this2.resetToDefault();};_this2.onItemClickHandler=function(item){_this2.resetToDefault();_this2.props.onSearchedClick(item);};_this2.onChangeHandler=function(event){var _this=_this2;_this2.setState({value:event.target.value});var newValue=event.target.value;if(_this2.inputValue===newValue.trim()){return false;}_this2.inputValue=newValue.trim();if(_this2.inputValue===''||_this.getValueLength(_this2.inputValue)<3){_this2.setState({isResultShow:false,isResultGetted:false});return false;}var repoID=_this2.props.repoID;var queryData={q:newValue,search_repo:repoID?repoID:'all',search_ftypes:'all'};if(_this2.timer){clearTimeout(_this2.timer);}_this2.timer=setTimeout(_this.getSearchResult(queryData),500);};_this2.onShowMore=function(){var repoID=_this2.props.repoID;var newValue=_this2.state.value;var queryData={q:newValue,search_repo:repoID?repoID:'all',search_ftypes:'all'};var params='';for(var key in queryData){params+=key+'='+queryData[key]+'&';}window.location=_constants.siteRoot+'search/?'+params.slice(0,params.length-1);};_this2.onSearchToggle=function(){_this2.setState({isSearchInputShow:!_this2.state.isSearchInputShow,isMaskShow:!_this2.state.isMaskShow});};_this2.state={width:'default',value:'',resultItems:[],isMaskShow:false,isResultShow:false,isResultGetted:false,isCloseShow:false,isSearchInputShow:false// for mobile\n};_this2.inputValue='';_this2.source=null;// used to cancel request;\nreturn _this2;}_createClass(Search,[{key:'getSearchResult',value:function getSearchResult(queryData){if(this.source){this.cancelRequest();}this.setState({isResultShow:true,isResultGetted:false});this.source=_editorUtilties2.default.getSource();this.sendRequest(queryData,this.source.token);}},{key:'sendRequest',value:function sendRequest(queryData,cancelToken){var _this=this;_editorUtilties2.default.searchFiles(queryData,cancelToken).then(function(res){if(!res.data.total){_this.setState({resultItems:[],isResultGetted:true});_this.source=null;return;}var items=_this.formatResultItems(res.data.results);_this.setState({resultItems:items,isResultGetted:true});_this.source=null;}).catch(function(res){/* eslint-disable */console.log(res);/* eslint-enable */});}},{key:'cancelRequest',value:function cancelRequest(){this.source.cancel('prev request is cancelled');}},{key:'getValueLength',value:function getValueLength(str){var i=0,code,len=0;for(;i<str.length;i++){code=str.charCodeAt(i);if(code==10){//solve enter problem\nlen+=2;}else if(code<0x007f){len+=1;}else if(code>=0x0080&&code<=0x07ff){len+=2;}else if(code>=0x0800&&code<=0xffff){len+=3;}}return len;}},{key:'formatResultItems',value:function formatResultItems(data){var items=[];var length=data.length>5?5:data.length;for(var i=0;i<length;i++){items[i]={};items[i]['index']=[i];items[i]['name']=data[i].name;items[i]['path']=data[i].fullpath;items[i]['repo_id']=data[i].repo_id;items[i]['repo_name']=data[i].repo_name;items[i]['is_dir']=data[i].is_dir;items[i]['link_content']=decodeURI(data[i].fullpath).substring(1);items[i]['content']=data[i].content_highlight;}return items;}},{key:'resetToDefault',value:function resetToDefault(){this.inputValue=null;this.setState({width:'',value:'',isMaskShow:false,isCloseShow:false,isResultShow:false,isResultGetted:false,resultItems:[],isSearchInputShow:false});}},{key:'renderSearchResult',value:function renderSearchResult(){var _this=this;if(!this.state.isResultShow){return;}if(!this.state.isResultGetted||this.getValueLength(this.inputValue)<3){return _react2.default.createElement('span',{className:'loading-icon loading-tip'});}if(!this.state.resultItems.length){return _react2.default.createElement('div',{className:'search-result-none'},(0,_constants.gettext)('No results matching.'));}var isShowMore=this.state.resultItems.length>=5?true:false;return _react2.default.createElement('ul',{className:'search-result-list'},this.state.resultItems.map(function(item){return _react2.default.createElement(_searchResultItem2.default,{key:item.index,item:item,onItemClickHandler:_this.onItemClickHandler});}),isShowMore&&_react2.default.createElement(_more2.default,{onShowMore:this.onShowMore}));}},{key:'render',value:function render(){var width=this.state.width!=='default'?this.state.width:'';var style={'width':width};return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactResponsive2.default,{query:'(min-width: 768px)'},_react2.default.createElement('div',{className:'search'},_react2.default.createElement('div',{className:'search-mask '+(this.state.isMaskShow?'':'hide'),onClick:this.onCloseHandler}),_react2.default.createElement('div',{className:'search-container'},_react2.default.createElement('div',{className:'input-icon'},_react2.default.createElement('i',{className:'search-icon-left input-icon-addon fas fa-search'}),_react2.default.createElement('input',{type:'text',className:'form-control search-input',name:'query',placeholder:this.props.placeholder,style:style,value:this.state.value,onFocus:this.onFocusHandler,onChange:this.onChangeHandler,autoComplete:'off'}),this.state.isCloseShow&&_react2.default.createElement('i',{className:'search-icon-right input-icon-addon fas fa-times',onClick:this.onCloseHandler})),_react2.default.createElement('div',{className:'search-result-container'},this.renderSearchResult())))),_react2.default.createElement(_reactResponsive2.default,{query:'(max-width: 768px)'},_react2.default.createElement('div',{className:'search-icon-container'},_react2.default.createElement('i',{className:'search-icon fas fa-search',onClick:this.onSearchToggle})),this.state.isSearchInputShow&&_react2.default.createElement('div',{className:'search'},_react2.default.createElement('div',{className:'search-mask '+(this.state.isMaskShow?'':'hide'),onClick:this.onCloseHandler}),_react2.default.createElement('div',{className:'search-container'},_react2.default.createElement('div',{className:'input-icon'},_react2.default.createElement('i',{className:'search-icon-left input-icon-addon fas fa-search'}),_react2.default.createElement('input',{type:'text',className:'form-control search-input',name:'query',placeholder:this.props.placeholder,style:style,value:this.state.value,onFocus:this.onFocusHandler,onChange:this.onChangeHandler,autoComplete:'off'}),this.state.isCloseShow&&_react2.default.createElement('i',{className:'search-icon-right input-icon-addon fas fa-times',onClick:this.onCloseHandler})),_react2.default.createElement('div',{className:'search-result-container'},this.renderSearchResult())))));}}]);return Search;}(_react.Component);Search.propTypes=propTypes;exports.default=Search;\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={item:_propTypes2.default.object.isRequired,onItemClickHandler:_propTypes2.default.func.isRequired};var SearchResultItem=function(_React$Component){_inherits(SearchResultItem,_React$Component);function SearchResultItem(){var _ref;var _temp,_this,_ret;_classCallCheck(this,SearchResultItem);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=SearchResultItem.__proto__||Object.getPrototypeOf(SearchResultItem)).call.apply(_ref,[this].concat(args))),_this),_this.onClickHandler=function(){var item=_this.props.item;_this.props.onItemClickHandler(item);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(SearchResultItem,[{key:'render',value:function render(){var item=this.props.item;var fileIconUrl=item.is_dir?_utils.Utils.getFolderIconUrl(false,192):_utils.Utils.getFileIconUrl(item.name,192);return _react2.default.createElement('li',{className:'search-result-item',onClick:this.onClickHandler},_react2.default.createElement('img',{className:'item-img',src:fileIconUrl,alt:''}),_react2.default.createElement('div',{className:'item-content'},_react2.default.createElement('div',{className:'item-name ellipsis'},item.name),_react2.default.createElement('div',{className:'item-link ellipsis'},item.repo_name,'/',item.link_content),_react2.default.createElement('div',{className:'item-text ellipsis',dangerouslySetInnerHTML:{__html:item.content}})));}}]);return SearchResultItem;}(_react2.default.Component);SearchResultItem.propTypes=propTypes;exports.default=SearchResultItem;\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onShowMore:_propTypes2.default.func.isRequired};var More=function(_React$Component){_inherits(More,_React$Component);function More(){_classCallCheck(this,More);return _possibleConstructorReturn(this,(More.__proto__||Object.getPrototypeOf(More)).apply(this,arguments));}_createClass(More,[{key:'render',value:function render(){return _react2.default.createElement('li',{className:'list-show-more',onClick:this.props.onShowMore},_react2.default.createElement('span',{className:'more-message'},(0,_constants.gettext)('show more')));}}]);return More;}(_react2.default.Component);More.propTypes=propTypes;exports.default=More;\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  __webpack_require__(33).enable();\n  window.Promise = __webpack_require__(34);\n}\n\n// fetch() polyfill for making API calls.\n__webpack_require__(28);\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = __webpack_require__(20);\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\nif (false) {\n  require('raf').polyfill(global);\n}\n\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _noticeItem=__webpack_require__(121);var _noticeItem2=_interopRequireDefault(_noticeItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Notification=function(_React$Component){_inherits(Notification,_React$Component);function Notification(props){_classCallCheck(this,Notification);var _this=_possibleConstructorReturn(this,(Notification.__proto__||Object.getPrototypeOf(Notification)).call(this,props));_this.onClick=function(){if(_this.state.showNotice){_seafileApi.seafileAPI.updateNotifications();_this.setState({showNotice:false,unseenCount:0});}else{_this.loadNotices();_this.setState({showNotice:true});}};_this.loadNotices=function(){var page=1;var perPage=5;_seafileApi.seafileAPI.listPopupNotices(page,perPage).then(function(res){var noticeList=res.data.notification_list;_this.setState({noticeList:noticeList});});};_this.onNoticeItemClick=function(noticeItem){var noticeList=_this.state.noticeList.map(function(item){if(item.id===noticeItem.id){item.seen=true;}return item;});_seafileApi.seafileAPI.markNoticeAsRead(noticeItem.id);var unseenCount=_this.state.unseenCount===0?0:_this.state.unseenCount-1;_this.setState({noticeList:noticeList,unseenCount:unseenCount});};_this.state={showNotice:false,unseenCount:0,noticeList:[]};return _this;}_createClass(Notification,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.getUnseenNotificationCount().then(function(res){_this2.setState({unseenCount:res.data.unseen_count});});}},{key:'render',value:function render(){var _this3=this;return _react2.default.createElement('div',{id:'notifications'},_react2.default.createElement('a',{href:'#',onClick:this.onClick,className:'no-deco',id:'notice-icon',title:'Notifications','aria-label':'Notifications'},_react2.default.createElement('span',{className:'sf2-icon-bell'}),_react2.default.createElement('span',{className:'num '+(this.state.unseenCount?'':'hide')},this.state.unseenCount)),_react2.default.createElement('div',{id:'notice-popover',className:'sf-popover '+(this.state.showNotice?'':'hide')},_react2.default.createElement('div',{className:'outer-caret up-outer-caret'},_react2.default.createElement('div',{className:'inner-caret'})),_react2.default.createElement('div',{className:'sf-popover-hd ovhd'},_react2.default.createElement('h3',{className:'sf-popover-title title'},(0,_constants.gettext)('Notifications')),_react2.default.createElement('a',{href:'#',onClick:this.onClick,title:(0,_constants.gettext)('Close'),'aria-label':(0,_constants.gettext)('Close'),className:'sf-popover-close js-close sf2-icon-x1 action-icon float-right'})),_react2.default.createElement('div',{className:'sf-popover-con'},_react2.default.createElement('ul',{className:'notice-list'},this.state.noticeList.map(function(item){return _react2.default.createElement(_noticeItem2.default,{key:item.id,noticeItem:item,onNoticeItemClick:_this3.onNoticeItemClick});})),_react2.default.createElement('a',{href:_constants.siteRoot+'notification/list/',className:'view-all'},(0,_constants.gettext)('See All Notifications')))));}}]);return Notification;}(_react2.default.Component);exports.default=Notification;\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={noticeItem:_propTypes2.default.object.isRequired,onNoticeItemClick:_propTypes2.default.func.isRequired};var MSG_TYPE_ADD_USER_TO_GROUP='add_user_to_group';var MSG_TYPE_REPO_SHARE='repo_share';var MSG_TYPE_REPO_SHARE_TO_GROUP='repo_share_to_group';var MSG_TYPE_REPO_TRANSFER='repo_transfer';var MSG_TYPE_FILE_UPLOADED='file_uploaded';var MSG_TYPE_FILE_COMMENT='file_comment';var MSG_TYPE_DRAFT_COMMENT='draft_comment';var MSG_TYPE_DRAFT_REVIEWER='draft_reviewer';var MSG_TYPE_GUEST_INVITATION_ACCEPTED='guest_invitation_accepted';var NoticeItem=function(_React$Component){_inherits(NoticeItem,_React$Component);function NoticeItem(){var _ref;var _temp,_this,_ret;_classCallCheck(this,NoticeItem);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=NoticeItem.__proto__||Object.getPrototypeOf(NoticeItem)).call.apply(_ref,[this].concat(args))),_this),_this.onNoticeItemClick=function(){var item=_this.props.noticeItem;if(item.seen===true){return;}_this.props.onNoticeItemClick(item);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(NoticeItem,[{key:'generatorNoticeInfo',value:function generatorNoticeInfo(){var noticeItem=this.props.noticeItem;var noticeType=noticeItem.type;var detail=noticeItem.detail;if(noticeType===MSG_TYPE_ADD_USER_TO_GROUP){var avatar_url=detail.group_staff_avatar_url;var groupStaff=detail.group_staff_name;var userHref=_constants.siteRoot+'profile/'+detail.group_staff_email+'/';var groupHref=_constants.siteRoot+'group/'+detail.group_id+'/';var groupName=detail.group_name;var notice=(0,_constants.gettext)('User {user_link} has added you to {group_link}');var userLink='<a href='+userHref+'>'+groupStaff+'</a>';var groupLink='<a href='+groupHref+'>'+groupName+'</a>';notice=notice.replace('{user_link}',userLink);notice=notice.replace('{group_link}',groupLink);return{avatar_url:avatar_url,notice:notice};}if(noticeType===MSG_TYPE_REPO_SHARE){var _avatar_url=detail.share_from_user_avatar_url;var shareFrom=detail.share_from_user_name;var repoName=detail.repo_name;var repoUrl=_constants.siteRoot+'library/'+detail.repo_id+'/'+repoName+'/';var path=detail.path;var _notice='';var repoLink='<a href='+repoUrl+'>'+repoName+'</a>';if(path==='/'){// share repo\n_notice=(0,_constants.gettext)('{share_from} has shared a library named {repo_link} to you.');}else{// share folder\n_notice=(0,_constants.gettext)('{share_from} has shared a folder named {repo_link} to you.');}_notice=_notice.replace('{share_from}',shareFrom);_notice=_notice.replace('{repo_link}',repoLink);return{avatar_url:_avatar_url,notice:_notice};}if(noticeType===MSG_TYPE_REPO_SHARE_TO_GROUP){var _avatar_url2=detail.share_from_user_avatar_url;var _shareFrom=detail.share_from_user_name;var _repoName=detail.repo_name;var _repoUrl=_constants.siteRoot+'library/'+detail.repo_id+'/'+_repoName+'/';var groupUrl=_constants.siteRoot+'group/'+detail.group_id+'/';var _groupName=detail.group_name;var _path=detail.path;var _notice2='';var _repoLink='<a href='+_repoUrl+'>'+_repoName+'</a>';var _groupLink='<a href='+groupUrl+'>'+_groupName+'</a>';if(_path==='/'){_notice2=(0,_constants.gettext)('{share_from} has shared a library named {repo_link} to group {group_link}.');}else{_notice2=(0,_constants.gettext)('{share_from} has shared a folder named {repo_link} to group {group_link}.');}_notice2=_notice2.replace('{share_from}',_shareFrom);_notice2=_notice2.replace('{repo_link}',_repoLink);_notice2=_notice2.replace('{group_link}',_groupLink);return{avatar_url:_avatar_url2,notice:_notice2};}if(noticeType===MSG_TYPE_REPO_TRANSFER){var _avatar_url3=detail.transfer_from_user_avatar_url;var repoOwner=detail.transfer_from_user_name;var _repoName2=detail.repo_name;var _repoUrl2=_constants.siteRoot+'library/'+detail.repo_id+'/'+_repoName2+'/';var _notice3=(0,_constants.gettext)('{user} has transfered a library named {repo_link} to you.');var _repoLink2='<a href='+_repoUrl2+'>'+_repoName2+'</a>';_notice3=_notice3.replace('{user}',repoOwner);_notice3=_notice3.replace('{repo_link}',_repoLink2);return{avatar_url:_avatar_url3,notice:_notice3};}if(noticeType===MSG_TYPE_FILE_UPLOADED){var _avatar_url4=detail.uploaded_user_avatar_url;var fileName=detail.file_name;var fileLink=_constants.siteRoot+'lib/'+detail.repo_id+'/'+'file'+_utils.Utils.encodePath(detail.file_path);var folderName=detail.folder_name;var folderLink=_constants.siteRoot+'library/'+detail.repo_id+'/'+detail.repo_name+_utils.Utils.encodePath(detail.folder_path);var _notice4='';if(detail.repo_id){// todo is repo exist ?\nvar uploadFileLink='<a href='+fileLink+'>'+fileName+'</a>';var uploadedLink='<a href='+folderLink+'>'+folderName+'</a>';_notice4=(0,_constants.gettext)('A file named {upload_file_link} is uploaded to {uploaded_link}.');_notice4=_notice4.replace('{upload_file_link}',uploadFileLink);_notice4=_notice4.replace('{uploaded_link}',uploadedLink);}else{_notice4=(0,_constants.gettext)('A file named {upload_file_link} is uploaded to {uploaded_link}.');_notice4=_notice4.replace('{upload_file_link}',fileName);_notice4=_notice4.replace('{uploaded_link}','<strong>Deleted Library</strong>');}return{avatar_url:_avatar_url4,notice:_notice4};}if(noticeType===MSG_TYPE_FILE_COMMENT){var _avatar_url5=detail.author_avatar_url;var author=detail.author_name;var _fileName=detail.file_name;var fileUrl=_constants.siteRoot+'lib/'+detail.repo_id+'/'+'file'+detail.file_path;var _notice5=(0,_constants.gettext)('File {file_link} has a new comment form user {author}.');var _fileLink='<a href='+fileUrl+'>'+_fileName+'</a>';_notice5=_notice5.replace('{file_link}',_fileLink);_notice5=_notice5.replace('{author}',author);return{avatar_url:_avatar_url5,notice:_notice5};}if(noticeType===MSG_TYPE_DRAFT_COMMENT){var _avatar_url6=detail.author_avatar_url;var _author=detail.author_name;var draftId=detail.draft_id;var draftUrl=_constants.siteRoot+'drafts/'+draftId+'/';var _notice6=(0,_constants.gettext)('{draft_link} has a new comment from user {author}.');var draftLink='<a href='+draftUrl+'>'+(0,_constants.gettext)('Draft')+'#'+draftId+'</a>';_notice6=_notice6.replace('{draft_link}',draftLink);_notice6=_notice6.replace('{author}',_author);return{avatar_url:_avatar_url6,notice:_notice6};}if(noticeType===MSG_TYPE_DRAFT_REVIEWER){var _avatar_url7=detail.request_user_avatat_url;var fromUser=detail.request_user_name;var _draftId=detail.draft_id;var _draftUrl=_constants.siteRoot+'drafts/'+_draftId+'/';var _notice7=(0,_constants.gettext)('{from_user} has sent you a request for {draft_link}.');var _draftLink='<a href='+_draftUrl+'>'+(0,_constants.gettext)('Draft')+'#'+_draftId+'</a>';_notice7=_notice7.replace('{from_user}',fromUser);_notice7=_notice7.replace('{draft_link}',_draftLink);return{avatar_url:_avatar_url7,notice:_notice7};}// if (noticeType === MSG_TYPE_GUEST_INVITATION_ACCEPTED) {\n// }\nreturn{avatar_url:null,notice:null};}},{key:'render',value:function render(){var noticeItem=this.props.noticeItem;var _generatorNoticeInfo=this.generatorNoticeInfo(),avatar_url=_generatorNoticeInfo.avatar_url,notice=_generatorNoticeInfo.notice;if(!avatar_url&&!notice){return'';}return _react2.default.createElement('li',{onClick:this.onNoticeItemClick,className:noticeItem.seen?'read':'unread'},_react2.default.createElement('div',{className:'notice-item'},_react2.default.createElement('div',{className:'main-info'},_react2.default.createElement('img',{src:avatar_url,width:'32',height:'32',className:'avatar'}),_react2.default.createElement('p',{className:'brief',dangerouslySetInnerHTML:{__html:notice}})),_react2.default.createElement('p',{className:'time'},(0,_moment2.default)(noticeItem.timestamp).fromNow())));}}]);return NoticeItem;}(_react2.default.Component);NoticeItem.propTypes=propTypes;exports.default=NoticeItem;\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={fileType:_propTypes2.default.string,parentPath:_propTypes2.default.string.isRequired,onAddFile:_propTypes2.default.func.isRequired,checkDuplicatedName:_propTypes2.default.func.isRequired,addFileCancel:_propTypes2.default.func.isRequired};var CreateFile=function(_React$Component){_inherits(CreateFile,_React$Component);function CreateFile(props){_classCallCheck(this,CreateFile);var _this=_possibleConstructorReturn(this,(CreateFile.__proto__||Object.getPrototypeOf(CreateFile)).call(this,props));_this.handleChange=function(e){_this.setState({childName:e.target.value});};_this.handleSubmit=function(){var isDuplicated=_this.checkDuplicatedName();var newName=_this.state.childName;if(isDuplicated){var errMessage=(0,_constants.gettext)('The name \"{name}\" is already taken. Please choose a different name.');errMessage=errMessage.replace('{name}',_utils.Utils.HTMLescape(newName));_this.setState({errMessage:errMessage});}else{var path=_this.state.parentPath+newName;var isDraft=_this.state.isDraft;_this.props.onAddFile(path,isDraft);}};_this.handleKeyPress=function(e){if(e.key==='Enter'){_this.handleSubmit();e.preventDefault();}};_this.handleCheck=function(){var pos=_this.state.childName.lastIndexOf('.');if(_this.state.isDraft){// from draft to not draft\n// case 1, normally, the file name is ended with `(draft)`, like `test(draft).md`\n// case 2, the file name is not ended with `(draft)`, the user has deleted some characters, like `test(dra.md`\nvar p=_this.state.childName.substring(pos-7,pos);var fileName=_this.state.childName.substring(0,pos-7);var fileType=_this.state.childName.substring(pos);if(p==='(draft)'){// remove `(draft)` from file name\n_this.setState({childName:fileName+fileType,isDraft:!_this.state.isDraft});}else{// don't change file name\n_this.setState({isDraft:!_this.state.isDraft});}}if(!_this.state.isDraft){// from not draft to draft\n// case 1, test.md  ===> test(draft).md\n// case 2, .md ===> (draft).md\n// case 3, no '.' in the file name, don't change the file name\nif(pos>0){var _fileName=_this.state.childName.substring(0,pos);var _fileType=_this.state.childName.substring(pos);_this.setState({childName:_fileName+'(draft)'+_fileType,isDraft:!_this.state.isDraft});}else if(pos===0){_this.setState({childName:'(draft)'+_this.state.childName,isDraft:!_this.state.isdraft});}else{_this.setState({isDraft:!_this.state.isdraft});}}};_this.toggle=function(){_this.props.addFileCancel();};_this.checkDuplicatedName=function(){var isDuplicated=_this.props.checkDuplicatedName(_this.state.childName);return isDuplicated;};_this.state={parentPath:'',childName:props.fileType,isDraft:false,errMessage:''};_this.newInput=_react2.default.createRef();return _this;}_createClass(CreateFile,[{key:'componentDidMount',value:function componentDidMount(){var parentPath=this.props.parentPath;if(parentPath[parentPath.length-1]==='/'){// mainPanel\nthis.setState({parentPath:parentPath});}else{this.setState({parentPath:parentPath+'/'});// sidePanel\n}this.newInput.focus();this.newInput.setSelectionRange(0,0);}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('New File')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement(_reactstrap.Form,null,_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement(_reactstrap.Label,{'for':'fileName'},(0,_constants.gettext)('Name')),_react2.default.createElement(_reactstrap.Input,{id:'fileName',onKeyPress:this.handleKeyPress,innerRef:function innerRef(input){_this2.newInput=input;},value:this.state.childName,onChange:this.handleChange})),this.props.fileType=='.md'&&_constants.isDocs&&_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'checkbox',onChange:this.handleCheck}),'  ',(0,_constants.gettext)('This is a draft')))),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',className:'mt-2'},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return CreateFile;}(_react2.default.Component);CreateFile.propTypes=propTypes;exports.default=CreateFile;\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var URLDecorator=function(){function URLDecorator(){_classCallCheck(this,URLDecorator);}_createClass(URLDecorator,null,[{key:'getUrl',value:function getUrl(options){var url='';var params='';switch(options.type){case'download_historic_file':params='p='+options.filePath;url=_constants.siteRoot+'repo/'+_constants.historyRepoID+'/'+options.objID+'/download?'+params;break;case'download_dir_zip_url':url=_constants.fileServerRoot+'zip/'+options.token;break;case'download_file_url':url=_constants.siteRoot+'lib/'+options.repoID+'/file'+_utils.Utils.encodePath(options.filePath)+'?dl=1';break;case'file_revisions':params='p='+_utils.Utils.encodePath(options.filePath);url=_constants.siteRoot+'repo/file_revisions/'+options.repoID+'/?'+params;break;case'open_via_client':url='seafile://openfile?repo_id='+options.repoID+'&path='+_utils.Utils.encodePath(options.filePath);break;case'draft_view':url=_constants.siteRoot+'lib/'+options.repoID+'/file'+options.filePath+'?mode=edit&draft_id='+options.draftId;break;default:url='';break;}return url;}}]);return URLDecorator;}();exports.default=URLDecorator;\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var strChineseFirstPY=exports.strChineseFirstPY=\"YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY\";\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 14:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _utils=__webpack_require__(4);var _fileTag=__webpack_require__(24);var _fileTag2=_interopRequireDefault(_fileTag);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Dirent=function(){function Dirent(json){_classCallCheck(this,Dirent);this.id=json.id||'0000000000000000';this.name=json.name;this.type=json.type;this.mtime=json.mtime;this.mtime_relative=_moment2.default.unix(json.mtime).fromNow();this.permission=json.permission||'rw';this.isSelected=false;// is check or not\nthis.starred=json.starred||false;if(json.type==='file'){this.size=_utils.Utils.bytesToSize(json.size);this.is_locked=json.is_locked||false;this.lock_time=json.lock_time||'';this.lock_owner=json.lock_owner||null;this.lock_owner_name=json.lock_owner_name||null;this.locked_by_me=json.locked_by_me||false;this.modifier_name=json.modifier_name||'';this.modifier_email=json.modifier_email||'';this.modifier_contact_email=json.modifier_contact_email||'';var file_tags=[];if(json.file_tags){file_tags=json.file_tags.map(function(item){return new _fileTag2.default(item);});}this.file_tags=file_tags;if(json.encoded_thumbnail_src){this.encoded_thumbnail_src=json.encoded_thumbnail_src;}}}_createClass(Dirent,[{key:'clone',value:function clone(){return new Dirent(this);}},{key:'isDir',value:function isDir(){return this.type!=='file';}}]);return Dirent;}();exports.default=Dirent;\n\n/***/ }),\n\n/***/ 141:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _fileChooser=__webpack_require__(30);var _fileChooser2=_interopRequireDefault(_fileChooser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,dirent:_propTypes2.default.object,selectedDirentList:_propTypes2.default.array,isMutipleOperation:_propTypes2.default.bool.isRequired,onItemMove:_propTypes2.default.func,onItemsMove:_propTypes2.default.func,onCancelMove:_propTypes2.default.func.isRequired,repoEncrypted:_propTypes2.default.bool.isRequired};// need dirent file Path\nvar MoveDirent=function(_React$Component){_inherits(MoveDirent,_React$Component);function MoveDirent(props){_classCallCheck(this,MoveDirent);var _this=_possibleConstructorReturn(this,(MoveDirent.__proto__||Object.getPrototypeOf(MoveDirent)).call(this,props));_this.handleSubmit=function(){if(_this.props.isMutipleOperation){_this.moveItems();}else{_this.moveItem();}};_this.moveItems=function(){var repoID=_this.props.repoID;var _this$state=_this.state,repo=_this$state.repo,selectedPath=_this$state.selectedPath;var message=(0,_constants.gettext)('Invalid destination path');if(!repo||selectedPath===''){_this.setState({errMessage:message});return;}var selectedDirentList=_this.props.selectedDirentList;var direntPaths=[];selectedDirentList.forEach(function(dirent){var path=_utils.Utils.joinPath(_this.props.path,dirent.name);direntPaths.push(path);});// move dirents to one of them. eg: A/B, A/C -> A/B\nif(direntPaths.some(function(direntPath){return direntPath===selectedPath;})){_this.setState({errMessage:message});return;}// move dirents to current path\nif(selectedPath&&selectedPath===_this.props.path&&repo.repo_id===repoID){_this.setState({errMessage:message});return;}// move dirents to one of their child. eg: A/B, A/D -> A/B/C\nvar moveDirentPath='';var isChildPath=direntPaths.some(function(direntPath){var flag=selectedPath.length>direntPath.length&&selectedPath.indexOf(direntPath)>-1;if(flag){moveDirentPath=direntPath;}return flag;});if(isChildPath){message=(0,_constants.gettext)('Can not move directory %(src)s to its subdirectory %(des)s');message=message.replace('%(src)s',moveDirentPath);message=message.replace('%(des)s',selectedPath);_this.setState({errMessage:message});return;}_this.props.onItemsMove(repo,selectedPath);_this.toggle();};_this.moveItem=function(){var _this$state2=_this.state,repo=_this$state2.repo,repoID=_this$state2.repoID,selectedPath=_this$state2.selectedPath;var direntPath=_utils.Utils.joinPath(_this.props.path,_this.props.dirent.name);var message=(0,_constants.gettext)('Invalid destination path');if(!repo||repo.repo_id===repoID&&selectedPath===''){_this.setState({errMessage:message});return;}// copy the dirent to itself. eg: A/B -> A/B\nif(selectedPath&&direntPath===selectedPath){_this.setState({errMessage:message});return;}// copy the dirent to current path\nif(selectedPath&&_this.props.path===selectedPath&&repo.repo_id===repoID){_this.setState({errMessage:message});return;}// copy the dirent to it's child. eg: A/B -> A/B/C\nif(selectedPath&&selectedPath.length>direntPath.length&&selectedPath.indexOf(direntPath)>-1){message=(0,_constants.gettext)('Can not move directory %(src)s to its subdirectory %(des)s');message=message.replace('%(src)s',direntPath);message=message.replace('%(des)s',selectedPath);_this.setState({errMessage:message});return;}_this.props.onItemMove(repo,_this.props.dirent,selectedPath,_this.props.path);_this.toggle();};_this.toggle=function(){_this.props.onCancelMove();};_this.onDirentItemClick=function(repo,selectedPath){_this.setState({repo:repo,selectedPath:selectedPath,errMessage:''});};_this.onRepoItemClick=function(repo){_this.setState({repo:repo,selectedPath:'/',errMessage:''});};_this.state={repo:null,selectedPath:'',errMessage:''};return _this;}_createClass(MoveDirent,[{key:'shouldComponentUpdate',value:function shouldComponentUpdate(nextProps,nextState){if(this.state.errMessage===nextState.errMessage){return false;}return true;}},{key:'render',value:function render(){var title=(0,_constants.gettext)('Move {placeholder} to:');if(!this.props.isMutipleOperation){title=title.replace('{placeholder}','<span class=\"op-target\">'+_utils.Utils.HTMLescape(this.props.dirent.name)+'</span>');}else{title=(0,_constants.gettext)('Move selected item(s) to:');}var mode=this.props.repoEncrypted?'only_current_library':'current_repo_and_other_repos';return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},_react2.default.createElement('div',{dangerouslySetInnerHTML:{__html:title}})),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement(_fileChooser2.default,{repoID:this.props.repoID,onDirentItemClick:this.onDirentItemClick,onRepoItemClick:this.onRepoItemClick,mode:mode}),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',style:{margin:'0.5rem'}},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return MoveDirent;}(_react2.default.Component);MoveDirent.propTypes=propTypes;exports.default=MoveDirent;\n\n/***/ }),\n\n/***/ 142:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _fileChooser=__webpack_require__(30);var _fileChooser2=_interopRequireDefault(_fileChooser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,dirent:_propTypes2.default.object,selectedDirentList:_propTypes2.default.array,isMutipleOperation:_propTypes2.default.bool.isRequired,onItemCopy:_propTypes2.default.func,onItemsCopy:_propTypes2.default.func,onCancelCopy:_propTypes2.default.func.isRequired,repoEncrypted:_propTypes2.default.bool.isRequired};// need dirent file Path\nvar CopyDirent=function(_React$Component){_inherits(CopyDirent,_React$Component);function CopyDirent(props){_classCallCheck(this,CopyDirent);var _this=_possibleConstructorReturn(this,(CopyDirent.__proto__||Object.getPrototypeOf(CopyDirent)).call(this,props));_this.handleSubmit=function(){if(_this.props.isMutipleOperation){_this.copyItems();}else{_this.copyItem();}};_this.copyItems=function(){var repoID=_this.props.repoID;var _this$state=_this.state,repo=_this$state.repo,selectedPath=_this$state.selectedPath;var message=(0,_constants.gettext)('Invalid destination path');if(!repo||selectedPath===''){_this.setState({errMessage:message});return;}var selectedDirentList=_this.props.selectedDirentList;var direntPaths=[];selectedDirentList.forEach(function(dirent){var path=_utils.Utils.joinPath(_this.props.path,dirent.name);direntPaths.push(path);});// copy dirents to one of them. eg: A/B, A/C -> A/B\nif(direntPaths.some(function(direntPath){return direntPath===selectedPath;})){_this.setState({errMessage:message});return;}// copy dirents to current path\nif(selectedPath&&selectedPath===_this.props.path&&repo.repo_id===repoID){_this.setState({errMessage:message});return;}// copy dirents to one of their child. eg: A/B, A/D -> A/B/C\nvar copyDirentPath='';var isChildPath=direntPaths.some(function(direntPath){var flag=selectedPath.length>direntPath.length&&selectedPath.indexOf(direntPath)>-1;if(flag){copyDirentPath=direntPath;}return flag;});if(isChildPath){message=(0,_constants.gettext)('Can not move directory %(src)s to its subdirectory %(des)s');message=message.replace('%(src)s',copyDirentPath);message=message.replace('%(des)s',selectedPath);_this.setState({errMessage:message});return;}_this.props.onItemsCopy(repo,selectedPath);_this.toggle();};_this.copyItem=function(){var _this$state2=_this.state,repo=_this$state2.repo,repoID=_this$state2.repoID,selectedPath=_this$state2.selectedPath;var direntPath=_utils.Utils.joinPath(_this.props.path,_this.props.dirent.name);var message='Invalid destination path';if(!repo||repo.repo_id===repoID&&selectedPath===''){_this.setState({errMessage:message});return;}// copy the dirent to itself. eg: A/B -> A/B\nif(selectedPath&&direntPath===selectedPath){_this.setState({errMessage:message});return;}// copy the dirent to current path\nif(selectedPath&&_this.props.path===selectedPath&&repo.repo_id===repoID){_this.setState({errMessage:message});return;}// copy the dirent to it's child. eg: A/B -> A/B/C\nif(selectedPath&&selectedPath.length>direntPath.length&&selectedPath.indexOf(direntPath)>-1){message=(0,_constants.gettext)('Can not copy directory %(src)s to its subdirectory %(des)s');message=message.replace('%(src)s',direntPath);message=message.replace('%(des)s',selectedPath);_this.setState({errMessage:message});return;}_this.props.onItemCopy(repo,_this.props.dirent,selectedPath,_this.props.path);_this.toggle();};_this.toggle=function(){_this.props.onCancelCopy();};_this.onDirentItemClick=function(repo,selectedPath){_this.setState({repo:repo,selectedPath:selectedPath,errMessage:''});};_this.onRepoItemClick=function(repo){_this.setState({repo:repo,selectedPath:'/',errMessage:''});};_this.state={repo:null,selectedPath:'',errMessage:''};return _this;}_createClass(CopyDirent,[{key:'shouldComponentUpdate',value:function shouldComponentUpdate(nextProps,nextState){if(this.state.errMessage===nextState.errMessage){return false;}return true;}},{key:'render',value:function render(){var title=(0,_constants.gettext)('Copy {placeholder} to:');if(!this.props.isMutipleOperation){title=title.replace('{placeholder}','<span class=\"op-target\">'+_utils.Utils.HTMLescape(this.props.dirent.name)+'</span>');}else{title=(0,_constants.gettext)('Copy selected item(s) to:');}var mode=this.props.repoEncrypted?'only_current_library':'current_repo_and_other_repos';return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},_react2.default.createElement('div',{dangerouslySetInnerHTML:{__html:title}})),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement(_fileChooser2.default,{repoID:this.props.repoID,onDirentItemClick:this.onDirentItemClick,onRepoItemClick:this.onRepoItemClick,mode:mode}),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',style:{margin:'0.5rem'}},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return CopyDirent;}(_react2.default.Component);CopyDirent.propTypes=propTypes;exports.default=CopyDirent;\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={hasSuffix:_propTypes2.default.bool,name:_propTypes2.default.string.isRequired,onRenameConfirm:_propTypes2.default.func.isRequired,onRenameCancel:_propTypes2.default.func.isRequired};var Rename=function(_React$Component){_inherits(Rename,_React$Component);function Rename(props){_classCallCheck(this,Rename);var _this=_possibleConstructorReturn(this,(Rename.__proto__||Object.getPrototypeOf(Rename)).call(this,props));_this.onChange=function(e){_this.setState({name:e.target.value});};_this.onClick=function(e){e.nativeEvent.stopImmediatePropagation();};_this.onKeyPress=function(e){if(e.key==='Enter'){_this.onRenameConfirm(e);}};_this.onRenameConfirm=function(e){e.nativeEvent.stopImmediatePropagation();var newName=_this.state.name.trim();if(newName===_this.props.name){_this.props.onRenameCancel();return;}var _this$validateInput=_this.validateInput(),isValid=_this$validateInput.isValid,errMessage=_this$validateInput.errMessage;if(!isValid){_toast2.default.danger(errMessage);}else{_this.props.onRenameConfirm(newName);}};_this.onRenameCancel=function(e){e.nativeEvent.stopImmediatePropagation();_this.props.onRenameCancel();};_this.validateInput=function(){var newName=_this.state.name.trim();var isValid=true;var errMessage='';if(!newName){isValid=false;errMessage=(0,_constants.gettext)('Name is required.');return{isValid:isValid,errMessage:errMessage};}if(newName.indexOf('/')>-1){isValid=false;errMessage=(0,_constants.gettext)('Name should not include '+'\\'/\\''+'.');return{isValid:isValid,errMessage:errMessage};}return{isValid:isValid,errMessage:errMessage};};_this.state={name:props.name};return _this;}_createClass(Rename,[{key:'componentDidMount',value:function componentDidMount(){this.refs.renameInput.focus();if(this.props.hasSuffix){var endIndex=this.props.name.lastIndexOf('.');this.refs.renameInput.setSelectionRange(0,endIndex,'forward');}else{this.refs.renameInput.setSelectionRange(0,-1);}}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'rename-container'},_react2.default.createElement('input',{ref:'renameInput',value:this.state.name,onChange:this.onChange,onKeyPress:this.onKeyPress,onClick:this.onClick}),_react2.default.createElement('button',{className:'btn btn-secondary sf2-icon-confirm confirm',onClick:this.onRenameConfirm}),_react2.default.createElement('button',{className:'btn btn-secondary sf2-icon-cancel cancel',onClick:this.onRenameCancel}));}}]);return Rename;}(_react2.default.Component);Rename.propTypes=propTypes;exports.default=Rename;\n\n/***/ }),\n\n/***/ 15:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(8);var _reactDom2=_interopRequireDefault(_reactDom);var _toastManager=__webpack_require__(16);var _toastManager2=_interopRequireDefault(_toastManager);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var isBrowser=typeof window!=='undefined'&&typeof window.document!=='undefined';/**\n * The Toaster manages the interactionsb between\n * the ToasterManger and the toast API.\n */var Toaster=function Toaster(){var _this=this;_classCallCheck(this,Toaster);this._bindNotify=function(handler){_this.notifyHandler=handler;};this._bindGetToasts=function(handler){_this.getToastsHandler=handler;};this._bindCloseAll=function(handler){_this.closeAllHandler=handler;};this.getToasts=function(){return _this.getToastsHandler();};this.closeAll=function(){return _this.closeAllHandler();};this.notify=function(title){var settings=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return _this.notifyHandler(title,_extends({},settings,{intent:'none'}));};this.success=function(title){var settings=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return _this.notifyHandler(title,_extends({},settings,{intent:'success'}));};this.warning=function(title){var settings=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return _this.notifyHandler(title,_extends({},settings,{intent:'warning'}));};this.danger=function(title){var settings=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return _this.notifyHandler(title,_extends({},settings,{intent:'danger'}));};if(!isBrowser)return;var container=document.createElement('div');container.setAttribute('data-evergreen-toaster-container','');document.body.appendChild(container);_reactDom2.default.render(_react2.default.createElement(_toastManager2.default,{bindNotify:this._bindNotify,bindGetToasts:this._bindGetToasts,bindCloseAll:this._bindCloseAll}),container);};exports.default=Toaster;\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _fileChooser=__webpack_require__(30);var _fileChooser2=_interopRequireDefault(_fileChooser);__webpack_require__(98);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,filePath:_propTypes2.default.string.isRequired,toggleCancel:_propTypes2.default.func.isRequired,onRelatedFileChange:_propTypes2.default.func.isRequired,dirent:_propTypes2.default.object.isRequired,onClose:_propTypes2.default.func};var AddRelatedFileDialog=function(_React$Component){_inherits(AddRelatedFileDialog,_React$Component);function AddRelatedFileDialog(props){_classCallCheck(this,AddRelatedFileDialog);var _this=_possibleConstructorReturn(this,(AddRelatedFileDialog.__proto__||Object.getPrototypeOf(AddRelatedFileDialog)).call(this,props));_this.handleSubmit=function(){_this.onAddRelatedFile();};_this.onAddRelatedFile=function(){var _this$state=_this.state,repo=_this$state.repo,selectedPath=_this$state.selectedPath;var oRepoID=_this.props.repoID;var rRepoID=repo.repo_id;var oFilePath=_this.props.filePath;var rFilePath=selectedPath;if(oRepoID===rRepoID&&oFilePath===rFilePath){var message=(0,_constants.gettext)('Can not select self as a related file.');_this.setState({errMessage:message});return;}_seafileApi.seafileAPI.addRelatedFile(oRepoID,rRepoID,oFilePath,rFilePath).then(function(res){_this.props.onRelatedFileChange();_this.toggle();}).catch(function(error){if(error.response){_this.setState({errMessage:error.response.data.error_msg});}});};_this.toggle=function(){_this.props.toggleCancel();};_this.onDirentItemClick=function(repo,selectedPath,dirent){if(dirent.type==='file'){_this.setState({repo:repo,selectedPath:selectedPath});}else{_this.setState({repo:null,selectedPath:''});}};_this.onRepoItemClick=function(repo){_this.setState({repo:null,selectedPath:''});};_this.state={repo:null,selectedPath:'',isShowFile:true,errMessage:''};return _this;}_createClass(AddRelatedFileDialog,[{key:'render',value:function render(){var subtitle=(0,_constants.gettext)('Select related file for {placeholder}');subtitle=subtitle.replace('{placeholder}','<span class=\"op-target\">'+_utils.Utils.HTMLescape(this.props.dirent.name)+'</span>');return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.onClose},_react2.default.createElement('span',{className:'tag-dialog-back fas fa-sm fa-arrow-left',onClick:this.toggle,'aria-label':(0,_constants.gettext)('Back')}),(0,_constants.gettext)('Select File')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('div',{className:'related-file-subtitle',dangerouslySetInnerHTML:{__html:subtitle}}),_react2.default.createElement(_fileChooser2.default,{isShowFile:this.state.isShowFile,repoID:this.props.repoID,onDirentItemClick:this.onDirentItemClick,onRepoItemClick:this.onRepoItemClick,mode:'current_repo_and_other_repos'}),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger'},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),this.state.selectedPath?_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit')):_react2.default.createElement(_reactstrap.Button,{color:'primary',disabled:true},(0,_constants.gettext)('Submit'))));}}]);return AddRelatedFileDialog;}(_react2.default.Component);AddRelatedFileDialog.propTypes=propTypes;exports.default=AddRelatedFileDialog;\n\n/***/ }),\n\n/***/ 16:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _glamor=__webpack_require__(9);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _toast=__webpack_require__(17);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var wrapperClass=(0,_glamor.css)({maxWidth:560,margin:'0 auto',top:0,left:0,right:0,position:'fixed',zIndex:999999});var hasCustomId=function hasCustomId(settings){return Object.hasOwnProperty.call(settings,'id');};var ToastManager=function(_React$PureComponent){_inherits(ToastManager,_React$PureComponent);function ToastManager(props,context){_classCallCheck(this,ToastManager);var _this=_possibleConstructorReturn(this,(ToastManager.__proto__||Object.getPrototypeOf(ToastManager)).call(this,props,context));_this.getToasts=function(){return _this.state.toasts;};_this.closeAll=function(){_this.getToasts().forEach(function(toast){return toast.close();});};_this.notify=function(title,settings){// If there's a custom toast ID passed, close existing toasts with the same custom ID\nif(hasCustomId(settings)){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=_this.state.toasts[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var toast=_step.value;// Since unique ID is still appended to a custom ID, skip the unique ID and check only prefix\nif(String(toast.id).startsWith(settings.id)){_this.closeToast(toast.id);}}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}}var instance=_this.createToastInstance(title,settings);_this.setState(function(previousState){return{toasts:[instance].concat(_toConsumableArray(previousState.toasts))};});return instance;};_this.createToastInstance=function(title,settings){var uniqueId=++ToastManager.idCounter;var id=hasCustomId(settings)?settings.id+'-'+uniqueId:uniqueId;return{id:id,title:title,description:settings.description,hasCloseButton:settings.hasCloseButton||true,duration:settings.duration||2,close:function close(){return _this.closeToast(id);},intent:settings.intent};};_this.closeToast=function(id){_this.setState(function(previousState){return{toasts:previousState.toasts.map(function(toast){if(toast.id===id){return _extends({},toast,{isShown:false});}return toast;})};});};_this.removeToast=function(id){_this.setState(function(previousState){return{toasts:previousState.toasts.filter(function(toast){return toast.id!==id;})};});};props.bindNotify(_this.notify);props.bindGetToasts(_this.getToasts);props.bindCloseAll(_this.closeAll);_this.state={toasts:[]};return _this;}/**\n   * This will set isShown on the Toast which will close the toast.\n   * It won't remove the toast until onExited triggers onRemove.\n   */_createClass(ToastManager,[{key:'render',value:function render(){var _this2=this;return _react2.default.createElement('span',{className:wrapperClass},this.state.toasts.map(function(_ref){var id=_ref.id,description=_ref.description,props=_objectWithoutProperties(_ref,['id','description']);return _react2.default.createElement(_toast2.default,_extends({key:id,onRemove:function onRemove(){return _this2.removeToast(id);}},props),description);}));}}]);return ToastManager;}(_react2.default.PureComponent);ToastManager.propTypes={/**\n     * Function called with the `this.notify` function.\n     */bindNotify:_propTypes2.default.func.isRequired,/**\n     * Function called with the `this.getToasts` function.\n     */bindGetToasts:_propTypes2.default.func.isRequired,/**\n     * Function called with the `this.closeAll` function.\n     */bindCloseAll:_propTypes2.default.func.isRequired};ToastManager.idCounter=0;exports.default=ToastManager;\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _dirent=__webpack_require__(14);var _dirent2=_interopRequireDefault(_dirent);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _seafileApi=__webpack_require__(3);__webpack_require__(161);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={relatedFiles:_propTypes2.default.array.isRequired,repoID:_propTypes2.default.string.isRequired,filePath:_propTypes2.default.string.isRequired,toggleCancel:_propTypes2.default.func.isRequired,addRelatedFileToggle:_propTypes2.default.func.isRequired,onRelatedFileChange:_propTypes2.default.func.isRequired};var ListRelatedFileDialog=function(_React$Component){_inherits(ListRelatedFileDialog,_React$Component);function ListRelatedFileDialog(props){_classCallCheck(this,ListRelatedFileDialog);var _this=_possibleConstructorReturn(this,(ListRelatedFileDialog.__proto__||Object.getPrototypeOf(ListRelatedFileDialog)).call(this,props));_this.onDeleteRelatedFile=function(item){var filePath=_this.props.filePath;var repoID=_this.props.repoID;var relatedID=item.related_id;_seafileApi.seafileAPI.deleteRelatedFile(repoID,filePath,relatedID).then(function(res){_this.props.onRelatedFileChange();});};_this.toggle=function(){_this.props.toggleCancel();};_this.getDirentList=function(relatedFiles){if(relatedFiles.length===0){_this.setState({direntList:[]});return;}var direntList=[];relatedFiles.map(function(item){_seafileApi.seafileAPI.getFileInfo(item.repo_id,item.path).then(function(res){var dirent=new _dirent2.default(res.data);dirent['repo_name']=item.repo_name;dirent['related_id']=item.related_id;dirent['link']=_constants.siteRoot+'lib/'+item.repo_id+'/file'+_utils.Utils.encodePath(item.path);direntList.push(dirent);_this.setState({direntList:direntList});});});};_this.state={direntList:[]};return _this;}_createClass(ListRelatedFileDialog,[{key:'componentWillMount',value:function componentWillMount(){this.getDirentList(this.props.relatedFiles);}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(nextProps.relatedFiles.length!==this.props.relatedFiles.length){this.getDirentList(nextProps.relatedFiles);}}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Related Files')),_react2.default.createElement(_reactstrap.ModalBody,{className:this.state.direntList.length>0?'list-related-file-body':''},_react2.default.createElement(_reactstrap.Table,{hover:true,size:'sm',className:'list-related-file-table'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'40%'},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{width:'20%'},(0,_constants.gettext)('Library Name')),_react2.default.createElement('th',{width:'13%'},(0,_constants.gettext)('Size')),_react2.default.createElement('th',{width:'20%'},(0,_constants.gettext)('Last Update')),_react2.default.createElement('th',{width:'5%'}),_react2.default.createElement('th',{width:'2%'}))),_react2.default.createElement('tbody',null,this.state.direntList.map(function(relatedFile,index){return _react2.default.createElement(_react2.default.Fragment,{key:index},_react2.default.createElement(RelatedFile,{relatedFile:relatedFile,onDeleteRelatedFile:_this2.onDeleteRelatedFile}));}))),_react2.default.createElement('a',{href:'#',className:'add-related-file-link',onClick:this.props.addRelatedFileToggle},(0,_constants.gettext)('Add File'))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Close'))));}}]);return ListRelatedFileDialog;}(_react2.default.Component);ListRelatedFileDialog.propTypes=propTypes;var RelatedFilePropTypes={relatedFile:_propTypes2.default.object,onDeleteRelatedFile:_propTypes2.default.func.isRequired};var RelatedFile=function(_React$Component2){_inherits(RelatedFile,_React$Component2);function RelatedFile(props){_classCallCheck(this,RelatedFile);var _this3=_possibleConstructorReturn(this,(RelatedFile.__proto__||Object.getPrototypeOf(RelatedFile)).call(this,props));_this3.onMouseEnter=function(){_this3.setState({active:true});};_this3.onMouseLeave=function(){_this3.setState({active:false});};_this3.state={active:false};return _this3;}_createClass(RelatedFile,[{key:'render',value:function render(){var className=this.state.active?'action-icon sf2-icon-x3':'action-icon vh sf2-icon-x3';var relatedFile=this.props.relatedFile;return _react2.default.createElement('tr',{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',null,_react2.default.createElement('a',{href:relatedFile.link,target:'_blank'},relatedFile.name)),_react2.default.createElement('td',null,relatedFile.repo_name),_react2.default.createElement('td',null,relatedFile.size),_react2.default.createElement('td',null,relatedFile.mtime_relative),_react2.default.createElement('td',null,_react2.default.createElement('i',{className:className,onClick:this.props.onDeleteRelatedFile.bind(this,relatedFile)})),_react2.default.createElement('td',null));}}]);return RelatedFile;}(_react2.default.Component);RelatedFile.propTypes=RelatedFilePropTypes;exports.default=ListRelatedFileDialog;\n\n/***/ }),\n\n/***/ 161:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 162:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _utils=__webpack_require__(4);var _tree=__webpack_require__(163);var _tree2=_interopRequireDefault(_tree);var _treeNode=__webpack_require__(95);var _treeNode2=_interopRequireDefault(_treeNode);var _dirent=__webpack_require__(14);var _dirent2=_interopRequireDefault(_dirent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var TreeHelper=function(){function TreeHelper(){_classCallCheck(this,TreeHelper);}_createClass(TreeHelper,[{key:'expandNode',value:function expandNode(tree,node){// This tree has been cloned\ntree.expandNode(node);}},{key:'collapseNode',value:function collapseNode(tree,node){var treeCopy=tree.clone();node=treeCopy.getNodeByPath(node.path);treeCopy.collapseNode(node);return treeCopy;}},{key:'findNodeByPath',value:function findNodeByPath(tree,nodePath){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);return node;}},{key:'getNodeChildrenObject',value:function getNodeChildrenObject(tree,node){var sortType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'name';var order=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'asc';var objects=tree.getNodeChildrenObject(node);objects=_utils.Utils.sortDirents(objects,sortType,order);return objects;}},{key:'addNodeToParent',value:function addNodeToParent(tree,node,parentNode){tree.addNodeToParentNode(node,parentNode);return tree;}},{key:'addNodeListToParent',value:function addNodeListToParent(tree,nodeList,parentNode){tree.addNodeListToParent(nodeList,parentNode);return tree;}},{key:'addNodeToParentByPath',value:function addNodeToParentByPath(tree,node,parentPath){var treeCopy=tree.clone();var parentNode=treeCopy.getNodeByPath(parentPath);treeCopy.addNodeToParent(node,parentNode);return treeCopy;}},{key:'deleteNodeByPath',value:function deleteNodeByPath(tree,nodePath){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);treeCopy.deleteNode(node);return treeCopy;}},{key:'deleteNodeListByPaths',value:function deleteNodeListByPaths(tree,nodePaths){var treeCopy=tree.clone();nodePaths.forEach(function(nodePath){var node=treeCopy.getNodeByPath(nodePath);treeCopy.deleteNode(node);});return treeCopy;}},{key:'renameNodeByPath',value:function renameNodeByPath(tree,nodePath,newName){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);treeCopy.renameNode(node,newName);return treeCopy;}},{key:'updateNodeByPath',value:function updateNodeByPath(tree,nodePath,keys,newValues){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);treeCopy.updateNode(node,keys,newValues);return treeCopy;}},{key:'moveNodeByPath',value:function moveNodeByPath(tree,nodePath,destPath,nodeName){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);var destNode=treeCopy.getNodeByPath(destPath);if(destNode&&node){// node has loaded\nnode.object.name=nodeName;// need not update path\ntreeCopy.moveNode(node,destNode);}if(!destNode&&node){treeCopy.deleteNode(node);}return treeCopy;}},{key:'moveNodeListByPaths',value:function moveNodeListByPaths(tree,nodePaths,destPath){var treeCopy=tree.clone();var destNode=treeCopy.getNodeByPath(destPath);if(destNode){nodePaths.forEach(function(nodePath){var node=treeCopy.getNodeByPath(nodePath);treeCopy.moveNode(node,destNode);});}else{nodePaths.forEach(function(nodePath){var node=treeCopy.getNodeByPath(nodePath);treeCopy.delete(node);});}return treeCopy;}},{key:'copyNodeByPath',value:function copyNodeByPath(tree,nodePath,destPath,nodeName){var treeCopy=tree.clone();var destNode=treeCopy.getNodeByPath(destPath);var treeNode=treeCopy.getNodeByPath(nodePath);if(destNode){var node=treeNode.clone();// need a dup\nnode.object.name=nodeName;// need not update path\ntreeCopy.copyNode(node,destNode);}return treeCopy;}},{key:'copyNodeListByPaths',value:function copyNodeListByPaths(tree,nodePaths,destPath){var treeCopy=tree.clone();var destNode=treeCopy.getNodeByPath(destPath);if(destNode){nodePaths.forEach(function(nodePath){var node=treeCopy.getNodeByPath(nodePath);treeCopy.copyNode(node,destNode);});}return treeCopy;}},{key:'buildTree',value:function buildTree(){var tree=new _tree2.default();var object=new _dirent2.default({name:'/'});var root=new _treeNode2.default({object:object,isLoaded:false,isExpanded:true});tree.setRoot(root);return tree;}}]);return TreeHelper;}();var treeHelper=new TreeHelper();exports.default=treeHelper;\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _treeNode=__webpack_require__(95);var _treeNode2=_interopRequireDefault(_treeNode);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Tree=function(){function Tree(){_classCallCheck(this,Tree);this.root=null;}_createClass(Tree,[{key:'clone',value:function clone(){var tree=new Tree();if(this.root){tree.root=this.root.clone();}return tree;}},{key:'setRoot',value:function setRoot(node){this.root=node;}},{key:'getNodeByPath',value:function getNodeByPath(path){var findNode=null;function callback(currentNode){if(currentNode.path===path){findNode=currentNode;return true;}return false;}this.traverseDF(callback);return findNode;}},{key:'getNodeChildrenObject',value:function getNodeChildrenObject(node){var objects=node.children.map(function(item){var object=item.object;return object;});return objects;}},{key:'addNodeToParent',value:function addNodeToParent(node,parentNode){parentNode.addChild(node);}},{key:'addNodeListToParent',value:function addNodeListToParent(nodeList,parentNode){nodeList.forEach(function(node){parentNode.addChild(node);});}},{key:'deleteNode',value:function deleteNode(node){var parentNode=this.getNodeByPath(node.parentNode.path);parentNode.deleteChild(node);}},{key:'deleteNodeList',value:function deleteNodeList(nodeList){var _this=this;nodeList.forEach(function(node){_this.deleteNode(node);});}},{key:'renameNode',value:function renameNode(node,newName){node.rename(newName);}},{key:'updateNode',value:function updateNode(node,keys,newValues){node.updateObjectParam(keys,newValues);}},{key:'moveNode',value:function moveNode(node,destNode){this.deleteNode(node);destNode.addChild(node);}},{key:'copyNode',value:function copyNode(node,destNode){destNode.addChild(node);}},{key:'traverseDF',value:function traverseDF(callback){var stack=[];var found=false;stack.unshift(this.root);var currentNode=stack.shift();while(!found&&currentNode){found=callback(currentNode)==true?true:false;if(!found){stack.unshift.apply(stack,_toConsumableArray(currentNode.children));currentNode=stack.shift();}}}},{key:'traverseBF',value:function traverseBF(callback){var queue=[];var found=false;queue.push(this.root);var currentNode=queue.shift();while(!found&&currentNode){found=callback(currentNode)===true?true:false;if(!found){queue.push.apply(queue,_toConsumableArray(currentNode.children));currentNode=queue.shift();}}}},{key:'expandNode',value:function expandNode(node){node.isExpanded=true;while(node.parentNode){node.parentNode.isExpanded=true;node=node.parentNode;}}},{key:'collapseNode',value:function collapseNode(node){node.isExpanded=false;}},{key:'isNodeChild',value:function isNodeChild(node,parentNode){return parentNode.children.some(function(item){return item.path===node.path;});}},{key:'serializeToJson',value:function serializeToJson(){return this.root.serializeToJson();}},{key:'deserializefromJson',value:function deserializefromJson(json){var root=_treeNode2.default.deserializefromJson(json);var tree=new Tree();tree.setRoot(root);return tree;}}]);return Tree;}();exports.default=Tree;\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _treeNodeView=__webpack_require__(165);var _treeNodeView2=_interopRequireDefault(_treeNodeView);var _treeViewContextmenu=__webpack_require__(167);var _treeViewContextmenu2=_interopRequireDefault(_treeViewContextmenu);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoPermission:_propTypes2.default.bool,isNodeMenuShow:_propTypes2.default.bool.isRequired,treeData:_propTypes2.default.object.isRequired,currentPath:_propTypes2.default.string.isRequired,onMenuItemClick:_propTypes2.default.func,onNodeClick:_propTypes2.default.func.isRequired,onNodeExpanded:_propTypes2.default.func.isRequired,onNodeCollapse:_propTypes2.default.func.isRequired,onItemMove:_propTypes2.default.func,currentRepoInfo:_propTypes2.default.object};var PADDING_LEFT=20;var TreeView=function(_React$Component){_inherits(TreeView,_React$Component);function TreeView(props){_classCallCheck(this,TreeView);var _this=_possibleConstructorReturn(this,(TreeView.__proto__||Object.getPrototypeOf(TreeView)).call(this,props));_this.onItemMove=function(repo,dirent,selectedPath,currentPath){_this.props.onItemMove(repo,dirent,selectedPath,currentPath);};_this.onNodeDragStart=function(e,node){var dragStartNodeData={nodeDirent:node.object,nodeParentPath:node.parentNode.path,nodeRootPath:node.path};dragStartNodeData=JSON.stringify(dragStartNodeData);e.dataTransfer.effectAllowed=\"move\";e.dataTransfer.setData('applicaiton/drag-item-info',dragStartNodeData);};_this.onNodeDragEnter=function(e,node){//todo\n};_this.onNodeDragMove=function(e){e.preventDefault();e.dataTransfer.dropEffect='move';};_this.onNodeDragLeave=function(e,node){//todo\n};_this.onNodeDrop=function(e,node){if(e.dataTransfer.files.length){// uploaded files\nreturn;}var dragStartNodeData=e.dataTransfer.getData('applicaiton/drag-item-info');dragStartNodeData=JSON.parse(dragStartNodeData);var _dragStartNodeData=dragStartNodeData,nodeDirent=_dragStartNodeData.nodeDirent,nodeParentPath=_dragStartNodeData.nodeParentPath,nodeRootPath=_dragStartNodeData.nodeRootPath;var dropNodeData=node;if(dropNodeData.object.type!=='dir'){return;}// copy the dirent to itself. eg: A/B -> A/B\nif(nodeParentPath===dropNodeData.parentNode.path){if(dropNodeData.object.name===nodeDirent.name){return;}}// copy the dirent to it's child. eg: A/B -> A/B/C\nif(dropNodeData.object.type==='dir'&&nodeDirent.type==='dir'){if(dropNodeData.parentNode.path!==nodeParentPath){if(dropNodeData.path.indexOf(nodeRootPath)!==-1){return;}}}_this.onItemMove(_this.props.currentRepoInfo,nodeDirent,dropNodeData.path,nodeParentPath);};_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnFreezedItem=function(){_this.setState({isItemFreezed:false});};_this.contextMenu=function(e){e.preventDefault();_this.setState({isRightMenuShow:false});setTimeout(function(){_this.setState({isRightMenuShow:true,fileData:_this.state.nodeData,mousePosition:{clientX:e.clientX,clientY:e.clientY}});},40);};_this.unregisterHandlers=function(){var treeView=document.querySelector('.tree-view');treeView.removeEventListener('contextmenu',_this.contextMenu);};_this.registerHandlers=function(){var treeView=document.querySelector('.tree-view');treeView.addEventListener('contextmenu',_this.contextMenu);};_this.onNodeChanged=function(node){_this.setState({nodeData:node});};_this.closeRightMenu=function(){_this.setState({isRightMenuShow:false});};_this.onMenuItemClick=function(operation,node){_this.props.onMenuItemClick(operation,node);};_this.state={isItemFreezed:false,isRightMenuShow:false,nodeData:null,fileData:null,mousePosition:{clientX:'',clientY:''}};return _this;}_createClass(TreeView,[{key:'componentDidMount',value:function componentDidMount(){this.registerHandlers();}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.unregisterHandlers();}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'tree-view tree'},_react2.default.createElement(_treeNodeView2.default,{repoPermission:this.props.repoPermission,node:this.props.treeData.root,currentPath:this.props.currentPath,paddingLeft:PADDING_LEFT,isNodeMenuShow:this.props.isNodeMenuShow,isItemFreezed:this.state.isItemFreezed,onNodeClick:this.props.onNodeClick,onMenuItemClick:this.props.onMenuItemClick,onNodeExpanded:this.props.onNodeExpanded,onNodeCollapse:this.props.onNodeCollapse,onNodeDragStart:this.onNodeDragStart,onFreezedItem:this.onFreezedItem,onUnFreezedItem:this.onUnFreezedItem,onNodeChanged:this.onNodeChanged,registerHandlers:this.registerHandlers,unregisterHandlers:this.unregisterHandlers,onNodeDragMove:this.onNodeDragMove,onNodeDrop:this.onNodeDrop,onNodeDragEnter:this.onNodeDragEnter,onNodeDragLeave:this.onNodeDragLeave}),this.state.isRightMenuShow&&_react2.default.createElement(_treeViewContextmenu2.default,{node:this.state.fileData,onMenuItemClick:this.onMenuItemClick,mousePosition:this.state.mousePosition,closeRightMenu:this.closeRightMenu,registerHandlers:this.registerHandlers,unregisterHandlers:this.unregisterHandlers}));}}]);return TreeView;}(_react2.default.Component);TreeView.propTypes=propTypes;exports.default=TreeView;\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _treeNodeMenu=__webpack_require__(166);var _treeNodeMenu2=_interopRequireDefault(_treeNodeMenu);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoPermission:_propTypes2.default.bool,node:_propTypes2.default.object.isRequired,currentPath:_propTypes2.default.string.isRequired,paddingLeft:_propTypes2.default.number.isRequired,isNodeMenuShow:_propTypes2.default.bool.isRequired,isItemFreezed:_propTypes2.default.bool.isRequired,onNodeClick:_propTypes2.default.func.isRequired,onNodeExpanded:_propTypes2.default.func.isRequired,onNodeCollapse:_propTypes2.default.func.isRequired,onNodeDragStart:_propTypes2.default.func.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnFreezedItem:_propTypes2.default.func.isRequired,onMenuItemClick:_propTypes2.default.func,registerHandlers:_propTypes2.default.func,unregisterHandlers:_propTypes2.default.func,onNodeDragMove:_propTypes2.default.func,onNodeDrop:_propTypes2.default.func};var TreeNodeView=function(_React$Component){_inherits(TreeNodeView,_React$Component);function TreeNodeView(props){_classCallCheck(this,TreeNodeView);var _this=_possibleConstructorReturn(this,(TreeNodeView.__proto__||Object.getPrototypeOf(TreeNodeView)).call(this,props));_this.onMouseEnter=function(){if(!_this.props.isItemFreezed){_this.setState({isShowOperationMenu:true,isHighlight:true});}_this.props.onNodeChanged(_this.props.node);};_this.onMouseLeave=function(){if(!_this.props.isItemFreezed){_this.setState({isShowOperationMenu:false,isHighlight:false});}_this.props.onNodeChanged(null);};_this.onNodeClick=function(){_this.props.onNodeClick(_this.props.node);};_this.onLoadToggle=function(){var node=_this.props.node;if(node.isExpanded){_this.props.onNodeCollapse(node);}else{_this.props.onNodeExpanded(node);}};_this.onNodeDragStart=function(e){_this.props.onNodeDragStart(e,_this.props.node);};_this.onNodeDragEnter=function(e){if(_this.props.node.object.type==='dir'){_this.setState({isNodeDropShow:true});}_this.props.onNodeDragEnter(e,_this.props.node);};_this.onNodeDragMove=function(e){_this.props.onNodeDragMove(e);};_this.onNodeDragLeave=function(e){_this.setState({isNodeDropShow:false});_this.props.onNodeDragLeave(e,_this.props.node);};_this.onNodeDrop=function(e){_this.setState({isNodeDropShow:false});_this.props.onNodeDrop(e,_this.props.node);};_this.onUnFreezedItem=function(){_this.setState({isShowOperationMenu:false});_this.props.onUnFreezedItem();};_this.onMenuItemClick=function(operation,node){_this.props.onMenuItemClick(operation,node);};_this.getNodeTypeAndIcon=function(){var node=_this.props.node;var icon='';var type='';if(node.object.type==='dir'){icon=_react2.default.createElement('i',{className:'far fa-folder'});type='dir';}else{var index=node.object.name.lastIndexOf('.');if(index===-1){icon=_react2.default.createElement('i',{className:'far fa-file'});type='file';}else{var suffix=node.object.name.slice(index).toLowerCase();if(suffix==='.png'||suffix==='.jpg'||suffix==='.jpeg'||suffix==='.gif'||suffix==='.bmp'){icon=_react2.default.createElement('i',{className:'far fa-image'});type='image';}else if(suffix==='.md'||suffix==='.markdown'){icon=_react2.default.createElement('i',{className:'far fa-file-alt'});type='file';}else{icon=_react2.default.createElement('i',{className:'far fa-file'});type='file';}}}return{icon:icon,type:type};};_this.renderChildren=function(){var _this$props=_this.props,node=_this$props.node,paddingLeft=_this$props.paddingLeft;if(!node.hasChildren()){return'';}return _react2.default.createElement('div',{className:'children',style:{paddingLeft:paddingLeft}},node.children.map(function(item){return _react2.default.createElement(TreeNodeView,{key:item.path,node:item,paddingLeft:paddingLeft,repoPermission:_this.props.repoPermission,currentPath:_this.props.currentPath,isNodeMenuShow:_this.props.isNodeMenuShow,isItemFreezed:_this.props.isItemFreezed,onNodeClick:_this.props.onNodeClick,onNodeCollapse:_this.props.onNodeCollapse,onNodeExpanded:_this.props.onNodeExpanded,onFreezedItem:_this.props.onFreezedItem,onMenuItemClick:_this.onMenuItemClick,onUnFreezedItem:_this.onUnFreezedItem,onNodeChanged:_this.props.onNodeChanged,registerHandlers:_this.props.registerHandlers,unregisterHandlers:_this.props.unregisterHandlers,onNodeDragStart:_this.props.onNodeDragStart,onNodeDragMove:_this.props.onNodeDragMove,onNodeDrop:_this.props.onNodeDrop,onNodeDragEnter:_this.props.onNodeDragEnter,onNodeDragLeave:_this.props.onNodeDragLeave});}));};_this.state={isHighlight:false,isShowOperationMenu:false,isNodeDropShow:false};return _this;}_createClass(TreeNodeView,[{key:'render',value:function render(){var _props=this.props,currentPath=_props.currentPath,node=_props.node,isNodeMenuShow=_props.isNodeMenuShow;var _getNodeTypeAndIcon=this.getNodeTypeAndIcon(),type=_getNodeTypeAndIcon.type,icon=_getNodeTypeAndIcon.icon;var hlClass=this.state.isHighlight?'tree-node-inner-hover ':'';if(node.path===currentPath){hlClass='tree-node-hight-light';}return _react2.default.createElement('div',{className:'tree-node'},_react2.default.createElement('div',{type:type,title:node.object.name,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:'tree-node-inner text-nowrap '+hlClass+' '+(node.path==='/'?'hide':'')+' '+(this.state.isNodeDropShow?'tree-node-drop':'')},_react2.default.createElement('div',{className:'tree-node-text',draggable:'true',onDragStart:this.onNodeDragStart,onClick:this.onNodeClick,onDragEnter:this.onNodeDragEnter,onDragLeave:this.onNodeDragLeave,onDragOver:this.onNodeDragMove,onDrop:this.onNodeDrop},node.object.name),_react2.default.createElement('div',{className:'left-icon'},type==='dir'&&(!node.isLoaded||node.isLoaded&&node.hasChildren())&&_react2.default.createElement('i',{className:'folder-toggle-icon fa '+(node.isExpanded?'fa-caret-down':'fa-caret-right'),onMouseDown:function onMouseDown(e){return e.stopPropagation();},onClick:this.onLoadToggle}),_react2.default.createElement('i',{className:'tree-node-icon'},icon)),isNodeMenuShow&&_react2.default.createElement('div',{className:'right-icon'},(this.props.repoPermission||_constants.permission)&&this.state.isShowOperationMenu&&_react2.default.createElement(_treeNodeMenu2.default,{node:this.props.node,onMenuItemClick:this.onMenuItemClick,onUnFreezedItem:this.onUnFreezedItem,onFreezedItem:this.props.onFreezedItem,registerHandlers:this.props.registerHandlers,unregisterHandlers:this.props.unregisterHandlers}))),node.isExpanded&&this.renderChildren());}}]);return TreeNodeView;}(_react2.default.Component);TreeNodeView.propTypes=propTypes;exports.default=TreeNodeView;\n\n/***/ }),\n\n/***/ 166:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={node:_propTypes2.default.object.isRequired,onMenuItemClick:_propTypes2.default.func.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnFreezedItem:_propTypes2.default.func.isRequired,registerHandlers:_propTypes2.default.func,unregisterHandlers:_propTypes2.default.func};var TreeNodeMenu=function(_React$Component){_inherits(TreeNodeMenu,_React$Component);function TreeNodeMenu(props){_classCallCheck(this,TreeNodeMenu);var _this=_possibleConstructorReturn(this,(TreeNodeMenu.__proto__||Object.getPrototypeOf(TreeNodeMenu)).call(this,props));_this.translateMenuItem=function(menuItem){var translateResult='';switch(menuItem){case'New Folder':translateResult=(0,_constants.gettext)('New Folder');break;case'New File':translateResult=(0,_constants.gettext)('New File');break;case'Rename':translateResult=(0,_constants.gettext)('Rename');break;case'Copy':translateResult=(0,_constants.gettext)('Copy');break;case'Move':translateResult=(0,_constants.gettext)('Move');break;case'Delete':translateResult=(0,_constants.gettext)('Delete');break;case'Open in New Tab':translateResult=(0,_constants.gettext)('Open in New Tab');break;default:break;}return translateResult;};_this.onDropdownToggleClick=function(e){e.preventDefault();_this.toggleOperationMenu(e);};_this.toggleOperationMenu=function(e){e.stopPropagation();_this.setState({isItemMenuShow:!_this.state.isItemMenuShow},function(){if(_this.state.isItemMenuShow){_this.props.onFreezedItem();}else{_this.props.onUnFreezedItem();}});};_this.onMenuItemClick=function(event){var operation=event.target.dataset.toggle;var node=_this.props.node;_this.props.onMenuItemClick(operation,node);};_this.state={isItemMenuShow:false,menuList:[]};return _this;}_createClass(TreeNodeMenu,[{key:'componentDidMount',value:function componentDidMount(){var menuList=this.caculateMenuList();this.setState({menuList:menuList});}},{key:'caculateMenuList',value:function caculateMenuList(){var node=this.props.node;var menuList=[];if(node.object.type==='dir'){menuList=['New Folder','New File','Copy','Move','Rename','Delete'];}else{menuList=['Rename','Delete','Copy','Move','Open in New Tab'];}return menuList;}},{key:'render',value:function render(){var _this2=this;this.state.isItemMenuShow?this.props.unregisterHandlers():this.props.registerHandlers();return _react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},_react2.default.createElement(_reactstrap.DropdownToggle,{tag:'i',className:'fas fa-ellipsis-v',title:(0,_constants.gettext)('More Operations'),'data-toggle':'dropdown','aria-expanded':this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),_react2.default.createElement(_reactstrap.DropdownMenu,null,this.state.menuList.map(function(menuItem,index){return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,'data-toggle':menuItem,onClick:_this2.onMenuItemClick},_this2.translateMenuItem(menuItem));})));}}]);return TreeNodeMenu;}(_react2.default.Component);TreeNodeMenu.propTypes=propTypes;exports.default=TreeNodeMenu;\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);__webpack_require__(168);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onMenuItemClick:_propTypes2.default.func.isRequired,node:_propTypes2.default.object,mousePosition:_propTypes2.default.object,closeRightMenu:_propTypes2.default.func,registerHandlers:_propTypes2.default.func,unregisterHandlers:_propTypes2.default.func};var TreeViewContextMenu=function(_React$Component){_inherits(TreeViewContextMenu,_React$Component);function TreeViewContextMenu(props){_classCallCheck(this,TreeViewContextMenu);var _this=_possibleConstructorReturn(this,(TreeViewContextMenu.__proto__||Object.getPrototypeOf(TreeViewContextMenu)).call(this,props));_this.calculateMenuDistance=function(){var mousePosition=_this.props.mousePosition;var rightTreeMenu=document.querySelector('.right-tree-menu');var rightTreeMenuHeight=rightTreeMenu.offsetHeight;if(mousePosition.clientY+rightTreeMenuHeight>document.body.clientHeight){rightTreeMenu.style.top=mousePosition.clientY-rightTreeMenuHeight+'px';}else{rightTreeMenu.style.top=mousePosition.clientY+'px';}rightTreeMenu.style.left=mousePosition.clientX+'px';document.addEventListener('click',_this.listenClick);document.addEventListener('mousemove',_this.handleContextMenu);};_this.translateMenuItem=function(menuItem){var translateResult='';switch(menuItem){case'New Folder':translateResult=(0,_constants.gettext)('New Folder');break;case'New File':translateResult=(0,_constants.gettext)('New File');break;case'Rename':translateResult=(0,_constants.gettext)('Rename');break;case'Copy':translateResult=(0,_constants.gettext)('Copy');break;case'Move':translateResult=(0,_constants.gettext)('Move');break;case'Delete':translateResult=(0,_constants.gettext)('Delete');break;case'Open in New Tab':translateResult=(0,_constants.gettext)('Open in New Tab');break;default:break;}return translateResult;};_this.handleContextMenu=function(e){var mousePosition=_this.props.mousePosition;var rightTreeMenu=document.querySelector('.right-tree-menu');var rightTreeMenuHeight=rightTreeMenu.offsetHeight;var rightTreeMenuWidth=rightTreeMenu.offsetWidth;if(mousePosition.clientY+rightTreeMenuHeight>document.body.clientHeight){if(e.clientX>=mousePosition.clientX&&e.clientX<=mousePosition.clientX+rightTreeMenuWidth&&e.clientY<=mousePosition.clientY&&e.clientY>=mousePosition.clientY-rightTreeMenuHeight){_this.props.unregisterHandlers();}else{_this.props.registerHandlers();}}else{if(e.clientX>=mousePosition.clientX&&e.clientX<=mousePosition.clientX+rightTreeMenuWidth&&e.clientY>=mousePosition.clientY&&e.clientY<=mousePosition.clientY+rightTreeMenuHeight){_this.props.unregisterHandlers();}else{_this.props.registerHandlers();}}};_this.listenClick=function(e){var mousePosition=_this.props.mousePosition;var rightTreeMenu=document.querySelector('.right-tree-menu');var rightTreeMenuHeight=rightTreeMenu.offsetHeight;var rightTreeMenuWidth=rightTreeMenu.offsetWidth;if(e.clientX<=mousePosition.clientX||e.clientX>=mousePosition.clientX+rightTreeMenuWidth){_this.props.closeRightMenu();}if(mousePosition.clientY+rightTreeMenuHeight>document.body.clientHeight){if(e.clientY<=mousePosition.clientY-rightTreeMenuHeight||e.clientY>=mousePosition.clientY){_this.props.closeRightMenu();}}else{if(e.clientY<=mousePosition.clientY||e.clientY>=mousePosition.clientY+rightTreeMenuHeight){_this.props.closeRightMenu();}}};_this.onMenuItemClick=function(event){var operation=event.target.dataset.toggle;var node=_this.props.node;_this.props.onMenuItemClick(operation,node);_this.props.closeRightMenu();};_this.state={isItemMenuShow:false,menuList:[]};return _this;}_createClass(TreeViewContextMenu,[{key:'componentDidMount',value:function componentDidMount(){var menuList=this.caculateMenuList();this.setState({menuList:menuList});}},{key:'componentDidUpdate',value:function componentDidUpdate(){this.calculateMenuDistance();}},{key:'componentWillUnmount',value:function componentWillUnmount(){document.removeEventListener('click',this.listenClick);document.removeEventListener('mousemove',this.handleContextMenu);}},{key:'caculateMenuList',value:function caculateMenuList(){var node=this.props.node;var menuList=[];if(!node){menuList=['New Folder','New File'];}else{if(node.object.type==='dir'){menuList=['New Folder','New File','Copy','Move','Rename','Delete'];}else{menuList=['Rename','Delete','Copy','Move','Open in New Tab'];}}return menuList;}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement('div',{className:'right-tree-menu'},this.state.menuList.map(function(menuItem,index){return _react2.default.createElement('button',{className:'right-tree-item',key:index,'data-toggle':menuItem,onClick:_this2.onMenuItemClick},_this2.translateMenuItem(menuItem));}));}}]);return TreeViewContextMenu;}(_react2.default.Component);TreeViewContextMenu.propTypes=propTypes;exports.default=TreeViewContextMenu;\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _markdownViewer=__webpack_require__(115);var _markdownViewer2=_interopRequireDefault(_markdownViewer);var _constants=__webpack_require__(2);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={children:_propTypes2.default.object,isFileLoading:_propTypes2.default.bool.isRequired,markdownContent:_propTypes2.default.string.isRequired,latestContributor:_propTypes2.default.string.isRequired,lastModified:_propTypes2.default.string.isRequired,onLinkClick:_propTypes2.default.func.isRequired,isWiki:_propTypes2.default.bool,isTOCShow:_propTypes2.default.bool};var contentClass='wiki-page-content';var WikiMarkdownViewer=function(_React$Component){_inherits(WikiMarkdownViewer,_React$Component);function WikiMarkdownViewer(props){_classCallCheck(this,WikiMarkdownViewer);var _this=_possibleConstructorReturn(this,(WikiMarkdownViewer.__proto__||Object.getPrototypeOf(WikiMarkdownViewer)).call(this,props));_this.onContentRendered=function(markdownViewer){_this.titlesInfo=markdownViewer.titlesInfo;};_this.onLinkClick=function(event){event.preventDefault();event.stopPropagation();var link='';if(event.target.tagName!=='A'){var target=event.target.parentNode;while(target.tagName!=='A'){target=target.parentNode;}link=target.href;}else{link=event.target.href;}_this.props.onLinkClick(link);};_this.onScrollHandler=function(){var contentScrollTop=_this.markdownContainer.current.scrollTop+180;var titlesLength=_this.titlesInfo.length;var activeTitleIndex=void 0;if(contentScrollTop<=_this.titlesInfo[0]){activeTitleIndex=0;_this.setState({activeTitleIndex:activeTitleIndex});return;}if(contentScrollTop>_this.titlesInfo[titlesLength-1]){activeTitleIndex=_this.titlesInfo.length-1;_this.setState({activeTitleIndex:activeTitleIndex});return;}for(var i=0;i<titlesLength;i++){if(contentScrollTop>_this.titlesInfo[i]){continue;}else{activeTitleIndex=i-1;break;}}_this.setState({activeTitleIndex:activeTitleIndex});};_this.changeInlineNode=function(item){if(item.object=='inline'){var url=void 0;// change image url\nif(item.type=='image'&&_constants.isPublicWiki){url=item.data.src;var re=new RegExp(_constants.serviceURL+'/lib/'+_constants.repoID+'/file.*raw=1');// different repo \nif(!re.test(url)){return;}// get image path\nvar index=url.indexOf('/file');var index2=url.indexOf('?');var imagePath=url.substring(index+5,index2);// replace url\nitem.data.src=_constants.serviceURL+'/view-image-via-public-wiki/?slug='+_constants.slug+'&path='+imagePath;}else if(item.type=='link'){url=item.data.href;// change file url \nif(_utils.Utils.isInternalMarkdownLink(url,_constants.repoID)){var path=_utils.Utils.getPathFromInternalMarkdownLink(url,_constants.repoID);// replace url\nitem.data.href=_constants.serviceURL+'/wikis/'+_constants.slug+path;}// change dir url \nelse if(_utils.Utils.isInternalDirLink(url,_constants.repoID)){var _path=_utils.Utils.getPathFromInternalDirLink(url,_constants.repoID);// replace url\nitem.data.href=_constants.serviceURL+'/wikis/'+_constants.slug+_path;}}}return item;};_this.modifyValueBeforeRender=function(value){var nodes=value.document.nodes;var newNodes=_utils.Utils.changeMarkdownNodes(nodes,_this.changeInlineNode);value.document.nodes=newNodes;return value;};_this.renderMarkdown=function(){var isTOCShow=true;if(_this.props.isTOCShow===false){isTOCShow=false;}if(_this.props.isWiki){return _react2.default.createElement(_markdownViewer2.default,{showTOC:isTOCShow,markdownContent:_this.props.markdownContent,activeTitleIndex:_this.state.activeTitleIndex,onContentRendered:_this.onContentRendered,modifyValueBeforeRender:_this.modifyValueBeforeRender});}return _react2.default.createElement(_markdownViewer2.default,{showTOC:isTOCShow,markdownContent:_this.props.markdownContent,activeTitleIndex:_this.state.activeTitleIndex,onContentRendered:_this.onContentRendered});};_this.state={activeTitleIndex:0};_this.markdownContainer=_react2.default.createRef();_this.links=[];_this.titlesInfo=[];return _this;}_createClass(WikiMarkdownViewer,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;// Bind event when first loaded\nthis.links=document.querySelectorAll('.'+contentClass+' a');this.links.forEach(function(link){link.addEventListener('click',_this2.onLinkClick);});}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(){var _this3=this;// Unbound event when updating\nthis.links.forEach(function(link){link.removeEventListener('click',_this3.onLinkClick);});}},{key:'componentDidUpdate',value:function componentDidUpdate(){var _this4=this;// Update completed, rebind event\nthis.links=document.querySelectorAll('.'+contentClass+' a');this.links.forEach(function(link){link.addEventListener('click',_this4.onLinkClick);});}},{key:'componentWillUnmount',value:function componentWillUnmount(){var _this5=this;// Rebinding events when the component is destroyed\nthis.links.forEach(function(link){link.removeEventListener('click',_this5.onLinkClick);});}},{key:'render',value:function render(){if(this.props.isFileLoading){return _react2.default.createElement(_loading2.default,null);}return _react2.default.createElement('div',{ref:this.markdownContainer,className:'wiki-page-container',onScroll:this.onScrollHandler.bind(this)},_react2.default.createElement('div',{className:contentClass},this.props.children,this.renderMarkdown(),_react2.default.createElement('p',{id:'wiki-page-last-modified'},(0,_constants.gettext)('Last modified by'),' ',this.props.latestContributor,', ',_react2.default.createElement('span',null,this.props.lastModified))));}}]);return WikiMarkdownViewer;}(_react2.default.Component);var defaultProps={isWiki:false};WikiMarkdownViewer.propTypes=propTypes;_markdownViewer2.default.defaultProps=defaultProps;exports.default=WikiMarkdownViewer;\n\n/***/ }),\n\n/***/ 17:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _glamor=__webpack_require__(9);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _Transition=__webpack_require__(36);var _Transition2=_interopRequireDefault(_Transition);var _alert=__webpack_require__(18);var _alert2=_interopRequireDefault(_alert);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var animationEasing={deceleration:'cubic-bezier(0.0, 0.0, 0.2, 1)',acceleration:'cubic-bezier(0.4, 0.0, 1, 1)',spring:'cubic-bezier(0.175, 0.885, 0.320, 1.175)'};var ANIMATION_DURATION=240;var openAnimation=_glamor.css.keyframes('openAnimation',{from:{opacity:0,transform:'translateY(-120%)'},to:{transform:'translateY(0)'}});var closeAnimation=_glamor.css.keyframes('closeAnimation',{from:{transform:'scale(1)',opacity:1},to:{transform:'scale(0.9)',opacity:0}});var animationStyles=(0,_glamor.css)({display:'flex',flexDirection:'column',alignItems:'center',height:0,transition:'all '+ANIMATION_DURATION+'ms '+animationEasing.deceleration,'&[data-state=\"entering\"], &[data-state=\"entered\"]':{animation:openAnimation+' '+ANIMATION_DURATION+'ms '+animationEasing.spring+' both'},'&[data-state=\"exiting\"]':{animation:closeAnimation+' 120ms '+animationEasing.acceleration+' both'}});var Toast=function(_React$PureComponent){_inherits(Toast,_React$PureComponent);function Toast(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Toast);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Toast.__proto__||Object.getPrototypeOf(Toast)).call.apply(_ref,[this].concat(args))),_this),_this.state={isShown:true,height:0},_this.close=function(){_this.clearCloseTimer();_this.setState({isShown:false});},_this.startCloseTimer=function(){if(_this.props.duration){_this.closeTimer=setTimeout(function(){_this.close();},_this.props.duration*1000);}},_this.clearCloseTimer=function(){if(_this.closeTimer){clearTimeout(_this.closeTimer);_this.closeTimer=null;}},_this.handleMouseEnter=function(){_this.clearCloseTimer();},_this.handleMouseLeave=function(){_this.startCloseTimer();},_this.onRef=function(ref){if(ref===null)return;var _ref$getBoundingClien=ref.getBoundingClientRect(),height=_ref$getBoundingClien.height;_this.setState({height:height});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Toast,[{key:'componentDidUpdate',value:function componentDidUpdate(prevProps){if(prevProps.isShown!==this.props.isShown){// eslint-disable-next-line react/no-did-update-set-state\nthis.setState({isShown:this.props.isShown});}}},{key:'componentDidMount',value:function componentDidMount(){this.startCloseTimer();}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.clearCloseTimer();}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_Transition2.default,{appear:true,unmountOnExit:true,timeout:ANIMATION_DURATION,'in':this.state.isShown,onExited:this.props.onRemove},function(state){return _react2.default.createElement('div',{'data-state':state,className:animationStyles,onMouseEnter:_this2.handleMouseEnter,onMouseLeave:_this2.handleMouseLeave,style:{height:_this2.state.height,zIndex:_this2.props.zIndex,marginBottom:_this2.state.isShown?0:-_this2.state.height}},_react2.default.createElement('div',{ref:_this2.onRef,style:{padding:8}},_react2.default.createElement(_alert2.default,{intent:_this2.props.intent,title:_this2.props.title,children:_this2.props.children,isRemoveable:_this2.props.hasCloseButton,onRemove:function onRemove(){return _this2.close();}})));});}}]);return Toast;}(_react2.default.PureComponent);Toast.propTypes={/**\n     * The z-index of the toast.\n     */zIndex:_propTypes2.default.number,/**\n     * Duration of the toast.\n     */duration:_propTypes2.default.number,/**\n     * Function called when the toast is all the way closed.\n     */onRemove:_propTypes2.default.func,/**\n     * The type of the alert.\n     */intent:_propTypes2.default.oneOf(['none','success','warning','danger']).isRequired,/**\n     * The title of the alert.\n     */title:_propTypes2.default.node,/**\n     * Description of the alert.\n     */children:_propTypes2.default.node,/**\n     * When true, show a close icon button inside of the toast.\n     */hasCloseButton:_propTypes2.default.bool,/**\n     * When false, will close the Toast and call onRemove when finished.\n     */isShown:_propTypes2.default.bool};Toast.defaultProps={intent:'none'};exports.default=Toast;\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={fileType:_propTypes2.default.string,parentPath:_propTypes2.default.string.isRequired,onAddFolder:_propTypes2.default.func.isRequired,checkDuplicatedName:_propTypes2.default.func.isRequired,addFolderCancel:_propTypes2.default.func.isRequired};var CreateForder=function(_React$Component){_inherits(CreateForder,_React$Component);function CreateForder(props){_classCallCheck(this,CreateForder);var _this=_possibleConstructorReturn(this,(CreateForder.__proto__||Object.getPrototypeOf(CreateForder)).call(this,props));_this.handleChange=function(e){_this.setState({childName:e.target.value});};_this.handleSubmit=function(){var newName=_this.state.childName;var isDuplicated=_this.checkDuplicatedName();if(isDuplicated){var errMessage=(0,_constants.gettext)('The name \"{name}\" is already taken. Please choose a different name.');errMessage=errMessage.replace('{name}',_utils.Utils.HTMLescape(newName));_this.setState({errMessage:errMessage});}else{var path=_this.state.parentPath+newName;_this.props.onAddFolder(path);}};_this.handleKeyPress=function(e){if(e.key==='Enter'){_this.handleSubmit();e.preventDefault();}};_this.toggle=function(){_this.props.addFolderCancel();};_this.checkDuplicatedName=function(){var isDuplicated=_this.props.checkDuplicatedName(_this.state.childName);return isDuplicated;};_this.state={parentPath:'',childName:'',errMessage:''};_this.newInput=_react2.default.createRef();return _this;}_createClass(CreateForder,[{key:'componentDidMount',value:function componentDidMount(){var parentPath=this.props.parentPath;if(parentPath[parentPath.length-1]==='/'){// mainPanel\nthis.setState({parentPath:parentPath});}else{this.setState({parentPath:parentPath+'/'});// sidePanel\n}this.newInput.focus();this.newInput.setSelectionRange(0,0);}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('New Folder')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement(_reactstrap.Form,null,_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement(_reactstrap.Label,{'for':'folderName'},(0,_constants.gettext)('Name')),_react2.default.createElement(_reactstrap.Input,{id:'folderName',value:this.state.childName,innerRef:function innerRef(input){_this2.newInput=input;},onKeyPress:this.handleKeyPress,onChange:this.handleChange}))),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',className:'mt-2'},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return CreateForder;}(_react2.default.Component);CreateForder.propTypes=propTypes;exports.default=CreateForder;\n\n/***/ }),\n\n/***/ 171:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onCancelDownload:_propTypes2.default.func.isRequired,progress:_propTypes2.default.number.isRequired};var ZipDownloadDialog=function(_React$Component){_inherits(ZipDownloadDialog,_React$Component);function ZipDownloadDialog(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ZipDownloadDialog);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ZipDownloadDialog.__proto__||Object.getPrototypeOf(ZipDownloadDialog)).call.apply(_ref,[this].concat(args))),_this),_this.toggle=function(){_this.props.onCancelDownload();},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(ZipDownloadDialog,[{key:'render',value:function render(){return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle}),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('div',null,this.props.progress+'%')));}}]);return ZipDownloadDialog;}(_react2.default.Component);ZipDownloadDialog.propTypes=propTypes;exports.default=ZipDownloadDialog;\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,currentTag:_propTypes2.default.object.isRequired,toggleCancel:_propTypes2.default.func.isRequired,onClose:_propTypes2.default.func.isRequired,updateUsedRepoTags:_propTypes2.default.func.isRequired};var ListTaggedFilesDialog=function(_React$Component){_inherits(ListTaggedFilesDialog,_React$Component);function ListTaggedFilesDialog(props){_classCallCheck(this,ListTaggedFilesDialog);var _this=_possibleConstructorReturn(this,(ListTaggedFilesDialog.__proto__||Object.getPrototypeOf(ListTaggedFilesDialog)).call(this,props));_this.onDeleteTaggedFile=function(taggedFile){var repoID=_this.props.repoID;var fileTagID=taggedFile.file_tag_id;_seafileApi.seafileAPI.deleteFileTag(repoID,fileTagID).then(function(res){_this.getTaggedFiles();_this.props.updateUsedRepoTags();});};_this.getTaggedFiles=function(){var _this$props=_this.props,repoID=_this$props.repoID,currentTag=_this$props.currentTag;_seafileApi.seafileAPI.listTaggedFiles(repoID,currentTag.id).then(function(res){var taggedFileList=[];res.data.tagged_files!==undefined&&res.data.tagged_files.forEach(function(file){var taggedFile=file;taggedFileList.push(taggedFile);});_this.setState({taggedFileList:taggedFileList});});};_this.state={taggedFileList:[]};return _this;}_createClass(ListTaggedFilesDialog,[{key:'componentDidMount',value:function componentDidMount(){this.getTaggedFiles();}},{key:'render',value:function render(){var _this2=this;var taggedFileList=this.state.taggedFileList;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.onClose},(0,_constants.gettext)('Tagged Files')),_react2.default.createElement(_reactstrap.ModalBody,{className:'dialog-list-container'},_react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'45%',className:'ellipsis'},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{width:'27%'},(0,_constants.gettext)('Size')),_react2.default.createElement('th',{width:'18%'},(0,_constants.gettext)('Last Update')),_react2.default.createElement('th',{width:'10%'}))),_react2.default.createElement('tbody',null,taggedFileList.map(function(taggedFile,index){return _react2.default.createElement(TaggedFile,{key:index,repoID:_this2.props.repoID,taggedFile:taggedFile,onDeleteTaggedFile:_this2.onDeleteTaggedFile});})))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.props.toggleCancel},(0,_constants.gettext)('Close'))));}}]);return ListTaggedFilesDialog;}(_react2.default.Component);ListTaggedFilesDialog.propTypes=propTypes;exports.default=ListTaggedFilesDialog;var TaggedFilePropTypes={repoID:_propTypes2.default.string.isRequired,taggedFile:_propTypes2.default.object,onDeleteTaggedFile:_propTypes2.default.func.isRequired};var TaggedFile=function(_React$Component2){_inherits(TaggedFile,_React$Component2);function TaggedFile(props){_classCallCheck(this,TaggedFile);var _this3=_possibleConstructorReturn(this,(TaggedFile.__proto__||Object.getPrototypeOf(TaggedFile)).call(this,props));_this3.onMouseEnter=function(){_this3.setState({active:true});};_this3.onMouseLeave=function(){_this3.setState({active:false});};_this3.state={active:false};return _this3;}_createClass(TaggedFile,[{key:'render',value:function render(){var taggedFile=this.props.taggedFile;var className=this.state.active?'action-icon sf2-icon-x3':'action-icon vh sf2-icon-x3';var path=taggedFile.parent_path?_utils.Utils.joinPath(taggedFile.parent_path,taggedFile.filename):'';var href=_constants.siteRoot+'lib/'+this.props.repoID+'/file'+_utils.Utils.encodePath(path);return taggedFile.file_deleted?_react2.default.createElement('tr',{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{colSpan:'3',className:'name'},taggedFile.filename,' ',_react2.default.createElement('span',{style:{color:\"red\"}},(0,_constants.gettext)('deleted'))),_react2.default.createElement('td',null,_react2.default.createElement('i',{className:className,onClick:this.props.onDeleteTaggedFile.bind(this,taggedFile)}))):_react2.default.createElement('tr',{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{className:'name'},_react2.default.createElement('a',{href:href,target:'_blank'},taggedFile.filename)),_react2.default.createElement('td',null,_utils.Utils.bytesToSize(taggedFile.size)),_react2.default.createElement('td',null,_moment2.default.unix(taggedFile.mtime).fromNow()),_react2.default.createElement('td',null,_react2.default.createElement('i',{className:className,onClick:this.props.onDeleteTaggedFile.bind(this,taggedFile)})));}}]);return TaggedFile;}(_react2.default.Component);TaggedFile.propTypes=TaggedFilePropTypes;\n\n/***/ }),\n\n/***/ 18:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _glamor=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Alert=function(_React$PureComponent){_inherits(Alert,_React$PureComponent);function Alert(props){_classCallCheck(this,Alert);var _this=_possibleConstructorReturn(this,(Alert.__proto__||Object.getPrototypeOf(Alert)).call(this,props));_this.containerStyle=(0,_glamor.css)({borderRadius:'3px',backgroundColor:'#fff',padding:'10px 16px',display:'flex',boxSizing:'border-box',boxShadow:'rgba(67, 90, 111, 0.3) 0px 0px 1px, rgba(67, 90, 111, 0.47) 0px 8px 10px -4px',justifyContent:'space-between',flexDirection:'row'});_this.containerBorderSuccess=(0,_glamor.css)({borderLeft:'3px solid rgb(71, 184, 129)'});_this.containerBorderWarn=(0,_glamor.css)({borderLeft:'3px solid rgb(217, 130, 43)'});_this.containerBorderDanger=(0,_glamor.css)({borderLeft:'3px solid rgb(236, 76, 71)'});_this.containerBorderNotify=(0,_glamor.css)({borderLeft:'3px solid rgb(16, 112, 202)'});_this.toastTextTitle=(0,_glamor.css)({fontWeight:'600',fontSize:'14px',color:'#435a6f',margin:'0'});_this.toastTextChild=(0,_glamor.css)({fontSize:'14px',color:'#999',margin:'0'});_this.toastClose=(0,_glamor.css)({marginLeft:'15px',height:'24px',width:'24px',lineHeight:'22px',fontWeight:'700',textAlign:'center',fontSize:'20px',color:'#000',cursor:'pointer',opacity:'0.5',':hover':{opacity:1}});_this.toastIcon=(0,_glamor.css)({marginRight:'10px',width:'14px',height:'20px',lineHeight:'20px'});return _this;}_createClass(Alert,[{key:'getContainerStyle',value:function getContainerStyle(intent){switch(intent){case'success':return{borderStyle:this.containerBorderSuccess,iconColor:(0,_glamor.css)({color:'rgb(71, 184, 129)'}),iconClass:'fa fa-check-circle'};case'warning':return{borderStyle:this.containerBorderWarn,iconColor:(0,_glamor.css)({color:'rgb(217, 130, 43)'}),iconClass:'fa fa-exclamation-triangle'};case'none':return{borderStyle:this.containerBorderNotify,iconColor:(0,_glamor.css)({color:'rgb(16, 112, 202)'}),iconClass:'fa fa-exclamation-circle'};case'danger':return{borderStyle:this.containerBorderDanger,iconColor:(0,_glamor.css)({color:'rgb(236, 76, 71)'}),iconClass:'fa fa-exclamation-circle'};}}},{key:'render',value:function render(){var toastStyle=this.getContainerStyle(this.props.intent);return _react2.default.createElement('div',(0,_glamor.css)(toastStyle.borderStyle,this.containerStyle),_react2.default.createElement('div',{className:this.toastIcon},_react2.default.createElement('i',_extends({className:toastStyle.iconClass},toastStyle.iconColor))),_react2.default.createElement('div',{className:this.toastTextContainer},_react2.default.createElement('p',{className:this.toastTextTitle},this.props.title),this.props.children?_react2.default.createElement('p',{className:this.toastTextChild},this.props.children):null),_react2.default.createElement('div',{onClick:this.props.onRemove,className:this.toastClose},_react2.default.createElement('span',null,'\\xD7')));}}]);return Alert;}(_react2.default.PureComponent);exports.default=Alert;\n\n/***/ }),\n\n/***/ 19:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _utils=__webpack_require__(4);var _selectEditor=__webpack_require__(32);var _selectEditor2=_interopRequireDefault(_selectEditor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isTextMode:_propTypes2.default.bool.isRequired,isEditIconShow:_propTypes2.default.bool.isRequired,permissions:_propTypes2.default.array.isRequired,currentPermission:_propTypes2.default.string.isRequired,onPermissionChanged:_propTypes2.default.func.isRequired};var SharePermissionEditor=function(_React$Component){_inherits(SharePermissionEditor,_React$Component);function SharePermissionEditor(){var _ref;var _temp,_this,_ret;_classCallCheck(this,SharePermissionEditor);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=SharePermissionEditor.__proto__||Object.getPrototypeOf(SharePermissionEditor)).call.apply(_ref,[this].concat(args))),_this),_this.translatePermission=function(permission){return _utils.Utils.sharePerms(permission);},_this.translateExplanation=function(explanation){return _utils.Utils.sharePermsExplanation(explanation);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(SharePermissionEditor,[{key:'render',value:function render(){return _react2.default.createElement(_selectEditor2.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.permissions,currentOption:this.props.currentPermission,onOptionChanged:this.props.onPermissionChanged,translateOption:this.translatePermission,translateExplanation:this.translateExplanation});}}]);return SharePermissionEditor;}(_react2.default.Component);SharePermissionEditor.propTypes=propTypes;exports.default=SharePermissionEditor;\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var dirPath=exports.dirPath='/';var gettext=exports.gettext=window.gettext;var siteRoot=exports.siteRoot=window.app.config.siteRoot;var loginUrl=exports.loginUrl=window.app.config.loginUrl;var avatarInfo=exports.avatarInfo=window.app.config.avatarInfo;var logoPath=exports.logoPath=window.app.config.logoPath;var mediaUrl=exports.mediaUrl=window.app.config.mediaUrl;var siteTitle=exports.siteTitle=window.app.config.siteTitle;var siteName=exports.siteName=window.app.config.siteName;var logoWidth=exports.logoWidth=window.app.config.logoWidth;var logoHeight=exports.logoHeight=window.app.config.logoHeight;var isPro=exports.isPro=window.app.config.isPro==='True';var isDocs=exports.isDocs=window.app.config.isDocs==='True';var lang=exports.lang=window.app.config.lang;var fileServerRoot=exports.fileServerRoot=window.app.config.fileServerRoot;var seafileVersion=exports.seafileVersion=window.app.config.seafileVersion;var serviceURL=exports.serviceURL=window.app.config.serviceURL;//pageOptions\nvar seafileCollabServer=exports.seafileCollabServer=window.app.pageOptions.seafileCollabServer;var name=exports.name=window.app.pageOptions.name;var contactEmail=exports.contactEmail=window.app.pageOptions.contactEmail;var username=exports.username=window.app.pageOptions.username;var canAddRepo=exports.canAddRepo=window.app.pageOptions.canAddRepo;var canGenerateShareLink=exports.canGenerateShareLink=window.app.pageOptions.canGenerateShareLink;var canGenerateUploadLink=exports.canGenerateUploadLink=window.app.pageOptions.canGenerateUploadLink?true:false;var canViewOrg=exports.canViewOrg=window.app.pageOptions.canViewOrg==='True';var fileAuditEnabled=exports.fileAuditEnabled=window.app.pageOptions.fileAuditEnabled?true:false;var enableFileComment=exports.enableFileComment=window.app.pageOptions.enableFileComment?true:false;var folderPermEnabled=exports.folderPermEnabled=window.app.pageOptions.folderPermEnabled==='True';var enableResetEncryptedRepoPassword=exports.enableResetEncryptedRepoPassword=window.app.pageOptions.enableResetEncryptedRepoPassword==='True';var isEmailConfigured=exports.isEmailConfigured=window.app.pageOptions.isEmailConfigured==='True';var enableUploadFolder=exports.enableUploadFolder=window.app.pageOptions.enableUploadFolder==='True';var enableResumableFileUpload=exports.enableResumableFileUpload=window.app.pageOptions.enableResumableFileUpload==='True';var storages=exports.storages=window.app.pageOptions.storages;// storage backends\nvar enableRepoSnapshotLabel=exports.enableRepoSnapshotLabel=window.app.pageOptions.enableRepoSnapshotLabel;var shareLinkExpireDaysMin=exports.shareLinkExpireDaysMin=window.app.pageOptions.shareLinkExpireDaysMin;var shareLinkExpireDaysMax=exports.shareLinkExpireDaysMax=window.app.pageOptions.shareLinkExpireDaysMax;var maxFileName=exports.maxFileName=window.app.pageOptions.maxFileName;var enableWiki=exports.enableWiki=window.app.pageOptions.enableWiki;var enableEncryptedLibrary=exports.enableEncryptedLibrary=window.app.pageOptions.enableEncryptedLibrary;var enableRepoHistorySetting=exports.enableRepoHistorySetting=window.app.pageOptions.enableRepoHistorySetting;var isSystemStaff=exports.isSystemStaff=window.app.pageOptions.isSystemStaff;var thumbnailSizeForOriginal=exports.thumbnailSizeForOriginal=window.app.pageOptions.thumbnailSizeForOriginal;var repoPasswordMinLength=exports.repoPasswordMinLength=window.app.pageOptions.repoPasswordMinLength;var curNoteMsg=exports.curNoteMsg=window.app.pageOptions.curNoteMsg;var curNoteID=exports.curNoteID=window.app.pageOptions.curNoteID;// wiki\nvar slug=exports.slug=window.wiki?window.wiki.config.slug:'';var repoID=exports.repoID=window.wiki?window.wiki.config.repoId:'';var initialPath=exports.initialPath=window.wiki?window.wiki.config.initial_path:'';var permission=exports.permission=window.wiki?window.wiki.config.permission==='True':'';var isDir=exports.isDir=window.wiki?window.wiki.config.isDir:'';var serviceUrl=exports.serviceUrl=window.wiki?window.wiki.config.serviceUrl:'';var isPublicWiki=exports.isPublicWiki=window.wiki?window.wiki.config.isPublicWiki==='True':'';// file history\nvar PER_PAGE=exports.PER_PAGE=25;var historyRepoID=exports.historyRepoID=window.fileHistory?window.fileHistory.pageOptions.repoID:'';var repoName=exports.repoName=window.fileHistory?window.fileHistory.pageOptions.repoName:'';var filePath=exports.filePath=window.fileHistory?window.fileHistory.pageOptions.filePath:'';var fileName=exports.fileName=window.fileHistory?window.fileHistory.pageOptions.fileName:'';// Draft review\nvar draftFilePath=exports.draftFilePath=window.draft?window.draft.config.draftFilePath:'';var draftOriginFilePath=exports.draftOriginFilePath=window.draft?window.draft.config.draftOriginFilePath:'';var draftFileName=exports.draftFileName=window.draft?window.draft.config.draftFileName:'';var draftID=exports.draftID=window.draft?window.draft.config.draftID:'';var draftRepoID=exports.draftRepoID=window.draft?window.draft.config.draftRepoID:'';var author=exports.author=window.draft?window.draft.config.author:'';var authorAvatar=exports.authorAvatar=window.draft?window.draft.config.authorAvatar:'';var originFileExists=exports.originFileExists=window.draft?window.draft.config.originFileExists:'';var draftFileExists=exports.draftFileExists=window.draft?window.draft.config.draftFileExists:'';var draftStatus=exports.draftStatus=window.draft?window.draft.config.draftStatus:'';var draftPublishVersion=exports.draftPublishVersion=window.draft?window.draft.config.draftPublishVersion:'';var originFileVersion=exports.originFileVersion=window.draft?window.draft.config.originFileVersion:'';// org admin\nvar orgID=exports.orgID=window.org?window.org.pageOptions.orgID:'';var invitationLink=exports.invitationLink=window.org?window.org.pageOptions.invitationLink:'';var orgMemberQuotaEnabled=exports.orgMemberQuotaEnabled=window.org?window.org.pageOptions.orgMemberQuotaEnabled:'';// sys admin\nvar constanceEnabled=exports.constanceEnabled=window.sysadmin?window.sysadmin.pageOptions.constance_enabled:'';var multiTenancy=exports.multiTenancy=window.sysadmin?window.sysadmin.pageOptions.multi_tenancy:'';var multiInstitution=exports.multiInstitution=window.sysadmin?window.sysadmin.pageOptions.multi_institution:'';var sysadminExtraEnabled=exports.sysadminExtraEnabled=window.sysadmin?window.sysadmin.pageOptions.sysadmin_extra_enabled:'';var enableGuestInvitation=exports.enableGuestInvitation=window.sysadmin?window.sysadmin.pageOptions.enable_guest_invitation:'';var enableTermsAndConditions=exports.enableTermsAndConditions=window.sysadmin?window.sysadmin.pageOptions.enable_terms_and_conditions:'';var isDefaultAdmin=exports.isDefaultAdmin=window.sysadmin?window.sysadmin.pageOptions.is_default_admin:'';var enableFileScan=exports.enableFileScan=window.sysadmin?window.sysadmin.pageOptions.enable_file_scan:'';var canViewSystemInfo=exports.canViewSystemInfo=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_system_info:'';var canViewStatistic=exports.canViewStatistic=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_statistic:'';var canConfigSystem=exports.canConfigSystem=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_config_system:'';var canManageLibrary=exports.canManageLibrary=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_library:'';var canManageUser=exports.canManageUser=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_user:'';var canManageGroup=exports.canManageGroup=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_group:'';var canViewUserLog=exports.canViewUserLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_user_log:'';var canViewAdminLog=exports.canViewAdminLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_admin_log:'';\n\n/***/ }),\n\n/***/ 207:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 21:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var EditorUtilities=function(){function EditorUtilities(){_classCallCheck(this,EditorUtilities);}_createClass(EditorUtilities,[{key:'getFiles',value:function getFiles(){return _seafileApi.seafileAPI.listWikiDir(_constants.slug,'/').then(function(items){var files=items.data.dir_file_list.map(function(item){return{name:item.name,type:item.type==='dir'?'dir':'file',isExpanded:item.type==='dir'?true:false,parent_path:item.parent_dir,last_update_time:item.last_update_time,permission:item.permission,size:item.size};});return files;});}},{key:'listRepoDir',value:function listRepoDir(){return _seafileApi.seafileAPI.listDir(_constants.repoID,'/',{recursive:true}).then(function(items){var files=items.data.dirent_list.map(function(item){return{name:item.name,type:item.type==='dir'?'dir':'file',isExpanded:item.type==='dir'?true:false,parent_path:item.parent_dir,last_update_time:item.mtime,permission:item.permission,size:item.size};});return files;});}},{key:'createFile',value:function createFile(filePath,isDraft){return _seafileApi.seafileAPI.createFile(_constants.repoID,filePath,isDraft);}},{key:'deleteFile',value:function deleteFile(filePath){return _seafileApi.seafileAPI.deleteFile(_constants.repoID,filePath);}},{key:'renameFile',value:function renameFile(filePath,newFileName){return _seafileApi.seafileAPI.renameFile(_constants.repoID,filePath,newFileName);}},{key:'createDir',value:function createDir(dirPath){return _seafileApi.seafileAPI.createDir(_constants.repoID,dirPath);}},{key:'deleteDir',value:function deleteDir(dirPath){return _seafileApi.seafileAPI.deleteDir(_constants.repoID,dirPath);}},{key:'renameDir',value:function renameDir(dirPath,newDirName){return _seafileApi.seafileAPI.renameDir(_constants.repoID,dirPath,newDirName);}},{key:'getWikiFileContent',value:function getWikiFileContent(slug,filePath){return _seafileApi.seafileAPI.getWikiFileContent(slug,filePath);}},{key:'getSource',value:function getSource(){return _seafileApi.seafileAPI.getSource();}},{key:'searchFiles',value:function searchFiles(queryData,cancelToken){return _seafileApi.seafileAPI.searchFiles(queryData,cancelToken);}},{key:'getAccountInfo',value:function getAccountInfo(){return _seafileApi.seafileAPI.getAccountInfo();}// file history\n},{key:'getFileDownloadLink',value:function getFileDownloadLink(filePath){return _seafileApi.seafileAPI.getFileDownloadLink(_constants.historyRepoID,filePath);}},{key:'getFileContent',value:function getFileContent(filePath){return _seafileApi.seafileAPI.getFileContent(filePath);}},{key:'listFileHistoryRecords',value:function listFileHistoryRecords(filePath,page,per_page){return _seafileApi.seafileAPI.listFileHistoryRecords(_constants.historyRepoID,filePath,page,per_page);}},{key:'revertFile',value:function revertFile(filePath,commitID){return _seafileApi.seafileAPI.revertFile(_constants.historyRepoID,filePath,commitID);}},{key:'listDrafts',value:function listDrafts(){return _seafileApi.seafileAPI.listDrafts();}},{key:'deleteDraft',value:function deleteDraft(id){return _seafileApi.seafileAPI.deleteDraft(id);}},{key:'publishDraft',value:function publishDraft(id){return _seafileApi.seafileAPI.publishDraft(id);}},{key:'zipDownload',value:function zipDownload(parent_dir,dirents){return _seafileApi.seafileAPI.zipDownload(_constants.repoID,parent_dir,dirents);}},{key:'queryZipProgress',value:function queryZipProgress(zip_token){return _seafileApi.seafileAPI.queryZipProgress(zip_token);}},{key:'cancelZipTask',value:function cancelZipTask(zip_token){return _seafileApi.seafileAPI.cancelZipTask(zip_token);}}]);return EditorUtilities;}();var editorUtilities=new EditorUtilities();exports.default=editorUtilities;\n\n/***/ }),\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _Async=__webpack_require__(76);var _Async2=_interopRequireDefault(_Async);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={placeholder:_propTypes2.default.string.isRequired,onSelectChange:_propTypes2.default.func.isRequired,isMulti:_propTypes2.default.bool.isRequired,className:_propTypes2.default.string};var NoOptionsMessage=function NoOptionsMessage(props){return _react2.default.createElement('div',_extends({},props.innerProps,{style:{margin:'6px 10px',textAlign:'center',color:'hsl(0,0%,50%)'}}),(0,_constants.gettext)('User not found'));};var UserSelect=function(_React$Component){_inherits(UserSelect,_React$Component);function UserSelect(props){_classCallCheck(this,UserSelect);var _this=_possibleConstructorReturn(this,(UserSelect.__proto__||Object.getPrototypeOf(UserSelect)).call(this,props));_this.handleSelectChange=function(option){_this.options=[];_this.props.onSelectChange(option);};_this.loadOptions=function(input,callback){var value=input.trim();if(value.length>0){_seafileApi.seafileAPI.searchUsers(value).then(function(res){_this.options=[];for(var i=0;i<res.data.users.length;i++){var item=res.data.users[i];var obj={};obj.value=item.name;obj.email=item.email;obj.label=_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement('img',{src:item.avatar_url,className:'select-module select-module-icon avatar',alt:''}),_react2.default.createElement('span',{className:'select-module select-module-name'},item.name));_this.options.push(obj);}callback(_this.options);});}};_this.clearSelect=function(){_this.refs.userSelect.select.onChange([],{action:'clear'});};_this.options=[];return _this;}_createClass(UserSelect,[{key:'render',value:function render(){return _react2.default.createElement(_Async2.default,{isClearable:true,classNamePrefix:true,components:{NoOptionsMessage:NoOptionsMessage},isMulti:this.props.isMulti,loadOptions:this.loadOptions,onChange:this.handleSelectChange,placeholder:this.props.placeholder,className:'user-select '+this.props.className,ref:'userSelect'});}}]);return UserSelect;}(_react2.default.Component);UserSelect.propTypes=propTypes;exports.default=UserSelect;\n\n/***/ }),\n\n/***/ 24:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var FileTag=function FileTag(object){_classCallCheck(this,FileTag);this.id=object.file_tag_id;this.repo_tag_id=object.repo_tag_id;this.name=object.tag_name;this.color=object.tag_color;};exports.default=FileTag;\n\n/***/ }),\n\n/***/ 25:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _shareToUser=__webpack_require__(49);var _shareToUser2=_interopRequireDefault(_shareToUser);var _shareToGroup=__webpack_require__(50);var _shareToGroup2=_interopRequireDefault(_shareToGroup);var _generateShareLink=__webpack_require__(51);var _generateShareLink2=_interopRequireDefault(_generateShareLink);var _generateUploadLink=__webpack_require__(52);var _generateUploadLink2=_interopRequireDefault(_generateUploadLink);__webpack_require__(53);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isGroupOwnedRepo:_propTypes2.default.bool,itemType:_propTypes2.default.string.isRequired,// there will be three choose: ['library', 'dir', 'file']\nitemName:_propTypes2.default.string.isRequired,itemPath:_propTypes2.default.string.isRequired,toggleDialog:_propTypes2.default.func.isRequired,repoID:_propTypes2.default.string.isRequired,repoEncrypted:_propTypes2.default.bool,userPerm:_propTypes2.default.string,enableDirPrivateShare:_propTypes2.default.bool};var ShareDialog=function(_React$Component){_inherits(ShareDialog,_React$Component);function ShareDialog(props){_classCallCheck(this,ShareDialog);var _this=_possibleConstructorReturn(this,(ShareDialog.__proto__||Object.getPrototypeOf(ShareDialog)).call(this,props));_this.getInitialActiveTab=function(){var _this$props=_this.props,repoEncrypted=_this$props.repoEncrypted,userPerm=_this$props.userPerm,enableDirPrivateShare=_this$props.enableDirPrivateShare;var enableShareLink=!repoEncrypted&&_constants.canGenerateShareLink;var enableUploadLink=!repoEncrypted&&_constants.canGenerateUploadLink&&userPerm=='rw';if(enableShareLink){return'shareLink';}else if(enableUploadLink){return'uploadLink';}else if(enableDirPrivateShare){return'shareToUser';}};_this.toggle=function(tab){if(_this.state.activeTab!==tab){_this.setState({activeTab:tab});}};_this.renderDirContent=function(){var activeTab=_this.state.activeTab;var _this$props2=_this.props,repoEncrypted=_this$props2.repoEncrypted,userPerm=_this$props2.userPerm,enableDirPrivateShare=_this$props2.enableDirPrivateShare;var enableShareLink=!repoEncrypted&&_constants.canGenerateShareLink;var enableUploadLink=!repoEncrypted&&_constants.canGenerateUploadLink&&userPerm=='rw';return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'share-dialog-side'},_react2.default.createElement(_reactstrap.Nav,{pills:true,vertical:true},enableShareLink&&_react2.default.createElement(_reactstrap.NavItem,null,_react2.default.createElement(_reactstrap.NavLink,{className:activeTab==='shareLink'?'active':'',onClick:_this.toggle.bind(_this,'shareLink')},(0,_constants.gettext)('Share Link'))),enableUploadLink&&_react2.default.createElement(_reactstrap.NavItem,null,_react2.default.createElement(_reactstrap.NavLink,{className:activeTab==='uploadLink'?'active':'',onClick:_this.toggle.bind(_this,'uploadLink')},(0,_constants.gettext)('Upload Link'))),enableDirPrivateShare&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.NavItem,null,_react2.default.createElement(_reactstrap.NavLink,{className:activeTab==='shareToUser'?'active':'',onClick:_this.toggle.bind(_this,'shareToUser')},(0,_constants.gettext)('Share to user'))),_react2.default.createElement(_reactstrap.NavItem,null,_react2.default.createElement(_reactstrap.NavLink,{className:activeTab==='shareToGroup'?'active':'',onClick:_this.toggle.bind(_this,'shareToGroup')},(0,_constants.gettext)('Share to group')))))),_react2.default.createElement('div',{className:'share-dialog-main'},_react2.default.createElement(_reactstrap.TabContent,{activeTab:_this.state.activeTab},enableShareLink&&_react2.default.createElement(_reactstrap.TabPane,{tabId:'shareLink'},_react2.default.createElement(_generateShareLink2.default,{itemPath:_this.props.itemPath,repoID:_this.props.repoID,closeShareDialog:_this.props.toggleDialog})),enableUploadLink&&_react2.default.createElement(_reactstrap.TabPane,{tabId:'uploadLink'},_react2.default.createElement(_generateUploadLink2.default,{itemPath:_this.props.itemPath,repoID:_this.props.repoID,closeShareDialog:_this.props.toggleDialog})),enableDirPrivateShare&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.TabPane,{tabId:'shareToUser'},_react2.default.createElement(_shareToUser2.default,{itemType:_this.props.itemType,isGroupOwnedRepo:_this.props.isGroupOwnedRepo,itemPath:_this.props.itemPath,repoID:_this.props.repoID})),_react2.default.createElement(_reactstrap.TabPane,{tabId:'shareToGroup'},_react2.default.createElement(_shareToGroup2.default,{itemType:_this.props.itemType,isGroupOwnedRepo:_this.props.isGroupOwnedRepo,itemPath:_this.props.itemPath,repoID:_this.props.repoID}))))));};_this.renderFileContent=function(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'share-dialog-side'},_react2.default.createElement(_reactstrap.Nav,{pills:true,vertical:true},_react2.default.createElement(_reactstrap.NavItem,null,_react2.default.createElement(_reactstrap.NavLink,{className:'active',onClick:function onClick(){_this.toggle.bind(_this,'shareLink');}},(0,_constants.gettext)('Share Link'))))),_react2.default.createElement('div',{className:'share-dialog-main'},_react2.default.createElement(_reactstrap.TabContent,{activeTab:_this.state.activeTab},_react2.default.createElement(_reactstrap.TabPane,{tabId:'shareLink'},_react2.default.createElement(_generateShareLink2.default,{itemPath:_this.props.itemPath,repoID:_this.props.repoID,closeShareDialog:_this.props.toggleDialog})))));};_this.state={activeTab:_this.getInitialActiveTab()};return _this;}_createClass(ShareDialog,[{key:'render',value:function render(){var _props=this.props,itemType=_props.itemType,itemName=_props.itemName,repoEncrypted=_props.repoEncrypted;var enableShareLink=!repoEncrypted&&_constants.canGenerateShareLink;return _react2.default.createElement('div',null,_react2.default.createElement(_reactstrap.Modal,{isOpen:true,style:{maxWidth:'720px'},className:'share-dialog',toggle:this.props.toggleDialog},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.toggleDialog},(0,_constants.gettext)('Share'),' ',_react2.default.createElement('span',{className:'op-target',title:itemName},itemName)),_react2.default.createElement(_reactstrap.ModalBody,{className:'dialog-list-container share-dialog-content'},(itemType==='library'||itemType==='dir')&&this.renderDirContent(),itemType==='file'&&enableShareLink&&this.renderFileContent())));}}]);return ShareDialog;}(_react2.default.Component);ShareDialog.propTypes=propTypes;exports.default=ShareDialog;\n\n/***/ }),\n\n/***/ 258:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactDom=__webpack_require__(8);var _reactDom2=_interopRequireDefault(_reactDom);var _utils=__webpack_require__(4);var _editorUtilties=__webpack_require__(21);var _editorUtilties2=_interopRequireDefault(_editorUtilties);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isAdminPanel:_propTypes2.default.bool};var Account=function(_Component){_inherits(Account,_Component);function Account(props){_classCallCheck(this,Account);var _this=_possibleConstructorReturn(this,(Account.__proto__||Object.getPrototypeOf(Account)).call(this,props));_this.getContainer=function(){return _reactDom2.default.findDOMNode(_this);};_this.handleProps=function(){if(_this.state.showInfo){_this.addEvents();}else{_this.removeEvents();}};_this.addEvents=function(){['click','touchstart','keyup'].forEach(function(event){return document.addEventListener(event,_this.handleDocumentClick,true);});};_this.removeEvents=function(){['click','touchstart','keyup'].forEach(function(event){return document.removeEventListener(event,_this.handleDocumentClick,true);});};_this.handleDocumentClick=function(e){if(e&&(e.which===3||e.type==='keyup'&&e.which!==_utils.Utils.keyCodes.tab))return;var container=_this.getContainer();if(container.contains(e.target)&&container!==e.target&&(e.type!=='keyup'||e.which===_utils.Utils.keyCodes.tab)){return;}_this.setState({showInfo:!_this.state.showInfo});};_this.onClickAccount=function(){_this.setState({showInfo:!_this.state.showInfo});};_this.getAccountInfo=function(){_editorUtilties2.default.getAccountInfo().then(function(resp){_this.setState({userName:resp.data.name,contactEmail:resp.data.email,usageRate:resp.data.space_usage,quotaUsage:_utils.Utils.bytesToSize(resp.data.usage),quotaTotal:_utils.Utils.bytesToSize(resp.data.total),isStaff:resp.data.is_staff,isOrgStaff:resp.data.is_org_staff===1?true:false,avatarURL:resp.data.avatar_url});});};_this.renderMenu=function(){var isAdminPage=_this.state.isStaff||_this.state.isOrgStaff;if(isAdminPage&&_this.props.isAdminPanel){return _react2.default.createElement('a',{href:_constants.siteRoot,title:(0,_constants.gettext)('Exit Admin Panel'),className:'item'},(0,_constants.gettext)('Exit Admin Panel'));}if(_this.state.isStaff){return _react2.default.createElement('a',{href:_constants.siteRoot+'sys/useradmin/',title:(0,_constants.gettext)('System Admin'),className:'item'},(0,_constants.gettext)('System Admin'));}if(_this.state.isOrgStaff){return _react2.default.createElement('a',{href:_constants.siteRoot+'org/useradmin/',title:(0,_constants.gettext)('Organization Admin'),className:'item'},(0,_constants.gettext)('Organization Admin'));}};_this.renderAvatar=function(){if(_this.state.avatarURL){return _react2.default.createElement('img',{src:_this.state.avatarURL,width:'36',height:'36',className:'avatar',alt:(0,_constants.gettext)('Avatar')});}return _react2.default.createElement('img',{src:'',width:'36',height:'36',className:'avatar',alt:(0,_constants.gettext)('Avatar')});};_this.state={showInfo:false,userName:'',contactEmail:'',quotaUsage:'',quotaTotal:'',isStaff:false,isOrgStaff:false,usageRate:'',avatarURL:''};return _this;}_createClass(Account,[{key:'componentDidMount',value:function componentDidMount(){this.getAccountInfo();}},{key:'componentDidUpdate',value:function componentDidUpdate(prevProps){this.handleProps();}},{key:'render',value:function render(){return _react2.default.createElement('div',{id:'account'},_react2.default.createElement('a',{id:'my-info',onClick:this.onClickAccount,className:'account-toggle no-deco d-none d-md-block','aria-label':'View profile and more'},_react2.default.createElement('span',null,_react2.default.createElement('img',{src:this.state.avatarURL,width:'36',height:'36',className:'avatar',alt:(0,_constants.gettext)('Avatar')})),_react2.default.createElement('span',{className:'fas fa-caret-down vam'})),_react2.default.createElement('span',{className:'account-toggle sf2-icon-more mobile-icon d-md-none','aria-label':'View profile and more',onClick:this.onClickAccount}),_react2.default.createElement('div',{id:'user-info-popup',className:'account-popup sf-popover '+(this.state.showInfo?'':'hide')},_react2.default.createElement('div',{className:'outer-caret up-outer-caret'},_react2.default.createElement('div',{className:'inner-caret'})),_react2.default.createElement('div',{className:'sf-popover-con'},_react2.default.createElement('div',{className:'item o-hidden'},this.renderAvatar(),_react2.default.createElement('div',{className:'txt'},this.state.userName)),_react2.default.createElement('div',{id:'space-traffic'},_react2.default.createElement('div',{className:'item'},_react2.default.createElement('p',null,(0,_constants.gettext)('Used:'),' ',this.state.quotaUsage,' / ',this.state.quotaTotal),_react2.default.createElement('div',{id:'quota-bar'},_react2.default.createElement('span',{id:'quota-usage',className:'usage',style:{width:this.state.usageRate}})))),_react2.default.createElement('a',{href:_constants.siteRoot+'profile/',className:'item'},(0,_constants.gettext)('Settings')),this.renderMenu(),_react2.default.createElement('a',{href:_constants.siteRoot+'accounts/logout/',className:'item'},(0,_constants.gettext)('Log out')))));}}]);return Account;}(_react.Component);Account.defaultProps={isAdminPanel:false};Account.propTypes=propTypes;exports.default=Account;\n\n/***/ }),\n\n/***/ 274:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 275:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 276:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _socket=__webpack_require__(253);var _socket2=_interopRequireDefault(_socket);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var socket=_constants.seafileCollabServer!==''?(0,_socket2.default)(_constants.seafileCollabServer):undefined;var CollabServer=function(){function CollabServer(){_classCallCheck(this,CollabServer);}_createClass(CollabServer,[{key:'watchRepo',value:function watchRepo(repoID,fn){if(!socket){return;}socket.emit('repo_update',{request:'watch_update',repo_id:repoID,user:{name:_constants.name,username:_constants.username,contact_email:_constants.contactEmail}});socket.on('repo_update',fn);}},{key:'unwatchRepo',value:function unwatchRepo(repoID,fn){if(!socket){return;}socket.emit('repo_update',{request:'unwatch_update',repo_id:repoID,user:{name:_constants.name,username:_constants.username,contact_email:_constants.contactEmail}});socket.off('repo_update',fn);}}]);return CollabServer;}();var collabServer=new CollabServer();exports.default=collabServer;\n\n/***/ }),\n\n/***/ 277:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentNode:_propTypes2.default.object.isRequired,toggleCancel:_propTypes2.default.func.isRequired,handleSubmit:_propTypes2.default.func.isRequired};var Delete=function(_React$Component){_inherits(Delete,_React$Component);function Delete(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Delete);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Delete.__proto__||Object.getPrototypeOf(Delete)).call.apply(_ref,[this].concat(args))),_this),_this.toggle=function(){_this.props.toggleCancel();},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Delete,[{key:'render',value:function render(){var currentNode=this.props.currentNode;var name=currentNode.object.name;var title=(0,_constants.gettext)('Delete File');if(currentNode.object.isDir()){title=(0,_constants.gettext)('Delete Folder');}return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},title),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('p',null,(0,_constants.gettext)('Are you sure to delete'),' ',_react2.default.createElement('b',null,name),' ?')),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.props.handleSubmit},(0,_constants.gettext)('Delete'))));}}]);return Delete;}(_react2.default.Component);Delete.propTypes=propTypes;exports.default=Delete;\n\n/***/ }),\n\n/***/ 278:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentNode:_propTypes2.default.object,onRename:_propTypes2.default.func.isRequired,toggleCancel:_propTypes2.default.func.isRequired,checkDuplicatedName:_propTypes2.default.func.isRequired};var Rename=function(_React$Component){_inherits(Rename,_React$Component);function Rename(props){_classCallCheck(this,Rename);var _this=_possibleConstructorReturn(this,(Rename.__proto__||Object.getPrototypeOf(Rename)).call(this,props));_this.handleChange=function(e){_this.setState({newName:e.target.value});};_this.handleSubmit=function(){var _this$validateInput=_this.validateInput(),isValid=_this$validateInput.isValid,errMessage=_this$validateInput.errMessage;if(!isValid){_this.setState({errMessage:errMessage});}else{var isDuplicated=_this.checkDuplicatedName();if(isDuplicated){var _errMessage=(0,_constants.gettext)('The name \"{name}\" is already taken. Please choose a different name.');_errMessage=_errMessage.replace('{name}',_utils.Utils.HTMLescape(_this.state.newName));_this.setState({errMessage:_errMessage});}else{_this.props.onRename(_this.state.newName);}}};_this.handleKeyPress=function(e){if(e.key==='Enter'){_this.handleSubmit();}};_this.toggle=function(){_this.props.toggleCancel();};_this.changeState=function(currentNode){var name=currentNode.object.name;_this.setState({newName:name});};_this.validateInput=function(){var newName=_this.state.newName.trim();var isValid=true;var errMessage='';if(!newName){isValid=false;errMessage=(0,_constants.gettext)('Name is required.');return{isValid:isValid,errMessage:errMessage};}if(newName.indexOf('/')>-1){isValid=false;errMessage=(0,_constants.gettext)('Name should not include '+'\\'/\\''+'.');return{isValid:isValid,errMessage:errMessage};}return{isValid:isValid,errMessage:errMessage};};_this.checkDuplicatedName=function(){var isDuplicated=_this.props.checkDuplicatedName(_this.state.newName);return isDuplicated;};_this.state={newName:'',errMessage:''};_this.newInput=_react2.default.createRef();return _this;}_createClass(Rename,[{key:'componentWillMount',value:function componentWillMount(){this.setState({newName:this.props.currentNode.object.name});}},{key:'componentDidMount',value:function componentDidMount(){var currentNode=this.props.currentNode;this.changeState(currentNode);this.newInput.focus();var type=currentNode.object.type;if(type==='file'){var endIndex=currentNode.object.name.lastIndexOf('.md');this.newInput.setSelectionRange(0,endIndex,'forward');}else{this.newInput.setSelectionRange(0,-1);}}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){this.changeState(nextProps.currentNode);}},{key:'render',value:function render(){var _this2=this;var type=this.props.currentNode.object.type;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},type==='file'?(0,_constants.gettext)('Rename File'):(0,_constants.gettext)('Rename Folder')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('p',null,type==='file'?(0,_constants.gettext)('New file name'):(0,_constants.gettext)('New folder name')),_react2.default.createElement(_reactstrap.Input,{onKeyPress:this.handleKeyPress,innerRef:function innerRef(input){_this2.newInput=input;},placeholder:'newName',value:this.state.newName,onChange:this.handleChange}),this.state.errMessage&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',className:'mt-2'},this.state.errMessage)),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.handleSubmit},(0,_constants.gettext)('Submit'))));}}]);return Rename;}(_react2.default.Component);Rename.propTypes=propTypes;exports.default=Rename;\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentMode:_propTypes2.default.string.isRequired,switchViewMode:_propTypes2.default.func.isRequired};var ViewModeToolbar=function(_React$Component){_inherits(ViewModeToolbar,_React$Component);function ViewModeToolbar(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ViewModeToolbar);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ViewModeToolbar.__proto__||Object.getPrototypeOf(ViewModeToolbar)).call.apply(_ref,[this].concat(args))),_this),_this.switchViewMode=function(e){e.preventDefault();var id=e.target.id;if(id===_this.props.currentMode){return;}_this.props.switchViewMode(id);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(ViewModeToolbar,[{key:'render',value:function render(){var baseClass='btn btn-secondary btn-icon sf-view-mode-btn ';return _react2.default.createElement('div',{className:'view-mode btn-group'},_react2.default.createElement('button',{className:baseClass+' sf2-icon-list-view '+(this.props.currentMode==='list'?'current-mode':''),id:'list',title:(0,_constants.gettext)('List'),onClick:this.switchViewMode}),_react2.default.createElement('button',{className:baseClass+' sf2-icon-two-columns '+(this.props.currentMode==='column'?'current-mode':''),id:'column',title:(0,_constants.gettext)('Column'),onClick:this.switchViewMode}));}}]);return ViewModeToolbar;}(_react2.default.Component);ViewModeToolbar.propTypes=propTypes;exports.default=ViewModeToolbar;\n\n/***/ }),\n\n/***/ 280:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _utils=__webpack_require__(4);var _constants=__webpack_require__(2);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _createFolderDialog=__webpack_require__(170);var _createFolderDialog2=_interopRequireDefault(_createFolderDialog);var _createFileDialog=__webpack_require__(123);var _createFileDialog2=_interopRequireDefault(_createFileDialog);var _shareDialog=__webpack_require__(25);var _shareDialog2=_interopRequireDefault(_shareDialog);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,repoName:_propTypes2.default.string.isRequired,repoEncrypted:_propTypes2.default.bool.isRequired,enableDirPrivateShare:_propTypes2.default.bool.isRequired,userPerm:_propTypes2.default.string.isRequired,isGroupOwnedRepo:_propTypes2.default.bool.isRequired,showShareBtn:_propTypes2.default.bool.isRequired,onAddFile:_propTypes2.default.func.isRequired,onAddFolder:_propTypes2.default.func.isRequired,onUploadFile:_propTypes2.default.func.isRequired,onUploadFolder:_propTypes2.default.func.isRequired,direntList:_propTypes2.default.array.isRequired};var DirOperationToolbar=function(_React$Component){_inherits(DirOperationToolbar,_React$Component);function DirOperationToolbar(props){_classCallCheck(this,DirOperationToolbar);var _this=_possibleConstructorReturn(this,(DirOperationToolbar.__proto__||Object.getPrototypeOf(DirOperationToolbar)).call(this,props));_this.hideOperationMenu=function(){_this.setState({isUploadMenuShow:false,isCreateMenuShow:false});};_this.toggleOperationMenu=function(e){e.nativeEvent.stopImmediatePropagation();var targetRect=e.target.getClientRects()[0];var left=targetRect.x;var top=targetRect.y+targetRect.height;var style={position:'fixed',display:'block',left:left,top:top};_this.setState({operationMenuStyle:style});};_this.onUploadClick=function(e){_this.toggleOperationMenu(e);_this.setState({isUploadMenuShow:true,isCreateMenuShow:false});};_this.onUploadFile=function(e){_this.setState({isUploadMenuShow:false});_this.props.onUploadFile(e);};_this.onUploadFolder=function(e){_this.setState({isUploadMenuShow:false});_this.props.onUploadFolder(e);};_this.onCreateClick=function(e){_this.toggleOperationMenu(e);_this.setState({isCreateMenuShow:true,isUploadMenuShow:false});};_this.onShareClick=function(e){e.nativeEvent.stopImmediatePropagation();//for document event\n_this.setState({isShareDialogShow:!_this.state.isShareDialogShow});};_this.onCreateFolderToggle=function(){_this.setState({isCreateFolderDialogShow:!_this.state.isCreateFolderDialogShow});};_this.onCreateFileToggle=function(){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:''});};_this.onCreateMarkdownToggle=function(){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:'.md'});};_this.onCreateExcelToggle=function(){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:'.xlsx'});};_this.onCreatePPTToggle=function(){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:'.pptx'});};_this.onCreateWordToggle=function(){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:'.docx'});};_this.onAddFile=function(filePath,isDraft){_this.setState({isCreateFileDialogShow:false});_this.props.onAddFile(filePath,isDraft);};_this.onAddFolder=function(dirPath){_this.setState({isCreateFolderDialogShow:false});_this.props.onAddFolder(dirPath);};_this.checkDuplicatedName=function(newName){var direntList=_this.props.direntList;var isDuplicated=direntList.some(function(object){return object.name===newName;});return isDuplicated;};_this.state={fileType:'.md',isCreateFileDialogShow:false,isCreateFolderDialogShow:false,isUploadMenuShow:false,isCreateMenuShow:false,isShareDialogShow:false,operationMenuStyle:''};return _this;}_createClass(DirOperationToolbar,[{key:'componentDidMount',value:function componentDidMount(){document.addEventListener('click',this.hideOperationMenu);}},{key:'componentWillUnmount',value:function componentWillUnmount(){document.removeEventListener('click',this.hideOperationMenu);}},{key:'render',value:function render(){var _props=this.props,path=_props.path,repoName=_props.repoName,userPerm=_props.userPerm;if(userPerm!=='rw'&&userPerm!=='admin'){return'';}var itemType=path==='/'?'library':'dir';var itemName=path=='/'?repoName:_utils.Utils.getFolderName(path);return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'operation'},_utils.Utils.isSupportUploadFolder()?_react2.default.createElement('button',{className:'btn btn-secondary operation-item',title:(0,_constants.gettext)('Upload'),onClick:this.onUploadClick},(0,_constants.gettext)('Upload')):_react2.default.createElement('button',{className:'btn btn-secondary operation-item',title:(0,_constants.gettext)('Upload'),onClick:this.onUploadFile},(0,_constants.gettext)('Upload')),_react2.default.createElement('button',{className:'btn btn-secondary operation-item',title:(0,_constants.gettext)('New'),onClick:this.onCreateClick},(0,_constants.gettext)('New')),this.props.showShareBtn&&_react2.default.createElement('button',{className:'btn btn-secondary operation-item',title:(0,_constants.gettext)('Share'),onClick:this.onShareClick},(0,_constants.gettext)('Share'))),this.state.isUploadMenuShow&&_react2.default.createElement('ul',{className:'menu dropdown-menu',style:this.state.operationMenuStyle},_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onUploadFile},(0,_constants.gettext)('Upload Files')),_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onUploadFolder},(0,_constants.gettext)('Upload Folder'))),this.state.isCreateMenuShow&&_react2.default.createElement('ul',{className:'menu dropdown-menu',style:this.state.operationMenuStyle},_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onCreateFolderToggle},(0,_constants.gettext)('New Folder')),_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onCreateFileToggle},(0,_constants.gettext)('New File')),_react2.default.createElement('li',{className:'dropdown-divider'}),_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onCreateMarkdownToggle},(0,_constants.gettext)('New Markdown File')),_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onCreateExcelToggle},(0,_constants.gettext)('New Excel File')),_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onCreatePPTToggle},(0,_constants.gettext)('New PowerPoint File')),_react2.default.createElement('li',{className:'dropdown-item',onClick:this.onCreateWordToggle},(0,_constants.gettext)('New Word File'))),this.state.isCreateFileDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_createFileDialog2.default,{parentPath:this.props.path,fileType:this.state.fileType,onAddFile:this.onAddFile,checkDuplicatedName:this.checkDuplicatedName,addFileCancel:this.onCreateFileToggle})),this.state.isCreateFolderDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_createFolderDialog2.default,{parentPath:this.props.path,onAddFolder:this.onAddFolder,checkDuplicatedName:this.checkDuplicatedName,addFolderCancel:this.onCreateFolderToggle})),this.state.isShareDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_shareDialog2.default,{itemType:itemType,itemName:itemName,itemPath:this.props.path,repoID:this.props.repoID,repoEncrypted:this.props.repoEncrypted,enableDirPrivateShare:this.props.enableDirPrivateShare,userPerm:this.props.userPerm,isGroupOwnedRepo:this.props.isGroupOwnedRepo,toggleDialog:this.onShareClick})));}}]);return DirOperationToolbar;}(_react2.default.Component);DirOperationToolbar.propTypes=propTypes;exports.default=DirOperationToolbar;\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _seafileApi=__webpack_require__(3);var _urlDecorator=__webpack_require__(124);var _urlDecorator2=_interopRequireDefault(_urlDecorator);var _zipDownloadDialog=__webpack_require__(171);var _zipDownloadDialog2=_interopRequireDefault(_zipDownloadDialog);var _moveDirentDialog=__webpack_require__(141);var _moveDirentDialog2=_interopRequireDefault(_moveDirentDialog);var _copyDirentDialog=__webpack_require__(142);var _copyDirentDialog2=_interopRequireDefault(_copyDirentDialog);var _direntsMenu=__webpack_require__(282);var _direntsMenu2=_interopRequireDefault(_direntsMenu);var _shareDialog=__webpack_require__(25);var _shareDialog2=_interopRequireDefault(_shareDialog);var _relatedFileDialogs=__webpack_require__(107);var _relatedFileDialogs2=_interopRequireDefault(_relatedFileDialogs);var _editFiletagDialog=__webpack_require__(106);var _editFiletagDialog2=_interopRequireDefault(_editFiletagDialog);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,repoEncrypted:_propTypes2.default.bool.isRequired,selectedDirentList:_propTypes2.default.array.isRequired,onItemsMove:_propTypes2.default.func.isRequired,onItemsCopy:_propTypes2.default.func.isRequired,onItemsDelete:_propTypes2.default.func.isRequired,isRepoOwner:_propTypes2.default.bool.isRequired,enableDirPrivateShare:_propTypes2.default.bool.isRequired,currentRepoInfo:_propTypes2.default.object.isRequired,onFilesTagChanged:_propTypes2.default.func.isRequired,unSelectDirent:_propTypes2.default.func.isRequired,updateDirent:_propTypes2.default.func.isRequired,showDirentDetail:_propTypes2.default.func.isRequired};var MutipleDirOperationToolbar=function(_React$Component){_inherits(MutipleDirOperationToolbar,_React$Component);function MutipleDirOperationToolbar(props){_classCallCheck(this,MutipleDirOperationToolbar);var _this2=_possibleConstructorReturn(this,(MutipleDirOperationToolbar.__proto__||Object.getPrototypeOf(MutipleDirOperationToolbar)).call(this,props));_this2.onMoveToggle=function(){_this2.setState({isMoveDialogShow:!_this2.state.isMoveDialogShow});};_this2.onCopyToggle=function(){_this2.setState({isCopyDialogShow:!_this2.state.isCopyDialogShow});};_this2.onItemsDelete=function(){_this2.props.onItemsDelete();};_this2.onItemsDownload=function(){var _this2$props=_this2.props,path=_this2$props.path,repoID=_this2$props.repoID,selectedDirentList=_this2$props.selectedDirentList;if(selectedDirentList.length){if(selectedDirentList.length===1&&!selectedDirentList[0].isDir()){var direntPath=_utils.Utils.joinPath(path,selectedDirentList[0].name);var url=_urlDecorator2.default.getUrl({type:'download_file_url',repoID:repoID,filePath:direntPath});location.href=url;return;}var selectedDirentNames=selectedDirentList.map(function(dirent){return dirent.name;});_this2.setState({isProgressDialogShow:true,progress:0});_seafileApi.seafileAPI.zipDownload(repoID,path,selectedDirentNames).then(function(res){_this2.zipToken=res.data['zip_token'];_this2.addDownloadAnimation();_this2.interval=setInterval(_this2.addDownloadAnimation,1000);});}};_this2.addDownloadAnimation=function(){var _this=_this2;var token=_this2.zipToken;_seafileApi.seafileAPI.queryZipProgress(token).then(function(res){var data=res.data;var progress=data.total===0?100:(data.zipped/data.total*100).toFixed(0);_this2.setState({progress:parseInt(progress)});if(data['total']===data['zipped']){_this2.setState({progress:100});clearInterval(_this2.interval);location.href=_urlDecorator2.default.getUrl({type:'download_dir_zip_url',token:token});setTimeout(function(){_this.setState({isProgressDialogShow:false});},500);}});};_this2.onCancelDownload=function(){_seafileApi.seafileAPI.cancelZipTask(_this2.zipToken).then(function(){_this2.setState({isProgressDialogShow:false});});};_this2.onMenuItemClick=function(operation){var dirents=_this2.props.selectedDirentList;var dirent=dirents[0];switch(operation){case'Share':_this2.setState({showLibContentViewDialogs:true,showShareDialog:true});break;case'Tags':_this2.listFileTags(dirent);break;case'Details':_this2.props.showDirentDetail();break;case'Lock':_this2.lockFile(dirent);break;case'Unlock':_this2.unlockFile(dirent);break;case'Related Files':_this2.openRelatedFilesDialog(dirent);break;case'History':_this2.onHistory(dirent);break;case'Open via Client':_this2.onOpenViaClient(dirent);break;default:break;}};_this2.lockFile=function(dirent){var filePath=_this2.getDirentPath(dirent);_seafileApi.seafileAPI.lockfile(_this2.props.repoID,filePath).then(function(res){if(res.data.is_locked){_this2.props.updateDirent(dirent,'is_locked',true);_this2.props.updateDirent(dirent,'locked_by_me',true);_this2.props.unSelectDirent();}});};_this2.unlockFile=function(dirent){var filePath=_this2.getDirentPath(dirent);_seafileApi.seafileAPI.unlockfile(_this2.props.repoID,filePath).then(function(res){if(!res.data.is_locked){_this2.props.updateDirent(dirent,'is_locked',false);_this2.props.updateDirent(dirent,'locked_by_me',false);_this2.props.unSelectDirent();}});};_this2.onOpenViaClient=function(dirent){var filePath=_this2.getDirentPath(dirent);var url=_urlDecorator2.default.getUrl({type:'open_via_client',repoID:_this2.props.repoID,filePath:filePath});location.href=url;_this2.props.unSelectDirent();};_this2.onHistory=function(dirent){var filePath=_this2.getDirentPath(dirent);var url=_urlDecorator2.default.getUrl({type:'file_revisions',repoID:_this2.props.repoID,filePath:filePath});location.href=url;};_this2.openRelatedFilesDialog=function(dirent){var filePath=_this2.getDirentPath(dirent);_seafileApi.seafileAPI.listRelatedFiles(_this2.props.repoID,filePath).then(function(res){var relatedFiles=res.data.related_files;if(relatedFiles.length>0){_this2.setState({relatedFiles:relatedFiles,showLibContentViewDialogs:true,showRelatedFileDialog:true,viewMode:'list_related_file'});}else{_this2.setState({relatedFiles:relatedFiles,showLibContentViewDialogs:true,showRelatedFileDialog:true,viewMode:'add_related_file'});}});};_this2.toggleCancel=function(){_this2.setState({showLibContentViewDialogs:false,showShareDialog:false,showEditFileTagDialog:false,showRelatedFileDialog:false});};_this2.listFileTags=function(dirent){var filePath=_this2.getDirentPath(dirent);_seafileApi.seafileAPI.listFileTags(_this2.props.repoID,filePath).then(function(res){var fileTagList=res.data.file_tags;for(var i=0,length=fileTagList.length;i<length;i++){fileTagList[i].id=fileTagList[i].file_tag_id;}_this2.setState({fileTagList:fileTagList,showLibContentViewDialogs:true,showEditFileTagDialog:true});});};_this2.onMenuFileTagChanged=function(){_this2.listFileTags(_this2.props.selectedDirentList[0]);var length=_this2.props.selectedDirentList.length;for(var i=0;i<length;i++){var dirent=_this2.props.selectedDirentList[i];var direntPath=_this2.getDirentPath(dirent);_this2.props.onFilesTagChanged(dirent,direntPath);}};_this2.listRelatedFiles=function(dirent){var filePath=_this2.getDirentPath(dirent);_seafileApi.seafileAPI.listRelatedFiles(_this2.props.repoID,filePath).then(function(res){_this2.setState({relatedFiles:res.data.related_files});});};_this2.onRelatedFileChange=function(){_this2.listRelatedFiles(_this2.props.selectedDirentList[0]);};_this2.getDirentPath=function(dirent){if(dirent)return _utils.Utils.joinPath(_this2.props.path,dirent.name);};_this2.state={progress:0,isProgressDialogShow:false,isMoveDialogShow:false,isCopyDialogShow:false,isMutipleOperation:true,showLibContentViewDialogs:false,showShareDialog:false,showEditFileTagDialog:false,fileTagList:[],multiFileTagList:[],showRelatedFileDialog:false,viewMode:'list_related_file'};_this2.zipToken=null;return _this2;}_createClass(MutipleDirOperationToolbar,[{key:'render',value:function render(){var repoID=this.props.repoID;var direntPath=this.getDirentPath(this.props.selectedDirentList[0]);return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'d-flex'},_react2.default.createElement(_reactstrap.ButtonGroup,{className:'flex-row group-operations'},_react2.default.createElement(_reactstrap.Button,{className:'secondary group-op-item action-icon sf2-icon-move',title:(0,_constants.gettext)('Move'),onClick:this.onMoveToggle}),_react2.default.createElement(_reactstrap.Button,{className:'secondary group-op-item action-icon sf2-icon-copy',title:(0,_constants.gettext)('Copy'),onClick:this.onCopyToggle}),_react2.default.createElement(_reactstrap.Button,{className:'secondary group-op-item action-icon sf2-icon-delete',title:(0,_constants.gettext)('Delete'),onClick:this.onItemsDelete}),_react2.default.createElement(_reactstrap.Button,{className:'secondary group-op-item action-icon sf2-icon-download',title:(0,_constants.gettext)('Download'),onClick:this.onItemsDownload}),this.props.selectedDirentList.length>0&&_react2.default.createElement(_direntsMenu2.default,{dirents:this.props.selectedDirentList,currentRepoInfo:this.props.currentRepoInfo,isRepoOwner:this.props.isRepoOwner,onMenuItemClick:this.onMenuItemClick}))),this.state.isMoveDialogShow&&_react2.default.createElement(_moveDirentDialog2.default,{path:this.props.path,repoID:this.props.repoID,repoEncrypted:this.props.repoEncrypted,isMutipleOperation:this.state.isMutipleOperation,selectedDirentList:this.props.selectedDirentList,onItemsMove:this.props.onItemsMove,onCancelMove:this.onMoveToggle}),this.state.isCopyDialogShow&&_react2.default.createElement(_copyDirentDialog2.default,{path:this.props.path,repoID:this.props.repoID,repoEncrypted:this.props.repoEncrypted,selectedDirentList:this.props.selectedDirentList,isMutipleOperation:this.state.isMutipleOperation,onItemsCopy:this.props.onItemsCopy,onCancelCopy:this.onCopyToggle}),this.state.isProgressDialogShow&&_react2.default.createElement(_zipDownloadDialog2.default,{progress:this.state.progress,onCancelDownload:this.onCancelDownload}),this.state.showLibContentViewDialogs&&_react2.default.createElement(_react.Fragment,null,this.state.showShareDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_shareDialog2.default,{itemType:this.props.selectedDirentList[0].type,itemName:this.props.selectedDirentList[0].name,itemPath:direntPath,userPerm:this.props.selectedDirentList[0].permission,repoID:repoID,repoEncrypted:false,enableDirPrivateShare:this.props.enableDirPrivateShare,isGroupOwnedRepo:this.state.isGroupOwnedRepo,toggleDialog:this.toggleCancel})),this.state.showEditFileTagDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_editFiletagDialog2.default,{repoID:repoID,filePath:direntPath,fileTagList:this.state.fileTagList,toggleCancel:this.toggleCancel,onFileTagChanged:this.onMenuFileTagChanged})),this.state.showRelatedFileDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_relatedFileDialogs2.default,{repoID:repoID,filePath:direntPath,relatedFiles:this.state.relatedFiles,toggleCancel:this.toggleCancel,onRelatedFileChange:this.onRelatedFileChange,dirent:this.props.selectedDirentList[0],viewMode:this.state.viewMode}))));}}]);return MutipleDirOperationToolbar;}(_react2.default.Component);MutipleDirOperationToolbar.propTypes=propTypes;exports.default=MutipleDirOperationToolbar;\n\n/***/ }),\n\n/***/ 282:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);__webpack_require__(283);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={dirents:_propTypes2.default.array.isRequired,currentRepoInfo:_propTypes2.default.object.isRequired,isRepoOwner:_propTypes2.default.bool.isRequired,onMenuItemClick:_propTypes2.default.func.isRequired};var DirentMenu=function(_React$Component){_inherits(DirentMenu,_React$Component);function DirentMenu(props){_classCallCheck(this,DirentMenu);var _this=_possibleConstructorReturn(this,(DirentMenu.__proto__||Object.getPrototypeOf(DirentMenu)).call(this,props));_this.translateMenuItem=function(menuItem){var translateResult='';switch(menuItem){case'Share':translateResult=(0,_constants.gettext)('Share');break;case'Tags':translateResult=(0,_constants.gettext)('Tags');break;case'Details':translateResult=(0,_constants.gettext)('Details');break;case'Lock':translateResult=(0,_constants.gettext)('Lock');break;case'Unlock':translateResult=(0,_constants.gettext)('Unlock');break;case'Related Files':translateResult=(0,_constants.gettext)('Related Files');break;case'History':translateResult=(0,_constants.gettext)('History');break;case'Open via Client':translateResult=(0,_constants.gettext)('Open via Client');break;default:break;}return translateResult;};_this.onDropdownToggleClick=function(e){e.preventDefault();_this.setState({isItemMenuShow:!_this.state.isItemMenuShow});};_this.onMenuItemClick=function(event){var operation=event.target.dataset.toggle;_this.props.onMenuItemClick(operation,_this.props.dirents);};_this.state={isItemMenuShow:false,menuList:[]};return _this;}_createClass(DirentMenu,[{key:'calculateMenuList',value:function calculateMenuList(props){var currentRepoInfo=props.currentRepoInfo,dirents=props.dirents,isRepoOwner=props.isRepoOwner;var length=dirents.length;var menuList=[];if(length===1){var dirent=dirents[0];if(dirent.type==='dir'){menuList=['Share'];}else if(dirent.type==='file'){menuList=['Share','Tags','Related Files','Divider','History','Details','Divider','Open via Client'];if(_constants.isPro){if(dirent.is_locked){if(dirent.locked_by_me||dirent.lock_owner==='OnlineOffice'&&currentRepoInfo.permission==='rw'){menuList.splice(1,0,'Unlock');}}else{menuList.splice(1,0,'Lock');}}}}else{menuList=[];}this.setState({menuList:menuList});}},{key:'componentDidMount',value:function componentDidMount(){this.calculateMenuList(this.props);}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){if(this.props.dirents.length!==nextProps.dirents.length){this.calculateMenuList(nextProps);}}},{key:'render',value:function render(){var _this2=this;if(this.state.menuList.length===0){return null;}return _react2.default.createElement(_reactstrap.ButtonDropdown,{isOpen:this.state.isItemMenuShow,toggle:this.onDropdownToggleClick,title:(0,_constants.gettext)('More Operations')},_react2.default.createElement(_reactstrap.DropdownToggle,{'data-toggle':'dropdown','aria-expanded':this.state.isItemMenuShow,onClick:this.onDropdownToggleClick,className:'fas fa-ellipsis-v sf-dropdown-toggle dirents-more-menu'}),_react2.default.createElement(_reactstrap.DropdownMenu,null,this.state.menuList.map(function(menuItem,index){if(menuItem==='Divider'){return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,divider:true});}else{return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,'data-toggle':menuItem,onClick:_this2.onMenuItemClick},_this2.translateMenuItem(menuItem));}})));}}]);return DirentMenu;}(_react2.default.Component);DirentMenu.propTypes=propTypes;exports.default=DirentMenu;\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 284:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _dirPath=__webpack_require__(285);var _dirPath2=_interopRequireDefault(_dirPath);var _dirTool=__webpack_require__(286);var _dirTool2=_interopRequireDefault(_dirTool);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,repoName:_propTypes2.default.string.isRequired,permission:_propTypes2.default.bool.isRequired,currentPath:_propTypes2.default.string.isRequired,onPathClick:_propTypes2.default.func.isRequired,onTabNavClick:_propTypes2.default.func,pathPrefix:_propTypes2.default.array,isViewFile:_propTypes2.default.bool,updateUsedRepoTags:_propTypes2.default.func.isRequired,fileTags:_propTypes2.default.array.isRequired,onDeleteRepoTag:_propTypes2.default.func.isRequired};var CurDirPath=function(_React$Component){_inherits(CurDirPath,_React$Component);function CurDirPath(){_classCallCheck(this,CurDirPath);return _possibleConstructorReturn(this,(CurDirPath.__proto__||Object.getPrototypeOf(CurDirPath)).apply(this,arguments));}_createClass(CurDirPath,[{key:'render',value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_dirPath2.default,{repoName:this.props.repoName,pathPrefix:this.props.pathPrefix,currentPath:this.props.currentPath,onPathClick:this.props.onPathClick,onTabNavClick:this.props.onTabNavClick,repoID:this.props.repoID,isViewFile:this.props.isViewFile,fileTags:this.props.fileTags}),_react2.default.createElement(_dirTool2.default,{repoID:this.props.repoID,repoName:this.props.repoName,permission:this.props.permission,currentPath:this.props.currentPath,updateUsedRepoTags:this.props.updateUsedRepoTags,onDeleteRepoTag:this.props.onDeleteRepoTag}));}}]);return CurDirPath;}(_react2.default.Component);CurDirPath.propTypes=propTypes;exports.default=CurDirPath;\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _router=__webpack_require__(60);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _fileTag=__webpack_require__(24);var _fileTag2=_interopRequireDefault(_fileTag);var _internalLinkDialog=__webpack_require__(54);var _internalLinkDialog2=_interopRequireDefault(_internalLinkDialog);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoName:_propTypes2.default.string.isRequired,currentPath:_propTypes2.default.string.isRequired,onPathClick:_propTypes2.default.func.isRequired,onTabNavClick:_propTypes2.default.func,pathPrefix:_propTypes2.default.array,repoID:_propTypes2.default.string.isRequired,isViewFile:_propTypes2.default.bool,fileTags:_propTypes2.default.array.isRequired};var DirPath=function(_React$Component){_inherits(DirPath,_React$Component);function DirPath(){var _ref;var _temp,_this,_ret;_classCallCheck(this,DirPath);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=DirPath.__proto__||Object.getPrototypeOf(DirPath)).call.apply(_ref,[this].concat(args))),_this),_this.onPathClick=function(e){var path=e.target.dataset.path;_this.props.onPathClick(path);},_this.onTabNavClick=function(tabName,id){_this.props.onTabNavClick(tabName,id);},_this.turnPathToLink=function(path){path=path[path.length-1]==='/'?path.slice(0,path.length-1):path;var pathList=path.split('/');var nodePath='';var pathElem=pathList.map(function(item,index){if(item===''){return;}if(index===pathList.length-1){return _react2.default.createElement('span',{key:index},_react2.default.createElement('span',{className:'path-split'},'/'),item);}else{nodePath+='/'+item;return _react2.default.createElement('span',{key:index},_react2.default.createElement('span',{className:'path-split'},'/'),_react2.default.createElement('a',{className:'path-link','data-path':nodePath,onClick:_this.onPathClick},item));}});return pathElem;},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(DirPath,[{key:'render',value:function render(){var _this2=this;var _props=this.props,currentPath=_props.currentPath,repoName=_props.repoName,fileTags=_props.fileTags;var pathElem=this.turnPathToLink(currentPath);var tagTitle='';if(fileTags.length>0){fileTags.forEach(function(item){tagTitle+=item.name+' ';});}return _react2.default.createElement('div',{className:'path-container'},this.props.pathPrefix&&this.props.pathPrefix.map(function(item,index){return _react2.default.createElement(_react.Fragment,{key:index},_react2.default.createElement(_router.Link,{to:item.url,className:'normal',onClick:function onClick(){return _this2.onTabNavClick(item.name,item.id);}},(0,_constants.gettext)(item.showName)),_react2.default.createElement('span',{className:'path-split'},'/'));}),this.props.pathPrefix&&this.props.pathPrefix.length===0&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_router.Link,{to:_constants.siteRoot+'my-libs/',className:'normal',onClick:function onClick(){return _this2.onTabNavClick.bind(_this2,'my-libs');}},(0,_constants.gettext)('Libraries')),_react2.default.createElement('span',{className:'path-split'},'/')),!this.props.pathPrefix&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('a',{href:_constants.siteRoot+'my-libs/',className:'normal',onClick:function onClick(){return _this2.onTabNavClick.bind(_this2,'my-libs');}},(0,_constants.gettext)('Libraries')),_react2.default.createElement('span',{className:'path-split'},'/')),currentPath==='/'?_react2.default.createElement('span',null,repoName):_react2.default.createElement('a',{className:'path-link','data-path':'/',onClick:this.onPathClick},repoName),pathElem,this.props.isViewFile&&_react2.default.createElement(_internalLinkDialog2.default,{repoID:this.props.repoID,path:this.props.currentPath}),this.props.isViewFile&&fileTags.length!==0&&_react2.default.createElement('span',{id:'column-mode-file-tags',className:'tag-list tag-list-stacked align-middle ml-1'},fileTags.map(function(fileTag,index){return _react2.default.createElement('span',{className:'file-tag',key:fileTag.id,style:{zIndex:index,backgroundColor:fileTag.color}});}),_react2.default.createElement(_reactstrap.UncontrolledTooltip,{target:'column-mode-file-tags',placement:'bottom'},tagTitle)));}}]);return DirPath;}(_react2.default.Component);DirPath.propTypes=propTypes;exports.default=DirPath;\n\n/***/ }),\n\n/***/ 286:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _reactstrap=__webpack_require__(5);var _listTagDialog=__webpack_require__(287);var _listTagDialog2=_interopRequireDefault(_listTagDialog);var _createTagDialog=__webpack_require__(288);var _createTagDialog2=_interopRequireDefault(_createTagDialog);var _updateTagDialog=__webpack_require__(289);var _updateTagDialog2=_interopRequireDefault(_updateTagDialog);var _listTaggedfilesDialog=__webpack_require__(172);var _listTaggedfilesDialog2=_interopRequireDefault(_listTaggedfilesDialog);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,repoName:_propTypes2.default.string.isRequired,permission:_propTypes2.default.bool.isRequired,currentPath:_propTypes2.default.string.isRequired,updateUsedRepoTags:_propTypes2.default.func.isRequired,onDeleteRepoTag:_propTypes2.default.func.isRequired};var DirTool=function(_React$Component){_inherits(DirTool,_React$Component);function DirTool(props){_classCallCheck(this,DirTool);var _this=_possibleConstructorReturn(this,(DirTool.__proto__||Object.getPrototypeOf(DirTool)).call(this,props));_this.onShowListRepoTag=function(){_this.setState({isRepoTagDialogShow:true,isListRepoTagShow:true,isUpdateRepoTagShow:false,isCreateRepoTagShow:false,isListTaggedFileShow:false});};_this.onCloseRepoTagDialog=function(){_this.setState({isRepoTagDialogShow:false,isListRepoTagShow:false,isUpdateRepoTagShow:false,isCreateRepoTagShow:false,isListTaggedFileShow:false});};_this.onCreateRepoTagToggle=function(){_this.setState({isCreateRepoTagShow:!_this.state.isCreateRepoTagShow,isListRepoTagShow:!_this.state.isListRepoTagShow});};_this.onUpdateRepoTagToggle=function(currentTag){_this.setState({currentTag:currentTag,isListRepoTagShow:!_this.state.isListRepoTagShow,isUpdateRepoTagShow:!_this.state.isUpdateRepoTagShow});};_this.onListTaggedFileToggle=function(currentTag){_this.setState({currentTag:currentTag,isListRepoTagShow:!_this.state.isListRepoTagShow,isListTaggedFileShow:!_this.state.isListTaggedFileShow});};_this.state={isRepoTagDialogShow:false,currentTag:null,isListRepoTagShow:false,isUpdateRepoTagShow:false,isCreateRepoTagShow:false,isListTaggedFileShow:false};return _this;}_createClass(DirTool,[{key:'isMarkdownFile',value:function isMarkdownFile(filePath){var name=_utils.Utils.getFileName(filePath);return name.indexOf('.md')>-1?true:false;}},{key:'render',value:function render(){var _props=this.props,repoID=_props.repoID,repoName=_props.repoName,permission=_props.permission,currentPath=_props.currentPath;var isFile=this.isMarkdownFile(currentPath);var name=_utils.Utils.getFileName(currentPath);var trashUrl=_constants.siteRoot+'repo/recycle/'+repoID+'/?referer='+encodeURIComponent(location.href);var historyUrl=_constants.siteRoot+'repo/history/'+repoID+'/?referer='+encodeURIComponent(location.href);if((name===repoName||name==='')&&!isFile&&permission){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('ul',{className:'path-toolbar'},_react2.default.createElement('li',{className:'toolbar-item'},_react2.default.createElement('a',{className:'op-link sf2-icon-tag',onClick:this.onShowListRepoTag,title:(0,_constants.gettext)('Tags'),'aria-label':(0,_constants.gettext)('Tags')})),_react2.default.createElement('li',{className:'toolbar-item'},_react2.default.createElement('a',{className:'op-link sf2-icon-recycle',href:trashUrl,title:(0,_constants.gettext)('Trash'),'aria-label':(0,_constants.gettext)('Trash')})),_react2.default.createElement('li',{className:'toolbar-item'},_react2.default.createElement('a',{className:'op-link sf2-icon-history',href:historyUrl,title:(0,_constants.gettext)('History'),'aria-label':(0,_constants.gettext)('History')}))),this.state.isRepoTagDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_reactstrap.Modal,{isOpen:true},this.state.isListRepoTagShow&&_react2.default.createElement(_listTagDialog2.default,{repoID:repoID,onListTagCancel:this.onCloseRepoTagDialog,onCreateRepoTag:this.onCreateRepoTagToggle,onUpdateRepoTag:this.onUpdateRepoTagToggle,onListTaggedFiles:this.onListTaggedFileToggle}),this.state.isCreateRepoTagShow&&_react2.default.createElement(_createTagDialog2.default,{repoID:repoID,onClose:this.onCloseRepoTagDialog,toggleCancel:this.onCreateRepoTagToggle}),this.state.isUpdateRepoTagShow&&_react2.default.createElement(_updateTagDialog2.default,{repoID:repoID,currentTag:this.state.currentTag,onClose:this.onCloseRepoTagDialog,toggleCancel:this.onUpdateRepoTagToggle,onDeleteRepoTag:this.props.onDeleteRepoTag}),this.state.isListTaggedFileShow&&_react2.default.createElement(_listTaggedfilesDialog2.default,{repoID:this.props.repoID,currentTag:this.state.currentTag,onClose:this.onCloseRepoTagDialog,toggleCancel:this.onListTaggedFileToggle,updateUsedRepoTags:this.props.updateUsedRepoTags}))));}else if(!isFile&&permission){return _react2.default.createElement('ul',{className:'path-toolbar'},_react2.default.createElement('li',{className:'toolbar-item'},_react2.default.createElement('a',{className:'op-link sf2-icon-recycle',href:trashUrl,title:(0,_constants.gettext)('Trash'),'aria-label':(0,_constants.gettext)('Trash')})));}else if(permission){historyUrl=_constants.siteRoot+'repo/file_revisions/'+repoID+'/?p='+_utils.Utils.encodePath(currentPath);return _react2.default.createElement('ul',{className:'path-toolbar'},_react2.default.createElement('li',{className:'toolbar-item'},_react2.default.createElement('a',{className:'op-link sf2-icon-history',href:historyUrl,title:(0,_constants.gettext)('History'),'aria-label':(0,_constants.gettext)('History')})));}return'';}}]);return DirTool;}(_react2.default.Component);DirTool.propTypes=propTypes;exports.default=DirTool;\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _repoTag=__webpack_require__(103);var _repoTag2=_interopRequireDefault(_repoTag);__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var tagListItemPropTypes={item:_propTypes2.default.object.isRequired,onTagUpdate:_propTypes2.default.func.isRequired,onListTaggedFiles:_propTypes2.default.func.isRequired};var TagListItem=function(_React$Component){_inherits(TagListItem,_React$Component);function TagListItem(props){_classCallCheck(this,TagListItem);var _this=_possibleConstructorReturn(this,(TagListItem.__proto__||Object.getPrototypeOf(TagListItem)).call(this,props));_this.onMouseOver=function(){_this.setState({showSelectedTag:true});};_this.onMouseOut=function(){_this.setState({showSelectedTag:false});};_this.onTagUpdate=function(){_this.props.onTagUpdate(_this.props.item);};_this.onListTaggedFiles=function(){_this.props.onListTaggedFiles(_this.props.item);};_this.state={showSelectedTag:false};return _this;}_createClass(TagListItem,[{key:'render',value:function render(){var color=this.props.item.color;var drakColor=_utils.Utils.getDarkColor(color);return _react2.default.createElement('li',{className:'tag-list-item'},_react2.default.createElement('div',{className:'tag-demo',style:{backgroundColor:color},onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut},_react2.default.createElement('span',{className:''+(this.state.showSelectedTag?'show-tag-selected':''),style:{backgroundColor:drakColor}}),_react2.default.createElement('span',{className:'tag-name'},this.props.item.name),_react2.default.createElement('span',{className:'tag-files',onClick:this.onListTaggedFiles},this.props.item.fileCount,' ','files')),_react2.default.createElement('i',{className:'tag-edit fa fa-pencil-alt',onClick:this.onTagUpdate}));}}]);return TagListItem;}(_react2.default.Component);TagListItem.propTypes=tagListItemPropTypes;var listTagPropTypes={repoID:_propTypes2.default.string.isRequired,onListTagCancel:_propTypes2.default.func.isRequired,onCreateRepoTag:_propTypes2.default.func.isRequired,onUpdateRepoTag:_propTypes2.default.func.isRequired,onListTaggedFiles:_propTypes2.default.func.isRequired};var ListTagDialog=function(_React$Component2){_inherits(ListTagDialog,_React$Component2);function ListTagDialog(props){_classCallCheck(this,ListTagDialog);var _this2=_possibleConstructorReturn(this,(ListTagDialog.__proto__||Object.getPrototypeOf(ListTagDialog)).call(this,props));_this2.toggle=function(){_this2.props.onListTagCancel();};_this2.createNewTag=function(e){e.preventDefault();_this2.props.onCreateRepoTag();};_this2.state={repotagList:[]};return _this2;}_createClass(ListTagDialog,[{key:'componentDidMount',value:function componentDidMount(){var _this3=this;var repoID=this.props.repoID;_seafileApi.seafileAPI.listRepoTags(repoID).then(function(res){var repotagList=[];res.data.repo_tags.forEach(function(item){var repo_tag=new _repoTag2.default(item);repotagList.push(repo_tag);});_this3.setState({repotagList:repotagList});});}},{key:'render',value:function render(){var _this4=this;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Tags')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('ul',{className:'tag-list tag-list-container'},this.state.repotagList.map(function(repoTag,index){return _react2.default.createElement(TagListItem,{key:index,item:repoTag,onTagUpdate:_this4.props.onUpdateRepoTag,onListTaggedFiles:_this4.props.onListTaggedFiles});})),_react2.default.createElement('a',{href:'#',className:'add-tag-link',onClick:this.createNewTag},(0,_constants.gettext)('Create a new tag'))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Close'))));}}]);return ListTagDialog;}(_react2.default.Component);ListTagDialog.propTypes=listTagPropTypes;exports.default=ListTagDialog;\n\n/***/ }),\n\n/***/ 288:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,toggleCancel:_propTypes2.default.func.isRequired,onClose:_propTypes2.default.func.isRequired};var CreateTagDialog=function(_React$Component){_inherits(CreateTagDialog,_React$Component);function CreateTagDialog(props){_classCallCheck(this,CreateTagDialog);var _this=_possibleConstructorReturn(this,(CreateTagDialog.__proto__||Object.getPrototypeOf(CreateTagDialog)).call(this,props));_this.inputNewName=function(e){_this.setState({tagName:e.target.value});};_this.selectTagcolor=function(e){_this.setState({tagColor:e.target.value});};_this.createTag=function(){var name=_this.state.tagName;var color=_this.state.tagColor;var repoID=_this.props.repoID;_seafileApi.seafileAPI.createRepoTag(repoID,name,color).then(function(){_this.props.toggleCancel();});};_this.handleKeyPress=function(e){if(e.key==='Enter'){_this.createTag();}};_this.state={tagName:'',tagColor:'',newTag:{},colorList:['#FFA8A8','#FFA94D','#FFD43B','#A0EC50','#A9E34B','#63E6BE','#4FD2C9','#72C3FC','#91A7FF','#E599F7','#B197FC','#F783AC','#CED4DA']};_this.newInput=_react2.default.createRef();return _this;}_createClass(CreateTagDialog,[{key:'componentDidMount',value:function componentDidMount(){this.setState({tagColor:this.state.colorList[0]});this.newInput.focus();this.newInput.setSelectionRange(0,0);}},{key:'render',value:function render(){var _this2=this;var colorList=this.state.colorList;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.onClose},_react2.default.createElement('span',{className:'tag-dialog-back fas fa-sm fa-arrow-left',onClick:this.props.toggleCancel,'aria-label':(0,_constants.gettext)('Back')}),(0,_constants.gettext)('New Tag')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('div',{role:'form',className:'tag-create'},_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('label',{className:'form-label'},(0,_constants.gettext)('Name')),_react2.default.createElement(_reactstrap.Input,{onKeyPress:this.handleKeyPress,innerRef:function innerRef(input){_this2.newInput=input;},value:this.state.tagName,onChange:this.inputNewName})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('label',{className:'form-label'},(0,_constants.gettext)('Select a color')),_react2.default.createElement('div',{className:'row gutters-xs'},colorList.map(function(item,index){return _react2.default.createElement('div',{key:index,className:'col-auto',onChange:_this2.selectTagcolor},_react2.default.createElement('label',{className:'colorinput'},index===0?_react2.default.createElement('input',{name:'color',type:'radio',value:item,className:'colorinput-input',defaultChecked:true,onClick:_this2.selectTagcolor}):_react2.default.createElement('input',{name:'color',type:'radio',value:item,className:'colorinput-input',onClick:_this2.selectTagcolor}),_react2.default.createElement('span',{className:'colorinput-color',style:{backgroundColor:item}})));}))))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.createTag},(0,_constants.gettext)('Save')),_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.props.toggleCancel},(0,_constants.gettext)('Cancel'))));}}]);return CreateTagDialog;}(_react2.default.Component);CreateTagDialog.propTypes=propTypes;exports.default=CreateTagDialog;\n\n/***/ }),\n\n/***/ 289:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentTag:_propTypes2.default.object,repoID:_propTypes2.default.string.isRequired,toggleCancel:_propTypes2.default.func.isRequired,onDeleteRepoTag:_propTypes2.default.func.isRequired,onClose:_propTypes2.default.func.isRequired};var UpdateTagDialog=function(_React$Component){_inherits(UpdateTagDialog,_React$Component);function UpdateTagDialog(props){_classCallCheck(this,UpdateTagDialog);var _this=_possibleConstructorReturn(this,(UpdateTagDialog.__proto__||Object.getPrototypeOf(UpdateTagDialog)).call(this,props));_this.inputNewName=function(e){_this.setState({newName:e.target.value});};_this.selectNewcolor=function(e){_this.setState({newColor:e.target.value});};_this.updateTag=function(){var tag_id=_this.props.currentTag.id;var name=_this.state.newName;var color=_this.state.newColor;var repoID=_this.props.repoID;_seafileApi.seafileAPI.updateRepoTag(repoID,tag_id,name,color).then(function(){_this.props.toggleCancel();});};_this.handleKeyPress=function(e){if(e.key==='Enter'){_this.updateTag();}};_this.deleteTagClick=function(item){_this.setState({deleteRepoTag:!_this.state.deleteRepoTag});};_this.onDeleteTag=function(){var tag=_this.props.currentTag;var repoID=_this.props.repoID;_seafileApi.seafileAPI.deleteRepoTag(repoID,tag.id).then(function(res){_this.props.toggleCancel();if(res.data.success===\"true\"){_this.props.onDeleteRepoTag(tag.id);}});};_this.state={deleteRepoTag:false,newName:_this.props.currentTag.name,newColor:_this.props.currentTag.color,colorList:['#FFA8A8','#FFA94D','#FFD43B','#A0EC50','#A9E34B','#63E6BE','#4FD2C9','#72C3FC','#91A7FF','#E599F7','#B197FC','#F783AC','#CED4DA']};_this.newInput=_react2.default.createRef();return _this;}_createClass(UpdateTagDialog,[{key:'componentDidMount',value:function componentDidMount(){this.newInput.focus();this.newInput.setSelectionRange(0,-1);}},{key:'render',value:function render(){var _this2=this;var colorList=this.state.colorList;if(colorList.indexOf(this.props.currentTag.color)===-1){colorList.push(this.props.currentTag.color);}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.props.onClose},_react2.default.createElement('span',{className:'tag-dialog-back fas fa-sm fa-arrow-left',onClick:this.props.toggleCancel,'aria-label':(0,_constants.gettext)('Back')}),(0,_constants.gettext)('Edit Tag')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('div',{className:'tag-edit'},_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('label',{className:'form-label'},(0,_constants.gettext)('Name')),_react2.default.createElement(_reactstrap.Input,{onKeyPress:this.handleKeyPress,innerRef:function innerRef(input){_this2.newInput=input;},value:this.state.newName,onChange:this.inputNewName})),_react2.default.createElement('div',{className:'form-group'},_react2.default.createElement('label',{className:'form-label'},(0,_constants.gettext)('Select a color')),_react2.default.createElement('div',{className:'row gutters-xs'},colorList.map(function(item,index){return _react2.default.createElement('div',{key:index,className:'col-auto',onChange:_this2.selectNewcolor},_react2.default.createElement('label',{className:'colorinput'},item===_this2.props.currentTag.color?_react2.default.createElement('input',{name:'color',type:'radio',value:item,className:'colorinput-input',defaultChecked:true,onChange:_this2.selectNewcolor}):_react2.default.createElement('input',{name:'color',type:'radio',value:item,className:'colorinput-input',onChange:_this2.selectNewcolor}),_react2.default.createElement('span',{className:'colorinput-color',style:{backgroundColor:item}})));}))))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'danger',onClick:this.onDeleteTag},(0,_constants.gettext)('Delete')),_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.updateTag},(0,_constants.gettext)('Save'))));}}]);return UpdateTagDialog;}(_react2.default.Component);UpdateTagDialog.propTypes=propTypes;exports.default=UpdateTagDialog;\n\n/***/ }),\n\n/***/ 290:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _direntListItem=__webpack_require__(291);var _direntListItem2=_interopRequireDefault(_direntListItem);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _createFileDialog=__webpack_require__(123);var _createFileDialog2=_interopRequireDefault(_createFileDialog);var _reactImageLightbox=__webpack_require__(294);var _reactImageLightbox2=_interopRequireDefault(_reactImageLightbox);__webpack_require__(207);__webpack_require__(296);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,currentRepoInfo:_propTypes2.default.object,isAllItemSelected:_propTypes2.default.bool.isRequired,isDirentListLoading:_propTypes2.default.bool.isRequired,direntList:_propTypes2.default.array.isRequired,sortBy:_propTypes2.default.string.isRequired,sortOrder:_propTypes2.default.string.isRequired,sortItems:_propTypes2.default.func.isRequired,onAddFile:_propTypes2.default.func.isRequired,onItemDelete:_propTypes2.default.func.isRequired,onAllItemSelected:_propTypes2.default.func.isRequired,onItemSelected:_propTypes2.default.func.isRequired,onItemRename:_propTypes2.default.func.isRequired,onItemClick:_propTypes2.default.func.isRequired,onItemMove:_propTypes2.default.func.isRequired,onItemCopy:_propTypes2.default.func.isRequired,onDirentClick:_propTypes2.default.func.isRequired,onItemDetails:_propTypes2.default.func.isRequired,updateDirent:_propTypes2.default.func.isRequired};var DirentListView=function(_React$Component){_inherits(DirentListView,_React$Component);function DirentListView(props){_classCallCheck(this,DirentListView);var _this=_possibleConstructorReturn(this,(DirentListView.__proto__||Object.getPrototypeOf(DirentListView)).call(this,props));_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnfreezedItem=function(){_this.setState({isItemFreezed:false});};_this.onItemRename=function(dirent,newName){var isDuplicated=_this.props.direntList.some(function(item){return item.name===newName;});if(isDuplicated){var errMessage=(0,_constants.gettext)('The name \"{name}\" is already taken. Please choose a different name.');errMessage=errMessage.replace('{name}',_utils.Utils.HTMLescape(newName));_toast2.default.danger(errMessage);return false;}_this.props.onItemRename(dirent,newName);};_this.onItemRenameToggle=function(){_this.onFreezedItem();};_this.onItemDetails=function(dirent){_this.props.onItemDetails(dirent);};_this.onCreateFileToggle=function(){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:''});};_this.onCreateNewFile=function(suffix){_this.setState({isCreateFileDialogShow:!_this.state.isCreateFileDialogShow,fileType:suffix});};_this.onAddFile=function(filePath,isDraft){_this.setState({isCreateFileDialogShow:false});_this.props.onAddFile(filePath,isDraft);};_this.sortByName=function(e){e.preventDefault();var sortBy='name';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};_this.sortByTime=function(e){e.preventDefault();var sortBy='time';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};_this.prepareImageItems=function(){var items=_this.props.direntList.filter(function(item){return _utils.Utils.imageCheck(item.name);});var useThumbnail=!_this.repoEncrypted;var prepareItem=function prepareItem(item){var name=item.name;var fileExt=name.substr(name.lastIndexOf('.')+1).toLowerCase();var isGIF=fileExt=='gif';var path=_utils.Utils.encodePath(_utils.Utils.joinPath(_this.props.path,name));var repoID=_this.props.repoID;var src=void 0;if(useThumbnail&&!isGIF){src=_constants.siteRoot+'thumbnail/'+repoID+'/'+_constants.thumbnailSizeForOriginal+path;}else{src=_constants.siteRoot+'repo/'+repoID+'/raw'+path;}return{'name':name,'url':_constants.siteRoot+'lib/'+repoID+'/file'+path,'src':src};};return items.map(function(item){return prepareItem(item);});};_this.showImagePopup=function(dirent){var items=_this.props.direntList.filter(function(item){return _utils.Utils.imageCheck(item.name);});_this.setState({isImagePopupOpen:true,imageItems:_this.prepareImageItems(),imageIndex:items.indexOf(dirent)});};_this.moveToPrevImage=function(){var imageItemsLength=_this.state.imageItems.length;_this.setState(function(prevState){return{imageIndex:(prevState.imageIndex+imageItemsLength-1)%imageItemsLength};});};_this.moveToNextImage=function(){var imageItemsLength=_this.state.imageItems.length;_this.setState(function(prevState){return{imageIndex:(prevState.imageIndex+1)%imageItemsLength};});};_this.closeImagePopup=function(){_this.setState({isImagePopupOpen:false});};_this.checkDuplicatedName=function(newName){var direntList=_this.props.direntList;var isDuplicated=direntList.some(function(object){return object.name===newName;});return isDuplicated;};_this.state={isItemFreezed:false,isImagePopupOpen:false,imageItems:[],imageIndex:0,isCreateFileDialogShow:false,fileType:''};_this.isRepoOwner=props.currentRepoInfo.owner_email===_constants.username;_this.isAdmin=props.currentRepoInfo.is_admin;_this.repoEncrypted=props.currentRepoInfo.encrypted;return _this;}// for image popup\n_createClass(DirentListView,[{key:'render',value:function render(){var _this2=this;var _props=this.props,direntList=_props.direntList,sortBy=_props.sortBy,sortOrder=_props.sortOrder;if(this.props.isDirentListLoading){return _react2.default.createElement(_loading2.default,null);}if(this.props.path=='/'&&!direntList.length){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'tip-for-new-file'},_react2.default.createElement('p',{className:'text-center'},(0,_constants.gettext)('This folder has no content at this time.')),_react2.default.createElement('p',{className:'text-center'},(0,_constants.gettext)('You can create files quickly'),' +'),_react2.default.createElement('div',{className:'big-new-file-button-group'},_react2.default.createElement('div',{className:'d-flex justify-content-center'},_react2.default.createElement('button',{className:'big-new-file-button',onClick:this.onCreateNewFile.bind(this,'.md')},'+ Markdown'),_react2.default.createElement('button',{className:'big-new-file-button',onClick:this.onCreateNewFile.bind(this,'.ppt')},'+ PPT')),_react2.default.createElement('div',{className:'d-flex justify-content-center'},_react2.default.createElement('button',{className:'big-new-file-button',onClick:this.onCreateNewFile.bind(this,'.doc')},'+ Word'),_react2.default.createElement('button',{className:'big-new-file-button',onClick:this.onCreateNewFile.bind(this,'.xls')},'+ Excel')))),this.state.isCreateFileDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_createFileDialog2.default,{parentPath:this.props.path,fileType:this.state.fileType,onAddFile:this.onAddFile,checkDuplicatedName:this.checkDuplicatedName,addFileCancel:this.onCreateFileToggle})));}// sort\nvar sortByName=sortBy=='name';var sortByTime=sortBy=='time';var sortIcon=sortOrder=='asc'?_react2.default.createElement('span',{className:'fas fa-caret-up'}):_react2.default.createElement('span',{className:'fas fa-caret-down'});// for image popup\nvar imageItems=this.state.imageItems;var imageIndex=this.state.imageIndex;var imageItemsLength=imageItems.length;var imageCaption=imageItemsLength&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('span',null,(0,_constants.gettext)('%curr% of %total%').replace('%curr%',imageIndex+1).replace('%total%',imageItemsLength)),_react2.default.createElement('br',null),_react2.default.createElement('a',{href:imageItems[imageIndex].url,target:'_blank'},(0,_constants.gettext)('Open in New Tab')));return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'3%',className:'pl10'},_react2.default.createElement('input',{type:'checkbox',className:'vam',onChange:this.props.onAllItemSelected,checked:this.props.isAllItemSelected})),_react2.default.createElement('th',{width:'3%',className:'pl10'}),_react2.default.createElement('th',{width:'5%',className:'pl10'}),_react2.default.createElement('th',{width:'39%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:this.sortByName},(0,_constants.gettext)('Name'),' ',sortByName&&sortIcon)),_react2.default.createElement('th',{width:'6%'}),_react2.default.createElement('th',{width:'18%'}),_react2.default.createElement('th',{width:'11%'},(0,_constants.gettext)('Size')),_react2.default.createElement('th',{width:'15%'},_react2.default.createElement('a',{className:'d-block table-sort-op',href:'#',onClick:this.sortByTime},(0,_constants.gettext)('Last Update'),' ',sortByTime&&sortIcon)))),_react2.default.createElement('tbody',null,direntList.length!==0&&direntList.map(function(dirent,index){return _react2.default.createElement(_direntListItem2.default,{key:index,dirent:dirent,path:_this2.props.path,repoID:_this2.props.repoID,currentRepoInfo:_this2.props.currentRepoInfo,isAdmin:_this2.isAdmin,isRepoOwner:_this2.isRepoOwner,repoEncrypted:_this2.repoEncrypted,enableDirPrivateShare:_this2.props.enableDirPrivateShare,isGroupOwnedRepo:_this2.props.isGroupOwnedRepo,direntList:_this2.props.direntList,onItemClick:_this2.props.onItemClick,onItemRenameToggle:_this2.onItemRenameToggle,onItemSelected:_this2.props.onItemSelected,onItemDelete:_this2.props.onItemDelete,onItemRename:_this2.onItemRename,onItemMove:_this2.props.onItemMove,onItemCopy:_this2.props.onItemCopy,updateDirent:_this2.props.updateDirent,isItemFreezed:_this2.state.isItemFreezed,onFreezedItem:_this2.onFreezedItem,onUnfreezedItem:_this2.onUnfreezedItem,onDirentClick:_this2.props.onDirentClick,onItemDetails:_this2.onItemDetails,showImagePopup:_this2.showImagePopup});}))),this.state.isImagePopupOpen&&_react2.default.createElement(_reactImageLightbox2.default,{mainSrc:imageItems[imageIndex].src,imageTitle:imageItems[imageIndex].name,imageCaption:imageCaption,nextSrc:imageItems[(imageIndex+1)%imageItemsLength].src,prevSrc:imageItems[(imageIndex+imageItemsLength-1)%imageItemsLength].src,onCloseRequest:this.closeImagePopup,onMovePrevRequest:this.moveToPrevImage,onMoveNextRequest:this.moveToNextImage,imagePadding:70,imageLoadErrorMessage:(0,_constants.gettext)('The image could not be loaded.'),prevLabel:(0,_constants.gettext)('Previous (Left arrow key)'),nextLabel:(0,_constants.gettext)('Next (Right arrow key)'),closeLabel:(0,_constants.gettext)('Close (Esc)'),zoomInLabel:(0,_constants.gettext)('Zoom in'),zoomOutLabel:(0,_constants.gettext)('Zoom out')}));}}]);return DirentListView;}(_react2.default.Component);DirentListView.propTypes=propTypes;exports.default=DirentListView;\n\n/***/ }),\n\n/***/ 291:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _MD=__webpack_require__(206);var _MD2=_interopRequireDefault(_MD);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _seafileApi=__webpack_require__(3);var _urlDecorator=__webpack_require__(124);var _urlDecorator2=_interopRequireDefault(_urlDecorator);var _direntMenu=__webpack_require__(292);var _direntMenu2=_interopRequireDefault(_direntMenu);var _rename=__webpack_require__(143);var _rename2=_interopRequireDefault(_rename);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _zipDownloadDialog=__webpack_require__(171);var _zipDownloadDialog2=_interopRequireDefault(_zipDownloadDialog);var _moveDirentDialog=__webpack_require__(141);var _moveDirentDialog2=_interopRequireDefault(_moveDirentDialog);var _copyDirentDialog=__webpack_require__(142);var _copyDirentDialog2=_interopRequireDefault(_copyDirentDialog);var _shareDialog=__webpack_require__(25);var _shareDialog2=_interopRequireDefault(_shareDialog);__webpack_require__(293);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,isItemFreezed:_propTypes2.default.bool.isRequired,dirent:_propTypes2.default.object.isRequired,onItemClick:_propTypes2.default.func.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnfreezedItem:_propTypes2.default.func.isRequired,onItemRenameToggle:_propTypes2.default.func.isRequired,onItemSelected:_propTypes2.default.func.isRequired,onItemDelete:_propTypes2.default.func.isRequired,onItemRename:_propTypes2.default.func.isRequired,onItemMove:_propTypes2.default.func.isRequired,onItemCopy:_propTypes2.default.func.isRequired,onItemDetails:_propTypes2.default.func.isRequired,onDirentClick:_propTypes2.default.func.isRequired,updateDirent:_propTypes2.default.func.isRequired,showImagePopup:_propTypes2.default.func.isRequired,currentRepoInfo:_propTypes2.default.object,isRepoOwner:_propTypes2.default.bool,isAdmin:_propTypes2.default.bool.isRequired,repoEncrypted:_propTypes2.default.bool.isRequired,isGroupOwnedRepo:_propTypes2.default.bool.isRequired};var DirentListItem=function(_React$Component){_inherits(DirentListItem,_React$Component);function DirentListItem(props){_classCallCheck(this,DirentListItem);var _this2=_possibleConstructorReturn(this,(DirentListItem.__proto__||Object.getPrototypeOf(DirentListItem)).call(this,props));_this2.onMouseEnter=function(){if(!_this2.props.isItemFreezed){_this2.setState({highlight:true,isOperationShow:true});}_this2.setState({isDragTipShow:true});};_this2.onMouseOver=function(){if(!_this2.props.isItemFreezed){_this2.setState({highlight:true,isOperationShow:true});}_this2.setState({isDragTipShow:true});};_this2.onMouseLeave=function(){if(!_this2.props.isItemFreezed){_this2.setState({highlight:false,isOperationShow:false});}_this2.setState({isDragTipShow:false});};_this2.onUnfreezedItem=function(){_this2.setState({highlight:false,isOperationShow:false});_this2.props.onUnfreezedItem();};_this2.onItemSelected=function(){_this2.props.onItemSelected(_this2.props.dirent);};_this2.onItemStarred=function(){var dirent=_this2.props.dirent;var repoID=_this2.props.repoID;var filePath=_this2.getDirentPath(dirent);if(dirent.starred){_seafileApi.seafileAPI.unstarItem(repoID,filePath).then(function(){_this2.props.updateDirent(_this2.props.dirent,'starred',false);});}else{_seafileApi.seafileAPI.starItem(repoID,filePath).then(function(){_this2.props.updateDirent(_this2.props.dirent,'starred',true);});}};_this2.onDirentClick=function(e){// '<td>' is clicked\nif(e.target.tagName=='TD'){_this2.props.onDirentClick(_this2.props.dirent);}};_this2.onItemClick=function(e){e.preventDefault();var dirent=_this2.props.dirent;if(_utils.Utils.imageCheck(dirent.name)){_this2.props.showImagePopup(dirent);}else{_this2.props.onItemClick(dirent);}};_this2.onItemDelete=function(e){e.nativeEvent.stopImmediatePropagation();//for document event\n_this2.props.onItemDelete(_this2.props.dirent);};_this2.onItemShare=function(e){e.nativeEvent.stopImmediatePropagation();//for document event\n_this2.setState({isShareDialogShow:!_this2.state.isShareDialogShow});};_this2.closeSharedDialog=function(){_this2.setState({isShareDialogShow:!_this2.state.isShareDialogShow});};_this2.onMenuItemClick=function(operation){switch(operation){case'Rename':_this2.onItemRenameToggle();break;case'Move':_this2.onItemMoveToggle();break;case'Copy':_this2.onItemCopyToggle();break;case'Permission':_this2.onPermissionItem();break;case'Details':_this2.onDetailsItem();break;case'Unlock':_this2.onUnlockItem();break;case'Lock':_this2.onLockItem();break;case'Comment':_this2.onComnentItem();break;case'History':_this2.onHistory();break;case'Access Log':_this2.onAccessLog();break;case'Open via Client':_this2.onOpenViaClient();break;default:break;}};_this2.onItemRenameToggle=function(){_this2.props.onItemRenameToggle(_this2.props.dirent);_this2.setState({isOperationShow:false,isRenameing:true});};_this2.onRenameConfirm=function(newName){_this2.props.onItemRename(_this2.props.dirent,newName);_this2.onRenameCancel();};_this2.onRenameCancel=function(){_this2.setState({isRenameing:false});_this2.props.onUnfreezedItem();};_this2.onItemMoveToggle=function(){_this2.setState({isMoveDialogShow:!_this2.state.isMoveDialogShow});};_this2.onItemCopyToggle=function(){_this2.setState({isCopyDialogShow:!_this2.state.isCopyDialogShow});};_this2.onPermissionItem=function(){};_this2.onDetailsItem=function(){_this2.props.onItemDetails(_this2.props.dirent);};_this2.onLockItem=function(){var repoID=_this2.props.repoID;var filePath=_this2.getDirentPath(_this2.props.dirent);_seafileApi.seafileAPI.lockfile(repoID,filePath).then(function(){_this2.props.updateDirent(_this2.props.dirent,'is_locked',true);_this2.props.updateDirent(_this2.props.dirent,'locked_by_me',true);});};_this2.onUnlockItem=function(){var repoID=_this2.props.repoID;var filePath=_this2.getDirentPath(_this2.props.dirent);_seafileApi.seafileAPI.unlockfile(repoID,filePath).then(function(){_this2.props.updateDirent(_this2.props.dirent,'is_locked',false);_this2.props.updateDirent(_this2.props.dirent,'locked_by_me',false);});};_this2.onComnentItem=function(){};_this2.onHistory=function(){var repoID=_this2.props.repoID;var filePath=_this2.getDirentPath(_this2.props.dirent);var url=_urlDecorator2.default.getUrl({type:'file_revisions',repoID:repoID,filePath:filePath});location.href=url;};_this2.onAccessLog=function(){};_this2.onOpenViaClient=function(){var repoID=_this2.props.repoID;var filePath=_this2.getDirentPath(_this2.props.dirent);var url=_urlDecorator2.default.getUrl({type:'open_via_client',repoID:repoID,filePath:filePath});location.href=url;};_this2.onItemDownload=function(e){e.nativeEvent.stopImmediatePropagation();var dirent=_this2.props.dirent;var repoID=_this2.props.repoID;var direntPath=_this2.getDirentPath(dirent);if(dirent.type==='dir'){_this2.setState({isProgressDialogShow:true,progress:0});_seafileApi.seafileAPI.zipDownload(repoID,_this2.props.path,dirent.name).then(function(res){_this2.zipToken=res.data['zip_token'];_this2.addDownloadAnimation();_this2.interval=setInterval(_this2.addDownloadAnimation,1000);}).catch(function(){clearInterval(_this2.interval);});}else{var url=_urlDecorator2.default.getUrl({type:'download_file_url',repoID:repoID,filePath:direntPath});location.href=url;}};_this2.addDownloadAnimation=function(){var _this=_this2;var token=_this2.zipToken;_seafileApi.seafileAPI.queryZipProgress(token).then(function(res){var data=res.data;var progress=data.total===0?100:(data.zipped/data.total*100).toFixed(0);_this2.setState({progress:parseInt(progress)});if(data['total']===data['zipped']){_this2.setState({progress:100});clearInterval(_this2.interval);location.href=_urlDecorator2.default.getUrl({type:'download_dir_zip_url',token:token});setTimeout(function(){_this.setState({isProgressDialogShow:false});},500);}});};_this2.onCancelDownload=function(){var zipToken=_this2.zipToken;_seafileApi.seafileAPI.cancelZipTask(zipToken).then(function(res){_this2.setState({isProgressDialogShow:false});});};_this2.getDirentPath=function(dirent){var path=_this2.props.path;return path==='/'?path+dirent.name:path+'/'+dirent.name;};_this2.onTagTooltipToggle=function(e){e.stopPropagation();_this2.setState({isShowTagTooltip:!_this2.state.isShowTagTooltip});};_this2.onItemMove=function(destRepo,dirent,selectedPath,currentPath){_this2.props.onItemMove(destRepo,dirent,selectedPath,currentPath);};_this2.onItemDragStart=function(e){var nodeRootPath='';nodeRootPath=_this2.props.path==='/'?''+_this2.props.path+_this2.props.dirent.name:_this2.props.path;var dragStartItemData={nodeDirent:_this2.props.dirent,nodeParentPath:_this2.props.path,nodeRootPath:nodeRootPath};dragStartItemData=JSON.stringify(dragStartItemData);e.dataTransfer.effectAllowed=\"move\";e.dataTransfer.setDragImage(_this2.refs.drag_icon,15,15);e.dataTransfer.setData('applicaiton/drag-item-info',dragStartItemData);};_this2.onItemDragEnter=function(){if(_this2.props.dirent.type==='dir'){_this2.setState({isDropTipshow:true});}};_this2.onItemDragOver=function(e){e.preventDefault();e.dataTransfer.dropEffect='move';};_this2.onItemDragLeave=function(){_this2.setState({isDropTipshow:false});};_this2.onItemDragDrop=function(e){_this2.setState({isDropTipshow:false});if(e.dataTransfer.files.length){// uploaded files\nreturn;}var dragStartItemData=e.dataTransfer.getData('applicaiton/drag-item-info');dragStartItemData=JSON.parse(dragStartItemData);var _dragStartItemData=dragStartItemData,nodeDirent=_dragStartItemData.nodeDirent,nodeParentPath=_dragStartItemData.nodeParentPath,nodeRootPath=_dragStartItemData.nodeRootPath;var dropItemData=_this2.props.dirent;if(nodeDirent.name===dropItemData.name){return;}if(dropItemData.type!=='dir'){return;}//  copy the dirent to it's child. eg: A/B -> A/B/C\nif(dropItemData.type==='dir'&&nodeDirent.type==='dir'){if(nodeParentPath!==_this2.props.path){if(_this2.props.path.indexOf(nodeRootPath)!==-1){return;}}}var selectedPath=_utils.Utils.joinPath(_this2.props.path,_this2.props.dirent.name);_this2.onItemMove(_this2.props.currentRepoInfo,nodeDirent,selectedPath,nodeParentPath);};_this2.state={isOperationShow:false,highlight:false,progress:0,isProgressDialogShow:false,isMoveDialogShow:false,isCopyDialogShow:false,isShareDialogShow:false,isMutipleOperation:false,isShowTagTooltip:false,isDragTipShow:false,isDropTipshow:false};_this2.zipToken=null;return _this2;}//UI Interactive\n//buiness handler\n// on '<tr>'\n_createClass(DirentListItem,[{key:'render',value:function render(){var _props=this.props,path=_props.path,dirent=_props.dirent;var direntPath=_utils.Utils.joinPath(path,dirent.name);var dirHref='';if(this.props.currentRepoInfo){dirHref=_constants.siteRoot+'library/'+this.props.repoID+'/'+this.props.currentRepoInfo.repo_name+_utils.Utils.encodePath(direntPath);}var fileHref=_constants.siteRoot+'lib/'+this.props.repoID+'/file'+_utils.Utils.encodePath(direntPath);var toolTipID=(0,_MD2.default)(dirent.name).slice(0,7);var tagTitle='';if(dirent.file_tags&&dirent.file_tags.length>0){dirent.file_tags.forEach(function(item){tagTitle+=item.name+' ';});}var iconUrl=_utils.Utils.getDirentIcon(dirent);var _props2=this.props,repoEncrypted=_props2.repoEncrypted,isRepoOwner=_props2.isRepoOwner,isAdmin=_props2.isAdmin;var showShare=false;if(!repoEncrypted&&(dirent.permission=='rw'||dirent.permission=='r')){showShare=dirent.type=='file'?_constants.canGenerateShareLink:_constants.canGenerateShareLink||_constants.canGenerateUploadLink||isRepoOwner||isAdmin;}var trClass=this.state.highlight?'tr-highlight ':'';trClass+=this.state.isDropTipshow?'tr-drop-effect':'';return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('tr',{className:trClass,draggable:'true',onMouseEnter:this.onMouseEnter,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onClick:this.onDirentClick,onDragStart:this.onItemDragStart,onDragEnter:this.onItemDragEnter,onDragOver:this.onItemDragOver,onDragLeave:this.onItemDragLeave,onDrop:this.onItemDragDrop},_react2.default.createElement('td',{className:'pl10 '+(this.state.isDragTipShow?'tr-drag-effect':'')},_react2.default.createElement('input',{type:'checkbox',className:'vam',onChange:this.onItemSelected,checked:dirent.isSelected})),_react2.default.createElement('td',{className:'pl10'},dirent.starred!==undefined&&!dirent.starred&&_react2.default.createElement('i',{className:'far fa-star star-empty cursor-pointer',onClick:this.onItemStarred}),dirent.starred!==undefined&&dirent.starred&&_react2.default.createElement('i',{className:'fas fa-star cursor-pointer',onClick:this.onItemStarred})),_react2.default.createElement('td',{className:'pl10'},_react2.default.createElement('div',{className:'dir-icon'},dirent.encoded_thumbnail_src?_react2.default.createElement('img',{ref:'drag_icon',src:''+_constants.siteRoot+dirent.encoded_thumbnail_src,className:'thumbnail cursor-pointer',onClick:this.onItemClick,alt:''}):_react2.default.createElement('img',{ref:'drag_icon',src:iconUrl,width:'24',alt:''}),dirent.is_locked&&_react2.default.createElement('img',{className:'locked',src:_constants.mediaUrl+'img/file-locked-32.png',alt:(0,_constants.gettext)('locked'),title:dirent.lock_owner_name}))),_react2.default.createElement('td',{className:'name'},this.state.isRenameing?_react2.default.createElement(_rename2.default,{hasSuffix:dirent.type!=='dir',name:dirent.name,onRenameConfirm:this.onRenameConfirm,onRenameCancel:this.onRenameCancel}):_react2.default.createElement('a',{href:dirent.type==='dir'?dirHref:fileHref,onClick:this.onItemClick},dirent.name)),_react2.default.createElement('td',{className:'tag-list-title'},dirent.type!=='dir'&&dirent.file_tags&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{id:'tag-list-title-'+toolTipID,className:'dirent-item tag-list tag-list-stacked'},dirent.file_tags.map(function(fileTag,index){var length=dirent.file_tags.length;return _react2.default.createElement('span',{className:'file-tag',key:fileTag.id,style:{zIndex:length-index,backgroundColor:fileTag.color}});})),_react2.default.createElement(_reactstrap.UncontrolledTooltip,{target:'tag-list-title-'+toolTipID,placement:'bottom'},tagTitle))),_react2.default.createElement('td',{className:'operation'},this.state.isOperationShow&&_react2.default.createElement('div',{className:'operations'},_react2.default.createElement('ul',{className:'operation-group'},_react2.default.createElement('li',{className:'operation-group-item'},_react2.default.createElement('i',{className:'op-icon sf2-icon-download',title:(0,_constants.gettext)('Download'),onClick:this.onItemDownload})),showShare&&_react2.default.createElement('li',{className:'operation-group-item'},_react2.default.createElement('i',{className:'op-icon sf2-icon-share',title:(0,_constants.gettext)('Share'),onClick:this.onItemShare})),_react2.default.createElement('li',{className:'operation-group-item'},_react2.default.createElement('i',{className:'op-icon sf2-icon-delete',title:(0,_constants.gettext)('Delete'),onClick:this.onItemDelete})),_react2.default.createElement('li',{className:'operation-group-item'},_react2.default.createElement(_direntMenu2.default,{dirent:this.props.dirent,onMenuItemClick:this.onMenuItemClick,currentRepoInfo:this.props.currentRepoInfo,isRepoOwner:this.props.isRepoOwner,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem}))))),_react2.default.createElement('td',{className:'file-size'},dirent.size&&dirent.size),_react2.default.createElement('td',{className:'last-update'},dirent.mtime_relative)),this.state.isMoveDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_moveDirentDialog2.default,{path:this.props.path,repoID:this.props.repoID,dirent:this.props.dirent,isMutipleOperation:this.state.isMutipleOperation,onItemMove:this.props.onItemMove,onCancelMove:this.onItemMoveToggle,repoEncrypted:this.props.repoEncrypted})),this.state.isCopyDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_copyDirentDialog2.default,{path:this.props.path,repoID:this.props.repoID,dirent:this.props.dirent,isMutipleOperation:this.state.isMutipleOperation,onItemCopy:this.props.onItemCopy,onCancelCopy:this.onItemCopyToggle,repoEncrypted:this.props.repoEncrypted})),this.state.isProgressDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_zipDownloadDialog2.default,{progress:this.state.progress,onCancelDownload:this.onCancelDownload})),this.state.isShareDialogShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_shareDialog2.default,{itemType:dirent.type,itemName:dirent.name,itemPath:direntPath,userPerm:dirent.permission,repoID:this.props.repoID,repoEncrypted:false,enableDirPrivateShare:this.props.enableDirPrivateShare,isGroupOwnedRepo:this.props.isGroupOwnedRepo,toggleDialog:this.closeSharedDialog})));}}]);return DirentListItem;}(_react2.default.Component);DirentListItem.propTypes=propTypes;exports.default=DirentListItem;\n\n/***/ }),\n\n/***/ 292:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={dirent:_propTypes2.default.object.isRequired,currentRepoInfo:_propTypes2.default.object.isRequired,isRepoOwner:_propTypes2.default.bool.isRequired,onMenuItemClick:_propTypes2.default.func.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnfreezedItem:_propTypes2.default.func.isRequired};var DirentMenu=function(_React$Component){_inherits(DirentMenu,_React$Component);function DirentMenu(props){_classCallCheck(this,DirentMenu);var _this=_possibleConstructorReturn(this,(DirentMenu.__proto__||Object.getPrototypeOf(DirentMenu)).call(this,props));_this.translateMenuItem=function(menuItem){var translateResult='';switch(menuItem){case'Rename':translateResult=(0,_constants.gettext)('Rename');break;case'Move':translateResult=(0,_constants.gettext)('Move');break;case'Copy':translateResult=(0,_constants.gettext)('Copy');break;case'Permission':translateResult=(0,_constants.gettext)('Permission');break;case'Details':translateResult=(0,_constants.gettext)('Details');break;case'Unlock':translateResult=(0,_constants.gettext)('Unlock');break;case'Lock':translateResult=(0,_constants.gettext)('Lock');break;case'Comment':translateResult=(0,_constants.gettext)('Comment');break;case'History':translateResult=(0,_constants.gettext)('History');break;case'Access Log':translateResult=(0,_constants.gettext)('Access Log');break;case'Open via Client':translateResult=(0,_constants.gettext)('Open via Client');break;default:break;}return translateResult;};_this.onDropdownToggleClick=function(e){e.preventDefault();_this.toggleOperationMenu();};_this.toggleOperationMenu=function(){_this.setState({isItemMenuShow:!_this.state.isItemMenuShow},function(){if(_this.state.isItemMenuShow){_this.props.onFreezedItem();}else{_this.props.onUnfreezedItem();}});};_this.onMenuItemClick=function(event){var operation=event.target.dataset.toggle;_this.props.onMenuItemClick(operation);};_this.state={isItemMenuShow:false};_this.menuList=[];return _this;}_createClass(DirentMenu,[{key:'componentDidMount',value:function componentDidMount(){this.menuList=this.calculateMenuList();}},{key:'calculateMenuList',value:function calculateMenuList(){var _props=this.props,currentRepoInfo=_props.currentRepoInfo,dirent=_props.dirent,isRepoOwner=_props.isRepoOwner;var type=dirent.type;var permission=dirent.permission;var can_set_folder_perm=_constants.folderPermEnabled&&(isRepoOwner&&currentRepoInfo.has_been_shared_out||currentRepoInfo.is_admin);if(type==='dir'&&permission==='rw'){var menuList=[];if(can_set_folder_perm){menuList=['Rename','Move','Copy','Divider','Permission','Details','Divider','Open via Client'];}else{menuList=['Rename','Move','Copy','Divider','Details','Divider','Open via Client'];}return menuList;}if(type==='dir'&&permission==='r'){var _menuList=currentRepoInfo.encrypted?['Copy','Details']:['Details'];return _menuList;}if(type==='file'&&permission==='rw'){var _menuList2=[];if(!dirent.is_locked||dirent.is_locked&&dirent.locked_by_me){_menuList2.push('Rename');_menuList2.push('Move');}_menuList2.push('Copy');if(_constants.isPro){if(dirent.is_locked){if(dirent.locked_by_me||dirent.lock_owner==='OnlineOffice'&&permission==='rw'){_menuList2.push('Unlock');}}else{_menuList2.push('Lock');}}_menuList2.push('Divider');if(_constants.enableFileComment){_menuList2.push('Comment');}_menuList2.push('History');if(_constants.fileAuditEnabled){_menuList2.push('Access Log');}_menuList2.push('Details');_menuList2.push('Divider');_menuList2.push('Open via Client');return _menuList2;}if(type==='file'&&permission==='r'){var _menuList3=[];if(!currentRepoInfo.encrypted){_menuList3.push('Copy');}if(_constants.enableFileComment){_menuList3.push('Comment');}_menuList3.push('History');_menuList3.push('Details');return _menuList3;}}},{key:'render',value:function render(){var _this2=this;if(!this.menuList.length){return'';}return _react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},_react2.default.createElement(_reactstrap.DropdownToggle,{tag:'i',className:'sf-dropdown-toggle sf2-icon-caret-down',title:(0,_constants.gettext)('More Operations'),'data-toggle':'dropdown','aria-expanded':this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),_react2.default.createElement(_reactstrap.DropdownMenu,null,this.menuList.map(function(menuItem,index){if(menuItem==='Divider'){return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,divider:true});}else{return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,'data-toggle':menuItem,onClick:_this2.onMenuItemClick},_this2.translateMenuItem(menuItem));}})));}}]);return DirentMenu;}(_react2.default.Component);DirentMenu.propTypes=propTypes;exports.default=DirentMenu;\n\n/***/ }),\n\n/***/ 293:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 296:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 297:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _utils=__webpack_require__(4);var _seafileApi=__webpack_require__(3);var _detailListView=__webpack_require__(298);var _detailListView2=_interopRequireDefault(_detailListView);var _repoInfo=__webpack_require__(31);var _repoInfo2=_interopRequireDefault(_repoInfo);var _fileTag=__webpack_require__(24);var _fileTag2=_interopRequireDefault(_fileTag);__webpack_require__(98);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,dirent:_propTypes2.default.object.isRequired,path:_propTypes2.default.string.isRequired,onItemDetailsClose:_propTypes2.default.func.isRequired,onFileTagChanged:_propTypes2.default.func.isRequired};var DirentDetail=function(_React$Component){_inherits(DirentDetail,_React$Component);function DirentDetail(props){_classCallCheck(this,DirentDetail);var _this=_possibleConstructorReturn(this,(DirentDetail.__proto__||Object.getPrototypeOf(DirentDetail)).call(this,props));_this.updateDetailView=function(dirent,direntPath){var repoID=_this.props.repoID;if(dirent.type==='file'){_seafileApi.seafileAPI.getFileInfo(repoID,direntPath).then(function(res){_this.setState({direntType:'file',direntDetail:res.data});});_seafileApi.seafileAPI.listFileTags(repoID,direntPath).then(function(res){var fileTagList=[];res.data.file_tags.forEach(function(item){var file_tag=new _fileTag2.default(item);fileTagList.push(file_tag);});_this.setState({fileTagList:fileTagList});});_seafileApi.seafileAPI.listRelatedFiles(repoID,direntPath).then(function(res){var relatedFiles=[];res.data.related_files.map(function(relatedFile){relatedFiles.push(relatedFile);});_this.setState({relatedFiles:relatedFiles});}).catch(function(error){if(error.response.status===500){_this.setState({relatedFiles:[]});}});}else{_seafileApi.seafileAPI.getDirInfo(repoID,direntPath).then(function(res){_this.setState({direntType:'dir',direntDetail:res.data});});}};_this.onFileTagChanged=function(dirent,direntPath){_this.updateDetailView(dirent,direntPath);_this.props.onFileTagChanged(dirent,direntPath);};_this.onRelatedFileChange=function(){var _this$props=_this.props,dirent=_this$props.dirent,path=_this$props.path;var direntPath=_utils.Utils.joinPath(path,dirent.name);_this.updateDetailView(dirent,direntPath);};_this.state={direntType:'',direntDetail:'',repoInfo:null,fileTagList:[],relatedFiles:[]};return _this;}_createClass(DirentDetail,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;var _props=this.props,dirent=_props.dirent,path=_props.path,repoID=_props.repoID;var direntPath=_utils.Utils.joinPath(path,dirent.name);_seafileApi.seafileAPI.getRepoInfo(repoID).then(function(res){var repoInfo=new _repoInfo2.default(res.data);_this2.setState({repoInfo:repoInfo});_this2.updateDetailView(dirent,direntPath);});}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){var dirent=nextProps.dirent,path=nextProps.path;var direntPath=_utils.Utils.joinPath(path,dirent.name);this.updateDetailView(dirent,direntPath);}},{key:'render',value:function render(){var dirent=this.props.dirent;var smallIconUrl=_utils.Utils.getDirentIcon(dirent);var bigIconUrl=_utils.Utils.getDirentIcon(dirent,true);return _react2.default.createElement('div',{className:'detail-container'},_react2.default.createElement('div',{className:'detail-header'},_react2.default.createElement('div',{className:'detail-control sf2-icon-x1',onClick:this.props.onItemDetailsClose}),_react2.default.createElement('div',{className:'detail-title dirent-title'},_react2.default.createElement('img',{src:smallIconUrl,width:'24',height:'24',alt:''}),' ',_react2.default.createElement('span',{className:'name ellipsis',title:dirent.name},dirent.name))),_react2.default.createElement('div',{className:'detail-body dirent-info'},_react2.default.createElement('div',{className:'img'},_react2.default.createElement('img',{src:bigIconUrl,width:'96',alt:''})),this.state.direntDetail&&_react2.default.createElement('div',{className:'dirent-table-container'},_react2.default.createElement(_detailListView2.default,{repoInfo:this.state.repoInfo,path:this.props.path,repoID:this.props.repoID,dirent:this.props.dirent,direntType:this.state.direntType,direntDetail:this.state.direntDetail,fileTagList:this.state.fileTagList,relatedFiles:this.state.relatedFiles,onFileTagChanged:this.onFileTagChanged,onRelatedFileChange:this.onRelatedFileChange}))));}}]);return DirentDetail;}(_react2.default.Component);DirentDetail.propTypes=propTypes;exports.default=DirentDetail;\n\n/***/ }),\n\n/***/ 298:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _editFiletagDialog=__webpack_require__(106);var _editFiletagDialog2=_interopRequireDefault(_editFiletagDialog);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _relatedFileDialogs=__webpack_require__(107);var _relatedFileDialogs2=_interopRequireDefault(_relatedFileDialogs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoInfo:_propTypes2.default.object.isRequired,repoID:_propTypes2.default.string.isRequired,dirent:_propTypes2.default.object.isRequired,direntType:_propTypes2.default.string.isRequired,direntDetail:_propTypes2.default.object.isRequired,path:_propTypes2.default.string.isRequired,fileTagList:_propTypes2.default.array.isRequired,relatedFiles:_propTypes2.default.array.isRequired,onFileTagChanged:_propTypes2.default.func.isRequired,onRelatedFileChange:_propTypes2.default.func.isRequired};var DetailListView=function(_React$Component){_inherits(DetailListView,_React$Component);function DetailListView(props){_classCallCheck(this,DetailListView);var _this=_possibleConstructorReturn(this,(DetailListView.__proto__||Object.getPrototypeOf(DetailListView)).call(this,props));_this.getDirentPostion=function(){var repoInfo=_this.props.repoInfo;var direntPath=_this.getDirentPath();var position=repoInfo.repo_name;if(direntPath!=='/'){var index=direntPath.lastIndexOf('/');var path=direntPath.slice(0,index);position=position+path;}return position;};_this.onEditFileTagToggle=function(){_this.setState({isEditFileTagShow:!_this.state.isEditFileTagShow});};_this.onFileTagChanged=function(){var direntPath=_this.getDirentPath();_this.props.onFileTagChanged(_this.props.dirent,direntPath);};_this.getDirentPath=function(){var _this$props=_this.props,dirent=_this$props.dirent,path=_this$props.path;return _utils.Utils.joinPath(path,dirent.name);};_this.onListRelatedFileToggle=function(){_this.setState({showRelatedFileDialog:true});};_this.toggleCancel=function(){_this.setState({showRelatedFileDialog:false});};_this.state={isEditFileTagShow:false,showRelatedFileDialog:false};return _this;}_createClass(DetailListView,[{key:'render',value:function render(){var _props=this.props,direntType=_props.direntType,direntDetail=_props.direntDetail,fileTagList=_props.fileTagList,relatedFiles=_props.relatedFiles;var position=this.getDirentPostion();var direntPath=this.getDirentPath();if(direntType==='dir'){return _react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'35%'}),_react2.default.createElement('th',{width:'65%'}))),_react2.default.createElement('tbody',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Location')),_react2.default.createElement('td',null,position)),_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Last Update')),_react2.default.createElement('td',null,(0,_moment2.default)(direntDetail.mtime).format('YYYY-MM-DD')))));}else{return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'35%'}),_react2.default.createElement('th',{width:'65%'}))),_react2.default.createElement('tbody',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Size')),_react2.default.createElement('td',null,_utils.Utils.bytesToSize(direntDetail.size))),_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Location')),_react2.default.createElement('td',null,position)),_react2.default.createElement('tr',null,_react2.default.createElement('th',null,(0,_constants.gettext)('Last Update')),_react2.default.createElement('td',null,(0,_moment2.default)(direntDetail.last_modified).fromNow())),_react2.default.createElement('tr',{className:'file-tag-container'},_react2.default.createElement('th',null,(0,_constants.gettext)('Tags')),_react2.default.createElement('td',null,_react2.default.createElement('ul',{className:'file-tag-list'},fileTagList.map(function(fileTag){return _react2.default.createElement('li',{key:fileTag.id,className:'file-tag-item'},_react2.default.createElement('span',{className:'file-tag',style:{backgroundColor:fileTag.color}}),_react2.default.createElement('span',{className:'tag-name',title:fileTag.name},fileTag.name));})),_react2.default.createElement('i',{className:'fa fa-pencil-alt attr-action-icon',onClick:this.onEditFileTagToggle}))),_react2.default.createElement('tr',{className:'file-related-files'},_react2.default.createElement('th',null,(0,_constants.gettext)('Related Files')),_react2.default.createElement('td',null,_react2.default.createElement('ul',null,relatedFiles.map(function(relatedFile,index){var href=_constants.siteRoot+'lib/'+relatedFile.repo_id+'/file'+_utils.Utils.encodePath(relatedFile.path);return _react2.default.createElement('li',{key:index},_react2.default.createElement('a',{href:href,target:'_blank'},relatedFile.name));})),_react2.default.createElement('i',{className:'fa fa-pencil-alt attr-action-icon',onClick:this.onListRelatedFileToggle}))))),this.state.showRelatedFileDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_relatedFileDialogs2.default,{repoID:this.props.repoID,filePath:direntPath,relatedFiles:relatedFiles,toggleCancel:this.toggleCancel,onRelatedFileChange:this.props.onRelatedFileChange,dirent:this.props.dirent,viewMode:'list_related_file'})),this.state.isEditFileTagShow&&_react2.default.createElement(_editFiletagDialog2.default,{repoID:this.props.repoID,fileTagList:fileTagList,filePath:direntPath,toggleCancel:this.onEditFileTagToggle,onFileTagChanged:this.onFileTagChanged}));}}}]);return DetailListView;}(_react2.default.Component);DetailListView.propTypes=propTypes;exports.default=DetailListView;\n\n/***/ }),\n\n/***/ 299:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _resumablejs=__webpack_require__(524);var _resumablejs2=_interopRequireDefault(_resumablejs);var _MD=__webpack_require__(206);var _MD2=_interopRequireDefault(_MD);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _utils=__webpack_require__(4);var _uploadProgressDialog=__webpack_require__(300);var _uploadProgressDialog2=_interopRequireDefault(_uploadProgressDialog);var _uploadRemindDialog=__webpack_require__(302);var _uploadRemindDialog2=_interopRequireDefault(_uploadRemindDialog);__webpack_require__(303);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,direntList:_propTypes2.default.array.isRequired,filetypes:_propTypes2.default.array,chunkSize:_propTypes2.default.number,withCredentials:_propTypes2.default.bool,maxFiles:_propTypes2.default.number,maxFileSize:_propTypes2.default.number,testMethod:_propTypes2.default.string,testChunks:_propTypes2.default.number,simultaneousUploads:_propTypes2.default.number,fileParameterName:_propTypes2.default.string,maxFilesErrorCallback:_propTypes2.default.func,maxFileSizeErrorCallback:_propTypes2.default.func,minFileSizeErrorCallback:_propTypes2.default.func,fileTypeErrorCallback:_propTypes2.default.func,dragAndDrop:_propTypes2.default.bool.isRequired,path:_propTypes2.default.string.isRequired,onFileUploadSuccess:_propTypes2.default.func.isRequired};var FileUploader=function(_React$Component){_inherits(FileUploader,_React$Component);function FileUploader(props){_classCallCheck(this,FileUploader);var _this=_possibleConstructorReturn(this,(FileUploader.__proto__||Object.getPrototypeOf(FileUploader)).call(this,props));_this.componentWillUnmount=function(){if(_this.props.dragAndDrop===true){_this.resumable.disableDropOnDocument();}};_this.bindCallbackHandler=function(){var _this$props=_this.props,maxFilesErrorCallback=_this$props.maxFilesErrorCallback,minFileSizeErrorCallback=_this$props.minFileSizeErrorCallback,maxFileSizeErrorCallback=_this$props.maxFileSizeErrorCallback,fileTypeErrorCallback=_this$props.fileTypeErrorCallback;if(maxFilesErrorCallback){_this.resumable.opts.maxFilesErrorCallback=_this.props.maxFilesErrorCallback;}if(minFileSizeErrorCallback){_this.resumable.opts.minFileSizeErrorCallback=_this.props.minFileSizeErrorCallback;}if(maxFileSizeErrorCallback){_this.resumable.opts.maxFileSizeErrorCallback=_this.props.maxFileSizeErrorCallback;}if(fileTypeErrorCallback){_this.resumable.opts.fileTypeErrorCallback=_this.props.fileTypeErrorCallback;}};_this.bindEventHandler=function(){_this.resumable.on('chunkingComplete',_this.onChunkingComplete.bind(_this));_this.resumable.on('fileAdded',_this.onFileAdded.bind(_this));_this.resumable.on('filesAddedComplete',_this.filesAddedComplete.bind(_this));_this.resumable.on('fileProgress',_this.onFileProgress.bind(_this));_this.resumable.on('fileSuccess',_this.onFileUploadSuccess.bind(_this));_this.resumable.on('progress',_this.onProgress.bind(_this));_this.resumable.on('complete',_this.onComplete.bind(_this));_this.resumable.on('pause',_this.onPause.bind(_this));_this.resumable.on('fileRetry',_this.onFileRetry.bind(_this));_this.resumable.on('fileError',_this.onFileError.bind(_this));_this.resumable.on('error',_this.onError.bind(_this));_this.resumable.on('beforeCancel',_this.onBeforeCancel.bind(_this));_this.resumable.on('cancel',_this.onCancel.bind(_this));_this.resumable.on('dragstart',_this.onDragStart.bind(_this));};_this.onChunkingComplete=function(file){if(file.relativePath!==file.fileName){return;// is upload a folder;\n}if(_constants.enableResumableFileUpload){var repoID=_this.props.repoID;_seafileApi.seafileAPI.getFileUploadedBytes(repoID,_this.props.path,file.fileName).then(function(res){var uploadedBytes=res.data.uploadedBytes;var offset=Math.floor(uploadedBytes/(1024*1024));file.markChunksCompleted(offset);});}};_this.onFileAdded=function(resumableFile,files){//get parent_dirrelative_path\nvar path=_this.props.path==='/'?'/':_this.props.path+'/';var fileName=resumableFile.fileName;var relativePath=resumableFile.relativePath;var isFile=fileName===relativePath;//update formdata\nresumableFile.formData={};if(isFile){resumableFile.formData={parent_dir:path};}else{var relative_path=relativePath.slice(0,relativePath.lastIndexOf('/')+1);resumableFile.formData={parent_dir:path,relative_path:relative_path};}//check repetition\n//uploading is file and only upload one file\nif(isFile&&files.length===1){var hasRepetition=false;var direntList=_this.props.direntList;for(var i=0;i<direntList.length;i++){if(direntList[i].type==='file'&&direntList[i].name===resumableFile.fileName){hasRepetition=true;break;}}if(hasRepetition){_this.setState({isUploadRemindDialogShow:true,currentResumableFile:resumableFile});}else{_this.setUploadFileList(_this.resumable.files);_this.resumable.upload();}}else{_this.setUploadFileList(_this.resumable.files);_this.resumable.upload();}};_this.filesAddedComplete=function(resumable,files){// single file uploading can check repetition, because custom dialog conn't prevent program execution;\n};_this.setUploadFileList=function(){var uploadFileList=_this.resumable.files.map(function(resumableFile){return _this.buildCustomFileObj(resumableFile);});_this.setState({isUploadProgressDialogShow:true,uploadFileList:uploadFileList});};_this.buildCustomFileObj=function(resumableFile){return{uniqueIdentifier:resumableFile.uniqueIdentifier,resumableFile:resumableFile,progress:resumableFile.progress(),isSaved:resumableFile.progress()===1?true:false// The 'isSaved' property is not saved in resumableFile.\n};};_this.onFileProgress=function(file){var uniqueIdentifier=file.uniqueIdentifier;var uploadFileList=_this.state.uploadFileList.map(function(item){if(item.uniqueIdentifier===uniqueIdentifier){item.progress=Math.round(file.progress()*100);}return item;});_this.setState({uploadFileList:uploadFileList});};_this.getBitrate=function(){var loaded=0;var uploadBitrate=0;var now=new Date().getTime();_this.resumable.files.forEach(function(file){loaded+=file.progress()*file.size;});if(_this.timestamp){var timeDiff=now-_this.timestamp;if(timeDiff<_this.bitrateInterval){return _this.state.uploadBitrate;}uploadBitrate=(loaded-_this.loaded)*(1000/timeDiff)*8;}_this.timestamp=now;_this.loaded=loaded;uploadBitrate=_utils.Utils.formatBitRate(uploadBitrate);return uploadBitrate;};_this.onProgress=function(){var progress=Math.round(_this.resumable.progress()*100);var uploadBitrate=_this.getBitrate();_this.setState({totalProgress:progress,uploadBitrate:uploadBitrate});};_this.onFileUploadSuccess=function(resumableFile,message){var formData=resumableFile.formData;var currentTime=new Date().getTime()/1000;message=formData.replace?message:JSON.parse(message)[0];if(formData.relative_path){// upload folder\nvar relative_path=formData.relative_path;var dir_name=relative_path.slice(0,relative_path.indexOf('/'));var _dirent={id:message.id,name:dir_name,type:'dir',mtime:currentTime};// update folders cache\nvar isExist=_this.notifiedFolders.some(function(item){return item.name===_dirent.name;});if(!isExist){_this.notifiedFolders.push(_dirent);_this.props.onFileUploadSuccess(_dirent);}// update uploadFileList\nvar _uploadFileList=_this.state.uploadFileList.map(function(item){if(item.resumableFile.uniqueIdentifier===resumableFile.uniqueIdentifier){item.resumableFile.fileName=message.name;item.resumableFile.relativePath=relative_path+message.name;item.isSaved=true;}return item;});_this.setState({uploadFileList:_uploadFileList});return;}if(formData.replace){// upload file -- replace exist file\nvar fileName=resumableFile.fileName;var _dirent2={id:message,name:fileName,type:'file',mtime:currentTime};_this.props.onFileUploadSuccess(_dirent2);// this contance: just one file\nvar _uploadFileList2=_this.state.uploadFileList.map(function(item){if(item.resumableFile.uniqueIdentifier===resumableFile.uniqueIdentifier){item.isSaved=true;}return item;});_this.setState({uploadFileList:_uploadFileList2});return;}// upload file -- add files\nvar dirent={id:message.id,type:'file',name:message.name,size:message.size,mtime:currentTime};_this.props.onFileUploadSuccess(dirent);// this contance:  no repetition file\nvar uploadFileList=_this.state.uploadFileList.map(function(item){if(item.resumableFile.uniqueIdentifier===resumableFile.uniqueIdentifier){item.resumableFile.fileName=message.name;item.resumableFile.relativePath=message.name;item.isSaved=true;}return item;});_this.setState({uploadFileList:uploadFileList});};_this.onFileError=function(resumableFile,message){var error='';if(!message){error=(0,_constants.gettext)('Network error');}else{error=message;}var uploadFileList=_this.state.uploadFileList.map(function(item){if(item.resumableFile.uniqueIdentifier===resumableFile.uniqueIdentifier){item.resumableFile.error=error;}return item;});_this.setState({uploadFileList:uploadFileList});};_this.onComplete=function(){_this.notifiedFolders=[];_this.setState({allFilesUploaded:true});};_this.onPause=function(){};_this.onError=function(message){};_this.onFileRetry=function(){//todos, cancel upload file, uploded again;\n};_this.onBeforeCancel=function(){//todos, giving a pop message ?\n};_this.onCancel=function(){};_this.setHeaders=function(resumableFile,resumable){if(resumableFile.formData.replace){return[];}var offset=resumable.offset;var chunkSize=resumable.getOpt('chunkSize');var fileSize=resumableFile.size;var startByte=offset!==0?offset*chunkSize:0;var endByte=Math.min(fileSize,(offset+1)*chunkSize)-1;if(fileSize-resumable.endByte<chunkSize&&!resumable.getOpt('forceChunkSize')){endByte=fileSize;}var headers={'Accept':'application/json; text/javascript, */*; q=0.01','Content-Disposition':'attachment; filename=\"'+encodeURI(resumableFile.fileName)+'\"','Content-Range':'bytes '+startByte+'-'+endByte+'/'+fileSize};return headers;};_this.setQuery=function(resumableFile){var formData=resumableFile.formData;return formData;};_this.generateUniqueIdentifier=function(file){var relativePath=file.webkitRelativePath||file.relativePath||file.fileName||file.name;return(0,_MD2.default)(relativePath+new Date())+relativePath;};_this.onClick=function(e){e.nativeEvent.stopImmediatePropagation();e.stopPropagation();};_this.onFileUpload=function(){_this.uploadInput.current.removeAttribute('webkitdirectory');_this.uploadInput.current.click();var repoID=_this.props.repoID;_seafileApi.seafileAPI.getUploadLink(repoID,_this.props.path).then(function(res){_this.resumable.opts.target=res.data;});};_this.onFolderUpload=function(){_this.uploadInput.current.setAttribute('webkitdirectory','webkitdirectory');_this.uploadInput.current.click();var repoID=_this.props.repoID;_seafileApi.seafileAPI.getUploadLink(repoID,_this.props.path).then(function(res){_this.resumable.opts.target=res.data;});};_this.onDragStart=function(){var repoID=_this.props.repoID;_this.uploadInput.current.setAttribute('webkitdirectory','webkitdirectory');_seafileApi.seafileAPI.getUploadLink(repoID,_this.props.path).then(function(res){_this.resumable.opts.target=res.data;});};_this.onCloseUploadDialog=function(){_this.resumable.files=[];_this.setState({isUploadProgressDialogShow:false,uploadFileList:[]});};_this.onUploadCancel=function(uploadingItem){var uploadFileList=_this.state.uploadFileList.filter(function(item){if(item.uniqueIdentifier===uploadingItem.uniqueIdentifier){uploadingItem.resumableFile.cancel();_this.resumable.removeFile(uploadingItem.resumableFile.file);}else{return item;}});var newUploaderFileList=uploadFileList.map(function(item){var progress=Math.round(item.resumableFile.progress()*100);item.progress=progress;return item;});_this.setState({uploadFileList:newUploaderFileList});};_this.onCancelAllUploading=function(){var uploadFileList=_this.state.uploadFileList.filter(function(item){var resumableFile=item.resumableFile;if(Math.round(resumableFile.progress()!==1)){resumableFile.cancel();_this.resumable.removeFile(resumableFile.file);}else{return item;}});_this.setState({uploadFileList:uploadFileList});};_this.onUploaderRetry=function(){};_this.replaceRepetitionFile=function(){var _this$props2=_this.props,repoID=_this$props2.repoID,path=_this$props2.path;_seafileApi.seafileAPI.getUpdateLink(repoID,path).then(function(res){_this.resumable.opts.target=res.data;var resumableFile=_this.resumable.files[_this.resumable.files.length-1];resumableFile.formData['replace']=1;resumableFile.formData['target_file']=resumableFile.formData.parent_dir+resumableFile.fileName;_this.setState({isUploadRemindDialogShow:false});_this.setUploadFileList(_this.resumable.files);_this.resumable.upload();});};_this.uploadFile=function(){var resumableFile=_this.resumable.files[_this.resumable.files.length-1];var fileObject=_this.buildCustomFileObj(resumableFile);_this.setState({isUploadRemindDialogShow:false,isUploadProgressDialogShow:true,uploadFileList:[].concat(_toConsumableArray(_this.state.uploadFileList),[fileObject])},function(){_this.resumable.upload();});};_this.cancelFileUpload=function(){_this.resumable.files.pop();//delete latest file\n_this.setState({isUploadRemindDialogShow:false});};_this.state={uploadFileList:[],totalProgress:0,isUploadProgressDialogShow:false,isUploadRemindDialogShow:false,currentResumableFile:null,uploadBitrate:'0',allFilesUploaded:false};_this.uploadInput=_react2.default.createRef();_this.notifiedFolders=[];_this.timestamp=null;_this.loaded=0;_this.bitrateInterval=500;// Interval in milliseconds to calculate the bitrate\nreturn _this;}_createClass(FileUploader,[{key:'componentDidMount',value:function componentDidMount(){this.resumable=new _resumablejs2.default({target:'',query:this.setQuery||{},fileType:this.props.filetypes,maxFiles:this.props.maxFiles,maxFileSize:this.props.maxFileSize,testMethod:this.props.testMethod||'post',testChunks:this.props.testChunks||false,headers:this.setHeaders||{},withCredentials:this.props.withCredentials||false,chunkSize:this.props.chunkSize,simultaneousUploads:this.props.simultaneousUploads||1,fileParameterName:this.props.fileParameterName,generateUniqueIdentifier:this.generateUniqueIdentifier,forceChunkSize:true,maxChunkRetries:3});this.resumable.assignBrowse(this.uploadInput.current,true);//Enable or Disable DragAnd Drop\nif(this.props.dragAndDrop===true){this.resumable.enableDropOnDocument();}this.bindCallbackHandler();this.bindEventHandler();}},{key:'render',value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'file-uploader-container'},_react2.default.createElement('div',{className:'file-uploader'},_react2.default.createElement('input',{className:'upload-input',type:'file',ref:this.uploadInput,onClick:this.onClick}))),this.state.isUploadRemindDialogShow&&_react2.default.createElement(_uploadRemindDialog2.default,{currentResumableFile:this.state.currentResumableFile,replaceRepetitionFile:this.replaceRepetitionFile,uploadFile:this.uploadFile,cancelFileUpload:this.cancelFileUpload}),this.state.isUploadProgressDialogShow&&_react2.default.createElement(_uploadProgressDialog2.default,{uploadFileList:this.state.uploadFileList,totalProgress:this.state.totalProgress,uploadBitrate:this.state.uploadBitrate,allFilesUploaded:this.state.allFilesUploaded,onCloseUploadDialog:this.onCloseUploadDialog,onCancelAllUploading:this.onCancelAllUploading,onUploadCancel:this.onUploadCancel}));}}]);return FileUploader;}(_react2.default.Component);FileUploader.propTypes=propTypes;exports.default=FileUploader;\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});exports.seafileAPI=undefined;var _reactCookies=__webpack_require__(22);var _reactCookies2=_interopRequireDefault(_reactCookies);var _seafileJs=__webpack_require__(35);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var seafileAPI=new _seafileJs.SeafileAPI();var xcsrfHeaders=_reactCookies2.default.load('sfcsrftoken');seafileAPI.initForSeahubUsage({siteRoot:_constants.siteRoot,xcsrfHeaders:xcsrfHeaders});exports.seafileAPI=seafileAPI;\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _repoInfo=__webpack_require__(31);var _repoInfo2=_interopRequireDefault(_repoInfo);var _repoListView=__webpack_require__(42);var _repoListView2=_interopRequireDefault(_repoListView);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _searchedListView=__webpack_require__(46);var _searchedListView2=_interopRequireDefault(_searchedListView);__webpack_require__(48);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isShowFile:_propTypes2.default.bool,repoID:_propTypes2.default.string,onDirentItemClick:_propTypes2.default.func,onRepoItemClick:_propTypes2.default.func,mode:_propTypes2.default.oneOf(['current_repo_and_other_repos','only_all_repos','only_current_library'])};var FileChooser=function(_React$Component){_inherits(FileChooser,_React$Component);function FileChooser(props){_classCallCheck(this,FileChooser);var _this=_possibleConstructorReturn(this,(FileChooser.__proto__||Object.getPrototypeOf(FileChooser)).call(this,props));_this.onOtherRepoToggle=function(){if(!_this.state.hasRequest){var that=_this;_seafileApi.seafileAPI.listRepos().then(function(res){// todo optimized code\nvar repos=res.data.repos;var repoList=[];var repoIdList=[];for(var i=0;i<repos.length;i++){if(repos[i].permission!=='rw'){continue;}if(that.props.repoID&&repos[i].repo_name===that.state.currentRepoInfo.repo_name){continue;}if(repoIdList.indexOf(repos[i].repo_id)>-1){continue;}repoList.push(repos[i]);repoIdList.push(repos[i].repo_id);}repoList=_utils.Utils.sortRepos(repoList,'name','asc');_this.setState({repoList:repoList,isOtherRepoShow:!_this.state.isOtherRepoShow});});}else{_this.setState({isOtherRepoShow:!_this.state.isOtherRepoShow});}};_this.onCurrentRepoToggle=function(){return[_this.setState({isCurrentRepoShow:!_this.state.isCurrentRepoShow})];};_this.onDirentItemClick=function(repo,filePath,dirent){_this.props.onDirentItemClick(repo,filePath,dirent);_this.setState({selectedRepo:repo,selectedPath:filePath});};_this.onRepoItemClick=function(repo){if(_this.props.onRepoItemClick){_this.props.onRepoItemClick(repo);}_this.setState({selectedRepo:repo,selectedPath:''});};_this.onCloseSearching=function(){_this.setState({isSearching:false,isResultGot:false,searchInfo:'',searchResults:[]});_this.inputValue='';_this.timer=null;_this.source=null;};_this.onSearchInfoChanged=function(event){var searchInfo=event.target.value.trim();_this.setState({searchInfo:searchInfo});if(_this.inputValue===searchInfo){return false;}_this.inputValue=searchInfo;if(searchInfo.length===0){_this.setState({isSearching:false,searchResults:[]});return false;}if(!_this.state.searchResults.length&&searchInfo.length>0){_this.setState({isSearching:true,isResultGot:false});}if(_this.inputValue===''||_this.getValueLength(_this.inputValue)<3){_this.setState({isResultGot:false});return false;}var repoID=_this.props.repoID;var isShowFile=_this.props.isShowFile;var mode=_this.props.mode;var searchRepo=mode==='only_current_library'?repoID:'all';var queryData={q:searchInfo,search_repo:searchRepo,search_ftypes:'all',obj_type:isShowFile?'file':'dir'};if(_this.timer){clearTimeout(_this.timer);}_this.timer=setTimeout(_this.getSearchResult(queryData),500);};_this.getSearchResult=function(queryData){if(_this.source){_this.cancelRequest();}_this.setState({isResultGot:false});_this.source=_seafileApi.seafileAPI.getSource();_this.sendRequest(queryData,_this.source.token);};_this.sendRequest=function(queryData,cancelToken){_seafileApi.seafileAPI.searchFiles(queryData,cancelToken).then(function(res){if(!res.data.total){_this.setState({searchResults:[],isResultGot:true});_this.source=null;return;}var items=_this.formatResultItems(res.data.results);_this.setState({searchResults:items,isResultGot:true});_this.source=null;}).catch(function(res){/* eslint-disable */console.log(res);/* eslint-enable */});};_this.cancelRequest=function(){_this.source.cancel('prev request is cancelled');};_this.getValueLength=function(str){var i=0,code,len=0;for(;i<str.length;i++){code=str.charCodeAt(i);if(code==10){//solve enter problem\nlen+=2;}else if(code<0x007f){len+=1;}else if(code>=0x0080&&code<=0x07ff){len+=2;}else if(code>=0x0800&&code<=0xffff){len+=3;}}return len;};_this.formatResultItems=function(data){var items=[];var length=data.length>10?10:data.length;for(var i=0;i<length;i++){items[i]={};items[i]['index']=[i];items[i]['name']=data[i].name;items[i]['path']=data[i].fullpath;items[i]['repo_id']=data[i].repo_id;items[i]['repo_name']=data[i].repo_name;items[i]['is_dir']=data[i].is_dir;items[i]['link_content']=decodeURI(data[i].fullpath).substring(1);items[i]['content']=data[i].content_highlight;}return items;};_this.onSearchedItemClick=function(item){item['type']=item.is_dir?'dir':'file';var repo=new _repoInfo2.default(item);_this.props.onDirentItemClick(repo,item.path,item);};_this.renderSearchedView=function(){if(_this.getValueLength(_this.inputValue)<3){return'';}if(!_this.state.isResultGot){return _react2.default.createElement(_loading2.default,null);}if(_this.state.isResultGot&&_this.state.searchResults.length===0){return _react2.default.createElement('div',{className:'search-result-none text-center'},(0,_constants.gettext)('No results matching.'));}if(_this.state.isResultGot&&_this.state.searchResults.length>0){return _react2.default.createElement(_searchedListView2.default,{searchResults:_this.state.searchResults,onItemClick:_this.onSearchedItemClick});}};_this.renderRepoListView=function(){return _react2.default.createElement('div',{className:'file-chooser-container'},_this.props.mode==='current_repo_and_other_repos'&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'list-view'},_react2.default.createElement('div',{className:'list-view-header'},_react2.default.createElement('span',{className:'item-toggle fa '+(_this.state.isCurrentRepoShow?'fa-caret-down':'fa-caret-right'),onClick:_this.onCurrentRepoToggle}),_react2.default.createElement('span',{className:'library'},(0,_constants.gettext)('Current Library'))),_this.state.isCurrentRepoShow&&_this.state.currentRepoInfo&&_react2.default.createElement(_repoListView2.default,{initToShowChildren:true,currentRepoInfo:_this.state.currentRepoInfo,selectedRepo:_this.state.selectedRepo,selectedPath:_this.state.selectedPath,onRepoItemClick:_this.onRepoItemClick,onDirentItemClick:_this.onDirentItemClick,isShowFile:_this.props.isShowFile})),_react2.default.createElement('div',{className:'list-view'},_react2.default.createElement('div',{className:'list-view-header'},_react2.default.createElement('span',{className:'item-toggle fa '+(_this.state.isOtherRepoShow?'fa-caret-down':'fa-caret-right'),onClick:_this.onOtherRepoToggle}),_react2.default.createElement('span',{className:'library'},(0,_constants.gettext)('Other Libraries'))),_this.state.isOtherRepoShow&&_react2.default.createElement(_repoListView2.default,{initToShowChildren:false,repoList:_this.state.repoList,selectedRepo:_this.state.selectedRepo,selectedPath:_this.state.selectedPath,onRepoItemClick:_this.onRepoItemClick,onDirentItemClick:_this.onDirentItemClick,isShowFile:_this.props.isShowFile}))),_this.props.mode==='only_current_library'&&_react2.default.createElement('div',{className:'list-view'},_react2.default.createElement('div',{className:'list-view-header'},_react2.default.createElement('span',{className:'item-toggle fa '+(_this.state.isCurrentRepoShow?'fa-caret-down':'fa-caret-right'),onClick:_this.onCurrentRepoToggle}),_react2.default.createElement('span',{className:'library'},(0,_constants.gettext)('Current Library'))),_this.state.isCurrentRepoShow&&_this.state.currentRepoInfo&&_react2.default.createElement(_repoListView2.default,{initToShowChildren:true,currentRepoInfo:_this.state.currentRepoInfo,selectedRepo:_this.state.selectedRepo,selectedPath:_this.state.selectedPath,onRepoItemClick:_this.onRepoItemClick,onDirentItemClick:_this.onDirentItemClick,isShowFile:_this.props.isShowFile})),_this.props.mode==='only_all_repos'&&_react2.default.createElement('div',{className:'file-chooser-container'},_react2.default.createElement('div',{className:'list-view'},_react2.default.createElement('div',{className:'list-view-header'},_react2.default.createElement('span',{className:'item-toggle fa fa-caret-down'}),_react2.default.createElement('span',{className:'library'},(0,_constants.gettext)('Libraries'))),_react2.default.createElement(_repoListView2.default,{initToShowChildren:false,repoList:_this.state.repoList,selectedRepo:_this.state.selectedRepo,selectedPath:_this.state.selectedPath,onRepoItemClick:_this.onRepoItemClick,onDirentItemClick:_this.onDirentItemClick,isShowFile:_this.props.isShowFile}))));};_this.state={hasRequest:false,isCurrentRepoShow:true,isOtherRepoShow:false,repoList:[],currentRepoInfo:null,selectedRepo:null,selectedPath:'',isSearching:false,isResultGot:false,searchInfo:'',searchResults:[]};_this.inputValue='';_this.timer=null;_this.source=null;return _this;}_createClass(FileChooser,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;if(this.props.repoID){// current_repo_and_other_repos, only_current_library\nvar repoID=this.props.repoID;_seafileApi.seafileAPI.getRepoInfo(repoID).then(function(res){// need to optimized\nvar repoInfo=new _repoInfo2.default(res.data);_this2.setState({currentRepoInfo:repoInfo,selectedRepo:repoInfo});_this2.props.onRepoItemClick(repoInfo);});}else{// only_all_repos\n_seafileApi.seafileAPI.listRepos().then(function(res){var repos=res.data.repos;var repoList=[];var repoIdList=[];for(var i=0;i<repos.length;i++){if(repos[i].permission!=='rw'){continue;}if(repoIdList.indexOf(repos[i].repo_id)>-1){continue;}repoList.push(repos[i]);repoIdList.push(repos[i].repo_id);}repoList=_utils.Utils.sortRepos(repoList,'name','asc');_this2.setState({repoList:repoList});});}}},{key:'render',value:function render(){var _React$createElement;if(!this.state.selectedRepo&&this.props.repoID){return'';}return _react2.default.createElement(_react.Fragment,null,_constants.isPro&&_react2.default.createElement('div',{className:'file-chooser-search-input'},_react2.default.createElement(_reactstrap.Input,(_React$createElement={className:'search-input',placeholder:(0,_constants.gettext)('Search...')},_defineProperty(_React$createElement,'className','mb-2'),_defineProperty(_React$createElement,'type','text'),_defineProperty(_React$createElement,'value',this.state.searchInfo),_defineProperty(_React$createElement,'onChange',this.onSearchInfoChanged),_React$createElement)),this.state.searchInfo.length!==0&&_react2.default.createElement('span',{className:'search-control attr-action-icon fas fa-times',onClick:this.onCloseSearching})),this.state.isSearching&&_react2.default.createElement('div',{className:'file-chooser-search-container'},this.renderSearchedView()),!this.state.isSearching&&this.renderRepoListView());}}]);return FileChooser;}(_react2.default.Component);FileChooser.propTypes=propTypes;exports.default=FileChooser;\n\n/***/ }),\n\n/***/ 300:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _uploadListItem=__webpack_require__(301);var _uploadListItem2=_interopRequireDefault(_uploadListItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={uploadBitrate:_propTypes2.default.string.isRequired,totalProgress:_propTypes2.default.number.isRequired,uploadFileList:_propTypes2.default.array.isRequired,onCloseUploadDialog:_propTypes2.default.func.isRequired,onCancelAllUploading:_propTypes2.default.func.isRequired,onUploadCancel:_propTypes2.default.func.isRequired,allFilesUploaded:_propTypes2.default.bool.isRequired};var UploadProgressDialog=function(_React$Component){_inherits(UploadProgressDialog,_React$Component);function UploadProgressDialog(props){_classCallCheck(this,UploadProgressDialog);var _this=_possibleConstructorReturn(this,(UploadProgressDialog.__proto__||Object.getPrototypeOf(UploadProgressDialog)).call(this,props));_this.onCancelAllUploading=function(){_this.props.onCancelAllUploading();};_this.onMinimizeUpload=function(e){e.nativeEvent.stopImmediatePropagation();_this.setState({isMinimized:!_this.state.isMinimized});};_this.onCloseUpload=function(e){e.nativeEvent.stopImmediatePropagation();_this.props.onCloseUploadDialog();};_this.state={isMinimized:false};return _this;}_createClass(UploadProgressDialog,[{key:'render',value:function render(){var _this2=this;var uploadedMessage=(0,_constants.gettext)('File Upload');var uploadingMessage=(0,_constants.gettext)('File Uploading...')+' '+this.props.totalProgress+'%'+' ('+this.props.uploadBitrate+')';var uploadingOptions=_react2.default.createElement('span',{className:'sf2-icon-minus',onClick:this.onMinimizeUpload});var uploadedOptions=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('span',{className:'sf2-icon-minus',onClick:this.onMinimizeUpload}),_react2.default.createElement('span',{className:'sf2-icon-x1',onClick:this.onCloseUpload}));var _props=this.props,totalProgress=_props.totalProgress,allFilesUploaded=_props.allFilesUploaded;return _react2.default.createElement('div',{className:'uploader-list-view',style:{height:this.state.isMinimized?'2.25rem':'20rem'}},_react2.default.createElement('div',{className:'uploader-list-header'},_react2.default.createElement('div',{className:'title'},totalProgress===100?uploadedMessage:uploadingMessage),_react2.default.createElement('div',{className:'uploader-options'},totalProgress===100||allFilesUploaded?uploadedOptions:uploadingOptions)),_react2.default.createElement('div',{className:'uploader-list-content'},_react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'45%'},(0,_constants.gettext)('name')),_react2.default.createElement('th',{width:'40%'},(0,_constants.gettext)('progress')),_react2.default.createElement('th',{width:'15%'},(0,_constants.gettext)('state')))),_react2.default.createElement('tbody',null,!allFilesUploaded&&_react2.default.createElement('tr',null,_react2.default.createElement('td',{className:'text-right',colSpan:3},_react2.default.createElement('span',{className:'cursor-pointer',onClick:this.onCancelAllUploading},(0,_constants.gettext)('Cancel All')))),this.props.uploadFileList.map(function(item,index){return _react2.default.createElement(_uploadListItem2.default,{key:index,item:item,onUploadCancel:_this2.props.onUploadCancel});})))));}}]);return UploadProgressDialog;}(_react2.default.Component);UploadProgressDialog.propTypes=propTypes;exports.default=UploadProgressDialog;\n\n/***/ }),\n\n/***/ 301:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={item:_propTypes2.default.object.isRequired,onUploadCancel:_propTypes2.default.func.isRequired};var UploadListItem=function(_React$Component){_inherits(UploadListItem,_React$Component);function UploadListItem(){var _ref;var _temp,_this,_ret;_classCallCheck(this,UploadListItem);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=UploadListItem.__proto__||Object.getPrototypeOf(UploadListItem)).call.apply(_ref,[this].concat(args))),_this),_this.onUploadCancel=function(e){e.preventDefault();_this.props.onUploadCancel(_this.props.item);},_this.formatFileSize=function(size){if(typeof size!=='number'){return'';}if(size>=1000*1000*1000){return(size/(1000*1000*1000)).toFixed(1)+' G';}if(size>=1000*1000){return(size/(1000*1000)).toFixed(1)+' M';}if(size>=1000){return(size/1000).toFixed(1)+' K';}return size.toFixed(1)+' B';},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(UploadListItem,[{key:'render',value:function render(){var item=this.props.item;var progress=Math.round(item.resumableFile.progress()*100);var error=item.resumableFile.error;return _react2.default.createElement('tr',{className:'file-upload-item'},_react2.default.createElement('td',{className:'upload-name'},_react2.default.createElement('div',{className:'ellipsis'},item.resumableFile.relativePath),_react2.default.createElement('div',{className:'message err-message ml-0'},error)),_react2.default.createElement('td',{className:'upload-progress'},_react2.default.createElement('span',{className:'file-size'},this.formatFileSize(item.resumableFile.size)),!item.resumableFile.error&&progress!==100&&_react2.default.createElement('div',{className:'progress'},_react2.default.createElement('div',{className:'progress-bar',role:'progressbar',style:{width:progress+'%'},'aria-valuenow':progress,'aria-valuemin':'0','aria-valuemax':'100'}))),_react2.default.createElement('td',{className:'upload-operation'},!item.resumableFile.error&&_react2.default.createElement(_react.Fragment,null,!item.isSaved&&progress!==100&&_react2.default.createElement('a',{href:'#',onClick:this.onUploadCancel},(0,_constants.gettext)('cancel')),!item.isSaved&&progress===100&&_react2.default.createElement('span',{className:'saving'},(0,_constants.gettext)('saving...')),item.isSaved&&_react2.default.createElement('span',{className:'uploaded'},(0,_constants.gettext)('uploaded')))));}}]);return UploadListItem;}(_react2.default.Component);UploadListItem.propTypes=propTypes;exports.default=UploadListItem;\n\n/***/ }),\n\n/***/ 302:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactstrap=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentResumableFile:_propTypes2.default.object.isRequired,replaceRepetitionFile:_propTypes2.default.func.isRequired,uploadFile:_propTypes2.default.func.isRequired,cancelFileUpload:_propTypes2.default.func.isRequired};var UploadRemindDialog=function(_React$Component){_inherits(UploadRemindDialog,_React$Component);function UploadRemindDialog(){var _ref;var _temp,_this,_ret;_classCallCheck(this,UploadRemindDialog);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=UploadRemindDialog.__proto__||Object.getPrototypeOf(UploadRemindDialog)).call.apply(_ref,[this].concat(args))),_this),_this.toggle=function(e){e.nativeEvent.stopImmediatePropagation();_this.props.cancelFileUpload();},_this.replaceRepetitionFile=function(e){e.nativeEvent.stopImmediatePropagation();_this.props.replaceRepetitionFile();},_this.uploadFile=function(e){e.nativeEvent.stopImmediatePropagation();_this.props.uploadFile();},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(UploadRemindDialog,[{key:'render',value:function render(){var title=(0,_constants.gettext)('Replace file {filename}?');title=title.replace('{filename}','<span class=\"a-simaulte\">'+this.props.currentResumableFile.fileName+'</span>');return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},_react2.default.createElement('div',{dangerouslySetInnerHTML:{__html:title}})),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('p',null,(0,_constants.gettext)('A file with the same name already exists in this folder.')),_react2.default.createElement('p',null,(0,_constants.gettext)('Replacing it will overwrite its content.'))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{outline:true,color:'primary',onClick:this.replaceRepetitionFile},(0,_constants.gettext)('Replace')),_react2.default.createElement(_reactstrap.Button,{outline:true,color:'info',onClick:this.uploadFile},(0,_constants.gettext)('Don\\'t replace')),_react2.default.createElement(_reactstrap.Button,{outline:true,color:'danger',onClick:this.toggle},(0,_constants.gettext)('Cancel'))));}}]);return UploadRemindDialog;}(_react2.default.Component);UploadRemindDialog.propTypes=propTypes;exports.default=UploadRemindDialog;\n\n/***/ }),\n\n/***/ 303:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 304:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _modalPortal=__webpack_require__(10);var _modalPortal2=_interopRequireDefault(_modalPortal);var _listTaggedfilesDialog=__webpack_require__(172);var _listTaggedfilesDialog2=_interopRequireDefault(_listTaggedfilesDialog);var _listRepoDraftsDialog=__webpack_require__(305);var _listRepoDraftsDialog2=_interopRequireDefault(_listRepoDraftsDialog);var _readmeDialog=__webpack_require__(307);var _readmeDialog2=_interopRequireDefault(_readmeDialog);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);__webpack_require__(308);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,currentPath:_propTypes2.default.string.isRequired,usedRepoTags:_propTypes2.default.array.isRequired,readmeMarkdown:_propTypes2.default.object,draftCounts:_propTypes2.default.number,updateUsedRepoTags:_propTypes2.default.func.isRequired};var RepoInfoBar=function(_React$Component){_inherits(RepoInfoBar,_React$Component);function RepoInfoBar(props){_classCallCheck(this,RepoInfoBar);var _this=_possibleConstructorReturn(this,(RepoInfoBar.__proto__||Object.getPrototypeOf(RepoInfoBar)).call(this,props));_this.onListTaggedFiles=function(currentTag){_this.setState({currentTag:currentTag,isListTaggedFileShow:!_this.state.isListTaggedFileShow});};_this.onCloseDialog=function(){_this.setState({isListTaggedFileShow:false});};_this.toggleDrafts=function(){_this.setState({showRepoDrafts:!_this.state.showRepoDrafts});};_this.toggleReadme=function(){_this.setState({showReadmeDialog:!_this.state.showReadmeDialog});};_this.state={currentTag:null,isListTaggedFileShow:false,showRepoDrafts:false,showReadmeDialog:false};return _this;}_createClass(RepoInfoBar,[{key:'render',value:function render(){var _this2=this;var _props=this.props,repoID=_props.repoID,currentPath=_props.currentPath,usedRepoTags=_props.usedRepoTags,readmeMarkdown=_props.readmeMarkdown;var href=readmeMarkdown!==null?_constants.siteRoot+'lib/'+repoID+'/file'+_utils.Utils.joinPath(currentPath,readmeMarkdown.name)+'?mode=edit':'';var filePath=readmeMarkdown!==null?currentPath+readmeMarkdown.name:'';return _react2.default.createElement('div',{className:'repo-info-bar'},usedRepoTags.length>0&&_react2.default.createElement('ul',{className:'used-tag-list'},usedRepoTags.map(function(usedRepoTag){return _react2.default.createElement('li',{key:usedRepoTag.id,className:'used-tag-item'},_react2.default.createElement('span',{className:'used-tag',style:{backgroundColor:usedRepoTag.color}}),_react2.default.createElement('span',{className:'used-tag-name',title:usedRepoTag.name},usedRepoTag.name),_react2.default.createElement('span',{className:'used-tag-files',onClick:_this2.onListTaggedFiles.bind(_this2,usedRepoTag)},usedRepoTag.fileCount>1?usedRepoTag.fileCount+' files':usedRepoTag.fileCount+' file'));})),_react2.default.createElement('div',{className:usedRepoTags.length>0&&readmeMarkdown?'file-info-list mt-1':'file-info-list'},readmeMarkdown!==null&&parseInt(readmeMarkdown.size)>1&&_react2.default.createElement('span',{className:'file-info',onClick:this.toggleReadme},_react2.default.createElement('span',{className:'info-icon sf2-icon-readme'}),_react2.default.createElement('span',{className:'used-tag-name'},readmeMarkdown.name)),readmeMarkdown!==null&&parseInt(readmeMarkdown.size)<2&&_react2.default.createElement('span',{className:'file-info'},_react2.default.createElement('span',{className:'info-icon sf2-icon-readme'}),_react2.default.createElement('a',{className:'used-tag-name',href:href,target:'_blank'},readmeMarkdown.name)),this.props.draftCounts>0&&_react2.default.createElement('span',{className:'file-info'},_react2.default.createElement('span',{className:'info-icon sf2-icon-drafts'}),_react2.default.createElement('span',{className:'used-tag-name'},(0,_constants.gettext)('draft')),_react2.default.createElement('span',{className:'used-tag-files',onClick:this.toggleDrafts},this.props.draftCounts>1?this.props.draftCounts+' files':this.props.draftCounts+' file'))),this.state.isListTaggedFileShow&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_listTaggedfilesDialog2.default,{repoID:repoID,currentTag:this.state.currentTag,onClose:this.onCloseDialog,toggleCancel:this.onListTaggedFiles,updateUsedRepoTags:this.props.updateUsedRepoTags})),this.state.showRepoDrafts&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_listRepoDraftsDialog2.default,{toggle:this.toggleDrafts,repoID:this.props.repoID})),this.state.showReadmeDialog&&_react2.default.createElement(_modalPortal2.default,null,_react2.default.createElement(_readmeDialog2.default,{toggleCancel:this.toggleReadme,repoID:repoID,filePath:filePath,href:href,fileName:readmeMarkdown.name})));}}]);return RepoInfoBar;}(_react2.default.Component);RepoInfoBar.propTypes=propTypes;exports.default=RepoInfoBar;\n\n/***/ }),\n\n/***/ 305:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _utils=__webpack_require__(4);var _draft=__webpack_require__(306);var _draft2=_interopRequireDefault(_draft);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,toggle:_propTypes2.default.func.isRequired};var ListRepoDraftsDialog=function(_React$Component){_inherits(ListRepoDraftsDialog,_React$Component);function ListRepoDraftsDialog(props){_classCallCheck(this,ListRepoDraftsDialog);var _this=_possibleConstructorReturn(this,(ListRepoDraftsDialog.__proto__||Object.getPrototypeOf(ListRepoDraftsDialog)).call(this,props));_this.toggle=function(){_this.props.toggle();};_this.state={drafts:[]};return _this;}_createClass(ListRepoDraftsDialog,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.listRepoDrafts(this.props.repoID).then(function(res){var drafts=res.data.drafts.map(function(item){var draft=new _draft2.default(item);return draft;});_this2.setState({drafts:drafts});});}},{key:'render',value:function render(){var drafts=this.state.drafts;return _react2.default.createElement(_reactstrap.Modal,{isOpen:true},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Drafts')),_react2.default.createElement(_reactstrap.ModalBody,{className:'dialog-list-container'},_react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'50%',className:'ellipsis'},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{width:'25%'},(0,_constants.gettext)('Owner')),_react2.default.createElement('th',{width:'25%'},(0,_constants.gettext)('Last Update')))),_react2.default.createElement('tbody',null,this.state.drafts.map(function(draft){var href=_constants.siteRoot+'drafts/'+draft.id+'/';return _react2.default.createElement('tr',{key:draft.id},_react2.default.createElement('td',{className:'name'},_react2.default.createElement('a',{href:href,target:'_blank'},_utils.Utils.getFileName(draft.draftFilePath))),_react2.default.createElement('td',null,draft.ownerNickname),_react2.default.createElement('td',null,(0,_moment2.default)(draft.createdStr).fromNow()));})))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Close'))));}}]);return ListRepoDraftsDialog;}(_react2.default.Component);ListRepoDraftsDialog.propTypes=propTypes;exports.default=ListRepoDraftsDialog;\n\n/***/ }),\n\n/***/ 306:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Draft=function Draft(item){_classCallCheck(this,Draft);this.created=item.created_at;this.createdStr=(0,_moment2.default)(new Date(item.created_at).getTime()).format('YYYY-MM-DD HH:mm');this.id=item.id;this.ownerNickname=item.owner_nickname;this.originRepoID=item.origin_repo_id;this.draftFilePath=item.draft_file_path;};exports.default=Draft;\n\n/***/ }),\n\n/***/ 307:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _markdownViewer=__webpack_require__(115);var _markdownViewer2=_interopRequireDefault(_markdownViewer);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,filePath:_propTypes2.default.string.isRequired,fileName:_propTypes2.default.string.isRequired,href:_propTypes2.default.string,toggleCancel:_propTypes2.default.func.isRequired};var ReadmeDialog=function(_React$Component){_inherits(ReadmeDialog,_React$Component);function ReadmeDialog(props){_classCallCheck(this,ReadmeDialog);var _this=_possibleConstructorReturn(this,(ReadmeDialog.__proto__||Object.getPrototypeOf(ReadmeDialog)).call(this,props));_this.state={readmeContent:null,isLoading:true};return _this;}_createClass(ReadmeDialog,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.getFileDownloadLink(this.props.repoID,this.props.filePath).then(function(res){_seafileApi.seafileAPI.getFileContent(res.data).then(function(res){_this2.setState({readmeContent:res.data,isLoading:false});});});}},{key:'render',value:function render(){return _react2.default.createElement(_reactstrap.Modal,{isOpen:true,toggle:this.props.toggleCancel,className:'readme-dialog',size:'lg'},_react2.default.createElement(_reactstrap.ModalHeader,null,this.props.fileName,_react2.default.createElement('a',{className:'readme-dialog-edit',href:this.props.href,target:'_blank'},_react2.default.createElement('i',{className:'fa fa-pencil-alt'}))),_react2.default.createElement(_reactstrap.ModalBody,null,this.state.isLoading?_react2.default.createElement(_loading2.default,null):_react2.default.createElement(_markdownViewer2.default,{markdownContent:this.state.readmeContent,showTOC:false})),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.props.toggleCancel},(0,_constants.gettext)('Close'))));}}]);return ReadmeDialog;}(_react2.default.Component);ReadmeDialog.propTypes=propTypes;exports.default=ReadmeDialog;\n\n/***/ }),\n\n/***/ 308:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 309:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);__webpack_require__(310);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string.isRequired,onLibDecryptDialog:_propTypes2.default.func.isRequired};var LibDecryptDialog=function(_React$Component){_inherits(LibDecryptDialog,_React$Component);function LibDecryptDialog(props){_classCallCheck(this,LibDecryptDialog);var _this=_possibleConstructorReturn(this,(LibDecryptDialog.__proto__||Object.getPrototypeOf(LibDecryptDialog)).call(this,props));_this.handleSubmit=function(e){var repoID=_this.props.repoID;var password=_this.state.password;_seafileApi.seafileAPI.setRepoDecryptPassword(repoID,password).then(function(res){_this.props.onLibDecryptDialog();}).catch(function(res){_this.setState({showError:true});});e.preventDefault();};_this.handleKeyPress=function(e){if(e.key=='Enter'){_this.handleSubmit(e);}};_this.handleChange=function(e){_this.setState({password:e.target.value,showError:false});};_this.toggle=function(){window.location.href=_constants.siteRoot;};_this.state={password:'',showError:false};return _this;}_createClass(LibDecryptDialog,[{key:'render',value:function render(){return _react2.default.createElement(_reactstrap.Modal,{isOpen:true},_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('button',{type:'button',className:'close',onClick:this.toggle},_react2.default.createElement('span',{'aria-hidden':'true'},'\\xD7')),_react2.default.createElement(_reactstrap.Form,{className:'lib-decrypt-form text-center'},_react2.default.createElement('img',{src:_constants.mediaUrl+'img/lock.png',alt:'','aria-hidden':'true'}),_react2.default.createElement('p',{className:'intro'},(0,_constants.gettext)('This library is password protected')),this.state.showError&&_react2.default.createElement('p',{className:'error'},(0,_constants.gettext)('Wrong password')),_react2.default.createElement('input',{type:'password',name:'password',className:'form-control password-input',autoComplete:'off',onKeyPress:this.handleKeyPress,placeholder:(0,_constants.gettext)('Password'),onChange:this.handleChange}),_react2.default.createElement('button',{type:'submit',className:'btn btn-primary submit',onClick:this.handleSubmit},(0,_constants.gettext)('Submit')),_react2.default.createElement('p',{className:'tip'},'* ',(0,_constants.gettext)('The password will be kept in the server for only 1 hour.')))));}}]);return LibDecryptDialog;}(_react2.default.Component);LibDecryptDialog.propTypes=propTypes;exports.default=LibDecryptDialog;\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _utils=__webpack_require__(4);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var RepoInfo=function RepoInfo(object){_classCallCheck(this,RepoInfo);this.repo_id=object.repo_id;this.repo_name=object.repo_name;this.permission=object.permission;this.size=_utils.Utils.bytesToSize(object.size);this.file_count=object.file_count;this.owner_name=object.owner_name;this.owner_email=object.owner_email;this.owner_contact_email=object.owner_contact_email;// is repo shared admin; \n// is repo shared admin && is one of current ordinary group's admins; \n// is one of current group owned group's admins;\nthis.is_admin=object.is_admin;this.is_virtual=object.is_virtual;this.no_quota=object.no_quota;this.has_been_shared_out=object.has_been_shared_out;this.encrypted=object.encrypted;this.lib_need_decrypt=object.lib_need_decrypt;};exports.default=RepoInfo;\n\n/***/ }),\n\n/***/ 310:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactSelect=__webpack_require__(37);var _reactSelect2=_interopRequireDefault(_reactSelect);__webpack_require__(38);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isTextMode:_propTypes2.default.bool.isRequired,// there will be two mode. first: text and select. second: just select\nisEditIconShow:_propTypes2.default.bool.isRequired,options:_propTypes2.default.array.isRequired,currentOption:_propTypes2.default.string.isRequired,translateOption:_propTypes2.default.func.isRequired,translateExplanation:_propTypes2.default.func,onOptionChanged:_propTypes2.default.func.isRequired,toggleItemFreezed:_propTypes2.default.func};var SelectEditor=function(_React$Component){_inherits(SelectEditor,_React$Component);function SelectEditor(props){_classCallCheck(this,SelectEditor);var _this=_possibleConstructorReturn(this,(SelectEditor.__proto__||Object.getPrototypeOf(SelectEditor)).call(this,props));_this.setOptions=function(){_this.options=[];var options=_this.props.options;for(var i=0,length=options.length;i<length;i++){var option={};option.value=options[i];option.label=_react2.default.createElement('div',null,_this.props.translateOption(options[i]),_this.props.translateExplanation&&_react2.default.createElement('div',{className:'permission-editor-explanation'},_this.props.translateExplanation(options[i])));_this.options.push(option);}};_this.onEditPermission=function(e){e.nativeEvent.stopImmediatePropagation();_this.setState({isEditing:true});_this.props.toggleItemFreezed&&_this.props.toggleItemFreezed(true);};_this.onOptionChanged=function(e){var permission=e.value;if(permission!==_this.props.currentOption){_this.props.onOptionChanged(permission);}_this.setState({isEditing:false});_this.props.toggleItemFreezed&&_this.props.toggleItemFreezed(false);};_this.onSelectHandler=function(e){e.nativeEvent.stopImmediatePropagation();};_this.onHideSelect=function(){_this.setState({isEditing:false});_this.props.toggleItemFreezed&&_this.props.toggleItemFreezed(false);};_this.state={isEditing:false};_this.options=[];return _this;}_createClass(SelectEditor,[{key:'componentDidMount',value:function componentDidMount(){document.addEventListener('click',this.onHideSelect);this.setOptions();}},{key:'componentWillUnmount',value:function componentWillUnmount(){document.removeEventListener('click',this.onHideSelect);}},{key:'render',value:function render(){var _props=this.props,currentOption=_props.currentOption,isTextMode=_props.isTextMode;// scence1: isTextMode (text)editor-icon --> select\n// scence2: !isTextMode select\nreturn _react2.default.createElement('div',{className:'permission-editor',onClick:this.onSelectHandler},(!isTextMode||this.state.isEditing)&&_react2.default.createElement(_reactSelect2.default,{options:this.options,className:'permission-editor-select',classNamePrefix:'permission-editor',placeholder:this.props.translateOption(currentOption),onChange:this.onOptionChanged,captureMenuScroll:false}),isTextMode&&!this.state.isEditing&&_react2.default.createElement('div',null,this.props.translateOption(currentOption),this.props.isEditIconShow&&_react2.default.createElement('span',{title:(0,_constants.gettext)('Edit'),className:'fa fa-pencil-alt attr-action-icon',onClick:this.onEditPermission})));}}]);return SelectEditor;}(_react2.default.Component);SelectEditor.propTypes=propTypes;exports.default=SelectEditor;\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});exports.Utils=undefined;var _constants=__webpack_require__(2);var _pinyinByUnicode=__webpack_require__(13);var Utils=exports.Utils={keyCodes:{esc:27,space:32,tab:9,up:38,down:40},bytesToSize:function bytesToSize(bytes){if(typeof bytes=='undefined')return' ';if(bytes<0)return'--';var sizes=['bytes','KB','MB','GB','TB','PB'];if(bytes===0)return bytes+' '+sizes[0];var i=parseInt(Math.floor(Math.log(bytes)/Math.log(1000)),10);if(i===0)return bytes+' '+sizes[i];return(bytes/Math.pow(1000,i)).toFixed(1)+' '+sizes[i];},isHiDPI:function isHiDPI(){var pixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;if(pixelRatio>1){return true;}else{return false;}},FILEEXT_ICON_MAP:{// text file\n'md':'txt.png','txt':'txt.png',// pdf file\n'pdf':'pdf.png',// document file\n'doc':'word.png','docx':'word.png','odt':'word.png','fodt':'word.png','ppt':'ppt.png','pptx':'ppt.png','odp':'ppt.png','fodp':'ppt.png','xls':'excel.png','xlsx':'excel.png','ods':'excel.png','fods':'excel.png',// video\n'mp4':'video.png','ogv':'video.png','webm':'video.png','mov':'video.png','flv':'video.png','wmv':'video.png','rmvb':'video.png',// music file\n'mp3':'music.png','oga':'music.png','ogg':'music.png','flac':'music.png','aac':'music.png','ac3':'music.png','wma':'music.png',// image file\n'jpg':'pic.png','jpeg':'pic.png','png':'pic.png','svg':'pic.png','gif':'pic.png','bmp':'pic.png','ico':'pic.png',// default\n'default':'file.png'},// check if a file is an image\nimageCheck:function imageCheck(filename){// no file ext\nif(filename.lastIndexOf('.')==-1){return false;}var file_ext=filename.substr(filename.lastIndexOf('.')+1).toLowerCase();var image_exts=['gif','jpeg','jpg','png','ico','bmp'];if(image_exts.indexOf(file_ext)!=-1){return true;}else{return false;}},// check if a file is a video\nvideoCheck:function videoCheck(filename){// no file ext\nif(filename.lastIndexOf('.')==-1){return false;}var file_ext=filename.substr(filename.lastIndexOf('.')+1).toLowerCase();var exts=['mp4','ogv','webm','mov'];if(exts.indexOf(file_ext)!=-1){return true;}else{return false;}},encodePath:function encodePath(path){// IE8 does not support 'map()'\n/*\n       return path.split('/').map(function(e) {\n       return encodeURIComponent(e);\n       }).join('/');\n       */if(!path){return'';}var path_arr=path.split('/');var path_arr_=[];for(var i=0,len=path_arr.length;i<len;i++){path_arr_.push(encodeURIComponent(path_arr[i]));}return path_arr_.join('/');},HTMLescape:function HTMLescape(html){return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;},generateDialogTitle:function generateDialogTitle(title,operationTarget){/*\n     * @param title: gettext('...{placeholder}...')\n     */var targetStr=this.HTMLescape(operationTarget);var str='<span class=\"op-target ellipsis ellipsis-op-target\" title='+targetStr+'>'+targetStr+'</span>';return title.replace('{placeholder}',str);},getFileName:function getFileName(filePath){var lastIndex=filePath.lastIndexOf('/');return filePath.slice(lastIndex+1);},/**\n   * input: '/abc/bc/cb'\n   * output: ['/abc', '/abc/bc', '/abc/bc/cb'];\n   */getPaths:function getPaths(path){var paths=path.split('/').slice(1);var result=[];while(paths.length){result.push('/'+paths.join('/'));paths.pop();}return result.reverse();},/**\n   * input: \n   *  eg: /\n   *      ../abc/abc/\n   *      ../abc/bc\n   * output(return):\n   *  eg: /\n   *      abc\n   *      bc\n   */getFolderName:function getFolderName(path){if(path==='/'){return path;}path=path[path.length-1]!=='/'?path:path.slice(0,path.length-2);return path.slice(path.lastIndexOf('/')+1);},/*\n    return dirname of a path.\n    if path is '/', return '/'.\n  */getDirName:function getDirName(path){var dir=path.slice(0,path.lastIndexOf('/'));if(dir===''){return'/';}else{return dir;}},isChildPath:function isChildPath(child,parent){var p=this.getDirName(child);return p===parent;},isAncestorPath:function isAncestorPath(ancestor,path){return path.indexOf(ancestor)>-1;},renameAncestorPath:function renameAncestorPath(path,ancestor,newAncestor){return path.replace(ancestor,newAncestor);},joinPath:function joinPath(pathA,pathB){if(pathA[pathA.length-1]==='/'){return pathA+pathB;}else{return pathA+'/'+pathB;}},isSupportUploadFolder:function isSupportUploadFolder(){return navigator.userAgent.indexOf('Firefox')!=-1||navigator.userAgent.indexOf('Chrome')>-1;},getDefaultLibIconUrl:function getDefaultLibIconUrl(isBig){var size=Utils.isHiDPI()?48:24;size=isBig?256:size;var icon_name='lib.png';return _constants.mediaUrl+'img/lib/'+size+'/'+icon_name;},getLibIconUrl:function getLibIconUrl(repo,isBig){var permission=repo.permission||repo.share_permission;//Compatible with regular repo and repo shared\nvar size=Utils.isHiDPI()?48:24;size=isBig?256:size;var icon_name='lib.png';if(repo.encrypted){icon_name='lib-encrypted.png';}if(permission==='r'||permission==='perview'){icon_name='lib-readonly.png';}return _constants.mediaUrl+'img/lib/'+size+'/'+icon_name;},getDirentIcon:function getDirentIcon(dirent,isBig){var size=this.isHiDPI()?48:24;size=isBig?192:size;if(dirent.isDir()){var readonly=false;if(dirent.permission&&(dirent.permission==='r'||dirent.permission==='preview')){readonly=true;}return this.getFolderIconUrl(readonly,size);}else{return this.getFileIconUrl(dirent.name,size);}},getFolderIconUrl:function getFolderIconUrl(){var readonly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var size=arguments[1];if(!size){size=Utils.isHiDPI()?48:24;}size=size>24?192:24;return _constants.mediaUrl+'img/folder'+(readonly?'-read-only-':'-')+size+'.png';},getFileIconUrl:function getFileIconUrl(filename,size){if(!size){size=Utils.isHiDPI()?48:24;}size=size>24?192:24;var file_ext='';if(filename.lastIndexOf('.')==-1){return _constants.mediaUrl+'img/file/'+size+'/'+this.FILEEXT_ICON_MAP['default'];}else{file_ext=filename.substr(filename.lastIndexOf('.')+1).toLowerCase();}if(this.FILEEXT_ICON_MAP[file_ext]){return _constants.mediaUrl+'img/file/'+size+'/'+this.FILEEXT_ICON_MAP[file_ext];}else{return _constants.mediaUrl+'img/file/'+size+'/'+this.FILEEXT_ICON_MAP['default'];}},getLibIconTitle:function getLibIconTitle(repo){var title;var permission=repo.permission||repo.share_permission;//Compatible with regular repo and repo shared\nif(repo.encrypted){title=(0,_constants.gettext)('Encrypted library');}else if(repo.is_admin){// shared with 'admin' permission\ntitle=(0,_constants.gettext)('Admin access');}else{switch(permission){case'rw':title=(0,_constants.gettext)('Read-Write library');break;case'r':title=(0,_constants.gettext)('Read-Only library');break;case'cloud-edit':title=(0,_constants.gettext)('Preview-Edit-on-Cloud library');break;case'preview':title=(0,_constants.gettext)('Preview-on-Cloud library');break;}}return title;},getFolderIconTitle:function getFolderIconTitle(options){var title;switch(options.permission){case'rw':title=(0,_constants.gettext)('Read-Write folder');break;case'r':title=(0,_constants.gettext)('Read-Only folder');break;case'cloud-edit':title=(0,_constants.gettext)('Preview-Edit-on-Cloud folder');break;case'preview':title=(0,_constants.gettext)('Preview-on-Cloud folder');break;}return title;},sharePerms:function sharePerms(permission){var title;switch(permission){case'rw':title=(0,_constants.gettext)('Read-Write');break;case'r':title=(0,_constants.gettext)('Read-Only');break;case'admin':title=(0,_constants.gettext)('Admin');break;case'cloud-edit':title=(0,_constants.gettext)('Preview-Edit-on-Cloud');break;case'preview':title=(0,_constants.gettext)('Preview-on-Cloud');break;}return title;},sharePermsExplanation:function sharePermsExplanation(permission){var title;switch(permission){case'rw':title=(0,_constants.gettext)('User can read, write, upload, download and sync files.');break;case'r':title=(0,_constants.gettext)('User can read, download and sync files.');break;case'admin':title=(0,_constants.gettext)('Besides Write permission, user can also share the library.');break;case'cloud-edit':title=(0,_constants.gettext)('Same as Preview on cloud. But user can also edit files online via browser.');break;case'preview':title=(0,_constants.gettext)('User can only view files online via browser. Files can\\'t be downloaded.');break;}return title;},formatSize:function formatSize(options){/*\n     * param: {bytes, precision}\n     */var bytes=options.bytes;var precision=options.precision||0;var kilobyte=1000;var megabyte=kilobyte*1000;var gigabyte=megabyte*1000;var terabyte=gigabyte*1000;if(bytes>=0&&bytes<kilobyte){return bytes+' B';}else if(bytes>=kilobyte&&bytes<megabyte){return(bytes/kilobyte).toFixed(precision)+' KB';}else if(bytes>=megabyte&&bytes<gigabyte){return(bytes/megabyte).toFixed(precision)+' MB';}else if(bytes>=gigabyte&&bytes<terabyte){return(bytes/gigabyte).toFixed(precision)+' GB';}else if(bytes>=terabyte){return(bytes/terabyte).toFixed(precision)+' TB';}else{return bytes+' B';}},formatBitRate:function formatBitRate(bits){var Bs;if(typeof bits!=='number'){return'';}Bs=bits/8;if(Bs>=1000000000){return(Bs/1000000000).toFixed(2)+' GB/s';}if(Bs>=1000000){return(Bs/1000000).toFixed(2)+' MB/s';}if(Bs>=1000){return(Bs/1000).toFixed(2)+' kB/s';}return Bs.toFixed(2)+' B/s';},isMarkdownFile:function isMarkdownFile(filePath){var index=filePath.lastIndexOf('.');if(index===-1){return false;}else{var type=filePath.substring(index).toLowerCase();if(type==='.md'||type==='.markdown'){return true;}else{return false;}}},isInternalMarkdownLink:function isInternalMarkdownLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/lib/'+repoID+'.*\\.md$');return re.test(url);},isInternalDirLink:function isInternalDirLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/library/'+repoID+'.*');return re.test(url);},getPathFromInternalMarkdownLink:function getPathFromInternalMarkdownLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/lib/'+repoID+'/file'+'(.*\\.md)');var array=re.exec(url);var path=decodeURIComponent(array[1]);return path;},getPathFromInternalDirLink:function getPathFromInternalDirLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/library/'+repoID+'(/.*)');var array=re.exec(url);var path=decodeURIComponent(array[1]);path=path.slice(1);path=path.slice(path.indexOf('/'));return path;},isWikiInternalMarkdownLink:function isWikiInternalMarkdownLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'.*\\.md$');return re.test(url);},isWikiInternalDirLink:function isWikiInternalDirLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'.*');return re.test(url);},getPathFromWikiInternalMarkdownLink:function getPathFromWikiInternalMarkdownLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'(.*\\.md)');var array=re.exec(url);var path=array[1];try{path=decodeURIComponent(path);}catch(err){path=path.replace(/%/g,'%25');path=decodeURIComponent(path);}return path;},getPathFromWikiInternalDirLink:function getPathFromWikiInternalDirLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'(/.*)');var array=re.exec(url);var path=array[1];try{path=decodeURIComponent(path);}catch(err){path=path.replace(/%/g,'%25');path=decodeURIComponent(path);}return path;},compareTwoWord:function compareTwoWord(wordA,wordB){// compare wordA and wordB at lower case\n// if wordA >= wordB, return 1\n// if wordA < wordB, return -1\nvar a_val,b_val,a_uni=wordA.charCodeAt(0),b_uni=wordB.charCodeAt(0);if(19968<a_uni&&a_uni<40869&&19968<b_uni&&b_uni<40869){// both are chinese words\na_val=_pinyinByUnicode.strChineseFirstPY.charAt(a_uni-19968).toLowerCase();b_val=_pinyinByUnicode.strChineseFirstPY.charAt(b_uni-19968).toLowerCase();}else if(19968<a_uni&&a_uni<40869&&!(19968<b_uni&&b_uni<40869)){// a is chinese and b is english\nreturn 1;}else if(!(19968<a_uni&&a_uni<40869)&&19968<b_uni&&b_uni<40869){// a is english and b is chinese\nreturn-1;}else{// both are english words\na_val=wordA.toLowerCase();b_val=wordB.toLowerCase();return this.compareStrWithNumbersIn(a_val,b_val);}return a_val>=b_val?1:-1;},// compare two strings which may have digits in them\n// and compare those digits as number instead of string\ncompareStrWithNumbersIn:function compareStrWithNumbersIn(a,b){var reParts=/\\d+|\\D+/g;var reDigit=/\\d/;var aParts=a.match(reParts);var bParts=b.match(reParts);var isDigitPart;var len=Math.min(aParts.length,bParts.length);var aPart,bPart;if(aParts&&bParts&&(isDigitPart=reDigit.test(aParts[0]))==reDigit.test(bParts[0])){// Loop through each substring part to compare the overall strings.\nfor(var i=0;i<len;i++){aPart=aParts[i];bPart=bParts[i];if(isDigitPart){aPart=parseInt(aPart,10);bPart=parseInt(bPart,10);}if(aPart!=bPart){return aPart<bPart?-1:1;}// Toggle the value of isDigitPart since the parts will alternate.\nisDigitPart=!isDigitPart;}}// Use normal comparison.\nreturn(a>=b)-(a<=b);},sortRepos:function sortRepos(repos,sortBy,sortOrder){var _this=this;var comparator=void 0;switch(sortBy+'-'+sortOrder){case'name-asc':comparator=function comparator(a,b){if(!a.repo_name){return 1;}if(!b.repo_name){return-1;}var result=_this.compareTwoWord(a.repo_name,b.repo_name);return result;};break;case'name-desc':comparator=function comparator(a,b){if(!a.repo_name){return-1;}if(!b.repo_name){return 1;}var result=_this.compareTwoWord(a.repo_name,b.repo_name);return-result;};break;case'time-asc':comparator=function comparator(a,b){return a.last_modified<b.last_modified?-1:1;};break;case'time-desc':comparator=function comparator(a,b){return a.last_modified<b.last_modified?1:-1;};break;}repos.sort(comparator);return repos;},sortDirents:function sortDirents(items,sortBy,sortOrder){var _this=this;var comparator=void 0;switch(sortBy+'-'+sortOrder){case'name-asc':comparator=function comparator(a,b){var result=_this.compareTwoWord(a.name,b.name);return result;};break;case'name-desc':comparator=function comparator(a,b){var result=_this.compareTwoWord(a.name,b.name);return-result;};break;case'time-asc':comparator=function comparator(a,b){return a.mtime<b.mtime?-1:1;};break;case'time-desc':comparator=function comparator(a,b){return a.mtime<b.mtime?1:-1;};break;}items.sort(function(a,b){if(a.type=='dir'&&b.type=='file'){return-1;}else if(a.type=='file'&&b.type=='dir'){return 1;}else{return comparator(a,b);}});return items;},changeMarkdownNodes:function changeMarkdownNodes(nodes,fn){nodes.map(function(item){fn(item);if(item.nodes&&item.nodes.length>0){Utils.changeMarkdownNodes(item.nodes,fn);}});return nodes;},chooseLanguage:function chooseLanguage(suffix){var mode=void 0;switch(suffix){case'py':mode='python';break;case'js':mode='javascript';break;case'c':mode='text/x-csrc';break;case'cpp':mode='text/x-c++src';break;case'java':mode='text/x-java';break;case'cs':mode='text/x-csharp';break;case'mdf':mode='text/x-sql';break;case'html':mode='htmlmixed';break;default:mode=suffix;}return mode;},DARK_COLOR_MAP:{// old color\n'red':'#D11507','orange':'#FF8C00','yellow':'#EDEF00','green':'#006400','cyan':'#00E0E1','blue':'#2510A3','indigo':'#350C56','purple':'#551054','pink':'#E3A5B0','azure':'#C4D0D0','lime':'#00E100','teal':'#006A6B','gray':'#545454',// new color\n'#FFA8A8':'#E49090','#FFA94D':'#E39136','#FFD43B':'#E0B815','#A0EC50':'#83CF32','#A9E34B':'#8DC72E','#63E6BE':'#43CAA4','#4FD2C9':'#2DB9B0','#72C3FC':'#57ABE3','#91A7FF':'#7A91E7','#E599F7':'#CC82DE','#B197FC':'#9B82E5','#F783AC':'#DF6D97','#CED4DA':'#A8ADB2'},getDarkColor:function getDarkColor(color){var darkColor=void 0;darkColor=this.DARK_COLOR_MAP[color];return darkColor;}};\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var SharedLinkInfo=function SharedLinkInfo(object){_classCallCheck(this,SharedLinkInfo);this.repo_id=object.repo_id;this.repo_name=object.repo_name;this.path=object.path;this.obj_name=object.obj_name;this.is_dir=object.is_dir;this.permissions=object.permissions;this.username=object.username;this.is_expired=object.is_expired;this.expire_date=object.expire_date;this.token=object.token;this.link=object.link;this.view_cnt=object.view_cnt;this.ctime=object.ctime;};exports.default=SharedLinkInfo;\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var SharedUploadInfo=function SharedUploadInfo(object){_classCallCheck(this,SharedUploadInfo);this.repo_id=object.repo_id;this.repo_name=object.repo_name;this.path=object.path;this.link=object.link;this.obj_name=object.obj_name;this.username=object.username;this.ctime=object.ctime;this.token=object.token;this.view_cnt=object.view_cnt;};exports.default=SharedUploadInfo;\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _repoListItem=__webpack_require__(43);var _repoListItem2=_interopRequireDefault(_repoListItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentRepoInfo:_propTypes2.default.object,isShowFile:_propTypes2.default.bool,repo:_propTypes2.default.object,repoList:_propTypes2.default.array,selectedRepo:_propTypes2.default.object,initToShowChildren:_propTypes2.default.bool.isRequired,selectedPath:_propTypes2.default.string,onDirentItemClick:_propTypes2.default.func.isRequired,onRepoItemClick:_propTypes2.default.func.isRequired};var RepoListView=function(_React$Component){_inherits(RepoListView,_React$Component);function RepoListView(){_classCallCheck(this,RepoListView);return _possibleConstructorReturn(this,(RepoListView.__proto__||Object.getPrototypeOf(RepoListView)).apply(this,arguments));}_createClass(RepoListView,[{key:'render',value:function render(){var _this2=this;var _props=this.props,currentRepoInfo=_props.currentRepoInfo,repoList=_props.repoList;if(currentRepoInfo){repoList=[];repoList.push(currentRepoInfo);}return _react2.default.createElement('ul',{className:'list-view-content file-chooser-item'},repoList.length>0&&repoList.map(function(repoItem,index){return _react2.default.createElement(_repoListItem2.default,{key:index,repo:repoItem,initToShowChildren:_this2.props.initToShowChildren,selectedRepo:_this2.props.selectedRepo,selectedPath:_this2.props.selectedPath,onRepoItemClick:_this2.props.onRepoItemClick,onDirentItemClick:_this2.props.onDirentItemClick,isShowFile:_this2.props.isShowFile});}));}}]);return RepoListView;}(_react2.default.Component);RepoListView.propTypes=propTypes;exports.default=RepoListView;\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _direntListView=__webpack_require__(44);var _direntListView2=_interopRequireDefault(_direntListView);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isShowFile:_propTypes2.default.bool,selectedPath:_propTypes2.default.string,selectedRepo:_propTypes2.default.object,repo:_propTypes2.default.object.isRequired,initToShowChildren:_propTypes2.default.bool.isRequired,onDirentItemClick:_propTypes2.default.func.isRequired,onRepoItemClick:_propTypes2.default.func.isRequired};var RepoListItem=function(_React$Component){_inherits(RepoListItem,_React$Component);function RepoListItem(props){_classCallCheck(this,RepoListItem);var _this=_possibleConstructorReturn(this,(RepoListItem.__proto__||Object.getPrototypeOf(RepoListItem)).call(this,props));_this.onToggleClick=function(){_this.setState({isShowChildren:!_this.state.isShowChildren});};_this.onDirentItemClick=function(filePath,dirent){var repo=_this.props.repo;_this.props.onDirentItemClick(repo,filePath,dirent);};_this.onRepoItemClick=function(){if(!_this.isCurrentRepo()){_this.props.onRepoItemClick(_this.props.repo);}else{_this.onToggleClick();}};_this.isCurrentRepo=function(){var _this$props=_this.props,selectedRepo=_this$props.selectedRepo,repo=_this$props.repo;return selectedRepo&&repo.repo_id===selectedRepo.repo_id;};_this.state={isShowChildren:_this.props.initToShowChildren};return _this;}_createClass(RepoListItem,[{key:'render',value:function render(){var repoActive=false;var isCurrentRepo=this.isCurrentRepo();if(isCurrentRepo&&!this.props.selectedPath){repoActive=true;}return _react2.default.createElement('li',{className:'file-chooser-item'},_react2.default.createElement('span',{className:'item-toggle fa '+(this.state.isShowChildren?'fa-caret-down':'fa-caret-right'),onClick:this.onToggleClick}),_react2.default.createElement('span',{className:'item-info '+(repoActive?'item-active':''),onClick:this.onRepoItemClick},_react2.default.createElement('span',{className:'icon far fa-folder'}),_react2.default.createElement('span',{className:'name user-select-none ellipsis'},this.props.repo.repo_name)),this.state.isShowChildren&&_react2.default.createElement(_direntListView2.default,{repo:this.props.repo,isShowChildren:this.state.isShowChildren,onDirentItemClick:this.onDirentItemClick,selectedRepo:this.props.selectedRepo,selectedPath:this.props.selectedPath,isShowFile:this.props.isShowFile}));}}]);return RepoListItem;}(_react2.default.Component);RepoListItem.propTypes=propTypes;exports.default=RepoListItem;\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _seafileApi=__webpack_require__(3);var _dirent2=__webpack_require__(14);var _dirent3=_interopRequireDefault(_dirent2);var _direntListItem=__webpack_require__(45);var _direntListItem2=_interopRequireDefault(_direntListItem);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isShowFile:_propTypes2.default.bool,selectedPath:_propTypes2.default.string,selectedRepo:_propTypes2.default.object,repo:_propTypes2.default.object.isRequired,isShowChildren:_propTypes2.default.bool.isRequired,onDirentItemClick:_propTypes2.default.func.isRequired};var DirentListView=function(_React$Component){_inherits(DirentListView,_React$Component);function DirentListView(props){_classCallCheck(this,DirentListView);var _this=_possibleConstructorReturn(this,(DirentListView.__proto__||Object.getPrototypeOf(DirentListView)).call(this,props));_this.state={direntList:[]};return _this;}_createClass(DirentListView,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;var repo=this.props.repo;_seafileApi.seafileAPI.listDir(repo.repo_id,'/').then(function(res){var direntList=[];res.data.dirent_list.forEach(function(item){if(_this2.props.isShowFile===true){var dirent=new _dirent3.default(item);direntList.push(dirent);}else{if(item.type==='dir'){var _dirent=new _dirent3.default(item);direntList.push(_dirent);}}});direntList=_utils.Utils.sortDirents(direntList,'name','asc');_this2.setState({direntList:direntList});});}},{key:'render',value:function render(){var _this3=this;var direntList=this.state.direntList;return _react2.default.createElement('ul',{className:'list-view-content '+(this.props.isShowChildren?'':'hide')},direntList.map(function(dirent,index){return _react2.default.createElement(_direntListItem2.default,{key:index,repo:_this3.props.repo,dirent:dirent,selectedRepo:_this3.props.selectedRepo,onDirentItemClick:_this3.props.onDirentItemClick,selectedPath:_this3.props.selectedPath,isShowFile:_this3.props.isShowFile});}));}}]);return DirentListView;}(_react2.default.Component);DirentListView.propTypes=propTypes;exports.default=DirentListView;\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _seafileApi=__webpack_require__(3);var _dirent2=__webpack_require__(14);var _dirent3=_interopRequireDefault(_dirent2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isShowFile:_propTypes2.default.bool,filePath:_propTypes2.default.string,selectedPath:_propTypes2.default.string,selectedRepo:_propTypes2.default.object,dirent:_propTypes2.default.object.isRequired,repo:_propTypes2.default.object.isRequired,onDirentItemClick:_propTypes2.default.func.isRequired};var DirentListItem=function(_React$Component){_inherits(DirentListItem,_React$Component);function DirentListItem(props){_classCallCheck(this,DirentListItem);var _this=_possibleConstructorReturn(this,(DirentListItem.__proto__||Object.getPrototypeOf(DirentListItem)).call(this,props));_this.onItemClick=function(e){e.stopPropagation();// need prevent event popup\nvar isCurrentRepo=_this.props.selectedRepo.repo_id===_this.props.repo.repo_id;if(isCurrentRepo){if(_this.props.selectedPath!==_this.state.filePath){_this.props.onDirentItemClick(_this.state.filePath,_this.props.dirent);}else{if(_this.props.dirent.type==='dir'){_this.onToggleClick(e);}}}else{_this.props.onDirentItemClick(_this.state.filePath,_this.props.dirent);}};_this.onToggleClick=function(e){e.stopPropagation();// need prevent event popup\nif(!_this.state.hasRequest){_seafileApi.seafileAPI.listDir(_this.props.repo.repo_id,_this.state.filePath).then(function(res){var direntList=[];res.data.dirent_list.forEach(function(item){if(_this.props.isShowFile===true){// show dir and file\nvar dirent=new _dirent3.default(item);direntList.push(dirent);}else{// just show dir\nif(item.type==='dir'){var _dirent=new _dirent3.default(item);direntList.push(_dirent);}}});direntList=_utils.Utils.sortDirents(direntList,'name','asc');_this.setState({hasRequest:true,direntList:direntList});if(res.data.length===0||direntList.length===0){_this.setState({hasChildren:false});}});}_this.setState({isShowChildren:!_this.state.isShowChildren});};_this.renderChildren=function(){return _react2.default.createElement('ul',{className:'list-view-content'},_this.state.direntList.map(function(dirent,index){return _react2.default.createElement(DirentListItem,{key:index,dirent:dirent,repo:_this.props.repo,filePath:_this.state.filePath,onItemClick:_this.onItemClick,selectedPath:_this.props.selectedPath,selectedRepo:_this.props.selectedRepo,onDirentItemClick:_this.props.onDirentItemClick,isShowFile:_this.props.isShowFile});}));};var filePath=_this.props.filePath?_this.props.filePath+'/'+_this.props.dirent.name:'/'+_this.props.dirent.name;_this.state={isShowChildren:false,hasRequest:false,hasChildren:true,filePath:filePath,direntList:[]};return _this;}_createClass(DirentListItem,[{key:'render',value:function render(){var isCurrentRepo=this.props.selectedRepo.repo_id===this.props.repo.repo_id;var isCurrentPath=this.props.selectedPath===this.state.filePath;return _react2.default.createElement('li',{className:'file-chooser-item'},this.state.hasChildren&&this.props.dirent.type!=='file'&&_react2.default.createElement('span',{className:'item-toggle fa '+(this.state.isShowChildren?'fa-caret-down':'fa-caret-right'),onClick:this.onToggleClick}),_react2.default.createElement('span',{className:'item-info '+(isCurrentRepo&&isCurrentPath?'item-active':''),onClick:this.onItemClick},_react2.default.createElement('span',{className:'icon far '+(this.props.dirent.type==='dir'?'fa-folder':'fa-file')}),_react2.default.createElement('span',{className:'name user-select-none ellipsis'},this.props.dirent&&this.props.dirent.name)),this.state.isShowChildren&&this.renderChildren());}}]);return DirentListItem;}(_react2.default.Component);DirentListItem.propTypes=propTypes;exports.default=DirentListItem;\n\n/***/ }),\n\n/***/ 46:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _searchedListItem=__webpack_require__(47);var _searchedListItem2=_interopRequireDefault(_searchedListItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={searchResults:_propTypes2.default.array.isRequired,onItemClick:_propTypes2.default.func.isRequired};var SearchedListView=function(_React$Component){_inherits(SearchedListView,_React$Component);function SearchedListView(props){_classCallCheck(this,SearchedListView);var _this=_possibleConstructorReturn(this,(SearchedListView.__proto__||Object.getPrototypeOf(SearchedListView)).call(this,props));_this.onItemClick=function(item){_this.setState({currentItem:item});_this.props.onItemClick(item);};_this.state={currentItem:null};return _this;}_createClass(SearchedListView,[{key:'render',value:function render(){var _this2=this;return _react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'8%'}),_react2.default.createElement('th',{width:'92%'}))),_react2.default.createElement('tbody',null,this.props.searchResults.map(function(item,index){return _react2.default.createElement(_searchedListItem2.default,{key:index,item:item,currentItem:_this2.state.currentItem,onItemClick:_this2.onItemClick});})));}}]);return SearchedListView;}(_react2.default.Component);SearchedListView.propTypes=propTypes;exports.default=SearchedListView;\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={currentItem:_propTypes2.default.object,onItemClick:_propTypes2.default.func.isRequired};var SearchedListItem=function(_React$Component){_inherits(SearchedListItem,_React$Component);function SearchedListItem(props){_classCallCheck(this,SearchedListItem);var _this=_possibleConstructorReturn(this,(SearchedListItem.__proto__||Object.getPrototypeOf(SearchedListItem)).call(this,props));_this.onMouseEnter=function(){_this.setState({highlight:true});};_this.onMouseLeave=function(){_this.setState({highlight:false});};_this.onClick=function(){var item=_this.props.item;_this.props.onItemClick(item);};_this.state={highlight:false};return _this;}_createClass(SearchedListItem,[{key:'render',value:function render(){var _props=this.props,item=_props.item,currentItem=_props.currentItem;var fileIconUrl=item.is_dir?_utils.Utils.getFolderIconUrl(false,192):_utils.Utils.getFileIconUrl(item.name,192);var trClass=this.state.highlight?'tr-highlight':'';if(currentItem){if(item.repo_id===currentItem.repo_id&&item.path===currentItem.path){trClass='searched-active';}}return _react2.default.createElement('tr',{className:trClass,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{className:'text-center'},_react2.default.createElement('img',{className:'item-img',src:fileIconUrl,alt:'',width:'24'})),_react2.default.createElement('td',null,_react2.default.createElement('span',{className:'item-link'},item.repo_name,'/',item.link_content)));}}]);return SearchedListItem;}(_react2.default.Component);SearchedListItem.propTypes=propTypes;exports.default=SearchedListItem;\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _reactstrap=__webpack_require__(5);var _seafileApi=__webpack_require__(3);var _userSelect=__webpack_require__(23);var _userSelect2=_interopRequireDefault(_userSelect);var _sharePermissionEditor=__webpack_require__(19);var _sharePermissionEditor2=_interopRequireDefault(_sharePermissionEditor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var UserItem=function(_React$Component){_inherits(UserItem,_React$Component);function UserItem(props){_classCallCheck(this,UserItem);var _this=_possibleConstructorReturn(this,(UserItem.__proto__||Object.getPrototypeOf(UserItem)).call(this,props));_this.onMouseEnter=function(){_this.setState({isOperationShow:true});};_this.onMouseLeave=function(){_this.setState({isOperationShow:false});};_this.deleteShareItem=function(){var item=_this.props.item;_this.props.deleteShareItem(item.user_info.name);};_this.onChangeUserPermission=function(permission){var item=_this.props.item;_this.props.onChangeUserPermission(item,permission);};_this.state={isOperationShow:false};return _this;}_createClass(UserItem,[{key:'render',value:function render(){var item=this.props.item;var currentPermission=item.is_admin?'admin':item.permission;return _react2.default.createElement('tr',{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{className:'name'},item.user_info.nickname),_react2.default.createElement('td',null,_react2.default.createElement(_sharePermissionEditor2.default,{isTextMode:true,isEditIconShow:this.state.isOperationShow,currentPermission:currentPermission,permissions:this.props.permissions,onPermissionChanged:this.onChangeUserPermission})),_react2.default.createElement('td',null,_react2.default.createElement('span',{className:'sf2-icon-x3 action-icon '+(this.state.isOperationShow?'':'hide'),onClick:this.deleteShareItem,title:(0,_constants.gettext)('Delete')})));}}]);return UserItem;}(_react2.default.Component);var UserList=function(_React$Component2){_inherits(UserList,_React$Component2);function UserList(){_classCallCheck(this,UserList);return _possibleConstructorReturn(this,(UserList.__proto__||Object.getPrototypeOf(UserList)).apply(this,arguments));}_createClass(UserList,[{key:'render',value:function render(){var _this3=this;var items=this.props.items;return _react2.default.createElement('tbody',null,items.map(function(item,index){return _react2.default.createElement(UserItem,{key:index,item:item,permissions:_this3.props.permissions,deleteShareItem:_this3.props.deleteShareItem,onChangeUserPermission:_this3.props.onChangeUserPermission});}));}}]);return UserList;}(_react2.default.Component);var propTypes={isGroupOwnedRepo:_propTypes2.default.bool,itemPath:_propTypes2.default.string.isRequired,itemType:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired};var ShareToUser=function(_React$Component3){_inherits(ShareToUser,_React$Component3);function ShareToUser(props){_classCallCheck(this,ShareToUser);var _this4=_possibleConstructorReturn(this,(ShareToUser.__proto__||Object.getPrototypeOf(ShareToUser)).call(this,props));_this4.handleSelectChange=function(option){_this4.setState({selectedOption:option});_this4.options=[];};_this4.setPermission=function(permission){_this4.setState({permission:permission});};_this4.shareToUser=function(){var users=[];var path=_this4.props.itemPath;var repoID=_this4.props.repoID;if(_this4.state.selectedOption&&_this4.state.selectedOption.length>0){for(var i=0;i<_this4.state.selectedOption.length;i++){users[i]=_this4.state.selectedOption[i].email;}}if(_this4.props.isGroupOwnedRepo){_seafileApi.seafileAPI.shareGroupOwnedRepoToUser(repoID,_this4.state.permission,users).then(function(res){var errorMsg=[];if(res.data.failed.length>0){for(var _i=0;_i<res.data.failed.length;_i++){errorMsg[_i]=res.data.failed[_i];}}// todo modify api\nvar items=res.data.success.map(function(item){var sharedItem={'user_info':{'nickname':item.user_name,'name':item.user_email},'permission':item.permission,'share_type':'user'};return sharedItem;});_this4.setState({errorMsg:errorMsg,sharedItems:_this4.state.sharedItems.concat(items),selectedOption:null,permission:'rw'});_this4.refs.userSelect.clearSelect();}).catch(function(error){if(error.response){var message=(0,_constants.gettext)('Library can not be shared to owner.');var errMessage=[];errMessage.push(message);_this4.setState({errorMsg:errMessage,selectedOption:null});}});}else{_seafileApi.seafileAPI.shareFolder(repoID,path,'user',_this4.state.permission,users).then(function(res){var errorMsg=[];if(res.data.failed.length>0){for(var _i2=0;_i2<res.data.failed.length;_i2++){errorMsg[_i2]=res.data.failed[_i2];}}_this4.setState({errorMsg:errorMsg,sharedItems:_this4.state.sharedItems.concat(res.data.success),selectedOption:null,permission:'rw'});_this4.refs.userSelect.clearSelect();}).catch(function(error){if(error.response){var message=(0,_constants.gettext)('Library can not be shared to owner.');var errMessage=[];errMessage.push(message);_this4.setState({errorMsg:errMessage,selectedOption:null});}});}};_this4.deleteShareItem=function(username){var path=_this4.props.itemPath;var repoID=_this4.props.repoID;if(_this4.props.isGroupOwnedRepo){_seafileApi.seafileAPI.deleteGroupOwnedRepoSharedUserItem(repoID,username).then(function(res){_this4.setState({sharedItems:_this4.state.sharedItems.filter(function(item){return item.user_info.name!==username;})});});}else{_seafileApi.seafileAPI.deleteShareToUserItem(repoID,path,'user',username).then(function(res){_this4.setState({sharedItems:_this4.state.sharedItems.filter(function(item){return item.user_info.name!==username;})});});}};_this4.onChangeUserPermission=function(item,permission){var path=_this4.props.itemPath;var repoID=_this4.props.repoID;var username=item.user_info.name;if(_this4.props.isGroupOwnedRepo){_seafileApi.seafileAPI.modifyGroupOwnedRepoUserSharedPermission(repoID,permission,username).then(function(){_this4.updateSharedItems(item,permission);});}else{_seafileApi.seafileAPI.updateShareToUserItemPermission(repoID,path,'user',username,permission).then(function(){_this4.updateSharedItems(item,permission);});}};_this4.updateSharedItems=function(item,permission){var username=item.user_info.name;var sharedItems=_this4.state.sharedItems.map(function(sharedItem){var sharedItemUsername=sharedItem.user_info.name;if(username===sharedItemUsername){sharedItem.permission=permission;}sharedItem.is_admin=permission==='admin'?true:false;return sharedItem;});_this4.setState({sharedItems:sharedItems});};_this4.state={selectedOption:null,errorMsg:[],permission:'rw',sharedItems:[]};_this4.options=[];_this4.permissions=[];if(_this4.props.itemType==='library'){_this4.permissions=['rw','r','admin','cloud-edit','preview'];}else if(_this4.props.itemType==='dir'){_this4.permissions=['rw','r','cloud-edit','preview'];}if(_this4.props.isGroupOwnedRepo||!_constants.isPro){_this4.permissions=['rw','r'];}return _this4;}_createClass(ShareToUser,[{key:'componentDidMount',value:function componentDidMount(){var _this5=this;var path=this.props.itemPath;var repoID=this.props.repoID;_seafileApi.seafileAPI.listSharedItems(repoID,path,'user').then(function(res){if(res.data.length!==0){_this5.setState({sharedItems:res.data});}});}},{key:'render',value:function render(){var sharedItems=this.state.sharedItems;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'50%'},(0,_constants.gettext)('User')),_react2.default.createElement('th',{width:'35%'},(0,_constants.gettext)('Permission')),_react2.default.createElement('th',{width:'15%'}))),_react2.default.createElement('tbody',null,_react2.default.createElement('tr',null,_react2.default.createElement('td',null,_react2.default.createElement(_userSelect2.default,{ref:'userSelect',isMulti:true,className:'reviewer-select',placeholder:(0,_constants.gettext)('Select users...'),onSelectChange:this.handleSelectChange})),_react2.default.createElement('td',null,_react2.default.createElement(_sharePermissionEditor2.default,{isTextMode:false,isEditIconShow:false,currentPermission:this.state.permission,permissions:this.permissions,onPermissionChanged:this.setPermission})),_react2.default.createElement('td',null,_react2.default.createElement(_reactstrap.Button,{onClick:this.shareToUser},(0,_constants.gettext)('Submit')))),this.state.errorMsg.length>0&&this.state.errorMsg.map(function(item,index){var errMessage='';if(item.email){errMessage=item.email+': '+item.error_msg;}else{errMessage=item;}return _react2.default.createElement('tr',{key:index},_react2.default.createElement('td',{colSpan:3},_react2.default.createElement('p',{className:'error'},errMessage)));}))),_react2.default.createElement('div',{className:'share-list-container'},_react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'50%'},(0,_constants.gettext)('User')),_react2.default.createElement('th',{width:'35%'},(0,_constants.gettext)('Permission')),_react2.default.createElement('th',{width:'15%'}))),_react2.default.createElement(UserList,{items:sharedItems,permissions:this.permissions,deleteShareItem:this.deleteShareItem,onChangeUserPermission:this.onChangeUserPermission}))));}}]);return ShareToUser;}(_react2.default.Component);ShareToUser.propTypes=propTypes;exports.default=ShareToUser;\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _reactSelect=__webpack_require__(37);var _reactSelect2=_interopRequireDefault(_reactSelect);var _animated=__webpack_require__(85);var _animated2=_interopRequireDefault(_animated);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _sharePermissionEditor=__webpack_require__(19);var _sharePermissionEditor2=_interopRequireDefault(_sharePermissionEditor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var GroupItem=function(_React$Component){_inherits(GroupItem,_React$Component);function GroupItem(props){_classCallCheck(this,GroupItem);var _this=_possibleConstructorReturn(this,(GroupItem.__proto__||Object.getPrototypeOf(GroupItem)).call(this,props));_this.onMouseEnter=function(){_this.setState({isOperationShow:true});};_this.onMouseLeave=function(){_this.setState({isOperationShow:false});};_this.deleteShareItem=function(){var item=_this.props.item;_this.props.deleteShareItem(item.group_info.id);};_this.onChangeUserPermission=function(permission){var item=_this.props.item;_this.props.onChangeUserPermission(item,permission);};_this.state={isOperationShow:false};return _this;}_createClass(GroupItem,[{key:'render',value:function render(){var item=this.props.item;return _react2.default.createElement('tr',{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{className:'name'},item.group_info.name),_react2.default.createElement('td',null,_react2.default.createElement(_sharePermissionEditor2.default,{isTextMode:true,isEditIconShow:this.state.isOperationShow,currentPermission:item.permission,permissions:this.props.permissions,onPermissionChanged:this.onChangeUserPermission})),_react2.default.createElement('td',null,_react2.default.createElement('span',{className:'sf2-icon-x3 action-icon '+(this.state.isOperationShow?'':'hide'),onClick:this.deleteShareItem,title:(0,_constants.gettext)('Delete')})));}}]);return GroupItem;}(_react2.default.Component);var GroupList=function(_React$Component2){_inherits(GroupList,_React$Component2);function GroupList(){_classCallCheck(this,GroupList);return _possibleConstructorReturn(this,(GroupList.__proto__||Object.getPrototypeOf(GroupList)).apply(this,arguments));}_createClass(GroupList,[{key:'render',value:function render(){var _this3=this;var items=this.props.items;return _react2.default.createElement('tbody',null,items.map(function(item,index){return _react2.default.createElement(GroupItem,{key:index,item:item,permissions:_this3.props.permissions,deleteShareItem:_this3.props.deleteShareItem,onChangeUserPermission:_this3.props.onChangeUserPermission});}));}}]);return GroupList;}(_react2.default.Component);var propTypes={isGroupOwnedRepo:_propTypes2.default.bool,itemPath:_propTypes2.default.string.isRequired,itemType:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired};var NoOptionsMessage=function NoOptionsMessage(props){return _react2.default.createElement('div',_extends({},props.innerProps,{style:{margin:'6px 10px',textAlign:'center',color:'hsl(0,0%,50%)'}}),(0,_constants.gettext)('Group not found'));};var ShareToGroup=function(_React$Component3){_inherits(ShareToGroup,_React$Component3);function ShareToGroup(props){_classCallCheck(this,ShareToGroup);var _this4=_possibleConstructorReturn(this,(ShareToGroup.__proto__||Object.getPrototypeOf(ShareToGroup)).call(this,props));_this4.handleSelectChange=function(option){_this4.setState({selectedOption:option});};_this4.loadOptions=function(){_seafileApi.seafileAPI.shareableGroups().then(function(res){_this4.options=[];for(var i=0;i<res.data.length;i++){var obj={};obj.value=res.data[i].name;obj.id=res.data[i].id;obj.label=res.data[i].name;_this4.options.push(obj);}});};_this4.listSharedGroups=function(){var path=_this4.props.itemPath;var repoID=_this4.props.repoID;_seafileApi.seafileAPI.listSharedItems(repoID,path,'group').then(function(res){if(res.data.length!==0){_this4.setState({sharedItems:res.data});}});};_this4.setPermission=function(permission){_this4.setState({permission:permission});};_this4.shareToGroup=function(){var groups=[];var path=_this4.props.itemPath;var repoID=_this4.props.repoID;var isGroupOwnedRepo=_this4.props.isGroupOwnedRepo;if(_this4.state.selectedOption&&_this4.state.selectedOption.length>0){for(var i=0;i<_this4.state.selectedOption.length;i++){groups[i]=_this4.state.selectedOption[i].id;}}if(isGroupOwnedRepo){_seafileApi.seafileAPI.shareGroupOwnedRepoToGroup(repoID,_this4.state.permission,groups).then(function(res){var errorMsg=[];if(res.data.failed.length>0){for(var _i=0;_i<res.data.failed.length;_i++){errorMsg[_i]=res.data.failed[_i];}}// todo modify api\nvar items=res.data.success.map(function(item){var sharedItem={'group_info':{'id':item.group_id,'name':item.group_name},'permission':item.permission,'share_type':'group'};return sharedItem;});_this4.setState({errorMsg:errorMsg,sharedItems:_this4.state.sharedItems.concat(items),selectedOption:null,permission:'rw'});});}else{_seafileApi.seafileAPI.shareFolder(repoID,path,'group',_this4.state.permission,groups).then(function(res){var errorMsg=[];if(res.data.failed.length>0){for(var _i2=0;_i2<res.data.failed.length;_i2++){errorMsg[_i2]=res.data.failed[_i2];}}_this4.setState({errorMsg:errorMsg,sharedItems:_this4.state.sharedItems.concat(res.data.success),selectedOption:null,permission:'rw'});});}};_this4.deleteShareItem=function(groupID){var path=_this4.props.itemPath;var repoID=_this4.props.repoID;if(_this4.props.isGroupOwnedRepo){_seafileApi.seafileAPI.deleteGroupOwnedRepoSharedGroupItem(repoID,groupID).then(function(){_this4.setState({sharedItems:_this4.state.sharedItems.filter(function(item){return item.group_info.id!==groupID;})});});}else{_seafileApi.seafileAPI.deleteShareToGroupItem(repoID,path,'group',groupID).then(function(){_this4.setState({sharedItems:_this4.state.sharedItems.filter(function(item){return item.group_info.id!==groupID;})});});}};_this4.onChangeUserPermission=function(item,permission){var path=_this4.props.itemPath;var repoID=_this4.props.repoID;var groupID=item.group_info.id;if(_this4.props.isGroupOwnedRepo){_seafileApi.seafileAPI.modifyGroupOwnedRepoGroupSharedPermission(repoID,permission,groupID).then(function(){_this4.updateSharedItems(item,permission);});}else{_seafileApi.seafileAPI.updateShareToGroupItemPermission(repoID,path,'group',groupID,permission).then(function(){_this4.updateSharedItems(item,permission);});}};_this4.updateSharedItems=function(item,permission){var groupID=item.group_info.id;var sharedItems=_this4.state.sharedItems.map(function(sharedItem){var sharedItemGroupID=sharedItem.group_info.id;if(groupID===sharedItemGroupID){sharedItem.permission=permission;}return sharedItem;});_this4.setState({sharedItems:sharedItems});};_this4.state={selectedOption:null,errorMsg:[],permission:'rw',sharedItems:[]};_this4.options=[];_this4.permissions=[];if(_this4.props.itemType==='library'){_this4.permissions=['rw','r','admin','cloud-edit','preview'];}else if(_this4.props.itemType==='dir'){_this4.permissions=['rw','r','cloud-edit','preview'];}if(_this4.props.isGroupOwnedRepo||!_constants.isPro){_this4.permissions=['rw','r'];}return _this4;}_createClass(ShareToGroup,[{key:'componentDidMount',value:function componentDidMount(){this.loadOptions();this.listSharedGroups();}},{key:'render',value:function render(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'50%'},(0,_constants.gettext)('Group')),_react2.default.createElement('th',{width:'35%'},(0,_constants.gettext)('Permission')),_react2.default.createElement('th',{width:'15%'}))),_react2.default.createElement('tbody',null,_react2.default.createElement('tr',null,_react2.default.createElement('td',null,_react2.default.createElement(_reactSelect2.default,_defineProperty({isMulti:true,onChange:this.handleSelectChange,options:this.options,placeholder:(0,_constants.gettext)('Select a group'),components:(0,_animated2.default)(),maxMenuHeight:200,inputId:'react-select-2-input',value:this.state.selectedOption},'components',{NoOptionsMessage:NoOptionsMessage}))),_react2.default.createElement('td',null,_react2.default.createElement(_sharePermissionEditor2.default,{isTextMode:false,isEditIconShow:false,currentPermission:this.state.permission,permissions:this.permissions,onPermissionChanged:this.setPermission})),_react2.default.createElement('td',null,_react2.default.createElement(_reactstrap.Button,{onClick:this.shareToGroup},(0,_constants.gettext)('Submit')))),this.state.errorMsg.length>0&&this.state.errorMsg.map(function(item,index){var errMessage=item.group_name+': '+item.error_msg;return _react2.default.createElement('tr',{key:index},_react2.default.createElement('td',{colSpan:3},_react2.default.createElement('p',{className:'error'},errMessage)));}))),_react2.default.createElement('div',{className:'share-list-container'},_react2.default.createElement('table',{className:'table-thead-hidden'},_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{width:'50%'},(0,_constants.gettext)('Group')),_react2.default.createElement('th',{width:'35%'},(0,_constants.gettext)('Permission')),_react2.default.createElement('th',{width:'15%'}))),_react2.default.createElement(GroupList,{items:this.state.sharedItems,permissions:this.permissions,deleteShareItem:this.deleteShareItem,onChangeUserPermission:this.onChangeUserPermission}))));}}]);return ShareToGroup;}(_react2.default.Component);ShareToGroup.propTypes=propTypes;exports.default=ShareToGroup;\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _copyToClipboard=__webpack_require__(39);var _copyToClipboard2=_interopRequireDefault(_copyToClipboard);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _sharedLinkInfo=__webpack_require__(40);var _sharedLinkInfo2=_interopRequireDefault(_sharedLinkInfo);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={itemPath:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,closeShareDialog:_propTypes2.default.func.isRequired};var GenerateShareLink=function(_React$Component){_inherits(GenerateShareLink,_React$Component);function GenerateShareLink(props){_classCallCheck(this,GenerateShareLink);var _this=_possibleConstructorReturn(this,(GenerateShareLink.__proto__||Object.getPrototypeOf(GenerateShareLink)).call(this,props));_this.getShareLink=function(){var path=_this.props.itemPath;var repoID=_this.props.repoID;_seafileApi.seafileAPI.getShareLink(repoID,path).then(function(res){if(res.data.length!==0){var sharedLinkInfo=new _sharedLinkInfo2.default(res.data[0]);_this.setState({sharedLinkInfo:sharedLinkInfo});}});};_this.onPasswordInputChecked=function(){_this.setState({isShowPasswordInput:!_this.state.isShowPasswordInput,password:'',passwdnew:'',errorInfo:''});};_this.togglePasswordVisible=function(){_this.setState({isPasswordVisible:!_this.state.isPasswordVisible});};_this.generatePassword=function(){var val=Math.random().toString(36).substr(5);_this.setState({password:val,passwdnew:val});};_this.inputPassword=function(e){var passwd=e.target.value.trim();_this.setState({password:passwd});};_this.inputPasswordNew=function(e){var passwd=e.target.value.trim();_this.setState({passwdnew:passwd});};_this.setPermission=function(permission){if(permission=='previewAndDownload'){_this.permissions={'can_edit':false,'can_download':true};}else{_this.permissions={'can_edit':false,'can_download':false};}};_this.generateShareLink=function(){var isValid=_this.validateParamsInput();if(isValid){_this.setState({errorInfo:''});var _this$props=_this.props,itemPath=_this$props.itemPath,repoID=_this$props.repoID;var _this$state=_this.state,password=_this$state.password,expireDays=_this$state.expireDays;var permissions=_this.permissions;permissions=JSON.stringify(permissions);_seafileApi.seafileAPI.createShareLink(repoID,itemPath,password,expireDays,permissions).then(function(res){var sharedLinkInfo=new _sharedLinkInfo2.default(res.data);_this.setState({sharedLinkInfo:sharedLinkInfo});});}};_this.onCopySharedLink=function(){var sharedLink=_this.state.sharedLinkInfo.link;(0,_copyToClipboard2.default)(sharedLink);_toast2.default.success((0,_constants.gettext)('Share link is copied to the clipboard.'));_this.props.closeShareDialog();};_this.onCopyDownloadLink=function(){var downloadLink=_this.state.sharedLinkInfo.link+'?dl';(0,_copyToClipboard2.default)(downloadLink);_toast2.default.success((0,_constants.gettext)('Direct download link is copied to the clipboard.'));_this.props.closeShareDialog();};_this.deleteShareLink=function(){var sharedLinkInfo=_this.state.sharedLinkInfo;_seafileApi.seafileAPI.deleteShareLink(sharedLinkInfo.token).then(function(){_this.setState({password:'',passwordnew:'',isShowPasswordInput:false,expireDays:'',isExpireChecked:false,errorInfo:'',sharedLinkInfo:null,isNoticeMessageShow:false});_this.permissions={'can_edit':false,'can_download':true};});};_this.onExpireChecked=function(e){_this.setState({isExpireChecked:e.target.checked});};_this.onExpireDaysChanged=function(e){var day=e.target.value.trim();_this.setState({expireDays:day});};_this.validateParamsInput=function(){var _this$state2=_this.state,isShowPasswordInput=_this$state2.isShowPasswordInput,password=_this$state2.password,passwdnew=_this$state2.passwdnew,isExpireChecked=_this$state2.isExpireChecked,expireDays=_this$state2.expireDays;// validate password\nif(isShowPasswordInput){if(password.length===0){_this.setState({errorInfo:'Please enter password'});return false;}if(password.length<8){_this.setState({errorInfo:'Password is too short'});return false;}if(password!==passwdnew){_this.setState({errorInfo:'Passwords don\\'t match'});return false;}}// validate days\n// no limit\nvar reg=/^\\d+$/;if(_this.isExpireDaysNoLimit){if(isExpireChecked){if(!expireDays){_this.setState({errorInfo:'Please enter days'});return false;}var flag=reg.test(expireDays);if(!flag){_this.setState({errorInfo:'Please enter a non-negative integer'});return false;}_this.setState({expireDays:parseInt(expireDays)});}}else{if(!expireDays){_this.setState({errorInfo:'Please enter days'});return false;}var _flag=reg.test(expireDays);if(!_flag){_this.setState({errorInfo:'Please enter a non-negative integer'});return false;}expireDays=parseInt(expireDays);var minDays=parseInt(_constants.shareLinkExpireDaysMin);var maxDays=parseInt(_constants.shareLinkExpireDaysMax);if(minDays!==0&&maxDays!==maxDays){if(expireDays<minDays){_this.setState({errorInfo:'Please enter valid days'});return false;}}if(minDays===0&&maxDays!==0){if(expireDays>maxDays){_this.setState({errorInfo:'Please enter valid days'});return false;}}if(minDays!==0&&maxDays!==0){if(expireDays<minDays||expireDays<maxDays){_this.setState({errorInfo:'Please enter valid days'});return false;}}_this.setState({expireDays:expireDays});}return true;};_this.onNoticeMessageToggle=function(){_this.setState({isNoticeMessageShow:!_this.state.isNoticeMessageShow});};_this.state={isValidate:false,isShowPasswordInput:false,isPasswordVisible:false,isExpireChecked:false,password:'',passwdnew:'',expireDays:'',errorInfo:'',sharedLinkInfo:null,isNoticeMessageShow:false};_this.permissions={'can_edit':false,'can_download':true};_this.isExpireDaysNoLimit=parseInt(_constants.shareLinkExpireDaysMin)===0&&parseInt(_constants.shareLinkExpireDaysMax)===0;return _this;}_createClass(GenerateShareLink,[{key:'componentDidMount',value:function componentDidMount(){this.getShareLink();}},{key:'render',value:function render(){var _this2=this;if(this.state.sharedLinkInfo){var sharedLinkInfo=this.state.sharedLinkInfo;return _react2.default.createElement('div',null,_react2.default.createElement(_reactstrap.Form,{className:'mb-4'},_react2.default.createElement(_reactstrap.FormGroup,{className:'mb-0'},_react2.default.createElement('dt',{className:'text-secondary font-weight-normal'},(0,_constants.gettext)('Link:')),_react2.default.createElement('dd',{className:'d-flex'},_react2.default.createElement('span',null,sharedLinkInfo.link),' ',sharedLinkInfo.is_expired?_react2.default.createElement('span',{className:'err-message'},'(',(0,_constants.gettext)('Expired'),')'):_react2.default.createElement('span',{className:'far fa-copy action-icon',onClick:this.onCopySharedLink}))),!sharedLinkInfo.is_dir&&//just for file\n_react2.default.createElement(_reactstrap.FormGroup,{className:'mb-0'},_react2.default.createElement('dt',{className:'text-secondary font-weight-normal'},(0,_constants.gettext)('Direct Download Link:')),_react2.default.createElement('dd',{className:'d-flex'},_react2.default.createElement('span',null,sharedLinkInfo.link,'?dl'),' ',sharedLinkInfo.is_expired?_react2.default.createElement('span',{className:'err-message'},'(',(0,_constants.gettext)('Expired'),')'):_react2.default.createElement('span',{className:'far fa-copy action-icon',onClick:this.onCopyDownloadLink}))),sharedLinkInfo.expire_date&&_react2.default.createElement(_reactstrap.FormGroup,{className:'mb-0'},_react2.default.createElement('dt',{className:'text-secondary font-weight-normal'},(0,_constants.gettext)('Expiration Date:')),_react2.default.createElement('dd',null,(0,_moment2.default)(sharedLinkInfo.expire_date).format('YYYY-MM-DD hh:mm:ss')))),!this.state.isNoticeMessageShow?_react2.default.createElement(_reactstrap.Button,{onClick:this.onNoticeMessageToggle},(0,_constants.gettext)('Delete')):_react2.default.createElement('div',{className:'alert alert-warning'},_react2.default.createElement('h4',{className:'alert-heading'},(0,_constants.gettext)('Are you sure you want to delete the share link?')),_react2.default.createElement('p',{className:'mb-4'},(0,_constants.gettext)('If the share link is deleted, no one will be able to access it any more.')),_react2.default.createElement('button',{className:'btn btn-primary',onClick:this.deleteShareLink},(0,_constants.gettext)('Delete')),' ',_react2.default.createElement('button',{className:'btn btn-secondary',onClick:this.onNoticeMessageToggle},(0,_constants.gettext)('Cancel'))));}else{return _react2.default.createElement(_reactstrap.Form,{className:'generate-share-link'},_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'checkbox',onChange:this.onPasswordInputChecked}),'  ',(0,_constants.gettext)('Add password protection'))),this.state.isShowPasswordInput&&_react2.default.createElement(_reactstrap.FormGroup,{className:'link-operation-content'},_react2.default.createElement(_reactstrap.Label,{className:'font-weight-bold'},(0,_constants.gettext)('Password')),' ',_react2.default.createElement('span',{className:'tip'},(0,_constants.gettext)('(at least 8 characters)')),_react2.default.createElement(_reactstrap.InputGroup,{className:'passwd'},_react2.default.createElement(_reactstrap.Input,{type:this.state.isPasswordVisible?'text':'password',value:this.state.password||'',onChange:this.inputPassword}),_react2.default.createElement(_reactstrap.InputGroupAddon,{addonType:'append'},_react2.default.createElement(_reactstrap.Button,{onClick:this.togglePasswordVisible},_react2.default.createElement('i',{className:'link-operation-icon fas '+(this.state.isPasswordVisible?'fa-eye':'fa-eye-slash')})),_react2.default.createElement(_reactstrap.Button,{onClick:this.generatePassword},_react2.default.createElement('i',{className:'link-operation-icon fas fa-magic'})))),_react2.default.createElement(_reactstrap.Label,{className:'font-weight-bold'},(0,_constants.gettext)('Password again')),_react2.default.createElement(_reactstrap.Input,{className:'passwd',type:this.state.isPasswordVisible?'text':'password',value:this.state.passwdnew||'',onChange:this.inputPasswordNew})),this.isExpireDaysNoLimit&&_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{className:'expire-checkbox',type:'checkbox',onChange:this.onExpireChecked}),'  ',(0,_constants.gettext)('Add auto expiration'),_react2.default.createElement(_reactstrap.Input,{className:'expire-input',type:'text',value:this.state.expireDays,onChange:this.onExpireDaysChanged,readOnly:!this.state.isExpireChecked}),_react2.default.createElement('span',null,(0,_constants.gettext)('days')))),!this.isExpireDaysNoLimit&&_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{className:'expire-checkbox',type:'checkbox',onChange:this.onExpireChecked,checked:true,readOnly:true}),'  ',(0,_constants.gettext)('Add auto expiration'),_react2.default.createElement(_reactstrap.Input,{className:'expire-input',type:'text',value:this.state.expireDays,onChange:this.onExpireDaysChanged}),' ',_react2.default.createElement('span',null,(0,_constants.gettext)('days')),parseInt(_constants.shareLinkExpireDaysMin)!==0&&parseInt(_constants.shareLinkExpireDaysMax)!==0&&_react2.default.createElement('span',null,' (',_constants.shareLinkExpireDaysMin,' - ',_constants.shareLinkExpireDaysMax,' ',(0,_constants.gettext)('days'),')'),parseInt(_constants.shareLinkExpireDaysMin)!==0&&parseInt(_constants.shareLinkExpireDaysMax)===0&&_react2.default.createElement('span',null,' (',(0,_constants.gettext)('Greater than or equal to'),' ',_constants.shareLinkExpireDaysMin,' ',(0,_constants.gettext)('days'),')'),parseInt(_constants.shareLinkExpireDaysMin)===0&&parseInt(_constants.shareLinkExpireDaysMax)!==0&&_react2.default.createElement('span',null,' (',(0,_constants.gettext)('Less than or equal to'),' ',_constants.shareLinkExpireDaysMax,' ',(0,_constants.gettext)('days'),')'))),_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'checkbox',checked:true,readOnly:true}),'  ',(0,_constants.gettext)('Set permission'))),_react2.default.createElement(_reactstrap.FormGroup,{check:true,className:'permission'},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'radio',name:'radio1',defaultChecked:true,onChange:function onChange(){return _this2.setPermission('previewAndDownload');}}),'  ',(0,_constants.gettext)('Preview and download'))),_react2.default.createElement(_reactstrap.FormGroup,{check:true,className:'permission'},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'radio',name:'radio1',onChange:function onChange(){return _this2.setPermission('preview');}}),'  ',(0,_constants.gettext)('Preview only'))),this.state.errorInfo&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',className:'mt-2'},(0,_constants.gettext)(this.state.errorInfo)),_react2.default.createElement(_reactstrap.Button,{onClick:this.generateShareLink},(0,_constants.gettext)('Generate')));}}}]);return GenerateShareLink;}(_react2.default.Component);GenerateShareLink.propTypes=propTypes;exports.default=GenerateShareLink;\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _copyToClipboard=__webpack_require__(39);var _copyToClipboard2=_interopRequireDefault(_copyToClipboard);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);var _sharedUploadInfo=__webpack_require__(41);var _sharedUploadInfo2=_interopRequireDefault(_sharedUploadInfo);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={itemPath:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired,closeShareDialog:_propTypes2.default.func.isRequired};var GenerateUploadLink=function(_React$Component){_inherits(GenerateUploadLink,_React$Component);function GenerateUploadLink(props){_classCallCheck(this,GenerateUploadLink);var _this=_possibleConstructorReturn(this,(GenerateUploadLink.__proto__||Object.getPrototypeOf(GenerateUploadLink)).call(this,props));_this.getUploadLink=function(){var path=_this.props.itemPath;var repoID=_this.props.repoID;_seafileApi.seafileAPI.getUploadLinks(repoID,path).then(function(res){if(res.data.length!==0){var sharedUploadInfo=new _sharedUploadInfo2.default(res.data[0]);_this.setState({sharedUploadInfo:sharedUploadInfo});}});};_this.addPassword=function(){_this.setState({showPasswordInput:!_this.state.showPasswordInput,password:'',passwdnew:'',errorInfo:''});};_this.togglePasswordVisible=function(){_this.setState({passwordVisible:!_this.state.passwordVisible});};_this.generatePassword=function(){var val=Math.random().toString(36).substr(5);_this.setState({password:val,passwordnew:val});};_this.inputPassword=function(e){_this.setState({password:e.target.value});};_this.inputPasswordNew=function(e){_this.setState({passwordnew:e.target.value});};_this.generateUploadLink=function(){var path=_this.props.itemPath;var repoID=_this.props.repoID;if(_this.state.showPasswordInput&&_this.state.password==''){_this.setState({errorInfo:(0,_constants.gettext)('Please enter password')});}else if(_this.state.showPasswordInput&&_this.state.showPasswordInput&&_this.state.password.length<8){_this.setState({errorInfo:(0,_constants.gettext)('Password is too short')});}else if(_this.state.showPasswordInput&&_this.state.password!==_this.state.passwordnew){_this.setState({errorInfo:(0,_constants.gettext)('Passwords don\\'t match')});}else{_seafileApi.seafileAPI.createUploadLink(repoID,path,_this.state.password).then(function(res){var sharedUploadInfo=new _sharedUploadInfo2.default(res.data);_this.setState({sharedUploadInfo:sharedUploadInfo});});}};_this.onCopyUploadLink=function(){var uploadLink=_this.state.sharedUploadInfo.link;(0,_copyToClipboard2.default)(uploadLink);_toast2.default.success((0,_constants.gettext)('Upload link is copied to the clipboard.'));_this.props.closeShareDialog();};_this.deleteUploadLink=function(){var sharedUploadInfo=_this.state.sharedUploadInfo;_seafileApi.seafileAPI.deleteUploadLink(sharedUploadInfo.token).then(function(){_this.setState({showPasswordInput:false,password:'',passwordnew:'',sharedUploadInfo:null});});};_this.state={showPasswordInput:false,passwordVisible:false,password:'',passwdnew:'',sharedUploadInfo:null};return _this;}_createClass(GenerateUploadLink,[{key:'componentDidMount',value:function componentDidMount(){this.getUploadLink();}},{key:'render',value:function render(){if(this.state.sharedUploadInfo){var sharedUploadInfo=this.state.sharedUploadInfo;return _react2.default.createElement('div',null,_react2.default.createElement(_reactstrap.Form,{className:'mb-4'},_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement('dt',{className:'text-secondary font-weight-normal'},(0,_constants.gettext)('Upload Link:')),_react2.default.createElement('dd',{className:'d-flex'},_react2.default.createElement('span',null,sharedUploadInfo.link),_react2.default.createElement('span',{className:'far fa-copy action-icon',onClick:this.onCopyUploadLink})))),_react2.default.createElement(_reactstrap.Button,{onClick:this.deleteUploadLink},(0,_constants.gettext)('Delete')));}return _react2.default.createElement(_reactstrap.Form,{className:'generate-upload-link'},_react2.default.createElement(_reactstrap.FormGroup,null,_react2.default.createElement(_reactstrap.FormText,{className:'tip'},(0,_constants.gettext)('You can share the generated link to others and then they can upload files to this directory via the link.'))),_react2.default.createElement(_reactstrap.FormGroup,{check:true},_react2.default.createElement(_reactstrap.Label,{check:true},_react2.default.createElement(_reactstrap.Input,{type:'checkbox',onChange:this.addPassword}),'  ',(0,_constants.gettext)('Add password protection'))),this.state.showPasswordInput&&_react2.default.createElement(_reactstrap.FormGroup,{className:'link-operation-content'},_react2.default.createElement(_reactstrap.Label,{className:'font-weight-bold'},(0,_constants.gettext)('Password')),' ',_react2.default.createElement('span',{className:'tip'},(0,_constants.gettext)('(at least 8 characters)')),_react2.default.createElement(_reactstrap.InputGroup,{className:'passwd'},_react2.default.createElement(_reactstrap.Input,{type:this.state.passwordVisible?'text':'password',value:this.state.password||'',onChange:this.inputPassword}),_react2.default.createElement(_reactstrap.InputGroupAddon,{addonType:'append'},_react2.default.createElement(_reactstrap.Button,{onClick:this.togglePasswordVisible},_react2.default.createElement('i',{className:'link-operation-icon fas '+(this.state.passwordVisible?'fa-eye':'fa-eye-slash')})),_react2.default.createElement(_reactstrap.Button,{onClick:this.generatePassword},_react2.default.createElement('i',{className:'link-operation-icon fas fa-magic'})))),_react2.default.createElement(_reactstrap.Label,{className:'font-weight-bold'},(0,_constants.gettext)('Password again')),_react2.default.createElement(_reactstrap.Input,{className:'passwd',type:this.state.passwordVisible?'text':'password',value:this.state.passwordnew||'',onChange:this.inputPasswordNew})),this.state.errorInfo&&_react2.default.createElement(_reactstrap.Alert,{color:'danger',className:'mt-2'},this.state.errorInfo),_react2.default.createElement(_reactstrap.Button,{className:'generate-link-btn',onClick:this.generateUploadLink},(0,_constants.gettext)('Generate')));}}]);return GenerateUploadLink;}(_react2.default.Component);GenerateUploadLink.propTypes=propTypes;exports.default=GenerateUploadLink;\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactstrap=__webpack_require__(5);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _toast=__webpack_require__(7);var _toast2=_interopRequireDefault(_toast);var _copyToClipboard=__webpack_require__(75);var _copyToClipboard2=_interopRequireDefault(_copyToClipboard);var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);__webpack_require__(55);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,repoID:_propTypes2.default.string.isRequired};var InternalLinkDialog=function(_React$Component){_inherits(InternalLinkDialog,_React$Component);function InternalLinkDialog(props){_classCallCheck(this,InternalLinkDialog);var _this=_possibleConstructorReturn(this,(InternalLinkDialog.__proto__||Object.getPrototypeOf(InternalLinkDialog)).call(this,props));_this.state={isOpen:false,smartLink:''};_this.toggle=_this.toggle.bind(_this);_this.getInternalLink=_this.getInternalLink.bind(_this);_this.copyToClipBoard=_this.copyToClipBoard.bind(_this);return _this;}_createClass(InternalLinkDialog,[{key:'toggle',value:function toggle(){this.setState({isOpen:!this.state.isOpen});}},{key:'getInternalLink',value:function getInternalLink(){var _this2=this;var repoID=this.props.repoID;var path=this.props.path;_seafileApi.seafileAPI.getInternalLink(repoID,path).then(function(res){_this2.setState({isOpen:true,smartLink:res.data.smart_link});});}},{key:'copyToClipBoard',value:function copyToClipBoard(){(0,_copyToClipboard2.default)(this.state.smartLink);this.setState({isOpen:false});var message=(0,_constants.gettext)('Internal link has been copied to clipboard');_toast2.default.success(message),{duration:2};}},{key:'render',value:function render(){return _react2.default.createElement('span',{className:'file-internal-link',title:(0,_constants.gettext)('Internal Link')},_react2.default.createElement('i',{className:'fa fa-link',onClick:this.getInternalLink}),_react2.default.createElement(_reactstrap.Modal,{isOpen:this.state.isOpen,toggle:this.toggle},_react2.default.createElement(_reactstrap.ModalHeader,{toggle:this.toggle},(0,_constants.gettext)('Internal Link')),_react2.default.createElement(_reactstrap.ModalBody,null,_react2.default.createElement('p',{className:'tip mb-1'},(0,_constants.gettext)('An internal link is a link to a file or folder that can be accessed by users with read permission to the file or folder.')),_react2.default.createElement('p',null,_react2.default.createElement('a',{target:'_blank',href:this.state.smartLink},this.state.smartLink))),_react2.default.createElement(_reactstrap.ModalFooter,null,_react2.default.createElement(_reactstrap.Button,{color:'primary',onClick:this.copyToClipBoard},(0,_constants.gettext)('Copy')),' ',_react2.default.createElement(_reactstrap.Button,{color:'secondary',onClick:this.toggle},(0,_constants.gettext)('Cancel')))));}}]);return InternalLinkDialog;}(_react2.default.Component);InternalLinkDialog.propTypes=propTypes;exports.default=InternalLinkDialog;\n\n/***/ }),\n\n/***/ 55:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _toaster=__webpack_require__(15);var _toaster2=_interopRequireDefault(_toaster);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var toaster=new _toaster2.default();exports.default=toaster;\n\n/***/ }),\n\n/***/ 80:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _search=__webpack_require__(116);var _search2=_interopRequireDefault(_search);var _notification=__webpack_require__(120);var _notification2=_interopRequireDefault(_notification);var _account=__webpack_require__(27);var _account2=_interopRequireDefault(_account);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string,onSearchedClick:_propTypes2.default.func.isRequired,searchPlaceholder:_propTypes2.default.string};var CommonToolbar=function(_React$Component){_inherits(CommonToolbar,_React$Component);function CommonToolbar(){_classCallCheck(this,CommonToolbar);return _possibleConstructorReturn(this,(CommonToolbar.__proto__||Object.getPrototypeOf(CommonToolbar)).apply(this,arguments));}_createClass(CommonToolbar,[{key:'render',value:function render(){var searchPlaceholder=this.props.searchPlaceholder||(0,_constants.gettext)('Search Files');return _react2.default.createElement('div',{className:'common-toolbar'},_constants.isPro&&_react2.default.createElement(_search2.default,{repoID:this.props.repoID,placeholder:searchPlaceholder,onSearchedClick:this.props.onSearchedClick}),_react2.default.createElement(_notification2.default,null),_react2.default.createElement(_account2.default,null));}}]);return CommonToolbar;}(_react2.default.Component);CommonToolbar.propTypes=propTypes;exports.default=CommonToolbar;\n\n/***/ }),\n\n/***/ 86:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 88:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 90:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var TreeNode=function(){function TreeNode(_ref){var path=_ref.path,object=_ref.object,isLoaded=_ref.isLoaded,isPreload=_ref.isPreload,isExpanded=_ref.isExpanded,parentNode=_ref.parentNode;_classCallCheck(this,TreeNode);this.path=path||object.name,// The default setting is the object name, which is set to a relative path when the father is set.\nthis.object=object.clone();this.isLoaded=isLoaded||false;this.isPreload=isPreload||false;this.isExpanded=isExpanded||false;this.children=[];this.parentNode=parentNode||null;}_createClass(TreeNode,[{key:'clone',value:function clone(parentNode){var treeNode=new TreeNode({path:this.path,object:this.object.clone(),isLoaded:this.isLoaded,isPreload:this.isPreload,isExpanded:this.isExpanded,parentNode:parentNode||null});treeNode.children=this.children.map(function(child){var newChild=child.clone(treeNode);return newChild;});return treeNode;}},{key:'setParent',value:function setParent(parentNode){this.path=this.generatePath(parentNode);this.parentNode=parentNode;this.isLoaded=false;// update parentNode need loaded data again;\n}},{key:'hasChildren',value:function hasChildren(){return this.children.length!==0;}},{key:'addChild',value:function addChild(node){node.setParent(this);var children=this.children;if(node.object.isDir()){this.children.unshift(node);}else{var index=-1;for(var i=0;i<children.length;i++){if(!children[i].object.isDir()){index=i;break;}}if(index===-1){// -1: all the node object is dir;\nthis.children.push(node);}else if(index===0){// 0: all the node object is file\nthis.children.unshift(node);}else{this.children.splice(index,0,node);}}}},{key:'addChildren',value:function addChildren(nodeList){var _this=this;nodeList.forEach(function(node){node.setParent(_this);});this.children=nodeList;}},{key:'deleteChild',value:function deleteChild(node){var children=this.children.filter(function(item){return item!==node;});this.children=children;}},{key:'rename',value:function rename(newName){this.object.name=newName;this.path=this.generatePath(this.parentNode);if(this.isExpanded){this.updateChildrenPath(this);}else{this.isLoaded=false;}}},{key:'updateChildrenPath',value:function updateChildrenPath(node){var children=node.children;children.forEach(function(child){child.path=child.generatePath(child.parentNode);if(child.isExpanded){child.updateChildrenPath(child);}else{child.isLoaded=false;}});}},{key:'updateObjectProperties',value:function updateObjectProperties(keys,newValues){var _this2=this;if(Array.isArray(keys)&&Array.isArray(newValues)){keys.forEach(function(key,index){_this2.object[key]=newValues[index];});}else{this.object[keys]=newValues;}}},{key:'generatePath',value:function generatePath(parentNode){return parentNode.path==='/'?parentNode.path+this.object.name:parentNode.path+'/'+this.object.name;}},{key:'serializeToJson',value:function serializeToJson(){var children=[];if(this.hasChildren){children=this.children.map(function(m){return m.serializeToJson();});}var treeNode={path:this.path,object:this.object.clone(),isLoaded:this.isLoaded,isPreload:this.isPreload,isExpanded:this.isExpanded,parentNode:this.parentNode,children:children};return treeNode;}}],[{key:'deserializefromJson',value:function deserializefromJson(json){var path=json.path,object=json.object,isLoaded=json.isLoaded,isPreload=json.isPreload,isExpanded=json.isExpanded,parentNode=json.parentNode,_json$children=json.children,children=_json$children===undefined?[]:_json$children;object=object.clone();var treeNode=new TreeNode({path:path,object:object,isLoaded:isLoaded,isPreload:isPreload,isExpanded:isExpanded,parentNode:parentNode,children:children.map(function(item){return TreeNode.deserializefromJson(item);})});return treeNode;}}]);return TreeNode;}();exports.default=TreeNode;\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[1155]);\n\n\n// WEBPACK FOOTER //\n// js/repoview.js","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  children: PropTypes.object.isRequired,\n};\n\nconst modalRoot = document.getElementById('modal-wrapper');\nclass ModalPortal extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.el = document.createElement('div');\n  }\n\n  componentDidMount() {\n    modalRoot.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    modalRoot.removeChild(this.el);\n  }\n\n  render() {\n    return ReactDOM.createPortal(\n      this.props.children,\n      this.el,\n    );\n  }\n}\n\nModalPortal.propTypes = propTypes;\n\nexport default ModalPortal;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/modal-portal.js","class RepoTag {\n  constructor(object) {\n    this.id = object.repo_tag_id;\n    this.fileCount = object.files_count;\n    this.name = object.tag_name;\n    this.color = object.tag_color;\n  }\n}\n\nexport default RepoTag;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/repo-tag.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot, mediaUrl, logoPath, logoWidth, logoHeight, siteTitle } from '../utils/constants'; \n\nconst propTypes = {\n  onCloseSidePanel: PropTypes.func.isRequired,\n};\n\nclass Logo extends React.Component {\n\n  closeSide = () => {\n    this.props.onCloseSidePanel();\n  }\n  \n  render() {\n    return (\n      <div className=\"top-logo\">\n        <a href={siteRoot} id=\"logo\">\n          <img src={mediaUrl + logoPath} height={logoHeight} width={logoWidth} title={siteTitle} alt=\"logo\" />\n        </a>\n        <a \n          className=\"sf2-icon-x1 sf-popover-close side-panel-close action-icon d-md-none\"\n          onClick={this.closeSide} \n          title=\"Close\" \n          aria-label=\"Close\" \n        >\n        </a>\n      </div>\n    );\n  }\n}\n\nLogo.propTypes = propTypes;\n\nexport default Logo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/logo.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport RepoTag from '../../models/repo-tag';\nrequire('../../css/repo-tag.css');\n\nconst TagItemPropTypes = {\n  repoID: PropTypes.string.isRequired,\n  repoTag: PropTypes.object.isRequired,\n  filePath: PropTypes.string.isRequired,\n  fileTagList: PropTypes.array.isRequired,\n  onEditFileTag: PropTypes.func.isRequired,\n};\n\nclass TagItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSelectedTag: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({\n      showSelectedTag: true\n    });\n  }\n\n  onMouseLeave = () => {\n    this.setState({\n      showSelectedTag: false\n    });\n  }\n\n  getRepoTagIdList = () => {\n    let repoTagIdList = [];\n    let fileTagList = this.props.fileTagList;\n    fileTagList.map((fileTag) => {\n      repoTagIdList.push(fileTag.repo_tag_id);\n    });\n    return repoTagIdList;\n  }\n\n  onEditFileTag = () => {\n    let { repoID, repoTag, filePath } = this.props;\n    let repoTagIdList = this.getRepoTagIdList();\n    if (repoTagIdList.indexOf(repoTag.id) === -1) {\n      let id = repoTag.id;\n      seafileAPI.addFileTag(repoID, filePath, id).then(() => {\n        repoTagIdList = this.getRepoTagIdList();\n        this.props.onEditFileTag();\n      });\n    } else {\n      let fileTag = null;\n      let fileTagList = this.props.fileTagList;\n      for(let i = 0; i < fileTagList.length; i++) {\n        if (fileTagList[i].repo_tag_id === repoTag.id) {\n          fileTag = fileTagList[i];\n          break;\n        }\n      } \n      seafileAPI.deleteFileTag(repoID, fileTag.id).then(() => {\n        repoTagIdList = this.getRepoTagIdList();\n        this.props.onEditFileTag();\n      });\n    }\n  }\n\n  render() {\n    let repoTag = this.props.repoTag;\n    let repoTagIdList = this.getRepoTagIdList();\n    let drakColor = Utils.getDarkColor(repoTag.color);\n    return (\n      <li key={repoTag.id} className=\"tag-list-item\" onClick={this.onEditFileTag} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <div className=\"tag-demo\" style={{backgroundColor:repoTag.color}}>\n          <span className={`${this.state.showSelectedTag ? 'show-tag-selected': ''}`} style={{backgroundColor: drakColor}}></span>\n          <span className=\"tag-name\">{repoTag.name}</span>\n          {repoTagIdList.indexOf(repoTag.id) > -1 &&\n            <i className=\"fas fa-check tag-operation\"></i>\n          }\n        </div>\n      </li>\n    );\n  }\n\n}\n\nTagItem.propTypes = TagItemPropTypes;\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  fileTagList: PropTypes.array.isRequired,\n  onFileTagChanged: PropTypes.func.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n};\n\nclass EditFileTagDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      repotagList: [],\n    };\n  }\n\n  componentDidMount() {\n    this.getRepoTagList();\n  }\n\n  getRepoTagList = () => {\n    let repoID = this.props.repoID;\n    seafileAPI.listRepoTags(repoID).then(res => {\n      let repotagList = [];\n      res.data.repo_tags.forEach(item => {\n        let repoTag = new RepoTag(item);\n        repotagList.push(repoTag);\n      });\n      this.setState({\n        repotagList: repotagList,\n      });\n    });\n  }\n\n  toggle = () => {\n    this.props.toggleCancel();\n  }\n\n  onEditFileTag = () => {\n    this.props.onFileTagChanged();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Select Tags')}</ModalHeader>\n        <ModalBody>\n          {\n            <ul className=\"tag-list tag-list-container\">\n              {this.state.repotagList.map((repoTag) => {\n                return (\n                  <TagItem \n                    key={repoTag.id} \n                    repoTag={repoTag}\n                    repoID={this.props.repoID}\n                    filePath={this.props.filePath}\n                    fileTagList={this.props.fileTagList}\n                    onEditFileTag={this.onEditFileTag}\n                  />\n                );\n              })}\n            </ul>\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button onClick={this.toggle}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nEditFileTagDialog.propTypes = propTypes;\n\nexport default EditFileTagDialog;\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/edit-filetag-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal } from 'reactstrap';\nimport AddRelatedFileDialog from './add-related-file-dialog';\nimport ListRelatedFileDialog from './list-related-file-dialog';\nimport ModalPortal from '../modal-portal';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  onRelatedFileChange: PropTypes.func.isRequired,\n  dirent: PropTypes.object.isRequired,\n  relatedFiles: PropTypes.array,\n  viewMode: PropTypes.oneOf(['list_related_file','add_related_file']).isRequired,\n};\n\nclass RelatedFileDialogs extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showListRelatedFileDialog: props.viewMode === 'list_related_file',\n    };\n  }\n\n  onAddRelatedFileToggle = () => {\n    this.setState({\n      showListRelatedFileDialog: false,\n    });\n  }\n\n  onCloseAddRelatedFileDialog = () => {\n    this.setState({\n      showListRelatedFileDialog: true,\n    });\n  }\n\n  render() {\n    return (\n      <ModalPortal>\n        <Modal isOpen={true} toggle={this.props.toggleCancel} size='lg' style={{width:'650px'}}>\n          {this.state.showListRelatedFileDialog && \n            <ListRelatedFileDialog\n              filePath={this.props.filePath}\n              relatedFiles={this.props.relatedFiles}\n              repoID={this.props.repoID}\n              toggleCancel={this.props.toggleCancel}\n              addRelatedFileToggle={this.onAddRelatedFileToggle}\n              onRelatedFileChange={this.props.onRelatedFileChange}\n            />\n          }\n          {!this.state.showListRelatedFileDialog && \n            <AddRelatedFileDialog\n              filePath={this.props.filePath}\n              repoID={this.props.repoID}\n              toggleCancel={this.onCloseAddRelatedFileDialog}\n              onRelatedFileChange={this.props.onRelatedFileChange}\n              dirent={this.props.dirent}\n              onClose={this.props.toggleCancel}\n            />\n          }\n        </Modal>\n      </ModalPortal>\n    )\n  }\n}\n\nRelatedFileDialogs.propTypes = propTypes;\n\nexport default RelatedFileDialogs\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/related-file-dialogs.js","import React from 'react';\n\nfunction Loading() {\n  return (\n    <span className=\"loading-icon loading-tip\"></span>\n  );\n}\n\nexport default Loading;\n\n\n// WEBPACK FOOTER //\n// ./src/components/loading.js","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport moment from 'moment';\nimport { gettext, repoID, siteRoot, initialPath, isDir, canGenerateShareLink, canGenerateUploadLink, username } from './utils/constants';\nimport { seafileAPI } from './utils/seafile-api';\nimport { Utils } from './utils/utils';\nimport collabServer from './utils/collab-server';\nimport SidePanel from './pages/repo-wiki-mode/side-panel';\nimport MainPanel from './pages/repo-wiki-mode/main-panel';\nimport TreeNode from './components/tree-view/tree-node';\nimport treeHelper from './components/tree-view/tree-helper';\nimport toaster from './components/toast';\nimport LibDecryptDialog from './components/dialog/lib-decrypt-dialog';\nimport ModalPortal from './components/modal-portal';\nimport Dirent from './models/dirent';\nimport FileTag from './models/file-tag';\nimport RepoTag from './models/repo-tag';\nimport RepoInfo from './models/repo-info';\n\nimport './assets/css/fa-solid.css';\nimport './assets/css/fa-regular.css';\nimport './assets/css/fontawesome.css';\nimport './css/layout.css';\nimport './css/side-panel.css';\nimport './css/wiki.css';\nimport './css/toolbar.css';\nimport './css/search.css';\n\nclass Wiki extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoName: '',\n      repoEncrypted: false,\n      isGroupOwnedRepo: false,\n      isAdmin: false,\n      ownerEmail: '',\n      userPerm: '',\n\n      path: '',\n      pathExist: true,\n      treeData: treeHelper.buildTree(),\n      closeSideBar: false,\n      currentNode: null,\n      isTreeDataLoading: true,\n      isDirentListLoading: true,\n      isViewFile: false,\n      sortBy: 'name', // 'name' or 'time'\n      sortOrder: 'asc', // 'asc' or 'desc'\n      direntList: [],\n      isFileLoading: true,\n      content: '',\n      lastModified: '',\n      latestContributor: '',\n      permission: '',\n      isDirentSelected: false,\n      isAllDirentSelected: false,\n      selectedDirentList: [],\n      libNeedDecrypt: false,\n      isDraft: false,\n      hasDraft: false,\n      draftID: '',\n      dirID: '',\n      usedRepoTags: [],\n      readmeMarkdown: null,\n      draftCounts: 0,\n    };\n    window.onpopstate = this.onpopstate;\n    this.hash = '';\n    this.lastModifyTime = new Date();\n  }\n\n  componentWillMount() {\n    const hash = window.location.hash;\n    if (hash.slice(0, 1) === '#') {\n      this.hash = hash;\n    }\n  }\n\n  componentDidMount() {\n    seafileAPI.getRepoInfo(repoID).then(res => {\n      let repoInfo = new RepoInfo(res.data);\n      this.setState({\n        libNeedDecrypt: res.data.lib_need_decrypt, \n        repoName: repoInfo.repo_name,\n        repoEncrypted: repoInfo.encrypted,\n        isVirtual: repoInfo.is_virtual,\n        isAdmin: repoInfo.is_admin,\n        ownerEmail: repoInfo.owner_email\n      });\n\n      const ownerEmail = repoInfo.owner_email;\n      if (repoInfo.owner_email.indexOf('@seafile_group') != -1) {\n        const groupID = ownerEmail.substring(0, ownerEmail.indexOf('@'));\n        this.getGroupInfo(groupID);\n        this.setState({\n          isGroupOwnedRepo: true\n        });\n      }\n\n      if (!res.data.lib_need_decrypt) {\n        this.loadWikiData();\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    collabServer.unwatchRepo(repoID, this.onRepoUpdateEvent);\n  }\n\n  componentDidUpdate() {\n    this.lastModifyTime = new Date();\n  }\n\n  getGroupInfo = (groupID) => {\n    seafileAPI.getGroup(groupID).then(res => {\n      if (res.data.admins.indexOf(username) != -1) {\n        this.setState({isDepartmentAdmin: true});\n      }\n    });\n  }\n\n  onRepoUpdateEvent = () => {\n    let currentTime = new Date();\n    if ((parseFloat(currentTime - this.lastModifyTime)/1000) <= 5) {\n      return;\n    }\n    let { path, dirID } = this.state;\n    seafileAPI.dirMetaData(repoID, path).then((res) => {\n      if (res.data.id !== dirID) {\n        toaster.notify(\n          <span>\n            {gettext('This folder has been updated. ')}\n            <a href='' >{gettext('Refresh')}</a>\n          </span>,\n          {id: 'repo_updated', duration: 3600}\n        );\n      }\n    });\n  }\n\n  loadWikiData = () => {\n    // listen current repo\n    collabServer.watchRepo(repoID, this.onRepoUpdateEvent);\n\n    // list used FileTags\n    this.updateUsedRepoTags();\n\n    // list draft counts and revierw counts\n    seafileAPI.getRepoDraftCounts(repoID).then(res => {\n      this.setState({\n        draftCounts: res.data.draft_counts,\n      });\n    });\n\n    // load side-panel data\n    this.loadSidePanel(initialPath);\n\n    // load main-panel data\n    if (isDir === 'None') {\n      this.setState({pathExist: false});\n    } else if (isDir === 'True') {\n      this.showDir(initialPath);\n    } else if (isDir === 'False') {\n      this.showFile(initialPath);\n    }\n    \n  }\n\n  loadSidePanel = (initialPath) => {\n    \n    if (initialPath === '/' || isDir === 'None') {\n      seafileAPI.listDir(repoID, '/').then(res => {\n        let tree = this.state.treeData;\n        this.addResponseListToNode(res.data.dirent_list, tree.root);\n        this.setState({\n          isTreeDataLoading: false,\n          treeData: tree\n        });\n      }).catch(() => {\n        this.setState({isLoadFailed: true});\n      });\n    } else {\n      this.loadNodeAndParentsByPath(initialPath);\n    }\n  }\n\n  showDir = (path) => {\n    this.loadDirentList(path);\n    this.setState({\n      path: path,\n      isViewFile: false\n    });\n\n    // update location url\n    let url = siteRoot + 'wiki/lib/' + repoID + Utils.encodePath(path);\n    window.history.pushState({ url: url, path: path}, path, url);\n  }\n\n  showFile = (filePath) => {\n    this.setState({\n      path: filePath,\n      isViewFile: true\n    });\n\n    this.setState({isFileLoading: true});\n    seafileAPI.getFileInfo(repoID, filePath).then((res) => {\n      let { mtime, permission, last_modifier_name, is_draft, has_draft, draft_id } = res.data;\n      seafileAPI.getFileDownloadLink(repoID, filePath).then((res) => {\n        seafileAPI.getFileContent(res.data).then((res) => {\n          this.setState({\n            content: res.data,\n            permission: permission,\n            latestContributor: last_modifier_name,\n            lastModified: moment.unix(mtime).fromNow(),\n            isFileLoading: false,\n            isDraft: is_draft,\n            hasDraft: has_draft,\n            draftID: draft_id\n          });\n        });\n      });\n    });\n\n    let fileUrl = siteRoot + 'wiki/lib/' + repoID + Utils.encodePath(filePath);\n    window.history.pushState({url: fileUrl, path: filePath}, filePath, fileUrl);\n  }\n\n  updateReadmeMarkdown = (direntList) => {\n    this.setState({readmeMarkdown: null});\n    direntList.some(item => {\n      let fileName = item.name.toLowerCase();\n      if (fileName === 'readme.md' || fileName === 'readme.markdown') {\n        this.setState({readmeMarkdown: item});\n        return true;\n      }\n    });\n  }\n\n  loadDirentList = (path) => {\n    this.setState({isDirentListLoading: true});\n    seafileAPI.listDir(repoID, path, {'with_thumbnail': true}).then(res => {\n      let direntList = [];\n      res.data.dirent_list.forEach(item => {\n        let fileName = item.name.toLowerCase();\n        if (fileName === 'readme.md' || fileName === 'readme.markdown') {\n          this.setState({readmeMarkdown: item});\n        }\n        let dirent = new Dirent(item);\n        direntList.push(dirent);\n      });\n\n      this.setState({\n        userPerm: res.data.user_perm,\n        direntList: Utils.sortDirents(direntList, this.state.sortBy, this.state.sortOrder),\n        isDirentListLoading: false,\n        dirID: res.data.dir_id,\n      });\n\n      if (!this.state.repoEncrypted && direntList.length) {\n        this.getThumbnails(repoID, path, this.state.direntList);\n      }\n    });\n  }\n\n  getThumbnails = (repoID, path, direntList) => {\n    let items = direntList.filter((item) => {\n      return Utils.imageCheck(item.name) && !item.encoded_thumbnail_src;\n    });\n    if (items.length == 0) {\n      return ;\n    }\n\n    const _this = this;\n    const len = items.length;\n    const thumbnailSize = 48;\n    let getThumbnail = (i) => {\n      const curItem = items[i];\n      const curItemPath = [path, curItem.name].join('/');\n      seafileAPI.createThumbnail(repoID, curItemPath, thumbnailSize).then((res) => {\n        curItem.encoded_thumbnail_src = res.data.encoded_thumbnail_src;\n      }).catch((error) => {\n        // do nothing\n      }).then(() => {\n        if (i < len - 1) {\n          getThumbnail(++i);\n        } else {\n          _this.setState({\n            direntList: direntList \n          });\n        }\n      });\n    };\n    getThumbnail(0);\n  }\n\n  onLinkClick = (link) => {\n    const url = link;\n    if (Utils.isInternalMarkdownLink(url, repoID)) {\n      let path = Utils.getPathFromInternalMarkdownLink(url, repoID);\n      this.showFile(path);\n    } else if (Utils.isInternalDirLink(url, repoID)) {\n      let path = Utils.getPathFromInternalDirLink(url, repoID);\n      this.showDir(path);\n    } else {\n      window.open(url);\n    }\n  }\n\n  updateUsedRepoTags = () => {\n    seafileAPI.listRepoTags(repoID).then(res => {\n      let usedRepoTags = [];\n      res.data.repo_tags.forEach(item => {\n        let usedRepoTag = new RepoTag(item);\n        if (usedRepoTag.fileCount > 0) {\n          usedRepoTags.push(usedRepoTag);\n        }\n      });\n      this.setState({usedRepoTags: usedRepoTags});\n    });\n  }\n\n  updateDirent = (dirent, paramKey, paramValue) => {\n    let newDirentList = this.state.direntList.map(item => {\n      if (item.name === dirent.name) {\n        item[paramKey] = paramValue;\n      }\n      return item;\n    });\n    this.setState({direntList: newDirentList});\n  }\n\n  onpopstate = (event) => {\n    if (event.state && event.state.path) {\n      let path = event.state.path;\n      if (Utils.isMarkdownFile(path)) {\n        this.showFile(path);\n      } else {\n        this.loadDirentList(path);\n        this.setState({\n          path: path,\n          isViewFile: false\n        });\n      }\n    }\n  }\n\n  onSearchedClick = (item) => {\n    let path = item.is_dir ? item.path.slice(0, item.path.length - 1) : item.path; \n    if (this.state.currentPath === path) {\n      return;\n    }\n\n    // load sidePanel\n    let index = -1;\n    let paths = Utils.getPaths(path);\n    for (let i = 0; i < paths.length; i++) {\n      let node = this.state.treeData.getNodeByPath(node);\n      if (!node) {\n        index = i;\n        break;\n      } \n    }\n    if (index === -1) { // all the data has been loaded already.\n      let node = this.state.treeData.getNodeByPath(path);\n      this.setState({currentNode: node});\n    } else {\n      this.loadNodeAndParentsByPath(path);\n    }\n\n    // load mainPanel\n    if (item.is_dir) {\n      this.showDir(path);\n    } else {\n      if (Utils.isMarkdownFile(path)) {\n        this.showFile(path);\n      } else {\n        let url = siteRoot + 'lib/' + item.repo_id + '/file' + Utils.encodePath(path);\n        let newWindow = window.open('about:blank');\n        newWindow.location.href = url;\n      }\n    }\n  }\n\n  onMainNavBarClick = (nodePath) => {\n    //just for dir\n    this.resetSelected();\n    let tree = this.state.treeData.clone();\n    let node = tree.getNodeByPath(nodePath);\n    tree.expandNode(node);\n\n    this.setState({treeData: tree, currentNode: node});\n    this.showDir(node.path);\n  }\n\n  onAddFolder = (dirPath) => {\n    // todo Double name check\n    seafileAPI.createDir(repoID, dirPath).then(() => {\n      let name = Utils.getFileName(dirPath);\n      let parentPath = Utils.getDirName(dirPath);\n\n      this.addNodeToTree(name, parentPath, 'dir');\n      if (parentPath === this.state.path && !this.state.isViewFile) {\n        this.addDirent(name, 'dir');\n      }\n    }).catch(() => {\n      // return error message\n    });\n  }\n\n  onAddFile = (filePath, isDraft) => {\n    // Double name check\n    seafileAPI.createFile(repoID, filePath, isDraft).then(res => {\n      let name = Utils.getFileName(filePath);\n      let parentPath = Utils.getDirName(filePath);\n\n      this.addNodeToTree(name, parentPath, 'file');\n      if (parentPath === this.state.path && !this.state.isViewFile) {\n        this.addDirent(name, 'file', res.data.size);\n      }\n    }).catch(() => {\n      // todo\n    });\n  }\n\n  onRenameTreeNode = (node, newName) => {\n    this.renameItem(node.path, node.object.isDir(), newName);\n  }\n\n  onDeleteTreeNode = (node) => {\n    this.deleteItem(node.path, node.object.isDir());\n  }\n\n  onMainPanelItemRename = (dirent, newName) => {\n    let path = Utils.joinPath(this.state.path, dirent.name);\n    this.renameItem(path, dirent.isDir(), newName);\n  }\n\n  onMainPanelItemDelete = (dirent) => {\n    let path = Utils.joinPath(this.state.path, dirent.name);\n    this.deleteItem(path, dirent.isDir());\n  }\n\n  renameItem = (path, isDir, newName) => {\n    //validate task\n    if (isDir) {\n      seafileAPI.renameDir(repoID, path, newName).then(() => {\n        this.renameItemAjaxCallback(path, newName);\n      }).catch(() => {\n        //todos;\n      });\n    } else {\n      seafileAPI.renameFile(repoID, path, newName).then(() => {\n        this.renameItemAjaxCallback(path, newName);\n      }).catch(() => {\n        //todos;\n      });\n    }\n  }\n\n  renameItemAjaxCallback(path, newName) {\n    this.renameTreeNode(path, newName);\n    this.renameDirent(path, newName);\n  }\n\n  deleteItem(path, isDir) {\n    if (isDir) {\n      seafileAPI.deleteDir(repoID, path).then(() => {\n        this.deleteItemAjaxCallback(path, isDir);\n      }).catch(() => {\n        //todos;\n      });\n    } else {\n      seafileAPI.deleteFile(repoID, path).then(() => {\n        this.deleteItemAjaxCallback(path, isDir);\n      }).catch(() => {\n        //todos;\n      });\n    }\n  }\n\n  deleteItemAjaxCallback(path) {\n    this.deleteTreeNode(path);\n    this.deleteDirent(path);\n  }\n\n  onMoveItem = (destRepo, dirent, moveToDirentPath) => {\n    //just for view list state\n    let dirName = dirent.name;\n    let direntPath = Utils.joinPath(this.state.path, dirName);\n    seafileAPI.moveDir(repoID, destRepo.repo_id,moveToDirentPath, this.state.path, dirName).then(res => {\n      let nodeName = res.data[0].obj_name;\n      this.moveTreeNode(direntPath, moveToDirentPath, destRepo, nodeName);\n      this.moveDirent(direntPath);\n\n      let message = gettext('Successfully moved %(name)s.');\n      message = message.replace('%(name)s', dirName);\n      toaster.success(message);\n    }).catch(() => {\n      let message = gettext('Failed to move %(name)s');\n      message = message.replace('%(name)s', dirName);\n      toaster.danger(message);\n    });\n  }\n\n  onCopyItem = (destRepo, dirent, copyToDirentPath) => {\n    //just for view list state\n    let dirName = dirent.name;\n    let direntPath = Utils.joinPath(this.state.path, dirName);\n    seafileAPI.copyDir(repoID, destRepo.repo_id, copyToDirentPath, this.state.path, dirName).then(res => {\n      let nodeName = res.data[0].obj_name;\n      this.copyTreeNode(direntPath, copyToDirentPath, destRepo, nodeName);\n      let message = gettext('Successfully copied %(name)s.');\n      message = message.replace('%(name)s', dirName);\n      toaster.success(message);\n    }).catch(() => {\n      let message = gettext('Failed to copy %(name)s');\n      message = message.replace('%(name)s', dirName);\n      toaster.danger(message);\n    });\n  }\n\n  onMoveItems = (destRepo, destDirentPath) => {\n    let direntPaths = this.getSelectedDirentPaths();\n    let dirNames = this.getSelectedDirentNames();\n\n    seafileAPI.moveDir(repoID, destRepo.repo_id, destDirentPath, this.state.path, dirNames).then(res => {\n      let names = res.data.map(item => {\n        return item.obj_name;\n      });\n      direntPaths.forEach((direntPath, index) => {\n        this.moveTreeNode(direntPath, destDirentPath, destRepo, names[index]);\n        this.moveDirent(direntPath);\n      });\n      let message = gettext('Successfully moved %(name)s.');\n      message = message.replace('%(name)s', dirNames);\n      toaster.success(message);\n    }).catch(() => {\n      let message = gettext('Failed to move %(name)s');\n      message = message.replace('%(name)s', dirNames);\n      toaster.danger(message);\n    });\n  }\n\n  onCopyItems = (destRepo, destDirentPath) => {\n    let direntPaths = this.getSelectedDirentPaths();\n    let dirNames = this.getSelectedDirentNames();\n\n    seafileAPI.copyDir(repoID, destRepo.repo_id, destDirentPath, this.state.path, dirNames).then(res => {\n      let names = res.data.map(item => {\n        return item.obj_name;\n      });\n      direntPaths.forEach((direntPath, index) => {\n        this.copyTreeNode(direntPath, destDirentPath, destRepo, names[index]);\n      });\n      let message = gettext('Successfully copied %(name)s.');\n      message = message.replace('%(name)s', dirNames);\n      toaster.success(message);\n    }).catch(() => {\n      let message = gettext('Failed to copy %(name)s');\n      message = message.replace('%(name)s', dirNames);\n      toaster.danger(message);\n    });\n  }\n\n  onDeleteItems = () => {\n    let direntPaths = this.getSelectedDirentPaths();\n    let dirNames = this.getSelectedDirentNames();\n\n    seafileAPI.deleteMutipleDirents(repoID, this.state.path, dirNames).then(res => {\n      direntPaths.forEach(direntPath => {\n        this.deleteTreeNode(direntPath);\n        this.deleteDirent(direntPath);\n      });\n    });\n  }\n\n  onDirentClick = (dirent) => {\n    this.resetSelected();\n    let direntPath = Utils.joinPath(this.state.path, dirent.name);\n    if (dirent.isDir()) {  // is dir\n      this.loadTreeNodeByPath(direntPath);\n      this.showDir(direntPath);\n    } else {  // is file\n      if (Utils.isMarkdownFile(direntPath)) {\n        this.showFile(direntPath);\n      } else {\n        const w=window.open('about:blank');\n        const url = siteRoot + 'lib/' + repoID + '/file' + Utils.encodePath(direntPath);\n        w.location.href = url;\n      }\n    }\n  }\n\n  onDirentSelected = (dirent) => {\n    let direntList = this.state.direntList.map(item => {\n      if (item.name === dirent.name) {\n        item.isSelected = !item.isSelected;\n      }\n      return item;\n    });\n    let selectedDirentList = direntList.filter(item => {\n      return item.isSelected;\n    });\n\n    if (selectedDirentList.length) {\n      this.setState({isDirentSelected: true});\n      if (selectedDirentList.length === direntList.length) {\n        this.setState({\n          isAllDirentSelected: true,\n          direntList: direntList,\n          selectedDirentList: selectedDirentList,\n        });\n      } else {\n        this.setState({\n          isAllDirentSelected: false,\n          direntList: direntList,\n          selectedDirentList: selectedDirentList\n        });\n      }\n    } else {\n      this.setState({\n        isDirentSelected: false,\n        isAllDirentSelected: false,\n        direntList: direntList,\n        selectedDirentList: []\n      });\n    }\n  }\n\n  onAllDirentSelected = () => {\n    if (this.state.isAllDirentSelected) {\n      let direntList = this.state.direntList.map(item => {\n        item.isSelected = false;\n        return item;\n      });\n      this.setState({\n        isDirentSelected: false,\n        isAllDirentSelected: false,\n        direntList: direntList,\n        selectedDirentList: [],\n      });\n    } else {\n      let direntList = this.state.direntList.map(item => {\n        item.isSelected = true;\n        return item;\n      });\n      this.setState({\n        isDirentSelected: true,\n        isAllDirentSelected: true,\n        direntList: direntList,\n        selectedDirentList: direntList,\n      });\n    }\n  }\n\n  onFileTagChanged = (dirent, direntPath) => {\n    seafileAPI.listFileTags(repoID, direntPath).then(res => {\n      let fileTags = res.data.file_tags.map(item => {\n        return new FileTag(item);\n      });\n      this.updateDirent(dirent, 'file_tags', fileTags);\n    });\n\n    this.updateUsedRepoTags();\n  }\n\n  onFileUploadSuccess = (direntObject) => {\n    let isExist = this.state.direntList.some(item => { \n      return item.name === direntObject.name && item.type === direntObject.type;\n    });\n    if (isExist) {\n      let direntList = this.state.direntList;\n      for (let i = 0; i < direntList.length; i++) {\n        let dirent = direntList[i];\n        if (dirent.name === direntObject.name && dirent.type === direntObject.type) {\n          let mtime = moment.unix(direntObject.mtime).fromNow();\n          this.updateDirent(dirent, 'mtime', mtime);  // todo file size is need update too, api is not return;\n          break;\n        }\n      }\n    } else {\n      direntObject.permission = 'rw';\n      let dirent = new Dirent(direntObject);\n      this.addNodeToTree(dirent.name, this.state.path, dirent.type);\n      if (direntObject.type === 'dir') {\n        this.setState({direntList: [dirent, ...this.state.direntList]});\n      } else {\n        this.setState({direntList: [...this.state.direntList, dirent]});\n        this.updateReadmeMarkdown(this.state.direntList);\n      }\n    }\n  }\n\n  addDirent = (name, type, size) => {\n    let item = this.createDirent(name, type, size);\n    let direntList = this.state.direntList;\n    if (type === 'dir') {\n      direntList.unshift(item);\n    } else {\n      // there will be there conditions;\n      // first: direntList.length === 0;\n      // second: all the direntList's items are dir;\n      // third: direntList has dir and file;\n      let length = direntList.length;\n      if (length === 0 || direntList[length - 1].type === 'dir') {\n        direntList.push(item);\n      } else {\n        let index = 0;\n        for (let i = 0; i <= length; i++) {\n          if (direntList[i].type === 'file') {\n            index = i;\n            break;\n          }\n        }\n        direntList.splice(index, 0, item);\n      }\n    }\n    this.setState({direntList: direntList});\n    this.updateReadmeMarkdown(direntList);\n  }\n\n  renameDirent = (direntPath, newName) => {\n    let parentPath = Utils.getDirName(direntPath);\n    let newDirentPath = Utils.joinPath(parentPath, newName);\n    if (direntPath === this.state.path) {\n      // the renamed item is current viewed item\n      // example: direntPath = /A/B/C, state.path = /A/B/C\n\n      this.setState({ path: newDirentPath });\n      let url = siteRoot + 'wiki/lib/' + repoID + newDirentPath;\n      window.history.replaceState({ url: url, path: newDirentPath}, newDirentPath, url);\n    } else if (Utils.isChildPath(direntPath, this.state.path)) {\n      // example: direntPath = /A/B/C/D, state.path = /A/B/C\n      let oldName = Utils.getFileName(direntPath);\n      let direntList = this.state.direntList.map(item => {\n        if (item.name === oldName) {\n          item.name = newName;\n        }\n        return item;\n      });\n      this.setState({ direntList: direntList });\n      this.updateReadmeMarkdown(direntList);\n    } else if (Utils.isAncestorPath(direntPath, this.state.path)) {\n      // example: direntPath = /A/B, state.path = /A/B/C\n      let newPath = Utils.renameAncestorPath(this.state.path, direntPath, newDirentPath);\n      this.setState({ path: newPath });\n    }\n  }\n\n  deleteDirent(direntPath) {\n    if (direntPath === this.state.path) {\n      // The deleted item is current item\n      let parentPath = Utils.getDirName(direntPath);\n      this.showDir(parentPath);\n    } else if (Utils.isChildPath(direntPath, this.state.path)) {\n      // The deleted item is inside current path\n      let name = Utils.getFileName(direntPath);\n      let direntList = this.state.direntList.filter(item => {\n        return item.name !== name;\n      });\n      this.setState({ direntList: direntList });\n      this.updateReadmeMarkdown(direntList);\n    } else if (Utils.isAncestorPath(direntPath, this.state.path)) {\n      // the deleted item is ancester of the current item\n      let parentPath = Utils.getDirName(direntPath);\n      this.showDir(parentPath);\n    }\n    // else do nothing\n  }\n\n  moveDirent = (direntPath) => {\n    let name = direntPath.slice(direntPath.lastIndexOf('/') + 1);\n    let direntList = this.state.direntList.filter(item => {\n      return item.name !== name;\n    });\n    this.setState({direntList: direntList});\n    this.updateReadmeMarkdown(direntList);\n  }\n\n  onSideNavMenuClick = () => {\n    this.setState({\n      closeSideBar: !this.state.closeSideBar,\n    });\n  }\n\n  onCloseSide = () => {\n    this.setState({\n      closeSideBar: !this.state.closeSideBar,\n    });\n  }\n\n  loadTreeNodeByPath = (path) => {\n    let tree = this.state.treeData.clone();\n    let node = tree.getNodeByPath(path);\n    if (!node.isLoaded) {\n      seafileAPI.listDir(repoID, node.path).then(res => {\n        this.addResponseListToNode(res.data.dirent_list, node);\n        let parentNode = tree.getNodeByPath(node.parentNode.path);\n        parentNode.isExpanded = true;\n        this.setState({\n          treeData: tree,\n          currentNode: node\n        });\n      });\n    } else {\n      let parentNode = tree.getNodeByPath(node.parentNode.path);\n      parentNode.isExpanded = true;\n      this.setState({treeData: tree, currentNode: node}); //tree\n    }\n  }\n\n  loadNodeAndParentsByPath = (path) => {\n    let tree = this.state.treeData.clone();\n    if (Utils.isMarkdownFile(path)) {\n      path = Utils.getDirName(path);\n    }\n    seafileAPI.listDir(repoID, path, {with_parents: true}).then(res => {\n      let direntList = res.data.dirent_list;\n      let results = {};\n      for (let i = 0; i < direntList.length; i++) {\n        let object = direntList[i];\n        let key = object.parent_dir;\n        if (!results[key]) {\n          results[key] = [];\n        }\n        results[key].push(object);\n      }\n      for (let key in results) {\n        let node = tree.getNodeByPath(key);\n        if (!node.isLoaded) {\n          this.addResponseListToNode(results[key], node);\n        }\n      }\n      this.setState({\n        isTreeDataLoading: false,\n        treeData: tree\n      });\n    }).catch(() => {\n      this.setState({isLoadFailed: true});\n    });\n  }\n\n  onTreeNodeClick = (node) => {\n    this.resetSelected();\n    if (!this.state.pathExist) {\n      this.setState({pathExist: true});\n    }\n\n    if (node.object.isDir()) {\n      if (!node.isLoaded) {\n        let tree = this.state.treeData.clone();\n        node = tree.getNodeByPath(node.path);\n        seafileAPI.listDir(repoID, node.path).then(res => {\n          this.addResponseListToNode(res.data.dirent_list, node);\n          tree.collapseNode(node);\n          this.setState({treeData: tree});\n        });\n      }\n      if (node.path === this.state.path) {\n        if (node.isExpanded) {\n          let tree = treeHelper.collapseNode(this.state.treeData, node);\n          this.setState({treeData: tree});\n        } else {\n          let tree = this.state.treeData.clone();\n          node = tree.getNodeByPath(node.path);\n          tree.expandNode(node);\n          this.setState({treeData: tree});\n        }\n      }\n    }\n\n    if (node.path === this.state.path ) {\n      return;\n    }\n\n    if (node.object.isDir()) {  // isDir\n      this.showDir(node.path);\n    } else {\n      if (Utils.isMarkdownFile(node.path)) {\n        if (node.path !== this.state.path) {\n          this.showFile(node.path);\n        }\n      } else {\n        const w = window.open('about:blank');\n        const url = siteRoot + 'lib/' + repoID + '/file' + Utils.encodePath(node.path);\n        w.location.href = url;\n      }\n    }\n  }\n\n  onTreeNodeCollapse = (node) => {\n    let tree = treeHelper.collapseNode(this.state.treeData, node);\n    this.setState({treeData: tree});\n  }\n\n  onTreeNodeExpanded = (node) => {\n    let tree = this.state.treeData.clone();\n    node = tree.getNodeByPath(node.path);\n    if (!node.isLoaded) {\n      seafileAPI.listDir(repoID, node.path).then(res => {\n        this.addResponseListToNode(res.data.dirent_list, node);\n        this.setState({treeData: tree});\n      });\n    } else {\n      tree.expandNode(node);\n      this.setState({treeData: tree});\n    }\n  }\n\n  addNodeToTree = (name, parentPath, type) => {\n    let node = this.createTreeNode(name, type);\n    let tree = treeHelper.addNodeToParentByPath(this.state.treeData, node, parentPath);\n    this.setState({treeData: tree});\n  }\n\n  renameTreeNode = (path, newName) => {\n    let tree = treeHelper.renameNodeByPath(this.state.treeData, path, newName);\n    this.setState({treeData: tree});\n  }\n\n  deleteTreeNode = (path) => {\n    let tree = treeHelper.deleteNodeByPath(this.state.treeData, path);\n    this.setState({treeData: tree});\n  }\n\n  moveTreeNode = (nodePath, moveToPath, moveToRepo, nodeName) => {\n    if (repoID !== moveToRepo.repo_id) {\n      let tree = treeHelper.deleteNodeByPath(this.state.treeData, nodePath);\n      this.setState({treeData: tree});\n      return;\n    }\n    let tree = treeHelper.moveNodeByPath(this.state.treeData, nodePath, moveToPath, nodeName);\n    this.setState({treeData: tree});\n  }\n\n  copyTreeNode = (nodePath, copyToPath, destRepo, nodeName) => {\n    if (repoID !== destRepo.repo_id) {\n      return;\n    }\n    let tree = treeHelper.copyNodeByPath(this.state.treeData, nodePath, copyToPath, nodeName);\n    this.setState({treeData: tree});\n  }\n\n  createTreeNode(name, type) {\n    let object = this.createDirent(name, type);\n    return new TreeNode({object});\n  }\n\n  createDirent(name, type, size) {\n    let mtime = new Date().getTime()/1000;\n    let dirent = new Dirent({name, type, mtime, size});\n    return dirent;\n  }\n\n  addResponseListToNode = (list, node) => {\n    node.isLoaded = true;\n    node.isExpanded = true;\n    let direntList = list.map(item => {\n      return new Dirent(item);\n    });\n    direntList = Utils.sortDirents(direntList, 'name', 'asc');\n\n    let nodeList = direntList.map(object => {\n      return new TreeNode({object});\n    });\n    node.addChildren(nodeList);\n  }\n\n  getSelectedDirentPaths = () => {\n    let paths = [];\n    this.state.selectedDirentList.forEach(selectedDirent => {\n      paths.push(Utils.joinPath(this.state.path, selectedDirent.name));\n    });\n    return paths;\n  }\n\n  getSelectedDirentNames = () => {\n    let names = [];\n    this.state.selectedDirentList.forEach(selectedDirent => {\n      names.push(selectedDirent.name);\n    });\n    return names;\n  }\n\n  resetSelected = () => {\n    this.setState({\n      isDirentSelected: false,\n      isAllDirentSelected: false,\n    });\n  }\n\n  onLibDecryptDialog = () => {\n    this.setState({libNeedDecrypt: false});\n    this.loadWikiData();\n  }\n\n  goDraftPage = () => {\n    window.location.href = siteRoot + 'drafts/' + this.state.draftID + '/';\n  }\n\n  sortItems = (sortBy, sortOrder) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: sortOrder,\n      items: Utils.sortDirents(this.state.direntList, sortBy, sortOrder)\n    });\n  }\n\n  render() {\n    let { libNeedDecrypt } = this.state;\n    if (libNeedDecrypt) {\n      return (\n        <ModalPortal>\n          <LibDecryptDialog \n            repoID={repoID}\n            onLibDecryptDialog={this.onLibDecryptDialog}\n          />\n        </ModalPortal>\n      );\n    }\n\n    let showShareBtn = false,\n      enableDirPrivateShare = false;\n    const { repoEncrypted, isAdmin, ownerEmail, userPerm, isVirtual, isDepartmentAdmin } = this.state;\n    const isRepoOwner = ownerEmail == username;\n    if (!repoEncrypted && (\n      canGenerateShareLink || canGenerateUploadLink ||\n      isRepoOwner || isAdmin) && (\n      userPerm == 'rw' || userPerm == 'r')) {\n      showShareBtn = true;\n      if (!isVirtual && (isRepoOwner || isAdmin || isDepartmentAdmin)) {\n        enableDirPrivateShare = true;\n      }\n    }\n\n    return (\n      <div id=\"main\" className=\"wiki-main\">\n        <SidePanel\n          isTreeDataLoading={this.state.isTreeDataLoading}\n          onNodeClick={this.onTreeNodeClick}\n          onNodeCollapse={this.onTreeNodeCollapse}\n          onNodeExpanded={this.onTreeNodeExpanded}\n          closeSideBar={this.state.closeSideBar}\n          onCloseSide ={this.onCloseSide}\n          treeData={this.state.treeData}\n          currentPath={this.state.path}\n          currentNode={this.state.currentNode}\n          onAddFolderNode={this.onAddFolder}\n          onAddFileNode={this.onAddFile}\n          onRenameNode={this.onRenameTreeNode}\n          onDeleteNode={this.onDeleteTreeNode}\n        />\n        <MainPanel\n          path={this.state.path}\n          repoName={this.state.repoName}\n          repoEncrypted={this.state.repoEncrypted}\n          isViewFile={this.state.isViewFile}\n          pathExist={this.state.pathExist}\n          isDirentListLoading={this.state.isDirentListLoading}\n          isFileLoading={this.state.isFileLoading}\n          permission={this.state.permission}\n          content={this.state.content}\n          lastModified={this.state.lastModified}\n          latestContributor={this.state.latestContributor}\n          showShareBtn={showShareBtn}\n          enableDirPrivateShare={enableDirPrivateShare}\n          userPerm={userPerm}\n          isRepoOwner={isRepoOwner}\n          isAdmin={isAdmin}\n          isGroupOwnedRepo={this.state.isGroupOwnedRepo}\n          direntList={this.state.direntList}\n          sortBy={this.state.sortBy}\n          sortOrder={this.state.sortOrder}\n          sortItems={this.sortItems}\n          selectedDirentList={this.state.selectedDirentList}\n          updateDirent={this.updateDirent}\n          onSideNavMenuClick={this.onSideNavMenuClick}\n          onSearchedClick={this.onSearchedClick}\n          onMainNavBarClick={this.onMainNavBarClick}\n          onItemClick={this.onDirentClick}\n          onItemSelected={this.onDirentSelected}\n          onItemDelete={this.onMainPanelItemDelete}\n          onItemRename={this.onMainPanelItemRename}\n          onLinkClick={this.onLinkClick}\n          onItemMove={this.onMoveItem}\n          onItemCopy={this.onCopyItem}\n          onAddFile={this.onAddFile}\n          onAddFolder={this.onAddFolder}\n          onFileTagChanged={this.onFileTagChanged}\n          isDirentSelected={this.state.isDirentSelected}\n          isAllDirentSelected={this.state.isAllDirentSelected}\n          onAllDirentSelected={this.onAllDirentSelected}\n          onItemsMove={this.onMoveItems}\n          onItemsCopy={this.onCopyItems}\n          onItemsDelete={this.onDeleteItems}\n          onFileUploadSuccess={this.onFileUploadSuccess}\n          hash={this.hash}\n          isDraft={this.state.isDraft}\n          hasDraft={this.state.hasDraft}\n          goDraftPage={this.goDraftPage}\n          usedRepoTags={this.state.usedRepoTags}\n          readmeMarkdown={this.state.readmeMarkdown}\n          draftCounts={this.state.draftCounts}\n          updateUsedRepoTags={this.updateUsedRepoTags}\n        />\n      </div>\n    );\n  }\n}\n\nReactDOM.render (\n  <Wiki />,\n  document.getElementById('wrapper')\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/repo-wiki-mode.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext, permission } from '../../utils/constants';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport TreeView from '../../components/tree-view/tree-view';\nimport Logo from '../../components/logo';\nimport Loading from '../../components/loading';\nimport ModalPortal from '../../components/modal-portal';\nimport Delete from '../../components/dialog/delete-dialog';\nimport Rename from '../../components/dialog/rename-dialog';\nimport CreateFolder from '../../components/dialog/create-folder-dialog';\nimport CreateFile from '../../components/dialog/create-file-dialog';\n\nconst propTypes = {\n  currentNode: PropTypes.object,\n  isTreeDataLoading: PropTypes.bool.isRequired,\n  treeData: PropTypes.object.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  closeSideBar: PropTypes.bool.isRequired,\n  onCloseSide: PropTypes.func.isRequired,\n  onNodeClick: PropTypes.func.isRequired,\n  onNodeCollapse: PropTypes.func.isRequired,\n  onNodeExpanded: PropTypes.func.isRequired,\n  onRenameNode: PropTypes.func.isRequired,\n  onDeleteNode: PropTypes.func.isRequired,\n  onAddFileNode: PropTypes.func.isRequired,\n  onAddFolderNode: PropTypes.func.isRequired,\n};\n\nclass SidePanel extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      opNode: null,\n      isLoadFailed: false,\n      isMenuIconShow: false,\n      isHeaderMenuShow: false,\n      isDeleteDialogShow: false,\n      isAddFileDialogShow: false,\n      isAddFolderDialogShow: false,\n      isRenameDialogShow: false,\n    };\n    this.isNodeMenuShow = true;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({opNode: nextProps.currentNode});\n  }\n\n  onMouseEnter = () => {\n    this.setState({isMenuIconShow: true});\n  }\n\n  onMouseLeave = () => {\n    this.setState({isMenuIconShow: false});\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu();\n  }\n\n  toggleOperationMenu = () => {\n    this.setState({isHeaderMenuShow: !this.state.isHeaderMenuShow});\n  }\n\n  onNodeClick = (node) => {\n    this.setState({opNode: node});\n    this.props.onNodeClick(node);\n  }\n\n  onMenuItemClick = (operation, node) => {\n    this.setState({opNode: node});\n    switch (operation) {\n      case 'New Folder':\n        this.onAddFolderToggle();\n        break;\n      case 'New File':\n        this.onAddFileToggle();\n        break;\n      case 'Rename':\n        this.onRenameToggle();\n        break;\n      case 'Delete':\n        this.onDeleteToggle();\n        break;\n    }\n  }\n\n  onAddFileToggle = (type) => {\n    if (type === 'root') {\n      let root = this.props.treeData.root;\n      this.setState({\n        isAddFileDialogShow: !this.state.isAddFileDialogShow,\n        opNode: root,\n      });\n    } else {\n      this.setState({isAddFileDialogShow: !this.state.isAddFileDialogShow});\n    }\n  }\n  \n  onAddFolderToggle = (type) => {\n    if (type === 'root') {\n      let root = this.props.treeData.root;\n      this.setState({\n        isAddFolderDialogShow: !this.state.isAddFolderDialogShow,\n        opNode: root,\n      });\n    } else {\n      this.setState({isAddFolderDialogShow: !this.state.isAddFolderDialogShow});\n    }\n  }\n\n  onRenameToggle = () => {\n    this.setState({isRenameDialogShow: !this.state.isRenameDialogShow});\n  }\n\n  onDeleteToggle = () => {\n    this.setState({isDeleteDialogShow: !this.state.isDeleteDialogShow});\n  }\n\n  onAddFolderNode = (dirPath) => {\n    this.setState({isAddFolderDialogShow: !this.state.isAddFolderDialogShow});\n    this.props.onAddFolderNode(dirPath);\n  }\n\n  onAddFileNode = (filePath, isDraft) => {\n    this.setState({isAddFileDialogShow: !this.state.isAddFileDialogShow});\n    this.props.onAddFileNode(filePath, isDraft);\n  }\n\n  onRenameNode = (newName) => {\n    this.setState({isRenameDialogShow: !this.state.isRenameDialogShow});\n    let node = this.state.opNode;\n    this.props.onRenameNode(node, newName);\n  }\n\n  onDeleteNode = () => {\n    this.setState({isDeleteDialogShow: !this.state.isDeleteDialogShow});\n    let node = this.state.opNode;\n    this.props.onDeleteNode(node);\n  }\n\n  checkDuplicatedName = (newName) => {\n    let node = this.state.opNode;\n    // root node to new node conditions: parentNode is null, \n    let parentNode = node.parentNode ? node.parentNode : node;\n    let childrenObject = parentNode.children.map(item => {\n      return item.object;\n    });\n    let isDuplicated = childrenObject.some(object => {\n      return object.name === newName;\n    });\n    return isDuplicated;\n  }\n\n  render() {\n    return (\n      <div className={`side-panel wiki-side-panel ${this.props.closeSideBar ? '': 'left-zero'}`}>\n        <div className=\"side-panel-top panel-top\">\n          <Logo onCloseSidePanel={this.props.onCloseSide} />\n        </div>\n        <div id=\"side-nav\" className=\"wiki-side-nav\" role=\"navigation\">\n          <h3 className=\"wiki-pages-heading\" onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n            {gettext('Files')}\n            <div className=\"heading-icon\">\n              {(permission && this.state.isMenuIconShow) && (\n                <Dropdown isOpen={this.state.isHeaderMenuShow} toggle={this.toggleOperationMenu}>\n                  <DropdownToggle \n                    tag=\"i\" \n                    className=\"fas fa-ellipsis-v\" \n                    title={gettext('More Operations')}\n                    data-toggle=\"dropdown\" \n                    aria-expanded={this.state.isHeaderMenuShow}\n                    onClick={this.onDropdownToggleClick}\n                  />\n                  <DropdownMenu right>\n                    <DropdownItem onClick={this.onAddFolderToggle.bind(this, 'root')}>{gettext('New Folder')}</DropdownItem>\n                    <DropdownItem onClick={this.onAddFileToggle.bind(this, 'root')}>{gettext('New File')}</DropdownItem>\n                  </DropdownMenu>\n                </Dropdown>\n              )}\n            </div>\n          </h3>\n          <div className=\"wiki-pages-container\">\n            {this.props.isTreeDataLoading ? \n              (<Loading/>) :\n              (<TreeView\n                isNodeMenuShow={this.isNodeMenuShow}\n                treeData={this.props.treeData}\n                currentPath={this.props.currentPath}\n                onNodeClick={this.onNodeClick}\n                onNodeExpanded={this.props.onNodeExpanded}\n                onNodeCollapse={this.props.onNodeCollapse}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.onFreezedItem}\n                onUnFreezedItem={this.onUnFreezedItem}\n              />)\n            }\n          </div>\n        </div>\n        {this.state.isAddFolderDialogShow && (\n          <ModalPortal>\n            <CreateFolder\n              parentPath={this.state.opNode.path}\n              onAddFolder={this.onAddFolderNode}\n              checkDuplicatedName={this.checkDuplicatedName}\n              addFolderCancel={this.onAddFolderToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isAddFileDialogShow && (\n          <ModalPortal>\n            <CreateFile\n              fileType={'.md'}\n              parentPath={this.state.opNode.path}\n              onAddFile={this.onAddFileNode}\n              checkDuplicatedName={this.checkDuplicatedName}\n              addFileCancel={this.onAddFileToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isRenameDialogShow && (\n          <ModalPortal>\n            <Rename\n              currentNode={this.state.opNode}\n              onRename={this.onRenameNode}\n              checkDuplicatedName={this.checkDuplicatedName}\n              toggleCancel={this.onRenameToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isDeleteDialogShow && (\n          <ModalPortal>\n            <Delete\n              currentNode={this.state.opNode}\n              handleSubmit={this.onDeleteNode}\n              toggleCancel={this.onDeleteToggle}\n            />\n          </ModalPortal>\n        )}\n      </div>\n    );\n  }\n}\n\nSidePanel.propTypes = propTypes;\n\nexport default SidePanel;\n\n\n// WEBPACK FOOTER //\n// ./src/pages/repo-wiki-mode/side-panel.js","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport cookie from 'react-cookies';\nimport { gettext, repoID, siteRoot, permission } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport RepoInfo from '../../models/repo-info';\nimport CommonToolbar from '../../components/toolbar/common-toolbar';\nimport ViewModeToolbar from '../../components/toolbar/view-mode-toolbar';\nimport DirOperationToolBar from '../../components/toolbar/dir-operation-toolbar';\nimport MutipleDirOperationToolbar from '../../components/toolbar/mutilple-dir-operation-toolbar';\nimport CurDirPath from '../../components/cur-dir-path';\nimport WikiMarkdownViewer from '../../components/wiki-markdown-viewer';\nimport DirentListView from '../../components/dirent-list-view/dirent-list-view';\nimport DirentDetail from '../../components/dirent-detail/dirent-details';\nimport FileUploader from '../../components/file-uploader/file-uploader';\nimport RepoInfoBar from '../../components/repo-info-bar';\n\nconst propTypes = {\n  content: PropTypes.string,\n  lastModified: PropTypes.string,\n  latestContributor: PropTypes.string,\n  permission: PropTypes.string,\n  hash: PropTypes.string,\n  path: PropTypes.string.isRequired,\n  repoName: PropTypes.string.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n  showShareBtn: PropTypes.bool.isRequired,\n  enableDirPrivateShare: PropTypes.bool.isRequired,\n  userPerm: PropTypes.string.isRequired,\n  isAdmin: PropTypes.bool.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  // whether the file or dir corresponding to the path exist\n  pathExist: PropTypes.bool.isRequired,\n  isFileLoading: PropTypes.bool.isRequired,\n  isViewFile: PropTypes.bool.isRequired,\n  isDirentListLoading: PropTypes.bool.isRequired,\n  isDirentSelected: PropTypes.bool.isRequired,\n  isAllDirentSelected: PropTypes.bool.isRequired,\n  direntList: PropTypes.array.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  selectedDirentList: PropTypes.array.isRequired,\n  updateDirent: PropTypes.func.isRequired,\n  onSideNavMenuClick: PropTypes.func.isRequired,\n  onSearchedClick: PropTypes.func.isRequired,\n  onMainNavBarClick: PropTypes.func.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  onAllDirentSelected: PropTypes.func.isRequired,\n  onItemSelected: PropTypes.func.isRequired,\n  onItemDelete: PropTypes.func.isRequired,\n  onItemRename: PropTypes.func.isRequired,\n  onItemMove: PropTypes.func.isRequired,\n  onItemCopy: PropTypes.func.isRequired,\n  onAddFile: PropTypes.func.isRequired,\n  onAddFolder: PropTypes.func.isRequired,\n  onFileTagChanged: PropTypes.func.isRequired,\n  onItemsMove: PropTypes.func.isRequired,\n  onItemsCopy: PropTypes.func.isRequired,\n  onItemsDelete: PropTypes.func.isRequired,\n  onLinkClick: PropTypes.func.isRequired,\n  onFileUploadSuccess: PropTypes.func.isRequired,\n  isDraft: PropTypes.bool,\n  hasDraft: PropTypes.bool,\n  goDraftPage: PropTypes.func,\n  usedRepoTags: PropTypes.array.isRequired,\n  readmeMarkdown: PropTypes.object,\n  draftCounts: PropTypes.number,\n  updateUsedRepoTags: PropTypes.func.isRequired,\n};\n\nclass MainPanel extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentMode: 'wiki',\n      isDirentDetailShow: false,\n      currentDirent: null,\n      direntPath: '',\n      currentRepoInfo: null,\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.getRepoInfo(repoID).then(res => {\n      let repoInfo = new RepoInfo(res.data);\n      this.setState({\n        currentRepoInfo: repoInfo,\n      });\n    });\n    if (this.props.hash) {\n      let hash = this.props.hash;\n      setTimeout(function() {\n        window.location.hash = hash;\n      }, 500);\n    }\n  }\n\n  switchViewMode = (mode) => {\n    cookie.save('view_mode', mode, { path: '/' });\n    let repoName = this.state.currentRepoInfo.repo_name;\n    let dirPath = this.props.isViewFile ? Utils.getDirName(this.props.path) : this.props.path;\n    window.location.href = siteRoot + 'library/' + repoID + '/' + repoName + dirPath;\n  }\n\n  onSideNavMenuClick = () => {\n    this.props.onSideNavMenuClick();\n  }\n\n  onItemClick = (dirent) => {\n    this.setState({isDirentDetailShow: false});\n    this.props.onItemClick(dirent);\n  }\n\n\n  onMainNavBarClick = (path) => {\n    this.setState({isDirentDetailShow: false});\n    this.props.onMainNavBarClick(path);\n  }\n\n  // on '<tr>'\n  onDirentClick = (dirent) => {\n    if (this.state.isDirentDetailShow) {\n      this.onItemDetails(dirent);\n    }\n  }\n\n  onItemDetails = (dirent) => {\n    this.setState({\n      currentDirent: dirent,\n      isDirentDetailShow: true,\n    });\n  }\n\n  onItemDetailsClose = () => {\n    this.setState({isDirentDetailShow: false});\n  }\n\n  onFileTagChanged = (dirent, direntPath) => {\n    this.props.onFileTagChanged(dirent, direntPath);\n  }\n\n  onUploadFile = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.uploader.onFileUpload();\n  }\n\n  onUploadFolder = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.uploader.onFolderUpload();\n  }\n\n  onFileUploadSuccess = (direntObject) => {\n    this.props.onFileUploadSuccess(direntObject);\n  }\n\n  render() {\n\n    const ErrMessage = (<div className=\"message err-tip\">{gettext('Folder does not exist.')}</div>);\n    const showRepoInfoBar = this.props.path === '/' && (\n                            this.props.usedRepoTags.length != 0 || this.props.readmeMarkdown != null ||\n                            this.props.draftCounts != 0);\n    \n    return (\n      <div className=\"main-panel wiki-main-panel o-hidden\">\n        <div className=\"main-panel-north border-left-show\">\n          <div className=\"cur-view-toolbar\">\n            <span className=\"sf2-icon-menu hidden-md-up d-md-none side-nav-toggle\" title={gettext('Side Nav Menu')} onClick={this.onSideNavMenuClick}></span>\n            <div className=\"dir-operation\">\n              {this.props.isDirentSelected ?\n                <MutipleDirOperationToolbar\n                  repoID={repoID} \n                  path={this.props.path}\n                  selectedDirentList={this.props.selectedDirentList}\n                  onItemsMove={this.props.onItemsMove}\n                  onItemsCopy={this.props.onItemsCopy}\n                  onItemsDelete={this.props.onItemsDelete}\n                /> :\n                <DirOperationToolBar \n                  path={this.props.path}\n                  repoID={repoID}\n                  repoName={this.props.repoName}\n                  repoEncrypted={this.props.repoEncrypted}\n                  isDraft={this.props.isDraft}\n                  hasDraft={this.props.hasDraft}\n                  direntList={this.props.direntList}\n                  permission={this.props.permission}\n                  isViewFile={this.props.isViewFile}\n                  showShareBtn={this.props.showShareBtn}\n                  enableDirPrivateShare={this.props.enableDirPrivateShare}\n                  userPerm={this.props.userPerm}\n                  isAdmin={this.props.isAdmin}\n                  isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n                  onAddFile={this.props.onAddFile}\n                  onAddFolder={this.props.onAddFolder}\n                  onUploadFile={this.onUploadFile}\n                  onUploadFolder={this.onUploadFolder}\n                />\n              }\n            </div>\n            <ViewModeToolbar currentMode={this.state.currentMode} switchViewMode={this.switchViewMode}/>\n          </div>\n          <CommonToolbar repoID={repoID} onSearchedClick={this.props.onSearchedClick} searchPlaceholder={gettext('Search files in this library')}/>\n        </div>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              {this.state.currentRepoInfo && (\n                <CurDirPath \n                  repoID={repoID}\n                  repoName={this.state.currentRepoInfo.repo_name}\n                  currentPath={this.props.path} \n                  permission={permission} \n                  onPathClick={this.onMainNavBarClick}\n                  isViewFile={this.props.isViewFile}\n                  updateUsedRepoTags={this.props.updateUsedRepoTags}\n                />\n              )}\n            </div>\n            <div className=\"cur-view-content\">\n              {!this.props.pathExist && ErrMessage }\n              {(this.props.pathExist && this.props.isViewFile) && (\n                <WikiMarkdownViewer\n                  isFileLoading={this.props.isFileLoading}\n                  markdownContent={this.props.content}\n                  latestContributor={this.props.latestContributor}\n                  lastModified = {this.props.lastModified}\n                  onLinkClick={this.props.onLinkClick}\n                >\n                  <Fragment>\n                    {(!this.props.isDraft && this.props.hasDraft) &&\n                      <div className='seafile-btn-view-review text-center'>\n                        <div className='tag tag-green'>\n                          {gettext('This file is in draft stage.')}\n                          <a className=\"ml-2\" onMouseDown={this.props.goDraftPage}>{gettext('View Draft')}</a>\n                        </div>\n                      </div>\n                    }\n                  </Fragment>\n                </WikiMarkdownViewer>\n              )}\n              {(this.props.pathExist && !this.props.isViewFile) && (\n                <Fragment>\n                  {showRepoInfoBar && (\n                    <RepoInfoBar\n                      repoID={repoID}\n                      currentPath={this.props.path}\n                      usedRepoTags={this.props.usedRepoTags}\n                      readmeMarkdown={this.props.readmeMarkdown}\n                      draftCounts={this.props.draftCounts}\n                      updateUsedRepoTags={this.props.updateUsedRepoTags}\n                    />\n                  )}\n                  <DirentListView\n                    path={this.props.path}\n                    repoID={repoID}\n                    repoEncrypted={this.props.repoEncrypted}\n                    isRepoOwner={this.props.isRepoOwner}\n                    isAdmin={this.props.isAdmin}\n                    isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n                    enableDirPrivateShare={this.props.enableDirPrivateShare}\n                    direntList={this.props.direntList}\n                    sortBy={this.props.sortBy}\n                    sortOrder={this.props.sortOrder}\n                    sortItems={this.props.sortItems}\n                    onAddFile={this.props.onAddFile}\n                    onItemClick={this.onItemClick}\n                    onItemDelete={this.props.onItemDelete}\n                    onItemRename={this.props.onItemRename}\n                    onItemMove={this.props.onItemMove}\n                    onItemCopy={this.props.onItemCopy}\n                    onDirentClick={this.onDirentClick}\n                    onItemDetails={this.onItemDetails}\n                    isDirentListLoading={this.props.isDirentListLoading}\n                    updateDirent={this.props.updateDirent}\n                    currentRepoInfo={this.state.currentRepoInfo}\n                    isAllItemSelected={this.props.isAllDirentSelected}\n                    onAllItemSelected={this.props.onAllDirentSelected}\n                    onItemSelected={this.props.onItemSelected}\n                  />\n                  <FileUploader\n                    ref={uploader => this.uploader = uploader}\n                    dragAndDrop={true}\n                    path={this.props.path}\n                    repoID={repoID}\n                    direntList={this.props.direntList}\n                    onFileUploadSuccess={this.onFileUploadSuccess}\n                  />\n                </Fragment>\n              )}\n            </div>\n          </div>\n          {this.state.isDirentDetailShow && (\n            <div className=\"cur-view-detail\">\n              <DirentDetail\n                repoID={repoID}\n                path={this.props.path}\n                dirent={this.state.currentDirent}\n                direntPath={this.state.direntPath}\n                onItemDetailsClose={this.onItemDetailsClose}\n                onFileTagChanged={this.onFileTagChanged}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nMainPanel.propTypes = propTypes;\n\nexport default MainPanel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/repo-wiki-mode/main-panel.js","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport MediaQuery from 'react-responsive';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport SearchResultItem from './search-result-item';\nimport editorUtilities from '../../utils/editor-utilties';\nimport More from '../more';\n\nconst propTypes = {\n  repoID: PropTypes.string,\n  placeholder: PropTypes.string,\n  onSearchedClick: PropTypes.func.isRequired,\n};\n\nclass Search extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      width: 'default',\n      value: '',\n      resultItems: [],\n      isMaskShow: false,\n      isResultShow: false,\n      isResultGetted: false,\n      isCloseShow: false,\n      isSearchInputShow: false, // for mobile\n    };\n    this.inputValue = '';\n    this.source = null; // used to cancel request;\n  }\n\n  onFocusHandler = () => {\n    this.setState({\n      width: '30rem',\n      isMaskShow: true,\n      isCloseShow: true\n    });\n  }\n\n  onCloseHandler = () => {\n    this.resetToDefault();\n  }\n\n  onItemClickHandler = (item) => {\n    this.resetToDefault();\n    this.props.onSearchedClick(item);\n  }\n\n  onChangeHandler = (event) => {\n    let _this = this;\n    this.setState({value: event.target.value});\n    let newValue = event.target.value;\n    if (this.inputValue === newValue.trim()) {\n      return false;\n    }\n    this.inputValue = newValue.trim();\n\n    if (this.inputValue === '' || _this.getValueLength(this.inputValue) < 3) {\n      this.setState({\n        isResultShow: false,\n        isResultGetted: false\n      });\n      return false;\n    }\n    let repoID = this.props.repoID;\n    let queryData = {\n      q: newValue,\n      search_repo: repoID ? repoID : 'all',\n      search_ftypes: 'all',\n    };\n\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    this.timer = setTimeout(_this.getSearchResult(queryData), 500);\n  }\n\n  getSearchResult(queryData) {\n    \n    if(this.source){\n      this.cancelRequest();\n    }\n    this.setState({\n      isResultShow: true,\n      isResultGetted: false\n    });\n\n    this.source = editorUtilities.getSource();\n    this.sendRequest(queryData, this.source.token);\n  }\n\n  sendRequest(queryData, cancelToken) {\n    var _this = this;\n    editorUtilities.searchFiles(queryData,cancelToken).then(res => {\n      if (!res.data.total) {\n        _this.setState({\n          resultItems: [],\n          isResultGetted: true\n        });\n        _this.source = null;\n        return;\n      }\n\n      let items = _this.formatResultItems(res.data.results);\n      _this.setState({\n        resultItems: items,\n        isResultGetted: true\n      });\n      _this.source = null;\n    }).catch(res => {\n      /* eslint-disable */\n      console.log(res);\n      /* eslint-enable */\n    });\n  }\n\n  cancelRequest() {\n    this.source.cancel('prev request is cancelled');\n  }\n\n  getValueLength(str) {\n    var i = 0, code, len = 0;\n    for (; i < str.length; i++) {\n      code = str.charCodeAt(i);\n      if (code == 10) { //solve enter problem\n        len += 2;\n      } else if (code < 0x007f) {\n        len += 1;\n      } else if (code >= 0x0080 && code <= 0x07ff) {\n        len += 2;\n      } else if (code >= 0x0800 && code <= 0xffff) {\n        len += 3;\n      }\n    }\n    return len;\n  }\n\n  formatResultItems(data) {\n    let items = [];\n    let length = data.length > 5 ? 5 : data.length;\n    for (let i = 0; i < length; i++) {\n      items[i] = {};\n      items[i]['index'] = [i];\n      items[i]['name'] = data[i].name;\n      items[i]['path'] = data[i].fullpath;\n      items[i]['repo_id'] = data[i].repo_id;\n      items[i]['repo_name'] = data[i].repo_name;\n      items[i]['is_dir'] = data[i].is_dir;\n      items[i]['link_content'] = decodeURI(data[i].fullpath).substring(1);\n      items[i]['content'] = data[i].content_highlight;\n    }\n    return items;\n  }\n\n  resetToDefault() {\n    this.inputValue = null;\n    this.setState({\n      width: '',\n      value: '',\n      isMaskShow: false,\n      isCloseShow: false,\n      isResultShow: false,\n      isResultGetted: false,\n      resultItems: [],\n      isSearchInputShow: false,\n    });\n  }\n\n  onShowMore = () => {\n    let repoID = this.props.repoID;\n    let newValue = this.state.value;\n    let queryData = {\n      q: newValue,\n      search_repo: repoID ? repoID : 'all',\n      search_ftypes: 'all',\n    };\n    let params = '';\n    for (let key in queryData) {\n      params += key + '=' + queryData[key] + '&';\n    }\n    window.location = siteRoot + 'search/?' + params.slice(0, params.length - 1);\n  }\n\n  renderSearchResult() {\n    var _this = this;\n    if (!this.state.isResultShow) {\n      return;\n    }\n    if (!this.state.isResultGetted || this.getValueLength(this.inputValue) < 3) {\n      return (\n        <span className=\"loading-icon loading-tip\"></span>\n      );\n    }\n    if (!this.state.resultItems.length) {\n      return (\n        <div className=\"search-result-none\">{gettext('No results matching.')}</div>\n      );\n    }\n    let isShowMore = this.state.resultItems.length >= 5 ? true : false;\n    return (\n      <ul className=\"search-result-list\">\n        {this.state.resultItems.map(item => {\n          return (\n            <SearchResultItem\n              key={item.index}\n              item={item}\n              onItemClickHandler={_this.onItemClickHandler}\n            />\n          );\n        })}\n        {isShowMore && <More onShowMore={this.onShowMore}/>}\n      </ul>\n    );\n  }\n\n  onSearchToggle = () => {\n    this.setState({\n      isSearchInputShow: !this.state.isSearchInputShow,\n      isMaskShow: !this.state.isMaskShow,\n    });\n  }\n\n  render() {\n    let width = this.state.width !== 'default' ? this.state.width : '';\n    let style = {'width': width};\n    return (\n      <Fragment>\n        <MediaQuery query=\"(min-width: 768px)\">\n          <div className=\"search\">\n            <div className={`search-mask ${this.state.isMaskShow ? '' : 'hide'}`} onClick={this.onCloseHandler}></div>\n            <div className=\"search-container\">\n              <div className=\"input-icon\">\n                <i className=\"search-icon-left input-icon-addon fas fa-search\"></i>\n                <input \n                  type=\"text\" \n                  className=\"form-control search-input\" \n                  name=\"query\"\n                  placeholder={this.props.placeholder}\n                  style={style}\n                  value={this.state.value}\n                  onFocus={this.onFocusHandler}\n                  onChange={this.onChangeHandler}\n                  autoComplete=\"off\"\n                />\n                {this.state.isCloseShow && <i className='search-icon-right input-icon-addon fas fa-times' onClick={this.onCloseHandler}></i>}\n              </div>\n              <div className=\"search-result-container\">\n                {this.renderSearchResult()}\n              </div>\n            </div>\n          </div>\n        </MediaQuery>\n        <MediaQuery query=\"(max-width: 768px)\">\n          <div className=\"search-icon-container\">\n            <i className=\"search-icon fas fa-search\" onClick={this.onSearchToggle}></i>\n          </div>\n          {this.state.isSearchInputShow && \n            <div className=\"search\">\n              <div className={`search-mask ${this.state.isMaskShow ? '' : 'hide'}`} onClick={this.onCloseHandler}></div>\n              <div className=\"search-container\">\n                <div className=\"input-icon\">\n                  <i className=\"search-icon-left input-icon-addon fas fa-search\"></i>\n                  <input \n                    type=\"text\" \n                    className=\"form-control search-input\" \n                    name=\"query\"\n                    placeholder={this.props.placeholder}\n                    style={style}\n                    value={this.state.value}\n                    onFocus={this.onFocusHandler}\n                    onChange={this.onChangeHandler}\n                    autoComplete=\"off\"\n                  />\n                  {this.state.isCloseShow && <i className='search-icon-right input-icon-addon fas fa-times' onClick={this.onCloseHandler}></i>}\n                </div>\n                <div className=\"search-result-container\">\n                  {this.renderSearchResult()}\n                </div>\n              </div>\n            </div>\n          }\n        </MediaQuery>\n      </Fragment>\n    );\n  }\n}\n\nSearch.propTypes = propTypes;\n\nexport default Search;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/search/search.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  item: PropTypes.object.isRequired,\n  onItemClickHandler: PropTypes.func.isRequired,\n};\n\nclass SearchResultItem extends React.Component {\n\n  onClickHandler = () => {\n    var item = this.props.item;\n    this.props.onItemClickHandler(item);\n  }\n\n  render() {\n    let item = this.props.item;\n    let fileIconUrl = item.is_dir ? Utils.getFolderIconUrl(false, 192) : Utils.getFileIconUrl(item.name, 192);\n    return (\n      <li className=\"search-result-item\" onClick={this.onClickHandler}>\n        <img className=\"item-img\" src={fileIconUrl} alt=\"\" />\n        <div className=\"item-content\">\n          <div className=\"item-name ellipsis\">{item.name}</div>\n          <div className=\"item-link ellipsis\">{item.repo_name}/{item.link_content}</div>\n          <div className=\"item-text ellipsis\" dangerouslySetInnerHTML={{__html: item.content}}></div>\n        </div>\n      </li>\n    );\n  }\n}\n\nSearchResultItem.propTypes = propTypes;\n\nexport default SearchResultItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/search/search-result-item.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../utils/constants';\n\nconst propTypes = {\n  onShowMore: PropTypes.func.isRequired\n};\n\nclass More extends React.Component {\n\n  render() {\n    return (\n      <li className=\"list-show-more\" onClick={this.props.onShowMore}>\n        <span className=\"more-message\">{gettext('show more')}</span>\n      </li>\n    );\n  }\n}\n\nMore.propTypes = propTypes;\n\nexport default More;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/more.js","'use strict';\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  window.Promise = require('promise/lib/es6-extensions.js');\n}\n\n// fetch() polyfill for making API calls.\nrequire('whatwg-fetch');\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = require('object-assign');\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\nif (process.env.NODE_ENV === 'test') {\n  require('raf').polyfill(global);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/polyfills.js\n// module id = 12\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28","import React from 'react';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport NoticeItem from './notice-item';\n\nclass Notification extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showNotice: false,\n      unseenCount: 0,\n      noticeList: [],\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.getUnseenNotificationCount().then(res => {\n      this.setState({unseenCount: res.data.unseen_count});\n    });\n  }\n\n  onClick = () => {\n    if (this.state.showNotice) {\n      seafileAPI.updateNotifications();\n      this.setState({\n        showNotice: false,\n        unseenCount: 0\n      });\n    } else {\n      this.loadNotices();\n      this.setState({showNotice: true});\n    }\n  }\n\n  loadNotices = () => {\n    let page = 1;\n    let perPage = 5;\n    seafileAPI.listPopupNotices(page, perPage).then(res => {\n      let noticeList = res.data.notification_list;\n      this.setState({noticeList: noticeList});\n    });\n  }\n\n  onNoticeItemClick = (noticeItem) => {    \n    let noticeList = this.state.noticeList.map(item => {\n      if (item.id === noticeItem.id) {\n        item.seen = true;\n      }\n      return item;\n    });\n    seafileAPI.markNoticeAsRead(noticeItem.id);\n    let unseenCount = this.state.unseenCount === 0 ? 0 : this.state.unseenCount - 1;\n    this.setState({\n      noticeList: noticeList,\n      unseenCount: unseenCount, \n    });\n    \n  }\n\n  render() {\n\n    return (\n      <div id=\"notifications\">\n        <a href=\"#\" onClick={this.onClick} className=\"no-deco\" id=\"notice-icon\" title=\"Notifications\" aria-label=\"Notifications\">\n          <span className=\"sf2-icon-bell\"></span>\n          <span className={`num ${this.state.unseenCount ? '' : 'hide'}`}>{this.state.unseenCount}</span>\n        </a>\n        <div id=\"notice-popover\" className={`sf-popover ${this.state.showNotice ? '': 'hide'}`}>\n          <div className=\"outer-caret up-outer-caret\"><div className=\"inner-caret\"></div></div>\n          <div className=\"sf-popover-hd ovhd\">\n            <h3 className=\"sf-popover-title title\">{gettext('Notifications')}</h3>\n            <a href=\"#\" onClick={this.onClick} title={gettext('Close')} aria-label={gettext('Close')} className=\"sf-popover-close js-close sf2-icon-x1 action-icon float-right\"></a>\n          </div>\n          <div className=\"sf-popover-con\">\n            <ul className=\"notice-list\">\n              {this.state.noticeList.map(item => {\n                return (<NoticeItem key={item.id} noticeItem={item} onNoticeItemClick={this.onNoticeItemClick}/>);\n              })}\n            </ul>\n            <a href={siteRoot + 'notification/list/'} className=\"view-all\">{gettext('See All Notifications')}</a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Notification;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/notification.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  noticeItem: PropTypes.object.isRequired,\n  onNoticeItemClick: PropTypes.func.isRequired,\n};\n\nconst MSG_TYPE_ADD_USER_TO_GROUP = 'add_user_to_group'\nconst MSG_TYPE_REPO_SHARE = 'repo_share'\nconst MSG_TYPE_REPO_SHARE_TO_GROUP = 'repo_share_to_group'\nconst MSG_TYPE_REPO_TRANSFER = 'repo_transfer'\nconst MSG_TYPE_FILE_UPLOADED = 'file_uploaded'\nconst MSG_TYPE_FILE_COMMENT = 'file_comment'\nconst MSG_TYPE_DRAFT_COMMENT = 'draft_comment'\nconst MSG_TYPE_DRAFT_REVIEWER = 'draft_reviewer'\nconst MSG_TYPE_GUEST_INVITATION_ACCEPTED = 'guest_invitation_accepted'\n\nclass NoticeItem extends React.Component {\n\n  generatorNoticeInfo () {\n    let noticeItem = this.props.noticeItem;\n    let noticeType = noticeItem.type;\n    let detail = noticeItem.detail;\n\n    if (noticeType === MSG_TYPE_ADD_USER_TO_GROUP) {\n\n      let avatar_url = detail.group_staff_avatar_url;\n\n      let groupStaff = detail.group_staff_name;\n      \n      let userHref = siteRoot + 'profile/' + detail.group_staff_email + '/';\n      let groupHref = siteRoot + 'group/' + detail.group_id + '/';\n      let groupName = detail.group_name;\n\n      let notice = gettext('User {user_link} has added you to {group_link}');\n      let userLink = '<a href=' + userHref + '>' + groupStaff + '</a>';\n      let groupLink = '<a href=' + groupHref + '>' + groupName + '</a>';\n\n      notice = notice.replace('{user_link}', userLink);\n      notice = notice.replace('{group_link}', groupLink);\n\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_REPO_SHARE) {\n\n      let avatar_url = detail.share_from_user_avatar_url;\n\n      let shareFrom = detail.share_from_user_name;\n\n      let repoName = detail.repo_name;\n      let repoUrl = siteRoot + 'library/' + detail.repo_id + '/' +  repoName + '/';\n\n      let path = detail.path;\n      let notice = '';\n      let repoLink = '<a href=' + repoUrl + '>' + repoName + '</a>';\n      if (path === '/') { // share repo\n        notice = gettext('{share_from} has shared a library named {repo_link} to you.');\n      } else { // share folder\n        notice = gettext('{share_from} has shared a folder named {repo_link} to you.');\n      }\n\n      notice = notice.replace('{share_from}', shareFrom);\n      notice = notice.replace('{repo_link}', repoLink);\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_REPO_SHARE_TO_GROUP) {\n\n      let avatar_url = detail.share_from_user_avatar_url;\n\n      let shareFrom = detail.share_from_user_name;\n\n      let repoName = detail.repo_name;\n      let repoUrl = siteRoot + 'library/' + detail.repo_id + '/' + repoName + '/';\n\n      let groupUrl = siteRoot + 'group/' + detail.group_id + '/';\n      let groupName = detail.group_name; \n\n      let path = detail.path;\n      let notice = '';\n      let repoLink = '<a href=' + repoUrl + '>' + repoName + '</a>';\n      let groupLink = '<a href=' + groupUrl + '>' + groupName + '</a>';\n      if (path === '/') {\n        notice =  gettext('{share_from} has shared a library named {repo_link} to group {group_link}.');\n      } else {\n        notice =  gettext('{share_from} has shared a folder named {repo_link} to group {group_link}.');\n      }\n      notice = notice.replace('{share_from}', shareFrom);\n      notice = notice.replace('{repo_link}', repoLink);\n      notice = notice.replace('{group_link}', groupLink);\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_REPO_TRANSFER) {\n\n      let avatar_url = detail.transfer_from_user_avatar_url;\n\n      let repoOwner = detail.transfer_from_user_name;\n\n      let repoName = detail.repo_name;\n      let repoUrl = siteRoot + 'library/' + detail.repo_id + '/' + repoName + '/';\n      let notice = gettext('{user} has transfered a library named {repo_link} to you.');\n      let repoLink = '<a href=' + repoUrl + '>' + repoName + '</a>';\n      notice = notice.replace('{user}', repoOwner);\n      notice = notice.replace('{repo_link}', repoLink);\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_FILE_UPLOADED) {\n      let avatar_url = detail.uploaded_user_avatar_url;\n      let fileName = detail.file_name;\n      let fileLink = siteRoot + 'lib/' + detail.repo_id + '/' + 'file' + Utils.encodePath(detail.file_path);\n\n      let folderName = detail.folder_name;\n      let folderLink = siteRoot + 'library/' + detail.repo_id + '/' + detail.repo_name + Utils.encodePath(detail.folder_path);\n      let notice = '';\n      if (detail.repo_id) { // todo is repo exist ?\n        let uploadFileLink = '<a href=' + fileLink + '>' + fileName + '</a>';\n        let uploadedLink = '<a href=' + folderLink  + '>' + folderName + '</a>';\n\n        notice = gettext('A file named {upload_file_link} is uploaded to {uploaded_link}.');\n        notice = notice.replace('{upload_file_link}', uploadFileLink);\n        notice = notice.replace('{uploaded_link}', uploadedLink);\n      } else {\n        notice = gettext('A file named {upload_file_link} is uploaded to {uploaded_link}.');\n        notice = notice.replace('{upload_file_link}', fileName);\n        notice = notice.replace('{uploaded_link}', '<strong>Deleted Library</strong>')\n      }\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_FILE_COMMENT) {\n\n      let avatar_url = detail.author_avatar_url;\n\n      let author = detail.author_name;\n\n      let fileName = detail.file_name;\n      let fileUrl = siteRoot + 'lib/' + detail.repo_id + '/' + 'file' + detail.file_path;\n\n      let notice = gettext('File {file_link} has a new comment form user {author}.');\n      let fileLink = '<a href=' + fileUrl + '>' + fileName + '</a>';\n      notice = notice.replace('{file_link}', fileLink);\n      notice = notice.replace('{author}', author);\n      return {avatar_url, notice};\n    }\n    \n    if (noticeType === MSG_TYPE_DRAFT_COMMENT) {\n\n      let avatar_url = detail.author_avatar_url;\n\n      let author = detail.author_name;\n\n      let draftId = detail.draft_id;\n      let draftUrl = siteRoot + 'drafts/' + draftId + '/';\n\n      let notice = gettext('{draft_link} has a new comment from user {author}.');\n      let draftLink = '<a href=' + draftUrl + '>' + gettext('Draft') + '#' + draftId + '</a>';\n      notice = notice.replace('{draft_link}', draftLink);\n      notice = notice.replace('{author}', author);\n      return {avatar_url, notice};\n    }\n    \n    if (noticeType === MSG_TYPE_DRAFT_REVIEWER) {\n\n      let avatar_url = detail.request_user_avatat_url;\n\n      let fromUser = detail.request_user_name;\n\n      let draftId = detail.draft_id;\n      let draftUrl = siteRoot + 'drafts/' + draftId + '/';\n\n      let notice = gettext('{from_user} has sent you a request for {draft_link}.');\n      let draftLink = '<a href=' + draftUrl + '>' + gettext('Draft') + '#' + draftId + '</a>';\n      notice = notice.replace('{from_user}', fromUser);\n      notice = notice.replace('{draft_link}', draftLink);\n      return {avatar_url, notice};\n    }\n    \n    // if (noticeType === MSG_TYPE_GUEST_INVITATION_ACCEPTED) {\n      \n    // }\n    \n    return {avatar_url : null, notice : null};\n  }\n\n  onNoticeItemClick = () => {\n    let item = this.props.noticeItem;\n    if (item.seen === true) {\n      return;\n    }\n    this.props.onNoticeItemClick(item);\n  }\n\n  render() {\n    let noticeItem = this.props.noticeItem;\n    let { avatar_url, notice } = this.generatorNoticeInfo();\n\n    if (!avatar_url && !notice) {\n      return '';\n    }\n\n    return (\n      <li onClick={this.onNoticeItemClick} className={noticeItem.seen ? 'read' : 'unread'}>\n        <div className=\"notice-item\">\n          <div className=\"main-info\">\n            <img src={avatar_url} width=\"32\" height=\"32\" className=\"avatar\" />\n            <p className=\"brief\" dangerouslySetInnerHTML={{__html: notice}}></p>\n          </div>\n          <p className=\"time\">{moment(noticeItem.timestamp).fromNow()}</p>\n        </div>\n      </li>\n    )\n  }\n}\n\nNoticeItem.propTypes = propTypes;\n\nexport default NoticeItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/notice-item.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext, isDocs } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  fileType: PropTypes.string,\n  parentPath: PropTypes.string.isRequired,\n  onAddFile: PropTypes.func.isRequired,\n  checkDuplicatedName: PropTypes.func.isRequired,\n  addFileCancel: PropTypes.func.isRequired,\n};\n\nclass CreateFile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      parentPath: '',\n      childName: props.fileType,\n      isDraft: false,\n      errMessage: '',\n    };\n    this.newInput = React.createRef();\n  }\n\n  componentDidMount() {\n    let parentPath = this.props.parentPath;\n    if (parentPath[parentPath.length - 1] === '/') {  // mainPanel\n      this.setState({parentPath: parentPath});\n    } else {\n      this.setState({parentPath: parentPath + '/'}); // sidePanel\n    }\n    this.newInput.focus();\n    this.newInput.setSelectionRange(0,0);\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      childName: e.target.value, \n    }) ;\n  }\n\n  handleSubmit = () => {\n    let isDuplicated = this.checkDuplicatedName();\n    let newName = this.state.childName;\n    if (isDuplicated) {\n      let errMessage = gettext('The name \"{name}\" is already taken. Please choose a different name.');\n      errMessage = errMessage.replace('{name}', Utils.HTMLescape(newName));\n      this.setState({errMessage: errMessage});\n    } else {\n      let path = this.state.parentPath + newName;\n      let isDraft = this.state.isDraft;\n      this.props.onAddFile(path, isDraft);\n    }\n  } \n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  handleCheck = () => {\n    let pos = this.state.childName.lastIndexOf('.');\n    \n    if (this.state.isDraft) {\n      // from draft to not draft\n      // case 1, normally, the file name is ended with `(draft)`, like `test(draft).md`\n      // case 2, the file name is not ended with `(draft)`, the user has deleted some characters, like `test(dra.md`\n      let p = this.state.childName.substring(pos-7, pos);\n      let fileName = this.state.childName.substring(0, pos-7);\n      let fileType = this.state.childName.substring(pos);\n      if (p === '(draft)') {\n        // remove `(draft)` from file name\n        this.setState({\n          childName: fileName + fileType, \n          isDraft: !this.state.isDraft\n        });\n      } else {\n        // don't change file name\n        this.setState({\n          isDraft: !this.state.isDraft\n        });\n      }\n    }\n    \n    if (!this.state.isDraft) {\n      // from not draft to draft\n      // case 1, test.md  ===> test(draft).md\n      // case 2, .md ===> (draft).md\n      // case 3, no '.' in the file name, don't change the file name\n      if (pos > 0) {\n        let fileName = this.state.childName.substring(0, pos);\n        let fileType = this.state.childName.substring(pos);\n        this.setState({\n          childName: fileName + '(draft)' + fileType,\n          isDraft: !this.state.isDraft\n        });\n      } else if (pos === 0 ) {\n        this.setState({\n          childName: '(draft)' + this.state.childName, \n          isDraft: !this.state.isdraft\n        });\n      } else {\n        this.setState({\n          isDraft: !this.state.isdraft\n        });\n      } \n    }\n  }\n\n  toggle = () => {\n    this.props.addFileCancel();\n  }\n\n  checkDuplicatedName = () => {\n    let isDuplicated = this.props.checkDuplicatedName(this.state.childName);\n    return isDuplicated;\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('New File')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"fileName\">{gettext('Name')}</Label>\n              <Input \n                id=\"fileName\" \n                onKeyPress={this.handleKeyPress} \n                innerRef={input => {this.newInput = input;}} \n                value={this.state.childName} \n                onChange={this.handleChange}\n              />\n            </FormGroup>\n            {this.props.fileType == '.md' && isDocs && (\n              <FormGroup check>\n                <Label check>\n                  <Input type=\"checkbox\" onChange={this.handleCheck}/>{'  '}{gettext('This is a draft')}\n                </Label>\n              </FormGroup>\n            )}\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\" className=\"mt-2\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nCreateFile.propTypes = propTypes;\n\nexport default CreateFile;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/create-file-dialog.js","import {siteRoot, historyRepoID, fileServerRoot } from './constants';\nimport { Utils } from './utils';\nclass URLDecorator {\n\n  static getUrl(options) {\n    let url = '';\n    let params = '';\n    switch (options.type) {\n      case 'download_historic_file':\n        params = 'p=' + options.filePath;\n        url = siteRoot + 'repo/' + historyRepoID + '/' + options.objID + '/download?' + params;\n        break;\n      case 'download_dir_zip_url':\n        url = fileServerRoot + 'zip/' + options.token;\n        break;\n      case 'download_file_url':\n        url = siteRoot + 'lib/' + options.repoID + '/file' + Utils.encodePath(options.filePath) + '?dl=1';\n        break;\n      case 'file_revisions':\n        params = 'p=' + Utils.encodePath(options.filePath);\n        url = siteRoot + 'repo/file_revisions/' + options.repoID + '/?' + params;\n        break;\n      case 'open_via_client':\n        url = 'seafile://openfile?repo_id=' + options.repoID + '&path=' + Utils.encodePath(options.filePath);\n        break;\n      case 'draft_view':\n        url = siteRoot + 'lib/' + options.repoID + '/file' + options.filePath + '?mode=edit&draft_id=' + options.draftId;\n        break;\n      default:\n        url = '';\n        break;\n    }\n    return url;\n  }\n\n}\n\nexport default URLDecorator;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/url-decorator.js","export const strChineseFirstPY = \"YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY\";\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/pinyin-by-unicode.js","import moment from 'moment';\nimport { Utils } from '../utils/utils';\nimport FileTag from './file-tag';\n\nclass Dirent {\n  constructor(json) {\n    this.id = json.id || '0000000000000000';\n    this.name = json.name;\n    this.type = json.type;\n    this.mtime = json.mtime;\n    this.mtime_relative = moment.unix(json.mtime).fromNow();\n    this.permission = json.permission || 'rw';\n    this.isSelected = false; // is check or not\n    this.starred = json.starred || false;\n    if (json.type === 'file') {\n      this.size = Utils.bytesToSize(json.size);\n      this.is_locked = json.is_locked || false;\n      this.lock_time = json.lock_time || '';\n      this.lock_owner= json.lock_owner || null;\n      this.lock_owner_name= json.lock_owner_name || null;\n      this.locked_by_me = json.locked_by_me || false;\n      this.modifier_name = json.modifier_name || '';\n      this.modifier_email = json.modifier_email || '';\n      this.modifier_contact_email = json.modifier_contact_email || '';\n      let file_tags = [];\n      if (json.file_tags) {\n        file_tags = json.file_tags.map(item => {\n          return new FileTag(item);\n        });\n      }\n      this.file_tags = file_tags;\n      if (json.encoded_thumbnail_src) {\n        this.encoded_thumbnail_src = json.encoded_thumbnail_src;\n      }\n    }\n  }\n\n  clone() {\n    return new Dirent(this);\n  }\n\n  isDir() {\n    return this.type !== 'file';\n  }\n\n}\n\nexport default Dirent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/dirent.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalFooter, ModalBody, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport FileChooser from '../file-chooser/file-chooser';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  dirent: PropTypes.object,\n  selectedDirentList: PropTypes.array,\n  isMutipleOperation: PropTypes.bool.isRequired,\n  onItemMove: PropTypes.func,\n  onItemsMove: PropTypes.func,\n  onCancelMove: PropTypes.func.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n};\n\n// need dirent file Path\nclass MoveDirent extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repo: null,\n      selectedPath: '',\n      errMessage: '',\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.errMessage === nextState.errMessage) {\n      return false;\n    }\n    return true;\n  }\n\n  handleSubmit = () => {\n    if (this.props.isMutipleOperation) {\n      this.moveItems();\n    } else {\n      this.moveItem();\n    }\n  }\n\n  moveItems = () => {\n    let { repoID } = this.props;\n    let { repo, selectedPath } = this.state;\n    let message = gettext('Invalid destination path');\n    \n    if (!repo || selectedPath === '') {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    let selectedDirentList = this.props.selectedDirentList;\n    let direntPaths = [];\n    selectedDirentList.forEach(dirent => {\n      let path = Utils.joinPath(this.props.path, dirent.name);\n      direntPaths.push(path);\n    });\n    \n    // move dirents to one of them. eg: A/B, A/C -> A/B\n    if (direntPaths.some(direntPath => { return direntPath === selectedPath;})) {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    // move dirents to current path\n    if (selectedPath && selectedPath === this.props.path && (repo.repo_id === repoID)) {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    // move dirents to one of their child. eg: A/B, A/D -> A/B/C\n    let moveDirentPath = '';\n    let isChildPath = direntPaths.some(direntPath => {\n      let flag = selectedPath.length > direntPath.length && selectedPath.indexOf(direntPath) > -1;\n      if (flag) {\n        moveDirentPath = direntPath;\n      }\n      return flag;\n    });\n\n    if (isChildPath) {\n      message = gettext('Can not move directory %(src)s to its subdirectory %(des)s');\n      message = message.replace('%(src)s', moveDirentPath);\n      message = message.replace('%(des)s', selectedPath);\n      this.setState({errMessage: message});\n      return;\n    }\n\n    this.props.onItemsMove(repo, selectedPath);\n    this.toggle();\n  }\n\n  moveItem = () => {\n    let { repo, repoID, selectedPath } = this.state; \n    let direntPath = Utils.joinPath(this.props.path, this.props.dirent.name);\n    let message = gettext('Invalid destination path');\n\n    if (!repo || (repo.repo_id === repoID && selectedPath === '')) {\n      this.setState({errMessage: message});\n      return;\n    }\n    \n    // copy the dirent to itself. eg: A/B -> A/B\n    if (selectedPath && direntPath === selectedPath) {\n      this.setState({errMessage: message});\n      return;\n    }\n    \n    // copy the dirent to current path\n    if (selectedPath && this.props.path === selectedPath && repo.repo_id === repoID) {\n      this.setState({errMessage: message});\n      return;\n    }\n    \n    // copy the dirent to it's child. eg: A/B -> A/B/C\n    if ( selectedPath && selectedPath.length > direntPath.length && selectedPath.indexOf(direntPath) > -1) {\n      message = gettext('Can not move directory %(src)s to its subdirectory %(des)s');\n      message = message.replace('%(src)s', direntPath);\n      message = message.replace('%(des)s', selectedPath);\n      this.setState({errMessage: message});\n      return;\n    }\n\n    this.props.onItemMove(repo, this.props.dirent, selectedPath, this.props.path);\n    this.toggle();\n  }\n\n  toggle = () => {\n    this.props.onCancelMove();\n  }\n\n  onDirentItemClick = (repo, selectedPath) => {\n    this.setState({\n      repo: repo,\n      selectedPath: selectedPath,\n      errMessage: '',\n    });\n  }\n\n  onRepoItemClick = (repo) => {\n    this.setState({\n      repo: repo,\n      selectedPath: '/',\n      errMessage: ''\n    });\n  }\n\n  render() {\n    let title = gettext('Move {placeholder} to:');\n    if (!this.props.isMutipleOperation) {\n      title = title.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.dirent.name) + '</span>');\n    } else {\n      title = gettext('Move selected item(s) to:');\n    }\n    let mode = this.props.repoEncrypted ? 'only_current_library':'current_repo_and_other_repos'\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}><div dangerouslySetInnerHTML={{__html: title}}></div></ModalHeader>\n        <ModalBody>\n          <FileChooser \n            repoID={this.props.repoID}\n            onDirentItemClick={this.onDirentItemClick}\n            onRepoItemClick={this.onRepoItemClick}\n            mode={mode}\n          />\n          {this.state.errMessage && <Alert color=\"danger\" style={{margin: '0.5rem'}}>{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nMoveDirent.propTypes = propTypes;\n\nexport default MoveDirent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/move-dirent-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalFooter, ModalBody, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport FileChooser from '../file-chooser/file-chooser';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  dirent: PropTypes.object,\n  selectedDirentList: PropTypes.array,\n  isMutipleOperation: PropTypes.bool.isRequired,\n  onItemCopy: PropTypes.func,\n  onItemsCopy: PropTypes.func,\n  onCancelCopy: PropTypes.func.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n};\n\n// need dirent file Path\nclass CopyDirent extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repo: null,\n      selectedPath: '',\n      errMessage: '',\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.errMessage === nextState.errMessage) {\n      return false;\n    }\n    return true;\n  }\n\n  handleSubmit = () => {\n    if (this.props.isMutipleOperation) {\n      this.copyItems();\n    } else {\n      this.copyItem();\n    }\n  }\n\n  copyItems = () => {\n    let { repoID } = this.props;\n    let { repo, selectedPath } = this.state;\n    let message = gettext('Invalid destination path');\n    \n    if (!repo || selectedPath === '') {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    let selectedDirentList = this.props.selectedDirentList;\n    let direntPaths = [];\n    selectedDirentList.forEach(dirent => {\n      let path = Utils.joinPath(this.props.path, dirent.name);\n      direntPaths.push(path);\n    });\n    \n    // copy dirents to one of them. eg: A/B, A/C -> A/B\n    if (direntPaths.some(direntPath => { return direntPath === selectedPath;})) {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    // copy dirents to current path\n    if (selectedPath && selectedPath === this.props.path && repo.repo_id === repoID) {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    // copy dirents to one of their child. eg: A/B, A/D -> A/B/C\n    let copyDirentPath = '';\n    let isChildPath = direntPaths.some(direntPath => {\n      let flag = selectedPath.length > direntPath.length && selectedPath.indexOf(direntPath) > -1;\n      if (flag) {\n        copyDirentPath = direntPath;\n      }\n      return flag;\n    });\n\n    if (isChildPath) {\n      message = gettext('Can not move directory %(src)s to its subdirectory %(des)s');\n      message = message.replace('%(src)s', copyDirentPath);\n      message = message.replace('%(des)s', selectedPath);\n      this.setState({errMessage: message});\n      return;\n    }\n    \n    this.props.onItemsCopy(repo, selectedPath);\n    this.toggle();\n  }\n\n  copyItem = () => {\n    let { repo, repoID, selectedPath } = this.state; \n    let direntPath = Utils.joinPath(this.props.path, this.props.dirent.name);\n    let message = 'Invalid destination path';\n\n    if (!repo || (repo.repo_id === repoID && selectedPath === '')) {\n      this.setState({errMessage: message});\n      return;\n    }\n\n    // copy the dirent to itself. eg: A/B -> A/B\n    if (selectedPath && direntPath === selectedPath) {\n      this.setState({errMessage: message});\n      return;\n    }\n    \n    // copy the dirent to current path\n    if (selectedPath && this.props.path === selectedPath && repo.repo_id === repoID) {\n      this.setState({errMessage: message});\n      return;\n    }\n    \n    // copy the dirent to it's child. eg: A/B -> A/B/C\n    if ( selectedPath && selectedPath.length > direntPath.length && selectedPath.indexOf(direntPath) > -1) {\n      message = gettext('Can not copy directory %(src)s to its subdirectory %(des)s');\n      message = message.replace('%(src)s', direntPath);\n      message = message.replace('%(des)s', selectedPath);\n      this.setState({errMessage: message});\n      return;\n    }\n\n    this.props.onItemCopy(repo, this.props.dirent, selectedPath, this.props.path);\n    this.toggle();\n  }\n\n  toggle = () => {\n    this.props.onCancelCopy();\n  }\n\n  onDirentItemClick = (repo, selectedPath) => {\n    this.setState({\n      repo: repo,\n      selectedPath: selectedPath,\n      errMessage: '',\n    });\n  }\n\n  onRepoItemClick = (repo) => {\n    this.setState({\n      repo: repo,\n      selectedPath: '/',\n      errMessage: ''\n    });\n  }\n\n  render() {\n    let title = gettext('Copy {placeholder} to:');\n    if (!this.props.isMutipleOperation) {\n      title = title.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.dirent.name) + '</span>');\n    } else {\n      title = gettext('Copy selected item(s) to:');\n    }\n    let mode = this.props.repoEncrypted ? 'only_current_library':'current_repo_and_other_repos'\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}><div dangerouslySetInnerHTML={{__html: title}}></div></ModalHeader>\n        <ModalBody>\n          <FileChooser \n            repoID={this.props.repoID}\n            onDirentItemClick={this.onDirentItemClick}\n            onRepoItemClick={this.onRepoItemClick}\n            mode={mode}\n          />\n          {this.state.errMessage && <Alert color=\"danger\" style={{margin: '0.5rem'}}>{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nCopyDirent.propTypes = propTypes;\n\nexport default CopyDirent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/copy-dirent-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../utils/constants';\nimport toaster from './toast';\n\nconst propTypes = {\n  hasSuffix: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  onRenameConfirm: PropTypes.func.isRequired,\n  onRenameCancel: PropTypes.func.isRequired,\n};\n\nclass Rename extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: props.name\n    };\n  }\n\n  componentDidMount() {\n    this.refs.renameInput.focus();\n    if (this.props.hasSuffix) {\n      var endIndex = this.props.name.lastIndexOf('.');\n      this.refs.renameInput.setSelectionRange(0, endIndex, 'forward');\n    } else {\n      this.refs.renameInput.setSelectionRange(0, -1);\n    }\n  }\n\n  onChange = (e) => {\n    this.setState({name: e.target.value});\n  }\n\n  onClick = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n  }\n\n  onKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.onRenameConfirm(e);\n    }\n  }\n\n  onRenameConfirm = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    let newName = this.state.name.trim();\n    if (newName === this.props.name) {\n      this.props.onRenameCancel();\n      return;\n    }\n\n    let { isValid, errMessage } = this.validateInput();\n    if (!isValid) {\n      toaster.danger(errMessage);\n    } else {\n      this.props.onRenameConfirm(newName);\n    }\n  }\n\n  onRenameCancel = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.props.onRenameCancel();\n  }\n\n  validateInput = () => {\n    let newName = this.state.name.trim();\n    let isValid = true;\n    let errMessage = '';\n    if (!newName) {\n      isValid = false;\n      errMessage = gettext('Name is required.');\n      return { isValid, errMessage };\n    }\n\n    if (newName.indexOf('/') > -1) {\n      isValid = false;\n      errMessage = gettext('Name should not include ' + '\\'/\\'' + '.');\n      return { isValid, errMessage };\n    }\n\n    return { isValid, errMessage };\n  }\n\n  render() {\n    return (\n      <div className=\"rename-container\">\n        <input \n          ref=\"renameInput\" \n          value={this.state.name} \n          onChange={this.onChange} \n          onKeyPress={this.onKeyPress} \n          onClick={this.onClick} \n        />\n        <button className=\"btn btn-secondary sf2-icon-confirm confirm\" onClick={this.onRenameConfirm}></button>\n        <button className=\"btn btn-secondary sf2-icon-cancel cancel\" onClick={this.onRenameCancel}></button>\n      </div>\n    );\n  }\n}\n\nRename.propTypes = propTypes;\n\nexport default Rename;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/rename.js","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ToastManager from './toastManager';\n\nconst isBrowser =\n    typeof window !== 'undefined' && typeof window.document !== 'undefined';\n\n/**\n * The Toaster manages the interactionsb between\n * the ToasterManger and the toast API.\n */\nexport default class Toaster {\n  constructor() {\n    if (!isBrowser) return;\n\n    const container = document.createElement('div');\n    container.setAttribute('data-evergreen-toaster-container', '');\n    document.body.appendChild(container);\n\n    ReactDOM.render(\n      <ToastManager\n        bindNotify={this._bindNotify}\n        bindGetToasts={this._bindGetToasts}\n        bindCloseAll={this._bindCloseAll}\n      />,\n      container\n    );\n  }\n\n  _bindNotify = handler => {\n    this.notifyHandler = handler;\n  }\n\n  _bindGetToasts = handler => {\n    this.getToastsHandler = handler;\n  }\n\n  _bindCloseAll = handler => {\n    this.closeAllHandler = handler;\n  }\n\n  getToasts = () => {\n    return this.getToastsHandler();\n  }\n\n  closeAll = () => {\n    return this.closeAllHandler();\n  }\n\n  notify = (title, settings = {}) => {\n    return this.notifyHandler(title, { ...settings, intent: 'none' });\n  }\n\n  success = (title, settings = {}) => {\n    return this.notifyHandler(title, { ...settings, intent: 'success' });\n  }\n\n  warning = (title, settings = {}) => {\n    return this.notifyHandler(title, { ...settings, intent: 'warning' });\n  }\n\n  danger = (title, settings = {}) => {\n    return this.notifyHandler(title, { ...settings, intent: 'danger' });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/toast/toaster.js","import React ,{ Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport FileChooser from '../file-chooser/file-chooser';\nimport '../../css/dirent-detail.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  onRelatedFileChange: PropTypes.func.isRequired,\n  dirent: PropTypes.object.isRequired,\n  onClose: PropTypes.func,\n};\n\nclass AddRelatedFileDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repo: null,\n      selectedPath: '',\n      isShowFile: true,\n      errMessage: '',\n    };\n  }\n\n  handleSubmit = () => {\n    this.onAddRelatedFile();\n  }\n\n  onAddRelatedFile = () => {\n    let { repo, selectedPath } = this.state;\n    let oRepoID = this.props.repoID;\n    let rRepoID = repo.repo_id;\n    let oFilePath = this.props.filePath;\n    let rFilePath = selectedPath;\n\n    if (oRepoID === rRepoID && oFilePath === rFilePath) {\n      let message = gettext('Can not select self as a related file.');\n      this.setState({errMessage: message});\n      return;\n    }\n\n    seafileAPI.addRelatedFile(oRepoID, rRepoID, oFilePath, rFilePath).then((res) => {\n      this.props.onRelatedFileChange();\n      this.toggle();\n    }).catch((error) => {\n      if (error.response) {\n        this.setState({\n          errMessage: error.response.data.error_msg\n        });\n      }\n    });\n  }\n\n  toggle = () => {\n    this.props.toggleCancel();\n  }\n\n  onDirentItemClick = (repo, selectedPath, dirent) => {\n    if (dirent.type === 'file') {\n      this.setState({\n        repo: repo,\n        selectedPath: selectedPath,\n      });\n    }\n    else {\n      this.setState({\n        repo: null,\n        selectedPath: '',\n      });\n    }\n  }\n\n  onRepoItemClick = (repo) => {\n    this.setState({\n      repo: null,\n      selectedPath: '',\n    });\n  }\n\n  render() {\n    let subtitle = gettext('Select related file for {placeholder}');\n    subtitle = subtitle.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.dirent.name) + '</span>');\n    return (\n      <Fragment>\n        <ModalHeader toggle={this.props.onClose}>\n          <span className=\"tag-dialog-back fas fa-sm fa-arrow-left\" onClick={this.toggle} aria-label={gettext('Back')}></span>\n          {gettext('Select File')}\n        </ModalHeader>\n        <ModalBody>\n          <div className=\"related-file-subtitle\" dangerouslySetInnerHTML={{__html: subtitle}}></div>\n          <FileChooser\n            isShowFile={this.state.isShowFile}\n            repoID={this.props.repoID}\n            onDirentItemClick={this.onDirentItemClick}\n            onRepoItemClick={this.onRepoItemClick}\n            mode=\"current_repo_and_other_repos\"\n          />\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          { this.state.selectedPath ?\n            <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n            :\n            <Button color=\"primary\" disabled>{gettext('Submit')}</Button>\n          }\n        </ModalFooter>\n      </Fragment>\n    );\n  }\n}\n\nAddRelatedFileDialog.propTypes = propTypes;\n\nexport default AddRelatedFileDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/add-related-file-dialog.js","import React from 'react';\nimport { css } from 'glamor';\nimport PropTypes from 'prop-types';\n\nimport Toast from './toast';\n\nconst wrapperClass = css({\n  maxWidth: 560,\n  margin: '0 auto',\n  top: 0,\n  left: 0,\n  right: 0,\n  position: 'fixed',\n  zIndex: 999999,\n});\n\n\nconst hasCustomId = settings => Object.hasOwnProperty.call(settings, 'id');\n\nexport default class ToastManager extends React.PureComponent {\n  static propTypes = {\n    /**\n     * Function called with the `this.notify` function.\n     */\n    bindNotify: PropTypes.func.isRequired,\n\n    /**\n     * Function called with the `this.getToasts` function.\n     */\n    bindGetToasts: PropTypes.func.isRequired,\n\n    /**\n     * Function called with the `this.closeAll` function.\n     */\n    bindCloseAll: PropTypes.func.isRequired\n  }\n\n  static idCounter = 0;\n\n  constructor(props, context) {\n    super(props, context);\n\n    props.bindNotify(this.notify);\n    props.bindGetToasts(this.getToasts);\n    props.bindCloseAll(this.closeAll);\n\n    this.state = {\n      toasts: []\n    };\n  }\n\n  getToasts = () => {\n    return this.state.toasts;\n  }\n\n  closeAll = () => {\n    this.getToasts().forEach(toast => toast.close());\n  }\n\n  notify = (title, settings) => {\n    // If there's a custom toast ID passed, close existing toasts with the same custom ID\n    if (hasCustomId(settings)) {\n      for (const toast of this.state.toasts) {\n        // Since unique ID is still appended to a custom ID, skip the unique ID and check only prefix\n        if (String(toast.id).startsWith(settings.id)) {\n          this.closeToast(toast.id);\n        }\n      }\n    }\n\n    const instance = this.createToastInstance(title, settings);\n\n    this.setState(previousState => {\n      return {\n        toasts: [instance, ...previousState.toasts]\n      };\n    });\n\n    return instance;\n  }\n\n  createToastInstance = (title, settings) => {\n    const uniqueId = ++ToastManager.idCounter;\n    const id = hasCustomId(settings) ? `${settings.id}-${uniqueId}` : uniqueId;\n\n    return {\n      id,\n      title,\n      description: settings.description,\n      hasCloseButton: settings.hasCloseButton || true,\n      duration: settings.duration || 2,\n      close: () => this.closeToast(id),\n      intent: settings.intent\n    };\n  }\n\n  /**\n   * This will set isShown on the Toast which will close the toast.\n   * It won't remove the toast until onExited triggers onRemove.\n   */\n  closeToast = id => {\n    this.setState(previousState => {\n      return {\n        toasts: previousState.toasts.map(toast => {\n          if (toast.id === id) {\n            return {\n              ...toast,\n              isShown: false\n            };\n          }\n          return toast;\n        })\n      };\n    });\n  }\n\n  removeToast = id => {\n    this.setState(previousState => {\n      return {\n        toasts: previousState.toasts.filter(toast => toast.id !== id)\n      };\n    });\n  }\n\n  render() {\n    return (\n      <span className={wrapperClass}>\n        {this.state.toasts.map(({ id, description, ...props }) => {\n          return (\n            <Toast key={id} onRemove={() => this.removeToast(id)} {...props}>\n              {description}\n            </Toast>\n          );\n        })}\n      </span>\n    );\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/toast/toastManager.js","import React ,{ Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Table } from 'reactstrap';\nimport Dirent from '../../models/dirent';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport '../../css/list-related-file-dialog.css';\n\nconst propTypes = {\n  relatedFiles: PropTypes.array.isRequired,\n  repoID: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  addRelatedFileToggle: PropTypes.func.isRequired,\n  onRelatedFileChange: PropTypes.func.isRequired,\n};\n\nclass ListRelatedFileDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = ({\n      direntList: [],\n    });\n  }\n\n  onDeleteRelatedFile = (item) => {\n    let filePath = this.props.filePath;\n    let repoID = this.props.repoID;\n    let relatedID = item.related_id;\n    seafileAPI.deleteRelatedFile(repoID, filePath, relatedID).then((res) => {\n      this.props.onRelatedFileChange();\n    });\n  }\n\n  toggle = () => {\n    this.props.toggleCancel();\n  }\n\n  getDirentList = (relatedFiles) => {\n    if (relatedFiles.length === 0) {\n      this.setState({\n        direntList: [],\n      });\n      return;\n    }\n    let direntList = [];\n    relatedFiles.map((item) => {\n      seafileAPI.getFileInfo(item.repo_id, item.path).then(res => {\n        let dirent = new Dirent(res.data);\n        dirent['repo_name'] = item.repo_name;\n        dirent['related_id'] = item.related_id;\n        dirent['link'] = siteRoot + 'lib/' + item.repo_id + '/file' + Utils.encodePath(item.path);\n        direntList.push(dirent);\n        this.setState({\n          direntList: direntList\n        });\n      });\n    });\n  }\n\n  componentWillMount() {\n    this.getDirentList(this.props.relatedFiles);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.relatedFiles.length !== this.props.relatedFiles.length) {\n      this.getDirentList(nextProps.relatedFiles);\n    }\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <ModalHeader toggle={this.toggle}>{gettext('Related Files')}</ModalHeader>\n        <ModalBody className={this.state.direntList.length > 0 ? 'list-related-file-body' : ''}>\n          <Table hover size=\"sm\" className=\"list-related-file-table\">\n            <thead>\n              <tr>\n                <th width='40%'>{gettext('Name')}</th>\n                <th width='20%'>{gettext('Library Name')}</th>\n                <th width='13%'>{gettext('Size')}</th>\n                <th width='20%'>{gettext('Last Update')}</th>\n                <th width='5%'></th>\n                <th width='2%'></th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                this.state.direntList.map((relatedFile, index) => {\n                  return (\n                    <React.Fragment key={index}>\n                      <RelatedFile relatedFile={relatedFile} onDeleteRelatedFile={this.onDeleteRelatedFile}/>\n                    </React.Fragment>\n                  );\n                })\n              }\n            </tbody>\n          </Table>\n          <a href=\"#\" className=\"add-related-file-link\" onClick={this.props.addRelatedFileToggle}>{gettext('Add File')}</a>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Fragment>\n    );\n  }\n}\n\nListRelatedFileDialog.propTypes = propTypes;\n\nconst RelatedFilePropTypes = {\n  relatedFile: PropTypes.object,\n  onDeleteRelatedFile: PropTypes.func.isRequired,\n};\n\nclass RelatedFile extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = ({\n      active: false,\n    });\n  }\n\n  onMouseEnter = () => {\n    this.setState({\n      active: true\n    });\n  }\n\n  onMouseLeave = () => {\n    this.setState({\n      active: false\n    });\n  }\n\n  render() {\n    let className = this.state.active ? 'action-icon sf2-icon-x3' : 'action-icon vh sf2-icon-x3';\n    const relatedFile = this.props.relatedFile;\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><a href={relatedFile.link} target='_blank'>{relatedFile.name}</a></td>\n        <td>{relatedFile.repo_name}</td>\n        <td>{relatedFile.size}</td>\n        <td>{relatedFile.mtime_relative}</td>\n        <td><i className={className} onClick={this.props.onDeleteRelatedFile.bind(this, relatedFile)}></i></td>\n        <td></td>\n      </tr>\n    );\n  }\n}\n\nRelatedFile.propTypes = RelatedFilePropTypes;\n\nexport default ListRelatedFileDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/list-related-file-dialog.js","import { Utils } from '../../utils/utils';\nimport Tree from './tree';\nimport TreeNode from './tree-node';\nimport Dirent from '../../models/dirent';\n\nclass TreeHelper {\n\n  expandNode(tree, node) {  // This tree has been cloned\n    tree.expandNode(node);\n  }\n\n  collapseNode(tree, node) {\n    let treeCopy = tree.clone();\n    node = treeCopy.getNodeByPath(node.path);\n    treeCopy.collapseNode(node);\n    return treeCopy;\n  }\n\n  findNodeByPath(tree, nodePath) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    return node;\n  }\n\n  getNodeChildrenObject(tree, node, sortType = 'name', order = 'asc') {\n    let objects = tree.getNodeChildrenObject(node);\n    objects = Utils.sortDirents(objects, sortType, order);\n    return objects;\n  }\n\n  addNodeToParent(tree, node, parentNode) {\n    tree.addNodeToParentNode(node, parentNode);\n    return tree;\n  }\n\n  addNodeListToParent(tree, nodeList, parentNode) {\n    tree.addNodeListToParent(nodeList, parentNode);\n    return tree;\n  }\n\n  addNodeToParentByPath(tree, node, parentPath) {\n    let treeCopy = tree.clone();\n    let parentNode = treeCopy.getNodeByPath(parentPath);\n    treeCopy.addNodeToParent(node, parentNode);\n    return treeCopy;\n  }\n\n  deleteNodeByPath(tree, nodePath) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    treeCopy.deleteNode(node);\n    return treeCopy;\n  }\n\n  deleteNodeListByPaths(tree, nodePaths) {\n    let treeCopy = tree.clone();\n    nodePaths.forEach(nodePath => {\n      let node = treeCopy.getNodeByPath(nodePath);\n      treeCopy.deleteNode(node);\n    });\n    return treeCopy;\n  }\n\n  renameNodeByPath(tree, nodePath, newName) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    treeCopy.renameNode(node, newName);\n    return treeCopy;\n  }\n\n  updateNodeByPath(tree, nodePath, keys, newValues) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    treeCopy.updateNode(node, keys, newValues);\n    return treeCopy;\n  }\n\n  moveNodeByPath(tree, nodePath, destPath, nodeName) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    let destNode = treeCopy.getNodeByPath(destPath);\n    if (destNode && node) {        // node has loaded\n      node.object.name = nodeName; // need not update path\n      treeCopy.moveNode(node, destNode);\n    }\n    if (!destNode && node){\n      treeCopy.deleteNode(node);\n    }\n    return treeCopy;\n  }\n\n  moveNodeListByPaths(tree, nodePaths, destPath) {\n    let treeCopy = tree.clone();\n    let destNode = treeCopy.getNodeByPath(destPath);\n    if (destNode) {\n      nodePaths.forEach(nodePath => { \n        let node = treeCopy.getNodeByPath(nodePath);\n        treeCopy.moveNode(node, destNode);\n      });\n    } else {\n      nodePaths.forEach(nodePath=> {\n        let node = treeCopy.getNodeByPath(nodePath);\n        treeCopy.delete(node);\n      });\n    }\n    return treeCopy;\n  }\n\n  copyNodeByPath(tree, nodePath, destPath, nodeName) {\n    let treeCopy = tree.clone();\n    let destNode = treeCopy.getNodeByPath(destPath);\n    let treeNode = treeCopy.getNodeByPath(nodePath);\n    if (destNode) {\n      let node = treeNode.clone();  // need a dup\n      node.object.name = nodeName;  // need not update path\n      treeCopy.copyNode(node, destNode);\n    }\n    return treeCopy;\n  }\n  \n  copyNodeListByPaths(tree, nodePaths, destPath) {\n    let treeCopy = tree.clone();\n    let destNode = treeCopy.getNodeByPath(destPath);\n    if (destNode) {\n      nodePaths.forEach(nodePath => {\n        let node = treeCopy.getNodeByPath(nodePath);\n        treeCopy.copyNode(node, destNode);\n      });\n    }\n    return treeCopy;\n  }\n\n  buildTree() {\n    let tree = new Tree();\n    let object = new Dirent({name: '/'});\n    let root = new TreeNode({object, isLoaded: false, isExpanded: true});\n    tree.setRoot(root);\n    return tree;\n  }\n}\n\nlet treeHelper = new TreeHelper();\n\nexport default treeHelper;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-helper.js","import TreeNode from './tree-node';\n\nclass Tree {\n\n  constructor() {\n    this.root = null;\n  }\n\n  clone() {\n    let tree = new Tree();\n    if (this.root) {\n      tree.root = this.root.clone();\n    }\n    return tree;\n  }\n\n  setRoot(node) {\n    this.root = node;\n  }\n\n  getNodeByPath(path) { \n    let findNode = null;\n    function callback(currentNode) {\n      if (currentNode.path === path) {\n        findNode = currentNode;\n        return true;\n      }\n      return false;\n    }\n    this.traverseDF(callback);\n    return findNode;\n  }\n\n  getNodeChildrenObject(node) {\n    let objects = node.children.map(item => {\n      let object = item.object;\n      return object;\n    });\n    return objects;\n  }\n\n  addNodeToParent(node, parentNode) {\n    parentNode.addChild(node);\n  }\n\n  addNodeListToParent(nodeList, parentNode) {\n    nodeList.forEach(node => {\n      parentNode.addChild(node);\n    });\n  }\n\n  deleteNode(node) {\n    let parentNode = this.getNodeByPath(node.parentNode.path);\n    parentNode.deleteChild(node);\n  }\n\n  deleteNodeList(nodeList) {\n    nodeList.forEach(node => {\n      this.deleteNode(node);\n    });\n  }\n\n  renameNode(node, newName) {\n    node.rename(newName);\n  }\n\n  updateNode(node, keys, newValues) {\n    node.updateObjectParam(keys, newValues);\n  }\n\n  moveNode(node, destNode) {\n    this.deleteNode(node);\n    destNode.addChild(node);\n  }\n\n  copyNode(node, destNode) {\n    destNode.addChild(node);\n  }\n\n  traverseDF(callback) {\n    let stack = [];\n    let found = false;\n    stack.unshift(this.root);\n    let currentNode = stack.shift();\n    while (!found && currentNode) {\n      found = callback(currentNode) == true ? true : false;\n      if (!found) {\n        stack.unshift(...currentNode.children);\n        currentNode = stack.shift();\n      }\n    }\n  }\n\n  traverseBF(callback) {\n    let queue = [];\n    let found = false;\n    queue.push(this.root);\n    let currentNode = queue.shift();\n    while (!found && currentNode) {\n      found = callback(currentNode) === true ? true : false;\n      if (!found) {\n        queue.push(...currentNode.children);\n        currentNode = queue.shift();\n      }\n    }\n  }\n\n  expandNode(node) {\n    node.isExpanded = true;\n    while (node.parentNode) {\n      node.parentNode.isExpanded = true;\n      node = node.parentNode;\n    }\n  }\n  \n  collapseNode(node) {\n    node.isExpanded = false;\n  }\n\n  isNodeChild(node, parentNode) {\n    return parentNode.children.some(item => {\n      return item.path === node.path;\n    });\n  }\n\n  serializeToJson() {\n    return this.root.serializeToJson();\n  }\n\n  deserializefromJson(json) {\n    let root = TreeNode.deserializefromJson(json);\n    let tree = new Tree();\n    tree.setRoot(root);\n    return tree;\n  }\n\n}\n\nexport default Tree;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TreeNodeView from './tree-node-view';\n\nimport TreeViewContextMenu from './tree-view-contextmenu'\n\nconst propTypes = {\n  repoPermission: PropTypes.bool,\n  isNodeMenuShow: PropTypes.bool.isRequired,\n  treeData: PropTypes.object.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onMenuItemClick: PropTypes.func,\n  onNodeClick: PropTypes.func.isRequired,\n  onNodeExpanded: PropTypes.func.isRequired,\n  onNodeCollapse: PropTypes.func.isRequired,\n  onItemMove: PropTypes.func,\n  currentRepoInfo: PropTypes.object,\n};\n\nconst PADDING_LEFT = 20;\n\nclass TreeView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n      isRightMenuShow: false,\n      nodeData: null,\n      fileData: null,\n      mousePosition: {clientX: '', clientY: ''},\n    };\n  }\n\n  componentDidMount() {\n    this.registerHandlers();\n  }\n\n  componentWillUnmount() {\n    this.unregisterHandlers();\n  }\n\n  onItemMove = (repo, dirent, selectedPath, currentPath) => {\n    this.props.onItemMove(repo, dirent, selectedPath, currentPath);\n  }\n\n  onNodeDragStart = (e, node) => {\n    let dragStartNodeData = {nodeDirent: node.object, nodeParentPath: node.parentNode.path, nodeRootPath: node.path};\n    dragStartNodeData = JSON.stringify(dragStartNodeData);\n    \n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData('applicaiton/drag-item-info', dragStartNodeData);\n  }\n\n  onNodeDragEnter = (e, node) => {\n    //todo\n  }\n\n  onNodeDragMove = (e) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n  }\n\n  onNodeDragLeave = (e, node) => {\n    //todo\n  }\n\n  onNodeDrop = (e, node) => {\n    if (e.dataTransfer.files.length) { // uploaded files\n      return;\n    }\n    let dragStartNodeData = e.dataTransfer.getData('applicaiton/drag-item-info');\n    dragStartNodeData = JSON.parse(dragStartNodeData);\n\n    let {nodeDirent, nodeParentPath, nodeRootPath} = dragStartNodeData;\n    let dropNodeData = node;\n\n    if (dropNodeData.object.type !== 'dir') {\n      return;\n    }\n\n    // copy the dirent to itself. eg: A/B -> A/B\n    if (nodeParentPath === dropNodeData.parentNode.path) {\n      if (dropNodeData.object.name === nodeDirent.name) {\n        return;\n      }\n    }\n\n    // copy the dirent to it's child. eg: A/B -> A/B/C\n    if (dropNodeData.object.type === 'dir' && nodeDirent.type === 'dir') {\n      if (dropNodeData.parentNode.path !== nodeParentPath) {\n        if (dropNodeData.path.indexOf(nodeRootPath) !== -1) {\n          return;\n        }\n      }\n    }\n\n    this.onItemMove(this.props.currentRepoInfo, nodeDirent, dropNodeData.path, nodeParentPath);\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnFreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  contextMenu = (e) => {\n    e.preventDefault();\n    this.setState({\n      isRightMenuShow:false,\n    });\n    setTimeout(() => { \n      this.setState({\n        isRightMenuShow:true,\n        fileData:this.state.nodeData,\n        mousePosition: {clientX: e.clientX, clientY: e.clientY}\n      })\n    },40)\n  }  \n\n  unregisterHandlers = () => {\n    let treeView = document.querySelector('.tree-view');\n    treeView.removeEventListener('contextmenu', this.contextMenu);\n  }\n\n  registerHandlers = () => {\n    let treeView = document.querySelector('.tree-view');\n    treeView.addEventListener('contextmenu', this.contextMenu);\n  }\n\n  onNodeChanged = (node) => {\n    this.setState({\n      nodeData:node\n    })\n  }\n\n  closeRightMenu = () => {\n    this.setState({\n      isRightMenuShow:false,\n    })\n  }\n\n  onMenuItemClick = (operation, node) => {\n    this.props.onMenuItemClick(operation, node)\n  }\n\n  render() {\n    return (\n      <div className=\"tree-view tree\">\n        <TreeNodeView \n          repoPermission={this.props.repoPermission}\n          node={this.props.treeData.root}\n          currentPath={this.props.currentPath}\n          paddingLeft={PADDING_LEFT}\n          isNodeMenuShow={this.props.isNodeMenuShow}\n          isItemFreezed={this.state.isItemFreezed}\n          onNodeClick={this.props.onNodeClick}\n          onMenuItemClick={this.props.onMenuItemClick}\n          onNodeExpanded={this.props.onNodeExpanded}\n          onNodeCollapse={this.props.onNodeCollapse}\n          onNodeDragStart={this.onNodeDragStart}\n          onFreezedItem={this.onFreezedItem}\n          onUnFreezedItem={this.onUnFreezedItem}\n          onNodeChanged={this.onNodeChanged}\n          registerHandlers={this.registerHandlers}\n          unregisterHandlers={this.unregisterHandlers}\n          onNodeDragMove={this.onNodeDragMove}\n          onNodeDrop={this.onNodeDrop}\n          onNodeDragEnter={this.onNodeDragEnter}\n          onNodeDragLeave={this.onNodeDragLeave}\n        />\n       {this.state.isRightMenuShow && (\n          <TreeViewContextMenu \n            node={this.state.fileData}\n            onMenuItemClick={this.onMenuItemClick}\n            mousePosition={this.state.mousePosition}\n            closeRightMenu={this.closeRightMenu}\n            registerHandlers={this.registerHandlers}\n            unregisterHandlers={this.unregisterHandlers}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nTreeView.propTypes = propTypes;\n\nexport default TreeView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TreeNodeMenu from './tree-node-menu';\nimport { permission } from '../../utils/constants';\n\nconst propTypes = {\n  repoPermission: PropTypes.bool,\n  node: PropTypes.object.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  paddingLeft: PropTypes.number.isRequired,\n  isNodeMenuShow: PropTypes.bool.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onNodeClick: PropTypes.func.isRequired,\n  onNodeExpanded: PropTypes.func.isRequired,\n  onNodeCollapse: PropTypes.func.isRequired,\n  onNodeDragStart: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnFreezedItem: PropTypes.func.isRequired,\n  onMenuItemClick: PropTypes.func,\n  registerHandlers: PropTypes.func,\n  unregisterHandlers: PropTypes.func,\n  onNodeDragMove: PropTypes.func,\n  onNodeDrop: PropTypes.func,\n};\n\nclass TreeNodeView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHighlight: false,\n      isShowOperationMenu: false,\n      isNodeDropShow: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isShowOperationMenu: true,\n        isHighlight: true,\n      });\n    }\n    this.props.onNodeChanged(this.props.node)\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isShowOperationMenu: false,\n        isHighlight: false,\n      });\n    }\n    this.props.onNodeChanged(null)\n  }\n\n  onNodeClick = () => {\n    this.props.onNodeClick(this.props.node);\n  }\n\n  onLoadToggle = () => {\n    let { node } = this.props;\n    if (node.isExpanded) {\n      this.props.onNodeCollapse(node);\n    } else {\n      this.props.onNodeExpanded(node);\n    }\n  }\n\n  onNodeDragStart = (e) => {\n    this.props.onNodeDragStart(e, this.props.node);\n  }\n\n  onNodeDragEnter = (e) => {\n    if (this.props.node.object.type === 'dir') {\n      this.setState({isNodeDropShow: true});\n    }\n    this.props.onNodeDragEnter(e, this.props.node);\n  }\n\n  onNodeDragMove = (e) => {\n    this.props.onNodeDragMove(e);\n  }\n\n  onNodeDragLeave = (e) => {\n    this.setState({isNodeDropShow: false});\n    this.props.onNodeDragLeave(e, this.props.node);\n  }\n\n  onNodeDrop = (e) => {\n    this.setState({isNodeDropShow: false});\n    this.props.onNodeDrop(e, this.props.node);\n  }\n\n  onUnFreezedItem = () => {\n    this.setState({isShowOperationMenu: false});\n    this.props.onUnFreezedItem();\n  }\n\n  onMenuItemClick = (operation, node) => {\n    this.props.onMenuItemClick(operation, node);\n  }\n\n  getNodeTypeAndIcon = () => {\n    let { node } = this.props;\n    let icon = '';\n    let type = '';\n    if (node.object.type === 'dir') {\n      icon = <i className=\"far fa-folder\"></i>;\n      type = 'dir';\n    } else {\n      let index = node.object.name.lastIndexOf('.');\n      if (index === -1) {\n        icon = <i className=\"far fa-file\"></i>;\n        type = 'file';\n      } else {\n        let suffix = node.object.name.slice(index).toLowerCase();\n        if (suffix === '.png' || suffix === '.jpg' || suffix === '.jpeg' || suffix === '.gif' || suffix === '.bmp') {\n          icon = <i className=\"far fa-image\"></i>;\n          type = 'image';\n        } \n        else if (suffix === '.md' || suffix === '.markdown') {\n          icon = <i className=\"far fa-file-alt\"></i>;\n          type = 'file';\n        }\n        else {\n          icon = <i className=\"far fa-file\"></i>;\n          type = 'file';\n        }\n      }\n    }\n    return {icon, type};\n  }\n\n  renderChildren = () => {\n    let { node, paddingLeft } = this.props;\n    if (!node.hasChildren()) {\n      return '';\n    }\n    return (\n      <div className=\"children\" style={{paddingLeft: paddingLeft}}>\n        {node.children.map(item => {\n          return (\n            <TreeNodeView \n              key={item.path}\n              node={item}\n              paddingLeft={paddingLeft}\n              repoPermission={this.props.repoPermission}\n              currentPath={this.props.currentPath}\n              isNodeMenuShow={this.props.isNodeMenuShow}\n              isItemFreezed={this.props.isItemFreezed}\n              onNodeClick={this.props.onNodeClick}\n              onNodeCollapse={this.props.onNodeCollapse}\n              onNodeExpanded={this.props.onNodeExpanded}\n              onFreezedItem={this.props.onFreezedItem}\n              onMenuItemClick={this.onMenuItemClick}\n              onUnFreezedItem={this.onUnFreezedItem}\n              onNodeChanged={this.props.onNodeChanged}\n              registerHandlers={this.props.registerHandlers}\n              unregisterHandlers={this.props.unregisterHandlers}\n              onNodeDragStart={this.props.onNodeDragStart}\n              onNodeDragMove={this.props.onNodeDragMove}\n              onNodeDrop={this.props.onNodeDrop}\n              onNodeDragEnter={this.props.onNodeDragEnter}\n              onNodeDragLeave={this.props.onNodeDragLeave}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n\n  render() {\n    let { currentPath, node, isNodeMenuShow } = this.props;\n    let { type, icon } = this.getNodeTypeAndIcon();\n    let hlClass = this.state.isHighlight ? 'tree-node-inner-hover ' : '';\n    if (node.path === currentPath) {\n      hlClass = 'tree-node-hight-light';\n    }\n    return (\n      <div className=\"tree-node\">\n        <div type={type} title={node.object.name}\n          onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}\n          className={`tree-node-inner text-nowrap ${hlClass} ${node.path === '/'? 'hide': ''} ${this.state.isNodeDropShow ? 'tree-node-drop' : ''}`}>\n          <div className=\"tree-node-text\" draggable=\"true\" onDragStart={this.onNodeDragStart} onClick={this.onNodeClick} onDragEnter={this.onNodeDragEnter} onDragLeave={this.onNodeDragLeave} onDragOver={this.onNodeDragMove} onDrop={this.onNodeDrop}>{node.object.name}</div>\n          <div className=\"left-icon\">\n            {type === 'dir' && (!node.isLoaded ||  (node.isLoaded && node.hasChildren())) && (\n              <i \n                className={`folder-toggle-icon fa ${node.isExpanded ? 'fa-caret-down' : 'fa-caret-right'}`}\n                onMouseDown={e => e.stopPropagation()}\n                onClick={this.onLoadToggle}\n              ></i>\n            )}\n            <i className=\"tree-node-icon\">{icon}</i>\n          </div>\n          {isNodeMenuShow && (\n            <div className=\"right-icon\">\n              {((this.props.repoPermission || permission) && this.state.isShowOperationMenu) && (\n                <TreeNodeMenu \n                  node={this.props.node}\n                  onMenuItemClick={this.onMenuItemClick}\n                  onUnFreezedItem={this.onUnFreezedItem}\n                  onFreezedItem={this.props.onFreezedItem}\n                  registerHandlers={this.props.registerHandlers}\n                  unregisterHandlers={this.props.unregisterHandlers}\n                />\n              )}\n            </div>\n          )}\n        </div>\n        {node.isExpanded && this.renderChildren()}\n      </div>\n    );\n  }\n}\n\nTreeNodeView.propTypes = propTypes;\n\nexport default TreeNodeView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-node-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  node: PropTypes.object.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnFreezedItem: PropTypes.func.isRequired,\n  registerHandlers: PropTypes.func,\n  unregisterHandlers: PropTypes.func,\n};\n\nclass TreeNodeMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false,\n      menuList: []\n    };\n  }\n\n  componentDidMount() {\n    let menuList = this.caculateMenuList();\n    this.setState({menuList: menuList});\n  }\n\n  caculateMenuList() {\n    let { node } = this.props;\n    let menuList = [];\n    if (node.object.type === 'dir') {\n      menuList = ['New Folder', 'New File', 'Copy', 'Move', 'Rename', 'Delete'];\n    } else {\n      menuList = ['Rename', 'Delete', 'Copy', 'Move', 'Open in New Tab'];\n    }\n    return menuList;\n  }\n\n  translateMenuItem = (menuItem) => {\n    let translateResult = '';\n    switch(menuItem) {\n      case 'New Folder':\n        translateResult = gettext('New Folder');\n        break;\n      case 'New File':\n        translateResult = gettext('New File');\n        break;\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Copy':\n        translateResult = gettext('Copy');\n        break;\n      case 'Move':\n        translateResult = gettext('Move');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Open in New Tab':\n        translateResult = gettext('Open in New Tab');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    e.stopPropagation();\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow }, () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.props.onUnFreezedItem();\n        }\n      }\n    );\n  }\n\n  onMenuItemClick = (event) => {\n    let operation = event.target.dataset.toggle;\n    let node = this.props.node;\n    this.props.onMenuItemClick(operation, node);\n  }\n\n  render() {\n    this.state.isItemMenuShow ? this.props.unregisterHandlers() : this.props.registerHandlers()\n\n    return (\n      <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n        <DropdownToggle \n          tag=\"i\" \n          className=\"fas fa-ellipsis-v\" \n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\" \n          aria-expanded={this.state.isItemMenuShow}\n          onClick={this.onDropdownToggleClick}\n        />\n        <DropdownMenu>\n          {this.state.menuList.map((menuItem, index) => {\n            return (\n              <DropdownItem key={index} data-toggle={menuItem} onClick={this.onMenuItemClick}>{this.translateMenuItem(menuItem)}</DropdownItem>\n            );\n          })}\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nTreeNodeMenu.propTypes = propTypes;\n\nexport default TreeNodeMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-node-menu.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\n\nimport '../../css/tree-view-contextmenu.css'\n\nconst propTypes = {\n  onMenuItemClick: PropTypes.func.isRequired,\n  node: PropTypes.object,\n  mousePosition: PropTypes.object,\n  closeRightMenu: PropTypes.func,\n  registerHandlers:PropTypes.func,\n  unregisterHandlers:PropTypes.func\n};\n\nclass TreeViewContextMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false,\n      menuList: [],\n    };\n  }\n\n  componentDidMount() {\n    let menuList = this.caculateMenuList();\n    this.setState({menuList: menuList});\n  }\n\n  componentDidUpdate() {\n    this.calculateMenuDistance();\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.listenClick);\n    document.removeEventListener('mousemove', this.handleContextMenu);\n  }\n\n  caculateMenuList() {\n    let { node } = this.props;\n    let menuList = [];\n    if (!node) {\n        menuList = ['New Folder', 'New File'];\n    } else {\n      if (node.object.type === 'dir') {\n        menuList = ['New Folder', 'New File', 'Copy', 'Move', 'Rename', 'Delete'];\n      } else {\n        menuList = ['Rename', 'Delete', 'Copy', 'Move', 'Open in New Tab'];\n      } \n    }\n    return menuList;\n  }\n\n  calculateMenuDistance = () => {\n    let mousePosition = this.props.mousePosition;\n    let rightTreeMenu = document.querySelector('.right-tree-menu');\n    let rightTreeMenuHeight = rightTreeMenu.offsetHeight;\n\n    if (mousePosition.clientY + rightTreeMenuHeight > document.body.clientHeight) {\n      rightTreeMenu.style.top = mousePosition.clientY - rightTreeMenuHeight + 'px';\n    } else {\n      rightTreeMenu.style.top = mousePosition.clientY + 'px';\n    }\n    rightTreeMenu.style.left = mousePosition.clientX + 'px';\n\n    document.addEventListener('click', this.listenClick);\n    document.addEventListener('mousemove', this.handleContextMenu);\n  }\n\n  translateMenuItem = (menuItem) => {\n    let translateResult = '';\n    switch(menuItem) {\n      case 'New Folder':\n        translateResult = gettext('New Folder');\n        break;\n      case 'New File':\n        translateResult = gettext('New File');\n        break;\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Copy':\n        translateResult = gettext('Copy');\n        break;\n      case 'Move':\n        translateResult = gettext('Move');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Open in New Tab':\n        translateResult = gettext('Open in New Tab');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  }\n\n  handleContextMenu = (e) => {\n    let mousePosition = this.props.mousePosition;\n    let rightTreeMenu = document.querySelector('.right-tree-menu');\n    let rightTreeMenuHeight = rightTreeMenu.offsetHeight;\n    let rightTreeMenuWidth = rightTreeMenu.offsetWidth;\n\n    if (mousePosition.clientY + rightTreeMenuHeight > document.body.clientHeight) {\n      if ((e.clientX >= mousePosition.clientX) && (e.clientX <= (mousePosition.clientX + rightTreeMenuWidth)) && (e.clientY <= mousePosition.clientY) && (e.clientY >= (mousePosition.clientY - rightTreeMenuHeight))) {\n        this.props.unregisterHandlers();\n      } else {\n        this.props.registerHandlers();\n      }\n    } else {\n      if ((e.clientX >= mousePosition.clientX) && (e.clientX <= (mousePosition.clientX + rightTreeMenuWidth)) && (e.clientY >= mousePosition.clientY) && (e.clientY <= (mousePosition.clientY + rightTreeMenuHeight))) {\n        this.props.unregisterHandlers();\n      } else {\n        this.props.registerHandlers();\n      }\n    }\n  }\n\n  listenClick = (e) => {\n    let mousePosition = this.props.mousePosition;\n    let rightTreeMenu = document.querySelector('.right-tree-menu');\n    let rightTreeMenuHeight = rightTreeMenu.offsetHeight;\n    let rightTreeMenuWidth = rightTreeMenu.offsetWidth;\n\n    if ((e.clientX <= mousePosition.clientX) || (e.clientX >= (mousePosition.clientX + rightTreeMenuWidth))) {\n      this.props.closeRightMenu();\n    }\n\n    if (mousePosition.clientY + rightTreeMenuHeight > document.body.clientHeight) {\n      if ((e.clientY <= (mousePosition.clientY - rightTreeMenuHeight)) || e.clientY >= mousePosition.clientY) {\n        this.props.closeRightMenu();\n      }\n    } else {\n      if ((e.clientY <= mousePosition.clientY) || (e.clientY >= (mousePosition.clientY + rightTreeMenuHeight))) {\n        this.props.closeRightMenu();\n      }\n    }\n  }\n\n  onMenuItemClick = (event) => {\n    let operation = event.target.dataset.toggle;\n    let node = this.props.node;\n    this.props.onMenuItemClick(operation, node);\n    this.props.closeRightMenu();\n  }\n\n  render() {\n    return (\n      <div className='right-tree-menu'>\n        {this.state.menuList.map((menuItem, index) => {\n          return (\n            <button className='right-tree-item' key={index} data-toggle={menuItem} onClick={this.onMenuItemClick}>{this.translateMenuItem(menuItem)}</button>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nTreeViewContextMenu.propTypes = propTypes;\n\nexport default TreeViewContextMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-view-contextmenu.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MarkdownViewer from '@seafile/seafile-editor/dist/viewer/markdown-viewer';\nimport { gettext, repoID, slug, serviceURL, isPublicWiki } from '../utils/constants';\nimport Loading from './loading';\nimport { Utils } from '../utils/utils';\n\nconst propTypes = {\n  children: PropTypes.object,\n  isFileLoading: PropTypes.bool.isRequired,\n  markdownContent: PropTypes.string.isRequired,\n  latestContributor: PropTypes.string.isRequired,\n  lastModified: PropTypes.string.isRequired,\n  onLinkClick: PropTypes.func.isRequired,\n  isWiki: PropTypes.bool,\n  isTOCShow: PropTypes.bool,\n};\n\nconst contentClass = 'wiki-page-content';\n\nclass WikiMarkdownViewer extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTitleIndex: 0\n    };\n    this.markdownContainer = React.createRef();\n    this.links = [];\n    this.titlesInfo = [];\n  }\n\n  componentDidMount() {\n    // Bind event when first loaded\n    this.links = document.querySelectorAll(`.${contentClass} a`);\n    this.links.forEach(link => {\n      link.addEventListener('click', this.onLinkClick);\n    });\n  }\n\n  componentWillReceiveProps() {\n    // Unbound event when updating\n    this.links.forEach(link => {\n      link.removeEventListener('click', this.onLinkClick);\n    });\n  }\n\n  componentDidUpdate() {\n    // Update completed, rebind event\n    this.links = document.querySelectorAll(`.${contentClass} a`);\n    this.links.forEach(link => {\n      link.addEventListener('click', this.onLinkClick);\n    });\n  }\n\n  componentWillUnmount() {\n    // Rebinding events when the component is destroyed\n    this.links.forEach(link => {\n      link.removeEventListener('click', this.onLinkClick);\n    });\n  }\n\n  onContentRendered = (markdownViewer) => {\n    this.titlesInfo = markdownViewer.titlesInfo;\n  }\n\n  onLinkClick = (event) => {\n    event.preventDefault(); \n    event.stopPropagation();\n    let link = '';\n    if (event.target.tagName !== 'A') {\n      let target = event.target.parentNode;\n      while (target.tagName !== 'A') {\n        target = target.parentNode;\n      }\n      link = target.href;\n    } else {\n      link = event.target.href;\n    }\n    this.props.onLinkClick(link);\n  }\n\n  onScrollHandler = () => {\n    const contentScrollTop = this.markdownContainer.current.scrollTop + 180;\n    let titlesLength = this.titlesInfo.length;\n    let activeTitleIndex;\n    if (contentScrollTop <= this.titlesInfo[0]) {\n      activeTitleIndex = 0;\n      this.setState({activeTitleIndex: activeTitleIndex});\n      return;\n    }\n    if (contentScrollTop > this.titlesInfo[titlesLength - 1]) {\n      activeTitleIndex = this.titlesInfo.length - 1;\n      this.setState({activeTitleIndex: activeTitleIndex});\n      return;\n    }\n    for (let i = 0; i < titlesLength; i++) {\n      if (contentScrollTop > this.titlesInfo[i]) {\n        continue;\n      } else {\n        activeTitleIndex = i - 1;\n        break;\n      }\n    }\n    this.setState({activeTitleIndex: activeTitleIndex});\n  }\n\n  changeInlineNode = (item) => {\n    if (item.object == 'inline') {\n      let url;\n\n      // change image url\n      if (item.type == 'image' && isPublicWiki) {\n        url = item.data.src;\n        const re = new RegExp(serviceURL + '/lib/' + repoID +'/file.*raw=1');\n        // different repo \n        if (!re.test(url)) {\n          return;\n        }\n        // get image path\n        let index = url.indexOf('/file');\n        let index2 = url.indexOf('?');\n        const imagePath = url.substring(index + 5, index2);\n        // replace url\n        item.data.src = serviceURL + '/view-image-via-public-wiki/?slug=' + slug + '&path=' + imagePath;\n      } \n\n      else if (item.type == 'link') {\n        url = item.data.href;\n        // change file url \n        if (Utils.isInternalMarkdownLink(url, repoID)) {\n          let path = Utils.getPathFromInternalMarkdownLink(url, repoID);\n          // replace url\n          item.data.href = serviceURL + '/wikis/' + slug + path;\n        } \n        // change dir url \n        else if (Utils.isInternalDirLink(url, repoID)) {\n          let path = Utils.getPathFromInternalDirLink(url, repoID);\n          // replace url\n          item.data.href = serviceURL + '/wikis/' + slug + path;\n        } \n      }\n    }\n\n    return item;\n  }\n\n  modifyValueBeforeRender = (value) => {\n    let nodes = value.document.nodes;\n    let newNodes = Utils.changeMarkdownNodes(nodes, this.changeInlineNode);\n    value.document.nodes = newNodes;\n    return value;\n  }\n\n  renderMarkdown = () => {\n    let isTOCShow = true;\n    if (this.props.isTOCShow === false) {\n      isTOCShow = false;\n    }\n    if (this.props.isWiki) {\n      return (\n        <MarkdownViewer\n          showTOC={isTOCShow}\n          markdownContent={this.props.markdownContent}\n          activeTitleIndex={this.state.activeTitleIndex}\n          onContentRendered={this.onContentRendered}\n          modifyValueBeforeRender={this.modifyValueBeforeRender}\n        />\n      );\n    }\n\n    return (\n      <MarkdownViewer\n        showTOC={isTOCShow}\n        markdownContent={this.props.markdownContent}\n        activeTitleIndex={this.state.activeTitleIndex}\n        onContentRendered={this.onContentRendered}\n      />\n    );\n  }\n\n  render() {\n    if (this.props.isFileLoading) {\n      return <Loading />;\n    }\n    return (\n      <div ref={this.markdownContainer} className=\"wiki-page-container\" onScroll={this.onScrollHandler.bind(this)}>\n        <div className={contentClass}>\n          {this.props.children}\n          {this.renderMarkdown()}\n          <p id=\"wiki-page-last-modified\">{gettext('Last modified by')} {this.props.latestContributor}, <span>{this.props.lastModified}</span></p>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst defaultProps = {\n  isWiki: false,\n};\n\nWikiMarkdownViewer.propTypes = propTypes;\nMarkdownViewer.defaultProps = defaultProps;\n\nexport default WikiMarkdownViewer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/wiki-markdown-viewer.js","import React from 'react';\nimport { css } from 'glamor';\nimport PropTypes from 'prop-types';\nimport Transition from 'react-transition-group/Transition';\nimport Alert from './alert';\n\nconst animationEasing = {\n  deceleration: 'cubic-bezier(0.0, 0.0, 0.2, 1)',\n  acceleration: 'cubic-bezier(0.4, 0.0, 1, 1)',\n  spring: 'cubic-bezier(0.175, 0.885, 0.320, 1.175)'\n};\n\nconst ANIMATION_DURATION = 240;\n\nconst openAnimation = css.keyframes('openAnimation', {\n  from: {\n    opacity: 0,\n    transform: 'translateY(-120%)'\n  },\n  to: {\n    transform: 'translateY(0)'\n  }\n});\n\nconst closeAnimation = css.keyframes('closeAnimation', {\n  from: {\n    transform: 'scale(1)',\n    opacity: 1\n  },\n  to: {\n    transform: 'scale(0.9)',\n    opacity: 0\n  }\n});\n\nconst animationStyles = css({\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  height: 0,\n  transition: `all ${ANIMATION_DURATION}ms ${animationEasing.deceleration}`,\n  '&[data-state=\"entering\"], &[data-state=\"entered\"]': {\n    animation: `${openAnimation} ${ANIMATION_DURATION}ms ${animationEasing.spring} both`\n  },\n  '&[data-state=\"exiting\"]': {\n    animation: `${closeAnimation} 120ms ${animationEasing.acceleration} both`\n  }\n});\n\nexport default class Toast extends React.PureComponent {\n  static propTypes = {\n    /**\n     * The z-index of the toast.\n     */\n    zIndex: PropTypes.number,\n\n    /**\n     * Duration of the toast.\n     */\n    duration: PropTypes.number,\n\n    /**\n     * Function called when the toast is all the way closed.\n     */\n    onRemove: PropTypes.func,\n\n    /**\n     * The type of the alert.\n     */\n    intent: PropTypes.oneOf(['none', 'success', 'warning', 'danger']).isRequired,\n\n    /**\n     * The title of the alert.\n     */\n    title: PropTypes.node,\n\n    /**\n     * Description of the alert.\n     */\n    children: PropTypes.node,\n\n    /**\n     * When true, show a close icon button inside of the toast.\n     */\n    hasCloseButton: PropTypes.bool,\n\n    /**\n     * When false, will close the Toast and call onRemove when finished.\n     */\n    isShown: PropTypes.bool\n  }\n\n  static defaultProps = {\n    intent: 'none'\n  }\n\n  state = {\n    isShown: true,\n    height: 0\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.isShown !== this.props.isShown) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({\n        isShown: this.props.isShown\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.startCloseTimer();\n  }\n\n  componentWillUnmount() {\n    this.clearCloseTimer();\n  }\n\n  close = () => {\n    this.clearCloseTimer();\n    this.setState({\n      isShown: false\n    });\n  }\n\n  startCloseTimer = () => {\n    if (this.props.duration) {\n      this.closeTimer = setTimeout(() => {\n        this.close();\n      }, this.props.duration * 1000);\n    }\n  }\n\n  clearCloseTimer = () => {\n    if (this.closeTimer) {\n      clearTimeout(this.closeTimer);\n      this.closeTimer = null;\n    }\n  }\n\n  handleMouseEnter = () => {\n    this.clearCloseTimer();\n  }\n\n  handleMouseLeave = () => {\n    this.startCloseTimer();\n  }\n\n  onRef = ref => {\n    if (ref === null) return;\n\n    const { height } = ref.getBoundingClientRect();\n\n    this.setState({\n      height\n    });\n  }\n\n  render() {\n    return (\n      <Transition\n        appear\n        unmountOnExit\n        timeout={ANIMATION_DURATION}\n        in={this.state.isShown}\n        onExited={this.props.onRemove}\n      >\n        {state => (\n          <div\n            data-state={state}\n            className={animationStyles}\n            onMouseEnter={this.handleMouseEnter}\n            onMouseLeave={this.handleMouseLeave}\n            style={{\n              height: this.state.height,\n              zIndex: this.props.zIndex,\n              marginBottom: this.state.isShown ? 0 : -this.state.height\n            }}\n          >\n            <div ref={this.onRef} style={{ padding: 8 }}>\n              <Alert\n                intent={this.props.intent}\n                title={this.props.title}\n                children={this.props.children}\n                isRemoveable={this.props.hasCloseButton}\n                onRemove={() => this.close()}\n              />\n            </div>\n          </div>\n        )}\n      </Transition>\n    );\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/toast/toast.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  fileType: PropTypes.string,\n  parentPath: PropTypes.string.isRequired,\n  onAddFolder: PropTypes.func.isRequired,\n  checkDuplicatedName: PropTypes.func.isRequired,\n  addFolderCancel: PropTypes.func.isRequired,\n};\n\nclass CreateForder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      parentPath: '',\n      childName: '',\n      errMessage: ''\n    };\n    this.newInput = React.createRef();\n  }\n\n  componentDidMount() {\n    let parentPath = this.props.parentPath;\n    if (parentPath[parentPath.length - 1] === '/') {  // mainPanel\n      this.setState({parentPath: parentPath});\n    } else {\n      this.setState({parentPath: parentPath + '/'}); // sidePanel\n    }\n    this.newInput.focus();\n    this.newInput.setSelectionRange(0,0);\n  }\n\n  handleChange = (e) => {\n    this.setState({childName: e.target.value});\n  }\n\n  handleSubmit = () => {\n    let newName = this.state.childName;\n    let isDuplicated = this.checkDuplicatedName();\n    if (isDuplicated) {\n      let errMessage = gettext('The name \"{name}\" is already taken. Please choose a different name.');\n      errMessage = errMessage.replace('{name}', Utils.HTMLescape(newName));\n      this.setState({errMessage: errMessage});\n    } else {\n      let path = this.state.parentPath + newName;\n      this.props.onAddFolder(path);\n    }\n  } \n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  }\n\n  toggle = () => {\n    this.props.addFolderCancel();\n  }\n\n  checkDuplicatedName = () => {\n    let isDuplicated = this.props.checkDuplicatedName(this.state.childName);\n    return isDuplicated;\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Folder')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"folderName\">{gettext('Name')}</Label>\n              <Input \n                id=\"folderName\" \n                value={this.state.childName} \n                innerRef={input => {this.newInput = input;}} \n                onKeyPress={this.handleKeyPress} \n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\" className=\"mt-2\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nCreateForder.propTypes = propTypes;\n\nexport default CreateForder;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/create-folder-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\n\nconst propTypes = {\n  onCancelDownload: PropTypes.func.isRequired,\n  progress: PropTypes.number.isRequired,\n};\n\nclass ZipDownloadDialog extends React.Component {\n\n  toggle = () => {\n    this.props.onCancelDownload();\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}></ModalHeader>\n        <ModalBody>\n          <div>{this.props.progress + '%'}</div>\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nZipDownloadDialog.propTypes = propTypes;\n\nexport default ZipDownloadDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/zip-download-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport moment from 'moment';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  currentTag: PropTypes.object.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired,\n  updateUsedRepoTags: PropTypes.func.isRequired,\n};\n\nclass ListTaggedFilesDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      taggedFileList: [],\n    };\n  }\n\n  onDeleteTaggedFile = (taggedFile) => {\n    let repoID = this.props.repoID;\n    let fileTagID = taggedFile.file_tag_id;\n    seafileAPI.deleteFileTag(repoID, fileTagID).then(res => {\n      this.getTaggedFiles();\n      this.props.updateUsedRepoTags();\n    });\n  }\n\n  componentDidMount() {\n    this.getTaggedFiles();\n  }\n\n  getTaggedFiles = () => {\n    let { repoID, currentTag } = this.props;\n    seafileAPI.listTaggedFiles(repoID, currentTag.id).then(res => {\n      let taggedFileList = [];\n      res.data.tagged_files !== undefined &&\n      res.data.tagged_files.forEach(file => {\n        let taggedFile = file;\n        taggedFileList.push(taggedFile);\n      });\n      this.setState({\n        taggedFileList: taggedFileList,\n      });\n    });\n  }\n\n  render() {\n    let taggedFileList = this.state.taggedFileList;\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.props.onClose}>{gettext('Tagged Files')}</ModalHeader>\n        <ModalBody className=\"dialog-list-container\">\n          <table>\n            <thead>\n              <tr>\n                <th width='45%' className=\"ellipsis\">{gettext('Name')}</th>\n                <th width='27%'>{gettext('Size')}</th>\n                <th width='18%'>{gettext('Last Update')}</th>\n                <th width='10%'></th>\n              </tr>\n            </thead>\n            <tbody>\n              {taggedFileList.map((taggedFile, index) => {\n                return (\n                  <TaggedFile\n                    key={index}\n                    repoID={this.props.repoID}\n                    taggedFile={taggedFile}\n                    onDeleteTaggedFile={this.onDeleteTaggedFile}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleCancel}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nListTaggedFilesDialog.propTypes = propTypes;\n\nexport default ListTaggedFilesDialog;\n\nconst TaggedFilePropTypes = {\n  repoID: PropTypes.string.isRequired,\n  taggedFile: PropTypes.object,\n  onDeleteTaggedFile: PropTypes.func.isRequired,\n};\n\nclass TaggedFile extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = ({\n      active: false,\n    });\n  }\n\n  onMouseEnter = () => {\n    this.setState({\n      active: true\n    });\n  }\n\n  onMouseLeave = () => {\n    this.setState({\n      active: false\n    });\n  }\n\n  render() {\n    const taggedFile = this.props.taggedFile;\n    let className = this.state.active ? 'action-icon sf2-icon-x3' : 'action-icon vh sf2-icon-x3';\n    let path = taggedFile.parent_path ? Utils.joinPath(taggedFile.parent_path, taggedFile.filename) : '';\n    let href = siteRoot + 'lib/' + this.props.repoID + '/file' + Utils.encodePath(path);\n    return ( taggedFile.file_deleted ?\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td colSpan='3' className=\"name\">{taggedFile.filename}{' '}\n          <span style={{color:\"red\"}}>{gettext('deleted')}</span>\n        </td>\n        <td><i className={className} onClick={this.props.onDeleteTaggedFile.bind(this, taggedFile)}></i></td>\n      </tr>\n      :\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className=\"name\"><a href={href} target='_blank'>{taggedFile.filename}</a></td>\n        <td>{Utils.bytesToSize(taggedFile.size)}</td>\n        <td>{moment.unix(taggedFile.mtime).fromNow()}</td>\n        <td><i className={className} onClick={this.props.onDeleteTaggedFile.bind(this, taggedFile)}></i></td>\n      </tr>\n    );\n  }\n}\n\nTaggedFile.propTypes = TaggedFilePropTypes;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/list-taggedfiles-dialog.js","import React from 'react';\nimport { css } from 'glamor';\n\nclass Alert extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.containerStyle = css({\n      borderRadius: '3px',\n      backgroundColor: '#fff',\n      padding: '10px 16px',\n      display: 'flex',\n      boxSizing: 'border-box',\n      boxShadow: 'rgba(67, 90, 111, 0.3) 0px 0px 1px, rgba(67, 90, 111, 0.47) 0px 8px 10px -4px',\n      justifyContent: 'space-between',\n      flexDirection: 'row',\n    });\n\n    this.containerBorderSuccess = css({\n      borderLeft: '3px solid rgb(71, 184, 129)'\n    });\n\n    this.containerBorderWarn = css({\n      borderLeft: '3px solid rgb(217, 130, 43)'\n    });\n\n    this.containerBorderDanger = css({\n      borderLeft: '3px solid rgb(236, 76, 71)'\n    });\n\n    this.containerBorderNotify = css({\n      borderLeft: '3px solid rgb(16, 112, 202)'\n    });\n\n\n    this.toastTextTitle = css({\n      fontWeight: '600',\n      fontSize: '14px',\n      color: '#435a6f',\n      margin: '0'\n    });\n\n    this.toastTextChild = css({\n      fontSize: '14px',\n      color: '#999',\n      margin: '0'\n    });\n    this.toastClose = css({\n      marginLeft: '15px',\n      height: '24px',\n      width: '24px',\n      lineHeight: '22px',\n      fontWeight: '700',\n      textAlign: 'center',\n      fontSize: '20px',\n      color: '#000',\n      cursor: 'pointer',\n      opacity: '0.5',\n      ':hover': {\n        opacity: 1\n      }\n    });\n\n    this.toastIcon = css({\n      marginRight: '10px',\n      width: '14px',\n      height: '20px',\n      lineHeight: '20px'\n    });\n  }\n\n  getContainerStyle(intent) {\n    switch (intent) {\n      case 'success':\n        return { borderStyle: this.containerBorderSuccess, iconColor: css({color: 'rgb(71, 184, 129)'}), iconClass: 'fa fa-check-circle' };\n      case 'warning':\n        return { borderStyle: this.containerBorderWarn, iconColor: css({color: 'rgb(217, 130, 43)'}) , iconClass: 'fa fa-exclamation-triangle' };\n      case 'none':\n        return { borderStyle: this.containerBorderNotify, iconColor: css({color: 'rgb(16, 112, 202)'}), iconClass: 'fa fa-exclamation-circle' };\n      case  'danger':\n        return { borderStyle: this.containerBorderDanger, iconColor: css({color: 'rgb(236, 76, 71)'}), iconClass: 'fa fa-exclamation-circle' };\n    }\n  }\n\n\n  render() {\n    const toastStyle = this.getContainerStyle(this.props.intent);\n    return (\n      <div {...css(toastStyle.borderStyle, this.containerStyle)}>\n        <div className={this.toastIcon} >\n          <i className={toastStyle.iconClass} {...toastStyle.iconColor}/>\n        </div>\n        <div className={this.toastTextContainer}>\n          <p className={this.toastTextTitle}>{this.props.title}</p>\n          {this.props.children ? <p className={this.toastTextChild}>{this.props.children}</p> : null}\n        </div>\n        <div onClick={this.props.onRemove} className={this.toastClose}>\n          <span>&times;</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Alert;\n\n\n// WEBPACK FOOTER //\n// ./src/components/toast/alert.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  permissions: PropTypes.array.isRequired,\n  currentPermission: PropTypes.string.isRequired,\n  onPermissionChanged: PropTypes.func.isRequired\n};\n\nclass SharePermissionEditor extends React.Component {\n\n  translatePermission = (permission) => {\n    return Utils.sharePerms(permission);\n  }\n\n  translateExplanation = (explanation) => {\n    return Utils.sharePermsExplanation(explanation);\n  }\n\n  render() {\n    return (\n      <SelectEditor \n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.permissions}\n        currentOption={this.props.currentPermission}\n        onOptionChanged={this.props.onPermissionChanged}\n        translateOption={this.translatePermission}\n        translateExplanation={this.translateExplanation}\n      />\n    );\n  }\n}\n\nSharePermissionEditor.propTypes = propTypes;\n\nexport default SharePermissionEditor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/select-editor/share-permission-editor.js","export const dirPath = '/';\nexport const gettext = window.gettext;\n\nexport const siteRoot = window.app.config.siteRoot;\nexport const loginUrl = window.app.config.loginUrl;\nexport const avatarInfo = window.app.config.avatarInfo;\nexport const logoPath =  window.app.config.logoPath;\nexport const mediaUrl = window.app.config.mediaUrl;\nexport const siteTitle = window.app.config.siteTitle;\nexport const siteName = window.app.config.siteName;\nexport const logoWidth = window.app.config.logoWidth;\nexport const logoHeight = window.app.config.logoHeight;\nexport const isPro = window.app.config.isPro === 'True';\nexport const isDocs = window.app.config.isDocs === 'True';\nexport const lang = window.app.config.lang;\nexport const fileServerRoot = window.app.config.fileServerRoot;\nexport const seafileVersion = window.app.config.seafileVersion;\nexport const serviceURL = window.app.config.serviceURL;\n\n//pageOptions\nexport const seafileCollabServer = window.app.pageOptions.seafileCollabServer;\nexport const name = window.app.pageOptions.name;\nexport const contactEmail = window.app.pageOptions.contactEmail;\nexport const username = window.app.pageOptions.username;\nexport const canAddRepo = window.app.pageOptions.canAddRepo;\nexport const canGenerateShareLink = window.app.pageOptions.canGenerateShareLink;\nexport const canGenerateUploadLink = window.app.pageOptions.canGenerateUploadLink ? true : false;\nexport const canViewOrg = window.app.pageOptions.canViewOrg === 'True';\nexport const fileAuditEnabled = window.app.pageOptions.fileAuditEnabled ? true : false;\nexport const enableFileComment = window.app.pageOptions.enableFileComment ? true : false;\nexport const folderPermEnabled = window.app.pageOptions.folderPermEnabled === 'True';\nexport const enableResetEncryptedRepoPassword = window.app.pageOptions.enableResetEncryptedRepoPassword === 'True';\nexport const isEmailConfigured = window.app.pageOptions.isEmailConfigured === 'True';\nexport const enableUploadFolder = window.app.pageOptions.enableUploadFolder === 'True';\nexport const enableResumableFileUpload = window.app.pageOptions.enableResumableFileUpload === 'True';\nexport const storages = window.app.pageOptions.storages; // storage backends\nexport const enableRepoSnapshotLabel = window.app.pageOptions.enableRepoSnapshotLabel;\nexport const shareLinkExpireDaysMin = window.app.pageOptions.shareLinkExpireDaysMin;\nexport const shareLinkExpireDaysMax = window.app.pageOptions.shareLinkExpireDaysMax;\nexport const maxFileName = window.app.pageOptions.maxFileName;\nexport const enableWiki = window.app.pageOptions.enableWiki;\nexport const enableEncryptedLibrary = window.app.pageOptions.enableEncryptedLibrary;\nexport const enableRepoHistorySetting = window.app.pageOptions.enableRepoHistorySetting;\nexport const isSystemStaff = window.app.pageOptions.isSystemStaff;\nexport const thumbnailSizeForOriginal = window.app.pageOptions.thumbnailSizeForOriginal;\nexport const repoPasswordMinLength = window.app.pageOptions.repoPasswordMinLength;\n\nexport const curNoteMsg = window.app.pageOptions.curNoteMsg;\nexport const curNoteID = window.app.pageOptions.curNoteID;\n\n// wiki\nexport const slug = window.wiki ? window.wiki.config.slug : '';\nexport const repoID = window.wiki ? window.wiki.config.repoId : '';\nexport const initialPath = window.wiki ? window.wiki.config.initial_path : '';\nexport const permission = window.wiki ? window.wiki.config.permission === 'True' : '';\nexport const isDir = window.wiki ? window.wiki.config.isDir : '';\nexport const serviceUrl = window.wiki ? window.wiki.config.serviceUrl : '';\nexport const isPublicWiki = window.wiki ? window.wiki.config.isPublicWiki === 'True': '';\n\n// file history\nexport const PER_PAGE = 25;\nexport const historyRepoID = window.fileHistory ? window.fileHistory.pageOptions.repoID : '';\nexport const repoName = window.fileHistory ? window.fileHistory.pageOptions.repoName : '';\nexport const filePath = window.fileHistory ? window.fileHistory.pageOptions.filePath : '';\nexport const fileName = window.fileHistory ? window.fileHistory.pageOptions.fileName : '';\n\n// Draft review\nexport const draftFilePath = window.draft ? window.draft.config.draftFilePath: '';\nexport const draftOriginFilePath = window.draft ? window.draft.config.draftOriginFilePath: '';\nexport const draftFileName = window.draft ? window.draft.config.draftFileName: '';\nexport const draftID = window.draft ? window.draft.config.draftID : '';\nexport const draftRepoID = window.draft ? window.draft.config.draftRepoID : '';\nexport const author = window.draft ? window.draft.config.author : '';\nexport const authorAvatar = window.draft ? window.draft.config.authorAvatar : '';\nexport const originFileExists = window.draft ? window.draft.config.originFileExists : '';\nexport const draftFileExists = window.draft ? window.draft.config.draftFileExists : '';\nexport const draftStatus = window.draft ? window.draft.config.draftStatus : '';\nexport const draftPublishVersion = window.draft ? window.draft.config.draftPublishVersion : '';\nexport const originFileVersion = window.draft ? window.draft.config.originFileVersion : '';\n\n// org admin\nexport const orgID = window.org ? window.org.pageOptions.orgID : '';\nexport const invitationLink = window.org ? window.org.pageOptions.invitationLink : '';\nexport const orgMemberQuotaEnabled = window.org ? window.org.pageOptions.orgMemberQuotaEnabled : '';\n\n// sys admin\nexport const constanceEnabled = window.sysadmin ? window.sysadmin.pageOptions.constance_enabled : '';\nexport const multiTenancy = window.sysadmin ? window.sysadmin.pageOptions.multi_tenancy : '';\nexport const multiInstitution = window.sysadmin ? window.sysadmin.pageOptions.multi_institution : '';\nexport const sysadminExtraEnabled = window.sysadmin ? window.sysadmin.pageOptions.sysadmin_extra_enabled : '';\nexport const enableGuestInvitation = window.sysadmin ? window.sysadmin.pageOptions.enable_guest_invitation : '';\nexport const enableTermsAndConditions = window.sysadmin ? window.sysadmin.pageOptions.enable_terms_and_conditions : '';\nexport const isDefaultAdmin = window.sysadmin ? window.sysadmin.pageOptions.is_default_admin : '';\nexport const enableFileScan = window.sysadmin ? window.sysadmin.pageOptions.enable_file_scan : '';\nexport const canViewSystemInfo = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_system_info : '';\nexport const canViewStatistic = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_statistic : '';\nexport const canConfigSystem = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_config_system : '';\nexport const canManageLibrary = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_library : '';\nexport const canManageUser = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_user : '';\nexport const canManageGroup = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_group : '';\nexport const canViewUserLog = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_user_log : '';\nexport const canViewAdminLog = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_admin_log : '';\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/constants.js","import { slug, repoID, historyRepoID } from './constants';\nimport { seafileAPI } from './seafile-api';\n\nclass EditorUtilities {\n  \n  getFiles() {\n    return seafileAPI.listWikiDir(slug, '/').then(items => {\n      const files = items.data.dir_file_list.map(item => {\n        return {\n          name: item.name,\n          type: item.type === 'dir' ? 'dir' : 'file',\n          isExpanded: item.type === 'dir' ? true : false,\n          parent_path: item.parent_dir,\n          last_update_time: item.last_update_time,\n          permission: item.permission,\n          size: item.size\n        };\n      });\n      return files;\n    });\n  }\n\n  listRepoDir() {\n    return seafileAPI.listDir(repoID, '/',{recursive: true}).then(items => {\n      const files = items.data.dirent_list.map(item => {\n        return {\n          name: item.name,\n          type: item.type === 'dir' ? 'dir' : 'file',\n          isExpanded: item.type === 'dir' ? true : false,\n          parent_path: item.parent_dir,\n          last_update_time: item.mtime,\n          permission: item.permission,\n          size: item.size\n        };\n      });\n\n      return files;\n    });\n  }\n\n  createFile(filePath, isDraft) {\n    return seafileAPI.createFile(repoID, filePath, isDraft);\n  }\n\n  deleteFile(filePath) {\n    return seafileAPI.deleteFile(repoID, filePath);\n  }\n\n  renameFile(filePath, newFileName) {\n    return seafileAPI.renameFile(repoID, filePath, newFileName);\n  }\n\n  createDir(dirPath) {\n    return seafileAPI.createDir(repoID, dirPath);\n  }\n\n  deleteDir(dirPath) {\n    return seafileAPI.deleteDir(repoID, dirPath);\n  }\n\n  renameDir(dirPath, newDirName) {\n    return seafileAPI.renameDir(repoID, dirPath, newDirName);\n  }\n\n  getWikiFileContent(slug, filePath) {\n    return seafileAPI.getWikiFileContent(slug, filePath);\n  }\n\n  getSource() {\n    return seafileAPI.getSource();\n  }\n\n  searchFiles(queryData,cancelToken) {\n    return seafileAPI.searchFiles(queryData,cancelToken);\n  }\n\n  getAccountInfo() {\n    return seafileAPI.getAccountInfo();\n  }\n\n  // file history\n  getFileDownloadLink(filePath) {\n    return seafileAPI.getFileDownloadLink(historyRepoID, filePath);\n  }\n\n  getFileContent(filePath) {\n    return seafileAPI.getFileContent(filePath);\n  }\n\n  listFileHistoryRecords(filePath, page, per_page) {\n    return seafileAPI.listFileHistoryRecords(historyRepoID, filePath, page, per_page);\n  }\n  \n  revertFile(filePath, commitID) {\n    return seafileAPI.revertFile(historyRepoID, filePath, commitID);\n  }\n\n  listDrafts() {\n    return seafileAPI.listDrafts();\n  }\n\n  deleteDraft(id) {\n    return seafileAPI.deleteDraft(id);\n  }\n\n  publishDraft(id) {\n    return seafileAPI.publishDraft(id);\n  }\n\n  zipDownload(parent_dir, dirents) {\n    return seafileAPI.zipDownload(repoID, parent_dir, dirents);\n  }\n\n  queryZipProgress(zip_token) {\n    return seafileAPI.queryZipProgress(zip_token);\n  }\n\n  cancelZipTask(zip_token) {\n    return seafileAPI.cancelZipTask(zip_token);\n  }\n}\n\nconst editorUtilities = new EditorUtilities();\n\nexport default editorUtilities;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/editor-utilties.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AsyncSelect from 'react-select/lib/Async';\nimport { seafileAPI } from '../utils/seafile-api.js';\nimport { gettext } from '../utils/constants';\n\nconst propTypes = {\n  placeholder: PropTypes.string.isRequired,\n  onSelectChange: PropTypes.func.isRequired,\n  isMulti: PropTypes.bool.isRequired,\n  className: PropTypes.string,\n};\n\nconst NoOptionsMessage = (props) => {\n  return (\n    <div {...props.innerProps} style={{margin: '6px 10px', textAlign: 'center', color: 'hsl(0,0%,50%)'}}>{gettext('User not found')}</div>\n  );\n};\n\nclass UserSelect extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.options = [];\n  }\n\n  handleSelectChange = (option) => {\n    this.options = [];\n    this.props.onSelectChange(option);\n  }\n\n  loadOptions = (input, callback) => {\n    const value = input.trim();\n    if (value.length > 0) {\n      seafileAPI.searchUsers(value).then((res) => {\n        this.options = [];\n        for (let i = 0 ; i < res.data.users.length; i++) {\n          const item = res.data.users[i];\n          let obj = {};\n          obj.value = item.name;\n          obj.email = item.email;\n          obj.label =\n            <React.Fragment>\n              <img src={item.avatar_url} className=\"select-module select-module-icon avatar\" alt=\"\"/>\n              <span className='select-module select-module-name'>{item.name}</span>\n            </React.Fragment>;\n          this.options.push(obj);\n        }\n        callback(this.options);\n      });\n    }\n  }\n\n  clearSelect = () => {\n    this.refs.userSelect.select.onChange([], { action: 'clear' });\n  }\n\n  render() {\n    return (\n      <AsyncSelect\n        isClearable\n        classNamePrefix\n        components={{ NoOptionsMessage }}\n        isMulti={this.props.isMulti}\n        loadOptions={this.loadOptions}\n        onChange={this.handleSelectChange}\n        placeholder={this.props.placeholder}\n        className={`user-select ${this.props.className}`}\n        ref=\"userSelect\"\n      />\n    );\n  }\n}\n\nUserSelect.propTypes = propTypes;\n\nexport default UserSelect;\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-select.js","class FileTag {\n  constructor(object) {\n    this.id = object.file_tag_id;\n    this.repo_tag_id = object.repo_tag_id;\n    this.name = object.tag_name;\n    this.color = object.tag_color;\n  }\n}\n\nexport default FileTag;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/file-tag.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap'; \nimport { gettext, canGenerateShareLink, canGenerateUploadLink } from '../../utils/constants';\nimport ShareToUser from './share-to-user';\nimport ShareToGroup from './share-to-group';\nimport GenerateShareLink from './generate-share-link';\nimport GenerateUploadLink from './generate-upload-link';\nimport '../../css/share-link-dialog.css';\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemType: PropTypes.string.isRequired, // there will be three choose: ['library', 'dir', 'file']\n  itemName: PropTypes.string.isRequired,\n  itemPath: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n  repoEncrypted: PropTypes.bool,\n  userPerm: PropTypes.string,\n  enableDirPrivateShare: PropTypes.bool,\n};\n\nclass ShareDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: this.getInitialActiveTab()\n    };\n  }\n\n  getInitialActiveTab = () => {\n    const {repoEncrypted, userPerm, enableDirPrivateShare} = this.props;\n    const enableShareLink = !repoEncrypted && canGenerateShareLink;\n    const enableUploadLink = !repoEncrypted && canGenerateUploadLink && userPerm == 'rw';\n\n    if (enableShareLink) {\n      return 'shareLink';\n    } else if (enableUploadLink) {\n      return 'uploadLink';\n    } else if (enableDirPrivateShare) {\n      return 'shareToUser';\n    }\n  }\n\n  toggle = (tab) => {\n    if (this.state.activeTab !== tab) {\n      this.setState({activeTab: tab});\n    }\n  }\n\n  renderDirContent = () => {\n    let activeTab = this.state.activeTab;\n\n    const {repoEncrypted, userPerm, enableDirPrivateShare} = this.props;\n    const enableShareLink = !repoEncrypted && canGenerateShareLink;\n    const enableUploadLink = !repoEncrypted && canGenerateUploadLink && userPerm == 'rw';\n    \n    return (\n      <Fragment>\n        <div className=\"share-dialog-side\">\n          <Nav pills vertical>\n            {enableShareLink &&\n              <NavItem>\n                <NavLink className={activeTab === 'shareLink' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareLink')}>\n                  {gettext('Share Link')}\n                </NavLink>\n              </NavItem>\n            }\n            {enableUploadLink &&\n              <NavItem>\n                <NavLink className={activeTab === 'uploadLink' ? 'active' : ''} onClick={this.toggle.bind(this, 'uploadLink')}>\n                  {gettext('Upload Link')}\n                </NavLink>\n              </NavItem>\n            }\n            {enableDirPrivateShare &&\n              <Fragment>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToUser' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToUser')}>\n                    {gettext('Share to user')}\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToGroup' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToGroup')}>\n                    {gettext('Share to group')}\n                  </NavLink>\n                </NavItem>\n              </Fragment>\n            }\n          </Nav>\n        </div>\n        <div className=\"share-dialog-main\">\n          <TabContent activeTab={this.state.activeTab}>\n            {enableShareLink &&\n              <TabPane tabId=\"shareLink\">\n                <GenerateShareLink \n                  itemPath={this.props.itemPath} \n                  repoID={this.props.repoID}\n                  closeShareDialog={this.props.toggleDialog} \n                />\n              </TabPane>\n            }\n            {enableUploadLink &&\n              <TabPane tabId=\"uploadLink\">\n                <GenerateUploadLink \n                  itemPath={this.props.itemPath} \n                  repoID={this.props.repoID} \n                  closeShareDialog={this.props.toggleDialog} \n                />\n              </TabPane>\n            }\n            {enableDirPrivateShare &&\n              <Fragment>\n                <TabPane tabId=\"shareToUser\">\n                  <ShareToUser itemType={this.props.itemType} isGroupOwnedRepo={this.props.isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} />\n                </TabPane>\n                <TabPane tabId=\"shareToGroup\">\n                  <ShareToGroup itemType={this.props.itemType} isGroupOwnedRepo={this.props.isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} />\n                </TabPane>\n              </Fragment>\n            }\n          </TabContent>\n        </div>\n      </Fragment>\n    );\n  }\n\n  renderFileContent = () => {\n    return (\n      <Fragment>\n        <div className=\"share-dialog-side\">\n          <Nav pills vertical>\n            <NavItem>\n              <NavLink\n                className=\"active\" onClick={() => {this.toggle.bind(this, 'shareLink');}}>\n                {gettext('Share Link')}\n              </NavLink>\n            </NavItem>\n          </Nav>\n        </div>\n        <div className=\"share-dialog-main\">\n          <TabContent activeTab={this.state.activeTab}>\n            <TabPane tabId=\"shareLink\">\n              <GenerateShareLink \n                itemPath={this.props.itemPath} \n                repoID={this.props.repoID} \n                closeShareDialog={this.props.toggleDialog}\n              />\n            </TabPane>\n          </TabContent>\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    const { itemType, itemName, repoEncrypted } = this.props;\n    const enableShareLink = !repoEncrypted && canGenerateShareLink;\n    return (\n      <div>\n        <Modal isOpen={true} style={{maxWidth: '720px'}} className=\"share-dialog\" toggle={this.props.toggleDialog}>\n          <ModalHeader toggle={this.props.toggleDialog}>{gettext('Share')} <span className=\"op-target\" title={itemName}>{itemName}</span></ModalHeader>\n          <ModalBody className=\"dialog-list-container share-dialog-content\">\n            {(itemType === 'library' || itemType === 'dir') && this.renderDirContent()}\n            {(itemType === 'file' && enableShareLink) && this.renderFileContent()}\n          </ModalBody>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nShareDialog.propTypes = propTypes;\n\nexport default ShareDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/share-dialog.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { Utils } from '../../utils/utils';\nimport editorUtilities from '../../utils/editor-utilties';\nimport { siteRoot, gettext } from '../../utils/constants';\n\nconst propTypes = {\n  isAdminPanel: PropTypes.bool,\n};\n\nclass Account extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showInfo: false,\n      userName: '',\n      contactEmail: '',\n      quotaUsage: '',\n      quotaTotal: '',\n      isStaff: false,\n      isOrgStaff: false,\n      usageRate: '',\n      avatarURL: '',\n    };\n  }\n\n  componentDidMount(){\n    this.getAccountInfo();\n  }\n\n  componentDidUpdate(prevProps) {\n    this.handleProps();\n  }\n\n  getContainer = () => {\n    return ReactDOM.findDOMNode(this);\n  }\n\n  handleProps = () => {\n    if (this.state.showInfo) {\n      this.addEvents();\n    } else {\n      this.removeEvents();\n    }\n  }\n\n  addEvents = () => {\n    ['click', 'touchstart', 'keyup'].forEach(event =>\n      document.addEventListener(event, this.handleDocumentClick, true)\n    );\n  }\n\n  removeEvents = () => {\n    ['click', 'touchstart', 'keyup'].forEach(event =>\n      document.removeEventListener(event, this.handleDocumentClick, true)\n    );\n  }\n\n  handleDocumentClick = (e) => {\n    if (e && (e.which === 3 || (e.type === 'keyup' && e.which !== Utils.keyCodes.tab))) return;\n    const container = this.getContainer();\n\n    if (container.contains(e.target) && container !== e.target && (e.type !== 'keyup' || e.which === Utils.keyCodes.tab)) {\n      return;\n    }\n\n    this.setState({\n      showInfo: !this.state.showInfo,\n    });\n  }\n\n  onClickAccount = () => {\n    this.setState({\n      showInfo: !this.state.showInfo,\n    });\n  }\n\n  getAccountInfo = () => {\n    editorUtilities.getAccountInfo().then(resp => {\n      this.setState({\n        userName: resp.data.name,\n        contactEmail: resp.data.email,\n        usageRate: resp.data.space_usage,\n        quotaUsage: Utils.bytesToSize(resp.data.usage),\n        quotaTotal: Utils.bytesToSize(resp.data.total),\n        isStaff: resp.data.is_staff,\n        isOrgStaff: resp.data.is_org_staff === 1 ? true : false,\n        avatarURL: resp.data.avatar_url\n      });\n    });\n  }\n\n  renderMenu = () => {\n    let isAdminPage = this.state.isStaff || this.state.isOrgStaff;\n\n    if (isAdminPage && this.props.isAdminPanel) {\n      return (\n        <a href={siteRoot} title={gettext('Exit Admin Panel')} className=\"item\">{gettext('Exit Admin Panel')}</a>\n      );\n    }\n\n    if (this.state.isStaff) {\n      return (\n        <a href={siteRoot + 'sys/useradmin/'} title={gettext('System Admin')} className=\"item\">{gettext('System Admin')}</a>\n      );\n    }\n\n    if (this.state.isOrgStaff) {\n      return (\n        <a href={siteRoot + 'org/useradmin/'} title={gettext('Organization Admin')} className=\"item\">{gettext('Organization Admin')}</a>\n      );\n    }\n  }\n\n  renderAvatar = () => {\n    if (this.state.avatarURL) {\n      return (\n        <img src={this.state.avatarURL} width=\"36\" height=\"36\" className=\"avatar\" alt={gettext('Avatar')} />\n      );\n    }\n    return (\n      <img src=\"\" width=\"36\" height=\"36\" className=\"avatar\" alt={gettext('Avatar')} />\n    );\n  }\n\n  render() {\n    return (\n      <div id=\"account\">\n        <a id=\"my-info\" onClick={this.onClickAccount} className=\"account-toggle no-deco d-none d-md-block\" aria-label=\"View profile and more\">\n          <span><img src={this.state.avatarURL} width=\"36\" height=\"36\" className=\"avatar\" alt={gettext('Avatar')} /></span>\n          <span className=\"fas fa-caret-down vam\"></span>\n        </a>\n        <span className=\"account-toggle sf2-icon-more mobile-icon d-md-none\" aria-label=\"View profile and more\" onClick={this.onClickAccount}></span>\n        <div id=\"user-info-popup\" className={`account-popup sf-popover ${this.state.showInfo? '':'hide'}`}>\n          <div className=\"outer-caret up-outer-caret\">\n            <div className=\"inner-caret\"></div>\n          </div>\n          <div className=\"sf-popover-con\">\n            <div className=\"item o-hidden\">\n              {this.renderAvatar()}\n              <div className=\"txt\">{this.state.userName}</div>\n            </div>\n            <div id=\"space-traffic\">\n              <div className=\"item\">\n                <p>{gettext('Used:')}{' '}{this.state.quotaUsage} / {this.state.quotaTotal}</p>\n                <div id=\"quota-bar\"><span id=\"quota-usage\" className=\"usage\" style={{width: this.state.usageRate}}></span></div>\n              </div>\n            </div>\n            <a href={siteRoot + 'profile/'} className=\"item\">{gettext('Settings')}</a>\n            {this.renderMenu()}\n            <a href={siteRoot + 'accounts/logout/'} className=\"item\">{gettext('Log out')}</a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nAccount.defaultProps = {\n  isAdminPanel: false\n}\n\nAccount.propTypes = propTypes;\n\nexport default Account;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/account.js","import io from 'socket.io-client';\nimport { name, username, contactEmail, seafileCollabServer } from './constants';\n\nconst socket = (seafileCollabServer !== '') ? io(seafileCollabServer) : undefined;\n\nclass CollabServer {\n\n  watchRepo(repoID, fn) {\n    if (!socket) {\n      return;\n    }\n    socket.emit('repo_update', {\n      request: 'watch_update',\n      repo_id: repoID,\n      user: {\n        name: name,\n        username: username,\n        contact_email: contactEmail,\n      },\n    });\n    socket.on('repo_update', fn);\n  }\n\n  unwatchRepo(repoID, fn) {\n    if (!socket) {\n      return;\n    }\n    socket.emit('repo_update', {\n      request: 'unwatch_update',\n      repo_id: repoID,\n      user: {\n        name: name,\n        username: username,\n        contact_email: contactEmail,\n      },\n    });\n    socket.off('repo_update', fn);\n  }\n}\n\nconst collabServer = new CollabServer();\n\nexport default collabServer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/collab-server.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nconst propTypes = {\n  currentNode: PropTypes.object.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n};\n\nclass Delete extends React.Component {\n\n  toggle = () => {\n    this.props.toggleCancel();\n  }\n  \n  render() {\n    let currentNode = this.props.currentNode;\n    let name = currentNode.object.name;\n    let title = gettext('Delete File');\n    if (currentNode.object.isDir()) {\n      title = gettext('Delete Folder');\n    }\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{title}</ModalHeader>\n        <ModalBody>\n          <p>{gettext('Are you sure to delete')}{' '}<b>{name}</b> ?</p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.props.handleSubmit}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDelete.propTypes = propTypes;\n\nexport default Delete;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/delete-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Alert } from 'reactstrap';\n\nconst propTypes = {\n  currentNode: PropTypes.object,\n  onRename: PropTypes.func.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  checkDuplicatedName: PropTypes.func.isRequired,\n};\n\nclass Rename extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      newName: '',\n      errMessage: '',\n    };\n    this.newInput = React.createRef();\n  }\n\n  componentWillMount() {\n    this.setState({newName: this.props.currentNode.object.name});\n  }\n\n  componentDidMount() {\n    let currentNode = this.props.currentNode;\n    this.changeState(currentNode);\n    this.newInput.focus();\n    let type = currentNode.object.type;\n    if (type === 'file') {\n      var endIndex = currentNode.object.name.lastIndexOf('.md');\n      this.newInput.setSelectionRange(0, endIndex, 'forward');\n    } else {\n      this.newInput.setSelectionRange(0, -1);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.changeState(nextProps.currentNode);\n  }\n  \n  handleChange = (e) => {\n    this.setState({newName: e.target.value}); \n  }\n\n  handleSubmit = () => {\n    let { isValid, errMessage } = this.validateInput();\n    if (!isValid) {\n      this.setState({errMessage : errMessage});\n    } else {\n      let isDuplicated = this.checkDuplicatedName();\n      if (isDuplicated) {\n        let errMessage = gettext('The name \"{name}\" is already taken. Please choose a different name.');\n        errMessage = errMessage.replace('{name}', Utils.HTMLescape(this.state.newName));\n        this.setState({errMessage: errMessage});\n      } else {\n        this.props.onRename(this.state.newName);\n      }\n    }\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n    } \n  }\n\n  toggle = () => {\n    this.props.toggleCancel();\n  }\n\n  changeState = (currentNode) => {\n    let name = currentNode.object.name;\n    this.setState({newName: name});\n  }\n\n  validateInput = () => {\n    let newName = this.state.newName.trim();\n    let isValid = true;\n    let errMessage = '';\n    if (!newName) {\n      isValid = false;\n      errMessage = gettext('Name is required.');\n      return { isValid, errMessage };\n    }\n\n    if (newName.indexOf('/') > -1) {\n      isValid = false;\n      errMessage = gettext('Name should not include ' + '\\'/\\'' + '.');\n      return { isValid, errMessage };\n    }\n\n    return { isValid, errMessage };\n  }\n\n  checkDuplicatedName = () => {\n    let isDuplicated = this.props.checkDuplicatedName(this.state.newName);\n    return isDuplicated;\n  }\n\n  render() {\n    let type = this.props.currentNode.object.type;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{type === 'file' ? gettext('Rename File') : gettext('Rename Folder') }</ModalHeader>\n        <ModalBody>\n          <p>{type === 'file' ? gettext('New file name'): gettext('New folder name')}</p>\n          <Input onKeyPress={this.handleKeyPress} innerRef={input => {this.newInput = input;}} placeholder=\"newName\" value={this.state.newName} onChange={this.handleChange} />\n          {this.state.errMessage && <Alert color=\"danger\" className=\"mt-2\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nRename.propTypes = propTypes;\n\nexport default Rename;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/rename-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  currentMode: PropTypes.string.isRequired,\n  switchViewMode: PropTypes.func.isRequired,\n};\n\nclass ViewModeToolbar extends React.Component {\n\n  switchViewMode = (e) => {\n    e.preventDefault();\n    let id = e.target.id;\n    if (id === this.props.currentMode) {\n      return;\n    }\n    this.props.switchViewMode(id);\n  }\n\n  render() {\n    let baseClass = 'btn btn-secondary btn-icon sf-view-mode-btn ';\n    return (\n      <div className=\"view-mode btn-group\">\n        <button className={`${baseClass} sf2-icon-list-view ${this.props.currentMode === 'list' ? 'current-mode' : ''}`} id='list' title={gettext('List')} onClick={this.switchViewMode}></button>\n        {/* <button className={`${baseClass} sf2-icon-grid-view ${this.props.currentMode === 'grid' ? 'current-mode' : ''}`} id='grid' title={gettext('Grid')} onClick={this.switchViewMode}></button> */}\n        <button className={`${baseClass} sf2-icon-two-columns ${this.props.currentMode === 'column' ? 'current-mode' : ''}`} id='column' title={gettext('Column')} onClick={this.switchViewMode}></button>\n      </div>\n    );\n  }\n}\n\nViewModeToolbar.propTypes = propTypes;\n\nexport default ViewModeToolbar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbar/view-mode-toolbar.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\nimport { gettext } from '../../utils/constants';\nimport ModalPortal from '../modal-portal';\nimport CreateFolder from '../../components/dialog/create-folder-dialog';\nimport CreateFile from '../../components/dialog/create-file-dialog';\nimport ShareDialog from '../../components/dialog/share-dialog';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  repoName: PropTypes.string.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n  enableDirPrivateShare: PropTypes.bool.isRequired,\n  userPerm: PropTypes.string.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  showShareBtn: PropTypes.bool.isRequired,\n  onAddFile: PropTypes.func.isRequired,\n  onAddFolder: PropTypes.func.isRequired,\n  onUploadFile: PropTypes.func.isRequired,\n  onUploadFolder: PropTypes.func.isRequired,\n  direntList: PropTypes.array.isRequired,\n};\n\nclass DirOperationToolbar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      fileType: '.md',\n      isCreateFileDialogShow: false,\n      isCreateFolderDialogShow: false,\n      isUploadMenuShow: false,\n      isCreateMenuShow: false,\n      isShareDialogShow: false,\n      operationMenuStyle: '',\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.hideOperationMenu);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.hideOperationMenu);\n  }\n\n  hideOperationMenu = () => {\n    this.setState({\n      isUploadMenuShow: false,\n      isCreateMenuShow: false,\n    });\n  }\n\n  toggleOperationMenu = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    let targetRect = e.target.getClientRects()[0];\n    let left = targetRect.x;\n    let top  = targetRect.y + targetRect.height;\n    let style = {position: 'fixed', display: 'block', left: left, top: top};\n    this.setState({operationMenuStyle: style});\n  }\n\n  onUploadClick = (e) => {\n    this.toggleOperationMenu(e);\n    this.setState({\n      isUploadMenuShow: true,\n      isCreateMenuShow: false,\n    });\n  }\n\n  onUploadFile = (e) => {\n    this.setState({isUploadMenuShow: false});\n    this.props.onUploadFile(e);\n  }\n  \n  onUploadFolder = (e) => {\n    this.setState({isUploadMenuShow: false});\n    this.props.onUploadFolder(e);\n  }\n\n  onCreateClick = (e) => {\n    this.toggleOperationMenu(e);\n    this.setState({\n      isCreateMenuShow: true,\n      isUploadMenuShow: false,\n    });\n  }\n\n  onShareClick = (e) => {\n    e.nativeEvent.stopImmediatePropagation(); //for document event\n    this.setState({\n      isShareDialogShow: !this.state.isShareDialogShow\n    });\n  }\n\n  onCreateFolderToggle = () => {\n    this.setState({isCreateFolderDialogShow: !this.state.isCreateFolderDialogShow});\n  }\n\n  onCreateFileToggle = () => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: '',\n    });\n  }\n\n  onCreateMarkdownToggle = () => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: '.md'\n    });\n  }\n\n  onCreateExcelToggle = () => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: '.xlsx'\n    });\n  }\n\n  onCreatePPTToggle = () => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: '.pptx'\n    });\n  }\n\n  onCreateWordToggle = () => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: '.docx'\n    });\n  }\n\n  onAddFile = (filePath, isDraft) => {\n    this.setState({isCreateFileDialogShow: false});\n    this.props.onAddFile(filePath, isDraft);\n  }\n\n  onAddFolder = (dirPath) => {\n    this.setState({isCreateFolderDialogShow: false});\n    this.props.onAddFolder(dirPath);\n  }\n\n  checkDuplicatedName = (newName) => {\n    let direntList = this.props.direntList;\n    let isDuplicated = direntList.some(object => {\n      return object.name === newName;\n    });\n    return isDuplicated;\n  }\n\n  render() {\n    let { path, repoName, userPerm } = this.props;\n    \n    if (userPerm !== 'rw' && userPerm !== 'admin') {\n      return '';\n    }\n\n    let itemType = path === '/' ? 'library' : 'dir';\n    let itemName = path == '/' ? repoName : Utils.getFolderName(path);\n    return (\n      <Fragment>\n        <div className=\"operation\">\n          {Utils.isSupportUploadFolder() ?\n            <button className=\"btn btn-secondary operation-item\" title={gettext('Upload')} onClick={this.onUploadClick}>{gettext('Upload')}</button> :\n            <button className=\"btn btn-secondary operation-item\" title={gettext('Upload')} onClick={this.onUploadFile}>{gettext('Upload')}</button>\n          }\n          <button className=\"btn btn-secondary operation-item\" title={gettext('New')} onClick={this.onCreateClick}>{gettext('New')}</button>\n          {this.props.showShareBtn &&\n          <button className=\"btn btn-secondary operation-item\" title={gettext('Share')} onClick={this.onShareClick}>{gettext('Share')}</button>\n          }\n        </div>\n        {this.state.isUploadMenuShow && (\n          <ul className=\"menu dropdown-menu\" style={this.state.operationMenuStyle}>\n            <li className=\"dropdown-item\" onClick={this.onUploadFile}>{gettext('Upload Files')}</li>\n            <li className=\"dropdown-item\" onClick={this.onUploadFolder}>{gettext('Upload Folder')}</li>\n          </ul>\n        )}\n        {this.state.isCreateMenuShow && (\n          <ul className=\"menu dropdown-menu\" style={this.state.operationMenuStyle}>\n            <li className=\"dropdown-item\" onClick={this.onCreateFolderToggle}>{gettext('New Folder')}</li>\n            <li className=\"dropdown-item\" onClick={this.onCreateFileToggle}>{gettext('New File')}</li>\n            <li className=\"dropdown-divider\"></li>\n            <li className=\"dropdown-item\" onClick={this.onCreateMarkdownToggle}>{gettext('New Markdown File')}</li>\n            <li className=\"dropdown-item\" onClick={this.onCreateExcelToggle}>{gettext('New Excel File')}</li>\n            <li className=\"dropdown-item\" onClick={this.onCreatePPTToggle}>{gettext('New PowerPoint File')}</li>\n            <li className=\"dropdown-item\" onClick={this.onCreateWordToggle}>{gettext('New Word File')}</li>\n          </ul>\n        )}\n        {this.state.isCreateFileDialogShow && (\n          <ModalPortal>\n            <CreateFile\n              parentPath={this.props.path}\n              fileType={this.state.fileType}\n              onAddFile={this.onAddFile}\n              checkDuplicatedName={this.checkDuplicatedName}\n              addFileCancel={this.onCreateFileToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isCreateFolderDialogShow && (\n          <ModalPortal>\n            <CreateFolder\n              parentPath={this.props.path}\n              onAddFolder={this.onAddFolder}\n              checkDuplicatedName={this.checkDuplicatedName}\n              addFolderCancel={this.onCreateFolderToggle}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShareDialogShow &&\n          <ModalPortal>\n            <ShareDialog \n              itemType={itemType}\n              itemName={itemName}\n              itemPath={this.props.path}\n              repoID={this.props.repoID}\n              repoEncrypted={this.props.repoEncrypted}\n              enableDirPrivateShare={this.props.enableDirPrivateShare}\n              userPerm={this.props.userPerm}\n              isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n              toggleDialog={this.onShareClick}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nDirOperationToolbar.propTypes = propTypes;\n\nexport default DirOperationToolbar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbar/dir-operation-toolbar.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button , ButtonGroup , Modal } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport URLDecorator from '../../utils/url-decorator';\nimport ZipDownloadDialog from '../dialog/zip-download-dialog';\nimport MoveDirentDialog from '../dialog/move-dirent-dialog';\nimport CopyDirentDialog from '../dialog/copy-dirent-dialog';\nimport DirentsMenu from '../dirent-list-view/dirents-menu';\nimport ShareDialog from '../dialog/share-dialog';\nimport RelatedFileDialogs from '../dialog/related-file-dialogs';\nimport EditFileTagDialog from '../dialog/edit-filetag-dialog';\nimport toaster from '../toast';\nimport ModalPortal from '../modal-portal';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n  selectedDirentList: PropTypes.array.isRequired,\n  onItemsMove: PropTypes.func.isRequired,\n  onItemsCopy: PropTypes.func.isRequired,\n  onItemsDelete: PropTypes.func.isRequired,\n  isRepoOwner: PropTypes.bool.isRequired,\n  enableDirPrivateShare: PropTypes.bool.isRequired,\n  currentRepoInfo: PropTypes.object.isRequired,\n  onFilesTagChanged: PropTypes.func.isRequired,\n  unSelectDirent: PropTypes.func.isRequired,\n  updateDirent: PropTypes.func.isRequired,\n  showDirentDetail: PropTypes.func.isRequired,\n};\n\nclass MutipleDirOperationToolbar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      progress: 0,\n      isProgressDialogShow: false,\n      isMoveDialogShow: false,\n      isCopyDialogShow: false,\n      isMutipleOperation: true,\n      showLibContentViewDialogs: false,\n      showShareDialog: false,\n      showEditFileTagDialog: false,\n      fileTagList: [],\n      multiFileTagList: [],\n      showRelatedFileDialog: false,\n      viewMode: 'list_related_file',     \n    };\n    this.zipToken = null;\n  }\n\n  onMoveToggle = () => {\n    this.setState({isMoveDialogShow: !this.state.isMoveDialogShow});\n  }\n\n  onCopyToggle = () => {\n    this.setState({isCopyDialogShow: !this.state.isCopyDialogShow});\n  }\n\n  onItemsDelete = () => {\n    this.props.onItemsDelete();\n  }\n\n  onItemsDownload = () => {\n    let { path, repoID, selectedDirentList } = this.props;\n    if (selectedDirentList.length) {\n      if (selectedDirentList.length === 1 && !selectedDirentList[0].isDir()) {\n        let direntPath = Utils.joinPath(path, selectedDirentList[0].name);\n        let url = URLDecorator.getUrl({type: 'download_file_url', repoID: repoID, filePath: direntPath});\n        location.href= url;\n        return;\n      }\n      let selectedDirentNames = selectedDirentList.map(dirent => {\n        return dirent.name;\n      });\n      this.setState({isProgressDialogShow: true, progress: 0});\n      seafileAPI.zipDownload(repoID, path, selectedDirentNames).then(res => {\n        this.zipToken = res.data['zip_token'];\n        this.addDownloadAnimation();\n        this.interval = setInterval(this.addDownloadAnimation, 1000);\n      });\n    }\n  }\n\n  addDownloadAnimation = () => {\n    let _this = this;\n    let token = this.zipToken;\n    seafileAPI.queryZipProgress(token).then(res => {\n      let data = res.data;\n      let progress = data.total === 0 ? 100 : (data.zipped / data.total * 100).toFixed(0);\n      this.setState({progress: parseInt(progress)});\n\n      if (data['total'] === data['zipped']) {\n        this.setState({\n          progress: 100\n        });\n        clearInterval(this.interval);\n        location.href = URLDecorator.getUrl({type: 'download_dir_zip_url', token: token});\n        setTimeout(function() {\n          _this.setState({isProgressDialogShow: false});\n        }, 500);\n      }\n\n    });\n  }\n\n  onCancelDownload = () => {\n    seafileAPI.cancelZipTask(this.zipToken).then(() => {\n      this.setState({isProgressDialogShow: false});\n    });\n  }\n\n  onMenuItemClick = (operation) => {\n    const dirents = this.props.selectedDirentList;\n    const dirent = dirents[0];\n    switch(operation) {\n      case 'Share':\n        this.setState({\n          showLibContentViewDialogs: true,\n          showShareDialog: true,\n        });\n        break;\n      case 'Tags':\n        this.listFileTags(dirent);\n        break;\n      case 'Details':\n        this.props.showDirentDetail();\n        break;\n      case 'Lock':\n        this.lockFile(dirent);\n        break;\n      case 'Unlock':\n        this.unlockFile(dirent);\n        break;\n      case 'Related Files':\n        this.openRelatedFilesDialog(dirent);\n        break;\n      case 'History':\n        this.onHistory(dirent);\n        break;\n      case 'Open via Client':\n        this.onOpenViaClient(dirent);\n        break;\n      default:\n        break;\n    }\n  }\n\n  lockFile = (dirent) => {\n    const filePath = this.getDirentPath(dirent);\n    seafileAPI.lockfile(this.props.repoID, filePath).then((res) => {\n      if (res.data.is_locked) {\n        this.props.updateDirent(dirent, 'is_locked', true);\n        this.props.updateDirent(dirent, 'locked_by_me', true);\n        this.props.unSelectDirent();\n      }\n    });\n  }\n\n  unlockFile = (dirent) => {\n    const filePath = this.getDirentPath(dirent);\n    seafileAPI.unlockfile(this.props.repoID, filePath).then((res) => {\n      if (!res.data.is_locked) {\n        this.props.updateDirent(dirent, 'is_locked', false);\n        this.props.updateDirent(dirent, 'locked_by_me', false);\n        this.props.unSelectDirent();\n      }\n    });\n  }\n\n  onOpenViaClient = (dirent) => {\n    const filePath = this.getDirentPath(dirent);\n    let url = URLDecorator.getUrl({\n      type: 'open_via_client',\n      repoID: this.props.repoID,\n      filePath: filePath\n    });\n    location.href = url;\n    this.props.unSelectDirent();\n  }\n\n  onHistory = (dirent) => {\n    let filePath = this.getDirentPath(dirent);\n    let url = URLDecorator.getUrl({\n      type: 'file_revisions',\n      repoID: this.props.repoID,\n      filePath: filePath\n    });\n    location.href = url;\n  }\n\n  openRelatedFilesDialog = (dirent) => {\n    let filePath = this.getDirentPath(dirent);\n    seafileAPI.listRelatedFiles(this.props.repoID, filePath).then(res => {\n      let relatedFiles = res.data.related_files;\n      if (relatedFiles.length > 0) {\n        this.setState({\n          relatedFiles: relatedFiles,\n          showLibContentViewDialogs: true,\n          showRelatedFileDialog: true,\n          viewMode: 'list_related_file',\n        });\n      } else {\n        this.setState({\n          relatedFiles: relatedFiles,\n          showLibContentViewDialogs: true,\n          showRelatedFileDialog: true,\n          viewMode: 'add_related_file',\n        });\n      }\n    });\n  }\n\n  toggleCancel = () => {\n    this.setState({\n      showLibContentViewDialogs: false,\n      showShareDialog: false,\n      showEditFileTagDialog: false,\n      showRelatedFileDialog: false,\n    });\n  }\n\n  listFileTags = (dirent) => {\n    let filePath = this.getDirentPath(dirent);\n    seafileAPI.listFileTags(this.props.repoID, filePath).then(res => {\n      let fileTagList = res.data.file_tags;\n      for (let i = 0, length = fileTagList.length; i < length; i++) {\n        fileTagList[i].id = fileTagList[i].file_tag_id;\n      }\n      this.setState({\n        fileTagList: fileTagList,\n        showLibContentViewDialogs: true,\n        showEditFileTagDialog: true,\n      });\n    });\n  }\n\n  onMenuFileTagChanged = () => {\n    this.listFileTags(this.props.selectedDirentList[0]);\n    let length = this.props.selectedDirentList.length;\n    for (let i = 0; i < length; i++) {\n      const dirent = this.props.selectedDirentList[i];\n      const direntPath = this.getDirentPath(dirent);\n      this.props.onFilesTagChanged(dirent, direntPath);\n    }\n  }\n\n  listRelatedFiles = (dirent) => {\n    let filePath = this.getDirentPath(dirent);\n    seafileAPI.listRelatedFiles(this.props.repoID, filePath).then(res => {\n      this.setState({\n        relatedFiles: res.data.related_files\n      });\n    });\n  }\n\n  onRelatedFileChange = () => {\n    this.listRelatedFiles(this.props.selectedDirentList[0]);\n  }\n\n  getDirentPath = (dirent) => {\n    if (dirent) return Utils.joinPath(this.props.path, dirent.name);\n  }\n\n  render() {\n    const { repoID } = this.props;\n    let direntPath = this.getDirentPath(this.props.selectedDirentList[0]);\n    return (\n      <Fragment>\n        <div className=\"d-flex\">\n          <ButtonGroup className=\"flex-row group-operations\">\n            <Button className=\"secondary group-op-item action-icon sf2-icon-move\" title={gettext('Move')} onClick={this.onMoveToggle}></Button>\n            <Button className=\"secondary group-op-item action-icon sf2-icon-copy\" title={gettext('Copy')} onClick={this.onCopyToggle}></Button>\n            <Button className=\"secondary group-op-item action-icon sf2-icon-delete\" title={gettext('Delete')} onClick={this.onItemsDelete}></Button>\n            <Button className=\"secondary group-op-item action-icon sf2-icon-download\" title={gettext('Download')} onClick={this.onItemsDownload}></Button>\n            {this.props.selectedDirentList.length > 0 &&\n              <DirentsMenu\n                dirents={this.props.selectedDirentList}\n                currentRepoInfo={this.props.currentRepoInfo}\n                isRepoOwner={this.props.isRepoOwner}\n                onMenuItemClick={this.onMenuItemClick}\n              />\n            }\n          </ButtonGroup>\n        </div>\n        {this.state.isMoveDialogShow && \n          <MoveDirentDialog \n            path={this.props.path}\n            repoID={this.props.repoID}\n            repoEncrypted={this.props.repoEncrypted}\n            isMutipleOperation={this.state.isMutipleOperation}\n            selectedDirentList={this.props.selectedDirentList}\n            onItemsMove={this.props.onItemsMove}\n            onCancelMove={this.onMoveToggle}\n          />\n        }\n        {this.state.isCopyDialogShow &&\n          <CopyDirentDialog\n            path={this.props.path}\n            repoID={this.props.repoID}\n            repoEncrypted={this.props.repoEncrypted}\n            selectedDirentList={this.props.selectedDirentList}\n            isMutipleOperation={this.state.isMutipleOperation}\n            onItemsCopy={this.props.onItemsCopy}\n            onCancelCopy={this.onCopyToggle}\n          />\n        }\n        {this.state.isProgressDialogShow &&\n          <ZipDownloadDialog progress={this.state.progress} onCancelDownload={this.onCancelDownload} />\n        }\n        {this.state.showLibContentViewDialogs && (\n          <Fragment>\n            {this.state.showShareDialog &&\n              <ModalPortal>\n                <ShareDialog\n                  itemType={this.props.selectedDirentList[0].type}\n                  itemName={this.props.selectedDirentList[0].name}\n                  itemPath={direntPath}\n                  userPerm={this.props.selectedDirentList[0].permission}\n                  repoID={repoID}\n                  repoEncrypted={false}\n                  enableDirPrivateShare={this.props.enableDirPrivateShare}\n                  isGroupOwnedRepo={this.state.isGroupOwnedRepo}\n                  toggleDialog={this.toggleCancel}\n                />\n              </ModalPortal>\n            }\n            {this.state.showEditFileTagDialog &&\n              <ModalPortal>\n                <EditFileTagDialog\n                  repoID={repoID}\n                  filePath={direntPath}\n                  fileTagList={this.state.fileTagList}\n                  toggleCancel={this.toggleCancel}\n                  onFileTagChanged={this.onMenuFileTagChanged}\n                />\n              </ModalPortal>\n            }\n            {this.state.showRelatedFileDialog &&\n              <ModalPortal>\n                <RelatedFileDialogs\n                  repoID={repoID}\n                  filePath={direntPath}\n                  relatedFiles={this.state.relatedFiles}\n                  toggleCancel={this.toggleCancel}\n                  onRelatedFileChange={this.onRelatedFileChange}\n                  dirent={this.props.selectedDirentList[0]}\n                  viewMode={this.state.viewMode}\n                />\n              </ModalPortal>\n            }\n          </Fragment>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nMutipleDirOperationToolbar.propTypes = propTypes;\n\nexport default MutipleDirOperationToolbar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbar/mutilple-dir-operation-toolbar.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem, ButtonDropdown } from 'reactstrap';\nimport { gettext, isPro, enableFileComment, fileAuditEnabled, folderPermEnabled } from '../../utils/constants';\nimport '../../css/dirents-menu.css';\n\nconst propTypes = {\n  dirents: PropTypes.array.isRequired,\n  currentRepoInfo: PropTypes.object.isRequired,\n  isRepoOwner: PropTypes.bool.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n};\n\nclass DirentMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false,\n      menuList: [],\n    };\n  }\n\n  calculateMenuList(props) {\n    const { currentRepoInfo, dirents, isRepoOwner } = props;\n    const length = dirents.length;\n    let menuList = [];\n    if (length === 1) {\n      const dirent = dirents[0];\n      if (dirent.type === 'dir') {\n        menuList = ['Share'];\n      } else if (dirent.type === 'file') {\n        menuList = ['Share', 'Tags', 'Related Files', 'Divider', 'History', 'Details', 'Divider', 'Open via Client'];\n        if (isPro) {\n          if (dirent.is_locked) {\n            if (dirent.locked_by_me || (dirent.lock_owner === 'OnlineOffice' && currentRepoInfo.permission === 'rw')) {\n              menuList.splice(1, 0, 'Unlock');\n            }\n          } else {\n            menuList.splice(1, 0, 'Lock');\n          }\n        }\n      }\n    } else {\n      menuList = [];\n    }\n    this.setState({\n      menuList: menuList,\n    });\n  }\n\n  translateMenuItem = (menuItem) => {\n    let translateResult = '';\n    switch (menuItem) {\n      case 'Share':\n        translateResult = gettext('Share');\n        break;\n      case 'Tags':\n        translateResult = gettext('Tags');\n        break;\n      case 'Details':\n        translateResult = gettext('Details');\n        break;\n      case 'Lock':\n        translateResult = gettext('Lock');\n        break;\n      case 'Unlock':\n        translateResult = gettext('Unlock');\n        break;\n      case 'Related Files':\n        translateResult = gettext('Related Files');\n        break;\n      case 'History':\n        translateResult = gettext('History');\n        break;\n      case 'Open via Client':\n        translateResult = gettext('Open via Client');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.setState({\n      isItemMenuShow: !this.state.isItemMenuShow,\n    });\n  }\n\n  onMenuItemClick = (event) => {\n    let operation = event.target.dataset.toggle;\n    this.props.onMenuItemClick(operation, this.props.dirents);\n  }\n\n  componentDidMount() {\n    this.calculateMenuList(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.dirents.length !== nextProps.dirents.length) {\n      this.calculateMenuList(nextProps);\n    }\n  }\n\n  render() {\n    if (this.state.menuList.length === 0) {\n      return null;\n    }\n    return (\n      <ButtonDropdown isOpen={this.state.isItemMenuShow} toggle={this.onDropdownToggleClick} title={gettext('More Operations')}>\n        <DropdownToggle data-toggle=\"dropdown\" aria-expanded={this.state.isItemMenuShow} onClick={this.onDropdownToggleClick} className=\"fas fa-ellipsis-v sf-dropdown-toggle dirents-more-menu\">\n        </DropdownToggle>\n        <DropdownMenu>\n          {this.state.menuList.map((menuItem, index) => {\n            if (menuItem === 'Divider') {\n              return <DropdownItem key={index} divider/>;\n            } else {\n              return (\n                <DropdownItem key={index} data-toggle={menuItem} onClick={this.onMenuItemClick}>{this.translateMenuItem(menuItem)}</DropdownItem>\n              );\n            }\n          })}\n        </DropdownMenu>\n      </ButtonDropdown>\n    );\n  }\n}\n\nDirentMenu.propTypes = propTypes;\n\nexport default DirentMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dirent-list-view/dirents-menu.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport DirPath from './dir-path';\nimport DirTool from './dir-tool';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  repoName: PropTypes.string.isRequired,\n  permission: PropTypes.bool.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onPathClick: PropTypes.func.isRequired,\n  onTabNavClick: PropTypes.func,\n  pathPrefix: PropTypes.array,\n  isViewFile: PropTypes.bool,\n  updateUsedRepoTags: PropTypes.func.isRequired,\n  fileTags: PropTypes.array.isRequired,\n  onDeleteRepoTag: PropTypes.func.isRequired,\n};\n\nclass CurDirPath extends React.Component {\n\n  render() {\n    return (\n      <Fragment>\n        <DirPath \n          repoName={this.props.repoName}\n          pathPrefix={this.props.pathPrefix}\n          currentPath={this.props.currentPath}\n          onPathClick={this.props.onPathClick}\n          onTabNavClick={this.props.onTabNavClick}\n          repoID={this.props.repoID}\n          isViewFile={this.props.isViewFile}\n          fileTags={this.props.fileTags}\n        />\n        <DirTool \n          repoID={this.props.repoID}\n          repoName={this.props.repoName} \n          permission={this.props.permission}\n          currentPath={this.props.currentPath} \n          updateUsedRepoTags={this.props.updateUsedRepoTags}\n          onDeleteRepoTag={this.props.onDeleteRepoTag}\n        />\n      </Fragment>\n    );\n  }\n}\n\nCurDirPath.propTypes = propTypes;\n\nexport default CurDirPath;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/cur-dir-path/index.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@reach/router';\nimport { UncontrolledTooltip } from 'reactstrap';\nimport { siteRoot, gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport FileTag from '../../models/file-tag';\nimport InternalLinkDialog from '../dialog/internal-link-dialog';\n\nconst propTypes = {\n  repoName: PropTypes.string.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onPathClick: PropTypes.func.isRequired,\n  onTabNavClick: PropTypes.func,\n  pathPrefix: PropTypes.array,\n  repoID: PropTypes.string.isRequired,\n  isViewFile: PropTypes.bool,\n  fileTags: PropTypes.array.isRequired,\n};\n\nclass DirPath extends React.Component {\n\n  onPathClick = (e) => {\n    let path = e.target.dataset.path;\n    this.props.onPathClick(path);\n  }\n\n  onTabNavClick = (tabName, id) => {\n    this.props.onTabNavClick(tabName, id);\n  }\n\n  turnPathToLink = (path) => {\n    path = path[path.length - 1] === '/' ? path.slice(0, path.length - 1) : path;\n    let pathList = path.split('/');\n    let nodePath = '';\n    let pathElem = pathList.map((item, index) => {\n      if (item === '') {\n        return;\n      }\n      if (index === (pathList.length - 1)) {\n        return (\n          <span key={index}><span className=\"path-split\">/</span>{item}</span>\n        );\n      } else {\n        nodePath += '/' + item;\n        return (\n          <span key={index} >\n            <span className=\"path-split\">/</span>\n            <a className=\"path-link\" data-path={nodePath} onClick={this.onPathClick}>{item}</a>\n          </span>\n        );\n      }\n    });\n    return pathElem;\n  }\n\n  render() {\n    let { currentPath, repoName, fileTags } = this.props;\n    let pathElem = this.turnPathToLink(currentPath);\n\n    let tagTitle = '';\n    if (fileTags.length > 0) {\n      fileTags.forEach(item => {\n        tagTitle += item.name + ' ';\n      });\n    }\n\n    return (\n      <div className=\"path-container\">\n        {this.props.pathPrefix && this.props.pathPrefix.map((item, index) => {\n          return (\n            <Fragment key={index}>\n              <Link to={item.url} className=\"normal\" onClick={() => this.onTabNavClick(item.name, item.id)}>{gettext(item.showName)}</Link>\n              <span className=\"path-split\">/</span>\n            </Fragment>\n          );\n        })}\n        {this.props.pathPrefix && this.props.pathPrefix.length === 0 && (\n          <Fragment>\n            <Link to={siteRoot + 'my-libs/'} className=\"normal\" onClick={() => this.onTabNavClick.bind(this, 'my-libs')}>{gettext('Libraries')}</Link>\n            <span className=\"path-split\">/</span>\n          </Fragment>\n        )}\n        {!this.props.pathPrefix && (\n          <Fragment>\n            <a href={siteRoot + 'my-libs/'} className=\"normal\" onClick={() => this.onTabNavClick.bind(this, 'my-libs')}>{gettext('Libraries')}</a>\n            <span className=\"path-split\">/</span>\n          </Fragment>\n        )}\n        {currentPath === '/' ?\n          <span>{repoName}</span>:\n          <a className=\"path-link\" data-path=\"/\" onClick={this.onPathClick}>{repoName}</a>\n        }\n        {pathElem}\n        {this.props.isViewFile && \n          <InternalLinkDialog \n            repoID={this.props.repoID}\n            path={this.props.currentPath}\n          />\n        }\n        {(this.props.isViewFile && fileTags.length !== 0) && \n          <span id='column-mode-file-tags' className=\"tag-list tag-list-stacked align-middle ml-1\">\n            {fileTags.map((fileTag, index) => {\n              return (<span className=\"file-tag\" key={fileTag.id} style={{zIndex: index, backgroundColor: fileTag.color}}></span>)\n            })}\n            <UncontrolledTooltip target=\"column-mode-file-tags\" placement=\"bottom\">\n              {tagTitle}\n            </UncontrolledTooltip>\n          </span>\n        }\n      </div>\n    );\n  }\n}\n\nDirPath.propTypes = propTypes;\n\nexport default DirPath;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/cur-dir-path/dir-path.js","import React, { Fragment } from 'react';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport PropTypes from 'prop-types';\nimport ModalPortal from '../modal-portal';\nimport { Modal } from 'reactstrap';\nimport ListTagDialog from '../dialog/list-tag-dialog';\nimport CreateTagDialog from '../dialog/create-tag-dialog';\nimport UpdateTagDialog from '../dialog/update-tag-dialog';\nimport ListTaggedFilesDialog from '../dialog/list-taggedfiles-dialog';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  repoName: PropTypes.string.isRequired,\n  permission: PropTypes.bool.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  updateUsedRepoTags: PropTypes.func.isRequired,\n  onDeleteRepoTag: PropTypes.func.isRequired,\n};\n\nclass DirTool extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isRepoTagDialogShow: false,\n      currentTag: null,\n      isListRepoTagShow: false,\n      isUpdateRepoTagShow: false,\n      isCreateRepoTagShow: false,\n      isListTaggedFileShow: false,\n    };\n  }\n\n  onShowListRepoTag = () => {\n    this.setState({\n      isRepoTagDialogShow: true,\n      isListRepoTagShow: true,\n      isUpdateRepoTagShow: false,\n      isCreateRepoTagShow: false,\n      isListTaggedFileShow: false\n    });\n  }\n\n  onCloseRepoTagDialog = () => {\n    this.setState({\n      isRepoTagDialogShow: false,\n      isListRepoTagShow: false,\n      isUpdateRepoTagShow: false,\n      isCreateRepoTagShow: false,\n      isListTaggedFileShow: false\n    });\n  }\n\n  onCreateRepoTagToggle = () => {\n    this.setState({\n      isCreateRepoTagShow: !this.state.isCreateRepoTagShow,\n      isListRepoTagShow: !this.state.isListRepoTagShow,\n    });\n  }\n\n  onUpdateRepoTagToggle = (currentTag) => {\n    this.setState({\n      currentTag: currentTag,\n      isListRepoTagShow: !this.state.isListRepoTagShow,\n      isUpdateRepoTagShow: !this.state.isUpdateRepoTagShow,\n    });\n  }\n\n  onListTaggedFileToggle = (currentTag) => {\n    this.setState({\n      currentTag: currentTag,\n      isListRepoTagShow: !this.state.isListRepoTagShow,\n      isListTaggedFileShow: !this.state.isListTaggedFileShow,\n    });\n  }\n\n  isMarkdownFile(filePath) {\n    let name = Utils.getFileName(filePath);\n    return name.indexOf('.md') > -1 ? true : false;\n  }\n\n  render() {\n    let { repoID, repoName, permission, currentPath } = this.props;\n    let isFile = this.isMarkdownFile(currentPath);\n    let name = Utils.getFileName(currentPath);\n    let trashUrl = siteRoot + 'repo/recycle/' + repoID + '/?referer=' + encodeURIComponent(location.href);\n    let historyUrl = siteRoot + 'repo/history/' + repoID + '/?referer=' + encodeURIComponent(location.href);\n    if ( (name === repoName  || name === '') && !isFile && permission) {\n      return (\n        <Fragment>\n          <ul className=\"path-toolbar\">\n            <li className=\"toolbar-item\"><a className=\"op-link sf2-icon-tag\" onClick={this.onShowListRepoTag} title={gettext('Tags')} aria-label={gettext('Tags')}></a></li>\n            <li className=\"toolbar-item\"><a className=\"op-link sf2-icon-recycle\" href={trashUrl} title={gettext('Trash')} aria-label={gettext('Trash')}></a></li>\n            <li className=\"toolbar-item\"><a className=\"op-link sf2-icon-history\" href={historyUrl} title={gettext('History')} aria-label={gettext('History')}></a></li>\n          </ul>\n\n          {this.state.isRepoTagDialogShow && (\n            <ModalPortal>\n              <Modal isOpen={true}>\n                {this.state.isListRepoTagShow && (\n                  <ListTagDialog\n                    repoID={repoID}\n                    onListTagCancel={this.onCloseRepoTagDialog}\n                    onCreateRepoTag={this.onCreateRepoTagToggle}\n                    onUpdateRepoTag={this.onUpdateRepoTagToggle}\n                    onListTaggedFiles={this.onListTaggedFileToggle}\n                  />\n                )}\n\n                {this.state.isCreateRepoTagShow && (\n                  <CreateTagDialog\n                    repoID={repoID}\n                    onClose={this.onCloseRepoTagDialog}\n                    toggleCancel={this.onCreateRepoTagToggle}\n                  />\n                )}\n\n                {this.state.isUpdateRepoTagShow && (\n                  <UpdateTagDialog\n                    repoID={repoID}\n                    currentTag={this.state.currentTag}\n                    onClose={this.onCloseRepoTagDialog}\n                    toggleCancel={this.onUpdateRepoTagToggle}\n                    onDeleteRepoTag={this.props.onDeleteRepoTag}\n                  />\n                )}\n\n                {this.state.isListTaggedFileShow && (\n                  <ListTaggedFilesDialog\n                    repoID={this.props.repoID}\n                    currentTag={this.state.currentTag}\n                    onClose={this.onCloseRepoTagDialog}\n                    toggleCancel={this.onListTaggedFileToggle}\n                    updateUsedRepoTags={this.props.updateUsedRepoTags}\n                  />\n                )}\n              </Modal>\n            </ModalPortal>\n          )}\n        </Fragment>\n      );\n    } else if (!isFile && permission) {\n      return (\n        <ul className=\"path-toolbar\">\n          <li className=\"toolbar-item\"><a className=\"op-link sf2-icon-recycle\" href={trashUrl} title={gettext('Trash')} aria-label={gettext('Trash')}></a></li>\n        </ul>\n      );\n    } else if (permission) {\n      historyUrl = siteRoot + 'repo/file_revisions/' + repoID + '/?p=' + Utils.encodePath(currentPath);\n      return (\n        <ul className=\"path-toolbar\">\n          <li className=\"toolbar-item\"><a className=\"op-link sf2-icon-history\" href={historyUrl} title={gettext('History')} aria-label={gettext('History')}></a></li>\n        </ul>\n      );\n    }\n    return '';\n  }\n}\n\nDirTool.propTypes = propTypes;\n\nexport default DirTool;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/cur-dir-path/dir-tool.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport RepoTag from '../../models/repo-tag';\n\nimport '../../css/repo-tag.css';\n\nconst tagListItemPropTypes = {\n  item: PropTypes.object.isRequired,\n  onTagUpdate: PropTypes.func.isRequired,\n  onListTaggedFiles: PropTypes.func.isRequired,\n};\n\nclass TagListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSelectedTag: false\n    };\n  }\n\n  onMouseOver = () => {\n    this.setState({\n      showSelectedTag: true\n    });\n  }\n\n  onMouseOut = () => {\n    this.setState({\n      showSelectedTag: false\n    });\n  }\n\n  onTagUpdate = () => {\n    this.props.onTagUpdate(this.props.item);\n  }\n\n  onListTaggedFiles = () => {\n    this.props.onListTaggedFiles(this.props.item);\n  }\n\n  render() {\n    let color = this.props.item.color;\n    let drakColor = Utils.getDarkColor(color);\n    return (\n      <li className=\"tag-list-item\">\n        <div className=\"tag-demo\" style={{backgroundColor:color}} onMouseOver={this.onMouseOver} onMouseOut={this.onMouseOut}>\n          <span className={`${this.state.showSelectedTag ? 'show-tag-selected': ''}`} style={{backgroundColor: drakColor}}></span>\n          <span className=\"tag-name\">{this.props.item.name}</span>\n          <span className=\"tag-files\" onClick={this.onListTaggedFiles}>\n            {/* todo 0 file 2 files  */}\n            {this.props.item.fileCount}{' '}{'files'}\n          </span>\n        </div>\n        <i className=\"tag-edit fa fa-pencil-alt\" onClick={this.onTagUpdate}></i>\n      </li>\n    );\n  }\n}\n\nTagListItem.propTypes = tagListItemPropTypes;\n\nconst listTagPropTypes = {\n  repoID: PropTypes.string.isRequired,\n  onListTagCancel: PropTypes.func.isRequired,\n  onCreateRepoTag: PropTypes.func.isRequired,\n  onUpdateRepoTag: PropTypes.func.isRequired,\n  onListTaggedFiles: PropTypes.func.isRequired,\n};\n\nclass ListTagDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      repotagList: [],\n    };\n  }\n\n  componentDidMount() {\n    let repoID = this.props.repoID;\n    seafileAPI.listRepoTags(repoID).then(res => {\n      let repotagList = [];\n      res.data.repo_tags.forEach(item => {\n        let repo_tag = new RepoTag(item);\n        repotagList.push(repo_tag);\n      });\n      this.setState({\n        repotagList: repotagList,\n      });\n    });\n  }\n\n  toggle = () => {\n    this.props.onListTagCancel();\n  }\n\n  createNewTag = (e) => {\n    e.preventDefault();\n    this.props.onCreateRepoTag();\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <ModalHeader toggle={this.toggle}>{gettext('Tags')}</ModalHeader>\n        <ModalBody>\n          <ul className=\"tag-list tag-list-container\">\n            {this.state.repotagList.map((repoTag, index) => {\n              return (\n                <TagListItem\n                  key={index}\n                  item={repoTag}\n                  onTagUpdate={this.props.onUpdateRepoTag}\n                  onListTaggedFiles={this.props.onListTaggedFiles}\n                />\n              );\n            })}\n          </ul>\n          <a href=\"#\" className=\"add-tag-link\" onClick={this.createNewTag}>{gettext('Create a new tag')}</a>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Fragment>\n    );\n  }\n}\n\nListTagDialog.propTypes = listTagPropTypes;\n\nexport default ListTagDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/list-tag-dialog.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, ModalHeader, ModalBody, ModalFooter, Input } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired\n};\n\nclass CreateTagDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tagName: '',\n      tagColor: '',\n      newTag: {},\n      colorList: ['#FFA8A8', '#FFA94D', '#FFD43B', '#A0EC50', '#A9E34B', '#63E6BE', '#4FD2C9', '#72C3FC', '#91A7FF', '#E599F7', '#B197FC', '#F783AC', '#CED4DA'],\n    };\n    this.newInput = React.createRef();\n  }\n\n  inputNewName = (e) => {\n    this.setState({\n      tagName: e.target.value,\n    });\n  }\n\n  selectTagcolor = (e) => {\n    this.setState({\n      tagColor: e.target.value,\n    });\n  }\n\n  createTag = () => {\n    let name = this.state.tagName;\n    let color = this.state.tagColor;\n    let repoID = this.props.repoID;\n    seafileAPI.createRepoTag(repoID, name, color).then(() =>{\n      this.props.toggleCancel();\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.createTag();\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      tagColor: this.state.colorList[0]\n    });\n    this.newInput.focus();\n    this.newInput.setSelectionRange(0, 0);\n  }\n\n  render() {\n    let colorList = this.state.colorList;\n    return (\n      <Fragment>\n        <ModalHeader toggle={this.props.onClose}>\n          <span className=\"tag-dialog-back fas fa-sm fa-arrow-left\" onClick={this.props.toggleCancel} aria-label={gettext('Back')}></span>\n          {gettext('New Tag')}\n        </ModalHeader>\n        <ModalBody>\n          <div role=\"form\" className=\"tag-create\">\n            <div className=\"form-group\">\n              <label className=\"form-label\">{gettext('Name')}</label>\n              <Input onKeyPress={this.handleKeyPress} innerRef={input => {this.newInput = input;}} value={this.state.tagName} onChange={this.inputNewName}/>\n            </div>\n            <div className=\"form-group\">\n              <label className=\"form-label\">{gettext('Select a color')}</label>\n              <div className=\"row gutters-xs\">\n                {colorList.map((item, index)=>{\n                  return (\n                    <div key={index} className=\"col-auto\" onChange={this.selectTagcolor}>\n                      <label className=\"colorinput\">\n                        {index===0 ?\n                          <input name=\"color\" type=\"radio\" value={item} className=\"colorinput-input\" defaultChecked onClick={this.selectTagcolor}></input> :\n                          <input name=\"color\" type=\"radio\" value={item} className=\"colorinput-input\" onClick={this.selectTagcolor}></input>}\n                        <span className=\"colorinput-color\" style={{backgroundColor:item}}></span>\n                      </label>\n                    </div>\n                  );\n                })\n                }\n              </div>\n            </div>\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.createTag}>{gettext('Save')}</Button>\n          <Button color=\"secondary\" onClick={this.props.toggleCancel}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Fragment>\n    );\n  }\n}\n\nCreateTagDialog.propTypes = propTypes;\n\nexport default CreateTagDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/create-tag-dialog.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, ModalHeader, ModalBody, ModalFooter, Input } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\n\nconst propTypes = {\n  currentTag: PropTypes.object,\n  repoID: PropTypes.string.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  onDeleteRepoTag: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired\n};\n\nclass UpdateTagDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      deleteRepoTag: false,\n      newName: this.props.currentTag.name,\n      newColor: this.props.currentTag.color,\n      colorList: ['#FFA8A8', '#FFA94D', '#FFD43B', '#A0EC50', '#A9E34B', '#63E6BE', '#4FD2C9', '#72C3FC', '#91A7FF', '#E599F7', '#B197FC', '#F783AC', '#CED4DA'],\n    };\n    this.newInput = React.createRef();\n  }\n\n  componentDidMount() {\n    this.newInput.focus();\n    this.newInput.setSelectionRange(0, -1);\n  }\n\n  inputNewName = (e) => {\n    this.setState({\n      newName: e.target.value,\n    });\n  }\n\n  selectNewcolor = (e) => {\n    this.setState({\n      newColor: e.target.value,\n    });\n  }\n\n  updateTag = () => {\n    let tag_id = this.props.currentTag.id;\n    let name = this.state.newName;\n    let color = this.state.newColor;\n    let repoID = this.props.repoID;\n    seafileAPI.updateRepoTag(repoID, tag_id, name, color).then(() => {\n      this.props.toggleCancel();\n    });\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.updateTag();\n    }\n  }\n\n  deleteTagClick = (item) => {\n    this.setState({\n      deleteRepoTag: !this.state.deleteRepoTag,\n    });\n  }\n\n  onDeleteTag = () => {\n    let tag = this.props.currentTag;\n    let repoID = this.props.repoID;\n    seafileAPI.deleteRepoTag(repoID, tag.id).then((res) => {\n      this.props.toggleCancel();\n      if (res.data.success === \"true\") {\n        this.props.onDeleteRepoTag(tag.id);\n      }\n    });\n  }\n\n  render() {\n    let colorList = this.state.colorList;\n    if (colorList.indexOf(this.props.currentTag.color)===-1) {\n      colorList.push(this.props.currentTag.color);\n    }\n    return (\n      <Fragment>\n        <ModalHeader toggle={this.props.onClose}>\n          <span className=\"tag-dialog-back fas fa-sm fa-arrow-left\" onClick={this.props.toggleCancel} aria-label={gettext('Back')}></span>\n          {gettext('Edit Tag')}\n        </ModalHeader>\n        <ModalBody>\n          <div className=\"tag-edit\">\n            <div className=\"form-group\">\n              <label className=\"form-label\">{gettext('Name')}</label>\n              <Input onKeyPress={this.handleKeyPress} innerRef={input => {this.newInput = input;}} value={this.state.newName} onChange={this.inputNewName}/>\n            </div>\n            <div className=\"form-group\">\n              <label className=\"form-label\">{gettext('Select a color')}</label>\n              <div className=\"row gutters-xs\">\n                {colorList.map((item, index)=>{\n                  return (\n                    <div key={index} className=\"col-auto\" onChange={this.selectNewcolor}>\n                      <label className=\"colorinput\">\n                        {item===this.props.currentTag.color ?\n                          <input name=\"color\" type=\"radio\" value={item} className=\"colorinput-input\" defaultChecked onChange={this.selectNewcolor}></input> :\n                          <input name=\"color\" type=\"radio\" value={item} className=\"colorinput-input\" onChange={this.selectNewcolor}></input>}\n                        <span className=\"colorinput-color\" style={{backgroundColor:item}}></span>\n                      </label>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"danger\" onClick={this.onDeleteTag}>{gettext('Delete')}</Button>\n          <Button color=\"primary\" onClick={this.updateTag}>{gettext('Save')}</Button>\n        </ModalFooter>\n      </Fragment>\n    );\n  }\n}\n\nUpdateTagDialog.propTypes = propTypes;\n\nexport default UpdateTagDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/update-tag-dialog.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot, gettext, thumbnailSizeForOriginal, username } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../loading';\nimport DirentListItem from './dirent-list-item';\nimport ModalPortal from '../modal-portal';\nimport CreateFile from '../../components/dialog/create-file-dialog';\n\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css';\n\nimport '../../css/tip-for-new-md.css';\nimport toaster from '../toast';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  currentRepoInfo: PropTypes.object,\n  isAllItemSelected: PropTypes.bool.isRequired,\n  isDirentListLoading: PropTypes.bool.isRequired,\n  direntList: PropTypes.array.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  onAddFile: PropTypes.func.isRequired,\n  onItemDelete: PropTypes.func.isRequired,\n  onAllItemSelected: PropTypes.func.isRequired,\n  onItemSelected: PropTypes.func.isRequired,\n  onItemRename: PropTypes.func.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  onItemMove: PropTypes.func.isRequired,\n  onItemCopy: PropTypes.func.isRequired,\n  onDirentClick: PropTypes.func.isRequired,\n  onItemDetails: PropTypes.func.isRequired,\n  updateDirent: PropTypes.func.isRequired,\n};\n\nclass DirentListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n\n      isImagePopupOpen: false,\n      imageItems: [],\n      imageIndex: 0,\n\n      isCreateFileDialogShow: false,\n      fileType: ''\n    };\n\n    this.isRepoOwner = props.currentRepoInfo.owner_email === username;\n    this.isAdmin = props.currentRepoInfo.is_admin;\n    this.repoEncrypted = props.currentRepoInfo.encrypted;\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  onItemRename = (dirent, newName) => {\n    let isDuplicated = this.props.direntList.some(item => {\n      return item.name === newName;\n    });\n    if (isDuplicated) {\n      let errMessage = gettext('The name \"{name}\" is already taken. Please choose a different name.');\n      errMessage = errMessage.replace('{name}', Utils.HTMLescape(newName));\n      toaster.danger(errMessage);\n      return false;\n    }\n    this.props.onItemRename(dirent, newName);\n  }\n\n  onItemRenameToggle = () => {\n    this.onFreezedItem();\n  }\n\n  onItemDetails = (dirent) => {\n    this.props.onItemDetails(dirent);\n  }\n\n  onCreateFileToggle = () => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: ''\n    });\n  }\n\n  onCreateNewFile = (suffix) => {\n    this.setState({\n      isCreateFileDialogShow: !this.state.isCreateFileDialogShow,\n      fileType: suffix\n    });\n  }\n\n  onAddFile = (filePath, isDraft) => {\n    this.setState({isCreateFileDialogShow: false});\n    this.props.onAddFile(filePath, isDraft);\n  }\n\n  sortByName = (e) => {\n    e.preventDefault();\n    const sortBy = 'name';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  }\n\n  sortByTime = (e) => {\n    e.preventDefault();\n    const sortBy = 'time';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  }\n\n  // for image popup\n  prepareImageItems = () => {\n    let items = this.props.direntList.filter((item) => {\n      return Utils.imageCheck(item.name);\n    });\n\n    const useThumbnail = !this.repoEncrypted;\n    let prepareItem = (item) => {\n      const name = item.name;\n\n      const fileExt = name.substr(name.lastIndexOf('.') + 1).toLowerCase();\n      const isGIF = fileExt == 'gif';\n\n      const path = Utils.encodePath(Utils.joinPath(this.props.path, name));\n      const repoID = this.props.repoID;\n      let src;\n      if (useThumbnail && !isGIF) {\n        src = `${siteRoot}thumbnail/${repoID}/${thumbnailSizeForOriginal}${path}`;\n      } else {\n        src = `${siteRoot}repo/${repoID}/raw${path}`;\n      }\n\n      return {\n        'name': name,\n        'url': `${siteRoot}lib/${repoID}/file${path}`,\n        'src': src\n      };\n    };\n\n    return items.map((item) => { return prepareItem(item); });\n  }\n\n  showImagePopup = (dirent) => {\n    let items = this.props.direntList.filter((item) => {\n      return Utils.imageCheck(item.name);\n    });\n    this.setState({\n      isImagePopupOpen: true,\n      imageItems: this.prepareImageItems(),\n      imageIndex: items.indexOf(dirent)\n    });\n  }\n\n  moveToPrevImage = () => {\n    const imageItemsLength = this.state.imageItems.length;\n    this.setState((prevState) => ({\n      imageIndex: (prevState.imageIndex + imageItemsLength - 1) % imageItemsLength\n    }));\n  }\n\n  moveToNextImage = () => {\n    const imageItemsLength = this.state.imageItems.length;\n    this.setState((prevState) => ({\n      imageIndex: (prevState.imageIndex + 1) % imageItemsLength\n    }));\n  }\n\n  closeImagePopup = () => {\n    this.setState({\n      isImagePopupOpen: false\n    });\n  }\n\n  checkDuplicatedName = (newName) => {\n    let direntList = this.props.direntList;\n    let isDuplicated = direntList.some(object => {\n      return object.name === newName;\n    });\n    return isDuplicated;\n  }\n\n  render() {\n    const { direntList, sortBy, sortOrder } = this.props;\n\n    if (this.props.isDirentListLoading) {\n      return (<Loading />);\n    }\n\n    if (this.props.path == '/' && !direntList.length) {\n      return (\n        <Fragment>\n          <div className=\"tip-for-new-file\">\n            <p className=\"text-center\">{gettext('This folder has no content at this time.')}</p>\n            <p className=\"text-center\">{gettext('You can create files quickly')}{' +'}</p>\n            <div className=\"big-new-file-button-group\">\n              <div className=\"d-flex justify-content-center\">\n                <button className=\"big-new-file-button\" onClick={this.onCreateNewFile.bind(this, '.md')}>\n                  {'+ Markdown'}</button>\n                <button className=\"big-new-file-button\" onClick={this.onCreateNewFile.bind(this, '.ppt')}>\n                  {'+ PPT'}</button>\n              </div>\n              <div className=\"d-flex justify-content-center\">\n                <button className=\"big-new-file-button\" onClick={this.onCreateNewFile.bind(this, '.doc')}>\n                  {'+ Word'}</button>\n                <button className=\"big-new-file-button\" onClick={this.onCreateNewFile.bind(this, '.xls')}>\n                  {'+ Excel'}</button>\n              </div>\n            </div>\n          </div>\n          {this.state.isCreateFileDialogShow && (\n            <ModalPortal>\n              <CreateFile\n                parentPath={this.props.path}\n                fileType={this.state.fileType}\n                onAddFile={this.onAddFile}\n                checkDuplicatedName={this.checkDuplicatedName}\n                addFileCancel={this.onCreateFileToggle}\n              />\n            </ModalPortal>\n          )}\n        </Fragment>\n      );\n    }\n\n    // sort\n    const sortByName = sortBy == 'name';\n    const sortByTime = sortBy == 'time';\n    const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n    // for image popup\n    const imageItems = this.state.imageItems;\n    const imageIndex = this.state.imageIndex;\n    const imageItemsLength = imageItems.length;\n    const imageCaption = imageItemsLength && (\n      <Fragment>\n        <span>{gettext('%curr% of %total%').replace('%curr%', imageIndex + 1).replace('%total%', imageItemsLength)}</span>\n        <br />\n        <a href={imageItems[imageIndex].url} target=\"_blank\">{gettext('Open in New Tab')}</a>\n      </Fragment>\n    );\n\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n            <th width=\"3%\" className=\"pl10\">\n                <input type=\"checkbox\" className=\"vam\" onChange={this.props.onAllItemSelected} checked={this.props.isAllItemSelected}/>\n              </th>\n              <th width=\"3%\" className=\"pl10\">{/*icon */}</th>\n              <th width=\"5%\" className=\"pl10\">{/*star */}</th>\n              <th width=\"39%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('Name')} {sortByName && sortIcon}</a></th>\n              <th width=\"6%\">{/*tag */}</th>\n              <th width=\"18%\">{/*operation */}</th>\n              <th width=\"11%\">{gettext('Size')}</th>\n              <th width=\"15%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('Last Update')} {sortByTime && sortIcon}</a></th>\n            </tr>\n          </thead>\n          <tbody>\n            {\n              direntList.length !== 0 && direntList.map((dirent, index) => {\n                return (\n                  <DirentListItem\n                    key={index}\n                    dirent={dirent}\n                    path={this.props.path}\n                    repoID={this.props.repoID}\n                    currentRepoInfo={this.props.currentRepoInfo}\n                    isAdmin={this.isAdmin}\n                    isRepoOwner={this.isRepoOwner}\n                    repoEncrypted={this.repoEncrypted}\n                    enableDirPrivateShare={this.props.enableDirPrivateShare}\n                    isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n                    direntList={this.props.direntList}\n                    onItemClick={this.props.onItemClick}\n                    onItemRenameToggle={this.onItemRenameToggle}\n                    onItemSelected={this.props.onItemSelected}\n                    onItemDelete={this.props.onItemDelete}\n                    onItemRename={this.onItemRename}\n                    onItemMove={this.props.onItemMove}\n                    onItemCopy={this.props.onItemCopy}\n                    updateDirent={this.props.updateDirent}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    onDirentClick={this.props.onDirentClick}\n                    onItemDetails={this.onItemDetails}\n                    showImagePopup={this.showImagePopup}\n                  />\n                );\n              })\n            }\n          </tbody>\n        </table>\n\n        {this.state.isImagePopupOpen && (\n          <Lightbox\n            mainSrc={imageItems[imageIndex].src}\n            imageTitle={imageItems[imageIndex].name}\n            imageCaption={imageCaption}\n            nextSrc={imageItems[(imageIndex + 1) % imageItemsLength].src}\n            prevSrc={imageItems[(imageIndex + imageItemsLength - 1) % imageItemsLength].src}\n            onCloseRequest={this.closeImagePopup}\n            onMovePrevRequest={this.moveToPrevImage}\n            onMoveNextRequest={this.moveToNextImage}\n            imagePadding={70}\n            imageLoadErrorMessage={gettext('The image could not be loaded.')}\n            prevLabel={gettext('Previous (Left arrow key)')}\n            nextLabel={gettext('Next (Right arrow key)')}\n            closeLabel={gettext('Close (Esc)')}\n            zoomInLabel={gettext('Zoom in')}\n            zoomOutLabel={gettext('Zoom out')}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nDirentListView.propTypes = propTypes;\n\nexport default DirentListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dirent-list-view/dirent-list-view.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport MD5 from 'MD5';\nimport { UncontrolledTooltip } from 'reactstrap';\nimport { gettext, siteRoot, mediaUrl, canGenerateShareLink, canGenerateUploadLink } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport URLDecorator from '../../utils/url-decorator';\nimport DirentMenu from './dirent-menu';\nimport Rename from '../rename';\nimport ModalPortal from '../modal-portal';\nimport ZipDownloadDialog from '../dialog/zip-download-dialog';\nimport MoveDirentDialog from '../dialog/move-dirent-dialog';\nimport CopyDirentDialog from '../dialog/copy-dirent-dialog';\nimport ShareDialog from '../dialog/share-dialog';\n\nimport '../../css/dirent-list-item.css';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  dirent: PropTypes.object.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onItemRenameToggle: PropTypes.func.isRequired,\n  onItemSelected: PropTypes.func.isRequired,\n  onItemDelete: PropTypes.func.isRequired,\n  onItemRename: PropTypes.func.isRequired,\n  onItemMove: PropTypes.func.isRequired,\n  onItemCopy: PropTypes.func.isRequired,\n  onItemDetails: PropTypes.func.isRequired,\n  onDirentClick: PropTypes.func.isRequired,\n  updateDirent: PropTypes.func.isRequired,\n  showImagePopup: PropTypes.func.isRequired,\n  currentRepoInfo: PropTypes.object,\n  isRepoOwner: PropTypes.bool,\n  isAdmin: PropTypes.bool.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n};\n\nclass DirentListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false,\n      highlight: false,\n      progress: 0,\n      isProgressDialogShow: false,\n      isMoveDialogShow: false,\n      isCopyDialogShow: false,\n      isShareDialogShow: false,\n      isMutipleOperation: false,\n      isShowTagTooltip: false,\n      isDragTipShow: false,\n      isDropTipshow: false,\n    };\n    this.zipToken = null;\n  }\n\n  //UI Interactive\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: true,\n        isOperationShow: true,\n      });\n    }\n    this.setState({isDragTipShow: true});\n  }\n\n  onMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: true,\n        isOperationShow: true,\n      });\n    }\n    this.setState({isDragTipShow: true});\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: false,\n        isOperationShow: false,\n      });\n    }\n    this.setState({isDragTipShow: false});\n  }\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOperationShow: false,\n    });\n    this.props.onUnfreezedItem();\n  }\n\n  //buiness handler\n  onItemSelected = () => {\n    this.props.onItemSelected(this.props.dirent);\n  }\n\n  onItemStarred = () => {\n    let dirent = this.props.dirent;\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(dirent);\n\n    if (dirent.starred) {\n      seafileAPI.unstarItem(repoID, filePath).then(() => {\n        this.props.updateDirent(this.props.dirent, 'starred', false);\n      });\n    } else {\n      seafileAPI.starItem(repoID, filePath).then(() => {\n        this.props.updateDirent(this.props.dirent, 'starred', true);\n      });\n    }\n  }\n\n  // on '<tr>'\n  onDirentClick = (e) => {\n    // '<td>' is clicked\n    if (e.target.tagName == 'TD') {\n      this.props.onDirentClick(this.props.dirent);\n    }\n  }\n\n  onItemClick = (e) => {\n    e.preventDefault();\n\n    const dirent = this.props.dirent;\n    if (Utils.imageCheck(dirent.name)) {\n      this.props.showImagePopup(dirent);\n    } else {\n      this.props.onItemClick(dirent);\n    }\n  }\n\n  onItemDelete = (e) => {\n    e.nativeEvent.stopImmediatePropagation(); //for document event\n    this.props.onItemDelete(this.props.dirent);\n  }\n\n  onItemShare = (e) => {\n    e.nativeEvent.stopImmediatePropagation(); //for document event\n    this.setState({isShareDialogShow: !this.state.isShareDialogShow});\n  }\n\n  closeSharedDialog = () => {\n    this.setState({isShareDialogShow: !this.state.isShareDialogShow});\n  }\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Rename':\n        this.onItemRenameToggle();\n        break;\n      case 'Move':\n        this.onItemMoveToggle();\n        break;\n      case 'Copy':\n        this.onItemCopyToggle();\n        break;\n      case 'Permission':\n        this.onPermissionItem();\n        break;\n      case 'Details':\n        this.onDetailsItem();\n        break;\n      case 'Unlock':\n        this.onUnlockItem();\n        break;\n      case 'Lock':\n        this.onLockItem();\n        break;\n      case 'Comment':\n        this.onComnentItem();\n        break;\n      case 'History':\n        this.onHistory();\n        break;\n      case 'Access Log':\n        this.onAccessLog();\n        break;\n      case 'Open via Client':\n        this.onOpenViaClient();\n        break;\n      default:\n        break;\n    }\n  }\n\n  onItemRenameToggle = () => {\n    this.props.onItemRenameToggle(this.props.dirent);\n    this.setState({\n      isOperationShow: false,\n      isRenameing: true,\n    });\n  }\n\n  onRenameConfirm = (newName) => {\n    this.props.onItemRename(this.props.dirent, newName);\n    this.onRenameCancel();\n  }\n\n  onRenameCancel = () => {\n    this.setState({isRenameing: false});\n    this.props.onUnfreezedItem();\n  }\n\n  onItemMoveToggle = () => {\n    this.setState({isMoveDialogShow: !this.state.isMoveDialogShow});\n  }\n\n  onItemCopyToggle = () => {\n    this.setState({isCopyDialogShow: !this.state.isCopyDialogShow});\n  }\n\n  onPermissionItem = () => {\n\n  }\n\n  onDetailsItem = () => {\n    this.props.onItemDetails(this.props.dirent);\n  }\n\n  onLockItem = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    seafileAPI.lockfile(repoID, filePath).then(() => {\n      this.props.updateDirent(this.props.dirent, 'is_locked', true);\n      this.props.updateDirent(this.props.dirent, 'locked_by_me', true);\n    });\n  }\n\n  onUnlockItem = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    seafileAPI.unlockfile(repoID, filePath).then(() => {\n      this.props.updateDirent(this.props.dirent, 'is_locked', false);\n      this.props.updateDirent(this.props.dirent, 'locked_by_me', false);\n    });\n  }\n\n  onComnentItem = () => {\n\n  }\n\n  onHistory = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    let url = URLDecorator.getUrl({type: 'file_revisions', repoID: repoID, filePath: filePath});\n    location.href = url;\n  }\n\n  onAccessLog = () => {\n\n  }\n\n  onOpenViaClient = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    let url = URLDecorator.getUrl({type: 'open_via_client', repoID: repoID, filePath: filePath});\n    location.href = url;\n  }\n\n  onItemDownload = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    let dirent = this.props.dirent;\n    let repoID = this.props.repoID;\n    let direntPath = this.getDirentPath(dirent);\n    if (dirent.type === 'dir') {\n      this.setState({isProgressDialogShow: true, progress: 0});\n      seafileAPI.zipDownload(repoID, this.props.path, dirent.name).then(res => {\n        this.zipToken = res.data['zip_token'];\n        this.addDownloadAnimation();\n        this.interval = setInterval(this.addDownloadAnimation, 1000);\n      }).catch(() => {\n        clearInterval(this.interval);\n      });\n    } else {\n      let url = URLDecorator.getUrl({type: 'download_file_url', repoID: repoID, filePath: direntPath});\n      location.href = url;\n    }\n  }\n\n  addDownloadAnimation = () => {\n    let _this = this;\n    let token = this.zipToken;\n    seafileAPI.queryZipProgress(token).then(res => {\n      let data = res.data;\n      let progress = data.total === 0 ? 100 : (data.zipped / data.total * 100).toFixed(0);\n      this.setState({progress: parseInt(progress)});\n\n      if (data['total'] === data['zipped']) {\n        this.setState({\n          progress: 100\n        });\n        clearInterval(this.interval);\n        location.href = URLDecorator.getUrl({type: 'download_dir_zip_url', token: token});\n        setTimeout(function() {\n          _this.setState({isProgressDialogShow: false});\n        }, 500);\n      }\n    });\n  }\n\n  onCancelDownload = () => {\n    let zipToken = this.zipToken;\n    seafileAPI.cancelZipTask(zipToken).then(res => {\n      this.setState({\n        isProgressDialogShow: false,\n      });\n    });\n  }\n\n  getDirentPath = (dirent) => {\n    let path = this.props.path;\n    return path === '/' ? path + dirent.name : path + '/' + dirent.name;\n  }\n\n  onTagTooltipToggle = (e) => {\n    e.stopPropagation();\n    this.setState({isShowTagTooltip: !this.state.isShowTagTooltip});\n  }\n\n  onItemMove = (destRepo, dirent, selectedPath, currentPath) => {\n    this.props.onItemMove(destRepo, dirent, selectedPath, currentPath);\n  }\n\n  onItemDragStart = (e) => {\n    let nodeRootPath = '';\n    nodeRootPath = this.props.path === '/' ? `${this.props.path}${this.props.dirent.name}` : this.props.path;\n    let dragStartItemData = {nodeDirent: this.props.dirent, nodeParentPath: this.props.path, nodeRootPath: nodeRootPath};\n    dragStartItemData = JSON.stringify(dragStartItemData);\n\n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setDragImage(this.refs.drag_icon, 15, 15);\n    e.dataTransfer.setData('applicaiton/drag-item-info', dragStartItemData);\n  }\n\n  onItemDragEnter = () => {\n    if (this.props.dirent.type === 'dir') {\n      this.setState({isDropTipshow: true});\n    }\n  }\n  \n  onItemDragOver = (e) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n  }\n\n  onItemDragLeave = () => {\n    this.setState({isDropTipshow: false});\n  }\n\n  onItemDragDrop = (e) => {\n    this.setState({isDropTipshow: false});\n    if (e.dataTransfer.files.length) { // uploaded files\n      return;\n    }\n    let dragStartItemData = e.dataTransfer.getData('applicaiton/drag-item-info');\n    dragStartItemData = JSON.parse(dragStartItemData);\n    let {nodeDirent, nodeParentPath, nodeRootPath} = dragStartItemData;\n    let dropItemData = this.props.dirent;\n\n    if (nodeDirent.name === dropItemData.name) {\n      return;\n    }\n\n    if (dropItemData.type !== 'dir') {\n      return;\n    } \n\n    //  copy the dirent to it's child. eg: A/B -> A/B/C\n    if (dropItemData.type === 'dir' && nodeDirent.type === 'dir') {\n      if (nodeParentPath !== this.props.path) {\n        if (this.props.path.indexOf(nodeRootPath) !== -1) {\n          return;\n        }\n      }\n    }\n\n    let selectedPath = Utils.joinPath(this.props.path, this.props.dirent.name);\n    this.onItemMove(this.props.currentRepoInfo, nodeDirent, selectedPath, nodeParentPath);\n  }\n\n  render() {\n    let { path, dirent } = this.props;\n    let direntPath = Utils.joinPath(path, dirent.name);\n    let dirHref = '';\n    if (this.props.currentRepoInfo) {\n      dirHref = siteRoot + 'library/' + this.props.repoID + '/' + this.props.currentRepoInfo.repo_name + Utils.encodePath(direntPath);\n    }\n    let fileHref = siteRoot + 'lib/' + this.props.repoID + '/file' + Utils.encodePath(direntPath);\n    let toolTipID = MD5(dirent.name).slice(0, 7);\n    let tagTitle = '';\n    if (dirent.file_tags && dirent.file_tags.length > 0) {\n      dirent.file_tags.forEach(item => {\n        tagTitle += item.name + ' ';\n      });\n    }\n\n    let iconUrl = Utils.getDirentIcon(dirent);\n\n    const { repoEncrypted, isRepoOwner, isAdmin } = this.props;\n    let showShare = false;\n    if (!repoEncrypted &&\n      (dirent.permission == 'rw' || dirent.permission == 'r')) {\n      showShare = dirent.type == 'file' ? canGenerateShareLink :\n        (canGenerateShareLink || canGenerateUploadLink || (isRepoOwner || isAdmin));\n    }\n\n    let trClass = this.state.highlight ? 'tr-highlight ' : '';\n    trClass += this.state.isDropTipshow ? 'tr-drop-effect' : '';\n\n    return (\n      <Fragment>\n         <tr className={trClass} draggable=\"true\" onMouseEnter={this.onMouseEnter} onMouseOver={this.onMouseOver} onMouseLeave={this.onMouseLeave} onClick={this.onDirentClick} onDragStart={this.onItemDragStart} onDragEnter={this.onItemDragEnter} onDragOver={this.onItemDragOver} onDragLeave={this.onItemDragLeave} onDrop={this.onItemDragDrop}>\n          <td className={`pl10 ${this.state.isDragTipShow ? 'tr-drag-effect' : ''}`}>\n            <input type=\"checkbox\" className=\"vam\" onChange={this.onItemSelected} checked={dirent.isSelected}/>\n          </td>\n          <td className=\"pl10\">\n            {dirent.starred !== undefined && !dirent.starred && <i className=\"far fa-star star-empty cursor-pointer\" onClick={this.onItemStarred}></i>}\n            {dirent.starred !== undefined && dirent.starred && <i className=\"fas fa-star cursor-pointer\" onClick={this.onItemStarred}></i>}\n          </td>\n          <td className=\"pl10\">\n            <div className=\"dir-icon\">\n              {dirent.encoded_thumbnail_src ?\n                <img ref='drag_icon' src={`${siteRoot}${dirent.encoded_thumbnail_src}`} className=\"thumbnail cursor-pointer\" onClick={this.onItemClick} alt=\"\" /> :\n                <img ref='drag_icon' src={iconUrl} width=\"24\" alt='' />\n              }\n              {dirent.is_locked && <img className=\"locked\" src={mediaUrl + 'img/file-locked-32.png'} alt={gettext('locked')} title={dirent.lock_owner_name}/>}\n            </div>\n          </td>\n          <td className=\"name\">\n            {this.state.isRenameing ?\n              <Rename hasSuffix={dirent.type !== 'dir'} name={dirent.name} onRenameConfirm={this.onRenameConfirm} onRenameCancel={this.onRenameCancel} /> :\n              <a href={dirent.type === 'dir' ? dirHref : fileHref} onClick={this.onItemClick}>{dirent.name}</a>\n            }\n          </td>\n          <td className=\"tag-list-title\">\n            {(dirent.type !== 'dir' && dirent.file_tags) && (\n              <Fragment>\n                <div id={`tag-list-title-${toolTipID}`} className=\"dirent-item tag-list tag-list-stacked\">\n                  {dirent.file_tags.map((fileTag, index) => {\n                    let length = dirent.file_tags.length;\n                    return (\n                      <span className=\"file-tag\" key={fileTag.id} style={{zIndex:length - index, backgroundColor:fileTag.color}}></span>\n                    );\n                  })}\n                </div>\n                <UncontrolledTooltip target={`tag-list-title-${toolTipID}`} placement=\"bottom\">\n                  {tagTitle}\n                </UncontrolledTooltip>\n              </Fragment>\n            )} \n          </td>\n          <td className=\"operation\">\n            {\n              this.state.isOperationShow &&\n              <div className=\"operations\">\n                <ul className=\"operation-group\">\n                  <li className=\"operation-group-item\">\n                    <i className=\"op-icon sf2-icon-download\" title={gettext('Download')} onClick={this.onItemDownload}></i>\n                  </li>\n                  {showShare &&\n                  <li className=\"operation-group-item\">\n                    <i className=\"op-icon sf2-icon-share\" title={gettext('Share')} onClick={this.onItemShare}></i>\n                  </li>\n                  }\n                  <li className=\"operation-group-item\">\n                    <i className=\"op-icon sf2-icon-delete\" title={gettext('Delete')} onClick={this.onItemDelete}></i>\n                  </li>\n                  <li className=\"operation-group-item\">\n                    <DirentMenu\n                      dirent={this.props.dirent}\n                      onMenuItemClick={this.onMenuItemClick}\n                      currentRepoInfo={this.props.currentRepoInfo}\n                      isRepoOwner={this.props.isRepoOwner}\n                      onFreezedItem={this.props.onFreezedItem}\n                      onUnfreezedItem={this.onUnfreezedItem}\n                    />\n                  </li>\n                </ul>\n              </div>\n            }\n          </td>\n          <td className=\"file-size\">{dirent.size && dirent.size}</td>\n          <td className=\"last-update\">{dirent.mtime_relative}</td>\n        </tr>\n        {this.state.isMoveDialogShow &&\n          <ModalPortal>\n            <MoveDirentDialog\n              path={this.props.path}\n              repoID={this.props.repoID}\n              dirent={this.props.dirent}\n              isMutipleOperation={this.state.isMutipleOperation}\n              onItemMove={this.props.onItemMove}\n              onCancelMove={this.onItemMoveToggle}\n              repoEncrypted={this.props.repoEncrypted}\n            />\n          </ModalPortal>\n        }\n        {this.state.isCopyDialogShow &&\n          <ModalPortal>\n            <CopyDirentDialog\n              path={this.props.path}\n              repoID={this.props.repoID}\n              dirent={this.props.dirent}\n              isMutipleOperation={this.state.isMutipleOperation}\n              onItemCopy={this.props.onItemCopy}\n              onCancelCopy={this.onItemCopyToggle}\n              repoEncrypted={this.props.repoEncrypted}\n            />\n          </ModalPortal>\n        }\n        {this.state.isProgressDialogShow &&\n          <ModalPortal>\n            <ZipDownloadDialog \n              progress={this.state.progress} \n              onCancelDownload={this.onCancelDownload}\n            />\n          </ModalPortal>\n        }\n        {this.state.isShareDialogShow &&\n          <ModalPortal>\n            <ShareDialog \n              itemType={dirent.type}\n              itemName={dirent.name}\n              itemPath={direntPath}\n              userPerm={dirent.permission}\n              repoID={this.props.repoID}\n              repoEncrypted={false}\n              enableDirPrivateShare={this.props.enableDirPrivateShare}\n              isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n              toggleDialog={this.closeSharedDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nDirentListItem.propTypes = propTypes;\n\nexport default DirentListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dirent-list-view/dirent-list-item.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext, isPro, enableFileComment, fileAuditEnabled, folderPermEnabled } from '../../utils/constants';\n\nconst propTypes = {\n  dirent: PropTypes.object.isRequired,\n  currentRepoInfo: PropTypes.object.isRequired,\n  isRepoOwner: PropTypes.bool.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n};\n\nclass DirentMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false\n    };\n    this.menuList = [];\n  }\n\n  componentDidMount() {\n    this.menuList = this.calculateMenuList();\n  }\n\n  calculateMenuList() {\n    let { currentRepoInfo, dirent, isRepoOwner } = this.props;\n\n    let type = dirent.type;\n    let permission = dirent.permission;\n    let can_set_folder_perm = folderPermEnabled  && ((isRepoOwner && currentRepoInfo.has_been_shared_out) || currentRepoInfo.is_admin);\n    if (type === 'dir' && permission === 'rw') {\n      let menuList = [];\n      if (can_set_folder_perm) {\n        menuList = ['Rename', 'Move', 'Copy', 'Divider', 'Permission', 'Details', 'Divider', 'Open via Client'];\n      } else {\n        menuList = ['Rename', 'Move', 'Copy', 'Divider', 'Details', 'Divider', 'Open via Client'];\n      }\n      return menuList;\n    }\n\n    if (type === 'dir' && permission === 'r') {\n      let menuList = currentRepoInfo.encrypted ? ['Copy', 'Details'] : ['Details'];\n      return menuList;\n    }\n\n    if (type === 'file' && permission === 'rw') {\n      let menuList = [];\n      if (!dirent.is_locked || (dirent.is_locked && dirent.locked_by_me)) {\n        menuList.push('Rename');\n        menuList.push('Move');\n      }\n      menuList.push('Copy');\n      if (isPro) {\n        if (dirent.is_locked) {\n          if (dirent.locked_by_me || (dirent.lock_owner === 'OnlineOffice' && permission === 'rw')) {\n            menuList.push('Unlock');\n          }\n        } else {\n          menuList.push('Lock');\n        }\n      }\n      menuList.push('Divider');\n      if (enableFileComment) {\n        menuList.push('Comment');\n      }\n      menuList.push('History');\n      if (fileAuditEnabled) {\n        menuList.push('Access Log');\n      }\n      menuList.push('Details');\n      menuList.push('Divider');\n      menuList.push('Open via Client');\n      return menuList;\n    }\n\n    if (type === 'file' && permission === 'r') {\n      let menuList = [];\n      if (!currentRepoInfo.encrypted) {\n        menuList.push('Copy');\n      }\n      if (enableFileComment) {\n        menuList.push('Comment');\n      }\n      menuList.push('History');\n      menuList.push('Details');\n      return menuList;\n    }\n  }\n\n  translateMenuItem = (menuItem) => {\n    let translateResult = '';\n    switch(menuItem) {\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Move':\n        translateResult = gettext('Move');\n        break;\n      case 'Copy':\n        translateResult = gettext('Copy');\n        break;\n      case 'Permission':\n        translateResult = gettext('Permission');\n        break;\n      case 'Details':\n        translateResult = gettext('Details');\n        break;\n      case 'Unlock':\n        translateResult = gettext('Unlock');\n        break;\n      case 'Lock':\n        translateResult = gettext('Lock');\n        break;\n      case 'Comment':\n        translateResult = gettext('Comment');\n        break;\n      case 'History':\n        translateResult = gettext('History');\n        break;\n      case 'Access Log':\n        translateResult = gettext('Access Log');\n        break;\n      case 'Open via Client':\n        translateResult = gettext('Open via Client');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu();\n  }\n\n  toggleOperationMenu = () => {\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow},\n      () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  }\n\n  onMenuItemClick = (event) => {\n    let operation = event.target.dataset.toggle;\n    this.props.onMenuItemClick(operation);\n  }\n\n  render() { \n    if (!this.menuList.length) {\n      return '';\n    }\n    return (\n      <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n        <DropdownToggle\n          tag=\"i\" \n          className=\"sf-dropdown-toggle sf2-icon-caret-down\" \n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\" \n          aria-expanded={this.state.isItemMenuShow}\n          onClick={this.onDropdownToggleClick}\n        />\n        <DropdownMenu>\n          {this.menuList.map((menuItem, index) => {\n            if (menuItem === 'Divider') {\n              return <DropdownItem key={index} divider/>;\n            } else {\n              return (\n                <DropdownItem key={index} data-toggle={menuItem} onClick={this.onMenuItemClick}>{this.translateMenuItem(menuItem)}</DropdownItem>\n              );\n            }\n          })}\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nDirentMenu.propTypes = propTypes;\n\nexport default DirentMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dirent-list-view/dirent-menu.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport DetailListView from './detail-list-view';\nimport RepoInfo from '../../models/repo-info';\nimport FileTag from '../../models/file-tag';\nimport '../../css/dirent-detail.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  dirent: PropTypes.object.isRequired,\n  path: PropTypes.string.isRequired,\n  onItemDetailsClose: PropTypes.func.isRequired,\n  onFileTagChanged: PropTypes.func.isRequired,\n};\n\nclass DirentDetail extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      direntType: '',\n      direntDetail: '',\n      repoInfo: null,\n      fileTagList: [],\n      relatedFiles: [],\n    };\n  }\n\n  componentDidMount() {\n    let { dirent, path, repoID } = this.props;\n    let direntPath = Utils.joinPath(path, dirent.name);\n    seafileAPI.getRepoInfo(repoID).then(res => {\n      let repoInfo = new RepoInfo(res.data);\n      this.setState({repoInfo: repoInfo});\n      this.updateDetailView(dirent, direntPath);\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let { dirent, path } = nextProps;\n    let direntPath = Utils.joinPath(path, dirent.name);\n    this.updateDetailView(dirent, direntPath);\n  }\n\n  updateDetailView = (dirent, direntPath) => {\n    let repoID = this.props.repoID;\n    if (dirent.type === 'file') {\n      seafileAPI.getFileInfo(repoID, direntPath).then(res => {\n        this.setState({\n          direntType: 'file',\n          direntDetail: res.data,\n        });\n      });\n      seafileAPI.listFileTags(repoID, direntPath).then(res => {\n        let fileTagList = [];\n        res.data.file_tags.forEach(item => {\n          let file_tag = new FileTag(item);\n          fileTagList.push(file_tag);\n        });\n        this.setState({fileTagList: fileTagList});\n      });\n      seafileAPI.listRelatedFiles(repoID, direntPath).then(res => {\n        let relatedFiles = [];\n        res.data.related_files.map((relatedFile) => {\n          relatedFiles.push(relatedFile);\n        });\n        this.setState({\n          relatedFiles: relatedFiles,\n        });\n      }).catch((error) => {\n        if (error.response.status === 500) {\n          this.setState({\n            relatedFiles: []\n          });\n        }\n      });\n    } else {\n      seafileAPI.getDirInfo(repoID, direntPath).then(res => {\n        this.setState({\n          direntType: 'dir',\n          direntDetail: res.data\n        });\n      });\n    }\n  }\n\n  onFileTagChanged = (dirent, direntPath) => {\n    this.updateDetailView(dirent, direntPath);\n    this.props.onFileTagChanged(dirent, direntPath);\n  }\n\n  onRelatedFileChange = () => {\n    let { dirent, path } = this.props;\n    let direntPath = Utils.joinPath(path, dirent.name);\n    this.updateDetailView(dirent, direntPath);\n  }\n\n  render() {\n    let { dirent } = this.props;\n    let smallIconUrl = Utils.getDirentIcon(dirent);\n    let bigIconUrl = Utils.getDirentIcon(dirent, true);\n\n    return (\n      <div className=\"detail-container\">\n        <div className=\"detail-header\">\n          <div className=\"detail-control sf2-icon-x1\" onClick={this.props.onItemDetailsClose}></div>\n          <div className=\"detail-title dirent-title\">\n            <img src={smallIconUrl} width=\"24\" height=\"24\" alt=\"\" />{' '}\n            <span className=\"name ellipsis\" title={dirent.name}>{dirent.name}</span>\n          </div>\n        </div>\n        <div className=\"detail-body dirent-info\">\n          <div className=\"img\">\n            <img src={bigIconUrl} width=\"96\" alt=\"\" />\n          </div>\n          {this.state.direntDetail && \n            <div className=\"dirent-table-container\">\n              <DetailListView \n                repoInfo={this.state.repoInfo}\n                path={this.props.path}\n                repoID={this.props.repoID}\n                dirent={this.props.dirent}\n                direntType={this.state.direntType}\n                direntDetail={this.state.direntDetail} \n                fileTagList={this.state.fileTagList}\n                relatedFiles={this.state.relatedFiles}\n                onFileTagChanged={this.onFileTagChanged}\n                onRelatedFileChange={this.onRelatedFileChange}\n              />\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nDirentDetail.propTypes = propTypes;\n\nexport default DirentDetail;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dirent-detail/dirent-details.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport EditFileTagDialog from '../dialog/edit-filetag-dialog';\nimport ModalPortal from '../modal-portal';\nimport RelatedFileDialogs from '../dialog/related-file-dialogs';\n\nconst propTypes = {\n  repoInfo: PropTypes.object.isRequired,\n  repoID: PropTypes.string.isRequired,\n  dirent: PropTypes.object.isRequired,\n  direntType: PropTypes.string.isRequired,\n  direntDetail: PropTypes.object.isRequired,\n  path: PropTypes.string.isRequired,\n  fileTagList: PropTypes.array.isRequired,\n  relatedFiles: PropTypes.array.isRequired,\n  onFileTagChanged: PropTypes.func.isRequired,\n  onRelatedFileChange: PropTypes.func.isRequired,\n};\n\nclass DetailListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEditFileTagShow: false,\n      showRelatedFileDialog: false,\n    };\n  }\n\n  getDirentPostion = () => {\n    let { repoInfo } = this.props;\n    let direntPath = this.getDirentPath();\n    let position = repoInfo.repo_name;\n    if (direntPath !== '/') {\n      let index = direntPath.lastIndexOf('/');\n      let path = direntPath.slice(0, index);\n      position = position + path;\n    }\n    return position;\n  }\n\n  onEditFileTagToggle = () => {\n    this.setState({\n      isEditFileTagShow: !this.state.isEditFileTagShow\n    });\n  }\n\n  onFileTagChanged = () => {\n    let direntPath = this.getDirentPath();\n    this.props.onFileTagChanged(this.props.dirent, direntPath);\n  }\n\n  getDirentPath = () => {\n    let { dirent, path } = this.props;\n    return Utils.joinPath(path, dirent.name);\n  }\n\n  onListRelatedFileToggle = () => {\n    this.setState({\n      showRelatedFileDialog: true,\n    });\n  }\n\n  toggleCancel = () => {\n    this.setState({\n      showRelatedFileDialog: false,\n    });\n  }\n  \n  render() {\n    let { direntType, direntDetail, fileTagList, relatedFiles } = this.props;\n    let position = this.getDirentPostion();\n    let direntPath = this.getDirentPath();\n    if (direntType === 'dir') {\n      return (\n        <table className=\"table-thead-hidden\">\n          <thead>\n            <tr><th width=\"35%\"></th><th width=\"65%\"></th></tr>\n          </thead>\n          <tbody>\n            <tr><th>{gettext('Location')}</th><td>{position}</td></tr>\n            <tr><th>{gettext('Last Update')}</th><td>{moment(direntDetail.mtime).format('YYYY-MM-DD')}</td></tr>\n          </tbody>\n        </table>\n      );\n    } else {\n      return (\n        <Fragment>\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr><th width=\"35%\"></th><th width=\"65%\"></th></tr>\n            </thead>\n            <tbody>\n              <tr><th>{gettext('Size')}</th><td>{Utils.bytesToSize(direntDetail.size)}</td></tr>\n              <tr><th>{gettext('Location')}</th><td>{position}</td></tr>\n              <tr><th>{gettext('Last Update')}</th><td>{moment(direntDetail.last_modified).fromNow()}</td></tr>\n              <tr className=\"file-tag-container\">\n                <th>{gettext('Tags')}</th>\n                <td>\n                  <ul className=\"file-tag-list\">\n                    {fileTagList.map((fileTag) => {\n                      return (\n                        <li key={fileTag.id} className=\"file-tag-item\">\n                          <span className=\"file-tag\" style={{backgroundColor:fileTag.color}}></span>\n                          <span className=\"tag-name\" title={fileTag.name}>{fileTag.name}</span>\n                        </li>\n                      );\n                    })}\n                  </ul>\n                  <i className='fa fa-pencil-alt attr-action-icon' onClick={this.onEditFileTagToggle}></i>\n                </td>\n              </tr>\n              <tr className=\"file-related-files\">\n                <th>{gettext('Related Files')}</th>\n                <td>\n                  <ul>\n                    {relatedFiles.map((relatedFile, index) => {\n                      let href = siteRoot + 'lib/' + relatedFile.repo_id + '/file' + Utils.encodePath(relatedFile.path);\n                      return (\n                        <li key={index}>\n                          <a href={href} target='_blank'>{relatedFile.name}</a>\n                        </li>\n                      );\n                    })}\n                  </ul>\n                  <i className='fa fa-pencil-alt attr-action-icon' onClick={this.onListRelatedFileToggle}></i>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          {this.state.showRelatedFileDialog &&\n              <ModalPortal>\n                <RelatedFileDialogs\n                  repoID={this.props.repoID}\n                  filePath={direntPath}\n                  relatedFiles={relatedFiles}\n                  toggleCancel={this.toggleCancel}\n                  onRelatedFileChange={this.props.onRelatedFileChange}\n                  dirent={this.props.dirent}\n                  viewMode=\"list_related_file\"\n                />\n              </ModalPortal>\n            }\n          {\n            this.state.isEditFileTagShow &&\n            <EditFileTagDialog\n              repoID={this.props.repoID}\n              fileTagList={fileTagList}\n              filePath={direntPath}\n              toggleCancel={this.onEditFileTagToggle}\n              onFileTagChanged={this.onFileTagChanged}\n            />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nDetailListView.propTypes = propTypes;\n\nexport default DetailListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dirent-detail/detail-list-view.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Resumablejs from '@seafile/resumablejs';\nimport MD5 from 'MD5';\nimport { enableResumableFileUpload } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport { gettext } from '../../utils/constants';\nimport UploadProgressDialog from './upload-progress-dialog';\nimport UploadRemindDialog from '../dialog/upload-remind-dialog';\nimport '../../css/file-uploader.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  direntList: PropTypes.array.isRequired,\n  filetypes: PropTypes.array,\n  chunkSize: PropTypes.number,\n  withCredentials: PropTypes.bool,\n  maxFiles: PropTypes.number,\n  maxFileSize: PropTypes.number,\n  testMethod: PropTypes.string,\n  testChunks: PropTypes.number,\n  simultaneousUploads: PropTypes.number,\n  fileParameterName: PropTypes.string,\n  maxFilesErrorCallback: PropTypes.func,\n  maxFileSizeErrorCallback: PropTypes.func,\n  minFileSizeErrorCallback: PropTypes.func,\n  fileTypeErrorCallback: PropTypes.func,\n  dragAndDrop: PropTypes.bool.isRequired,\n  path: PropTypes.string.isRequired,\n  onFileUploadSuccess: PropTypes.func.isRequired,\n};\n\nclass FileUploader extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      uploadFileList: [],\n      totalProgress: 0,\n      isUploadProgressDialogShow: false,\n      isUploadRemindDialogShow: false,\n      currentResumableFile: null,\n      uploadBitrate: '0',\n      allFilesUploaded: false,\n    };\n\n    this.uploadInput = React.createRef();\n\n    this.notifiedFolders = [];\n\n    this.timestamp = null;\n    this.loaded = 0;\n    this.bitrateInterval = 500; // Interval in milliseconds to calculate the bitrate\n  }\n\n  componentDidMount() {\n    this.resumable = new Resumablejs({\n      target: '',\n      query: this.setQuery || {},\n      fileType: this.props.filetypes,\n      maxFiles: this.props.maxFiles,\n      maxFileSize: this.props.maxFileSize,\n      testMethod: this.props.testMethod || 'post',\n      testChunks: this.props.testChunks || false,\n      headers: this.setHeaders || {},\n      withCredentials: this.props.withCredentials || false,\n      chunkSize: this.props.chunkSize,\n      simultaneousUploads: this.props.simultaneousUploads || 1,\n      fileParameterName: this.props.fileParameterName,\n      generateUniqueIdentifier: this.generateUniqueIdentifier,\n      forceChunkSize: true,\n      maxChunkRetries: 3,\n    });\n\n    this.resumable.assignBrowse(this.uploadInput.current, true);\n\n    //Enable or Disable DragAnd Drop\n    if (this.props.dragAndDrop === true) {\n      this.resumable.enableDropOnDocument();\n    }\n\n    this.bindCallbackHandler();\n    this.bindEventHandler();\n  }\n\n  componentWillUnmount = () => {\n    if (this.props.dragAndDrop === true) {\n      this.resumable.disableDropOnDocument();\n    }\n  }\n\n  bindCallbackHandler = () => {\n    let {maxFilesErrorCallback, minFileSizeErrorCallback, maxFileSizeErrorCallback, fileTypeErrorCallback } = this.props;\n\n    if (maxFilesErrorCallback) {\n      this.resumable.opts.maxFilesErrorCallback = this.props.maxFilesErrorCallback;\n    }\n\n    if (minFileSizeErrorCallback) {\n      this.resumable.opts.minFileSizeErrorCallback = this.props.minFileSizeErrorCallback;\n    }\n\n    if (maxFileSizeErrorCallback) {\n      this.resumable.opts.maxFileSizeErrorCallback = this.props.maxFileSizeErrorCallback;\n    }\n\n    if (fileTypeErrorCallback) {\n      this.resumable.opts.fileTypeErrorCallback = this.props.fileTypeErrorCallback;\n    }\n\n  }\n\n  bindEventHandler = () => {\n    this.resumable.on('chunkingComplete', this.onChunkingComplete.bind(this));\n    this.resumable.on('fileAdded', this.onFileAdded.bind(this));\n    this.resumable.on('filesAddedComplete', this.filesAddedComplete.bind(this));\n    this.resumable.on('fileProgress', this.onFileProgress.bind(this));\n    this.resumable.on('fileSuccess', this.onFileUploadSuccess.bind(this));\n    this.resumable.on('progress', this.onProgress.bind(this));\n    this.resumable.on('complete', this.onComplete.bind(this));\n    this.resumable.on('pause', this.onPause.bind(this));\n    this.resumable.on('fileRetry', this.onFileRetry.bind(this));\n    this.resumable.on('fileError', this.onFileError.bind(this));\n    this.resumable.on('error', this.onError.bind(this));\n    this.resumable.on('beforeCancel', this.onBeforeCancel.bind(this));\n    this.resumable.on('cancel', this.onCancel.bind(this));\n    this.resumable.on('dragstart', this.onDragStart.bind(this));\n  }\n\n  onChunkingComplete = (file) => {\n    if (file.relativePath !== file.fileName) {\n      return; // is upload a folder;\n    }\n    if (enableResumableFileUpload) {\n      let repoID = this.props.repoID;\n      seafileAPI.getFileUploadedBytes(repoID, this.props.path, file.fileName).then(res => {\n        let uploadedBytes = res.data.uploadedBytes;\n        let offset = Math.floor(uploadedBytes / (1024 * 1024));\n        file.markChunksCompleted(offset);\n      });\n    }\n  }\n\n  onFileAdded = (resumableFile, files) => {\n    //get parent_dirrelative_path\n    let path = this.props.path === '/' ? '/' : this.props.path + '/';\n    let fileName = resumableFile.fileName;\n    let relativePath = resumableFile.relativePath;\n    let isFile = fileName === relativePath;\n\n    //update formdata\n    resumableFile.formData = {};\n    if (isFile) {\n      resumableFile.formData  = {\n        parent_dir: path,\n      };\n    } else {\n      let relative_path = relativePath.slice(0, relativePath.lastIndexOf('/') + 1);\n      resumableFile.formData  = {\n        parent_dir: path,\n        relative_path: relative_path\n      };\n    }\n\n    //check repetition\n    //uploading is file and only upload one file\n    if (isFile && files.length === 1) {\n      let hasRepetition = false;\n      let direntList = this.props.direntList;\n      for (let i = 0; i < direntList.length; i++) {\n        if (direntList[i].type === 'file' && direntList[i].name === resumableFile.fileName) {\n          hasRepetition = true;\n          break;\n        }\n      }\n      if (hasRepetition) {\n        this.setState({\n          isUploadRemindDialogShow: true,\n          currentResumableFile: resumableFile,\n        });\n      } else {\n        this.setUploadFileList(this.resumable.files);\n        this.resumable.upload();\n      }\n    } else {\n      this.setUploadFileList(this.resumable.files);\n      this.resumable.upload();\n    }\n  }\n\n  filesAddedComplete = (resumable, files) => {\n    // single file uploading can check repetition, because custom dialog conn't prevent program execution;\n  }\n\n  setUploadFileList = () => {\n    let uploadFileList = this.resumable.files.map(resumableFile => {\n      return this.buildCustomFileObj(resumableFile);\n    });\n    this.setState({\n      isUploadProgressDialogShow: true,\n      uploadFileList: uploadFileList,\n    });\n  }\n\n  buildCustomFileObj = (resumableFile) => {\n    return {\n      uniqueIdentifier: resumableFile.uniqueIdentifier,\n      resumableFile: resumableFile,\n      progress: resumableFile.progress(),\n      isSaved: resumableFile.progress() === 1 ? true : false, // The 'isSaved' property is not saved in resumableFile.\n    };\n  }\n\n  onFileProgress = (file) => {\n    let uniqueIdentifier = file.uniqueIdentifier;\n    let uploadFileList = this.state.uploadFileList.map(item => {\n      if (item.uniqueIdentifier === uniqueIdentifier) {\n        item.progress = Math.round(file.progress() * 100);\n      }\n      return item;\n    });\n\n    this.setState({uploadFileList: uploadFileList});\n  }\n\n  getBitrate = () => {\n    let loaded = 0;\n    let uploadBitrate = 0;\n    let now = new Date().getTime();\n    \n    this.resumable.files.forEach(file => {\n      loaded += file.progress() * file.size;\n    });\n\n    if (this.timestamp) {\n      let timeDiff = (now - this.timestamp);\n      if (timeDiff < this.bitrateInterval) {\n        return this.state.uploadBitrate; \n      }\n      uploadBitrate = (loaded - this.loaded) * (1000 / timeDiff) * 8;\n    }\n\n    this.timestamp = now;\n    this.loaded = loaded;\n\n    uploadBitrate = Utils.formatBitRate(uploadBitrate);\n    return uploadBitrate;\n  }\n  \n  onProgress = () => {\n    let progress = Math.round(this.resumable.progress() * 100);\n    let uploadBitrate = this.getBitrate();\n    this.setState({\n      totalProgress: progress,\n      uploadBitrate: uploadBitrate\n    });\n  }\n\n  onFileUploadSuccess = (resumableFile, message) => {\n    let formData = resumableFile.formData;\n    let currentTime = new Date().getTime()/1000;\n    message = formData.replace ? message : JSON.parse(message)[0];\n    if (formData.relative_path) { // upload folder\n      let relative_path = formData.relative_path;\n      let dir_name = relative_path.slice(0, relative_path.indexOf('/'));\n      let dirent = {\n        id: message.id,\n        name: dir_name,\n        type: 'dir',\n        mtime: currentTime,\n      };\n\n      // update folders cache\n      let isExist = this.notifiedFolders.some(item => {return item.name === dirent.name;});\n      if (!isExist) {\n        this.notifiedFolders.push(dirent);\n        this.props.onFileUploadSuccess(dirent);\n      }\n\n      // update uploadFileList\n      let uploadFileList = this.state.uploadFileList.map(item => {\n        if (item.resumableFile.uniqueIdentifier === resumableFile.uniqueIdentifier) {\n          item.resumableFile.fileName = message.name;\n          item.resumableFile.relativePath = relative_path + message.name;\n          item.isSaved = true;\n        }\n        return item;\n      });\n      this.setState({uploadFileList: uploadFileList});\n\n      return;\n    }\n\n    if (formData.replace) { // upload file -- replace exist file\n      let fileName = resumableFile.fileName;\n      let dirent = {\n        id: message,\n        name: fileName,\n        type: 'file',\n        mtime: currentTime\n      };\n      this.props.onFileUploadSuccess(dirent); // this contance: just one file\n\n      let uploadFileList = this.state.uploadFileList.map(item => {\n        if (item.resumableFile.uniqueIdentifier === resumableFile.uniqueIdentifier) {\n          item.isSaved = true;\n        }\n        return item;\n      });\n      this.setState({uploadFileList: uploadFileList});\n\n      return;\n    }\n\n    // upload file -- add files\n    let dirent = {\n      id: message.id,\n      type: 'file',\n      name: message.name,\n      size: message.size,\n      mtime: currentTime,\n    };\n    this.props.onFileUploadSuccess(dirent); // this contance:  no repetition file\n\n    let uploadFileList = this.state.uploadFileList.map(item => {\n      if (item.resumableFile.uniqueIdentifier === resumableFile.uniqueIdentifier) {\n        item.resumableFile.fileName = message.name;\n        item.resumableFile.relativePath = message.name;\n        item.isSaved = true;\n      }\n      return item;\n    });\n    this.setState({uploadFileList: uploadFileList});\n  }\n\n  onFileError = (resumableFile, message) => {\n    let error = '';\n    if (!message) {\n      error = gettext('Network error');\n    } else {\n      error = message;\n    }\n\n    let uploadFileList = this.state.uploadFileList.map(item => {\n      if (item.resumableFile.uniqueIdentifier === resumableFile.uniqueIdentifier) {\n        item.resumableFile.error = error;\n      }\n      return item;\n    });\n    this.setState({uploadFileList: uploadFileList});\n\n  }\n\n  onComplete = () => {\n    this.notifiedFolders = [];\n    this.setState({allFilesUploaded: true});\n  }\n\n  onPause = () => {\n\n  }\n\n  onError = (message) => {\n\n  }\n\n  onFileRetry = () => {\n    //todos, cancel upload file, uploded again;\n  }\n\n  onBeforeCancel = () => {\n    //todos, giving a pop message ?\n  }\n\n  onCancel = () => {\n\n  }\n\n  setHeaders = (resumableFile, resumable) => {\n    if (resumableFile.formData.replace) {\n      return [];\n    }\n    let offset = resumable.offset;\n    let chunkSize = resumable.getOpt('chunkSize');\n    let fileSize = resumableFile.size;\n    let startByte = offset !== 0 ? offset * chunkSize : 0;\n    let endByte = Math.min(fileSize, (offset + 1) * chunkSize) - 1;\n\n    if (fileSize - resumable.endByte < chunkSize && !resumable.getOpt('forceChunkSize')) {\n      endByte = fileSize;\n    }\n\n    let headers = {\n      'Accept': 'application/json; text/javascript, */*; q=0.01',\n      'Content-Disposition': 'attachment; filename=\"' + encodeURI(resumableFile.fileName) + '\"',\n      'Content-Range': 'bytes ' + startByte + '-' + endByte + '/' + fileSize,\n    };\n\n    return headers;\n  }\n\n  setQuery = (resumableFile) => {\n    let formData = resumableFile.formData;\n    return formData;\n  }\n\n  generateUniqueIdentifier = (file) => {\n    let relativePath = file.webkitRelativePath||file.relativePath||file.fileName||file.name;\n    return MD5(relativePath + new Date()) + relativePath;\n  }\n\n  onClick = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    e.stopPropagation();\n  }\n\n  onFileUpload = () => {\n    this.uploadInput.current.removeAttribute('webkitdirectory');\n    this.uploadInput.current.click();\n    let repoID = this.props.repoID;\n    seafileAPI.getUploadLink(repoID, this.props.path).then(res => {\n      this.resumable.opts.target = res.data;\n    });\n  }\n\n  onFolderUpload = () => {\n    this.uploadInput.current.setAttribute('webkitdirectory', 'webkitdirectory');\n    this.uploadInput.current.click();\n    let repoID = this.props.repoID;\n    seafileAPI.getUploadLink(repoID, this.props.path).then(res => {\n      this.resumable.opts.target = res.data;\n    });\n  }\n\n  onDragStart = () => {\n    let repoID = this.props.repoID;\n    this.uploadInput.current.setAttribute('webkitdirectory', 'webkitdirectory');\n    seafileAPI.getUploadLink(repoID, this.props.path).then(res => {\n      this.resumable.opts.target = res.data;\n    });\n  }\n\n  onCloseUploadDialog = () => {\n    this.resumable.files = [];\n    this.setState({isUploadProgressDialogShow: false, uploadFileList: []});\n  }\n\n  onUploadCancel = (uploadingItem) => {\n    let uploadFileList = this.state.uploadFileList.filter(item => {\n      if (item.uniqueIdentifier === uploadingItem.uniqueIdentifier) {\n        uploadingItem.resumableFile.cancel();\n        this.resumable.removeFile(uploadingItem.resumableFile.file);\n      } else {\n        return item;\n      }\n    });\n    let newUploaderFileList = uploadFileList.map(item => {\n      let progress = Math.round(item.resumableFile.progress() * 100);\n      item.progress = progress;\n      return item;\n    });\n    this.setState({uploadFileList: newUploaderFileList});\n  }\n\n  onCancelAllUploading = () => {\n    let uploadFileList = this.state.uploadFileList.filter(item => {\n      let resumableFile = item.resumableFile;\n      if (Math.round(resumableFile.progress() !== 1)) {\n        resumableFile.cancel();\n        this.resumable.removeFile(resumableFile.file);\n      } else {\n        return item;\n      }\n    });\n    this.setState({uploadFileList: uploadFileList});\n  }\n\n  onUploaderRetry = () => {\n\n  }\n\n  replaceRepetitionFile = () => {\n    let { repoID, path } = this.props;\n    seafileAPI.getUpdateLink(repoID, path).then(res => {\n      this.resumable.opts.target = res.data;\n\n      let resumableFile = this.resumable.files[this.resumable.files.length - 1];\n      resumableFile.formData['replace'] = 1;\n      resumableFile.formData['target_file'] = resumableFile.formData.parent_dir + resumableFile.fileName;\n      this.setState({isUploadRemindDialogShow: false});\n      this.setUploadFileList(this.resumable.files);\n      this.resumable.upload();\n    });\n  }\n  \n  uploadFile = () => {\n    let resumableFile = this.resumable.files[this.resumable.files.length - 1];\n    let fileObject = this.buildCustomFileObj(resumableFile);\n    this.setState({\n      isUploadRemindDialogShow: false,\n      isUploadProgressDialogShow: true,\n      uploadFileList: [...this.state.uploadFileList, fileObject]\n    }, () => {\n      this.resumable.upload();\n    });\n  }\n\n  cancelFileUpload = () => {\n    this.resumable.files.pop(); //delete latest file\n    this.setState({isUploadRemindDialogShow: false});\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"file-uploader-container\">\n          <div className=\"file-uploader\">\n            <input className=\"upload-input\" type=\"file\" ref={this.uploadInput} onClick={this.onClick}/>\n          </div>\n        </div>\n        {this.state.isUploadRemindDialogShow &&\n          <UploadRemindDialog\n            currentResumableFile={this.state.currentResumableFile}\n            replaceRepetitionFile={this.replaceRepetitionFile}\n            uploadFile={this.uploadFile}\n            cancelFileUpload={this.cancelFileUpload}\n          />\n        }\n        {this.state.isUploadProgressDialogShow &&\n          <UploadProgressDialog\n            uploadFileList={this.state.uploadFileList}\n            totalProgress={this.state.totalProgress}\n            uploadBitrate={this.state.uploadBitrate}\n            allFilesUploaded={this.state.allFilesUploaded}\n            onCloseUploadDialog={this.onCloseUploadDialog}\n            onCancelAllUploading={this.onCancelAllUploading}\n            onUploadCancel={this.onUploadCancel}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nFileUploader.propTypes = propTypes;\n\nexport default FileUploader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-uploader/file-uploader.js","import cookie from 'react-cookies';\nimport { SeafileAPI } from 'seafile-js';\nimport { siteRoot } from './constants';\n\nlet seafileAPI = new SeafileAPI();\nlet xcsrfHeaders = cookie.load('sfcsrftoken');\nseafileAPI.initForSeahubUsage({ siteRoot, xcsrfHeaders });\n\nexport { seafileAPI };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/seafile-api.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, isPro } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport RepoInfo from '../../models/repo-info';\nimport RepoListView from './repo-list-view';\nimport Loading from '../loading';\nimport SearchedListView from './searched-list-view';\n\nimport '../../css/file-chooser.css';\n\nconst propTypes = {\n  isShowFile: PropTypes.bool,\n  repoID: PropTypes.string,\n  onDirentItemClick: PropTypes.func,\n  onRepoItemClick: PropTypes.func,\n  mode: PropTypes.oneOf(['current_repo_and_other_repos', 'only_all_repos', 'only_current_library']),\n};\n\nclass FileChooser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasRequest: false,\n      isCurrentRepoShow: true,\n      isOtherRepoShow: false,\n      repoList: [],\n      currentRepoInfo: null,\n      selectedRepo: null,\n      selectedPath: '',\n      isSearching: false,\n      isResultGot: false,\n      searchInfo: '',\n      searchResults: [],\n    };\n    this.inputValue = '';\n    this.timer = null;\n    this.source = null;\n  }\n\n  componentDidMount() {\n    if (this.props.repoID) {  // current_repo_and_other_repos, only_current_library\n      let repoID = this.props.repoID;\n      seafileAPI.getRepoInfo(repoID).then(res => {\n        // need to optimized\n        let repoInfo = new RepoInfo(res.data);\n        this.setState({\n          currentRepoInfo: repoInfo,\n          selectedRepo: repoInfo\n        });\n        this.props.onRepoItemClick(repoInfo);\n      });\n    } else { // only_all_repos\n      seafileAPI.listRepos().then(res => {\n        let repos = res.data.repos;\n        let repoList = [];\n        let repoIdList = [];\n        for(let i = 0; i < repos.length; i++) {\n          if (repos[i].permission !== 'rw') {\n            continue;\n          }\n          if (repoIdList.indexOf(repos[i].repo_id) > -1) {\n            continue;\n          }\n          repoList.push(repos[i]);\n          repoIdList.push(repos[i].repo_id);\n        }\n        repoList = Utils.sortRepos(repoList, 'name', 'asc');\n        this.setState({repoList: repoList});\n      });\n    }\n  }\n\n  onOtherRepoToggle = () => {\n    if (!this.state.hasRequest) {\n      let that = this;\n      seafileAPI.listRepos().then(res => {\n        // todo optimized code\n        let repos = res.data.repos;\n        let repoList = [];\n        let repoIdList = [];\n        for(let i = 0; i < repos.length; i++) {\n          if (repos[i].permission !== 'rw') {\n            continue;\n          }\n          if (that.props.repoID && (repos[i].repo_name === that.state.currentRepoInfo.repo_name)) {\n            continue;\n          }\n          if (repoIdList.indexOf(repos[i].repo_id) > -1) {\n            continue;\n          }\n          repoList.push(repos[i]);\n          repoIdList.push(repos[i].repo_id);\n        }\n        repoList = Utils.sortRepos(repoList, 'name', 'asc');\n        this.setState({\n          repoList: repoList,\n          isOtherRepoShow: !this.state.isOtherRepoShow,\n        });\n      });\n    }\n    else {\n      this.setState({isOtherRepoShow: !this.state.isOtherRepoShow});\n    }\n  }\n\n  onCurrentRepoToggle = () => [\n    this.setState({isCurrentRepoShow: !this.state.isCurrentRepoShow})\n  ]\n\n  onDirentItemClick = (repo, filePath, dirent) => {\n    this.props.onDirentItemClick(repo, filePath, dirent);\n    this.setState({\n      selectedRepo: repo,\n      selectedPath: filePath\n    });\n  }\n\n  onRepoItemClick = (repo) => {\n    if (this.props.onRepoItemClick) {\n      this.props.onRepoItemClick(repo);\n    }\n    this.setState({\n      selectedRepo: repo,\n      selectedPath: '',\n    });\n  }\n\n  onCloseSearching = () => {\n    this.setState({\n      isSearching: false,\n      isResultGot: false,\n      searchInfo: '',\n      searchResults: [],\n    });\n    this.inputValue = '';\n    this.timer = null;\n    this.source = null;\n  }\n\n  onSearchInfoChanged = (event) => {\n    let searchInfo = event.target.value.trim();\n\n    this.setState({searchInfo: searchInfo});\n\n    if (this.inputValue === searchInfo) {\n      return false;\n    }\n\n    this.inputValue = searchInfo;\n\n    if (searchInfo.length === 0) {\n      this.setState({\n        isSearching: false,\n        searchResults: [],\n      });\n      return false;\n    }\n\n    if (!this.state.searchResults.length && searchInfo.length > 0) {\n      this.setState({\n        isSearching: true,\n        isResultGot: false,\n      });\n    }\n\n    if (this.inputValue === '' || this.getValueLength(this.inputValue) < 3) {\n      this.setState({isResultGot: false});\n      return false;\n    }\n\n    let repoID = this.props.repoID;\n    let isShowFile = this.props.isShowFile;\n    let mode = this.props.mode;\n    let searchRepo = mode === 'only_current_library' ? repoID : 'all';\n\n    let queryData = {\n      q: searchInfo,\n      search_repo: searchRepo,\n      search_ftypes: 'all',\n      obj_type: isShowFile ? 'file' : 'dir',\n    };\n\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    this.timer = setTimeout(this.getSearchResult(queryData), 500);\n  }\n\n  getSearchResult = (queryData) => {\n    if (this.source) {\n      this.cancelRequest();\n    }\n\n    this.setState({isResultGot: false});\n\n    this.source = seafileAPI.getSource();\n    this.sendRequest(queryData, this.source.token);\n  }\n\n  sendRequest = (queryData, cancelToken) => {\n    seafileAPI.searchFiles(queryData, cancelToken).then(res => {\n      if (!res.data.total) {\n        this.setState({\n          searchResults: [],\n          isResultGot: true\n        });\n        this.source = null;\n        return;\n      }\n\n      let items = this.formatResultItems(res.data.results);\n      this.setState({\n        searchResults: items,\n        isResultGot: true\n      });\n      this.source = null;\n    }).catch(res => {\n      /* eslint-disable */\n      console.log(res);\n      /* eslint-enable */\n    });\n  }\n\n  cancelRequest = () => {\n    this.source.cancel('prev request is cancelled');\n  }\n\n  getValueLength = (str) => {\n    var i = 0, code, len = 0;\n    for (; i < str.length; i++) {\n      code = str.charCodeAt(i);\n      if (code == 10) { //solve enter problem\n        len += 2;\n      } else if (code < 0x007f) {\n        len += 1;\n      } else if (code >= 0x0080 && code <= 0x07ff) {\n        len += 2;\n      } else if (code >= 0x0800 && code <= 0xffff) {\n        len += 3;\n      }\n    }\n    return len;\n  }\n\n  formatResultItems = (data) => {\n    let items = [];\n    let length = data.length > 10 ? 10 : data.length;\n    for (let i = 0; i < length; i++) {\n      items[i] = {};\n      items[i]['index'] = [i];\n      items[i]['name'] = data[i].name;\n      items[i]['path'] = data[i].fullpath;\n      items[i]['repo_id'] = data[i].repo_id;\n      items[i]['repo_name'] = data[i].repo_name;\n      items[i]['is_dir'] = data[i].is_dir;\n      items[i]['link_content'] = decodeURI(data[i].fullpath).substring(1);\n      items[i]['content'] = data[i].content_highlight;\n    }\n    return items;\n  }\n\n  onSearchedItemClick = (item) => {\n    item['type'] = item.is_dir ? 'dir' : 'file';\n    let repo = new RepoInfo(item);\n    this.props.onDirentItemClick(repo, item.path, item);\n  }\n\n  renderSearchedView = () => {\n    if (this.getValueLength(this.inputValue) < 3) {\n      return '';\n    }\n\n    if (!this.state.isResultGot) {\n      return (<Loading />);\n    }\n\n    if (this.state.isResultGot && this.state.searchResults.length === 0) {\n      return (<div className=\"search-result-none text-center\">{gettext('No results matching.')}</div>);\n    }\n\n    if (this.state.isResultGot && this.state.searchResults.length > 0) {\n      return (<SearchedListView searchResults={this.state.searchResults} onItemClick={this.onSearchedItemClick}/>);\n    }\n  }\n \n  renderRepoListView = () => {\n    return (\n      <div className=\"file-chooser-container\">\n        {this.props.mode === 'current_repo_and_other_repos' && (\n          <Fragment>\n            <div className=\"list-view\">\n              <div className=\"list-view-header\">\n                <span className={`item-toggle fa ${this.state.isCurrentRepoShow ? 'fa-caret-down' : 'fa-caret-right'}`} onClick={this.onCurrentRepoToggle}></span>\n                <span className=\"library\">{gettext('Current Library')}</span>\n              </div>\n              {\n                this.state.isCurrentRepoShow && this.state.currentRepoInfo &&\n                <RepoListView \n                  initToShowChildren={true}\n                  currentRepoInfo={this.state.currentRepoInfo}\n                  selectedRepo={this.state.selectedRepo}\n                  selectedPath={this.state.selectedPath}\n                  onRepoItemClick={this.onRepoItemClick} \n                  onDirentItemClick={this.onDirentItemClick}\n                  isShowFile={this.props.isShowFile}\n                />\n              }\n            </div>\n            <div className=\"list-view\">\n              <div className=\"list-view-header\">\n                <span className={`item-toggle fa ${this.state.isOtherRepoShow ? 'fa-caret-down' : 'fa-caret-right'}`} onClick={this.onOtherRepoToggle}></span>\n                <span className=\"library\">{gettext('Other Libraries')}</span>\n              </div>\n              {\n                this.state.isOtherRepoShow && \n                <RepoListView \n                  initToShowChildren={false}\n                  repoList={this.state.repoList}\n                  selectedRepo={this.state.selectedRepo}\n                  selectedPath={this.state.selectedPath}\n                  onRepoItemClick={this.onRepoItemClick} \n                  onDirentItemClick={this.onDirentItemClick}\n                  isShowFile={this.props.isShowFile}\n                /> \n              }\n            </div>\n          </Fragment>\n        )}\n        {this.props.mode === 'only_current_library' && (\n            <div className=\"list-view\">\n              <div className=\"list-view-header\">\n                <span className={`item-toggle fa ${this.state.isCurrentRepoShow ? 'fa-caret-down' : 'fa-caret-right'}`} onClick={this.onCurrentRepoToggle}></span>\n                <span className=\"library\">{gettext('Current Library')}</span>\n              </div>\n              {\n                this.state.isCurrentRepoShow && this.state.currentRepoInfo &&\n                <RepoListView \n                  initToShowChildren={true}\n                  currentRepoInfo={this.state.currentRepoInfo}\n                  selectedRepo={this.state.selectedRepo}\n                  selectedPath={this.state.selectedPath}\n                  onRepoItemClick={this.onRepoItemClick} \n                  onDirentItemClick={this.onDirentItemClick}\n                  isShowFile={this.props.isShowFile}\n                />\n              }\n            </div>\n        )}\n        {this.props.mode === 'only_all_repos' && (\n          <div className=\"file-chooser-container\">\n            <div className=\"list-view\">\n              <div className=\"list-view-header\">\n                <span className=\"item-toggle fa fa-caret-down\"></span>\n                <span className=\"library\">{gettext('Libraries')}</span>\n              </div>\n                <RepoListView \n                  initToShowChildren={false}\n                  repoList={this.state.repoList}\n                  selectedRepo={this.state.selectedRepo}\n                  selectedPath={this.state.selectedPath}\n                  onRepoItemClick={this.onRepoItemClick} \n                  onDirentItemClick={this.onDirentItemClick}\n                  isShowFile={this.props.isShowFile}\n                /> \n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    if (!this.state.selectedRepo && this.props.repoID) {\n      return '';\n    }\n\n    return (\n      <Fragment>\n        {isPro && (\n          <div className=\"file-chooser-search-input\">\n            <Input className=\"search-input\" placeholder={gettext('Search...')} className=\"mb-2\" type='text' value={this.state.searchInfo} onChange={this.onSearchInfoChanged}></Input>\n            {this.state.searchInfo.length !== 0 && (\n              <span className=\"search-control attr-action-icon fas fa-times\" onClick={this.onCloseSearching}></span>\n            )}\n          </div>\n        )}\n        {this.state.isSearching && (\n          <div className=\"file-chooser-search-container\">\n            {this.renderSearchedView()}\n          </div>\n        )}\n        {!this.state.isSearching && this.renderRepoListView()}\n      </Fragment>\n    );\n  }\n}\n\nFileChooser.propTypes = propTypes;\n\nexport default FileChooser;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/file-chooser.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport UploadListItem from './upload-list-item';\n\nconst propTypes = {\n  uploadBitrate: PropTypes.string.isRequired,\n  totalProgress: PropTypes.number.isRequired,\n  uploadFileList: PropTypes.array.isRequired,\n  onCloseUploadDialog: PropTypes.func.isRequired,\n  onCancelAllUploading: PropTypes.func.isRequired,\n  onUploadCancel: PropTypes.func.isRequired,\n  allFilesUploaded: PropTypes.bool.isRequired,\n};\n\nclass UploadProgressDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMinimized: false\n    };\n  }\n\n  onCancelAllUploading = () => {\n    this.props.onCancelAllUploading();\n  }\n\n  onMinimizeUpload = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.setState({isMinimized: !this.state.isMinimized});\n  }\n\n  onCloseUpload = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.props.onCloseUploadDialog();\n  }\n\n  render() {\n    let uploadedMessage = gettext('File Upload');\n    let uploadingMessage = gettext('File Uploading...') + ' ' + this.props.totalProgress + '%' + ' (' + this.props.uploadBitrate + ')';\n\n    let uploadingOptions = (<span className=\"sf2-icon-minus\" onClick={this.onMinimizeUpload}></span>);\n\n    let uploadedOptions = (\n      <Fragment>\n        <span className=\"sf2-icon-minus\" onClick={this.onMinimizeUpload}></span>\n        <span className=\"sf2-icon-x1\" onClick={this.onCloseUpload}></span>\n      </Fragment>\n    );\n\n    let { totalProgress, allFilesUploaded } = this.props;\n\n    return (\n      <div className=\"uploader-list-view\" style={{height: this.state.isMinimized ? '2.25rem' : '20rem'}}>\n        <div className=\"uploader-list-header\">\n          <div className=\"title\">\n            {totalProgress === 100 ? uploadedMessage : uploadingMessage}\n          </div>\n          <div className=\"uploader-options\">\n            {totalProgress === 100 ||  allFilesUploaded ? uploadedOptions : uploadingOptions}\n          </div>\n        </div>\n        <div className=\"uploader-list-content\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"45%\">{gettext('name')}</th>\n                <th width=\"40%\">{gettext('progress')}</th>\n                <th width=\"15%\">{gettext('state')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {(!allFilesUploaded) && \n                <tr><td className=\"text-right\" colSpan={3}><span className=\"cursor-pointer\" onClick={this.onCancelAllUploading}>{gettext('Cancel All')}</span></td></tr>\n              }\n              {\n                this.props.uploadFileList.map((item, index) => {\n                  return (\n                    <UploadListItem key={index} item={item} onUploadCancel={this.props.onUploadCancel}/>\n                  );\n                })\n              }\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nUploadProgressDialog.propTypes = propTypes;\n\nexport default UploadProgressDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-uploader/upload-progress-dialog.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  item: PropTypes.object.isRequired,\n  onUploadCancel: PropTypes.func.isRequired,\n};\n\nclass UploadListItem extends React.Component {\n\n  onUploadCancel = (e) => {\n    e.preventDefault();\n    this.props.onUploadCancel(this.props.item);\n  }\n\n  formatFileSize = (size) => {\n    if (typeof size !== 'number') {\n      return '';\n    }\n    if (size >= 1000 * 1000 * 1000) {\n      return (size / (1000 * 1000 * 1000)).toFixed(1) + ' G';\n    }\n    if (size >= 1000 * 1000) {\n      return (size / (1000 * 1000)).toFixed(1) + ' M';\n    }\n    if (size >= 1000) {\n      return (size / 1000).toFixed(1) + ' K';\n    }\n    return size.toFixed(1) + ' B';\n  }\n\n  render() {\n    let { item } = this.props;\n    let progress = Math.round(item.resumableFile.progress() * 100);\n    let error = item.resumableFile.error;\n\n    return (\n      <tr className=\"file-upload-item\">\n        <td className=\"upload-name\">\n          <div className=\"ellipsis\">{item.resumableFile.relativePath}</div>\n          <div className=\"message err-message ml-0\">{error}</div>\n        </td>\n        <td className=\"upload-progress\">\n          <span className=\"file-size\">{this.formatFileSize(item.resumableFile.size)}</span>\n          {!item.resumableFile.error && progress !== 100 &&\n            <div className=\"progress\">\n              <div className=\"progress-bar\" role=\"progressbar\" style={{width: `${progress}%`}} aria-valuenow={progress} aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n            </div>\n          }\n        </td>\n        <td className=\"upload-operation\">\n          {!item.resumableFile.error && (\n            <Fragment>\n              {(!item.isSaved && progress !== 100) && (\n                <a href=\"#\" onClick={this.onUploadCancel}>{gettext('cancel')}</a>\n              )}\n              {(!item.isSaved && progress === 100) && (\n                <span className=\"saving\">{gettext('saving...')}</span>\n              )}\n              {item.isSaved && (\n                <span className=\"uploaded\">{gettext('uploaded')}</span>\n              )}\n            </Fragment>\n          )}\n        </td>\n      </tr>\n    );\n  }\n}\n\nUploadListItem.propTypes = propTypes;\n\nexport default UploadListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-uploader/upload-list-item.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\n\nconst propTypes = {\n  currentResumableFile: PropTypes.object.isRequired,\n  replaceRepetitionFile: PropTypes.func.isRequired,\n  uploadFile: PropTypes.func.isRequired,\n  cancelFileUpload: PropTypes.func.isRequired,\n};\n\nclass UploadRemindDialog extends React.Component {\n\n  toggle = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.props.cancelFileUpload();\n  }\n\n  replaceRepetitionFile = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.props.replaceRepetitionFile();\n  }\n\n  uploadFile = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.props.uploadFile();\n  }\n\n  render() {\n\n    let title = gettext('Replace file {filename}?');\n    title = title.replace('{filename}', '<span class=\"a-simaulte\">' + this.props.currentResumableFile.fileName + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle} ><div dangerouslySetInnerHTML={{__html: title}}></div></ModalHeader>\n        <ModalBody>\n          <p>{gettext('A file with the same name already exists in this folder.')}</p>\n          <p>{gettext('Replacing it will overwrite its content.')}</p>\n        </ModalBody>\n        <ModalFooter>\n          <Button outline color=\"primary\" onClick={this.replaceRepetitionFile}>{gettext('Replace')}</Button>\n          <Button outline color=\"info\" onClick={this.uploadFile}>{gettext('Don\\'t replace')}</Button>\n          <Button outline color=\"danger\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nUploadRemindDialog.propTypes = propTypes;\n\nexport default UploadRemindDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/upload-remind-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ModalPortal from './modal-portal';\nimport ListTaggedFilesDialog from './dialog/list-taggedfiles-dialog';\nimport ListRepoDraftsDialog from './dialog/list-repo-drafts-dialog';\nimport ReadmeDialog from './dialog/readme-dialog';\nimport { siteRoot, gettext } from '../utils/constants';\nimport { Utils } from '../utils/utils';\n\nimport '../css/repo-info-bar.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  usedRepoTags: PropTypes.array.isRequired,\n  readmeMarkdown: PropTypes.object,\n  draftCounts: PropTypes.number,\n  updateUsedRepoTags: PropTypes.func.isRequired,\n};\n\nclass RepoInfoBar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentTag: null,\n      isListTaggedFileShow: false,\n      showRepoDrafts: false,\n      showReadmeDialog: false,\n    };\n  }\n\n  onListTaggedFiles = (currentTag) => {\n    this.setState({\n      currentTag: currentTag,\n      isListTaggedFileShow: !this.state.isListTaggedFileShow,\n    });\n  }\n\n  onCloseDialog = () => {\n    this.setState({\n      isListTaggedFileShow: false\n    });\n  }\n\n  toggleDrafts = () => {\n    this.setState({\n      showRepoDrafts: !this.state.showRepoDrafts \n    });\n  }\n\n  toggleReadme = () => {\n    this.setState({\n      showReadmeDialog: !this.state.showReadmeDialog\n    });\n  }\n\n  render() {\n    let {repoID, currentPath, usedRepoTags, readmeMarkdown} = this.props;\n    let href = readmeMarkdown !== null ? siteRoot + 'lib/' + repoID + '/file' + Utils.joinPath(currentPath, readmeMarkdown.name) +  '?mode=edit' : '';\n    let filePath = readmeMarkdown !== null ? currentPath + readmeMarkdown.name : '';\n    return (\n      <div className=\"repo-info-bar\">\n        {usedRepoTags.length > 0 && (\n          <ul className=\"used-tag-list\">\n            {usedRepoTags.map((usedRepoTag) => {\n              return (\n                <li key={usedRepoTag.id} className=\"used-tag-item\">\n                  <span className=\"used-tag\" style={{backgroundColor:usedRepoTag.color}}></span>\n                  <span className=\"used-tag-name\" title={usedRepoTag.name}>{usedRepoTag.name}</span>\n                  <span className=\"used-tag-files\" onClick={this.onListTaggedFiles.bind(this, usedRepoTag)}>\n                    {usedRepoTag.fileCount > 1 ? usedRepoTag.fileCount + ' files' : usedRepoTag.fileCount + ' file'}\n                  </span>\n                </li>\n              );\n            })}\n          </ul>\n        )}\n        <div className={(usedRepoTags.length > 0 && readmeMarkdown) ? 'file-info-list mt-1' : 'file-info-list'}>\n          {(readmeMarkdown !== null && parseInt(readmeMarkdown.size) > 1) && \n            <span className=\"file-info\" onClick={this.toggleReadme}>\n              <span className=\"info-icon sf2-icon-readme\"></span>\n              <span className=\"used-tag-name\">{readmeMarkdown.name}</span>\n            </span>\n          }\n          {(readmeMarkdown !== null && parseInt(readmeMarkdown.size) < 2) && \n            <span className=\"file-info\">\n              <span className=\"info-icon sf2-icon-readme\"></span>\n              <a className=\"used-tag-name\" href={href} target='_blank'>{readmeMarkdown.name}</a>\n            </span>\n          }\n          {this.props.draftCounts > 0 &&\n            <span className=\"file-info\">\n              <span className=\"info-icon sf2-icon-drafts\"></span>\n              <span className=\"used-tag-name\">{gettext('draft')}</span>\n              <span className=\"used-tag-files\" onClick={this.toggleDrafts}>\n                {this.props.draftCounts > 1 ? this.props.draftCounts + ' files' : this.props.draftCounts + ' file'}\n              </span>\n            </span>\n          }\n        </div>\n        {this.state.isListTaggedFileShow && (\n          <ModalPortal>\n            <ListTaggedFilesDialog\n              repoID={repoID}\n              currentTag={this.state.currentTag}\n              onClose={this.onCloseDialog}\n              toggleCancel={this.onListTaggedFiles}\n              updateUsedRepoTags={this.props.updateUsedRepoTags}\n            />\n          </ModalPortal>\n        )}\n\n        {this.state.showRepoDrafts && (\n          <ModalPortal>\n            <ListRepoDraftsDialog\n              toggle={this.toggleDrafts}\n              repoID={this.props.repoID}\n            />\n          </ModalPortal>\n        )}\n\n        {this.state.showReadmeDialog && (\n          <ModalPortal>\n            <ReadmeDialog\n              toggleCancel={this.toggleReadme}\n              repoID={repoID}\n              filePath={filePath}\n              href={href}\n              fileName={readmeMarkdown.name}\n            />\n          </ModalPortal>\n        )}\n      </div>\n    );\n  }\n}\n\nRepoInfoBar.propTypes = propTypes;\n\nexport default RepoInfoBar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/repo-info-bar.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport moment from 'moment';\nimport { Utils } from '../../utils/utils';\nimport Draft from '../../models/draft';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n};\n\nclass ListRepoDraftsDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      drafts: [],\n    };\n  }\n\n  componentDidMount() { \n    seafileAPI.listRepoDrafts(this.props.repoID).then(res => {\n      let drafts = res.data.drafts.map(item => {\n        let draft = new Draft(item);\n        return draft;\n      });\n      this.setState({\n        drafts: drafts \n      }); \n    });\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  }\n\n  render() {\n    let drafts = this.state.drafts;\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.toggle}>{gettext('Drafts')}</ModalHeader>\n        <ModalBody className=\"dialog-list-container\">\n          <table>\n            <thead>\n              <tr>\n                <th width='50%' className=\"ellipsis\">{gettext('Name')}</th>\n                <th width='25%'>{gettext('Owner')}</th>\n                <th width='25%'>{gettext('Last Update')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.drafts.map((draft) => {\n                let href = siteRoot + 'drafts/' + draft.id + '/';\n                return (\n                  <tr key={draft.id}>\n                    <td className=\"name\">\n                      <a href={href} target='_blank'>{Utils.getFileName(draft.draftFilePath)}</a>\n                    </td>\n                    <td>{draft.ownerNickname}</td>\n                    <td>{moment(draft.createdStr).fromNow()}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nListRepoDraftsDialog.propTypes = propTypes;\n\nexport default ListRepoDraftsDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/list-repo-drafts-dialog.js","import moment from 'moment';\n\nclass Draft {\n\n  constructor(item) {\n    this.created = item.created_at;\n    this.createdStr = moment((new Date(item.created_at)).getTime()).format('YYYY-MM-DD HH:mm');\n    this.id = item.id;\n    this.ownerNickname = item.owner_nickname;\n    this.originRepoID = item.origin_repo_id;\n    this.draftFilePath = item.draft_file_path;\n  }\n}\n\nexport default Draft;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/draft.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport MarkdownViewer from '@seafile/seafile-editor/dist/viewer/markdown-viewer';\nimport Loading from '../../components/loading';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  fileName: PropTypes.string.isRequired,\n  href: PropTypes.string,\n  toggleCancel: PropTypes.func.isRequired,\n};\n\nclass ReadmeDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      readmeContent: null,\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.getFileDownloadLink(this.props.repoID, this.props.filePath).then(res => {\n      seafileAPI.getFileContent(res.data).then(res => {\n        this.setState({\n          readmeContent: res.data,\n          isLoading: false,\n        }); \n      });\n    });\n  }\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggleCancel} className=\"readme-dialog\" size=\"lg\">\n        <ModalHeader>{this.props.fileName}\n          <a className=\"readme-dialog-edit\" href={this.props.href} target='_blank'><i className=\"fa fa-pencil-alt\"></i></a>\n        </ModalHeader>\n        <ModalBody>\n          {this.state.isLoading ? \n            <Loading />:\n            <MarkdownViewer markdownContent={this.state.readmeContent} showTOC={false}/>\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleCancel}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nReadmeDialog.propTypes = propTypes;\n\nexport default ReadmeDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/readme-dialog.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalBody, Form } from 'reactstrap';\nimport { gettext, siteRoot, mediaUrl } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\n\nimport '../../css/lib-decrypt.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  onLibDecryptDialog: PropTypes.func.isRequired\n};\n\n\nclass LibDecryptDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      password: '',\n      showError: false,\n    };\n  }\n\n  handleSubmit = (e) => {\n    let repoID = this.props.repoID;\n    let password = this.state.password;\n    seafileAPI.setRepoDecryptPassword(repoID, password).then(res => {\n      this.props.onLibDecryptDialog();\n    }).catch(res => {\n      this.setState({\n        showError: true\n      });\n    });\n\n    e.preventDefault();\n  } \n\n  handleKeyPress = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit(e);\n    }\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      password: e.target.value,\n      showError: false\n    });\n  }\n\n  toggle = () => {\n    window.location.href = siteRoot;\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true}>\n        <ModalBody>\n          <button type=\"button\" className=\"close\" onClick={this.toggle}><span aria-hidden=\"true\"></span></button> \n          <Form className=\"lib-decrypt-form text-center\">\n            <img src={`${mediaUrl}img/lock.png`} alt=\"\" aria-hidden=\"true\" />\n            <p className=\"intro\">{gettext('This library is password protected')}</p>\n            {this.state.showError &&\n              <p className=\"error\">{gettext('Wrong password')}</p>\n            }\n            <input type=\"password\" name=\"password\" className=\"form-control password-input\" autoComplete=\"off\" onKeyPress={this.handleKeyPress} placeholder={gettext('Password')} onChange={this.handleChange} />\n            <button type=\"submit\" className=\"btn btn-primary submit\" onClick={this.handleSubmit}>{gettext('Submit')}</button>\n            <p className=\"tip\">{'* '}{gettext('The password will be kept in the server for only 1 hour.')}</p>\n          </Form>\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nLibDecryptDialog.propTypes = propTypes;\n\nexport default LibDecryptDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/lib-decrypt-dialog.js","import { Utils } from '../utils/utils';\n\nclass RepoInfo {\n  constructor(object) {\n    this.repo_id = object.repo_id;\n    this.repo_name = object.repo_name;\n    this.permission = object.permission;\n    this.size = Utils.bytesToSize(object.size);\n    this.file_count = object.file_count;\n    this.owner_name = object.owner_name;\n    this.owner_email = object.owner_email;\n    this.owner_contact_email = object.owner_contact_email;\n    // is repo shared admin; \n    // is repo shared admin && is one of current ordinary group's admins; \n    // is one of current group owned group's admins;\n    this.is_admin = object.is_admin;\n    this.is_virtual = object.is_virtual;\n    this.no_quota = object.no_quota;\n    this.has_been_shared_out = object.has_been_shared_out;\n    this.encrypted = object.encrypted;\n    this.lib_need_decrypt = object.lib_need_decrypt;\n  }\n}\n\nexport default RepoInfo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/repo-info.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport Select from 'react-select';\nimport '../../css/select-editor.css';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired, // there will be two mode. first: text and select. second: just select\n  isEditIconShow: PropTypes.bool.isRequired,\n  options: PropTypes.array.isRequired,\n  currentOption: PropTypes.string.isRequired,\n  translateOption: PropTypes.func.isRequired,\n  translateExplanation: PropTypes.func,\n  onOptionChanged: PropTypes.func.isRequired,\n  toggleItemFreezed: PropTypes.func,\n};\n\nclass SelectEditor extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEditing: false,\n    };\n    this.options = [];\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.onHideSelect);\n    this.setOptions();\n  }\n\n  setOptions = () => {\n    this.options = [];\n    const options = this.props.options;\n    for (let i = 0, length = options.length; i < length; i++) {\n      let option = {};\n      option.value = options[i];\n      option.label = <div>{this.props.translateOption(options[i])}{ this.props.translateExplanation && <div className=\"permission-editor-explanation\">{this.props.translateExplanation(options[i])}</div>}</div>;\n      this.options.push(option);\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.onHideSelect);\n  }\n\n  onEditPermission = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    this.setState({isEditing: true});\n    this.props.toggleItemFreezed && this.props.toggleItemFreezed(true);\n  }\n\n  onOptionChanged = (e) => {\n    let permission = e.value;\n    if (permission !== this.props.currentOption) {\n      this.props.onOptionChanged(permission);\n    }\n    this.setState({isEditing: false});\n    this.props.toggleItemFreezed && this.props.toggleItemFreezed(false);\n  }\n\n  onSelectHandler = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n  }\n\n  onHideSelect = () => {\n    this.setState({isEditing: false});\n    this.props.toggleItemFreezed && this.props.toggleItemFreezed(false);\n  }\n\n  render() {\n    let { currentOption, isTextMode } = this.props;\n\n    // scence1: isTextMode (text)editor-icon --> select\n    // scence2: !isTextMode select\n    return (\n      <div className=\"permission-editor\" onClick={this.onSelectHandler}>\n        {(!isTextMode || this.state.isEditing) &&\n          <Select\n            options={this.options}\n            className=\"permission-editor-select\"\n            classNamePrefix=\"permission-editor\"\n            placeholder={this.props.translateOption(currentOption)}\n            onChange={this.onOptionChanged}\n            captureMenuScroll={false}\n          />\n        }\n        {(isTextMode && !this.state.isEditing) &&\n          <div>\n            {this.props.translateOption(currentOption)}\n            {this.props.isEditIconShow && (\n              <span \n                title={gettext('Edit')} \n                className=\"fa fa-pencil-alt attr-action-icon\" \n                onClick={this.onEditPermission}>\n              </span>\n            )}\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nSelectEditor.propTypes = propTypes;\n\nexport default SelectEditor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/select-editor/select-editor.js","import { mediaUrl, gettext, serviceURL } from './constants';\nimport { strChineseFirstPY } from './pinyin-by-unicode';\n\nexport const Utils = {\n\n  keyCodes:  {\n    esc:   27,\n    space: 32,\n    tab:   9,\n    up:    38,\n    down:  40\n  },\n\n  bytesToSize: function(bytes) {\n    if (typeof(bytes) == 'undefined') return ' ';\n\n    if(bytes < 0) return '--';\n    const sizes = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n\n    if (bytes === 0) return bytes + ' ' + sizes[0];\n\n    const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1000)), 10);\n    if (i === 0) return bytes + ' ' + sizes[i];\n    return (bytes / (1000 ** i)).toFixed(1) + ' ' + sizes[i];\n  },\n\n  isHiDPI: function() {\n    var pixelRatio = window.devicePixelRatio ? window.devicePixelRatio : 1;\n    if (pixelRatio > 1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  FILEEXT_ICON_MAP: {\n\n    // text file\n    'md': 'txt.png',\n    'txt': 'txt.png',\n\n    // pdf file\n    'pdf' : 'pdf.png',\n\n    // document file\n    'doc' : 'word.png',\n    'docx' : 'word.png',\n    'odt' : 'word.png',\n    'fodt' : 'word.png',\n\n    'ppt' : 'ppt.png',\n    'pptx' : 'ppt.png',\n    'odp' : 'ppt.png',\n    'fodp' : 'ppt.png',\n\n    'xls' : 'excel.png',\n    'xlsx' : 'excel.png',\n    'ods' : 'excel.png',\n    'fods' : 'excel.png',\n\n    // video\n    'mp4': 'video.png',\n    'ogv': 'video.png',\n    'webm': 'video.png',\n    'mov': 'video.png',\n    'flv': 'video.png',\n    'wmv': 'video.png',\n    'rmvb': 'video.png',\n\n    // music file\n    'mp3' : 'music.png',\n    'oga' : 'music.png',\n    'ogg' : 'music.png',\n    'flac' : 'music.png',\n    'aac' : 'music.png',\n    'ac3' : 'music.png',\n    'wma' : 'music.png',\n\n    // image file\n    'jpg' : 'pic.png',\n    'jpeg' : 'pic.png',\n    'png' : 'pic.png',\n    'svg' : 'pic.png',\n    'gif' : 'pic.png',\n    'bmp' : 'pic.png',\n    'ico' : 'pic.png',\n\n    // default\n    'default' : 'file.png'\n  },\n\n  // check if a file is an image\n  imageCheck: function (filename) {\n    // no file ext\n    if (filename.lastIndexOf('.') == -1) {\n      return false;\n    }\n    var file_ext = filename.substr(filename.lastIndexOf('.') + 1).toLowerCase();\n    var image_exts = ['gif', 'jpeg', 'jpg', 'png', 'ico', 'bmp'];\n    if (image_exts.indexOf(file_ext) != -1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  // check if a file is a video\n  videoCheck: function (filename) {\n    // no file ext\n    if (filename.lastIndexOf('.') == -1) {\n      return false;\n    }\n    var file_ext = filename.substr(filename.lastIndexOf('.') + 1).toLowerCase();\n    var exts = ['mp4', 'ogv', 'webm', 'mov'];\n    if (exts.indexOf(file_ext) != -1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  encodePath: function(path) {\n    // IE8 does not support 'map()'\n    /*\n       return path.split('/').map(function(e) {\n       return encodeURIComponent(e);\n       }).join('/');\n       */\n    if (!path) {\n      return '';\n    }\n    var path_arr = path.split('/');\n    var path_arr_ = [];\n    for (var i = 0, len = path_arr.length; i < len; i++) {\n      path_arr_.push(encodeURIComponent(path_arr[i]));\n    }\n    return path_arr_.join('/');\n  },\n\n  HTMLescape: function(html) {\n    return document.createElement('div')\n      .appendChild(document.createTextNode(html))\n      .parentNode\n      .innerHTML;\n  },\n\n  generateDialogTitle: function(title, operationTarget) {\n    /*\n     * @param title: gettext('...{placeholder}...')\n     */\n    const targetStr = this.HTMLescape(operationTarget);\n    const str = `<span class=\"op-target ellipsis ellipsis-op-target\" title=${targetStr}>${targetStr}</span>`;\n    return title.replace('{placeholder}', str);\n  },\n\n  getFileName: function(filePath) {\n    let lastIndex = filePath.lastIndexOf('/');\n    return filePath.slice(lastIndex+1);\n  },\n\n  /**\n   * input: '/abc/bc/cb'\n   * output: ['/abc', '/abc/bc', '/abc/bc/cb'];\n   */\n  getPaths: function(path) {\n    let paths = path.split('/').slice(1);\n    let result = [];\n    while(paths.length) {\n      result.push('/' + paths.join('/'));\n      paths.pop();\n    }\n    return result.reverse();\n  },\n\n  /**\n   * input: \n   *  eg: /\n   *      ../abc/abc/\n   *      ../abc/bc\n   * output(return):\n   *  eg: /\n   *      abc\n   *      bc\n   */\n  getFolderName: function(path) {\n    if (path === '/') {\n      return path;\n    }\n    path = path[path.length - 1] !== '/' ? path : path.slice(0, path.length -2);\n    return path.slice(path.lastIndexOf('/') + 1);\n  },\n\n  /*\n    return dirname of a path.\n    if path is '/', return '/'.\n  */\n  getDirName: function(path) {\n    let dir = path.slice(0, path.lastIndexOf('/'));\n    if (dir === '') {\n      return '/';\n    } else {\n      return dir;\n    }\n  },\n\n  isChildPath: function(child, parent) {\n    let p = this.getDirName(child);\n    return p === parent;\n  },\n\n  isAncestorPath: function(ancestor, path) {\n    return path.indexOf(ancestor) > -1;\n  },\n\n  renameAncestorPath: function(path, ancestor, newAncestor) {\n    return path.replace(ancestor, newAncestor);\n  },\n\n  joinPath: function(pathA, pathB) {\n    if (pathA[pathA.length-1] === '/') {\n      return pathA + pathB;\n    } else {\n      return pathA + '/' + pathB;\n    }\n  },\n\n  isSupportUploadFolder: function() {\n    return navigator.userAgent.indexOf('Firefox')!=-1 ||\n      navigator.userAgent.indexOf('Chrome') > -1;\n  },\n\n  getDefaultLibIconUrl: function(isBig) {\n    let size = Utils.isHiDPI() ? 48 : 24;\n    size = isBig ? 256 : size;\n    let icon_name = 'lib.png';\n    return mediaUrl + 'img/lib/' + size + '/' + icon_name;\n  },\n\n  getLibIconUrl: function(repo, isBig) {\n    let permission = repo.permission || repo.share_permission; //Compatible with regular repo and repo shared\n    let size = Utils.isHiDPI() ? 48 : 24;\n    size = isBig ? 256 : size;\n    let icon_name = 'lib.png';\n    if (repo.encrypted) {\n      icon_name = 'lib-encrypted.png';\n    }\n    if (permission === 'r' || permission === 'perview') {\n      icon_name = 'lib-readonly.png';\n    }\n\n    return mediaUrl + 'img/lib/' + size + '/' + icon_name;\n  },\n\n  getDirentIcon: function (dirent, isBig) {\n    let size = this.isHiDPI() ? 48 : 24;\n    size = isBig ? 192 : size;\n    if (dirent.isDir()) {\n      let readonly = false;\n      if (dirent.permission && (dirent.permission === 'r' || dirent.permission === 'preview')) {\n        readonly = true;\n      }\n      return this.getFolderIconUrl(readonly, size);\n    } else {\n      return this.getFileIconUrl(dirent.name, size);\n    }\n  },\n\n  getFolderIconUrl: function(readonly = false, size) {\n    if (!size) {\n      size = Utils.isHiDPI() ? 48 : 24;\n    }\n    size = size > 24 ? 192 : 24;\n    return `${mediaUrl}img/folder${readonly ? '-read-only-' : '-'}${size}.png`;\n  },\n\n  getFileIconUrl: function(filename, size) {\n    if (!size) {\n      size = Utils.isHiDPI() ? 48 : 24;\n    }\n    size = size > 24 ? 192 : 24;\n    let file_ext = '';\n    if (filename.lastIndexOf('.') == -1) {\n      return mediaUrl + 'img/file/' + size + '/' + this.FILEEXT_ICON_MAP['default'];\n    } else {\n      file_ext = filename.substr(filename.lastIndexOf('.') + 1).toLowerCase();\n    }\n\n    if (this.FILEEXT_ICON_MAP[file_ext]) {\n      return mediaUrl + 'img/file/' + size + '/' + this.FILEEXT_ICON_MAP[file_ext];\n    } else {\n      return mediaUrl + 'img/file/' + size + '/' + this.FILEEXT_ICON_MAP['default'];\n    }\n  },\n\n  getLibIconTitle: function(repo) {\n    var title;\n    let permission = repo.permission || repo.share_permission; //Compatible with regular repo and repo shared\n    if (repo.encrypted) {\n      title = gettext('Encrypted library');\n    } else if (repo.is_admin) { // shared with 'admin' permission\n      title = gettext('Admin access');\n    } else {\n      switch(permission) {\n        case 'rw':\n          title = gettext('Read-Write library');\n          break;\n        case 'r':\n          title = gettext('Read-Only library');\n          break;\n        case 'cloud-edit':\n          title = gettext('Preview-Edit-on-Cloud library');\n          break;\n        case 'preview':\n          title = gettext('Preview-on-Cloud library');\n          break;\n      }\n    }\n    return title;\n  },\n\n  getFolderIconTitle: function(options) {\n    var title;\n    switch(options.permission) {\n      case 'rw':\n        title = gettext('Read-Write folder');\n        break;\n      case 'r':\n        title = gettext('Read-Only folder');\n        break;\n      case 'cloud-edit':\n        title = gettext('Preview-Edit-on-Cloud folder');\n        break;\n      case 'preview':\n        title = gettext('Preview-on-Cloud folder');\n        break;\n    }\n    return title;\n  },\n\n  sharePerms: function(permission) {\n    var title;\n    switch(permission) {\n      case 'rw':\n        title = gettext('Read-Write');\n        break;\n      case 'r':\n        title = gettext('Read-Only');\n        break;\n      case 'admin':\n        title = gettext('Admin');\n        break;\n      case 'cloud-edit':\n        title = gettext('Preview-Edit-on-Cloud');\n        break;\n      case 'preview':\n        title = gettext('Preview-on-Cloud');\n        break;\n    }\n    return title;\n  },\n\n  sharePermsExplanation: function(permission) {\n    var title;\n    switch(permission) {\n      case 'rw':\n        title = gettext('User can read, write, upload, download and sync files.');\n        break;\n      case 'r':\n        title = gettext('User can read, download and sync files.');\n        break;\n      case 'admin':\n        title = gettext('Besides Write permission, user can also share the library.');\n        break;\n      case 'cloud-edit':\n        title = gettext('Same as Preview on cloud. But user can also edit files online via browser.');\n        break;\n      case 'preview':\n        title = gettext('User can only view files online via browser. Files can\\'t be downloaded.');\n        break;\n    }\n    return title;\n  },\n\n  formatSize: function(options) {\n    /*\n     * param: {bytes, precision}\n     */\n    var bytes = options.bytes;\n    var precision = options.precision || 0;\n\n    var kilobyte = 1000;\n    var megabyte = kilobyte * 1000;\n    var gigabyte = megabyte * 1000;\n    var terabyte = gigabyte * 1000;\n\n    if ((bytes >= 0) && (bytes < kilobyte)) {\n      return bytes + ' B';\n\n    } else if ((bytes >= kilobyte) && (bytes < megabyte)) {\n      return (bytes / kilobyte).toFixed(precision) + ' KB';\n\n    } else if ((bytes >= megabyte) && (bytes < gigabyte)) {\n      return (bytes / megabyte).toFixed(precision) + ' MB';\n\n    } else if ((bytes >= gigabyte) && (bytes < terabyte)) {\n      return (bytes / gigabyte).toFixed(precision) + ' GB';\n\n    } else if (bytes >= terabyte) {\n      return (bytes / terabyte).toFixed(precision) + ' TB';\n\n    } else {\n      return bytes + ' B';\n    }\n  },\n\n  formatBitRate: function(bits) {\n    var Bs;\n    if (typeof bits !== 'number') {\n      return '';\n    }\n    Bs = bits / 8;\n    if (Bs >= 1000000000) {\n      return (Bs / 1000000000).toFixed(2) + ' GB/s';\n    }\n    if (Bs >= 1000000) {\n      return (Bs / 1000000).toFixed(2) + ' MB/s';\n    }\n    if (Bs >= 1000) {\n      return (Bs / 1000).toFixed(2) + ' kB/s';\n    }\n    return Bs.toFixed(2) + ' B/s';\n  },\n\n  isMarkdownFile: function(filePath) {\n    let index = filePath.lastIndexOf('.');\n    if (index === -1) {\n      return false;\n    } else {\n      let type = filePath.substring(index).toLowerCase();\n      if (type === '.md' || type === '.markdown') {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  },\n\n  isInternalMarkdownLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/lib/' + repoID + '.*\\.md$');\n    return re.test(url);\n  },\n\n  isInternalDirLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/library/' + repoID + '.*');\n    return re.test(url);\n  },\n\n  getPathFromInternalMarkdownLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/lib/' + repoID + '/file' + '(.*\\.md)');\n    var array = re.exec(url);\n    var path = decodeURIComponent(array[1]);\n    return path;\n  },\n  \n  getPathFromInternalDirLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/library/' + repoID + '(/.*)');\n    var array = re.exec(url);\n    var path = decodeURIComponent(array[1]);\n    path = path.slice(1);\n    path = path.slice(path.indexOf('/'));\n    return path;\n  },\n\n  isWikiInternalMarkdownLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '.*\\.md$');\n    return re.test(url);\n  },\n\n  isWikiInternalDirLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '.*');\n    return re.test(url);\n  },\n\n  getPathFromWikiInternalMarkdownLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '(.*\\.md)');\n    var array = re.exec(url);\n    var path = array[1];\n    try {\n      path = decodeURIComponent(path);\n    } catch(err) {\n      path = path.replace(/%/g, '%25');\n      path = decodeURIComponent(path);\n    }\n    return path;\n  },\n  \n  getPathFromWikiInternalDirLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '(/.*)');\n    var array = re.exec(url);\n    var path = array[1];\n    try {\n      path = decodeURIComponent(path);\n    } catch(err) {\n      path = path.replace(/%/g, '%25');\n      path = decodeURIComponent(path);\n    }\n    return path;\n  },\n\n  compareTwoWord: function(wordA, wordB) {\n    // compare wordA and wordB at lower case\n    // if wordA >= wordB, return 1\n    // if wordA < wordB, return -1\n\n    var a_val, b_val,\n      a_uni = wordA.charCodeAt(0),\n      b_uni = wordB.charCodeAt(0);\n\n    if ((19968 < a_uni && a_uni < 40869) && (19968 < b_uni && b_uni < 40869)) {\n      // both are chinese words\n      a_val = strChineseFirstPY.charAt(a_uni - 19968).toLowerCase();\n      b_val = strChineseFirstPY.charAt(b_uni - 19968).toLowerCase();\n    } else if ((19968 < a_uni && a_uni < 40869) && !(19968 < b_uni && b_uni < 40869)) {\n      // a is chinese and b is english\n      return 1;\n    } else if (!(19968 < a_uni && a_uni < 40869) && (19968 < b_uni && b_uni < 40869)) {\n      // a is english and b is chinese\n      return -1;\n    } else {\n      // both are english words\n      a_val = wordA.toLowerCase();\n      b_val = wordB.toLowerCase();\n      return this.compareStrWithNumbersIn(a_val, b_val);\n    }\n\n    return a_val >= b_val ? 1 : -1;\n  },\n\n  // compare two strings which may have digits in them\n  // and compare those digits as number instead of string\n  compareStrWithNumbersIn: function(a, b) {\n    var reParts = /\\d+|\\D+/g;\n    var reDigit = /\\d/;\n    var aParts = a.match(reParts);\n    var bParts = b.match(reParts);\n    var isDigitPart;\n    var len = Math.min(aParts.length, bParts.length);\n    var aPart, bPart;\n\n    if (aParts && bParts &&\n      (isDigitPart = reDigit.test(aParts[0])) == reDigit.test(bParts[0])) {\n      // Loop through each substring part to compare the overall strings.\n      for (var i = 0; i < len; i++) {\n        aPart = aParts[i];\n        bPart = bParts[i];\n\n        if (isDigitPart) {\n          aPart = parseInt(aPart, 10);\n          bPart = parseInt(bPart, 10);\n        }\n\n        if (aPart != bPart) {\n          return aPart < bPart ? -1 : 1;\n        }\n\n        // Toggle the value of isDigitPart since the parts will alternate.\n        isDigitPart = !isDigitPart;\n      }\n    }\n\n    // Use normal comparison.\n    return (a >= b) - (a <= b);\n  },\n\n  sortRepos: function(repos, sortBy, sortOrder) {\n    const _this = this;\n    let comparator;\n\n    switch (`${sortBy}-${sortOrder}`) {\n      case 'name-asc':\n        comparator = function(a, b) {\n          if (!a.repo_name) {\n            return 1;\n          }\n          if (!b.repo_name) {\n            return -1;\n          }\n          var result = _this.compareTwoWord(a.repo_name, b.repo_name);\n          return result;\n        };\n        break;\n      case 'name-desc':\n        comparator = function(a, b) {\n          if (!a.repo_name) {\n            return -1;\n          }\n          if (!b.repo_name) {\n            return 1;\n          }\n          var result = _this.compareTwoWord(a.repo_name, b.repo_name);\n          return -result;\n        };\n        break;\n      case 'time-asc':\n        comparator = function(a, b) {\n          return a.last_modified < b.last_modified ? -1 : 1;\n        };\n        break;\n      case 'time-desc':\n        comparator = function(a, b) {\n          return a.last_modified < b.last_modified ? 1 : -1;\n        };\n        break;\n    }\n\n    repos.sort(comparator);\n    return repos;\n  },\n\n  sortDirents: function(items, sortBy, sortOrder) {\n    const _this = this;\n    let comparator;\n\n    switch (`${sortBy}-${sortOrder}`) {\n      case 'name-asc':\n        comparator = function(a, b) {\n          var result = _this.compareTwoWord(a.name, b.name);\n          return result;\n        };\n        break;\n      case 'name-desc':\n        comparator = function(a, b) {\n          var result = _this.compareTwoWord(a.name, b.name);\n          return -result;\n        };\n        break;\n      case 'time-asc':\n        comparator = function(a, b) {\n          return a.mtime < b.mtime ? -1 : 1;\n        };\n        break;\n      case 'time-desc':\n        comparator = function(a, b) {\n          return a.mtime < b.mtime ? 1 : -1;\n        };\n        break;\n    }\n\n    items.sort((a, b) => {\n      if (a.type == 'dir' && b.type == 'file') {\n        return -1;\n      } else if (a.type == 'file' && b.type == 'dir') {\n        return 1;\n      } else {\n        return comparator(a, b);\n      }\n    });\n    return items;\n  },\n\n  changeMarkdownNodes: function(nodes, fn) {\n    nodes.map((item) => {\n      fn(item); \n      if (item.nodes && item.nodes.length > 0){\n        Utils.changeMarkdownNodes(item.nodes, fn); \n      }\n    });\n\n    return nodes;\n  },\n\n  chooseLanguage: function(suffix) {\n    let mode;\n    switch(suffix) {\n      case 'py':\n        mode = 'python';\n        break;\n      case 'js':\n        mode = 'javascript';\n        break;\n      case 'c':\n        mode = 'text/x-csrc';\n        break;\n      case 'cpp':\n        mode = 'text/x-c++src';\n        break;\n      case 'java':\n        mode = 'text/x-java';\n        break;\n      case 'cs':\n        mode = 'text/x-csharp';\n        break;\n      case 'mdf':\n        mode = 'text/x-sql';\n        break;\n      case 'html':\n        mode = 'htmlmixed';\n        break;\n      default:\n        mode = suffix;\n    }\n    return mode;\n  },\n\n  DARK_COLOR_MAP: {\n    // old color\n    'red': '#D11507',\n    'orange': '#FF8C00',\n    'yellow': '#EDEF00',\n    'green': '#006400',\n    'cyan': '#00E0E1',\n    'blue': '#2510A3',\n    'indigo': '#350C56',\n    'purple': '#551054',\n    'pink': '#E3A5B0',\n    'azure': '#C4D0D0',\n    'lime': '#00E100',\n    'teal': '#006A6B',\n    'gray': '#545454',\n\n    // new color\n    '#FFA8A8': '#E49090',\n    '#FFA94D': '#E39136',\n    '#FFD43B': '#E0B815',\n    '#A0EC50': '#83CF32',\n    '#A9E34B': '#8DC72E',\n    '#63E6BE': '#43CAA4',\n    '#4FD2C9': '#2DB9B0',\n    '#72C3FC': '#57ABE3',\n    '#91A7FF': '#7A91E7',\n    '#E599F7': '#CC82DE',\n    '#B197FC': '#9B82E5',\n    '#F783AC': '#DF6D97',\n    '#CED4DA': '#A8ADB2',\n  },\n\n  getDarkColor: function(color) {\n    let darkColor;\n    darkColor = this.DARK_COLOR_MAP[color];\n    return darkColor;\n  },\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js","class SharedLinkInfo {\n\n  constructor(object) {\n    this.repo_id = object.repo_id;\n    this.repo_name = object.repo_name;\n    this.path = object.path;\n    this.obj_name = object.obj_name;\n    this.is_dir = object.is_dir;\n    this.permissions = object.permissions;\n    this.username = object.username;\n    this.is_expired = object.is_expired;\n    this.expire_date = object.expire_date;\n    this.token = object.token;\n    this.link = object.link;\n    this.view_cnt = object.view_cnt;\n    this.ctime = object.ctime;\n  }\n\n}\n\nexport default SharedLinkInfo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/shared-link-info.js","class SharedUploadInfo {\n   \n  constructor(object) {\n    this.repo_id = object.repo_id;\n    this.repo_name = object.repo_name;\n    this.path = object.path;\n    this.link = object.link;\n    this.obj_name = object.obj_name;\n    this.username = object.username;\n    this.ctime = object.ctime;\n    this.token = object.token;\n    this.view_cnt = object.view_cnt;\n  }\n\n}\n\n\nexport default SharedUploadInfo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/shared-upload-info.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RepoListItem from './repo-list-item';\n\nconst propTypes = {\n  currentRepoInfo: PropTypes.object,\n  isShowFile: PropTypes.bool,\n  repo: PropTypes.object,\n  repoList: PropTypes.array,\n  selectedRepo: PropTypes.object,\n  initToShowChildren: PropTypes.bool.isRequired,\n  selectedPath: PropTypes.string,\n  onDirentItemClick: PropTypes.func.isRequired,\n  onRepoItemClick: PropTypes.func.isRequired,\n};\n\nclass RepoListView extends React.Component {\n\n  render() {\n    let { currentRepoInfo, repoList } = this.props;\n    if (currentRepoInfo) {\n      repoList = [];\n      repoList.push(currentRepoInfo);\n    }\n    return (\n      <ul className=\"list-view-content file-chooser-item\">\n        {repoList.length > 0 && repoList.map((repoItem, index) => {\n          return (\n            <RepoListItem \n              key={index} \n              repo={repoItem}\n              initToShowChildren={this.props.initToShowChildren}\n              selectedRepo={this.props.selectedRepo}\n              selectedPath={this.props.selectedPath}\n              onRepoItemClick={this.props.onRepoItemClick} \n              onDirentItemClick={this.props.onDirentItemClick}\n              isShowFile={this.props.isShowFile}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nRepoListView.propTypes = propTypes;\n\nexport default RepoListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/repo-list-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport DirentListView from './dirent-list-view';\n\nconst propTypes = {\n  isShowFile: PropTypes.bool,\n  selectedPath: PropTypes.string,\n  selectedRepo: PropTypes.object,\n  repo: PropTypes.object.isRequired,\n  initToShowChildren: PropTypes.bool.isRequired,\n  onDirentItemClick: PropTypes.func.isRequired,\n  onRepoItemClick: PropTypes.func.isRequired,\n};\n\nclass RepoListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isShowChildren: this.props.initToShowChildren,\n    };\n  }\n\n  onToggleClick = () => {\n    this.setState({isShowChildren: !this.state.isShowChildren});\n  }\n\n  onDirentItemClick = (filePath, dirent) => {\n    let repo = this.props.repo;\n    this.props.onDirentItemClick(repo, filePath, dirent);\n  }\n\n  onRepoItemClick = () => {\n    if (!this.isCurrentRepo()) {\n      this.props.onRepoItemClick(this.props.repo);\n    } else {\n      this.onToggleClick();\n    }\n  }\n\n  isCurrentRepo = () => {\n    let { selectedRepo, repo } = this.props;\n    return selectedRepo && (repo.repo_id === selectedRepo.repo_id);\n  }\n\n  render() {\n    let repoActive = false;\n    let isCurrentRepo = this.isCurrentRepo();\n    if (isCurrentRepo && !this.props.selectedPath) {\n      repoActive = true;\n    }\n    return (\n      <li className=\"file-chooser-item\">\n        <span className={`item-toggle fa ${this.state.isShowChildren ? 'fa-caret-down' : 'fa-caret-right'}`} onClick={this.onToggleClick}></span>\n        <span className={`item-info ${repoActive ? 'item-active' : ''}`} onClick={this.onRepoItemClick}>\n          <span className=\"icon far fa-folder\"></span>\n          <span className=\"name user-select-none ellipsis\">{this.props.repo.repo_name}</span>\n        </span>\n        {this.state.isShowChildren && (\n          <DirentListView \n            repo={this.props.repo} \n            isShowChildren={this.state.isShowChildren} \n            onDirentItemClick={this.onDirentItemClick}\n            selectedRepo={this.props.selectedRepo}\n            selectedPath={this.props.selectedPath}\n            isShowFile={this.props.isShowFile}\n          />\n        )}\n      </li>\n    );\n  }\n}\n\nRepoListItem.propTypes = propTypes;\n\nexport default RepoListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/repo-list-item.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport Dirent from '../../models/dirent';\nimport DirentListItem from './dirent-list-item';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  isShowFile: PropTypes.bool,\n  selectedPath: PropTypes.string,\n  selectedRepo: PropTypes.object,\n  repo: PropTypes.object.isRequired,\n  isShowChildren: PropTypes.bool.isRequired,\n  onDirentItemClick: PropTypes.func.isRequired\n};\n\nclass DirentListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      direntList: [],\n    };\n  }\n\n  componentDidMount() {\n    let repo = this.props.repo;\n    seafileAPI.listDir(repo.repo_id, '/').then(res => {\n      let direntList = [];\n      res.data.dirent_list.forEach(item => {\n        if (this.props.isShowFile === true) {\n          let dirent = new Dirent(item);\n          direntList.push(dirent);\n        } else {\n          if (item.type === 'dir') {\n            let dirent = new Dirent(item);\n            direntList.push(dirent);\n          }\n        }\n      });\n      direntList = Utils.sortDirents(direntList, 'name', 'asc');\n      this.setState({direntList: direntList});\n    });\n  }\n\n  render() {\n    let { direntList } = this.state;\n    return (\n      <ul className={`list-view-content ${this.props.isShowChildren ? '' : 'hide'}`}>\n        { direntList.map((dirent, index) => {\n          return (\n            <DirentListItem \n              key={index} \n              repo={this.props.repo} \n              dirent={dirent}\n              selectedRepo={this.props.selectedRepo}\n              onDirentItemClick={this.props.onDirentItemClick}\n              selectedPath={this.props.selectedPath}\n              isShowFile={this.props.isShowFile}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nDirentListView.propTypes = propTypes;\n\nexport default DirentListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/dirent-list-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport Dirent from '../../models/dirent';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  isShowFile: PropTypes.bool,\n  filePath: PropTypes.string,\n  selectedPath: PropTypes.string,\n  selectedRepo: PropTypes.object,\n  dirent: PropTypes.object.isRequired,\n  repo: PropTypes.object.isRequired,\n  onDirentItemClick: PropTypes.func.isRequired,\n};\n\nclass DirentListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    let filePath = this.props.filePath ?  this.props.filePath +  '/' + this.props.dirent.name : '/' + this.props.dirent.name;\n    \n    this.state = {\n      isShowChildren: false,\n      hasRequest: false,\n      hasChildren: true,\n      filePath: filePath,\n      direntList: [],\n    };\n  }\n\n  onItemClick = (e) => {\n    e.stopPropagation();  // need prevent event popup\n    let isCurrentRepo = this.props.selectedRepo.repo_id === this.props.repo.repo_id;\n    if (isCurrentRepo) {\n      if (this.props.selectedPath !== this.state.filePath) {\n        this.props.onDirentItemClick(this.state.filePath, this.props.dirent);\n      } else {\n        if (this.props.dirent.type === 'dir') {\n          this.onToggleClick(e);\n        }\n      }\n    } else {\n      this.props.onDirentItemClick(this.state.filePath, this.props.dirent);\n    }\n  }\n  \n  onToggleClick = (e) => {\n    e.stopPropagation();  // need prevent event popup\n    if (!this.state.hasRequest) {\n      seafileAPI.listDir(this.props.repo.repo_id, this.state.filePath).then(res => {\n        let direntList = [];\n        res.data.dirent_list.forEach(item => {\n          if (this.props.isShowFile === true) { // show dir and file\n            let dirent = new Dirent(item);\n            direntList.push(dirent);\n          } else { // just show dir\n            if (item.type === 'dir') {\n              let dirent = new Dirent(item);\n              direntList.push(dirent);\n            }\n          }\n        });\n        direntList = Utils.sortDirents(direntList, 'name', 'asc');\n        this.setState({\n          hasRequest: true,\n          direntList: direntList,\n        });\n        if (res.data.length === 0 || direntList.length === 0) {\n          this.setState({hasChildren: false});\n        }\n      });\n    }\n    \n    this.setState({isShowChildren: !this.state.isShowChildren});\n  }\n\n  renderChildren = () => {\n    return (\n      <ul className=\"list-view-content\">\n        {this.state.direntList.map((dirent, index) => {\n          return (\n            <DirentListItem \n              key={index} \n              dirent={dirent}\n              repo={this.props.repo}\n              filePath={this.state.filePath}\n              onItemClick={this.onItemClick}\n              selectedPath={this.props.selectedPath}\n              selectedRepo={this.props.selectedRepo}\n              onDirentItemClick={this.props.onDirentItemClick}\n              isShowFile={this.props.isShowFile}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n\n  render() {\n    let isCurrentRepo = this.props.selectedRepo.repo_id === this.props.repo.repo_id;\n    let isCurrentPath = this.props.selectedPath === this.state.filePath;\n\n    return (\n      <li className=\"file-chooser-item\">\n        {\n          this.state.hasChildren && this.props.dirent.type !== 'file' &&\n          <span className={`item-toggle fa ${this.state.isShowChildren ? 'fa-caret-down' : 'fa-caret-right'}`} onClick={this.onToggleClick}></span>\n        }\n        <span className={`item-info ${(isCurrentRepo && isCurrentPath) ? 'item-active' : ''}`} onClick={this.onItemClick}>\n          <span className={`icon far ${this.props.dirent.type === 'dir' ? 'fa-folder' : 'fa-file'}`}></span>\n          <span className=\"name user-select-none ellipsis\">{this.props.dirent && this.props.dirent.name}</span>\n        </span>\n        {this.state.isShowChildren && this.renderChildren()}\n      </li>\n    );\n  }\n}\n\nDirentListItem.propTypes = propTypes;\n\nexport default DirentListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/dirent-list-item.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SearchedListItem from './searched-list-item';\n\nconst propTypes = {\n  searchResults: PropTypes.array.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n};\n\nclass SearchedListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentItem: null,\n    };\n  }\n\n  onItemClick = (item) => {\n    this.setState({currentItem: item});\n    this.props.onItemClick(item);\n  }\n\n  render() {\n    return (\n      <table className=\"table-thead-hidden\">\n        <thead>\n          <tr>\n            <th width=\"8%\"></th>\n            <th width=\"92%\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.props.searchResults.map((item, index) => {\n            return (<SearchedListItem key={index} item={item} currentItem={this.state.currentItem} onItemClick={this.onItemClick} />);\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nSearchedListView.propTypes = propTypes;\n\nexport default SearchedListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/searched-list-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  currentItem: PropTypes.object,\n  onItemClick: PropTypes.func.isRequired,\n};\n\nclass SearchedListItem extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({highlight: true});\n  }\n\n  onMouseLeave = () => {\n    this.setState({highlight: false});\n  }\n\n  onClick = () => {\n    let item = this.props.item;\n    this.props.onItemClick(item);\n  }\n\n  render() {\n    let { item, currentItem } = this.props;\n    let fileIconUrl = item.is_dir ? Utils.getFolderIconUrl(false, 192) : Utils.getFileIconUrl(item.name, 192);\n    let trClass = this.state.highlight ? 'tr-highlight' : '';\n    if (currentItem) {\n      if (item.repo_id === currentItem.repo_id && item.path === currentItem.path) {\n        trClass = 'searched-active';\n      }\n    }\n    return (\n      <tr className={trClass} onClick={this.onClick} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className=\"text-center\"><img className=\"item-img\" src={fileIconUrl} alt=\"\" width=\"24\"/></td>\n        <td><span className=\"item-link\">{item.repo_name}/{item.link_content}</span></td>\n      </tr>\n    );\n  }\n}\n\nSearchedListItem.propTypes = propTypes;\n\nexport default SearchedListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/file-chooser/searched-list-item.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext, isPro } from '../../utils/constants';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api.js';\nimport UserSelect from '../user-select';\nimport SharePermissionEditor from '../select-editor/share-permission-editor';\n\nclass UserItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n  \n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  }\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  }\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.user_info.name);\n  }\n  \n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item, permission);\n  }\n\n  render() {\n    let item = this.props.item;\n    let currentPermission = item.is_admin ? 'admin' : item.permission;\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className=\"name\">{item.user_info.nickname}</td>\n        <td>\n          <SharePermissionEditor \n            isTextMode={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={currentPermission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n          />\n        </td>\n        <td>\n          <span\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem} \n            title={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass UserList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <UserItem \n              key={index} \n              item={item} \n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemPath: PropTypes.string.isRequired,\n  itemType: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired\n};\n\nclass ShareToUser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      permission: 'rw',\n      sharedItems: []\n    };\n    this.options = [];\n    this.permissions = [];\n    if (this.props.itemType === 'library') {\n      this.permissions = ['rw', 'r', 'admin', 'cloud-edit', 'preview'];\n    } else if (this.props.itemType === 'dir') {\n      this.permissions = ['rw', 'r', 'cloud-edit', 'preview'];\n    }\n    if (this.props.isGroupOwnedRepo || !isPro) {\n      this.permissions = ['rw', 'r'];\n    }\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n    this.options = [];\n  }\n\n  componentDidMount() {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID;\n    seafileAPI.listSharedItems(repoID, path, 'user').then((res) => {\n      if(res.data.length !== 0) {\n        this.setState({sharedItems: res.data});\n      }\n    });\n  }\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  }\n\n  shareToUser = () => {\n    let users = [];\n    let path = this.props.itemPath; \n    let repoID = this.props.repoID;\n    if (this.state.selectedOption && this.state.selectedOption.length > 0 ) {\n      for (let i = 0; i < this.state.selectedOption.length; i ++) {\n        users[i] = this.state.selectedOption[i].email;\n      }\n    }\n    if (this.props.isGroupOwnedRepo) {\n      seafileAPI.shareGroupOwnedRepoToUser(repoID, this.state.permission, users).then(res => {\n        let errorMsg = [];\n        if (res.data.failed.length > 0) {\n          for (let i = 0 ; i < res.data.failed.length ; i++) {\n            errorMsg[i] = res.data.failed[i];\n          }\n        }\n        // todo modify api\n        let items = res.data.success.map(item => {\n          let sharedItem = {\n            'user_info': { 'nickname': item.user_name, 'name': item.user_email},\n            'permission': item.permission,\n            'share_type': 'user',\n          };\n          return sharedItem;\n        });\n        this.setState({\n          errorMsg: errorMsg,\n          sharedItems: this.state.sharedItems.concat(items),\n          selectedOption: null,\n          permission: 'rw',\n        });\n        this.refs.userSelect.clearSelect();\n      }).catch(error => {\n        if (error.response) {\n          let message = gettext('Library can not be shared to owner.');\n          let errMessage = [];\n          errMessage.push(message);\n          this.setState({\n            errorMsg: errMessage,\n            selectedOption: null,\n          });\n        }\n      });\n    } else {\n      seafileAPI.shareFolder(repoID, path, 'user', this.state.permission, users).then(res => {\n        let errorMsg = [];\n        if (res.data.failed.length > 0) {\n          for (let i = 0 ; i < res.data.failed.length ; i++) {\n            errorMsg[i] = res.data.failed[i];\n          }\n        }\n        this.setState({\n          errorMsg: errorMsg,\n          sharedItems: this.state.sharedItems.concat(res.data.success),\n          selectedOption: null,\n          permission: 'rw',\n        });\n        this.refs.userSelect.clearSelect();\n      }).catch(error => {\n        if (error.response) {\n          let message = gettext('Library can not be shared to owner.');\n          let errMessage = [];\n          errMessage.push(message);\n          this.setState({\n            errorMsg: errMessage,\n            selectedOption: null,\n          });\n        }\n      });\n    }\n  } \n\n  deleteShareItem = (username) => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID;\n    if (this.props.isGroupOwnedRepo) {\n      seafileAPI.deleteGroupOwnedRepoSharedUserItem(repoID, username).then(res => {\n        this.setState({\n          sharedItems: this.state.sharedItems.filter( item => { return item.user_info.name !== username; }) \n        });\n      });\n    } else {\n      seafileAPI.deleteShareToUserItem(repoID, path, 'user', username).then(res => {\n        this.setState({\n          sharedItems: this.state.sharedItems.filter( item => { return item.user_info.name !== username; }) \n        });\n      });\n    }\n  }\n\n  onChangeUserPermission = (item, permission) => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID;\n    let username = item.user_info.name;\n    if (this.props.isGroupOwnedRepo) {\n      seafileAPI.modifyGroupOwnedRepoUserSharedPermission(repoID, permission, username).then(() => {\n        this.updateSharedItems(item, permission);\n      });\n    } else {\n      seafileAPI.updateShareToUserItemPermission(repoID, path, 'user', username, permission).then(() => {\n        this.updateSharedItems(item, permission);\n      });\n    }\n  }\n  \n  updateSharedItems = (item, permission) => {\n    let username = item.user_info.name;\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      let sharedItemUsername = sharedItem.user_info.name;\n      if (username === sharedItemUsername) {\n        sharedItem.permission = permission;\n      }\n      sharedItem.is_admin = permission === 'admin' ? true : false;\n      return sharedItem;\n    });\n    this.setState({sharedItems: sharedItems});\n  }\n\n  render() {\n    let { sharedItems } = this.state;\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('User')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <UserSelect\n                  ref=\"userSelect\"\n                  isMulti={true}\n                  className=\"reviewer-select\"\n                  placeholder={gettext('Select users...')}\n                  onSelectChange={this.handleSelectChange}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor \n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareToUser}>{gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&\n              this.state.errorMsg.map((item, index) => {\n                let errMessage = '';\n                if (item.email) {\n                  errMessage = item.email + ': ' + item.error_msg;\n                } else {\n                  errMessage = item;\n                }\n                return (\n                  <tr key={index}>\n                    <td colSpan={3}><p className=\"error\">{errMessage}</p></td>\n                  </tr>\n                );\n              })\n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"50%\">{gettext('User')}</th>\n                <th width=\"35%\">{gettext('Permission')}</th>\n                <th width=\"15%\"></th>\n              </tr>\n            </thead>\n            <UserList \n              items={sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem} \n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nShareToUser.propTypes = propTypes;\n\nexport default ShareToUser;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/share-to-user.js","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport Select from 'react-select';\nimport makeAnimated from 'react-select/lib/animated';\nimport { gettext, isPro } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api.js';\nimport SharePermissionEditor from '../select-editor/share-permission-editor';\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n  \n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  }\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  }\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.group_info.id);\n  }\n\n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item, permission);\n  }\n\n  render() {\n    let item = this.props.item;\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className='name'>{item.group_info.name}</td>\n        <td>\n          <SharePermissionEditor \n            isTextMode={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={item.permission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n          />\n        </td>\n        <td>\n          <span\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem} \n            title={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass GroupList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <GroupItem \n              key={index} \n              item={item} \n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemPath: PropTypes.string.isRequired,\n  itemType: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired\n};\n\nconst NoOptionsMessage = (props) => {\n  return (\n    <div {...props.innerProps} style={{margin: '6px 10px', textAlign: 'center', color: 'hsl(0,0%,50%)'}}>{gettext('Group not found')}</div>\n  );\n};\n\nclass ShareToGroup extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      permission: 'rw',\n      sharedItems: []\n    };\n    this.options = [];\n    this.permissions = []\n    if (this.props.itemType === 'library') {\n      this.permissions = ['rw', 'r', 'admin', 'cloud-edit', 'preview'];\n    } else if (this.props.itemType === 'dir') {\n      this.permissions = ['rw', 'r', 'cloud-edit', 'preview'];\n    }\n    if (this.props.isGroupOwnedRepo || !isPro) {\n      this.permissions = ['rw', 'r'];\n    }\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n  }\n\n  componentDidMount() {\n    this.loadOptions();\n    this.listSharedGroups();\n  }\n\n  loadOptions = () => {\n    seafileAPI.shareableGroups().then((res) => {\n      this.options = [];\n      for (let i = 0 ; i < res.data.length; i++) {\n        let obj = {};\n        obj.value = res.data[i].name;\n        obj.id = res.data[i].id;\n        obj.label = res.data[i].name;\n        this.options.push(obj);\n      }\n    });\n  }\n\n  listSharedGroups = () => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID; \n    seafileAPI.listSharedItems(repoID, path, 'group').then((res) => {\n      if(res.data.length !== 0) {\n        this.setState({\n          sharedItems: res.data\n        });\n      }\n    });\n  }\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  }\n\n  shareToGroup = () => {\n    let groups = [];\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID; \n    let isGroupOwnedRepo = this.props.isGroupOwnedRepo;\n    if (this.state.selectedOption && this.state.selectedOption.length > 0 ) {\n      for (let i = 0; i < this.state.selectedOption.length; i ++) {\n        groups[i] = this.state.selectedOption[i].id;\n      }\n    }\n    if (isGroupOwnedRepo) {\n      seafileAPI.shareGroupOwnedRepoToGroup(repoID, this.state.permission, groups).then(res => {\n        let errorMsg = [];\n        if (res.data.failed.length > 0) {\n          for (let i = 0 ; i < res.data.failed.length ; i++) {\n            errorMsg[i] = res.data.failed[i];\n          }\n        }\n\n        // todo modify api\n        let items = res.data.success.map(item => {\n          let sharedItem = {\n            'group_info': { 'id': item.group_id, 'name': item.group_name},\n            'permission': item.permission,\n            'share_type': 'group',\n          };\n          return sharedItem;\n        });\n  \n        this.setState({\n          errorMsg: errorMsg,\n          sharedItems: this.state.sharedItems.concat(items),\n          selectedOption: null,\n          permission: 'rw',\n        });\n      });\n    } else {\n      seafileAPI.shareFolder(repoID, path, 'group', this.state.permission, groups).then(res => {\n        let errorMsg = [];\n        if (res.data.failed.length > 0) {\n          for (let i = 0 ; i < res.data.failed.length ; i++) {\n            errorMsg[i] = res.data.failed[i];\n          }\n        }\n  \n        this.setState({\n          errorMsg: errorMsg,\n          sharedItems: this.state.sharedItems.concat(res.data.success),\n          selectedOption: null,\n          permission: 'rw'\n        });\n      });\n    }\n  }\n\n  deleteShareItem = (groupID) => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID; \n    if (this.props.isGroupOwnedRepo) {\n      seafileAPI.deleteGroupOwnedRepoSharedGroupItem(repoID, groupID).then(() => {\n        this.setState({\n          sharedItems: this.state.sharedItems.filter(item => { return item.group_info.id !== groupID; }) \n        });\n      });\n    } else {\n      seafileAPI.deleteShareToGroupItem(repoID, path, 'group', groupID).then(() => {\n        this.setState({\n          sharedItems: this.state.sharedItems.filter(item => { return item.group_info.id !== groupID; }) \n        });\n      });\n    }\n  }\n\n  onChangeUserPermission = (item, permission) => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID;\n    let groupID = item.group_info.id;\n    if (this.props.isGroupOwnedRepo) {\n      seafileAPI.modifyGroupOwnedRepoGroupSharedPermission(repoID, permission, groupID).then(() => {\n        this.updateSharedItems(item, permission);\n      });\n    } else {\n      seafileAPI.updateShareToGroupItemPermission(repoID, path, 'group', groupID, permission).then(() => {\n        this.updateSharedItems(item, permission);\n      });\n    }\n  }\n  \n  updateSharedItems = (item, permission) => {\n    let groupID = item.group_info.id;\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      let sharedItemGroupID = sharedItem.group_info.id;\n      if (groupID === sharedItemGroupID) {\n        sharedItem.permission = permission;\n      }\n      return sharedItem;\n    });\n    this.setState({sharedItems: sharedItems});\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('Group')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <Select\n                  isMulti\n                  onChange={this.handleSelectChange}\n                  options={this.options}\n                  placeholder={gettext('Select a group')}\n                  components={makeAnimated()}\n                  maxMenuHeight={200}\n                  inputId={'react-select-2-input'}\n                  value={this.state.selectedOption}\n                  components={{ NoOptionsMessage }}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor \n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareToGroup}>{gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&                  \n              this.state.errorMsg.map((item, index) => {\n                let errMessage = item.group_name + ': ' + item.error_msg;\n                return (\n                  <tr key={index}>\n                    <td colSpan={3}><p className=\"error\">{errMessage}</p></td>\n                  </tr>\n                );\n              })                                                \n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"50%\">{gettext('Group')}</th>\n                <th width=\"35%\">{gettext('Permission')}</th>\n                <th width=\"15%\"></th>\n              </tr>\n            </thead>\n            <GroupList \n              items={this.state.sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem} \n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nShareToGroup.propTypes = propTypes;\n\nexport default ShareToGroup;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/share-to-group.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport copy from 'copy-to-clipboard';\nimport { Button, Form, FormGroup, Label, Input, InputGroup, InputGroupAddon, Alert } from 'reactstrap';\nimport { gettext, shareLinkExpireDaysMin, shareLinkExpireDaysMax } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport SharedLinkInfo from '../../models/shared-link-info';\nimport toaster from '../toast';\n\nconst propTypes = {\n  itemPath: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  closeShareDialog: PropTypes.func.isRequired,\n};\n\nclass GenerateShareLink extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isValidate: false,\n      isShowPasswordInput: false,\n      isPasswordVisible: false,\n      isExpireChecked: false,\n      password: '',\n      passwdnew: '',\n      expireDays: '',\n      errorInfo: '',\n      sharedLinkInfo: null,\n      isNoticeMessageShow: false,\n    };\n    this.permissions = {\n      'can_edit': false, \n      'can_download': true\n    };\n    this.isExpireDaysNoLimit = (parseInt(shareLinkExpireDaysMin) === 0 && parseInt(shareLinkExpireDaysMax) === 0);\n  }\n\n  componentDidMount() {\n    this.getShareLink();\n  }\n\n  getShareLink = () => {\n    let path = this.props.itemPath; \n    let repoID = this.props.repoID;\n    seafileAPI.getShareLink(repoID, path).then((res) => {\n      if (res.data.length !== 0) {\n        let sharedLinkInfo = new SharedLinkInfo(res.data[0]);\n        this.setState({sharedLinkInfo: sharedLinkInfo});\n      }\n    });\n  } \n\n  onPasswordInputChecked = () => {\n    this.setState({\n      isShowPasswordInput: !this.state.isShowPasswordInput,\n      password: '',\n      passwdnew: '',\n      errorInfo: ''\n    });\n  }\n\n  togglePasswordVisible = () => {\n    this.setState({\n      isPasswordVisible: !this.state.isPasswordVisible\n    });\n  }\n\n  generatePassword = () => {\n    let val = Math.random().toString(36).substr(5);\n    this.setState({\n      password: val,\n      passwdnew: val\n    });\n  }\n\n  inputPassword = (e) => {\n    let passwd = e.target.value.trim();\n    this.setState({password: passwd});\n  }\n\n  inputPasswordNew = (e) => {\n    let passwd = e.target.value.trim();\n    this.setState({passwdnew: passwd});\n  }\n\n  setPermission = (permission) => {\n    if (permission == 'previewAndDownload') {\n      this.permissions = {\n        'can_edit': false,\n        'can_download': true\n      };\n    } else {\n      this.permissions = {\n        'can_edit': false,\n        'can_download': false\n      };     \n    }\n  }\n\n  generateShareLink = () => {\n    let isValid = this.validateParamsInput();\n    if (isValid) {\n      this.setState({errorInfo: ''});\n      let { itemPath, repoID } = this.props;\n      let { password, expireDays } = this.state;\n      let permissions = this.permissions;\n      permissions = JSON.stringify(permissions);\n      seafileAPI.createShareLink(repoID, itemPath, password, expireDays, permissions).then((res) => {\n        let sharedLinkInfo = new SharedLinkInfo(res.data);\n        this.setState({sharedLinkInfo: sharedLinkInfo});\n      });\n    }\n  }\n\n  onCopySharedLink = () => {\n    let sharedLink = this.state.sharedLinkInfo.link;\n    copy(sharedLink);\n    toaster.success(gettext('Share link is copied to the clipboard.'));\n    this.props.closeShareDialog();\n  }\n  \n  onCopyDownloadLink = () => {\n    let downloadLink = this.state.sharedLinkInfo.link + '?dl';\n    copy(downloadLink);\n    toaster.success(gettext('Direct download link is copied to the clipboard.'));\n    this.props.closeShareDialog();\n  }\n\n  deleteShareLink = () => {\n    let sharedLinkInfo = this.state.sharedLinkInfo;\n    seafileAPI.deleteShareLink(sharedLinkInfo.token).then(() => {\n      this.setState({\n        password: '',\n        passwordnew: '',\n        isShowPasswordInput: false,\n        expireDays: '',\n        isExpireChecked: false,\n        errorInfo: '',\n        sharedLinkInfo: null,\n        isNoticeMessageShow: false,\n      });\n      this.permissions = {\n        'can_edit': false,\n        'can_download': true\n      };\n    });\n  }\n\n  onExpireChecked = (e) => {\n    this.setState({isExpireChecked: e.target.checked});\n  }\n\n  onExpireDaysChanged = (e) => {\n    let day = e.target.value.trim();\n    this.setState({expireDays: day});\n  }\n\n  validateParamsInput = () => {\n    let { isShowPasswordInput , password, passwdnew, isExpireChecked, expireDays } = this.state;\n    // validate password\n    if (isShowPasswordInput) {\n      if (password.length === 0) {\n        this.setState({errorInfo: 'Please enter password'});\n        return false;\n      }\n      if (password.length < 8) {\n        this.setState({errorInfo: 'Password is too short'});\n        return false;\n      }\n      if (password !== passwdnew) {\n        this.setState({errorInfo: 'Passwords don\\'t match'});\n        return false;\n      }\n    }\n\n    // validate days\n    // no limit\n    let reg = /^\\d+$/;\n    if (this.isExpireDaysNoLimit) {\n      if (isExpireChecked) {\n        if (!expireDays) {\n          this.setState({errorInfo: 'Please enter days'});\n          return false;\n        }\n        let flag = reg.test(expireDays);\n        if (!flag) {\n          this.setState({errorInfo: 'Please enter a non-negative integer'});\n          return false;\n        }\n        this.setState({expireDays: parseInt(expireDays)});\n      }\n    } else {\n      if (!expireDays) {\n        this.setState({errorInfo: 'Please enter days'});\n        return false;\n      }\n      let flag = reg.test(expireDays);\n      if (!flag) {\n        this.setState({errorInfo: 'Please enter a non-negative integer'});\n        return false;\n      }\n\n      expireDays = parseInt(expireDays);\n      let minDays = parseInt(shareLinkExpireDaysMin);\n      let maxDays = parseInt(shareLinkExpireDaysMax);\n\n      if (minDays !== 0 && maxDays !== maxDays) {\n        if (expireDays < minDays) {\n          this.setState({errorInfo: 'Please enter valid days'});\n          return false;\n        }\n      }\n      \n      if (minDays === 0 && maxDays !== 0 ) {\n        if (expireDays > maxDays) {\n          this.setState({errorInfo: 'Please enter valid days'});\n          return false;\n        }\n      }\n      \n      if (minDays !== 0 && maxDays !== 0) {\n        if (expireDays < minDays || expireDays < maxDays) {\n          this.setState({errorInfo: 'Please enter valid days'});\n          return false;\n        }\n      }\n      this.setState({expireDays: expireDays});\n    }\n\n    return true;\n  }\n\n  onNoticeMessageToggle = () => {\n    this.setState({isNoticeMessageShow: !this.state.isNoticeMessageShow});\n  }\n\n  render() {\n    if (this.state.sharedLinkInfo) {\n      let sharedLinkInfo = this.state.sharedLinkInfo;\n      return (\n        <div>\n          <Form className=\"mb-4\">\n            <FormGroup className=\"mb-0\">\n              <dt className=\"text-secondary font-weight-normal\">{gettext('Link:')}</dt>\n              <dd className=\"d-flex\">\n                <span>{sharedLinkInfo.link}</span>{' '}\n                {sharedLinkInfo.is_expired ?\n                  <span className=\"err-message\">({gettext('Expired')})</span> :\n                  <span className=\"far fa-copy action-icon\" onClick={this.onCopySharedLink}></span>\n                }\n              </dd>\n            </FormGroup>\n            {!sharedLinkInfo.is_dir && (  //just for file\n              <FormGroup className=\"mb-0\">\n                <dt className=\"text-secondary font-weight-normal\">{gettext('Direct Download Link:')}</dt>\n                <dd className=\"d-flex\">\n                  <span>{sharedLinkInfo.link}?dl</span>{' '}\n                  {sharedLinkInfo.is_expired ?\n                    <span className=\"err-message\">({gettext('Expired')})</span> :\n                    <span className=\"far fa-copy action-icon\" onClick={this.onCopyDownloadLink}></span>\n                  }\n                </dd>\n              </FormGroup>\n            )}\n            {sharedLinkInfo.expire_date && (\n              <FormGroup className=\"mb-0\">\n                <dt className=\"text-secondary font-weight-normal\">{gettext('Expiration Date:')}</dt>\n                <dd>{moment(sharedLinkInfo.expire_date).format('YYYY-MM-DD hh:mm:ss')}</dd>\n              </FormGroup>\n            )}\n          </Form>\n          {!this.state.isNoticeMessageShow ?\n            <Button onClick={this.onNoticeMessageToggle}>{gettext('Delete')}</Button> :\n            <div className=\"alert alert-warning\">\n              <h4 className=\"alert-heading\">{gettext('Are you sure you want to delete the share link?')}</h4>\n              <p className=\"mb-4\">{gettext('If the share link is deleted, no one will be able to access it any more.')}</p>\n              <button className=\"btn btn-primary\" onClick={this.deleteShareLink}>{gettext('Delete')}</button>{' '}\n              <button className=\"btn btn-secondary\" onClick={this.onNoticeMessageToggle}>{gettext('Cancel')}</button>\n            </div>\n          }\n        </div>\n      );\n    } else {\n      return (\n        <Form className=\"generate-share-link\">\n          <FormGroup check>\n            <Label check>\n              <Input type=\"checkbox\" onChange={this.onPasswordInputChecked}/>{'  '}{gettext('Add password protection')} \n            </Label>\n          </FormGroup>\n          {this.state.isShowPasswordInput &&\n            <FormGroup className=\"link-operation-content\">\n              {/* todo translate  */}\n              <Label className=\"font-weight-bold\">{gettext('Password')}</Label>{' '}<span className=\"tip\">{gettext('(at least 8 characters)')}</span>\n              <InputGroup className=\"passwd\">\n                <Input type={this.state.isPasswordVisible ? 'text' : 'password'} value={this.state.password || ''} onChange={this.inputPassword}/>\n                <InputGroupAddon addonType=\"append\">\n                  <Button onClick={this.togglePasswordVisible}><i className={`link-operation-icon fas ${this.state.isPasswordVisible ? 'fa-eye': 'fa-eye-slash'}`}></i></Button>\n                  <Button onClick={this.generatePassword}><i className=\"link-operation-icon fas fa-magic\"></i></Button>\n                </InputGroupAddon>\n              </InputGroup>\n              <Label className=\"font-weight-bold\">{gettext('Password again')}</Label>\n              <Input className=\"passwd\" type={this.state.isPasswordVisible ? 'text' : 'password'} value={this.state.passwdnew || ''} onChange={this.inputPasswordNew} />\n            </FormGroup>\n          }\n          {this.isExpireDaysNoLimit && (\n            <FormGroup check>\n              <Label check>\n                <Input className=\"expire-checkbox\" type=\"checkbox\" onChange={this.onExpireChecked}/>{'  '}{gettext('Add auto expiration')}\n                <Input className=\"expire-input\" type=\"text\" value={this.state.expireDays} onChange={this.onExpireDaysChanged} readOnly={!this.state.isExpireChecked}/><span>{gettext('days')}</span>\n              </Label>\n            </FormGroup>\n          )}\n          {!this.isExpireDaysNoLimit && (\n            <FormGroup check>\n              <Label check>\n                <Input className=\"expire-checkbox\" type=\"checkbox\" onChange={this.onExpireChecked} checked readOnly/>{'  '}{gettext('Add auto expiration')}\n                <Input className=\"expire-input\" type=\"text\" value={this.state.expireDays} onChange={this.onExpireDaysChanged} /> <span>{gettext('days')}</span>\n                {(parseInt(shareLinkExpireDaysMin) !== 0 && parseInt(shareLinkExpireDaysMax) !== 0) && (\n                  <span> ({shareLinkExpireDaysMin} - {shareLinkExpireDaysMax}{' '}{gettext('days')})</span>\n                )}\n                {(parseInt(shareLinkExpireDaysMin) !== 0 && parseInt(shareLinkExpireDaysMax) === 0) && (\n                  <span> ({gettext('Greater than or equal to')} {shareLinkExpireDaysMin}{' '}{gettext('days')})</span>\n                )}\n                {(parseInt(shareLinkExpireDaysMin) === 0 && parseInt(shareLinkExpireDaysMax) !== 0) && (\n                  <span> ({gettext('Less than or equal to')} {shareLinkExpireDaysMax}{' '}{gettext('days')})</span>\n                )}\n              </Label>\n            </FormGroup>\n          )}\n          <FormGroup check>\n            <Label check>\n              <Input type=\"checkbox\" checked readOnly/>{'  '}{gettext('Set permission')}\n            </Label>\n          </FormGroup>\n          <FormGroup check className=\"permission\">\n            <Label check>\n              <Input type=\"radio\" name=\"radio1\" defaultChecked={true} onChange={() => this.setPermission('previewAndDownload')}/>{'  '}{gettext('Preview and download')}\n            </Label>\n          </FormGroup>\n          <FormGroup check className=\"permission\">\n            <Label check>\n              <Input type=\"radio\" name=\"radio1\" onChange={() => this.setPermission('preview')} />{'  '}{gettext('Preview only')}\n            </Label>\n          </FormGroup>\n          {this.state.errorInfo && <Alert color=\"danger\" className=\"mt-2\">{gettext(this.state.errorInfo)}</Alert>}\n          <Button onClick={this.generateShareLink}>{gettext('Generate')}</Button>\n        </Form>\n      );\n    }\n  }\n}\n\nGenerateShareLink.propTypes = propTypes;\n\nexport default GenerateShareLink;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/generate-share-link.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport copy from 'copy-to-clipboard';\nimport { Button, Form, FormGroup, FormText, Label, Input, InputGroup, InputGroupAddon, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport SharedUploadInfo from '../../models/shared-upload-info';\nimport toaster from '../toast';\n\nconst propTypes = {\n  itemPath: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  closeShareDialog: PropTypes.func.isRequired,\n};\n\nclass GenerateUploadLink extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showPasswordInput: false,\n      passwordVisible: false,\n      password: '',\n      passwdnew: '',\n      sharedUploadInfo: null,\n    };\n  }\n\n  componentDidMount() {\n    this.getUploadLink();\n  }\n\n  getUploadLink = () => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID; \n    seafileAPI.getUploadLinks(repoID, path).then((res) => {\n      if (res.data.length !== 0) {\n        let sharedUploadInfo = new SharedUploadInfo(res.data[0]);\n        this.setState({sharedUploadInfo: sharedUploadInfo});\n      }\n    });\n  }\n\n  addPassword = () => {\n    this.setState({\n      showPasswordInput: !this.state.showPasswordInput,\n      password: '',\n      passwdnew: '',\n      errorInfo: ''\n    });\n  }\n\n  togglePasswordVisible = () => {\n    this.setState({\n      passwordVisible: !this.state.passwordVisible\n    });\n  }\n\n  generatePassword = () => {\n    let val = Math.random().toString(36).substr(5);\n    this.setState({\n      password: val,\n      passwordnew: val\n    });\n  }\n\n  inputPassword = (e) => {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  inputPasswordNew = (e) => {\n    this.setState({\n      passwordnew: e.target.value\n    });\n  }\n\n  generateUploadLink = () => {\n    let path = this.props.itemPath;\n    let repoID = this.props.repoID; \n\n    if (this.state.showPasswordInput && (this.state.password == '')) {\n      this.setState({\n        errorInfo: gettext('Please enter password')\n      });\n    }\n    else if (this.state.showPasswordInput && (this.state.showPasswordInput && this.state.password.length < 8)) {\n      this.setState({\n        errorInfo: gettext('Password is too short')\n      });\n    }\n    else if (this.state.showPasswordInput && (this.state.password !== this.state.passwordnew)) {\n      this.setState({\n        errorInfo: gettext('Passwords don\\'t match')\n      });\n    } else {\n      seafileAPI.createUploadLink(repoID, path, this.state.password).then((res) => {\n        let sharedUploadInfo = new SharedUploadInfo(res.data);\n        this.setState({sharedUploadInfo: sharedUploadInfo}); \n      });\n    }\n  }\n\n  onCopyUploadLink = () => {\n    let uploadLink = this.state.sharedUploadInfo.link;\n    copy(uploadLink);\n    toaster.success(gettext('Upload link is copied to the clipboard.'));\n    this.props.closeShareDialog();\n  }\n\n  deleteUploadLink = () => {\n    let sharedUploadInfo = this.state.sharedUploadInfo;\n    seafileAPI.deleteUploadLink(sharedUploadInfo.token).then(() => {\n      this.setState({\n        showPasswordInput: false,\n        password: '',\n        passwordnew: '',\n        sharedUploadInfo: null,\n      });\n    });\n  }\n\n  render() {\n    if (this.state.sharedUploadInfo) {\n      let sharedUploadInfo = this.state.sharedUploadInfo;\n      return (\n        <div>\n          <Form className=\"mb-4\">\n            <FormGroup>\n              <dt className=\"text-secondary font-weight-normal\">{gettext('Upload Link:')}</dt>\n              <dd className=\"d-flex\">\n                <span>{sharedUploadInfo.link}</span>\n                <span className=\"far fa-copy action-icon\" onClick={this.onCopyUploadLink}></span>\n              </dd>\n            </FormGroup>\n          </Form>\n          <Button onClick={this.deleteUploadLink}>{gettext('Delete')}</Button>\n        </div>\n      );\n    }\n    return (\n      <Form className=\"generate-upload-link\">\n        <FormGroup>\n          <FormText className=\"tip\">{gettext('You can share the generated link to others and then they can upload files to this directory via the link.')}</FormText>\n        </FormGroup>\n        <FormGroup check>\n          <Label check>\n            <Input type=\"checkbox\" onChange={this.addPassword}/>{'  '}{gettext('Add password protection')} \n          </Label>\n        </FormGroup>\n        {this.state.showPasswordInput &&\n          <FormGroup className=\"link-operation-content\">\n            {/* todo translate  */}\n            <Label className=\"font-weight-bold\">{gettext('Password')}</Label>{' '}<span className=\"tip\">{gettext('(at least 8 characters)')}</span>\n            <InputGroup className=\"passwd\">\n              <Input type={this.state.passwordVisible ? 'text':'password'} value={this.state.password || ''} onChange={this.inputPassword}/>\n              <InputGroupAddon addonType=\"append\">\n                <Button onClick={this.togglePasswordVisible}><i className={`link-operation-icon fas ${this.state.passwordVisible ? 'fa-eye': 'fa-eye-slash'}`}></i></Button>\n                <Button onClick={this.generatePassword}><i className=\"link-operation-icon fas fa-magic\"></i></Button>\n              </InputGroupAddon>\n            </InputGroup>\n            <Label className=\"font-weight-bold\">{gettext('Password again')}</Label>\n            <Input className=\"passwd\" type={this.state.passwordVisible ? 'text' : 'password'} value={this.state.passwordnew || ''} onChange={this.inputPasswordNew} />\n          </FormGroup>\n        }\n        {this.state.errorInfo && <Alert color=\"danger\" className=\"mt-2\">{this.state.errorInfo}</Alert>}\n        <Button className=\"generate-link-btn\" onClick={this.generateUploadLink}>{gettext('Generate')}</Button>\n      </Form>\n    );\n  }\n}\n\nGenerateUploadLink.propTypes = propTypes;\n\nexport default GenerateUploadLink;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/generate-upload-link.js","import React from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport toaster from '../toast';\nimport copy from '@seafile/seafile-editor/dist//utils/copy-to-clipboard';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport '../../css/internal-link.css';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n};\n\nclass InternalLinkDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false,\n      smartLink: '',\n    };\n\n    this.toggle = this.toggle.bind(this);\n    this.getInternalLink = this.getInternalLink.bind(this);\n    this.copyToClipBoard = this.copyToClipBoard.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen,\n    });\n  }\n\n  getInternalLink() {\n    let repoID = this.props.repoID;\n    let path = this.props.path;\n    seafileAPI.getInternalLink(repoID, path).then(res => {\n      this.setState({\n        isOpen: true,\n        smartLink: res.data.smart_link\n      });\n    });\n  }\n\n  copyToClipBoard() {\n    copy(this.state.smartLink);\n    this.setState({\n      isOpen: false\n    });\n    let message = gettext('Internal link has been copied to clipboard');\n    toaster.success(message), {\n      duration: 2\n    };\n  }\n\n  render() {\n    return (\n      <span className={'file-internal-link'} title={gettext('Internal Link')}>\n        <i className=\"fa fa-link\" onClick={this.getInternalLink}></i>\n        <Modal isOpen={this.state.isOpen} toggle={this.toggle}>\n          <ModalHeader toggle={this.toggle}>{gettext('Internal Link')}</ModalHeader>\n          <ModalBody>\n            <p className=\"tip mb-1\">\n              {gettext('An internal link is a link to a file or folder that can be accessed by users with read permission to the file or folder.')}\n            </p>\n            <p>\n              <a target=\"_blank\" href={this.state.smartLink}>{this.state.smartLink}</a>\n            </p>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.copyToClipBoard}>{gettext('Copy')}</Button>{' '}\n            <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          </ModalFooter>\n        </Modal>\n      </span>\n    );\n  }\n}\n\nInternalLinkDialog.propTypes = propTypes;\n\nexport default InternalLinkDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dialog/internal-link-dialog.js","import Toaster from './toaster';\n\nconst toaster = new Toaster();\n\nexport default toaster;\n\n\n// WEBPACK FOOTER //\n// ./src/components/toast/index.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isPro, gettext } from '../../utils/constants';\nimport Search from '../search/search';\nimport Notification from '../common/notification';\nimport Account from '../common/account';\n\nconst propTypes = {\n  repoID: PropTypes.string,\n  onSearchedClick: PropTypes.func.isRequired,\n  searchPlaceholder: PropTypes.string\n};\n\nclass  CommonToolbar extends React.Component {\n  render() {\n    let searchPlaceholder = this.props.searchPlaceholder || gettext('Search Files');\n    return (\n      <div className=\"common-toolbar\">\n        {isPro && (\n          <Search \n            repoID={this.props.repoID}\n            placeholder={searchPlaceholder}\n            onSearchedClick={this.props.onSearchedClick} \n          />\n        )}\n        <Notification  />\n        <Account />\n      </div>\n    );\n  }\n}\n\nCommonToolbar.propTypes = propTypes;\n\nexport default CommonToolbar;\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbar/common-toolbar.js","class TreeNode {\n\n  constructor({ path, object, isLoaded, isPreload, isExpanded, parentNode }) {\n    this.path = path || object.name,  // The default setting is the object name, which is set to a relative path when the father is set.\n    this.object = object.clone();\n    this.isLoaded = isLoaded || false;\n    this.isPreload = isPreload || false;\n    this.isExpanded = isExpanded || false;\n    this.children = [];\n    this.parentNode = parentNode || null;\n  }\n\n  clone(parentNode) {\n    let treeNode = new TreeNode({\n      path: this.path,\n      object: this.object.clone(),\n      isLoaded: this.isLoaded,\n      isPreload: this.isPreload,\n      isExpanded: this.isExpanded,\n      parentNode: parentNode || null,\n    });\n    treeNode.children = this.children.map(child => {\n      let newChild = child.clone(treeNode);\n      return newChild;\n    });\n\n    return treeNode;\n  }\n\n  setParent(parentNode) {\n    this.path = this.generatePath(parentNode);\n    this.parentNode = parentNode;\n    this.isLoaded = false;  // update parentNode need loaded data again;\n  }\n\n  hasChildren() {\n    return this.children.length !== 0;\n  }\n\n  addChild(node) {\n    node.setParent(this);\n    let children = this.children;\n    if (node.object.isDir()) {\n      this.children.unshift(node);\n    } else {\n      let index = -1;\n      for (let i = 0; i < children.length; i++) {\n        if (!children[i].object.isDir()) {\n          index = i;\n          break;\n        }\n      }\n      if (index === -1) { // -1: all the node object is dir;\n        this.children.push(node);\n      } else if (index === 0) { // 0: all the node object is file\n        this.children.unshift(node);\n      } else {\n        this.children.splice(index, 0, node);\n      }\n    }\n  }\n\n  addChildren(nodeList) {\n    nodeList.forEach(node => {\n      node.setParent(this);\n    });\n    this.children = nodeList;\n  }\n\n  deleteChild(node) {\n    let children = this.children.filter(item => {\n      return item !== node;\n    });\n    this.children = children;\n  }\n\n  rename(newName) {\n    this.object.name = newName;\n    this.path = this.generatePath(this.parentNode); \n    if (this.isExpanded) {\n      this.updateChildrenPath(this);\n    } else {\n      this.isLoaded = false;\n    }\n  }\n\n  updateChildrenPath(node) {\n    let children = node.children;\n    children.forEach(child => {\n      child.path = child.generatePath(child.parentNode);\n      if (child.isExpanded) {\n        child.updateChildrenPath(child);\n      } else {\n        child.isLoaded = false;\n      }\n    });\n  }\n\n  updateObjectProperties(keys, newValues) {\n    if (Array.isArray(keys) && Array.isArray(newValues)) {\n      keys.forEach((key, index) => {\n        this.object[key] = newValues[index];\n      });\n    } else {\n      this.object[keys] = newValues;\n    }\n  }\n\n  generatePath(parentNode) {\n    return parentNode.path === '/' ? parentNode.path + this.object.name : parentNode.path + '/' + this.object.name;\n  }\n\n  serializeToJson() {\n    let children = [];\n    if (this.hasChildren) {\n      children = this.children.map(m => m.serializeToJson());\n    }\n\n    const treeNode = {\n      path: this.path,\n      object: this.object.clone(),\n      isLoaded: this.isLoaded,\n      isPreload: this.isPreload,\n      isExpanded: this.isExpanded,\n      parentNode: this.parentNode,\n      children: children,\n    };\n\n    return treeNode;\n  }\n\n  static deserializefromJson(json) {\n    let { path, object, isLoaded, isPreload, isExpanded, parentNode, children = [] } = json;\n    object = object.clone();\n\n    const treeNode = new TreeNode({\n      path,\n      object,\n      isLoaded,\n      isPreload,\n      isExpanded,\n      parentNode,\n      children: children.map(item => TreeNode.deserializefromJson(item))\n    });\n    return treeNode;\n  }\n}\n\nexport default TreeNode;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-node.js"],"sourceRoot":""}