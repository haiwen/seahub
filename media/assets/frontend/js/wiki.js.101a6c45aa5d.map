{"version":3,"sources":["../js/wiki.js","components/logo.js","components/loading.js","wiki.js","pages/wiki/side-panel.js","components/index-viewer.js","pages/wiki/main-panel.js","components/wiki-dir-list-view/wiki-dir-list-view.js","components/wiki-dir-list-view/wiki-dir-list-item.js","components/search/search.js","components/search/search-result-item.js","components/more.js","../config/polyfills.js","components/common/notification.js","components/common/notice-item.js","utils/pinyin-by-unicode.js","models/dirent.js","components/tree-view/tree-helper.js","components/tree-view/tree.js","components/tree-view/tree-view.js","components/tree-view/tree-node-view.js","components/tree-view/tree-node-menu.js","components/tree-view/tree-view-contextmenu.js","components/wiki-markdown-viewer.js","utils/constants.js","utils/editor-utilties.js","models/file-tag.js","components/common/account.js","utils/seafile-api.js","utils/utils.js","components/toolbar/common-toolbar.js","components/tree-view/tree-node.js"],"names":["webpackJsonp","104","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_react","_react2","_propTypes","_propTypes2","_constants","propTypes","onCloseSidePanel","PropTypes","func","isRequired","Logo","_React$Component","_ref","_temp","_this","_ret","this","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","closeSide","createElement","className","href","siteRoot","id","src","mediaUrl","logoPath","height","logoHeight","width","logoWidth","title","siteTitle","alt","onClick","aria-label","React","Component","11","Loading","1148","1149","_reactDom","_reactDom2","_moment","_moment2","_utils","_seafileApi","_dirent","_dirent2","_treeNode","_treeNode2","_treeHelper","_treeHelper2","_sidePanel","_sidePanel2","_mainPanel","_mainPanel2","Wiki","_Component","loadWikiData","initialPath","loadSidePanel","isDir","showDir","setState","pathExist","fileUrl","slug","Utils","encodePath","window","history","pushState","url","path","showFile","homePath","seafileAPI","listWikiDir","then","res","tree","state","treeData","addFirstResponseListToNode","data","dirent_list","root","indexNode","getNodeByPath","indexPath","getWikiFileContent","indexContent","content","isTreeDataLoading","catch","isLoadFailed","loadNodeAndParentsByPath","dirPath","loadDirentList","filePath","isDataLoading","isViewFile","permission","lastModified","moment","unix","last_modified","fromNow","latestContributor","latest_contributor","hash","location","direntList","map","item","Dirent","filter","type","name","toLowerCase","sortDirents","loadTreeNodeByPath","clone","node","isLoaded","parentNode","isExpanded","currentNode","addResponseListToNode","isMarkdownFile","getDirName","results","object","parent_dir","push","onLinkClick","link","isWikiInternalMarkdownLink","getPathFromWikiInternalMarkdownLink","isWikiInternalDirLink","getPathFromWikiInternalDirLink","onpopstate","event","onSearchedClick","is_dir","slice","currentPath","index","paths","getPaths","treeHelper","expandNode","repo_id","newWindow","open","onMenuClick","closeSideBar","onMainNavBarClick","nodePath","onDirentClick","dirent","direntPath","joinPath","w","repoID","onCloseSide","onNodeClick","collapseNode","onNodeCollapse","onNodeExpanded","list","nodeList","TreeNode","addChildren","buildTree","ReactDOM","render","document","getElementById","1150","_logo","_logo2","_loading","_loading2","_treeView","_treeView2","_indexViewer","_indexViewer2","bool","string","SidePanel","renderIndexView","Fragment","gettext","renderTreeView","isNodeMenuShow","role","username","1151","_markdownViewer","_markdownViewer2","viewerPropTypes","IndexContentViewer","preventDefault","stopPropagation","tagName","changeInlineNode","isPublicWiki","RegExp","serviceURL","test","indexOf","index2","imagePath","substring","isInternalMarkdownLink","getPathFromInternalMarkdownLink","isInternalDirLink","getPathFromInternalDirLink","modifyValueBeforeRender","nodes","newNodes","changeMarkdownNodes","onContentRendered","links","_this2","querySelectorAll","forEach","addEventListener","_this3","removeEventListener","_this4","_this5","markdownContent","1152","_commonToolbar","_commonToolbar2","_wikiMarkdownViewer","_wikiMarkdownViewer2","_wikiDirListView","_wikiDirListView2","array","MainPanel","onEditClick","e","dataset","renderNavPath","split","data-path","errMessage","searchPlaceholder","isFileLoading","isWiki","1153","_wikiDirListItem","_wikiDirListItem2","WikiDirListView","style","1154","WikiDirListItem","onMouseEnter","highlight","onMouseLeave","_props","iconUrl","getDirentIcon","size","mtime_relative","116","_reactResponsive","_reactResponsive2","_searchResultItem","_searchResultItem2","_editorUtilties","_editorUtilties2","_more","_more2","placeholder","Search","onFocusHandler","isMaskShow","isCloseShow","onCloseHandler","resetToDefault","onItemClickHandler","onChangeHandler","newValue","inputValue","trim","getValueLength","isResultShow","isResultGetted","queryData","q","search_repo","search_ftypes","timer","clearTimeout","setTimeout","getSearchResult","onShowMore","params","onSearchToggle","isSearchInputShow","resultItems","source","cancelRequest","editorUtilities","getSource","sendRequest","token","cancelToken","searchFiles","total","items","formatResultItems","console","log","cancel","str","code","len","charCodeAt","fullpath","repo_name","decodeURI","content_highlight","isShowMore","query","onFocus","onChange","autoComplete","renderSearchResult","118","SearchResultItem","onClickHandler","fileIconUrl","getFolderIconUrl","getFileIconUrl","link_content","dangerouslySetInnerHTML","__html","119","More","12","Promise","enable","assign","120","_noticeItem","_noticeItem2","Notification","showNotice","updateNotifications","unseenCount","loadNotices","listPopupNotices","noticeList","notification_list","onNoticeItemClick","noticeItem","seen","markNoticeAsRead","getUnseenNotificationCount","unseen_count","121","NoticeItem","noticeType","detail","avatar_url","group_staff_avatar_url","groupStaff","group_staff_name","userHref","group_staff_email","groupHref","group_id","groupName","group_name","notice","userLink","groupLink","replace","share_from_user_avatar_url","shareFrom","share_from_user_name","repoName","repoUrl","repoLink","groupUrl","transfer_from_user_avatar_url","repoOwner","transfer_from_user_name","uploaded_user_avatar_url","fileName","file_name","fileLink","file_path","folderName","folder_name","folderLink","folder_path","uploadFileLink","uploadedLink","author_avatar_url","author","author_name","draftId","draft_id","draftUrl","draftLink","request_user_avatat_url","fromUser","request_user_name","_generatorNoticeInfo","generatorNoticeInfo","timestamp","122","13","strChineseFirstPY","137","14","_fileTag","_fileTag2","json","mtime","isSelected","starred","bytesToSize","is_locked","lock_time","lock_owner","lock_owner_name","locked_by_me","modifier_name","modifier_email","modifier_contact_email","file_tags","FileTag","encoded_thumbnail_src","162","_tree","_tree2","TreeHelper","treeCopy","sortType","undefined","order","objects","getNodeChildrenObject","addNodeToParentNode","addNodeListToParent","parentPath","addNodeToParent","deleteNode","nodePaths","newName","renameNode","keys","newValues","updateNode","destPath","nodeName","destNode","moveNode","delete","treeNode","copyNode","Tree","setRoot","163","_toConsumableArray","arr","isArray","arr2","from","callback","findNode","traverseDF","children","addChild","deleteChild","rename","updateObjectParam","stack","found","unshift","shift","queue","some","serializeToJson","deserializefromJson","164","_treeNodeView","_treeNodeView2","_treeViewContextmenu","_treeViewContextmenu2","repoPermission","onMenuItemClick","onItemMove","currentRepoInfo","TreeView","repo","selectedPath","onNodeDragStart","dragStartNodeData","nodeDirent","nodeParentPath","nodeRootPath","JSON","stringify","dataTransfer","effectAllowed","setData","onNodeDragEnter","onNodeDragMove","dropEffect","onNodeDragLeave","onNodeDrop","files","getData","parse","_dragStartNodeData","dropNodeData","onFreezedItem","isItemFreezed","onUnFreezedItem","contextMenu","isRightMenuShow","fileData","nodeData","mousePosition","clientX","clientY","unregisterHandlers","querySelector","registerHandlers","onNodeChanged","closeRightMenu","operation","paddingLeft","165","_treeNodeMenu","_treeNodeMenu2","number","TreeNodeView","isShowOperationMenu","isHighlight","onLoadToggle","isNodeDropShow","getNodeTypeAndIcon","icon","lastIndexOf","suffix","renderChildren","_this$props","hasChildren","_getNodeTypeAndIcon","hlClass","draggable","onDragStart","onDragEnter","onDragLeave","onDragOver","onDrop","onMouseDown","166","_reactstrap","TreeNodeMenu","translateMenuItem","menuItem","translateResult","onDropdownToggleClick","toggleOperationMenu","isItemMenuShow","toggle","menuList","caculateMenuList","Dropdown","isOpen","DropdownToggle","tag","data-toggle","aria-expanded","DropdownMenu","DropdownItem","167","TreeViewContextMenu","calculateMenuDistance","rightTreeMenu","rightTreeMenuHeight","offsetHeight","body","clientHeight","top","left","listenClick","handleContextMenu","rightTreeMenuWidth","offsetWidth","168","169","isTOCShow","WikiMarkdownViewer","markdownViewer","titlesInfo","onScrollHandler","contentScrollTop","markdownContainer","current","scrollTop","titlesLength","activeTitleIndex","renderMarkdown","showTOC","createRef","ref","onScroll","bind","defaultProps","MarkdownViewer","2","app","config","loginUrl","avatarInfo","siteName","isPro","isDocs","lang","fileServerRoot","seafileVersion","seafileCollabServer","pageOptions","contactEmail","canAddRepo","canGenerateShareLink","canGenerateUploadLink","canViewOrg","fileAuditEnabled","enableFileComment","folderPermEnabled","enableResetEncryptedRepoPassword","isEmailConfigured","enableUploadFolder","enableResumableFileUpload","storages","enableRepoSnapshotLabel","shareLinkExpireDaysMin","shareLinkExpireDaysMax","maxFileName","enableWiki","enableEncryptedLibrary","enableRepoHistorySetting","isSystemStaff","thumbnailSizeForOriginal","repoPasswordMinLength","curNoteMsg","curNoteID","wiki","repoId","initial_path","serviceUrl","PER_PAGE","historyRepoID","fileHistory","draftFilePath","draft","draftOriginFilePath","draftFileName","draftID","draftRepoID","authorAvatar","originFileExists","draftFileExists","draftStatus","draftPublishVersion","originFileVersion","orgID","org","invitationLink","orgMemberQuotaEnabled","constanceEnabled","sysadmin","constance_enabled","multiTenancy","multi_tenancy","multiInstitution","multi_institution","sysadminExtraEnabled","sysadmin_extra_enabled","enableGuestInvitation","enable_guest_invitation","enableTermsAndConditions","enable_terms_and_conditions","isDefaultAdmin","is_default_admin","enableFileScan","enable_file_scan","canViewSystemInfo","admin_permissions","can_view_system_info","canViewStatistic","can_view_statistic","canConfigSystem","can_config_system","canManageLibrary","can_manage_library","canManageUser","can_manage_user","canManageGroup","can_manage_group","canViewUserLog","can_view_user_log","canViewAdminLog","can_view_admin_log","21","EditorUtilities","dir_file_list","parent_path","last_update_time","listDir","recursive","isDraft","createFile","deleteFile","newFileName","renameFile","createDir","deleteDir","newDirName","renameDir","getAccountInfo","getFileDownloadLink","getFileContent","page","per_page","listFileHistoryRecords","commitID","revertFile","listDrafts","deleteDraft","publishDraft","dirents","zipDownload","zip_token","queryZipProgress","cancelZipTask","24","file_tag_id","repo_tag_id","tag_name","color","tag_color","27","isAdminPanel","Account","getContainer","findDOMNode","handleProps","showInfo","addEvents","removeEvents","handleDocumentClick","which","keyCodes","tab","container","contains","onClickAccount","resp","userName","email","usageRate","space_usage","quotaUsage","usage","quotaTotal","isStaff","is_staff","isOrgStaff","is_org_staff","avatarURL","renderMenu","renderAvatar","prevProps","274","275","3","_reactCookies","_reactCookies2","_seafileJs","SeafileAPI","xcsrfHeaders","cookie","load","initForSeahubUsage","4","_pinyinByUnicode","esc","space","up","down","bytes","sizes","parseInt","Math","floor","toFixed","isHiDPI","devicePixelRatio","FILEEXT_ICON_MAP","md","txt","pdf","doc","docx","odt","fodt","ppt","pptx","odp","fodp","xls","xlsx","ods","fods","mp4","ogv","webm","mov","flv","wmv","rmvb","mp3","oga","ogg","flac","aac","ac3","wma","jpg","jpeg","png","svg","gif","bmp","ico","imageCheck","filename","substr","videoCheck","path_arr","path_arr_","encodeURIComponent","join","HTMLescape","html","appendChild","createTextNode","innerHTML","generateDialogTitle","operationTarget","targetStr","getFileName","lastIndex","result","pop","reverse","getFolderName","dir","isChildPath","child","parent","isAncestorPath","ancestor","renameAncestorPath","newAncestor","pathA","pathB","isSupportUploadFolder","navigator","userAgent","getDefaultLibIconUrl","isBig","getLibIconUrl","share_permission","icon_name","encrypted","readonly","file_ext","getLibIconTitle","is_admin","getFolderIconTitle","options","sharePerms","sharePermsExplanation","formatSize","precision","kilobyte","megabyte","gigabyte","formatBitRate","bits","Bs","re","exec","decodeURIComponent","err","compareTwoWord","wordA","wordB","a_val","b_val","a_uni","b_uni","charAt","compareStrWithNumbersIn","a","b","isDigitPart","aPart","bPart","reParts","reDigit","aParts","match","bParts","min","sortRepos","repos","sortBy","sortOrder","comparator","sort","fn","chooseLanguage","mode","DARK_COLOR_MAP","red","orange","yellow","green","cyan","blue","indigo","purple","pink","azure","lime","teal","gray","#FFA8A8","#FFA94D","#FFD43B","#A0EC50","#A9E34B","#63E6BE","#4FD2C9","#72C3FC","#91A7FF","#E599F7","#B197FC","#F783AC","#CED4DA","getDarkColor","80","_search","_search2","_notification","_notification2","_account","_account2","CommonToolbar","86","87","88","89","90","95","isPreload","generatePath","setParent","splice","updateChildrenPath","m","_json$children"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAASC,GAEjC,YACmwB,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAAxnDE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MCNriB8B,EAAArC,EAAA,GDM6lBsC,EAAQrC,EAAuBoC,GCL5nBE,EAAAvC,EAAA,GDK8qBwC,EAAYvC,EAAuBsC,GCJjtBE,EAAAzC,EAAA,GAEM0C,GACJC,iBAAkBC,UAAUC,KAAKC,YAG7BC,EDF4sD,SAASC,GAAmD,QAASD,KAAO,GAAIE,GAASC,EAAMC,EAAMC,CAAK/C,GAAgBgD,KAAKN,EAAM,KAAI,GAAIO,GAAKC,UAAUvB,OAAOwB,EAAKC,MAAMH,GAAMI,EAAK,EAAEA,EAAKJ,EAAKI,IAAQF,EAAKE,GAAMH,UAAUG,EAAO,OAAaR,GAAOC,EAAM1C,EAA2B4C,MAAMJ,EAAKF,EAAKtB,WAAWR,OAAO0C,eAAeZ,IAAOpC,KAAKiD,MAAMX,GAAMI,MAAMQ,OAAOL,KAAeL,ECInlEW,UAAY,WACVX,EAAKrB,MAAMa,oBDLm7DS,EAA+MF,EAAOzC,EAA2B0C,EAAMC,GAAgjB,MAA5/BvC,GAAUkC,EAAKC,GAAocrB,EAAaoB,IAAOb,IAAI,SAASd,MAAM,WCSnuE,MACEkB,GAAAlC,QAAA2D,cAAA,OAAKC,UAAU,YACb1B,EAAAlC,QAAA2D,cAAA,KAAGE,KAAMC,WAAUC,GAAG,QACpB7B,EAAAlC,QAAA2D,cAAA,OAAKK,IAAKC,WAAWC,WAAUC,OAAQC,aAAYC,MAAOC,YAAWC,MAAOC,YAAWC,IAAI,UAE7FvC,EAAAlC,QAAA2D,cAAA,KACEC,UAAU,sEACVc,QAASzB,KAAKS,UACda,MAAM,QACNI,aAAW,eDlB2tFhC,GCE7tFiC,UAAMC,UAwBzBlC,GAAKL,UAAYA,ED1B0xF3C,EAAQK,QC4BpyF2C,GDxBTmC,GACA,SAAUpF,EAAQC,EAASC,GAEjC,YEXA,SAASmF,KACP,MACE7C,GAAAlC,QAAA2D,cAAA,QAAMC,UAAU,6BFUpB/C,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GEdlD,IAAAiB,GAAArC,EAAA,GFc+FsC,EAAuC,SAAgCpC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,IAArFmC,EAAmMtC,GAAQK,QEN1T+E,GFUTC,KACA,SAAUtF,EAAQC,EAASC,GAEjCA,EAAoB,IACpBF,EAAOC,QAAUC,EAAoB,OAK/BqF,KACA,SAAUvF,EAAQC,EAASC,GAEjC,YACi+C,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAAt1E,GAAIY,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MG/B5e8B,EAAArC,EAAA,GH+BoiBsC,EAAQrC,EAAuBoC,GG9BnkBiD,EAAAtF,EAAA,GH8BonBuF,EAAWtF,EAAuBqF,GG7BtpBE,EAAAxF,EAAA,GH6BwsByF,EAASxF,EAAuBuF,GG5BxuB/C,EAAAzC,EAAA,GACA0F,EAAA1F,EAAA,GACA2F,EAAA3F,EAAA,GACA4F,EAAA5F,EAAA,IHyBw4B6F,EAAS5F,EAAuB2F,GGxBx6BE,EAAA9F,EAAA,IHwB29B+F,EAAW9F,EAAuB6F,GGvB7/BE,EAAAhG,EAAA,KHuBqjCiG,EAAahG,EAAuB+F,GGtBzlCE,EAAAlG,EAAA,MHsBmpCmG,EAAYlG,EAAuBiG,GGrBtrCE,EAAApG,EAAA,MHqB+uCqG,EAAYpG,EAAuBmG,EGnBlxCpG,GAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,KACAA,EAAA,KACAA,EAAA,IACAA,EAAA,IHYk2E,IGT51EsG,GHSq2E,SAASC,GGRl3E,QAAAD,GAAYxE,GAAOzB,EAAAgD,KAAAiD,EAAA,IAAAnD,GAAA1C,EAAA4C,MAAAiD,EAAA7E,WAAAR,OAAA0C,eAAA2C,IAAA3F,KAAA0C,KACXvB,GADW,OAAAqB,GA6BnBqD,aAAe,SAACC,GAGd,GAFAtD,EAAKuD,cAAcD,GAEL,SAAVE,QACF,GAAoB,aAAhBF,EACFtD,EAAKyD,QAAQ,SACR,CACLzD,EAAK0D,UAAUC,WAAW,GAC1B,IAAIC,GAAU7C,WAAW,SAAW8C,OAAOC,QAAMC,WAAWT,EAC5DU,QAAOC,QAAQC,WAAWC,IAAKP,EAASQ,KAAMd,GAAcA,EAAaM,OAExD,SAAVJ,QACTxD,EAAKyD,QAAQH,GACM,UAAVE,SACTxD,EAAKqE,SAASf,IA3CCtD,EA+CnBuD,cAAgB,SAACD,GACXA,IAAgBtD,EAAKsE,UAAsB,SAAVd,QACnCe,aAAWC,YAAYX,OAAM,KAAKY,KAAK,SAAAC,GACrC,GAAIC,GAAO3E,EAAK4E,MAAMC,QACtB7E,GAAK8E,2BAA2BJ,EAAIK,KAAKC,YAAaL,EAAKM,KAC3D,IAAIC,GAAYP,EAAKQ,cAAcnF,EAAKoF,UACzBT,GAAKQ,cAAcnF,EAAKsE,WACvBY,EACdX,aAAWc,mBAAmBxB,OAAMqB,EAAUd,MAAMK,KAAK,SAAAC,GACvD1E,EAAK0D,UACHmB,SAAUF,EACVO,UAAWA,EACXI,aAAcZ,EAAIK,KAAKQ,QACvBC,mBAAmB,MAIvBxF,EAAK0D,UACHmB,SAAUF,EACVa,mBAAmB,MAGtBC,MAAM,WACPzF,EAAK0D,UAAUgC,cAAc,MAG/B1F,EAAK2F,yBAAyBrC,IAzEftD,EA6EnByD,QAAU,SAACmC,GACT5F,EAAK6F,eAAeD,EAGpB,IAAIhC,GAAU7C,WAAW,SAAW8C,OAAOC,QAAMC,WAAW6B,EAC5D5B,QAAOC,QAAQC,WAAWC,IAAKP,EAASQ,KAAMwB,GAAUA,EAAShC,IAlFhD5D,EAqFnBqE,SAAW,SAACyB,GACV9F,EAAK0D,UACHqC,eAAe,EACfC,YAAY,EACZ5B,KAAM0B,IAGRvB,aAAWc,mBAAmBxB,OAAMiC,GAAUrB,KAAK,SAAAC,GACjD,GAAIK,GAAOL,EAAIK,IACf/E,GAAK0D,UACHqC,eAAe,EACfR,QAASR,EAAKQ,QACdU,WAAYlB,EAAKkB,WACjBC,aAAcC,UAAOC,KAAKrB,EAAKsB,eAAeC,UAC9CC,kBAAmBxB,EAAKyB,sBAI5B,IAAMC,GAAOzC,OAAO0C,SAASD,KACzB7C,EAAU7C,WAAW,SAAW8C,OAAOC,QAAMC,WAAW+B,GAAYW,CACxEzC,QAAOC,QAAQC,WAAWC,IAAKP,EAASQ,KAAM0B,GAAWA,EAAUlC,IAzGlD5D,EA4GnB6F,eAAiB,SAACD,GAChB5F,EAAK0D,UAAUqC,eAAe,IAC9BxB,aAAWC,YAAYX,OAAM+B,GAASnB,KAAK,SAAAC,GACzC,GAAIiC,GAAajC,EAAIK,KAAKC,YAAY4B,IAAI,SAAAC,GAExC,MADa,IAAIC,WAAOD,IAGV,OAAZjB,IACFe,EAAaA,EAAWI,OAAO,SAAAF,GAC7B,GAAkB,QAAdA,EAAKG,KAAgB,CACvB,GAAIC,GAAOJ,EAAKI,KAAKC,aACrB,OAAgB,WAATD,GAA8B,WAATA,GAA8B,cAATA,EAEnD,OAAO,KAGXN,EAAa7C,QAAMqD,YAAYR,EAAY,OAAQ,OACnD3G,EAAK0D,UACHU,KAAMwB,EACNI,YAAY,EACZW,WAAYA,EACZZ,eAAe,MAEhBN,MAAM,WACPzF,EAAK0D,UAAUgC,cAAc,OApId1F,EAwInBoH,mBAAqB,SAAChD,GACpB,GAAIO,GAAO3E,EAAK4E,MAAMC,SAASwC,QAC3BC,EAAO3C,EAAKQ,cAAcf,EAC9B,IAAKkD,EAAKC,SAUH,CACY5C,EAAKQ,cAAcmC,EAAKE,WAAWpD,MACzCqD,YAAa,EACxBzH,EAAK0D,UAAUmB,SAAUF,EAAM+C,YAAaJ,QAZ5C/C,cAAWC,YAAYX,OAAMyD,EAAKlD,MAAMK,KAAK,SAAAC,GAC3C1E,EAAK2H,sBAAsBjD,EAAIK,KAAKC,YAAasC,GAChC3C,EAAKQ,cAAcmC,EAAKE,WAAWpD,MACzCqD,YAAa,EACxBzH,EAAK0D,UACHmB,SAAUF,EACV+C,YAAaJ,OAlJFtH,EA4JnB2F,yBAA2B,SAACvB,GAC1B,GAAIO,GAAO3E,EAAK4E,MAAMC,SAASwC,OAC3BvD,SAAM8D,eAAexD,KACvBA,EAAON,QAAM+D,WAAWzD,IAE1BG,aAAWC,YAAYX,OAAMO,GAAM,GAAMK,KAAK,SAAAC,GAG5C,IAAK,GAFDiC,GAAajC,EAAIK,KAAKC,YACtB8C,KACKlJ,EAAI,EAAGA,EAAI+H,EAAW9H,OAAQD,IAAK,CAC1C,GAAImJ,GAASpB,EAAW/H,GACpBG,EAAMgJ,EAAOC,UACZF,GAAQ/I,KACX+I,EAAQ/I,OAEV+I,EAAQ/I,GAAKkJ,KAAKF,GAEpB,IAAK,GAAIhJ,KAAO+I,GAAS,CACvB,GAAIR,GAAO3C,EAAKQ,cAAcpG,EACzBuI,GAAKC,UAA0B,MAAdD,EAAKlD,KAEfkD,EAAKC,UACfvH,EAAK2H,sBAAsBG,EAAQ/I,GAAMuI,GAFzCtH,EAAK8E,2BAA2BgD,EAAQ/I,GAAMuI,GAKlDtH,EAAK0D,UACH8B,mBAAmB,EACnBX,SAAUF,MAEXc,MAAM,WACPzF,EAAK0D,UAAUgC,cAAc,OAzLd1F,EA6LnBkI,YAAc,SAACC,GACb,GAAMhE,GAAMgE,CACZ,IAAIrE,QAAMsE,2BAA2BjE,EAAKN,QAAO,CAC/C,GAAIO,GAAON,QAAMuE,oCAAoClE,EAAKN,OAC1D7D,GAAKqE,SAASD,OACT,IAAIN,QAAMwE,sBAAsBnE,EAAKN,QAAO,CACjD,GAAIO,GAAON,QAAMyE,+BAA+BpE,EAAKN,OACrD7D,GAAKyD,QAAQW,OAEbJ,QAAO0C,SAAS5F,KAAOqD,GAtMRnE,EA0MnBwI,WAAa,SAACC,GACZ,GAAIA,EAAM7D,OAAS6D,EAAM7D,MAAMR,KAAM,CACnC,GAAIA,GAAOqE,EAAM7D,MAAMR,IACnBN,SAAM8D,eAAexD,GACvBpE,EAAKqE,SAASD,IAEdpE,EAAK6F,eAAezB,GACpBpE,EAAK0D,UACHU,KAAMA,EACN4B,YAAY,OAnNDhG,EAyNnB0I,gBAAkB,SAAC7B,GACjB,GAAIzC,GAAOyC,EAAK8B,OAAS9B,EAAKzC,KAAKwE,MAAM,EAAG/B,EAAKzC,KAAKvF,OAAS,GAAKgI,EAAKzC,IACzE,IAAIpE,EAAK4E,MAAMiE,cAAgBzE,EAA/B,CAOA,IAAK,GAFD0E,IAAS,EACTC,EAAQjF,QAAMkF,SAAS5E,GAClBxF,EAAI,EAAGA,EAAImK,EAAMlK,OAAQD,IAAK,CACrC,GAAI0I,GAAOtH,EAAK4E,MAAMC,SAASM,cAAcmC,EAC7C,KAAKA,EAAM,CACTwB,EAAQlK,CACR,QAGJ,IAAe,IAAXkK,EAAc,CAChB,GAAInE,GAAO3E,EAAK4E,MAAMC,SAASwC,QAC3BC,EAAO3C,EAAKQ,cAAc0B,EAAKzC,KACnC6E,WAAWC,WAAW5B,GACtBtH,EAAK0D,UAAUmB,SAAUF,QAEzB3E,GAAK2F,yBAAyBvB,EAIhC,IAAIyC,EAAK8B,OACP3I,EAAKyD,QAAQW,OAEb,IAAIN,QAAM8D,eAAexD,GACvBpE,EAAKqE,SAASD,OACT,CACL,GAAID,GAAMpD,WAAW,OAAS8F,EAAKsC,QAAU,QAAUrF,QAAMC,WAAWK,GACpEgF,EAAYpF,OAAOqF,KAAK,cAC5BD,GAAU1C,SAAS5F,KAAOqD,KA3PbnE,EAgQnBsJ,YAAc,WACZtJ,EAAK0D,UAAU6F,cAAevJ,EAAK4E,MAAM2E,gBAjQxBvJ,EAoQnBwJ,kBAAoB,SAACC,GACnB,GAAI9E,GAAO3E,EAAK4E,MAAMC,SAASwC,QAC3BC,EAAO3C,EAAKQ,cAAcsE,EAC9B9E,GAAKuE,WAAW5B,GAEhBtH,EAAK0D,UAAUmB,SAAUF,EAAM+C,YAAaJ,IAC5CtH,EAAKyD,QAAQ6D,EAAKlD,OA1QDpE,EA6QnB0J,cAAgB,SAACC,GACf,GAAIC,GAAa9F,QAAM+F,SAAS7J,EAAK4E,MAAMR,KAAMuF,EAAO1C,KACxD,IAAI0C,EAAOnG,QACTxD,EAAKoH,mBAAmBwC,GACxB5J,EAAKyD,QAAQmG,OAEb,IAAI9F,QAAM8D,eAAegC,GACvB5J,EAAKqE,SAASuF,OACT,CACL,GAAME,GAAE9F,OAAOqF,KAAK,eACdlF,EAAMpD,WAAW,OAASgJ,SAAS,QAAUjG,QAAMC,WAAW6F,EACpEE,GAAEpD,SAAS5F,KAAOqD,IAxRLnE,EA6RnBgK,YAAc,WACZhK,EAAK0D,UAAU6F,cAAevJ,EAAK4E,MAAM2E,gBA9RxBvJ,EAiSnBiK,YAAc,SAAC3C,GAKb,GAJKtH,EAAK4E,MAAMjB,WACd3D,EAAK0D,UAAUC,WAAW,IAGxB2D,EAAKS,OAAOvE,QAAS,CACvB,IAAK8D,EAAKC,SAAU,CAClB,GAAI5C,GAAO3E,EAAK4E,MAAMC,SAASwC,OAC/BC,GAAO3C,EAAKQ,cAAcmC,EAAKlD,MAC/BG,aAAWC,YAAYX,OAAMyD,EAAKlD,MAAMK,KAAK,SAAAC,GAC3C1E,EAAK2H,sBAAsBjD,EAAIK,KAAKC,YAAasC,GACjD3C,EAAKuF,aAAa5C,GAClBtH,EAAK0D,UAAUmB,SAAUF,MAG7B,GAAI2C,EAAKlD,OAASpE,EAAK4E,MAAMR,KAC3B,GAAIkD,EAAKG,WAAY,CACnB,GAAI9C,GAAOsE,UAAWiB,aAAalK,EAAK4E,MAAMC,SAAUyC,EACxDtH,GAAK0D,UAAUmB,SAAUF,QACpB,CACL,GAAIA,GAAO3E,EAAK4E,MAAMC,SAASwC,OAC/BC,GAAO3C,EAAKQ,cAAcmC,EAAKlD,MAC/BO,EAAKuE,WAAW5B,GAChBtH,EAAK0D,UAAUmB,SAAUF,KAK/B,GAAI2C,EAAKlD,OAASpE,EAAK4E,MAAMR,KAI7B,GAAIkD,EAAKS,OAAOvE,QACdxD,EAAKyD,QAAQ6D,EAAKlD,UAElB,IAAIN,QAAM8D,eAAeN,EAAKlD,MACxBkD,EAAKlD,OAASpE,EAAK4E,MAAMR,MAC3BpE,EAAKqE,SAASiD,EAAKlD,UAEhB,CACL,GAAM0F,GAAI9F,OAAOqF,KAAK,eAChBlF,EAAMpD,WAAW,OAASgJ,SAAS,QAAUjG,QAAMC,WAAWuD,EAAKlD,KACzE0F,GAAEpD,SAAS5F,KAAOqD,IA3ULnE,EAgVnBmK,eAAiB,SAAC7C,GAChB,GAAI3C,GAAOsE,UAAWiB,aAAalK,EAAK4E,MAAMC,SAAUyC,EACxDtH,GAAK0D,UAAUmB,SAAUF,KAlVR3E,EAqVnBoK,eAAiB,SAAC9C,GAChB,GAAI3C,GAAO3E,EAAK4E,MAAMC,SAASwC,OAC/BC,GAAO3C,EAAKQ,cAAcmC,EAAKlD,MAC1BkD,EAAKC,UAMR5C,EAAKuE,WAAW5B,GAChBtH,EAAK0D,UAAUmB,SAAUF,KANzBJ,aAAWC,YAAYX,OAAMyD,EAAKlD,MAAMK,KAAK,SAAAC,GAC3C1E,EAAK2H,sBAAsBjD,EAAIK,KAAKC,YAAasC,GACjDtH,EAAK0D,UAAUmB,SAAUF,OA3VZ3E,EAmWnB8E,2BAA6B,SAACuF,EAAM/C,GAClCA,EAAKC,UAAW,EAChBD,EAAKG,YAAa,CAClB,IAAId,GAAa0D,EAAKzD,IAAI,SAAAC,GACxB,MAAO,IAAIC,WAAOD,IAEpBF,GAAaA,EAAWI,OAAO,SAAAF,GAC7B,GAAkB,QAAdA,EAAKG,KAAgB,CACvB,GAAIC,GAAOJ,EAAKI,KAAKC,aACrB,OAAgB,WAATD,GAA8B,WAATA,GAA8B,cAATA,EAEnD,OAAO,IAETN,EAAa7C,QAAMqD,YAAYR,EAAY,OAAQ,MAEnD,IAAI2D,GAAW3D,EAAWC,IAAI,SAAAmB,GAC5B,MAAO,IAAIwC,YAAUxC,YAEvBT,GAAKkD,YAAYF,IArXAtK,EAwXnB2H,sBAAwB,SAAC0C,EAAM/C,GAC7BA,EAAKC,UAAW,EAChBD,EAAKG,YAAa,CAClB,IAAId,GAAa0D,EAAKzD,IAAI,SAAAC,GACxB,MAAO,IAAIC,WAAOD,IAEpBF,GAAa7C,QAAMqD,YAAYR,EAAY,OAAQ,MAEnD,IAAI2D,GAAW3D,EAAWC,IAAI,SAAAmB,GAC5B,MAAO,IAAIwC,YAAUxC,YAEvBT,GAAKkD,YAAYF,IAjYjBtK,EAAK4E,OACHR,KAAM,GACNT,WAAW,EACX4F,cAAc,EACdvD,YAAY,EACZD,eAAe,EACfY,cACApB,QAAS,GACTU,WAAY,GACZC,aAAc,GACdK,kBAAmB,GACnBf,mBAAmB,EACnBX,SAAUoE,UAAWwB,YACrB/C,YAAa,KACbxC,UAAW,KACXI,aAAc,IAGhBtB,OAAOwE,WAAaxI,EAAKwI,WACzBxI,EAAKoF,UAAY,YACjBpF,EAAKsE,SAAW,WAtBCtE,EHgBspG,MAR3yBtC,GAAUyF,EAAKC,GAQvY5E,EAAa2E,IAAOpE,IAAI,oBAAoBd,MAAM,WGUtjEiC,KAAKmD,aAAaC,kBHV+mEvE,IAAI,SAASd,MAAM,WGuXppE,MACEkB,GAAAlC,QAAA2D,cAAA,OAAKI,GAAG,OAAOH,UAAU,aACvB1B,EAAAlC,QAAA2D,cAACoC,EAAA/F,SACCuI,kBAAmBtF,KAAK0E,MAAMY,kBAC9B+D,aAAcrJ,KAAK0E,MAAM2E,aACzBV,YAAa3I,KAAK0E,MAAMR,KACxBS,SAAU3E,KAAK0E,MAAMC,SACrBK,UAAWhF,KAAK0E,MAAMM,UACtBI,aAAcpF,KAAK0E,MAAMU,aACzB0E,YAAa9J,KAAK8J,YAClBC,YAAa/J,KAAK+J,YAClBE,eAAgBjK,KAAKiK,eACrBC,eAAgBlK,KAAKkK,eACrBlC,YAAahI,KAAKgI,cAEpB/I,EAAAlC,QAAA2D,cAACsC,EAAAjG,SACCmH,KAAMlE,KAAK0E,MAAMR,KACjBT,UAAWzD,KAAK0E,MAAMjB,UACtBqC,WAAY9F,KAAK0E,MAAMoB,WACvBD,cAAe7F,KAAK0E,MAAMmB,cAC1BR,QAASrF,KAAK0E,MAAMW,QACpBU,WAAY/F,KAAK0E,MAAMqB,WACvBC,aAAchG,KAAK0E,MAAMsB,aACzBK,kBAAmBrG,KAAK0E,MAAM2B,kBAC9BI,WAAYzG,KAAK0E,MAAM+B,WACvBuB,YAAahI,KAAKgI,YAClBoB,YAAapJ,KAAKoJ,YAClBZ,gBAAiBxI,KAAKwI,gBACtBc,kBAAmBtJ,KAAKsJ,kBACxBE,cAAexJ,KAAKwJ,qBHpZopGvG,GGjB/pGrB,YA4anB4I,WAASC,OACPxL,EAAAlC,QAAA2D,cAACuC,EAAD,MACAyH,SAASC,eAAe,aHzZpBC,KACA,SAAUnO,EAAQC,EAASC,GAEjC,YAC6lC,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAAl9DE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MI/CriB8B,EAAArC,EAAA,GJ+C6lBsC,EAAQrC,EAAuBoC,GI9C5nBE,EAAAvC,EAAA,GJ8C8qBwC,EAAYvC,EAAuBsC,GI7CjtBE,EAAAzC,EAAA,GACAkO,EAAAlO,EAAA,KJ4C0yBmO,EAAOlO,EAAuBiO,GI3Cx0BE,EAAApO,EAAA,IJ2Cw3BqO,EAAUpO,EAAuBmO,GI1Cz5BE,EAAAtO,EAAA,KJ0C88BuO,EAAWtO,EAAuBqO,GIzCh/BE,EAAAxO,EAAA,MJyC0iCyO,EAAcxO,EAAuBuO,GIvCzkC9L,GACJgK,aAAc9J,UAAU8L,KAAK5L,WAC7B6F,kBAAmB/F,UAAU8L,KAAK5L,WAClCkF,SAAUpF,UAAUsI,OAAOpI,WAC3BuF,UAAWzF,UAAUsI,OACrBzC,aAAc7F,UAAU+L,OAAO7L,WAC/BkJ,YAAapJ,UAAU+L,OAAO7L,WAC9BqK,YAAavK,UAAUC,KAAKC,WAC5BsK,YAAaxK,UAAUC,KAAKC,WAC5BwK,eAAgB1K,UAAUC,KAAKC,WAC/ByK,eAAgB3K,UAAUC,KAAKC,WAC/BuI,YAAazI,UAAUC,KAAKC,YAGxB8L,EJyB4gF,SAASrI,GIvBzhF,QAAAqI,GAAY9M,GAAOzB,EAAAgD,KAAAuL,EAAA,IAAAzL,GAAA1C,EAAA4C,MAAAuL,EAAAnN,WAAAR,OAAA0C,eAAAiL,IAAAjO,KAAA0C,KACXvB,GADW,OAAAqB,GAKnB0L,gBAAkB,WAChB,MACEvM,GAAAlC,QAAA2D,cAAC1B,EAAAyM,SAAD,KACExM,EAAAlC,QAAA2D,cAAA,MAAIC,UAAU,uBACX,EAAAvB,EAAAsM,SAAQ,aAEXzM,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,wBACb1B,EAAAlC,QAAA2D,cAAC0K,EAAArO,SACCqI,aAActF,EAAKrB,MAAM2G,aACzB4C,YAAalI,EAAKrB,MAAMuJ,iBAdflI,EAqBnB6L,eAAiB,WACf,MACE1M,GAAAlC,QAAA2D,cAAC1B,EAAAyM,SAAD,KACExM,EAAAlC,QAAA2D,cAAA,MAAIC,UAAU,uBAAsB,EAAAvB,EAAAsM,SAAQ,UAC5CzM,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,wBACZb,EAAKrB,MAAMkG,UACV1F,EAAAlC,QAAA2D,cAACwK,EAAAnO,SACC4H,SAAU7E,EAAKrB,MAAMkG,SACrBgE,YAAa7I,EAAKrB,MAAMkK,YACxBiD,eAAgB9L,EAAK8L,eACrB7B,YAAajK,EAAKrB,MAAMsL,YACxBE,eAAgBnK,EAAKrB,MAAMwL,eAC3BC,eAAgBpK,EAAKrB,MAAMyL,oBA/BrCpK,EAAK8L,gBAAiB,EAFL9L,EJuBqrJ,MAAnqEtC,GAAU+N,EAAUrI,GAAoqC5E,EAAaiN,IAAY1M,IAAI,SAASd,MAAM,WImBvwH,MACEkB,GAAAlC,QAAA2D,cAAA,OAAKC,UAAA,+BAAyCX,KAAKvB,MAAM4K,aAAe,GAAI,cAC1EpK,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,4BACb1B,EAAAlC,QAAA2D,cAACoK,EAAA/N,SAAKuC,iBAAkBU,KAAKvB,MAAMqL,eAErC7K,EAAAlC,QAAA2D,cAAA,OAAKI,GAAG,WAAWH,UAAU,gBAAgBkL,KAAK,cAC/C7L,KAAKvB,MAAM6G,mBAAqBrG,EAAAlC,QAAA2D,cAACsK,EAAAjO,QAAD,OAC/BiD,KAAKvB,MAAM6G,mBAAqBtF,KAAKvB,MAAMuG,WAAahF,KAAKwL,mBAC7DxL,KAAKvB,MAAM6G,oBAAsBtF,KAAKvB,MAAMuG,WAAahF,KAAK2L,iBAC9DG,YAAY/F,cAAe9G,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,iBAAgB1B,EAAAlC,QAAA2D,cAAA,KAAGE,KAAMC,WAAW,WAAagJ,SAAS,IAAMlG,OAAO,IAAKhD,UAAU,wCAAuC,EAAAvB,EAAAsM,SAAQ,yBJ5BshJH,GIzBzrJ3J,YA4DxB2J,GAAUlM,UAAYA,EJnCuvJ3C,EAAQK,QIqCtwJwO,GJjCTQ,KACA,SAAUtP,EAAQC,EAASC,GAEjC,YAC+4B,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAApwDE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MKvDriB8B,EAAArC,EAAA,GLuD6lBsC,EAAQrC,EAAuBoC,GKtD5nBE,EAAAvC,EAAA,GLsD8qBwC,EAAYvC,EAAuBsC,GKrDjtB8M,EAAArP,EAAA,KLqD8wBsP,EAAiBrP,EAAuBoP,GKpDtzB5M,EAAAzC,EAAA,GACA0F,EAAA1F,EAAA,GAEMuP,GACJ9G,aAAc7F,UAAU+L,OAAO7L,WAC/BuI,YAAazI,UAAUC,KAAKC,YAKxB0M,EL0C+7D,SAASxM,GKxC58D,QAAAwM,GAAY1N,GAAOzB,EAAAgD,KAAAmM,EAAA,IAAArM,GAAA1C,EAAA4C,MAAAmM,EAAA/N,WAAAR,OAAA0C,eAAA6L,IAAA7O,KAAA0C,KACXvB,GADW,OAAAqB,GAmCnBkI,YAAc,SAACO,GACbA,EAAM6D,iBACN7D,EAAM8D,iBACN,IAAIpE,GAAO,EACX,IAA6B,MAAzBM,EAAM/J,OAAO8N,QAAiB,CAEhC,IADA,GAAI9N,GAAS+J,EAAM/J,OAAO8I,WACA,MAAnB9I,EAAO8N,SACZ9N,EAASA,EAAO8I,UAElBW,GAAOzJ,EAAOoC,SAEdqH,GAAOM,EAAM/J,OAAOoC,IAEtBd,GAAKrB,MAAMuJ,YAAYC,IAhDNnI,EAmDnByM,iBAAmB,SAAC5F,GAClB,GAAmB,UAAfA,EAAKkB,OAAoB,CAC3B,GAAI5D,SAGJ,IAAiB,SAAb0C,EAAKG,MAAmB0F,eAAc,CACxCvI,EAAM0C,EAAK9B,KAAK9D,GAGhB,KAFW,GAAI0L,QAAOC,aAAa,QAAU7C,SAAQ,gBAE7C8C,KAAK1I,GACX,MAGF,IAAI2E,GAAQ3E,EAAI2I,QAAQ,SACpBC,EAAS5I,EAAI2I,QAAQ,KACnBE,EAAY7I,EAAI8I,UAAUnE,EAAQ,EAAGiE,EAE3ClG,GAAK9B,KAAK9D,IAAM2L,aAAa,qCAAuC/I,OAAO,SAAWmJ,MAGnF,IAAiB,QAAbnG,EAAKG,KAGZ,GAFA7C,EAAM0C,EAAK9B,KAAKjE,KAEZgD,QAAMoJ,uBAAuB/I,EAAK4F,UAAS,CAC7C,GAAI3F,GAAON,QAAMqJ,gCAAgChJ,EAAK4F,SAEtDlD,GAAK9B,KAAKjE,KAAO8L,aAAa,UAAY/I,OAAOO,MAG9C,IAAIN,QAAMsJ,kBAAkBjJ,EAAK4F,UAAS,CAC7C,GAAI3F,GAAON,QAAMuJ,2BAA2BlJ,EAAK4F,SAEjDlD,GAAK9B,KAAKjE,KAAO8L,aAAa,UAAY/I,OAAOO,GAKvD,MAAOyC,IAxFU7G,EA2FnBsN,wBAA0B,SAACrP,GACzB,GAAIsP,GAAQtP,EAAM2M,SAAS2C,MACvBC,EAAW1J,QAAM2J,oBAAoBF,EAAOvN,EAAKyM,iBAErD,OADAxO,GAAM2M,SAAS2C,MAAQC,EAChBvP,GA/FU+B,EAkGnB0N,kBAAoB,aAhGlB1N,EAAK2N,SAFY3N,ELqDwX,MAbmlDtC,GAAU2O,EAAmBxM,GAS99DrB,EAAa6N,IAAqBtN,IAAI,oBAAoBd,MAAM,WK5CzE,GAAA2P,GAAA1N,IAElBA,MAAKyN,MAAQ/C,SAASiD,iBAAT,wBACb3N,KAAKyN,MAAMG,QAAQ,SAAA3F,GACjBA,EAAK4F,iBAAiB,QAASH,EAAK1F,kBLyC6GnJ,IAAI,4BAA4Bd,MAAM,WKrC/J,GAAA+P,GAAA9N,IAE1BA,MAAKyN,MAAMG,QAAQ,SAAA3F,GACjBA,EAAK8F,oBAAoB,QAASD,EAAK9F,kBLmCiDnJ,IAAI,qBAAqBd,MAAM,WK/BtG,GAAAiQ,GAAAhO,IAEnBA,MAAKyN,MAAQ/C,SAASiD,iBAAT,wBACb3N,KAAKyN,MAAMG,QAAQ,SAAA3F,GACjBA,EAAK4F,iBAAiB,QAASG,EAAKhG,kBL4B6GnJ,IAAI,uBAAuBd,MAAM,WKxB/J,GAAAkQ,GAAAjO,IAErBA,MAAKyN,MAAMG,QAAQ,SAAA3F,GACjBA,EAAK8F,oBAAoB,QAASE,EAAKjG,kBLsBiDnJ,IAAI,SAASd,MAAM,WKkD7G,MACEkB,GAAAlC,QAAA2D,cAAA,OAAKC,UA5GU,qBA6Gb1B,EAAAlC,QAAA2D,cAACuL,EAAAlP,SACCmR,gBAAiBlO,KAAKvB,MAAM2G,aAC5BoI,kBAAmBxN,KAAKwN,kBACxBJ,wBAAyBpN,KAAKoN,+BLvD4WjB,GKvDnXxK,UAAMC,UAsHvCuK,GAAmB9M,UAAY6M,EL/DkdxP,EAAQK,QKiE1eoP,GL7DTgC,KACA,SAAU1R,EAAQC,EAASC,GAEjC,YACiqC,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAAthEE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MM5EriB8B,EAAArC,EAAA,GN4E6lBsC,EAAQrC,EAAuBoC,GM3E5nBE,EAAAvC,EAAA,GN2E8qBwC,EAAYvC,EAAuBsC,GM1EjtBE,EAAAzC,EAAA,GACAyR,EAAAzR,EAAA,INyEkzB0R,EAAgBzR,EAAuBwR,GMxEz1BE,EAAA3R,EAAA,KNwE85B4R,EAAqB3R,EAAuB0R,GMvE18BE,EAAA7R,EAAA,MNuEkhC8R,EAAkB7R,EAAuB4R,GMtE3jCzD,EAAApO,EAAA,INsEsnCqO,EAAUpO,EAAuBmO,GMpEjpC1L,GACJ6E,KAAM3E,UAAU+L,OAAO7L,WACvBgE,UAAWlE,UAAU8L,KAAK5L,WAC1BqG,WAAYvG,UAAU8L,KAAK5L,WAC3BoG,cAAetG,UAAU8L,KAAK5L,WAC9B4F,QAAS9F,UAAU+L,OACnBvF,WAAYxG,UAAU+L,OACtBtF,aAAczG,UAAU+L,OACxBjF,kBAAmB9G,UAAU+L,OAC7B7E,WAAYlH,UAAUmP,MAAMjP,WAC5B2J,YAAa7J,UAAUC,KAAKC,WAC5B+I,gBAAiBjJ,UAAUC,KAAKC,WAChC6J,kBAAmB/J,UAAUC,KAAKC,WAClC+J,cAAejK,UAAUC,KAAKC,WAC9BuI,YAAazI,UAAUC,KAAKC,YAGxBkP,ENmD8rF,SAASzL,GAA4C,QAASyL,KAAY,GAAI/O,GAASC,EAAMC,EAAMC,CAAK/C,GAAgBgD,KAAK2O,EAAW,KAAI,GAAI1O,GAAKC,UAAUvB,OAAOwB,EAAKC,MAAMH,GAAMI,EAAK,EAAEA,EAAKJ,EAAKI,IAAQF,EAAKE,GAAMH,UAAUG,EAAO,OAAaR,GAAOC,EAAM1C,EAA2B4C,MAAMJ,EAAK+O,EAAUvQ,WAAWR,OAAO0C,eAAeqO,IAAYrR,KAAKiD,MAAMX,GAAMI,MAAMQ,OAAOL,KAAeL,EMjDllGsJ,YAAc,WACZtJ,EAAKrB,MAAM2K,eNgD8nGtJ,EM7C3oG8O,YAAc,SAACC,GACbA,EAAEzC,gBACF,IAAInI,GAAMpD,WAAW,OAASgJ,SAAS,QAAU/J,EAAKrB,MAAMyF,KAAO,YACnEJ,QAAOqF,KAAKlF,IN0C4xGnE,EMvC1yGwJ,kBAAoB,SAACuF,GACnB/O,EAAKrB,MAAM6K,kBAAkBuF,EAAErQ,OAAOsQ,QAAQ5K,ONsCq1GpE,EMnCr4GiP,cAAgB,WACd,GAAIlG,GAAQ/I,EAAKrB,MAAMyF,KAAK8K,MAAM,KAC9BzF,EAAW,EAwBf,OAvBeV,GAAMnC,IAAI,SAACC,EAAMiC,GAC9B,GAAa,KAATjC,EAGJ,MAAIiC,KAAWC,EAAMlK,OAAS,EAE1BM,EAAAlC,QAAA2D,cAAA,QAAM7B,IAAK+J,GAAO3J,EAAAlC,QAAA2D,cAAA,QAAMC,UAAU,cAAhB,KAAsCgG,IAG1D4C,GAAY,IAAM5C,EAEhB1H,EAAAlC,QAAA2D,cAAA,QAAM7B,IAAK+J,GACT3J,EAAAlC,QAAA2D,cAAA,QAAMC,UAAU,cAAhB,KACA1B,EAAAlC,QAAA2D,cAAA,KACEC,UAAU,YACVsO,YAAW1F,EACX9H,QAAS3B,EAAKwJ,mBACb3C,QNew6F5G,EAAmiCF,EAAOzC,EAA2B0C,EAAMC,GAAi4E,MAA1qHvC,GAAUmR,EAAUzL,GAA4xC5E,EAAaqQ,IAAY9P,IAAI,SAASd,MAAM,WMJjjI,GAAMmR,GAAcjQ,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,oBAAmB,EAAAvB,EAAAsM,SAAQ,0BAC9D,OACEzM,GAAAlC,QAAA2D,cAAA,OAAKC,UAAU,uCACb1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,+CACZmL,YACC7M,EAAAlC,QAAA2D,cAAC1B,EAAAyM,SAAD,KACExM,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,oBACb1B,EAAAlC,QAAA2D,cAAA,QAAMC,UAAU,uDAAuDW,MAAM,gBAAgBG,QAASzB,KAAKoJ,cAChF,OAA1BpJ,KAAKvB,MAAMsH,YACV9G,EAAAlC,QAAA2D,cAAA,UAAQC,UAAU,mCAAmCW,MAAM,YAAYG,QAASzB,KAAK4O,cAAc,EAAAxP,EAAAsM,SAAQ,eAG/GzM,EAAAlC,QAAA2D,cAAC2N,EAAAtR,SACC8M,OAAQA,SACRrB,gBAAiBxI,KAAKvB,MAAM+J,gBAC5B2G,mBAAmB,EAAA/P,EAAAsM,SAAQ,oCAKnCzM,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,qBACb1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,iBACb1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,mBACZmL,YACC7M,EAAAlC,QAAA2D,cAAC1B,EAAAyM,SAAD,KACExM,EAAAlC,QAAA2D,cAAA,KAAGE,KAAMC,WAAW,SAAUF,UAAU,WAAU,EAAAvB,EAAAsM,SAAQ,UAC1DzM,EAAAlC,QAAA2D,cAAA,QAAMC,UAAU,cAAhB,MAGJ1B,EAAAlC,QAAA2D,cAAA,KAAGE,KAAMC,WAAW,SAAW8C,OAAMhD,UAAU,UAAUgD,QACxD3D,KAAK+O,kBAGV9P,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,qBACXX,KAAKvB,MAAMgF,WAAayL,EACzBlP,KAAKvB,MAAMgF,WAAazD,KAAKvB,MAAMoH,eAAiB5G,EAAAlC,QAAA2D,cAACsK,EAAAjO,QAAD,MACnDiD,KAAKvB,MAAMgF,YAAczD,KAAKvB,MAAMoH,eAAiB7F,KAAKvB,MAAMqH,YAChE7G,EAAAlC,QAAA2D,cAAC6N,EAAAxR,SACCmR,gBAAiBlO,KAAKvB,MAAM4G,QAC5B+J,cAAepP,KAAKvB,MAAMoH,cAC1BG,aAAgBhG,KAAKvB,MAAMuH,aAC3BK,kBAAmBrG,KAAKvB,MAAM4H,kBAC9B2B,YAAahI,KAAKvB,MAAMuJ,YACxBqH,QAAQ,KAGTrP,KAAKvB,MAAMoH,gBAAkB7F,KAAKvB,MAAMqH,YACzC7G,EAAAlC,QAAA2D,cAAC+N,EAAA1R,SACCmH,KAAMlE,KAAKvB,MAAMyF,KACjBuC,WAAYzG,KAAKvB,MAAMgI,WACvB+C,cAAexJ,KAAKvB,MAAM+K,uBN9Cg2MmF,GMnDl3M/M,YA2GxB+M,GAAUtP,UAAYA,ENxDg7M3C,EAAQK,QM0D/7M4R,GNtDTW,KACA,SAAU7S,EAAQC,EAASC,GAEjC,YACi3B,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAAtuDE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MOpFriB8B,EAAArC,EAAA,GPoF6lBsC,EAAQrC,EAAuBoC,GOnF5nBE,EAAAvC,EAAA,GPmF8qBwC,EAAYvC,EAAuBsC,GOlFjtBE,EAAAzC,EAAA,GACA4S,EAAA5S,EAAA,MPiFszB6S,EAAkB5S,EAAuB2S,GO/Ez1BlQ,GACJ6E,KAAM3E,UAAU+L,OAAO7L,WACvBgH,WAAYlH,UAAUmP,MAAMjP,WAC5B+J,cAAejK,UAAUC,KAAKC,YAG1BgQ,EPyE65D,SAAS9P,GAA8D,QAAS8P,KAAwD,MAAtCzS,GAAgBgD,KAAKyP,GAAwBrS,EAA2B4C,MAAMyP,EAAgBrR,WAAWR,OAAO0C,eAAemP,IAAkBlP,MAAMP,KAAKE,YAAq1B,MAAxjC1C,GAAUiS,EAAgB9P,GAAsNrB,EAAamR,IAAkB5Q,IAAI,SAASd,MAAM,WOvErtE,GAAA2P,GAAA1N,IACP,OACEf,GAAAlC,QAAA2D,cAAA,aACEzB,EAAAlC,QAAA2D,cAAA,aACEzB,EAAAlC,QAAA2D,cAAA,UACEzB,EAAAlC,QAAA2D,cAAA,MAAIgP,OAAQtO,MAAO,QACnBnC,EAAAlC,QAAA2D,cAAA,MAAIgP,OAAQtO,MAAO,SAAS,EAAAhC,EAAAsM,SAAQ,SACpCzM,EAAAlC,QAAA2D,cAAA,MAAIgP,OAAQtO,MAAO,SAAS,EAAAhC,EAAAsM,SAAQ,SACpCzM,EAAAlC,QAAA2D,cAAA,MAAIgP,OAAQtO,MAAO,SAAS,EAAAhC,EAAAsM,SAAQ,kBAGxCzM,EAAAlC,QAAA2D,cAAA,aACoC,IAAjCV,KAAKvB,MAAMgI,WAAW9H,QAAgBqB,KAAKvB,MAAMgI,WAAWC,IAAI,SAAC+C,EAAQb,GACxE,MACE3J,GAAAlC,QAAA2D,cAAC8O,EAAAzS,SAAgB8B,IAAK+J,EAAO1E,KAAMwJ,EAAKjP,MAAMyF,KAAMuF,OAAQA,EAAQD,cAAekE,EAAKjP,MAAM+K,wBPyDi5FiG,GOzE/9F9N,UAAMC,UAyBpC6N,GAAgBpQ,UAAYA,EPgDkjG3C,EAAQK,QO9CvkG0S,GPkDTE,KACA,SAAUlT,EAAQC,EAASC,GAEjC,YACqyB,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAA1pDE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MQ5FriB8B,EAAArC,EAAA,GR4F6lBsC,EAAQrC,EAAuBoC,GQ3F5nBE,EAAAvC,EAAA,GR2F8qBwC,EAAYvC,EAAuBsC,GQ1FjtBE,EAAAzC,EAAA,GACA0F,EAAA1F,EAAA,GAEM0C,GACJ6E,KAAM3E,UAAU+L,OAAO7L,WACvBgK,OAAQlK,UAAUsI,OAAOpI,WACzB+J,cAAejK,UAAUC,KAAKC,YAG1BmQ,ERiF80D,SAASjQ,GQ/E31D,QAAAiQ,GAAYnR,GAAOzB,EAAAgD,KAAA4P,EAAA,IAAA9P,GAAA1C,EAAA4C,MAAA4P,EAAAxR,WAAAR,OAAA0C,eAAAsP,IAAAtS,KAAA0C,KACXvB,GADW,OAAAqB,GAOnB+P,aAAe,WACb/P,EAAK0D,UAAUsM,WAAW,KARThQ,EAWnBiQ,aAAe,WACbjQ,EAAK0D,UAAUsM,WAAW,KAZThQ,EAenB0J,cAAgB,SAACqF,GACfA,EAAEzC,iBACFtM,EAAKrB,MAAM+K,cAAc1J,EAAKrB,MAAMgL,SAfpC3J,EAAK4E,OACHoL,WAAW,GAHIhQ,ER+EwpG,MAA9zCtC,GAAUoS,EAAgBjQ,GAA0erB,EAAasR,IAAkB/Q,IAAI,SAASd,MAAM,WQ3D15E,GAAAiS,GACgBhQ,KAAKvB,MAAtByF,EADC8L,EACD9L,KAAMuF,EADLuG,EACKvG,OACR7I,EAAOC,WAAW,QAAU+C,QAAM+F,SAASzF,EAAMuF,EAAO1C,MACxDkJ,EAAUrM,QAAMsM,cAAczG,EAElC,OACExK,GAAAlC,QAAA2D,cAAA,MAAIC,UAAWX,KAAK0E,MAAMoL,UAAY,eAAiB,GAAID,aAAc7P,KAAK6P,aAAcE,aAAc/P,KAAK+P,cAC7G9Q,EAAAlC,QAAA2D,cAAA,MAAIC,UAAU,eACZ1B,EAAAlC,QAAA2D,cAAA,OAAKK,IAAKkP,EAAS7O,MAAM,KAAKI,IAAI,MAEpCvC,EAAAlC,QAAA2D,cAAA,MAAIC,UAAU,QACZ1B,EAAAlC,QAAA2D,cAAA,KAAGE,KAAMA,EAAMa,QAASzB,KAAKwJ,eAAgBC,EAAO1C,OAEtD9H,EAAAlC,QAAA2D,cAAA,UAAK+I,EAAO0G,MACZlR,EAAAlC,QAAA2D,cAAA,MAAIY,MAAOmI,EAAO2G,gBAAiB3G,EAAO2G,qBR6CkoGR,GQjFtpGjO,UAAMC,UA0CpCgO,GAAgBvQ,UAAYA,ERuCyuG3C,EAAQK,QQrC9vG6S,GRyCTS,IACA,SAAU5T,EAAQC,EAASC,GAEjC,YACqpC,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAA1gEE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MSpGriB8B,EAAArC,EAAA,GToG6lBsC,EAAQrC,EAAuBoC,GSnG5nBE,EAAAvC,EAAA,GTmG8qBwC,EAAYvC,EAAuBsC,GSlGjtBoR,EAAA3T,EAAA,KTkG+wB4T,EAAkB3T,EAAuB0T,GSjGxzBlR,EAAAzC,EAAA,GACA6T,EAAA7T,EAAA,KTgGm6B8T,EAAmB7T,EAAuB4T,GS/F78BE,EAAA/T,EAAA,IT+FghCgU,EAAiB/T,EAAuB8T,GS9FxjCE,EAAAjU,EAAA,KT8FgnCkU,EAAOjU,EAAuBgU,GS5FxoCvR,GACJwK,OAAQtK,UAAU+L,OAClBwF,YAAavR,UAAU+L,OACvB9C,gBAAiBjJ,UAAUC,KAAKC,YAG5BsR,ETsFwqE,SAAS7N,GSpFrrE,QAAA6N,GAAYtS,GAAOzB,EAAAgD,KAAA+Q,EAAA,IAAArD,GAAAtQ,EAAA4C,MAAA+Q,EAAA3S,WAAAR,OAAA0C,eAAAyQ,IAAAzT,KAAA0C,KACXvB,GADW,OAAAiP,GAgBnBsD,eAAiB,WACftD,EAAKlK,UACHpC,MAAO,QACP6P,YAAY,EACZC,aAAa,KApBExD,EAwBnByD,eAAiB,WACfzD,EAAK0D,kBAzBY1D,EA4BnB2D,mBAAqB,SAAC1K,GACpB+G,EAAK0D,iBACL1D,EAAKjP,MAAM+J,gBAAgB7B,IA9BV+G,EAiCnB4D,gBAAkB,SAAC/I,GACjB,GAAIzI,IACJ4N,GAAKlK,UAAUzF,MAAOwK,EAAM/J,OAAOT,OACnC,IAAIwT,GAAWhJ,EAAM/J,OAAOT,KAC5B,IAAI2P,EAAK8D,aAAeD,EAASE,OAC/B,OAAO,CAIT,IAFA/D,EAAK8D,WAAaD,EAASE,OAEH,KAApB/D,EAAK8D,YAAqB1R,EAAM4R,eAAehE,EAAK8D,YAAc,EAKpE,MAJA9D,GAAKlK,UACHmO,cAAc,EACdC,gBAAgB,KAEX,CAET,IAAI/H,GAAS6D,EAAKjP,MAAMoL,OACpBgI,GACFC,EAAGP,EACHQ,YAAalI,GAAkB,MAC/BmI,cAAe,MAGbtE,GAAKuE,OACPC,aAAaxE,EAAKuE,OAGpBvE,EAAKuE,MAAQE,WAAWrS,EAAMsS,gBAAgBP,GAAY,MA5DzCnE,EA0JnB2E,WAAa,WACX,GAAIxI,GAAS6D,EAAKjP,MAAMoL,OACpB0H,EAAW7D,EAAKhJ,MAAM3G,MACtB8T,GACFC,EAAGP,EACHQ,YAAalI,GAAkB,MAC/BmI,cAAe,OAEbM,EAAS,EACb,KAAK,GAAIzT,KAAOgT,GACdS,GAAUzT,EAAM,IAAMgT,EAAUhT,GAAO,GAEzCiF,QAAO0C,SAAW3F,WAAW,WAAayR,EAAO5J,MAAM,EAAG4J,EAAO3T,OAAS,IAtKzD+O,EAyMnB6E,eAAiB,WACf7E,EAAKlK,UACHgP,mBAAoB9E,EAAKhJ,MAAM8N,kBAC/BvB,YAAavD,EAAKhJ,MAAMuM,cA1M1BvD,EAAKhJ,OACHtD,MAAO,UACPrD,MAAO,GACP0U,eACAxB,YAAY,EACZU,cAAc,EACdC,gBAAgB,EAChBV,aAAa,EACbsB,mBAAmB,GAErB9E,EAAK8D,WAAa,GAClB9D,EAAKgF,OAAS,KAbGhF,ETuFk9H,MAHpyDlQ,GAAUuT,EAAO7N,GAErsE5E,EAAayS,IAASlS,IAAI,kBAAkBd,MAAM,SSvB/C8T,GAEX7R,KAAK0S,QACN1S,KAAK2S,gBAEP3S,KAAKwD,UACHmO,cAAc,EACdC,gBAAgB,IAGlB5R,KAAK0S,OAASE,UAAgBC,YAC9B7S,KAAK8S,YAAYjB,EAAW7R,KAAK0S,OAAOK,UTY0PlU,IAAI,cAAcd,MAAM,SSThT8T,EAAWmB,GACrB,GAAIlT,GAAQE,IACZ4S,WAAgBK,YAAYpB,EAAUmB,GAAazO,KAAK,SAAAC,GACtD,IAAKA,EAAIK,KAAKqO,MAMZ,MALApT,GAAM0D,UACJiP,eACAb,gBAAgB,SAElB9R,EAAM4S,OAAS,KAIjB,IAAIS,GAAQrT,EAAMsT,kBAAkB5O,EAAIK,KAAK+C,QAC7C9H,GAAM0D,UACJiP,YAAaU,EACbvB,gBAAgB,IAElB9R,EAAM4S,OAAS,OACdnN,MAAM,SAAAf,GAEP6O,QAAQC,IAAI9O,QTX6uB3F,IAAI,gBAAgBd,MAAM,WSiBrxBiC,KAAK0S,OAAOa,OAAO,gCTjB+0B1U,IAAI,iBAAiBd,MAAM,SSoBh3ByV,GAEb,IADA,GAAWC,GAAP/U,EAAI,EAASgV,EAAM,EAChBhV,EAAI8U,EAAI7U,OAAQD,IACrB+U,EAAOD,EAAIG,WAAWjV,GACV,IAAR+U,EACFC,GAAO,EACED,EAAO,IAChBC,GAAO,EACED,GAAQ,KAAUA,GAAQ,KACnCC,GAAO,EACED,GAAQ,MAAUA,GAAQ,QACnCC,GAAO,EAGX,OAAOA,MTjCkI7U,IAAI,oBAAoBd,MAAM,SSoCvJ8G,GAGhB,IAAK,GAFDsO,MACAxU,EAASkG,EAAKlG,OAAS,EAAI,EAAIkG,EAAKlG,OAC/BD,EAAI,EAAGA,EAAIC,EAAQD,IAC1ByU,EAAMzU,MACNyU,EAAMzU,GAAN,OAAqBA,GACrByU,EAAMzU,GAAN,KAAmBmG,EAAKnG,GAAGqI,KAC3BoM,EAAMzU,GAAN,KAAmBmG,EAAKnG,GAAGkV,SAC3BT,EAAMzU,GAAN,QAAsBmG,EAAKnG,GAAGuK,QAC9BkK,EAAMzU,GAAN,UAAwBmG,EAAKnG,GAAGmV,UAChCV,EAAMzU,GAAN,OAAqBmG,EAAKnG,GAAG+J,OAC7B0K,EAAMzU,GAAN,aAA2BoV,UAAUjP,EAAKnG,GAAGkV,UAAU7G,UAAU,GACjEoG,EAAMzU,GAAN,QAAsBmG,EAAKnG,GAAGqV,iBAEhC,OAAOZ,MTlDimBtU,IAAI,iBAAiBd,MAAM,WSsDnoBiC,KAAKwR,WAAa,KAClBxR,KAAKwD,UACHpC,MAAO,GACPrD,MAAO,GACPkT,YAAY,EACZC,aAAa,EACbS,cAAc,EACdC,gBAAgB,EAChBa,eACAD,mBAAmB,OT/DszB3T,IAAI,qBAAqBd,MAAM,WSmF12B,GAAI+B,GAAQE,IACZ,IAAKA,KAAK0E,MAAMiN,aAAhB,CAGA,IAAK3R,KAAK0E,MAAMkN,gBAAkB5R,KAAK0R,eAAe1R,KAAKwR,YAAc,EACvE,MACEvS,GAAAlC,QAAA2D,cAAA,QAAMC,UAAU,4BAGpB,KAAKX,KAAK0E,MAAM+N,YAAY9T,OAC1B,MACEM,GAAAlC,QAAA2D,cAAA,OAAKC,UAAU,uBAAsB,EAAAvB,EAAAsM,SAAQ,wBAGjD,IAAIsI,GAAahU,KAAK0E,MAAM+N,YAAY9T,QAAU,CAClD,OACEM,GAAAlC,QAAA2D,cAAA,MAAIC,UAAU,sBACXX,KAAK0E,MAAM+N,YAAY/L,IAAI,SAAAC,GAC1B,MACE1H,GAAAlC,QAAA2D,cAAC+P,EAAA1T,SACC8B,IAAK8H,EAAKiC,MACVjC,KAAMA,EACN0K,mBAAoBvR,EAAMuR,uBAI/B2C,GAAc/U,EAAAlC,QAAA2D,cAACmQ,EAAA9T,SAAKsV,WAAYrS,KAAKqS,kBT7GqmDxT,IAAI,SAASd,MAAM,WS0HlqD,GAAIqD,GAA6B,YAArBpB,KAAK0E,MAAMtD,MAAsBpB,KAAK0E,MAAMtD,MAAQ,GAC5DsO,GAAStO,MAASA,EACtB,OACEnC,GAAAlC,QAAA2D,cAAC1B,EAAAyM,SAAD,KACExM,EAAAlC,QAAA2D,cAAC6P,EAAAxT,SAAWkX,MAAM,sBAChBhV,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,UACb1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAA,gBAA0BX,KAAK0E,MAAMuM,WAAa,GAAK,QAAUxP,QAASzB,KAAKmR,iBACpFlS,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,oBACb1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,cACb1B,EAAAlC,QAAA2D,cAAA,KAAGC,UAAU,oDACb1B,EAAAlC,QAAA2D,cAAA,SACEoG,KAAK,OACLnG,UAAU,4BACVoG,KAAK,QACL+J,YAAa9Q,KAAKvB,MAAMqS,YACxBpB,MAAOA,EACP3R,MAAOiC,KAAK0E,MAAM3G,MAClBmW,QAASlU,KAAKgR,eACdmD,SAAUnU,KAAKsR,gBACf8C,aAAa,QAEdpU,KAAK0E,MAAMwM,aAAejS,EAAAlC,QAAA2D,cAAA,KAAGC,UAAU,kDAAkDc,QAASzB,KAAKmR,kBAE1GlS,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,2BACZX,KAAKqU,yBAKdpV,EAAAlC,QAAA2D,cAAC6P,EAAAxT,SAAWkX,MAAM,sBAChBhV,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,yBACb1B,EAAAlC,QAAA2D,cAAA,KAAGC,UAAU,4BAA4Bc,QAASzB,KAAKuS,kBAExDvS,KAAK0E,MAAM8N,mBACVvT,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,UACb1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAA,gBAA0BX,KAAK0E,MAAMuM,WAAa,GAAK,QAAUxP,QAASzB,KAAKmR,iBACpFlS,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,oBACb1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,cACb1B,EAAAlC,QAAA2D,cAAA,KAAGC,UAAU,oDACb1B,EAAAlC,QAAA2D,cAAA,SACEoG,KAAK,OACLnG,UAAU,4BACVoG,KAAK,QACL+J,YAAa9Q,KAAKvB,MAAMqS,YACxBpB,MAAOA,EACP3R,MAAOiC,KAAK0E,MAAM3G,MAClBmW,QAASlU,KAAKgR,eACdmD,SAAUnU,KAAKsR,gBACf8C,aAAa,QAEdpU,KAAK0E,MAAMwM,aAAejS,EAAAlC,QAAA2D,cAAA,KAAGC,UAAU,kDAAkDc,QAASzB,KAAKmR,kBAE1GlS,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,2BACZX,KAAKqU,8BT/Ks9HtD,GSzFz9HnP,YAmRrBmP,GAAO1R,UAAYA,ET1LihI3C,EAAQK,QS4L7hIgU,GTxLTuD,IACA,SAAU7X,EAAQC,EAASC,GAEjC,YAC+vB,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAApnDE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MU/GriB8B,EAAArC,EAAA,GV+G6lBsC,EAAQrC,EAAuBoC,GU9G5nBE,EAAAvC,EAAA,GV8G8qBwC,EAAYvC,EAAuBsC,GU7GjtBmD,EAAA1F,EAAA,GAEM0C,GACJsH,KAAMpH,UAAUsI,OAAOpI,WACvB4R,mBAAoB9R,UAAUC,KAAKC,YAG/B8U,EVsGiwD,SAAS5U,GAA+D,QAAS4U,KAAmB,GAAI3U,GAASC,EAAMC,EAAMC,CAAK/C,GAAgBgD,KAAKuU,EAAkB,KAAI,GAAItU,GAAKC,UAAUvB,OAAOwB,EAAKC,MAAMH,GAAMI,EAAK,EAAEA,EAAKJ,EAAKI,IAAQF,EAAKE,GAAMH,UAAUG,EAAO,OAAaR,GAAOC,EAAM1C,EAA2B4C,MAAMJ,EAAK2U,EAAiBnW,WAAWR,OAAO0C,eAAeiU,IAAmBjX,KAAKiD,MAAMX,GAAMI,MAAMQ,OAAOL,KAAeL,EUpGpsE0U,eAAiB,WACf,GAAI7N,GAAO7G,EAAKrB,MAAMkI,IACtB7G,GAAKrB,MAAM4S,mBAAmB1K,IVkGy/D5G,EAA4QF,EAAOzC,EAA2B0C,EAAMC,GAAowB,MAAjzCvC,GAAU+W,EAAiB5U,GAAyhBrB,EAAaiW,IAAmB1V,IAAI,SAASd,MAAM,WU9Fr4E,GAAI4I,GAAO3G,KAAKvB,MAAMkI,KAClB8N,EAAc9N,EAAK8B,OAAS7E,QAAM8Q,kBAAiB,EAAO,KAAO9Q,QAAM+Q,eAAehO,EAAKI,KAAM,IACrG,OACE9H,GAAAlC,QAAA2D,cAAA,MAAIC,UAAU,qBAAqBc,QAASzB,KAAKwU,gBAC/CvV,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,WAAWI,IAAK0T,EAAajT,IAAI,KAChDvC,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,gBACb1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,sBAAsBgG,EAAKI,MAC1C9H,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,sBAAsBgG,EAAKkN,UAA1C,IAAsDlN,EAAKiO,cAC3D3V,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,qBAAqBkU,yBAA0BC,OAAQnO,EAAKtB,iBVsFqgGkP,GUtG3jG5S,UAAMC,UAuBrC2S,GAAiBlV,UAAYA,EV+EgpG3C,EAAQK,QU7EtqGwX,GViFTQ,IACA,SAAUtY,EAAQC,EAASC,GAEjC,YACmwB,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAAxnDE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MWvHriB8B,EAAArC,EAAA,GXuH6lBsC,EAAQrC,EAAuBoC,GWtH5nBE,EAAAvC,EAAA,GXsH8qBwC,EAAYvC,EAAuBsC,GWrHjtBE,EAAAzC,EAAA,GAEM0C,GACJgT,WAAY9S,UAAUC,KAAKC,YAGvBuV,EX+GssD,SAASrV,GAAmD,QAASqV,KAAkC,MAA3BhY,GAAgBgD,KAAKgV,GAAa5X,EAA2B4C,MAAMgV,EAAK5W,WAAWR,OAAO0C,eAAe0U,IAAOzU,MAAMP,KAAKE,YAAsR,MAAlc1C,GAAUwX,EAAKrV,GAA0KrB,EAAa0W,IAAOnW,IAAI,SAASd,MAAM,WW5Gn8D,MACEkB,GAAAlC,QAAA2D,cAAA,MAAIC,UAAU,iBAAiBc,QAASzB,KAAKvB,MAAM4T,YACjDpT,EAAAlC,QAAA2D,cAAA,QAAMC,UAAU,iBAAgB,EAAAvB,EAAAsM,SAAQ,mBX0GgoEsJ,GW/G7pErT,UAAMC,UAWzBoT,GAAK3V,UAAYA,EXoG0tE3C,EAAQK,QWlGpuEiY,GXsGTC,GACA,SAAUxY,EAAQC,EAASC,GAEjC,YY5HA,qBAAAuY,WAIAvY,EAAA,IAAAwY,SACArR,OAAAoR,QAAAvY,EAAA,KAIAA,EAAA,IAIAiB,OAAAwX,OAAAzY,EAAA,KZ0IM0Y,IACA,SAAU5Y,EAAQC,EAASC,GAEjC,YAC+yB,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAApqDE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,Ma7JriB8B,EAAArC,EAAA,Gb6J6lBsC,EAAQrC,EAAuBoC,Ga5J5nBsD,EAAA3F,EAAA,GACAyC,EAAAzC,EAAA,GACA2Y,EAAA3Y,EAAA,Kb0J8vB4Y,EAAa3Y,EAAuB0Y,GaxJ5xBE,EbwJ2rD,SAAS7V,GavJxsD,QAAA6V,GAAY/W,GAAOzB,EAAAgD,KAAAwV,EAAA,IAAA1V,GAAA1C,EAAA4C,MAAAwV,EAAApX,WAAAR,OAAA0C,eAAAkV,IAAAlY,KAAA0C,KACXvB,GADW,OAAAqB,GAenB2B,QAAU,WACJ3B,EAAK4E,MAAM+Q,YACbpR,aAAWqR,sBACX5V,EAAK0D,UACHiS,YAAY,EACZE,YAAa,MAGf7V,EAAK8V,cACL9V,EAAK0D,UAAUiS,YAAY,MAxBZ3V,EA4BnB8V,YAAc,WAGZvR,aAAWwR,iBAFA,EACG,GAC6BtR,KAAK,SAAAC,GAC9C,GAAIsR,GAAatR,EAAIK,KAAKkR,iBAC1BjW,GAAK0D,UAAUsS,WAAYA,OAjCZhW,EAqCnBkW,kBAAoB,SAACC,GACnB,GAAIH,GAAahW,EAAK4E,MAAMoR,WAAWpP,IAAI,SAAAC,GAIzC,MAHIA,GAAK7F,KAAOmV,EAAWnV,KACzB6F,EAAKuP,MAAO,GAEPvP,GAETtC,cAAW8R,iBAAiBF,EAAWnV,GACvC,IAAI6U,GAAyC,IAA3B7V,EAAK4E,MAAMiR,YAAoB,EAAI7V,EAAK4E,MAAMiR,YAAc,CAC9E7V,GAAK0D,UACHsS,WAAYA,EACZH,YAAaA,KA9Cf7V,EAAK4E,OACH+Q,YAAY,EACZE,YAAa,EACbG,eALehW,EbuJkhJ,MAA30FtC,GAAUgY,EAAa7V,GAA8hCrB,EAAakX,IAAe3W,IAAI,oBAAoBd,MAAM,Wa9IrzF,GAAA2P,GAAA1N,IAClBqE,cAAW+R,6BAA6B7R,KAAK,SAAAC,GAC3CkJ,EAAKlK,UAAUmS,YAAanR,EAAIK,KAAKwR,oBb4Ig9FxX,IAAI,SAASd,MAAM,WalGngG,GAAA+P,GAAA9N,IAEP,OACEf,GAAAlC,QAAA2D,cAAA,OAAKI,GAAG,iBACN7B,EAAAlC,QAAA2D,cAAA,KAAGE,KAAK,IAAIa,QAASzB,KAAKyB,QAASd,UAAU,UAAUG,GAAG,cAAcQ,MAAM,gBAAgBI,aAAW,iBACvGzC,EAAAlC,QAAA2D,cAAA,QAAMC,UAAU,kBAChB1B,EAAAlC,QAAA2D,cAAA,QAAMC,UAAA,QAAkBX,KAAK0E,MAAMiR,YAAc,GAAK,SAAW3V,KAAK0E,MAAMiR,cAE9E1W,EAAAlC,QAAA2D,cAAA,OAAKI,GAAG,iBAAiBH,UAAA,eAAyBX,KAAK0E,MAAM+Q,WAAa,GAAI,SAC5ExW,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,8BAA6B1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,iBAC3D1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,sBACb1B,EAAAlC,QAAA2D,cAAA,MAAIC,UAAU,2BAA0B,EAAAvB,EAAAsM,SAAQ,kBAChDzM,EAAAlC,QAAA2D,cAAA,KAAGE,KAAK,IAAIa,QAASzB,KAAKyB,QAASH,OAAO,EAAAlC,EAAAsM,SAAQ,SAAUhK,cAAY,EAAAtC,EAAAsM,SAAQ,SAAU/K,UAAU,mEAEtG1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,kBACb1B,EAAAlC,QAAA2D,cAAA,MAAIC,UAAU,eACXX,KAAK0E,MAAMoR,WAAWpP,IAAI,SAAAC,GACzB,MAAQ1H,GAAAlC,QAAA2D,cAAC6U,EAAAxY,SAAW8B,IAAK8H,EAAK7F,GAAImV,WAAYtP,EAAMqP,kBAAmBlI,EAAKkI,uBAGhF/W,EAAAlC,QAAA2D,cAAA,KAAGE,KAAMC,WAAW,qBAAsBF,UAAU,aAAY,EAAAvB,EAAAsM,SAAQ,iCb8E09I8J,GaxJnhJ7T,UAAMC,UbwJujJlF,GAAQK,QatEjlJyY,Gb0ETc,IACA,SAAU7Z,EAAQC,EAASC,GAEjC,YACq3B,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAA1uDE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,McrKriB8B,EAAArC,EAAA,GdqK6lBsC,EAAQrC,EAAuBoC,GcpK5nBE,EAAAvC,EAAA,GdoK8qBwC,EAAYvC,EAAuBsC,GcnKjtBiD,EAAAxF,EAAA,GdmKowByF,EAASxF,EAAuBuF,GcjKpyB/C,EAAAzC,EAAA,GACA0F,EAAA1F,EAAA,GAEM0C,GACJ4W,WAAY1W,UAAUsI,OAAOpI,WAC7BuW,kBAAmBzW,UAAUC,KAAKC,YAa9B8W,Ed+I+xE,SAAS5W,GAAyD,QAAS4W,KAAa,GAAI3W,GAASC,EAAMC,EAAMC,CAAK/C,GAAgBgD,KAAKuW,EAAY,KAAI,GAAItW,GAAKC,UAAUvB,OAAOwB,EAAKC,MAAMH,GAAMI,EAAK,EAAEA,EAAKJ,EAAKI,IAAQF,EAAKE,GAAMH,UAAUG,EAAO,OAAaR,GAAOC,EAAM1C,EAA2B4C,MAAMJ,EAAK2W,EAAWnY,WAAWR,OAAO0C,eAAeiW,IAAajZ,KAAKiD,MAAMX,GAAMI,MAAMQ,OAAOL,KAAeL,Ec2BpsFkW,kBAAoB,WAClB,GAAIrP,GAAO7G,EAAKrB,MAAMwX,YACJ,IAAdtP,EAAKuP,MAGTpW,EAAKrB,MAAMuX,kBAAkBrP,IdhCsgF5G,EAAqSF,EAAOzC,EAA2B0C,EAAMC,GAK5jE,MALwgDvC,GAAU+Y,EAAW5W,GAAsiBrB,EAAaiY,IAAa1X,IAAI,sBAAsBd,MAAM,Wc5Ij7F,GAAIkY,GAAajW,KAAKvB,MAAMwX,WACxBO,EAAaP,EAAWnP,KACxB2P,EAASR,EAAWQ,MAExB,IAjB+B,sBAiB3BD,EAA2C,CAE7C,GAAIE,GAAaD,EAAOE,uBAEpBC,EAAaH,EAAOI,iBAEpBC,EAAWjW,WAAW,WAAa4V,EAAOM,kBAAoB,IAC9DC,EAAYnW,WAAW,SAAW4V,EAAOQ,SAAW,IACpDC,EAAYT,EAAOU,WAEnBC,GAAS,EAAAhY,EAAAsM,SAAQ,kDACjB2L,EAAW,WAAaP,EAAW,IAAMF,EAAa,OACtDU,EAAY,WAAaN,EAAY,IAAME,EAAY,MAK3D,OAHAE,GAASA,EAAOG,QAAQ,cAAeF,GACvCD,EAASA,EAAOG,QAAQ,eAAgBD,IAEhCZ,aAAYU,UAGtB,GApCwB,eAoCpBZ,EAAoC,CAEtC,GAAIE,GAAaD,EAAOe,2BAEpBC,EAAYhB,EAAOiB,qBAEnBC,EAAWlB,EAAO5C,UAClB+D,EAAU/W,WAAW,WAAa4V,EAAOxN,QAAU,IAAO0O,EAAW,IAErEzT,EAAOuS,EAAOvS,KACdkT,EAAS,GACTS,EAAW,WAAaD,EAAU,IAAMD,EAAW,MASvD,OAPEP,GADW,MAATlT,GACO,EAAA9E,EAAAsM,SAAQ,gEAER,EAAAtM,EAAAsM,SAAQ,8DAGnB0L,EAASA,EAAOG,QAAQ,eAAgBE,GACxCL,EAASA,EAAOG,QAAQ,cAAeM,IAC/BnB,aAAYU,UAGtB,GA1DiC,wBA0D7BZ,EAA6C,CAE/C,GAAIE,GAAaD,EAAOe,2BAEpBC,EAAYhB,EAAOiB,qBAEnBC,EAAWlB,EAAO5C,UAClB+D,EAAU/W,WAAW,WAAa4V,EAAOxN,QAAU,IAAM0O,EAAW,IAEpEG,EAAWjX,WAAW,SAAW4V,EAAOQ,SAAW,IACnDC,EAAYT,EAAOU,WAEnBjT,EAAOuS,EAAOvS,KACdkT,EAAS,GACTS,EAAW,WAAaD,EAAU,IAAMD,EAAW,OACnDL,EAAY,WAAaQ,EAAW,IAAMZ,EAAY,MAS1D,OAPEE,GADW,MAATlT,GACQ,EAAA9E,EAAAsM,SAAQ,+EAER,EAAAtM,EAAAsM,SAAQ,6EAEpB0L,EAASA,EAAOG,QAAQ,eAAgBE,GACxCL,EAASA,EAAOG,QAAQ,cAAeM,GACvCT,EAASA,EAAOG,QAAQ,eAAgBD,IAChCZ,aAAYU,UAGtB,GApF2B,kBAoFvBZ,EAAuC,CAEzC,GAAIE,GAAaD,EAAOsB,8BAEpBC,EAAYvB,EAAOwB,wBAEnBN,EAAWlB,EAAO5C,UAClB+D,EAAU/W,WAAW,WAAa4V,EAAOxN,QAAU,IAAM0O,EAAW,IACpEP,GAAS,EAAAhY,EAAAsM,SAAQ,6DACjBmM,EAAW,WAAaD,EAAU,IAAMD,EAAW,MAGvD,OAFAP,GAASA,EAAOG,QAAQ,SAAUS,GAClCZ,EAASA,EAAOG,QAAQ,cAAeM,IAC/BnB,aAAYU,UAGtB,GAlG2B,kBAkGvBZ,EAAuC,CACzC,GAAIE,GAAaD,EAAOyB,yBACpBC,EAAW1B,EAAO2B,UAClBC,EAAWxX,WAAW,OAAS4V,EAAOxN,QAAU,QAAerF,QAAMC,WAAW4S,EAAO6B,WAEvFC,EAAa9B,EAAO+B,YACpBC,EAAa5X,WAAW,WAAa4V,EAAOxN,QAAU,IAAMwN,EAAO5C,UAAYjQ,QAAMC,WAAW4S,EAAOiC,aACvGtB,EAAS,EACb,IAAIX,EAAOxN,QAAS,CAClB,GAAI0P,GAAiB,WAAaN,EAAW,IAAMF,EAAW,OAC1DS,EAAe,WAAaH,EAAc,IAAMF,EAAa,MAEjEnB,IAAS,EAAAhY,EAAAsM,SAAQ,mEACjB0L,EAASA,EAAOG,QAAQ,qBAAsBoB,GAC9CvB,EAASA,EAAOG,QAAQ,kBAAmBqB,OAE3CxB,IAAS,EAAAhY,EAAAsM,SAAQ,mEACjB0L,EAASA,EAAOG,QAAQ,qBAAsBY,GAC9Cf,EAASA,EAAOG,QAAQ,kBAAmB,mCAE7C,QAAQb,aAAYU,UAGtB,GAxH0B,iBAwHtBZ,EAAsC,CAExC,GAAIE,GAAaD,EAAOoC,kBAEpBC,EAASrC,EAAOsC,YAEhBZ,EAAW1B,EAAO2B,UAClB1U,EAAU7C,WAAW,OAAS4V,EAAOxN,QAAU,QAAewN,EAAO6B,UAErElB,GAAS,EAAAhY,EAAAsM,SAAQ,0DACjB2M,EAAW,WAAa3U,EAAU,IAAMyU,EAAW,MAGvD,OAFAf,GAASA,EAAOG,QAAQ,cAAec,GACvCjB,EAASA,EAAOG,QAAQ,WAAYuB,IAC5BpC,aAAYU,UAGtB,GAvI2B,kBAuIvBZ,EAAuC,CAEzC,GAAIE,GAAaD,EAAOoC,kBAEpBC,EAASrC,EAAOsC,YAEhBC,EAAUvC,EAAOwC,SACjBC,EAAWrY,WAAW,UAAYmY,EAAU,IAE5C5B,IAAS,EAAAhY,EAAAsM,SAAQ,sDACjByN,GAAY,WAAaD,EAAW,KAAM,EAAA9Z,EAAAsM,SAAQ,SAAW,IAAMsN,EAAU,MAGjF,OAFA5B,IAASA,GAAOG,QAAQ,eAAgB4B,IACxC/B,GAASA,GAAOG,QAAQ,WAAYuB,IAC5BpC,aAAYU,WAGtB,GAtJ4B,mBAsJxBZ,EAAwC,CAE1C,GAAIE,IAAaD,EAAO2C,wBAEpBC,GAAW5C,EAAO6C,kBAElBN,GAAUvC,EAAOwC,SACjBC,GAAWrY,WAAW,UAAYmY,GAAU,IAE5C5B,IAAS,EAAAhY,EAAAsM,SAAQ,wDACjByN,GAAY,WAAaD,GAAW,KAAM,EAAA9Z,EAAAsM,SAAQ,SAAW,IAAMsN,GAAU,MAGjF,OAFA5B,IAASA,GAAOG,QAAQ,cAAe8B,IACvCjC,GAASA,GAAOG,QAAQ,eAAgB4B,KAChCzC,cAAYU,WAOtB,OAAQV,WAAa,KAAMU,OAAS,SdnBAvY,IAAI,SAASd,MAAM,Wc+BvD,GAAIkY,GAAajW,KAAKvB,MAAMwX,WADrBsD,EAEsBvZ,KAAKwZ,sBAA5B9C,EAFC6C,EAED7C,WAAYU,EAFXmC,EAEWnC,MAElB,OAAKV,IAAeU,EAKlBnY,EAAAlC,QAAA2D,cAAA,MAAIe,QAASzB,KAAKgW,kBAAmBrV,UAAWsV,EAAWC,KAAO,OAAS,UACzEjX,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,eACb1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,aACb1B,EAAAlC,QAAA2D,cAAA,OAAKK,IAAK2V,EAAYtV,MAAM,KAAKF,OAAO,KAAKP,UAAU,WACvD1B,EAAAlC,QAAA2D,cAAA,KAAGC,UAAU,QAAQkU,yBAA0BC,OAAQsC,MAEzDnY,EAAAlC,QAAA2D,cAAA,KAAGC,UAAU,SAAQ,EAAAyB,EAAArF,SAAOkZ,EAAWwD,WAAWrT,aAV/C,OdnCkzBmQ,GcpJtyB5U,UAAMC,UAwM/B2U,GAAWlX,UAAYA,EdpD+2B3C,EAAQK,QcsD/3BwZ,GdlDTmD,IACA,SAAUjd,EAAQC,KAMlBid,GACA,SAAUld,EAAQC,EAASC,GAEjC,YACAiB,QAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GezLrC6b,qBAAoB,06oBf6L3BC,IACA,SAAUpd,EAAQC,KAMlBod,GACA,SAAUrd,EAAQC,EAASC,GAEjC,YAC6vB,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAA17BS,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MgBxMriBiF,EAAAxF,EAAA,GhBwM8lByF,EAASxF,EAAuBuF,GgBvM9nBE,EAAA1F,EAAA,GACAod,EAAApd,EAAA,IhBsMktBqd,EAAUpd,EAAuBmd,GgBpM7uBnT,EhBoMs+B,WgBnM1+B,QAAAA,GAAYqT,GASV,GATgBjd,EAAAgD,KAAA4G,GAChB5G,KAAKc,GAAKmZ,EAAKnZ,IAAM,mBACrBd,KAAK+G,KAAOkT,EAAKlT,KACjB/G,KAAK8G,KAAOmT,EAAKnT,KACjB9G,KAAKka,MAAQD,EAAKC,MAClBla,KAAKoQ,eAAiBnK,UAAOC,KAAK+T,EAAKC,OAAO9T,UAC9CpG,KAAK+F,WAAakU,EAAKlU,YAAc,KACrC/F,KAAKma,YAAa,EAClBna,KAAKoa,QAAUH,EAAKG,UAAW,EACb,SAAdH,EAAKnT,KAAiB,CACxB9G,KAAKmQ,KAAOvM,QAAMyW,YAAYJ,EAAK9J,MACnCnQ,KAAKsa,UAAYL,EAAKK,YAAa,EACnCta,KAAKua,UAAYN,EAAKM,WAAa,GACnCva,KAAKwa,WAAYP,EAAKO,YAAc,KACpCxa,KAAKya,gBAAiBR,EAAKQ,iBAAmB,KAC9Cza,KAAK0a,aAAeT,EAAKS,eAAgB,EACzC1a,KAAK2a,cAAgBV,EAAKU,eAAiB,GAC3C3a,KAAK4a,eAAiBX,EAAKW,gBAAkB,GAC7C5a,KAAK6a,uBAAyBZ,EAAKY,wBAA0B,EAC7D,IAAIC,KACAb,GAAKa,YACPA,EAAYb,EAAKa,UAAUpU,IAAI,SAAAC,GAC7B,MAAO,IAAIoU,WAAQpU,MAGvB3G,KAAK8a,UAAYA,EACbb,EAAKe,wBACPhb,KAAKgb,sBAAwBf,EAAKe,wBhByKqxB,MAAvJ1c,GAAasI,IAAS/H,IAAI,QAAQd,MAAM,WgBnK5sB,MAAO,IAAI6I,GAAO5G,ShBmKuuBnB,IAAI,QAAQd,MAAM,WgB/J3wB,MAAqB,SAAdiC,KAAK8G,ShB+JszBF,IAAWlK,GAAQK,QgB1J10B6J,GhB8JTqU,IACA,SAAUxe,EAAQC,EAASC,GAEjC,YAC60B,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAA1gCS,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MiBjNriBmF,EAAA1F,EAAA,GACAue,EAAAve,EAAA,KjBgNgoBwe,EAAOve,EAAuBse,GiB/M9pBzY,EAAA9F,EAAA,IjB+M+sB+F,EAAW9F,EAAuB6F,GiB9MjvBF,EAAA5F,EAAA,IjB8MoyB6F,EAAS5F,EAAuB2F,GiB5M9zB6Y,EjB4M0jC,WAAW,QAASA,KAAape,EAAgBgD,KAAKob,GAKpiB,MALijB9c,GAAa8c,IAAavc,IAAI,aAAad,MAAM,SiB1MvqC0G,EAAM2C,GACf3C,EAAKuE,WAAW5B,MjB0MMvI,IAAI,eAAed,MAAM,SiBvMpC0G,EAAM2C,GACjB,GAAIiU,GAAW5W,EAAK0C,OAGpB,OAFAC,GAAOiU,EAASpW,cAAcmC,EAAKlD,MACnCmX,EAASrR,aAAa5C,GACfiU,KjBmM0Lxc,IAAI,iBAAiBd,MAAM,SiBhM/M0G,EAAM8E,GAGnB,MAFe9E,GAAK0C,QACAlC,cAAcsE,MjB8LqT1K,IAAI,wBAAwBd,MAAM,SiB1LrW0G,EAAM2C,GAAwC,GAAlCkU,GAAkCpb,UAAAvB,OAAA,OAAA4c,KAAArb,UAAA,GAAAA,UAAA,GAAvB,OAAQsb,EAAetb,UAAAvB,OAAA,OAAA4c,KAAArb,UAAA,GAAAA,UAAA,GAAP,MACvDub,EAAUhX,EAAKiX,sBAAsBtU,EAEzC,OADAqU,GAAU7X,QAAMqD,YAAYwU,EAASH,EAAUE,MjBwLqoB3c,IAAI,kBAAkBd,MAAM,SiBpLlsB0G,EAAM2C,EAAME,GAE1B,MADA7C,GAAKkX,oBAAoBvU,EAAME,GACxB7C,KjBkLkzB5F,IAAI,sBAAsBd,MAAM,SiB/Kv0B0G,EAAM2F,EAAU9C,GAElC,MADA7C,GAAKmX,oBAAoBxR,EAAU9C,GAC5B7C,KjB6Ku8B5F,IAAI,wBAAwBd,MAAM,SiB1K59B0G,EAAM2C,EAAMyU,GAChC,GAAIR,GAAW5W,EAAK0C,QAChBG,EAAa+T,EAASpW,cAAc4W,EAExC,OADAR,GAASS,gBAAgB1U,EAAME,GACxB+T,KjBsKwqCxc,IAAI,mBAAmBd,MAAM,SiBnK7rC0G,EAAM8E,GACrB,GAAI8R,GAAW5W,EAAK0C,QAChBC,EAAOiU,EAASpW,cAAcsE,EAElC,OADA8R,GAASU,WAAW3U,GACbiU,KjB+Jg2Cxc,IAAI,wBAAwBd,MAAM,SiB5Jr3C0G,EAAMuX,GAC1B,GAAIX,GAAW5W,EAAK0C,OAKpB,OAJA6U,GAAUpO,QAAQ,SAAArE,GAChB,GAAInC,GAAOiU,EAASpW,cAAcsE,EAClC8R,GAASU,WAAW3U,KAEfiU,KjBsJ2kDxc,IAAI,mBAAmBd,MAAM,SiBnJhmD0G,EAAM8E,EAAU0S,GAC/B,GAAIZ,GAAW5W,EAAK0C,QAChBC,EAAOiU,EAASpW,cAAcsE,EAElC,OADA8R,GAASa,WAAW9U,EAAM6U,GACnBZ,KjB+ImxDxc,IAAI,mBAAmBd,MAAM,SiB5IxyD0G,EAAM8E,EAAU4S,EAAMC,GACrC,GAAIf,GAAW5W,EAAK0C,QAChBC,EAAOiU,EAASpW,cAAcsE,EAElC,OADA8R,GAASgB,WAAWjV,EAAM+U,EAAMC,GACzBf,KjBwIy+Dxc,IAAI,iBAAiBd,MAAM,SiBrI9/D0G,EAAM8E,EAAU+S,EAAUC,GACvC,GAAIlB,GAAW5W,EAAK0C,QAChBC,EAAOiU,EAASpW,cAAcsE,GAC9BiT,EAAWnB,EAASpW,cAAcqX,EAQtC,OAPIE,IAAYpV,IACdA,EAAKS,OAAOd,KAAOwV,EACnBlB,EAASoB,SAASrV,EAAMoV,KAErBA,GAAYpV,GACfiU,EAASU,WAAW3U,GAEfiU,KjB4H0Fxc,IAAI,sBAAsBd,MAAM,SiBzH/G0G,EAAMuX,EAAWM,GACnC,GAAIjB,GAAW5W,EAAK0C,QAChBqV,EAAWnB,EAASpW,cAAcqX,EAYtC,OAXIE,GACFR,EAAUpO,QAAQ,SAAArE,GAChB,GAAInC,GAAOiU,EAASpW,cAAcsE,EAClC8R,GAASoB,SAASrV,EAAMoV,KAG1BR,EAAUpO,QAAQ,SAAArE,GAChB,GAAInC,GAAOiU,EAASpW,cAAcsE,EAClC8R,GAASqB,OAAOtV,KAGbiU,KjB2G2fxc,IAAI,iBAAiBd,MAAM,SiBxGhhB0G,EAAM8E,EAAU+S,EAAUC,GACvC,GAAIlB,GAAW5W,EAAK0C,QAChBqV,EAAWnB,EAASpW,cAAcqX,GAClCK,EAAWtB,EAASpW,cAAcsE,EACtC,IAAIiT,EAAU,CACZ,GAAIpV,GAAOuV,EAASxV,OACpBC,GAAKS,OAAOd,KAAOwV,EACnBlB,EAASuB,SAASxV,EAAMoV,GAE1B,MAAOnB,MjBiG2Cxc,IAAI,sBAAsBd,MAAM,SiB9FhE0G,EAAMuX,EAAWM,GACnC,GAAIjB,GAAW5W,EAAK0C,QAChBqV,EAAWnB,EAASpW,cAAcqX,EAOtC,OANIE,IACFR,EAAUpO,QAAQ,SAAArE,GAChB,GAAInC,GAAOiU,EAASpW,cAAcsE,EAClC8R,GAASuB,SAASxV,EAAMoV,KAGrBnB,KjBqF8Vxc,IAAI,YAAYd,MAAM,WiBjF3X,GAAI0G,GAAO,GAAIoY,WACXhV,EAAS,GAAIjB,YAAQG,KAAM,MAC3BhC,EAAO,GAAIsF,YAAUxC,SAAQR,UAAU,EAAOE,YAAY,GAE9D,OADA9C,GAAKqY,QAAQ/X,GACNN,MjB6E8kB2W,KiBzErlBrS,EAAa,GAAIqS,EjByEmnB1e,GAAQK,QiBvEjoBgM,GjB2ETgU,IACA,SAAUtgB,EAAQC,EAASC,GAEjC,YACiuB,SAASqgB,GAAmBC,GAAK,GAAG7c,MAAM8c,QAAQD,GAAK,CAAC,IAAI,GAAIve,GAAE,EAAEye,EAAK/c,MAAM6c,EAAIte,QAAQD,EAAEue,EAAIte,OAAOD,IAAKye,EAAKze,GAAGue,EAAIve,EAAI,OAAOye,GAAW,MAAO/c,OAAMgd,KAAKH,GAAO,QAASjgB,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAn/BS,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MkB9NriBuF,EAAA9F,EAAA,IlB8NimB+F,EAA6C,SAAgC7F,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,IAAxF4F,GkB5N7nBoa,ElB4N6hC,WkB1NjiC,QAAAA,KAAc7f,EAAAgD,KAAA6c,GACZ7c,KAAK+E,KAAO,KlByNizH,MAAxtFzG,GAAaue,IAAOhe,IAAI,QAAQd,MAAM,WkBrN3oC,GAAI0G,GAAO,GAAIoY,EAIf,OAHI7c,MAAK+E,OACPN,EAAKM,KAAO/E,KAAK+E,KAAKoC,SAEjB1C,KlBiNouC5F,IAAI,UAAUd,MAAM,SkB9MzvCqJ,GACNpH,KAAK+E,KAAOqC,KlB6M6xCvI,IAAI,gBAAgBd,MAAM,SkB1MvzCmG,GAEZ,QAASmZ,GAAS7V,GAChB,MAAIA,GAAYtD,OAASA,IACvBoZ,EAAW9V,GACJ,GAJX,GAAI8V,GAAW,IASf,OADAtd,MAAKud,WAAWF,GACTC,KlBgMogDze,IAAI,wBAAwBd,MAAM,SkB7LzhDqJ,GAKpB,MAJcA,GAAKoW,SAAS9W,IAAI,SAAAC,GAE9B,MADaA,GAAKkB,YlB2LsqDhJ,IAAI,kBAAkBd,MAAM,SkBrLxsDqJ,EAAME,GACpBA,EAAWmW,SAASrW,MlBoL0wDvI,IAAI,sBAAsBd,MAAM,SkBjL5yDqM,EAAU9C,GAC5B8C,EAASwD,QAAQ,SAAAxG,GACfE,EAAWmW,SAASrW,QlB+K25DvI,IAAI,aAAad,MAAM,SkB3K/7DqJ,GACQpH,KAAKiF,cAAcmC,EAAKE,WAAWpD,MACzCwZ,YAAYtW,MlByKoiEvI,IAAI,iBAAiBd,MAAM,SkBtKzkEqM,GAAU,GAAAtK,GAAAE,IACvBoK,GAASwD,QAAQ,SAAAxG,GACftH,EAAKic,WAAW3U,QlBoKmrEvI,IAAI,aAAad,MAAM,SkBhKntEqJ,EAAM6U,GACf7U,EAAKuW,OAAO1B,MlB+J2wEpd,IAAI,aAAad,MAAM,SkB5JryEqJ,EAAM+U,EAAMC,GACrBhV,EAAKwW,kBAAkBzB,EAAMC,MlB2Jq2Evd,IAAI,WAAWd,MAAM,SkBxJh5EqJ,EAAMoV,GACbxc,KAAK+b,WAAW3U,GAChBoV,EAASiB,SAASrW,MlBsJw9EvI,IAAI,WAAWd,MAAM,SkBnJx/EqJ,EAAMoV,GACbA,EAASiB,SAASrW,MlBkJ0iFvI,IAAI,aAAad,MAAM,SkB/I1kFsf,GACT,GAAIQ,MACAC,GAAQ,CACZD,GAAME,QAAQ/d,KAAK+E,KAEnB,KADA,GAAIyC,GAAcqW,EAAMG,SAChBF,GAAStW,IACfsW,EAAiC,GAAzBT,EAAS7V,MAEfqW,EAAME,QAANxd,MAAAsd,EAAAb,EAAiBxV,EAAYgW,WAC7BhW,EAAcqW,EAAMG,YlBsIo2Fnf,IAAI,aAAad,MAAM,SkBjI14Fsf,GACT,GAAIY,MACAH,GAAQ,CACZG,GAAMlW,KAAK/H,KAAK+E,KAEhB,KADA,GAAIyC,GAAcyW,EAAMD,SAChBF,GAAStW,IACfsW,GAAkC,IAA1BT,EAAS7V,MAEfyW,EAAMlW,KAANxH,MAAA0d,EAAAjB,EAAcxV,EAAYgW,WAC1BhW,EAAcyW,EAAMD,YlBwH+pGnf,IAAI,aAAad,MAAM,SkBnHrsGqJ,GAET,IADAA,EAAKG,YAAa,EACXH,EAAKE,YACVF,EAAKE,WAAWC,YAAa,EAC7BH,EAAOA,EAAKE,clB+Gg0GzI,IAAI,eAAed,MAAM,SkB3G51GqJ,GACXA,EAAKG,YAAa,KlB0G24G1I,IAAI,cAAcd,MAAM,SkBvG36GqJ,EAAME,GAChB,MAAOA,GAAWkW,SAASU,KAAK,SAAAvX,GAC9B,MAAOA,GAAKzC,OAASkD,EAAKlD,UlBqGkhHrF,IAAI,kBAAkBd,MAAM,WkBhG1kH,MAAOiC,MAAK+E,KAAKoZ,qBlBgG2nHtf,IAAI,sBAAsBd,MAAM,SkB7F1pHkc,GAClB,GAAIlV,GAAOsF,UAAS+T,oBAAoBnE,GACpCxV,EAAO,GAAIoY,EAEf,OADApY,GAAKqY,QAAQ/X,GACNN,MlByF6zHoY,IAASngB,GAAQK,QkBpF10H8f,GlBwFTwB,IACA,SAAU5hB,EAAQC,EAASC,GAEjC,YAC07B,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAA/yDE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MmBtOriB8B,EAAArC,EAAA,GnBsO6lBsC,EAAQrC,EAAuBoC,GmBrO5nBE,EAAAvC,EAAA,GnBqO8qBwC,EAAYvC,EAAuBsC,GmBpOjtBof,EAAA3hB,EAAA,KnBoO4wB4hB,EAAe3hB,EAAuB0hB,GmBlOlzBE,EAAA7hB,EAAA,KnBkOu3B8hB,EAAsB7hB,EAAuB4hB,GmBhO95Bnf,GACJqf,eAAgBnf,UAAU8L,KAC1BO,eAAgBrM,UAAU8L,KAAK5L,WAC/BkF,SAAUpF,UAAUsI,OAAOpI,WAC3BkJ,YAAapJ,UAAU+L,OAAO7L,WAC9Bkf,gBAAiBpf,UAAUC,KAC3BuK,YAAaxK,UAAUC,KAAKC,WAC5ByK,eAAgB3K,UAAUC,KAAKC,WAC/BwK,eAAgB1K,UAAUC,KAAKC,WAC/Bmf,WAAYrf,UAAUC,KACtBqf,gBAAiBtf,UAAUsI,QAKvBiX,EnBiNgzE,SAASnf,GmB/M7zE,QAAAmf,GAAYrgB,GAAOzB,EAAAgD,KAAA8e,EAAA,IAAAhf,GAAA1C,EAAA4C,MAAA8e,EAAA1gB,WAAAR,OAAA0C,eAAAwe,IAAAxhB,KAAA0C,KACXvB,GADW,OAAAqB,GAmBnB8e,WAAa,SAACG,EAAMtV,EAAQuV,EAAcrW,GACxC7I,EAAKrB,MAAMmgB,WAAWG,EAAMtV,EAAQuV,EAAcrW,IApBjC7I,EAuBnBmf,gBAAkB,SAACpQ,EAAGzH,GACpB,GAAI8X,IAAqBC,WAAY/X,EAAKS,OAAQuX,eAAgBhY,EAAKE,WAAWpD,KAAMmb,aAAcjY,EAAKlD,KAC3Ggb,GAAoBI,KAAKC,UAAUL,GAEnCrQ,EAAE2Q,aAAaC,cAAgB,OAC/B5Q,EAAE2Q,aAAaE,QAAQ,6BAA8BR,IA5BpCpf,EA+BnB6f,gBAAkB,SAAC9Q,EAAGzH,KA/BHtH,EAmCnB8f,eAAiB,SAAC/Q,GAChBA,EAAEzC,iBACFyC,EAAE2Q,aAAaK,WAAa,QArCX/f,EAwCnBggB,gBAAkB,SAACjR,EAAGzH,KAxCHtH,EA4CnBigB,WAAa,SAAClR,EAAGzH,GACf,IAAIyH,EAAE2Q,aAAaQ,MAAMrhB,OAAzB,CAGA,GAAIugB,GAAoBrQ,EAAE2Q,aAAaS,QAAQ,6BAC/Cf,GAAoBI,KAAKY,MAAMhB,EALP,IAAAiB,GAOyBjB,EAA5CC,EAPmBgB,EAOnBhB,WAAYC,EAPOe,EAOPf,eAAgBC,EAPTc,EAOSd,aAC7Be,EAAehZ,CAEc,SAA7BgZ,EAAavY,OAAOf,OAKpBsY,IAAmBgB,EAAa9Y,WAAWpD,MACzCkc,EAAavY,OAAOd,OAASoY,EAAWpY,MAMb,QAA7BqZ,EAAavY,OAAOf,MAAsC,QAApBqY,EAAWrY,MAC/CsZ,EAAa9Y,WAAWpD,OAASkb,IACc,IAA7CgB,EAAalc,KAAK0I,QAAQyS,IAMlCvf,EAAK8e,WAAW9e,EAAKrB,MAAMogB,gBAAiBM,EAAYiB,EAAalc,KAAMkb,MA1E1Dtf,EA6EnBugB,cAAgB,WACdvgB,EAAK0D,UAAU8c,eAAe,KA9EbxgB,EAiFnBygB,gBAAkB,WAChBzgB,EAAK0D,UAAU8c,eAAe,KAlFbxgB,EAqFnB0gB,YAAc,SAAC3R,GACbA,EAAEzC,iBACFtM,EAAK0D,UACHid,iBAAgB,IAElBtO,WAAW,WACTrS,EAAK0D,UACHid,iBAAgB,EAChBC,SAAS5gB,EAAK4E,MAAMic,SACpBC,eAAgBC,QAAShS,EAAEgS,QAASC,QAASjS,EAAEiS,YAEjD,KAhGehhB,EAmGnBihB,mBAAqB,WACJrW,SAASsW,cAAc,cAC7BjT,oBAAoB,cAAejO,EAAK0gB,cArGhC1gB,EAwGnBmhB,iBAAmB,WACFvW,SAASsW,cAAc,cAC7BnT,iBAAiB,cAAe/N,EAAK0gB,cA1G7B1gB,EA6GnBohB,cAAgB,SAAC9Z,GACftH,EAAK0D,UACHmd,SAASvZ,KA/GMtH,EAmHnBqhB,eAAiB,WACfrhB,EAAK0D,UACHid,iBAAgB,KArHD3gB,EAyHnB6e,gBAAkB,SAACyC,EAAWha,GAC5BtH,EAAKrB,MAAMkgB,gBAAgByC,EAAWha,IAxHtCtH,EAAK4E,OACH4b,eAAe,EACfG,iBAAiB,EACjBE,SAAU,KACVD,SAAU,KACVE,eAAgBC,QAAS,GAAIC,QAAS,KAPvBhhB,EnBoNmpF,MALvVtC,GAAUshB,EAASnf,GAKnkCrB,EAAawgB,IAAWjgB,IAAI,oBAAoBd,MAAM,WmBxMn1CiC,KAAKihB,sBnBwMu4CpiB,IAAI,uBAAuBd,MAAM,WmBpM76CiC,KAAK+gB,wBnBoMs+CliB,IAAI,SAASd,MAAM,WmBtF9/C,MACEkB,GAAAlC,QAAA2D,cAAA,OAAKC,UAAU,kBACb1B,EAAAlC,QAAA2D,cAAC6d,EAAAxhB,SACC2hB,eAAgB1e,KAAKvB,MAAMigB,eAC3BtX,KAAMpH,KAAKvB,MAAMkG,SAASI,KAC1B4D,YAAa3I,KAAKvB,MAAMkK,YACxB0Y,YAxIW,GAyIXzV,eAAgB5L,KAAKvB,MAAMmN,eAC3B0U,cAAetgB,KAAK0E,MAAM4b,cAC1BvW,YAAa/J,KAAKvB,MAAMsL,YACxB4U,gBAAiB3e,KAAKvB,MAAMkgB,gBAC5BzU,eAAgBlK,KAAKvB,MAAMyL,eAC3BD,eAAgBjK,KAAKvB,MAAMwL,eAC3BgV,gBAAiBjf,KAAKif,gBACtBoB,cAAergB,KAAKqgB,cACpBE,gBAAiBvgB,KAAKugB,gBACtBW,cAAelhB,KAAKkhB,cACpBD,iBAAkBjhB,KAAKihB,iBACvBF,mBAAoB/gB,KAAK+gB,mBACzBnB,eAAgB5f,KAAK4f,eACrBG,WAAY/f,KAAK+f,WACjBJ,gBAAiB3f,KAAK2f,gBACtBG,gBAAiB9f,KAAK8f,kBAExB9f,KAAK0E,MAAM+b,iBACTxhB,EAAAlC,QAAA2D,cAAC+d,EAAA1hB,SACCqK,KAAMpH,KAAK0E,MAAMgc,SACjB/B,gBAAiB3e,KAAK2e,gBACtBiC,cAAe5gB,KAAK0E,MAAMkc,cAC1BO,eAAgBnhB,KAAKmhB,eACrBF,iBAAkBjhB,KAAKihB,iBACvBF,mBAAoB/gB,KAAK+gB,0BnBuD0oFjC,GmBtNxpFnd,UAAMC,UAuK7Bkd,GAASzf,UAAYA,EnB+C6tF3C,EAAQK,QmB7C3uF+hB,GnBiDTwC,IACA,SAAU7kB,EAAQC,EAASC,GAEjC,YACu2B,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAA5tDE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MoBnPriB8B,EAAArC,EAAA,GpBmP6lBsC,EAAQrC,EAAuBoC,GoBlP5nBE,EAAAvC,EAAA,GpBkP8qBwC,EAAYvC,EAAuBsC,GoBjPjtBqiB,EAAA5kB,EAAA,KpBiP4wB6kB,EAAe5kB,EAAuB2kB,GoBhPlzBniB,EAAAzC,EAAA,GAEM0C,GACJqf,eAAgBnf,UAAU8L,KAC1BjE,KAAM7H,UAAUsI,OAAOpI,WACvBkJ,YAAapJ,UAAU+L,OAAO7L,WAC9B4hB,YAAa9hB,UAAUkiB,OAAOhiB,WAC9BmM,eAAgBrM,UAAU8L,KAAK5L,WAC/B6gB,cAAe/gB,UAAU8L,KAAK5L,WAC9BsK,YAAaxK,UAAUC,KAAKC,WAC5ByK,eAAgB3K,UAAUC,KAAKC,WAC/BwK,eAAgB1K,UAAUC,KAAKC,WAC/Bwf,gBAAiB1f,UAAUC,KAAKC,WAChC4gB,cAAe9gB,UAAUC,KAAKC,WAC9B8gB,gBAAiBhhB,UAAUC,KAAKC,WAChCkf,gBAAiBpf,UAAUC,KAC3ByhB,iBAAkB1hB,UAAUC,KAC5BuhB,mBAAoBxhB,UAAUC,KAC9BogB,eAAgBrgB,UAAUC,KAC1BugB,WAAYxgB,UAAUC,MAGlBkiB,EpB0N0hF,SAAS/hB,GoBxNviF,QAAA+hB,GAAYjjB,GAAOzB,EAAAgD,KAAA0hB,EAAA,IAAA5hB,GAAA1C,EAAA4C,MAAA0hB,EAAAtjB,WAAAR,OAAA0C,eAAAohB,IAAApkB,KAAA0C,KACXvB,GADW,OAAAqB,GASnB+P,aAAe,WACR/P,EAAKrB,MAAM6hB,eACdxgB,EAAK0D,UACHme,qBAAqB,EACrBC,aAAa,IAGjB9hB,EAAKrB,MAAMyiB,cAAcphB,EAAKrB,MAAM2I,OAhBnBtH,EAmBnBiQ,aAAe,WACRjQ,EAAKrB,MAAM6hB,eACdxgB,EAAK0D,UACHme,qBAAqB,EACrBC,aAAa,IAGjB9hB,EAAKrB,MAAMyiB,cAAc,OA1BRphB,EA6BnBiK,YAAc,WACZjK,EAAKrB,MAAMsL,YAAYjK,EAAKrB,MAAM2I,OA9BjBtH,EAiCnB+hB,aAAe,WAAM,GACbza,GAAStH,EAAKrB,MAAd2I,IACFA,GAAKG,WACPzH,EAAKrB,MAAMwL,eAAe7C,GAE1BtH,EAAKrB,MAAMyL,eAAe9C,IAtCXtH,EA0CnBmf,gBAAkB,SAACpQ,GACjB/O,EAAKrB,MAAMwgB,gBAAgBpQ,EAAG/O,EAAKrB,MAAM2I,OA3CxBtH,EA8CnB6f,gBAAkB,SAAC9Q,GACmB,QAAhC/O,EAAKrB,MAAM2I,KAAKS,OAAOf,MACzBhH,EAAK0D,UAAUse,gBAAgB,IAEjChiB,EAAKrB,MAAMkhB,gBAAgB9Q,EAAG/O,EAAKrB,MAAM2I,OAlDxBtH,EAqDnB8f,eAAiB,SAAC/Q,GAChB/O,EAAKrB,MAAMmhB,eAAe/Q,IAtDT/O,EAyDnBggB,gBAAkB,SAACjR,GACjB/O,EAAK0D,UAAUse,gBAAgB,IAC/BhiB,EAAKrB,MAAMqhB,gBAAgBjR,EAAG/O,EAAKrB,MAAM2I,OA3DxBtH,EA8DnBigB,WAAa,SAAClR,GACZ/O,EAAK0D,UAAUse,gBAAgB,IAC/BhiB,EAAKrB,MAAMshB,WAAWlR,EAAG/O,EAAKrB,MAAM2I,OAhEnBtH,EAmEnBygB,gBAAkB,WAChBzgB,EAAK0D,UAAUme,qBAAqB,IACpC7hB,EAAKrB,MAAM8hB,mBArEMzgB,EAwEnB6e,gBAAkB,SAACyC,EAAWha,GAC5BtH,EAAKrB,MAAMkgB,gBAAgByC,EAAWha,IAzErBtH,EA4EnBiiB,mBAAqB,WAAM,GACnB3a,GAAStH,EAAKrB,MAAd2I,KACF4a,EAAO,GACPlb,EAAO,EACX,IAAyB,QAArBM,EAAKS,OAAOf,KACdkb,EAAO/iB,EAAAlC,QAAA2D,cAAA,KAAGC,UAAU,kBACpBmG,EAAO,UACF,CACL,GAAI8B,GAAQxB,EAAKS,OAAOd,KAAKkb,YAAY,IACzC,KAAe,IAAXrZ,EACFoZ,EAAO/iB,EAAAlC,QAAA2D,cAAA,KAAGC,UAAU,gBACpBmG,EAAO,WACF,CACL,GAAIob,GAAS9a,EAAKS,OAAOd,KAAK2B,MAAME,GAAO5B,aAC5B,UAAXkb,GAAgC,SAAXA,GAAgC,UAAXA,GAAiC,SAAXA,GAAgC,SAAXA,GACvFF,EAAO/iB,EAAAlC,QAAA2D,cAAA,KAAGC,UAAU,iBACpBmG,EAAO,SAEW,QAAXob,GAA+B,cAAXA,GAC3BF,EAAO/iB,EAAAlC,QAAA2D,cAAA,KAAGC,UAAU,oBACpBmG,EAAO,SAGPkb,EAAO/iB,EAAAlC,QAAA2D,cAAA,KAAGC,UAAU,gBACpBmG,EAAO,SAIb,OAAQkb,OAAMlb,SAxGGhH,EA2GnBqiB,eAAiB,WAAM,GAAAC,GACOtiB,EAAKrB,MAA3B2I,EADegb,EACfhb,KAAMia,EADSe,EACTf,WACZ,OAAKja,GAAKib,cAIRpjB,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,WAAW+O,OAAQ2R,YAAaA,IAC5Cja,EAAKoW,SAAS9W,IAAI,SAAAC,GACjB,MACE1H,GAAAlC,QAAA2D,cAACghB,GACC7iB,IAAK8H,EAAKzC,KACVkD,KAAMT,EACN0a,YAAaA,EACb3C,eAAgB5e,EAAKrB,MAAMigB,eAC3B/V,YAAa7I,EAAKrB,MAAMkK,YACxBiD,eAAgB9L,EAAKrB,MAAMmN,eAC3B0U,cAAexgB,EAAKrB,MAAM6hB,cAC1BvW,YAAajK,EAAKrB,MAAMsL,YACxBE,eAAgBnK,EAAKrB,MAAMwL,eAC3BC,eAAgBpK,EAAKrB,MAAMyL,eAC3BmW,cAAevgB,EAAKrB,MAAM4hB,cAC1B1B,gBAAiB7e,EAAK6e,gBACtB4B,gBAAiBzgB,EAAKygB,gBACtBW,cAAephB,EAAKrB,MAAMyiB,cAC1BD,iBAAkBnhB,EAAKrB,MAAMwiB,iBAC7BF,mBAAoBjhB,EAAKrB,MAAMsiB,mBAC/B9B,gBAAiBnf,EAAKrB,MAAMwgB,gBAC5BW,eAAgB9f,EAAKrB,MAAMmhB,eAC3BG,WAAYjgB,EAAKrB,MAAMshB,WACvBJ,gBAAiB7f,EAAKrB,MAAMkhB,gBAC5BG,gBAAiBhgB,EAAKrB,MAAMqhB,qBA3B7B,IA5GThgB,EAAK4E,OACHkd,aAAa,EACbD,qBAAqB,EACrBG,gBAAgB,GALDhiB,EpBwNk5P,MAA52KtC,GAAUkkB,EAAa/hB,GAAq9GrB,EAAaojB,IAAe7iB,IAAI,SAASd,MAAM,WoBvE3kM,GAAAiS,GACqChQ,KAAKvB,MAA3CkK,EADCqH,EACDrH,YAAavB,EADZ4I,EACY5I,KAAMwE,EADlBoE,EACkBpE,eADlB0W,EAEctiB,KAAK+hB,qBAApBjb,EAFCwb,EAEDxb,KAAMkb,EAFLM,EAEKN,KACRO,EAAUviB,KAAK0E,MAAMkd,YAAc,yBAA2B,EAIlE,OAHIxa,GAAKlD,OAASyE,IAChB4Z,EAAU,yBAGVtjB,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,aACb1B,EAAAlC,QAAA2D,cAAA,OAAKoG,KAAMA,EAAMxF,MAAO8F,EAAKS,OAAOd,KAClC8I,aAAc7P,KAAK6P,aAAcE,aAAc/P,KAAK+P,aACpDpP,UAAA,+BAA0C4hB,EAA1C,KAAmE,MAAdnb,EAAKlD,KAAc,OAAQ,IAAhF,KAAsFlE,KAAK0E,MAAMod,eAAiB,iBAAmB,KACrI7iB,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,iBAAiB6hB,UAAU,OAAOC,YAAaziB,KAAKif,gBAAiBxd,QAASzB,KAAK+J,YAAa2Y,YAAa1iB,KAAK2f,gBAAiBgD,YAAa3iB,KAAK8f,gBAAiB8C,WAAY5iB,KAAK4f,eAAgBiD,OAAQ7iB,KAAK+f,YAAa3Y,EAAKS,OAAOd,MAC5P9H,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,aACH,QAATmG,KAAoBM,EAAKC,UAAcD,EAAKC,UAAYD,EAAKib,gBAC5DpjB,EAAAlC,QAAA2D,cAAA,KACEC,UAAA,0BAAoCyG,EAAKG,WAAa,gBAAkB,kBACxEub,YAAa,SAAAjU,GAAA,MAAKA,GAAExC,mBACpB5K,QAASzB,KAAK6hB,eAGlB5iB,EAAAlC,QAAA2D,cAAA,KAAGC,UAAU,kBAAkBqhB,IAEhCpW,GACC3M,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,eACVX,KAAKvB,MAAMigB,gBAAkB3Y,eAAe/F,KAAK0E,MAAMid,qBACxD1iB,EAAAlC,QAAA2D,cAAC8gB,EAAAzkB,SACCqK,KAAMpH,KAAKvB,MAAM2I,KACjBuX,gBAAiB3e,KAAK2e,gBACtB4B,gBAAiBvgB,KAAKugB,gBACtBF,cAAergB,KAAKvB,MAAM4hB,cAC1BY,iBAAkBjhB,KAAKvB,MAAMwiB,iBAC7BF,mBAAoB/gB,KAAKvB,MAAMsiB,uBAMxC3Z,EAAKG,YAAcvH,KAAKmiB,sBpBiC64PT,GoB1Nn5P/f,UAAMC,UA+LjC8f,GAAariB,UAAYA,EpB2Bg+P3C,EAAQK,QoBzBl/P2kB,GpB6BTqB,IACA,SAAUtmB,EAAQC,EAASC,GAEjC,YAC0yB,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAA/pDE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MqB3PriB8B,EAAArC,EAAA,GrB2P6lBsC,EAAQrC,EAAuBoC,GqB1P5nBE,EAAAvC,EAAA,GrB0P8qBwC,EAAYvC,EAAuBsC,GqBzPjtB8jB,EAAArmB,EAAA,GACAyC,EAAAzC,EAAA,GAEM0C,GACJ+H,KAAM7H,UAAUsI,OAAOpI,WACvBkf,gBAAiBpf,UAAUC,KAAKC,WAChC4gB,cAAe9gB,UAAUC,KAAKC,WAC9B8gB,gBAAiBhhB,UAAUC,KAAKC,WAChCwhB,iBAAkB1hB,UAAUC,KAC5BuhB,mBAAoBxhB,UAAUC,MAG1ByjB,ErB6Oi+D,SAAStjB,GqB3O9+D,QAAAsjB,GAAYxkB,GAAOzB,EAAAgD,KAAAijB,EAAA,IAAAnjB,GAAA1C,EAAA4C,MAAAijB,EAAA7kB,WAAAR,OAAA0C,eAAA2iB,IAAA3lB,KAAA0C,KACXvB,GADW,OAAAqB,GAwBnBojB,kBAAoB,SAACC,GACnB,GAAIC,GAAkB,EACtB,QAAOD,GACL,IAAK,aACHC,GAAkB,EAAAhkB,EAAAsM,SAAQ,aAC1B,MACF,KAAK,WACH0X,GAAkB,EAAAhkB,EAAAsM,SAAQ,WAC1B,MACF,KAAK,SACH0X,GAAkB,EAAAhkB,EAAAsM,SAAQ,SAC1B,MACF,KAAK,OACH0X,GAAkB,EAAAhkB,EAAAsM,SAAQ,OAC1B,MACF,KAAK,OACH0X,GAAkB,EAAAhkB,EAAAsM,SAAQ,OAC1B,MACF,KAAK,SACH0X,GAAkB,EAAAhkB,EAAAsM,SAAQ,SAC1B,MACF,KAAK,kBACH0X,GAAkB,EAAAhkB,EAAAsM,SAAQ,mBAK9B,MAAO0X,IAnDUtjB,EAsDnBujB,sBAAwB,SAACxU,GACvBA,EAAEzC,iBACFtM,EAAKwjB,oBAAoBzU,IAxDR/O,EA2DnBwjB,oBAAsB,SAACzU,GACrBA,EAAExC,kBACFvM,EAAK0D,UACF+f,gBAAiBzjB,EAAK4E,MAAM6e,gBAAkB,WACzCzjB,EAAK4E,MAAM6e,eACbzjB,EAAKrB,MAAM4hB,gBAEXvgB,EAAKrB,MAAM8hB,qBAlEAzgB,EAwEnB6e,gBAAkB,SAACpW,GACjB,GAAI6Y,GAAY7Y,EAAM/J,OAAOsQ,QAAQ0U,OACjCpc,EAAOtH,EAAKrB,MAAM2I,IACtBtH,GAAKrB,MAAMkgB,gBAAgByC,EAAWha,IAzEtCtH,EAAK4E,OACH6e,gBAAgB,EAChBE,aAJe3jB,ErB2O4iJ,MAA/jFtC,GAAUylB,EAAatjB,GAA80CrB,EAAa2kB,IAAepkB,IAAI,oBAAoBd,MAAM,WqBlO75G,GAAI0lB,GAAWzjB,KAAK0jB,kBACpB1jB,MAAKwD,UAAUigB,SAAUA,OrBiO6+G5kB,IAAI,mBAAmBd,MAAM,WqB9NlhH,GACXqJ,GAASpH,KAAKvB,MAAd2I,IAON,OALyB,QAArBA,EAAKS,OAAOf,MACF,aAAc,WAAY,OAAQ,OAAQ,SAAU,WAEpD,SAAU,SAAU,OAAQ,OAAQ,sBrBwN8uHjI,IAAI,SAASd,MAAM,WqB7J5yH,GAAA2P,GAAA1N,IAGP,OAFAA,MAAK0E,MAAM6e,eAAiBvjB,KAAKvB,MAAMsiB,qBAAuB/gB,KAAKvB,MAAMwiB,mBAGvEhiB,EAAAlC,QAAA2D,cAACsiB,EAAAW,UAASC,OAAQ5jB,KAAK0E,MAAM6e,eAAgBC,OAAQxjB,KAAKsjB,qBACxDrkB,EAAAlC,QAAA2D,cAACsiB,EAAAa,gBACCC,IAAI,IACJnjB,UAAU,oBACVW,OAAO,EAAAlC,EAAAsM,SAAQ,mBACfqY,cAAY,WACZC,gBAAehkB,KAAK0E,MAAM6e,eAC1B9hB,QAASzB,KAAKqjB,wBAEhBpkB,EAAAlC,QAAA2D,cAACsiB,EAAAiB,aAAD,KACGjkB,KAAK0E,MAAM+e,SAAS/c,IAAI,SAACyc,EAAUva,GAClC,MACE3J,GAAAlC,QAAA2D,cAACsiB,EAAAkB,cAAarlB,IAAK+J,EAAOmb,cAAaZ,EAAU1hB,QAASiM,EAAKiR,iBAAkBjR,EAAKwV,kBAAkBC,YrB6Ik9IF,GqB7O7iJthB,UAAMC,UAyGjCqhB,GAAa5jB,UAAYA,ErBoI0nJ3C,EAAQK,QqBlI5oJkmB,GrBsITkB,IACA,SAAU1nB,EAAQC,EAASC,GAEjC,YAC4xB,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAAjpDE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MsBnQriB8B,EAAArC,EAAA,GtBmQ6lBsC,EAAQrC,EAAuBoC,GsBlQ5nBE,EAAAvC,EAAA,GtBkQ8qBwC,EAAYvC,EAAuBsC,GsBjQjtBE,EAAAzC,EAAA,EAEAA,GAAA,IAEA,IAAM0C,IACJsf,gBAAiBpf,UAAUC,KAAKC,WAChC2H,KAAM7H,UAAUsI,OAChB+Y,cAAerhB,UAAUsI,OACzBsZ,eAAgB5hB,UAAUC,KAC1ByhB,iBAAiB1hB,UAAUC,KAC3BuhB,mBAAmBxhB,UAAUC,MAGzB4kB,EtBoP07D,SAASzkB,GsBlPv8D,QAAAykB,GAAY3lB,GAAOzB,EAAAgD,KAAAokB,EAAA,IAAAtkB,GAAA1C,EAAA4C,MAAAokB,EAAAhmB,WAAAR,OAAA0C,eAAA8jB,IAAA9mB,KAAA0C,KACXvB,GADW,OAAAqB,GAqCnBukB,sBAAwB,WACtB,GAAIzD,GAAgB9gB,EAAKrB,MAAMmiB,cAC3B0D,EAAgB5Z,SAASsW,cAAc,oBACvCuD,EAAsBD,EAAcE,YAEpC5D,GAAcE,QAAUyD,EAAsB7Z,SAAS+Z,KAAKC,aAC9DJ,EAAc5U,MAAMiV,IAAM/D,EAAcE,QAAUyD,EAAsB,KAExED,EAAc5U,MAAMiV,IAAM/D,EAAcE,QAAU,KAEpDwD,EAAc5U,MAAMkV,KAAOhE,EAAcC,QAAU,KAEnDnW,SAASmD,iBAAiB,QAAS/N,EAAK+kB,aACxCna,SAASmD,iBAAiB,YAAa/N,EAAKglB,oBAlD3BhlB,EAqDnBojB,kBAAoB,SAACC,GACnB,GAAIC,GAAkB,EACtB,QAAOD,GACL,IAAK,aACHC,GAAkB,EAAAhkB,EAAAsM,SAAQ,aAC1B,MACF,KAAK,WACH0X,GAAkB,EAAAhkB,EAAAsM,SAAQ,WAC1B,MACF,KAAK,SACH0X,GAAkB,EAAAhkB,EAAAsM,SAAQ,SAC1B,MACF,KAAK,OACH0X,GAAkB,EAAAhkB,EAAAsM,SAAQ,OAC1B,MACF,KAAK,OACH0X,GAAkB,EAAAhkB,EAAAsM,SAAQ,OAC1B,MACF,KAAK,SACH0X,GAAkB,EAAAhkB,EAAAsM,SAAQ,SAC1B,MACF,KAAK,kBACH0X,GAAkB,EAAAhkB,EAAAsM,SAAQ,mBAK9B,MAAO0X,IAhFUtjB,EAmFnBglB,kBAAoB,SAACjW,GACnB,GAAI+R,GAAgB9gB,EAAKrB,MAAMmiB,cAC3B0D,EAAgB5Z,SAASsW,cAAc,oBACvCuD,EAAsBD,EAAcE,aACpCO,EAAqBT,EAAcU,WAEnCpE,GAAcE,QAAUyD,EAAsB7Z,SAAS+Z,KAAKC,aACzD7V,EAAEgS,SAAWD,EAAcC,SAAahS,EAAEgS,SAAYD,EAAcC,QAAUkE,GAAyBlW,EAAEiS,SAAWF,EAAcE,SAAajS,EAAEiS,SAAYF,EAAcE,QAAUyD,EACxLzkB,EAAKrB,MAAMsiB,qBAEXjhB,EAAKrB,MAAMwiB,mBAGRpS,EAAEgS,SAAWD,EAAcC,SAAahS,EAAEgS,SAAYD,EAAcC,QAAUkE,GAAyBlW,EAAEiS,SAAWF,EAAcE,SAAajS,EAAEiS,SAAYF,EAAcE,QAAUyD,EACxLzkB,EAAKrB,MAAMsiB,qBAEXjhB,EAAKrB,MAAMwiB,oBAnGEnhB,EAwGnB+kB,YAAc,SAAChW,GACb,GAAI+R,GAAgB9gB,EAAKrB,MAAMmiB,cAC3B0D,EAAgB5Z,SAASsW,cAAc,oBACvCuD,EAAsBD,EAAcE,aACpCO,EAAqBT,EAAcU,aAElCnW,EAAEgS,SAAWD,EAAcC,SAAahS,EAAEgS,SAAYD,EAAcC,QAAUkE,IACjFjlB,EAAKrB,MAAM0iB,iBAGTP,EAAcE,QAAUyD,EAAsB7Z,SAAS+Z,KAAKC,cACzD7V,EAAEiS,SAAYF,EAAcE,QAAUyD,GAAyB1V,EAAEiS,SAAWF,EAAcE,UAC7FhhB,EAAKrB,MAAM0iB,kBAGRtS,EAAEiS,SAAWF,EAAcE,SAAajS,EAAEiS,SAAYF,EAAcE,QAAUyD,IACjFzkB,EAAKrB,MAAM0iB,kBAxHErhB,EA6HnB6e,gBAAkB,SAACpW,GACjB,GAAI6Y,GAAY7Y,EAAM/J,OAAOsQ,QAAQ0U,OACjCpc,EAAOtH,EAAKrB,MAAM2I,IACtBtH,GAAKrB,MAAMkgB,gBAAgByC,EAAWha,GACtCtH,EAAKrB,MAAM0iB,kBA/HXrhB,EAAK4E,OACH6e,gBAAgB,EAChBE,aAJe3jB,EtBkPyrM,MAAnvItC,GAAU4mB,EAAoBzkB,GAA0lGrB,EAAa8lB,IAAsBvlB,IAAI,oBAAoBd,MAAM,WsBzOhpK,GAAI0lB,GAAWzjB,KAAK0jB,kBACpB1jB,MAAKwD,UAAUigB,SAAUA,OtBwOguK5kB,IAAI,qBAAqBd,MAAM,WsBpOxxKiC,KAAKqkB,2BtBoOk1KxlB,IAAI,uBAAuBd,MAAM,WsBhOx3K2M,SAASqD,oBAAoB,QAAS/N,KAAK6kB,aAC3Cna,SAASqD,oBAAoB,YAAa/N,KAAK8kB,sBtB+Nq+KjmB,IAAI,mBAAmBd,MAAM,WsB5NhiL,GACXqJ,GAASpH,KAAKvB,MAAd2I,IAWN,OATKA,GAGsB,QAArBA,EAAKS,OAAOf,MACF,aAAc,WAAY,OAAQ,OAAQ,SAAU,WAEpD,SAAU,SAAU,OAAQ,OAAQ,oBALpC,aAAc,etBwNo0LjI,IAAI,SAASd,MAAM,WsB9G92L,GAAA2P,GAAA1N,IACP,OACEf,GAAAlC,QAAA2D,cAAA,OAAKC,UAAU,mBACZX,KAAK0E,MAAM+e,SAAS/c,IAAI,SAACyc,EAAUva,GAClC,MACE3J,GAAAlC,QAAA2D,cAAA,UAAQC,UAAU,kBAAkB9B,IAAK+J,EAAOmb,cAAaZ,EAAU1hB,QAASiM,EAAKiR,iBAAkBjR,EAAKwV,kBAAkBC,WtByG2kMiB,GsBpPnrMziB,UAAMC,UAmJxCwiB,GAAoB/kB,UAAYA,EtBiG8wM3C,EAAQK,QsB/FvyMqnB,GtBmGTa,IACA,SAAUxoB,EAAQC,KAMlBwoB,IACA,SAAUzoB,EAAQC,EAASC,GAEjC,YACm+B,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAAx1DE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MuBlRriB8B,EAAArC,EAAA,GvBkR6lBsC,EAAQrC,EAAuBoC,GuBjR5nBE,EAAAvC,EAAA,GvBiR8qBwC,EAAYvC,EAAuBsC,GuBhRjtB8M,EAAArP,EAAA,KvBgR8wBsP,EAAiBrP,EAAuBoP,GuB/QtzB5M,EAAAzC,EAAA,GACAoO,EAAApO,EAAA,IvB8Qs5BqO,EAAUpO,EAAuBmO,GuB7Qv7B1I,EAAA1F,EAAA,GAEM0C,GACJme,SAAUje,UAAUsI,OACpBuH,cAAe7P,UAAU8L,KAAK5L,WAC9ByO,gBAAiB3O,UAAU+L,OAAO7L,WAClC4G,kBAAmB9G,UAAU+L,OAAO7L,WACpCuG,aAAczG,UAAU+L,OAAO7L,WAC/BuI,YAAazI,UAAUC,KAAKC,WAC5B4P,OAAQ9P,UAAU8L,KAClB8Z,UAAW5lB,UAAU8L,MAKjB+Z,EvB8PoxE,SAASzlB,GuB5PjyE,QAAAylB,GAAY3mB,GAAOzB,EAAAgD,KAAAolB,EAAA,IAAAtlB,GAAA1C,EAAA4C,MAAAolB,EAAAhnB,WAAAR,OAAA0C,eAAA8kB,IAAA9nB,KAAA0C,KACXvB,GADW,OAAAqB,GAwCnB0N,kBAAoB,SAAC6X,GACnBvlB,EAAKwlB,WAAaD,EAAeC,YAzChBxlB,EA4CnBkI,YAAc,SAACO,GACbA,EAAM6D,iBACN7D,EAAM8D,iBACN,IAAIpE,GAAO,EACX,IAA6B,MAAzBM,EAAM/J,OAAO8N,QAAiB,CAEhC,IADA,GAAI9N,GAAS+J,EAAM/J,OAAO8I,WACA,MAAnB9I,EAAO8N,SACZ9N,EAASA,EAAO8I,UAElBW,GAAOzJ,EAAOoC,SAEdqH,GAAOM,EAAM/J,OAAOoC,IAEtBd,GAAKrB,MAAMuJ,YAAYC,IAzDNnI,EA4DnBylB,gBAAkB,WAChB,GAAMC,GAAmB1lB,EAAK2lB,kBAAkBC,QAAQC,UAAY,IAChEC,EAAe9lB,EAAKwlB,WAAW3mB,OAC/BknB,QACJ,IAAIL,GAAoB1lB,EAAKwlB,WAAW,GAGtC,MAFAO,GAAmB,MACnB/lB,GAAK0D,UAAUqiB,iBAAkBA,GAGnC,IAAIL,EAAmB1lB,EAAKwlB,WAAWM,EAAe,GAGpD,MAFAC,GAAmB/lB,EAAKwlB,WAAW3mB,OAAS,MAC5CmB,GAAK0D,UAAUqiB,iBAAkBA,GAGnC,KAAK,GAAInnB,GAAI,EAAGA,EAAIknB,EAAclnB,IAChC,KAAI8mB,EAAmB1lB,EAAKwlB,WAAW5mB,IAAvC,CAGEmnB,EAAmBnnB,EAAI,CACvB,OAGJoB,EAAK0D,UAAUqiB,iBAAkBA,KAlFhB/lB,EAqFnByM,iBAAmB,SAAC5F,GAClB,GAAmB,UAAfA,EAAKkB,OAAoB,CAC3B,GAAI5D,SAGJ,IAAiB,SAAb0C,EAAKG,MAAmB0F,eAAc,CACxCvI,EAAM0C,EAAK9B,KAAK9D,GAGhB,KAFW,GAAI0L,QAAOC,aAAa,QAAU7C,SAAQ,gBAE7C8C,KAAK1I,GACX,MAGF,IAAI2E,GAAQ3E,EAAI2I,QAAQ,SACpBC,EAAS5I,EAAI2I,QAAQ,KACnBE,EAAY7I,EAAI8I,UAAUnE,EAAQ,EAAGiE,EAE3ClG,GAAK9B,KAAK9D,IAAM2L,aAAa,qCAAuC/I,OAAO,SAAWmJ,MAGnF,IAAiB,QAAbnG,EAAKG,KAGZ,GAFA7C,EAAM0C,EAAK9B,KAAKjE,KAEZgD,QAAMoJ,uBAAuB/I,EAAK4F,UAAS,CAC7C,GAAI3F,GAAON,QAAMqJ,gCAAgChJ,EAAK4F,SAEtDlD,GAAK9B,KAAKjE,KAAO8L,aAAa,UAAY/I,OAAOO,MAG9C,IAAIN,QAAMsJ,kBAAkBjJ,EAAK4F,UAAS,CAC7C,GAAI3F,GAAON,QAAMuJ,2BAA2BlJ,EAAK4F,SAEjDlD,GAAK9B,KAAKjE,KAAO8L,aAAa,UAAY/I,OAAOO,GAKvD,MAAOyC,IA1HU7G,EA6HnBsN,wBAA0B,SAACrP,GACzB,GAAIsP,GAAQtP,EAAM2M,SAAS2C,MACvBC,EAAW1J,QAAM2J,oBAAoBF,EAAOvN,EAAKyM,iBAErD,OADAxO,GAAM2M,SAAS2C,MAAQC,EAChBvP,GAjIU+B,EAoInBgmB,eAAiB,WACf,GAAIX,IAAY,CAIhB,QAH6B,IAAzBrlB,EAAKrB,MAAM0mB,YACbA,GAAY,GAEVrlB,EAAKrB,MAAM4Q,OAEXpQ,EAAAlC,QAAA2D,cAACuL,EAAAlP,SACCgpB,QAASZ,EACTjX,gBAAiBpO,EAAKrB,MAAMyP,gBAC5B2X,iBAAkB/lB,EAAK4E,MAAMmhB,iBAC7BrY,kBAAmB1N,EAAK0N,kBACxBJ,wBAAyBtN,EAAKsN,0BAMlCnO,EAAAlC,QAAA2D,cAACuL,EAAAlP,SACCgpB,QAASZ,EACTjX,gBAAiBpO,EAAKrB,MAAMyP,gBAC5B2X,iBAAkB/lB,EAAK4E,MAAMmhB,iBAC7BrY,kBAAmB1N,EAAK0N,qBAxJ5B1N,EAAK4E,OACHmhB,iBAAkB,GAEpB/lB,EAAK2lB,kBAAoB9jB,UAAMqkB,YAC/BlmB,EAAK2N,SACL3N,EAAKwlB,cAPYxlB,EvBwQ8pB,MAZkoDtC,GAAU4nB,EAAmBzlB,GAQ50CrB,EAAa8mB,IAAqBvmB,IAAI,oBAAoBd,MAAM,WuB1PhjC,GAAA2P,GAAA1N,IAElBA,MAAKyN,MAAQ/C,SAASiD,iBAAT,wBACb3N,KAAKyN,MAAMG,QAAQ,SAAA3F,GACjBA,EAAK4F,iBAAiB,QAASH,EAAK1F,kBvBuP6GnJ,IAAI,4BAA4Bd,MAAM,WuBnP/J,GAAA+P,GAAA9N,IAE1BA,MAAKyN,MAAMG,QAAQ,SAAA3F,GACjBA,EAAK8F,oBAAoB,QAASD,EAAK9F,kBvBiPiDnJ,IAAI,qBAAqBd,MAAM,WuB7OtG,GAAAiQ,GAAAhO,IAEnBA,MAAKyN,MAAQ/C,SAASiD,iBAAT,wBACb3N,KAAKyN,MAAMG,QAAQ,SAAA3F,GACjBA,EAAK4F,iBAAiB,QAASG,EAAKhG,kBvB0O6GnJ,IAAI,uBAAuBd,MAAM,WuBtO/J,GAAAkQ,GAAAjO,IAErBA,MAAKyN,MAAMG,QAAQ,SAAA3F,GACjBA,EAAK8F,oBAAoB,QAASE,EAAKjG,kBvBoOiDnJ,IAAI,SAASd,MAAM,WuBxG7G,MAAIiC,MAAKvB,MAAM2Q,cACNnQ,EAAAlC,QAAA2D,cAACsK,EAAAjO,QAAD,MAGPkC,EAAAlC,QAAA2D,cAAA,OAAKulB,IAAKjmB,KAAKylB,kBAAmB9kB,UAAU,sBAAsBulB,SAAUlmB,KAAKulB,gBAAgBY,KAAKnmB,OACpGf,EAAAlC,QAAA2D,cAAA,OAAKC,UAzKQ,qBA0KVX,KAAKvB,MAAM+e,SACXxd,KAAK8lB,iBACN7mB,EAAAlC,QAAA2D,cAAA,KAAGI,GAAG,4BAA2B,EAAA1B,EAAAsM,SAAQ,oBAAzC,IAA+D1L,KAAKvB,MAAM4H,kBAA1E,KAA8FpH,EAAAlC,QAAA2D,cAAA,YAAOV,KAAKvB,MAAMuH,qBvBgGgkBof,GuB1QzpBzjB,UAAMC,WAiLjCwkB,GACJ/W,QAAQ,EAGV+V,GAAmB/lB,UAAYA,EAC/BgnB,UAAeD,aAAeA,EvBoFs0B1pB,EAAQK,QuBlF71BqoB,GvBsFTkB,EACA,SAAU7pB,EAAQC,EAASC,GAEjC,YACAiB,QAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GwBtSrC2H,WAAU,IACVgG,UAAU5H,OAAO4H,QAEjB7K,WAAWiD,OAAOyiB,IAAIC,OAAO3lB,SAC7B4lB,WAAW3iB,OAAOyiB,IAAIC,OAAOC,SAC7BC,aAAa5iB,OAAOyiB,IAAIC,OAAOE,WAC/BzlB,WAAY6C,OAAOyiB,IAAIC,OAAOvlB,SAC9BD,WAAW8C,OAAOyiB,IAAIC,OAAOxlB,SAC7BO,YAAYuC,OAAOyiB,IAAIC,OAAOjlB,UAC9BolB,WAAW7iB,OAAOyiB,IAAIC,OAAOG,SAC7BtlB,YAAYyC,OAAOyiB,IAAIC,OAAOnlB,UAC9BF,aAAa2C,OAAOyiB,IAAIC,OAAOrlB,WAC/BylB,QAAoC,SAA5B9iB,OAAOyiB,IAAIC,OAAOI,MAC1BC,SAAsC,SAA7B/iB,OAAOyiB,IAAIC,OAAOK,OAC3BC,OAAOhjB,OAAOyiB,IAAIC,OAAOM,KACzBC,iBAAiBjjB,OAAOyiB,IAAIC,OAAOO,eACnCC,iBAAiBljB,OAAOyiB,IAAIC,OAAOQ,eACnCta,aAAa5I,OAAOyiB,IAAIC,OAAO9Z,WAG/Bua,sBAAsBnjB,OAAOyiB,IAAIW,YAAYD,oBAC7ClgB,OAAOjD,OAAOyiB,IAAIW,YAAYngB,KAC9BogB,eAAerjB,OAAOyiB,IAAIW,YAAYC,aACtCrb,WAAWhI,OAAOyiB,IAAIW,YAAYpb,SAClCsb,aAAatjB,OAAOyiB,IAAIW,YAAYE,WACpCC,uBAAuBvjB,OAAOyiB,IAAIW,YAAYG,qBAC9CC,0BAAwBxjB,OAAOyiB,IAAIW,YAAYI,sBAC/CC,aAAmD,SAAtCzjB,OAAOyiB,IAAIW,YAAYK,WACpCC,qBAAmB1jB,OAAOyiB,IAAIW,YAAYM,iBAC1CC,sBAAoB3jB,OAAOyiB,IAAIW,YAAYO,kBAC3CC,oBAAiE,SAA7C5jB,OAAOyiB,IAAIW,YAAYQ,kBAC3CC,mCAA+F,SAA5D7jB,OAAOyiB,IAAIW,YAAYS,iCAC1DC,oBAAiE,SAA7C9jB,OAAOyiB,IAAIW,YAAYU,kBAC3CC,qBAAmE,SAA9C/jB,OAAOyiB,IAAIW,YAAYW,mBAC5CC,4BAAiF,SAArDhkB,OAAOyiB,IAAIW,YAAYY,0BACnDC,WAAWjkB,OAAOyiB,IAAIW,YAAYa,SAClCC,0BAA0BlkB,OAAOyiB,IAAIW,YAAYc,wBACjDC,yBAAyBnkB,OAAOyiB,IAAIW,YAAYe,uBAChDC,yBAAyBpkB,OAAOyiB,IAAIW,YAAYgB,uBAChDC,cAAcrkB,OAAOyiB,IAAIW,YAAYiB,YACrCC,aAAatkB,OAAOyiB,IAAIW,YAAYkB,WACpCC,yBAAyBvkB,OAAOyiB,IAAIW,YAAYmB,uBAChDC,2BAA2BxkB,OAAOyiB,IAAIW,YAAYoB,yBAClDC,gBAAgBzkB,OAAOyiB,IAAIW,YAAYqB,cACvCC,2BAA2B1kB,OAAOyiB,IAAIW,YAAYsB,yBAClDC,wBAAwB3kB,OAAOyiB,IAAIW,YAAYuB,sBAE/CC,aAAa5kB,OAAOyiB,IAAIW,YAAYwB,WACpCC,YAAY7kB,OAAOyiB,IAAIW,YAAYyB,UAGnChlB,OAAOG,OAAO8kB,KAAO9kB,OAAO8kB,KAAKpC,OAAO7iB,KAAO,GAC/CkG,SAAS/F,OAAO8kB,KAAO9kB,OAAO8kB,KAAKpC,OAAOqC,OAAS,GACnDzlB,cAAcU,OAAO8kB,KAAO9kB,OAAO8kB,KAAKpC,OAAOsC,aAAe,GAC9D/iB,aAAajC,OAAO8kB,KAAyC,SAAlC9kB,OAAO8kB,KAAKpC,OAAOzgB,WAAwB,GACtEzC,QAAQQ,OAAO8kB,KAAO9kB,OAAO8kB,KAAKpC,OAAOljB,MAAQ,GACjDylB,aAAajlB,OAAO8kB,KAAO9kB,OAAO8kB,KAAKpC,OAAOuC,WAAa,GAC3Dvc,eAAe1I,OAAO8kB,KAA2C,SAApC9kB,OAAO8kB,KAAKpC,OAAOha,aAAyB,GAGzEwc,WAAW,GACXC,gBAAgBnlB,OAAOolB,YAAcplB,OAAOolB,YAAYhC,YAAYrd,OAAS,GAC7E8N,WAAW7T,OAAOolB,YAAcplB,OAAOolB,YAAYhC,YAAYvP,SAAW,GAC1E/R,WAAW9B,OAAOolB,YAAcplB,OAAOolB,YAAYhC,YAAYthB,SAAW,GAC1EuS,WAAWrU,OAAOolB,YAAcplB,OAAOolB,YAAYhC,YAAY/O,SAAW,GAG1EgR,gBAAgBrlB,OAAOslB,MAAQtlB,OAAOslB,MAAM5C,OAAO2C,cAAe,GAClEE,sBAAsBvlB,OAAOslB,MAAQtlB,OAAOslB,MAAM5C,OAAO6C,oBAAqB,GAC9EC,gBAAgBxlB,OAAOslB,MAAQtlB,OAAOslB,MAAM5C,OAAO8C,cAAe,GAClEC,UAAUzlB,OAAOslB,MAAQtlB,OAAOslB,MAAM5C,OAAO+C,QAAU,GACvDC,cAAc1lB,OAAOslB,MAAQtlB,OAAOslB,MAAM5C,OAAOgD,YAAc,GAC/D1Q,SAAShV,OAAOslB,MAAQtlB,OAAOslB,MAAM5C,OAAO1N,OAAS,GACrD2Q,eAAe3lB,OAAOslB,MAAQtlB,OAAOslB,MAAM5C,OAAOiD,aAAe,GACjEC,mBAAmB5lB,OAAOslB,MAAQtlB,OAAOslB,MAAM5C,OAAOkD,iBAAmB,GACzEC,kBAAkB7lB,OAAOslB,MAAQtlB,OAAOslB,MAAM5C,OAAOmD,gBAAkB,GACvEC,cAAc9lB,OAAOslB,MAAQtlB,OAAOslB,MAAM5C,OAAOoD,YAAc,GAC/DC,sBAAsB/lB,OAAOslB,MAAQtlB,OAAOslB,MAAM5C,OAAOqD,oBAAsB,GAC/EC,oBAAoBhmB,OAAOslB,MAAQtlB,OAAOslB,MAAM5C,OAAOsD,kBAAoB,GAG3EC,QAAQjmB,OAAOkmB,IAAMlmB,OAAOkmB,IAAI9C,YAAY6C,MAAQ,GACpDE,iBAAiBnmB,OAAOkmB,IAAMlmB,OAAOkmB,IAAI9C,YAAY+C,eAAiB,GACtEC,wBAAwBpmB,OAAOkmB,IAAMlmB,OAAOkmB,IAAI9C,YAAYgD,sBAAwB,GAGpFC,mBAAmBrmB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAYmD,kBAAoB,GACrFC,eAAexmB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAYqD,cAAgB,GAC7EC,mBAAmB1mB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAYuD,kBAAoB,GACrFC,uBAAuB5mB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAYyD,uBAAyB,GAC9FC,wBAAwB9mB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAY2D,wBAA0B,GAChGC,2BAA2BhnB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAY6D,4BAA8B,GACvGC,iBAAiBlnB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAY+D,iBAAmB,GAClFC,iBAAiBpnB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAYiE,iBAAmB,GAClFC,oBAAoBtnB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAYmE,kBAAkBC,qBAAuB,GAC3GC,mBAAmBznB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAYmE,kBAAkBG,mBAAqB,GACxGC,kBAAkB3nB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAYmE,kBAAkBK,kBAAoB,GACtGC,mBAAmB7nB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAYmE,kBAAkBO,mBAAqB,GACxGC,gBAAgB/nB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAYmE,kBAAkBS,gBAAkB,GAClGC,iBAAiBjoB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAYmE,kBAAkBW,iBAAmB,GACpGC,iBAAiBnoB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAYmE,kBAAkBa,kBAAoB,GACrGC,kBAAkBroB,OAAOsmB,SAAWtmB,OAAOsmB,SAASlD,YAAYmE,kBAAkBe,mBAAqB,IxB4M9GC,GACA,SAAU5vB,EAAQC,EAASC,GAEjC,YACooB,SAASK,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAA9uBS,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,MyBrTriBkC,EAAAzC,EAAA,GACA2F,EAAA3F,EAAA,GAEM2vB,EzBkTmyB,WAAW,QAASA,KAAkBtvB,EAAgBgD,KAAKssB,GACqc,MADnbhuB,GAAaguB,IAAkBztB,IAAI,WAAWd,MAAM,WyB/St6B,MAAOsG,cAAWC,YAAYX,OAAM,KAAKY,KAAK,SAAA4O,GAY5C,MAXcA,GAAMtO,KAAK0nB,cAAc7lB,IAAI,SAAAC,GACzC,OACEI,KAAMJ,EAAKI,KACXD,KAAoB,QAAdH,EAAKG,KAAiB,MAAQ,OACpCS,WAA0B,QAAdZ,EAAKG,KACjB0lB,YAAa7lB,EAAKmB,WAClB2kB,iBAAkB9lB,EAAK8lB,iBACvB1mB,WAAYY,EAAKZ,WACjBoK,KAAMxJ,EAAKwJ,azBsS0xCtR,IAAI,cAAcd,MAAM,WyB9Rn0C,MAAOsG,cAAWqoB,QAAQ7iB,SAAQ,KAAK8iB,WAAW,IAAOpoB,KAAK,SAAA4O,GAa5D,MAZcA,GAAMtO,KAAKC,YAAY4B,IAAI,SAAAC,GACvC,OACEI,KAAMJ,EAAKI,KACXD,KAAoB,QAAdH,EAAKG,KAAiB,MAAQ,OACpCS,WAA0B,QAAdZ,EAAKG,KACjB0lB,YAAa7lB,EAAKmB,WAClB2kB,iBAAkB9lB,EAAKuT,MACvBnU,WAAYY,EAAKZ,WACjBoK,KAAMxJ,EAAKwJ,azBqR4rDtR,IAAI,aAAad,MAAM,SyB7Q3tD6H,EAAUgnB,GACnB,MAAOvoB,cAAWwoB,WAAWhjB,SAAQjE,EAAUgnB,MzB4Q4yD/tB,IAAI,aAAad,MAAM,SyBzQz2D6H,GACT,MAAOvB,cAAWyoB,WAAWjjB,SAAQjE,MzBwQo7D/G,IAAI,aAAad,MAAM,SyBrQv+D6H,EAAUmnB,GACnB,MAAO1oB,cAAW2oB,WAAWnjB,SAAQjE,EAAUmnB,MzBoQgkEluB,IAAI,YAAYd,MAAM,SyBjQ7nE2H,GACR,MAAOrB,cAAW4oB,UAAUpjB,SAAQnE,MzBgQosE7G,IAAI,YAAYd,MAAM,SyB7PtvE2H,GACR,MAAOrB,cAAW6oB,UAAUrjB,SAAQnE,MzB4P6zE7G,IAAI,YAAYd,MAAM,SyBzP/2E2H,EAASynB,GACjB,MAAO9oB,cAAW+oB,UAAUvjB,SAAQnE,EAASynB,MzBwPm8EtuB,IAAI,qBAAqBd,MAAM,SyBrP9/E4F,EAAMiC,GACvB,MAAOvB,cAAWc,mBAAmBxB,EAAMiC,MzBoPmlF/G,IAAI,YAAYd,MAAM,WyBhPppF,MAAOsG,cAAWwO,ezBgPqsFhU,IAAI,cAAcd,MAAM,SyB7OruF8T,EAAUmB,GACpB,MAAO3O,cAAW4O,YAAYpB,EAAUmB,MzB4OwzFnU,IAAI,iBAAiBd,MAAM,WyBxO33F,MAAOsG,cAAWgpB,oBzByOnBxuB,IAAI,sBAAsBd,MAAM,SyBrOb6H,GAClB,MAAOvB,cAAWipB,oBAAoBrE,gBAAerjB,MzBoO0G/G,IAAI,iBAAiBd,MAAM,SyBjO7K6H,GACb,MAAOvB,cAAWkpB,eAAe3nB,MzBgOsP/G,IAAI,yBAAyBd,MAAM,SyB7NrS6H,EAAU4nB,EAAMC,GACrC,MAAOppB,cAAWqpB,uBAAuBzE,gBAAerjB,EAAU4nB,EAAMC,MzB4NoZ5uB,IAAI,aAAad,MAAM,SyBzN1e6H,EAAU+nB,GACnB,MAAOtpB,cAAWupB,WAAW3E,gBAAerjB,EAAU+nB,MzBwN6jB9uB,IAAI,aAAad,MAAM,WyBpN1oB,MAAOsG,cAAWwpB,gBzBoN6rBhvB,IAAI,cAAcd,MAAM,SyBjN7tB+C,GACV,MAAOuD,cAAWypB,YAAYhtB,MzBgNoxBjC,IAAI,eAAed,MAAM,SyB7Mh0B+C,GACX,MAAOuD,cAAW0pB,aAAajtB,MzB4My3BjC,IAAI,cAAcd,MAAM,SyBzMt6B+J,EAAYkmB,GACtB,MAAO3pB,cAAW4pB,YAAYpkB,SAAQ/B,EAAYkmB,MzBwM2/BnvB,IAAI,mBAAmBd,MAAM,SyBrM3jCmwB,GACf,MAAO7pB,cAAW8pB,iBAAiBD,MzBoM0oCrvB,IAAI,gBAAgBd,MAAM,SyBjM3rCmwB,GACZ,MAAO7pB,cAAW+pB,cAAcF,OzBgM4wC5B,KyB5L1yC1Z,EAAkB,GAAI0Z,EzB4Lk1C5vB,GAAQK,QyB1Lv2C6V,GzB8LTyb,GACA,SAAU5xB,EAAQC,EAASC,GAEjC,YACyD,SAASK,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAnKS,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAwJ,I0B9TpMgd,GACJ,QAAAA,GAAYlT,GAAQ7K,EAAAgD,KAAA+a,GAClB/a,KAAKc,GAAK+G,EAAOymB,YACjBtuB,KAAKuuB,YAAc1mB,EAAO0mB,YAC1BvuB,KAAK+G,KAAOc,EAAO2mB,SACnBxuB,KAAKyuB,MAAQ5mB,EAAO6mB,U1ByT4WhyB,GAAQK,Q0BrT7Xge,G1ByTT4T,GACA,SAAUlyB,EAAQC,EAASC,GAEjC,YACo+B,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAAz1DE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,M2BtUriB8B,EAAArC,EAAA,G3BsU6lBsC,EAAQrC,EAAuBoC,G2BrU5nBE,EAAAvC,EAAA,G3BqU8qBwC,EAAYvC,EAAuBsC,G2BpUjtB+C,EAAAtF,EAAA,G3BoUswBuF,EAAWtF,EAAuBqF,G2BnUxyBI,EAAA1F,EAAA,GACA+T,EAAA/T,EAAA,I3BkUq4BgU,EAAiB/T,EAAuB8T,G2BjU76BtR,EAAAzC,EAAA,GAEM0C,GACJuvB,aAAcrvB,UAAU8L,MAGpBwjB,E3B2Ti6D,SAAS3rB,G2B1T96D,QAAA2rB,GAAYpwB,GAAOzB,EAAAgD,KAAA6uB,EAAA,IAAA/uB,GAAA1C,EAAA4C,MAAA6uB,EAAAzwB,WAAAR,OAAA0C,eAAAuuB,IAAAvxB,KAAA0C,KACXvB,GADW,OAAAqB,GAuBnBgvB,aAAe,WACb,MAAOtkB,WAASukB,YAATjvB,IAxBUA,EA2BnBkvB,YAAc,WACRlvB,EAAK4E,MAAMuqB,SACbnvB,EAAKovB,YAELpvB,EAAKqvB,gBA/BUrvB,EAmCnBovB,UAAY,YACT,QAAS,aAAc,SAASthB,QAAQ,SAAArF,GAAA,MACvCmC,UAASmD,iBAAiBtF,EAAOzI,EAAKsvB,qBAAqB,MArC5CtvB,EAyCnBqvB,aAAe,YACZ,QAAS,aAAc,SAASvhB,QAAQ,SAAArF,GAAA,MACvCmC,UAASqD,oBAAoBxF,EAAOzI,EAAKsvB,qBAAqB,MA3C/CtvB,EA+CnBsvB,oBAAsB,SAACvgB,GACrB,IAAIA,GAAkB,IAAZA,EAAEwgB,QAA2B,UAAXxgB,EAAE/H,MAAoB+H,EAAEwgB,QAAUzrB,QAAM0rB,SAASC,KAA7E,CACA,GAAMC,GAAY1vB,EAAKgvB,iBAEnBU,EAAUC,SAAS5gB,EAAErQ,SAAWgxB,IAAc3gB,EAAErQ,QAAsB,UAAXqQ,EAAE/H,MAAoB+H,EAAEwgB,QAAUzrB,QAAM0rB,SAASC,MAIhHzvB,EAAK0D,UACHyrB,UAAWnvB,EAAK4E,MAAMuqB,aAxDPnvB,EA4DnB4vB,eAAiB,WACf5vB,EAAK0D,UACHyrB,UAAWnvB,EAAK4E,MAAMuqB,YA9DPnvB,EAkEnButB,eAAiB,WACfza,UAAgBya,iBAAiB9oB,KAAK,SAAAorB,GACpC7vB,EAAK0D,UACHosB,SAAUD,EAAK9qB,KAAKkC,KACpBogB,aAAcwI,EAAK9qB,KAAKgrB,MACxBC,UAAWH,EAAK9qB,KAAKkrB,YACrBC,WAAYpsB,QAAMyW,YAAYsV,EAAK9qB,KAAKorB,OACxCC,WAAYtsB,QAAMyW,YAAYsV,EAAK9qB,KAAKqO,OACxCid,QAASR,EAAK9qB,KAAKurB,SACnBC,WAAuC,IAA3BV,EAAK9qB,KAAKyrB,aACtBC,UAAWZ,EAAK9qB,KAAK6R,gBA5ER5W,EAiFnB0wB,WAAa,WAGX,OAFkB1wB,EAAK4E,MAAMyrB,SAAWrwB,EAAK4E,MAAM2rB,aAEhCvwB,EAAKrB,MAAMmwB,aAE1B3vB,EAAAlC,QAAA2D,cAAA,KAAGE,KAAMC,WAAUS,OAAO,EAAAlC,EAAAsM,SAAQ,oBAAqB/K,UAAU,SAAQ,EAAAvB,EAAAsM,SAAQ,qBAIjF5L,EAAK4E,MAAMyrB,QAEXlxB,EAAAlC,QAAA2D,cAAA,KAAGE,KAAMC,WAAW,iBAAkBS,OAAO,EAAAlC,EAAAsM,SAAQ,gBAAiB/K,UAAU,SAAQ,EAAAvB,EAAAsM,SAAQ,iBAIhG5L,EAAK4E,MAAM2rB,WAEXpxB,EAAAlC,QAAA2D,cAAA,KAAGE,KAAMC,WAAW,iBAAkBS,OAAO,EAAAlC,EAAAsM,SAAQ,sBAAuB/K,UAAU,SAAQ,EAAAvB,EAAAsM,SAAQ,2BAF1G,IAhGiB5L,EAuGnB2wB,aAAe,WACb,MAAI3wB,GAAK4E,MAAM6rB,UAEXtxB,EAAAlC,QAAA2D,cAAA,OAAKK,IAAKjB,EAAK4E,MAAM6rB,UAAWnvB,MAAM,KAAKF,OAAO,KAAKP,UAAU,SAASa,KAAK,EAAApC,EAAAsM,SAAQ,YAIzFzM,EAAAlC,QAAA2D,cAAA,OAAKK,IAAI,GAAGK,MAAM,KAAKF,OAAO,KAAKP,UAAU,SAASa,KAAK,EAAApC,EAAAsM,SAAQ,aA5GrE5L,EAAK4E,OACHuqB,UAAU,EACVW,SAAU,GACVzI,aAAc,GACd6I,WAAY,GACZE,WAAY,GACZC,SAAS,EACTE,YAAY,EACZP,UAAW,GACXS,UAAW,IAXIzwB,E3B0TkpN,MAA3uJtC,GAAUqxB,EAAQ3rB,GAA+rF5E,EAAauwB,IAAUhwB,IAAI,oBAAoBd,MAAM,W2B1S9rJiC,KAAKqtB,oB3B0SgvJxuB,IAAI,qBAAqBd,MAAM,S2BvSnwJ2yB,GACjB1wB,KAAKgvB,iB3BsS60JnwB,IAAI,SAASd,MAAM,W2BvMr2J,MACEkB,GAAAlC,QAAA2D,cAAA,OAAKI,GAAG,WACN7B,EAAAlC,QAAA2D,cAAA,KAAGI,GAAG,UAAUW,QAASzB,KAAK0vB,eAAgB/uB,UAAU,2CAA2Ce,aAAW,yBAC5GzC,EAAAlC,QAAA2D,cAAA,YAAMzB,EAAAlC,QAAA2D,cAAA,OAAKK,IAAKf,KAAK0E,MAAM6rB,UAAWnvB,MAAM,KAAKF,OAAO,KAAKP,UAAU,SAASa,KAAK,EAAApC,EAAAsM,SAAQ,aAC7FzM,EAAAlC,QAAA2D,cAAA,QAAMC,UAAU,2BAElB1B,EAAAlC,QAAA2D,cAAA,QAAMC,UAAU,qDAAqDe,aAAW,wBAAwBD,QAASzB,KAAK0vB,iBACtHzwB,EAAAlC,QAAA2D,cAAA,OAAKI,GAAG,kBAAkBH,UAAA,6BAAuCX,KAAK0E,MAAMuqB,SAAU,GAAG,SACvFhwB,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,8BACb1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,iBAEjB1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,kBACb1B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,iBACZX,KAAKywB,eACNxxB,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,OAAOX,KAAK0E,MAAMkrB,WAEnC3wB,EAAAlC,QAAA2D,cAAA,OAAKI,GAAG,iBACN7B,EAAAlC,QAAA2D,cAAA,OAAKC,UAAU,QACb1B,EAAAlC,QAAA2D,cAAA,UAAI,EAAAtB,EAAAsM,SAAQ,SAAU,IAAK1L,KAAK0E,MAAMsrB,WAAtC,MAAqDhwB,KAAK0E,MAAMwrB,YAChEjxB,EAAAlC,QAAA2D,cAAA,OAAKI,GAAG,aAAY7B,EAAAlC,QAAA2D,cAAA,QAAMI,GAAG,cAAcH,UAAU,QAAQ+O,OAAQtO,MAAOpB,KAAK0E,MAAMorB,gBAG3F7wB,EAAAlC,QAAA2D,cAAA,KAAGE,KAAMC,WAAW,WAAYF,UAAU,SAAQ,EAAAvB,EAAAsM,SAAQ,aACzD1L,KAAKwwB,aACNvxB,EAAAlC,QAAA2D,cAAA,KAAGE,KAAMC,WAAW,mBAAoBF,UAAU,SAAQ,EAAAvB,EAAAsM,SAAQ,mB3B+KgmNmjB,G2B3TxpNjtB,YAoJtBitB,GAAQzI,cACNwI,cAAc,GAGhBC,EAAQxvB,UAAYA,E3BmK4vN3C,EAAQK,Q2BjKzwN8xB,G3BqKT8B,IACA,SAAUl0B,EAAQC,KAMlBk0B,IACA,SAAUn0B,EAAQC,KAMlBm0B,EACA,SAAUp0B,EAAQC,EAASC,GAEjC,YACAiB,QAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,IAAOrB,EAAQ2H,eAAWkX,E4B5V5E,IAAAuV,GAAAn0B,EAAA,I5B4VoIo0B,EAAkI,SAAgCl0B,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,IAAzKi0B,G4B3V1KE,EAAAr0B,EAAA,IACAyC,EAAAzC,EAAA,GAEI0H,EAAa,GAAI4sB,cACjBC,EAAeC,UAAOC,KAAK,cAC/B/sB,GAAWgtB,oBAAqBxwB,oBAAUqwB,iB5BsV8ex0B,E4BpV/gB2H,c5BwVHitB,EACA,SAAU70B,EAAQC,EAASC,GAEjC,YACAiB,QAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,IAAOrB,EAAQkH,UAAM2X,E6BpWvE,IAAAnc,GAAAzC,EAAA,GACA40B,EAAA50B,EAAA,IAEaiH,WAEX0rB,UACEkC,IAAO,GACPC,MAAO,GACPlC,IAAO,EACPmC,GAAO,GACPC,KAAO,IAGTtX,YAAa,SAASuX,GACpB,GAAqB,mBAAVA,GAAuB,MAAO,GAEzC,IAAGA,EAAQ,EAAG,MAAO,IACrB,IAAMC,IAAS,QAAS,KAAM,KAAM,KAAM,KAAM,KAEhD,IAAc,IAAVD,EAAa,MAAOA,GAAQ,IAAMC,EAAM,EAE5C,IAAMnzB,GAAIozB,SAASC,KAAKC,MAAMD,KAAKze,IAAIse,GAASG,KAAKze,IAAI,MAAQ,GACjE,OAAU,KAAN5U,EAAgBkzB,EAAQ,IAAMC,EAAMnzB,IAChCkzB,WAAS,IAAQlzB,IAAIuzB,QAAQ,GAAK,IAAMJ,EAAMnzB,IAGxDwzB,QAAS,WAEP,OADiBpuB,OAAOquB,iBAAmBruB,OAAOquB,iBAAmB,GACpD,GAOnBC,kBAGEC,GAAM,UACNC,IAAO,UAGPC,IAAQ,UAGRC,IAAQ,WACRC,KAAS,WACTC,IAAQ,WACRC,KAAS,WAETC,IAAQ,UACRC,KAAS,UACTC,IAAQ,UACRC,KAAS,UAETC,IAAQ,YACRC,KAAS,YACTC,IAAQ,YACRC,KAAS,YAGTC,IAAO,YACPC,IAAO,YACPC,KAAQ,YACRC,IAAO,YACPC,IAAO,YACPC,IAAO,YACPC,KAAQ,YAGRC,IAAQ,YACRC,IAAQ,YACRC,IAAQ,YACRC,KAAS,YACTC,IAAQ,YACRC,IAAQ,YACRC,IAAQ,YAGRC,IAAQ,UACRC,KAAS,UACTC,IAAQ,UACRC,IAAQ,UACRC,IAAQ,UACRC,IAAQ,UACRC,IAAQ,UAGRz3B,QAAY,YAId03B,WAAY,SAAUC,GAEpB,OAAkC,GAA9BA,EAASzS,YAAY,OAKY,IADnB,MAAO,OAAQ,MAAO,MAAO,MAAO,OACvCrV,QAFA8nB,EAASC,OAAOD,EAASzS,YAAY,KAAO,GAAGjb,gBAUhE4tB,WAAY,SAAUF,GAEpB,OAAkC,GAA9BA,EAASzS,YAAY,OAKM,IADnB,MAAO,MAAO,OAAQ,OACzBrV,QAFM8nB,EAASC,OAAOD,EAASzS,YAAY,KAAO,GAAGjb,gBAShEnD,WAAY,SAASK,GAOnB,IAAKA,EACH,MAAO,EAIT,KAAK,GAFD2wB,GAAW3wB,EAAK8K,MAAM,KACtB8lB,KACKp2B,EAAI,EAAGgV,EAAMmhB,EAASl2B,OAAQD,EAAIgV,EAAKhV,IAC9Co2B,EAAU/sB,KAAKgtB,mBAAmBF,EAASn2B,IAE7C,OAAOo2B,GAAUE,KAAK,MAGxBC,WAAY,SAASC,GACnB,MAAOxqB,UAAShK,cAAc,OAC3By0B,YAAYzqB,SAAS0qB,eAAeF,IACpC5tB,WACA+tB,WAGLC,oBAAqB,SAASh0B,EAAOi0B,GAInC,GAAMC,GAAYx1B,KAAKi1B,WAAWM,GAC5B/hB,+DAAmEgiB,EAAnE,IAAgFA,EAAhF,SACN,OAAOl0B,GAAMiW,QAAQ,gBAAiB/D,IAGxCiiB,YAAa,SAAS7vB,GACpB,GAAI8vB,GAAY9vB,EAASqc,YAAY,IACrC,OAAOrc,GAAS8C,MAAMgtB,EAAU,IAOlC5sB,SAAU,SAAS5E,GAGjB,IAFA,GAAI2E,GAAQ3E,EAAK8K,MAAM,KAAKtG,MAAM,GAC9BitB,KACE9sB,EAAMlK,QACVg3B,EAAO5tB,KAAK,IAAMc,EAAMmsB,KAAK,MAC7BnsB,EAAM+sB,KAER,OAAOD,GAAOE,WAahBC,cAAe,SAAS5xB,GACtB,MAAa,MAATA,EACKA,GAETA,EAAiC,MAA1BA,EAAKA,EAAKvF,OAAS,GAAauF,EAAOA,EAAKwE,MAAM,EAAGxE,EAAKvF,OAAQ,GAClEuF,EAAKwE,MAAMxE,EAAK+d,YAAY,KAAO,KAO5Cta,WAAY,SAASzD,GACnB,GAAI6xB,GAAM7xB,EAAKwE,MAAM,EAAGxE,EAAK+d,YAAY,KACzC,OAAY,KAAR8T,EACK,IAEAA,GAIXC,YAAa,SAASC,EAAOC,GAE3B,MADQl2B,MAAK2H,WAAWsuB,KACXC,GAGfC,eAAgB,SAASC,EAAUlyB,GACjC,MAAOA,GAAK0I,QAAQwpB,IAAa,GAGnCC,mBAAoB,SAASnyB,EAAMkyB,EAAUE,GAC3C,MAAOpyB,GAAKqT,QAAQ6e,EAAUE,IAGhC3sB,SAAU,SAAS4sB,EAAOC,GACxB,MAA8B,MAA1BD,EAAMA,EAAM53B,OAAO,GACd43B,EAAQC,EAERD,EAAQ,IAAMC,GAIzBC,sBAAuB,WACrB,OAAgD,GAAzCC,UAAUC,UAAU/pB,QAAQ,YACjC8pB,UAAUC,UAAU/pB,QAAQ,WAAa,GAG7CgqB,qBAAsB,SAASC,GAC7B,GAAI1mB,GAAOvM,EAAMsuB,UAAY,GAAK,EAClC/hB,GAAO0mB,EAAQ,IAAM1mB,CAErB,OAAOnP,YAAW,WAAamP,EAAO,YAGxC2mB,cAAe,SAAS/X,EAAM8X,GAC5B,GAAI9wB,GAAagZ,EAAKhZ,YAAcgZ,EAAKgY,iBACrC5mB,EAAOvM,EAAMsuB,UAAY,GAAK,EAClC/hB,GAAO0mB,EAAQ,IAAM1mB,CACrB,IAAI6mB,GAAY,SAQhB,OAPIjY,GAAKkY,YACPD,EAAY,qBAEK,MAAfjxB,GAAqC,YAAfA,IACxBixB,EAAY,oBAGPh2B,WAAW,WAAamP,EAAO,IAAM6mB,GAG9C9mB,cAAe,SAAUzG,EAAQotB,GAC/B,GAAI1mB,GAAOnQ,KAAKkyB,UAAY,GAAK,EAEjC,IADA/hB,EAAO0mB,EAAQ,IAAM1mB,EACjB1G,EAAOnG,QAAS,CAClB,GAAI4zB,IAAW,CAIf,QAHIztB,EAAO1D,YAAqC,MAAtB0D,EAAO1D,YAA4C,YAAtB0D,EAAO1D,aAC5DmxB,GAAW,GAENl3B,KAAK0U,iBAAiBwiB,EAAU/mB,GAEvC,MAAOnQ,MAAK2U,eAAelL,EAAO1C,KAAMoJ,IAI5CuE,iBAAkB,WAAiC,GAAxBwiB,GAAwBh3B,UAAAvB,OAAA,OAAA4c,KAAArb,UAAA,IAAAA,UAAA,GAANiQ,EAAMjQ,UAAA,EAKjD,OAJKiQ,KACHA,EAAOvM,EAAMsuB,UAAY,GAAK,IAEhC/hB,EAAOA,EAAO,GAAK,IAAM,GACfnP,WAAV,cAA+Bk2B,EAAW,cAAgB,KAAM/mB,EAAhE,QAGFwE,eAAgB,SAAS+f,EAAUvkB,GAC5BA,IACHA,EAAOvM,EAAMsuB,UAAY,GAAK,IAEhC/hB,EAAOA,EAAO,GAAK,IAAM,EACzB,IAAIgnB,GAAW,EACf,QAAkC,GAA9BzC,EAASzS,YAAY,KAChBjhB,WAAW,YAAcmP,EAAO,IAAMnQ,KAAKoyB,iBAAL,SAE7C+E,EAAWzC,EAASC,OAAOD,EAASzS,YAAY,KAAO,GAAGjb,cAGxDhH,KAAKoyB,iBAAiB+E,GACjBn2B,WAAW,YAAcmP,EAAO,IAAMnQ,KAAKoyB,iBAAiB+E,GAE5Dn2B,WAAW,YAAcmP,EAAO,IAAMnQ,KAAKoyB,iBAAL,UAIjDgF,gBAAiB,SAASrY,GACxB,GAAIzd,GACAyE,EAAagZ,EAAKhZ,YAAcgZ,EAAKgY,gBACzC,IAAIhY,EAAKkY,UACP31B,GAAQ,EAAAlC,EAAAsM,SAAQ,yBACX,IAAIqT,EAAKsY,SACd/1B,GAAQ,EAAAlC,EAAAsM,SAAQ,oBAEhB,QAAO3F,GACL,IAAK,KACHzE,GAAQ,EAAAlC,EAAAsM,SAAQ,qBAChB,MACF,KAAK,IACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,oBAChB,MACF,KAAK,aACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,gCAChB,MACF,KAAK,UACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,4BAItB,MAAOpK,IAGTg2B,mBAAoB,SAASC,GAC3B,GAAIj2B,EACJ,QAAOi2B,EAAQxxB,YACb,IAAK,KACHzE,GAAQ,EAAAlC,EAAAsM,SAAQ,oBAChB,MACF,KAAK,IACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,mBAChB,MACF,KAAK,aACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,+BAChB,MACF,KAAK,UACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,2BAGpB,MAAOpK,IAGTk2B,WAAY,SAASzxB,GACnB,GAAIzE,EACJ,QAAOyE,GACL,IAAK,KACHzE,GAAQ,EAAAlC,EAAAsM,SAAQ,aAChB,MACF,KAAK,IACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,YAChB,MACF,KAAK,QACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,QAChB,MACF,KAAK,aACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,wBAChB,MACF,KAAK,UACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,oBAGpB,MAAOpK,IAGTm2B,sBAAuB,SAAS1xB,GAC9B,GAAIzE,EACJ,QAAOyE,GACL,IAAK,KACHzE,GAAQ,EAAAlC,EAAAsM,SAAQ,yDAChB,MACF,KAAK,IACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,0CAChB,MACF,KAAK,QACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,6DAChB,MACF,KAAK,aACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,6EAChB,MACF,KAAK,UACHpK,GAAQ,EAAAlC,EAAAsM,SAAQ,2EAGpB,MAAOpK,IAGTo2B,WAAY,SAASH,GAInB,GAAI3F,GAAQ2F,EAAQ3F,MAChB+F,EAAYJ,EAAQI,WAAa,CAOrC,OAAK/F,IAAS,GAAOA,EALN,IAMNA,EAAQ,KAELA,GARG,KAQoBA,EAPpBgG,KAQLhG,EATK,KASaK,QAAQ0F,GAAa,MAErC/F,GAVGgG,KAUoBhG,EATpBiG,KAULjG,EAXKgG,KAWa3F,QAAQ0F,GAAa,MAErC/F,GAZGiG,KAYoBjG,EAXpBkG,MAYLlG,EAbKiG,KAaa5F,QAAQ0F,GAAa,MAEtC/F,GAdIkG,MAeLlG,EAfKkG,MAea7F,QAAQ0F,GAAa,MAGxC/F,EAAQ,MAInBmG,cAAe,SAASC,GACtB,GAAIC,EACJ,OAAoB,iBAATD,GACF,IAETC,EAAKD,EAAO,EACRC,GAAM,KACAA,EAAK,KAAYhG,QAAQ,GAAK,QAEpCgG,GAAM,KACAA,EAAK,KAAShG,QAAQ,GAAK,QAEjCgG,GAAM,KACAA,EAAK,KAAMhG,QAAQ,GAAK,QAE3BgG,EAAGhG,QAAQ,GAAK,SAGzBvqB,eAAgB,SAAS9B,GACvB,GAAIgD,GAAQhD,EAASqc,YAAY,IACjC,KAAe,IAAXrZ,EACF,OAAO,CAEP,IAAI9B,GAAOlB,EAASmH,UAAUnE,GAAO5B,aACrC,OAAa,QAATF,GAA2B,cAATA,GAQ1BkG,uBAAwB,SAAS/I,EAAK4F,GAEpC,MADS,IAAI4C,QAAOC,aAAa,QAAU7C,EAAS,UAC1C8C,KAAK1I,IAGjBiJ,kBAAmB,SAASjJ,EAAK4F,GAE/B,MADS,IAAI4C,QAAOC,aAAa,YAAc7C,EAAS,MAC9C8C,KAAK1I,IAGjBgJ,gCAAiC,SAAShJ,EAAK4F,GAC7C,GAAIquB,GAAK,GAAIzrB,QAAOC,aAAa,QAAU7C,EAAS,gBAChD6E,EAAQwpB,EAAGC,KAAKl0B,EAEpB,OADWm0B,oBAAmB1pB,EAAM,KAItCvB,2BAA4B,SAASlJ,EAAK4F,GACxC,GAAIquB,GAAK,GAAIzrB,QAAOC,aAAa,YAAc7C,EAAS,SACpD6E,EAAQwpB,EAAGC,KAAKl0B,GAChBC,EAAOk0B,mBAAmB1pB,EAAM,GAGpC,OAFAxK,GAAOA,EAAKwE,MAAM,GAClBxE,EAAOA,EAAKwE,MAAMxE,EAAK0I,QAAQ,OAIjC1E,2BAA4B,SAASjE,EAAKN,GAGxC,MAFAA,GAAOoxB,mBAAmBpxB,GACjB,GAAI8I,QAAOC,aAAa,UAAY/I,EAAO,UAC1CgJ,KAAK1I,IAGjBmE,sBAAuB,SAASnE,EAAKN,GAGnC,MAFAA,GAAOoxB,mBAAmBpxB,GACjB,GAAI8I,QAAOC,aAAa,UAAY/I,EAAO,MAC1CgJ,KAAK1I,IAGjBkE,oCAAqC,SAASlE,EAAKN,GACjDA,EAAOoxB,mBAAmBpxB,EAC1B,IAAIu0B,GAAK,GAAIzrB,QAAOC,aAAa,UAAY/I,EAAO,WAChD+K,EAAQwpB,EAAGC,KAAKl0B,GAChBC,EAAOwK,EAAM,EACjB,KACExK,EAAOk0B,mBAAmBl0B,GAC1B,MAAMm0B,GACNn0B,EAAOA,EAAKqT,QAAQ,KAAM,OAC1BrT,EAAOk0B,mBAAmBl0B,GAE5B,MAAOA,IAGTmE,+BAAgC,SAASpE,EAAKN,GAC5CA,EAAOoxB,mBAAmBpxB,EAC1B,IAAIu0B,GAAK,GAAIzrB,QAAOC,aAAa,UAAY/I,EAAO,SAChD+K,EAAQwpB,EAAGC,KAAKl0B,GAChBC,EAAOwK,EAAM,EACjB,KACExK,EAAOk0B,mBAAmBl0B,GAC1B,MAAMm0B,GACNn0B,EAAOA,EAAKqT,QAAQ,KAAM,OAC1BrT,EAAOk0B,mBAAmBl0B,GAE5B,MAAOA,IAGTo0B,eAAgB,SAASC,EAAOC,GAK9B,GAAIC,GAAOC,EACTC,EAAQJ,EAAM5kB,WAAW,GACzBilB,EAAQJ,EAAM7kB,WAAW,EAE3B,OAAK,OAAQglB,GAASA,EAAQ,OAAW,MAAQC,GAASA,EAAQ,OAEhEH,EAAQ7e,oBAAkBif,OAAOF,EAAQ,OAAO3xB,cAChD0xB,EAAQ9e,oBAAkBif,OAAOD,EAAQ,OAAO5xB,cAc3CyxB,GAASC,EAAQ,GAAK,GAbjB,MAAQC,GAASA,EAAQ,SAAY,MAAQC,GAASA,EAAQ,OAEjE,IACI,MAAQD,GAASA,EAAQ,QAAW,MAAQC,GAASA,EAAQ,OAEhE,GAGRH,EAAQF,EAAMvxB,cACd0xB,EAAQF,EAAMxxB,cACPhH,KAAK84B,wBAAwBL,EAAOC,KAQ/CI,wBAAyB,SAASC,EAAGC,GACnC,GAIIC,GAEAC,EAAOC,EANPC,EAAU,WACVC,EAAU,KACVC,EAASP,EAAEQ,MAAMH,GACjBI,EAASR,EAAEO,MAAMH,GAEjB1lB,EAAMqe,KAAK0H,IAAIH,EAAO36B,OAAQ66B,EAAO76B,OAGzC,IAAI26B,GAAUE,IACXP,EAAcI,EAAQ1sB,KAAK2sB,EAAO,MAAQD,EAAQ1sB,KAAK6sB,EAAO,IAE/D,IAAK,GAAI96B,GAAI,EAAGA,EAAIgV,EAAKhV,IAAK,CAS5B,GARAw6B,EAAQI,EAAO56B,GACfy6B,EAAQK,EAAO96B,GAEXu6B,IACFC,EAAQpH,SAASoH,EAAO,IACxBC,EAAQrH,SAASqH,EAAO,KAGtBD,GAASC,EACX,MAAOD,GAAQC,GAAS,EAAI,CAI9BF,IAAeA,EAKnB,OAAQF,GAAKC,IAAMD,GAAKC,IAG1BU,UAAW,SAASC,EAAOC,EAAQC,GACjC,GAAM/5B,GAAQE,KACV85B,QAEJ,QAAWF,EAAX,IAAqBC,GACnB,IAAK,WACHC,EAAa,SAASf,EAAGC,GACvB,MAAKD,GAAEllB,UAGFmlB,EAAEnlB,UAGM/T,EAAMw4B,eAAeS,EAAEllB,UAAWmlB,EAAEnlB,YAFvC,EAHD,EAQX,MACF,KAAK,YACHimB,EAAa,SAASf,EAAGC,GACvB,MAAKD,GAAEllB,UAGFmlB,EAAEnlB,WAGM/T,EAAMw4B,eAAeS,EAAEllB,UAAWmlB,EAAEnlB,WAFxC,GAHC,EAQZ,MACF,KAAK,WACHimB,EAAa,SAASf,EAAGC,GACvB,MAAOD,GAAE5yB,cAAgB6yB,EAAE7yB,eAAiB,EAAI,EAElD,MACF,KAAK,YACH2zB,EAAa,SAASf,EAAGC,GACvB,MAAOD,GAAE5yB,cAAgB6yB,EAAE7yB,cAAgB,GAAK,GAMtD,MADAwzB,GAAMI,KAAKD,GACJH,GAGT1yB,YAAa,SAASkM,EAAOymB,EAAQC,GACnC,GAAM/5B,GAAQE,KACV85B,QAEJ,QAAWF,EAAX,IAAqBC,GACnB,IAAK,WACHC,EAAa,SAASf,EAAGC,GAEvB,MADal5B,GAAMw4B,eAAeS,EAAEhyB,KAAMiyB,EAAEjyB,MAG9C,MACF,KAAK,YACH+yB,EAAa,SAASf,EAAGC,GAEvB,OADal5B,EAAMw4B,eAAeS,EAAEhyB,KAAMiyB,EAAEjyB,MAG9C,MACF,KAAK,WACH+yB,EAAa,SAASf,EAAGC,GACvB,MAAOD,GAAE7e,MAAQ8e,EAAE9e,OAAS,EAAI,EAElC,MACF,KAAK,YACH4f,EAAa,SAASf,EAAGC,GACvB,MAAOD,GAAE7e,MAAQ8e,EAAE9e,MAAQ,GAAK,GActC,MATA/G,GAAM4mB,KAAK,SAAChB,EAAGC,GACb,MAAc,OAAVD,EAAEjyB,MAA2B,QAAVkyB,EAAElyB,MACf,EACW,QAAViyB,EAAEjyB,MAA4B,OAAVkyB,EAAElyB,KACxB,EAEAgzB,EAAWf,EAAGC,KAGlB7lB,GAGT5F,oBAAqB,SAASF,EAAO2sB,GAQnC,MAPA3sB,GAAM3G,IAAI,SAACC,GACTqzB,EAAGrzB,GACCA,EAAK0G,OAAS1G,EAAK0G,MAAM1O,OAAS,GACpCiF,EAAM2J,oBAAoB5G,EAAK0G,MAAO2sB,KAInC3sB,GAGT4sB,eAAgB,SAAS/X,GACvB,GAAIgY,SACJ,QAAOhY,GACL,IAAK,KACHgY,EAAO,QACP,MACF,KAAK,KACHA,EAAO,YACP,MACF,KAAK,IACHA,EAAO,aACP,MACF,KAAK,MACHA,EAAO,eACP,MACF,KAAK,OACHA,EAAO,aACP,MACF,KAAK,KACHA,EAAO,eACP,MACF,KAAK,MACHA,EAAO,YACP,MACF,KAAK,OACHA,EAAO,WACP,MACF,SACEA,EAAOhY,EAEX,MAAOgY,IAGTC,gBAEEC,IAAO,UACPC,OAAU,UACVC,OAAU,UACVC,MAAS,UACTC,KAAQ,UACRC,KAAQ,UACRC,OAAU,UACVC,OAAU,UACVC,KAAQ,UACRC,MAAS,UACTC,KAAQ,UACRC,KAAQ,UACRC,KAAQ,UAGRC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,UAAW,WAGbC,aAAc,SAASrN,GAGrB,MADYzuB,MAAKm6B,eAAe1L,M7B1U9BsN,GACA,SAAUt/B,EAAQC,EAASC,GAEjC,YAC6gC,SAASC,GAAuBC,GAAK,MAAOA,IAAKA,EAAIC,WAAWD,GAAKE,QAAQF,GAAM,QAASG,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAAl4DE,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,M8BhariB8B,EAAArC,EAAA,G9Bga6lBsC,EAAQrC,EAAuBoC,G8B/Z5nBE,EAAAvC,EAAA,G9B+Z8qBwC,EAAYvC,EAAuBsC,G8B9ZjtBE,EAAAzC,EAAA,GACAq/B,EAAAr/B,EAAA,K9B6Z4yBs/B,EAASr/B,EAAuBo/B,G8B5Z50BE,EAAAv/B,EAAA,K9B4Zo4Bw/B,EAAev/B,EAAuBs/B,G8B3Z16BE,EAAAz/B,EAAA,I9B2Zk+B0/B,EAAUz/B,EAAuBw/B,G8BzZ7/B/8B,GACJwK,OAAQtK,UAAU+L,OAClB9C,gBAAiBjJ,UAAUC,KAAKC,WAChC0P,kBAAmB5P,UAAU+L,QAGxBgxB,E9BmZ4iE,SAAS38B,GAA4D,QAAS28B,KAAoD,MAApCt/B,GAAgBgD,KAAKs8B,GAAsBl/B,EAA2B4C,MAAMs8B,EAAcl+B,WAAWR,OAAO0C,eAAeg8B,IAAgB/7B,MAAMP,KAAKE,YAA+gB,MAAxuB1C,GAAU8+B,EAAc38B,GAA8MrB,EAAag+B,IAAgBz9B,IAAI,SAASd,MAAM,W8BjZh2E,GAAIoR,GAAoBnP,KAAKvB,MAAM0Q,oBAAqB,EAAA/P,EAAAsM,SAAQ,eAChE,OACEzM,GAAAlC,QAAA2D,cAAA,OAAKC,UAAU,kBACZimB,SACC3nB,EAAAlC,QAAA2D,cAACu7B,EAAAl/B,SACC8M,OAAQ7J,KAAKvB,MAAMoL,OACnBiH,YAAa3B,EACb3G,gBAAiBxI,KAAKvB,MAAM+J,kBAGhCvJ,EAAAlC,QAAA2D,cAACy7B,EAAAp/B,QAAD,MACAkC,EAAAlC,QAAA2D,cAAC27B,EAAAt/B,QAAD,W9BsYqzFu/B,G8BnZhyF36B,UAAMC,UAmBnC06B,GAAcj9B,UAAYA,E9BgYg3F3C,EAAQK,Q8B9Xn4Fu/B,G9BkYTC,GACA,SAAU9/B,EAAQC,KAMlB8/B,GACA,SAAU//B,EAAQC,KAMlB+/B,GACA,SAAUhgC,EAAQC,KAMlBggC,GACA,SAAUjgC,EAAQC,KAMlBigC,GACA,SAAUlgC,EAAQC,KAMlBkgC,GACA,SAAUngC,EAAQC,EAASC,GAEjC,YACujB,SAASK,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAjqBS,OAAOS,eAAe3B,EAAQ,cAAcqB,OAAM,GAAO,IAAIO,GAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWZ,WAAWY,EAAWZ,aAAY,EAAMY,EAAWV,cAAa,EAAQ,SAAUU,KAAWA,EAAWX,UAAS,GAAKL,OAAOS,eAAeG,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAAS1B,EAAY4B,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiBrB,EAAYS,UAAUmB,GAAeC,GAAYR,EAAiBrB,EAAY6B,GAAoB7B,M+B3c/hBmN,E/B2c+sB,W+BzcntB,QAAAA,GAAAzK,GAA2E,GAA7DsE,GAA6DtE,EAA7DsE,KAAM2D,EAAuDjI,EAAvDiI,OAAQR,EAA+CzH,EAA/CyH,SAAUw1B,EAAqCj9B,EAArCi9B,UAAWt1B,EAA0B3H,EAA1B2H,WAAYD,EAAc1H,EAAd0H,UAActK,GAAAgD,KAAAqK,GACzErK,KAAKkE,KAAOA,GAAQ2D,EAAOd,KAC3B/G,KAAK6H,OAASA,EAAOV,QACrBnH,KAAKqH,SAAWA,IAAY,EAC5BrH,KAAK68B,UAAYA,IAAa,EAC9B78B,KAAKuH,WAAaA,IAAc,EAChCvH,KAAKwd,YACLxd,KAAKsH,WAAaA,GAAc,K/BscmlE,MAHz8DhJ,GAAa+L,IAAWxL,IAAI,QAAQd,MAAM,S+BhchNuJ,GACJ,GAAIqV,GAAW,GAAItS,IACjBnG,KAAMlE,KAAKkE,KACX2D,OAAQ7H,KAAK6H,OAAOV,QACpBE,SAAUrH,KAAKqH,SACfw1B,UAAW78B,KAAK68B,UAChBt1B,WAAYvH,KAAKuH,WACjBD,WAAYA,GAAc,MAO5B,OALAqV,GAASa,SAAWxd,KAAKwd,SAAS9W,IAAI,SAAAuvB,GAEpC,MADeA,GAAM9uB,MAAMwV,KAItBA,K/BkbohB9d,IAAI,YAAYd,MAAM,S+B/aziBuJ,GACRtH,KAAKkE,KAAOlE,KAAK88B,aAAax1B,GAC9BtH,KAAKsH,WAAaA,EAClBtH,KAAKqH,UAAW,K/B6ahBxI,IAAI,cAAcd,MAAM,W+BzaxB,MAAgC,KAAzBiC,KAAKwd,SAAS7e,U/Bya8DE,IAAI,WAAWd,MAAM,S+BtajGqJ,GACPA,EAAK21B,UAAU/8B,KACf,IAAIwd,GAAWxd,KAAKwd,QACpB,IAAIpW,EAAKS,OAAOvE,QACdtD,KAAKwd,SAASO,QAAQ3W,OACjB,CAEL,IAAK,GADDwB,IAAS,EACJlK,EAAI,EAAGA,EAAI8e,EAAS7e,OAAQD,IACnC,IAAK8e,EAAS9e,GAAGmJ,OAAOvE,QAAS,CAC/BsF,EAAQlK,CACR,QAGW,IAAXkK,EACF5I,KAAKwd,SAASzV,KAAKX,GACA,IAAVwB,EACT5I,KAAKwd,SAASO,QAAQ3W,GAEtBpH,KAAKwd,SAASwf,OAAOp0B,EAAO,EAAGxB,O/BsZoCvI,IAAI,cAAcd,MAAM,S+BjZrFqM,GAAU,GAAAtK,GAAAE,IACpBoK,GAASwD,QAAQ,SAAAxG,GACfA,EAAK21B,UAAUj9B,KAEjBE,KAAKwd,SAAWpT,K/B6YiNvL,IAAI,cAAcd,MAAM,S+B1Y/OqJ,GACV,GAAIoW,GAAWxd,KAAKwd,SAAS3W,OAAO,SAAAF,GAClC,MAAOA,KAASS,GAElBpH,MAAKwd,SAAWA,K/BsYsW3e,IAAI,SAASd,MAAM,S+BnYpYke,GACLjc,KAAK6H,OAAOd,KAAOkV,EACnBjc,KAAKkE,KAAOlE,KAAK88B,aAAa98B,KAAKsH,YAC/BtH,KAAKuH,WACPvH,KAAKi9B,mBAAmBj9B,MAExBA,KAAKqH,UAAW,K/B6XuiBxI,IAAI,qBAAqBd,MAAM,S+BzXvkBqJ,GACFA,EAAKoW,SACX5P,QAAQ,SAAAqoB,GACfA,EAAM/xB,KAAO+xB,EAAM6G,aAAa7G,EAAM3uB,YAClC2uB,EAAM1uB,WACR0uB,EAAMgH,mBAAmBhH,GAEzBA,EAAM5uB,UAAW,O/BkXyyBxI,IAAI,yBAAyBd,MAAM,S+B7W50Boe,EAAMC,GAAW,GAAA1O,GAAA1N,IAClCI,OAAM8c,QAAQf,IAAS/b,MAAM8c,QAAQd,GACvCD,EAAKvO,QAAQ,SAAC/O,EAAK+J,GACjB8E,EAAK7F,OAAOhJ,GAAOud,EAAUxT,KAG/B5I,KAAK6H,OAAOsU,GAAQC,K/BuW4iCvd,IAAI,eAAed,MAAM,S+BnWhlCuJ,GACX,MAA2B,MAApBA,EAAWpD,KAAeoD,EAAWpD,KAAOlE,KAAK6H,OAAOd,KAAOO,EAAWpD,KAAO,IAAMlE,KAAK6H,OAAOd,Q/BkW0nClI,IAAI,kBAAkBd,MAAM,W+B9VhwC,GAAIyf,KAeJ,OAdIxd,MAAKqiB,cACP7E,EAAWxd,KAAKwd,SAAS9W,IAAI,SAAAw2B,GAAA,MAAKA,GAAE/e,sBAIpCja,KAAMlE,KAAKkE,KACX2D,OAAQ7H,KAAK6H,OAAOV,QACpBE,SAAUrH,KAAKqH,SACfw1B,UAAW78B,KAAK68B,UAChBt1B,WAAYvH,KAAKuH,WACjBD,WAAYtH,KAAKsH,WACjBkW,SAAUA,Q/BkVikD3e,IAAI,sBAAsBd,MAAM,S+B5UplDkc,GAAM,GACzB/V,GAA6E+V,EAA7E/V,KAAM2D,EAAuEoS,EAAvEpS,OAAQR,EAA+D4S,EAA/D5S,SAAUw1B,EAAqD5iB,EAArD4iB,UAAWt1B,EAA0C0S,EAA1C1S,WAAYD,EAA8B2S,EAA9B3S,WADtB61B,EACoDljB,EAAlBuD,eADlCjC,KAAA4hB,MAa/B,OAXAt1B,GAASA,EAAOV,QAEC,GAAIkD,IACnBnG,OACA2D,SACAR,WACAw1B,YACAt1B,aACAD,aACAkW,SAAUA,EAAS9W,IAAI,SAAAC,GAAA,MAAQ0D,GAAS+T,oBAAoBzX,W/BiU4jE0D,IAAa3N,GAAQK,Q+B3TpoEsN,K/B+TZ","file":"js/wiki.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onCloseSidePanel:_propTypes2.default.func.isRequired};var Logo=function(_React$Component){_inherits(Logo,_React$Component);function Logo(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Logo);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Logo.__proto__||Object.getPrototypeOf(Logo)).call.apply(_ref,[this].concat(args))),_this),_this.closeSide=function(){_this.props.onCloseSidePanel();},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Logo,[{key:'render',value:function render(){return _react2.default.createElement('div',{className:'top-logo'},_react2.default.createElement('a',{href:_constants.siteRoot,id:'logo'},_react2.default.createElement('img',{src:_constants.mediaUrl+_constants.logoPath,height:_constants.logoHeight,width:_constants.logoWidth,title:_constants.siteTitle,alt:'logo'})),_react2.default.createElement('a',{className:'sf2-icon-x1 sf-popover-close side-panel-close action-icon d-md-none',onClick:this.closeSide,title:'Close','aria-label':'Close'}));}}]);return Logo;}(_react2.default.Component);Logo.propTypes=propTypes;exports.default=Logo;\n\n/***/ }),\n\n/***/ 11:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function Loading(){return _react2.default.createElement(\"span\",{className:\"loading-icon loading-tip\"});}exports.default=Loading;\n\n/***/ }),\n\n/***/ 1148:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(12);\nmodule.exports = __webpack_require__(1149);\n\n\n/***/ }),\n\n/***/ 1149:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _reactDom=__webpack_require__(8);var _reactDom2=_interopRequireDefault(_reactDom);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);var _seafileApi=__webpack_require__(3);var _dirent=__webpack_require__(14);var _dirent2=_interopRequireDefault(_dirent);var _treeNode=__webpack_require__(95);var _treeNode2=_interopRequireDefault(_treeNode);var _treeHelper=__webpack_require__(162);var _treeHelper2=_interopRequireDefault(_treeHelper);var _sidePanel=__webpack_require__(1150);var _sidePanel2=_interopRequireDefault(_sidePanel);var _mainPanel=__webpack_require__(1152);var _mainPanel2=_interopRequireDefault(_mainPanel);__webpack_require__(86);__webpack_require__(87);__webpack_require__(88);__webpack_require__(89);__webpack_require__(274);__webpack_require__(275);__webpack_require__(90);__webpack_require__(122);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Wiki=function(_Component){_inherits(Wiki,_Component);function Wiki(props){_classCallCheck(this,Wiki);var _this=_possibleConstructorReturn(this,(Wiki.__proto__||Object.getPrototypeOf(Wiki)).call(this,props));_this.loadWikiData=function(initialPath){_this.loadSidePanel(initialPath);if(_constants.isDir==='None'){if(initialPath==='/home.md'){_this.showDir('/');}else{_this.setState({pathExist:false});var fileUrl=_constants.siteRoot+'wikis/'+_constants.slug+_utils.Utils.encodePath(initialPath);window.history.pushState({url:fileUrl,path:initialPath},initialPath,fileUrl);}}else if(_constants.isDir==='True'){_this.showDir(initialPath);}else if(_constants.isDir==='False'){_this.showFile(initialPath);}};_this.loadSidePanel=function(initialPath){if(initialPath===_this.homePath||_constants.isDir==='None'){_seafileApi.seafileAPI.listWikiDir(_constants.slug,'/').then(function(res){var tree=_this.state.treeData;_this.addFirstResponseListToNode(res.data.dirent_list,tree.root);var indexNode=tree.getNodeByPath(_this.indexPath);var homeNode=tree.getNodeByPath(_this.homePath);if(homeNode&&indexNode){_seafileApi.seafileAPI.getWikiFileContent(_constants.slug,indexNode.path).then(function(res){_this.setState({treeData:tree,indexNode:indexNode,indexContent:res.data.content,isTreeDataLoading:false});});}else{_this.setState({treeData:tree,isTreeDataLoading:false});}}).catch(function(){_this.setState({isLoadFailed:true});});}else{_this.loadNodeAndParentsByPath(initialPath);}};_this.showDir=function(dirPath){_this.loadDirentList(dirPath);// update location url\nvar fileUrl=_constants.siteRoot+'wikis/'+_constants.slug+_utils.Utils.encodePath(dirPath);window.history.pushState({url:fileUrl,path:dirPath},dirPath,fileUrl);};_this.showFile=function(filePath){_this.setState({isDataLoading:true,isViewFile:true,path:filePath});_seafileApi.seafileAPI.getWikiFileContent(_constants.slug,filePath).then(function(res){var data=res.data;_this.setState({isDataLoading:false,content:data.content,permission:data.permission,lastModified:_moment2.default.unix(data.last_modified).fromNow(),latestContributor:data.latest_contributor});});var hash=window.location.hash;var fileUrl=_constants.siteRoot+'wikis/'+_constants.slug+_utils.Utils.encodePath(filePath)+hash;window.history.pushState({url:fileUrl,path:filePath},filePath,fileUrl);};_this.loadDirentList=function(dirPath){_this.setState({isDataLoading:true});_seafileApi.seafileAPI.listWikiDir(_constants.slug,dirPath).then(function(res){var direntList=res.data.dirent_list.map(function(item){var dirent=new _dirent2.default(item);return dirent;});if(dirPath==='/'){direntList=direntList.filter(function(item){if(item.type==='dir'){var name=item.name.toLowerCase();return name!=='drafts'&&name!=='images'&&name!=='downloads';}return true;});}direntList=_utils.Utils.sortDirents(direntList,'name','asc');_this.setState({path:dirPath,isViewFile:false,direntList:direntList,isDataLoading:false});}).catch(function(){_this.setState({isLoadFailed:true});});};_this.loadTreeNodeByPath=function(path){var tree=_this.state.treeData.clone();var node=tree.getNodeByPath(path);if(!node.isLoaded){_seafileApi.seafileAPI.listWikiDir(_constants.slug,node.path).then(function(res){_this.addResponseListToNode(res.data.dirent_list,node);var parentNode=tree.getNodeByPath(node.parentNode.path);parentNode.isExpanded=true;_this.setState({treeData:tree,currentNode:node});});}else{var parentNode=tree.getNodeByPath(node.parentNode.path);parentNode.isExpanded=true;_this.setState({treeData:tree,currentNode:node});//tree\n}};_this.loadNodeAndParentsByPath=function(path){var tree=_this.state.treeData.clone();if(_utils.Utils.isMarkdownFile(path)){path=_utils.Utils.getDirName(path);}_seafileApi.seafileAPI.listWikiDir(_constants.slug,path,true).then(function(res){var direntList=res.data.dirent_list;var results={};for(var i=0;i<direntList.length;i++){var object=direntList[i];var key=object.parent_dir;if(!results[key]){results[key]=[];}results[key].push(object);}for(var _key in results){var node=tree.getNodeByPath(_key);if(!node.isLoaded&&node.path==='/'){_this.addFirstResponseListToNode(results[_key],node);}else if(!node.isLoaded){_this.addResponseListToNode(results[_key],node);}}_this.setState({isTreeDataLoading:false,treeData:tree});}).catch(function(){_this.setState({isLoadFailed:true});});};_this.onLinkClick=function(link){var url=link;if(_utils.Utils.isWikiInternalMarkdownLink(url,_constants.slug)){var path=_utils.Utils.getPathFromWikiInternalMarkdownLink(url,_constants.slug);_this.showFile(path);}else if(_utils.Utils.isWikiInternalDirLink(url,_constants.slug)){var _path=_utils.Utils.getPathFromWikiInternalDirLink(url,_constants.slug);_this.showDir(_path);}else{window.location.href=url;}};_this.onpopstate=function(event){if(event.state&&event.state.path){var path=event.state.path;if(_utils.Utils.isMarkdownFile(path)){_this.showFile(path);}else{_this.loadDirentList(path);_this.setState({path:path,isViewFile:false});}}};_this.onSearchedClick=function(item){var path=item.is_dir?item.path.slice(0,item.path.length-1):item.path;if(_this.state.currentPath===path){return;}// load sidePanel\nvar index=-1;var paths=_utils.Utils.getPaths(path);for(var i=0;i<paths.length;i++){var node=_this.state.treeData.getNodeByPath(node);if(!node){index=i;break;}}if(index===-1){// all the data has been loaded already.\nvar tree=_this.state.treeData.clone();var _node=tree.getNodeByPath(item.path);_treeHelper2.default.expandNode(_node);_this.setState({treeData:tree});}else{_this.loadNodeAndParentsByPath(path);}// load mainPanel\nif(item.is_dir){_this.showDir(path);}else{if(_utils.Utils.isMarkdownFile(path)){_this.showFile(path);}else{var url=_constants.siteRoot+'lib/'+item.repo_id+'/file'+_utils.Utils.encodePath(path);var newWindow=window.open('about:blank');newWindow.location.href=url;}}};_this.onMenuClick=function(){_this.setState({closeSideBar:!_this.state.closeSideBar});};_this.onMainNavBarClick=function(nodePath){var tree=_this.state.treeData.clone();var node=tree.getNodeByPath(nodePath);tree.expandNode(node);_this.setState({treeData:tree,currentNode:node});_this.showDir(node.path);};_this.onDirentClick=function(dirent){var direntPath=_utils.Utils.joinPath(_this.state.path,dirent.name);if(dirent.isDir()){// is dir\n_this.loadTreeNodeByPath(direntPath);_this.showDir(direntPath);}else{// is file\nif(_utils.Utils.isMarkdownFile(direntPath)){_this.showFile(direntPath);}else{var w=window.open('about:blank');var url=_constants.siteRoot+'lib/'+_constants.repoID+'/file'+_utils.Utils.encodePath(direntPath);w.location.href=url;}}};_this.onCloseSide=function(){_this.setState({closeSideBar:!_this.state.closeSideBar});};_this.onNodeClick=function(node){if(!_this.state.pathExist){_this.setState({pathExist:true});}if(node.object.isDir()){if(!node.isLoaded){var tree=_this.state.treeData.clone();node=tree.getNodeByPath(node.path);_seafileApi.seafileAPI.listWikiDir(_constants.slug,node.path).then(function(res){_this.addResponseListToNode(res.data.dirent_list,node);tree.collapseNode(node);_this.setState({treeData:tree});});}if(node.path===_this.state.path){if(node.isExpanded){var _tree=_treeHelper2.default.collapseNode(_this.state.treeData,node);_this.setState({treeData:_tree});}else{var _tree2=_this.state.treeData.clone();node=_tree2.getNodeByPath(node.path);_tree2.expandNode(node);_this.setState({treeData:_tree2});}}}if(node.path===_this.state.path){return;}if(node.object.isDir()){// isDir\n_this.showDir(node.path);}else{if(_utils.Utils.isMarkdownFile(node.path)){if(node.path!==_this.state.path){_this.showFile(node.path);}}else{var w=window.open('about:blank');var url=_constants.siteRoot+'lib/'+_constants.repoID+'/file'+_utils.Utils.encodePath(node.path);w.location.href=url;}}};_this.onNodeCollapse=function(node){var tree=_treeHelper2.default.collapseNode(_this.state.treeData,node);_this.setState({treeData:tree});};_this.onNodeExpanded=function(node){var tree=_this.state.treeData.clone();node=tree.getNodeByPath(node.path);if(!node.isLoaded){_seafileApi.seafileAPI.listWikiDir(_constants.slug,node.path).then(function(res){_this.addResponseListToNode(res.data.dirent_list,node);_this.setState({treeData:tree});});}else{tree.expandNode(node);_this.setState({treeData:tree});}};_this.addFirstResponseListToNode=function(list,node){node.isLoaded=true;node.isExpanded=true;var direntList=list.map(function(item){return new _dirent2.default(item);});direntList=direntList.filter(function(item){if(item.type==='dir'){var name=item.name.toLowerCase();return name!=='drafts'&&name!=='images'&&name!=='downloads';}return true;});direntList=_utils.Utils.sortDirents(direntList,'name','asc');var nodeList=direntList.map(function(object){return new _treeNode2.default({object:object});});node.addChildren(nodeList);};_this.addResponseListToNode=function(list,node){node.isLoaded=true;node.isExpanded=true;var direntList=list.map(function(item){return new _dirent2.default(item);});direntList=_utils.Utils.sortDirents(direntList,'name','asc');var nodeList=direntList.map(function(object){return new _treeNode2.default({object:object});});node.addChildren(nodeList);};_this.state={path:'',pathExist:true,closeSideBar:false,isViewFile:true,isDataLoading:true,direntList:[],content:'',permission:'',lastModified:'',latestContributor:'',isTreeDataLoading:true,treeData:_treeHelper2.default.buildTree(),currentNode:null,indexNode:null,indexContent:''};window.onpopstate=_this.onpopstate;_this.indexPath='/index.md';_this.homePath='/home.md';return _this;}_createClass(Wiki,[{key:'componentDidMount',value:function componentDidMount(){this.loadWikiData(_constants.initialPath);}},{key:'render',value:function render(){return _react2.default.createElement('div',{id:'main',className:'wiki-main'},_react2.default.createElement(_sidePanel2.default,{isTreeDataLoading:this.state.isTreeDataLoading,closeSideBar:this.state.closeSideBar,currentPath:this.state.path,treeData:this.state.treeData,indexNode:this.state.indexNode,indexContent:this.state.indexContent,onCloseSide:this.onCloseSide,onNodeClick:this.onNodeClick,onNodeCollapse:this.onNodeCollapse,onNodeExpanded:this.onNodeExpanded,onLinkClick:this.onLinkClick}),_react2.default.createElement(_mainPanel2.default,{path:this.state.path,pathExist:this.state.pathExist,isViewFile:this.state.isViewFile,isDataLoading:this.state.isDataLoading,content:this.state.content,permission:this.state.permission,lastModified:this.state.lastModified,latestContributor:this.state.latestContributor,direntList:this.state.direntList,onLinkClick:this.onLinkClick,onMenuClick:this.onMenuClick,onSearchedClick:this.onSearchedClick,onMainNavBarClick:this.onMainNavBarClick,onDirentClick:this.onDirentClick}));}}]);return Wiki;}(_react.Component);_reactDom2.default.render(_react2.default.createElement(Wiki,null),document.getElementById('wrapper'));\n\n/***/ }),\n\n/***/ 1150:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _logo=__webpack_require__(104);var _logo2=_interopRequireDefault(_logo);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _treeView=__webpack_require__(164);var _treeView2=_interopRequireDefault(_treeView);var _indexViewer=__webpack_require__(1151);var _indexViewer2=_interopRequireDefault(_indexViewer);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={closeSideBar:_propTypes2.default.bool.isRequired,isTreeDataLoading:_propTypes2.default.bool.isRequired,treeData:_propTypes2.default.object.isRequired,indexNode:_propTypes2.default.object,indexContent:_propTypes2.default.string.isRequired,currentPath:_propTypes2.default.string.isRequired,onCloseSide:_propTypes2.default.func.isRequired,onNodeClick:_propTypes2.default.func.isRequired,onNodeCollapse:_propTypes2.default.func.isRequired,onNodeExpanded:_propTypes2.default.func.isRequired,onLinkClick:_propTypes2.default.func.isRequired};var SidePanel=function(_Component){_inherits(SidePanel,_Component);function SidePanel(props){_classCallCheck(this,SidePanel);var _this=_possibleConstructorReturn(this,(SidePanel.__proto__||Object.getPrototypeOf(SidePanel)).call(this,props));_this.renderIndexView=function(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('h3',{className:'wiki-pages-heading'},(0,_constants.gettext)('Contents')),_react2.default.createElement('div',{className:'wiki-pages-container'},_react2.default.createElement(_indexViewer2.default,{indexContent:_this.props.indexContent,onLinkClick:_this.props.onLinkClick})));};_this.renderTreeView=function(){return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement('h3',{className:'wiki-pages-heading'},(0,_constants.gettext)('Pages')),_react2.default.createElement('div',{className:'wiki-pages-container'},_this.props.treeData&&_react2.default.createElement(_treeView2.default,{treeData:_this.props.treeData,currentPath:_this.props.currentPath,isNodeMenuShow:_this.isNodeMenuShow,onNodeClick:_this.props.onNodeClick,onNodeCollapse:_this.props.onNodeCollapse,onNodeExpanded:_this.props.onNodeExpanded})));};_this.isNodeMenuShow=false;return _this;}_createClass(SidePanel,[{key:'render',value:function render(){return _react2.default.createElement('div',{className:'side-panel wiki-side-panel '+(this.props.closeSideBar?'':'left-zero')},_react2.default.createElement('div',{className:'side-panel-top panel-top'},_react2.default.createElement(_logo2.default,{onCloseSidePanel:this.props.onCloseSide})),_react2.default.createElement('div',{id:'side-nav',className:'wiki-side-nav',role:'navigation'},this.props.isTreeDataLoading&&_react2.default.createElement(_loading2.default,null),!this.props.isTreeDataLoading&&this.props.indexNode&&this.renderIndexView(),!this.props.isTreeDataLoading&&!this.props.indexNode&&this.renderTreeView(),_constants.username&&_constants.permission&&_react2.default.createElement('div',{className:'text-left p-2'},_react2.default.createElement('a',{href:_constants.siteRoot+'library/'+_constants.repoID+'/'+_constants.slug+'/',className:'text-dark text-decoration-underline'},(0,_constants.gettext)('Go to Library')))));}}]);return SidePanel;}(_react.Component);SidePanel.propTypes=propTypes;exports.default=SidePanel;\n\n/***/ }),\n\n/***/ 1151:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _markdownViewer=__webpack_require__(115);var _markdownViewer2=_interopRequireDefault(_markdownViewer);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var viewerPropTypes={indexContent:_propTypes2.default.string.isRequired,onLinkClick:_propTypes2.default.func.isRequired};var contentClass='wiki-page-content';var IndexContentViewer=function(_React$Component){_inherits(IndexContentViewer,_React$Component);function IndexContentViewer(props){_classCallCheck(this,IndexContentViewer);var _this=_possibleConstructorReturn(this,(IndexContentViewer.__proto__||Object.getPrototypeOf(IndexContentViewer)).call(this,props));_this.onLinkClick=function(event){event.preventDefault();event.stopPropagation();var link='';if(event.target.tagName!=='A'){var target=event.target.parentNode;while(target.tagName!=='A'){target=target.parentNode;}link=target.href;}else{link=event.target.href;}_this.props.onLinkClick(link);};_this.changeInlineNode=function(item){if(item.object=='inline'){var url=void 0;// change image url\nif(item.type=='image'&&_constants.isPublicWiki){url=item.data.src;var re=new RegExp(_constants.serviceURL+'/lib/'+_constants.repoID+'/file.*raw=1');// different repo \nif(!re.test(url)){return;}// get image path\nvar index=url.indexOf('/file');var index2=url.indexOf('?');var imagePath=url.substring(index+5,index2);// replace url\nitem.data.src=_constants.serviceURL+'/view-image-via-public-wiki/?slug='+_constants.slug+'&path='+imagePath;}else if(item.type=='link'){url=item.data.href;// change file url \nif(_utils.Utils.isInternalMarkdownLink(url,_constants.repoID)){var path=_utils.Utils.getPathFromInternalMarkdownLink(url,_constants.repoID);// replace url\nitem.data.href=_constants.serviceURL+'/wikis/'+_constants.slug+path;}// change dir url \nelse if(_utils.Utils.isInternalDirLink(url,_constants.repoID)){var _path=_utils.Utils.getPathFromInternalDirLink(url,_constants.repoID);// replace url\nitem.data.href=_constants.serviceURL+'/wikis/'+_constants.slug+_path;}}}return item;};_this.modifyValueBeforeRender=function(value){var nodes=value.document.nodes;var newNodes=_utils.Utils.changeMarkdownNodes(nodes,_this.changeInlineNode);value.document.nodes=newNodes;return value;};_this.onContentRendered=function(){// todo\n};_this.links=[];return _this;}_createClass(IndexContentViewer,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;// Bind event when first loaded\nthis.links=document.querySelectorAll('.'+contentClass+' a');this.links.forEach(function(link){link.addEventListener('click',_this2.onLinkClick);});}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(){var _this3=this;// Unbound event when updating\nthis.links.forEach(function(link){link.removeEventListener('click',_this3.onLinkClick);});}},{key:'componentDidUpdate',value:function componentDidUpdate(){var _this4=this;// Update completed, rebind event\nthis.links=document.querySelectorAll('.'+contentClass+' a');this.links.forEach(function(link){link.addEventListener('click',_this4.onLinkClick);});}},{key:'componentWillUnmount',value:function componentWillUnmount(){var _this5=this;// Rebinding events when the component is destroyed\nthis.links.forEach(function(link){link.removeEventListener('click',_this5.onLinkClick);});}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:contentClass},_react2.default.createElement(_markdownViewer2.default,{markdownContent:this.props.indexContent,onContentRendered:this.onContentRendered,modifyValueBeforeRender:this.modifyValueBeforeRender}));}}]);return IndexContentViewer;}(_react2.default.Component);IndexContentViewer.propTypes=viewerPropTypes;exports.default=IndexContentViewer;\n\n/***/ }),\n\n/***/ 1152:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _commonToolbar=__webpack_require__(80);var _commonToolbar2=_interopRequireDefault(_commonToolbar);var _wikiMarkdownViewer=__webpack_require__(169);var _wikiMarkdownViewer2=_interopRequireDefault(_wikiMarkdownViewer);var _wikiDirListView=__webpack_require__(1153);var _wikiDirListView2=_interopRequireDefault(_wikiDirListView);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,pathExist:_propTypes2.default.bool.isRequired,isViewFile:_propTypes2.default.bool.isRequired,isDataLoading:_propTypes2.default.bool.isRequired,content:_propTypes2.default.string,permission:_propTypes2.default.string,lastModified:_propTypes2.default.string,latestContributor:_propTypes2.default.string,direntList:_propTypes2.default.array.isRequired,onMenuClick:_propTypes2.default.func.isRequired,onSearchedClick:_propTypes2.default.func.isRequired,onMainNavBarClick:_propTypes2.default.func.isRequired,onDirentClick:_propTypes2.default.func.isRequired,onLinkClick:_propTypes2.default.func.isRequired};var MainPanel=function(_Component){_inherits(MainPanel,_Component);function MainPanel(){var _ref;var _temp,_this,_ret;_classCallCheck(this,MainPanel);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=MainPanel.__proto__||Object.getPrototypeOf(MainPanel)).call.apply(_ref,[this].concat(args))),_this),_this.onMenuClick=function(){_this.props.onMenuClick();},_this.onEditClick=function(e){e.preventDefault();var url=_constants.siteRoot+'lib/'+_constants.repoID+'/file'+_this.props.path+'?mode=edit';window.open(url);},_this.onMainNavBarClick=function(e){_this.props.onMainNavBarClick(e.target.dataset.path);},_this.renderNavPath=function(){var paths=_this.props.path.split('/');var nodePath='';var pathElem=paths.map(function(item,index){if(item===''){return;}if(index===paths.length-1){return _react2.default.createElement('span',{key:index},_react2.default.createElement('span',{className:'path-split'},'/'),item);}else{nodePath+='/'+item;return _react2.default.createElement('span',{key:index},_react2.default.createElement('span',{className:'path-split'},'/'),_react2.default.createElement('a',{className:'path-link','data-path':nodePath,onClick:_this.onMainNavBarClick},item));}});return pathElem;},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(MainPanel,[{key:'render',value:function render(){var errMessage=_react2.default.createElement('div',{className:'message err-tip'},(0,_constants.gettext)('Folder does not exist.'));return _react2.default.createElement('div',{className:'main-panel wiki-main-panel o-hidden'},_react2.default.createElement('div',{className:'main-panel-north panel-top border-left-show'},_constants.username&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('div',{className:'cur-view-toolbar'},_react2.default.createElement('span',{className:'sf2-icon-menu hidden-md-up d-md-none side-nav-toggle',title:'Side Nav Menu',onClick:this.onMenuClick}),this.props.permission==='rw'&&_react2.default.createElement('button',{className:'btn btn-secondary operation-item',title:'Edit File',onClick:this.onEditClick},(0,_constants.gettext)('Edit Page'))),_react2.default.createElement(_commonToolbar2.default,{repoID:_constants.repoID,onSearchedClick:this.props.onSearchedClick,searchPlaceholder:(0,_constants.gettext)('Search files in this library')}))),_react2.default.createElement('div',{className:'main-panel-center'},_react2.default.createElement('div',{className:'cur-view-path'},_react2.default.createElement('div',{className:'path-containter'},_constants.username&&_react2.default.createElement(_react.Fragment,null,_react2.default.createElement('a',{href:_constants.siteRoot+'wikis/',className:'normal'},(0,_constants.gettext)('Wikis')),_react2.default.createElement('span',{className:'path-split'},'/')),_react2.default.createElement('a',{href:_constants.siteRoot+'wikis/'+_constants.slug,className:'normal'},_constants.slug),this.renderNavPath())),_react2.default.createElement('div',{className:'cur-view-content'},!this.props.pathExist&&errMessage,this.props.pathExist&&this.props.isDataLoading&&_react2.default.createElement(_loading2.default,null),this.props.pathExist&&!this.props.isDataLoading&&this.props.isViewFile&&_react2.default.createElement(_wikiMarkdownViewer2.default,{markdownContent:this.props.content,isFileLoading:this.props.isDataLoading,lastModified:this.props.lastModified,latestContributor:this.props.latestContributor,onLinkClick:this.props.onLinkClick,isWiki:true}),!this.props.isDataLoading&&!this.props.isViewFile&&_react2.default.createElement(_wikiDirListView2.default,{path:this.props.path,direntList:this.props.direntList,onDirentClick:this.props.onDirentClick}))));}}]);return MainPanel;}(_react.Component);MainPanel.propTypes=propTypes;exports.default=MainPanel;\n\n/***/ }),\n\n/***/ 1153:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _wikiDirListItem=__webpack_require__(1154);var _wikiDirListItem2=_interopRequireDefault(_wikiDirListItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,direntList:_propTypes2.default.array.isRequired,onDirentClick:_propTypes2.default.func.isRequired};var WikiDirListView=function(_React$Component){_inherits(WikiDirListView,_React$Component);function WikiDirListView(){_classCallCheck(this,WikiDirListView);return _possibleConstructorReturn(this,(WikiDirListView.__proto__||Object.getPrototypeOf(WikiDirListView)).apply(this,arguments));}_createClass(WikiDirListView,[{key:'render',value:function render(){var _this2=this;return _react2.default.createElement('table',null,_react2.default.createElement('thead',null,_react2.default.createElement('tr',null,_react2.default.createElement('th',{style:{width:'4%'}}),_react2.default.createElement('th',{style:{width:'66%'}},(0,_constants.gettext)('Name')),_react2.default.createElement('th',{style:{width:'15%'}},(0,_constants.gettext)('Size')),_react2.default.createElement('th',{style:{width:'15%'}},(0,_constants.gettext)('Last Update')))),_react2.default.createElement('tbody',null,this.props.direntList.length!==0&&this.props.direntList.map(function(dirent,index){return _react2.default.createElement(_wikiDirListItem2.default,{key:index,path:_this2.props.path,dirent:dirent,onDirentClick:_this2.props.onDirentClick});})));}}]);return WikiDirListView;}(_react2.default.Component);WikiDirListView.propTypes=propTypes;exports.default=WikiDirListView;\n\n/***/ }),\n\n/***/ 1154:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={path:_propTypes2.default.string.isRequired,dirent:_propTypes2.default.object.isRequired,onDirentClick:_propTypes2.default.func.isRequired};var WikiDirListItem=function(_React$Component){_inherits(WikiDirListItem,_React$Component);function WikiDirListItem(props){_classCallCheck(this,WikiDirListItem);var _this=_possibleConstructorReturn(this,(WikiDirListItem.__proto__||Object.getPrototypeOf(WikiDirListItem)).call(this,props));_this.onMouseEnter=function(){_this.setState({highlight:true});};_this.onMouseLeave=function(){_this.setState({highlight:false});};_this.onDirentClick=function(e){e.preventDefault();_this.props.onDirentClick(_this.props.dirent);};_this.state={highlight:false};return _this;}_createClass(WikiDirListItem,[{key:'render',value:function render(){var _props=this.props,path=_props.path,dirent=_props.dirent;var href=_constants.siteRoot+'wikis'+_utils.Utils.joinPath(path,dirent.name);var iconUrl=_utils.Utils.getDirentIcon(dirent);return _react2.default.createElement('tr',{className:this.state.highlight?'tr-highlight':'',onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_react2.default.createElement('td',{className:'text-center'},_react2.default.createElement('img',{src:iconUrl,width:'24',alt:''})),_react2.default.createElement('td',{className:'name'},_react2.default.createElement('a',{href:href,onClick:this.onDirentClick},dirent.name)),_react2.default.createElement('td',null,dirent.size),_react2.default.createElement('td',{title:dirent.mtime_relative},dirent.mtime_relative));}}]);return WikiDirListItem;}(_react2.default.Component);WikiDirListItem.propTypes=propTypes;exports.default=WikiDirListItem;\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactResponsive=__webpack_require__(117);var _reactResponsive2=_interopRequireDefault(_reactResponsive);var _constants=__webpack_require__(2);var _searchResultItem=__webpack_require__(118);var _searchResultItem2=_interopRequireDefault(_searchResultItem);var _editorUtilties=__webpack_require__(21);var _editorUtilties2=_interopRequireDefault(_editorUtilties);var _more=__webpack_require__(119);var _more2=_interopRequireDefault(_more);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string,placeholder:_propTypes2.default.string,onSearchedClick:_propTypes2.default.func.isRequired};var Search=function(_Component){_inherits(Search,_Component);function Search(props){_classCallCheck(this,Search);var _this2=_possibleConstructorReturn(this,(Search.__proto__||Object.getPrototypeOf(Search)).call(this,props));_this2.onFocusHandler=function(){_this2.setState({width:'30rem',isMaskShow:true,isCloseShow:true});};_this2.onCloseHandler=function(){_this2.resetToDefault();};_this2.onItemClickHandler=function(item){_this2.resetToDefault();_this2.props.onSearchedClick(item);};_this2.onChangeHandler=function(event){var _this=_this2;_this2.setState({value:event.target.value});var newValue=event.target.value;if(_this2.inputValue===newValue.trim()){return false;}_this2.inputValue=newValue.trim();if(_this2.inputValue===''||_this.getValueLength(_this2.inputValue)<3){_this2.setState({isResultShow:false,isResultGetted:false});return false;}var repoID=_this2.props.repoID;var queryData={q:newValue,search_repo:repoID?repoID:'all',search_ftypes:'all'};if(_this2.timer){clearTimeout(_this2.timer);}_this2.timer=setTimeout(_this.getSearchResult(queryData),500);};_this2.onShowMore=function(){var repoID=_this2.props.repoID;var newValue=_this2.state.value;var queryData={q:newValue,search_repo:repoID?repoID:'all',search_ftypes:'all'};var params='';for(var key in queryData){params+=key+'='+queryData[key]+'&';}window.location=_constants.siteRoot+'search/?'+params.slice(0,params.length-1);};_this2.onSearchToggle=function(){_this2.setState({isSearchInputShow:!_this2.state.isSearchInputShow,isMaskShow:!_this2.state.isMaskShow});};_this2.state={width:'default',value:'',resultItems:[],isMaskShow:false,isResultShow:false,isResultGetted:false,isCloseShow:false,isSearchInputShow:false// for mobile\n};_this2.inputValue='';_this2.source=null;// used to cancel request;\nreturn _this2;}_createClass(Search,[{key:'getSearchResult',value:function getSearchResult(queryData){if(this.source){this.cancelRequest();}this.setState({isResultShow:true,isResultGetted:false});this.source=_editorUtilties2.default.getSource();this.sendRequest(queryData,this.source.token);}},{key:'sendRequest',value:function sendRequest(queryData,cancelToken){var _this=this;_editorUtilties2.default.searchFiles(queryData,cancelToken).then(function(res){if(!res.data.total){_this.setState({resultItems:[],isResultGetted:true});_this.source=null;return;}var items=_this.formatResultItems(res.data.results);_this.setState({resultItems:items,isResultGetted:true});_this.source=null;}).catch(function(res){/* eslint-disable */console.log(res);/* eslint-enable */});}},{key:'cancelRequest',value:function cancelRequest(){this.source.cancel('prev request is cancelled');}},{key:'getValueLength',value:function getValueLength(str){var i=0,code,len=0;for(;i<str.length;i++){code=str.charCodeAt(i);if(code==10){//solve enter problem\nlen+=2;}else if(code<0x007f){len+=1;}else if(code>=0x0080&&code<=0x07ff){len+=2;}else if(code>=0x0800&&code<=0xffff){len+=3;}}return len;}},{key:'formatResultItems',value:function formatResultItems(data){var items=[];var length=data.length>5?5:data.length;for(var i=0;i<length;i++){items[i]={};items[i]['index']=[i];items[i]['name']=data[i].name;items[i]['path']=data[i].fullpath;items[i]['repo_id']=data[i].repo_id;items[i]['repo_name']=data[i].repo_name;items[i]['is_dir']=data[i].is_dir;items[i]['link_content']=decodeURI(data[i].fullpath).substring(1);items[i]['content']=data[i].content_highlight;}return items;}},{key:'resetToDefault',value:function resetToDefault(){this.inputValue=null;this.setState({width:'',value:'',isMaskShow:false,isCloseShow:false,isResultShow:false,isResultGetted:false,resultItems:[],isSearchInputShow:false});}},{key:'renderSearchResult',value:function renderSearchResult(){var _this=this;if(!this.state.isResultShow){return;}if(!this.state.isResultGetted||this.getValueLength(this.inputValue)<3){return _react2.default.createElement('span',{className:'loading-icon loading-tip'});}if(!this.state.resultItems.length){return _react2.default.createElement('div',{className:'search-result-none'},(0,_constants.gettext)('No results matching.'));}var isShowMore=this.state.resultItems.length>=5?true:false;return _react2.default.createElement('ul',{className:'search-result-list'},this.state.resultItems.map(function(item){return _react2.default.createElement(_searchResultItem2.default,{key:item.index,item:item,onItemClickHandler:_this.onItemClickHandler});}),isShowMore&&_react2.default.createElement(_more2.default,{onShowMore:this.onShowMore}));}},{key:'render',value:function render(){var width=this.state.width!=='default'?this.state.width:'';var style={'width':width};return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_reactResponsive2.default,{query:'(min-width: 768px)'},_react2.default.createElement('div',{className:'search'},_react2.default.createElement('div',{className:'search-mask '+(this.state.isMaskShow?'':'hide'),onClick:this.onCloseHandler}),_react2.default.createElement('div',{className:'search-container'},_react2.default.createElement('div',{className:'input-icon'},_react2.default.createElement('i',{className:'search-icon-left input-icon-addon fas fa-search'}),_react2.default.createElement('input',{type:'text',className:'form-control search-input',name:'query',placeholder:this.props.placeholder,style:style,value:this.state.value,onFocus:this.onFocusHandler,onChange:this.onChangeHandler,autoComplete:'off'}),this.state.isCloseShow&&_react2.default.createElement('i',{className:'search-icon-right input-icon-addon fas fa-times',onClick:this.onCloseHandler})),_react2.default.createElement('div',{className:'search-result-container'},this.renderSearchResult())))),_react2.default.createElement(_reactResponsive2.default,{query:'(max-width: 768px)'},_react2.default.createElement('div',{className:'search-icon-container'},_react2.default.createElement('i',{className:'search-icon fas fa-search',onClick:this.onSearchToggle})),this.state.isSearchInputShow&&_react2.default.createElement('div',{className:'search'},_react2.default.createElement('div',{className:'search-mask '+(this.state.isMaskShow?'':'hide'),onClick:this.onCloseHandler}),_react2.default.createElement('div',{className:'search-container'},_react2.default.createElement('div',{className:'input-icon'},_react2.default.createElement('i',{className:'search-icon-left input-icon-addon fas fa-search'}),_react2.default.createElement('input',{type:'text',className:'form-control search-input',name:'query',placeholder:this.props.placeholder,style:style,value:this.state.value,onFocus:this.onFocusHandler,onChange:this.onChangeHandler,autoComplete:'off'}),this.state.isCloseShow&&_react2.default.createElement('i',{className:'search-icon-right input-icon-addon fas fa-times',onClick:this.onCloseHandler})),_react2.default.createElement('div',{className:'search-result-container'},this.renderSearchResult())))));}}]);return Search;}(_react.Component);Search.propTypes=propTypes;exports.default=Search;\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={item:_propTypes2.default.object.isRequired,onItemClickHandler:_propTypes2.default.func.isRequired};var SearchResultItem=function(_React$Component){_inherits(SearchResultItem,_React$Component);function SearchResultItem(){var _ref;var _temp,_this,_ret;_classCallCheck(this,SearchResultItem);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=SearchResultItem.__proto__||Object.getPrototypeOf(SearchResultItem)).call.apply(_ref,[this].concat(args))),_this),_this.onClickHandler=function(){var item=_this.props.item;_this.props.onItemClickHandler(item);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(SearchResultItem,[{key:'render',value:function render(){var item=this.props.item;var fileIconUrl=item.is_dir?_utils.Utils.getFolderIconUrl(false,192):_utils.Utils.getFileIconUrl(item.name,192);return _react2.default.createElement('li',{className:'search-result-item',onClick:this.onClickHandler},_react2.default.createElement('img',{className:'item-img',src:fileIconUrl,alt:''}),_react2.default.createElement('div',{className:'item-content'},_react2.default.createElement('div',{className:'item-name ellipsis'},item.name),_react2.default.createElement('div',{className:'item-link ellipsis'},item.repo_name,'/',item.link_content),_react2.default.createElement('div',{className:'item-text ellipsis',dangerouslySetInnerHTML:{__html:item.content}})));}}]);return SearchResultItem;}(_react2.default.Component);SearchResultItem.propTypes=propTypes;exports.default=SearchResultItem;\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onShowMore:_propTypes2.default.func.isRequired};var More=function(_React$Component){_inherits(More,_React$Component);function More(){_classCallCheck(this,More);return _possibleConstructorReturn(this,(More.__proto__||Object.getPrototypeOf(More)).apply(this,arguments));}_createClass(More,[{key:'render',value:function render(){return _react2.default.createElement('li',{className:'list-show-more',onClick:this.props.onShowMore},_react2.default.createElement('span',{className:'more-message'},(0,_constants.gettext)('show more')));}}]);return More;}(_react2.default.Component);More.propTypes=propTypes;exports.default=More;\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  __webpack_require__(33).enable();\n  window.Promise = __webpack_require__(34);\n}\n\n// fetch() polyfill for making API calls.\n__webpack_require__(28);\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = __webpack_require__(20);\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\nif (false) {\n  require('raf').polyfill(global);\n}\n\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _seafileApi=__webpack_require__(3);var _constants=__webpack_require__(2);var _noticeItem=__webpack_require__(121);var _noticeItem2=_interopRequireDefault(_noticeItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Notification=function(_React$Component){_inherits(Notification,_React$Component);function Notification(props){_classCallCheck(this,Notification);var _this=_possibleConstructorReturn(this,(Notification.__proto__||Object.getPrototypeOf(Notification)).call(this,props));_this.onClick=function(){if(_this.state.showNotice){_seafileApi.seafileAPI.updateNotifications();_this.setState({showNotice:false,unseenCount:0});}else{_this.loadNotices();_this.setState({showNotice:true});}};_this.loadNotices=function(){var page=1;var perPage=5;_seafileApi.seafileAPI.listPopupNotices(page,perPage).then(function(res){var noticeList=res.data.notification_list;_this.setState({noticeList:noticeList});});};_this.onNoticeItemClick=function(noticeItem){var noticeList=_this.state.noticeList.map(function(item){if(item.id===noticeItem.id){item.seen=true;}return item;});_seafileApi.seafileAPI.markNoticeAsRead(noticeItem.id);var unseenCount=_this.state.unseenCount===0?0:_this.state.unseenCount-1;_this.setState({noticeList:noticeList,unseenCount:unseenCount});};_this.state={showNotice:false,unseenCount:0,noticeList:[]};return _this;}_createClass(Notification,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;_seafileApi.seafileAPI.getUnseenNotificationCount().then(function(res){_this2.setState({unseenCount:res.data.unseen_count});});}},{key:'render',value:function render(){var _this3=this;return _react2.default.createElement('div',{id:'notifications'},_react2.default.createElement('a',{href:'#',onClick:this.onClick,className:'no-deco',id:'notice-icon',title:'Notifications','aria-label':'Notifications'},_react2.default.createElement('span',{className:'sf2-icon-bell'}),_react2.default.createElement('span',{className:'num '+(this.state.unseenCount?'':'hide')},this.state.unseenCount)),_react2.default.createElement('div',{id:'notice-popover',className:'sf-popover '+(this.state.showNotice?'':'hide')},_react2.default.createElement('div',{className:'outer-caret up-outer-caret'},_react2.default.createElement('div',{className:'inner-caret'})),_react2.default.createElement('div',{className:'sf-popover-hd ovhd'},_react2.default.createElement('h3',{className:'sf-popover-title title'},(0,_constants.gettext)('Notifications')),_react2.default.createElement('a',{href:'#',onClick:this.onClick,title:(0,_constants.gettext)('Close'),'aria-label':(0,_constants.gettext)('Close'),className:'sf-popover-close js-close sf2-icon-x1 action-icon float-right'})),_react2.default.createElement('div',{className:'sf-popover-con'},_react2.default.createElement('ul',{className:'notice-list'},this.state.noticeList.map(function(item){return _react2.default.createElement(_noticeItem2.default,{key:item.id,noticeItem:item,onNoticeItemClick:_this3.onNoticeItemClick});})),_react2.default.createElement('a',{href:_constants.siteRoot+'notification/list/',className:'view-all'},(0,_constants.gettext)('See All Notifications')))));}}]);return Notification;}(_react2.default.Component);exports.default=Notification;\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _constants=__webpack_require__(2);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={noticeItem:_propTypes2.default.object.isRequired,onNoticeItemClick:_propTypes2.default.func.isRequired};var MSG_TYPE_ADD_USER_TO_GROUP='add_user_to_group';var MSG_TYPE_REPO_SHARE='repo_share';var MSG_TYPE_REPO_SHARE_TO_GROUP='repo_share_to_group';var MSG_TYPE_REPO_TRANSFER='repo_transfer';var MSG_TYPE_FILE_UPLOADED='file_uploaded';var MSG_TYPE_FILE_COMMENT='file_comment';var MSG_TYPE_DRAFT_COMMENT='draft_comment';var MSG_TYPE_DRAFT_REVIEWER='draft_reviewer';var MSG_TYPE_GUEST_INVITATION_ACCEPTED='guest_invitation_accepted';var NoticeItem=function(_React$Component){_inherits(NoticeItem,_React$Component);function NoticeItem(){var _ref;var _temp,_this,_ret;_classCallCheck(this,NoticeItem);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=NoticeItem.__proto__||Object.getPrototypeOf(NoticeItem)).call.apply(_ref,[this].concat(args))),_this),_this.onNoticeItemClick=function(){var item=_this.props.noticeItem;if(item.seen===true){return;}_this.props.onNoticeItemClick(item);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(NoticeItem,[{key:'generatorNoticeInfo',value:function generatorNoticeInfo(){var noticeItem=this.props.noticeItem;var noticeType=noticeItem.type;var detail=noticeItem.detail;if(noticeType===MSG_TYPE_ADD_USER_TO_GROUP){var avatar_url=detail.group_staff_avatar_url;var groupStaff=detail.group_staff_name;var userHref=_constants.siteRoot+'profile/'+detail.group_staff_email+'/';var groupHref=_constants.siteRoot+'group/'+detail.group_id+'/';var groupName=detail.group_name;var notice=(0,_constants.gettext)('User {user_link} has added you to {group_link}');var userLink='<a href='+userHref+'>'+groupStaff+'</a>';var groupLink='<a href='+groupHref+'>'+groupName+'</a>';notice=notice.replace('{user_link}',userLink);notice=notice.replace('{group_link}',groupLink);return{avatar_url:avatar_url,notice:notice};}if(noticeType===MSG_TYPE_REPO_SHARE){var _avatar_url=detail.share_from_user_avatar_url;var shareFrom=detail.share_from_user_name;var repoName=detail.repo_name;var repoUrl=_constants.siteRoot+'library/'+detail.repo_id+'/'+repoName+'/';var path=detail.path;var _notice='';var repoLink='<a href='+repoUrl+'>'+repoName+'</a>';if(path==='/'){// share repo\n_notice=(0,_constants.gettext)('{share_from} has shared a library named {repo_link} to you.');}else{// share folder\n_notice=(0,_constants.gettext)('{share_from} has shared a folder named {repo_link} to you.');}_notice=_notice.replace('{share_from}',shareFrom);_notice=_notice.replace('{repo_link}',repoLink);return{avatar_url:_avatar_url,notice:_notice};}if(noticeType===MSG_TYPE_REPO_SHARE_TO_GROUP){var _avatar_url2=detail.share_from_user_avatar_url;var _shareFrom=detail.share_from_user_name;var _repoName=detail.repo_name;var _repoUrl=_constants.siteRoot+'library/'+detail.repo_id+'/'+_repoName+'/';var groupUrl=_constants.siteRoot+'group/'+detail.group_id+'/';var _groupName=detail.group_name;var _path=detail.path;var _notice2='';var _repoLink='<a href='+_repoUrl+'>'+_repoName+'</a>';var _groupLink='<a href='+groupUrl+'>'+_groupName+'</a>';if(_path==='/'){_notice2=(0,_constants.gettext)('{share_from} has shared a library named {repo_link} to group {group_link}.');}else{_notice2=(0,_constants.gettext)('{share_from} has shared a folder named {repo_link} to group {group_link}.');}_notice2=_notice2.replace('{share_from}',_shareFrom);_notice2=_notice2.replace('{repo_link}',_repoLink);_notice2=_notice2.replace('{group_link}',_groupLink);return{avatar_url:_avatar_url2,notice:_notice2};}if(noticeType===MSG_TYPE_REPO_TRANSFER){var _avatar_url3=detail.transfer_from_user_avatar_url;var repoOwner=detail.transfer_from_user_name;var _repoName2=detail.repo_name;var _repoUrl2=_constants.siteRoot+'library/'+detail.repo_id+'/'+_repoName2+'/';var _notice3=(0,_constants.gettext)('{user} has transfered a library named {repo_link} to you.');var _repoLink2='<a href='+_repoUrl2+'>'+_repoName2+'</a>';_notice3=_notice3.replace('{user}',repoOwner);_notice3=_notice3.replace('{repo_link}',_repoLink2);return{avatar_url:_avatar_url3,notice:_notice3};}if(noticeType===MSG_TYPE_FILE_UPLOADED){var _avatar_url4=detail.uploaded_user_avatar_url;var fileName=detail.file_name;var fileLink=_constants.siteRoot+'lib/'+detail.repo_id+'/'+'file'+_utils.Utils.encodePath(detail.file_path);var folderName=detail.folder_name;var folderLink=_constants.siteRoot+'library/'+detail.repo_id+'/'+detail.repo_name+_utils.Utils.encodePath(detail.folder_path);var _notice4='';if(detail.repo_id){// todo is repo exist ?\nvar uploadFileLink='<a href='+fileLink+'>'+fileName+'</a>';var uploadedLink='<a href='+folderLink+'>'+folderName+'</a>';_notice4=(0,_constants.gettext)('A file named {upload_file_link} is uploaded to {uploaded_link}.');_notice4=_notice4.replace('{upload_file_link}',uploadFileLink);_notice4=_notice4.replace('{uploaded_link}',uploadedLink);}else{_notice4=(0,_constants.gettext)('A file named {upload_file_link} is uploaded to {uploaded_link}.');_notice4=_notice4.replace('{upload_file_link}',fileName);_notice4=_notice4.replace('{uploaded_link}','<strong>Deleted Library</strong>');}return{avatar_url:_avatar_url4,notice:_notice4};}if(noticeType===MSG_TYPE_FILE_COMMENT){var _avatar_url5=detail.author_avatar_url;var author=detail.author_name;var _fileName=detail.file_name;var fileUrl=_constants.siteRoot+'lib/'+detail.repo_id+'/'+'file'+detail.file_path;var _notice5=(0,_constants.gettext)('File {file_link} has a new comment form user {author}.');var _fileLink='<a href='+fileUrl+'>'+_fileName+'</a>';_notice5=_notice5.replace('{file_link}',_fileLink);_notice5=_notice5.replace('{author}',author);return{avatar_url:_avatar_url5,notice:_notice5};}if(noticeType===MSG_TYPE_DRAFT_COMMENT){var _avatar_url6=detail.author_avatar_url;var _author=detail.author_name;var draftId=detail.draft_id;var draftUrl=_constants.siteRoot+'drafts/'+draftId+'/';var _notice6=(0,_constants.gettext)('{draft_link} has a new comment from user {author}.');var draftLink='<a href='+draftUrl+'>'+(0,_constants.gettext)('Draft')+'#'+draftId+'</a>';_notice6=_notice6.replace('{draft_link}',draftLink);_notice6=_notice6.replace('{author}',_author);return{avatar_url:_avatar_url6,notice:_notice6};}if(noticeType===MSG_TYPE_DRAFT_REVIEWER){var _avatar_url7=detail.request_user_avatat_url;var fromUser=detail.request_user_name;var _draftId=detail.draft_id;var _draftUrl=_constants.siteRoot+'drafts/'+_draftId+'/';var _notice7=(0,_constants.gettext)('{from_user} has sent you a request for {draft_link}.');var _draftLink='<a href='+_draftUrl+'>'+(0,_constants.gettext)('Draft')+'#'+_draftId+'</a>';_notice7=_notice7.replace('{from_user}',fromUser);_notice7=_notice7.replace('{draft_link}',_draftLink);return{avatar_url:_avatar_url7,notice:_notice7};}// if (noticeType === MSG_TYPE_GUEST_INVITATION_ACCEPTED) {\n// }\nreturn{avatar_url:null,notice:null};}},{key:'render',value:function render(){var noticeItem=this.props.noticeItem;var _generatorNoticeInfo=this.generatorNoticeInfo(),avatar_url=_generatorNoticeInfo.avatar_url,notice=_generatorNoticeInfo.notice;if(!avatar_url&&!notice){return'';}return _react2.default.createElement('li',{onClick:this.onNoticeItemClick,className:noticeItem.seen?'read':'unread'},_react2.default.createElement('div',{className:'notice-item'},_react2.default.createElement('div',{className:'main-info'},_react2.default.createElement('img',{src:avatar_url,width:'32',height:'32',className:'avatar'}),_react2.default.createElement('p',{className:'brief',dangerouslySetInnerHTML:{__html:notice}})),_react2.default.createElement('p',{className:'time'},(0,_moment2.default)(noticeItem.timestamp).fromNow())));}}]);return NoticeItem;}(_react2.default.Component);NoticeItem.propTypes=propTypes;exports.default=NoticeItem;\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var strChineseFirstPY=exports.strChineseFirstPY=\"YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY\";\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 14:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _moment=__webpack_require__(6);var _moment2=_interopRequireDefault(_moment);var _utils=__webpack_require__(4);var _fileTag=__webpack_require__(24);var _fileTag2=_interopRequireDefault(_fileTag);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Dirent=function(){function Dirent(json){_classCallCheck(this,Dirent);this.id=json.id||'0000000000000000';this.name=json.name;this.type=json.type;this.mtime=json.mtime;this.mtime_relative=_moment2.default.unix(json.mtime).fromNow();this.permission=json.permission||'rw';this.isSelected=false;// is check or not\nthis.starred=json.starred||false;if(json.type==='file'){this.size=_utils.Utils.bytesToSize(json.size);this.is_locked=json.is_locked||false;this.lock_time=json.lock_time||'';this.lock_owner=json.lock_owner||null;this.lock_owner_name=json.lock_owner_name||null;this.locked_by_me=json.locked_by_me||false;this.modifier_name=json.modifier_name||'';this.modifier_email=json.modifier_email||'';this.modifier_contact_email=json.modifier_contact_email||'';var file_tags=[];if(json.file_tags){file_tags=json.file_tags.map(function(item){return new _fileTag2.default(item);});}this.file_tags=file_tags;if(json.encoded_thumbnail_src){this.encoded_thumbnail_src=json.encoded_thumbnail_src;}}}_createClass(Dirent,[{key:'clone',value:function clone(){return new Dirent(this);}},{key:'isDir',value:function isDir(){return this.type!=='file';}}]);return Dirent;}();exports.default=Dirent;\n\n/***/ }),\n\n/***/ 162:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _utils=__webpack_require__(4);var _tree=__webpack_require__(163);var _tree2=_interopRequireDefault(_tree);var _treeNode=__webpack_require__(95);var _treeNode2=_interopRequireDefault(_treeNode);var _dirent=__webpack_require__(14);var _dirent2=_interopRequireDefault(_dirent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var TreeHelper=function(){function TreeHelper(){_classCallCheck(this,TreeHelper);}_createClass(TreeHelper,[{key:'expandNode',value:function expandNode(tree,node){// This tree has been cloned\ntree.expandNode(node);}},{key:'collapseNode',value:function collapseNode(tree,node){var treeCopy=tree.clone();node=treeCopy.getNodeByPath(node.path);treeCopy.collapseNode(node);return treeCopy;}},{key:'findNodeByPath',value:function findNodeByPath(tree,nodePath){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);return node;}},{key:'getNodeChildrenObject',value:function getNodeChildrenObject(tree,node){var sortType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'name';var order=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'asc';var objects=tree.getNodeChildrenObject(node);objects=_utils.Utils.sortDirents(objects,sortType,order);return objects;}},{key:'addNodeToParent',value:function addNodeToParent(tree,node,parentNode){tree.addNodeToParentNode(node,parentNode);return tree;}},{key:'addNodeListToParent',value:function addNodeListToParent(tree,nodeList,parentNode){tree.addNodeListToParent(nodeList,parentNode);return tree;}},{key:'addNodeToParentByPath',value:function addNodeToParentByPath(tree,node,parentPath){var treeCopy=tree.clone();var parentNode=treeCopy.getNodeByPath(parentPath);treeCopy.addNodeToParent(node,parentNode);return treeCopy;}},{key:'deleteNodeByPath',value:function deleteNodeByPath(tree,nodePath){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);treeCopy.deleteNode(node);return treeCopy;}},{key:'deleteNodeListByPaths',value:function deleteNodeListByPaths(tree,nodePaths){var treeCopy=tree.clone();nodePaths.forEach(function(nodePath){var node=treeCopy.getNodeByPath(nodePath);treeCopy.deleteNode(node);});return treeCopy;}},{key:'renameNodeByPath',value:function renameNodeByPath(tree,nodePath,newName){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);treeCopy.renameNode(node,newName);return treeCopy;}},{key:'updateNodeByPath',value:function updateNodeByPath(tree,nodePath,keys,newValues){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);treeCopy.updateNode(node,keys,newValues);return treeCopy;}},{key:'moveNodeByPath',value:function moveNodeByPath(tree,nodePath,destPath,nodeName){var treeCopy=tree.clone();var node=treeCopy.getNodeByPath(nodePath);var destNode=treeCopy.getNodeByPath(destPath);if(destNode&&node){// node has loaded\nnode.object.name=nodeName;// need not update path\ntreeCopy.moveNode(node,destNode);}if(!destNode&&node){treeCopy.deleteNode(node);}return treeCopy;}},{key:'moveNodeListByPaths',value:function moveNodeListByPaths(tree,nodePaths,destPath){var treeCopy=tree.clone();var destNode=treeCopy.getNodeByPath(destPath);if(destNode){nodePaths.forEach(function(nodePath){var node=treeCopy.getNodeByPath(nodePath);treeCopy.moveNode(node,destNode);});}else{nodePaths.forEach(function(nodePath){var node=treeCopy.getNodeByPath(nodePath);treeCopy.delete(node);});}return treeCopy;}},{key:'copyNodeByPath',value:function copyNodeByPath(tree,nodePath,destPath,nodeName){var treeCopy=tree.clone();var destNode=treeCopy.getNodeByPath(destPath);var treeNode=treeCopy.getNodeByPath(nodePath);if(destNode){var node=treeNode.clone();// need a dup\nnode.object.name=nodeName;// need not update path\ntreeCopy.copyNode(node,destNode);}return treeCopy;}},{key:'copyNodeListByPaths',value:function copyNodeListByPaths(tree,nodePaths,destPath){var treeCopy=tree.clone();var destNode=treeCopy.getNodeByPath(destPath);if(destNode){nodePaths.forEach(function(nodePath){var node=treeCopy.getNodeByPath(nodePath);treeCopy.copyNode(node,destNode);});}return treeCopy;}},{key:'buildTree',value:function buildTree(){var tree=new _tree2.default();var object=new _dirent2.default({name:'/'});var root=new _treeNode2.default({object:object,isLoaded:false,isExpanded:true});tree.setRoot(root);return tree;}}]);return TreeHelper;}();var treeHelper=new TreeHelper();exports.default=treeHelper;\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _treeNode=__webpack_require__(95);var _treeNode2=_interopRequireDefault(_treeNode);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Tree=function(){function Tree(){_classCallCheck(this,Tree);this.root=null;}_createClass(Tree,[{key:'clone',value:function clone(){var tree=new Tree();if(this.root){tree.root=this.root.clone();}return tree;}},{key:'setRoot',value:function setRoot(node){this.root=node;}},{key:'getNodeByPath',value:function getNodeByPath(path){var findNode=null;function callback(currentNode){if(currentNode.path===path){findNode=currentNode;return true;}return false;}this.traverseDF(callback);return findNode;}},{key:'getNodeChildrenObject',value:function getNodeChildrenObject(node){var objects=node.children.map(function(item){var object=item.object;return object;});return objects;}},{key:'addNodeToParent',value:function addNodeToParent(node,parentNode){parentNode.addChild(node);}},{key:'addNodeListToParent',value:function addNodeListToParent(nodeList,parentNode){nodeList.forEach(function(node){parentNode.addChild(node);});}},{key:'deleteNode',value:function deleteNode(node){var parentNode=this.getNodeByPath(node.parentNode.path);parentNode.deleteChild(node);}},{key:'deleteNodeList',value:function deleteNodeList(nodeList){var _this=this;nodeList.forEach(function(node){_this.deleteNode(node);});}},{key:'renameNode',value:function renameNode(node,newName){node.rename(newName);}},{key:'updateNode',value:function updateNode(node,keys,newValues){node.updateObjectParam(keys,newValues);}},{key:'moveNode',value:function moveNode(node,destNode){this.deleteNode(node);destNode.addChild(node);}},{key:'copyNode',value:function copyNode(node,destNode){destNode.addChild(node);}},{key:'traverseDF',value:function traverseDF(callback){var stack=[];var found=false;stack.unshift(this.root);var currentNode=stack.shift();while(!found&&currentNode){found=callback(currentNode)==true?true:false;if(!found){stack.unshift.apply(stack,_toConsumableArray(currentNode.children));currentNode=stack.shift();}}}},{key:'traverseBF',value:function traverseBF(callback){var queue=[];var found=false;queue.push(this.root);var currentNode=queue.shift();while(!found&&currentNode){found=callback(currentNode)===true?true:false;if(!found){queue.push.apply(queue,_toConsumableArray(currentNode.children));currentNode=queue.shift();}}}},{key:'expandNode',value:function expandNode(node){node.isExpanded=true;while(node.parentNode){node.parentNode.isExpanded=true;node=node.parentNode;}}},{key:'collapseNode',value:function collapseNode(node){node.isExpanded=false;}},{key:'isNodeChild',value:function isNodeChild(node,parentNode){return parentNode.children.some(function(item){return item.path===node.path;});}},{key:'serializeToJson',value:function serializeToJson(){return this.root.serializeToJson();}},{key:'deserializefromJson',value:function deserializefromJson(json){var root=_treeNode2.default.deserializefromJson(json);var tree=new Tree();tree.setRoot(root);return tree;}}]);return Tree;}();exports.default=Tree;\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _treeNodeView=__webpack_require__(165);var _treeNodeView2=_interopRequireDefault(_treeNodeView);var _treeViewContextmenu=__webpack_require__(167);var _treeViewContextmenu2=_interopRequireDefault(_treeViewContextmenu);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoPermission:_propTypes2.default.bool,isNodeMenuShow:_propTypes2.default.bool.isRequired,treeData:_propTypes2.default.object.isRequired,currentPath:_propTypes2.default.string.isRequired,onMenuItemClick:_propTypes2.default.func,onNodeClick:_propTypes2.default.func.isRequired,onNodeExpanded:_propTypes2.default.func.isRequired,onNodeCollapse:_propTypes2.default.func.isRequired,onItemMove:_propTypes2.default.func,currentRepoInfo:_propTypes2.default.object};var PADDING_LEFT=20;var TreeView=function(_React$Component){_inherits(TreeView,_React$Component);function TreeView(props){_classCallCheck(this,TreeView);var _this=_possibleConstructorReturn(this,(TreeView.__proto__||Object.getPrototypeOf(TreeView)).call(this,props));_this.onItemMove=function(repo,dirent,selectedPath,currentPath){_this.props.onItemMove(repo,dirent,selectedPath,currentPath);};_this.onNodeDragStart=function(e,node){var dragStartNodeData={nodeDirent:node.object,nodeParentPath:node.parentNode.path,nodeRootPath:node.path};dragStartNodeData=JSON.stringify(dragStartNodeData);e.dataTransfer.effectAllowed=\"move\";e.dataTransfer.setData('applicaiton/drag-item-info',dragStartNodeData);};_this.onNodeDragEnter=function(e,node){//todo\n};_this.onNodeDragMove=function(e){e.preventDefault();e.dataTransfer.dropEffect='move';};_this.onNodeDragLeave=function(e,node){//todo\n};_this.onNodeDrop=function(e,node){if(e.dataTransfer.files.length){// uploaded files\nreturn;}var dragStartNodeData=e.dataTransfer.getData('applicaiton/drag-item-info');dragStartNodeData=JSON.parse(dragStartNodeData);var _dragStartNodeData=dragStartNodeData,nodeDirent=_dragStartNodeData.nodeDirent,nodeParentPath=_dragStartNodeData.nodeParentPath,nodeRootPath=_dragStartNodeData.nodeRootPath;var dropNodeData=node;if(dropNodeData.object.type!=='dir'){return;}// copy the dirent to itself. eg: A/B -> A/B\nif(nodeParentPath===dropNodeData.parentNode.path){if(dropNodeData.object.name===nodeDirent.name){return;}}// copy the dirent to it's child. eg: A/B -> A/B/C\nif(dropNodeData.object.type==='dir'&&nodeDirent.type==='dir'){if(dropNodeData.parentNode.path!==nodeParentPath){if(dropNodeData.path.indexOf(nodeRootPath)!==-1){return;}}}_this.onItemMove(_this.props.currentRepoInfo,nodeDirent,dropNodeData.path,nodeParentPath);};_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnFreezedItem=function(){_this.setState({isItemFreezed:false});};_this.contextMenu=function(e){e.preventDefault();_this.setState({isRightMenuShow:false});setTimeout(function(){_this.setState({isRightMenuShow:true,fileData:_this.state.nodeData,mousePosition:{clientX:e.clientX,clientY:e.clientY}});},40);};_this.unregisterHandlers=function(){var treeView=document.querySelector('.tree-view');treeView.removeEventListener('contextmenu',_this.contextMenu);};_this.registerHandlers=function(){var treeView=document.querySelector('.tree-view');treeView.addEventListener('contextmenu',_this.contextMenu);};_this.onNodeChanged=function(node){_this.setState({nodeData:node});};_this.closeRightMenu=function(){_this.setState({isRightMenuShow:false});};_this.onMenuItemClick=function(operation,node){_this.props.onMenuItemClick(operation,node);};_this.state={isItemFreezed:false,isRightMenuShow:false,nodeData:null,fileData:null,mousePosition:{clientX:'',clientY:''}};return _this;}_createClass(TreeView,[{key:'componentDidMount',value:function componentDidMount(){this.registerHandlers();}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.unregisterHandlers();}},{key:'render',value:function render(){return _react2.default.createElement('div',{className:'tree-view tree'},_react2.default.createElement(_treeNodeView2.default,{repoPermission:this.props.repoPermission,node:this.props.treeData.root,currentPath:this.props.currentPath,paddingLeft:PADDING_LEFT,isNodeMenuShow:this.props.isNodeMenuShow,isItemFreezed:this.state.isItemFreezed,onNodeClick:this.props.onNodeClick,onMenuItemClick:this.props.onMenuItemClick,onNodeExpanded:this.props.onNodeExpanded,onNodeCollapse:this.props.onNodeCollapse,onNodeDragStart:this.onNodeDragStart,onFreezedItem:this.onFreezedItem,onUnFreezedItem:this.onUnFreezedItem,onNodeChanged:this.onNodeChanged,registerHandlers:this.registerHandlers,unregisterHandlers:this.unregisterHandlers,onNodeDragMove:this.onNodeDragMove,onNodeDrop:this.onNodeDrop,onNodeDragEnter:this.onNodeDragEnter,onNodeDragLeave:this.onNodeDragLeave}),this.state.isRightMenuShow&&_react2.default.createElement(_treeViewContextmenu2.default,{node:this.state.fileData,onMenuItemClick:this.onMenuItemClick,mousePosition:this.state.mousePosition,closeRightMenu:this.closeRightMenu,registerHandlers:this.registerHandlers,unregisterHandlers:this.unregisterHandlers}));}}]);return TreeView;}(_react2.default.Component);TreeView.propTypes=propTypes;exports.default=TreeView;\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _treeNodeMenu=__webpack_require__(166);var _treeNodeMenu2=_interopRequireDefault(_treeNodeMenu);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoPermission:_propTypes2.default.bool,node:_propTypes2.default.object.isRequired,currentPath:_propTypes2.default.string.isRequired,paddingLeft:_propTypes2.default.number.isRequired,isNodeMenuShow:_propTypes2.default.bool.isRequired,isItemFreezed:_propTypes2.default.bool.isRequired,onNodeClick:_propTypes2.default.func.isRequired,onNodeExpanded:_propTypes2.default.func.isRequired,onNodeCollapse:_propTypes2.default.func.isRequired,onNodeDragStart:_propTypes2.default.func.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnFreezedItem:_propTypes2.default.func.isRequired,onMenuItemClick:_propTypes2.default.func,registerHandlers:_propTypes2.default.func,unregisterHandlers:_propTypes2.default.func,onNodeDragMove:_propTypes2.default.func,onNodeDrop:_propTypes2.default.func};var TreeNodeView=function(_React$Component){_inherits(TreeNodeView,_React$Component);function TreeNodeView(props){_classCallCheck(this,TreeNodeView);var _this=_possibleConstructorReturn(this,(TreeNodeView.__proto__||Object.getPrototypeOf(TreeNodeView)).call(this,props));_this.onMouseEnter=function(){if(!_this.props.isItemFreezed){_this.setState({isShowOperationMenu:true,isHighlight:true});}_this.props.onNodeChanged(_this.props.node);};_this.onMouseLeave=function(){if(!_this.props.isItemFreezed){_this.setState({isShowOperationMenu:false,isHighlight:false});}_this.props.onNodeChanged(null);};_this.onNodeClick=function(){_this.props.onNodeClick(_this.props.node);};_this.onLoadToggle=function(){var node=_this.props.node;if(node.isExpanded){_this.props.onNodeCollapse(node);}else{_this.props.onNodeExpanded(node);}};_this.onNodeDragStart=function(e){_this.props.onNodeDragStart(e,_this.props.node);};_this.onNodeDragEnter=function(e){if(_this.props.node.object.type==='dir'){_this.setState({isNodeDropShow:true});}_this.props.onNodeDragEnter(e,_this.props.node);};_this.onNodeDragMove=function(e){_this.props.onNodeDragMove(e);};_this.onNodeDragLeave=function(e){_this.setState({isNodeDropShow:false});_this.props.onNodeDragLeave(e,_this.props.node);};_this.onNodeDrop=function(e){_this.setState({isNodeDropShow:false});_this.props.onNodeDrop(e,_this.props.node);};_this.onUnFreezedItem=function(){_this.setState({isShowOperationMenu:false});_this.props.onUnFreezedItem();};_this.onMenuItemClick=function(operation,node){_this.props.onMenuItemClick(operation,node);};_this.getNodeTypeAndIcon=function(){var node=_this.props.node;var icon='';var type='';if(node.object.type==='dir'){icon=_react2.default.createElement('i',{className:'far fa-folder'});type='dir';}else{var index=node.object.name.lastIndexOf('.');if(index===-1){icon=_react2.default.createElement('i',{className:'far fa-file'});type='file';}else{var suffix=node.object.name.slice(index).toLowerCase();if(suffix==='.png'||suffix==='.jpg'||suffix==='.jpeg'||suffix==='.gif'||suffix==='.bmp'){icon=_react2.default.createElement('i',{className:'far fa-image'});type='image';}else if(suffix==='.md'||suffix==='.markdown'){icon=_react2.default.createElement('i',{className:'far fa-file-alt'});type='file';}else{icon=_react2.default.createElement('i',{className:'far fa-file'});type='file';}}}return{icon:icon,type:type};};_this.renderChildren=function(){var _this$props=_this.props,node=_this$props.node,paddingLeft=_this$props.paddingLeft;if(!node.hasChildren()){return'';}return _react2.default.createElement('div',{className:'children',style:{paddingLeft:paddingLeft}},node.children.map(function(item){return _react2.default.createElement(TreeNodeView,{key:item.path,node:item,paddingLeft:paddingLeft,repoPermission:_this.props.repoPermission,currentPath:_this.props.currentPath,isNodeMenuShow:_this.props.isNodeMenuShow,isItemFreezed:_this.props.isItemFreezed,onNodeClick:_this.props.onNodeClick,onNodeCollapse:_this.props.onNodeCollapse,onNodeExpanded:_this.props.onNodeExpanded,onFreezedItem:_this.props.onFreezedItem,onMenuItemClick:_this.onMenuItemClick,onUnFreezedItem:_this.onUnFreezedItem,onNodeChanged:_this.props.onNodeChanged,registerHandlers:_this.props.registerHandlers,unregisterHandlers:_this.props.unregisterHandlers,onNodeDragStart:_this.props.onNodeDragStart,onNodeDragMove:_this.props.onNodeDragMove,onNodeDrop:_this.props.onNodeDrop,onNodeDragEnter:_this.props.onNodeDragEnter,onNodeDragLeave:_this.props.onNodeDragLeave});}));};_this.state={isHighlight:false,isShowOperationMenu:false,isNodeDropShow:false};return _this;}_createClass(TreeNodeView,[{key:'render',value:function render(){var _props=this.props,currentPath=_props.currentPath,node=_props.node,isNodeMenuShow=_props.isNodeMenuShow;var _getNodeTypeAndIcon=this.getNodeTypeAndIcon(),type=_getNodeTypeAndIcon.type,icon=_getNodeTypeAndIcon.icon;var hlClass=this.state.isHighlight?'tree-node-inner-hover ':'';if(node.path===currentPath){hlClass='tree-node-hight-light';}return _react2.default.createElement('div',{className:'tree-node'},_react2.default.createElement('div',{type:type,title:node.object.name,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:'tree-node-inner text-nowrap '+hlClass+' '+(node.path==='/'?'hide':'')+' '+(this.state.isNodeDropShow?'tree-node-drop':'')},_react2.default.createElement('div',{className:'tree-node-text',draggable:'true',onDragStart:this.onNodeDragStart,onClick:this.onNodeClick,onDragEnter:this.onNodeDragEnter,onDragLeave:this.onNodeDragLeave,onDragOver:this.onNodeDragMove,onDrop:this.onNodeDrop},node.object.name),_react2.default.createElement('div',{className:'left-icon'},type==='dir'&&(!node.isLoaded||node.isLoaded&&node.hasChildren())&&_react2.default.createElement('i',{className:'folder-toggle-icon fa '+(node.isExpanded?'fa-caret-down':'fa-caret-right'),onMouseDown:function onMouseDown(e){return e.stopPropagation();},onClick:this.onLoadToggle}),_react2.default.createElement('i',{className:'tree-node-icon'},icon)),isNodeMenuShow&&_react2.default.createElement('div',{className:'right-icon'},(this.props.repoPermission||_constants.permission)&&this.state.isShowOperationMenu&&_react2.default.createElement(_treeNodeMenu2.default,{node:this.props.node,onMenuItemClick:this.onMenuItemClick,onUnFreezedItem:this.onUnFreezedItem,onFreezedItem:this.props.onFreezedItem,registerHandlers:this.props.registerHandlers,unregisterHandlers:this.props.unregisterHandlers}))),node.isExpanded&&this.renderChildren());}}]);return TreeNodeView;}(_react2.default.Component);TreeNodeView.propTypes=propTypes;exports.default=TreeNodeView;\n\n/***/ }),\n\n/***/ 166:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactstrap=__webpack_require__(5);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={node:_propTypes2.default.object.isRequired,onMenuItemClick:_propTypes2.default.func.isRequired,onFreezedItem:_propTypes2.default.func.isRequired,onUnFreezedItem:_propTypes2.default.func.isRequired,registerHandlers:_propTypes2.default.func,unregisterHandlers:_propTypes2.default.func};var TreeNodeMenu=function(_React$Component){_inherits(TreeNodeMenu,_React$Component);function TreeNodeMenu(props){_classCallCheck(this,TreeNodeMenu);var _this=_possibleConstructorReturn(this,(TreeNodeMenu.__proto__||Object.getPrototypeOf(TreeNodeMenu)).call(this,props));_this.translateMenuItem=function(menuItem){var translateResult='';switch(menuItem){case'New Folder':translateResult=(0,_constants.gettext)('New Folder');break;case'New File':translateResult=(0,_constants.gettext)('New File');break;case'Rename':translateResult=(0,_constants.gettext)('Rename');break;case'Copy':translateResult=(0,_constants.gettext)('Copy');break;case'Move':translateResult=(0,_constants.gettext)('Move');break;case'Delete':translateResult=(0,_constants.gettext)('Delete');break;case'Open in New Tab':translateResult=(0,_constants.gettext)('Open in New Tab');break;default:break;}return translateResult;};_this.onDropdownToggleClick=function(e){e.preventDefault();_this.toggleOperationMenu(e);};_this.toggleOperationMenu=function(e){e.stopPropagation();_this.setState({isItemMenuShow:!_this.state.isItemMenuShow},function(){if(_this.state.isItemMenuShow){_this.props.onFreezedItem();}else{_this.props.onUnFreezedItem();}});};_this.onMenuItemClick=function(event){var operation=event.target.dataset.toggle;var node=_this.props.node;_this.props.onMenuItemClick(operation,node);};_this.state={isItemMenuShow:false,menuList:[]};return _this;}_createClass(TreeNodeMenu,[{key:'componentDidMount',value:function componentDidMount(){var menuList=this.caculateMenuList();this.setState({menuList:menuList});}},{key:'caculateMenuList',value:function caculateMenuList(){var node=this.props.node;var menuList=[];if(node.object.type==='dir'){menuList=['New Folder','New File','Copy','Move','Rename','Delete'];}else{menuList=['Rename','Delete','Copy','Move','Open in New Tab'];}return menuList;}},{key:'render',value:function render(){var _this2=this;this.state.isItemMenuShow?this.props.unregisterHandlers():this.props.registerHandlers();return _react2.default.createElement(_reactstrap.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},_react2.default.createElement(_reactstrap.DropdownToggle,{tag:'i',className:'fas fa-ellipsis-v',title:(0,_constants.gettext)('More Operations'),'data-toggle':'dropdown','aria-expanded':this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),_react2.default.createElement(_reactstrap.DropdownMenu,null,this.state.menuList.map(function(menuItem,index){return _react2.default.createElement(_reactstrap.DropdownItem,{key:index,'data-toggle':menuItem,onClick:_this2.onMenuItemClick},_this2.translateMenuItem(menuItem));})));}}]);return TreeNodeMenu;}(_react2.default.Component);TreeNodeMenu.propTypes=propTypes;exports.default=TreeNodeMenu;\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);__webpack_require__(168);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={onMenuItemClick:_propTypes2.default.func.isRequired,node:_propTypes2.default.object,mousePosition:_propTypes2.default.object,closeRightMenu:_propTypes2.default.func,registerHandlers:_propTypes2.default.func,unregisterHandlers:_propTypes2.default.func};var TreeViewContextMenu=function(_React$Component){_inherits(TreeViewContextMenu,_React$Component);function TreeViewContextMenu(props){_classCallCheck(this,TreeViewContextMenu);var _this=_possibleConstructorReturn(this,(TreeViewContextMenu.__proto__||Object.getPrototypeOf(TreeViewContextMenu)).call(this,props));_this.calculateMenuDistance=function(){var mousePosition=_this.props.mousePosition;var rightTreeMenu=document.querySelector('.right-tree-menu');var rightTreeMenuHeight=rightTreeMenu.offsetHeight;if(mousePosition.clientY+rightTreeMenuHeight>document.body.clientHeight){rightTreeMenu.style.top=mousePosition.clientY-rightTreeMenuHeight+'px';}else{rightTreeMenu.style.top=mousePosition.clientY+'px';}rightTreeMenu.style.left=mousePosition.clientX+'px';document.addEventListener('click',_this.listenClick);document.addEventListener('mousemove',_this.handleContextMenu);};_this.translateMenuItem=function(menuItem){var translateResult='';switch(menuItem){case'New Folder':translateResult=(0,_constants.gettext)('New Folder');break;case'New File':translateResult=(0,_constants.gettext)('New File');break;case'Rename':translateResult=(0,_constants.gettext)('Rename');break;case'Copy':translateResult=(0,_constants.gettext)('Copy');break;case'Move':translateResult=(0,_constants.gettext)('Move');break;case'Delete':translateResult=(0,_constants.gettext)('Delete');break;case'Open in New Tab':translateResult=(0,_constants.gettext)('Open in New Tab');break;default:break;}return translateResult;};_this.handleContextMenu=function(e){var mousePosition=_this.props.mousePosition;var rightTreeMenu=document.querySelector('.right-tree-menu');var rightTreeMenuHeight=rightTreeMenu.offsetHeight;var rightTreeMenuWidth=rightTreeMenu.offsetWidth;if(mousePosition.clientY+rightTreeMenuHeight>document.body.clientHeight){if(e.clientX>=mousePosition.clientX&&e.clientX<=mousePosition.clientX+rightTreeMenuWidth&&e.clientY<=mousePosition.clientY&&e.clientY>=mousePosition.clientY-rightTreeMenuHeight){_this.props.unregisterHandlers();}else{_this.props.registerHandlers();}}else{if(e.clientX>=mousePosition.clientX&&e.clientX<=mousePosition.clientX+rightTreeMenuWidth&&e.clientY>=mousePosition.clientY&&e.clientY<=mousePosition.clientY+rightTreeMenuHeight){_this.props.unregisterHandlers();}else{_this.props.registerHandlers();}}};_this.listenClick=function(e){var mousePosition=_this.props.mousePosition;var rightTreeMenu=document.querySelector('.right-tree-menu');var rightTreeMenuHeight=rightTreeMenu.offsetHeight;var rightTreeMenuWidth=rightTreeMenu.offsetWidth;if(e.clientX<=mousePosition.clientX||e.clientX>=mousePosition.clientX+rightTreeMenuWidth){_this.props.closeRightMenu();}if(mousePosition.clientY+rightTreeMenuHeight>document.body.clientHeight){if(e.clientY<=mousePosition.clientY-rightTreeMenuHeight||e.clientY>=mousePosition.clientY){_this.props.closeRightMenu();}}else{if(e.clientY<=mousePosition.clientY||e.clientY>=mousePosition.clientY+rightTreeMenuHeight){_this.props.closeRightMenu();}}};_this.onMenuItemClick=function(event){var operation=event.target.dataset.toggle;var node=_this.props.node;_this.props.onMenuItemClick(operation,node);_this.props.closeRightMenu();};_this.state={isItemMenuShow:false,menuList:[]};return _this;}_createClass(TreeViewContextMenu,[{key:'componentDidMount',value:function componentDidMount(){var menuList=this.caculateMenuList();this.setState({menuList:menuList});}},{key:'componentDidUpdate',value:function componentDidUpdate(){this.calculateMenuDistance();}},{key:'componentWillUnmount',value:function componentWillUnmount(){document.removeEventListener('click',this.listenClick);document.removeEventListener('mousemove',this.handleContextMenu);}},{key:'caculateMenuList',value:function caculateMenuList(){var node=this.props.node;var menuList=[];if(!node){menuList=['New Folder','New File'];}else{if(node.object.type==='dir'){menuList=['New Folder','New File','Copy','Move','Rename','Delete'];}else{menuList=['Rename','Delete','Copy','Move','Open in New Tab'];}}return menuList;}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement('div',{className:'right-tree-menu'},this.state.menuList.map(function(menuItem,index){return _react2.default.createElement('button',{className:'right-tree-item',key:index,'data-toggle':menuItem,onClick:_this2.onMenuItemClick},_this2.translateMenuItem(menuItem));}));}}]);return TreeViewContextMenu;}(_react2.default.Component);TreeViewContextMenu.propTypes=propTypes;exports.default=TreeViewContextMenu;\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _markdownViewer=__webpack_require__(115);var _markdownViewer2=_interopRequireDefault(_markdownViewer);var _constants=__webpack_require__(2);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _utils=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={children:_propTypes2.default.object,isFileLoading:_propTypes2.default.bool.isRequired,markdownContent:_propTypes2.default.string.isRequired,latestContributor:_propTypes2.default.string.isRequired,lastModified:_propTypes2.default.string.isRequired,onLinkClick:_propTypes2.default.func.isRequired,isWiki:_propTypes2.default.bool,isTOCShow:_propTypes2.default.bool};var contentClass='wiki-page-content';var WikiMarkdownViewer=function(_React$Component){_inherits(WikiMarkdownViewer,_React$Component);function WikiMarkdownViewer(props){_classCallCheck(this,WikiMarkdownViewer);var _this=_possibleConstructorReturn(this,(WikiMarkdownViewer.__proto__||Object.getPrototypeOf(WikiMarkdownViewer)).call(this,props));_this.onContentRendered=function(markdownViewer){_this.titlesInfo=markdownViewer.titlesInfo;};_this.onLinkClick=function(event){event.preventDefault();event.stopPropagation();var link='';if(event.target.tagName!=='A'){var target=event.target.parentNode;while(target.tagName!=='A'){target=target.parentNode;}link=target.href;}else{link=event.target.href;}_this.props.onLinkClick(link);};_this.onScrollHandler=function(){var contentScrollTop=_this.markdownContainer.current.scrollTop+180;var titlesLength=_this.titlesInfo.length;var activeTitleIndex=void 0;if(contentScrollTop<=_this.titlesInfo[0]){activeTitleIndex=0;_this.setState({activeTitleIndex:activeTitleIndex});return;}if(contentScrollTop>_this.titlesInfo[titlesLength-1]){activeTitleIndex=_this.titlesInfo.length-1;_this.setState({activeTitleIndex:activeTitleIndex});return;}for(var i=0;i<titlesLength;i++){if(contentScrollTop>_this.titlesInfo[i]){continue;}else{activeTitleIndex=i-1;break;}}_this.setState({activeTitleIndex:activeTitleIndex});};_this.changeInlineNode=function(item){if(item.object=='inline'){var url=void 0;// change image url\nif(item.type=='image'&&_constants.isPublicWiki){url=item.data.src;var re=new RegExp(_constants.serviceURL+'/lib/'+_constants.repoID+'/file.*raw=1');// different repo \nif(!re.test(url)){return;}// get image path\nvar index=url.indexOf('/file');var index2=url.indexOf('?');var imagePath=url.substring(index+5,index2);// replace url\nitem.data.src=_constants.serviceURL+'/view-image-via-public-wiki/?slug='+_constants.slug+'&path='+imagePath;}else if(item.type=='link'){url=item.data.href;// change file url \nif(_utils.Utils.isInternalMarkdownLink(url,_constants.repoID)){var path=_utils.Utils.getPathFromInternalMarkdownLink(url,_constants.repoID);// replace url\nitem.data.href=_constants.serviceURL+'/wikis/'+_constants.slug+path;}// change dir url \nelse if(_utils.Utils.isInternalDirLink(url,_constants.repoID)){var _path=_utils.Utils.getPathFromInternalDirLink(url,_constants.repoID);// replace url\nitem.data.href=_constants.serviceURL+'/wikis/'+_constants.slug+_path;}}}return item;};_this.modifyValueBeforeRender=function(value){var nodes=value.document.nodes;var newNodes=_utils.Utils.changeMarkdownNodes(nodes,_this.changeInlineNode);value.document.nodes=newNodes;return value;};_this.renderMarkdown=function(){var isTOCShow=true;if(_this.props.isTOCShow===false){isTOCShow=false;}if(_this.props.isWiki){return _react2.default.createElement(_markdownViewer2.default,{showTOC:isTOCShow,markdownContent:_this.props.markdownContent,activeTitleIndex:_this.state.activeTitleIndex,onContentRendered:_this.onContentRendered,modifyValueBeforeRender:_this.modifyValueBeforeRender});}return _react2.default.createElement(_markdownViewer2.default,{showTOC:isTOCShow,markdownContent:_this.props.markdownContent,activeTitleIndex:_this.state.activeTitleIndex,onContentRendered:_this.onContentRendered});};_this.state={activeTitleIndex:0};_this.markdownContainer=_react2.default.createRef();_this.links=[];_this.titlesInfo=[];return _this;}_createClass(WikiMarkdownViewer,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;// Bind event when first loaded\nthis.links=document.querySelectorAll('.'+contentClass+' a');this.links.forEach(function(link){link.addEventListener('click',_this2.onLinkClick);});}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(){var _this3=this;// Unbound event when updating\nthis.links.forEach(function(link){link.removeEventListener('click',_this3.onLinkClick);});}},{key:'componentDidUpdate',value:function componentDidUpdate(){var _this4=this;// Update completed, rebind event\nthis.links=document.querySelectorAll('.'+contentClass+' a');this.links.forEach(function(link){link.addEventListener('click',_this4.onLinkClick);});}},{key:'componentWillUnmount',value:function componentWillUnmount(){var _this5=this;// Rebinding events when the component is destroyed\nthis.links.forEach(function(link){link.removeEventListener('click',_this5.onLinkClick);});}},{key:'render',value:function render(){if(this.props.isFileLoading){return _react2.default.createElement(_loading2.default,null);}return _react2.default.createElement('div',{ref:this.markdownContainer,className:'wiki-page-container',onScroll:this.onScrollHandler.bind(this)},_react2.default.createElement('div',{className:contentClass},this.props.children,this.renderMarkdown(),_react2.default.createElement('p',{id:'wiki-page-last-modified'},(0,_constants.gettext)('Last modified by'),' ',this.props.latestContributor,', ',_react2.default.createElement('span',null,this.props.lastModified))));}}]);return WikiMarkdownViewer;}(_react2.default.Component);var defaultProps={isWiki:false};WikiMarkdownViewer.propTypes=propTypes;_markdownViewer2.default.defaultProps=defaultProps;exports.default=WikiMarkdownViewer;\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var dirPath=exports.dirPath='/';var gettext=exports.gettext=window.gettext;var siteRoot=exports.siteRoot=window.app.config.siteRoot;var loginUrl=exports.loginUrl=window.app.config.loginUrl;var avatarInfo=exports.avatarInfo=window.app.config.avatarInfo;var logoPath=exports.logoPath=window.app.config.logoPath;var mediaUrl=exports.mediaUrl=window.app.config.mediaUrl;var siteTitle=exports.siteTitle=window.app.config.siteTitle;var siteName=exports.siteName=window.app.config.siteName;var logoWidth=exports.logoWidth=window.app.config.logoWidth;var logoHeight=exports.logoHeight=window.app.config.logoHeight;var isPro=exports.isPro=window.app.config.isPro==='True';var isDocs=exports.isDocs=window.app.config.isDocs==='True';var lang=exports.lang=window.app.config.lang;var fileServerRoot=exports.fileServerRoot=window.app.config.fileServerRoot;var seafileVersion=exports.seafileVersion=window.app.config.seafileVersion;var serviceURL=exports.serviceURL=window.app.config.serviceURL;//pageOptions\nvar seafileCollabServer=exports.seafileCollabServer=window.app.pageOptions.seafileCollabServer;var name=exports.name=window.app.pageOptions.name;var contactEmail=exports.contactEmail=window.app.pageOptions.contactEmail;var username=exports.username=window.app.pageOptions.username;var canAddRepo=exports.canAddRepo=window.app.pageOptions.canAddRepo;var canGenerateShareLink=exports.canGenerateShareLink=window.app.pageOptions.canGenerateShareLink;var canGenerateUploadLink=exports.canGenerateUploadLink=window.app.pageOptions.canGenerateUploadLink?true:false;var canViewOrg=exports.canViewOrg=window.app.pageOptions.canViewOrg==='True';var fileAuditEnabled=exports.fileAuditEnabled=window.app.pageOptions.fileAuditEnabled?true:false;var enableFileComment=exports.enableFileComment=window.app.pageOptions.enableFileComment?true:false;var folderPermEnabled=exports.folderPermEnabled=window.app.pageOptions.folderPermEnabled==='True';var enableResetEncryptedRepoPassword=exports.enableResetEncryptedRepoPassword=window.app.pageOptions.enableResetEncryptedRepoPassword==='True';var isEmailConfigured=exports.isEmailConfigured=window.app.pageOptions.isEmailConfigured==='True';var enableUploadFolder=exports.enableUploadFolder=window.app.pageOptions.enableUploadFolder==='True';var enableResumableFileUpload=exports.enableResumableFileUpload=window.app.pageOptions.enableResumableFileUpload==='True';var storages=exports.storages=window.app.pageOptions.storages;// storage backends\nvar enableRepoSnapshotLabel=exports.enableRepoSnapshotLabel=window.app.pageOptions.enableRepoSnapshotLabel;var shareLinkExpireDaysMin=exports.shareLinkExpireDaysMin=window.app.pageOptions.shareLinkExpireDaysMin;var shareLinkExpireDaysMax=exports.shareLinkExpireDaysMax=window.app.pageOptions.shareLinkExpireDaysMax;var maxFileName=exports.maxFileName=window.app.pageOptions.maxFileName;var enableWiki=exports.enableWiki=window.app.pageOptions.enableWiki;var enableEncryptedLibrary=exports.enableEncryptedLibrary=window.app.pageOptions.enableEncryptedLibrary;var enableRepoHistorySetting=exports.enableRepoHistorySetting=window.app.pageOptions.enableRepoHistorySetting;var isSystemStaff=exports.isSystemStaff=window.app.pageOptions.isSystemStaff;var thumbnailSizeForOriginal=exports.thumbnailSizeForOriginal=window.app.pageOptions.thumbnailSizeForOriginal;var repoPasswordMinLength=exports.repoPasswordMinLength=window.app.pageOptions.repoPasswordMinLength;var curNoteMsg=exports.curNoteMsg=window.app.pageOptions.curNoteMsg;var curNoteID=exports.curNoteID=window.app.pageOptions.curNoteID;// wiki\nvar slug=exports.slug=window.wiki?window.wiki.config.slug:'';var repoID=exports.repoID=window.wiki?window.wiki.config.repoId:'';var initialPath=exports.initialPath=window.wiki?window.wiki.config.initial_path:'';var permission=exports.permission=window.wiki?window.wiki.config.permission==='True':'';var isDir=exports.isDir=window.wiki?window.wiki.config.isDir:'';var serviceUrl=exports.serviceUrl=window.wiki?window.wiki.config.serviceUrl:'';var isPublicWiki=exports.isPublicWiki=window.wiki?window.wiki.config.isPublicWiki==='True':'';// file history\nvar PER_PAGE=exports.PER_PAGE=25;var historyRepoID=exports.historyRepoID=window.fileHistory?window.fileHistory.pageOptions.repoID:'';var repoName=exports.repoName=window.fileHistory?window.fileHistory.pageOptions.repoName:'';var filePath=exports.filePath=window.fileHistory?window.fileHistory.pageOptions.filePath:'';var fileName=exports.fileName=window.fileHistory?window.fileHistory.pageOptions.fileName:'';// Draft review\nvar draftFilePath=exports.draftFilePath=window.draft?window.draft.config.draftFilePath:'';var draftOriginFilePath=exports.draftOriginFilePath=window.draft?window.draft.config.draftOriginFilePath:'';var draftFileName=exports.draftFileName=window.draft?window.draft.config.draftFileName:'';var draftID=exports.draftID=window.draft?window.draft.config.draftID:'';var draftRepoID=exports.draftRepoID=window.draft?window.draft.config.draftRepoID:'';var author=exports.author=window.draft?window.draft.config.author:'';var authorAvatar=exports.authorAvatar=window.draft?window.draft.config.authorAvatar:'';var originFileExists=exports.originFileExists=window.draft?window.draft.config.originFileExists:'';var draftFileExists=exports.draftFileExists=window.draft?window.draft.config.draftFileExists:'';var draftStatus=exports.draftStatus=window.draft?window.draft.config.draftStatus:'';var draftPublishVersion=exports.draftPublishVersion=window.draft?window.draft.config.draftPublishVersion:'';var originFileVersion=exports.originFileVersion=window.draft?window.draft.config.originFileVersion:'';// org admin\nvar orgID=exports.orgID=window.org?window.org.pageOptions.orgID:'';var invitationLink=exports.invitationLink=window.org?window.org.pageOptions.invitationLink:'';var orgMemberQuotaEnabled=exports.orgMemberQuotaEnabled=window.org?window.org.pageOptions.orgMemberQuotaEnabled:'';// sys admin\nvar constanceEnabled=exports.constanceEnabled=window.sysadmin?window.sysadmin.pageOptions.constance_enabled:'';var multiTenancy=exports.multiTenancy=window.sysadmin?window.sysadmin.pageOptions.multi_tenancy:'';var multiInstitution=exports.multiInstitution=window.sysadmin?window.sysadmin.pageOptions.multi_institution:'';var sysadminExtraEnabled=exports.sysadminExtraEnabled=window.sysadmin?window.sysadmin.pageOptions.sysadmin_extra_enabled:'';var enableGuestInvitation=exports.enableGuestInvitation=window.sysadmin?window.sysadmin.pageOptions.enable_guest_invitation:'';var enableTermsAndConditions=exports.enableTermsAndConditions=window.sysadmin?window.sysadmin.pageOptions.enable_terms_and_conditions:'';var isDefaultAdmin=exports.isDefaultAdmin=window.sysadmin?window.sysadmin.pageOptions.is_default_admin:'';var enableFileScan=exports.enableFileScan=window.sysadmin?window.sysadmin.pageOptions.enable_file_scan:'';var canViewSystemInfo=exports.canViewSystemInfo=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_system_info:'';var canViewStatistic=exports.canViewStatistic=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_statistic:'';var canConfigSystem=exports.canConfigSystem=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_config_system:'';var canManageLibrary=exports.canManageLibrary=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_library:'';var canManageUser=exports.canManageUser=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_user:'';var canManageGroup=exports.canManageGroup=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_group:'';var canViewUserLog=exports.canViewUserLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_user_log:'';var canViewAdminLog=exports.canViewAdminLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_admin_log:'';\n\n/***/ }),\n\n/***/ 21:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _constants=__webpack_require__(2);var _seafileApi=__webpack_require__(3);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var EditorUtilities=function(){function EditorUtilities(){_classCallCheck(this,EditorUtilities);}_createClass(EditorUtilities,[{key:'getFiles',value:function getFiles(){return _seafileApi.seafileAPI.listWikiDir(_constants.slug,'/').then(function(items){var files=items.data.dir_file_list.map(function(item){return{name:item.name,type:item.type==='dir'?'dir':'file',isExpanded:item.type==='dir'?true:false,parent_path:item.parent_dir,last_update_time:item.last_update_time,permission:item.permission,size:item.size};});return files;});}},{key:'listRepoDir',value:function listRepoDir(){return _seafileApi.seafileAPI.listDir(_constants.repoID,'/',{recursive:true}).then(function(items){var files=items.data.dirent_list.map(function(item){return{name:item.name,type:item.type==='dir'?'dir':'file',isExpanded:item.type==='dir'?true:false,parent_path:item.parent_dir,last_update_time:item.mtime,permission:item.permission,size:item.size};});return files;});}},{key:'createFile',value:function createFile(filePath,isDraft){return _seafileApi.seafileAPI.createFile(_constants.repoID,filePath,isDraft);}},{key:'deleteFile',value:function deleteFile(filePath){return _seafileApi.seafileAPI.deleteFile(_constants.repoID,filePath);}},{key:'renameFile',value:function renameFile(filePath,newFileName){return _seafileApi.seafileAPI.renameFile(_constants.repoID,filePath,newFileName);}},{key:'createDir',value:function createDir(dirPath){return _seafileApi.seafileAPI.createDir(_constants.repoID,dirPath);}},{key:'deleteDir',value:function deleteDir(dirPath){return _seafileApi.seafileAPI.deleteDir(_constants.repoID,dirPath);}},{key:'renameDir',value:function renameDir(dirPath,newDirName){return _seafileApi.seafileAPI.renameDir(_constants.repoID,dirPath,newDirName);}},{key:'getWikiFileContent',value:function getWikiFileContent(slug,filePath){return _seafileApi.seafileAPI.getWikiFileContent(slug,filePath);}},{key:'getSource',value:function getSource(){return _seafileApi.seafileAPI.getSource();}},{key:'searchFiles',value:function searchFiles(queryData,cancelToken){return _seafileApi.seafileAPI.searchFiles(queryData,cancelToken);}},{key:'getAccountInfo',value:function getAccountInfo(){return _seafileApi.seafileAPI.getAccountInfo();}// file history\n},{key:'getFileDownloadLink',value:function getFileDownloadLink(filePath){return _seafileApi.seafileAPI.getFileDownloadLink(_constants.historyRepoID,filePath);}},{key:'getFileContent',value:function getFileContent(filePath){return _seafileApi.seafileAPI.getFileContent(filePath);}},{key:'listFileHistoryRecords',value:function listFileHistoryRecords(filePath,page,per_page){return _seafileApi.seafileAPI.listFileHistoryRecords(_constants.historyRepoID,filePath,page,per_page);}},{key:'revertFile',value:function revertFile(filePath,commitID){return _seafileApi.seafileAPI.revertFile(_constants.historyRepoID,filePath,commitID);}},{key:'listDrafts',value:function listDrafts(){return _seafileApi.seafileAPI.listDrafts();}},{key:'deleteDraft',value:function deleteDraft(id){return _seafileApi.seafileAPI.deleteDraft(id);}},{key:'publishDraft',value:function publishDraft(id){return _seafileApi.seafileAPI.publishDraft(id);}},{key:'zipDownload',value:function zipDownload(parent_dir,dirents){return _seafileApi.seafileAPI.zipDownload(_constants.repoID,parent_dir,dirents);}},{key:'queryZipProgress',value:function queryZipProgress(zip_token){return _seafileApi.seafileAPI.queryZipProgress(zip_token);}},{key:'cancelZipTask',value:function cancelZipTask(zip_token){return _seafileApi.seafileAPI.cancelZipTask(zip_token);}}]);return EditorUtilities;}();var editorUtilities=new EditorUtilities();exports.default=editorUtilities;\n\n/***/ }),\n\n/***/ 24:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var FileTag=function FileTag(object){_classCallCheck(this,FileTag);this.id=object.file_tag_id;this.repo_tag_id=object.repo_tag_id;this.name=object.tag_name;this.color=object.tag_color;};exports.default=FileTag;\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _reactDom=__webpack_require__(8);var _reactDom2=_interopRequireDefault(_reactDom);var _utils=__webpack_require__(4);var _editorUtilties=__webpack_require__(21);var _editorUtilties2=_interopRequireDefault(_editorUtilties);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={isAdminPanel:_propTypes2.default.bool};var Account=function(_Component){_inherits(Account,_Component);function Account(props){_classCallCheck(this,Account);var _this=_possibleConstructorReturn(this,(Account.__proto__||Object.getPrototypeOf(Account)).call(this,props));_this.getContainer=function(){return _reactDom2.default.findDOMNode(_this);};_this.handleProps=function(){if(_this.state.showInfo){_this.addEvents();}else{_this.removeEvents();}};_this.addEvents=function(){['click','touchstart','keyup'].forEach(function(event){return document.addEventListener(event,_this.handleDocumentClick,true);});};_this.removeEvents=function(){['click','touchstart','keyup'].forEach(function(event){return document.removeEventListener(event,_this.handleDocumentClick,true);});};_this.handleDocumentClick=function(e){if(e&&(e.which===3||e.type==='keyup'&&e.which!==_utils.Utils.keyCodes.tab))return;var container=_this.getContainer();if(container.contains(e.target)&&container!==e.target&&(e.type!=='keyup'||e.which===_utils.Utils.keyCodes.tab)){return;}_this.setState({showInfo:!_this.state.showInfo});};_this.onClickAccount=function(){_this.setState({showInfo:!_this.state.showInfo});};_this.getAccountInfo=function(){_editorUtilties2.default.getAccountInfo().then(function(resp){_this.setState({userName:resp.data.name,contactEmail:resp.data.email,usageRate:resp.data.space_usage,quotaUsage:_utils.Utils.bytesToSize(resp.data.usage),quotaTotal:_utils.Utils.bytesToSize(resp.data.total),isStaff:resp.data.is_staff,isOrgStaff:resp.data.is_org_staff===1?true:false,avatarURL:resp.data.avatar_url});});};_this.renderMenu=function(){var isAdminPage=_this.state.isStaff||_this.state.isOrgStaff;if(isAdminPage&&_this.props.isAdminPanel){return _react2.default.createElement('a',{href:_constants.siteRoot,title:(0,_constants.gettext)('Exit Admin Panel'),className:'item'},(0,_constants.gettext)('Exit Admin Panel'));}if(_this.state.isStaff){return _react2.default.createElement('a',{href:_constants.siteRoot+'sys/useradmin/',title:(0,_constants.gettext)('System Admin'),className:'item'},(0,_constants.gettext)('System Admin'));}if(_this.state.isOrgStaff){return _react2.default.createElement('a',{href:_constants.siteRoot+'org/useradmin/',title:(0,_constants.gettext)('Organization Admin'),className:'item'},(0,_constants.gettext)('Organization Admin'));}};_this.renderAvatar=function(){if(_this.state.avatarURL){return _react2.default.createElement('img',{src:_this.state.avatarURL,width:'36',height:'36',className:'avatar',alt:(0,_constants.gettext)('Avatar')});}return _react2.default.createElement('img',{src:'',width:'36',height:'36',className:'avatar',alt:(0,_constants.gettext)('Avatar')});};_this.state={showInfo:false,userName:'',contactEmail:'',quotaUsage:'',quotaTotal:'',isStaff:false,isOrgStaff:false,usageRate:'',avatarURL:''};return _this;}_createClass(Account,[{key:'componentDidMount',value:function componentDidMount(){this.getAccountInfo();}},{key:'componentDidUpdate',value:function componentDidUpdate(prevProps){this.handleProps();}},{key:'render',value:function render(){return _react2.default.createElement('div',{id:'account'},_react2.default.createElement('a',{id:'my-info',onClick:this.onClickAccount,className:'account-toggle no-deco d-none d-md-block','aria-label':'View profile and more'},_react2.default.createElement('span',null,_react2.default.createElement('img',{src:this.state.avatarURL,width:'36',height:'36',className:'avatar',alt:(0,_constants.gettext)('Avatar')})),_react2.default.createElement('span',{className:'fas fa-caret-down vam'})),_react2.default.createElement('span',{className:'account-toggle sf2-icon-more mobile-icon d-md-none','aria-label':'View profile and more',onClick:this.onClickAccount}),_react2.default.createElement('div',{id:'user-info-popup',className:'account-popup sf-popover '+(this.state.showInfo?'':'hide')},_react2.default.createElement('div',{className:'outer-caret up-outer-caret'},_react2.default.createElement('div',{className:'inner-caret'})),_react2.default.createElement('div',{className:'sf-popover-con'},_react2.default.createElement('div',{className:'item o-hidden'},this.renderAvatar(),_react2.default.createElement('div',{className:'txt'},this.state.userName)),_react2.default.createElement('div',{id:'space-traffic'},_react2.default.createElement('div',{className:'item'},_react2.default.createElement('p',null,(0,_constants.gettext)('Used:'),' ',this.state.quotaUsage,' / ',this.state.quotaTotal),_react2.default.createElement('div',{id:'quota-bar'},_react2.default.createElement('span',{id:'quota-usage',className:'usage',style:{width:this.state.usageRate}})))),_react2.default.createElement('a',{href:_constants.siteRoot+'profile/',className:'item'},(0,_constants.gettext)('Settings')),this.renderMenu(),_react2.default.createElement('a',{href:_constants.siteRoot+'accounts/logout/',className:'item'},(0,_constants.gettext)('Log out')))));}}]);return Account;}(_react.Component);Account.defaultProps={isAdminPanel:false};Account.propTypes=propTypes;exports.default=Account;\n\n/***/ }),\n\n/***/ 274:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 275:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});exports.seafileAPI=undefined;var _reactCookies=__webpack_require__(22);var _reactCookies2=_interopRequireDefault(_reactCookies);var _seafileJs=__webpack_require__(35);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var seafileAPI=new _seafileJs.SeafileAPI();var xcsrfHeaders=_reactCookies2.default.load('sfcsrftoken');seafileAPI.initForSeahubUsage({siteRoot:_constants.siteRoot,xcsrfHeaders:xcsrfHeaders});exports.seafileAPI=seafileAPI;\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});exports.Utils=undefined;var _constants=__webpack_require__(2);var _pinyinByUnicode=__webpack_require__(13);var Utils=exports.Utils={keyCodes:{esc:27,space:32,tab:9,up:38,down:40},bytesToSize:function bytesToSize(bytes){if(typeof bytes=='undefined')return' ';if(bytes<0)return'--';var sizes=['bytes','KB','MB','GB','TB','PB'];if(bytes===0)return bytes+' '+sizes[0];var i=parseInt(Math.floor(Math.log(bytes)/Math.log(1000)),10);if(i===0)return bytes+' '+sizes[i];return(bytes/Math.pow(1000,i)).toFixed(1)+' '+sizes[i];},isHiDPI:function isHiDPI(){var pixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;if(pixelRatio>1){return true;}else{return false;}},FILEEXT_ICON_MAP:{// text file\n'md':'txt.png','txt':'txt.png',// pdf file\n'pdf':'pdf.png',// document file\n'doc':'word.png','docx':'word.png','odt':'word.png','fodt':'word.png','ppt':'ppt.png','pptx':'ppt.png','odp':'ppt.png','fodp':'ppt.png','xls':'excel.png','xlsx':'excel.png','ods':'excel.png','fods':'excel.png',// video\n'mp4':'video.png','ogv':'video.png','webm':'video.png','mov':'video.png','flv':'video.png','wmv':'video.png','rmvb':'video.png',// music file\n'mp3':'music.png','oga':'music.png','ogg':'music.png','flac':'music.png','aac':'music.png','ac3':'music.png','wma':'music.png',// image file\n'jpg':'pic.png','jpeg':'pic.png','png':'pic.png','svg':'pic.png','gif':'pic.png','bmp':'pic.png','ico':'pic.png',// default\n'default':'file.png'},// check if a file is an image\nimageCheck:function imageCheck(filename){// no file ext\nif(filename.lastIndexOf('.')==-1){return false;}var file_ext=filename.substr(filename.lastIndexOf('.')+1).toLowerCase();var image_exts=['gif','jpeg','jpg','png','ico','bmp'];if(image_exts.indexOf(file_ext)!=-1){return true;}else{return false;}},// check if a file is a video\nvideoCheck:function videoCheck(filename){// no file ext\nif(filename.lastIndexOf('.')==-1){return false;}var file_ext=filename.substr(filename.lastIndexOf('.')+1).toLowerCase();var exts=['mp4','ogv','webm','mov'];if(exts.indexOf(file_ext)!=-1){return true;}else{return false;}},encodePath:function encodePath(path){// IE8 does not support 'map()'\n/*\n       return path.split('/').map(function(e) {\n       return encodeURIComponent(e);\n       }).join('/');\n       */if(!path){return'';}var path_arr=path.split('/');var path_arr_=[];for(var i=0,len=path_arr.length;i<len;i++){path_arr_.push(encodeURIComponent(path_arr[i]));}return path_arr_.join('/');},HTMLescape:function HTMLescape(html){return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;},generateDialogTitle:function generateDialogTitle(title,operationTarget){/*\n     * @param title: gettext('...{placeholder}...')\n     */var targetStr=this.HTMLescape(operationTarget);var str='<span class=\"op-target ellipsis ellipsis-op-target\" title='+targetStr+'>'+targetStr+'</span>';return title.replace('{placeholder}',str);},getFileName:function getFileName(filePath){var lastIndex=filePath.lastIndexOf('/');return filePath.slice(lastIndex+1);},/**\n   * input: '/abc/bc/cb'\n   * output: ['/abc', '/abc/bc', '/abc/bc/cb'];\n   */getPaths:function getPaths(path){var paths=path.split('/').slice(1);var result=[];while(paths.length){result.push('/'+paths.join('/'));paths.pop();}return result.reverse();},/**\n   * input: \n   *  eg: /\n   *      ../abc/abc/\n   *      ../abc/bc\n   * output(return):\n   *  eg: /\n   *      abc\n   *      bc\n   */getFolderName:function getFolderName(path){if(path==='/'){return path;}path=path[path.length-1]!=='/'?path:path.slice(0,path.length-2);return path.slice(path.lastIndexOf('/')+1);},/*\n    return dirname of a path.\n    if path is '/', return '/'.\n  */getDirName:function getDirName(path){var dir=path.slice(0,path.lastIndexOf('/'));if(dir===''){return'/';}else{return dir;}},isChildPath:function isChildPath(child,parent){var p=this.getDirName(child);return p===parent;},isAncestorPath:function isAncestorPath(ancestor,path){return path.indexOf(ancestor)>-1;},renameAncestorPath:function renameAncestorPath(path,ancestor,newAncestor){return path.replace(ancestor,newAncestor);},joinPath:function joinPath(pathA,pathB){if(pathA[pathA.length-1]==='/'){return pathA+pathB;}else{return pathA+'/'+pathB;}},isSupportUploadFolder:function isSupportUploadFolder(){return navigator.userAgent.indexOf('Firefox')!=-1||navigator.userAgent.indexOf('Chrome')>-1;},getDefaultLibIconUrl:function getDefaultLibIconUrl(isBig){var size=Utils.isHiDPI()?48:24;size=isBig?256:size;var icon_name='lib.png';return _constants.mediaUrl+'img/lib/'+size+'/'+icon_name;},getLibIconUrl:function getLibIconUrl(repo,isBig){var permission=repo.permission||repo.share_permission;//Compatible with regular repo and repo shared\nvar size=Utils.isHiDPI()?48:24;size=isBig?256:size;var icon_name='lib.png';if(repo.encrypted){icon_name='lib-encrypted.png';}if(permission==='r'||permission==='perview'){icon_name='lib-readonly.png';}return _constants.mediaUrl+'img/lib/'+size+'/'+icon_name;},getDirentIcon:function getDirentIcon(dirent,isBig){var size=this.isHiDPI()?48:24;size=isBig?192:size;if(dirent.isDir()){var readonly=false;if(dirent.permission&&(dirent.permission==='r'||dirent.permission==='preview')){readonly=true;}return this.getFolderIconUrl(readonly,size);}else{return this.getFileIconUrl(dirent.name,size);}},getFolderIconUrl:function getFolderIconUrl(){var readonly=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var size=arguments[1];if(!size){size=Utils.isHiDPI()?48:24;}size=size>24?192:24;return _constants.mediaUrl+'img/folder'+(readonly?'-read-only-':'-')+size+'.png';},getFileIconUrl:function getFileIconUrl(filename,size){if(!size){size=Utils.isHiDPI()?48:24;}size=size>24?192:24;var file_ext='';if(filename.lastIndexOf('.')==-1){return _constants.mediaUrl+'img/file/'+size+'/'+this.FILEEXT_ICON_MAP['default'];}else{file_ext=filename.substr(filename.lastIndexOf('.')+1).toLowerCase();}if(this.FILEEXT_ICON_MAP[file_ext]){return _constants.mediaUrl+'img/file/'+size+'/'+this.FILEEXT_ICON_MAP[file_ext];}else{return _constants.mediaUrl+'img/file/'+size+'/'+this.FILEEXT_ICON_MAP['default'];}},getLibIconTitle:function getLibIconTitle(repo){var title;var permission=repo.permission||repo.share_permission;//Compatible with regular repo and repo shared\nif(repo.encrypted){title=(0,_constants.gettext)('Encrypted library');}else if(repo.is_admin){// shared with 'admin' permission\ntitle=(0,_constants.gettext)('Admin access');}else{switch(permission){case'rw':title=(0,_constants.gettext)('Read-Write library');break;case'r':title=(0,_constants.gettext)('Read-Only library');break;case'cloud-edit':title=(0,_constants.gettext)('Preview-Edit-on-Cloud library');break;case'preview':title=(0,_constants.gettext)('Preview-on-Cloud library');break;}}return title;},getFolderIconTitle:function getFolderIconTitle(options){var title;switch(options.permission){case'rw':title=(0,_constants.gettext)('Read-Write folder');break;case'r':title=(0,_constants.gettext)('Read-Only folder');break;case'cloud-edit':title=(0,_constants.gettext)('Preview-Edit-on-Cloud folder');break;case'preview':title=(0,_constants.gettext)('Preview-on-Cloud folder');break;}return title;},sharePerms:function sharePerms(permission){var title;switch(permission){case'rw':title=(0,_constants.gettext)('Read-Write');break;case'r':title=(0,_constants.gettext)('Read-Only');break;case'admin':title=(0,_constants.gettext)('Admin');break;case'cloud-edit':title=(0,_constants.gettext)('Preview-Edit-on-Cloud');break;case'preview':title=(0,_constants.gettext)('Preview-on-Cloud');break;}return title;},sharePermsExplanation:function sharePermsExplanation(permission){var title;switch(permission){case'rw':title=(0,_constants.gettext)('User can read, write, upload, download and sync files.');break;case'r':title=(0,_constants.gettext)('User can read, download and sync files.');break;case'admin':title=(0,_constants.gettext)('Besides Write permission, user can also share the library.');break;case'cloud-edit':title=(0,_constants.gettext)('Same as Preview on cloud. But user can also edit files online via browser.');break;case'preview':title=(0,_constants.gettext)('User can only view files online via browser. Files can\\'t be downloaded.');break;}return title;},formatSize:function formatSize(options){/*\n     * param: {bytes, precision}\n     */var bytes=options.bytes;var precision=options.precision||0;var kilobyte=1000;var megabyte=kilobyte*1000;var gigabyte=megabyte*1000;var terabyte=gigabyte*1000;if(bytes>=0&&bytes<kilobyte){return bytes+' B';}else if(bytes>=kilobyte&&bytes<megabyte){return(bytes/kilobyte).toFixed(precision)+' KB';}else if(bytes>=megabyte&&bytes<gigabyte){return(bytes/megabyte).toFixed(precision)+' MB';}else if(bytes>=gigabyte&&bytes<terabyte){return(bytes/gigabyte).toFixed(precision)+' GB';}else if(bytes>=terabyte){return(bytes/terabyte).toFixed(precision)+' TB';}else{return bytes+' B';}},formatBitRate:function formatBitRate(bits){var Bs;if(typeof bits!=='number'){return'';}Bs=bits/8;if(Bs>=1000000000){return(Bs/1000000000).toFixed(2)+' GB/s';}if(Bs>=1000000){return(Bs/1000000).toFixed(2)+' MB/s';}if(Bs>=1000){return(Bs/1000).toFixed(2)+' kB/s';}return Bs.toFixed(2)+' B/s';},isMarkdownFile:function isMarkdownFile(filePath){var index=filePath.lastIndexOf('.');if(index===-1){return false;}else{var type=filePath.substring(index).toLowerCase();if(type==='.md'||type==='.markdown'){return true;}else{return false;}}},isInternalMarkdownLink:function isInternalMarkdownLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/lib/'+repoID+'.*\\.md$');return re.test(url);},isInternalDirLink:function isInternalDirLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/library/'+repoID+'.*');return re.test(url);},getPathFromInternalMarkdownLink:function getPathFromInternalMarkdownLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/lib/'+repoID+'/file'+'(.*\\.md)');var array=re.exec(url);var path=decodeURIComponent(array[1]);return path;},getPathFromInternalDirLink:function getPathFromInternalDirLink(url,repoID){var re=new RegExp(_constants.serviceURL+'/library/'+repoID+'(/.*)');var array=re.exec(url);var path=decodeURIComponent(array[1]);path=path.slice(1);path=path.slice(path.indexOf('/'));return path;},isWikiInternalMarkdownLink:function isWikiInternalMarkdownLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'.*\\.md$');return re.test(url);},isWikiInternalDirLink:function isWikiInternalDirLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'.*');return re.test(url);},getPathFromWikiInternalMarkdownLink:function getPathFromWikiInternalMarkdownLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'(.*\\.md)');var array=re.exec(url);var path=array[1];try{path=decodeURIComponent(path);}catch(err){path=path.replace(/%/g,'%25');path=decodeURIComponent(path);}return path;},getPathFromWikiInternalDirLink:function getPathFromWikiInternalDirLink(url,slug){slug=encodeURIComponent(slug);var re=new RegExp(_constants.serviceURL+'/wikis/'+slug+'(/.*)');var array=re.exec(url);var path=array[1];try{path=decodeURIComponent(path);}catch(err){path=path.replace(/%/g,'%25');path=decodeURIComponent(path);}return path;},compareTwoWord:function compareTwoWord(wordA,wordB){// compare wordA and wordB at lower case\n// if wordA >= wordB, return 1\n// if wordA < wordB, return -1\nvar a_val,b_val,a_uni=wordA.charCodeAt(0),b_uni=wordB.charCodeAt(0);if(19968<a_uni&&a_uni<40869&&19968<b_uni&&b_uni<40869){// both are chinese words\na_val=_pinyinByUnicode.strChineseFirstPY.charAt(a_uni-19968).toLowerCase();b_val=_pinyinByUnicode.strChineseFirstPY.charAt(b_uni-19968).toLowerCase();}else if(19968<a_uni&&a_uni<40869&&!(19968<b_uni&&b_uni<40869)){// a is chinese and b is english\nreturn 1;}else if(!(19968<a_uni&&a_uni<40869)&&19968<b_uni&&b_uni<40869){// a is english and b is chinese\nreturn-1;}else{// both are english words\na_val=wordA.toLowerCase();b_val=wordB.toLowerCase();return this.compareStrWithNumbersIn(a_val,b_val);}return a_val>=b_val?1:-1;},// compare two strings which may have digits in them\n// and compare those digits as number instead of string\ncompareStrWithNumbersIn:function compareStrWithNumbersIn(a,b){var reParts=/\\d+|\\D+/g;var reDigit=/\\d/;var aParts=a.match(reParts);var bParts=b.match(reParts);var isDigitPart;var len=Math.min(aParts.length,bParts.length);var aPart,bPart;if(aParts&&bParts&&(isDigitPart=reDigit.test(aParts[0]))==reDigit.test(bParts[0])){// Loop through each substring part to compare the overall strings.\nfor(var i=0;i<len;i++){aPart=aParts[i];bPart=bParts[i];if(isDigitPart){aPart=parseInt(aPart,10);bPart=parseInt(bPart,10);}if(aPart!=bPart){return aPart<bPart?-1:1;}// Toggle the value of isDigitPart since the parts will alternate.\nisDigitPart=!isDigitPart;}}// Use normal comparison.\nreturn(a>=b)-(a<=b);},sortRepos:function sortRepos(repos,sortBy,sortOrder){var _this=this;var comparator=void 0;switch(sortBy+'-'+sortOrder){case'name-asc':comparator=function comparator(a,b){if(!a.repo_name){return 1;}if(!b.repo_name){return-1;}var result=_this.compareTwoWord(a.repo_name,b.repo_name);return result;};break;case'name-desc':comparator=function comparator(a,b){if(!a.repo_name){return-1;}if(!b.repo_name){return 1;}var result=_this.compareTwoWord(a.repo_name,b.repo_name);return-result;};break;case'time-asc':comparator=function comparator(a,b){return a.last_modified<b.last_modified?-1:1;};break;case'time-desc':comparator=function comparator(a,b){return a.last_modified<b.last_modified?1:-1;};break;}repos.sort(comparator);return repos;},sortDirents:function sortDirents(items,sortBy,sortOrder){var _this=this;var comparator=void 0;switch(sortBy+'-'+sortOrder){case'name-asc':comparator=function comparator(a,b){var result=_this.compareTwoWord(a.name,b.name);return result;};break;case'name-desc':comparator=function comparator(a,b){var result=_this.compareTwoWord(a.name,b.name);return-result;};break;case'time-asc':comparator=function comparator(a,b){return a.mtime<b.mtime?-1:1;};break;case'time-desc':comparator=function comparator(a,b){return a.mtime<b.mtime?1:-1;};break;}items.sort(function(a,b){if(a.type=='dir'&&b.type=='file'){return-1;}else if(a.type=='file'&&b.type=='dir'){return 1;}else{return comparator(a,b);}});return items;},changeMarkdownNodes:function changeMarkdownNodes(nodes,fn){nodes.map(function(item){fn(item);if(item.nodes&&item.nodes.length>0){Utils.changeMarkdownNodes(item.nodes,fn);}});return nodes;},chooseLanguage:function chooseLanguage(suffix){var mode=void 0;switch(suffix){case'py':mode='python';break;case'js':mode='javascript';break;case'c':mode='text/x-csrc';break;case'cpp':mode='text/x-c++src';break;case'java':mode='text/x-java';break;case'cs':mode='text/x-csharp';break;case'mdf':mode='text/x-sql';break;case'html':mode='htmlmixed';break;default:mode=suffix;}return mode;},DARK_COLOR_MAP:{// old color\n'red':'#D11507','orange':'#FF8C00','yellow':'#EDEF00','green':'#006400','cyan':'#00E0E1','blue':'#2510A3','indigo':'#350C56','purple':'#551054','pink':'#E3A5B0','azure':'#C4D0D0','lime':'#00E100','teal':'#006A6B','gray':'#545454',// new color\n'#FFA8A8':'#E49090','#FFA94D':'#E39136','#FFD43B':'#E0B815','#A0EC50':'#83CF32','#A9E34B':'#8DC72E','#63E6BE':'#43CAA4','#4FD2C9':'#2DB9B0','#72C3FC':'#57ABE3','#91A7FF':'#7A91E7','#E599F7':'#CC82DE','#B197FC':'#9B82E5','#F783AC':'#DF6D97','#CED4DA':'#A8ADB2'},getDarkColor:function getDarkColor(color){var darkColor=void 0;darkColor=this.DARK_COLOR_MAP[color];return darkColor;}};\n\n/***/ }),\n\n/***/ 80:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);var _propTypes=__webpack_require__(1);var _propTypes2=_interopRequireDefault(_propTypes);var _constants=__webpack_require__(2);var _search=__webpack_require__(116);var _search2=_interopRequireDefault(_search);var _notification=__webpack_require__(120);var _notification2=_interopRequireDefault(_notification);var _account=__webpack_require__(27);var _account2=_interopRequireDefault(_account);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var propTypes={repoID:_propTypes2.default.string,onSearchedClick:_propTypes2.default.func.isRequired,searchPlaceholder:_propTypes2.default.string};var CommonToolbar=function(_React$Component){_inherits(CommonToolbar,_React$Component);function CommonToolbar(){_classCallCheck(this,CommonToolbar);return _possibleConstructorReturn(this,(CommonToolbar.__proto__||Object.getPrototypeOf(CommonToolbar)).apply(this,arguments));}_createClass(CommonToolbar,[{key:'render',value:function render(){var searchPlaceholder=this.props.searchPlaceholder||(0,_constants.gettext)('Search Files');return _react2.default.createElement('div',{className:'common-toolbar'},_constants.isPro&&_react2.default.createElement(_search2.default,{repoID:this.props.repoID,placeholder:searchPlaceholder,onSearchedClick:this.props.onSearchedClick}),_react2.default.createElement(_notification2.default,null),_react2.default.createElement(_account2.default,null));}}]);return CommonToolbar;}(_react2.default.Component);CommonToolbar.propTypes=propTypes;exports.default=CommonToolbar;\n\n/***/ }),\n\n/***/ 86:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 88:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 90:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var TreeNode=function(){function TreeNode(_ref){var path=_ref.path,object=_ref.object,isLoaded=_ref.isLoaded,isPreload=_ref.isPreload,isExpanded=_ref.isExpanded,parentNode=_ref.parentNode;_classCallCheck(this,TreeNode);this.path=path||object.name,// The default setting is the object name, which is set to a relative path when the father is set.\nthis.object=object.clone();this.isLoaded=isLoaded||false;this.isPreload=isPreload||false;this.isExpanded=isExpanded||false;this.children=[];this.parentNode=parentNode||null;}_createClass(TreeNode,[{key:'clone',value:function clone(parentNode){var treeNode=new TreeNode({path:this.path,object:this.object.clone(),isLoaded:this.isLoaded,isPreload:this.isPreload,isExpanded:this.isExpanded,parentNode:parentNode||null});treeNode.children=this.children.map(function(child){var newChild=child.clone(treeNode);return newChild;});return treeNode;}},{key:'setParent',value:function setParent(parentNode){this.path=this.generatePath(parentNode);this.parentNode=parentNode;this.isLoaded=false;// update parentNode need loaded data again;\n}},{key:'hasChildren',value:function hasChildren(){return this.children.length!==0;}},{key:'addChild',value:function addChild(node){node.setParent(this);var children=this.children;if(node.object.isDir()){this.children.unshift(node);}else{var index=-1;for(var i=0;i<children.length;i++){if(!children[i].object.isDir()){index=i;break;}}if(index===-1){// -1: all the node object is dir;\nthis.children.push(node);}else if(index===0){// 0: all the node object is file\nthis.children.unshift(node);}else{this.children.splice(index,0,node);}}}},{key:'addChildren',value:function addChildren(nodeList){var _this=this;nodeList.forEach(function(node){node.setParent(_this);});this.children=nodeList;}},{key:'deleteChild',value:function deleteChild(node){var children=this.children.filter(function(item){return item!==node;});this.children=children;}},{key:'rename',value:function rename(newName){this.object.name=newName;this.path=this.generatePath(this.parentNode);if(this.isExpanded){this.updateChildrenPath(this);}else{this.isLoaded=false;}}},{key:'updateChildrenPath',value:function updateChildrenPath(node){var children=node.children;children.forEach(function(child){child.path=child.generatePath(child.parentNode);if(child.isExpanded){child.updateChildrenPath(child);}else{child.isLoaded=false;}});}},{key:'updateObjectProperties',value:function updateObjectProperties(keys,newValues){var _this2=this;if(Array.isArray(keys)&&Array.isArray(newValues)){keys.forEach(function(key,index){_this2.object[key]=newValues[index];});}else{this.object[keys]=newValues;}}},{key:'generatePath',value:function generatePath(parentNode){return parentNode.path==='/'?parentNode.path+this.object.name:parentNode.path+'/'+this.object.name;}},{key:'serializeToJson',value:function serializeToJson(){var children=[];if(this.hasChildren){children=this.children.map(function(m){return m.serializeToJson();});}var treeNode={path:this.path,object:this.object.clone(),isLoaded:this.isLoaded,isPreload:this.isPreload,isExpanded:this.isExpanded,parentNode:this.parentNode,children:children};return treeNode;}}],[{key:'deserializefromJson',value:function deserializefromJson(json){var path=json.path,object=json.object,isLoaded=json.isLoaded,isPreload=json.isPreload,isExpanded=json.isExpanded,parentNode=json.parentNode,_json$children=json.children,children=_json$children===undefined?[]:_json$children;object=object.clone();var treeNode=new TreeNode({path:path,object:object,isLoaded:isLoaded,isPreload:isPreload,isExpanded:isExpanded,parentNode:parentNode,children:children.map(function(item){return TreeNode.deserializefromJson(item);})});return treeNode;}}]);return TreeNode;}();exports.default=TreeNode;\n\n/***/ })\n\n},[1148]);\n\n\n// WEBPACK FOOTER //\n// js/wiki.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot, mediaUrl, logoPath, logoWidth, logoHeight, siteTitle } from '../utils/constants'; \n\nconst propTypes = {\n  onCloseSidePanel: PropTypes.func.isRequired,\n};\n\nclass Logo extends React.Component {\n\n  closeSide = () => {\n    this.props.onCloseSidePanel();\n  }\n  \n  render() {\n    return (\n      <div className=\"top-logo\">\n        <a href={siteRoot} id=\"logo\">\n          <img src={mediaUrl + logoPath} height={logoHeight} width={logoWidth} title={siteTitle} alt=\"logo\" />\n        </a>\n        <a \n          className=\"sf2-icon-x1 sf-popover-close side-panel-close action-icon d-md-none\"\n          onClick={this.closeSide} \n          title=\"Close\" \n          aria-label=\"Close\" \n        >\n        </a>\n      </div>\n    );\n  }\n}\n\nLogo.propTypes = propTypes;\n\nexport default Logo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/logo.js","import React from 'react';\n\nfunction Loading() {\n  return (\n    <span className=\"loading-icon loading-tip\"></span>\n  );\n}\n\nexport default Loading;\n\n\n// WEBPACK FOOTER //\n// ./src/components/loading.js","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport moment from 'moment';\nimport { slug, repoID, siteRoot, initialPath, isDir } from './utils/constants';\nimport { Utils } from './utils/utils';\nimport { seafileAPI } from './utils/seafile-api';\nimport Dirent from './models/dirent';\nimport TreeNode from './components/tree-view/tree-node';\nimport treeHelper from './components/tree-view/tree-helper';\nimport SidePanel from './pages/wiki/side-panel';\nimport MainPanel from './pages/wiki/main-panel';\n\nimport './assets/css/fa-solid.css';\nimport './assets/css/fa-regular.css';\nimport './assets/css/fontawesome.css';\nimport './css/layout.css';\nimport './css/side-panel.css';\nimport './css/wiki.css';\nimport './css/toolbar.css';\nimport './css/search.css';\n\n\nclass Wiki extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      path: '',\n      pathExist: true,\n      closeSideBar: false,\n      isViewFile: true,\n      isDataLoading: true,\n      direntList: [],\n      content: '',\n      permission: '',\n      lastModified: '',\n      latestContributor: '',\n      isTreeDataLoading: true,\n      treeData: treeHelper.buildTree(),\n      currentNode: null,\n      indexNode: null,\n      indexContent: '',\n    };\n\n    window.onpopstate = this.onpopstate;\n    this.indexPath = '/index.md';\n    this.homePath = '/home.md';\n  }\n\n  componentDidMount() {\n    this.loadWikiData(initialPath);\n  }\n\n  loadWikiData = (initialPath) => {  \n    this.loadSidePanel(initialPath);\n\n    if (isDir === 'None') {\n      if (initialPath === '/home.md') {\n        this.showDir('/');\n      } else {\n        this.setState({pathExist: false});\n        let fileUrl = siteRoot + 'wikis/' + slug + Utils.encodePath(initialPath);\n        window.history.pushState({url: fileUrl, path: initialPath}, initialPath, fileUrl);\n      }\n    } else if (isDir === 'True') {  \n      this.showDir(initialPath);\n    } else if (isDir === 'False') {\n      this.showFile(initialPath);\n    }\n  }\n\n  loadSidePanel = (initialPath) => {\n    if (initialPath === this.homePath || isDir === 'None') {\n      seafileAPI.listWikiDir(slug, '/').then(res => {\n        let tree = this.state.treeData;\n        this.addFirstResponseListToNode(res.data.dirent_list, tree.root);\n        let indexNode = tree.getNodeByPath(this.indexPath);\n        let homeNode = tree.getNodeByPath(this.homePath);\n        if (homeNode && indexNode) {\n          seafileAPI.getWikiFileContent(slug, indexNode.path).then(res => {\n            this.setState({\n              treeData: tree,\n              indexNode: indexNode,\n              indexContent: res.data.content,\n              isTreeDataLoading: false,\n            });\n          });\n        } else {\n          this.setState({\n            treeData: tree,\n            isTreeDataLoading: false,\n          });\n        }\n      }).catch(() => {\n        this.setState({isLoadFailed: true});\n      });\n    } else {\n      this.loadNodeAndParentsByPath(initialPath);\n    }\n  }\n\n  showDir = (dirPath) => {\n    this.loadDirentList(dirPath);\n\n    // update location url\n    let fileUrl = siteRoot + 'wikis/' + slug + Utils.encodePath(dirPath);\n    window.history.pushState({url: fileUrl, path: dirPath}, dirPath, fileUrl);\n  }\n\n  showFile = (filePath) => {\n    this.setState({\n      isDataLoading: true,\n      isViewFile: true,\n      path: filePath, \n    });\n\n    seafileAPI.getWikiFileContent(slug, filePath).then(res => {\n      let data = res.data;\n      this.setState({\n        isDataLoading: false,\n        content: data.content,\n        permission: data.permission,\n        lastModified: moment.unix(data.last_modified).fromNow(),\n        latestContributor: data.latest_contributor,\n      });\n    });\n\n    const hash = window.location.hash;\n    let fileUrl = siteRoot + 'wikis/' + slug + Utils.encodePath(filePath) + hash;\n    window.history.pushState({url: fileUrl, path: filePath}, filePath, fileUrl);\n  }\n\n  loadDirentList = (dirPath) => {\n    this.setState({isDataLoading: true});\n    seafileAPI.listWikiDir(slug, dirPath).then(res => {\n      let direntList = res.data.dirent_list.map(item => {\n        let dirent = new Dirent(item);\n        return dirent;\n      });\n      if (dirPath === '/') {\n        direntList = direntList.filter(item => {\n          if (item.type === 'dir') {\n            let name = item.name.toLowerCase();\n            return name !== 'drafts' && name !== 'images' && name !== 'downloads';\n          }\n          return true;\n        });\n      }\n      direntList = Utils.sortDirents(direntList, 'name', 'asc');\n      this.setState({\n        path: dirPath,\n        isViewFile: false,\n        direntList: direntList,\n        isDataLoading: false,\n      });\n    }).catch(() => {\n      this.setState({isLoadFailed: true});\n    });\n  }\n\n  loadTreeNodeByPath = (path) => {\n    let tree = this.state.treeData.clone();\n    let node = tree.getNodeByPath(path);\n    if (!node.isLoaded) {\n      seafileAPI.listWikiDir(slug, node.path).then(res => {\n        this.addResponseListToNode(res.data.dirent_list, node);\n        let parentNode = tree.getNodeByPath(node.parentNode.path);\n        parentNode.isExpanded = true;\n        this.setState({\n          treeData: tree,\n          currentNode: node\n        });\n      });\n    } else {\n      let parentNode = tree.getNodeByPath(node.parentNode.path);\n      parentNode.isExpanded = true;\n      this.setState({treeData: tree, currentNode: node}); //tree\n    }\n  }\n\n  loadNodeAndParentsByPath = (path) => {\n    let tree = this.state.treeData.clone();\n    if (Utils.isMarkdownFile(path)) {\n      path = Utils.getDirName(path);\n    }\n    seafileAPI.listWikiDir(slug, path, true).then(res => {\n      let direntList = res.data.dirent_list;\n      let results = {};\n      for (let i = 0; i < direntList.length; i++) {\n        let object = direntList[i];\n        let key = object.parent_dir;\n        if (!results[key]) {\n          results[key] = [];\n        }\n        results[key].push(object);\n      }\n      for (let key in results) {\n        let node = tree.getNodeByPath(key);\n        if (!node.isLoaded && node.path === '/') {\n          this.addFirstResponseListToNode(results[key], node);\n        } else if (!node.isLoaded) {\n          this.addResponseListToNode(results[key], node);\n        }\n      }\n      this.setState({\n        isTreeDataLoading: false,\n        treeData: tree\n      });\n    }).catch(() => {\n      this.setState({isLoadFailed: true});\n    });\n  }\n\n  onLinkClick = (link) => {\n    const url = link;\n    if (Utils.isWikiInternalMarkdownLink(url, slug)) {\n      let path = Utils.getPathFromWikiInternalMarkdownLink(url, slug);\n      this.showFile(path);\n    } else if (Utils.isWikiInternalDirLink(url, slug)) {\n      let path = Utils.getPathFromWikiInternalDirLink(url, slug);\n      this.showDir(path);\n    } else {\n      window.location.href = url;\n    }\n  }\n\n  onpopstate = (event) => {\n    if (event.state && event.state.path) {\n      let path = event.state.path;\n      if (Utils.isMarkdownFile(path)) {\n        this.showFile(path);\n      } else {\n        this.loadDirentList(path);\n        this.setState({\n          path: path,\n          isViewFile: false\n        });\n      }\n    }\n  }\n  \n  onSearchedClick = (item) => {\n    let path = item.is_dir ? item.path.slice(0, item.path.length - 1) : item.path; \n    if (this.state.currentPath === path) {\n      return;\n    }\n\n    // load sidePanel\n    let index = -1;\n    let paths = Utils.getPaths(path);\n    for (let i = 0; i < paths.length; i++) {\n      let node = this.state.treeData.getNodeByPath(node);\n      if (!node) {\n        index = i;\n        break;\n      } \n    }\n    if (index === -1) { // all the data has been loaded already.\n      let tree = this.state.treeData.clone();\n      let node = tree.getNodeByPath(item.path);\n      treeHelper.expandNode(node);\n      this.setState({treeData: tree});\n    } else {\n      this.loadNodeAndParentsByPath(path);\n    }\n\n    // load mainPanel\n    if (item.is_dir) {\n      this.showDir(path);\n    } else {\n      if (Utils.isMarkdownFile(path)) {\n        this.showFile(path);\n      } else {\n        let url = siteRoot + 'lib/' + item.repo_id + '/file' + Utils.encodePath(path);\n        let newWindow = window.open('about:blank');\n        newWindow.location.href = url;\n      }\n    }\n  }\n\n  onMenuClick = () => {\n    this.setState({closeSideBar: !this.state.closeSideBar,});\n  }\n\n  onMainNavBarClick = (nodePath) => {\n    let tree = this.state.treeData.clone();\n    let node = tree.getNodeByPath(nodePath);\n    tree.expandNode(node);\n\n    this.setState({treeData: tree, currentNode: node});\n    this.showDir(node.path);\n  }\n\n  onDirentClick = (dirent) => {\n    let direntPath = Utils.joinPath(this.state.path, dirent.name);\n    if (dirent.isDir()) {  // is dir\n      this.loadTreeNodeByPath(direntPath);\n      this.showDir(direntPath);\n    } else {  // is file\n      if (Utils.isMarkdownFile(direntPath)) {\n        this.showFile(direntPath);\n      } else {\n        const w=window.open('about:blank');\n        const url = siteRoot + 'lib/' + repoID + '/file' + Utils.encodePath(direntPath);\n        w.location.href = url;\n      }\n    }\n  }\n\n  onCloseSide = () => {\n    this.setState({closeSideBar: !this.state.closeSideBar});\n  }\n\n  onNodeClick = (node) => {\n    if (!this.state.pathExist) {\n      this.setState({pathExist: true});\n    }\n\n    if (node.object.isDir()) {\n      if (!node.isLoaded) {\n        let tree = this.state.treeData.clone();\n        node = tree.getNodeByPath(node.path);\n        seafileAPI.listWikiDir(slug, node.path).then(res => {\n          this.addResponseListToNode(res.data.dirent_list, node);\n          tree.collapseNode(node);\n          this.setState({treeData: tree});\n        });\n      }\n      if (node.path === this.state.path) {\n        if (node.isExpanded) {\n          let tree = treeHelper.collapseNode(this.state.treeData, node);\n          this.setState({treeData: tree});\n        } else {\n          let tree = this.state.treeData.clone();\n          node = tree.getNodeByPath(node.path);\n          tree.expandNode(node);\n          this.setState({treeData: tree});\n        }\n      }\n    }\n\n    if (node.path === this.state.path ) {\n      return;\n    }\n\n    if (node.object.isDir()) {  // isDir\n      this.showDir(node.path);\n    } else {\n      if (Utils.isMarkdownFile(node.path)) {\n        if (node.path !== this.state.path) {\n          this.showFile(node.path);\n        }\n      } else {\n        const w = window.open('about:blank');\n        const url = siteRoot + 'lib/' + repoID + '/file' + Utils.encodePath(node.path);\n        w.location.href = url;\n      }\n    }\n  }\n\n  onNodeCollapse = (node) => {\n    let tree = treeHelper.collapseNode(this.state.treeData, node);\n    this.setState({treeData: tree});\n  }\n\n  onNodeExpanded = (node) => {\n    let tree = this.state.treeData.clone();\n    node = tree.getNodeByPath(node.path);\n    if (!node.isLoaded) {\n      seafileAPI.listWikiDir(slug, node.path).then(res => {\n        this.addResponseListToNode(res.data.dirent_list, node);\n        this.setState({treeData: tree});\n      });\n    } else {\n      tree.expandNode(node);\n      this.setState({treeData: tree});\n    }\n  }\n\n  addFirstResponseListToNode = (list, node) => {\n    node.isLoaded = true;\n    node.isExpanded = true;\n    let direntList = list.map(item => {\n      return new Dirent(item);\n    });\n    direntList = direntList.filter(item => {\n      if (item.type === 'dir') {\n        let name = item.name.toLowerCase();\n        return name !== 'drafts' && name !== 'images' && name !== 'downloads';\n      }\n      return true;\n    });\n    direntList = Utils.sortDirents(direntList, 'name', 'asc');\n\n    let nodeList = direntList.map(object => {\n      return new TreeNode({object});\n    });\n    node.addChildren(nodeList);\n  }\n\n  addResponseListToNode = (list, node) => {\n    node.isLoaded = true;\n    node.isExpanded = true;\n    let direntList = list.map(item => {\n      return new Dirent(item);\n    });\n    direntList = Utils.sortDirents(direntList, 'name', 'asc');\n\n    let nodeList = direntList.map(object => {\n      return new TreeNode({object});\n    });\n    node.addChildren(nodeList);\n  }\n\n  render() {\n    return (\n      <div id=\"main\" className=\"wiki-main\">\n        <SidePanel\n          isTreeDataLoading={this.state.isTreeDataLoading}\n          closeSideBar={this.state.closeSideBar}\n          currentPath={this.state.path}\n          treeData={this.state.treeData}\n          indexNode={this.state.indexNode}\n          indexContent={this.state.indexContent}\n          onCloseSide={this.onCloseSide}\n          onNodeClick={this.onNodeClick}\n          onNodeCollapse={this.onNodeCollapse}\n          onNodeExpanded={this.onNodeExpanded}\n          onLinkClick={this.onLinkClick}\n        />\n        <MainPanel\n          path={this.state.path}\n          pathExist={this.state.pathExist}\n          isViewFile={this.state.isViewFile}\n          isDataLoading={this.state.isDataLoading}\n          content={this.state.content}\n          permission={this.state.permission}\n          lastModified={this.state.lastModified}\n          latestContributor={this.state.latestContributor}\n          direntList={this.state.direntList}\n          onLinkClick={this.onLinkClick}\n          onMenuClick={this.onMenuClick}\n          onSearchedClick={this.onSearchedClick}\n          onMainNavBarClick={this.onMainNavBarClick}\n          onDirentClick={this.onDirentClick}\n        />\n      </div>\n    );\n  }\n}\n\nReactDOM.render (\n  <Wiki />,\n  document.getElementById('wrapper')\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/wiki.js","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext, siteRoot, repoID, slug, username, permission } from '../../utils/constants';\nimport Logo from '../../components/logo';\nimport Loading from '../../components/loading';\nimport TreeView from '../../components/tree-view/tree-view';\nimport IndexContentViewer from '../../components/index-viewer';\n\nconst propTypes = {\n  closeSideBar: PropTypes.bool.isRequired,\n  isTreeDataLoading: PropTypes.bool.isRequired,\n  treeData: PropTypes.object.isRequired,\n  indexNode: PropTypes.object,\n  indexContent: PropTypes.string.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onCloseSide: PropTypes.func.isRequired,\n  onNodeClick: PropTypes.func.isRequired,\n  onNodeCollapse: PropTypes.func.isRequired,\n  onNodeExpanded: PropTypes.func.isRequired,\n  onLinkClick: PropTypes.func.isRequired,\n};\n\nclass SidePanel extends Component {\n\n  constructor(props) {\n    super(props);\n    this.isNodeMenuShow = false;\n  }\n\n  renderIndexView = () => {\n    return (\n      <Fragment>\n        <h3 className=\"wiki-pages-heading\">\n          {gettext('Contents')}\n        </h3>\n        <div className=\"wiki-pages-container\">\n          <IndexContentViewer\n            indexContent={this.props.indexContent}\n            onLinkClick={this.props.onLinkClick}\n          />\n        </div>\n      </Fragment>\n    );\n  }\n\n  renderTreeView = () => {\n    return (\n      <Fragment>\n        <h3 className=\"wiki-pages-heading\">{gettext('Pages')}</h3>\n        <div className=\"wiki-pages-container\">\n          {this.props.treeData && (\n            <TreeView\n              treeData={this.props.treeData}\n              currentPath={this.props.currentPath}\n              isNodeMenuShow={this.isNodeMenuShow}\n              onNodeClick={this.props.onNodeClick}\n              onNodeCollapse={this.props.onNodeCollapse}\n              onNodeExpanded={this.props.onNodeExpanded}\n            />\n          )}\n        </div>\n      </Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <div className={`side-panel wiki-side-panel ${this.props.closeSideBar ? '': 'left-zero'}`}>\n        <div className=\"side-panel-top panel-top\">\n          <Logo onCloseSidePanel={this.props.onCloseSide} />\n        </div>\n        <div id=\"side-nav\" className=\"wiki-side-nav\" role=\"navigation\">\n          {this.props.isTreeDataLoading && <Loading /> }\n          {!this.props.isTreeDataLoading && this.props.indexNode && this.renderIndexView() }\n          {!this.props.isTreeDataLoading && !this.props.indexNode && this.renderTreeView() }\n          {(username && permission) && <div className=\"text-left p-2\"><a href={siteRoot + 'library/' + repoID + '/' + slug + '/'} className=\"text-dark text-decoration-underline\">{gettext('Go to Library')}</a></div>}\n        </div>\n      </div>\n    );\n  }\n}\n\nSidePanel.propTypes = propTypes;\n\nexport default SidePanel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/wiki/side-panel.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MarkdownViewer from '@seafile/seafile-editor/dist/viewer/markdown-viewer';\nimport { repoID, slug, serviceURL, isPublicWiki } from '../utils/constants';\nimport { Utils } from '../utils/utils';\n\nconst viewerPropTypes = {\n  indexContent: PropTypes.string.isRequired,\n  onLinkClick: PropTypes.func.isRequired,\n};\n\nconst contentClass = 'wiki-page-content';\n\nclass IndexContentViewer extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.links = [];\n  }\n\n  componentDidMount() {\n    // Bind event when first loaded\n    this.links = document.querySelectorAll(`.${contentClass} a`);\n    this.links.forEach(link => {\n      link.addEventListener('click', this.onLinkClick);\n    });\n  }\n\n  componentWillReceiveProps() {\n    // Unbound event when updating\n    this.links.forEach(link => {\n      link.removeEventListener('click', this.onLinkClick);\n    });\n  }\n\n  componentDidUpdate() {\n    // Update completed, rebind event\n    this.links = document.querySelectorAll(`.${contentClass} a`);\n    this.links.forEach(link => {\n      link.addEventListener('click', this.onLinkClick);\n    });\n  }\n\n  componentWillUnmount() {\n    // Rebinding events when the component is destroyed\n    this.links.forEach(link => {\n      link.removeEventListener('click', this.onLinkClick);\n    });\n  }\n\n  onLinkClick = (event) => {\n    event.preventDefault(); \n    event.stopPropagation();\n    let link = '';\n    if (event.target.tagName !== 'A') {\n      let target = event.target.parentNode;\n      while (target.tagName !== 'A') {\n        target = target.parentNode;\n      }\n      link = target.href;\n    } else {\n      link = event.target.href;\n    }\n    this.props.onLinkClick(link);\n  }\n\n  changeInlineNode = (item) => {\n    if (item.object == 'inline') {\n      let url;\n\n      // change image url\n      if (item.type == 'image' && isPublicWiki) {\n        url = item.data.src;\n        const re = new RegExp(serviceURL + '/lib/' + repoID +'/file.*raw=1');\n        // different repo \n        if (!re.test(url)) {\n          return;\n        }\n        // get image path\n        let index = url.indexOf('/file');\n        let index2 = url.indexOf('?');\n        const imagePath = url.substring(index + 5, index2);\n        // replace url\n        item.data.src = serviceURL + '/view-image-via-public-wiki/?slug=' + slug + '&path=' + imagePath;\n      } \n\n      else if (item.type == 'link') {\n        url = item.data.href;\n        // change file url \n        if (Utils.isInternalMarkdownLink(url, repoID)) {\n          let path = Utils.getPathFromInternalMarkdownLink(url, repoID);\n          // replace url\n          item.data.href = serviceURL + '/wikis/' + slug + path;\n        } \n        // change dir url \n        else if (Utils.isInternalDirLink(url, repoID)) {\n          let path = Utils.getPathFromInternalDirLink(url, repoID);\n          // replace url\n          item.data.href = serviceURL + '/wikis/' + slug + path;\n        } \n      }\n    }\n\n    return item;\n  }\n\n  modifyValueBeforeRender = (value) => {\n    let nodes = value.document.nodes;\n    let newNodes = Utils.changeMarkdownNodes(nodes, this.changeInlineNode);\n    value.document.nodes = newNodes;\n    return value;\n  }\n\n  onContentRendered = () => {\n    // todo\n  }\n\n  render() {\n    return (\n      <div className={contentClass}>\n        <MarkdownViewer\n          markdownContent={this.props.indexContent}\n          onContentRendered={this.onContentRendered}\n          modifyValueBeforeRender={this.modifyValueBeforeRender}\n        />\n      </div>\n    );\n  }\n\n}\n\nIndexContentViewer.propTypes = viewerPropTypes;\n\nexport default IndexContentViewer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/index-viewer.js","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext, repoID, slug, siteRoot, username } from '../../utils/constants';\nimport CommonToolbar from '../../components/toolbar/common-toolbar';\nimport WikiMarkdownViewer from '../../components/wiki-markdown-viewer';\nimport WikiDirListView from '../../components/wiki-dir-list-view/wiki-dir-list-view';\nimport Loading from '../../components/loading';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  pathExist: PropTypes.bool.isRequired,\n  isViewFile: PropTypes.bool.isRequired,\n  isDataLoading: PropTypes.bool.isRequired,\n  content: PropTypes.string,\n  permission: PropTypes.string,\n  lastModified: PropTypes.string,\n  latestContributor: PropTypes.string,\n  direntList: PropTypes.array.isRequired,\n  onMenuClick: PropTypes.func.isRequired,\n  onSearchedClick: PropTypes.func.isRequired,\n  onMainNavBarClick: PropTypes.func.isRequired,\n  onDirentClick: PropTypes.func.isRequired,\n  onLinkClick: PropTypes.func.isRequired,\n};\n\nclass MainPanel extends Component {\n\n  onMenuClick = () => {\n    this.props.onMenuClick();\n  }\n\n  onEditClick = (e) => {\n    e.preventDefault();\n    let url = siteRoot + 'lib/' + repoID + '/file' + this.props.path + '?mode=edit';\n    window.open(url);\n  }\n\n  onMainNavBarClick = (e) => {\n    this.props.onMainNavBarClick(e.target.dataset.path);\n  }\n\n  renderNavPath = () => {\n    let paths = this.props.path.split('/');\n    let nodePath = '';\n    let pathElem = paths.map((item, index) => {\n      if (item === '') {\n        return;\n      } \n      if (index === (paths.length - 1)) {\n        return (\n          <span key={index}><span className=\"path-split\">/</span>{item}</span>\n        );\n      } else {\n        nodePath += '/' + item;\n        return (\n          <span key={index} >\n            <span className=\"path-split\">/</span>\n            <a \n              className=\"path-link\" \n              data-path={nodePath} \n              onClick={this.onMainNavBarClick}>\n              {item}\n            </a>\n          </span>\n        );\n      }\n    });\n    return pathElem;\n  }\n\n\n  render() {\n    const errMessage = (<div className=\"message err-tip\">{gettext('Folder does not exist.')}</div>);\n    return (\n      <div className=\"main-panel wiki-main-panel o-hidden\">\n        <div className=\"main-panel-north panel-top border-left-show\">\n          {username && (\n            <Fragment>\n              <div className=\"cur-view-toolbar\">\n                <span className=\"sf2-icon-menu hidden-md-up d-md-none side-nav-toggle\" title=\"Side Nav Menu\" onClick={this.onMenuClick}></span>\n                {this.props.permission === 'rw' && (\n                  <button className=\"btn btn-secondary operation-item\" title=\"Edit File\" onClick={this.onEditClick}>{gettext('Edit Page')}</button>\n                )}\n              </div>\n              <CommonToolbar \n                repoID={repoID}\n                onSearchedClick={this.props.onSearchedClick} \n                searchPlaceholder={gettext('Search files in this library')}\n              />\n            </Fragment>\n          )}\n        </div>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-path\">\n            <div className=\"path-containter\">\n              {username &&\n                <Fragment>\n                  <a href={siteRoot + 'wikis/'} className=\"normal\">{gettext('Wikis')}</a>\n                  <span className=\"path-split\">/</span>\n                </Fragment>\n              }\n              <a href={siteRoot + 'wikis/' + slug} className=\"normal\">{slug}</a>\n              {this.renderNavPath()}\n            </div>\n          </div>\n          <div className=\"cur-view-content\">\n            {!this.props.pathExist && errMessage}\n            {this.props.pathExist && this.props.isDataLoading && <Loading />}\n            {(this.props.pathExist && !this.props.isDataLoading && this.props.isViewFile) && (\n              <WikiMarkdownViewer\n                markdownContent={this.props.content}\n                isFileLoading={this.props.isDataLoading}\n                lastModified = {this.props.lastModified}\n                latestContributor={this.props.latestContributor}\n                onLinkClick={this.props.onLinkClick}\n                isWiki={true}\n              />\n            )}\n            {(!this.props.isDataLoading && !this.props.isViewFile) && (\n              <WikiDirListView\n                path={this.props.path}\n                direntList={this.props.direntList}\n                onDirentClick={this.props.onDirentClick} \n              />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nMainPanel.propTypes = propTypes;\n\nexport default MainPanel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/wiki/main-panel.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport WikiDirListItem from './wiki-dir-list-item';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  direntList: PropTypes.array.isRequired,\n  onDirentClick: PropTypes.func.isRequired,\n};\n\nclass WikiDirListView extends React.Component {\n\n  render() {\n    return (\n      <table>\n        <thead>\n          <tr>\n            <th style={{width: '4%'}}></th>\n            <th style={{width: '66%'}}>{gettext('Name')}</th>\n            <th style={{width: '15%'}}>{gettext('Size')}</th>\n            <th style={{width: '15%'}}>{gettext('Last Update')}</th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.props.direntList.length !== 0 && this.props.direntList.map((dirent, index) => {\n            return (\n              <WikiDirListItem key={index} path={this.props.path} dirent={dirent} onDirentClick={this.props.onDirentClick}/>\n            );\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nWikiDirListView.propTypes = propTypes;\n\nexport default WikiDirListView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/wiki-dir-list-view/wiki-dir-list-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  dirent: PropTypes.object.isRequired,\n  onDirentClick: PropTypes.func.isRequired,\n};\n\nclass WikiDirListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({highlight: true});\n  }\n\n  onMouseLeave = () => {\n    this.setState({highlight: false});\n  }\n\n  onDirentClick = (e) => {\n    e.preventDefault();\n    this.props.onDirentClick(this.props.dirent);\n  }\n\n  render() {\n    let { path, dirent } = this.props;\n    let href = siteRoot + 'wikis' + Utils.joinPath(path, dirent.name);\n    let iconUrl = Utils.getDirentIcon(dirent);\n\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className=\"text-center\">\n          <img src={iconUrl} width=\"24\" alt=\"\" />\n        </td>\n        <td className=\"name\">\n          <a href={href} onClick={this.onDirentClick}>{dirent.name}</a>\n        </td>\n        <td>{dirent.size}</td>\n        <td title={dirent.mtime_relative}>{dirent.mtime_relative}</td>\n      </tr>\n    );\n  }\n}\n\nWikiDirListItem.propTypes = propTypes;\n\nexport default WikiDirListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/wiki-dir-list-view/wiki-dir-list-item.js","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport MediaQuery from 'react-responsive';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport SearchResultItem from './search-result-item';\nimport editorUtilities from '../../utils/editor-utilties';\nimport More from '../more';\n\nconst propTypes = {\n  repoID: PropTypes.string,\n  placeholder: PropTypes.string,\n  onSearchedClick: PropTypes.func.isRequired,\n};\n\nclass Search extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      width: 'default',\n      value: '',\n      resultItems: [],\n      isMaskShow: false,\n      isResultShow: false,\n      isResultGetted: false,\n      isCloseShow: false,\n      isSearchInputShow: false, // for mobile\n    };\n    this.inputValue = '';\n    this.source = null; // used to cancel request;\n  }\n\n  onFocusHandler = () => {\n    this.setState({\n      width: '30rem',\n      isMaskShow: true,\n      isCloseShow: true\n    });\n  }\n\n  onCloseHandler = () => {\n    this.resetToDefault();\n  }\n\n  onItemClickHandler = (item) => {\n    this.resetToDefault();\n    this.props.onSearchedClick(item);\n  }\n\n  onChangeHandler = (event) => {\n    let _this = this;\n    this.setState({value: event.target.value});\n    let newValue = event.target.value;\n    if (this.inputValue === newValue.trim()) {\n      return false;\n    }\n    this.inputValue = newValue.trim();\n\n    if (this.inputValue === '' || _this.getValueLength(this.inputValue) < 3) {\n      this.setState({\n        isResultShow: false,\n        isResultGetted: false\n      });\n      return false;\n    }\n    let repoID = this.props.repoID;\n    let queryData = {\n      q: newValue,\n      search_repo: repoID ? repoID : 'all',\n      search_ftypes: 'all',\n    };\n\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    this.timer = setTimeout(_this.getSearchResult(queryData), 500);\n  }\n\n  getSearchResult(queryData) {\n    \n    if(this.source){\n      this.cancelRequest();\n    }\n    this.setState({\n      isResultShow: true,\n      isResultGetted: false\n    });\n\n    this.source = editorUtilities.getSource();\n    this.sendRequest(queryData, this.source.token);\n  }\n\n  sendRequest(queryData, cancelToken) {\n    var _this = this;\n    editorUtilities.searchFiles(queryData,cancelToken).then(res => {\n      if (!res.data.total) {\n        _this.setState({\n          resultItems: [],\n          isResultGetted: true\n        });\n        _this.source = null;\n        return;\n      }\n\n      let items = _this.formatResultItems(res.data.results);\n      _this.setState({\n        resultItems: items,\n        isResultGetted: true\n      });\n      _this.source = null;\n    }).catch(res => {\n      /* eslint-disable */\n      console.log(res);\n      /* eslint-enable */\n    });\n  }\n\n  cancelRequest() {\n    this.source.cancel('prev request is cancelled');\n  }\n\n  getValueLength(str) {\n    var i = 0, code, len = 0;\n    for (; i < str.length; i++) {\n      code = str.charCodeAt(i);\n      if (code == 10) { //solve enter problem\n        len += 2;\n      } else if (code < 0x007f) {\n        len += 1;\n      } else if (code >= 0x0080 && code <= 0x07ff) {\n        len += 2;\n      } else if (code >= 0x0800 && code <= 0xffff) {\n        len += 3;\n      }\n    }\n    return len;\n  }\n\n  formatResultItems(data) {\n    let items = [];\n    let length = data.length > 5 ? 5 : data.length;\n    for (let i = 0; i < length; i++) {\n      items[i] = {};\n      items[i]['index'] = [i];\n      items[i]['name'] = data[i].name;\n      items[i]['path'] = data[i].fullpath;\n      items[i]['repo_id'] = data[i].repo_id;\n      items[i]['repo_name'] = data[i].repo_name;\n      items[i]['is_dir'] = data[i].is_dir;\n      items[i]['link_content'] = decodeURI(data[i].fullpath).substring(1);\n      items[i]['content'] = data[i].content_highlight;\n    }\n    return items;\n  }\n\n  resetToDefault() {\n    this.inputValue = null;\n    this.setState({\n      width: '',\n      value: '',\n      isMaskShow: false,\n      isCloseShow: false,\n      isResultShow: false,\n      isResultGetted: false,\n      resultItems: [],\n      isSearchInputShow: false,\n    });\n  }\n\n  onShowMore = () => {\n    let repoID = this.props.repoID;\n    let newValue = this.state.value;\n    let queryData = {\n      q: newValue,\n      search_repo: repoID ? repoID : 'all',\n      search_ftypes: 'all',\n    };\n    let params = '';\n    for (let key in queryData) {\n      params += key + '=' + queryData[key] + '&';\n    }\n    window.location = siteRoot + 'search/?' + params.slice(0, params.length - 1);\n  }\n\n  renderSearchResult() {\n    var _this = this;\n    if (!this.state.isResultShow) {\n      return;\n    }\n    if (!this.state.isResultGetted || this.getValueLength(this.inputValue) < 3) {\n      return (\n        <span className=\"loading-icon loading-tip\"></span>\n      );\n    }\n    if (!this.state.resultItems.length) {\n      return (\n        <div className=\"search-result-none\">{gettext('No results matching.')}</div>\n      );\n    }\n    let isShowMore = this.state.resultItems.length >= 5 ? true : false;\n    return (\n      <ul className=\"search-result-list\">\n        {this.state.resultItems.map(item => {\n          return (\n            <SearchResultItem\n              key={item.index}\n              item={item}\n              onItemClickHandler={_this.onItemClickHandler}\n            />\n          );\n        })}\n        {isShowMore && <More onShowMore={this.onShowMore}/>}\n      </ul>\n    );\n  }\n\n  onSearchToggle = () => {\n    this.setState({\n      isSearchInputShow: !this.state.isSearchInputShow,\n      isMaskShow: !this.state.isMaskShow,\n    });\n  }\n\n  render() {\n    let width = this.state.width !== 'default' ? this.state.width : '';\n    let style = {'width': width};\n    return (\n      <Fragment>\n        <MediaQuery query=\"(min-width: 768px)\">\n          <div className=\"search\">\n            <div className={`search-mask ${this.state.isMaskShow ? '' : 'hide'}`} onClick={this.onCloseHandler}></div>\n            <div className=\"search-container\">\n              <div className=\"input-icon\">\n                <i className=\"search-icon-left input-icon-addon fas fa-search\"></i>\n                <input \n                  type=\"text\" \n                  className=\"form-control search-input\" \n                  name=\"query\"\n                  placeholder={this.props.placeholder}\n                  style={style}\n                  value={this.state.value}\n                  onFocus={this.onFocusHandler}\n                  onChange={this.onChangeHandler}\n                  autoComplete=\"off\"\n                />\n                {this.state.isCloseShow && <i className='search-icon-right input-icon-addon fas fa-times' onClick={this.onCloseHandler}></i>}\n              </div>\n              <div className=\"search-result-container\">\n                {this.renderSearchResult()}\n              </div>\n            </div>\n          </div>\n        </MediaQuery>\n        <MediaQuery query=\"(max-width: 768px)\">\n          <div className=\"search-icon-container\">\n            <i className=\"search-icon fas fa-search\" onClick={this.onSearchToggle}></i>\n          </div>\n          {this.state.isSearchInputShow && \n            <div className=\"search\">\n              <div className={`search-mask ${this.state.isMaskShow ? '' : 'hide'}`} onClick={this.onCloseHandler}></div>\n              <div className=\"search-container\">\n                <div className=\"input-icon\">\n                  <i className=\"search-icon-left input-icon-addon fas fa-search\"></i>\n                  <input \n                    type=\"text\" \n                    className=\"form-control search-input\" \n                    name=\"query\"\n                    placeholder={this.props.placeholder}\n                    style={style}\n                    value={this.state.value}\n                    onFocus={this.onFocusHandler}\n                    onChange={this.onChangeHandler}\n                    autoComplete=\"off\"\n                  />\n                  {this.state.isCloseShow && <i className='search-icon-right input-icon-addon fas fa-times' onClick={this.onCloseHandler}></i>}\n                </div>\n                <div className=\"search-result-container\">\n                  {this.renderSearchResult()}\n                </div>\n              </div>\n            </div>\n          }\n        </MediaQuery>\n      </Fragment>\n    );\n  }\n}\n\nSearch.propTypes = propTypes;\n\nexport default Search;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/search/search.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  item: PropTypes.object.isRequired,\n  onItemClickHandler: PropTypes.func.isRequired,\n};\n\nclass SearchResultItem extends React.Component {\n\n  onClickHandler = () => {\n    var item = this.props.item;\n    this.props.onItemClickHandler(item);\n  }\n\n  render() {\n    let item = this.props.item;\n    let fileIconUrl = item.is_dir ? Utils.getFolderIconUrl(false, 192) : Utils.getFileIconUrl(item.name, 192);\n    return (\n      <li className=\"search-result-item\" onClick={this.onClickHandler}>\n        <img className=\"item-img\" src={fileIconUrl} alt=\"\" />\n        <div className=\"item-content\">\n          <div className=\"item-name ellipsis\">{item.name}</div>\n          <div className=\"item-link ellipsis\">{item.repo_name}/{item.link_content}</div>\n          <div className=\"item-text ellipsis\" dangerouslySetInnerHTML={{__html: item.content}}></div>\n        </div>\n      </li>\n    );\n  }\n}\n\nSearchResultItem.propTypes = propTypes;\n\nexport default SearchResultItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/search/search-result-item.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../utils/constants';\n\nconst propTypes = {\n  onShowMore: PropTypes.func.isRequired\n};\n\nclass More extends React.Component {\n\n  render() {\n    return (\n      <li className=\"list-show-more\" onClick={this.props.onShowMore}>\n        <span className=\"more-message\">{gettext('show more')}</span>\n      </li>\n    );\n  }\n}\n\nMore.propTypes = propTypes;\n\nexport default More;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/more.js","'use strict';\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  window.Promise = require('promise/lib/es6-extensions.js');\n}\n\n// fetch() polyfill for making API calls.\nrequire('whatwg-fetch');\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = require('object-assign');\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\nif (process.env.NODE_ENV === 'test') {\n  require('raf').polyfill(global);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/polyfills.js\n// module id = 12\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28","import React from 'react';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport NoticeItem from './notice-item';\n\nclass Notification extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showNotice: false,\n      unseenCount: 0,\n      noticeList: [],\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.getUnseenNotificationCount().then(res => {\n      this.setState({unseenCount: res.data.unseen_count});\n    });\n  }\n\n  onClick = () => {\n    if (this.state.showNotice) {\n      seafileAPI.updateNotifications();\n      this.setState({\n        showNotice: false,\n        unseenCount: 0\n      });\n    } else {\n      this.loadNotices();\n      this.setState({showNotice: true});\n    }\n  }\n\n  loadNotices = () => {\n    let page = 1;\n    let perPage = 5;\n    seafileAPI.listPopupNotices(page, perPage).then(res => {\n      let noticeList = res.data.notification_list;\n      this.setState({noticeList: noticeList});\n    });\n  }\n\n  onNoticeItemClick = (noticeItem) => {    \n    let noticeList = this.state.noticeList.map(item => {\n      if (item.id === noticeItem.id) {\n        item.seen = true;\n      }\n      return item;\n    });\n    seafileAPI.markNoticeAsRead(noticeItem.id);\n    let unseenCount = this.state.unseenCount === 0 ? 0 : this.state.unseenCount - 1;\n    this.setState({\n      noticeList: noticeList,\n      unseenCount: unseenCount, \n    });\n    \n  }\n\n  render() {\n\n    return (\n      <div id=\"notifications\">\n        <a href=\"#\" onClick={this.onClick} className=\"no-deco\" id=\"notice-icon\" title=\"Notifications\" aria-label=\"Notifications\">\n          <span className=\"sf2-icon-bell\"></span>\n          <span className={`num ${this.state.unseenCount ? '' : 'hide'}`}>{this.state.unseenCount}</span>\n        </a>\n        <div id=\"notice-popover\" className={`sf-popover ${this.state.showNotice ? '': 'hide'}`}>\n          <div className=\"outer-caret up-outer-caret\"><div className=\"inner-caret\"></div></div>\n          <div className=\"sf-popover-hd ovhd\">\n            <h3 className=\"sf-popover-title title\">{gettext('Notifications')}</h3>\n            <a href=\"#\" onClick={this.onClick} title={gettext('Close')} aria-label={gettext('Close')} className=\"sf-popover-close js-close sf2-icon-x1 action-icon float-right\"></a>\n          </div>\n          <div className=\"sf-popover-con\">\n            <ul className=\"notice-list\">\n              {this.state.noticeList.map(item => {\n                return (<NoticeItem key={item.id} noticeItem={item} onNoticeItemClick={this.onNoticeItemClick}/>);\n              })}\n            </ul>\n            <a href={siteRoot + 'notification/list/'} className=\"view-all\">{gettext('See All Notifications')}</a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Notification;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/notification.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  noticeItem: PropTypes.object.isRequired,\n  onNoticeItemClick: PropTypes.func.isRequired,\n};\n\nconst MSG_TYPE_ADD_USER_TO_GROUP = 'add_user_to_group'\nconst MSG_TYPE_REPO_SHARE = 'repo_share'\nconst MSG_TYPE_REPO_SHARE_TO_GROUP = 'repo_share_to_group'\nconst MSG_TYPE_REPO_TRANSFER = 'repo_transfer'\nconst MSG_TYPE_FILE_UPLOADED = 'file_uploaded'\nconst MSG_TYPE_FILE_COMMENT = 'file_comment'\nconst MSG_TYPE_DRAFT_COMMENT = 'draft_comment'\nconst MSG_TYPE_DRAFT_REVIEWER = 'draft_reviewer'\nconst MSG_TYPE_GUEST_INVITATION_ACCEPTED = 'guest_invitation_accepted'\n\nclass NoticeItem extends React.Component {\n\n  generatorNoticeInfo () {\n    let noticeItem = this.props.noticeItem;\n    let noticeType = noticeItem.type;\n    let detail = noticeItem.detail;\n\n    if (noticeType === MSG_TYPE_ADD_USER_TO_GROUP) {\n\n      let avatar_url = detail.group_staff_avatar_url;\n\n      let groupStaff = detail.group_staff_name;\n      \n      let userHref = siteRoot + 'profile/' + detail.group_staff_email + '/';\n      let groupHref = siteRoot + 'group/' + detail.group_id + '/';\n      let groupName = detail.group_name;\n\n      let notice = gettext('User {user_link} has added you to {group_link}');\n      let userLink = '<a href=' + userHref + '>' + groupStaff + '</a>';\n      let groupLink = '<a href=' + groupHref + '>' + groupName + '</a>';\n\n      notice = notice.replace('{user_link}', userLink);\n      notice = notice.replace('{group_link}', groupLink);\n\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_REPO_SHARE) {\n\n      let avatar_url = detail.share_from_user_avatar_url;\n\n      let shareFrom = detail.share_from_user_name;\n\n      let repoName = detail.repo_name;\n      let repoUrl = siteRoot + 'library/' + detail.repo_id + '/' +  repoName + '/';\n\n      let path = detail.path;\n      let notice = '';\n      let repoLink = '<a href=' + repoUrl + '>' + repoName + '</a>';\n      if (path === '/') { // share repo\n        notice = gettext('{share_from} has shared a library named {repo_link} to you.');\n      } else { // share folder\n        notice = gettext('{share_from} has shared a folder named {repo_link} to you.');\n      }\n\n      notice = notice.replace('{share_from}', shareFrom);\n      notice = notice.replace('{repo_link}', repoLink);\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_REPO_SHARE_TO_GROUP) {\n\n      let avatar_url = detail.share_from_user_avatar_url;\n\n      let shareFrom = detail.share_from_user_name;\n\n      let repoName = detail.repo_name;\n      let repoUrl = siteRoot + 'library/' + detail.repo_id + '/' + repoName + '/';\n\n      let groupUrl = siteRoot + 'group/' + detail.group_id + '/';\n      let groupName = detail.group_name; \n\n      let path = detail.path;\n      let notice = '';\n      let repoLink = '<a href=' + repoUrl + '>' + repoName + '</a>';\n      let groupLink = '<a href=' + groupUrl + '>' + groupName + '</a>';\n      if (path === '/') {\n        notice =  gettext('{share_from} has shared a library named {repo_link} to group {group_link}.');\n      } else {\n        notice =  gettext('{share_from} has shared a folder named {repo_link} to group {group_link}.');\n      }\n      notice = notice.replace('{share_from}', shareFrom);\n      notice = notice.replace('{repo_link}', repoLink);\n      notice = notice.replace('{group_link}', groupLink);\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_REPO_TRANSFER) {\n\n      let avatar_url = detail.transfer_from_user_avatar_url;\n\n      let repoOwner = detail.transfer_from_user_name;\n\n      let repoName = detail.repo_name;\n      let repoUrl = siteRoot + 'library/' + detail.repo_id + '/' + repoName + '/';\n      let notice = gettext('{user} has transfered a library named {repo_link} to you.');\n      let repoLink = '<a href=' + repoUrl + '>' + repoName + '</a>';\n      notice = notice.replace('{user}', repoOwner);\n      notice = notice.replace('{repo_link}', repoLink);\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_FILE_UPLOADED) {\n      let avatar_url = detail.uploaded_user_avatar_url;\n      let fileName = detail.file_name;\n      let fileLink = siteRoot + 'lib/' + detail.repo_id + '/' + 'file' + Utils.encodePath(detail.file_path);\n\n      let folderName = detail.folder_name;\n      let folderLink = siteRoot + 'library/' + detail.repo_id + '/' + detail.repo_name + Utils.encodePath(detail.folder_path);\n      let notice = '';\n      if (detail.repo_id) { // todo is repo exist ?\n        let uploadFileLink = '<a href=' + fileLink + '>' + fileName + '</a>';\n        let uploadedLink = '<a href=' + folderLink  + '>' + folderName + '</a>';\n\n        notice = gettext('A file named {upload_file_link} is uploaded to {uploaded_link}.');\n        notice = notice.replace('{upload_file_link}', uploadFileLink);\n        notice = notice.replace('{uploaded_link}', uploadedLink);\n      } else {\n        notice = gettext('A file named {upload_file_link} is uploaded to {uploaded_link}.');\n        notice = notice.replace('{upload_file_link}', fileName);\n        notice = notice.replace('{uploaded_link}', '<strong>Deleted Library</strong>')\n      }\n      return {avatar_url, notice};\n    }\n\n    if (noticeType === MSG_TYPE_FILE_COMMENT) {\n\n      let avatar_url = detail.author_avatar_url;\n\n      let author = detail.author_name;\n\n      let fileName = detail.file_name;\n      let fileUrl = siteRoot + 'lib/' + detail.repo_id + '/' + 'file' + detail.file_path;\n\n      let notice = gettext('File {file_link} has a new comment form user {author}.');\n      let fileLink = '<a href=' + fileUrl + '>' + fileName + '</a>';\n      notice = notice.replace('{file_link}', fileLink);\n      notice = notice.replace('{author}', author);\n      return {avatar_url, notice};\n    }\n    \n    if (noticeType === MSG_TYPE_DRAFT_COMMENT) {\n\n      let avatar_url = detail.author_avatar_url;\n\n      let author = detail.author_name;\n\n      let draftId = detail.draft_id;\n      let draftUrl = siteRoot + 'drafts/' + draftId + '/';\n\n      let notice = gettext('{draft_link} has a new comment from user {author}.');\n      let draftLink = '<a href=' + draftUrl + '>' + gettext('Draft') + '#' + draftId + '</a>';\n      notice = notice.replace('{draft_link}', draftLink);\n      notice = notice.replace('{author}', author);\n      return {avatar_url, notice};\n    }\n    \n    if (noticeType === MSG_TYPE_DRAFT_REVIEWER) {\n\n      let avatar_url = detail.request_user_avatat_url;\n\n      let fromUser = detail.request_user_name;\n\n      let draftId = detail.draft_id;\n      let draftUrl = siteRoot + 'drafts/' + draftId + '/';\n\n      let notice = gettext('{from_user} has sent you a request for {draft_link}.');\n      let draftLink = '<a href=' + draftUrl + '>' + gettext('Draft') + '#' + draftId + '</a>';\n      notice = notice.replace('{from_user}', fromUser);\n      notice = notice.replace('{draft_link}', draftLink);\n      return {avatar_url, notice};\n    }\n    \n    // if (noticeType === MSG_TYPE_GUEST_INVITATION_ACCEPTED) {\n      \n    // }\n    \n    return {avatar_url : null, notice : null};\n  }\n\n  onNoticeItemClick = () => {\n    let item = this.props.noticeItem;\n    if (item.seen === true) {\n      return;\n    }\n    this.props.onNoticeItemClick(item);\n  }\n\n  render() {\n    let noticeItem = this.props.noticeItem;\n    let { avatar_url, notice } = this.generatorNoticeInfo();\n\n    if (!avatar_url && !notice) {\n      return '';\n    }\n\n    return (\n      <li onClick={this.onNoticeItemClick} className={noticeItem.seen ? 'read' : 'unread'}>\n        <div className=\"notice-item\">\n          <div className=\"main-info\">\n            <img src={avatar_url} width=\"32\" height=\"32\" className=\"avatar\" />\n            <p className=\"brief\" dangerouslySetInnerHTML={{__html: notice}}></p>\n          </div>\n          <p className=\"time\">{moment(noticeItem.timestamp).fromNow()}</p>\n        </div>\n      </li>\n    )\n  }\n}\n\nNoticeItem.propTypes = propTypes;\n\nexport default NoticeItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/notice-item.js","export const strChineseFirstPY = \"YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY\";\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/pinyin-by-unicode.js","import moment from 'moment';\nimport { Utils } from '../utils/utils';\nimport FileTag from './file-tag';\n\nclass Dirent {\n  constructor(json) {\n    this.id = json.id || '0000000000000000';\n    this.name = json.name;\n    this.type = json.type;\n    this.mtime = json.mtime;\n    this.mtime_relative = moment.unix(json.mtime).fromNow();\n    this.permission = json.permission || 'rw';\n    this.isSelected = false; // is check or not\n    this.starred = json.starred || false;\n    if (json.type === 'file') {\n      this.size = Utils.bytesToSize(json.size);\n      this.is_locked = json.is_locked || false;\n      this.lock_time = json.lock_time || '';\n      this.lock_owner= json.lock_owner || null;\n      this.lock_owner_name= json.lock_owner_name || null;\n      this.locked_by_me = json.locked_by_me || false;\n      this.modifier_name = json.modifier_name || '';\n      this.modifier_email = json.modifier_email || '';\n      this.modifier_contact_email = json.modifier_contact_email || '';\n      let file_tags = [];\n      if (json.file_tags) {\n        file_tags = json.file_tags.map(item => {\n          return new FileTag(item);\n        });\n      }\n      this.file_tags = file_tags;\n      if (json.encoded_thumbnail_src) {\n        this.encoded_thumbnail_src = json.encoded_thumbnail_src;\n      }\n    }\n  }\n\n  clone() {\n    return new Dirent(this);\n  }\n\n  isDir() {\n    return this.type !== 'file';\n  }\n\n}\n\nexport default Dirent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/dirent.js","import { Utils } from '../../utils/utils';\nimport Tree from './tree';\nimport TreeNode from './tree-node';\nimport Dirent from '../../models/dirent';\n\nclass TreeHelper {\n\n  expandNode(tree, node) {  // This tree has been cloned\n    tree.expandNode(node);\n  }\n\n  collapseNode(tree, node) {\n    let treeCopy = tree.clone();\n    node = treeCopy.getNodeByPath(node.path);\n    treeCopy.collapseNode(node);\n    return treeCopy;\n  }\n\n  findNodeByPath(tree, nodePath) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    return node;\n  }\n\n  getNodeChildrenObject(tree, node, sortType = 'name', order = 'asc') {\n    let objects = tree.getNodeChildrenObject(node);\n    objects = Utils.sortDirents(objects, sortType, order);\n    return objects;\n  }\n\n  addNodeToParent(tree, node, parentNode) {\n    tree.addNodeToParentNode(node, parentNode);\n    return tree;\n  }\n\n  addNodeListToParent(tree, nodeList, parentNode) {\n    tree.addNodeListToParent(nodeList, parentNode);\n    return tree;\n  }\n\n  addNodeToParentByPath(tree, node, parentPath) {\n    let treeCopy = tree.clone();\n    let parentNode = treeCopy.getNodeByPath(parentPath);\n    treeCopy.addNodeToParent(node, parentNode);\n    return treeCopy;\n  }\n\n  deleteNodeByPath(tree, nodePath) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    treeCopy.deleteNode(node);\n    return treeCopy;\n  }\n\n  deleteNodeListByPaths(tree, nodePaths) {\n    let treeCopy = tree.clone();\n    nodePaths.forEach(nodePath => {\n      let node = treeCopy.getNodeByPath(nodePath);\n      treeCopy.deleteNode(node);\n    });\n    return treeCopy;\n  }\n\n  renameNodeByPath(tree, nodePath, newName) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    treeCopy.renameNode(node, newName);\n    return treeCopy;\n  }\n\n  updateNodeByPath(tree, nodePath, keys, newValues) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    treeCopy.updateNode(node, keys, newValues);\n    return treeCopy;\n  }\n\n  moveNodeByPath(tree, nodePath, destPath, nodeName) {\n    let treeCopy = tree.clone();\n    let node = treeCopy.getNodeByPath(nodePath);\n    let destNode = treeCopy.getNodeByPath(destPath);\n    if (destNode && node) {        // node has loaded\n      node.object.name = nodeName; // need not update path\n      treeCopy.moveNode(node, destNode);\n    }\n    if (!destNode && node){\n      treeCopy.deleteNode(node);\n    }\n    return treeCopy;\n  }\n\n  moveNodeListByPaths(tree, nodePaths, destPath) {\n    let treeCopy = tree.clone();\n    let destNode = treeCopy.getNodeByPath(destPath);\n    if (destNode) {\n      nodePaths.forEach(nodePath => { \n        let node = treeCopy.getNodeByPath(nodePath);\n        treeCopy.moveNode(node, destNode);\n      });\n    } else {\n      nodePaths.forEach(nodePath=> {\n        let node = treeCopy.getNodeByPath(nodePath);\n        treeCopy.delete(node);\n      });\n    }\n    return treeCopy;\n  }\n\n  copyNodeByPath(tree, nodePath, destPath, nodeName) {\n    let treeCopy = tree.clone();\n    let destNode = treeCopy.getNodeByPath(destPath);\n    let treeNode = treeCopy.getNodeByPath(nodePath);\n    if (destNode) {\n      let node = treeNode.clone();  // need a dup\n      node.object.name = nodeName;  // need not update path\n      treeCopy.copyNode(node, destNode);\n    }\n    return treeCopy;\n  }\n  \n  copyNodeListByPaths(tree, nodePaths, destPath) {\n    let treeCopy = tree.clone();\n    let destNode = treeCopy.getNodeByPath(destPath);\n    if (destNode) {\n      nodePaths.forEach(nodePath => {\n        let node = treeCopy.getNodeByPath(nodePath);\n        treeCopy.copyNode(node, destNode);\n      });\n    }\n    return treeCopy;\n  }\n\n  buildTree() {\n    let tree = new Tree();\n    let object = new Dirent({name: '/'});\n    let root = new TreeNode({object, isLoaded: false, isExpanded: true});\n    tree.setRoot(root);\n    return tree;\n  }\n}\n\nlet treeHelper = new TreeHelper();\n\nexport default treeHelper;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-helper.js","import TreeNode from './tree-node';\n\nclass Tree {\n\n  constructor() {\n    this.root = null;\n  }\n\n  clone() {\n    let tree = new Tree();\n    if (this.root) {\n      tree.root = this.root.clone();\n    }\n    return tree;\n  }\n\n  setRoot(node) {\n    this.root = node;\n  }\n\n  getNodeByPath(path) { \n    let findNode = null;\n    function callback(currentNode) {\n      if (currentNode.path === path) {\n        findNode = currentNode;\n        return true;\n      }\n      return false;\n    }\n    this.traverseDF(callback);\n    return findNode;\n  }\n\n  getNodeChildrenObject(node) {\n    let objects = node.children.map(item => {\n      let object = item.object;\n      return object;\n    });\n    return objects;\n  }\n\n  addNodeToParent(node, parentNode) {\n    parentNode.addChild(node);\n  }\n\n  addNodeListToParent(nodeList, parentNode) {\n    nodeList.forEach(node => {\n      parentNode.addChild(node);\n    });\n  }\n\n  deleteNode(node) {\n    let parentNode = this.getNodeByPath(node.parentNode.path);\n    parentNode.deleteChild(node);\n  }\n\n  deleteNodeList(nodeList) {\n    nodeList.forEach(node => {\n      this.deleteNode(node);\n    });\n  }\n\n  renameNode(node, newName) {\n    node.rename(newName);\n  }\n\n  updateNode(node, keys, newValues) {\n    node.updateObjectParam(keys, newValues);\n  }\n\n  moveNode(node, destNode) {\n    this.deleteNode(node);\n    destNode.addChild(node);\n  }\n\n  copyNode(node, destNode) {\n    destNode.addChild(node);\n  }\n\n  traverseDF(callback) {\n    let stack = [];\n    let found = false;\n    stack.unshift(this.root);\n    let currentNode = stack.shift();\n    while (!found && currentNode) {\n      found = callback(currentNode) == true ? true : false;\n      if (!found) {\n        stack.unshift(...currentNode.children);\n        currentNode = stack.shift();\n      }\n    }\n  }\n\n  traverseBF(callback) {\n    let queue = [];\n    let found = false;\n    queue.push(this.root);\n    let currentNode = queue.shift();\n    while (!found && currentNode) {\n      found = callback(currentNode) === true ? true : false;\n      if (!found) {\n        queue.push(...currentNode.children);\n        currentNode = queue.shift();\n      }\n    }\n  }\n\n  expandNode(node) {\n    node.isExpanded = true;\n    while (node.parentNode) {\n      node.parentNode.isExpanded = true;\n      node = node.parentNode;\n    }\n  }\n  \n  collapseNode(node) {\n    node.isExpanded = false;\n  }\n\n  isNodeChild(node, parentNode) {\n    return parentNode.children.some(item => {\n      return item.path === node.path;\n    });\n  }\n\n  serializeToJson() {\n    return this.root.serializeToJson();\n  }\n\n  deserializefromJson(json) {\n    let root = TreeNode.deserializefromJson(json);\n    let tree = new Tree();\n    tree.setRoot(root);\n    return tree;\n  }\n\n}\n\nexport default Tree;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TreeNodeView from './tree-node-view';\n\nimport TreeViewContextMenu from './tree-view-contextmenu'\n\nconst propTypes = {\n  repoPermission: PropTypes.bool,\n  isNodeMenuShow: PropTypes.bool.isRequired,\n  treeData: PropTypes.object.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onMenuItemClick: PropTypes.func,\n  onNodeClick: PropTypes.func.isRequired,\n  onNodeExpanded: PropTypes.func.isRequired,\n  onNodeCollapse: PropTypes.func.isRequired,\n  onItemMove: PropTypes.func,\n  currentRepoInfo: PropTypes.object,\n};\n\nconst PADDING_LEFT = 20;\n\nclass TreeView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n      isRightMenuShow: false,\n      nodeData: null,\n      fileData: null,\n      mousePosition: {clientX: '', clientY: ''},\n    };\n  }\n\n  componentDidMount() {\n    this.registerHandlers();\n  }\n\n  componentWillUnmount() {\n    this.unregisterHandlers();\n  }\n\n  onItemMove = (repo, dirent, selectedPath, currentPath) => {\n    this.props.onItemMove(repo, dirent, selectedPath, currentPath);\n  }\n\n  onNodeDragStart = (e, node) => {\n    let dragStartNodeData = {nodeDirent: node.object, nodeParentPath: node.parentNode.path, nodeRootPath: node.path};\n    dragStartNodeData = JSON.stringify(dragStartNodeData);\n    \n    e.dataTransfer.effectAllowed = \"move\";\n    e.dataTransfer.setData('applicaiton/drag-item-info', dragStartNodeData);\n  }\n\n  onNodeDragEnter = (e, node) => {\n    //todo\n  }\n\n  onNodeDragMove = (e) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n  }\n\n  onNodeDragLeave = (e, node) => {\n    //todo\n  }\n\n  onNodeDrop = (e, node) => {\n    if (e.dataTransfer.files.length) { // uploaded files\n      return;\n    }\n    let dragStartNodeData = e.dataTransfer.getData('applicaiton/drag-item-info');\n    dragStartNodeData = JSON.parse(dragStartNodeData);\n\n    let {nodeDirent, nodeParentPath, nodeRootPath} = dragStartNodeData;\n    let dropNodeData = node;\n\n    if (dropNodeData.object.type !== 'dir') {\n      return;\n    }\n\n    // copy the dirent to itself. eg: A/B -> A/B\n    if (nodeParentPath === dropNodeData.parentNode.path) {\n      if (dropNodeData.object.name === nodeDirent.name) {\n        return;\n      }\n    }\n\n    // copy the dirent to it's child. eg: A/B -> A/B/C\n    if (dropNodeData.object.type === 'dir' && nodeDirent.type === 'dir') {\n      if (dropNodeData.parentNode.path !== nodeParentPath) {\n        if (dropNodeData.path.indexOf(nodeRootPath) !== -1) {\n          return;\n        }\n      }\n    }\n\n    this.onItemMove(this.props.currentRepoInfo, nodeDirent, dropNodeData.path, nodeParentPath);\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  }\n\n  onUnFreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  }\n\n  contextMenu = (e) => {\n    e.preventDefault();\n    this.setState({\n      isRightMenuShow:false,\n    });\n    setTimeout(() => { \n      this.setState({\n        isRightMenuShow:true,\n        fileData:this.state.nodeData,\n        mousePosition: {clientX: e.clientX, clientY: e.clientY}\n      })\n    },40)\n  }  \n\n  unregisterHandlers = () => {\n    let treeView = document.querySelector('.tree-view');\n    treeView.removeEventListener('contextmenu', this.contextMenu);\n  }\n\n  registerHandlers = () => {\n    let treeView = document.querySelector('.tree-view');\n    treeView.addEventListener('contextmenu', this.contextMenu);\n  }\n\n  onNodeChanged = (node) => {\n    this.setState({\n      nodeData:node\n    })\n  }\n\n  closeRightMenu = () => {\n    this.setState({\n      isRightMenuShow:false,\n    })\n  }\n\n  onMenuItemClick = (operation, node) => {\n    this.props.onMenuItemClick(operation, node)\n  }\n\n  render() {\n    return (\n      <div className=\"tree-view tree\">\n        <TreeNodeView \n          repoPermission={this.props.repoPermission}\n          node={this.props.treeData.root}\n          currentPath={this.props.currentPath}\n          paddingLeft={PADDING_LEFT}\n          isNodeMenuShow={this.props.isNodeMenuShow}\n          isItemFreezed={this.state.isItemFreezed}\n          onNodeClick={this.props.onNodeClick}\n          onMenuItemClick={this.props.onMenuItemClick}\n          onNodeExpanded={this.props.onNodeExpanded}\n          onNodeCollapse={this.props.onNodeCollapse}\n          onNodeDragStart={this.onNodeDragStart}\n          onFreezedItem={this.onFreezedItem}\n          onUnFreezedItem={this.onUnFreezedItem}\n          onNodeChanged={this.onNodeChanged}\n          registerHandlers={this.registerHandlers}\n          unregisterHandlers={this.unregisterHandlers}\n          onNodeDragMove={this.onNodeDragMove}\n          onNodeDrop={this.onNodeDrop}\n          onNodeDragEnter={this.onNodeDragEnter}\n          onNodeDragLeave={this.onNodeDragLeave}\n        />\n       {this.state.isRightMenuShow && (\n          <TreeViewContextMenu \n            node={this.state.fileData}\n            onMenuItemClick={this.onMenuItemClick}\n            mousePosition={this.state.mousePosition}\n            closeRightMenu={this.closeRightMenu}\n            registerHandlers={this.registerHandlers}\n            unregisterHandlers={this.unregisterHandlers}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nTreeView.propTypes = propTypes;\n\nexport default TreeView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TreeNodeMenu from './tree-node-menu';\nimport { permission } from '../../utils/constants';\n\nconst propTypes = {\n  repoPermission: PropTypes.bool,\n  node: PropTypes.object.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  paddingLeft: PropTypes.number.isRequired,\n  isNodeMenuShow: PropTypes.bool.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onNodeClick: PropTypes.func.isRequired,\n  onNodeExpanded: PropTypes.func.isRequired,\n  onNodeCollapse: PropTypes.func.isRequired,\n  onNodeDragStart: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnFreezedItem: PropTypes.func.isRequired,\n  onMenuItemClick: PropTypes.func,\n  registerHandlers: PropTypes.func,\n  unregisterHandlers: PropTypes.func,\n  onNodeDragMove: PropTypes.func,\n  onNodeDrop: PropTypes.func,\n};\n\nclass TreeNodeView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHighlight: false,\n      isShowOperationMenu: false,\n      isNodeDropShow: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isShowOperationMenu: true,\n        isHighlight: true,\n      });\n    }\n    this.props.onNodeChanged(this.props.node)\n  }\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isShowOperationMenu: false,\n        isHighlight: false,\n      });\n    }\n    this.props.onNodeChanged(null)\n  }\n\n  onNodeClick = () => {\n    this.props.onNodeClick(this.props.node);\n  }\n\n  onLoadToggle = () => {\n    let { node } = this.props;\n    if (node.isExpanded) {\n      this.props.onNodeCollapse(node);\n    } else {\n      this.props.onNodeExpanded(node);\n    }\n  }\n\n  onNodeDragStart = (e) => {\n    this.props.onNodeDragStart(e, this.props.node);\n  }\n\n  onNodeDragEnter = (e) => {\n    if (this.props.node.object.type === 'dir') {\n      this.setState({isNodeDropShow: true});\n    }\n    this.props.onNodeDragEnter(e, this.props.node);\n  }\n\n  onNodeDragMove = (e) => {\n    this.props.onNodeDragMove(e);\n  }\n\n  onNodeDragLeave = (e) => {\n    this.setState({isNodeDropShow: false});\n    this.props.onNodeDragLeave(e, this.props.node);\n  }\n\n  onNodeDrop = (e) => {\n    this.setState({isNodeDropShow: false});\n    this.props.onNodeDrop(e, this.props.node);\n  }\n\n  onUnFreezedItem = () => {\n    this.setState({isShowOperationMenu: false});\n    this.props.onUnFreezedItem();\n  }\n\n  onMenuItemClick = (operation, node) => {\n    this.props.onMenuItemClick(operation, node);\n  }\n\n  getNodeTypeAndIcon = () => {\n    let { node } = this.props;\n    let icon = '';\n    let type = '';\n    if (node.object.type === 'dir') {\n      icon = <i className=\"far fa-folder\"></i>;\n      type = 'dir';\n    } else {\n      let index = node.object.name.lastIndexOf('.');\n      if (index === -1) {\n        icon = <i className=\"far fa-file\"></i>;\n        type = 'file';\n      } else {\n        let suffix = node.object.name.slice(index).toLowerCase();\n        if (suffix === '.png' || suffix === '.jpg' || suffix === '.jpeg' || suffix === '.gif' || suffix === '.bmp') {\n          icon = <i className=\"far fa-image\"></i>;\n          type = 'image';\n        } \n        else if (suffix === '.md' || suffix === '.markdown') {\n          icon = <i className=\"far fa-file-alt\"></i>;\n          type = 'file';\n        }\n        else {\n          icon = <i className=\"far fa-file\"></i>;\n          type = 'file';\n        }\n      }\n    }\n    return {icon, type};\n  }\n\n  renderChildren = () => {\n    let { node, paddingLeft } = this.props;\n    if (!node.hasChildren()) {\n      return '';\n    }\n    return (\n      <div className=\"children\" style={{paddingLeft: paddingLeft}}>\n        {node.children.map(item => {\n          return (\n            <TreeNodeView \n              key={item.path}\n              node={item}\n              paddingLeft={paddingLeft}\n              repoPermission={this.props.repoPermission}\n              currentPath={this.props.currentPath}\n              isNodeMenuShow={this.props.isNodeMenuShow}\n              isItemFreezed={this.props.isItemFreezed}\n              onNodeClick={this.props.onNodeClick}\n              onNodeCollapse={this.props.onNodeCollapse}\n              onNodeExpanded={this.props.onNodeExpanded}\n              onFreezedItem={this.props.onFreezedItem}\n              onMenuItemClick={this.onMenuItemClick}\n              onUnFreezedItem={this.onUnFreezedItem}\n              onNodeChanged={this.props.onNodeChanged}\n              registerHandlers={this.props.registerHandlers}\n              unregisterHandlers={this.props.unregisterHandlers}\n              onNodeDragStart={this.props.onNodeDragStart}\n              onNodeDragMove={this.props.onNodeDragMove}\n              onNodeDrop={this.props.onNodeDrop}\n              onNodeDragEnter={this.props.onNodeDragEnter}\n              onNodeDragLeave={this.props.onNodeDragLeave}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n\n  render() {\n    let { currentPath, node, isNodeMenuShow } = this.props;\n    let { type, icon } = this.getNodeTypeAndIcon();\n    let hlClass = this.state.isHighlight ? 'tree-node-inner-hover ' : '';\n    if (node.path === currentPath) {\n      hlClass = 'tree-node-hight-light';\n    }\n    return (\n      <div className=\"tree-node\">\n        <div type={type} title={node.object.name}\n          onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}\n          className={`tree-node-inner text-nowrap ${hlClass} ${node.path === '/'? 'hide': ''} ${this.state.isNodeDropShow ? 'tree-node-drop' : ''}`}>\n          <div className=\"tree-node-text\" draggable=\"true\" onDragStart={this.onNodeDragStart} onClick={this.onNodeClick} onDragEnter={this.onNodeDragEnter} onDragLeave={this.onNodeDragLeave} onDragOver={this.onNodeDragMove} onDrop={this.onNodeDrop}>{node.object.name}</div>\n          <div className=\"left-icon\">\n            {type === 'dir' && (!node.isLoaded ||  (node.isLoaded && node.hasChildren())) && (\n              <i \n                className={`folder-toggle-icon fa ${node.isExpanded ? 'fa-caret-down' : 'fa-caret-right'}`}\n                onMouseDown={e => e.stopPropagation()}\n                onClick={this.onLoadToggle}\n              ></i>\n            )}\n            <i className=\"tree-node-icon\">{icon}</i>\n          </div>\n          {isNodeMenuShow && (\n            <div className=\"right-icon\">\n              {((this.props.repoPermission || permission) && this.state.isShowOperationMenu) && (\n                <TreeNodeMenu \n                  node={this.props.node}\n                  onMenuItemClick={this.onMenuItemClick}\n                  onUnFreezedItem={this.onUnFreezedItem}\n                  onFreezedItem={this.props.onFreezedItem}\n                  registerHandlers={this.props.registerHandlers}\n                  unregisterHandlers={this.props.unregisterHandlers}\n                />\n              )}\n            </div>\n          )}\n        </div>\n        {node.isExpanded && this.renderChildren()}\n      </div>\n    );\n  }\n}\n\nTreeNodeView.propTypes = propTypes;\n\nexport default TreeNodeView;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-node-view.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  node: PropTypes.object.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnFreezedItem: PropTypes.func.isRequired,\n  registerHandlers: PropTypes.func,\n  unregisterHandlers: PropTypes.func,\n};\n\nclass TreeNodeMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false,\n      menuList: []\n    };\n  }\n\n  componentDidMount() {\n    let menuList = this.caculateMenuList();\n    this.setState({menuList: menuList});\n  }\n\n  caculateMenuList() {\n    let { node } = this.props;\n    let menuList = [];\n    if (node.object.type === 'dir') {\n      menuList = ['New Folder', 'New File', 'Copy', 'Move', 'Rename', 'Delete'];\n    } else {\n      menuList = ['Rename', 'Delete', 'Copy', 'Move', 'Open in New Tab'];\n    }\n    return menuList;\n  }\n\n  translateMenuItem = (menuItem) => {\n    let translateResult = '';\n    switch(menuItem) {\n      case 'New Folder':\n        translateResult = gettext('New Folder');\n        break;\n      case 'New File':\n        translateResult = gettext('New File');\n        break;\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Copy':\n        translateResult = gettext('Copy');\n        break;\n      case 'Move':\n        translateResult = gettext('Move');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Open in New Tab':\n        translateResult = gettext('Open in New Tab');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  }\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu(e);\n  }\n\n  toggleOperationMenu = (e) => {\n    e.stopPropagation();\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow }, () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.props.onUnFreezedItem();\n        }\n      }\n    );\n  }\n\n  onMenuItemClick = (event) => {\n    let operation = event.target.dataset.toggle;\n    let node = this.props.node;\n    this.props.onMenuItemClick(operation, node);\n  }\n\n  render() {\n    this.state.isItemMenuShow ? this.props.unregisterHandlers() : this.props.registerHandlers()\n\n    return (\n      <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n        <DropdownToggle \n          tag=\"i\" \n          className=\"fas fa-ellipsis-v\" \n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\" \n          aria-expanded={this.state.isItemMenuShow}\n          onClick={this.onDropdownToggleClick}\n        />\n        <DropdownMenu>\n          {this.state.menuList.map((menuItem, index) => {\n            return (\n              <DropdownItem key={index} data-toggle={menuItem} onClick={this.onMenuItemClick}>{this.translateMenuItem(menuItem)}</DropdownItem>\n            );\n          })}\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nTreeNodeMenu.propTypes = propTypes;\n\nexport default TreeNodeMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-node-menu.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\n\nimport '../../css/tree-view-contextmenu.css'\n\nconst propTypes = {\n  onMenuItemClick: PropTypes.func.isRequired,\n  node: PropTypes.object,\n  mousePosition: PropTypes.object,\n  closeRightMenu: PropTypes.func,\n  registerHandlers:PropTypes.func,\n  unregisterHandlers:PropTypes.func\n};\n\nclass TreeViewContextMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false,\n      menuList: [],\n    };\n  }\n\n  componentDidMount() {\n    let menuList = this.caculateMenuList();\n    this.setState({menuList: menuList});\n  }\n\n  componentDidUpdate() {\n    this.calculateMenuDistance();\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.listenClick);\n    document.removeEventListener('mousemove', this.handleContextMenu);\n  }\n\n  caculateMenuList() {\n    let { node } = this.props;\n    let menuList = [];\n    if (!node) {\n        menuList = ['New Folder', 'New File'];\n    } else {\n      if (node.object.type === 'dir') {\n        menuList = ['New Folder', 'New File', 'Copy', 'Move', 'Rename', 'Delete'];\n      } else {\n        menuList = ['Rename', 'Delete', 'Copy', 'Move', 'Open in New Tab'];\n      } \n    }\n    return menuList;\n  }\n\n  calculateMenuDistance = () => {\n    let mousePosition = this.props.mousePosition;\n    let rightTreeMenu = document.querySelector('.right-tree-menu');\n    let rightTreeMenuHeight = rightTreeMenu.offsetHeight;\n\n    if (mousePosition.clientY + rightTreeMenuHeight > document.body.clientHeight) {\n      rightTreeMenu.style.top = mousePosition.clientY - rightTreeMenuHeight + 'px';\n    } else {\n      rightTreeMenu.style.top = mousePosition.clientY + 'px';\n    }\n    rightTreeMenu.style.left = mousePosition.clientX + 'px';\n\n    document.addEventListener('click', this.listenClick);\n    document.addEventListener('mousemove', this.handleContextMenu);\n  }\n\n  translateMenuItem = (menuItem) => {\n    let translateResult = '';\n    switch(menuItem) {\n      case 'New Folder':\n        translateResult = gettext('New Folder');\n        break;\n      case 'New File':\n        translateResult = gettext('New File');\n        break;\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Copy':\n        translateResult = gettext('Copy');\n        break;\n      case 'Move':\n        translateResult = gettext('Move');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Open in New Tab':\n        translateResult = gettext('Open in New Tab');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  }\n\n  handleContextMenu = (e) => {\n    let mousePosition = this.props.mousePosition;\n    let rightTreeMenu = document.querySelector('.right-tree-menu');\n    let rightTreeMenuHeight = rightTreeMenu.offsetHeight;\n    let rightTreeMenuWidth = rightTreeMenu.offsetWidth;\n\n    if (mousePosition.clientY + rightTreeMenuHeight > document.body.clientHeight) {\n      if ((e.clientX >= mousePosition.clientX) && (e.clientX <= (mousePosition.clientX + rightTreeMenuWidth)) && (e.clientY <= mousePosition.clientY) && (e.clientY >= (mousePosition.clientY - rightTreeMenuHeight))) {\n        this.props.unregisterHandlers();\n      } else {\n        this.props.registerHandlers();\n      }\n    } else {\n      if ((e.clientX >= mousePosition.clientX) && (e.clientX <= (mousePosition.clientX + rightTreeMenuWidth)) && (e.clientY >= mousePosition.clientY) && (e.clientY <= (mousePosition.clientY + rightTreeMenuHeight))) {\n        this.props.unregisterHandlers();\n      } else {\n        this.props.registerHandlers();\n      }\n    }\n  }\n\n  listenClick = (e) => {\n    let mousePosition = this.props.mousePosition;\n    let rightTreeMenu = document.querySelector('.right-tree-menu');\n    let rightTreeMenuHeight = rightTreeMenu.offsetHeight;\n    let rightTreeMenuWidth = rightTreeMenu.offsetWidth;\n\n    if ((e.clientX <= mousePosition.clientX) || (e.clientX >= (mousePosition.clientX + rightTreeMenuWidth))) {\n      this.props.closeRightMenu();\n    }\n\n    if (mousePosition.clientY + rightTreeMenuHeight > document.body.clientHeight) {\n      if ((e.clientY <= (mousePosition.clientY - rightTreeMenuHeight)) || e.clientY >= mousePosition.clientY) {\n        this.props.closeRightMenu();\n      }\n    } else {\n      if ((e.clientY <= mousePosition.clientY) || (e.clientY >= (mousePosition.clientY + rightTreeMenuHeight))) {\n        this.props.closeRightMenu();\n      }\n    }\n  }\n\n  onMenuItemClick = (event) => {\n    let operation = event.target.dataset.toggle;\n    let node = this.props.node;\n    this.props.onMenuItemClick(operation, node);\n    this.props.closeRightMenu();\n  }\n\n  render() {\n    return (\n      <div className='right-tree-menu'>\n        {this.state.menuList.map((menuItem, index) => {\n          return (\n            <button className='right-tree-item' key={index} data-toggle={menuItem} onClick={this.onMenuItemClick}>{this.translateMenuItem(menuItem)}</button>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nTreeViewContextMenu.propTypes = propTypes;\n\nexport default TreeViewContextMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-view-contextmenu.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MarkdownViewer from '@seafile/seafile-editor/dist/viewer/markdown-viewer';\nimport { gettext, repoID, slug, serviceURL, isPublicWiki } from '../utils/constants';\nimport Loading from './loading';\nimport { Utils } from '../utils/utils';\n\nconst propTypes = {\n  children: PropTypes.object,\n  isFileLoading: PropTypes.bool.isRequired,\n  markdownContent: PropTypes.string.isRequired,\n  latestContributor: PropTypes.string.isRequired,\n  lastModified: PropTypes.string.isRequired,\n  onLinkClick: PropTypes.func.isRequired,\n  isWiki: PropTypes.bool,\n  isTOCShow: PropTypes.bool,\n};\n\nconst contentClass = 'wiki-page-content';\n\nclass WikiMarkdownViewer extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTitleIndex: 0\n    };\n    this.markdownContainer = React.createRef();\n    this.links = [];\n    this.titlesInfo = [];\n  }\n\n  componentDidMount() {\n    // Bind event when first loaded\n    this.links = document.querySelectorAll(`.${contentClass} a`);\n    this.links.forEach(link => {\n      link.addEventListener('click', this.onLinkClick);\n    });\n  }\n\n  componentWillReceiveProps() {\n    // Unbound event when updating\n    this.links.forEach(link => {\n      link.removeEventListener('click', this.onLinkClick);\n    });\n  }\n\n  componentDidUpdate() {\n    // Update completed, rebind event\n    this.links = document.querySelectorAll(`.${contentClass} a`);\n    this.links.forEach(link => {\n      link.addEventListener('click', this.onLinkClick);\n    });\n  }\n\n  componentWillUnmount() {\n    // Rebinding events when the component is destroyed\n    this.links.forEach(link => {\n      link.removeEventListener('click', this.onLinkClick);\n    });\n  }\n\n  onContentRendered = (markdownViewer) => {\n    this.titlesInfo = markdownViewer.titlesInfo;\n  }\n\n  onLinkClick = (event) => {\n    event.preventDefault(); \n    event.stopPropagation();\n    let link = '';\n    if (event.target.tagName !== 'A') {\n      let target = event.target.parentNode;\n      while (target.tagName !== 'A') {\n        target = target.parentNode;\n      }\n      link = target.href;\n    } else {\n      link = event.target.href;\n    }\n    this.props.onLinkClick(link);\n  }\n\n  onScrollHandler = () => {\n    const contentScrollTop = this.markdownContainer.current.scrollTop + 180;\n    let titlesLength = this.titlesInfo.length;\n    let activeTitleIndex;\n    if (contentScrollTop <= this.titlesInfo[0]) {\n      activeTitleIndex = 0;\n      this.setState({activeTitleIndex: activeTitleIndex});\n      return;\n    }\n    if (contentScrollTop > this.titlesInfo[titlesLength - 1]) {\n      activeTitleIndex = this.titlesInfo.length - 1;\n      this.setState({activeTitleIndex: activeTitleIndex});\n      return;\n    }\n    for (let i = 0; i < titlesLength; i++) {\n      if (contentScrollTop > this.titlesInfo[i]) {\n        continue;\n      } else {\n        activeTitleIndex = i - 1;\n        break;\n      }\n    }\n    this.setState({activeTitleIndex: activeTitleIndex});\n  }\n\n  changeInlineNode = (item) => {\n    if (item.object == 'inline') {\n      let url;\n\n      // change image url\n      if (item.type == 'image' && isPublicWiki) {\n        url = item.data.src;\n        const re = new RegExp(serviceURL + '/lib/' + repoID +'/file.*raw=1');\n        // different repo \n        if (!re.test(url)) {\n          return;\n        }\n        // get image path\n        let index = url.indexOf('/file');\n        let index2 = url.indexOf('?');\n        const imagePath = url.substring(index + 5, index2);\n        // replace url\n        item.data.src = serviceURL + '/view-image-via-public-wiki/?slug=' + slug + '&path=' + imagePath;\n      } \n\n      else if (item.type == 'link') {\n        url = item.data.href;\n        // change file url \n        if (Utils.isInternalMarkdownLink(url, repoID)) {\n          let path = Utils.getPathFromInternalMarkdownLink(url, repoID);\n          // replace url\n          item.data.href = serviceURL + '/wikis/' + slug + path;\n        } \n        // change dir url \n        else if (Utils.isInternalDirLink(url, repoID)) {\n          let path = Utils.getPathFromInternalDirLink(url, repoID);\n          // replace url\n          item.data.href = serviceURL + '/wikis/' + slug + path;\n        } \n      }\n    }\n\n    return item;\n  }\n\n  modifyValueBeforeRender = (value) => {\n    let nodes = value.document.nodes;\n    let newNodes = Utils.changeMarkdownNodes(nodes, this.changeInlineNode);\n    value.document.nodes = newNodes;\n    return value;\n  }\n\n  renderMarkdown = () => {\n    let isTOCShow = true;\n    if (this.props.isTOCShow === false) {\n      isTOCShow = false;\n    }\n    if (this.props.isWiki) {\n      return (\n        <MarkdownViewer\n          showTOC={isTOCShow}\n          markdownContent={this.props.markdownContent}\n          activeTitleIndex={this.state.activeTitleIndex}\n          onContentRendered={this.onContentRendered}\n          modifyValueBeforeRender={this.modifyValueBeforeRender}\n        />\n      );\n    }\n\n    return (\n      <MarkdownViewer\n        showTOC={isTOCShow}\n        markdownContent={this.props.markdownContent}\n        activeTitleIndex={this.state.activeTitleIndex}\n        onContentRendered={this.onContentRendered}\n      />\n    );\n  }\n\n  render() {\n    if (this.props.isFileLoading) {\n      return <Loading />;\n    }\n    return (\n      <div ref={this.markdownContainer} className=\"wiki-page-container\" onScroll={this.onScrollHandler.bind(this)}>\n        <div className={contentClass}>\n          {this.props.children}\n          {this.renderMarkdown()}\n          <p id=\"wiki-page-last-modified\">{gettext('Last modified by')} {this.props.latestContributor}, <span>{this.props.lastModified}</span></p>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst defaultProps = {\n  isWiki: false,\n};\n\nWikiMarkdownViewer.propTypes = propTypes;\nMarkdownViewer.defaultProps = defaultProps;\n\nexport default WikiMarkdownViewer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/wiki-markdown-viewer.js","export const dirPath = '/';\nexport const gettext = window.gettext;\n\nexport const siteRoot = window.app.config.siteRoot;\nexport const loginUrl = window.app.config.loginUrl;\nexport const avatarInfo = window.app.config.avatarInfo;\nexport const logoPath =  window.app.config.logoPath;\nexport const mediaUrl = window.app.config.mediaUrl;\nexport const siteTitle = window.app.config.siteTitle;\nexport const siteName = window.app.config.siteName;\nexport const logoWidth = window.app.config.logoWidth;\nexport const logoHeight = window.app.config.logoHeight;\nexport const isPro = window.app.config.isPro === 'True';\nexport const isDocs = window.app.config.isDocs === 'True';\nexport const lang = window.app.config.lang;\nexport const fileServerRoot = window.app.config.fileServerRoot;\nexport const seafileVersion = window.app.config.seafileVersion;\nexport const serviceURL = window.app.config.serviceURL;\n\n//pageOptions\nexport const seafileCollabServer = window.app.pageOptions.seafileCollabServer;\nexport const name = window.app.pageOptions.name;\nexport const contactEmail = window.app.pageOptions.contactEmail;\nexport const username = window.app.pageOptions.username;\nexport const canAddRepo = window.app.pageOptions.canAddRepo;\nexport const canGenerateShareLink = window.app.pageOptions.canGenerateShareLink;\nexport const canGenerateUploadLink = window.app.pageOptions.canGenerateUploadLink ? true : false;\nexport const canViewOrg = window.app.pageOptions.canViewOrg === 'True';\nexport const fileAuditEnabled = window.app.pageOptions.fileAuditEnabled ? true : false;\nexport const enableFileComment = window.app.pageOptions.enableFileComment ? true : false;\nexport const folderPermEnabled = window.app.pageOptions.folderPermEnabled === 'True';\nexport const enableResetEncryptedRepoPassword = window.app.pageOptions.enableResetEncryptedRepoPassword === 'True';\nexport const isEmailConfigured = window.app.pageOptions.isEmailConfigured === 'True';\nexport const enableUploadFolder = window.app.pageOptions.enableUploadFolder === 'True';\nexport const enableResumableFileUpload = window.app.pageOptions.enableResumableFileUpload === 'True';\nexport const storages = window.app.pageOptions.storages; // storage backends\nexport const enableRepoSnapshotLabel = window.app.pageOptions.enableRepoSnapshotLabel;\nexport const shareLinkExpireDaysMin = window.app.pageOptions.shareLinkExpireDaysMin;\nexport const shareLinkExpireDaysMax = window.app.pageOptions.shareLinkExpireDaysMax;\nexport const maxFileName = window.app.pageOptions.maxFileName;\nexport const enableWiki = window.app.pageOptions.enableWiki;\nexport const enableEncryptedLibrary = window.app.pageOptions.enableEncryptedLibrary;\nexport const enableRepoHistorySetting = window.app.pageOptions.enableRepoHistorySetting;\nexport const isSystemStaff = window.app.pageOptions.isSystemStaff;\nexport const thumbnailSizeForOriginal = window.app.pageOptions.thumbnailSizeForOriginal;\nexport const repoPasswordMinLength = window.app.pageOptions.repoPasswordMinLength;\n\nexport const curNoteMsg = window.app.pageOptions.curNoteMsg;\nexport const curNoteID = window.app.pageOptions.curNoteID;\n\n// wiki\nexport const slug = window.wiki ? window.wiki.config.slug : '';\nexport const repoID = window.wiki ? window.wiki.config.repoId : '';\nexport const initialPath = window.wiki ? window.wiki.config.initial_path : '';\nexport const permission = window.wiki ? window.wiki.config.permission === 'True' : '';\nexport const isDir = window.wiki ? window.wiki.config.isDir : '';\nexport const serviceUrl = window.wiki ? window.wiki.config.serviceUrl : '';\nexport const isPublicWiki = window.wiki ? window.wiki.config.isPublicWiki === 'True': '';\n\n// file history\nexport const PER_PAGE = 25;\nexport const historyRepoID = window.fileHistory ? window.fileHistory.pageOptions.repoID : '';\nexport const repoName = window.fileHistory ? window.fileHistory.pageOptions.repoName : '';\nexport const filePath = window.fileHistory ? window.fileHistory.pageOptions.filePath : '';\nexport const fileName = window.fileHistory ? window.fileHistory.pageOptions.fileName : '';\n\n// Draft review\nexport const draftFilePath = window.draft ? window.draft.config.draftFilePath: '';\nexport const draftOriginFilePath = window.draft ? window.draft.config.draftOriginFilePath: '';\nexport const draftFileName = window.draft ? window.draft.config.draftFileName: '';\nexport const draftID = window.draft ? window.draft.config.draftID : '';\nexport const draftRepoID = window.draft ? window.draft.config.draftRepoID : '';\nexport const author = window.draft ? window.draft.config.author : '';\nexport const authorAvatar = window.draft ? window.draft.config.authorAvatar : '';\nexport const originFileExists = window.draft ? window.draft.config.originFileExists : '';\nexport const draftFileExists = window.draft ? window.draft.config.draftFileExists : '';\nexport const draftStatus = window.draft ? window.draft.config.draftStatus : '';\nexport const draftPublishVersion = window.draft ? window.draft.config.draftPublishVersion : '';\nexport const originFileVersion = window.draft ? window.draft.config.originFileVersion : '';\n\n// org admin\nexport const orgID = window.org ? window.org.pageOptions.orgID : '';\nexport const invitationLink = window.org ? window.org.pageOptions.invitationLink : '';\nexport const orgMemberQuotaEnabled = window.org ? window.org.pageOptions.orgMemberQuotaEnabled : '';\n\n// sys admin\nexport const constanceEnabled = window.sysadmin ? window.sysadmin.pageOptions.constance_enabled : '';\nexport const multiTenancy = window.sysadmin ? window.sysadmin.pageOptions.multi_tenancy : '';\nexport const multiInstitution = window.sysadmin ? window.sysadmin.pageOptions.multi_institution : '';\nexport const sysadminExtraEnabled = window.sysadmin ? window.sysadmin.pageOptions.sysadmin_extra_enabled : '';\nexport const enableGuestInvitation = window.sysadmin ? window.sysadmin.pageOptions.enable_guest_invitation : '';\nexport const enableTermsAndConditions = window.sysadmin ? window.sysadmin.pageOptions.enable_terms_and_conditions : '';\nexport const isDefaultAdmin = window.sysadmin ? window.sysadmin.pageOptions.is_default_admin : '';\nexport const enableFileScan = window.sysadmin ? window.sysadmin.pageOptions.enable_file_scan : '';\nexport const canViewSystemInfo = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_system_info : '';\nexport const canViewStatistic = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_statistic : '';\nexport const canConfigSystem = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_config_system : '';\nexport const canManageLibrary = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_library : '';\nexport const canManageUser = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_user : '';\nexport const canManageGroup = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_group : '';\nexport const canViewUserLog = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_user_log : '';\nexport const canViewAdminLog = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_admin_log : '';\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/constants.js","import { slug, repoID, historyRepoID } from './constants';\nimport { seafileAPI } from './seafile-api';\n\nclass EditorUtilities {\n  \n  getFiles() {\n    return seafileAPI.listWikiDir(slug, '/').then(items => {\n      const files = items.data.dir_file_list.map(item => {\n        return {\n          name: item.name,\n          type: item.type === 'dir' ? 'dir' : 'file',\n          isExpanded: item.type === 'dir' ? true : false,\n          parent_path: item.parent_dir,\n          last_update_time: item.last_update_time,\n          permission: item.permission,\n          size: item.size\n        };\n      });\n      return files;\n    });\n  }\n\n  listRepoDir() {\n    return seafileAPI.listDir(repoID, '/',{recursive: true}).then(items => {\n      const files = items.data.dirent_list.map(item => {\n        return {\n          name: item.name,\n          type: item.type === 'dir' ? 'dir' : 'file',\n          isExpanded: item.type === 'dir' ? true : false,\n          parent_path: item.parent_dir,\n          last_update_time: item.mtime,\n          permission: item.permission,\n          size: item.size\n        };\n      });\n\n      return files;\n    });\n  }\n\n  createFile(filePath, isDraft) {\n    return seafileAPI.createFile(repoID, filePath, isDraft);\n  }\n\n  deleteFile(filePath) {\n    return seafileAPI.deleteFile(repoID, filePath);\n  }\n\n  renameFile(filePath, newFileName) {\n    return seafileAPI.renameFile(repoID, filePath, newFileName);\n  }\n\n  createDir(dirPath) {\n    return seafileAPI.createDir(repoID, dirPath);\n  }\n\n  deleteDir(dirPath) {\n    return seafileAPI.deleteDir(repoID, dirPath);\n  }\n\n  renameDir(dirPath, newDirName) {\n    return seafileAPI.renameDir(repoID, dirPath, newDirName);\n  }\n\n  getWikiFileContent(slug, filePath) {\n    return seafileAPI.getWikiFileContent(slug, filePath);\n  }\n\n  getSource() {\n    return seafileAPI.getSource();\n  }\n\n  searchFiles(queryData,cancelToken) {\n    return seafileAPI.searchFiles(queryData,cancelToken);\n  }\n\n  getAccountInfo() {\n    return seafileAPI.getAccountInfo();\n  }\n\n  // file history\n  getFileDownloadLink(filePath) {\n    return seafileAPI.getFileDownloadLink(historyRepoID, filePath);\n  }\n\n  getFileContent(filePath) {\n    return seafileAPI.getFileContent(filePath);\n  }\n\n  listFileHistoryRecords(filePath, page, per_page) {\n    return seafileAPI.listFileHistoryRecords(historyRepoID, filePath, page, per_page);\n  }\n  \n  revertFile(filePath, commitID) {\n    return seafileAPI.revertFile(historyRepoID, filePath, commitID);\n  }\n\n  listDrafts() {\n    return seafileAPI.listDrafts();\n  }\n\n  deleteDraft(id) {\n    return seafileAPI.deleteDraft(id);\n  }\n\n  publishDraft(id) {\n    return seafileAPI.publishDraft(id);\n  }\n\n  zipDownload(parent_dir, dirents) {\n    return seafileAPI.zipDownload(repoID, parent_dir, dirents);\n  }\n\n  queryZipProgress(zip_token) {\n    return seafileAPI.queryZipProgress(zip_token);\n  }\n\n  cancelZipTask(zip_token) {\n    return seafileAPI.cancelZipTask(zip_token);\n  }\n}\n\nconst editorUtilities = new EditorUtilities();\n\nexport default editorUtilities;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/editor-utilties.js","class FileTag {\n  constructor(object) {\n    this.id = object.file_tag_id;\n    this.repo_tag_id = object.repo_tag_id;\n    this.name = object.tag_name;\n    this.color = object.tag_color;\n  }\n}\n\nexport default FileTag;\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/file-tag.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { Utils } from '../../utils/utils';\nimport editorUtilities from '../../utils/editor-utilties';\nimport { siteRoot, gettext } from '../../utils/constants';\n\nconst propTypes = {\n  isAdminPanel: PropTypes.bool,\n};\n\nclass Account extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showInfo: false,\n      userName: '',\n      contactEmail: '',\n      quotaUsage: '',\n      quotaTotal: '',\n      isStaff: false,\n      isOrgStaff: false,\n      usageRate: '',\n      avatarURL: '',\n    };\n  }\n\n  componentDidMount(){\n    this.getAccountInfo();\n  }\n\n  componentDidUpdate(prevProps) {\n    this.handleProps();\n  }\n\n  getContainer = () => {\n    return ReactDOM.findDOMNode(this);\n  }\n\n  handleProps = () => {\n    if (this.state.showInfo) {\n      this.addEvents();\n    } else {\n      this.removeEvents();\n    }\n  }\n\n  addEvents = () => {\n    ['click', 'touchstart', 'keyup'].forEach(event =>\n      document.addEventListener(event, this.handleDocumentClick, true)\n    );\n  }\n\n  removeEvents = () => {\n    ['click', 'touchstart', 'keyup'].forEach(event =>\n      document.removeEventListener(event, this.handleDocumentClick, true)\n    );\n  }\n\n  handleDocumentClick = (e) => {\n    if (e && (e.which === 3 || (e.type === 'keyup' && e.which !== Utils.keyCodes.tab))) return;\n    const container = this.getContainer();\n\n    if (container.contains(e.target) && container !== e.target && (e.type !== 'keyup' || e.which === Utils.keyCodes.tab)) {\n      return;\n    }\n\n    this.setState({\n      showInfo: !this.state.showInfo,\n    });\n  }\n\n  onClickAccount = () => {\n    this.setState({\n      showInfo: !this.state.showInfo,\n    });\n  }\n\n  getAccountInfo = () => {\n    editorUtilities.getAccountInfo().then(resp => {\n      this.setState({\n        userName: resp.data.name,\n        contactEmail: resp.data.email,\n        usageRate: resp.data.space_usage,\n        quotaUsage: Utils.bytesToSize(resp.data.usage),\n        quotaTotal: Utils.bytesToSize(resp.data.total),\n        isStaff: resp.data.is_staff,\n        isOrgStaff: resp.data.is_org_staff === 1 ? true : false,\n        avatarURL: resp.data.avatar_url\n      });\n    });\n  }\n\n  renderMenu = () => {\n    let isAdminPage = this.state.isStaff || this.state.isOrgStaff;\n\n    if (isAdminPage && this.props.isAdminPanel) {\n      return (\n        <a href={siteRoot} title={gettext('Exit Admin Panel')} className=\"item\">{gettext('Exit Admin Panel')}</a>\n      );\n    }\n\n    if (this.state.isStaff) {\n      return (\n        <a href={siteRoot + 'sys/useradmin/'} title={gettext('System Admin')} className=\"item\">{gettext('System Admin')}</a>\n      );\n    }\n\n    if (this.state.isOrgStaff) {\n      return (\n        <a href={siteRoot + 'org/useradmin/'} title={gettext('Organization Admin')} className=\"item\">{gettext('Organization Admin')}</a>\n      );\n    }\n  }\n\n  renderAvatar = () => {\n    if (this.state.avatarURL) {\n      return (\n        <img src={this.state.avatarURL} width=\"36\" height=\"36\" className=\"avatar\" alt={gettext('Avatar')} />\n      );\n    }\n    return (\n      <img src=\"\" width=\"36\" height=\"36\" className=\"avatar\" alt={gettext('Avatar')} />\n    );\n  }\n\n  render() {\n    return (\n      <div id=\"account\">\n        <a id=\"my-info\" onClick={this.onClickAccount} className=\"account-toggle no-deco d-none d-md-block\" aria-label=\"View profile and more\">\n          <span><img src={this.state.avatarURL} width=\"36\" height=\"36\" className=\"avatar\" alt={gettext('Avatar')} /></span>\n          <span className=\"fas fa-caret-down vam\"></span>\n        </a>\n        <span className=\"account-toggle sf2-icon-more mobile-icon d-md-none\" aria-label=\"View profile and more\" onClick={this.onClickAccount}></span>\n        <div id=\"user-info-popup\" className={`account-popup sf-popover ${this.state.showInfo? '':'hide'}`}>\n          <div className=\"outer-caret up-outer-caret\">\n            <div className=\"inner-caret\"></div>\n          </div>\n          <div className=\"sf-popover-con\">\n            <div className=\"item o-hidden\">\n              {this.renderAvatar()}\n              <div className=\"txt\">{this.state.userName}</div>\n            </div>\n            <div id=\"space-traffic\">\n              <div className=\"item\">\n                <p>{gettext('Used:')}{' '}{this.state.quotaUsage} / {this.state.quotaTotal}</p>\n                <div id=\"quota-bar\"><span id=\"quota-usage\" className=\"usage\" style={{width: this.state.usageRate}}></span></div>\n              </div>\n            </div>\n            <a href={siteRoot + 'profile/'} className=\"item\">{gettext('Settings')}</a>\n            {this.renderMenu()}\n            <a href={siteRoot + 'accounts/logout/'} className=\"item\">{gettext('Log out')}</a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nAccount.defaultProps = {\n  isAdminPanel: false\n}\n\nAccount.propTypes = propTypes;\n\nexport default Account;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/account.js","import cookie from 'react-cookies';\nimport { SeafileAPI } from 'seafile-js';\nimport { siteRoot } from './constants';\n\nlet seafileAPI = new SeafileAPI();\nlet xcsrfHeaders = cookie.load('sfcsrftoken');\nseafileAPI.initForSeahubUsage({ siteRoot, xcsrfHeaders });\n\nexport { seafileAPI };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/seafile-api.js","import { mediaUrl, gettext, serviceURL } from './constants';\nimport { strChineseFirstPY } from './pinyin-by-unicode';\n\nexport const Utils = {\n\n  keyCodes:  {\n    esc:   27,\n    space: 32,\n    tab:   9,\n    up:    38,\n    down:  40\n  },\n\n  bytesToSize: function(bytes) {\n    if (typeof(bytes) == 'undefined') return ' ';\n\n    if(bytes < 0) return '--';\n    const sizes = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n\n    if (bytes === 0) return bytes + ' ' + sizes[0];\n\n    const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1000)), 10);\n    if (i === 0) return bytes + ' ' + sizes[i];\n    return (bytes / (1000 ** i)).toFixed(1) + ' ' + sizes[i];\n  },\n\n  isHiDPI: function() {\n    var pixelRatio = window.devicePixelRatio ? window.devicePixelRatio : 1;\n    if (pixelRatio > 1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  FILEEXT_ICON_MAP: {\n\n    // text file\n    'md': 'txt.png',\n    'txt': 'txt.png',\n\n    // pdf file\n    'pdf' : 'pdf.png',\n\n    // document file\n    'doc' : 'word.png',\n    'docx' : 'word.png',\n    'odt' : 'word.png',\n    'fodt' : 'word.png',\n\n    'ppt' : 'ppt.png',\n    'pptx' : 'ppt.png',\n    'odp' : 'ppt.png',\n    'fodp' : 'ppt.png',\n\n    'xls' : 'excel.png',\n    'xlsx' : 'excel.png',\n    'ods' : 'excel.png',\n    'fods' : 'excel.png',\n\n    // video\n    'mp4': 'video.png',\n    'ogv': 'video.png',\n    'webm': 'video.png',\n    'mov': 'video.png',\n    'flv': 'video.png',\n    'wmv': 'video.png',\n    'rmvb': 'video.png',\n\n    // music file\n    'mp3' : 'music.png',\n    'oga' : 'music.png',\n    'ogg' : 'music.png',\n    'flac' : 'music.png',\n    'aac' : 'music.png',\n    'ac3' : 'music.png',\n    'wma' : 'music.png',\n\n    // image file\n    'jpg' : 'pic.png',\n    'jpeg' : 'pic.png',\n    'png' : 'pic.png',\n    'svg' : 'pic.png',\n    'gif' : 'pic.png',\n    'bmp' : 'pic.png',\n    'ico' : 'pic.png',\n\n    // default\n    'default' : 'file.png'\n  },\n\n  // check if a file is an image\n  imageCheck: function (filename) {\n    // no file ext\n    if (filename.lastIndexOf('.') == -1) {\n      return false;\n    }\n    var file_ext = filename.substr(filename.lastIndexOf('.') + 1).toLowerCase();\n    var image_exts = ['gif', 'jpeg', 'jpg', 'png', 'ico', 'bmp'];\n    if (image_exts.indexOf(file_ext) != -1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  // check if a file is a video\n  videoCheck: function (filename) {\n    // no file ext\n    if (filename.lastIndexOf('.') == -1) {\n      return false;\n    }\n    var file_ext = filename.substr(filename.lastIndexOf('.') + 1).toLowerCase();\n    var exts = ['mp4', 'ogv', 'webm', 'mov'];\n    if (exts.indexOf(file_ext) != -1) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  encodePath: function(path) {\n    // IE8 does not support 'map()'\n    /*\n       return path.split('/').map(function(e) {\n       return encodeURIComponent(e);\n       }).join('/');\n       */\n    if (!path) {\n      return '';\n    }\n    var path_arr = path.split('/');\n    var path_arr_ = [];\n    for (var i = 0, len = path_arr.length; i < len; i++) {\n      path_arr_.push(encodeURIComponent(path_arr[i]));\n    }\n    return path_arr_.join('/');\n  },\n\n  HTMLescape: function(html) {\n    return document.createElement('div')\n      .appendChild(document.createTextNode(html))\n      .parentNode\n      .innerHTML;\n  },\n\n  generateDialogTitle: function(title, operationTarget) {\n    /*\n     * @param title: gettext('...{placeholder}...')\n     */\n    const targetStr = this.HTMLescape(operationTarget);\n    const str = `<span class=\"op-target ellipsis ellipsis-op-target\" title=${targetStr}>${targetStr}</span>`;\n    return title.replace('{placeholder}', str);\n  },\n\n  getFileName: function(filePath) {\n    let lastIndex = filePath.lastIndexOf('/');\n    return filePath.slice(lastIndex+1);\n  },\n\n  /**\n   * input: '/abc/bc/cb'\n   * output: ['/abc', '/abc/bc', '/abc/bc/cb'];\n   */\n  getPaths: function(path) {\n    let paths = path.split('/').slice(1);\n    let result = [];\n    while(paths.length) {\n      result.push('/' + paths.join('/'));\n      paths.pop();\n    }\n    return result.reverse();\n  },\n\n  /**\n   * input: \n   *  eg: /\n   *      ../abc/abc/\n   *      ../abc/bc\n   * output(return):\n   *  eg: /\n   *      abc\n   *      bc\n   */\n  getFolderName: function(path) {\n    if (path === '/') {\n      return path;\n    }\n    path = path[path.length - 1] !== '/' ? path : path.slice(0, path.length -2);\n    return path.slice(path.lastIndexOf('/') + 1);\n  },\n\n  /*\n    return dirname of a path.\n    if path is '/', return '/'.\n  */\n  getDirName: function(path) {\n    let dir = path.slice(0, path.lastIndexOf('/'));\n    if (dir === '') {\n      return '/';\n    } else {\n      return dir;\n    }\n  },\n\n  isChildPath: function(child, parent) {\n    let p = this.getDirName(child);\n    return p === parent;\n  },\n\n  isAncestorPath: function(ancestor, path) {\n    return path.indexOf(ancestor) > -1;\n  },\n\n  renameAncestorPath: function(path, ancestor, newAncestor) {\n    return path.replace(ancestor, newAncestor);\n  },\n\n  joinPath: function(pathA, pathB) {\n    if (pathA[pathA.length-1] === '/') {\n      return pathA + pathB;\n    } else {\n      return pathA + '/' + pathB;\n    }\n  },\n\n  isSupportUploadFolder: function() {\n    return navigator.userAgent.indexOf('Firefox')!=-1 ||\n      navigator.userAgent.indexOf('Chrome') > -1;\n  },\n\n  getDefaultLibIconUrl: function(isBig) {\n    let size = Utils.isHiDPI() ? 48 : 24;\n    size = isBig ? 256 : size;\n    let icon_name = 'lib.png';\n    return mediaUrl + 'img/lib/' + size + '/' + icon_name;\n  },\n\n  getLibIconUrl: function(repo, isBig) {\n    let permission = repo.permission || repo.share_permission; //Compatible with regular repo and repo shared\n    let size = Utils.isHiDPI() ? 48 : 24;\n    size = isBig ? 256 : size;\n    let icon_name = 'lib.png';\n    if (repo.encrypted) {\n      icon_name = 'lib-encrypted.png';\n    }\n    if (permission === 'r' || permission === 'perview') {\n      icon_name = 'lib-readonly.png';\n    }\n\n    return mediaUrl + 'img/lib/' + size + '/' + icon_name;\n  },\n\n  getDirentIcon: function (dirent, isBig) {\n    let size = this.isHiDPI() ? 48 : 24;\n    size = isBig ? 192 : size;\n    if (dirent.isDir()) {\n      let readonly = false;\n      if (dirent.permission && (dirent.permission === 'r' || dirent.permission === 'preview')) {\n        readonly = true;\n      }\n      return this.getFolderIconUrl(readonly, size);\n    } else {\n      return this.getFileIconUrl(dirent.name, size);\n    }\n  },\n\n  getFolderIconUrl: function(readonly = false, size) {\n    if (!size) {\n      size = Utils.isHiDPI() ? 48 : 24;\n    }\n    size = size > 24 ? 192 : 24;\n    return `${mediaUrl}img/folder${readonly ? '-read-only-' : '-'}${size}.png`;\n  },\n\n  getFileIconUrl: function(filename, size) {\n    if (!size) {\n      size = Utils.isHiDPI() ? 48 : 24;\n    }\n    size = size > 24 ? 192 : 24;\n    let file_ext = '';\n    if (filename.lastIndexOf('.') == -1) {\n      return mediaUrl + 'img/file/' + size + '/' + this.FILEEXT_ICON_MAP['default'];\n    } else {\n      file_ext = filename.substr(filename.lastIndexOf('.') + 1).toLowerCase();\n    }\n\n    if (this.FILEEXT_ICON_MAP[file_ext]) {\n      return mediaUrl + 'img/file/' + size + '/' + this.FILEEXT_ICON_MAP[file_ext];\n    } else {\n      return mediaUrl + 'img/file/' + size + '/' + this.FILEEXT_ICON_MAP['default'];\n    }\n  },\n\n  getLibIconTitle: function(repo) {\n    var title;\n    let permission = repo.permission || repo.share_permission; //Compatible with regular repo and repo shared\n    if (repo.encrypted) {\n      title = gettext('Encrypted library');\n    } else if (repo.is_admin) { // shared with 'admin' permission\n      title = gettext('Admin access');\n    } else {\n      switch(permission) {\n        case 'rw':\n          title = gettext('Read-Write library');\n          break;\n        case 'r':\n          title = gettext('Read-Only library');\n          break;\n        case 'cloud-edit':\n          title = gettext('Preview-Edit-on-Cloud library');\n          break;\n        case 'preview':\n          title = gettext('Preview-on-Cloud library');\n          break;\n      }\n    }\n    return title;\n  },\n\n  getFolderIconTitle: function(options) {\n    var title;\n    switch(options.permission) {\n      case 'rw':\n        title = gettext('Read-Write folder');\n        break;\n      case 'r':\n        title = gettext('Read-Only folder');\n        break;\n      case 'cloud-edit':\n        title = gettext('Preview-Edit-on-Cloud folder');\n        break;\n      case 'preview':\n        title = gettext('Preview-on-Cloud folder');\n        break;\n    }\n    return title;\n  },\n\n  sharePerms: function(permission) {\n    var title;\n    switch(permission) {\n      case 'rw':\n        title = gettext('Read-Write');\n        break;\n      case 'r':\n        title = gettext('Read-Only');\n        break;\n      case 'admin':\n        title = gettext('Admin');\n        break;\n      case 'cloud-edit':\n        title = gettext('Preview-Edit-on-Cloud');\n        break;\n      case 'preview':\n        title = gettext('Preview-on-Cloud');\n        break;\n    }\n    return title;\n  },\n\n  sharePermsExplanation: function(permission) {\n    var title;\n    switch(permission) {\n      case 'rw':\n        title = gettext('User can read, write, upload, download and sync files.');\n        break;\n      case 'r':\n        title = gettext('User can read, download and sync files.');\n        break;\n      case 'admin':\n        title = gettext('Besides Write permission, user can also share the library.');\n        break;\n      case 'cloud-edit':\n        title = gettext('Same as Preview on cloud. But user can also edit files online via browser.');\n        break;\n      case 'preview':\n        title = gettext('User can only view files online via browser. Files can\\'t be downloaded.');\n        break;\n    }\n    return title;\n  },\n\n  formatSize: function(options) {\n    /*\n     * param: {bytes, precision}\n     */\n    var bytes = options.bytes;\n    var precision = options.precision || 0;\n\n    var kilobyte = 1000;\n    var megabyte = kilobyte * 1000;\n    var gigabyte = megabyte * 1000;\n    var terabyte = gigabyte * 1000;\n\n    if ((bytes >= 0) && (bytes < kilobyte)) {\n      return bytes + ' B';\n\n    } else if ((bytes >= kilobyte) && (bytes < megabyte)) {\n      return (bytes / kilobyte).toFixed(precision) + ' KB';\n\n    } else if ((bytes >= megabyte) && (bytes < gigabyte)) {\n      return (bytes / megabyte).toFixed(precision) + ' MB';\n\n    } else if ((bytes >= gigabyte) && (bytes < terabyte)) {\n      return (bytes / gigabyte).toFixed(precision) + ' GB';\n\n    } else if (bytes >= terabyte) {\n      return (bytes / terabyte).toFixed(precision) + ' TB';\n\n    } else {\n      return bytes + ' B';\n    }\n  },\n\n  formatBitRate: function(bits) {\n    var Bs;\n    if (typeof bits !== 'number') {\n      return '';\n    }\n    Bs = bits / 8;\n    if (Bs >= 1000000000) {\n      return (Bs / 1000000000).toFixed(2) + ' GB/s';\n    }\n    if (Bs >= 1000000) {\n      return (Bs / 1000000).toFixed(2) + ' MB/s';\n    }\n    if (Bs >= 1000) {\n      return (Bs / 1000).toFixed(2) + ' kB/s';\n    }\n    return Bs.toFixed(2) + ' B/s';\n  },\n\n  isMarkdownFile: function(filePath) {\n    let index = filePath.lastIndexOf('.');\n    if (index === -1) {\n      return false;\n    } else {\n      let type = filePath.substring(index).toLowerCase();\n      if (type === '.md' || type === '.markdown') {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  },\n\n  isInternalMarkdownLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/lib/' + repoID + '.*\\.md$');\n    return re.test(url);\n  },\n\n  isInternalDirLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/library/' + repoID + '.*');\n    return re.test(url);\n  },\n\n  getPathFromInternalMarkdownLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/lib/' + repoID + '/file' + '(.*\\.md)');\n    var array = re.exec(url);\n    var path = decodeURIComponent(array[1]);\n    return path;\n  },\n  \n  getPathFromInternalDirLink: function(url, repoID) {\n    var re = new RegExp(serviceURL + '/library/' + repoID + '(/.*)');\n    var array = re.exec(url);\n    var path = decodeURIComponent(array[1]);\n    path = path.slice(1);\n    path = path.slice(path.indexOf('/'));\n    return path;\n  },\n\n  isWikiInternalMarkdownLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '.*\\.md$');\n    return re.test(url);\n  },\n\n  isWikiInternalDirLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '.*');\n    return re.test(url);\n  },\n\n  getPathFromWikiInternalMarkdownLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '(.*\\.md)');\n    var array = re.exec(url);\n    var path = array[1];\n    try {\n      path = decodeURIComponent(path);\n    } catch(err) {\n      path = path.replace(/%/g, '%25');\n      path = decodeURIComponent(path);\n    }\n    return path;\n  },\n  \n  getPathFromWikiInternalDirLink: function(url, slug) {\n    slug = encodeURIComponent(slug);\n    var re = new RegExp(serviceURL + '/wikis/' + slug + '(/.*)');\n    var array = re.exec(url);\n    var path = array[1];\n    try {\n      path = decodeURIComponent(path);\n    } catch(err) {\n      path = path.replace(/%/g, '%25');\n      path = decodeURIComponent(path);\n    }\n    return path;\n  },\n\n  compareTwoWord: function(wordA, wordB) {\n    // compare wordA and wordB at lower case\n    // if wordA >= wordB, return 1\n    // if wordA < wordB, return -1\n\n    var a_val, b_val,\n      a_uni = wordA.charCodeAt(0),\n      b_uni = wordB.charCodeAt(0);\n\n    if ((19968 < a_uni && a_uni < 40869) && (19968 < b_uni && b_uni < 40869)) {\n      // both are chinese words\n      a_val = strChineseFirstPY.charAt(a_uni - 19968).toLowerCase();\n      b_val = strChineseFirstPY.charAt(b_uni - 19968).toLowerCase();\n    } else if ((19968 < a_uni && a_uni < 40869) && !(19968 < b_uni && b_uni < 40869)) {\n      // a is chinese and b is english\n      return 1;\n    } else if (!(19968 < a_uni && a_uni < 40869) && (19968 < b_uni && b_uni < 40869)) {\n      // a is english and b is chinese\n      return -1;\n    } else {\n      // both are english words\n      a_val = wordA.toLowerCase();\n      b_val = wordB.toLowerCase();\n      return this.compareStrWithNumbersIn(a_val, b_val);\n    }\n\n    return a_val >= b_val ? 1 : -1;\n  },\n\n  // compare two strings which may have digits in them\n  // and compare those digits as number instead of string\n  compareStrWithNumbersIn: function(a, b) {\n    var reParts = /\\d+|\\D+/g;\n    var reDigit = /\\d/;\n    var aParts = a.match(reParts);\n    var bParts = b.match(reParts);\n    var isDigitPart;\n    var len = Math.min(aParts.length, bParts.length);\n    var aPart, bPart;\n\n    if (aParts && bParts &&\n      (isDigitPart = reDigit.test(aParts[0])) == reDigit.test(bParts[0])) {\n      // Loop through each substring part to compare the overall strings.\n      for (var i = 0; i < len; i++) {\n        aPart = aParts[i];\n        bPart = bParts[i];\n\n        if (isDigitPart) {\n          aPart = parseInt(aPart, 10);\n          bPart = parseInt(bPart, 10);\n        }\n\n        if (aPart != bPart) {\n          return aPart < bPart ? -1 : 1;\n        }\n\n        // Toggle the value of isDigitPart since the parts will alternate.\n        isDigitPart = !isDigitPart;\n      }\n    }\n\n    // Use normal comparison.\n    return (a >= b) - (a <= b);\n  },\n\n  sortRepos: function(repos, sortBy, sortOrder) {\n    const _this = this;\n    let comparator;\n\n    switch (`${sortBy}-${sortOrder}`) {\n      case 'name-asc':\n        comparator = function(a, b) {\n          if (!a.repo_name) {\n            return 1;\n          }\n          if (!b.repo_name) {\n            return -1;\n          }\n          var result = _this.compareTwoWord(a.repo_name, b.repo_name);\n          return result;\n        };\n        break;\n      case 'name-desc':\n        comparator = function(a, b) {\n          if (!a.repo_name) {\n            return -1;\n          }\n          if (!b.repo_name) {\n            return 1;\n          }\n          var result = _this.compareTwoWord(a.repo_name, b.repo_name);\n          return -result;\n        };\n        break;\n      case 'time-asc':\n        comparator = function(a, b) {\n          return a.last_modified < b.last_modified ? -1 : 1;\n        };\n        break;\n      case 'time-desc':\n        comparator = function(a, b) {\n          return a.last_modified < b.last_modified ? 1 : -1;\n        };\n        break;\n    }\n\n    repos.sort(comparator);\n    return repos;\n  },\n\n  sortDirents: function(items, sortBy, sortOrder) {\n    const _this = this;\n    let comparator;\n\n    switch (`${sortBy}-${sortOrder}`) {\n      case 'name-asc':\n        comparator = function(a, b) {\n          var result = _this.compareTwoWord(a.name, b.name);\n          return result;\n        };\n        break;\n      case 'name-desc':\n        comparator = function(a, b) {\n          var result = _this.compareTwoWord(a.name, b.name);\n          return -result;\n        };\n        break;\n      case 'time-asc':\n        comparator = function(a, b) {\n          return a.mtime < b.mtime ? -1 : 1;\n        };\n        break;\n      case 'time-desc':\n        comparator = function(a, b) {\n          return a.mtime < b.mtime ? 1 : -1;\n        };\n        break;\n    }\n\n    items.sort((a, b) => {\n      if (a.type == 'dir' && b.type == 'file') {\n        return -1;\n      } else if (a.type == 'file' && b.type == 'dir') {\n        return 1;\n      } else {\n        return comparator(a, b);\n      }\n    });\n    return items;\n  },\n\n  changeMarkdownNodes: function(nodes, fn) {\n    nodes.map((item) => {\n      fn(item); \n      if (item.nodes && item.nodes.length > 0){\n        Utils.changeMarkdownNodes(item.nodes, fn); \n      }\n    });\n\n    return nodes;\n  },\n\n  chooseLanguage: function(suffix) {\n    let mode;\n    switch(suffix) {\n      case 'py':\n        mode = 'python';\n        break;\n      case 'js':\n        mode = 'javascript';\n        break;\n      case 'c':\n        mode = 'text/x-csrc';\n        break;\n      case 'cpp':\n        mode = 'text/x-c++src';\n        break;\n      case 'java':\n        mode = 'text/x-java';\n        break;\n      case 'cs':\n        mode = 'text/x-csharp';\n        break;\n      case 'mdf':\n        mode = 'text/x-sql';\n        break;\n      case 'html':\n        mode = 'htmlmixed';\n        break;\n      default:\n        mode = suffix;\n    }\n    return mode;\n  },\n\n  DARK_COLOR_MAP: {\n    // old color\n    'red': '#D11507',\n    'orange': '#FF8C00',\n    'yellow': '#EDEF00',\n    'green': '#006400',\n    'cyan': '#00E0E1',\n    'blue': '#2510A3',\n    'indigo': '#350C56',\n    'purple': '#551054',\n    'pink': '#E3A5B0',\n    'azure': '#C4D0D0',\n    'lime': '#00E100',\n    'teal': '#006A6B',\n    'gray': '#545454',\n\n    // new color\n    '#FFA8A8': '#E49090',\n    '#FFA94D': '#E39136',\n    '#FFD43B': '#E0B815',\n    '#A0EC50': '#83CF32',\n    '#A9E34B': '#8DC72E',\n    '#63E6BE': '#43CAA4',\n    '#4FD2C9': '#2DB9B0',\n    '#72C3FC': '#57ABE3',\n    '#91A7FF': '#7A91E7',\n    '#E599F7': '#CC82DE',\n    '#B197FC': '#9B82E5',\n    '#F783AC': '#DF6D97',\n    '#CED4DA': '#A8ADB2',\n  },\n\n  getDarkColor: function(color) {\n    let darkColor;\n    darkColor = this.DARK_COLOR_MAP[color];\n    return darkColor;\n  },\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isPro, gettext } from '../../utils/constants';\nimport Search from '../search/search';\nimport Notification from '../common/notification';\nimport Account from '../common/account';\n\nconst propTypes = {\n  repoID: PropTypes.string,\n  onSearchedClick: PropTypes.func.isRequired,\n  searchPlaceholder: PropTypes.string\n};\n\nclass  CommonToolbar extends React.Component {\n  render() {\n    let searchPlaceholder = this.props.searchPlaceholder || gettext('Search Files');\n    return (\n      <div className=\"common-toolbar\">\n        {isPro && (\n          <Search \n            repoID={this.props.repoID}\n            placeholder={searchPlaceholder}\n            onSearchedClick={this.props.onSearchedClick} \n          />\n        )}\n        <Notification  />\n        <Account />\n      </div>\n    );\n  }\n}\n\nCommonToolbar.propTypes = propTypes;\n\nexport default CommonToolbar;\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolbar/common-toolbar.js","class TreeNode {\n\n  constructor({ path, object, isLoaded, isPreload, isExpanded, parentNode }) {\n    this.path = path || object.name,  // The default setting is the object name, which is set to a relative path when the father is set.\n    this.object = object.clone();\n    this.isLoaded = isLoaded || false;\n    this.isPreload = isPreload || false;\n    this.isExpanded = isExpanded || false;\n    this.children = [];\n    this.parentNode = parentNode || null;\n  }\n\n  clone(parentNode) {\n    let treeNode = new TreeNode({\n      path: this.path,\n      object: this.object.clone(),\n      isLoaded: this.isLoaded,\n      isPreload: this.isPreload,\n      isExpanded: this.isExpanded,\n      parentNode: parentNode || null,\n    });\n    treeNode.children = this.children.map(child => {\n      let newChild = child.clone(treeNode);\n      return newChild;\n    });\n\n    return treeNode;\n  }\n\n  setParent(parentNode) {\n    this.path = this.generatePath(parentNode);\n    this.parentNode = parentNode;\n    this.isLoaded = false;  // update parentNode need loaded data again;\n  }\n\n  hasChildren() {\n    return this.children.length !== 0;\n  }\n\n  addChild(node) {\n    node.setParent(this);\n    let children = this.children;\n    if (node.object.isDir()) {\n      this.children.unshift(node);\n    } else {\n      let index = -1;\n      for (let i = 0; i < children.length; i++) {\n        if (!children[i].object.isDir()) {\n          index = i;\n          break;\n        }\n      }\n      if (index === -1) { // -1: all the node object is dir;\n        this.children.push(node);\n      } else if (index === 0) { // 0: all the node object is file\n        this.children.unshift(node);\n      } else {\n        this.children.splice(index, 0, node);\n      }\n    }\n  }\n\n  addChildren(nodeList) {\n    nodeList.forEach(node => {\n      node.setParent(this);\n    });\n    this.children = nodeList;\n  }\n\n  deleteChild(node) {\n    let children = this.children.filter(item => {\n      return item !== node;\n    });\n    this.children = children;\n  }\n\n  rename(newName) {\n    this.object.name = newName;\n    this.path = this.generatePath(this.parentNode); \n    if (this.isExpanded) {\n      this.updateChildrenPath(this);\n    } else {\n      this.isLoaded = false;\n    }\n  }\n\n  updateChildrenPath(node) {\n    let children = node.children;\n    children.forEach(child => {\n      child.path = child.generatePath(child.parentNode);\n      if (child.isExpanded) {\n        child.updateChildrenPath(child);\n      } else {\n        child.isLoaded = false;\n      }\n    });\n  }\n\n  updateObjectProperties(keys, newValues) {\n    if (Array.isArray(keys) && Array.isArray(newValues)) {\n      keys.forEach((key, index) => {\n        this.object[key] = newValues[index];\n      });\n    } else {\n      this.object[keys] = newValues;\n    }\n  }\n\n  generatePath(parentNode) {\n    return parentNode.path === '/' ? parentNode.path + this.object.name : parentNode.path + '/' + this.object.name;\n  }\n\n  serializeToJson() {\n    let children = [];\n    if (this.hasChildren) {\n      children = this.children.map(m => m.serializeToJson());\n    }\n\n    const treeNode = {\n      path: this.path,\n      object: this.object.clone(),\n      isLoaded: this.isLoaded,\n      isPreload: this.isPreload,\n      isExpanded: this.isExpanded,\n      parentNode: this.parentNode,\n      children: children,\n    };\n\n    return treeNode;\n  }\n\n  static deserializefromJson(json) {\n    let { path, object, isLoaded, isPreload, isExpanded, parentNode, children = [] } = json;\n    object = object.clone();\n\n    const treeNode = new TreeNode({\n      path,\n      object,\n      isLoaded,\n      isPreload,\n      isExpanded,\n      parentNode,\n      children: children.map(item => TreeNode.deserializefromJson(item))\n    });\n    return treeNode;\n  }\n}\n\nexport default TreeNode;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree-view/tree-node.js"],"sourceRoot":""}