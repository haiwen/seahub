webpackJsonp([13],{115:function(e,t){},116:function(e,t){},117:function(e,t){},118:function(e,t){},12:function(e,t,n){"use strict";function o(){return r.default.createElement("span",{className:"loading-icon loading-tip"})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=o},125:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(2),p=n(254),Y=o(p),Z=n(257),L=o(Z),h=n(39),S=o(h),C={repoID:d.default.string,onSearchedClick:d.default.func.isRequired,searchPlaceholder:d.default.string},m=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.searchPlaceholder||(0,f.gettext)("Search Files");return u.default.createElement("div",{className:"common-toolbar"},f.isPro&&u.default.createElement(Y.default,{repoID:this.props.repoID,placeholder:e,onSearchedClick:this.props.onSearchedClick}),u.default.createElement(L.default,null),u.default.createElement(S.default,null))}}]),t}(u.default.Component);m.propTypes=C,t.default=m},13:function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(40).enable(),window.Promise=n(41)),n(35),Object.assign=n(24)},133:function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,o=void 0;"function"===typeof window.CustomEvent?o=new window.CustomEvent(e,{detail:t}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(e,!1,!0,t)),n&&(n.dispatchEvent(o),(0,s.default)(l.store,t))}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];o(u,(0,s.default)({},e,{type:u}),t)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];o(c,(0,s.default)({},e,{type:c}),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MENU_HIDE=t.MENU_SHOW=void 0,t.dispatchGlobalEvent=o,t.showMenu=i,t.hideMenu=r;var a=n(24),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(160),u=t.MENU_SHOW="REACT_CONTEXTMENU_SHOW",c=t.MENU_HIDE="REACT_CONTEXTMENU_HIDE"},134:function(e,t){},1418:function(e,t,n){n(13),e.exports=n(1419)},1419:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(7),d=o(c),f=n(6),p=o(f),Y=n(2),Z=n(4),L=n(3),h=n(23),S=o(h),C=n(159),m=o(C),X=n(408),J=o(X),D=n(1420),T=o(D),P=n(1423),M=o(P);n(115),n(116),n(117),n(118),n(698),n(699),n(134),n(259);var v=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loadWikiData=function(e){if(n.loadSidePanel(e),"None"===Y.isDir)if("/home.md"===e)n.showDir("/");else{n.setState({pathExist:!1});var t=Y.siteRoot+"wikis/"+Y.slug+Z.Utils.encodePath(e);window.history.pushState({url:t,path:e},e,t)}else"True"===Y.isDir?n.showDir(e):"False"===Y.isDir&&n.showFile(e)},n.loadSidePanel=function(e){e===n.homePath||"None"===Y.isDir?L.seafileAPI.listWikiDir(Y.slug,"/").then(function(e){var t=n.state.treeData;n.addFirstResponseListToNode(e.data.dirent_list,t.root);var o=t.getNodeByPath(n.indexPath);t.getNodeByPath(n.homePath)&&o?L.seafileAPI.getWikiFileContent(Y.slug,o.path).then(function(e){n.setState({treeData:t,indexNode:o,indexContent:e.data.content,isTreeDataLoading:!1})}):n.setState({treeData:t,isTreeDataLoading:!1})}).catch(function(){n.setState({isLoadFailed:!0})}):n.loadNodeAndParentsByPath(e)},n.showDir=function(e){n.loadDirentList(e);var t=Y.siteRoot+"wikis/"+Y.slug+Z.Utils.encodePath(e);window.history.pushState({url:t,path:e},e,t)},n.showFile=function(e){n.setState({isDataLoading:!0,isViewFile:!0,path:e}),L.seafileAPI.getWikiFileContent(Y.slug,e).then(function(e){var t=e.data;n.setState({isDataLoading:!1,content:t.content,permission:t.permission,lastModified:p.default.unix(t.last_modified).fromNow(),latestContributor:t.latest_contributor})});var t=window.location.hash,o=Y.siteRoot+"wikis/"+Y.slug+Z.Utils.encodePath(e)+t;window.history.pushState({url:o,path:e},e,o)},n.loadDirentList=function(e){n.setState({isDataLoading:!0}),L.seafileAPI.listWikiDir(Y.slug,e).then(function(t){var o=t.data.dirent_list.map(function(e){return new S.default(e)});"/"===e&&(o=o.filter(function(e){if("dir"===e.type){var t=e.name.toLowerCase();return"drafts"!==t&&"images"!==t&&"downloads"!==t}return!0})),o=Z.Utils.sortDirents(o,"name","asc"),n.setState({path:e,isViewFile:!1,direntList:o,isDataLoading:!1})}).catch(function(){n.setState({isLoadFailed:!0})})},n.loadTreeNodeByPath=function(e){var t=n.state.treeData.clone(),o=t.getNodeByPath(e);if(o.isLoaded){t.getNodeByPath(o.parentNode.path).isExpanded=!0,n.setState({treeData:t,currentNode:o})}else L.seafileAPI.listWikiDir(Y.slug,o.path).then(function(e){n.addResponseListToNode(e.data.dirent_list,o),t.getNodeByPath(o.parentNode.path).isExpanded=!0,n.setState({treeData:t,currentNode:o})})},n.loadNodeAndParentsByPath=function(e){var t=n.state.treeData.clone();Z.Utils.isMarkdownFile(e)&&(e=Z.Utils.getDirName(e)),L.seafileAPI.listWikiDir(Y.slug,e,!0).then(function(e){for(var o=e.data.dirent_list,i={},r=0;r<o.length;r++){var a=o[r],s=a.parent_dir;i[s]||(i[s]=[]),i[s].push(a)}for(var l in i){var u=t.getNodeByPath(l);u.isLoaded||"/"!==u.path?u.isLoaded||n.addResponseListToNode(i[l],u):n.addFirstResponseListToNode(i[l],u)}n.setState({isTreeDataLoading:!1,treeData:t})}).catch(function(){n.setState({isLoadFailed:!0})})},n.onLinkClick=function(e){var t=e;if(Z.Utils.isWikiInternalMarkdownLink(t,Y.slug)){var o=Z.Utils.getPathFromWikiInternalMarkdownLink(t,Y.slug);n.showFile(o)}else if(Z.Utils.isWikiInternalDirLink(t,Y.slug)){var i=Z.Utils.getPathFromWikiInternalDirLink(t,Y.slug);n.showDir(i)}else window.location.href=t},n.onpopstate=function(e){if(e.state&&e.state.path){var t=e.state.path;Z.Utils.isMarkdownFile(t)?n.showFile(t):(n.loadDirentList(t),n.setState({path:t,isViewFile:!1}))}},n.onSearchedClick=function(e){var t=e.is_dir?e.path.slice(0,e.path.length-1):e.path;if(n.state.currentPath!==t){for(var o=-1,i=Z.Utils.getPaths(t),r=0;r<i.length;r++){var a=n.state.treeData.getNodeByPath(a);if(!a){o=r;break}}if(-1===o){var s=n.state.treeData.clone(),l=s.getNodeByPath(e.path);J.default.expandNode(l),n.setState({treeData:s})}else n.loadNodeAndParentsByPath(t);if(e.is_dir)n.showDir(t);else if(Z.Utils.isMarkdownFile(t))n.showFile(t);else{var u=Y.siteRoot+"d/"+Y.sharedToken+"/files/?p="+Z.Utils.encodePath(t),c=window.open("about:blank");c.location.href=u}}},n.onMenuClick=function(){n.setState({closeSideBar:!n.state.closeSideBar})},n.onMainNavBarClick=function(e){var t=n.state.treeData.clone(),o=t.getNodeByPath(e);t.expandNode(o),n.setState({treeData:t,currentNode:o}),n.showDir(o.path)},n.onDirentClick=function(e){var t=Z.Utils.joinPath(n.state.path,e.name);if(e.isDir())n.loadTreeNodeByPath(t),n.showDir(t);else if(Z.Utils.isMarkdownFile(t))n.showFile(t);else{var o=window.open("about:blank"),i=Y.siteRoot+"d/"+Y.sharedToken+"/files/?p="+Z.Utils.encodePath(t);o.location.href=i}},n.onCloseSide=function(){n.setState({closeSideBar:!n.state.closeSideBar})},n.onNodeClick=function(e){if(n.state.pathExist||n.setState({pathExist:!0}),e.object.isDir()){if(!e.isLoaded){var t=n.state.treeData.clone();e=t.getNodeByPath(e.path),L.seafileAPI.listWikiDir(Y.slug,e.path).then(function(o){n.addResponseListToNode(o.data.dirent_list,e),t.collapseNode(e),n.setState({treeData:t})})}if(e.path===n.state.path)if(e.isExpanded){var o=J.default.collapseNode(n.state.treeData,e);n.setState({treeData:o})}else{var i=n.state.treeData.clone();e=i.getNodeByPath(e.path),i.expandNode(e),n.setState({treeData:i})}}if(e.path!==n.state.path)if(e.object.isDir())n.showDir(e.path);else if(Z.Utils.isMarkdownFile(e.path))e.path!==n.state.path&&n.showFile(e.path);else{var r=window.open("about:blank"),a=Y.siteRoot+"d/"+Y.sharedToken+"/files/?p="+Z.Utils.encodePath(e.path);r.location.href=a}},n.onNodeCollapse=function(e){var t=J.default.collapseNode(n.state.treeData,e);n.setState({treeData:t})},n.onNodeExpanded=function(e){var t=n.state.treeData.clone();e=t.getNodeByPath(e.path),e.isLoaded?(t.expandNode(e),n.setState({treeData:t})):L.seafileAPI.listWikiDir(Y.slug,e.path).then(function(o){n.addResponseListToNode(o.data.dirent_list,e),n.setState({treeData:t})})},n.addFirstResponseListToNode=function(e,t){t.isLoaded=!0,t.isExpanded=!0;var n=e.map(function(e){return new S.default(e)});n=n.filter(function(e){if("dir"===e.type){var t=e.name.toLowerCase();return"drafts"!==t&&"images"!==t&&"downloads"!==t}return!0}),n=Z.Utils.sortDirents(n,"name","asc");var o=n.map(function(e){return new m.default({object:e})});t.addChildren(o)},n.addResponseListToNode=function(e,t){t.isLoaded=!0,t.isExpanded=!0;var n=e.map(function(e){return new S.default(e)});n=Z.Utils.sortDirents(n,"name","asc");var o=n.map(function(e){return new m.default({object:e})});t.addChildren(o)},n.state={path:"",pathExist:!0,closeSideBar:!1,isViewFile:!0,isDataLoading:!0,direntList:[],content:"",permission:"",lastModified:"",latestContributor:"",isTreeDataLoading:!0,treeData:J.default.buildTree(),currentNode:null,indexNode:null,indexContent:""},window.onpopstate=n.onpopstate,n.indexPath="/index.md",n.homePath="/home.md",n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.loadWikiData(Y.initialPath)}},{key:"render",value:function(){return u.default.createElement("div",{id:"main",className:"wiki-main"},u.default.createElement(T.default,{isTreeDataLoading:this.state.isTreeDataLoading,closeSideBar:this.state.closeSideBar,currentPath:this.state.path,treeData:this.state.treeData,indexNode:this.state.indexNode,indexContent:this.state.indexContent,onCloseSide:this.onCloseSide,onNodeClick:this.onNodeClick,onNodeCollapse:this.onNodeCollapse,onNodeExpanded:this.onNodeExpanded,onLinkClick:this.onLinkClick}),u.default.createElement(M.default,{path:this.state.path,pathExist:this.state.pathExist,isViewFile:this.state.isViewFile,isDataLoading:this.state.isDataLoading,content:this.state.content,permission:this.state.permission,lastModified:this.state.lastModified,latestContributor:this.state.latestContributor,direntList:this.state.direntList,onLinkClick:this.onLinkClick,onMenuClick:this.onMenuClick,onSearchedClick:this.onSearchedClick,onMainNavBarClick:this.onMainNavBarClick,onDirentClick:this.onDirentClick}))}}]),t}(l.Component);d.default.render(u.default.createElement(v,null),document.getElementById("wrapper"))},1420:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(2),p=n(182),Y=o(p),Z=n(12),L=o(Z),h=n(410),S=o(h),C=n(1421),m=o(C),X={closeSideBar:d.default.bool.isRequired,isTreeDataLoading:d.default.bool.isRequired,treeData:d.default.object.isRequired,indexNode:d.default.object,indexContent:d.default.string.isRequired,currentPath:d.default.string.isRequired,onCloseSide:d.default.func.isRequired,onNodeClick:d.default.func.isRequired,onNodeCollapse:d.default.func.isRequired,onNodeExpanded:d.default.func.isRequired,onLinkClick:d.default.func.isRequired},J=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderIndexView=function(){return u.default.createElement(l.Fragment,null,u.default.createElement("h3",{className:"wiki-pages-heading"},(0,f.gettext)("Contents")),u.default.createElement("div",{className:"wiki-pages-container"},u.default.createElement(m.default,{indexContent:n.props.indexContent,onLinkClick:n.props.onLinkClick})))},n.renderTreeView=function(){return u.default.createElement(l.Fragment,null,u.default.createElement("h3",{className:"wiki-pages-heading"},(0,f.gettext)("Contents")),u.default.createElement("div",{className:"wiki-pages-container"},n.props.treeData&&u.default.createElement(S.default,{treeData:n.props.treeData,currentPath:n.props.currentPath,isNodeMenuShow:n.isNodeMenuShow,onNodeClick:n.props.onNodeClick,onNodeCollapse:n.props.onNodeCollapse,onNodeExpanded:n.props.onNodeExpanded})))},n.isNodeMenuShow=!1,n}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"side-panel wiki-side-panel "+(this.props.closeSideBar?"":"left-zero")},u.default.createElement("div",{className:"side-panel-top panel-top"},u.default.createElement(Y.default,{onCloseSidePanel:this.props.onCloseSide})),u.default.createElement("div",{id:"side-nav",className:"wiki-side-nav",role:"navigation"},this.props.isTreeDataLoading&&u.default.createElement(L.default,null),!this.props.isTreeDataLoading&&this.props.indexNode&&this.renderIndexView(),!this.props.isTreeDataLoading&&!this.props.indexNode&&this.renderTreeView(),f.username&&f.permission&&u.default.createElement("div",{className:"text-left p-2"},u.default.createElement("a",{href:f.siteRoot+"library/"+f.repoID+"/"+f.slug+"/",className:"text-dark text-decoration-underline"},(0,f.gettext)("Go to Library")))))}}]),t}(l.Component);J.propTypes=X,t.default=J},1421:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(173),p=o(f),Y=n(2),Z=n(4),L={indexContent:d.default.string.isRequired,onLinkClick:d.default.func.isRequired},h=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onLinkClick=function(e){e.preventDefault(),e.stopPropagation();var t="";if("A"!==e.target.tagName){for(var o=e.target.parentNode;"A"!==o.tagName;)o=o.parentNode;t=o.href}else t=e.target.href;n.props.onLinkClick(t)},n.changeInlineNode=function(e){if("inline"==e.object){var t=void 0;if("image"==e.type&&Y.isPublicWiki){t=e.data.src;if(!new RegExp(Y.serviceURL+"/lib/"+Y.repoID+"/file.*raw=1").test(t))return;var n=t.indexOf("/file"),o=t.indexOf("?"),i=t.substring(n+5,o);e.data.src=Y.serviceURL+"/view-image-via-public-wiki/?slug="+Y.slug+"&path="+i}else if("link"==e.type)if(t=e.data.href,Z.Utils.isInternalMarkdownLink(t,Y.repoID)){var r=Z.Utils.getPathFromInternalMarkdownLink(t,Y.repoID);e.data.href=Y.serviceURL+"/wikis/"+Y.slug+r}else if(Z.Utils.isInternalDirLink(t,Y.repoID)){var a=Z.Utils.getPathFromInternalDirLink(t,Y.repoID);e.data.href=Y.serviceURL+"/wikis/"+Y.slug+a}}return e},n.modifyValueBeforeRender=function(e){var t=e.document.nodes,o=Z.Utils.changeMarkdownNodes(t,n.changeInlineNode);return e.document.nodes=o,e},n.onContentRendered=function(){},n.links=[],n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.links=document.querySelectorAll(".wiki-page-content a"),this.links.forEach(function(t){t.addEventListener("click",e.onLinkClick)})}},{key:"componentWillReceiveProps",value:function(){var e=this;this.links.forEach(function(t){t.removeEventListener("click",e.onLinkClick)})}},{key:"componentDidUpdate",value:function(){var e=this;this.links=document.querySelectorAll(".wiki-page-content a"),this.links.forEach(function(t){t.addEventListener("click",e.onLinkClick)})}},{key:"componentWillUnmount",value:function(){var e=this;this.links.forEach(function(t){t.removeEventListener("click",e.onLinkClick)})}},{key:"render",value:function(){return u.default.createElement("div",{className:"wiki-page-content"},u.default.createElement(p.default,{markdownContent:this.props.indexContent,onContentRendered:this.onContentRendered,modifyValueBeforeRender:this.modifyValueBeforeRender}))}}]),t}(u.default.Component);h.propTypes=L,t.default=h},1423:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(2),p=n(125),Y=o(p),Z=n(413),L=o(Z),h=n(1424),S=o(h),C=n(12),m=o(C),X={path:d.default.string.isRequired,pathExist:d.default.bool.isRequired,isViewFile:d.default.bool.isRequired,isDataLoading:d.default.bool.isRequired,content:d.default.string,permission:d.default.string,lastModified:d.default.string,latestContributor:d.default.string,direntList:d.default.array.isRequired,onMenuClick:d.default.func.isRequired,onSearchedClick:d.default.func.isRequired,onMainNavBarClick:d.default.func.isRequired,onDirentClick:d.default.func.isRequired,onLinkClick:d.default.func.isRequired},J=function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.onMenuClick=function(){o.props.onMenuClick()},o.onEditClick=function(e){e.preventDefault();var t=f.siteRoot+"lib/"+f.repoID+"/file"+o.props.path+"?mode=edit";window.open(t)},o.onMainNavBarClick=function(e){o.props.onMainNavBarClick(e.target.dataset.path)},o.renderNavPath=function(){var e=o.props.path.split("/"),t="";return e.map(function(n,i){if(""!==n)return i===e.length-1?u.default.createElement("span",{key:i},u.default.createElement("span",{className:"path-split"},"/"),n):(t+="/"+n,u.default.createElement("span",{key:i},u.default.createElement("span",{className:"path-split"},"/"),u.default.createElement("a",{className:"path-link","data-path":t,onClick:o.onMainNavBarClick},n)))})},a=n,r(o,a)}return a(t,e),s(t,[{key:"render",value:function(){var e=u.default.createElement("div",{className:"message err-tip"},(0,f.gettext)("Folder does not exist."));return u.default.createElement("div",{className:"main-panel wiki-main-panel o-hidden"},u.default.createElement("div",{className:"main-panel-north panel-top border-left-show"},f.username&&u.default.createElement(l.Fragment,null,u.default.createElement("div",{className:"cur-view-toolbar"},u.default.createElement("span",{className:"sf2-icon-menu hidden-md-up d-md-none side-nav-toggle",title:"Side Nav Menu",onClick:this.onMenuClick}),"rw"===this.props.permission&&u.default.createElement("button",{className:"btn btn-secondary operation-item",title:"Edit",onClick:this.onEditClick},(0,f.gettext)("Edit"))),u.default.createElement(Y.default,{repoID:f.repoID,onSearchedClick:this.props.onSearchedClick,searchPlaceholder:(0,f.gettext)("Search files in this library")}))),u.default.createElement("div",{className:"main-panel-center"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"path-containter"},u.default.createElement("a",{href:f.siteRoot+"wikis/"+f.slug,className:"normal"},f.slug),this.renderNavPath())),u.default.createElement("div",{className:"cur-view-content"},!this.props.pathExist&&e,this.props.pathExist&&this.props.isDataLoading&&u.default.createElement(m.default,null),this.props.pathExist&&!this.props.isDataLoading&&this.props.isViewFile&&u.default.createElement(L.default,{markdownContent:this.props.content,isFileLoading:this.props.isDataLoading,lastModified:this.props.lastModified,latestContributor:this.props.latestContributor,onLinkClick:this.props.onLinkClick,isWiki:!0}),!this.props.isDataLoading&&!this.props.isViewFile&&u.default.createElement(S.default,{path:this.props.path,direntList:this.props.direntList,onDirentClick:this.props.onDirentClick}))))}}]),t}(l.Component);J.propTypes=X,t.default=J},1424:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(2),p=n(1425),Y=o(p),Z={path:d.default.string.isRequired,direntList:d.default.array.isRequired,onDirentClick:d.default.func.isRequired},L=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this;return u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{style:{width:"4%"}}),u.default.createElement("th",{style:{width:"66%"}},(0,f.gettext)("Name")),u.default.createElement("th",{style:{width:"15%"}},(0,f.gettext)("Size")),u.default.createElement("th",{style:{width:"15%"}},(0,f.gettext)("Last Update")))),u.default.createElement("tbody",null,0!==this.props.direntList.length&&this.props.direntList.map(function(t,n){return u.default.createElement(Y.default,{key:n,path:e.props.path,dirent:t,onDirentClick:e.props.onDirentClick})})))}}]),t}(u.default.Component);L.propTypes=Z,t.default=L},1425:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(2),p=n(4),Y={path:d.default.string.isRequired,dirent:d.default.object.isRequired,onDirentClick:d.default.func.isRequired},Z=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({highlight:!0})},n.onMouseLeave=function(){n.setState({highlight:!1})},n.onContextMenu=function(e){e.preventDefault(),e.stopPropagation()},n.onDirentClick=function(e){e.preventDefault(),n.props.onDirentClick(n.props.dirent)},n.state={highlight:!1},n}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.dirent,o=f.siteRoot+"wikis"+p.Utils.joinPath(t,n.name),i=p.Utils.getDirentIcon(n);return u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onContextMenu:this.onContextMenu},u.default.createElement("td",{className:"text-center"},u.default.createElement("img",{src:i,width:"24",alt:""})),u.default.createElement("td",{className:"name"},u.default.createElement("a",{href:o,onClick:this.onDirentClick},n.name)),u.default.createElement("td",null,n.size),u.default.createElement("td",{title:n.mtime_relative},n.mtime_relative))}}]),t}(u.default.Component);Z.propTypes=Y,t.default=Z},159:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(t){var n=t.path,i=t.object,r=t.isLoaded,a=t.isPreload,s=t.isExpanded,l=t.parentNode;o(this,e),this.path=n||i.name,this.object=i,this.isLoaded=r||!1,this.isPreload=a||!1,this.isExpanded=s||!1,this.children=[],this.parentNode=l||null}return i(e,[{key:"clone",value:function(t){var n=new e({path:this.path,object:this.object.clone(),isLoaded:this.isLoaded,isPreload:this.isPreload,isExpanded:this.isExpanded,parentNode:t||null});return n.children=this.children.map(function(e){return e.clone(n)}),n}},{key:"setParent",value:function(e){this.path=this.generatePath(e),this.parentNode=e,this.isLoaded=!1}},{key:"hasChildren",value:function(){return 0!==this.children.length}},{key:"addChild",value:function(e){e.setParent(this);var t=this.children;if(e.object.isDir())this.children.unshift(e);else{for(var n=-1,o=0;o<t.length;o++)if(!t[o].object.isDir()){n=o;break}-1===n?this.children.push(e):0===n?this.children.unshift(e):this.children.splice(n,0,e)}}},{key:"addChildren",value:function(e){var t=this;e.forEach(function(e){e.setParent(t)}),this.children=e}},{key:"deleteChild",value:function(e){var t=this.children.filter(function(t){return t!==e});this.children=t}},{key:"rename",value:function(e){this.object.name=e,this.path=this.generatePath(this.parentNode),this.isExpanded?this.updateChildrenPath(this):this.isLoaded=!1}},{key:"updateChildrenPath",value:function(e){e.children.forEach(function(e){e.path=e.generatePath(e.parentNode),e.isExpanded?e.updateChildrenPath(e):e.isLoaded=!1})}},{key:"updateObjectProperties",value:function(e,t){var n=this;Array.isArray(e)&&Array.isArray(t)?e.forEach(function(e,o){n.object[e]=t[o]}):this.object[e]=t}},{key:"generatePath",value:function(e){return"/"===e.path?e.path+this.object.name:e.path+"/"+this.object.name}},{key:"serializeToJson",value:function(){var e=[];return this.hasChildren&&(e=this.children.map(function(e){return e.serializeToJson()})),{path:this.path,object:this.object.clone(),isLoaded:this.isLoaded,isPreload:this.isPreload,isExpanded:this.isExpanded,parentNode:this.parentNode,children:e}}}],[{key:"deserializefromJson",value:function(t){var n=t.path,o=t.object,i=t.isLoaded,r=t.isPreload,a=t.isExpanded,s=t.parentNode,l=t.children,u=void 0===l?[]:l;return o=o.clone(),new e({path:n,object:o,isLoaded:i,isPreload:r,isExpanded:a,parentNode:s,children:u.map(function(t){return e.deserializefromJson(t)})})}}]),e}();t.default=r},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.strChineseFirstPY="YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY"},160:function(e,t,n){"use strict";function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return"function"===typeof e&&e.apply(void 0,n)}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(){return Math.random().toString(36).substring(7)}Object.defineProperty(t,"__esModule",{value:!0}),t.callIfExists=o,t.hasOwnProp=i,t.uniqueId=r;t.store={},t.canUseDOM=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement)},172:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(133),r=n(160),a=function e(){var t=this;o(this,e),this.handleShowEvent=function(e){for(var n in t.callbacks)(0,r.hasOwnProp)(t.callbacks,n)&&t.callbacks[n].show(e)},this.handleHideEvent=function(e){for(var n in t.callbacks)(0,r.hasOwnProp)(t.callbacks,n)&&t.callbacks[n].hide(e)},this.register=function(e,n){var o=(0,r.uniqueId)();return t.callbacks[o]={show:e,hide:n},o},this.unregister=function(e){e&&t.callbacks[e]&&delete t.callbacks[e]},this.callbacks={},r.canUseDOM&&(window.addEventListener(i.MENU_SHOW,this.handleShowEvent),window.addEventListener(i.MENU_HIDE,this.handleHideEvent))};t.default=new a},173:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n.n(a),l=n(1),u=n.n(l),c=n(102),d=n(332),f=n(146),p=n(324),Y=n(326),Z=n(17),L=n(253),h=(n.n(L),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),S=n(331),C={markdownContent:u.a.string.isRequired,showTOC:u.a.bool,onContentRendered:u.a.func,activeTitleIndex:u.a.number,modifyValueBeforeRender:u.a.func},m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollToNode=function(e){var t=new S(window.location.href);t.set("hash","user-content-"+e.text),window.location.href=t.toString()},n.getTitlesInfo=function(){for(var e=[],t=document.querySelectorAll('h2[id^="user-content"], h3[id^="user-content"]'),o=0;o<t.length;o++)e.push(t[o].offsetTop);n.titlesInfo=e},n.titlesInfo=[],n}return r(t,e),h(t,[{key:"decorateNode",value:function(e){return Object(p.a)(e)}},{key:"componentDidMount",value:function(){this.props.showTOC&&this.getTitlesInfo(),this.props.onContentRendered&&this.props.onContentRendered(this)}},{key:"shouldComponentUpdate",value:function(e){return e.activeTitleIndex!==this.props.activeTitleIndex}},{key:"render",value:function(){var e=Object(f.deserialize)(this.props.markdownContent);return this.props.modifyValueBeforeRender&&(e=e.toJSON(),e=this.props.modifyValueBeforeRender(e),e=Z.Value.fromJSON(e)),s.a.createElement(s.a.Fragment,null,s.a.createElement(c.Editor,{readOnly:!0,style:{width:"100%"},value:e,className:"article",renderNode:d.b,renderMark:d.a,decorateNode:this.decorateNode}),this.props.showTOC&&s.a.createElement("div",{className:"seafile-markdown-outline"},s.a.createElement(Y.a,{document:e.document,isViewer:!0,editor:this,activeTitleIndex:this.props.activeTitleIndex})))}}]),t}(s.a.Component),X={markdownContent:"",showTOC:!1,isShared:!1};m.propTypes=C,m.defaultProps=X,t.default=m},174:function(e,t,n){!function(t,o){e.exports=o(n(0))}("undefined"!=typeof self&&self,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o};e.exports=n(6)(i,!0)},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function o(e){return"-"+e.toLowerCase()}function i(e){if(s.hasOwnProperty(e))return s[e];var t=e.replace(r,o);return s[e]=a.test(t)?"-"+t:t}var r=/[A-Z]/g,a=/^ms-/,s={};t.a=i},function(e,t,n){"use strict";function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(0),a=n.n(r),s=a.a.oneOfType([a.a.string,a.a.number]),l={orientation:a.a.oneOf(["portrait","landscape"]),scan:a.a.oneOf(["progressive","interlace"]),aspectRatio:a.a.string,deviceAspectRatio:a.a.string,height:s,deviceHeight:s,width:s,deviceWidth:s,color:a.a.bool,colorIndex:a.a.bool,monochrome:a.a.bool,resolution:s},u=o({minAspectRatio:a.a.string,maxAspectRatio:a.a.string,minDeviceAspectRatio:a.a.string,maxDeviceAspectRatio:a.a.string,minHeight:s,maxHeight:s,minDeviceHeight:s,maxDeviceHeight:s,minWidth:s,maxWidth:s,minDeviceWidth:s,maxDeviceWidth:s,minColor:a.a.number,maxColor:a.a.number,minColorIndex:a.a.number,maxColorIndex:a.a.number,minMonochrome:a.a.number,maxMonochrome:a.a.number,minResolution:s,maxResolution:s},l),c={all:a.a.bool,grid:a.a.bool,aural:a.a.bool,braille:a.a.bool,handheld:a.a.bool,print:a.a.bool,projection:a.a.bool,screen:a.a.bool,tty:a.a.bool,tv:a.a.bool,embossed:a.a.bool},d=o({},c,u);l.type=Object.keys(c),t.a={all:d,types:c,matchers:l,features:u}},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?d(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return H});var Y=n(5),Z=n.n(Y),L=n(0),h=n.n(L),S=n(9),C=n.n(S),m=n(2),X=n(3),J=n(11);n.d(t,"toQuery",function(){return J.a});var D={component:h.a.node,query:h.a.string,values:h.a.shape(X.a.matchers),children:h.a.oneOfType([h.a.node,h.a.func]),onChange:h.a.func},T=Object.keys(D),P=function(e,t){var n=f({},e);return t.forEach(function(e){return delete n[e]}),n},M=function(e){var t=e.values,n=void 0===t?{}:t;return Object.keys(n).reduce(function(e,t){return e[Object(m.a)(t)]=n[t],e},{})},v=function(e){return e.query||Object(J.a)(P(e,T))},g=function(e,t){var n=M(e),o=0!==Object.keys(n).length;return C()(t,n,o)},H=function(e){function t(){var e,n;i(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=s(this,(e=l(t)).call.apply(e,[this].concat(r))),p(d(d(n)),"state",{matches:!1,mq:null,query:""}),p(d(d(n)),"cleanupMediaQuery",function(e){e&&(e.removeListener(n.updateMatches),e.dispose())}),p(d(d(n)),"updateMatches",function(){n._unmounted||n.state.mq.matches!==n.state.matches&&n.setState({matches:n.state.mq.matches})}),n}return u(t,e),a(t,[{key:"componentDidMount",value:function(){this.state.mq.addListener(this.updateMatches),this.updateMatches()}},{key:"componentDidUpdate",value:function(e,t){this.state.mq!==t.mq&&(this.cleanupMediaQuery(t.mq),this.state.mq.addListener(this.updateMatches)),this.props.onChange&&t.matches!==this.state.matches&&this.props.onChange(this.state.matches)}},{key:"componentWillUnmount",value:function(){this._unmounted=!0,this.cleanupMediaQuery(this.state.mq)}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.matches):this.state.matches?this.props.children:null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=v(e);if(!n)throw new Error("Invalid or missing MediaQuery!");if(n===t.query)return null;var o=g(e,n);return{matches:o.matches,mq:o,query:n}}}]),t}(Z.a.Component);p(H,"displayName","MediaQuery"),p(H,"defaultProps",{values:{}})},function(t,n){t.exports=e},function(e,t,n){"use strict";function o(){return null}var i=n(7),r=n(1),a=n(8),s=function(){};s=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},e.exports=function(e,t){function n(e){var t=e&&(P&&e[P]||e[M]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function u(e){this.message=e,this.stack=""}function c(e){function n(n,a,l,c,d,f,p){if(c=c||v,f=f||l,p!==r){if(t){var Y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Y.name="Invariant Violation",Y}if("undefined"!=typeof console){var Z=c+":"+l;!o[Z]&&i<3&&(s("You are manually calling a React.PropTypes validation function for the `"+f+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),o[Z]=!0,i++)}}return null==a[l]?n?new u(null===a[l]?"The "+d+" `"+f+"` is marked as required in `"+c+"`, but its value is `null`.":"The "+d+" `"+f+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(a,l,c,d,f)}var o={},i=0,a=n.bind(null,!1);return a.isRequired=n.bind(null,!0),a}function d(e){function t(t,n,o,i,r,a){var s=t[n];return X(s)!==e?new u("Invalid "+i+" `"+r+"` of type `"+J(s)+"` supplied to `"+o+"`, expected `"+e+"`."):null}return c(t)}function f(e){function t(t,n,o,i,a){if("function"!=typeof e)return new u("Property `"+a+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new u("Invalid "+i+" `"+a+"` of type `"+X(s)+"` supplied to `"+o+"`, expected an array.");for(var l=0;l<s.length;l++){var c=e(s,l,o,i,a+"["+l+"]",r);if(c instanceof Error)return c}return null}return c(t)}function p(e){function t(t,n,o,i,r){if(!(t[n]instanceof e)){var a=e.name||v;return new u("Invalid "+i+" `"+r+"` of type `"+T(t[n])+"` supplied to `"+o+"`, expected instance of `"+a+"`.")}return null}return c(t)}function Y(e){function t(t,n,o,i,r){for(var a=t[n],s=0;s<e.length;s++)if(l(a,e[s]))return null;return new u("Invalid "+i+" `"+r+"` of value `"+a+"` supplied to `"+o+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?c(t):(s("Invalid argument supplied to oneOf, expected an instance of array."),o)}function Z(e){function t(t,n,o,i,a){if("function"!=typeof e)return new u("Property `"+a+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var s=t[n],l=X(s);if("object"!==l)return new u("Invalid "+i+" `"+a+"` of type `"+l+"` supplied to `"+o+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var d=e(s,c,o,i,a+"."+c,r);if(d instanceof Error)return d}return null}return c(t)}function L(e){function t(t,n,o,i,a){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,o,i,a,r))return null;return new u("Invalid "+i+" `"+a+"` supplied to `"+o+"`.")}if(!Array.isArray(e))return s("Invalid argument supplied to oneOfType, expected an instance of array."),o;for(var n=0;n<e.length;n++){var i=e[n];if("function"!=typeof i)return s("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+D(i)+" at index "+n+"."),o}return c(t)}function h(e){function t(t,n,o,i,a){var s=t[n],l=X(s);if("object"!==l)return new u("Invalid "+i+" `"+a+"` of type `"+l+"` supplied to `"+o+"`, expected `object`.");for(var c in e){var d=e[c];if(d){var f=d(s,c,o,i,a+"."+c,r);if(f)return f}}return null}return c(t)}function S(e){function t(t,n,o,a,s){var l=t[n],c=X(l);if("object"!==c)return new u("Invalid "+a+" `"+s+"` of type `"+c+"` supplied to `"+o+"`, expected `object`.");var d=i({},t[n],e);for(var f in d){var p=e[f];if(!p)return new u("Invalid "+a+" `"+s+"` key `"+f+"` supplied to `"+o+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var Y=p(l,f,o,a,s+"."+f,r);if(Y)return Y}return null}return c(t)}function C(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(C);if(null===t||e(t))return!0;var o=n(t);if(!o)return!1;var i,r=o.call(t);if(o!==t.entries){for(;!(i=r.next()).done;)if(!C(i.value))return!1}else for(;!(i=r.next()).done;){var a=i.value;if(a&&!C(a[1]))return!1}return!0;default:return!1}}function m(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function X(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":m(t,e)?"symbol":t}function J(e){if(void 0===e||null===e)return""+e;var t=X(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function D(e){var t=J(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function T(e){return e.constructor&&e.constructor.name?e.constructor.name:v}var P="function"==typeof Symbol&&Symbol.iterator,M="@@iterator",v="<<anonymous>>",g={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:function(){return c(o)}(),arrayOf:f,element:function(){function t(t,n,o,i,r){var a=t[n];return e(a)?null:new u("Invalid "+i+" `"+r+"` of type `"+X(a)+"` supplied to `"+o+"`, expected a single ReactElement.")}return c(t)}(),instanceOf:p,node:function(){function e(e,t,n,o,i){return C(e[t])?null:new u("Invalid "+o+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return c(e)}(),objectOf:Z,oneOf:Y,oneOfType:L,shape:h,exact:S};return u.prototype=Error.prototype,g.checkPropTypes=a,g.PropTypes=g,g}},function(e,t,n){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=o(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)r.call(n,c)&&(l[c]=n[c]);if(i){s=i(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){"use strict";function o(e,t,n,o,s){for(var l in e)if(e.hasOwnProperty(l)){var u;try{if("function"!=typeof e[l]){var c=Error((o||"React class")+": "+n+" type `"+l+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[l]+"`.");throw c.name="Invariant Violation",c}u=e[l](t,l,o,n,null,r)}catch(e){u=e}if(!u||u instanceof Error||i((o||"React class")+": type specification of "+n+" `"+l+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof u+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),u instanceof Error&&!(u.message in a)){a[u.message]=!0;var d=s?s():"";i("Failed "+n+" type: "+u.message+(null!=d?d:""))}}}var i=function(){},r=n(1),a={};i=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},e.exports=o},function(e,t,n){"use strict";function o(e,t,n){function o(e){c&&c.addListener(e)}function i(e){c&&c.removeListener(e)}function s(e){u.matches=e.matches,u.media=e.media}function l(){c&&c.removeListener(s)}var u=this;if(a&&!n){var c=a.call(window,e);this.matches=c.matches,this.media=c.media,c.addListener(s)}else this.matches=r(e,t),this.media=e;this.addListener=o,this.removeListener=i,this.dispose=l}function i(e,t,n){return new o(e,t,n)}var r=n(10).match,a="undefined"!=typeof window?window.matchMedia:null;e.exports=i},function(e,t,n){"use strict";function o(e,t){return i(e).some(function(e){var n=e.inverse,o="all"===e.type||t.type===e.type;if(o&&n||!o&&!n)return!1;var i=e.expressions.every(function(e){var n=e.feature,o=e.modifier,i=e.value,l=t[n];if(!l)return!1;switch(n){case"orientation":case"scan":return l.toLowerCase()===i.toLowerCase();case"width":case"height":case"device-width":case"device-height":i=s(i),l=s(l);break;case"resolution":i=a(i),l=a(l);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":i=r(i),l=r(l);break;case"grid":case"color":case"color-index":case"monochrome":i=parseInt(i,10)||1,l=parseInt(l,10)||0}switch(o){case"min":return l>=i;case"max":return l<=i;default:return l===i}});return i&&!n||!i&&n})}function i(e){return e.split(",").map(function(e){e=e.trim();var t=e.match(l),n=t[1],o=t[2],i=t[3]||"",r={};return r.inverse=!!n&&"not"===n.toLowerCase(),r.type=o?o.toLowerCase():"all",i=i.match(/\([^\)]+\)/g)||[],r.expressions=i.map(function(e){var t=e.match(u),n=t[1].toLowerCase().match(c);return{modifier:n[1],feature:n[2],value:t[2]}}),r})}function r(e){var t,n=Number(e);return n||(t=e.match(/^(\d+)\s*\/\s*(\d+)$/),n=t[1]/t[2]),n}function a(e){var t=parseFloat(e);switch(String(e).match(f)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function s(e){var t=parseFloat(e);switch(String(e).match(d)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}t.match=o,t.parse=i;var l=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,u=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,c=/^(?:(min|max)-)?(.+)/,d=/(em|rem|px|cm|mm|in|pt|pc)?$/,f=/(dpi|dpcm|dppx)?$/},function(e,t,n){"use strict";function o(e,t){var n=Object(r.a)(e);return"number"==typeof t&&(t="".concat(t,"px")),!0===t?e:!1===t?s(e):"(".concat(n,": ").concat(t,")")}function i(e){return e.join(" and ")}var r=n(2),a=n(3),s=function(e){return"not ".concat(e)};t.a=function(e){var t=[];return Object.keys(a.a.all).forEach(function(n){var i=e[n];null!=i&&t.push(o(n,i))}),i(t)}}])})},182:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(2),p={onCloseSidePanel:d.default.func.isRequired},Y=function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.closeSide=function(){o.props.onCloseSidePanel()},a=n,r(o,a)}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"top-logo"},u.default.createElement("a",{href:f.siteRoot,id:"logo"},u.default.createElement("img",{src:f.mediaUrl+f.logoPath,height:f.logoHeight,width:f.logoWidth,title:f.siteTitle,alt:"logo"})),u.default.createElement("a",{className:"sf2-icon-x1 sf-popover-close side-panel-close action-icon d-md-none",onClick:this.closeSide,title:"Close","aria-label":"Close"}))}}]),t}(u.default.Component);Y.propTypes=p,t.default=Y},183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i={NEW_FOLDER:{key:"New Folder",value:(0,o.gettext)("New Folder")},NEW_FILE:{key:"New File",value:(0,o.gettext)("New File")},SHARE:{key:"Share",value:(0,o.gettext)("Share")},DOWNLOAD:{key:"Download",value:(0,o.gettext)("Download")},DELETE:{key:"Delete",value:(0,o.gettext)("Delete")},RENAME:{key:"Rename",value:(0,o.gettext)("Rename")},MOVE:{key:"Move",value:(0,o.gettext)("Move")},COPY:{key:"Copy",value:(0,o.gettext)("Copy")},PERMISSION:{key:"Permission",value:(0,o.gettext)("Permission")},DETAILS:{key:"Details",value:(0,o.gettext)("Details")},OPEN_VIA_CLIENT:{key:"Open via Client",value:(0,o.gettext)("Open via Client")},LOCK:{key:"Lock",value:(0,o.gettext)("Lock")},UNLOCK:{key:"Unlock",value:(0,o.gettext)("Unlock")},COMMENT:{key:"Comment",value:(0,o.gettext)("Comment")},HISTORY:{key:"History",value:(0,o.gettext)("History")},ACCESS_LOG:{key:"Access Log",value:(0,o.gettext)("Access Log")},TAGS:{key:"Tags",value:(0,o.gettext)("Tags")},RELATED_FILES:{key:"Related Files",value:(0,o.gettext)("Related Files")}};t.default=i},2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dirPath="/",t.gettext=window.gettext,t.siteRoot=window.app.config.siteRoot,t.loginUrl=window.app.config.loginUrl,t.avatarInfo=window.app.config.avatarInfo,t.logoPath=window.app.config.logoPath,t.mediaUrl=window.app.config.mediaUrl,t.siteTitle=window.app.config.siteTitle,t.siteName=window.app.config.siteName,t.logoWidth=window.app.config.logoWidth,t.logoHeight=window.app.config.logoHeight,t.isPro="True"===window.app.config.isPro,t.isDocs="True"===window.app.config.isDocs,t.lang=window.app.config.lang,t.fileServerRoot=window.app.config.fileServerRoot,t.seafileVersion=window.app.config.seafileVersion,t.serviceURL=window.app.config.serviceURL,t.seafileCollabServer=window.app.pageOptions.seafileCollabServer,t.name=window.app.pageOptions.name,t.contactEmail=window.app.pageOptions.contactEmail,t.username=window.app.pageOptions.username,t.canAddRepo=window.app.pageOptions.canAddRepo,t.canGenerateShareLink=window.app.pageOptions.canGenerateShareLink,t.canGenerateUploadLink=!!window.app.pageOptions.canGenerateUploadLink,t.canViewOrg="True"===window.app.pageOptions.canViewOrg,t.fileAuditEnabled=!!window.app.pageOptions.fileAuditEnabled,t.enableFileComment=!!window.app.pageOptions.enableFileComment,t.folderPermEnabled="True"===window.app.pageOptions.folderPermEnabled,t.enableResetEncryptedRepoPassword="True"===window.app.pageOptions.enableResetEncryptedRepoPassword,t.isEmailConfigured="True"===window.app.pageOptions.isEmailConfigured,t.enableUploadFolder="True"===window.app.pageOptions.enableUploadFolder,t.enableResumableFileUpload="True"===window.app.pageOptions.enableResumableFileUpload,t.storages=window.app.pageOptions.storages,t.enableRepoSnapshotLabel=window.app.pageOptions.enableRepoSnapshotLabel,t.shareLinkExpireDaysMin=window.app.pageOptions.shareLinkExpireDaysMin,t.shareLinkExpireDaysMax=window.app.pageOptions.shareLinkExpireDaysMax,t.maxFileName=window.app.pageOptions.maxFileName,t.enableWiki=window.app.pageOptions.enableWiki,t.enableEncryptedLibrary=window.app.pageOptions.enableEncryptedLibrary,t.enableRepoHistorySetting=window.app.pageOptions.enableRepoHistorySetting,t.isSystemStaff=window.app.pageOptions.isSystemStaff,t.thumbnailSizeForOriginal=window.app.pageOptions.thumbnailSizeForOriginal,t.repoPasswordMinLength=window.app.pageOptions.repoPasswordMinLength,t.canAddPublicRepo=window.app.pageOptions.canAddPublicRepo,t.curNoteMsg=window.app.pageOptions.curNoteMsg,t.curNoteID=window.app.pageOptions.curNoteID,t.slug=window.wiki?window.wiki.config.slug:"",t.repoID=window.wiki?window.wiki.config.repoId:"",t.initialPath=window.wiki?window.wiki.config.initial_path:"",t.permission=window.wiki?"True"===window.wiki.config.permission:"",t.isDir=window.wiki?window.wiki.config.isDir:"",t.serviceUrl=window.wiki?window.wiki.config.serviceUrl:"",t.isPublicWiki=window.wiki?"True"===window.wiki.config.isPublicWiki:"",t.sharedToken=window.wiki?window.wiki.config.sharedToken:"",t.sharedType=window.wiki?window.wiki.config.sharedType:"",t.PER_PAGE=25,t.historyRepoID=window.fileHistory?window.fileHistory.pageOptions.repoID:"",t.repoName=window.fileHistory?window.fileHistory.pageOptions.repoName:"",t.filePath=window.fileHistory?window.fileHistory.pageOptions.filePath:"",t.fileName=window.fileHistory?window.fileHistory.pageOptions.fileName:"",t.draftFilePath=window.draft?window.draft.config.draftFilePath:"",t.draftOriginFilePath=window.draft?window.draft.config.draftOriginFilePath:"",t.draftFileName=window.draft?window.draft.config.draftFileName:"",t.draftID=window.draft?window.draft.config.draftID:"",t.draftRepoID=window.draft?window.draft.config.draftRepoID:"",t.author=window.draft?window.draft.config.author:"",t.authorAvatar=window.draft?window.draft.config.authorAvatar:"",t.originFileExists=window.draft?window.draft.config.originFileExists:"",t.draftFileExists=window.draft?window.draft.config.draftFileExists:"",t.draftStatus=window.draft?window.draft.config.draftStatus:"",t.draftPublishVersion=window.draft?window.draft.config.draftPublishVersion:"",t.originFileVersion=window.draft?window.draft.config.originFileVersion:"",t.orgID=window.org?window.org.pageOptions.orgID:"",t.invitationLink=window.org?window.org.pageOptions.invitationLink:"",t.orgMemberQuotaEnabled=window.org?window.org.pageOptions.orgMemberQuotaEnabled:"",t.constanceEnabled=window.sysadmin?window.sysadmin.pageOptions.constance_enabled:"",t.multiTenancy=window.sysadmin?window.sysadmin.pageOptions.multi_tenancy:"",t.multiInstitution=window.sysadmin?window.sysadmin.pageOptions.multi_institution:"",t.sysadminExtraEnabled=window.sysadmin?window.sysadmin.pageOptions.sysadmin_extra_enabled:"",t.enableGuestInvitation=window.sysadmin?window.sysadmin.pageOptions.enable_guest_invitation:"",t.enableTermsAndConditions=window.sysadmin?window.sysadmin.pageOptions.enable_terms_and_conditions:"",t.isDefaultAdmin=window.sysadmin?window.sysadmin.pageOptions.is_default_admin:"",t.enableFileScan=window.sysadmin?window.sysadmin.pageOptions.enable_file_scan:"",t.canViewSystemInfo=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_system_info:"",t.canViewStatistic=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_statistic:"",t.canConfigSystem=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_config_system:"",t.canManageLibrary=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_library:"",t.canManageUser=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_user:"",t.canManageGroup=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_group:"",t.canViewUserLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_user_log:"",t.canViewAdminLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_admin_log:""},23:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(6),s=o(a),l=n(4),u=n(38),c=o(u),d=function(){function e(t){if(i(this,e),this.id=t.id||"0000000000000000",this.name=t.name,this.type=t.type,this.mtime=t.mtime,this.mtime_relative=s.default.unix(t.mtime).fromNow(),this.permission=t.permission||"rw",this.isSelected=!1,this.starred=t.starred||!1,"file"===t.type){this.size=l.Utils.bytesToSize(t.size),this.is_locked=t.is_locked||!1,this.lock_time=t.lock_time||"",this.lock_owner=t.lock_owner||null,this.lock_owner_name=t.lock_owner_name||null,this.locked_by_me=t.locked_by_me||!1,this.modifier_name=t.modifier_name||"",this.modifier_email=t.modifier_email||"",this.modifier_contact_email=t.modifier_contact_email||"";var n=[];t.file_tags&&(n=t.file_tags.map(function(e){return new c.default(e)})),this.file_tags=n,t.encoded_thumbnail_src&&(this.encoded_thumbnail_src=t.encoded_thumbnail_src)}}return r(e,[{key:"clone",value:function(){return new e(this)}},{key:"isDir",value:function(){return"file"!==this.type}}]),e}();t.default=d},252:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(172),p=o(f),Y=n(133),Z=n(160),L={id:d.default.string.isRequired,rtl:d.default.bool,onMenuItemClick:d.default.func.isRequired,onShowMenu:d.default.func,onHideMenu:d.default.func},h=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.registerHandlers=function(){document.addEventListener("mousedown",n.handleOutsideClick),document.addEventListener("touchstart",n.handleOutsideClick),document.addEventListener("scroll",n.handleHide),document.addEventListener("contextmenu",n.handleHide),document.addEventListener("keydown",n.handleKeyNavigation),window.addEventListener("resize",n.handleHide)},n.unregisterHandlers=function(){document.removeEventListener("mousedown",n.handleOutsideClick),document.removeEventListener("touchstart",n.handleOutsideClick),document.removeEventListener("scroll",n.handleHide),document.removeEventListener("contextmenu",n.handleHide),document.removeEventListener("keydown",n.handleKeyNavigation),window.removeEventListener("resize",n.handleHide)},n.handleShow=function(e){if(e.detail.id===n.props.id&&!n.state.isVisible){var t=e.detail.position,o=t.x,i=t.y,r=e.detail,a=r.currentObject,s=r.menuList;n.setState({isVisible:!0,x:o,y:i,currentObject:a,menuList:s}),n.registerHandlers(),(0,Z.callIfExists)(n.props.onShowMenu,e)}},n.handleHide=function(e){!n.state.isVisible||e.detail&&e.detail.id&&e.detail.id!==n.props.id||(n.unregisterHandlers(),n.setState({isVisible:!1}),(0,Z.callIfExists)(n.props.onHideMenu,e))},n.handleOutsideClick=function(e){n.menu.contains(e.target)||(0,Y.hideMenu)()},n.handleMouseLeave=function(e){e.preventDefault(),n.props.hideOnLeave&&(0,Y.hideMenu)()},n.handleContextMenu=function(e){n.handleHide(e)},n.handleKeyNavigation=function(e){!1!==n.state.isVisible&&(e.preventDefault(),n.hideMenu(e))},n.hideMenu=function(e){27!==e.keyCode&&13!==e.keyCode||(0,Y.hideMenu)()},n.getMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o={top:t,left:e};if(!n.menu)return o;var i=window,r=i.innerWidth,a=i.innerHeight,s=n.menu.getBoundingClientRect();return t+s.height>a&&(o.top-=s.height),e+s.width>r&&(o.left-=s.width),o.top<0&&(o.top=s.height<a?(a-s.height)/2:0),o.left<0&&(o.left=s.width<r?(r-s.width)/2:0),o},n.getRTLMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o={top:t,left:e};if(!n.menu)return o;var i=window,r=i.innerWidth,a=i.innerHeight,s=n.menu.getBoundingClientRect();return o.left=e-s.width,t+s.height>a&&(o.top-=s.height),o.left<0&&(o.left+=s.width),o.top<0&&(o.top=s.height<a?(a-s.height)/2:0),o.left+s.width>r&&(o.left=s.width<r?(r-s.width)/2:0),o},n.onMenuItemClick=function(e){e.stopPropagation();var t=e.target.dataset.operation,o=n.state.currentObject;n.props.onMenuItemClick(t,o,e)},n.state={x:0,y:0,isVisible:!1,currentObject:null,menuList:[]},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.listenId=p.default.register(this.handleShow,this.handleHide)}},{key:"componentDidUpdate",value:function(){var e=this;if(this.state.isVisible){var t=window.requestAnimationFrame||setTimeout;t(function(){var n=e.state,o=n.x,i=n.y,r=e.props.rtl?e.getRTLMenuPosition(o,i):e.getMenuPosition(o,i),a=r.top,s=r.left;t(function(){e.menu&&(e.menu.style.top=a+"px",e.menu.style.left=s+"px",e.menu.style.opacity=1,e.menu.style.pointerEvents="auto")})})}else{if(!this.menu)return;this.menu.style.opacity=0,this.menu.style.pointerEvents="none"}}},{key:"componentWillUnmount",value:function(){this.listenId&&p.default.unregister(this.listenId),this.unregisterHandlers()}},{key:"render",value:function(){var e=this,t={position:"fixed",opacity:0,pointerEvents:"none",display:"block"};return u.default.createElement("div",{role:"menu",className:"seafile-contextmenu dropdown-menu",style:t,ref:function(t){e.menu=t}},this.state.menuList.map(function(t,n){return"Divider"===t?u.default.createElement("div",{key:n,className:"seafile-divider dropdown-divider"}):u.default.createElement("button",{key:n,className:"seafile-contextmenu-item dropdown-item","data-operation":t.key,onClick:e.onMenuItemClick},t.value)}))}}]),t}(u.default.Component);h.propTypes=L,t.default=h},253:function(e,t){},254:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(174),p=o(f),Y=n(2),Z=n(255),L=o(Z),h=n(29),S=o(h),C=n(256),m=o(C),X={repoID:d.default.string,placeholder:d.default.string,onSearchedClick:d.default.func.isRequired},J=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFocusHandler=function(){n.setState({width:"30rem",isMaskShow:!0,isCloseShow:!0})},n.onCloseHandler=function(){n.resetToDefault()},n.onItemClickHandler=function(e){n.resetToDefault(),n.props.onSearchedClick(e)},n.onChangeHandler=function(e){var t=n;n.setState({value:e.target.value});var o=e.target.value;if(n.inputValue===o.trim())return!1;if(n.inputValue=o.trim(),""===n.inputValue||t.getValueLength(n.inputValue)<3)return n.setState({isResultShow:!1,isResultGetted:!1}),!1;var i=n.props.repoID,r={q:o,search_repo:i||"all",search_ftypes:"all"};n.timer&&clearTimeout(n.timer),n.timer=setTimeout(t.getSearchResult(r),500)},n.onShowMore=function(){var e=n.props.repoID,t=n.state.value,o={q:t,search_repo:e||"all",search_ftypes:"all"},i="";for(var r in o)i+=r+"="+o[r]+"&";window.location=Y.siteRoot+"search/?"+i.slice(0,i.length-1)},n.onSearchToggle=function(){n.setState({isSearchInputShow:!n.state.isSearchInputShow,isMaskShow:!n.state.isMaskShow})},n.state={width:"default",value:"",resultItems:[],isMaskShow:!1,isResultShow:!1,isResultGetted:!1,isCloseShow:!1,isSearchInputShow:!1},n.inputValue="",n.source=null,n}return a(t,e),s(t,[{key:"getSearchResult",value:function(e){this.source&&this.cancelRequest(),this.setState({isResultShow:!0,isResultGetted:!1}),this.source=S.default.getSource(),this.sendRequest(e,this.source.token)}},{key:"sendRequest",value:function(e,t){var n=this;S.default.searchFiles(e,t).then(function(e){if(!e.data.total)return n.setState({resultItems:[],isResultGetted:!0}),void(n.source=null);var t=n.formatResultItems(e.data.results);n.setState({resultItems:t,isResultGetted:!0}),n.source=null}).catch(function(e){console.log(e)})}},{key:"cancelRequest",value:function(){this.source.cancel("prev request is cancelled")}},{key:"getValueLength",value:function(e){for(var t,n=0,o=0;n<e.length;n++)t=e.charCodeAt(n),10==t?o+=2:t<127?o+=1:t>=128&&t<=2047?o+=2:t>=2048&&t<=65535&&(o+=3);return o}},{key:"formatResultItems",value:function(e){for(var t=[],n=e.length>5?5:e.length,o=0;o<n;o++)t[o]={},t[o].index=[o],t[o].name=e[o].name,t[o].path=e[o].fullpath,t[o].repo_id=e[o].repo_id,t[o].repo_name=e[o].repo_name,t[o].is_dir=e[o].is_dir,t[o].link_content=decodeURI(e[o].fullpath).substring(1),t[o].content=e[o].content_highlight;return t}},{key:"resetToDefault",value:function(){this.inputValue=null,this.setState({width:"",value:"",isMaskShow:!1,isCloseShow:!1,isResultShow:!1,isResultGetted:!1,resultItems:[],isSearchInputShow:!1})}},{key:"renderSearchResult",value:function(){var e=this;if(this.state.isResultShow){if(!this.state.isResultGetted||this.getValueLength(this.inputValue)<3)return u.default.createElement("span",{className:"loading-icon loading-tip"});if(!this.state.resultItems.length)return u.default.createElement("div",{className:"search-result-none"},(0,Y.gettext)("No results matching."));var t=this.state.resultItems.length>=5;return u.default.createElement("ul",{className:"search-result-list"},this.state.resultItems.map(function(t){return u.default.createElement(L.default,{key:t.index,item:t,onItemClickHandler:e.onItemClickHandler})}),t&&u.default.createElement(m.default,{onShowMore:this.onShowMore}))}}},{key:"render",value:function(){var e="default"!==this.state.width?this.state.width:"",t={width:e};return u.default.createElement(l.Fragment,null,u.default.createElement(p.default,{query:"(min-width: 768px)"},u.default.createElement("div",{className:"search"},u.default.createElement("div",{className:"search-mask "+(this.state.isMaskShow?"":"hide"),onClick:this.onCloseHandler}),u.default.createElement("div",{className:"search-container"},u.default.createElement("div",{className:"input-icon"},u.default.createElement("i",{className:"search-icon-left input-icon-addon fas fa-search"}),u.default.createElement("input",{type:"text",className:"form-control search-input",name:"query",placeholder:this.props.placeholder,style:t,value:this.state.value,onFocus:this.onFocusHandler,onChange:this.onChangeHandler,autoComplete:"off"}),this.state.isCloseShow&&u.default.createElement("i",{className:"search-icon-right input-icon-addon fas fa-times",onClick:this.onCloseHandler})),u.default.createElement("div",{className:"search-result-container"},this.renderSearchResult())))),u.default.createElement(p.default,{query:"(max-width: 768px)"},u.default.createElement("div",{className:"search-icon-container"},u.default.createElement("i",{className:"search-icon fas fa-search",onClick:this.onSearchToggle})),this.state.isSearchInputShow&&u.default.createElement("div",{className:"search"},u.default.createElement("div",{className:"search-mask "+(this.state.isMaskShow?"":"hide"),onClick:this.onCloseHandler}),u.default.createElement("div",{className:"search-container"},u.default.createElement("div",{className:"input-icon"},u.default.createElement("i",{className:"search-icon-left input-icon-addon fas fa-search"}),u.default.createElement("input",{type:"text",className:"form-control search-input",name:"query",placeholder:this.props.placeholder,style:t,value:this.state.value,onFocus:this.onFocusHandler,onChange:this.onChangeHandler,autoComplete:"off"}),this.state.isCloseShow&&u.default.createElement("i",{className:"search-icon-right input-icon-addon fas fa-times",onClick:this.onCloseHandler})),u.default.createElement("div",{className:"search-result-container"},this.renderSearchResult())))))}}]),t}(l.Component);J.propTypes=X,t.default=J},255:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(4),p={item:d.default.object.isRequired,onItemClickHandler:d.default.func.isRequired},Y=function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.onClickHandler=function(){var e=o.props.item;o.props.onItemClickHandler(e)},a=n,r(o,a)}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.item,t=e.link_content?"item-img":"lib-item-img",n=e.link_content?f.Utils.getFolderIconUrl(!1,192):f.Utils.getDefaultLibIconUrl(!0),o=e.is_dir?n:f.Utils.getFileIconUrl(e.name,192);return u.default.createElement("li",{className:"search-result-item",onClick:this.onClickHandler},u.default.createElement("img",{className:t,src:o,alt:""}),u.default.createElement("div",{className:"item-content"},u.default.createElement("div",{className:"item-name ellipsis"},e.name),u.default.createElement("div",{className:"item-link ellipsis"},e.repo_name,"/",e.link_content),u.default.createElement("div",{className:"item-text ellipsis",dangerouslySetInnerHTML:{__html:e.content}})))}}]),t}(u.default.Component);Y.propTypes=p,t.default=Y},256:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(2),p={onShowMore:d.default.func.isRequired},Y=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("li",{className:"list-show-more",onClick:this.props.onShowMore},u.default.createElement("span",{className:"more-message"},(0,f.gettext)("show more")))}}]),t}(u.default.Component);Y.propTypes=p,t.default=Y},257:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(3),d=n(2),f=n(258),p=o(f),Y=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(){n.state.showNotice?(c.seafileAPI.updateNotifications(),n.setState({showNotice:!1,unseenCount:0})):(n.loadNotices(),n.setState({showNotice:!0}))},n.loadNotices=function(){c.seafileAPI.listPopupNotices(1,5).then(function(e){var t=e.data.notification_list;n.setState({noticeList:t})})},n.onNoticeItemClick=function(e){var t=n.state.noticeList.map(function(t){return t.id===e.id&&(t.seen=!0),t});c.seafileAPI.markNoticeAsRead(e.id);var o=0===n.state.unseenCount?0:n.state.unseenCount-1;n.setState({noticeList:t,unseenCount:o})},n.state={showNotice:!1,unseenCount:0,noticeList:[]},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;c.seafileAPI.getUnseenNotificationCount().then(function(t){e.setState({unseenCount:t.data.unseen_count})})}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{id:"notifications"},u.default.createElement("a",{href:"#",onClick:this.onClick,className:"no-deco",id:"notice-icon",title:"Notifications","aria-label":"Notifications"},u.default.createElement("span",{className:"sf2-icon-bell"}),u.default.createElement("span",{className:"num "+(this.state.unseenCount?"":"hide")},this.state.unseenCount)),u.default.createElement("div",{id:"notice-popover",className:"sf-popover "+(this.state.showNotice?"":"hide")},u.default.createElement("div",{className:"outer-caret up-outer-caret"},u.default.createElement("div",{className:"inner-caret"})),u.default.createElement("div",{className:"sf-popover-hd ovhd"},u.default.createElement("h3",{className:"sf-popover-title title"},(0,d.gettext)("Notifications")),u.default.createElement("a",{href:"#",onClick:this.onClick,title:(0,d.gettext)("Close"),"aria-label":(0,d.gettext)("Close"),className:"sf-popover-close js-close sf2-icon-x1 action-icon float-right"})),u.default.createElement("div",{className:"sf-popover-con"},u.default.createElement("ul",{className:"notice-list"},this.state.noticeList.map(function(t){return u.default.createElement(p.default,{key:t.id,noticeItem:t,onNoticeItemClick:e.onNoticeItemClick})})),u.default.createElement("a",{href:d.siteRoot+"notification/list/",className:"view-all"},(0,d.gettext)("See All Notifications")))))}}]),t}(u.default.Component);t.default=Y},258:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(6),p=o(f),Y=n(2),Z=n(4),L={noticeItem:d.default.object.isRequired,onNoticeItemClick:d.default.func.isRequired},h=function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.onNoticeItemClick=function(){var e=o.props.noticeItem;!0!==e.seen&&o.props.onNoticeItemClick(e)},a=n,r(o,a)}return a(t,e),s(t,[{key:"generatorNoticeInfo",value:function(){var e=this.props.noticeItem,t=e.type,n=e.detail;if("add_user_to_group"===t){var o=n.group_staff_avatar_url,i=n.group_staff_name,r=Y.siteRoot+"profile/"+n.group_staff_email+"/",a=Y.siteRoot+"group/"+n.group_id+"/",s=n.group_name,l=(0,Y.gettext)("User {user_link} has added you to {group_link}"),u="<a href="+r+">"+i+"</a>",c="<a href="+a+">"+s+"</a>";return l=l.replace("{user_link}",u),l=l.replace("{group_link}",c),{avatar_url:o,notice:l}}if("repo_share"===t){var d=n.share_from_user_avatar_url,f=n.share_from_user_name,p=n.repo_name,L=Y.siteRoot+"library/"+n.repo_id+"/"+p+"/",h=n.path,S="",C="<a href="+L+">"+p+"</a>";return S="/"===h?(0,Y.gettext)("{share_from} has shared a library named {repo_link} to you."):(0,Y.gettext)("{share_from} has shared a folder named {repo_link} to you."),S=S.replace("{share_from}",f),S=S.replace("{repo_link}",C),{avatar_url:d,notice:S}}if("repo_share_to_group"===t){var m=n.share_from_user_avatar_url,X=n.share_from_user_name,J=n.repo_name,D=Y.siteRoot+"library/"+n.repo_id+"/"+J+"/",T=Y.siteRoot+"group/"+n.group_id+"/",P=n.group_name,M=n.path,v="",g="<a href="+D+">"+J+"</a>",H="<a href="+T+">"+P+"</a>";return v="/"===M?(0,Y.gettext)("{share_from} has shared a library named {repo_link} to group {group_link}."):(0,Y.gettext)("{share_from} has shared a folder named {repo_link} to group {group_link}."),v=v.replace("{share_from}",X),v=v.replace("{repo_link}",g),v=v.replace("{group_link}",H),{avatar_url:m,notice:v}}if("repo_transfer"===t){var Q=n.transfer_from_user_avatar_url,y=n.transfer_from_user_name,w=n.repo_name,N=Y.siteRoot+"library/"+n.repo_id+"/"+w+"/",B=(0,Y.gettext)("{user} has transfered a library named {repo_link} to you."),b="<a href="+N+">"+w+"</a>";return B=B.replace("{user}",y),B=B.replace("{repo_link}",b),{avatar_url:Q,notice:B}}if("file_uploaded"===t){var F=n.uploaded_user_avatar_url,G=n.file_name,W=Y.siteRoot+"lib/"+n.repo_id+"/file"+Z.Utils.encodePath(n.file_path),k=n.folder_name,E=Y.siteRoot+"library/"+n.repo_id+"/"+n.repo_name+Z.Utils.encodePath(n.folder_path),R="";if(n.repo_id){var _="<a href="+W+">"+G+"</a>",K="<a href="+E+">"+k+"</a>";R=(0,Y.gettext)("A file named {upload_file_link} is uploaded to {uploaded_link}."),R=R.replace("{upload_file_link}",_),R=R.replace("{uploaded_link}",K)}else R=(0,Y.gettext)("A file named {upload_file_link} is uploaded to {uploaded_link}."),R=R.replace("{upload_file_link}",G),R=R.replace("{uploaded_link}","<strong>Deleted Library</strong>");return{avatar_url:F,notice:R}}if("file_comment"===t){var O=n.author_avatar_url,x=n.author_name,I=n.file_name,A=Y.siteRoot+"lib/"+n.repo_id+"/file"+n.file_path,j=(0,Y.gettext)("File {file_link} has a new comment form user {author}."),U="<a href="+A+">"+I+"</a>";return j=j.replace("{file_link}",U),j=j.replace("{author}",x),{avatar_url:O,notice:j}}if("draft_comment"===t){var q=n.author_avatar_url,z=n.author_name,V=n.draft_id,$=Y.siteRoot+"drafts/"+V+"/",ee=(0,Y.gettext)("{draft_link} has a new comment from user {author}."),te="<a href="+$+">"+(0,Y.gettext)("Draft")+"#"+V+"</a>";return ee=ee.replace("{draft_link}",te),ee=ee.replace("{author}",z),{avatar_url:q,notice:ee}}if("draft_reviewer"===t){var ne=n.request_user_avatat_url,oe=n.request_user_name,ie=n.draft_id,re=Y.siteRoot+"drafts/"+ie+"/",ae=(0,Y.gettext)("{from_user} has sent you a request for {draft_link}."),se="<a href="+re+">"+(0,Y.gettext)("Draft")+"#"+ie+"</a>";return ae=ae.replace("{from_user}",oe),ae=ae.replace("{draft_link}",se),{avatar_url:ne,notice:ae}}return{avatar_url:null,notice:null}}},{key:"render",value:function(){var e=this.props.noticeItem,t=this.generatorNoticeInfo(),n=t.avatar_url,o=t.notice;return n||o?u.default.createElement("li",{onClick:this.onNoticeItemClick,className:e.seen?"read":"unread"},u.default.createElement("div",{className:"notice-item"},u.default.createElement("div",{className:"main-info"},u.default.createElement("img",{src:n,width:"32",height:"32",className:"avatar"}),u.default.createElement("p",{className:"brief",dangerouslySetInnerHTML:{__html:o}})),u.default.createElement("p",{className:"time"},(0,p.default)(e.time).fromNow()))):""}}]),t}(u.default.Component);h.propTypes=L,t.default=h},259:function(e,t){},29:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(2),a=n(3),s=function(){function e(){o(this,e)}return i(e,[{key:"getFiles",value:function(){return a.seafileAPI.listWikiDir(r.slug,"/").then(function(e){return e.data.dir_file_list.map(function(e){return{name:e.name,type:"dir"===e.type?"dir":"file",isExpanded:"dir"===e.type,parent_path:e.parent_dir,last_update_time:e.last_update_time,permission:e.permission,size:e.size}})})}},{key:"listRepoDir",value:function(){return a.seafileAPI.listDir(r.repoID,"/",{recursive:!0}).then(function(e){return e.data.dirent_list.map(function(e){return{name:e.name,type:"dir"===e.type?"dir":"file",isExpanded:"dir"===e.type,parent_path:e.parent_dir,last_update_time:e.mtime,permission:e.permission,size:e.size}})})}},{key:"createFile",value:function(e,t){return a.seafileAPI.createFile(r.repoID,e,t)}},{key:"deleteFile",value:function(e){return a.seafileAPI.deleteFile(r.repoID,e)}},{key:"renameFile",value:function(e,t){return a.seafileAPI.renameFile(r.repoID,e,t)}},{key:"createDir",value:function(e){return a.seafileAPI.createDir(r.repoID,e)}},{key:"deleteDir",value:function(e){return a.seafileAPI.deleteDir(r.repoID,e)}},{key:"renameDir",value:function(e,t){return a.seafileAPI.renameDir(r.repoID,e,t)}},{key:"getWikiFileContent",value:function(e,t){return a.seafileAPI.getWikiFileContent(e,t)}},{key:"getSource",value:function(){return a.seafileAPI.getSource()}},{key:"searchFiles",value:function(e,t){return a.seafileAPI.searchFiles(e,t)}},{key:"getAccountInfo",value:function(){return a.seafileAPI.getAccountInfo()}},{key:"getFileDownloadLink",value:function(e){return a.seafileAPI.getFileDownloadLink(r.historyRepoID,e)}},{key:"getFileContent",value:function(e){return a.seafileAPI.getFileContent(e)}},{key:"listFileHistoryRecords",value:function(e,t,n){return a.seafileAPI.listFileHistoryRecords(r.historyRepoID,e,t,n)}},{key:"revertFile",value:function(e,t){return a.seafileAPI.revertFile(r.historyRepoID,e,t)}},{key:"listDrafts",value:function(){return a.seafileAPI.listDrafts()}},{key:"deleteDraft",value:function(e){return a.seafileAPI.deleteDraft(e)}},{key:"publishDraft",value:function(e){return a.seafileAPI.publishDraft(e)}},{key:"zipDownload",value:function(e,t){return a.seafileAPI.zipDownload(r.repoID,e,t)}},{key:"queryZipProgress",value:function(e){return a.seafileAPI.queryZipProgress(e)}},{key:"cancelZipTask",value:function(e){return a.seafileAPI.cancelZipTask(e)}}]),e}(),l=new s;t.default=l},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.seafileAPI=void 0;var o=n(30),i=function(e){return e&&e.__esModule?e:{default:e}}(o),r=n(42),a=n(2),s=new r.SeafileAPI,l=i.default.load("sfcsrftoken");s.initForSeahubUsage({siteRoot:a.siteRoot,xcsrfHeaders:l}),t.seafileAPI=s},38:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t){o(this,e),this.id=t.file_tag_id,this.repo_tag_id=t.repo_tag_id,this.name=t.tag_name,this.color=t.tag_color};t.default=i},39:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(7),p=o(f),Y=n(4),Z=n(29),L=o(Z),h=n(2),S={isAdminPanel:d.default.bool},C=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getContainer=function(){return p.default.findDOMNode(n)},n.handleProps=function(){n.state.showInfo?n.addEvents():n.removeEvents()},n.addEvents=function(){["click","touchstart","keyup"].forEach(function(e){return document.addEventListener(e,n.handleDocumentClick,!0)})},n.removeEvents=function(){["click","touchstart","keyup"].forEach(function(e){return document.removeEventListener(e,n.handleDocumentClick,!0)})},n.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===Y.Utils.keyCodes.tab)){var t=n.getContainer();(!t.contains(e.target)||t===e.target||"keyup"===e.type&&e.which!==Y.Utils.keyCodes.tab)&&n.setState({showInfo:!n.state.showInfo})}},n.onClickAccount=function(){n.setState({showInfo:!n.state.showInfo})},n.getAccountInfo=function(){L.default.getAccountInfo().then(function(e){n.setState({userName:e.data.name,contactEmail:e.data.email,usageRate:e.data.space_usage,quotaUsage:Y.Utils.bytesToSize(e.data.usage),quotaTotal:Y.Utils.bytesToSize(e.data.total),isStaff:e.data.is_staff,isOrgStaff:1===e.data.is_org_staff,avatarURL:e.data.avatar_url})})},n.renderMenu=function(){return(n.state.isStaff||n.state.isOrgStaff)&&n.props.isAdminPanel?u.default.createElement("a",{href:h.siteRoot,title:(0,h.gettext)("Exit Admin Panel"),className:"item"},(0,h.gettext)("Exit Admin Panel")):n.state.isStaff?u.default.createElement("a",{href:h.siteRoot+"sys/useradmin/",title:(0,h.gettext)("System Admin"),className:"item"},(0,h.gettext)("System Admin")):n.state.isOrgStaff?u.default.createElement("a",{href:h.siteRoot+"org/useradmin/",title:(0,h.gettext)("Organization Admin"),className:"item"},(0,h.gettext)("Organization Admin")):void 0},n.renderAvatar=function(){return n.state.avatarURL?u.default.createElement("img",{src:n.state.avatarURL,width:"36",height:"36",className:"avatar",alt:(0,h.gettext)("Avatar")}):u.default.createElement("img",{src:"",width:"36",height:"36",className:"avatar",alt:(0,h.gettext)("Avatar")})},n.state={showInfo:!1,userName:"",contactEmail:"",quotaUsage:"",quotaTotal:"",isStaff:!1,isOrgStaff:!1,usageRate:"",avatarURL:""},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.getAccountInfo()}},{key:"componentDidUpdate",value:function(e){this.handleProps()}},{key:"render",value:function(){return u.default.createElement("div",{id:"account"},u.default.createElement("a",{id:"my-info",onClick:this.onClickAccount,className:"account-toggle no-deco d-none d-md-block","aria-label":"View profile and more"},u.default.createElement("span",null,u.default.createElement("img",{src:this.state.avatarURL,width:"36",height:"36",className:"avatar",alt:(0,h.gettext)("Avatar")})),u.default.createElement("span",{className:"fas fa-caret-down vam"})),u.default.createElement("span",{className:"account-toggle sf2-icon-more mobile-icon d-md-none","aria-label":"View profile and more",onClick:this.onClickAccount}),u.default.createElement("div",{id:"user-info-popup",className:"account-popup sf-popover "+(this.state.showInfo?"":"hide")},u.default.createElement("div",{className:"outer-caret up-outer-caret"},u.default.createElement("div",{className:"inner-caret"})),u.default.createElement("div",{className:"sf-popover-con"},u.default.createElement("div",{className:"item o-hidden"},this.renderAvatar(),u.default.createElement("div",{className:"txt"},this.state.userName)),u.default.createElement("div",{id:"space-traffic"},u.default.createElement("div",{className:"item"},u.default.createElement("p",null,(0,h.gettext)("Used:")," ",this.state.quotaUsage," / ",this.state.quotaTotal),u.default.createElement("div",{id:"quota-bar"},u.default.createElement("span",{id:"quota-usage",className:"usage",style:{width:this.state.usageRate}})))),u.default.createElement("a",{href:h.siteRoot+"profile/",className:"item"},(0,h.gettext)("Settings")),this.renderMenu(),u.default.createElement("a",{href:h.siteRoot+"accounts/logout/",className:"item"},(0,h.gettext)("Log out")))))}}]),t}(l.Component);C.defaultProps={isAdminPanel:!1},C.propTypes=S,t.default=C},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var o=n(2),i=n(16),r=t.Utils={keyCodes:{esc:27,space:32,tab:9,up:38,down:40},bytesToSize:function(e){if("undefined"==typeof e)return" ";if(e<0)return"--";var t=["bytes","KB","MB","GB","TB","PB"];if(0===e)return e+" "+t[0];var n=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return 0===n?e+" "+t[n]:(e/Math.pow(1e3,n)).toFixed(1)+" "+t[n]},isHiDPI:function(){return(window.devicePixelRatio?window.devicePixelRatio:1)>1},FILEEXT_ICON_MAP:{md:"txt.png",txt:"txt.png",pdf:"pdf.png",doc:"word.png",docx:"word.png",odt:"word.png",fodt:"word.png",ppt:"ppt.png",pptx:"ppt.png",odp:"ppt.png",fodp:"ppt.png",xls:"excel.png",xlsx:"excel.png",ods:"excel.png",fods:"excel.png",mp4:"video.png",ogv:"video.png",webm:"video.png",mov:"video.png",flv:"video.png",wmv:"video.png",rmvb:"video.png",mp3:"music.png",oga:"music.png",ogg:"music.png",flac:"music.png",aac:"music.png",ac3:"music.png",wma:"music.png",jpg:"pic.png",jpeg:"pic.png",png:"pic.png",svg:"pic.png",gif:"pic.png",bmp:"pic.png",ico:"pic.png",default:"file.png"},imageCheck:function(e){return-1!=e.lastIndexOf(".")&&-1!=["gif","jpeg","jpg","png","ico","bmp"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},videoCheck:function(e){return-1!=e.lastIndexOf(".")&&-1!=["mp4","ogv","webm","mov"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},encodePath:function(e){if(!e)return"";for(var t=e.split("/"),n=[],o=0,i=t.length;o<i;o++)n.push(encodeURIComponent(t[o]));return n.join("/")},HTMLescape:function(e){return document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML},generateDialogTitle:function(e,t){var n=this.HTMLescape(t),o='<span class="op-target ellipsis ellipsis-op-target" title='+n+">"+n+"</span>";return e.replace("{placeholder}",o)},getFileName:function(e){var t=e.lastIndexOf("/");return e.slice(t+1)},getPaths:function(e){for(var t=e.split("/").slice(1),n=[];t.length;)n.push("/"+t.join("/")),t.pop();return n.reverse()},getFolderName:function(e){return"/"===e?e:(e="/"!==e[e.length-1]?e:e.slice(0,e.length-2),e.slice(e.lastIndexOf("/")+1))},getDirName:function(e){var t=e.slice(0,e.lastIndexOf("/"));return""===t?"/":t},isChildPath:function(e,t){return this.getDirName(e)===t},isAncestorPath:function(e,t){return t.indexOf(e)>-1},renameAncestorPath:function(e,t,n){return e.replace(t,n)},joinPath:function(e,t){return"/"===e[e.length-1]?e+t:e+"/"+t},isSupportUploadFolder:function(){return-1!=navigator.userAgent.indexOf("Firefox")||navigator.userAgent.indexOf("Chrome")>-1},getDefaultLibIconUrl:function(e){var t=r.isHiDPI()?48:24;t=e?256:t;return o.mediaUrl+"img/lib/"+t+"/lib.png"},getLibIconUrl:function(e,t){var n=e.permission||e.share_permission,i=r.isHiDPI()?48:24;i=t?256:i;var a="lib.png";return e.encrypted&&(a="lib-encrypted.png"),"r"!==n&&"perview"!==n||(a="lib-readonly.png"),o.mediaUrl+"img/lib/"+i+"/"+a},getDirentIcon:function(e,t){var n=this.isHiDPI()?48:24;if(n=t?192:n,e.isDir()){var o=!1;return!e.permission||"r"!==e.permission&&"preview"!==e.permission||(o=!0),this.getFolderIconUrl(o,n)}return this.getFileIconUrl(e.name,n)},getFolderIconUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];return t||(t=r.isHiDPI()?48:24),t=t>24?192:24,o.mediaUrl+"img/folder"+(e?"-read-only-":"-")+t+".png"},getFileIconUrl:function(e,t){t||(t=r.isHiDPI()?48:24),t=t>24?192:24;var n="";return-1==e.lastIndexOf(".")?o.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP.default:(n=e.substr(e.lastIndexOf(".")+1).toLowerCase(),this.FILEEXT_ICON_MAP[n]?o.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP[n]:o.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP.default)},getLibIconTitle:function(e){var t,n=e.permission||e.share_permission;if(e.encrypted)t=(0,o.gettext)("Encrypted library");else if(e.is_admin)t=(0,o.gettext)("Admin access");else switch(n){case"rw":t=(0,o.gettext)("Read-Write library");break;case"r":t=(0,o.gettext)("Read-Only library");break;case"cloud-edit":t=(0,o.gettext)("Preview-Edit-on-Cloud library");break;case"preview":t=(0,o.gettext)("Preview-on-Cloud library")}return t},getFolderIconTitle:function(e){var t;switch(e.permission){case"rw":t=(0,o.gettext)("Read-Write folder");break;case"r":t=(0,o.gettext)("Read-Only folder");break;case"cloud-edit":t=(0,o.gettext)("Preview-Edit-on-Cloud folder");break;case"preview":t=(0,o.gettext)("Preview-on-Cloud folder")}return t},sharePerms:function(e){var t;switch(e){case"rw":t=(0,o.gettext)("Read-Write");break;case"r":t=(0,o.gettext)("Read-Only");break;case"admin":t=(0,o.gettext)("Admin");break;case"cloud-edit":t=(0,o.gettext)("Preview-Edit-on-Cloud");break;case"preview":t=(0,o.gettext)("Preview-on-Cloud")}return t},sharePermsExplanation:function(e){var t;switch(e){case"rw":t=(0,o.gettext)("User can read, write, upload, download and sync files.");break;case"r":t=(0,o.gettext)("User can read, download and sync files.");break;case"admin":t=(0,o.gettext)("Besides Write permission, user can also share the library.");break;case"cloud-edit":t=(0,o.gettext)("User can view and edit file online via browser. Files can't be downloaded.");break;case"preview":t=(0,o.gettext)("User can only view files online via browser. Files can't be downloaded.")}return t},formatSize:function(e){var t=e.bytes,n=e.precision||0;return t>=0&&t<1e3?t+" B":t>=1e3&&t<1e6?(t/1e3).toFixed(n)+" KB":t>=1e6&&t<1e9?(t/1e6).toFixed(n)+" MB":t>=1e9&&t<1e12?(t/1e9).toFixed(n)+" GB":t>=1e12?(t/1e12).toFixed(n)+" TB":t+" B"},formatBitRate:function(e){var t;return"number"!==typeof e?"":(t=e/8,t>=1e9?(t/1e9).toFixed(2)+" GB/s":t>=1e6?(t/1e6).toFixed(2)+" MB/s":t>=1e3?(t/1e3).toFixed(2)+" kB/s":t.toFixed(2)+" B/s")},isMarkdownFile:function(e){var t=e.lastIndexOf(".");if(-1===t)return!1;var n=e.substring(t).toLowerCase();return".md"===n||".markdown"===n},isInternalMarkdownLink:function(e,t){return new RegExp(o.serviceURL+"/lib/"+t+".*.md$").test(e)},isInternalDirLink:function(e,t){return new RegExp(o.serviceURL+"/library/"+t+".*").test(e)},getPathFromInternalMarkdownLink:function(e,t){var n=new RegExp(o.serviceURL+"/lib/"+t+"/file(.*.md)"),i=n.exec(e);return decodeURIComponent(i[1])},getPathFromInternalDirLink:function(e,t){var n=new RegExp(o.serviceURL+"/library/"+t+"(/.*)"),i=n.exec(e),r=decodeURIComponent(i[1]);return r=r.slice(1),r=r.slice(r.indexOf("/"))},isWikiInternalMarkdownLink:function(e,t){return t=encodeURIComponent(t),new RegExp(o.serviceURL+"/wikis/"+t+".*.md$").test(e)},isWikiInternalDirLink:function(e,t){return t=encodeURIComponent(t),new RegExp(o.serviceURL+"/wikis/"+t+".*").test(e)},getPathFromWikiInternalMarkdownLink:function(e,t){t=encodeURIComponent(t);var n=new RegExp(o.serviceURL+"/wikis/"+t+"(.*.md)"),i=n.exec(e),r=i[1];try{r=decodeURIComponent(r)}catch(e){r=r.replace(/%/g,"%25"),r=decodeURIComponent(r)}return r},getPathFromWikiInternalDirLink:function(e,t){t=encodeURIComponent(t);var n=new RegExp(o.serviceURL+"/wikis/"+t+"(/.*)"),i=n.exec(e),r=i[1];try{r=decodeURIComponent(r)}catch(e){r=r.replace(/%/g,"%25"),r=decodeURIComponent(r)}return r},compareTwoWord:function(e,t){var n,o,r=e.charCodeAt(0),a=t.charCodeAt(0);return 19968<r&&r<40869&&19968<a&&a<40869?(n=i.strChineseFirstPY.charAt(r-19968).toLowerCase(),o=i.strChineseFirstPY.charAt(a-19968).toLowerCase(),n>=o?1:-1):19968<r&&r<40869&&!(19968<a&&a<40869)?1:!(19968<r&&r<40869)&&19968<a&&a<40869?-1:(n=e.toLowerCase(),o=t.toLowerCase(),this.compareStrWithNumbersIn(n,o))},compareStrWithNumbersIn:function(e,t){var n,o,i,r=/\d+|\D+/g,a=/\d/,s=e.match(r),l=t.match(r),u=Math.min(s.length,l.length);if(s&&l&&(n=a.test(s[0]))==a.test(l[0]))for(var c=0;c<u;c++){if(o=s[c],i=l[c],n&&(o=parseInt(o,10),i=parseInt(i,10)),o!=i)return o<i?-1:1;n=!n}return(e>=t)-(e<=t)},sortRepos:function(e,t,n){var o=this,i=void 0;switch(t+"-"+n){case"name-asc":i=function(e,t){return e.repo_name?t.repo_name?o.compareTwoWord(e.repo_name,t.repo_name):-1:1};break;case"name-desc":i=function(e,t){return e.repo_name?t.repo_name?-o.compareTwoWord(e.repo_name,t.repo_name):1:-1};break;case"time-asc":i=function(e,t){return e.last_modified<t.last_modified?-1:1};break;case"time-desc":i=function(e,t){return e.last_modified<t.last_modified?1:-1}}return e.sort(i),e},sortDirents:function(e,t,n){var o=this,i=void 0;switch(t+"-"+n){case"name-asc":i=function(e,t){return o.compareTwoWord(e.name,t.name)};break;case"name-desc":i=function(e,t){return-o.compareTwoWord(e.name,t.name)};break;case"time-asc":i=function(e,t){return e.mtime<t.mtime?-1:1};break;case"time-desc":i=function(e,t){return e.mtime<t.mtime?1:-1}}return e.sort(function(e,t){return"dir"==e.type&&"file"==t.type?-1:"file"==e.type&&"dir"==t.type?1:i(e,t)}),e},changeMarkdownNodes:function(e,t){return e.map(function(e){t(e),e.nodes&&e.nodes.length>0&&r.changeMarkdownNodes(e.nodes,t)}),e},chooseLanguage:function(e){var t=void 0;switch(e){case"py":t="python";break;case"js":t="javascript";break;case"c":t="text/x-csrc";break;case"cpp":t="text/x-c++src";break;case"java":t="text/x-java";break;case"cs":t="text/x-csharp";break;case"mdf":t="text/x-sql";break;case"html":t="htmlmixed";break;default:t=e}return t},DARK_COLOR_MAP:{red:"#D11507",orange:"#FF8C00",yellow:"#EDEF00",green:"#006400",cyan:"#00E0E1",blue:"#2510A3",indigo:"#350C56",purple:"#551054",pink:"#E3A5B0",azure:"#C4D0D0",lime:"#00E100",teal:"#006A6B",gray:"#545454","#FFA8A8":"#E49090","#FFA94D":"#E39136","#FFD43B":"#E0B815","#A0EC50":"#83CF32","#A9E34B":"#8DC72E","#63E6BE":"#43CAA4","#4FD2C9":"#2DB9B0","#72C3FC":"#57ABE3","#91A7FF":"#7A91E7","#E599F7":"#CC82DE","#B197FC":"#9B82E5","#F783AC":"#DF6D97","#CED4DA":"#A8ADB2"},getDarkColor:function(e){return this.DARK_COLOR_MAP[e]},getCopySuccessfulMessage:function(e){var t=void 0,n=e.length;return 1===n?t=(0,o.gettext)("Successfully copied %(name)s."):2===n?t=(0,o.gettext)("Successfully copied %(name)s and 1 other item."):(t=(0,o.gettext)("Successfully copied %(name)s and %(amount)s other items."),t=t.replace("%(amount)s",n-1)),t=t.replace("%(name)s",e[0])},getMoveSuccessMessage:function(e){var t=void 0,n=e.length;return 1===n?t=(0,o.gettext)("Successfully moved %(name)s."):2===n?t=(0,o.gettext)("Successfully moved %(name)s and 1 other item."):(t=(0,o.gettext)("Successfully moved %(name)s and %(amount)s other items."),t=t.replace("%(amount)s",n-1)),t=t.replace("%(name)s",e[0])},getCopyFailedMessage:function(e){var t=void 0,n=e.length;return n>1?(t=(0,o.gettext)("Failed to copy %(name)s and %(amount)s other item(s)."),t=t.replace("%(amount)s",n-1)):t=(0,o.gettext)("Failed to copy %(name)s."),t=t.replace("%(name)s",e[0])},getMoveFailedMessage:function(e){var t=void 0,n=e.length;return n>1?(t=(0,o.gettext)("Failed to move %(name)s and %(amount)s other item(s)."),t=t.replace("%(amount)s",n-1)):t=(0,o.gettext)("Failed to move %(name)s."),t=t.replace("%(name)s",e[0])}}},408:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(4),s=n(409),l=o(s),u=n(159),c=o(u),d=n(23),f=o(d),p=function(){function e(){i(this,e)}return r(e,[{key:"expandNode",value:function(e,t){e.expandNode(t)}},{key:"collapseNode",value:function(e,t){var n=e.clone();return t=n.getNodeByPath(t.path),n.collapseNode(t),n}},{key:"findNodeByPath",value:function(e,t){return e.clone().getNodeByPath(t)}},{key:"getNodeChildrenObject",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asc",i=e.getNodeChildrenObject(t);return i=a.Utils.sortDirents(i,n,o)}},{key:"addNodeToParent",value:function(e,t,n){return e.addNodeToParentNode(t,n),e}},{key:"addNodeListToParent",value:function(e,t,n){return e.addNodeListToParent(t,n),e}},{key:"addNodeToParentByPath",value:function(e,t,n){var o=e.clone(),i=o.getNodeByPath(n);return o.addNodeToParent(t,i),o}},{key:"deleteNodeByPath",value:function(e,t){var n=e.clone(),o=n.getNodeByPath(t);return n.deleteNode(o),n}},{key:"deleteNodeListByPaths",value:function(e,t){var n=e.clone();return t.forEach(function(e){var t=n.getNodeByPath(e);n.deleteNode(t)}),n}},{key:"renameNodeByPath",value:function(e,t,n){var o=e.clone(),i=o.getNodeByPath(t);return o.renameNode(i,n),o}},{key:"updateNodeByPath",value:function(e,t,n,o){var i=e.clone(),r=i.getNodeByPath(t);return i.updateNode(r,n,o),i}},{key:"moveNodeByPath",value:function(e,t,n,o){var i=e.clone(),r=i.getNodeByPath(t),a=i.getNodeByPath(n);return a&&r&&(r.object.name=o,i.moveNode(r,a)),!a&&r&&i.deleteNode(r),i}},{key:"moveNodeListByPaths",value:function(e,t,n){var o=e.clone(),i=o.getNodeByPath(n);return i?t.forEach(function(e){var t=o.getNodeByPath(e);o.moveNode(t,i)}):t.forEach(function(e){var t=o.getNodeByPath(e);o.delete(t)}),o}},{key:"copyNodeByPath",value:function(e,t,n,o){var i=e.clone(),r=i.getNodeByPath(n),a=i.getNodeByPath(t);if(r){var s=a.clone();s.object.name=o,i.copyNode(s,r)}return i}},{key:"copyNodeListByPaths",value:function(e,t,n){var o=e.clone(),i=o.getNodeByPath(n);return i&&t.forEach(function(e){var t=o.getNodeByPath(e);o.copyNode(t,i)}),o}},{key:"buildTree",value:function(){var e=new l.default,t=new f.default({name:"/"}),n=new c.default({object:t,isLoaded:!1,isExpanded:!0});return e.setRoot(n),e}}]),e}(),Y=new p;t.default=Y},409:function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(159),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(){function e(){i(this,e),this.root=null}return r(e,[{key:"clone",value:function(){var t=new e;return this.root&&(t.root=this.root.clone()),t}},{key:"setRoot",value:function(e){this.root=e}},{key:"getNodeByPath",value:function(e){function t(t){return t.path===e&&(n=t,!0)}var n=null;return this.traverseDF(t),n}},{key:"getNodeChildrenObject",value:function(e){return e.children.map(function(e){return e.object})}},{key:"addNodeToParent",value:function(e,t){t.addChild(e)}},{key:"addNodeListToParent",value:function(e,t){e.forEach(function(e){t.addChild(e)})}},{key:"deleteNode",value:function(e){this.getNodeByPath(e.parentNode.path).deleteChild(e)}},{key:"deleteNodeList",value:function(e){var t=this;e.forEach(function(e){t.deleteNode(e)})}},{key:"renameNode",value:function(e,t){e.rename(t)}},{key:"updateNode",value:function(e,t,n){e.updateObjectParam(t,n)}},{key:"moveNode",value:function(e,t){this.deleteNode(e),t.addChild(e)}},{key:"copyNode",value:function(e,t){t.addChild(e)}},{key:"traverseDF",value:function(e){var t=[],n=!1;t.unshift(this.root);for(var i=t.shift();!n&&i;)(n=1==e(i))||(t.unshift.apply(t,o(i.children)),i=t.shift())}},{key:"traverseBF",value:function(e){var t=[],n=!1;t.push(this.root);for(var i=t.shift();!n&&i;)(n=!0===e(i))||(t.push.apply(t,o(i.children)),i=t.shift())}},{key:"expandNode",value:function(e){for(e.isExpanded=!0;e.parentNode;)e.parentNode.isExpanded=!0,e=e.parentNode}},{key:"collapseNode",value:function(e){e.isExpanded=!1}},{key:"isNodeChild",value:function(e,t){return t.children.some(function(t){return t.path===e.path})}},{key:"serializeToJson",value:function(){return this.root.serializeToJson()}},{key:"deserializefromJson",value:function(t){var n=s.default.deserializefromJson(t),o=new e;return o.setRoot(n),o}}]),e}();t.default=l},410:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(183),p=o(f),Y=n(411),Z=o(Y),L=n(252),h=o(L),S=n(133),C={repoPermission:d.default.bool,isNodeMenuShow:d.default.bool.isRequired,treeData:d.default.object.isRequired,currentPath:d.default.string.isRequired,onMenuItemClick:d.default.func,onNodeClick:d.default.func.isRequired,onNodeExpanded:d.default.func.isRequired,onNodeCollapse:d.default.func.isRequired,onItemMove:d.default.func,currentRepoInfo:d.default.object,selectedDirentList:d.default.array.isRequired},m=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onItemMove=function(e,t,o,i){n.props.onItemMove(e,t,o,i)},n.onNodeDragStart=function(e,t){var n={nodeDirent:t.object,nodeParentPath:t.parentNode.path,nodeRootPath:t.path};n=JSON.stringify(n),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("applicaiton/drag-item-info",n)},n.onNodeDragEnter=function(e,t){e.persist(),"tree-view tree "===e.target.className&&n.setState({isTreeViewDropTipShow:!0})},n.onNodeDragMove=function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},n.onNodeDragLeave=function(e,t){"tree-view tree tree-view-drop"===e.target.className&&n.setState({isTreeViewDropTipShow:!1})},n.onNodeDrop=function(e,t){if(!e.dataTransfer.files.length){var o=e.dataTransfer.getData("applicaiton/drag-item-info");o=JSON.parse(o);var i=o,r=i.nodeDirent,a=i.nodeParentPath,s=i.nodeRootPath,l=t;if(!l)return"/"===a?void n.setState({isTreeViewDropTipShow:!1}):(n.onItemMove(n.props.currentRepoInfo,r,"/",a),void n.setState({isTreeViewDropTipShow:!1}));"dir"===l.object.type&&a!==l.path&&(a===l.parentNode.path&&l.object.name===r.name||"dir"===l.object.type&&"dir"===r.type&&l.parentNode.path!==a&&-1!==l.path.indexOf(s)||n.onItemMove(n.props.currentRepoInfo,r,l.path,a))}},n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnFreezedItem=function(){n.setState({isItemFreezed:!1})},n.onMenuItemClick=function(e,t){n.props.onMenuItemClick(e,t),(0,S.hideMenu)()},n.onMouseDown=function(e){e.stopPropagation(),e.button},n.onContextMenu=function(e){n.handleContextClick(e)},n.handleContextClick=function(e,t){if(e.preventDefault(),e.stopPropagation(),n.props.isNodeMenuShow){var o=n.props.currentRepoInfo;if("cloud-edit"===o.permission||"preview"===o.permission)return"";var i=e.clientX||e.touches&&e.touches[0].pageX,r=e.clientY||e.touches&&e.touches[0].pageY;n.props.posX&&(i-=n.props.posX),n.props.posY&&(r-=n.props.posY),(0,S.hideMenu)();var a=n.getMenuList(t),s={id:"tree-node-contextmenu",position:{x:i,y:r},target:e.target,currentObject:t,menuList:a};(0,S.showMenu)(s)}},n.getMenuList=function(e){var t=p.default.NEW_FOLDER,n=p.default.NEW_FILE,o=p.default.COPY,i=p.default.MOVE,r=p.default.RENAME,a=p.default.DELETE,s=p.default.OPEN_VIA_CLIENT;return e?"dir"===e.object.type?[t,n,o,i,r,a]:[r,a,o,i,s]:[t,n]},n.onShowMenu=function(){n.onFreezedItem()},n.onHideMenu=function(){n.onUnFreezedItem()},n.state={isItemFreezed:!1,isTreeViewDropTipShow:!1},n}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"tree-view tree "+(this.state.isTreeViewDropTipShow?"tree-view-drop":""),onDrop:this.onNodeDrop,onDragEnter:this.onNodeDragEnter,onDragLeave:this.onNodeDragLeave,onMouseDown:this.onMouseDown,onContextMenu:this.onContextMenu},u.default.createElement(Z.default,{repoPermission:this.props.repoPermission,node:this.props.treeData.root,currentPath:this.props.currentPath,paddingLeft:20,isNodeMenuShow:this.props.isNodeMenuShow,isItemFreezed:this.state.isItemFreezed,onNodeClick:this.props.onNodeClick,onMenuItemClick:this.props.onMenuItemClick,onNodeExpanded:this.props.onNodeExpanded,onNodeCollapse:this.props.onNodeCollapse,onNodeDragStart:this.onNodeDragStart,onFreezedItem:this.onFreezedItem,onUnFreezedItem:this.onUnFreezedItem,onNodeDragMove:this.onNodeDragMove,onNodeDrop:this.onNodeDrop,onNodeDragEnter:this.onNodeDragEnter,onNodeDragLeave:this.onNodeDragLeave,handleContextClick:this.handleContextClick}),u.default.createElement(h.default,{id:"tree-node-contextmenu",onMenuItemClick:this.onMenuItemClick,onHideMenu:this.onHideMenu,onShowMenu:this.onShowMenu}))}}]),t}(u.default.Component);m.propTypes=C,t.default=m},411:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(412),p=o(f),Y=n(2),Z={repoPermission:d.default.bool,node:d.default.object.isRequired,currentPath:d.default.string.isRequired,paddingLeft:d.default.number.isRequired,isNodeMenuShow:d.default.bool.isRequired,isItemFreezed:d.default.bool.isRequired,onNodeClick:d.default.func.isRequired,onNodeExpanded:d.default.func.isRequired,onNodeCollapse:d.default.func.isRequired,onNodeDragStart:d.default.func.isRequired,onFreezedItem:d.default.func.isRequired,onUnFreezedItem:d.default.func.isRequired,onMenuItemClick:d.default.func,registerHandlers:d.default.func,unregisterHandlers:d.default.func,onNodeDragMove:d.default.func,onNodeDrop:d.default.func,appMenuType:d.default.oneOf(["list_view_contextmenu","item_contextmenu","tree_contextmenu","item_op_menu"]),handleContextClick:d.default.func.isRequired},L=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({isShowOperationMenu:!0,isHighlight:!0})},n.onMouseOver=function(){n.props.isItemFreezed||n.setState({isShowOperationMenu:!0,isHighlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({isShowOperationMenu:!1,isHighlight:!1})},n.onNodeClick=function(){n.props.onNodeClick(n.props.node)},n.onLoadToggle=function(e){e.stopPropagation();var t=n.props.node;t.isExpanded?n.props.onNodeCollapse(t):n.props.onNodeExpanded(t)},n.onNodeDragStart=function(e){n.props.onNodeDragStart(e,n.props.node)},n.onNodeDragEnter=function(e){"dir"===n.props.node.object.type&&n.setState({isNodeDropShow:!0}),n.props.onNodeDragEnter(e,n.props.node)},n.onNodeDragMove=function(e){n.props.onNodeDragMove(e)},n.onNodeDragLeave=function(e){n.setState({isNodeDropShow:!1}),n.props.onNodeDragLeave(e,n.props.node)},n.onNodeDrop=function(e){e.stopPropagation(),n.setState({isNodeDropShow:!1}),n.props.onNodeDrop(e,n.props.node)},n.onUnFreezedItem=function(){n.setState({isShowOperationMenu:!1}),n.props.onUnFreezedItem()},n.onMenuItemClick=function(e,t){n.props.onMenuItemClick(e,t)},n.onItemMouseDown=function(e){e.stopPropagation(),e.button},n.onItemContextMenu=function(e){n.handleContextClick(e)},n.handleContextClick=function(e){n.props.handleContextClick(e,n.props.node),n.setState({isShowOperationMenu:!1})},n.getNodeTypeAndIcon=function(){var e=n.props.node,t="",o="";if("dir"===e.object.type)t=u.default.createElement("i",{className:"far fa-folder"}),o="dir";else{var i=e.object.name.lastIndexOf(".");if(-1===i)t=u.default.createElement("i",{className:"far fa-file"}),o="file";else{var r=e.object.name.slice(i).toLowerCase();".png"===r||".jpg"===r||".jpeg"===r||".gif"===r||".bmp"===r?(t=u.default.createElement("i",{className:"far fa-image"}),o="image"):".md"===r||".markdown"===r?(t=u.default.createElement("i",{className:"far fa-file-alt"}),o="file"):(t=u.default.createElement("i",{className:"far fa-file"}),o="file")}}return{icon:t,type:o}},n.renderChildren=function(){var e=n.props,o=e.node,i=e.paddingLeft;return o.hasChildren()?u.default.createElement("div",{className:"children",style:{paddingLeft:i}},o.children.map(function(e){return u.default.createElement(t,{key:e.path,node:e,paddingLeft:i,repoPermission:n.props.repoPermission,currentPath:n.props.currentPath,isNodeMenuShow:n.props.isNodeMenuShow,isItemFreezed:n.props.isItemFreezed,onNodeClick:n.props.onNodeClick,onNodeCollapse:n.props.onNodeCollapse,onNodeExpanded:n.props.onNodeExpanded,onFreezedItem:n.props.onFreezedItem,onMenuItemClick:n.onMenuItemClick,onUnFreezedItem:n.onUnFreezedItem,onNodeChanged:n.props.onNodeChanged,registerHandlers:n.props.registerHandlers,unregisterHandlers:n.props.unregisterHandlers,onNodeDragStart:n.props.onNodeDragStart,onNodeDragMove:n.props.onNodeDragMove,onNodeDrop:n.props.onNodeDrop,onNodeDragEnter:n.props.onNodeDragEnter,onNodeDragLeave:n.props.onNodeDragLeave,appMenuType:n.props.appMenuType,handleContextClick:n.props.handleContextClick})})):""},n.state={isHighlight:!1,isShowOperationMenu:!1,isNodeDropShow:!1},n}return a(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){e.isItemFreezed||this.setState({isShowOperationMenu:!1,isHighlight:!1})}},{key:"render",value:function(){var e=this.props,t=e.currentPath,n=e.node,o=e.isNodeMenuShow,i=this.getNodeTypeAndIcon(),r=i.type,a=i.icon,s=this.state.isHighlight?"tree-node-inner-hover ":"";return n.path===t&&(s="tree-node-hight-light"),u.default.createElement("div",{className:"tree-node"},u.default.createElement("div",{type:r,className:"tree-node-inner text-nowrap "+s+" "+("/"===n.path?"hide":"")+" "+(this.state.isNodeDropShow?"tree-node-drop":""),title:n.object.name,onMouseEnter:this.onMouseEnter,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onMouseDown:this.onItemMouseDown,onContextMenu:this.onItemContextMenu,onClick:this.onNodeClick},u.default.createElement("div",{className:"tree-node-text",draggable:"true",onDragStart:this.onNodeDragStart,onDragEnter:this.onNodeDragEnter,onDragLeave:this.onNodeDragLeave,onDragOver:this.onNodeDragMove,onDrop:this.onNodeDrop},n.object.name),u.default.createElement("div",{className:"left-icon"},"dir"===r&&(!n.isLoaded||n.isLoaded&&n.hasChildren())&&u.default.createElement("i",{className:"folder-toggle-icon fa "+(n.isExpanded?"fa-caret-down":"fa-caret-right"),onMouseDown:function(e){return e.stopPropagation()},onClick:this.onLoadToggle}),u.default.createElement("i",{className:"tree-node-icon"},a)),o&&u.default.createElement("div",{className:"right-icon"},(this.props.repoPermission||Y.permission)&&this.state.isShowOperationMenu&&u.default.createElement(p.default,{node:this.props.node,onMenuItemClick:this.onMenuItemClick,onUnFreezedItem:this.onUnFreezedItem,onFreezedItem:this.props.onFreezedItem,registerHandlers:this.props.registerHandlers,unregisterHandlers:this.props.unregisterHandlers,appMenuType:this.props.appMenuType}))),n.isExpanded&&this.renderChildren())}}]),t}(u.default.Component);L.propTypes=Z,t.default=L},412:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(172),p=o(f),Y=n(5),Z=n(2),L={node:d.default.object.isRequired,onMenuItemClick:d.default.func.isRequired,onFreezedItem:d.default.func.isRequired,onUnFreezedItem:d.default.func.isRequired},h=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onShowMenu=function(){},n.onHideMenu=function(){n.state.isItemMenuShow&&(n.setState({isItemMenuShow:!1}),n.props.onUnFreezedItem())},n.translateMenuItem=function(e){var t="";switch(e){case"New Folder":t=(0,Z.gettext)("New Folder");break;case"New File":t=(0,Z.gettext)("New File");break;case"Rename":t=(0,Z.gettext)("Rename");break;case"Copy":t=(0,Z.gettext)("Copy");break;case"Move":t=(0,Z.gettext)("Move");break;case"Delete":t=(0,Z.gettext)("Delete");break;case"Open in New Tab":t=(0,Z.gettext)("Open in New Tab")}return t},n.onDropdownToggleClick=function(e){e.preventDefault(),n.toggleOperationMenu(e)},n.toggleOperationMenu=function(e){e.stopPropagation(),n.setState({isItemMenuShow:!n.state.isItemMenuShow},function(){n.state.isItemMenuShow?n.props.onFreezedItem():n.props.onUnFreezedItem()})},n.onMenuItemClick=function(e){var t=e.target.dataset.toggle,o=n.props.node;n.props.onMenuItemClick(t,o)},n.state={isItemMenuShow:!1,menuList:[]},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.caculateMenuList();this.setState({menuList:e}),this.listenerId=p.default.register(this.onShowMenu,this.onHideMenu)}},{key:"componentWillUnmount",value:function(){this.listenerId&&p.default.unregister(this.listenerId)}},{key:"caculateMenuList",value:function(){var e=this.props.node;return"dir"===e.object.type?["New Folder","New File","Copy","Move","Rename","Delete"]:["Rename","Delete","Copy","Move","Open in New Tab"]}},{key:"render",value:function(){var e=this;return u.default.createElement(Y.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},u.default.createElement(Y.DropdownToggle,{tag:"i",className:"fas fa-ellipsis-v",title:(0,Z.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),u.default.createElement(Y.DropdownMenu,null,this.state.menuList.map(function(t,n){return u.default.createElement(Y.DropdownItem,{key:n,"data-toggle":t,onClick:e.onMenuItemClick},e.translateMenuItem(t))})))}}]),t}(u.default.Component);h.propTypes=L,t.default=h},413:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=o(l),c=n(1),d=o(c),f=n(173),p=o(f),Y=n(2),Z=n(5),L=n(12),h=o(L),S=n(4),C=n(3);n(414);var m={children:d.default.object,isFileLoading:d.default.bool.isRequired,markdownContent:d.default.string.isRequired,latestContributor:d.default.string.isRequired,lastModified:d.default.string.isRequired,onLinkClick:d.default.func.isRequired,isWiki:d.default.bool,isTOCShow:d.default.bool,repoID:d.default.string,path:d.default.string},X=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onContentRendered=function(e){n.titlesInfo=e.titlesInfo},n.listRelatedFiles=function(){n.props.repoID&&n.props.path&&C.seafileAPI.listRelatedFiles(n.props.repoID,n.props.path).then(function(e){n.setState({relatedFiles:e.data.related_files})})},n.onLinkClick=function(e){e.preventDefault(),e.stopPropagation();var t="";if("A"!==e.target.tagName){for(var o=e.target.parentNode;"A"!==o.tagName;)o=o.parentNode;t=o.href}else t=e.target.href;n.props.onLinkClick(t)},n.onScrollHandler=function(){var e=n.markdownContainer.current.scrollTop+180,t=n.titlesInfo.length,o=void 0;if(e<=n.titlesInfo[0])return o=0,void n.setState({activeTitleIndex:o});if(e>n.titlesInfo[t-1])return o=n.titlesInfo.length-1,void n.setState({activeTitleIndex:o});for(var i=0;i<t;i++)if(!(e>n.titlesInfo[i])){o=i-1;break}n.setState({activeTitleIndex:o})},n.changeInlineNode=function(e){if("inline"==e.object){var t=void 0;if("image"==e.type&&Y.isPublicWiki){t=e.data.src;if(!new RegExp(Y.serviceURL+"/lib/"+Y.repoID+"/file.*raw=1").test(t))return;var n=t.indexOf("/file"),o=t.indexOf("?"),i=t.substring(n+5,o);e.data.src=Y.serviceURL+"/view-image-via-public-wiki/?slug="+Y.slug+"&path="+i}else if("link"==e.type)if(t=e.data.href,S.Utils.isInternalMarkdownLink(t,Y.repoID)){var r=S.Utils.getPathFromInternalMarkdownLink(t,Y.repoID);e.data.href=Y.serviceURL+"/wikis/"+Y.slug+r}else if(S.Utils.isInternalDirLink(t,Y.repoID)){var a=S.Utils.getPathFromInternalDirLink(t,Y.repoID);e.data.href=Y.serviceURL+"/wikis/"+Y.slug+a}}return e},n.modifyValueBeforeRender=function(e){var t=e.document.nodes,o=S.Utils.changeMarkdownNodes(t,n.changeInlineNode);return e.document.nodes=o,e},n.renderMarkdown=function(){var e=!0;return!1===n.props.isTOCShow&&(e=!1),n.props.isWiki?u.default.createElement(p.default,{showTOC:e,markdownContent:n.props.markdownContent,activeTitleIndex:n.state.activeTitleIndex,onContentRendered:n.onContentRendered,modifyValueBeforeRender:n.modifyValueBeforeRender}):u.default.createElement(p.default,{showTOC:e,markdownContent:n.props.markdownContent,activeTitleIndex:n.state.activeTitleIndex,onContentRendered:n.onContentRendered})},n.renderRelatedFiles=function(){var e=n.state.relatedFiles;return e.length>0?u.default.createElement("div",{className:"sf-releted-files",id:"sf-releted-files"},u.default.createElement("div",{className:"sf-releted-files-header"},u.default.createElement("h4",null,(0,Y.gettext)("related files"))),e.map(function(e,t){var n=Y.siteRoot+"lib/"+e.repo_id+"/file"+S.Utils.encodePath(e.path);return u.default.createElement("div",{className:"sf-releted-file",key:t},u.default.createElement("a",{href:n,target:"_blank"},u.default.createElement(Z.Card,{body:!0,size:"sm"},u.default.createElement(Z.CardTitle,null,e.name),u.default.createElement(Z.CardText,null,e.repo_name),u.default.createElement("span",{className:"sf-releted-file-arrow"}))))})):null},n.state={activeTitleIndex:0,relatedFiles:[]},n.markdownContainer=u.default.createRef(),n.links=[],n.titlesInfo=[],n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.links=document.querySelectorAll(".wiki-page-content a"),this.links.forEach(function(t){t.addEventListener("click",e.onLinkClick)}),this.listRelatedFiles()}},{key:"componentWillReceiveProps",value:function(){var e=this;this.links.forEach(function(t){t.removeEventListener("click",e.onLinkClick)}),this.listRelatedFiles()}},{key:"componentDidUpdate",value:function(){var e=this;this.links=document.querySelectorAll(".wiki-page-content a"),this.links.forEach(function(t){t.addEventListener("click",e.onLinkClick)})}},{key:"componentWillUnmount",value:function(){var e=this;this.links.forEach(function(t){t.removeEventListener("click",e.onLinkClick)})}},{key:"render",value:function(){return this.props.isFileLoading?u.default.createElement(h.default,null):u.default.createElement("div",{ref:this.markdownContainer,className:"wiki-page-container",onScroll:this.onScrollHandler.bind(this)},u.default.createElement("div",{className:"wiki-page-content"},this.props.children,this.renderMarkdown(),this.props.isWiki&&this.renderRelatedFiles(),u.default.createElement("p",{id:"wiki-page-last-modified"},(0,Y.gettext)("Last modified by")," ",this.props.latestContributor,", ",u.default.createElement("span",null,this.props.lastModified))))}}]),t}(u.default.Component),J={isWiki:!1};X.propTypes=m,p.default.defaultProps=J,t.default=X},414:function(e,t){},698:function(e,t){},699:function(e,t){}},[1418]);