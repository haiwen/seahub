webpackJsonp([8],{10:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(7),d=r(c),f=n(1),p=r(f),m={children:p.default.object.isRequired},g=document.getElementById("modal-wrapper"),h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.el=document.createElement("div"),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){g.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){g.removeChild(this.el)}},{key:"render",value:function(){return d.default.createPortal(this.props.children,this.el)}}]),t}(u.default.Component);h.propTypes=m,t.default=h},115:function(e,t){},116:function(e,t){},117:function(e,t){},118:function(e,t){},13:function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(40).enable(),window.Promise=n(41)),n(35),Object.assign=n(24)},134:function(e,t){},1570:function(e,t,n){n(13),e.exports=n(1571)},1571:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(7),d=r(c),f=n(69),p=n(2),m=n(1572),g=r(m),h=n(1573),Y=r(h),Z=n(1574),S=r(Z),L=n(1575),C=r(L),X=n(1579),D=r(X),J=n(1582),b=r(J),w=n(1584),v=r(w),M=n(1586),T=r(M),y=n(1587),P=r(y),E=n(1588),Q=r(E),H=n(954),_=r(H),N=n(1592),F=r(N),B=n(1597),G=r(B),O=n(1598),R=r(O),W=n(1600),K=r(W),x=n(1603),I=r(x);n(115),n(116),n(117),n(118),n(134);var A=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onCloseSidePanel=function(){n.setState({isSidePanelClosed:!n.state.isSidePanelClosed})},n.tabItemClick=function(e){n.setState({currentTab:e})},n.toggleAddOrgUser=function(){n.setState({isShowAddOrgUserDialog:!n.state.isShowAddOrgUserDialog})},n.toggleAddOrgAdmin=function(){n.setState({isShowAddOrgAdminDialog:!n.state.isShowAddOrgAdminDialog})},n.toggleInviteUserDialog=function(){n.setState({isInviteUserDialogOpen:!n.state.isInviteUserDialogOpen})},n.state={isSidePanelClosed:!1,isShowAddOrgUserDialog:!1,isShowAddOrgAdminDialog:!1,isInviteUserDialogOpen:!1,currentTab:"users"},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/"),t=e[e.length-2];"useradmin"==t&&(t="users"),t>0&&(t="departmentadmin"),this.setState({currentTab:t})}},{key:"render",value:function(){var e=this.state,t=e.isSidePanelClosed,n=e.currentTab,r=e.isShowAddOrgUserDialog,a=e.isShowAddOrgAdminDialog,o=e.isInviteUserDialogOpen,i=window.location.href,l="groups/";return i.indexOf("org/departmentadmin/groups/")>0&&(l=i.slice(i.indexOf("groups/"))),u.default.createElement("div",{id:"main"},u.default.createElement(g.default,{isSidePanelClosed:t,onCloseSidePanel:this.onCloseSidePanel,currentTab:n,tabItemClick:this.tabItemClick}),u.default.createElement(Y.default,{currentTab:n,toggleAddOrgAdmin:this.toggleAddOrgAdmin,toggleAddOrgUser:this.toggleAddOrgUser,toggleInviteUserDialog:this.toggleInviteUserDialog},u.default.createElement(f.Router,{className:"reach-router"},u.default.createElement(T.default,{path:p.siteRoot+"org/orgmanage"}),u.default.createElement(S.default,{path:p.siteRoot+"org/useradmin",currentTab:n,tabItemClick:this.tabItemClick,toggleAddOrgAdmin:this.toggleAddOrgAdmin,toggleAddOrgUser:this.toggleAddOrgUser},u.default.createElement(C.default,{path:"/",currentTab:n,isShowAddOrgUserDialog:r,isInviteUserDialogOpen:o,toggleAddOrgUser:this.toggleAddOrgUser,toggleInviteUserDialog:this.toggleInviteUserDialog}),u.default.createElement(D.default,{path:"admins",currentTab:n,isShowAddOrgAdminDialog:a,toggleAddOrgAdmin:this.toggleAddOrgAdmin})),u.default.createElement(b.default,{path:p.siteRoot+"org/groupadmin"}),u.default.createElement(v.default,{path:p.siteRoot+"org/repoadmin"}),u.default.createElement(P.default,{path:p.siteRoot+"org/publinkadmin"}),u.default.createElement(Q.default,{path:p.siteRoot+"org/departmentadmin"},u.default.createElement(_.default,{path:"/"}),u.default.createElement(F.default,{path:l})),u.default.createElement(G.default,{path:p.siteRoot+"org/logadmin",currentTab:n,tabItemClick:this.tabItemClick},u.default.createElement(R.default,{path:"/",currentTab:n}),u.default.createElement(K.default,{path:p.siteRoot+"file-update",currentTab:n}),u.default.createElement(I.default,{path:p.siteRoot+"perm-audit",currentTab:n})))))}}]),t}(u.default.Component);d.default.render(u.default.createElement(A,null),document.getElementById("wrapper"))},1572:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(69),p=n(182),m=r(p),g=n(2),h={isSidePanelClosed:d.default.bool.isRequired,onCloseSidePanel:d.default.func.isRequired,currentTab:d.default.string.isRequired,tabItemClick:d.default.func.isRequired},Y=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.getActiveClass=function(e){return r.props.currentTab==e?"active":""},r.tabItemClick=function(e){r.props.tabItemClick(e)},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"side-panel "+(this.props.isSidePanelClosed?"":"left-zero")},u.default.createElement("div",{className:"side-panel-north"},u.default.createElement(m.default,{onCloseSidePanel:this.props.onCloseSidePanel})),u.default.createElement("div",{className:"side-panel-center"},u.default.createElement("div",{className:"side-nav"},u.default.createElement("div",{className:"side-nav-con"},u.default.createElement("h3",{className:"sf-heading",style:{color:"#f7941d"}},(0,g.gettext)("Admin")),u.default.createElement("ul",{className:"nav nav-pills flex-column nav-container"},u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("orgmanage"),to:g.siteRoot+"org/orgmanage/",onClick:function(){return e.tabItemClick("orgmanage")}},u.default.createElement("span",{className:"sf2-icon-info"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Info")))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("repoadmin"),to:g.siteRoot+"org/repoadmin/",onClick:function(){return e.tabItemClick("repoadmin")}},u.default.createElement("span",{className:"sf2-icon-library"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Libraries")))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+(this.getActiveClass("users")||this.getActiveClass("admins")),to:g.siteRoot+"org/useradmin/",onClick:function(){return e.tabItemClick("users")}},u.default.createElement("span",{className:"sf2-icon-user"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Users")))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("groupadmin"),to:g.siteRoot+"org/groupadmin/",onClick:function(){return e.tabItemClick("groupadmin")}},u.default.createElement("span",{className:"sf2-icon-group"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Groups")))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("departmentadmin"),to:g.siteRoot+"org/departmentadmin/",onClick:function(){return e.tabItemClick("departmentadmin")}},u.default.createElement("span",{className:"sf2-icon-organization"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Departments")))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+this.getActiveClass("publinkadmin"),to:g.siteRoot+"org/publinkadmin/",onClick:function(){return e.tabItemClick("publinkadmin")}},u.default.createElement("span",{className:"sf2-icon-link"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Links")))),u.default.createElement("li",{className:"nav-item"},u.default.createElement(f.Link,{className:"nav-link ellipsis "+(this.getActiveClass("logadmin")||this.getActiveClass("file-update")||this.getActiveClass("perm-audit")),to:g.siteRoot+"org/logadmin/",onClick:function(){return e.tabItemClick("logadmin")}},u.default.createElement("span",{className:"sf2-icon-clock"}),u.default.createElement("span",{className:"nav-text"},(0,g.gettext)("Logs")))))))))}}]),t}(u.default.Component);Y.propTypes=h,t.default=Y},1573:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(39),m=r(p),g={currentTab:d.default.string.isRequired,children:d.default.object.isRequired,toggleAddOrgUser:d.default.func.isRequired,toggleAddOrgAdmin:d.default.func.isRequired,toggleInviteUserDialog:d.default.func.isRequired},h=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.toggleAddOrgUser=function(){r.props.toggleAddOrgUser()},r.toggleAddOrgAdmin=function(){r.props.toggleAddOrgAdmin()},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"main-panel o-hidden"},u.default.createElement("div",{className:"main-panel-north border-left-show"},u.default.createElement("div",{className:"cur-view-toolbar"},u.default.createElement("span",{className:"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none",title:"Side Nav Menu"}),u.default.createElement("div",{className:"operation"},"users"===this.props.currentTab&&u.default.createElement(s.Fragment,null,u.default.createElement("button",{className:"btn btn-secondary operation-item",title:(0,f.gettext)("Add user"),onClick:this.toggleAddOrgUser},u.default.createElement("i",{className:"fas fa-plus-square text-secondary mr-1"}),(0,f.gettext)("Add user")),f.invitationLink&&u.default.createElement("button",{className:"btn btn-secondary operation-item",title:(0,f.gettext)("Invite user"),onClick:this.props.toggleInviteUserDialog},u.default.createElement("i",{className:"fas fa-plus-square text-secondary mr-1"}),(0,f.gettext)("Invite user"))),"admins"===this.props.currentTab&&u.default.createElement("button",{className:"btn btn-secondary operation-item",title:(0,f.gettext)("Add admin"),onClick:this.toggleAddOrgAdmin},u.default.createElement("i",{className:"fas fa-plus-square text-secondary mr-1"}),(0,f.gettext)("Add admin")))),u.default.createElement("div",{className:"common-toolbar"},u.default.createElement(m.default,{isAdminPanel:!0}))),this.props.children)}}]),t}(s.Component);h.propTypes=g,t.default=h},1574:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n(69),c=n(2),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabItemClick=function(e){n.props.tabItemClick(e)},n}return o(t,e),i(t,[{key:"render",value:function(){var e=this;return s.default.createElement("div",{className:"main-panel-center flex-row"},s.default.createElement("div",{className:"cur-view-container"},s.default.createElement("div",{className:"cur-view-path org-user-nav"},s.default.createElement("ul",{className:"nav"},s.default.createElement("li",{className:"nav-item",onClick:function(){return e.tabItemClick("users")}},s.default.createElement(u.Link,{className:"nav-link "+("users"===this.props.currentTab?"active":""),to:c.siteRoot+"org/useradmin/",title:(0,c.gettext)("All")},(0,c.gettext)("All"))),s.default.createElement("li",{className:"nav-item",onClick:function(){return e.tabItemClick("admins")}},s.default.createElement(u.Link,{className:"nav-link "+("admins"===this.props.currentTab?"active":""),to:c.siteRoot+"org/useradmin/admins/",title:(0,c.gettext)("Admin")},(0,c.gettext)("Admin"))))),this.props.children))}}]),t}(l.Component);t.default=d},1575:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(3),m=n(952),g=r(m),h=n(8),Y=r(h),Z=n(10),S=r(Z),L=n(1576),C=r(L),X=n(1577),D=r(X),J=n(953),b=r(J),w={currentTab:d.default.string.isRequired,toggleAddOrgUser:d.default.func.isRequired,isShowAddOrgUserDialog:d.default.bool.isRequired,toggleInviteUserDialog:d.default.func.isRequired,isInviteUserDialogOpen:d.default.bool.isRequired},v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initData=function(e){p.seafileAPI.listOrgUsers(f.orgID,"",e).then(function(e){var t=e.data.user_list.map(function(e){return new g.default(e)});n.setState({orgUsers:t,pageNext:e.data.page_next,page:e.data.page})})},n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.toggleDelete=function(e){p.seafileAPI.deleteOrgUser(f.orgID,e).then(function(t){var r=n.state.orgUsers.filter(function(t){return t.email!=e});n.setState({orgUsers:r});var a=(0,f.gettext)("Successfully deleted %s");a=a.replace("%s",e),Y.default.success(a)})},n.handleSubmit=function(e,t,r){p.seafileAPI.addOrgUser(f.orgID,e,t,r).then(function(t){var r=new g.default(t.data);n.state.orgUsers.unshift(r),n.setState({orgUsers:n.state.orgUsers}),n.props.toggleAddOrgUser();var a=void 0;a=(0,f.gettext)("successfully added user %s."),a=a.replace("%s",e),Y.default.success(a)}).catch(function(e){Y.default.danger(e.response.data.error_msg),n.props.toggleAddOrgUser()})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.state.page;1==t?r+=1:r-=1,n.initData(r)},n.state={orgUsers:[],isItemFreezed:!1,page:1,pageNext:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.state.page;this.initData(e)}},{key:"render",value:function(){var e=this,t=this.state.orgUsers;return u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"30%"},(0,f.gettext)("Name")),u.default.createElement("th",{width:"15%"},(0,f.gettext)("Status")),u.default.createElement("th",{width:"15%"},(0,f.gettext)("Space Used")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("Create At / Last Login")),u.default.createElement("th",{width:"20%",className:"text-center"},(0,f.gettext)("Operations")))),u.default.createElement("tbody",null,t.map(function(t){return u.default.createElement(b.default,{key:t.id,user:t,currentTab:e.props.currentTab,isItemFreezed:e.state.isItemFreezed,toggleDelete:e.toggleDelete,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem})}))),u.default.createElement("div",{className:"paginator"},1!=this.state.page&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,f.gettext)("Previous")),1!=this.state.page&&this.state.pageNext&&u.default.createElement("span",null," | "),this.state.pageNext&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,f.gettext)("Next"))),this.props.isShowAddOrgUserDialog&&u.default.createElement(S.default,null,u.default.createElement(C.default,{toggle:this.props.toggleAddOrgUser,handleSubmit:this.handleSubmit})),this.props.isInviteUserDialogOpen&&u.default.createElement(S.default,null,u.default.createElement(D.default,{invitationLink:f.invitationLink,toggle:this.props.toggleInviteUserDialog})))}}]),t}(u.default.Component);v.propTypes=w,t.default=v},1576:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(2),m={toggle:d.default.func.isRequired,handleSubmit:d.default.func.isRequired},g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=function(){if(n.validateInputParams()){var e=n.state,t=e.email,r=e.name,a=e.password;n.setState({isAddingUser:!0}),n.props.handleSubmit(t,r,a)}},n.handleKeyPress=function(e){e.preventDefault(),"Enter"==e.key&&n.handleSubmit(e)},n.togglePasswordVisible=function(){n.setState({isPasswordVisible:!n.state.isPasswordVisible},function(){n.state.isPasswordVisible?(n.passwdInput.type="password",n.passwdNewInput.type="password"):(n.passwdInput.type="text",n.passwdNewInput.type="text")})},n.generatePassword=function(){var e=Math.random().toString(36).substr(5);n.setState({password:e,passwdnew:e,isPasswordVisible:!1},function(){n.passwdInput.type="text",n.passwdNewInput.type="text"})},n.inputEmail=function(e){var t=e.target.value.trim();n.setState({email:t})},n.inputName=function(e){var t=e.target.value.trim();n.setState({name:t})},n.inputPassword=function(e){var t=e.target.value.trim();n.setState({password:t},function(){n.state.isPasswordVisible&&(n.passwdInput.type="password",n.passwdNewInput.type="password")})},n.inputPasswordNew=function(e){var t=e.target.value.trim();n.setState({passwdnew:t},function(){n.state.isPasswordVisible&&(n.passwdInput.type="password",n.passwdNewInput.type="password")})},n.toggle=function(){n.props.toggle()},n.state={isPasswordVisible:!0,email:"",name:"",password:"",passwdnew:"",errMessage:"",isAddingUser:!1},n.passwdInput=u.default.createRef(),n.passwdNewInput=u.default.createRef(),n}return i(t,e),l(t,[{key:"validateInputParams",value:function(){var e="";if(!this.state.email.length)return e="email is required",this.setState({errMessage:e}),!1;var t=this.state.password,n=this.state.passwdnew;return t.length?n.length?t===n||(e="Passwords don't match",this.setState({errMessage:e}),!1):(e="Please enter the password again",this.setState({errMessage:e}),!1):(e="Please enter password",this.setState({errMessage:e}),!1)}},{key:"render",value:function(){var e=this;return u.default.createElement(f.Modal,{isOpen:!0},u.default.createElement(f.ModalHeader,{toggle:this.toggle},(0,p.gettext)("Add User")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"userEmail"},(0,p.gettext)("Email")),u.default.createElement(f.Input,{id:"userEmail",value:this.state.email||"",onChange:this.inputEmail})),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"userName"},(0,p.gettext)("Name(optional)")),u.default.createElement(f.Input,{id:"userName",value:this.state.name||"",onChange:this.inputName})),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"userPwd"},(0,p.gettext)("Password")),u.default.createElement(f.InputGroup,{className:"passwd"},u.default.createElement(f.Input,{id:"userPwd",innerRef:function(t){e.passwdInput=t},value:this.state.password||"",onChange:this.inputPassword}),u.default.createElement(f.InputGroupAddon,{addonType:"append"},u.default.createElement(f.Button,{onClick:this.togglePasswordVisible},u.default.createElement("i",{className:"link-operation-icon fas "+(this.state.isPasswordVisible?"fa-eye-slash":"fa-eye")})),u.default.createElement(f.Button,{onClick:this.generatePassword},u.default.createElement("i",{className:"link-operation-icon fas fa-magic"}))))),u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"userPwdNew"},(0,p.gettext)("Confirm Password")),u.default.createElement(f.Input,{id:"userPwdNew",innerRef:function(t){e.passwdNewInput=t},className:"passwd",value:this.state.passwdnew||"",onChange:this.inputPasswordNew}))),u.default.createElement(f.Label,{className:"err-message"},(0,p.gettext)(this.state.errMessage))),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",disabled:this.state.isAddingUser,onClick:this.handleSubmit,className:this.state.isAddingUser?"btn-loading":""},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);g.propTypes=m,t.default=g},1577:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(2),m=n(8),g=r(m),h=n(107),Y=r(h),Z={toggle:d.default.func.isRequired,invitationLink:d.default.string.isRequired},S=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.copyLink=function(){(0,Y.default)(n.props.invitationLink),n.props.toggle();var e=(0,p.gettext)("Internal link has been copied to clipboard");g.default.success(e)},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Invite user")),u.default.createElement(f.ModalBody,null,u.default.createElement("p",null,(0,p.gettext)("Send the invitation link to the others, and they will be able to join the organization via scanning the QR code.")),u.default.createElement("p",null,this.props.invitationLink)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.copyLink},(0,p.gettext)("Copy"))))}}]),t}(u.default.Component);S.propTypes=Z,t.default=S},1578:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(37),m=r(p),g={isTextMode:d.default.bool.isRequired,isEditIconShow:d.default.bool.isRequired,statusArray:d.default.array.isRequired,currentStatus:d.default.string.isRequired,onStatusChanged:d.default.func.isRequired},h=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.translateStatus=function(e){return"active"===e?(0,f.gettext)("Active"):"inactive"===e?(0,f.gettext)("Inactive"):void 0},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(m.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.statusArray,currentOption:this.props.currentStatus,onOptionChanged:this.props.onStatusChanged,translateOption:this.translateStatus})}}]),t}(u.default.Component);h.propTypes=g,t.default=h},1579:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(3),m=n(8),g=r(m),h=n(952),Y=r(h),Z=n(10),S=r(Z),L=n(1580),C=r(L),X=n(953),D=r(X);n(1581);var J={toggleAddOrgAdmin:d.default.func.isRequired,currentTab:d.default.string.isRequired,isShowAddOrgAdminDialog:d.default.bool.isRequired},b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.toggleDelete=function(e){p.seafileAPI.deleteOrgUser(f.orgID,e).then(function(t){n.setState({orgAdminUsers:n.state.orgAdminUsers.filter(function(t){return t.email!=e})});var r=(0,f.gettext)("Successfully deleted %s");r=r.replace("%s",e),g.default.success(r)})},n.toggleRevokeAdmin=function(e){p.seafileAPI.setOrgAdmin(f.orgID,e,!1).then(function(t){n.setState({orgAdminUsers:n.state.orgAdminUsers.filter(function(t){return t.email!=e})});var r=(0,f.gettext)("Successfully revoke the admin permission of %s");r=r.replace("%s",e),g.default.success(r)})},n.addOrgAdmin=function(e){p.seafileAPI.setOrgAdmin(f.orgID,e,!0).then(function(e){var t=new Y.default(e.data);n.state.orgAdminUsers.unshift(t),n.setState({orgAdminUsers:n.state.orgAdminUsers}),n.props.toggleAddOrgAdmin();var r=(0,f.gettext)("Successfully set %s as admin.");r=r.replace("%s",t.email),g.default.success(r)})},n.state={orgAdminUsers:[],isItemFreezed:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;p.seafileAPI.listOrgUsers(f.orgID,!0).then(function(t){var n=t.data.user_list.map(function(e){return new Y.default(e)});e.setState({orgAdminUsers:n})})}},{key:"render",value:function(){var e=this,t=this.state.orgAdminUsers;return u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"30%"},(0,f.gettext)("Name")),u.default.createElement("th",{width:"15%"},(0,f.gettext)("Status")),u.default.createElement("th",{width:"15%"},(0,f.gettext)("Space Used")),u.default.createElement("th",{width:"20%"},(0,f.gettext)("Create At / Last Login")),u.default.createElement("th",{width:"20%",className:"text-center"},(0,f.gettext)("Operations")))),u.default.createElement("tbody",null,t.map(function(t){return u.default.createElement(D.default,{key:t.id,user:t,currentTab:e.props.currentTab,isItemFreezed:e.state.isItemFreezed,toggleDelete:e.toggleDelete,toggleRevokeAdmin:e.toggleRevokeAdmin,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem})}))),this.props.isShowAddOrgAdminDialog&&u.default.createElement(S.default,null,u.default.createElement(C.default,{toggle:this.props.toggleAddOrgAdmin,addOrgAdmin:this.addOrgAdmin})))}}]),t}(u.default.Component);b.propTypes=J,t.default=b},1580:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(2),m=n(31),g=r(m),h={toggle:d.default.func.isRequired,addOrgAdmin:d.default.func.isRequired},Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e}),n.options=[]},n.addOrgAdmin=function(){if(n.state.selectedOption){var e=n.state.selectedOption.email;n.props.addOrgAdmin(e)}},n.toggle=function(){n.props.toggle()},n.state={selectedOption:null},n.options=[],n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0},u.default.createElement(f.ModalHeader,null,(0,p.gettext)("Add Admins")),u.default.createElement(f.ModalBody,null,u.default.createElement(g.default,{ref:"userSelect",isMulti:!1,className:"reviewer-select",placeholder:(0,p.gettext)("Select a user as admin..."),onSelectChange:this.handleSelectChange})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.toggle},(0,p.gettext)("Close")),u.default.createElement(f.Button,{color:"primary",onClick:this.addOrgAdmin},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);Y.propTypes=h,t.default=Y},1581:function(e,t){},1582:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(5),d=n(1583),f=r(d),p=n(8),m=r(p),g=n(3),h=n(2),Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initData=function(e){g.seafileAPI.listOrgGroups(h.orgID,e).then(function(e){var t=e.data.groups.map(function(e){return new f.default(e)});n.setState({orgGroups:t,pageNext:e.data.page_next,page:e.data.page})})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.state.page;1==t?r+=1:r-=1,n.initData(r)},n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.deleteGroupItem=function(e){g.seafileAPI.deleteOrgGroup(h.orgID,e.id).then(function(t){n.setState({orgGroups:n.state.orgGroups.filter(function(t){return t.id!=e.id})});var r=(0,h.gettext)("Successfully deleted {name}");r=r.replace("{name}",e.groupName),m.default.success(r)})},n.state={page:1,pageNext:!1,orgGroups:[],isItemFreezed:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.state.page;this.initData(e)}},{key:"render",value:function(){var e=this,t=this.state.orgGroups;return u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,h.gettext)("All Groups"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"30%"},(0,h.gettext)("Name")),u.default.createElement("th",{width:"35%"},(0,h.gettext)("Creator")),u.default.createElement("th",{width:"23%"},(0,h.gettext)("Created At")),u.default.createElement("th",{width:"12%",className:"text-center"},(0,h.gettext)("Operations")))),u.default.createElement("tbody",null,t.map(function(t){return u.default.createElement(Z,{key:t.id,group:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteGroupItem:e.deleteGroupItem})}))),u.default.createElement("div",{className:"paginator"},1!=this.state.page&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,h.gettext)("Previous")),1!=this.state.page&&this.state.pageNext&&u.default.createElement("span",null," | "),this.state.pageNext&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,h.gettext)("Next"))))))}}]),t}(s.Component),Z=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.onDropdownToggleClick=function(e){e.preventDefault(),n.toggleOperationMenu(e)},n.toggleOperationMenu=function(e){e.stopPropagation(),n.setState({isItemMenuShow:!n.state.isItemMenuShow},function(){n.state.isItemMenuShow?n.props.onFreezedItem():(n.setState({highlight:!1,showMenu:!1}),n.props.onUnfreezedItem())})},n.toggleDelete=function(){n.props.deleteGroupItem(n.props.group)},n.renderGroupHref=function(e){return"system admin"==e.creatorName?h.siteRoot+"org/departmentadmin/groups/"+e.id+"/":h.siteRoot+"org/groupadmin/"+e.id+"/"},n.renderGroupCreator=function(e){var t=h.siteRoot+"org/useradmin/info/"+e.creatorEmail+"/";return"system admin"==e.creatorName?u.default.createElement("td",null," -- "):u.default.createElement("td",null,u.default.createElement("a",{href:t,className:"font-weight-normal"},e.creatorName))},n.state={highlight:!1,showMenu:!1,isItemMenuShow:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.group,t="system admin"!=e.creatorName&&this.state.showMenu;return u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement("a",{href:this.renderGroupHref(e),className:"font-weight-normal"},e.groupName)),this.renderGroupCreator(e),u.default.createElement("td",null,e.ctime),u.default.createElement("td",{className:"text-center cursor-pointer"},t&&u.default.createElement(c.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},u.default.createElement(c.DropdownToggle,{tag:"a",className:"attr-action-icon fas fa-ellipsis-v",title:(0,h.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),u.default.createElement(c.DropdownMenu,null,u.default.createElement(c.DropdownItem,{onClick:this.toggleDelete},(0,h.gettext)("Delete"))))))}}]),t}(u.default.Component);t.default=Y},1583:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(6),i=function(e){return e&&e.__esModule?e:{default:e}}(o);i.default.locale(a.lang);var l=function e(t){r(this,e),this.id=t.id,this.groupName=t.group_name,this.creatorName=t.creator_name,this.creatorEmail=t.creator_email,this.creatorContactEmail=t.creator_contact_email,this.ctime=(0,i.default)(t.ctime).format("YYYY-MM-DD HH:mm:ss")};t.default=l},1584:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(1585),m=r(p),g=n(8),h=r(g),Y=n(757),Z=r(Y),S=n(10),L=r(S),C=n(3),X=n(2),D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initData=function(e){C.seafileAPI.listOrgRepos(X.orgID,e).then(function(e){var t=e.data.repo_list.map(function(e){return new m.default(e)});n.setState({orgRepos:t,pageNext:e.data.page_next,page:e.data.page})})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.state.page;1==t?r+=1:r-=1,n.initData(r)},n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.deleteRepoItem=function(e){C.seafileAPI.deleteOrgRepo(X.orgID,e.repoID).then(function(t){n.setState({orgRepos:n.state.orgRepos.filter(function(t){return t.repoID!=e.repoID})});var r=(0,X.gettext)("Successfully deleted {name}");r=r.replace("{name}",e.repoName),h.default.success(r)})},n.transferRepoItem=function(e,t){n.setState({orgRepos:n.state.orgRepos.map(function(n){return n.repoID==e&&(n.ownerEmail=t.email,n.ownerName=t.value),n})})},n.state={page:1,pageNext:!1,orgRepos:[],isItemFreezed:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.state.page;this.initData(e)}},{key:"render",value:function(){var e=this,t=this.state.orgRepos;return u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,X.gettext)("All Libraries"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"4%"}),u.default.createElement("th",{width:"31%"},(0,X.gettext)("Name")),u.default.createElement("th",{width:"26%"},"ID"),u.default.createElement("th",{width:"24%"},(0,X.gettext)("Owner")),u.default.createElement("th",{width:"15%",className:"text-center"},(0,X.gettext)("Operations")))),u.default.createElement("tbody",null,t.map(function(t){return u.default.createElement(b,{key:t.repoID,repo:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteRepoItem:e.deleteRepoItem,transferRepoItem:e.transferRepoItem})}))),u.default.createElement("div",{className:"paginator"},1!=this.state.page&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,X.gettext)("Previous")),1!=this.state.page&&this.state.pageNext&&u.default.createElement("span",null," | "),this.state.pageNext&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,X.gettext)("Next"))))))}}]),t}(s.Component),J={key:d.default.number.isRequired,repo:d.default.object.isRequired,isItemFreezed:d.default.boolean,onFreezedItem:d.default.func.isRequired,onUnfreezedItem:d.default.func.isRequired,deleteRepoItem:d.default.func.isRequired,transferRepoItem:d.default.func.isRequired},b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.onDropdownToggleClick=function(e){e.preventDefault(),n.toggleOperationMenu(e)},n.toggleOperationMenu=function(e){e.stopPropagation(),n.setState({isItemMenuShow:!n.state.isItemMenuShow},function(){n.state.isItemMenuShow?n.props.onFreezedItem():(n.setState({highlight:!1,showMenu:!1}),n.props.onUnfreezedItem())})},n.toggleDelete=function(){n.props.deleteRepoItem(n.props.repo)},n.toggleTransfer=function(){n.props.transferRepoItem(n.props.repo)},n.renderLibIcon=function(e){var t=void 0,n=void 0;return e.encrypted?(t=X.mediaUrl+"img/lib/48/lib-encrypted.png",n=(0,X.gettext)("Encrypted library")):(t=X.mediaUrl+"img/lib/48/lib.png",n=(0,X.gettext)("Read-Write library")),u.default.createElement("img",{src:t,title:n,alt:n,width:"24"})},n.renderRepoOwnerHref=function(e){return e.isDepartmentRepo?X.siteRoot+"org/admin/#address-book/groups/"+e.groupID+"/":X.siteRoot+"org/useradmin/info/"+e.ownerEmail+"/"},n.toggleTransfer=function(){n.setState({isTransferDialogShow:!n.state.isTransferDialogShow})},n.onTransferRepo=function(e){var t=n.props.repo;C.seafileAPI.transferOrgRepo(X.orgID,t.repoID,e.email).then(function(r){n.props.transferRepoItem(t.repoID,e);var a=(0,X.gettext)("Successfully transferred the library.");h.default.success(a)}).catch(function(e){var t=(0,X.gettext)("Failed. Please check the network.");h.default.danger(t)}),n.toggleTransfer()},n.state={highlight:!1,showMenu:!1,isItemMenuShow:!1,isTransferDialogShow:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.repo,t=this.state.showMenu&&!e.isDepartmentRepo;return u.default.createElement(s.Fragment,null,u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,this.renderLibIcon(e)),u.default.createElement("td",null,e.repoName),u.default.createElement("td",{style:{fontSize:"11px"}},e.repoID),u.default.createElement("td",null,u.default.createElement("a",{href:this.renderRepoOwnerHref(e)},e.ownerName)),u.default.createElement("td",{className:"text-center cursor-pointer"},t&&u.default.createElement(f.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},u.default.createElement(f.DropdownToggle,{tag:"a",className:"attr-action-icon fas fa-ellipsis-v",title:(0,X.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),u.default.createElement(f.DropdownMenu,null,u.default.createElement(f.DropdownItem,{onClick:this.toggleDelete},(0,X.gettext)("Delete")),u.default.createElement(f.DropdownItem,{onClick:this.toggleTransfer},(0,X.gettext)("Transfer")))))),this.state.isTransferDialogShow&&u.default.createElement(L.default,null,u.default.createElement(Z.default,{itemName:e.repoName,submit:this.onTransferRepo,toggleDialog:this.toggleTransfer})))}}]),t}(u.default.Component);b.propTypes=J,t.default=D},1585:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t){r(this,e),this.repoID=t.repo_id,this.repoName=t.repo_name,this.ownerName=t.owner_name,this.ownerEmail=t.owner_email,this.encrypted=t.encrypted,this.isDepartmentRepo=t.is_department_repo,this.groupID=t.group_id};t.default=a},1586:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n(3),c=n(2),d=n(4),f=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={storage_quota:0,storage_usage:0,member_quota:0,member_usage:0,active_members:0},n}return o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;u.seafileAPI.orgAdminGetOrgInfo().then(function(t){e.setState({storage_quota:t.data.storage_quota,storage_usage:t.data.storage_usage,member_quota:t.data.member_quota,member_usage:t.data.member_usage,active_members:t.data.active_members})})}},{key:"render",value:function(){return s.default.createElement("div",{className:"main-panel-center flex-row"},s.default.createElement("div",{className:"cur-view-container"},s.default.createElement("div",{className:"cur-view-path"},s.default.createElement("h3",{className:"sf-heading"},(0,c.gettext)("Info"))),s.default.createElement("div",{className:"cur-view-content"},s.default.createElement("dl",null,s.default.createElement("dt",null,(0,c.gettext)("Space Used")),this.state.storage_quota>0?s.default.createElement("dd",null,d.Utils.bytesToSize(this.state.storage_usage)," / ",d.Utils.bytesToSize(this.state.storage_quota)):s.default.createElement("dd",null,d.Utils.bytesToSize(this.state.storage_usage)),c.orgMemberQuotaEnabled?s.default.createElement("dt",null,(0,c.gettext)("Active Users")," / ",(0,c.gettext)("Total Users")," / ",(0,c.gettext)("Limits")):s.default.createElement("dt",null,(0,c.gettext)("Active Users")," / ",(0,c.gettext)("Total Users")),c.orgMemberQuotaEnabled?s.default.createElement("dd",null,this.state.active_members>0?this.state.active_members:"--"," / ",this.state.member_usage>0?this.state.member_usage:"--"," / ",this.state.member_quota>0?this.state.member_quota:"--"):s.default.createElement("dd",null,this.state.active_members>0?this.state.active_members:"--"," / ",this.state.member_usage>0?this.state.member_usage:"--")))))}}]),t}(l.Component);t.default=f},1587:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=r(f),m=n(3),g=n(2),h=n(5),Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.listOrgLinks=function(e){m.seafileAPI.orgAdminListOrgLinks(n.state.page).then(function(e){var t=e.data;n.setState({linkList:t.link_list,page:t.page,pageNext:t.page_next})})},n.onFreezedItem=function(){n.setState({isItemFreezed:!0})},n.onUnfreezedItem=function(){n.setState({isItemFreezed:!1})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.state.page;1==t?r+=1:r-=1,n.listOrgLinks(r)},n.deleteOrgLink=function(e){m.seafileAPI.orgAdminDeleteOrgLink(e).then(function(e){!0===e.data.success&&n.listOrgLinks(n.state.page)})},n.state={linkList:null,page:1,pageNext:!1,isItemFreezed:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.listOrgLinks(this.state.page)}},{key:"render",value:function(){var e=this,t=this.state.linkList;return u.default.createElement("div",{className:"main-panel-center flex-row"},u.default.createElement("div",{className:"cur-view-container"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},(0,g.gettext)("All Public Links"))),u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"50%"},(0,g.gettext)("Name")),u.default.createElement("th",{width:"15%"},(0,g.gettext)("Owner")),u.default.createElement("th",{width:"15%"},(0,g.gettext)("Created At")),u.default.createElement("th",{width:"10%"},(0,g.gettext)("Count")),u.default.createElement("th",{width:"10%"}))),u.default.createElement("tbody",null,t&&t.map(function(t,n){return u.default.createElement(u.default.Fragment,{key:n},u.default.createElement(S,{link:t,isItemFreezed:e.state.isItemFreezed,onFreezedItem:e.onFreezedItem,onUnfreezedItem:e.onUnfreezedItem,deleteOrgLink:e.deleteOrgLink}))}))),u.default.createElement("div",{className:"paginator"},1!=this.state.page&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,g.gettext)("Previous")),1!=this.state.page&&this.state.pageNext&&u.default.createElement("span",null," | "),this.state.pageNext&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,g.gettext)("Next"))))))}}]),t}(u.default.Component),Z={link:d.default.object.isRequired,isItemFreezed:d.default.bool.isRequired,onFreezedItem:d.default.func.isRequired,onUnfreezedItem:d.default.func.isRequired,deleteOrgLink:d.default.func.isRequired},S=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.onDropdownToggleClick=function(e){e.preventDefault(),n.toggleOperationMenu(e)},n.toggleOperationMenu=function(e){e.stopPropagation(),n.setState({isItemMenuShow:!n.state.isItemMenuShow},function(){n.state.isItemMenuShow?n.props.onFreezedItem():(n.setState({highlight:!1,showMenu:!1}),n.props.onUnfreezedItem())})},n.state={highlight:!1,showMenu:!1,isItemMenuShow:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.link,n=e.deleteOrgLink,r=g.siteRoot+"org/useradmin/info/"+encodeURIComponent(t.owner_email)+"/";return u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,t.name),u.default.createElement("td",null,u.default.createElement("a",{href:r},t.owner_name)),u.default.createElement("td",null,(0,p.default)(t.created_time).fromNow()),u.default.createElement("td",null,t.view_count),u.default.createElement("td",{className:"cursor-pointer text-center"},this.state.showMenu&&u.default.createElement(h.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},u.default.createElement(h.DropdownToggle,{tag:"a",className:"attr-action-icon fas fa-ellipsis-v",title:(0,g.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),u.default.createElement(h.DropdownMenu,null,u.default.createElement(h.DropdownItem,{onClick:n.bind(this,t.token)},(0,g.gettext)("Delete"))))))}}]),t}(u.default.Component);S.propTypes=Z,t.default=Y},1588:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1);r(c);n(785);var d=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"h-100 org-departments"},this.props.children)}}]),t}(u.default.Component);t.default=d},1589:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(2),m=n(3),g={toggle:d.default.func.isRequired,onDepartChanged:d.default.func.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=function(){if(n.validateName()){var e=-1;n.props.parentGroupID&&(e=n.props.parentGroupID),m.seafileAPI.orgAdminAddDepartGroup(p.orgID,e,n.state.departName.trim()).then(function(e){n.props.toggle(),n.props.onDepartChanged()}).catch(function(e){var t=(0,p.gettext)(e.response.data.error_msg);n.setState({errMessage:t})})}},n.validateName=function(){var e="";return!!n.state.departName.trim().length||(e=(0,p.gettext)("Name is required"),n.setState({errMessage:e}),!1)},n.handleChange=function(e){n.setState({departName:e.target.value})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.handleSubmit(),e.preventDefault())},n.state={departName:"",errMessage:""},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.parentGroupID?(0,p.gettext)("New Sub-department"):(0,p.gettext)("New Department");return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},e),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"departName"},(0,p.gettext)("Name")),u.default.createElement(f.Input,{id:"departName",onKeyPress:this.handleKeyPress,value:this.state.departName,onChange:this.handleChange}))),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);h.propTypes=g,t.default=h},1590:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(2),m=n(3),g=n(4),h={groupName:d.default.string,toggle:d.default.func.isRequired,onDepartChanged:d.default.func.isRequired},Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteDepart=function(){m.seafileAPI.orgAdminDeleteDepartGroup(p.orgID,n.props.groupID).then(function(e){e.data.success&&(n.props.onDepartChanged(),n.props.toggle())}).catch(function(e){n.setState({errMessage:"There are sub-departments in this department."})})},n.state={errMessage:null},n}return i(t,e),l(t,[{key:"render",value:function(){var e=(0,p.gettext)("Are you sure you want to delete {placeholder} ?");return e=e.replace("{placeholder}",'<span class="op-target">'+g.Utils.HTMLescape(this.props.groupName)+"</span>"),u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Delete Department")),u.default.createElement(f.ModalBody,null,u.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}}),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,!this.state.errMessage&&u.default.createElement(f.Button,{color:"primary",onClick:this.deleteDepart},(0,p.gettext)("Delete")),u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel"))))}}]),t}(u.default.Component);Y.propTypes=h,t.default=Y},1591:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(2),m=n(3),g={toggle:d.default.func.isRequired,groupID:d.default.number.isRequired,onDepartChanged:d.default.func.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setGroupQuota=function(){var e=/^[1-9]\d*$/im,t=n.state.quota;if(t.length&&e.test(t)||-2==t){n.setState({errMessage:""});var r=-2==n.state.quota?n.state.quota:1e6*n.state.quota;m.seafileAPI.orgAdminSetGroupQuota(p.orgID,n.props.groupID,r).then(function(e){n.props.toggle(),n.props.onDepartChanged()})}else{var a=(0,p.gettext)("Quota is invalid.");n.setState({errMessage:a})}},n.handleChange=function(e){var t=e.target.value.trim();n.setState({quota:t})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.setGroupQuota(),e.preventDefault())},n.state={quota:"",errMessage:""},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Set Quota")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.InputGroup,null,u.default.createElement(f.Input,{onKeyPress:this.handleKeyPress,value:this.state.quota,onChange:this.handleChange}),u.default.createElement(f.InputGroupAddon,{addonType:"append"},"MB")),u.default.createElement("p",{className:"tip"},u.default.createElement("br",null),u.default.createElement("span",null,(0,p.gettext)("An integer that is greater than 0 or equal to -2.")),u.default.createElement("br",null),u.default.createElement("span",null,(0,p.gettext)("Tip: -2 means no limit."))),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.setGroupQuota},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);h.propTypes=g,t.default=h},1592:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(3),p=n(4),m=n(2),g=n(954),h=r(g),Y=n(10),Z=r(Y),S=n(1593),L=r(S),C=n(1594),X=r(C),D=n(1595),J=r(D),b=n(1596),w=r(b),v=n(759),M=r(v);n(785);var T=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.listOrgGroupRepo=function(e){f.seafileAPI.orgAdminListDepartGroupRepos(m.orgID,e).then(function(e){n.setState({repos:e.data.libraries})})},n.listOrgMembers=function(e){f.seafileAPI.orgAdminListGroupInfo(m.orgID,e,!0).then(function(e){n.setState({members:e.data.members,groups:e.data.groups,ancestorGroups:e.data.ancestor_groups,groupName:e.data.name})})},n.showAddMemberDialog=function(){n.setState({showAddMemberDialog:!0})},n.showDeleteMemberDialog=function(e){n.setState({showDeleteMemberDialog:!0,deletedMember:e})},n.showAddRepoDialog=function(){n.setState({showAddRepoDialog:!0})},n.showDeleteRepoDialog=function(e){n.setState({showDeleteRepoDialog:!0,deletedRepo:e})},n.toggleCancel=function(){n.setState({showAddMemberDialog:!1,showDeleteMemberDialog:!1,showAddRepoDialog:!1,showDeleteRepoDialog:!1})},n.onRepoChanged=function(){n.listOrgGroupRepo(n.state.groupID)},n.onMemberChanged=function(){n.listOrgMembers(n.state.groupID)},n.toggleItemFreezed=function(e){n.setState({isItemFreezed:e})},n.state={members:[],repos:[],groups:[],ancestorGroups:[],deletedMember:{},deletedRepo:{},showAddMemberDialog:!1,showDeleteMemberDialog:!1,showAddRepoDialog:!1,showDeleteRepoDialog:!1,isItemFreezed:!1,groupID:null,groupName:""},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=window.location.href,t=e.slice(e.indexOf("groups/")),n=t.slice(7,t.length-1);this.setState({groupID:n}),this.listOrgGroupRepo(n),this.listOrgMembers(n)}},{key:"render",value:function(){var e=this,t=this.state.members,n=this.state.repos;return u.default.createElement("div",{className:"main-panel-center flex-row h-100"},u.default.createElement("div",{className:"cur-view-container o-auto"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("h3",{className:"sf-heading"},this.state.groupID?u.default.createElement("a",{href:m.serviceURL+"/org/departmentadmin/"},(0,m.gettext)("Departments")):u.default.createElement("span",null,(0,m.gettext)("Departments")),this.state.ancestorGroups.map(function(e){var t=m.serviceURL+"/org/departmentadmin/groups/"+e.id+"/";return u.default.createElement("span",{key:e.id}," / ",u.default.createElement("a",{href:t},e.name))}),this.state.groupID&&u.default.createElement("span",null," / ",this.state.groupName))),u.default.createElement("div",{className:"cur-view-subcontainer org-groups"},u.default.createElement(h.default,{groupID:this.state.groupID})),u.default.createElement("div",{className:"cur-view-subcontainer org-members"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"fleft"},u.default.createElement("h3",{className:"sf-heading"},(0,m.gettext)("Members"))),u.default.createElement("div",{className:"fright"},u.default.createElement("button",{className:"btn-white operation-item",onClick:this.showAddMemberDialog},(0,m.gettext)("Add Member")))),u.default.createElement("div",{className:"cur-view-content"},t&&1===t.length&&"Owner"===t[0].role?u.default.createElement("p",{className:"no-member"},(0,m.gettext)("No members")):u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"50%"},(0,m.gettext)("Name")),u.default.createElement("th",{width:"15%"},(0,m.gettext)("Role")),u.default.createElement("th",{width:"30%"}))),u.default.createElement("tbody",null,t.map(function(t,n){return u.default.createElement(u.default.Fragment,{key:n},u.default.createElement(y,{member:t,showAddMemberDialog:e.showAddMemberDialog,showDeleteMemberDialog:e.showDeleteMemberDialog,isItemFreezed:e.state.isItemFreezed,onMemberChanged:e.onMemberChanged,toggleItemFreezed:e.toggleItemFreezed,groupID:e.state.groupID}))}))))),u.default.createElement("div",{className:"cur-view-subcontainer org-libriries"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"fleft"},u.default.createElement("h3",{className:"sf-heading"},(0,m.gettext)("Libraries"))),u.default.createElement("div",{className:"fright"},u.default.createElement("button",{className:"btn-white operation-item",onClick:this.showAddRepoDialog},(0,m.gettext)("New Library")))),n.length>0?u.default.createElement("div",{className:"cur-view-content"},u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"5%"}),u.default.createElement("th",{width:"50%"},(0,m.gettext)("Name")),u.default.createElement("th",{width:"30%"},(0,m.gettext)("Size")),u.default.createElement("th",{width:"15%"}))),u.default.createElement("tbody",null,n.map(function(t,n){return u.default.createElement(u.default.Fragment,{key:n},u.default.createElement(E,{repo:t,showDeleteRepoDialog:e.showDeleteRepoDialog}))})))):u.default.createElement("p",{className:"no-libraty"},(0,m.gettext)("No libraries")))),u.default.createElement(u.default.Fragment,null,this.state.showDeleteMemberDialog&&u.default.createElement(Z.default,null,u.default.createElement(X.default,{toggle:this.toggleCancel,onMemberChanged:this.onMemberChanged,member:this.state.deletedMember,groupID:this.state.groupID})),this.state.showDeleteRepoDialog&&u.default.createElement(Z.default,null,u.default.createElement(w.default,{toggle:this.toggleCancel,onRepoChanged:this.onRepoChanged,repo:this.state.deletedRepo,groupID:this.state.groupID})),this.state.showAddMemberDialog&&u.default.createElement(Z.default,null,u.default.createElement(L.default,{toggle:this.toggleCancel,onMemberChanged:this.onMemberChanged,groupID:this.state.groupID})),this.state.showAddRepoDialog&&u.default.createElement(Z.default,null,u.default.createElement(J.default,{toggle:this.toggleCancel,onRepoChanged:this.onRepoChanged,groupID:this.state.groupID}))))}}]),t}(u.default.Component),y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({highlight:!1})},n.toggleMemberRoleMenu=function(){n.setState({showRoleMenu:!n.state.showRoleMenu})},n.onChangeUserRole=function(e){var t="Admin"===e;f.seafileAPI.orgAdminSetDepartGroupUserRole(m.orgID,n.props.groupID,n.props.member.email,t).then(function(e){n.props.onMemberChanged()}),n.setState({highlight:!1})},n.state={highlight:!1,showRoleMenu:!1},n.roles=["Admin","Member"],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.member,t=this.state.highlight,n=m.serviceURL+"/org/useradmin/info/"+e.email+"/";return"Owner"===e.role?null:u.default.createElement("tr",{className:t?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement("img",{src:e.avatar_url,alt:"member-header",width:"24"})),u.default.createElement("td",null,u.default.createElement("a",{href:n},e.name)),u.default.createElement("td",null,u.default.createElement(M.default,{isTextMode:!0,isEditIconShow:t,currentRole:e.role,roles:this.roles,onRoleChanged:this.onChangeUserRole,toggleItemFreezed:this.props.toggleItemFreezed})),this.props.isItemFreezed?u.default.createElement("td",null):u.default.createElement("td",{className:"cursor-pointer text-center",onClick:this.props.showDeleteMemberDialog.bind(this,e)},u.default.createElement("span",{className:"sf2-icon-delete action-icon "+(t?"":"vh"),title:"Delete"})))}}]),t}(u.default.Component),P={isItemFreezed:d.default.bool.isRequired,onMemberChanged:d.default.func.isRequired,showDeleteMemberDialog:d.default.func.isRequired,toggleItemFreezed:d.default.func.isRequired};y.propTypes=P;var E=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({highlight:!0})},n.onMouseLeave=function(){n.setState({highlight:!1})},n.state={highlight:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.repo,t=this.state.highlight,n=p.Utils.getLibIconUrl(e);return u.default.createElement("tr",{className:t?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement("img",{src:n,width:"24",alt:(0,m.gettext)("icon")})),u.default.createElement("td",null,e.name),u.default.createElement("td",null,p.Utils.bytesToSize(e.size)," "),u.default.createElement("td",{className:"cursor-pointer text-center",onClick:this.props.showDeleteRepoDialog.bind(this,e)},u.default.createElement("span",{className:"sf2-icon-delete action-icon "+(t?"":"vh"),title:"Delete"})))}}]),t}(u.default.Component),Q={repo:d.default.object.isRequired,showDeleteRepoDialog:d.default.func.isRequired};E.propTypes=Q,t.default=T},1593:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(2),m=n(3),g=n(31),h=r(g),Y={toggle:d.default.func.isRequired,onMemberChanged:d.default.func.isRequired},Z=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e}),n.Options=[]},n.handleSubmit=function(){if(n.state.selectedOption){var e=n.state.selectedOption.email;n.refs.orgSelect.clearSelect(),n.setState({errorMsg:[]}),m.seafileAPI.orgAdminAddDepartGroupUser(p.orgID,n.props.groupID,e).then(function(e){e.data.failed&&n.setState({errorMsg:e.data.failed[0]}),n.setState({selectedOption:null}),e.data.success&&(n.props.onMemberChanged(),n.props.toggle())})}},n.state={selectedOption:null,errMessage:""},n.Options=[],n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Add Member")),u.default.createElement(f.ModalBody,null,u.default.createElement(h.default,{placeholder:(0,p.gettext)("Select users..."),onSelectChange:this.handleSelectChange,ref:"orgSelect",isMulti:!1,className:"org-add-member-select"}),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit},(0,p.gettext)("Submit")),u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel"))))}}]),t}(u.default.Component);Z.propTypes=Y,t.default=Z},1594:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(2),m=n(3),g=n(4),h={member:d.default.object.isRequired,toggle:d.default.func.isRequired,onMemberChanged:d.default.func.isRequired},Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteMember=function(){var e=n.props.member.email;m.seafileAPI.orgAdminDeleteDepartGroupUser(p.orgID,n.props.groupID,e).then(function(e){e.data.success&&(n.props.onMemberChanged(),n.props.toggle())})},n}return i(t,e),l(t,[{key:"render",value:function(){var e=(0,p.gettext)("Are you sure you want to delete {placeholder} ?");return e=e.replace("{placeholder}",'<span class="op-target">'+g.Utils.HTMLescape(this.props.member.name)+"</span>"),u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Delete Member")),u.default.createElement(f.ModalBody,null,u.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.deleteMember},(0,p.gettext)("Delete")),u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel"))))}}]),t}(u.default.Component);Y.propTypes=h,t.default=Y},1595:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(2),m=n(3),g={toggle:d.default.func.isRequired,onRepoChanged:d.default.func.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=function(){n.validateName()&&m.seafileAPI.orgAdminAddDepartGroupRepo(p.orgID,n.props.groupID,n.state.repoName.trim()).then(function(e){n.props.toggle(),n.props.onRepoChanged()}).catch(function(e){var t=(0,p.gettext)(e.response.data.error_msg);n.setState({errMessage:t})})},n.validateName=function(){var e="";return!!n.state.repoName.trim().length||(e=(0,p.gettext)("Name is required"),n.setState({errMessage:e}),!1)},n.handleChange=function(e){n.setState({repoName:e.target.value})},n.handleKeyPress=function(e){"Enter"===e.key&&(n.handleSubmit(),e.preventDefault())},n.state={repoName:"",errMessage:""},n}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("New Library")),u.default.createElement(f.ModalBody,null,u.default.createElement(f.Form,null,u.default.createElement(f.FormGroup,null,u.default.createElement(f.Label,{for:"repoName"},(0,p.gettext)("Name")),u.default.createElement(f.Input,{id:"repoName",onKeyPress:this.handleKeyPress,value:this.state.repoName,onChange:this.handleChange}))),this.state.errMessage&&u.default.createElement("p",{className:"error"},this.state.errMessage)),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.handleSubmit},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);h.propTypes=g,t.default=h},1596:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(2),m=n(3),g=n(4),h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.deleteRepo=function(){m.seafileAPI.orgAdminDeleteDepartGroupRepo(p.orgID,n.props.groupID,n.props.repo.repo_id).then(function(e){e.data.success&&(n.props.onRepoChanged(),n.props.toggle())})},n}return i(t,e),l(t,[{key:"render",value:function(){var e=(0,p.gettext)("Are you sure you want to delete {placeholder} ?");return e=e.replace("{placeholder}",'<span class="op-target">'+g.Utils.HTMLescape(this.props.repo.name)+"</span>"),u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggle},u.default.createElement(f.ModalHeader,{toggle:this.props.toggle},(0,p.gettext)("Delete Library")),u.default.createElement(f.ModalBody,null,u.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"primary",onClick:this.deleteRepo},(0,p.gettext)("Delete")),u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggle},(0,p.gettext)("Cancel"))))}}]),t}(u.default.Component),Y={repo:d.default.object.isRequired,toggle:d.default.func.isRequired,onRepoChanged:d.default.func.isRequired};h.propTypes=Y,t.default=h},1597:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n(69),c=n(2),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabItemClick=function(e){n.props.tabItemClick(e)},n}return o(t,e),i(t,[{key:"render",value:function(){var e=this;return s.default.createElement("div",{className:"main-panel-center flex-row"},s.default.createElement("div",{className:"cur-view-container"},s.default.createElement("div",{className:"cur-view-path org-user-nav"},s.default.createElement("ul",{className:"nav"},s.default.createElement("li",{className:"nav-item",onClick:function(){return e.tabItemClick("logadmin")}},s.default.createElement(u.Link,{className:"nav-link "+("logadmin"===this.props.currentTab?"active":""),to:c.siteRoot+"org/logadmin/",title:(0,c.gettext)("File Access")},(0,c.gettext)("File Access"))),s.default.createElement("li",{className:"nav-item",onClick:function(){return e.tabItemClick("file-update")}},s.default.createElement(u.Link,{className:"nav-link "+("file-update"===this.props.currentTab?"active":""),to:c.siteRoot+"org/logadmin/file-update/",title:(0,c.gettext)("File Update")},(0,c.gettext)("File Update"))),s.default.createElement("li",{className:"nav-item",onClick:function(){return e.tabItemClick("perm-audit")}},s.default.createElement(u.Link,{className:"nav-link "+("perm-audit"===this.props.currentTab?"active":""),to:c.siteRoot+"org/logadmin/perm-audit/",title:(0,c.gettext)("Permission")},(0,c.gettext)("Permission"))))),this.props.children))}}]),t}(l.Component);t.default=d},1598:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(3),m=n(2),g=n(1599),h=r(g);n(786);var Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initData=function(e,t,r){p.seafileAPI.orgAdminListFileAudit(e,t,r).then(function(e){var t=e.data.log_list.map(function(e){return new h.default(e)});n.setState({eventList:t,pageNext:e.data.page_next,page:e.data.page,userSelected:e.data.user_selected,repoSelected:e.data.repo_selected})})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.state.page;1==t?r+=1:r-=1,n.initData(r)},n.filterUser=function(e){n.setState({userSelected:e})},n.filterRepo=function(e){n.setState({repoSelected:e})},n.state={page:1,pageNext:!1,eventList:[],userSelected:"",repoSelected:"",isItemFreezed:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.state.page,t=this.state.userSelected,n=this.state.repoSelected;this.initData(t,n,e)}},{key:"render",value:function(){var e=this,t=this.state.eventList;return u.default.createElement("div",{className:"cur-view-content"},(this.state.userSelected||this.state.repoSelected)&&u.default.createElement(u.default.Fragment,null,this.state.userSelected&&u.default.createElement("span",{className:"audit-unselect-item",onClick:this.filterUser.bind(this,null)},u.default.createElement("span",{className:"no-deco"},this.state.userSelected)," \u2716"),this.state.repoSelected&&u.default.createElement("span",{className:"audit-unselect-item",onClick:this.filterRepo.bind(this,null)},u.default.createElement("span",{className:"no-deco"},this.state.repoSelected)," \u2716")),u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"24%"},(0,m.gettext)("User")),u.default.createElement("th",{width:"10%"},(0,m.gettext)("Type")),u.default.createElement("th",{width:"13%"},(0,m.gettext)("IP")),u.default.createElement("th",{width:"17%"},(0,m.gettext)("Date")),u.default.createElement("th",{width:"18%"},(0,m.gettext)("Library")),u.default.createElement("th",{width:"18%"},(0,m.gettext)("File")))),u.default.createElement("tbody",null,t.map(function(t,n){return u.default.createElement(S,{key:n,fileEvent:t,isItemFreezed:e.state.isItemFreezed,filterUser:e.filterUser,filterRepo:e.filterRepo,userSelected:e.state.userSelected,repoSelected:e.state.repoSelected})}))),u.default.createElement("div",{className:"paginator"},1!=this.state.page&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,m.gettext)("Previous")),1!=this.state.page&&this.state.pageNext&&u.default.createElement("span",null," | "),this.state.pageNext&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,m.gettext)("Next"))))}}]),t}(u.default.Component),Z={filterUser:d.default.func.isRequired,filterRepo:d.default.func.isRequired,isItemFreezed:d.default.bool.isRequired},S=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.toggleUserDropdown=function(){n.setState({userDropdownOpen:!n.state.userDropdownOpen})},n.renderUser=function(e){return e.user_email?u.default.createElement("span",null,u.default.createElement("a",{href:m.siteRoot+"org/useradmin/info/"+e.user_email+"/"},e.user_name)," ",u.default.createElement(f.Dropdown,{size:"sm",isOpen:n.state.userDropdownOpen,toggle:n.toggleUserDropdown,className:n.state.highlight?"":"vh",tag:"span"},u.default.createElement(f.DropdownToggle,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),u.default.createElement(f.DropdownMenu,null,u.default.createElement(f.DropdownItem,{onClick:n.props.filterUser.bind(n,e.user_email)},(0,m.gettext)("Only Show")," ",u.default.createElement("span",{className:"font-weight-bold"},e.user_name))))):(0,m.gettext)("Anonymous User")},n.renderType=function(e){return-1!=e.indexOf("web")&&(e="web"),-1!=e.indexOf("api")&&(e="api"),-1!=e.indexOf("share-link")&&(e="share link"),e},n.toggleRepoDropdown=function(){n.setState({repoDropdownOpen:!n.state.repoDropdownOpen})},n.renderRepo=function(e){var t="Deleted";return e.repo_name&&(t=e.repo_name),u.default.createElement("span",null,u.default.createElement("span",null,t),e.repo_name&&u.default.createElement(f.Dropdown,{size:"sm",isOpen:n.state.repoDropdownOpen,toggle:n.toggleRepoDropdown,className:n.state.highlight?"":"vh"},u.default.createElement(f.DropdownToggle,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),u.default.createElement(f.DropdownMenu,null,u.default.createElement(f.DropdownItem,{size:"sm",onClick:n.props.filterRepo.bind(n,e.repo_name)},(0,m.gettext)("Only Show")," ",u.default.createElement("span",{className:"font-weight-bold"},e.repo_name)))))},n.state={highlight:!1,showMenu:!1,isItemMenuShow:!1,userDropdownOpen:!1,repoDropdownOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.fileEvent;return this.props.userSelected&&e.user_email!==this.props.userSelected?null:this.props.repoSelected&&e.repo_name!==this.props.repoSelected?null:u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,this.renderUser(e)),u.default.createElement("td",null,this.renderType(e.type)),u.default.createElement("td",null,e.ip),u.default.createElement("td",null,e.time),u.default.createElement("td",null,this.renderRepo(e)),u.default.createElement("td",null,u.default.createElement("span",{title:e.file_path},e.file_name)))}}]),t}(u.default.Component);S.propTypes=Z,t.default=Y},1599:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(6),i=function(e){return e&&e.__esModule?e:{default:e}}(o);i.default.locale(a.lang);var l=function e(t){r(this,e),this.ip=t.ip,this.type=t.type,this.device=t.device,this.repo_id=t.repo_id,this.repo_name=t.repo_name,this.file_name=t.file_name,this.file_path=t.file_path,this.user_name=t.user_name,this.user_email=t.user_email,this.user_contact_email=t.user_contact_email,this.time=(0,i.default)(t.time).format("YYYY-MM-DD HH:mm:ss")};t.default=l},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.strChineseFirstPY="YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJSDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLZYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNZMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY"},1600:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(3),m=n(2),g=n(1601),h=r(g),Y=n(10),Z=r(Y),S=n(1602),L=r(S);n(786);var C=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initData=function(e,t,r){p.seafileAPI.orgAdminListFileUpdate(e,t,r).then(function(e){var t=e.data.log_list.map(function(e){return new h.default(e)});n.setState({eventList:t,pageNext:e.data.page_next,page:e.data.page})})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.state.page;1==t?r+=1:r-=1,n.initData(r)},n.toggleCancelDetail=function(){n.setState({showDetails:!n.state.showDetails})},n.onDetails=function(e,t){e.preventDefault(),n.setState({showDetails:!n.state.showDetails,repoID:t.repo_id,commitID:t.repo_commit_id})},n.filterUser=function(e){n.setState({userSelected:e})},n.filterRepo=function(e){n.setState({repoSelected:e})},n.state={page:1,pageNext:!1,eventList:[],userSelected:"",repoSelected:"",isItemFreezed:!1,showDetails:!1,repoID:"",commitID:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.state.page,t=this.state.userSelected,n=this.state.repoSelected;this.initData(t,n,e)}},{key:"render",value:function(){var e=this,t=this.state.eventList;return u.default.createElement("div",{className:"cur-view-content"},(this.state.userSelected||this.state.repoSelected)&&u.default.createElement(u.default.Fragment,null,this.state.userSelected&&u.default.createElement("span",{className:"audit-unselect-item",onClick:this.filterUser.bind(this,null)},u.default.createElement("span",{className:"no-deco"},this.state.userSelected)," \u2716"),this.state.repoSelected&&u.default.createElement("span",{className:"audit-unselect-item",onClick:this.filterRepo.bind(this,null)},u.default.createElement("span",{className:"no-deco"},this.state.repoSelected)," \u2716")),u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"25%"},(0,m.gettext)("User")),u.default.createElement("th",{width:"17%"},(0,m.gettext)("Date")),u.default.createElement("th",{width:"25%"},(0,m.gettext)("Library")),u.default.createElement("th",{width:"33%"},(0,m.gettext)("Action")))),u.default.createElement("tbody",null,t.map(function(t,n){return u.default.createElement(D,{key:n,fileEvent:t,isItemFreezed:e.state.isItemFreezed,onDetails:e.onDetails,filterUser:e.filterUser,filterRepo:e.filterRepo,userSelected:e.state.userSelected,repoSelected:e.state.repoSelected})}))),u.default.createElement("div",{className:"paginator"},1!=this.state.page&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,m.gettext)("Previous")),1!=this.state.page&&this.state.pageNext&&u.default.createElement("span",null," | "),this.state.pageNext&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,m.gettext)("Next"))),this.state.showDetails&&u.default.createElement(Z.default,null,u.default.createElement(L.default,{repoID:this.state.repoID,commitID:this.state.commitID,toggleCancel:this.toggleCancelDetail})))}}]),t}(s.Component),X={filterUser:d.default.func.isRequired,filterRepo:d.default.func.isRequired,onDetails:d.default.func.isRequired,userSelected:d.default.string.isRequired,repoSelected:d.default.string.isRequired,isItemFreezed:d.default.bool.isRequired},D=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.toggleUserDropdown=function(){n.setState({userDropdownOpen:!n.state.userDropdownOpen})},n.renderUser=function(e){return e.user_email?u.default.createElement("span",null,u.default.createElement("a",{href:m.siteRoot+"org/useradmin/info/"+e.user_email+"/"},e.user_name)," ",u.default.createElement(f.Dropdown,{size:"sm",isOpen:n.state.userDropdownOpen,toggle:n.toggleUserDropdown,className:n.state.highlight?"":"vh",tag:"span"},u.default.createElement(f.DropdownToggle,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),u.default.createElement(f.DropdownMenu,null,u.default.createElement(f.DropdownItem,{onClick:n.props.filterUser.bind(n,e.user_email)},(0,m.gettext)("Only Show")," ",u.default.createElement("span",{className:"font-weight-bold"},e.user_name))))):(0,m.gettext)("Anonymous User")},n.toggleRepoDropdown=function(){n.setState({repoDropdownOpen:!n.state.repoDropdownOpen})},n.renderRepo=function(e){var t="Deleted";return e.repo_name&&(t=e.repo_name),u.default.createElement("span",null,u.default.createElement("span",null,t),e.repo_name&&u.default.createElement(f.Dropdown,{size:"sm",isOpen:n.state.repoDropdownOpen,toggle:n.toggleRepoDropdown,className:n.state.highlight?"":"vh"},u.default.createElement(f.DropdownToggle,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),u.default.createElement(f.DropdownMenu,null,u.default.createElement(f.DropdownItem,{size:"sm",onClick:n.props.filterRepo.bind(n,e.repo_name)},(0,m.gettext)("Only Show")," ",u.default.createElement("span",{className:"font-weight-bold"},e.repo_name)))))},n.renderAction=function(e){return e.repo_encrypted||!e.repo_id?u.default.createElement("td",null,e.description):u.default.createElement("td",null,e.description,u.default.createElement("a",{className:"font-weight-normal text-muted ml-1",href:"#",onClick:function(t){return n.props.onDetails(t,e)}},(0,m.gettext)("Details")))},n.state={highlight:!1,showMenu:!1,isItemMenuShow:!1,userDropdownOpen:!1,repoDropdownOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.fileEvent;return this.props.userSelected&&e.user_email!==this.props.userSelected?null:this.props.repoSelected&&e.repo_name!==this.props.repoSelected?null:u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,this.renderUser(e)),u.default.createElement("td",null,e.time),u.default.createElement("td",null,this.renderRepo(e)),this.renderAction(e))}}]),t}(u.default.Component);D.propTypes=X,t.default=C},1601:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(6),i=function(e){return e&&e.__esModule?e:{default:e}}(o);i.default.locale(a.lang);var l=function e(t){r(this,e),this.repo_id=t.repo_id,this.description=t.description,this.repo_name=t.repo_name,this.user_name=t.user_name,this.user_email=t.user_email,this.repo_encrypted=t.repo_encrypted,this.repo_commit_id=t.repo_commit_id,this.user_contact_email=t.user_contact_email,this.time=(0,i.default)(t.time).format("YYYY-MM-DD HH:mm:ss")};t.default=l},1602:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(3),m=n(2),g={repoID:d.default.string.isRequired,commitID:d.default.string.isRequired,toggleCancel:d.default.func.isRequired},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderContentItem=function(e){var t="";t+='<ul class="list-group list-group-flush">';for(var n=0,r=e.length;n<r;n++)t+='<li class="list-group-item">'+e[n]+"</li>";return t+="</ul>",{__html:t}},n.renderContent=function(){return n.state.newfile.length>0?u.default.createElement("div",null,u.default.createElement("h4",null,(0,m.gettext)("New files")),u.default.createElement("p",null,n.state.time),u.default.createElement("div",{dangerouslySetInnerHTML:n.renderContentItem(n.state.newfile)})):n.state.removed.length>0?u.default.createElement("div",null,u.default.createElement("h4",null,(0,m.gettext)("Deleted files")),u.default.createElement("p",null,n.state.time),u.default.createElement("div",{dangerouslySetInnerHTML:n.renderContentItem(n.state.removed)})):n.state.renamed.length>0?u.default.createElement("div",null,u.default.createElement("h4",null,(0,m.gettext)("Renamed or Moved files")),u.default.createElement("p",null,n.state.time),u.default.createElement("div",{dangerouslySetInnerHTML:n.renderContentItem(n.state.renamed)})):n.state.modified.length>0?u.default.createElement("div",null,u.default.createElement("h4",null,(0,m.gettext)("Modified files")),u.default.createElement("p",null,n.state.time),u.default.createElement("div",{dangerouslySetInnerHTML:n.renderContentItem(n.state.modified)})):n.state.newdir.length>0?u.default.createElement("div",null,u.default.createElement("h4",null,(0,m.gettext)("New directories")),u.default.createElement("p",null,n.state.time),u.default.createElement("div",{dangerouslySetInnerHTML:n.renderContentItem(n.state.newdir)})):n.state.deldir.length>0?u.default.createElement("div",null,u.default.createElement("h4",null,(0,m.gettext)("Deleted directories")),u.default.createElement("p",null,n.state.time),u.default.createElement("div",{dangerouslySetInnerHTML:n.renderContentItem(n.state.deldir)})):void 0},n.state={time:"",renamed:[],deldir:[],modified:[],newdir:[],newfile:[],removed:[]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;p.seafileAPI.orgAdminGetFileUpdateDetail(this.props.repoID,this.props.commitID).then(function(t){e.setState({time:t.data.date_time,renamed:e.state.renamed.concat(t.data.renamed),deldir:e.state.deldir.concat(t.data.deldir),modified:e.state.modified.concat(t.data.modified),newdir:e.state.newdir.concat(t.data.newdir),newfile:e.state.newfile.concat(t.data.new),removed:e.state.removed.concat(t.data.removed)})})}},{key:"render",value:function(){return u.default.createElement(f.Modal,{isOpen:!0,toggle:this.props.toggleCancel},u.default.createElement(f.ModalHeader,{toggle:this.props.toggleCancel},(0,m.gettext)("Modification Details")),u.default.createElement(f.ModalBody,null,this.renderContent()))}}]),t}(u.default.Component);h.propTypes=g,t.default=h},1603:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(4),m=n(3),g=n(2),h=n(1604),Y=r(h);n(786);var Z=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initData=function(e,t,r){m.seafileAPI.orgAdminListPermAudit(e,t,r).then(function(e){var t=e.data.log_list.map(function(e){return new Y.default(e)});n.setState({eventList:t,pageNext:e.data.page_next,page:e.data.page})})},n.onChangePageNum=function(e,t){e.preventDefault();var r=n.state.page;1==t?r+=1:r-=1,n.initData(r)},n.filterUser=function(e){n.setState({userSelected:e})},n.state={page:1,pageNext:!1,eventList:[],userSelected:"",repoSelected:"",isItemFreezed:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.state.page,t=this.state.userSelected,n=this.state.repoSelected;this.initData(t,n,e)}},{key:"render",value:function(){var e=this,t=this.state.eventList;return u.default.createElement("div",{className:"cur-view-content"},this.state.userSelected&&u.default.createElement("span",{className:"audit-unselect-item",onClick:this.filterUser.bind(this,null)},u.default.createElement("span",{className:"no-deco"},this.state.userSelected)," \u2716"),u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"18%"},(0,g.gettext)("Share From")),u.default.createElement("th",{width:"15%"},(0,g.gettext)("Share To")),u.default.createElement("th",{width:"8%"},(0,g.gettext)("Actions")),u.default.createElement("th",{width:"13%"},(0,g.gettext)("Permission")),u.default.createElement("th",{width:"15%"},(0,g.gettext)("Library")),u.default.createElement("th",{width:"15%"},(0,g.gettext)("Folder")),u.default.createElement("th",{width:"16%"},(0,g.gettext)("Date")))),u.default.createElement("tbody",null,t.map(function(t,n){return u.default.createElement(L,{key:n,permEvent:t,isItemFreezed:e.state.isItemFreezed,filterUser:e.filterUser,userSelected:e.state.userSelected})}))),u.default.createElement("div",{className:"paginator"},1!=this.state.page&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,-1)}},(0,g.gettext)("Previous")),1!=this.state.page&&this.state.pageNext&&u.default.createElement("span",null," | "),this.state.pageNext&&u.default.createElement("a",{href:"#",onClick:function(t){return e.onChangePageNum(t,1)}},(0,g.gettext)("Next"))))}}]),t}(s.Component),S={filterUser:d.default.func.isRequired,isItemFreezed:d.default.bool.isRequired,userSelected:d.default.string.isRequired},L=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.renderFromUser=function(e){return e.from_user_email?u.default.createElement("span",null,u.default.createElement("a",{href:g.siteRoot+"org/useradmin/info/"+e.from_user_email+"/"},e.from_user_name)," ",u.default.createElement(f.Dropdown,{size:"sm",isOpen:n.state.userDropdownOpen,toggle:n.toggleUserDropdown,className:n.state.highlight?"":"vh",tag:"span"},u.default.createElement(f.DropdownToggle,{tag:"i",className:"sf-dropdown-toggle sf2-icon-caret-down"}),u.default.createElement(f.DropdownMenu,null,u.default.createElement(f.DropdownItem,{onClick:n.props.filterUser.bind(n,e.from_user_email)},(0,g.gettext)("Only Show")," ",u.default.createElement("span",{className:"font-weight-bold"},e.from_user_name))))):(0,g.gettext)("Anonymous User")},n.toggleUserDropdown=function(){n.setState({userDropdownOpen:!n.state.userDropdownOpen})},n.renderToUser=function(e){return-1!=e.type.indexOf("public")?u.default.createElement("a",{href:g.siteRoot+"org/"},(0,g.gettext)("Organization")):-1!=e.type.indexOf("group")?e.to_group_name?u.default.createElement("a",{href:g.siteRoot+"org/groupadmin/"+e.to_group_id+"/"},e.to_group_name):"Deleted":-1!=e.type.indexOf("user")?u.default.createElement("a",{href:g.siteRoot+"org/useradmin/info/"+e.to_user_email+"/"},e.to_user_name):void 0},n.renderType=function(e){return-1!=e.indexOf("add")&&(e="Add"),-1!=e.indexOf("modify")&&(e="Modify"),-1!=e.indexOf("delete")&&(e="Delete"),e},n.renderRepo=function(e){var t="Deleted";return e.repo_name&&(t=e.repo_name),t},n.renderFolder=function(e){var t="/";return e&&(t=e),t},n.state={highlight:!1,showMenu:!1,isItemMenuShow:!1,userDropdownOpen:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.permEvent;return this.props.userSelected&&e.from_user_email!==this.props.userSelected?null:u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,this.renderFromUser(e)),u.default.createElement("td",null,this.renderToUser(e)),u.default.createElement("td",null,this.renderType(e.type)),u.default.createElement("td",null,p.Utils.sharePerms(e.permission)),u.default.createElement("td",null,this.renderRepo(e)),u.default.createElement("td",null,this.renderFolder(e.folder_name)),u.default.createElement("td",null,e.time))}}]),t}(u.default.Component);L.propTypes=S,t.default=Z},1604:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(6),i=function(e){return e&&e.__esModule?e:{default:e}}(o);i.default.locale(a.lang);var l=function e(t){r(this,e),this.from_user_name=t.from_user_name,this.from_user_email=t.from_user_email,this.from_user_contact_email=t.from_user_contact_email,this.to_user_email=t.to_user_email,this.to_user_name=t.to_user_name,this.to_user_contact_email=t.to_user_contact_email,this.to_group_name=t.to_group_name,this.to_group_id=t.to_group_id,this.type=t.type,this.repo_id=t.repo_id,this.repo_name=t.repo_name,this.folder_name=t.folder_name,this.folder_path=t.folder_path,this.time=(0,i.default)(t.time).format("YYYY-MM-DD HH:mm:ss"),this.permission=t.permission};t.default=l},161:function(e,t,n){"use strict";var r=function(e,t,n,r,a,o,i,l){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,o,i,l],c=0;s=new Error(t.replace(/%s/g,function(){return u[c++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}};e.exports=r},18:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),l=r(i),s=n(7),u=r(s),c=n(19),d=r(c),f="undefined"!==typeof window&&"undefined"!==typeof window.document,p=function e(){var t=this;if(a(this,e),this._bindNotify=function(e){t.notifyHandler=e},this._bindGetToasts=function(e){t.getToastsHandler=e},this._bindCloseAll=function(e){t.closeAllHandler=e},this.getToasts=function(){return t.getToastsHandler()},this.closeAll=function(){return t.closeAllHandler()},this.notify=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"none"}))},this.success=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"success"}))},this.warning=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"warning"}))},this.danger=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.notifyHandler(e,o({},n,{intent:"danger"}))},f){var n=document.createElement("div");n.setAttribute("data-evergreen-toaster-container",""),document.body.appendChild(n),u.default.render(l.default.createElement(d.default,{bindNotify:this._bindNotify,bindGetToasts:this._bindGetToasts,bindCloseAll:this._bindCloseAll}),n)}};t.default=p},182:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p={onCloseSidePanel:d.default.func.isRequired},m=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.closeSide=function(){r.props.onCloseSidePanel()},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"top-logo"},u.default.createElement("a",{href:f.siteRoot,id:"logo"},u.default.createElement("img",{src:f.mediaUrl+f.logoPath,height:f.logoHeight,width:f.logoWidth,title:f.siteTitle,alt:"logo"})),u.default.createElement("a",{className:"sf2-icon-x1 sf-popover-close side-panel-close action-icon d-md-none",onClick:this.closeSide,title:"Close","aria-label":"Close"}))}}]),t}(u.default.Component);m.propTypes=p,t.default=m},19:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(0),f=r(d),p=n(9),m=n(1),g=r(m),h=n(20),Y=r(h),Z=(0,p.css)({maxWidth:560,margin:"0 auto",top:0,left:0,right:0,position:"fixed",zIndex:999999}),S=function(e){return Object.hasOwnProperty.call(e,"id")},L=function(e){function t(e,n){i(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.getToasts=function(){return r.state.toasts},r.closeAll=function(){r.getToasts().forEach(function(e){return e.close()})},r.notify=function(e,t){if(S(t)){var n=!0,a=!1,i=void 0;try{for(var l,s=r.state.toasts[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var u=l.value;String(u.id).startsWith(t.id)&&r.closeToast(u.id)}}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}}var c=r.createToastInstance(e,t);return r.setState(function(e){return{toasts:[c].concat(o(e.toasts))}}),c},r.createToastInstance=function(e,n){var a=++t.idCounter,o=S(n)?n.id+"-"+a:a;return{id:o,title:e,description:n.description,hasCloseButton:n.hasCloseButton||!0,duration:n.duration||2,close:function(){return r.closeToast(o)},intent:n.intent}},r.closeToast=function(e){r.setState(function(t){return{toasts:t.toasts.map(function(t){return t.id===e?u({},t,{isShown:!1}):t})}})},r.removeToast=function(e){r.setState(function(t){return{toasts:t.toasts.filter(function(t){return t.id!==e})}})},e.bindNotify(r.notify),e.bindGetToasts(r.getToasts),e.bindCloseAll(r.closeAll),r.state={toasts:[]},r}return s(t,e),c(t,[{key:"render",value:function(){var e=this;return f.default.createElement("span",{className:Z},this.state.toasts.map(function(t){var n=t.id,r=t.description,o=a(t,["id","description"]);return f.default.createElement(Y.default,u({key:n,onRemove:function(){return e.removeToast(n)}},o),r)}))}}]),t}(f.default.PureComponent);L.propTypes={bindNotify:g.default.func.isRequired,bindGetToasts:g.default.func.isRequired,bindCloseAll:g.default.func.isRequired},L.idCounter=0,t.default=L},2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dirPath="/",t.gettext=window.gettext,t.siteRoot=window.app.config.siteRoot,t.loginUrl=window.app.config.loginUrl,t.avatarInfo=window.app.config.avatarInfo,t.logoPath=window.app.config.logoPath,t.mediaUrl=window.app.config.mediaUrl,t.siteTitle=window.app.config.siteTitle,t.siteName=window.app.config.siteName,t.logoWidth=window.app.config.logoWidth,t.logoHeight=window.app.config.logoHeight,t.isPro="True"===window.app.config.isPro,t.isDocs="True"===window.app.config.isDocs,t.lang=window.app.config.lang,t.fileServerRoot=window.app.config.fileServerRoot,t.seafileVersion=window.app.config.seafileVersion,t.serviceURL=window.app.config.serviceURL,t.seafileCollabServer=window.app.pageOptions.seafileCollabServer,t.name=window.app.pageOptions.name,t.contactEmail=window.app.pageOptions.contactEmail,t.username=window.app.pageOptions.username,t.canAddRepo=window.app.pageOptions.canAddRepo,t.canGenerateShareLink=window.app.pageOptions.canGenerateShareLink,t.canGenerateUploadLink=!!window.app.pageOptions.canGenerateUploadLink,t.canViewOrg="True"===window.app.pageOptions.canViewOrg,t.fileAuditEnabled=!!window.app.pageOptions.fileAuditEnabled,t.enableFileComment=!!window.app.pageOptions.enableFileComment,t.folderPermEnabled="True"===window.app.pageOptions.folderPermEnabled,t.enableResetEncryptedRepoPassword="True"===window.app.pageOptions.enableResetEncryptedRepoPassword,t.isEmailConfigured="True"===window.app.pageOptions.isEmailConfigured,t.enableUploadFolder="True"===window.app.pageOptions.enableUploadFolder,t.enableResumableFileUpload="True"===window.app.pageOptions.enableResumableFileUpload,t.storages=window.app.pageOptions.storages,t.enableRepoSnapshotLabel=window.app.pageOptions.enableRepoSnapshotLabel,t.shareLinkExpireDaysMin=window.app.pageOptions.shareLinkExpireDaysMin,t.shareLinkExpireDaysMax=window.app.pageOptions.shareLinkExpireDaysMax,t.maxFileName=window.app.pageOptions.maxFileName,t.enableWiki=window.app.pageOptions.enableWiki,t.enableEncryptedLibrary=window.app.pageOptions.enableEncryptedLibrary,t.enableRepoHistorySetting=window.app.pageOptions.enableRepoHistorySetting,t.isSystemStaff=window.app.pageOptions.isSystemStaff,t.thumbnailSizeForOriginal=window.app.pageOptions.thumbnailSizeForOriginal,t.repoPasswordMinLength=window.app.pageOptions.repoPasswordMinLength,t.canAddPublicRepo=window.app.pageOptions.canAddPublicRepo,t.curNoteMsg=window.app.pageOptions.curNoteMsg,t.curNoteID=window.app.pageOptions.curNoteID,t.slug=window.wiki?window.wiki.config.slug:"",t.repoID=window.wiki?window.wiki.config.repoId:"",t.initialPath=window.wiki?window.wiki.config.initial_path:"",t.permission=window.wiki?"True"===window.wiki.config.permission:"",t.isDir=window.wiki?window.wiki.config.isDir:"",t.serviceUrl=window.wiki?window.wiki.config.serviceUrl:"",t.isPublicWiki=window.wiki?"True"===window.wiki.config.isPublicWiki:"",t.sharedToken=window.wiki?window.wiki.config.sharedToken:"",t.sharedType=window.wiki?window.wiki.config.sharedType:"",t.PER_PAGE=25,t.historyRepoID=window.fileHistory?window.fileHistory.pageOptions.repoID:"",t.repoName=window.fileHistory?window.fileHistory.pageOptions.repoName:"",t.filePath=window.fileHistory?window.fileHistory.pageOptions.filePath:"",t.fileName=window.fileHistory?window.fileHistory.pageOptions.fileName:"",t.draftFilePath=window.draft?window.draft.config.draftFilePath:"",t.draftOriginFilePath=window.draft?window.draft.config.draftOriginFilePath:"",t.draftFileName=window.draft?window.draft.config.draftFileName:"",t.draftID=window.draft?window.draft.config.draftID:"",t.draftRepoID=window.draft?window.draft.config.draftRepoID:"",t.author=window.draft?window.draft.config.author:"",t.authorAvatar=window.draft?window.draft.config.authorAvatar:"",t.originFileExists=window.draft?window.draft.config.originFileExists:"",t.draftFileExists=window.draft?window.draft.config.draftFileExists:"",t.draftStatus=window.draft?window.draft.config.draftStatus:"",t.draftPublishVersion=window.draft?window.draft.config.draftPublishVersion:"",t.originFileVersion=window.draft?window.draft.config.originFileVersion:"",t.orgID=window.org?window.org.pageOptions.orgID:"",t.invitationLink=window.org?window.org.pageOptions.invitationLink:"",t.orgMemberQuotaEnabled=window.org?window.org.pageOptions.orgMemberQuotaEnabled:"",t.constanceEnabled=window.sysadmin?window.sysadmin.pageOptions.constance_enabled:"",t.multiTenancy=window.sysadmin?window.sysadmin.pageOptions.multi_tenancy:"",t.multiInstitution=window.sysadmin?window.sysadmin.pageOptions.multi_institution:"",t.sysadminExtraEnabled=window.sysadmin?window.sysadmin.pageOptions.sysadmin_extra_enabled:"",t.enableGuestInvitation=window.sysadmin?window.sysadmin.pageOptions.enable_guest_invitation:"",t.enableTermsAndConditions=window.sysadmin?window.sysadmin.pageOptions.enable_terms_and_conditions:"",t.isDefaultAdmin=window.sysadmin?window.sysadmin.pageOptions.is_default_admin:"",t.enableFileScan=window.sysadmin?window.sysadmin.pageOptions.enable_file_scan:"",t.canViewSystemInfo=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_system_info:"",t.canViewStatistic=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_statistic:"",t.canConfigSystem=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_config_system:"",t.canManageLibrary=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_library:"",t.canManageUser=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_user:"",t.canManageGroup=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_group:"",t.canViewUserLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_user_log:"",t.canViewAdminLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_admin_log:""},20:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(9),d=n(1),f=r(d),p=n(43),m=r(p),g=n(21),h=r(g),Y={deceleration:"cubic-bezier(0.0, 0.0, 0.2, 1)",acceleration:"cubic-bezier(0.4, 0.0, 1, 1)",spring:"cubic-bezier(0.175, 0.885, 0.320, 1.175)"},Z=c.css.keyframes("openAnimation",{from:{opacity:0,transform:"translateY(-120%)"},to:{transform:"translateY(0)"}}),S=c.css.keyframes("closeAnimation",{from:{transform:"scale(1)",opacity:1},to:{transform:"scale(0.9)",opacity:0}}),L=(0,c.css)({display:"flex",flexDirection:"column",alignItems:"center",height:0,transition:"all 240ms "+Y.deceleration,'&[data-state="entering"], &[data-state="entered"]':{animation:Z+" 240ms "+Y.spring+" both"},'&[data-state="exiting"]':{animation:S+" 120ms "+Y.acceleration+" both"}}),C=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={isShown:!0,height:0},r.close=function(){r.clearCloseTimer(),r.setState({isShown:!1})},r.startCloseTimer=function(){r.props.duration&&(r.closeTimer=setTimeout(function(){r.close()},1e3*r.props.duration))},r.clearCloseTimer=function(){r.closeTimer&&(clearTimeout(r.closeTimer),r.closeTimer=null)},r.handleMouseEnter=function(){r.clearCloseTimer()},r.handleMouseLeave=function(){r.startCloseTimer()},r.onRef=function(e){if(null!==e){var t=e.getBoundingClientRect(),n=t.height;r.setState({height:n})}},i=n,o(r,i)}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(e){e.isShown!==this.props.isShown&&this.setState({isShown:this.props.isShown})}},{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"render",value:function(){var e=this;return u.default.createElement(m.default,{appear:!0,unmountOnExit:!0,timeout:240,in:this.state.isShown,onExited:this.props.onRemove},function(t){return u.default.createElement("div",{"data-state":t,className:L,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,style:{height:e.state.height,zIndex:e.props.zIndex,marginBottom:e.state.isShown?0:-e.state.height}},u.default.createElement("div",{ref:e.onRef,style:{padding:8}},u.default.createElement(h.default,{intent:e.props.intent,title:e.props.title,children:e.props.children,isRemoveable:e.props.hasCloseButton,onRemove:function(){return e.close()}})))})}}]),t}(u.default.PureComponent);C.propTypes={zIndex:f.default.number,duration:f.default.number,onRemove:f.default.func,intent:f.default.oneOf(["none","success","warning","danger"]).isRequired,title:f.default.node,children:f.default.node,hasCloseButton:f.default.bool,isShown:f.default.bool},C.defaultProps={intent:"none"},t.default=C},21:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=n(9),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.containerStyle=(0,c.css)({borderRadius:"3px",backgroundColor:"#fff",padding:"10px 16px",display:"flex",boxSizing:"border-box",boxShadow:"rgba(67, 90, 111, 0.3) 0px 0px 1px, rgba(67, 90, 111, 0.47) 0px 8px 10px -4px",justifyContent:"space-between",flexDirection:"row"}),n.containerBorderSuccess=(0,c.css)({borderLeft:"3px solid rgb(71, 184, 129)"}),n.containerBorderWarn=(0,c.css)({borderLeft:"3px solid rgb(217, 130, 43)"}),n.containerBorderDanger=(0,c.css)({borderLeft:"3px solid rgb(236, 76, 71)"}),n.containerBorderNotify=(0,c.css)({borderLeft:"3px solid rgb(16, 112, 202)"}),n.toastTextTitle=(0,c.css)({fontWeight:"600",fontSize:"14px",color:"#435a6f",margin:"0"}),n.toastTextChild=(0,c.css)({fontSize:"14px",color:"#999",margin:"0"}),n.toastClose=(0,c.css)({marginLeft:"15px",height:"24px",width:"24px",lineHeight:"22px",fontWeight:"700",textAlign:"center",fontSize:"20px",color:"#000",cursor:"pointer",opacity:"0.5",":hover":{opacity:1}}),n.toastIcon=(0,c.css)({marginRight:"10px",width:"14px",height:"20px",lineHeight:"20px"}),n}return o(t,e),l(t,[{key:"getContainerStyle",value:function(e){switch(e){case"success":return{borderStyle:this.containerBorderSuccess,iconColor:(0,c.css)({color:"rgb(71, 184, 129)"}),iconClass:"fa fa-check-circle"};case"warning":return{borderStyle:this.containerBorderWarn,iconColor:(0,c.css)({color:"rgb(217, 130, 43)"}),iconClass:"fa fa-exclamation-triangle"};case"none":return{borderStyle:this.containerBorderNotify,iconColor:(0,c.css)({color:"rgb(16, 112, 202)"}),iconClass:"fa fa-exclamation-circle"};case"danger":return{borderStyle:this.containerBorderDanger,iconColor:(0,c.css)({color:"rgb(236, 76, 71)"}),iconClass:"fa fa-exclamation-circle"}}}},{key:"render",value:function(){var e=this.getContainerStyle(this.props.intent);return u.default.createElement("div",(0,c.css)(e.borderStyle,this.containerStyle),u.default.createElement("div",{className:this.toastIcon},u.default.createElement("i",i({className:e.iconClass},e.iconColor))),u.default.createElement("div",{className:this.toastTextContainer},u.default.createElement("p",{className:this.toastTextTitle},this.props.title),this.props.children?u.default.createElement("p",{className:this.toastTextChild},this.props.children):null),u.default.createElement("div",{onClick:this.props.onRemove,className:this.toastClose},u.default.createElement("span",null,"\xd7")))}}]),t}(u.default.PureComponent);t.default=d},263:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(0),o=r(a),i=n(264),l=r(i);t.default=o.default.createContext||l.default,e.exports=t.default},264:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function s(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}function u(e){return Array.isArray(e)?e[0]:e}function c(e,t){var n,r,c="__create-react-context-"+(0,g.default)()+"__",f=function(e){function n(){var t,r,i;a(this,n);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return t=r=o(this,e.call.apply(e,[this].concat(u))),r.emitter=s(r.props.value),i=t,o(r,i)}return i(n,e),n.prototype.getChildContext=function(){var e;return e={},e[c]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,a=void 0;l(n,r)?a=0:(a="function"===typeof t?t(n,r):Y,0!==(a|=0)&&this.emitter.set(e.value,a))}},n.prototype.render=function(){return this.props.children},n}(d.Component);f.childContextTypes=(n={},n[c]=p.default.object.isRequired,n);var m=function(t){function n(){var e,r,i;a(this,n);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return e=r=o(this,t.call.apply(t,[this].concat(s))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!==((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},i=e,o(r,i)}return i(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?Y:t},n.prototype.componentDidMount=function(){this.context[c]&&this.context[c].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?Y:e},n.prototype.componentWillUnmount=function(){this.context[c]&&this.context[c].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[c]?this.context[c].get():e},n.prototype.render=function(){return u(this.props.children)(this.state.value)},n}(d.Component);return m.contextTypes=(r={},r[c]=p.default.object,r),{Provider:f,Consumer:m}}t.__esModule=!0;var d=n(0),f=(r(d),n(1)),p=r(f),m=n(265),g=r(m),h=n(325),Y=(r(h),1073741823);t.default=c,e.exports=t.default},265:function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(t,n(14))},266:function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"f",function(){return c});var r=n(161),a=n.n(r),o=function(e,t){return e.substr(0,t.length)===t},i=function(e,t){for(var n=void 0,r=void 0,o=t.split("?"),i=o[0],l=Y(i),s=""===l[0],u=h(e),c=0,f=u.length;c<f;c++){var p=!1,m=u[c].route;if(m.default)r={route:m,params:{},uri:t};else{for(var g=Y(m.path),Z={},L=Math.max(l.length,g.length),C=0;C<L;C++){var X=g[C],D=l[C];if("*"===X){Z["*"]=l.slice(C).map(decodeURIComponent).join("/");break}if(void 0===D){p=!0;break}var J=d.exec(X);if(J&&!s){-1===S.indexOf(J[1])||a()(!1);var b=decodeURIComponent(D);Z[J[1]]=b}else if(X!==D){p=!0;break}}if(!p){n={route:m,params:Z,uri:"/"+l.slice(0,C).join("/")};break}}}return n||r||null},l=function(e,t){return i([{path:e}],t)},s=function(e,t){if(o(e,"/"))return e;var n=e.split("?"),r=n[0],a=n[1],i=t.split("?"),l=i[0],s=Y(r),u=Y(l);if(""===s[0])return Z(l,a);if(!o(s[0],".")){var c=u.concat(s).join("/");return Z(("/"===l?"":"/")+c,a)}for(var d=u.concat(s),f=[],p=0,m=d.length;p<m;p++){var g=d[p];".."===g?f.pop():"."!==g&&f.push(g)}return Z("/"+f.join("/"),a)},u=function(e,t){return"/"+Y(e).map(function(e){var n=d.exec(e);return n?t[n[1]]:e}).join("/")},c=function(e,t){var n=function(e){return p(e)},r=Y(e).filter(n).sort().join("/"),a=Y(t).filter(n).sort().join("/");return r===a},d=/^:(.+)/,f=function(e){return""===e},p=function(e){return d.test(e)},m=function(e){return"*"===e},g=function(e,t){return{route:e,score:e.default?0:Y(e.path).reduce(function(e,t){return e+=4,f(t)?e+=1:p(t)?e+=2:m(t)?e-=5:e+=3,e},0),index:t}},h=function(e){return e.map(g).sort(function(e,t){return e.score<t.score?1:e.score>t.score?-1:e.index-t.index})},Y=function(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")},Z=function(e,t){return e+(t?"?"+t:"")},S=["uri","path"]},267:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){return r({},e.location,{state:e.history.state,key:e.history.state&&e.history.state.key||"initial"})},o=function(e,t){var n=[],o=a(e),i=!1,l=function(){};return{get location(){return o},get transitioning(){return i},_onTransitionComplete:function(){i=!1,l()},listen:function(t){n.push(t);var r=function(){o=a(e),t({location:o,action:"POP"})};return e.addEventListener("popstate",r),function(){e.removeEventListener("popstate",r),n=n.filter(function(e){return e!==t})}},navigate:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.state,c=s.replace,d=void 0!==c&&c;u=r({},u,{key:Date.now()+""});try{i||d?e.history.replaceState(u,null,t):e.history.pushState(u,null,t)}catch(n){e.location[d?"replace":"assign"](t)}o=a(e),i=!0;var f=new Promise(function(e){return l=e});return n.forEach(function(e){return e({location:o,action:"PUSH"})}),f}}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=0,n=[{pathname:e,search:""}],r=[];return{get location(){return n[t]},addEventListener:function(e,t){},removeEventListener:function(e,t){},history:{get entries(){return n},get index(){return t},get state(){return r[t]},pushState:function(e,a,o){var i=o.split("?"),l=i[0],s=i[1],u=void 0===s?"":s;t++,n.push({pathname:l,search:u}),r.push(e)},replaceState:function(e,a,o){var i=o.split("?"),l=i[0],s=i[1],u=void 0===s?"":s;n[t]={pathname:l,search:u},r[t]=e}}}},l=!("undefined"===typeof window||!window.document||!window.document.createElement),s=o(function(){return l?window:i()}()),u=s.navigate},29:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),i=n(3),l=function(){function e(){r(this,e)}return a(e,[{key:"getFiles",value:function(){return i.seafileAPI.listWikiDir(o.slug,"/").then(function(e){return e.data.dir_file_list.map(function(e){return{name:e.name,type:"dir"===e.type?"dir":"file",isExpanded:"dir"===e.type,parent_path:e.parent_dir,last_update_time:e.last_update_time,permission:e.permission,size:e.size}})})}},{key:"listRepoDir",value:function(){return i.seafileAPI.listDir(o.repoID,"/",{recursive:!0}).then(function(e){return e.data.dirent_list.map(function(e){return{name:e.name,type:"dir"===e.type?"dir":"file",isExpanded:"dir"===e.type,parent_path:e.parent_dir,last_update_time:e.mtime,permission:e.permission,size:e.size}})})}},{key:"createFile",value:function(e,t){return i.seafileAPI.createFile(o.repoID,e,t)}},{key:"deleteFile",value:function(e){return i.seafileAPI.deleteFile(o.repoID,e)}},{key:"renameFile",value:function(e,t){return i.seafileAPI.renameFile(o.repoID,e,t)}},{key:"createDir",value:function(e){return i.seafileAPI.createDir(o.repoID,e)}},{key:"deleteDir",value:function(e){return i.seafileAPI.deleteDir(o.repoID,e)}},{key:"renameDir",value:function(e,t){return i.seafileAPI.renameDir(o.repoID,e,t)}},{key:"getWikiFileContent",value:function(e,t){return i.seafileAPI.getWikiFileContent(e,t)}},{key:"getSource",value:function(){return i.seafileAPI.getSource()}},{key:"searchFiles",value:function(e,t){return i.seafileAPI.searchFiles(e,t)}},{key:"getAccountInfo",value:function(){return i.seafileAPI.getAccountInfo()}},{key:"getFileDownloadLink",value:function(e){return i.seafileAPI.getFileDownloadLink(o.historyRepoID,e)}},{key:"getFileContent",value:function(e){return i.seafileAPI.getFileContent(e)}},{key:"listFileHistoryRecords",value:function(e,t,n){return i.seafileAPI.listFileHistoryRecords(o.historyRepoID,e,t,n)}},{key:"revertFile",value:function(e,t){return i.seafileAPI.revertFile(o.historyRepoID,e,t)}},{key:"listDrafts",value:function(){return i.seafileAPI.listDrafts()}},{key:"deleteDraft",value:function(e){return i.seafileAPI.deleteDraft(e)}},{key:"publishDraft",value:function(e){return i.seafileAPI.publishDraft(e)}},{key:"zipDownload",value:function(e,t){return i.seafileAPI.zipDownload(o.repoID,e,t)}},{key:"queryZipProgress",value:function(e){return i.seafileAPI.queryZipProgress(e)}},{key:"cancelZipTask",value:function(e){return i.seafileAPI.cancelZipTask(e)}}]),e}(),s=new l;t.default=s},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.seafileAPI=void 0;var r=n(30),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(42),i=n(2),l=new o.SeafileAPI,s=a.default.load("sfcsrftoken");l.initForSeahubUsage({siteRoot:i.siteRoot,xcsrfHeaders:s}),t.seafileAPI=l},31:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),c=r(u),d=n(1),f=r(d),p=n(106),m=r(p),g=n(3),h=n(2),Y={placeholder:f.default.string.isRequired,onSelectChange:f.default.func.isRequired,isMulti:f.default.bool.isRequired,className:f.default.string},Z=function(e){return c.default.createElement("div",s({},e.innerProps,{style:{margin:"6px 10px",textAlign:"center",color:"hsl(0,0%,50%)"}}),(0,h.gettext)("User not found"))},S=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.options=[],n.props.onSelectChange(e)},n.loadOptions=function(e,t){var r=e.trim();r.length>0&&g.seafileAPI.searchUsers(r).then(function(e){n.options=[];for(var r=0;r<e.data.users.length;r++){var a=e.data.users[r],o={};o.value=a.name,o.email=a.email,o.label=c.default.createElement(c.default.Fragment,null,c.default.createElement("img",{src:a.avatar_url,className:"select-module select-module-icon avatar",alt:""}),c.default.createElement("span",{className:"select-module select-module-name"},a.name)),n.options.push(o)}t(n.options)})},n.clearSelect=function(){n.refs.userSelect.select.onChange([],{action:"clear"})},n.options=[],n}return i(t,e),l(t,[{key:"render",value:function(){return c.default.createElement(m.default,{isClearable:!0,classNamePrefix:!0,components:{NoOptionsMessage:Z},isMulti:this.props.isMulti,loadOptions:this.loadOptions,onChange:this.handleSelectChange,placeholder:this.props.placeholder,className:"user-select "+this.props.className,ref:"userSelect"})}}]),t}(c.default.Component);S.propTypes=Y,t.default=S},37:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(46),m=r(p);n(47);var g={isTextMode:d.default.bool.isRequired,isEditIconShow:d.default.bool.isRequired,options:d.default.array.isRequired,currentOption:d.default.string.isRequired,translateOption:d.default.func.isRequired,translateExplanation:d.default.func,onOptionChanged:d.default.func.isRequired,toggleItemFreezed:d.default.func},h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOptions=function(){n.options=[];for(var e=n.props.options,t=0,r=e.length;t<r;t++){var a={};a.value=e[t],a.label=u.default.createElement("div",null,n.props.translateOption(e[t]),n.props.translateExplanation&&u.default.createElement("div",{className:"permission-editor-explanation"},n.props.translateExplanation(e[t]))),n.options.push(a)}},n.onEditPermission=function(e){e.nativeEvent.stopImmediatePropagation(),n.setState({isEditing:!0}),n.props.toggleItemFreezed&&n.props.toggleItemFreezed(!0)},n.onOptionChanged=function(e){var t=e.value;t!==n.props.currentOption&&n.props.onOptionChanged(t),n.setState({isEditing:!1}),n.props.toggleItemFreezed&&n.props.toggleItemFreezed(!1)},n.onSelectHandler=function(e){e.nativeEvent.stopImmediatePropagation()},n.onHideSelect=function(){n.setState({isEditing:!1}),n.props.toggleItemFreezed&&n.props.toggleItemFreezed(!1)},n.state={isEditing:!1},n.options=[],n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onHideSelect),this.setOptions()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onHideSelect)}},{key:"render",value:function(){var e=this.props,t=e.currentOption,n=e.isTextMode;return u.default.createElement("div",{className:"permission-editor",onClick:this.onSelectHandler},(!n||this.state.isEditing)&&u.default.createElement(m.default,{options:this.options,className:"permission-editor-select",classNamePrefix:"permission-editor",placeholder:this.props.translateOption(t),onChange:this.onOptionChanged,captureMenuScroll:!1}),n&&!this.state.isEditing&&u.default.createElement("div",null,this.props.translateOption(t),this.props.isEditIconShow&&u.default.createElement("span",{title:(0,f.gettext)("Edit"),className:"fa fa-pencil-alt attr-action-icon",onClick:this.onEditPermission})))}}]),t}(u.default.Component);h.propTypes=g,t.default=h},39:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(7),p=r(f),m=n(4),g=n(29),h=r(g),Y=n(2),Z={isAdminPanel:d.default.bool},S=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getContainer=function(){return p.default.findDOMNode(n)},n.handleProps=function(){n.state.showInfo?n.addEvents():n.removeEvents()},n.addEvents=function(){["click","touchstart","keyup"].forEach(function(e){return document.addEventListener(e,n.handleDocumentClick,!0)})},n.removeEvents=function(){["click","touchstart","keyup"].forEach(function(e){return document.removeEventListener(e,n.handleDocumentClick,!0)})},n.handleDocumentClick=function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===m.Utils.keyCodes.tab)){var t=n.getContainer();(!t.contains(e.target)||t===e.target||"keyup"===e.type&&e.which!==m.Utils.keyCodes.tab)&&n.setState({showInfo:!n.state.showInfo})}},n.onClickAccount=function(){n.setState({showInfo:!n.state.showInfo})},n.getAccountInfo=function(){h.default.getAccountInfo().then(function(e){n.setState({userName:e.data.name,contactEmail:e.data.email,usageRate:e.data.space_usage,quotaUsage:m.Utils.bytesToSize(e.data.usage),quotaTotal:m.Utils.bytesToSize(e.data.total),isStaff:e.data.is_staff,isOrgStaff:1===e.data.is_org_staff,avatarURL:e.data.avatar_url})})},n.renderMenu=function(){return(n.state.isStaff||n.state.isOrgStaff)&&n.props.isAdminPanel?u.default.createElement("a",{href:Y.siteRoot,title:(0,Y.gettext)("Exit Admin Panel"),className:"item"},(0,Y.gettext)("Exit Admin Panel")):n.state.isStaff?u.default.createElement("a",{href:Y.siteRoot+"sys/useradmin/",title:(0,Y.gettext)("System Admin"),className:"item"},(0,Y.gettext)("System Admin")):n.state.isOrgStaff?u.default.createElement("a",{href:Y.siteRoot+"org/useradmin/",title:(0,Y.gettext)("Organization Admin"),className:"item"},(0,Y.gettext)("Organization Admin")):void 0},n.renderAvatar=function(){return n.state.avatarURL?u.default.createElement("img",{src:n.state.avatarURL,width:"36",height:"36",className:"avatar",alt:(0,Y.gettext)("Avatar")}):u.default.createElement("img",{src:"",width:"36",height:"36",className:"avatar",alt:(0,Y.gettext)("Avatar")})},n.state={showInfo:!1,userName:"",contactEmail:"",quotaUsage:"",quotaTotal:"",isStaff:!1,isOrgStaff:!1,usageRate:"",avatarURL:""},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.getAccountInfo()}},{key:"componentDidUpdate",value:function(e){this.handleProps()}},{key:"render",value:function(){return u.default.createElement("div",{id:"account"},u.default.createElement("a",{id:"my-info",onClick:this.onClickAccount,className:"account-toggle no-deco d-none d-md-block","aria-label":"View profile and more"},u.default.createElement("span",null,u.default.createElement("img",{src:this.state.avatarURL,width:"36",height:"36",className:"avatar",alt:(0,Y.gettext)("Avatar")})),u.default.createElement("span",{className:"fas fa-caret-down vam"})),u.default.createElement("span",{className:"account-toggle sf2-icon-more mobile-icon d-md-none","aria-label":"View profile and more",onClick:this.onClickAccount}),u.default.createElement("div",{id:"user-info-popup",className:"account-popup sf-popover "+(this.state.showInfo?"":"hide")},u.default.createElement("div",{className:"outer-caret up-outer-caret"},u.default.createElement("div",{className:"inner-caret"})),u.default.createElement("div",{className:"sf-popover-con"},u.default.createElement("div",{className:"item o-hidden"},this.renderAvatar(),u.default.createElement("div",{className:"txt"},this.state.userName)),u.default.createElement("div",{id:"space-traffic"},u.default.createElement("div",{className:"item"},u.default.createElement("p",null,(0,Y.gettext)("Used:")," ",this.state.quotaUsage," / ",this.state.quotaTotal),u.default.createElement("div",{id:"quota-bar"},u.default.createElement("span",{id:"quota-usage",className:"usage",style:{width:this.state.usageRate}})))),u.default.createElement("a",{href:Y.siteRoot+"profile/",className:"item"},(0,Y.gettext)("Settings")),this.renderMenu(),u.default.createElement("a",{href:Y.siteRoot+"accounts/logout/",className:"item"},(0,Y.gettext)("Log out")))))}}]),t}(s.Component);S.defaultProps={isAdminPanel:!1},S.propTypes=Z,t.default=S},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var r=n(2),a=n(16),o=t.Utils={keyCodes:{esc:27,space:32,tab:9,up:38,down:40},bytesToSize:function(e){if("undefined"==typeof e)return" ";if(e<0)return"--";var t=["bytes","KB","MB","GB","TB","PB"];if(0===e)return e+" "+t[0];var n=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return 0===n?e+" "+t[n]:(e/Math.pow(1e3,n)).toFixed(1)+" "+t[n]},isHiDPI:function(){return(window.devicePixelRatio?window.devicePixelRatio:1)>1},FILEEXT_ICON_MAP:{md:"txt.png",txt:"txt.png",pdf:"pdf.png",doc:"word.png",docx:"word.png",odt:"word.png",fodt:"word.png",ppt:"ppt.png",pptx:"ppt.png",odp:"ppt.png",fodp:"ppt.png",xls:"excel.png",xlsx:"excel.png",ods:"excel.png",fods:"excel.png",mp4:"video.png",ogv:"video.png",webm:"video.png",mov:"video.png",flv:"video.png",wmv:"video.png",rmvb:"video.png",mp3:"music.png",oga:"music.png",ogg:"music.png",flac:"music.png",aac:"music.png",ac3:"music.png",wma:"music.png",jpg:"pic.png",jpeg:"pic.png",png:"pic.png",svg:"pic.png",gif:"pic.png",bmp:"pic.png",ico:"pic.png",default:"file.png"},imageCheck:function(e){return-1!=e.lastIndexOf(".")&&-1!=["gif","jpeg","jpg","png","ico","bmp"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},videoCheck:function(e){return-1!=e.lastIndexOf(".")&&-1!=["mp4","ogv","webm","mov"].indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())},encodePath:function(e){if(!e)return"";for(var t=e.split("/"),n=[],r=0,a=t.length;r<a;r++)n.push(encodeURIComponent(t[r]));return n.join("/")},HTMLescape:function(e){return document.createElement("div").appendChild(document.createTextNode(e)).parentNode.innerHTML},generateDialogTitle:function(e,t){var n=this.HTMLescape(t),r='<span class="op-target ellipsis ellipsis-op-target" title='+n+">"+n+"</span>";return e.replace("{placeholder}",r)},getFileName:function(e){var t=e.lastIndexOf("/");return e.slice(t+1)},getPaths:function(e){for(var t=e.split("/").slice(1),n=[];t.length;)n.push("/"+t.join("/")),t.pop();return n.reverse()},getFolderName:function(e){return"/"===e?e:(e="/"!==e[e.length-1]?e:e.slice(0,e.length-2),e.slice(e.lastIndexOf("/")+1))},getDirName:function(e){var t=e.slice(0,e.lastIndexOf("/"));return""===t?"/":t},isChildPath:function(e,t){return this.getDirName(e)===t},isAncestorPath:function(e,t){return t.indexOf(e)>-1},renameAncestorPath:function(e,t,n){return e.replace(t,n)},joinPath:function(e,t){return"/"===e[e.length-1]?e+t:e+"/"+t},isSupportUploadFolder:function(){return-1!=navigator.userAgent.indexOf("Firefox")||navigator.userAgent.indexOf("Chrome")>-1},getDefaultLibIconUrl:function(e){var t=o.isHiDPI()?48:24;t=e?256:t;return r.mediaUrl+"img/lib/"+t+"/lib.png"},getLibIconUrl:function(e,t){var n=e.permission||e.share_permission,a=o.isHiDPI()?48:24;a=t?256:a;var i="lib.png";return e.encrypted&&(i="lib-encrypted.png"),"r"!==n&&"perview"!==n||(i="lib-readonly.png"),r.mediaUrl+"img/lib/"+a+"/"+i},getDirentIcon:function(e,t){var n=this.isHiDPI()?48:24;if(n=t?192:n,e.isDir()){var r=!1;return!e.permission||"r"!==e.permission&&"preview"!==e.permission||(r=!0),this.getFolderIconUrl(r,n)}return this.getFileIconUrl(e.name,n)},getFolderIconUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];return t||(t=o.isHiDPI()?48:24),t=t>24?192:24,r.mediaUrl+"img/folder"+(e?"-read-only-":"-")+t+".png"},getFileIconUrl:function(e,t){t||(t=o.isHiDPI()?48:24),t=t>24?192:24;var n="";return-1==e.lastIndexOf(".")?r.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP.default:(n=e.substr(e.lastIndexOf(".")+1).toLowerCase(),this.FILEEXT_ICON_MAP[n]?r.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP[n]:r.mediaUrl+"img/file/"+t+"/"+this.FILEEXT_ICON_MAP.default)},getLibIconTitle:function(e){var t,n=e.permission||e.share_permission;if(e.encrypted)t=(0,r.gettext)("Encrypted library");else if(e.is_admin)t=(0,r.gettext)("Admin access");else switch(n){case"rw":t=(0,r.gettext)("Read-Write library");break;case"r":t=(0,r.gettext)("Read-Only library");break;case"cloud-edit":t=(0,r.gettext)("Preview-Edit-on-Cloud library");break;case"preview":t=(0,r.gettext)("Preview-on-Cloud library")}return t},getFolderIconTitle:function(e){var t;switch(e.permission){case"rw":t=(0,r.gettext)("Read-Write folder");break;case"r":t=(0,r.gettext)("Read-Only folder");break;case"cloud-edit":t=(0,r.gettext)("Preview-Edit-on-Cloud folder");break;case"preview":t=(0,r.gettext)("Preview-on-Cloud folder")}return t},sharePerms:function(e){var t;switch(e){case"rw":t=(0,r.gettext)("Read-Write");break;case"r":t=(0,r.gettext)("Read-Only");break;case"admin":t=(0,r.gettext)("Admin");break;case"cloud-edit":t=(0,r.gettext)("Preview-Edit-on-Cloud");break;case"preview":t=(0,r.gettext)("Preview-on-Cloud")}return t},sharePermsExplanation:function(e){var t;switch(e){case"rw":t=(0,r.gettext)("User can read, write, upload, download and sync files.");break;case"r":t=(0,r.gettext)("User can read, download and sync files.");break;case"admin":t=(0,r.gettext)("Besides Write permission, user can also share the library.");break;case"cloud-edit":t=(0,r.gettext)("User can view and edit file online via browser. Files can't be downloaded.");break;case"preview":t=(0,r.gettext)("User can only view files online via browser. Files can't be downloaded.")}return t},formatSize:function(e){var t=e.bytes,n=e.precision||0;return t>=0&&t<1e3?t+" B":t>=1e3&&t<1e6?(t/1e3).toFixed(n)+" KB":t>=1e6&&t<1e9?(t/1e6).toFixed(n)+" MB":t>=1e9&&t<1e12?(t/1e9).toFixed(n)+" GB":t>=1e12?(t/1e12).toFixed(n)+" TB":t+" B"},formatBitRate:function(e){var t;return"number"!==typeof e?"":(t=e/8,t>=1e9?(t/1e9).toFixed(2)+" GB/s":t>=1e6?(t/1e6).toFixed(2)+" MB/s":t>=1e3?(t/1e3).toFixed(2)+" kB/s":t.toFixed(2)+" B/s")},isMarkdownFile:function(e){var t=e.lastIndexOf(".");if(-1===t)return!1;var n=e.substring(t).toLowerCase();return".md"===n||".markdown"===n},isInternalMarkdownLink:function(e,t){return new RegExp(r.serviceURL+"/lib/"+t+".*.md$").test(e)},isInternalDirLink:function(e,t){return new RegExp(r.serviceURL+"/library/"+t+".*").test(e)},getPathFromInternalMarkdownLink:function(e,t){var n=new RegExp(r.serviceURL+"/lib/"+t+"/file(.*.md)"),a=n.exec(e);return decodeURIComponent(a[1])},getPathFromInternalDirLink:function(e,t){var n=new RegExp(r.serviceURL+"/library/"+t+"(/.*)"),a=n.exec(e),o=decodeURIComponent(a[1]);return o=o.slice(1),o=o.slice(o.indexOf("/"))},isWikiInternalMarkdownLink:function(e,t){return t=encodeURIComponent(t),new RegExp(r.serviceURL+"/wikis/"+t+".*.md$").test(e)},isWikiInternalDirLink:function(e,t){return t=encodeURIComponent(t),new RegExp(r.serviceURL+"/wikis/"+t+".*").test(e)},getPathFromWikiInternalMarkdownLink:function(e,t){t=encodeURIComponent(t);var n=new RegExp(r.serviceURL+"/wikis/"+t+"(.*.md)"),a=n.exec(e),o=a[1];try{o=decodeURIComponent(o)}catch(e){o=o.replace(/%/g,"%25"),o=decodeURIComponent(o)}return o},getPathFromWikiInternalDirLink:function(e,t){t=encodeURIComponent(t);var n=new RegExp(r.serviceURL+"/wikis/"+t+"(/.*)"),a=n.exec(e),o=a[1];try{o=decodeURIComponent(o)}catch(e){o=o.replace(/%/g,"%25"),o=decodeURIComponent(o)}return o},compareTwoWord:function(e,t){var n,r,o=e.charCodeAt(0),i=t.charCodeAt(0);return 19968<o&&o<40869&&19968<i&&i<40869?(n=a.strChineseFirstPY.charAt(o-19968).toLowerCase(),r=a.strChineseFirstPY.charAt(i-19968).toLowerCase(),n>=r?1:-1):19968<o&&o<40869&&!(19968<i&&i<40869)?1:!(19968<o&&o<40869)&&19968<i&&i<40869?-1:(n=e.toLowerCase(),r=t.toLowerCase(),this.compareStrWithNumbersIn(n,r))},compareStrWithNumbersIn:function(e,t){var n,r,a,o=/\d+|\D+/g,i=/\d/,l=e.match(o),s=t.match(o),u=Math.min(l.length,s.length);if(l&&s&&(n=i.test(l[0]))==i.test(s[0]))for(var c=0;c<u;c++){if(r=l[c],a=s[c],n&&(r=parseInt(r,10),a=parseInt(a,10)),r!=a)return r<a?-1:1;n=!n}return(e>=t)-(e<=t)},sortRepos:function(e,t,n){var r=this,a=void 0;switch(t+"-"+n){case"name-asc":a=function(e,t){return e.repo_name?t.repo_name?r.compareTwoWord(e.repo_name,t.repo_name):-1:1};break;case"name-desc":a=function(e,t){return e.repo_name?t.repo_name?-r.compareTwoWord(e.repo_name,t.repo_name):1:-1};break;case"time-asc":a=function(e,t){return e.last_modified<t.last_modified?-1:1};break;case"time-desc":a=function(e,t){return e.last_modified<t.last_modified?1:-1}}return e.sort(a),e},sortDirents:function(e,t,n){var r=this,a=void 0;switch(t+"-"+n){case"name-asc":a=function(e,t){return r.compareTwoWord(e.name,t.name)};break;case"name-desc":a=function(e,t){return-r.compareTwoWord(e.name,t.name)};break;case"time-asc":a=function(e,t){return e.mtime<t.mtime?-1:1};break;case"time-desc":a=function(e,t){return e.mtime<t.mtime?1:-1}}return e.sort(function(e,t){return"dir"==e.type&&"file"==t.type?-1:"file"==e.type&&"dir"==t.type?1:a(e,t)}),e},changeMarkdownNodes:function(e,t){return e.map(function(e){t(e),e.nodes&&e.nodes.length>0&&o.changeMarkdownNodes(e.nodes,t)}),e},chooseLanguage:function(e){var t=void 0;switch(e){case"py":t="python";break;case"js":t="javascript";break;case"c":t="text/x-csrc";break;case"cpp":t="text/x-c++src";break;case"java":t="text/x-java";break;case"cs":t="text/x-csharp";break;case"mdf":t="text/x-sql";break;case"html":t="htmlmixed";break;default:t=e}return t},DARK_COLOR_MAP:{red:"#D11507",orange:"#FF8C00",yellow:"#EDEF00",green:"#006400",cyan:"#00E0E1",blue:"#2510A3",indigo:"#350C56",purple:"#551054",pink:"#E3A5B0",azure:"#C4D0D0",lime:"#00E100",teal:"#006A6B",gray:"#545454","#FFA8A8":"#E49090","#FFA94D":"#E39136","#FFD43B":"#E0B815","#A0EC50":"#83CF32","#A9E34B":"#8DC72E","#63E6BE":"#43CAA4","#4FD2C9":"#2DB9B0","#72C3FC":"#57ABE3","#91A7FF":"#7A91E7","#E599F7":"#CC82DE","#B197FC":"#9B82E5","#F783AC":"#DF6D97","#CED4DA":"#A8ADB2"},getDarkColor:function(e){return this.DARK_COLOR_MAP[e]},getCopySuccessfulMessage:function(e){var t=void 0,n=e.length;return 1===n?t=(0,r.gettext)("Successfully copied %(name)s."):2===n?t=(0,r.gettext)("Successfully copied %(name)s and 1 other item."):(t=(0,r.gettext)("Successfully copied %(name)s and %(amount)s other items."),t=t.replace("%(amount)s",n-1)),t=t.replace("%(name)s",e[0])},getMoveSuccessMessage:function(e){var t=void 0,n=e.length;return 1===n?t=(0,r.gettext)("Successfully moved %(name)s."):2===n?t=(0,r.gettext)("Successfully moved %(name)s and 1 other item."):(t=(0,r.gettext)("Successfully moved %(name)s and %(amount)s other items."),t=t.replace("%(amount)s",n-1)),t=t.replace("%(name)s",e[0])},getCopyFailedMessage:function(e){var t=void 0,n=e.length;return n>1?(t=(0,r.gettext)("Failed to copy %(name)s and %(amount)s other item(s)."),t=t.replace("%(amount)s",n-1)):t=(0,r.gettext)("Failed to copy %(name)s."),t=t.replace("%(name)s",e[0])},getMoveFailedMessage:function(e){var t=void 0,n=e.length;return n>1?(t=(0,r.gettext)("Failed to move %(name)s and %(amount)s other item(s)."),t=t.replace("%(amount)s",n-1)):t=(0,r.gettext)("Failed to move %(name)s."),t=t.replace("%(name)s",e[0])}}},47:function(e,t){},69:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){this.uri=e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Link",function(){return _}),n.d(t,"Location",function(){return X}),n.d(t,"LocationProvider",function(){return D}),n.d(t,"Match",function(){return O}),n.d(t,"Redirect",function(){return G}),n.d(t,"Router",function(){return w}),n.d(t,"ServerLocation",function(){return J}),n.d(t,"isRedirect",function(){return N}),n.d(t,"redirectTo",function(){return F});var s=n(0),u=n.n(s),c=n(262),d=(n.n(c),n(1)),f=(n.n(d),n(161)),p=n.n(f),m=n(263),g=n.n(m),h=n(170),Y=n(266),Z=n(267);n.d(t,"createHistory",function(){return Z.a}),n.d(t,"createMemorySource",function(){return Z.b}),n.d(t,"navigate",function(){return Z.d}),n.d(t,"globalHistory",function(){return Z.c});var S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L=function(e,t){var n=g()(t);return n.Consumer.displayName=e+".Consumer",n.Provider.displayName=e+".Provider",n},C=L("Location"),X=function(e){var t=e.children;return u.a.createElement(C.Consumer,null,function(e){return e?t(e):u.a.createElement(D,null,t)})},D=function(e){function t(){var n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(s))),r.state={context:r.getContext(),refs:{unlisten:null}},i=n,o(r,i)}return i(t,e),t.prototype.getContext=function(){var e=this.props.history;return{navigate:e.navigate,location:e.location}},t.prototype.componentDidCatch=function(e,t){if(!N(e))throw e;(0,this.props.history.navigate)(e.uri,{replace:!0})},t.prototype.componentDidUpdate=function(e,t){t.context.location!==this.state.context.location&&this.props.history._onTransitionComplete()},t.prototype.componentDidMount=function(){var e=this,t=this.state.refs,n=this.props.history;t.unlisten=n.listen(function(){Promise.resolve().then(function(){requestAnimationFrame(function(){e.unmounted||e.setState(function(){return{context:e.getContext()}})})})})},t.prototype.componentWillUnmount=function(){var e=this.state.refs;this.unmounted=!0,e.unlisten()},t.prototype.render=function(){var e=this.state.context,t=this.props.children;return u.a.createElement(C.Provider,{value:e},"function"===typeof t?t(e):t||null)},t}(u.a.Component);D.defaultProps={history:Z.c};var J=function(e){var t=e.url,n=e.children;return u.a.createElement(C.Provider,{value:{location:{pathname:t,search:"",hash:""},navigate:function(){throw new Error("You can't call navigate on the server.")}}},n)},b=L("Base",{baseuri:"/",basepath:"/"}),w=function(e){return u.a.createElement(b.Consumer,null,function(t){return u.a.createElement(X,null,function(n){return u.a.createElement(v,S({},t,n,e))})})},v=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.location,n=e.navigate,a=e.basepath,o=e.primary,i=e.children,l=(e.baseuri,e.component),s=void 0===l?"div":l,c=r(e,["location","navigate","basepath","primary","children","baseuri","component"]),d=u.a.Children.map(i,W(a)),f=t.pathname,p=Object(Y.c)(d,f);if(p){var m=p.params,g=p.uri,h=p.route,Z=p.route.value;a=h.default?a:h.path.replace(/\*$/,"");var L=S({},m,{uri:g,location:t,navigate:function(e,t){return n(Object(Y.d)(e,g),t)}}),C=u.a.cloneElement(Z,L,Z.props.children?u.a.createElement(w,{primary:o},Z.props.children):void 0),X=o?T:s,D=o?S({uri:g,location:t,component:s},c):c;return u.a.createElement(b.Provider,{value:{baseuri:g,basepath:a}},u.a.createElement(X,D,C))}return null},t}(u.a.PureComponent);v.defaultProps={primary:!0};var M=L("Focus"),T=function(e){var t=e.uri,n=e.location,a=e.component,o=r(e,["uri","location","component"]);return u.a.createElement(M.Consumer,null,function(e){return u.a.createElement(E,S({},o,{component:a,requestFocus:e,uri:t,location:n}))})},y=!0,P=0,E=function(e){function t(){var n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,e.call.apply(e,[this].concat(s))),r.state={},r.requestFocus=function(e){r.state.shouldFocus||e.focus()},i=n,o(r,i)}return i(t,e),t.getDerivedStateFromProps=function(e,t){if(null==t.uri)return S({shouldFocus:!0},e);var n=e.uri!==t.uri,r=t.location.pathname!==e.location.pathname&&e.location.pathname===e.uri;return S({shouldFocus:n||r},e)},t.prototype.componentDidMount=function(){P++,this.focus()},t.prototype.componentWillUnmount=function(){0===--P&&(y=!0)},t.prototype.componentDidUpdate=function(e,t){e.location!==this.props.location&&this.state.shouldFocus&&this.focus()},t.prototype.focus=function(){var e=this.props.requestFocus;e?e(this.node):y?y=!1:this.node.contains(document.activeElement)||this.node.focus()},t.prototype.render=function(){var e=this,t=this.props,n=(t.children,t.style),a=(t.requestFocus,t.role),o=void 0===a?"group":a,i=t.component,l=void 0===i?"div":i,s=(t.uri,t.location,r(t,["children","style","requestFocus","role","component","uri","location"]));return u.a.createElement(l,S({style:S({outline:"none"},n),tabIndex:"-1",role:o,ref:function(t){return e.node=t}},s),u.a.createElement(M.Provider,{value:this.requestFocus},this.props.children))},t}(u.a.Component);Object(h.polyfill)(E);var Q=function(){},H=u.a.forwardRef;"undefined"===typeof H&&(H=function(e){return e});var _=H(function(e,t){var n=e.innerRef,a=r(e,["innerRef"]);return u.a.createElement(b.Consumer,null,function(e){var o=(e.basepath,e.baseuri);return u.a.createElement(X,null,function(e){var i=e.location,l=e.navigate,s=a.to,c=a.state,d=a.replace,f=a.getProps,p=void 0===f?Q:f,m=r(a,["to","state","replace","getProps"]),g=Object(Y.d)(s,o),h=i.pathname===g,Z=Object(Y.e)(i.pathname,g);return u.a.createElement("a",S({ref:t||n,"aria-current":h?"page":void 0},m,p({isCurrent:h,isPartiallyCurrent:Z,href:g,location:i}),{href:g,onClick:function(e){m.onClick&&m.onClick(e),K(e)&&(e.preventDefault(),l(g,{state:c,replace:d}))}}))})})}),N=function(e){return e instanceof l},F=function(e){throw new l(e)},B=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.navigate,n=e.to,a=(e.from,e.replace),o=void 0===a||a,i=e.state,l=(e.noThrow,r(e,["navigate","to","from","replace","state","noThrow"]));Promise.resolve().then(function(){t(Object(Y.a)(n,l),{replace:o,state:i})})},t.prototype.render=function(){var e=this.props,t=(e.navigate,e.to),n=(e.from,e.replace,e.state,e.noThrow),a=r(e,["navigate","to","from","replace","state","noThrow"]);return n||F(Object(Y.a)(t,a)),null},t}(u.a.Component),G=function(e){return u.a.createElement(X,null,function(t){return u.a.createElement(B,S({},t,e))})},O=function(e){var t=e.path,n=e.children;return u.a.createElement(b.Consumer,null,function(e){var r=e.baseuri;return u.a.createElement(X,null,function(e){var a=e.navigate,o=e.location,i=Object(Y.d)(t,r),l=Object(Y.b)(i,o.pathname);return n({navigate:a,location:o,match:l?S({},l.params,{uri:l.uri,path:t}):null})})})},R=function(e){return e.replace(/(^\/+|\/+$)/g,"")},W=function(e){return function(t){if(!t)return null;if(t.props.path||t.props.default||t.type===G||p()(!1),t.type!==G||t.props.from&&t.props.to||p()(!1),t.type!==G||Object(Y.f)(t.props.from,t.props.to)||p()(!1),t.props.default)return{value:t,default:!0};var n=t.type===G?t.props.from:t.props.path,r="/"===n?e:R(e)+"/"+R(n);return{value:t,default:t.props.default,path:t.props.children?R(r)+"/*":r}}},K=function(e){return!e.defaultPrevented&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},757:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(2),m=n(31),g=r(m),h={itemName:d.default.string.isRequired,toggleDialog:d.default.func.isRequired,submit:d.default.func.isRequired},Y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSelectChange=function(e){n.setState({selectedOption:e}),n.options=[]},n.submit=function(){var e=n.state.selectedOption;n.props.submit(e)},n.state={selectedOption:null,errorMsg:[],sharedItems:[]},n.options=[],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.itemName,t='<span class="op-target" title='+e+">"+e+"</span>",n=(0,p.gettext)("Transfer Library {library_name} To"),r=n.replace("{library_name}",t);return u.default.createElement(f.Modal,{isOpen:!0,centered:!0},u.default.createElement(f.ModalHeader,{toggle:this.props.toggleDialog},u.default.createElement("div",{dangerouslySetInnerHTML:{__html:r}})),u.default.createElement(f.ModalBody,null,u.default.createElement(g.default,{ref:"userSelect",isMulti:!1,className:"reviewer-select",placeholder:(0,p.gettext)("Please enter 1 or more character"),onSelectChange:this.handleSelectChange})),u.default.createElement(f.ModalFooter,null,u.default.createElement(f.Button,{color:"secondary",onClick:this.props.toggleDialog},(0,p.gettext)("Cancel")),u.default.createElement(f.Button,{color:"primary",onClick:this.submit},(0,p.gettext)("Submit"))))}}]),t}(u.default.Component);Y.propTypes=h,t.default=Y},759:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(2),p=n(37),m=r(p),g={isTextMode:d.default.bool.isRequired,isEditIconShow:d.default.bool.isRequired,roles:d.default.array.isRequired,currentRole:d.default.string.isRequired,onRoleChanged:d.default.func.isRequired,toggleItemFreezed:d.default.func},h=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.translateRole=function(e){return"Admin"===e?(0,f.gettext)("Admin"):"Member"===e?(0,f.gettext)("Member"):void 0},i=n,o(r,i)}return i(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(m.default,{isTextMode:this.props.isTextMode,isEditIconShow:this.props.isEditIconShow,options:this.props.roles,currentOption:this.props.currentRole,onOptionChanged:this.props.onRoleChanged,translateOption:this.translateRole,toggleItemFreezed:this.props.toggleItemFreezed})}}]),t}(u.default.Component);h.propTypes=g,t.default=h},785:function(e,t){},786:function(e,t){},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=new a.default;t.default=o},952:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),o=n(2),i=n(6),l=function(e){return e&&e.__esModule?e:{default:e}}(i);l.default.locale(o.lang);var s=function e(t){r(this,e),this.id=t.id,this.name=t.name,this.email=t.email,this.contact_email=t.owner_contact_email,this.is_active=t.is_active,this.quota=t.quota>0?a.Utils.bytesToSize(t.quota):"",this.self_usage=a.Utils.bytesToSize(t.self_usage),this.last_login=t.last_login?(0,l.default)(t.last_login).fromNow():"--",this.ctime=(0,l.default)(t.ctime).format("YYYY-MM-DD HH:mm:ss")};t.default=s},953:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(5),p=n(2),m=n(3),g=n(8),h=r(g),Y=n(1578),Z=r(Y),S={currentTab:d.default.string,toggleRevokeAdmin:d.default.func,isItemFreezed:d.default.bool.isRequired,toggleDelete:d.default.func.isRequired,onFreezedItem:d.default.func.isRequired,onUnfreezedItem:d.default.func.isRequired},L=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.props.isItemFreezed||n.setState({showMenu:!0,highlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({showMenu:!1,highlight:!1})},n.toggleDelete=function(){var e=n.props.user.email;n.props.toggleDelete(e)},n.toggleResetPW=function(){var e=n.props.user.email;m.seafileAPI.resetOrgUserPassword(p.orgID,e).then(function(t){var n=void 0;n=(0,p.gettext)("Successfully reset password to %(passwd)s for user %(user)s."),n=n.replace("%(passwd)s",t.data.new_password),n=n.replace("%(user)s",e),h.default.success(n)})},n.toggleRevokeAdmin=function(){var e=n.props.user.email;n.props.toggleRevokeAdmin(e)},n.changeStatus=function(e){var t=void 0;t="active"==e?1:0,m.seafileAPI.changeOrgUserStatus(n.props.user.id,t).then(function(e){n.setState({currentStatus:1==t?"active":"inactive",highlight:!1,showMenu:!1}),h.default.success((0,p.gettext)("Edit succeeded."))}).catch(function(e){h.default.danger((0,p.gettext)("Edit failed."))})},n.onDropdownToggleClick=function(e){e.preventDefault(),n.toggleOperationMenu(e)},n.toggleOperationMenu=function(e){e.stopPropagation(),n.setState({isItemMenuShow:!n.state.isItemMenuShow},function(){n.state.isItemMenuShow?n.props.onFreezedItem():(n.setState({highlight:!1,showMenu:!1}),n.props.onUnfreezedItem())})},n.state={highlight:!1,showMenu:!1,currentStatus:n.props.user.is_active?"active":"inactive",isItemMenuShow:!1},n.statusArray=["active","inactive"],n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.currentTab,r=p.siteRoot+"org/useradmin/info/"+encodeURIComponent(t.email)+"/",a=t.email!==p.username&&this.state.showMenu,o=a;return u.default.createElement("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement("a",{href:r,className:"font-weight-normal"},t.name)),u.default.createElement("td",null,u.default.createElement(Z.default,{isTextMode:!0,isEditIconShow:o,currentStatus:this.state.currentStatus,statusArray:this.statusArray,onStatusChanged:this.changeStatus})),u.default.createElement("td",null,t.quota?t.self_usage+" / "+t.quota:t.self_usage),u.default.createElement("td",{style:{fontSize:"11px"}},t.ctime," / ",t.last_login?t.last_login:"--"),u.default.createElement("td",{className:"text-center cursor-pointer"},a&&u.default.createElement(f.Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu},u.default.createElement(f.DropdownToggle,{tag:"a",className:"attr-action-icon fas fa-ellipsis-v",title:(0,p.gettext)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),u.default.createElement(f.DropdownMenu,null,u.default.createElement(f.DropdownItem,{onClick:this.toggleDelete},(0,p.gettext)("Delete")),u.default.createElement(f.DropdownItem,{onClick:this.toggleResetPW},(0,p.gettext)("ResetPwd")),"admins"==n&&u.default.createElement(f.DropdownItem,{onClick:this.toggleRevokeAdmin},(0,p.gettext)("Revoke Admin"))))))}}]),t}(u.default.Component);L.propTypes=S,t.default=L},954:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=r(s),c=n(1),d=r(c),f=n(6),p=r(f),m=n(3),g=n(2),h=n(4),Y=n(10),Z=r(Y),S=n(1589),L=r(S),C=n(1590),X=r(C),D=n(1591),J=r(D);n(785),p.default.locale(g.lang);var b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.listDepartGroups=function(){n.props.groupID?m.seafileAPI.orgAdminListGroupInfo(g.orgID,n.props.groupID,!0).then(function(e){n.setState({groups:e.data.groups})}):m.seafileAPI.orgAdminListDepartGroups(g.orgID).then(function(e){n.setState({groups:e.data.data})})},n.showAddDepartDialog=function(){n.setState({showAddDepartDialog:!0})},n.showDeleteDepartDialog=function(e){n.setState({showDeleteDepartDialog:!0,groupID:e.id,groupName:e.name})},n.showSetGroupQuotaDialog=function(e){n.setState({showSetGroupQuotaDialog:!0,groupID:e})},n.toggleCancel=function(){n.setState({showAddDepartDialog:!1,showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1})},n.onDepartChanged=function(){n.listDepartGroups()},n.state={groups:null,groupID:-1,groupName:"",showAddDepartDialog:!1,showDeleteDepartDialog:!1,showSetGroupQuotaDialog:!1},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.listDepartGroups()}},{key:"render",value:function(){var e=this,t=this.state.groups,n=!!this.props.groupID,r=n?(0,g.gettext)("Sub-departments"):(0,g.gettext)("Departments"),a=n?(0,g.gettext)("New Sub-department"):(0,g.gettext)("New Department"),o=n?(0,g.gettext)("No sub-departments"):(0,g.gettext)("No departments");return u.default.createElement("div",{className:"main-panel-center flex-row h-100"},u.default.createElement("div",{className:"cur-view-container o-auto"},u.default.createElement("div",{className:"cur-view-path"},u.default.createElement("div",{className:"fleft"},u.default.createElement("h3",{className:"sf-heading"},r)),u.default.createElement("div",{className:"fright"},u.default.createElement("button",{className:"btn-white operation-item",onClick:this.showAddDepartDialog},a))),u.default.createElement("div",{className:"cur-view-content"},t&&t.length>0?u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",{width:"40%"},(0,g.gettext)("Name")),u.default.createElement("th",{width:"25%"},(0,g.gettext)("Created At")),u.default.createElement("th",{width:"20%"},(0,g.gettext)("Quota")),u.default.createElement("th",{width:"15%"}))),u.default.createElement("tbody",null,t.map(function(t,n){return u.default.createElement(u.default.Fragment,{key:t.id},u.default.createElement(w,{group:t,showDeleteDepartDialog:e.showDeleteDepartDialog,showSetGroupQuotaDialog:e.showSetGroupQuotaDialog}))}))):u.default.createElement("p",{className:"no-group"},o)),u.default.createElement(u.default.Fragment,null,this.state.showAddDepartDialog&&u.default.createElement(Z.default,null,u.default.createElement(L.default,{toggle:this.toggleCancel,onDepartChanged:this.onDepartChanged,parentGroupID:this.props.groupID,groupID:this.state.groupID})),this.state.showDeleteDepartDialog&&u.default.createElement(Z.default,null,u.default.createElement(X.default,{toggle:this.toggleCancel,groupID:this.state.groupID,groupName:this.state.groupName,onDepartChanged:this.onDepartChanged})),this.state.showSetGroupQuotaDialog&&u.default.createElement(Z.default,null,u.default.createElement(J.default,{toggle:this.toggleCancel,groupID:this.state.groupID,onDepartChanged:this.onDepartChanged})))))}}]),t}(u.default.Component),w=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({highlight:!0})},n.onMouseLeave=function(){n.setState({highlight:!1})},n.state={highlight:!1},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.group,t=this.state.highlight,n=g.serviceURL+"/org/departmentadmin/groups/"+e.id+"/";return u.default.createElement("tr",{className:t?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},u.default.createElement("td",null,u.default.createElement("a",{href:n,onClick:this.changeOrgGroup},e.name)),u.default.createElement("td",null,(0,p.default)(e.created_at).fromNow()),u.default.createElement("td",{onClick:this.props.showSetGroupQuotaDialog.bind(this,e.id)},h.Utils.bytesToSize(e.quota)," ",u.default.createElement("span",{title:"Edit Quota",className:"fa fa-pencil-alt attr-action-icon "+(t?"":"vh")})),u.default.createElement("td",{className:"cursor-pointer text-center",onClick:this.props.showDeleteDepartDialog.bind(this,e)},u.default.createElement("span",{className:"sf2-icon-delete action-icon  "+(t?"":"vh"),title:"Delete"})))}}]),t}(u.default.Component),v={group:d.default.object.isRequired,showSetGroupQuotaDialog:d.default.func.isRequired,showDeleteDepartDialog:d.default.func.isRequired};w.propTypes=v,t.default=b}},[1570]);