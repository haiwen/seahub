/*! For license information please see excalidrawEditor.927b7f5e.js.LICENSE.txt */
(self.webpackChunkseahub_frontend=self.webpackChunkseahub_frontend||[]).push([[3e3],{49483:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(23029),a=n(92901),i=n(39874),o=n(85501),l=n(9950),s=n(44414),c=function(e){function t(){return(0,r.A)(this,t),(0,i.A)(this,t,arguments)}return(0,o.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){return(0,s.jsx)("div",{className:"empty-loading-page",children:(0,s.jsxs)("div",{className:"lds-ripple page-centered",children:[(0,s.jsx)("div",{}),(0,s.jsx)("div",{})]})})}}])}(l.Component),d=c},62381:function(e,t,n){"use strict";var r=n(9950),a=n.t(r,2),i=n(1352),o=n(9961),l=n(90675),s=n(10467),c=n(5544),d=n(39874),u=n(85501),f=n(23029),h=n(92901),p=n(64467),v=n(89379),U=n(24765),m=n(80045),g=n(60436),b=n(57885),y=n(63137),x=n(89023),w=n(98718),A=n(91618),E=0;function k(e,t){var n="atom".concat(++E),r={toString:function(){return this.debugLabel?n+":"+this.debugLabel:n}};return"function"===typeof e?r.read=e:(r.init=e,r.read=S,r.write=M),t&&(r.write=t),r}function S(e){return e(this)}function M(e,t,n){return t(this,"function"===typeof n?n(e(this)):n)}var C,j=function(e,t){return e.unstable_is?e.unstable_is(t):t===e},I=function(e){return"init"in e},D=function(e){return!!e.write},T=new WeakMap,_=function(e){var t;return L(e)&&!(null==(t=T.get(e))?void 0:t[1])},L=function(e){return"function"===typeof(null==e?void 0:e.then)},R=function(e){return"v"in e||"e"in e},P=function(e){if("e"in e)throw e.e;if(!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},N=function(e,t,n){n.p.has(e)||(n.p.add(e),t.then((function(){n.p.delete(e)}),(function(){n.p.delete(e)})))},F=function(e,t,n,r,a){var i;if(r===t)throw new Error("[Bug] atom cannot depend on itself");n.d.set(r,a.n),_(n.v)&&N(t,n.v,a),null==(i=a.m)||i.t.add(t),e&&H(e,r,t)},O=function(){return{D:new Map,H:new Set,M:new Set,L:new Set}},z=function(e,t,n){e[t].add(n)},B=function(e,t,n){e.D.has(t)||(e.D.set(t,new Set),z(e,"M",(function(){var t;null==(t=n.m)||t.l.forEach((function(t){return z(e,"M",t)}))})))},H=function(e,t,n){var r=e.D.get(t);r&&r.add(n)},W=function(e){for(var t,n=!1,r=function(e){try{e()}catch(Ca){n||(t=Ca,n=!0)}};e.H.size||e.M.size||e.L.size;)e.D.clear(),e.H.forEach(r),e.H.clear(),e.M.forEach(r),e.M.clear(),e.L.forEach(r),e.L.clear();if(n)throw t},X=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],o=t[3],l=function(e,t,n){var a="v"in t,i=t.v,o=_(t.v)?t.v:null;if(L(n)){!function(e){if(!T.has(e)){var t=[new Set,!1];T.set(e,t);var n=function(){t[1]=!0};e.then(n,n),e.onCancel=function(e){t[0].add(e)}}}(n);var l,s=(0,U.A)(t.d.keys());try{for(s.s();!(l=s.n()).done;){var c=l.value;N(e,n,r(c))}}catch(d){s.e(d)}finally{s.f()}t.v=n}else t.v=n;delete t.e,delete t.x,a&&Object.is(i,t.v)||(++t.n,o&&function(e,t){var n=T.get(e);if(!n)throw new Error("[Bug] cancelable promise not found");n[1]=!0,n[0].forEach((function(e){return e(t)}))}(o,n))},s=function(e,t){var n,i=r(t);if(R(i)){if(i.m&&!i.x)return i;if(Array.from(i.d).every((function(t){var n=(0,c.A)(t,2),r=n[0],a=n[1];return s(e,r).n===a})))return i}i.d.clear();var o,d,u=!0,p={get signal(){return o||(o=new AbortController),o.signal},get setSelf(){return D(t)||console.warn("setSelf function cannot be used with read-only atom"),!d&&D(t)&&(d=function(){if(u&&console.warn("setSelf function cannot be called in sync"),!u){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return f.apply(void 0,[t].concat(n))}}),d}};try{var v=a(t,(function(n){if(j(t,n)){var a=r(n);if(!R(a)){if(!I(n))throw new Error("no atom init");l(n,a,n.init)}return P(a)}var o=s(e,n);try{return P(o)}finally{if(u)F(e,t,i,n,o);else{var c=O();F(c,t,i,n,o),h(c,t,i),W(c)}}}),p);if(l(t,i,v),L(v)){null==(n=v.onCancel)||n.call(v,(function(){return null==o?void 0:o.abort()}));var U=function(){if(i.m){var e=O();h(e,t,i),W(e)}};v.then(U,U)}return i}catch(m){return delete i.v,i.e=m,delete i.x,++i.n,i}finally{u=!1}},d=function(e,t,n){var a,i,o,l=new Map,s=(0,U.A)((null==(a=n.m)?void 0:a.t)||[]);try{for(s.s();!(o=s.n()).done;){var c=o.value,d=r(c);d.m&&l.set(c,d)}}catch(p){s.e(p)}finally{s.f()}var u,f=(0,U.A)(n.p);try{for(f.s();!(u=f.n()).done;){var h=u.value;l.set(h,r(h))}}catch(p){f.e(p)}finally{f.f()}return null==(i=function(e,t){return e.D.get(t)}(e,t))||i.forEach((function(e){l.set(e,r(e))})),l},u=function(e,t){var n=!0;try{for(var a=arguments.length,o=new Array(a>2?a-2:0),f=2;f<a;f++)o[f-2]=arguments[f];return i.apply(void 0,[t,function(t){return P(s(e,t))},function(a){var i=r(a);try{for(var o=arguments.length,f=new Array(o>1?o-1:0),p=1;p<o;p++)f[p-1]=arguments[p];if(j(t,a)){if(!I(a))throw new Error("atom not writable");var v=i.n,m=f[0];return l(a,i,m),h(e,a,i),void(v!==i.n&&(B(e,a,i),function(e,t,n){for(var r=[],a=new Set,i=new Set,o=[[t,n]];o.length>0;){var l=(0,c.A)(o[o.length-1],2),u=l[0],f=l[1];if(i.has(u))o.pop();else if(a.has(u))r.push([u,f,f.n]),i.add(u),f.x=!0,o.pop();else{a.add(u);var p,v=(0,U.A)(d(e,u,f));try{for(v.s();!(p=v.n()).done;){var m=(0,c.A)(p.value,2),g=m[0],b=m[1];u===g||a.has(g)||o.push([g,b])}}catch(y){v.e(y)}finally{v.f()}}}z(e,"H",(function(){for(var n=new Set([t]),a=r.length-1;a>=0;--a){var i,o=(0,c.A)(r[a],3),l=o[0],d=o[1],u=o[2],f=!1,p=(0,U.A)(d.d.keys());try{for(p.s();!(i=p.n()).done;){var v=i.value;if(v!==l&&n.has(v)){f=!0;break}}}catch(y){p.e(y)}finally{p.f()}f&&(s(e,l),h(e,l,d),u!==d.n&&(B(e,l,d),n.add(l))),delete d.x}}))}(e,a,i)))}return u.apply(void 0,[e,a].concat(f))}finally{n||W(e)}}].concat(o))}finally{n=!1}},f=function(e){var t=O();try{for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return u.apply(void 0,[t,e].concat(r))}finally{W(t)}},h=function(e,t,n){if(n.m&&!_(n.v)){var a,i=(0,U.A)(n.d.keys());try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!n.m.d.has(o))p(e,o,r(o)).t.add(t),n.m.d.add(o)}}catch(u){i.e(u)}finally{i.f()}var l,s=(0,U.A)(n.m.d||[]);try{for(s.s();!(l=s.n()).done;){var c=l.value;if(!n.d.has(c)){n.m.d.delete(c);var d=v(e,c,r(c));null==d||d.t.delete(t)}}}catch(u){s.e(u)}finally{s.f()}}},p=function(e,t,n){if(!n.m){s(e,t);var a,i=(0,U.A)(n.d.keys());try{for(i.s();!(a=i.n()).done;){var l=a.value;p(e,l,r(l)).t.add(t)}}catch(h){i.e(h)}finally{i.f()}if(n.m={l:new Set,d:new Set(n.d.keys()),t:new Set},D(t)){var c,d=n.m,f=function(e,n){var r=!0;c=function(){try{for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return u.apply(void 0,[e,t].concat(a))}finally{r||W(e)}};try{return n()}finally{r=!1}};z(e,"L",(function(){var n=f(e,(function(){return o(t,(function(){return c.apply(void 0,arguments)}))}));n&&(d.u=function(e){return f(e,n)})}))}}return n.m},v=function(e,t,n){if(!n.m||n.m.l.size||Array.from(n.m.t).some((function(e){var n;return null==(n=r(e).m)?void 0:n.d.has(t)})))return n.m;var a=n.m.u;a&&z(e,"L",(function(){return a(e)})),delete n.m;var i,o=(0,U.A)(n.d.keys());try{for(o.s();!(i=o.n()).done;){var l=i.value,s=v(e,l,r(l));null==s||s.t.delete(t)}}catch(c){o.e(c)}finally{o.f()}};return{get:function(e){return P(s(void 0,e))},set:f,sub:function(e,t){var n=O(),a=r(e),i=p(n,e,a).l;return i.add(t),W(n),function(){i.delete(t);var n=O();v(n,e,a),W(n)}},unstable_derive:function(e){return X.apply(void 0,(0,g.A)(e(r,a,i,o)))}}},G=function(){var e=new WeakMap,t=X((function(t){if(!t)throw new Error("Atom is undefined or null");var n=e.get(t);return n||(n={d:new Map,p:new Set,n:0},e.set(t,n)),n}),(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.read.apply(e,n)}),(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.write.apply(e,n)}),(function(e){for(var t,n,r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return null==(n=e.onMount)?void 0:(t=n).call.apply(t,[e].concat(a))}));return function(e){var t,n=new WeakMap,r=new Set,a=0,i=e.unstable_derive((function(e,i,o,l){return t=e,[function(t){var a=n.get(t);if(!a){var i=e(t);a=new Proxy(i,{set:function(e,n,a){return"m"===n&&r.add(t),Reflect.set(e,n,a)},deleteProperty:function(e,n){return"m"===n&&r.delete(t),Reflect.deleteProperty(e,n)}}),n.set(t,a)}return a},i,function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),l=3;l<r;l++)i[l-3]=arguments[l];return a?n.apply(void 0,[e].concat(i)):o.apply(void 0,[e,t,n].concat(i))},l]})),o=i.set,l={dev4_get_internal_weak_map:function(){return{get:function(e){var n=t(e);if(0!==n.n)return n}}},dev4_get_mounted_atoms:function(){return r},dev4_restore_atoms:function(e){var t={read:function(){return null},write:function(t,n){++a;try{var r,i=(0,U.A)(e);try{for(i.s();!(r=i.n()).done;){var o=(0,c.A)(r.value,2),l=o[0],s=o[1];I(l)&&n(l,s)}}catch(d){i.e(d)}finally{i.f()}}finally{--a}}};o(t)}};return Object.assign(i,l)}(t)},V=n(44414),Y=(0,r.createContext)(void 0),Z=function(e){var t=(0,r.useContext)(Y);return(null==e?void 0:e.store)||t||(C||(C=G(),globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=C),globalThis.__JOTAI_DEFAULT_STORE__!==C&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044")),C)},K=function(e){return"function"===typeof(null==e?void 0:e.then)},q=function(e){e.status="pending",e.then((function(t){e.status="fulfilled",e.value=t}),(function(t){e.status="rejected",e.reason=t}))},$=r.use||function(e){if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(q(e),e)},Q=new WeakMap,J=function(e){var t=Q.get(e);return t||(t=new Promise((function(n,r){var a=e,i=function(e){return function(t){a===e&&n(t)}},o=function(e){return function(t){a===e&&r(t)}},l=function(e){"onCancel"in e&&"function"===typeof e.onCancel&&e.onCancel((function(r){if(r===e)throw new Error("[Bug] p is not updated even after cancelation");K(r)?(Q.set(r,t),a=r,r.then(i(r),o(r)),l(r)):n(r)}))};e.then(i(e),o(e)),l(e)})),Q.set(e,t)),t};function ee(e,t){var n=Z(t),a=(0,r.useReducer)((function(t){var r=n.get(e);return Object.is(t[0],r)&&t[1]===n&&t[2]===e?t:[r,n,e]}),void 0,(function(){return[n.get(e),n,e]})),i=(0,c.A)(a,2),o=(0,c.A)(i[0],3),l=o[0],s=o[1],d=o[2],u=i[1],f=l;s===n&&d===e||(u(),f=n.get(e));var h=null==t?void 0:t.delay;if((0,r.useEffect)((function(){var t=n.sub(e,(function(){if("number"===typeof h){var t=n.get(e);return K(t)&&q(J(t)),void setTimeout(u,h)}u()}));return u(),t}),[n,e,h]),(0,r.useDebugValue)(f),K(f)){var p=J(f);return $(p)}return f}function te(e,t){var n=Z(t),a=(0,r.useCallback)((function(){if(!("write"in e))throw new Error("not writable atom");for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n.set.apply(n,[e].concat(r))}),[n,e]);return a}var ne=new WeakMap;var re=function(e){var t=ne.get(e);return t||(t=new WeakSet,ne.set(e,t)),t};function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}function ie(){var e=(0,r.createContext)(null);var t=function(t){var n=(0,r.useContext)(e);if(!n)throw new Error("Missing Provider from createIsolation");return Z(ae({store:n},t))};return{Provider:function(t){var n=t.store,a=t.initialValues,i=void 0===a?[]:a,o=t.children,l=(0,r.useRef)(n);return l.current||(l.current=G()),function(e,t){var n,r=Z(t),a=re(r),i=(0,U.A)(e);try{for(i.s();!(n=i.n()).done;){var o=(0,c.A)(n.value,2),l=o[0],s=o[1];a.has(l)&&!(null==t?void 0:t.dangerouslyForceHydrate)||(a.add(l),r.set(l,s))}}catch(d){i.e(d)}finally{i.f()}}(i,{store:l.current}),(0,V.jsx)(e.Provider,{value:l.current,children:o})},useStore:t,useAtom:function(e,n){return function(e,t){return[ee(e,t),te(e,t)]}(e,ae({store:t()},n))},useAtomValue:function(e,n){return ee(e,ae({store:t()},n))},useSetAtom:function(e,n){return te(e,ae({store:t()},n))}}}var oe=k(null);oe.read,oe.write;(0,r.createContext)({scope:void 0,baseStore:void 0});var le=n(2803),se=n(17119),ce=n(49095),de=n(96772);function ue(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null===e||void 0===e||e(n),!1===r||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}}function fe(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function he(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!1,r=t.map((function(t){var r=fe(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return function(){for(var e=0;e<r.length;e++){var n=r[e];"function"==typeof n?n():fe(t[e],null)}}}}function pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useCallback(he.apply(void 0,t),t)}var ve=["scope","children"];function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];var a=function(){var t=n.map((function(e){return r.createContext(e)}));return function(n){var a=(null===n||void 0===n?void 0:n[e])||t;return r.useMemo((function(){return(0,p.default)({},"__scope".concat(e),(0,v.A)((0,v.A)({},n),{},(0,p.default)({},e,a)))}),[n,a])}};return a.scopeName=e,[function(t,a){var i=r.createContext(a),o=n.length;n=[].concat((0,g.A)(n),[a]);var l=function(t){var n,a=t.scope,l=t.children,s=(0,m.A)(t,ve),c=(null===a||void 0===a||null===(n=a[e])||void 0===n?void 0:n[o])||i,d=r.useMemo((function(){return s}),Object.values(s));return(0,V.jsx)(c.Provider,{value:d,children:l})};return l.displayName=t+"Provider",[l,function(n,l){var s,c=(null===l||void 0===l||null===(s=l[e])||void 0===s?void 0:s[o])||i,d=r.useContext(c);if(d)return d;if(void 0!==a)return a;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},me.apply(void 0,[a].concat((0,g.A)(t)))]}function me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0];if(1===t.length)return a;var i=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,a=n.scopeName,i=r(t)["__scope".concat(a)];return(0,v.A)((0,v.A)({},e),i)}),{});return r.useMemo((function(){return(0,p.default)({},"__scope".concat(a.scopeName),n)}),[n])}};return i.scopeName=a.scopeName,i}var ge=["children"],be=["children"],ye=r.forwardRef((function(e,t){var n=e.children,a=(0,m.A)(e,ge),i=r.Children.toArray(n),o=i.find(Ae);if(o){var l=o.props.children,s=i.map((function(e){return e===o?r.Children.count(l)>1?r.Children.only(null):r.isValidElement(l)?l.props.children:null:e}));return(0,V.jsx)(xe,(0,v.A)((0,v.A)({},a),{},{ref:t,children:r.isValidElement(l)?r.cloneElement(l,void 0,s):null}))}return(0,V.jsx)(xe,(0,v.A)((0,v.A)({},a),{},{ref:t,children:n}))}));ye.displayName="Slot";var xe=r.forwardRef((function(e,t){var n=e.children,a=(0,m.A)(e,be);if(r.isValidElement(n)){var i=function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning)return e.props.ref;return e.props.ref||e.ref}(n),o=function(e,t){var n=(0,v.A)({},t),r=function(){var r=e[a],i=t[a];/^on[A-Z]/.test(a)?r&&i?n[a]=function(){i.apply(void 0,arguments),r.apply(void 0,arguments)}:r&&(n[a]=r):"style"===a?n[a]=(0,v.A)((0,v.A)({},r),i):"className"===a&&(n[a]=[r,i].filter(Boolean).join(" "))};for(var a in t)r();return(0,v.A)((0,v.A)({},e),n)}(a,n.props);return n.type!==r.Fragment&&(o.ref=t?he(t,i):i),r.cloneElement(n,o)}return r.Children.count(n)>1?r.Children.only(null):null}));xe.displayName="SlotClone";var we=function(e){var t=e.children;return(0,V.jsx)(V.Fragment,{children:t})};function Ae(e){return r.isValidElement(e)&&e.type===we}var Ee=["asChild"],ke=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=r.forwardRef((function(e,n){var r=e.asChild,a=(0,m.A)(e,Ee),i=r?ye:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,V.jsx)(i,(0,v.A)((0,v.A)({},a),{},{ref:n}))}));return n.displayName="Primitive.".concat(t),(0,v.A)((0,v.A)({},e),{},(0,p.default)({},t,n))}),{});function Se(e){var t=r.useRef(e);return r.useEffect((function(){t.current=e})),r.useMemo((function(){return function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}}),[])}var Me,Ce=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"],je="dismissableLayer.update",Ie="dismissableLayer.pointerDownOutside",De="dismissableLayer.focusOutside",Te=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_e=r.forwardRef((function(e,t){var n,a=e.disableOutsidePointerEvents,i=void 0!==a&&a,o=e.onEscapeKeyDown,l=e.onPointerDownOutside,s=e.onFocusOutside,d=e.onInteractOutside,u=e.onDismiss,f=(0,m.A)(e,Ce),h=r.useContext(Te),p=r.useState(null),U=(0,c.A)(p,2),b=U[0],y=U[1],x=null!==(n=null===b||void 0===b?void 0:b.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,w=r.useState({}),A=(0,c.A)(w,2)[1],E=pe(t,(function(e){return y(e)})),k=Array.from(h.layers),S=(0,g.A)(h.layersWithOutsidePointerEventsDisabled).slice(-1),M=(0,c.A)(S,1)[0],C=k.indexOf(M),j=b?k.indexOf(b):-1,I=h.layersWithOutsidePointerEventsDisabled.size>0,D=j>=C,T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=Se(e),a=r.useRef(!1),i=r.useRef((function(){}));return r.useEffect((function(){var e=function(e){if(e.target&&!a.current){var r=function(){Pe(Ie,n,o,{discrete:!0})},o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);a.current=!1},r=window.setTimeout((function(){t.addEventListener("pointerdown",e)}),0);return function(){window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,n]),{onPointerDownCapture:function(){return a.current=!0}}}((function(e){var t=e.target,n=(0,g.A)(h.branches).some((function(e){return e.contains(t)}));D&&!n&&(null===l||void 0===l||l(e),null===d||void 0===d||d(e),e.defaultPrevented||null===u||void 0===u||u())}),x),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=Se(e),a=r.useRef(!1);return r.useEffect((function(){var e=function(e){e.target&&!a.current&&Pe(De,n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),function(){return t.removeEventListener("focusin",e)}}),[t,n]),{onFocusCapture:function(){return a.current=!0},onBlurCapture:function(){return a.current=!1}}}((function(e){var t=e.target;(0,g.A)(h.branches).some((function(e){return e.contains(t)}))||(null===s||void 0===s||s(e),null===d||void 0===d||d(e),e.defaultPrevented||null===u||void 0===u||u())}),x);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=Se(e);r.useEffect((function(){var e=function(e){"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),function(){return t.removeEventListener("keydown",e,{capture:!0})}}),[n,t])}((function(e){j===h.layers.size-1&&(null===o||void 0===o||o(e),!e.defaultPrevented&&u&&(e.preventDefault(),u()))}),x),r.useEffect((function(){if(b)return i&&(0===h.layersWithOutsidePointerEventsDisabled.size&&(Me=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(b)),h.layers.add(b),Re(),function(){i&&1===h.layersWithOutsidePointerEventsDisabled.size&&(x.body.style.pointerEvents=Me)}}),[b,x,i,h]),r.useEffect((function(){return function(){b&&(h.layers.delete(b),h.layersWithOutsidePointerEventsDisabled.delete(b),Re())}}),[b,h]),r.useEffect((function(){var e=function(){return A({})};return document.addEventListener(je,e),function(){return document.removeEventListener(je,e)}}),[]),(0,V.jsx)(ke.div,(0,v.A)((0,v.A)({},f),{},{ref:E,style:(0,v.A)({pointerEvents:I?D?"auto":"none":void 0},e.style),onFocusCapture:ue(e.onFocusCapture,_.onFocusCapture),onBlurCapture:ue(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ue(e.onPointerDownCapture,T.onPointerDownCapture)}))}));_e.displayName="DismissableLayer";var Le=r.forwardRef((function(e,t){var n=r.useContext(Te),a=r.useRef(null),i=pe(t,a);return r.useEffect((function(){var e=a.current;if(e)return n.branches.add(e),function(){n.branches.delete(e)}}),[n.branches]),(0,V.jsx)(ke.div,(0,v.A)((0,v.A)({},e),{},{ref:i}))}));function Re(){var e=new CustomEvent(je);document.dispatchEvent(e)}function Pe(e,t,n,r){var a=r.discrete,i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),a?function(e,t){e&&se.flushSync((function(){return e.dispatchEvent(t)}))}(i,o):i.dispatchEvent(o)}Le.displayName="DismissableLayerBranch";var Ne=0;function Fe(){r.useEffect((function(){var e,t,n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:Oe()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:Oe()),Ne++,function(){1===Ne&&document.querySelectorAll("[data-radix-focus-guard]").forEach((function(e){return e.remove()})),Ne--}}),[])}function Oe(){var e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ze=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"],Be="focusScope.autoFocusOnMount",He="focusScope.autoFocusOnUnmount",We={bubbles:!1,cancelable:!0},Xe=r.forwardRef((function(e,t){var n=e.loop,a=void 0!==n&&n,i=e.trapped,o=void 0!==i&&i,l=e.onMountAutoFocus,s=e.onUnmountAutoFocus,d=(0,m.A)(e,ze),u=r.useState(null),f=(0,c.A)(u,2),h=f[0],p=f[1],g=Se(l),b=Se(s),y=r.useRef(null),x=pe(t,(function(e){return p(e)})),w=r.useRef({paused:!1,pause:function(){this.paused=!0},resume:function(){this.paused=!1}}).current;r.useEffect((function(){if(o){var e=function(e){if(!w.paused&&h){var t=e.target;h.contains(t)?y.current=t:Ze(y.current,{select:!0})}},t=function(e){if(!w.paused&&h){var t=e.relatedTarget;null!==t&&(h.contains(t)||Ze(y.current,{select:!0}))}},n=function(e){if(document.activeElement===document.body){var t,n=(0,U.A)(e);try{for(n.s();!(t=n.n()).done;){t.value.removedNodes.length>0&&Ze(h)}}catch(r){n.e(r)}finally{n.f()}}};document.addEventListener("focusin",e),document.addEventListener("focusout",t);var r=new MutationObserver(n);return h&&r.observe(h,{childList:!0,subtree:!0}),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[o,h,w.paused]),r.useEffect((function(){if(h){Ke.add(w);var e=document.activeElement;if(!h.contains(e)){var t=new CustomEvent(Be,We);h.addEventListener(Be,g),h.dispatchEvent(t),t.defaultPrevented||(!function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.select,a=void 0!==r&&r,i=document.activeElement,o=(0,U.A)(e);try{for(o.s();!(t=o.n()).done;){if(Ze(t.value,{select:a}),document.activeElement!==i)return}}catch(l){o.e(l)}finally{o.f()}}((n=Ge(h),n.filter((function(e){return"A"!==e.tagName}))),{select:!0}),document.activeElement===e&&Ze(h))}return function(){h.removeEventListener(Be,g),setTimeout((function(){var t=new CustomEvent(He,We);h.addEventListener(He,b),h.dispatchEvent(t),t.defaultPrevented||Ze(null!==e&&void 0!==e?e:document.body,{select:!0}),h.removeEventListener(He,b),Ke.remove(w)}),0)}}var n}),[h,g,b,w]);var A=r.useCallback((function(e){if((a||o)&&!w.paused){var t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){var r=e.currentTarget,i=function(e){var t=Ge(e),n=Ve(t,e),r=Ve(t.reverse(),e);return[n,r]}(r),l=(0,c.A)(i,2),s=l[0],d=l[1];s&&d?e.shiftKey||n!==d?e.shiftKey&&n===s&&(e.preventDefault(),a&&Ze(d,{select:!0})):(e.preventDefault(),a&&Ze(s,{select:!0})):n===r&&e.preventDefault()}}}),[a,o,w.paused]);return(0,V.jsx)(ke.div,(0,v.A)((0,v.A)({tabIndex:-1},d),{},{ref:x,onKeyDown:A}))}));function Ge(e){for(var t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){var t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});n.nextNode();)t.push(n.currentNode);return t}function Ve(e,t){var n,r=(0,U.A)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!Ye(a,{upTo:t}))return a}}catch(i){r.e(i)}finally{r.f()}}function Ye(e,t){var n=t.upTo;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Ze(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).select,n=void 0!==t&&t;if(e&&e.focus){var r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&n&&e.select()}}Xe.displayName="FocusScope";var Ke=function(){var e=[];return{add:function(t){var n=e[0];t!==n&&(null===n||void 0===n||n.pause()),(e=qe(e,t)).unshift(t)},remove:function(t){var n;null===(n=(e=qe(e,t))[0])||void 0===n||n.resume()}}}();function qe(e,t){var n=(0,g.A)(e),r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var $e=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?r.useLayoutEffect:function(){},Qe=a["useId".toString()]||function(){},Je=0;function et(e){var t=r.useState(Qe()),n=(0,c.A)(t,2),a=n[0],i=n[1];return $e((function(){e||i((function(e){return null!==e&&void 0!==e?e:String(Je++)}))}),[e]),e||(a?"radix-".concat(a):"")}var tt=n(32910),nt="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;function rt(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;var n,r,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!==r--;)if(!rt(e[r],t[r]))return!1;return!0}if((n=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){var i=a[r];if(("_owner"!==i||!e.$$typeof)&&!rt(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function at(e){return"undefined"===typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function it(e,t){var n=at(e);return Math.round(t*n)/n}function ot(e){var t=r.useRef(e);return nt((function(){t.current=e})),t}var lt=function(e,t){return(0,v.A)((0,v.A)({},(0,tt.BN)(e)),{},{options:[e,t]})},st=function(e,t){return(0,v.A)((0,v.A)({},(0,tt.ER)(e)),{},{options:[e,t]})},ct=function(e,t){return(0,v.A)((0,v.A)({},(0,tt.UU)(e)),{},{options:[e,t]})},dt=function(e,t){return(0,v.A)((0,v.A)({},(0,tt.Ej)(e)),{},{options:[e,t]})},ut=function(e,t){return(0,v.A)((0,v.A)({},(0,tt.jD)(e)),{},{options:[e,t]})},ft=function(e,t){return(0,v.A)((0,v.A)({},function(e){return{name:"arrow",options:e,fn:function(t){var n,r="function"===typeof e?e(t):e,a=r.element,i=r.padding;return a&&(n=a,{}.hasOwnProperty.call(n,"current"))?null!=a.current?(0,tt.UE)({element:a.current,padding:i}).fn(t):{}:a?(0,tt.UE)({element:a,padding:i}).fn(t):{}}}}(e)),{},{options:[e,t]})},ht=["children","width","height"],pt=r.forwardRef((function(e,t){var n=e.children,r=e.width,a=void 0===r?10:r,i=e.height,o=void 0===i?5:i,l=(0,m.A)(e,ht);return(0,V.jsx)(ke.svg,(0,v.A)((0,v.A)({},l),{},{ref:t,width:a,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,V.jsx)("polygon",{points:"0,0 30,0 15,10"})}))}));pt.displayName="Arrow";var vt=pt;var Ut=["__scopePopper","virtualRef"],mt=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],gt=["__scopePopper"],bt="Popper",yt=Ue(bt),xt=(0,c.A)(yt,2),wt=xt[0],At=xt[1],Et=wt(bt),kt=(0,c.A)(Et,2),St=kt[0],Mt=kt[1],Ct=function(e){var t=e.__scopePopper,n=e.children,a=r.useState(null),i=(0,c.A)(a,2),o=i[0],l=i[1];return(0,V.jsx)(St,{scope:t,anchor:o,onAnchorChange:l,children:n})};Ct.displayName=bt;var jt="PopperAnchor",It=r.forwardRef((function(e,t){var n=e.__scopePopper,a=e.virtualRef,i=(0,m.A)(e,Ut),o=Mt(jt,n),l=r.useRef(null),s=pe(t,l);return r.useEffect((function(){o.onAnchorChange((null===a||void 0===a?void 0:a.current)||l.current)})),a?null:(0,V.jsx)(ke.div,(0,v.A)((0,v.A)({},i),{},{ref:s}))}));It.displayName=jt;var Dt="PopperContent",Tt=wt(Dt),_t=(0,c.A)(Tt,2),Lt=_t[0],Rt=_t[1],Pt=r.forwardRef((function(e,t){var n,a,i,o,l,s,d,u,f,h,U=e.__scopePopper,g=e.side,b=void 0===g?"bottom":g,y=e.sideOffset,x=void 0===y?0:y,w=e.align,A=void 0===w?"center":w,E=e.alignOffset,k=void 0===E?0:E,S=e.arrowPadding,M=void 0===S?0:S,C=e.avoidCollisions,j=void 0===C||C,I=e.collisionBoundary,D=void 0===I?[]:I,T=e.collisionPadding,_=void 0===T?0:T,L=e.sticky,R=void 0===L?"partial":L,P=e.hideWhenDetached,N=void 0!==P&&P,F=e.updatePositionStrategy,O=void 0===F?"optimized":F,z=e.onPlaced,B=(0,m.A)(e,mt),H=Mt(Dt,U),W=r.useState(null),X=(0,c.A)(W,2),G=X[0],Y=X[1],Z=pe(t,(function(e){return Y(e)})),K=r.useState(null),q=(0,c.A)(K,2),$=q[0],Q=q[1],J=function(e){var t=r.useState(void 0),n=(0,c.A)(t,2),a=n[0],i=n[1];return $e((function(){if(e){i({width:e.offsetWidth,height:e.offsetHeight});var t=new ResizeObserver((function(t){if(Array.isArray(t)&&t.length){var n,r,a=t[0];if("borderBoxSize"in a){var o=a.borderBoxSize,l=Array.isArray(o)?o[0]:o;n=l.inlineSize,r=l.blockSize}else n=e.offsetWidth,r=e.offsetHeight;i({width:n,height:r})}}));return t.observe(e,{box:"border-box"}),function(){return t.unobserve(e)}}i(void 0)}),[e]),a}($),ee=null!==(n=null===J||void 0===J?void 0:J.width)&&void 0!==n?n:0,te=null!==(a=null===J||void 0===J?void 0:J.height)&&void 0!==a?a:0,ne=b+("center"!==A?"-"+A:""),re="number"===typeof _?_:(0,v.A)({top:0,right:0,bottom:0,left:0},_),ae=Array.isArray(D)?D:[D],ie=ae.length>0,oe={padding:re,boundary:ae.filter(zt),altBoundary:ie},le=function(e){void 0===e&&(e={});var t=e,n=t.placement,a=void 0===n?"bottom":n,i=t.strategy,o=void 0===i?"absolute":i,l=t.middleware,s=void 0===l?[]:l,d=t.platform,u=t.elements,f=void 0===u?{}:u,h=f.reference,p=f.floating,U=t.transform,m=void 0===U||U,g=t.whileElementsMounted,b=t.open,y=r.useState({x:0,y:0,strategy:o,placement:a,middlewareData:{},isPositioned:!1}),x=(0,c.A)(y,2),w=x[0],A=x[1],E=r.useState(s),k=(0,c.A)(E,2),S=k[0],M=k[1];rt(S,s)||M(s);var C=r.useState(null),j=(0,c.A)(C,2),I=j[0],D=j[1],T=r.useState(null),_=(0,c.A)(T,2),L=_[0],R=_[1],P=r.useCallback((function(e){e!==z.current&&(z.current=e,D(e))}),[]),N=r.useCallback((function(e){e!==B.current&&(B.current=e,R(e))}),[]),F=h||I,O=p||L,z=r.useRef(null),B=r.useRef(null),H=r.useRef(w),W=null!=g,X=ot(g),G=ot(d),V=ot(b),Y=r.useCallback((function(){if(z.current&&B.current){var e={placement:a,strategy:o,middleware:S};G.current&&(e.platform=G.current),(0,tt.rD)(z.current,B.current,e).then((function(e){var t=(0,v.A)((0,v.A)({},e),{},{isPositioned:!1!==V.current});Z.current&&!rt(H.current,t)&&(H.current=t,se.flushSync((function(){A(t)})))}))}}),[S,a,o,G,V]);nt((function(){!1===b&&H.current.isPositioned&&(H.current.isPositioned=!1,A((function(e){return(0,v.A)((0,v.A)({},e),{},{isPositioned:!1})})))}),[b]);var Z=r.useRef(!1);nt((function(){return Z.current=!0,function(){Z.current=!1}}),[]),nt((function(){if(F&&(z.current=F),O&&(B.current=O),F&&O){if(X.current)return X.current(F,O,Y);Y()}}),[F,O,Y,X,W]);var K=r.useMemo((function(){return{reference:z,floating:B,setReference:P,setFloating:N}}),[P,N]),q=r.useMemo((function(){return{reference:F,floating:O}}),[F,O]),$=r.useMemo((function(){var e={position:o,left:0,top:0};if(!q.floating)return e;var t=it(q.floating,w.x),n=it(q.floating,w.y);return m?(0,v.A)((0,v.A)({},e),{},{transform:"translate("+t+"px, "+n+"px)"},at(q.floating)>=1.5&&{willChange:"transform"}):{position:o,left:t,top:n}}),[o,m,q.floating,w.x,w.y]);return r.useMemo((function(){return(0,v.A)((0,v.A)({},w),{},{update:Y,refs:K,elements:q,floatingStyles:$})}),[w,Y,K,q,$])}({strategy:"fixed",placement:ne,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tt.ll.apply(void 0,t.concat([{animationFrame:"always"===O}]))},elements:{reference:H.anchor},middleware:[(f={mainAxis:x+te,alignmentAxis:k},(0,v.A)((0,v.A)({},(0,tt.cY)(f)),{},{options:[f,h]})),j&&lt((0,v.A)({mainAxis:!0,crossAxis:!1,limiter:"partial"===R?st():void 0},oe)),j&&ct((0,v.A)({},oe)),dt((0,v.A)((0,v.A)({},oe),{},{apply:function(e){var t=e.elements,n=e.rects,r=e.availableWidth,a=e.availableHeight,i=n.reference,o=i.width,l=i.height,s=t.floating.style;s.setProperty("--radix-popper-available-width","".concat(r,"px")),s.setProperty("--radix-popper-available-height","".concat(a,"px")),s.setProperty("--radix-popper-anchor-width","".concat(o,"px")),s.setProperty("--radix-popper-anchor-height","".concat(l,"px"))}})),$&&ft({element:$,padding:M}),Bt({arrowWidth:ee,arrowHeight:te}),N&&ut((0,v.A)({strategy:"referenceHidden"},oe))]}),ce=le.refs,de=le.floatingStyles,ue=le.placement,fe=le.isPositioned,he=le.middlewareData,ve=Ht(ue),Ue=(0,c.A)(ve,2),me=Ue[0],ge=Ue[1],be=Se(z);$e((function(){fe&&(null===be||void 0===be||be())}),[fe,be]);var ye=null===(i=he.arrow)||void 0===i?void 0:i.x,xe=null===(o=he.arrow)||void 0===o?void 0:o.y,we=0!==(null===(l=he.arrow)||void 0===l?void 0:l.centerOffset),Ae=r.useState(),Ee=(0,c.A)(Ae,2),Me=Ee[0],Ce=Ee[1];return $e((function(){G&&Ce(window.getComputedStyle(G).zIndex)}),[G]),(0,V.jsx)("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:(0,v.A)((0,v.A)({},de),{},(0,p.default)({transform:fe?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me},"--radix-popper-transform-origin",[null===(s=he.transformOrigin)||void 0===s?void 0:s.x,null===(d=he.transformOrigin)||void 0===d?void 0:d.y].join(" ")),(null===(u=he.hide)||void 0===u?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,V.jsx)(Lt,{scope:U,placedSide:me,onArrowChange:Q,arrowX:ye,arrowY:xe,shouldHideArrow:we,children:(0,V.jsx)(ke.div,(0,v.A)((0,v.A)({"data-side":me,"data-align":ge},B),{},{ref:Z,style:(0,v.A)((0,v.A)({},B.style),{},{animation:fe?void 0:"none"})}))})})}));Pt.displayName=Dt;var Nt="PopperArrow",Ft={top:"bottom",right:"left",bottom:"top",left:"right"},Ot=r.forwardRef((function(e,t){var n=e.__scopePopper,r=(0,m.A)(e,gt),a=Rt(Nt,n),i=Ft[a.placedSide];return(0,V.jsx)("span",{ref:a.onArrowChange,style:(0,p.default)((0,p.default)((0,p.default)((0,p.default)({position:"absolute",left:a.arrowX,top:a.arrowY},i,0),"transformOrigin",{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide]),"transform",{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide]),"visibility",a.shouldHideArrow?"hidden":void 0),children:(0,V.jsx)(vt,(0,v.A)((0,v.A)({},r),{},{ref:t,style:(0,v.A)((0,v.A)({},r.style),{},{display:"block"})}))})}));function zt(e){return null!==e}Ot.displayName=Nt;var Bt=function(e){return{name:"transformOrigin",options:e,fn:function(t){var n,r,a,i,o,l=t.placement,s=t.rects,d=t.middlewareData,u=0!==(null===(n=d.arrow)||void 0===n?void 0:n.centerOffset),f=u?0:e.arrowWidth,h=u?0:e.arrowHeight,p=Ht(l),v=(0,c.A)(p,2),U=v[0],m={start:"0%",center:"50%",end:"100%"}[v[1]],g=(null!==(r=null===(a=d.arrow)||void 0===a?void 0:a.x)&&void 0!==r?r:0)+f/2,b=(null!==(i=null===(o=d.arrow)||void 0===o?void 0:o.y)&&void 0!==i?i:0)+h/2,y="",x="";return"bottom"===U?(y=u?m:"".concat(g,"px"),x="".concat(-h,"px")):"top"===U?(y=u?m:"".concat(g,"px"),x="".concat(s.floating.height+h,"px")):"right"===U?(y="".concat(-h,"px"),x=u?m:"".concat(b,"px")):"left"===U&&(y="".concat(s.floating.width+h,"px"),x=u?m:"".concat(b,"px")),{data:{x:y,y:x}}}}};function Ht(e){var t=e.split("-"),n=(0,c.A)(t,2),r=n[0],a=n[1];return[r,void 0===a?"center":a]}var Wt=Ct,Xt=It,Gt=Pt,Vt=Ot,Yt=["container"],Zt=r.forwardRef((function(e,t){var n,a=e.container,i=(0,m.A)(e,Yt),o=r.useState(!1),l=(0,c.A)(o,2),s=l[0],d=l[1];$e((function(){return d(!0)}),[]);var u=a||s&&(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body);return u?se.createPortal((0,V.jsx)(ke.div,(0,v.A)((0,v.A)({},i),{},{ref:t})),u):null}));Zt.displayName="Portal";var Kt=function(e){var t=e.present,n=e.children,a=function(e){var t=r.useState(),n=(0,c.A)(t,2),a=n[0],i=n[1],o=r.useRef({}),l=r.useRef(e),s=r.useRef("none"),d=e?"mounted":"unmounted",u=function(e,t){return r.useReducer((function(e,n){var r=t[e][n];return null!==r&&void 0!==r?r:e}),e)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),f=(0,c.A)(u,2),h=f[0],p=f[1];return r.useEffect((function(){var e=qt(o.current);s.current="mounted"===h?e:"none"}),[h]),$e((function(){var t=o.current,n=l.current;if(n!==e){var r=s.current,a=qt(t);if(e)p("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))p("UNMOUNT");else{p(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}l.current=e}}),[e,p]),$e((function(){if(a){var e,t,n=null!==(e=a.ownerDocument.defaultView)&&void 0!==e?e:window,r=function(e){var r=qt(o.current).includes(e.animationName);if(e.target===a&&r&&(p("ANIMATION_END"),!l.current)){var i=a.style.animationFillMode;a.style.animationFillMode="forwards",t=n.setTimeout((function(){"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=i)}))}},i=function(e){e.target===a&&(s.current=qt(o.current))};return a.addEventListener("animationstart",i),a.addEventListener("animationcancel",r),a.addEventListener("animationend",r),function(){n.clearTimeout(t),a.removeEventListener("animationstart",i),a.removeEventListener("animationcancel",r),a.removeEventListener("animationend",r)}}p("ANIMATION_END")}),[a,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:r.useCallback((function(e){e&&(o.current=getComputedStyle(e)),i(e)}),[])}}(t),i="function"===typeof n?n({present:a.isPresent}):r.Children.only(n),o=pe(a.ref,function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof n||a.isPresent?r.cloneElement(i,{ref:o}):null};function qt(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}function $t(e){var t=e.prop,n=e.defaultProp,a=e.onChange,i=void 0===a?function(){}:a,o=function(e){var t=e.defaultProp,n=e.onChange,a=r.useState(t),i=(0,c.A)(a,1)[0],o=r.useRef(i),l=Se(n);return r.useEffect((function(){o.current!==i&&(l(i),o.current=i)}),[i,o,l]),a}({defaultProp:n,onChange:i}),l=(0,c.A)(o,2),s=l[0],d=l[1],u=void 0!==t,f=u?t:s,h=Se(i);return[f,r.useCallback((function(e){if(u){var n="function"===typeof e?e(t):e;n!==t&&h(n)}else d(e)}),[u,t,d,h])]}Kt.displayName="Presence";var Qt=n(28159),Jt=n(86325),en=["__scopePopover"],tn=["__scopePopover"],nn=["forceMount"],rn=["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"],an=["__scopePopover"],on=["__scopePopover"],ln="Popover",sn=Ue(ln,[At]),cn=(0,c.A)(sn,2),dn=cn[0],un=(cn[1],At()),fn=dn(ln),hn=(0,c.A)(fn,2),pn=hn[0],vn=hn[1],Un=function(e){var t=e.__scopePopover,n=e.children,a=e.open,i=e.defaultOpen,o=e.onOpenChange,l=e.modal,s=void 0!==l&&l,d=un(t),u=r.useRef(null),f=r.useState(!1),h=(0,c.A)(f,2),p=h[0],U=h[1],m=$t({prop:a,defaultProp:i,onChange:o}),g=(0,c.A)(m,2),b=g[0],y=void 0!==b&&b,x=g[1];return(0,V.jsx)(Wt,(0,v.A)((0,v.A)({},d),{},{children:(0,V.jsx)(pn,{scope:t,contentId:et(),triggerRef:u,open:y,onOpenChange:x,onOpenToggle:r.useCallback((function(){return x((function(e){return!e}))}),[x]),hasCustomAnchor:p,onCustomAnchorAdd:r.useCallback((function(){return U(!0)}),[]),onCustomAnchorRemove:r.useCallback((function(){return U(!1)}),[]),modal:s,children:n})}))};Un.displayName=ln;var mn="PopoverAnchor",gn=r.forwardRef((function(e,t){var n=e.__scopePopover,a=(0,m.A)(e,en),i=vn(mn,n),o=un(n),l=i.onCustomAnchorAdd,s=i.onCustomAnchorRemove;return r.useEffect((function(){return l(),function(){return s()}}),[l,s]),(0,V.jsx)(Xt,(0,v.A)((0,v.A)((0,v.A)({},o),a),{},{ref:t}))}));gn.displayName=mn;var bn="PopoverTrigger",yn=r.forwardRef((function(e,t){var n=e.__scopePopover,r=(0,m.A)(e,tn),a=vn(bn,n),i=un(n),o=pe(t,a.triggerRef),l=(0,V.jsx)(ke.button,(0,v.A)((0,v.A)({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Rn(a.open)},r),{},{ref:o,onClick:ue(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?l:(0,V.jsx)(Xt,(0,v.A)((0,v.A)({asChild:!0},i),{},{children:l}))}));yn.displayName=bn;var xn="PopoverPortal",wn=dn(xn,{forceMount:void 0}),An=(0,c.A)(wn,2),En=An[0],kn=An[1],Sn=function(e){var t=e.__scopePopover,n=e.forceMount,r=e.children,a=e.container,i=vn(xn,t);return(0,V.jsx)(En,{scope:t,forceMount:n,children:(0,V.jsx)(Kt,{present:n||i.open,children:(0,V.jsx)(Zt,{asChild:!0,container:a,children:r})})})};Sn.displayName=xn;var Mn="PopoverContent",Cn=r.forwardRef((function(e,t){var n=kn(Mn,e.__scopePopover),r=e.forceMount,a=void 0===r?n.forceMount:r,i=(0,m.A)(e,nn),o=vn(Mn,e.__scopePopover);return(0,V.jsx)(Kt,{present:a||o.open,children:o.modal?(0,V.jsx)(jn,(0,v.A)((0,v.A)({},i),{},{ref:t})):(0,V.jsx)(In,(0,v.A)((0,v.A)({},i),{},{ref:t}))})}));Cn.displayName=Mn;var jn=r.forwardRef((function(e,t){var n=vn(Mn,e.__scopePopover),a=r.useRef(null),i=pe(t,a),o=r.useRef(!1);return r.useEffect((function(){var e=a.current;if(e)return(0,Qt.hideOthers)(e)}),[]),(0,V.jsx)(Jt.A,{as:ye,allowPinchZoom:!0,children:(0,V.jsx)(Dn,(0,v.A)((0,v.A)({},e),{},{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,(function(e){var t;e.preventDefault(),o.current||null===(t=n.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:ue(e.onPointerDownOutside,(function(e){var t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;o.current=r}),{checkForDefaultPrevented:!1}),onFocusOutside:ue(e.onFocusOutside,(function(e){return e.preventDefault()}),{checkForDefaultPrevented:!1})}))})})),In=r.forwardRef((function(e,t){var n=vn(Mn,e.__scopePopover),a=r.useRef(!1),i=r.useRef(!1);return(0,V.jsx)(Dn,(0,v.A)((0,v.A)({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:function(t){var r,o;(null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented)||(a.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());a.current=!1,i.current=!1},onInteractOutside:function(t){var r,o;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));var l=t.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))})),Dn=r.forwardRef((function(e,t){var n=e.__scopePopover,r=e.trapFocus,a=e.onOpenAutoFocus,i=e.onCloseAutoFocus,o=e.disableOutsidePointerEvents,l=e.onEscapeKeyDown,s=e.onPointerDownOutside,c=e.onFocusOutside,d=e.onInteractOutside,u=(0,m.A)(e,rn),f=vn(Mn,n),h=un(n);return Fe(),(0,V.jsx)(Xe,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:(0,V.jsx)(_e,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:s,onFocusOutside:c,onDismiss:function(){return f.onOpenChange(!1)},children:(0,V.jsx)(Gt,(0,v.A)((0,v.A)((0,v.A)({"data-state":Rn(f.open),role:"dialog",id:f.contentId},h),u),{},{ref:t,style:(0,v.A)((0,v.A)({},u.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})})),Tn="PopoverClose",_n=r.forwardRef((function(e,t){var n=e.__scopePopover,r=(0,m.A)(e,an),a=vn(Tn,n);return(0,V.jsx)(ke.button,(0,v.A)((0,v.A)({type:"button"},r),{},{ref:t,onClick:ue(e.onClick,(function(){return a.onOpenChange(!1)}))}))}));_n.displayName=Tn;var Ln=r.forwardRef((function(e,t){var n=e.__scopePopover,r=(0,m.A)(e,on),a=un(n);return(0,V.jsx)(Vt,(0,v.A)((0,v.A)((0,v.A)({},a),r),{},{ref:t}))}));function Rn(e){return e?"open":"closed"}Ln.displayName="PopoverArrow";var Pn=Un,Nn=yn,Fn=Sn,On=Cn,zn=Ln,Bn=n(90782),Hn=n(43088),Wn=n(19469),Xn=function(e){var t,n=new Set,r=function(e,r){var a="function"===typeof e?e(t):e;if(!Object.is(a,t)){var i=t;t=(null!=r?r:"object"!==typeof a||null===a)?a:Object.assign({},t,a),n.forEach((function(e){return e(t,i)}))}},a=function(){return t},i={setState:r,getState:a,getInitialState:function(){return o},subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},o=t=e(r,a,i);return i},Gn=function(e){return e?Xn(e):Xn},Vn=n(53044),Yn=r.useDebugValue,Zn=Vn.useSyncExternalStoreWithSelector,Kn=!1,qn=function(e){return e};var $n,Qn,Jn=function(e){"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");var t="function"===typeof e?Gn(e):e,n=function(e,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn,n=arguments.length>2?arguments[2]:void 0;n&&!Kn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Kn=!0);var r=Zn(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Yn(r),r}(t,e,n)};return Object.assign(n,t),n},er=function(e){return e?Jn(e):Jn},tr="undefined"!==typeof window&&(null!=($n=window.document)&&$n.createElement||"ReactNative"===(null==(Qn=window.navigator)?void 0:Qn.product))?r.useLayoutEffect:r.useEffect;function nr(){var e=er((function(e){return{current:new Array,version:0,set:e}}));return{In:function(t){var n=t.children,r=e((function(e){return e.set})),a=e((function(e){return e.version}));return tr((function(){r((function(e){return{version:e.version+1}}))}),[]),tr((function(){return r((function(e){var t=e.current;return{current:[].concat((0,g.A)(t),[n])}})),function(){return r((function(e){return{current:e.current.filter((function(e){return e!==n}))}}))}}),[n,a]),null},Out:function(){var t=e((function(e){return e.current}));return r.createElement(r.Fragment,null,t)}}}var rr=n(58168);function ar(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null===e||void 0===e||e(n),!1===r||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}}var ir=["scope","children"];function or(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];var a=function(){var t=n.map((function(e){return(0,r.createContext)(e)}));return function(n){var a=(null===n||void 0===n?void 0:n[e])||t;return(0,r.useMemo)((function(){return(0,p.default)({},"__scope".concat(e),(0,v.A)((0,v.A)({},n),{},(0,p.default)({},e,a)))}),[n,a])}};return a.scopeName=e,[function(t,a){var i=(0,r.createContext)(a),o=n.length;function l(t){var n=t.scope,a=t.children,l=(0,m.A)(t,ir),s=(null===n||void 0===n?void 0:n[e][o])||i,c=(0,r.useMemo)((function(){return l}),Object.values(l));return(0,r.createElement)(s.Provider,{value:c},a)}return n=[].concat((0,g.A)(n),[a]),l.displayName=t+"Provider",[l,function(n,l){var s=(null===l||void 0===l?void 0:l[e][o])||i,c=(0,r.useContext)(s);if(c)return c;if(void 0!==a)return a;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},lr.apply(void 0,[a].concat((0,g.A)(t)))]}function lr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0];if(1===t.length)return a;var i=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,a=n.scopeName,i=r(t)["__scope".concat(a)];return(0,v.A)((0,v.A)({},e),i)}),{});return(0,r.useMemo)((function(){return(0,p.default)({},"__scope".concat(a.scopeName),n)}),[n])}};return i.scopeName=a.scopeName,i}function sr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(t,e)}))}}function cr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useCallback)(sr.apply(void 0,t),t)}var dr=["children"],ur=["children"],fr=(0,r.forwardRef)((function(e,t){var n=e.children,a=(0,m.A)(e,dr),i=r.Children.toArray(n),o=i.find(vr);if(o){var l=o.props.children,s=i.map((function(e){return e===o?r.Children.count(l)>1?r.Children.only(null):(0,r.isValidElement)(l)?l.props.children:null:e}));return(0,r.createElement)(hr,(0,rr.A)({},a,{ref:t}),(0,r.isValidElement)(l)?(0,r.cloneElement)(l,void 0,s):null)}return(0,r.createElement)(hr,(0,rr.A)({},a,{ref:t}),n)}));fr.displayName="Slot";var hr=(0,r.forwardRef)((function(e,t){var n=e.children,a=(0,m.A)(e,ur);return(0,r.isValidElement)(n)?(0,r.cloneElement)(n,(0,v.A)((0,v.A)({},function(e,t){var n=(0,v.A)({},t),r=function(){var r=e[a],i=t[a];/^on[A-Z]/.test(a)?r&&i?n[a]=function(){i.apply(void 0,arguments),r.apply(void 0,arguments)}:r&&(n[a]=r):"style"===a?n[a]=(0,v.A)((0,v.A)({},r),i):"className"===a&&(n[a]=[r,i].filter(Boolean).join(" "))};for(var a in t)r();return(0,v.A)((0,v.A)({},e),n)}(a,n.props)),{},{ref:sr(t,n.ref)})):r.Children.count(n)>1?r.Children.only(null):null}));hr.displayName="SlotClone";var pr=function(e){var t=e.children;return(0,r.createElement)(r.Fragment,null,t)};function vr(e){return(0,r.isValidElement)(e)&&e.type===pr}var Ur=["scope","children"];var mr=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?r.useLayoutEffect:function(){},gr=a["useId".toString()]||function(){},br=0;function yr(e){var t=r.useState(gr()),n=(0,c.A)(t,2),a=n[0],i=n[1];return mr((function(){e||i((function(e){return null!==e&&void 0!==e?e:String(br++)}))}),[e]),e||(a?"radix-".concat(a):"")}var xr=["asChild"],wr=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=(0,r.forwardRef)((function(e,n){var a=e.asChild,i=(0,m.A)(e,xr),o=a?fr:t;return(0,r.useEffect)((function(){window[Symbol.for("radix-ui")]=!0}),[]),(0,r.createElement)(o,(0,rr.A)({},i,{ref:n}))}));return n.displayName="Primitive.".concat(t),(0,v.A)((0,v.A)({},e),{},(0,p.default)({},t,n))}),{});function Ar(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e})),(0,r.useMemo)((function(){return function(){for(var e,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return null===(n=t.current)||void 0===n?void 0:(e=n).call.apply(e,[t].concat(a))}}),[])}function Er(e){var t=e.prop,n=e.defaultProp,a=e.onChange,i=void 0===a?function(){}:a,o=function(e){var t=e.defaultProp,n=e.onChange,a=(0,r.useState)(t),i=(0,c.A)(a,1)[0],o=(0,r.useRef)(i),l=Ar(n);return(0,r.useEffect)((function(){o.current!==i&&(l(i),o.current=i)}),[i,o,l]),a}({defaultProp:n,onChange:i}),l=(0,c.A)(o,2),s=l[0],d=l[1],u=void 0!==t,f=u?t:s,h=Ar(i);return[f,(0,r.useCallback)((function(e){if(u){var n="function"===typeof e?e(t):e;n!==t&&h(n)}else d(e)}),[u,t,d,h])]}var kr=(0,r.createContext)(void 0);function Sr(e){var t=(0,r.useContext)(kr);return e||t||"ltr"}var Mr=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus"],Cr=["__scopeRovingFocusGroup","focusable","active","tabStopId"],jr="rovingFocusGroup.onEntryFocus",Ir={bubbles:!1,cancelable:!0},Dr="RovingFocusGroup",Tr=function(e){var t=e+"CollectionProvider",n=or(t),a=(0,c.A)(n,2),i=a[0],o=a[1],l=i(t,{collectionRef:{current:null},itemMap:new Map}),s=(0,c.A)(l,2),d=s[0],u=s[1],f=function(e){var t=e.scope,n=e.children,a=r.useRef(null),i=r.useRef(new Map).current;return r.createElement(d,{scope:t,itemMap:i,collectionRef:a},n)},h=e+"CollectionSlot",U=r.forwardRef((function(e,t){var n=e.scope,a=e.children,i=cr(t,u(h,n).collectionRef);return r.createElement(fr,{ref:i},a)})),g=e+"CollectionItemSlot",b="data-radix-collection-item",y=r.forwardRef((function(e,t){var n=e.scope,a=e.children,i=(0,m.A)(e,Ur),o=r.useRef(null),l=cr(t,o),s=u(g,n);return r.useEffect((function(){return s.itemMap.set(o,(0,v.A)({ref:o},i)),function(){s.itemMap.delete(o)}})),r.createElement(fr,(0,p.default)((0,p.default)({},b,""),"ref",l),a)}));return[{Provider:f,Slot:U,ItemSlot:y},function(t){var n=u(e+"CollectionConsumer",t);return r.useCallback((function(){var e=n.collectionRef.current;if(!e)return[];var t=Array.from(e.querySelectorAll("[".concat(b,"]")));return Array.from(n.itemMap.values()).sort((function(e,n){return t.indexOf(e.ref.current)-t.indexOf(n.ref.current)}))}),[n.collectionRef,n.itemMap])},o]}(Dr),_r=(0,c.A)(Tr,3),Lr=_r[0],Rr=_r[1],Pr=or(Dr,[_r[2]]),Nr=(0,c.A)(Pr,2),Fr=Nr[0],Or=Nr[1],zr=Fr(Dr),Br=(0,c.A)(zr,2),Hr=Br[0],Wr=Br[1],Xr=(0,r.forwardRef)((function(e,t){return(0,r.createElement)(Lr.Provider,{scope:e.__scopeRovingFocusGroup},(0,r.createElement)(Lr.Slot,{scope:e.__scopeRovingFocusGroup},(0,r.createElement)(Gr,(0,rr.A)({},e,{ref:t}))))})),Gr=(0,r.forwardRef)((function(e,t){var n=e.__scopeRovingFocusGroup,a=e.orientation,i=e.loop,o=void 0!==i&&i,l=e.dir,s=e.currentTabStopId,d=e.defaultCurrentTabStopId,u=e.onCurrentTabStopIdChange,f=e.onEntryFocus,h=(0,m.A)(e,Mr),p=(0,r.useRef)(null),U=cr(t,p),b=Sr(l),y=Er({prop:s,defaultProp:d,onChange:u}),x=(0,c.A)(y,2),w=x[0],A=void 0===w?null:w,E=x[1],k=(0,r.useState)(!1),S=(0,c.A)(k,2),M=S[0],C=S[1],j=Ar(f),I=Rr(n),D=(0,r.useRef)(!1),T=(0,r.useState)(0),_=(0,c.A)(T,2),L=_[0],R=_[1];return(0,r.useEffect)((function(){var e=p.current;if(e)return e.addEventListener(jr,j),function(){return e.removeEventListener(jr,j)}}),[j]),(0,r.createElement)(Hr,{scope:n,orientation:a,dir:b,loop:o,currentTabStopId:A,onItemFocus:(0,r.useCallback)((function(e){return E(e)}),[E]),onItemShiftTab:(0,r.useCallback)((function(){return C(!0)}),[]),onFocusableItemAdd:(0,r.useCallback)((function(){return R((function(e){return e+1}))}),[]),onFocusableItemRemove:(0,r.useCallback)((function(){return R((function(e){return e-1}))}),[])},(0,r.createElement)(wr.div,(0,rr.A)({tabIndex:M||0===L?-1:0,"data-orientation":a},h,{ref:U,style:(0,v.A)({outline:"none"},e.style),onMouseDown:ar(e.onMouseDown,(function(){D.current=!0})),onFocus:ar(e.onFocus,(function(e){var t=!D.current;if(e.target===e.currentTarget&&t&&!M){var n=new CustomEvent(jr,Ir);if(e.currentTarget.dispatchEvent(n),!n.defaultPrevented){var r=I().filter((function(e){return e.focusable}));Kr([r.find((function(e){return e.active})),r.find((function(e){return e.id===A}))].concat((0,g.A)(r)).filter(Boolean).map((function(e){return e.ref.current})))}}D.current=!1})),onBlur:ar(e.onBlur,(function(){return C(!1)}))})))})),Vr="RovingFocusGroupItem",Yr=(0,r.forwardRef)((function(e,t){var n=e.__scopeRovingFocusGroup,a=e.focusable,i=void 0===a||a,o=e.active,l=void 0!==o&&o,s=e.tabStopId,c=(0,m.A)(e,Cr),d=yr(),u=s||d,f=Wr(Vr,n),h=f.currentTabStopId===u,p=Rr(n),v=f.onFocusableItemAdd,U=f.onFocusableItemRemove;return(0,r.useEffect)((function(){if(i)return v(),function(){return U()}}),[i,v,U]),(0,r.createElement)(Lr.ItemSlot,{scope:n,id:u,focusable:i,active:l},(0,r.createElement)(wr.span,(0,rr.A)({tabIndex:h?0:-1,"data-orientation":f.orientation},c,{ref:t,onMouseDown:ar(e.onMouseDown,(function(e){i?f.onItemFocus(u):e.preventDefault()})),onFocus:ar(e.onFocus,(function(){return f.onItemFocus(u)})),onKeyDown:ar(e.onKeyDown,(function(e){if("Tab"===e.key&&e.shiftKey)f.onItemShiftTab();else if(e.target===e.currentTarget){var t,n,r=function(e,t,n){var r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:Zr[r]}(e,f.orientation,f.dir);if(void 0!==r){e.preventDefault();var a=p().filter((function(e){return e.focusable})).map((function(e){return e.ref.current}));if("last"===r)a.reverse();else if("prev"===r||"next"===r){"prev"===r&&a.reverse();var i=a.indexOf(e.currentTarget);a=f.loop?(n=i+1,(t=a).map((function(e,r){return t[(n+r)%t.length]}))):a.slice(i+1)}setTimeout((function(){return Kr(a)}))}}}))})))})),Zr={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Kr(e){var t,n=document.activeElement,r=(0,U.A)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a===n)return;if(a.focus(),document.activeElement!==n)return}}catch(i){r.e(i)}finally{r.f()}}var qr=Xr,$r=Yr;var Qr=function(e){var t=e.present,n=e.children,a=function(e){var t=(0,r.useState)(),n=(0,c.A)(t,2),a=n[0],i=n[1],o=(0,r.useRef)({}),l=(0,r.useRef)(e),s=(0,r.useRef)("none"),d=e?"mounted":"unmounted",u=function(e,t){return(0,r.useReducer)((function(e,n){var r=t[e][n];return null!==r&&void 0!==r?r:e}),e)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),f=(0,c.A)(u,2),h=f[0],p=f[1];return(0,r.useEffect)((function(){var e=Jr(o.current);s.current="mounted"===h?e:"none"}),[h]),mr((function(){var t=o.current,n=l.current;if(n!==e){var r=s.current,a=Jr(t);if(e)p("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))p("UNMOUNT");else{p(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}l.current=e}}),[e,p]),mr((function(){if(a){var e=function(e){var t=Jr(o.current).includes(e.animationName);e.target===a&&t&&(0,se.flushSync)((function(){return p("ANIMATION_END")}))},t=function(e){e.target===a&&(s.current=Jr(o.current))};return a.addEventListener("animationstart",t),a.addEventListener("animationcancel",e),a.addEventListener("animationend",e),function(){a.removeEventListener("animationstart",t),a.removeEventListener("animationcancel",e),a.removeEventListener("animationend",e)}}p("ANIMATION_END")}),[a,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:(0,r.useCallback)((function(e){e&&(o.current=getComputedStyle(e)),i(e)}),[])}}(t),i="function"===typeof n?n({present:a.isPresent}):r.Children.only(n),o=cr(a.ref,i.ref);return"function"===typeof n||a.isPresent?(0,r.cloneElement)(i,{ref:o}):null};function Jr(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}Qr.displayName="Presence";var ea=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],ta=["__scopeTabs","loop"],na=["__scopeTabs","value","disabled"],ra=["__scopeTabs","value","forceMount","children"],aa="Tabs",ia=or(aa,[Or]),oa=(0,c.A)(ia,2),la=oa[0],sa=(oa[1],Or()),ca=la(aa),da=(0,c.A)(ca,2),ua=da[0],fa=da[1],ha=(0,r.forwardRef)((function(e,t){var n=e.__scopeTabs,a=e.value,i=e.onValueChange,o=e.defaultValue,l=e.orientation,s=void 0===l?"horizontal":l,d=e.dir,u=e.activationMode,f=void 0===u?"automatic":u,h=(0,m.A)(e,ea),p=Sr(d),v=Er({prop:a,onChange:i,defaultProp:o}),U=(0,c.A)(v,2),g=U[0],b=U[1];return(0,r.createElement)(ua,{scope:n,baseId:yr(),value:g,onValueChange:b,orientation:s,dir:p,activationMode:f},(0,r.createElement)(wr.div,(0,rr.A)({dir:p,"data-orientation":s},h,{ref:t})))})),pa="TabsList",va=(0,r.forwardRef)((function(e,t){var n=e.__scopeTabs,a=e.loop,i=void 0===a||a,o=(0,m.A)(e,ta),l=fa(pa,n),s=sa(n);return(0,r.createElement)(qr,(0,rr.A)({asChild:!0},s,{orientation:l.orientation,dir:l.dir,loop:i}),(0,r.createElement)(wr.div,(0,rr.A)({role:"tablist","aria-orientation":l.orientation},o,{ref:t})))})),Ua="TabsTrigger",ma=(0,r.forwardRef)((function(e,t){var n=e.__scopeTabs,a=e.value,i=e.disabled,o=void 0!==i&&i,l=(0,m.A)(e,na),s=fa(Ua,n),c=sa(n),d=ya(s.baseId,a),u=xa(s.baseId,a),f=a===s.value;return(0,r.createElement)($r,(0,rr.A)({asChild:!0},c,{focusable:!o,active:f}),(0,r.createElement)(wr.button,(0,rr.A)({type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d},l,{ref:t,onMouseDown:ar(e.onMouseDown,(function(e){o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():s.onValueChange(a)})),onKeyDown:ar(e.onKeyDown,(function(e){[" ","Enter"].includes(e.key)&&s.onValueChange(a)})),onFocus:ar(e.onFocus,(function(){var e="manual"!==s.activationMode;f||o||!e||s.onValueChange(a)}))})))})),ga="TabsContent",ba=(0,r.forwardRef)((function(e,t){var n=e.__scopeTabs,a=e.value,i=e.forceMount,o=e.children,l=(0,m.A)(e,ra),s=fa(ga,n),c=ya(s.baseId,a),d=xa(s.baseId,a),u=a===s.value,f=(0,r.useRef)(u);return(0,r.useEffect)((function(){var e=requestAnimationFrame((function(){return f.current=!1}));return function(){return cancelAnimationFrame(e)}}),[]),(0,r.createElement)(Qr,{present:i||u},(function(n){var a=n.present;return(0,r.createElement)(wr.div,(0,rr.A)({"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!a,id:d,tabIndex:0},l,{ref:t,style:(0,v.A)((0,v.A)({},e.style),{},{animationDuration:f.current?"0s":void 0})}),a&&o)}))}));function ya(e,t){return"".concat(e,"-trigger-").concat(t)}function xa(e,t){return"".concat(e,"-content-").concat(t)}var wa,Aa=ha,Ea=va,ka=ma,Sa=ba,Ma=n(64267);var Ca,ja,Ia,Da;function Ta(e,t){var n=(0,c.A)(e,3),r=n[0],a=n[1],i=n[2],o=(0,c.A)(t,3);return[r+o[0],a+o[1],i+o[2]]}function _a(e,t){var n=(0,c.A)(e,3),r=n[0],a=n[1],i=n[2],o=(0,c.A)(t,3);return[r-o[0],a-o[1],i-o[2]]}function La(e,t){var n=(0,c.A)(e,3);return[n[0]*t,n[1]*t,n[2]*t]}function Ra(e){var t=(0,c.A)(e,3),n=t[0],r=t[1],a=t[2];return[n/Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),r/Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),a]}function Pa(e,t){var n=(0,c.A)(e,3),r=n[0],a=n[1],i=n[2];return[Math.cos(t)*r-Math.sin(t)*a,Math.sin(t)*r+Math.cos(t)*a,i]}function Na(e,t,n){return Math.atan2(n[1]-e[1],n[0]-e[0])-Math.atan2(t[1]-e[1],t[0]-e[0])}function Fa(e){return Math.atan2(Math.sin(e),Math.cos(e))}function Oa(e){var t=(0,c.A)(e,2),n=t[0],r=t[1];return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}function za(e,t){var n=(0,c.A)(e,2),r=n[0],a=n[1],i=(0,c.A)(t,2),o=i[0],l=i[1];return Math.sqrt(Math.pow(o-r,2)+Math.pow(l-a,2))}Ca={},ja="LaserPointer",Ia=function(){return Wa},Object.defineProperty(Ca,ja,{get:Ia,set:Da,enumerable:!0,configurable:!0});function Ba(e,t,n){var r=za(t,n);if(0===r)return za(e,t);var a=function(e,t,n){return Math.max(t,Math.min(n,e))}(((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/Math.pow(r,2),0,1);return za([t[0]+a*(n[0]-t[0]),t[1]+a*(n[1]-t[1]),e[2]],e)}function Ha(e,t){if(0===t)return e;if(e.length<=2)return e;var n=e[0],r=e[e.length-1],a=e.reduce((function(e,t,a){var i=(0,c.A)(e,2),o=i[0],l=i[1],s=Ba(t,n,r);return s>o?[s,a]:[o,l]}),[0,-1]),i=(0,c.A)(a,2),o=i[0],l=i[1];if(o>=t){var s=e[l];return[].concat((0,g.A)(Ha([n].concat((0,g.A)(e.slice(1,l)),[s]),t).slice(0,-1)),[s],(0,g.A)(Ha([s].concat((0,g.A)(e.slice(l,-1)),[r]),t).slice(1)))}return[n,r]}var Wa=function(){function e(t){(0,f.A)(this,e),this.originalPoints=[],this.stablePoints=[],this.tailPoints=[],this.isFresh=!0,this.options=Object.assign({},e.defaults,t)}return(0,h.A)(e,[{key:"lastPoint",get:function(){var e;return null!==(e=this.tailPoints[this.tailPoints.length-1])&&void 0!==e?e:this.stablePoints[this.stablePoints.length-1]}},{key:"addPoint",value:function(t){var n=this.originalPoints[this.originalPoints.length-1];if(!n||n[0]!==t[0]||n[1]!==t[1]){if(this.originalPoints.push(t),this.isFresh)return this.isFresh=!1,void this.stablePoints.push(t);var r,a,i;this.options.streamline>0&&(r=this.lastPoint,a=t,i=1-this.options.streamline,t=Ta(r,La(_a(a,r),i))),this.tailPoints.push(t),function(e){if(e.length<2)return 0;for(var t=0,n=1;n<=e.length-1;n++)t+=za(e[n-1],e[n]);return t+za(e[e.length-2],e[e.length-1])}(this.tailPoints)>e.constants.maxTailLength&&this.stabilizeTail()}}},{key:"close",value:function(){this.stabilizeTail()}},{key:"stabilizeTail",value:function(){if(this.options.simplify>0&&"tail"==this.options.simplifyPhase)throw new Error("Not implemented yet");var e;(e=this.stablePoints).push.apply(e,(0,g.A)(this.tailPoints)),this.tailPoints=[]}},{key:"getSize",value:function(e,t,n,r,a){return(null!==e&&void 0!==e?e:this.options.size)*this.options.sizeMapping({pressure:t,runningLength:a,currentIndex:n,totalLength:r})}},{key:"getStrokeOutline",value:function(t){if(this.isFresh)return[];var n=[].concat((0,g.A)(this.stablePoints),(0,g.A)(this.tailPoints));this.options.simplify>0&&"input"===this.options.simplifyPhase&&(n=Ha(n,this.options.simplify));var r=n.length;if(0===r)return[];if(1===r){var a=n[0],i=this.getSize(t,a[2],0,r,0);if(i<.5)return[];for(var o=[],l=0;l<=2*Math.PI;l+=Math.PI/16)o.push(Ta(a,La(Pa([1,0,0],l),i)));return o.push(Ta(a,La([1,0,0],this.getSize(t,a[2],0,r,0)))),o}if(2===r){var s=n[0],c=n[1],d=this.getSize(t,s[2],0,r,0),u=this.getSize(t,c[2],0,r,0);if(d<.5||u<.5)return[];for(var f=[],h=Na(s,[s[0],s[1]-100,s[2]],c),p=h;p<=Math.PI+h;p+=Math.PI/16)f.push(Ta(s,La(Pa([1,0,0],p),d)));for(var v=Math.PI+h;v<=2*Math.PI+h;v+=Math.PI/16)f.push(Ta(c,La(Pa([1,0,0],v),u)));return f.push(f[0]),f}for(var U=[],m=[],b=0,y=0,x=0,w=0,A=1;A<r-1;A++){var E=n[A-1],k=n[A],S=n[A+1],M=k[2],C=za(E,k);w+=C,b=y+.2*(C-y);var j=this.getSize(t,M,A,r,w);if(0!==j){var I=Ra(_a(E,k)),D=Ra(_a(S,k)),T=Pa(I,Math.PI/2),_=Pa(I,-Math.PI/2),L=Pa(D,Math.PI/2),R=Pa(D,-Math.PI/2),P=Ta(k,La(T,j)),N=Ta(k,La(_,j)),F=Ta(k,La(L,j)),O=Ta(k,La(R,j)),z=Ta(T,R),B=Ta(_,L),H=Ta(k,La(0===Oa(z)?I:Ra(z),j)),W=Ta(k,La(0===Oa(B)?D:Ra(B),j)),X=Fa(Na(k,E,S)),G=e.constants.cornerDetectionMaxAngle/180*Math.PI*e.constants.cornerDetectionVariance(b);if(Math.abs(X)<G){var V=Math.abs(Fa(Math.PI-X));if(0===V)continue;if(X<0){m.push(N,W);for(var Y=0;Y<=V;Y+=V/4)U.push(Ta(k,Pa(La(T,j),Y)));for(var Z=V;Z>=0;Z-=V/4)m.push(Ta(k,Pa(La(T,j),Z)));m.push(W,F)}else{U.push(P,H);for(var K=0;K<=V;K+=V/4)m.push(Ta(k,Pa(La(T,-j),-K)));for(var q=V;q>=0;q-=V/4)U.push(Ta(k,Pa(La(T,-j),-q)));U.push(H,O)}}else U.push(H),m.push(W);y=b}else x=A+1}if(x>=r-2){if(this.options.keepHead){for(var $=n[r-1],Q=[],J=0;J<=2*Math.PI;J+=Math.PI/16)Q.push(Ta($,La(Pa([1,0,0],J),this.options.size)));return Q.push(Ta($,La([1,0,0],this.options.size))),Q}return[]}var ee=n[x],te=n[x+1],ne=n[r-2],re=n[r-1],ae=Ra(_a(te,ee)),ie=Ra(_a(ne,re)),oe=Pa(ae,-Math.PI/2),le=Pa(ie,Math.PI/2),se=this.getSize(t,ee[2],0,r,0),ce=[],de=this.options.keepHead?this.options.size:this.getSize(t,ne[2],r-2,r,w),ue=[];if(se>1){for(var fe=0;fe<=Math.PI;fe+=Math.PI/16)ce.unshift(Ta(ee,Pa(La(oe,se),-fe)));ce.unshift(Ta(ee,La(oe,-se)))}else ce.push(ee);for(var he=0;he<=3*Math.PI;he+=Math.PI/16)ue.push(Ta(re,Pa(La(le,-de),-he)));var pe=[].concat(ce,U,(0,g.A)(ue.reverse()),(0,g.A)(m.reverse()));return ce.length>0&&pe.push(ce[0]),this.options.simplify>0&&"output"===this.options.simplifyPhase?Ha(pe,this.options.simplify):pe}}])}();(wa=Wa).defaults={size:2,streamline:.45,simplify:.1,simplifyPhase:"output",keepHead:!1,sizeMapping:function(){return 1}},wa.constants={cornerDetectionMaxAngle:75,cornerDetectionVariance:function(e){return e>35?.5:1},maxTailLength:50};var Xa=["size","visible","className"],Ga=["icon","value","order","children","shortcut","className","hovered","selected","textStyle","onSelect","onClick"],Va=["cachedElements","resetAll","resetContainers"],Ya=["i18nKey","children"],Za=["label","onClick","className","children","actionType","type","isLoading"],Ka=["onConfirm","onCancel","children","confirmText","cancelText","className"],qa=["className","children","onToggle","title"],$a=["icon","shortcut","href","children","onSelect","className","selected","rel"],Qa=["children","className","selected"],Ja=["type","onSelect","selected","children","className"],ei=["onChange","label","fullWidth","placeholder","readonly","selectOnRender","onKeyDown","isRedacted","icon","className"],ti=["heading","children"],ni=["children"],ri=["children","tab","onSelect"],ai=["children"],ii=["tab","children"],oi=["name","children","onDock","docked","className"],li=["children","className","onDock","docked"],si=["children"],ci=["children","tab","onSelect"],di=["tab","children"],ui=["tab"],fi=["children","columns","heading","style"],hi=["children","order","style"],pi=["suggestedBindings","startBoundElement","cursorButton","scrollX","scrollY"],vi=["canvas","appState"],Ui=["canvas","appState"],mi=["onSelect","children","icon","shortcut","className"],gi=["children","href","icon","shortcut","className"],bi=["isCollaborating","onSelect"],yi=["initialData","UIOptions"],xi=["initialData","UIOptions"],wi=(0,l.A)().mark(ju),Ai=ie(),Ei=Ai.useAtom,ki=Ai.useSetAtom,Si=Ai.useAtomValue,Mi=(Ai.useStore,Ai.Provider),Ci=G(),ji=(0,A.b)({"./locales/ar-SA.json":function(){return n.e(3503).then(n.bind(n,13503))},"./locales/az-AZ.json":function(){return n.e(9316).then(n.bind(n,99316))},"./locales/bg-BG.json":function(){return n.e(1999).then(n.bind(n,21999))},"./locales/bn-BD.json":function(){return n.e(1876).then(n.bind(n,1876))},"./locales/ca-ES.json":function(){return n.e(8585).then(n.bind(n,78585))},"./locales/cs-CZ.json":function(){return n.e(2415).then(n.bind(n,32415))},"./locales/da-DK.json":function(){return n.e(1017).then(n.bind(n,61017))},"./locales/de-DE.json":function(){return n.e(3651).then(n.bind(n,13651))},"./locales/el-GR.json":function(){return n.e(4601).then(n.bind(n,34601))},"./locales/en.json":function(){return n.e(3205).then(n.bind(n,43205))},"./locales/es-ES.json":function(){return n.e(3805).then(n.bind(n,33805))},"./locales/eu-ES.json":function(){return n.e(5167).then(n.bind(n,37548))},"./locales/fa-IR.json":function(){return n.e(4237).then(n.bind(n,64237))},"./locales/fi-FI.json":function(){return n.e(7780).then(n.bind(n,47780))},"./locales/fr-FR.json":function(){return n.e(9036).then(n.bind(n,49036))},"./locales/gl-ES.json":function(){return n.e(9512).then(n.bind(n,49512))},"./locales/he-IL.json":function(){return n.e(3134).then(n.bind(n,93134))},"./locales/hi-IN.json":function(){return n.e(8711).then(n.bind(n,8711))},"./locales/hu-HU.json":function(){return n.e(1164).then(n.bind(n,21164))},"./locales/id-ID.json":function(){return n.e(7954).then(n.bind(n,27954))},"./locales/it-IT.json":function(){return n.e(5871).then(n.bind(n,5871))},"./locales/ja-JP.json":function(){return n.e(1404).then(n.bind(n,71404))},"./locales/kaa.json":function(){return n.e(8604).then(n.bind(n,8604))},"./locales/kab-KAB.json":function(){return n.e(1568).then(n.bind(n,91568))},"./locales/kk-KZ.json":function(){return n.e(6068).then(n.bind(n,66068))},"./locales/km-KH.json":function(){return n.e(7473).then(n.bind(n,67473))},"./locales/ko-KR.json":function(){return n.e(2613).then(n.bind(n,12613))},"./locales/ku-TR.json":function(){return n.e(1398).then(n.bind(n,31398))},"./locales/lt-LT.json":function(){return n.e(1753).then(n.bind(n,61753))},"./locales/lv-LV.json":function(){return n.e(4493).then(n.bind(n,74493))},"./locales/mr-IN.json":function(){return n.e(5697).then(n.bind(n,95697))},"./locales/my-MM.json":function(){return n.e(786).then(n.bind(n,80786))},"./locales/nb-NO.json":function(){return n.e(2402).then(n.bind(n,82402))},"./locales/nl-NL.json":function(){return n.e(8387).then(n.bind(n,98387))},"./locales/nn-NO.json":function(){return n.e(3217).then(n.bind(n,73217))},"./locales/oc-FR.json":function(){return n.e(7734).then(n.bind(n,47734))},"./locales/pa-IN.json":function(){return n.e(9052).then(n.bind(n,99052))},"./locales/percentages.json":function(){return n.e(7371).then(n.bind(n,67371))},"./locales/pl-PL.json":function(){return n.e(4886).then(n.bind(n,74886))},"./locales/pt-BR.json":function(){return n.e(2921).then(n.bind(n,32921))},"./locales/pt-PT.json":function(){return n.e(3201).then(n.bind(n,33201))},"./locales/ro-RO.json":function(){return n.e(4844).then(n.bind(n,84844))},"./locales/ru-RU.json":function(){return n.e(4020).then(n.bind(n,14020))},"./locales/si-LK.json":function(){return n.e(2301).then(n.bind(n,62301))},"./locales/sk-SK.json":function(){return n.e(7220).then(n.bind(n,97220))},"./locales/sl-SI.json":function(){return n.e(6525).then(n.bind(n,46525))},"./locales/sv-SE.json":function(){return n.e(7370).then(n.bind(n,27370))},"./locales/ta-IN.json":function(){return n.e(1693).then(n.bind(n,31693))},"./locales/th-TH.json":function(){return n.e(4584).then(n.bind(n,74584))},"./locales/tr-TR.json":function(){return n.e(7129).then(n.bind(n,87129))},"./locales/uk-UA.json":function(){return n.e(3539).then(n.bind(n,53539))},"./locales/vi-VN.json":function(){return n.e(7177).then(n.bind(n,87177))},"./locales/zh-CN.json":function(){return n.e(2218).then(n.bind(n,52218))},"./locales/zh-HK.json":function(){return n.e(7795).then(n.bind(n,17795))},"./locales/zh-TW.json":function(){return n.e(6587).then(n.bind(n,26587))}}),Ii={code:"en",label:"English"},Di=[Ii].concat((0,g.A)([{code:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",rtl:!0},{code:"bg-BG",label:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438"},{code:"ca-ES",label:"Catal\xe0"},{code:"cs-CZ",label:"\u010cesky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},{code:"es-ES",label:"Espa\xf1ol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"\u0641\u0627\u0631\u0633\u06cc",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Fran\xe7ais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"\u05e2\u05d1\u05e8\u05d9\u05ea",rtl:!0},{code:"hi-IN",label:"\u0939\u093f\u0928\u094d\u0926\u0940"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"\u65e5\u672c\u8a9e"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"\u049a\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456"},{code:"ko-KR",label:"\ud55c\uad6d\uc5b4"},{code:"ku-TR",label:"Kurd\xee"},{code:"lt-LT",label:"Lietuvi\u0173"},{code:"lv-LV",label:"Latvie\u0161u"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokm\xe5l"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugu\xeas Brasileiro"},{code:"pt-PT",label:"Portugu\xeas"},{code:"ro-RO",label:"Rom\xe2n\u0103"},{code:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"sk-SK",label:"Sloven\u010dina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Sloven\u0161\u010dina"},{code:"tr-TR",label:"T\xfcrk\xe7e"},{code:"uk-UA",label:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},{code:"zh-CN",label:"\u7b80\u4f53\u4e2d\u6587"},{code:"zh-TW",label:"\u7e41\u9ad4\u4e2d\u6587"},{code:"vi-VN",label:"Ti\u1ebfng Vi\u1ec7t"},{code:"mr-IN",label:"\u092e\u0930\u093e\u0920\u0940"}].filter((function(e){return w.c[e.code]>=85})).sort((function(e,t){return e.label>t.label?1:-1})))),Ti="__test__";y.a.DEV&&Di.unshift({code:Ti,label:"test language"},{code:"".concat(Ti,".rtl"),label:"\u202atest language (rtl)\u202c",rtl:!0});var _i=Ii,Li={},Ri=function(){var e=(0,s.A)((0,l.A)().mark((function e(t){return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_i=t,document.documentElement.dir=_i.rtl?"rtl":"ltr",document.documentElement.lang=_i.code,!t.code.startsWith(Ti)){e.next=4;break}Li={},e.next=13;break;case 4:return e.prev=4,e.next=7,ji("./locales/".concat(_i.code,".json"));case 7:Li=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.error("Failed to load language ".concat(t.code,":"),e.t0.message),Li=x.J;case 13:Ci.set(Oi,t.code);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),Pi=function(){return _i},Ni=function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(void 0===e[r])return;e=e[r]}if("string"==typeof e)return e},Fi=function(e,t,n){if(_i.code.startsWith(Ti))return"\u202a[[".concat(t?"".concat(e,"(").concat(JSON.stringify(t).slice(1,-1),")"):e,"]]\u202c");var r=e.split("."),a=Ni(Li,r)||Ni(x.J,r)||n;if(void 0===a){var i="Can't find translation for ".concat(e);if(y.a.PROD)return console.warn(i),"";throw new Error(i)}if(t)for(var o in t)a=a.replace("{{".concat(o,"}}"),String(t[o]));return a},Oi=k(Ii.code),zi=function(){var e=Si(Oi);return{t:Fi,langCode:e}},Bi=function(e){var t=e.size,n=void 0===t?"1em":t,a=e.circleWidth,i=void 0===a?8:a,o=e.synchronized,l=void 0!==o&&o,s=e.className,c=void 0===s?"":s,d=-r.useRef(Date.now()).current%1600;return(0,V.jsx)("div",{className:"Spinner ".concat(c),children:(0,V.jsx)("svg",{viewBox:"0 0 100 100",style:{width:n,height:n,"--spinner-delay":l?"".concat(d,"ms"):0},children:(0,V.jsx)("circle",{cx:"50",cy:"50",r:50-i/2,strokeWidth:i,fill:"none",strokeMiterlimit:"10"})})})},Hi=function(e){var t=e.delay,n=e.theme,a=(0,r.useState)(!!t),i=(0,c.A)(a,2),o=i[0],l=i[1];return(0,r.useEffect)((function(){if(t){var e=setTimeout((function(){l(!1)}),t);return function(){return clearTimeout(e)}}}),[t]),o?null:(0,V.jsxs)("div",{className:(0,le.A)("LoadingMessage",{"LoadingMessage--dark":n===b.G.DARK}),children:[(0,V.jsx)("div",{children:(0,V.jsx)(Bi,{})}),(0,V.jsx)("div",{className:"LoadingMessage-text",children:Fi("labels.loadingScene")})]})},Wi=function(e){var t=(0,r.useState)(!0),n=(0,c.A)(t,2),a=n[0],i=n[1];return(0,r.useEffect)((function(){var t=function(){var e=(0,s.A)((0,l.A)().mark((function e(){return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ri(n);case 2:i(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=Di.find((function(t){return t.code===e.langCode}))||Ii;t()}),[e.langCode]),a?(0,V.jsx)(Hi,{theme:e.theme}):e.children},Xi=r.forwardRef((function(e,t){var n=e.size,a=void 0===n?"medium":n,i=e.visible,o=void 0===i||i,d=e.className,u=void 0===d?"":d,f=(0,m.A)(e,Xa),h=Qp().id,p=r.useRef(null);r.useImperativeHandle(t,(function(){return p.current}));var v="ToolIcon_size_".concat(a),U=(0,r.useState)(!1),g=(0,c.A)(U,2),y=g[0],x=g[1],w=(0,r.useRef)(!0),A=function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var n,r;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="onClick"in f&&(null===(n=f.onClick)||void 0===n?void 0:n.call(f,t)),!(0,b.Fb)(r)){e.next=18;break}return e.prev=2,x(!0),e.next=6,r;case 6:e.next=15;break;case 8:if(e.prev=8,e.t0=e.catch(2),!(e.t0 instanceof b.tc)){e.next=14;break}console.warn(e.t0),e.next=15;break;case 14:throw e.t0;case 15:return e.prev=15,w.current&&x(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,8,15,18]])})));return function(t){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){return w.current=!0,function(){w.current=!1}}),[]);var E=(0,r.useRef)(null);if("button"===f.type||"icon"===f.type||"submit"===f.type){var k="icon"===f.type?"button":f.type;return(0,V.jsxs)("button",{className:(0,le.A)("ToolIcon_type_button",v,u,o&&!f.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!f.hidden,"ToolIcon--selected":f.selected,"ToolIcon--plain":"icon"===f.type}),style:f.style,"data-testid":f["data-testid"],hidden:f.hidden,title:f.title,"aria-label":f["aria-label"],type:k,onClick:A,ref:p,disabled:y||f.isLoading||!!f.disabled,children:[(f.icon||f.label)&&(0,V.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true","aria-disabled":!!f.disabled,children:[f.icon||f.label,f.keyBindingLabel&&(0,V.jsx)("span",{className:"ToolIcon__keybinding",children:f.keyBindingLabel}),f.isLoading&&(0,V.jsx)(Bi,{})]}),f.showAriaLabel&&(0,V.jsxs)("div",{className:"ToolIcon__label",children:[f["aria-label"]," ",y&&(0,V.jsx)(Bi,{})]}),f.children]})}return(0,V.jsxs)("label",{className:(0,le.A)("ToolIcon",u),title:f.title,onPointerDown:function(e){var t;E.current=e.pointerType||null,null===(t=f.onPointerDown)||void 0===t||t.call(f,{pointerType:e.pointerType||null})},onPointerUp:function(){requestAnimationFrame((function(){E.current=null}))},children:[(0,V.jsx)("input",{className:"ToolIcon_type_radio ".concat(v),type:"radio",name:f.name,"aria-label":f["aria-label"],"aria-keyshortcuts":f["aria-keyshortcuts"],"data-testid":f["data-testid"],id:"".concat(h,"-").concat(f.id),onChange:function(){var e;null===(e=f.onChange)||void 0===e||e.call(f,{pointerType:E.current})},checked:f.checked,ref:p}),(0,V.jsxs)("div",{className:"ToolIcon__icon",children:[f.icon,f.keyBindingLabel&&(0,V.jsx)("span",{className:"ToolIcon__keybinding",children:f.keyBindingLabel})]})]})}));Xi.displayName="ToolButton";var Gi=function(e,t){if(e.editingGroupId){var n=(0,b.Qc)((0,b.pk)(t),e.editingGroupId);if(n.length)return(0,v.A)((0,v.A)({},e),{},{selectedElementIds:(0,p.default)({},n[0].id,!0)})}return e},Vi=(0,b.$c)({name:"deleteSelectedElements",label:"labels.delete",icon:b.ud,trackEvent:{category:"element",action:"delete"},perform:function(e,t,n,r){if(t.editingLinearElement){var a=t.editingLinearElement,i=a.elementId,o=a.selectedPointsIndices,l=a.startBindingElement,s=a.endBindingElement,c=r.scene.getNonDeletedElementsMap(),d=b.pj.getElement(i,c);if(!d||null==o)return!1;if(d.points.length<2){var u=e.map((function(e){return e.id===d.id?(0,b.Qj)(e,{isDeleted:!0}):e})),f=Gi(t,u);return{elements:u,appState:(0,v.A)((0,v.A)({},f),{},{editingLinearElement:null}),captureUpdate:b.Wg.IMMEDIATELY}}var h={startBindingElement:null!==o&&void 0!==o&&o.includes(0)?null:l,endBindingElement:null!==o&&void 0!==o&&o.includes(d.points.length-1)?null:s};return b.pj.deletePoints(d,o),{elements:e,appState:(0,v.A)((0,v.A)({},t),{},{editingLinearElement:(0,v.A)((0,v.A)((0,v.A)({},t.editingLinearElement),h),{},{selectedPointsIndices:(null===o||void 0===o?void 0:o[0])>0?[o[0]-1]:[0]})}),captureUpdate:b.Wg.IMMEDIATELY}}var p=function(e,t,n){var r,a=new Set((0,b.vk)(e.filter((function(e){return(0,b.bc)(e)})),t).map((function(e){return e.id}))),i={},o=n.scene.getNonDeletedElementsMap(),l=new Set,s=(0,U.A)(a);try{for(s.s();!(r=s.n()).done;){var c,d=r.value,u=(0,b.Bi)(e,d),f=(0,U.A)(u);try{for(f.s();!(c=f.n()).done;){var h=c.value;if(!l.has(h.id)){if((0,b.nc)(h)){var p=(0,b.Aj)(h,o);p&&(i[p.id]=!0)}else i[h.id]=!0;l.add(h.id)}}}catch(S){f.e(S)}finally{f.f()}}}catch(S){s.e(S)}finally{s.f()}var m=!0,g=e.map((function(e){if(t.selectedElementIds[e.id]){var r=(0,b.nc)(e)?(0,b.Aj)(e,o):null;return e.frameId&&a.has(e.frameId)?(m=!1,i[e.id]=!0,e):null!==r&&void 0!==r&&r.frameId&&a.has(null===r||void 0===r?void 0:r.frameId)?e:(e.boundElements&&e.boundElements.forEach((function(t){var r,a,i=n.scene.getNonDeletedElementsMap().get(t.id);i&&(0,b.ec)(i)&&((0,b.Pj)(i,{startBinding:e.id===(null===(r=i.startBinding)||void 0===r?void 0:r.elementId)?null:i.startBinding,endBinding:e.id===(null===(a=i.endBinding)||void 0===a?void 0:a.elementId)?null:i.endBinding}),(0,b.Pj)(i,{points:i.points}))})),(0,b.Qj)(e,{isDeleted:!0}))}return e.frameId&&a.has(e.frameId)?(m=!1,(0,b.nc)(e)||(i[e.id]=!0),(0,b.Qj)(e,{frameId:null})):(0,b.nc)(e)&&t.selectedElementIds[e.containerId]?(0,b.Qj)(e,{isDeleted:!0}):e})),y=t.editingGroupId;if(m&&t.editingGroupId){var x=(0,b.Qc)(g,t.editingGroupId).filter((function(e){return!e.isDeleted}));if(x.length>1)x[0]&&(i[x[0].id]=!0);else{y=null,x[0]&&(i[x[0].id]=!0);var w=x[0];if(w){var A=w.groupIds.findIndex((function(e){return e===t.editingGroupId})),E=w.groupIds[A+1];if(E){var k=(0,b.Qc)(g,E).filter((function(e){return!e.isDeleted}));k.length>1&&(y=E,k.forEach((function(e){i[e.id]=!0})))}}}}return{elements:g,appState:(0,v.A)((0,v.A)({},t),(0,b.Jc)({selectedElementIds:i,editingGroupId:y},g,t,null))}}(e,t,r),m=p.elements,g=p.appState;return(0,b.Tg)(m,m.filter((function(e){return e.isDeleted}))),g=Gi(g,m),{elements:m,appState:(0,v.A)((0,v.A)({},g),{},{activeTool:(0,b.jb)(t,{type:"selection"}),multiElement:null,activeEmbeddable:null}),captureUpdate:(0,b.tk)((0,b.pk)(e),t)?b.Wg.IMMEDIATELY:b.Wg.EVENTUALLY}},keyTest:function(e,t,n){return(e.key===b.hg.BACKSPACE||e.key===b.hg.DELETE)&&!e[b.hg.CTRL_OR_CMD]},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,V.jsx)(Xi,{type:"button",icon:b.ud,title:Fi("labels.delete"),"aria-label":Fi("labels.delete"),onClick:function(){return r(null)},visible:(0,b.tk)((0,b.pk)(t),n)})}}),Yi=function(e,t){return e.frameId===t||e.id===t},Zi=function(e,t,n){for(var r=[],a=[],i=null,o=-1,l=(0,b.xb)(n||(0,b.vk)(e,t,{includeBoundTextElement:!0,includeElementsInFrames:!0}));++o<e.length;){var s=e[o];l.get(s.id)?(a.length&&(r=r.concat(a),a=[]),r.push(o),i=o+1):s.isDeleted&&i===o?(i=o+1,a.push(o)):a=[]}return r},Ki=function(e,t,n){if("containerId"in e&&e.containerId){var r=b.Oj.getScene(e).getElement(e.containerId);if(r)return"left"===n?Math.min(t.indexOf(r),t.indexOf(e)):Math.max(t.indexOf(r),t.indexOf(e))}else{var a,i=null===(a=e.boundElements)||void 0===a||null===(a=a.find((function(e){return"arrow"!==e.type})))||void 0===a?void 0:a.id;if(i){var o=b.Oj.getScene(e).getElement(i);if(o)return"left"===n?Math.min(t.indexOf(o),t.indexOf(e)):Math.max(t.indexOf(o),t.indexOf(e))}}},qi=function(e,t,n,r,a){var i,o=t[n],l=function(t){return!t.isDeleted&&(a?t.frameId===a:!e.editingGroupId||t.groupIds.includes(e.editingGroupId))},s="left"===r?(0,b.rb)(t,(function(e){return l(e)}),Math.max(0,n-1)):(0,b.qb)(t,(function(e){return l(e)}),n+1),c=t[s];if(!c)return-1;if(e.editingGroupId){var d;if((null===o||void 0===o?void 0:o.groupIds.join(""))===(null===c||void 0===c?void 0:c.groupIds.join("")))return null!==(d=Ki(c,t,r))&&void 0!==d?d:s;if(null===c||void 0===c||!c.groupIds.includes(e.editingGroupId))return-1}if(!a&&(c.frameId||(0,b.bc)(c))){var u=function(e,t){var n=-1,r=-1;return e.forEach((function(e,a){Yi(e,t)&&(-1===n&&(n=a),r=a)})),-1===n?[]:e.slice(n,r+1)}(t,c.frameId||c.id);return"left"===r?t.indexOf(u[0]):t.indexOf(u[u.length-1])}if(!c.groupIds.length)return null!==(i=Ki(c,t,r))&&void 0!==i?i:s;var f=e.editingGroupId?c.groupIds[c.groupIds.indexOf(e.editingGroupId)-1]:c.groupIds[c.groupIds.length-1],h=(0,b.Qc)(t,f);return h.length?"left"===r?t.indexOf(h[0]):t.indexOf(h[h.length-1]):s},$i=function(e,t){return t.reduce((function(t,n){var r=e[n];return t.set(r.id,r),t}),new Map)},Qi=function(e,t,n){var r=Zi(e,t),a=$i(e,r),i=function(e){var t=0;return e.reduce((function(n,r,a){return a>0&&e[a-1]!==r-1&&(t=++t),(n[t]||(n[t]=[])).push(r),n}),[])}(r);"right"===n&&(i=i.reverse());var o=new Set(r.filter((function(t){return(0,b.bc)(e[t])})).map((function(t){return e[t].id})));return i.forEach((function(r,a){var i,l=r[0],s=r[r.length-1],c="left"===n?l:s,d=r.some((function(t){var n=e[t];return n.frameId&&o.has(n.frameId)}))?null:null===(i=e[c])||void 0===i?void 0:i.frameId,u=qi(t,e,c,n,d);if(-1!==u&&c!==u){var f="left"===n?e.slice(0,u):e.slice(0,l),h=e.slice(l,s+1),p="left"===n?e.slice(u,l):e.slice(s+1,u+1),v="left"===n?e.slice(s+1):e.slice(u+1);e="left"===n?[].concat((0,g.A)(f),(0,g.A)(h),(0,g.A)(p),(0,g.A)(v)):[].concat((0,g.A)(f),(0,g.A)(p),(0,g.A)(h),(0,g.A)(v))}})),(0,b.Mj)(e,a),e},Ji=function(e,t,n,r,a){var i,o,l=Zi(e,t,a),s=$i(e,l),c=[];if("left"===n){if(r)i=(0,b.qb)(e,(function(e){return Yi(e,r)}));else if(t.editingGroupId){var d=(0,b.Qc)(e,t.editingGroupId);if(!d.length)return e;i=e.indexOf(d[0])}else i=0;o=l[l.length-1]}else{if(r)o=(0,b.rb)(e,(function(e){return Yi(e,r)}));else if(t.editingGroupId){var u=(0,b.Qc)(e,t.editingGroupId);if(!u.length)return e;o=e.indexOf(u[u.length-1])}else o=e.length-1;i=l[0]}-1===i&&(i=0);for(var f=i;f<o+1;f++)l.includes(f)||c.push(e[f]);var h=Array.from(s.values()),p=e.slice(0,i),v=e.slice(o+1),U="left"===n?[].concat((0,g.A)(p),h,c,(0,g.A)(v)):[].concat((0,g.A)(p),c,h,(0,g.A)(v));return(0,b.Mj)(U,s),U};function eo(e,t,n,r){var a,i=(0,b.xb)((0,b.vk)(e,t,{includeBoundTextElement:!0,includeElementsInFrames:!0})),o={regularElements:[],frameChildren:new Map},l=new Set,s=(0,U.A)(e);try{for(s.s();!(a=s.n()).done;){var d=a.value;i.has(d.id)&&(0,b.bc)(d)&&l.add(d.id)}}catch(x){s.e(x)}finally{s.f()}var u,f=(0,U.A)(e);try{for(f.s();!(u=f.n()).done;){var h=u.value;if(i.has(h.id))if((0,b.bc)(h)||h.frameId&&l.has(h.frameId))o.regularElements.push(h);else if(h.frameId){var p=o.frameChildren.get(h.frameId)||[];p.push(h),o.frameChildren.set(h.frameId,p)}else o.regularElements.push(h)}}catch(x){f.e(x)}finally{f.f()}for(var v=e,m=0,g=Array.from(o.frameChildren.entries());m<g.length;m++){var y=(0,c.A)(g[m],2);v=r(e,t,n,y[0],y[1])}return r(v,t,n,null,o.regularElements)}var to=function(e,t){return Qi(e,t,"left")},no=function(e,t){return Qi(e,t,"right")},ro=function(e,t){return eo(e,t,"left",Ji)},ao=function(e,t){return eo(e,t,"right",Ji)},io=(0,b.$c)({name:"sendBackward",label:"labels.sendBackward",keywords:["move down","zindex","layer"],icon:b.Wd,trackEvent:{category:"element"},perform:function(e,t){return{elements:to(e,t),appState:t,captureUpdate:b.Wg.IMMEDIATELY}},keyPriority:40,keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&!e.shiftKey&&e.code===b.gg.BRACKET_LEFT},PanelComponent:function(e){var t=e.updateData;e.appState;return(0,V.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(Fi("labels.sendBackward")," \u2014 ").concat((0,b.kb)("CtrlOrCmd+[")),children:b.Wd})}}),oo=(0,b.$c)({name:"bringForward",label:"labels.bringForward",keywords:["move up","zindex","layer"],icon:b.Vd,trackEvent:{category:"element"},perform:function(e,t){return{elements:no(e,t),appState:t,captureUpdate:b.Wg.IMMEDIATELY}},keyPriority:40,keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&!e.shiftKey&&e.code===b.gg.BRACKET_RIGHT},PanelComponent:function(e){var t=e.updateData;e.appState;return(0,V.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(Fi("labels.bringForward")," \u2014 ").concat((0,b.kb)("CtrlOrCmd+]")),children:b.Vd})}}),lo=(0,b.$c)({name:"sendToBack",label:"labels.sendToBack",keywords:["move down","zindex","layer"],icon:b.Yd,trackEvent:{category:"element"},perform:function(e,t){return{elements:ro(e,t),appState:t,captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return b.l?e[b.hg.CTRL_OR_CMD]&&e.altKey&&e.code===b.gg.BRACKET_LEFT:e[b.hg.CTRL_OR_CMD]&&e.shiftKey&&e.code===b.gg.BRACKET_LEFT},PanelComponent:function(e){var t=e.updateData;e.appState;return(0,V.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(Fi("labels.sendToBack")," \u2014 ").concat(b.l?(0,b.kb)("CtrlOrCmd+Alt+["):(0,b.kb)("CtrlOrCmd+Shift+[")),children:b.Yd})}}),so=(0,b.$c)({name:"bringToFront",label:"labels.bringToFront",keywords:["move up","zindex","layer"],icon:b.Xd,trackEvent:{category:"element"},perform:function(e,t){return{elements:ao(e,t),appState:t,captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return b.l?e[b.hg.CTRL_OR_CMD]&&e.altKey&&e.code===b.gg.BRACKET_RIGHT:e[b.hg.CTRL_OR_CMD]&&e.shiftKey&&e.code===b.gg.BRACKET_RIGHT},PanelComponent:function(e){var t=e.updateData;e.appState;return(0,V.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(e){return t(null)},title:"".concat(Fi("labels.bringToFront")," \u2014 ").concat(b.l?(0,b.kb)("CtrlOrCmd+Alt+]"):(0,b.kb)("CtrlOrCmd+Shift+]")),children:b.Xd})}}),co=(0,b.$c)({name:"selectAll",label:"labels.selectAll",icon:b.uf,trackEvent:{category:"canvas"},viewMode:!1,perform:function(e,t,n,r){if(t.editingLinearElement)return!1;var a=e.filter((function(e){return!e.isDeleted&&!((0,b._b)(e)&&e.containerId)&&!e.locked})).reduce((function(e,t){return e[t.id]=!0,e}),{});return{appState:(0,v.A)((0,v.A)((0,v.A)({},t),(0,b.Jc)({editingGroupId:null,selectedElementIds:a},(0,b.pk)(e),t,r)),{},{selectedLinearElement:1===Object.keys(a).length&&(0,b.cc)(e[0])?new b.pj(e[0]):null}),captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.key===b.hg.A}}),uo=function(e){return function(e){var t=(0,b.yb)(e),n=e.slice(),r=new Set;return n.forEach((function(e,a){var i,o;e&&(null!==(i=e.boundElements)&&void 0!==i&&i.length?(r.add(e),n[a]=null,e.boundElements.forEach((function(e){var a=t.get(e.id);a&&"text"===e.type&&(r.add(a[0]),n[a[1]]=null)}))):"text"===e.type&&e.containerId&&(null===(o=t.get(e.containerId))||void 0===o||null===(o=o[0].boundElements)||void 0===o?void 0:o.find((function(t){return t.id===e.id})))||(r.add(e),n[a]=null))})),r.size!==e.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),e):(0,g.A)(r)}(function(e){var t=e.slice(),n=new Set,r=function(e){var t,n,a=null===(t=e[0])||void 0===t||null===(t=t.groupIds)||void 0===t?void 0:t.join(""),i=[e[0]],o=[],l=(0,U.A)(e.slice(1));try{for(l.s();!(n=l.n()).done;){var s,c=n.value;(null===(s=c.groupIds)||void 0===s?void 0:s.join(""))===a?i.push(c):o.push(c)}}catch(d){l.e(d)}finally{l.f()}return o.length?[].concat(i,(0,g.A)(r(o))):i},a=new Map;return t.forEach((function(e,i){var o;if(!a.has(e.id))if(null!==(o=e.groupIds)&&void 0!==o&&o.length){var l,s=e.groupIds[e.groupIds.length-1],c=t.slice(i).filter((function(e){var t,n=null===e||void 0===e||null===(t=e.groupIds)||void 0===t?void 0:t.some((function(e){return e===s}));return n&&a.set(e.id,!0),n})),d=(0,U.A)(r(c));try{for(d.s();!(l=d.n()).done;){var u=l.value;n.add(u)}}catch(f){d.e(f)}finally{d.f()}}else n.add(e)})),n.size!==e.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),e):(0,g.A)(n)}(e))},fo=(0,b.$c)({name:"duplicateSelection",label:"labels.duplicateSelection",icon:b.wd,trackEvent:{category:"element"},perform:function(e,t,n,r){if(t.editingLinearElement)try{return{elements:e,appState:b.pj.duplicateSelectedPoints(t,r.scene.getNonDeletedElementsMap()),captureUpdate:b.Wg.IMMEDIATELY}}catch(o){return!1}var a=ho(e,t);if(r.props.onDuplicate&&a.elements){var i=r.props.onDuplicate(a.elements,e);i&&(a.elements=i)}return(0,v.A)((0,v.A)({},a),{},{captureUpdate:b.Wg.IMMEDIATELY})},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.key===b.hg.D},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,V.jsx)(Xi,{type:"button",icon:b.wd,title:"".concat(Fi("labels.duplicateSelection")," \u2014 ").concat((0,b.kb)("CtrlOrCmd+D")),"aria-label":Fi("labels.duplicateSelection"),onClick:function(){return r(null)},visible:(0,b.tk)((0,b.pk)(t),n)})}}),ho=function(e,t){var n=new Map,r=[],a=[],i=new Map,o=new Map,l=(0,b.xb)(e),s=function(e){var l=(0,b.Ub)(e).reduce((function(e,l){if(u.has(l.id))return e;u.set(l.id,!0);var s=(0,b.cg)(t.editingGroupId,n,l,{x:l.x+b.R/2,y:l.y+b.R/2});return u.set(s.id,!0),o.set(s.id,s),i.set(l.id,s.id),a.push(l),r.push(s),e.push(s),e}),[]);return Array.isArray(e)?l:l[0]||null};e=uo(e);var c,d=(0,b.xb)((0,b.vk)(e,t,{includeBoundTextElement:!0,includeElementsInFrames:!0})),u=new Map,f=e.slice(),h=function(e,t){(0,b.Kb)(-1!==e,"targetIndex === -1 "),(Array.isArray(t)||t)&&f.splice.apply(f,[e+1,0].concat((0,g.A)((0,b.Ub)(t))))},p=new Set(e.filter((function(e){return d.has(e.id)&&(0,b.bc)(e)})).map((function(e){return e.id}))),m=(0,U.A)(e);try{var y=function(){var n=c.value;if(u.has(n.id)||!d.has(n.id))return 0;var r=(0,b.Lc)(t,n);if(r){var a=(0,b.Qc)(e,r).flatMap((function(t){return(0,b.bc)(t)?[].concat((0,g.A)((0,b.Bi)(e,t.id)),[t]):[t]})),i=(0,b.rb)(f,(function(e){var t;return null===(t=e.groupIds)||void 0===t?void 0:t.includes(r)}));return h(i,s(a)),0}if(!n.frameId||!p.has(n.frameId)){if((0,b.bc)(n)){var o=n.id,v=(0,b.Bi)(e,o),U=(0,b.rb)(f,(function(e){return e.frameId===o||e.id===o}));return h(U,s([].concat((0,g.A)(v),[n]))),0}if((0,b.mc)(n)){var m=(0,b.zj)(n,l),y=(0,b.rb)(f,(function(e){return e.id===n.id||"containerId"in e&&e.containerId===n.id}));return h(y,s(m?[n,m]:n)),0}if((0,b.nc)(n)){var x=(0,b.Aj)(n,l),w=(0,b.rb)(f,(function(e){return e.id===n.id||e.id===(null===x||void 0===x?void 0:x.id)}));return h(w,s(x?[x,n]:n)),0}h((0,b.rb)(f,(function(e){return e.id===n.id})),s(n))}};for(m.s();!(c=m.n()).done;)y()}catch(w){m.e(w)}finally{m.f()}(0,b.vj)(f,a,i),(0,b.Sg)(f,a,i),(0,b.wi)(f,a,i);var x=(0,b.rk)(r);return{elements:f,appState:(0,v.A)((0,v.A)({},t),(0,b.Jc)({editingGroupId:t.editingGroupId,selectedElementIds:x.reduce((function(e,t){return(0,b.nc)(t)||(e[t.id]=!0),e}),{})},(0,b.pk)(f),t,null))}},po=new Set(["command_palette","export"]),vo=function(e,t,n,r){try{if(typeof window>"u"||y.a.VITE_WORKER_ID||"true"!==y.a.VITE_APP_ENABLE_TRACKING||!po.has(e)||y.a.DEV)return;y.a.PROD||console.info("trackEvent",{category:e,action:t,label:n,value:r}),window.sa_event&&window.sa_event(t,{category:e,label:n,value:r})}catch(ja){console.error("error during analytics",ja)}},Uo=(0,r.forwardRef)((function(e,t){var n=e.title,r=e.className,a=e.testId,i=e.active,o=e.standalone,l=e.icon,s=e.onClick;return(0,V.jsx)("button",{type:"button",ref:t,title:n,"data-testid":a,className:(0,le.A)(r,{standalone:o,active:i}),onClick:s,children:l},n)})),mo=function(e){return(0,V.jsx)("div",{className:"buttonList",children:e.options.map((function(t){var n;return"button"===e.type?(0,V.jsx)(Uo,{icon:t.icon,title:t.text,testId:t.testId,active:null!==(n=t.active)&&void 0!==n?n:e.value===t.value,onClick:function(n){return e.onClick(t.value,n)}},t.text):(0,V.jsxs)("label",{className:(0,le.A)({active:e.value===t.value}),title:t.text,children:[(0,V.jsx)("input",{type:"radio",name:e.group,onChange:function(){return e.onChange(t.value)},checked:e.value===t.value,"data-testid":t.testId}),t.icon]},t.text)}))})},go=function(e){var t,n=e.onChange,r=e.type,a=e.activeColor,i=e.topPicks;return"elementStroke"===r&&(t=b.f),"elementBackground"===r&&(t=b.g),"canvasBackground"===r&&(t=b.h),i&&(t=i),t?(0,V.jsx)("div",{className:"color-picker__top-picks",children:t.map((function(e){return(0,V.jsx)("button",{className:(0,le.A)("color-picker__button",{active:e===a,"is-transparent":"transparent"===e||!e}),style:{"--swatch-color":e},type:"button",title:e,onClick:function(){return n(e)},"data-testid":"color-top-pick-".concat(e),children:(0,V.jsx)("div",{className:"color-picker__button-outline"})},e)}))}):(console.error("Invalid type for TopPicks"),null)},bo=function(){return(0,V.jsx)("div",{style:{width:1,height:"1rem",backgroundColor:"var(--default-border-color)",margin:"0 auto"}})},yo=function(e){for(var t=e.palette,n=e.color,r=0,a=Object.entries(t);r<a.length;r++){var i=(0,c.A)(a[r],2),o=i[0],l=i[1];if(Array.isArray(l)){var s=l.indexOf(n);if(s>-1)return{colorName:o,shade:s}}else if(l===n)return{colorName:o,shade:null}}return null},xo=[["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),wo=function(e){var t=e.color,n=e.palette;return!Object.values(n).flat().includes(t)},Ao=k(null),Eo=function(e,t,n){return(299*e+587*t+114*n)/1e3>=160?"black":"white"},ko=function(e,t){if(t){var n=(new Option).style;if(n.color=e,n.color){var r=n.color.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),a=parseInt(r[0]),i=parseInt(r[1]),o=parseInt(r[2]);return Eo(a,i,o)}}if("transparent"===e)return"black";var l=parseInt(e.substring(1,3),16),s=parseInt(e.substring(3,5),16),c=parseInt(e.substring(5,7),16);return Eo(l,s,c)},So=function(e){var t=e.color,n=e.keyLabel,r=e.isCustomColor,a=void 0!==r&&r,i=e.isShade,o=void 0!==i&&i;return(0,V.jsxs)("div",{className:"color-picker__button__hotkey-label",style:{color:ko(t,a)},children:[o&&"\u21e7",n]})},Mo=function(e){var t=e.hex,n=e.onChange,a=e.palette,i=yo({color:t||"transparent",palette:a}),o=Ei(Ao),l=(0,c.A)(o,2),s=l[0],d=l[1],u=(0,r.useRef)(null);if((0,r.useEffect)((function(){u.current&&"shades"===s&&u.current.focus()}),[i,s]),i){var f=i.colorName,h=i.shade,p=a[f];if(Array.isArray(p))return(0,V.jsx)("div",{className:"color-picker-content--default shades",children:p.map((function(e,t){return(0,V.jsxs)("button",{ref:t===h&&"shades"===s?u:void 0,tabIndex:-1,type:"button",className:(0,le.A)("color-picker__button color-picker__button--large",{active:t===h}),"aria-label":"Shade",title:"".concat(f," - ").concat(t+1),style:e?{"--swatch-color":e}:void 0,onClick:function(){n(e),d("shades")},children:[(0,V.jsx)("div",{className:"color-picker__button-outline"}),(0,V.jsx)(So,{color:e,keyLabel:t+1,isShade:!0})]},t)}))})}return(0,V.jsxs)("div",{className:"color-picker-content--default",style:{position:"relative"},tabIndex:-1,children:[(0,V.jsx)("button",{type:"button",tabIndex:-1,className:"color-picker__button color-picker__button--large color-picker__button--no-focus-visible"}),(0,V.jsx)("div",{tabIndex:-1,style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"0.75rem"},children:Fi("colorPicker.noShades")})]})},Co=function(e){var t=e.palette,n=e.color,a=e.onChange,i=(e.label,e.activeShade),o=yo({color:n||"transparent",palette:t}),l=Ei(Ao),s=(0,c.A)(l,2),d=s[0],u=s[1],f=(0,r.useRef)(null);return(0,r.useEffect)((function(){f.current&&"baseColors"===d&&f.current.focus()}),[null===o||void 0===o?void 0:o.colorName,d]),(0,V.jsx)("div",{className:"color-picker-content--default",children:Object.entries(t).map((function(e,t){var n=(0,c.A)(e,2),r=n[0],l=n[1],s=(Array.isArray(l)?l[i]:l)||"transparent",d=xo[t],h=Fi("colors.".concat(r.replace(/\d+/,"")),null,"");return(0,V.jsxs)("button",{ref:(null===o||void 0===o?void 0:o.colorName)===r?f:void 0,tabIndex:-1,type:"button",className:(0,le.A)("color-picker__button color-picker__button--large",{active:(null===o||void 0===o?void 0:o.colorName)===r,"is-transparent":"transparent"===s||!s}),onClick:function(){a(s),u("baseColors")},title:"".concat(h).concat(s.startsWith("#")?" ".concat(s):""," \u2014 ").concat(d),"aria-label":"".concat(h," \u2014 ").concat(d),style:s?{"--swatch-color":s}:void 0,"data-testid":"color-".concat(r),children:[(0,V.jsx)("div",{className:"color-picker__button-outline"}),(0,V.jsx)(So,{color:s,keyLabel:d})]},r)}))})},jo=function(e){var t=e.colors,n=e.color,a=e.onChange,i=e.label,o=Ei(Ao),l=(0,c.A)(o,2),s=l[0],d=l[1],u=(0,r.useRef)(null);return(0,r.useEffect)((function(){u.current&&u.current.focus()}),[n,s]),(0,V.jsx)("div",{className:"color-picker-content--default",children:t.map((function(e,t){return(0,V.jsxs)("button",{ref:n===e?u:void 0,tabIndex:-1,type:"button",className:(0,le.A)("color-picker__button color-picker__button--large",{active:n===e,"is-transparent":"transparent"===e||!e}),onClick:function(){a(e),d("custom")},title:e,"aria-label":i,style:{"--swatch-color":e},children:[(0,V.jsx)("div",{className:"color-picker__button-outline"}),(0,V.jsx)(So,{color:e,keyLabel:t+1,isCustomColor:!0})]},t)}))})},Io=function(e,t,n){var r,a=Math.ceil(n/b.b);switch(t=null!==(r=t)&&void 0!==r?r:-1,e){case"ArrowLeft":var i=t-1;return i<0?n-1:i;case"ArrowRight":return(t+1)%n;case"ArrowDown":var o=t+b.b;return o>=n?t%b.b:o;case"ArrowUp":var l=t-b.b,s=l<0?b.b*a+l:l;return s>=n?void 0:s}},Do=function(e){var t=e.event,n=e.activeColorPickerSection,r=e.palette,a=e.color,i=e.onChange,o=e.customColors,l=e.setActiveColorPickerSection,s=(e.updateData,e.activeShade),d=e.onEyeDropperToggle,u=e.onEscape;if(t[b.hg.CTRL_OR_CMD])return!1;if(t.key===b.hg.ESCAPE)return u(t),!0;if(t.key===b.hg.ALT)return d(!0),!0;if(t.key===b.hg.I)return d(),!0;var f=yo({color:a,palette:r});if(t.key===b.hg.TAB){var h={custom:!!o.length,baseColors:!0,shades:null!=(null===f||void 0===f?void 0:f.shade),hex:!0},p=Object.entries(h).reduce((function(e,t){var n=(0,c.A)(t,2),r=n[0];return n[1]&&e.push(r),e}),[]),v=p.indexOf(n),U=t.shiftKey?-1:1,m=p[v+U>p.length-1?0:v+U<0?p.length-1:v+U];return m&&l(m),"custom"===m?i(o[0]):"baseColors"===m&&(Object.entries(r).find((function(e){var t=(0,c.A)(e,2),n=t[0],r=t[1];return Array.isArray(r)?r.includes(a):r===a?n:null}))||i(b.e.black)),t.preventDefault(),t.stopPropagation(),!0}if(function(e){var t=e.e,n=e.colorObj,r=e.onChange,a=e.palette,i=e.customColors,o=e.setActiveColorPickerSection,l=e.activeShade;if(null!=(null===n||void 0===n?void 0:n.shade)&&["Digit1","Digit2","Digit3","Digit4","Digit5"].includes(t.code)&&t.shiftKey){var s=Number(t.code.slice(-1))-1;return r(a[n.colorName][s]),o("shades"),!0}if(["1","2","3","4","5"].includes(t.key)&&i[Number(t.key)-1])return r(i[Number(t.key)-1]),o("custom"),!0;if(xo.includes(t.key)){var c=xo.indexOf(t.key),d=a[Object.keys(a)[c]];return r(Array.isArray(d)?d[l]:d),o("baseColors"),!0}return!1}({e:t,colorObj:f,onChange:i,palette:r,customColors:o,setActiveColorPickerSection:l,activeShade:s}))return!0;if("shades"===n&&f){var g=f.shade,y=Io(t.key,g,b.b);if(void 0!==y)return i(r[f.colorName][y]),!0}if("baseColors"===n&&f){var x=f.colorName,w=Object.keys(r),A=w.indexOf(x),E=Io(t.key,A,w.length);if(void 0!==E){var k=r[w[E]];return i(Array.isArray(k)?k[s]:k),!0}}if("custom"===n){var S=o.indexOf(a),M=Io(t.key,S,o.length);if(void 0!==M)return i(o[M]),!0}return!1},To=function(e){var t=e.children;return(0,V.jsx)("div",{className:"color-picker__heading",children:t})},_o=function(e){var t,n=e.color,a=e.onChange,i=e.label,o=e.type,l=e.elements,s=e.palette,d=e.updateData,u=e.children,f=e.onEyeDropperToggle,h=e.onEscape,p=r.useState((function(){return"canvasBackground"===o?[]:function(e,t,n){var r={elementBackground:"backgroundColor",elementStroke:"strokeColor"},a=e.filter((function(e){if(e.isDeleted)return!1;var a=e[r[t]];return wo({color:a,palette:n})})),i=new Map;return a.forEach((function(e){var n=e[r[t]];i.has(n)?i.set(n,i.get(n)+1):i.set(n,1)})),(0,g.A)(i.entries()).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]})).slice(0,b.a)}(l,o,s)})),v=(0,c.A)(p,1)[0],U=Ei(Ao),m=(0,c.A)(U,2),y=m[0],x=m[1],w=yo({color:n,palette:s});(0,r.useEffect)((function(){if(!y){var e=wo({color:n,palette:s}),t=e&&!v.includes(n);x(t?"hex":e?"custom":null!=(null===w||void 0===w?void 0:w.shade)?"shades":"baseColors")}}),[y,n,s,x,w,v]);var A=(0,r.useState)(null!==(t=null===w||void 0===w?void 0:w.shade)&&void 0!==t?t:"elementBackground"===o?b.d:b.c),E=(0,c.A)(A,2),k=E[0],S=E[1];(0,r.useEffect)((function(){null!=(null===w||void 0===w?void 0:w.shade)&&S(w.shade);var e=function(e){e.key===b.hg.ALT&&f(!1)};return document.addEventListener("keyup",e,{capture:!0}),function(){document.removeEventListener("keyup",e,{capture:!0})}}),[w,f]);var M=r.useRef(null);return(0,V.jsx)("div",{role:"dialog","aria-modal":"true","aria-label":Fi("labels.colorPicker"),children:(0,V.jsxs)("div",{ref:M,onKeyDown:function(e){Do({event:e,activeColorPickerSection:y,palette:s,color:n,onChange:a,onEyeDropperToggle:f,customColors:v,setActiveColorPickerSection:x,updateData:d,activeShade:k,onEscape:h})&&(e.preventDefault(),e.stopPropagation())},className:"color-picker-content properties-content",tabIndex:-1,children:[!!v.length&&(0,V.jsxs)("div",{children:[(0,V.jsx)(To,{children:Fi("colorPicker.mostUsedCustomColors")}),(0,V.jsx)(jo,{colors:v,color:n,label:Fi("colorPicker.mostUsedCustomColors"),onChange:a})]}),(0,V.jsxs)("div",{children:[(0,V.jsx)(To,{children:Fi("colorPicker.colors")}),(0,V.jsx)(Co,{color:n,label:i,palette:s,onChange:a,activeShade:k})]}),(0,V.jsxs)("div",{children:[(0,V.jsx)(To,{children:Fi("colorPicker.shades")}),(0,V.jsx)(Mo,{hex:n,onChange:a,palette:s})]}),u]})})},Lo=r.createContext(null),Ro=function(){return r.useContext(Lo)},Po=function(e){var t=(0,r.useState)(null),n=(0,c.A)(t,2),a=n[0],i=n[1],o=$p(),l=Ro().theme,s=Qp().container;return(0,r.useLayoutEffect)((function(){var t,n;a&&(a.className="",(t=a.classList).add.apply(t,["excalidraw"].concat((0,g.A)((null===e||void 0===e||null===(n=e.className)||void 0===n?void 0:n.split(/\s+/))||[]))),a.classList.toggle("excalidraw--mobile",o.editor.isMobile),a.classList.toggle("theme--dark",l===b.G.DARK))}),[a,l,o.editor.isMobile,null===e||void 0===e?void 0:e.className]),(0,r.useLayoutEffect)((function(){var t=null!==e&&void 0!==e&&e.parentSelector?null===s||void 0===s?void 0:s.querySelector(e.parentSelector):document.body;if(t){var n=document.createElement("div");return t.appendChild(n),i(n),function(){t.removeChild(n)}}}),[s,null===e||void 0===e?void 0:e.parentSelector]),a};function No(e,t,n){(0,r.useEffect)((function(){function r(r){var a=r;if(e.current){var i=null===n||void 0===n?void 0:n(a,e.current);if(!0!==i)return!1===i?t(a):void(e.current.contains(a.target)||!document.documentElement.contains(a.target)||a.target.closest("[data-radix-portal]")||a.target===document.documentElement&&"none"===document.body.style.pointerEvents||a.target.closest("[data-prevent-outside-click]")||t(a))}}return document.addEventListener("pointerdown",r),document.addEventListener("touchstart",r),function(){document.removeEventListener("pointerdown",r),document.removeEventListener("touchstart",r)}}),[e,t,n])}var Fo=function(e){var t=(0,r.useRef)(e);return Object.assign(t.current,e),t.current},Oo=k(null),zo=function(e){var t=e.onCancel,n=e.onChange,a=e.onSelect,i=e.colorPickerType,o=Po({className:"excalidraw-eye-dropper-backdrop",parentSelector:".excalidraw-eye-dropper-container"}),l=Ro(),s=Jp(),c=Kp(),d=(0,b.vk)(s,l),u=Fo({app:c,onCancel:t,onChange:n,onSelect:a,selectedElements:d}),f=Qp().container;(0,r.useEffect)((function(){var e=h.current;if(e&&c.canvas&&o){var t=!1,n=c.canvas.getContext("2d"),r=function(e){var t=e.clientX,r=e.clientY,a=n.getImageData((t-l.offsetLeft)*window.devicePixelRatio,(r-l.offsetTop)*window.devicePixelRatio,1,1).data;return(0,b.k)(a[0],a[1],a[2])},a=function(n){var a=n.clientX,o=n.clientY,l=n.altKey;e.style.top="".concat(o+20,"px"),e.style.left="".concat(a+20,"px");var s=r({clientX:a,clientY:o});t&&u.onChange(i,s,u.selectedElements,{altKey:l}),e.style.background=s},s=function(){u.onCancel()},d=function(e){t=!0,e.stopImmediatePropagation()},p=function(e){t=!1,null!==f&&void 0!==f&&f.focus(),e.stopImmediatePropagation(),e.preventDefault(),function(e,t){u.onSelect(e,t)}(r(e),e)},v=function(e){e.key===b.hg.ESCAPE&&(e.preventDefault(),e.stopImmediatePropagation(),s())};return o.tabIndex=-1,o.focus(),a({clientX:u.app.lastViewportPosition.x,clientY:u.app.lastViewportPosition.y,altKey:!1}),o.addEventListener("keydown",v),o.addEventListener("pointerdown",d),o.addEventListener("pointerup",p),window.addEventListener("pointermove",a,{passive:!0}),window.addEventListener("blur",s),function(){t=!1,o.removeEventListener("keydown",v),o.removeEventListener("pointerdown",d),o.removeEventListener("pointerup",p),window.removeEventListener("pointermove",a),window.removeEventListener("blur",s)}}}),[u,c.canvas,o,i,f,l.offsetLeft,l.offsetTop]);var h=(0,r.useRef)(null);return No(h,(function(){t()}),(function(e){return!!e.target.closest(".excalidraw-eye-dropper-trigger, .excalidraw-eye-dropper-backdrop")})),o?(0,se.createPortal)((0,V.jsx)("div",{ref:h,className:"excalidraw-eye-dropper-preview"}),o):null},Bo=function(e){var t=e.color,n=e.onChange,a=e.label,i=e.colorPickerType,o=$p(),l=(0,r.useState)(t),s=(0,c.A)(l,2),d=s[0],u=s[1],f=Ei(Ao),h=(0,c.A)(f,2),p=h[0],v=h[1];(0,r.useEffect)((function(){u(t)}),[t]);var U=(0,r.useCallback)((function(e){var t=e.toLowerCase(),r=Go(t);r&&n(r),u(t)}),[n]),m=(0,r.useRef)(null),g=(0,r.useRef)(null);(0,r.useEffect)((function(){m.current&&m.current.focus()}),[p]);var y=Ei(Oo),x=(0,c.A)(y,2),w=x[0],A=x[1];return(0,r.useEffect)((function(){return function(){A(null)}}),[A]),(0,V.jsxs)("div",{className:"color-picker__input-label",children:[(0,V.jsx)("div",{className:"color-picker__input-hash",children:"#"}),(0,V.jsx)("input",{ref:"hex"===p?m:void 0,style:{border:0,padding:0},spellCheck:!1,className:"color-picker-input","aria-label":a,onChange:function(e){U(e.target.value)},value:(d||"").replace(/^#/,""),onBlur:function(){u(t)},tabIndex:-1,onFocus:function(){return v("hex")},onKeyDown:function(e){var t;e.key!==b.hg.TAB&&(e.key===b.hg.ESCAPE&&null!==(t=g.current)&&void 0!==t&&t.focus(),e.stopPropagation())}}),!o.editor.isMobile&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{style:{width:"1px",height:"1.25rem",backgroundColor:"var(--default-border-color)"}}),(0,V.jsx)("div",{ref:g,className:(0,le.A)("excalidraw-eye-dropper-trigger",{selected:w}),onClick:function(){return A((function(e){return e?null:{keepOpenOnAlt:!1,onSelect:function(e){return n(e)},colorPickerType:i}}))},title:"".concat(Fi("labels.eyeDropper")," \u2014 ").concat(b.hg.I.toLocaleUpperCase()," or ").concat((0,b.kb)("Alt")," "),children:b.df})]})]})},Ho=r.forwardRef((function(e,t){var n=e.children,r=e.padding,a=e.className,i=e.style;return(0,V.jsx)("div",{className:(0,le.A)("Island",a),style:(0,v.A)({"--padding":r},i),ref:t,children:n})})),Wo=r.forwardRef((function(e,t){var n=e.className,r=e.container,a=e.children,i=e.style,o=e.onClose,l=e.onKeyDown,s=e.onFocusOutside,c=e.onPointerLeave,d=e.onPointerDownOutside,u=$p();return(0,V.jsx)(Fn,{container:r,children:(0,V.jsxs)(On,{ref:t,className:(0,le.A)("focus-visible-none",n),"data-prevent-outside-click":!0,side:u.editor.isMobile&&!u.viewport.isLandscape?"bottom":"right",align:u.editor.isMobile&&!u.viewport.isLandscape?"center":"start",alignOffset:-16,sideOffset:20,style:{zIndex:"var(--zIndex-popup)"},onPointerLeave:c,onKeyDown:l,onFocusOutside:s,onPointerDownOutside:d,onCloseAutoFocus:function(e){e.stopPropagation(),e.preventDefault(),r&&!(0,b.$a)(document.activeElement)&&r.focus(),o()},children:[(0,V.jsx)(Ho,{padding:3,style:i,children:a}),(0,V.jsx)(zn,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})})),Xo=function(e){var t=(new Option).style;return t.color=e,!!t.color},Go=function(e){return(0,b.sb)(e)?e:Xo("#".concat(e))?"#".concat(e):Xo(e)?e:null},Vo=function(e){var t=e.type,n=e.color,a=e.onChange,i=e.label,o=e.elements,l=e.palette,s=void 0===l?b.e:l,d=e.updateData,u=Qp().container,f=Ei(Ao),h=(0,c.A)(f,2)[1],p=Ei(Oo),v=(0,c.A)(p,2),U=v[0],m=v[1],g=(0,V.jsxs)("div",{children:[(0,V.jsx)(To,{children:Fi("colorPicker.hexCode")}),(0,V.jsx)(Bo,{color:n,label:i,onChange:function(e){a(e)},colorPickerType:t})]}),y=(0,r.useRef)(null);return(0,V.jsx)(Wo,{container:u,style:{maxWidth:"13rem"},onFocusOutside:function(e){(function(){var e;null===(e=y.current)||void 0===e||null===(e=e.querySelector(".color-picker-content"))||void 0===e||e.focus()})(),e.preventDefault()},onPointerDownOutside:function(e){U&&e.preventDefault()},onClose:function(){d({openPopup:null}),h(null)},children:s?(0,V.jsx)(_o,{palette:s,color:n,onChange:function(e){a(e)},onEyeDropperToggle:function(e){m((function(n){return e?((n=n||{keepOpenOnAlt:!0,onSelect:a,colorPickerType:t}).keepOpenOnAlt=!0,n):!1===e||n?null:{keepOpenOnAlt:!1,onSelect:a,colorPickerType:t}}))},onEscape:function(e){U?m(null):d({openPopup:null})},label:i,type:t,elements:o,updateData:d,children:g}):g})},Yo=function(e){var t=e.label,n=e.color,r=e.type;return(0,V.jsx)(Nn,{type:"button",className:(0,le.A)("color-picker__button active-color properties-trigger",{"is-transparent":"transparent"===n||!n}),"aria-label":t,style:n?{"--swatch-color":n}:void 0,title:Fi("elementStroke"===r?"labels.showStroke":"labels.showBackground"),children:(0,V.jsx)("div",{className:"color-picker__button-outline"})})},Zo=function(e){var t=e.type,n=e.color,r=e.onChange,a=e.label,i=e.elements,o=e.palette,l=void 0===o?b.e:o,s=e.topPicks,c=e.updateData,d=e.appState;return(0,V.jsx)("div",{children:(0,V.jsxs)("div",{role:"dialog","aria-modal":"true",className:"color-picker-container",children:[(0,V.jsx)(go,{activeColor:n,onChange:r,type:t,topPicks:s}),(0,V.jsx)(bo,{}),(0,V.jsxs)(Pn,{open:d.openPopup===t,onOpenChange:function(e){c({openPopup:e?t:null})},children:[(0,V.jsx)(Yo,{color:n,label:a,type:t}),d.openPopup===t&&(0,V.jsx)(Vo,{type:t,color:n,onChange:r,label:a,elements:i,palette:l,updateData:c})]})]})})},Ko=function(e){var t=e.icon;return(0,V.jsx)("span",{style:{width:"1em",margin:"0 0.5ex 0 0.5ex",display:"inline-block",lineHeight:0,verticalAlign:"middle"},children:t})},qo=function(e){var t=e.label,n=e.open,r=e.openTrigger,a=e.children,i=e.className;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},className:i,onClick:r,children:[t,(0,V.jsx)(Ko,{icon:n?b.Mf:b.Lf})]}),n&&(0,V.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:a})]})},$o=k(!1);function Qo(e){var t=e.options,n=e.value,a=e.label,i=e.onChange,o=e.onClose,l=e.numberOfOptionsToAlwaysShow,s=void 0===l?t.length:l,d=$p(),u=Ei($o),f=(0,c.A)(u,2),h=f[0],p=f[1],v=r.useMemo((function(){return t.slice(0,s)}),[t,s]),U=r.useMemo((function(){return t.slice(s)}),[t,s]);(0,r.useEffect)((function(){v.some((function(e){return e.value===n}))||p(!0)}),[n,v,p]);var m=function(e){return(0,V.jsx)("div",{className:"picker-content",children:e.map((function(e,t){return(0,V.jsxs)("button",{type:"button",className:(0,le.A)("picker-option",{active:n===e.value}),onClick:function(t){i(e.value)},title:"".concat(e.text," ").concat(e.keyBinding&&"\u2014 ".concat(e.keyBinding.toUpperCase())),"aria-label":e.text||"none","aria-keyshortcuts":e.keyBinding||void 0,ref:function(t){n===e.value&&setTimeout((function(){null===t||void 0===t||t.focus()}),0)},children:[e.icon,e.keyBinding&&(0,V.jsx)("span",{className:"picker-keybinding",children:e.keyBinding})]},e.text)}))})};return(0,V.jsx)(On,{side:d.editor.isMobile&&!d.viewport.isLandscape?"top":"bottom",align:"start",sideOffset:12,style:{zIndex:"var(--zIndex-popup)"},onKeyDown:function(e){var r=t.find((function(t){return t.keyBinding===e.key.toLowerCase()}));if(e.metaKey||e.altKey||e.ctrlKey||!r)if(e.key===b.hg.TAB){var a=t.findIndex((function(e){return e.value===n})),l=e.shiftKey?(t.length+a-1)%t.length:(a+1)%t.length;i(t[l].value)}else if((0,b.jg)(e.key)){var c=Pi().rtl,d=t.findIndex((function(e){return e.value===n}));if(-1!==d){var u=t.length,f=d;switch(e.key){case c?b.hg.ARROW_LEFT:b.hg.ARROW_RIGHT:f=(d+1)%u;break;case c?b.hg.ARROW_RIGHT:b.hg.ARROW_LEFT:f=(u+d-1)%u;break;case b.hg.ARROW_DOWN:f=(d+(null!==s&&void 0!==s?s:1))%u;break;case b.hg.ARROW_UP:f=(u+d-(null!==s&&void 0!==s?s:1))%u}i(t[f].value)}e.preventDefault()}else(e.key===b.hg.ESCAPE||e.key===b.hg.ENTER)&&(e.preventDefault(),o());else i(r.value),e.preventDefault();e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},children:(0,V.jsxs)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":a,children:[m(v),U.length>0&&(0,V.jsx)(qo,{label:Fi("labels.more_options"),open:h,openTrigger:function(){p((function(e){return!e}))},className:"picker-collapsible",children:m(U)})]})})}function Jo(e){var t,n=e.value,a=e.label,i=e.options,o=e.onChange,l=e.group,s=void 0===l?"":l,d=e.numberOfOptionsToAlwaysShow,u=r.useState(!1),f=(0,c.A)(u,2),h=f[0],p=f[1],v=r.useRef(null);return(0,V.jsx)("div",{children:(0,V.jsxs)(Pn,{open:h,onOpenChange:function(e){return p(e)},children:[(0,V.jsx)(Nn,{name:s,type:"button","aria-label":a,onClick:function(){return p(!h)},ref:v,className:h?"active":"",children:null===(t=i.find((function(e){return e.value===n})))||void 0===t?void 0:t.icon}),h&&(0,V.jsx)(Qo,{options:i,value:n,label:a,onChange:o,onClose:function(){p(!1)},numberOfOptionsToAlwaysShow:d})]})})}var el=r.forwardRef((function(e,t){var n=e.className,r=e.placeholder,a=e.onChange;return(0,V.jsxs)("div",{className:(0,le.A)("QuickSearch__wrapper",n),children:[b.pf,(0,V.jsx)("input",{ref:t,className:"QuickSearch__input",type:"text",placeholder:r,onChange:function(e){return a(e.target.value.trim().toLowerCase())}})]})})),tl=function(e){var t=e.className,n=e.placeholder,a=e.children,i=!r.Children.count(a);return(0,V.jsx)("div",{className:(0,le.A)("ScrollableList__wrapper",t),role:"menu",children:i?(0,V.jsx)("div",{className:"empty",children:n}):a})},nl=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,a=e.style,i=e.title;return(0,V.jsxs)("div",{className:"dropdown-menu-group ".concat(r),style:a,children:[i&&(0,V.jsx)("p",{className:"dropdown-menu-group-title",children:i}),t]})},rl=nl;nl.displayName="DropdownMenuGroup";var al=r.createContext({}),il=function(){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"dropdown-menu-item dropdown-menu-item-base ".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","\n  ").concat(e?"dropdown-menu-item--selected":""," ").concat(t?"dropdown-menu-item--hovered":"").trim()},ol=function(e,t){var n=(0,r.useContext)(al);return(0,b.Ib)(e,(function(e){var r,a=new CustomEvent("menu.itemSelect",{bubbles:!0,cancelable:!0});null!==t&&void 0!==t&&t(a),a.defaultPrevented||null===(r=n.onSelect)||void 0===r||r.call(n,a)}))},ll=function(e){var t=e.textStyle,n=e.icon,r=e.shortcut,a=e.children,i=$p();return(0,V.jsxs)(V.Fragment,{children:[n&&(0,V.jsx)("div",{className:"dropdown-menu-item__icon",children:n}),(0,V.jsx)("div",{style:t,className:"dropdown-menu-item__text",children:a}),r&&!i.editor.isMobile&&(0,V.jsx)("div",{className:"dropdown-menu-item__shortcut",children:r})]})},sl=function(e){var t,n=e.icon,a=e.value,i=e.order,o=e.children,l=e.shortcut,s=e.className,c=e.hovered,d=e.selected,u=e.textStyle,f=e.onSelect,h=e.onClick,p=(0,m.A)(e,Ga),U=ol(h,f),g=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e,t;c&&(0===i?null===(e=g.current)||void 0===e||e.scrollIntoView({block:"end"}):null===(t=g.current)||void 0===t||t.scrollIntoView({block:"nearest"}))}),[c,i]),(0,V.jsx)("button",(0,v.A)((0,v.A)({},p),{},{ref:g,value:a,onClick:U,className:il(s,d,c),title:null!==(t=p.title)&&void 0!==t?t:p["aria-label"],children:(0,V.jsx)(ll,{textStyle:u,icon:n,shortcut:l,children:o})}))};sl.displayName="DropdownMenuItem";var cl="green",dl="red",ul="blue",fl=function(e){var t=e.type,n=void 0===t?ul:t,r=e.children,a={display:"inline-flex",marginLeft:"auto",padding:"2px 4px",borderRadius:6,fontSize:9,fontFamily:"Cascadia, monospace",border:ev().theme===b.G.LIGHT?"1.5px solid white":"none"};switch(n){case cl:Object.assign(a,{backgroundColor:"var(--background-color-badge)",color:"var(--color-badge)"});break;case dl:Object.assign(a,{backgroundColor:"pink",color:"darkred"});break;default:Object.assign(a,{background:"var(--color-promo)",color:"var(--color-surface-lowest)"})}return(0,V.jsx)("div",{className:"DropDownMenuItemBadge",style:a,children:r})};fl.displayName="DropdownMenuItemBadge",sl.Badge=fl;var hl=sl,pl=r.memo((function(e){var t=e.selectedFontFamily,n=e.hoveredFontFamily,a=e.onSelect,i=e.onHover,o=e.onLeave,l=e.onOpen,s=e.onClose,d=Qp().container,u=Kp().fonts,f=qp().showDeprecatedFonts,h=(0,r.useState)(""),p=(0,c.A)(h,2),v=p[0],U=p[1],m=(0,r.useRef)(null),y=(0,r.useMemo)((function(){return Array.from(b.Qf.registered.entries()).filter((function(e){var t=(0,c.A)(e,2),n=(t[0],t[1].metadata);return!n.serverSide&&!n.fallback})).map((function(e){var t,n,r,a=(0,c.A)(e,2),i=a[0],o=a[1],l=o.metadata,s=o.fontFaces,d={value:i,icon:null!==(t=l.icon)&&void 0!==t?t:b.Oe,text:null!==(n=null===(r=s[0])||void 0===r||null===(r=r.fontFace)||void 0===r?void 0:r.family)&&void 0!==n?n:"Unknown"};return l.deprecated&&Object.assign(d,{deprecated:l.deprecated,badge:{type:dl,placeholder:Fi("fontList.badge.old")}}),d})).sort((function(e,t){return e.text.toLowerCase()>t.text.toLowerCase()?1:-1}))}),[]),x=(0,r.useMemo)((function(){return new Set(u.getSceneFamilies())}),[t]),w=(0,r.useMemo)((function(){return y.filter((function(e){return x.has(e.value)}))}),[y,x]),A=(0,r.useMemo)((function(){return y.filter((function(e){return!x.has(e.value)&&(f||!e.deprecated)}))}),[y,x,f]),E=(0,r.useMemo)((function(){return(0,b.zb)([].concat((0,g.A)(w),(0,g.A)(A)).filter((function(e){var t;return null===(t=e.text)||void 0===t?void 0:t.toLowerCase().includes(v)})))}),[w,A,v]),k=(0,r.useMemo)((function(){var e,r;return n?r=E.find((function(e){return e.value===n})):t&&(r=E.find((function(e){return e.value===t}))),!r&&v&&(null!==(e=E[0])&&void 0!==e&&e.value?i(E[0].value):o()),r}),[n,t,v,E,i,o]),S=(0,r.useCallback)((function(e){(function(e){var t,n,r,a=e.event,i=e.inputRef,o=e.hoveredFont,l=e.filteredFonts,s=e.onClose,c=e.onSelect,d=e.onHover;return!a[b.hg.CTRL_OR_CMD]&&a.shiftKey&&a.key.toLowerCase()===b.hg.F?(null!==(t=i.current)&&void 0!==t&&t.focus(),!0):a.key===b.hg.ESCAPE?(s(),!0):a.key===b.hg.ENTER?(null!==o&&void 0!==o&&o.value&&c(o.value),!0):a.key===b.hg.ARROW_DOWN?(null!==o&&void 0!==o&&o.next?d(o.next.value):(null===(n=l[0])||void 0===n?void 0:n.value)&&d(l[0].value),!0):a.key===b.hg.ARROW_UP?(null!==o&&void 0!==o&&o.prev?d(o.prev.value):(null===(r=l[l.length-1])||void 0===r?void 0:r.value)&&d(l[l.length-1].value),!0):void 0})({event:e,inputRef:m,hoveredFont:k,filteredFonts:E,onSelect:a,onHover:i,onClose:s})&&(e.preventDefault(),e.stopPropagation())}),[k,E,a,i,s]);(0,r.useEffect)((function(){return l(),function(){s()}}),[]);var M=(0,r.useMemo)((function(){return E.filter((function(e){return x.has(e.value)}))}),[E,x]),C=(0,r.useMemo)((function(){return E.filter((function(e){return!x.has(e.value)}))}),[E,x]),j=function(e,n){return(0,V.jsxs)(hl,{icon:e.icon,value:e.value,order:n,textStyle:{fontFamily:(0,b.bb)({fontFamily:e.value})},hovered:e.value===(null===k||void 0===k?void 0:k.value),selected:e.value===t,tabIndex:e.value===t?0:-1,onClick:function(e){a(Number(e.currentTarget.value))},onMouseMove:function(){(null===k||void 0===k?void 0:k.value)!==e.value&&i(e.value)},children:[e.text,e.badge&&(0,V.jsx)(fl,{type:e.badge.type,children:e.badge.placeholder})]},e.value)},I=[];return M.length&&I.push((0,V.jsx)(rl,{title:Fi("fontList.sceneFonts"),children:M.map(j)},"group_1")),C.length&&I.push((0,V.jsx)(rl,{title:Fi("fontList.availableFonts"),children:C.map((function(e,t){return j(e,t+M.length)}))},"group_2")),(0,V.jsxs)(Wo,{className:"properties-content",container:d,style:{width:"15rem"},onClose:s,onPointerLeave:o,onKeyDown:S,children:[(0,V.jsx)(el,{ref:m,placeholder:Fi("quickSearch.placeholder"),onChange:(0,b.db)(U,20)}),(0,V.jsx)(tl,{className:"dropdown-menu fonts manual-hover",placeholder:Fi("fontList.empty"),children:I.length?I:null})]})}),(function(e,t){return e.selectedFontFamily===t.selectedFontFamily&&e.hoveredFontFamily===t.hoveredFontFamily})),vl=function(e){var t=e.selectedFontFamily,n=(0,r.useMemo)((function(){return!(!t||gl(t))}),[t]);return(0,V.jsx)(Nn,{asChild:!0,children:(0,V.jsx)("div",{children:(0,V.jsx)(Uo,{standalone:!0,icon:b.qd,title:Fi("labels.showFonts"),className:"properties-trigger",testId:"font-family-show-fonts",active:n,onClick:function(){}})})})},Ul=[{value:b.F.Excalifont,icon:b.pd,text:Fi("labels.handDrawn"),testId:"font-family-hand-drawn"},{value:b.F.Nunito,icon:b.Oe,text:Fi("labels.normal"),testId:"font-family-normal"},{value:b.F["Comic Shanns"],icon:b.Pe,text:Fi("labels.code"),testId:"font-family-code"}],ml=new Set(Ul.map((function(e){return e.value}))),gl=function(e){return!!e&&ml.has(e)},bl=r.memo((function(e){var t=e.isOpened,n=e.selectedFontFamily,a=e.hoveredFontFamily,i=e.onSelect,o=e.onHover,l=e.onLeave,s=e.onPopupChange,c=(0,r.useMemo)((function(){return Ul}),[]),d=(0,r.useCallback)((function(e){e&&i(e)}),[i]);return(0,V.jsxs)("div",{role:"dialog","aria-modal":"true",className:"FontPicker__container",children:[(0,V.jsx)(mo,{type:"button",options:c,value:n,onClick:d}),(0,V.jsx)(bo,{}),(0,V.jsxs)(Pn,{open:t,onOpenChange:s,children:[(0,V.jsx)(vl,{selectedFontFamily:n}),t&&(0,V.jsx)(pl,{selectedFontFamily:n,hoveredFontFamily:a,onSelect:d,onHover:o,onLeave:l,onOpen:function(){return s(!0)},onClose:function(){return s(!1)}})]})]})}),(function(e,t){return e.isOpened===t.isOpened&&e.selectedFontFamily===t.selectedFontFamily&&e.hoveredFontFamily===t.hoveredFontFamily})),yl=function(e){var t=e.updateData,n=e.appState,a=e.elements,i=e.testId,o=r.useRef(null),l=r.useRef(null),s=wl(a,n,(function(e){return e.opacity}),!0,n.currentItemOpacity);return(0,r.useEffect)((function(){if(o.current&&l.current){var e=o.current,t=l.current,n=e.offsetWidth,r=s/100*(n-15)+7.5;t.style.left="".concat(r,"px"),e.style.background="linear-gradient(to right, var(--color-slider-track) 0%, var(--color-slider-track) ".concat(s,"%, var(--button-bg) ").concat(s,"%, var(--button-bg) 100%)")}}),[s]),(0,V.jsxs)("label",{className:"control-label",children:[Fi("labels.opacity"),(0,V.jsxs)("div",{className:"range-wrapper",children:[(0,V.jsx)("input",{ref:o,type:"range",min:"0",max:"100",step:"10",onChange:function(e){t(+e.target.value)},value:s,className:"range-input","data-testid":i}),(0,V.jsx)("div",{className:"value-bubble",ref:l,children:0!==s?s:null}),(0,V.jsx)("div",{className:"zero-label",children:"0"})]})]})},xl=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,b.xb)((0,b.vk)(e,t,{includeBoundTextElement:r}));return e.map((function(e){var r;return a.get(e.id)||e.id===(null===(r=t.editingTextElement)||void 0===r?void 0:r.id)?n(e):e}))},wl=function(e,t,n,r,a){var i,o=t.editingTextElement,l=(0,b.pk)(e),s=null;return o&&(s=n(o)),s||(s=(0,b.tk)(l,t)?null!==(i=(0,b.uk)(!0===r?l:l.filter((function(e){return r(e)})),t,n))&&void 0!==i?i:"function"==typeof a?a(!0):a:"function"==typeof a?a(!1):a),s},Al=function(e,t,n,r,a){var i=new Set,o=xl(e,t,(function(e){if((0,b._b)(e)){var t=r(e);i.add(t);var a=(0,b.Qj)(e,{fontSize:t});return(0,b.uj)(a,n.scene.getContainerElement(e),n.scene.getNonDeletedElementsMap()),a=function(e,t){return(0,b.nc)(t)||!t.autoResize?t:(0,b.Pj)(t,{x:"left"===e.textAlign?e.x:e.x+(e.width-t.width)/("center"===e.textAlign?2:1),y:e.y+(e.height-t.height)/2},!1)}(e,a),a}return e}),!0),l=(0,b.xb)(o);return(0,b.vk)(e,t,{includeBoundTextElement:!0}).forEach((function(e){(0,b._b)(e)&&(0,b.Pg)(e,l)})),{elements:o,appState:(0,v.A)((0,v.A)({},t),{},{currentItemFontSize:1===i.size?(0,g.A)(i)[0]:null!==a&&void 0!==a?a:t.currentItemFontSize}),captureUpdate:b.Wg.IMMEDIATELY}},El=((0,b.$c)({name:"changeStrokeColor",label:"labels.stroke",trackEvent:!1,perform:function(e,t,n){return(0,v.A)((0,v.A)({},n.currentItemStrokeColor&&{elements:xl(e,t,(function(e){return(0,b.Wi)(e.type)?(0,b.Qj)(e,{strokeColor:n.currentItemStrokeColor}):e}),!0)}),{},{appState:(0,v.A)((0,v.A)({},t),n),captureUpdate:n.currentItemStrokeColor?b.Wg.IMMEDIATELY:b.Wg.EVENTUALLY})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;e.appProps;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("h3",{"aria-hidden":"true",children:Fi("labels.stroke")}),(0,V.jsx)(Zo,{topPicks:b.f,palette:b.i,type:"elementStroke",label:Fi("labels.stroke"),color:wl(t,n,(function(e){return e.strokeColor}),!0,n.currentItemStrokeColor),onChange:function(e){return r({currentItemStrokeColor:e})},elements:t,appState:n,updateData:r})]})}}),(0,b.$c)({name:"changeBackgroundColor",label:"labels.changeBackground",trackEvent:!1,perform:function(e,t,n){return(0,v.A)((0,v.A)({},n.currentItemBackgroundColor&&{elements:xl(e,t,(function(e){return(0,b.Qj)(e,{backgroundColor:n.currentItemBackgroundColor})}))}),{},{appState:(0,v.A)((0,v.A)({},t),n),captureUpdate:n.currentItemBackgroundColor?b.Wg.IMMEDIATELY:b.Wg.EVENTUALLY})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;e.appProps;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("h3",{"aria-hidden":"true",children:Fi("labels.background")}),(0,V.jsx)(Zo,{topPicks:b.g,palette:b.j,type:"elementBackground",label:Fi("labels.background"),color:wl(t,n,(function(e){return e.backgroundColor}),!0,n.currentItemBackgroundColor),onChange:function(e){return r({currentItemBackgroundColor:e})},elements:t,appState:n,updateData:r})]})}}),(0,b.$c)({name:"changeFillStyle",label:"labels.fill",trackEvent:!1,perform:function(e,t,n,r){return vo("element","changeFillStyle","".concat(n," (").concat(r.device.editor.isMobile?"mobile":"desktop",")")),{elements:xl(e,t,(function(e){return(0,b.Qj)(e,{fillStyle:n})})),appState:(0,v.A)((0,v.A)({},t),{},{currentItemFillStyle:n}),captureUpdate:b.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,b.vk)(t,n),i=a.length>0&&a.every((function(e){return"zigzag"===e.fillStyle}));return(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:Fi("labels.fill")}),(0,V.jsx)(mo,{type:"button",options:[{value:"hachure",text:"".concat(Fi(i?"labels.zigzag":"labels.hachure")," (").concat((0,b.kb)("Alt-Click"),")"),icon:i?b.je:b.ke,active:!!i||void 0,testId:"fill-hachure"},{value:"cross-hatch",text:Fi("labels.crossHatch"),icon:b.le,testId:"fill-cross-hatch"},{value:"solid",text:Fi("labels.solid"),icon:b.me,testId:"fill-solid"}],value:wl(t,n,(function(e){return e.fillStyle}),(function(e){return e.hasOwnProperty("fillStyle")}),(function(e){return e?null:n.currentItemFillStyle})),onClick:function(e,t){var n=t.altKey&&"hachure"===e&&a.every((function(e){return"hachure"===e.fillStyle}))?"zigzag":e;r(n)}})]})}}),(0,b.$c)({name:"changeStrokeWidth",label:"labels.strokeWidth",trackEvent:!1,perform:function(e,t,n){return{elements:xl(e,t,(function(e){return(0,b.Qj)(e,{strokeWidth:n})})),appState:(0,v.A)((0,v.A)({},t),{},{currentItemStrokeWidth:n}),captureUpdate:b.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:Fi("labels.strokeWidth")}),(0,V.jsx)(mo,{group:"stroke-width",options:[{value:b.va.thin,text:Fi("labels.thin"),icon:b.ne,testId:"strokeWidth-thin"},{value:b.va.bold,text:Fi("labels.bold"),icon:b.oe,testId:"strokeWidth-bold"},{value:b.va.extraBold,text:Fi("labels.extraBold"),icon:b.pe,testId:"strokeWidth-extraBold"}],value:wl(t,n,(function(e){return e.strokeWidth}),(function(e){return e.hasOwnProperty("strokeWidth")}),(function(e){return e?null:n.currentItemStrokeWidth})),onChange:function(e){return r(e)}})]})}}),(0,b.$c)({name:"changeSloppiness",label:"labels.sloppiness",trackEvent:!1,perform:function(e,t,n){return{elements:xl(e,t,(function(e){return(0,b.Qj)(e,{seed:(0,b.rc)(),roughness:n})})),appState:(0,v.A)((0,v.A)({},t),{},{currentItemRoughness:n}),captureUpdate:b.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:Fi("labels.sloppiness")}),(0,V.jsx)(mo,{group:"sloppiness",options:[{value:0,text:Fi("labels.architect"),icon:b.se},{value:1,text:Fi("labels.artist"),icon:b.te},{value:2,text:Fi("labels.cartoonist"),icon:b.ue}],value:wl(t,n,(function(e){return e.roughness}),(function(e){return e.hasOwnProperty("roughness")}),(function(e){return e?null:n.currentItemRoughness})),onChange:function(e){return r(e)}})]})}}),(0,b.$c)({name:"changeStrokeStyle",label:"labels.strokeStyle",trackEvent:!1,perform:function(e,t,n){return{elements:xl(e,t,(function(e){return(0,b.Qj)(e,{strokeStyle:n})})),appState:(0,v.A)((0,v.A)({},t),{},{currentItemStrokeStyle:n}),captureUpdate:b.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:Fi("labels.strokeStyle")}),(0,V.jsx)(mo,{group:"strokeStyle",options:[{value:"solid",text:Fi("labels.strokeStyle_solid"),icon:b.ne},{value:"dashed",text:Fi("labels.strokeStyle_dashed"),icon:b.qe},{value:"dotted",text:Fi("labels.strokeStyle_dotted"),icon:b.re}],value:wl(t,n,(function(e){return e.strokeStyle}),(function(e){return e.hasOwnProperty("strokeStyle")}),(function(e){return e?null:n.currentItemStrokeStyle})),onChange:function(e){return r(e)}})]})}}),(0,b.$c)({name:"changeOpacity",label:"labels.opacity",trackEvent:!1,perform:function(e,t,n){return{elements:xl(e,t,(function(e){return(0,b.Qj)(e,{opacity:n})}),!0),appState:(0,v.A)((0,v.A)({},t),{},{currentItemOpacity:n}),captureUpdate:b.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,V.jsx)(yl,{updateData:r,elements:t,appState:n,testId:"opacity"})}}),(0,b.$c)({name:"changeFontSize",label:"labels.fontSize",trackEvent:!1,perform:function(e,t,n,r){return Al(e,t,r,(function(){return n}),n)},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:Fi("labels.fontSize")}),(0,V.jsx)(mo,{group:"font-size",options:[{value:16,text:Fi("labels.small"),icon:b.Je,testId:"fontSize-small"},{value:20,text:Fi("labels.medium"),icon:b.Ke,testId:"fontSize-medium"},{value:28,text:Fi("labels.large"),icon:b.Le,testId:"fontSize-large"},{value:36,text:Fi("labels.veryLarge"),icon:b.Me,testId:"fontSize-veryLarge"}],value:wl(t,n,(function(e){if((0,b._b)(e))return e.fontSize;var t=(0,b.zj)(e,a.scene.getNonDeletedElementsMap());return t?t.fontSize:null}),(function(e){return(0,b._b)(e)||null!==(0,b.zj)(e,a.scene.getNonDeletedElementsMap())}),(function(e){return e?null:n.currentItemFontSize||b.I})),onChange:function(e){return r(e)}})]})}}),(0,b.$c)({name:"decreaseFontSize",label:"labels.decreaseFontSize",icon:b.Ne,trackEvent:!1,perform:function(e,t,n,r){return Al(e,t,r,(function(e){return Math.round(1/1.1*e.fontSize)}))},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.shiftKey&&(e.key===b.hg.CHEVRON_LEFT||e.key===b.hg.COMMA)}})),kl=(0,b.$c)({name:"increaseFontSize",label:"labels.increaseFontSize",icon:b.Ne,trackEvent:!1,perform:function(e,t,n,r){return Al(e,t,r,(function(e){return Math.round(1.1*e.fontSize)}))},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.shiftKey&&(e.key===b.hg.CHEVRON_RIGHT||e.key===b.hg.PERIOD)}}),Sl=((0,b.$c)({name:"changeFontFamily",label:"labels.fontFamily",trackEvent:!1,perform:function(e,t,n,r){var a=n.cachedElements,i=n.resetAll,o=n.resetContainers,l=(0,m.A)(n,Va);if(i)return{elements:xl(e,t,(function(e){var t=null===a||void 0===a?void 0:a.get(e.id);return t?(0,b.Qj)(e,(0,v.A)({},t)):e}),!0),appState:(0,v.A)((0,v.A)({},t),l),captureUpdate:b.Wg.NEVER};var s,d=n.currentItemFontFamily,u=n.currentHoveredFontFamily,f=b.Wg.EVENTUALLY,h=!1;if(d)s=d,f=b.Wg.IMMEDIATELY;else if(u){s=u,f=b.Wg.EVENTUALLY;var p=(0,b.vk)(e,t,{includeBoundTextElement:!0}).filter((function(e){return(0,b._b)(e)}));if(p.length>200)h=!0;else{for(var y=0,x=0;y<p.length&&x<5e3;){var w=p[y];x+=(null===w||void 0===w?void 0:w.originalText.length)||0,y++}x>5e3&&(h=!0)}}var A={appState:(0,v.A)((0,v.A)({},t),l),captureUpdate:f};if(s&&!h){var E,k=new Map,S=new Set,M=!1,C=Array.from(b.Qf.loadedFontsCache.values()),j=null===(E=Object.entries(b.F).find((function(e){var t=(0,c.A)(e,2);t[0];return t[1]===s})))||void 0===E?void 0:E[0];u&&j&&C.some((function(e){return e.startsWith(j)}))&&(M=!0),Object.assign(A,{elements:xl(e,t,(function(e){if((0,b._b)(e)&&(e.fontFamily!==s||d)){var t=(0,b.Qj)(e,{fontFamily:s,lineHeight:(0,b.Rf)(s)}),n=(null===a||void 0===a?void 0:a.get(e.containerId||""))||{},i=r.scene.getContainerElement(e);return o&&i&&n&&(0,b.Pj)(i,(0,v.A)({},n),!1),M||(S=new Set([].concat((0,g.A)(S),(0,g.A)(Array.from(t.originalText))))),k.set(t,i),t}return e}),!0)});var I="10px ".concat((0,b.bb)({fontFamily:s})),D=Array.from(S.values()).join();if(M||window.document.fonts.check(I,D)){var T,_=(0,U.A)(k);try{for(_.s();!(T=_.n()).done;){var L=(0,c.A)(T.value,2),R=L[0],P=L[1];(0,b.uj)(R,P,r.scene.getNonDeletedElementsMap(),!1)}}catch(N){_.e(N)}finally{_.f()}}else window.document.fonts.load(I,D).then((function(e){var t,n=(0,U.A)(k);try{for(n.s();!(t=n.n()).done;){var a=(0,c.A)(t.value,2),i=a[0],o=a[1],l=r.scene.getElement(i.id),s=o?r.scene.getElement(o.id):null;l&&(0,b.uj)(l,s,r.scene.getNonDeletedElementsMap(),!1)}}catch(N){n.e(N)}finally{n.f()}r.fonts.onLoaded(e)}))}return A},PanelComponent:function(e){var t=e.elements,n=e.appState,a=e.app,i=e.updateData,o=(0,r.useRef)(new Map),l=(0,r.useRef)(null),s=(0,r.useState)({}),d=(0,c.A)(s,2),u=d[0],f=d[1],h=(0,r.useRef)(!0),p=(0,r.useMemo)((function(){var e,r,i=function(e,t){return wl(e,n,(function(e){if((0,b._b)(e))return e.fontFamily;var n=(0,b.zj)(e,t);return n?n.fontFamily:null}),(function(e){return(0,b._b)(e)||null!==(0,b.zj)(e,t)}),(function(e){return e?null:n.currentItemFontFamily||b.J}))};return"fontFamily"===u.openPopup&&"fontFamily"===n.openPopup?i(Array.from(null!==(e=null===(r=o.current)||void 0===r?void 0:r.values())&&void 0!==e?e:[]),o.current):u.openPopup||"fontFamily"===n.openPopup?l.current:i(t,a.scene.getNonDeletedElementsMap())}),[u.openPopup,n,t,a.scene]);return(0,r.useEffect)((function(){l.current=p}),[p]),(0,r.useEffect)((function(){Object.keys(u).length&&(i(u),f({}))}),[u]),(0,r.useEffect)((function(){return h.current=!1,function(){h.current=!0}}),[]),(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:Fi("labels.fontFamily")}),(0,V.jsx)(bl,{isOpened:"fontFamily"===n.openPopup,selectedFontFamily:p,hoveredFontFamily:n.currentHoveredFontFamily,onSelect:function(e){f({openPopup:null,currentHoveredFontFamily:null,currentItemFontFamily:e}),o.current.clear()},onHover:function(e){f({currentHoveredFontFamily:e,cachedElements:new Map(o.current),resetContainers:!0})},onLeave:function(){f({currentHoveredFontFamily:null,cachedElements:new Map(o.current),resetAll:!0})},onPopupChange:function(e){if(e){o.current.clear();var r=n.editingTextElement;if("text"===(null===r||void 0===r?void 0:r.type)){var l=a.scene.getElement(r.id);o.current.set(r.id,(0,b.Qj)(l||r,{},!0))}else{var s,c=(0,b.vk)(t,n,{includeBoundTextElement:!0}),d=(0,U.A)(c);try{for(d.s();!(s=d.n()).done;){var p=s.value;o.current.set(p.id,(0,b.Qj)(p,{},!0))}}catch(g){d.e(g)}finally{d.f()}}f({openPopup:"fontFamily"})}else{var m={openPopup:null,currentHoveredFontFamily:null,cachedElements:new Map(o.current),resetAll:!0};h.current?i((0,v.A)((0,v.A)({},u),m)):f(m),o.current.clear()}}})]})}}),(0,b.$c)({name:"changeTextAlign",label:"Change text alignment",trackEvent:!1,perform:function(e,t,n,r){return{elements:xl(e,t,(function(e){if((0,b._b)(e)){var t=(0,b.Qj)(e,{textAlign:n});return(0,b.uj)(t,r.scene.getContainerElement(e),r.scene.getNonDeletedElementsMap()),t}return e}),!0),appState:(0,v.A)((0,v.A)({},t),{},{currentItemTextAlign:n}),captureUpdate:b.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app.scene.getNonDeletedElementsMap();return(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:Fi("labels.textAlign")}),(0,V.jsx)(mo,{group:"text-align",options:[{value:"left",text:Fi("labels.left"),icon:b.Qe,testId:"align-left"},{value:"center",text:Fi("labels.center"),icon:b.Re,testId:"align-horizontal-center"},{value:"right",text:Fi("labels.right"),icon:b.Se,testId:"align-right"}],value:wl(t,n,(function(e){if((0,b._b)(e))return e.textAlign;var t=(0,b.zj)(e,a);return t?t.textAlign:null}),(function(e){return(0,b._b)(e)||null!==(0,b.zj)(e,a)}),(function(e){return e?null:n.currentItemTextAlign})),onChange:function(e){return r(e)}})]})}}),(0,b.$c)({name:"changeVerticalAlign",label:"Change vertical alignment",trackEvent:{category:"element"},perform:function(e,t,n,r){return{elements:xl(e,t,(function(e){if((0,b._b)(e)){var t=(0,b.Qj)(e,{verticalAlign:n});return(0,b.uj)(t,r.scene.getContainerElement(e),r.scene.getNonDeletedElementsMap()),t}return e}),!0),appState:(0,v.A)({},t),captureUpdate:b.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,V.jsx)("fieldset",{children:(0,V.jsx)(mo,{group:"text-align",options:[{value:b.sa.TOP,text:Fi("labels.alignTop"),icon:(0,V.jsx)(b.Te,{theme:n.theme}),testId:"align-top"},{value:b.sa.MIDDLE,text:Fi("labels.centerVertically"),icon:(0,V.jsx)(b.Ve,{theme:n.theme}),testId:"align-middle"},{value:b.sa.BOTTOM,text:Fi("labels.alignBottom"),icon:(0,V.jsx)(b.Ue,{theme:n.theme}),testId:"align-bottom"}],value:wl(t,n,(function(e){if((0,b._b)(e)&&e.containerId)return e.verticalAlign;var t=(0,b.zj)(e,a.scene.getNonDeletedElementsMap());return t?t.verticalAlign:null}),(function(e){return(0,b._b)(e)||null!==(0,b.zj)(e,a.scene.getNonDeletedElementsMap())}),(function(e){return e?null:b.sa.MIDDLE})),onChange:function(e){return r(e)}})})}}),(0,b.$c)({name:"changeRoundness",label:"Change edge roundness",trackEvent:!1,perform:function(e,t,n){return{elements:xl(e,t,(function(e){return(0,b.ec)(e)?e:(0,b.Qj)(e,{roundness:"round"===n?{type:(0,b.oc)(e.type)?b.ua.ADAPTIVE_RADIUS:b.ua.PROPORTIONAL_RADIUS}:null})})),appState:(0,v.A)((0,v.A)({},t),{},{currentItemRoundness:n}),captureUpdate:b.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,b.wk)((0,b.pk)(t),n).some((function(e){var t;return(null===(t=e.roundness)||void 0===t?void 0:t.type)===b.ua.LEGACY}));return(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:Fi("labels.edges")}),(0,V.jsx)(mo,{group:"edges",options:[{value:"sharp",text:Fi("labels.sharp"),icon:b.ve},{value:"round",text:Fi("labels.round"),icon:b.we}],value:wl(t,n,(function(e){return a?null:e.roundness?"round":"sharp"}),(function(e){return!(0,b.dc)(e)&&e.hasOwnProperty("roundness")}),(function(e){return e?null:n.currentItemRoundness})),onChange:function(e){return r(e)}})]})}}),function(e){return[{value:null,text:Fi("labels.arrowhead_none"),keyBinding:"q",icon:b.xe},{value:"arrow",text:Fi("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,V.jsx)(b.ye,{flip:e})},{value:"triangle",text:Fi("labels.arrowhead_triangle"),icon:(0,V.jsx)(b.Ce,{flip:e}),keyBinding:"e"},{value:"triangle_outline",text:Fi("labels.arrowhead_triangle_outline"),icon:(0,V.jsx)(b.De,{flip:e}),keyBinding:"r"},{value:"circle",text:Fi("labels.arrowhead_circle"),keyBinding:"a",icon:(0,V.jsx)(b.ze,{flip:e})},{value:"circle_outline",text:Fi("labels.arrowhead_circle_outline"),keyBinding:"s",icon:(0,V.jsx)(b.Ae,{flip:e})},{value:"diamond",text:Fi("labels.arrowhead_diamond"),icon:(0,V.jsx)(b.Ee,{flip:e}),keyBinding:"d"},{value:"diamond_outline",text:Fi("labels.arrowhead_diamond_outline"),icon:(0,V.jsx)(b.Fe,{flip:e}),keyBinding:"f"},{value:"bar",text:Fi("labels.arrowhead_bar"),keyBinding:"z",icon:(0,V.jsx)(b.Be,{flip:e})},{value:"crowfoot_one",text:Fi("labels.arrowhead_crowfoot_one"),icon:(0,V.jsx)(b.He,{flip:e}),keyBinding:"c"},{value:"crowfoot_many",text:Fi("labels.arrowhead_crowfoot_many"),icon:(0,V.jsx)(b.Ge,{flip:e}),keyBinding:"x"},{value:"crowfoot_one_or_many",text:Fi("labels.arrowhead_crowfoot_one_or_many"),icon:(0,V.jsx)(b.Ie,{flip:e}),keyBinding:"v"}]}),Ml=((0,b.$c)({name:"changeArrowhead",label:"Change arrowheads",trackEvent:!1,perform:function(e,t,n){return{elements:xl(e,t,(function(e){if((0,b.cc)(e)){var t=n.position,r=n.type;if("start"===t)return(0,b.Qj)(e,{startArrowhead:r});if("end"===t)return(0,b.Qj)(e,{endArrowhead:r})}return e})),appState:(0,v.A)((0,v.A)({},t),{},(0,p.default)({},"start"===n.position?"currentItemStartArrowhead":"currentItemEndArrowhead",n.type)),captureUpdate:b.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=Pi().rtl;return(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:Fi("labels.arrowheads")}),(0,V.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,V.jsx)(Jo,{label:"arrowhead_start",options:Sl(!a),value:wl(t,n,(function(e){return(0,b.cc)(e)&&(0,b.$i)(e.type)?e.startArrowhead:n.currentItemStartArrowhead}),!0,n.currentItemStartArrowhead),onChange:function(e){return r({position:"start",type:e})},numberOfOptionsToAlwaysShow:4}),(0,V.jsx)(Jo,{label:"arrowhead_end",group:"arrowheads",options:Sl(!!a),value:wl(t,n,(function(e){return(0,b.cc)(e)&&(0,b.$i)(e.type)?e.endArrowhead:n.currentItemEndArrowhead}),!0,n.currentItemEndArrowhead),onChange:function(e){return r({position:"end",type:e})},numberOfOptionsToAlwaysShow:4})]})]})}}),(0,b.$c)({name:"changeArrowType",label:"Change arrow types",trackEvent:!1,perform:function(e,t,n,r){var a,i=xl(e,t,(function(a){if(!(0,b.dc)(a))return a;var i=(0,b.Qj)(a,{roundness:n===b.Fa.round?{type:b.ua.PROPORTIONAL_RADIUS}:null,elbowed:n===b.Fa.elbow,points:n===b.Fa.elbow||a.elbowed?[a.points[0],a.points[a.points.length-1]]:a.points});if((0,b.ec)(i)){var o=r.scene.getNonDeletedElementsMap();r.dismissLinearEditor();var l=b.pj.getPointAtIndexGlobalCoordinates(i,0,o),s=b.pj.getPointAtIndexGlobalCoordinates(i,-1,o),c=!i.startBinding&&(0,b.Og)((0,b.ob)(l),e,o,t.zoom,!1,!0),d=!i.endBinding&&(0,b.Og)((0,b.ob)(s),e,o,t.zoom,!1,!0),u=c||i.startBinding&&o.get(i.startBinding.elementId),f=d||i.endBinding&&o.get(i.endBinding.elementId),h=c?(0,b.Qg)(i,c,"start"):l,p=d?(0,b.Qg)(i,d,"end"):s;c&&(0,b.Mg)(i,c,"start",o),d&&(0,b.Mg)(i,d,"end",o),(0,b.Pj)(i,(0,v.A)((0,v.A)({points:[h,p].map((function(e){return(0,b.Ua)(e[0]-i.x,e[1]-i.y)}))},u&&i.startBinding?{startBinding:(0,v.A)((0,v.A)({},i.startBinding),(0,b.Rg)(i,u,"start",o))}:{}),f&&i.endBinding?{endBinding:(0,v.A)((0,v.A)({},i.endBinding),(0,b.Rg)(i,f,"end",o))}:{})),b.pj.updateEditorMidPointsCache(i,o,r.state)}return i})),o=(0,v.A)((0,v.A)({},t),{},{currentItemArrowType:n}),l=null===(a=t.selectedLinearElement)||void 0===a?void 0:a.elementId;if(l){var s=i.find((function(e){return e.id===l}));s&&(o.selectedLinearElement=new b.pj(s))}return{elements:i,appState:o,captureUpdate:b.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:Fi("labels.arrowtypes")}),(0,V.jsx)(mo,{group:"arrowtypes",options:[{value:b.Fa.sharp,text:Fi("labels.arrowtype_sharp"),icon:b.If,testId:"sharp-arrow"},{value:b.Fa.round,text:Fi("labels.arrowtype_round"),icon:b.Kf,testId:"round-arrow"},{value:b.Fa.elbow,text:Fi("labels.arrowtype_elbowed"),icon:b.Jf,testId:"elbow-arrow"}],value:wl(t,n,(function(e){return(0,b.dc)(e)?e.elbowed?b.Fa.elbow:e.roundness?b.Fa.round:b.Fa.sharp:null}),(function(e){return(0,b.dc)(e)}),(function(e){return e?null:n.currentItemArrowType})),onChange:function(e){return r(e)}})]})}}),function(e,t){var n=e.viewportX,r=e.viewportY,a=e.nextZoom,i=n-t.offsetLeft,o=r-t.offsetTop,l=t.zoom.value;return{scrollX:t.scrollX+(i-i/l)+-(i-i/a),scrollY:t.scrollY+(o-o/l)+-(o-o/a),zoom:{value:a}}}),Cl=function(){var e=document.querySelector(".excalidraw-tooltip");if(e)return e;var t=document.createElement("div");return document.body.appendChild(t),t.classList.add("excalidraw-tooltip"),t},jl=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom",a=e.getBoundingClientRect(),i=window.innerWidth,o=window.innerHeight,l=t.left+t.width/2-a.width/2;l<0?l=5:l+a.width>=i&&(l=i-a.width-5),"bottom"===r?(n=t.top+t.height+5)+a.height>=o&&(n=t.top-a.height-5):(n=t.top-a.height-5)<0&&(n=t.top+t.height+5),Object.assign(e.style,{top:"".concat(n,"px"),left:"".concat(l,"px")})},Il=function(e){var t=e.children,n=e.label,a=e.long,i=void 0!==a&&a,o=e.style,l=e.disabled;return(0,r.useEffect)((function(){return function(){return Cl().classList.remove("excalidraw-tooltip--visible")}}),[]),l?null:(0,V.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(e){return function(e,t,n,r){t.classList.add("excalidraw-tooltip--visible"),t.style.minWidth=r?"50ch":"10ch",t.style.maxWidth=r?"50ch":"15ch",t.textContent=n;var a=e.getBoundingClientRect();jl(t,a)}(e.currentTarget,Cl(),n,i)},onPointerLeave:function(){return Cl().classList.remove("excalidraw-tooltip--visible")},style:o,children:t})},Dl=((0,b.$c)({name:"changeViewBackgroundColor",label:"labels.canvasBackground",paletteName:"Change canvas background color",trackEvent:!1,predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.changeViewBackgroundColor&&!t.viewModeEnabled},perform:function(e,t,n){return{appState:(0,v.A)((0,v.A)({},t),n),captureUpdate:n.viewBackgroundColor?b.Wg.IMMEDIATELY:b.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;e.appProps;return(0,V.jsx)(Zo,{palette:null,topPicks:b.h,label:Fi("labels.canvasBackground"),type:"canvasBackground",color:n.viewBackgroundColor,onChange:function(e){return r({viewBackgroundColor:e})},"data-testid":"canvas-background-picker",elements:t,appState:n,updateData:r})}}),(0,b.$c)({name:"clearCanvas",label:"labels.clearCanvas",paletteName:"Clear canvas",icon:b.ud,trackEvent:{category:"canvas"},predicate:function(e,t,n,r){var a;return!!r.props.UIOptions.canvasActions.clearCanvas&&!t.viewModeEnabled&&"elementLinkSelector"!==(null===(a=t.openDialog)||void 0===a?void 0:a.name)},perform:function(e,t,n,r){return r.imageCache.clear(),{elements:e.map((function(e){return(0,b.Qj)(e,{isDeleted:!0})})),appState:(0,v.A)((0,v.A)({},(0,b.Fc)()),{},{files:{},theme:t.theme,penMode:t.penMode,penDetected:t.penDetected,exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,gridStep:t.gridStep,gridModeEnabled:t.gridModeEnabled,stats:t.stats,pasteDialog:t.pasteDialog,activeTool:"image"===t.activeTool.type?(0,v.A)((0,v.A)({},t.activeTool),{},{type:"selection"}):t.activeTool}),captureUpdate:b.Wg.IMMEDIATELY}}})),Tl=(0,b.$c)({name:"zoomIn",label:"buttons.zoomIn",viewMode:!0,icon:b.rd,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:(0,v.A)((0,v.A)((0,v.A)({},t),Ml({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,b.Ak)(t.zoom.value+b.$)},t)),{},{userToFollow:null}),captureUpdate:b.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,V.jsx)(Xi,{type:"button",className:"zoom-in-button zoom-button",icon:b.rd,title:"".concat(Fi("buttons.zoomIn")," \u2014 ").concat((0,b.kb)("CtrlOrCmd++")),"aria-label":Fi("buttons.zoomIn"),disabled:n.zoom.value>=b.ba,onClick:function(){t(null)}})},keyTest:function(e){return(e.code===b.gg.EQUAL||e.code===b.gg.NUM_ADD)&&(e[b.hg.CTRL_OR_CMD]||e.shiftKey)}}),_l=(0,b.$c)({name:"zoomOut",label:"buttons.zoomOut",icon:b.sd,viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:(0,v.A)((0,v.A)((0,v.A)({},t),Ml({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,b.Ak)(t.zoom.value-b.$)},t)),{},{userToFollow:null}),captureUpdate:b.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,V.jsx)(Xi,{type:"button",className:"zoom-out-button zoom-button",icon:b.sd,title:"".concat(Fi("buttons.zoomOut")," \u2014 ").concat((0,b.kb)("CtrlOrCmd+-")),"aria-label":Fi("buttons.zoomOut"),disabled:n.zoom.value<=b.aa,onClick:function(){t(null)}})},keyTest:function(e){return(e.code===b.gg.MINUS||e.code===b.gg.NUM_SUBTRACT)&&(e[b.hg.CTRL_OR_CMD]||e.shiftKey)}}),Ll=(0,b.$c)({name:"resetZoom",label:"buttons.resetZoom",icon:b.td,viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:(0,v.A)((0,v.A)((0,v.A)({},t),Ml({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,b.Ak)(1)},t)),{},{userToFollow:null}),captureUpdate:b.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,V.jsx)(Il,{label:Fi("buttons.resetZoom"),style:{height:"100%"},children:(0,V.jsxs)(Xi,{type:"button",className:"reset-zoom-button zoom-button",title:Fi("buttons.resetZoom"),"aria-label":Fi("buttons.resetZoom"),onClick:function(){t(null)},children:[(100*n.zoom.value).toFixed(0),"%"]})})},keyTest:function(e){return(e.code===b.gg.ZERO||e.code===b.gg.NUM_ZERO)&&(e[b.hg.CTRL_OR_CMD]||e.shiftKey)}}),Rl=function(e){var t,n,r,a,i=e.bounds,o=e.appState,l=e.canvasOffsets,s=e.fitToViewport,d=void 0!==s&&s,u=e.viewportZoomFactor,f=void 0===u?1:u,h=e.minZoom,p=void 0===h?-1/0:h,U=e.maxZoom,m=void 0===U?1/0:U;f=(0,b.Ia)(f,b.aa,b.ba);var g,y=(0,c.A)(i,4),x=y[0],w=y[1],A=y[2],E=y[3],k=(x+A)/2,S=(w+E)/2,M=null!==(t=null===l||void 0===l?void 0:l.left)&&void 0!==t?t:0,C=null!==(n=null===l||void 0===l?void 0:l.top)&&void 0!==n?n:0,j=null!==(r=null===l||void 0===l?void 0:l.right)&&void 0!==r?r:0,I=null!==(a=null===l||void 0===l?void 0:l.bottom)&&void 0!==a?a:0,D=o.width-M-j,T=o.height-C-I;if(d){var _=A-x,L=E-w;g=Math.min(D/_,T/L)*f}else g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=(0,c.A)(e,4),a=r[0],i=r[1],o=r[2],l=r[3],s=o-a,d=t.width/s,u=l-i,f=t.height/u,h=Math.min(d,f)*(0,b.Ia)(n,.1,1);return Math.min(h,1)}(i,{width:D,height:T},f);var R=(0,b.Ak)((0,b.Ia)((0,b.Ka)(g,b.$,"floor"),p,m)),P=(0,b.yk)({scenePoint:{x:k,y:S},viewportDimensions:{width:o.width,height:o.height},offsets:l,zoom:{value:R}});return{appState:(0,v.A)((0,v.A)({},o),{},{scrollX:P.scrollX,scrollY:P.scrollY,zoom:{value:R}}),captureUpdate:b.Wg.EVENTUALLY}},Pl=function(e){var t=e.canvasOffsets,n=e.targetElements,r=e.appState,a=e.fitToViewport,i=e.viewportZoomFactor,o=e.minZoom,l=e.maxZoom,s=(0,b.bj)((0,b.pk)(n));return Rl({canvasOffsets:t,bounds:s,appState:r,fitToViewport:a,viewportZoomFactor:i,minZoom:o,maxZoom:l})},Nl=((0,b.$c)({name:"zoomToFitSelectionInViewport",label:"labels.zoomToFitViewport",icon:b.zf,trackEvent:{category:"canvas"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t);return Pl({targetElements:a.length?a:e,appState:(0,v.A)((0,v.A)({},t),{},{userToFollow:null}),fitToViewport:!1,canvasOffsets:r.getEditorUIOffsets()})},keyTest:function(e){return e.code===b.gg.TWO&&e.shiftKey&&!e.altKey&&!e[b.hg.CTRL_OR_CMD]}}),(0,b.$c)({name:"zoomToFitSelection",label:"helpDialog.zoomToSelection",icon:b.zf,trackEvent:{category:"canvas"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t);return Pl({targetElements:a.length?a:e,appState:(0,v.A)((0,v.A)({},t),{},{userToFollow:null}),fitToViewport:!0,canvasOffsets:r.getEditorUIOffsets()})},keyTest:function(e){return e.code===b.gg.THREE&&e.shiftKey&&!e.altKey&&!e[b.hg.CTRL_OR_CMD]}}),(0,b.$c)({name:"zoomToFit",label:"helpDialog.zoomToFit",icon:b.zf,viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return Pl({targetElements:e,appState:(0,v.A)((0,v.A)({},t),{},{userToFollow:null}),fitToViewport:!1,canvasOffsets:r.getEditorUIOffsets()})},keyTest:function(e){return e.code===b.gg.ONE&&e.shiftKey&&!e.altKey&&!e[b.hg.CTRL_OR_CMD]}}),(0,b.$c)({name:"toggleTheme",label:function(e,t){return t.theme===b.G.DARK?"buttons.lightMode":"buttons.darkMode"},keywords:["toggle","dark","light","mode","theme"],icon:function(e){return e.theme===b.G.LIGHT?b.xd:b.yd},viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n){return{appState:(0,v.A)((0,v.A)({},t),{},{theme:n||(t.theme===b.G.LIGHT?b.G.DARK:b.G.LIGHT)}),captureUpdate:b.Wg.EVENTUALLY}},keyTest:function(e){return e.altKey&&e.shiftKey&&e.code===b.gg.D},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.toggleTheme}})),Fl=((0,b.$c)({name:"toggleEraserTool",label:"toolBar.eraser",trackEvent:{category:"toolbar"},perform:function(e,t){var n;return n=(0,b.Gc)(t)?(0,b.jb)(t,(0,v.A)((0,v.A)({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,b.jb)(t,{type:"eraser",lastActiveToolBeforeEraser:t.activeTool}),{appState:(0,v.A)((0,v.A)({},t),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:n}),captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return e.key===b.hg.E}}),(0,b.$c)({name:"toggleHandTool",label:"toolBar.hand",paletteName:"Toggle hand tool",trackEvent:{category:"toolbar"},icon:b.Ye,viewMode:!1,perform:function(e,t,n,r){var a;return(0,b.Hc)(t)?a=(0,b.jb)(t,(0,v.A)((0,v.A)({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(a=(0,b.jb)(t,{type:"hand",lastActiveToolBeforeEraser:t.activeTool}),(0,b.bd)(r.interactiveCanvas,b.z.GRAB)),{appState:(0,v.A)((0,v.A)({},t),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:a}),captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return!e.altKey&&!e[b.hg.CTRL_OR_CMD]&&e.key===b.hg.H}})),Ol=(0,b.$c)({name:"finalize",label:"",trackEvent:!1,perform:function(e,t,n,r){var a,i=r.interactiveCanvas,o=r.focusContainer,l=r.scene,s=l.getNonDeletedElementsMap();if(t.editingLinearElement){var d=t.editingLinearElement,u=d.elementId,f=d.startBindingElement,h=d.endBindingElement,U=b.pj.getElement(u,s);if(U)return(0,b.gc)(U)&&(0,b.Ig)(U,f,h,s,l),{elements:U.points.length<2||(0,b.Sj)(U)?e.filter((function(e){return e.id!==U.id})):void 0,appState:(0,v.A)((0,v.A)({},t),{},{cursorButton:"up",editingLinearElement:null}),captureUpdate:b.Wg.IMMEDIATELY}}var m=e,g=t.pendingImageElementId&&l.getElement(t.pendingImageElementId);g&&(0,b.Pj)(g,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&o();var y,x=t.multiElement?t.multiElement:"freedraw"===(null===(a=t.newElement)||void 0===a?void 0:a.type)?t.newElement:null;if(x){if("freedraw"!==x.type&&"touch"!==t.lastPointerDownWith){var w=x.points,A=x.lastCommittedPoint;(!A||w[w.length-1]!==A)&&(0,b.Pj)(x,{points:x.points.slice(0,-1)})}(0,b.Sj)(x)&&(m=m.filter((function(e){return e.id!==x.id})));var E=(0,b.xg)(x.points,t.zoom.value);if(("line"===x.type||"freedraw"===x.type)&&E){var k=x.points,S=k[0];(0,b.Pj)(x,{points:k.map((function(e,t){return t===k.length-1?(0,b.Ua)(S[0],S[1]):e}))})}if((0,b.gc)(x)&&!E&&x.points.length>1){var M=b.pj.getPointAtIndexGlobalCoordinates(x,-1,(0,b.xb)(e)),C=(0,c.A)(M,2),j=C[0],I=C[1];(0,b.Lg)(x,t,{x:j,y:I},s,e)}}return(!t.activeTool.locked&&"freedraw"!==t.activeTool.type||!x)&&(0,b.ad)(i),y="eraser"===t.activeTool.type?(0,b.jb)(t,(0,v.A)((0,v.A)({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,b.jb)(t,{type:"selection"}),{elements:m,appState:(0,v.A)((0,v.A)({},t),{},{cursorButton:"up",activeTool:(t.activeTool.locked||"freedraw"===t.activeTool.type)&&x?t.activeTool:y,activeEmbeddable:null,newElement:null,selectionElement:null,multiElement:null,editingTextElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:x&&!t.activeTool.locked&&"freedraw"!==t.activeTool.type?(0,v.A)((0,v.A)({},t.selectedElementIds),{},(0,p.default)({},x.id,!0)):t.selectedElementIds,selectedLinearElement:x&&(0,b.cc)(x)?new b.pj(x):t.selectedLinearElement,pendingImageElementId:null}),captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e,t){return e.key===b.hg.ESCAPE&&(null!==t.editingLinearElement||!t.newElement&&null===t.multiElement)||(e.key===b.hg.ESCAPE||e.key===b.hg.ENTER)&&null!==t.multiElement},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.data;return(0,V.jsx)(Xi,{type:"button",icon:b.Qd,title:Fi("buttons.done"),"aria-label":Fi("buttons.done"),onClick:n,visible:null!=t.multiElement,size:(null===r||void 0===r?void 0:r.size)||"medium",style:{pointerEvents:"all"}})}}),zl=function(e){var t=Qp().id,n=(0,r.useState)(e.value),a=(0,c.A)(n,2),i=a[0],o=a[1];return(0,V.jsxs)("div",{className:"ProjectName",children:[(0,V.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(e.label,":")}),(0,V.jsx)("input",{type:"text",className:"TextInput",onBlur:function(t){e.ignoreFocus||(0,b.vb)(t.target);var n=t.target.value;n!==e.value&&e.onChange(n)},onKeyDown:function(e){if(e.key===b.hg.ENTER){if(e.preventDefault(),e.nativeEvent.isComposing||229===e.keyCode)return;e.currentTarget.blur()}},id:"".concat(t,"-filename"),value:i,onChange:function(e){return o(e.target.value)}})]})},Bl=function(e){var t=e.title||(e.value===b.G.DARK?Fi("buttons.lightMode"):Fi("buttons.darkMode"));return(0,V.jsx)(Xi,{type:"icon",icon:e.value===b.G.LIGHT?Hl.MOON:Hl.SUN,title:t,"aria-label":t,onClick:function(){return e.onChange(e.value===b.G.DARK?b.G.LIGHT:b.G.DARK)},"data-testid":"toggle-dark-mode"})},Hl={SUN:(0,V.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,V.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,V.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,V.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},Wl=function(e,t,n){var r=t.selectedElementIds;e=(0,b.pk)(e);var a=n&&(0,b.tk)(e,{selectedElementIds:r}),i=null,o=a?(0,b.vk)(e,{selectedElementIds:r},{includeBoundTextElement:!0}):e;return a&&(1===o.length&&(0,b.bc)(o[0])?(i=o[0],o=(0,b.Pi)(e,i)):o.length>1&&(o=(0,b.vk)(e,{selectedElementIds:r},{includeBoundTextElement:!0,includeElementsInFrames:!0}))),{exportingFrame:i,exportedElements:(0,b.Nb)(o)}},Xl=function(){var e=(0,s.A)((0,l.A)().mark((function e(t,r,a,i,o){var s,c,d,u,f,h,p,v,U,m,g,y,x,w,A;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=o.exportBackground,c=o.exportPadding,d=void 0===c?b.ma:c,u=o.viewBackgroundColor,f=o.name,h=void 0===f?a.name||b.Ca:f,p=o.fileHandle,v=void 0===p?null:p,U=o.exportingFrame,m=void 0===U?null:U,0!==r.length){e.next=3;break}throw new Error(Fi("alerts.cannotExportEmptyCanvas"));case 3:if("svg"!==t&&"clipboard-svg"!==t){e.next=20;break}if(g=(0,b.ei)(r,{exportBackground:s,exportWithDarkMode:a.exportWithDarkMode,viewBackgroundColor:u,exportPadding:d,exportScale:a.exportScale,exportEmbedScene:a.exportEmbedScene&&"svg"===t},i,{exportingFrame:m}),"svg"!==t){e.next=7;break}return e.abrupt("return",(0,b.gh)(g.then((function(e){return new Blob([e.outerHTML],{type:b.T.svg})})),{description:"Export to SVG",name:h,extension:a.exportEmbedScene?"excalidraw.svg":"svg",mimeTypes:[b.S.svg],fileHandle:v}));case 7:if("clipboard-svg"!==t){e.next=20;break}return e.next=10,g.then((function(e){return e.outerHTML}));case 10:return y=e.sent,e.prev=11,e.next=14,(0,b.oi)(y);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(11),new Error(Fi("errors.copyToSystemClipboardFailed"));case 19:return e.abrupt("return");case 20:if(x=(0,b.di)(r,a,i,{exportBackground:s,viewBackgroundColor:u,exportPadding:d,exportingFrame:m}),"png"!==t){e.next=26;break}return w=(0,b.yh)(x),e.abrupt("return",(a.exportEmbedScene&&(w=w.then((function(e){return n.e(9352).then(n.bind(n,79352)).then((function(t){return(0,t.encodePngMetadata)({blob:e,metadata:(0,b.Jh)(r,a,i,"local")})}))}))),(0,b.gh)(w,{description:"Export to PNG",name:h,extension:a.exportEmbedScene?"excalidraw.png":"png",mimeTypes:[b.S.png],fileHandle:v})));case 26:if("clipboard"!==t){e.next=38;break}return e.prev=27,A=(0,b.yh)(x),e.next=31,(0,b.ni)(A);case 31:e.next=36;break;case 33:throw e.prev=33,e.t1=e.catch(27),console.warn(e.t1),"CANVAS_POSSIBLY_TOO_BIG"===e.t1.name?new Error(Fi("canvasError.canvasTooBig")):b.n&&"TypeError"===e.t1.name?new Error("".concat(Fi("alerts.couldNotCopyToClipboard"),"\n\n").concat(Fi("hints.firefox_clipboard_write"))):new Error(Fi("alerts.couldNotCopyToClipboard"));case 36:e.next=39;break;case 38:throw new Error("Unsupported export type");case 39:case"end":return e.stop()}}),e,null,[[11,16],[27,33]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),Gl=function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n,r,a){var i,o,s,c,d,u,f,h;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(i=n).exportBackground,s=i.viewBackgroundColor,c=i.fileHandle,d=(0,b.qh)(c),c&&(0,b.rh)(d)){e.next=3;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 3:return n=(0,v.A)((0,v.A)({},n),{},{exportEmbedScene:!0}),u=Wl(t,n,!1),f=u.exportedElements,h=u.exportingFrame,e.next=7,Xl(d,f,n,r,{exportBackground:o,viewBackgroundColor:s,name:a,fileHandle:c,exportingFrame:h});case 7:return e.abrupt("return",{fileHandle:c});case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Vl=function(e){var t=e.children,n=e.checked,r=e.onChange,a=e.className;return(0,V.jsxs)("div",{className:(0,le.A)("Checkbox",a,{"is-checked":n}),onClick:function(e){r(!n,e),e.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,V.jsx)("button",{type:"button",className:"Checkbox-box",role:"checkbox","aria-checked":n,children:b.Hd}),(0,V.jsx)("div",{className:"Checkbox-label",children:t})]})},Yl=(0,b.$c)({name:"changeProjectName",label:"labels.fileTitle",trackEvent:!1,perform:function(e,t,n){return{appState:(0,v.A)((0,v.A)({},t),{},{name:n}),captureUpdate:b.Wg.EVENTUALLY}},PanelComponent:function(e){e.appState;var t,n=e.updateData,r=(e.appProps,e.data),a=e.app;return(0,V.jsx)(zl,{label:Fi("labels.fileTitle"),value:a.getName(),onChange:function(e){return n(e)},ignoreFocus:null!==(t=null===r||void 0===r?void 0:r.ignoreFocus)&&void 0!==t&&t})}}),Zl=(0,b.$c)({name:"changeExportScale",label:"imageExportDialog.scale",trackEvent:{category:"export",action:"scale"},perform:function(e,t,n){return{appState:(0,v.A)((0,v.A)({},t),{},{exportScale:n}),captureUpdate:b.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,b.pk)(t),i=(0,b.tk)(a,n)?(0,b.vk)(a,n):a;return(0,V.jsx)(V.Fragment,{children:b.la.map((function(e){var t=(0,b.fi)(i,b.ma,e),a=(0,c.A)(t,2),o=a[0],l=a[1],s="".concat(Fi("imageExportDialog.label.scale")," ").concat(e,"x (").concat(o,"x").concat(l,")");return(0,V.jsx)(Xi,{size:"small",type:"radio",icon:"".concat(e,"x"),name:"export-canvas-scale",title:s,"aria-label":s,id:"export-canvas-scale",checked:e===n.exportScale,onChange:function(){return r(e)}},e)}))})}}),Kl=(0,b.$c)({name:"changeExportBackground",label:"imageExportDialog.label.withBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(e,t,n){return{appState:(0,v.A)((0,v.A)({},t),{},{exportBackground:n}),captureUpdate:b.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,V.jsx)(Vl,{checked:t.exportBackground,onChange:function(e){return n(e)},children:Fi("imageExportDialog.label.withBackground")})}}),ql=(0,b.$c)({name:"changeExportEmbedScene",label:"imageExportDialog.tooltip.embedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(e,t,n){return{appState:(0,v.A)((0,v.A)({},t),{},{exportEmbedScene:n}),captureUpdate:b.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,V.jsxs)(Vl,{checked:t.exportEmbedScene,onChange:function(e){return n(e)},children:[Fi("imageExportDialog.label.embedScene"),(0,V.jsx)(Il,{label:Fi("imageExportDialog.tooltip.embedScene"),long:!0,children:(0,V.jsx)("div",{className:"excalidraw-tooltip-icon",children:b.Td})})]})}}),$l=(0,b.$c)({name:"saveToActiveFile",label:"buttons.save",icon:b.Ad,trackEvent:{category:"export"},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.saveToActiveFile&&!!t.fileHandle&&!t.viewModeEnabled},perform:function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n,r,a){var i,o,s;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!!n.fileHandle,e.prev=1,!(0,b.sh)(n.fileHandle)){e.next=8;break}return e.next=5,Gl(t,n,a.files,a.getName());case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,(0,b.Kh)(t,n,a.files,a.getName());case 10:e.t0=e.sent;case 11:return o=e.t0,s=o.fileHandle,e.abrupt("return",{captureUpdate:b.Wg.EVENTUALLY,appState:(0,v.A)((0,v.A)({},n),{},{fileHandle:s,toast:i?{message:null!==s&&void 0!==s&&s.name?Fi("toast.fileSavedToFilename").replace("{filename}",'"'.concat(s.name,'"')):Fi("toast.fileSaved")}:null})});case 16:return e.prev=16,e.t1=e.catch(1),e.abrupt("return",("AbortError"!==(null===e.t1||void 0===e.t1?void 0:e.t1.name)?console.error(e.t1):console.warn(e.t1),{captureUpdate:b.Wg.EVENTUALLY}));case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),keyTest:function(e){return e.key===b.hg.S&&e[b.hg.CTRL_OR_CMD]&&!e.shiftKey}}),Ql=(0,b.$c)({name:"saveFileToDisk",label:"exportDialog.disk_title",icon:b.Ad,viewMode:!0,trackEvent:{category:"export"},perform:function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n,r,a){var i,o;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.Kh)(t,(0,v.A)((0,v.A)({},n),{},{fileHandle:null}),a.files,a.getName());case 3:return i=e.sent,o=i.fileHandle,e.abrupt("return",{captureUpdate:b.Wg.EVENTUALLY,appState:(0,v.A)((0,v.A)({},n),{},{openDialog:null,fileHandle:o,toast:{message:Fi("toast.fileSaved")}})});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",("AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)?console.error(e.t0):console.warn(e.t0),{captureUpdate:b.Wg.EVENTUALLY}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),keyTest:function(e){return e.key===b.hg.S&&e.shiftKey&&e[b.hg.CTRL_OR_CMD]},PanelComponent:function(e){var t=e.updateData;return(0,V.jsx)(Xi,{type:"button",icon:b.Kd,title:Fi("buttons.saveAs"),"aria-label":Fi("buttons.saveAs"),showAriaLabel:$p().editor.isMobile,hidden:!b.eh,onClick:function(){return t(null)},"data-testid":"save-as-button"})}}),Jl=(0,b.$c)({name:"loadScene",label:"buttons.load",trackEvent:{category:"export"},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.loadScene&&!t.viewModeEnabled},perform:function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n,r,a){var i,o,s,c;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.Lh)(n,t);case 3:return i=e.sent,o=i.elements,s=i.appState,c=i.files,e.abrupt("return",{elements:o,appState:s,files:c,captureUpdate:b.Wg.IMMEDIATELY});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return","AbortError"===(null===e.t0||void 0===e.t0?void 0:e.t0.name)?(console.warn(e.t0),!1):{elements:t,appState:(0,v.A)((0,v.A)({},n),{},{errorMessage:e.t0.message}),files:a.files,captureUpdate:b.Wg.EVENTUALLY});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.key===b.hg.O}}),es=(0,b.$c)({name:"exportWithDarkMode",label:"imageExportDialog.label.darkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(e,t,n){return{appState:(0,v.A)((0,v.A)({},t),{},{exportWithDarkMode:n}),captureUpdate:b.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,V.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,V.jsx)(Bl,{value:t.exportWithDarkMode?b.G.DARK:b.G.LIGHT,onChange:function(e){n(e===b.G.DARK)},title:Fi("imageExportDialog.label.darkMode")})})}}),ts="{}",ns=(0,b.$c)({name:"copyStyles",label:"labels.copyStyles",icon:b.yf,trackEvent:{category:"element"},perform:function(e,t,n,r){var a=[],i=e.find((function(e){return t.selectedElementIds[e.id]}));if(a.push(i),i&&(0,b.mc)(i)){var o=(0,b.zj)(i,r.scene.getNonDeletedElementsMap());a.push(o)}return i&&(ts=JSON.stringify(a)),{appState:(0,v.A)((0,v.A)({},t),{},{toast:{message:Fi("toast.copyStyles")}}),captureUpdate:b.Wg.EVENTUALLY}},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.altKey&&e.code===b.gg.C}}),rs=(0,b.$c)({name:"pasteStyles",label:"labels.pasteStyles",icon:b.yf,trackEvent:{category:"element"},perform:function(e,t,n,r){var a=JSON.parse(ts),i=a[0],o=a[1];if(!(0,b.kc)(i))return{elements:e,captureUpdate:b.Wg.EVENTUALLY};var l=(0,b.vk)(e,t,{includeBoundTextElement:!0}),s=l.map((function(e){return e.id}));return{elements:e.map((function(e){if(s.includes(e.id)){var t,n,a,c,d,u,f,h=i;if((0,b._b)(e)&&e.containerId&&(h=o),!h)return e;var p=(0,b.Qj)(e,{backgroundColor:null===(t=h)||void 0===t?void 0:t.backgroundColor,strokeWidth:null===(n=h)||void 0===n?void 0:n.strokeWidth,strokeColor:null===(a=h)||void 0===a?void 0:a.strokeColor,strokeStyle:null===(c=h)||void 0===c?void 0:c.strokeStyle,fillStyle:null===(d=h)||void 0===d?void 0:d.fillStyle,opacity:null===(u=h)||void 0===u?void 0:u.opacity,roughness:null===(f=h)||void 0===f?void 0:f.roughness,roundness:h.roundness?(0,b.pc)(h.roundness.type,e)?h.roundness:(0,b.qc)(e):null});if((0,b._b)(p)){var v=h.fontSize||b.I,U=h.fontFamily||b.J,m=null;(p=(0,b.Qj)(p,{fontSize:v,fontFamily:U,textAlign:h.textAlign||b.K,lineHeight:h.lineHeight||(0,b.Rf)(U)})).containerId&&(m=l.find((function(e){return(0,b._b)(p)&&e.id===p.containerId}))||null),(0,b.uj)(p,m,r.scene.getNonDeletedElementsMap())}return"arrow"===p.type&&(0,b.dc)(h)&&(p=(0,b.Qj)(p,{startArrowhead:h.startArrowhead,endArrowhead:h.endArrowhead})),(0,b.bc)(e)&&(p=(0,b.Qj)(p,{roundness:null,backgroundColor:"transparent"})),p}return e})),captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.altKey&&e.code===b.gg.V}}),as=((0,b.$c)({name:"toggleCanvasMenu",label:"buttons.menu",trackEvent:{category:"menu"},perform:function(e,t){return{appState:(0,v.A)((0,v.A)({},t),{},{openMenu:"canvas"===t.openMenu?null:"canvas"}),captureUpdate:b.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,V.jsx)(Xi,{type:"button",icon:b.zd,"aria-label":Fi("buttons.menu"),onClick:n,selected:"canvas"===t.openMenu})}}),(0,b.$c)({name:"toggleEditMenu",label:"buttons.edit",trackEvent:{category:"menu"},perform:function(e,t){return{appState:(0,v.A)((0,v.A)({},t),{},{openMenu:"shape"===t.openMenu?null:"shape"}),captureUpdate:b.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,V.jsx)(Xi,{visible:(0,b.lk)(n,(0,b.pk)(t)),type:"button",icon:b.Md,"aria-label":Fi("buttons.edit"),onClick:r,selected:"shape"===n.openMenu})}}),(0,b.$c)({name:"toggleShortcuts",label:"welcomeScreen.defaults.helpHint",icon:b.Cd,viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(e,t,n,r){var a,i,o=r.focusContainer;return"help"===(null===(a=t.openDialog)||void 0===a?void 0:a.name)&&o(),{appState:(0,v.A)((0,v.A)({},t),{},{openDialog:"help"===(null===(i=t.openDialog)||void 0===i?void 0:i.name)?null:{name:"help"}}),captureUpdate:b.Wg.EVENTUALLY}},keyTest:function(e){return e.key===b.hg.QUESTION_MARK}})),is=function(e,t,n){var r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0});return r.length>=2&&!function(e){if(e.length>=2){var t,n=e[0].groupIds,r=(0,U.A)(n);try{var a,i=function(){var n=t.value;if(e.reduce((function(e,t){return e&&(0,b.Pc)(t,n)}),!0))return{v:!0}};for(r.s();!(t=r.n()).done;)if(a=i())return a.v}catch(o){r.e(o)}finally{r.f()}}return!1}(r)&&!(0,b.Qi)(r)},os=(0,b.$c)({name:"group",label:"labels.group",icon:function(e){return(0,V.jsx)(b.he,{theme:e.theme})},trackEvent:{category:"element"},perform:function(e,t,n,r){var a=(0,b.Di)(r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0}));if(a.length<2)return{appState:t,elements:e,captureUpdate:b.Wg.EVENTUALLY};var i=(0,b.Mc)(t);if(1===i.length){var o=i[0],l=new Set((0,b.Qc)(e,o).map((function(e){return e.id}))),s=new Set(a.map((function(e){return e.id})));if(new Set([].concat((0,g.A)(Array.from(l)),(0,g.A)(Array.from(s)))).size===l.size)return{appState:t,elements:e,captureUpdate:b.Wg.EVENTUALLY}}var c=(0,g.A)(e);new Set(a.map((function(e){return e.frameId}))).size>1&&(0,b.Ai)(a).forEach((function(e,t){(0,b.Ji)(e,r.scene.getNonDeletedElementsMap())}));var d=(0,b.sc)(),u=(0,b.xb)(a);c=c.map((function(e){return u.get(e.id)?(0,b.Qj)(e,{groupIds:(0,b.Sc)(e.groupIds,d,t.editingGroupId)}):e}));var f=(0,b.Qc)(c,d),h=f[f.length-1],p=c.lastIndexOf(h),U=c.slice(p+1),m=c.slice(0,p).filter((function(e){return!(0,b.Pc)(e,d)})),y=(0,b.Mj)([].concat((0,g.A)(m),(0,g.A)(f),(0,g.A)(U)),(0,b.xb)(f));return{appState:(0,v.A)((0,v.A)({},t),(0,b.Ic)(d,(0,v.A)((0,v.A)({},t),{},{selectedGroupIds:{}}),(0,b.pk)(c))),elements:y,captureUpdate:b.Wg.IMMEDIATELY}},predicate:function(e,t,n,r){return is(0,t,r)},keyTest:function(e){return!e.shiftKey&&e[b.hg.CTRL_OR_CMD]&&e.key===b.hg.G},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,V.jsx)(Xi,{hidden:!is(0,n,a),type:"button",icon:(0,V.jsx)(b.he,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(Fi("labels.group")," \u2014 ").concat((0,b.kb)("CtrlOrCmd+G")),"aria-label":Fi("labels.group"),visible:(0,b.tk)((0,b.pk)(t),n)})}}),ls=(0,b.$c)({name:"ungroup",label:"labels.ungroup",icon:function(e){return(0,V.jsx)(b.ie,{theme:e.theme})},trackEvent:{category:"element"},perform:function(e,t,n,r){var a=(0,b.Mc)(t),i=(0,b.xb)(e);if(0===a.length)return{appState:t,elements:e,captureUpdate:b.Wg.EVENTUALLY};var o=(0,g.A)(e),l=[];o=o.map((function(e){(0,b.nc)(e)&&l.push(e.id);var n=(0,b.Tc)(e.groupIds,t.selectedGroupIds);return n.length===e.groupIds.length?e:(0,b.Qj)(e,{groupIds:n})}));var s=(0,b.Jc)(t,(0,b.pk)(o),t,null),d=r.scene.getSelectedElements(t),u=new Set(d.filter((function(e){return e.frameId})).map((function(e){return e.frameId})));return(0,b.Ci)(e).filter((function(e){return u.has(e.id)})).forEach((function(e){e&&(o=(0,b.Li)(o,(0,b.Ei)(o,e,t,i),e,r))})),s.selectedElementIds=Object.entries(s.selectedElementIds).reduce((function(e,t){var n=(0,c.A)(t,2),r=n[0];return n[1]&&!l.includes(r)&&(e[r]=!0),e}),{}),{appState:(0,v.A)((0,v.A)({},t),s),elements:o,captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return e.shiftKey&&e[b.hg.CTRL_OR_CMD]&&e.key===b.hg.G.toUpperCase()},predicate:function(e,t){return(0,b.Mc)(t).length>0},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,V.jsx)(Xi,{type:"button",hidden:0===(0,b.Mc)(n).length,icon:(0,V.jsx)(b.ie,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(Fi("labels.ungroup")," \u2014 ").concat((0,b.kb)("CtrlOrCmd+Shift+G")),"aria-label":Fi("labels.ungroup"),visible:(0,b.tk)((0,b.pk)(t),n)})}}),ss=function(e,t,n,r,a,i,o){e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+r-i,n),e.quadraticCurveTo(t+r,n,t+r,n+i),e.lineTo(t+r,n+a-i),e.quadraticCurveTo(t+r,n+a,t+r-i,n+a),e.lineTo(t+i,n+a),e.quadraticCurveTo(t,n+a,t,n+a-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath(),e.fill(),o&&(e.strokeStyle=o),e.stroke()};var cs=function(e,t){return"hsl(".concat(Math.abs(function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n);return t}((null===t||void 0===t?void 0:t.id)||e))%37*10,", 100%, 83%)")},ds=function(e){var t=e.color,n=e.onClick,a=e.name,i=e.src,o=e.className,l=function(e){var t,n=null===e||void 0===e||null===(t=e.trim())||void 0===t?void 0:t.codePointAt(0);return(n?String.fromCodePoint(n):"?").toUpperCase()}(a),s=(0,r.useState)(!1),d=(0,c.A)(s,2),u=d[0],f=d[1],h=!u&&i,p=h?void 0:{background:t};return(0,V.jsx)("div",{className:(0,le.A)("Avatar",o),style:p,onClick:n,children:h?(0,V.jsx)("img",{className:"Avatar-img",src:i,alt:l,referrerPolicy:"no-referrer",onError:function(){return f(!0)}}):l})},us=((0,b.$c)({name:"goToCollaborator",label:"Go to a collaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(e,t,n){var r;return!n.socketId||(null===(r=t.userToFollow)||void 0===r?void 0:r.socketId)===n.socketId||n.isCurrentUser?{appState:(0,v.A)((0,v.A)({},t),{},{userToFollow:null}),captureUpdate:b.Wg.EVENTUALLY}:{appState:(0,v.A)((0,v.A)({},t),{},{userToFollow:{socketId:n.socketId,username:n.username||""},openMenu:"canvas"===t.openMenu?null:t.openMenu}),captureUpdate:b.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.updateData,n=e.data,r=(e.appState,n.socketId),a=n.collaborator,i=n.withName,o=n.isBeingFollowed,l=cs(r,a),s=(0,le.A)({"is-followed":o,"is-current-user":!0===a.isCurrentUser,"is-speaking":a.isSpeaking,"is-in-call":a.isInCall,"is-muted":a.isMuted}),c=a.isInCall?a.isSpeaking?(0,V.jsxs)("div",{className:"UserList__collaborator-status-icon-speaking-indicator",title:Fi("userList.hint.isSpeaking"),children:[(0,V.jsx)("div",{}),(0,V.jsx)("div",{}),(0,V.jsx)("div",{})]}):a.isMuted?(0,V.jsx)("div",{className:"UserList__collaborator-status-icon-microphone-muted",title:Fi("userList.hint.micMuted"),children:b.sf}):(0,V.jsx)("div",{title:Fi("userList.hint.inCall"),children:b.rf}):null;return i?(0,V.jsxs)("div",{className:"dropdown-menu-item dropdown-menu-item-base UserList__collaborator ".concat(s),style:{"--avatar-size":"1.5rem"},onClick:function(){return t(a)},children:[(0,V.jsx)(ds,{color:l,onClick:function(){},name:a.username||"",src:a.avatarUrl,className:s}),(0,V.jsx)("div",{className:"UserList__collaborator-name",children:a.username}),(0,V.jsxs)("div",{className:"UserList__collaborator-status-icons","aria-hidden":!0,children:[o&&(0,V.jsx)("div",{className:"UserList__collaborator-status-icon-is-followed",title:Fi("userList.hint.followStatus"),children:b.lf}),c]})]}):(0,V.jsxs)("div",{className:"UserList__collaborator UserList__collaborator--avatar-only ".concat(s),children:[(0,V.jsx)(ds,{color:l,onClick:function(){t(a)},name:a.username||"",src:a.avatarUrl,className:s}),c&&(0,V.jsx)("div",{className:"UserList__collaborator-status-icon",children:c})]})}}),(0,b.$c)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(e,t,n,r){var a,i=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),o=(0,U.A)(b.za);try{var l,s=function(){var e=a.value;if(i.some((function(t){return t.type===e})))return{v:{captureUpdate:b.Wg.EVENTUALLY,appState:(0,v.A)((0,v.A)({},t),{},{errorMessage:Fi("errors.libraryElementTypeError.".concat(e))})}}};for(o.s();!(a=o.n()).done;)if(l=s())return l.v}catch(c){o.e(c)}finally{o.f()}return r.library.getLatestLibrary().then((function(e){return r.library.setLibrary([{id:(0,b.sc)(),status:"unpublished",elements:i.map(b.bg),created:Date.now()}].concat((0,g.A)(e)))})).then((function(){return{captureUpdate:b.Wg.EVENTUALLY,appState:(0,v.A)((0,v.A)({},t),{},{toast:{message:Fi("toast.addedToLibrary")}})}})).catch((function(e){return{captureUpdate:b.Wg.EVENTUALLY,appState:(0,v.A)((0,v.A)({},t),{},{errorMessage:e.message})}}))},label:"labels.addToLibrary"})),fs=function(e,t,n){var r=n.axis,a=n.position,i=(0,b.cj)(e),o="x"===r?["minX","maxX"]:["minY","maxY"],l=(0,c.A)(o,2),s=l[0],d=l[1],u={x:0,y:0};return"start"===a?(0,v.A)((0,v.A)({},u),{},(0,p.default)({},r,t[s]-i[s])):"end"===a?(0,v.A)((0,v.A)({},u),{},(0,p.default)({},r,t[d]-i[d])):(0,v.A)((0,v.A)({},u),{},(0,p.default)({},r,(t[s]+t[d])/2-(i[s]+i[d])/2))},hs=function(e,t){var n=t.scene.getSelectedElements(e);return n.length>1&&!n.some((function(e){return(0,b.bc)(e)}))},ps=function(e,t,n,r){var a=function(e,t,n,r){var a=(0,b.Uc)(e,t),i=(0,b.cj)(e);return a.flatMap((function(e){var t=fs(e,i,n);return e.map((function(n){var a=(0,b.Pj)(n,{x:n.x+t.x,y:n.y+t.y});return(0,b.Pg)(n,r.getNonDeletedElementsMap(),{simultaneouslyUpdated:e}),a}))}))}(n.scene.getSelectedElements(t),(0,b.xb)(e),r,n.scene),i=(0,b.xb)(a);return(0,b.Mi)(e.map((function(e){return i.get(e.id)||e})),t,n)},vs=((0,b.$c)({name:"alignTop",label:"labels.alignTop",icon:b.Zd,trackEvent:{category:"element"},predicate:function(e,t,n,r){return hs(t,r)},perform:function(e,t,n,r){return{appState:t,elements:ps(e,t,r,{position:"start",axis:"y"}),captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.shiftKey&&e.key===b.hg.ARROW_UP},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,V.jsx)(Xi,{hidden:!hs(n,a),type:"button",icon:b.Zd,onClick:function(){return r(null)},title:"".concat(Fi("labels.alignTop")," \u2014 ").concat((0,b.kb)("CtrlOrCmd+Shift+Up")),"aria-label":Fi("labels.alignTop"),visible:(0,b.tk)((0,b.pk)(t),n)})}}),(0,b.$c)({name:"alignBottom",label:"labels.alignBottom",icon:b._d,trackEvent:{category:"element"},predicate:function(e,t,n,r){return hs(t,r)},perform:function(e,t,n,r){return{appState:t,elements:ps(e,t,r,{position:"end",axis:"y"}),captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.shiftKey&&e.key===b.hg.ARROW_DOWN},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,V.jsx)(Xi,{hidden:!hs(n,a),type:"button",icon:b._d,onClick:function(){return r(null)},title:"".concat(Fi("labels.alignBottom")," \u2014 ").concat((0,b.kb)("CtrlOrCmd+Shift+Down")),"aria-label":Fi("labels.alignBottom"),visible:(0,b.tk)((0,b.pk)(t),n)})}}),(0,b.$c)({name:"alignLeft",label:"labels.alignLeft",icon:b.$d,trackEvent:{category:"element"},predicate:function(e,t,n,r){return hs(t,r)},perform:function(e,t,n,r){return{appState:t,elements:ps(e,t,r,{position:"start",axis:"x"}),captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.shiftKey&&e.key===b.hg.ARROW_LEFT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,V.jsx)(Xi,{hidden:!hs(n,a),type:"button",icon:b.$d,onClick:function(){return r(null)},title:"".concat(Fi("labels.alignLeft")," \u2014 ").concat((0,b.kb)("CtrlOrCmd+Shift+Left")),"aria-label":Fi("labels.alignLeft"),visible:(0,b.tk)((0,b.pk)(t),n)})}}),(0,b.$c)({name:"alignRight",label:"labels.alignRight",icon:b.ae,trackEvent:{category:"element"},predicate:function(e,t,n,r){return hs(t,r)},perform:function(e,t,n,r){return{appState:t,elements:ps(e,t,r,{position:"end",axis:"x"}),captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.shiftKey&&e.key===b.hg.ARROW_RIGHT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,V.jsx)(Xi,{hidden:!hs(n,a),type:"button",icon:b.ae,onClick:function(){return r(null)},title:"".concat(Fi("labels.alignRight")," \u2014 ").concat((0,b.kb)("CtrlOrCmd+Shift+Right")),"aria-label":Fi("labels.alignRight"),visible:(0,b.tk)((0,b.pk)(t),n)})}}),(0,b.$c)({name:"alignVerticallyCentered",label:"labels.centerVertically",icon:b.de,trackEvent:{category:"element"},predicate:function(e,t,n,r){return hs(t,r)},perform:function(e,t,n,r){return{appState:t,elements:ps(e,t,r,{position:"center",axis:"y"}),captureUpdate:b.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,V.jsx)(Xi,{hidden:!hs(n,a),type:"button",icon:b.de,onClick:function(){return r(null)},title:Fi("labels.centerVertically"),"aria-label":Fi("labels.centerVertically"),visible:(0,b.tk)((0,b.pk)(t),n)})}}),(0,b.$c)({name:"alignHorizontallyCentered",label:"labels.centerHorizontally",icon:b.ee,trackEvent:{category:"element"},predicate:function(e,t,n,r){return hs(t,r)},perform:function(e,t,n,r){return{appState:t,elements:ps(e,t,r,{position:"center",axis:"x"}),captureUpdate:b.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,V.jsx)(Xi,{hidden:!hs(n,a),type:"button",icon:b.ee,onClick:function(){return r(null)},title:Fi("labels.centerHorizontally"),"aria-label":Fi("labels.centerHorizontally"),visible:(0,b.tk)((0,b.pk)(t),n)})}}),function(e,t){var n=t.scene.getSelectedElements(e);return n.length>1&&!n.some((function(e){return(0,b.bc)(e)}))}),Us=function(e,t,n,r){var a=function(e,t,n){var r,a="x"===n.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],i=(0,c.A)(a,4),o=i[0],l=i[1],s=i[2],d=i[3],u=(0,b.cj)(e),f=(0,b.Uc)(e,t).map((function(e){return[e,(0,b.cj)(e)]})).sort((function(e,t){return e[1][l]-t[1][l]})),h=0,p=(0,U.A)(f);try{for(p.s();!(r=p.n()).done;)h+=r.value[1][d]}catch(A){p.e(A)}finally{p.f()}var v=(u[d]-h)/(f.length-1);if(v<0){var m=f.findIndex((function(e){return e[1][o]===u[o]})),g=f.findIndex((function(e){return e[1][s]===u[s]})),y=(f[g][1][l]-f[m][1][l])/(f.length-1),x=f[m][1][l];return f.flatMap((function(e,t){var r=(0,c.A)(e,2),a=r[0],i=r[1],o={x:0,y:0};return t!==m&&t!==g&&(x+=y,o[n.axis]=x-i[l]),a.map((function(e){return(0,b.Qj)(e,{x:e.x+o.x,y:e.y+o.y})}))}))}var w=u[o];return f.flatMap((function(e){var t=(0,c.A)(e,2),r=t[0],a=t[1],i={x:0,y:0};return i[n.axis]=w-a[o],w+=v,w+=a[d],r.map((function(e){return(0,b.Qj)(e,{x:e.x+i.x,y:e.y+i.y})}))}))}(n.scene.getSelectedElements(t),n.scene.getNonDeletedElementsMap(),r),i=(0,b.xb)(a);return(0,b.Mi)(e.map((function(e){return i.get(e.id)||e})),t,n)},ms=((0,b.$c)({name:"distributeHorizontally",label:"labels.distributeHorizontally",trackEvent:{category:"element"},perform:function(e,t,n,r){return{appState:t,elements:Us(e,t,r,{space:"between",axis:"x"}),captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return!e[b.hg.CTRL_OR_CMD]&&e.altKey&&e.code===b.gg.H},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,V.jsx)(Xi,{hidden:!vs(n,a),type:"button",icon:b.be,onClick:function(){return r(null)},title:"".concat(Fi("labels.distributeHorizontally")," \u2014 ").concat((0,b.kb)("Alt+H")),"aria-label":Fi("labels.distributeHorizontally"),visible:(0,b.tk)((0,b.pk)(t),n)})}}),(0,b.$c)({name:"distributeVertically",label:"labels.distributeVertically",trackEvent:{category:"element"},perform:function(e,t,n,r){return{appState:t,elements:Us(e,t,r,{space:"between",axis:"y"}),captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return!e[b.hg.CTRL_OR_CMD]&&e.altKey&&e.code===b.gg.V},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,V.jsx)(Xi,{hidden:!vs(n,a),type:"button",icon:b.ce,onClick:function(){return r(null)},title:"".concat(Fi("labels.distributeVertically")," \u2014 ").concat((0,b.kb)("Alt+V")),"aria-label":Fi("labels.distributeVertically"),visible:(0,b.tk)((0,b.pk)(t),n)})}}),(0,b.$c)({name:"flipHorizontal",label:"labels.flipHorizontal",icon:b.xf,trackEvent:{category:"element"},perform:function(e,t,n,r){return{elements:(0,b.Mi)(bs(e,r.scene.getNonDeletedElementsMap(),t,"horizontal",r),t,r),appState:t,captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return e.shiftKey&&e.code===b.gg.H}})),gs=(0,b.$c)({name:"flipVertical",label:"labels.flipVertical",icon:b.wf,trackEvent:{category:"element"},perform:function(e,t,n,r){return{elements:(0,b.Mi)(bs(e,r.scene.getNonDeletedElementsMap(),t,"vertical",r),t,r),appState:t,captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e){return e.shiftKey&&e.code===b.gg.V&&!e[b.hg.CTRL_OR_CMD]}}),bs=function(e,t,n,r,a){var i=(0,b.vk)((0,b.pk)(e),n,{includeBoundTextElement:!0,includeElementsInFrames:!0}),o=ys(i,t,n,r,a),l=(0,b.xb)(o);return e.map((function(e){return l.get(e.id)||e}))},ys=function(e,t,n,r,a){if(e.every((function(e){return(0,b.dc)(e)&&(e.startBinding||e.endBinding)})))return e.map((function(e){var t=e;return(0,b.Qj)(t,{startArrowhead:t.endArrowhead,endArrowhead:t.startArrowhead})}));var i=(0,b.cj)(e),o=i.midX,l=i.midY;(0,b.hk)(e,t,"nw",a.scene,new Map(Array.from(t.values()).map((function(e){return[e.id,(0,b.bg)(e)]}))),{flipByX:"horizontal"===r,flipByY:"vertical"===r,shouldResizeFromCenter:!0,shouldMaintainAspectRatio:!0}),(0,b.Jg)(e.filter(b.cc),t,a.scene.getNonDeletedElements(),a.scene,(0,b.Fg)(n),[],n.zoom);var s=e.reduce((function(e,t){return(0,b.ec)(t)?(0,v.A)((0,v.A)({},e),{},{elbowArrows:e.elbowArrows.concat(t)}):(0,v.A)((0,v.A)({},e),{},{otherElements:e.otherElements.concat(t)})}),{elbowArrows:[],otherElements:[]}),c=s.elbowArrows,d=s.otherElements,u=(0,b.cj)(e),f=u.midX,h=u.midY,p=o-f,U=l-h;return d.forEach((function(e){return(0,b.Pj)(e,{x:e.x+p,y:e.y+U})})),c.forEach((function(e){return(0,b.Pj)(e,{x:e.x+p,y:e.y+U})})),e},xs=(0,b.$c)({name:"copy",label:"labels.copy",icon:b.wd,trackEvent:{category:"element"},perform:function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n,r,a){var i;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.scene.getSelectedElements({selectedElementIds:n.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),e.prev=1,e.next=4,(0,b.ki)(i,a.files,r);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{captureUpdate:b.Wg.EVENTUALLY,appState:(0,v.A)((0,v.A)({},n),{},{errorMessage:e.t0.message})});case 9:return e.abrupt("return",{captureUpdate:b.Wg.EVENTUALLY});case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),keyTest:void 0}),ws=(0,b.$c)({name:"paste",label:"labels.paste",trackEvent:{category:"element"},perform:function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n,r,a){var i;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.li)();case 3:i=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return","AbortError"!==e.t0.name&&"NotAllowedError"!==e.t0.name&&(console.error("actionPaste ".concat(e.t0.name,": ").concat(e.t0.message)),b.n?{captureUpdate:b.Wg.EVENTUALLY,appState:(0,v.A)((0,v.A)({},n),{},{errorMessage:Fi("hints.firefox_clipboard_write")})}:{captureUpdate:b.Wg.EVENTUALLY,appState:(0,v.A)((0,v.A)({},n),{},{errorMessage:Fi("errors.asyncPasteFailedOnRead")})}));case 9:e.prev=9,a.pasteFromClipboard((0,b.ji)({types:i})),e.next=16;break;case 13:return e.prev=13,e.t1=e.catch(9),e.abrupt("return",(console.error(e.t1),{captureUpdate:b.Wg.EVENTUALLY,appState:(0,v.A)((0,v.A)({},n),{},{errorMessage:Fi("errors.asyncPasteFailedOnParse")})}));case 16:return e.abrupt("return",{captureUpdate:b.Wg.EVENTUALLY});case 17:case"end":return e.stop()}}),e,null,[[0,6],[9,13]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),keyTest:void 0}),As=(0,b.$c)({name:"cut",label:"labels.cut",icon:b.$e,trackEvent:{category:"element"},perform:function(e,t,n,r){return xs.perform(e,t,n,r),Vi.perform(e,t,null,r)},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.key===b.hg.X}}),Es=(0,b.$c)({name:"copyAsSvg",label:"labels.copyAsSvg",icon:b.Af,trackEvent:{category:"element"},perform:function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n,r,a){var i,o,s,c;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.canvas){e.next=2;break}return e.abrupt("return",{captureUpdate:b.Wg.EVENTUALLY});case 2:return i=Wl(t,n,!0),o=i.exportedElements,s=i.exportingFrame,e.prev=3,e.next=6,Xl("clipboard-svg",o,n,a.files,(0,v.A)((0,v.A)({},n),{},{exportingFrame:s,name:a.getName()}));case 6:return c=a.scene.getSelectedElements({selectedElementIds:n.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),e.abrupt("return",{appState:{toast:{message:Fi("toast.copyToClipboardAsSvg",{exportSelection:c.length?Fi("toast.selection"):Fi("toast.canvas"),exportColorScheme:n.exportWithDarkMode?Fi("buttons.darkMode"):Fi("buttons.lightMode")})}},captureUpdate:b.Wg.EVENTUALLY});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",(console.error(e.t0),{appState:{errorMessage:e.t0.message},captureUpdate:b.Wg.EVENTUALLY}));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),predicate:function(e){return b.hi&&e.length>0},keywords:["svg","clipboard","copy"]}),ks=(0,b.$c)({name:"copyAsPng",label:"labels.copyAsPng",icon:b.Bf,trackEvent:{category:"element"},perform:function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n,r,a){var i,o,s,c;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.canvas){e.next=2;break}return e.abrupt("return",{captureUpdate:b.Wg.EVENTUALLY});case 2:return i=a.scene.getSelectedElements({selectedElementIds:n.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),o=Wl(t,n,!0),s=o.exportedElements,c=o.exportingFrame,e.prev=3,e.next=6,Xl("clipboard",s,n,a.files,(0,v.A)((0,v.A)({},n),{},{exportingFrame:c,name:a.getName()}));case 6:return e.abrupt("return",{appState:(0,v.A)((0,v.A)({},n),{},{toast:{message:Fi("toast.copyToClipboardAsPng",{exportSelection:i.length?Fi("toast.selection"):Fi("toast.canvas"),exportColorScheme:n.exportWithDarkMode?Fi("buttons.darkMode"):Fi("buttons.lightMode")})}}),captureUpdate:b.Wg.EVENTUALLY});case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",(console.error(e.t0),{appState:(0,v.A)((0,v.A)({},n),{},{errorMessage:e.t0.message}),captureUpdate:b.Wg.EVENTUALLY}));case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),predicate:function(e){return b.ii&&e.length>0},keyTest:function(e){return e.code===b.gg.C&&e.altKey&&e.shiftKey},keywords:["png","clipboard","copy"]}),Ss=(0,b.$c)({name:"copyText",label:"labels.copyText",trackEvent:{category:"element"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0});try{(0,b.oi)((0,b.Jj)(a))}catch(i){throw new Error(Fi("errors.copyToSystemClipboardFailed"))}return{captureUpdate:b.Wg.EVENTUALLY}},predicate:function(e,t,n,r){return b.hi&&r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0}).some(b._b)},keywords:["text","clipboard","copy"]}),Ms=(0,b.$c)({name:"gridMode",icon:b.Gf,keywords:["snap"],label:"labels.toggleGrid",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return e.gridModeEnabled}},perform:function(e,t){return{appState:(0,v.A)((0,v.A)({},t),{},{gridModeEnabled:!this.checked(t),objectsSnapModeEnabled:!1}),captureUpdate:b.Wg.EVENTUALLY}},checked:function(e){return e.gridModeEnabled},predicate:function(e,t,n){return void 0===n.gridModeEnabled},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.code===b.gg.QUOTE}}),Cs=(0,b.$c)({name:"zenMode",label:"buttons.zenMode",icon:b.Df,paletteName:"Toggle zen mode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.zenModeEnabled}},perform:function(e,t){return{appState:(0,v.A)((0,v.A)({},t),{},{zenModeEnabled:!this.checked(t)}),captureUpdate:b.Wg.EVENTUALLY}},checked:function(e){return e.zenModeEnabled},predicate:function(e,t,n){return typeof n.zenModeEnabled>"u"},keyTest:function(e){return!e[b.hg.CTRL_OR_CMD]&&e.altKey&&e.code===b.gg.Z}}),js=(0,b.$c)({name:"objectsSnapMode",label:"buttons.objectsSnapMode",icon:b.Cf,viewMode:!1,trackEvent:{category:"canvas",predicate:function(e){return!e.objectsSnapModeEnabled}},perform:function(e,t){return{appState:(0,v.A)((0,v.A)({},t),{},{objectsSnapModeEnabled:!this.checked(t),gridModeEnabled:!1}),captureUpdate:b.Wg.EVENTUALLY}},checked:function(e){return e.objectsSnapModeEnabled},predicate:function(e,t,n){return typeof n.objectsSnapModeEnabled>"u"},keyTest:function(e){return!e[b.hg.CTRL_OR_CMD]&&e.altKey&&e.code===b.gg.S}}),Is=(0,b.$c)({name:"stats",label:"stats.fullTitle",icon:b.vf,paletteName:"Toggle stats",viewMode:!0,trackEvent:{category:"menu"},keywords:["edit","attributes","customize"],perform:function(e,t){return{appState:(0,v.A)((0,v.A)({},t),{},{stats:(0,v.A)((0,v.A)({},t.stats),{},{open:!this.checked(t)})}),captureUpdate:b.Wg.EVENTUALLY}},checked:function(e){return e.stats.open},keyTest:function(e){return!e[b.hg.CTRL_OR_CMD]&&e.altKey&&e.code===b.gg.SLASH}}),Ds=(0,b.$c)({name:"unbindText",label:"labels.unbindText",trackEvent:{category:"element"},predicate:function(e,t,n,r){return r.scene.getSelectedElements(t).some((function(e){return(0,b.mc)(e)}))},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t),i=r.scene.getNonDeletedElementsMap();return a.forEach((function(e){var t=(0,b.zj)(e,i);if(t){var n,r=(0,b.vc)(t.originalText,(0,b.cb)(t),t.lineHeight),a=r.width,o=r.height,l=(0,b.tj)(e.id);(0,b.sj)(e.id);var s=(0,b.xj)(e,t,i),c=s.x,d=s.y;(0,b.Pj)(t,{containerId:null,width:a,height:o,text:t.originalText,x:c,y:d}),(0,b.Pj)(e,{boundElements:null===(n=e.boundElements)||void 0===n?void 0:n.filter((function(e){return e.id!==t.id})),height:l||e.height})}})),{elements:e,appState:t,captureUpdate:b.Wg.IMMEDIATELY}}}),Ts=(0,b.$c)({name:"bindText",label:"labels.bindText",trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=r.scene.getSelectedElements(t);if(2===a.length){var i,o=(0,b._b)(a[0])||(0,b._b)(a[1]);if((0,b.jc)(a[0])?i=a[0]:(0,b.jc)(a[1])&&(i=a[1]),o&&i&&null===(0,b.zj)(i,r.scene.getNonDeletedElementsMap()))return!0}return!1},perform:function(e,t,n,r){var a,i,o=r.scene.getSelectedElements(t);(0,b._b)(o[0])&&(0,b.jc)(o[1])?(a=o[0],i=o[1]):(a=o[1],i=o[0]),(0,b.Pj)(a,{containerId:i.id,verticalAlign:b.sa.MIDDLE,textAlign:b.ta.CENTER,autoResize:!0}),(0,b.Pj)(i,{boundElements:(i.boundElements||[]).concat({type:"text",id:a.id})});var l=i.height;return(0,b.uj)(a,i,r.scene.getNonDeletedElementsMap()),(0,b.rj)(i.id,l),{elements:_s(e,i,a),appState:(0,v.A)((0,v.A)({},t),{},{selectedElementIds:(0,p.default)({},i.id,!0)}),captureUpdate:b.Wg.IMMEDIATELY}}}),_s=function(e,t,n){var r=e.slice(),a=r.findIndex((function(e){return e.id===n.id}));r.splice(a,1);var i=r.findIndex((function(e){return e.id===t.id}));return r.splice(i+1,0,n),(0,b.Mj)(r,(0,b.xb)([t,n])),r},Ls=(0,b.$c)({name:"wrapTextInContainer",label:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=r.scene.getSelectedElements(t),i=a.every((function(e){return(0,b._b)(e)}));return a.length>0&&i},perform:function(e,t,n,r){var a,i=r.scene.getSelectedElements(t),o=e.slice(),l={},s=(0,U.A)(i);try{var c=function(){var e=a.value;if((0,b._b)(e)){var n,i=(0,b.Sf)({type:"rectangle",backgroundColor:t.currentItemBackgroundColor,boundElements:[].concat((0,g.A)(e.boundElements||[]),[{id:e.id,type:"text"}]),angle:e.angle,fillStyle:t.currentItemFillStyle,strokeColor:t.currentItemStrokeColor,roughness:t.currentItemRoughness,strokeWidth:t.currentItemStrokeWidth,strokeStyle:t.currentItemStrokeStyle,roundness:"round"===t.currentItemRoundness?{type:(0,b.oc)("rectangle")?b.ua.ADAPTIVE_RADIUS:b.ua.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:e.x-b.ra,y:e.y-b.ra,width:(0,b.Gj)(e.width,"rectangle"),height:(0,b.Gj)(e.height,"rectangle"),groupIds:e.groupIds,frameId:e.frameId});if(null!==(n=e.boundElements)&&void 0!==n&&n.length){var s=e.boundElements.filter((function(e){return"arrow"===e.type})).map((function(e){return e.id}));o.filter((function(e){return s.includes(e.id)})).forEach((function(t){var n,r,a=t.startBinding,o=t.endBinding;(null===(n=a)||void 0===n?void 0:n.elementId)===e.id&&(a=(0,v.A)((0,v.A)({},a),{},{elementId:i.id})),(null===(r=o)||void 0===r?void 0:r.elementId)===e.id&&(o=(0,v.A)((0,v.A)({},o),{},{elementId:i.id})),(a||o)&&(0,b.Pj)(t,{startBinding:a,endBinding:o},!1)}))}(0,b.Pj)(e,{containerId:i.id,verticalAlign:b.sa.MIDDLE,boundElements:null,textAlign:b.ta.CENTER,autoResize:!0},!1),(0,b.uj)(e,i,r.scene.getNonDeletedElementsMap()),o=function(e,t,n){var r=e.slice(),a=r.findIndex((function(e){return e.id===t.id}));r.splice(a,1);var i=r.findIndex((function(e){return e.id===n.id}));return r.splice(i,0,t),(0,b.Mj)(r,(0,b.xb)([t,n])),r}([].concat((0,g.A)(o),[i]),i,e),l[i.id]=!0}};for(s.s();!(a=s.n()).done;)c()}catch(d){s.e(d)}finally{s.f()}return{elements:o,appState:(0,v.A)((0,v.A)({},t),{},{selectedElementIds:l}),captureUpdate:b.Wg.IMMEDIATELY}}}),Rs=!1,Ps=new Map,Ns=function(e){var t=e.element,n=e.elementsMap,a=e.setAppState,i=e.onLinkOpen,o=e.setToast,l=e.updateEmbedValidationStatus,s=ev(),d=qp(),u=$p(),f=t.link||"",h=(0,r.useState)(f),p=(0,c.A)(h,2),U=p[0],m=p[1],g=(0,r.useRef)(null),y="editor"===s.showHyperlinkPopup,x=(0,r.useCallback)((function(){if(g.current){var e=(0,b.Xc)(g.current.value)||null;if(!t.link&&e&&vo("hyperlink","create"),(0,b.Xb)(t)){var n;if((null===(n=s.activeEmbeddable)||void 0===n?void 0:n.element)===t&&a({activeEmbeddable:null}),!e)return(0,b.Pj)(t,{link:null}),void l(t,!1);if((0,b.$g)(e,d.validateEmbeddable)){var r=t.width,i=t.height,c=(0,b.Zg)(e);(null===c||void 0===c?void 0:c.error)instanceof URIError&&o({message:Fi("toast.unrecognizedLinkFormat"),closable:!0});var u=c?c.intrinsicSize.w/c.intrinsicSize.h:1,f=Ps.get(t.id)!==t.link;(0,b.Pj)(t,(0,v.A)((0,v.A)({},f?{width:"video"===(null===c||void 0===c?void 0:c.type)?r>i?r:i*u:r,height:"video"===(null===c||void 0===c?void 0:c.type)&&r>i?r/u:i}:{}),{},{link:e})),l(t,!0),Ps.has(t.id)&&Ps.delete(t.id)}else e&&o({message:Fi("toast.unableToEmbed"),closable:!0}),t.link&&Ps.set(t.id,t.link),(0,b.Pj)(t,{link:e}),l(t,!1)}else(0,b.Pj)(t,{link:e})}}),[t,o,d.validateEmbeddable,s.activeEmbeddable,a,l]);(0,r.useLayoutEffect)((function(){return function(){x()}}),[x]),(0,r.useEffect)((function(){y&&(null===g||void 0===g?void 0:g.current)&&!u.viewport.isMobile&&!u.isTouchScreen&&g.current.select()}),[y,u.viewport.isMobile,u.isTouchScreen]),(0,r.useEffect)((function(){var e=null,r=function(r){y||(e&&clearTimeout(e),Ws(t,n,s,(0,b.Ua)(r.clientX,r.clientY))&&(e=window.setTimeout((function(){a({showHyperlinkPopup:!1})}),500)))};return window.addEventListener("pointermove",r,!1),function(){window.removeEventListener("pointermove",r,!1),e&&clearTimeout(e)}}),[s,t,y,a,n]);var w=(0,r.useCallback)((function(){vo("hyperlink","delete"),(0,b.Pj)(t,{link:null}),a({showHyperlinkPopup:!1})}),[a,t]),A=Fs(t,s,n),E=A.x,k=A.y;return s.contextMenu||s.selectedElementsAreBeingDragged||s.resizingElement||s.isRotating||s.openMenu||s.viewModeEnabled?null:(0,V.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(k,"px"),left:"".concat(E,"px"),width:380,padding:5},children:[y?(0,V.jsx)("input",{className:(0,le.A)("excalidraw-hyperlinkContainer-input"),placeholder:Fi("labels.link.hint"),ref:g,value:U,onChange:function(e){return m(e.target.value)},autoFocus:!0,onKeyDown:function(e){e.stopPropagation(),e[b.hg.CTRL_OR_CMD]&&e.key===b.hg.K&&e.preventDefault(),(e.key===b.hg.ENTER||e.key===b.hg.ESCAPE)&&(x(),a({showHyperlinkPopup:"info"}))}}):t.link?(0,V.jsx)("a",{href:(0,b.Xc)(t.link||""),className:"excalidraw-hyperlinkContainer-link",target:(0,b.Yc)(t.link)?"_self":"_blank",onClick:function(e){if(t.link&&i){var n=(0,b.Cb)("excalidraw-link",e.nativeEvent);i((0,v.A)((0,v.A)({},t),{},{link:(0,b.Xc)(t.link)}),n),n.defaultPrevented&&e.preventDefault()}},rel:"noopener noreferrer",children:t.link}):(0,V.jsx)("div",{className:"excalidraw-hyperlinkContainer-link",children:Fi("labels.link.empty")}),(0,V.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!y&&(0,V.jsx)(Xi,{type:"button",title:Fi("buttons.edit"),"aria-label":Fi("buttons.edit"),label:Fi("buttons.edit"),onClick:function(){vo("hyperlink","edit","popup-ui"),a({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:b.pd}),(0,V.jsx)(Xi,{type:"button",title:Fi("labels.linkToElement"),"aria-label":Fi("labels.linkToElement"),label:Fi("labels.linkToElement"),onClick:function(){a({openDialog:{name:"elementLinkSelector",sourceElementId:t.id}})},icon:b.Pf}),f&&!(0,b.Xb)(t)&&(0,V.jsx)(Xi,{type:"button",title:Fi("buttons.remove"),"aria-label":Fi("buttons.remove"),label:Fi("buttons.remove"),onClick:w,className:"excalidraw-hyperlinkContainer--remove",icon:b.ud})]})]})},Fs=function(e,t,n){var r=(0,b.aj)(e,n),a=(0,c.A)(r,2),i=a[0],o=a[1],l=(0,b.mb)({sceneX:i+e.width/2,sceneY:o},t),s=l.x,d=l.y;return{x:s-t.offsetLeft-190,y:d-t.offsetTop-85}},Os=function(e,t){var n,r=(0,b.vk)(e,t);return(0,b.Xb)(r[0])?"labels.link.editEmbed":null!==(n=r[0])&&void 0!==n&&n.link?"labels.link.edit":"labels.link.create"},zs=null,Bs=function(e,t,n){if(e.link){var r=Cl();r.classList.add("excalidraw-tooltip--visible"),r.style.maxWidth="20rem",r.textContent=(0,b.$h)(e.link)?Fi("labels.link.goToElement"):e.link;var a=(0,b.aj)(e,n),i=(0,c.A)(a,4),o=i[0],l=i[1],s=i[2],d=i[3],u=(0,b.Sh)([o,l,s,d],e.angle,t),f=(0,c.A)(u,4),h=f[0],p=f[1],v=f[2],U=f[3],m=(0,b.mb)({sceneX:h,sceneY:p},t);jl(r,{left:m.x,top:m.y,width:v,height:U},"top"),vo("hyperlink","tooltip","link-icon"),Rs=!0}},Hs=function(){zs&&clearTimeout(zs),Rs&&(Rs=!1,Cl().classList.remove("excalidraw-tooltip--visible"))},Ws=function(e,t,n,r){var a=(0,c.A)(r,2),i=a[0],o=a[1],l=(0,b.lb)({clientX:i,clientY:o},n),s=l.x,d=l.y,u=15/n.zoom.value;if((0,b.og)(s,d,e,t))return!1;var f=(0,b.aj)(e,t),h=(0,c.A)(f,3),p=h[0],v=h[1],U=h[2];if(s>=p&&s<=U&&d>=v-85&&d<=v)return!1;var m=Fs(e,n,t),g=m.x,y=m.y;return!(i>=g-u&&i<=g+380+10+u&&o>=y-u&&o<=y+u+10+42)},Xs=(0,b.$c)({name:"hyperlink",label:function(e,t){return Os(e,t)},icon:b.Id,perform:function(e,t){return"editor"!==t.showHyperlinkPopup&&{elements:e,appState:(0,v.A)((0,v.A)({},t),{},{showHyperlinkPopup:"editor",openMenu:null}),captureUpdate:b.Wg.IMMEDIATELY}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.key===b.hg.K},predicate:function(e,t){return 1===(0,b.vk)(e,t).length},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,b.vk)(t,n);return(0,V.jsx)(Xi,{type:"button",icon:b.Id,"aria-label":Fi(Os(t,n)),title:"".concat((0,b.Xb)(t[0])?Fi("labels.link.labelEmbed"):Fi("labels.link.label")," - ").concat((0,b.kb)("CtrlOrCmd+K")),onClick:function(){return r(null)},selected:1===a.length&&!!a[0].link})}}),Gs=function(e){return e.every((function(e){return!e.locked}))},Vs=(0,b.$c)({name:"toggleElementLock",label:function(e,t,n){var r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!1});return 1!==r.length||(0,b.bc)(r[0])?Gs(r)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll":r[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock"},icon:function(e,t){var n=(0,b.vk)(t,e);return Gs(n)?b.kd:b.jd},trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=r.scene.getSelectedElements(t);return a.length>0&&!a.some((function(e){return e.locked&&e.frameId}))},perform:function(e,t,n,r){var a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});if(!a.length)return!1;var i=Gs(a),o=(0,b.xb)(a);return{elements:e.map((function(e){return o.has(e.id)?(0,b.Qj)(e,{locked:i}):e})),appState:(0,v.A)((0,v.A)({},t),{},{selectedLinearElement:i?null:t.selectedLinearElement}),captureUpdate:b.Wg.IMMEDIATELY}},keyTest:function(e,t,n,r){return e.key.toLocaleLowerCase()===b.hg.L&&e[b.hg.CTRL_OR_CMD]&&e.shiftKey&&r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!1}).length>0}}),Ys=(0,b.$c)({name:"unlockAllElements",paletteName:"Unlock all elements",trackEvent:{category:"canvas"},viewMode:!1,icon:b.jd,predicate:function(e,t){return 0===(0,b.vk)(e,t).length&&e.some((function(e){return e.locked}))},perform:function(e,t){var n=e.filter((function(e){return e.locked}));return{elements:e.map((function(e){return e.locked?(0,b.Qj)(e,{locked:!1}):e})),appState:(0,v.A)((0,v.A)({},t),{},{selectedElementIds:Object.fromEntries(n.map((function(e){return[e.id,!0]})))}),captureUpdate:b.Wg.IMMEDIATELY}},label:"labels.elementLock.unlockAll"}),Zs=function(e){var t=e.closeOnClickOutside,n=void 0===t||t,a=Po({className:"excalidraw-modal-container"}),i=(0,r.useRef)(document.body.classList.contains("excalidraw-animations-disabled"));if(!a)return null;return(0,se.createPortal)((0,V.jsxs)("div",{className:(0,le.A)("Modal",e.className,{"animations-disabled":i.current}),role:"dialog","aria-modal":"true",onKeyDown:function(t){t.key===b.hg.ESCAPE&&(t.nativeEvent.stopImmediatePropagation(),t.stopPropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy,"data-prevent-outside-click":!0,children:[(0,V.jsx)("div",{className:"Modal__background",onClick:n?e.onCloseRequest:void 0}),(0,V.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(e.maxWidth,"px")},tabIndex:0,children:e.children})]}),a)},Ks=k(new Map),qs=function(){var e=(0,s.A)((0,l.A)().mark((function e(t){return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.ri)({elements:t,appState:{exportBackground:!1,viewBackgroundColor:b.e.white},files:null,renderEmbeddables:!1,skipInliningFonts:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$s=function(){var e=Ei(Ks),t=(0,c.A)(e,1)[0];return{clearLibraryCache:function(){return t.clear()},deleteItemsFromLibraryCache:function(e){e.forEach((function(e){return t.delete(e)}))},svgCache:t}},Qs=function(){return(0,h.A)((function e(){(0,f.A)(this,e),(0,A.d)(this,"jobs",[]),(0,A.d)(this,"running",!1)}),[{key:"tick",value:function(){var e=this;if(!this.running){var t=this.jobs.shift();t?(this.running=!0,t.promise.resolve(b.Tb.apply(void 0,[t.jobFactory].concat((0,g.A)(t.args))).finally((function(){e.running=!1,e.tick()})))):this.running=!1}}},{key:"push",value:function(e){for(var t=(0,b.tb)(),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return this.jobs.push({jobFactory:e,promise:t,args:r}),this.tick(),t}}])}(),Js=new b.Vg,ec=k({status:"loaded",isInitialized:!1,libraryItems:[]}),tc=function(e){return(0,b.Nb)(e)},nc=function(e,t){return!e.find((function(e){return e.elements.length===t.elements.length&&e.elements.every((function(e,n){return e.id===t.elements[n].id&&e.versionNonce===t.elements[n].versionNonce}))}))},rc=function(e,t){var n,r=[],a=(0,U.A)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;nc(e,i)&&r.push(i)}}catch(o){a.e(o)}finally{a.f()}return[].concat(r,(0,g.A)(e))},ac=function(e,t){var n,r=(0,b.xb)(t),a={deletedItems:new Map,addedItems:new Map},i=(0,U.A)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.has(o.id)||a.deletedItems.set(o.id,o)}}catch(u){i.e(u)}finally{i.f()}var l,s=(0,b.xb)(e),c=(0,U.A)(t);try{for(c.s();!(l=c.n()).done;){var d=l.value;s.has(d.id)||a.addedItems.set(d.id,d)}}catch(u){c.e(u)}finally{c.f()}return a},ic=(0,h.A)((function e(t){var n=this;(0,f.A)(this,e),(0,A.d)(this,"currLibraryItems",[]),(0,A.d)(this,"prevLibraryItems",tc(this.currLibraryItems)),(0,A.d)(this,"app"),(0,A.d)(this,"updateQueue",[]),(0,A.d)(this,"getLastUpdateTask",(function(){return n.updateQueue[n.updateQueue.length-1]})),(0,A.d)(this,"notifyListeners",(function(){if(n.updateQueue.length>0)Ci.set(ec,(function(e){return{status:"loading",libraryItems:n.currLibraryItems,isInitialized:e.isInitialized}}));else{Ci.set(ec,{status:"loaded",libraryItems:n.currLibraryItems,isInitialized:!0});try{var e,r,a=n.prevLibraryItems;n.prevLibraryItems=tc(n.currLibraryItems);var i=tc(n.currLibraryItems);null!==(e=(r=n.app.props).onLibraryChange)&&void 0!==e&&e.call(r,i),Js.trigger(ac(a,i),i)}catch(t){console.error(t)}}})),(0,A.d)(this,"destroy",(function(){n.updateQueue=[],n.currLibraryItems=[],Ci.set(Ks,new Map)})),(0,A.d)(this,"resetLibrary",(function(){return n.setLibrary([])})),(0,A.d)(this,"getLatestLibrary",(function(){return new Promise(function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var r;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getLastUpdateTask()||n.currLibraryItems;case 3:r=e.sent,n.updateQueue.length>0?t(n.getLatestLibrary()):t(tc(r)),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",t(n.currLibraryItems));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())})),(0,A.d)(this,"updateLibrary",function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var r,a,i,o,c,d,u,f,h;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryItems,a=t.prompt,i=void 0!==a&&a,o=t.merge,c=void 0!==o&&o,d=t.openLibraryMenu,u=void 0!==d&&d,f=t.defaultStatus,h=void 0===f?"unpublished":f,e.abrupt("return",(u&&n.app.setState({openSidebar:{name:b.ya.name,tab:b.wa}}),n.setLibrary((function(){return new Promise(function(){var e=(0,s.A)((0,l.A)().mark((function e(t,a){var o,s;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,"function"!=typeof r||r instanceof Blob?r:r(n.currLibraryItems);case 3:if(!((o=e.sent)instanceof Blob)){e.next=10;break}return e.next=7,(0,b.xh)(o,h);case 7:s=e.sent,e.next=11;break;case 10:s=(0,b.mh)(o,h);case 11:!i||window.confirm(Fi("alerts.confirmAddLibrary",{numShapes:s.length}))?(i&&n.app.focusContainer(),t(c?rc(n.currLibraryItems,s):s)):a(new b.tc),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),a(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}())}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,A.d)(this,"setLibrary",(function(e){var t=new Promise(function(){var t=(0,s.A)((0,l.A)().mark((function t(r,a){return(0,l.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.getLastUpdateTask();case 3:return"function"==typeof e&&(e=e(n.currLibraryItems)),t.t0=tc,t.next=7,e;case 7:t.t1=t.sent,n.currLibraryItems=(0,t.t0)(t.t1),r(n.currLibraryItems),t.next=15;break;case 12:t.prev=12,t.t2=t.catch(0),a(t.t2);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){if("AbortError"===e.name)return console.warn("Library update aborted by user"),n.currLibraryItems;throw e})).finally((function(){n.updateQueue=n.updateQueue.filter((function(e){return e!==t})),n.notifyListeners()}));return n.updateQueue.push(t),n.notifyListeners(),t})),this.app=t})),oc=ic,lc=function(e){var t,n=Math.ceil(Math.sqrt(e.length)),r=[],a=0,i=0,o=0,l=0,s=0,c=0,d=0,u=(0,U.A)(e);try{var f=function(){var u=t.value;s&&s%n===0&&(i+=o+50,a=0,c=0,d++),0===c&&(o=function(t){return e.slice(t*n,t*n+n).reduce((function(e,t){var n=(0,b.cj)(t.elements).height;return Math.max(e,n)}),0)}(d)),l=function(t){var r,a=0,i=0,o=0,l=(0,U.A)(e);try{for(l.s();!(r=l.n()).done;){var s=r.value;if(a%n===0&&(i=0),i===t){var c=(0,b.cj)(s.elements).width;o=Math.max(o,c)}a++,i++}}catch(d){l.e(d)}finally{l.f()}return o}(c);var f=(0,b.cj)(u.elements),h=f.minX,p=f.minY,m=f.width,y=f.height,x=(l-m)/2,w=(o-y)/2;r.push.apply(r,(0,g.A)(u.elements.map((function(e){return(0,v.A)((0,v.A)({},e),{},{x:e.x+a+x-h,y:e.y+i+w-p})})))),a+=l+50,s++,c++};for(u.s();!(t=u.n()).done;)f()}catch(h){u.e(h)}finally{u.f()}return r},sc=function(){function e(t){(0,f.A)(this,e),(0,A.d)(this,"adapter"),this.adapter=t}return(0,h.A)(e,[{key:"getLibraryItems",value:function(t){return e.getLibraryItems(this.adapter,t,!1)}}],[{key:"getLibraryItems",value:function(){var t=(0,s.A)((0,l.A)().mark((function t(n,r){var a,i,o=arguments;return(0,l.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!(o.length>2&&void 0!==o[2])||o[2],i=function(){return new Promise(function(){var e=(0,s.A)((0,l.A)().mark((function e(t,a){var i;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.load({source:r});case 3:i=e.sent,t((0,b.mh)((null===i||void 0===i?void 0:i.libraryItems)||[],"published")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}())},t.abrupt("return",a?e.queue.push(i):i());case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}])}();(0,A.d)(sc,"queue",new Qs),(0,A.d)(sc,"run",function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n){var r;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new sc(t),e.abrupt("return",sc.queue.push((function(){return n(r)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var cc=(0,r.forwardRef)((function(e,t){var n=e.children,r=e.gap,a=e.align,i=e.justifyContent,o=e.className,l=e.style;return(0,V.jsx)("div",{className:(0,le.A)("Stack Stack_horizontal",o),style:(0,v.A)({"--gap":r,alignItems:a,justifyContent:i},l),ref:t,children:n})})),dc=(0,r.forwardRef)((function(e,t){var n=e.children,r=e.gap,a=e.align,i=e.justifyContent,o=e.className,l=e.style;return(0,V.jsx)("div",{className:(0,le.A)("Stack Stack_vertical",o),style:(0,v.A)({"--gap":r,justifyItems:a,justifyContent:i},l),ref:t,children:n})})),uc={Row:cc,Col:dc},fc=function(e){var t=e.theme,n=e.id,r=e.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,V.jsx)("a",{className:"library-menu-browse-button",href:"".concat(y.a.VITE_APP_LIBRARY_URL,"?target=").concat(window.name||"_blank","&referrer=").concat(r,"&useHash=true&token=").concat(n,"&theme=").concat(t,"&version=").concat(b.qa.excalidrawLibrary),target:"_excalidraw_libraries",children:Fi("labels.libraries")})},hc=function(e){var t=e.libraryReturnUrl,n=e.theme,r=e.id,a=e.style,i=e.children,o=e.className;return(0,V.jsxs)("div",{className:(0,le.A)("library-menu-control-buttons",o),style:a,children:[(0,V.jsx)(fc,{id:r,libraryReturnUrl:t,theme:n}),i]})},pc=/({{[\w-]+}})|(<[\w-]+>)|(<\/[\w-]+>)/g,vc=/{{([\w-]+)}}/,Uc=/<([\w-]+)>/,mc=/<\/([\w-]+)>/,gc=function(e){var t=e.i18nKey,n=(e.children,(0,m.A)(e,Ya)),a=zi().t;return r.createElement.apply(r,[r.Fragment,{}].concat((0,g.A)(function(e,t){var n=[{name:"",children:[]}];return e.split(pc).filter(Boolean).forEach((function(a){var i=a.match(Uc),o=a.match(mc),l=a.match(vc);if(null!==i){var s=i[1];t.hasOwnProperty(s)?n.push({name:s,children:[]}):console.warn("Trans: missed to pass in prop ".concat(s," for interpolating ").concat(e))}else if(null!==o)if(o[1]===n[n.length-1].name){var c=n.pop(),d=r.createElement.apply(r,[r.Fragment,{}].concat((0,g.A)(c.children))),u=t[c.name];"function"==typeof u&&n[n.length-1].children.push(u(d))}else console.warn("Trans: unexpected end tag ".concat(a," for interpolating ").concat(e));else if(null!==l){var f=l[1];t.hasOwnProperty(f)?n[n.length-1].children.push(t[f]):console.warn("Trans: key ".concat(f," not in props for interpolating ").concat(e))}else n[n.length-1].children.push(a)})),1!==n.length&&console.warn("Trans: stack not empty for interpolating ".concat(e)),n[0].children}(a(t),n))))},bc=function(e){var t=e.label,n=e.onClick,r=e.className,a=e.children,i=e.actionType,o=e.type,l=void 0===o?"button":o,s=e.isLoading,c=(0,m.A)(e,Za),d=i?"Dialog__action-button--".concat(i):"";return(0,V.jsxs)("button",(0,v.A)((0,v.A)({className:(0,le.A)("Dialog__action-button",d,r),type:l,"aria-label":t,onClick:n},c),{},{children:[a&&(0,V.jsx)("div",{style:s?{visibility:"hidden"}:{},children:a}),(0,V.jsx)("div",{style:s?{visibility:"hidden"}:{},children:t}),s&&(0,V.jsx)("div",{style:{position:"absolute",inset:0},children:(0,V.jsx)(Bi,{})})]}))},yc=function(e){var t=e.onConfirm,n=e.onCancel,r=e.children,a=e.confirmText,i=void 0===a?Fi("buttons.confirm"):a,o=e.cancelText,l=void 0===o?Fi("buttons.cancel"):o,s=e.className,c=void 0===s?"":s,d=(0,m.A)(e,Ka),u=tv(),f=ki(Vc),h=Qp().container;return(0,V.jsxs)(Qc,(0,v.A)((0,v.A)({onCloseRequest:n,size:"small"},d),{},{className:"confirm-dialog ".concat(c),children:[r,(0,V.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,V.jsx)(bc,{label:l,onClick:function(){u({openMenu:null}),f(!1),(0,se.flushSync)((function(){n()})),null===h||void 0===h||h.focus()}}),(0,V.jsx)(bc,{label:i,onClick:function(){u({openMenu:null}),f(!1),(0,se.flushSync)((function(){t()})),null===h||void 0===h||h.focus()},actionType:"danger"})]})]}))},xc=function(){return(0,h.A)((function e(){(0,f.A)(this,e)}),null,[{key:"has",value:function(e){try{return!!window.localStorage.getItem(e)}catch(t){return console.warn("localStorage.getItem error: ".concat(t.message)),!1}}},{key:"get",value:function(e){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn("localStorage.getItem error: ".concat(t.message)),null}}}])}();(0,A.d)(xc,"set",(function(e,t){try{return window.localStorage.setItem(e,JSON.stringify(t)),!0}catch(n){return console.warn("localStorage.setItem error: ".concat(n.message)),!1}})),(0,A.d)(xc,"delete",(function(e){try{window.localStorage.removeItem(e)}catch(t){console.warn("localStorage.removeItem error: ".concat(t.message))}}));var wc=function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var n,r,a,i,o,s,d,u,f,h,p,v,m,g,y;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Math.round(8),r=Math.max(Math.round(2),2),a=(0,b.hb)(t,6),(i=document.createElement("canvas")).width=128*a[0].length+(a[0].length+1)*(2*n)-2*n,i.height=128*a.length+(a.length+1)*(2*n)-2*n,(o=i.getContext("2d")).fillStyle=Bn.white,o.fillRect(0,0,i.width,i.height),s=(0,U.A)(t.entries()),e.prev=5,s.s();case 7:if((d=s.n()).done){e.next=19;break}return u=(0,c.A)(d.value,2),f=u[0],h=u[1],e.next=11,(0,b.pi)({elements:h.elements,files:null,maxWidthOrHeight:128});case 11:p=e.sent,v=p.width,m=p.height,g=Math.floor(f/6)*(128+2*n),y=f%6*(128+2*n),o.drawImage(p,y+(128-v)/2+n,g+(128-m)/2+n),o.lineWidth=r,o.strokeStyle=Bn.gray[4],o.strokeRect(y+n/2,g+n/2,128+n,128+n);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(5),s.e(e.t0);case 24:return e.prev=24,s.f(),e.finish(24);case 27:return e.t1=b.Eh,e.t2=File,e.next=31,(0,b.yh)(i);case 31:return e.t3=e.sent,e.t4=[e.t3],e.t5={type:b.T.png},e.t6=new e.t2(e.t4,"preview",e.t5),e.t7={outputType:b.T.jpg,maxWidthOrHeight:5e3},e.next=38,(0,e.t1)(e.t6,e.t7);case 38:return e.abrupt("return",e.sent);case 39:case"end":return e.stop()}}),e,null,[[5,21,24,27]])})));return function(t){return e.apply(this,arguments)}}(),Ac=function(e){var t=e.libItem,n=e.appState,a=e.index,i=e.onChange,o=e.onRemove,c=(0,r.useRef)(null),d=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=c.current;e&&(0,s.A)((0,l.A)().mark((function r(){var a;return(0,l.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,b.ri)({elements:t.elements,appState:(0,v.A)((0,v.A)({},n),{},{viewBackgroundColor:Bn.white,exportBackground:!0}),files:null,skipInliningFonts:!0});case 2:a=r.sent,e.innerHTML=a.outerHTML;case 4:case"end":return r.stop()}}),r)})))()}),[t.elements,n]),(0,V.jsxs)("div",{className:"single-library-item",children:["published"===t.status&&(0,V.jsx)("span",{className:"single-library-item-status",children:Fi("labels.statusPublished")}),(0,V.jsx)("div",{ref:c,className:"single-library-item__svg"}),(0,V.jsx)(Xi,{"aria-label":Fi("buttons.remove"),type:"button",icon:b.ge,className:"single-library-item--remove",onClick:o.bind(null,t.id),title:Fi("buttons.remove")}),(0,V.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,V.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,V.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,V.jsx)("span",{style:{fontWeight:500,color:Bn.gray[6]},children:Fi("publishDialog.itemName")}),(0,V.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,V.jsx)("input",{type:"text",ref:d,style:{width:"80%",padding:"0.2rem"},defaultValue:t.name,placeholder:"Item name",onChange:function(e){i(e.target.value,a)}})]}),(0,V.jsx)("span",{className:"error",children:t.error})]})]})},Ec=function(e){var t=e.onClose,n=e.libraryItems,a=e.appState,i=e.onSuccess,o=e.onError,d=e.updateItemsInStorage,u=e.onRemove,f=(0,r.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),h=(0,c.A)(f,2),U=h[0],m=h[1],g=(0,r.useState)(!1),x=(0,c.A)(g,2),w=x[0],A=x[1];(0,r.useEffect)((function(){var e=xc.get(b.Ba.PUBLISH_LIBRARY);e&&m(e)}),[]);var E=(0,r.useState)(n.slice()),k=(0,c.A)(E,2),S=k[0],M=k[1];(0,r.useEffect)((function(){M(n.slice())}),[n]);var C=function(e){m((0,v.A)((0,v.A)({},U),{},(0,p.default)({},e.target.name,e.target.value)))},j=function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var n,r,a,s,c,d,u;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),A(!0),n=[],r=!1,S.forEach((function(e){var t="";e.name||(t=Fi("publishDialog.errors.required"),r=!0),n.push((0,v.A)((0,v.A)({},e),{},{error:t}))})),!r){e.next=5;break}return M(n),A(!1),e.abrupt("return");case 5:return e.next=7,wc(S);case 7:a=e.sent,s={type:b.V.excalidrawLibrary,version:b.qa.excalidrawLibrary,source:b.W,libraryItems:S},c=JSON.stringify(s,null,2),d=new Blob([c],{type:"application/json"}),(u=new FormData).append("excalidrawLib",d),u.append("previewImage",a),u.append("previewImageType",a.type),u.append("title",U.name),u.append("authorName",U.authorName),u.append("githubHandle",U.githubHandle),u.append("name",U.name),u.append("description",U.description),u.append("twitterHandle",U.twitterHandle),u.append("website",U.website),fetch("".concat(y.a.VITE_APP_LIBRARY_BACKEND,"/submit"),{method:"post",body:u}).then((function(e){return e.ok?e.json().then((function(e){var t=e.url;xc.delete(b.Ba.PUBLISH_LIBRARY),i({url:t,authorName:U.authorName,items:S})})):e.json().catch((function(){throw new Error(e.statusText||"something went wrong")})).then((function(t){throw new Error(t.message||e.statusText||"something went wrong")}))}),(function(e){console.error(e),o(e),A(!1)})).catch((function(e){console.error(e),o(e),A(!1)}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=(0,r.useCallback)((function(){d(S),xc.set(b.Ba.PUBLISH_LIBRARY,U),t()}),[S,t,d,U]),D=!!n.length,T=n.some((function(e){return"published"===e.status}));return(0,V.jsx)(Qc,{onCloseRequest:I,title:Fi("publishDialog.title"),className:"publish-library",children:D?(0,V.jsxs)("form",{onSubmit:j,children:[(0,V.jsx)("div",{className:"publish-library-note",children:(0,V.jsx)(gc,{i18nKey:"publishDialog.noteDescription",link:function(e){return(0,V.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:e})}})}),(0,V.jsx)("span",{className:"publish-library-note",children:(0,V.jsx)(gc,{i18nKey:"publishDialog.noteGuidelines",link:function(e){return(0,V.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:e})}})}),(0,V.jsx)("div",{className:"publish-library-note",children:Fi("publishDialog.noteItems")}),T&&(0,V.jsx)("span",{className:"publish-library-note publish-library-warning",children:Fi("publishDialog.republishWarning")}),function(){var e=[];return S.forEach((function(t,n){e.push((0,V.jsx)("div",{className:"single-library-item-wrapper",children:(0,V.jsx)(Ac,{libItem:t,appState:a,index:n,onChange:function(e,t){var n=S.slice();n[t].name=e,M(n)},onRemove:u})},n))})),(0,V.jsx)("div",{className:"selected-library-items",children:e})}(),(0,V.jsxs)("div",{className:"publish-library__fields",children:[(0,V.jsxs)("label",{children:[(0,V.jsxs)("div",{children:[(0,V.jsx)("span",{children:Fi("publishDialog.libraryName")}),(0,V.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,V.jsx)("input",{type:"text",name:"name",required:!0,value:U.name,onChange:C,placeholder:Fi("publishDialog.placeholder.libraryName")})]}),(0,V.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,V.jsxs)("div",{children:[(0,V.jsx)("span",{children:Fi("publishDialog.libraryDesc")}),(0,V.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,V.jsx)("textarea",{name:"description",rows:4,required:!0,value:U.description,onChange:C,placeholder:Fi("publishDialog.placeholder.libraryDesc")})]}),(0,V.jsxs)("label",{children:[(0,V.jsxs)("div",{children:[(0,V.jsx)("span",{children:Fi("publishDialog.authorName")}),(0,V.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,V.jsx)("input",{type:"text",name:"authorName",required:!0,value:U.authorName,onChange:C,placeholder:Fi("publishDialog.placeholder.authorName")})]}),(0,V.jsxs)("label",{children:[(0,V.jsx)("span",{children:Fi("publishDialog.githubUsername")}),(0,V.jsx)("input",{type:"text",name:"githubHandle",value:U.githubHandle,onChange:C,placeholder:Fi("publishDialog.placeholder.githubHandle")})]}),(0,V.jsxs)("label",{children:[(0,V.jsx)("span",{children:Fi("publishDialog.twitterUsername")}),(0,V.jsx)("input",{type:"text",name:"twitterHandle",value:U.twitterHandle,onChange:C,placeholder:Fi("publishDialog.placeholder.twitterHandle")})]}),(0,V.jsxs)("label",{children:[(0,V.jsx)("span",{children:Fi("publishDialog.website")}),(0,V.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:Fi("publishDialog.errors.website"),value:U.website,onChange:C,placeholder:Fi("publishDialog.placeholder.website")})]}),(0,V.jsx)("span",{className:"publish-library-note",children:(0,V.jsx)(gc,{i18nKey:"publishDialog.noteLicense",link:function(e){return(0,V.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:e})}})})]}),(0,V.jsxs)("div",{className:"publish-library__buttons",children:[(0,V.jsx)(bc,{label:Fi("buttons.cancel"),onClick:I,"data-testid":"cancel-clear-canvas-button"}),(0,V.jsx)(bc,{type:"submit",label:Fi("buttons.submit"),actionType:"primary",isLoading:w})]})]}):(0,V.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:Fi("publishDialog.atleastOneLibItem")})})},kc=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,a=e.onToggle,i=e.title,o=(0,m.A)(e,qa),l=$p(),s=(0,le.A)("dropdown-menu-button ".concat(n),"zen-mode-transition",{"dropdown-menu-button--mobile":l.editor.isMobile}).trim();return(0,V.jsx)("button",(0,v.A)((0,v.A)({"data-prevent-outside-click":!0,className:s,onClick:a,type:"button","data-testid":"dropdown-menu-button",title:i},o),{},{children:r}))},Sc=kc;kc.displayName="DropdownMenuTrigger";var Mc=function(){return(0,V.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},Cc=Mc;Mc.displayName="DropdownMenuSeparator";var jc=function(e){var t=e.children,n=e.onClickOutside,a=e.className,i=void 0===a?"":a,o=e.onSelect,l=e.style,s=$p(),c=(0,r.useRef)(null),d=Fo({onClickOutside:n});No(c,(function(){var e;null===(e=d.onClickOutside)||void 0===e||e.call(d)})),(0,r.useEffect)((function(){var e=function(e){var t;e.key===b.hg.ESCAPE&&(e.stopImmediatePropagation(),null===(t=d.onClickOutside)||void 0===t||t.call(d))},t={capture:!0};return document.addEventListener("keydown",e,t),function(){document.removeEventListener("keydown",e,t)}}),[d]);var u=(0,le.A)("dropdown-menu ".concat(i),{"dropdown-menu--mobile":s.editor.isMobile}).trim();return(0,V.jsx)(al.Provider,{value:{onSelect:o},children:(0,V.jsx)("div",{ref:c,className:u,style:l,"data-testid":"dropdown-menu",children:s.editor.isMobile?(0,V.jsx)(uc.Col,{className:"dropdown-menu-container",children:t}):(0,V.jsx)(Ho,{className:"dropdown-menu-container",padding:2,style:{zIndex:2},children:t})})})};jc.displayName="DropdownMenuContent";var Ic=jc,Dc=function(e){var t,n=e.icon,r=e.shortcut,a=e.href,i=e.children,o=e.onSelect,l=e.className,s=void 0===l?"":l,c=e.selected,d=(e.rel,(0,m.A)(e,$a)),u=ol(d.onClick,o);return(0,V.jsx)("a",(0,v.A)((0,v.A)({},d),{},{href:a,target:"_blank",rel:"noreferrer",className:il(s,c),title:null!==(t=d.title)&&void 0!==t?t:d["aria-label"],onClick:u,children:(0,V.jsx)(ll,{icon:n,shortcut:r,children:i})}))},Tc=Dc;Dc.displayName="DropdownMenuItemLink";var _c=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,a=e.selected,i=(0,m.A)(e,Qa);return(0,V.jsx)("div",(0,v.A)((0,v.A)({},i),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(r," ").concat(a?"dropdown-menu-item--selected":"").trim(),children:t}))},Lc=function(e){var t=e.children,n=e.open,a=function(e){return r.Children.toArray(e).find((function(e){return r.isValidElement(e)&&"string"!=typeof e.type&&(null===e||void 0===e?void 0:e.type.displayName)&&"DropdownMenuTrigger"===e.type.displayName}))||null}(t),i=function(e){return r.Children.toArray(e).find((function(e){return r.isValidElement(e)&&"string"!=typeof e.type&&(null===e||void 0===e?void 0:e.type.displayName)&&"DropdownMenuContent"===e.type.displayName}))||null}(t);return(0,V.jsxs)(V.Fragment,{children:[a,n&&i]})};Lc.Trigger=Sc,Lc.Content=Ic,Lc.Item=hl,Lc.ItemLink=Tc,Lc.ItemCustom=_c,Lc.Group=rl,Lc.Separator=Cc;var Rc=Lc;Lc.displayName="DropdownMenu";var Pc=function(e,t){return e.filter((function(e){return t.includes(e.id)}))},Nc=function(e){var t=e.setAppState,n=e.selectedItems,a=e.library,i=e.onRemoveFromLibrary,o=e.resetLibrary,d=e.onSelectItems,u=e.appState,f=e.className,h=Ei(ec),p=(0,c.A)(h,1)[0],v=Ei(Vc),U=(0,c.A)(v,2),m=U[0],g=U[1],y=(0,r.useState)(!1),x=(0,c.A)(y,2),w=x[0],A=x[1],E=!!n.length,k=E?p.libraryItems.filter((function(e){return n.includes(e.id)})):p.libraryItems,S=Fi(E?"buttons.remove":"buttons.resetLibrary"),M=(0,r.useState)(!1),C=(0,c.A)(M,2),j=C[0],I=C[1],D=(0,r.useState)(null),T=(0,c.A)(D,2),_=T[0],L=T[1],R=(0,r.useCallback)((function(){return(0,V.jsxs)(Qc,{onCloseRequest:function(){return L(null)},title:Fi("publishSuccessDialog.title"),className:"publish-library-success",size:"small",children:[(0,V.jsx)("p",{children:(0,V.jsx)(gc,{i18nKey:"publishSuccessDialog.content",authorName:_.authorName,link:function(e){return(0,V.jsx)("a",{href:null===_||void 0===_?void 0:_.url,target:"_blank",rel:"noopener noreferrer",children:e})}})}),(0,V.jsx)(Xi,{type:"button",title:Fi("buttons.close"),"aria-label":Fi("buttons.close"),label:Fi("buttons.close"),onClick:function(){return L(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})}),[L,_]),P=function(){var e=(0,s.A)((0,l.A)().mark((function e(){return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.updateLibrary({libraryItems:(0,b.fh)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)){e.next=10;break}return console.warn(e.t0),e.abrupt("return");case 10:t({errorMessage:Fi("errors.importLibraryError")});case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,s.A)((0,l.A)().mark((function e(){var n;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=4;break}e.t0=k,e.next=7;break;case 4:return e.next=6,a.getLatestLibrary();case 6:e.t0=e.sent;case 7:n=e.t0,(0,b.Nh)(n).catch(b.pb).catch((function(e){t({errorMessage:e.message})}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,V.jsxs)("div",{className:(0,le.A)("library-menu-dropdown-container",f),children:[(0,V.jsxs)(Rc,{open:m,children:[(0,V.jsx)(Rc.Trigger,{onToggle:function(){return g(!m)},children:b.hd}),(0,V.jsxs)(Rc.Content,{onClickOutside:function(){return g(!1)},onSelect:function(){return g(!1)},className:"library-menu",children:[!E&&(0,V.jsx)(Rc.Item,{onSelect:P,icon:b.Ld,"data-testid":"lib-dropdown--load",children:Fi("buttons.load")}),!!k.length&&(0,V.jsx)(Rc.Item,{onSelect:N,icon:b.Ad,"data-testid":"lib-dropdown--export",children:Fi("buttons.export")}),!!k.length&&(0,V.jsx)(Rc.Item,{onSelect:function(){return A(!0)},icon:b.ud,children:S}),E&&(0,V.jsx)(Rc.Item,{icon:b.Xe,onSelect:function(){return I(!0)},"data-testid":"lib-dropdown--remove",children:Fi("buttons.publishLibrary")})]})]}),n.length>0&&(0,V.jsx)("div",{className:"library-actions-counter",children:n.length}),w&&function(){var e=n.length?Fi("alerts.removeItemsFromsLibrary",{count:n.length}):Fi("alerts.resetLibrary"),t=n.length?Fi("confirmDialog.removeItemsFromLib"):Fi("confirmDialog.resetLibrary");return(0,V.jsx)(yc,{onConfirm:function(){n.length?i():o(),A(!1)},onCancel:function(){A(!1)},title:t,children:(0,V.jsx)("p",{children:e})})}(),j&&(0,V.jsx)(Ec,{onClose:function(){return I(!1)},libraryItems:Pc(p.libraryItems,n),appState:u,onSuccess:function(e){return function(e,t){I(!1),L({url:e.url,authorName:e.authorName});var r=t.slice();r.forEach((function(e){n.includes(e.id)&&(e.status="published")})),a.setLibrary(r)}(e,p.libraryItems)},onError:function(e){return window.alert(e)},updateItemsInStorage:function(){return a.setLibrary(p.libraryItems)},onRemove:function(e){return d(n.filter((function(t){return t!==e})))}}),_&&R()]})},Fc=function(e){var t=e.selectedItems,n=e.onSelectItems,r=e.className,a=Kp().library,i=$s(),o=i.clearLibraryCache,d=i.deleteItemsFromLibraryCache,u=Ro(),f=tv(),h=Ei(ec),p=(0,c.A)(h,1)[0],v=function(){var e=(0,s.A)((0,l.A)().mark((function e(r){var i;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.filter((function(e){return!t.includes(e.id)})),a.setLibrary(i).catch((function(){f({errorMessage:Fi("alerts.errorRemovingFromLibrary")})})),d(t),n([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,V.jsx)(Nc,{appState:u,setAppState:f,selectedItems:t,onSelectItems:n,library:a,onRemoveFromLibrary:function(){return v(p.libraryItems)},resetLibrary:function(){a.resetLibrary(),o()},className:r})},Oc=(0,r.memo)((function(e){var t=e.id,n=e.elements,a=e.isPending,i=e.onClick,o=e.selected,d=e.onToggle,u=e.onDrag,f=e.svgCache,h=(0,r.useRef)(null),p=function(e,t,n){var a=(0,r.useState)(),i=(0,c.A)(a,2),o=i[0],d=i[1];return(0,r.useEffect)((function(){if(t)if(e){var r=n.get(e);r?d(r):(0,s.A)((0,l.A)().mark((function r(){var a,i;return(0,l.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,qs(t);case 2:i=r.sent,null!==(a=i.querySelector(".style-fonts"))&&void 0!==a&&a.remove(),i&&(n.set(e,i),d(i));case 4:case"end":return r.stop()}}),r)})))()}else(0,s.A)((0,l.A)().mark((function e(){var n;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qs(t);case 2:n=e.sent,d(n);case 4:case"end":return e.stop()}}),e)})))()}),[e,t,n,d]),o}(t,n,f);(0,r.useEffect)((function(){var e=h.current;if(e)return p&&(e.innerHTML=p.outerHTML),function(){e.innerHTML=""}}),[p]);var v=(0,r.useState)(!1),U=(0,c.A)(v,2),m=U[0],g=U[1],y=$p().editor.isMobile,x=a&&(0,V.jsx)("div",{className:"library-unit__adder",children:b.gd});return(0,V.jsxs)("div",{className:(0,le.A)("library-unit",{"library-unit__active":n,"library-unit--hover":n&&m,"library-unit--selected":o,"library-unit--skeleton":!p}),onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},children:[(0,V.jsx)("div",{className:(0,le.A)("library-unit__dragger",{"library-unit__pulse":!!a}),ref:h,draggable:!!n,onClick:n||a?function(e){t&&e.shiftKey?d(t,e):i(t)}:void 0,onDragStart:function(e){t?(g(!1),u(t,e)):e.preventDefault()}}),x,t&&n&&(m||y||o)&&(0,V.jsx)(Vl,{checked:o,onChange:function(e,n){return d(t,n)},className:"library-unit__checkbox"})]})})),zc=function(){return(0,V.jsx)("div",{className:"library-unit library-unit--skeleton"})};var Bc=r.useTransition||function(){return[!1,(0,r.useCallback)((function(e){return e()}),[])]},Hc=function(e){var t=e.children;return(0,V.jsx)("div",{className:"library-menu-items-container__grid",children:t})},Wc=(0,r.memo)((function(e){var t=e.items,n=e.onItemSelectToggle,a=e.onItemDrag,i=e.isItemSelected,o=e.onClick,l=e.svgCache,s=e.itemsRenderedPerBatch,d=Bc(),u=(0,c.A)(d,2)[1],f=(0,r.useState)(0),h=(0,c.A)(f,2),p=h[0],v=h[1];return(0,r.useEffect)((function(){p<t.length&&u((function(){v(p+s)}))}),[p,t.length,u,s]),(0,V.jsx)(V.Fragment,{children:t.map((function(e,t){var r;return t<p?(0,V.jsx)(Oc,{elements:null===e||void 0===e?void 0:e.elements,isPending:!(null!==e&&void 0!==e&&e.id)&&!(null===e||void 0===e||!e.elements),onClick:o,svgCache:l,id:null===e||void 0===e?void 0:e.id,selected:i(e.id),onToggle:n,onDrag:a},null!==(r=null===e||void 0===e?void 0:e.id)&&void 0!==r?r:t):(0,V.jsx)(zc,{},t)}))})})),Xc=k(0);function Gc(e){var t=e.isLoading,n=e.libraryItems,a=e.onAddToLibrary,i=e.onInsertLibraryItems,o=e.pendingElements,l=e.theme,s=e.id,d=e.libraryReturnUrl,u=e.onSelectItems,f=e.selectedItems,h=(0,r.useRef)(null),p=function(e){var t=Ei(Xc),n=(0,c.A)(t,2),a=n[0],i=n[1];return(0,r.useEffect)((function(){var t=e.current;if(t){var n=Hn((function(){var e=t.scrollTop;i(e)}),200);return t.addEventListener("scroll",n),function(){n.cancel(),t.removeEventListener("scroll",n)}}}),[e,i]),a}(h);(0,r.useEffect)((function(){var e;p>0&&(null===(e=h.current)||void 0===e||e.scrollTo(0,p))}),[]);var U=$s().svgCache,m=(0,r.useMemo)((function(){return n.filter((function(e){return"published"!==e.status}))}),[n]),y=(0,r.useMemo)((function(){return n.filter((function(e){return"published"===e.status}))}),[n]),x=!n.length&&!o.length,w=!o.length&&!m.length&&!y.length,A=(0,r.useState)(null),E=(0,c.A)(A,2),k=E[0],S=E[1],M=(0,r.useCallback)((function(e,t){var n=!f.includes(e),r=[].concat((0,g.A)(m),(0,g.A)(y));if(n){if(t.shiftKey&&k){var a=r.findIndex((function(e){return e.id===k})),i=r.findIndex((function(t){return t.id===e}));if(-1===a||-1===i)return void u([].concat((0,g.A)(f),[e]));var o=(0,b.xb)(f),l=r.reduce((function(e,t,n){return(n>=a&&n<=i||o.has(t.id))&&e.push(t.id),e}),[]);u(l)}else u([].concat((0,g.A)(f),[e]));S(e)}else S(null),u(f.filter((function(t){return t!==e})))}),[k,u,y,f,m]),C=(0,r.useCallback)((function(e){return(f.includes(e)?n.filter((function(e){return f.includes(e.id)})):n.filter((function(t){return t.id===e}))).map((function(e){return(0,v.A)((0,v.A)({},e),{},{elements:(0,b.dg)(e.elements,{randomizeSeed:!0})})}))}),[n,f]),j=(0,r.useCallback)((function(e,t){t.dataTransfer.setData(b.T.excalidrawlib,(0,b.Mh)(C(e)))}),[C]),I=(0,r.useCallback)((function(e){return!!e&&f.includes(e)}),[f]),D=(0,r.useCallback)((function(){a(o)}),[o,a]),T=(0,r.useCallback)((function(e){e&&i(C(e))}),[C,i]),_=U.size>=n.length?64:17;return(0,V.jsxs)("div",{className:"library-menu-items-container",style:o.length||m.length||y.length?{justifyContent:"flex-start"}:{borderBottom:0},children:[!w&&(0,V.jsx)(Fc,{selectedItems:f,onSelectItems:u,className:"library-menu-dropdown-container--in-heading"}),(0,V.jsxs)(uc.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:y.length>0?1:"0 1 auto",marginBottom:0},ref:h,children:[(0,V.jsxs)(V.Fragment,{children:[!w&&(0,V.jsx)("div",{className:"library-menu-items-container__header",children:Fi("labels.personalLib")}),t&&(0,V.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,V.jsx)(Bi,{})}),o.length||m.length?(0,V.jsxs)(Hc,{children:[o.length>0&&(0,V.jsx)(Wc,{itemsRenderedPerBatch:_,items:[{id:null,elements:o}],onItemSelectToggle:M,onItemDrag:j,onClick:D,isItemSelected:I,svgCache:U}),(0,V.jsx)(Wc,{itemsRenderedPerBatch:_,items:m,onItemSelectToggle:M,onItemDrag:j,onClick:T,isItemSelected:I,svgCache:U})]}):(0,V.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,V.jsx)("div",{className:"library-menu-items__no-items__label",children:Fi("library.noItems")}),(0,V.jsx)("div",{className:"library-menu-items__no-items__hint",children:y.length>0?Fi("library.hint_emptyPrivateLibrary"):Fi("library.hint_emptyLibrary")})]})]}),(0,V.jsxs)(V.Fragment,{children:[(y.length>0||o.length>0||m.length>0)&&(0,V.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:Fi("labels.excalidrawLib")}),y.length>0?(0,V.jsx)(Hc,{children:(0,V.jsx)(Wc,{itemsRenderedPerBatch:_,items:y,onItemSelectToggle:M,onItemDrag:j,onClick:T,isItemSelected:I,svgCache:U})}):m.length>0?(0,V.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:Fi("library.noItems")}):null]}),x&&(0,V.jsx)(hc,{style:{padding:"16px 0",width:"100%"},id:s,libraryReturnUrl:d,theme:l,children:(0,V.jsx)(Fc,{selectedItems:f,onSelectItems:u})})]})]})}var Vc=k(!1),Yc=function(e){var t=e.children;return(0,V.jsx)("div",{className:"layer-ui__library",children:t})},Zc=(0,r.memo)((function(e){var t=e.onInsertLibraryItems,n=e.pendingElements,a=e.onAddToLibrary,i=e.setAppState,o=e.libraryReturnUrl,d=e.library,u=e.id,f=e.theme,h=e.selectedItems,p=e.onSelectItems,v=Ei(ec),m=(0,c.A)(v,1)[0],y=(0,r.useCallback)((function(e){!function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n){var r,o,s,c,u;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vo("element","addToLibrary","ui"),r=(0,U.A)(b.za),e.prev=2,s=(0,l.A)().mark((function e(){var n;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.value,!t.some((function(e){return e.type===n}))){e.next=3;break}return e.abrupt("return",{v:i({errorMessage:Fi("errors.libraryElementTypeError.".concat(n))})});case 3:case"end":return e.stop()}}),e)})),r.s();case 5:if((o=r.n()).done){e.next=12;break}return e.delegateYield(s(),"t0",7);case 7:if(!(c=e.t0)){e.next=10;break}return e.abrupt("return",c.v);case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(2),r.e(e.t1);case 17:return e.prev=17,r.f(),e.finish(17);case 20:u=[{status:"unpublished",elements:t,id:(0,b.sc)(),created:Date.now()}].concat((0,g.A)(n)),a(),d.setLibrary(u).catch((function(){i({errorMessage:Fi("alerts.errorAddingToLibrary")})}));case 22:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}()(e,m.libraryItems)}),[a,d,i,m.libraryItems]),x=(0,r.useMemo)((function(){return m.libraryItems}),[m]);if("loading"===m.status&&!m.isInitialized)return(0,V.jsx)(Yc,{children:(0,V.jsx)("div",{className:"layer-ui__library-message",children:(0,V.jsxs)("div",{children:[(0,V.jsx)(Bi,{size:"2em"}),(0,V.jsx)("span",{children:Fi("labels.libraryLoadingMessage")})]})})});var w=m.libraryItems.length>0||n.length>0;return(0,V.jsxs)(Yc,{children:[(0,V.jsx)(Gc,{isLoading:"loading"===m.status,libraryItems:x,onAddToLibrary:y,onInsertLibraryItems:t,pendingElements:n,id:u,libraryReturnUrl:o,theme:f,onSelectItems:p,selectedItems:h}),w&&(0,V.jsx)(hc,{className:"library-menu-control-buttons--at-bottom",style:{padding:"16px 12px 0 12px"},id:u,libraryReturnUrl:o,theme:f})]})})),Kc=function(e,t){return{elements:e,pending:(0,b.vk)(e,{selectedElementIds:t},{includeBoundTextElement:!0,includeElementsInFrames:!0}),selectedElementIds:t}},qc=(0,r.memo)((function(){var e=Kp(),t=e.onInsertElements,n=qp(),a=Ro(),i=tv(),o=(0,r.useState)([]),l=(0,c.A)(o,2),s=l[0],d=l[1],u=(0,r.useMemo)((function(){return e.library}),[e.library]),f=function(e,t){var n=Jp(),a=(0,r.useState)((function(){return Kc(n,e.selectedElementIds)})),i=(0,c.A)(a,2),o=i[0],l=i[1],s=(0,r.useRef)(new Map);return(0,r.useEffect)((function(){var e,t=(0,U.A)(o.pending);try{for(t.s();!(e=t.n()).done;){var n=e.value;s.current.set(n.id,n.version)}}catch(r){t.e(r)}finally{t.f()}}),[o.pending]),(0,r.useEffect)((function(){"up"===t.state.cursorButton&&"selection"===t.state.activeTool.type&&l((function(r){if(!(0,b.Hb)(r.selectedElementIds,e.selectedElementIds))return s.current.clear(),Kc(n,e.selectedElementIds);for(var a=t.scene.getNonDeletedElementsMap(),i=0,o=Object.keys(e.selectedElementIds);i<o.length;i++){var l,c=o[i],d=null===(l=a.get(c))||void 0===l?void 0:l.version;if(d&&d!==s.current.get(c))return Kc(n,e.selectedElementIds)}return r}))}),[t,t.state.cursorButton,t.state.activeTool.type,e.selectedElementIds,n]),o.pending}(a,e),h=(0,r.useCallback)((function(e){t(lc(e))}),[t]),p=(0,r.useCallback)((function(){i({selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null})}),[i]);return(0,V.jsx)(Zc,{pendingElements:f,onInsertLibraryItems:h,onAddToLibrary:p,setAppState:i,libraryReturnUrl:n.libraryReturnUrl,library:u,id:e.id,theme:a.theme,selectedItems:s,onSelectItems:d})}));function $c(e){if(e&&"number"==typeof e)return e;switch(e){case"small":return 550;case"wide":return 1024;default:return 800}}var Qc=function(e){var t=function(){var e=(0,r.useState)(null),t=(0,c.A)(e,2),n=t[0],a=t[1];return[n,(0,r.useCallback)((function(e){return a(e)}),[])]}(),n=(0,c.A)(t,2),a=n[0],i=n[1],o=(0,r.useState)(document.activeElement),l=(0,c.A)(o,1)[0],s=Qp().id,d=$p().viewport.isMobile;(0,r.useEffect)((function(){if(a){var t=(0,b.Gb)(a);setTimeout((function(){t.length>0&&!1!==e.autofocus&&(t[1]||t[0]).focus()}));var n=function(e){if(e.key===b.hg.TAB){var t=(0,b.Gb)(a),n=document.activeElement,r=t.findIndex((function(e){return e===n}));0===r&&e.shiftKey?(t[t.length-1].focus(),e.preventDefault()):r===t.length-1&&!e.shiftKey&&(t[0].focus(),e.preventDefault())}};return a.addEventListener("keydown",n),function(){return a.removeEventListener("keydown",n)}}}),[a,e.autofocus]);var u=tv(),f=ki(Vc),h=function(){u({openMenu:null}),f(!1),l.focus(),e.onCloseRequest()};return(0,V.jsx)(Zs,{className:(0,le.A)("Dialog",e.className,{"Dialog--fullscreen":d}),labelledBy:"dialog-title",maxWidth:$c(e.size),onCloseRequest:h,closeOnClickOutside:e.closeOnClickOutside,children:(0,V.jsxs)(Ho,{ref:i,children:[e.title&&(0,V.jsx)("h2",{id:"".concat(s,"-dialog-title"),className:"Dialog__title",children:(0,V.jsx)("span",{className:"Dialog__titleContent",children:e.title})}),d&&(0,V.jsx)("button",{className:"Dialog__close",onClick:h,title:Fi("buttons.close"),"aria-label":Fi("buttons.close"),type:"button",children:b.ge}),(0,V.jsx)("div",{className:"Dialog__content",children:e.children})]})})},Jc=function(e){var t=e.type,n=void 0===t?"button":t,r=e.onSelect,a=e.selected,i=e.children,o=e.className,l=void 0===o?"":o,s=(0,m.A)(e,Ja);return(0,V.jsx)("button",(0,v.A)((0,v.A)({onClick:(0,b.Ib)(s.onClick,(function(e){r()})),type:n,className:(0,le.A)("excalidraw-button",l,{selected:a})},s),{},{children:i}))},ed=(0,r.forwardRef)((function(e,t){var n=e.onChange,a=e.label,i=e.fullWidth,o=e.placeholder,l=e.readonly,s=e.selectOnRender,d=e.onKeyDown,u=e.isRedacted,f=void 0!==u&&u,h=e.icon,p=e.className,v=(0,m.A)(e,ei),U=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return U.current})),(0,r.useLayoutEffect)((function(){var e,t;s&&(null!==(e=U.current)&&void 0!==e&&e.focus(),null===(t=U.current)||void 0===t||t.select())}),[s]);var g=(0,r.useState)(!1),y=(0,c.A)(g,2),x=y[0],w=y[1];return(0,V.jsxs)("div",{className:(0,le.A)("ExcTextField",p,{"ExcTextField--fullWidth":i,"ExcTextField--hasIcon":!!h}),onClick:function(){var e;null===(e=U.current)||void 0===e||e.focus()},children:[h,a&&(0,V.jsx)("div",{className:"ExcTextField__label",children:a}),(0,V.jsxs)("div",{className:(0,le.A)("ExcTextField__input",{"ExcTextField__input--readonly":l}),children:[(0,V.jsx)("input",{className:(0,le.A)({"is-redacted":"value"in v&&v.value&&f&&!x}),readOnly:l,value:"value"in v?v.value:void 0,defaultValue:"defaultValue"in v?v.defaultValue:void 0,placeholder:o,ref:U,onChange:function(e){return null===n||void 0===n?void 0:n(e.target.value)},onKeyDown:d}),f&&(0,V.jsx)(Jc,{onSelect:function(){return w(!x)},style:{border:0,userSelect:"none"},children:x?b.mf:b.lf})]})]})})),td={toggleTheme:[(0,b.kb)("Shift+Alt+D")],saveScene:[(0,b.kb)("CtrlOrCmd+S")],loadScene:[(0,b.kb)("CtrlOrCmd+O")],clearCanvas:[(0,b.kb)("CtrlOrCmd+Delete")],imageExport:[(0,b.kb)("CtrlOrCmd+Shift+E")],commandPalette:[(0,b.kb)("CtrlOrCmd+/"),(0,b.kb)("CtrlOrCmd+Shift+P")],cut:[(0,b.kb)("CtrlOrCmd+X")],copy:[(0,b.kb)("CtrlOrCmd+C")],paste:[(0,b.kb)("CtrlOrCmd+V")],copyStyles:[(0,b.kb)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,b.kb)("CtrlOrCmd+Alt+V")],selectAll:[(0,b.kb)("CtrlOrCmd+A")],deleteSelectedElements:[(0,b.kb)("Delete")],duplicateSelection:[(0,b.kb)("CtrlOrCmd+D"),(0,b.kb)("Alt+".concat(Fi("helpDialog.drag")))],sendBackward:[(0,b.kb)("CtrlOrCmd+[")],bringForward:[(0,b.kb)("CtrlOrCmd+]")],sendToBack:[b.l?(0,b.kb)("CtrlOrCmd+Alt+["):(0,b.kb)("CtrlOrCmd+Shift+[")],bringToFront:[b.l?(0,b.kb)("CtrlOrCmd+Alt+]"):(0,b.kb)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,b.kb)("Shift+Alt+C")],group:[(0,b.kb)("CtrlOrCmd+G")],ungroup:[(0,b.kb)("CtrlOrCmd+Shift+G")],gridMode:[(0,b.kb)("CtrlOrCmd+'")],zenMode:[(0,b.kb)("Alt+Z")],objectsSnapMode:[(0,b.kb)("Alt+S")],stats:[(0,b.kb)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,b.kb)("Shift+H")],flipVertical:[(0,b.kb)("Shift+V")],viewMode:[(0,b.kb)("Alt+R")],hyperlink:[(0,b.kb)("CtrlOrCmd+K")],toggleElementLock:[(0,b.kb)("CtrlOrCmd+Shift+L")],resetZoom:[(0,b.kb)("CtrlOrCmd+0")],zoomOut:[(0,b.kb)("CtrlOrCmd+-")],zoomIn:[(0,b.kb)("CtrlOrCmd++")],zoomToFitSelection:[(0,b.kb)("Shift+3")],zoomToFit:[(0,b.kb)("Shift+1")],zoomToFitSelectionInViewport:[(0,b.kb)("Shift+2")],toggleEraserTool:[(0,b.kb)("E")],toggleHandTool:[(0,b.kb)("H")],setFrameAsActiveTool:[(0,b.kb)("F")],saveFileToDisk:[(0,b.kb)("CtrlOrCmd+S")],saveToActiveFile:[(0,b.kb)("CtrlOrCmd+S")],toggleShortcuts:[(0,b.kb)("?")],searchMenu:[(0,b.kb)("CtrlOrCmd+F")],wrapSelectionInFrame:[]},nd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=td[e];return n&&n.length>0?n[t]||n[0]:""},rd="[".concat("\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff","]"),ad=RegExp(rd,"g"),id=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,od={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"E","\xe6":"e","\xde":"T","\xfe":"t","\xdf":"s","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"I","\u0133":"i","\u0152":"E","\u0153":"e","\u0149":"n","\u017f":"s"},ld=function(e){return e.replace(id,(function(e){return od[e]||e})).replace(ad,"")},sd=r.createContext(null),cd=function(){return r.useContext(sd)},dd=ie(),ud=function(e,t){var n,r,a=(null===(n=t[0])||void 0===n?void 0:n.type)||null,i=(0,U.A)(t);try{for(i.s();!(r=i.n()).done;){if(r.value.type!==a){a=null;break}}}catch(o){i.e(o)}finally{i.f()}return(0,b.Wi)(e.activeTool.type)&&"image"!==e.activeTool.type&&"image"!==a&&"frame"!==a&&"magicframe"!==a||t.some((function(e){return(0,b.Wi)(e.type)}))},fd=function(e,t){return(0,b.Vi)(e.activeTool.type)||t.some((function(e){return(0,b.Vi)(e.type)}))},hd=function(e){var t=e.appState,n=e.elementsMap,r=e.renderAction,a=e.app,i=(0,b.wk)(n,t),o=!1;2===i.length&&((0,b.mc)(i[0])||(0,b.mc)(i[1]))&&(o=!0);var l=!(!t.editingTextElement&&!t.newElement),s=$p(),c="rtl"===document.documentElement.getAttribute("dir"),d=(0,b.Vi)(t.activeTool.type)&&!(0,b.sb)(t.currentItemBackgroundColor)||i.some((function(e){return(0,b.Vi)(e.type)&&!(0,b.sb)(e.backgroundColor)})),u=1===i.length||o,f=!t.editingLinearElement&&1===i.length&&(0,b.cc)(i[0])&&!(0,b.ec)(i[0]),h=!t.croppingElementId&&1===i.length&&(0,b.Wb)(i[0]),p=!o&&hs(t,a);return(0,V.jsxs)("div",{className:"panelColumn",children:[(0,V.jsx)("div",{children:ud(t,i)&&r("changeStrokeColor")}),fd(t,i)&&(0,V.jsx)("div",{children:r("changeBackgroundColor")}),d&&r("changeFillStyle"),((0,b.Xi)(t.activeTool.type)||i.some((function(e){return(0,b.Xi)(e.type)})))&&r("changeStrokeWidth"),("freedraw"===t.activeTool.type||i.some((function(e){return"freedraw"===e.type})))&&r("changeStrokeShape"),((0,b.Yi)(t.activeTool.type)||i.some((function(e){return(0,b.Yi)(e.type)})))&&(0,V.jsxs)(V.Fragment,{children:[r("changeStrokeStyle"),r("changeSloppiness")]}),((0,b.Zi)(t.activeTool.type)||i.some((function(e){return(0,b.Zi)(e.type)})))&&(0,V.jsx)(V.Fragment,{children:r("changeRoundness")}),((0,b._i)(t.activeTool.type)||i.some((function(e){return(0,b._i)(e.type)})))&&(0,V.jsx)(V.Fragment,{children:r("changeArrowType")}),("text"===t.activeTool.type||i.some(b._b))&&(0,V.jsxs)(V.Fragment,{children:[r("changeFontFamily"),r("changeFontSize"),("text"===t.activeTool.type||(0,b.Ej)(i,n))&&r("changeTextAlign")]}),(0,b.Dj)(i,n)&&r("changeVerticalAlign"),((0,b.$i)(t.activeTool.type)||i.some((function(e){return(0,b.$i)(e.type)})))&&(0,V.jsx)(V.Fragment,{children:r("changeArrowhead")}),r("changeOpacity"),(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:Fi("labels.layers")}),(0,V.jsxs)("div",{className:"buttonList",children:[r("sendToBack"),r("sendBackward"),r("bringForward"),r("bringToFront")]})]}),p&&!o&&(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:Fi("labels.align")}),(0,V.jsxs)("div",{className:"buttonList",children:[c?(0,V.jsxs)(V.Fragment,{children:[r("alignRight"),r("alignHorizontallyCentered"),r("alignLeft")]}):(0,V.jsxs)(V.Fragment,{children:[r("alignLeft"),r("alignHorizontallyCentered"),r("alignRight")]}),i.length>2&&r("distributeHorizontally"),(0,V.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,V.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[r("alignTop"),r("alignVerticallyCentered"),r("alignBottom"),i.length>2&&r("distributeVertically")]})]})]}),!l&&i.length>0&&(0,V.jsxs)("fieldset",{children:[(0,V.jsx)("legend",{children:Fi("labels.actions")}),(0,V.jsxs)("div",{className:"buttonList",children:[!s.editor.isMobile&&r("duplicateSelection"),!s.editor.isMobile&&r("deleteSelectedElements"),r("group"),r("ungroup"),u&&r("hyperlink"),h&&r("cropEditor"),f&&r("toggleLinearEditor")]})]})]})},pd=function(e){var t=e.activeTool,n=e.appState,a=e.app,i=e.UIOptions,o=(0,r.useState)(!1),l=(0,c.A)(o,2),s=l[0],d=l[1],u="frame"===t.type,f="laser"===t.type,h="embeddable"===t.type,p=cd().TTDDialogTriggerTunnel;return(0,V.jsxs)(V.Fragment,{children:[b.rg.map((function(e,r){var o,l=e.value,s=e.icon,c=e.key,d=e.numericKey,u=e.fillable;if(!1===(null===(o=i.tools)||void 0===o?void 0:o[l]))return null;var f=Fi("toolBar.".concat(l)),h=c&&(0,b.Ya)("string"==typeof c?c:c[0]),p=h?"".concat(h," ").concat(Fi("helpDialog.or")," ").concat(d):"".concat(d);return(0,V.jsx)(Xi,{className:(0,le.A)("Shape",{fillable:u}),type:"radio",icon:s,checked:t.type===l,name:"editor-current-shape",title:"".concat((0,b.Ya)(f)," \u2014 ").concat(p),keyBindingLabel:d||h,"aria-label":(0,b.Ya)(f),"aria-keyshortcuts":p,"data-testid":"toolbar-".concat(l),onPointerDown:function(e){var t=e.pointerType;!n.penDetected&&"pen"===t&&a.togglePenMode(!0)},onChange:function(e){var t=e.pointerType;n.activeTool.type!==l&&vo("toolbar",l,"ui"),"image"===l?a.setActiveTool({type:l,insertOnCanvasDirectly:"mouse"!==t}):a.setActiveTool({type:l})}},l)})),(0,V.jsx)("div",{className:"App-toolbar__divider"}),(0,V.jsxs)(Rc,{open:s,children:[(0,V.jsx)(Rc.Trigger,{className:(0,le.A)("App-toolbar__extra-tools-trigger",{"App-toolbar__extra-tools-trigger--selected":u||h||f&&!a.props.isCollaborating}),onToggle:function(){return d(!s)},title:Fi("toolBar.extraTools"),children:b.ef}),(0,V.jsxs)(Rc.Content,{onClickOutside:function(){return d(!1)},onSelect:function(){return d(!1)},className:"App-toolbar__extra-tools-dropdown",children:[(0,V.jsx)(Rc.Item,{onSelect:function(){return a.setActiveTool({type:"frame"})},icon:b.ff,shortcut:b.hg.F.toLocaleUpperCase(),"data-testid":"toolbar-frame",selected:u,children:Fi("toolBar.frame")}),(0,V.jsx)(Rc.Item,{onSelect:function(){return a.setActiveTool({type:"embeddable"})},icon:b.vd,"data-testid":"toolbar-embeddable",selected:h,children:Fi("toolBar.embeddable")}),(0,V.jsx)(Rc.Item,{onSelect:function(){return a.setActiveTool({type:"laser"})},icon:b.if,"data-testid":"toolbar-laser",selected:f,shortcut:b.hg.K.toLocaleUpperCase(),children:Fi("toolBar.laser")}),(0,V.jsx)("div",{style:{margin:"6px 0",fontSize:14,fontWeight:600},children:"Generate"}),!1!==a.props.aiEnabled&&(0,V.jsx)(p.Out,{}),(0,V.jsx)(Rc.Item,{onSelect:function(){return a.setOpenDialog({name:"ttd",tab:"mermaid"})},icon:b.gf,"data-testid":"toolbar-embeddable",children:Fi("toolBar.mermaidToExcalidraw")}),!1!==a.props.aiEnabled&&a.plugins.diagramToCode&&(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)(Rc.Item,{onSelect:function(){return a.onMagicframeToolSelect()},icon:b.jf,"data-testid":"toolbar-magicframe",children:[Fi("toolBar.magicframe"),(0,V.jsx)(Rc.Item.Badge,{children:"AI"})]})})]})]})]})},vd=function(e){var t=e.renderAction;e.zoom;return(0,V.jsx)(uc.Col,{gap:1,className:b.E.ZOOM_ACTIONS,children:(0,V.jsxs)(uc.Row,{align:"center",children:[t("zoomOut"),t("resetZoom"),t("zoomIn")]})})},Ud=function(e){var t=e.renderAction,n=e.className;return(0,V.jsxs)("div",{className:"undo-redo-buttons ".concat(n),children:[(0,V.jsx)("div",{className:"undo-button-container",children:(0,V.jsx)(Il,{label:Fi("buttons.undo"),children:t("undo")})}),(0,V.jsx)("div",{className:"redo-button-container",children:(0,V.jsxs)(Il,{label:Fi("buttons.redo"),children:[" ",t("redo")]})})]})},md=function(e){var t=e.actionManager,n=e.showExitZenModeBtn;return(0,V.jsx)("button",{type:"button",className:(0,le.A)("disable-zen-mode",{"disable-zen-mode--visible":n}),onClick:function(){return t.executeAction(Cs)},children:Fi("buttons.exitZenMode")})},gd=function(e){var t=e.renderAction,n=e.className;return(0,V.jsx)("div",{className:"finalize-button ".concat(n),children:t("finalize",{size:"small"})})},bd=function(e){var t=(0,r.useRef)({userFn:e});return t.current.userFn=e,t.current.stableFn||(t.current.stableFn=function(){var e;return(e=t.current).userFn.apply(e,arguments)}),t.current.stableFn},yd=k(null),xd=function(){var e=Ei(yd),t=(0,c.A)(e,2),n=t[0],r=t[1],a=nv();return n&&"clearCanvas"===n?(0,V.jsx)(yc,{onConfirm:function(){a.executeAction(Dl),r(null)},onCancel:function(){return r(null)},title:Fi("clearCanvasDialog.title"),children:(0,V.jsxs)("p",{className:"clear-canvas__content",children:[" ",Fi("alerts.clearReset")]})}):null},wd={};(0,A.c)(wd,{toggleTheme:function(){return Ad}});var Ad=(0,v.A)((0,v.A)({},Nl),{},{category:"App",label:"Toggle theme",perform:function(e){e.actionManager.executeAction(Nl,"commandPalette")}}),Ed=(0,b.$c)({name:"copyElementLink",label:"labels.copyElementLink",icon:b._e,trackEvent:{category:"element"},perform:function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n,r,a){var i,o;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(0,b.vk)(t,n),e.prev=1,!window.location){e.next=12;break}if(!(o=(0,b.Zh)(i,n))){e.next=10;break}return e.next=7,(0,b.oi)(a.props.generateLinkForSelection?a.props.generateLinkForSelection(o.id,o.type):(0,b.Yh)(o.id,o.type));case 7:e.t0={appState:{toast:{message:Fi("toast.elementLinkCopied"),closable:!0}},captureUpdate:b.Wg.EVENTUALLY},e.next=11;break;case 10:e.t0={appState:n,elements:t,app:a,captureUpdate:b.Wg.EVENTUALLY};case 11:return e.abrupt("return",e.t0);case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(1),console.error(e.t1);case 17:return e.abrupt("return",{appState:n,elements:t,app:a,captureUpdate:b.Wg.EVENTUALLY});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),predicate:function(e,t){return(0,b._h)((0,b.vk)(e,t))}}),kd=(0,b.$c)({name:"linkToElement",label:"labels.linkToElement",icon:b.Pf,perform:function(e,t,n,r){var a=(0,b.vk)(e,t);return 1===a.length&&(0,b._h)(a)?{appState:(0,v.A)((0,v.A)({},t),{},{openDialog:{name:"elementLinkSelector",sourceElementId:(0,b.vk)(e,t)[0].id}}),captureUpdate:b.Wg.IMMEDIATELY}:{elements:e,appState:t,app:r,captureUpdate:b.Wg.EVENTUALLY}},predicate:function(e,t,n,r){var a,i=(0,b.vk)(e,t);return"elementLinkSelector"!==(null===(a=t.openDialog)||void 0===a?void 0:a.name)&&1===i.length&&(0,b._h)(i)},trackEvent:!1}),Sd=k(null),Md={app:"App",export:"Export",tools:"Tools",editor:"Editor",elements:"Elements",links:"Links"},Cd=function(e){switch(e){case Md.app:return 1;case Md.export:return 2;case Md.editor:return 3;case Md.tools:return 4;case Md.elements:return 5;case Md.links:return 6;default:return 10}},jd=function(e){var t=e.shortcut,n=e.className,r=e.children,a=t.replace("++","+$").split("+");return(0,V.jsxs)("div",{className:(0,le.A)("shortcut",n),children:[a.map((function(e,t){return(0,V.jsx)("div",{className:"shortcut-wrapper",children:(0,V.jsx)("div",{className:"shortcut-key",children:"$"===e?"+":e})},e)})),(0,V.jsx)("div",{className:"shortcut-desc",children:r})]})},Id=function(e){return!e.altKey&&e[b.hg.CTRL_OR_CMD]&&(e.shiftKey&&e.key.toLowerCase()===b.hg.P||e.key===b.hg.SLASH)};Object.assign((function(e){var t,n=Ro(),a=tv();return(0,r.useEffect)((function(){var e=function(e){Id(e)&&(e.preventDefault(),e.stopPropagation(),a((function(e){var t,n="commandPalette"===(null===(t=e.openDialog)||void 0===t?void 0:t.name)?null:{name:"commandPalette"};return n&&vo("command_palette","open","shortcut"),{openDialog:n}})))};return window.addEventListener("keydown",e,{capture:!0}),function(){return window.removeEventListener("keydown",e,{capture:!0})}}),[a]),"commandPalette"!==(null===(t=n.openDialog)||void 0===t?void 0:t.name)?null:(0,V.jsx)(Dd,(0,v.A)({},e))}),{defaultItems:wd});function Dd(e){var t=e.customCommandPaletteItems,n=Kp(),a=Ro(),i=tv(),o=qp(),l=nv(),s=Ei(Sd),d=(0,c.A)(s,2),u=d[0],f=d[1],h=(0,r.useState)(null),p=(0,c.A)(h,2),m=p[0],y=p[1],x=(0,r.useRef)(null),w=Fo({uiAppState:a,customCommandPaletteItems:t,appProps:o});(0,r.useEffect)((function(){var e=w.uiAppState,t=w.customCommandPaletteItems,r=w.appProps,a=function(t){var r="";return t.label&&(r="function"==typeof t.label?Fi(t.label(n.scene.getNonDeletedElements(),e,n)):Fi(t.label)),r},o=function(t){return"function"==typeof t.icon?t.icon(e,n.scene.getNonDeletedElements()):t.icon},s=[],c=function(e,t,n){var r={label:a(e),icon:o(e),category:t,shortcut:nd(e.name),keywords:e.keywords,predicate:e.predicate,viewMode:e.viewMode,perform:function(){l.executeAction(e,"commandPalette")}};return n?n(r,e):r};if(e&&n.scene&&l){var d,h=[l.actions.group,l.actions.ungroup,l.actions.cut,l.actions.copy,l.actions.deleteSelectedElements,l.actions.wrapSelectionInFrame,l.actions.copyStyles,l.actions.pasteStyles,l.actions.bringToFront,l.actions.bringForward,l.actions.sendBackward,l.actions.sendToBack,l.actions.alignTop,l.actions.alignBottom,l.actions.alignLeft,l.actions.alignRight,l.actions.alignVerticallyCentered,l.actions.alignHorizontallyCentered,l.actions.duplicateSelection,l.actions.flipHorizontal,l.actions.flipVertical,l.actions.zoomToFitSelection,l.actions.zoomToFitSelectionInViewport,l.actions.increaseFontSize,l.actions.decreaseFontSize,l.actions.toggleLinearEditor,l.actions.cropEditor,Xs,Ed,kd].map((function(e){return c(e,Md.elements,(function(e,t){return(0,v.A)((0,v.A)({},e),{},{predicate:t.predicate?t.predicate:function(e,t,n,r){return(0,b.vk)(e,t).length>0}})}))})),p=[l.actions.toggleHandTool,l.actions.setFrameAsActiveTool].map((function(e){return c(e,Md.tools)})),U=[l.actions.undo,l.actions.redo,l.actions.zoomIn,l.actions.zoomOut,l.actions.resetZoom,l.actions.zoomToFit,l.actions.zenMode,l.actions.viewMode,l.actions.gridMode,l.actions.objectsSnapMode,l.actions.toggleShortcuts,l.actions.selectAll,l.actions.toggleElementLock,l.actions.unlockAllElements,l.actions.stats].map((function(e){return c(e,Md.editor)})),m=[l.actions.saveToActiveFile,l.actions.saveFileToDisk,l.actions.copyAsPng,l.actions.copyAsSvg].map((function(e){return c(e,Md.export)}));s=[].concat((0,g.A)(h),(0,g.A)(U),[{label:a(Dl),icon:o(Dl),shortcut:nd(Dl.name),category:Md.editor,keywords:["delete","destroy"],viewMode:!1,perform:function(){Ci.set(yd,"clearCanvas")}},{label:Fi("buttons.exportImage"),category:Md.export,icon:b.Od,shortcut:nd("imageExport"),keywords:["export","image","png","jpeg","svg","clipboard","picture"],perform:function(){i({openDialog:{name:"imageExport"}})}}],(0,g.A)(m));var x=[{label:Fi("toolBar.library"),category:Md.app,icon:b.fd,viewMode:!1,perform:function(){e.openSidebar?i({openSidebar:null}):i({openSidebar:{name:b.ya.name,tab:b.ya.defaultTab}})}},{label:Fi("search.title"),category:Md.app,icon:b.pf,viewMode:!0,perform:function(){l.executeAction(Ld)}},{label:Fi("labels.changeStroke"),keywords:["color","outline"],category:Md.elements,icon:b.Nd,viewMode:!1,predicate:function(e,t){var n=(0,b.vk)(e,t);return n.length>0&&ud(t,n)},perform:function(){i((function(e){return{openMenu:"shape"===e.openMenu?null:"shape",openPopup:"elementStroke"}}))}},{label:Fi("labels.changeBackground"),keywords:["color","fill"],icon:b.Nd,category:Md.elements,viewMode:!1,predicate:function(e,t){var n=(0,b.vk)(e,t);return n.length>0&&fd(t,n)},perform:function(){i((function(e){return{openMenu:"shape"===e.openMenu?null:"shape",openPopup:"elementBackground"}}))}},{label:Fi("labels.canvasBackground"),keywords:["color"],icon:b.Nd,category:Md.editor,viewMode:!1,perform:function(){i((function(e){return{openMenu:"canvas"===e.openMenu?null:"canvas",openPopup:"canvasBackground"}}))}}].concat((0,g.A)(b.rg.reduce((function(e,t){var a,i=t.value,o=t.icon,l=t.key,s=t.numericKey;if(!1===(null===(a=r.UIOptions.tools)||void 0===a?void 0:a[i]))return e;var c=l&&(0,b.Ya)("string"==typeof l?l:l[0])||s,d={label:Fi("toolBar.".concat(i)),category:Md.tools,shortcut:c,icon:o,keywords:["toolbar"],viewMode:!1,perform:function(e){var t=e.event;"image"===i?n.setActiveTool({type:i,insertOnCanvasDirectly:"keydown"===t.type}):n.setActiveTool({type:i})}};return e.push(d),e}),[])),(0,g.A)(p),[{label:Fi("toolBar.lock"),category:Md.tools,icon:e.activeTool.locked?b.kd:b.jd,shortcut:b.hg.Q.toLocaleUpperCase(),viewMode:!1,perform:function(){n.toggleLock()}},{label:"".concat(Fi("labels.textToDiagram"),"..."),category:Md.tools,icon:b.of,viewMode:!1,predicate:r.aiEnabled,perform:function(){i((function(e){return(0,v.A)((0,v.A)({},e),{},{openDialog:{name:"ttd",tab:"text-to-diagram"}})}))}},{label:"".concat(Fi("toolBar.mermaidToExcalidraw"),"..."),category:Md.tools,icon:b.gf,viewMode:!1,predicate:r.aiEnabled,perform:function(){i((function(e){return(0,v.A)((0,v.A)({},e),{},{openDialog:{name:"ttd",tab:"mermaid"}})}))}}]),A=[].concat((0,g.A)(s),(0,g.A)(x),(0,g.A)(t||[])).map((function(e){var t,n;return(0,v.A)((0,v.A)({},e),{},{icon:e.icon||b.tf,order:null!==(t=e.order)&&void 0!==t?t:Cd(e.category),haystack:"".concat(ld(e.label.toLocaleLowerCase())," ").concat((null===(n=e.keywords)||void 0===n?void 0:n.join(" "))||"")})}));y(A),f(null!==(d=A.find((function(e){return e.label===(null===u||void 0===u?void 0:u.label)})))&&void 0!==d?d:null)}}),[w,n,l,y,null===u||void 0===u?void 0:u.label,f,i]);var A=(0,r.useState)(""),E=(0,c.A)(A,2),k=E[0],S=E[1],M=(0,r.useState)(null),C=(0,c.A)(M,2),j=C[0],I=C[1],D=(0,r.useState)({}),T=(0,c.A)(D,2),_=T[0],L=T[1],R=function(e){i({openDialog:null},e),S("")},P=function(e,t){var n;"commandPalette"===(null===(n=a.openDialog)||void 0===n?void 0:n.name)&&(t.stopPropagation(),t.preventDefault(),document.body.classList.add("excalidraw-animations-disabled"),R((function(){e.perform({actionManager:l,event:t}),f(e),requestAnimationFrame((function(){document.body.classList.remove("excalidraw-animations-disabled")}))})))},N=bd((function(e){return(!1!==e.viewMode||!a.viewModeEnabled)&&("function"==typeof e.predicate?e.predicate(n.scene.getNonDeletedElements(),a,o,n):void 0===e.predicate||e.predicate)})),F=bd((function(e){var t=(0,b.ab)(e.target)||Id(e)||e.key===b.hg.ESCAPE;if(!t||e.key===b.hg.ARROW_UP||e.key===b.hg.ARROW_DOWN||e.key===b.hg.ENTER){var n=Object.values(_).flat(),r=u&&!k&&N(u);if(e.key!==b.hg.ARROW_UP)if(e.key!==b.hg.ARROW_DOWN){if(e.key===b.hg.ENTER&&j&&setTimeout((function(){P(j,e)})),!t){var a;if(e.stopPropagation(),/^[a-zA-Z0-9]$/.test(e.key))return void(null===x||void 0===x||null===(a=x.current)||void 0===a||a.focus());e.preventDefault()}}else{e.preventDefault();var i=n.findIndex((function(e){return e.label===(null===j||void 0===j?void 0:j.label)}));if(r){if(!j||i===n.length-1)return void I(u);if(j===u){var o=n[0];return void(o&&I(o))}}var l=n[(i+1)%n.length];l&&I(l)}else{e.preventDefault();var s=n.findIndex((function(e){return e.label===(null===j||void 0===j?void 0:j.label)}));if(r){if(0===s)return void I(u);if(j===u){var c=n[n.length-1];return void(c&&I(c))}}var d=n[-1===s||0===s?n.length-1:(s-1)%n.length];d&&I(d)}}}));return(0,r.useEffect)((function(){return window.addEventListener("keydown",F,{capture:!0}),function(){return window.removeEventListener("keydown",F,{capture:!0})}}),[F]),(0,r.useEffect)((function(){var e;if(m){var t=function(e){var t,n={},r=(0,U.A)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.category]?n[a.category].push(a):n[a.category]=[a]}}catch(i){r.e(i)}finally{r.f()}return n},n=m.filter(N).sort((function(e,t){return e.order-t.order})),r=!k&&u&&N(u);if(!k)return L(t(r?n.filter((function(e){return e.label!==(null===u||void 0===u?void 0:u.label)})):n)),void I(r?u:n[0]||null);var a=ld(k.toLocaleLowerCase().replace(/[<>_| -]/g,""));n=Wn.filter(a,n,{extract:function(e){return e.haystack}}).sort((function(e,t){return t.score-e.score})).map((function(e){return e.original})),L(t(n)),I(null!==(e=n[0])&&void 0!==e?e:null)}}),[k,m,N,u]),(0,V.jsxs)(Qc,{onCloseRequest:function(){return R()},closeOnClickOutside:!0,title:!1,size:720,autofocus:!0,className:"command-palette-dialog",children:[(0,V.jsx)(ed,{value:k,placeholder:Fi("commandPalette.search.placeholder"),onChange:function(e){S(e)},selectOnRender:!0,ref:x}),!n.device.viewport.isMobile&&(0,V.jsxs)("div",{className:"shortcuts-wrapper",children:[(0,V.jsx)(jd,{shortcut:"\u2191\u2193",children:Fi("commandPalette.shortcuts.select")}),(0,V.jsx)(jd,{shortcut:"\u21b5",children:Fi("commandPalette.shortcuts.confirm")}),(0,V.jsx)(jd,{shortcut:(0,b.kb)("Esc"),children:Fi("commandPalette.shortcuts.close")})]}),(0,V.jsxs)("div",{className:"commands",children:[u&&!k&&(0,V.jsxs)("div",{className:"command-category",children:[(0,V.jsxs)("div",{className:"command-category-title",children:[Fi("commandPalette.recents"),(0,V.jsx)("div",{className:"icon",style:{marginLeft:"6px"},children:b.qf})]}),(0,V.jsx)(Td,{command:u,isSelected:u.label===(null===j||void 0===j?void 0:j.label),onClick:function(e){return P(u,e)},disabled:!N(u),onMouseMove:function(){return I(u)},showShortcut:!n.device.viewport.isMobile,appState:a})]}),Object.keys(_).length>0?Object.keys(_).map((function(e,t){return(0,V.jsxs)("div",{className:"command-category",children:[(0,V.jsx)("div",{className:"command-category-title",children:e}),_[e].map((function(e){return(0,V.jsx)(Td,{command:e,isSelected:e.label===(null===j||void 0===j?void 0:j.label),onClick:function(t){return P(e,t)},onMouseMove:function(){return I(e)},showShortcut:!n.device.viewport.isMobile,appState:a},e.label)}))]},e)})):m?(0,V.jsxs)("div",{className:"no-match",children:[(0,V.jsx)("div",{className:"icon",children:b.pf})," ",Fi("commandPalette.search.noMatch")]}):null]})]})}var Td=function(e){var t=e.command,n=e.isSelected,r=e.disabled,a=e.onMouseMove,i=e.onClick,o=e.showShortcut,l=e.appState,s=function(){};return(0,V.jsxs)("div",{className:(0,le.A)("command-item",{"item-selected":n,"item-disabled":r}),ref:function(e){var t;n&&!r&&(null===e||void 0===e||null===(t=e.scrollIntoView)||void 0===t||t.call(e,{block:"nearest"}))},onClick:r?s:i,onMouseMove:r?s:a,title:r?Fi("commandPalette.itemNotAvailable"):"",children:[(0,V.jsxs)("div",{className:"name",children:[t.icon&&(0,V.jsx)(Ko,{icon:"function"==typeof t.icon?t.icon(l):t.icon}),t.label]}),o&&t.shortcut&&(0,V.jsx)(jd,{shortcut:t.shortcut})]})},_d=(0,b.$c)({name:"toggleLinearEditor",category:Md.elements,label:function(e,t,n){var r;return"arrow"===(null===(r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds})[0])||void 0===r?void 0:r.type)?"labels.lineEditor.editArrow":"labels.lineEditor.edit"},keywords:["line"],trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=r.scene.getSelectedElements(t);return!(t.editingLinearElement||1!==a.length||!(0,b.cc)(a[0])||(0,b.ec)(a[0]))},perform:function(e,t,n,r){var a,i=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0})[0],o=(null===(a=t.editingLinearElement)||void 0===a?void 0:a.elementId)===i.id?null:new b.pj(i);return{appState:(0,v.A)((0,v.A)({},t),{},{editingLinearElement:o}),captureUpdate:b.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.app.scene.getSelectedElements({selectedElementIds:t.selectedElementIds})[0],a=Fi("arrow"===r.type?"labels.lineEditor.editArrow":"labels.lineEditor.edit");return(0,V.jsx)(Xi,{type:"button",icon:b.Hf,title:a,"aria-label":a,onClick:function(){return n(null)}})}}),Ld=(0,b.$c)({name:"searchMenu",icon:b.pf,keywords:["search","find"],label:"search.title",viewMode:!0,trackEvent:{category:"search_menu",action:"toggle",predicate:function(e){return e.gridModeEnabled}},perform:function(e,t,n,r){var a;if((null===(a=t.openSidebar)||void 0===a?void 0:a.name)===b.ya.name&&t.openSidebar.tab===b.xa){var i,o=null===(i=r.excalidrawContainerValue.container)||void 0===i?void 0:i.querySelector(".".concat(b.E.SEARCH_MENU_INPUT_WRAPPER," input"));return null!==o&&void 0!==o&&o.matches(":focus")?{appState:(0,v.A)((0,v.A)({},t),{},{openSidebar:null}),captureUpdate:b.Wg.EVENTUALLY}:(null!==o&&void 0!==o&&o.focus(),null!==o&&void 0!==o&&o.select(),!1)}return{appState:(0,v.A)((0,v.A)({},t),{},{openSidebar:{name:b.ya.name,tab:b.xa},openDialog:null}),captureUpdate:b.Wg.EVENTUALLY}},checked:function(e){return e.gridModeEnabled},predicate:function(e,t,n){return void 0===n.gridModeEnabled},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.key===b.hg.F}}),Rd=(0,b.$c)({name:"cropEditor",label:"helpDialog.cropStart",icon:b.Of,viewMode:!0,trackEvent:{category:"menu"},keywords:["image","crop"],perform:function(e,t,n,r){var a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0})[0];return{appState:(0,v.A)((0,v.A)({},t),{},{isCropping:!1,croppingElementId:a.id}),captureUpdate:b.Wg.IMMEDIATELY}},predicate:function(e,t,n,r){var a=r.scene.getSelectedElements(t);return!(t.croppingElementId||1!==a.length||!(0,b.Wb)(a[0]))},PanelComponent:function(e){e.appState;var t=e.updateData,n=(e.app,Fi("helpDialog.cropStart"));return(0,V.jsx)(Xi,{type:"button",icon:b.Of,title:n,"aria-label":n,onClick:function(){return t(null)}})}}),Pd=(0,h.A)((function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,f.A)(this,e),this.isUndoStackEmpty=t,this.isRedoStackEmpty=n})),Nd=function(){function e(){(0,f.A)(this,e),(0,A.d)(this,"onHistoryChangedEmitter",new b.Vg),(0,A.d)(this,"undoStack",[]),(0,A.d)(this,"redoStack",[])}return(0,h.A)(e,[{key:"isUndoStackEmpty",get:function(){return 0===this.undoStack.length}},{key:"isRedoStackEmpty",get:function(){return 0===this.redoStack.length}},{key:"clear",value:function(){this.undoStack.length=0,this.redoStack.length=0}},{key:"record",value:function(e,t){var n=Fd.create(t,e);n.isEmpty()||(this.undoStack.push(n.inverse()),n.elementsChange.isEmpty()||(this.redoStack.length=0),this.onHistoryChangedEmitter.trigger(new Pd(this.isUndoStackEmpty,this.isRedoStackEmpty)))}},{key:"undo",value:function(t,n,r){var a=this;return this.perform(t,n,r,(function(){return e.pop(a.undoStack)}),(function(n){return e.push(a.redoStack,n,t)}))}},{key:"redo",value:function(t,n,r){var a=this;return this.perform(t,n,r,(function(){return e.pop(a.redoStack)}),(function(n){return e.push(a.undoStack,n,t)}))}},{key:"perform",value:function(e,t,n,r,a){try{var i=r();if(null===i)return;for(var o=e,l=t,s=!1;i;){try{var d=i.applyTo(o,l,n),u=(0,c.A)(d,3);o=u[0],l=u[1],s=u[2]}finally{a(i)}if(s)break;i=r()}return[o,l]}finally{this.onHistoryChangedEmitter.trigger(new Pd(this.isUndoStackEmpty,this.isRedoStackEmpty))}}}],[{key:"pop",value:function(e){if(!e.length)return null;var t=e.pop();return void 0!==t?t:null}},{key:"push",value:function(e,t,n){var r=t.inverse().applyLatestChanges(n);return e.push(r)}}])}(),Fd=function(){function e(t,n){(0,f.A)(this,e),this.appStateChange=t,this.elementsChange=n}return(0,h.A)(e,[{key:"inverse",value:function(){return new e(this.appStateChange.inverse(),this.elementsChange.inverse())}},{key:"applyTo",value:function(e,t,n){var r=this.elementsChange.applyTo(e,n.elements),a=(0,c.A)(r,2),i=a[0],o=a[1],l=this.appStateChange.applyTo(t,i),s=(0,c.A)(l,2),d=s[0],u=s[1];return[i,d,o||u]}},{key:"applyLatestChanges",value:function(t){var n=this.elementsChange.applyLatestChanges(t);return e.create(this.appStateChange,n)}},{key:"isEmpty",value:function(){return this.appStateChange.isEmpty()&&this.elementsChange.isEmpty()}}],[{key:"create",value:function(t,n){return new e(t,n)}}])}(),Od=function(e,t){var n=(0,r.useState)(t),a=(0,c.A)(n,2),i=a[0],o=a[1];return(0,r.useEffect)((function(){var t=e.on((function(e){o(e)}));return function(){t()}}),[e]),i},zd=function(e,t,n){if(!t.multiElement&&!t.resizingElement&&!t.editingTextElement&&!t.newElement&&!t.selectedElementsAreBeingDragged&&!t.selectionElement&&!e.flowChartCreator.isCreatingChart){var r=n();if(!r)return{captureUpdate:b.Wg.EVENTUALLY};var a=(0,c.A)(r,2),i=a[0];return{appState:a[1],elements:Array.from(i.values()),captureUpdate:b.Wg.NEVER}}return{captureUpdate:b.Wg.EVENTUALLY}},Bd=function(e,t,n,r,a,i){if(e.trackEvent)try{"object"==typeof e.trackEvent&&(!e.trackEvent.predicate||e.trackEvent.predicate(n,r,i))&&vo(e.trackEvent.category,e.trackEvent.action||e.name,"".concat(t," (").concat(a.device.editor.isMobile?"mobile":"desktop",")"))}catch(o){console.error("error while logging action:",o)}},Hd=function(){return(0,h.A)((function e(t,n,r,a){var i=this;(0,f.A)(this,e),(0,A.d)(this,"actions",{}),(0,A.d)(this,"updater"),(0,A.d)(this,"getAppState"),(0,A.d)(this,"getElementsIncludingDeleted"),(0,A.d)(this,"app"),(0,A.d)(this,"renderAction",(function(e,t){var n=i.app.props.UIOptions.canvasActions;if(i.actions[e]&&"PanelComponent"in i.actions[e]&&(!(e in n)||n[e])){var r=i.actions[e],a=r.PanelComponent;a.displayName="PanelComponent";var o=i.getElementsIncludingDeleted(),l=i.getAppState();return(0,V.jsx)(a,{elements:i.getElementsIncludingDeleted(),appState:i.getAppState(),updateData:function(e){Bd(r,"ui",l,o,i.app,e),i.updater(r.perform(i.getElementsIncludingDeleted(),i.getAppState(),e,i.app))},appProps:i.app.props,app:i.app,data:t})}return null})),(0,A.d)(this,"isActionEnabled",(function(e){var t=i.getElementsIncludingDeleted(),n=i.getAppState();return!e.predicate||e.predicate(t,n,i.app.props,i.app)})),this.updater=function(e){if(!(0,b.Fb)(e))return t(e);e.then((function(e){return t(e)}))},this.getAppState=n,this.getElementsIncludingDeleted=r,this.app=a}),[{key:"registerAction",value:function(e){this.actions[e.name]=e}},{key:"registerAll",value:function(e){var t=this;e.forEach((function(e){return t.registerAction(e)}))}},{key:"handleKeyDown",value:function(e){var t=this,n=this.app.props.UIOptions.canvasActions,r=Object.values(this.actions).sort((function(e,t){return(t.keyPriority||0)-(e.keyPriority||0)})).filter((function(r){return(!(r.name in n)||n[r.name])&&r.keyTest&&r.keyTest(e,t.getAppState(),t.getElementsIncludingDeleted(),t.app)}));if(1!==r.length)return r.length>1&&console.warn("Canceling as multiple actions match this shortcut",r),!1;var a=r[0];if(this.getAppState().viewModeEnabled&&!0!==a.viewMode)return!1;var i=this.getElementsIncludingDeleted(),o=this.getAppState();return Bd(a,"keyboard",o,i,this.app,null),e.preventDefault(),e.stopPropagation(),this.updater(r[0].perform(i,o,null,this.app)),!0}},{key:"executeAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.getElementsIncludingDeleted(),a=this.getAppState();Bd(e,t,a,r,this.app,n),this.updater(e.perform(r,a,n,this.app))}}])}(),Wd=function(e){var t=Array.from(e.values());return{x:Gd(t,(function(e){return e.x}))/t.length,y:Gd(t,(function(e){return e.y}))/t.length}},Xd=function(e){var t=(0,c.A)(e,2),n=t[0],r=t[1];return Math.hypot(n.x-r.x,n.y-r.y)},Gd=function(e,t){return e.reduce((function(e,n){return e+t(n)}),0)},Vd=function(e){var t=e.children,n=e.left,a=e.top,i=e.onCloseRequest,o=e.fitInViewport,l=void 0!==o&&o,s=e.offsetLeft,c=void 0===s?0:s,d=e.offsetTop,u=void 0===d?0:d,f=e.viewportWidth,h=void 0===f?window.innerWidth:f,p=e.viewportHeight,v=void 0===p?window.innerHeight:p,U=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=U.current;if(e){e.contains(document.activeElement)||e.focus();var t=function(t){if(t.key===b.hg.TAB){var n,r,a,i=(0,b.Gb)(e),o=document.activeElement,l=i.findIndex((function(e){return e===o}));o===e?(t.shiftKey?null===(n=i[i.length-1])||void 0===n||n.focus():i[0].focus(),t.preventDefault(),t.stopImmediatePropagation()):0===l&&t.shiftKey?(null!==(r=i[i.length-1])&&void 0!==r&&r.focus(),t.preventDefault(),t.stopImmediatePropagation()):l===i.length-1&&!t.shiftKey&&(null!==(a=i[0])&&void 0!==a&&a.focus(),t.preventDefault(),t.stopImmediatePropagation())}};return e.addEventListener("keydown",t),function(){return e.removeEventListener("keydown",t)}}}),[]);var m=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){if(l&&U.current&&null!=a&&null!=n){var e,t,r=U.current,i=r.getBoundingClientRect(),o=i.width,s=i.height;if((null===(e=m.current)||void 0===e?void 0:e.top)===a&&(null===(t=m.current)||void 0===t?void 0:t.left)===n)return;m.current={top:a,left:n},o>=h?(r.style.width="".concat(h,"px"),r.style.left="0px",r.style.overflowX="scroll"):r.style.left="".concat(n+o-c>h?h-o-10:n,"px"),s>=v?(r.style.height="".concat(v-20,"px"),r.style.top="10px",r.style.overflowY="scroll"):r.style.top="".concat(a+s-u>v?v-s:a,"px")}}),[a,n,l,h,v,c,u]),(0,r.useEffect)((function(){if(i){var e=function(e){var t;(null===(t=U.current)||void 0===t?void 0:t.contains(e.target))||(0,se.unstable_batchedUpdates)((function(){return i(e)}))};return document.addEventListener("pointerdown",e,!1),function(){return document.removeEventListener("pointerdown",e,!1)}}}),[i]),(0,V.jsx)("div",{className:"popover",ref:U,tabIndex:-1,children:t})},Yd="separator",Zd=r.memo((function(e){var t=e.actionManager,n=e.items,r=e.top,a=e.left,i=e.onClose,o=ev(),l=Jp(),s=n.reduce((function(e,n){return n&&(n===Yd||!n.predicate||n.predicate(l,o,t.app.props,t.app))&&e.push(n),e}),[]);return(0,V.jsx)(Vd,{onCloseRequest:function(){i()},top:r,left:a,fitInViewport:!0,offsetLeft:o.offsetLeft,offsetTop:o.offsetTop,viewportWidth:o.width,viewportHeight:o.height,children:(0,V.jsx)("ul",{className:"context-menu",onContextMenu:function(e){return e.preventDefault()},children:s.map((function(e,n){var r;if(e===Yd)return s[n-1]&&s[n-1]!==Yd?(0,V.jsx)("hr",{className:"context-menu-item-separator"},n):null;var a=e.name,c="";return e.label&&(c="function"==typeof e.label?Fi(e.label(l,o,t.app)):Fi(e.label)),(0,V.jsx)("li",{"data-testid":a,onClick:function(){i((function(){t.executeAction(e,"contextMenu")}))},children:(0,V.jsxs)("button",{type:"button",className:(0,le.A)("context-menu-item",{dangerous:"deleteSelectedElements"===a,checkmark:null===(r=e.checked)||void 0===r?void 0:r.call(e,o)}),children:[(0,V.jsx)("div",{className:"context-menu-item__label",children:c}),(0,V.jsx)("kbd",{className:"context-menu-item__shortcut",children:a?nd(a):""})]})},n)}))})})})),Kd=function(e){var t=e.children,n=e.onClose,a=(0,r.useState)(!!t),i=(0,c.A)(a,2),o=i[0],l=i[1],s=Qp().container,d=r.useCallback((function(){l(!1),n&&n(),null===s||void 0===s||s.focus()}),[n,s]);return(0,V.jsx)(V.Fragment,{children:o&&(0,V.jsx)(Qc,{size:"small",onCloseRequest:d,title:Fi("errorDialog.title"),children:(0,V.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:t})})})},qd=function(e){var t=e.onChange,n=e.value,r=e.choices,a=e.name;return(0,V.jsx)("div",{className:"RadioGroup",children:r.map((function(e){return(0,V.jsxs)("div",{className:(0,le.A)("RadioGroup__choice",{active:e.value===n}),title:e.ariaLabel,children:[(0,V.jsx)("input",{name:a,type:"radio",checked:e.value===n,onChange:function(){return t(e.value)},"aria-label":e.ariaLabel}),e.label]},String(e.value))}))})},$d=function(e){var t=e.title,n=e.name,r=e.checked,a=e.onChange,i=e.disabled,o=void 0!==i&&i;return(0,V.jsx)("div",{className:(0,le.A)("Switch",{toggled:r,disabled:o}),children:(0,V.jsx)("input",{name:n,id:n,title:t,type:"checkbox",checked:r,disabled:o,onChange:function(){return a(!r)},onKeyDown:function(e){" "===e.key&&a(!r)}})})},Qd=(0,r.forwardRef)((function(e,t){var n=e.children,a=e.icon,i=e.onClick,o=e.label,d=e.variant,u=void 0===d?"filled":d,f=e.color,h=void 0===f?"primary":f,p=e.size,v=void 0===p?"medium":p,U=e.fullWidth,m=e.className,g=e.status,y=(0,r.useState)(!1),x=(0,c.A)(y,2),w=x[0],A=x[1],E=function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var n,r;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===i||void 0===i?void 0:i(t),!(0,b.Fb)(n)){e.next=18;break}return r=window.setTimeout((function(){A(!0)}),50),e.prev=3,e.next=6,n;case 6:e.next=15;break;case 8:if(e.prev=8,e.t0=e.catch(3),!(e.t0 instanceof b.tc)){e.next=14;break}console.warn(e.t0),e.next=15;break;case 14:throw e.t0;case 15:return e.prev=15,clearTimeout(r),A(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,8,15,18]])})));return function(t){return e.apply(this,arguments)}}(),k=w?"loading":g;return h="success"===k?"success":h,(0,V.jsx)("button",{className:(0,le.A)("ExcButton","ExcButton--color-".concat(h),"ExcButton--variant-".concat(u),"ExcButton--size-".concat(v),"ExcButton--status-".concat(k),{"ExcButton--fullWidth":U},m),onClick:E,type:"button","aria-label":o,ref:t,disabled:"loading"===k||"success"===k,children:(0,V.jsxs)("div",{className:"ExcButton__contents",children:["loading"===k?(0,V.jsx)(Bi,{className:"ExcButton__statusIcon"}):"success"===k&&(0,V.jsx)("div",{className:"ExcButton__statusIcon",children:b.bf}),a&&(0,V.jsx)("div",{className:"ExcButton__icon","aria-hidden":!0,children:a}),"icon"!==u&&(null!==n&&void 0!==n?n:o)]})})})),Jd="filter"in document.createElement("canvas").getContext("2d"),eu=function(){return(0,V.jsxs)("div",{children:[(0,V.jsx)("h3",{children:Fi("canvasError.cannotShowPreview")}),(0,V.jsx)("p",{children:(0,V.jsx)("span",{children:Fi("canvasError.canvasTooBig")})}),(0,V.jsxs)("em",{children:["(",Fi("canvasError.canvasTooBigTip"),")"]})]})},tu=function(e){var t=e.appStateSnapshot,n=e.elementsSnapshot,a=e.files,i=e.actionManager,o=e.onExportImage,d=e.name,u=(0,b.tk)(n,t),f=(0,r.useState)(d),h=(0,c.A)(f,2),p=h[0],U=h[1],m=(0,r.useState)(u),g=(0,c.A)(m,2),y=g[0],x=g[1],w=(0,r.useState)(t.exportBackground),A=(0,c.A)(w,2),E=A[0],k=A[1],S=(0,r.useState)(t.exportWithDarkMode),M=(0,c.A)(S,2),C=M[0],j=M[1],I=(0,r.useState)(t.exportEmbedScene),D=(0,c.A)(I,2),T=D[0],_=D[1],L=(0,r.useState)(t.exportScale),R=(0,c.A)(L,2),P=R[0],N=R[1],F=(0,r.useRef)(null),O=(0,r.useState)(null),z=(0,c.A)(O,2),B=z[0],H=z[1],W=function(){var e=(0,r.useState)(null),t=(0,c.A)(e,2),n=t[0],a=t[1],i=(0,r.useRef)(0);return{copyStatus:n,resetCopyStatus:(0,r.useCallback)((function(){a(null)}),[]),onCopy:function(){clearTimeout(i.current),a("success"),i.current=window.setTimeout((function(){a(null)}),2e3)}}}(),X=W.onCopy,G=W.copyStatus,Y=W.resetCopyStatus;(0,r.useEffect)((function(){Y()}),[p,E,C,P,T,Y]);var Z=Wl(n,t,y),K=Z.exportedElements,q=Z.exportingFrame;return(0,r.useEffect)((function(){var e=F.current;if(e){var n=e.offsetWidth,r=e.offsetHeight;n&&(0,b.pi)({elements:K,appState:(0,v.A)((0,v.A)({},t),{},{name:p,exportBackground:E,exportWithDarkMode:C,exportScale:P,exportEmbedScene:T}),files:a,exportPadding:b.ma,maxWidthOrHeight:Math.max(n,r),exportingFrame:q}).then((function(t){return H(null),(0,b.yh)(t).then((function(){e.replaceChildren(t)})).catch((function(e){throw"CANVAS_POSSIBLY_TOO_BIG"===e.name?new Error(Fi("canvasError.canvasTooBig")):e}))})).catch((function(e){console.error(e),H(e)}))}}),[t,a,K,q,p,E,C,P,T]),(0,V.jsxs)("div",{className:"ImageExportModal",children:[(0,V.jsx)("h3",{children:Fi("imageExportDialog.header")}),(0,V.jsxs)("div",{className:"ImageExportModal__preview",children:[(0,V.jsx)("div",{className:"ImageExportModal__preview__canvas",ref:F,children:B&&(0,V.jsx)(eu,{})}),(0,V.jsx)("div",{className:"ImageExportModal__preview__filename",children:!b.eh&&(0,V.jsx)("input",{type:"text",className:"TextInput",value:p,style:{width:"30ch"},onChange:function(e){U(e.target.value),i.executeAction(Yl,"ui",e.target.value)}})})]}),(0,V.jsxs)("div",{className:"ImageExportModal__settings",children:[(0,V.jsx)("h3",{children:Fi("imageExportDialog.header")}),u&&(0,V.jsx)(nu,{label:Fi("imageExportDialog.label.onlySelected"),name:"exportOnlySelected",children:(0,V.jsx)($d,{name:"exportOnlySelected",checked:y,onChange:function(e){x(e)}})}),(0,V.jsx)(nu,{label:Fi("imageExportDialog.label.withBackground"),name:"exportBackgroundSwitch",children:(0,V.jsx)($d,{name:"exportBackgroundSwitch",checked:E,onChange:function(e){k(e),i.executeAction(Kl,"ui",e)}})}),Jd&&(0,V.jsx)(nu,{label:Fi("imageExportDialog.label.darkMode"),name:"exportDarkModeSwitch",children:(0,V.jsx)($d,{name:"exportDarkModeSwitch",checked:C,onChange:function(e){j(e),i.executeAction(es,"ui",e)}})}),(0,V.jsx)(nu,{label:Fi("imageExportDialog.label.embedScene"),tooltip:Fi("imageExportDialog.tooltip.embedScene"),name:"exportEmbedSwitch",children:(0,V.jsx)($d,{name:"exportEmbedSwitch",checked:T,onChange:function(e){_(e),i.executeAction(ql,"ui",e)}})}),(0,V.jsx)(nu,{label:Fi("imageExportDialog.label.scale"),name:"exportScale",children:(0,V.jsx)(qd,{name:"exportScale",value:P,onChange:function(e){N(e),i.executeAction(Zl,"ui",e)},choices:b.la.map((function(e){return{value:e,label:"".concat(e,"\xd7")}}))})}),(0,V.jsxs)("div",{className:"ImageExportModal__settings__buttons",children:[(0,V.jsx)(Qd,{className:"ImageExportModal__settings__buttons__button",label:Fi("imageExportDialog.title.exportToPng"),onClick:function(){return o(b.U.png,K,{exportingFrame:q})},icon:b.Ze,children:Fi("imageExportDialog.button.exportToPng")}),(0,V.jsx)(Qd,{className:"ImageExportModal__settings__buttons__button",label:Fi("imageExportDialog.title.exportToSvg"),onClick:function(){return o(b.U.svg,K,{exportingFrame:q})},icon:b.Ze,children:Fi("imageExportDialog.button.exportToSvg")}),(b.ii||b.n)&&(0,V.jsx)(Qd,{className:"ImageExportModal__settings__buttons__button",label:Fi("imageExportDialog.title.copyPngToClipboard"),status:G,onClick:function(){var e=(0,s.A)((0,l.A)().mark((function e(){return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(b.U.clipboard,K,{exportingFrame:q});case 2:X();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),icon:b._e,children:Fi("imageExportDialog.button.copyPngToClipboard")})]})]})]})},nu=function(e){var t=e.label,n=e.children,r=e.tooltip,a=e.name;return(0,V.jsxs)("div",{className:"ImageExportModal__settings__setting",title:t,children:[(0,V.jsxs)("label",{htmlFor:a,className:"ImageExportModal__settings__setting__label",children:[t,r&&(0,V.jsx)(Il,{label:r,long:!0,children:b.af})]}),(0,V.jsx)("div",{className:"ImageExportModal__settings__setting__content",children:n})]})},ru=function(e){var t=e.elements,n=e.appState,a=e.files,i=e.actionManager,o=e.onExportImage,l=e.onCloseRequest,s=e.name,d=(0,r.useState)((function(){return{appStateSnapshot:(0,b.Nb)(n),elementsSnapshot:(0,b.Nb)(t)}})),u=(0,c.A)(d,1)[0],f=u.appStateSnapshot,h=u.elementsSnapshot;return(0,V.jsx)(Qc,{onCloseRequest:l,size:"wide",title:!1,children:(0,V.jsx)(tu,{elementsSnapshot:h,appStateSnapshot:f,files:a,actionManager:i,onExportImage:o,name:s})})},au=function(e){var t=e.children,n=e.side,r=e.className;return(0,V.jsx)("div",{className:(0,le.A)("FixedSideContainer","FixedSideContainer_side_".concat(n),r),children:t})},iu=100,ou=100,lu=function(e){switch(e){case b.hg.ARROW_UP:return"up";case b.hg.ARROW_DOWN:return"down";case b.hg.ARROW_RIGHT:return"right";case b.hg.ARROW_LEFT:return"left";default:return"right"}},su=function(e,t,n,r){var a=(0,g.A)(n.values()).reduce((function(r,a){var i,o;if((0,b.ec)(a)&&(o=a["predecessors"===e?"startBinding":"endBinding"])&&(null===(i=a["predecessors"===e?"endBinding":"startBinding"])||void 0===i?void 0:i.elementId)===t.id){var l=n.get(o.elementId);if(!l)return r;(0,b.Kb)((0,b.ic)(l),"not an ExcalidrawBindableElement");var s="predecessors"===e?a.points[a.points.length-1]:[0,0],c=(0,b.Dg)(t,(0,b.vg)(t),[s[0]+a.x,s[1]+a.y]);r.push({relative:l,heading:c})}return r}),[]);switch(r){case"up":return a.filter((function(e){return(0,b.Cg)(e.heading,b.Bg)})).map((function(e){return e.relative}));case"down":return a.filter((function(e){return(0,b.Cg)(e.heading,b.zg)})).map((function(e){return e.relative}));case"right":return a.filter((function(e){return(0,b.Cg)(e.heading,b.yg)})).map((function(e){return e.relative}));case"left":return a.filter((function(e){return(0,b.Cg)(e.heading,b.Ag)})).map((function(e){return e.relative}))}},cu=function(e,t,n){return su("successors",e,t,n)},du=function(e,t,n){return su("predecessors",e,t,n)},uu=function(e,t,n,r){var a=cu(e,t,r),i=du(e,t,r),o=function(e,t,n){var r=ou+e.width;if("up"===n||"down"===n){var a=iu+e.height,i=e.x,o=e.x+e.width;if(t.every((function(e){return e.x+e.width<i||e.x>o})))return{x:0,y:a*("up"===n?-1:1)}}else if("right"===n||"left"===n){var l=e.y,s=e.y+e.height;if(t.every((function(e){return e.y+e.height<l||e.y>s})))return{x:(ou+e.width)*("left"===n?-1:1),y:0}}if("up"===n||"down"===n){var c=iu+e.height,d=(t.length,c),u=0===t.length?0:(t.length+1)%2===0?(t.length+1)/2*r:t.length/2*r*-1;return"up"===n?{x:u,y:-1*d}:{x:u,y:d}}var f=iu+e.height,h=(t.length,ou+e.width),p=0===t.length?0:(t.length+1)%2===0?(t.length+1)/2*f:t.length/2*f*-1;return"left"===n?{x:-1*h,y:p}:{x:h,y:p}}(e,[].concat((0,g.A)(a),(0,g.A)(i)),r),l=(0,b.Sf)({type:e.type,x:e.x+o.x,y:e.y+o.y,width:e.width,height:e.height,roundness:e.roundness,roughness:e.roughness,backgroundColor:e.backgroundColor,strokeColor:e.strokeColor,strokeWidth:e.strokeWidth,opacity:e.opacity,fillStyle:e.fillStyle,strokeStyle:e.strokeStyle});return(0,b.Kb)((0,b.lc)(l),"not an ExcalidrawFlowchartNodeElement"),{nextNode:l,bindingArrow:fu(e,l,t,r,n)}},fu=function(e,t,n,r,a){var i,o,l,s;switch(r){case"up":i=e.x+e.width/2,o=e.y-6;break;case"down":i=e.x+e.width/2,o=e.y+e.height+6;break;case"right":i=e.x+e.width+6,o=e.y+e.height/2;break;case"left":i=e.x-6,o=e.y+e.height/2}switch(r){case"up":l=t.x+t.width/2-i,s=t.y+t.height-o+6;break;case"down":l=t.x+t.width/2-i,s=t.y-o-6;break;case"right":l=t.x-i-6,s=t.y-o+t.height/2;break;case"left":l=t.x+t.width-i+6,s=t.y-o+t.height/2}var c=(0,b.$f)({type:"arrow",x:i,y:o,startArrowhead:null,endArrowhead:a.currentItemEndArrowhead,strokeColor:e.strokeColor,strokeStyle:e.strokeStyle,strokeWidth:e.strokeWidth,opacity:e.opacity,roughness:e.roughness,points:[(0,b.Ua)(0,0),(0,b.Ua)(l,s)],elbowed:!0});(0,b.Mg)(c,e,"start",n),(0,b.Mg)(c,t,"end",n);var d=new Map;d.set(e.id,e),d.set(t.id,t),d.set(c.id,c),b.pj.movePoints(c,[{index:1,point:c.points[1]}]);var u=(0,b.ih)(c,(0,b.Sb)(new Map([].concat((0,g.A)(n.entries()),[[e.id,e],[t.id,t],[c.id,c]]))),{points:c.points});return(0,v.A)((0,v.A)({},c),u)},hu=function(){return(0,h.A)((function e(){(0,f.A)(this,e),(0,A.d)(this,"isExploring",!1),(0,A.d)(this,"sameLevelNodes",[]),(0,A.d)(this,"sameLevelIndex",0),(0,A.d)(this,"direction",null),(0,A.d)(this,"visitedNodes",new Set)}),[{key:"clear",value:function(){this.isExploring=!1,this.sameLevelNodes=[],this.sameLevelIndex=0,this.direction=null,this.visitedNodes.clear()}},{key:"exploreByDirection",value:function(e,t,n){var r=this;if(!(0,b.ic)(e))return null;if(n!==this.direction&&this.clear(),this.visitedNodes.has(e.id)||this.visitedNodes.add(e.id),this.isExploring&&n===this.direction&&this.sameLevelNodes.length>1)return this.sameLevelIndex=(this.sameLevelIndex+1)%this.sameLevelNodes.length,this.sameLevelNodes[this.sameLevelIndex].id;var a=[].concat((0,g.A)(cu(e,t,n)),(0,g.A)(du(e,t,n)));if(a.length>0)return this.sameLevelIndex=0,this.isExploring=!0,this.sameLevelNodes=a,this.direction=n,this.visitedNodes.add(a[0].id),a[0].id;if(n===this.direction||!this.isExploring){this.isExploring||this.visitedNodes.add(e.id);var i,o=["up","right","down","left"].filter((function(e){return e!==n})).map((function(n){return[].concat((0,g.A)(cu(e,t,n)),(0,g.A)(du(e,t,n)))})).flat().filter((function(e){return!r.visitedNodes.has(e.id)})),l=(0,U.A)(o);try{for(l.s();!(i=l.n()).done;){var s=i.value;if(!this.visitedNodes.has(s.id))return this.visitedNodes.add(s.id),this.isExploring=!0,this.direction=n,s.id}}catch(c){l.e(c)}finally{l.f()}}return null}}])}(),pu=function(){return(0,h.A)((function e(){(0,f.A)(this,e),(0,A.d)(this,"isCreatingChart",!1),(0,A.d)(this,"numberOfNodes",0),(0,A.d)(this,"direction","right"),(0,A.d)(this,"pendingNodes",null)}),[{key:"createNodes",value:function(e,t,n,r){if(r!==this.direction){var a=uu(e,t,n,r),i=a.nextNode,o=a.bindingArrow;this.numberOfNodes=1,this.isCreatingChart=!0,this.direction=r,this.pendingNodes=[i,o]}else{this.numberOfNodes+=1;var l=function(e,t,n,r,a){for(var i=[],o=0;o<a;o++){var l=void 0,s=void 0;if("left"===r||"right"===r){var c=iu*(a-1)+a*e.height,d=e.y+e.height/2-c/2,u=ou+e.width;"left"===r&&(u*=-1),l=e.x+u,s=d+(iu+e.height)*o}else{var f=ou*(a-1)+a*e.width,h=e.x+e.width/2-f/2,p=iu+e.height;"up"===r&&(p*=-1),s=e.y+p,l=h+(ou+e.width)*o}var v=(0,b.Sf)({type:e.type,x:l,y:s,width:e.width,height:e.height,roundness:e.roundness,roughness:e.roughness,backgroundColor:e.backgroundColor,strokeColor:e.strokeColor,strokeWidth:e.strokeWidth,opacity:e.opacity,fillStyle:e.fillStyle,strokeStyle:e.strokeStyle});(0,b.Kb)((0,b.lc)(v),"not an ExcalidrawFlowchartNodeElement");var U=fu(e,v,t,r,n);i.push(v),i.push(U)}return i}(e,t,n,r,this.numberOfNodes);this.isCreatingChart=!0,this.direction=r,this.pendingNodes=l}if(e.frameId){var s=t.get(e.frameId);(0,b.Kb)(s&&(0,b.$b)(s),"not an ExcalidrawFrameElement"),s&&this.pendingNodes.every((function(e){return(0,b.xi)([e],s,t)||(0,b.yi)(e,s,t)}))&&(this.pendingNodes=this.pendingNodes.map((function(t){return(0,b.Pj)(t,{frameId:e.frameId},!1)})))}}},{key:"clear",value:function(){this.isCreatingChart=!1,this.pendingNodes=null,this.direction=null,this.numberOfNodes=0}}])}(),vu=function(e){var t,n,r=e.appState,a=e.isMobile,i=e.device,o=e.app,l=r.activeTool,s=r.isResizing,d=r.isRotating,u=r.lastPointerDownWith,f=null!==r.multiElement;if((null===(t=r.openSidebar)||void 0===t?void 0:t.name)===b.ya.name&&r.openSidebar.tab===b.xa&&null!==(n=r.searchMatches)&&void 0!==n&&n.length)return Fi("hints.dismissSearch");if(r.openSidebar&&!i.editor.canFitSidebar)return null;if((0,b.Gc)(r))return Fi("hints.eraserRevert");if("arrow"===l.type||"line"===l.type)return f?Fi("hints.linearElementMulti"):"arrow"===l.type?Fi("hints.arrowTool",{arrowShortcut:(0,b.kb)("A")}):Fi("hints.linearElement");if("freedraw"===l.type)return Fi("hints.freeDraw");if("text"===l.type)return Fi("hints.text");if("embeddable"===l.type)return Fi("hints.embeddable");if("image"===r.activeTool.type&&r.pendingImageElementId)return Fi("hints.placeImage");var h=o.scene.getSelectedElements(r);if(s&&"mouse"===u&&1===h.length){var p=h[0];return(0,b.cc)(p)&&2===p.points.length?Fi("hints.lockAngle"):(0,b.Wb)(p)?Fi("hints.resizeImage"):Fi("hints.resize")}if(d&&"mouse"===u)return Fi("hints.rotate");if(1===h.length&&(0,b._b)(h[0]))return Fi("hints.text_selected");if(r.editingTextElement)return Fi("hints.text_editing");if(r.croppingElementId)return Fi("hints.leaveCropEditor");if(1===h.length&&(0,b.Wb)(h[0]))return Fi("hints.enterCropEditor");if("selection"===l.type){if(r.selectionElement&&!h.length&&!r.editingTextElement&&!r.editingLinearElement)return Fi("hints.deepBoxSelect");if((0,b.fj)(o)&&r.selectedElementsAreBeingDragged)return Fi("hints.disableSnapping");if(!h.length&&!a)return Fi("hints.canvasPanning");if(1===h.length){if((0,b.cc)(h[0]))return r.editingLinearElement?r.editingLinearElement.selectedPointsIndices?Fi("hints.lineEditor_pointSelected"):Fi("hints.lineEditor_nothingSelected"):Fi("hints.lineEditor_info");if(!r.newElement&&!r.selectedElementsAreBeingDragged&&(0,b.jc)(h[0]))return(0,b.lc)(h[0])?(function(e,t){var n,r=(0,U.A)(t);try{for(r.s();!(n=r.n()).done;){var a,i,o=(0,c.A)(n.value,2)[1];if("arrow"===o.type&&((null===(a=o.startBinding)||void 0===a?void 0:a.elementId)===e.id||(null===(i=o.endBinding)||void 0===i?void 0:i.elementId)===e.id))return!0}}catch(l){r.e(l)}finally{r.f()}}(h[0],o.scene.getNonDeletedElementsMap()),[Fi("hints.bindTextToElement"),Fi("hints.createFlowchart")]):Fi("hints.bindTextToElement")}}return null},Uu=function(e){var t=e.appState,n=e.isMobile,r=e.device,a=e.app,i=vu({appState:t,isMobile:n,device:r,app:a});if(!i)return null;var o=Array.isArray(i)?i.map((function(e){return(0,b.kb)(e).replace(/\. ?$/,"")})).join(". "):(0,b.kb)(i);return(0,V.jsx)("div",{className:"HintViewer",children:(0,V.jsx)("span",{children:o})})},mu={CHECKED:b.kd,UNCHECKED:b.jd},gu=function(e){return(0,V.jsxs)("label",{className:(0,le.A)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title," \u2014 Q"),children:[(0,V.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title,"data-testid":"toolbar-lock"}),(0,V.jsx)("div",{className:"ToolIcon__icon",children:e.checked?mu.CHECKED:mu.UNCHECKED})]})},bu=function(e){var t=e.heading,n=e.children,r=(0,m.A)(e,ti),a=Qp().id,i=(0,V.jsx)("h2",{className:"visually-hidden",id:"".concat(a,"-").concat(t,"-title"),children:Fi("headings.".concat(t))});return(0,V.jsx)("section",(0,v.A)((0,v.A)({},r),{},{"aria-labelledby":"".concat(a,"-").concat(t,"-title"),children:"function"==typeof n?n(i):(0,V.jsxs)(V.Fragment,{children:[i,n]})}))},yu=function(e,t,n){var r=[e.horizontal,e.vertical].map((function(e){return null!=e&&e.x<=t&&t<=e.x+e.width&&e.y<=n&&n<=e.y+e.height})),a=(0,c.A)(r,2),i=a[0],o=a[1];return{isOverEither:i||o,isOverHorizontal:i,isOverVertical:o}},xu=function(e){return e.penDetected?(0,V.jsxs)("label",{className:(0,le.A)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,V.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,V.jsx)("div",{className:"ToolIcon__icon",children:b.od})]}):null},wu=function(e){return(0,V.jsx)(Xi,{className:(0,le.A)("Shape",{fillable:!1}),type:"radio",icon:b.Ye,name:"editor-current-shape",checked:e.checked,title:"".concat(e.title," \u2014 H"),keyBindingLabel:e.isMobile?void 0:b.hg.H.toLocaleUpperCase(),"aria-label":"".concat(e.title," \u2014 H"),"aria-keyshortcuts":b.hg.H,"data-testid":"toolbar-hand",onChange:function(){var t;return null===(t=e.onChange)||void 0===t?void 0:t.call(e)}})},Au=function(e){var t,n,r=e.appState,a=e.elements,i=e.actionManager,o=e.setAppState,l=e.onLockToggle,s=e.onHandToolToggle,c=e.onPenModeToggle,d=e.renderTopRightUI,u=(e.renderCustomStats,e.renderSidebars),f=e.device,h=e.renderWelcomeScreen,p=e.UIOptions,U=e.app,m=cd(),g=m.WelcomeScreenCenterTunnel,y=m.MainMenuTunnel,x=m.DefaultSidebarTriggerTunnel;return(0,V.jsxs)(V.Fragment,{children:[u(),!r.viewModeEnabled&&"elementLinkSelector"!==(null===(t=r.openDialog)||void 0===t?void 0:t.name)&&(0,V.jsxs)(au,{side:"top",className:"App-top-bar",children:[h&&(0,V.jsx)(g.Out,{}),(0,V.jsx)(bu,{heading:"shapes",children:function(e){var t;return(0,V.jsx)(uc.Col,{gap:4,align:"center",children:(0,V.jsxs)(uc.Row,{gap:1,className:"App-toolbar-container",children:[(0,V.jsxs)(Ho,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[e,(0,V.jsx)(uc.Row,{gap:1,children:(0,V.jsx)(pd,{appState:r,activeTool:r.activeTool,UIOptions:p,app:U})})]}),d&&d(!0,r),(0,V.jsxs)("div",{className:"mobile-misc-tools-container",children:[!r.viewModeEnabled&&"elementLinkSelector"!==(null===(t=r.openDialog)||void 0===t?void 0:t.name)&&(0,V.jsx)(x.Out,{}),(0,V.jsx)(xu,{checked:r.penMode,onChange:function(){return c(null)},title:Fi("toolBar.penMode"),isMobile:!0,penDetected:r.penDetected}),(0,V.jsx)(gu,{checked:r.activeTool.locked,onChange:l,title:Fi("toolBar.lock"),isMobile:!0}),(0,V.jsx)(wu,{checked:(0,b.Hc)(r),onChange:function(){return s()},title:Fi("toolBar.hand"),isMobile:!0})]})]})})}}),(0,V.jsx)(Uu,{appState:r,isMobile:!0,device:f,app:U})]}),(0,V.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14},children:(0,V.jsxs)(Ho,{padding:0,children:["shape"===r.openMenu&&!r.viewModeEnabled&&"elementLinkSelector"!==(null===(n=r.openDialog)||void 0===n?void 0:n.name)&&(0,b.lk)(r,a)?(0,V.jsx)(bu,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,V.jsx)(hd,{appState:r,elementsMap:U.scene.getNonDeletedElementsMap(),renderAction:i.renderAction,app:U})}):null,(0,V.jsxs)("footer",{className:"App-toolbar",children:[function(){var e;return r.viewModeEnabled||"elementLinkSelector"===(null===(e=r.openDialog)||void 0===e?void 0:e.name)?(0,V.jsx)("div",{className:"App-toolbar-content",children:(0,V.jsx)(y.Out,{})}):(0,V.jsxs)("div",{className:"App-toolbar-content",children:[(0,V.jsx)(y.Out,{}),i.renderAction("toggleEditMenu"),i.renderAction(r.multiElement?"finalize":"duplicateSelection"),i.renderAction("deleteSelectedElements"),(0,V.jsxs)("div",{children:[i.renderAction("undo"),i.renderAction("redo")]})]})}(),r.scrolledOutside&&!r.openMenu&&!r.openSidebar&&(0,V.jsx)("button",{type:"button",className:"scroll-back-to-content",onClick:function(){o((function(e){return(0,v.A)({},(0,b.zk)(a,e))}))},children:Fi("buttons.scrollBackToContent")})]})]})})]})},Eu=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(null),a=(0,c.A)(n,2),i=a[0],o=a[1];return(0,r.useLayoutEffect)((function(){if(e.spreadsheet){var n=(0,b.gi)(e.chartType,e.spreadsheet,0,0);o(n);var r,a=t.current;return(0,s.A)((0,l.A)().mark((function t(){var i;return(0,l.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.ei)(n,{exportBackground:!1,viewBackgroundColor:Bn.white},null,{skipInliningFonts:!0});case 2:return r=t.sent,null!==(i=r.querySelector(".style-fonts"))&&void 0!==i&&i.remove(),a.replaceChildren(),a.appendChild(r),t.abrupt("return",e.selected&&a.parentNode.focus());case 7:case"end":return t.stop()}}),t)})))(),function(){a.replaceChildren()}}}),[e.spreadsheet,e.chartType,e.selected]),(0,V.jsx)("button",{type:"button",className:"ChartPreview",onClick:function(){i&&e.onClick(e.chartType,i)},children:(0,V.jsx)("div",{ref:t})})},ku=function(e){var t=e.setAppState,n=e.appState,a=e.onClose,i=Kp().onInsertElements,o=r.useCallback((function(){a&&a()}),[a]),l=function(e,n){i(n),vo("paste","chart",e),t({currentChartType:e,pasteDialog:{shown:!1,data:null}})};return(0,V.jsx)(Qc,{size:"small",onCloseRequest:o,title:Fi("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,V.jsxs)("div",{className:"container",children:[(0,V.jsx)(Eu,{chartType:"bar",spreadsheet:n.pasteDialog.data,selected:"bar"===n.currentChartType,onClick:l}),(0,V.jsx)(Eu,{chartType:"line",spreadsheet:n.pasteDialog.data,selected:"line"===n.currentChartType,onClick:l})]})})},Su=function(){return(0,V.jsxs)("div",{className:"HelpDialog__header",children:[(0,V.jsxs)("a",{className:"HelpDialog__btn",href:"https://docs.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,V.jsx)("div",{className:"HelpDialog__link-icon",children:b.Dd}),Fi("helpDialog.documentation")]}),(0,V.jsxs)("a",{className:"HelpDialog__btn",href:"https://plus.excalidraw.com/blog",target:"_blank",rel:"noopener noreferrer",children:[(0,V.jsx)("div",{className:"HelpDialog__link-icon",children:b.Dd}),Fi("helpDialog.blog")]}),(0,V.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,V.jsx)("div",{className:"HelpDialog__link-icon",children:b.Ed}),Fi("helpDialog.github")]}),(0,V.jsxs)("a",{className:"HelpDialog__btn",href:"https://youtube.com/@excalidraw",target:"_blank",rel:"noopener noreferrer",children:[(0,V.jsx)("div",{className:"HelpDialog__link-icon",children:b.Ff}),"YouTube"]})]})},Mu=function(e){return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("h3",{children:e.title}),(0,V.jsx)("div",{className:"HelpDialog__islands-container",children:e.children})]})},Cu=function(e){return(0,V.jsxs)("div",{className:"HelpDialog__island ".concat(e.className),children:[(0,V.jsx)("h4",{className:"HelpDialog__island-title",children:e.caption}),(0,V.jsx)("div",{className:"HelpDialog__island-content",children:e.children})]})};function ju(e,t){var n,r,a,i;return(0,l.A)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=!0,r=(0,U.A)(e),o.prev=2,r.s();case 4:if((a=r.n()).done){o.next=15;break}if(i=a.value,o.t0=n,o.t0){o.next=10;break}return o.next=10,t;case 10:return n=!1,o.next=13,i;case 13:o.next=4;break;case 15:o.next=20;break;case 17:o.prev=17,o.t1=o.catch(2),r.e(o.t1);case 20:return o.prev=20,r.f(),o.finish(20);case 23:case"end":return o.stop()}}),wi,null,[[2,17,20,23]])}var Iu=function(e){return e.replace(/\b[a-z]\b/,(function(e){return e.toUpperCase()}))},Du=function(e){var t=e.label,n=e.shortcuts,r=e.isOr,a=void 0===r||r,i=n.map((function(e){return(e.endsWith("++")?[].concat((0,g.A)(e.slice(0,-2).split("+")),["+"]):e.split("+")).map((function(e){return(0,V.jsx)(Tu,{children:Iu(e)},e)}))}));return(0,V.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,V.jsx)("div",{children:t}),(0,V.jsx)("div",{className:"HelpDialog__key-container",children:(0,g.A)(ju(i,a?Fi("helpDialog.or"):null))})]})},Tu=function(e){return(0,V.jsx)("kbd",(0,v.A)({className:"HelpDialog__key"},e))},_u=function(e){var t=e.onClose,n=r.useCallback((function(){t&&t()}),[t]);return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)(Qc,{onCloseRequest:n,title:Fi("helpDialog.title"),className:"HelpDialog",children:[(0,V.jsx)(Su,{}),(0,V.jsxs)(Mu,{title:Fi("helpDialog.shortcuts"),children:[(0,V.jsxs)(Cu,{className:"HelpDialog__island--tools",caption:Fi("helpDialog.tools"),children:[(0,V.jsx)(Du,{label:Fi("toolBar.hand"),shortcuts:[b.hg.H]}),(0,V.jsx)(Du,{label:Fi("toolBar.selection"),shortcuts:[b.hg.V,b.hg[1]]}),(0,V.jsx)(Du,{label:Fi("toolBar.rectangle"),shortcuts:[b.hg.R,b.hg[2]]}),(0,V.jsx)(Du,{label:Fi("toolBar.diamond"),shortcuts:[b.hg.D,b.hg[3]]}),(0,V.jsx)(Du,{label:Fi("toolBar.ellipse"),shortcuts:[b.hg.O,b.hg[4]]}),(0,V.jsx)(Du,{label:Fi("toolBar.arrow"),shortcuts:[b.hg.A,b.hg[5]]}),(0,V.jsx)(Du,{label:Fi("toolBar.line"),shortcuts:[b.hg.L,b.hg[6]]}),(0,V.jsx)(Du,{label:Fi("toolBar.freedraw"),shortcuts:[b.hg.P,b.hg[7]]}),(0,V.jsx)(Du,{label:Fi("toolBar.text"),shortcuts:[b.hg.T,b.hg[8]]}),(0,V.jsx)(Du,{label:Fi("toolBar.image"),shortcuts:[b.hg[9]]}),(0,V.jsx)(Du,{label:Fi("toolBar.eraser"),shortcuts:[b.hg.E,b.hg[0]]}),(0,V.jsx)(Du,{label:Fi("toolBar.frame"),shortcuts:[b.hg.F]}),(0,V.jsx)(Du,{label:Fi("toolBar.laser"),shortcuts:[b.hg.K]}),(0,V.jsx)(Du,{label:Fi("labels.eyeDropper"),shortcuts:[b.hg.I,"Shift+S","Shift+G"]}),(0,V.jsx)(Du,{label:Fi("helpDialog.editLineArrowPoints"),shortcuts:[(0,b.kb)("CtrlOrCmd+Enter")]}),(0,V.jsx)(Du,{label:Fi("helpDialog.editText"),shortcuts:[(0,b.kb)("Enter")]}),(0,V.jsx)(Du,{label:Fi("helpDialog.textNewLine"),shortcuts:[(0,b.kb)("Enter"),(0,b.kb)("Shift+Enter")]}),(0,V.jsx)(Du,{label:Fi("helpDialog.textFinish"),shortcuts:[(0,b.kb)("Esc"),(0,b.kb)("CtrlOrCmd+Enter")]}),(0,V.jsx)(Du,{label:Fi("helpDialog.curvedArrow"),shortcuts:["A",Fi("helpDialog.click"),Fi("helpDialog.click"),Fi("helpDialog.click")],isOr:!1}),(0,V.jsx)(Du,{label:Fi("helpDialog.curvedLine"),shortcuts:["L",Fi("helpDialog.click"),Fi("helpDialog.click"),Fi("helpDialog.click")],isOr:!1}),(0,V.jsx)(Du,{label:Fi("helpDialog.cropStart"),shortcuts:[Fi("helpDialog.doubleClick"),(0,b.kb)("Enter")],isOr:!0}),(0,V.jsx)(Du,{label:Fi("helpDialog.cropFinish"),shortcuts:[(0,b.kb)("Enter"),(0,b.kb)("Escape")],isOr:!0}),(0,V.jsx)(Du,{label:Fi("toolBar.lock"),shortcuts:[b.hg.Q]}),(0,V.jsx)(Du,{label:Fi("helpDialog.preventBinding"),shortcuts:[(0,b.kb)("CtrlOrCmd")]}),(0,V.jsx)(Du,{label:Fi("toolBar.link"),shortcuts:[(0,b.kb)("CtrlOrCmd+K")]})]}),(0,V.jsxs)(Cu,{className:"HelpDialog__island--view",caption:Fi("helpDialog.view"),children:[(0,V.jsx)(Du,{label:Fi("buttons.zoomIn"),shortcuts:[(0,b.kb)("CtrlOrCmd++")]}),(0,V.jsx)(Du,{label:Fi("buttons.zoomOut"),shortcuts:[(0,b.kb)("CtrlOrCmd+-")]}),(0,V.jsx)(Du,{label:Fi("buttons.resetZoom"),shortcuts:[(0,b.kb)("CtrlOrCmd+0")]}),(0,V.jsx)(Du,{label:Fi("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,V.jsx)(Du,{label:Fi("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,V.jsx)(Du,{label:Fi("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,V.jsx)(Du,{label:Fi("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,V.jsx)(Du,{label:Fi("buttons.zenMode"),shortcuts:[(0,b.kb)("Alt+Z")]}),(0,V.jsx)(Du,{label:Fi("buttons.objectsSnapMode"),shortcuts:[(0,b.kb)("Alt+S")]}),(0,V.jsx)(Du,{label:Fi("labels.toggleGrid"),shortcuts:[(0,b.kb)("CtrlOrCmd+'")]}),(0,V.jsx)(Du,{label:Fi("labels.viewMode"),shortcuts:[(0,b.kb)("Alt+R")]}),(0,V.jsx)(Du,{label:Fi("labels.toggleTheme"),shortcuts:[(0,b.kb)("Alt+Shift+D")]}),(0,V.jsx)(Du,{label:Fi("stats.fullTitle"),shortcuts:[(0,b.kb)("Alt+/")]}),(0,V.jsx)(Du,{label:Fi("search.title"),shortcuts:[nd("searchMenu")]}),(0,V.jsx)(Du,{label:Fi("commandPalette.title"),shortcuts:b.n?[nd("commandPalette")]:[nd("commandPalette"),nd("commandPalette",1)]})]}),(0,V.jsxs)(Cu,{className:"HelpDialog__island--editor",caption:Fi("helpDialog.editor"),children:[(0,V.jsx)(Du,{label:Fi("helpDialog.createFlowchart"),shortcuts:[(0,b.kb)("CtrlOrCmd+Arrow Key")],isOr:!0}),(0,V.jsx)(Du,{label:Fi("helpDialog.navigateFlowchart"),shortcuts:[(0,b.kb)("Alt+Arrow Key")],isOr:!0}),(0,V.jsx)(Du,{label:Fi("labels.moveCanvas"),shortcuts:[(0,b.kb)("Space+".concat(Fi("helpDialog.drag"))),(0,b.kb)("Wheel+".concat(Fi("helpDialog.drag")))],isOr:!0}),(0,V.jsx)(Du,{label:Fi("buttons.clearReset"),shortcuts:[(0,b.kb)("CtrlOrCmd+Delete")]}),(0,V.jsx)(Du,{label:Fi("labels.delete"),shortcuts:[(0,b.kb)("Delete")]}),(0,V.jsx)(Du,{label:Fi("labels.cut"),shortcuts:[(0,b.kb)("CtrlOrCmd+X")]}),(0,V.jsx)(Du,{label:Fi("labels.copy"),shortcuts:[(0,b.kb)("CtrlOrCmd+C")]}),(0,V.jsx)(Du,{label:Fi("labels.paste"),shortcuts:[(0,b.kb)("CtrlOrCmd+V")]}),(0,V.jsx)(Du,{label:Fi("labels.pasteAsPlaintext"),shortcuts:[(0,b.kb)("CtrlOrCmd+Shift+V")]}),(0,V.jsx)(Du,{label:Fi("labels.selectAll"),shortcuts:[(0,b.kb)("CtrlOrCmd+A")]}),(0,V.jsx)(Du,{label:Fi("labels.multiSelect"),shortcuts:[(0,b.kb)("Shift+".concat(Fi("helpDialog.click")))]}),(0,V.jsx)(Du,{label:Fi("helpDialog.deepSelect"),shortcuts:[(0,b.kb)("CtrlOrCmd+".concat(Fi("helpDialog.click")))]}),(0,V.jsx)(Du,{label:Fi("helpDialog.deepBoxSelect"),shortcuts:[(0,b.kb)("CtrlOrCmd+".concat(Fi("helpDialog.drag")))]}),(b.ii||b.n)&&(0,V.jsx)(Du,{label:Fi("labels.copyAsPng"),shortcuts:[(0,b.kb)("Shift+Alt+C")]}),(0,V.jsx)(Du,{label:Fi("labels.copyStyles"),shortcuts:[(0,b.kb)("CtrlOrCmd+Alt+C")]}),(0,V.jsx)(Du,{label:Fi("labels.pasteStyles"),shortcuts:[(0,b.kb)("CtrlOrCmd+Alt+V")]}),(0,V.jsx)(Du,{label:Fi("labels.sendToBack"),shortcuts:[b.l?(0,b.kb)("CtrlOrCmd+Alt+["):(0,b.kb)("CtrlOrCmd+Shift+[")]}),(0,V.jsx)(Du,{label:Fi("labels.bringToFront"),shortcuts:[b.l?(0,b.kb)("CtrlOrCmd+Alt+]"):(0,b.kb)("CtrlOrCmd+Shift+]")]}),(0,V.jsx)(Du,{label:Fi("labels.sendBackward"),shortcuts:[(0,b.kb)("CtrlOrCmd+[")]}),(0,V.jsx)(Du,{label:Fi("labels.bringForward"),shortcuts:[(0,b.kb)("CtrlOrCmd+]")]}),(0,V.jsx)(Du,{label:Fi("labels.alignTop"),shortcuts:[(0,b.kb)("CtrlOrCmd+Shift+Up")]}),(0,V.jsx)(Du,{label:Fi("labels.alignBottom"),shortcuts:[(0,b.kb)("CtrlOrCmd+Shift+Down")]}),(0,V.jsx)(Du,{label:Fi("labels.alignLeft"),shortcuts:[(0,b.kb)("CtrlOrCmd+Shift+Left")]}),(0,V.jsx)(Du,{label:Fi("labels.alignRight"),shortcuts:[(0,b.kb)("CtrlOrCmd+Shift+Right")]}),(0,V.jsx)(Du,{label:Fi("labels.duplicateSelection"),shortcuts:[(0,b.kb)("CtrlOrCmd+D"),(0,b.kb)("Alt+".concat(Fi("helpDialog.drag")))]}),(0,V.jsx)(Du,{label:Fi("helpDialog.toggleElementLock"),shortcuts:[(0,b.kb)("CtrlOrCmd+Shift+L")]}),(0,V.jsx)(Du,{label:Fi("buttons.undo"),shortcuts:[(0,b.kb)("CtrlOrCmd+Z")]}),(0,V.jsx)(Du,{label:Fi("buttons.redo"),shortcuts:b.m?[(0,b.kb)("CtrlOrCmd+Y"),(0,b.kb)("CtrlOrCmd+Shift+Z")]:[(0,b.kb)("CtrlOrCmd+Shift+Z")]}),(0,V.jsx)(Du,{label:Fi("labels.group"),shortcuts:[(0,b.kb)("CtrlOrCmd+G")]}),(0,V.jsx)(Du,{label:Fi("labels.ungroup"),shortcuts:[(0,b.kb)("CtrlOrCmd+Shift+G")]}),(0,V.jsx)(Du,{label:Fi("labels.flipHorizontal"),shortcuts:[(0,b.kb)("Shift+H")]}),(0,V.jsx)(Du,{label:Fi("labels.flipVertical"),shortcuts:[(0,b.kb)("Shift+V")]}),(0,V.jsx)(Du,{label:Fi("labels.showStroke"),shortcuts:[(0,b.kb)("S")]}),(0,V.jsx)(Du,{label:Fi("labels.showBackground"),shortcuts:[(0,b.kb)("G")]}),(0,V.jsx)(Du,{label:Fi("labels.showFonts"),shortcuts:[(0,b.kb)("Shift+F")]}),(0,V.jsx)(Du,{label:Fi("labels.decreaseFontSize"),shortcuts:[(0,b.kb)("CtrlOrCmd+Shift+<")]}),(0,V.jsx)(Du,{label:Fi("labels.increaseFontSize"),shortcuts:[(0,b.kb)("CtrlOrCmd+Shift+>")]})]})]})]})})},Lu=function(e){var t=e.shouldWrap,n=e.children,r=e.username;return t?(0,V.jsx)(Il,{label:r||"Unknown user",children:n}):(0,V.jsx)(V.Fragment,{children:n})},Ru=function(e){var t=e.actionManager,n=e.collaborator,r=e.socketId,a=e.withName,i=void 0!==a&&a,o=e.shouldWrapWithTooltip,l=void 0!==o&&o,s={socketId:r,collaborator:n,withName:i,isBeingFollowed:e.isBeingFollowed},c=t.renderAction("goToCollaborator",s);return(0,V.jsx)(Lu,{username:n.username,shouldWrap:l,children:c},r)},Pu=["avatarUrl","id","socketId","username","isInCall","isSpeaking","isMuted"],Nu=r.memo((function(e){var t=e.className,n=e.mobile,a=e.collaborators,i=e.userToFollow,o=nv(),l=new Map;a.forEach((function(e,t){var n=e.id||t;l.set(n,(0,v.A)((0,v.A)({},e),{},{socketId:t}))}));var s=Array.from(l.values()).filter((function(e){var t;return null===(t=e.username)||void 0===t?void 0:t.trim()})),d=r.useState(""),u=(0,c.A)(d,2),f=u[0],h=u[1],p=s.filter((function(e){var t;return null===(t=e.username)||void 0===t?void 0:t.toLowerCase().includes(f)})),m=r.useRef(null);(0,r.useLayoutEffect)((function(){if(m.current){var e=function(e){var t=Math.max(1,Math.min(8,Math.floor(e/38)));w(t)};if(e(m.current.clientWidth),!b.r)return;var t=new ResizeObserver((function(t){var n,r=(0,U.A)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value.contentRect.width;e(a)}}catch(i){r.e(i)}finally{r.f()}}));return t.observe(m.current),function(){t.disconnect()}}}),[]);var g=r.useState(4),y=(0,c.A)(g,2),x=y[0],w=y[1],A=s.slice(0,x-1).map((function(e){return Ru({actionManager:o,collaborator:e,socketId:e.socketId,shouldWrapWithTooltip:!0,isBeingFollowed:e.socketId===i})}));return n?(0,V.jsx)("div",{className:(0,le.A)("UserList UserList_mobile",t),children:s.map((function(e){return Ru({actionManager:o,collaborator:e,socketId:e.socketId,shouldWrapWithTooltip:!0,isBeingFollowed:e.socketId===i})}))}):(0,V.jsx)("div",{className:"UserList__wrapper",ref:m,children:(0,V.jsxs)("div",{className:(0,le.A)("UserList",t),style:{"--max-avatars":x},children:[A,s.length>x-1&&(0,V.jsxs)(Pn,{children:[(0,V.jsxs)(Nn,{className:"UserList__more",children:["+",s.length-x+1]}),(0,V.jsx)(On,{style:{zIndex:2,width:"15rem",textAlign:"left"},align:"end",sideOffset:10,children:(0,V.jsxs)(Ho,{padding:2,children:[s.length>=8&&(0,V.jsx)(el,{placeholder:Fi("quickSearch.placeholder"),onChange:h}),(0,V.jsx)(tl,{className:"dropdown-menu UserList__collaborators",placeholder:Fi("userList.empty"),children:p.length>0?[(0,V.jsx)("div",{className:"hint",children:Fi("userList.hint.text")}),p.map((function(e){return Ru({actionManager:o,collaborator:e,socketId:e.socketId,withName:!0,isBeingFollowed:e.socketId===i})}))]:[]}),(0,V.jsx)(zn,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})]})]})})}),(function(e,t){if(e.collaborators.size!==t.collaborators.size||e.mobile!==t.mobile||e.className!==t.className||e.userToFollow!==t.userToFollow)return!1;var n,r=t.collaborators.keys(),a=(0,U.A)(e.collaborators);try{for(a.s();!(n=a.n()).done;){var i=(0,c.A)(n.value,2),o=i[0],l=i[1],s=t.collaborators.get(o);if(!s||o!==r.next().value||!(0,b.Hb)(l,s,Pu))return!1}}catch(d){a.e(d)}finally{a.f()}return!0})),Fu=function(e){var t=e.children,n=e.color;return(0,V.jsx)("div",{className:"Card",style:{"--card-color":"primary"===n?"var(--color-primary)":Bn[n][7],"--card-color-darker":"primary"===n?"var(--color-primary-darker)":Bn[n][8],"--card-color-darkest":"primary"===n?"var(--color-primary-darkest)":Bn[n][9]},children:t})},Ou=function(e){var t=e.elements,n=e.appState,r=e.setAppState,a=e.files,i=e.actionManager,o=e.exportOpts,c=e.canvas,d=e.onCloseRequest,u=o.onExportToBackend;return(0,V.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,V.jsxs)("div",{className:"ExportDialog-cards",children:[o.saveFileToDisk&&(0,V.jsxs)(Fu,{color:"lime",children:[(0,V.jsx)("div",{className:"Card-icon",children:b.Pd}),(0,V.jsx)("h2",{children:Fi("exportDialog.disk_title")}),(0,V.jsxs)("div",{className:"Card-details",children:[Fi("exportDialog.disk_details"),!b.eh&&i.renderAction("changeProjectName")]}),(0,V.jsx)(Xi,{className:"Card-button",type:"button",title:Fi("exportDialog.disk_button"),"aria-label":Fi("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){i.executeAction(Ql,"ui")}})]}),u&&(0,V.jsxs)(Fu,{color:"pink",children:[(0,V.jsx)("div",{className:"Card-icon",children:b.Id}),(0,V.jsx)("h2",{children:Fi("exportDialog.link_title")}),(0,V.jsx)("div",{className:"Card-details",children:Fi("exportDialog.link_details")}),(0,V.jsx)(Xi,{className:"Card-button",type:"button",title:Fi("exportDialog.link_button"),"aria-label":Fi("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){var e=(0,s.A)((0,l.A)().mark((function e(){return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,vo("export","link","ui (".concat((0,b.Eb)(),")")),e.next=4,u(t,n,a);case 4:d(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r({errorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})]}),o.renderCustomUI&&o.renderCustomUI(t,n,a,c)]})})},zu=function(e){var t,n=e.elements,a=e.appState,i=e.files,o=e.actionManager,l=e.exportOpts,s=e.canvas,c=e.setAppState,d=r.useCallback((function(){c({openDialog:null})}),[c]);return(0,V.jsx)(V.Fragment,{children:"jsonExport"===(null===(t=a.openDialog)||void 0===t?void 0:t.name)&&(0,V.jsx)(Qc,{onCloseRequest:d,title:Fi("buttons.export"),children:(0,V.jsx)(Ou,{elements:n,appState:a,setAppState:c,files:i,actionManager:o,onCloseRequest:d,exportOpts:l,canvas:s})})})},Bu=function(e){return(0,V.jsx)("button",{className:"help-icon",onClick:e.onClick,type:"button",title:"".concat(Fi("helpDialog.title")," \u2014 ?"),"aria-label":Fi("helpDialog.title"),children:b.Bd})},Hu=function(e){var t=e.appState,n=e.actionManager,r=e.showExitZenModeBtn,a=e.renderWelcomeScreen,i=cd(),o=i.FooterCenterTunnel,l=i.WelcomeScreenHelpHintTunnel,s=$p(),c=!t.viewModeEnabled&&t.multiElement&&s.isTouchScreen;return(0,V.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,V.jsx)("div",{className:(0,le.A)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":t.zenModeEnabled}),children:(0,V.jsx)(uc.Col,{gap:2,children:(0,V.jsxs)(bu,{heading:"canvasActions",children:[(0,V.jsx)(vd,{renderAction:n.renderAction,zoom:t.zoom}),!t.viewModeEnabled&&(0,V.jsx)(Ud,{renderAction:n.renderAction,className:(0,le.A)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":t.zenModeEnabled})}),c&&(0,V.jsx)(gd,{renderAction:n.renderAction,className:(0,le.A)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":t.zenModeEnabled})})]})})}),(0,V.jsx)(o.Out,{}),(0,V.jsx)("div",{className:(0,le.A)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right":t.zenModeEnabled}),children:(0,V.jsxs)("div",{style:{position:"relative"},children:[a&&(0,V.jsx)(l.Out,{}),(0,V.jsx)(Bu,{onClick:function(){return n.executeAction(as)}})]})}),(0,V.jsx)(md,{actionManager:n,showExitZenModeBtn:r})]})},Wu=Hu;Hu.displayName="Footer";var Xu=r.createContext({}),Gu=function(e){var t=e.children,n=e.className,a=$p(),i=(0,r.useContext)(Xu),o=!(!a.editor.canFitSidebar||!i.shouldRenderDockButton);return(0,V.jsxs)("div",{className:(0,le.A)("sidebar__header",n),"data-testid":"sidebar-header",children:[t,(0,V.jsxs)("div",{className:"sidebar__header__buttons",children:[o&&(0,V.jsx)(Il,{label:Fi("labels.sidebarLock"),children:(0,V.jsx)(Jc,{onSelect:function(){var e;return null===(e=i.onDock)||void 0===e?void 0:e.call(i,!i.docked)},selected:!!i.docked,className:"sidebar__dock","data-testid":"sidebar-dock","aria-label":Fi("labels.sidebarLock"),children:b.id})}),(0,V.jsx)(Jc,{"data-testid":"sidebar-close",className:"sidebar__close",onSelect:i.onCloseRequest,"aria-label":Fi("buttons.close"),children:b.ge})]})]})};Gu.displayName="SidebarHeader";var Vu=function(e){var t,n=e.name,r=e.tab,a=e.icon,i=e.title,o=e.children,l=e.onToggle,s=e.className,c=e.style,d=tv(),u=Ro();return(0,V.jsxs)("label",{title:i,className:"sidebar-trigger__label-element",children:[(0,V.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:function(e){var t;null===(t=document.querySelector(".layer-ui__wrapper"))||void 0===t||t.classList.remove("animate");var a=e.target.checked;d({openSidebar:a?{name:n,tab:r}:null}),null===l||void 0===l||l(a)},checked:(null===(t=u.openSidebar)||void 0===t?void 0:t.name)===n,"aria-label":i,"aria-keyshortcuts":"0"}),(0,V.jsxs)("div",{className:(0,le.A)("sidebar-trigger",s),style:c,children:[a&&(0,V.jsx)("div",{children:a}),o&&(0,V.jsx)("div",{className:"sidebar-trigger__label",children:o})]})]})};Vu.displayName="SidebarTrigger";var Yu=function(e){var t=e.children,n=(0,m.A)(e,ni);return(0,V.jsx)(Ea,(0,v.A)((0,v.A)({className:"sidebar-triggers"},n),{},{children:t}))};Yu.displayName="SidebarTabTriggers";var Zu=function(e){var t=e.children,n=e.tab,r=e.onSelect,a=(0,m.A)(e,ri);return(0,V.jsx)(ka,{value:n,asChild:!0,onSelect:r,children:(0,V.jsx)("button",(0,v.A)((0,v.A)({type:"button",className:"excalidraw-button sidebar-tab-trigger"},a),{},{children:t}))})};Zu.displayName="SidebarTabTrigger";var Ku=function(e){var t=e.children,n=(0,m.A)(e,ai),r=Ro(),a=tv();if(!r.openSidebar)return null;var i=r.openSidebar.name;return(0,V.jsx)(Aa,(0,v.A)((0,v.A)({className:"sidebar-tabs-root",value:r.openSidebar.tab,onValueChange:function(e){return a((function(t){return(0,v.A)((0,v.A)({},t),{},{openSidebar:(0,v.A)((0,v.A)({},t.openSidebar),{},{name:i,tab:e})})}))}},n),{},{children:t}))};Ku.displayName="SidebarTabs";var qu=function(e){var t=e.tab,n=e.children,r=(0,m.A)(e,ii);return(0,V.jsx)(Sa,(0,v.A)((0,v.A)({},r),{},{value:t,"data-testid":t,children:n}))};qu.displayName="SidebarTab";var $u=k(!1),Qu=(0,r.forwardRef)((function(e,t){e.name;var n=e.children,a=e.onDock,i=e.docked,o=e.className,l=(0,m.A)(e,oi);y.a.DEV&&a&&null==i&&console.warn("Sidebar: `docked` must be set when `onDock` is supplied for the sidebar to be user-dockable. To hide this message, either pass `docked` or remove `onDock`");var s=tv(),c=ki($u);(0,r.useLayoutEffect)((function(){return c(!!i),function(){c(!1)}}),[c,i]);var d=(0,r.useRef)({});d.current.onCloseRequest=function(){s({openSidebar:null})},d.current.onDock=function(e){return null===a||void 0===a?void 0:a(e)},d.current=(0,b.Db)(d.current,{docked:i,shouldRenderDockButton:!!a&&null!=i});var u=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return u.current}));var f=$p(),h=(0,r.useCallback)((function(){document.querySelector(".Dialog")||s({openSidebar:null})}),[s]);return No(u,(0,r.useCallback)((function(e){e.target.closest(".sidebar-trigger")||(!i||!f.editor.canFitSidebar)&&h()}),[h,i,f.editor.canFitSidebar])),(0,r.useEffect)((function(){var e=function(e){e.key===b.hg.ESCAPE&&(!i||!f.editor.canFitSidebar)&&h()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[h,i,f.editor.canFitSidebar]),(0,V.jsx)(Ho,(0,v.A)((0,v.A)({},l),{},{className:(0,le.A)("sidebar",{"sidebar--docked":i},o),ref:u,children:(0,V.jsx)(Xu.Provider,{value:d.current,children:n})}))}));Qu.displayName="SidebarInner";var Ju=Object.assign((0,r.forwardRef)((function(e,t){var n,a=Ro(),i=e.onStateChange,o=(0,r.useRef)(a.openSidebar);(0,r.useEffect)((function(){var t,n,r,l,s;(!a.openSidebar&&(null===o||void 0===o||null===(t=o.current)||void 0===t?void 0:t.name)===e.name||(null===(n=a.openSidebar)||void 0===n?void 0:n.name)===e.name&&(null===o||void 0===o||null===(r=o.current)||void 0===r?void 0:r.name)!==e.name||(null===(l=o.current)||void 0===l?void 0:l.name)===e.name)&&a.openSidebar!==o.current&&null!==i&&void 0!==i&&i((null===(s=a.openSidebar)||void 0===s?void 0:s.name)!==e.name?null:a.openSidebar),o.current=a.openSidebar}),[a.openSidebar,i,e.name]);var l=(0,r.useState)(!1),s=(0,c.A)(l,2),d=s[0],u=s[1];return(0,r.useLayoutEffect)((function(){return u(!0),function(){return u(!1)}}),[]),d&&(null===(n=a.openSidebar)||void 0===n?void 0:n.name)===e.name?(0,r.createElement)(Qu,(0,v.A)((0,v.A)({},e),{},{ref:t,key:e.name})):null})),{Header:Gu,TabTriggers:Yu,TabTrigger:Zu,Tabs:Ku,Tab:qu,Trigger:Vu});Ju.displayName="Sidebar";var ef={};(0,A.c)(ef,{ChangeCanvasBackground:function(){return vf},ClearCanvas:function(){return hf},CommandPalette:function(){return df},Export:function(){return Uf},Help:function(){return ff},LiveCollaborationTrigger:function(){return gf},LoadScene:function(){return lf},SaveAsImage:function(){return cf},SaveToActiveFile:function(){return sf},SearchMenu:function(){return uf},Socials:function(){return mf},ToggleTheme:function(){return pf}});var tf=k({active:!1});function nf(e){return rf.apply(this,arguments)}function rf(){return rf=(0,s.A)((0,l.A)().mark((function e(t){var n,r,a,i;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,r=t.description,a=t.actionLabel,i=t.color,e.abrupt("return",new Promise((function(e){Ci.set(tf,{active:!0,onConfirm:function(){return e(!0)},onClose:function(){return e(!1)},onReject:function(){return e(!1)},title:n,description:r,actionLabel:a,color:i})})));case 2:case"end":return e.stop()}}),e)}))),rf.apply(this,arguments)}var af=function(e){var t=e.value,n=e.shortcut,r=e.onChange,a=e.choices,i=e.children,o=e.name,l=$p();return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"dropdown-menu-item-base dropdown-menu-item-bare",children:[(0,V.jsx)("label",{className:"dropdown-menu-item__text",htmlFor:o,children:i}),(0,V.jsx)(qd,{name:o,value:t,onChange:r,choices:a})]}),n&&!l.editor.isMobile&&(0,V.jsx)("div",{className:"dropdown-menu-item__shortcut dropdown-menu-item__shortcut--orphaned",children:n})]})};af.displayName="DropdownMenuItemContentRadio";var of=af,lf=function(){var e=zi().t,t=nv(),n=Jp();return t.isActionEnabled(Jl)?(0,V.jsx)(hl,{icon:b.Ld,onSelect:function(){var r=(0,s.A)((0,l.A)().mark((function r(){return(0,l.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=!n.length,r.t0){r.next=5;break}return r.next=4,nf({title:e("overwriteConfirm.modal.loadFromFile.title"),actionLabel:e("overwriteConfirm.modal.loadFromFile.button"),color:"warning",description:(0,V.jsx)(gc,{i18nKey:"overwriteConfirm.modal.loadFromFile.description",bold:function(e){return(0,V.jsx)("strong",{children:e})},br:function(){return(0,V.jsx)("br",{})}})});case 4:r.t0=r.sent;case 5:if(r.t1=r.t0,!r.t1){r.next=8;break}t.executeAction(Jl);case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),"data-testid":"load-button",shortcut:nd("loadScene"),"aria-label":e("buttons.load"),children:e("buttons.load")}):null};lf.displayName="LoadScene";var sf=function(){var e=zi().t,t=nv();return t.isActionEnabled($l)?(0,V.jsx)(hl,{shortcut:nd("saveScene"),"data-testid":"save-button",onSelect:function(){return t.executeAction($l)},icon:b.Jd,"aria-label":"".concat(e("buttons.save")),children:"".concat(e("buttons.save"))}):null};sf.displayName="SaveToActiveFile";var cf=function(){var e=tv(),t=zi().t;return(0,V.jsx)(hl,{icon:b.Od,"data-testid":"image-export-button",onSelect:function(){return e({openDialog:{name:"imageExport"}})},shortcut:nd("imageExport"),"aria-label":t("buttons.exportImage"),children:t("buttons.exportImage")})};cf.displayName="SaveAsImage";var df=function(e){var t=tv(),n=zi().t;return(0,V.jsx)(hl,{icon:b.tf,"data-testid":"command-palette-button",onSelect:function(){vo("command_palette","open","menu"),t({openDialog:{name:"commandPalette"}})},shortcut:nd("commandPalette"),"aria-label":n("commandPalette.title"),className:null===e||void 0===e?void 0:e.className,children:n("commandPalette.title")})};df.displayName="CommandPalette";var uf=function(e){var t=zi().t,n=nv();return(0,V.jsx)(hl,{icon:b.pf,"data-testid":"search-menu-button",onSelect:function(){n.executeAction(Ld)},shortcut:nd("searchMenu"),"aria-label":t("search.title"),className:null===e||void 0===e?void 0:e.className,children:t("search.title")})};uf.displayName="SearchMenu";var ff=function(){var e=zi().t,t=nv();return(0,V.jsx)(hl,{"data-testid":"help-menu-item",icon:b.Bd,onSelect:function(){return t.executeAction(as)},shortcut:"?","aria-label":e("helpDialog.title"),children:e("helpDialog.title")})};ff.displayName="Help";var hf=function(){var e=zi().t,t=ki(yd);return nv().isActionEnabled(Dl)?(0,V.jsx)(hl,{icon:b.ud,onSelect:function(){return t("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":e("buttons.clearReset"),children:e("buttons.clearReset")}):null};hf.displayName="ClearCanvas";var pf=function(e){var t=zi().t,n=Ro(),r=nv(),a=nd("toggleTheme");return r.isActionEnabled(Nl)?null!==e&&void 0!==e&&e.allowSystemTheme?(0,V.jsx)(of,{name:"theme",value:e.theme,onChange:function(t){return e.onSelect(t)},choices:[{value:b.G.LIGHT,label:b.yd,ariaLabel:"".concat(t("buttons.lightMode")," - ").concat(a)},{value:b.G.DARK,label:b.xd,ariaLabel:"".concat(t("buttons.darkMode")," - ").concat(a)},{value:"system",label:b.Ef,ariaLabel:t("buttons.systemMode")}],children:t("labels.theme")}):(0,V.jsx)(hl,{onSelect:function(t){if(t.preventDefault(),null===e||void 0===e||!e.onSelect)return r.executeAction(Nl);e.onSelect(n.theme===b.G.DARK?b.G.LIGHT:b.G.DARK)},icon:n.theme===b.G.DARK?b.yd:b.xd,"data-testid":"toggle-dark-mode",shortcut:a,"aria-label":n.theme===b.G.DARK?t("buttons.lightMode"):t("buttons.darkMode"),children:n.theme===b.G.DARK?t("buttons.lightMode"):t("buttons.darkMode")}):null};pf.displayName="ToggleTheme";var vf=function(){var e=zi().t,t=Ro(),n=nv(),r=qp();return t.viewModeEnabled||!r.UIOptions.canvasActions.changeViewBackgroundColor?null:(0,V.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,V.jsx)("div",{"data-testid":"canvas-background-label",style:{fontSize:".75rem",marginBottom:".5rem"},children:e("labels.canvasBackground")}),(0,V.jsx)("div",{style:{padding:"0 0.625rem"},children:n.renderAction("changeViewBackgroundColor")})]})};vf.displayName="ChangeCanvasBackground";var Uf=function(){var e=zi().t,t=tv();return(0,V.jsx)(hl,{icon:b.Ad,onSelect:function(){t({openDialog:{name:"jsonExport"}})},"data-testid":"json-export-button","aria-label":e("buttons.export"),children:e("buttons.export")})};Uf.displayName="Export";var mf=function(){var e=zi().t;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(Tc,{icon:b.Ed,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,V.jsx)(Tc,{icon:b.Gd,href:"https://x.com/excalidraw","aria-label":"X",children:e("labels.followUs")}),(0,V.jsx)(Tc,{icon:b.Fd,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:e("labels.discordChat")})]})};mf.displayName="Socials";var gf=function(e){var t=e.onSelect,n=e.isCollaborating,r=zi().t;return(0,V.jsx)(hl,{"data-testid":"collab-button",icon:b.fe,className:(0,le.A)({"active-collab":n}),onSelect:t,children:r("labels.liveCollaboration")})};gf.displayName="LiveCollaborationTrigger";var bf=function(e,t){var n=k(0),a=function(e){var a=(0,cd().tunnelsJotai.useAtom)(n),i=(0,c.A)(a,2)[1],o=(0,r.useRef)({preferHost:!1,counter:0});return(0,r.useLayoutEffect)((function(){var e=o.current;return i((function(t){var n=t+1;return e.counter=n,n})),function(){i((function(t){var n=t-1;return e.counter=n,n||(e.preferHost=!1),n}))}}),[i]),e.__fallback||(o.current.preferHost=!0),!o.current.counter&&e.__fallback&&o.current.preferHost||o.current.counter>1&&e.__fallback?null:(0,V.jsx)(t,(0,v.A)({},e))};return a.displayName=e,a},yf=Object.assign(bf("MainMenu",(function(e){var t,n=e.children,r=e.onSelect,a=cd().MainMenuTunnel,i=$p(),o=Ro(),l=tv(),s=i.editor.isMobile?void 0:function(){return l({openMenu:null})};return(0,V.jsx)(a.In,{children:(0,V.jsxs)(Rc,{open:"canvas"===o.openMenu,children:[(0,V.jsx)(Rc.Trigger,{onToggle:function(){l({openMenu:"canvas"===o.openMenu?null:"canvas"})},"data-testid":"main-menu-trigger",className:"main-menu-trigger",children:b.zd}),(0,V.jsxs)(Rc.Content,{onClickOutside:s,onSelect:(0,b.Ib)(r,(function(){l({openMenu:null})})),children:[n,i.editor.isMobile&&o.collaborators.size>0&&(0,V.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,V.jsx)("legend",{children:Fi("labels.collaborators")}),(0,V.jsx)(Nu,{mobile:!0,collaborators:o.collaborators,userToFollow:(null===(t=o.userToFollow)||void 0===t?void 0:t.socketId)||null})]})]})]})})})),{Trigger:Rc.Trigger,Item:Rc.Item,ItemLink:Rc.ItemLink,ItemCustom:Rc.ItemCustom,Group:Rc.Group,Separator:Rc.Separator,DefaultItems:ef}),xf=yf,wf=function(e){var t=e.title,n=e.children,r=e.actionLabel,a=e.onClick;return(0,V.jsxs)("div",{className:"OverwriteConfirm__Actions__Action",children:[(0,V.jsx)("h4",{children:t}),(0,V.jsx)("div",{className:"OverwriteConfirm__Actions__Action__content",children:n}),(0,V.jsx)(Qd,{variant:"outlined",color:"muted",label:r,size:"large",fullWidth:!0,onClick:a})]})},Af=Object.assign((function(e){var t=e.children;return(0,V.jsx)("div",{className:"OverwriteConfirm__Actions",children:t})}),{ExportToImage:function(){var e=zi().t,t=nv(),n=tv();return(0,V.jsx)(wf,{title:e("overwriteConfirm.action.exportToImage.title"),actionLabel:e("overwriteConfirm.action.exportToImage.button"),onClick:function(){t.executeAction(ql,"ui",!0),n({openDialog:{name:"imageExport"}})},children:e("overwriteConfirm.action.exportToImage.description")})},SaveToDisk:function(){var e=zi().t,t=nv();return(0,V.jsx)(wf,{title:e("overwriteConfirm.action.saveToDisk.title"),actionLabel:e("overwriteConfirm.action.saveToDisk.button"),onClick:function(){t.executeAction(Ql,"ui")},children:e("overwriteConfirm.action.saveToDisk.description")})}}),Ef=Object.assign(bf("OverwriteConfirmDialog",(function(e){var t=e.children,n=cd().OverwriteConfirmDialogTunnel,r=Ei(tf),a=(0,c.A)(r,2),i=a[0],o=a[1];if(!i.active)return null;return(0,V.jsx)(n.In,{children:(0,V.jsx)(Qc,{onCloseRequest:function(){i.onClose(),o((function(e){return(0,v.A)((0,v.A)({},e),{},{active:!1})}))},title:!1,size:916,children:(0,V.jsxs)("div",{className:"OverwriteConfirm",children:[(0,V.jsx)("h3",{children:i.title}),(0,V.jsxs)("div",{className:"OverwriteConfirm__Description OverwriteConfirm__Description--color-".concat(i.color),children:[(0,V.jsx)("div",{className:"OverwriteConfirm__Description__icon",children:b.cf}),(0,V.jsx)("div",{children:i.description}),(0,V.jsx)("div",{className:"OverwriteConfirm__Description__spacer"}),(0,V.jsx)(Qd,{color:i.color,size:"large",label:i.actionLabel,onClick:function(){i.onConfirm(),o((function(e){return(0,v.A)((0,v.A)({},e),{},{active:!1})}))}})]}),(0,V.jsx)(Af,{children:t})]})})})})),{Actions:Af,Action:wf}),kf=k(""),Sf=k(null),Mf=function(){var e=Kp(),t=tv(),n=(0,r.useRef)(null),a=Ei(kf),i=(0,c.A)(a,2),o=i[0],l=i[1],s=o.trim(),d=(0,r.useState)(!1),u=(0,c.A)(d,2),f=u[0],h=u[1],p=(0,r.useState)({nonce:null,items:[]}),U=(0,c.A)(p,2),m=U[0],g=U[1],y=(0,r.useRef)(null),x=(0,r.useRef)(void 0),w=Ei(Sf),A=(0,c.A)(w,2),E=A[0],k=A[1],S=e.scene.getNonDeletedElementsMap();(0,r.useEffect)((function(){f||(s!==y.current||e.scene.getSceneNonce()!==x.current)&&(y.current=null,Tf(s,e,(function(n,r){g({nonce:(0,b.rc)(),items:n}),y.current=s,x.current=e.scene.getSceneNonce(),t({searchMatches:n.map((function(e){return{id:e.textElement.id,focus:!1,matchedLines:e.matchedLines}}))})})))}),[f,s,S,e,t,k,x]);var M=function(){m.items.length>0&&k((function(e){return null===e?0:(e+1)%m.items.length}))},C=function(){m.items.length>0&&k((function(e){return null===e?0:e-1<0?m.items.length-1:e-1}))};(0,r.useEffect)((function(){t((function(e){return{searchMatches:e.searchMatches.map((function(e,t){return t===E?(0,v.A)((0,v.A)({},e),{},{focus:!0}):(0,v.A)((0,v.A)({},e),{},{focus:!1})}))}}))}),[E,t]),(0,r.useEffect)((function(){if(m.items.length>0&&null!==E){var t=m.items[E];if(t){var n,r,a,i,o,l,s,c=e.state.zoom.value,d=(0,b.Xf)({text:t.searchQuery,x:t.textElement.x+(null!==(n=null===(r=t.matchedLines[0])||void 0===r?void 0:r.offsetX)&&void 0!==n?n:0),y:t.textElement.y+(null!==(a=null===(i=t.matchedLines[0])||void 0===i?void 0:i.offsetY)&&void 0!==a?a:0),width:null===(o=t.matchedLines[0])||void 0===o?void 0:o.width,height:null===(l=t.matchedLines[0])||void 0===l?void 0:l.height,fontSize:t.textElement.fontSize,fontFamily:t.textElement.fontFamily}),u=t.textElement.fontSize,f=u*c<14;if(!(0,b.Uj)([d],e.canvas.width/window.devicePixelRatio,e.canvas.height/window.devicePixelRatio,{offsetLeft:e.state.offsetLeft,offsetTop:e.state.offsetTop,scrollX:e.state.scrollX,scrollY:e.state.scrollY,zoom:e.state.zoom},e.scene.getNonDeletedElementsMap(),e.getEditorUIOffsets())||f)s=f?u>=14?{fitToContent:!0}:{fitToViewport:!0,maxZoom:(0,b.Ja)(14/u,1)}:{fitToContent:!0},e.scrollToContent(d,(0,v.A)((0,v.A)({animate:!0,duration:300},s),{},{canvasOffsets:e.getEditorUIOffsets()}))}}}),[E,m,e]),(0,r.useEffect)((function(){return function(){k(null),y.current=null,x.current=void 0,t({searchMatches:[]}),h(!1)}}),[t,k]);var j=Fo({goToNextItem:M,goToPreviousItem:C,searchMatches:m});(0,r.useEffect)((function(){return(0,b.Pb)(window,"keydown",(function(r){var a,i,o;if(r.key===b.hg.ESCAPE&&!e.state.openDialog&&!e.state.openPopup)return r.preventDefault(),r.stopPropagation(),void t({openSidebar:null});r[b.hg.CTRL_OR_CMD]&&r.key===b.hg.F&&(r.preventDefault(),r.stopPropagation(),null!==(a=n.current)&&void 0!==a&&a.matches(":focus")?t({openSidebar:null}):(e.state.openDialog&&t({openDialog:null}),null!==(i=n.current)&&void 0!==i&&i.focus(),null===(o=n.current)||void 0===o||o.select())),r.target instanceof HTMLElement&&r.target.closest(".layer-ui__search")&&j.searchMatches.items.length&&(r.key===b.hg.ENTER&&(r.stopPropagation(),j.goToNextItem()),r.key===b.hg.ARROW_UP?(r.stopPropagation(),j.goToPreviousItem()):r.key===b.hg.ARROW_DOWN&&(r.stopPropagation(),j.goToNextItem()))}),{capture:!0,passive:!1})}),[t,j,e]);var I="".concat(m.items.length," ").concat(1===m.items.length?Fi("search.singleResult"):Fi("search.multipleResults"));return(0,V.jsxs)("div",{className:"layer-ui__search",children:[(0,V.jsx)("div",{className:"layer-ui__search-header",children:(0,V.jsx)(ed,{className:b.E.SEARCH_MENU_INPUT_WRAPPER,value:o,ref:n,placeholder:Fi("search.placeholder"),icon:b.pf,onChange:function(n){l(n),h(!0);var r=n.trim();Tf(r,e,(function(n,a){g({nonce:(0,b.rc)(),items:n}),k(a),y.current=r,x.current=e.scene.getSceneNonce(),t({searchMatches:n.map((function(e){return{id:e.textElement.id,focus:!1,matchedLines:e.matchedLines}}))}),h(!1)}))},selectOnRender:!0})}),(0,V.jsxs)("div",{className:"layer-ui__search-count",children:[m.items.length>0&&(0,V.jsxs)(V.Fragment,{children:[null!==E&&E>-1?(0,V.jsxs)("div",{children:[E+1," / ",I]}):(0,V.jsx)("div",{children:I}),(0,V.jsxs)("div",{className:"result-nav",children:[(0,V.jsx)(Jc,{onSelect:function(){M()},className:"result-nav-btn",children:b.Lf}),(0,V.jsx)(Jc,{onSelect:function(){C()},className:"result-nav-btn",children:b.Nf})]})]}),0===m.items.length&&s&&y.current&&(0,V.jsx)("div",{style:{margin:"1rem auto"},children:Fi("search.noMatch")})]}),(0,V.jsx)(jf,{matches:m,onItemClick:k,focusIndex:E,searchQuery:s})]})},Cf=function(e){var t=[e.preview.moreBefore?"...":"",e.preview.previewText.slice(0,e.preview.indexInSearchQuery),e.preview.previewText.slice(e.preview.indexInSearchQuery,e.preview.indexInSearchQuery+e.searchQuery.length),e.preview.previewText.slice(e.preview.indexInSearchQuery+e.searchQuery.length),e.preview.moreAfter?"...":""];return(0,V.jsx)("div",{tabIndex:-1,className:(0,le.A)("layer-ui__result-item",{active:e.highlighted}),onClick:e.onClick,ref:function(t){e.highlighted&&(null===t||void 0===t||t.scrollIntoView({behavior:"auto",block:"nearest"}))},children:(0,V.jsx)("div",{className:"preview-text",children:t.flatMap((function(e,t){return(0,V.jsx)(r.Fragment,{children:2===t?(0,V.jsx)("b",{children:e}):e},t)}))})})},jf=(0,r.memo)((function(e){return(0,V.jsx)("div",{className:"layer-ui__search-result-container",children:e.matches.items.map((function(t,n){return(0,V.jsx)(Cf,{searchQuery:e.searchQuery,preview:t.preview,highlighted:n===e.focusIndex,onClick:function(){return e.onItemClick(n)}},t.textElement.id+t.index)}))})}),(function(e,t){return e.matches.nonce===t.matches.nonce&&e.focusIndex===t.focusIndex})),If=function(e,t,n){var r=e.slice(0,t),a=r.split(/\s+/),i=r.endsWith(" "),o=a.length-2-1-(i?0:1),l=a.slice(o<=0?0:o).join(" ")+(i?" ":"");l=l.length>20?l.slice(-20):l;var s=e.slice(t+n.length),c=s.split(/\s+/),d=!s.startsWith(" "),u=d?6:5,f=(d?"":" ")+c.slice(0,u).join(" ");return{indexInSearchQuery:l.length,previewText:l+n+f,moreBefore:o>0,moreAfter:c.length>u}},Df=function(e,t,n){var r,a=function(e,t){for(var n=e.split("\n"),r=[],a=0,i=0;i<n.length;i++){var o=n[i],l=n[i+1];if(l){var s=t.indexOf(l,a);if(s>o.length+a)for(var c=s-(o.length+a);c>0;)o+=" ",c--}r.push(o),a+=o.length}return r.join("\n")}(e.text,e.originalText).split("\n"),i=[],o=0,l=0,s=(0,U.A)(a);try{for(s.s();!(r=s.n()).done;){var c=r.value,d=o,u=d+c.length-1;i.push({line:c,startIndex:d,endIndex:u,lineNumber:l}),o=u+1,l++}}catch(D){s.e(D)}finally{s.f()}for(var f=n,h=e.originalText.slice(n,n+t.length),p=[],v=0,m=i;v<m.length;v++){var g=m[v];if(""===h)break;if(f>=g.startIndex&&f<=g.endIndex){var y=g.endIndex+1-f,x=g.line.slice(0,f-g.startIndex),w=h.slice(0,y);h=h.slice(y);var A=(0,b.vc)(x,(0,b.cb)(e),e.lineHeight);if(""===x&&(A.width=0),"left"!==e.textAlign&&g.line.length>0){var E=(0,b.vc)(g.line,(0,b.cb)(e),e.lineHeight),k="center"===e.textAlign?(e.width-E.width)/2:e.width-E.width;A.width+=k}var S=(0,b.vc)(w,(0,b.cb)(e),e.lineHeight),M=S.width,C=S.height,j=A.width,I=g.lineNumber*A.height;p.push({offsetX:j,offsetY:I,width:M,height:C}),f+=y}}return p},Tf=Ma((function(e,t,n){var r;if(e&&""!==e){var a=t.scene.getNonDeletedElements().filter((function(e){return(0,b._b)(e)}));a.sort((function(e,t){return e.y-t.y}));var i,o=[],l=new RegExp(function(e){return e.replace(/[.*+?^${}()|[\]\\-]/g,"\\$&")}(e),"gi"),s=(0,U.A)(a);try{for(s.s();!(i=s.n()).done;)for(var c=i.value,d=null,u=c.originalText;null!==(d=l.exec(u));){var f=If(u,d.index,e),h=Df(c,e,d.index);h.length>0&&o.push({textElement:c,searchQuery:e,preview:f,index:d.index,matchedLines:h})}}catch(m){s.e(m)}finally{s.f()}var p=new Set(t.visibleElements.map((function(e){return e.id}))),v=null!==(r=o.findIndex((function(e){return p.has(e.textElement.id)})))&&void 0!==r?r:null;n(o,v)}else n([],null)}),350),_f=bf("DefaultSidebarTrigger",(function(e){var t=cd().DefaultSidebarTriggerTunnel;return(0,V.jsx)(t.In,{children:(0,V.jsx)(Ju.Trigger,(0,v.A)((0,v.A)({},e),{},{className:"default-sidebar-trigger",name:b.ya.name}))})}));_f.displayName="DefaultSidebarTrigger";var Lf=function(e){var t=e.children,n=cd().DefaultSidebarTabTriggersTunnel;return(0,V.jsx)(n.In,{children:t})};Lf.displayName="DefaultTabTriggers";var Rf=Object.assign(bf("DefaultSidebar",(function(e){var t,n=e.children,a=e.className,i=e.onDock,o=e.docked,l=(0,m.A)(e,li),s=Ro(),c=tv(),d=cd().DefaultSidebarTabTriggersTunnel,u=(null===(t=s.openSidebar)||void 0===t?void 0:t.tab)===b.xa;return(0,r.createElement)(Ju,(0,v.A)((0,v.A)({},l),{},{name:"default",key:"default",className:(0,le.A)("default-sidebar",a),docked:u||(null!==o&&void 0!==o?o:s.defaultSidebarDockedPreference),onDock:u||!1===i||!i&&null!=o?void 0:(0,b.Ib)(i,(function(e){c({defaultSidebarDockedPreference:e})}))}),(0,V.jsxs)(Ju.Tabs,{children:[(0,V.jsx)(Ju.Header,{children:(0,V.jsxs)(Ju.TabTriggers,{children:[(0,V.jsx)(Ju.TabTrigger,{tab:b.xa,children:b.pf}),(0,V.jsx)(Ju.TabTrigger,{tab:b.wa,children:b.fd}),(0,V.jsx)(d.Out,{})]})}),(0,V.jsx)(Ju.Tab,{tab:b.wa,children:(0,V.jsx)(qc,{})}),(0,V.jsx)(Ju.Tab,{tab:b.xa,children:(0,V.jsx)(Mf,{})}),n]}))})),{Trigger:_f,TabTriggers:Lf}),Pf=function(e){return(0,V.jsxs)("label",{className:(0,le.A)("ToolIcon ToolIcon__LaserPointer","ToolIcon_size_".concat("small"),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,V.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title,"data-testid":"toolbar-LaserPointer"}),(0,V.jsx)("div",{className:"ToolIcon__icon",children:b.if})]})},Nf=function(e){var t=e.canvasRef,n=e.setError,r=t.current;if(r){var a=r.parentElement;a&&(a.style.background="",n(null),r.replaceChildren())}},Ff=function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var n,r,a,i,o,s,c,d,u,f,h,p,v;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.canvasRef,r=t.mermaidToExcalidrawLib,a=t.mermaidDefinition,i=t.setError,o=t.data,s=n.current,c=null===s||void 0===s?void 0:s.parentElement,!s||!c){e.next=40;break}if(a){e.next=6;break}return Nf({canvasRef:n,setError:i}),e.abrupt("return");case 6:return e.prev=6,e.next=9,r.api;case 9:return d=e.sent,e.prev=10,e.next=13,d.parseMermaidToExcalidraw(a);case 13:u=e.sent,e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(10),e.next=20,d.parseMermaidToExcalidraw(a.replace(/"/g,"'"));case 20:u=e.sent;case 21:return h=(f=u).elements,p=f.files,i(null),o.current={elements:tp(h,{regenerateIds:!0}),files:p},e.next=25,(0,b.pi)({elements:o.current.elements,files:o.current.files,exportPadding:b.ma,maxWidthOrHeight:Math.max(c.offsetWidth,c.offsetHeight)*window.devicePixelRatio});case 25:return v=e.sent,e.prev=26,e.next=29,(0,b.yh)(v);case 29:e.next=34;break;case 31:throw e.prev=31,e.t1=e.catch(26),"CANVAS_POSSIBLY_TOO_BIG"===e.t1.name?new Error(Fi("canvasError.canvasTooBig")):e.t1;case 34:c.style.background="var(--default-bg-color)",s.replaceChildren(v),e.next=40;break;case 37:throw e.prev=37,e.t2=e.catch(6),c.style.background="var(--default-bg-color)",a&&i(e.t2),e.t2;case 40:case"end":return e.stop()}}),e,null,[[6,37],[10,16],[26,31]])})));return function(t){return e.apply(this,arguments)}}(),Of=function(e){xc.set(b.Ba.MERMAID_TO_EXCALIDRAW,e)},zf=function(e){var t=e.app,n=e.data,r=e.text,a=e.shouldSaveMermaidDataToStorage,i=n.current,o=i.elements,l=i.files;o.length&&(t.addElementsFromPasteOrLibrary({elements:o,files:l,position:"center",fitToContent:!0}),t.setOpenDialog(null),a&&r&&Of(r))},Bf=function(e){var t=e.children;return(0,V.jsx)("div",{className:"ttd-dialog-panels",children:t})},Hf=function(e){var t=e.label,n=e.children,r=e.panelAction,a=e.panelActionDisabled,i=void 0!==a&&a,o=e.onTextSubmitInProgess,l=e.renderTopRight,s=e.renderSubmitShortcut,c=e.renderBottomRight;return(0,V.jsxs)("div",{className:"ttd-dialog-panel",children:[(0,V.jsxs)("div",{className:"ttd-dialog-panel__header",children:[(0,V.jsx)("label",{children:t}),null===l||void 0===l?void 0:l()]}),n,(0,V.jsxs)("div",{className:(0,le.A)("ttd-dialog-panel-button-container",{invisible:!r}),style:{display:"flex",alignItems:"center"},children:[(0,V.jsxs)(Jc,{className:"ttd-dialog-panel-button",onSelect:r?r.action:function(){},disabled:i||o,children:[(0,V.jsxs)("div",{className:(0,le.A)({invisible:o}),children:[null===r||void 0===r?void 0:r.label,(null===r||void 0===r?void 0:r.icon)&&(0,V.jsx)("span",{children:r.icon})]}),o&&(0,V.jsx)(Bi,{})]}),!i&&!o&&(null===s||void 0===s?void 0:s()),null===c||void 0===c?void 0:c()]})]})},Wf=function(e){var t=e.input,n=e.placeholder,a=e.onChange,i=e.onKeyboardSubmit,o=(0,r.useRef)(null),l=(0,r.useRef)(i);return l.current=i,(0,r.useEffect)((function(){if(l.current){var e=o.current;if(e){var t=function(e){var t;e[b.hg.CTRL_OR_CMD]&&e.key===b.hg.ENTER&&(e.preventDefault(),null===(t=l.current)||void 0===t||t.call(l))};return e.addEventListener("keydown",t),function(){e.removeEventListener("keydown",t)}}}}),[]),(0,V.jsx)("textarea",{className:"ttd-dialog-input",onChange:a,value:t,placeholder:n,autoFocus:!0,ref:o})},Xf=function(e){var t=e.error;return(0,V.jsxs)("div",{"data-testid":"ttd-dialog-output-error",className:"ttd-dialog-output-error",children:["Error! ",(0,V.jsx)("p",{children:t})]})},Gf=function(e){var t=e.error,n=e.canvasRef,r=e.loaded;return(0,V.jsxs)("div",{className:"ttd-dialog-output-wrapper",children:[t&&(0,V.jsx)(Xf,{error:t.message}),r?(0,V.jsx)("div",{ref:n,style:{opacity:t?"0.15":1},className:"ttd-dialog-output-canvas-container"}):(0,V.jsx)(Bi,{size:"2rem"})]})},Vf=function(){return(0,V.jsxs)("div",{className:"ttd-dialog-submit-shortcut",children:[(0,V.jsx)("div",{className:"ttd-dialog-submit-shortcut__key",children:(0,b.kb)("CtrlOrCmd")}),(0,V.jsx)("div",{className:"ttd-dialog-submit-shortcut__key",children:(0,b.kb)("Enter")})]})},Yf=(0,b.db)(Of,300),Zf=function(e){var t=e.mermaidToExcalidrawLib,n=(0,r.useState)((function(){return xc.get(b.Ba.MERMAID_TO_EXCALIDRAW)||"flowchart TD\n A[Christmas] --\x3e|Get money| B(Go shopping)\n B --\x3e C{Let me think}\n C --\x3e|One| D[Laptop]\n C --\x3e|Two| E[iPhone]\n C --\x3e|Three| F[Car]"})),a=(0,c.A)(n,2),i=a[0],o=a[1],l=(0,r.useDeferredValue)(i.trim()),s=(0,r.useState)(null),d=(0,c.A)(s,2),u=d[0],f=d[1],h=(0,r.useRef)(null),p=(0,r.useRef)({elements:[],files:null}),v=Kp();(0,r.useEffect)((function(){Ff({canvasRef:h,data:p,mermaidToExcalidrawLib:t,setError:f,mermaidDefinition:l}).catch((function(e){(0,b.Bb)()&&console.error("Failed to parse mermaid definition",e)})),Yf(l)}),[l,t]),(0,r.useEffect)((function(){return function(){Yf.flush()}}),[]);var U=function(){zf({app:v,data:p,text:i,shouldSaveMermaidDataToStorage:!0})};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{className:"ttd-dialog-desc",children:(0,V.jsx)(gc,{i18nKey:"mermaid.description",flowchartLink:function(e){return(0,V.jsx)("a",{href:"https://mermaid.js.org/syntax/flowchart.html",children:e})},sequenceLink:function(e){return(0,V.jsx)("a",{href:"https://mermaid.js.org/syntax/sequenceDiagram.html",children:e})},classLink:function(e){return(0,V.jsx)("a",{href:"https://mermaid.js.org/syntax/classDiagram.html",children:e})}})}),(0,V.jsxs)(Bf,{children:[(0,V.jsx)(Hf,{label:Fi("mermaid.syntax"),children:(0,V.jsx)(Wf,{input:i,placeholder:"Write Mermaid diagram defintion here...",onChange:function(e){return o(e.target.value)},onKeyboardSubmit:function(){U()}})}),(0,V.jsx)(Hf,{label:Fi("mermaid.preview"),panelAction:{action:function(){U()},label:Fi("mermaid.button"),icon:b.hf},renderSubmitShortcut:function(){return(0,V.jsx)(Vf,{})},children:(0,V.jsx)(Gf,{canvasRef:h,loaded:t.loaded,error:u})})]})]})},Kf=function(e){var t=tv(),n=(0,r.useRef)(null),a=(0,r.useRef)(0);return(0,V.jsx)(Aa,{ref:n,className:"ttd-dialog-tabs-root",value:e.tab,onValueChange:function(r){var i;if(r){var o=null===(i=n.current)||void 0===i?void 0:i.closest(".Modal__content");if(o){var l=o.offsetHeight||0;l>a.current&&(a.current=l,o.style.minHeight="min(".concat(a.current,"px, 100%)"))}"ttd"===e.dialog&&(0,b.Mb)(["text-to-diagram","mermaid"],r)&&t({openDialog:{name:e.dialog,tab:r}})}},children:e.children})};Kf.displayName="TTDDialogTabs";var qf=Kf,$f=function(e){var t=e.children,n=(0,m.A)(e,si);return(0,V.jsx)(Ea,(0,v.A)((0,v.A)({className:"ttd-dialog-triggers"},n),{},{children:t}))};$f.displayName="TTDDialogTabTriggers";var Qf=function(e){var t=e.children,n=e.tab,r=e.onSelect,a=(0,m.A)(e,ci);return(0,V.jsx)(ka,{value:n,asChild:!0,onSelect:r,children:(0,V.jsx)("button",(0,v.A)((0,v.A)({type:"button",className:"ttd-dialog-tab-trigger"},a),{},{children:t}))})};Qf.displayName="TTDDialogTabTrigger";var Jf=function(e){var t=e.tab,n=e.children,r=(0,m.A)(e,di);return(0,V.jsx)(Sa,(0,v.A)((0,v.A)({},r),{},{value:t,children:n}))};Jf.displayName="TTDDialogTab";var eh=1e3,th=k(null),nh=k(null),rh=function(e){var t,n=Ro();return"ttd"!==(null===(t=n.openDialog)||void 0===t?void 0:t.name)?null:(0,V.jsx)(ah,(0,v.A)((0,v.A)({},e),{},{tab:n.openDialog.tab}))},ah=bf("TTDDialogBase",(function(e){var t,a=e.tab,i=(0,m.A)(e,ui),o=Kp(),d=tv(),u=(0,r.useRef)(null),f=Ei(nh),h=(0,c.A)(f,2),p=h[0],U=h[1],g=(0,r.useState)(null!==(t=null===p||void 0===p?void 0:p.prompt)&&void 0!==t?t:""),y=(0,c.A)(g,2),x=y[0],w=y[1],A=x.trim(),E=(0,r.useState)(!1),k=(0,c.A)(E,2),S=k[0],M=k[1],C=Ei(th),j=(0,c.A)(C,2),I=j[0],D=j[1],T=function(){var e=(0,s.A)((0,l.A)().mark((function e(){var t,n,r,a,o,s;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(A.length>eh||A.length<3||S||0===(null===I||void 0===I?void 0:I.rateLimitRemaining)||"__fallback"in i)){e.next=3;break}return A.length<3&&H(new Error("Prompt is too short (min ".concat(3," characters)"))),A.length>eh&&H(new Error("Prompt is too long (max ".concat(eh," characters)"))),e.abrupt("return");case 3:return e.prev=3,M(!0),vo("ai","generate","ttd"),e.next=7,i.onTextSubmit(A);case 7:if(t=e.sent,n=t.generatedResponse,r=t.error,a=t.rateLimit,o=t.rateLimitRemaining,"string"==typeof n&&U((function(e){var t;return{generatedResponse:n,prompt:null!==(t=null===e||void 0===e?void 0:e.prompt)&&void 0!==t?t:null}})),(0,b.La)(a)&&(0,b.La)(o)&&D({rateLimit:a,rateLimitRemaining:o}),!r){e.next=15;break}return H(r),e.abrupt("return");case 15:if(n){e.next=18;break}return H(new Error("Generation failed")),e.abrupt("return");case 18:return e.prev=18,e.next=21,Ff({canvasRef:u,data:F,mermaidToExcalidrawLib:P,setError:H,mermaidDefinition:n});case 21:vo("ai","mermaid parse success","ttd"),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(18),console.info("%cTTD mermaid render errror: ".concat(e.t0.message),"color: red"),console.info(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nTTD mermaid definition render errror: ".concat(e.t0.message),"color: yellow"),vo("ai","mermaid parse failed","ttd"),H(new Error("Generated an invalid diagram :(. You may also try a different prompt."));case 27:e.next=33;break;case 29:e.prev=29,e.t1=e.catch(3),(!(s=e.t1.message)||"Failed to fetch"===s)&&(s="Request failed"),H(new Error(s));case 33:return e.prev=33,M(!1),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[3,29,33,36],[18,24]])})));return function(){return e.apply(this,arguments)}}(),_=(0,r.useRef)(T);_.current=T;var L=(0,r.useState)({loaded:!1,api:Promise.all([n.e(4223),n.e(8064)]).then(n.bind(n,8064))}),R=(0,c.A)(L,2),P=R[0],N=R[1];(0,r.useEffect)((function(){(0,s.A)((0,l.A)().mark((function e(){return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.api;case 2:N((function(e){return(0,v.A)((0,v.A)({},e),{},{loaded:!0})}));case 3:case"end":return e.stop()}}),e)})))()}),[P.api]);var F=(0,r.useRef)({elements:[],files:null}),O=(0,r.useState)(null),z=(0,c.A)(O,2),B=z[0],H=z[1];return(0,V.jsx)(Qc,(0,v.A)((0,v.A)({className:"ttd-dialog",onCloseRequest:function(){o.setOpenDialog(null)},size:1200,title:!1},i),{},{autofocus:!1,children:(0,V.jsxs)(qf,{dialog:"ttd",tab:a,children:["__fallback"in i&&i.__fallback?(0,V.jsx)("p",{className:"dialog-mermaid-title",children:Fi("mermaid.title")}):(0,V.jsxs)($f,{children:[(0,V.jsx)(Qf,{tab:"text-to-diagram",children:(0,V.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Fi("labels.textToDiagram"),(0,V.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"1px 6px",marginLeft:"10px",fontSize:10,borderRadius:"12px",background:"var(--color-promo)",color:"var(--color-surface-lowest)"},children:"AI Beta"})]})}),(0,V.jsx)(Qf,{tab:"mermaid",children:"Mermaid"})]}),(0,V.jsx)(Jf,{className:"ttd-dialog-content",tab:"mermaid",children:(0,V.jsx)(Zf,{mermaidToExcalidrawLib:P})}),!("__fallback"in i)&&(0,V.jsxs)(Jf,{className:"ttd-dialog-content",tab:"text-to-diagram",children:[(0,V.jsx)("div",{className:"ttd-dialog-desc",children:"Currently we use Mermaid as a middle step, so you'll get best results if you describe a diagram, workflow, flow chart, and similar."}),(0,V.jsxs)(Bf,{children:[(0,V.jsx)(Hf,{label:Fi("labels.prompt"),panelAction:{action:T,label:"Generate",icon:b.hf},onTextSubmitInProgess:S,panelActionDisabled:A.length>eh||0===(null===I||void 0===I?void 0:I.rateLimitRemaining),renderTopRight:function(){return I?(0,V.jsxs)("div",{className:"ttd-dialog-rate-limit",style:{fontSize:12,marginLeft:"auto",color:0===I.rateLimitRemaining?"var(--color-danger)":void 0},children:[I.rateLimitRemaining," requests left today"]}):null},renderSubmitShortcut:function(){return(0,V.jsx)(Vf,{})},renderBottomRight:function(){if("string"==typeof(null===p||void 0===p?void 0:p.generatedResponse))return(0,V.jsxs)("div",{className:"excalidraw-link",style:{marginLeft:"auto",fontSize:14},onClick:function(){"string"==typeof(null===p||void 0===p?void 0:p.generatedResponse)&&(Of(p.generatedResponse),d({openDialog:{name:"ttd",tab:"mermaid"}}))},children:["View as Mermaid",(0,V.jsx)(Ko,{icon:b.hf})]});var e=A.length/eh;return e>.8?(0,V.jsxs)("div",{style:{marginLeft:"auto",fontSize:12,fontFamily:"monospace",color:e>1?"var(--color-danger)":void 0},children:["Length: ",A.length,"/",eh]}):null},children:(0,V.jsx)(Wf,{onChange:function(e){w(e.target.value),U((function(t){var n;return{generatedResponse:null!==(n=null===t||void 0===t?void 0:t.generatedResponse)&&void 0!==n?n:null,prompt:e.target.value}}))},input:x,placeholder:"Describe what you want to see...",onKeyboardSubmit:function(){_.current()}})}),(0,V.jsx)(Hf,{label:"Preview",panelAction:{action:function(){console.info("Panel action clicked"),zf({app:o,data:F})},label:"Insert",icon:b.hf},children:(0,V.jsx)(Gf,{canvasRef:u,error:B,loaded:P.loaded})})]})]})]})}))})),ih=function(e,t){return!("height"===t&&(0,b._b)(e)||"width"===t&&(0,b._b)(e)||"angle"===t&&(0,b.bc)(e))},oh=function(e,t){var n=e+t/2;return n-n%t},lh=function(e,t,n){return Object.keys(e).map((function(e){return{original:(null!==n&&void 0!==n?n:t).get(e),latest:t.get(e)}})).filter((function(e){return void 0!==e.original&&void 0!==e.latest}))},sh=function(e,t,n,r,a,i,o){var l=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],s=r.get(n.id);if(s){var d=n.x+n.width/2,u=n.y+n.height/2,f=(0,b.Va)((0,b.Ua)(n.x,n.y),(0,b.Ua)(d,u),n.angle),h=(0,c.A)(f,2),p=e-h[0],v=t-h[1],U=(0,b.Va)((0,b.Ua)(e,t),(0,b.Ua)(d+p,u+v),-n.angle),m=(0,c.A)(U,2),g=m[0],y=m[1];(0,b.Pj)(s,{x:g,y:y},l),dh(s,r,a,i);var x=(0,b.zj)(n,o);if(x){var w=r.get(x.id);w&&(0,b.Pj)(w,{x:x.x+p,y:x.y+v},l)}}},ch=function(e,t){var n=(0,b.Mc)(t).map((function(t){return(0,b.Qc)(e,t).reduce((function(e,t){return e[t.id]=!0,e}),{})}));return e.filter((function(e){return!(0,b.Wc)(e)})).forEach((function(e){n.push((0,p.default)({},e.id,!0))})),n},dh=function(e,t,n,r,a){(0,b.cc)(e)?(0,b.Jg)([e],t,n,r,!0,[],null===a||void 0===a?void 0:a.zoom):(0,b.Pg)(e,t,a)},uh=function(e){var t=e.label,n=e.icon,a=e.dragInputCallback,i=e.value,o=e.elements,l=e.editable,s=void 0===l||l,d=e.shouldKeepAspectRatio,u=e.property,f=e.scene,h=e.appState,p=e.sensitivity,v=void 0===p?1:p,U=Kp(),m=(0,r.useRef)(null),g=(0,r.useRef)(null),y=(0,r.useState)(i.toString()),x=(0,c.A)(y,2),w=x[0],A=x[1],E=(0,r.useRef)(null);E.current||(E.current={originalAppState:(0,b.Nb)(h),originalElements:o,lastUpdatedValue:w,updatePending:!1}),(0,r.useEffect)((function(){var e=i.toString();A(e),E.current.lastUpdatedValue=e}),[i]);var k=function(e,t,n){if(!E.current.updatePending)return!1;E.current.updatePending=!1;var r=Number(e);if(isNaN(r))A(i.toString());else{var o=Number(r.toFixed(2)),l=Number(i);(isNaN(l)||Math.abs(o-l)>=.01)&&(E.current.lastUpdatedValue=e,a({accumulatedChange:0,instantChange:0,originalElements:t,originalElementsMap:U.scene.getNonDeletedElementsMap(),shouldKeepAspectRatio:d,shouldChangeByStepSize:!1,scene:f,nextValue:o,property:u,originalAppState:n,setInputValue:function(e){return A(String(e))}}),U.syncActionResult({captureUpdate:b.Wg.IMMEDIATELY}))}},S=(0,r.useRef)({});return S.current.handleInputValue=k,(0,r.useEffect)((function(){var e=m.current,t=S.current;return function(){var n,r=null===e||void 0===e?void 0:e.value;r&&null!==(n=t.handleInputValue)&&void 0!==n&&n.call(t,r,E.current.originalElements,E.current.originalAppState),window.removeEventListener("pointermove",t.onPointerMove,!1),window.removeEventListener("pointerup",t.onPointerUp,!1)}}),[s]),s?(0,V.jsxs)("div",{className:(0,le.A)("drag-input-container",!s&&"disabled"),"data-testid":t,children:[(0,V.jsx)("div",{className:"drag-input-label",ref:g,onPointerDown:function(e){if(m.current&&s){document.body.classList.add("excalidraw-cursor-resize");var t=Number(m.current.value);isNaN(t)&&(t=0);var n=null,r=U.scene.getNonDeletedElements().reduce((function(e,t){return e.set(t.id,(0,b.bg)(t)),e}),new Map),i=o.map((function(e){return r.get(e.id)})),l=(0,b.Nb)(h),c=0,p=0,g=function(e){if(n&&null!==r&&null!==i){var t=e.clientX-n.x;0!==t&&(p+=t,Math.abs(p)>=v&&(p=Math.sign(p)*Math.floor(Math.abs(p)/v),a({accumulatedChange:c+=p,instantChange:p,originalElements:i,originalElementsMap:r,shouldKeepAspectRatio:d,shouldChangeByStepSize:e.shiftKey,property:u,scene:f,originalAppState:l,setInputValue:function(e){return A(String(e))}}),p=0))}n={x:e.clientX,y:e.clientY}},y=function(){window.removeEventListener("pointermove",g,!1),U.syncActionResult({captureUpdate:b.Wg.IMMEDIATELY}),n=null,c=0,p=0,i=null,r=null,document.body.classList.remove("excalidraw-cursor-resize"),window.removeEventListener("pointerup",y,!1)};S.current.onPointerMove=g,S.current.onPointerUp=y,window.addEventListener("pointermove",g,!1),window.addEventListener("pointerup",y,!1)}},onPointerEnter:function(){g.current&&(g.current.style.cursor="ew-resize")},children:n?(0,V.jsx)(Ko,{icon:n}):t}),(0,V.jsx)("input",{className:"drag-input",autoComplete:"off",spellCheck:"false",onKeyDown:function(e){if(s){var t=e.target;t instanceof HTMLInputElement&&e.key===b.hg.ENTER&&(k(t.value,o,h),U.focusContainer())}},ref:m,value:w,onChange:function(e){E.current.updatePending=!0,A(e.target.value)},onFocus:function(e){e.target.select(),E.current.originalElements=o,E.current.originalAppState=(0,b.Nb)(h)},onBlur:function(e){w?s&&k(e.target.value,E.current.originalElements,E.current.originalAppState):A(i.toString())},disabled:!s})]}):null},fh=function(e){var t=e.accumulatedChange,n=e.originalElements,r=e.originalElementsMap,a=e.shouldKeepAspectRatio,i=e.shouldChangeByStepSize,o=e.nextValue,l=e.property,s=e.originalAppState,c=e.instantChange,d=e.scene.getNonDeletedElementsMap(),u=n[0],f=d.get(u.id);if(u&&f){var h=a||function(e){return"image"===e.type}(u),p=u.width/u.height;if(s.croppingElementId===u.id){var U=d.get(u.id);if(!U||!(0,b.Wb)(U)||!U.crop)return;var m=U.crop,g=(0,v.A)({},m),y=-1===U.scale[0],x=-1===U.scale[1],w=(0,b.ch)(U),A=w.width,E=w.height,k=m.naturalWidth/A,S=m.naturalHeight/E,M=y?m.width+m.x:m.naturalWidth-m.x,C=x?m.height+m.y:m.naturalHeight-m.y,j=b.ah*k,I=b.ah*S;if(void 0!==o){if("width"===l){var D=o*k,T=(0,b.Ia)(D,j,M);g=(0,v.A)((0,v.A)({},g),{},{width:T,x:y?m.x+m.width-T:m.x})}else if("height"===l){var _=o*S,L=(0,b.Ia)(_,I,C);g=(0,v.A)((0,v.A)({},g),{},{height:L,y:x?m.y+m.height-L:m.y})}return void(0,b.Pj)(U,{crop:g,width:g.width/(m.naturalWidth/A),height:g.height/(m.naturalHeight/E)})}var R="width"===l?c:0,P="height"===l?c:0,N=(0,b.Ia)(m.width+R,j,M),F=(0,b.Ia)(m.height+P,j,C);return g=(0,v.A)((0,v.A)({},m),{},{x:y?m.x+m.width-N:m.x,y:x?m.y+m.height-F:m.y,width:N,height:F}),void(0,b.Pj)(U,{crop:g,width:g.width/(m.naturalWidth/A),height:g.height/(m.naturalHeight/E)})}if(void 0!==o){var O=Math.max("width"===l?o:h?o*p:u.width,b.Ea),z=Math.max("height"===l?o:h?o/p:u.height,b.Ea);return void(0,b.gk)(O,z,f,u,d,r,"width"===l?"e":"s",{shouldMaintainAspectRatio:h})}var B="width"===l?t:0,H="height"===l?t:0,W=Math.max(0,u.width+B);"width"===l&&(W=i?oh(W,10):Math.round(W));var X=Math.max(0,u.height+H);"height"===l&&(X=i?oh(X,10):Math.round(X)),h&&("width"===l?X=Math.round(W/p*100)/100:W=Math.round(X*p*100)/100),X=Math.max(b.Ea,X),W=Math.max(b.Ea,W),(0,b.gk)(W,X,f,u,d,r,"width"===l?"e":"s",{shouldMaintainAspectRatio:h})}},hh=function(e){var t=e.property,n=e.element,r=e.scene,a=e.appState,i=(0,b.Ja)("width"===t?n.width:n.height,2);if(a.croppingElementId&&a.croppingElementId===n.id&&(0,b.Wb)(n)&&n.crop){var o=(0,b.ch)(n),l=o.width,s=o.height;if("width"===t){var c=l/n.crop.naturalWidth;i=(0,b.Ja)(n.crop.width*c,2)}if("height"===t){var d=s/n.crop.naturalHeight;i=(0,b.Ja)(n.crop.height*d,2)}}return(0,V.jsx)(uh,{label:"width"===t?"W":"H",elements:[n],dragInputCallback:fh,value:i,editable:ih(n,t),scene:r,appState:a,property:t})},ph=function(e){var t=e.accumulatedChange,n=e.originalElements,r=e.shouldChangeByStepSize,a=e.nextValue,i=e.scene,o=i.getNonDeletedElementsMap(),l=i.getNonDeletedElements(),s=n[0];if(s&&!(0,b.ec)(s)){var c=o.get(s.id);if(!c)return;if(void 0!==a){var d=(0,b.Ma)(a);(0,b.Pj)(c,{angle:d}),dh(c,o,l,i);var u=(0,b.zj)(c,o);return void(u&&!(0,b.dc)(c)&&(0,b.Pj)(u,{angle:d}))}var f=(Math.round(100*(0,b.Na)(s.angle))/100+Math.round(t))%360;r&&(f=oh(f,15)),f=f<0?f+360:f;var h=(0,b.Ma)(f);(0,b.Pj)(c,{angle:h}),dh(c,o,l,i);var p=(0,b.zj)(c,o);p&&!(0,b.dc)(c)&&(0,b.Pj)(p,{angle:h})}},vh=function(e){var t=e.element,n=e.scene,r=e.appState,a=e.property;return(0,V.jsx)(uh,{label:"A",icon:b.We,value:Math.round((0,b.Na)(t.angle)%360*100)/100,elements:[t],dragInputCallback:ph,editable:ih(t,"angle"),scene:n,appState:r,property:a})},Uh=function(e){var t=e.accumulatedChange,n=e.originalElements,r=e.shouldChangeByStepSize,a=e.nextValue,i=e.scene,o=i.getNonDeletedElementsMap(),l=n[0];if(l){var s,c=o.get(l.id);if(!c||!(0,b._b)(c))return;if(void 0!==a)s=Math.max(Math.round(a),4);else if("text"===l.type){var d=Math.round(l.fontSize),u=Math.round(t);s=Math.max(d+u,4),r&&(s=oh(s,4))}s&&((0,b.Pj)(c,{fontSize:s}),(0,b.uj)(c,i.getContainerElement(c),i.getNonDeletedElementsMap()))}},mh=function(e){var t=e.element,n=e.scene,r=e.appState,a=e.property,i=(0,b._b)(t)?t:(0,b.mc)(t)?(0,b.zj)(t,n.getNonDeletedElementsMap()):null;return i?(0,V.jsx)(uh,{label:"F",value:Math.round(10*i.fontSize)/10,elements:[i],dragInputCallback:Uh,icon:b.Ne,appState:r,scene:n,property:a}):null},gh=10,bh=function(e,t,n,r,a,i,o,l){var s=function(e,t,n,r){var a=r.x-e,i=r.y-t,o=r.width*n,l=r.height*n,s=e+a*n,c=t+i*n;return(0,v.A)((0,v.A)({width:o,height:l,x:s,y:c},(0,b.dk)(r,o,l,!1)),(0,b._b)(r)?{fontSize:r.fontSize*n}:{})}(e,t,r,i);(0,b.Pj)(a,s,!1);var c=(0,b.zj)(i,l);if(c){var d=c.fontSize*r;(0,b.Pg)(a,o,{newSize:{width:s.width,height:s.height}});var u=o.get(c.id);u&&(0,b._b)(u)&&((0,b.Pj)(u,{fontSize:d},!1),(0,b.wj)(a,o,"width"===n?"e":"s",!0))}},yh=function(e,t,n,r,a,i,o,l,s,c){"width"===i?t=Math.round(e/r*100)/100:e=Math.round(t*r*100)/100;for(var d=t/n,u=0;u<l.length;u++){var f=l[u],h=o[u];bh(a[0],a[1],i,d,h,f,s,c)}},xh=function(e){var t=e.accumulatedChange,n=e.originalElements,r=e.originalElementsMap,a=e.originalAppState,i=e.shouldChangeByStepSize,o=e.nextValue,l=e.scene,s=e.property,d=l.getNonDeletedElementsMap(),u=ch(n,a);if(void 0===o){var f,h="width"===s?t:0,p="height"===s?t:0,v=(0,U.A)(u);try{for(v.s();!(f=v.n()).done;){var m=f.value,g=lh(m,d,r);if(g.length>1){var y=g.map((function(e){return e.latest})),x=g.map((function(e){return e.original})),w=(0,b.bj)(x),A=(0,c.A)(w,4),E=A[0],k=A[1],S=A[2],M=A[3],C=S-E,j=M-k,I=C/j,D=Math.max(0,C+h);"width"===s&&(D=i?oh(D,gh):Math.round(D));var T=Math.max(0,j+p);"height"===s&&(T=i?oh(T,gh):Math.round(T)),D=Math.max(b.Ea,D),T=Math.max(b.Ea,T),yh(D,T,j,I,(0,b.Ua)(E,k),s,y,x,d,r)}else{var _=(0,c.A)(g,1)[0],L=null===_||void 0===_?void 0:_.latest,R=null===_||void 0===_?void 0:_.original;if(L&&R&&ih(L,s)){var P=Math.max(0,R.width+h);"width"===s&&(P=i?oh(P,gh):Math.round(P));var N=Math.max(0,R.height+p);"height"===s&&(N=i?oh(N,gh):Math.round(N)),P=Math.max(b.Ea,P),N=Math.max(b.Ea,N),(0,b.gk)(P,N,L,R,d,r,"width"===s?"e":"s",{shouldInformMutation:!1})}}}}catch(oe){v.e(oe)}finally{v.f()}l.triggerUpdate()}else{var F,O=(0,U.A)(u);try{for(O.s();!(F=O.n()).done;){var z=F.value,B=lh(z,d,r);if(B.length>1){var H=B.map((function(e){return e.latest})),W=B.map((function(e){return e.original})),X=(0,b.bj)(W),G=(0,c.A)(X,4),V=G[0],Y=G[1],Z=G[2],K=G[3],q=Z-V,$=K-Y,Q=q/$,J=Math.max(b.Ea,"width"===s?Math.max(0,o):q),ee=Math.max(b.Ea,"height"===s?Math.max(0,o):$);yh(J,ee,$,Q,(0,b.Ua)(V,Y),s,H,W,d,r)}else{var te=(0,c.A)(B,1)[0],ne=null===te||void 0===te?void 0:te.latest,re=null===te||void 0===te?void 0:te.original;if(ne&&re&&ih(ne,s)){var ae="width"===s?Math.max(0,o):ne.width;"width"===s&&(ae=i?oh(ae,gh):Math.round(ae));var ie="height"===s?Math.max(0,o):ne.height;"height"===s&&(ie=i?oh(ie,gh):Math.round(ie)),ae=Math.max(b.Ea,ae),ie=Math.max(b.Ea,ie),(0,b.gk)(ae,ie,ne,re,d,r,"width"===s?"e":"s",{shouldInformMutation:!1})}}}}catch(oe){O.e(oe)}finally{O.f()}l.triggerUpdate()}},wh=function(e){var t=e.property,n=e.elements,a=e.elementsMap,i=e.atomicUnits,o=e.scene,l=e.appState,s=(0,r.useMemo)((function(){return i.map((function(e){var n=lh(e,a);if(n.length>1){var r=(0,b.bj)(n.map((function(e){return e.latest}))),i=(0,c.A)(r,4),o=i[0],l=i[1],s=i[2],d=i[3];return Math.round(100*("width"===t?s-o:d-l))/100}var u=(0,c.A)(n,1)[0];return Math.round(100*("width"===t?u.latest.width:u.latest.height))/100}))}),[a,i,t]),d=1===new Set(s).size?Math.round(100*s[0])/100:"Mixed",u=s.length>0;return(0,V.jsx)(uh,{label:"width"===t?"W":"H",elements:n,dragInputCallback:xh,value:d,editable:u,appState:l,property:t,scene:o})},Ah=function(e){var t=e.accumulatedChange,n=e.originalElements,r=e.shouldChangeByStepSize,a=e.nextValue,i=e.property,o=e.scene,l=o.getNonDeletedElementsMap(),s=n.map((function(e){return l.get(e.id)})).filter((function(e){return e&&!(0,b.Wc)(e)&&ih(e,i)})),c=n.filter((function(e){return!(0,b.Wc)(e)&&ih(e,i)}));if(void 0===a){for(var d=0;d<s.length;d++){var u=s[d];if(u){var f=c[d],h=(Math.round(100*(0,b.Na)(f.angle))/100+Math.round(t))%360;r&&(h=oh(h,15)),h=h<0?h+360:h;var p=(0,b.Ma)(h);(0,b.Pj)(u,{angle:p},!1);var v=(0,b.zj)(u,l);v&&!(0,b.dc)(u)&&(0,b.Pj)(v,{angle:p},!1)}}o.triggerUpdate()}else{var m,g=(0,b.Ma)(a),y=(0,U.A)(s);try{for(y.s();!(m=y.n()).done;){var x=m.value;if(x){(0,b.Pj)(x,{angle:g},!1);var w=(0,b.zj)(x,l);w&&!(0,b.dc)(x)&&(0,b.Pj)(w,{angle:g},!1)}}}catch(A){y.e(A)}finally{y.f()}o.triggerUpdate()}},Eh=function(e){var t=e.elements,n=e.scene,r=e.appState,a=e.property,i=t.filter((function(e){return!(0,b.Wc)(e)&&ih(e,"angle")})),o=i.map((function(e){return Math.round((0,b.Na)(e.angle)%360*100)/100})),l=1===new Set(o).size?o[0]:"Mixed",s=i.some((function(e){return ih(e,"angle")}));return(0,V.jsx)(uh,{label:"A",icon:b.We,value:l,elements:t,dragInputCallback:Ah,editable:s,appState:r,scene:n,property:a})},kh=function(e){var t,n=e.accumulatedChange,r=e.originalElements,a=e.shouldChangeByStepSize,i=e.nextValue,o=e.scene,l=o.getNonDeletedElementsMap(),s=r.map((function(e){return l.get(e.id)}));if(i){t=Math.max(Math.round(i),4);var c,d=(0,U.A)(s);try{for(d.s();!(c=d.n()).done;){var u=c.value;(0,b.Pj)(u,{fontSize:t},!1),(0,b.uj)(u,o.getContainerElement(u),l,!1)}}catch(x){d.e(x)}finally{d.f()}o.triggerUpdate()}else{for(var f=r,h=0;h<s.length;h++){var p=s[h],v=f[h],m=Math.round(v.fontSize),g=Math.round(n),y=Math.max(m+g,4);a&&(y=oh(y,4)),(0,b.Pj)(p,{fontSize:y},!1),(0,b.uj)(p,o.getContainerElement(p),l,!1)}o.triggerUpdate()}},Sh=function(e){var t=e.elements,n=e.scene,r=e.appState,a=e.property,i=function(e,t){return e.reduce((function(e,n){if(!n||(0,b.Wc)(n))return e;if((0,b._b)(n))return e.push(n),e;if((0,b.mc)(n)){var r=(0,b.zj)(n,t);if(r)return e.push(r),e}return e}),[])}(t,e.elementsMap);if(!i.length)return null;var o=i.map((function(e){return Math.round(10*e.fontSize)/10})),l=1===new Set(o).size?o[0]:"Mixed",s=o.length>0;return(0,V.jsx)(uh,{label:"F",icon:b.Ne,elements:i,dragInputCallback:kh,value:l,editable:s,scene:n,property:a,appState:r})},Mh=function(e){var t=e.accumulatedChange,n=e.instantChange,r=e.originalElements,a=e.originalElementsMap,i=e.shouldChangeByStepSize,o=e.nextValue,l=e.property,s=e.scene,d=e.originalAppState,u=s.getNonDeletedElementsMap(),f=s.getNonDeletedElements(),h=r[0],p=h.x+h.width/2,U=h.y+h.height/2,m=(0,b.Va)((0,b.Ua)(h.x,h.y),(0,b.Ua)(p,U),h.angle),g=(0,c.A)(m,2),y=g[0],x=g[1];if(d.croppingElementId===h.id){var w=u.get(h.id);if(!w||!(0,b.Wb)(w)||!w.crop)return;var A=w.crop,E=A,k=-1===w.scale[0],S=-1===w.scale[1],M=(0,b.ch)(w),C=M.width,j=M.height;if(void 0!==o){if("x"===l){var I=o*(A.naturalWidth/C);E=k?(0,v.A)((0,v.A)({},A),{},{x:(0,b.Ia)(A.naturalWidth-I-A.width,0,A.naturalWidth-A.width)}):(0,v.A)((0,v.A)({},A),{},{x:(0,b.Ia)(o*(A.naturalWidth/C),0,A.naturalWidth-A.width)})}return"y"===l&&(E=(0,v.A)((0,v.A)({},A),{},{y:(0,b.Ia)(o*(A.naturalHeight/j),0,A.naturalHeight-A.height)})),void(0,b.Pj)(w,{crop:E})}var D=("x"===l?n:0)*(k?-1:1),T=("y"===l?n:0)*(S?-1:1);return E=(0,v.A)((0,v.A)({},A),{},{x:(0,b.Ia)(A.x+D,0,A.naturalWidth-A.width),y:(0,b.Ia)(A.y+T,0,A.naturalHeight-A.height)}),void(0,b.Pj)(w,{crop:E})}if(void 0===o){var _="x"===l?t:0,L="y"===l?t:0,R="x"===l?Math.round(i?oh(h.x+_,10):y+_):y,P="y"===l?Math.round(i?oh(h.y+L,10):x+L):x;sh(R,P,h,u,f,s,a)}else sh("x"===l?o:y,"y"===l?o:x,h,u,f,s,a)},Ch=function(e){var t=e.property,n=e.element,r=(e.elementsMap,e.scene),a=e.appState,i=(0,b.Va)((0,b.Ua)(n.x,n.y),(0,b.Ua)(n.x+n.width/2,n.y+n.height/2),n.angle),o=(0,c.A)(i,2),l=o[0],s=o[1],d=(0,b.Ja)("x"===t?l:s,2);if(a.croppingElementId===n.id&&(0,b.Wb)(n)&&n.crop){var u=(0,b.dh)(n);u&&(d=(0,b.Ja)("x"===t?u.x:u.y,2))}return(0,V.jsx)(uh,{label:"x"===t?"X":"Y",elements:[n],dragInputCallback:Mh,scene:r,value:d,property:t,appState:a})},jh=function(e,t,n,r,a,i,o){for(var l=(0,b.bj)(n),s=(0,c.A)(l,3),d=e-s[0],u=t-s[1],f=0;f<n.length;f++){var h=n[f],p=r.get(h.id);if(p&&(!(0,b._b)(p)||!p.containerId)){var v=p.x+p.width/2,U=p.y+p.height/2,m=(0,b.Va)((0,b.Ua)(p.x,p.y),(0,b.Ua)(v,U),p.angle),g=(0,c.A)(m,2),y=g[0],x=g[1];sh(y+d,x+u,h,r,a,o,i,!1)}}},Ih=function(e){var t=e.accumulatedChange,n=e.originalElements,r=e.originalElementsMap,a=e.shouldChangeByStepSize,i=e.nextValue,o=e.property,l=e.scene,s=e.originalAppState,d=l.getNonDeletedElementsMap(),u=l.getNonDeletedElements();if(void 0===i){var f=a?oh(t,10):t;(function(e,t,n,r,a,i,o,l){for(var s=0;s<r.length;s++){var d=a[s],u=d.x+d.width/2,f=d.y+d.height/2,h=(0,b.Va)((0,b.Ua)(d.x,d.y),(0,b.Ua)(u,f),d.angle),p=(0,c.A)(h,2),v=p[0],U=p[1],m="x"===e?Math.round(v+t):v,g="y"===e?Math.round(U+n):U;sh(m,g,d,i,r,l,o,!1)}})(o,"x"===o?f:0,"y"===o?f:0,n,n,d,r,l),l.triggerUpdate()}else{var h,p=(0,U.A)(ch(n,s));try{for(p.s();!(h=p.n()).done;){var v=h.value,m=lh(v,d,r);if(m.length>1){var g=(0,b.bj)(m.map((function(e){return e.latest}))),y=(0,c.A)(g,3),x=y[0],w=y[1];jh("x"===o?i:x,"y"===o?i:w,m.map((function(e){return e.original})),d,u,r,l)}else{var A,E,k=null===(A=m[0])||void 0===A?void 0:A.original,S=null===(E=m[0])||void 0===E?void 0:E.latest;if(k&&S&&ih(S,o)){var M=k.x+k.width/2,C=k.y+k.height/2,j=(0,b.Va)((0,b.Ua)(k.x,k.y),(0,b.Ua)(M,C),k.angle),I=(0,c.A)(j,2),D=I[0],T=I[1];sh("x"===o?i:D,"y"===o?i:T,k,d,u,l,r,!1)}}}}catch(_){p.e(_)}finally{p.f()}l.triggerUpdate()}},Dh=function(e){var t=e.property,n=e.elements,a=e.elementsMap,i=e.atomicUnits,o=e.scene,l=e.appState,s=(0,r.useMemo)((function(){return i.map((function(e){var n=Object.keys(e).map((function(e){return a.get(e)})).filter((function(e){return void 0!==e}));if(n.length>1){var r=(0,b.bj)(n),i=(0,c.A)(r,2),o=i[0],l=i[1];return Math.round(100*("x"===t?o:l))/100}var s=(0,c.A)(n,1)[0],d=s.x+s.width/2,u=s.y+s.height/2,f=(0,b.Va)((0,b.Ua)(s.x,s.y),(0,b.Ua)(d,u),s.angle),h=(0,c.A)(f,2),p=h[0],v=h[1];return Math.round(100*("x"===t?p:v))/100}))}),[i,a,t]),d=1===new Set(s).size?s[0]:"Mixed";return(0,V.jsx)(uh,{label:"x"===t?"X":"Y",elements:n,dragInputCallback:Ih,value:d,property:t,scene:o,appState:l})},Th=function(e){var t=e.property,n=e.scene,r=e.appState,a=e.setAppState;return(0,V.jsx)(uh,{label:"Grid step",sensitivity:8,elements:[],dragInputCallback:function(e){var t=e.nextValue,n=e.instantChange,r=e.shouldChangeByStepSize,i=e.setInputValue;a((function(e){var a;return t?a=t:n&&(a=r?oh(e.gridStep+5*Math.sign(n),5):e.gridStep+n),a?(a=(0,b.Bk)(a),i(a),{gridStep:a}):(i(e.gridStep),null)}))},scene:n,value:r.gridStep,property:t,appState:r})},_h=function(e){var t=ev(),n=e.app.scene.getSceneNonce()||1,r=e.app.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!1}),a=(0,b.fj)(e.app);return(0,V.jsx)(Ph,(0,v.A)((0,v.A)({},e),{},{appState:t,sceneNonce:n,selectedElements:r,gridModeEnabled:a}))},Lh=function(e){var t=e.children,n=e.columns,r=void 0===n?1:n,a=e.heading,i=e.style,o=(0,m.A)(e,fi);return(0,V.jsx)("div",(0,v.A)((0,v.A)({className:(0,le.A)("exc-stats__row",{"exc-stats__row--heading":a}),style:(0,v.A)({gridTemplateColumns:"repeat(".concat(r,", 1fr)")},i)},o),{},{children:t}))};Lh.displayName="StatsRow";var Rh=function(e){var t=e.children,n=e.order,r=e.style,a=(0,m.A)(e,hi);return(0,V.jsx)("div",(0,v.A)((0,v.A)({className:"exc-stats__rows",style:(0,v.A)({order:n},r)},a),{},{children:t}))};Rh.displayName="StatsRows",_h.StatsRow=Lh,_h.StatsRows=Rh;var Ph=(0,r.memo)((function(e){var t=e.app,n=e.onClose,a=e.renderCustomStats,i=e.selectedElements,o=e.appState,l=e.sceneNonce,s=e.gridModeEnabled,d=t.scene,u=d.getNonDeletedElements(),f=d.getNonDeletedElementsMap(),h=tv(),p=1===i.length?i[0]:null,v=i.length>1?i:null,U=o.croppingElementId&&(0,b.Wb)(p),m=U?(0,b.ch)(p):null,g=(0,r.useState)({width:0,height:0}),y=(0,c.A)(g,2),x=y[0],w=y[1],A=(0,r.useMemo)((function(){return Hn((function(e){var t=(0,b.bj)(e);w({width:Math.round(t[2])-Math.round(t[0]),height:Math.round(t[3])-Math.round(t[1])})}),50)}),[]);(0,r.useEffect)((function(){A(u)}),[l,u,A]),(0,r.useEffect)((function(){return function(){return A.cancel()}}),[A]);var E=(0,r.useMemo)((function(){return ch(i,o)}),[i,o]),k=(0,r.useMemo)((function(){return(0,b.Qi)(i)}),[i]);return(0,V.jsx)("div",{className:"exc-stats",children:(0,V.jsxs)(Ho,{padding:3,children:[(0,V.jsxs)("div",{className:"title",children:[(0,V.jsx)("h2",{children:Fi("stats.title")}),(0,V.jsx)("div",{className:"close",onClick:n,children:b.ge})]}),(0,V.jsxs)(qo,{label:(0,V.jsx)("h3",{children:Fi("stats.generalStats")}),open:!!(o.stats.panels&b.Da.generalStats),openTrigger:function(){return h((function(e){return{stats:{open:!0,panels:e.stats.panels^b.Da.generalStats}}}))},children:[(0,V.jsxs)(Rh,{children:[(0,V.jsx)(Lh,{heading:!0,children:Fi("stats.scene")}),(0,V.jsxs)(Lh,{columns:2,children:[(0,V.jsx)("div",{children:Fi("stats.shapes")}),(0,V.jsx)("div",{children:u.length})]}),(0,V.jsxs)(Lh,{columns:2,children:[(0,V.jsx)("div",{children:Fi("stats.width")}),(0,V.jsx)("div",{children:x.width})]}),(0,V.jsxs)(Lh,{columns:2,children:[(0,V.jsx)("div",{children:Fi("stats.height")}),(0,V.jsx)("div",{children:x.height})]}),s&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(Lh,{heading:!0,children:"Canvas"}),(0,V.jsx)(Lh,{children:(0,V.jsx)(Th,{property:"gridStep",scene:d,appState:o,setAppState:h})})]})]}),null===a||void 0===a?void 0:a(u,o)]}),!k&&i.length>0&&(0,V.jsx)("div",{id:"elementStats",style:{marginTop:12},children:(0,V.jsx)(qo,{label:(0,V.jsx)("h3",{children:Fi("stats.elementProperties")}),open:!!(o.stats.panels&b.Da.elementProperties),openTrigger:function(){return h((function(e){return{stats:{open:!0,panels:e.stats.panels^b.Da.elementProperties}}}))},children:(0,V.jsxs)(Rh,{children:[p&&(0,V.jsxs)(V.Fragment,{children:[U&&(0,V.jsx)(Lh,{heading:!0,children:Fi("labels.unCroppedDimension")}),o.croppingElementId&&(0,b.Wb)(p)&&m&&(0,V.jsxs)(Lh,{columns:2,children:[(0,V.jsx)("div",{children:Fi("stats.width")}),(0,V.jsx)("div",{children:(0,b.Ja)(m.width,2)})]}),o.croppingElementId&&(0,b.Wb)(p)&&m&&(0,V.jsxs)(Lh,{columns:2,children:[(0,V.jsx)("div",{children:Fi("stats.height")}),(0,V.jsx)("div",{children:(0,b.Ja)(m.height,2)})]}),(0,V.jsx)(Lh,{heading:!0,"data-testid":"stats-element-type",children:o.croppingElementId?Fi("labels.imageCropping"):Fi("element.".concat(p.type))}),(0,V.jsx)(Lh,{children:(0,V.jsx)(Ch,{element:p,property:"x",elementsMap:f,scene:d,appState:o})}),(0,V.jsx)(Lh,{children:(0,V.jsx)(Ch,{element:p,property:"y",elementsMap:f,scene:d,appState:o})}),(0,V.jsx)(Lh,{children:(0,V.jsx)(hh,{property:"width",element:p,scene:d,appState:o})}),(0,V.jsx)(Lh,{children:(0,V.jsx)(hh,{property:"height",element:p,scene:d,appState:o})}),!(0,b.ec)(p)&&(0,V.jsx)(Lh,{children:(0,V.jsx)(vh,{property:"angle",element:p,scene:d,appState:o})}),(0,V.jsx)(Lh,{children:(0,V.jsx)(mh,{property:"fontSize",element:p,scene:d,appState:o})})]}),v&&(0,V.jsxs)(V.Fragment,{children:[(0,b.Vc)(v)&&(0,V.jsx)(Lh,{heading:!0,children:Fi("element.group")}),(0,V.jsxs)(Lh,{columns:2,style:{margin:"0.3125rem 0"},children:[(0,V.jsx)("div",{children:Fi("stats.shapes")}),(0,V.jsx)("div",{children:i.length})]}),(0,V.jsx)(Lh,{children:(0,V.jsx)(Dh,{property:"x",elements:v,elementsMap:f,atomicUnits:E,scene:d,appState:o})}),(0,V.jsx)(Lh,{children:(0,V.jsx)(Dh,{property:"y",elements:v,elementsMap:f,atomicUnits:E,scene:d,appState:o})}),(0,V.jsx)(Lh,{children:(0,V.jsx)(wh,{property:"width",elements:v,elementsMap:f,atomicUnits:E,scene:d,appState:o})}),(0,V.jsx)(Lh,{children:(0,V.jsx)(wh,{property:"height",elements:v,elementsMap:f,atomicUnits:E,scene:d,appState:o})}),(0,V.jsx)(Lh,{children:(0,V.jsx)(Eh,{property:"angle",elements:v,scene:d,appState:o})}),(0,V.jsx)(Lh,{children:(0,V.jsx)(Sh,{property:"fontSize",elements:v,scene:d,appState:o,elementsMap:f})})]})]})})})]})})}),(function(e,t){return e.sceneNonce===t.sceneNonce&&e.selectedElements===t.selectedElements&&e.appState.stats.panels===t.appState.stats.panels&&e.gridModeEnabled===t.gridModeEnabled&&e.appState.gridStep===t.appState.gridStep&&e.appState.croppingElementId===t.appState.croppingElementId})),Nh=function(e){var t,n,a=e.sourceElementId,i=e.onClose,o=e.elementsMap,l=e.appState,s=e.generateLinkForSelection,d=void 0===s?b.Yh:s,u=null!==(t=null===(n=o.get(a))||void 0===n?void 0:n.link)&&void 0!==t?t:null,f=(0,r.useState)(u),h=(0,c.A)(f,2),p=h[0],v=h[1],U=(0,r.useState)(!1),m=(0,c.A)(U,2),g=m[0],y=m[1];(0,r.useEffect)((function(){var e=(0,b.vk)(o,l),t=u;if(e.length>0&&d){var n=(0,b.Zh)(e,l);n&&(t=(0,b.Xc)(d(n.id,n.type)))}v(t)}),[o,l,l.selectedElementIds,u,d]);var x=(0,r.useCallback)((function(){var e;if(p&&p!==(null===(e=o.get(a))||void 0===e?void 0:e.link)){var t=o.get(a);t&&(0,b.Pj)(t,{link:p})}if(!p&&g&&a){var n=o.get(a);n&&(0,b.Pj)(n,{link:null})}null===i||void 0===i||i()}),[a,p,o,g,i]);return(0,r.useEffect)((function(){var e=function(e){var t,n;"elementLinkSelector"===(null===(t=l.openDialog)||void 0===t?void 0:t.name)&&e.key===b.hg.ENTER&&x(),"elementLinkSelector"===(null===(n=l.openDialog)||void 0===n?void 0:n.name)&&e.key===b.hg.ESCAPE&&(null===i||void 0===i||i())};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[l,i,x]),(0,V.jsxs)("div",{className:"ElementLinkDialog",children:[(0,V.jsxs)("div",{className:"ElementLinkDialog__header",children:[(0,V.jsx)("h2",{children:Fi("elementLink.title")}),(0,V.jsx)("p",{children:Fi("elementLink.desc")})]}),(0,V.jsxs)("div",{className:"ElementLinkDialog__input",children:[(0,V.jsx)(ed,{value:null!==p&&void 0!==p?p:"",onChange:function(e){g||y(!0),v(e)},onKeyDown:function(e){e.key===b.hg.ENTER&&x()},className:"ElementLinkDialog__input-field",selectOnRender:!0}),u&&p&&(0,V.jsx)(Xi,{type:"button",title:Fi("buttons.remove"),"aria-label":Fi("buttons.remove"),label:Fi("buttons.remove"),onClick:function(){v(null),y(!0)},className:"ElementLinkDialog__remove",icon:b.ud})]}),(0,V.jsxs)("div",{className:"ElementLinkDialog__actions",children:[(0,V.jsx)(bc,{label:Fi("buttons.cancel"),onClick:function(){null===i||void 0===i||i()},style:{marginRight:10}}),(0,V.jsx)(bc,{label:Fi("buttons.confirm"),onClick:x,actionType:"primary"})]})]})},Fh=function(e){var t=e.UIOptions;return(0,V.jsxs)(xf,{__fallback:!0,children:[(0,V.jsx)(xf.DefaultItems.LoadScene,{}),(0,V.jsx)(xf.DefaultItems.SaveToActiveFile,{}),t.canvasActions.export&&(0,V.jsx)(xf.DefaultItems.Export,{}),t.canvasActions.saveAsImage&&(0,V.jsx)(xf.DefaultItems.SaveAsImage,{}),(0,V.jsx)(xf.DefaultItems.SearchMenu,{}),(0,V.jsx)(xf.DefaultItems.Help,{}),(0,V.jsx)(xf.DefaultItems.ClearCanvas,{}),(0,V.jsx)(xf.Separator,{}),(0,V.jsx)(xf.Group,{title:"Excalidraw links",children:(0,V.jsx)(xf.DefaultItems.Socials,{})}),(0,V.jsx)(xf.Separator,{}),(0,V.jsx)(xf.DefaultItems.ToggleTheme,{}),(0,V.jsx)(xf.DefaultItems.ChangeCanvasBackground,{})]})},Oh=function(){return(0,V.jsxs)(Ef,{__fallback:!0,children:[(0,V.jsx)(Ef.Actions.SaveToDisk,{}),(0,V.jsx)(Ef.Actions.ExportToImage,{})]})},zh=function(e){e.suggestedBindings,e.startBoundElement,e.cursorButton,e.scrollX,e.scrollY;return(0,m.A)(e,pi)},Bh=r.memo((function(e){var t,n,a,i=e.actionManager,o=e.appState,l=e.files,s=e.setAppState,d=e.elements,u=e.canvas,f=e.onLockToggle,h=e.onHandToolToggle,m=e.onPenModeToggle,g=e.showExitZenModeBtn,y=e.renderTopRightUI,x=e.renderCustomStats,w=e.UIOptions,A=e.onExportImage,E=e.renderWelcomeScreen,k=e.children,S=e.app,M=e.isCollaborating,C=e.generateLinkForSelection,j=$p(),I=r.useMemo((function(){return{MainMenuTunnel:nr(),WelcomeScreenMenuHintTunnel:nr(),WelcomeScreenToolbarHintTunnel:nr(),WelcomeScreenHelpHintTunnel:nr(),WelcomeScreenCenterTunnel:nr(),FooterCenterTunnel:nr(),DefaultSidebarTriggerTunnel:nr(),DefaultSidebarTabTriggersTunnel:nr(),OverwriteConfirmDialogTunnel:nr(),TTDDialogTriggerTunnel:nr(),tunnelsJotai:dd}}),[]),D=I.tunnelsJotai.Provider,T=Ei(Oo),_=(0,c.A)(T,2),L=_[0],R=_[1],P=function(){return w.canvasActions.export?(0,V.jsx)(zu,{elements:d,appState:o,files:l,actionManager:i,exportOpts:w.canvasActions.export,canvas:u,setAppState:s}):null},N=function(){var e;return w.canvasActions.saveAsImage&&"imageExport"===(null===(e=o.openDialog)||void 0===e?void 0:e.name)?(0,V.jsx)(ru,{elements:d,appState:o,files:l,actionManager:i,onExportImage:A,onCloseRequest:function(){return s({openDialog:null})},name:S.getName()}):null},F=function(){return(0,V.jsx)(Rf,{__fallback:!0,onDock:function(e){vo("sidebar","toggleDock (".concat(e?"dock":"undock",")"),"(".concat(j.editor.isMobile?"mobile":"desktop",")"))}})},O=Si($u),z=(0,V.jsxs)(V.Fragment,{children:[k,(0,V.jsx)(Fh,{UIOptions:w}),(0,V.jsx)(Rf.Trigger,{__fallback:!0,icon:b.fd,title:(0,b.Ya)(Fi("toolBar.library")),onToggle:function(e){e&&vo("sidebar","".concat(b.ya.name," (open)"),"button (".concat(j.editor.isMobile?"mobile":"desktop",")"))},tab:b.ya.defaultTab,children:Fi("toolBar.library")}),(0,V.jsx)(Oh,{}),"ttd"===(null===(t=o.openDialog)||void 0===t?void 0:t.name)&&(0,V.jsx)(rh,{__fallback:!0}),o.isLoading&&(0,V.jsx)(Hi,{delay:250}),o.errorMessage&&(0,V.jsx)(Kd,{onClose:function(){return s({errorMessage:null})},children:o.errorMessage}),L&&!j.editor.isMobile&&(0,V.jsx)(zo,{colorPickerType:L.colorPickerType,onCancel:function(){R(null)},onChange:function(e,t,n,r){var a=r.altKey;if("elementBackground"===e||"elementStroke"===e)if(n.length){var i,o,l=(0,U.A)(n);try{for(l.s();!(o=l.n()).done;){var c=o.value;(0,b.Pj)(c,(0,p.default)({},a&&L.swapPreviewOnAlt?"elementBackground"===e?"strokeColor":"backgroundColor":"elementBackground"===e?"backgroundColor":"strokeColor",t),!1),b.ed.delete(c)}}catch(d){l.e(d)}finally{l.f()}null===(i=b.Oj.getScene(n[0]))||void 0===i||i.triggerUpdate()}else s("elementBackground"===e?{currentItemBackgroundColor:t}:{currentItemStrokeColor:t})},onSelect:function(e,t){var n;R((function(e){return null!==e&&void 0!==e&&e.keepOpenOnAlt&&t.altKey?e:null})),null===L||void 0===L||null===(n=L.onSelect)||void 0===n||n.call(L,e,t)}}),"help"===(null===(n=o.openDialog)||void 0===n?void 0:n.name)&&(0,V.jsx)(_u,{onClose:function(){s({openDialog:null})}}),(0,V.jsx)(xd,{}),"elementLinkSelector"===(null===(a=o.openDialog)||void 0===a?void 0:a.name)&&(0,V.jsx)(Nh,{sourceElementId:o.openDialog.sourceElementId,onClose:function(){s({openDialog:null})},elementsMap:S.scene.getNonDeletedElementsMap(),appState:o,generateLinkForSelection:C}),(0,V.jsx)(I.OverwriteConfirmDialogTunnel.Out,{}),N(),P(),o.pasteDialog.shown&&(0,V.jsx)(ku,{setAppState:s,appState:o,onClose:function(){return s({pasteDialog:{shown:!1,data:null}})}}),j.editor.isMobile&&(0,V.jsx)(Au,{app:S,appState:o,elements:d,actionManager:i,renderJSONExportDialog:P,renderImageExportDialog:N,setAppState:s,onLockToggle:f,onHandToolToggle:h,onPenModeToggle:m,renderTopRightUI:y,renderCustomStats:x,renderSidebars:F,device:j,renderWelcomeScreen:E,UIOptions:w}),!j.editor.isMobile&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"layer-ui__wrapper",style:o.openSidebar&&O&&j.editor.canFitSidebar?{width:"calc(100% - var(--right-sidebar-width))"}:{},children:[E&&(0,V.jsx)(I.WelcomeScreenCenterTunnel.Out,{}),function(){var e,t,n,r,a,l=(0,b.lk)(o,d),s=o.stats.open&&!o.zenModeEnabled&&!o.viewModeEnabled&&"elementLinkSelector"!==(null===(e=o.openDialog)||void 0===e?void 0:e.name);return(0,V.jsx)(au,{side:"top",children:(0,V.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,V.jsxs)(uc.Col,{gap:6,className:(0,le.A)("App-menu_top__left"),children:[(0,V.jsxs)("div",{style:{position:"relative"},children:[(0,V.jsx)(I.MainMenuTunnel.Out,{}),E&&(0,V.jsx)(I.WelcomeScreenMenuHintTunnel.Out,{})]}),l&&(0,V.jsx)(bu,{heading:"selectedShapeActions",className:(0,le.A)("selected-shape-actions zen-mode-transition",{"transition-left":o.zenModeEnabled}),children:(0,V.jsx)(Ho,{className:b.E.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(o.height-166,"px")},children:(0,V.jsx)(hd,{appState:o,elementsMap:S.scene.getNonDeletedElementsMap(),renderAction:i.renderAction,app:S})})})]}),!o.viewModeEnabled&&"elementLinkSelector"!==(null===(t=o.openDialog)||void 0===t?void 0:t.name)&&(0,V.jsx)(bu,{heading:"shapes",className:"shapes-section",children:function(e){return(0,V.jsxs)("div",{style:{position:"relative"},children:[E&&(0,V.jsx)(I.WelcomeScreenToolbarHintTunnel.Out,{}),(0,V.jsx)(uc.Col,{gap:4,align:"start",children:(0,V.jsxs)(uc.Row,{gap:1,className:(0,le.A)("App-toolbar-container",{"zen-mode":o.zenModeEnabled}),children:[(0,V.jsxs)(Ho,{padding:1,className:(0,le.A)("App-toolbar",{"zen-mode":o.zenModeEnabled}),children:[(0,V.jsx)(Uu,{appState:o,isMobile:j.editor.isMobile,device:j,app:S}),e,(0,V.jsxs)(uc.Row,{gap:1,children:[(0,V.jsx)(xu,{zenModeEnabled:o.zenModeEnabled,checked:o.penMode,onChange:function(){return m(null)},title:Fi("toolBar.penMode"),penDetected:o.penDetected}),(0,V.jsx)(gu,{checked:o.activeTool.locked,onChange:f,title:Fi("toolBar.lock")}),(0,V.jsx)("div",{className:"App-toolbar__divider"}),(0,V.jsx)(wu,{checked:(0,b.Hc)(o),onChange:function(){return h()},title:Fi("toolBar.hand"),isMobile:!0}),(0,V.jsx)(pd,{appState:o,activeTool:o.activeTool,UIOptions:w,app:S})]})]}),M&&(0,V.jsx)(Ho,{style:{marginLeft:8,alignSelf:"center",height:"fit-content"},children:(0,V.jsx)(Pf,{title:Fi("toolBar.laser"),checked:o.activeTool.type===b.Aa.laser,onChange:function(){return S.setActiveTool({type:b.Aa.laser})},isMobile:!0})})]})})]})}}),(0,V.jsxs)("div",{className:(0,le.A)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":o.zenModeEnabled}),children:[o.collaborators.size>0&&(0,V.jsx)(Nu,{collaborators:o.collaborators,userToFollow:(null===(n=o.userToFollow)||void 0===n?void 0:n.socketId)||null}),null===y||void 0===y?void 0:y(j.editor.isMobile,o),!o.viewModeEnabled&&"elementLinkSelector"!==(null===(r=o.openDialog)||void 0===r?void 0:r.name)&&(!O||(null===(a=o.openSidebar)||void 0===a?void 0:a.name)!==b.ya.name)&&(0,V.jsx)(I.DefaultSidebarTriggerTunnel.Out,{}),s&&(0,V.jsx)(_h,{app:S,onClose:function(){i.executeAction(Is)},renderCustomStats:x})]})]})})}(),(0,V.jsx)(Wu,{appState:o,actionManager:i,showExitZenModeBtn:g,renderWelcomeScreen:E}),o.scrolledOutside&&(0,V.jsx)("button",{type:"button",className:"scroll-back-to-content",onClick:function(){s((function(e){return(0,v.A)({},(0,b.zk)(d,e))}))},children:Fi("buttons.scrollBackToContent")})]}),F()]})]});return(0,V.jsx)(Lo.Provider,{value:o,children:(0,V.jsx)(D,{children:(0,V.jsx)(sd.Provider,{value:I,children:z})})})}),(function(e,t){if(e.children!==t.children)return!1;e.canvas;var n=e.appState,r=(0,m.A)(e,vi),a=(t.canvas,t.appState),i=(0,m.A)(t,Ui);return(0,b.Hb)(zh(n),zh(a),{selectedElementIds:b.Hb,selectedGroupIds:b.Hb})&&(0,b.Hb)(r,i)})),Hh=function(e){var t=e.message,n=e.onClose,a=e.closable,i=void 0!==a&&a,o=e.duration,l=void 0===o?5e3:o,s=e.style,c=(0,r.useRef)(0),d=l!==1/0,u=(0,r.useCallback)((function(){d&&(c.current=window.setTimeout((function(){return n()}),l))}),[n,l,d]);return(0,r.useEffect)((function(){if(d)return u(),function(){return clearTimeout(c.current)}}),[u,t,l,d]),(0,V.jsxs)("div",{className:"Toast",onMouseEnter:d?function(){return clearTimeout(null===c||void 0===c?void 0:c.current)}:void 0,onMouseLeave:d?u:void 0,style:s,children:[(0,V.jsx)("p",{className:"Toast__message",children:t}),i&&(0,V.jsx)(Xi,{icon:b.ge,"aria-label":"close",type:"icon",onClick:n,className:"close"})]})},Wh=(0,b.$c)({name:"viewMode",label:"labels.viewMode",paletteName:"Toggle view mode",icon:b.lf,viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.viewModeEnabled}},perform:function(e,t){return{appState:(0,v.A)((0,v.A)({},t),{},{viewModeEnabled:!this.checked(t)}),captureUpdate:b.Wg.EVENTUALLY}},checked:function(e){return e.viewModeEnabled},predicate:function(e,t,n){return typeof n.viewModeEnabled>"u"},keyTest:function(e){return!e[b.hg.CTRL_OR_CMD]&&e.altKey&&e.code===b.gg.R}}),Xh=function(e,t){var n=t.scene.getSelectedElements(e);return 1===n.length&&(0,b.bc)(n[0])},Gh=(0,b.$c)({name:"selectAllElementsInFrame",label:"labels.selectAllElementsInFrame",trackEvent:{category:"canvas"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t).at(0)||null;if((0,b.bc)(a)){var i=(0,b.Bi)((0,b.pk)(e),a.id).filter((function(e){return!("text"===e.type&&e.containerId)}));return{elements:e,appState:(0,v.A)((0,v.A)({},t),{},{selectedElementIds:i.reduce((function(e,t){return e[t.id]=!0,e}),{})}),captureUpdate:b.Wg.IMMEDIATELY}}return{elements:e,appState:t,captureUpdate:b.Wg.EVENTUALLY}},predicate:function(e,t,n,r){return Xh(t,r)}}),Vh=(0,b.$c)({name:"removeAllElementsFromFrame",label:"labels.removeAllElementsFromFrame",trackEvent:{category:"history"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t).at(0)||null;return(0,b.bc)(a)?{elements:(0,b.Ki)(e,a),appState:(0,v.A)((0,v.A)({},t),{},{selectedElementIds:(0,p.default)({},a.id,!0)}),captureUpdate:b.Wg.IMMEDIATELY}:{elements:e,appState:t,captureUpdate:b.Wg.EVENTUALLY}},predicate:function(e,t,n,r){return Xh(t,r)}}),Yh=((0,b.$c)({name:"updateFrameRendering",label:"labels.updateFrameRendering",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t){return{elements:e,appState:(0,v.A)((0,v.A)({},t),{},{frameRendering:(0,v.A)((0,v.A)({},t.frameRendering),{},{enabled:!t.frameRendering.enabled})}),captureUpdate:b.Wg.EVENTUALLY}},checked:function(e){return e.frameRendering.enabled}}),(0,b.$c)({name:"setFrameAsActiveTool",label:"toolBar.frame",trackEvent:{category:"toolbar"},icon:b.ff,viewMode:!1,perform:function(e,t,n,r){var a=(0,b.jb)(t,{type:"frame"});return(0,b.dd)(r.interactiveCanvas,(0,v.A)((0,v.A)({},t),{},{activeTool:a})),{elements:e,appState:(0,v.A)((0,v.A)({},t),{},{activeTool:(0,b.jb)(t,{type:"frame"})}),captureUpdate:b.Wg.EVENTUALLY}},keyTest:function(e){return!e[b.hg.CTRL_OR_CMD]&&!e.shiftKey&&!e.altKey&&e.key.toLocaleLowerCase()===b.hg.F}}),(0,b.$c)({name:"wrapSelectionInFrame",label:"labels.wrapSelectionInFrame",trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=(0,b.vk)(e,t);return a.length>0&&!a.some((function(e){return(0,b.bc)(e)}))},perform:function(e,t,n,r){var a=(0,b.vk)(e,t),i=(0,b.bj)(a,r.scene.getNonDeletedElementsMap()),o=(0,c.A)(i,4),l=o[0],s=o[1],d=o[2],u=o[3],f=(0,b.Vf)({x:l-16,y:s-16,width:d-l+32,height:u-s+32});if(t.editingGroupId){var h,v=(0,b.Qc)(a,t.editingGroupId),m=(0,U.A)(v);try{for(m.s();!(h=m.n()).done;){var y=h.value,x=y.groupIds.indexOf(t.editingGroupId);(0,b.Pj)(y,{groupIds:y.groupIds.slice(0,x)},!1)}}catch(w){m.e(w)}finally{m.f()}}return{elements:(0,b.Ii)([].concat((0,g.A)(r.scene.getElementsIncludingDeleted()),[f]),a,f,t),appState:{selectedElementIds:(0,p.default)({},f.id,!0)},captureUpdate:b.Wg.IMMEDIATELY}}})),Zh=function(){return(0,V.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,V.jsx)("p",{children:(0,V.jsx)(gc,{i18nKey:"errors.brave_measure_text_error.line1",bold:function(e){return(0,V.jsx)("span",{style:{fontWeight:600},children:e})}})}),(0,V.jsx)("p",{children:(0,V.jsx)(gc,{i18nKey:"errors.brave_measure_text_error.line2",bold:function(e){return(0,V.jsx)("span",{style:{fontWeight:600},children:e})}})}),(0,V.jsx)("p",{children:(0,V.jsx)(gc,{i18nKey:"errors.brave_measure_text_error.line3",link:function(e){return(0,V.jsx)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:e})}})}),(0,V.jsx)("p",{children:(0,V.jsx)(gc,{i18nKey:"errors.brave_measure_text_error.line4",issueLink:function(e){return(0,V.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:e})},discordLink:function(e){return(0,V.jsxs)("a",{href:"https://discord.gg/UexuTaE",children:[e,"."]})}})})]})},Kh=100,qh=0,$h=100,Qh=function(e,t,n){var r=(0,b.Xf)((0,v.A)((0,v.A)({x:0,y:0,textAlign:b.ta.CENTER,verticalAlign:b.sa.MIDDLE},t),{},{containerId:e.id,strokeColor:t.strokeColor||e.strokeColor}));return Object.assign(e,{boundElements:(e.boundElements||[]).concat({type:"text",id:r.id})}),(0,b.uj)(r,e,n),[e,r]},Jh=function(e,t,n,r,a){var i,o;if(Object.assign(e,{startBinding:(null===e||void 0===e?void 0:e.startBinding)||null,endBinding:e.endBinding||null}),t){var l,s,c,d=null!==(l=null===t||void 0===t?void 0:t.width)&&void 0!==l?l:$h,u=null!==(s=null===t||void 0===t?void 0:t.height)&&void 0!==s?s:$h;t.id&&((c=r.getElement(t.id))||console.error("No element for start binding with id ".concat(t.id," found")));var f=t.x||e.x-d,h=t.y||e.y-u/2,p=c?c.type:t.type;if(p){if("text"===p){var U="";c&&"text"===c.type?U=c.text:"text"===t.type&&(U=t.text),U||console.error("No text found for start binding text element for ".concat(e.id)),i=(0,b.Xf)((0,v.A)((0,v.A)((0,v.A)({x:f,y:h,type:"text"},c),t),{},{text:U})),Object.assign(i,{x:t.x||e.x-i.width,y:t.y||e.y-i.height/2})}else switch(p){case"rectangle":case"ellipse":case"diamond":i=(0,b.Sf)((0,v.A)((0,v.A)((0,v.A)({x:f,y:h,width:d,height:u},c),t),{},{type:p}));break;default:(0,b.Jb)(e,'Unhandled element start type "'.concat(t.type,'"'),!0)}(0,b.Mg)(e,i,"start",a)}}if(n){var m,g,y,x=null!==(m=null===n||void 0===n?void 0:n.height)&&void 0!==m?m:$h,w=null!==(g=null===n||void 0===n?void 0:n.width)&&void 0!==g?g:$h;n.id&&((y=r.getElement(n.id))||console.error("No element for end binding with id ".concat(n.id," found")));var A=n.x||e.x+e.width,E=n.y||e.y-x/2,k=y?y.type:n.type;if(k){if("text"===k){var S="";y&&"text"===y.type?S=y.text:"text"===n.type&&(S=n.text),S||console.error("No text found for end binding text element for ".concat(e.id)),o=(0,b.Xf)((0,v.A)((0,v.A)((0,v.A)({x:A,y:E,type:"text"},y),n),{},{text:S})),Object.assign(o,{y:n.y||e.y-o.height/2})}else switch(k){case"rectangle":case"ellipse":case"diamond":o=(0,b.Sf)((0,v.A)((0,v.A)((0,v.A)({x:A,y:E,width:w,height:x},y),n),{},{type:k}));break;default:(0,b.Jb)(e,'Unhandled element end type "'.concat(k,'"'),!0)}(0,b.Mg)(e,o,"end",a)}}if(e.points.length<2)return{linearElement:e,startBoundElement:i,endBoundElement:o};var M=e.points.length-1,C=.5,j=(0,b.Nb)(e.points);return e.points[M][0]>e.points[M-1][0]&&(j[0][0]=C,j[M][0]-=C),e.points[M][0]<e.points[M-1][0]&&(j[0][0]=-C,j[M][0]+=C),e.points[M][1]>e.points[M-1][1]&&(j[0][1]=C,j[M][1]-=C),e.points[M][1]<e.points[M-1][1]&&(j[0][1]=-C,j[M][1]+=C),Object.assign(e,{points:j}),{linearElement:e,startBoundElement:i,endBoundElement:o}},ep=(0,h.A)((function e(){var t=this;(0,f.A)(this,e),(0,A.d)(this,"excalidrawElements",new Map),(0,A.d)(this,"add",(function(e){e&&t.excalidrawElements.set(e.id,e)})),(0,A.d)(this,"getElements",(function(){return(0,b.Nj)(Array.from(t.excalidrawElements.values()))})),(0,A.d)(this,"getElementsMap",(function(){return(0,b.Sb)((0,b.xb)(t.getElements()))})),(0,A.d)(this,"getElement",(function(e){return t.excalidrawElements.get(e)}))})),tp=function(e,t){if(!e)return[];var n,r=(0,b.Nb)(e),a=new ep,i=new Map,o=new Map,l=(0,U.A)(r);try{for(l.s();!(n=l.n()).done;){var s=n.value,d=void 0,u=s.id;switch(!1!==(null===t||void 0===t?void 0:t.regenerateIds)&&Object.assign(s,{id:(0,b.sc)()}),s.type){case"rectangle":case"ellipse":case"diamond":var f,h,p=null!==s&&void 0!==s&&null!==(f=s.label)&&void 0!==f&&f.text&&void 0===s.width?0:(null===s||void 0===s?void 0:s.width)||$h,m=null!==s&&void 0!==s&&null!==(h=s.label)&&void 0!==h&&h.text&&void 0===s.height?0:(null===s||void 0===s?void 0:s.height)||$h;d=(0,b.Sf)((0,v.A)((0,v.A)({},s),{},{width:p,height:m}));break;case"line":var g=s.width||Kh,y=s.height||qh;d=(0,b._f)((0,v.A)({width:g,height:y,points:[(0,b.Ua)(0,0),(0,b.Ua)(g,y)]},s));break;case"arrow":var x=s.width||Kh,w=s.height||qh;d=(0,b.$f)((0,v.A)((0,v.A)({width:x,height:w,endArrowhead:"arrow",points:[(0,b.Ua)(0,0),(0,b.Ua)(x,w)]},s),{},{type:"arrow"})),Object.assign(d,(0,b.hh)(d.points));break;case"text":var A,E=(null===s||void 0===s?void 0:s.fontFamily)||b.J,k=(null===s||void 0===s?void 0:s.fontSize)||b.I,S=(null===s||void 0===s?void 0:s.lineHeight)||(0,b.Rf)(E),M=null!==(A=s.text)&&void 0!==A?A:"",C=(0,b.zc)(M),j=(0,b.vc)(C,(0,b.cb)({fontFamily:E,fontSize:k}),S);d=(0,b.Xf)((0,v.A)({width:j.width,height:j.height,fontFamily:E,fontSize:k},s));break;case"image":d=(0,b.ag)((0,v.A)({width:(null===s||void 0===s?void 0:s.width)||$h,height:(null===s||void 0===s?void 0:s.height)||$h},s));break;case"frame":d=(0,b.Vf)((0,v.A)({x:0,y:0},s));break;case"magicframe":d=(0,b.Wf)((0,v.A)({x:0,y:0},s));break;case"freedraw":case"iframe":case"embeddable":d=s;break;default:d=s,(0,b.Jb)(s,'Unhandled element type "'.concat(s.type,'"'),!0)}a.getElement(d.id)?console.error("Duplicate id found for ".concat(d.id)):(a.add(d),i.set(d.id,s),u&&o.set(u,d.id))}}catch(le){l.e(le)}finally{l.f()}var I,D=a.getElementsMap(),T=(0,U.A)(i);try{for(T.s();!(I=T.n()).done;){var _=(0,c.A)(I.value,2),L=_[0],R=_[1],P=a.getElement(L);switch(R.type){case"rectangle":case"ellipse":case"diamond":case"arrow":var N;if(null!==(N=R.label)&&void 0!==N&&N.text){var F=Qh(P,null===R||void 0===R?void 0:R.label,D),O=(0,c.A)(F,2),z=O[0],B=O[1];if(a.add(z),a.add(B),(0,b.dc)(z)){var H="arrow"===R.type?null===R||void 0===R?void 0:R.start:void 0,W="arrow"===R.type?null===R||void 0===R?void 0:R.end:void 0;if(H&&H.id){var X=o.get(H.id);X&&Object.assign(H,{id:X})}if(W&&W.id){var G=o.get(W.id);G&&Object.assign(W,{id:G})}var V=Jh(z,H,W,a,D),Y=V.linearElement,Z=V.startBoundElement,K=V.endBoundElement;z=Y,a.add(Y),a.add(Z),a.add(K)}}else if("arrow"===R.type){var q=R.start,$=R.end;if(q&&q.id){var Q=o.get(q.id);Object.assign(q,{id:Q})}if($&&$.id){var J=o.get($.id);Object.assign($,{id:J})}var ee=Jh(P,q,$,a,D),te=ee.linearElement,ne=ee.startBoundElement,re=ee.endBoundElement;a.add(te),a.add(ne),a.add(re)}}}}catch(le){T.e(le)}finally{T.f()}var ae,ie=(0,U.A)(i);try{var oe=function(){var e=(0,c.A)(ae.value,2),t=e[0],n=e[1];if("frame"!==n.type&&"magicframe"!==n.type)return 1;var r=a.getElement(t);if(!r)throw new Error("Excalidraw element with id ".concat(t," doesn't exist"));var i=[];n.children.forEach((function(e){var t,n=o.get(e);if(!n)throw new Error("Element with ".concat(e," wasn't mapped correctly"));var l=a.getElement(n);if(!l)throw new Error("Frame element with id ".concat(n," doesn't exist"));Object.assign(l,{frameId:r.id}),null!==l&&void 0!==l&&null!==(t=l.boundElements)&&void 0!==t&&t.forEach((function(e){var t=a.getElement(e.id);if(!t)throw new Error("Bound element with id ".concat(e.id," doesn't exist"));Object.assign(t,{frameId:r.id}),i.push(t)})),i.push(l)}));var l=(0,b.bj)(i),s=(0,c.A)(l,4),d=s[0],u=s[1],f=s[2],h=s[3];d-=10,u-=10,f+=10,h+=10;var p=(null===r||void 0===r?void 0:r.x)||d,v=(null===r||void 0===r?void 0:r.y)||u,U=(null===r||void 0===r?void 0:r.width)||f-d,m=(null===r||void 0===r?void 0:r.height)||h-u;Object.assign(r,{x:p,y:v,width:U,height:m}),(0,b.Bb)()&&n.children.length&&((null===r||void 0===r?void 0:r.x)||(null===r||void 0===r?void 0:r.y)||(null===r||void 0===r?void 0:r.width)||(null===r||void 0===r?void 0:r.height))&&console.info("User provided frame attributes are being considered, if you find this inaccurate, please remove any of the attributes - x, y, width and height so frame coordinates and dimensions are calculated automatically")};for(ie.s();!(ae=ie.n()).done;)oe()}catch(le){ie.e(le)}finally{ie.f()}return a.getElements()},np=function(e){return function(t){(0,se.unstable_batchedUpdates)(e,t)}},rp=function(e){return(0,b.eb)((function(t){(0,se.unstable_batchedUpdates)(e,t)}))},ap=function(){var e;try{var t=r.version.split(".");e=Number(t[0])>17}catch(a){e=!1}var n=!1;return function(){return!0===window.EXCALIDRAW_THROTTLE_RENDER&&(!!e||(n||(n=!0,console.warn("Excalidraw: render throttling is disabled on React versions < 18.")),!1))}}(),ip=function(e,t,n){if(!n.zenModeEnabled){var r=e.points[0],a=e.points[e.points.length-1];sp(r,a,t)}var i,o=(0,U.A)(e.points);try{for(o.s();!(i=o.n()).done;){var l=i.value;lp(l,n,t)}}catch(s){o.e(s)}finally{o.f()}},op=function(e,t,n){lp(e.points[0],n,t),n.zenModeEnabled||sp(e.points[0],e.points[1],t)},lp=function(e,t,n){var r=(0,c.A)(e,2),a=r[0],i=r[1];n.save();var o=(t.zenModeEnabled?3:2)/t.zoom.value;n.beginPath(),n.moveTo(a-o,i-o),n.lineTo(a+o,i+o),n.moveTo(a+o,i-o),n.lineTo(a-o,i+o),n.stroke(),n.restore()},sp=function(e,t,n){n.beginPath(),n.lineTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.stroke()},cp=function(e,t,n,r,a){var i=8/r.zoom.value,o=i/2,l=i/4;if("horizontal"===n){var s=[(e[0]+t[0])/2,e[1]];r.zenModeEnabled||sp((0,b.Ua)(e[0],e[1]-i),(0,b.Ua)(e[0],e[1]+i),a),sp((0,b.Ua)(s[0]-l,s[1]-o),(0,b.Ua)(s[0]-l,s[1]+o),a),sp((0,b.Ua)(s[0]+l,s[1]-o),(0,b.Ua)(s[0]+l,s[1]+o),a),r.zenModeEnabled||(sp((0,b.Ua)(t[0],t[1]-i),(0,b.Ua)(t[0],t[1]+i),a),sp(e,t,a))}else{var c=[e[0],(e[1]+t[1])/2];r.zenModeEnabled||sp((0,b.Ua)(e[0]-i,e[1]),(0,b.Ua)(e[0]+i,e[1]),a),sp((0,b.Ua)(c[0]-o,c[1]-l),(0,b.Ua)(c[0]+o,c[1]-l),a),sp((0,b.Ua)(c[0]-o,c[1]+l),(0,b.Ua)(c[0]+o,c[1]+l),a),r.zenModeEnabled||(sp((0,b.Ua)(t[0]-i,t[1]),(0,b.Ua)(t[0]+i,t[1]),a),sp(e,t,a))}},dp=function(e,t,n){t.fillStyle="rgba(105, 101, 219, 0.4)",(0,b.Vh)(t,e[0],e[1],b.pj.POINT_HANDLE_SIZE/n.zoom.value,!1)},up=function(e,t,n,r,a,i,o,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;e.save(),e.translate(i,o),e.rotate(l),s&&e.fillRect(t-i,n-o,r,a),c&&e.roundRect?(e.beginPath(),e.roundRect(t-i,n-o,r,a,c),e.stroke(),e.closePath()):e.strokeRect(t-i,n-o,r,a),e.restore()},fp=function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e.strokeStyle="#5e5ad8",e.setLineDash([]),e.fillStyle="rgba(255, 255, 255, 0.9)",a?e.fillStyle="rgba(134, 131, 226, 0.9)":i&&(e.fillStyle="rgba(177, 151, 252, 0.7)"),(0,b.Vh)(e,n[0],n[1],r/t.zoom.value,!i)},hp=function(e,t,n,r){var a=(0,b.aj)(t,n),i=(0,c.A)(a,4),o=i[0],l=i[1],s=i[2]-o,d=i[3]-l;e.strokeStyle="rgba(0,0,0,.05)";var u=r.value<1?r.value:1;e.lineWidth=b.Gg/u;var f=e.lineWidth/2+b.Hg,h=(0,b.wg)(Math.min(t.width,t.height),t);switch(t.type){case"rectangle":case"text":case"image":case"iframe":case"embeddable":case"frame":case"magicframe":up(e,o-f,l-f,s+2*f,d+2*f,o+s/2,l+d/2,t.angle,void 0,h);break;case"diamond":var p=Math.hypot(s,d);!function(e,t,n,r,a,i){e.save(),e.translate(r,a),e.rotate(i),e.beginPath(),e.moveTo(0,n/2),e.lineTo(t/2,0),e.lineTo(0,-n/2),e.lineTo(-t/2,0),e.closePath(),e.stroke(),e.restore()}(e,s+2*(f*p/d),d+2*(f*p/s),o+s/2,l+d/2,t.angle);break;case"ellipse":!function(e,t,n,r,a,i){e.beginPath(),e.ellipse(r,a,t/2,n/2,i,0,2*Math.PI),e.stroke()}(e,s+2*f,d+2*f,o+s/2,l+d/2,t.angle)}},pp=function(e,t,n,r){var a=(0,c.A)(t,3),i=a[0],o=a[1],l=a[2],s=(0,b.Ug)(l,l.width,l.height,r);e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="rgba(0,0,0,.05)",("both"===o?[0,-1]:"start"===o?[0]:[-1]).forEach((function(t){var r=b.pj.getPointAtIndexGlobalCoordinates(i,t,n),a=(0,c.A)(r,2),o=a[0],l=a[1];(0,b.Vh)(e,o,l,s)}))},vp=function(e,t,n){var r,a=n.angle,i=n.x1,o=n.y1,l=n.x2,s=n.y2,c=n.selectionColors,d=n.cx,u=n.cy,f=n.dashed,h=n.activeEmbeddable,p=l-i,v=s-o,U=(null!==(r=n.padding)&&void 0!==r?r:2*b.M)/t.zoom.value,m=8/t.zoom.value,g=4/t.zoom.value;e.save(),e.translate(t.scrollX,t.scrollY),e.lineWidth=(h?4:1)/t.zoom.value;for(var y=c.length,x=0;x<y;++x)e.strokeStyle=c[x],f&&e.setLineDash([m,g+(m+g)*(y-1)]),e.lineDashOffset=(m+g)*x,up(e,i-U,o-U,p+2*U,v+2*U,d,u,a);e.restore()},Up=function(e,t,n){var r=n.filter((function(e){return 0===e.groupIds.length})),a=n.filter((function(e){return e.groupIds.length>0})),i=function(e){var t=(0,b.bj)(e),n=(0,c.A)(t,4),r=n[0],a=n[1],i=n[2],o=n[3];return{angle:0,x1:r,x2:i,y1:a,y2:o,selectionColors:["rgb(0,118,255)"],dashed:!1,cx:r+(i-r)/2,cy:a+(o-a)/2,activeEmbeddable:!1}};Object.entries((0,b.Nc)(a,t)).filter((function(e){var t=(0,c.A)(e,2);t[0];return t[1]})).map((function(e){var t=(0,c.A)(e,2),n=t[0];t[1];return n})).map((function(e){return function(e){var t=(0,b.Qc)(n,e);return i(t)}(e)})).concat(r.map((function(e){return i([e])}))).forEach((function(n){return vp(e,t,n)}))},mp=function(e,t,n,r){if(t.selectedLinearElement){e.save(),e.translate(t.scrollX,t.scrollY),e.lineWidth=1/t.zoom.value;var a=b.pj.getPointsGlobalCoordinates(n,r),i=b.pj.POINT_HANDLE_SIZE,o=t.editingLinearElement?i:i/2;if(a.forEach((function(r,i){var l;if(!(0,b.ec)(n)||0===i||i===a.length-1){var s=!(null===(l=t.editingLinearElement)||void 0===l||null===(l=l.selectedPointsIndices)||void 0===l||!l.includes(i));fp(e,t,r,o,s)}})),(0,b.ec)(n)){var l,s=(null===(l=n.fixedSegments)||void 0===l?void 0:l.map((function(e){return e.index})))||[];a.slice(0,-1).forEach((function(r,o){b.pj.isSegmentTooShort(n,a[o+1],a[o],o,t.zoom)||fp(e,t,(0,b.Ua)((r[0]+a[o+1][0])/2,(r[1]+a[o+1][1])/2),i/2,!1,!s.includes(o+1))}))}else b.pj.getEditorMidPoints(n,r,t).filter((function(e,t,r){return null!==e&&!((0,b.ec)(n)&&(0===t||t===r.length-1))})).forEach((function(n){(t.editingLinearElement||2===a.length)&&fp(e,t,n,i/2,!1,!0)}));e.restore()}},gp=function(e,t,n,r,a){Object.keys(r).forEach((function(i){var o=r[i];if(void 0!==o){var l=(0,c.A)(o,4),s=l[0],d=l[1],u=l[2],f=l[3];e.save(),e.lineWidth=1/n.zoom.value,t.selectionColor&&(e.strokeStyle=t.selectionColor),"rotation"===i?(0,b.Vh)(e,s+u/2,d+f/2,u/2):e.roundRect?(e.beginPath(),e.roundRect(s,d,u,f,2/n.zoom.value),e.fill(),e.stroke()):up(e,s,d,u,f,s+u/2,d+f/2,a,!0),e.restore()}}))},bp=function(e){var t,n=e.canvas,r=e.elementsMap,a=e.visibleElements,i=e.selectedElements,o=e.allElementsMap,l=e.scale,s=e.appState,d=e.renderConfig,u=e.device;if(null===n)return{atLeastOneVisibleElement:!1,elementsMap:r};var f,h=(0,b.Wh)(n,l),p=(0,c.A)(h,2),m=p[0],y=p[1],x=(0,b.Xh)({canvas:n,scale:l,normalizedWidth:m,normalizedHeight:y});if(x.save(),x.scale(s.zoom.value,s.zoom.value),a.forEach((function(e){var t;(null===(t=s.editingLinearElement)||void 0===t?void 0:t.elementId)===e.id&&e&&(f=e)})),f&&mp(x,s,f,r),s.selectionElement&&!s.isCropping)try{(0,b.Si)(s.selectionElement,x,s,d.selectionColor)}catch(w){console.error(w)}if(s.editingTextElement&&(0,b._b)(s.editingTextElement)){var w=o.get(s.editingTextElement.id);w&&!w.autoResize&&function(e,t,n,r){t.save();var a=2*b.M/n.zoom.value,i=e.width+2*a,o=e.height+2*a,l=e.x+i/2,s=e.y+o/2,c=-(i/2+a),d=-(o/2+a);t.translate(l+n.scrollX,s+n.scrollY),t.rotate(e.angle),t.lineWidth=1/n.zoom.value,t.strokeStyle=r,t.strokeRect(c,d,i,o),t.restore()}(w,x,s,d.selectionColor)}s.isBindingEnabled&&s.suggestedBindings.filter((function(e){return null!=e})).forEach((function(e){!function(e,t,n,r){var a=Array.isArray(n)?pp:hp;e.save(),e.translate(t.scrollX,t.scrollY),a(e,n,r,t.zoom),e.restore()}(x,s,e,r)})),s.frameToHighlight&&function(e,t,n,r){var a=(0,b.aj)(n,r),i=(0,c.A)(a,4),o=i[0],l=i[1],s=i[2]-o,d=i[3]-l;e.strokeStyle="rgb(0,118,255)",e.lineWidth=b.H.strokeWidth/t.zoom.value,e.save(),e.translate(t.scrollX,t.scrollY),up(e,o,l,s,d,o+s/2,l+d/2,n.angle,!1,b.H.radius/t.zoom.value),e.restore()}(x,s,s.frameToHighlight,r),s.elementsToHighlight&&Up(x,s,s.elementsToHighlight);var A,E=i.some((function(e){return(0,b.bc)(e)}));if(1===i.length&&(null===(t=s.editingLinearElement)||void 0===t?void 0:t.elementId)===i[0].id&&mp(x,s,i[0],r),(0,b.ec)(i[0])&&s.selectedLinearElement&&s.selectedLinearElement.segmentMidPointHoveredCoords?function(e,t){(0,b.Kb)(t.selectedLinearElement,"selectedLinearElement is null");var n=t.selectedLinearElement.segmentMidPointHoveredCoords;(0,b.Kb)(n,"midPointCoords is null"),e.save(),e.translate(t.scrollX,t.scrollY),dp(n,e,t),e.restore()}(x,s):s.selectedLinearElement&&s.selectedLinearElement.hoverPointIndex>=0&&!((0,b.ec)(i[0])&&s.selectedLinearElement.hoverPointIndex>0&&s.selectedLinearElement.hoverPointIndex<i[0].points.length-1)&&function(e,t,n){var r,a=t.selectedLinearElement,i=a.elementId,o=a.hoverPointIndex;if(null===(r=t.editingLinearElement)||void 0===r||null===(r=r.selectedPointsIndices)||void 0===r||!r.includes(o)){var l=b.pj.getElement(i,n);if(l){var s=b.pj.getPointAtIndexGlobalCoordinates(l,o,n);e.save(),e.translate(t.scrollX,t.scrollY),dp(s,e,t),e.restore()}}}(x,s,r),!s.multiElement&&!s.editingLinearElement){var k,S=(0,b._j)(i,s),M=1===i.length&&(0,b.cc)(i[0]);M&&(null===(k=s.selectedLinearElement)||void 0===k?void 0:k.elementId)===i[0].id&&!i[0].locked&&mp(x,s,i[0],r);var C=d.selectionColor||Bn.black;if(S){var j,I=(0,b.xb)(i),D=[],T=(0,U.A)(r.values());try{for(T.s();!(j=T.n()).done;){var _=j.value,L=[],R=d.remoteSelectedElementIds.get(_.id);if(M&&(0,b.ec)(_)&&(_.startBinding||_.endBinding)||(I.has(_.id)&&!(0,b.Kc)(s,_)&&L.push(C),R&&L.push.apply(L,(0,g.A)(R.map((function(e){return cs(e,s.collaborators.get(e))}))))),L.length){var P,N=(0,b.aj)(_,r,!0),F=(0,c.A)(N,6),O=F[0],z=F[1],B=F[2],H=F[3],W=F[4],X=F[5];D.push({angle:_.angle,x1:O,y1:z,x2:B,y2:H,selectionColors:L,dashed:!!R,cx:W,cy:X,activeEmbeddable:(null===(P=s.activeEmbeddable)||void 0===P?void 0:P.element)===_&&"active"===s.activeEmbeddable.state,padding:_.id===s.croppingElementId||(0,b.Wb)(_)?0:void 0})}}}catch(oe){T.e(oe)}finally{T.f()}var G,V=function(e){var t=(0,b.Qc)(r,e),n=(0,b.bj)(t),a=(0,c.A)(n,4),i=a[0],o=a[1],l=a[2],s=a[3];D.push({angle:0,x1:i,x2:l,y1:o,y2:s,selectionColors:[Bn.black],dashed:!0,cx:i+(l-i)/2,cy:o+(s-o)/2,activeEmbeddable:!1})},Y=(0,U.A)((0,b.Mc)(s));try{for(Y.s();!(G=Y.n()).done;){V(G.value)}}catch(oe){Y.e(oe)}finally{Y.f()}s.editingGroupId&&V(s.editingGroupId),D.forEach((function(e){return vp(x,s,e)}))}if(x.save(),x.translate(s.scrollX,s.scrollY),1===i.length){x.fillStyle=Bn.white;var Z=(0,b.Zj)(i[0],s.zoom,r,"mouse",(0,b.Xj)(u));if(!s.viewModeEnabled&&S&&!(0,b._b)(s.editingTextElement)&&!s.croppingElementId&&gp(x,d,s,Z,i[0].angle),s.croppingElementId&&!s.isCropping){var K=r.get(s.croppingElementId);K&&(0,b.Wb)(K)&&function(e,t,n,r,a){var i=(0,b.aj)(r,a),o=(0,c.A)(i,6),l=o[0],s=o[1],d=o[4],u=o[5],f=3/n.zoom.value,h=f/2,p=d-l+f,v=u-s+f,U=Math.min(20/n.zoom.value,p),m=Math.min(20/n.zoom.value,v);e.save(),e.fillStyle=t.selectionColor,e.strokeStyle=t.selectionColor,e.lineWidth=f,[[[-p,-v],[0,h],[U,h],[h,0],[h,m]],[[p-h,-v],[h,h],[-U+h,h],[0,0],[0,m]],[[-p,v],[0,-h],[U,-h],[h,0],[h,-m]],[[p-h,v],[h,-h],[-U+h,-h],[0,0],[0,-m]]].forEach((function(t){var n=(0,c.A)(t,5),a=(0,c.A)(n[0],2),i=a[0],o=a[1],l=(0,c.A)(n[1],2),s=l[0],f=l[1],h=(0,c.A)(n[2],2),p=h[0],v=h[1],U=(0,c.A)(n[3],2),m=U[0],g=U[1],b=(0,c.A)(n[4],2),y=b[0],x=b[1];e.save(),e.translate(d,u),e.rotate(r.angle),e.beginPath(),e.moveTo(i+s,o+f),e.lineTo(i+p,o+v),e.stroke(),e.beginPath(),e.moveTo(i+m,o+g),e.lineTo(i+y,o+x),e.stroke(),e.restore()})),e.restore()}(x,d,s,K,r)}}else if(i.length>1&&!s.isRotating){var q=2*b.M/s.zoom.value;x.fillStyle=Bn.white;var $=(0,b.bj)(i),Q=(0,c.A)($,4),J=Q[0],ee=Q[1],te=Q[2],ne=Q[3],re=x.getLineDash();x.setLineDash([2/s.zoom.value]);var ae=x.lineWidth;x.lineWidth=1/s.zoom.value,x.strokeStyle=C,up(x,J-q,ee-q,te-J+2*q,ne-ee+2*q,(J+te)/2,(ee+ne)/2,0),x.lineWidth=ae,x.setLineDash(re);var ie=(0,b.Yj)([J,ee,te,ne,(J+te)/2,(ee+ne)/2],0,s.zoom,"mouse",E?(0,v.A)((0,v.A)({},(0,b.Xj)(u)),{},{rotation:!0}):(0,b.Xj)(u));i.some((function(e){return!e.locked}))&&gp(x,d,s,ie,0)}x.restore()}return s.searchMatches.forEach((function(e){var t=e.id,n=e.focus,a=e.matchedLines,i=r.get(t);if(i&&(0,b._b)(i)){var o=(0,b.aj)(i,r,!0),l=(0,c.A)(o,6),d=l[0],u=l[1],f=l[4],h=l[5];x.save(),s.theme===b.G.LIGHT?x.fillStyle=n?"rgba(255, 124, 0, 0.4)":"rgba(255, 226, 0, 0.4)":x.fillStyle=n?"rgba(229, 82, 0, 0.4)":"rgba(99, 52, 0, 0.4)",x.translate(s.scrollX,s.scrollY),x.translate(f,h),x.rotate(i.angle),a.forEach((function(e){x.fillRect(d+e.offsetX-f,u+e.offsetY-h,e.width,e.height)})),x.restore()}})),function(e,t){if(t.snapLines.length){var n=t.theme===b.G.LIGHT||t.zenModeEnabled?"#ff6b6b":"#ff0000",r=(t.zenModeEnabled?1.5:1)/t.zoom.value;e.save(),e.translate(t.scrollX,t.scrollY);var a,i=(0,U.A)(t.snapLines);try{for(i.s();!(a=i.n()).done;){var o=a.value;"pointer"===o.type?(e.lineWidth=r,e.strokeStyle=n,op(o,e,t)):"gap"===o.type?(e.lineWidth=r,e.strokeStyle=n,cp(o.points[0],o.points[1],o.direction,t,e)):"points"===o.type&&(e.lineWidth=r,e.strokeStyle=n,ip(o,e,t))}}catch(oe){i.e(oe)}finally{i.f()}e.restore()}}(x,s),x.restore(),function(e){var t,n=e.context,r=e.renderConfig,a=e.appState,i=e.normalizedWidth,o=e.normalizedHeight,l=(0,U.A)(r.remotePointerViewportCoords);try{for(l.s();!(t=l.n()).done;){var s=(0,c.A)(t.value,2),d=s[0],u=s[1],f=u.x,h=u.y,p=a.collaborators.get(d);f-=a.offsetLeft,h-=a.offsetTop;var v=f<0||f>i-11||h<0||h>o-14;f=Math.max(f,0),f=Math.min(f,i-11),h=Math.max(h,0),h=Math.min(h,o-14);var m=cs(d,p);n.save(),n.strokeStyle=m,n.fillStyle=m;var g=r.remotePointerUserStates.get(d),y=v||"idle"===g||"away"===g;y&&(n.globalAlpha=.3),"down"===r.remotePointerButton.get(d)&&(n.beginPath(),n.arc(f,h,15,0,2*Math.PI,!1),n.lineWidth=3,n.strokeStyle="#ffffff88",n.stroke(),n.closePath(),n.beginPath(),n.arc(f,h,15,0,2*Math.PI,!1),n.lineWidth=1,n.strokeStyle=m,n.stroke(),n.closePath());var x=a.theme===b.G.DARK?"#2f6330":b.Q,w=null===p||void 0===p?void 0:p.isSpeaking;w&&(n.fillStyle=x,n.strokeStyle=x,n.lineWidth=10,n.lineJoin="round",n.beginPath(),n.moveTo(f,h),n.lineTo(f+0,h+14),n.lineTo(f+4,h+9),n.lineTo(f+11,h+8),n.closePath(),n.stroke(),n.fill()),n.fillStyle=b.O,n.strokeStyle=b.O,n.lineWidth=6,n.lineJoin="round",n.beginPath(),n.moveTo(f,h),n.lineTo(f+0,h+14),n.lineTo(f+4,h+9),n.lineTo(f+11,h+8),n.closePath(),n.stroke(),n.fill(),n.fillStyle=m,n.strokeStyle=m,n.lineWidth=2,n.lineJoin="round",n.beginPath(),y?(n.moveTo(f-1,h-1),n.lineTo(f-1,h+15),n.lineTo(f+5,h+10),n.lineTo(f+12,h+9),n.closePath(),n.fill()):(n.moveTo(f,h),n.lineTo(f+0,h+14),n.lineTo(f+4,h+9),n.lineTo(f+11,h+8),n.closePath(),n.fill(),n.stroke());var A=r.remotePointerUsernames.get(d)||"";if(!v&&A){n.font="600 12px sans-serif";var E=(w?f+0:f)+5.5,k=(w?h+0:h)+14+2,S=n.measureText(A),M=S.actualBoundingBoxDescent+S.actualBoundingBoxAscent,C=Math.max(M,12),j=E-1,I=k-1,D=S.width+2+10+2,T=C+2+6+2;n.roundRect?(n.beginPath(),n.roundRect(j,I,D,T,8),n.fillStyle=m,n.fill(),n.strokeStyle=b.O,n.stroke(),w&&(n.beginPath(),n.roundRect(j-2,I-2,D+4,T+4,8),n.strokeStyle=x,n.stroke())):ss(n,j,I,D,T,8,b.O),n.fillStyle=b.P,n.fillText(A,E+5+1,k+3+S.actualBoundingBoxAscent+Math.floor((C-M)/2)+2),w&&(n.fillStyle=x,n.fillRect(j+D+8,I+(T/2-4),2,8),n.fillRect(j+D+8+5,I+(T/2-8),2,16),n.fillRect(j+D+8+10,I+(T/2-4),2,8))}n.restore(),n.closePath()}}catch(oe){l.e(oe)}finally{l.f()}}({context:x,renderConfig:d,appState:s,normalizedWidth:m,normalizedHeight:y}),d.renderScrollbars&&(A=function(e,t,n,r){if(!e.length)return{horizontal:null,vertical:null};var a=(0,b.bj)(e),i=(0,c.A)(a,4),o=i[0],l=i[1],s=i[2],d=i[3],u=t/r.zoom.value,f=n/r.zoom.value,h=t-u,p=n-f,v={top:parseInt((0,b.nb)("sat"))||0,bottom:parseInt((0,b.nb)("sab"))||0,left:parseInt((0,b.nb)("sal"))||0,right:parseInt((0,b.nb)("sar"))||0},U=Pi().rtl,m=-r.scrollX+h/2+v.left,g=-r.scrollY+p/2+v.top,y=m+u-v.right,x=g+f-v.bottom,w=Math.min(o,m),A=Math.min(l,g),E=Math.max(s,y),k=Math.max(d,x);return{horizontal:m===w&&y===E?null:{x:Math.max(v.left,4)+(m-w)/(E-w)*t,y:n-6-Math.max(4,v.bottom),width:(y-m)/(E-w)*t-Math.max(8,v.left+v.right),height:6},vertical:g===A&&x===k?null:{x:U?Math.max(v.left,4):t-6-Math.max(v.right,4),y:(g-A)/(k-A)*n+Math.max(v.top,4),width:6,height:(x-g)/(k-A)*n-Math.max(8,v.top+v.bottom)}}}(a,m,y,s),x.save(),x.fillStyle="rgba(0,0,0,0.3)",x.strokeStyle="rgba(255,255,255,0.8)",[A.horizontal,A.vertical].forEach((function(e){e&&ss(x,e.x,e.y,e.width,e.height,3)})),x.restore()),{scrollBars:A,atLeastOneVisibleElement:a.length>0,elementsMap:r}},yp=(0,b.eb)((function(e){var t,n=bp(e);null===(t=e.callback)||void 0===t||t.call(e,n)}),{trailing:!0}),xp=function(e){return{zoom:e.zoom,scrollX:e.scrollX,scrollY:e.scrollY,width:e.width,height:e.height,viewModeEnabled:e.viewModeEnabled,openDialog:e.openDialog,editingGroupId:e.editingGroupId,editingLinearElement:e.editingLinearElement,selectedElementIds:e.selectedElementIds,frameToHighlight:e.frameToHighlight,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,theme:e.theme,pendingImageElementId:e.pendingImageElementId,selectionElement:e.selectionElement,selectedGroupIds:e.selectedGroupIds,selectedLinearElement:e.selectedLinearElement,multiElement:e.multiElement,isBindingEnabled:e.isBindingEnabled,suggestedBindings:e.suggestedBindings,isRotating:e.isRotating,elementsToHighlight:e.elementsToHighlight,collaborators:e.collaborators,activeEmbeddable:e.activeEmbeddable,snapLines:e.snapLines,zenModeEnabled:e.zenModeEnabled,editingTextElement:e.editingTextElement,isCropping:e.isCropping,croppingElementId:e.croppingElementId,searchMatches:e.searchMatches}},wp=r.memo((function(e){var t=(0,r.useRef)(!1);return(0,r.useEffect)((function(){var n;if(t.current){var r=new Map,a=new Map,i=new Map,o=new Map,l=new Map;e.appState.collaborators.forEach((function(t,n){if(t.selectedElementIds)for(var s=0,c=Object.keys(t.selectedElementIds);s<c.length;s++){var d=c[s];i.has(d)||i.set(d,[]),i.get(d).push(n)}!t.pointer||!1===t.pointer.renderCursor||(t.username&&o.set(n,t.username),t.userState&&l.set(n,t.userState),a.set(n,(0,b.mb)({sceneX:t.pointer.x,sceneY:t.pointer.y},e.appState)),r.set(n,t.button))}));var s=(null===(n=e.containerRef)||void 0===n?void 0:n.current)&&getComputedStyle(e.containerRef.current).getPropertyValue("--color-selection")||"#6965db";!function(e,t){if(!t){var n=bp(e);return e.callback(n),n}yp(e)}({canvas:e.canvas,elementsMap:e.elementsMap,visibleElements:e.visibleElements,selectedElements:e.selectedElements,allElementsMap:e.allElementsMap,scale:window.devicePixelRatio,appState:e.appState,renderConfig:{remotePointerViewportCoords:a,remotePointerButton:r,remoteSelectedElementIds:i,remotePointerUsernames:o,remotePointerUserStates:l,selectionColor:s,renderScrollbars:!1},device:e.device,callback:e.renderInteractiveSceneCallback},ap())}else t.current=!0})),(0,V.jsx)("canvas",{className:"excalidraw__canvas interactive",style:{width:e.appState.width,height:e.appState.height,cursor:e.appState.viewModeEnabled?b.z.GRAB:b.z.AUTO},width:e.appState.width*e.scale,height:e.appState.height*e.scale,ref:e.handleCanvasRef,onContextMenu:e.onContextMenu,onPointerMove:e.onPointerMove,onPointerUp:e.onPointerUp,onPointerCancel:e.onPointerCancel,onTouchMove:e.onTouchMove,onPointerDown:e.onPointerDown,onDoubleClick:e.appState.viewModeEnabled?void 0:e.onDoubleClick,children:Fi("labels.drawingCanvas")})}),(function(e,t){return e.selectionNonce===t.selectionNonce&&e.sceneNonce===t.sceneNonce&&e.scale===t.scale&&e.elementsMap===t.elementsMap&&e.visibleElements===t.visibleElements&&e.selectedElements===t.selectedElements&&(0,b.Hb)(xp(e.appState),xp(t.appState))})),Ap=function(e){return{zoom:e.zoom,scrollX:e.scrollX,scrollY:e.scrollY,width:e.width,height:e.height,viewModeEnabled:e.viewModeEnabled,openDialog:e.openDialog,hoveredElementIds:e.hoveredElementIds,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,theme:e.theme,pendingImageElementId:e.pendingImageElementId,shouldCacheIgnoreZoom:e.shouldCacheIgnoreZoom,viewBackgroundColor:e.viewBackgroundColor,exportScale:e.exportScale,selectedElementsAreBeingDragged:e.selectedElementsAreBeingDragged,gridSize:e.gridSize,gridStep:e.gridStep,frameRendering:e.frameRendering,selectedElementIds:e.selectedElementIds,frameToHighlight:e.frameToHighlight,editingGroupId:e.editingGroupId,currentHoveredFontFamily:e.currentHoveredFontFamily,croppingElementId:e.croppingElementId}},Ep=r.memo((function(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(!1);return(0,r.useEffect)((function(){var r=t.current;if(r){var a=e.canvas;n.current||(n.current=!0,r.replaceChildren(a),a.classList.add("excalidraw__canvas","static"));var i="".concat(e.appState.width,"px"),o="".concat(e.appState.height,"px");a.style.width!==i&&(a.style.width=i),a.style.height!==o&&(a.style.height=o);var l=e.appState.width*e.scale,s=e.appState.height*e.scale;a.width!==l&&(a.width=l),a.height!==s&&(a.height=s),(0,b.ci)({canvas:a,rc:e.rc,scale:e.scale,elementsMap:e.elementsMap,allElementsMap:e.allElementsMap,visibleElements:e.visibleElements,appState:e.appState,renderConfig:e.renderConfig},ap())}})),(0,V.jsx)("div",{className:"excalidraw__canvas-wrapper",ref:t})}),(function(e,t){return e.sceneNonce===t.sceneNonce&&e.scale===t.scale&&e.elementsMap===t.elementsMap&&e.visibleElements===t.visibleElements&&((0,b.Hb)(Ap(e.appState),Ap(t.appState))&&(0,b.Hb)(e.renderConfig,t.renderConfig))})),kp=function(){return(0,h.A)((function e(t){var n=this;(0,f.A)(this,e),(0,A.d)(this,"scene"),(0,A.d)(this,"getRenderableElements",(0,b.Lb)((function(e){var t=e.zoom,r=e.offsetLeft,a=e.offsetTop,i=e.scrollX,o=e.scrollY,l=e.height,s=e.width,c=e.editingTextElement,d=e.newElementId,u=e.pendingImageElementId,f=(e.sceneNonce,function(e){var t,n=e.elements,r=e.editingTextElement,a=e.newElementId,i=e.pendingImageElementId,o=(0,b.Sb)(new Map),l=(0,U.A)(n);try{for(l.s();!(t=l.n()).done;){var s=t.value;(0,b.Wb)(s)&&i===s.id||a!==s.id&&(!r||"text"!==r.type||s.id!==r.id)&&o.set(s.id,s)}}catch(c){l.e(c)}finally{l.f()}return o}({elements:n.scene.getNonDeletedElements(),editingTextElement:c,newElementId:d,pendingImageElementId:u})),h=function(e){var t,n=e.elementsMap,r=e.zoom,a=e.offsetLeft,i=e.offsetTop,o=e.scrollX,l=e.scrollY,s=e.height,c=e.width,d=[],u=(0,U.A)(n.values());try{for(u.s();!(t=u.n()).done;){var f=t.value;(0,b.Tj)(f,c,s,{zoom:r,offsetLeft:a,offsetTop:i,scrollX:o,scrollY:l},n)&&d.push(f)}}catch(h){u.e(h)}finally{u.f()}return d}({elementsMap:f,zoom:t,offsetLeft:r,offsetTop:a,scrollX:i,scrollY:o,height:l,width:s});return{elementsMap:f,visibleElements:h}}))),this.scene=t}),[{key:"destroy",value:function(){yp.cancel(),b.bi.cancel(),this.getRenderableElements.clear()}}])}(),Sp=function(e){var t=e.trails,n=(0,r.useRef)(null);return(0,r.useEffect)((function(){if(n.current){var e,r=(0,U.A)(t);try{for(r.s();!(e=r.n()).done;){e.value.start(n.current)}}catch(a){r.e(a)}finally{r.f()}}return function(){var e,n=(0,U.A)(t);try{for(n.s();!(e=n.n()).done;){e.value.stop()}}catch(a){n.e(a)}finally{n.f()}}}),t),(0,V.jsx)("div",{className:"SVGLayer",children:(0,V.jsx)("svg",{ref:n})})},Mp=function(e){var t=e.children,n=e.element,r=e.elementsMap,a=ev();if(a.contextMenu||a.newElement||a.resizingElement||a.isRotating||a.openMenu||a.viewModeEnabled)return null;var i=function(e,t,n){var r=(0,b.aj)(e,n),a=(0,c.A)(r,2),i=a[0],o=a[1],l=(0,b.mb)({sceneX:i+e.width,sceneY:o},t),s=l.x,d=l.y;return{x:s-t.offsetLeft+10,y:d-t.offsetTop}}(n,a,r),o=i.x,l=i.y;return(0,V.jsx)("div",{className:"excalidraw-canvas-buttons",style:{top:"".concat(l,"px"),left:"".concat(o,"px"),padding:5},children:t})},Cp=function(e){return(0,V.jsxs)("label",{className:(0,le.A)("ToolIcon ToolIcon__MagicButton","ToolIcon_size_".concat("small"),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,V.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,V.jsx)("div",{className:"ToolIcon__icon",children:e.icon})]})},jp=function(e){var t=e.height,n=e.width,r=e.userToFollow,a=e.onDisconnect;return(0,V.jsx)("div",{className:"follow-mode",style:{width:n,height:t},children:(0,V.jsxs)("div",{className:"follow-mode__badge",children:[(0,V.jsxs)("div",{className:"follow-mode__badge__label",children:["Following"," ",(0,V.jsx)("span",{className:"follow-mode__badge__username",title:r.username,children:r.username})]}),(0,V.jsx)("button",{type:"button",onClick:a,className:"follow-mode__disconnect-btn",children:b.ge})]})})},Ip=function(){return(0,h.A)((function e(){(0,f.A)(this,e),(0,A.d)(this,"targets",new WeakMap),(0,A.d)(this,"rafIds",new WeakMap)}),[{key:"register",value:function(e,t){this.targets.set(e,{callback:t,stopped:!0})}},{key:"start",value:function(e){var t=this.targets.get(e);t&&(this.rafIds.has(e)||(this.targets.set(e,(0,v.A)((0,v.A)({},t),{},{stopped:!1})),this.scheduleFrame(e)))}},{key:"stop",value:function(e){var t=this.targets.get(e);t&&!t.stopped&&this.targets.set(e,(0,v.A)((0,v.A)({},t),{},{stopped:!0})),this.cancelFrame(e)}},{key:"constructFrame",value:function(e){var t=this;return function(n){var r=t.targets.get(e);if(r){var a=t.onFrame(r,n);r.stopped||a?t.cancelFrame(e):t.scheduleFrame(e)}}}},{key:"scheduleFrame",value:function(e){var t=requestAnimationFrame(this.constructFrame(e));this.rafIds.set(e,t)}},{key:"cancelFrame",value:function(e){if(this.rafIds.has(e)){var t=this.rafIds.get(e);cancelAnimationFrame(t)}this.rafIds.delete(e)}},{key:"onFrame",value:function(e,t){var n;return null!==(n=e.callback(t))&&void 0!==n&&n}}])}(),Dp=function(){return(0,h.A)((function e(t,n,r){(0,f.A)(this,e),this.animationFrameHandler=t,this.app=n,this.options=r,(0,A.d)(this,"currentTrail"),(0,A.d)(this,"pastTrails",[]),(0,A.d)(this,"container"),(0,A.d)(this,"trailElement"),this.animationFrameHandler.register(this,this.onFrame.bind(this)),this.trailElement=document.createElementNS(b.pa,"path")}),[{key:"hasCurrentTrail",get:function(){return!!this.currentTrail}},{key:"hasLastPoint",value:function(e,t){if(this.currentTrail){var n=this.currentTrail.originalPoints.length;return this.currentTrail.originalPoints[n-1][0]===e&&this.currentTrail.originalPoints[n-1][1]===t}return!1}},{key:"start",value:function(e){e&&(this.container=e),this.trailElement.parentNode!==this.container&&this.container&&this.container.appendChild(this.trailElement),this.animationFrameHandler.start(this)}},{key:"stop",value:function(){var e;this.animationFrameHandler.stop(this),this.trailElement.parentNode===this.container&&(null===(e=this.container)||void 0===e||e.removeChild(this.trailElement))}},{key:"startPath",value:function(e,t){this.currentTrail=new Wa(this.options),this.currentTrail.addPoint([e,t,performance.now()]),this.update()}},{key:"addPointToPath",value:function(e,t){this.currentTrail&&(this.currentTrail.addPoint([e,t,performance.now()]),this.update())}},{key:"endPath",value:function(){this.currentTrail&&(this.currentTrail.close(),this.currentTrail.options.keepHead=!1,this.pastTrails.push(this.currentTrail),this.currentTrail=void 0,this.update())}},{key:"update",value:function(){this.start()}},{key:"onFrame",value:function(){var e,t,n=[],r=(0,U.A)(this.pastTrails);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(this.drawTrail(a,this.app.state))}}catch(l){r.e(l)}finally{r.f()}if(this.currentTrail){var i=this.drawTrail(this.currentTrail,this.app.state);n.push(i)}this.pastTrails=this.pastTrails.filter((function(e){return 0!==e.getStrokeOutline().length})),0===n.length&&this.stop();var o=n.join(" ").trim();this.trailElement.setAttribute("d",o),this.trailElement.setAttribute("fill",(null!==(e=this.options.fill)&&void 0!==e?e:function(){return"black"})(this))}},{key:"drawTrail",value:function(e,t){var n=e.getStrokeOutline(e.options.size/t.zoom.value).map((function(e){var n=(0,c.A)(e,2),r=n[0],a=n[1],i=(0,b.mb)({sceneX:r,sceneY:a},t);return[i.x,i.y]}));return(0,b.Qb)(n,!0)}}])}(),Tp=function(){return(0,h.A)((function e(t,n){(0,f.A)(this,e),this.animationFrameHandler=t,this.app=n,(0,A.d)(this,"localTrail"),(0,A.d)(this,"collabTrails",new Map),(0,A.d)(this,"container"),this.animationFrameHandler.register(this,this.onFrame.bind(this)),this.localTrail=new Dp(t,n,(0,v.A)((0,v.A)({},this.getTrailOptions()),{},{fill:function(){return b.y}}))}),[{key:"getTrailOptions",value:function(){return{simplify:0,streamline:.4,sizeMapping:function(e){var t=Math.max(0,1-(performance.now()-e.pressure)/1e3),n=(50-Math.min(50,e.totalLength-e.currentIndex))/50;return Math.min((0,b.fb)(n),(0,b.fb)(t))}}}},{key:"startPath",value:function(e,t){this.localTrail.startPath(e,t)}},{key:"addPointToPath",value:function(e,t){this.localTrail.addPointToPath(e,t)}},{key:"endPath",value:function(){this.localTrail.endPath()}},{key:"start",value:function(e){this.container=e,this.animationFrameHandler.start(this),this.localTrail.start(e)}},{key:"stop",value:function(){this.animationFrameHandler.stop(this),this.localTrail.stop()}},{key:"onFrame",value:function(){this.updateCollabTrails()}},{key:"updateCollabTrails",value:function(){var e=this;if(this.container&&0!==this.app.state.collaborators.size){var t,n=(0,U.A)(this.app.state.collaborators.entries());try{var r=function(){var n,r=(0,c.A)(t.value,2),a=r[0],i=r[1];e.collabTrails.has(a)?n=e.collabTrails.get(a):((n=new Dp(e.animationFrameHandler,e.app,(0,v.A)((0,v.A)({},e.getTrailOptions()),{},{fill:function(){var e;return(null===(e=i.pointer)||void 0===e?void 0:e.laserColor)||cs(a,i)}}))).start(e.container),e.collabTrails.set(a,n)),i.pointer&&"laser"===i.pointer.tool&&("down"===i.button&&!n.hasCurrentTrail&&n.startPath(i.pointer.x,i.pointer.y),"down"===i.button&&n.hasCurrentTrail&&!n.hasLastPoint(i.pointer.x,i.pointer.y)&&n.addPointToPath(i.pointer.x,i.pointer.y),"up"===i.button&&n.hasCurrentTrail&&(n.addPointToPath(i.pointer.x,i.pointer.y),n.endPath()))};for(n.s();!(t=n.n()).done;)r()}catch(l){n.e(l)}finally{n.f()}var a,i=(0,U.A)(this.collabTrails.keys());try{for(i.s();!(a=i.n()).done;){var o=a.value;this.app.state.collaborators.has(o)||(this.collabTrails.get(o).stop(),this.collabTrails.delete(o))}}catch(l){i.e(l)}finally{i.f()}}}}])}(),_p=function(e,t,n,r,a,i){var o=r.zoom,l=180*n/Math.PI,s=e*(o.value-1)/2,c=t*(o.value-1)/2;return e>a&&1!==o.value&&(s=a*(o.value-1)/2),t>i&&1!==o.value&&(c=i*(o.value-1)/2),"translate(".concat(s,"px, ").concat(c,"px) scale(").concat(o.value,") rotate(").concat(l,"deg)")},Lp=function(e){var t=e.id,n=e.onChange,r=e.onSubmit,a=e.getViewportCoords,i=e.element,o=e.canvas,d=e.excalidrawContainer,u=e.app,f=e.autoSelect,h=void 0===f||f,p=function(){var e,n=u.state,r=null===(e=b.Oj.getScene(i))||void 0===e?void 0:e.getElement(t);if(r){var o=r.textAlign,l=r.verticalAlign,s=u.scene.getNonDeletedElementsMap();if(r&&(0,b._b)(r)){var d=r.x,f=r.y,h=(0,b.Aj)(r,u.scene.getNonDeletedElementsMap()),p=r.width,U=r.height,m=r.width,g=r.height;if(h&&r.containerId){if((0,b.dc)(h)){var y=b.pj.getBoundTextElementPosition(h,r,s);d=y.x,f=y.y}var x,w=function(e,t){if(!t.style.fontFamily||!t.style.fontSize)return!1;var n=t.style.fontFamily.replace(/"/g,"");return(0,b.bb)({fontFamily:e.fontFamily})!==n||"".concat(e.fontSize,"px")!==t.style.fontSize}(r,v);if(w?x=(0,b.rj)(h.id,h.height):(x=b.qj[h.id])||(x=(0,b.rj)(h.id,h.height)),m=(0,b.Hj)(h,r),g=(0,b.Ij)(h,r),!(0,b.dc)(h)&&U>g){var A=(0,b.Gj)(U,h.type);return void(0,b.Pj)(h,{height:A})}if(!(0,b.dc)(h)&&h.height>x.height&&U<g){var E=(0,b.Gj)(U,h.type);(0,b.Pj)(h,{height:E})}else{f=(0,b.xj)(h,r,s).y}}var k=a(d,f),S=(0,c.A)(k,2),M=S[0],C=S[1],j=v.selectionStart,I=v.selectionEnd,D=v.value.length;if(j===I&&I!==D){var T=D-I;v.selectionStart=v.value.length-T,v.selectionEnd=v.value.length-T}h?p+=.5:(m=(n.width-8-M)/n.zoom.value,p=Math.min(p,m)),U*=1.05;var _=(0,b.cb)(r),L=(n.height-C)/n.zoom.value;Object.assign(v.style,{font:_,lineHeight:r.lineHeight,width:"".concat(p,"px"),height:"".concat(U,"px"),left:"".concat(M,"px"),top:"".concat(C,"px"),transform:_p(p,U,(0,b.Cj)(r,h),n,m,L),textAlign:o,verticalAlign:l,color:r.strokeColor,opacity:r.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(L,"px")}),v.scrollTop=0,(0,b.Ab)()&&(v.style.fontFamily=(0,b.bb)(r)),(0,b.Pj)(r,{x:d,y:f})}}},v=document.createElement("textarea");v.dir="auto",v.tabIndex=0,v.dataset.type="wysiwyg",v.wrap="off",v.classList.add("excalidraw-wysiwyg");var U="pre",m="normal";((0,b.nc)(i)||!i.autoResize)&&(U="pre-wrap",m="break-word"),Object.assign(v.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:m,whiteSpace:U,overflowWrap:"break-word",boxSizing:"content-box"}),v.value=i.originalText,p(),n&&(v.onpaste=function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var n,r,a,o,s,c,d;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.mi)(t,!0);case 2:if((n=e.sent).text){e.next=5;break}return e.abrupt("return");case 5:if(r=(0,b.zc)(n.text)){e.next=8;break}return e.abrupt("return");case 8:a=(0,b.Aj)(i,u.scene.getNonDeletedElementsMap()),o=(0,b.cb)({fontSize:u.state.currentItemFontSize,fontFamily:u.state.currentItemFontFamily}),a&&(s=(0,b.zj)(a,u.scene.getNonDeletedElementsMap()),c=(0,b.Ec)("".concat(v.value).concat(r),o,(0,b.Hj)(a,s)),d=(0,b.Dc)(c,o),v.style.width="".concat(d,"px"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v.oninput=function(){var e=(0,b.zc)(v.value);if(v.value!==e){var t=v.selectionStart;v.value=e,v.selectionStart=t,v.selectionEnd=t}n(v.value)}),v.onkeydown=function(e){if(!e.shiftKey&&Tl.keyTest(e))e.preventDefault(),u.actionManager.executeAction(Tl),p();else if(!e.shiftKey&&_l.keyTest(e))e.preventDefault(),u.actionManager.executeAction(_l),p();else if(!e.shiftKey&&Ll.keyTest(e))e.preventDefault(),u.actionManager.executeAction(Ll),p();else if(El.keyTest(e))u.actionManager.executeAction(El);else if(kl.keyTest(e))u.actionManager.executeAction(kl);else if(e.key===b.hg.ESCAPE)e.preventDefault(),k=!0,S();else if(e.key===b.hg.ENTER&&e[b.hg.CTRL_OR_CMD]){if(e.preventDefault(),e.isComposing||229===e.keyCode)return;k=!0,S()}else if(e.key===b.hg.TAB||e[b.hg.CTRL_OR_CMD]&&(e.code===b.gg.BRACKET_LEFT||e.code===b.gg.BRACKET_RIGHT)){if(e.preventDefault(),e.isComposing)return;e.shiftKey||e.code===b.gg.BRACKET_LEFT?w():x(),v.dispatchEvent(new Event("input"))}};var g=" ".repeat(4),y=new RegExp("^ {1,".concat(4,"}")),x=function(){var e=v.selectionStart,t=v.selectionEnd,n=A(),r=v.value;n.forEach((function(e){var t=r.slice(0,e),n=r.slice(e);r="".concat(t).concat(g).concat(n)})),v.value=r,v.selectionStart=e+4,v.selectionEnd=t+4*n.length},w=function(){var e=v.selectionStart,t=v.selectionEnd,n=A(),r=[],a=v.value;n.forEach((function(e){var t=a.slice(e,e+4).match(y);if(t){var n=a.slice(0,e),i=a.slice(e+t[0].length);a="".concat(n).concat(i),r.push(e)}})),v.value=a,r.length&&(e>r[r.length-1]?v.selectionStart=Math.max(e-4,r[r.length-1]):v.selectionStart=e,v.selectionEnd=Math.max(v.selectionStart,t-4*r.length))},A=function(){var e=v.selectionStart,t=v.selectionEnd,n=v.value,r=n.slice(0,e).match(/[^\n]*$/)[0].length;return e-=r,n.slice(e,t).split("\n").reduce((function(t,n,r,a){return t.concat(r?t[r-1]+a[r-1].length+1:e)}),[]).reverse()},E=function(e){e.target instanceof HTMLCanvasElement&&(e.preventDefault(),e.stopPropagation())},k=!1,S=function(){var e;if(!_){_=!0,M();var t=null===(e=b.Oj.getScene(i))||void 0===e?void 0:e.getElement(i.id);if(t){var n=(0,b.Aj)(t,u.scene.getNonDeletedElementsMap());if(n){var a;if(v.value.trim()){var o=(0,b.yj)(n);o&&o===i.id?(0,b.dc)(n)&&(0,b.Rj)(n):(0,b.Pj)(n,{boundElements:(n.boundElements||[]).concat({type:"text",id:i.id})})}else(0,b.Pj)(n,{boundElements:null===(a=n.boundElements)||void 0===a?void 0:a.filter((function(e){return!(0,b._b)(e)}))});(0,b.uj)(t,n,u.scene.getNonDeletedElementsMap())}r({viaKeyboard:k,nextOriginalText:v.value})}}},M=function(){v.onblur=null,v.oninput=null,v.onkeydown=null,L&&L.disconnect(),window.removeEventListener("resize",p),window.removeEventListener("wheel",E,!0),window.removeEventListener("pointerdown",I),window.removeEventListener("pointerup",C),window.removeEventListener("blur",S),window.removeEventListener("beforeunload",S),D(),T(),v.remove()},C=function(e){window.removeEventListener("pointerup",C);var t=null===e||void 0===e?void 0:e.target,n=t instanceof HTMLElement&&t.classList.contains("properties-trigger");setTimeout((function(){v.onblur=S,n||v.focus()}))},j=function(){v.onblur=null,window.addEventListener("pointerup",C),window.addEventListener("blur",S)},I=function(e){var t=null===e||void 0===e?void 0:e.target;if(e.button===b.A.WHEEL)return t instanceof HTMLTextAreaElement&&(e.preventDefault(),u.handleCanvasPanUsingWheelOrSpaceDrag(e)),void j();var n=t instanceof HTMLElement&&t.classList.contains("properties-trigger");(e.target instanceof HTMLElement||e.target instanceof SVGElement)&&e.target.closest(".".concat(b.E.SHAPE_ACTIONS_MENU,", .").concat(b.E.ZOOM_ACTIONS))&&!(0,b.ab)(e.target)||n?j():e.target instanceof HTMLCanvasElement&&!(0,b.Ab)()&&requestAnimationFrame((function(){S()}))},D=u.scene.onUpdate((function(){var e;p(),null!==(e=document.activeElement)&&void 0!==e&&e.closest(".properties-content")||v.focus()})),T=u.onScrollChangeEmitter.on((function(){p()})),_=!1;h&&v.select(),C();var L=null;o&&"ResizeObserver"in window?(L=new window.ResizeObserver((function(){p()}))).observe(o):window.addEventListener("resize",p),v.onpointerdown=function(e){return e.stopPropagation()},requestAnimationFrame((function(){window.addEventListener("pointerdown",I,{capture:!0})})),window.addEventListener("beforeunload",S),null===d||void 0===d||d.querySelector(".excalidraw-textEditorContainer").appendChild(v)},Rp=(0,b.$c)({name:"autoResize",label:"labels.autoResize",icon:null,trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=(0,b.vk)(e,t);return 1===a.length&&(0,b._b)(a[0])&&!a[0].autoResize},perform:function(e,t,n,r){var a=(0,b.vk)(e,t);return{appState:t,elements:e.map((function(e){if(e.id===a[0].id&&(0,b._b)(e)){var t=(0,b.vc)(e.originalText,(0,b.cb)(e),e.lineHeight);return(0,b.Qj)(e,{autoResize:!0,width:t.width,height:t.height,text:e.originalText})}return e})),captureUpdate:b.Wg.IMMEDIATELY}}}),Pp=function(e){return new RegExp("^(?:%%{.*?}%%[\\s\\n]*)?\\b(?:".concat(["flowchart","graph","sequenceDiagram","classDiagram","stateDiagram","stateDiagram-v2","erDiagram","journey","gantt","pie","quadrantChart","requirementDiagram","gitGraph","C4Context","mindmap","timeline","zenuml","sankey","xychart","block"].map((function(e){return"\\s*".concat(e,"(-beta)?")})).join("|"),")\\b")).test(e.trim())},Np=function(e){var t=e.canvas,n=e.rc,r=e.newElement,a=e.elementsMap,i=e.allElementsMap,o=e.scale,l=e.appState,s=e.renderConfig;if(t){var d=(0,b.Wh)(t,o),u=(0,c.A)(d,2),f=u[0],h=u[1],p=(0,b.Xh)({canvas:t,scale:o,normalizedWidth:f,normalizedHeight:h});p.save(),p.scale(l.zoom.value,l.zoom.value),r&&"selection"!==r.type?(0,b.Ti)(r,a,i,n,p,s,l):p.clearRect(0,0,f,h)}},Fp=(0,b.eb)((function(e){Np(e)}),{trailing:!0}),Op=function(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){t.current&&function(e,t){t?Fp(e):Np(e)}({canvas:t.current,scale:e.scale,newElement:e.appState.newElement,elementsMap:e.elementsMap,allElementsMap:e.allElementsMap,rc:e.rc,renderConfig:e.renderConfig,appState:e.appState},ap())})),(0,V.jsx)("canvas",{className:"excalidraw__canvas",style:{width:e.appState.width,height:e.appState.height},width:e.appState.width*e.scale,height:e.appState.height*e.scale,ref:t})},zp=r.createContext(null),Bp=r.createContext(null),Hp={viewport:{isMobile:!1,isLandscape:!1},editor:{isMobile:!1,canFitSidebar:!1},isTouchScreen:!1},Wp=r.createContext(Hp);Wp.displayName="DeviceContext";var Xp=r.createContext({container:null,id:null});Xp.displayName="ExcalidrawContainerContext";var Gp=r.createContext([]);Gp.displayName="ExcalidrawElementsContext";var Vp=r.createContext((0,v.A)((0,v.A)({},(0,b.Fc)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));Vp.displayName="ExcalidrawAppStateContext";var Yp=r.createContext((function(){console.warn("Uninitialized ExcalidrawSetAppStateContext context!")}));Yp.displayName="ExcalidrawSetAppStateContext";var Zp=r.createContext(null);Zp.displayName="ExcalidrawActionManagerContext";var Kp=function(){return(0,r.useContext)(zp)},qp=function(){return(0,r.useContext)(Bp)},$p=function(){return(0,r.useContext)(Wp)},Qp=function(){return(0,r.useContext)(Xp)},Jp=function(){return(0,r.useContext)(Gp)},ev=function(){return(0,r.useContext)(Vp)},tv=function(){return(0,r.useContext)(Yp)},nv=function(){return(0,r.useContext)(Zp)},rv=!1,av=0,iv=!1,ov=!1,lv=!1,sv={horizontal:null,vertical:null},cv=0,dv=!1,uv=new Map,fv=!1,hv=0,pv=!1,vv=null,Uv={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},mv=function(e){function t(e){var a;(0,f.A)(this,t),a=(0,d.A)(this,t,[e]),(0,A.d)(a,"canvas"),(0,A.d)(a,"interactiveCanvas",null),(0,A.d)(a,"rc"),(0,A.d)(a,"unmounted",!1),(0,A.d)(a,"actionManager"),(0,A.d)(a,"device",Hp),(0,A.d)(a,"excalidrawContainerRef",r.createRef()),(0,A.d)(a,"scene"),(0,A.d)(a,"fonts"),(0,A.d)(a,"renderer"),(0,A.d)(a,"visibleElements"),(0,A.d)(a,"resizeObserver"),(0,A.d)(a,"nearestScrollableContainer"),(0,A.d)(a,"library"),(0,A.d)(a,"libraryItemsFromStorage"),(0,A.d)(a,"id"),(0,A.d)(a,"store"),(0,A.d)(a,"history"),(0,A.d)(a,"excalidrawContainerValue"),(0,A.d)(a,"files",{}),(0,A.d)(a,"imageCache",new Map),(0,A.d)(a,"iFrameRefs",new Map),(0,A.d)(a,"embedsValidationStatus",new Map),(0,A.d)(a,"initializedEmbeds",new Set),(0,A.d)(a,"elementsPendingErasure",new Set),(0,A.d)(a,"flowChartCreator",new pu),(0,A.d)(a,"flowChartNavigator",new hu),(0,A.d)(a,"hitLinkElement"),(0,A.d)(a,"lastPointerDownEvent",null),(0,A.d)(a,"lastPointerUpEvent",null),(0,A.d)(a,"lastPointerMoveEvent",null),(0,A.d)(a,"lastPointerMoveCoords",null),(0,A.d)(a,"lastViewportPosition",{x:0,y:0}),(0,A.d)(a,"animationFrameHandler",new Ip),(0,A.d)(a,"laserTrails",new Tp(a.animationFrameHandler,a)),(0,A.d)(a,"eraserTrail",new Dp(a.animationFrameHandler,a,{streamline:.2,size:5,keepHead:!0,sizeMapping:function(e){var t=Math.max(0,1-(performance.now()-e.pressure)/200),n=(10-Math.min(10,e.totalLength-e.currentIndex))/10;return Math.min((0,b.fb)(n),(0,b.fb)(t))},fill:function(){return a.state.theme===b.G.LIGHT?"rgba(0, 0, 0, 0.2)":"rgba(255, 255, 255, 0.2)"}})),(0,A.d)(a,"onChangeEmitter",new b.Vg),(0,A.d)(a,"onPointerDownEmitter",new b.Vg),(0,A.d)(a,"onPointerUpEmitter",new b.Vg),(0,A.d)(a,"onUserFollowEmitter",new b.Vg),(0,A.d)(a,"onScrollChangeEmitter",new b.Vg),(0,A.d)(a,"missingPointerEventCleanupEmitter",new b.Vg),(0,A.d)(a,"onRemoveEventListenersEmitter",new b.Vg),(0,A.d)(a,"getEffectiveGridSize",(function(){return(0,b.fj)(a)?a.state.gridSize:null})),(0,A.d)(a,"updateEmbedValidationStatus",(function(e,t){a.embedsValidationStatus.set(e.id,t),b.ed.delete(e)})),(0,A.d)(a,"updateEmbeddables",(function(){var e=new Set,t=!1;a.scene.getNonDeletedElements().filter((function(n){if((0,b.Xb)(n)){if(e.add(n.id),!a.embedsValidationStatus.has(n.id)){t=!0;var r=(0,b.$g)(n.link,a.props.validateEmbeddable);a.updateEmbedValidationStatus(n,r)}}else(0,b.Yb)(n)&&e.add(n.id);return!1})),t&&a.scene.triggerUpdate(),a.iFrameRefs.forEach((function(t,n){e.has(n)||a.iFrameRefs.delete(n)}))})),(0,A.d)(a,"getFrameNameDOMId",(function(e){return"".concat(a.id,"-frame-name-").concat(e.id)})),(0,A.d)(a,"frameNameBoundsCache",{get:function(e){var t=a.frameNameBoundsCache._cache.get(e.id);if(!t||t.zoom!==a.state.zoom.value||t.versionNonce!==e.versionNonce){var n=document.getElementById(a.getFrameNameDOMId(e));if(n){var r=n.getBoundingClientRect(),i=(0,b.lb)({clientX:r.x,clientY:r.y},a.state),o=(0,b.lb)({clientX:r.right,clientY:r.bottom},a.state);return t={x:i.x,y:i.y,width:o.x-i.x,height:o.y-i.y,angle:0,zoom:a.state.zoom.value,versionNonce:e.versionNonce},a.frameNameBoundsCache._cache.set(e.id,t),t}return null}return t},_cache:new Map}),(0,A.d)(a,"resetEditingFrame",(function(e){var t;e&&(0,b.Pj)(e,{name:(null===(t=e.name)||void 0===t?void 0:t.trim())||null}),a.setState({editingFrame:null})})),(0,A.d)(a,"renderFrameNames",(function(){if(!a.state.frameRendering.enabled||!a.state.frameRendering.name)return a.state.editingFrame&&a.resetEditingFrame(null),null;var e=a.state.theme===b.G.DARK;return a.scene.getNonDeletedFramesLikes().map((function(t){if(!(0,b.Tj)(t,a.canvas.width/window.devicePixelRatio,a.canvas.height/window.devicePixelRatio,{offsetLeft:a.state.offsetLeft,offsetTop:a.state.offsetTop,scrollX:a.state.scrollX,scrollY:a.state.scrollY,zoom:a.state.zoom},a.scene.getNonDeletedElementsMap()))return a.state.editingFrame===t.id&&a.resetEditingFrame(t),null;var n,r=(0,b.mb)({sceneX:t.x,sceneY:t.y},a.state),i=r.x,o=r.y,l=(0,b.Oi)(t);if(t.id===a.state.editingFrame){var s=l;n=(0,V.jsx)("input",{autoFocus:!0,value:s,onChange:function(e){(0,b.Pj)(t,{name:e.target.value})},onFocus:function(e){return e.target.select()},onBlur:function(){return a.resetEditingFrame(t)},onKeyDown:function(e){(e.key===b.hg.ESCAPE||e.key===b.hg.ENTER)&&a.resetEditingFrame(t)},style:{background:a.state.viewBackgroundColor,filter:e?b.da:"none",zIndex:2,border:"none",display:"block",padding:"".concat(6,"px"),borderRadius:4,boxShadow:"inset 0 0 0 1px var(--color-primary)",fontFamily:"Assistant",fontSize:"14px",transform:"translate(-".concat(6,"px, ").concat(6,"px)"),color:"var(--color-gray-80)",overflow:"hidden",maxWidth:"".concat(document.body.clientWidth-i-6,"px")},size:s.length+1||1,dir:"auto",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}else n=l;return(0,V.jsx)("div",{id:a.getFrameNameDOMId(t),style:{position:"absolute",bottom:"".concat(a.state.height+b.H.nameOffsetY-o+a.state.offsetTop,"px"),left:"".concat(i-a.state.offsetLeft,"px"),zIndex:2,fontSize:b.H.nameFontSize,color:e?b.H.nameColorDarkTheme:b.H.nameColorLightTheme,lineHeight:b.H.nameLineHeight,width:"max-content",maxWidth:"".concat(t.width,"px"),overflow:t.id===a.state.editingFrame?"visible":"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:b.z.MOVE,pointerEvents:a.state.viewModeEnabled?b.B.disabled:b.B.enabled},onPointerDown:function(e){return a.handleCanvasPointerDown(e)},onWheel:function(e){return a.handleWheel(e)},onContextMenu:a.handleCanvasContextMenu,onDoubleClick:function(){a.setState({editingFrame:t.id})},children:n},t.id)}))})),(0,A.d)(a,"focusContainer",(function(){var e;null===(e=a.excalidrawContainerRef.current)||void 0===e||e.focus()})),(0,A.d)(a,"getSceneElementsIncludingDeleted",(function(){return a.scene.getElementsIncludingDeleted()})),(0,A.d)(a,"getSceneElements",(function(){return a.scene.getNonDeletedElements()})),(0,A.d)(a,"onInsertElements",(function(e){a.addElementsFromPasteOrLibrary({elements:e,position:"center",files:null})})),(0,A.d)(a,"onExportImage",function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n,r){var i;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vo("export",t,"ui"),e.next=3,Xl(t,n,a.state,a.files,{exportBackground:a.state.exportBackground,name:a.getName(),viewBackgroundColor:a.state.viewBackgroundColor,exportingFrame:r.exportingFrame}).catch(b.pb).catch((function(e){console.error(e),a.setState({errorMessage:e.message})}));case 3:i=e.sent,a.state.exportEmbedScene&&i&&(0,b.sh)(i)&&a.setState({fileHandle:i});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),(0,A.d)(a,"magicGenerations",new Map),(0,A.d)(a,"updateMagicGeneration",(function(e){var t=e.frameElement,n=e.data;"pending"===n.status?(0,b.Pj)(t,{customData:{generationData:void 0}},!1):(0,b.Pj)(t,{customData:{generationData:n}},!1),a.magicGenerations.set(t.id,n),a.triggerRender()})),(0,A.d)(a,"plugins",{}),(0,A.d)(a,"onMagicframeToolSelect",(function(){var e=a.scene.getSelectedElements({selectedElementIds:a.state.selectedElementIds});if(0===e.length)a.setActiveTool({type:b.Aa.magicframe}),vo("ai","tool-select (empty-selection)","d2c");else{var t,n=1===e.length&&(0,b.ac)(e[0])&&e[0];if(!n&&e.some((function(e){return(0,b.bc)(e)||e.frameId})))return void a.setActiveTool({type:b.Aa.magicframe});if(vo("ai","tool-select (existing selection)","d2c"),n)t=n;else{var r=(0,b.bj)(e),i=(0,c.A)(r,4),o=i[0],l=i[1],s=i[2],d=i[3];t=(0,b.Wf)((0,v.A)((0,v.A)({},b.H),{},{x:o-50,y:l-50,width:s-o+100,height:d-l+100,opacity:100,locked:!1})),a.scene.insertElement(t);var u,f=(0,U.A)(e);try{for(f.s();!(u=f.n()).done;){var h=u.value;(0,b.Pj)(h,{frameId:t.id})}}catch(m){f.e(m)}finally{f.f()}a.setState({selectedElementIds:(0,p.default)({},t.id,!0)})}a.onMagicFrameGenerate(t,"upstream")}})),(0,A.d)(a,"openEyeDropper",(function(e){var t=e.type;Ci.set(Oo,{swapPreviewOnAlt:!0,colorPickerType:"stroke"===t?"elementStroke":"elementBackground",onSelect:function(e,n){var r="background"===t&&n.altKey||"stroke"===t&&!n.altKey;a.scene.getSelectedElements(a.state).length&&"selection"===a.state.activeTool.type?a.updateScene({elements:a.scene.getElementsIncludingDeleted().map((function(t){return a.state.selectedElementIds[t.id]?(0,b.Qj)(t,(0,p.default)({},r?"strokeColor":"backgroundColor",e)):t})),captureUpdate:b.Wg.IMMEDIATELY}):r?a.syncActionResult({appState:(0,v.A)((0,v.A)({},a.state),{},{currentItemStrokeColor:e}),captureUpdate:b.Wg.IMMEDIATELY}):a.syncActionResult({appState:(0,v.A)((0,v.A)({},a.state),{},{currentItemBackgroundColor:e}),captureUpdate:b.Wg.IMMEDIATELY})},keepOpenOnAlt:!1})})),(0,A.d)(a,"dismissLinearEditor",(function(){setTimeout((function(){a.setState({editingLinearElement:null})}))})),(0,A.d)(a,"syncActionResult",np((function(e){if(!a.unmounted&&!1!==e){e.captureUpdate===b.Wg.NEVER?a.store.shouldUpdateSnapshot():e.captureUpdate===b.Wg.IMMEDIATELY&&a.store.shouldCaptureIncrement();var t=!1,n=null;if(e.elements&&(a.scene.replaceAllElements(e.elements),t=!0),e.files&&(a.addMissingFiles(e.files,e.replaceFiles),a.addNewImagesToImageCache()),e.appState||n||a.state.contextMenu){var r,i,o,l,s,c,d,u,f,h=(null===e||void 0===e||null===(r=e.appState)||void 0===r?void 0:r.viewModeEnabled)||!1,p=(null===e||void 0===e||null===(i=e.appState)||void 0===i?void 0:i.zenModeEnabled)||!1,U=(null===e||void 0===e||null===(o=e.appState)||void 0===o?void 0:o.theme)||a.props.theme||b.G.LIGHT,m=null!==(l=null===e||void 0===e||null===(s=e.appState)||void 0===s?void 0:s.name)&&void 0!==l?l:a.state.name,g=null!==(c=null===e||void 0===e||null===(d=e.appState)||void 0===d?void 0:d.errorMessage)&&void 0!==c?c:a.state.errorMessage;typeof a.props.viewModeEnabled<"u"&&(h=a.props.viewModeEnabled),typeof a.props.zenModeEnabled<"u"&&(p=a.props.zenModeEnabled),n=(null===(u=e.appState)||void 0===u?void 0:u.editingTextElement)||null,e.elements&&n&&e.elements.forEach((function(e){var t;(null===(t=n)||void 0===t?void 0:t.id)===e.id&&n!==e&&(0,b.qk)(e)&&(0,b._b)(e)&&(n=e)})),null!==(f=n)&&void 0!==f&&f.isDeleted&&(n=null),a.setState((function(t){var r=e.appState||{};return(0,v.A)((0,v.A)((0,v.A)({},t),r),{},{contextMenu:null,editingTextElement:n,viewModeEnabled:h,zenModeEnabled:p,theme:U,name:m,errorMessage:g})})),t=!0}!t&&e.captureUpdate!==b.Wg.EVENTUALLY&&a.scene.triggerUpdate()}}))),(0,A.d)(a,"onBlur",np((function(){iv=!1,a.setState({isBindingEnabled:!0})}))),(0,A.d)(a,"onUnload",(function(){a.onBlur()})),(0,A.d)(a,"disableEvent",(function(e){e.preventDefault()})),(0,A.d)(a,"resetHistory",(function(){a.history.clear()})),(0,A.d)(a,"resetStore",(function(){a.store.clear()})),(0,A.d)(a,"resetScene",np((function(e){a.scene.replaceAllElements([]),a.setState((function(t){return(0,v.A)((0,v.A)({},(0,b.Fc)()),{},{isLoading:(null===e||void 0===e||!e.resetLoadingState)&&t.isLoading,theme:a.state.theme})})),a.resetStore(),a.resetHistory()}))),(0,A.d)(a,"initializeScene",(0,s.A)((0,l.A)().mark((function e(){var t,n,r,i,o;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var n,r;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.files.length){e.next=2;break}return e.abrupt("return");case 2:return n=t.files[0],e.next=5,n.getFile();case 5:r=e.sent,a.loadFileToCanvas(new File([r],r.name||"",{type:r.type}),n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.props.theme&&a.setState({theme:a.props.theme}),a.state.isLoading||a.setState({isLoading:!0}),r=null,e.prev=2,"function"!=typeof a.props.initialData){e.next=12;break}return e.next=6,a.props.initialData();case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0=null;case 9:r=e.t0,e.next=18;break;case 12:return e.next=14,a.props.initialData;case 14:if(e.t1=e.sent,e.t1){e.next=17;break}e.t1=null;case 17:r=e.t1;case 18:(null===(i=r)||void 0===i?void 0:i.libraryItems)&&a.library.updateLibrary({libraryItems:r.libraryItems,merge:!0}).catch((function(e){console.error(e)})),e.next=24;break;case 21:e.prev=21,e.t2=e.catch(2),console.error(e.t2),r={appState:{errorMessage:e.t2.message||"Encountered an error during importing or restoring scene data"}};case 24:(o=(0,b.lh)(r,null,null,{repairBindings:!0})).appState=(0,v.A)((0,v.A)({},o.appState),{},{theme:a.props.theme||o.appState.theme,openSidebar:(null===(t=o.appState)||void 0===t?void 0:t.openSidebar)||a.state.openSidebar,activeTool:"image"===o.appState.activeTool.type?(0,v.A)((0,v.A)({},o.appState.activeTool),{},{type:"selection"}):o.appState.activeTool,isLoading:!1,toast:a.state.toast}),null!==(n=r)&&void 0!==n&&n.scrollToContent&&(o.appState=(0,v.A)((0,v.A)({},o.appState),(0,b.zk)(o.elements,(0,v.A)((0,v.A)({},o.appState),{},{width:a.state.width,height:a.state.height,offsetTop:a.state.offsetTop,offsetLeft:a.state.offsetLeft})))),a.resetStore(),a.resetHistory(),a.syncActionResult((0,v.A)((0,v.A)({},o),{},{captureUpdate:b.Wg.NEVER})),a.clearImageShapeCache(),a.fonts.loadSceneFonts().then((function(e){a.fonts.onLoaded(e)})),(0,b.$h)(window.location.href)&&a.scrollToContent(window.location.href,{animate:!1});case 26:case"end":return e.stop()}}),e,null,[[2,21]])})))),(0,A.d)(a,"isMobileBreakpoint",(function(e,t){return e<b.ha||t<b.ja&&e<b.ia})),(0,A.d)(a,"refreshViewportBreakpoints",(function(){if(a.excalidrawContainerRef.current){var e=document.body,t=e.clientWidth,n=e.clientHeight,r=a.device.viewport,i=(0,b.Db)(r,{isLandscape:t>n,isMobile:a.isMobileBreakpoint(t,n)});return r!==i&&(a.device=(0,v.A)((0,v.A)({},a.device),{},{viewport:i}),!0)}})),(0,A.d)(a,"refreshEditorBreakpoints",(function(){var e=a.excalidrawContainerRef.current;if(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height,i=null!=a.props.UIOptions.dockedSidebarBreakpoint?a.props.UIOptions.dockedSidebarBreakpoint:b.ka,o=a.device.editor,l=(0,b.Db)(o,{isMobile:a.isMobileBreakpoint(n,r),canFitSidebar:n>i});return o!==l&&(a.device=(0,v.A)((0,v.A)({},a.device),{},{editor:l}),!0)}})),(0,A.d)(a,"onResize",np((function(){a.scene.getElementsIncludingDeleted().forEach((function(e){return b.ed.delete(e)})),a.refreshViewportBreakpoints(),a.updateDOMRect(),b.r||a.refreshEditorBreakpoints(),a.setState({})}))),(0,A.d)(a,"onFullscreenChange",(function(){var e;!document.fullscreenElement&&"active"===(null===(e=a.state.activeEmbeddable)||void 0===e?void 0:e.state)&&a.setState({activeEmbeddable:null})})),(0,A.d)(a,"renderInteractiveSceneCallback",(function(e){var t=e.atLeastOneVisibleElement,n=e.scrollBars,r=e.elementsMap;n&&(sv=n);var i=!a.state.editingTextElement&&(!t&&r.size>0);a.state.scrolledOutside!==i&&a.setState({scrolledOutside:i}),a.scheduleImageRefresh()})),(0,A.d)(a,"onScroll",(0,b.db)((function(){var e=a.getCanvasOffsets(),t=e.offsetTop,n=e.offsetLeft;a.setState((function(e){return e.offsetLeft===n&&e.offsetTop===t?null:{offsetTop:t,offsetLeft:n}}))}),b._)),(0,A.d)(a,"onCut",np((function(e){var t;null===(t=a.excalidrawContainerRef.current)||void 0===t||!t.contains(document.activeElement)||(0,b.ab)(e.target)||(a.actionManager.executeAction(As,"keyboard",e),e.preventDefault(),e.stopPropagation())}))),(0,A.d)(a,"onCopy",np((function(e){var t;null===(t=a.excalidrawContainerRef.current)||void 0===t||!t.contains(document.activeElement)||(0,b.ab)(e.target)||(a.actionManager.executeAction(xs,"keyboard",e),e.preventDefault(),e.stopPropagation())}))),(0,A.d)(a,"onTouchStart",(function(e){if(b.p&&e.preventDefault(),!rv)return rv=!0,clearTimeout(av),void(av=window.setTimeout(t.resetTapTwice,b.Y));if(rv&&1===e.touches.length){var n=e.touches[0];a.handleCanvasDoubleClick({clientX:n.clientX,clientY:n.clientY}),rv=!1,clearTimeout(av)}2===e.touches.length&&a.setState({selectedElementIds:(0,b.xk)({},a.state),activeEmbeddable:null})})),(0,A.d)(a,"onTouchEnd",(function(e){a.resetContextMenuTimer(),e.touches.length>0?a.setState({previousSelectedElementIds:{},selectedElementIds:(0,b.xk)(a.state.previousSelectedElementIds,a.state)}):Uv.pointers.clear()})),(0,A.d)(a,"pasteFromClipboard",np(function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var r,i,o,s,c,d,u,f,h,v,m,g,y,x,w,A,E,k,S,M,C,j,I,D,T,_,L;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!!fv,s=document.activeElement,c=null===(r=a.excalidrawContainerRef.current)||void 0===r?void 0:r.contains(s),!t||c){e.next=3;break}return e.abrupt("return");case 3:if(d=document.elementFromPoint(a.lastViewportPosition.x,a.lastViewportPosition.y),!t||d instanceof HTMLCanvasElement&&!(0,b.ab)(s)){e.next=6;break}return e.abrupt("return");case 6:return u=(0,b.lb)({clientX:a.lastViewportPosition.x,clientY:a.lastViewportPosition.y},a.state),f=u.x,h=u.y,v=null===t||void 0===t||null===(i=t.clipboardData)||void 0===i?void 0:i.files[0],e.next=12,(0,b.mi)(t,o);case 12:if(m=e.sent,v||o){e.next=17;break}if(!m.mixedContent){e.next=16;break}return e.abrupt("return",a.addElementsFromMixedContentPaste(m.mixedContent,{isPlainPaste:o,sceneX:f,sceneY:h}));case 16:m.text&&(g=m.text.trim()).startsWith("<svg")&&g.endsWith("</svg>")&&(v=(0,b.Fh)(g));case 17:if(!(0,b.th)(v)||m.spreadsheet){e.next=24;break}if(a.isToolSupported("image")){e.next=21;break}return a.setState({errorMessage:Fi("errors.imageToolNotSupported")}),e.abrupt("return");case 21:return y=a.createImageElement({sceneX:f,sceneY:h}),a.insertImageElement(y,v),a.initializeImageDimensions(y),a.setState({selectedElementIds:(0,b.xk)((0,p.default)({},y.id,!0),a.state)}),e.abrupt("return");case 24:if(!a.props.onPaste){e.next=37;break}return e.prev=25,e.next=28,a.props.onPaste(m,t);case 28:if(e.t0=e.sent,e.t1=!1,e.t0!==e.t1){e.next=32;break}return e.abrupt("return");case 32:e.next=37;break;case 34:e.prev=34,e.t2=e.catch(25),console.error(e.t2);case 37:if(!m.errorMessage){e.next=41;break}a.setState({errorMessage:m.errorMessage}),e.next=77;break;case 41:if(!m.spreadsheet||o){e.next=45;break}a.setState({pasteDialog:{data:m.spreadsheet,shown:!0}}),e.next=77;break;case 45:if(!m.elements){e.next=50;break}x=m.programmaticAPI?tp(m.elements):m.elements,a.addElementsFromPasteOrLibrary({elements:x,files:m.files||null,position:"cursor",retainSeed:o}),e.next=77;break;case 50:if(!m.text){e.next=77;break}if(!m.text||!Pp(m.text)){e.next=69;break}return e.next=54,Promise.all([n.e(4223),n.e(8064)]).then(n.bind(n,8064));case 54:return w=e.sent,e.prev=55,e.next=58,w.parseMermaidToExcalidraw(m.text);case 58:return A=e.sent,E=A.elements,k=A.files,S=tp(E,{regenerateIds:!0}),a.addElementsFromPasteOrLibrary({elements:S,files:k,position:"cursor"}),e.abrupt("return");case 66:e.prev=66,e.t3=e.catch(55),console.warn("parsing pasted text as mermaid definition failed: ".concat(e.t3.message));case 69:if(M=(0,b.Rb)(m.text).split(/\n+/).map((function(e){return e.trim()})).filter(Boolean),C=M.map((function(e){return(0,b._g)(e)})).filter((function(e){var t;return(0,b.$g)(e,a.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(e)||"video"===(null===(t=(0,b.Zg)(e))||void 0===t?void 0:t.type))})),fv||!(C.length>0)||C.length!==M.length){e.next=76;break}j=[],I=(0,U.A)(C);try{for(I.s();!(D=I.n()).done;)T=D.value,_=j[j.length-1],(L=a.insertEmbeddableElement({sceneX:_?_.x+_.width+20:f,sceneY:h,link:(0,b.Xc)(T)}))&&j.push(L)}catch(l){I.e(l)}finally{I.f()}return j.length&&a.setState({selectedElementIds:Object.fromEntries(j.map((function(e){return[e.id,!0]})))}),e.abrupt("return");case 76:a.addTextFromPaste(m.text,o);case 77:a.setActiveTool({type:"selection"}),null===t||void 0===t||t.preventDefault();case 78:case"end":return e.stop()}}),e,null,[[25,34],[55,66]])})));return function(t){return e.apply(this,arguments)}}())),(0,A.d)(a,"addElementsFromPasteOrLibrary",(function(e){var t,n,r=(0,b.jh)(e.elements,null,void 0),i=(0,b.bj)(r),o=(0,c.A)(i,4),l=o[0],s=o[1],d=o[2],u=o[3],f=(0,b.ib)(l,d)/2,h=(0,b.ib)(s,u)/2,p="object"==typeof e.position?e.position.clientX:"cursor"===e.position?a.lastViewportPosition.x:a.state.width/2+a.state.offsetLeft,U="object"==typeof e.position?e.position.clientY:"cursor"===e.position?a.lastViewportPosition.y:a.state.height/2+a.state.offsetTop,m=(0,b.lb)({clientX:p,clientY:U},a.state),y=m.x,x=m.y,w=y-f,A=x-h,E=(0,b.oj)(w,A,a.getEffectiveGridSize()),k=(0,c.A)(E,2),S=k[0],M=k[1],C=(0,b.dg)(r.map((function(e){return(0,b.Qj)(e,{x:e.x+S-l,y:e.y+M-s})})),{randomizeSeed:!e.retainSeed}),j=a.scene.getElementsIncludingDeleted(),I=[].concat((0,g.A)(j),(0,g.A)(C));I=(null===(t=(n=a.props).onDuplicate)||void 0===t?void 0:t.call(n,I,j))||I,(0,b.Mj)(I,(0,b.xb)(C));var D=a.getTopLayerFrameAtSceneCoords({x:y,y:x});if(D){var T=(0,b.Hi)(C,D);(0,b.Ii)(I,T,D,a.state)}a.scene.replaceAllElements(I),C.forEach((function(e){if((0,b._b)(e)&&(0,b.nc)(e)){var t=(0,b.Aj)(e,a.scene.getElementsMapIncludingDeleted());(0,b.uj)(e,t,a.scene.getElementsMapIncludingDeleted())}})),b.o&&b.Qf.loadElementsFonts(C).then((function(e){a.fonts.onLoaded(e)})),e.files&&a.addMissingFiles(e.files),a.store.shouldCaptureIncrement();var _=(0,b.rk)(C);a.setState((0,v.A)((0,v.A)({},a.state),{},{openSidebar:a.state.openSidebar&&a.device.editor.canFitSidebar&&Ci.get($u)?a.state.openSidebar:null},(0,b.Jc)({editingGroupId:null,selectedElementIds:_.reduce((function(e,t){return(0,b.nc)(t)||(e[t.id]=!0),e}),{})},a.scene.getNonDeletedElements(),a.state,a)),(function(){e.files&&a.addNewImagesToImageCache()})),a.setActiveTool({type:"selection"}),e.fitToContent&&a.scrollToContent(C,{fitToContent:!0,canvasOffsets:a.getEditorUIOffsets()})})),(0,A.d)(a,"setAppState",(function(e,t){a.setState(e,t)})),(0,A.d)(a,"removePointer",(function(e){cv&&a.resetContextMenuTimer(),Uv.pointers.delete(e.pointerId)})),(0,A.d)(a,"toggleLock",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ui";a.state.activeTool.locked||vo("toolbar","toggleLock","".concat(e," (").concat(a.device.editor.isMobile?"mobile":"desktop",")")),a.setState((function(e){return{activeTool:(0,v.A)((0,v.A)((0,v.A)({},e.activeTool),(0,b.jb)(a.state,e.activeTool.locked?{type:"selection"}:e.activeTool)),{},{locked:!e.activeTool.locked})}}))})),(0,A.d)(a,"updateFrameRendering",(function(e){a.setState((function(t){var n,r,a,i,o="function"==typeof e?e(t.frameRendering):e;return{frameRendering:{enabled:null!==(n=null===o||void 0===o?void 0:o.enabled)&&void 0!==n?n:t.frameRendering.enabled,clip:null!==(r=null===o||void 0===o?void 0:o.clip)&&void 0!==r?r:t.frameRendering.clip,name:null!==(a=null===o||void 0===o?void 0:o.name)&&void 0!==a?a:t.frameRendering.name,outline:null!==(i=null===o||void 0===o?void 0:o.outline)&&void 0!==i?i:t.frameRendering.outline}}}))})),(0,A.d)(a,"togglePenMode",(function(e){a.setState((function(t){return{penMode:null!==e&&void 0!==e?e:!t.penMode,penDetected:!0}}))})),(0,A.d)(a,"onHandToolToggle",(function(){a.actionManager.executeAction(Fl)})),(0,A.d)(a,"zoomCanvas",(function(e){a.setState((0,v.A)({},Ml({viewportX:a.state.width/2+a.state.offsetLeft,viewportY:a.state.height/2+a.state.offsetTop,nextZoom:(0,b.Ak)(e)},a.state)))})),(0,A.d)(a,"cancelInProgressAnimation",null),(0,A.d)(a,"scrollToContent",(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.scene.getNonDeletedElements(),r=arguments.length>1?arguments[1]:void 0;if("string"!=typeof n){null===(e=(t=a).cancelInProgressAnimation)||void 0===e||e.call(t);var i=Array.isArray(n)?n:[n],o=a.state.zoom,l=a.state.scrollX,s=a.state.scrollY;if(null!==r&&void 0!==r&&r.fitToContent||null!==r&&void 0!==r&&r.fitToViewport){var c=Pl({canvasOffsets:r.canvasOffsets,targetElements:i,appState:a.state,fitToViewport:!(null===r||void 0===r||!r.fitToViewport),viewportZoomFactor:null===r||void 0===r?void 0:r.viewportZoomFactor,minZoom:null===r||void 0===r?void 0:r.minZoom,maxZoom:null===r||void 0===r?void 0:r.maxZoom}).appState;o=c.zoom,l=c.scrollX,s=c.scrollY}else{var d=(0,b.zk)(i,a.state);l=d.scrollX,s=d.scrollY}if(null!==r&&void 0!==r&&r.animate){var u,f=a.state.scrollX,h=a.state.scrollY,p=a.state.zoom.value,v=(0,b.gb)({fromValues:{scrollX:f,scrollY:h,zoom:p},toValues:{scrollX:l,scrollY:s,zoom:o.value},interpolateValue:function(e,t,n,r){if("zoom"===r)return e*Math.pow(t/e,(0,b.fb)(n))},onStep:function(e){var t=e.scrollX,n=e.scrollY,r=e.zoom;a.setState({scrollX:t,scrollY:n,zoom:{value:r}})},onStart:function(){a.setState({shouldCacheIgnoreZoom:!0})},onEnd:function(){a.setState({shouldCacheIgnoreZoom:!1})},onCancel:function(){a.setState({shouldCacheIgnoreZoom:!1})},duration:null!==(u=null===r||void 0===r?void 0:r.duration)&&void 0!==u?u:500});a.cancelInProgressAnimation=function(){v(),a.cancelInProgressAnimation=null}}else a.setState({scrollX:l,scrollY:s,zoom:o})}else{var U;if(U=(0,b.$h)(n)?(0,b.ai)(n):n){var m,g,y=a.scene.getElementsFromId(U);null!==y&&void 0!==y&&y.length?a.scrollToContent(y,{fitToContent:null===(m=null===r||void 0===r?void 0:r.fitToContent)||void 0===m||m,animate:null===(g=null===r||void 0===r?void 0:r.animate)||void 0===g||g}):(0,b.$h)(n)&&a.setState({toast:{message:Fi("elementLink.notFound"),duration:3e3,closable:!0}})}}})),(0,A.d)(a,"maybeUnfollowRemoteUser",(function(){a.state.userToFollow&&a.setState({userToFollow:null})})),(0,A.d)(a,"translateCanvas",(function(e){var t,n;null!==(t=(n=a).cancelInProgressAnimation)&&void 0!==t&&t.call(n),a.maybeUnfollowRemoteUser(),a.setState(e)})),(0,A.d)(a,"setToast",(function(e){a.setState({toast:e})})),(0,A.d)(a,"restoreFileFromShare",(0,s.A)((0,l.A)().mark((function e(){var t,n,r,i;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,caches.open("web-share-target");case 3:return t=e.sent,e.next=6,t.match("shared-file");case 6:if(!(n=e.sent)){e.next=16;break}return e.next=10,n.blob();case 10:return r=e.sent,i=new File([r],r.name||"",{type:r.type}),a.loadFileToCanvas(i,null),e.next=15,t.delete("shared-file");case 15:window.history.replaceState(null,b.s,window.location.pathname);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),a.setState({errorMessage:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))),(0,A.d)(a,"addFiles",np((function(e){var t=a.addMissingFiles(e).addedFiles;a.clearImageShapeCache(t),a.scene.triggerUpdate(),a.addNewImagesToImageCache()}))),(0,A.d)(a,"addMissingFiles",(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{}:(0,v.A)({},a.files),r={},i=Array.isArray(e)?e:Object.values(e),o=(0,U.A)(i);try{for(o.s();!(t=o.n()).done;){var l=t.value;if(!n[l.id]&&(r[l.id]=l,n[l.id]=l,l.mimeType===b.T.svg))try{var s,c=(0,b.Bh)((0,b.Rh)((0,b.Dh)(l.dataURL)),b.T.svg);l.dataURL!==c&&(l.version=(null!==(s=l.version)&&void 0!==s?s:1)+1,l.dataURL=c)}catch(k){console.error(k)}}}catch(d){o.e(d)}finally{o.f()}return a.files=n,{addedFiles:r}})),(0,A.d)(a,"updateScene",np((function(e){var t,n=(0,b.Nj)(null!==(t=e.elements)&&void 0!==t?t:[]);if(e.captureUpdate&&e.captureUpdate!==b.Wg.EVENTUALLY){var r=a.store.snapshot.appState,i=a.store.snapshot.elements,o=e.appState?Object.assign({},r,e.appState):r,l=e.elements?a.store.filterUncomittedElements(a.scene.getElementsMapIncludingDeleted(),(0,b.xb)(n)):i;e.captureUpdate===b.Wg.IMMEDIATELY?a.store.captureIncrement(l,o):e.captureUpdate===b.Wg.NEVER&&a.store.updateSnapshot(l,o)}e.appState&&a.setState(e.appState),e.elements&&a.scene.replaceAllElements(n),e.collaborators&&a.setState({collaborators:e.collaborators})}))),(0,A.d)(a,"triggerRender",(function(e){!0===e?a.scene.triggerUpdate():a.setState({})})),(0,A.d)(a,"toggleSidebar",(function(e){var t,n,r,i=e.name,o=e.tab,l=e.force,s=(r=void 0===l?(null===(t=a.state.openSidebar)||void 0===t?void 0:t.name)===i&&(null===(n=a.state.openSidebar)||void 0===n?void 0:n.tab)===o?null:i:l?i:null)?{name:r}:null;return s&&o&&(s.tab=o),a.setState({openSidebar:s}),!!r})),(0,A.d)(a,"updateCurrentCursorPosition",np((function(e){a.lastViewportPosition.x=e.clientX,a.lastViewportPosition.y=e.clientY}))),(0,A.d)(a,"getEditorUIOffsets",(function(){var e,t,n,r,i,o,l,s,c=null!==(e=null===(t=a.excalidrawContainerRef)||void 0===t||null===(t=t.current)||void 0===t||null===(t=t.querySelector(".App-toolbar"))||void 0===t||null===(t=t.getBoundingClientRect())||void 0===t?void 0:t.bottom)&&void 0!==e?e:0,d=null===(n=a.excalidrawContainerRef)||void 0===n||null===(n=n.current)||void 0===n||null===(n=n.querySelector(".sidebar"))||void 0===n?void 0:n.getBoundingClientRect(),u=null===(r=a.excalidrawContainerRef)||void 0===r||null===(r=r.current)||void 0===r||null===(r=r.querySelector(".App-menu__left"))||void 0===r?void 0:r.getBoundingClientRect(),f=16;return Pi().rtl?{top:c+f,right:Math.max(a.state.width-(null!==(i=null===u||void 0===u?void 0:u.left)&&void 0!==i?i:a.state.width),0)+f,bottom:f,left:Math.max(null!==(o=null===d||void 0===d?void 0:d.right)&&void 0!==o?o:0,0)+f}:{top:c+f,right:Math.max(a.state.width-(null!==(l=null===d||void 0===d?void 0:d.left)&&void 0!==l?l:a.state.width)+f,0),bottom:f,left:Math.max(null!==(s=null===u||void 0===u?void 0:u.right)&&void 0!==s?s:0,0)+f}})),(0,A.d)(a,"onKeyDown",np((function(e){var t;if("Proxy"in window&&(!e.shiftKey&&/^[A-Z]$/.test(e.key)||e.shiftKey&&/^[a-z]$/.test(e.key))&&(e=new Proxy(e,{get:function(t,n){var r=t[n];return"function"==typeof r?r.bind(t):"key"===n?e.shiftKey?t.key.toUpperCase():t.key.toLowerCase():r}})),!(0,b._a)(e.target)){if((e.key===b.hg.ESCAPE||e.key===b.hg.ENTER)&&a.state.croppingElementId)return void a.finishImageCropping();var n=(0,b.vk)(a.scene.getNonDeletedElementsMap(),a.state);if(1===n.length&&(0,b.Wb)(n[0])&&e.key===b.hg.ENTER)return void a.startImageCropping(n[0]);if(e.key===b.hg.ESCAPE&&a.flowChartCreator.isCreatingChart)return a.flowChartCreator.clear(),void a.triggerRender(!0);var r=(0,b.jg)(e.key);if(e[b.hg.CTRL_OR_CMD]&&r&&!e.shiftKey){var i;e.preventDefault();var o=(0,b.vk)(a.scene.getNonDeletedElementsMap(),a.state);return 1===o.length&&(0,b.lc)(o[0])&&a.flowChartCreator.createNodes(o[0],a.scene.getNonDeletedElementsMap(),a.state,lu(e.key)),void((null===(i=a.flowChartCreator.pendingNodes)||void 0===i?void 0:i.length)&&!(0,b.Uj)(a.flowChartCreator.pendingNodes,a.canvas.width/window.devicePixelRatio,a.canvas.height/window.devicePixelRatio,{offsetLeft:a.state.offsetLeft,offsetTop:a.state.offsetTop,scrollX:a.state.scrollX,scrollY:a.state.scrollY,zoom:a.state.zoom},a.scene.getNonDeletedElementsMap(),a.getEditorUIOffsets())&&a.scrollToContent(a.flowChartCreator.pendingNodes,{animate:!0,duration:300,fitToContent:!0,canvasOffsets:a.getEditorUIOffsets()}))}if(e.altKey){var l=(0,b.vk)(a.scene.getNonDeletedElementsMap(),a.state);if(1===l.length&&r){e.preventDefault();var s=a.flowChartNavigator.exploreByDirection(l[0],a.scene.getNonDeletedElementsMap(),lu(e.key));if(s){a.setState((function(e){return{selectedElementIds:(0,b.xk)((0,p.default)({},s,!0),e)}}));var c=a.scene.getNonDeletedElementsMap().get(s);c&&!(0,b.Uj)([c],a.canvas.width/window.devicePixelRatio,a.canvas.height/window.devicePixelRatio,{offsetLeft:a.state.offsetLeft,offsetTop:a.state.offsetTop,scrollX:a.state.scrollX,scrollY:a.state.scrollY,zoom:a.state.zoom},a.scene.getNonDeletedElementsMap(),a.getEditorUIOffsets())&&a.scrollToContent(c,{animate:!0,duration:300,canvasOffsets:a.getEditorUIOffsets()})}return}}}if(e[b.hg.CTRL_OR_CMD]&&e.key===b.hg.P&&!e.shiftKey&&!e.altKey)return a.setToast({message:Fi("commandPalette.shortcutHint",{shortcut:nd("commandPalette")})}),void e.preventDefault();if(e[b.hg.CTRL_OR_CMD]&&e.key.toLowerCase()===b.hg.V&&(fv=e.shiftKey,clearTimeout(hv),hv=window.setTimeout((function(){fv=!1}),100)),!e[b.hg.CTRL_OR_CMD]||!(0,b.ab)(e.target)||e.code!==b.gg.MINUS&&e.code!==b.gg.EQUAL){if(!((0,b.ab)(e.target)&&e.key!==b.hg.ESCAPE||(0,b.jg)(e.key)&&(0,b._a)(e.target)))if(e.key!==b.hg.QUESTION_MARK){if(e.key.toLowerCase()===b.hg.E&&e.shiftKey&&e[b.hg.CTRL_OR_CMD])return e.preventDefault(),void a.setState({openDialog:{name:"imageExport"}});if(e.key===b.hg.PAGE_UP||e.key===b.hg.PAGE_DOWN){var d=(e.shiftKey?a.state.width:a.state.height)/a.state.zoom.value;e.key===b.hg.PAGE_DOWN&&(d=-d),e.shiftKey?a.translateCanvas((function(e){return{scrollX:e.scrollX+d}})):a.translateCanvas((function(e){return{scrollY:e.scrollY+d}}))}if("elementLinkSelector"!==(null===(t=a.state.openDialog)||void 0===t?void 0:t.name)&&!a.actionManager.handleKeyDown(e)&&!a.state.viewModeEnabled){if(e[b.hg.CTRL_OR_CMD]&&a.state.isBindingEnabled&&a.setState({isBindingEnabled:!1}),(0,b.jg)(e.key)){var u=a.scene.getSelectedElements({selectedElementIds:a.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),f=u.find(b.ec),h=new Set;u.filter(b.ec).filter((function(e){var t=e.startBinding&&!u.some((function(t){var n;return t.id===(null===(n=e.startBinding)||void 0===n?void 0:n.elementId)})),n=e.endBinding&&!u.some((function(t){var n;return t.id===(null===(n=e.endBinding)||void 0===n?void 0:n.elementId)}));return t||n})).forEach((function(e){return h.add(e.id)})),u=u.filter((function(e){return!h.has(e.id)}));var v=a.getEffectiveGridSize()&&(e.shiftKey?b.w:a.getEffectiveGridSize())||(e.shiftKey?b.v:b.w),U=0,m=0;e.key===b.hg.ARROW_LEFT?U=-v:e.key===b.hg.ARROW_RIGHT?U=v:e.key===b.hg.ARROW_UP?m=-v:e.key===b.hg.ARROW_DOWN&&(m=v),u.forEach((function(e){(0,b.Pj)(e,{x:e.x+U,y:e.y+m},!1),(0,b.Pg)(e,a.scene.getNonDeletedElementsMap(),{simultaneouslyUpdated:u})})),a.setState({suggestedBindings:(0,b.Kg)(u.filter((function(e){return e.id!==(null===f||void 0===f?void 0:f.id)||0!==v})),a.scene.getNonDeletedElementsMap(),a.state.zoom)}),a.scene.triggerUpdate(),e.preventDefault()}else if(e.key===b.hg.ENTER){var g=a.scene.getSelectedElements(a.state);if(1===g.length){var y=g[0];if(e[b.hg.CTRL_OR_CMD])(0,b.cc)(y)&&(!a.state.editingLinearElement||a.state.editingLinearElement.elementId!==g[0].id)&&(a.store.shouldCaptureIncrement(),(0,b.ec)(y)||a.setState({editingLinearElement:new b.pj(y)}));else{if((0,b._b)(y)||(0,b.Fj)(y)){var x;(0,b._b)(y)||(x=y);var w=(0,b.Bj)(y,a.state,a.scene.getNonDeletedElementsMap()),A=w.x,E=w.y;return a.startTextEditing({sceneX:A,sceneY:E,container:x}),void e.preventDefault()}(0,b.bc)(y)&&a.setState({editingFrame:y.id})}}}else if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&!a.state.newElement&&!a.state.selectionElement&&!a.state.selectedElementsAreBeingDragged){var k=(0,b.sg)(e.key);k?(a.state.activeTool.type!==k&&vo("toolbar",k,"keyboard (".concat(a.device.editor.isMobile?"mobile":"desktop",")")),"arrow"===k&&"arrow"===a.state.activeTool.type&&a.setState((function(e){return{currentItemArrowType:e.currentItemArrowType===b.Fa.sharp?b.Fa.round:e.currentItemArrowType===b.Fa.round?b.Fa.elbow:b.Fa.sharp}})),a.setActiveTool({type:k}),e.stopPropagation()):e.key===b.hg.Q&&(a.toggleLock("keyboard"),e.stopPropagation())}if(e.key===b.hg.SPACE&&0===Uv.pointers.size&&(iv=!0,(0,b.bd)(a.interactiveCanvas,b.z.GRAB),e.preventDefault()),(e.key===b.hg.G||e.key===b.hg.S)&&!e.altKey&&!e[b.hg.CTRL_OR_CMD]){var S=a.scene.getSelectedElements(a.state);if("selection"===a.state.activeTool.type&&!S.length)return;e.key===b.hg.G&&((0,b.Vi)(a.state.activeTool.type)||S.some((function(e){return(0,b.Vi)(e.type)})))&&(a.setState({openPopup:"elementBackground"}),e.stopPropagation()),e.key===b.hg.S&&(a.setState({openPopup:"elementStroke"}),e.stopPropagation())}if(!e[b.hg.CTRL_OR_CMD]&&e.shiftKey&&e.key.toLowerCase()===b.hg.F){var M=a.scene.getSelectedElements(a.state);if("selection"===a.state.activeTool.type&&!M.length)return;("text"===a.state.activeTool.type||M.find((function(e){return(0,b._b)(e)||(0,b.zj)(e,a.scene.getNonDeletedElementsMap())})))&&(e.preventDefault(),a.setState({openPopup:"fontFamily"}))}if(e.key!==b.hg.K||e.altKey||e[b.hg.CTRL_OR_CMD]){e[b.hg.CTRL_OR_CMD]&&(e.key===b.hg.BACKSPACE||e.key===b.hg.DELETE)&&Ci.set(yd,"clearCanvas");var C=e.key.toLocaleLowerCase(),j=C===b.hg.S&&e.shiftKey,I=e.key===b.hg.I||C===b.hg.G&&e.shiftKey;(j||I)&&a.openEyeDropper({type:j?"stroke":"background"})}else"laser"===a.state.activeTool.type?a.setActiveTool({type:"selection"}):a.setActiveTool({type:"laser"})}}else a.setState({openDialog:{name:"help"}})}else e.preventDefault()}))),(0,A.d)(a,"onKeyUp",np((function(e){var t,n,r;if(e.key===b.hg.SPACE&&(a.state.viewModeEnabled||"elementLinkSelector"===(null===(t=a.state.openDialog)||void 0===t?void 0:t.name)?(0,b.bd)(a.interactiveCanvas,b.z.GRAB):"selection"===a.state.activeTool.type?(0,b.ad)(a.interactiveCanvas):((0,b.dd)(a.interactiveCanvas,a.state),a.setState({selectedElementIds:(0,b.xk)({},a.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})),iv=!1),!e[b.hg.CTRL_OR_CMD]&&!a.state.isBindingEnabled&&a.setState({isBindingEnabled:!0}),(0,b.jg)(e.key)&&((0,b.Jg)(a.scene.getSelectedElements(a.state).filter(b.cc),a.scene.getNonDeletedElementsMap(),a.scene.getNonDeletedElements(),a.scene,(0,b.Fg)(a.state),null!==(n=null===(r=a.state.selectedLinearElement)||void 0===r?void 0:r.selectedPointsIndices)&&void 0!==n?n:[],a.state.zoom),a.setState({suggestedBindings:[]})),e.altKey||a.flowChartNavigator.isExploring&&(a.flowChartNavigator.clear(),a.syncActionResult({captureUpdate:b.Wg.IMMEDIATELY})),!e[b.hg.CTRL_OR_CMD]&&a.flowChartCreator.isCreatingChart){var i,o;(null===(i=a.flowChartCreator.pendingNodes)||void 0===i?void 0:i.length)&&a.scene.insertElements(a.flowChartCreator.pendingNodes);var l=null===(o=a.flowChartCreator.pendingNodes)||void 0===o?void 0:o[0];l&&(a.setState((function(e){return{selectedElementIds:(0,b.xk)((0,p.default)({},l.id,!0),e)}})),(0,b.Uj)([l],a.canvas.width/window.devicePixelRatio,a.canvas.height/window.devicePixelRatio,{offsetLeft:a.state.offsetLeft,offsetTop:a.state.offsetTop,scrollX:a.state.scrollX,scrollY:a.state.scrollY,zoom:a.state.zoom},a.scene.getNonDeletedElementsMap(),a.getEditorUIOffsets())||a.scrollToContent(l,{animate:!0,duration:300,canvasOffsets:a.getEditorUIOffsets()})),a.flowChartCreator.clear(),a.syncActionResult({captureUpdate:b.Wg.IMMEDIATELY})}}))),(0,A.d)(a,"isToolSupported",(function(e){var t;return!1!==(null===(t=a.props.UIOptions.tools)||void 0===t?void 0:t[e])})),(0,A.d)(a,"setActiveTool",(function(e){var t;if(a.isToolSupported(e.type)){var n=(0,b.jb)(a.state,e);"hand"===n.type?(0,b.bd)(a.interactiveCanvas,b.z.GRAB):iv||(0,b.dd)(a.interactiveCanvas,(0,v.A)((0,v.A)({},a.state),{},{activeTool:n})),(0,b.Za)(document.activeElement)&&a.focusContainer(),(0,b.fc)(n.type)||a.setState({suggestedBindings:[]}),"image"===n.type&&a.onImageAction({insertOnCanvasDirectly:null!==(t="image"===e.type&&e.insertOnCanvasDirectly)&&void 0!==t&&t}),a.setState((function(e){var t={snapLines:e.snapLines.length?[]:e.snapLines,originSnapOffset:null,activeEmbeddable:null};return"freedraw"===n.type&&a.store.shouldCaptureIncrement(),"selection"!==n.type?(0,v.A)((0,v.A)({},e),{},{activeTool:n,selectedElementIds:(0,b.xk)({},e),selectedGroupIds:(0,b.xk)({},e),editingGroupId:null,multiElement:null},t):(0,v.A)((0,v.A)({},e),{},{activeTool:n},t)}))}else console.warn('"'.concat(e.type,'" tool is disabled via "UIOptions.canvasActions.tools.').concat(e.type,'"'))})),(0,A.d)(a,"setOpenDialog",(function(e){a.setState({openDialog:e})})),(0,A.d)(a,"setCursor",(function(e){(0,b.bd)(a.interactiveCanvas,e)})),(0,A.d)(a,"resetCursor",(function(){(0,b.ad)(a.interactiveCanvas)})),(0,A.d)(a,"isTouchScreenMultiTouchGesture",(function(){return Uv.pointers.size>=2})),(0,A.d)(a,"getName",(function(){return a.state.name||a.props.name||"".concat(Fi("labels.untitled"),"-").concat((0,b.Xa)())})),(0,A.d)(a,"onGestureStart",np((function(e){e.preventDefault(),a.isTouchScreenMultiTouchGesture()&&a.setState({selectedElementIds:(0,b.xk)({},a.state),activeEmbeddable:null}),Uv.initialScale=a.state.zoom.value}))),(0,A.d)(a,"onGestureChange",np((function(e){if(e.preventDefault(),!a.isTouchScreenMultiTouchGesture()){var t=Uv.initialScale;t&&a.setState((function(n){return(0,v.A)({},Ml({viewportX:a.lastViewportPosition.x,viewportY:a.lastViewportPosition.y,nextZoom:(0,b.Ak)(t*e.scale)},n))}))}}))),(0,A.d)(a,"onGestureEnd",np((function(e){e.preventDefault(),a.isTouchScreenMultiTouchGesture()&&a.setState({previousSelectedElementIds:{},selectedElementIds:(0,b.xk)(a.state.previousSelectedElementIds,a.state)}),Uv.initialScale=null}))),(0,A.d)(a,"startTextEditing",(function(e){var t,n,r,i,o=e.sceneX,l=e.sceneY,s=e.insertAtParentCenter,c=void 0===s||s,d=e.container,u=e.autoEdit,f=void 0===u||u,h=!1,p=c&&a.getTextWysiwygSnappedToCenterPosition(o,l,a.state,d);d&&p&&((0,b.zj)(d,a.scene.getNonDeletedElementsMap())||(h=!0));var v=null,U=a.scene.getSelectedElements(a.state),m=(null===(t=v=1===U.length?(0,b._b)(U[0])?U[0]:d?(0,b.zj)(U[0],a.scene.getNonDeletedElementsMap()):a.getTextElementAtPosition(o,l):a.getTextElementAtPosition(o,l))||void 0===t?void 0:t.fontFamily)||a.state.currentItemFontFamily,g=(null===(n=v)||void 0===n?void 0:n.lineHeight)||(0,b.Rf)(m),y=a.state.currentItemFontSize;if(!v&&h&&d&&!(0,b.dc)(d)){var x=(0,b.wc)((0,b.cb)({fontSize:y,fontFamily:m}),g),w=(0,b.Bc)(y,g),A=Math.max(d.height,w),E=Math.max(d.width,x);(0,b.Pj)(d,{height:A,width:E}),o=d.x+E/2,l=d.y+A/2,p&&(p=a.getTextWysiwygSnappedToCenterPosition(o,l,a.state,d))}var k=a.getTopLayerFrameAtSceneCoords({x:o,y:l}),S=v||(0,b.Xf)({x:p?p.elementCenterX:o,y:p?p.elementCenterY:l,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,text:"",fontSize:y,fontFamily:m,textAlign:p?"center":a.state.currentItemTextAlign,verticalAlign:p?b.sa.MIDDLE:b.L,containerId:h?null===d||void 0===d?void 0:d.id:void 0,groupIds:null!==(r=null===d||void 0===d?void 0:d.groupIds)&&void 0!==r?r:[],lineHeight:g,angle:null!==(i=null===d||void 0===d?void 0:d.angle)&&void 0!==i?i:0,frameId:k?k.id:null});if(!v&&h&&d&&(0,b.Pj)(d,{boundElements:(d.boundElements||[]).concat({type:"text",id:S.id})}),a.setState({editingTextElement:S}),!v)if(d&&h){var M=a.scene.getElementIndex(d.id);a.scene.insertElementAtIndex(S,M+1)}else a.scene.insertElement(S);f||v||d?a.handleTextWysiwyg(S,{isExistingElement:!!v}):a.setState({newElement:S,multiElement:null})})),(0,A.d)(a,"startImageCropping",(function(e){a.store.shouldCaptureIncrement(),a.setState({croppingElementId:e.id})})),(0,A.d)(a,"finishImageCropping",(function(){a.state.croppingElementId&&(a.store.shouldCaptureIncrement(),a.setState({croppingElementId:null}))})),(0,A.d)(a,"handleCanvasDoubleClick",(function(e){if(!a.state.multiElement&&"selection"===a.state.activeTool.type){var t=a.scene.getSelectedElements(a.state),n=(0,b.lb)(e,a.state),r=n.x,i=n.y;if(1===t.length&&(0,b.cc)(t[0])){if(!(!e[b.hg.CTRL_OR_CMD]||a.state.editingLinearElement&&a.state.editingLinearElement.elementId===t[0].id||(0,b.ec)(t[0])))return a.store.shouldCaptureIncrement(),void a.setState({editingLinearElement:new b.pj(t[0])});if(a.state.selectedLinearElement&&(0,b.ec)(t[0])){var o=b.pj.getSegmentMidpointHitCoords(a.state.selectedLinearElement,{x:r,y:i},a.state,a.scene.getNonDeletedElementsMap()),l=o?b.pj.getSegmentMidPointIndex(a.state.selectedLinearElement,a.state,o,a.scene.getNonDeletedElementsMap()):-1;if(l&&l>-1){a.store.shouldCaptureIncrement(),b.pj.deleteFixedSegment(t[0],l);var s=b.pj.getSegmentMidpointHitCoords((0,v.A)((0,v.A)({},a.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:null}),{x:r,y:i},a.state,a.scene.getNonDeletedElementsMap()),c=s?b.pj.getSegmentMidPointIndex(a.state.selectedLinearElement,a.state,s,a.scene.getNonDeletedElementsMap()):null;return void a.setState({selectedLinearElement:(0,v.A)((0,v.A)({},a.state.selectedLinearElement),{},{pointerDownState:(0,v.A)((0,v.A)({},a.state.selectedLinearElement.pointerDownState),{},{segmentMidpoint:{index:c,value:o,added:!1}}),segmentMidPointHoveredCoords:s})})}}}if(1===t.length&&(0,b.Wb)(t[0]))a.startImageCropping(t[0]);else{if((0,b.ad)(a.interactiveCanvas),(0,b.Mc)(a.state).length>0){var d=a.getElementAtPosition(r,i),u=d&&(0,b.Rc)(d,a.state.selectedGroupIds);if(u)return a.store.shouldCaptureIncrement(),void a.setState((function(e){return(0,v.A)((0,v.A)({},e),(0,b.Jc)({editingGroupId:u,selectedElementIds:(0,p.default)({},d.id,!0)},a.scene.getNonDeletedElements(),e,a))}))}if((0,b.ad)(a.interactiveCanvas),!e[b.hg.CTRL_OR_CMD]&&!a.state.viewModeEnabled){var f=a.getElementAtPosition(r,i);if((0,b.Zb)(f))return void a.setState({activeEmbeddable:{element:f,state:"active"}});var h=a.getTextBindableContainerAtPosition(r,i);if(h&&((0,b.mc)(h)||!(0,b.sb)(h.backgroundColor)||(0,b.ng)({x:r,y:i,element:h,shape:(0,b.tg)(h,a.scene.getNonDeletedElementsMap()),threshold:a.getElementHitThreshold()}))){var U=(0,b.Bj)(h,a.state,a.scene.getNonDeletedElementsMap());r=U.x,i=U.y}a.startTextEditing({sceneX:r,sceneY:i,insertAtParentCenter:!e.altKey,container:h})}}}})),(0,A.d)(a,"getElementLinkAtPosition",(function(e,t){for(var n=a.scene.getNonDeletedElements(),r=-1,i=n.length-1;i>=0;i--){var o=n[i];if(t&&o.id===t.id&&(r=i),o.link&&i>=r&&(0,b.Uh)(o,a.scene.getNonDeletedElementsMap(),a.state,(0,b.Ua)(e.x,e.y),a.device.editor.isMobile))return o}})),(0,A.d)(a,"redirectToLink",(function(e,t){var n=(0,b.Wa)((0,b.Ua)(a.lastPointerDownEvent.clientX,a.lastPointerDownEvent.clientY),(0,b.Ua)(a.lastPointerUpEvent.clientX,a.lastPointerUpEvent.clientY));if(a.hitLinkElement&&!(n>b.t)){var r=(0,b.lb)(a.lastPointerDownEvent,a.state),i=a.scene.getNonDeletedElementsMap(),o=(0,b.Uh)(a.hitLinkElement,i,a.state,(0,b.Ua)(r.x,r.y),a.device.editor.isMobile),l=(0,b.lb)(a.lastPointerUpEvent,a.state),s=(0,b.Uh)(a.hitLinkElement,i,a.state,(0,b.Ua)(l.x,l.y),a.device.editor.isMobile);if(o&&s){Hs();var c,d,u=a.hitLinkElement.link;if(u)if(u=(0,b.Xc)(u),a.props.onLinkOpen&&(d=(0,b.Cb)("excalidraw-link",e.nativeEvent),a.props.onLinkOpen((0,v.A)((0,v.A)({},a.hitLinkElement),{},{link:u}),d)),null===(c=d)||void 0===c||!c.defaultPrevented){var f=(0,b.Yc)(u)?"_self":"_blank",h=window.open(void 0,f);h&&(h.opener=null,h.location=u)}}}})),(0,A.d)(a,"getTopLayerFrameAtSceneCoords",(function(e){var t=a.scene.getNonDeletedElementsMap(),n=a.scene.getNonDeletedFramesLikes().filter((function(n){return(0,b.zi)(e,n,t)}));return n.length?n[n.length-1]:null})),(0,A.d)(a,"handleCanvasPointerMove",(function(e){var t,n,r,i,o;a.savePointer(e.clientX,e.clientY,a.state.cursorButton),a.lastPointerMoveEvent=e.nativeEvent,Uv.pointers.has(e.pointerId)&&Uv.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY});var l=Uv.initialScale;if(2===Uv.pointers.size&&Uv.lastCenter&&l&&Uv.initialDistance){var s=Wd(Uv.pointers),d=s.x-Uv.lastCenter.x,u=s.y-Uv.lastCenter.y;Uv.lastCenter=s;var f=Xd(Array.from(Uv.pointers.values())),h="freedraw"===a.state.activeTool.type&&a.state.penMode?1:f/Uv.initialDistance,v=h?(0,b.Ak)(l*h):a.state.zoom.value;a.setState((function(e){var t=Ml({viewportX:s.x,viewportY:s.y,nextZoom:v},e);a.translateCanvas({zoom:t.zoom,scrollX:t.scrollX+d/v*2,scrollY:t.scrollY+u/v*2,shouldCacheIgnoreZoom:!0})})),a.resetShouldCacheIgnoreZoomDebounced()}else Uv.lastCenter=Uv.initialDistance=Uv.initialScale=null;if(!(iv||ov||lv||(0,b.Hc)(a.state))){var U=yu(sv,e.clientX-a.state.offsetLeft,e.clientY-a.state.offsetTop).isOverEither;!a.state.newElement&&!a.state.selectionElement&&!a.state.selectedElementsAreBeingDragged&&!a.state.multiElement&&(U?(0,b.ad)(a.interactiveCanvas):(0,b.dd)(a.interactiveCanvas,a.state));var m=(0,b.lb)(e,a.state),y=m.x,x=m.y;if(!a.state.newElement&&(0,b.nj)(a.state.activeTool.type)){var w=(0,b.mj)(a.scene.getNonDeletedElements(),a,{x:y,y:x},e,a.scene.getNonDeletedElementsMap()),A=w.originOffset,E=w.snapLines;a.setState((function(e){var t=(0,b.Ob)(e.snapLines,E),n=e.originSnapOffset?(0,b.Ob)(e.originSnapOffset,A):A;return e.snapLines===t&&e.originSnapOffset===n?null:{snapLines:t,originSnapOffset:n}}))}else!a.state.newElement&&!a.state.selectedElementsAreBeingDragged&&!a.state.selectionElement&&a.setState((function(e){return e.snapLines.length?{snapLines:[]}:null}));if(a.state.editingLinearElement&&!a.state.editingLinearElement.isDragging){var k=b.pj.handlePointerMove(e,y,x,a,a.scene.getNonDeletedElementsMap());k&&k!==a.state.editingLinearElement&&(0,se.flushSync)((function(){a.setState({editingLinearElement:k})})),null!=(null===k||void 0===k?void 0:k.lastUncommittedPoint)?a.maybeSuggestBindingAtCursor(m,k.elbowed):(0,se.flushSync)((function(){a.setState({suggestedBindings:[]})}))}if((0,b.hc)(a.state.activeTool.type)){var S=a.state.newElement;(0,b.gc)(S,!1)?a.maybeSuggestBindingsForLinearElementAtCoords(S,[m],a.state.startBoundElement):a.maybeSuggestBindingAtCursor(m,!1)}if(a.state.multiElement){var M=a.state.multiElement,C=M.x,j=M.y,I=M.points,D=M.lastCommittedPoint,T=I[I.length-1];if((0,b.dd)(a.interactiveCanvas,a.state),T===D)(0,b.Wa)((0,b.Ua)(y-C,x-j),T)>=b.u?(0,b.Pj)(M,{points:[].concat((0,g.A)(I),[(0,b.Ua)(y-C,x-j)])},!1):(0,b.bd)(a.interactiveCanvas,b.z.POINTER);else if(I.length>2&&D&&(0,b.Wa)((0,b.Ua)(y-C,x-j),D)<b.u)(0,b.bd)(a.interactiveCanvas,b.z.POINTER),(0,b.Pj)(M,{points:I.slice(0,-1)},!1);else{var _,L,R=(0,b.oj)(y,x,e[b.hg.CTRL_OR_CMD]||(0,b.ec)(M)?null:a.getEffectiveGridSize()),P=(0,c.A)(R,2),N=P[0],F=P[1],O=null!==(_=null===M||void 0===M?void 0:M.lastCommittedPoint)&&void 0!==_?_:[0,0],z=(0,c.A)(O,2),B=z[0],H=z[1],W=N-C-B,X=F-j-H;(0,b.mg)(e)&&(W=(L=(0,b.Vj)(B+C,H+j,N,F)).width,X=L.height),(0,b.xg)(I,a.state.zoom.value)&&(0,b.bd)(a.interactiveCanvas,b.z.POINTER),(0,b.Pj)(M,{points:[].concat((0,g.A)(I.slice(0,-1)),[(0,b.Ua)(B+W,H+X)])},!1,{isDragging:!0}),a.triggerRender(!1)}}else if(!(e.buttons||"selection"!==a.state.activeTool.type&&"text"!==a.state.activeTool.type&&"eraser"!==a.state.activeTool.type)){var G,V=a.scene.getNonDeletedElements(),Y=a.scene.getSelectedElements(a.state);if(1!==Y.length||U||a.state.editingLinearElement){if(Y.length>1&&!U&&"elementLinkSelector"!==(null===(t=a.state.openDialog)||void 0===t?void 0:t.name)){var Z=(0,b.ak)((0,b.bj)(Y),y,x,a.state.zoom,e.pointerType,a.device);if(Z)return void(0,b.bd)(a.interactiveCanvas,(0,b.bk)({transformHandleType:Z}))}}else if(a.state.selectedLinearElement&&a.handleHoverSelectedLinearElement(a.state.selectedLinearElement,y,x),(!a.state.selectedLinearElement||-1===a.state.selectedLinearElement.hoverPointIndex)&&"elementLinkSelector"!==(null===(G=a.state.openDialog)||void 0===G?void 0:G.name)&&(1!==Y.length||!(0,b.ec)(Y[0]))){var K=(0,b.$j)(V,a.state,y,x,a.state.zoom,e.pointerType,a.scene.getNonDeletedElementsMap(),a.device);if(K&&K.transformHandleType)return void(0,b.bd)(a.interactiveCanvas,(0,b.bk)(K))}var q=a.getElementAtPosition(m.x,m.y);a.hitLinkElement=a.getElementLinkAtPosition(m,q),!(0,b.Gc)(a.state)&&(a.hitLinkElement&&!a.state.selectedElementIds[a.hitLinkElement.id]?((0,b.bd)(a.interactiveCanvas,b.z.POINTER),function(e,t,n){zs&&clearTimeout(zs),zs=window.setTimeout((function(){return Bs(e,t,n)}),b.ca)}(a.hitLinkElement,a.state,a.scene.getNonDeletedElementsMap())):(Hs(),q&&(q.link||(0,b.Xb)(q))&&a.state.selectedElementIds[q.id]&&!a.state.contextMenu&&!a.state.showHyperlinkPopup?a.setState({showHyperlinkPopup:"info"}):"text"===a.state.activeTool.type?(0,b.bd)(a.interactiveCanvas,(0,b._b)(q)?b.z.TEXT:b.z.CROSSHAIR):a.state.viewModeEnabled?(0,b.bd)(a.interactiveCanvas,b.z.GRAB):"elementLinkSelector"===(null===(n=a.state.openDialog)||void 0===n?void 0:n.name)||U?(0,b.bd)(a.interactiveCanvas,b.z.AUTO):a.state.selectedLinearElement?a.handleHoverSelectedLinearElement(a.state.selectedLinearElement,y,x):e[b.hg.CTRL_OR_CMD]?(0,b.bd)(a.interactiveCanvas,b.z.AUTO):(q||a.isHittingCommonBoundingBoxOfSelectedElements(m,Y))&&!(null!==q&&void 0!==q&&q.locked)&&(q&&(0,b.Zb)(q)&&a.isIframeLikeElementCenter(q,e,y,x)?((0,b.bd)(a.interactiveCanvas,b.z.POINTER),a.setState({activeEmbeddable:{element:q,state:"hover"}})):(!q||!(0,b.ec)(q))&&((0,b.bd)(a.interactiveCanvas,b.z.MOVE),"hover"===(null===(r=a.state.activeEmbeddable)||void 0===r?void 0:r.state)&&a.setState({activeEmbeddable:null})))),"elementLinkSelector"===(null===(i=a.state.openDialog)||void 0===i?void 0:i.name)&&q?a.setState((function(e){return{hoveredElementIds:(0,b.Ob)(e.hoveredElementIds,(0,b.Jc)({editingGroupId:e.editingGroupId,selectedElementIds:(0,p.default)({},q.id,!0)},a.scene.getNonDeletedElements(),e,a).selectedElementIds)}})):"elementLinkSelector"===(null===(o=a.state.openDialog)||void 0===o?void 0:o.name)&&!q&&a.setState((function(e){return{hoveredElementIds:(0,b.Ob)(e.hoveredElementIds,{})}})))}}})),(0,A.d)(a,"handleEraser",(function(e,t,n){a.eraserTrail.addPointToPath(n.x,n.y);for(var r=!1,i=new Set,o=a.scene.getNonDeletedElements(),l=function(t){var n,l=(0,U.A)(t);try{for(l.s();!(n=l.n()).done;){var s,c=n.value;if(c.locked)return;if(e.altKey?a.elementsPendingErasure.delete(c.id)&&(r=!0):a.elementsPendingErasure.has(c.id)||(r=!0,a.elementsPendingErasure.add(c.id)),r&&null!==(s=c.groupIds)&&void 0!==s&&s.length){var d=c.groupIds.at(-1);if(!i.has(d)){i.add(d);var u,f=(0,b.Qc)(o,d),h=(0,U.A)(f);try{for(h.s();!(u=h.n()).done;){var p=u.value;e.altKey?a.elementsPendingErasure.delete(p.id):a.elementsPendingErasure.add(p.id)}}catch(v){h.e(v)}finally{h.f()}}}}}catch(v){l.e(v)}finally{l.f()}},s=(0,b.Wa)((0,b.Ua)(t.lastCoords.x,t.lastCoords.y),(0,b.Ua)(n.x,n.y)),c=a.getElementHitThreshold(),d=(0,v.A)({},t.lastCoords),u=0;u<=s;){if(l(a.getElementsAtPosition(d.x,d.y)),u===s)break;var f=(u=Math.min(u+c,s))/s,h=(1-f)*d.x+f*n.x,p=(1-f)*d.y+f*n.y;d.x=h,d.y=p}if(t.lastCoords.x=n.x,t.lastCoords.y=n.y,r){var m,g=(0,U.A)(a.scene.getNonDeletedElements());try{for(g.s();!(m=g.n()).done;){var y=m.value;(0,b.nc)(y)&&(a.elementsPendingErasure.has(y.id)||a.elementsPendingErasure.has(y.containerId))&&(e.altKey?(a.elementsPendingErasure.delete(y.id),a.elementsPendingErasure.delete(y.containerId)):(a.elementsPendingErasure.add(y.id),a.elementsPendingErasure.add(y.containerId)))}}catch(x){g.e(x)}finally{g.f()}a.elementsPendingErasure=new Set(a.elementsPendingErasure),a.triggerRender()}})),(0,A.d)(a,"handleTouchMove",(function(e){dv=!0})),(0,A.d)(a,"handleCanvasPointerDown",(function(e){var t,n,r=e.target;if(r.setPointerCapture&&r.setPointerCapture(e.pointerId),a.maybeCleanupAfterMissingPointerUp(e.nativeEvent),a.maybeUnfollowRemoteUser(),a.state.searchMatches&&(a.setState((function(e){return{searchMatches:e.searchMatches.map((function(e){return(0,v.A)((0,v.A)({},e),{},{focus:!1})}))}})),Ci.set(Sf,null)),a.state.contextMenu&&a.setState({contextMenu:null}),a.state.snapLines&&a.setAppState({snapLines:[]}),a.updateGestureOnPointerDown(e),"touch"===e.pointerType&&a.state.newElement&&"freedraw"===a.state.newElement.type){var i,o=a.state.newElement;a.updateScene((0,v.A)((0,v.A)({},o.points.length<10?{elements:a.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==o.id}))}:{}),{},{appState:{newElement:null,editingTextElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:(0,b.xk)(Object.keys(a.state.selectedElementIds).filter((function(e){return e!==o.id})).reduce((function(e,t){return e[t]=a.state.selectedElementIds[t],e}),{}),a.state)},captureUpdate:"elementLinkSelector"===(null===(i=a.state.openDialog)||void 0===i?void 0:i.name)?b.Wg.EVENTUALLY:b.Wg.NEVER}))}else{var l=document.getSelection();if(null!==l&&void 0!==l&&l.anchorNode&&l.removeAllRanges(),a.maybeOpenContextMenuAfterPointerDownOnTouchDevices(e),!a.state.penDetected&&"pen"===e.pointerType&&a.setState((function(e){return{penMode:!0,penDetected:!0}})),!a.device.isTouchScreen&&["pen","touch"].includes(e.pointerType)&&(a.device=(0,b.Db)(a.device,{isTouchScreen:!0})),!ov&&(a.lastPointerDownEvent=e,!a.handleCanvasPanUsingWheelOrSpaceDrag(e)))if(a.setState({lastPointerDownWith:e.pointerType,cursorButton:"down"}),a.savePointer(e.clientX,e.clientY,"down"),e.button!==b.A.ERASER||a.state.activeTool.type===b.Aa.eraser){if(!(e.button!==b.A.MAIN&&e.button!==b.A.TOUCH&&e.button!==b.A.ERASER||Uv.pointers.size>1)){var s=a.initialPointerDownState(e);if(a.setState({selectedElementsAreBeingDragged:!1}),!(a.handleDraggingScrollBar(e,s)||(a.clearSelectionIfNotUsingSelection(),a.updateBindingEnabledOnPointerMove(e),a.handleSelectionOnPointerDown(e,s))||a.state.penMode&&"touch"===e.pointerType&&"selection"!==a.state.activeTool.type&&"text"!==a.state.activeTool.type&&"image"!==a.state.activeTool.type)){if("text"===a.state.activeTool.type)a.handleTextOnPointerDown(e,s);else if("arrow"===a.state.activeTool.type||"line"===a.state.activeTool.type)a.handleLinearElementOnPointerDown(e,a.state.activeTool.type,s);else if("image"===a.state.activeTool.type){(0,b.bd)(a.interactiveCanvas,b.z.CROSSHAIR);var c=a.state.pendingImageElementId&&a.scene.getElement(a.state.pendingImageElementId);if(!c)return;a.setState({newElement:c,pendingImageElementId:null,multiElement:null});var d=(0,b.lb)(e,a.state),u=d.x,f=d.y,h=a.getTopLayerFrameAtSceneCoords({x:u,y:f});(0,b.Pj)(c,{x:u,y:f,frameId:h?h.id:null})}else"freedraw"===a.state.activeTool.type?a.handleFreeDrawElementOnPointerDown(e,a.state.activeTool.type,s):"custom"===a.state.activeTool.type?(0,b.dd)(a.interactiveCanvas,a.state):a.state.activeTool.type===b.Aa.frame||a.state.activeTool.type===b.Aa.magicframe?a.createFrameElementOnPointerDown(s,a.state.activeTool.type):"laser"===a.state.activeTool.type?a.laserTrails.startPath(s.lastCoords.x,s.lastCoords.y):"eraser"!==a.state.activeTool.type&&"hand"!==a.state.activeTool.type&&a.createGenericElementOnPointerDown(a.state.activeTool.type,s);null!==(t=a.props)&&void 0!==t&&null!==(n=t.onPointerDown)&&void 0!==n&&n.call(t,a.state.activeTool,s),a.onPointerDownEmitter.trigger(a.state.activeTool,s,e),"eraser"===a.state.activeTool.type&&a.eraserTrail.startPath(s.lastCoords.x,s.lastCoords.y);var p=a.onPointerMoveFromPointerDownHandler(s),U=a.onPointerUpFromPointerDownHandler(s),m=a.onKeyDownFromPointerDownHandler(s),g=a.onKeyUpFromPointerDownHandler(s);a.missingPointerEventCleanupEmitter.once((function(t){return U(t||e.nativeEvent)})),(!a.state.viewModeEnabled||"laser"===a.state.activeTool.type)&&(window.addEventListener("pointermove",p),window.addEventListener("pointerup",U),window.addEventListener("keydown",m),window.addEventListener("keyup",g),s.eventListeners.onMove=p,s.eventListeners.onUp=U,s.eventListeners.onKeyUp=g,s.eventListeners.onKeyDown=m)}}}else a.setState({activeTool:(0,b.jb)(a.state,{type:b.Aa.eraser,lastActiveToolBeforeEraser:a.state.activeTool})},(function(){a.handleCanvasPointerDown(e);var t,n=function(){var e;r(),null!==(e=t)&&void 0!==e&&e(),(0,b.Gc)(a.state)&&a.setState({activeTool:(0,b.jb)(a.state,(0,v.A)((0,v.A)({},a.state.activeTool.lastActiveTool||{type:b.Aa.selection}),{},{lastActiveToolBeforeEraser:null}))})},r=(0,b.Pb)(window,"pointerup",n,{once:!0});requestAnimationFrame((function(){t=a.missingPointerEventCleanupEmitter.once(n)}))}))}})),(0,A.d)(a,"handleCanvasPointerUp",(function(e){var t,n;a.removePointer(e),a.lastPointerUpEvent=e;var r=(0,b.lb)({clientX:e.clientX,clientY:e.clientY},a.state),i=e.timeStamp-(null!==(t=null===(n=a.lastPointerDownEvent)||void 0===n?void 0:n.timeStamp)&&void 0!==t?t:0);if(a.device.editor.isMobile&&i<300){var o=a.getElementAtPosition(r.x,r.y);if((0,b.Zb)(o)&&a.isIframeLikeElementCenter(o,e,r.x,r.y))return void a.handleEmbeddableCenterClick(o)}if(a.device.isTouchScreen){var l=a.getElementAtPosition(r.x,r.y);a.hitLinkElement=a.getElementLinkAtPosition(r,l)}a.hitLinkElement&&!a.state.selectedElementIds[a.hitLinkElement.id]?i<300&&(0,b.Zb)(a.hitLinkElement)&&!(0,b.Th)(a.hitLinkElement,a.scene.getNonDeletedElementsMap(),a.state,(0,b.Ua)(r.x,r.y))?a.handleEmbeddableCenterClick(a.hitLinkElement):a.redirectToLink(e,a.device.isTouchScreen):a.state.viewModeEnabled&&a.setState({activeEmbeddable:null,selectedElementIds:{}})})),(0,A.d)(a,"maybeOpenContextMenuAfterPointerDownOnTouchDevices",(function(e){"touch"===e.pointerType&&(dv=!1,cv?dv=!0:cv=window.setTimeout((function(){cv=0,dv||a.handleCanvasContextMenu(e)}),b.Z))})),(0,A.d)(a,"resetContextMenuTimer",(function(){clearTimeout(cv),cv=0,dv=!1})),(0,A.d)(a,"maybeCleanupAfterMissingPointerUp",(function(e){var t;null!==(t=vv)&&void 0!==t&&t(),a.missingPointerEventCleanupEmitter.trigger(e).clear()})),(0,A.d)(a,"handleCanvasPanUsingWheelOrSpaceDrag",(function(e){if(!(Uv.pointers.size<=1&&(e.button===b.A.WHEEL||e.button===b.A.MAIN&&iv||(0,b.Hc)(a.state)||a.state.viewModeEnabled)))return!1;ov=!0,a.focusContainer(),a.state.editingTextElement||e.preventDefault();var t=!1,n=void 0!==typeof window&&/Linux/.test(window.navigator.platform);(0,b.bd)(a.interactiveCanvas,b.z.GRABBING);var r=e.clientX,i=e.clientY,o=rp((function(e){var o=r-e.clientX,l=i-e.clientY;if(r=e.clientX,i=e.clientY,n&&!t&&(Math.abs(o)>1||Math.abs(l)>1)){t=!0;var s=function(e){document.body.removeEventListener("paste",s),e.stopPropagation()},c=function(){setTimeout((function(){document.body.removeEventListener("paste",s),window.removeEventListener("pointerup",c)}),100)};document.body.addEventListener("paste",s),window.addEventListener("pointerup",c)}a.translateCanvas({scrollX:a.state.scrollX-o/a.state.zoom.value,scrollY:a.state.scrollY-l/a.state.zoom.value})})),l=np(vv=function(){vv=null,ov=!1,iv||(a.state.viewModeEnabled?(0,b.bd)(a.interactiveCanvas,b.z.GRAB):(0,b.dd)(a.interactiveCanvas,a.state)),a.setState({cursorButton:"up"}),a.savePointer(e.clientX,e.clientY,"up"),window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),o.flush()});return window.addEventListener("blur",l),window.addEventListener("pointermove",o,{passive:!0}),window.addEventListener("pointerup",l),!0})),(0,A.d)(a,"clearSelectionIfNotUsingSelection",(function(){"selection"!==a.state.activeTool.type&&a.setState({selectedElementIds:(0,b.xk)({},a.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})})),(0,A.d)(a,"handleSelectionOnPointerDown",(function(e,t){if("selection"===a.state.activeTool.type){var n=a.scene.getNonDeletedElements(),r=a.scene.getNonDeletedElementsMap(),i=a.scene.getSelectedElements(a.state);if(1!==i.length||a.state.editingLinearElement||(0,b.ec)(i[0])||a.state.selectedLinearElement&&-1!==a.state.selectedLinearElement.hoverPointIndex)i.length>1&&(t.resize.handleType=(0,b.ak)((0,b.bj)(i),t.origin.x,t.origin.y,a.state.zoom,e.pointerType,a.device));else{var o=(0,b.$j)(n,a.state,t.origin.x,t.origin.y,a.state.zoom,e.pointerType,a.scene.getNonDeletedElementsMap(),a.device);null!=o&&("rotation"===o.transformHandleType?(a.setState({resizingElement:o.element}),t.resize.handleType=o.transformHandleType):(a.state.croppingElementId||a.setState({resizingElement:o.element}),t.resize.handleType=o.transformHandleType))}if(t.resize.handleType)t.resize.isResizing=!0,t.resize.offset=(0,b.ob)((0,b.ek)(t.resize.handleType,i,r,t.origin.x,t.origin.y)),1===i.length&&(0,b.cc)(i[0])&&2===i[0].points.length&&(t.resize.arrowDirection=(0,b.fk)(t.resize.handleType,i[0]));else{var l,s;if(a.state.selectedLinearElement){var c=a.state.editingLinearElement||a.state.selectedLinearElement,d=b.pj.handlePointerDown(e,a,a.store,t.origin,c,a.scene);if(d.hitElement&&(t.hit.element=d.hitElement),d.linearElementEditor&&(a.setState({selectedLinearElement:d.linearElementEditor}),a.state.editingLinearElement&&a.setState({editingLinearElement:d.linearElementEditor})),d.didAddPoint)return!0}if(t.hit.element=null!==(l=t.hit.element)&&void 0!==l?l:a.getElementAtPosition(t.origin.x,t.origin.y),a.hitLinkElement=a.getElementLinkAtPosition(t.origin,t.hit.element),a.hitLinkElement)return!0;if(a.state.croppingElementId&&(null===(s=t.hit.element)||void 0===s?void 0:s.id)!==a.state.croppingElementId&&a.finishImageCropping(),t.hit.element&&a.getElementLinkAtPosition({x:t.origin.x,y:t.origin.y},t.hit.element))return!1;t.hit.allHitElements=a.getElementsAtPosition(t.origin.x,t.origin.y);var u=t.hit.element,f=t.hit.allHitElements.some((function(e){return a.isASelectedElement(e)}));if((null===u||!f)&&!e.shiftKey&&!t.hit.hasHitCommonBoundingBoxOfSelectedElements&&a.clearSelection(u),a.state.editingLinearElement)a.setState({selectedElementIds:(0,b.xk)((0,p.default)({},a.state.editingLinearElement.elementId,!0),a.state)});else if(null!=u){if(e[b.hg.CTRL_OR_CMD])return a.state.selectedElementIds[u.id]||(t.hit.wasAddedToSelection=!0),a.setState((function(e){return(0,v.A)((0,v.A)({},(0,b.Oc)(e,u)),{},{previousSelectedElementIds:a.state.selectedElementIds})})),!1;a.state.selectedElementIds[u.id]||(a.state.editingGroupId&&!(0,b.Pc)(u,a.state.editingGroupId)&&a.setState({selectedElementIds:(0,b.xk)({},a.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),!f&&!t.hit.hasHitCommonBoundingBoxOfSelectedElements&&(a.setState((function(e){var t,n=(0,v.A)((0,v.A)({},e.selectedElementIds),{},(0,p.default)({},u.id,!0)),r=[];if(Object.keys(e.selectedElementIds).forEach((function(e){var t=a.scene.getElement(e);t&&r.push(t)})),(0,b.bc)(u))(0,b.Bi)(r,u.id).forEach((function(e){delete n[e.id]}));else if(u.frameId)n[u.frameId]&&delete n[u.id];else{var i=u.groupIds,o=new Set(i.flatMap((function(e){return(0,b.Qc)(a.scene.getNonDeletedElements(),e)})).filter((function(e){return(0,b.bc)(e)})).map((function(e){return e.id})));o.size>0&&r.forEach((function(e){e.frameId&&o.has(e.frameId)&&(delete n[e.id],e.groupIds.flatMap((function(e){return(0,b.Qc)(a.scene.getNonDeletedElements(),e)})).forEach((function(e){delete n[e.id]})))}))}return"elementLinkSelector"===(null===(t=e.openDialog)||void 0===t?void 0:t.name)&&(u.groupIds.some((function(t){return e.selectedGroupIds[t]}))||(n=(0,p.default)({},u.id,!0))),(0,v.A)((0,v.A)({},(0,b.Jc)({editingGroupId:e.editingGroupId,selectedElementIds:n},a.scene.getNonDeletedElements(),e,a)),{},{showHyperlinkPopup:!(!u.link&&!(0,b.Xb)(u))&&"info"})})),t.hit.wasAddedToSelection=!0))}a.setState({previousSelectedElementIds:a.state.selectedElementIds})}}return!1})),(0,A.d)(a,"handleTextOnPointerDown",(function(e,t){if(!a.state.editingTextElement){var n=t.origin.x,r=t.origin.y,i=a.getElementAtPosition(n,r,{includeBoundTextElement:!0}),o=a.getTextBindableContainerAtPosition(n,r);(0,b.mc)(i)&&(o=i,n=i.x+i.width/2,r=i.y+i.height/2),a.startTextEditing({sceneX:n,sceneY:r,insertAtParentCenter:!e.altKey,container:o,autoEdit:!1}),(0,b.ad)(a.interactiveCanvas),a.state.activeTool.locked||a.setState({activeTool:(0,b.jb)(a.state,{type:"selection"})})}})),(0,A.d)(a,"handleFreeDrawElementOnPointerDown",(function(e,t,n){var r=(0,b.oj)(n.origin.x,n.origin.y,null),i=(0,c.A)(r,2),o=i[0],l=i[1],s=a.getTopLayerFrameAtSceneCoords({x:o,y:l}),d=.5===e.pressure,u=(0,b.Zf)({type:t,x:o,y:l,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,roundness:null,simulatePressure:d,locked:!1,frameId:s?s.id:null,points:[(0,b.Ua)(0,0)],pressures:d?[]:[e.pressure]});a.scene.insertElement(u),a.setState((function(e){var t=(0,v.A)({},e.selectedElementIds);return delete t[u.id],{selectedElementIds:(0,b.xk)(t,e)}}));var f=(0,b.Og)(n.origin,a.scene.getNonDeletedElements(),a.scene.getNonDeletedElementsMap(),a.state.zoom);a.setState({newElement:u,startBoundElement:f,suggestedBindings:[]})})),(0,A.d)(a,"insertIframeElement",(function(e){var t,n=e.sceneX,r=e.sceneY,i=e.width,o=e.height,l=(0,b.oj)(n,r,null!==(t=a.lastPointerDownEvent)&&void 0!==t&&t[b.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),s=(0,c.A)(l,2),d=s[0],u=s[1],f=(0,b.Uf)({type:"iframe",x:d,y:u,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,roundness:a.getCurrentItemRoundness("iframe"),opacity:a.state.currentItemOpacity,locked:!1,width:i,height:o});return a.scene.insertElement(f),f})),(0,A.d)(a,"insertEmbeddableElement",(function(e){var t,n=e.sceneX,r=e.sceneY,i=e.link,o=(0,b.oj)(n,r,null!==(t=a.lastPointerDownEvent)&&void 0!==t&&t[b.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),l=(0,c.A)(o,2),s=l[0],d=l[1],u=(0,b.Zg)(i);if(u){u.error instanceof URIError&&a.setToast({message:Fi("toast.unrecognizedLinkFormat"),closable:!0});var f=(0,b.Tf)({type:"embeddable",x:s,y:d,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,roundness:a.getCurrentItemRoundness("embeddable"),opacity:a.state.currentItemOpacity,locked:!1,width:u.intrinsicSize.w,height:u.intrinsicSize.h,link:i});return a.scene.insertElement(f),f}})),(0,A.d)(a,"createImageElement",(function(e){var t,n=e.sceneX,r=e.sceneY,i=e.addToFrameUnderCursor,o=void 0===i||i,l=(0,b.oj)(n,r,null!==(t=a.lastPointerDownEvent)&&void 0!==t&&t[b.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),s=(0,c.A)(l,2),d=s[0],u=s[1],f=o?a.getTopLayerFrameAtSceneCoords({x:d,y:u}):null;return(0,b.ag)({type:"image",x:d,y:u,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,roundness:null,opacity:a.state.currentItemOpacity,locked:!1,frameId:f?f.id:null})})),(0,A.d)(a,"handleLinearElementOnPointerDown",(function(e,t,n){if(a.state.multiElement){var r=a.state.multiElement;if("line"===r.type&&(0,b.xg)(r.points,a.state.zoom.value))return(0,b.Pj)(r,{lastCommittedPoint:r.points[r.points.length-1]}),void a.actionManager.executeAction(Ol);if((0,b.ec)(r)&&r.points.length>1)return(0,b.Pj)(r,{lastCommittedPoint:r.points[r.points.length-1]}),void a.actionManager.executeAction(Ol);var i=r.x,o=r.y,l=r.lastCommittedPoint;if(r.points.length>1&&l&&(0,b.Wa)((0,b.Ua)(n.origin.x-i,n.origin.y-o),l)<b.u)return void a.actionManager.executeAction(Ol);a.setState((function(e){return{selectedElementIds:(0,b.xk)((0,v.A)((0,v.A)({},e.selectedElementIds),{},(0,p.default)({},r.id,!0)),e)}})),(0,b.Pj)(r,{lastCommittedPoint:r.points[r.points.length-1]}),(0,b.bd)(a.interactiveCanvas,b.z.POINTER)}else{var s=(0,b.oj)(n.origin.x,n.origin.y,e[b.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),d=(0,c.A)(s,2),u=d[0],f=d[1],h=a.getTopLayerFrameAtSceneCoords({x:u,y:f}),U=a.state,m=U.currentItemStartArrowhead,y=U.currentItemEndArrowhead,x="arrow"===t?[m,y]:[null,null],w=(0,c.A)(x,2),A=w[0],E=w[1],k="arrow"===t?(0,b.$f)({type:t,x:u,y:f,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,roundness:a.state.currentItemArrowType===b.Fa.round?{type:b.ua.PROPORTIONAL_RADIUS}:null,startArrowhead:A,endArrowhead:E,locked:!1,frameId:h?h.id:null,elbowed:a.state.currentItemArrowType===b.Fa.elbow,fixedSegments:a.state.currentItemArrowType===b.Fa.elbow?[]:null}):(0,b._f)({type:t,x:u,y:f,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,roundness:"round"===a.state.currentItemRoundness?{type:b.ua.PROPORTIONAL_RADIUS}:null,locked:!1,frameId:h?h.id:null});a.setState((function(e){var t=(0,v.A)({},e.selectedElementIds);return delete t[k.id],{selectedElementIds:(0,b.xk)(t,e)}})),(0,b.Pj)(k,{points:[].concat((0,g.A)(k.points),[(0,b.Ua)(0,0)])});var S=(0,b.Og)(n.origin,a.scene.getNonDeletedElements(),a.scene.getNonDeletedElementsMap(),a.state.zoom,(0,b.ec)(k),(0,b.ec)(k));a.scene.insertElement(k),a.setState({newElement:k,startBoundElement:S,suggestedBindings:[]})}})),(0,A.d)(a,"createGenericElementOnPointerDown",(function(e,t){var n,r,i=(0,b.oj)(t.origin.x,t.origin.y,null!==(n=a.lastPointerDownEvent)&&void 0!==n&&n[b.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),o=(0,c.A)(i,2),l=o[0],s=o[1],d=a.getTopLayerFrameAtSceneCoords({x:l,y:s}),u={x:l,y:s,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,roundness:a.getCurrentItemRoundness(e),locked:!1,frameId:d?d.id:null};"selection"===(r="embeddable"===e?(0,b.Tf)((0,v.A)({type:"embeddable"},u)):(0,b.Sf)((0,v.A)({type:e},u))).type?a.setState({selectionElement:r}):(a.scene.insertElement(r),a.setState({multiElement:null,newElement:r}))})),(0,A.d)(a,"createFrameElementOnPointerDown",(function(e,t){var n,r=(0,b.oj)(e.origin.x,e.origin.y,null!==(n=a.lastPointerDownEvent)&&void 0!==n&&n[b.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),i=(0,c.A)(r,2),o=i[0],l=i[1],s=(0,v.A)({x:o,y:l,opacity:a.state.currentItemOpacity,locked:!1},b.H),d=t===b.Aa.magicframe?(0,b.Wf)(s):(0,b.Vf)(s);a.scene.insertElement(d),a.setState({multiElement:null,newElement:d})})),(0,A.d)(a,"restoreReadyToEraseElements",(function(){a.elementsPendingErasure=new Set,a.triggerRender()})),(0,A.d)(a,"eraseElements",(function(){var e=!1,t=a.scene.getElementsIncludingDeleted().map((function(t){return a.elementsPendingErasure.has(t.id)||t.frameId&&a.elementsPendingErasure.has(t.frameId)||(0,b.nc)(t)&&a.elementsPendingErasure.has(t.containerId)?(e=!0,(0,b.Qj)(t,{isDeleted:!0})):t}));a.elementsPendingErasure=new Set,e&&(a.store.shouldCaptureIncrement(),a.scene.replaceAllElements(t))})),(0,A.d)(a,"initializeImage",function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var n,r,i,o,c,d,u,f,h,p,v,U,m,g,y;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.imageFile,d=t.imageElement,u=t.showCursorImagePreview,f=void 0!==u&&u,(0,b.th)(c)){e.next=3;break}throw new Error(Fi("errors.unsupportedFileType"));case 3:if(h=c.type,(0,b.bd)(a.interactiveCanvas,"wait"),h!==b.T.svg){e.next=19;break}return e.prev=5,e.t0=b.Fh,e.t1=b.Rh,e.next=10,c.text();case 10:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=c.name,c=(0,e.t0)(e.t3,e.t4),e.next=19;break;case 16:throw e.prev=16,e.t5=e.catch(5),console.warn(e.t5),new Error(Fi("errors.svgImageInsertError"));case 19:return e.next=21,(null===(n=(r=a.props).generateIdForFile)||void 0===n?void 0:n.call(r,c))||(0,b.zh)(c);case 21:if(p=e.sent){e.next=24;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error(Fi("errors.imageInsertError"));case 24:if(null!==(i=a.files[p])&&void 0!==i&&i.dataURL){e.next=36;break}return e.prev=25,e.next=28,(0,b.Eh)(c,{maxWidthOrHeight:b.na});case 28:c=e.sent,e.next=34;break;case 31:e.prev=31,e.t6=e.catch(25),console.error("Error trying to resizing image file on insertion",e.t6);case 34:if(!(c.size>b.oa)){e.next=36;break}throw new Error(Fi("errors.fileTooBig",{maxSize:"".concat(Math.trunc(b.oa/1024/1024),"MB")}));case 36:if(f&&(U=null===(v=a.files[p])||void 0===v?void 0:v.dataURL,m=U&&(0,b.Ch)(U),a.setImagePreviewCursor(m||c)),e.t7=null===(o=a.files[p])||void 0===o?void 0:o.dataURL,e.t7){e.next=42;break}return e.next=41,(0,b.Ah)(c);case 41:e.t7=e.sent;case 42:return g=e.t7,y=(0,b.Pj)(d,{fileId:p},!1),e.abrupt("return",new Promise(function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n){var r,i;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.addMissingFiles([{mimeType:h,id:p,dataURL:g,created:Date.now(),lastRetrieved:Date.now()}]),i=a.imageCache.get(p),e.t0=i,e.t0){e.next=8;break}return a.addNewImagesToImageCache(),e.next=8,a.updateImageCache([y]);case 8:if(e.t1=(null===i||void 0===i?void 0:i.image)instanceof Promise,!e.t1){e.next=12;break}return e.next=12,i.image;case 12:a.state.pendingImageElementId!==y.id&&(null===(r=a.state.newElement)||void 0===r?void 0:r.id)!==y.id&&a.initializeImageDimensions(y,!0),t(y),e.next=19;break;case 16:e.prev=16,e.t2=e.catch(0),console.error(e.t2),n(new Error(Fi("errors.imageInsertError")));case 19:return e.prev=19,f||(0,b.ad)(a.interactiveCanvas),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()));case 45:case"end":return e.stop()}}),e,null,[[5,16],[25,31]])})));return function(t){return e.apply(this,arguments)}}()),(0,A.d)(a,"insertImageElement",function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n,r){return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.isToolSupported("image")){e.next=3;break}return a.setState({errorMessage:Fi("errors.imageToolNotSupported")}),e.abrupt("return");case 3:return a.scene.insertElement(t),e.prev=4,e.next=7,a.initializeImage({imageFile:n,imageElement:t,showCursorImagePreview:r});case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",((0,b.Pj)(t,{isDeleted:!0}),a.actionManager.executeAction(Ol),a.setState({errorMessage:e.t0.message||Fi("errors.imageInsertError")}),null));case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,n,r){return e.apply(this,arguments)}}()),(0,A.d)(a,"setImagePreviewCursor",function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var n,r,i,o,s,c;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.Eh)(t,{maxWidthOrHeight:96});case 3:n=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),"UNSUPPORTED"===e.t0.cause?new Error(Fi("errors.unsupportedFileType")):e.t0;case 9:return e.next=11,(0,b.Ah)(n);case 11:if(r=e.sent,t.type!==b.T.svg){e.next=21;break}return e.next=15,(0,b.Oh)(r);case 15:i=e.sent,o=Math.min(i.height,96),(s=o*(i.width/i.height))>96&&(o=(s=96)*(i.height/i.width)),(c=document.createElement("canvas")).height=o,c.width=s,c.getContext("2d").drawImage(i,0,0,s,o),r=c.toDataURL(b.T.svg);case 21:a.state.pendingImageElementId&&(0,b.bd)(a.interactiveCanvas,"url(".concat(r,") 4 4, auto"));case 22:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),(0,A.d)(a,"onImageAction",function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var n,r,i,o,s,c,d,u;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.insertOnCanvasDirectly,e.prev=1,r=a.state.width/2+a.state.offsetLeft,i=a.state.height/2+a.state.offsetTop,o=(0,b.lb)({clientX:r,clientY:i},a.state),s=o.x,c=o.y,e.next=9,(0,b.fh)({description:"Image",extensions:Object.keys(b.S)});case 9:d=e.sent,u=a.createImageElement({sceneX:s,sceneY:c,addToFrameUnderCursor:!1}),n?(a.insertImageElement(u,d),a.initializeImageDimensions(u),a.setState({selectedElementIds:(0,b.xk)((0,p.default)({},u.id,!0),a.state)},(function(){a.actionManager.executeAction(Ol)}))):a.setState({pendingImageElementId:u.id},(function(){a.insertImageElement(u,d,!0)})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),"AbortError"!==e.t0.name?console.error(e.t0):console.warn(e.t0),a.setState({pendingImageElementId:null,newElement:null,activeTool:(0,b.jb)(a.state,{type:"selection"})},(function(){a.actionManager.executeAction(Ol)}));case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()),(0,A.d)(a,"initializeImageDimensions",(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,b.Vb)(e)&&(null===(t=a.imageCache.get(e.fileId))||void 0===t?void 0:t.image);if(!r||r instanceof Promise){if(e.width<b.t/a.state.zoom.value&&e.height<b.t/a.state.zoom.value){var i=100/a.state.zoom.value;(0,b.Pj)(e,{x:e.x-i/2,y:e.y-i/2,width:i,height:i})}}else if(n||e.width<b.t/a.state.zoom.value&&e.height<b.t/a.state.zoom.value){var o=Math.max(a.state.height-120,160),l=Math.min(o,Math.floor(.5*a.state.height)/a.state.zoom.value),s=Math.min(r.naturalHeight,l),c=s*(r.naturalWidth/r.naturalHeight),d=e.x+e.width/2-c/2,u=e.y+e.height/2-s/2;(0,b.Pj)(e,{x:d,y:u,width:c,height:s,crop:null})}})),(0,A.d)(a,"updateImageCache",function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var n,r,i,o,s,c,d,u=arguments;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:a.files,e.next=3,(0,b.Ph)({imageCache:a.imageCache,fileIds:t.map((function(e){return e.fileId})),files:n});case 3:if(r=e.sent,i=r.updatedFiles,o=r.erroredFiles,i.size||o.size){s=(0,U.A)(t);try{for(s.s();!(c=s.n()).done;)d=c.value,i.has(d.fileId)&&b.ed.delete(d)}catch(l){s.e(l)}finally{s.f()}}return e.abrupt("return",(o.size&&a.scene.replaceAllElements(a.scene.getElementsIncludingDeleted().map((function(e){return(0,b.Vb)(e)&&o.has(e.fileId)?(0,b.Qj)(e,{status:"error"}):e}))),{updatedFiles:i,erroredFiles:o}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,A.d)(a,"addNewImagesToImageCache",(0,s.A)((0,l.A)().mark((function e(){var t,n,r,i,o=arguments;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:(0,b.Qh)(a.scene.getNonDeletedElements()),n=o.length>1&&void 0!==o[1]?o[1]:a.files,r=t.filter((function(e){return!e.isDeleted&&!a.imageCache.has(e.fileId)})),!r.length){e.next=9;break}return e.next=6,a.updateImageCache(r,n);case 6:i=e.sent,i.updatedFiles.size&&a.scene.triggerUpdate();case 9:case"end":return e.stop()}}),e)})))),(0,A.d)(a,"scheduleImageRefresh",Hn((function(){a.addNewImagesToImageCache()}),b.X)),(0,A.d)(a,"updateBindingEnabledOnPointerMove",(function(e){var t=(0,b.Eg)(e);a.state.isBindingEnabled!==t&&a.setState({isBindingEnabled:t})})),(0,A.d)(a,"maybeSuggestBindingAtCursor",(function(e,t){var n=(0,b.Og)(e,a.scene.getNonDeletedElements(),a.scene.getNonDeletedElementsMap(),a.state.zoom,!1,t);a.setState({suggestedBindings:null!=n?[n]:[]})})),(0,A.d)(a,"maybeSuggestBindingsForLinearElementAtCoords",(function(e,t,n){if(t.length){var r=t.reduce((function(t,r){var i=(0,b.Og)(r,a.scene.getNonDeletedElements(),a.scene.getNonDeletedElementsMap(),a.state.zoom,(0,b.ec)(e),(0,b.ec)(e));return null!=i&&!(0,b.Ng)(e,null===n||void 0===n?void 0:n.id,i)&&t.push(i),t}),[]);a.setState({suggestedBindings:r})}})),(0,A.d)(a,"handleInteractiveCanvasRef",(function(e){var t,n;null!==e?(a.interactiveCanvas=e,a.interactiveCanvas.addEventListener("touchstart",a.onTouchStart,{passive:!1}),a.interactiveCanvas.addEventListener("touchend",a.onTouchEnd)):(null!==(t=a.interactiveCanvas)&&void 0!==t&&t.removeEventListener("touchstart",a.onTouchStart),null===(n=a.interactiveCanvas)||void 0===n||n.removeEventListener("touchend",a.onTouchEnd))})),(0,A.d)(a,"handleAppOnDrop",function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var n,r,i,o,s,c,d,u,f,h,U,m,g,y,x;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.Hh)(t);case 2:if(r=e.sent,i=r.file,o=r.fileHandle,s=(0,b.lb)(t,a.state),c=s.x,d=s.y,e.prev=8,!(0,b.th)(i)||!a.isToolSupported("image")){e.next=26;break}if((null===i||void 0===i?void 0:i.type)!==b.T.png&&(null===i||void 0===i?void 0:i.type)!==b.T.svg){e.next=23;break}return e.prev=11,e.next=14,(0,b.vh)(i,a.state,a.scene.getElementsIncludingDeleted(),o);case 14:return u=e.sent,a.syncActionResult((0,v.A)((0,v.A)({},u),{},{appState:(0,v.A)((0,v.A)({},u.appState||a.state),{},{isLoading:!1}),replaceFiles:!0,captureUpdate:b.Wg.IMMEDIATELY})),e.abrupt("return");case 19:if(e.prev=19,e.t0=e.catch(11),"EncodingError"===e.t0.name){e.next=23;break}throw new Error(Fi("alerts.couldNotLoadInvalidFile"));case 23:return f=a.createImageElement({sceneX:c,sceneY:d}),a.insertImageElement(f,i),a.initializeImageDimensions(f),a.setState({selectedElementIds:(0,b.xk)((0,p.default)({},f.id,!0),a.state)}),e.abrupt("return");case 26:e.next=31;break;case 28:return e.prev=28,e.t1=e.catch(8),e.abrupt("return",a.setState({isLoading:!1,errorMessage:e.t1.message}));case 31:if(!(h=t.dataTransfer.getData(b.T.excalidrawlib))||"string"!=typeof h){e.next=35;break}try{U=(0,b.wh)(h),a.addElementsFromPasteOrLibrary({elements:lc(U),position:t,files:null})}catch(k){a.setState({errorMessage:k.message})}return e.abrupt("return");case 35:if(e.t2=i,!e.t2){e.next=39;break}return e.next=39,a.loadFileToCanvas(i,o);case 39:if(null===(n=t.dataTransfer)||void 0===n||null===(n=n.types)||void 0===n||!n.includes("text/plain")){e.next=42;break}(y=null===(m=t.dataTransfer)||void 0===m?void 0:m.getData("text"))&&(0,b.$g)(y,a.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(y)||"video"===(null===(g=(0,b.Zg)(y))||void 0===g?void 0:g.type))&&(x=a.insertEmbeddableElement({sceneX:c,sceneY:d,link:(0,b.Xc)(y)}))&&a.setState({selectedElementIds:(0,p.default)({},x.id,!0)});case 42:case"end":return e.stop()}}),e,null,[[8,28],[11,19]])})));return function(t){return e.apply(this,arguments)}}()),(0,A.d)(a,"loadFileToCanvas",function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n){var r,i,o,s;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.Ih)(t);case 2:return t=e.sent,e.prev=3,r=a.scene.getElementsIncludingDeleted(),e.prev=5,e.next=8,(0,b.uh)(t,a.state,r,n);case 8:i=e.sent,e.next=19;break;case 11:if(e.prev=11,e.t0=e.catch(5),!(o=e.t0 instanceof b.uc)||"IMAGE_NOT_CONTAINS_SCENE_DATA"!==e.t0.code||a.isToolSupported("image")){e.next=17;break}return a.setState({isLoading:!1,errorMessage:Fi("errors.imageToolNotSupported")}),e.abrupt("return");case 17:s=Fi(o?"alerts.cannotRestoreFromImage":"alerts.couldNotLoadInvalidFile"),a.setState({isLoading:!1,errorMessage:s});case 19:if(i){e.next=21;break}return e.abrupt("return");case 21:if(i.type!==b.T.excalidraw){e.next=25;break}(0,b.Nj)(r.concat(i.data.elements)),a.store.updateSnapshot((0,b.xb)(r),a.state),a.setState({isLoading:!0}),a.syncActionResult((0,v.A)((0,v.A)({},i.data),{},{appState:(0,v.A)((0,v.A)({},i.data.appState||a.state),{},{isLoading:!1}),replaceFiles:!0,captureUpdate:b.Wg.IMMEDIATELY})),e.next=29;break;case 25:if(e.t1=i.type===b.T.excalidrawlib,!e.t1){e.next=29;break}return e.next=29,a.library.updateLibrary({libraryItems:t,merge:!0,openLibraryMenu:!0}).catch((function(e){console.error(e),a.setState({errorMessage:Fi("errors.importLibraryError")})}));case 29:e.next=34;break;case 31:e.prev=31,e.t2=e.catch(3),a.setState({isLoading:!1,errorMessage:e.t2.message});case 34:case"end":return e.stop()}}),e,null,[[3,31],[5,11]])})));return function(t,n){return e.apply(this,arguments)}}()),(0,A.d)(a,"handleCanvasContextMenu",(function(e){if(e.preventDefault(),!("pointerType"in e.nativeEvent&&"touch"===e.nativeEvent.pointerType||"pointerType"in e.nativeEvent&&"pen"===e.nativeEvent.pointerType&&e.button!==b.A.SECONDARY)||"selection"===a.state.activeTool.type){var t=(0,b.lb)(e,a.state),n=t.x,r=t.y,i=a.getElementAtPosition(n,r,{preferSelected:!0,includeLockedElements:!0}),o=a.scene.getSelectedElements(a.state),l=a.isHittingCommonBoundingBoxOfSelectedElements({x:n,y:r},o),s=i||l?"element":"canvas",c=a.excalidrawContainerRef.current.getBoundingClientRect(),d=c.top,u=c.left,f=e.clientX-u,h=e.clientY-d;vo("contextMenu","openContextMenu",s),a.setState((0,v.A)((0,v.A)({},i&&!a.state.selectedElementIds[i.id]?(0,v.A)((0,v.A)((0,v.A)({},a.state),(0,b.Jc)({editingGroupId:a.state.editingGroupId,selectedElementIds:(0,p.default)({},i.id,!0)},a.scene.getNonDeletedElements(),a.state,a)),{},{selectedLinearElement:(0,b.cc)(i)?new b.pj(i):null}):a.state),{},{showHyperlinkPopup:!1}),(function(){a.setState({contextMenu:{top:h,left:f,items:a.getContextMenuItems(s)}})}))}})),(0,A.d)(a,"maybeDragNewGenericElement",(function(e,t){var n,r,i,o,l,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=a.state.selectionElement,u=e.lastCoords;if(d&&"eraser"!==a.state.activeTool.type)(0,b.kk)({newElement:d,elementType:a.state.activeTool.type,originX:e.origin.x,originY:e.origin.y,x:u.x,y:u.y,width:(0,b.ib)(e.origin.x,u.x),height:(0,b.ib)(e.origin.y,u.y),shouldMaintainAspectRatio:(0,b.lg)(t),shouldResizeFromCenter:(0,b.kg)(t),zoom:a.state.zoom.value,informMutation:s});else{var f=a.state.newElement;if(f){var h=(0,b.oj)(u.x,u.y,t[b.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),p=(0,c.A)(h,2),v=p[0],U=p[1],m=(0,b.Vb)(f)&&(null===(n=a.imageCache.get(f.fileId))||void 0===n?void 0:n.image),g=!m||m instanceof Promise?null:m.width/m.height;a.maybeCacheReferenceSnapPoints(t,[f]);var y=(0,b.lj)(f,a,t,{x:e.originInGrid.x+(null!==(r=null===(i=a.state.originSnapOffset)||void 0===i?void 0:i.x)&&void 0!==r?r:0),y:e.originInGrid.y+(null!==(o=null===(l=a.state.originSnapOffset)||void 0===l?void 0:l.y)&&void 0!==o?o:0)},{x:v-e.originInGrid.x,y:U-e.originInGrid.y},a.scene.getNonDeletedElementsMap()),x=y.snapOffset,w=y.snapLines;v+=x.x,U+=x.y,a.setState({snapLines:w}),(0,b.kk)({newElement:f,elementType:a.state.activeTool.type,originX:e.originInGrid.x,originY:e.originInGrid.y,x:v,y:U,width:(0,b.ib)(e.originInGrid.x,v),height:(0,b.ib)(e.originInGrid.y,U),shouldMaintainAspectRatio:(0,b.Wb)(f)?!(0,b.lg)(t):(0,b.lg)(t),shouldResizeFromCenter:(0,b.kg)(t),zoom:a.state.zoom.value,widthAspectRatio:g,originOffset:a.state.originSnapOffset,informMutation:s}),a.setState({newElement:f}),(a.state.activeTool.type===b.Aa.frame||a.state.activeTool.type===b.Aa.magicframe)&&a.setState({elementsToHighlight:(0,b.Ei)(a.scene.getNonDeletedElements(),f,a.state,a.scene.getNonDeletedElementsMap())})}}})),(0,A.d)(a,"maybeHandleCrop",(function(e,t){if(!a.state.croppingElementId)return!1;var n=e.resize.handleType,r=e.lastCoords,i=(0,b.oj)(r.x-e.resize.offset.x,r.y-e.resize.offset.y,t[b.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),o=(0,c.A)(i,2),l=o[0],s=o[1],d=a.scene.getNonDeletedElementsMap().get(a.state.croppingElementId);if(n&&d&&(0,b.Wb)(d)){var u,f=e.originalElements.get(d.id),h=(0,b.Vb)(d)&&(null===(u=a.imageCache.get(d.fileId))||void 0===u?void 0:u.image);if(f&&(0,b.Wb)(f)&&h&&!(h instanceof Promise)){var p=(0,b.oj)(r.x,r.y,t[b.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),v=(0,c.A)(p,2),U=v[0],m=v[1],g={x:U-e.originInGrid.x,y:m-e.originInGrid.y};a.maybeCacheReferenceSnapPoints(t,[d]);var y=(0,b.kj)([d],[f],a,t,g,n),x=y.snapOffset,w=y.snapLines;(0,b.Pj)(d,(0,b.bh)(d,n,h.naturalWidth,h.naturalHeight,l+x.x,s+x.y,t.shiftKey?f.width/f.height:void 0)),(0,b.Pg)(d,a.scene.getNonDeletedElementsMap(),{newSize:{width:d.width,height:d.height}}),a.setState({isCropping:n&&"rotation"!==n,snapLines:w})}return!0}return!1})),(0,A.d)(a,"maybeHandleResize",(function(e,t){var n=a.scene.getSelectedElements(a.state),r=n.filter((function(e){return(0,b.bc)(e)})),i=e.resize.handleType;if(r.length>0&&"rotation"===i||1===n.length&&(0,b.ec)(n[0])||a.state.croppingElementId)return!1;a.setState({isResizing:i&&"rotation"!==i,isRotating:"rotation"===i,activeEmbeddable:null});var o=e.lastCoords,l=(0,b.oj)(o.x-e.resize.offset.x,o.y-e.resize.offset.y,t[b.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),s=(0,c.A)(l,2),d=s[0],u=s[1],f=new Map;if(r.forEach((function(e){(0,b.Bi)(a.scene.getNonDeletedElements(),e.id).forEach((function(t){f.set(e.id+t.id,{x:t.x-e.x,y:t.y-e.y})}))})),!a.state.selectedElementsAreBeingDragged){var h=(0,b.oj)(o.x,o.y,t[b.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),p=(0,c.A)(h,2),v=p[0],U=p[1],m={x:v-e.originInGrid.x,y:U-e.originInGrid.y},y=(0,g.A)(e.originalElements.values());a.maybeCacheReferenceSnapPoints(t,n);var x=(0,b.kj)(n,(0,b.vk)(y,a.state),a,t,m,i),w=x.snapOffset,A=x.snapLines;d+=w.x,u+=w.y,a.setState({snapLines:A})}if((0,b.ck)(e.originalElements,i,n,a.scene.getElementsMapIncludingDeleted(),a.scene,(0,b.mg)(t),(0,b.kg)(t),n.some((function(e){return(0,b.Wb)(e)}))?!(0,b.lg)(t):(0,b.lg)(t),d,u,e.resize.center.x,e.resize.center.y)){var E=(0,b.Kg)(n,a.scene.getNonDeletedElementsMap(),a.state.zoom),k=new Set;return r.forEach((function(e){(0,b.Ei)(a.scene.getNonDeletedElements(),e,a.state,a.scene.getNonDeletedElementsMap()).forEach((function(e){return k.add(e)}))})),a.setState({elementsToHighlight:(0,g.A)(k),suggestedBindings:E}),!0}return!1})),(0,A.d)(a,"getContextMenuItems",(function(e){var t=[];return t.push(ks,Es),"canvas"===e?a.state.viewModeEnabled?[].concat(t,[Ms,Cs,Wh,Is]):[ws,Yd,ks,Es,Ss,Yd,co,Ys,Yd,Ms,js,Cs,Wh,Is]:(t.push(Ss),a.state.viewModeEnabled?[xs].concat(t):[Yd,As,xs,ws,Yd,Gh,Vh,Yh,Yd,Rd,Yd].concat(t,[Yd,ns,rs,Yd,os,Rp,Ds,Ts,Ls,ls,Yd,us,Yd,io,oo,lo,so,Yd,ms,gs,Yd,_d,Yd,Xs,Ed,Yd,fo,Vs,Yd,Vi]))})),(0,A.d)(a,"handleWheel",np((function(e){if(e.target instanceof HTMLCanvasElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLIFrameElement){if(e.preventDefault(),!ov){var t=e.deltaX,n=e.deltaY;if(e.metaKey||e.ctrlKey){var r=Math.sign(n),i=100*b.$,o=Math.abs(n),l=n;o>i&&(l=i*r);var s=a.state.zoom.value-l/100;return s+=Math.log10(Math.max(1,a.state.zoom.value))*-r*Math.min(1,o/20),a.translateCanvas((function(e){return(0,v.A)((0,v.A)({},Ml({viewportX:a.lastViewportPosition.x,viewportY:a.lastViewportPosition.y,nextZoom:(0,b.Ak)(s)},e)),{},{shouldCacheIgnoreZoom:!0})})),void a.resetShouldCacheIgnoreZoomDebounced()}e.shiftKey?a.translateCanvas((function(e){var r=e.zoom;return{scrollX:e.scrollX-(n||t)/r.value}})):a.translateCanvas((function(e){var r=e.zoom,a=e.scrollX,i=e.scrollY;return{scrollX:a-t/r.value,scrollY:i-n/r.value}}))}}else e[b.hg.CTRL_OR_CMD]&&e.preventDefault()}))),(0,A.d)(a,"savePointer",(function(e,t,n){var r,i;if(e&&t){var o=(0,b.lb)({clientX:e,clientY:t},a.state),l=o.x,s=o.y;isNaN(l)||isNaN(s);var c={x:l,y:s,tool:"laser"===a.state.activeTool.type?"laser":"pointer"};null===(r=(i=a.props).onPointerUpdate)||void 0===r||r.call(i,{pointer:c,button:n,pointersMap:Uv.pointers})}})),(0,A.d)(a,"resetShouldCacheIgnoreZoomDebounced",(0,b.db)((function(){a.unmounted||a.setState({shouldCacheIgnoreZoom:!1})}),300)),(0,A.d)(a,"updateDOMRect",(function(e){var t;if(null!==(t=a.excalidrawContainerRef)&&void 0!==t&&t.current){var n=a.excalidrawContainerRef.current.getBoundingClientRect(),r=n.width,i=n.height,o=n.left,l=n.top,s=a.state,c=s.width,d=s.height,u=s.offsetTop,f=s.offsetLeft;if(r===c&&i===d&&o===f&&l===u)return void(e&&e());a.setState({width:r,height:i,offsetLeft:o,offsetTop:l},(function(){e&&e()}))}})),(0,A.d)(a,"refresh",(function(){a.setState((0,v.A)({},a.getCanvasOffsets()))}));var i=(0,b.Fc)(),o=e.excalidrawAPI,u=e.viewModeEnabled,h=void 0!==u&&u,m=e.zenModeEnabled,y=void 0!==m&&m,x=e.gridModeEnabled,w=void 0!==x&&x,E=e.objectsSnapModeEnabled,k=void 0!==E&&E,S=e.theme,M=void 0===S?i.theme:S,C=e.name,j=void 0===C?"".concat(Fi("labels.untitled"),"-").concat((0,b.Xa)()):C;if(a.state=(0,v.A)((0,v.A)((0,v.A)({},i),{},{theme:M,isLoading:!0},a.getCanvasOffsets()),{},{viewModeEnabled:h,zenModeEnabled:y,objectsSnapModeEnabled:k,gridModeEnabled:null!==w&&void 0!==w?w:i.gridModeEnabled,name:j,width:window.innerWidth,height:window.innerHeight}),a.id=(0,de.Ak)(),a.library=new oc(a),a.actionManager=new Hd(a.syncActionResult,(function(){return a.state}),(function(){return a.scene.getElementsIncludingDeleted()}),a),a.scene=new b.Oj,a.canvas=document.createElement("canvas"),a.rc=ce.A.canvas(a.canvas),a.renderer=new kp(a.scene),a.visibleElements=[],a.store=new b.Xg,a.history=new Nd,o){var I={updateScene:a.updateScene,updateLibrary:a.library.updateLibrary,addFiles:a.addFiles,resetScene:a.resetScene,getSceneElementsIncludingDeleted:a.getSceneElementsIncludingDeleted,history:{clear:a.resetHistory},scrollToContent:a.scrollToContent,getSceneElements:a.getSceneElements,getAppState:function(){return a.state},getFiles:function(){return a.files},getName:a.getName,registerAction:function(e){a.actionManager.registerAction(e)},refresh:a.refresh,setToast:a.setToast,id:a.id,setActiveTool:a.setActiveTool,setCursor:a.setCursor,resetCursor:a.resetCursor,updateFrameRendering:a.updateFrameRendering,toggleSidebar:a.toggleSidebar,onChange:function(e){return a.onChangeEmitter.on(e)},onPointerDown:function(e){return a.onPointerDownEmitter.on(e)},onPointerUp:function(e){return a.onPointerUpEmitter.on(e)},onScrollChange:function(e){return a.onScrollChangeEmitter.on(e)},onUserFollow:function(e){return a.onUserFollowEmitter.on(e)}};"function"==typeof o?o(I):console.error("excalidrawAPI should be a function!")}return a.excalidrawContainerValue={container:a.excalidrawContainerRef.current,id:a.id},a.fonts=new b.Qf(a.scene),a.history=new Nd,a.actionManager.registerAll(b._c),a.actionManager.registerAction(function(e,t){return{name:"undo",label:"buttons.undo",icon:b.Rd,trackEvent:{category:"history"},viewMode:!1,perform:function(n,r,a,i){return zd(i,r,(function(){return e.undo((0,b.xb)(n),r,t.snapshot)}))},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&(0,b.ig)(e,b.hg.Z)&&!e.shiftKey},PanelComponent:function(t){var n=t.updateData,r=t.data,a=Od(e.onHistoryChangedEmitter,new Pd(e.isUndoStackEmpty,e.isRedoStackEmpty)).isUndoStackEmpty;return(0,V.jsx)(Xi,{type:"button",icon:b.Rd,"aria-label":Fi("buttons.undo"),onClick:n,size:(null===r||void 0===r?void 0:r.size)||"medium",disabled:a,"data-testid":"button-undo"})}}}(a.history,a.store)),a.actionManager.registerAction(function(e,t){return{name:"redo",label:"buttons.redo",icon:b.Sd,trackEvent:{category:"history"},viewMode:!1,perform:function(n,r,a,i){return zd(i,r,(function(){return e.redo((0,b.xb)(n),r,t.snapshot)}))},keyTest:function(e){return e[b.hg.CTRL_OR_CMD]&&e.shiftKey&&(0,b.ig)(e,b.hg.Z)||b.m&&e.ctrlKey&&!e.shiftKey&&(0,b.ig)(e,b.hg.Y)},PanelComponent:function(t){var n=t.updateData,r=t.data,a=Od(e.onHistoryChangedEmitter,new Pd(e.isUndoStackEmpty,e.isRedoStackEmpty)).isRedoStackEmpty;return(0,V.jsx)(Xi,{type:"button",icon:b.Sd,"aria-label":Fi("buttons.redo"),onClick:n,size:(null===r||void 0===r?void 0:r.size)||"medium",disabled:a,"data-testid":"button-redo"})}}}(a.history,a.store)),a}return(0,u.A)(t,e),(0,h.A)(t,[{key:"onWindowMessage",value:function(e){if("https://player.vimeo.com"===e.origin||"https://www.youtube.com"===e.origin){var t=null;try{t=JSON.parse(e.data)}catch(d){}if(t)switch(e.origin){case"https://player.vimeo.com":if("paused"===t.method){var n,r=null,a=document.body.querySelectorAll("iframe.excalidraw__embeddable");if(!a)break;var i,o=(0,U.A)(a);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.contentWindow===e.source&&(r=l.contentWindow)}}catch(u){o.e(u)}finally{o.f()}null===(n=r)||void 0===n||n.postMessage(JSON.stringify({method:t.value?"play":"pause",value:!0}),"*")}break;case"https://www.youtube.com":if("infoDelivery"===t.event&&t.info&&t.id&&"number"==typeof t.info.playerState){var s=t.id,c=t.info.playerState;Object.values(b.C).includes(c)&&uv.set(s,c)}}}}},{key:"cacheEmbeddableRef",value:function(e,t){t&&this.iFrameRefs.set(e.id,t)}},{key:"getHTMLIFrameElement",value:function(e){return this.iFrameRefs.get(e.id)}},{key:"handleEmbeddableCenterClick",value:function(e){var t,n,r,a,i=this;if(!((null===(t=this.state.activeEmbeddable)||void 0===t?void 0:t.element)===e&&"active"===(null===(n=this.state.activeEmbeddable)||void 0===n?void 0:n.state)||(setTimeout((function(){i.setState({activeEmbeddable:{element:e,state:"active"},selectedElementIds:(0,p.default)({},e.id,!0),newElement:null,selectionElement:null})}),100),(0,b.Yb)(e)))){var o=this.getHTMLIFrameElement(e);if(null!==o&&void 0!==o&&o.contentWindow){if(o.src.includes("youtube")){var l=uv.get(e.id);switch(l||(uv.set(e.id,b.C.UNSTARTED),o.contentWindow.postMessage(JSON.stringify({event:"listening",id:e.id}),"*")),l){case b.C.PLAYING:case b.C.BUFFERING:null===(r=o.contentWindow)||void 0===r||r.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*");break;default:null===(a=o.contentWindow)||void 0===a||a.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*")}}o.src.includes("player.vimeo.com")&&o.contentWindow.postMessage(JSON.stringify({method:"paused"}),"*")}}}},{key:"isIframeLikeElementCenter",value:function(e,t,n,r){var a,i;return e&&!t.altKey&&!t.shiftKey&&!t.metaKey&&!t.ctrlKey&&((null===(a=this.state.activeEmbeddable)||void 0===a?void 0:a.element)!==e||"hover"===(null===(i=this.state.activeEmbeddable)||void 0===i?void 0:i.state)||!this.state.activeEmbeddable)&&n>=e.x+e.width/3&&n<=e.x+2*e.width/3&&r>=e.y+e.height/3&&r<=e.y+2*e.height/3}},{key:"renderEmbeddables",value:function(){var e=this,t=this.state.zoom.value,n=this.state.width,r=this.state.height,a=this.scene.getNonDeletedElements().filter((function(t){return(0,b.Xb)(t)&&!0===e.embedsValidationStatus.get(t.id)||(0,b.Yb)(t)}));return(0,V.jsx)(V.Fragment,{children:a.map((function(a){var i,o,l,s,c,d,u,f,h,p,v,U,m,g,y=(0,b.mb)({sceneX:a.x,sceneY:a.y},e.state),x=y.x,w=y.y,A=(0,b.Tj)(a,n,r,e.state,e.scene.getNonDeletedElementsMap()),E=e.initializedEmbeds.has(a.id);if(A&&!E&&e.initializedEmbeds.add(a.id),!A&&!E)return null;if((0,b.Yb)(a)){var k,S;g=null;var M=(null!==(k=null===(S=a.customData)||void 0===S?void 0:S.generationData)&&void 0!==k?k:e.magicGenerations.get(a.id))||{status:"error",message:"No generation data",code:"ERR_NO_GENERATION_DATA"};if("done"===M.status){var C=M.html;g={intrinsicSize:{w:a.width,h:a.height},type:"document",srcdoc:function(){return C}}}else if("pending"===M.status)g={intrinsicSize:{w:a.width,h:a.height},type:"document",srcdoc:function(){return(0,b.Yg)("\n                    <style>\n                      html, body {\n                        width: 100%;\n                        height: 100%;\n                        color: ".concat(e.state.theme===b.G.DARK?"white":"black",';\n                      }\n                      body {\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        flex-direction: column;\n                        gap: 1rem;\n                      }\n\n                      .Spinner {\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        margin-left: auto;\n                        margin-right: auto;\n                      }\n\n                      .Spinner svg {\n                        animation: rotate 1.6s linear infinite;\n                        transform-origin: center center;\n                        width: 40px;\n                        height: 40px;\n                      }\n\n                      .Spinner circle {\n                        stroke: currentColor;\n                        animation: dash 1.6s linear 0s infinite;\n                        stroke-linecap: round;\n                      }\n\n                      @keyframes rotate {\n                        100% {\n                          transform: rotate(360deg);\n                        }\n                      }\n\n                      @keyframes dash {\n                        0% {\n                          stroke-dasharray: 1, 300;\n                          stroke-dashoffset: 0;\n                        }\n                        50% {\n                          stroke-dasharray: 150, 300;\n                          stroke-dashoffset: -200;\n                        }\n                        100% {\n                          stroke-dasharray: 1, 300;\n                          stroke-dashoffset: -280;\n                        }\n                      }\n                    </style>\n                    <div class="Spinner">\n                      <svg\n                        viewBox="0 0 100 100"\n                      >\n                        <circle\n                          cx="50"\n                          cy="50"\n                          r="46"\n                          stroke-width="8"\n                          fill="none"\n                          stroke-miter-limit="10"\n                        />\n                      </svg>\n                    </div>\n                    <div>Generating...</div>\n                  '))}};else{var j;j="ERR_GENERATION_INTERRUPTED"===M.code?"Generation was interrupted...":M.message||"Generation failed",g={intrinsicSize:{w:a.width,h:a.height},type:"document",srcdoc:function(){return(0,b.Yg)("\n                    <style>\n                    html, body {\n                      height: 100%;\n                    }\n                      body {\n                        display: flex;\n                        flex-direction: column;\n                        align-items: center;\n                        justify-content: center;\n                        color: ".concat(b.e.red[3],";\n                      }\n                      h1, h3 {\n                        margin-top: 0;\n                        margin-bottom: 0.5rem;\n                      }\n                    </style>\n                    <h1>Error!</h1>\n                    <h3>").concat(j,"</h3>\n                  "))}}}}else g=(0,b.Zg)((0,b.Zc)(a.link||""));var I=(null===(i=e.state.activeEmbeddable)||void 0===i?void 0:i.element)===a&&"active"===(null===(o=e.state.activeEmbeddable)||void 0===o?void 0:o.state),D=(null===(l=e.state.activeEmbeddable)||void 0===l?void 0:l.element)===a&&"hover"===(null===(s=e.state.activeEmbeddable)||void 0===s?void 0:s.state);return(0,V.jsx)("div",{className:(0,le.A)("excalidraw__embeddable-container",{"is-hovered":D}),style:{transform:A?"translate(".concat(x-e.state.offsetLeft,"px, ").concat(w-e.state.offsetTop,"px) scale(").concat(t,")"):"none",display:A?"block":"none",opacity:(0,b.Ri)(a,(0,b.Gi)(a,e.scene.getNonDeletedElementsMap()),e.elementsPendingErasure,null,"elementLinkSelector"===(null===(c=e.state.openDialog)||void 0===c?void 0:c.name)?b.Ga:1),"--embeddable-radius":"".concat((0,b.wg)(Math.min(a.width,a.height),a),"px")},children:(0,V.jsxs)("div",{className:"excalidraw__embeddable-container__inner",style:{width:A?"".concat(a.width,"px"):0,height:A?"".concat(a.height,"px"):0,transform:A?"rotate(".concat(a.angle,"rad)"):"none",pointerEvents:I?b.B.enabled:b.B.disabled},children:[D&&(0,V.jsx)("div",{className:"excalidraw__embeddable-hint",children:Fi("buttons.embeddableInteractionButton")}),(0,V.jsx)("div",{className:"excalidraw__embeddable__outer",style:{padding:"".concat(a.strokeWidth,"px")},children:null!==(d=(0,b.Xb)(a)?null===(u=(f=e.props).renderEmbeddable)||void 0===u?void 0:u.call(f,a,e.state):null)&&void 0!==d?d:(0,V.jsx)("iframe",{ref:function(t){return e.cacheEmbeddableRef(a,t)},className:"excalidraw__embeddable",srcDoc:"document"===(null===(h=g)||void 0===h?void 0:h.type)?g.srcdoc(e.state.theme):void 0,src:"document"!==(null===(p=g)||void 0===p?void 0:p.type)?null!==(v=null===(U=g)||void 0===U?void 0:U.link)&&void 0!==v?v:"":void 0,scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",title:"Excalidraw Embedded Content",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:"".concat(null!==(m=g)&&void 0!==m&&null!==(m=m.sandbox)&&void 0!==m&&m.allowSameOrigin?"allow-same-origin":""," allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-downloads")})})]})},a.id)}))})}},{key:"toggleOverscrollBehavior",value:function(e){document.documentElement.style.overscrollBehaviorX="pointerenter"===e.type?"none":"auto"}},{key:"render",value:function(){var e,t,n,r,a,i,o,l=this,s=this.scene.getSelectedElements(this.state),c=this.props,d=c.renderTopRightUI,u=c.renderCustomStats,f=this.scene.getSceneNonce(),h=this.renderer.getRenderableElements({sceneNonce:f,zoom:this.state.zoom,offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,height:this.state.height,width:this.state.width,editingTextElement:this.state.editingTextElement,newElementId:null===(e=this.state.newElement)||void 0===e?void 0:e.id,pendingImageElementId:this.state.pendingImageElementId}),v=h.elementsMap,U=h.visibleElements;this.visibleElements=U;var m=this.scene.getNonDeletedElementsMap(),g=!("setPointerCapture"in HTMLElement.prototype)&&(this.state.selectionElement||this.state.newElement||this.state.selectedElementsAreBeingDragged||this.state.resizingElement||"laser"===this.state.activeTool.type&&"down"===this.state.cursorButton),y=s[0];return(0,V.jsx)("div",{className:(0,le.A)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled||"elementLinkSelector"===(null===(t=this.state.openDialog)||void 0===t?void 0:t.name),"excalidraw--mobile":this.device.editor.isMobile}),style:{"--ui-pointerEvents":g?b.B.disabled:b.B.enabled,"--right-sidebar-width":"302px"},ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,onPointerEnter:this.toggleOverscrollBehavior,onPointerLeave:this.toggleOverscrollBehavior,children:(0,V.jsx)(zp.Provider,{value:this,children:(0,V.jsx)(Bp.Provider,{value:this.props,children:(0,V.jsx)(Xp.Provider,{value:this.excalidrawContainerValue,children:(0,V.jsx)(Wp.Provider,{value:this.device,children:(0,V.jsx)(Yp.Provider,{value:this.setAppState,children:(0,V.jsx)(Vp.Provider,{value:this.state,children:(0,V.jsxs)(Gp.Provider,{value:this.scene.getNonDeletedElements(),children:[(0,V.jsxs)(Zp.Provider,{value:this.actionManager,children:[(0,V.jsx)(Bh,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,langCode:Pi().code,renderTopRightUI:d,renderCustomStats:u,showExitZenModeBtn:typeof(null===(n=this.props)||void 0===n?void 0:n.zenModeEnabled)>"u"&&this.state.zenModeEnabled,UIOptions:this.props.UIOptions,onExportImage:this.onExportImage,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&"selection"===this.state.activeTool.type&&!this.state.zenModeEnabled&&!this.scene.getElementsIncludingDeleted().length,app:this,isCollaborating:this.props.isCollaborating,generateLinkForSelection:this.props.generateLinkForSelection,children:this.props.children}),(0,V.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,V.jsx)("div",{className:"excalidraw-contextMenuContainer"}),(0,V.jsx)("div",{className:"excalidraw-eye-dropper-container"}),(0,V.jsx)(Sp,{trails:[this.laserTrails,this.eraserTrail]}),1===s.length&&"elementLinkSelector"!==(null===(r=this.state.openDialog)||void 0===r?void 0:r.name)&&this.state.showHyperlinkPopup&&(0,V.jsx)(Ns,{element:y,elementsMap:m,setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen,setToast:this.setToast,updateEmbedValidationStatus:this.updateEmbedValidationStatus},y.id),!1!==this.props.aiEnabled&&1===s.length&&(0,b.ac)(y)&&(0,V.jsx)(Mp,{element:y,elementsMap:v,children:(0,V.jsx)(Cp,{title:Fi("labels.convertToCode"),icon:b.jf,checked:!1,onChange:function(){return l.onMagicFrameGenerate(y,"button")}})}),1===s.length&&(0,b.Yb)(y)&&"done"===(null===(a=y.customData)||void 0===a||null===(a=a.generationData)||void 0===a?void 0:a.status)&&(0,V.jsxs)(Mp,{element:y,elementsMap:v,children:[(0,V.jsx)(Cp,{title:Fi("labels.copySource"),icon:b._e,checked:!1,onChange:function(){return l.onIframeSrcCopy(y)}}),(0,V.jsx)(Cp,{title:"Enter fullscreen",icon:b.kf,checked:!1,onChange:function(){var e=l.getHTMLIFrameElement(y);if(e)try{e.requestFullscreen(),l.setState({activeEmbeddable:{element:y,state:"active"},selectedElementIds:(0,p.default)({},y.id,!0),newElement:null,selectionElement:null})}catch(t){console.warn(t),l.setState({errorMessage:"Couldn't enter fullscreen"})}}})]}),null!==this.state.toast&&(0,V.jsx)(Hh,{message:this.state.toast.message,onClose:function(){return l.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,V.jsx)(Zd,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager,onClose:function(e){l.setState({contextMenu:null},(function(){l.focusContainer(),null===e||void 0===e||e()}))}}),(0,V.jsx)(Ep,{canvas:this.canvas,rc:this.rc,elementsMap:v,allElementsMap:m,visibleElements:U,sceneNonce:f,selectionNonce:null===(i=this.state.selectionElement)||void 0===i?void 0:i.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:(0,b.fj)(this),canvasBackgroundColor:this.state.viewBackgroundColor,embedsValidationStatus:this.embedsValidationStatus,elementsPendingErasure:this.elementsPendingErasure,pendingFlowchartNodes:this.flowChartCreator.pendingNodes}}),this.state.newElement&&(0,V.jsx)(Op,{appState:this.state,scale:window.devicePixelRatio,rc:this.rc,elementsMap:v,allElementsMap:m,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:!1,canvasBackgroundColor:this.state.viewBackgroundColor,embedsValidationStatus:this.embedsValidationStatus,elementsPendingErasure:this.elementsPendingErasure,pendingFlowchartNodes:null}}),(0,V.jsx)(wp,{containerRef:this.excalidrawContainerRef,canvas:this.interactiveCanvas,elementsMap:v,visibleElements:U,allElementsMap:m,selectedElements:s,sceneNonce:f,selectionNonce:null===(o=this.state.selectionElement)||void 0===o?void 0:o.versionNonce,scale:window.devicePixelRatio,appState:this.state,device:this.device,renderInteractiveSceneCallback:this.renderInteractiveSceneCallback,handleCanvasRef:this.handleInteractiveCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick}),this.state.userToFollow&&(0,V.jsx)(jp,{width:this.state.width,height:this.state.height,userToFollow:this.state.userToFollow,onDisconnect:this.maybeUnfollowRemoteUser}),this.renderFrameNames()]}),this.renderEmbeddables()]})})})})})})})})}},{key:"setPlugins",value:function(e){Object.assign(this.plugins,e)}},{key:"onMagicFrameGenerate",value:function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n){var r,a,i,o,s,c,d;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(r=this.plugins.diagramToCode)||void 0===r?void 0:r.generate){e.next=4;break}return this.setState({errorMessage:"No diagram to code plugin found"}),e.abrupt("return");case 4:if(i=(0,b.Pi)(this.scene.getNonDeletedElements(),t).filter((function(e){return!(0,b.ac)(e)})),i.length){e.next=8;break}return"button"===n?(this.setState({errorMessage:"Cannot generate from an empty frame"}),vo("ai","generate (no-children)","d2c")):this.setActiveTool({type:"magicframe"}),e.abrupt("return");case 8:if(!(o=this.insertIframeElement({sceneX:t.x+t.width+30,sceneY:t.y,width:t.width,height:t.height}))){e.next=26;break}return this.updateMagicGeneration({frameElement:o,data:{status:"pending"}}),this.setState({selectedElementIds:(0,p.default)({},o.id,!0)}),vo("ai","generate (start)","d2c"),e.prev=11,e.next=14,a({frame:t,children:i});case 14:if(s=e.sent,c=s.html,vo("ai","generate (success)","d2c"),c.trim()){e.next=19;break}return this.updateMagicGeneration({frameElement:o,data:{status:"error",code:"ERR_OAI",message:"Nothing genereated :("}}),e.abrupt("return");case 19:d=c.includes("<!DOCTYPE html>")&&c.includes("</html>")?c.slice(c.indexOf("<!DOCTYPE html>"),c.indexOf("</html>")+7):c,this.updateMagicGeneration({frameElement:o,data:{status:"done",html:d}}),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(11),vo("ai","generate (failed)","d2c"),this.updateMagicGeneration({frameElement:o,data:{status:"error",code:"ERR_OAI",message:e.t0.message||"Unknown error during generation"}});case 26:case"end":return e.stop()}}),e,this,[[11,23]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onIframeSrcCopy",value:function(e){var t;"done"===(null===(t=e.customData)||void 0===t||null===(t=t.generationData)||void 0===t?void 0:t.status)&&((0,b.oi)(e.customData.generationData.html),this.setToast({message:"copied to clipboard",closable:!1,duration:1500}))}},{key:"clearImageShapeCache",value:function(e){var t=this,n=null!==e&&void 0!==e?e:this.files;this.scene.getNonDeletedElements().forEach((function(e){(0,b.Vb)(e)&&n[e.fileId]&&(t.imageCache.delete(e.fileId),b.ed.delete(e))}))}},{key:"componentDidMount",value:function(){var e=(0,s.A)((0,l.A)().mark((function e(){var t,n=this;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,(y.a.MODE===b.D.TEST||y.a.DEV)&&(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return n.state}},setState:{configurable:!0,value:function(){return n.setState.apply(n,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history},store:{configurable:!0,value:this.store},fonts:{configurable:!0,value:this.fonts}})),this.store.onStoreIncrementEmitter.on((function(e){n.history.record(e.elementsChange,e.appStateChange)})),this.scene.onUpdate(this.triggerRender),this.addEventListeners(),this.props.autoFocus&&this.excalidrawContainerRef.current&&this.focusContainer(),(0,b.Ab)()||(this.refreshViewportBreakpoints(),this.refreshEditorBreakpoints()),b.r&&this.excalidrawContainerRef.current&&(this.resizeObserver=new ResizeObserver((function(){n.refreshEditorBreakpoints(),n.updateDOMRect()})),null!==(t=this.resizeObserver)&&void 0!==t&&t.observe(this.excalidrawContainerRef.current)),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,b.q)()&&!(0,b.yc)()&&this.setState({errorMessage:(0,V.jsx)(Zh,{})});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e,t;null!==(e=window.launchQueue)&&void 0!==e&&e.setConsumer((function(){})),this.renderer.destroy(),this.scene.destroy(),this.scene=new b.Oj,this.fonts=new b.Qf(this.scene),this.renderer=new kp(this.scene),this.files={},this.imageCache.clear(),null!==(t=this.resizeObserver)&&void 0!==t&&t.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.library.destroy(),this.laserTrails.stop(),this.eraserTrail.stop(),this.onChangeEmitter.clear(),this.store.onStoreIncrementEmitter.clear(),b.ed.destroy(),b.ej.destroy(),clearTimeout(cv),b.tk.clearCache(),b.Jc.clearCache(),cv=0,document.documentElement.style.overscrollBehaviorX=""}},{key:"removeEventListeners",value:function(){this.onRemoveEventListenersEmitter.trigger()}},{key:"addEventListeners",value:function(){var e=this;this.removeEventListeners(),this.props.handleKeyboardGlobally&&this.onRemoveEventListenersEmitter.once((0,b.Pb)(document,"keydown",this.onKeyDown,!1)),this.onRemoveEventListenersEmitter.once((0,b.Pb)(this.excalidrawContainerRef.current,"wheel",this.handleWheel,{passive:!1}),(0,b.Pb)(window,"message",this.onWindowMessage,!1),(0,b.Pb)(document,"pointerup",this.removePointer,{passive:!1}),(0,b.Pb)(document,"copy",this.onCopy,{passive:!1}),(0,b.Pb)(document,"keyup",this.onKeyUp,{passive:!0}),(0,b.Pb)(document,"pointermove",this.updateCurrentCursorPosition,{passive:!1}),(0,b.Pb)(document.fonts,"loadingdone",(function(t){var n=t.fontfaces;e.fonts.onLoaded(n)}),{passive:!1}),(0,b.Pb)(document,"gesturestart",this.onGestureStart,!1),(0,b.Pb)(document,"gesturechange",this.onGestureChange,!1),(0,b.Pb)(document,"gestureend",this.onGestureEnd,!1),(0,b.Pb)(window,"focus",(function(){e.maybeCleanupAfterMissingPointerUp(null),e.triggerRender(!0)}),{passive:!1})),!this.state.viewModeEnabled&&(this.onRemoveEventListenersEmitter.once((0,b.Pb)(document,"fullscreenchange",this.onFullscreenChange,{passive:!1}),(0,b.Pb)(document,"paste",this.pasteFromClipboard,{passive:!1}),(0,b.Pb)(document,"cut",this.onCut,{passive:!1}),(0,b.Pb)(window,"resize",this.onResize,!1),(0,b.Pb)(window,"unload",this.onUnload,!1),(0,b.Pb)(window,"blur",this.onBlur,!1),(0,b.Pb)(this.excalidrawContainerRef.current,"wheel",this.handleWheel,{passive:!1}),(0,b.Pb)(this.excalidrawContainerRef.current,"dragover",this.disableEvent,!1),(0,b.Pb)(this.excalidrawContainerRef.current,"drop",this.disableEvent,!1)),this.props.detectScroll&&this.onRemoveEventListenersEmitter.once((0,b.Pb)((0,b.ub)(this.excalidrawContainerRef.current),"scroll",this.onScroll,{passive:!1})))}},{key:"componentDidUpdate",value:function(e,t){var n,r,a,i,o,l,s,c,d,u,f=this;this.updateEmbeddables();var h=this.scene.getElementsIncludingDeleted(),p=this.scene.getElementsMapIncludingDeleted(),v=this.scene.getNonDeletedElementsMap();!this.state.showWelcomeScreen&&!h.length&&this.setState({showWelcomeScreen:!0}),e.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshEditorBreakpoints(),t.userToFollow&&!this.state.collaborators.has(t.userToFollow.socketId)&&this.maybeUnfollowRemoteUser(),(t.zoom.value!==this.state.zoom.value||t.scrollX!==this.state.scrollX||t.scrollY!==this.state.scrollY)&&(null!==(n=this.props)&&void 0!==n&&null!==(r=n.onScrollChange)&&void 0!==r&&r.call(n,this.state.scrollX,this.state.scrollY,this.state.zoom),this.onScrollChangeEmitter.trigger(this.state.scrollX,this.state.scrollY,this.state.zoom)),t.userToFollow!==this.state.userToFollow&&(t.userToFollow&&this.onUserFollowEmitter.trigger({userToFollow:t.userToFollow,action:"UNFOLLOW"}),this.state.userToFollow&&this.onUserFollowEmitter.trigger({userToFollow:this.state.userToFollow,action:"FOLLOW"})),Object.keys(this.state.selectedElementIds).length&&(0,b.Gc)(this.state)&&this.setState({activeTool:(0,b.jb)(this.state,{type:"selection"})}),"eraser"===this.state.activeTool.type&&t.theme!==this.state.theme&&(0,b.cd)(this.interactiveCanvas,this.state.theme),"selection"===t.activeTool.type&&"selection"!==this.state.activeTool.type&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),e.langCode!==this.props.langCode&&this.updateLanguage(),(0,b.Gc)(t)&&!(0,b.Gc)(this.state)&&this.eraserTrail.endPath(),e.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),t.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),("elementLinkSelector"===(null===(a=t.openDialog)||void 0===a?void 0:a.name)||"elementLinkSelector"===(null===(i=this.state.openDialog)||void 0===i?void 0:i.name))&&(null===(o=t.openDialog)||void 0===o?void 0:o.name)!==(null===(l=this.state.openDialog)||void 0===l?void 0:l.name)&&(this.deselectElements(),this.setState({hoveredElementIds:{}})),e.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),e.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),null!==(s=this.excalidrawContainerRef.current)&&void 0!==s&&s.classList.toggle("theme--dark",this.state.theme===b.G.DARK),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout((function(){f.state.editingLinearElement&&f.actionManager.executeAction(Ol)})),null!==(c=this.state.editingTextElement)&&void 0!==c&&c.isDeleted&&this.setState({editingTextElement:null}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var U=t.multiElement;t.activeTool!==this.state.activeTool&&null!=U&&(0,b.Fg)(this.state)&&(0,b.gc)(U,!1)&&(0,b.Lg)(U,this.state,(0,b.ob)(b.pj.getPointAtIndexGlobalCoordinates(U,-1,v)),this.scene.getNonDeletedElementsMap(),this.scene.getNonDeletedElements()),this.store.commit(p,this.state),this.state.isLoading||(null!==(d=(u=this.props).onChange)&&void 0!==d&&d.call(u,h,this.state,this.files),this.onChangeEmitter.trigger(h,this.state,this.files))}},{key:"addElementsFromMixedContentPaste",value:function(){var e=(0,s.A)((0,l.A)().mark((function e(t,n){var r,a,i,o,c,d,u,f,h,p,v,m,g,y,x;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.isPlainPaste,a=n.sceneX,i=n.sceneY,r||!t.some((function(e){return"imageUrl"===e.type}))||!this.isToolSupported("image")){e.next=35;break}return o=t.filter((function(e){return"imageUrl"===e.type})).map((function(e){return e.value})),e.next=5,Promise.all(o.map(function(){var e=(0,s.A)((0,l.A)().mark((function e(t){var n;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.Gh)(t);case 3:return e.t0=e.sent,e.abrupt("return",{file:e.t0});case 7:return e.prev=7,e.t1=e.catch(0),n=e.t1.message,e.abrupt("return",("FETCH_ERROR"===e.t1.cause?n=Fi("errors.failedToFetchImage"):"UNSUPPORTED"===e.t1.cause&&(n=Fi("errors.unsupportedFileType")),{errorMessage:n}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 5:c=e.sent,d=i,u=!1,f={},h=(0,U.A)(c),e.prev=10,h.s();case 12:if((p=h.n()).done){e.next=22;break}if(!(v=p.value).file){e.next=20;break}return m=this.createImageElement({sceneX:a,sceneY:d}),e.next=18,this.insertImageElement(m,v.file);case 18:(g=e.sent)&&(u||(u=!0,d-=g.height/2),(0,b.Pj)(g,{y:d},!1),d=m.y+m.height+25,f[m.id]=!0);case 20:e.next=12;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(10),h.e(e.t0);case 27:return e.prev=27,h.f(),e.finish(27);case 30:this.setState({selectedElementIds:(0,b.xk)(f,this.state)}),y=c.find((function(e){return!!e.errorMessage})),y&&y.errorMessage&&this.setState({errorMessage:y.errorMessage}),e.next=37;break;case 35:x=t.filter((function(e){return"text"===e.type})),x.length&&this.addTextFromPaste(x.map((function(e){return e.value})).join("\n\n"),r);case 37:case"end":return e.stop()}}),e,this,[[10,24,27,30]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addTextFromPaste",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,b.lb)({clientX:this.lastViewportPosition.x,clientY:this.lastViewportPosition.y},this.state),a=r.x,i=r.y,o={x:a,y:i,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:e,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:b.K,verticalAlign:b.L,locked:!1},l=(0,b.cb)({fontSize:o.fontSize,fontFamily:o.fontFamily}),s=(0,b.Rf)(o.fontFamily),d=(0,b.dj)(this.state),u=(0,c.A)(d,3),f=u[0],h=u[2],p=Math.max(Math.min(.5*(h-f),800),200),U=i,m=n?[e]:e.split("\n"),g=m.reduce((function(e,n,r){var i,c=(0,b.zc)(n).trim();if(c.length){var d=t.getTopLayerFrameAtSceneCoords({x:a,y:U}),u=(0,b.vc)(c,l,s),f=u.width>p,h=f?(0,b.Ec)(c,l,p):c;u=f?(0,b.vc)(h,l,s):u;var g=a-u.width/2,y=U-u.height/2,x=(0,b.Xf)((0,v.A)((0,v.A)({},o),{},{x:g,y:y,text:h,originalText:c,lineHeight:s,autoResize:!f,frameId:d?d.id:null}));e.push(x),U+=x.height+10}else(null===(i=m[r-1])||void 0===i?void 0:i.trim())&&(U+=(0,b.Ac)(o.fontSize,s)+10);return e}),[]);0!==g.length&&(this.scene.insertElements(g),this.setState({selectedElementIds:(0,b.xk)(Object.fromEntries(g.map((function(e){return[e.id,!0]}))),this.state)}),!n&&g.length>1&&!1===pv&&!this.device.editor.isMobile&&(this.setToast({message:Fi("toast.pasteAsSingleElement",{shortcut:(0,b.kb)("CtrlOrCmd+Shift+V")}),duration:5e3}),pv=!0),this.store.shouldCaptureIncrement())}},{key:"handleTextWysiwyg",value:function(e,t){var n=this,r=t.isExistingElement,a=void 0!==r&&r,i=this.scene.getElementsMapIncludingDeleted(),o=function(t,r){n.scene.replaceAllElements((0,g.A)(n.scene.getElementsIncludingDeleted().map((function(n){return n.id===e.id&&(0,b._b)(n)?(0,b.Qj)(n,(0,v.A)({originalText:t,isDeleted:null!==r&&void 0!==r?r:n.isDeleted},(0,b.Yf)(n,(0,b.Aj)(n,i),i,t))):n}))))};Lp({id:e.id,canvas:this.canvas,getViewportCoords:function(e,t){var r=(0,b.mb)({sceneX:e,sceneY:t},n.state),a=r.x,i=r.y;return[a-n.state.offsetLeft,i-n.state.offsetTop]},onChange:np((function(t){o(t,!1),(0,b.qk)(e)&&(0,b.Pg)(e,n.scene.getNonDeletedElementsMap())})),onSubmit:np((function(t){var r=t.viaKeyboard,i=t.nextOriginalText,l=!i.trim();if(o(i,l),!l&&r){var s=e.containerId?e.containerId:e.id;(0,se.flushSync)((function(){n.setState((function(e){return{selectedElementIds:(0,b.xk)((0,v.A)((0,v.A)({},e.selectedElementIds),{},(0,p.default)({},s,!0)),e)}}))}))}l&&(0,b.Tg)(n.scene.getNonDeletedElements(),[e]),(!l||a)&&n.store.shouldCaptureIncrement(),(0,se.flushSync)((function(){n.setState({newElement:null,editingTextElement:null})})),n.state.activeTool.locked&&(0,b.dd)(n.interactiveCanvas,n.state),n.focusContainer()})),element:e,excalidrawContainer:this.excalidrawContainerRef.current,app:this,autoSelect:!this.device.isTouchScreen}),this.deselectElements(),o(e.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:(0,b.xk)({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}},{key:"getTextElementAtPosition",value:function(e,t){var n=this.getElementAtPosition(e,t,{includeBoundTextElement:!0});return n&&(0,b._b)(n)&&!n.isDeleted?n:null}},{key:"getElementAtPosition",value:function(e,t,n){var r=this.getElementsAtPosition(e,t,null===n||void 0===n?void 0:n.includeBoundTextElement,null===n||void 0===n?void 0:n.includeLockedElements);if(r.length>1){if(null!==n&&void 0!==n&&n.preferSelected)for(var a=r.length-1;a>-1;a--)if(this.state.selectedElementIds[r[a].id])return r[a];var i=r[r.length-1];return(0,b.ng)({x:e,y:t,element:i,shape:(0,b.tg)(i,this.scene.getNonDeletedElementsMap()),threshold:this.getElementHitThreshold()/2,frameNameBound:(0,b.bc)(i)?this.frameNameBoundsCache.get(i):null})?i:r[r.length-2]}return 1===r.length?r[0]:null}},{key:"getElementsAtPosition",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o=this.scene.getNonDeletedElementsMap();return(r&&a?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter((function(e){return(a||!e.locked)&&(r||!((0,b._b)(e)&&e.containerId))}))).filter((function(r){return n.hitElement(e,t,r)})).filter((function(r){var a=(0,b.Gi)(r,o);return!(a&&n.state.frameRendering.enabled&&n.state.frameRendering.clip)||(0,b.zi)({x:e,y:t},a,o)})).filter((function(e){return!(0,b.Yb)(e)||(i.push(e),!1)})).concat(i)}},{key:"getElementHitThreshold",value:function(){return b.N/this.state.zoom.value}},{key:"hitElement",value:function(e,t,n){if((!(arguments.length>3&&void 0!==arguments[3])||arguments[3])&&this.state.selectedElementIds[n.id]&&(0,b._j)([n],this.state)){var r=(0,b.eg)(n,this.scene.getNonDeletedElementsMap(),(0,b.Wb)(n)?0:this.getElementHitThreshold());if((0,b.fg)((0,b.Ua)(e,t),r))return!0}return!!(0,b.qg)(e,t,(0,b.ug)(n,this.scene.getNonDeletedElementsMap()))||(0,b.ng)({x:e,y:t,element:n,shape:(0,b.tg)(n,this.scene.getNonDeletedElementsMap()),threshold:this.getElementHitThreshold(),frameNameBound:(0,b.bc)(n)?this.frameNameBoundsCache.get(n):null})}},{key:"getTextBindableContainerAtPosition",value:function(e,t){var n=this.scene.getNonDeletedElements(),r=this.scene.getSelectedElements(this.state);if(1===r.length)return(0,b.jc)(r[0],!1)?r[0]:null;for(var a=null,i=n.length-1;i>=0;--i)if(!n[i].isDeleted){var o=(0,b.aj)(n[i],this.scene.getNonDeletedElementsMap()),l=(0,c.A)(o,4),s=l[0],d=l[1],u=l[2],f=l[3];if((0,b.dc)(n[i])&&(0,b.ng)({x:e,y:t,element:n[i],shape:(0,b.tg)(n[i],this.scene.getNonDeletedElementsMap()),threshold:this.getElementHitThreshold()})){a=n[i];break}if(s<e&&e<u&&d<t&&t<f){a=n[i];break}}return(0,b.jc)(a,!1)?a:null}},{key:"handleHoverSelectedLinearElement",value:function(e,t,n){var r=this.scene.getNonDeletedElementsMap(),a=b.pj.getElement(e.elementId,r);if(a)if(this.state.selectedLinearElement){var i=-1,o=null;(0,b.ng)({x:t,y:n,element:a,shape:(0,b.tg)(a,this.scene.getNonDeletedElementsMap())})?(i=b.pj.getPointIndexUnderCursor(a,r,this.state.zoom,t,n),o=b.pj.getSegmentMidpointHitCoords(e,{x:t,y:n},this.state,this.scene.getNonDeletedElementsMap()),((0,b.ec)(a)?0===i||i===a.points.length-1:i>=0)||o?(0,b.bd)(this.interactiveCanvas,b.z.POINTER):this.hitElement(t,n,a)&&(0,b.bd)(this.interactiveCanvas,b.z.MOVE)):this.hitElement(t,n,a)&&(!(0,b.ec)(a)||!(a.startBinding||a.endBinding))&&(0,b.bd)(this.interactiveCanvas,b.z.MOVE),this.state.selectedLinearElement.hoverPointIndex!==i&&this.setState({selectedLinearElement:(0,v.A)((0,v.A)({},this.state.selectedLinearElement),{},{hoverPointIndex:i})}),b.pj.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,o)||this.setState({selectedLinearElement:(0,v.A)((0,v.A)({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:o})})}else(0,b.bd)(this.interactiveCanvas,b.z.AUTO)}},{key:"updateGestureOnPointerDown",value:function(e){Uv.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY}),2===Uv.pointers.size&&(Uv.lastCenter=Wd(Uv.pointers),Uv.initialScale=this.state.zoom.value,Uv.initialDistance=Xd(Array.from(Uv.pointers.values())))}},{key:"initialPointerDownState",value:function(e){var t=(0,b.lb)(e,this.state),n=this.scene.getSelectedElements(this.state),r=(0,b.bj)(n),a=(0,c.A)(r,4),i=a[0],o=a[1],l=a[2],s=a[3],d=0===n.findIndex(b.ec);return{origin:t,withCmdOrCtrl:e[b.hg.CTRL_OR_CMD],originInGrid:(0,b.ob)((0,b.oj)(t.x,t.y,e[b.hg.CTRL_OR_CMD]||d?null:this.getEffectiveGridSize())),scrollbars:yu(sv,e.clientX-this.state.offsetLeft,e.clientY-this.state.offsetTop),lastCoords:(0,v.A)({},t),originalElements:this.scene.getNonDeletedElements().reduce((function(e,t){return e.set(t.id,(0,b.bg)(t)),e}),new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(l+i)/2,y:(s+o)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(t,n)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1}}}},{key:"handleDraggingScrollBar",value:function(e,t){var n=this;if(!t.scrollbars.isOverEither||this.state.multiElement)return!1;lv=!0,t.lastCoords.x=e.clientX,t.lastCoords.y=e.clientY;var r=rp((function(e){e.target instanceof HTMLElement&&n.handlePointerMoveOverScrollbars(e,t)})),a=np((function(){vv=null,lv=!1,(0,b.dd)(n.interactiveCanvas,n.state),n.setState({cursorButton:"up"}),n.savePointer(e.clientX,e.clientY,"up"),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",a),r.flush()}));return vv=a,window.addEventListener("pointermove",r),window.addEventListener("pointerup",a),!0}},{key:"isASelectedElement",value:function(e){return null!=e&&this.state.selectedElementIds[e.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(e,t){if(t.length<2)return!1;var n=this.getElementHitThreshold(),r=(0,b.bj)(t),a=(0,c.A)(r,4),i=a[0],o=a[1],l=a[2],s=a[3];return e.x>i-n&&e.x<l+n&&e.y>o-n&&e.y<s+n}},{key:"getCurrentItemRoundness",value:function(e){return"round"===this.state.currentItemRoundness?{type:(0,b.oc)(e)?b.ua.ADAPTIVE_RADIUS:b.ua.PROPORTIONAL_RADIUS}:null}},{key:"maybeCacheReferenceSnapPoints",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,b.gj)({event:e,app:this,selectedElements:t})&&(n||!b.ej.getReferenceSnapPoints())&&b.ej.setReferenceSnapPoints((0,b.ij)(this.scene.getNonDeletedElements(),t,this.state,this.scene.getNonDeletedElementsMap()))}},{key:"maybeCacheVisibleGaps",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,b.gj)({event:e,app:this,selectedElements:t})&&(n||!b.ej.getVisibleGaps())&&b.ej.setVisibleGaps((0,b.hj)(this.scene.getNonDeletedElements(),t,this.state,this.scene.getNonDeletedElementsMap()))}},{key:"onKeyDownFromPointerDownHandler",value:function(e){var t=this;return np((function(n){t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onKeyUpFromPointerDownHandler",value:function(e){var t=this;return np((function(n){n.key===b.hg.ALT&&n.preventDefault(),!t.maybeHandleResize(e,n)&&t.maybeDragNewGenericElement(e,n)}))}},{key:"onPointerMoveFromPointerDownHandler",value:function(e){var t=this;return rp((function(n){var r,a,i;if("elementLinkSelector"!==(null===(r=t.state.openDialog)||void 0===r?void 0:r.name)){var o=(0,b.lb)(n,t.state);if(t.state.selectedLinearElement&&t.state.selectedLinearElement.elbowed&&t.state.selectedLinearElement.pointerDownState.segmentMidpoint.index){var l=(0,b.oj)(o.x,o.y,n[b.hg.CTRL_OR_CMD]?null:t.getEffectiveGridSize()),s=(0,c.A)(l,2),d=s[0],u=s[1],f=t.state.selectedLinearElement.pointerDownState.segmentMidpoint.index;if(f<0){var h=b.pj.getSegmentMidpointHitCoords((0,v.A)((0,v.A)({},t.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:null}),{x:d,y:u},t.state,t.scene.getNonDeletedElementsMap());f=h?b.pj.getSegmentMidPointIndex(t.state.selectedLinearElement,t.state,h,t.scene.getNonDeletedElementsMap()):-1}var m=b.pj.moveFixedSegment(t.state.selectedLinearElement,f,d,u,t.scene.getNonDeletedElementsMap());(0,se.flushSync)((function(){t.state.selectedLinearElement&&t.setState({selectedLinearElement:(0,v.A)((0,v.A)({},t.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:m.segmentMidPointHoveredCoords,pointerDownState:m.pointerDownState})})}))}else{var y=null!==(a=t.lastPointerMoveCoords)&&void 0!==a?a:e.origin;if(t.lastPointerMoveCoords=o,null===e.drag.offset&&(e.drag.offset=(0,b.ob)((0,b.jk)(t.scene.getSelectedElements(t.state),e.origin.x,e.origin.y))),n.target instanceof HTMLElement&&!t.handlePointerMoveOverScrollbars(n,e))if((0,b.Gc)(t.state))t.handleEraser(n,e,o);else{"laser"===t.state.activeTool.type&&t.laserTrails.addPointToPath(o.x,o.y);var x=(0,b.oj)(o.x,o.y,n[b.hg.CTRL_OR_CMD]?null:t.getEffectiveGridSize()),w=(0,c.A)(x,2),A=w[0],E=w[1];if(e.drag.hasOccurred||"arrow"!==t.state.activeTool.type&&"line"!==t.state.activeTool.type||!((0,b.Wa)((0,b.Ua)(o.x,o.y),(0,b.Ua)(e.origin.x,e.origin.y))<b.t)){if(e.resize.isResizing&&(e.lastCoords.x=o.x,e.lastCoords.y=o.y,t.maybeHandleCrop(e,n)||t.maybeHandleResize(e,n)))return!0;var k=t.scene.getNonDeletedElementsMap();if(t.state.selectedLinearElement){var S=t.state.editingLinearElement||t.state.selectedLinearElement;if(b.pj.shouldAddMidpoint(t.state.selectedLinearElement,o,t.state,k)){var M=b.pj.addMidpoint(t.state.selectedLinearElement,o,t,!n[b.hg.CTRL_OR_CMD],k);if(!M)return;return void(0,se.flushSync)((function(){t.state.selectedLinearElement&&t.setState({selectedLinearElement:(0,v.A)((0,v.A)({},t.state.selectedLinearElement),{},{pointerDownState:M.pointerDownState,selectedPointsIndices:M.selectedPointsIndices})}),t.state.editingLinearElement&&t.setState({editingLinearElement:(0,v.A)((0,v.A)({},t.state.editingLinearElement),{},{pointerDownState:M.pointerDownState,selectedPointsIndices:M.selectedPointsIndices})})}))}if(null!==S.pointerDownState.segmentMidpoint.value&&!S.pointerDownState.segmentMidpoint.added)return;if(b.pj.handlePointDragging(n,t,o.x,o.y,(function(e,n){t.maybeSuggestBindingsForLinearElementAtCoords(e,n)}),S,t.scene))return e.lastCoords.x=o.x,e.lastCoords.y=o.y,e.drag.hasOccurred=!0,t.state.editingLinearElement&&!t.state.editingLinearElement.isDragging&&t.setState({editingLinearElement:(0,v.A)((0,v.A)({},t.state.editingLinearElement),{},{isDragging:!0})}),void(t.state.selectedLinearElement.isDragging||t.setState({selectedLinearElement:(0,v.A)((0,v.A)({},t.state.selectedLinearElement),{},{isDragging:!0})}))}var C=e.hit.allHitElements.some((function(e){return t.isASelectedElement(e)})),j=t.state.editingLinearElement&&n.shiftKey&&t.state.editingLinearElement.elementId===(null===(i=e.hit.element)||void 0===i?void 0:i.id);if((C||e.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!j){var I,D=t.scene.getSelectedElements(t.state);if(D.every((function(e){return e.locked})))return;var T=D.find((function(e){return(0,b.bc)(e)})),_=t.getTopLayerFrameAtSceneCoords(o),L=_&&!T?_:null;if(t.state.frameToHighlight!==L&&(0,se.flushSync)((function(){t.setState({frameToHighlight:L})})),e.drag.hasOccurred=!0,D.length>0&&!e.withCmdOrCtrl&&!t.state.editingTextElement&&"active"!==(null===(I=t.state.activeEmbeddable)||void 0===I?void 0:I.state)){var R={x:o.x-e.origin.x,y:o.y-e.origin.y},P=(0,g.A)(e.originalElements.values()),N=n.shiftKey;if(N){var F=Math.abs(R.x),O=Math.abs(R.y),z=N&&F>O;N&&F<O&&(R.x=0),z&&(R.y=0)}if(t.state.croppingElementId){var B=t.scene.getNonDeletedElementsMap().get(t.state.croppingElementId);if(B&&(0,b.Wb)(B)&&null!==B.crop&&e.hit.element===B){var H,W=B.crop,X=(0,b.Vb)(B)&&(null===(H=t.imageCache.get(B.fileId))||void 0===H?void 0:H.image);if(X&&!(X instanceof Promise)){var G=(0,b.Sa)((0,b.Oa)(o.x-y.x,o.y-y.y),Math.max(t.state.zoom.value,2)),V=(0,b.aj)(B,k),Y=(0,c.A)(V,6),Z=Y[0],K=Y[1],q=Y[2],$=Y[3],Q=Y[4],J=Y[5],ee=(0,b.Pa)((0,b.Va)((0,b.Ua)(Z,K),(0,b.Ua)(Q,J),B.angle)),te=(0,b.Pa)((0,b.Va)((0,b.Ua)(q,K),(0,b.Ua)(Q,J),B.angle)),ne=(0,b.Pa)((0,b.Va)((0,b.Ua)(Z,$),(0,b.Ua)(Q,J),B.angle)),re=(0,b.Ta)((0,b.Ra)(te,ee)),ae=(0,b.Ta)((0,b.Ra)(ne,ee)),ie=(0,b.Oa)((0,b.Qa)(G,re),(0,b.Qa)(G,ae)),oe=(0,v.A)((0,v.A)({},W),{},{x:(0,b.Ia)(W.x-ie[0]*Math.sign(B.scale[0]),0,X.naturalWidth-W.width),y:(0,b.Ia)(W.y-ie[1]*Math.sign(B.scale[1]),0,X.naturalHeight-W.height)});return void(0,b.Pj)(B,{crop:oe})}}}t.maybeCacheVisibleGaps(n,D),t.maybeCacheReferenceSnapPoints(n,D);var le=(0,b.jj)(P,R,t,n,t.scene.getNonDeletedElementsMap()),ce=le.snapOffset,de=le.snapLines;if(t.setState({snapLines:de}),t.state.editingFrame||(0,b.ik)(e,D,R,t.scene,ce,n[b.hg.CTRL_OR_CMD]?null:t.getEffectiveGridSize()),t.setState({selectedElementsAreBeingDragged:!0,selectionElement:null}),(1!==D.length||!(0,b.ec)(D[0]))&&t.setState({suggestedBindings:(0,b.Kg)(D,t.scene.getNonDeletedElementsMap(),t.state.zoom)}),n.altKey&&!e.hit.hasBeenDuplicated){var ue,fe;e.hit.hasBeenDuplicated=!0;var he,pe=[],ve=[],Ue=new Map,me=new Map,ge=e.hit.element,be=new Set(t.scene.getSelectedElements({selectedElementIds:t.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}).map((function(e){return e.id}))),ye=t.scene.getElementsIncludingDeleted(),xe=(0,U.A)(ye);try{for(xe.s();!(he=xe.n()).done;){var we=he.value,Ae=be.has(we.id)||we.id===(null===ge||void 0===ge?void 0:ge.id)&&e.hit.wasAddedToSelection;if(Math.abs(we.x)>1e7||Math.abs(we.x)>1e7||Math.abs(we.width)>1e7||Math.abs(we.height)>1e7)return void console.error("Alt+dragging element in scene with invalid dimensions",we.x,we.y,we.width,we.height,Ae);if(Ae){var Ee=(0,b.cg)(t.state.editingGroupId,Ue,we);if(Math.abs(Ee.x)>1e7||Math.abs(Ee.x)>1e7||Math.abs(Ee.width)>1e7||Math.abs(Ee.height)>1e7)return void console.error("Alt+dragging duplicated element with invalid dimensions",Ee.x,Ee.y,Ee.width,Ee.height);var ke=e.originalElements.get(we.id);if(Math.abs(ke.x)>1e7||Math.abs(ke.x)>1e7||Math.abs(ke.width)>1e7||Math.abs(ke.height)>1e7)return void console.error("Alt+dragging duplicated element with invalid dimensions",ke.x,ke.y,ke.width,ke.height);(0,b.Pj)(Ee,{x:ke.x,y:ke.y}),e.originalElements.set(Ee.id,Ee),pe.push(Ee),ve.push(we),me.set(we.id,Ee.id)}else pe.push(we)}}catch(ze){xe.e(ze)}finally{xe.f()}var Se=[].concat(pe,ve);Se=(null===(ue=(fe=t.props).onDuplicate)||void 0===ue?void 0:ue.call(fe,Se,ye))||Se,(0,b.Mj)(Se,(0,b.xb)(ve)),(0,b.vj)(pe,ve,me),(0,b.Sg)(Se,ve,me,"duplicatesServeAsOld"),(0,b.wi)(Se,ve,me),t.scene.replaceAllElements(Se),t.maybeCacheVisibleGaps(n,D,!0),t.maybeCacheReferenceSnapPoints(n,D,!0)}return}}if(t.state.selectionElement)e.lastCoords.x=o.x,e.lastCoords.y=o.y,t.maybeDragNewGenericElement(e,n);else{var Me=t.state.newElement;if(!Me)return;if("freedraw"===Me.type){var Ce=Me.points,je=o.x-Me.x,Ie=o.y-Me.y,De=Ce.length>0&&Ce[Ce.length-1];if(!De||De[0]!==je||De[1]!==Ie){var Te=Me.simulatePressure?Me.pressures:[].concat((0,g.A)(Me.pressures),[n.pressure]);(0,b.Pj)(Me,{points:[].concat((0,g.A)(Ce),[(0,b.Ua)(je,Ie)]),pressures:Te},!1),t.setState({newElement:Me})}}else if((0,b.cc)(Me)){var _e;e.drag.hasOccurred=!0;var Le=Me.points,Re=A-Me.x,Pe=E-Me.y;(0,b.mg)(n)&&2===Le.length&&(Re=(_e=(0,b.Vj)(Me.x,Me.y,o.x,o.y)).width,Pe=_e.height),1===Le.length?(0,b.Pj)(Me,{points:[].concat((0,g.A)(Le),[(0,b.Ua)(Re,Pe)])},!1):(2===Le.length||Le.length>1&&(0,b.ec)(Me))&&(0,b.Pj)(Me,{points:[].concat((0,g.A)(Le.slice(0,-1)),[(0,b.Ua)(Re,Pe)])},!1,{isDragging:!0}),t.setState({newElement:Me}),(0,b.gc)(Me,!1)&&t.maybeSuggestBindingsForLinearElementAtCoords(Me,[o],t.state.startBoundElement)}else e.lastCoords.x=o.x,e.lastCoords.y=o.y,t.maybeDragNewGenericElement(e,n,!1)}if("selection"===t.state.activeTool.type){e.boxSelection.hasOccurred=!0;var Ne=t.scene.getNonDeletedElements();if(t.state.editingLinearElement)b.pj.handleBoxSelection(n,t.state,t.setState.bind(t),t.scene.getNonDeletedElementsMap());else{var Fe=!0;!n.shiftKey&&(0,b.tk)(Ne,t.state)&&(e.withCmdOrCtrl&&e.hit.element?t.setState((function(n){return(0,b.Jc)((0,v.A)((0,v.A)({},n),{},{selectedElementIds:(0,p.default)({},e.hit.element.id,!0)}),t.scene.getNonDeletedElements(),n,t)})):Fe=!1);var Oe=t.state.selectionElement?(0,b.sk)(Ne,t.state.selectionElement,t.scene.getNonDeletedElementsMap(),!1):[];t.setState((function(n){var r=(0,v.A)((0,v.A)({},Fe&&n.selectedElementIds),Oe.reduce((function(e,t){return e[t.id]=!0,e}),{}));return e.hit.element&&(Oe.length?delete r[e.hit.element.id]:r[e.hit.element.id]=!0),n=Fe?n:(0,v.A)((0,v.A)({},n),{},{selectedGroupIds:{},editingGroupId:null}),(0,v.A)((0,v.A)({},(0,b.Jc)({editingGroupId:n.editingGroupId,selectedElementIds:r},t.scene.getNonDeletedElements(),n,t)),{},{selectedLinearElement:1===Oe.length&&(0,b.cc)(Oe[0])?new b.pj(Oe[0]):null,showHyperlinkPopup:!(1!==Oe.length||!Oe[0].link&&!(0,b.Xb)(Oe[0]))&&"info"})}))}}}}}}}))}},{key:"handlePointerMoveOverScrollbars",value:function(e,t){if(t.scrollbars.isOverHorizontal){var n=e.clientX,r=n-t.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-r/this.state.zoom.value}),t.lastCoords.x=n,!0}if(t.scrollbars.isOverVertical){var a=e.clientY,i=a-t.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-i/this.state.zoom.value}),t.lastCoords.y=a,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(e){var t=this;return np((function(n){var r,a,i,o,l,s;t.removePointer(n),e.eventListeners.onMove&&e.eventListeners.onMove.flush();var c=t.state,d=c.newElement,u=c.resizingElement,f=c.croppingElementId,h=c.multiElement,m=c.activeTool,y=c.isResizing,x=c.isRotating,w=c.isCropping;t.setState((function(e){return{isResizing:!1,isRotating:!1,isCropping:!1,resizingElement:null,selectionElement:null,frameToHighlight:null,elementsToHighlight:null,cursorButton:"up",snapLines:(0,b.Ob)(e.snapLines,[]),originSnapOffset:null}})),t.lastPointerMoveCoords=null,b.ej.setReferenceSnapPoints(null),b.ej.setVisibleGaps(null),t.savePointer(n.clientX,n.clientY,"up"),t.setState({selectedElementsAreBeingDragged:!1});var A=t.scene.getNonDeletedElementsMap();if(e.drag.hasOccurred&&null!==(r=e.hit)&&void 0!==r&&null!==(r=r.element)&&void 0!==r&&r.id){var E,k=A.get(e.hit.element.id);(0,b.ic)(k)&&(null===(E=k.boundElements)||void 0===E||E.filter((function(e){return"arrow"===e.type})).map((function(e){return A.get(e.id)})).filter((function(e){return(0,b.ec)(e)})).forEach((function(e){e&&(0,b.Pj)(e,{},!0)})))}if(t.state.editingLinearElement)if(e.boxSelection.hasOccurred||(null===(a=e.hit)||void 0===a||null===(a=a.element)||void 0===a?void 0:a.id)===t.state.editingLinearElement.elementId){var S=b.pj.handlePointerUp(n,t.state.editingLinearElement,t.state,t.scene);S!==t.state.editingLinearElement&&t.setState({editingLinearElement:S,suggestedBindings:[]})}else t.actionManager.executeAction(Ol);else if(t.state.selectedLinearElement){var M;if(t.state.selectedLinearElement.elbowed){var C=b.pj.getElement(t.state.selectedLinearElement.elementId,t.scene.getNonDeletedElementsMap());C&&(0,b.Pj)(C,{},!0)}if((null===(M=e.hit)||void 0===M||null===(M=M.element)||void 0===M?void 0:M.id)!==t.state.selectedLinearElement.elementId)t.scene.getSelectedElements(t.state).length>1&&t.setState({selectedLinearElement:null});else{var j=b.pj.handlePointerUp(n,t.state.selectedLinearElement,t.state,t.scene),I=j.startBindingElement,D=j.endBindingElement,T=t.scene.getElement(j.elementId);(0,b.gc)(T)&&(0,b.Ig)(T,I,D,A,t.scene),j!==t.state.selectedLinearElement&&t.setState({selectedLinearElement:(0,v.A)((0,v.A)({},j),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(t.missingPointerEventCleanupEmitter.clear(),window.removeEventListener("pointermove",e.eventListeners.onMove),window.removeEventListener("pointerup",e.eventListeners.onUp),window.removeEventListener("keydown",e.eventListeners.onKeyDown),window.removeEventListener("keyup",e.eventListeners.onKeyUp),t.state.pendingImageElementId&&t.setState({pendingImageElementId:null}),null!==(i=t.props)&&void 0!==i&&null!==(o=i.onPointerUp)&&void 0!==o&&o.call(i,m,e),t.onPointerUpEmitter.trigger(t.state.activeTool,e,n),"freedraw"===(null===d||void 0===d?void 0:d.type)){var _=(0,b.lb)(n,t.state),L=d.points,R=_.x-d.x,P=_.y-d.y;R===L[0][0]&&P===L[0][1]&&(P+=1e-4,R+=1e-4);var N=d.simulatePressure?[]:[].concat((0,g.A)(d.pressures),[n.pressure]);return(0,b.Pj)(d,{points:[].concat((0,g.A)(L),[(0,b.Ua)(R,P)]),pressures:N,lastCommittedPoint:(0,b.Ua)(R,P)}),void t.actionManager.executeAction(Ol)}if((0,b.Wb)(d)){var F=d;try{t.initializeImageDimensions(F),t.setState({selectedElementIds:(0,b.xk)((0,p.default)({},F.id,!0),t.state)},(function(){t.actionManager.executeAction(Ol)}))}catch(I){console.error(I),t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==F.id}))),t.actionManager.executeAction(Ol)}}else if((0,b.cc)(d)){d.points.length>1&&t.store.shouldCaptureIncrement();var O=(0,b.lb)(n,t.state);e.drag.hasOccurred||!d||h?e.drag.hasOccurred&&!h&&((0,b.Fg)(t.state)&&(0,b.gc)(d,!1)&&(0,b.Lg)(d,t.state,O,t.scene.getNonDeletedElementsMap(),t.scene.getNonDeletedElements()),t.setState({suggestedBindings:[],startBoundElement:null}),m.locked?t.setState((function(e){return{newElement:null}})):((0,b.ad)(t.interactiveCanvas),t.setState((function(e){return{newElement:null,activeTool:(0,b.jb)(t.state,{type:"selection"}),selectedElementIds:(0,b.xk)((0,v.A)((0,v.A)({},e.selectedElementIds),{},(0,p.default)({},d.id,!0)),e),selectedLinearElement:new b.pj(d)}}))),t.scene.triggerUpdate()):((0,b.Pj)(d,{points:[].concat((0,g.A)(d.points),[(0,b.Ua)(O.x-d.x,O.y-d.y)])}),t.setState({multiElement:d,newElement:d}))}else{if((0,b._b)(d)){var z=(0,b.xc)((0,b.cb)({fontSize:d.fontSize,fontFamily:d.fontFamily}),d.lineHeight);d.width<z&&(0,b.Pj)(d,{autoResize:!0}),t.resetCursor(),t.handleTextWysiwyg(d,{isExistingElement:!0})}if("selection"!==m.type&&d&&(0,b.Sj)(d))t.updateScene({elements:t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==d.id})),appState:{newElement:null},captureUpdate:b.Wg.NEVER});else{if((0,b.bc)(d)){var B=(0,b.Fi)(t.scene.getElementsIncludingDeleted(),d,t.scene.getNonDeletedElementsMap());t.scene.replaceAllElements((0,b.Ii)(t.scene.getElementsMapIncludingDeleted(),B,d,t.state))}if(d&&((0,b.Pj)(d,(0,b.Wj)(d)),t.scene.triggerUpdate()),e.drag.hasOccurred){var H=(0,b.lb)(n,t.state);if(t.state.selectedLinearElement&&t.state.selectedLinearElement.isDragging){var W=t.scene.getElement(t.state.selectedLinearElement.elementId);if(null!==W&&void 0!==W&&W.frameId){var X=(0,b.Gi)(W,A);X&&W&&((0,b.yi)(W,X,t.scene.getNonDeletedElementsMap())||((0,b.Pj)(W,{groupIds:[]}),(0,b.Ji)([W],t.scene.getNonDeletedElementsMap()),t.scene.triggerUpdate()))}}else{var G=t.getTopLayerFrameAtSceneCoords(H),V=t.scene.getSelectedElements(t.state),Y=t.scene.getElementsMapIncludingDeleted(),Z=function(e){if(e.length>0){var n,r=(0,U.A)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=a.groupIds.indexOf(t.state.editingGroupId);(0,b.Pj)(a,{groupIds:a.groupIds.slice(0,i)},!1)}}catch(o){r.e(o)}finally{r.f()}Y.forEach((function(e){e.groupIds.length&&(0,b.Qc)(Y,e.groupIds[e.groupIds.length-1]).length<2&&(0,b.Pj)(e,{groupIds:[]},!1)})),t.setState({editingGroupId:null})}};if(G&&!t.state.selectedElementIds[G.id]){var K=V.filter((function(e){return e.frameId!==G.id&&(0,b.Ni)(e,Y,t.state)}));t.state.editingGroupId&&Z(K),Y=(0,b.Ii)(Y,K,G,t.state)}else if(!G&&t.state.editingGroupId){Z(V.filter((function(e){return e.frameId&&!(0,b.Ni)(e,Y,t.state)})))}Y=(0,b.Mi)(Y,t.state,t),t.scene.replaceAllElements(Y)}}if(u&&t.store.shouldCaptureIncrement(),u&&(0,b.Sj)(u)&&t.updateScene({elements:t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==u.id})),captureUpdate:b.Wg.NEVER}),e.resize.isResizing){var q,$=(0,b.Mi)(t.scene.getElementsIncludingDeleted(),t.state,t),Q=t.scene.getSelectedElements(t.state).filter((function(e){return(0,b.bc)(e)})),J=(0,U.A)(Q);try{for(J.s();!(q=J.n()).done;){var ee=q.value;$=(0,b.Li)($,(0,b.Ei)(t.scene.getElementsIncludingDeleted(),ee,t.state,A),ee,t)}}catch(se){J.e(se)}finally{J.f()}t.scene.replaceAllElements($)}var te=e.hit.element;(null===(l=t.state.selectedLinearElement)||void 0===l?void 0:l.elementId)!==(null===te||void 0===te?void 0:te.id)&&(0,b.cc)(te)&&1===t.scene.getSelectedElements(t.state).length&&t.setState({selectedLinearElement:new b.pj(te)}),(!f||f&&(!te&&!w||te&&te.id!==f))&&t.finishImageCropping();var ne=t.lastPointerDownEvent,re=t.lastPointerUpEvent||t.lastPointerMoveEvent;if((0,b.Gc)(t.state)&&ne&&re){if(t.eraserTrail.endPath(),0===(0,b.Wa)((0,b.Ua)(ne.clientX,ne.clientY),(0,b.Ua)(re.clientX,re.clientY))){var ae=(0,b.lb)({clientX:re.clientX,clientY:re.clientY},t.state);t.getElementsAtPosition(ae.x,ae.y).forEach((function(e){return t.elementsPendingErasure.add(e.id)}))}t.eraseElements()}else{if(t.elementsPendingErasure.size&&t.restoreReadyToEraseElements(),te&&!e.drag.hasOccurred&&!e.hit.wasAddedToSelection&&(!t.state.editingLinearElement||!e.boxSelection.hasOccurred)&&(n.shiftKey&&!t.state.editingLinearElement?t.state.selectedElementIds[te.id]?(0,b.Kc)(t.state,te)?t.setState((function(e){var n,r=(0,v.A)({},e.selectedElementIds),a=(0,U.A)(te.groupIds.flatMap((function(e){return(0,b.Qc)(t.scene.getNonDeletedElements(),e)})));try{for(a.s();!(n=a.n()).done;){delete r[n.value.id]}}catch(se){a.e(se)}finally{a.f()}return{selectedGroupIds:(0,v.A)((0,v.A)({},e.selectedElementIds),te.groupIds.map((function(e){return(0,p.default)({},e,!1)})).reduce((function(e,t){return(0,v.A)((0,v.A)({},e),t)}),{})),selectedElementIds:(0,b.xk)(r,e)}})):(null===(s=t.state.selectedLinearElement)||void 0===s?void 0:s.isDragging)||t.setState((function(e){var n=(0,v.A)({},e.selectedElementIds);delete n[te.id];var r=(0,b.vk)(t.scene.getNonDeletedElements(),{selectedElementIds:n});return(0,v.A)((0,v.A)({},(0,b.Jc)({editingGroupId:e.editingGroupId,selectedElementIds:n},t.scene.getNonDeletedElements(),e,t)),{},{selectedLinearElement:1===r.length&&(0,b.cc)(r[0])?new b.pj(r[0]):e.selectedLinearElement})})):te.frameId&&t.state.selectedElementIds[te.frameId]?t.setState((function(e){var n,r,a=(0,v.A)((0,v.A)({},e.selectedElementIds),{},(0,p.default)({},te.id,!0));return delete a[te.frameId],(null!==(n=null===(r=t.scene.getElement(te.frameId))||void 0===r?void 0:r.groupIds)&&void 0!==n?n:[]).flatMap((function(e){return(0,b.Qc)(t.scene.getNonDeletedElements(),e)})).forEach((function(e){delete a[e.id]})),(0,v.A)((0,v.A)({},(0,b.Jc)({editingGroupId:e.editingGroupId,selectedElementIds:a},t.scene.getNonDeletedElements(),e,t)),{},{showHyperlinkPopup:!(!te.link&&!(0,b.Xb)(te))&&"info"})})):t.setState((function(e){return{selectedElementIds:(0,b.xk)((0,v.A)((0,v.A)({},e.selectedElementIds),{},(0,p.default)({},te.id,!0)),e)}})):t.setState((function(e){var n;return(0,v.A)((0,v.A)({},(0,b.Jc)({editingGroupId:e.editingGroupId,selectedElementIds:(0,p.default)({},te.id,!0)},t.scene.getNonDeletedElements(),e,t)),{},{selectedLinearElement:(0,b.cc)(te)&&(null===(n=e.selectedLinearElement)||void 0===n?void 0:n.elementId)!==te.id?new b.pj(te):e.selectedLinearElement})}))),(!te||!(0,b.ec)(te))&&!e.drag.hasOccurred&&!t.state.isResizing&&(te&&(0,b.pg)({x:e.origin.x,y:e.origin.y,element:te,shape:(0,b.tg)(te,t.scene.getNonDeletedElementsMap()),threshold:t.getElementHitThreshold(),frameNameBound:(0,b.bc)(te)?t.frameNameBoundsCache.get(te):null},A)||!te&&e.hit.hasHitCommonBoundingBoxOfSelectedElements))return t.state.editingLinearElement?t.setState({editingLinearElement:null}):t.setState({selectedElementIds:(0,b.xk)({},t.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),void(0,b.bd)(t.interactiveCanvas,b.z.AUTO);if(!m.locked&&"freedraw"!==m.type&&d&&t.setState((function(e){return{selectedElementIds:(0,b.xk)((0,v.A)((0,v.A)({},e.selectedElementIds),{},(0,p.default)({},d.id,!0)),e),showHyperlinkPopup:(0,b.Xb)(d)&&!d.link?"editor":e.showHyperlinkPopup}})),("selection"!==m.type||(0,b.tk)(t.scene.getNonDeletedElements(),t.state)||!(0,b.Hb)(t.state.previousSelectedElementIds,t.state.selectedElementIds))&&t.store.shouldCaptureIncrement(),e.drag.hasOccurred||y||x||w){var ie,oe,le=t.scene.getSelectedElements(t.state).filter(b.cc);(0,b.Jg)(le,t.scene.getNonDeletedElementsMap(),t.scene.getNonDeletedElements(),t.scene,(0,b.Fg)(t.state),null!==(ie=null===(oe=t.state.selectedLinearElement)||void 0===oe?void 0:oe.selectedPointsIndices)&&void 0!==ie?ie:[],t.state.zoom)}"laser"!==m.type?(m.locked||"freedraw"===m.type?t.setState({newElement:null,suggestedBindings:[]}):((0,b.ad)(t.interactiveCanvas),t.setState({newElement:null,suggestedBindings:[],activeTool:(0,b.jb)(t.state,{type:"selection"})})),te&&t.lastPointerUpEvent&&t.lastPointerDownEvent&&t.lastPointerUpEvent.timeStamp-t.lastPointerDownEvent.timeStamp<300&&Uv.pointers.size<=1&&(0,b.Zb)(te)&&t.isIframeLikeElementCenter(te,t.lastPointerUpEvent,e.origin.x,e.origin.y)&&t.handleEmbeddableCenterClick(te)):t.laserTrails.endPath()}}}}))}},{key:"clearSelection",value:function(e){this.setState((function(t){return{selectedElementIds:(0,b.xk)({},t),activeEmbeddable:null,selectedGroupIds:{},editingGroupId:t.editingGroupId&&null!=e&&(0,b.Pc)(e,t.editingGroupId)?t.editingGroupId:null}})),this.setState({selectedElementIds:(0,b.xk)({},this.state),activeEmbeddable:null,previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(e,t,n,r){if(r){var a=r.x+r.width/2,i=r.y+r.height/2,o=(0,b.Bj)(r,n,this.scene.getNonDeletedElementsMap());if(o&&(a=o.x,i=o.y),Math.hypot(e-a,t-i)<b.x){var l=(0,b.mb)({sceneX:a,sceneY:i},n);return{viewportX:l.x,viewportY:l.y,elementCenterX:a,elementCenterY:i}}}}},{key:"getCanvasOffsets",value:function(){var e;if(null!==(e=this.excalidrawContainerRef)&&void 0!==e&&e.current){var t=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:t.left,offsetTop:t.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:function(){var e=(0,s.A)((0,l.A)().mark((function e(){var t,n=this;return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Di.find((function(e){return e.code===n.props.langCode}))||Ii,e.next=3,Ri(t);case 3:this.setAppState({});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"resetTapTwice",value:function(){rv=!1}}])}(r.Component);(y.a.MODE===b.D.TEST||y.a.DEV)&&(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var e;return null===(e=this.app)||void 0===e?void 0:e.scene.getElementsIncludingDeleted()},set:function(e){var t;return null===(t=this.app)||void 0===t?void 0:t.scene.replaceAllElements((0,b.Nj)(e))}},scene:{configurable:!0,get:function(){var e;return null===(e=this.app)||void 0===e?void 0:e.scene}}}));var gv=mv,bv=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this[e]},writable:!0,enumerable:!1,configurable:!0}),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=function(){this.innerHTML="",this.append.apply(this,arguments)})},yv=function(e){var t=e.children,n=cd().FooterCenterTunnel,r=Ro();return(0,V.jsx)(n.In,{children:(0,V.jsx)("div",{className:(0,le.A)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":r.zenModeEnabled}),children:t})})};yv.displayName="FooterCenter";var xv=function(){return(0,V.jsx)("svg",{viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ExcalidrawLogo-icon",children:(0,V.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})})},wv=function(){return(0,V.jsxs)("svg",{viewBox:"0 0 450 55",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"ExcalidrawLogo-text",children:[(0,V.jsx)("path",{d:"M429.27 96.74c2.47-1.39 4.78-3.02 6.83-4.95 1.43-1.35 2.73-2.86 3.81-4.51-.66.9-1.4 1.77-2.23 2.59-2.91 2.84-5.72 5.09-8.42 6.87h.01ZM343.6 69.36c.33 3.13.58 6.27.79 9.4.09 1.37.18 2.75.25 4.12-.12-4.46-.27-8.93-.5-13.39-.11-2.08-.24-4.16-.4-6.24-.06 1.79-.11 3.85-.13 6.11h-.01ZM378.47 98.34c.01-.37.07-1.13.01-6.51-.11 1.9-.22 3.81-.31 5.71-.07 1.42-.22 2.91-.16 4.35.39.03.78.07 1.17.1-.92-.85-.76-2.01-.72-3.66l.01.01ZM344.09 86.12c-.09-2.41-.22-4.83-.39-7.24v12.21c.15-.05.32-.09.47-.14.05-1.61-.03-3.23-.09-4.83h.01ZM440.69 66.79c-.22-.34-.45-.67-.69-.99-3.71-4.87-9.91-7.14-15.65-8.55-1.05-.26-2.12-.49-3.18-.71 2.29.59 4.48 1.26 6.64 2.02 7.19 2.54 10.57 5.41 12.88 8.23ZM305.09 72.46l1.2 3.6c.84 2.53 1.67 5.06 2.46 7.61.24.78.5 1.57.73 2.36.22-.04.44-.08.67-.12a776.9 776.9 0 0 1-5.01-13.57c-.02.04-.03.09-.05.13v-.01ZM345.49 90.25v.31c1.48-.42 3.05-.83 4.66-1.2-1.56.25-3.12.52-4.66.89ZM371.02 90.22c0-.57-.04-1.14-.11-1.71-.06-.02-.12-.04-.19-.05-.21-.05-.43-.08-.65-.11.42.16.74.88.95 1.87ZM398.93 54.23c-.13 0-.27-.01-.4-.02l.03.4c.11-.15.23-.27.37-.38ZM401.57 62.28v-.15c-1.22-.24-2.86-.61-3.23-1.25-.09-.15-.18-.51-.27-.98-.09.37-.2.73-.33 1.09 1.24.56 2.52.98 3.83 1.29ZM421.73 88.68c-2.97 1.65-6.28 3.12-9.69 3.68v.18c4.72-.14 11.63-3.85 16.33-8.38-2.04 1.75-4.33 3.24-6.63 4.53l-.01-.01ZM411.28 80.92c-.05-1.2-.09-2.4-.15-3.6-.21 5.66-.46 11.38-.47 14.51.24-.02.48-.04.71-.07.15-3.61.05-7.23-.09-10.83v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,V.jsx)("path",{d:"M425.38 67.41c-3.5-1.45-7.19-2.57-14.06-3.62.09 1.97.06 4.88-.03 8.12.03.04.06.09.06.15.19 1.36.28 2.73.37 4.1.25 3.77.39 7.55.41 11.33 0 1.38-.01 2.76-.07 4.13 1.4-.25 2.78-.65 4.12-1.15 4.07-1.5 7.94-3.78 11.28-6.54 2.33-1.92 5.13-4.49 5.88-7.58.63-3.53-2.45-6.68-7.97-8.96l.01.02ZM411.35 92.53v-.06l-.34.03c.11.01.22.03.34.03ZM314.26 64.06c-.23-.59-.47-1.17-.7-1.75.57 1.62 1.11 3.25 1.6 4.9l.15.54 2.35 6.05c.32.82.66 1.64.98 2.46-1.38-4.1-2.83-8.17-4.39-12.2h.01ZM156.82 103.07c-.18.13-.38.23-.58.33 1.32-.03 2.66-.2 3.93-.34.86-.09 1.72-.22 2.58-.33-2.12.1-4.12.17-5.94.34h.01ZM210.14 68.88s.03.04.05.07c.18-.31.39-.64.58-.96-.21.3-.42.6-.64.89h.01ZM201.65 82.8c-.5.77-1.02 1.56-1.49 2.37 1.11-1.55 2.21-3.1 3.2-4.59-.23.23-.49.51-.75.79-.32.47-.65.95-.96 1.43ZM194.03 98.66c-.33-.4-.65-.84-1.05-1.17-.24-.2-.07-.49.17-.56-.23-.26-.42-.5-.63-.75 1.51-2.55 3.93-5.87 6.4-9.28-.17-.08-.29-.28-.2-.49.04-.09.09-.17.13-.26-1.21 1.78-2.42 3.55-3.61 5.33-.87 1.31-1.74 2.64-2.54 4-.29.5-.63 1.04-.87 1.61.81.65 1.63 1.27 2.47 1.88-.09-.11-.18-.21-.27-.32v.01ZM307.79 82.93c-1-3.17-2.05-6.32-3.1-9.48-1.62 4.08-3.69 9.17-6.16 15.19 3.32-1.04 6.77-1.87 10.27-2.5-.32-1.08-.67-2.15-1.01-3.21ZM149.5 80.7c.05-1.71.04-3.43 0-5.14-.1 2.26-.16 4.51-.22 6.77-.02.73-.03 1.46-.04 2.19.14-1.27.2-2.55.24-3.82h.02ZM228.98 98.3c.39 1.25.91 3.03.94 3.91.06-.03.12-.07.17-.1.08-1.29-.55-2.65-1.11-3.81ZM307.72 53.36c.81.5 1.53 1.04 2.07 1.49-.38-.8-.78-1.58-1.21-2.35-.17.03-.34.06-.51.11-.43.12-.86.26-1.29.41.35-.01.53.1.94.34ZM283.69 96.14c3.91-7.25 6.89-13.35 8.88-18.15l1.1-2.66c-1.27 2.64-2.56 5.27-3.83 7.9-1.53 3.15-3.06 6.31-4.58 9.47-.87 1.81-1.76 3.62-2.54 5.47.04.02.07.04.11.07.05.05.1.09.15.14.05-.73.27-1.48.71-2.24ZM289.92 103.23s-.04.01-.05.03c0-.02.04-.03.05-.04.05-.05.11-.1.16-.15l.21-.21c-.55 0-1.5-.27-2.55-.72.4.26.8.51 1.22.74.24.13.48.26.73.37.05.02.1.03.14.05a.27.27 0 0 1 .08-.07h.01ZM269.23 68.49c-.39-.19-.82-.48-1.33-.87-3.06-1.56-6.31-2.78-9.36-2.35-3.5.49-5.7 1.11-7.74 2.44 5.71-2.6 12.82-2.07 18.44.79l-.01-.01ZM177.87 53.69l1.06.03c-.96-.22-2-.25-2.89-.3-4.95-.26-9.99.33-14.86 1.19-2.44.43-4.88.95-7.28 1.59 9.09-1.76 15.69-2.77 23.97-2.51ZM219.85 55.51c-.18.12-.36.27-.56.45-.45.53-.86 1.11-1.26 1.66-1.91 2.61-3.71 5.31-5.57 7.95l-.12.18 8.05-10.11c-.18-.05-.36-.1-.55-.13h.01ZM510.71 54.1c.12-.15.29-.3.53-.45.69-.4 3.72-.63 5.87-.74-.36-.02-.73-.04-1.09-.05-1.84-.03-3.67.09-5.49.35.05.3.12.59.18.88v.01ZM510.76 86.02c1.37-3.07 2.49-6.27 3.57-9.46.55-1.64 1.12-3.3 1.6-4.97-1.59 4.01-3.67 9.14-6.2 15.3.24-.08.5-.14.74-.22.1-.22.19-.44.29-.65ZM566.95 75.76c.11-.02.23.03.31.11-.05-.13-.09-.26-.14-.39-.05.09-.11.18-.17.28ZM511.33 86.41c3.08-.89 6.24-1.62 9.46-2.14-1.51-3.98-2.98-7.96-4.39-11.87-.05.15-.09.31-.14.46-1.02 3.32-2.15 6.61-3.39 9.85-.48 1.25-.98 2.49-1.53 3.7h-.01ZM578.24 74.45c.11-.44.23-.87.35-1.31-.31.7-.64 1.39-.97 2.08.09.21.19.4.28.61.12-.46.23-.92.35-1.38h-.01ZM520.62 53.11c-.09 0-.18-.01-.28-.02.38.34.29 1.08.93 2.53l6.65 17.15c2.2 5.68 4.69 11.36 7.41 16.87l1.06 2.17c-2.95-7.05-5.92-14.08-8.87-21.13-1.58-3.79-3.16-7.59-4.7-11.4-.78-1.92-1.73-3.89-2.25-5.91-.03-.1 0-.19.04-.26h.01ZM578.78 77.87c1.45-5.77 3.07-10.43 3.58-13.36.05-.34.16-.88.31-1.55-.67 1.79-1.37 3.56-2.08 5.33-.12.43-.23.86-.35 1.29-.65 2.43-1.29 4.86-1.9 7.3.14.33.29.65.43 1l.01-.01ZM545.3 94.66c.02-.44.03-.83.05-1.12.02-1.01.05-2.02.11-3.02.03-6.66-.46-14.33-1.46-22.8-.13-.42-.27-1.24-.56-2.89 0-.02 0-.04-.01-.06.62 6.61.95 13.25 1.32 19.87.17 3.08.33 6.16.52 9.23.02.25.03.52.04.78l-.01.01ZM580.77 102.81c.13.2.27.38.37.49.27-.11.53-.22.8-.32-.43.09-.82.05-1.17-.16v-.01ZM530.48 104.07h.33c-.36-.13-.71-.32-1.04-.56.14.24.3.47.45.7.06-.08.14-.13.26-.13v-.01ZM542.63 58.82c.06.23.11.47.15.71.14-.33.36-.62.7-.86-.28.05-.57.11-.85.15ZM583.81 57.87c.15-.7.29-1.41.42-2.11-.14.45-.28.9-.42 1.34-.46 1.44-.89 2.89-1.31 4.34.44-1.19.88-2.37 1.31-3.57ZM523.62 91.48c-4.66 1.17-9.05 2.89-14.02 5.27 4.65-1.84 9.48-3.29 14.28-4.63-.09-.22-.17-.41-.26-.64ZM460.64 78.3c-.04-2.9-.11-5.81-.28-8.71-.1-1.68-.17-3.43-.5-5.09-.07.02-.14.03-.2.05.3 6.54.45 12.17.51 17.12.17-.07.34-.14.51-.2 0-1.06-.01-2.11-.03-3.17h-.01ZM470.63 63.24c-3.38-.26-6.81.32-10.1 1.1.41 2.01.47 4.14.57 6.18.18 3.55.25 7.11.27 10.67 3.31-1.38 6.5-3.12 9.3-5.35 1.96-1.56 3.86-3.41 5.02-5.66.73-1.41 1.19-3.22.26-4.65-1.09-1.7-3.46-2.14-5.32-2.29ZM460.29 63.68c1-.24 2.01-.46 3.04-.65-1.15.16-2.37.38-3.71.69v.13c.07-.02.15-.04.22-.05.11-.13.3-.18.45-.11v-.01ZM457.24 100.96c.43-.03.86-.07 1.29-.11.14-.49.27-.99.38-1.49-.44.7-1 1.23-1.67 1.6ZM482.88 104.98c-.18.23-.36.38-.55.47.14.09.27.19.4.28a70.76 70.76 0 0 0 4.37-4.63c.76-.89 1.52-1.81 2.19-2.77-.3-.27-.61-.53-.92-.79-.07 1.94-4.62 6.32-5.49 7.45v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,V.jsx)("path",{d:"M474.36 63.31c-.4-.16-.84-.27-1.29-.37 1.56.42 3.08 1.22 3.76 2.74.62 1.4.32 2.95-.28 4.32.7-1.22.94-2.34.74-3.47-.24-1.33-1.19-2.54-2.93-3.21v-.01ZM477.34 89.18c-1.2-.81-2.4-1.62-3.6-2.42-.14.1-.26.19-.4.29 1.4.67 2.73 1.39 4 2.13ZM465.88 93.85c.37.25.74.5 1.1.75.46.32.92.65 1.38.97-1.57-1.2-2.01-1.61-2.49-1.72h.01ZM574.92 90.06c-2.28-5.21-4.93-11.13-5.67-12.26-.1-.15-1.57-3.01-1.63-3.08 0 0-.01.02-.02.02.4 1.37 1.09 2.69 1.65 3.99 2.14 4.95 4.36 9.86 6.67 14.73.6 1.26 1.21 2.52 1.83 3.78-.75-2.01-1.64-4.45-2.83-7.18ZM448.73 65.29c.1.2.22.38.34.57.22-.02.43-.06.65-.08v-.08c-.14-.05-.25 0-.99-.41ZM460.16 94.81c-.02.31-.06.59-.1.89-.03 1.71-.33 3.43-.79 5.07.15-.02.3-.03.45-.05.01-.04.02-.08.03-.11.09-.34.15-.69.2-1.03.17-1.07.25-2.16.33-3.24.05-.69.08-1.39.12-2.08-.27.1-.27.26-.24.57v-.02Z",transform:"translate(-144.023 -51.76)"}),(0,V.jsx)("path",{d:"m328.67 98.12-3.22-6.58c-1.29-2.63-2.53-5.29-3.72-7.97-.25-.85-.52-1.69-.79-2.53-.81-2.57-1.67-5.12-2.55-7.67-1.92-5.53-3.9-11.08-6.32-16.41-.72-1.58-1.46-3.44-2.63-4.79-.03-.17-.16-.29-.34-.36a.282.282 0 0 0-.23-.04c-.06-.01-.12 0-.18.01-.74.06-1.5.38-2.19.61-2.22.77-4.4 1.64-6.63 2.38-.03-.08-.06-.16-.09-.25-.15-.42-.82-.24-.67.19.03.09.07.19.1.28l-.18.06c-.36.11-.28.6 0 .68.18 1.18.63 2.36.98 3.49.03.09.06.17.08.26-.08.23-.17.46-.24.64-.37.98-.79 1.94-1.21 2.9-1.27 2.89-2.62 5.75-3.98 8.6-3.18 6.67-6.44 13.31-9.64 19.97-1.08 2.25-2.2 4.5-3.15 6.81-.13.32.24.5.5.37 1.34 1.33 2.84 2.5 4.4 3.57.65.44 1.31.87 2.01 1.24.4.22.86.48 1.33.5.24.01.35-.19.33-.37.11-.1.21-.21.28-.28.41-.41.81-.84 1.2-1.26.85-.92 1.69-1.87 2.5-2.84 6.31-2.34 12.6-4.31 18.71-5.84 2.14 5.3 3.43 8.43 3.97 9.58.55 1.05 1.15 1.88 1.82 2.52 1.32.56 6.96-.03 9.23-1.96.87-1.28 1.19-2.67.93-4.15-.09-.5-.22-.95-.4-1.33l-.01-.03Zm-20.09-45.61c.43.77.83 1.56 1.21 2.35-.54-.45-1.27-.99-2.07-1.49-.42-.24-.6-.35-.94-.34.43-.15.85-.29 1.29-.41.17-.05.34-.08.51-.11Zm-25.86 45.66c.78-1.85 1.67-3.66 2.54-5.47 1.51-3.16 3.05-6.31 4.58-9.47 1.28-2.63 2.56-5.26 3.83-7.9l-1.1 2.66c-1.99 4.79-4.97 10.9-8.88 18.15-.43.76-.66 1.51-.71 2.24-.05-.05-.1-.09-.15-.14a.259.259 0 0 0-.11-.07Zm6.24 4.71c-.42-.23-.82-.48-1.22-.74 1.05.45 2 .72 2.55.72l-.21.21c-.05.05-.11.1-.16.15-.01.01-.04.03-.05.04 0-.02.03-.02.05-.03a.27.27 0 0 0-.08.07c-.05-.02-.1-.03-.14-.05-.25-.1-.49-.24-.73-.37h-.01Zm15.73-29.43c1.05 3.15 2.1 6.31 3.1 9.48.34 1.06.69 2.13 1.01 3.21-3.5.63-6.95 1.46-10.27 2.5 2.48-6.03 4.54-11.11 6.16-15.19Zm4.79 12.57c-.23-.79-.49-1.58-.73-2.36-.79-2.54-1.63-5.08-2.46-7.61l-1.2-3.6c.02-.04.04-.09.05-.13 1.6 4.45 3.28 9 5.01 13.57l-.67.12v.01Zm5.83-18.27-.15-.54c-.49-1.64-1.03-3.28-1.6-4.9.23.58.47 1.17.7 1.75 1.56 4.03 3.01 8.1 4.39 12.2-.33-.82-.67-1.64-.98-2.46l-2.35-6.05h-.01ZM390.43 79.37c-.13-10.43-.22-17.5-.24-19.97-.24-1.6.21-2.88-.65-3.65-.14-.13-.32-.23-.52-.32h.03c.45 0 .45-.69 0-.7-1.75-.03-3.5-.04-5.25-.14-1.38-.08-2.76-.21-4.15-.31-.07 0-.12.01-.17.04-.21-.07-.47.03-.45.31l.03.45c-.11.14-.19.3-.22.5-.21 1.26-.32 13.67-.36 23.59-.32 5.79-.67 11.57-.97 17.36-.09 1.73-.29 3.54-.21 5.3-.39.02-.38.64.04.69v.12c.05.44.74.45.7 0v-.06c1.1.09 2.2.21 3.3.3 1.14.19 2.44.2 3.29.17 1.73-.05 2.92-.05 3.8-.37.45-.05.9-.11 1.35-.17.44-.06.25-.73-.19-.67h-.01c.24-.32.45-.72.62-1.25.66-1.84.41-6.36.34-11.33l-.13-9.9.02.01Zm-12.26 18.17c.09-1.91.2-3.81.31-5.71.06 5.38 0 6.14-.01 6.51-.05 1.65-.21 2.81.72 3.66-.39-.04-.78-.07-1.17-.1-.06-1.44.09-2.93.16-4.35l-.01-.01ZM588.97 53.85c-2.06-.25-3.17-.51-3.76-.6a.3.3 0 0 1 .04-.08c.22-.39-.39-.75-.6-.35-.56 1.02-.9 2.19-1.26 3.29-.61 1.88-1.17 3.78-1.72 5.68-.63 2.19-1.24 4.39-1.83 6.59-.81 2.03-1.67 4.05-2.61 6.03-1.7-3.64-3.11-6.04-4.03-7.57-2.26-3.74-2.85-5.48-3.57-6.08l.31-.09c.43-.12.25-.8-.19-.67-1.06.3-2.12.6-3.17.95-.93.32-1.85.69-2.76 1.07-.13.05-.19.16-.22.27-.04.02-.08.05-.11.07-.04-.06-.07-.12-.11-.18a.354.354 0 0 0-.48-.12c-.16.09-.22.32-.13.48l.33.54c0 .09.02.18.06.28.51 1.16.78 1.38.72 1.47-2.42 3.44-5.41 7.86-6.2 9.1-1.27 1.97-2.01 3.14-2.45 3.84l-.91-6.56-.43-4.1c-.19-1.85-.37-3.23-.53-4.13-.19-1.1-.3-2.15-.45-3.16-.2-1.36-.29-2.06-.47-2.42h.04c.45.02.45-.68 0-.7-3.43-.16-6.81.94-10.17 1.48-.24-.22-.73-.04-.58.32.24.59.33 1.25.43 1.87.17 1.06.29 2.13.4 3.2.32 3.09.53 6.2.74 9.3.44 6.75.77 13.51 1.17 20.26.11 1.95.13 3.96.46 5.89.05.3.37.31.55.14.74 1.71 2.87 1.27 6.13 1.27 1.34 0 2.39.04 2.99-.11.02.32.48.53.63.18 3.61-8.26 7.41-16.46 12.05-24.2.03-.05.04-.1.05-.15.3.73.64 1.45.94 2.16.97 2.26 1.97 4.52 2.98 6.76 2.26 5.03 4.54 10.07 7.09 14.96.47.9.94 1.79 1.47 2.65.2.32.4.67.66.96-.18.25 0 .68.34.54.91-.38 1.82-.75 2.76-1.07 1.04-.35 2.11-.65 3.17-.95.39-.11.28-.66-.07-.68.62-.4.95-.96.87-1.91-.3-3.34.72-7.47.86-8.52l2.14-11.43c1.75-10.74 3.13-17.51 3.23-20.86.02-.49.08-2.84.13-3.24.17-1.25.48-1-4.96-1.65l.03-.02Zm-46.19 5.67c-.04-.24-.09-.48-.15-.71l.85-.15c-.34.24-.56.53-.7.86Zm1.95 25.12c-.36-6.63-.7-13.26-1.32-19.87 0 .02 0 .04.01.06.29 1.65.44 2.47.56 2.89 1 8.46 1.5 16.14 1.46 22.8-.06.99-.1 2-.11 3.02-.01.29-.03.68-.05 1.12-.01-.26-.03-.53-.04-.78-.19-3.08-.35-6.16-.52-9.23l.01-.01Zm36.4 18.66c-.11-.11-.24-.29-.37-.49.35.21.74.26 1.17.16-.27.11-.53.22-.8.32v.01Zm-.89-33.72c.12-.43.23-.86.35-1.29.71-1.77 1.41-3.55 2.08-5.33-.15.68-.26 1.22-.31 1.55-.5 2.94-2.13 7.59-3.58 13.36-.15-.35-.29-.66-.43-1 .61-2.44 1.25-4.87 1.9-7.3l-.01.01Zm3.56-12.48c.14-.44.28-.89.42-1.34-.13.7-.27 1.41-.42 2.11-.43 1.19-.86 2.38-1.31 3.57.42-1.45.85-2.9 1.31-4.34Zm-5.22 16.05c-.11.44-.23.87-.35 1.31-.12.46-.23.92-.35 1.38-.1-.22-.19-.4-.28-.61.34-.69.66-1.38.97-2.08h.01Zm-11.64 2.62c.06-.1.12-.19.17-.28.05.13.09.26.14.39a.398.398 0 0 0-.31-.11Zm2.3 2.98c-.56-1.3-1.25-2.63-1.65-3.99 0 0 .01-.02.02-.02.06.08 1.52 2.93 1.63 3.08.73 1.13 3.38 7.04 5.67 12.26 1.2 2.73 2.08 5.17 2.83 7.18-.62-1.25-1.23-2.51-1.83-3.78-2.31-4.87-4.53-9.78-6.67-14.73ZM275.92 87.03c-1.06-2.18-1.13-3.45-2.44-2.93-1.52.57-2.94 1.3-4.5 2.1-1.4.72-2.68 1.44-3.92 2.12.01-.25-.24-.5-.51-.34-4.8 2.93-12.41 4.7-17.28 1.31-1.98-1.77-3.32-4.15-3.97-5.78-.29-.95-.49-1.94-.63-2.93-.14-3.34 1.58-6.53 3.9-9.12.8-.79 1.68-1.51 2.66-2.12 3.7-2.3 8.22-3.07 12.51-2.51 2.71.35 5.32 1.24 7.71 2.55.39.22.75-.39.35-.6-.18-.1-.37-.18-.55-.27.56.27 1.03.33 1.51.19l-.48.39c-.15.11-.23.3-.13.48.09.15.33.24.48.13 1.3-.97 2.46-2.09 3.45-3.37.37-.29.64-.6.65-.97v-.02c.08-.33-.03-.7-.21-1.08-.31-.87-.98-2.01-2.19-3.26-2.43-2.52-3.79-3.45-5.68-4.26-1.14-.49-3.12-1.06-4.42-1.23-3.28-.42-10.64-1.21-18.18 4.11-7.74 5.46-11.94 12.3-12.23 20.61-.08 2.06.04 3.98.34 5.71.74 4.18 2.57 8 5.44 11.34 4.26 4.99 9.76 7.52 16.34 7.52 4.85 0 9.69-1.77 14.89-4.62.23-.12.45-.23.68-.35 2.19-1.1 4.37-2.23 6.46-3.5.49-.3 1.03-.61 1.5-.98 1.47-.87 1.11-1.12.49-2.95-.39-1.14-.76-2.7-2.06-5.36l.02-.01Zm-17.38-21.76c3.05-.42 6.31.79 9.36 2.35.51.39.94.68 1.33.87-5.61-2.86-12.72-3.39-18.44-.79 2.05-1.33 4.24-1.95 7.74-2.44l.01.01ZM443.67 72.67c-.4-2.2-1.15-4.33-2.37-6.22-1.49-2.32-3.58-4.19-5.91-5.64-6.17-3.81-13.75-5.11-20.83-6.01-3.23-.41-6.47-.69-9.72-.92l-1.39-.12c-.85-.07-1.52-.1-2.05-.1-1.08-.06-2.17-.12-3.25-.17-.08 0-.14.02-.19.05-.1.05-.18.14-.16.3.27 2.55-.01 5.12-.92 7.52-.15.38.4.56.62.28 1.32.59 2.68 1.05 4.08 1.37 0 2.78-.14 7.58-.33 12.91 0 0 0 .02-.01.03-.61 3.66-.79 7.42-1 11.12-.23 4.01-.43 8.03-.44 12.05 0 .64 0 1.28.03 1.93.02.31 0 .68.15.96.06.11.14.16.24.17-.2.17-.21.54.11.59 3.83.67 7.78.71 11.68.25 2.3-.19 4.87-.65 7.65-1.56 1.85-.54 3.67-1.18 5.43-1.91 7.2-3.02 14.31-8.07 17.35-15.53.76-1.86 1.17-3.8 1.31-5.75.3-1.93.28-3.82-.09-5.58l.01-.02Zm-19.32-15.42c5.74 1.41 11.94 3.68 15.65 8.55.25.32.47.65.69.99-2.3-2.82-5.68-5.69-12.88-8.23-2.16-.76-4.35-1.43-6.64-2.02 1.06.21 2.13.45 3.18.71Zm-25.82-3.04c.13 0 .27.01.4.02-.14.1-.26.23-.37.38 0-.13-.02-.26-.03-.4Zm34.82 22.17c-.75 3.09-3.55 5.66-5.88 7.58-3.35 2.76-7.21 5.03-11.28 6.54-1.33.49-2.71.9-4.12 1.15.06-1.38.08-2.76.07-4.13-.02-3.78-.16-7.56-.41-11.33-.09-1.37-.18-2.74-.37-4.1 0-.06-.03-.11-.06-.15.09-3.25.12-6.16.03-8.12 6.86 1.05 10.56 2.17 14.06 3.62 5.52 2.28 8.59 5.44 7.97 8.96l-.01-.02Zm-22 16.15c-.12 0-.23-.02-.34-.03l.34-.03v.06Zm-.69-.7c0-3.13.26-8.84.47-14.51.06 1.2.11 2.41.15 3.6.15 3.6.25 7.23.09 10.83-.24.03-.48.05-.71.07v.01Zm-12.33-30.94c.37.63 2.01 1.01 3.23 1.25v.15c-1.31-.31-2.59-.73-3.83-1.29.12-.36.23-.72.33-1.09.08.48.18.84.27.98Zm13.7 31.65v-.18c3.41-.56 6.71-2.02 9.69-3.68 2.31-1.28 4.59-2.78 6.63-4.53-4.69 4.53-11.61 8.24-16.33 8.38l.01.01Zm24.07-.75c-2.05 1.93-4.37 3.56-6.83 4.95 2.7-1.78 5.52-4.03 8.42-6.87.82-.82 1.56-1.69 2.23-2.59-1.08 1.65-2.38 3.16-3.81 4.51h-.01ZM187.16 92.14c-.79-2.47-2.1-7.12-3.1-6.87-.19-.01-2.09.77-4.08 1.54-3.06 1.18-5.91 2.13-10.09 2.82-2.74.42-5.87 1.01-10.61 1.06.04-3.34.05-6.01.05-7.99 7.97-.65 12.33-2.11 16.37-3.55 1.11-.39 2.69-1.01 2.63-1.8-.08-.35-.55-1.39-1.17-2.61-.47-1.16-.98-2.31-1.61-3.38-.42-.71-1.04-1.69-1.86-2.06-.11-.08-.22-.13-.29-.12-.02 0-.04 0-.07.01-.19-.04-.39-.05-.6-.01-.17.03-.24.15-.25.28-.04.02-.09.04-.14.05-4.33 1.48-8.85 2.33-13.24 3.61a499.1 499.1 0 0 0-.31-8.19c4.51-.99 8.88-1.38 13.11-1.82 3.68-.38 6.28.12 7.47.34.59.11.9.16 1.16.18h.1c-.1.37.44.66.62.28.02-.04.03-.08.05-.13.15.2.53.22.62-.1.17-.58.19-1.21.21-1.81v-.36c.03-.15.05-.3.07-.45.52-2.47.33-5.09-.64-7.44-.11-.27-.44-.28-.6-.14-.08-.21-.15-.42-.24-.62-.19-.41-.79-.05-.6.35.03.07.05.15.09.22-.98-.42-2.15-.54-3.17-.63-2.17-.19-4.37-.14-6.54 0-5.7.35-11.4 1.3-16.91 2.79-2.08.56-4.13 1.22-6.14 2-4.54 1.05-3.79 1.51-2.17 6.07.18.51.46 1.68.54 1.94.82 2.47 1.08 2.13 3.1 2.13s0 .05 0 .08h.52c-.48 2.66-.51 5.45-.62 8.13-.15 3.48-.22 6.96-.28 10.45 0 .41-.01.82-.02 1.23-.16.29-.33.57-.51.85-.05.38-.09.77-.14 1.18-.42 3.52-.59 6.48-.52 8.8v.34c.02.47.05.76.06.87.16 1.57-.26 3.47 1.35 3.79 1.61.32 3.5.55 4.85.55.11 0 .22-.02.33-.02 1.79.24 3.67.05 5.45-.12 2.85-.28 5.69-.7 8.51-1.19 3.03-.53 6.05-1.14 9.04-1.86 2.4-.58 4.82-1.19 7.13-2.06.51-.19 1.73-.57 2.46-1.14 1.81-.68 2.18-1 1.57-2.67-.23-.62-.48-1.49-.91-2.78l-.03-.02Zm-11.12-38.71c.89.05 1.93.08 2.89.3-.33 0-.68-.02-1.06-.03-8.28-.26-14.88.75-23.97 2.51 2.41-.64 4.85-1.16 7.28-1.59 4.87-.86 9.91-1.45 14.86-1.19Zm-26.53 22.13c.03 1.71.04 3.43 0 5.14-.04 1.27-.11 2.55-.24 3.82 0-.73.02-1.46.04-2.19.05-2.26.12-4.51.22-6.77h-.02Zm6.73 27.85c.2-.1.4-.21.58-.33 1.82-.17 3.82-.24 5.94-.34-.86.11-1.72.24-2.58.33-1.27.14-2.61.31-3.93.34h-.01ZM534.48 85.44c-3.52-8.38-7.07-16.75-10.5-25.17-.63-1.54-1.25-3.09-1.86-4.65-.31-.8-.65-1.6-.87-2.43-.04-.17-.17-.24-.31-.25.1-.2 0-.51-.29-.53-1.59-.08-3.18-.22-4.78-.25-1.96-.03-3.91.13-5.84.42-.31.05-.31.38-.13.56-.03.06-.05.14-.04.22.23 1.54.63 3.06 1.16 4.53.13.35.27.7.41 1.06l-2.68 6.18c-.11.03-.2.09-.25.22-.67 1.9-1.52 3.73-2.34 5.56a536.85 536.85 0 0 1-3.9 8.45c-2.64 5.64-5.34 11.25-7.91 16.93-.44.97-.88 1.94-1.29 2.93-.2.48-.47 1-.55 1.52v.05c-.02.12.02.26.16.34 1.19.73 2.41 1.41 3.66 2.05 1.2.62 2.45 1.25 3.76 1.61.43.12.62-.55.19-.67-1.13-.31-2.2-.83-3.24-1.36 1.09.36 2.1.69 2.75.93 2.82 1.01 2.38 1.1 4.3-3.75 2.1-1.09 4.34-1.96 6.53-2.79 4.35-1.64 8.8-3.03 13.27-4.29.82 2.01 1.77 3.97 2.72 5.92.35.83.62 1.45.79 1.82.22.42.45.8.69 1.15.17.33.33.67.5 1 .42.8.84 1.63 1.4 2.35.23.29.6 0 .55-.31 1.53-.02 3.06-.07 4.58-.27.92-.12 1.82-.32 2.71-.54 1.39-.27 3.85-1.11 3.74-1.42-.67-1.96-1.55-3.87-2.34-5.78-1.57-3.78-3.16-7.56-4.75-11.33v-.01Zm-11.65-26.16c1.54 3.81 3.12 7.6 4.7 11.4 2.94 7.05 5.91 14.09 8.87 21.13l-1.06-2.17c-2.71-5.51-5.2-11.19-7.41-16.87l-6.65-17.15c-.65-1.45-.55-2.19-.93-2.53.09 0 .18.01.28.02a.29.29 0 0 0-.04.26c.52 2.02 1.47 3.98 2.25 5.91h-.01Zm-6.58 13.58c.05-.15.09-.31.14-.46 1.41 3.92 2.88 7.9 4.39 11.87-3.22.52-6.38 1.25-9.46 2.14.55-1.22 1.05-2.46 1.53-3.7 1.24-3.24 2.37-6.53 3.39-9.85h.01Zm-.23-20c.36 0 .73.03 1.09.05-2.15.1-5.18.33-5.87.74-.24.15-.41.3-.53.45-.06-.29-.13-.58-.18-.88 1.82-.26 3.65-.39 5.49-.35v-.01Zm-.09 18.72c-.49 1.67-1.05 3.33-1.6 4.97-1.07 3.19-2.19 6.38-3.57 9.46-.09.21-.19.43-.29.65-.25.07-.5.14-.74.22 2.53-6.16 4.61-11.29 6.2-15.3Zm-6.34 25.16c4.97-2.38 9.37-4.1 14.02-5.27l.26.64c-4.8 1.35-9.63 2.8-14.28 4.63Zm20.17 6.76c.33.23.68.42 1.04.56h-.33c-.12 0-.21.06-.26.13-.15-.23-.31-.45-.45-.7v.01ZM226.57 91.75c-3.55-4.74-6.68-9.11-9.31-12.99 9.2-15.25 10.05-17.81 10.35-18.38.17-.34 1.09-2.27.64-2.53-1.13-.65-1.03-.65-2.97-1.71-1.19-.65-3.04-1.61-4.53-2.12-1.71-.59-1.24-.36-3 2.77-.06.1-.11.2-.17.3-.75 1.02-1.48 2.05-2.2 3.09-1.88 2.71-3.73 5.45-5.69 8.1-3.68-4.91-6.88-8.76-9.51-11.43-.15-.15-.3-.29-.46-.42-1.27-1.28-7.24 3.53-7.93 5.58-.09.09-.19.16-.28.25-.27.26.03.64.33.58.19.65.5 1.29.94 1.91 3.85 5.06 7.19 9.76 9.94 14-1.23 2.61-3.06 5-4.67 7.38l-2.28 3.33c-.5.66-.93 1.23-1.29 1.69-.67.93-2.09 2.61-2.3 3.87-.51.85-1.16 1.84-1.29 2.83-.06.44.61.63.67.19.01-.08.04-.15.06-.22 1.36 1.08 2.76 2.11 4.19 3.11 1.3.91 2.62 1.85 4.04 2.56.21.1.4 0 .48-.17.24.07.48.14.72.2.44.1.62-.57.19-.67-2.02-.48-3.77-1.57-5.23-3.02-.47-.46-.9-.96-1.32-1.46 1.74 1.35 4.2 2.89 5.89 4.14 1.39 1.03 2.85-2.27 4.22-4.2 1.86-2.64 3.96-5.86 5.52-8.29l10.39 14.51c.67.81 1.14 1.21 1.57 1.36-.05.24.12.51.41.4 1.53-.58 3.05-1.19 4.54-1.87 1.52-.69 3.06-1.45 4.36-2.5a.28.28 0 0 0 .12-.23c1.66-1.1.81-1.74-1.41-4.91-1.13-1.58-1.71-2.36-3.7-5.01l-.03-.02Zm2.41 6.54c.56 1.15 1.19 2.52 1.11 3.81-.06.04-.12.07-.17.1-.03-.88-.55-2.66-.94-3.91Zm-16.51-32.73c1.86-2.65 3.65-5.35 5.57-7.95.4-.55.81-1.13 1.26-1.66.19-.18.38-.33.56-.45.18.03.36.08.55.13l-8.05 10.11.12-.18h-.01ZM192.7 95.48c.79-1.37 1.66-2.69 2.54-4 1.19-1.79 2.4-3.56 3.61-5.33-.04.09-.09.17-.13.26-.1.22.03.41.2.49-2.47 3.42-4.89 6.73-6.4 9.28.21.24.4.48.63.75-.24.07-.4.36-.17.56.4.33.72.77 1.05 1.17.09.11.18.21.27.32-.84-.61-1.66-1.24-2.47-1.88.24-.57.58-1.11.87-1.61v-.01Zm7.46-10.32c.47-.81.98-1.59 1.49-2.37.31-.48.64-.95.96-1.43.26-.29.52-.56.75-.79-.99 1.48-2.09 3.03-3.2 4.59Zm10.03-16.22s-.03-.05-.05-.07c.22-.29.43-.59.64-.89-.2.32-.4.65-.58.96h-.01ZM371.54 87.96c-.01-.08-.01-.16-.03-.23-.06-.38-.58-.29-.66.03-.3-.05-.6-.08-.81-.11-1.14-.15-2.29-.19-3.44-.2 1.04-.09 2.09-.18 3.14-.23.45-.02.45-.72 0-.7-6.57.35-13.14 1.23-19.65 2.11-1.53.21-3.05.42-4.57.68-.01 0-.02.01-.04.01-.04-3.33-.13-6.66-.24-9.99-.19-5.7-.4-11.41-.88-17.1-.13-1.51-.23-3.07-.49-4.58 0-.25 0-.48-.02-.68-.06-1.19-.04-2.61-.68-2.78-.16-.07-.72-.16-1.5-.24.22-.17.16-.62-.2-.63-1.19-.04-2.39.09-3.57.23-1.2.14-2.41.32-3.59.6-.16-.1-.41-.06-.5.12-.06.02-.13.03-.19.05-.35.1-.29.55-.03.66-.26.6-.19 2.27-.21 3-.02.66-.66 33.73-.9 40.3-.03.65.06 1.12.04 1.45-.16 3.05.87 4.96 6.34 3.93 1.09-.08 2.75-.77 5.36-1.43 4.13-1.04 5.78-1.52 6.2-1.65 6.43-1.69 6.78-1.97 11.72-2.43.55-.05 4.8-.38 6.03-.3.64.04 1.19.07 1.65.1.09 0 .16-.03.24-.05.1.27.56.33.66-.02.39-1.32.61-2.71.78-4.08.2-1.61.29-3.24.15-4.86.24.03.52-.23.38-.53-.09-.2-.27-.33-.49-.43v-.02Zm-.63.56c.07.57.11 1.14.11 1.71-.21-.99-.53-1.71-.95-1.87.22.03.44.06.65.11.06.01.12.04.19.05Zm-25.41 1.73c1.54-.36 3.1-.64 4.66-.89-1.61.37-3.18.77-4.66 1.2v-.31Zm-.86-7.37c-.07-1.37-.16-2.75-.25-4.12-.21-3.13-.45-6.27-.79-9.4.02-2.25.08-4.31.13-6.11.16 2.08.29 4.16.4 6.24.23 4.46.38 8.93.5 13.39h.01Zm-.94-4c.16 2.41.29 4.83.39 7.24.06 1.6.14 3.22.09 4.83-.15.05-.32.09-.47.14V78.88h-.01ZM483.72 92.83c-3.05-2.28-6.22-4.4-9.38-6.51 8.86-6.49 13.49-12.95 13.73-19.23.04-.76 0-1.5-.13-2.2-.67-3.82-3.5-6.68-8.39-8.48.13.04.27.08.4.13 3.92 1.39 7.74 4.23 8.5 8.56.34 1.95-.05 3.96-.98 5.69-.21.4.39.75.6.35 1.86-3.46 1.46-7.55-.97-10.63-3.53-4.47-9.76-5.88-15.16-6.16-2.32-.12-4.64-.04-6.95.19-6 .32-12.71 1.68-17.63 3.21-.37.11-.67.23-.92.35-.2-.17-.62.02-.57.37v.03c-.64.68-.18 1.64.48 3.21.38.91.67 1.89 1.15 2.58.32.76.68 1.51 1.13 2.19.14.21.38.19.53.07.19-.02.38-.05.57-.08v1.57c-.06.06-.1.13-.11.23-.27 4.18-.34 8.38-.48 12.57l-.3 9.03c-.24 3.91-.44 6.77-.46 7.26-.05.88-.11 1.95.07 2.81-.01.22-.02.43-.04.65 0 .11-.02.23-.03.35 0 .05-.03.27-.01.16-.05.4.5.59.64.28.05.04.12.08.2.08 1.75.13 3.5.28 5.25.3 1.69.02 3.38-.12 5.06-.32.08.23.36.39.55.15.06-.08.11-.17.16-.26.18-.09.24-.32.18-.48.05-.2.1-.4.13-.6.16-.86.25-1.74.33-2.62.11-1.17.17-2.34.23-3.51.15-.01.32-.03.52-.04.36-.03 1.73-.15 2.06-.15.39 0 .7-.02.95-.04 1.76 1.11 3.45 2.35 5.14 3.55 2.83 2.01 5.64 4.04 8.47 6.04 1.42 1 2.85 2 4.29 2.97.1.06.19.07.27.04.08 0 .17-.02.25-.1 1.61-1.56 3.15-3.18 4.6-4.88.75-.88 1.49-1.78 2.15-2.73.01.01.03.02.04.03.34.3.83-.2.49-.49-2.16-1.9-4.34-3.76-6.64-5.48l.03-.01Zm-6.38-3.65a55.72 55.72 0 0 0-4-2.13c.14-.1.26-.19.4-.29 1.2.81 2.4 1.61 3.6 2.42Zm-20.1 11.78c.67-.37 1.23-.91 1.67-1.6-.11.5-.24 1-.38 1.49-.43.04-.86.08-1.29.11Zm2.38-37.24c1.34-.31 2.56-.52 3.71-.69-1.03.19-2.04.41-3.04.65-.14-.07-.34-.02-.45.11-.07.02-.15.04-.22.05v-.13.01Zm.04.84c.07-.02.14-.03.2-.05.34 1.66.41 3.41.5 5.09.17 2.9.24 5.81.28 8.71l.03 3.17c-.17.07-.34.14-.51.2-.06-4.96-.21-10.58-.51-17.12h.01Zm16.04 5.62c-1.16 2.25-3.06 4.1-5.02 5.66-2.8 2.23-5.99 3.97-9.3 5.35-.01-3.56-.09-7.12-.27-10.67-.1-2.04-.16-4.16-.57-6.18 3.3-.78 6.72-1.36 10.1-1.1 1.85.14 4.23.59 5.32 2.29.92 1.43.46 3.24-.26 4.65Zm.85-.18c.6-1.37.9-2.92.28-4.32-.67-1.52-2.2-2.32-3.76-2.74.46.1.89.21 1.29.37 1.74.67 2.69 1.88 2.93 3.21.2 1.13-.05 2.25-.74 3.47V70Zm-27.47-4.14c-.12-.19-.23-.38-.34-.57.74.42.85.36.99.41v.08c-.22.03-.43.06-.65.08Zm11.21 30.46c-.08 1.08-.16 2.17-.33 3.24-.05.35-.11.69-.2 1.03 0 .04-.02.07-.03.11-.15.02-.3.04-.45.05.45-1.64.76-3.36.79-5.07.03-.29.08-.57.1-.89-.03-.31-.03-.47.24-.57-.04.69-.07 1.39-.12 2.08v.02Zm5.6-2.47c.48.11.92.52 2.49 1.72-.46-.32-.92-.65-1.38-.97-.37-.25-.73-.5-1.1-.75h-.01Zm21.23 7.24a70.76 70.76 0 0 1-4.37 4.63c-.14-.09-.27-.19-.4-.28.19-.09.37-.24.55-.47.87-1.14 5.43-5.51 5.49-7.45.31.26.62.53.92.79-.67.97-1.42 1.88-2.19 2.77v.01Z",fill:"currentColor",transform:"translate(-144.023 -51.76)"})]})},Av=function(e){var t=e.style,n=e.size,r=void 0===n?"small":n,a=e.withText;return(0,V.jsxs)("div",{className:"ExcalidrawLogo is-".concat(r),style:t,children:[(0,V.jsx)(xv,{}),a&&(0,V.jsx)(wv,{})]})},Ev=function(e){var t=e.icon,n=e.shortcut,r=e.children,a=$p();return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{className:"welcome-screen-menu-item__icon",children:t}),(0,V.jsx)("div",{className:"welcome-screen-menu-item__text",children:r}),n&&!a.editor.isMobile&&(0,V.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:n})]})};Ev.displayName="WelcomeScreenMenuItemContent";var kv=function(e){var t=e.onSelect,n=e.children,r=e.icon,a=e.shortcut,i=e.className,o=void 0===i?"":i,l=(0,m.A)(e,mi);return(0,V.jsx)("button",(0,v.A)((0,v.A)({},l),{},{type:"button",className:"welcome-screen-menu-item ".concat(o),onClick:t,children:(0,V.jsx)(Ev,{icon:r,shortcut:a,children:n})}))};kv.displayName="WelcomeScreenMenuItem";var Sv=function(e){var t=e.children,n=e.href,r=e.icon,a=e.shortcut,i=e.className,o=void 0===i?"":i,l=(0,m.A)(e,gi);return(0,V.jsx)("a",(0,v.A)((0,v.A)({},l),{},{className:"welcome-screen-menu-item ".concat(o),href:n,target:"_blank",rel:"noreferrer",children:(0,V.jsx)(Ev,{icon:r,shortcut:a,children:t})}))};Sv.displayName="WelcomeScreenMenuItemLink";var Mv=function(e){var t=e.children,n=cd().WelcomeScreenCenterTunnel;return(0,V.jsx)(n.In,{children:(0,V.jsx)("div",{className:"welcome-screen-center",children:t||(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(Cv,{}),(0,V.jsx)(jv,{children:Fi("welcomeScreen.defaults.center_heading")}),(0,V.jsxs)(Iv,{children:[(0,V.jsx)(Tv,{}),(0,V.jsx)(Dv,{})]})]})})})};Mv.displayName="Center";var Cv=function(e){var t=e.children;return(0,V.jsx)("div",{className:"welcome-screen-center__logo excalifont welcome-screen-decor",children:t||(0,V.jsx)(Av,{withText:!0})})};Cv.displayName="Logo";var jv=function(e){var t=e.children;return(0,V.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor excalifont",children:t})};jv.displayName="Heading";var Iv=function(e){var t=e.children;return(0,V.jsx)("div",{className:"welcome-screen-menu",children:t})};Iv.displayName="Menu";var Dv=function(){var e=nv();return(0,V.jsx)(kv,{onSelect:function(){return e.executeAction(as)},shortcut:"?",icon:b.Bd,children:Fi("helpDialog.title")})};Dv.displayName="MenuItemHelp";var Tv=function(){var e=Ro(),t=nv();return e.viewModeEnabled?null:(0,V.jsx)(kv,{onSelect:function(){return t.executeAction(Jl)},shortcut:nd("loadScene"),icon:b.Ld,children:Fi("buttons.load")})};Tv.displayName="MenuItemLoadScene";var _v=function(e){var t=e.onSelect,n=zi().t;return(0,V.jsx)(kv,{shortcut:null,onSelect:t,icon:b.fe,children:n("labels.liveCollaboration")})};_v.displayName="MenuItemLiveCollaborationTrigger",Mv.Logo=Cv,Mv.Heading=jv,Mv.Menu=Iv,Mv.MenuItem=kv,Mv.MenuItemLink=Sv,Mv.MenuItemHelp=Dv,Mv.MenuItemLoadScene=Tv,Mv.MenuItemLiveCollaborationTrigger=_v;var Lv=function(e){var t=e.children,n=cd().WelcomeScreenMenuHintTunnel;return(0,V.jsx)(n.In,{children:(0,V.jsxs)("div",{className:"excalifont welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[b.ld,(0,V.jsx)("div",{className:"welcome-screen-decor-hint__label",children:t||Fi("welcomeScreen.defaults.menuHint")})]})})};Lv.displayName="MenuHint";var Rv=function(e){var t=e.children,n=cd().WelcomeScreenToolbarHintTunnel;return(0,V.jsx)(n.In,{children:(0,V.jsxs)("div",{className:"excalifont welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,V.jsx)("div",{className:"welcome-screen-decor-hint__label",children:t||Fi("welcomeScreen.defaults.toolbarHint")}),b.nd]})})};Rv.displayName="ToolbarHint";var Pv=function(e){var t=e.children,n=cd().WelcomeScreenHelpHintTunnel;return(0,V.jsx)(n.In,{children:(0,V.jsxs)("div",{className:"excalifont welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,V.jsx)("div",{children:t||Fi("welcomeScreen.defaults.helpHint")}),b.md]})})};Pv.displayName="HelpHint";var Nv=function(e){return(0,V.jsx)(V.Fragment,{children:e.children||(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(Mv,{}),(0,V.jsx)(Lv,{}),(0,V.jsx)(Rv,{}),(0,V.jsx)(Pv,{})]})})};Nv.displayName="WelcomeScreen",Nv.Center=Mv,Nv.Hints={MenuHint:Lv,ToolbarHint:Rv,HelpHint:Pv};var Fv=function(e){var t=e.isCollaborating,n=e.onSelect,r=(0,m.A)(e,bi),a=Ro(),i=a.width<830;return(0,V.jsxs)(Jc,(0,v.A)((0,v.A)({},r),{},{className:(0,le.A)("collab-button",{active:t}),type:"button",onSelect:n,style:{position:"relative",width:i?void 0:"auto"},title:Fi("labels.liveCollaboration"),children:[i?b.Ud:Fi("labels.share"),a.collaborators.size>0&&(0,V.jsx)("div",{className:"CollabButton-collaborators",children:a.collaborators.size})]}))};Fv.displayName="LiveCollaborationTrigger";Hn((function(e,t,n){var r;if(y.a.DEV||y.a.MODE===b.D.TEST||null!==(r=window)&&void 0!==r&&r.DEBUG_FRACTIONAL_INDICES){var a=(0,b.Nj)(e.map((function(e){return(0,v.A)({},e)})));(0,b.Kj)(a,{shouldThrow:y.a.DEV||y.a.MODE===b.D.TEST,includeBoundTextValidation:!0,reconciliationContext:{localElements:t,remoteElements:n}})}}),6e4,{leading:!0,trailing:!1});bv();var Ov=r.memo((function(e){var t,a,i,o,c,d=e.onChange,u=e.initialData,f=e.excalidrawAPI,h=e.isCollaborating,p=void 0!==h&&h,U=e.onPointerUpdate,m=e.renderTopRightUI,g=e.langCode,y=void 0===g?Ii.code:g,x=e.viewModeEnabled,w=e.zenModeEnabled,A=e.gridModeEnabled,E=e.libraryReturnUrl,k=e.theme,S=e.name,M=e.renderCustomStats,C=e.onPaste,j=e.detectScroll,I=void 0===j||j,D=e.handleKeyboardGlobally,T=void 0!==D&&D,_=e.onLibraryChange,L=e.autoFocus,R=void 0!==L&&L,P=e.generateIdForFile,N=e.onLinkOpen,F=e.generateLinkForSelection,O=e.onPointerDown,z=e.onPointerUp,B=e.onScrollChange,H=e.onDuplicate,W=e.children,X=e.validateEmbeddable,G=e.renderEmbeddable,Y=e.aiEnabled,Z=e.showDeprecatedFonts,K=null===(t=e.UIOptions)||void 0===t?void 0:t.canvasActions,q=(0,v.A)((0,v.A)({},e.UIOptions),{},{canvasActions:(0,v.A)((0,v.A)({},b.ga.canvasActions),K),tools:{image:null===(a=null===(i=e.UIOptions)||void 0===i||null===(i=i.tools)||void 0===i?void 0:i.image)||void 0===a||a}});return null!==K&&void 0!==K&&K.export&&(q.canvasActions.export.saveFileToDisk=null!==(o=null===(c=K.export)||void 0===c?void 0:c.saveFileToDisk)&&void 0!==o?o:b.ga.canvasActions.export.saveFileToDisk),null===q.canvasActions.toggleTheme&&typeof k>"u"&&(q.canvasActions.toggleTheme=!0),(0,r.useEffect)((function(){(0,s.A)((0,l.A)().mark((function e(){return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(4223),n.e(966)]).then(n.t.bind(n,30966,19));case 2:case"end":return e.stop()}}),e)})))();var e=function(e){"number"==typeof e.scale&&1!==e.scale&&e.preventDefault()};return document.addEventListener("touchmove",e,{passive:!1}),function(){document.removeEventListener("touchmove",e)}}),[]),(0,V.jsx)(Mi,{store:Ci,children:(0,V.jsx)(Wi,{langCode:y,theme:k,children:(0,V.jsx)(gv,{onChange:d,initialData:u,excalidrawAPI:f,isCollaborating:p,onPointerUpdate:U,renderTopRightUI:m,langCode:y,viewModeEnabled:x,zenModeEnabled:w,gridModeEnabled:A,libraryReturnUrl:E,theme:k,name:S,renderCustomStats:M,UIOptions:q,onPaste:C,detectScroll:I,handleKeyboardGlobally:T,onLibraryChange:_,autoFocus:R,generateIdForFile:P,onLinkOpen:N,generateLinkForSelection:F,onPointerDown:O,onPointerUp:z,onScrollChange:B,onDuplicate:H,validateEmbeddable:X,renderEmbeddable:G,aiEnabled:!1!==Y,showDeprecatedFonts:Z,children:W})})})}),(function(e,t){if(e.children!==t.children)return!1;e.initialData;var n=e.UIOptions,r=void 0===n?{}:n,a=(0,m.A)(e,yi),i=(t.initialData,t.UIOptions),o=void 0===i?{}:i,l=(0,m.A)(t,xi),s=Object.keys(r),c=Object.keys(o);return s.length===c.length&&(s.every((function(e){return"canvasActions"===e?Object.keys(r.canvasActions).every((function(e){var t,n,a,i;return"export"===e&&null!==r&&void 0!==r&&null!==(t=r.canvasActions)&&void 0!==t&&t.export&&null!==o&&void 0!==o&&null!==(n=o.canvasActions)&&void 0!==n&&n.export?r.canvasActions.export.saveFileToDisk===o.canvasActions.export.saveFileToDisk:(null===r||void 0===r||null===(a=r.canvasActions)||void 0===a?void 0:a[e])===(null===o||void 0===o||null===(i=o.canvasActions)||void 0===i?void 0:i[e])})):r[e]===o[e]}))&&(0,b.Hb)(a,l))}));Ov.displayName="Excalidraw";var zv=n(75168),Bv=n(49483),Hv={"zh-cn":"zh-CN",en:"en","zh-tw":"zh-TW",ru:"ru-RU",it:"it-IT",fr:"fr-FR","es-ms":"en","es-ar":"en",es:"es-ES",de:"de-DE",cs:"cs-CZ"},Wv=function(e){var t=e.sceneContent,n=void 0===t?null:t,a=e.onChangeContent,i=e.onSaveContent,o=e.isFetching,l=(0,r.useState)(null),s=(0,c.A)(l,2),d=s[0],u=s[1],f=(0,r.useRef)([]);(0,r.useEffect)((function(){var e=function(e){(0,zv.default)("mod+s",e)&&(e.preventDefault(),i(d.getSceneElements()))};return document.addEventListener("keydown",e,!0),function(){document.removeEventListener("keydown",e,!0)}}),[d,i]);var h=function(e,t){return e.length!==t.length||t.some((function(t,n){var r;return t.version!==(null===(r=e[n])||void 0===r?void 0:r.version)}))};return o?(0,V.jsx)("div",{className:"excali-container",children:(0,V.jsx)(Bv.A,{})}):(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("div",{className:"excali-container",style:{height:"100vh",width:"100vw"},children:(0,V.jsx)(Ov,{initialData:n,excalidrawAPI:function(e){return u(e)},onChange:function(){var e=d.getSceneElements();h(e,f.current)&&a(e),f.current=e},UIOptions:{canvasActions:{saveToActiveFile:!1,LoadScene:!1},tools:{image:!1}},langCode:Hv[window.app.config.lang]||"en",children:(0,V.jsxs)(xf,{children:[(0,V.jsx)(xf.DefaultItems.Export,{}),(0,V.jsx)(xf.DefaultItems.SaveAsImage,{}),(0,V.jsx)(xf.DefaultItems.Help,{}),(0,V.jsx)(xf.DefaultItems.ClearCanvas,{}),(0,V.jsx)(xf.DefaultItems.ToggleTheme,{}),(0,V.jsx)(xf.DefaultItems.ChangeCanvasBackground,{})]})})})})},Xv=n(97011),Gv=n(65604),Vv=window.app.pageOptions,Yv=Vv.repoID,Zv=Vv.filePath,Kv=Vv.fileName,qv=Gv.Aq.getDirName(Zv),$v=new(function(){return(0,h.A)((function e(){(0,f.A)(this,e),this.getFileContent=function(){return Xv.e.getFileDownloadLink(Yv,Zv).then((function(e){var t=e.data;return Xv.e.getFileContent(t)}))}}),[{key:"saveContent",value:function(e){return Xv.e.getUpdateLink(Yv,qv).then((function(t){var n=t.data;return Xv.e.updateFile(n,Zv,Kv,e)}))}}])}()),Qv=n(40326),Jv=n(4086),eU=function(){var e=(0,r.useState)(null),t=(0,c.A)(e,2),n=t[0],a=t[1],i=(0,r.useRef)(null),o=(0,r.useRef)(!1),d=(0,r.useState)(!0),u=(0,c.A)(d,2),f=u[0],h=u[1];(0,r.useEffect)((function(){$v.getFileContent().then((function(e){var t,n;null!==(t=e.data)&&void 0!==t&&null!==(n=t.appState)&&void 0!==n&&n.collaborators&&!Array.isArray(e.data.appState.collaborators)&&(e.data.appState.collaborators=[]),a(e.data),h(!1)}))}),[]);var p=(0,r.useCallback)((0,s.A)((0,l.A)().mark((function e(){return(0,l.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.current){e.next=11;break}return e.prev=1,e.next=4,$v.saveContent(JSON.stringify(i.current));case 4:o.current=!1,Jv.A.success((0,Qv.AP)("Successfully saved"),{duration:2}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Jv.A.danger((0,Qv.AP)("Failed to save"),{duration:2});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[]);(0,r.useEffect)((function(){var e=function(e){(0,zv.default)("mod+s",e)&&e.preventDefault()};return document.addEventListener("keydown",e,!0),function(){document.removeEventListener("keydown",e,!0)}}),[p]),(0,r.useEffect)((function(){var e=setInterval((function(){o.current&&$v.saveContent(JSON.stringify(i.current)).then((function(e){o.current=!1}))}),18e4),t=function(e){o.current&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",t),function(){clearInterval(e),window.removeEventListener("beforeunload",t)}}),[p]);var v=(0,r.useCallback)((function(){p()}),[p]),U=(0,r.useCallback)((function(e){i.current={elements:e},o.current=!0}),[]);return(0,V.jsx)(Wv,{isFetching:f,sceneContent:n,onSaveContent:v,onChangeContent:U})};(0,i.createRoot)(document.getElementById("wrapper")).render((0,V.jsx)(r.Suspense,{fallback:(0,V.jsx)(o.A,{}),children:(0,V.jsx)(eU,{})}))},83144:function(e,t){"use strict";t.J=void 0;var n=/^([^\w]*)(javascript|data|vbscript)/im,r=/&#(\w+)(^\w|;)?/g,a=/&(newline|tab);/gi,i=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,o=/^.+(:|&colon;)/gim,l=[".","/"];t.J=function(e){var t,s=(t=e||"",t.replace(r,(function(e,t){return String.fromCharCode(t)}))).replace(a,"").replace(i,"").trim();if(!s)return"about:blank";if(function(e){return l.indexOf(e[0])>-1}(s))return s;var c=s.match(o);if(!c)return s;var d=c[0];return n.test(d)?"about:blank":s}},28159:function(e,t,n){"use strict";n.r(t),n.d(t,{hideOthers:function(){return d},inertOthers:function(){return u},supportsInert:function(){return f},suppressOthers:function(){return h}});var r=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},a=new WeakMap,i=new WeakMap,o={},l=0,s=function(e){return e&&(e.host||s(e.parentNode))},c=function(e,t,n,r){var c=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=s(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);o[n]||(o[n]=new WeakMap);var d=o[n],u=[],f=new Set,h=new Set(c),p=function(e){e&&!f.has(e)&&(f.add(e),p(e.parentNode))};c.forEach(p);var v=function(e){e&&!h.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(f.has(e))v(e);else try{var t=e.getAttribute(r),o=null!==t&&"false"!==t,l=(a.get(e)||0)+1,s=(d.get(e)||0)+1;a.set(e,l),d.set(e,s),u.push(e),1===l&&o&&i.set(e,!0),1===s&&e.setAttribute(n,"true"),o||e.setAttribute(r,"true")}catch(c){console.error("aria-hidden: cannot operate on ",e,c)}}))};return v(t),f.clear(),l++,function(){u.forEach((function(e){var t=a.get(e)-1,o=d.get(e)-1;a.set(e,t),d.set(e,o),t||(i.has(e)||e.removeAttribute(r),i.delete(e)),o||e.removeAttribute(n)})),--l||(a=new WeakMap,a=new WeakMap,i=new WeakMap,o={})}},d=function(e,t,n){void 0===n&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),i=t||r(e);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live]"))),c(a,i,n,"aria-hidden")):function(){return null}},u=function(e,t,n){void 0===n&&(n="data-inert-ed");var a=t||r(e);return a?c(e,a,n,"inert"):function(){return null}},f=function(){return"undefined"!==typeof HTMLElement&&HTMLElement.prototype.hasOwnProperty("inert")},h=function(e,t,n){return void 0===n&&(n="data-suppressed"),(f()?u:d)(e,t,n)}},2803:function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"===typeof e||"number"===typeof e)a+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.d(t,{A:function(){return a}})},3656:function(e,t,n){var r,a=n(93325).hp;r=function(e){e.version="0.3.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}(),n="undefined"!==typeof a;function r(e){for(var n=-1,r=0,a=e.length-7;r<a;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])];for(;r<a+7;)n=n>>>8^t[255&(n^e[r++])];return~n}e.table=t,e.bstr=function(e){if(e.length>32768&&n)return r(new a(e));for(var i=-1,o=e.length-1,l=0;l<o;)i=t[255&(i^e.charCodeAt(l++))]^i>>>8,i=t[255&(i^e.charCodeAt(l++))]^i>>>8;return l===o&&(i=i>>>8^t[255&(i^e.charCodeAt(l))]),~i},e.buf=function(e){if(e.length>1e4)return r(e);for(var n=-1,a=0,i=e.length-3;a<i;)n=(n=(n=(n=n>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])];for(;a<i+3;)n=n>>>8^t[255&(n^e[a++])];return~n},e.str=function(e){for(var n,r,a=-1,i=0,o=e.length;i<o;)(n=e.charCodeAt(i++))<128?a=a>>>8^t[255&(a^n)]:n<2048?a=(a=a>>>8^t[255&(a^(192|n>>6&31))])>>>8^t[255&(a^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),r=1023&e.charCodeAt(i++),a=(a=(a=(a=a>>>8^t[255&(a^(240|n>>8&7))])>>>8^t[255&(a^(128|n>>2&63))])>>>8^t[255&(a^(128|r>>6&15|3&n))])>>>8^t[255&(a^(128|63&r))]):a=(a=(a=a>>>8^t[255&(a^(224|n>>12&15))])>>>8^t[255&(a^(128|n>>6&63))])>>>8^t[255&(a^(128|63&n))];return~a}},"undefined"===typeof DO_NOT_EXPORT_CRC?r(t):r({})},76277:function(e,t){var n,r,a;r=[],void 0===(a="function"===typeof(n=function(){"use strict";var e=function(){this._listeners={}};e.prototype.addEventListener=function(e,t){this._listeners[e]=this._listeners[e]||[],this._listeners[e].indexOf(t)<0&&this._listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(this._listeners[e]){var n=this._listeners[e].indexOf(t);n>=0&&this._listeners[e].splice(n,1)}},e.prototype.dispatchEvent=function(e){if(this._listeners[e.type]&&this._listeners[e.type].length)for(var t=this._listeners[e.type].slice(),n=0,r=t.length;n<r;++n)t[n].call(this,e)};var t=function(e){return"function"===typeof e.constructor&&"GeneratorFunction"===e.constructor.name},n=function(e){return{next:function(){var t=e();return t?{value:t}:{done:!0}}}},r=function(e){var t=!1;return{next:function(){return t?{done:!0}:(t=!0,{value:e})}}},a=function(e,a){var i=typeof e;if("object"===i){if("function"===typeof e.next)return e;if("function"===typeof e.then)return r(e)}return"function"===i?t(e)?e():n(e):r(a.resolve(e))},i=function(e,t,n){this.target=e,this.type=t,this.data=n},o=function(t,n,r){if(e.call(this),"number"!==typeof n||Math.floor(n)!==n||n<1)throw new Error("Invalid concurrency");this._concurrency=n,this._options=r||{},this._options.promise=this._options.promise||Promise,this._iterator=a(t,this._options.promise),this._done=!1,this._size=0,this._promise=null,this._callbacks=null};return o.prototype=new e,o.prototype.constructor=o,o.prototype.concurrency=function(e){return"undefined"!==typeof e&&(this._concurrency=e,this.active()&&this._proceed()),this._concurrency},o.prototype.size=function(){return this._size},o.prototype.active=function(){return!!this._promise},o.prototype.promise=function(){return this._promise},o.prototype.start=function(){var e=this,t=this._options.promise;return this._promise=new t((function(t,n){e._callbacks={reject:n,resolve:t},e._proceed()})),this._promise},o.prototype._fireEvent=function(e,t){this.dispatchEvent(new i(this,e,t))},o.prototype._settle=function(e){e?this._callbacks.reject(e):this._callbacks.resolve(),this._promise=null,this._callbacks=null},o.prototype._onPooledPromiseFulfilled=function(e,t){this._size--,this.active()&&(this._fireEvent("fulfilled",{promise:e,result:t}),this._proceed())},o.prototype._onPooledPromiseRejected=function(e,t){this._size--,this.active()&&(this._fireEvent("rejected",{promise:e,error:t}),this._settle(t||new Error("Unknown error")))},o.prototype._trackPromise=function(e){var t=this;e.then((function(n){t._onPooledPromiseFulfilled(e,n)}),(function(n){t._onPooledPromiseRejected(e,n)})).catch((function(e){t._settle(new Error("Promise processing failed: "+e))}))},o.prototype._proceed=function(){if(!this._done){for(var e={done:!1};this._size<this._concurrency&&!(e=this._iterator.next()).done;)this._size++,this._trackPromise(e.value);this._done=null===e||!!e.done}this._done&&0===this._size&&this._settle()},o.PromisePoolEvent=i,o.PromisePool=o,o})?n.apply(t,r):n)||(e.exports=a)},19469:function(e){!function(){var t={};e.exports=t,t.simpleFilter=function(e,n){return n.filter((function(n){return t.test(e,n)}))},t.test=function(e,n){return null!==t.match(e,n)},t.match=function(e,t,n){n=n||{};var r,a=0,i=[],o=t.length,l=0,s=0,c=n.pre||"",d=n.post||"",u=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var f=0;f<o;f++)r=t[f],u[f]===e[a]?(r=c+r+d,a+=1,s+=1+s):s=0,l+=s,i[i.length]=r;return a===e.length?(l=u===e?1/0:l,{rendered:i.join(""),score:l}):null},t.filter=function(e,n,r){return n&&0!==n.length?"string"!==typeof e?n:(r=r||{},n.reduce((function(n,a,i,o){var l=a;r.extract&&(l=r.extract(a));var s=t.match(e,l,r);return null!=s&&(n[n.length]={string:s.rendered,score:s.score,index:i,original:a}),n}),[]).sort((function(e,t){var n=t.score-e.score;return n||e.index-t.index}))):[]}}()},64267:function(e,t,n){var r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=s||c||Function("return this")(),u=Object.prototype.toString,f=Math.max,h=Math.min,p=function(){return d.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function U(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||o.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var r,a,i,o,l,s,c=0,d=!1,u=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,i=a;return r=a=void 0,c=t,o=e.apply(i,n)}function b(e){var n=e-s;return void 0===s||n>=t||n<0||u&&e-c>=i}function y(){var e=p();if(b(e))return x(e);l=setTimeout(y,function(e){var n=t-(e-s);return u?h(n,i-(e-c)):n}(e))}function x(e){return l=void 0,m&&r?g(e):(r=a=void 0,o)}function w(){var e=p(),n=b(e);if(r=arguments,a=this,s=e,n){if(void 0===l)return function(e){return c=e,l=setTimeout(y,t),d?g(e):o}(s);if(u)return l=setTimeout(y,t),g(s)}return void 0===l&&(l=setTimeout(y,t)),o}return t=U(t)||0,v(n)&&(d=!!n.leading,i=(u="maxWait"in n)?f(U(n.maxWait)||0,t):i,m="trailing"in n?!!n.trailing:m),w.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=s=a=l=void 0},w.flush=function(){return void 0===l?o:x(p())},w}},52534:function(e){e.exports=function(e){e.data&&e.name&&(e=e.data);for(var t=!0,n="",r="",a=0;a<e.length;a++){var i=e[a];if(t)i?r+=String.fromCharCode(i):t=!1;else{if(!i)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");n+=String.fromCharCode(i)}}return{keyword:r,text:n}}},12346:function(e){e.exports=function(e,t){if(e=String(e),t=String(t),!/^[\x00-\xFF]+$/.test(e)||!/^[\x00-\xFF]+$/.test(t))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(e.length>=80)throw new Error('Keyword "'+e+'" is longer than the 79-character limit imposed by the PNG specification');for(var n,r=e.length+t.length+1,a=new Uint8Array(r),i=0,o=0;o<e.length;o++){if(!(n=e.charCodeAt(o)))throw new Error("0x00 character is not permitted in tEXt keywords");a[i++]=n}a[i++]=0;for(var l=0;l<t.length;l++){if(!(n=t.charCodeAt(l)))throw new Error("0x00 character is not permitted in tEXt content");a[i++]=n}return{name:"tEXt",data:a}}},12362:function(e,t,n){t.encode=n(12346),t.decode=n(52534)},5424:function(e,t,n){var r=n(56585),a=n(3656);e.exports=function(e){var t,n=8,s=n;for(t=0;t<e.length;t++)n+=e[t].data.length,n+=12;var c=new Uint8Array(n);for(c[0]=137,c[1]=80,c[2]=78,c[3]=71,c[4]=13,c[5]=10,c[6]=26,c[7]=10,t=0;t<e.length;t++){var d=e[t],u=d.name,f=d.data,h=f.length,p=[u.charCodeAt(0),u.charCodeAt(1),u.charCodeAt(2),u.charCodeAt(3)];l[0]=h,c[s++]=i[3],c[s++]=i[2],c[s++]=i[1],c[s++]=i[0],c[s++]=p[0],c[s++]=p[1],c[s++]=p[2],c[s++]=p[3];for(var v=0;v<h;)c[s++]=f[v++];var U=p.concat(r(f)),m=a.buf(U);o[0]=m,c[s++]=i[3],c[s++]=i[2],c[s++]=i[1],c[s++]=i[0]}return c};var i=new Uint8Array(4),o=new Int32Array(i.buffer),l=new Uint32Array(i.buffer)},41619:function(e,t,n){var r=n(3656);e.exports=function(e){if(137!==e[0])throw new Error("Invalid .png file header");if(80!==e[1])throw new Error("Invalid .png file header");if(78!==e[2])throw new Error("Invalid .png file header");if(71!==e[3])throw new Error("Invalid .png file header");if(13!==e[4])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(10!==e[5])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(26!==e[6])throw new Error("Invalid .png file header");if(10!==e[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");var t=!1,n=[],l=8;for(;l<e.length;){a[3]=e[l++],a[2]=e[l++],a[1]=e[l++],a[0]=e[l++];var s=o[0]+4,c=new Uint8Array(s);c[0]=e[l++],c[1]=e[l++],c[2]=e[l++],c[3]=e[l++];var d=String.fromCharCode(c[0])+String.fromCharCode(c[1])+String.fromCharCode(c[2])+String.fromCharCode(c[3]);if(!n.length&&"IHDR"!==d)throw new Error("IHDR header missing");if("IEND"===d){t=!0,n.push({name:d,data:new Uint8Array(0)});break}for(var u=4;u<s;u++)c[u]=e[l++];a[3]=e[l++],a[2]=e[l++],a[1]=e[l++],a[0]=e[l++];var f=i[0];if(r.buf(c)!==f)throw new Error("CRC values for "+d+" header do not match, PNG file is likely corrupted");var h=new Uint8Array(c.buffer.slice(4));n.push({name:d,data:h})}if(!t)throw new Error(".png file ended prematurely: no IEND header was found");return n};var a=new Uint8Array(4),i=new Int32Array(a.buffer),o=new Uint32Array(a.buffer)},86325:function(e,t,n){"use strict";n.d(t,{A:function(){return Z}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;function i(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var o=n(9950),l="right-scroll-bar-position",s="width-before-scroll-bar";function c(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var d="undefined"!==typeof window?o.useLayoutEffect:o.useEffect,u=new WeakMap;function f(e,t){var n=function(e,t){var n=(0,o.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return c(e,t)}))}));return d((function(){var t=u.get(n);if(t){var r=new Set(t),a=new Set(e),i=n.current;r.forEach((function(e){a.has(e)||c(e,null)})),a.forEach((function(e){r.has(e)||c(e,i)}))}u.set(n,e)}),[e]),n}function h(e){return e}function p(e,t){void 0===t&&(t=h);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var a=t(e,r);return n.push(a),function(){n=n.filter((function(e){return e!==a}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var a=n;n=[],a.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(i)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}var v=function(e){void 0===e&&(e={});var t=p(null);return t.options=r({async:!0,ssr:!1},e),t}(),U=function(){},m=o.forwardRef((function(e,t){var n=o.useRef(null),i=o.useState({onScrollCapture:U,onWheelCapture:U,onTouchMoveCapture:U}),l=i[0],s=i[1],c=e.forwardProps,d=e.children,u=e.className,h=e.removeScrollBar,p=e.enabled,m=e.shards,g=e.sideCar,b=e.noIsolation,y=e.inert,x=e.allowPinchZoom,w=e.as,A=void 0===w?"div":w,E=e.gapMode,k=a(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=g,M=f([n,t]),C=r(r({},k),l);return o.createElement(o.Fragment,null,p&&o.createElement(S,{sideCar:v,removeScrollBar:h,shards:m,noIsolation:b,inert:y,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:E}),c?o.cloneElement(o.Children.only(d),r(r({},C),{ref:M})):o.createElement(A,r({},C,{className:u,ref:M}),d))}));m.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},m.classNames={fullWidth:s,zeroRight:l};var g,b=function(e){var t=e.sideCar,n=a(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return o.createElement(i,r({},n))};b.isSideCarExport=!0;function y(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=g||n.nc;return t&&e.setAttribute("nonce",t),e}var x=function(){var e=0,t=null;return{add:function(n){var r,a;0==e&&(t=y())&&(a=n,(r=t).styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},w=function(){var e=function(){var e=x();return function(t,n){o.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},A={left:0,top:0,right:0,gap:0},E=function(e){return parseInt(e||"",10)||0},k=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return A;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[E(n),E(r),E(a)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},S=w(),M="data-scroll-locked",C=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,c=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(c,"px ").concat(r,";\n  }\n  body[").concat(M,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(c,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(l," {\n    right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(s," {\n    margin-right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(l," .").concat(l," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(s," .").concat(s," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(M,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(c,"px;\n  }\n")},j=function(){var e=parseInt(document.body.getAttribute(M)||"0",10);return isFinite(e)?e:0},I=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=void 0===r?"margin":r;o.useEffect((function(){return document.body.setAttribute(M,(j()+1).toString()),function(){var e=j()-1;e<=0?document.body.removeAttribute(M):document.body.setAttribute(M,e.toString())}}),[]);var i=o.useMemo((function(){return k(a)}),[a]);return o.createElement(S,{styles:C(i,!t,a,n?"":"!important")})},D=!1;if("undefined"!==typeof window)try{var T=Object.defineProperty({},"passive",{get:function(){return D=!0,!0}});window.addEventListener("test",T,T),window.removeEventListener("test",T,T)}catch(K){D=!1}var _=!!D&&{passive:!1},L=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},R=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),P(e,r)){var a=N(e,r);if(a[1]>a[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},P=function(e,t){return"v"===e?function(e){return L(e,"overflowY")}(t):function(e){return L(e,"overflowX")}(t)},N=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},F=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},O=function(e){return[e.deltaX,e.deltaY]},z=function(e){return e&&"current"in e?e.current:e},B=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},H=0,W=[];function X(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var G,V=(G=function(e){var t=o.useRef([]),n=o.useRef([0,0]),r=o.useRef(),a=o.useState(H++)[0],l=o.useState(w)[0],s=o.useRef(e);o.useEffect((function(){s.current=e}),[e]),o.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=i([e.lockRef.current],(e.shards||[]).map(z),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(a))})),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(a))}))}}}),[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var a,i=F(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-i[0],c="deltaY"in e?e.deltaY:o[1]-i[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var f=R(u,d);if(!f)return!0;if(f?a=u:(a="v"===u?"h":"v",f=R(u,d)),!f)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=a),!a)return!0;var h=r.current||a;return function(e,t,n,r,a){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,s=t.contains(l),c=!1,d=o>0,u=0,f=0;do{var h=N(e,l),p=h[0],v=h[1]-h[2]-i*p;(p||v)&&P(e,l)&&(u+=v,f+=p),l=l instanceof ShadowRoot?l.host:l.parentNode}while(!s&&l!==document.body||s&&(t.contains(l)||t===l));return(d&&(a&&Math.abs(u)<1||!a&&o>u)||!d&&(a&&Math.abs(f)<1||!a&&-o>f))&&(c=!0),c}(h,t,e,"h"===h?l:c,!0)}),[]),d=o.useCallback((function(e){var n=e;if(W.length&&W[W.length-1]===l){var r="deltaY"in n?O(n):F(n),a=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,a=r,t[0]===a[0]&&t[1]===a[1]);var t,a}))[0];if(a&&a.should)n.cancelable&&n.preventDefault();else if(!a){var i=(s.current.shards||[]).map(z).filter(Boolean).filter((function(e){return e.contains(n.target)}));(i.length>0?c(n,i[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),u=o.useCallback((function(e,n,r,a){var i={name:e,delta:n,target:r,should:a,shadowParent:X(r)};t.current.push(i),setTimeout((function(){t.current=t.current.filter((function(e){return e!==i}))}),1)}),[]),f=o.useCallback((function(e){n.current=F(e),r.current=void 0}),[]),h=o.useCallback((function(t){u(t.type,O(t),t.target,c(t,e.lockRef.current))}),[]),p=o.useCallback((function(t){u(t.type,F(t),t.target,c(t,e.lockRef.current))}),[]);o.useEffect((function(){return W.push(l),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",d,_),document.addEventListener("touchmove",d,_),document.addEventListener("touchstart",f,_),function(){W=W.filter((function(e){return e!==l})),document.removeEventListener("wheel",d,_),document.removeEventListener("touchmove",d,_),document.removeEventListener("touchstart",f,_)}}),[]);var v=e.removeScrollBar,U=e.inert;return o.createElement(o.Fragment,null,U?o.createElement(l,{styles:B(a)}):null,v?o.createElement(I,{gapMode:e.gapMode}):null)},v.useMedium(G),b),Y=o.forwardRef((function(e,t){return o.createElement(m,r({},e,{ref:t,sideCar:V}))}));Y.classNames=m.classNames;var Z=Y},57456:function(e,t,n){"use strict";n.d(t,{f:function(){return ue}});var r=n(24765),a=n(23029),i=n(92901),o=n(5544),l=n(60436);function s(e,t,n){if(e&&e.length){var a,i=(0,o.A)(t,2),l=i[0],s=i[1],c=Math.PI/180*n,d=Math.cos(c),u=Math.sin(c),f=(0,r.A)(e);try{for(f.s();!(a=f.n()).done;){var h=a.value,p=(0,o.A)(h,2),v=p[0],U=p[1];h[0]=(v-l)*d-(U-s)*u+l,h[1]=(v-l)*u+(U-s)*d+s}}catch(m){f.e(m)}finally{f.f()}}}function c(e,t){return e[0]===t[0]&&e[1]===t[1]}function d(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=n,o=Math.max(t,.1),d=e[0]&&e[0][0]&&"number"===typeof e[0][0]?[e]:e,u=[0,0];if(i){var f,h=(0,r.A)(d);try{for(h.s();!(f=h.n()).done;){s(f.value,u,i)}}catch(m){h.e(m)}finally{h.f()}}var p=function(e,t,n){var a,i=[],o=(0,r.A)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value,d=(0,l.A)(s);c(d[0],d[d.length-1])||d.push([d[0][0],d[0][1]]),d.length>2&&i.push(d)}}catch(m){o.e(m)}finally{o.f()}var u=[];t=Math.max(t,.1);for(var f=[],h=0,p=i;h<p.length;h++)for(var v=p[h],U=0;U<v.length-1;U++){var g=v[U],b=v[U+1];if(g[1]!==b[1]){var y=Math.min(g[1],b[1]);f.push({ymin:y,ymax:Math.max(g[1],b[1]),x:y===g[1]?g[0]:b[0],islope:(b[0]-g[0])/(b[1]-g[1])})}}if(f.sort((function(e,t){return e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)})),!f.length)return u;var x=[],w=f[0].ymin,A=0;for(;x.length||f.length;){if(f.length){for(var E=-1,k=0;k<f.length&&!(f[k].ymin>w);k++)E=k;f.splice(0,E+1).forEach((function(e){x.push({s:w,edge:e})}))}if((x=x.filter((function(e){return!(e.edge.ymax<=w)}))).sort((function(e,t){return e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)})),(1!==n||A%t===0)&&x.length>1)for(var S=0;S<x.length;S+=2){var M=S+1;if(M>=x.length)break;var C=x[S].edge,j=x[M].edge;u.push([[Math.round(C.x),w],[Math.round(j.x),w]])}w+=n,x.forEach((function(e){e.edge.x=e.edge.x+n*e.edge.islope})),A++}return u}(d,o,a);if(i){var v,U=(0,r.A)(d);try{for(U.s();!(v=U.n()).done;){s(v.value,u,-i)}}catch(m){U.e(m)}finally{U.f()}!function(e,t,n){var r=[];e.forEach((function(e){return r.push.apply(r,(0,l.A)(e))})),s(r,t,n)}(p,u,-i)}return p}function u(e,t){var n,r=t.hachureAngle+90,a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.max(a,.1);var i=1;return t.roughness>=1&&((null===(n=t.randomizer)||void 0===n?void 0:n.next())||Math.random())>.7&&(i=a),d(e,a,r,i||1)}var f=function(){return(0,i.A)((function e(t){(0,a.A)(this,e),this.helper=t}),[{key:"fillPolygons",value:function(e,t){return this._fillPolygons(e,t)}},{key:"_fillPolygons",value:function(e,t){var n=u(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}},{key:"renderLines",value:function(e,t){var n,a=[],i=(0,r.A)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;a.push.apply(a,(0,l.A)(this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],t)))}}catch(s){i.e(s)}finally{i.f()}return a}}])}(),h=n(39874),p=n(85501);function v(e){var t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}var U=function(e){function t(){return(0,a.A)(this,t),(0,h.A)(this,t,arguments)}return(0,p.A)(t,e),(0,i.A)(t,[{key:"fillPolygons",value:function(e,t){var n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);var a,i=u(e,Object.assign({},t,{hachureGap:n})),s=Math.PI/180*t.hachureAngle,c=[],d=.5*n*Math.cos(s),f=.5*n*Math.sin(s),h=(0,r.A)(i);try{for(h.s();!(a=h.n()).done;){var p=(0,o.A)(a.value,2),U=p[0],m=p[1];v([U,m])&&c.push([[U[0]-d,U[1]+f],(0,l.A)(m)],[[U[0]+d,U[1]-f],(0,l.A)(m)])}}catch(g){h.e(g)}finally{h.f()}return{type:"fillSketch",ops:this.renderLines(c,t)}}}])}(f),m=function(e){function t(){return(0,a.A)(this,t),(0,h.A)(this,t,arguments)}return(0,p.A)(t,e),(0,i.A)(t,[{key:"fillPolygons",value:function(e,t){var n=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),a=this._fillPolygons(e,r);return n.ops=n.ops.concat(a.ops),n}}])}(f),g=function(){return(0,i.A)((function e(t){(0,a.A)(this,e),this.helper=t}),[{key:"fillPolygons",value:function(e,t){var n=u(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(n,t)}},{key:"dotsOnLines",value:function(e,t){var n=[],a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.max(a,.1);var i=t.fillWeight;i<0&&(i=t.strokeWidth/2);var o,s=a/4,c=(0,r.A)(e);try{for(c.s();!(o=c.n()).done;)for(var d=o.value,u=v(d),f=u/a,h=Math.ceil(f)-1,p=u-h*a,U=(d[0][0]+d[1][0])/2-a/4,m=Math.min(d[0][1],d[1][1]),g=0;g<h;g++){var b=m+p+g*a,y=U-s+2*Math.random()*s,x=b-s+2*Math.random()*s,w=this.helper.ellipse(y,x,i,i,t);n.push.apply(n,(0,l.A)(w.ops))}}catch(A){c.e(A)}finally{c.f()}return{type:"fillSketch",ops:n}}}])}(),b=function(){return(0,i.A)((function e(t){(0,a.A)(this,e),this.helper=t}),[{key:"fillPolygons",value:function(e,t){var n=u(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}},{key:"dashedLine",value:function(e,t){var n=this,r=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,a=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,i=[];return e.forEach((function(e){var o=v(e),s=Math.floor(o/(r+a)),c=(o+a-s*(r+a))/2,d=e[0],u=e[1];d[0]>u[0]&&(d=e[1],u=e[0]);for(var f=Math.atan((u[1]-d[1])/(u[0]-d[0])),h=0;h<s;h++){var p=h*(r+a),U=p+r,m=[d[0]+p*Math.cos(f)+c*Math.cos(f),d[1]+p*Math.sin(f)+c*Math.sin(f)],g=[d[0]+U*Math.cos(f)+c*Math.cos(f),d[1]+U*Math.sin(f)+c*Math.sin(f)];i.push.apply(i,(0,l.A)(n.helper.doubleLineOps(m[0],m[1],g[0],g[1],t)))}})),i}}])}(),y=function(){return(0,i.A)((function e(t){(0,a.A)(this,e),this.helper=t}),[{key:"fillPolygons",value:function(e,t){var n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset,a=u(e,t=Object.assign({},t,{hachureGap:n+r}));return{type:"fillSketch",ops:this.zigzagLines(a,r,t)}}},{key:"zigzagLines",value:function(e,t,n){var r=this,a=[];return e.forEach((function(e){var i=v(e),o=Math.round(i/(2*t)),s=e[0],c=e[1];s[0]>c[0]&&(s=e[1],c=e[0]);for(var d=Math.atan((c[1]-s[1])/(c[0]-s[0])),u=0;u<o;u++){var f=2*u*t,h=2*(u+1)*t,p=Math.sqrt(2*Math.pow(t,2)),U=[s[0]+f*Math.cos(d),s[1]+f*Math.sin(d)],m=[s[0]+h*Math.cos(d),s[1]+h*Math.sin(d)],g=[U[0]+p*Math.cos(d+Math.PI/4),U[1]+p*Math.sin(d+Math.PI/4)];a.push.apply(a,(0,l.A)(r.helper.doubleLineOps(U[0],U[1],g[0],g[1],n)).concat((0,l.A)(r.helper.doubleLineOps(g[0],g[1],m[0],m[1],n))))}})),a}}])}(),x={};var w=n(33151),A={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function E(e,t){return e.type===t}function k(e){for(var t=[],n=function(e){for(var t=new Array;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:"".concat(parseFloat(RegExp.$1))},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e),r="BOD",a=0,i=n[a];!E(i,2);){var o=0,l=[];if("BOD"===r){if("M"!==i.text&&"m"!==i.text)return k("M0,0"+e);a++,o=A[i.text],r=i.text}else E(i,1)?o=A[r]:(a++,o=A[i.text],r=i.text);if(!(a+o<n.length))throw new Error("Path data ended short");for(var s=a;s<a+o;s++){var c=n[s];if(!E(c,1))throw new Error("Param not a number: "+r+","+c.text);l[l.length]=+c.text}if("number"!==typeof A[r])throw new Error("Bad segment: "+r);var d={key:r,data:l};t.push(d),i=n[a+=o],"M"===r&&(r="L"),"m"===r&&(r="l")}return t}function S(e){var t,n=0,a=0,i=0,s=0,c=[],d=(0,r.A)(e);try{for(d.s();!(t=d.n()).done;){var u=t.value,f=u.key,h=u.data;switch(f){case"M":c.push({key:"M",data:(0,l.A)(h)});var p=(0,o.A)(h,2);n=p[0],a=p[1];var v=(0,o.A)(h,2);i=v[0],s=v[1];break;case"m":n+=h[0],a+=h[1],c.push({key:"M",data:[n,a]}),i=n,s=a;break;case"L":c.push({key:"L",data:(0,l.A)(h)});var U=(0,o.A)(h,2);n=U[0],a=U[1];break;case"l":n+=h[0],a+=h[1],c.push({key:"L",data:[n,a]});break;case"C":c.push({key:"C",data:(0,l.A)(h)}),n=h[4],a=h[5];break;case"c":var m=h.map((function(e,t){return t%2?e+a:e+n}));c.push({key:"C",data:m}),n=m[4],a=m[5];break;case"Q":c.push({key:"Q",data:(0,l.A)(h)}),n=h[2],a=h[3];break;case"q":var g=h.map((function(e,t){return t%2?e+a:e+n}));c.push({key:"Q",data:g}),n=g[2],a=g[3];break;case"A":c.push({key:"A",data:(0,l.A)(h)}),n=h[5],a=h[6];break;case"a":n+=h[5],a+=h[6],c.push({key:"A",data:[h[0],h[1],h[2],h[3],h[4],n,a]});break;case"H":c.push({key:"H",data:(0,l.A)(h)}),n=h[0];break;case"h":n+=h[0],c.push({key:"H",data:[n]});break;case"V":c.push({key:"V",data:(0,l.A)(h)}),a=h[0];break;case"v":a+=h[0],c.push({key:"V",data:[a]});break;case"S":c.push({key:"S",data:(0,l.A)(h)}),n=h[2],a=h[3];break;case"s":var b=h.map((function(e,t){return t%2?e+a:e+n}));c.push({key:"S",data:b}),n=b[2],a=b[3];break;case"T":c.push({key:"T",data:(0,l.A)(h)}),n=h[0],a=h[1];break;case"t":n+=h[0],a+=h[1],c.push({key:"T",data:[n,a]});break;case"Z":case"z":c.push({key:"Z",data:[]}),n=i,a=s}}}catch(y){d.e(y)}finally{d.f()}return c}function M(e){var t,n=[],a="",i=0,s=0,c=0,d=0,u=0,f=0,h=(0,r.A)(e);try{for(h.s();!(t=h.n()).done;){var p=t.value,v=p.key,U=p.data;switch(v){case"M":n.push({key:"M",data:(0,l.A)(U)});var m=(0,o.A)(U,2);i=m[0],s=m[1];var g=(0,o.A)(U,2);c=g[0],d=g[1];break;case"C":n.push({key:"C",data:(0,l.A)(U)}),i=U[4],s=U[5],u=U[2],f=U[3];break;case"L":n.push({key:"L",data:(0,l.A)(U)});var b=(0,o.A)(U,2);i=b[0],s=b[1];break;case"H":i=U[0],n.push({key:"L",data:[i,s]});break;case"V":s=U[0],n.push({key:"L",data:[i,s]});break;case"S":var y=0,x=0;"C"===a||"S"===a?(y=i+(i-u),x=s+(s-f)):(y=i,x=s),n.push({key:"C",data:[y,x].concat((0,l.A)(U))}),u=U[0],f=U[1],i=U[2],s=U[3];break;case"T":var w=(0,o.A)(U,2),A=w[0],E=w[1],k=0,S=0;"Q"===a||"T"===a?(k=i+(i-u),S=s+(s-f)):(k=i,S=s);var M=i+2*(k-i)/3,C=s+2*(S-s)/3,I=A+2*(k-A)/3,D=E+2*(S-E)/3;n.push({key:"C",data:[M,C,I,D,A,E]}),u=k,f=S,i=A,s=E;break;case"Q":var T=(0,o.A)(U,4),_=T[0],L=T[1],R=T[2],P=T[3],N=i+2*(_-i)/3,F=s+2*(L-s)/3,O=R+2*(_-R)/3,z=P+2*(L-P)/3;n.push({key:"C",data:[N,F,O,z,R,P]}),u=_,f=L,i=R,s=P;break;case"A":var B=Math.abs(U[0]),H=Math.abs(U[1]),W=U[2],X=U[3],G=U[4],V=U[5],Y=U[6];if(0===B||0===H)n.push({key:"C",data:[i,s,V,Y,V,Y]}),i=V,s=Y;else if(i!==V||s!==Y)j(i,s,V,Y,B,H,W,X,G).forEach((function(e){n.push({key:"C",data:e})})),i=V,s=Y;break;case"Z":n.push({key:"Z",data:[]}),i=c,s=d}a=v}}catch(Z){h.e(Z)}finally{h.f()}return n}function C(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function j(e,t,n,r,a,i,l,s,c,d){var u,f=(u=l,Math.PI*u/180),h=[],p=0,v=0,U=0,m=0;if(d){var g=(0,o.A)(d,4);p=g[0],v=g[1],U=g[2],m=g[3]}else{var b=C(e,t,-f),y=(0,o.A)(b,2);e=y[0],t=y[1];var x=C(n,r,-f),w=(0,o.A)(x,2),A=(e-(n=w[0]))/2,E=(t-(r=w[1]))/2,k=A*A/(a*a)+E*E/(i*i);k>1&&(a*=k=Math.sqrt(k),i*=k);var S=a*a,M=i*i,I=S*M-S*E*E-M*A*A,D=S*E*E+M*A*A,T=(s===c?-1:1)*Math.sqrt(Math.abs(I/D));U=T*a*E/i+(e+n)/2,m=T*-i*A/a+(t+r)/2,p=Math.asin(parseFloat(((t-m)/i).toFixed(9))),v=Math.asin(parseFloat(((r-m)/i).toFixed(9))),e<U&&(p=Math.PI-p),n<U&&(v=Math.PI-v),p<0&&(p=2*Math.PI+p),v<0&&(v=2*Math.PI+v),c&&p>v&&(p-=2*Math.PI),!c&&v>p&&(v-=2*Math.PI)}var _=v-p;if(Math.abs(_)>120*Math.PI/180){var L=v,R=n,P=r;v=c&&v>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,h=j(n=U+a*Math.cos(v),r=m+i*Math.sin(v),R,P,a,i,l,0,c,[v,L,U,m])}_=v-p;var N=Math.cos(p),F=Math.sin(p),O=Math.cos(v),z=Math.sin(v),B=Math.tan(_/4),H=4/3*a*B,W=4/3*i*B,X=[e,t],G=[e+H*F,t-W*N],V=[n+H*z,r-W*O],Y=[n,r];if(G[0]=2*X[0]-G[0],G[1]=2*X[1]-G[1],d)return[G,V,Y].concat(h);h=[G,V,Y].concat(h);for(var Z=[],K=0;K<h.length;K+=3){var q=C(h[K][0],h[K][1],f),$=C(h[K+1][0],h[K+1][1],f),Q=C(h[K+2][0],h[K+2][1],f);Z.push([q[0],q[1],$[0],$[1],Q[0],Q[1]])}return Z}var I={randOffset:function(e,t){return W(e,t)},randOffsetWithRange:function(e,t,n){return H(e,t,n)},ellipse:function(e,t,n,r,a){var i=R(n,r,a);return P(e,t,a,i).opset},doubleLineOps:function(e,t,n,r,a){return X(e,t,n,r,a,!0)}};function D(e,t,n,r,a){return{type:"path",ops:X(e,t,n,r,a)}}function T(e,t,n){var r=(e||[]).length;if(r>2){for(var a=[],i=0;i<r-1;i++)a.push.apply(a,(0,l.A)(X(e[i][0],e[i][1],e[i+1][0],e[i+1][1],n)));return t&&a.push.apply(a,(0,l.A)(X(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n))),{type:"path",ops:a}}return 2===r?D(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function _(e,t,n,r,a){return function(e,t){return T(e,!0,t)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],a)}function L(e,t){var n=V(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){var r=V(e,1.5*(1+.22*t.roughness),function(e){var t=Object.assign({},e);t.randomizer=void 0,e.seed&&(t.seed=e.seed+1);return t}(t));n=n.concat(r)}return{type:"path",ops:n}}function R(e,t,n){var r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),i=2*Math.PI/a,o=Math.abs(e/2),l=Math.abs(t/2),s=1-n.curveFitting;return{increment:i,rx:o+=W(o*s,n),ry:l+=W(l*s,n)}}function P(e,t,n,r){var a=Z(r.increment,e,t,r.rx,r.ry,1,r.increment*H(.1,H(.4,1,n),n),n),i=(0,o.A)(a,2),l=i[0],s=i[1],c=Y(l,null,n);if(!n.disableMultiStroke&&0!==n.roughness){var d=Z(r.increment,e,t,r.rx,r.ry,1.5,0,n),u=Y((0,o.A)(d,1)[0],null,n);c=c.concat(u)}return{estimatedPoints:s,opset:{type:"path",ops:c}}}function N(e,t,n,r,a,i,o,s,c){var d=e,u=t,f=Math.abs(n/2),h=Math.abs(r/2);f+=W(.01*f,c),h+=W(.01*h,c);for(var p=a,v=i;p<0;)p+=2*Math.PI,v+=2*Math.PI;v-p>2*Math.PI&&(p=0,v=2*Math.PI);var U=2*Math.PI/c.curveStepCount,m=Math.min(U/2,(v-p)/2),g=K(m,d,u,f,h,p,v,1,c);if(!c.disableMultiStroke){var b=K(m,d,u,f,h,p,v,1.5,c);g.push.apply(g,(0,l.A)(b))}return o&&(s?g.push.apply(g,(0,l.A)(X(d,u,d+f*Math.cos(p),u+h*Math.sin(p),c)).concat((0,l.A)(X(d,u,d+f*Math.cos(v),u+h*Math.sin(v),c)))):g.push({op:"lineTo",data:[d,u]},{op:"lineTo",data:[d+f*Math.cos(p),u+h*Math.sin(p)]})),{type:"path",ops:g}}function F(e,t){var n,a=M(S(k(e))),i=[],s=[0,0],c=[0,0],d=(0,r.A)(a);try{for(d.s();!(n=d.n()).done;){var u=n.value,f=u.key,h=u.data;switch(f){case"M":c=[h[0],h[1]],s=[h[0],h[1]];break;case"L":i.push.apply(i,(0,l.A)(X(c[0],c[1],h[0],h[1],t))),c=[h[0],h[1]];break;case"C":var p=(0,o.A)(h,6),v=p[0],U=p[1],m=p[2],g=p[3],b=p[4],y=p[5];i.push.apply(i,(0,l.A)(q(v,U,m,g,b,y,c,t))),c=[b,y];break;case"Z":i.push.apply(i,(0,l.A)(X(c[0],c[1],s[0],s[1],t))),c=[s[0],s[1]]}}}catch(x){d.e(x)}finally{d.f()}return{type:"path",ops:i}}function O(e,t){var n,a=[],i=(0,r.A)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.length){var l=t.maxRandomnessOffset||0,s=o.length;if(s>2){a.push({op:"move",data:[o[0][0]+W(l,t),o[0][1]+W(l,t)]});for(var c=1;c<s;c++)a.push({op:"lineTo",data:[o[c][0]+W(l,t),o[c][1]+W(l,t)]})}}}}catch(d){i.e(d)}finally{i.f()}return{type:"fillPath",ops:a}}function z(e,t){return function(e,t){var n=e.fillStyle||"hachure";if(!x[n])switch(n){case"zigzag":x[n]||(x[n]=new U(t));break;case"cross-hatch":x[n]||(x[n]=new m(t));break;case"dots":x[n]||(x[n]=new g(t));break;case"dashed":x[n]||(x[n]=new b(t));break;case"zigzag-line":x[n]||(x[n]=new y(t));break;default:x[n="hachure"]||(x[n]=new f(t))}return x[n]}(t,I).fillPolygons(e,t)}function B(e){return e.randomizer||(e.randomizer=new w.o(e.seed||0)),e.randomizer.next()}function H(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return n.roughness*r*(B(n)*(t-e)+e)}function W(e,t){return H(-e,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function X(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?a.disableMultiStrokeFill:a.disableMultiStroke,o=G(e,t,n,r,a,!0,!1);if(i)return o;var l=G(e,t,n,r,a,!0,!0);return o.concat(l)}function G(e,t,n,r,a,i,o){var l=Math.pow(e-n,2)+Math.pow(t-r,2),s=Math.sqrt(l),c=1;c=s<200?1:s>500?.4:-.0016668*s+1.233334;var d=a.maxRandomnessOffset||0;d*d*100>l&&(d=s/10);var u=d/2,f=.2+.2*B(a),h=a.bowing*a.maxRandomnessOffset*(r-t)/200,p=a.bowing*a.maxRandomnessOffset*(e-n)/200;h=W(h,a,c),p=W(p,a,c);var v=[],U=function(){return W(u,a,c)},m=function(){return W(d,a,c)},g=a.preserveVertices;return i&&(o?v.push({op:"move",data:[e+(g?0:U()),t+(g?0:U())]}):v.push({op:"move",data:[e+(g?0:W(d,a,c)),t+(g?0:W(d,a,c))]})),o?v.push({op:"bcurveTo",data:[h+e+(n-e)*f+U(),p+t+(r-t)*f+U(),h+e+2*(n-e)*f+U(),p+t+2*(r-t)*f+U(),n+(g?0:U()),r+(g?0:U())]}):v.push({op:"bcurveTo",data:[h+e+(n-e)*f+m(),p+t+(r-t)*f+m(),h+e+2*(n-e)*f+m(),p+t+2*(r-t)*f+m(),n+(g?0:m()),r+(g?0:m())]}),v}function V(e,t,n){var r=[];r.push([e[0][0]+W(t,n),e[0][1]+W(t,n)]),r.push([e[0][0]+W(t,n),e[0][1]+W(t,n)]);for(var a=1;a<e.length;a++)r.push([e[a][0]+W(t,n),e[a][1]+W(t,n)]),a===e.length-1&&r.push([e[a][0]+W(t,n),e[a][1]+W(t,n)]);return Y(r,null,n)}function Y(e,t,n){var r=e.length,a=[];if(r>3){var i=[],o=1-n.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(var s=1;s+2<r;s++){var c=e[s];i[0]=[c[0],c[1]],i[1]=[c[0]+(o*e[s+1][0]-o*e[s-1][0])/6,c[1]+(o*e[s+1][1]-o*e[s-1][1])/6],i[2]=[e[s+1][0]+(o*e[s][0]-o*e[s+2][0])/6,e[s+1][1]+(o*e[s][1]-o*e[s+2][1])/6],i[3]=[e[s+1][0],e[s+1][1]],a.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}if(t&&2===t.length){var d=n.maxRandomnessOffset;a.push({op:"lineTo",data:[t[0]+W(d,n),t[1]+W(d,n)]})}}else 3===r?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&a.push.apply(a,(0,l.A)(X(e[0][0],e[0][1],e[1][0],e[1][1],n)));return a}function Z(e,t,n,r,a,i,o,l){var s=[],c=[];if(0===l.roughness){e/=4,c.push([t+r*Math.cos(-e),n+a*Math.sin(-e)]);for(var d=0;d<=2*Math.PI;d+=e){var u=[t+r*Math.cos(d),n+a*Math.sin(d)];s.push(u),c.push(u)}c.push([t+r*Math.cos(0),n+a*Math.sin(0)]),c.push([t+r*Math.cos(e),n+a*Math.sin(e)])}else{var f=W(.5,l)-Math.PI/2;c.push([W(i,l)+t+.9*r*Math.cos(f-e),W(i,l)+n+.9*a*Math.sin(f-e)]);for(var h=2*Math.PI+f-.01,p=f;p<h;p+=e){var v=[W(i,l)+t+r*Math.cos(p),W(i,l)+n+a*Math.sin(p)];s.push(v),c.push(v)}c.push([W(i,l)+t+r*Math.cos(f+2*Math.PI+.5*o),W(i,l)+n+a*Math.sin(f+2*Math.PI+.5*o)]),c.push([W(i,l)+t+.98*r*Math.cos(f+o),W(i,l)+n+.98*a*Math.sin(f+o)]),c.push([W(i,l)+t+.9*r*Math.cos(f+.5*o),W(i,l)+n+.9*a*Math.sin(f+.5*o)])}return[c,s]}function K(e,t,n,r,a,i,o,l,s){var c=i+W(.1,s),d=[];d.push([W(l,s)+t+.9*r*Math.cos(c-e),W(l,s)+n+.9*a*Math.sin(c-e)]);for(var u=c;u<=o;u+=e)d.push([W(l,s)+t+r*Math.cos(u),W(l,s)+n+a*Math.sin(u)]);return d.push([t+r*Math.cos(o),n+a*Math.sin(o)]),d.push([t+r*Math.cos(o),n+a*Math.sin(o)]),Y(d,null,s)}function q(e,t,n,r,a,i,o,l){for(var s=[],c=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3],d=[0,0],u=l.disableMultiStroke?1:2,f=l.preserveVertices,h=0;h<u;h++)0===h?s.push({op:"move",data:[o[0],o[1]]}):s.push({op:"move",data:[o[0]+(f?0:W(c[0],l)),o[1]+(f?0:W(c[0],l))]}),d=f?[a,i]:[a+W(c[h],l),i+W(c[h],l)],s.push({op:"bcurveTo",data:[e+W(c[h],l),t+W(c[h],l),n+W(c[h],l),r+W(c[h],l),d[0],d[1]]});return s}function $(e){return(0,l.A)(e)}function Q(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function J(e,t,n){var r=Q(t,n);if(0===r)return Q(e,t);var a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return Q(e,ee(t,n,a=Math.max(0,Math.min(1,a))))}function ee(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function te(e,t,n,r){var a=r||[];if(function(e,t){var n=e[t+0],r=e[t+1],a=e[t+2],i=e[t+3],o=3*r[0]-2*n[0]-i[0];o*=o;var l=3*r[1]-2*n[1]-i[1];l*=l;var s=3*a[0]-2*i[0]-n[0];s*=s;var c=3*a[1]-2*i[1]-n[1];return o<s&&(o=s),l<(c*=c)&&(l=c),o+l}(e,t)<n){var i=e[t+0];if(a.length){var o=function(e,t){return Math.sqrt(Q(e,t))}(a[a.length-1],i);o>1&&a.push(i)}else a.push(i);a.push(e[t+3])}else{var l=.5,s=e[t+0],c=e[t+1],d=e[t+2],u=e[t+3],f=ee(s,c,l),h=ee(c,d,l),p=ee(d,u,l),v=ee(f,h,l),U=ee(h,p,l),m=ee(v,U,l);te([s,f,v,m],0,n,a),te([m,U,p,u],0,n,a)}return a}function ne(e,t,n,r,a){for(var i=a||[],o=e[t],l=e[n-1],s=0,c=1,d=t+1;d<n-1;++d){var u=J(e[d],o,l);u>s&&(s=u,c=d)}return Math.sqrt(s)>r?(ne(e,t,c+1,r,i),ne(e,c,n,r,i)):(i.length||i.push(o),i.push(l)),i}function re(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function ae(e,t,n){var r=re(t,n);if(0===r)return re(e,t);var a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return re(e,ie(t,n,a=Math.max(0,Math.min(1,a))))}function ie(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function oe(e,t,n,r){var a=r||[];if(function(e,t){var n=e[t+0],r=e[t+1],a=e[t+2],i=e[t+3],o=3*r[0]-2*n[0]-i[0];o*=o;var l=3*r[1]-2*n[1]-i[1];l*=l;var s=3*a[0]-2*i[0]-n[0];s*=s;var c=3*a[1]-2*i[1]-n[1];return o<s&&(o=s),l<(c*=c)&&(l=c),o+l}(e,t)<n){var i=e[t+0];if(a.length){var o=function(e,t){return Math.sqrt(re(e,t))}(a[a.length-1],i);o>1&&a.push(i)}else a.push(i);a.push(e[t+3])}else{var l=.5,s=e[t+0],c=e[t+1],d=e[t+2],u=e[t+3],f=ie(s,c,l),h=ie(c,d,l),p=ie(d,u,l),v=ie(f,h,l),U=ie(h,p,l),m=ie(v,U,l);oe([s,f,v,m],0,n,a),oe([m,U,p,u],0,n,a)}return a}function le(e,t){return se(e,0,e.length,t)}function se(e,t,n,r,a){for(var i=a||[],o=e[t],l=e[n-1],s=0,c=1,d=t+1;d<n-1;++d){var u=ae(e[d],o,l);u>s&&(s=u,c=d)}return Math.sqrt(s)>r?(se(e,t,c+1,r,i),se(e,c,n,r,i)):(i.length||i.push(o),i.push(l)),i}function ce(e,t,n){var a,i=M(S(k(e))),o=[],s=[],c=[0,0],d=[],u=function(){var e;d.length>=4&&(e=s).push.apply(e,(0,l.A)(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=arguments.length>2?arguments[2]:void 0,r=[],a=(e.length-1)/3,i=0;i<a;i++)oe(e,3*i,t,r);return n&&n>0?se(r,0,r.length,n):r}(d,t)));d=[]},f=function(){u(),s.length&&(o.push(s),s=[])},h=(0,r.A)(i);try{for(h.s();!(a=h.n()).done;){var p=a.value,v=p.key,U=p.data;switch(v){case"M":f(),c=[U[0],U[1]],s.push(c);break;case"L":u(),s.push([U[0],U[1]]);break;case"C":if(!d.length){var m=s.length?s[s.length-1]:c;d.push([m[0],m[1]])}d.push([U[0],U[1]]),d.push([U[2],U[3]]),d.push([U[4],U[5]]);break;case"Z":u(),s.push([c[0],c[1]])}}}catch(w){h.e(w)}finally{h.f()}if(f(),!n)return o;for(var g=[],b=0,y=o;b<y.length;b++){var x=le(y[b],n);x.length&&g.push(x)}return g}var de="none",ue=function(){return(0,i.A)((function e(t){(0,a.A)(this,e),this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}),[{key:"_o",value:function(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}},{key:"_d",value:function(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}}},{key:"line",value:function(e,t,n,r,a){var i=this._o(a);return this._d("line",[D(e,t,n,r,i)],i)}},{key:"rectangle",value:function(e,t,n,r,a){var i=this._o(a),o=[],l=_(e,t,n,r,i);if(i.fill){var s=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];"solid"===i.fillStyle?o.push(O([s],i)):o.push(z([s],i))}return i.stroke!==de&&o.push(l),this._d("rectangle",o,i)}},{key:"ellipse",value:function(e,t,n,r,a){var i=this._o(a),o=[],l=R(n,r,i),s=P(e,t,i,l);if(i.fill)if("solid"===i.fillStyle){var c=P(e,t,i,l).opset;c.type="fillPath",o.push(c)}else o.push(z([s.estimatedPoints],i));return i.stroke!==de&&o.push(s.opset),this._d("ellipse",o,i)}},{key:"circle",value:function(e,t,n,r){var a=this.ellipse(e,t,n,n,r);return a.shape="circle",a}},{key:"linearPath",value:function(e,t){var n=this._o(t);return this._d("linearPath",[T(e,!1,n)],n)}},{key:"arc",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,s=this._o(l),c=[],d=N(e,t,n,r,a,i,o,!0,s);if(o&&s.fill)if("solid"===s.fillStyle){var u=Object.assign({},s);u.disableMultiStroke=!0;var f=N(e,t,n,r,a,i,!0,!1,u);f.type="fillPath",c.push(f)}else c.push(function(e,t,n,r,a,i,o){var l=e,s=t,c=Math.abs(n/2),d=Math.abs(r/2);c+=W(.01*c,o),d+=W(.01*d,o);for(var u=a,f=i;u<0;)u+=2*Math.PI,f+=2*Math.PI;f-u>2*Math.PI&&(u=0,f=2*Math.PI);for(var h=(f-u)/o.curveStepCount,p=[],v=u;v<=f;v+=h)p.push([l+c*Math.cos(v),s+d*Math.sin(v)]);return p.push([l+c*Math.cos(f),s+d*Math.sin(f)]),p.push([l,s]),z([p],o)}(e,t,n,r,a,i,s));return s.stroke!==de&&c.push(d),this._d("arc",c,s)}},{key:"curve",value:function(e,t){var n=this._o(t),r=[],a=L(e,n);if(n.fill&&n.fill!==de&&e.length>=3)if("solid"===n.fillStyle){var i=L(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(i.ops)})}else{var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.length;if(n<3)throw new Error("A curve must have at least three points.");var r=[];if(3===n)r.push($(e[0]),$(e[1]),$(e[2]),$(e[2]));else{var a=[];a.push(e[0],e[0]);for(var i=1;i<e.length;i++)a.push(e[i]),i===e.length-1&&a.push(e[i]);var o=[],l=1-t;r.push($(a[0]));for(var s=1;s+2<a.length;s++){var c=a[s];o[0]=[c[0],c[1]],o[1]=[c[0]+(l*a[s+1][0]-l*a[s-1][0])/6,c[1]+(l*a[s+1][1]-l*a[s-1][1])/6],o[2]=[a[s+1][0]+(l*a[s][0]-l*a[s+2][0])/6,a[s+1][1]+(l*a[s][1]-l*a[s+2][1])/6],o[3]=[a[s+1][0],a[s+1][1]],r.push(o[1],o[2],o[3])}}return r}(e),l=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=arguments.length>2?arguments[2]:void 0,r=[],a=(e.length-1)/3,i=0;i<a;i++)te(e,3*i,t,r);return n&&n>0?ne(r,0,r.length,n):r}(o,10,(1+n.roughness)/2);r.push(z([l],n))}return n.stroke!==de&&r.push(a),this._d("curve",r,n)}},{key:"polygon",value:function(e,t){var n=this._o(t),r=[],a=T(e,!0,n);return n.fill&&("solid"===n.fillStyle?r.push(O([e],n)):r.push(z([e],n))),n.stroke!==de&&r.push(a),this._d("polygon",r,n)}},{key:"path",value:function(e,t){var n=this._o(t),r=[];if(!e)return this._d("path",r,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var a=n.fill&&"transparent"!==n.fill&&n.fill!==de,i=n.stroke!==de,o=!!(n.simplification&&n.simplification<1),l=ce(e,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),s=F(e,n);if(a)if("solid"===n.fillStyle)if(1===l.length){var c=F(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(c.ops)})}else r.push(O(l,n));else r.push(z(l,n));return i&&(o?l.forEach((function(e){r.push(T(e,!1,n))})):r.push(s)),this._d("path",r,n)}},{key:"opsToPath",value:function(e,t){var n,a="",i=(0,r.A)(e.ops);try{for(i.s();!(n=i.n()).done;){var o=n.value,l="number"===typeof t&&t>=0?o.data.map((function(e){return+e.toFixed(t)})):o.data;switch(o.op){case"move":a+="M".concat(l[0]," ").concat(l[1]," ");break;case"bcurveTo":a+="C".concat(l[0]," ").concat(l[1],", ").concat(l[2]," ").concat(l[3],", ").concat(l[4]," ").concat(l[5]," ");break;case"lineTo":a+="L".concat(l[0]," ").concat(l[1]," ")}}}catch(s){i.e(s)}finally{i.f()}return a.trim()}},{key:"toPaths",value:function(e){var t,n=e.sets||[],a=e.options||this.defaultOptions,i=[],o=(0,r.A)(n);try{for(o.s();!(t=o.n()).done;){var l=t.value,s=null;switch(l.type){case"path":s={d:this.opsToPath(l),stroke:a.stroke,strokeWidth:a.strokeWidth,fill:de};break;case"fillPath":s={d:this.opsToPath(l),stroke:de,strokeWidth:0,fill:a.fill||de};break;case"fillSketch":s=this.fillSketch(l,a)}s&&i.push(s)}}catch(c){o.e(c)}finally{o.f()}return i}},{key:"fillSketch",value:function(e,t){var n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||de,strokeWidth:n,fill:de}}},{key:"_mergedShape",value:function(e){return e.filter((function(e,t){return 0===t||"move"!==e.op}))}}],[{key:"newSeed",value:function(){return(0,w.v)()}}])}()},33151:function(e,t,n){"use strict";n.d(t,{o:function(){return o},v:function(){return i}});var r=n(23029),a=n(92901);function i(){return Math.floor(Math.random()*Math.pow(2,31))}var o=function(){return(0,a.A)((function e(t){(0,r.A)(this,e),this.seed=t}),[{key:"next",value:function(){return this.seed?(Math.pow(2,31)-1&(this.seed=Math.imul(48271,this.seed)))/Math.pow(2,31):Math.random()}}])}()},49095:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(24765),a=n(23029),i=n(92901),o=n(57456),l=function(){return(0,i.A)((function e(t,n){(0,a.A)(this,e),this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new o.f(n)}),[{key:"draw",value:function(e){var t,n=e.sets||[],a=e.options||this.getDefaultOptions(),i=this.ctx,o=e.options.fixedDecimalPlaceDigits,l=(0,r.A)(n);try{for(l.s();!(t=l.n()).done;){var s=t.value;switch(s.type){case"path":i.save(),i.strokeStyle="none"===a.stroke?"transparent":a.stroke,i.lineWidth=a.strokeWidth,a.strokeLineDash&&i.setLineDash(a.strokeLineDash),a.strokeLineDashOffset&&(i.lineDashOffset=a.strokeLineDashOffset),this._drawToContext(i,s,o),i.restore();break;case"fillPath":i.save(),i.fillStyle=a.fill||"";var c="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(i,s,o,c),i.restore();break;case"fillSketch":this.fillSketch(i,s,a)}}}catch(d){l.e(d)}finally{l.f()}}},{key:"fillSketch",value:function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=r,this._drawToContext(e,t,n.fixedDecimalPlaceDigits),e.restore()}},{key:"_drawToContext",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"nonzero";e.beginPath();var i,o=(0,r.A)(t.ops);try{for(o.s();!(i=o.n()).done;){var l=i.value,s="number"===typeof n&&n>=0?l.data.map((function(e){return+e.toFixed(n)})):l.data;switch(l.op){case"move":e.moveTo(s[0],s[1]);break;case"bcurveTo":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":e.lineTo(s[0],s[1])}}}catch(c){o.e(c)}finally{o.f()}"fillPath"===t.type?e.fill(a):e.stroke()}},{key:"generator",get:function(){return this.gen}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"line",value:function(e,t,n,r,a){var i=this.gen.line(e,t,n,r,a);return this.draw(i),i}},{key:"rectangle",value:function(e,t,n,r,a){var i=this.gen.rectangle(e,t,n,r,a);return this.draw(i),i}},{key:"ellipse",value:function(e,t,n,r,a){var i=this.gen.ellipse(e,t,n,r,a);return this.draw(i),i}},{key:"circle",value:function(e,t,n,r){var a=this.gen.circle(e,t,n,r);return this.draw(a),a}},{key:"linearPath",value:function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n),n}},{key:"polygon",value:function(e,t){var n=this.gen.polygon(e,t);return this.draw(n),n}},{key:"arc",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,s=this.gen.arc(e,t,n,r,a,i,o,l);return this.draw(s),s}},{key:"curve",value:function(e,t){var n=this.gen.curve(e,t);return this.draw(n),n}},{key:"path",value:function(e,t){var n=this.gen.path(e,t);return this.draw(n),n}}])}(),s="http://www.w3.org/2000/svg",c=function(){return(0,i.A)((function e(t,n){(0,a.A)(this,e),this.svg=t,this.gen=new o.f(n)}),[{key:"draw",value:function(e){var t,n=e.sets||[],a=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,o=i.createElementNS(s,"g"),l=e.options.fixedDecimalPlaceDigits,c=(0,r.A)(n);try{for(c.s();!(t=c.n()).done;){var d=t.value,u=null;switch(d.type){case"path":(u=i.createElementNS(s,"path")).setAttribute("d",this.opsToPath(d,l)),u.setAttribute("stroke",a.stroke),u.setAttribute("stroke-width",a.strokeWidth+""),u.setAttribute("fill","none"),a.strokeLineDash&&u.setAttribute("stroke-dasharray",a.strokeLineDash.join(" ").trim()),a.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset","".concat(a.strokeLineDashOffset));break;case"fillPath":(u=i.createElementNS(s,"path")).setAttribute("d",this.opsToPath(d,l)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",a.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(i,d,a)}u&&o.appendChild(u)}}catch(f){c.e(f)}finally{c.f()}return o}},{key:"fillSketch",value:function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2);var a=e.createElementNS(s,"path");return a.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",r+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset","".concat(n.fillLineDashOffset)),a}},{key:"generator",get:function(){return this.gen}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"opsToPath",value:function(e,t){return this.gen.opsToPath(e,t)}},{key:"line",value:function(e,t,n,r,a){var i=this.gen.line(e,t,n,r,a);return this.draw(i)}},{key:"rectangle",value:function(e,t,n,r,a){var i=this.gen.rectangle(e,t,n,r,a);return this.draw(i)}},{key:"ellipse",value:function(e,t,n,r,a){var i=this.gen.ellipse(e,t,n,r,a);return this.draw(i)}},{key:"circle",value:function(e,t,n,r){var a=this.gen.circle(e,t,n,r);return this.draw(a)}},{key:"linearPath",value:function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n)}},{key:"polygon",value:function(e,t){var n=this.gen.polygon(e,t);return this.draw(n)}},{key:"arc",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,s=this.gen.arc(e,t,n,r,a,i,o,l);return this.draw(s)}},{key:"curve",value:function(e,t){var n=this.gen.curve(e,t);return this.draw(n)}},{key:"path",value:function(e,t){var n=this.gen.path(e,t);return this.draw(n)}}])}(),d={canvas:function(e,t){return new l(e,t)},svg:function(e,t){return new c(e,t)},generator:function(e){return new o.f(e)},newSeed:function(){return o.f.newSeed()}}},56585:function(e){e.exports=function(e,t,n){var r=[],a=e.length;if(0===a)return r;var i=t<0?Math.max(0,t+a):t||0;for(void 0!==n&&(a=n<0?n+a:n);a-- >i;)r[a-i]=e[a];return r}},60759:function(e,t,n){"use strict";var r=n(9950);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,o=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),a=r[0].inst,d=r[1];return l((function(){a.value=n,a.getSnapshot=t,c(a)&&d({inst:a})}),[e,n,t]),o((function(){return c(a)&&d({inst:a}),e((function(){c(a)&&d({inst:a})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},39940:function(e,t,n){"use strict";var r=n(9950),a=n(6538);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=a.useSyncExternalStore,l=r.useRef,s=r.useEffect,c=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var u=l(null);if(null===u.current){var f={hasValue:!1,value:null};u.current=f}else f=u.current;u=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==a&&f.hasValue){var t=f.value;if(a(t,e))return l=t}return l=e}if(t=l,i(o,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(o=e,t):(o=e,l=n)}var o,l,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,a]);var h=o(e,u[0],u[1]);return s((function(){f.hasValue=!0,f.value=h}),[h]),d(h),h}},6538:function(e,t,n){"use strict";e.exports=n(60759)},53044:function(e,t,n){"use strict";e.exports=n(39940)},89023:function(e,t,n){"use strict";n.d(t,{A:function(){return j},B:function(){return I},C:function(){return D},D:function(){return T},E:function(){return _},F:function(){return L},G:function(){return R},H:function(){return P},I:function(){return N},J:function(){return F},a:function(){return r},b:function(){return a},c:function(){return i},d:function(){return o},e:function(){return l},f:function(){return s},g:function(){return c},h:function(){return d},i:function(){return u},j:function(){return f},k:function(){return h},l:function(){return p},m:function(){return v},n:function(){return U},o:function(){return m},p:function(){return g},q:function(){return b},r:function(){return y},s:function(){return x},t:function(){return w},u:function(){return A},v:function(){return E},w:function(){return k},x:function(){return S},y:function(){return M},z:function(){return C}});var r={paste:"Paste",pasteAsPlaintext:"Paste as plaintext",pasteCharts:"Paste charts",selectAll:"Select all",multiSelect:"Add element to selection",moveCanvas:"Move canvas",cut:"Cut",copy:"Copy",copyAsPng:"Copy to clipboard as PNG",copyAsSvg:"Copy to clipboard as SVG",copyText:"Copy to clipboard as text",copySource:"Copy source to clipboard",convertToCode:"Convert to code",bringForward:"Bring forward",sendToBack:"Send to back",bringToFront:"Bring to front",sendBackward:"Send backward",delete:"Delete",copyStyles:"Copy styles",pasteStyles:"Paste styles",stroke:"Stroke",changeStroke:"Change stroke color",background:"Background",changeBackground:"Change background color",fill:"Fill",strokeWidth:"Stroke width",strokeStyle:"Stroke style",strokeStyle_solid:"Solid",strokeStyle_dashed:"Dashed",strokeStyle_dotted:"Dotted",sloppiness:"Sloppiness",opacity:"Opacity",textAlign:"Text align",edges:"Edges",sharp:"Sharp",round:"Round",arrowheads:"Arrowheads",arrowhead_none:"None",arrowhead_arrow:"Arrow",arrowhead_bar:"Bar",arrowhead_circle:"Circle",arrowhead_circle_outline:"Circle (outline)",arrowhead_triangle:"Triangle",arrowhead_triangle_outline:"Triangle (outline)",arrowhead_diamond:"Diamond",arrowhead_diamond_outline:"Diamond (outline)",arrowhead_crowfoot_many:"Crow's foot (many)",arrowhead_crowfoot_one:"Crow's foot (one)",arrowhead_crowfoot_one_or_many:"Crow's foot (one or many)",more_options:"More options",arrowtypes:"Arrow type",arrowtype_sharp:"Sharp arrow",arrowtype_round:"Curved arrow",arrowtype_elbowed:"Elbow arrow",fontSize:"Font size",fontFamily:"Font family",addWatermark:'Add "Made with Excalidraw"',handDrawn:"Hand-drawn",normal:"Normal",code:"Code",small:"Small",medium:"Medium",large:"Large",veryLarge:"Very large",solid:"Solid",hachure:"Hachure",zigzag:"Zigzag",crossHatch:"Cross-hatch",thin:"Thin",bold:"Bold",left:"Left",center:"Center",right:"Right",extraBold:"Extra bold",architect:"Architect",artist:"Artist",cartoonist:"Cartoonist",fileTitle:"File name",colorPicker:"Color picker",canvasColors:"Used on canvas",canvasBackground:"Canvas background",drawingCanvas:"Drawing canvas",clearCanvas:"Clear canvas",layers:"Layers",actions:"Actions",language:"Language",liveCollaboration:"Live collaboration...",duplicateSelection:"Duplicate",untitled:"Untitled",name:"Name",yourName:"Your name",madeWithExcalidraw:"Made with Excalidraw",group:"Group selection",ungroup:"Ungroup selection",collaborators:"Collaborators",toggleGrid:"Toggle grid",addToLibrary:"Add to library",removeFromLibrary:"Remove from library",libraryLoadingMessage:"Loading library\u2026",libraries:"Browse libraries",loadingScene:"Loading scene\u2026",loadScene:"Load scene from file",align:"Align",alignTop:"Align top",alignBottom:"Align bottom",alignLeft:"Align left",alignRight:"Align right",centerVertically:"Center vertically",centerHorizontally:"Center horizontally",distributeHorizontally:"Distribute horizontally",distributeVertically:"Distribute vertically",flipHorizontal:"Flip horizontal",flipVertical:"Flip vertical",viewMode:"View mode",share:"Share",showStroke:"Show stroke color picker",showBackground:"Show background color picker",showFonts:"Show font picker",toggleTheme:"Toggle light/dark theme",theme:"Theme",personalLib:"Personal Library",excalidrawLib:"Excalidraw Library",decreaseFontSize:"Decrease font size",increaseFontSize:"Increase font size",unbindText:"Unbind text",bindText:"Bind text to the container",createContainerFromText:"Wrap text in a container",link:{edit:"Edit link",editEmbed:"Edit embeddable link",create:"Add link",label:"Link",labelEmbed:"Link & embed",empty:"No link is set",hint:"Type or paste your link here",goToElement:"Go to target element"},lineEditor:{edit:"Edit line",editArrow:"Edit arrow"},elementLock:{lock:"Lock",unlock:"Unlock",lockAll:"Lock all",unlockAll:"Unlock all"},statusPublished:"Published",sidebarLock:"Keep sidebar open",selectAllElementsInFrame:"Select all elements in frame",removeAllElementsFromFrame:"Remove all elements from frame",eyeDropper:"Pick color from canvas",textToDiagram:"Text to diagram",prompt:"Prompt",followUs:"Follow us",discordChat:"Discord chat",zoomToFitViewport:"Zoom to fit in viewport",zoomToFitSelection:"Zoom to fit selection",zoomToFit:"Zoom to fit all elements",installPWA:"Install Excalidraw locally (PWA)",autoResize:"Enable text auto-resizing",imageCropping:"Image cropping",unCroppedDimension:"Uncropped dimension",copyElementLink:"Copy link to object",linkToElement:"Link to object",wrapSelectionInFrame:"Wrap selection in frame"},a={title:"Link to object",desc:"Click on a shape on canvas or paste a link.",notFound:"Linked object wasn't found on canvas."},i={noItems:"No items added yet...",hint_emptyLibrary:"Select an item on canvas to add it here, or install a library from the public repository, below.",hint_emptyPrivateLibrary:"Select an item on canvas to add it here."},o={title:"Find on canvas",noMatch:"No matches found...",singleResult:"result",multipleResults:"results",placeholder:"Find text on canvas..."},l={clearReset:"Reset the canvas",exportJSON:"Export to file",exportImage:"Export image...",export:"Save to...",copyToClipboard:"Copy to clipboard",copyLink:"Copy link",save:"Save to current file",saveAs:"Save as",load:"Open",getShareableLink:"Get shareable link",close:"Close",selectLanguage:"Select language",scrollBackToContent:"Scroll back to content",zoomIn:"Zoom in",zoomOut:"Zoom out",resetZoom:"Reset zoom",menu:"Menu",done:"Done",edit:"Edit",undo:"Undo",redo:"Redo",resetLibrary:"Reset library",createNewRoom:"Create new room",fullScreen:"Full screen",darkMode:"Dark mode",lightMode:"Light mode",systemMode:"System mode",zenMode:"Zen mode",objectsSnapMode:"Snap to objects",exitZenMode:"Exit zen mode",cancel:"Cancel",clear:"Clear",remove:"Remove",embed:"Toggle embedding",publishLibrary:"Publish",submit:"Submit",confirm:"Confirm",embeddableInteractionButton:"Click to interact"},s={clearReset:"This will clear the whole canvas. Are you sure?",couldNotCreateShareableLink:"Couldn't create shareable link.",couldNotCreateShareableLinkTooBig:"Couldn't create shareable link: the scene is too big",couldNotLoadInvalidFile:"Couldn't load invalid file",importBackendFailed:"Importing from backend failed.",cannotExportEmptyCanvas:"Cannot export empty canvas.",couldNotCopyToClipboard:"Couldn't copy to clipboard.",decryptFailed:"Couldn't decrypt data.",uploadedSecurly:"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.",loadSceneOverridePrompt:"Loading external drawing will replace your existing content. Do you wish to continue?",collabStopOverridePrompt:"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\n\n(If you want to keep your local drawing, simply close the browser tab instead.)",errorAddingToLibrary:"Couldn't add item to the library",errorRemovingFromLibrary:"Couldn't remove item from the library",confirmAddLibrary:"This will add {{numShapes}} shape(s) to your library. Are you sure?",imageDoesNotContainScene:"This image does not seem to contain any scene data. Have you enabled scene embedding during export?",cannotRestoreFromImage:"Scene couldn't be restored from this image file",invalidSceneUrl:"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.",resetLibrary:"This will clear your library. Are you sure?",removeItemsFromsLibrary:"Delete {{count}} item(s) from library?",invalidEncryptionKey:"Encryption key must be of 22 characters. Live collaboration is disabled.",collabOfflineWarning:"No internet connection available.\nYour changes will not be saved!"},c={unsupportedFileType:"Unsupported file type.",imageInsertError:"Couldn't insert image. Try again later...",fileTooBig:"File is too big. Maximum allowed size is {{maxSize}}.",svgImageInsertError:"Couldn't insert SVG image. The SVG markup looks invalid.",failedToFetchImage:"Failed to fetch image.",cannotResolveCollabServer:"Couldn't connect to the collab server. Please reload the page and try again.",importLibraryError:"Couldn't load library",saveLibraryError:"Couldn't save library to storage. Please save your library to a file locally to make sure you don't lose changes.",collabSaveFailed:"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.",collabSaveFailed_sizeExceeded:"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.",imageToolNotSupported:"Images are disabled.",brave_measure_text_error:{line1:"Looks like you are using Brave browser with the <bold>Aggressively Block Fingerprinting</bold> setting enabled.",line2:"This could result in breaking the <bold>Text Elements</bold> in your drawings.",line3:"We strongly recommend disabling this setting. You can follow <link>these steps</link> on how to do so.",line4:"If disabling this setting doesn't fix the display of text elements, please open an <issueLink>issue</issueLink> on our GitHub, or write us on <discordLink>Discord</discordLink>"},libraryElementTypeError:{embeddable:"Embeddable elements cannot be added to the library.",iframe:"IFrame elements cannot be added to the library.",image:"Support for adding images to the library coming soon!"},asyncPasteFailedOnRead:"Couldn't paste (couldn't read from system clipboard).",asyncPasteFailedOnParse:"Couldn't paste.",copyToSystemClipboardFailed:"Couldn't copy to clipboard."},d={selection:"Selection",image:"Insert image",rectangle:"Rectangle",diamond:"Diamond",ellipse:"Ellipse",arrow:"Arrow",line:"Line",freedraw:"Draw",text:"Text",library:"Library",lock:"Keep selected tool active after drawing",penMode:"Pen mode - prevent touch",link:"Add / Update link for a selected shape",eraser:"Eraser",frame:"Frame tool",magicframe:"Wireframe to code",embeddable:"Web Embed",laser:"Laser pointer",hand:"Hand (panning tool)",extraTools:"More tools",mermaidToExcalidraw:"Mermaid to Excalidraw"},u={rectangle:"Rectangle",diamond:"Diamond",ellipse:"Ellipse",arrow:"Arrow",line:"Line",freedraw:"Freedraw",text:"Text",image:"Image",group:"Group",frame:"Frame",magicframe:"Wireframe to code",embeddable:"Web Embed",selection:"Selection",iframe:"IFrame"},f={canvasActions:"Canvas actions",selectedShapeActions:"Selected shape actions",shapes:"Shapes"},h={dismissSearch:"Escape to dismiss search",canvasPanning:"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool",linearElement:"Click to start multiple points, drag for single line",arrowTool:"Click to start multiple points, drag for single line. Press {{arrowShortcut}} again to change arrow type.",freeDraw:"Click and drag, release when you're finished",text:"Tip: you can also add text by double-clicking anywhere with the selection tool",embeddable:"Click-drag to create a website embed",text_selected:"Double-click or press ENTER to edit text",text_editing:"Press Escape or CtrlOrCmd+ENTER to finish editing",linearElementMulti:"Click on last point or press Escape or Enter to finish",lockAngle:"You can constrain angle by holding SHIFT",resize:"You can constrain proportions by holding SHIFT while resizing,\nhold ALT to resize from the center",resizeImage:"You can resize freely by holding SHIFT,\nhold ALT to resize from the center",rotate:"You can constrain angles by holding SHIFT while rotating",lineEditor_info:"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points",lineEditor_pointSelected:"Press Delete to remove point(s),\nCtrlOrCmd+D to duplicate, or drag to move",lineEditor_nothingSelected:"Select a point to edit (hold SHIFT to select multiple),\nor hold Alt and click to add new points",placeImage:"Click to place the image, or click and drag to set its size manually",publishLibrary:"Publish your own library",bindTextToElement:"Press enter to add text",createFlowchart:"Hold CtrlOrCmd and Arrow key to create a flowchart",deepBoxSelect:"Hold CtrlOrCmd to deep select, and to prevent dragging",eraserRevert:"Hold Alt to revert the elements marked for deletion",firefox_clipboard_write:'This feature can likely be enabled by setting the "dom.events.asyncClipboard.clipboardItem" flag to "true". To change the browser flags in Firefox, visit the "about:config" page.',disableSnapping:"Hold CtrlOrCmd to disable snapping",enterCropEditor:"Double click the image or press ENTER to crop the image",leaveCropEditor:"Click outside the image or press ENTER or ESCAPE to finish cropping"},p={cannotShowPreview:"Cannot show preview",canvasTooBig:"The canvas may be too big.",canvasTooBigTip:"Tip: try moving the farthest elements a bit closer together."},v={headingMain:"Encountered an error. Try <button>reloading the page</button>.",clearCanvasMessage:"If reloading doesn't work, try <button>clearing the canvas</button>.",clearCanvasCaveat:" This will result in loss of work ",trackedToSentry:"The error with identifier {{eventId}} was tracked on our system.",openIssueMessage:"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our <button>bug tracker</button>. Please include information below by copying and pasting into the GitHub issue.",sceneContent:"Scene content:"},U={or:"Or"},m={desc_intro:"Invite people to collaborate on your drawing.",desc_privacy:"Don't worry, the session is end-to-end encrypted, and fully private. Not even our server can see what you draw.",button_startSession:"Start session",button_stopSession:"Stop session",desc_inProgressIntro:"Live-collaboration session is now in progress.",desc_shareLink:"Share this link with anyone you want to collaborate with:",desc_exitSession:"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.",shareTitle:"Join a live collaboration session on Excalidraw"},g={title:"Error"},b={disk_title:"Save to disk",disk_details:"Export the scene data to a file from which you can import later.",disk_button:"Save to file",link_title:"Shareable link",link_details:"Export as a read-only link.",link_button:"Export to Link",excalidrawplus_description:"Save the scene to your Excalidraw+ workspace.",excalidrawplus_button:"Export",excalidrawplus_exportError:"Couldn't export to Excalidraw+ at this moment..."},y={blog:"Read our blog",click:"click",deepSelect:"Deep select",deepBoxSelect:"Deep select within box, and prevent dragging",createFlowchart:"Create a flowchart from a generic element",navigateFlowchart:"Navigate a flowchart",curvedArrow:"Curved arrow",curvedLine:"Curved line",documentation:"Documentation",doubleClick:"double-click",drag:"drag",editor:"Editor",editLineArrowPoints:"Edit line/arrow points",editText:"Edit text / add label",github:"Found an issue? Submit",howto:"Follow our guides",or:"or",preventBinding:"Prevent arrow binding",tools:"Tools",shortcuts:"Keyboard shortcuts",textFinish:"Finish editing (text editor)",textNewLine:"Add new line (text editor)",title:"Help",view:"View",zoomToFit:"Zoom to fit all elements",zoomToSelection:"Zoom to selection",toggleElementLock:"Lock/unlock selection",movePageUpDown:"Move page up/down",movePageLeftRight:"Move page left/right",cropStart:"Crop image",cropFinish:"Finish image cropping"},x={title:"Clear canvas"},w={title:"Publish library",itemName:"Item name",authorName:"Author name",githubUsername:"GitHub username",twitterUsername:"Twitter username",libraryName:"Library name",libraryDesc:"Library description",website:"Website",placeholder:{authorName:"Your name or username",libraryName:"Name of your library",libraryDesc:"Description of your library to help people understand its usage",githubHandle:"GitHub handle (optional), so you can edit the library once submitted for review",twitterHandle:"Twitter username (optional), so we know who to credit when promoting over Twitter",website:"Link to your personal website or elsewhere (optional)"},errors:{required:"Required",website:"Enter a valid URL"},noteDescription:"Submit your library to be included in the <link>public library repository</link> for other people to use in their drawings.",noteGuidelines:"The library needs to be manually approved first. Please read the <link>guidelines</link> before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required.",noteLicense:"By submitting, you agree the library will be published under the <link>MIT License</link>, which in short means anyone can use them without restrictions.",noteItems:"Each library item must have its own name so it's filterable. The following library items will be included:",atleastOneLibItem:"Please select at least one library item to get started",republishWarning:"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},A={title:"Library submitted",content:"Thank you {{authorName}}. Your library has been submitted for review. You can track the status <link>here</link>"},E={resetLibrary:"Reset library",removeItemsFromLib:"Remove selected items from library"},k={header:"Export image",label:{withBackground:"Background",onlySelected:"Only selected",darkMode:"Dark mode",embedScene:"Embed scene",scale:"Scale",padding:"Padding"},tooltip:{embedScene:"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\nWill increase exported file size."},title:{exportToPng:"Export to PNG",exportToSvg:"Export to SVG",copyPngToClipboard:"Copy PNG to clipboard"},button:{exportToPng:"PNG",exportToSvg:"SVG",copyPngToClipboard:"Copy to clipboard"}},S={tooltip:"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.",link:"Blog post on end-to-end encryption in Excalidraw"},M={angle:"Angle",shapes:"Shapes",height:"Height",scene:"Scene",selected:"Selected",storage:"Storage",fullTitle:"Canvas & Shape properties",title:"Properties",generalStats:"General",elementProperties:"Shape properties",total:"Total",version:"Version",versionCopy:"Click to copy",versionNotAvailable:"Version not available",width:"Width"},C={addedToLibrary:"Added to library",copyStyles:"Copied styles.",copyToClipboard:"Copied to clipboard.",copyToClipboardAsPng:"Copied {{exportSelection}} to clipboard as PNG\n({{exportColorScheme}})",copyToClipboardAsSvg:"Copied {{exportSelection}} to clipboard as SVG\n({{exportColorScheme}})",fileSaved:"File saved.",fileSavedToFilename:"Saved to {filename}",canvas:"canvas",selection:"selection",pasteAsSingleElement:"Use {{shortcut}} to paste as a single element,\nor paste into an existing text editor",unableToEmbed:"Embedding this url is currently not allowed. Raise an issue on GitHub to request the url whitelisted",unrecognizedLinkFormat:"The link you embedded does not match the expected format. Please try to paste the 'embed' string provided by the source site",elementLinkCopied:"Link copied to clipboard"},j={transparent:"Transparent",black:"Black",white:"White",red:"Red",pink:"Pink",grape:"Grape",violet:"Violet",gray:"Gray",blue:"Blue",cyan:"Cyan",teal:"Teal",green:"Green",yellow:"Yellow",orange:"Orange",bronze:"Bronze"},I={app:{center_heading:"All your data is saved locally in your browser.",center_heading_plus:"Did you want to go to the Excalidraw+ instead?",menuHint:"Export, preferences, languages, ..."},defaults:{menuHint:"Export, preferences, and more...",center_heading:"Diagrams. Made. Simple.",toolbarHint:"Pick a tool & Start drawing!",helpHint:"Shortcuts & help"}},D={mostUsedCustomColors:"Most used custom colors",colors:"Colors",shades:"Shades",hexCode:"Hex code",noShades:"No shades available for this color"},T={action:{exportToImage:{title:"Export as image",button:"Export as image",description:"Export the scene data as an image from which you can import later."},saveToDisk:{title:"Save to disk",button:"Save to disk",description:"Export the scene data to a file from which you can import later."},excalidrawPlus:{title:"Excalidraw+",button:"Export to Excalidraw+",description:"Save the scene to your Excalidraw+ workspace."}},modal:{loadFromFile:{title:"Load from file",button:"Load from file",description:"Loading from a file will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first using one of the options below."},shareableLink:{title:"Load from link",button:"Replace my content",description:"Loading external drawing will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first by using one of the options below."}}},_={title:"Mermaid to Excalidraw",button:"Insert",description:"Currently only <flowchartLink>Flowchart</flowchartLink>,<sequenceLink> Sequence, </sequenceLink> and <classLink>Class </classLink>Diagrams are supported. The other types will be rendered as image in Excalidraw.",syntax:"Mermaid Syntax",preview:"Preview"},L={placeholder:"Quick search"},R={badge:{old:"old"},sceneFonts:"In this scene",availableFonts:"Available fonts",empty:"No fonts found"},P={empty:"No users found",hint:{text:"Click on user to follow",followStatus:"You're currently following this user",inCall:"User is in a voice call",micMuted:"User's microphone is muted",isSpeaking:"User is speaking"}},N={title:"Command palette",shortcuts:{select:"Select",confirm:"Confirm",close:"Close"},recents:"Recently used",search:{placeholder:"Search menus, commands, and discover hidden gems",noMatch:"No matching commands..."},itemNotAvailable:"Command is not available...",shortcutHint:"For Command palette, use {{shortcut}}"},F={labels:r,elementLink:a,library:i,search:o,buttons:l,alerts:s,errors:c,toolBar:d,element:u,headings:f,hints:h,canvasError:p,errorSplash:v,shareDialog:U,roomDialog:m,errorDialog:g,exportDialog:b,helpDialog:y,clearCanvasDialog:x,publishDialog:w,publishSuccessDialog:A,confirmDialog:E,imageExportDialog:k,encrypted:S,stats:M,toast:C,colors:j,welcomeScreen:I,colorPicker:D,overwriteConfirm:T,mermaid:_,quickSearch:L,fontList:R,userList:P,commandPalette:N}},57885:function(e,t,n){"use strict";n.d(t,{$:function(){return Wa},$a:function(){return Po},$b:function(){return ql},$c:function(){return dm},$d:function(){return sd},$e:function(){return cu},$f:function(){return Rm},$g:function(){return Cg},$h:function(){return ib},$i:function(){return ip},$j:function(){return iw},A:function(){return da},Aa:function(){return gi},Ab:function(){return vl},Ac:function(){return ks},Ad:function(){return _c},Ae:function(){return Rd},Af:function(){return Pu},Ag:function(){return sp},Ah:function(){return Yw},Ai:function(){return ix},Aj:function(){return ZU},Ak:function(){return Yv},B:function(){return ua},Ba:function(){return bi},Bb:function(){return Ul},Bc:function(){return Ss},Bd:function(){return Lc},Be:function(){return Pd},Bf:function(){return Nu},Bg:function(){return cp},Bh:function(){return Zw},Bi:function(){return ox},Bj:function(){return KU},Bk:function(){return Kv},C:function(){return fa},Ca:function(){return yi},Cb:function(){return ml},Cd:function(){return Rc},Ce:function(){return Nd},Cf:function(){return Fu},Cg:function(){return pp},Ch:function(){return Kw},Ci:function(){return lx},Cj:function(){return $U},D:function(){return ha},Da:function(){return xi},Db:function(){return gl},Dc:function(){return js},Dd:function(){return Pc},De:function(){return Fd},Df:function(){return Ou},Dg:function(){return Up},Dh:function(){return qw},Di:function(){return sx},Dj:function(){return QU},E:function(){return pa},Ea:function(){return wi},Eb:function(){return bl},Ec:function(){return Vs},Ed:function(){return Nc},Ee:function(){return Od},Ef:function(){return zu},Eg:function(){return Qp},Eh:function(){return $w},Ei:function(){return cx},Ej:function(){return JU},F:function(){return ma},Fa:function(){return Ai},Fb:function(){return yl},Fc:function(){return ji},Fd:function(){return Fc},Fe:function(){return zd},Ff:function(){return Bu},Fg:function(){return Jp},Fh:function(){return Qw},Fi:function(){return dx},Fj:function(){return tm},G:function(){return ya},Ga:function(){return Ei},Gb:function(){return xl},Gc:function(){return Li},Gd:function(){return Oc},Ge:function(){return Bd},Gf:function(){return Hu},Gg:function(){return ev},Gh:function(){return Jw},Gi:function(){return fx},Gj:function(){return nm},H:function(){return xa},Hb:function(){return Al},Hc:function(){return Ri},Hd:function(){return zc},He:function(){return Hd},Hf:function(){return Wu},Hg:function(){return tv},Hh:function(){return eA},Hi:function(){return hx},Hj:function(){return rm},I:function(){return wa},Ia:function(){return Pi},Ib:function(){return El},Ic:function(){return qv},Id:function(){return Bc},Ie:function(){return Wd},If:function(){return Xu},Ig:function(){return nv},Ih:function(){return aA},Ii:function(){return px},Ij:function(){return am},J:function(){return Aa},Ja:function(){return Ni},Jb:function(){return kl},Jc:function(){return $v},Jd:function(){return Hc},Je:function(){return Xd},Jf:function(){return Gu},Jg:function(){return iv},Jh:function(){return Pg},Ji:function(){return vx},Jj:function(){return im},K:function(){return Ea},Ka:function(){return Fi},Kb:function(){return Sl},Kc:function(){return Qv},Kd:function(){return Wc},Ke:function(){return Gd},Kf:function(){return Vu},Kg:function(){return ov},Kh:function(){return Ng},Ki:function(){return Ux},Kj:function(){return Wm},L:function(){return ka},La:function(){return zi},Lb:function(){return Ml},Lc:function(){return Jv},Ld:function(){return Xc},Le:function(){return Vd},Lf:function(){return Yu},Lg:function(){return lv},Lh:function(){return Fg},Li:function(){return mx},M:function(){return Sa},Ma:function(){return Wi},Mb:function(){return Cl},Mc:function(){return eU},Md:function(){return Gc},Me:function(){return Yd},Mf:function(){return Zu},Mg:function(){return sv},Mh:function(){return Bg},Mi:function(){return gx},Mj:function(){return Xm},N:function(){return Ca},Na:function(){return Xi},Nb:function(){return jl},Nc:function(){return tU},Nd:function(){return Vc},Ne:function(){return Zd},Nf:function(){return Ku},Ng:function(){return dv},Nh:function(){return Hg},Ni:function(){return xx},Nj:function(){return Gm},O:function(){return ja},Oa:function(){return Gi},Ob:function(){return Il},Oc:function(){return nU},Od:function(){return Yc},Oe:function(){return qd},Of:function(){return qu},Og:function(){return hv},Oh:function(){return Wg},Oi:function(){return Ax},Oj:function(){return Fx},P:function(){return Ia},Pa:function(){return Vi},Pb:function(){return Dl},Pc:function(){return rU},Pd:function(){return Zc},Pe:function(){return $d},Pf:function(){return $u},Pg:function(){return mv},Ph:function(){return Xg},Pi:function(){return Ex},Pj:function(){return Ox},Q:function(){return Da},Qa:function(){return Zi},Qb:function(){return Tl},Qc:function(){return aU},Qd:function(){return Kc},Qe:function(){return Qd},Qf:function(){return Pf},Qg:function(){return xv},Qh:function(){return Gg},Qi:function(){return kx},Qj:function(){return zx},R:function(){return Ta},Ra:function(){return qi},Rb:function(){return Nl},Rc:function(){return iU},Rd:function(){return qc},Re:function(){return Jd},Rf:function(){return Ff},Rg:function(){return kv},Rh:function(){return Vg},Ri:function(){return Oh},Rj:function(){return Bx},S:function(){return _a},Sa:function(){return $i},Sb:function(){return Fl},Sc:function(){return oU},Sd:function(){return $c},Se:function(){return eu},Sf:function(){return Em},Sg:function(){return jv},Sh:function(){return qg},Si:function(){return Yh},Sj:function(){return Hx},T:function(){return La},Ta:function(){return Qi},Tb:function(){return Ol},Tc:function(){return lU},Td:function(){return Qc},Te:function(){return tu},Tf:function(){return km},Tg:function(){return Dv},Th:function(){return $g},Ti:function(){return Zh},Tj:function(){return Wx},U:function(){return Pa},Ua:function(){return Ji},Ub:function(){return Wl},Uc:function(){return sU},Ud:function(){return Jc},Ue:function(){return nu},Uf:function(){return Sm},Ug:function(){return Lv},Uh:function(){return Qg},Uj:function(){return Xx},V:function(){return Na},Va:function(){return ao},Vb:function(){return Xl},Vc:function(){return cU},Vd:function(){return nd},Ve:function(){return ru},Vf:function(){return Mm},Vg:function(){return tg},Vh:function(){return Jg},Vi:function(){return Jh},Vj:function(){return Vx},W:function(){return Fa},Wa:function(){return lo},Wb:function(){return Gl},Wc:function(){return dU},Wd:function(){return rd},We:function(){return au},Wf:function(){return Cm},Wg:function(){return ag},Wh:function(){return eb},Wi:function(){return ep},Wj:function(){return Yx},X:function(){return Oa},Xa:function(){return To},Xb:function(){return Vl},Xc:function(){return om},Xd:function(){return ad},Xe:function(){return iu},Xf:function(){return Im},Xg:function(){return og},Xh:function(){return tb},Xi:function(){return tp},Xj:function(){return ew},Y:function(){return za},Ya:function(){return _o},Yb:function(){return Yl},Yc:function(){return lm},Yd:function(){return id},Ye:function(){return ou},Yf:function(){return Tm},Yg:function(){return Ag},Yh:function(){return nb},Yi:function(){return np},Yj:function(){return tw},Z:function(){return Ba},Za:function(){return Lo},Zb:function(){return Zl},Zc:function(){return sm},Zd:function(){return od},Ze:function(){return lu},Zf:function(){return _m},Zg:function(){return Eg},Zh:function(){return rb},Zi:function(){return rp},Zj:function(){return nw},_:function(){return Ha},_a:function(){return Ro},_b:function(){return Kl},_c:function(){return cm},_d:function(){return ld},_e:function(){return su},_f:function(){return Lm},_g:function(){return Mg},_h:function(){return ab},_i:function(){return ap},_j:function(){return rw},a:function(){return _r},aa:function(){return Xa},ab:function(){return No},ac:function(){return $l},ad:function(){return vm},ae:function(){return cd},af:function(){return du},ag:function(){return Pm},ah:function(){return Ch},ai:function(){return ob},aj:function(){return Ip},ak:function(){return ow},b:function(){return Lr},ba:function(){return Ga},bb:function(){return Fo},bc:function(){return Ql},bd:function(){return Um},be:function(){return dd},bf:function(){return uu},bg:function(){return Fm},bh:function(){return jh},bi:function(){return hb},bj:function(){return Bp},bk:function(){return sw},c:function(){return Rr},ca:function(){return Va},cb:function(){return Oo},cc:function(){return ts},cd:function(){return mm},ce:function(){return ud},cf:function(){return fu},cg:function(){return Bm},ch:function(){return Dh},ci:function(){return pb},cj:function(){return Gp},ck:function(){return dw},d:function(){return Pr},da:function(){return Ya},db:function(){return zo},dc:function(){return ns},dd:function(){return gm},de:function(){return fd},df:function(){return hu},dg:function(){return Hm},dh:function(){return _h},di:function(){return gb},dj:function(){return Vp},dk:function(){return fw},e:function(){return Or},eb:function(){return Bo},ec:function(){return rs},ed:function(){return Js},ee:function(){return hd},ef:function(){return pu},eg:function(){return zf},eh:function(){return vr},ei:function(){return yb},ej:function(){return hU},ek:function(){return Uw},f:function(){return Br},fb:function(){return Ho},fc:function(){return as},fd:function(){return ac},fe:function(){return pd},ff:function(){return vu},fg:function(){return Vf},fh:function(){return _g},fi:function(){return Eb},fj:function(){return pU},fk:function(){return mw},g:function(){return Hr},ga:function(){return Za},gb:function(){return Xo},gc:function(){return is},gd:function(){return ic},ge:function(){return vd},gf:function(){return Uu},gg:function(){return ch},gh:function(){return Lg},gi:function(){return ky},gj:function(){return vU},gk:function(){return gw},h:function(){return Wr},ha:function(){return Ka},hb:function(){return Go},hc:function(){return os},hd:function(){return oc},he:function(){return Ud},hf:function(){return mu},hg:function(){return dh},hh:function(){return Sp},hi:function(){return Sy},hj:function(){return gU},hk:function(){return xw},i:function(){return Xr},ia:function(){return qa},ib:function(){return Vo},ic:function(){return ls},id:function(){return lc},ie:function(){return md},if:function(){return gu},ig:function(){return fh},ih:function(){return Cb},ii:function(){return My},ij:function(){return yU},ik:function(){return ww},j:function(){return Gr},ja:function(){return $a},jb:function(){return Yo},jc:function(){return ss},jd:function(){return sc},je:function(){return gd},jf:function(){return bu},jg:function(){return hh},jh:function(){return oy},ji:function(){return jy},jj:function(){return wU},jk:function(){return kw},k:function(){return Vr},ka:function(){return Qa},kb:function(){return Zo},kc:function(){return cs},kd:function(){return cc},ke:function(){return bd},kf:function(){return yu},kg:function(){return ph},ki:function(){return Dy},kj:function(){return MU},kk:function(){return Sw},l:function(){return Yr},la:function(){return Ja},lb:function(){return Ko},lc:function(){return ds},ld:function(){return dc},le:function(){return yd},lf:function(){return xu},lg:function(){return vh},lh:function(){return dy},li:function(){return Ry},lj:function(){return CU},lk:function(){return Mw},m:function(){return Zr},ma:function(){return ei},mb:function(){return qo},mc:function(){return us},md:function(){return uc},me:function(){return xd},mf:function(){return wu},mg:function(){return Uh},mh:function(){return fy},mi:function(){return Ny},mj:function(){return jU},n:function(){return qr},na:function(){return ti},nb:function(){return $o},nc:function(){return fs},nd:function(){return fc},ne:function(){return wd},nf:function(){return Au},ng:function(){return th},nh:function(){return hA},ni:function(){return Fy},nj:function(){return IU},o:function(){return $r},oa:function(){return ni},ob:function(){return el},oc:function(){return hs},od:function(){return bc},oe:function(){return Ad},of:function(){return Eu},og:function(){return nh},oh:function(){return pA},oi:function(){return Oy},oj:function(){return DU},p:function(){return Qr},pa:function(){return ri},pb:function(){return tl},pc:function(){return vs},pd:function(){return yc},pe:function(){return Ed},pf:function(){return ku},pg:function(){return rh},ph:function(){return vA},pi:function(){return By},pj:function(){return PU},pk:function(){return Iw},q:function(){return Jr},qa:function(){return ai},qb:function(){return nl},qc:function(){return Us},qd:function(){return xc},qe:function(){return kd},qf:function(){return Su},qg:function(){return ah},qh:function(){return Pw},qj:function(){return FU},qk:function(){return Dw},r:function(){return ea},ra:function(){return ii},rb:function(){return rl},rc:function(){return xm},rd:function(){return Ec},re:function(){return Sd},rf:function(){return Mu},rg:function(){return mh},rh:function(){return Nw},ri:function(){return Hy},rj:function(){return OU},rk:function(){return Sx},s:function(){return ta},sa:function(){return oi},sb:function(){return al},sc:function(){return wm},sd:function(){return kc},se:function(){return Md},sf:function(){return Cu},sg:function(){return gh},sh:function(){return Fw},sj:function(){return zU},sk:function(){return Mx},t:function(){return na},ta:function(){return li},tb:function(){return ol},tc:function(){return lf},td:function(){return Sc},te:function(){return Cd},tf:function(){return ju},tg:function(){return bh},th:function(){return zw},tj:function(){return BU},tk:function(){return jx},u:function(){return ra},ua:function(){return ci},ub:function(){return ll},uc:function(){return sf},ud:function(){return Mc},ue:function(){return jd},uf:function(){return Iu},ug:function(){return yh},uh:function(){return Bw},uj:function(){return HU},uk:function(){return Ix},v:function(){return aa},va:function(){return fi},vb:function(){return sl},vc:function(){return gs},vd:function(){return Cc},ve:function(){return Id},vf:function(){return Du},vg:function(){return Eh},vh:function(){return Hw},vj:function(){return WU},vk:function(){return Dx},w:function(){return ia},wa:function(){return pi},wc:function(){return ys},wd:function(){return jc},we:function(){return Dd},wf:function(){return Tu},wg:function(){return Sh},wh:function(){return Ww},wi:function(){return Qy},wj:function(){return XU},wk:function(){return Tx},x:function(){return oa},xa:function(){return vi},xb:function(){return ul},xc:function(){return xs},xd:function(){return Ic},xe:function(){return Td},xf:function(){return _u},xg:function(){return Mh},xh:function(){return Xw},xi:function(){return nx},xj:function(){return GU},xk:function(){return _x},y:function(){return sa},ya:function(){return Ui},yb:function(){return fl},yc:function(){return ws},yd:function(){return Dc},ye:function(){return _d},yf:function(){return Lu},yg:function(){return op},yh:function(){return Gw},yi:function(){return rx},yj:function(){return VU},yk:function(){return Gv},z:function(){return ca},za:function(){return mi},zb:function(){return pl},zc:function(){return As},zd:function(){return Tc},ze:function(){return Ld},zf:function(){return Ru},zg:function(){return lp},zh:function(){return Vw},zi:function(){return ax},zj:function(){return YU},zk:function(){return Vv}});var r=n(39874),a=n(85501),i=n(50531),o=n(80045),l=n(23029),s=n(92901),c=n(90675),d=n(10467),u=n(24765),f=n(5544),h=n(60436),p=n(64467),v=n(89379),U=n(63137),m=n(91618),g=n(41619),b=n(12362),y=n(5424);function x(e){for(var t=e.length;--t>=0;)e[t]=0}var w=256,A=286,E=30,k=15,S=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),M=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),C=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),I=new Array(576);x(I);var D=new Array(60);x(D);var T=new Array(512);x(T);var _=new Array(256);x(_);var L=new Array(29);x(L);var R,P,N,F=new Array(E);function O(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function z(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}x(F);var B=function(e){return e<256?T[e]:T[256+(e>>>7)]},H=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},W=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,H(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},X=function(e,t,n){W(e,n[2*t],n[2*t+1])},G=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},V=function(e,t,n){var r,a,i=new Array(16),o=0;for(r=1;r<=k;r++)i[r]=o=o+n[r-1]<<1;for(a=0;a<=t;a++){var l=e[2*a+1];0!==l&&(e[2*a]=G(i[l]++,l))}},Y=function(e){var t;for(t=0;t<A;t++)e.dyn_ltree[2*t]=0;for(t=0;t<E;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},Z=function(e){e.bi_valid>8?H(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},K=function(e,t,n,r){var a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]},q=function(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&K(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!K(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},$=function(e,t,n){var r,a,i,o,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],a=e.pending_buf[e.l_buf+l],l++,0===r?X(e,a,t):(i=_[a],X(e,i+w+1,t),0!==(o=S[i])&&(a-=L[i],W(e,a,o)),r--,i=B(r),X(e,i,n),0!==(o=M[i])&&(r-=F[i],W(e,r,o)))}while(l<e.last_lit);X(e,256,t)},Q=function(e,t){var n,r,a,i=t.dyn_tree,o=t.stat_desc.static_tree,l=t.stat_desc.has_stree,s=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<s;n++)0!==i[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[a]=0,e.opt_len--,l&&(e.static_len-=o[2*a+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)q(e,i,n);a=s;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],q(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*a]=i[2*n]+i[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=a,e.heap[1]=a++,q(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,a,i,o,l,s=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(i=0;i<=k;i++)e.bl_count[i]=0;for(s[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(i=s[2*s[2*(r=e.heap[n])+1]+1]+1)>p&&(i=p,v++),s[2*r+1]=i,r>c||(e.bl_count[i]++,o=0,r>=h&&(o=f[r-h]),l=s[2*r],e.opt_len+=l*(i+o),u&&(e.static_len+=l*(d[2*r+1]+o)));if(0!==v){do{for(i=p-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(i=p;0!==i;i--)for(r=e.bl_count[i];0!==r;)(a=e.heap[--n])>c||(s[2*a+1]!==i&&(e.opt_len+=(i-s[2*a+1])*s[2*a],s[2*a+1]=i),r--)}}(e,t),V(i,c,e.bl_count)},J=function(e,t,n){var r,a,i=-1,o=t[1],l=0,s=7,c=4;for(0===o&&(s=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=t[2*(r+1)+1],++l<s&&a===o||(l<c?e.bl_tree[2*a]+=l:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):l<=10?e.bl_tree[34]++:e.bl_tree[36]++,l=0,i=a,0===o?(s=138,c=3):a===o?(s=6,c=3):(s=7,c=4))},ee=function(e,t,n){var r,a,i=-1,o=t[1],l=0,s=7,c=4;for(0===o&&(s=138,c=3),r=0;r<=n;r++)if(a=o,o=t[2*(r+1)+1],!(++l<s&&a===o)){if(l<c)do{X(e,a,e.bl_tree)}while(0!==--l);else 0!==a?(a!==i&&(X(e,a,e.bl_tree),l--),X(e,16,e.bl_tree),W(e,l-3,2)):l<=10?(X(e,17,e.bl_tree),W(e,l-3,3)):(X(e,18,e.bl_tree),W(e,l-11,7));l=0,i=a,0===o?(s=138,c=3):a===o?(s=6,c=3):(s=7,c=4)}},te=!1,ne=function(e,t,n,r){W(e,0+(r?1:0),3),function(e,t,n,r){Z(e),r&&(H(e,n),H(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n,!0)},re=function(e){te||(!function(){var e,t,n,r,a,i=new Array(16);for(n=0,r=0;r<28;r++)for(L[r]=n,e=0;e<1<<S[r];e++)_[n++]=r;for(_[n-1]=r,a=0,r=0;r<16;r++)for(F[r]=a,e=0;e<1<<M[r];e++)T[a++]=r;for(a>>=7;r<E;r++)for(F[r]=a<<7,e=0;e<1<<M[r]-7;e++)T[256+a++]=r;for(t=0;t<=k;t++)i[t]=0;for(e=0;e<=143;)I[2*e+1]=8,e++,i[8]++;for(;e<=255;)I[2*e+1]=9,e++,i[9]++;for(;e<=279;)I[2*e+1]=7,e++,i[7]++;for(;e<=287;)I[2*e+1]=8,e++,i[8]++;for(V(I,287,i),e=0;e<E;e++)D[2*e+1]=5,D[2*e]=G(e,5);R=new O(I,S,257,A,k),P=new O(D,M,0,E,k),N=new O(new Array(0),C,0,19,7)}(),te=!0),e.l_desc=new z(e.dyn_ltree,R),e.d_desc=new z(e.dyn_dtree,P),e.bl_desc=new z(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,Y(e)},ae=function(e,t,n,r){var a,i,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<w;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Q(e,e.l_desc),Q(e,e.d_desc),o=function(e){var t;for(J(e,e.dyn_ltree,e.l_desc.max_code),J(e,e.dyn_dtree,e.d_desc.max_code),Q(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*j[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?ne(e,t,n,r):4===e.strategy||i===a?(W(e,2+(r?1:0),3),$(e,I,D)):(W(e,4+(r?1:0),3),function(e,t,n,r){var a;for(W(e,t-257,5),W(e,n-1,5),W(e,r-4,4),a=0;a<r;a++)W(e,e.bl_tree[2*j[a]+1],3);ee(e,e.dyn_ltree,t-1),ee(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),$(e,e.dyn_ltree,e.dyn_dtree)),Y(e),r&&Z(e)},ie=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(_[n]+w+1)]++,e.dyn_dtree[2*B(t)]++),e.last_lit===e.lit_bufsize-1},oe=function(e){W(e,2,3),X(e,256,I),function(e){16===e.bi_valid?(H(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)},le={_tr_init:re,_tr_stored_block:ne,_tr_flush_block:ae,_tr_tally:ie,_tr_align:oe},se=function(e,t,n,r){for(var a=65535&e,i=e>>>16&65535,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{i=i+(a=a+t[r++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16},ce=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),de=function(e,t,n,r){var a=ce,i=r+n;e^=-1;for(var o=r;o<i;o++)e=e>>>8^a[255&(e^t[o])];return~e},ue={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fe={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},he=le._tr_init,pe=le._tr_stored_block,ve=le._tr_flush_block,Ue=le._tr_tally,me=le._tr_align,ge=fe.Z_NO_FLUSH,be=fe.Z_PARTIAL_FLUSH,ye=fe.Z_FULL_FLUSH,xe=fe.Z_FINISH,we=fe.Z_BLOCK,Ae=fe.Z_OK,Ee=fe.Z_STREAM_END,ke=fe.Z_STREAM_ERROR,Se=fe.Z_DATA_ERROR,Me=fe.Z_BUF_ERROR,Ce=fe.Z_DEFAULT_COMPRESSION,je=fe.Z_FILTERED,Ie=fe.Z_HUFFMAN_ONLY,De=fe.Z_RLE,Te=fe.Z_FIXED,_e=fe.Z_DEFAULT_STRATEGY,Le=fe.Z_UNKNOWN,Re=fe.Z_DEFLATED,Pe=258,Ne=262,Fe=103,Oe=113,ze=666,Be=function(e,t){return e.msg=ue[t],t},He=function(e){return(e<<1)-(e>4?9:0)},We=function(e){for(var t=e.length;--t>=0;)e[t]=0},Xe=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},Ge=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Ve=function(e,t){ve(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ge(e.strm)},Ye=function(e,t){e.pending_buf[e.pending++]=t},Ze=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ke=function(e,t,n,r){var a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=se(e.adler,t,a,n):2===e.state.wrap&&(e.adler=de(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},qe=function(e,t){var n,r,a=e.max_chain_length,i=e.strstart,o=e.prev_length,l=e.nice_match,s=e.strstart>e.w_size-Ne?e.strstart-(e.w_size-Ne):0,c=e.window,d=e.w_mask,u=e.prev,f=e.strstart+Pe,h=c[i+o-1],p=c[i+o];e.prev_length>=e.good_match&&(a>>=2),l>e.lookahead&&(l=e.lookahead);do{if(c[(n=t)+o]===p&&c[n+o-1]===h&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<f);if(r=Pe-(f-i),i=f-Pe,r>o){if(e.match_start=t,o=r,r>=l)break;h=c[i+o-1],p=c[i+o]}}}while((t=u[t&d])>s&&0!==--a);return o<=e.lookahead?o:e.lookahead},$e=function(e){var t,n,r,a,i,o=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-Ne)){e.window.set(e.window.subarray(o,o+o),0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=o?r-o:0}while(--n);t=n=o;do{r=e.prev[--t],e.prev[t]=r>=o?r-o:0}while(--n);a+=o}if(0===e.strm.avail_in)break;if(n=Ke(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Xe(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Xe(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Ne&&0!==e.strm.avail_in)},Qe=function(e,t){for(var n,r;;){if(e.lookahead<Ne){if($e(e),e.lookahead<Ne&&t===ge)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Ne&&(e.match_length=qe(e,n)),e.match_length>=3)if(r=Ue(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+1]);else r=Ue(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ve(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===xe?(Ve(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ve(e,!1),0===e.strm.avail_out)?1:2},Je=function(e,t){for(var n,r,a;;){if(e.lookahead<Ne){if($e(e),e.lookahead<Ne&&t===ge)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ne&&(e.match_length=qe(e,n),e.match_length<=5&&(e.strategy===je||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=Ue(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Ve(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=Ue(e,0,e.window[e.strstart-1]))&&Ve(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Ue(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===xe?(Ve(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ve(e,!1),0===e.strm.avail_out)?1:2};function et(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}var tt=[new et(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if($e(e),0===e.lookahead&&t===ge)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Ve(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-Ne&&(Ve(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===xe?(Ve(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Ve(e,!1),e.strm.avail_out),1)})),new et(4,4,8,4,Qe),new et(4,5,16,8,Qe),new et(4,6,32,32,Qe),new et(4,4,16,16,Je),new et(8,16,32,32,Je),new et(8,16,128,128,Je),new et(8,32,128,256,Je),new et(32,128,258,1024,Je),new et(32,258,258,4096,Je)];function nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Re,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),We(this.dyn_ltree),We(this.dyn_dtree),We(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),We(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),We(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var rt=function(e){if(!e||!e.state)return Be(e,ke);e.total_in=e.total_out=0,e.data_type=Le;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Oe,e.adler=2===t.wrap?0:1,t.last_flush=ge,he(t),Ae},at=function(e){var t=rt(e);return t===Ae&&function(e){e.window_size=2*e.w_size,We(e.head),e.max_lazy_match=tt[e.level].max_lazy,e.good_match=tt[e.level].good_length,e.nice_match=tt[e.level].nice_length,e.max_chain_length=tt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t},it=function(e,t,n,r,a,i){if(!e)return ke;var o=1;if(t===Ce&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>9||n!==Re||r<8||r>15||t<0||t>9||i<0||i>Te)return Be(e,ke);8===r&&(r=9);var l=new nt;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new Uint8Array(2*l.w_size),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new Uint8Array(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=i,l.method=n,at(e)},ot=function(e,t){var n,r;if(!e||!e.state||t>we||t<0)return e?Be(e,ke):ke;var a=e.state;if(!e.output||!e.input&&0!==e.avail_in||a.status===ze&&t!==xe)return Be(e,0===e.avail_out?Me:ke);a.strm=e;var i=a.last_flush;if(a.last_flush=t,42===a.status)if(2===a.wrap)e.adler=0,Ye(a,31),Ye(a,139),Ye(a,8),a.gzhead?(Ye(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),Ye(a,255&a.gzhead.time),Ye(a,a.gzhead.time>>8&255),Ye(a,a.gzhead.time>>16&255),Ye(a,a.gzhead.time>>24&255),Ye(a,9===a.level?2:a.strategy>=Ie||a.level<2?4:0),Ye(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(Ye(a,255&a.gzhead.extra.length),Ye(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=de(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(Ye(a,0),Ye(a,0),Ye(a,0),Ye(a,0),Ye(a,0),Ye(a,9===a.level?2:a.strategy>=Ie||a.level<2?4:0),Ye(a,3),a.status=Oe);else{var o=Re+(a.w_bits-8<<4)<<8;o|=(a.strategy>=Ie||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(o|=32),o+=31-o%31,a.status=Oe,Ze(a,o),0!==a.strstart&&(Ze(a,e.adler>>>16),Ze(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(n=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>n&&(e.adler=de(e.adler,a.pending_buf,a.pending-n,n)),Ge(e),n=a.pending,a.pending!==a.pending_buf_size));)Ye(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>n&&(e.adler=de(e.adler,a.pending_buf,a.pending-n,n)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=de(e.adler,a.pending_buf,a.pending-n,n)),Ge(e),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,Ye(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>n&&(e.adler=de(e.adler,a.pending_buf,a.pending-n,n)),0===r&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=de(e.adler,a.pending_buf,a.pending-n,n)),Ge(e),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,Ye(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>n&&(e.adler=de(e.adler,a.pending_buf,a.pending-n,n)),0===r&&(a.status=Fe)}else a.status=Fe;if(a.status===Fe&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&Ge(e),a.pending+2<=a.pending_buf_size&&(Ye(a,255&e.adler),Ye(a,e.adler>>8&255),e.adler=0,a.status=Oe)):a.status=Oe),0!==a.pending){if(Ge(e),0===e.avail_out)return a.last_flush=-1,Ae}else if(0===e.avail_in&&He(t)<=He(i)&&t!==xe)return Be(e,Me);if(a.status===ze&&0!==e.avail_in)return Be(e,Me);if(0!==e.avail_in||0!==a.lookahead||t!==ge&&a.status!==ze){var l=a.strategy===Ie?function(e,t){for(var n;;){if(0===e.lookahead&&($e(e),0===e.lookahead)){if(t===ge)return 1;break}if(e.match_length=0,n=Ue(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ve(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===xe?(Ve(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ve(e,!1),0===e.strm.avail_out)?1:2}(a,t):a.strategy===De?function(e,t){for(var n,r,a,i,o=e.window;;){if(e.lookahead<=Pe){if($e(e),e.lookahead<=Pe&&t===ge)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=o[a=e.strstart-1])===o[++a]&&r===o[++a]&&r===o[++a]){i=e.strstart+Pe;do{}while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<i);e.match_length=Pe-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Ue(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Ue(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ve(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===xe?(Ve(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ve(e,!1),0===e.strm.avail_out)?1:2}(a,t):tt[a.level].func(a,t);if(3!==l&&4!==l||(a.status=ze),1===l||3===l)return 0===e.avail_out&&(a.last_flush=-1),Ae;if(2===l&&(t===be?me(a):t!==we&&(pe(a,0,0,!1),t===ye&&(We(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),Ge(e),0===e.avail_out))return a.last_flush=-1,Ae}return t!==xe?Ae:a.wrap<=0?Ee:(2===a.wrap?(Ye(a,255&e.adler),Ye(a,e.adler>>8&255),Ye(a,e.adler>>16&255),Ye(a,e.adler>>24&255),Ye(a,255&e.total_in),Ye(a,e.total_in>>8&255),Ye(a,e.total_in>>16&255),Ye(a,e.total_in>>24&255)):(Ze(a,e.adler>>>16),Ze(a,65535&e.adler)),Ge(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?Ae:Ee)},lt=function(e,t){var n=t.length;if(!e||!e.state)return ke;var r=e.state,a=r.wrap;if(2===a||1===a&&42!==r.status||r.lookahead)return ke;if(1===a&&(e.adler=se(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===a&&(We(r.head),r.strstart=0,r.block_start=0,r.insert=0);var i=new Uint8Array(r.w_size);i.set(t.subarray(n-r.w_size,n),0),t=i,n=r.w_size}var o=e.avail_in,l=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,$e(r);r.lookahead>=3;){var c=r.strstart,d=r.lookahead-2;do{r.ins_h=Xe(r,r.ins_h,r.window[c+3-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++}while(--d);r.strstart=c,r.lookahead=2,$e(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=l,e.input=s,e.avail_in=o,r.wrap=a,Ae},st={deflateInit:function(e,t){return it(e,t,Re,15,8,_e)},deflateInit2:it,deflateReset:at,deflateResetKeep:rt,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?ke:(e.state.gzhead=t,Ae):ke},deflate:ot,deflateEnd:function(e){if(!e||!e.state)return ke;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==Fe&&t!==Oe&&t!==ze?Be(e,ke):(e.state=null,t===Oe?Be(e,Se):Ae)},deflateSetDictionary:lt,deflateInfo:"pako deflate (from Nodeca project)"},ct=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},dt=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)ct(n,r)&&(e[r]=n[r])}}return e},ut=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;for(var a=new Uint8Array(t),i=0,o=0,l=e.length;i<l;i++){var s=e[i];a.set(s,o),o+=s.length}return a},ft=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(UA){ft=!1}for(var ht=new Uint8Array(256),pt=0;pt<256;pt++)ht[pt]=pt>=252?6:pt>=248?5:pt>=240?4:pt>=224?3:pt>=192?2:1;ht[254]=ht[254]=1;var vt=function(e){var t,n,r,a,i,o=e.length,l=0;for(a=0;a<o;a++)55296===(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320===(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)55296===(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320===(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},Ut=function(e,t){var n,r,a=t||e.length,i=new Array(2*a);for(r=0,n=0;n<a;){var o=e[n++];if(o<128)i[r++]=o;else{var l=ht[o];if(l>4)i[r++]=65533,n+=l-1;else{for(o&=2===l?31:3===l?15:7;l>1&&n<a;)o=o<<6|63&e[n++],l--;l>1?i[r++]=65533:o<65536?i[r++]=o:(o-=65536,i[r++]=55296|o>>10&1023,i[r++]=56320|1023&o)}}}return function(e,t){if(t<65534&&e.subarray&&ft)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}(i,r)},mt=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+ht[e[n]]>t?n:t};var gt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},bt=Object.prototype.toString,yt=fe.Z_NO_FLUSH,xt=fe.Z_SYNC_FLUSH,wt=fe.Z_FULL_FLUSH,At=fe.Z_FINISH,Et=fe.Z_OK,kt=fe.Z_STREAM_END,St=fe.Z_DEFAULT_COMPRESSION,Mt=fe.Z_DEFAULT_STRATEGY,Ct=fe.Z_DEFLATED;function jt(e){this.options=dt({level:St,method:Ct,chunkSize:16384,windowBits:15,memLevel:8,strategy:Mt},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gt,this.strm.avail_out=0;var n=st.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Et)throw new Error(ue[n]);if(t.header&&st.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"===typeof t.dictionary?vt(t.dictionary):"[object ArrayBuffer]"===bt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=st.deflateSetDictionary(this.strm,r))!==Et)throw new Error(ue[n]);this._dict_set=!0}}function It(e,t){var n=new jt(t);if(n.push(e,!0),n.err)throw n.msg||ue[n.err];return n.result}jt.prototype.push=function(e,t){var n,r,a=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?At:yt,"string"===typeof e?a.input=vt(e):"[object ArrayBuffer]"===bt.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(r===xt||r===wt)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if((n=st.deflate(a,r))===kt)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),n=st.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Et;if(0!==a.avail_out){if(r>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},jt.prototype.onData=function(e){this.chunks.push(e)},jt.prototype.onEnd=function(e){e===Et&&(this.result=ut(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Dt={Deflate:jt,deflate:It,deflateRaw:function(e,t){return(t=t||{}).raw=!0,It(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,It(e,t)},constants:fe},Tt=function(e,t){var n,r,a,i,o,l,s,c,d,u,f,h,p,v,U,m,g,b,y,x,w,A,E,k,S=e.state;n=e.next_in,E=e.input,r=n+(e.avail_in-5),a=e.next_out,k=e.output,i=a-(t-e.avail_out),o=a+(e.avail_out-257),l=S.dmax,s=S.wsize,c=S.whave,d=S.wnext,u=S.window,f=S.hold,h=S.bits,p=S.lencode,v=S.distcode,U=(1<<S.lenbits)-1,m=(1<<S.distbits)-1;e:do{h<15&&(f+=E[n++]<<h,h+=8,f+=E[n++]<<h,h+=8),g=p[f&U];t:for(;;){if(f>>>=b=g>>>24,h-=b,0===(b=g>>>16&255))k[a++]=65535&g;else{if(!(16&b)){if(0===(64&b)){g=p[(65535&g)+(f&(1<<b)-1)];continue t}if(32&b){S.mode=12;break e}e.msg="invalid literal/length code",S.mode=30;break e}y=65535&g,(b&=15)&&(h<b&&(f+=E[n++]<<h,h+=8),y+=f&(1<<b)-1,f>>>=b,h-=b),h<15&&(f+=E[n++]<<h,h+=8,f+=E[n++]<<h,h+=8),g=v[f&m];n:for(;;){if(f>>>=b=g>>>24,h-=b,!(16&(b=g>>>16&255))){if(0===(64&b)){g=v[(65535&g)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",S.mode=30;break e}if(x=65535&g,h<(b&=15)&&(f+=E[n++]<<h,(h+=8)<b&&(f+=E[n++]<<h,h+=8)),(x+=f&(1<<b)-1)>l){e.msg="invalid distance too far back",S.mode=30;break e}if(f>>>=b,h-=b,x>(b=a-i)){if((b=x-b)>c&&S.sane){e.msg="invalid distance too far back",S.mode=30;break e}if(w=0,A=u,0===d){if(w+=s-b,b<y){y-=b;do{k[a++]=u[w++]}while(--b);w=a-x,A=k}}else if(d<b){if(w+=s+d-b,(b-=d)<y){y-=b;do{k[a++]=u[w++]}while(--b);if(w=0,d<y){y-=b=d;do{k[a++]=u[w++]}while(--b);w=a-x,A=k}}}else if(w+=d-b,b<y){y-=b;do{k[a++]=u[w++]}while(--b);w=a-x,A=k}for(;y>2;)k[a++]=A[w++],k[a++]=A[w++],k[a++]=A[w++],y-=3;y&&(k[a++]=A[w++],y>1&&(k[a++]=A[w++]))}else{w=a-x;do{k[a++]=k[w++],k[a++]=k[w++],k[a++]=k[w++],y-=3}while(y>2);y&&(k[a++]=k[w++],y>1&&(k[a++]=k[w++]))}break}}break}}while(n<r&&a<o);n-=y=h>>3,f&=(1<<(h-=y<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<o?o-a+257:257-(a-o),S.hold=f,S.bits=h},_t=15,Lt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Rt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Pt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Nt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ft=function(e,t,n,r,a,i,o,l){var s,c,d,u,f,h,p,v,U,m=l.bits,g=0,b=0,y=0,x=0,w=0,A=0,E=0,k=0,S=0,M=0,C=null,j=0,I=new Uint16Array(16),D=new Uint16Array(16),T=null,_=0;for(g=0;g<=_t;g++)I[g]=0;for(b=0;b<r;b++)I[t[n+b]]++;for(w=m,x=_t;x>=1&&0===I[x];x--);if(w>x&&(w=x),0===x)return a[i++]=20971520,a[i++]=20971520,l.bits=1,0;for(y=1;y<x&&0===I[y];y++);for(w<y&&(w=y),k=1,g=1;g<=_t;g++)if(k<<=1,(k-=I[g])<0)return-1;if(k>0&&(0===e||1!==x))return-1;for(D[1]=0,g=1;g<_t;g++)D[g+1]=D[g]+I[g];for(b=0;b<r;b++)0!==t[n+b]&&(o[D[t[n+b]]++]=b);if(0===e?(C=T=o,h=19):1===e?(C=Lt,j-=257,T=Rt,_-=257,h=256):(C=Pt,T=Nt,h=-1),M=0,b=0,g=y,f=i,A=w,E=0,d=-1,u=(S=1<<w)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){p=g-E,o[b]<h?(v=0,U=o[b]):o[b]>h?(v=T[_+o[b]],U=C[j+o[b]]):(v=96,U=0),s=1<<g-E,y=c=1<<A;do{a[f+(M>>E)+(c-=s)]=p<<24|v<<16|U}while(0!==c);for(s=1<<g-1;M&s;)s>>=1;if(0!==s?(M&=s-1,M+=s):M=0,b++,0===--I[g]){if(g===x)break;g=t[n+o[b]]}if(g>w&&(M&u)!==d){for(0===E&&(E=w),f+=y,k=1<<(A=g-E);A+E<x&&!((k-=I[A+E])<=0);)A++,k<<=1;if(S+=1<<A,1===e&&S>852||2===e&&S>592)return 1;a[d=M&u]=w<<24|A<<16|f-i}}return 0!==M&&(a[f+M]=g-E<<24|64<<16),l.bits=w,0},Ot=fe.Z_FINISH,zt=fe.Z_BLOCK,Bt=fe.Z_TREES,Ht=fe.Z_OK,Wt=fe.Z_STREAM_END,Xt=fe.Z_NEED_DICT,Gt=fe.Z_STREAM_ERROR,Vt=fe.Z_DATA_ERROR,Yt=fe.Z_MEM_ERROR,Zt=fe.Z_BUF_ERROR,Kt=fe.Z_DEFLATED,qt=12,$t=30,Qt=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function Jt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var en,tn,nn=function(e){if(!e||!e.state)return Gt;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Ht},rn=function(e){if(!e||!e.state)return Gt;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,nn(e)},an=function(e,t){var n;if(!e||!e.state)return Gt;var r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Gt:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,rn(e))},on=function(e,t){if(!e)return Gt;var n=new Jt;e.state=n,n.window=null;var r=an(e,t);return r!==Ht&&(e.state=null),r},ln=!0,sn=function(e){if(ln){en=new Int32Array(512),tn=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ft(1,e.lens,0,288,en,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ft(2,e.lens,0,32,tn,0,e.work,{bits:5}),ln=!1}e.lencode=en,e.lenbits=9,e.distcode=tn,e.distbits=5},cn=function(e,t,n,r){var a,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):((a=i.wsize-i.wnext)>r&&(a=r),i.window.set(t.subarray(n-r,n-r+a),i.wnext),(r-=a)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},dn={inflateReset:rn,inflateReset2:an,inflateResetKeep:nn,inflateInit:function(e){return on(e,15)},inflateInit2:on,inflate:function(e,t){var n,r,a,i,o,l,s,c,d,u,f,h,p,v,U,m,g,b,y,x,w,A,E,k,S=0,M=new Uint8Array(4),C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Gt;(n=e.state).mode===qt&&(n.mode=13),o=e.next_out,a=e.output,s=e.avail_out,i=e.next_in,r=e.input,l=e.avail_in,c=n.hold,d=n.bits,u=l,f=s,A=Ht;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;d<16;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}if(2&n.wrap&&35615===c){n.check=0,M[0]=255&c,M[1]=c>>>8&255,n.check=de(n.check,M,2,0),c=0,d=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=$t;break}if((15&c)!==Kt){e.msg="unknown compression method",n.mode=$t;break}if(d-=4,w=8+(15&(c>>>=4)),0===n.wbits)n.wbits=w;else if(w>n.wbits){e.msg="invalid window size",n.mode=$t;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:qt,c=0,d=0;break;case 2:for(;d<16;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}if(n.flags=c,(255&n.flags)!==Kt){e.msg="unknown compression method",n.mode=$t;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=$t;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(M[0]=255&c,M[1]=c>>>8&255,n.check=de(n.check,M,2,0)),c=0,d=0,n.mode=3;case 3:for(;d<32;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&(M[0]=255&c,M[1]=c>>>8&255,M[2]=c>>>16&255,M[3]=c>>>24&255,n.check=de(n.check,M,4,0)),c=0,d=0,n.mode=4;case 4:for(;d<16;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(M[0]=255&c,M[1]=c>>>8&255,n.check=de(n.check,M,2,0)),c=0,d=0,n.mode=5;case 5:if(1024&n.flags){for(;d<16;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(M[0]=255&c,M[1]=c>>>8&255,n.check=de(n.check,M,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((h=n.length)>l&&(h=l),h&&(n.head&&(w=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+h),w)),512&n.flags&&(n.check=de(n.check,r,h,i)),l-=h,i+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===l)break e;h=0;do{w=r[i+h++],n.head&&w&&n.length<65536&&(n.head.name+=String.fromCharCode(w))}while(w&&h<l);if(512&n.flags&&(n.check=de(n.check,r,h,i)),l-=h,i+=h,w)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===l)break e;h=0;do{w=r[i+h++],n.head&&w&&n.length<65536&&(n.head.comment+=String.fromCharCode(w))}while(w&&h<l);if(512&n.flags&&(n.check=de(n.check,r,h,i)),l-=h,i+=h,w)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;d<16;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=$t;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=qt;break;case 10:for(;d<32;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}e.adler=n.check=Qt(c),c=0,d=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=o,e.avail_out=s,e.next_in=i,e.avail_in=l,n.hold=c,n.bits=d,Xt;e.adler=n.check=1,n.mode=qt;case qt:if(t===zt||t===Bt)break e;case 13:if(n.last){c>>>=7&d,d-=7&d,n.mode=27;break}for(;d<3;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}switch(n.last=1&c,d-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(sn(n),n.mode=20,t===Bt){c>>>=2,d-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=$t}c>>>=2,d-=2;break;case 14:for(c>>>=7&d,d-=7&d;d<32;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=$t;break}if(n.length=65535&c,c=0,d=0,n.mode=15,t===Bt)break e;case 15:n.mode=16;case 16:if(h=n.length){if(h>l&&(h=l),h>s&&(h=s),0===h)break e;a.set(r.subarray(i,i+h),o),l-=h,i+=h,s-=h,o+=h,n.length-=h;break}n.mode=qt;break;case 17:for(;d<14;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=$t;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;d<3;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}n.lens[C[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E={bits:n.lenbits},A=Ft(0,n.lens,0,19,n.lencode,0,n.work,E),n.lenbits=E.bits,A){e.msg="invalid code lengths set",n.mode=$t;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;m=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,g=65535&S,!((U=S>>>24)<=d);){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}if(g<16)c>>>=U,d-=U,n.lens[n.have++]=g;else{if(16===g){for(k=U+2;d<k;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}if(c>>>=U,d-=U,0===n.have){e.msg="invalid bit length repeat",n.mode=$t;break}w=n.lens[n.have-1],h=3+(3&c),c>>>=2,d-=2}else if(17===g){for(k=U+3;d<k;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}d-=U,w=0,h=3+(7&(c>>>=U)),c>>>=3,d-=3}else{for(k=U+7;d<k;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}d-=U,w=0,h=11+(127&(c>>>=U)),c>>>=7,d-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=$t;break}for(;h--;)n.lens[n.have++]=w}}if(n.mode===$t)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=$t;break}if(n.lenbits=9,E={bits:n.lenbits},A=Ft(1,n.lens,0,n.nlen,n.lencode,0,n.work,E),n.lenbits=E.bits,A){e.msg="invalid literal/lengths set",n.mode=$t;break}if(n.distbits=6,n.distcode=n.distdyn,E={bits:n.distbits},A=Ft(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E),n.distbits=E.bits,A){e.msg="invalid distances set",n.mode=$t;break}if(n.mode=20,t===Bt)break e;case 20:n.mode=21;case 21:if(l>=6&&s>=258){e.next_out=o,e.avail_out=s,e.next_in=i,e.avail_in=l,n.hold=c,n.bits=d,Tt(e,f),o=e.next_out,a=e.output,s=e.avail_out,i=e.next_in,r=e.input,l=e.avail_in,c=n.hold,d=n.bits,n.mode===qt&&(n.back=-1);break}for(n.back=0;m=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,g=65535&S,!((U=S>>>24)<=d);){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}if(m&&0===(240&m)){for(b=U,y=m,x=g;m=(S=n.lencode[x+((c&(1<<b+y)-1)>>b)])>>>16&255,g=65535&S,!(b+(U=S>>>24)<=d);){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}c>>>=b,d-=b,n.back+=b}if(c>>>=U,d-=U,n.back+=U,n.length=g,0===m){n.mode=26;break}if(32&m){n.back=-1,n.mode=qt;break}if(64&m){e.msg="invalid literal/length code",n.mode=$t;break}n.extra=15&m,n.mode=22;case 22:if(n.extra){for(k=n.extra;d<k;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;m=(S=n.distcode[c&(1<<n.distbits)-1])>>>16&255,g=65535&S,!((U=S>>>24)<=d);){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}if(0===(240&m)){for(b=U,y=m,x=g;m=(S=n.distcode[x+((c&(1<<b+y)-1)>>b)])>>>16&255,g=65535&S,!(b+(U=S>>>24)<=d);){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}c>>>=b,d-=b,n.back+=b}if(c>>>=U,d-=U,n.back+=U,64&m){e.msg="invalid distance code",n.mode=$t;break}n.offset=g,n.extra=15&m,n.mode=24;case 24:if(n.extra){for(k=n.extra;d<k;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=$t;break}n.mode=25;case 25:if(0===s)break e;if(h=f-s,n.offset>h){if((h=n.offset-h)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=$t;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),v=n.window}else v=a,p=o-n.offset,h=n.length;h>s&&(h=s),s-=h,n.length-=h;do{a[o++]=v[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===s)break e;a[o++]=n.length,s--,n.mode=21;break;case 27:if(n.wrap){for(;d<32;){if(0===l)break e;l--,c|=r[i++]<<d,d+=8}if(f-=s,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?de(n.check,a,f,o-f):se(n.check,a,f,o-f)),f=s,(n.flags?c:Qt(c))!==n.check){e.msg="incorrect data check",n.mode=$t;break}c=0,d=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;d<32;){if(0===l)break e;l--,c+=r[i++]<<d,d+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=$t;break}c=0,d=0}n.mode=29;case 29:A=Wt;break e;case $t:A=Vt;break e;case 31:return Yt;default:return Gt}return e.next_out=o,e.avail_out=s,e.next_in=i,e.avail_in=l,n.hold=c,n.bits=d,(n.wsize||f!==e.avail_out&&n.mode<$t&&(n.mode<27||t!==Ot))&&cn(e,e.output,e.next_out,f-e.avail_out),u-=e.avail_in,f-=e.avail_out,e.total_in+=u,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?de(n.check,a,f,e.next_out-f):se(n.check,a,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===qt?128:0)+(20===n.mode||15===n.mode?256:0),(0===u&&0===f||t===Ot)&&A===Ht&&(A=Zt),A},inflateEnd:function(e){if(!e||!e.state)return Gt;var t=e.state;return t.window&&(t.window=null),e.state=null,Ht},inflateGetHeader:function(e,t){if(!e||!e.state)return Gt;var n=e.state;return 0===(2&n.wrap)?Gt:(n.head=t,t.done=!1,Ht)},inflateSetDictionary:function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?Gt:11===n.mode&&se(1,t,r,0)!==n.check?Vt:cn(e,t,r,r)?(n.mode=31,Yt):(n.havedict=1,Ht):Gt},inflateInfo:"pako inflate (from Nodeca project)"};var un=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},fn=Object.prototype.toString,hn=fe.Z_NO_FLUSH,pn=fe.Z_FINISH,vn=fe.Z_OK,Un=fe.Z_STREAM_END,mn=fe.Z_NEED_DICT,gn=fe.Z_STREAM_ERROR,bn=fe.Z_DATA_ERROR,yn=fe.Z_MEM_ERROR;function xn(e){this.options=dt({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gt,this.strm.avail_out=0;var n=dn.inflateInit2(this.strm,t.windowBits);if(n!==vn)throw new Error(ue[n]);if(this.header=new un,dn.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=vt(t.dictionary):"[object ArrayBuffer]"===fn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=dn.inflateSetDictionary(this.strm,t.dictionary))!==vn))throw new Error(ue[n])}function wn(e,t){var n=new xn(t);if(n.push(e),n.err)throw n.msg||ue[n.err];return n.result}xn.prototype.push=function(e,t){var n,r,a,i=this.strm,o=this.options.chunkSize,l=this.options.dictionary;if(this.ended)return!1;for(r=t===~~t?t:!0===t?pn:hn,"[object ArrayBuffer]"===fn.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(n=dn.inflate(i,r))===mn&&l&&((n=dn.inflateSetDictionary(i,l))===vn?n=dn.inflate(i,r):n===bn&&(n=mn));i.avail_in>0&&n===Un&&i.state.wrap>0&&0!==e[i.next_in];)dn.inflateReset(i),n=dn.inflate(i,r);switch(n){case gn:case bn:case mn:case yn:return this.onEnd(n),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||n===Un))if("string"===this.options.to){var s=mt(i.output,i.next_out),c=i.next_out-s,d=Ut(i.output,s);i.next_out=c,i.avail_out=o-c,c&&i.output.set(i.output.subarray(s,s+c),0),this.onData(d)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(n!==vn||0!==a){if(n===Un)return n=dn.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},xn.prototype.onData=function(e){this.chunks.push(e)},xn.prototype.onEnd=function(e){e===vn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ut(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var An={Inflate:xn,inflate:wn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,wn(e,t)},ungzip:wn,constants:fe},En=Dt.deflate,kn=An.inflate,Sn=n(90782),Mn=n(96772),Cn=n(43088),jn=n(76277),In=n(49095);function Dn(e,t,n){return e*(arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e})(.5-t*(.5-n))}function Tn(e,t){return[e[0]+t[0],e[1]+t[1]]}function _n(e,t){return[e[0]-t[0],e[1]-t[1]]}function Ln(e,t){return[e[0]*t,e[1]*t]}function Rn(e){return[e[1],-e[0]]}function Pn(e,t){return e[0]*t[0]+e[1]*t[1]}function Nn(e,t){return e[0]===t[0]&&e[1]===t[1]}function Fn(e,t){return function(e){return e[0]*e[0]+e[1]*e[1]}(_n(e,t))}function On(e){return function(e,t){return[e[0]/t,e[1]/t]}(e,function(e){return Math.hypot(e[0],e[1])}(e))}function zn(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function Bn(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=e[0]-t[0],o=e[1]-t[1],l=i*r+o*a;return[i*a-o*r+t[0],l+t[1]]}function Hn(e,t,n){return Tn(e,Ln(_n(t,e),n))}function Wn(e,t,n){return Tn(e,Ln(t,n))}var Xn=Math.min,Gn=Math.PI,Vn=Gn+1e-4;function Yn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.size,r=void 0===n?16:n,a=t.smoothing,i=void 0===a?.5:a,o=t.thinning,l=void 0===o?.5:o,s=t.simulatePressure,c=void 0===s||s,d=t.easing,u=void 0===d?function(e){return e}:d,f=t.start,h=void 0===f?{}:f,p=t.end,v=void 0===p?{}:p,U=t.last,m=void 0!==U&&U,g=h.cap,b=void 0===g||g,y=h.easing,x=void 0===y?function(e){return e*(2-e)}:y,w=v.cap,A=void 0===w||w,E=v.easing,k=void 0===E?function(e){return--e*e*e+1}:E;if(0===e.length||r<=0)return[];for(var S,M=e[e.length-1].runningLength,C=!1===h.taper?0:!0===h.taper?Math.max(r,M):h.taper,j=!1===v.taper?0:!0===v.taper?Math.max(r,M):v.taper,I=Math.pow(r*i,2),D=[],T=[],_=e.slice(0,10).reduce((function(e,t){var n=t.pressure;if(c){var a=Xn(1,t.distance/r),i=Xn(1,1-a);n=Xn(1,e+.275*a*(i-e))}return(e+n)/2}),e[0].pressure),L=Dn(r,l,e[e.length-1].pressure,u),R=e[0].vector,P=e[0].point,N=P,F=P,O=N,z=!1,B=0;B<e.length;B++){var H=e[B].pressure,W=e[B],X=W.point,G=W.vector,V=W.distance,Y=W.runningLength;if(!(B<e.length-1&&M-Y<3)){if(l){if(c){var Z=Xn(1,V/r),K=Xn(1,1-Z);H=Xn(1,_+.275*Z*(K-_))}L=Dn(r,l,H,u)}else L=r/2;void 0===S&&(S=L);var q=Y<C?x(Y/C):1,$=M-Y<j?k((M-Y)/j):1;L=Math.max(.01,L*Math.min(q,$));var Q=(B<e.length-1?e[B+1]:e[B]).vector,J=B<e.length-1?Pn(G,Q):1,ee=null!==J&&J<0;if(Pn(G,R)<0&&!z||ee){for(var te=Ln(Rn(R),L),ne=1/13,re=0;re<=1;re+=ne)F=Bn(_n(X,te),X,Vn*re),D.push(F),O=Bn(Tn(X,te),X,Vn*-re),T.push(O);P=F,N=O,ee&&(z=!0)}else if(z=!1,B!==e.length-1){var ae=Ln(Rn(Hn(Q,G,J)),L);F=_n(X,ae),(B<=1||Fn(P,F)>I)&&(D.push(F),P=F),O=Tn(X,ae),(B<=1||Fn(N,O)>I)&&(T.push(O),N=O),_=H,R=G}else{var ie=Ln(Rn(G),L);D.push(_n(X,ie)),T.push(Tn(X,ie))}}}var oe=e[0].point.slice(0,2),le=e.length>1?e[e.length-1].point.slice(0,2):Tn(e[0].point,[1,1]),se=[],ce=[];if(1===e.length){if(!C&&!j||m){for(var de=Wn(oe,On(Rn(_n(oe,le))),-(S||L)),ue=[],fe=1/13,he=fe;he<=1;he+=fe)ue.push(Bn(de,oe,2*Vn*he));return ue}}else{if(!(C||j&&1===e.length))if(b)for(var pe=1/13,ve=pe;ve<=1;ve+=pe){var Ue=Bn(T[0],oe,Vn*ve);se.push(Ue)}else{var me=_n(D[0],T[0]),ge=Ln(me,.5),be=Ln(me,.51);se.push(_n(oe,ge),_n(oe,be),Tn(oe,be),Tn(oe,ge))}var ye=Rn(function(e){return[-e[0],-e[1]]}(e[e.length-1].vector));if(j||C&&1===e.length)ce.push(le);else if(A)for(var xe=Wn(le,ye,L),we=1/29,Ae=we;Ae<1;Ae+=we)ce.push(Bn(xe,le,3*Vn*Ae));else ce.push(Tn(le,Ln(ye,L)),Tn(le,Ln(ye,.99*L)),_n(le,Ln(ye,.99*L)),_n(le,Ln(ye,L)))}return D.concat(ce,T.reverse(),se)}(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.streamline,a=void 0===r?.5:r,i=n.size,o=void 0===i?16:i,l=n.last,s=void 0!==l&&l;if(0===e.length)return[];var c=.15+.85*(1-a),d=Array.isArray(e[0])?e:e.map((function(e){var t=e.x,n=e.y,r=e.pressure;return[t,n,void 0===r?.5:r]}));if(2===d.length){var u=d[1];d=d.slice(0,-1);for(var f=1;f<5;f++)d.push(Hn(d[0],u,f/4))}1===d.length&&(d=[].concat((0,h.A)(d),[[].concat((0,h.A)(Tn(d[0],[1,1])),(0,h.A)(d[0].slice(2)))]));for(var p=[{point:[d[0][0],d[0][1]],pressure:d[0][2]>=0?d[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],v=!1,U=0,m=p[0],g=d.length-1,b=1;b<d.length;b++){var y=s&&b===g?d[b].slice(0,2):Hn(m.point,d[b],c);if(!Nn(m.point,y)){var x=zn(y,m.point);if(U+=x,b<g&&!v){if(U<o)continue;v=!0}m={point:y,pressure:d[b][2]>=0?d[b][2]:.5,vector:On(_n(m.point,y)),distance:x,runningLength:U},p.push(m)}}return p[0].vector=(null==(t=p[1])?void 0:t.vector)||[0,0],p}(e,t),t)}var Zn=n(57456),Kn=n(9950),qn=n(2803),$n=n(44414);function Qn(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function Jn(e,t,n){var r=Qn(t,n);if(0===r)return Qn(e,t);var a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return Qn(e,er(t,n,a=Math.max(0,Math.min(1,a))))}function er(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function tr(e,t,n,r){var a=r||[];if(function(e,t){var n=e[t+0],r=e[t+1],a=e[t+2],i=e[t+3],o=3*r[0]-2*n[0]-i[0];o*=o;var l=3*r[1]-2*n[1]-i[1];l*=l;var s=3*a[0]-2*i[0]-n[0];s*=s;var c=3*a[1]-2*i[1]-n[1];return o<s&&(o=s),l<(c*=c)&&(l=c),o+l}(e,t)<n){var i=e[t+0];if(a.length){var o=function(e,t){return Math.sqrt(Qn(e,t))}(a[a.length-1],i);o>1&&a.push(i)}else a.push(i);a.push(e[t+3])}else{var l=.5,s=e[t+0],c=e[t+1],d=e[t+2],u=e[t+3],f=er(s,c,l),h=er(c,d,l),p=er(d,u,l),v=er(f,h,l),U=er(h,p,l),m=er(v,U,l);tr([s,f,v,m],0,n,a),tr([m,U,p,u],0,n,a)}return a}function nr(e,t,n,r,a){for(var i=a||[],o=e[t],l=e[n-1],s=0,c=1,d=t+1;d<n-1;++d){var u=Jn(e[d],o,l);u>s&&(s=u,c=d)}return Math.sqrt(s)>r?(nr(e,t,c+1,r,i),nr(e,c,n,r,i)):(i.length||i.push(o),i.push(l)),i}var rr=n(83144),ar=n(33151),ir=n(87695),or="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function lr(e,t,n){var r=n[0];if(null!=t&&e>=t)throw new Error(e+" >= "+t);if(e.slice(-1)===r||t&&t.slice(-1)===r)throw new Error("trailing zero");if(t){for(var a=0;(e[a]||r)===t[a];)a++;if(a>0)return t.slice(0,a)+lr(e.slice(a),t.slice(a),n)}var i=e?n.indexOf(e[0]):0,o=null!=t?n.indexOf(t[0]):n.length;return o-i>1?n[Math.round(.5*(i+o))]:t&&t.length>1?t.slice(0,1):n[i]+lr(e.slice(1),null,n)}function sr(e){if(e.length!==cr(e[0]))throw new Error("invalid integer part of order key: "+e)}function cr(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-"a".charCodeAt(0)+2;if(e>="A"&&e<="Z")return"Z".charCodeAt(0)-e.charCodeAt(0)+2;throw new Error("invalid order key head: "+e)}function dr(e){var t=cr(e[0]);if(t>e.length)throw new Error("invalid order key: "+e);return e.slice(0,t)}function ur(e,t){if(e==="A"+t[0].repeat(26))throw new Error("invalid order key: "+e);var n=dr(e);if(e.slice(n.length).slice(-1)===t[0])throw new Error("invalid order key: "+e)}function fr(e,t){sr(e);for(var n=e.split(""),r=(0,ir.A)(n),a=r[0],i=r.slice(1),o=!0,l=i.length-1;o&&l>=0;l--){var s=t.indexOf(i[l])+1;s===t.length?i[l]=t[0]:(i[l]=t[s],o=!1)}if(o){if("Z"===a)return"a"+t[0];if("z"===a)return null;var c=String.fromCharCode(a.charCodeAt(0)+1);return c>"a"?i.push(t[0]):i.pop(),c+i.join("")}return a+i.join("")}function hr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:or;if(null!=e&&ur(e,n),null!=t&&ur(t,n),null!=e&&null!=t&&e>=t)throw new Error(e+" >= "+t);if(null==e){if(null==t)return"a"+n[0];var r=dr(t),a=t.slice(r.length);if(r==="A"+n[0].repeat(26))return r+lr("",a,n);if(r<t)return r;var i=function(e,t){sr(e);for(var n=e.split(""),r=(0,ir.A)(n),a=r[0],i=r.slice(1),o=!0,l=i.length-1;o&&l>=0;l--){var s=t.indexOf(i[l])-1;-1===s?i[l]=t.slice(-1):(i[l]=t[s],o=!1)}if(o){if("a"===a)return"Z"+t.slice(-1);if("A"===a)return null;var c=String.fromCharCode(a.charCodeAt(0)-1);return c<"Z"?i.push(t.slice(-1)):i.pop(),c+i.join("")}return a+i.join("")}(r,n);if(null==i)throw new Error("cannot decrement any more");return i}if(null==t){var o=dr(e),l=e.slice(o.length),s=fr(o,n);return null==s?o+lr(l,null,n):s}var c=dr(e),d=e.slice(c.length),u=dr(t),f=t.slice(u.length);if(c===u)return c+lr(d,f,n);var h=fr(c,n);if(null==h)throw new Error("cannot increment any more");return h<t?h:c+lr(d,null,n)}function pr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:or;if(0===n)return[];if(1===n)return[hr(e,t,r)];if(null==t){for(var a=hr(e,t,r),i=[a],o=0;o<n-1;o++)a=hr(a,t,r),i.push(a);return i}if(null==e){for(var l=hr(e,t,r),s=[l],c=0;c<n-1;c++)l=hr(e,l,r),s.push(l);return s.reverse(),s}var d=Math.floor(n/2),u=hr(e,t,r);return[].concat((0,h.A)(pr(e,u,d,r)),[u],(0,h.A)(pr(u,t,n-d-1,r)))}var vr=function(){if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top}catch(Kg){return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),Ur=vr?n.e(8431).then(n.bind(n,48431)):n.e(196).then(n.bind(n,80196));function mr(){return mr=(0,d.A)((0,c.A)().mark((function e(){var t,n=arguments;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),mr.apply(this,arguments)}vr?n.e(2682).then(n.bind(n,22682)):n.e(6930).then(n.bind(n,56930));var gr=vr?n.e(6655).then(n.bind(n,46655)):n.e(9743).then(n.bind(n,59743));function br(){return br=(0,d.A)((0,c.A)().mark((function e(){var t,n=arguments;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gr;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}var yr=n(85224),xr=["width","height","mirror","style"],wr=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","frameId","index","roundness","boundElements","link","locked"],Ar=["selectedElementIds","selectedGroupIds","selectedLinearElementId","editingLinearElementId"],Er=["editingGroupId","selectedGroupIds","selectedElementIds","editingLinearElementId","selectedLinearElementId","croppingElementId"],kr=["name","viewBackgroundColor"],Sr=["boundElements"],Mr=["index"],Cr=["id","updated","version","versionNonce","seed"],jr=["startHeading","endHeading","startGlobalPoint","endGlobalPoint","hoveredStartElement","hoveredEndElement"],Ir=["startHeading","endHeading","startGlobalPoint","endGlobalPoint","hoveredStartElement","hoveredEndElement"],Dr=["rotation"],Tr=["boundTextFontSize"],_r=5,Lr=5,Rr=4,Pr=1,Nr=[0,2,4,6,8],Fr=function(e,t){return t.map((function(t){return Sn[e][t]}))},Or={transparent:"transparent",black:"#1e1e1e",white:"#ffffff",gray:Fr("gray",Nr),red:Fr("red",Nr),pink:Fr("pink",Nr),grape:Fr("grape",Nr),violet:Fr("violet",Nr),blue:Fr("blue",Nr),cyan:Fr("cyan",Nr),teal:Fr("teal",Nr),green:Fr("green",Nr),yellow:Fr("yellow",Nr),orange:Fr("orange",Nr),bronze:["#f8f1ee","#eaddd7","#d2bab0","#a18072","#846358"]},zr=function(e,t){return t.reduce((function(t,n){return n in e&&(t[n]=e[n]),t}),{})}(Or,["cyan","blue","violet","grape","pink","green","teal","yellow","orange","red"]),Br=[Or.black,Or.red[Rr],Or.green[Rr],Or.blue[Rr],Or.yellow[Rr]],Hr=[Or.transparent,Or.red[Pr],Or.green[Pr],Or.blue[Pr],Or.yellow[Pr]],Wr=[Or.white,"#f8f9fa","#f5faff","#fffce8","#fdf8f6"],Xr=(0,v.A)({transparent:Or.transparent,white:Or.white,gray:Or.gray,black:Or.black,bronze:Or.bronze},zr),Gr=(0,v.A)({transparent:Or.transparent,white:Or.white,gray:Or.gray,black:Or.black,bronze:Or.bronze},zr),Vr=function(e,t,n){return"#".concat(((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1))},Yr=/Mac|iPod|iPhone|iPad/.test(navigator.platform),Zr=/^Win/.test(navigator.platform),Kr=/\b(android)\b/i.test(navigator.userAgent),qr="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,$r=!(-1!==navigator.userAgent.indexOf("Chrome"))&&-1!==navigator.userAgent.indexOf("Safari"),Qr=/iPad|iPhone/.test(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,Jr=function(){var e;return"isBrave"===(null===(e=navigator.brave)||void 0===e||null===(e=e.isBrave)||void 0===e?void 0:e.name)},ea=typeof window<"u"&&"ResizeObserver"in window,ta="Excalidraw",na=10,ra=8,aa=5,ia=1,oa=30,la=Math.PI/12,sa="red",ca={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},da={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1,ERASER:5},ua={enabled:"all",disabled:"none",inheritFromUI:"var(--ui-pointerEvents)"},fa={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},ha={TEST:"test",DEVELOPMENT:"development"},pa={SHAPE_ACTIONS_MENU:"App-menu__left",ZOOM_ACTIONS:"zoom-actions",SEARCH_MENU_INPUT_WRAPPER:"layer-ui__search-inputWrapper"},va="Xiaolai",Ua="Segoe UI Emoji",ma={Virgil:1,Helvetica:2,Cascadia:3,Excalifont:5,Nunito:6,"Lilita One":7,"Comic Shanns":8,"Liberation Sans":9},ga=(0,p.default)((0,p.default)({},va,100),Ua,1e3),ba=function(e){return e===ma.Excalifont?[va,Ua]:[Ua]},ya={LIGHT:"light",DARK:"dark"},xa={strokeColor:"#bbb",strokeWidth:2,strokeStyle:"solid",fillStyle:"solid",roughness:0,roundness:null,backgroundColor:"transparent",radius:8,nameOffsetY:3,nameColorLightTheme:"#999999",nameColorDarkTheme:"#7a7a7a",nameFontSize:14,nameLineHeight:1.25},wa=20,Aa=ma.Excalifont,Ea="left",ka="top",Sa=2,Ma=2*Sa,Ca=2*Ma-1e-5,ja="#ffffff",Ia="#1e1e1e",Da="#a2f1a6",Ta=20,_a={svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",avif:"image/avif",jfif:"image/jfif"},La=(0,v.A)({text:"text/plain",html:"text/html",json:"application/json",excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json","excalidraw.svg":"image/svg+xml","excalidraw.png":"image/png",binary:"application/octet-stream"},_a),Ra=[La.text,La.html].concat((0,h.A)(Object.values(_a))),Pa={png:"png",svg:"svg",clipboard:"clipboard"},Na={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib",excalidrawClipboardWithAPI:"excalidraw-api/clipboard"},Fa=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,Oa=500,za=300,Ba=500,Ha=100,Wa=.1,Xa=.1,Ga=30,Va=300,Ya="invert(93%) hue-rotate(180deg)",Za={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0},tools:{image:!0}},Ka=730,qa=1e3,$a=500,Qa=1229,Ja=[1,2,3],ei=10,ti=1440,ni=4194304,ri="http://www.w3.org/2000/svg",ai={excalidraw:2,excalidrawLibrary:2},ii=5,oi={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},li={LEFT:"left",CENTER:"center",RIGHT:"right"},si=.25,ci={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},di=1,ui=2,fi={thin:1,bold:2,extraBold:4},hi={strokeColor:Or.black,backgroundColor:Or.transparent,fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:di,opacity:100,locked:!1},pi="library",vi="search",Ui={name:"default",defaultTab:pi},mi=new Set(["iframe","embeddable","image"]),gi={selection:"selection",rectangle:"rectangle",diamond:"diamond",ellipse:"ellipse",arrow:"arrow",line:"line",freedraw:"freedraw",text:"text",image:"image",eraser:"eraser",hand:"hand",frame:"frame",magicframe:"magicframe",embeddable:"embeddable",laser:"laser"},bi={OAI_API_KEY:"excalidraw-oai-api-key",MERMAID_TO_EXCALIDRAW:"mermaid-to-excalidraw",PUBLISH_LIBRARY:"publish-library-data"},yi="Untitled",xi={generalStats:1,elementProperties:2},wi=1,Ai={sharp:"sharp",round:"round",elbow:"elbow"},Ei=.3,ki="element",Si=Symbol.for("__test__originalId__"),Mi=function(e){return e.ACTIVE="active",e.AWAY="away",e.IDLE="idle",e}(Mi||{}),Ci=Ja.includes(devicePixelRatio)?devicePixelRatio:1,ji=function(){return{showWelcomeScreen:!1,theme:ya.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:hi.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:hi.fillStyle,currentItemFontFamily:Aa,currentItemFontSize:wa,currentItemOpacity:hi.opacity,currentItemRoughness:hi.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:hi.strokeColor,currentItemRoundness:"round",currentItemArrowType:Ai.round,currentItemStrokeStyle:hi.strokeStyle,currentItemStrokeWidth:hi.strokeWidth,currentItemTextAlign:Ea,currentHoveredFontFamily:null,cursorButton:"up",activeEmbeddable:null,newElement:null,editingTextElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:hi.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:Ci,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:Ta,gridStep:5,gridModeEnabled:!1,isBindingEnabled:!0,defaultSidebarDockedPreference:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:null,contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},hoveredElementIds:{},selectedGroupIds:{},selectedElementsAreBeingDragged:!1,selectionElement:null,shouldCacheIgnoreZoom:!1,stats:{open:!1,panels:xi.generalStats|xi.elementProperties},startBoundElement:null,suggestedBindings:[],frameRendering:{enabled:!0,clip:!0,name:!0,outline:!0},frameToHighlight:null,editingFrame:null,elementsToHighlight:null,toast:null,viewBackgroundColor:Or.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null,snapLines:[],originSnapOffset:{x:0,y:0},objectsSnapModeEnabled:!1,userToFollow:null,followedBy:new Set,isCropping:!1,croppingElementId:null,searchMatches:[]}},Ii={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemArrowType:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},currentHoveredFontFamily:{browser:!1,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},activeEmbeddable:{browser:!1,export:!1,server:!1},newElement:{browser:!1,export:!1,server:!1},editingTextElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},gridStep:{browser:!0,export:!0,server:!0},gridModeEnabled:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},defaultSidebarDockedPreference:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},hoveredElementIds:{browser:!1,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectedElementsAreBeingDragged:{browser:!1,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},stats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},frameRendering:{browser:!1,export:!1,server:!1},frameToHighlight:{browser:!1,export:!1,server:!1},editingFrame:{browser:!1,export:!1,server:!1},elementsToHighlight:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1},snapLines:{browser:!1,export:!1,server:!1},originSnapOffset:{browser:!1,export:!1,server:!1},objectsSnapModeEnabled:{browser:!0,export:!1,server:!1},userToFollow:{browser:!1,export:!1,server:!1},followedBy:{browser:!1,export:!1,server:!1},isCropping:{browser:!1,export:!1,server:!1},croppingElementId:{browser:!1,export:!1,server:!1},searchMatches:{browser:!1,export:!1,server:!1}},Di=function(e,t){for(var n={},r=0,a=Object.keys(e);r<a.length;r++){var i,o=a[r];if(null!==(i=Ii[o])&&void 0!==i&&i[t]){var l=e[o];n[o]=l}}return n},Ti=function(e){return Di(e,"export")},_i=function(e){return Di(e,"server")},Li=function(e){return"eraser"===e.activeTool.type},Ri=function(e){return"hand"===e.activeTool.type},Pi=function(e,t,n){return Math.min(Math.max(e,t),n)},Ni=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"round",r=Math.pow(10,t);return Math[n]((e+Number.EPSILON)*r)/r},Fi=function(e,t){var n=1/t;return Math[arguments.length>2&&void 0!==arguments[2]?arguments[2]:"round"](e*n)/n},Oi=function(e,t){return(e+t)/2},zi=function(e){return"number"==typeof e&&Number.isFinite(e)},Bi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return Math.abs(e-t)<n},Hi=function(e){return e<0?e+2*Math.PI:e>=2*Math.PI?e-2*Math.PI:e};function Wi(e){return e*Math.PI/180}function Xi(e){return 180*e/Math.PI}function Gi(e,t){return[e-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),t-(arguments.length>3&&void 0!==arguments[3]?arguments[3]:0)]}function Vi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return Gi(e[0]-t[0],e[1]-t[1])}function Yi(e,t){return e[0]*t[1]-t[0]*e[1]}function Zi(e,t){return e[0]*t[0]+e[1]*t[1]}function Ki(e,t){return[e[0]+t[0],e[1]+t[1]]}function qi(e,t){return[e[0]-t[0],e[1]-t[1]]}function $i(e,t){return Gi(e[0]*t,e[1]*t)}var Qi=function(e){var t=function(e){return Math.sqrt(function(e){return e[0]*e[0]+e[1]*e[1]}(e))}(e);return 0===t?Gi(0,0):Gi(e[0]/t,e[1]/t)};function Ji(e,t){return[e,t]}function eo(e){return 2===e.length?Ji(e[0],e[1]):void 0}function to(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ji(0,0);return Ji(t[0]+e[0],t[1]+e[1])}function no(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&!isNaN(e[0])&&"number"==typeof e[1]&&!isNaN(e[1])}function ro(e,t){var n=Math.abs;return n(e[0]-t[0])<1e-4&&n(e[1]-t[1])<1e-4}function ao(e,t,n){var r=(0,f.A)(e,2),a=r[0],i=r[1],o=(0,f.A)(t,2),l=o[0],s=o[1];return Ji((a-l)*Math.cos(n)-(i-s)*Math.sin(n)+l,(a-l)*Math.sin(n)+(i-s)*Math.cos(n)+s)}function io(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return Ji(e[0]+t[0],e[1]+t[1])}function oo(e,t){return Ji((e[0]+t[0])/2,(e[1]+t[1])/2)}function lo(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1])}function so(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}var co=function(e,t,n){return io(t,$i(Vi(e,t),n))},uo=function(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])};function fo(e,t){return[e,t]}function ho(e,t){return[e,t]}var po=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4,r=vo(e,t);return 0===r||r<n},vo=function(e,t){var n,r,a=(0,f.A)(e,2),i=a[0],o=a[1],l=(0,f.A)(t,2),s=(0,f.A)(l[0],2),c=s[0],d=s[1],u=(0,f.A)(l[1],2),h=u[0],p=u[1],v=h-c,U=p-d,m=v*v+U*U,g=-1;0!==m&&(g=((i-c)*v+(o-d)*U)/m),g<0?(n=c,r=d):g>1?(n=h,r=p):(n=c+g*v,r=d+g*U);var b=i-n,y=o-r;return Math.sqrt(b*b+y*y)};function Uo(e,t){var n=function(e,t){var n=e[1][1]-e[0][1],r=e[0][0]-e[1][0],a=t[1][1]-t[0][1],i=t[0][0]-t[1][0],o=n*i-a*r;if(0!==o){var l=n*e[0][0]+r*e[0][1],s=a*t[0][0]+i*t[0][1];return Ji((l*i-s*r)/o,(n*s-a*l)/o)}return null}(fo(e[0],e[1]),fo(t[0],t[1]));return n&&po(n,t)&&po(n,e)?n:null}function mo(e,t){return[e,t]}function go(e,t,n,r){return[e,t,n,r]}function bo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return[(e(t+r,n)-e(t-r,n))/(2*r),(e(t,n+r)-e(t,n-r))/(2*r)]}var yo=function(e,t){return Ji(Math.pow(1-t,3)*e[0][0]+3*Math.pow(1-t,2)*t*e[1][0]+3*(1-t)*Math.pow(t,2)*e[2][0]+Math.pow(t,3)*e[3][0],Math.pow(1-t,3)*e[0][1]+3*Math.pow(1-t,2)*t*e[1][1]+3*(1-t)*Math.pow(t,2)*e[2][1]+Math.pow(t,3)*e[3][1])};function xo(e,t){var n=function(e){var t=(0,f.A)(e,4),n=t[0],r=t[1],a=t[2],i=t[3],o=[n[0],r[0],a[0],i[0]],l=[n[1],r[1],a[1],i[1]];return[Math.min.apply(Math,o),Math.min.apply(Math,l),Math.max.apply(Math,o),Math.max.apply(Math,l)]}(e);if(0===function(e,t){return[ho(e[0],Ji(e[1][0],e[0][1])),ho(Ji(e[1][0],e[0][1]),e[1]),ho(e[1],Ji(e[0][0],e[1][1])),ho(Ji(e[0][0],e[1][1]),e[0])].map((function(e){return Uo(t,e)})).filter((function(e){return!!e}))}(mo(Ji(n[0],n[1]),Ji(n[2],n[3])),t).length)return[];var r=[[.5,0],[.2,0],[.8,0]],a=function(n){var r=(0,f.A)(n,2),a=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,i=1/0,o=0;i>=r;){if(o>=a)return null;var l=e(t,n),s=[bo((function(t,n){return e(t,n)[0]}),t,n),bo((function(t,n){return e(t,n)[1]}),t,n)],c=[[-l[0]],[-l[1]]],d=s[0][0]*s[1][1]-s[0][1]*s[1][0];if(0===d)return null;var u=[[s[1][1]/d,-s[0][1]/d],[-s[1][0]/d,s[0][0]/d]],h=[[u[0][0]*c[0][0]+u[0][1]*c[1][0]],[u[1][0]*c[0][0]+u[1][1]*c[1][0]]];t+=h[0][0],n+=h[1][0];var p=e(t,n),v=(0,f.A)(p,2),U=v[0],m=v[1];i=Math.max(Math.abs(U),Math.abs(m)),o+=1}return[t,n]}((function(n,r){var a=yo(e,n),i=function(e){return Ji(t[0][0]+e*(t[1][0]-t[0][0]),t[0][1]+e*(t[1][1]-t[0][1]))}(r);return[a[0]-i[0],a[1]-i[1]]}),r[0],r[1]);if(!a)return null;var i=(0,f.A)(a,2),o=i[0],l=i[1];return o<0||o>1||l<0||l>1?null:yo(e,o)},i=a(r[0]);return i?[i]:(i=a(r[1]))?[i]:(i=a(r[2]))?[i]:[]}function wo(e,t){var n=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.001,r=0,a=1/0,i=0;i<30;i++){var o=lo(t,yo(e,i/30));o<a&&(a=o,r=i)}var l=function(e,t,r){for(var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=e,l=t;l-o>i;)r((a=(l+o)/2)-i)<r(a+i)?l=a:o=a;return a}(Math.max((r-1)/30,0),Math.min((r+1)/30,1),(function(n){return lo(t,yo(e,n))}));return l?yo(e,l):null}(e,t);return n?lo(t,n):0}function Ao(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return So(t)}function Eo(e){return So(e)}var ko=function(e,t){for(var n=e[0],r=e[1],a=!1,i=0,o=t.length-1;i<t.length;o=i++){var l=t[i][0],s=t[i][1],c=t[o][0],d=t[o][1];(s>r&&d<=r||s<=r&&d>r)&&n<(c-l)*(r-s)/(d-s)+l&&(a=!a)}return a};function So(e){return function(e){return ro(e[0],e[e.length-1])}(e)?e:[].concat((0,h.A)(e),[e[0]])}function Mo(e,t){return Fl([e,t])}var Co=function(e,t){var n=(0,f.A)(e,2),r=n[0],a=n[1],i=(0,f.A)(t,2),o=i[0],l=i[1];return r<=o?a>=o:r>=o&&l>=r},jo=function(e,t){var n=(0,f.A)(e,2),r=n[0],a=n[1],i=(0,f.A)(t,2),o=i[0],l=i[1],s=Math.max(r,o),c=Math.min(a,l);return s<=c?Fl([s,c]):null},Io=function(e,t){var n=(0,f.A)(t,2),r=n[0],a=n[1];return e>=r&&e<=a};function Do(e,t){var n=(0,f.A)(e,3),r=n[0],a=n[1],i=n[2],o=function(e,t,n){return(e[0]-n[0])*(t[1]-n[1])-(t[0]-n[0])*(e[1]-n[1])},l=o(t,r,a),s=o(t,a,i),c=o(t,i,r);return!((l<0||s<0||c<0)&&(l>0||s>0||c>0))}var To=function(){var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),a="".concat(e.getHours()).padStart(2,"0"),i="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(a).concat(i)},_o=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Lo=function(e){return e instanceof HTMLElement&&e.className.includes("ToolIcon")},Ro=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement},Po=function(e){return Ro(e)||e instanceof Element&&!!e.closest("label, button")},No=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&("text"===e.type||"number"===e.type||"password"===e.type)},Fo=function(e){for(var t=e.fontFamily,n=0,r=Object.entries(ma);n<r.length;n++){var a=(0,f.A)(r[n],2),i=a[0],o=a[1];if(o===t)return"".concat(i).concat(ba(o).map((function(e){return", ".concat(e)})).join(""))}return Ua},Oo=function(e){var t=e.fontSize,n=e.fontFamily;return"".concat(t,"px ").concat(Fo({fontFamily:n}))},zo=function(e,t){var n=0,r=null,a=function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];r=i,clearTimeout(n),n=window.setTimeout((function(){r=null,e.apply(void 0,i)}),t)};return a.flush=function(){if(clearTimeout(n),r){var t=r;r=null,e.apply(void 0,(0,h.A)(t))}},a.cancel=function(){r=null,clearTimeout(n)},a},Bo=function(e,t){var n=null,r=null,a=null,i=function(t){n=window.requestAnimationFrame((function(){n=null,e.apply(void 0,(0,h.A)(t)),r=null,a&&(r=a,a=null,i(r))}))},o=function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];"test"!==U.a.MODE?(r=l,null===n?i(r):(null===t||void 0===t?void 0:t.trailing)&&(a=l)):e.apply(void 0,l)};return o.flush=function(){null!==n&&(cancelAnimationFrame(n),n=null),r&&(e.apply(void 0,(0,h.A)(a||r)),r=a=null)},o.cancel=function(){r=a=null,null!==n&&(cancelAnimationFrame(n),n=null)},o},Ho=function(e){return 1-Math.pow(1-e,4)},Wo=function(e,t,n){return(t-e)*Ho(n)+e},Xo=function(e){var t,n=e.fromValues,r=e.toValues,a=e.onStep,i=e.duration,o=void 0===i?250:i,l=e.interpolateValue,s=e.onStart,c=e.onEnd,d=e.onCancel,u=!1,f=0;return f=window.requestAnimationFrame((function e(i){if(!u){void 0===t&&(t=i,null===s||void 0===s||s());var d=Math.min(i-t,o),h=Ho(d/o),p={};if(Object.keys(n).forEach((function(e){var t=e,a=(r[t]-n[t])*h+n[t];p[t]=a})),a(p),d<o){var v=d/o,U={};Object.keys(n).forEach((function(e){var t,a=e,i=n[a],o=r[a];null==(t=l?l(i,o,v,a):Wo(i,o,v))&&(t=Wo(i,o,v)),U[a]=t})),a(U),f=window.requestAnimationFrame(e)}else a(r),null===c||void 0===c||c()}})),function(){null!==d&&void 0!==d&&d(),u=!0,window.cancelAnimationFrame(f)}},Go=function(e,t){if(!e.length||t<1)return[];for(var n=0,r=0,a=Array(Math.ceil(e.length/t));n<e.length;)a[r++]=e.slice(n,n+=t);return a},Vo=function(e,t){return Math.abs(e-t)},Yo=function(e,t){var n,r;return"custom"===t.type?(0,v.A)((0,v.A)({},e.activeTool),{},{type:"custom",customType:t.customType,locked:null!==(n=t.locked)&&void 0!==n?n:e.activeTool.locked}):(0,v.A)((0,v.A)({},e.activeTool),{},{lastActiveTool:void 0===t.lastActiveToolBeforeEraser?e.activeTool.lastActiveTool:t.lastActiveToolBeforeEraser,type:t.type,customType:null,locked:null!==(r=t.locked)&&void 0!==r?r:e.activeTool.locked})},Zo=function(e){return e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),Yr?e.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},Ko=function(e,t){var n=e.clientX,r=e.clientY,a=t.zoom,i=t.offsetLeft,o=t.offsetTop,l=t.scrollX,s=t.scrollY;return{x:(n-i)/a.value-l,y:(r-o)/a.value-s}},qo=function(e,t){var n=e.sceneX,r=e.sceneY,a=t.zoom,i=t.offsetLeft,o=t.offsetTop,l=t.scrollX,s=t.scrollY;return{x:(n+l)*a.value+i,y:(r+s)*a.value+o}},$o=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},Qo=new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufdfe-\ufe6f\ufefd-\uffff","]*[").concat("\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc","]")),Jo=function(e){return Qo.test(e)},el=function(e){var t=(0,f.A)(e,2);return{x:t[0],y:t[1]}},tl=function(e){if("AbortError"!==(null===e||void 0===e?void 0:e.name))throw e;console.warn(e)},nl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length,Math.max(n,0)))-1;++r<e.length;)if(t(e[r],r,e))return r;return-1},rl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length-1,Math.max(n,0)))+1;--r>-1;)if(t(e[r],r,e))return r;return-1},al=function(e){var t=5===e.length&&"0"===e.substr(4,1),n=9===e.length&&"00"===e.substr(7,2);return t||n||e===Or.transparent},il=function(e){return"solid"!==e.fillStyle||al(e.backgroundColor)},ol=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},ll=function(e){for(var t=e.parentElement;t;){if(t===document.body)return document;var n=window.getComputedStyle(t).overflowY;if(t.scrollHeight>t.clientHeight&&("auto"===n||"scroll"===n||"overlay"===n))return t;t=t.parentElement}return document},sl=function(e){for(var t=e.parentElement;t;){if(t.tabIndex>-1)return void t.focus();t=t.parentElement}},cl=function(e){return Array.from(e).map((function(e){return"0".concat(e.toString(16)).slice(-2)})).join("")},dl=function(){return vl()?1:Date.now()},ul=function(e){return e instanceof Map?e:e.reduce((function(e,t){return e.set("string"==typeof t?t:t.id,t),e}),new Map)},fl=function(e){return e.reduce((function(e,t,n){return e.set(t.id,[t,n]),e}),new Map)},hl=function(e,t){return e.reduce((function(e,n){return e[t?t(n):String(n)]=n,e}),{})},pl=function(e){return e.reduce((function(t,n,r){var a=(0,v.A)((0,v.A)({},n),{},{prev:null,next:null});if(0!==r){var i=t[r-1];if(a.prev=i,i.next=a,r===e.length-1){var o=t[0];a.next=o,o.prev=a}}return t.push(a),t}),[])},vl=function(){return"test"===U.a.MODE},Ul=function(){return"development"===U.a.MODE},ml=function(e,t){return new CustomEvent(e,{detail:{nativeEvent:t},cancelable:!0})},gl=function(e,t){var n=!1;for(var r in t){var a=t[r];if(typeof a<"u"){if(e[r]===a&&("object"!=typeof a||null===a))continue;n=!0}}return n?(0,v.A)((0,v.A)({},e),t):e},bl=function(){try{return window.self===window.top?"top":"iframe"}catch(e){return"iframe"}},yl=function(e){return!!e&&"object"==typeof e&&"then"in e&&"catch"in e&&"finally"in e},xl=function(e){var t=null===e||void 0===e?void 0:e.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return t?Array.from(t).filter((function(e){return e.tabIndex>-1&&!e.disabled})):[]},wl=function(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t},Al=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return r&&console.warn("%cisShallowEqual: objects don't have same properties ->","color: #8B4000",e,t),!1;if(n&&Array.isArray(n)){var o,l=(0,u.A)(n);try{for(l.s();!(o=l.n()).done;){var s=o.value;if(e[s]!==t[s]&&!wl(e[s],t[s]))return r&&console.warn("%cisShallowEqual: ".concat(s," not equal ->"),"color: #8B4000",e[s],t[s]),!1}}catch(Be){l.e(Be)}finally{l.f()}return!0}return a.every((function(a){var i=null===n||void 0===n?void 0:n[a],o=i?i(e[a],t[a]):e[a]===t[a]||wl(e[a],t[a]);return!o&&r&&console.warn("%cisShallowEqual: ".concat(a," not equal ->"),"color: #8B4000",e[a],t[a]),o}))},El=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null!==e&&void 0!==e&&e(n),!r||null===n||void 0===n||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}},kl=function(e,t,n){if(!t)return e;if(n)return console.error(t),e;throw new Error(t)};function Sl(e,t){if(!e)throw new Error(t)}var Ml=function(e){var t,n,r=function(r){var a=Object.entries(r);if(t){var i,o=!0,l=(0,u.A)(a);try{for(l.s();!(i=l.n()).done;){var s=(0,f.A)(i.value,2),c=s[0],d=s[1];if(t.get(c)!==d){o=!1;break}}}catch(Be){l.e(Be)}finally{l.f()}if(o)return n}var h=e(r);return t=new Map(a),n=h,h};return r.clear=function(){t=void 0,n=void 0},r},Cl=function(e,t){return e instanceof Set||e instanceof Map?e.has(t):"includes"in e?e.includes(t):e.hasOwnProperty(t)},jl=function(e){return JSON.parse(JSON.stringify(e))},Il=function(e,t){return Al(e,t)?e:t};function Dl(e,t,n,r){var a;return e?(null!==e&&void 0!==e&&null!==(a=e.addEventListener)&&void 0!==a&&a.call(e,t,n,r),function(){var a;null===e||void 0===e||null===(a=e.removeEventListener)||void 0===a||a.call(e,t,n,r)}):function(){}}function Tl(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.length;if(n<4)return"";for(var r=e[0],a=e[1],i=e[2],o="M".concat(r[0].toFixed(2),",").concat(r[1].toFixed(2)," Q").concat(a[0].toFixed(2),",").concat(a[1].toFixed(2)," ").concat(Oi(a[0],i[0]).toFixed(2),",").concat(Oi(a[1],i[1]).toFixed(2)," T"),l=2,s=n-1;l<s;l++)r=e[l],a=e[l+1],o+="".concat(Oi(r[0],a[0]).toFixed(2),",").concat(Oi(r[1],a[1]).toFixed(2)," ");return t&&(o+="Z"),o}var _l,Ll,Rl,Pl,Nl=function(e){return e.replace(/\r?\n|\r/g,"\n")},Fl=function(e){return e},Ol=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n,r,a,i=arguments;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=i.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=i[a];return e.abrupt("return",new Promise((function(e){e(t.apply(void 0,r))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zl=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Math.max.apply(Math,(0,h.A)(t.map((function(e){return e?1:0}))))>0},Bl=function(){return(0,s.A)((function e(t,n){(0,l.A)(this,e),(0,m.d)(this,"pool"),(0,m.d)(this,"entries",{}),this.pool=new jn(t,n)}),[{key:"all",value:function(){var e=this,t=function(t){if(t.data.result){var n=(0,f.A)(t.data.result,2),r=n[0],a=n[1];e.entries[r]=a}};return this.pool.addEventListener("fulfilled",t),this.pool.start().then((function(){return setTimeout((function(){e.pool.removeEventListener("fulfilled",t)})),Object.values(e.entries)}))}}])}(),Hl=function(e){return e.replace(/"/g,"&quot;")},Wl=function(e){return Array.isArray(e)?e:[e]},Xl=function(e){return!!e&&"image"===e.type&&!!e.fileId},Gl=function(e){return!!e&&"image"===e.type},Vl=function(e){return!!e&&"embeddable"===e.type},Yl=function(e){return!!e&&"iframe"===e.type},Zl=function(e){return!!e&&("iframe"===e.type||"embeddable"===e.type)},Kl=function(e){return null!=e&&"text"===e.type},ql=function(e){return null!=e&&"frame"===e.type},$l=function(e){return null!=e&&"magicframe"===e.type},Ql=function(e){return null!=e&&("frame"===e.type||"magicframe"===e.type)},Jl=function(e){return null!=e&&es(e.type)},es=function(e){return"freedraw"===e},ts=function(e){return null!=e&&as(e.type)},ns=function(e){return null!=e&&"arrow"===e.type},rs=function(e){return ns(e)&&e.elbowed},as=function(e){return"arrow"===e||"line"===e},is=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&os(e.type)},os=function(e){return"arrow"===e},ls=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&("rectangle"===e.type||"diamond"===e.type||"ellipse"===e.type||"image"===e.type||"iframe"===e.type||"embeddable"===e.type||"frame"===e.type||"magicframe"===e.type||"text"===e.type&&!e.containerId)},ss=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&("rectangle"===e.type||"diamond"===e.type||"ellipse"===e.type||ns(e))},cs=function(e){var t=null===e||void 0===e?void 0:e.type;if(!t)return!1;switch(t){case"text":case"diamond":case"rectangle":case"iframe":case"embeddable":case"ellipse":case"arrow":case"freedraw":case"line":case"frame":case"magicframe":case"image":case"selection":return!0;default:return kl(t,null),!1}},ds=function(e){return"rectangle"===e.type||"ellipse"===e.type||"diamond"===e.type},us=function(e){var t;return ss(e)&&!(null===(t=e.boundElements)||void 0===t||!t.some((function(e){return"text"===e.type})))},fs=function(e){return null!==e&&"containerId"in e&&null!==e.containerId&&Kl(e)},hs=function(e){return"rectangle"===e||"embeddable"===e||"iframe"===e||"image"===e},ps=function(e){return"line"===e||"arrow"===e||"diamond"===e},vs=function(e,t){return!!((e===ci.ADAPTIVE_RADIUS||e===ci.LEGACY)&&hs(t.type)||e===ci.PROPORTIONAL_RADIUS&&ps(t.type))},Us=function(e){return ps(e.type)?{type:ci.PROPORTIONAL_RADIUS}:hs(e.type)?{type:ci.ADAPTIVE_RADIUS}:null},ms=function(e){return Object.hasOwn(e,"fixedPoint")&&null!=e.fixedPoint},gs=function(e,t,n){var r=e.split("\n").map((function(e){return e||" "})).join("\n"),a=parseFloat(t),i=Is(r,a,n);return{width:js(r,t),height:i}},bs="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),ys=function(e,t){var n=Ts(e);return 0===n?gs(bs.split("").join("\n"),e,t).width+2*ii:n+2*ii},xs=function(e,t){return gs("",e,t).width+2*ii},ws=function(){return js(bs,Oo({fontSize:wa,fontFamily:Aa}))>0},As=function(e){return Nl(e).replace(/\t/g,"        ")},Es=function(e){return As(e).split("\n")},ks=function(e,t){return e*t},Ss=function(e,t){return ks(e,t)+2*ii},Ms=function(){return(0,s.A)((function e(){(0,l.A)(this,e),(0,m.d)(this,"canvas"),this.canvas=document.createElement("canvas")}),[{key:"getLineWidth",value:function(e,t){var n=this.canvas.getContext("2d");n.font=t;var r=n.measureText(e).width;return vl()?10*r:r}}])}(),Cs=function(e,t){return _l||(_l=new Ms),_l.getLineWidth(e,t)},js=function(e,t){var n=Es(e),r=0;return n.forEach((function(e){r=Math.max(r,Cs(e,t))})),r},Is=function(e,t,n){var r=Es(e).length;return ks(t,n)*r},Ds=function(){var e={};return{calculate:function(t,n){var r=t.charCodeAt(0);if(e[n]||(e[n]=[]),!e[n][r]){var a=Cs(t,n);e[n][r]=a}return e[n][r]},getCache:function(t){return e[t]},clearCache:function(t){e[t]=[]}}}(),Ts=function(e){var t=Ds.getCache(e);if(!t)return 0;var n=t.filter((function(e){return void 0!==e}));return Math.max.apply(Math,(0,h.A)(n))},_s=function(){return Pl||(Pl=Hs()),Pl},Ls=/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]/,Rs=/-/,Ps=/<\(\[\{/,Ns=/>\)\]\}(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]),:;!\?\u2026\//,Fs={CHAR:/(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[\u3041-\u3096\u309D-\u309F]|\uD82C[\uDC01-\uDD1F\uDD32\uDD50-\uDD52]|\uD83C\uDE00)(?:[\u30A1-\u30FA\u30FD-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF6F\uFF71-\uFF9D]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00\uDD20-\uDD22\uDD55\uDD64-\uDD67])[\u1100-\u11FF\u302E\u302F\u3131-\u318E\u3200-\u321E\u3260-\u327E\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]\uFF40\uFF07\uFF3E\u3003\u3030\u3006\uFF03\uFF06\uFF0A\uFF0B\uFF0D\u30FC\uFF0F\uFF3C\uFF1D\uFF5C\uFFE4\u3012\uFFE2\uFFE3/,OPENING:/\uFF08\uFF3B\uFF5B\u3008\u300A\uFF5F\uFF62\u300C\u300E\u3010\u3016\u3014\u3018\u301A\uFF1C\u301D/,CLOSING:/\uFF09\uFF3D\uFF5D\u3009\u300B\uFF60\uFF63\u300D\u300F\u3011\u3017\u3015\u3019\u301B\uFF1E\u3002\uFF0E\uFF0C\u3001\u301F\u2025\uFF1F\uFF01\uFF1A\uFF1B\u30FB\u301C\u301E/,CURRENCY:/\uFFE5\uFFE6\uFFE1\uFFE0\uFF04/},Os={FLAG:/(?:\uD83C[\uDDE6-\uDDFF])(?:\uD83C[\uDDE6-\uDDFF])/,JOINER:/(?:(?:\uD83C[\uDFFB-\uDFFF])|\uFE0F\u20E3?|(?:\uDB40[\uDC20-\uDC7E])+(?:\uDB40\uDC7F))?/,ZWJ:/\u200D/,ANY:/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8])/,MOST:/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDFF\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFF]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])/},zs=function(){return Ws.or(_s(),Xs.On(Rs,Ls,Fs.CHAR))},Bs=function(){return Ws.or(_s(),Xs.Before(Ls).Build(),Xs.After(Ls,Rs).Build(),Xs.Before(Fs.CHAR,Fs.CURRENCY).NotPrecededBy(Ps,Fs.OPENING).Build(),Xs.After(Fs.CHAR).NotFollowedBy(Rs,Ns,Fs.CLOSING).Build(),Xs.BeforeMany(Fs.OPENING).NotPrecededBy(Ps).Build(),Xs.AfterMany(Fs.CLOSING).NotFollowedBy(Ns).Build(),Xs.AfterMany(Ns).FollowedBy(Ps).Build())},Hs=function(){return Ws.group(Ws.or(Os.FLAG,Ws.and(Os.MOST,Os.JOINER,Ws.build("(?:".concat(Os.ZWJ.source,"(?:").concat(Os.FLAG.source,"|").concat(Os.ANY.source).concat(Os.JOINER.source,"))*")))))},Ws={build:function(e){return new RegExp(e,"u")},join:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return e.source})).join("")},and:function(){return Ws.build(Ws.join.apply(Ws,arguments))},or:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ws.build(t.map((function(e){return e.source})).join("|"))},group:function(){return Ws.build("(".concat(Ws.join.apply(Ws,arguments),")"))},class:function(){return Ws.build("[".concat(Ws.join.apply(Ws,arguments),"]"))}},Xs={On:function(){var e=Ws.join.apply(Ws,arguments);return Ws.build("([".concat(e,"])"))},Before:function(){var e=Ws.join.apply(Ws,arguments);return Xs.Chain((function(){return Ws.build("(?=[".concat(e,"])"))}))},After:function(){var e=Ws.join.apply(Ws,arguments);return Xs.Chain((function(){return Ws.build("(?<=[".concat(e,"])"))}))},BeforeMany:function(){var e=Ws.join.apply(Ws,arguments);return Xs.Chain((function(){return Ws.build("(?<![".concat(e,"])(?=[").concat(e,"])"))}))},AfterMany:function(){var e=Ws.join.apply(Ws,arguments);return Xs.Chain((function(){return Ws.build("(?<=[".concat(e,"])(?![").concat(e,"])"))}))},NotBefore:function(){var e=Ws.join.apply(Ws,arguments);return Xs.Chain((function(){return Ws.build("(?![".concat(e,"])"))}))},NotAfter:function(){var e=Ws.join.apply(Ws,arguments);return Xs.Chain((function(){return Ws.build("(?<![".concat(e,"])"))}))},Chain:function(e){return{Build:e,PreceededBy:function(){var t=e(),n=Xs.After.apply(Xs,arguments).Build();return Xs.Chain((function(){return Ws.and(n,t)}))},FollowedBy:function(){var t=e(),n=Xs.Before.apply(Xs,arguments).Build();return Xs.Chain((function(){return Ws.and(t,n)}))},NotPrecededBy:function(){var t=e(),n=Xs.NotAfter.apply(Xs,arguments).Build();return Xs.Chain((function(){return Ws.and(n,t)}))},NotFollowedBy:function(){var t=e(),n=Xs.NotBefore.apply(Xs,arguments).Build();return Xs.Chain((function(){return Ws.and(t,n)}))}}}},Gs=function(e){var t=function(){if(!Rl)try{Rl=Bs()}catch(e){Rl=zs()}return Rl}();return e.normalize("NFC").split(t).filter(Boolean)},Vs=function(e,t,n){if(!Number.isFinite(n)||n<0)return e;var r,a=[],i=e.split("\n"),o=(0,u.A)(i);try{for(o.s();!(r=o.n()).done;){var l=r.value;if(Cs(l,t)<=n)a.push(l);else{var s=Ys(l,t,n);a.push.apply(a,(0,h.A)(s))}}}catch(Be){o.e(Be)}finally{o.f()}return a.join("\n")},Ys=function(e,t,n){for(var r=[],a=Gs(e)[Symbol.iterator](),i="",o=0,l=a.next();!l.done;){var s=l.value,c=i+s,d=qs(s)?o+Ds.calculate(s,t):Cs(c,t);if(/\s/.test(s)||d<=n)i=c,o=d,l=a.next();else if(i)r.push(i.trimEnd()),i="",o=0;else{var u,f=Zs(s,t,n),p=null!==(u=f[f.length-1])&&void 0!==u?u:"",v=f.slice(0,-1);r.push.apply(r,(0,h.A)(v)),i=p,o=Cs(p,t),l=a.next()}}if(i){var U=Ks(i,t,n);r.push(U)}return r},Zs=function(e,t,n){if(_s().test(e))return[e];$s(e);for(var r=[],a="",i=0,o=0,l=Array.from(e);o<l.length;o++){var s=l[o],c=Ds.calculate(s,t),d=i+c;d<=n?(a+=s,i=d):(a&&r.push(a),a=s,i=c)}return a&&r.push(a),r},Ks=function(e,t,n){var r;if(!(Cs(e,t)>n))return e;for(var a=null!==(r=e.match(/^(.+?)(\s+)$/))&&void 0!==r?r:[e,e.trimEnd(),""],i=(0,f.A)(a,3),o=i[1],l=i[2],s=Cs(o,t),c=0,d=Array.from(l);c<d.length;c++){var u=d[c],h=s+Ds.calculate(u,t);if(h>n)break;o+=u,s=h}return o},qs=function(e){return void 0!==e.codePointAt(0)&&void 0===e.codePointAt(1)},$s=function(e){if((U.a.MODE===ha.TEST||U.a.DEV)&&/\s/.test(e))throw new Error("Word should not contain any whitespaces!")},Qs=(0,s.A)((function e(){(0,l.A)(this,e)}));(0,m.d)(Qs,"rg",new Zn.f),(0,m.d)(Qs,"cache",new WeakMap),(0,m.d)(Qs,"get",(function(e){return Qs.cache.get(e)})),(0,m.d)(Qs,"set",(function(e,t){return Qs.cache.set(e,t)})),(0,m.d)(Qs,"delete",(function(e){return Qs.cache.delete(e)})),(0,m.d)(Qs,"destroy",(function(){Qs.cache=new WeakMap})),(0,m.d)(Qs,"generateElementShape",(function(e,t){var n=null!==t&&void 0!==t&&t.isExporting?void 0:Qs.get(e);if(void 0!==n)return n;Xh.delete(e);var r=Ep(e,Qs.rg,t||{isExporting:!1,canvasBackgroundColor:Or.white,embedsValidationStatus:null});return Qs.cache.set(e,r),r}));var Js=Qs,ec=function(e){return e===ya.LIGHT?Sn.white:"#1e1e1e"},tc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n="number"==typeof t?{width:t}:t,r=n.width,a=void 0===r?512:r,i=n.height,l=void 0===i?a:i,s=n.mirror,c=n.style,d=(0,o.A)(n,xr);return(0,$n.jsx)("svg",(0,v.A)((0,v.A)({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(a," ").concat(l),className:(0,qn.A)({"rtl-mirror":s}),style:c},d),{},{children:"string"==typeof e?(0,$n.jsx)("path",{fill:"currentColor",d:e}):e}))},nc={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},rc={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},ac=(tc((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,$n.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,$n.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,$n.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),nc),tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,$n.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,$n.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,$n.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,$n.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),nc)),ic=tc((0,$n.jsxs)("svg",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,$n.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),nc),oc=tc((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,$n.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,$n.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),nc),lc=tc((0,$n.jsxs)("svg",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,$n.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,$n.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),nc),sc=tc((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,$n.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,$n.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,$n.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,$n.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,$n.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),rc),cc=tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,$n.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,$n.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),rc),dc=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,$n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,$n.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),uc=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,$n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,$n.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),fc=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,$n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,$n.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),hc=(tc((0,$n.jsx)("g",{fill:"currentColor",children:(0,$n.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})}),{width:40,height:40,fill:"none"}),tc((0,$n.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,$n.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25})),pc=tc((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),nc),vc=tc((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),nc),Uc=tc((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),nc),mc=tc((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,$n.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,$n.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),nc),gc=tc((0,$n.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),rc),bc=tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,$n.jsx)("path",{d:"M16 7h4"}),(0,$n.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),nc),yc=tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,$n.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),rc),xc=tc((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,$n.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,$n.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,$n.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,$n.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),nc),wc=tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M12.5 6.667h.01"}),(0,$n.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,$n.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,$n.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),rc),Ac=tc((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,$n.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),nc),Ec=tc((0,$n.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),rc),kc=tc((0,$n.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),rc),Sc=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M21 21l-6 -6"}),(0,$n.jsx)("path",{d:"M3.268 12.043a7.017 7.017 0 0 0 6.634 4.957a7.012 7.012 0 0 0 7.043 -6.131a7 7 0 0 0 -5.314 -7.672a7.021 7.021 0 0 0 -8.241 4.403"}),(0,$n.jsx)("path",{d:"M3 4v4h4"})]}),nc),Mc=tc((0,$n.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),rc),Cc=tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("polyline",{points:"12 16 18 10 12 4"}),(0,$n.jsx)("polyline",{points:"8 4 2 10 8 16"})]}),rc),jc=tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,$n.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),rc),Ic=tc((0,$n.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),rc),Dc=tc((0,$n.jsx)("g",{stroke:"currentColor",strokeLinejoin:"round",children:(0,$n.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),(0,v.A)((0,v.A)({},rc),{},{strokeWidth:1.5})),Tc=tc((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,$n.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,$n.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),nc),_c=tc((0,$n.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),rc),Lc=tc((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,$n.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,$n.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),nc),Rc=tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,$n.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,$n.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),nc),Pc=tc((0,$n.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),rc),Nc=tc((0,$n.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),rc),Fc=tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,$n.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),rc),Oc=tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 4l11.733 16h4.267l-11.733 -16z"}),(0,$n.jsx)("path",{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"})]}),nc),zc=tc((0,$n.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Bc=tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,$n.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),rc),Hc=tc("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Wc=tc("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),Xc=tc((0,$n.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),rc),Gc=(tc("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),tc("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z")),Vc=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M5 16l1.465 1.638a2 2 0 1 1 -3.015 .099l1.55 -1.737z"}),(0,$n.jsx)("path",{d:"M13.737 9.737c2.299 -2.3 3.23 -5.095 2.081 -6.245c-1.15 -1.15 -3.945 -.217 -6.244 2.082c-2.3 2.299 -3.231 5.095 -2.082 6.244c1.15 1.15 3.946 .218 6.245 -2.081z"}),(0,$n.jsx)("path",{d:"M7.492 11.818c.362 .362 .768 .676 1.208 .934l6.895 4.047c1.078 .557 2.255 -.075 3.692 -1.512c1.437 -1.437 2.07 -2.614 1.512 -3.692c-.372 -.718 -1.72 -3.017 -4.047 -6.895a6.015 6.015 0 0 0 -.934 -1.208"})]}),nc),Yc=tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M15 8h.01"}),(0,$n.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,$n.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,$n.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,$n.jsx)("path",{d:"M19 16v6"}),(0,$n.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),nc),Zc=tc("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),Kc=(tc("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),tc("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),tc("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),qc=(tc("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),tc((0,$n.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),rc)),$c=tc((0,$n.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),rc),Qc=tc("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),Jc=tc((0,$n.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),rc),ed=(tc("M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"),tc("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M8 9h-1a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-8a2 2 0 0 0 -2 -2h-1"}),(0,$n.jsx)("path",{d:"M12 14v-11"}),(0,$n.jsx)("path",{d:"M9 6l3 -3l3 3"})]}),nc),tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,$n.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),tc((0,$n.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),(0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M12 10l0 10"}),(0,$n.jsx)("path",{d:"M12 10l4 4"}),(0,$n.jsx)("path",{d:"M12 10l-4 4"}),(0,$n.jsx)("path",{d:"M4 4l16 0"})]})),td=(0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M12 5l0 14"}),(0,$n.jsx)("path",{d:"M16 9l-4 -4"}),(0,$n.jsx)("path",{d:"M8 9l4 -4"})]}),nd=tc(td,nc),rd=tc(td,(0,v.A)((0,v.A)({},nc),{},{style:{transform:"rotate(180deg)"}})),ad=tc(ed,nc),id=tc(ed,(0,v.A)((0,v.A)({},nc),{},{style:{transform:"rotate(180deg)"}})),od=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),rc),ld=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),rc),sd=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),rc),cd=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),rc),dd=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),rc),ud=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),rc),fd=tc((0,$n.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),rc),hd=tc((0,$n.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),rc),pd=tc((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,$n.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,$n.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,$n.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),nc),vd=(tc("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),tc("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,$n.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),rc)),Ud=(tc("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),tc("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),tc("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),Kn.memo((function(e){var t=e.theme;return tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,$n.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,$n.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,$n.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,$n.jsxs)("g",{fill:ec(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,$n.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}))),md=Kn.memo((function(e){var t=e.theme;return tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,$n.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,$n.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,$n.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,$n.jsxs)("g",{fill:ec(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,$n.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),gd=tc((0,$n.jsx)("g",{strokeWidth:1.25,children:(0,$n.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),rc),bd=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,$n.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,$n.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,$n.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,$n.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),rc),yd=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",children:[(0,$n.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,$n.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,$n.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,$n.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,$n.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),rc),xd=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("g",{clipPath:"url(#a)",children:(0,$n.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),(0,v.A)((0,v.A)({},rc),{},{fill:"currentColor"})),wd=tc((0,$n.jsx)($n.Fragment,{children:(0,$n.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),rc),Ad=tc((0,$n.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),rc),Ed=tc((0,$n.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),rc),kd=(Kn.memo((function(e){e.theme;return tc((0,$n.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",strokeLinecap:"round"}),{width:40,height:20})})),tc((0,$n.jsxs)("g",{strokeWidth:"2",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M5 12h2"}),(0,$n.jsx)("path",{d:"M17 12h2"}),(0,$n.jsx)("path",{d:"M11 12h2"})]}),nc)),Sd=tc((0,$n.jsxs)("g",{strokeWidth:"2",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 12v.01"}),(0,$n.jsx)("path",{d:"M8 12v.01"}),(0,$n.jsx)("path",{d:"M12 12v.01"}),(0,$n.jsx)("path",{d:"M16 12v.01"}),(0,$n.jsx)("path",{d:"M20 12v.01"})]}),nc),Md=tc((0,$n.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),rc),Cd=tc((0,$n.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),rc),jd=tc((0,$n.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),rc),Id=tc((0,$n.jsxs)("svg",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,$n.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,$n.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,$n.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,$n.jsx)("path",{d:"M16.6667 10V10.01"}),(0,$n.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,$n.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,$n.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,$n.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,$n.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,$n.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,$n.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),rc),Dd=tc((0,$n.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,$n.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,$n.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,$n.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,$n.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,$n.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,$n.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,$n.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,$n.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,$n.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,$n.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,$n.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),nc),Td=tc((0,$n.jsxs)("g",{stroke:"currentColor",opacity:.3,strokeWidth:2,children:[(0,$n.jsx)("path",{d:"M12 12l9 0"}),(0,$n.jsx)("path",{d:"M3 9l6 6"}),(0,$n.jsx)("path",{d:"M3 15l6 -6"})]}),nc),_d=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return tc((0,$n.jsxs)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,$n.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,$n.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})})),Ld=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,$n.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,$n.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})})),Rd=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",transform:n?"translate(40, 0) scale(-1, 1)":"",strokeWidth:2,children:[(0,$n.jsx)("path",{d:"M26 10L6 10"}),(0,$n.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})})),Pd=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return tc((0,$n.jsx)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",children:(0,$n.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})})),Nd=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,$n.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,$n.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})})),Fd=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",transform:n?"translate(40, 0) scale(-1, 1)":"",strokeWidth:2,strokeLinejoin:"round",children:[(0,$n.jsx)("path",{d:"M6,9.5H27"}),(0,$n.jsx)("path",{d:"M27,5L34,10L27,14Z",fill:"none"})]}),{width:40,height:20})})),Od=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:n?"translate(40, 0) scale(-1, 1)":"",strokeLinejoin:"round",strokeWidth:2,children:[(0,$n.jsx)("path",{d:"M6,9.5H20"}),(0,$n.jsx)("path",{d:"M27,5L34,10L27,14L20,9.5Z"})]}),{width:40,height:20})})),zd=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",transform:n?"translate(40, 0) scale(-1, 1)":"",strokeLinejoin:"round",strokeWidth:2,children:[(0,$n.jsx)("path",{d:"M6,9.5H20"}),(0,$n.jsx)("path",{d:"M27,5L34,10L27,14L20,9.5Z"})]}),{width:40,height:20})})),Bd=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return tc((0,$n.jsx)("g",{stroke:"currentColor",fill:"none",transform:n?"":"translate(40, 0) scale(-1, 1)",strokeLinejoin:"round",strokeWidth:2,children:(0,$n.jsx)("path",{d:"M34,10 H6 M15,10 L7,5 M15,10 L7,15"})}),{width:40,height:20})})),Hd=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return tc((0,$n.jsx)("g",{stroke:"currentColor",fill:"none",transform:n?"":"translate(40, 0) scale(-1, 1)",strokeLinejoin:"round",strokeWidth:2,children:(0,$n.jsx)("path",{d:"M34,10 H6 M15,10 L15,15 L15,5"})}),{width:40,height:20})})),Wd=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return tc((0,$n.jsx)("g",{stroke:"currentColor",fill:"none",transform:n?"":"translate(40, 0) scale(-1, 1)",strokeLinejoin:"round",strokeWidth:2,children:(0,$n.jsx)("path",{d:"M34,10 H6 M15,10 L15,16 L15,4 M15,10 L7,5 M15,10 L7,15"})}),{width:40,height:20})})),Xd=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("g",{clipPath:"url(#a)",children:(0,$n.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),rc),Gd=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("g",{clipPath:"url(#a)",children:(0,$n.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),rc),Vd=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("g",{clipPath:"url(#a)",children:(0,$n.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),rc),Yd=tc((0,$n.jsx)($n.Fragment,{children:(0,$n.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),rc),Zd=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 7v-2h13v2"}),(0,$n.jsx)("path",{d:"M10 5v14"}),(0,$n.jsx)("path",{d:"M12 19h-4"}),(0,$n.jsx)("path",{d:"M15 13v-1h6v1"}),(0,$n.jsx)("path",{d:"M18 12v7"}),(0,$n.jsx)("path",{d:"M17 19h2"})]}),nc),Kd=tc((0,$n.jsx)($n.Fragment,{children:(0,$n.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M7 12h10"}),(0,$n.jsx)("path",{d:"M7 5v14"}),(0,$n.jsx)("path",{d:"M17 5v14"}),(0,$n.jsx)("path",{d:"M15 19h4"}),(0,$n.jsx)("path",{d:"M15 5h4"}),(0,$n.jsx)("path",{d:"M5 19h4"}),(0,$n.jsx)("path",{d:"M5 5h4"})]})}),nc),qd=tc((0,$n.jsx)($n.Fragment,{children:(0,$n.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,$n.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),rc),$d=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,$n.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),rc),Qd=tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,$n.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,$n.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),nc),Jd=tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,$n.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,$n.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),nc),eu=tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,$n.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,$n.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),nc),tu=Kn.memo((function(e){e.theme;return tc((0,$n.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,$n.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),nc)})),nu=Kn.memo((function(e){e.theme;return tc((0,$n.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,$n.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),nc)})),ru=Kn.memo((function(e){e.theme;return tc((0,$n.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,$n.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,$n.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),nc)})),au=tc((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M21 19h-18l9 -15"}),(0,$n.jsx)("path",{d:"M20.615 15.171h.015"}),(0,$n.jsx)("path",{d:"M19.515 11.771h.015"}),(0,$n.jsx)("path",{d:"M17.715 8.671h.015"}),(0,$n.jsx)("path",{d:"M15.415 5.971h.015"})]}),nc),iu=tc((0,$n.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),ou=(tc((0,$n.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,$n.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,$n.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,$n.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),nc)),lu=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,$n.jsx)("path",{d:"M7 11l5 5l5 -5"}),(0,$n.jsx)("path",{d:"M12 4l0 12"})]}),nc),su=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}),(0,$n.jsx)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"})]}),nc),cu=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M7 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,$n.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,$n.jsx)("path",{d:"M9.15 14.85l8.85 -10.85"}),(0,$n.jsx)("path",{d:"M6 4l8.85 10.85"})]}),nc),du=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),(0,$n.jsx)("path",{d:"M12 17l0 .01"}),(0,$n.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),nc),uu=(tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M7 4v16l13 -8z"})]}),nc),tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",strokeWidth:"0",fill:"currentColor"})]}),nc),tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M5 12l5 5l10 -10"})]}),nc)),fu=tc((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"}),(0,$n.jsx)("path",{d:"M12 9v4"}),(0,$n.jsx)("path",{d:"M12 17h.01"})]}),nc),hu=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M11 7l6 6"}),(0,$n.jsx)("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]}),nc),pu=tc((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M12 3l-4 7h8z"}),(0,$n.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,$n.jsx)("path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]}),nc),vu=tc((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 7l16 0"}),(0,$n.jsx)("path",{d:"M4 17l16 0"}),(0,$n.jsx)("path",{d:"M7 4l0 16"}),(0,$n.jsx)("path",{d:"M17 4l0 16"})]}),nc),Uu=tc((0,$n.jsx)("path",{fill:"currentColor",d:"M407.48,111.18C335.587,108.103 269.573,152.338 245.08,220C220.587,152.338 154.573,108.103 82.68,111.18C80.285,168.229 107.577,222.632 154.74,254.82C178.908,271.419 193.35,298.951 193.27,328.27L193.27,379.13L296.9,379.13L296.9,328.27C296.816,298.953 311.255,271.42 335.42,254.82C382.596,222.644 409.892,168.233 407.48,111.18Z"})),mu=tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M4.16602 10H15.8327"}),(0,$n.jsx)("path",{d:"M12.5 13.3333L15.8333 10"}),(0,$n.jsx)("path",{d:"M12.5 6.66666L15.8333 9.99999"})]}),rc),gu=tc((0,$n.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(90 10 10)",children:[(0,$n.jsx)("path",{clipRule:"evenodd",d:"m9.644 13.69 7.774-7.773a2.357 2.357 0 0 0-3.334-3.334l-7.773 7.774L8 12l1.643 1.69Z"}),(0,$n.jsx)("path",{d:"m13.25 3.417 3.333 3.333M10 10l2-2M5 15l3-3M2.156 17.894l1-1M5.453 19.029l-.144-1.407M2.377 11.887l.866 1.118M8.354 17.273l-1.194-.758M.953 14.652l1.408.13"})]}),20),bu=tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),(0,$n.jsx)("path",{d:"M6 21l15 -15l-3 -3l-15 15l3 3"}),(0,$n.jsx)("path",{d:"M15 6l3 3"}),(0,$n.jsx)("path",{d:"M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"}),(0,$n.jsx)("path",{d:"M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"})]}),nc),yu=(tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),(0,$n.jsx)("path",{d:"M6 21l15 -15l-3 -3l-15 15l3 3"}),(0,$n.jsx)("path",{d:"M15 6l3 3"}),(0,$n.jsx)("path",{d:"M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"}),(0,$n.jsx)("path",{d:"M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"})]}),nc),tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M11.217 19.384a3.501 3.501 0 0 0 6.783 -1.217v-5.167l-6 -3.35"}),(0,$n.jsx)("path",{d:"M5.214 15.014a3.501 3.501 0 0 0 4.446 5.266l4.34 -2.534v-6.946"}),(0,$n.jsx)("path",{d:"M6 7.63c-1.391 -.236 -2.787 .395 -3.534 1.689a3.474 3.474 0 0 0 1.271 4.745l4.263 2.514l6 -3.348"}),(0,$n.jsx)("path",{d:"M12.783 4.616a3.501 3.501 0 0 0 -6.783 1.217v5.067l6 3.45"}),(0,$n.jsx)("path",{d:"M18.786 8.986a3.501 3.501 0 0 0 -4.446 -5.266l-4.34 2.534v6.946"}),(0,$n.jsx)("path",{d:"M18 16.302c1.391 .236 2.787 -.395 3.534 -1.689a3.474 3.474 0 0 0 -1.271 -4.745l-4.308 -2.514l-5.955 3.42"})]}),nc),tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2"}),(0,$n.jsx)("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),(0,$n.jsx)("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),(0,$n.jsx)("path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2"})]}),nc)),xu=tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}),(0,$n.jsx)("path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"})]}),nc),wu=tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828"}),(0,$n.jsx)("path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87"}),(0,$n.jsx)("path",{d:"M3 3l18 18"})]}),nc),Au=tc((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8"}),(0,$n.jsx)("path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8"}),(0,$n.jsx)("path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5"}),(0,$n.jsx)("path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0"}),(0,$n.jsx)("path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5"}),(0,$n.jsx)("path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10"})]}),nc),Eu=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8"}),(0,$n.jsx)("path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8"}),(0,$n.jsx)("path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5"}),(0,$n.jsx)("path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0"}),(0,$n.jsx)("path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5"}),(0,$n.jsx)("path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10"})]}),nc),ku=tc((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),(0,$n.jsx)("path",{d:"M21 21l-6 -6"})]}),nc),Su=tc((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M20.984 12.53a9 9 0 1 0 -7.552 8.355"}),(0,$n.jsx)("path",{d:"M12 7v5l3 3"}),(0,$n.jsx)("path",{d:"M19 16l-2 3h4l-2 3"})]}),nc),Mu=tc((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z"}),(0,$n.jsx)("path",{d:"M5 10a7 7 0 0 0 14 0"}),(0,$n.jsx)("path",{d:"M8 21l8 0"}),(0,$n.jsx)("path",{d:"M12 17l0 4"})]}),nc),Cu=tc((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 3l18 18"}),(0,$n.jsx)("path",{d:"M9 5a3 3 0 0 1 6 0v5a3 3 0 0 1 -.13 .874m-2 2a3 3 0 0 1 -3.87 -2.872v-1"}),(0,$n.jsx)("path",{d:"M5 10a7 7 0 0 0 10.846 5.85m2 -2a6.967 6.967 0 0 0 1.152 -3.85"}),(0,$n.jsx)("path",{d:"M8 21l8 0"}),(0,$n.jsx)("path",{d:"M12 17l0 4"})]}),nc),ju=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11"})]}),nc),Iu=tc((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M8 8m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z"}),(0,$n.jsx)("path",{d:"M12 20v.01"}),(0,$n.jsx)("path",{d:"M16 20v.01"}),(0,$n.jsx)("path",{d:"M8 20v.01"}),(0,$n.jsx)("path",{d:"M4 20v.01"}),(0,$n.jsx)("path",{d:"M4 16v.01"}),(0,$n.jsx)("path",{d:"M4 12v.01"}),(0,$n.jsx)("path",{d:"M4 8v.01"}),(0,$n.jsx)("path",{d:"M4 4v.01"}),(0,$n.jsx)("path",{d:"M8 4v.01"}),(0,$n.jsx)("path",{d:"M12 4v.01"}),(0,$n.jsx)("path",{d:"M16 4v.01"}),(0,$n.jsx)("path",{d:"M20 4v.01"}),(0,$n.jsx)("path",{d:"M20 8v.01"}),(0,$n.jsx)("path",{d:"M20 12v.01"}),(0,$n.jsx)("path",{d:"M20 16v.01"}),(0,$n.jsx)("path",{d:"M20 20v.01"})]}),nc),Du=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M5 3v18"}),(0,$n.jsx)("path",{d:"M19 21v-18"}),(0,$n.jsx)("path",{d:"M5 7h14"}),(0,$n.jsx)("path",{d:"M5 15h14"}),(0,$n.jsx)("path",{d:"M8 13v4"}),(0,$n.jsx)("path",{d:"M11 13v4"}),(0,$n.jsx)("path",{d:"M16 13v4"}),(0,$n.jsx)("path",{d:"M14 5v4"}),(0,$n.jsx)("path",{d:"M11 5v4"}),(0,$n.jsx)("path",{d:"M8 5v4"}),(0,$n.jsx)("path",{d:"M3 21h18"})]}),nc),Tu=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 12l18 0"}),(0,$n.jsx)("path",{d:"M7 16l10 0l-10 5l0 -5"}),(0,$n.jsx)("path",{d:"M7 8l10 0l-10 -5l0 5"})]}),nc),_u=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M12 3l0 18"}),(0,$n.jsx)("path",{d:"M16 7l0 10l5 0l-5 -10"}),(0,$n.jsx)("path",{d:"M8 7l0 10l-5 0l5 -10"})]}),nc),Lu=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"}),(0,$n.jsx)("path",{d:"M19 6h1a2 2 0 0 1 2 2a5 5 0 0 1 -5 5l-5 0v2"}),(0,$n.jsx)("path",{d:"M10 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z"})]}),nc),Ru=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"}),(0,$n.jsx)("path",{d:"M22 22l-3 -3"}),(0,$n.jsx)("path",{d:"M6 18h-1a2 2 0 0 1 -2 -2v-1"}),(0,$n.jsx)("path",{d:"M3 11v-1"}),(0,$n.jsx)("path",{d:"M3 6v-1a2 2 0 0 1 2 -2h1"}),(0,$n.jsx)("path",{d:"M10 3h1"}),(0,$n.jsx)("path",{d:"M15 3h1a2 2 0 0 1 2 2v1"})]}),nc),Pu=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),(0,$n.jsx)("path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"}),(0,$n.jsx)("path",{d:"M4 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75"}),(0,$n.jsx)("path",{d:"M10 15l2 6l2 -6"}),(0,$n.jsx)("path",{d:"M20 15h-1a2 2 0 0 0 -2 2v2a2 2 0 0 0 2 2h1v-3"})]}),nc),Nu=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),(0,$n.jsx)("path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"}),(0,$n.jsx)("path",{d:"M20 15h-1a2 2 0 0 0 -2 2v2a2 2 0 0 0 2 2h1v-3"}),(0,$n.jsx)("path",{d:"M5 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6"}),(0,$n.jsx)("path",{d:"M11 21v-6l3 6v-6"})]}),nc),Fu=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 13v-8a2 2 0 0 1 2 -2h1a2 2 0 0 1 2 2v8a2 2 0 0 0 6 0v-8a2 2 0 0 1 2 -2h1a2 2 0 0 1 2 2v8a8 8 0 0 1 -16 0"}),(0,$n.jsx)("path",{d:"M4 8l5 0"}),(0,$n.jsx)("path",{d:"M15 8l4 0"})]}),nc),Ou=tc((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 14c.83 .642 2.077 1.017 3.5 1c1.423 .017 2.67 -.358 3.5 -1c.83 -.642 2.077 -1.017 3.5 -1c1.423 -.017 2.67 .358 3.5 1"}),(0,$n.jsx)("path",{d:"M8 3a2.4 2.4 0 0 0 -1 2a2.4 2.4 0 0 0 1 2"}),(0,$n.jsx)("path",{d:"M12 3a2.4 2.4 0 0 0 -1 2a2.4 2.4 0 0 0 1 2"}),(0,$n.jsx)("path",{d:"M3 10h14v5a6 6 0 0 1 -6 6h-2a6 6 0 0 1 -6 -6v-5z"}),(0,$n.jsx)("path",{d:"M16.746 16.726a3 3 0 1 0 .252 -5.555"})]}),nc),zu=tc((0,$n.jsxs)("g",{stroke:"currentColor",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 5a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-16a1 1 0 0 1-1-1v-10zM7 20h10M9 16v4M15 16v4"})]}),(0,v.A)((0,v.A)({},nc),{},{strokeWidth:1.5})),Bu=(tc((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M15 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),(0,$n.jsx)("path",{d:"M21 12h-13l3 -3"}),(0,$n.jsx)("path",{d:"M11 15l-3 -3"})]}),nc),tc((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M2 8a4 4 0 0 1 4 -4h12a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-12a4 4 0 0 1 -4 -4v-8z"}),(0,$n.jsx)("path",{d:"M10 9l5 3l-5 3z"})]}),nc)),Hu=tc((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 6h18"}),(0,$n.jsx)("path",{d:"M3 12h18"}),(0,$n.jsx)("path",{d:"M3 18h18"}),(0,$n.jsx)("path",{d:"M6 3v18"}),(0,$n.jsx)("path",{d:"M12 3v18"}),(0,$n.jsx)("path",{d:"M18 3v18"})]}),nc),Wu=tc((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M17 3m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z"}),(0,$n.jsx)("path",{d:"M3 17m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z"}),(0,$n.jsx)("path",{d:"M17 5c-6.627 0 -12 5.373 -12 12"})]}),nc),Xu=tc((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M6 18l12 -12"}),(0,$n.jsx)("path",{d:"M18 10v-4h-4"})]}),nc),Gu=tc((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4,19L10,19C11.097,19 12,18.097 12,17L12,9C12,7.903 12.903,7 14,7L21,7"}),(0,$n.jsx)("path",{d:"M18 4l3 3l-3 3"})]}),nc),Vu=tc((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{d:"M16,12L20,9L16,6"}),(0,$n.jsx)("path",{d:"M6 20c0 -6.075 4.925 -11 11 -11h3"})]}),nc),Yu=tc((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M6 9l6 6l6 -6"})]}),nc),Zu=tc((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M6 15l6 -6l6 6"})]}),nc),Ku=tc((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M6 15l6 -6l6 6"})]}),nc),qu=tc((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M8 5v10a1 1 0 0 0 1 1h10"}),(0,$n.jsx)("path",{d:"M5 8h10a1 1 0 0 1 1 1v10"})]}),nc),$u=tc((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M5 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,$n.jsx)("path",{d:"M19 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,$n.jsx)("path",{d:"M5 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,$n.jsx)("path",{d:"M19 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,$n.jsx)("path",{d:"M5 7l0 10"}),(0,$n.jsx)("path",{d:"M7 5l10 0"}),(0,$n.jsx)("path",{d:"M7 19l10 0"}),(0,$n.jsx)("path",{d:"M19 7l0 10"})]}),nc),Qu=(0,p.default)((0,p.default)((0,p.default)((0,p.default)((0,p.default)((0,p.default)((0,p.default)((0,p.default)((0,p.default)((0,p.default)({},ma.Excalifont,{metrics:{unitsPerEm:1e3,ascender:886,descender:-374,lineHeight:1.25},icon:yc}),ma.Nunito,{metrics:{unitsPerEm:1e3,ascender:1011,descender:-353,lineHeight:1.35},icon:qd}),ma["Lilita One"],{metrics:{unitsPerEm:1e3,ascender:923,descender:-220,lineHeight:1.15},icon:Kd}),ma["Comic Shanns"],{metrics:{unitsPerEm:1e3,ascender:750,descender:-250,lineHeight:1.25},icon:$d}),ma.Virgil,{metrics:{unitsPerEm:1e3,ascender:886,descender:-374,lineHeight:1.25},icon:yc,deprecated:!0}),ma.Helvetica,{metrics:{unitsPerEm:2048,ascender:1577,descender:-471,lineHeight:1.15},icon:qd,deprecated:!0,local:!0}),ma.Cascadia,{metrics:{unitsPerEm:2048,ascender:1900,descender:-480,lineHeight:1.2},icon:$d,deprecated:!0}),ma["Liberation Sans"],{metrics:{unitsPerEm:2048,ascender:1854,descender:-434,lineHeight:1.15},serverSide:!0}),ga.Xiaolai,{metrics:{unitsPerEm:1e3,ascender:880,descender:-144,lineHeight:1.15},fallback:!0}),ga["Segoe UI Emoji"],{metrics:{unitsPerEm:1e3,ascender:886,descender:-374,lineHeight:1.25},local:!0,fallback:!0}),Ju="U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD",ef="U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF",tf="U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F",nf="U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116",rf="U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB",af="local:",of=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Couldn't export canvas.",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CANVAS_ERROR";return(0,l.A)(this,t),(e=(0,r.A)(this,t)).name=a,e.message=n,e}return(0,a.A)(t,e),(0,s.A)(t)}((0,i.A)(Error)),lf=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request Aborted";return(0,l.A)(this,t),(0,r.A)(this,t,[e,"AbortError"])}return(0,a.A)(t,e),(0,s.A)(t)}((0,i.A)(DOMException)),sf=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Image Scene Data Error",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IMAGE_SCENE_DATA_ERROR";return(0,l.A)(this,t),e=(0,r.A)(this,t,[n]),(0,m.d)(e,"code"),e.name="EncodingError",e.code=a,e}return(0,a.A)(t,e),(0,s.A)(t)}((0,i.A)(Error)),cf=function(e){function t(){var e;return(0,l.A)(this,t),e=(0,r.A)(this,t,arguments),(0,m.d)(e,"code","ELEMENT_HAS_INVALID_INDEX"),e}return(0,a.A)(t,e),(0,s.A)(t)}((0,i.A)(Error)),df=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Worker URL is not defined!",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"WORKER_URL_NOT_DEFINED";return(0,l.A)(this,t),e=(0,r.A)(this,t,[n]),(0,m.d)(e,"code"),e.name="WorkerUrlNotDefinedError",e.code=a,e}return(0,a.A)(t,e),(0,s.A)(t)}((0,i.A)(Error)),uf=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Worker has to be in a separate chunk!",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"WORKER_IN_THE_MAIN_CHUNK";return(0,l.A)(this,t),e=(0,r.A)(this,t,[n]),(0,m.d)(e,"code"),e.name="WorkerInTheMainChunkError",e.code=a,e}return(0,a.A)(t,e),(0,s.A)(t)}((0,i.A)(Error)),ff=function(e){function t(e){var n;return(0,l.A)(this,t),(n=(0,r.A)(this,t,[e])).name="ExcalidrawError",n}return(0,a.A)(t,e),(0,s.A)(t)}((0,i.A)(Error)),hf=(0,s.A)((function e(t){(0,l.A)(this,e),(0,m.d)(this,"instance"),(0,m.d)(this,"debounceTerminate"),this.instance=new Worker(t,{type:"module"})})),pf=function(){function e(t,n){(0,l.A)(this,e),(0,m.d)(this,"idleWorkers",new Set),(0,m.d)(this,"workerUrl"),(0,m.d)(this,"workerTTL"),this.workerUrl=t,this.workerTTL=n.ttl||1e3}return(0,s.A)(e,[{key:"postMessage",value:function(){var e=(0,d.A)((0,c.A)().mark((function e(t,n){var r,a,i=this;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Array.from(this.idleWorkers).shift())){e.next=5;break}this.idleWorkers.delete(a),r=a,e.next=8;break;case 5:return e.next=7,this.createWorker();case 7:r=e.sent;case 8:return e.abrupt("return",new Promise((function(e,a){r.instance.onmessage=i.onMessageHandler(r,e),r.instance.onerror=i.onErrorHandler(r,a),r.instance.postMessage(t,n),r.debounceTerminate((function(){return a(new Error("Active worker did not respond for ".concat(i.workerTTL,"ms!")))}))})));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=(0,d.A)((0,c.A)().mark((function e(){var t,n,r;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,u.A)(this.idleWorkers);try{for(t.s();!(n=t.n()).done;)(r=n.value).debounceTerminate.cancel(),r.instance.terminate()}catch(Be){t.e(Be)}finally{t.f()}this.idleWorkers.clear();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createWorker",value:function(){var e=(0,d.A)((0,c.A)().mark((function e(){var t,n=this;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new hf(this.workerUrl),e.abrupt("return",(t.debounceTerminate=zo((function(e){t.instance.terminate(),n.idleWorkers.has(t)?(n.idleWorkers.delete(t),console.debug("Job finished! Idle worker has been released from the pool.")):e?e():console.error("Worker has been terminated!")}),this.workerTTL),t));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMessageHandler",value:function(e,t){var n=this;return function(r){e.debounceTerminate(),n.idleWorkers.add(e),t(r.data)}}},{key:"onErrorHandler",value:function(e,t){var n=this;return function(r){e.debounceTerminate((function(){return t(r)})),e.debounceTerminate.flush(),n.clear()}}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new df;if("file:///home/runner/work/seahub/seahub/frontend/node_modules/@excalidraw/excalidraw/dist/prod/chunk-FX7ZIABN.js"===t.toString())throw new uf;return new e(t,n)}}])}(),vf=typeof Worker<"u",Uf=function(){var e=(0,d.A)((0,c.A)().mark((function e(t,n){var r,a,i,o;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yf();case 2:return r=e.sent,a=r.Commands,i=r.subsetToBase64,o=r.toBase64,e.abrupt("return",vf?Ol((0,d.A)((0,c.A)().mark((function e(){var r,l,s;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wf();case 3:return r=e.sent,l=t.slice(0),e.next=7,r.postMessage({command:a.Subset,arrayBuffer:l,codePoints:n},{transfer:[l]});case 7:return s=e.sent,e.abrupt("return",o(s));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",(vf=!1,typeof yr<"u"&&(e.t0 instanceof df||e.t0 instanceof uf)||console.error("Failed to use workers for subsetting, falling back to the main thread.",e.t0),i(t,n)));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))):i(t,n));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mf=null,gf=null,bf=function(){var e=(0,d.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(mf||(mf=n.e(5706).then(n.bind(n,35706))),mf));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yf=function(){var e=(0,d.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(gf||(gf=n.e(9605).then(n.bind(n,99605))),gf));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xf=null,wf=function(){return xf||(xf=Ol((0,d.A)((0,c.A)().mark((function e(){var t,n;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bf();case 2:return t=e.sent,n=t.WorkerUrl,e.abrupt("return",pf.create(n));case 5:case"end":return e.stop()}}),e)}))))),xf},Af=function(){function e(t,n,r){(0,l.A)(this,e),(0,m.d)(this,"urls"),(0,m.d)(this,"fontFace"),this.urls=e.createUrls(n);var a=this.urls.map((function(t){return"url(".concat(t,") ").concat(e.getFormat(t))})).join(", ");this.fontFace=new FontFace(t,a,(0,v.A)({display:"swap",style:"normal",weight:"400"},r))}return(0,s.A)(e,[{key:"toCSS",value:function(e){var t=this;if(this.getUnicodeRangeRegex().test(e)){var n=Array.from(e).map((function(e){return e.codePointAt(0)}));return this.getContent(n).then((function(e){return"@font-face { font-family: ".concat(t.fontFace.family,"; src: url(").concat(e,"); }")}))}}},{key:"getContent",value:function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n,r,a,i;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=[];case 1:if(!(n<this.urls.length)){e.next=18;break}return a=this.urls[n],e.prev=3,e.next=6,this.fetchFont(a);case 6:return i=e.sent,e.next=9,Uf(i,t);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(3),r.push('"'.concat(a.toString(),'" returned error "').concat(e.t0,'"'));case 15:n++;case 16:e.next=1;break;case 18:return e.abrupt("return",(console.error('Failed to fetch font family "'.concat(this.fontFace.family,'"'),JSON.stringify(r,void 0,2)),this.urls.length?this.urls[this.urls.length-1].toString():""));case 19:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchFont",value:function(e){return Ol((0,d.A)((0,c.A)().mark((function t(){var n,r;return(0,c.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{cache:"force-cache",headers:{Accept:"font/woff2"}});case 2:if((n=t.sent).ok){t.next=6;break}throw r=e instanceof URL?e.toString():"dataurl",new Error('Failed to fetch "'.concat(r,'": ').concat(n.statusText));case 6:return t.next=8,n.arrayBuffer();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)}))))}},{key:"getUnicodeRangeRegex",value:function(){var e=this.fontFace.unicodeRange.split(/,\s*/).map((function(e){var t=e.replace("U+","").split("-"),n=(0,f.A)(t,2),r=n[0],a=n[1];return a?"\\u{".concat(r,"}-\\u{").concat(a,"}"):"\\u{".concat(r,"}")})).join("");return new RegExp("[".concat(e,"]"),"u")}}],[{key:"createUrls",value:function(t){var n=this;if(t.startsWith("data"))return[t];if(t.startsWith(af))return[];if(t.startsWith("http"))return[new URL(t)];var r=t.replace(/^\/+/,""),a=[];if("string"==typeof window.EXCALIDRAW_ASSET_PATH){var i=this.normalizeBaseUrl(window.EXCALIDRAW_ASSET_PATH);a.push(new URL(r,i))}else Array.isArray(window.EXCALIDRAW_ASSET_PATH)&&window.EXCALIDRAW_ASSET_PATH.forEach((function(e){var t=n.normalizeBaseUrl(e);a.push(new URL(r,t))}));return a.push(new URL(r,e.ASSETS_FALLBACK_URL)),a}},{key:"getFormat",value:function(e){if(!(e instanceof URL))return"";try{var t=new URL(e).pathname.split(".");return 1===t.length?"":"format('".concat(t.pop(),"')")}catch(n){return""}}},{key:"normalizeBaseUrl",value:function(e){var t,n=e;return/^\.?\//.test(n)&&(n=new URL(n.replace(/^\.?\/+/,""),null===(t=window)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.origin).toString()),n="".concat(n.replace(/\/+$/,""),"/")}}])}();(0,m.d)(Af,"ASSETS_FALLBACK_URL","https://esm.sh/".concat(U.a.PKG_NAME?"".concat(U.a.PKG_NAME,"@").concat(U.a.PKG_VERSION):"@excalidraw/excalidraw","/dist/prod/"));var Ef=Af,kf=[{uri:"./fonts/Cascadia/CascadiaCode-Regular.woff2"}],Sf=[{uri:"./fonts/ComicShanns/ComicShanns-Regular-279a7b317d12eb88de06167bd672b4b4.woff2",descriptors:{unicodeRange:"U+20-7e,U+a1-a6,U+a8,U+ab-ac,U+af-b1,U+b4,U+b8,U+bb-bc,U+bf-cf,U+d1-d7,U+d9-de,U+e0-ef,U+f1-f7,U+f9-ff,U+131,U+152-153,U+2c6,U+2da,U+2dc,U+2013-2014,U+2018-201a,U+201c-201d,U+2020-2022,U+2026,U+2039-203a,U+2044,U+20ac,U+2191,U+2193,U+2212"}},{uri:"./fonts/ComicShanns/ComicShanns-Regular-fcb0fc02dcbee4c9846b3e2508668039.woff2",descriptors:{unicodeRange:"U+100-10f,U+112-125,U+128-130,U+134-137,U+139-13c,U+141-148,U+14c-151,U+154-161,U+164-165,U+168-17f,U+1bf,U+1f7,U+218-21b,U+237,U+1e80-1e85,U+1ef2-1ef3,U+a75b"}},{uri:"./fonts/ComicShanns/ComicShanns-Regular-dc6a8806fa96795d7b3be5026f989a17.woff2",descriptors:{unicodeRange:"U+2c7,U+2d8-2d9,U+2db,U+2dd,U+315,U+2190,U+2192,U+2200,U+2203-2204,U+2264-2265,U+f6c3"}},{uri:"./fonts/ComicShanns/ComicShanns-Regular-6e066e8de2ac57ea9283adb9c24d7f0c.woff2",descriptors:{unicodeRange:"U+3bb"}}],Mf=[{uri:af}],Cf=[{uri:"./fonts/Excalifont/Excalifont-Regular-a88b72a24fb54c9f94e3b5fdaa7481c9.woff2",descriptors:{unicodeRange:"U+20-7e,U+a0-a3,U+a5-a6,U+a8-ab,U+ad-b1,U+b4,U+b6-b8,U+ba-ff,U+131,U+152-153,U+2bc,U+2c6,U+2da,U+2dc,U+304,U+308,U+2013-2014,U+2018-201a,U+201c-201e,U+2020,U+2022,U+2024-2026,U+2030,U+2039-203a,U+20ac,U+2122,U+2212"}},{uri:"./fonts/Excalifont/Excalifont-Regular-be310b9bcd4f1a43f571c46df7809174.woff2",descriptors:{unicodeRange:"U+100-130,U+132-137,U+139-149,U+14c-151,U+154-17e,U+192,U+1fc-1ff,U+218-21b,U+237,U+1e80-1e85,U+1ef2-1ef3,U+2113"}},{uri:"./fonts/Excalifont/Excalifont-Regular-b9dcf9d2e50a1eaf42fc664b50a3fd0d.woff2",descriptors:{unicodeRange:"U+400-45f,U+490-491,U+2116"}},{uri:"./fonts/Excalifont/Excalifont-Regular-41b173a47b57366892116a575a43e2b6.woff2",descriptors:{unicodeRange:"U+37e,U+384-38a,U+38c,U+38e-393,U+395-3a1,U+3a3-3a8,U+3aa-3cf,U+3d7"}},{uri:"./fonts/Excalifont/Excalifont-Regular-3f2c5db56cc93c5a6873b1361d730c16.woff2",descriptors:{unicodeRange:"U+2c7,U+2d8-2d9,U+2db,U+2dd,U+302,U+306-307,U+30a-30c,U+326-328,U+212e,U+2211,U+fb01-fb02"}},{uri:"./fonts/Excalifont/Excalifont-Regular-349fac6ca4700ffec595a7150a0d1e1d.woff2",descriptors:{unicodeRange:"U+462-463,U+472-475,U+4d8-4d9,U+4e2-4e3,U+4e6-4e9,U+4ee-4ef"}},{uri:"./fonts/Excalifont/Excalifont-Regular-623ccf21b21ef6b3a0d87738f77eb071.woff2",descriptors:{unicodeRange:"U+300-301,U+303"}}],jf=[{uri:af}],If=[{uri:"./fonts/Liberation/LiberationSans-Regular.woff2"}],Df=[{uri:"./fonts/Lilita/Lilita-Regular-i7dPIFZ9Zz-WBtRtedDbYE98RXi4EwSsbg.woff2",descriptors:{unicodeRange:ef}},{uri:"./fonts/Lilita/Lilita-Regular-i7dPIFZ9Zz-WBtRtedDbYEF8RXi4EwQ.woff2",descriptors:{unicodeRange:Ju}}],Tf=[{uri:"./fonts/Nunito/Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTk3j6zbXWjgevT5.woff2",descriptors:{unicodeRange:tf,weight:"500"}},{uri:"./fonts/Nunito/Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTA3j6zbXWjgevT5.woff2",descriptors:{unicodeRange:nf,weight:"500"}},{uri:"./fonts/Nunito/Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTs3j6zbXWjgevT5.woff2",descriptors:{unicodeRange:rf,weight:"500"}},{uri:"./fonts/Nunito/Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTo3j6zbXWjgevT5.woff2",descriptors:{unicodeRange:ef,weight:"500"}},{uri:"./fonts/Nunito/Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTQ3j6zbXWjgeg.woff2",descriptors:{unicodeRange:Ju,weight:"500"}}],_f=[{uri:"./fonts/Virgil/Virgil-Regular.woff2"}],Lf=[{uri:"./fonts/Xiaolai/Xiaolai-Regular-09850c4077f3fffe707905872e0e2460.woff2",descriptors:{unicodeRange:"U+f9b8-fa6d,U+fe32,U+fe45-fe4f,U+ff02-ff0b,U+ff0d-ff1e,U+ff20-ff2a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7eb9fffd1aa890d07d0f88cc82e6cfe4.woff2",descriptors:{unicodeRange:"U+20dd-20de,U+25ef,U+ff2b-ffbe,U+ffc2-ffc7,U+ffca-ffcf,U+ffd2-ffd7,U+ffda-ffdc,U+ffe0-ffe6,U+ffe8-ffee"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-60a3089806700d379f11827ee9843b6b.woff2",descriptors:{unicodeRange:"U+d7eb-d7fb,U+f900-f9b7"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-6fe5c5973cc06f74b2387a631ea36b88.woff2",descriptors:{unicodeRange:"U+d6f2-d7a3,U+d7b0-d7c6,U+d7cb-d7ea"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b96d9226ce77ec94ceca043d712182e6.woff2",descriptors:{unicodeRange:"U+d609-d6f1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-6ae5b42180ad70b971c91e7eefb8eba2.woff2",descriptors:{unicodeRange:"U+d520-d608"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a4c34be6d42152e64b0df90bc4607f64.woff2",descriptors:{unicodeRange:"U+d437-d51f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c69f61a4ab18d0488c8d1fc12e7028e8.woff2",descriptors:{unicodeRange:"U+d34e-d436"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e3fcf5180fd466c8915c4e8069491054.woff2",descriptors:{unicodeRange:"U+d265-d34d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c1f94158256bb1f3bf665b053d895af9.woff2",descriptors:{unicodeRange:"U+d17c-d264"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-544fc28abe2c5c30e62383fd4dac255f.woff2",descriptors:{unicodeRange:"U+d093-d17b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7197d6fda6cba7c3874c53d6381ca239.woff2",descriptors:{unicodeRange:"U+cfaa-d092"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-70c2eb8d64e71a42a834eb857ea9df51.woff2",descriptors:{unicodeRange:"U+cec1-cfa9"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-069e77aac84590e2e991d0a0176d34f2.woff2",descriptors:{unicodeRange:"U+cdd8-cec0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-41521fade99856108931b4768b1b2648.woff2",descriptors:{unicodeRange:"U+ccf1-cdd7"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a004ddfcb26e67bd6e678c8ed19e25ce.woff2",descriptors:{unicodeRange:"U+cc08-ccf0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-04b718e5623574919c8b0dea5f301444.woff2",descriptors:{unicodeRange:"U+cb43-cc07"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7e4bde7e9c7f84cd34d8a845e384c746.woff2",descriptors:{unicodeRange:"U+ca83-cb42"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-23686f7f29da6e8008c36dd3a80c83d6.woff2",descriptors:{unicodeRange:"U+c9a1-ca82"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-69c09cc5fa3e55c74fc4821f76909cc3.woff2",descriptors:{unicodeRange:"U+c8b8-c9a0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-25b7f38e18f035f96cb5e547bd2bd08c.woff2",descriptors:{unicodeRange:"U+c7cf-c8b7"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-ba3de316d63c7e339987b16f41a0b879.woff2",descriptors:{unicodeRange:"U+c6e6-c7ce"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-12b52b58eb3df36804b9a654ec9ee194.woff2",descriptors:{unicodeRange:"U+c5fd-c6e5"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b1220a3c61f85cc0408deedb4c5f57a2.woff2",descriptors:{unicodeRange:"U+c514-c5fc"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4535823663ad81405188a528d8f2b1a2.woff2",descriptors:{unicodeRange:"U+c42b-c513"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3eaa538115d76932653c21d8dc28f207.woff2",descriptors:{unicodeRange:"U+c341-c34e,U+c350-c42a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7e929f262f30c8ee78bf398150b1a7cd.woff2",descriptors:{unicodeRange:"U+c258-c340"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-73e309718fd16cea44b4d54a33581811.woff2",descriptors:{unicodeRange:"U+c16f-c257"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-9eb5a99df4e76ac3363453ac9ca288b1.woff2",descriptors:{unicodeRange:"U+c086-c16e"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3e63ed8162808a9e425ed80a8bc79114.woff2",descriptors:{unicodeRange:"U+bf9d-c085"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cb17fc3db95f6d139afc9d31a8e93293.woff2",descriptors:{unicodeRange:"U+beb4-bf9c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c8b71798409ccc126ee264a00aadcf21.woff2",descriptors:{unicodeRange:"U+bdcb-beb3"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-11c345711937f0ba4b8f7b6b919c8440.woff2",descriptors:{unicodeRange:"U+bce2-bdca"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e480d9c614742d05f0e78f274f1e69e6.woff2",descriptors:{unicodeRange:"U+bbf9-bce1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-95429962233afd82db1c27df1500a28c.woff2",descriptors:{unicodeRange:"U+bb10-bbf8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2cf96d082d35ea3d8106851223ad0d16.woff2",descriptors:{unicodeRange:"U+ba27-bb0f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2d43040e86ff03ba677f6f9c04cd0805.woff2",descriptors:{unicodeRange:"U+b93e-ba26"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2a26d20a23b00898ce82f09d2ee47c3f.woff2",descriptors:{unicodeRange:"U+b855-b93d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a365e82ed54697a52f27adcea1315fe8.woff2",descriptors:{unicodeRange:"U+b76c-b854"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-f5d079153c99a25b9be5b8583c4cc8a7.woff2",descriptors:{unicodeRange:"U+b683-b76b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-10a7ae9a371830a80c3d844acf1c02d7.woff2",descriptors:{unicodeRange:"U+b59a-b682"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e4bca6cfa53e499cae0a6be4894a90e9.woff2",descriptors:{unicodeRange:"U+b4b1-b599"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-60a41c7e1c68f22424e6d22df544bc82.woff2",descriptors:{unicodeRange:"U+11fb-11ff,U+b3cd-b4b0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7ab2bed91166a9dca83a5ebfbe2a7f38.woff2",descriptors:{unicodeRange:"U+11e6-11fa,U+b2f9-b3cc"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-670ba603758d94268e8606f240a42e12.woff2",descriptors:{unicodeRange:"U+11d1-11e5,U+b225-b2f8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e656f091b9dc4709722c9f4b84d3c797.woff2",descriptors:{unicodeRange:"U+11bc-11d0,U+b151-b224"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-15dc6d811c9cd078f9086a740d5a1038.woff2",descriptors:{unicodeRange:"U+11a7-11bb,U+b07d-b150"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-f0f13b5c60e0af5553bd359f5513be1b.woff2",descriptors:{unicodeRange:"U+1191-11a6,U+afaa-b07c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-8c2f33cee3993174f7e87c28e4bf42ee.woff2",descriptors:{unicodeRange:"U+117c-1190,U+aed6-afa9"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-761d05e3cd968cf574166867998ef06a.woff2",descriptors:{unicodeRange:"U+1167-117b,U+ae02-aed5"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-642b26e2e5f5fb780b51b593dbc8c851.woff2",descriptors:{unicodeRange:"U+1152-115e,U+1160-1166,U+ad2d-ae01"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5572b3513ba8df57a3d5d7303ee6b11b.woff2",descriptors:{unicodeRange:"U+113d-1151,U+ac59-ad2c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3c9de2ae0ea4bc91a510942dfa4be8d2.woff2",descriptors:{unicodeRange:"U+1100-113c,U+9f95-9f98,U+9f9c-9f9e,U+9fa1-9fce,U+9fd0,U+a960-a97c,U+ac00-ac58"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-671a2c20b1eb9e4ef8a192833940e319.woff2",descriptors:{unicodeRange:"U+9771-9772,U+9775,U+9777-977b,U+977d-9784,U+9786-978a,U+978c,U+978e-9790,U+9793,U+9795-9797,U+9799-979f,U+97a1-97a2,U+97a4-97aa,U+97ac,U+97ae,U+97b0-97b1,U+97b3,U+97b5-97e5,U+97e8,U+97ee-97f2,U+97f4,U+97f7-982d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4dc6d5f188d5c96d44815cd1e81aa885.woff2",descriptors:{unicodeRange:"U+9491,U+9496,U+9498,U+94c7,U+94cf,U+94d3-94d4,U+94da,U+94e6,U+94fb,U+951c,U+9520,U+9527,U+9533,U+953d,U+9543,U+9548,U+954b,U+9555,U+955a,U+9560,U+956e,U+9574-9575,U+9577-957e,U+9580-95e7,U+95ec,U+95ff,U+9607,U+9613,U+9618,U+961b,U+961e,U+9620,U+9623-9629,U+962b-962d,U+962f-9630,U+9637-963a,U+963e,U+9641,U+9643,U+964a,U+964e-964f,U+9651-9653,U+9656-965a,U+965c-965e,U+9660,U+9663,U+9665-9666,U+966b,U+966d-9671,U+9673,U+9678-9684,U+9687,U+9689-968a,U+968c,U+968e,U+9691-9693"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-ce4884f96f11589608b76b726a755803.woff2",descriptors:{unicodeRange:"U+923c-9273,U+9275-928d,U+928f-92ad,U+92af-92c7,U+92c9-92ee"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-8f476c4c99813d57cbe6eca4727388ad.woff2",descriptors:{unicodeRange:"U+9159,U+915b-915c,U+915f-9160,U+9166-9168,U+916b,U+916d,U+9173,U+917a-917c,U+9180-9184,U+9186,U+9188,U+918a,U+918e-918f,U+9193-9199,U+919c-91a1,U+91a4-91a9,U+91ab-91ac,U+91b0-91b3,U+91b6-91b9,U+91bb-91c6,U+91c8,U+91cb,U+91d0,U+91d2-91db,U+91dd-923b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5935a5775af3d5c6307ac667bd9ae74e.woff2",descriptors:{unicodeRange:"U+902b-902c,U+9030-9034,U+9037,U+9039-903a,U+903d,U+903f-9040,U+9043,U+9045-9046,U+9048-904c,U+904e,U+9054-9056,U+9059-905a,U+905c-9061,U+9064,U+9066-9067,U+9069-906c,U+906f-9073,U+9076-907c,U+907e,U+9081,U+9084-9087,U+9089-908a,U+908c-9090,U+9092,U+9094,U+9096,U+9098,U+909a,U+909c,U+909e-90a0,U+90a4-90a5,U+90a7-90a9,U+90ab,U+90ad,U+90b2,U+90b7,U+90bc-90bd,U+90bf-90c0,U+90c2-90c3,U+90c6,U+90c8-90c9,U+90cb-90cd,U+90d2,U+90d4-90d6,U+90d8-90da,U+90de-90e0,U+90e3-90e5,U+90e9-90ea,U+90ec,U+90ee,U+90f0-90f3,U+90f5-90f7,U+90f9-90fc,U+90ff-9101,U+9103,U+9105-9118,U+911a-911d,U+911f-9121,U+9124-912e,U+9130,U+9132-9138,U+913a-9142,U+9144-9145,U+9147-9148,U+9151,U+9153-9156,U+9158"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-79f007c1c6d07557120982951ea67998.woff2",descriptors:{unicodeRange:"U+8f03-8f65,U+8f6a,U+8f80,U+8f8c,U+8f92,U+8f9d,U+8fa0-8fa2,U+8fa4-8fa7,U+8faa,U+8fac-8faf,U+8fb2-8fb5,U+8fb7-8fb8,U+8fba-8fbc,U+8fbf-8fc0,U+8fc3,U+8fc6,U+8fc9-8fcd,U+8fcf,U+8fd2,U+8fd6-8fd7,U+8fda,U+8fe0-8fe1,U+8fe3,U+8fe7,U+8fec,U+8fef,U+8ff1-8ff2,U+8ff4-8ff6,U+8ffa-8ffc,U+8ffe-8fff,U+9007-9008,U+900c,U+900e,U+9013,U+9015,U+9018-9019,U+901c,U+9023-9025,U+9027-902a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-bafff7a14c27403dcc6cf1432e8ea836.woff2",descriptors:{unicodeRange:"U+8d03-8d1c,U+8d20,U+8d51-8d52,U+8d57,U+8d5f,U+8d65,U+8d68-8d6a,U+8d6c,U+8d6e-8d6f,U+8d71-8d72,U+8d78-8d80,U+8d82-8d83,U+8d86-8d89,U+8d8c-8d90,U+8d92-8d93,U+8d95-8d9e,U+8da0-8da2,U+8da4-8db0,U+8db2,U+8db6-8db7,U+8db9,U+8dbb,U+8dbd,U+8dc0-8dc2,U+8dc5,U+8dc7-8dca,U+8dcd,U+8dd0,U+8dd2-8dd5,U+8dd8-8dd9,U+8ddc,U+8de0-8de2,U+8de5-8de7,U+8de9,U+8ded-8dee,U+8df0-8df2,U+8df4,U+8df6,U+8dfc,U+8dfe-8e04,U+8e06-8e08,U+8e0b,U+8e0d-8e0e,U+8e10-8e13,U+8e15-8e1c,U+8e20-8e21,U+8e24-8e28,U+8e2b,U+8e2d,U+8e30,U+8e32-8e34,U+8e36-8e38,U+8e3b-8e3c,U+8e3e-8e3f,U+8e43,U+8e45-8e46"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-543fa46ace099a7099dad69123399400.woff2",descriptors:{unicodeRange:"U+8bea,U+8c09,U+8c1e,U+8c38-8c40,U+8c42-8c45,U+8c48,U+8c4a-8c4b,U+8c4d-8c54,U+8c56-8c59,U+8c5b-8c60,U+8c63-8c69,U+8c6c-8c72,U+8c74-8c77,U+8c7b-8c81,U+8c83-8c84,U+8c86-8c88,U+8c8b,U+8c8d-8c93,U+8c95-8c97,U+8c99-8d02"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4ddc14ed3eb0c3e46364317dfc0144a3.woff2",descriptors:{unicodeRange:"U+8a64-8a78,U+8a7a-8a88,U+8a8b-8a92,U+8a94-8b06,U+8b08-8b1b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-0fa55a080fcd0f9dc2e0b0058b793df8.woff2",descriptors:{unicodeRange:"U+8987-89c0,U+89c3,U+89cd,U+89d3-89d5,U+89d7-89d9,U+89db,U+89dd,U+89df-89e2,U+89e4,U+89e7-89ea,U+89ec-89ee,U+89f0-89f2,U+89f4-89ff,U+8a01-8a06,U+8a08-8a3d,U+8a3f-8a47,U+8a49-8a63"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-66493ba5a8367f2928812f446f47b56a.woff2",descriptors:{unicodeRange:"U+87e3-87e4,U+87e6-87e9,U+87eb-87ed,U+87ef-87f8,U+87fa-87fd,U+87ff-8802,U+8804-8809,U+880b-8812,U+8814,U+8817-881a,U+881c-8820,U+8823-8831,U+8833-8838,U+883a-883b,U+883d-883f,U+8841-8843,U+8846-884b,U+884e-8853,U+8855-8856,U+8858,U+885a-8860,U+8866-8867,U+886a,U+886d,U+886f,U+8871,U+8873-8876,U+8878-887c,U+8880,U+8883,U+8886-8887,U+8889-888a,U+888c,U+888e-8891,U+8893-8895,U+8897-889b,U+889d-88a1,U+88a3,U+88a5-88aa,U+88ac,U+88ae-88b0,U+88b2-88b6,U+88b8-88bb"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-57862b464a55b18c7bf234ce22907d73.woff2",descriptors:{unicodeRange:"U+86e7-86e8,U+86ea-86ec,U+86ef,U+86f5-86f7,U+86fa-86fd,U+86ff,U+8701,U+8704-8706,U+870b-870c,U+870e-8711,U+8714,U+8716,U+8719,U+871b,U+871d,U+871f-8720,U+8724,U+8726-8728,U+872a-872d,U+872f-8730,U+8732-8733,U+8735-8736,U+8738-873a,U+873c-873d,U+8740-8746,U+874a-874b,U+874d,U+874f-8752,U+8754-8756,U+8758,U+875a-875f,U+8761-8762,U+8766-876d,U+876f,U+8771-8773,U+8775,U+8777-877a,U+877f-8781,U+8784,U+8786-8787,U+8789-878a,U+878c,U+878e-8792,U+8794-8796,U+8798-879e,U+87a0-87a7,U+87a9-87aa,U+87ae,U+87b0-87b2,U+87b4,U+87b6-87b9,U+87bb-87bc,U+87be-87bf,U+87c1-87c5,U+87c7-87c9,U+87cc-87d0,U+87d4-87da,U+87dc-87df,U+87e1-87e2"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-8d3bcabb847b56243b16afe62adaaf21.woff2",descriptors:{unicodeRange:"U+8604,U+8606-8610,U+8612-8615,U+8617-8626,U+8628,U+862a-8637,U+8639-863b,U+863d-864c,U+8652-8653,U+8655-8659,U+865b-865d,U+865f-8661,U+8663-866a,U+866d,U+866f-8670,U+8672-8678,U+8683-8689,U+868e-8692,U+8694,U+8696-869b,U+869e-86a2,U+86a5-86a6,U+86ab,U+86ad-86ae,U+86b2-86b3,U+86b7-86b9,U+86bb-86bf,U+86c1-86c3,U+86c5,U+86c8,U+86cc-86cd,U+86d2-86d3,U+86d5-86d7,U+86da,U+86dc-86dd,U+86e0-86e3,U+86e5-86e6"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2b77e8ebfb2367ab2662396a60e7d320.woff2",descriptors:{unicodeRange:"U+8456,U+8458,U+845d-8460,U+8462,U+8464-8468,U+846a,U+846e-8470,U+8472,U+8474,U+8477,U+8479,U+847b-8481,U+8483-8486,U+848a,U+848d,U+848f-8496,U+8498,U+849a-849b,U+849d-84a0,U+84a2-84ae,U+84b0-84b1,U+84b3,U+84b5-84b7,U+84bb-84bc,U+84be,U+84c0,U+84c2-84c3,U+84c5-84c8,U+84cb-84cc,U+84ce-84cf,U+84d2,U+84d4-84d5,U+84d7-84dc,U+84de,U+84e1-84e2,U+84e4,U+84e7-84eb,U+84ed-84ef,U+84f1-84fb,U+84fd-84fe,U+8500-850b,U+850d-8510,U+8512,U+8514-8516,U+8518-8519,U+851b-851e,U+8520,U+8522-852a,U+852d-8536,U+853e-8542,U+8544-8547,U+854b-854f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-0b5d723fdc4e249c140f0909e87d03b4.woff2",descriptors:{unicodeRange:"U+82c2-82c3,U+82c5-82c6,U+82c9,U+82d0,U+82d6,U+82d9-82da,U+82dd,U+82e2,U+82e7-82ea,U+82ec-82ee,U+82f0,U+82f2-82f3,U+82f5-82f6,U+82f8,U+82fa,U+82fc-8300,U+830a-830b,U+830d,U+8310,U+8312-8313,U+8316,U+8318-8319,U+831d-8326,U+8329-832a,U+832e,U+8330,U+8332,U+8337,U+833b,U+833d-833f,U+8341-8342,U+8344-8345,U+8348,U+834a-834e,U+8353,U+8355-8359,U+835d,U+8362,U+8370-8376,U+8379-837a,U+837e-8384,U+8387-8388,U+838a-838d,U+838f-8391,U+8394-8397,U+8399-839a,U+839d,U+839f,U+83a1-83a7,U+83ac-83af,U+83b5,U+83bb,U+83be-83bf,U+83c2-83c4,U+83c6,U+83c8-83c9,U+83cb,U+83cd-83ce,U+83d0-83d3,U+83d5,U+83d7,U+83d9-83db,U+83de,U+83e2-83e4,U+83e6-83e8,U+83eb-83ef,U+83f3-83f7,U+83fa-83fc,U+83fe-8400,U+8402,U+8405,U+8407-840a,U+8410,U+8412-8417,U+8419-841b,U+841e-8423,U+8429-8430,U+8432-8437,U+8439-843b,U+843e-8445,U+8447-8450,U+8452-8455"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cdbce89e82cc1ab53a2decbf5819278f.woff2",descriptors:{unicodeRange:"U+81a4-81a5,U+81a7,U+81a9,U+81ab-81b2,U+81b4-81b9,U+81bc-81bf,U+81c4-81c5,U+81c7-81c9,U+81cb,U+81cd-81e2,U+81e4-81e6,U+81e8-81e9,U+81eb,U+81ee-81f2,U+81f5-81fa,U+81fd,U+81ff,U+8203,U+8207-820b,U+820e-820f,U+8211,U+8213,U+8215-821a,U+821d,U+8220,U+8224-8227,U+8229,U+822e,U+8232,U+823a,U+823c-823d,U+823f-8243,U+8245-8246,U+8248,U+824a,U+824c-824e,U+8250-8257,U+8259,U+825b-825e,U+8260-8267,U+8269-826d,U+8271,U+8275-8278,U+827b-827c,U+8280-8281,U+8283,U+8285-8287,U+8289,U+828c,U+8290,U+8293-8296,U+829a-829b,U+829e,U+82a0,U+82a2-82a3,U+82a7,U+82b2,U+82b5-82b6,U+82ba-82bc,U+82bf-82c0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-739bc1a567439c7cffcd1614644593d2.woff2",descriptors:{unicodeRange:"U+8059,U+805b-8068,U+806b-8070,U+8072-807e,U+8081-8082,U+8085,U+8088,U+808a,U+808d-8092,U+8094-8095,U+8097,U+8099,U+809e,U+80a3,U+80a6-80a8,U+80ac,U+80b0,U+80b3,U+80b5-80b6,U+80b8-80b9,U+80bb,U+80c5,U+80c7-80cb,U+80cf-80d5,U+80d8,U+80df-80e0,U+80e2-80e3,U+80e6,U+80ee,U+80f5,U+80f7,U+80f9,U+80fb,U+80fe-8101,U+8103-8105,U+8107-8108,U+810b-810c,U+8115,U+8117,U+8119,U+811b-811d,U+811f-812b,U+812d-812e,U+8130,U+8133-8135,U+8137,U+8139-813d,U+813f-8145,U+8147,U+8149,U+814d-814f,U+8152,U+8156-8158,U+815b-815f,U+8161-8164,U+8166,U+8168,U+816a-816c,U+816f,U+8172-8173,U+8175-8178,U+8181,U+8183-8187,U+8189,U+818b-818e,U+8190,U+8192-8197,U+8199-819a,U+819e-81a2"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-72252d73220fa3cd856677888cee1635.woff2",descriptors:{unicodeRange:"U+7f3c-7f41,U+7f43,U+7f46-7f4f,U+7f52-7f53,U+7f56,U+7f59,U+7f5b-7f5e,U+7f60,U+7f63-7f67,U+7f6b-7f6d,U+7f6f-7f70,U+7f73,U+7f75-7f78,U+7f7a-7f7d,U+7f7f-7f80,U+7f82-7f89,U+7f8b,U+7f8d,U+7f8f-7f93,U+7f95-7f99,U+7f9b-7f9c,U+7fa0,U+7fa2-7fa3,U+7fa5-7fa6,U+7fa8-7fae,U+7fb1,U+7fb3-7fb7,U+7fba-7fbb,U+7fbe,U+7fc0,U+7fc2-7fc4,U+7fc6-7fc9,U+7fcb,U+7fcd,U+7fcf-7fd3,U+7fd6-7fd7,U+7fd9-7fde,U+7fe2-7fe4,U+7fe7-7fe8,U+7fea-7fed,U+7fef,U+7ff2,U+7ff4-7ffa,U+7ffd-7fff,U+8002,U+8007-800a,U+800e-800f,U+8011,U+8013,U+801a-801b,U+801d-801f,U+8021,U+8023-8024,U+802b-8030,U+8032,U+8034,U+8039-803a,U+803c,U+803e,U+8040-8041,U+8044-8045,U+8047-8049,U+804e-8051,U+8053,U+8055-8057"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-08e0dc436ad0ad61ba5558db0674d762.woff2",descriptors:{unicodeRange:"U+7cd8,U+7cda-7cdb,U+7cdd-7cde,U+7ce1-7ce7,U+7ce9-7cee,U+7cf0-7cf7,U+7cf9-7cfa,U+7cfc-7d09,U+7d0b-7d1f,U+7d21,U+7d23-7d26,U+7d28-7d2a,U+7d2c-7d2e,U+7d30-7d6d,U+7d6f-7d76,U+7d78-7d94"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cf6ff4e0f491ca0cf3038187a997b9b4.woff2",descriptors:{unicodeRange:"U+7afe,U+7b00-7b02,U+7b05,U+7b07,U+7b09,U+7b0c-7b0e,U+7b10,U+7b12-7b13,U+7b16-7b18,U+7b1a,U+7b1c-7b1d,U+7b1f,U+7b21-7b23,U+7b27,U+7b29,U+7b2d,U+7b2f-7b30,U+7b32,U+7b34-7b37,U+7b39,U+7b3b,U+7b3d,U+7b3f-7b44,U+7b46,U+7b48,U+7b4a,U+7b4d-7b4e,U+7b53,U+7b55,U+7b57,U+7b59,U+7b5c,U+7b5e-7b5f,U+7b61,U+7b63-7b6d,U+7b6f-7b70,U+7b73-7b74,U+7b76,U+7b78,U+7b7a,U+7b7c-7b7d,U+7b7f,U+7b81-7b84,U+7b86-7b8c,U+7b8e-7b8f,U+7b91-7b93,U+7b96,U+7b98-7b9b,U+7b9e-7ba0,U+7ba3-7ba5,U+7bae-7bb0,U+7bb2-7bb3,U+7bb5-7bb7,U+7bb9-7bc0,U+7bc2-7bc5,U+7bc8-7bcb,U+7bcd-7bd0,U+7bd2,U+7bd4-7bd8,U+7bdb-7bdc,U+7bde-7be0,U+7be2-7be4,U+7be7-7be9,U+7beb-7bed,U+7bef-7bf0,U+7bf2-7bf6,U+7bf8-7bfb,U+7bfd,U+7bff-7c06,U+7c08-7c0a,U+7c0d-7c0e,U+7c10-7c13"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-9cfb2a77a4e45025105ad29a1748b90d.woff2",descriptors:{unicodeRange:"U+7a10-7a13,U+7a15-7a16,U+7a18-7a19,U+7a1b-7a1d,U+7a1f,U+7a21-7a22,U+7a24-7a32,U+7a34-7a36,U+7a38,U+7a3a,U+7a3e,U+7a40-7a45,U+7a47-7a50,U+7a52-7a56,U+7a58-7a6f,U+7a71-7a73,U+7a75,U+7a7b-7a7e,U+7a82,U+7a85,U+7a87,U+7a89-7a8c,U+7a8e-7a90,U+7a93-7a94,U+7a99-7a9b,U+7a9e,U+7aa1-7aa4,U+7aa7,U+7aa9-7aab,U+7aae-7ab2,U+7ab4-7abe,U+7ac0-7aca,U+7acc-7ad5,U+7ad7-7ad8,U+7ada-7add,U+7ae1-7ae2,U+7ae4,U+7ae7-7aec,U+7aee,U+7af0-7af8,U+7afb-7afc"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-450da755d5bcb70906e1295e559b9602.woff2",descriptors:{unicodeRange:"U+790d-7912,U+7914-791d,U+791f-7923,U+7925-7933,U+7935-7939,U+793d,U+793f,U+7942-7945,U+7947,U+794a-7952,U+7954-7955,U+7958-7959,U+7961,U+7963-7964,U+7966,U+7969-796c,U+796e,U+7970-7976,U+7979,U+797b-797f,U+7982-7983,U+7986-7989,U+798b-798e,U+7990-7999,U+799b-79a6,U+79a8-79b2,U+79b4-79b8,U+79bc,U+79bf,U+79c2,U+79c4-79c5,U+79c7-79c8,U+79ca,U+79cc,U+79ce-79d0,U+79d3-79d4,U+79d6-79d7,U+79d9-79de,U+79e0-79e2,U+79e5,U+79e8,U+79ea,U+79ec,U+79ee,U+79f1-79f7,U+79f9-79fa,U+79fc,U+79fe-79ff,U+7a01,U+7a04-7a05,U+7a07-7a0a,U+7a0c,U+7a0f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-0986d134c05864f5025962eef9f994a0.woff2",descriptors:{unicodeRange:"U+77d8-77da,U+77dd-77e1,U+77e4,U+77e6,U+77e8,U+77ea,U+77ef-77f2,U+77f4-77f5,U+77f7,U+77f9-77fc,U+7803-7808,U+780a-780b,U+780e-7810,U+7813,U+7815,U+7819,U+781b,U+781e,U+7820-7822,U+7824,U+7828,U+782a-782b,U+782e-782f,U+7831-7833,U+7835-7836,U+783d,U+783f,U+7841-7844,U+7846,U+7848-784b,U+784d,U+784f,U+7851,U+7853-7854,U+7858-785c,U+785e-7869,U+786f-7876,U+7878-787b,U+787d-7886,U+7888,U+788a-788b,U+788f-7890,U+7892,U+7894-7896,U+7899,U+789d-789e,U+78a0,U+78a2,U+78a4,U+78a6,U+78a8-78af,U+78b5-78b8,U+78ba-78bd,U+78bf-78c0,U+78c2-78c4,U+78c6-78c8,U+78cc-78cf,U+78d1-78d3,U+78d6-78d8,U+78da-78e7,U+78e9-78eb,U+78ed-78f1,U+78f3,U+78f5-78f6,U+78f8-78f9,U+78fb-7900,U+7902-7904,U+7906-790c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-1ee544f0f1dac422545c505baa788992.woff2",descriptors:{unicodeRange:"U+76af-76b0,U+76b3,U+76b5-76be,U+76c0-76c1,U+76c3-76c4,U+76c7,U+76c9,U+76cb-76cc,U+76d3,U+76d5,U+76d9-76da,U+76dc-76de,U+76e0-76e4,U+76e6-76ed,U+76f0,U+76f3,U+76f5-76f7,U+76fa-76fb,U+76fd,U+76ff-7703,U+7705-7706,U+770a,U+770c,U+770e-7718,U+771b-771e,U+7721,U+7723-7725,U+7727,U+772a-772c,U+772e,U+7730-7734,U+7739,U+773b,U+773d-773f,U+7742,U+7744-7746,U+7748-774f,U+7752-7759,U+775c-7760,U+7764,U+7767,U+7769-776a,U+776d-7778,U+777a-777c,U+7781-7783,U+7786-778b,U+778f-7790,U+7793-779e,U+77a1,U+77a3-77a4,U+77a6,U+77a8,U+77ab,U+77ad-77af,U+77b1-77b2,U+77b4,U+77b6-77ba,U+77bc,U+77be,U+77c0-77cc,U+77ce-77d6"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4806e761d750087c2d734fc64596eaff.woff2",descriptors:{unicodeRange:"U+7589-758a,U+758c-758e,U+7590,U+7593,U+7595,U+7598,U+759b-759c,U+759e,U+75a2,U+75a6-75aa,U+75ad,U+75b6-75b7,U+75ba-75bb,U+75bf-75c1,U+75c6,U+75cb-75cc,U+75ce-75d1,U+75d3,U+75d7,U+75d9-75da,U+75dc-75dd,U+75df-75e1,U+75e5,U+75e9,U+75ec-75ef,U+75f2-75f3,U+75f5-75f8,U+75fa-75fb,U+75fd-75fe,U+7602,U+7604,U+7606-7609,U+760b,U+760d-760f,U+7611-7614,U+7616,U+761a,U+761c-761e,U+7621,U+7623,U+7627-7628,U+762c,U+762e-762f,U+7631-7632,U+7636-7637,U+7639-763b,U+763d,U+7641-7642,U+7644-764b,U+764e-7653,U+7655,U+7657-765b,U+765d,U+765f-7662,U+7664-766a,U+766c-766e,U+7670-7677,U+7679-767a,U+767c,U+767f-7681,U+7683,U+7685,U+7689-768a,U+768c-768d,U+768f-7690,U+7692,U+7694-7695,U+7697-7698,U+769a-76a3,U+76a5-76ad"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-33432927cd87d40cfe393c7482bf221f.woff2",descriptors:{unicodeRange:"U+7492-749b,U+749d,U+749f-74a6,U+74aa-74b9,U+74bb-74d1,U+74d3-74db,U+74dd,U+74df,U+74e1,U+74e5,U+74e7-74ed,U+74f0-74f3,U+74f5,U+74f8-74fe,U+7500-7503,U+7505-750c,U+750e,U+7510,U+7512,U+7514-7517,U+751b,U+751d-751e,U+7520-7524,U+7526-7527,U+752a,U+752e,U+7534,U+7536,U+7539,U+753c-753d,U+753f,U+7541-7544,U+7546-7547,U+7549-754a,U+754d,U+7550-7553,U+7555-7558,U+755d-7564,U+7567-7569,U+756b-7571,U+7573,U+7575-7577,U+757a-757e,U+7580-7582,U+7584-7585,U+7587-7588"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-be549ab72f0719d606a5c01e2c0219b6.woff2",descriptors:{unicodeRange:"U+7372-737d,U+737f-7383,U+7385-7386,U+7388,U+738a,U+738c-738d,U+738f-7390,U+7392-7395,U+7397-739a,U+739c-739e,U+73a0-73a1,U+73a3-73a8,U+73aa,U+73ac-73ad,U+73b1,U+73b4-73b6,U+73b8-73b9,U+73bc-73bf,U+73c1,U+73c3-73c7,U+73cb-73cc,U+73ce,U+73d2-73d8,U+73da-73dd,U+73df,U+73e1-73e4,U+73e6,U+73e8,U+73ea-73ec,U+73ee-73f1,U+73f3-7402,U+7404,U+7407-7408,U+740b-740e,U+7411-7419,U+741c-7421,U+7423-7424,U+7427,U+7429,U+742b,U+742d,U+742f,U+7431-7432,U+7437-743b,U+743d-7440,U+7442-7454,U+7456,U+7458,U+745d,U+7460-746c,U+746e-746f,U+7471-7475,U+7478-747d,U+747f,U+7482,U+7484-7486,U+7488-748a,U+748c-748d,U+748f,U+7491"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-019d66dcad46dc156b162d267f981c20.woff2",descriptors:{unicodeRange:"U+7054-705d,U+705f-706a,U+706e,U+7071-7074,U+7077,U+7079-707b,U+707d,U+7081-7084,U+7086-7088,U+708b-708d,U+708f-7091,U+7093,U+7097-7098,U+709a-709b,U+709e-70aa,U+70b0,U+70b2,U+70b4-70b6,U+70ba,U+70be-70bf,U+70c4-70c7,U+70c9,U+70cb-70d7,U+70da,U+70dc-70de,U+70e0-70e3,U+70e5,U+70ea,U+70ee,U+70f0-70f6,U+70f8,U+70fa-70fc,U+70fe-7108,U+710b-710f,U+7111-7112,U+7114,U+7117,U+711b-7125,U+7127-712e,U+7132-7135,U+7137-7144,U+7146-7149,U+714b,U+714d,U+714f-715b,U+715d,U+715f-7163,U+7165,U+7169-716d,U+716f-7171,U+7174-7177"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b5c1596551c256e0e9cf02028595b092.woff2",descriptors:{unicodeRange:"U+722e-722f,U+7232-7234,U+723a,U+723c,U+723e,U+7240-7246,U+7249-724b,U+724e-7251,U+7253-7255,U+7257-7258,U+725a,U+725c,U+725e,U+7260,U+7263-7265,U+7268,U+726a-726d,U+7270-7271,U+7273-7274,U+7276-7278,U+727b-727d,U+7282-7283,U+7285-7289,U+728c,U+728e,U+7290-7291,U+7293-729e,U+72a0-72ab,U+72ae,U+72b1-72b3,U+72b5,U+72ba-72c0,U+72c5-72c7,U+72c9-72cc,U+72cf,U+72d1,U+72d3-72d6,U+72d8,U+72da-72dd,U+72df,U+72e2-72e7,U+72ea-72eb,U+72f5-72f6,U+72f9,U+72fd-7300,U+7302,U+7304-7309,U+730b-730d,U+730f-7312,U+7314,U+7318-731a,U+731f-7320,U+7323-7324,U+7326-7328,U+732d,U+732f-7330,U+7332-7333,U+7335-7336,U+733a-733d,U+7340-734c,U+734e-734f,U+7351,U+7353-7356,U+7358-735f,U+7361-736b,U+736e,U+7370-7371"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e5f453bb04da18eed01675eeebd88bf8.woff2",descriptors:{unicodeRange:"U+6ec5-6ec6,U+6ec8-6eca,U+6ecc-6ece,U+6ed0,U+6ed2,U+6ed6,U+6ed8-6ed9,U+6edb-6edd,U+6ee3,U+6ee7,U+6eea-6ef3,U+6ef5-6ef8,U+6efa-6f01,U+6f03-6f05,U+6f07-6f08,U+6f0a-6f0e,U+6f10-6f12,U+6f16-6f1f,U+6f21-6f23,U+6f25-6f28,U+6f2c,U+6f2e,U+6f30,U+6f32,U+6f34-6f35,U+6f37-6f3d,U+6f3f-6f45,U+6f48-6f4a,U+6f4c,U+6f4e-6f57,U+6f59-6f5b,U+6f5d,U+6f5f-6f61,U+6f63-6f65,U+6f67-6f6c,U+6f6f-6f71,U+6f73,U+6f75-6f77,U+6f79,U+6f7b,U+6f7d-6f83,U+6f85-6f87,U+6f8a-6f8b,U+6f8f-6f9b,U+6f9d-6fa0,U+6fa2-6fa6,U+6fa8-6fb1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cf2cc71752631e579e35b0e423bf2638.woff2",descriptors:{unicodeRange:"U+6d73,U+6d75-6d76,U+6d79-6d7b,U+6d7d-6d81,U+6d83-6d84,U+6d86-6d87,U+6d8a-6d8b,U+6d8d,U+6d8f-6d90,U+6d92,U+6d96-6d9a,U+6d9c,U+6da2,U+6da5,U+6dac-6dad,U+6db0-6db1,U+6db3-6db4,U+6db6-6db7,U+6db9-6dbe,U+6dc1-6dc3,U+6dc8-6dca,U+6dcd-6dd0,U+6dd2-6dd5,U+6dd7,U+6dda-6ddc,U+6ddf,U+6de2-6de3,U+6de5,U+6de7-6dea,U+6ded,U+6def-6df0,U+6df2,U+6df4-6df6,U+6df8,U+6dfa,U+6dfd-6e04,U+6e06-6e09,U+6e0b,U+6e0f,U+6e12-6e13,U+6e15,U+6e18-6e19,U+6e1b-6e1c,U+6e1e-6e1f,U+6e22,U+6e26-6e28,U+6e2a,U+6e2c,U+6e2e,U+6e30-6e31,U+6e33,U+6e35-6e37,U+6e39,U+6e3b-6e42,U+6e45-6e4c,U+6e4f-6e52,U+6e55,U+6e57,U+6e59-6e5a,U+6e5c-6e5e,U+6e60-6e6a,U+6e6c-6e6d,U+6e6f-6e7d,U+6e80-6e82,U+6e84,U+6e87-6e88,U+6e8a-6e8e,U+6e91-6e97,U+6e99-6e9b,U+6e9d-6e9e,U+6ea0-6ea1,U+6ea3-6ea4,U+6ea6,U+6ea8-6ea9,U+6eab-6eae,U+6eb0,U+6eb3,U+6eb5,U+6eb8-6eb9,U+6ebc,U+6ebe-6ec0,U+6ec3-6ec4"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-6f3256af8454371776bc46670d33cc65.woff2",descriptors:{unicodeRange:"U+6bbb-6bbe,U+6bc0,U+6bc3-6bc4,U+6bc6-6bca,U+6bcc,U+6bce,U+6bd0-6bd1,U+6bd8,U+6bda,U+6bdc-6be0,U+6be2-6be9,U+6bec-6bee,U+6bf0-6bf2,U+6bf4,U+6bf6-6bf8,U+6bfa-6bfc,U+6bfe-6c04,U+6c08-6c0c,U+6c0e,U+6c12,U+6c17,U+6c1c-6c1e,U+6c20,U+6c23,U+6c25,U+6c2b-6c2d,U+6c31,U+6c33,U+6c36-6c37,U+6c39-6c3c,U+6c3e-6c3f,U+6c43-6c45,U+6c48,U+6c4b-6c4f,U+6c51-6c53,U+6c56,U+6c58-6c5a,U+6c62-6c63,U+6c65-6c67,U+6c6b-6c6f,U+6c71,U+6c73,U+6c75,U+6c77-6c78,U+6c7a-6c7c,U+6c7f-6c80,U+6c84,U+6c87,U+6c8a-6c8b,U+6c8d-6c8e,U+6c91-6c92,U+6c95-6c98,U+6c9a,U+6c9c-6c9e,U+6ca0,U+6ca2,U+6ca8,U+6cac,U+6caf-6cb0,U+6cb4-6cb7,U+6cba,U+6cc0-6cc3,U+6cc6-6cc8,U+6ccb,U+6ccd-6ccf,U+6cd1-6cd2,U+6cd8-6cda,U+6cdc-6cdd,U+6cdf,U+6ce4,U+6ce6-6ce7,U+6ce9,U+6cec-6ced,U+6cf2,U+6cf4,U+6cf9,U+6cff-6d00,U+6d02-6d03,U+6d05-6d06,U+6d08-6d0a,U+6d0d,U+6d0f-6d11,U+6d13-6d16,U+6d18,U+6d1c-6d1d,U+6d1f-6d24,U+6d26,U+6d28-6d29,U+6d2c-6d2d,U+6d2f-6d30,U+6d34,U+6d36-6d38,U+6d3a,U+6d3f-6d40,U+6d42,U+6d44,U+6d49,U+6d4c,U+6d50,U+6d55-6d58,U+6d5b,U+6d5d,U+6d5f,U+6d61-6d62,U+6d64-6d65,U+6d67-6d68,U+6d6b-6d6d,U+6d70-6d72"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-23f228f3999c01983860012330e4be08.woff2",descriptors:{unicodeRange:"U+6967-696a,U+696c-696d,U+696f-6970,U+6972-6976,U+697a-697b,U+697d-697f,U+6981,U+6983,U+6985,U+698a-698c,U+698e-6993,U+6996-6997,U+6999-699a,U+699d-69a6,U+69a9-69aa,U+69ac,U+69ae-69b0,U+69b2-69b3,U+69b5-69b6,U+69b8-69ba,U+69bc-69c0,U+69c2-69c9,U+69cb,U+69cd,U+69cf,U+69d1-69d3,U+69d5-69da,U+69dc-69de,U+69e1-69ec,U+69ee-69f1,U+69f3-69fc,U+69fe,U+6a00-6a09,U+6a0b-6a16,U+6a19-6a1e,U+6a20,U+6a22-6a27,U+6a29,U+6a2b-6a2e,U+6a30,U+6a32-6a34,U+6a36-6a3c,U+6a3f-6a43,U+6a45-6a46,U+6a48-6a4a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-21430ee05a1248901da8d0de08744d47.woff2",descriptors:{unicodeRange:"U+6830-6831,U+6834-6836,U+683a-683b,U+683f,U+6847,U+684b,U+684d,U+684f,U+6852,U+6856-685f,U+686a,U+686c-6873,U+6875,U+6878-6880,U+6882,U+6884,U+6887-688e,U+6890-6892,U+6894-6896,U+6898-68a1,U+68a3-68a5,U+68a9-68ac,U+68ae,U+68b1-68b2,U+68b4,U+68b6-68bf,U+68c1,U+68c3-68c8,U+68ca,U+68cc,U+68ce-68d1,U+68d3-68d4,U+68d6-68d7,U+68d9,U+68db-68df,U+68e1-68e2,U+68e4-68ed,U+68ef,U+68f2-68f4,U+68f6-68f8,U+68fb,U+68fd-6900,U+6902-6904,U+6906-690a,U+690c,U+690f,U+6911,U+6913-691e,U+6921-6923,U+6925-692c,U+692e-692f,U+6931-6933,U+6935-6938,U+693a-693c,U+693e,U+6940-6941,U+6943-6953,U+6955-6956,U+6958-6959,U+695b-695c,U+695f,U+6961-6962,U+6964-6965"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5330a2119a716e4e7224ed108b085dac.woff2",descriptors:{unicodeRange:"U+66b8,U+66ba-66bd,U+66bf-66d8,U+66da,U+66de-66e5,U+66e7-66e8,U+66ea-66ef,U+66f1,U+66f5-66f6,U+66f8,U+66fa-66fb,U+66fd,U+6701-6707,U+670c,U+670e-670f,U+6711-6713,U+6716,U+6718-671a,U+671c,U+671e,U+6720-6725,U+6727,U+6729,U+672e,U+6730,U+6732-6733,U+6736-6739,U+673b-673c,U+673e-673f,U+6741,U+6744-6745,U+6747,U+674a-674b,U+674d,U+6752,U+6754-6755,U+6757-675b,U+675d,U+6762-6764,U+6766-6767,U+676b-676c,U+676e,U+6771,U+6774,U+6776,U+6778-677b,U+677d,U+6780,U+6782-6783,U+6785-6786,U+6788,U+678a,U+678c-678f,U+6791-6794,U+6796,U+6799,U+679b,U+679f-67a1,U+67a4,U+67a6,U+67a9,U+67ac,U+67ae,U+67b1-67b2,U+67b4,U+67b9-67c0,U+67c2,U+67c5-67ce,U+67d5-67d7,U+67db,U+67df,U+67e1,U+67e3-67e4,U+67e6-67e8,U+67ea-67eb,U+67ed-67ee,U+67f2,U+67f5-67fc,U+67fe,U+6801-6804,U+6806,U+680d,U+6810,U+6812,U+6814-6815,U+6818-681c,U+681e-6820,U+6822-6828,U+682b-682f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cd145ce4a0ea18469358df53c207bc1b.woff2",descriptors:{unicodeRange:"U+6569-656a,U+656d-656f,U+6571,U+6573,U+6575-6576,U+6578-6586,U+6588-658a,U+658d-658f,U+6592,U+6594-6596,U+6598,U+659a,U+659d-659e,U+65a0,U+65a2-65a3,U+65a6,U+65a8,U+65aa,U+65ac,U+65ae,U+65b1-65b8,U+65ba-65bb,U+65be-65c0,U+65c2,U+65c7-65ca,U+65cd,U+65d0-65d1,U+65d3-65d5,U+65d8-65df,U+65e1,U+65e3-65e4,U+65ea-65eb,U+65f2-65f5,U+65f8-65f9,U+65fb-65ff,U+6601,U+6604-6605,U+6607-6609,U+660b,U+660d,U+6610-6612,U+6616-6618,U+661a-661c,U+661e,U+6621-6624,U+6626,U+6629-662c,U+662e,U+6630,U+6632-6633,U+6637-663b,U+663d,U+663f-6640,U+6642,U+6644-664a,U+664d-664e,U+6650-6651,U+6658-6659,U+665b-665e,U+6660,U+6662-6663,U+6665,U+6667,U+6669-666d,U+6671-6673,U+6675,U+6678-6679,U+667b-667d,U+667f-6681,U+6683,U+6685-6686,U+6688-668b,U+668d-6690,U+6692-6695,U+6698-669c,U+669e-66a6,U+66a9-66ad,U+66af-66b3,U+66b5-66b7"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-36925dfe329a45086cbb7fc5c20d45ac.woff2",descriptors:{unicodeRange:"U+5f30,U+5f32-5f38,U+5f3b,U+5f3d-5f3f,U+5f41-5f4f,U+5f51,U+5f54,U+5f59-5f5c,U+5f5e-5f60,U+5f63,U+5f65,U+5f67-5f68,U+5f6b,U+5f6e-5f6f,U+5f72,U+5f74-5f76,U+5f78,U+5f7a,U+5f7d-5f7f,U+5f83,U+5f86,U+5f8d-5f8f,U+5f91,U+5f93-5f94,U+5f96,U+5f9a-5f9b,U+5f9d-5fa0,U+5fa2-5fa7,U+5fa9,U+5fab-5fac,U+5faf-5fb4,U+5fb6,U+5fb8-5fbb,U+5fbe-5fc2,U+5fc7-5fc8,U+5fca-5fcb,U+5fce,U+5fd3-5fd5,U+5fda-5fdc,U+5fde-5fdf,U+5fe2-5fe3,U+5fe5-5fe6,U+5fe8-5fe9,U+5fec,U+5fef-5ff0,U+5ff2-5ff4,U+5ff6-5ff7,U+5ff9-5ffa,U+5ffc,U+6007-6009,U+600b-600c,U+6010-6011,U+6013,U+6017-6018,U+601a,U+601e-601f,U+6022-6024,U+602c-602e,U+6030-6034,U+6036-603a,U+603d-603e,U+6040,U+6044-604a,U+604c,U+604e-604f,U+6051,U+6053-6054,U+6056-6058,U+605b-605c,U+605e-6061,U+6065-6066,U+606e,U+6071-6072,U+6074-6075,U+6077,U+607e,U+6080-6082,U+6085-6088,U+608a-608b,U+608e-6091,U+6093,U+6095,U+6097-6099,U+609c,U+609e,U+60a1-60a2,U+60a4-60a5,U+60a7,U+60a9-60aa,U+60ae,U+60b0,U+60b3,U+60b5-60b7,U+60b9-60ba,U+60bd-60c4,U+60c7-60c9,U+60cc"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4bfaa8ffa64c5ee560aa2daba7c9cbd3.woff2",descriptors:{unicodeRange:"U+635a-635d,U+6360,U+6364-6366,U+6368,U+636a-636c,U+636f-6370,U+6372-6375,U+6378-6379,U+637c-637f,U+6381,U+6383-6386,U+638b,U+638d,U+6391,U+6393-6395,U+6397,U+6399-639f,U+63a1,U+63a4,U+63a6,U+63ab,U+63af,U+63b1-63b2,U+63b5-63b6,U+63b9,U+63bb,U+63bd,U+63bf-63c3,U+63c5,U+63c7-63c8,U+63ca-63cc,U+63d1,U+63d3-63d5,U+63d7-63dd,U+63df,U+63e2,U+63e4-63e8,U+63eb-63ec,U+63ee-63f1,U+63f3,U+63f5,U+63f7,U+63f9-63fc,U+63fe,U+6403-6404,U+6406-640a,U+640d-640e,U+6411-6412,U+6415-641a,U+641d,U+641f,U+6422-6425,U+6427-6429,U+642b,U+642e-6433,U+6435-6439,U+643b-643c,U+643e,U+6440,U+6442-6443,U+6449,U+644b-6451,U+6453,U+6455-6457,U+6459-645d,U+645f-6466,U+6468,U+646a-646c,U+646e-6477,U+647b-6481,U+6483,U+6486,U+6488-648f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-112c051027b2d766c19a519f6ee1f4f7.woff2",descriptors:{unicodeRange:"U+61c5-61c7,U+61c9,U+61cc-61d0,U+61d3,U+61d5-61e5,U+61e7-61f4,U+61f6-61fe,U+6200-6205,U+6207,U+6209,U+6213-6214,U+6219,U+621c-621e,U+6220,U+6223,U+6226-6229,U+622b,U+622d,U+622f-6232,U+6235-6236,U+6238-623c,U+6242,U+6244-6246,U+624a,U+624f-6250,U+6255-6257,U+6259-625a,U+625c-6262,U+6264-6265,U+6268,U+6271-6272,U+6274-6275,U+6277-6278,U+627a-627b,U+627d,U+6281-6283,U+6285-6288,U+628b-6290,U+6294,U+6299,U+629c-629e,U+62a3,U+62a6-62a7,U+62a9-62aa,U+62ad-62b0,U+62b2-62b4,U+62b6-62b8,U+62ba,U+62be,U+62c0-62c1,U+62c3,U+62cb,U+62cf,U+62d1,U+62d5,U+62dd-62de,U+62e0-62e1,U+62e4,U+62ea-62eb,U+62f0,U+62f2,U+62f5,U+62f8-62fb,U+6300,U+6303-6306,U+630a-630d,U+630f-6310,U+6312-6315,U+6317-6319,U+631c,U+6326-6327,U+6329,U+632c-632e,U+6330-6331,U+6333-6338,U+633b-633c,U+633e-6341,U+6344,U+6347-6348,U+634a,U+6351-6354,U+6356-6359"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5b0ed6971aaab9c8ad563230bd5471a7.woff2",descriptors:{unicodeRange:"U+5dd0-5dda,U+5ddc,U+5ddf-5de0,U+5de3-5de4,U+5dea,U+5dec-5ded,U+5df0,U+5df5-5df6,U+5df8-5dfc,U+5dff-5e00,U+5e04,U+5e07,U+5e09-5e0b,U+5e0d-5e0e,U+5e12-5e13,U+5e17,U+5e1e-5e25,U+5e28-5e2c,U+5e2f-5e30,U+5e32-5e36,U+5e39-5e3a,U+5e3e-5e41,U+5e43,U+5e46-5e4b,U+5e4d-5e53,U+5e56-5e5a,U+5e5c-5e5d,U+5e5f-5e60,U+5e63-5e71,U+5e75,U+5e77,U+5e79,U+5e7e,U+5e81-5e83,U+5e85,U+5e88-5e89,U+5e8c-5e8e,U+5e92,U+5e98,U+5e9b,U+5e9d,U+5ea1-5ea4,U+5ea8-5eac,U+5eae-5eb2,U+5eb4,U+5eba-5ebd,U+5ebf-5ec8,U+5ecb-5ed0,U+5ed4-5ed5,U+5ed7-5eda,U+5edc-5ee7,U+5ee9,U+5eeb-5ef3,U+5ef5,U+5ef8-5ef9,U+5efb-5efd,U+5f05-5f07,U+5f09,U+5f0c-5f0e,U+5f10,U+5f12,U+5f14,U+5f16,U+5f19-5f1a,U+5f1c-5f1e,U+5f21-5f24,U+5f28,U+5f2b-5f2c,U+5f2e"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-98f2ad84457de7f3740d9920b8fa8667.woff2",descriptors:{unicodeRange:"U+60cd-60d0,U+60d2-60d4,U+60d6-60d7,U+60d9,U+60db,U+60de,U+60e1-60e5,U+60ea,U+60f1-60f2,U+60f5,U+60f7-60f8,U+60fb-60ff,U+6102-6105,U+6107,U+610a-610c,U+6110-6114,U+6116-6119,U+611b-611e,U+6121-6122,U+6125,U+6128-612a,U+612c-613e,U+6140-6147,U+6149,U+614b,U+614d,U+614f-6150,U+6152-6154,U+6156-615c,U+615e-6161,U+6163-6166,U+6169-616f,U+6171-6174,U+6176,U+6178-618a,U+618c-618d,U+618f-6193,U+6195-619c,U+619e-61a6,U+61aa-61ab,U+61ad-61b6,U+61b8-61bd,U+61bf-61c1,U+61c3-61c4"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-733171b4ffcd17ea1fe1c0ba627173bf.woff2",descriptors:{unicodeRange:"U+5cf4-5cfa,U+5cfc-5d01,U+5d04-5d05,U+5d08-5d0d,U+5d0f-5d13,U+5d15,U+5d17-5d1a,U+5d1c-5d1d,U+5d1f-5d23,U+5d25,U+5d28,U+5d2a-5d2c,U+5d2f-5d33,U+5d35-5d3c,U+5d3f-5d46,U+5d48-5d49,U+5d4d-5d57,U+5d59-5d5a,U+5d5c,U+5d5e-5d68,U+5d6a,U+5d6d-5d6e,U+5d70-5d73,U+5d75-5d81,U+5d83-5d98,U+5d9a-5d9c,U+5d9e-5db6,U+5db8-5dc4,U+5dc6-5dcc,U+5dce-5dcf"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-684d65f1793cac449dde5d59cb3c47fb.woff2",descriptors:{unicodeRange:"U+5b52,U+5b56,U+5b5e,U+5b60-5b61,U+5b67-5b68,U+5b6b,U+5b6d-5b6f,U+5b72,U+5b74,U+5b76-5b79,U+5b7b-5b7c,U+5b7e-5b7f,U+5b82,U+5b86,U+5b8a,U+5b8d-5b8e,U+5b90-5b92,U+5b94,U+5b96,U+5b9f,U+5ba7-5ba9,U+5bac-5baf,U+5bb1-5bb2,U+5bb7,U+5bba-5bbc,U+5bc0-5bc1,U+5bc3,U+5bc8-5bcb,U+5bcd-5bcf,U+5bd1,U+5bd4-5bdc,U+5be0,U+5be2-5be3,U+5be6-5be7,U+5be9-5bed,U+5bef,U+5bf1-5bf7,U+5bfd-5bfe,U+5c00,U+5c02-5c03,U+5c05,U+5c07-5c08,U+5c0b-5c0e,U+5c10,U+5c12-5c13,U+5c17,U+5c19,U+5c1b,U+5c1e-5c21,U+5c23,U+5c26,U+5c28-5c2b,U+5c2d-5c30,U+5c32-5c33,U+5c35-5c37,U+5c43-5c44,U+5c46-5c47,U+5c4c-5c4d,U+5c52-5c54,U+5c56-5c58,U+5c5a-5c5d,U+5c5f,U+5c62,U+5c64,U+5c67-5c6d,U+5c70,U+5c72-5c78,U+5c7b-5c7e,U+5c80,U+5c83-5c87,U+5c89-5c8b,U+5c8e-5c8f,U+5c92-5c93,U+5c95,U+5c9d-5ca1,U+5ca4-5ca8,U+5caa,U+5cae-5cb0,U+5cb2,U+5cb4,U+5cb6,U+5cb9-5cbc,U+5cbe,U+5cc0,U+5cc2-5cc3,U+5cc5-5cca,U+5ccc-5cd1,U+5cd3-5cd8,U+5cda-5ce0,U+5ce2-5ce3,U+5ce7,U+5ce9,U+5ceb-5cec,U+5cee-5cef,U+5cf1-5cf3"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cbaaefaaf326668277aa24dfa93c4d28.woff2",descriptors:{unicodeRange:"U+593b,U+593d-5940,U+5943,U+5945-5946,U+594a,U+594c-594d,U+5950,U+5952-5953,U+5959,U+595b-595f,U+5961,U+5963-5964,U+5966-5972,U+5975,U+5977,U+597a-597c,U+597e-5980,U+5985,U+5989,U+598b-598c,U+598e-5991,U+5994-5995,U+5998,U+599a-599d,U+599f-59a2,U+59a6-59a7,U+59ac-59ad,U+59b0-59b1,U+59b3-59b8,U+59ba,U+59bc-59bd,U+59bf-59c5,U+59c7-59c9,U+59cc-59cf,U+59d5-59d6,U+59d9,U+59db,U+59de-59e2,U+59e4,U+59e6-59e7,U+59e9-59eb,U+59ed-59f8,U+59fa,U+59fc-59fe,U+5a00,U+5a02,U+5a0a-5a0b,U+5a0d-5a10,U+5a12,U+5a14-5a17,U+5a19-5a1b,U+5a1d-5a1e,U+5a21-5a22,U+5a24,U+5a26-5a28,U+5a2a-5a30,U+5a33,U+5a35,U+5a37-5a3b,U+5a3d-5a3f,U+5a41-5a45,U+5a47-5a48,U+5a4b-5a54,U+5a56-5a59,U+5a5b-5a61,U+5a63-5a66,U+5a68-5a69,U+5a6b-5a73,U+5a78-5a79,U+5a7b-5a7e,U+5a80-5a90"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-58fd02350d0bc52cf1ca3bb32ce9766e.woff2",descriptors:{unicodeRange:"U+5a91,U+5a93-5a99,U+5a9c-5aa9,U+5aab-5ab1,U+5ab4,U+5ab6-5ab7,U+5ab9-5abd,U+5abf-5ac0,U+5ac3-5ac8,U+5aca-5acb,U+5acd-5ad1,U+5ad3,U+5ad5,U+5ad7,U+5ad9-5adb,U+5add-5adf,U+5ae2,U+5ae4-5ae5,U+5ae7-5ae8,U+5aea,U+5aec-5af0,U+5af2-5b08,U+5b0a-5b15,U+5b18-5b31,U+5b33,U+5b35-5b36,U+5b38-5b3f,U+5b41-5b4f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7ccce86603f80a099ddb0cb21d4ae3e3.woff2",descriptors:{unicodeRange:"U+5843,U+5845-584b,U+584e-5850,U+5852-5853,U+5855-5857,U+5859-585d,U+585f-5864,U+5866-586a,U+586d-587d,U+587f,U+5882,U+5884,U+5886-5888,U+588a-5891,U+5894-5898,U+589b-589d,U+58a0-58a7,U+58aa-58bb,U+58bd-58c0,U+58c2-58c4,U+58c6-58d0,U+58d2-58d4,U+58d6-58e3,U+58e5-58ea,U+58ed,U+58ef,U+58f1-58f2,U+58f4-58f5,U+58f7-58f8,U+58fa-5901,U+5903,U+5905-5906,U+5908-590c,U+590e,U+5910-5913,U+5917-5918,U+591b,U+591d-591e,U+5920-5923,U+5926,U+5928,U+592c,U+5930,U+5932-5933,U+5935-5936"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3717077e38f98d89eae729b6c14e56dc.woff2",descriptors:{unicodeRange:"U+56d0-56d3,U+56d5-56d6,U+56d8-56d9,U+56dc,U+56e3,U+56e5-56ea,U+56ec,U+56ee-56ef,U+56f2-56f3,U+56f6-56f8,U+56fb-56fc,U+5700-5702,U+5705,U+5707,U+570b-571b,U+571d-571e,U+5720-5722,U+5724-5727,U+572b,U+5731-5732,U+5734-5738,U+573c-573d,U+573f,U+5741,U+5743-5746,U+5748-5749,U+574b,U+5752-5756,U+5758-5759,U+5762-5763,U+5765,U+5767,U+576c,U+576e,U+5770-5772,U+5774-5775,U+5778-577a,U+577d-5781,U+5787-578a,U+578d-5791,U+5794-579a,U+579c-579f,U+57a5,U+57a8,U+57aa,U+57ac,U+57af-57b1,U+57b3,U+57b5-57b7,U+57b9-57c1,U+57c4-57ca,U+57cc-57cd,U+57d0-57d1,U+57d3,U+57d6-57d7,U+57db-57dc,U+57de,U+57e1-57e3,U+57e5-57ec,U+57ee,U+57f0-57f3,U+57f5-57f7,U+57fb-57fc,U+57fe-57ff,U+5801,U+5803-5805,U+5808-580a,U+580c,U+580e-5810,U+5812-5814,U+5816-5818,U+581a-581d,U+581f,U+5822-5823,U+5825-5829,U+582b-582f,U+5831-5834,U+5836-5842"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-dbea1af6dcd9860be40c3d18254338f5.woff2",descriptors:{unicodeRange:"U+55f9-55fc,U+55ff,U+5602-5607,U+560a-560b,U+560d,U+5610-5617,U+5619-561a,U+561c-561d,U+5620-5622,U+5625-5626,U+5628-562b,U+562e-5630,U+5633,U+5635,U+5637-5638,U+563a,U+563c-563e,U+5640-564b,U+564f-5653,U+5655-5656,U+565a-565b,U+565d-5661,U+5663,U+5665-5667,U+566d-5670,U+5672-5675,U+5677-567a,U+567d-5684,U+5687-568d,U+5690-5692,U+5694-56a2,U+56a4-56ae,U+56b0-56b6,U+56b8-56bb,U+56bd-56c9,U+56cb-56cf"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4a0fdb40036e87b40aa08dd30584cb85.woff2",descriptors:{unicodeRange:"U+5286-5287,U+5289-528f,U+5291-5292,U+5294-529a,U+529c,U+52a4-52a7,U+52ae-52b0,U+52b4-52bd,U+52c0-52c2,U+52c4-52c6,U+52c8,U+52ca,U+52cc-52cf,U+52d1,U+52d3-52d5,U+52d7,U+52d9-52de,U+52e0-52e3,U+52e5-52ef,U+52f1-52f8,U+52fb-52fd,U+5301-5304,U+5307,U+5309-530c,U+530e,U+5311-5314,U+5318,U+531b-531c,U+531e-531f,U+5322,U+5324-5325,U+5327-5329,U+532b-532d,U+532f-5338,U+533c-533d,U+5340,U+5342,U+5344,U+5346,U+534b-534d,U+5350,U+5354,U+5358-5359,U+535b,U+535d,U+5365,U+5368,U+536a,U+536c-536d,U+5372,U+5376,U+5379,U+537b-537e,U+5380-5381,U+5383,U+5387-5388,U+538a,U+538e-5394,U+5396-5397,U+5399,U+539b-539c,U+539e,U+53a0-53a1,U+53a4,U+53a7,U+53aa-53ad,U+53af-53b5,U+53b7-53ba,U+53bc-53be,U+53c0,U+53c3-53c7,U+53ce-53d0,U+53d2-53d3,U+53d5,U+53da,U+53dc-53de,U+53e1-53e2,U+53e7,U+53f4,U+53fa,U+53fe-5400,U+5402,U+5405,U+5407,U+540b,U+5414,U+5418-541a,U+541c,U+5422,U+5424-5425,U+542a,U+5430,U+5433,U+5436-5437,U+543a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-0f626226ba1272e832aea87bafd9720e.woff2",descriptors:{unicodeRange:"U+5101-5105,U+5108-510a,U+510c-5111,U+5113-5120,U+5122-513e,U+5142,U+5147,U+514a,U+514c,U+514e-5150,U+5152-5153,U+5157-5159,U+515b,U+515d-5161,U+5163-5164,U+5166-5167,U+5169-516a,U+516f,U+5172,U+517a,U+517e-517f,U+5183-5184,U+5186-5187,U+518a-518b,U+518e-5191,U+5193-5194,U+5198,U+519a,U+519d-519f,U+51a1,U+51a3,U+51a6-51aa,U+51ad-51ae,U+51b4,U+51b8-51ba,U+51be-51bf,U+51c1-51c3,U+51c5,U+51c8,U+51ca,U+51cd-51ce,U+51d0,U+51d2-51da,U+51dc,U+51de-51df,U+51e2-51e3,U+51e5-51ea,U+51ec,U+51ee,U+51f1-51f2,U+51f4,U+51f7,U+51fe,U+5204-5205,U+5209,U+520b-520c,U+520f-5210,U+5213-5215,U+521c,U+521e-521f,U+5221-5223,U+5225-5227,U+522a,U+522c,U+522f,U+5231-5232,U+5234-5235,U+523c,U+523e,U+5244-5249,U+524b,U+524e-524f,U+5252-5253,U+5255,U+5257-525b,U+525d,U+525f-5260,U+5262-5264,U+5266,U+5268,U+526b-526e,U+5270-5271,U+5273-527c,U+527e,U+5280,U+5283-5285"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-938d90c10ff8c20386af7f242c05d6b0.woff2",descriptors:{unicodeRange:"U+543d,U+543f,U+5441-5442,U+5444-5445,U+5447,U+5449,U+544c-544f,U+5451,U+545a,U+545d-5461,U+5463,U+5465,U+5467,U+5469-5470,U+5474,U+5479-547a,U+547e-547f,U+5481,U+5483,U+5485,U+5487-548a,U+548d,U+5491,U+5493,U+5497-5498,U+549c,U+549e-54a2,U+54a5,U+54ae,U+54b0,U+54b2,U+54b5-54b7,U+54b9-54ba,U+54bc,U+54be,U+54c3,U+54c5,U+54ca-54cb,U+54d6,U+54d8,U+54db,U+54e0-54e4,U+54eb-54ec,U+54ef-54f1,U+54f4-54f9,U+54fb,U+54fe,U+5500,U+5502-5505,U+5508,U+550a-550e,U+5512-5513,U+5515-551a,U+551c-551f,U+5521,U+5525-5526,U+5528-5529,U+552b,U+552d,U+5532,U+5534-5536,U+5538-553b,U+553d,U+5540,U+5542,U+5545,U+5547-5548,U+554b-554f,U+5551-5554,U+5557-555b,U+555d-5560,U+5562-5563,U+5568-5569,U+556b,U+556f-5574,U+5579-557a,U+557d,U+557f,U+5585-5586,U+558c-558e,U+5590,U+5592-5593,U+5595-5597,U+559a-559b,U+559e,U+55a0-55a6,U+55a8-55b0,U+55b2,U+55b4,U+55b6,U+55b8,U+55ba,U+55bc,U+55bf-55c3,U+55c6-55c8,U+55ca-55cb,U+55ce-55d0,U+55d5,U+55d7-55db,U+55de,U+55e0,U+55e2,U+55e7,U+55e9,U+55ed-55ee,U+55f0-55f1,U+55f4,U+55f6,U+55f8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b6d128682ee29e471486354d486a1b90.woff2",descriptors:{unicodeRange:"U+4fe0,U+4fe2,U+4fe4-4fe5,U+4fe7,U+4feb-4fec,U+4ff0,U+4ff2,U+4ff4-4ff7,U+4ff9,U+4ffb-4ffd,U+4fff-500b,U+500e,U+5010-5011,U+5013,U+5015-5017,U+501b,U+501d-501e,U+5020,U+5022-5024,U+5027,U+502b,U+502f-5039,U+503b,U+503d,U+503f-5042,U+5044-5046,U+5049-504b,U+504d,U+5050-5054,U+5056-5059,U+505b,U+505d-5064,U+5066-506b,U+506d-5075,U+5078-507a,U+507c-507d,U+5081-5084,U+5086-5087,U+5089-508c,U+508e-50a2,U+50a4,U+50a6,U+50aa-50ab,U+50ad-50b1,U+50b3-50b9,U+50bc-50ce,U+50d0-50d5,U+50d7-50d9,U+50db-50e5,U+50e8-50eb,U+50ef-50f2,U+50f4,U+50f6-50fa,U+50fc-5100"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e51ef413167c6e14e0c0fdcc585f2fc9.woff2",descriptors:{unicodeRange:"U+49d5-4a77"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-9d81066dd2b337c938df6e90380a00dc.woff2",descriptors:{unicodeRange:"U+4dac-4dad,U+4daf-4db5,U+4e02,U+4e04-4e06,U+4e0f,U+4e12,U+4e17,U+4e1f-4e21,U+4e23,U+4e26,U+4e29,U+4e2e-4e2f,U+4e31,U+4e33,U+4e35,U+4e37,U+4e3c,U+4e40-4e42,U+4e44,U+4e46,U+4e4a,U+4e51,U+4e55,U+4e57,U+4e5a-4e5b,U+4e62-4e65,U+4e67-4e68,U+4e6a-4e6f,U+4e72,U+4e74-4e7d,U+4e7f-4e85,U+4e87,U+4e8a,U+4e90,U+4e96-4e97,U+4e99,U+4e9c-4e9e,U+4ea3,U+4eaa,U+4eaf-4eb1,U+4eb4,U+4eb6-4eb9,U+4ebc-4ebe,U+4ec8,U+4ecc,U+4ecf-4ed0,U+4ed2,U+4eda-4edc,U+4ee0,U+4ee2,U+4ee6-4ee7,U+4ee9,U+4eed-4eef,U+4ef1,U+4ef4,U+4ef8-4efa,U+4efc,U+4efe,U+4f00,U+4f02-4f08,U+4f0b-4f0c,U+4f12-4f16,U+4f1c-4f1d,U+4f21,U+4f23,U+4f28-4f29,U+4f2c-4f2e,U+4f31,U+4f33,U+4f35,U+4f37,U+4f39,U+4f3b,U+4f3e-4f42,U+4f44-4f45,U+4f47-4f4c,U+4f52,U+4f54,U+4f56,U+4f61-4f62,U+4f66,U+4f68,U+4f6a-4f6b,U+4f6d-4f6e,U+4f71-4f72,U+4f75,U+4f77-4f7a,U+4f7d,U+4f80-4f82,U+4f85-4f87,U+4f8a,U+4f8c,U+4f8e,U+4f90,U+4f92-4f93,U+4f95-4f96,U+4f98-4f9a,U+4f9c,U+4f9e-4f9f,U+4fa1-4fa2,U+4fa4,U+4fab,U+4fad,U+4fb0-4fb4,U+4fb6-4fbe,U+4fc0-4fc2,U+4fc6-4fc9,U+4fcb-4fcd,U+4fd2-4fd6,U+4fd9,U+4fdb"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-20e7bf72fa05de9adf7dbcc7bf51dde6.woff2",descriptors:{unicodeRange:"U+4933-49d4"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4095eb84ef3874e2600247bee0b04026.woff2",descriptors:{unicodeRange:"U+487a-4932"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4ee10ae43505e2e0bc62656ced49c0fa.woff2",descriptors:{unicodeRange:"U+47d2-4879,U+2ce7c,U+2ce88,U+2ce93"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7494dc504ae00ee9cd0505f990f88c5d.woff2",descriptors:{unicodeRange:"U+4756-47d1,U+2ca02,U+2ca0e,U+2ca7d,U+2caa9,U+2cb29,U+2cb2e,U+2cb31,U+2cb38-2cb39,U+2cb3f,U+2cb41,U+2cb4e,U+2cb5a,U+2cb64,U+2cb69,U+2cb6c,U+2cb6f,U+2cb76,U+2cb78,U+2cb7c,U+2cbb1,U+2cbbf-2cbc0,U+2cbce,U+2cc5f,U+2ccf5-2ccf6,U+2ccfd,U+2ccff,U+2cd02-2cd03,U+2cd0a,U+2cd8b,U+2cd8d,U+2cd8f-2cd90,U+2cd9f-2cda0,U+2cda8,U+2cdad-2cdae,U+2cdd5,U+2ce18,U+2ce1a,U+2ce23,U+2ce26,U+2ce2a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-8de5b863cb50dfefdd07cb11c774d579.woff2",descriptors:{unicodeRange:"U+46c3-4755,U+2c488,U+2c494,U+2c497,U+2c542,U+2c613,U+2c618,U+2c621,U+2c629,U+2c62b-2c62d,U+2c62f,U+2c642,U+2c64a-2c64b,U+2c72c,U+2c72f,U+2c79f,U+2c7c1,U+2c7fd,U+2c8d9,U+2c8de,U+2c8e1,U+2c8f3,U+2c907,U+2c90a,U+2c91d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3e1f8f654357353bf0e04ba5c34b5f7f.woff2",descriptors:{unicodeRange:"U+4629-46c2,U+2bdf7,U+2be29,U+2c029-2c02a,U+2c0a9,U+2c0ca,U+2c1d5,U+2c1d9,U+2c1f9,U+2c27c,U+2c288,U+2c2a4,U+2c317,U+2c35b,U+2c361,U+2c364"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2e33e8dc771ef5e1d9127d60a6b73679.woff2",descriptors:{unicodeRange:"U+458e-4628,U+2b7a9,U+2b7c5,U+2b7e6,U+2b7f9,U+2b806,U+2b80a,U+2b81c,U+2b8b8,U+2bac7,U+2bb5f,U+2bb62,U+2bb7c,U+2bb83,U+2bc1b,U+2bd77,U+2bd87"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-173945821411c09f70c95f98d590e697.woff2",descriptors:{unicodeRange:"U+4449-4511,U+2afa2,U+2b127-2b128,U+2b137-2b138,U+2b1ed"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b358f7a51ece39a3247942b1feabdb29.woff2",descriptors:{unicodeRange:"U+439b-4448,U+2a437,U+2a5f1,U+2a602,U+2a61a,U+2a6b2,U+2a7dd,U+2a8fb,U+2a917,U+2aa30,U+2aa36,U+2aa58"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-23ad2d71b280f00b1363b95b7bea94eb.woff2",descriptors:{unicodeRange:"U+4275-430d,U+298c6,U+29a72,U+29d98,U+29ddb,U+29e15,U+29e3d,U+29e49"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5882ffa04f32584d26109137e2da4352.woff2",descriptors:{unicodeRange:"U+4132-41de,U+28bef,U+28c47,U+28c4f,U+28c51,U+28c54,U+28d10,U+28d71,U+28dfb,U+28e1f,U+28e36,U+28e89,U+28e99,U+28eeb,U+28f32,U+28ff8,U+292a0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a203b91dad570bf05a58c3c3ddb529bf.woff2",descriptors:{unicodeRange:"U+41df-4274,U+292b1,U+29490,U+295cf,U+2967f,U+296f0,U+29719,U+29750"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-bd77e3c7f9e0b072d96af37f73d1aa32.woff2",descriptors:{unicodeRange:"U+408e-4131,U+285c8-285c9,U+28678,U+28695,U+286d7,U+286fa,U+287e0,U+28946,U+28949,U+2896b,U+28987-28988,U+289ba-289bb,U+28a1e,U+28a29,U+28a43,U+28a71,U+28a99,U+28acd,U+28add,U+28ae4,U+28b49,U+28bc1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5a45d991244d4c7140217e1e5f5ca4f4.woff2",descriptors:{unicodeRange:"U+3e83-3f2f,U+27139,U+273da-273db,U+273fe,U+27410,U+27449,U+27614-27615,U+27631,U+27684,U+27693,U+2770e,U+27723,U+27752"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-f56414bf9bced67990def8660e306759.woff2",descriptors:{unicodeRange:"U+3f30-3fdb,U+27985,U+27a84,U+27bb3,U+27bbe,U+27bc7,U+27cb8,U+27da0,U+27e10"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-583d166e56ba0de4b77eabb47ef67839.woff2",descriptors:{unicodeRange:"U+3fdc-408d,U+27fb7,U+27ff9,U+2808a,U+280bb,U+2815d,U+28277,U+28282,U+282e2,U+282f3,U+283cd,U+28408,U+2840c,U+28455,U+28468,U+2856b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7f855356ab893b0d2b9c1c83b8116f0e.woff2",descriptors:{unicodeRange:"U+3dd2-3e82,U+26a58,U+26a8c,U+26ab7,U+26aff,U+26b5c,U+26c21,U+26c29,U+26c73,U+26cdd,U+26e40,U+26e65,U+26f94,U+26ff6-26ff8,U+270f4,U+2710d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b57aaedfd8ebdf3931f25119dc6a5eb2.woff2",descriptors:{unicodeRange:"U+3d34-3dd1,U+2648d,U+26676,U+2667e,U+266b0,U+2671d,U+2677c,U+267cc,U+268dd,U+268ea,U+26951,U+2696f,U+269dd,U+269fa,U+26a1e"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b6fd38ca30869792244804b04bc058da.woff2",descriptors:{unicodeRange:"U+3c76-3d33,U+25d0a,U+25da1,U+25e2e,U+25e56,U+25e62,U+25e65,U+25ec2,U+25ed7-25ed8,U+25ee8,U+25f23,U+25f5c,U+25fd4,U+25fe0,U+25ffb,U+2600c,U+26017,U+26060,U+260ed,U+26221,U+26270,U+26286,U+2634c,U+26402"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-452225341522a7942f0f6aab1a5c91a3.woff2",descriptors:{unicodeRange:"U+3bda-3c75,U+25771,U+257a9,U+257b4,U+259c4,U+259d4,U+25ae3-25ae4,U+25af1,U+25bb2,U+25c14,U+25c4b,U+25c64"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-866fa7613df6b3fd272bcfd4530c0bb9.woff2",descriptors:{unicodeRange:"U+3b25-3bd9,U+2504a,U+25055,U+25122,U+2512b,U+251a9,U+251cd,U+251e5,U+2521e,U+2524c,U+2542e,U+2548e,U+254d9,U+2550e,U+25532,U+25562,U+255a7-255a8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-52a84a22fd1369bffeaf21da2d6158dc.woff2",descriptors:{unicodeRange:"U+3a6b-3b24,U+24896,U+249db,U+24a4d,U+24a7d,U+24ac9,U+24b56,U+24b6f,U+24c16,U+24d14,U+24dea,U+24e0e,U+24e37,U+24e6a,U+24e8b,U+24eaa"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-829615148e6357d826b9242eb7fbbd1e.woff2",descriptors:{unicodeRange:"U+39a9-3a6a,U+24096,U+24103,U+241ac,U+241c6,U+241fe,U+243bc,U+243f8,U+244d3,U+24629,U+246a5,U+247f1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c99eda15fc26a2941579560f76c3a5cf.woff2",descriptors:{unicodeRange:"U+38e3-39a8,U+23a98,U+23c7f,U+23c97-23c98,U+23cfe,U+23d00,U+23d0e,U+23d40,U+23dd3,U+23df9-23dfa,U+23e23,U+23f7e"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-395c35dd584b56b0789f58a0559beaf1.woff2",descriptors:{unicodeRange:"U+3760-382a,U+22ab8,U+22b43,U+22b46,U+22b4f-22b50,U+22ba6,U+22bca,U+22c1d,U+22c24,U+22c55,U+22d4c,U+22de1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-203b0e569e3b14aac86a003dc3fa523e.woff2",descriptors:{unicodeRange:"U+382b-38e2,U+231b6,U+231c3-231c4,U+231f5,U+23350,U+23372,U+233d0,U+233d2-233d3,U+233d5,U+233da,U+233df,U+233e4,U+2344a-2344b,U+23451,U+23465,U+234e4,U+2355a,U+23594,U+235c4,U+235cb,U+23638-2363a,U+23647,U+2370c,U+2371c,U+2373f,U+23763-23764,U+237e7,U+237ff,U+23824,U+2383d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-51a0e808bbc8361236ac521a119758a3.woff2",descriptors:{unicodeRange:"U+3698-375f,U+22218,U+2231e,U+223ad,U+224dc,U+226f3,U+2285b,U+228ab,U+2298f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-6e092f71c1e634059ada0e52abadce67.woff2",descriptors:{unicodeRange:"U+35e6-3697,U+21c56,U+21cde,U+21d2d,U+21d45,U+21d62,U+21d78,U+21d92,U+21d9c,U+21da1,U+21db7,U+21de0,U+21e33-21e34,U+21f1e,U+21f76,U+21ffa,U+2217b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-0f7fb1e0d5015bb1371343153ecf7ce3.woff2",descriptors:{unicodeRange:"U+3444-350e,U+20ad3,U+20b1d,U+20b9f,U+20c41,U+20cbf,U+20cd0,U+20d45,U+20de1,U+20e64,U+20e6d,U+20e95,U+20e9d,U+20ea2,U+20f5f,U+210c1,U+21201,U+2123d,U+21255,U+21274,U+2127b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-d0cf73942fea1c74edbdf0b3011f4656.woff2",descriptors:{unicodeRange:"U+350f-35e5,U+212d7,U+212e4,U+212fd,U+2131b,U+21336,U+21344,U+2139a,U+213c4,U+21413,U+2146d-2146e,U+215d7,U+21647,U+216b4,U+21706,U+21742,U+218bd,U+219c3"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-968cffdc8ee679da094e77ebf50f58ef.woff2",descriptors:{unicodeRange:"U+336d-3443,U+2032b,U+20371,U+20381,U+203f9,U+2044a,U+20509,U+20547,U+205d6,U+20628,U+20676,U+2074f,U+20779,U+20807,U+2083a,U+20895,U+208b9,U+2097c,U+2099d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7a07ddc0f0c0f5f4a9bad6ee3dda66b5.woff2",descriptors:{unicodeRange:"U+328b-336c,U+2000b,U+20089,U+200a2,U+200a4,U+20164,U+201a2,U+20213"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-ec181b795ac1fb5a50d700b6e996d745.woff2",descriptors:{unicodeRange:"U+3192-31ba,U+31c0-31e3,U+31f0-321e,U+3220-328a,U+1f250-1f251"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cfb211578629b7e8153b37240de6a9d5.woff2",descriptors:{unicodeRange:"U+2f74-2fd5,U+3000,U+3003-3007,U+3012-3013,U+3018-301c,U+3020-3029,U+302f-303f,U+3041-3096,U+3099-30a1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-59e9ff77b0efaf684bc09274fb6908c9.woff2",descriptors:{unicodeRange:"U+30a2-30ff,U+3105-312f,U+3131-318e,U+3190-3191"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2adbc89c11e65905393d3dfc468b9d5b.woff2",descriptors:{unicodeRange:"U+4e36,U+4ea0,U+4f74,U+4f91,U+4f94,U+4fc5,U+507e,U+50ed,U+5182,U+51f5,U+525e,U+5282,U+52f9,U+5326,U+537a,U+53a3,U+5423,U+5459,U+54b4,U+54d9,U+55c9,U+57f4,U+580b,U+5902,U+5925,U+5a08,U+5ab5,U+5b84,U+5be4,U+5c22,U+5cb5,U+5cbd,U+5d3e,U+5e31,U+5e5e,U+5e80,U+5ee8,U+5f82,U+5fc9,U+5fed,U+600a,U+605d,U+609b,U+609d,U+60dd,U+6243,U+6322,U+63ce,U+640c,U+643f,U+6445,U+64d7,U+6534,U+6549,U+656b,U+6603,U+674c,U+680a,U+6864,U+69d4,U+6a65,U+6c2a,U+6c46,U+6c5c,U+6d0e,U+6d48,U+6e2b,U+6eb2,U+6eb7,U+6f89,U+706c,U+70b1,U+7113,U+71d4,U+727f,U+72f3,U+7303,U+7321,U+736c,U+736f,U+74a9,U+74de,U+750d,U+7513,U+7592,U+75c4,U+7605,U+760a,U+761b,U+7625,U+762d,U+7643,U+7707,U+7747,U+77b5,U+7839,U+784e,U+78a5,U+7924,U+793b,U+798a,U+7a03,U+7a06,U+7a78,U+7a80,U+7aad,U+7ba8,U+7be5,U+7cc8,U+7ec1,U+7f0b,U+7f0f,U+7f12,U+7f68,U+7f9d,U+8025,U+809c,U+80ad,U+80b7,U+80e8,U+811e,U+8204,U+8223,U+822d,U+823b,U+824b,U+825a,U+827d,U+827f,U+828f,U+82c8,U+8307,U+831b,U+8347,U+837d,U+839b,U+83a9,U+83f9,U+84b9,U+8579,U+864d,U+867f,U+86b0,U+86d1,U+86d8,U+86f2,U+8764,U+8770,U+8788,U+8797,U+87ac-87ad,U+87b5,U+881b,U+8844,U+88bc,U+88fc,U+8930,U+89cf,U+89d6,U+8ba0,U+8bd4,U+8c02,U+8c2b,U+8c85,U+8e23,U+8f81-8f82,U+8fd5,U+90b6,U+90db,U+914e,U+9164,U+91ad,U+943e,U+94b7-94b8,U+94eb,U+950d,U+9514,U+9516,U+9518,U+9529,U+9538,U+953f,U+954e,U+955f,U+95fc,U+9667,U+96b3,U+9792,U+97b2,U+98a1,U+9969,U+9987,U+9998,U+9a80,U+9a92,U+9a96,U+9adf,U+9cb4,U+9cbd,U+9cd0,U+9cd4,U+9e31,U+9e3a,U+9e71,U+9ee5,U+9eea,U+9ef9,U+9fa0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-70e811fd7994e61f408c923de6ddd078.woff2",descriptors:{unicodeRange:"U+4e0c,U+4e28,U+4e3f,U+4ec2,U+502e,U+50ba,U+5155,U+5181,U+522d,U+5281,U+5290,U+5369,U+53b6,U+54d5,U+54dc,U+54ff,U+552a,U+553c,U+5588,U+55b5,U+5686,U+570a,U+5776,U+5786,U+57a4,U+5820,U+5865,U+58bc,U+5b32,U+5b65,U+5c1c,U+5c66,U+5c6e,U+5c8d,U+5ddb,U+5f2a,U+5f50,U+5f61,U+6067,U+614a,U+615d,U+619d,U+61d4,U+620b,U+6224-6225,U+6343,U+63ad,U+63f2,U+640b,U+6420,U+6434,U+6496,U+64d0,U+6509,U+652e,U+67a8,U+6833,U+6844,U+684a,U+6920,U+6957,U+6971,U+6a8e,U+6a91,U+6aa0,U+6b43,U+6bea,U+6bf5,U+6c15,U+6cd0,U+6ee0,U+6f24,U+6f2d,U+70c0,U+721d,U+728b,U+72c3,U+72e8,U+730a,U+7338-7339,U+734d,U+746d,U+752f,U+754e,U+770d,U+7735,U+778d,U+77a2,U+77e7,U+7857,U+786d,U+78c9,U+78f2,U+791e,U+7953,U+7b58,U+7b9d,U+7bda,U+7cd7,U+7f32-7f33,U+8022,U+8028-8029,U+8035,U+804d,U+8080,U+80c2,U+80e9,U+80ec,U+80f2,U+810e,U+8221,U+8274,U+82b0,U+82e0,U+83b0,U+8487-8488,U+848e,U+84cd,U+84d0,U+8539,U+857a,U+85a8,U+85b7,U+867c,U+871e,U+8723,U+877e,U+878b,U+8793,U+8803,U+88d2,U+8966,U+89cc,U+89eb,U+8b26,U+8c8a,U+8c98,U+8d33,U+8d47,U+8d55,U+8dbc,U+8e40,U+8e94,U+8f77,U+8f79,U+9058,U+91a2,U+91b5,U+928e,U+9494,U+94b6,U+94de,U+94f4,U+94f9,U+950a,U+950e,U+951e,U+952b,U+953c,U+953e,U+9544,U+9561,U+9564,U+9569,U+95f6,U+9603,U+960d,U+963d,U+9674,U+9794,U+97ab,U+98a5,U+9a9f,U+9ab1,U+9ad1,U+9b0f,U+9b2f,U+9c92,U+9c95,U+9cba,U+9cbc,U+9cc6,U+9ccb,U+9cd8,U+9e32,U+9e38,U+9e5b,U+9e7e,U+9eb4,U+9efb-9efc,U+9f3d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c4a687ac4f0c2766eefc9f77ed99cddf.woff2",descriptors:{unicodeRange:"U+2e3b,U+2e80-2e99,U+2e9b-2ef3,U+2f00-2f73,U+ffffd"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-51502f1206be09c565f1547c406e9558.woff2",descriptors:{unicodeRange:"U+4e69,U+4f1b,U+4f67,U+4f7e,U+4fdc,U+50e6,U+5196,U+5202,U+5233,U+523f,U+52a2,U+536e,U+5476,U+54ad,U+54cf,U+5537,U+561e,U+56dd,U+56df,U+5709,U+572c,U+57cf,U+57f8,U+580d,U+5881,U+589a,U+5941,U+59b2,U+5c25,U+5d24,U+5d74,U+5e42,U+5e8b,U+5eb3,U+5ed2,U+5fad,U+6003,U+603c,U+6083,U+6100,U+6126,U+6206,U+62ca,U+638e,U+63b4,U+6426,U+646d,U+6535,U+65c4,U+66db,U+6715,U+6769,U+6798,U+67c3,U+6861,U+698d,U+69ca,U+69ed,U+69f2,U+69ff,U+6a18,U+6b39,U+6bb3,U+6c0d,U+6cb2,U+6cd6,U+6cf7,U+6cfa,U+6d33,U+6e16,U+6e53-6e54,U+6ebb,U+6fb6,U+709d,U+72ad,U+72f7,U+72fb,U+7313,U+739f,U+74ba,U+754b,U+755b,U+758b,U+75ac,U+75d6,U+7617,U+7635,U+7640,U+76a4,U+76b2,U+775a,U+77bd,U+781f,U+79b3,U+7b2b,U+7b31,U+7b3e,U+7b6e,U+7b9c,U+7c0b,U+7c9e,U+7cc1,U+7ce8,U+7ea5,U+7f21,U+7f27,U+7f74,U+7fb0,U+8031,U+8071,U+80ea,U+8114,U+8160,U+81a6,U+81c1,U+829f,U+82a4,U+82fb,U+831a,U+8333,U+836c,U+83b6,U+83f8,U+8411,U+841c,U+8489,U+848c,U+85a4,U+8627,U+8629,U+866e,U+86b5,U+872e,U+8731,U+877b,U+877d,U+87ea,U+8813,U+8816,U+8864,U+88ce,U+88e5,U+897b,U+89cb,U+89f3,U+8bfc,U+8c35,U+8d46,U+8d4d,U+8dba,U+8e3a,U+8f75,U+8f7e,U+8fd3,U+9161,U+9179,U+917e,U+91a3,U+94ac,U+94d7,U+94e5,U+952a,U+952c,U+9545,U+9565,U+9568,U+956a,U+961d,U+96e0,U+972a,U+9730,U+989f,U+98e7,U+990d,U+9967,U+9993,U+9aa3,U+9ac0,U+9ae1,U+9aeb,U+9af9,U+9c86,U+9c8b,U+9ca0-9ca1,U+9ca3,U+9ce2,U+9e48,U+9e6a,U+9e87,U+9ee2,U+9ee9,U+9f17,U+9f19,U+9f2c,U+9f80"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-1fdc0c67ed57263a80fd108c1f6ccf24.woff2",descriptors:{unicodeRange:"U+4ef3,U+50d6,U+50ec,U+51ab,U+51b1,U+52d6,U+54a9,U+54da,U+55be,U+55cd,U+564d,U+572f,U+574c,U+576b,U+57d8,U+57fd,U+5844,U+59d2,U+5ae0,U+5b16,U+5b37,U+5b5b,U+5b80,U+5d1e,U+5d6b,U+5efe,U+5f11,U+5f56,U+5f58,U+5f73,U+5f8c,U+5fc4,U+5fe4,U+602b,U+6106,U+610d,U+63de,U+63f8,U+641b,U+64e4,U+6634,U+676a,U+67b5,U+681d,U+6883,U+69b1,U+69e0,U+6b37,U+6b9b,U+6d7c,U+6ed7,U+6f36,U+6f72,U+6f8c,U+7035,U+7039,U+7173,U+7178,U+7228,U+728f,U+72b4,U+72ef,U+72f4,U+7331,U+7481,U+74e0,U+7540,U+75c3,U+75e6,U+763c,U+764d,U+76cd,U+7704,U+7743,U+7780,U+7847,U+786a,U+78b9,U+7962,U+7a02,U+7aac,U+7ab3,U+7b0a,U+7b4c,U+7b7b,U+7bfc,U+7c0f,U+7c16,U+7c40,U+7ca2,U+7cc7,U+7cf8,U+7d77,U+7e3b,U+7ea1,U+7ea9,U+7ef2,U+7f02,U+7f07,U+7f0c,U+7f23,U+7f2f,U+7fbc,U+8016,U+8020,U+812c,U+8136,U+8182,U+822f,U+8233,U+825f,U+8268,U+8284,U+8288,U+8291,U+8308,U+8311,U+835b,U+836d,U+83dd,U+8406,U+840f,U+845c,U+84b4,U+84e3,U+850c,U+855e,U+863c,U+86ba,U+86c4,U+86de,U+86f1,U+873e,U+87bd,U+87db,U+880a,U+883c,U+887f,U+88f0,U+890a,U+892b,U+895e,U+89ef,U+8a48,U+8bdc,U+8c18,U+8c33,U+8c94,U+8db1,U+8dcf,U+8dd6,U+8de3,U+8e6f,U+8e90,U+8f7a,U+8fb6,U+902d,U+90be,U+91af,U+936a,U+948b,U+94d8,U+9513,U+953a,U+956c,U+963c,U+9654,U+966c,U+9688,U+97b4,U+996b,U+9a75,U+9a7a,U+9aba,U+9aed,U+9b08,U+9b43,U+9c8e,U+9c94,U+9c9a,U+9e2b,U+9e36,U+9e4b,U+9e4e,U+9e55,U+9e63,U+9e68-9e69,U+9ebd,U+9ec9,U+9f0d,U+9f37,U+9f51"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e11567fd2accf9957cd0d3c2be937d87.woff2",descriptors:{unicodeRange:"U+50a7,U+5240,U+5261,U+52ac,U+531a,U+5363,U+5432,U+5452,U+5456,U+5472,U+5478,U+553f,U+5575,U+5581,U+55cc,U+55fe,U+5601,U+572e,U+57d2,U+57ef,U+581e,U+5924,U+5981,U+5997,U+59a3,U+5aaa,U+5ab8,U+5b34,U+5d5d,U+5def,U+5e11,U+5e91,U+5ed1,U+5ef4,U+5f40,U+600d,U+6019,U+601b,U+605a,U+6092,U+60ab,U+6217,U+623d,U+6369,U+65d2,U+6661,U+670a,U+6753,U+67a7,U+6855,U+68f9,U+6939,U+696e,U+6980,U+6a7c,U+6aab,U+6b82,U+6bf3,U+6bf9,U+6c05,U+6c19-6c1a,U+6ca9,U+6cf6,U+6d1a,U+6dab,U+6f74,U+7085,U+7198,U+71b5,U+7256,U+725d,U+727e,U+72fa,U+7322,U+738e,U+73e5,U+750f,U+755a,U+7594,U+75b3,U+760c,U+7615,U+7630,U+763f,U+77ec,U+7817,U+78a1,U+78d9,U+7905,U+7b2a,U+7b2e,U+7b62,U+7b85,U+7bcc,U+7bea,U+7c26,U+7c74,U+7c9c-7c9d,U+7e47,U+7e9b,U+7e9f,U+7ee0,U+7ee8,U+7ef1,U+7f01,U+7f11,U+7f17,U+7f36,U+7f7e,U+7fee,U+802a,U+80cd,U+8112,U+8169,U+8234,U+8279,U+8298,U+82ca,U+82d8,U+82e1,U+83c0,U+83d4,U+83df,U+8401,U+8451,U+845a,U+8476,U+8478,U+84ba,U+84bd,U+84e0,U+851f,U+8548,U+8556,U+8585,U+868d,U+86e9,U+86f4,U+86f8,U+8765,U+8785,U+87ab,U+87ee,U+8832,U+8872,U+88b7,U+88e2-88e3,U+89da,U+8bce,U+8bd3,U+8bd6,U+8bf9,U+8c16,U+8c73,U+8d5c,U+8dde,U+8f6d,U+8f94,U+8fe8,U+9011,U+915e,U+9185,U+918c,U+94ab,U+94d1,U+94f3,U+9515,U+951d,U+9558,U+9567,U+96ce,U+96e9,U+9785,U+9878,U+987c,U+9883,U+98d1,U+9954,U+9963,U+9a93,U+9ac1,U+9acc,U+9b1f,U+9b49,U+9b4d,U+9b51,U+9ca7,U+9cae,U+9cce,U+9cd3,U+9e37,U+9e39,U+9e41,U+9e46,U+9f22,U+9f2f,U+9f39,U+9f85"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-20cc1bbf50e7efb442756cb605672c1f.woff2",descriptors:{unicodeRange:"U+4e5c,U+4edf,U+4f25,U+4f32,U+4f5e,U+4f76,U+4faa,U+4fe6,U+5028,U+5048,U+5250,U+535f,U+538d,U+53c1,U+5412,U+5443,U+54d4,U+54dd,U+5541,U+5550,U+5577,U+55dd,U+55f3,U+560f,U+562c,U+5657-5658,U+5664,U+56af,U+575c,U+577c,U+57b2,U+57da,U+5800,U+5a62,U+5aeb,U+5c3b,U+5ca3,U+5d26,U+5d9d,U+5f01,U+5fb5,U+5fdd,U+5ff8,U+6029,U+6041,U+6079,U+60b1,U+6222,U+629f,U+6332,U+63bc,U+63e0,U+6485,U+65ab,U+65c3,U+65c6,U+668c,U+669d,U+66be,U+67fd,U+6800,U+68fc,U+690b,U+6924,U+6978,U+69a7,U+6a3e,U+6a50,U+6a5b,U+6a97,U+6b24,U+6b8d,U+6baa,U+6c10,U+6c54,U+6ceb,U+6d04,U+6d4d,U+6eb1,U+6ebd,U+7110,U+71b3,U+71f9,U+7230,U+728d,U+7292,U+72b8,U+72d2,U+7360,U+73a2,U+7511,U+75a0,U+75c8,U+779f,U+7826,U+7877,U+7a39,U+7aa8,U+7ae6,U+7b04,U+7b0f,U+7baa,U+7bac,U+7c1f,U+7ccd,U+7ecb,U+7ed4,U+7ed7,U+7efb,U+7f0d,U+7f5f,U+7faf,U+7fd5,U+7fe5,U+8027,U+80bc,U+80dd,U+80fc,U+8132,U+815a,U+8167,U+816d,U+81ca,U+8228,U+82a1,U+82a9,U+82ab,U+82cc,U+8351,U+8368,U+83b8,U+83d8,U+83ea,U+83f0,U+8497,U+84c1,U+858f,U+85ff,U+867b,U+86a8-86a9,U+870a,U+8722,U+876e,U+877c,U+87e5,U+8888,U+88df,U+8919,U+8bcc,U+8bdf,U+8be8,U+8bee,U+8c20,U+8c2f,U+8d36,U+8df8,U+8e05,U+8e2f,U+8f9a,U+9021,U+908b,U+90b4,U+90ba,U+90d0,U+90eb,U+90fe,U+91aa,U+933e,U+9486-9487,U+948d,U+9490,U+94ad,U+94bd,U+94d6,U+94d9,U+9507,U+9546,U+955e,U+956b,U+95e9,U+9604,U+960b,U+9612,U+9615,U+9617,U+96b9,U+989a-989b,U+989e,U+9a78,U+9a7d,U+9aa0,U+9aa2,U+9ac2,U+9b23,U+9b3b,U+9c82,U+9cca,U+9cd9,U+9e28,U+9e5a,U+9e5e,U+9e6c,U+9efe,U+9f0b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5d2898fbc097a7e24c6f38d80587621e.woff2",descriptors:{unicodeRange:"U+4e47,U+4e8d,U+4f65,U+4f89,U+50ee,U+520e,U+5416,U+5454,U+54bb,U+54c2,U+54d3,U+54de,U+5591,U+55e5,U+560c,U+566b,U+5769,U+578c,U+5793,U+57e4,U+5889,U+593c,U+59ab,U+5ad4,U+5ad8,U+5af1,U+5b53,U+5ba5,U+5c59,U+5c63,U+5d5b,U+5e0f,U+5e14,U+5edb,U+5fbc,U+6004,U+60ad,U+610e,U+61b7,U+624c,U+634c,U+647a,U+64ba,U+65f0,U+6600,U+66f7,U+67e2,U+67f0,U+680c,U+686b,U+6874,U+691f,U+6989,U+6a17,U+6b81,U+6b84,U+6c06-6c07,U+6c3d,U+6d07,U+6d27,U+6d2b,U+6d91,U+6e6b,U+6e8f,U+6fde,U+70bb,U+723b,U+726e,U+72b0,U+72ce,U+72f2,U+7301,U+731e,U+737e,U+7477,U+748e,U+74ff,U+7633,U+7654,U+771a,U+7726,U+7765,U+7768,U+781c,U+7829,U+78d4,U+7913,U+7957,U+79d5,U+79eb,U+7a70,U+7a86,U+7b25,U+7b38,U+7b47,U+7b72,U+7ba6-7ba7,U+7dae,U+7ee1,U+7efe,U+7f26,U+7f31,U+7f35,U+801c,U+8043,U+809f,U+80ab,U+80d7,U+8118,U+8188,U+81cc,U+823e,U+8244,U+824f,U+82b4,U+82c1,U+82e4,U+82f4,U+8306,U+833a,U+835c,U+839c,U+83b3,U+83bc,U+846d,U+867a,U+868b,U+8734,U+87ca,U+886e,U+887e,U+88a2,U+88c9,U+8921,U+8bb5,U+8bf3,U+8c04,U+8c17,U+8c1d,U+8c25,U+8c36,U+8c55,U+8c78,U+8d3d,U+8d40,U+8d59,U+8d67,U+8d91,U+8dbf,U+8deb-8dec,U+8dfd,U+8e14,U+8e41,U+8f8e,U+900b,U+9044,U+9062,U+90cf,U+9123,U+9146,U+9162,U+9172,U+918d,U+9190,U+92c8,U+93ca,U+948c,U+94aa,U+94b2,U+94c8,U+94ca,U+94d5,U+94df,U+94e9-94ea,U+94f7,U+94fc-94fd,U+951b,U+954f,U+9554,U+9559,U+9566,U+9571-9572,U+95f1,U+9608,U+960f,U+97af,U+988f,U+98d5,U+992e,U+9955,U+9ab0,U+9b32,U+9c90,U+9c9e,U+9ca5,U+9ca9,U+9cad,U+9cb1,U+9cc3,U+9e47,U+9ee7,U+9f87"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-ac9ceb44437becc3e9c4dbfebab7fc2d.woff2",descriptors:{unicodeRange:"U+4e93,U+4ec4,U+4ef5,U+4f27,U+4f7b,U+4fe3,U+5080,U+5121,U+51eb,U+5208,U+52f0,U+53f5,U+5453,U+5466,U+54a6,U+54bf,U+54d0,U+5533,U+5549,U+5556,U+556d,U+558f,U+55f2,U+55f5,U+5627,U+567b,U+56d4,U+571c,U+5739,U+57b4,U+5807,U+58c5,U+59a4,U+59af,U+59d8,U+5a09,U+5a0c,U+5a4a,U+5ad2,U+5b6c,U+5ca2,U+5cac,U+5d03,U+5d6c,U+5db7,U+5ebe,U+5f2d,U+5fea,U+6042,U+6120,U+6175,U+6221,U+623e,U+6339,U+638a,U+643d,U+64b8,U+64e2,U+66e9,U+67b3,U+67c1,U+67d2,U+6832,U+6877,U+68f0,U+6934,U+6966,U+6987,U+6998,U+69c1,U+69ce,U+6a3d,U+6a84,U+6aa9,U+6b87,U+6bd6,U+6c16,U+6c18,U+6cd4,U+6cee,U+6de0,U+6e0c,U+6ecf,U+6f4b,U+70b7,U+7168,U+72d9,U+7352,U+73b3,U+73d0,U+7441,U+74d2,U+75a5,U+75e7-75e8,U+7610,U+7619,U+765e,U+772d,U+7812,U+782c,U+784c,U+7850,U+7856,U+789b,U+78f4,U+7a51,U+7b15,U+7b1e,U+7b24,U+7b5a,U+7bb8,U+7bc1,U+7bd9,U+7ed0,U+7ee6,U+7efa,U+7f1b,U+7f1f,U+7f22,U+7f45,U+7f71,U+7fa7,U+7fbf,U+7ff3,U+8052,U+80b1,U+80db,U+80f4,U+81bb,U+81ec,U+8202,U+8210,U+8249,U+828a,U+828e,U+82e3,U+8315,U+8369,U+8378,U+83a8,U+83aa,U+83b4,U+83e1,U+84fc,U+8538,U+853b,U+859c,U+85ae,U+86b4,U+86c9,U+86cf,U+8725,U+879f,U+87b3,U+887d,U+88fe,U+8a8a,U+8ba7,U+8c07,U+8c14,U+8c30,U+8c47,U+8db5,U+8dd7,U+8e1f,U+8e69,U+8e70,U+8e85,U+8f78,U+8f87,U+8f8b,U+8f8f,U+90c4,U+9143,U+917d,U+948f,U+94cd,U+94d2,U+94ef,U+954a,U+9609-960a,U+96d2,U+9708,U+9765,U+97ea,U+9880,U+98a7,U+996c,U+9980,U+9991,U+9a88,U+9ab6,U+9afb,U+9b47,U+9c87,U+9c9b,U+9cb5,U+9cc7,U+9e2c,U+9e42,U+9e58,U+9ecd,U+9ecf,U+9f8a,U+9f8c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c16ed9740b85badf16e86ea782a3062f.woff2",descriptors:{unicodeRange:"U+4ebb,U+4edd,U+4fa9,U+502c,U+50a5,U+51c7,U+51fc,U+523d,U+5241,U+530f,U+5464,U+549d,U+54a3,U+5514,U+5527,U+555c,U+556e,U+5576,U+55b1,U+55b9,U+55eb,U+5624,U+564c,U+5671,U+5685,U+568f,U+56d7,U+56e1,U+57a1,U+57d9,U+5942,U+5a67,U+5c50,U+5c7a,U+5c98,U+5d06,U+5d27,U+5d6f,U+5df3,U+5dfd,U+5e19,U+5ea0,U+5eb9,U+5eea,U+5ffe,U+600f,U+606b,U+6215,U+622c,U+6266,U+62bb,U+62bf,U+6308,U+6387,U+63b8,U+63c4,U+63c6,U+63f6,U+6441,U+6555,U+659b,U+6677,U+66a7,U+6775,U+678b,U+679e,U+6840,U+6849,U+6860,U+68c2,U+6910,U+6a28,U+6a2f,U+6a79,U+6b92-6b93,U+6bc2,U+6bfd,U+6c29,U+6c32,U+6c86,U+6cc5,U+6d0c,U+6d60,U+6da0,U+6ddd,U+6e86,U+6ed3,U+6edf,U+6fb9,U+6fd1,U+6fef,U+7023,U+7080,U+70ca,U+712f,U+7145,U+7284,U+732c,U+73c8,U+73d9,U+740a,U+7457,U+7596,U+759d,U+75a3,U+75d8,U+75e3-75e4,U+75ff,U+7622,U+7688,U+76b4,U+76e5,U+7818,U+7887,U+789a,U+78b2,U+7b08,U+7b33,U+7c2a,U+7ccc,U+7ea8,U+7ec0,U+7fe6,U+8012,U+8084,U+8093,U+80e4,U+80ef,U+8297,U+82a8,U+82be,U+8331,U+8366,U+83c5,U+83fd,U+8473,U+84a1,U+84ca,U+84d1,U+857b,U+85c1,U+85d3,U+8605,U+8662,U+86aa,U+86b1,U+86d4,U+86ed,U+86f3,U+8709,U+8748,U+874c,U+8763,U+89c7,U+89de,U+89e5,U+8a3e,U+8ba6,U+8c00,U+8c21,U+8c49,U+8c7a,U+8d30,U+8df9,U+8e51,U+8e59,U+8f6b,U+8f73,U+8ff3,U+9016,U+9026,U+902f,U+9099,U+909b,U+90c7,U+914a,U+91ae,U+91ba,U+9495,U+94a3,U+94af,U+94ba,U+94bf,U+94cc,U+94e1,U+94f0,U+9531,U+955d,U+95f3,U+9697,U+96bc,U+975b,U+977c,U+98a2,U+998a,U+9994-9995,U+9a9b,U+9ab7,U+9ac5,U+9c91,U+9ccf,U+9cd5,U+9e29,U+9edc,U+9edf,U+9f83,U+9f88-9f89"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-aa0d470430e6391eca720c7cfa44446f.woff2",descriptors:{unicodeRange:"U+4ee8,U+4f22,U+4f43,U+4f57,U+4f5d,U+4f6f,U+4ff8,U+502d,U+507b,U+5345,U+53df,U+53fb,U+544b,U+5482,U+54a7,U+54cc,U+550f,U+5544,U+5555,U+5594,U+55e8,U+55ec,U+55ef,U+564e,U+56f9,U+5704,U+576d,U+5785,U+57ad,U+5914,U+5958,U+599e,U+59aa,U+59be,U+5a06,U+5abe,U+5ae1,U+5b40,U+5bee,U+5cbf,U+5cc4,U+5ccb,U+5d47,U+603f,U+6078,U+607d,U+607f,U+608c,U+609a,U+60fa,U+61ff,U+621b,U+622e,U+626a,U+6371,U+63ae,U+63cd,U+63d6,U+6410,U+6414,U+6421,U+6448,U+64d8,U+6710,U+6748,U+6772,U+680e,U+6954,U+69ab,U+6c68,U+6c8f,U+6ca4,U+6d2e,U+6e4e,U+6e98,U+6fe0,U+7094,U+70e9,U+7116,U+7119,U+723f,U+73c9,U+74e4,U+753e,U+7548,U+75bd,U+75cd,U+7618,U+7634,U+76c5,U+76f1,U+7708,U+7719,U+777e,U+7791,U+77b3,U+7823,U+7827,U+7830,U+7889,U+7893,U+7949,U+795c,U+79e3,U+7a14,U+7a88,U+7a95,U+7aa0,U+7afd,U+7b90,U+7bd1,U+7bfe,U+7da6,U+7ec2,U+7eef,U+7f03-7f04,U+7f08,U+7f58,U+7f61,U+7f9f,U+8174,U+8200,U+828d,U+82c4,U+82d5,U+82dc,U+82f7,U+832d,U+835a,U+840b,U+8438,U+852b,U+869d,U+86ac,U+86d0,U+86f0,U+8782,U+87a8,U+87d1-87d2,U+87e0,U+8839,U+8913,U+891b,U+8934,U+8941,U+89ca,U+89ce,U+8a07,U+8ba3,U+8bc5,U+8bcb,U+8bdb,U+8c11,U+8c15,U+8c29,U+8c32,U+8dc4,U+8dce,U+8ddb,U+8dfa,U+8e09,U+8e1d,U+8e39,U+8e42,U+8e49,U+8e4b,U+8e8f,U+8f71-8f72,U+9004,U+9036,U+9097,U+90dc,U+90e2,U+90e6,U+90ef,U+9104,U+919a,U+91b4,U+938f,U+9497,U+950f,U+9557,U+9562-9563,U+9573,U+9606,U+9649,U+972d,U+973e,U+97a3,U+97eb,U+988c,U+9894,U+98a6,U+9974,U+9977,U+997d,U+9a90,U+9a9d,U+9aef,U+9ca2,U+9ccd,U+9cdf,U+9e20,U+9e4c,U+9e6b,U+9f3e"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-f2b54d4e7be0eaefe1c2c56836fa5368.woff2",descriptors:{unicodeRange:"U+4ede,U+4ee1,U+4eeb,U+4fda,U+4ffe,U+5025,U+506c,U+50f3,U+5106,U+520d,U+525c,U+52ad,U+530d,U+5310,U+539d,U+53a9,U+53fc,U+5421,U+5477,U+54e7,U+551b,U+5530,U+557e,U+5599,U+55c4,U+55d1,U+55d4,U+55df,U+55e4,U+55ea,U+5623,U+562d,U+5654,U+56eb,U+56f5,U+57a7,U+57d5,U+57dd,U+584d,U+5880,U+58ec,U+59dd,U+5a32,U+5a55,U+5a75,U+5b51,U+5b71,U+5b73,U+5cd2,U+5ce4,U+5e5b,U+5e96,U+5fd2,U+607b,U+61d1,U+634b,U+636d,U+63b3,U+63ff,U+64c0,U+661d,U+6657,U+66dc,U+67a5,U+6841,U+6867,U+6901,U+699b,U+6a47,U+6b46,U+6c21,U+6c24,U+6c35,U+6c4a,U+6c94,U+6ca3,U+6d39,U+6d63,U+6d6f,U+6d94,U+705e,U+71e7,U+726f,U+72cd,U+72de,U+72f0,U+7325,U+7350,U+7391,U+741a,U+757f,U+7583,U+75b1,U+75b4,U+75b8,U+75c2,U+75f1,U+766f,U+7699,U+7751,U+789c,U+7a17,U+7be6,U+7cb2,U+7ea3,U+7eb0,U+7ebe,U+7eeb,U+7f25,U+7f2c,U+7fb8,U+8026,U+8037,U+8153,U+8171,U+8191,U+8214,U+821b,U+8222,U+826e,U+82eb,U+830c,U+8314,U+8334,U+83d6,U+8418,U+843c,U+84ff,U+8564,U+8572,U+8616,U+866c,U+8693,U+86a3,U+86a7,U+86af,U+86b6,U+86c6,U+86ca,U+8708,U+870d,U+8759,U+8760,U+87af,U+87c6,U+8869,U+88c6,U+89d0,U+8b07,U+8baa-8bab,U+8bc2,U+8be4,U+8bf0,U+8c2a,U+8c62,U+8c89,U+8d49,U+8d6d,U+8d84,U+8d94,U+8db8,U+8dc6,U+8e2e,U+8e3d,U+8e47,U+8e7f,U+9005,U+9051,U+907d,U+9082,U+9088,U+90b0,U+90d3,U+9150,U+949c,U+94a4,U+94b9,U+94cb,U+94e0,U+9509,U+9512,U+951f,U+9534,U+9552-9553,U+965f,U+96b0,U+9791,U+9889,U+9990,U+9a9c,U+9aa7,U+9c88,U+9cb2-9cb3,U+9cb6-9cb7,U+9cc5,U+9cdc,U+9e22,U+9e2a,U+9e57,U+9e67,U+9e73,U+9e82,U+9eb8,U+9ee0,U+9f9b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-99a16ef6a64934d5781933dbd9c46b2e.woff2",descriptors:{unicodeRange:"U+4eb5,U+4f09,U+4f5a,U+4f8f,U+4fce,U+4fdf,U+4fea,U+4ff3,U+500c,U+500f,U+504e,U+5088,U+52be,U+5420,U+5457,U+5499,U+549b,U+54c6,U+54d2,U+558b,U+559f,U+55bd,U+55d6,U+565c,U+567c,U+568e,U+5768,U+577b,U+57a9,U+57ed,U+59f9,U+5a11,U+5a40,U+5ae6,U+5b6a,U+5b93,U+5bb8,U+5c15,U+5c99,U+5c9c,U+5cc1,U+5d2e,U+5d4b,U+5d99,U+5e54,U+5e61,U+5fcf-5fd1,U+6002,U+6006,U+6014,U+60af,U+60c6,U+60da,U+60f4,U+621f,U+62c8,U+631b,U+631e,U+63e9,U+64b5,U+655d,U+6619,U+6635,U+6641,U+67ad,U+67b0,U+67b7,U+67e9,U+684e,U+688f,U+695d,U+696b,U+69b7,U+6a58,U+6c26,U+6d35,U+6d43,U+6d9e,U+6dd9,U+6dec,U+6e11,U+6e6e,U+6e9f,U+6ec2,U+6ee2,U+6ef9,U+6f09,U+6f66,U+6f8d,U+6fc2,U+6fc9,U+729f,U+72c8,U+73de,U+7430,U+7566,U+7579,U+75c9,U+75e2,U+75fc,U+762a,U+7638,U+7678,U+76c2,U+76f9,U+778c,U+77cd,U+77dc,U+7800,U+781d,U+782d,U+783b-783c,U+78a3,U+78ec,U+7980,U+7a23,U+7b95,U+7bdd,U+7c0c,U+7c41,U+7c91,U+7cb3,U+7cc5,U+7ecc,U+7f19,U+7fca,U+8006,U+8069,U+807f,U+80bd,U+80ed,U+814b,U+8198,U+82cb,U+82d2,U+834f,U+8360,U+847a,U+84d6,U+84e5,U+8537,U+85d0,U+8671,U+86a4,U+86ce,U+86f9,U+8703,U+8707,U+8737,U+873b,U+8815,U+8936,U+8bc3,U+8bcf,U+8bd2,U+8bd8,U+8be9,U+8c0c,U+8c0f,U+8c4c,U+8d45,U+8d5d,U+8d73,U+8e31,U+8e6d,U+8e76,U+8fe4,U+9041,U+90d7,U+9169,U+92ae,U+94a1,U+94c4,U+94c9,U+94db,U+94e7,U+9503,U+9506,U+9517,U+9528,U+9537,U+9542,U+9549,U+95fe,U+9616,U+961a,U+96c9,U+96f3,U+9701,U+970e,U+9739,U+9753,U+9798,U+98d2-98d3,U+98d9-98da,U+9968,U+996f,U+9984,U+9997,U+9acb,U+9b03,U+9c85,U+9ca8,U+9cab,U+9e49,U+9e51,U+9e66,U+9f10"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c40533fdf4cc57177b12803598af7e59.woff2",descriptors:{unicodeRange:"U+4e15,U+4e1e,U+4e2b,U+4eb3,U+4ec9,U+4f0e,U+4f64,U+501c,U+50a9,U+510b,U+51a2,U+51bc,U+527d,U+52d0,U+53fd,U+5429,U+542e,U+5486,U+54af,U+5506,U+5511,U+5522,U+552c,U+556c,U+55b3,U+55d2,U+55e6,U+55fd,U+561f,U+5639,U+5659,U+5662,U+5693,U+572a,U+5892,U+598a,U+5992,U+59a9,U+5a20,U+5ae3,U+5b17,U+5b7d,U+5d34,U+5d3d,U+5d4a,U+5d82,U+5e1a-5e1b,U+5ea5,U+5f0b,U+5f77,U+5fd6,U+5fff,U+6026,U+6035,U+6063,U+60b4,U+60bb,U+60ee,U+612b,U+6194,U+61ca,U+61e6,U+61f5,U+620a,U+6248,U+62a1,U+62d7,U+6376,U+637b,U+652b,U+65bc,U+65cc,U+65ce,U+65d6,U+664c,U+665f,U+6666,U+6684,U+66b9,U+6773,U+6777,U+6787,U+67de,U+6845,U+693d,U+6994,U+6a35,U+6d54,U+6d5c,U+6d8e,U+6dd6,U+6eb4,U+6f2a,U+6f78,U+704f,U+70ec,U+7118,U+714a,U+7172,U+71b9,U+724d,U+728a,U+7337,U+733e,U+7396,U+73b7,U+73cf,U+7428,U+742c,U+742e,U+74ee,U+74f4,U+7525,U+753a,U+7572,U+75d4,U+765c,U+768e,U+7762,U+777d,U+77fd,U+7825,U+7837,U+78b4,U+795f,U+79ed,U+7a1e,U+7b06,U+7b20,U+7ba9,U+7bab,U+7c7c,U+7cbd,U+7cdc,U+7ec9,U+7ef6,U+7f30,U+7f42,U+7f44,U+7f54,U+7f94,U+8004,U+800b,U+8019,U+809b,U+80ae,U+80c4,U+80f1,U+8146,U+816e,U+817c,U+81c0,U+81fc,U+81fe,U+822b,U+830f,U+832f,U+8340,U+8365,U+8385,U+8392,U+83a0,U+8424,U+84af,U+869c,U+8713,U+8717-8718,U+87c0,U+87cb,U+87fe,U+8821,U+8902,U+89d1,U+8bb9,U+8c12,U+8d32,U+8d53,U+8df7,U+8e7c,U+8f7c,U+8f95,U+8fab,U+9052,U+905b,U+9095,U+909d,U+90c5,U+911e,U+9122,U+916a,U+919b,U+948e,U+9492,U+949a,U+94b5,U+94bc,U+94c6,U+94f1,U+9502,U+9511,U+9536,U+956f-9570,U+9602,U+9621,U+9631,U+998b,U+99a5,U+9a81,U+9a9e,U+9ebe,U+9f8b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-91ddb2969bf2d31ba02ad82998d1314c.woff2",descriptors:{unicodeRange:"U+4f2b,U+4f3d,U+4fac,U+5043,U+5055,U+5140,U+5156,U+51cb,U+5243,U+531d,U+536f,U+53a5,U+53ae,U+53f1,U+541d,U+5431,U+547b,U+5492,U+5494,U+54a4,U+54aa,U+54ce,U+54fd,U+5509,U+5520,U+553e,U+557b,U+55c5,U+55e1,U+55f7,U+5608,U+5636,U+563b,U+5773,U+57a0,U+5811,U+587e,U+58d5,U+59e3,U+5a29,U+5a6a,U+5a76,U+5a7a,U+5ac9,U+5b62,U+5b95,U+5c49,U+5c8c,U+5cab,U+5cb7,U+5d02,U+5d58,U+5e44,U+5e7a,U+5eff,U+5f29,U+5f89,U+5f9c,U+5fa8,U+6005,U+6043,U+60b8,U+60d8,U+60ec,U+60f0,U+6115,U+618e,U+630e,U+637a,U+6390,U+63ac,U+63b0,U+64de,U+6525,U+6538,U+65ee-65ef,U+6631,U+6636,U+6654,U+677c,U+67b8,U+67d8,U+683e,U+6886,U+68b5,U+692d,U+6963,U+6979,U+6988,U+6b59,U+6b9a,U+6c69,U+6c74,U+6cae,U+6ce0,U+6cef,U+6d95,U+6dc5,U+6dde,U+6de6,U+6dfc,U+6ea7,U+6f15,U+6f29,U+7096,U+70c3,U+7131,U+715c,U+7166,U+7266,U+7317,U+731d,U+7329,U+73e9,U+7425,U+7455,U+7490,U+74ef,U+7519,U+75b5,U+75b9,U+75de,U+7656,U+7663,U+7691,U+7729,U+77fe,U+783e,U+787c,U+795a,U+7a79,U+7abf,U+7b3a,U+7b4f,U+7b60,U+7b75,U+7b8d,U+7bb4,U+7bd3,U+7be1,U+7cbc,U+7edb,U+7f1c,U+7f8c,U+7fb2,U+7fb9,U+7fce,U+7ff1,U+810d,U+81c6,U+82a5,U+82aa,U+82de,U+8317,U+8343,U+835e,U+8364,U+836a,U+853a,U+8543,U+854a,U+8559,U+8568,U+85b0,U+85b9,U+864f,U+86e4,U+8715,U+8845,U+8884,U+88e8,U+88f1,U+8983,U+8be1,U+8c1f,U+8c27,U+8c5a,U+8c82,U+8d58,U+8dbe,U+8f98,U+9035,U+9074,U+90a1,U+9149,U+9157,U+93d6,U+949d,U+94c2,U+94e3-94e4,U+95eb,U+95f0,U+9611,U+9619,U+9642,U+968d,U+9706,U+970f,U+97ed,U+988a,U+9893,U+98e8,U+9a77,U+9a87,U+9aa1,U+9abc,U+9cdd,U+9e2f,U+9e33,U+9e44,U+9e5c,U+9e9d,U+9edd"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-774d4f764a1299da5d28ec2f2ffe0d69.woff2",descriptors:{unicodeRange:"U+4f58,U+4f6c,U+4f70,U+4fd0,U+5014,U+51bd,U+524c,U+5315,U+5323,U+535e,U+540f,U+542d,U+545b,U+548e,U+549a,U+54ab,U+54fc,U+5567,U+556a,U+5600,U+5618,U+563f,U+5669,U+56f1,U+56ff,U+573b,U+574d,U+579b,U+57b8,U+57c2,U+586c,U+58f9,U+595a,U+598d,U+5993,U+5996,U+59d7,U+5b7a,U+5ba6,U+5c4e,U+5c96,U+5ce5,U+5eb6,U+5f08,U+5f99,U+602f,U+6059,U+606c,U+607a,U+60ed,U+61a9,U+620c,U+6249,U+62a8,U+62c4,U+62ed,U+62fd,U+6342,U+6345,U+6396,U+63a3,U+6402,U+6413,U+642a,U+6487,U+64a9,U+64ac,U+64ae,U+64b7,U+659f,U+65a1,U+667e,U+66f3,U+67e0,U+69db,U+69df,U+6aac,U+6b86,U+6c50,U+6c5e,U+6c76,U+6c85,U+6c8c,U+6cde,U+6d19,U+6d52,U+6da7,U+6db8,U+6e1a,U+6e25,U+6e4d,U+6e5f,U+6ec1,U+6f31,U+6f7a,U+6fa7,U+6fe1,U+701b,U+70ab,U+70f7,U+717d,U+71a8,U+7252,U+72c4,U+72e1,U+7315,U+736d,U+73ae,U+73c0,U+73c2,U+740f,U+75a4,U+7600-7601,U+768b,U+76bf,U+76d4,U+7728,U+772f,U+776c,U+77a0,U+77b0,U+77f8,U+783a,U+78d0,U+78fa,U+7977,U+7a37,U+7a92,U+7afa,U+7b71,U+7b94,U+7cef,U+7f28,U+7fe1,U+808b,U+80e5,U+80eb,U+8110,U+8113,U+812f,U+814c,U+81c3,U+8235,U+82d4,U+8309,U+83c1,U+8431,U+8469,U+84bf,U+84d3,U+84df,U+84e6,U+8511,U+8638,U+86c0,U+86db,U+86fe,U+8757,U+8822,U+8882,U+8885,U+8892,U+88f3,U+892a,U+8ba5,U+8bd9,U+8be0,U+8be7,U+8bfd,U+8c1a,U+8d4a,U+8d4e,U+8d66,U+8dda,U+8e0c,U+8e52,U+8e74,U+8e87,U+8f76,U+8fc2,U+8fe6,U+900d,U+9068,U+90ac,U+90b3,U+90b8,U+90e7,U+9119,U+9131,U+915a,U+916e,U+94b4,U+94d0,U+94e2,U+94ec,U+94ff,U+9522,U+9535,U+9556,U+965b,U+96f9,U+9774,U+9981,U+998d,U+998f,U+9a6e,U+9a7f,U+9a8a,U+9b13,U+9c9f,U+9e3e,U+9e43,U+9e6d,U+9e8b,U+9e92,U+9edb,U+9eef"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7718fe60986d8b42b1be9c5ace5ccf25.woff2",descriptors:{unicodeRange:"U+4e10,U+4e56,U+4e98,U+4ec3,U+4f3a,U+4f5f,U+4f88,U+4f97,U+4fa5,U+4fe8,U+504c,U+5197,U+52fa,U+5364,U+53e8,U+5406,U+543c,U+545c,U+5471,U+5480,U+5495,U+54b3,U+54df,U+54e6,U+54ee,U+557c,U+5583,U+55dc,U+55e3,U+566c,U+592f,U+5944,U+5983,U+59ca,U+59e5,U+5a13,U+5a7f,U+5b09,U+5bd0,U+5e4c,U+5eb5,U+5f1b,U+5f3c,U+608d,U+60cb,U+61a7,U+61ac,U+61cb,U+6233,U+62a0,U+62e7,U+62ee,U+62f4,U+62f7,U+634e,U+6382,U+63c9,U+63ea,U+6400,U+645e,U+6482,U+6556,U+6593,U+6615,U+664f,U+66e6,U+672d,U+675e,U+67da,U+6805,U+6808,U+6868,U+68a2,U+695e,U+69ad,U+6a80,U+6a90,U+6b83,U+6be1,U+6c30,U+6cad,U+6cb1,U+6cf1,U+6d31,U+6d93,U+6dae,U+6dbf,U+6dc6-6dc7,U+6e0d,U+6e32,U+6e3a,U+6e85,U+6eba,U+6f3e,U+6f5e,U+6f7c,U+6fee,U+71ee,U+722a,U+72b7,U+72e9,U+73ba,U+73d1,U+7409,U+7435-7436,U+7459-745a,U+747e,U+7487,U+74e2,U+7504,U+752c-752d,U+7599,U+759f,U+75a1,U+75ca,U+75f0,U+761f,U+7629,U+777f,U+7785,U+77a5,U+77bf,U+78d5,U+7934,U+7940,U+79a7,U+7b19,U+7c38,U+7c95,U+7cb1,U+7ce0,U+7eca,U+7ef7,U+7f2b,U+7f81,U+7fcc,U+8046,U+8148,U+8165,U+819b,U+81ba,U+828b,U+82ae,U+82b7,U+82d3,U+8301,U+830e,U+831c,U+8338,U+837c,U+8393,U+8398,U+83ba,U+83e0,U+83e9,U+853c,U+8654,U+86df,U+8712,U+873f,U+874e,U+8783,U+8859,U+88a4,U+8925,U+8bb7,U+8bff,U+8c19,U+8c1b,U+8c24,U+8c2c,U+8d61,U+8db4,U+8e6c,U+8f8a,U+8fe5,U+8ff8,U+901e,U+90f4,U+912f,U+9163,U+9170,U+91dc,U+949b,U+94a8,U+94b3,U+94c0,U+94e8,U+9525,U+9530,U+9539,U+954c-954d,U+9550,U+955b,U+962a,U+9685,U+96cc,U+9776,U+988d,U+9975,U+9985,U+9a6f,U+9aa5,U+9ab8,U+9c7f,U+9ca4,U+9cb8,U+9e25,U+9e35,U+9e4a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-aa5c9ca6cf4fba00433b7aa3fa10671a.woff2",descriptors:{unicodeRange:"U+4ea2,U+4ea5,U+4f36,U+4f84,U+4f8d,U+501a,U+5029,U+516e,U+51a5,U+51c4,U+51f8,U+5201,U+527f,U+5321,U+5352,U+5366,U+53e9,U+54c7,U+5632,U+5676,U+56b7,U+56bc,U+56da,U+56e4,U+5703,U+5729,U+5742,U+57a2-57a3,U+5815,U+58d1,U+5919,U+592d,U+5955,U+5a05,U+5a25,U+5a34,U+5b70,U+5b75,U+5bdd,U+5bf0,U+5c41,U+5c79,U+5c91,U+5c94,U+5ce6,U+5ced,U+5d69,U+5dc5,U+5e16,U+5e27,U+5f27,U+5f95,U+5ffb,U+6020,U+604d,U+6055,U+60e6,U+60eb,U+6123,U+618b,U+61a8,U+620d,U+62c7,U+62ce,U+62d9,U+631f,U+634d,U+6452,U+6479,U+64ce,U+64d2,U+655b,U+660a,U+6726,U+67c4,U+6809,U+6853,U+68e3,U+68f1,U+68fa,U+693f,U+6942,U+6995,U+69a8,U+69b4,U+6a71,U+6b89,U+6bcb,U+6bd3,U+6bd9,U+6c40,U+6cf8,U+6cfe,U+6d85,U+6da3,U+6daa,U+6e0e,U+6e43-6e44,U+6f88,U+7078,U+7099,U+70bd,U+70d9,U+70fd,U+7109,U+7184,U+7239,U+733f,U+73f2,U+748b,U+749c,U+749e,U+759a,U+75d2,U+75eb,U+7620,U+766b,U+7693,U+76cf,U+7738,U+773a,U+776b,U+778e,U+77aa,U+7852,U+78be,U+7948,U+795b,U+7960,U+796f,U+79ba,U+7a20,U+7a96,U+7aa5,U+7b03,U+7b28,U+7b50,U+7b77,U+7bc6,U+7bf1,U+7c27,U+7d0a,U+7ead,U+7ec5,U+7ee2,U+7ef0,U+7efd,U+7f0e,U+7f2e,U+7f79,U+7f9a,U+8098,U+80da,U+80e7,U+80f0,U+80f3,U+80fa,U+818a,U+81e7,U+8237-8238,U+8299,U+82b8,U+82ce,U+837b,U+83bd,U+83cf,U+8426,U+8475,U+85c9,U+85d5,U+85dc,U+85e9,U+871a,U+8747,U+8749,U+888d,U+8910,U+891a,U+8bb4,U+8be3,U+8bec,U+8bf2,U+8c06,U+8c0d,U+8d31,U+8d48,U+8de4,U+8e1e,U+8e4a,U+8e66,U+8f84,U+8f97,U+9083,U+90e1,U+9165,U+91c9,U+94b0,U+94f5,U+9504,U+9532,U+956d,U+95f5,U+95fa,U+9668,U+9698,U+96bd,U+9704,U+9773,U+9890,U+996a,U+997a,U+9a74,U+9a8b,U+9cc4,U+9ccc"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4f50e5136e136527280bc902c5817561.woff2",descriptors:{unicodeRange:"U+4ea8,U+4f1e,U+4f51,U+4f63,U+4f7c,U+4f83,U+4fa0,U+4fd1,U+4ffa,U+5018,U+5026,U+508d,U+50bb,U+50f5,U+50fb,U+5162,U+5319,U+5320,U+538c,U+5413,U+541f,U+5475,U+54bd,U+54d1,U+5589,U+5598,U+575f,U+57ae,U+57e0,U+5937,U+5974,U+5978,U+59ae,U+5a1f,U+5a49,U+5ab3,U+5b99,U+5b9b,U+5ba0,U+5be1,U+5be5,U+5c09,U+5c27,U+5de2,U+5e9a,U+5f26,U+5f8a,U+5f98,U+6021,U+606d,U+60bc,U+60d5,U+60e7,U+611a,U+614c,U+6254,U+626f,U+6292,U+6296,U+62b9,U+62e2,U+631a,U+631d,U+6320,U+6346,U+63ba,U+6467,U+64bc,U+658b,U+663c,U+6643,U+6652,U+6656,U+6687,U+66d9,U+66dd,U+66f0,U+673d,U+67ab,U+6816-6817,U+68a7,U+68ad,U+68cd,U+68e0,U+6986,U+69fd,U+6b47,U+6bd7,U+6c1f,U+6c2e-6c2f,U+6cbe,U+6de4,U+6e1d,U+6e83,U+6e9c,U+6ed4-6ed5,U+6f4d,U+70f9,U+7130,U+716e,U+718f,U+71ac,U+71e5,U+72fc,U+731c,U+7334,U+73ca,U+7422,U+7426,U+745f,U+7470,U+75af,U+75f4,U+762b,U+763e,U+7696,U+7737,U+7741,U+77a7,U+77bb,U+77ee,U+785d,U+788c,U+78ca,U+7901,U+796d,U+7985,U+79fd,U+7a3c,U+7a57,U+7a74,U+7b5b,U+7caa,U+7cb9,U+7cd5,U+7eac,U+7eb6,U+7ed1,U+7ee5,U+7f20,U+7f2a,U+7f38,U+7f69,U+7fa1,U+8018,U+8038,U+803f,U+804b,U+80a2,U+80be,U+80d6,U+817a,U+81fb,U+820c,U+82ad,U+82af,U+82bd,U+8327,U+8354,U+835f,U+8367,U+836b,U+840c,U+841d,U+8471,U+849c,U+84b2,U+84c9,U+8517,U+851a,U+8549,U+8681,U+8721,U+8776,U+88d9,U+88f9,U+89c5,U+8c1c,U+8c34,U+8d81,U+8d9f,U+8e0a,U+8e72,U+8eb2,U+8fed,U+901b,U+902e,U+906e,U+9091,U+90aa,U+90af,U+915d,U+9171,U+946b,U+9489,U+9499,U+94a5,U+9508,U+9524,U+952d,U+9551,U+9576,U+95f7,U+9600,U+96b6,U+96c0,U+9756,U+97f6,U+98a0,U+98a4,U+997f,U+9a73,U+9a86,U+9ad3,U+9e3d,U+9ed4"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-093b9ef39a46ceae95a1df18a0a3a326.woff2",descriptors:{unicodeRange:"U+4e4d,U+4e5e,U+4ec7,U+4ed5,U+50da,U+50e7,U+515c,U+51a4,U+51ff,U+5203,U+5254,U+5300,U+533e,U+5375,U+53ee,U+5435,U+543b,U+5455,U+548b,U+548f,U+54d7,U+54fa,U+5578,U+5587,U+55a7,U+560e,U+5760,U+576f,U+5777,U+5830,U+58a9,U+5962,U+59e8,U+5a07,U+5a23,U+5a3c,U+5b5a,U+5bb5,U+5bc5,U+5bde,U+5c7f,U+5cb1,U+5ce8,U+5cea,U+5d29,U+5d4c,U+5e18,U+5f57,U+5f5d,U+5f87,U+5ff1,U+6016,U+601c,U+6064,U+6177,U+61d2,U+625b,U+62e3,U+62f1,U+634f,U+63a0,U+6401,U+6405,U+6495,U+64c2,U+6512,U+6577,U+6590,U+65a7,U+65a9,U+65f7,U+6627,U+6655,U+6714,U+6795,U+67d1,U+67ff,U+68b3,U+68d5,U+68d8,U+6930,U+6960,U+6977,U+69bb,U+69d0,U+6a31,U+6b7c,U+6bb4,U+6c22,U+6c72,U+6c79,U+6c7e,U+6c81,U+6c93,U+6ca5,U+6cbc,U+6ce3,U+6cfb,U+6d3c,U+6da9,U+6df3,U+6e2d,U+6eaf,U+6ec7,U+6f13,U+6f33,U+6f62,U+6fa1,U+7011,U+707c,U+708a,U+70c1,U+70d8,U+70eb,U+711a,U+7194,U+7281,U+7316,U+7357,U+7384,U+7405,U+742a,U+745b,U+7574,U+7578,U+75ea,U+7682,U+7792,U+77d7,U+77e9,U+77eb,U+77f6,U+780c,U+78c5,U+7941,U+79e4,U+7a1a,U+7a9c,U+7ad6,U+7b5d,U+7bf7,U+7c07,U+7c3f,U+7c9f,U+7ca5,U+7cdf,U+7e82,U+7eab,U+7ece,U+7eda,U+7f09,U+7f15,U+7f9e,U+7fdf,U+7fe9,U+803b,U+803d,U+80aa,U+80b4,U+813e,U+8155,U+817b,U+819d,U+821c,U+82b9,U+82df,U+82ef,U+8304,U+83b9,U+8446,U+853d,U+85af,U+85fb,U+8650,U+865e,U+86d9,U+86ee,U+8700,U+8862,U+889c,U+88d4,U+88f8,U+895f,U+8a79,U+8bb3,U+8bb6,U+8bc0,U+8beb,U+8bf5,U+8c23,U+8c79,U+8d1e,U+8dcb,U+8e29,U+8e44,U+8e81,U+8eac,U+8eaf,U+8f8d,U+9050,U+90f8,U+914b,U+948a,U+94be,U+94ee,U+950c,U+9540,U+962e,U+9647,U+9661,U+9699,U+96cf,U+9716,U+9761,U+97a0,U+97e7,U+9a7c,U+9a8f,U+9ae6,U+9cd6,U+9e26"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a0ca5df4258213d7fc9fce80f65ce760.woff2",descriptors:{unicodeRange:"U+4fa3,U+4fae,U+4fd8,U+4fef,U+50a3,U+5189,U+5195,U+51db,U+51f3,U+51f9,U+5220,U+5228,U+5288,U+52ff,U+532e,U+533f,U+5351,U+53db,U+53ed,U+5450,U+5484,U+5490,U+54c9,U+54e9,U+5501,U+5507,U+5543,U+55d3,U+56a3,U+575e,U+589f,U+5984,U+59ec,U+5a04,U+5a36,U+5a77,U+5a9a-5a9b,U+5ab2,U+5ac2,U+5ad6,U+5bc7,U+5c2c,U+5c34,U+5c51,U+5cd9,U+5d0e,U+5deb,U+5e3c,U+5e87,U+5ed3,U+5f13,U+5f64,U+5fe1,U+606a,U+6096,U+60df,U+60f6,U+60f9,U+6151,U+620e,U+6241,U+6252,U+6273,U+627c,U+6289,U+62c2,U+62cc,U+62ef,U+6361,U+6363,U+63b7,U+63e3,U+6518,U+66ae,U+6756,U+6789,U+6813,U+6829,U+6862,U+6866,U+6893,U+6897,U+690e,U+6984,U+69cc,U+6a1f,U+6a44,U+6a59,U+6ba1,U+6c13,U+6c90,U+6ca6,U+6cbd,U+6ccc,U+6cd3,U+6cd7,U+6d4a,U+6d4f,U+6d5a,U+6d9f,U+6da1,U+6dcc,U+6ea5,U+6ee4,U+6ee6,U+6f2f,U+6f8e,U+701a,U+7095,U+709c,U+70af,U+70db,U+70e8,U+714e,U+715e,U+71a0,U+71ce,U+7235,U+7280,U+72d0,U+72f8,U+73ab,U+7410,U+745c,U+7480,U+74a7-74a8,U+74e3,U+75ae,U+75f9,U+76b1,U+76ce,U+7736,U+77e2-77e3,U+781a,U+789f,U+797a,U+79be,U+79c3,U+79c6,U+79f8,U+7a8d,U+7a98,U+7aa6,U+7aff,U+7b1b,U+7cd9,U+7d6e,U+7ede,U+7eee,U+7f00,U+7f24,U+7f2d,U+7fd8,U+800d,U+8116,U+8151,U+81b3,U+8205,U+82c7,U+82db,U+832c,U+8335,U+8339,U+8386,U+846b,U+8587,U+8611,U+8682,U+868a,U+868c,U+8774,U+88d8,U+88f4,U+8912,U+8b6c,U+8bbd,U+8c0e,U+8c41,U+8d26,U+8d3b-8d3c,U+8d50,U+8dea,U+8e35,U+8f99,U+8fe2,U+8fe9,U+9017,U+914c,U+916f,U+9175-9176,U+918b,U+94a0,U+94ae,U+94ce,U+94f2,U+951a,U+952f,U+9541,U+9640,U+9672,U+968b,U+96cd,U+96ef,U+9713,U+97ec,U+9885,U+9992,U+9a6d,U+9a79,U+9a85,U+9cbb,U+9cd7,U+9cde,U+9e93,U+9f9f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-d2666cbed13462c5dc36fa2f15c202ca.woff2",descriptors:{unicodeRange:"U+4e11,U+4ed7,U+4fcf,U+4fe9,U+4fed,U+50ac,U+50b2,U+5112,U+5180,U+5188,U+51f6,U+522e,U+5265,U+52cb,U+52df,U+5349,U+5367,U+5378,U+537f,U+5395,U+5398,U+53d4,U+543e,U+5440,U+5446,U+54b8,U+5565-5566,U+5580,U+55bb,U+56ca,U+572d,U+573e,U+574e,U+5782-5784,U+58f3,U+5938-5939,U+5948,U+594e,U+5a1c,U+5a74,U+5ae9,U+5b55,U+5b5c,U+5bb0,U+5bd3,U+5bf8,U+5c3f,U+5d14,U+5d2d,U+5df7,U+5dfe,U+5e05-5e06,U+5e1c,U+5e62,U+5e7b,U+5e7d,U+5ed6,U+5f2f,U+5f66,U+5f6c,U+5fa1,U+604b,U+609f,U+60a6,U+60e8,U+6101,U+6124,U+6127,U+6148,U+61be,U+6247,U+62d8,U+62da,U+633d,U+635e,U+6367,U+6380,U+638f,U+63a9,U+63fd,U+641c,U+64e6,U+655e,U+6572,U+6591,U+65a5,U+6691,U+6735,U+67a2-67a3,U+67ef,U+680b,U+6876,U+6905,U+6a0a,U+6a61,U+6b79,U+6bb7,U+6bbf,U+6c41,U+6c55,U+6c83,U+6c9b,U+6ca7,U+6cfc,U+6d46,U+6d51,U+6d74,U+6d9d,U+6daf,U+6dc0,U+6deb,U+6e17,U+6e24,U+6e89,U+6ea2,U+6ef4,U+6f6d,U+707f,U+70b3,U+70e4,U+70ef,U+710a,U+722c,U+725f,U+7261,U+72ee,U+72f1,U+730e,U+732b,U+7433,U+7538,U+75bc,U+7624,U+7709,U+7750,U+7779,U+7802,U+7898,U+78a7,U+78b1,U+78cb,U+78f7,U+7984,U+7a83,U+7aed,U+7b3c,U+7b4b,U+7c92,U+7c98,U+7ca4,U+7eb9,U+7ee3,U+7ef3,U+7ef5,U+7f05,U+7f55,U+7f62,U+7fc1,U+7fd4,U+7fe0,U+8042,U+806a,U+80a0,U+80a4,U+80c3,U+8102,U+8106,U+814a,U+8154,U+8247,U+8258,U+82cd,U+8328,U+832b,U+8389,U+83ca,U+845b,U+846c,U+84b8,U+8574,U+859b,U+8680,U+8695,U+86c7,U+8702,U+886c,U+8896,U+88b1,U+88e4,U+8bc8,U+8c10,U+8c26,U+8c28,U+8c2d,U+8d4c,U+8d63,U+8f67,U+8f74,U+8fc4,U+9006,U+9063,U+90a2,U+90b1,U+90c1,U+9177,U+9189,U+9493,U+949e,U+94fe,U+9610,U+961c,U+96a7,U+96fe,U+978d,U+97f5,U+9888,U+997c,U+9a84,U+9b3c,U+9b44-9b45,U+9b54,U+9e64,U+9f0e,U+9f9a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-1e6fd68f1f3902ce48ce8c69df385622.woff2",descriptors:{unicodeRange:"U+4e19,U+4e38,U+4e53,U+4e7e,U+4e9f,U+4ec6,U+4f50,U+4fde,U+502a,U+5154,U+517d,U+51d1,U+51f0,U+5239,U+5256,U+52c9,U+52fe,U+5308,U+532a,U+535c,U+5384,U+53a2,U+53a8,U+53c9,U+53e0,U+5496,U+54ac,U+54c0,U+54c4,U+54e8,U+5561,U+5582,U+561b,U+5631,U+566a,U+5764,U+576a,U+5792,U+57ab,U+584c,U+5885,U+58f6,U+59a8,U+5acc,U+5bc2,U+5c38-5c39,U+5c60,U+5c6f,U+5c82,U+5c90,U+5d16,U+5dcd,U+5e37,U+5e90,U+5eb8,U+5f6a,U+5fcc,U+6012,U+6068,U+6073,U+607c,U+6094,U+6109,U+621a,U+626e,U+6284,U+62d0,U+62e6,U+62fe,U+6321,U+6328,U+632b,U+6349,U+6454,U+65ed,U+660f,U+6674,U+66a8,U+6749,U+674f,U+6760,U+67af,U+6850,U+6854,U+6869,U+68a8,U+68d2,U+68f5,U+6912,U+6b49,U+6b6a,U+6bef,U+6c28,U+6c5d,U+6c82,U+6cab,U+6cb8,U+6cc4,U+6cf5,U+6d47,U+6d78,U+6da4,U+6dc4,U+6dcb,U+6df9,U+6e0a,U+6e23,U+6e5b,U+6eb6,U+6f06,U+6f47,U+6f84,U+6f9c,U+6fd2,U+7076,U+70ac,U+7199,U+723d,U+72ac,U+72ed,U+7476,U+7529,U+752b,U+754f,U+7554,U+75d5,U+7626,U+76ef,U+7720,U+7766,U+7784,U+77ac,U+780d,U+7838,U+7845,U+786b,U+78b3,U+7978,U+79b9,U+79c9,U+79e7,U+7a3d,U+7a84,U+7a9f,U+7b0b,U+7b52,U+7c7d,U+7f1a,U+7fc5,U+7ff0,U+804a,U+8086-8087,U+808c,U+809a,U+80ba,U+810a,U+8180,U+818f,U+81c2,U+81ed,U+8231,U+8292,U+829c,U+82a6,U+82d1,U+8346,U+838e,U+839e,U+83c7,U+83f1,U+8403,U+840e,U+8513,U+857e,U+85e4,U+867e,U+871c,U+87ba,U+87f9,U+884d,U+8944,U+8a93,U+8c05,U+8d2c,U+8d2e,U+8d42-8d43,U+8dfb,U+8e22,U+8eba,U+8f69,U+8f9c,U+8fa3,U+8fa8,U+8fb1,U+900a,U+9038,U+903b,U+9042,U+904f,U+90b5,U+90dd,U+9102,U+9187,U+94a7,U+94c5,U+9523,U+95f8,U+95fd,U+960e,U+964b-964c,U+96c1,U+9709,U+971c,U+97ad,U+9882,U+9965,U+9976,U+9988,U+99a8,U+9a82,U+9a9a,U+9b41,U+9c8d,U+9e45,U+9e70,U+9e9f,U+9f3b,U+9f7f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-87599f94b6cc129d505b375798d0d751.woff2",descriptors:{unicodeRange:"U+4e08,U+4e18,U+4e1b,U+4e22,U+4e27,U+4e32,U+4e52,U+4e73,U+4ead,U+4ed4,U+4ed9,U+4ef0,U+4fa6,U+5076,U+5179,U+51bb,U+51c9,U+51ef,U+51fd,U+524a,U+526a,U+529d,U+52ab,U+5306,U+5339,U+53d9,U+540a,U+5410,U+541e,U+5439,U+54b1,U+54ed,U+5564,U+558a,U+55b7,U+5634,U+574a,U+5751,U+57a6,U+57cb,U+57d4,U+5824,U+582a,U+5835,U+5858,U+5893,U+58e4,U+5951,U+5986,U+59da,U+59fb,U+59ff,U+5a03,U+5a46,U+5ac1,U+5b5d,U+5bfa,U+5c18,U+5c3a,U+5c48,U+5c4f,U+5c61,U+5cb3,U+5d1b,U+5e15,U+5e3d,U+5e99,U+5e9e,U+5eca,U+5f0a,U+5f17-5f18,U+5f25,U+5f7c,U+5fcd,U+6028,U+60a0,U+60ac,U+60d1,U+614e,U+6155,U+6168,U+61c8,U+6208,U+6212,U+6251,U+629a-629b,U+62ab-62ac,U+62fc,U+6323,U+632a,U+63d2,U+643a,U+6491-6492,U+649e,U+64b0,U+64c5,U+659c,U+6614,U+662d,U+6664,U+6670,U+6676,U+6746,U+67cf,U+67d4,U+682a,U+6843,U+6846,U+68da,U+6b3a,U+6b67,U+6c27,U+6c5b,U+6c64,U+6c70,U+6caa,U+6cca,U+6ce1,U+6d12,U+6d45,U+6dd1,U+6dd8,U+6e34,U+6e7f,U+6ee5,U+6f02,U+7092,U+70c2,U+70e6,U+7115,U+7237,U+7272,U+727a,U+72c2,U+739b,U+73b2,U+743c,U+751c,U+758f,U+75b2,U+7686,U+76c6,U+76d2,U+76fc,U+775b,U+77a9,U+7816,U+788e,U+7897,U+78b0,U+79bd,U+7a0d,U+7a91,U+7a9d,U+7ae3,U+7bad,U+7cca,U+7d2b,U+7eb1,U+7f06,U+7f14,U+7f1d,U+7f50,U+7ffc,U+8036,U+80bf,U+80c1,U+80ce,U+80f8,U+8109,U+810f,U+8170,U+8179,U+819c,U+821f,U+8230,U+8236,U+8273,U+829d,U+82f9,U+8305,U+8350,U+83b2,U+83cc,U+8404,U+840d,U+8427,U+8482,U+8679,U+8854,U+886b,U+8bbc,U+8be6,U+8c31,U+8c6b,U+8d4b,U+8dcc,U+8e2a,U+8e48,U+8f90,U+8fb0,U+9022,U+903c,U+903e,U+9065,U+916c,U+917f,U+94a9,U+94c3,U+94dd,U+94ed,U+9510,U+953b,U+96c7,U+970d,U+9738,U+9877,U+987d,U+989c,U+98d8,U+9a70,U+9a91,U+9aa4,U+9b42,U+9b4f,U+9e2d,U+9e3f,U+9e7f,U+9f20"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-06c77b8c66e51ed6c63ccb502dd8b8af.woff2",descriptors:{unicodeRange:"U+4e59,U+4ed3,U+4f0f,U+4f38,U+4f69,U+4fa7,U+4faf,U+4ff1,U+5077,U+5085,U+5144,U+5151,U+51af,U+51b6,U+51cc,U+523a,U+5251,U+5269,U+5272,U+52d8,U+5353,U+5389,U+53f9,U+5401,U+5415,U+541b,U+54f2,U+5524,U+554a,U+559d,U+5609,U+5740,U+575d,U+5806,U+5821,U+586b,U+5915,U+594f,U+5960,U+5999,U+59a5,U+59b9,U+59c6,U+59d1,U+59dc,U+5b5f,U+5b64,U+5b87,U+5bb4,U+5bbf,U+5c16,U+5c1d,U+5c3e,U+5c9a,U+5ca9,U+5cad,U+5cfb,U+5de1,U+5de7,U+5de9,U+5ef7,U+5f04,U+5f70,U+5f79,U+5fc6,U+602a,U+6050,U+6052,U+6070,U+6084,U+60b2,U+60dc,U+60e9,U+6167,U+6170,U+61c2,U+6270,U+6291,U+62b1,U+62bc,U+62dc,U+62df,U+62f3,U+6324,U+633a,U+6377,U+6398,U+63cf,U+640f,U+642c-642d,U+6458,U+6478,U+6500,U+654c,U+6566,U+658c,U+65c1,U+65cb,U+65e8,U+65ec,U+6696-6697,U+6734,U+679a,U+679d,U+67dc,U+67f3-67f4,U+680f,U+683d,U+684c,U+68af,U+699c,U+6bc1,U+6c0f,U+6c1b,U+6c57,U+6c6a,U+6d3d,U+6d6e,U+6d82,U+6db5,U+6dee,U+6e58,U+6eaa,U+6ecb,U+6ede,U+6ee9,U+6f0f,U+6f20,U+6f58,U+704c,U+7070,U+70b8,U+718a,U+7238,U+7262,U+7275,U+72b9,U+72d7,U+72e0,U+741b,U+7434,U+7483,U+74f6-74f7,U+75ab,U+764c,U+7761,U+7855,U+7891,U+78c1,U+79d2,U+7a00,U+7a3b,U+7c97,U+7ea4,U+7eb2,U+7ed2,U+7eea,U+7ef8,U+7f18,U+7fbd,U+8000,U+8010,U+8096,U+809d,U+80a9,U+817f,U+81e3,U+8206,U+8212,U+82ac,U+8302,U+8361,U+8377,U+83f2,U+8461,U+848b,U+84ec,U+8521,U+85aa,U+8870,U+8877,U+8881,U+888b,U+88ad,U+88c2,U+8986,U+8bd1,U+8bf1,U+8d24,U+8d2a,U+8d3e-8d3f,U+8d41,U+8d56,U+8d64,U+8d6b,U+8e0f,U+8f70,U+8f85,U+8f88,U+8fa9,U+9003,U+901d,U+90b9,U+90ce,U+94a6,U+94f8,U+9505,U+95ea,U+95ef,U+95f2,U+95f9,U+9601,U+9605,U+9634,U+966a,U+9677,U+9690,U+9694,U+96d5,U+971e,U+9896-9897,U+9972,U+9a71,U+9a76,U+9a7e,U+9e1f,U+9e23"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-13ae07ed2e272d26d59bc0691cd7117a.woff2",descriptors:{unicodeRange:"U+4e01,U+4e43,U+4ea6,U+4ef2,U+4eff,U+4f26,U+4f2a,U+4f2f,U+4f5b,U+4fa8,U+4fca,U+4fd7,U+5021,U+504f,U+5141,U+51c0,U+51dd,U+51e4,U+51ed,U+5200,U+5237,U+5427,U+5448,U+54a8,U+5706,U+5708,U+5723,U+575b,U+57c3,U+5899,U+58a8,U+58c1,U+5976,U+5988,U+59bb,U+59d0,U+59d3,U+5a18,U+5a31,U+5a92,U+5b54,U+5b85,U+5baa-5bab,U+5bc4,U+5bd2,U+5be8,U+5bff,U+5c65,U+5d07,U+5e1d,U+5e78,U+5e7c,U+5f03,U+5f1f,U+5f39,U+5f6d,U+5f92,U+5faa,U+5fbd,U+5fe7,U+5ffd,U+60a8,U+60ef,U+6108,U+6162,U+622a,U+6234,U+626b,U+626d,U+62c6,U+62d2,U+62d4,U+62d6,U+62e8,U+6316,U+6355,U+63ed,U+6447,U+64a4,U+65f1,U+6606,U+6628,U+664b,U+6668,U+6682,U+66f9,U+66fc,U+66ff,U+6717,U+6740,U+676d,U+67aa,U+67ec,U+67f1,U+6842,U+6851,U+695a,U+6982,U+6a2a,U+6b20,U+6b23,U+6b32,U+6b96,U+6bc5,U+6beb,U+6c60,U+6c9f,U+6cea,U+6cf3,U+6d1e,U+6d53,U+6d66,U+6d69,U+6d8c,U+6d9b,U+6db2,U+6de1,U+6dfb,U+6e14,U+6ed1,U+6eda,U+6ee8,U+6f2b,U+706d,U+7089,U+708e,U+70ad-70ae,U+70e7,U+7126,U+714c,U+71c3,U+71d5,U+7206,U+7259,U+731b,U+73a9,U+73bb,U+74dc,U+7532,U+7545,U+755c,U+75c7,U+7687,U+76d7,U+76f2,U+788d,U+78e8,U+79e6,U+79e9,U+7a3f,U+7a46,U+7a97,U+7af9,U+7bee,U+7c4d,U+7c89,U+7cd6,U+7eb5,U+7ebd,U+7ed8,U+8017,U+8033,U+80c0,U+80de,U+80f6,U+8138,U+817e,U+81a8,U+820d,U+827e,U+82b3,U+82d7,U+83b1,U+84c4,U+84dd,U+8584,U+864e,U+865a,U+866b,U+86cb,U+88d5,U+89e6,U+8bca,U+8bde,U+8bfa,U+8c0a,U+8c37,U+8c46,U+8c6a,U+8c8c,U+8d1d,U+8d29,U+8d4f,U+8d54,U+8d5a,U+8d60,U+8d62,U+8f7f,U+8f96,U+8f9e-8f9f,U+8fc1,U+8fdf,U+8fea,U+8ff7,U+9012,U+906d,U+9075,U+90a6,U+90bb,U+90ca,U+9178,U+9192,U+91ca,U+94bb,U+94dc,U+94fa,U+9501,U+950b,U+9521,U+955c,U+963b,U+9655,U+9675-9676,U+9887,U+9891,U+9971,U+9a97,U+9ece,U+9ed8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-353f33792a8f60dc69323ddf635a269e.woff2",descriptors:{unicodeRange:"U+4e1d,U+4e39,U+4e4c,U+4e4f,U+4e54,U+4e58,U+4e95,U+4ea1,U+4eab,U+4eae,U+4ec1,U+4f10,U+4f19,U+4f30,U+4f34,U+4fb5,U+503e,U+518c,U+5192,U+51a0,U+51ac,U+51b0,U+51e1,U+5211,U+5242,U+52a3,U+52b2,U+52c3,U+52c7,U+52d2,U+52e4,U+5377,U+539a,U+53a6,U+53e5,U+5417,U+5510,U+552f,U+5531,U+574f-5750,U+5761,U+5851,U+5854,U+58ee,U+593a,U+5949,U+5954,U+5a5a,U+5b8b,U+5bbd,U+5c04,U+5c0a,U+5c4b,U+5ce1,U+5cf0,U+5e10,U+5e8a,U+5e9f,U+5ec9,U+5f31,U+5f84,U+5fd8-5fd9,U+5fe0,U+6015,U+6062,U+6069,U+6076,U+6089,U+60a3,U+60ca,U+620f,U+624e,U+6263,U+6298,U+62a2,U+62bd,U+6311,U+6350,U+6389,U+638c,U+63f4,U+6446,U+644a,U+6469,U+64cd,U+654f,U+6562,U+656c,U+65d7,U+65e6,U+65fa,U+660c,U+6653,U+66b4,U+670b,U+672b,U+676f-6770,U+6881,U+6885,U+68a6,U+68cb,U+68ee,U+6b8a,U+6c88-6c89,U+6cc9,U+6ce5,U+6d01,U+6d17,U+6d1b,U+6d59,U+6d6a,U+6da8,U+6df7,U+6e10,U+6e20-6e21,U+6f5c,U+706f,U+70bc,U+719f,U+7267,U+732a,U+73cd,U+7518,U+756a,U+7586,U+7591,U+75db,U+76c8,U+76d0,U+76d6,U+76d8,U+76df,U+76fe,U+77db,U+7801,U+786c,U+795d,U+7965,U+79cb,U+7a77,U+7a7f,U+7aef,U+7b11,U+7bb1,U+7bc7,U+7ea0,U+7eaf,U+7ed5,U+7edc,U+7f13,U+7f29,U+7f34,U+7f8a,U+7ffb,U+8015,U+8058,U+805a,U+8083,U+80af,U+80c6,U+80cc,U+811a,U+8150,U+82e5,U+8336,U+8352,U+83ab,U+8428,U+8463,U+852c,U+8861,U+89c8,U+8bcd,U+8bd7,U+8bda,U+8be2,U+8bef,U+8bf8,U+8c0b,U+8c13,U+8d34,U+8d3a,U+8d74,U+8d76,U+8da3,U+8dd1,U+8ddd,U+8ddf,U+8df3,U+8f68,U+8f6f,U+8f7d,U+8f91,U+8f9b,U+8fbd,U+8fc8,U+8fd4,U+8feb,U+8ff9,U+900f,U+9057,U+907f-9080,U+90d1,U+90ed,U+91ce,U+9519,U+9526,U+95ed,U+9614,U+9635,U+9644,U+9686,U+96c5,U+96ea,U+9707,U+9732,U+9759,U+978b,U+9876,U+9881,U+9910,U+996e,U+9970,U+9c81,U+9e21,U+9ebb,U+9f84"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-0facdf1ea213ba40261022f5d5ed4493.woff2",descriptors:{unicodeRange:"U+4e3d,U+4e4e,U+4e71,U+4e8f,U+4ed8,U+4eea,U+4f0a,U+4f0d,U+4f11,U+4f1f,U+4f24,U+4f3c,U+4f73,U+4fc4,U+500d,U+5012,U+501f,U+503a,U+505c,U+507f,U+50a8,U+514d,U+5178,U+517c,U+51b2,U+51b7,U+520a,U+5238,U+523b,U+52b1,U+535a,U+5371,U+5385,U+53eb-53ec,U+53f3,U+53f6,U+5409,U+542b,U+542f,U+5434,U+5462,U+5473,U+547c,U+54c8,U+54ea,U+56fa,U+5733,U+5757,U+5766,U+5802,U+585e,U+590f,U+591c,U+591f,U+5947,U+594b,U+5987,U+5a01,U+5b59,U+5b63,U+5b88,U+5b97,U+5b9c,U+5bbe,U+5bfb,U+5c01,U+5c1a,U+5c24,U+5c3c,U+5c97,U+5c9b,U+5cb8,U+5de6,U+5e01,U+5e2e,U+5e45,U+5e55,U+5e84,U+5ef6,U+5f02,U+5f52,U+5f69,U+5f7b,U+5f90,U+5fae,U+6000,U+600e,U+6025,U+60e0,U+6276,U+6297,U+62b5,U+62cd,U+62d3,U+62e5,U+62e9,U+62ff,U+6302,U+632f,U+63e1,U+6444,U+64ad,U+653b,U+6551,U+6563,U+65a4,U+65e7,U+6620,U+667a,U+66f2,U+671d,U+6731,U+6742,U+675f,U+6768,U+677e-677f,U+6790,U+67b6,U+67d3,U+6863,U+68b0,U+68c9,U+690d,U+6b8b,U+6bcd,U+6bd2,U+6bd5,U+6c38,U+6c61,U+6cbf,U+6cdb,U+6cf0,U+6d2a,U+6d89,U+6da6,U+6f6e,U+6fb3,U+7075,U+707e,U+70df,U+7164,U+7236,U+725b,U+7389,U+73e0,U+745e,U+74e6,U+751a,U+7537,U+75be,U+76ae,U+76db,U+793c,U+7956,U+7981,U+79d8,U+79df,U+79fb,U+7adf,U+7ae5,U+7b14,U+7b26,U+7b54,U+7b79,U+7d2f,U+7eb8,U+7eba,U+7ec6,U+7ee9,U+7eff,U+7f5a,U+7f6a,U+7f72,U+8089,U+80a5,U+80e1,U+8111,U+8131,U+821e,U+822c,U+8270,U+8499,U+8651,U+867d,U+8840,U+8857,U+8863,U+88c1,U+89c9,U+89d2,U+8a89,U+8bed,U+8bfe,U+8c01,U+8c22,U+8d21,U+8d25,U+8d2f,U+8d5e,U+8d75,U+8d8b,U+8dc3,U+8de8,U+8df5,U+8f6e,U+8f86,U+8f89,U+8fc5,U+8ff0,U+8ffd,U+9014,U+904d,U+90ae,U+9274,U+949f,U+952e,U+969c,U+96c4,U+96e8,U+96f6-96f7,U+97e9,U+987f,U+996d,U+9a7b,U+9aa8,U+9c7c,U+9c9c,U+9e4f,U+9f13,U+9f50"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-f8ee5d36068a42b51d0e4a1116cfcec1.woff2",descriptors:{unicodeRange:"U+4e13,U+4e16,U+4e1c,U+4e24,U+4e3e,U+4e49,U+4e61,U+4e66,U+4e89,U+4e8c,U+4e94,U+4e9b,U+4ea4,U+4eac,U+4ebf,U+4eca,U+4ef6-4ef7,U+4efb,U+4f18,U+4f20,U+4f46,U+4f7f,U+4fe1,U+503c,U+505a,U+5146,U+5148,U+515a,U+5171,U+5177,U+519b,U+51b3,U+51c6,U+51e0,U+5212,U+521b,U+522b,U+529e,U+52bf,U+534e-534f,U+5355,U+5357,U+5382,U+539f,U+53bb,U+53bf,U+53c2,U+53c8,U+53ca,U+53d6-53d8,U+53e3,U+53ea,U+53f0,U+540d,U+5411,U+56db,U+56de,U+56e0,U+56e2,U+578b,U+57ce,U+57fa,U+589e,U+5904,U+5934,U+5982,U+5b89,U+5b8c,U+5bfc,U+5c06,U+5c11,U+5c40,U+5c71,U+5e38,U+5e72,U+5e76,U+5e7f,U+5e94,U+5e9c,U+5f0f,U+5f15,U+5f20,U+5f3a,U+5f62,U+5f88,U+5fc5,U+5fd7,U+5feb,U+601d,U+6027,U+60c5,U+60f3,U+610f,U+6216,U+6218,U+624b,U+624d,U+6279,U+628a,U+6295,U+6301,U+6307,U+636e,U+63a5,U+63a8,U+652f,U+6536,U+653e,U+6548,U+6559,U+6570,U+65bd,U+65e0,U+6602,U+660e,U+6613,U+66f4,U+6700,U+670d,U+671f,U+672f,U+6743,U+674e,U+6751,U+6761,U+6784,U+6797,U+679c,U+67e5,U+6807,U+6837,U+683c,U+6b21,U+6b63-6b65,U+6bcf,U+6bd4,U+6c42,U+6c5f,U+6ca1,U+6cbb,U+6d3b,U+6d41,U+6d88,U+6df1,U+70b9,U+7136,U+7269,U+7279,U+7531,U+754c,U+767e,U+76ca,U+76f8,U+770b,U+7740,U+7814,U+79ef,U+7a0b,U+7a0e,U+7a76,U+7b80,U+7cbe,U+7cfb,U+7e41,U+7ea7,U+7ec4,U+7ec7,U+7ed3,U+7ed9,U+7edf,U+7f8e,U+8001,U+804c,U+8054,U+80b2,U+81f3,U+8425,U+8868,U+88ab,U+897f,U+89c1-89c2,U+89c4,U+89c6,U+89e3,U+8ba1,U+8ba4,U+8bae,U+8bb0,U+8bba,U+8bc1,U+8c03,U+8d28,U+8d39,U+8def,U+8f66,U+8f6c,U+8fd0-8fd1,U+9020,U+9053,U+90a3,U+90fd,U+91cc,U+9500,U+9547,U+95e8,U+95f4,U+961f,U+9645,U+9662,U+96be,U+96c6,U+9700,U+9769,U+97e6,U+9875,U+9879,U+9886,U+9898,U+98ce,U+9996,U+2b5af,U+2cc56,U+2e9f5,U+30edd-30ede"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-79d494361ae093b69e74ee9dbe65bfd4.woff2",descriptors:{unicodeRange:"U+4e03,U+4e30,U+4e34,U+4e45,U+4e60,U+4e70,U+4e88,U+4e91-4e92,U+4ea9,U+4eb2,U+4ec0,U+4ecb,U+4ecd,U+4ee4,U+4fee,U+5019,U+5047,U+50cf,U+5145,U+516d,U+5170,U+5175,U+5199,U+51cf,U+51fb,U+521a,U+5224,U+5267,U+52aa,U+5347-5348,U+534a,U+5356,U+5361,U+536b,U+5370,U+538b,U+53e4,U+53e6,U+5403,U+5426,U+5428,U+542c,U+5438,U+5668,U+56ed,U+56f4,U+56fe,U+57df,U+592a,U+5957,U+5b69,U+5b81,U+5b8f,U+5b98,U+5b9d,U+5ba1,U+5ba4,U+5bb3,U+5bc6,U+5bdf,U+5c3d,U+5c5e,U+5c81,U+5ddd,U+5de8,U+5dee,U+5e0c,U+5e86,U+5e8f,U+5e93,U+5e95,U+5e97,U+5ea7,U+5ead,U+5eb7,U+5f55,U+5f81,U+5f85,U+5ff5,U+6001,U+613f,U+6258,U+6267,U+6269,U+626c,U+627e,U+62db,U+62ec,U+6325,U+635f,U+6362,U+6388,U+6392,U+63a2,U+63a7,U+63aa,U+641e,U+6545,U+6597,U+65e2,U+65e9,U+661f,U+665a,U+666e-666f,U+66fe,U+6728,U+67d0,U+6811,U+6838,U+6865,U+697c,U+6b22,U+6b27,U+6b4c,U+6b62,U+6b66,U+6b7b,U+6bdb,U+6c47,U+6c49,U+6c7d,U+6c99,U+6cfd,U+6d0b,U+6d25,U+6d32,U+6d3e,U+6d4b,U+6e29,U+6e56,U+6e7e,U+6f14,U+6fc0,U+706b,U+70c8,U+7247,U+72af,U+72b6,U+72ec,U+732e,U+73ed,U+7403,U+7533,U+753b,U+7559,U+7565,U+7597,U+767b,U+773c,U+7763,U+77ed,U+77ff,U+7968,U+798f,U+79bb,U+79c0-79c1,U+7ad9,U+7ae0,U+7b51,U+7b7e,U+7cae,U+7d22,U+7ea2,U+7eb3,U+7eb7,U+7ec3,U+7ec8,U+7ecd,U+7edd,U+7efc,U+7f16,U+7f3a,U+7f51,U+7f57,U+7f6e,U+80dc,U+822a,U+8239,U+826f,U+82cf,U+82e6,U+8349,U+8363,U+83dc,U+8457,U+85cf,U+878d,U+8865,U+8a00,U+8b66,U+8ba2,U+8ba8,U+8bad,U+8bb2,U+8bc9,U+8bd5,U+8bfb,U+8d2b,U+8d35,U+8d37,U+8f7b,U+8f93,U+8fce,U+8fdd,U+9000-9002,U+9010,U+9047,U+9093,U+9152,U+9488,U+94a2,U+9633,U+9636,U+963f,U+9646,U+9648,U+964d,U+9664,U+9669,U+9760,U+97f3,U+987a,U+987e,U+9884,U+98de,U+9986,U+9ed1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-74e2263a91439c25b91d5132ce9f4d62.woff2",descriptors:{unicodeRange:"U+4e14,U+4e25,U+4e48,U+4e50,U+4e5d,U+4e9a,U+4ec5,U+4efd,U+4f17,U+4f4e-4f4f,U+4f55,U+4f59,U+4f60,U+4f8b,U+4f9b,U+4f9d,U+4fbf,U+4fc3,U+5065,U+513f,U+5149,U+514b,U+516b,U+5174,U+517b,U+518d,U+51b5,U+5207,U+5217-5219,U+521d,U+526f,U+529f,U+52a9,U+52b3,U+5305,U+533b,U+5343,U+5360,U+5373-5374,U+5386,U+53cb-53cd,U+53f2,U+53f7,U+544a,U+5468,U+547d,U+54cd,U+552e,U+5584,U+56f0,U+571f,U+5747,U+575a,U+57f9,U+5883,U+58eb,U+58f0,U+5907,U+590d,U+592e,U+5931,U+5956,U+5965,U+5973,U+5979,U+59cb,U+5b57-5b58,U+5b83,U+5ba2-5ba3,U+5bb9,U+5bcc,U+5c42,U+5c45,U+5c4a,U+5dde,U+5df1,U+5df4,U+5e03,U+5e08,U+5e26,U+5e2d,U+5f71,U+5f80,U+5f8b,U+5fb7,U+606f,U+611f,U+6237,U+623f,U+6253,U+627f,U+6293,U+62a4,U+62c5,U+62c9,U+6309,U+6574,U+6599,U+65ad,U+65af,U+65c5,U+65cf,U+6625,U+663e,U+671b,U+672a,U+6750,U+6781,U+6821,U+6839,U+6848,U+68c0,U+6a21,U+6b3e,U+6bb5,U+6c14,U+6cb3,U+6cb9,U+6ce8,U+6e05,U+6e2f,U+6e38,U+6e90,U+6ee1,U+70ed,U+7167,U+7231,U+7248,U+724c,U+7387,U+738b,U+73af,U+7530,U+75c5,U+767d,U+76d1,U+76f4,U+771f,U+77e5,U+77f3,U+7834,U+7840,U+786e,U+793a,U+795e,U+79f0,U+7a33,U+7a7a,U+7a81,U+7ade,U+7b56,U+7b97,U+7c73,U+7c7b,U+7d20,U+7d27,U+7ea6,U+7eaa,U+7ebf,U+7ee7,U+7eed,U+7ef4,U+7fa4,U+8003,U+80a1,U+81f4,U+8272,U+827a,U+8282,U+82b1,U+82f1,U+8303,U+836f,U+83b7,U+843d,U+88c5,U+8ba9,U+8baf,U+8bb8,U+8bbf,U+8bc4,U+8bc6,U+8bdd,U+8be5,U+8bf7,U+8c08,U+8c61,U+8d1f,U+8d22-8d23,U+8d27,U+8d2d,U+8d38,U+8d5b,U+8d70,U+8d85,U+8d8a,U+8db3,U+8eab,U+8f83,U+8fb9,U+8fdc,U+8fde,U+9009,U+901f,U+914d,U+91c7,U+94b1,U+94c1,U+94f6,U+95fb,U+9632,U+9650,U+968f,U+9752,U+975e,U+987b,U+989d,U+98df,U+9999,U+9a6c,U+9a8c,U+9ec4,U+9feb-9fec"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-ee8bae97908d5147b423f77ad0d3c1bb.woff2",descriptors:{unicodeRange:"U+98fb-990c,U+990e-990f,U+9911-992d,U+992f-9953,U+9956-9962,U+9964,U+9966,U+9973,U+9978-9979,U+997b,U+997e,U+9982-9983,U+9989,U+998c,U+998e,U+999a-99a4,U+99a6-99a7,U+99a9-99c8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-56467a5c8840c4d23a60b2f935114848.woff2",descriptors:{unicodeRange:"U+8e4c-8e50,U+8e53-8e58,U+8e5a-8e65,U+8e67-8e68,U+8e6a-8e6b,U+8e6e,U+8e71,U+8e73,U+8e75,U+8e77-8e7b,U+8e7d-8e7e,U+8e80,U+8e82-8e84,U+8e86,U+8e88-8e8e,U+8e91-8e93,U+8e95-8e9b,U+8e9d,U+8e9f-8eaa,U+8ead-8eae,U+8eb0-8eb1,U+8eb3-8eb9,U+8ebb-8ecd,U+8ecf-8f02"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-145aa02cdd91946e67dc934e1acffe75.woff2",descriptors:{unicodeRange:"U+2e3a,U+3001-3002,U+3008-3011,U+3014-3017,U+301d-301f,U+4dae,U+4e00,U+4e07,U+4e09-4e0b,U+4e0d-4e0e,U+4e1a,U+4e2a,U+4e2d,U+4e3a-4e3b,U+4e4b,U+4e5f,U+4e86,U+4e8b,U+4e8e,U+4ea7,U+4eba,U+4ece,U+4ed1,U+4ed6,U+4ee3,U+4ee5,U+4eec,U+4f01,U+4f1a,U+4f4d,U+4f53,U+4f5c,U+4fdd,U+5143,U+5165,U+5168,U+516c,U+5173,U+5176,U+5185,U+519c,U+51fa,U+5206,U+5229,U+5230,U+5236,U+524d,U+529b,U+52a0-52a1,U+52a8,U+5316-5317,U+533a,U+5341,U+5362,U+53d1,U+53ef,U+53f8,U+5404,U+5408,U+540c,U+540e,U+5458,U+548c,U+54c1,U+54e5,U+5546,U+559c,U+56fd,U+5728,U+5730,U+573a,U+5916,U+591a,U+5927,U+5929,U+592b,U+597d,U+59d4,U+5b50,U+5b66,U+5b9a,U+5b9e,U+5bb6,U+5bf9,U+5c0f,U+5c14,U+5c31,U+5c55,U+5de5,U+5df2,U+5e02,U+5e73-5e74,U+5ea6,U+5efa,U+5f00,U+5f53,U+5f97,U+5fc3,U+603b,U+6210-6211,U+6240,U+6280,U+62a5,U+63d0,U+6539,U+653f,U+6587,U+65b0,U+65b9,U+65e5,U+65f6,U+662f,U+6708-6709,U+672c,U+673a,U+675c,U+6765,U+6c11,U+6c34,U+6cd5,U+6ce2,U+6d4e,U+6d77,U+73b0,U+7406,U+751f,U+7528,U+7535,U+7684,U+76ee,U+793e,U+79cd,U+79d1,U+7acb,U+7b2c,U+7b49,U+7ba1,U+7ecf,U+8005,U+800c,U+80fd,U+81ea,U+884c,U+8981,U+8bbe,U+8bf4,U+8d44,U+8d77,U+8fbe,U+8fc7,U+8fd8-8fd9,U+8fdb,U+901a,U+90e8,U+91cd,U+91cf,U+91d1,U+9485,U+957f,U+95ee,U+9762,U+9ad8,U+9ea6,U+9f99,U+9fcf,U+9fd4,U+9fed,U+fe10-fe19,U+fe30-fe31,U+fe33-fe44,U+ff01,U+ff0c,U+ff1f,U+2b4e7,U+2b7f7,U+2b7fc,U+2cb2d,U+2cb3b,U+2cb4a,U+2cb5b,U+2cb73"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-54acdfc2166ad7fcbd074f75fd4a56ba.woff2",descriptors:{unicodeRange:"U+6490,U+6493-6494,U+6497-6498,U+649a-649d,U+649f-64a3,U+64a5-64a8,U+64aa-64ab,U+64af,U+64b1-64b4,U+64b6,U+64b9,U+64bb,U+64bd-64bf,U+64c1,U+64c3-64c4,U+64c6-64cc,U+64cf,U+64d1,U+64d3-64d6,U+64d9-64dd,U+64df-64e1,U+64e3,U+64e5,U+64e7-64ff,U+6501-6508,U+650a-6511,U+6513-6517,U+6519-6524,U+6526-652a,U+652c-652d,U+6530-6533,U+6537,U+653a,U+653c-653d,U+6540-6544,U+6546-6547,U+654a-654b,U+654d-654e,U+6550,U+6552-6554,U+6557-6558,U+655a,U+655c,U+655f-6561,U+6564-6565,U+6567-6568"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-29cec36cd205b211da97acabaa62f055.woff2",descriptors:{unicodeRange:"U+9695-9696,U+969a-969b,U+969d-96a6,U+96a8-96af,U+96b1-96b2,U+96b4-96b5,U+96b7-96b8,U+96ba-96bb,U+96bf,U+96c2-96c3,U+96c8,U+96ca-96cb,U+96d0-96d1,U+96d3-96d4,U+96d6-96df,U+96e1-96e7,U+96eb-96ee,U+96f0-96f2,U+96f4-96f5,U+96f8,U+96fa-96fd,U+96ff,U+9702-9703,U+9705,U+970a-970c,U+9710-9712,U+9714-9715,U+9717-971b,U+971d,U+971f-9729,U+972b-972c,U+972e-972f,U+9731,U+9733-9737,U+973a-973d,U+973f-9751,U+9754-9755,U+9757-9758,U+975a,U+975c-975d,U+975f,U+9763-9764,U+9766-9768,U+976a-9770"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3756e81d3e149cf6099163ee79944fec.woff2",descriptors:{unicodeRange:"U+6af0-6b1f,U+6b25-6b26,U+6b28-6b31,U+6b33-6b36,U+6b38,U+6b3b-6b3d,U+6b3f-6b42,U+6b44-6b45,U+6b48,U+6b4a-6b4b,U+6b4d-6b58,U+6b5a-6b61,U+6b68-6b69,U+6b6b-6b78,U+6b7a,U+6b7d-6b80,U+6b85,U+6b88,U+6b8c,U+6b8e-6b91,U+6b94-6b95,U+6b97-6b99,U+6b9c-6ba0,U+6ba2-6ba9,U+6bab-6bb2,U+6bb6,U+6bb8-6bba"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-8e9f97f01034820170065b2921b4fb5e.woff2",descriptors:{unicodeRange:"U+430e-439a,U+29e8a,U+29ec4,U+29edb,U+29ee9,U+29f7e,U+29f83,U+29f8c,U+29fce,U+2a01a,U+2a02f,U+2a082,U+2a0f9,U+2a190,U+2a38c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-13d2887ec8ee73c43acdabc52a05af7b.woff2",descriptors:{unicodeRange:"U+92ef-933d,U+933f-9369,U+936b-9388"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-72536a3d71b694a0d53dd90ddceae41e.woff2",descriptors:{unicodeRange:"U+4512-458d,U+2b300,U+2b363,U+2b36f,U+2b372,U+2b37d,U+2b404,U+2b410,U+2b413,U+2b461,U+2b4ef,U+2b4f6,U+2b4f9,U+2b50d-2b50e,U+2b536,U+2b5ae,U+2b5b3,U+2b5e7,U+2b5f4,U+2b61c-2b61d,U+2b626-2b628,U+2b62a,U+2b62c,U+2b695-2b696,U+2b6ad,U+2b6ed"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-603aefd23e350ba7eb124273e3c9bcf1.woff2",descriptors:{unicodeRange:"U+88bd-88c0,U+88c3-88c4,U+88c7-88c8,U+88ca-88cd,U+88cf-88d1,U+88d3,U+88d6-88d7,U+88da-88de,U+88e0-88e1,U+88e6-88e7,U+88e9-88ef,U+88f2,U+88f5-88f7,U+88fa-88fb,U+88fd,U+88ff-8901,U+8903-8909,U+890b-890f,U+8911,U+8914-8918,U+891c-8920,U+8922-8924,U+8926-8929,U+892c-892f,U+8931-8933,U+8935,U+8937-8940,U+8942-8943,U+8945-895d,U+8960-8965,U+8967-897a,U+897c-897e,U+8980,U+8982,U+8984-8985"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-095c169f3314805276f603a362766abd.woff2",descriptors:{unicodeRange:"U+4b0b-4ba0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-9544732d2e62d1a429674f8ee41b5d3a.woff2",descriptors:{unicodeRange:"U+7179,U+717b-717c,U+717e-7183,U+7185-7189,U+718b-718e,U+7190-7193,U+7195-7197,U+719a-719e,U+71a1-71a7,U+71a9-71ab,U+71ad-71b2,U+71b4,U+71b6-71b8,U+71ba-71c2,U+71c4-71cd,U+71cf-71d3,U+71d6-71df,U+71e1-71e4,U+71e6,U+71e8-71ed,U+71ef-71f8,U+71fa-7205,U+7207-721c,U+721e-7227,U+7229,U+722b,U+722d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-d3716376641d615e2995605b29bca7b6.woff2",descriptors:{unicodeRange:"U+982e-9874,U+988b,U+988e,U+9892,U+9895,U+9899,U+98a3,U+98a8-98cd,U+98cf-98d0,U+98d4,U+98d6-98d7,U+98db-98dd,U+98e0-98e6,U+98e9-98fa"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5a1ce3117cfe90c48e8fb4a9a00f694d.woff2",descriptors:{unicodeRange:"U+7c14-7c15,U+7c17-7c1e,U+7c20-7c25,U+7c28-7c29,U+7c2b-7c37,U+7c39-7c3e,U+7c42-7c4c,U+7c4e-7c72,U+7c75-7c7a,U+7c7e-7c88,U+7c8a-7c90,U+7c93-7c94,U+7c96,U+7c99-7c9b,U+7ca0-7ca1,U+7ca3,U+7ca6-7ca9,U+7cab-7cad,U+7caf-7cb0,U+7cb4-7cb8,U+7cba-7cbb,U+7cbf-7cc0,U+7cc2-7cc4,U+7cc6,U+7cc9,U+7ccb,U+7cce-7cd4"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b7d203b051eff504ff59ddca7576b6a9.woff2",descriptors:{unicodeRange:"U+7d95-7da5,U+7da7-7dad,U+7daf-7e2a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4a38cc3e9cf104e69ba246d37f8cf135.woff2",descriptors:{unicodeRange:"U+4a78-4b0a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-982b630266d87db93d2539affb1275c6.woff2",descriptors:{unicodeRange:"U+9b30-9b31,U+9b33-9b3a,U+9b3d-9b40,U+9b46,U+9b4a-9b4c,U+9b4e,U+9b50,U+9b52-9b53,U+9b55-9bcf"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-9592bfc861f07bcb8d75c196b370e548.woff2",descriptors:{unicodeRange:"U+6a4b-6a4f,U+6a51-6a57,U+6a5a,U+6a5c-6a60,U+6a62-6a64,U+6a66-6a70,U+6a72-6a78,U+6a7a-6a7b,U+6a7d-6a7f,U+6a81-6a83,U+6a85-6a8d,U+6a8f,U+6a92-6a96,U+6a98-6a9f,U+6aa1-6aa8,U+6aaa,U+6aad-6aef"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a7accba310e821da5505f71c03b76bdb.woff2",descriptors:{unicodeRange:"U+99c9-9a53"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-dac48066b5883d8b4551fc584f0c2a3e.woff2",descriptors:{unicodeRange:"U+8550-8555,U+8557-8558,U+855a-855d,U+855f-8563,U+8565-8567,U+8569-8571,U+8573,U+8575-8578,U+857c-857d,U+857f-8583,U+8586,U+8588-858e,U+8590-859a,U+859d-85a3,U+85a5-85a7,U+85a9,U+85ab-85ad,U+85b1-85b6,U+85b8,U+85ba-85c0,U+85c2-85c8,U+85ca-85ce,U+85d1-85d2,U+85d4,U+85d6-85db,U+85dd-85e3,U+85e5-85e8,U+85ea-85fa,U+85fc-85fe,U+8600-8603"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a1f916d6039285c4ffb900cd654e418f.woff2",descriptors:{unicodeRange:"U+6fb2,U+6fb4-6fb5,U+6fb7-6fb8,U+6fba-6fbf,U+6fc1,U+6fc3-6fc8,U+6fca-6fd0,U+6fd3-6fdd,U+6fdf,U+6fe2-6fed,U+6ff0-7010,U+7012-7019,U+701c-7022,U+7024-7034,U+7036-7038,U+703a-704b,U+704d-704e,U+7050-7053"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-95bfd249da4902577b4b7d76ebdd0b44.woff2",descriptors:{unicodeRange:"U+4ba1-4c2c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-93fc8f28a33234bcadf1527cafabd502.woff2",descriptors:{unicodeRange:"U+9a54-9a6b,U+9a72,U+9a83,U+9a89,U+9a8d-9a8e,U+9a94-9a95,U+9a99,U+9aa6,U+9aa9-9aaf,U+9ab2-9ab5,U+9ab9,U+9abb,U+9abd-9abf,U+9ac3-9ac4,U+9ac6-9aca,U+9acd-9ad0,U+9ad2,U+9ad4-9ad7,U+9ad9-9ade,U+9ae0,U+9ae2-9ae5,U+9ae7-9aea,U+9aec,U+9aee,U+9af0-9af8,U+9afa,U+9afc-9b02,U+9b04-9b07,U+9b09-9b0e,U+9b10-9b12,U+9b14-9b1e,U+9b20-9b22,U+9b24-9b2e"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-903bb6865f3452e2fda42e3a25547bc5.woff2",descriptors:{unicodeRange:"U+9d1a-9da1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4aca6a43e59aceee2166b0c7e4e85ef1.woff2",descriptors:{unicodeRange:"U+9e13-9e1e,U+9e24,U+9e27,U+9e2e,U+9e30,U+9e34,U+9e3b-9e3c,U+9e40,U+9e4d,U+9e50,U+9e52-9e54,U+9e56,U+9e59,U+9e5d,U+9e5f-9e62,U+9e65,U+9e6e-9e6f,U+9e72,U+9e74-9e7d,U+9e80-9e81,U+9e83-9e86,U+9e89-9e8a,U+9e8c-9e91,U+9e94-9e9c,U+9e9e,U+9ea0-9ea5,U+9ea7-9eb3,U+9eb5-9eb7,U+9eb9-9eba,U+9ebc,U+9ebf-9ec3,U+9ec5-9ec8,U+9eca-9ecc,U+9ed0,U+9ed2-9ed3,U+9ed5-9ed7,U+9ed9-9eda,U+9ede,U+9ee1,U+9ee3-9ee4,U+9ee6,U+9ee8,U+9eeb-9eee,U+9ef0-9ef8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-24476a126f129212beb33f66853ea151.woff2",descriptors:{unicodeRange:"U+8b1c-8b25,U+8b27-8b65,U+8b67-8b6b,U+8b6d-8b9f,U+8bac,U+8bb1,U+8bbb,U+8bc7,U+8bd0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-1b611157cd46bb184d4fa4dae2d6a2b8.woff2",descriptors:{unicodeRange:"U+4cad-4d2f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-56a32a7689abd0326e57c10c6c069bb4.woff2",descriptors:{unicodeRange:"U+9c4b-9c7b,U+9c7d-9c7e,U+9c80,U+9c83-9c84,U+9c89-9c8a,U+9c8c,U+9c8f,U+9c93,U+9c96-9c99,U+9c9d,U+9caa,U+9cac,U+9caf,U+9cb9,U+9cbe-9cc2,U+9cc8-9cc9,U+9cd1-9cd2,U+9cda-9cdb,U+9ce0-9ce1,U+9ce3-9d19"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3cc70dbb64df5b21f1326cc24dee2195.woff2",descriptors:{unicodeRange:"U+9389-938e,U+9390-93c9,U+93cb-93d5,U+93d7-9410"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-f6032fc06eb20480f096199713f70885.woff2",descriptors:{unicodeRange:"U+20a0-20b5,U+20b9-20ba,U+20bc-20bd,U+4e2c,U+5107,U+5216,U+5293,U+54f3,U+5523,U+5819,U+5adc,U+5c88,U+5e3b,U+5fee,U+62f6,U+63be,U+6484,U+6499,U+67d9,U+67dd,U+6d5e,U+6f46,U+717a,U+71e0,U+72c1,U+73e7,U+75b0,U+7603,U+7722,U+7809,U+7811,U+7946,U+7967,U+799a,U+7b45,U+7ba2,U+8014,U+80d9,U+8159,U+817d,U+81a3,U+81aa,U+8201,U+833c,U+836e,U+83e5,U+8459,U+84f0,U+8729,U+8753,U+87d3,U+89dc,U+8bf6,U+8c2e,U+8e2c,U+8e9c,U+8e9e,U+8ece,U+8fee,U+9139,U+914f,U+9174,U+9191,U+960c,U+9622,U+9a98,U+9b48,U+9ca6,U+9cb0,U+9da2-9e12,U+9e88,U+9f44,U+9f86"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e2ead7ea7da0437f085f42ffc05f8d13.woff2",descriptors:{unicodeRange:"U+9bd0-9c4a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-97f7f48ce90c9429bf32ae51469db74d.woff2",descriptors:{unicodeRange:"U+4c2d-4cac"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-24a21c1e4449222e8d1898d69ff3a404.woff2",descriptors:{unicodeRange:"U+4d30-4dab"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-726303e0774b4e678bff8c2deb6ca603.woff2",descriptors:{unicodeRange:"U+9411-943d,U+943f-946a,U+946c-9484"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5a7fac4b8b23a6e4e5ba0c9bf1756c91.woff2",descriptors:{unicodeRange:"U+9efa,U+9efd,U+9eff-9f0a,U+9f0c,U+9f0f,U+9f11-9f12,U+9f14-9f16,U+9f18,U+9f1a-9f1f,U+9f21,U+9f23-9f2b,U+9f2d-9f2e,U+9f30-9f36,U+9f38,U+9f3a,U+9f3c,U+9f3f-9f43,U+9f45-9f4f,U+9f52-9f7e,U+9f81-9f82,U+9f8d-9f94"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2b7441d46298788ac94e610ffcc709b6.woff2",descriptors:{unicodeRange:"U+7e2b-7e3a,U+7e3c-7e40,U+7e42-7e46,U+7e48-7e81,U+7e83-7e9a,U+7e9c-7e9e,U+7eae,U+7eb4,U+7ebb-7ebc,U+7ed6,U+7ee4,U+7eec,U+7ef9,U+7f0a,U+7f10,U+7f1e,U+7f37,U+7f39,U+7f3b"}}],Rf=function(){function e(t){var n=this;(0,l.A)(this,e),(0,m.d)(this,"scene"),(0,m.d)(this,"getSceneFamilies",(function(){return e.getUniqueFamilies(n.scene.getNonDeletedElements())})),(0,m.d)(this,"onLoaded",(function(t){var r,a=!0,i=(0,u.A)(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,l="".concat(o.family,"-").concat(o.style,"-").concat(o.weight,"-").concat(o.unicodeRange);e.loadedFontsCache.has(l)||(e.loadedFontsCache.add(l),a=!1)}}catch(Be){i.e(Be)}finally{i.f()}if(!a){var s,c=!1,d=n.scene.getNonDeletedElementsMap(),f=(0,u.A)(n.scene.getNonDeletedElements());try{for(f.s();!(s=f.n()).done;){var h=s.value;if(Kl(h)){c=!0,Js.delete(h),Ds.clearCache(Oo(h));var p=ZU(h,d);p&&Js.delete(p)}}}catch(Be){f.e(Be)}finally{f.f()}c&&n.scene.triggerUpdate()}})),(0,m.d)(this,"loadSceneFonts",(0,d.A)((0,c.A)().mark((function t(){var r,a;return(0,c.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.getSceneFamilies(),a=e.getCharsPerFamily(n.scene.getNonDeletedElements()),t.abrupt("return",e.loadFontFaces(r,a));case 2:case"end":return t.stop()}}),t)})))),this.scene=t}return(0,s.A)(e,[{key:"registered",get:function(){return e.registered}}],[{key:"registered",get:function(){return e._registered?e._initialized||(e._registered=new Map([].concat((0,h.A)(e.init().entries()),(0,h.A)(e._registered.entries())))):e._registered=e.init(),e._registered}},{key:"generateFontFaceDeclarations",value:function(){var t=(0,d.A)((0,c.A)().mark((function t(n){var r,a,i,o,l,s,d;return(0,c.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getUniqueFamilies(n),a=e.getCharsPerFamily(n),i=r.find((function(e){return ba(e).includes(va)})),i&&(o=e.getCharacters(a,i),c=o,Ll||(Ll=Ws.class.apply(Ws,(0,h.A)(Object.values(Fs)))),Ll.test(c)&&(l=ga[va],a[l]=new Set(o),r.unshift(ga[va]))),s=e.fontFacesStylesGenerator(r,a),t.next=6,new Bl(s,3).all();case 6:return d=t.sent,t.abrupt("return",Array.from(new Set(d)));case 8:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"loadFontFaces",value:function(){var t=(0,d.A)((0,c.A)().mark((function t(n,r){var a,i,o,l,s,d,f,h;return(0,c.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=(0,u.A)(e.registered.values());try{for(a.s();!(i=a.n()).done;)if(o=i.value,l=o.fontFaces,!o.metadata.local){s=(0,u.A)(l);try{for(s.s();!(d=s.n()).done;)f=d.value.fontFace,window.document.fonts.has(f)||window.document.fonts.add(f)}catch(Be){s.e(Be)}finally{s.f()}}}catch(Be){a.e(Be)}finally{a.f()}return h=e.fontFacesLoader(n,r),t.next=5,new Bl(h,10).all();case 5:return t.abrupt("return",t.sent.flat().filter(Boolean));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"fontFacesLoader",value:(0,c.A)().mark((function t(n,r){var a,i,o;return(0,c.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=(0,u.A)(n.entries()),t.prev=1,o=(0,c.A)().mark((function t(){var n,a,o,l,s;return(0,c.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(0,f.A)(i.value,2),a=n[0],o=n[1],l=Oo({fontFamily:o,fontSize:16}),s=e.getCharacters(r,o),t.t0=window.document.fonts.check(l,s),t.t0){t.next=6;break}return t.next=6,Ol((0,d.A)((0,c.A)().mark((function t(){var n,r;return(0,c.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.document.fonts.load(l,s);case 3:return n=t.sent,t.abrupt("return",[a,n]);case 7:t.prev=7,t.t0=t.catch(0),console.error('Failed to load font "'.concat(l,'" from urls "').concat(null===(r=e.registered.get(o))||void 0===r?void 0:r.fontFaces.map((function(e){return e.urls})),'"'),t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))));case 6:case"end":return t.stop()}}),t)})),a.s();case 4:if((i=a.n()).done){t.next=8;break}return t.delegateYield(o(),"t0",6);case 6:t.next=4;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),a.e(t.t1);case 13:return t.prev=13,a.f(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])}))},{key:"fontFacesStylesGenerator",value:(0,c.A)().mark((function t(n,r){var a,i,o;return(0,c.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=(0,u.A)(n.entries()),t.prev=1,o=(0,c.A)().mark((function t(){var n,a,o,l,s,h,p,v,U,m;return(0,c.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=(0,f.A)(i.value,2),o=a[0],l=a[1],s=null!==(n=e.registered.get(l))&&void 0!==n?n:{},h=s.fontFaces,p=s.metadata,Array.isArray(h)){t.next=5;break}return console.error("Couldn't find registered fonts for font-family \"".concat(l,'"'),e.registered),t.abrupt("return",1);case 5:if(null!==p&&void 0!==p&&p.local){t.next=22;break}v=(0,u.A)(h.entries()),t.prev=7,m=(0,c.A)().mark((function t(){var n,a,i;return(0,c.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,f.A)(U.value,2),a=n[0],i=n[1],t.next=3,Ol((0,d.A)((0,c.A)().mark((function t(){var n,s;return(0,c.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.getCharacters(r,l),t.next=4,i.toCSS(n);case 4:return s=t.sent,t.abrupt("return",s?[1e4*o+a,s]:void 0);case 8:t.prev=8,t.t0=t.catch(0),console.error("Couldn't transform font-face to css for family \"".concat(i.fontFace.family,'"'),t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))));case 3:case"end":return t.stop()}}),t)})),v.s();case 10:if((U=v.n()).done){t.next=14;break}return t.delegateYield(m(),"t0",12);case 12:t.next=10;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(7),v.e(t.t1);case 19:return t.prev=19,v.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[7,16,19,22]])})),a.s();case 4:if((i=a.n()).done){t.next=10;break}return t.delegateYield(o(),"t0",6);case 6:if(!t.t0){t.next=8;break}return t.abrupt("continue",8);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t1=t.catch(1),a.e(t.t1);case 15:return t.prev=15,a.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])}))},{key:"register",value:function(e,t){for(var n,r=null!==(n=ma[e])&&void 0!==n?n:ga[e],a=arguments.length,i=new Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];return this.registered.get(r)||this.registered.set(r,{metadata:t,fontFaces:i.map((function(t){var n=t.uri,r=t.descriptors;return new Ef(e,n,r)}))}),this.registered}},{key:"init",value:function(){var t={registered:new Map},n=function(n){for(var r,a,i,o=null!==(r=ma[n])&&void 0!==r?r:ga[n],l=null!==(a=Qu[o])&&void 0!==a?a:Qu[ma.Excalifont],s=arguments.length,c=new Array(s>1?s-1:0),d=1;d<s;d++)c[d-1]=arguments[d];(i=e.register).call.apply(i,[t,n,l].concat(c))};return n.apply(void 0,["Cascadia"].concat(kf)),n.apply(void 0,["Comic Shanns"].concat(Sf)),n.apply(void 0,["Excalifont"].concat(Cf)),n.apply(void 0,["Helvetica"].concat(jf)),n.apply(void 0,["Liberation Sans"].concat(If)),n.apply(void 0,["Lilita One"].concat(Df)),n.apply(void 0,["Nunito"].concat(Tf)),n.apply(void 0,["Virgil"].concat(_f)),n.apply(void 0,[va].concat(Lf)),n.apply(void 0,[Ua].concat(Mf)),e._initialized=!0,t.registered}},{key:"getUniqueFamilies",value:function(e){return Array.from(e.reduce((function(e,t){return Kl(t)&&e.add(t.fontFamily),e}),new Set))}},{key:"getCharsPerFamily",value:function(e){var t,n={},r=(0,u.A)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(Kl(a)){var i,o=(0,u.A)(a.originalText);try{for(o.s();!(i=o.n()).done;){var l=i.value;n[a.fontFamily]||(n[a.fontFamily]=new Set),n[a.fontFamily].add(l)}}catch(Be){o.e(Be)}finally{o.f()}}}}catch(Be){r.e(Be)}finally{r.f()}return n}},{key:"getCharacters",value:function(e,t){return e[t]?Array.from(e[t]).join(""):""}},{key:"getAllFamilies",value:function(){return Array.from(e.registered.keys())}}])}();(0,m.d)(Rf,"loadedFontsCache",new Set),(0,m.d)(Rf,"_registered"),(0,m.d)(Rf,"_initialized",!1),(0,m.d)(Rf,"loadElementsFonts",function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n,r;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rf.getUniqueFamilies(t),r=Rf.getCharsPerFamily(t),e.abrupt("return",Rf.loadFontFaces(n,r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Pf=Rf,Nf=function(e,t,n){var r,a=(null===(r=Pf.registered.get(e))||void 0===r?void 0:r.metadata.metrics)||Qu[ma.Virgil].metrics,i=a.unitsPerEm,o=a.ascender,l=t/i;return l*o+(n-l*o+l*a.descender)/2},Ff=function(e){var t;return((null===(t=Pf.registered.get(e))||void 0===t?void 0:t.metadata.metrics)||Qu[ma.Excalifont].metrics).lineHeight},Of=function(e){var t=e.angle,n=e.width,r=e.height,a=e.x,i=e.y,o=a+n/2,l=i+r/2,s=Ji(o,l);return{type:"polygon",data:"diamond"===e.type?Ao(ao(Ji(o,i),s,t),ao(Ji(a+n,l),s,t),ao(Ji(o,i+r),s,t),ao(Ji(a,l),s,t)):Ao(ao(Ji(a,i),s,t),ao(Ji(a+n,i),s,t),ao(Ji(a+n,i+r),s,t),ao(Ji(a,i+r),s,t))}},zf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=Ip(e,t,!0),a=(0,f.A)(r,6),i=a[0],o=a[1],l=a[2],s=a[3];i-=n,l+=n,o-=n,s+=n;var c=Ji(a[4],a[5]),d=ao(Ji(i,o),c,e.angle),u=ao(Ji(l,o),c,e.angle),h=ao(Ji(i,s),c,e.angle);return{type:"polygon",data:[d,u,ao(Ji(l,s),c,e.angle),h]}},Bf=function(e){if(!e)return[];var t,n=(0,u.A)(e.sets);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("path"===r.type)return r.ops}}catch(Be){n.e(Be)}finally{n.f()}return e.sets[0].ops},Hf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e){for(var t=e[0],n=[],r=1;r<e.length;r++){var a=e[r];n.push(ho(t,a)),t=a}return n}(e.points.map((function(n){return function(n){return ao(to(Ki(Vi(n),Gi(e.x,e.y))),t,e.angle)}(n)})));return n?{type:"polygon",data:Eo(r.flat())}:{type:"polyline",data:r}},Wf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ji(0,0),r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=function(e){return ao(Ji(e[0]+n[0],e[1]+n[1]),a,r)};if(null===e.roundness)return{type:"polygon",data:Eo(e.points.map((function(e){return i(e)})))};var o,l=Bf(t),s=[],c=!1,d=(0,u.A)(l);try{for(d.s();!(o=d.n()).done;){var f=o.value;"move"===f.op?(c=!c)&&s.push(Ji(f.data[0],f.data[1])):"bcurveTo"===f.op?c&&(s.push(Ji(f.data[0],f.data[1])),s.push(Ji(f.data[2],f.data[3])),s.push(Ji(f.data[4],f.data[5]))):"lineTo"===f.op&&c&&s.push(Ji(f.data[0],f.data[1]))}}catch(Be){d.e(Be)}finally{d.f()}var h=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=arguments.length>2?arguments[2]:void 0,r=[],a=(e.length-1)/3,i=0;i<a;i++)tr(e,3*i,t,r);return n&&n>0?nr(r,0,r.length,n):r}(s,10,5).map((function(e){return i(e)}));return{type:"polygon",data:Eo(h)}},Xf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return function(e,t){for(var n=t.angle,r=t.halfWidth,a=t.halfHeight,i=t.center,o=r,l=a,s=ao(to(Ki(Vi(e),$i(Vi(i),-1))),Ji(0,0),-n),c=(0,f.A)(s,2),d=c[0],u=c[1],h=Math.abs(d),p=Math.abs(u),v=.707,U=.707,m=0;m<3;m++){var g=o*v,b=l*U,y=(o*o-l*l)*Math.pow(v,3)/o,x=(l*l-o*o)*Math.pow(U,3)/l,w=g-y,A=b-x,E=h-y,k=p-x,S=Math.hypot(A,w),M=Math.hypot(k,E);v=Math.min(1,Math.max(0,(E*S/M+y)/o)),U=Math.min(1,Math.max(0,(k*S/M+x)/l));var C=Math.hypot(U,v);v/=C,U/=C}var j=o*v*Math.sign(d),I=l*U*Math.sign(u);return lo(Ji(d,u),Ji(j,I))}(e,t)<=n},Gf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(t.type){case"polygon":return function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4,r=!1,a=0,i=t.length-1;a<i;a++)if(po(e,ho(t[a],t[a+1]),n)){r=!0;break}return r}(e,t.data,n);case"ellipse":return Xf(e,t.data,n);case"line":return po(e,t.data,n);case"polyline":return qf(e,t.data,n);case"curve":return Kf(e,t.data,n);case"polycurve":return Yf(e,t.data,n);default:throw Error("shape ".concat(t," is not implemented"))}},Vf=function(e,t){switch(t.type){case"polygon":return ko(e,t.data);case"line":case"curve":case"polycurve":return!1;case"ellipse":return function(e,t){var n=t.center,r=t.angle,a=t.halfWidth,i=t.halfHeight,o=ao(to(Ki(Vi(e),$i(Vi(n),-1))),Ji(0,0),-r),l=(0,f.A)(o,2),s=l[0],c=l[1];return s/a*(s/a)+c/i*(c/i)<=1}(e,t.data);case"polyline":var n=Eo(t.data.flat());return ko(e,n);default:throw Error("shape ".concat(t," is not implemented"))}},Yf=function(e,t,n){return t.some((function(t){return Kf(e,t,n)}))},Zf=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=function(e){var t=(0,f.A)(e,4),n=t[0],r=t[1],a=t[2],i=t[3];return function(e,t){return Math.pow(1-e,3)*i[t]+3*e*Math.pow(1-e,2)*a[t]+3*Math.pow(e,2)*(1-e)*r[t]+n[t]*Math.pow(e,3)}}(e),r=[n(0,0),n(0,1)],a=[],i=0,o=1/t,l=0;l<t;l++)if((i+=o)<=1){var s=Ji(n(i,0),n(i,1));a.push(ho(r,s)),r=s}return a},Kf=function(e,t,n){return qf(e,Zf(t),n)},qf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return t.some((function(t){return po(e,t,n)}))};function $f(e,t,n){return{center:e,halfWidth:t,halfHeight:n}}function Qf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Sh(Math.min(e.width,e.height),e);if(n<=0){var r=mo(Ji(e.x-t,e.y-t),Ji(e.x+e.width+t,e.y+e.height+t));return[[ho(Ji(r[0][0]+n,r[0][1]),Ji(r[1][0]-n,r[0][1])),ho(Ji(r[1][0],r[0][1]+n),Ji(r[1][0],r[1][1]-n)),ho(Ji(r[0][0]+n,r[1][1]),Ji(r[1][0]-n,r[1][1])),ho(Ji(r[0][0],r[1][1]-n),Ji(r[0][0],r[0][1]+n))],[]]}var a=Ji(e.x+e.width/2,e.y+e.height/2),i=mo(Ji(e.x,e.y),Ji(e.x+e.width,e.y+e.height)),o=ho(Ji(i[0][0]+n,i[0][1]),Ji(i[1][0]-n,i[0][1])),l=ho(Ji(i[1][0],i[0][1]+n),Ji(i[1][0],i[1][1]-n)),s=ho(Ji(i[0][0]+n,i[1][1]),Ji(i[1][0]-n,i[1][1])),c=ho(Ji(i[0][0],i[1][1]-n),Ji(i[0][0],i[0][1]+n)),d=[$i(Qi(Vi(Ji(i[0][0]-t,i[0][1]-t),a)),t),$i(Qi(Vi(Ji(i[1][0]+t,i[0][1]-t),a)),t),$i(Qi(Vi(Ji(i[1][0]+t,i[1][1]+t),a)),t),$i(Qi(Vi(Ji(i[0][0]-t,i[1][1]+t),a)),t)],u=[go(to(d[0],c[1]),to(d[0],Ji(c[1][0]+2/3*(i[0][0]-c[1][0]),c[1][1]+2/3*(i[0][1]-c[1][1]))),to(d[0],Ji(o[0][0]+2/3*(i[0][0]-o[0][0]),o[0][1]+2/3*(i[0][1]-o[0][1]))),to(d[0],o[0])),go(to(d[1],o[1]),to(d[1],Ji(o[1][0]+2/3*(i[1][0]-o[1][0]),o[1][1]+2/3*(i[0][1]-o[1][1]))),to(d[1],Ji(l[0][0]+2/3*(i[1][0]-l[0][0]),l[0][1]+2/3*(i[0][1]-l[0][1]))),to(d[1],l[0])),go(to(d[2],l[1]),to(d[2],Ji(l[1][0]+2/3*(i[1][0]-l[1][0]),l[1][1]+2/3*(i[1][1]-l[1][1]))),to(d[2],Ji(s[1][0]+2/3*(i[1][0]-s[1][0]),s[1][1]+2/3*(i[1][1]-s[1][1]))),to(d[2],s[1])),go(to(d[3],s[0]),to(d[3],Ji(s[0][0]+2/3*(i[0][0]-s[0][0]),s[0][1]+2/3*(i[1][1]-s[0][1]))),to(d[3],Ji(c[0][0]+2/3*(i[0][0]-c[0][0]),c[0][1]+2/3*(i[1][1]-c[0][1]))),to(d[3],c[0]))];return[[ho(u[0][3],u[1][0]),ho(u[1][3],u[2][0]),ho(u[2][3],u[3][0]),ho(u[3][3],u[0][0])],u]}function Jf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Tp(e),a=(0,f.A)(r,8),i=a[0],o=a[1],l=a[2],s=a[3],c=a[4],d=a[5],u=a[6],h=a[7],p=Sh(Math.abs(i-u),e),v=Sh(Math.abs(s-o),e);if(null==(null===(t=e.roundness)||void 0===t?void 0:t.type)){var U=[Ji(e.x+i,e.y+o-n),Ji(e.x+l+n,e.y+s),Ji(e.x+c,e.y+d+n),Ji(e.x+u-n,e.y+h)],m=U[0],g=U[1],b=U[2],y=U[3];return[[ho(Ji(m[0]+p,m[1]+v),Ji(g[0]-p,g[1]-v)),ho(Ji(g[0]-p,g[1]+v),Ji(b[0]+p,b[1]-v)),ho(Ji(b[0]-p,b[1]-v),Ji(y[0]+p,y[1]+v)),ho(Ji(y[0]+p,y[1]-v),Ji(m[0]-p,m[1]+v))],[]]}var x=Ji(e.x+e.width/2,e.y+e.height/2),w=[Ji(e.x+i,e.y+o),Ji(e.x+l,e.y+s),Ji(e.x+c,e.y+d),Ji(e.x+u,e.y+h)],A=w[0],E=w[1],k=w[2],S=w[3],M=[$i(Qi(Vi(E,x)),n),$i(Qi(Vi(k,x)),n),$i(Qi(Vi(S,x)),n),$i(Qi(Vi(A,x)),n)],C=[go(to(M[0],Ji(E[0]-p,E[1]-v)),to(M[0],E),to(M[0],E),to(M[0],Ji(E[0]-p,E[1]+v))),go(to(M[1],Ji(k[0]+p,k[1]-v)),to(M[1],k),to(M[1],k),to(M[1],Ji(k[0]-p,k[1]-v))),go(to(M[2],Ji(S[0]+p,S[1]+v)),to(M[2],S),to(M[2],S),to(M[2],Ji(S[0]+p,S[1]-v))),go(to(M[3],Ji(A[0]-p,A[1]+v)),to(M[3],A),to(M[3],A),to(M[3],Ji(A[0]+p,A[1]+v)))];return[[ho(C[0][3],C[1][0]),ho(C[1][3],C[2][0]),ho(C[2][3],C[3][0]),ho(C[3][3],C[0][0])],C]}var eh=function(e){if("arrow"===e.type)return!1;var t=!al(e.backgroundColor)||us(e)||Zl(e)||Kl(e);return"line"===e.type||"freedraw"===e.type?t&&Mh(e.points):t||Gl(e)},th=function(e){var t=e.x,n=e.y,r=e.element,a=e.shape,i=e.threshold,o=void 0===i?10:i,l=e.frameNameBound,s=void 0===l?null:l,c=eh(r)&&Vf(Ji(t,n),a)||Gf(Ji(t,n),a,o);return!c&&s&&(c=Vf(Ji(t,n),{type:"polygon",data:Of(s).data})),c},nh=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=zp(n,r),o=(0,f.A)(i,4),l=o[0],s=o[1],c=o[2],d=o[3];return c+=a,d+=a,uo(Ji(l-=a,s-=a),Ji(e,t),Ji(c,d))},rh=function(e,t){return!th(e)&&!ah(e.x,e.y,yh(e.element,t))&&nh(e.x,e.y,e.element,t)},ah=function(e,t,n){return!!n&&Vf(Ji(e,t),n)},ih=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e.type){case"rectangle":case"image":case"text":case"iframe":case"embeddable":case"frame":case"magicframe":return oh(e,t,n);case"diamond":return lh(e,t,n);case"ellipse":return sh(e,t,n);default:throw new Error("Unimplemented element type '".concat(e.type,"'"))}},oh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Ji(e.x+e.width/2,e.y+e.height/2),a=ao(t[0],r,-e.angle),i=ao(t[1],r,-e.angle),o=Qf(e,n),l=(0,f.A)(o,2),s=l[0],c=l[1];return[].concat((0,h.A)(s.map((function(e){return Uo(ho(a,i),e)})).filter((function(e){return null!=e})).map((function(t){return ao(t,r,e.angle)}))),(0,h.A)(c.flatMap((function(e){return xo(e,ho(a,i))})).filter((function(e){return null!=e})).map((function(t){return ao(t,r,e.angle)})))).filter((function(e,t,n){return n.findIndex((function(t){return ro(e,t)}))===t}))},lh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Ji(e.x+e.width/2,e.y+e.height/2),a=ao(t[0],r,-e.angle),i=ao(t[1],r,-e.angle),o=Jf(e,n),l=(0,f.A)(o,2),s=l[0],c=l[1];return[].concat((0,h.A)(s.map((function(e){return Uo(ho(a,i),e)})).filter((function(e){return null!=e})).map((function(t){return ao(t,r,e.angle)}))),(0,h.A)(c.flatMap((function(e){return xo(e,ho(a,i))})).filter((function(e){return null!=e})).map((function(t){return ao(t,r,e.angle)})))).filter((function(e,t,n){return n.findIndex((function(t){return ro(e,t)}))===t}))},sh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Ji(e.x+e.width/2,e.y+e.height/2),a=ao(t[0],r,-e.angle),i=ao(t[1],r,-e.angle);return function(e,t){var n=e.center,r=e.halfWidth,a=e.halfHeight,i=(0,f.A)(t,2),o=i[0],l=i[1],s=(0,f.A)(n,2),c=s[0],d=s[1],u=o[0]-c,h=o[1]-d,p=l[0]-c,v=l[1]-d,U=Math.pow(p-u,2)/Math.pow(r,2)+Math.pow(v-h,2)/Math.pow(a,2),m=2*(u*(p-u)/Math.pow(r,2)+h*(v-h)/Math.pow(a,2)),g=Math.pow(u,2)/Math.pow(r,2)+Math.pow(h,2)/Math.pow(a,2)-1,b=(-m+Math.sqrt(Math.pow(m,2)-4*U*g))/(2*U),y=(-m-Math.sqrt(Math.pow(m,2)-4*U*g))/(2*U),x=[Ji(u+b*(p-u)+c,h+b*(v-h)+d),Ji(u+y*(p-u)+c,h+y*(v-h)+d)].filter((function(e){return!isNaN(e[0])&&!isNaN(e[1])}));return 2===x.length&&ro(x[0],x[1])?[x[0]]:x}($f(r,e.width/2+n,e.height/2+n),fo(a,i)).map((function(t){return ao(t,r,e.angle)}))},ch={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",THREE:"Digit3",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",Y:"KeyY",R:"KeyR",S:"KeyS"},dh={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:Yr?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",SUBTRACT:"-",SLASH:"/",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",W:"w",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},uh=new Map([[dh.Z,ch.Z],[dh.Y,ch.Y]]),fh=function(e,t){if(t===e.key.toLowerCase())return!0;var n=uh.get(t);return!(!n||function(e){return/^[a-z]$/.test(e.toLowerCase())}(e.key)||e.code!==n)},hh=function(e){return e===dh.ARROW_LEFT||e===dh.ARROW_RIGHT||e===dh.ARROW_DOWN||e===dh.ARROW_UP},ph=function(e){return e.altKey},vh=function(e){return e.shiftKey},Uh=function(e){return e.shiftKey},mh=[{icon:hc,value:"selection",key:dh.V,numericKey:dh[1],fillable:!0},{icon:pc,value:"rectangle",key:dh.R,numericKey:dh[2],fillable:!0},{icon:vc,value:"diamond",key:dh.D,numericKey:dh[3],fillable:!0},{icon:Uc,value:"ellipse",key:dh.O,numericKey:dh[4],fillable:!0},{icon:mc,value:"arrow",key:dh.A,numericKey:dh[5],fillable:!0},{icon:gc,value:"line",key:dh.L,numericKey:dh[6],fillable:!0},{icon:yc,value:"freedraw",key:[dh.P,dh.X],numericKey:dh[7],fillable:!1},{icon:xc,value:"text",key:dh.T,numericKey:dh[8],fillable:!1},{icon:wc,value:"image",key:null,numericKey:dh[9],fillable:!1},{icon:Ac,value:"eraser",key:dh.E,numericKey:dh[0],fillable:!1}],gh=function(e){var t;return(null===(t=mh.find((function(t,n){return null!=t.numericKey&&e===t.numericKey.toString()||t.key&&("string"==typeof t.key?t.key===e:t.key.includes(e))})))||void 0===t?void 0:t.value)||null},bh=function(e,t){switch(e.type){case"rectangle":case"diamond":case"frame":case"magicframe":case"embeddable":case"image":case"iframe":case"text":case"selection":return Of(e);case"arrow":case"line":var n,r,a=null!==(n=null===(r=Js.get(e))||void 0===r?void 0:r[0])&&void 0!==n?n:Js.generateElementShape(e,null)[0],i=Ip(e,t),o=(0,f.A)(i,6),l=o[4],s=o[5];return eh(e)?Wf(e,a,Ji(e.x,e.y),e.angle,Ji(l,s)):function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ji(0,0),r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=function(e){return ao(Ji(e[0]+n[0],e[1]+n[1]),a,r)},o=Bf(e),l=[],s=Ji(0,0),c=(0,u.A)(o);try{for(c.s();!(t=c.n()).done;){var d=t.value;if("move"===d.op){var f=eo(d.data);Sl(null!=f,"Ops data is not a point"),s=i(f)}if("bcurveTo"===d.op){var h=i(Ji(d.data[0],d.data[1])),p=i(Ji(d.data[2],d.data[3])),v=i(Ji(d.data[4],d.data[5]));l.push(go(s,h,p,v)),s=v}}}catch(Be){c.e(Be)}finally{c.f()}return{type:"polycurve",data:l}}(a,Ji(e.x,e.y),e.angle,Ji(l,s));case"ellipse":return function(e){var t=e.width,n=e.height,r=e.angle;return{type:"ellipse",data:{center:Ji(e.x+t/2,e.y+n/2),angle:r,halfWidth:t/2,halfHeight:n/2}}}(e);case"freedraw":var c=Ip(e,t),d=(0,f.A)(c,6),h=d[4],p=d[5];return Hf(e,Ji(h,p),eh(e))}},yh=function(e,t){var n=YU(e,t);return n?"arrow"===e.type?bh((0,v.A)((0,v.A)({},n),PU.getBoundTextElementPosition(e,n,t)),t):bh(n,t):null},xh=function(e,t){var n=Js.generateElementShape(e,null);if(!n)return null;for(var r=Bf(n[0]),a=Ji(0,0),i=0,o=1/0,l=null;i<r.length;){var s=r[i],c=s.op,d=s.data;if("move"===c&&(Sl(no(d),"The returned ops is not compatible with a point"),a=d),"bcurveTo"===c){var u=a,f=Ji(d[0],d[1]),h=Ji(d[2],d[3]),p=Ji(d[4],d[5]),v=lo(p,t);v<o&&(o=v,l=[u,f,h,p]),a=p}i++}return l},wh=function(e,t,n,r,a){var i=function(a,i){return Math.pow(1-a,3)*r[i]+3*a*Math.pow(1-a,2)*n[i]+3*Math.pow(a,2)*(1-a)*t[i]+e[i]*Math.pow(a,3)};return Ji(i(a,0),i(a,1))},Ah=function(e,t){var n=[];n[0]=0;for(var r=function(e,t){var n=xh(e,t);if(!n)return[];for(var r=[],a=1;a>0;){var i=wh(n[0],n[1],n[2],n[3],a);r.push(Ji(i[0],i[1])),a-=.05}return r.length&&ro(r.at(-1),t)&&r.push(Ji(t[0],t[1])),r}(e,t),a=0,i=0;a<r.length-1;){i+=lo(r[a],r[a+1]),n.push(i),a++}return n},Eh=function(e,t){var n={minX:e.x,minY:e.y,maxX:e.x+e.width,maxY:e.y+e.height,midX:e.x+e.width/2,midY:e.y+e.height/2},r=Ji(n.midX,n.midY),a=ao(Ji(n.minX,n.minY),r,e.angle),i=(0,f.A)(a,2),o=i[0],l=i[1],s=ao(Ji(n.maxX,n.minY),r,e.angle),c=(0,f.A)(s,2),d=c[0],u=c[1],h=ao(Ji(n.maxX,n.maxY),r,e.angle),p=(0,f.A)(h,2),v=p[0],U=p[1],m=ao(Ji(n.minX,n.maxY),r,e.angle),g=(0,f.A)(m,2),b=g[0],y=g[1],x=[Math.min(o,d,v,b),Math.min(l,u,U,y),Math.max(o,d,v,b),Math.max(l,u,U,y)];if(t){var w=(0,f.A)(t,4),A=w[0],E=w[1],k=w[2],S=w[3];return[x[0]-S,x[1]-A,x[2]+E,x[3]+k]}return x},kh=function(e,t){return e[0]>t[0]&&e[0]<t[2]&&e[1]>t[1]&&e[1]<t[3]},Sh=function(e,t){var n,r,a;if((null===(n=t.roundness)||void 0===n?void 0:n.type)===ci.PROPORTIONAL_RADIUS||(null===(r=t.roundness)||void 0===r?void 0:r.type)===ci.LEGACY)return e*si;if((null===(a=t.roundness)||void 0===a?void 0:a.type)===ci.ADAPTIVE_RADIUS){var i,o,l=null!==(i=null===(o=t.roundness)||void 0===o?void 0:o.value)&&void 0!==i?i:32;return e<=l/si?e*si:l}return 0},Mh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.length>=3){var n=[e[0],e[e.length-1]];return lo(n[0],n[1])<=ra/t}return!1},Ch=10,jh=function(e,t,n,r,a,i,o){var l,s,c,d,u,f=Dh(e),h=f.width,p=f.height,v=n/h,U=r/p,m=(null!==(l=null===(s=e.crop)||void 0===s?void 0:s.x)&&void 0!==l?l:0)/v,g=(null!==(c=null===(d=e.crop)||void 0===d?void 0:d.y)&&void 0!==c?c:0)/U,b=ao(Ji(a,i),Ji(e.x+e.width/2,e.y+e.height/2),-e.angle);a=b[0],i=b[1];var y=e.width,x=e.height,w=null!==(u=e.crop)&&void 0!==u?u:{x:0,y:0,width:n,height:r,naturalWidth:n,naturalHeight:r},A=w.height,E=w.width,k=-1===e.scale[0],S=-1===e.scale[1],M=i-e.y,C=a-e.x;t.includes("n")&&(x=Pi(e.height-M,Ch,S?p-g:e.height+g)),t.includes("s")&&(M=i-e.y-e.height,x=Pi(e.height+M,Ch,S?e.height+g:p-g)),t.includes("e")&&(C=a-e.x-e.width,y=Pi(e.width+C,Ch,k?e.width+m:h-m)),t.includes("w")&&(y=Pi(e.width-C,Ch,k?h-m:e.width+m));var j=function(e){e.height=x*U,e.width=y*v};j(w);var I=function(e,t){j(t),e.includes("n")&&(S||(t.y+=A-t.height)),e.includes("s")&&S&&(t.y+=A-t.height),e.includes("e")&&k&&(t.x+=E-t.width),e.includes("w")&&(k||(t.x+=E-t.width))};switch(t){case"n":if(o){var D=m+e.width/2,T=h-m-e.width/2,_=2*Math.min(D,T);y=Pi(x*o,Ch,_),x=y/o}I(t,w),o&&(w.x+=(E-w.width)/2);break;case"s":if(o){var L=m+e.width/2,R=h-m-e.width/2,P=2*Math.min(L,R);y=Pi(x*o,Ch,P),x=y/o}I(t,w),o&&(w.x+=(E-w.width)/2);break;case"w":if(o){var N=g+e.height/2,F=p-g-e.height/2,O=2*Math.min(N,F);x=Pi(y/o,Ch,O),y=x*o}I(t,w),o&&(w.y+=(A-w.height)/2);break;case"e":if(o){var z=g+e.height/2,B=p-g-e.height/2,H=2*Math.min(z,B);x=Pi(y/o,Ch,H),y=x*o}I(t,w),o&&(w.y+=(A-w.height)/2);break;case"ne":if(o)if(C>-M){var W=S?p-g:g+e.height;x=Pi(y/o,Ch,W),y=x*o}else{var X=k?m+e.width:h-m;y=Pi(x*o,Ch,X),x=y/o}I(t,w);break;case"nw":if(o)if(C<M){var G=S?p-g:g+e.height;x=Pi(y/o,Ch,G),y=x*o}else{var V=k?h-m:m+e.width;y=Pi(x*o,Ch,V),x=y/o}I(t,w);break;case"se":if(o)if(C>M){var Y=S?g+e.height:p-g;x=Pi(y/o,Ch,Y),y=x*o}else{var Z=k?m+e.width:h-m;y=Pi(x*o,Ch,Z),x=y/o}I(t,w);break;case"sw":if(o)if(-C>M){var K=S?g+e.height:p-g;x=Pi(y/o,Ch,K),y=x*o}else{var q=k?h-m:m+e.width;y=Pi(x*o,Ch,q),x=y/o}I(t,w)}var $=Ih(e,t,y,x,!!o);return Bi(w.width,w.naturalWidth)&&Bi(w.height,w.naturalHeight)&&(w=null),{x:$[0],y:$[1],width:y,height:x,crop:w}},Ih=function(e,t,n,r,a){var i=Wp(e,e.width,e.height,!0),o=(0,f.A)(i,4),l=o[0],s=o[1],c=o[2],d=o[3],u=Ji(l,s),p=Ji(c,d),v=oo(u,p),U=Wp(e,n,r,!0),m=(0,f.A)(U,4),g=m[0],b=m[1],y=m[2]-g,x=m[3]-b,w=(0,h.A)(u);if(["n","w","nw"].includes(t)&&(w=[p[0]-Math.abs(y),p[1]-Math.abs(x)]),"ne"===t){var A=[u[0],p[1]];w=[A[0],A[1]-Math.abs(x)]}if("sw"===t){var E=[p[0],u[1]];w=[E[0]-Math.abs(y),E[1]]}a&&(["s","n"].includes(t)&&(w[0]=v[0]-y/2),["e","w"].includes(t)&&(w[1]=v[1]-x/2));var k=e.angle,S=ao(w,v,k),M=ao([w[0]+Math.abs(y)/2,w[1]+Math.abs(x)/2],v,k);w=ao(S,M,-k);var C=(0,h.A)(w);return C[0]+=e.x-g,C[1]+=e.y-b,C},Dh=function(e){return e.crop?{width:e.width/(e.crop.width/e.crop.naturalWidth),height:e.height/(e.crop.height/e.crop.naturalHeight)}:{width:e.width,height:e.height}},Th=function(e,t){var n=e.x,r=e.y,a=-1===t[0],i=-1===t[1];return a&&(n=e.naturalWidth-Math.abs(n)-e.width),i&&(r=e.naturalHeight-Math.abs(r)-e.height),{cropX:n,cropY:r}},_h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.crop;if(!n)return null;var r=-1===e.scale[0],a=-1===e.scale[1],i=n.x,o=n.y;if(r&&(i=n.naturalWidth-n.width-n.x),a&&(o=n.naturalHeight-n.height-n.y),t)return{x:i,y:o};var l=Dh(e),s=l.width,c=l.height;return{x:i/(n.naturalWidth/s),y:o/(n.naturalHeight/c)}},Lh="invert(100%) hue-rotate(180deg) saturate(1.25)",Rh=ji(),Ph=function(e,t){return Xl(e)&&!t.imageCache.has(e.fileId)},Nh=function(e,t,n){var r;return n.theme===ya.DARK&&Xl(e)&&!Ph(e,t)&&(null===(r=t.imageCache.get(e.fileId))||void 0===r?void 0:r.mimeType)!==La.svg},Fh=function(e){switch(e.type){case"freedraw":return 12*e.strokeWidth;case"text":return e.fontSize/2;default:return 20}},Oh=function(e,t,n,r){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=(null!==(a=null===t||void 0===t?void 0:t.opacity)&&void 0!==a?a:100)*e.opacity/1e4*i;return(n.has(e.id)||r&&r.some((function(t){return t.id===e.id}))||t&&n.has(t.id))&&(o*=.2),o},zh=function(e,t,n,r,a){var i,o,l=document.createElement("canvas"),s=l.getContext("2d"),c=Fh(e),d=function(e,t,n){var r=Fh(e),a=Ip(e,t),i=(0,f.A)(a,4),o=i[0],l=i[1],s=i[2],c=i[3],d=ts(e)||Jl(e)?Vo(o,s):e.width,u=ts(e)||Jl(e)?Vo(l,c):e.height,h=d*window.devicePixelRatio+2*r,p=u*window.devicePixelRatio+2*r,v=n.value;return(h*v>32767||p*v>32767)&&(v=Math.min(32767/h,32767/p)),h*p*v*v>16777216&&(v=Math.sqrt(16777216/(h*p))),{width:h=Math.floor(h*v),height:p=Math.floor(p*v),scale:v}}(e,t,n),u=d.width,h=d.height,p=d.scale;if(!u||!h)return null;l.width=u,l.height=h;var v=-100,U=0;if(ts(e)||Jl(e)){var m=Ip(e,t),g=(0,f.A)(m,2),b=g[0],y=g[1];v=e.x>b?Vo(e.x,b)*window.devicePixelRatio*p:0,U=e.y>y?Vo(e.y,y)*window.devicePixelRatio*p:0,s.translate(v,U)}s.save(),s.translate(c*p,c*p),s.scale(window.devicePixelRatio*p,window.devicePixelRatio*p);var x=In.A.canvas(l);Nh(e,r,a)&&(s.filter=Lh),Wh(e,x,s,r,a),s.restore();var w=YU(e,t),A=document.createElement("canvas"),E=A.getContext("2d");if(ns(e)&&w){var k=Ip(e,t),S=(0,f.A)(k,4),M=S[0],C=S[1],j=S[2],I=S[3],D=Math.max(Vo(M,j),Vo(C,I));A.width=D*window.devicePixelRatio*p+c*p*10,A.height=D*window.devicePixelRatio*p+c*p*10,E.translate(A.width/2,A.height/2),E.rotate(e.angle),E.drawImage(l,-l.width/2,-l.height/2,l.width,l.height);var T=Ip(w,t),_=(0,f.A)(T,6),L=_[4],R=_[5];E.rotate(-e.angle);var P=(A.width-l.width)/2,N=(A.height-l.height)/2,F=A.width/2-(L-M)*window.devicePixelRatio*p-P-c*p,O=A.height/2-(R-C)*window.devicePixelRatio*p-N-c*p;E.translate(-F,-O),E.clearRect(-(w.width/2+ii)*window.devicePixelRatio*p,-(w.height/2+ii)*window.devicePixelRatio*p,(w.width+2*ii)*window.devicePixelRatio*p,(w.height+2*ii)*window.devicePixelRatio*p)}return{element:e,canvas:l,theme:a.theme,scale:p,zoomValue:n.value,canvasOffsetX:v,canvasOffsetY:U,boundTextElementVersion:(null===(i=YU(e,t))||void 0===i?void 0:i.version)||null,containingFrameOpacity:(null===(o=fx(e,t))||void 0===o?void 0:o.opacity)||100,boundTextCanvas:A,angle:e.angle,imageCrop:Gl(e)?e.crop:null}},Bh=document.createElement("img");Bh.src="data:".concat(La.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var Hh=document.createElement("img");Hh.src="data:".concat(La.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var Wh=function(e,t,n,r,a){switch(e.type){case"rectangle":case"iframe":case"embeddable":case"diamond":case"ellipse":n.lineJoin="round",n.lineCap="round",t.draw(Js.get(e));break;case"arrow":case"line":n.lineJoin="round",n.lineCap="round",Js.get(e).forEach((function(e){t.draw(e)}));break;case"freedraw":n.save(),n.fillStyle=e.strokeColor;var i=function(e){return Kh.get(e)}(e),o=Js.get(e);o&&t.draw(o),n.fillStyle=e.strokeColor,n.fill(i),n.restore();break;case"image":var l,s=Xl(e)?null===(l=r.imageCache.get(e.fileId))||void 0===l?void 0:l.image:void 0;if(null==s||s instanceof Promise)!function(e,t){t.fillStyle="#E7E7E7",t.fillRect(0,0,e.width,e.height);var n=Math.min(e.width,e.height),r=Math.min(n,Math.min(.4*n,100));t.drawImage("error"===e.status?Hh:Bh,e.width/2-r/2,e.height/2-r/2,r,r)}(e,n);else{e.roundness&&n.roundRect&&(n.beginPath(),n.roundRect(0,0,e.width,e.height,Sh(Math.min(e.width,e.height),e)),n.clip());var c=e.crop?e.crop:{x:0,y:0,width:s.naturalWidth,height:s.naturalHeight},d=c.x,u=c.y,f=c.width,h=c.height;n.drawImage(s,d,u,f,h,0,0,e.width,e.height)}break;default:if(!Kl(e))throw new Error("Unimplemented type ".concat(e.type));var p=Jo(e.text),v=p&&!n.canvas.isConnected;v&&document.body.appendChild(n.canvas),n.canvas.setAttribute("dir",p?"rtl":"ltr"),n.save(),n.font=Oo(e),n.fillStyle=e.strokeColor,n.textAlign=e.textAlign;for(var U=e.text.replace(/\r\n?/g,"\n").split("\n"),m="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,g=ks(e.fontSize,e.lineHeight),b=Nf(e.fontFamily,e.fontSize,g),y=0;y<U.length;y++)n.fillText(U[y],m,y*g+b);n.restore(),v&&n.canvas.remove()}},Xh=new WeakMap,Gh=function(e,t,n,r){var a,i=n?r.zoom:Rh.zoom,o=Xh.get(e),l=o&&o.zoomValue!==i.value&&!(null!==r&&void 0!==r&&r.shouldCacheIgnoreZoom),s=YU(e,t),c=(null===s||void 0===s?void 0:s.version)||null,d=Gl(e)?e.crop:null,u=(null===(a=fx(e,t))||void 0===a?void 0:a.opacity)||100;if(!o||l||o.theme!==r.theme||o.boundTextElementVersion!==c||o.imageCrop!==d||o.containingFrameOpacity!==u||ns(e)&&s&&e.angle!==o.angle){var f=zh(e,t,i,n,r);return f?(Xh.set(e,f),f):null}return o},Vh=function(e,t,n,r,a){var i=e.element,o=Fh(i),l=e.scale,s=Ip(i,a),c=(0,f.A)(s,4),d=c[0],u=c[1],h=c[2],p=c[3],v=((d+h)/2+r.scrollX)*window.devicePixelRatio,m=((u+p)/2+r.scrollY)*window.devicePixelRatio;t.save(),t.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var g=YU(i,a);if(ns(i)&&g){var b=(e.boundTextCanvas.width-e.canvas.width)/2,y=(e.boundTextCanvas.height-e.canvas.height)/2;t.translate(v,m),t.drawImage(e.boundTextCanvas,-(h-d)/2*window.devicePixelRatio-b/l-o,-(p-u)/2*window.devicePixelRatio-y/l-o,e.boundTextCanvas.width/l,e.boundTextCanvas.height/l)}else if(t.translate(v,m),t.rotate(i.angle),"scale"in e.element&&!Ph(i,n)&&t.scale(e.element.scale[0],e.element.scale[1]),t.translate(-v,-m),t.drawImage(e.canvas,(d+r.scrollX)*window.devicePixelRatio-o*e.scale/e.scale,(u+r.scrollY)*window.devicePixelRatio-o*e.scale/e.scale,e.canvas.width/e.scale,e.canvas.height/e.scale),"true"===U.a.VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX&&us(i)){var x=YU(i,a),w=qU(i);t.strokeStyle="#c92a2a",t.lineWidth=3,t.strokeRect((w.x+r.scrollX)*window.devicePixelRatio,(w.y+r.scrollY)*window.devicePixelRatio,rm(i,x)*window.devicePixelRatio,am(i,x)*window.devicePixelRatio)}t.restore()},Yh=function(e,t,n,r){t.save(),t.translate(e.x+n.scrollX,e.y+n.scrollY),t.fillStyle="rgba(0, 0, 200, 0.04)";var a=.5/n.zoom.value;t.fillRect(a,a,e.width,e.height),t.lineWidth=1/n.zoom.value,t.strokeStyle=r,t.strokeRect(a,a,e.width,e.height),t.restore()},Zh=function(e,t,n,r,a,i,o){var l,s="elementLinkSelector"===(null===(l=o.openDialog)||void 0===l?void 0:l.name)&&!o.selectedElementIds[e.id]&&!o.hoveredElementIds[e.id];switch(a.globalAlpha=Oh(e,fx(e,t),i.elementsPendingErasure,i.pendingFlowchartNodes,s?Ei:1),e.type){case"magicframe":case"frame":o.frameRendering.enabled&&o.frameRendering.outline&&(a.save(),a.translate(e.x+o.scrollX,e.y+o.scrollY),a.fillStyle="rgba(0, 0, 200, 0.04)",a.lineWidth=xa.strokeWidth/o.zoom.value,a.strokeStyle=xa.strokeColor,$l(e)&&(a.strokeStyle=o.theme===ya.LIGHT?"#7affd7":"#1d8264"),xa.radius&&a.roundRect?(a.beginPath(),a.roundRect(0,0,e.width,e.height,xa.radius/o.zoom.value),a.stroke(),a.closePath()):a.strokeRect(0,0,e.width,e.height),a.restore());break;case"freedraw":if(Js.generateElementShape(e,null),i.isExporting){var c=Ip(e,t),d=(0,f.A)(c,4),u=d[0],h=d[1],p=d[2],U=d[3],m=(u+p)/2+o.scrollX,g=(h+U)/2+o.scrollY,b=(p-u)/2-(e.x-u),y=(U-h)/2-(e.y-h);a.save(),a.translate(m,g),a.rotate(e.angle),a.translate(-b,-y),Wh(e,r,a,i,o),a.restore()}else{var x=Gh(e,n,i,o);if(!x)return;Vh(x,a,i,o,n)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":case"iframe":case"embeddable":if(Js.generateElementShape(e,i),i.isExporting){var w=Ip(e,t),A=(0,f.A)(w,4),E=A[0],k=A[1],S=A[2],M=A[3],C=(E+S)/2+o.scrollX,j=(k+M)/2+o.scrollY,I=(S-E)/2-(e.x-E),D=(M-k)/2-(e.y-k);if(Kl(e)){var T=ZU(e,t);if(ns(T)){var _=PU.getBoundTextElementPosition(T,e,t);I=(S-E)/2-(_.x-E),D=(M-k)/2-(_.y-k)}}a.save(),a.translate(C,j),Nh(e,i,o)&&(a.filter="none");var L=YU(e,t);if(ns(e)&&L){var R=document.createElement("canvas"),P=R.getContext("2d"),N=Math.max(Vo(E,S),Vo(k,M)),F=Fh(e);R.width=N*o.exportScale+10*F*o.exportScale,R.height=N*o.exportScale+10*F*o.exportScale,P.translate(R.width/2,R.height/2),P.scale(o.exportScale,o.exportScale),I=e.width/2-(e.x-E),D=e.height/2-(e.y-k),P.rotate(e.angle);var O=In.A.canvas(R);P.translate(-I,-D),Wh(e,O,P,i,o),P.translate(I,D),P.rotate(-e.angle);var z=Ip(L,t),B=(0,f.A)(z,6),H=(E+S)/2-B[4],W=(k+M)/2-B[5];P.translate(-H,-W),P.clearRect(-L.width/2,-L.height/2,L.width,L.height),a.scale(1/o.exportScale,1/o.exportScale),a.drawImage(R,-R.width/2,-R.height/2,R.width,R.height)}else a.rotate(e.angle),"image"===e.type&&a.scale(e.scale[0],e.scale[1]),a.translate(-I,-D),Wh(e,r,a,i,o);a.restore()}else{var X=Gh(e,n,i,o);if(!X)return;var G=a.imageSmoothingEnabled;if(!(null!==o&&void 0!==o&&o.shouldCacheIgnoreZoom)&&(!e.angle||function(e){return Math.abs(Math.sin(2*e))<1e-4}(e.angle))&&(a.imageSmoothingEnabled=!1),e.id===o.croppingElementId&&Gl(X.element)&&null!==X.element.crop){a.save(),a.globalAlpha=.1;var V=zh(function(e,t){if(e.crop){var n=Dh(e),r=n.width,a=n.height,i=Ip(e,t),o=(0,f.A)(i,6),l=o[0],s=o[1],c=o[2],d=o[3],u=o[4],h=o[5],p=Vi(ao(Ji(l,s),Ji(u,h),e.angle)),U=Vi(ao(Ji(c,s),Ji(u,h),e.angle)),m=Qi(qi(U,p)),g=qi(Vi(ao(Ji(l,d),Ji(u,h),e.angle)),p),b=Qi(g),y=Th(e.crop,e.scale),x=y.cropX,w=y.cropY,A=Ki(Ki(p,$i(m,-x*r/e.crop.naturalWidth)),$i(b,-w*a/e.crop.naturalHeight)),E=to(Ki(Ki(A,$i(m,r/2)),$i(b,a/2))),k=ao(to(A),E,-e.angle);return(0,v.A)((0,v.A)({},e),{},{x:k[0],y:k[1],width:r,height:a,crop:null})}return e}(X.element,t),n,o.zoom,i,o);V&&Vh(V,a,i,o,n),a.restore()}Vh(X,a,i,o,n),a.imageSmoothingEnabled=G}break;default:throw new Error("Unimplemented type ".concat(e.type))}a.globalAlpha=1},Kh=new WeakMap([]);function qh(e){var t=e.simulatePressure?e.points:e.points.length?e.points.map((function(t,n){var r=(0,f.A)(t,2);return[r[0],r[1],e.pressures[n]]})):[[0,0,.5]],n={simulatePressure:e.simulatePressure,size:4.25*e.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(e){return Math.sin(e*Math.PI/2)},last:!!e.lastCommittedPoint};return function(e){if(!e.length)return"";var t=e.length-1;return e.reduce((function(e,n,r,a){return r===t?e.push(n,$h(n,a[0]),"L",a[0],"Z"):e.push(n,$h(n,a[r+1])),e}),["M",e[0],"Q"]).join(" ").replace(Qh,"$1")}(Yn(t,n))}function $h(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}var Qh=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g;var Jh=function(e){return"rectangle"===e||"iframe"===e||"embeddable"===e||"ellipse"===e||"diamond"===e||"line"===e||"freedraw"===e},ep=function(e){return"image"!==e&&"frame"!==e&&"magicframe"!==e},tp=function(e){return"rectangle"===e||"iframe"===e||"embeddable"===e||"ellipse"===e||"diamond"===e||"freedraw"===e||"arrow"===e||"line"===e},np=function(e){return"rectangle"===e||"iframe"===e||"embeddable"===e||"ellipse"===e||"diamond"===e||"arrow"===e||"line"===e},rp=function(e){return"rectangle"===e||"iframe"===e||"embeddable"===e||"line"===e||"diamond"===e||"image"===e},ap=function(e){return"arrow"===e},ip=function(e){return"arrow"===e},op=[1,0],lp=[0,1],sp=[-1,0],cp=[0,-1],dp=function(e,t){var n=Xi(Math.atan2(t[1]-e[1],t[0]-e[0]));return n>=315||n<45?cp:n>=45&&n<135?op:n>=135&&n<225?lp:sp},up=function(e){var t=(0,f.A)(e,2),n=t[0],r=t[1],a=Math.abs(n),i=Math.abs(r);return n>i?op:n<=-i?sp:r>a?lp:cp},fp=function(e,t){return up(Vi(e,t))},hp=function(e,t){return vp(fp(e,t))},pp=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vp=function(e){return pp(e,op)||pp(e,sp)},Up=function(e,t,n){var r=Yp(t);if("diamond"===e.type){if(n[0]<e.x)return sp;if(n[1]<e.y)return cp;if(n[0]>e.x+e.width)return op;if(n[1]>e.y+e.height)return lp;var a=ao(co(Ji(e.x+e.width/2,e.y),r,2),r,e.angle),i=ao(co(Ji(e.x+e.width,e.y+e.height/2),r,2),r,e.angle),o=ao(co(Ji(e.x+e.width/2,e.y+e.height),r,2),r,e.angle),l=ao(co(Ji(e.x,e.y+e.height/2),r,2),r,e.angle);return Do([a,i,r],n)?dp(a,i):Do([i,o,r],n)?dp(i,o):Do([o,l,r],n)?dp(o,l):dp(l,a)}var s=co(Ji(t[0],t[1]),r,2),c=co(Ji(t[2],t[1]),r,2),d=co(Ji(t[0],t[3]),r,2),u=co(Ji(t[2],t[3]),r,2);return Do([s,c,r],n)?cp:Do([c,u,r],n)?op:Do([u,d,r],n)?lp:sp},mp=function(e){return[0===e[0]?0:e[0]>0?-1:1,0===e[1]?0:e[1]>0?-1:1]},gp=function(e){return[8,8+e]},bp=function(e){return[1.5,6+e]};function yp(e){var t=e.roughness,n=Math.max(e.width,e.height),r=Math.min(e.width,e.height);return r>=20&&n>=50||r>=15&&e.roundness&&rp(e.type)||ts(e)&&n>=50?t:Math.min(t/(n<10?3:2),2.5)}var xp=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={seed:e.seed,strokeLineDash:"dashed"===e.strokeStyle?gp(e.strokeWidth):"dotted"===e.strokeStyle?bp(e.strokeWidth):void 0,disableMultiStroke:"solid"!==e.strokeStyle,strokeWidth:"solid"!==e.strokeStyle?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:yp(e),stroke:e.strokeColor,preserveVertices:t||e.roughness<ui};switch(e.type){case"rectangle":case"iframe":case"embeddable":case"diamond":case"ellipse":return n.fillStyle=e.fillStyle,n.fill=al(e.backgroundColor)?void 0:e.backgroundColor,"ellipse"===e.type&&(n.curveFitting=1),n;case"line":case"freedraw":return Mh(e.points)&&(n.fillStyle=e.fillStyle,n.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor),n;case"arrow":return n;default:throw new Error("Unimplemented type ".concat(e.type))}},wp=function(e,t,n){return Zl(e)&&(t||Vl(e)&&!0!==(null===n||void 0===n?void 0:n.get(e.id)))&&al(e.backgroundColor)&&al(e.strokeColor)?(0,v.A)((0,v.A)({},e),{},{roughness:0,backgroundColor:"#d3d3d3",fillStyle:"solid"}):Yl(e)?(0,v.A)((0,v.A)({},e),{},{strokeColor:al(e.strokeColor)?"#000000":e.strokeColor,backgroundColor:al(e.backgroundColor)?"#f4f4f6":e.backgroundColor}):e},Ap=function(e,t,n,r,a,i,o){var l=Fp(e,t,n,r);if(null===l)return[];var s=function(e,t){if(null===e)return[];var n=(0,f.A)(e,6),r=n[2],i=n[3],o=n[4],l=n[5];return[a.line(r,i,o,l,t)]};switch(r){case"dot":case"circle":case"circle_outline":var c=(0,f.A)(l,3),d=c[0],u=c[1],p=c[2];return delete i.strokeLineDash,[a.circle(d,u,p,(0,v.A)((0,v.A)({},i),{},{fill:"circle_outline"===r?o:e.strokeColor,fillStyle:"solid",stroke:e.strokeColor,roughness:Math.min(.5,i.roughness||0)}))];case"triangle":case"triangle_outline":var U=(0,f.A)(l,6),m=U[0],g=U[1],b=U[2],y=U[3],x=U[4],w=U[5];return delete i.strokeLineDash,[a.polygon([[m,g],[b,y],[x,w],[m,g]],(0,v.A)((0,v.A)({},i),{},{fill:"triangle_outline"===r?o:e.strokeColor,fillStyle:"solid",roughness:Math.min(1,i.roughness||0)}))];case"diamond":case"diamond_outline":var A=(0,f.A)(l,8),E=A[0],k=A[1],S=A[2],M=A[3],C=A[4],j=A[5],I=A[6],D=A[7];return delete i.strokeLineDash,[a.polygon([[E,k],[S,M],[C,j],[I,D],[E,k]],(0,v.A)((0,v.A)({},i),{},{fill:"diamond_outline"===r?o:e.strokeColor,fillStyle:"solid",roughness:Math.min(1,i.roughness||0)}))];case"crowfoot_one":return s(l,i);default:var T=(0,f.A)(l,6),_=T[0],L=T[1],R=T[2],P=T[3],N=T[4],F=T[5];if("dotted"===e.strokeStyle){var O=bp(e.strokeWidth-1);i.strokeLineDash=[O[0],O[1]-1]}else delete i.strokeLineDash;return i.roughness=Math.min(1,i.roughness||0),[a.line(R,P,_,L,i),a.line(N,F,_,L,i)].concat((0,h.A)("crowfoot_one_or_many"===r?s(Fp(e,t,n,"crowfoot_one"),i):[]))}},Ep=function(e,t,n){var r=n.isExporting,a=n.canvasBackgroundColor,i=n.embedsValidationStatus;switch(e.type){case"rectangle":case"iframe":case"embeddable":var o;if(e.roundness){var l=e.width,s=e.height,c=Sh(Math.min(l,s),e);o=t.path("M ".concat(c," 0 L ").concat(l-c," 0 Q ").concat(l," 0, ").concat(l," ").concat(c," L ").concat(l," ").concat(s-c," Q ").concat(l," ").concat(s,", ").concat(l-c," ").concat(s," L ").concat(c," ").concat(s," Q 0 ").concat(s,", 0 ").concat(s-c," L 0 ").concat(c," Q 0 0, ").concat(c," 0"),xp(wp(e,r,i),!0))}else o=t.rectangle(0,0,e.width,e.height,xp(wp(e,r,i),!1));return o;case"diamond":var d,u=Tp(e),p=(0,f.A)(u,8),U=p[0],m=p[1],g=p[2],b=p[3],y=p[4],x=p[5],w=p[6],A=p[7];if(e.roundness){var E=Sh(Math.abs(U-w),e),k=Sh(Math.abs(b-m),e);d=t.path("M ".concat(U+E," ").concat(m+k," L ").concat(g-E," ").concat(b-k,"\n            C ").concat(g," ").concat(b,", ").concat(g," ").concat(b,", ").concat(g-E," ").concat(b+k,"\n            L ").concat(y+E," ").concat(x-k,"\n            C ").concat(y," ").concat(x,", ").concat(y," ").concat(x,", ").concat(y-E," ").concat(x-k,"\n            L ").concat(w+E," ").concat(A+k,"\n            C ").concat(w," ").concat(A,", ").concat(w," ").concat(A,", ").concat(w+E," ").concat(A-k,"\n            L ").concat(U-E," ").concat(m+k,"\n            C ").concat(U," ").concat(m,", ").concat(U," ").concat(m,", ").concat(U+E," ").concat(m+k),xp(e,!0))}else d=t.polygon([[U,m],[g,b],[y,x],[w,A]],xp(e));return d;case"ellipse":return t.ellipse(e.width/2,e.height/2,e.width,e.height,xp(e));case"line":case"arrow":var S,M=xp(e),C=e.points.length?e.points:[Ji(0,0)];if(rs(e)?C.every((function(e){return Math.abs(e[0])<=1e6&&Math.abs(e[1])<=1e6}))?S=[t.path(kp(C,16),xp(e,!0))]:(console.error("Elbow arrow with extreme point positions detected. Arrow not rendered.",e.id,JSON.stringify(C)),S=[]):S=e.roundness?[t.curve(C,M)]:M.fill?[t.polygon(C,M)]:[t.linearPath(C,M)],"arrow"===e.type){var j=e.startArrowhead,I=void 0===j?null:j,D=e.endArrowhead,T=void 0===D?"arrow":D;if(null!==I){var _,L=Ap(e,S,"start",I,t,M,a);(_=S).push.apply(_,(0,h.A)(L))}if(null!==T){var R,P=Ap(e,S,"end",T,t,M,a);(R=S).push.apply(R,(0,h.A)(P))}}return S;case"freedraw":var N;if(function(e){var t=qh(e),n=new Path2D(t);Kh.set(e,n)}(e),Mh(e.points)){var F=function(e,t){return nr(e,0,e.length,t)}(e.points,.75);N=t.curve(F,(0,v.A)((0,v.A)({},xp(e)),{},{stroke:"none"}))}else N=null;return N;case"frame":case"magicframe":case"text":case"image":return null;default:return kl(e,"generateElementShape(): Unimplemented type ".concat(null===e||void 0===e?void 0:e.type)),null}},kp=function(e,t){for(var n=[],r=1;r<e.length-1;r+=1){var a=e[r-1],i=e[r+1],o=e[r],l=hp(o,a),s=hp(i,o),c=Math.min(t,lo(e[r],i)/2,lo(e[r],a)/2);l?a[0]<o[0]?n.push([e[r][0]-c,e[r][1]]):n.push([e[r][0]+c,e[r][1]]):a[1]<o[1]?n.push([e[r][0],e[r][1]-c]):n.push([e[r][0],e[r][1]+c]),n.push(e[r]),s?i[0]<o[0]?n.push([e[r][0]-c,e[r][1]]):n.push([e[r][0]+c,e[r][1]]):i[1]<o[1]?n.push([e[r][0],e[r][1]-c]):n.push([e[r][0],e[r][1]+c])}for(var d=["M ".concat(e[0][0]," ").concat(e[0][1])],u=0;u<n.length;u+=3)d.push("L ".concat(n[u][0]," ").concat(n[u][1])),d.push("Q ".concat(n[u+1][0]," ").concat(n[u+1][1],", ").concat(n[u+2][0]," ").concat(n[u+2][1]));return d.push("L ".concat(e[e.length-1][0]," ").concat(e[e.length-1][1])),d.join(" ")},Sp=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{width:Math.max.apply(Math,(0,h.A)(t))-Math.min.apply(Math,(0,h.A)(t)),height:Math.max.apply(Math,(0,h.A)(n))-Math.min.apply(Math,(0,h.A)(n))}},Mp=function(e,t,n,r){var a=n.map((function(t){return t[e]})),i=Math.max.apply(Math,(0,h.A)(a)),o=Math.min.apply(Math,(0,h.A)(a)),l=i-o,s=0===l?1:t/l,c=1/0,d=n.map((function(t){var n=t[e]*s,r=(0,h.A)(t);return r[e]=n,n<c&&(c=n),r}));if(!r||2===d.length)return d;var u=o-c;return d.map((function(t){return t.map((function(t,n){return n===e?t+u:t}))}))},Cp=function(){function e(){(0,l.A)(this,e)}return(0,s.A)(e,null,[{key:"getBounds",value:function(t,n){var r=e.boundsCache.get(t);if(null!==r&&void 0!==r&&r.version&&r.version===t.version&&!fs(t))return r.bounds;var a=e.calculateBounds(t,n);return e.boundsCache.set(t,{version:t.version,bounds:a}),a}},{key:"calculateBounds",value:function(e,t){var n,r=Ip(e,t),a=(0,f.A)(r,6),i=a[0],o=a[1],l=a[2],s=a[3],c=a[4],d=a[5];if(Jl(e)){var u=Pp(e.points.map((function(t){var n=(0,f.A)(t,2);return ao(Ji(n[0],n[1]),Ji(c-e.x,d-e.y),e.angle)}))),h=(0,f.A)(u,4),p=h[0],v=h[1],U=h[2],m=h[3];return[p+e.x,v+e.y,U+e.x,m+e.y]}if(ts(e))n=Op(e,c,d,t);else if("diamond"===e.type){var g=ao(Ji(c,o),Ji(c,d),e.angle),b=(0,f.A)(g,2),y=b[0],x=b[1],w=ao(Ji(c,s),Ji(c,d),e.angle),A=(0,f.A)(w,2),E=A[0],k=A[1],S=ao(Ji(i,d),Ji(c,d),e.angle),M=(0,f.A)(S,2),C=M[0],j=M[1],I=ao(Ji(l,d),Ji(c,d),e.angle),D=(0,f.A)(I,2),T=D[0],_=D[1];n=[Math.min(y,E,C,T),Math.min(x,k,j,_),Math.max(y,E,C,T),Math.max(x,k,j,_)]}else if("ellipse"===e.type){var L=(l-i)/2,R=(s-o)/2,P=Math.cos(e.angle),N=Math.sin(e.angle),F=Math.hypot(L*P,R*N),O=Math.hypot(R*P,L*N);n=[c-F,d-O,c+F,d+O]}else{var z=ao(Ji(i,o),Ji(c,d),e.angle),B=(0,f.A)(z,2),H=B[0],W=B[1],X=ao(Ji(i,s),Ji(c,d),e.angle),G=(0,f.A)(X,2),V=G[0],Y=G[1],Z=ao(Ji(l,s),Ji(c,d),e.angle),K=(0,f.A)(Z,2),q=K[0],$=K[1],Q=ao(Ji(l,o),Ji(c,d),e.angle),J=(0,f.A)(Q,2),ee=J[0],te=J[1];n=[Math.min(H,V,q,ee),Math.min(W,Y,$,te),Math.max(H,V,q,ee),Math.max(W,Y,$,te)]}return n}}])}();(0,m.d)(Cp,"boundsCache",new WeakMap);var jp=Cp,Ip=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Jl(e))return Np(e);if(ts(e))return PU.getElementAbsoluteCoords(e,t,n);if(Kl(e)){var r=t?ZU(e,t):null;if(ns(r)){var a=PU.getBoundTextElementPosition(r,e,t),i=a.x,o=a.y;return[i,o,i+e.width,o+e.height,i+e.width/2,o+e.height/2]}}return[e.x,e.y,e.x+e.width,e.y+e.height,e.x+e.width/2,e.y+e.height/2]},Dp=function(e,t){var n=Ip(e,t),r=(0,f.A)(n,6),a=r[0],i=r[1],o=r[2],l=r[3],s=r[4],c=r[5],d=Ji(s,c);if(ts(e)||Jl(e)){for(var u=[],h=0;h<e.points.length-1;)u.push(ho(ao(Ji(e.points[h][0]+e.x,e.points[h][1]+e.y),d,e.angle),ao(Ji(e.points[h+1][0]+e.x,e.points[h+1][1]+e.y),d,e.angle))),h++;return u}var p=[[a,i],[o,i],[a,l],[o,l],[s,i],[s,l],[a,c],[o,c]].map((function(t){return ao(t,d,e.angle)})),v=(0,f.A)(p,8),U=v[0],m=v[1],g=v[2],b=v[3],y=v[4],x=v[5],w=v[6],A=v[7];return"diamond"===e.type?[ho(y,w),ho(y,A),ho(x,w),ho(x,A)]:"ellipse"===e.type?[ho(y,w),ho(y,A),ho(x,w),ho(x,A),ho(y,w),ho(y,A),ho(x,w),ho(x,A)]:[ho(U,m),ho(g,b),ho(U,g),ho(m,b),ho(U,A),ho(g,A),ho(m,w),ho(b,w)]},Tp=function(e){var t=Math.floor(e.width/2)+1,n=e.width,r=Math.floor(e.height/2)+1;return[t,0,n,r,t,e.height,0,r]},_p=function(e,t,n,r,a){var i=1-e;return Math.pow(i,3)*t+3*Math.pow(i,2)*e*n+3*i*Math.pow(e,2)*r+Math.pow(e,3)*a},Lp=function(e,t,n,r){var a=t-e,i=n-t,o=3*a-6*i+3*(r-n),l=6*i-6*a,s=3*a,c=l*l-4*o*s;if(!(c>=0))return!1;var d=null,u=null,f=1/0,h=1/0;return 0===o?f=h=-s/l:(f=(-l+Math.sqrt(c))/(2*o),h=(-l-Math.sqrt(c))/(2*o)),f>=0&&f<=1&&(d=_p(f,e,t,n,r)),h>=0&&h<=1&&(u=_p(h,e,t,n,r)),[d,u]},Rp=function(e,t){var n=Ji(0,0),r=e.reduce((function(e,r){var a=r.op,i=r.data;if("move"===a){var o=eo(i);Sl(null!=o,"Op data is not a point"),n=o}else if("bcurveTo"===a){var l=Ji(i[0],i[1]),s=Ji(i[2],i[3]),c=Ji(i[4],i[5]),d=t?t(l):l,u=t?t(s):s,p=t?t(c):c,v=t?t(n):n;n=c;var U=function(e,t,n,r){var a=Lp(e[0],t[0],n[0],r[0]),i=Lp(e[1],t[1],n[1],r[1]),o=Math.min(e[0],r[0]),l=Math.max(e[0],r[0]);if(a){var s=a.filter((function(e){return null!==e}));o=Math.min.apply(Math,[o].concat((0,h.A)(s))),l=Math.max.apply(Math,[l].concat((0,h.A)(s)))}var c=Math.min(e[1],r[1]),d=Math.max(e[1],r[1]);if(i){var u=i.filter((function(e){return null!==e}));c=Math.min.apply(Math,[c].concat((0,h.A)(u))),d=Math.max.apply(Math,[d].concat((0,h.A)(u)))}return[o,c,l,d]}(v,d,u,p),m=(0,f.A)(U,4),g=m[0],b=m[1],y=m[2],x=m[3];e.minX=Math.min(e.minX,g),e.minY=Math.min(e.minY,b),e.maxX=Math.max(e.maxX,y),e.maxY=Math.max(e.maxY,x)}return e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r.minX,r.minY,r.maxX,r.maxY]},Pp=function(e){var t,n=1/0,r=1/0,a=-1/0,i=-1/0,o=(0,u.A)(e);try{for(o.s();!(t=o.n()).done;){var l=(0,f.A)(t.value,2),s=l[0],c=l[1];n=Math.min(n,s),r=Math.min(r,c),a=Math.max(a,s),i=Math.max(i,c)}}catch(Be){o.e(Be)}finally{o.f()}return[n,r,a,i]},Np=function(e){var t=Pp(e.points),n=(0,f.A)(t,4),r=n[0],a=n[1],i=n[2],o=n[3],l=r+e.x,s=a+e.y,c=i+e.x,d=o+e.y;return[l,s,c,d,(l+c)/2,(s+d)/2]},Fp=function(e,t,n,r){if(t.length<1)return null;var a=Bf(t[0]);if(a.length<1)return null;var i="start"===n?1:a.length-1,o=a[i].data;Sl(6===o.length,"Op data length is not 6");var l=Ji(o[4],o[5]),s=Ji(o[2],o[3]),c=Ji(o[0],o[1]),d=a[i-1],u=Ji(0,0);if("move"===d.op){var h=eo(d.data);Sl(null!=h,"Op data is not a point"),u=h}else"bcurveTo"===d.op&&(u=Ji(d.data[4],d.data[5]));var p,v=function(e,t){return Math.pow(1-e,3)*l[t]+3*e*Math.pow(1-e,2)*s[t]+3*Math.pow(e,2)*(1-e)*c[t]+u[t]*Math.pow(e,3)},U="start"===n?u:l,m=(0,f.A)(U,2),g=m[0],b=m[1],y=[v(.3,0),v(.3,1)],x=y[0],w=y[1],A=Math.hypot(g-x,b-w),E=(g-x)/A,k=(b-w)/A,S=function(e){switch(e){case"arrow":return 25;case"diamond":case"diamond_outline":return 12;case"crowfoot_many":case"crowfoot_one":case"crowfoot_one_or_many":return 20;default:return 15}}(r),M="end"===n?e.points[e.points.length-1]:e.points[0],C=(0,f.A)(M,2),j=C[0],I=C[1],D=e.points.length>1?"end"===n?e.points[e.points.length-2]:e.points[1]:[0,0],T=(0,f.A)(D,2),_=T[0],L=T[1];p=Math.hypot(j-_,I-L);var R=Math.min(S,p*("diamond"===r||"diamond_outline"===r?.25:.5)),P=g-E*R,N=b-k*R;if("dot"===r||"circle"===r||"circle_outline"===r)return[g,b,Math.hypot(N-b,P-g)+e.strokeWidth-2];var F=function(e){switch(e){case"bar":return 90;case"arrow":return 20;default:return 25}}(r);if("crowfoot_many"===r||"crowfoot_one_or_many"===r){var O=ao(Ji(g,b),Ji(P,N),Wi(-F)),z=(0,f.A)(O,2),B=z[0],H=z[1],W=ao(Ji(g,b),Ji(P,N),Wi(F)),X=(0,f.A)(W,2);return[P,N,B,H,X[0],X[1]]}var G=ao(Ji(P,N),Ji(g,b),-F*Math.PI/180),V=(0,f.A)(G,2),Y=V[0],Z=V[1],K=ao(Ji(P,N),Ji(g,b),Wi(F)),q=(0,f.A)(K,2),$=q[0],Q=q[1];if("diamond"===r||"diamond_outline"===r){var J,ee;if("start"===n){var te=e.points.length>1?e.points[1]:[0,0],ne=(0,f.A)(te,2),re=ne[0],ae=ne[1],ie=ao(Ji(g+2*R,b),Ji(g,b),Math.atan2(ae-b,re-g)),oe=(0,f.A)(ie,2);J=oe[0],ee=oe[1]}else{var le=e.points.length>1?e.points[e.points.length-2]:[0,0],se=(0,f.A)(le,2),ce=se[0],de=se[1],ue=ao(Ji(g-2*R,b),Ji(g,b),Math.atan2(b-de,g-ce)),fe=(0,f.A)(ue,2);J=fe[0],ee=fe[1]}return[g,b,Y,Z,J,ee,$,Q]}return[g,b,Y,Z,$,Q]},Op=function(e,t,n,r){var a,i,o=YU(e,r);if(e.points.length<2){var l=(0,f.A)(e.points[0],2),s=l[0],c=l[1],d=ao(Ji(e.x+s,e.y+c),Ji(t,n),e.angle),u=(0,f.A)(d,2),h=u[0],p=u[1],v=[h,p,h,p];if(o){var U=PU.getMinMaxXYWithBoundText(e,r,[h,p,h,p],o);v=[U[0],U[1],U[2],U[3]]}return v}var m=null!==(a=null===(i=Js.get(e))||void 0===i?void 0:i[0])&&void 0!==a?a:function(e){var t=In.A.generator(),n=xp(e);return t[e.roundness?"curve":n.fill?"polygon":"linearPath"](e.points,n)}(e),g=Bf(m),b=Rp(g,(function(r){var a=(0,f.A)(r,2),i=a[0],o=a[1];return ao(Ji(e.x+i,e.y+o),Ji(t,n),e.angle)})),y=[b[0],b[1],b[2],b[3]];if(o){var x=PU.getMinMaxXYWithBoundText(e,r,y,o);y=[x[0],x[1],x[2],x[3]]}return y},zp=function(e,t){return jp.getBounds(e,t)},Bp=function(e,t){if(!e.length)return[0,0,0,0];var n=1/0,r=-1/0,a=1/0,i=-1/0,o=t||ul(e);return e.forEach((function(e){var t=zp(e,o),l=(0,f.A)(t,4),s=l[0],c=l[1],d=l[2],u=l[3];n=Math.min(n,s),a=Math.min(a,c),r=Math.max(r,d),i=Math.max(i,u)})),[n,a,r,i]},Hp=function(e,t){var n=Bp(e),r=(0,f.A)(n,4),a=r[0],i=r[1],o=r[2],l=r[3];return[a+t.x,i+t.y,o+t.x,l+t.y]},Wp=function(e,t,n,r){if(!ts(e)&&!Jl(e))return[e.x,e.y,e.x+t,e.y+n];var a,i=Mp(0,t,Mp(1,n,e.points,r),r);if(Jl(e))a=Pp(i);else{var o=In.A.generator(),l=e.roundness?o.curve(i,xp(e)):o.linearPath(i,xp(e)),s=Bf(l);a=Rp(s)}var c=a,d=(0,f.A)(c,4),u=d[0],h=d[1],p=d[2],v=d[3];return[u+e.x,h+e.y,p+e.x,v+e.y]},Xp=function(e,t){var n=In.A.generator(),r=null==e.roundness?n.linearPath(t,xp(e)):n.curve(t,xp(e)),a=Bf(r),i=Rp(a),o=(0,f.A)(i,4),l=o[0],s=o[1],c=o[2],d=o[3];return[l+e.x,s+e.y,c+e.x,d+e.y]},Gp=function(e){var t=Bp(e),n=(0,f.A)(t,4),r=n[0],a=n[1],i=n[2],o=n[3];return{minX:r,minY:a,maxX:i,maxY:o,width:i-r,height:o-a,midX:(r+i)/2,midY:(a+o)/2}},Vp=function(e){var t=e.scrollX,n=e.scrollY,r=e.width,a=e.height,i=e.zoom;return[-t,-n,-t+r/i.value,-n+a/i.value]},Yp=function(e){return Ji(e[0]+(e[2]-e[0])/2,e[1]+(e[3]-e[1])/2)},Zp=function(e,t){switch(e.type){case"rectangle":case"image":case"text":case"iframe":case"embeddable":case"frame":case"magicframe":return Kp(e,t);case"diamond":return qp(e,t);case"ellipse":return $p(e,t)}},Kp=function(e,t){var n=ao(t,Ji(e.x+e.width/2,e.y+e.height/2),-e.angle),r=Qf(e),a=(0,f.A)(r,2),i=a[0],o=a[1];return Math.min.apply(Math,(0,h.A)(i.map((function(e){return vo(n,e)}))).concat((0,h.A)(o.map((function(e){return wo(e,n)})).filter((function(e){return null!==e})))))},qp=function(e,t){var n=ao(t,Ji(e.x+e.width/2,e.y+e.height/2),-e.angle),r=Jf(e),a=(0,f.A)(r,2),i=a[0],o=a[1];return Math.min.apply(Math,(0,h.A)(i.map((function(e){return vo(n,e)}))).concat((0,h.A)(o.map((function(e){return wo(e,n)})).filter((function(e){return null!==e})))))},$p=function(e,t){var n=Ji(e.x+e.width/2,e.y+e.height/2);return function(e,t){for(var n=t.halfWidth,r=t.halfHeight,a=t.center,i=n,o=r,l=Ki(Vi(e),$i(Vi(a),-1)),s=Math.abs(l[0]),c=Math.abs(l[1]),d=.707,u=.707,f=0;f<3;f++){var h=i*d,p=o*u,v=(i*i-o*o)*Math.pow(d,3)/i,U=(o*o-i*i)*Math.pow(u,3)/o,m=h-v,g=p-U,b=s-v,y=c-U,x=Math.hypot(g,m),w=Math.hypot(y,b);d=Math.min(1,Math.max(0,(b*x/w+v)/i)),u=Math.min(1,Math.max(0,(y*x/w+U)/o));var A=Math.hypot(u,d);d/=A,u/=A}var E=i*d*Math.sign(l[0]),k=o*u*Math.sign(l[1]);return lo(to(l),Ji(E,k))}(ao(t,n,-e.angle),$f(n,e.width/2,e.height/2))},Qp=function(e){return!e[dh.CTRL_OR_CMD]},Jp=function(e){return e.isBindingEnabled},ev=10,tv=4,nv=function(e,t,n,r,a){var i=new Set,o=new Set;rv(e,t,n,"start",i,o,r),rv(e,n,t,"end",i,o,r),function(e,t){var n=[];return t.forEach((function(t){var r=e.getNonDeletedElement(t);null!=r&&n.push(r)})),n}(a,Array.from(o).filter((function(e){return!i.has(e)}))).forEach((function(t){var n;Ox(t,{boundElements:null===(n=t.boundElements)||void 0===n?void 0:n.filter((function(t){return"arrow"!==t.type||t.id!==e.id}))})}))},rv=function(e,t,n,r,a,i,o){if("keep"!==t){if(null===t){var l=fv(e,r);return void(null!=l&&i.add(l))}uv(e)?(null==n||("keep"===n?!cv(e,t,r):"start"===r||n.id!==t.id))&&(sv(e,t,r,o),a.add(t.id)):(sv(e,t,r,o),a.add(t.id))}},av=function(e,t,n){return["start","end"].map((function(r){return function(e,t,n,r){var a,i,o=Cv(e,t,n),l="start"===t?null===(a=e.startBinding)||void 0===a?void 0:a.elementId:null===(i=e.endBinding)||void 0===i?void 0:i.elementId;if(l){var s=n.get(l);if(ls(s)&&_v(s,o,n,r))return s}return null}(e,r,t,n)}))},iv=function(e,t,n,r,a,i,o){e.forEach((function(e){var l=null!==i&&void 0!==i&&i.length?function(e,t,n,r,a,i){var o=e.points.length-1,l=n.findIndex((function(e){return 0===e}))>-1,s=n.findIndex((function(e){return e===o}))>-1;return[l?t?Mv(e,"start",r,a,i):null:rs(e)?"keep":Mv(e,"start",r,a,i),s?t?Mv(e,"end",r,a,i):null:rs(e)?"keep":Mv(e,"end",r,a,i)]}(e,a,null!==i&&void 0!==i?i:[],t,n,o):function(e,t,n,r,a){if(rs(e))return["keep","keep"];var i=av(e,t,a),o=(0,f.A)(i,2),l=o[0],s=o[1];return[l&&r?Mv(e,"start",t,n,a):null,s&&r?Mv(e,"end",t,n,a):null]}(e,t,n,a,o),s=(0,f.A)(l,2),c=s[0],d=s[1];nv(e,c,d,t,r)}))},ov=function(e,t,n){return e.length>50?[]:e.filter(ts).flatMap((function(e){return av(e,t,n)})).filter((function(e){return null!==e})).filter((function(t){return 0===e.filter((function(e){return e.id===(null===t||void 0===t?void 0:t.id)})).length}))},lv=function(e,t,n,r,a){null!=t.startBoundElement&&sv(e,t.startBoundElement,"start",r);var i=hv(n,a,r,t.zoom,rs(e),rs(e));null!==i&&(cv(e,i,"end")||sv(e,i,"end",r))},sv=function(e,t,n,r){if(ns(e)){var a=(0,v.A)({elementId:t.id},rs(e)?(0,v.A)((0,v.A)({},kv(e,t,n,r)),{},{focus:0,gap:0}):(0,v.A)({},function(e,t){var n=e.gap;return n>Lv(t,t.width,t.height)&&(n=ev+tv),(0,v.A)((0,v.A)({},e),{},{gap:n})}(Uv(e,t,n,r),t)));Ox(e,(0,p.default)({},"start"===n?"startBinding":"endBinding",a)),ul(t.boundElements||[]).has(e.id)||Ox(t,{boundElements:(t.boundElements||[]).concat({id:e.id,type:"arrow"})})}},cv=function(e,t,n){var r=e["start"===n?"endBinding":"startBinding"];return dv(e,null===r||void 0===r?void 0:r.elementId,t)},dv=function(e,t,n){return t===n.id&&uv(e)},uv=function(e){return e.points.length<3},fv=function(e,t){var n="start"===t?"startBinding":"endBinding",r=e[n];return null==r?null:(Ox(e,(0,p.default)({},n,null)),r.elementId)},hv=function(e,t,n,r,a,i){if(i){var o=!1,l=vv(t,(function(t){return ls(t,!1)&&_v(t,e,n,r,(a||!il(t))&&!Ql(t))})).filter((function(e){return!o&&(il(e)||(o=!0),!0)}));if(!l||0===l.length)return null;if(1===l.length)return l[0];var s=l.filter((function(t){return _v(t,e,n,r,!1)}));return 1===s.length?s[0]:l.sort((function(e,t){return Math.pow(t.width,2)+Math.pow(t.height,2)-(Math.pow(e.width,2)+Math.pow(e.height,2))})).pop()}return pv(t,(function(t){return ls(t,!1)&&_v(t,e,n,r,(a||!il(t))&&!Ql(t))}))},pv=function(e,t){for(var n=null,r=e.length-1;r>=0;--r){var a=e[r];if(!a.isDeleted&&t(a)){n=a;break}}return n},vv=function(e,t){for(var n=[],r=e.length-1;r>=0;--r){var a=e[r];a.isDeleted||t(a)&&n.push(a)}return n},Uv=function(e,t,n,r){var a="start"===n?-1:1,i=-1===a?0:e.points.length-1,o=i-a,l=PU.getPointAtIndexGlobalCoordinates(e,i,r),s=PU.getPointAtIndexGlobalCoordinates(e,o,r);return{focus:Rv(t,s,l),gap:Math.max(1,Zp(t,l))}},mv=function(e,t,n){var r=null!==n&&void 0!==n?n:{},a=r.newSize,i=r.simultaneouslyUpdated,o=bv(i);ls(e)&&Fv(t,e,(function(n){var r,i;if(ts(n)&&!n.isDeleted&&gv(n,e)){var l=n.startBinding?t.get(n.startBinding.elementId):null,s=n.endBinding?t.get(n.endBinding.elementId):null,c=null,d=null;l&&s&&(c=zp(l,t),d=zp(s,t));var u={startBinding:Sv(e,n.startBinding,a),endBinding:Sv(e,n.endBinding,a)};if(o.has(n.id))Ox(n,u,!0);else{var h=Ov(t,n,(function(r,a){var i,o;if(r&&ls(r)&&("startBinding"===a||"endBinding"===a)&&(e.id===(null===(i=n[a])||void 0===i?void 0:i.elementId)||e.id===(null===(o=n["startBinding"===a?"endBinding":"startBinding"])||void 0===o?void 0:o.elementId)&&!function(e,t){if(null==e||null==t)return!1;var n=(0,f.A)(e,4),r=n[0],a=n[1],i=n[2],o=n[3],l=(0,f.A)(t,4),s=l[0],c=l[1],d=l[2],u=l[3];return r<d&&i>s&&a<u&&o>c}(c,d))){var l=Ev(n,a,u[a],r,t);if(l)return{index:"startBinding"===a?0:n.points.length-1,point:l}}return null})).filter((function(e){return null!==e}));PU.movePoints(n,h,(0,v.A)((0,v.A)({},e.id===(null===(r=n.startBinding)||void 0===r?void 0:r.elementId)?{startBinding:u.startBinding}:{}),e.id===(null===(i=n.endBinding)||void 0===i?void 0:i.elementId)?{endBinding:u.endBinding}:{}));var p=YU(n,t);p&&!p.isDeleted&&XU(n,t,!1)}}}))},gv=function(e,t){var n,r;return(null===(n=e.startBinding)||void 0===n?void 0:n.elementId)===t.id||(null===(r=e.endBinding)||void 0===r?void 0:r.elementId)===t.id},bv=function(e){return new Set((e||[]).map((function(e){return e.id})))},yv=function(e,t,n,r){var a=Zp(t,e);return a>Lv(t,t.width,t.height,r)?null:a},xv=function(e,t,n){var r=t&&Eh(t),a=e.points["start"===n?0:e.points.length-1],i=Ji(e.x+a[0],e.y+a[1]),o=function(e){return null!=e&&("rectangle"===e.type||"diamond"===e.type||"image"===e.type||"iframe"===e.type||"embeddable"===e.type||"frame"===e.type||"magicframe"===e.type||"text"===e.type&&!e.containerId)}(t)?Av(t,i):i;if(t&&r){var l=Yp(r),s=ih(t,ho(l,to($i(Qi(Vi(o,l)),Math.max(t.width,t.height)),l)))[0],c=lo(o,l),d=Math.max(lo(null!==s&&void 0!==s?s:o,l),1e-4),u=Ni(c/d,6);return!0===u>.9?c-d>5||so(o,s)<1e-4?o:to($i(Qi(Vi(o,null!==s&&void 0!==s?s:l)),u>1?5:-5),null!==s&&void 0!==s?s:l):wv(o,t,r)}return o},wv=function(e,t,n){var r=Yp(n),a=up(Vi(e,r));switch(!0){case pp(a,cp):return ao(Ji((n[0]+n[2])/2+.1,n[1]),r,t.angle);case pp(a,op):return ao(Ji(n[2],(n[1]+n[3])/2+.1),r,t.angle);case pp(a,lp):return ao(Ji((n[0]+n[2])/2-.1,n[3]),r,t.angle);default:return ao(Ji(n[0],(n[1]+n[3])/2-.1),r,t.angle)}},Av=function(e,t){var n=Ji(e.x+e.width/2,e.y+e.height/2),r=ao(t,n,-e.angle);return r[0]<e.x&&r[1]<e.y?r[1]-e.y>-5?ao(Ji(e.x-5,e.y),n,e.angle):ao(Ji(e.x,e.y-5),n,e.angle):r[0]<e.x&&r[1]>e.y+e.height?r[0]-e.x>-5?ao(Ji(e.x,e.y+e.height+5),n,e.angle):ao(Ji(e.x-5,e.y+e.height),n,e.angle):r[0]>e.x+e.width&&r[1]>e.y+e.height?r[0]-e.x<e.width+5?ao(Ji(e.x+e.width,e.y+e.height+5),n,e.angle):ao(Ji(e.x+e.width+5,e.y+e.height),n,e.angle):r[0]>e.x+e.width&&r[1]<e.y?r[0]-e.x<e.width+5?ao(Ji(e.x+e.width,e.y-5),n,e.angle):ao(Ji(e.x+e.width+5,e.y),n,e.angle):t},Ev=function(e,t,n,r,a){if(null==n||n.elementId!==r.id&&e.points.length>2)return null;var i="startBinding"===t?-1:1,o=-1===i?0:e.points.length-1;if(rs(e)&&ms(n)){var l,s=null!==(l=Xv(n.fixedPoint))&&void 0!==l?l:kv(e,r,"startBinding"===t?"start":"end",a).fixedPoint,c=Ji(r.x+r.width/2,r.y+r.height/2),d=ao(Ji(r.x+s[0]*r.width,r.y+s[1]*r.height),c,r.angle);return PU.pointFromAbsoluteCoords(e,d,a)}var u,f=o-i,h=PU.getPointAtIndexGlobalCoordinates(e,f,a),p=Pv(r,n.focus,h);if(0===n.gap)u=p;else{var v=PU.getPointAtIndexGlobalCoordinates(e,o,a),U=Ji(r.x+r.width/2,r.y+r.height/2),m=lo(h,v)+lo(h,U)+2*Math.max(r.width,r.height),g=ih(r,ho(h,to($i(Qi(Vi(p,h)),m),h)),n.gap).sort((function(e,t){return so(e,h)-so(t,h)}));u=g.length>1?g[0]:1===g.length?p:v}return PU.pointFromAbsoluteCoords(e,u,a)},kv=function(e,t,n,r){var a=[t.x,t.y,t.x+t.width,t.y+t.height],i=ao(xv(e,t,n),Ji(a[0]+(a[2]-a[0])/2,a[1]+(a[3]-a[1])/2),-t.angle);return{fixedPoint:Xv([(i[0]-t.x)/t.width,(i[1]-t.y)/t.height])}},Sv=function(e,t,n){if(null==t||null==n)return t;var r=n.width,a=n.height,i=e.width,o=e.height,l=Math.max(1,Math.min(Lv(e,r,a),t.gap*(r<a?r/i:a/o)));return(0,v.A)((0,v.A)({},t),{},{gap:l})},Mv=function(e,t,n,r,a){return hv(Cv(e,t,n),r,n,a,rs(e),rs(e))},Cv=function(e,t,n){var r="start"===t?0:-1;return el(PU.getPointAtIndexGlobalCoordinates(e,r,n))},jv=function(e,t,n,r){var a=new Set,i=new Set,o="duplicatesServeAsOld"===r,l=new Map((0,h.A)(n).map((function(e){var t=(0,f.A)(e,2),n=t[0];return[t[1],n]})));t.forEach((function(e){var t=e.boundElements;if(null!=t&&t.length>0&&(t.forEach((function(e){o&&!n.has(e.id)&&a.add(e.id)})),i.add(n.get(e.id))),is(e)){if(null!=e.startBinding){var r=e.startBinding.elementId;o&&!n.has(r)&&i.add(r)}if(null!=e.endBinding){var l=e.endBinding.elementId;o&&!n.has(l)&&i.add(l)}(null!=e.startBinding||null!=e.endBinding)&&a.add(n.get(e.id))}})),e.filter((function(e){var t=e.id;return a.has(t)})).forEach((function(e){var t=e.startBinding,r=e.endBinding;Ox(e,{startBinding:Iv(t,n),endBinding:Iv(r,n)})})),e.filter((function(e){var t=e.id;return i.has(t)})).forEach((function(t){var r,a=l.get(t.id),i=null===(r=e.find((function(e){return e.id===a})))||void 0===r?void 0:r.boundElements;i&&i.length>0&&Ox(t,{boundElements:i.map((function(e){return n.has(e.id)?{id:n.get(e.id),type:e.type}:e}))})}))},Iv=function(e,t){var n;return null==e?null:(0,v.A)((0,v.A)({},e),{},{elementId:null!==(n=t.get(e.elementId))&&void 0!==n?n:e.elementId})},Dv=function(e,t){var n,r=ul(e),a=(0,u.A)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;zv.unbindAffected(r,i,Ox),Bv.unbindAffected(r,i,Ox)}}catch(Be){a.e(Be)}finally{a.f()}},Tv=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return null;var r=e.filter((function(e){return!t.has(e.id)}));return r.push.apply(r,(0,h.A)(n.map((function(e){return{id:e.id,type:e.type}})))),r},_v=function(e,t,n,r,a){var i=t.x,o=t.y,l=Lv(e,e.width,e.height,r),s=bh(e,n);return Gf(Ji(i,o),s,l)||!0===a&&kh(Ji(i,o),Eh(e))},Lv=function(e,t,n,r){var a=null!==r&&void 0!==r&&r.value&&r.value<1?r.value:1,i=("diamond"===e.type?1/Math.sqrt(2):1)*Math.min(t,n);return Math.max(16,Math.min(.25*i,32),ev/a+tv)},Rv=function(e,t,n){var r,a=Ji(e.x+e.width/2,e.y+e.height/2);if(ro(t,n))return 0;var i=ao(t,a,-e.angle),o=ao(n,a,-e.angle),l=-1*Math.sign(Yi(Vi(o,t),Vi(o,a))),s=ho(o,to($i(Qi(Vi(o,i)),Math.max(2*e.width,2*e.height)),o)),c="diamond"===e.type?[ho(Ji(e.x+e.width/2,e.y),Ji(e.x+e.width/2,e.y+e.height)),ho(Ji(e.x,e.y+e.height/2),Ji(e.x+e.width,e.y+e.height/2))]:[ho(Ji(e.x,e.y),Ji(e.x+e.width,e.y+e.height)),ho(Ji(e.x+e.width,e.y),Ji(e.x,e.y+e.height))],d="diamond"===e.type?[ho(Ji(e.x+e.width/2,e.y-e.height),Ji(e.x+e.width/2,e.y+2*e.height)),ho(Ji(e.x-e.width,e.y+e.height/2),Ji(e.x+2*e.width,e.y+e.height/2))]:[ho(Ji(e.x-e.width,e.y-e.height),Ji(e.x+2*e.width,e.y+2*e.height)),ho(Ji(e.x+2*e.width,e.y-e.height),Ji(e.x-e.width,e.y+2*e.height))];return null!==(r=[Uo(s,d[0]),Uo(s,d[1])].filter((function(e){return null!==e})).sort((function(e,t){return so(e,n)-so(t,n)})).map((function(t,n){return l*lo(a,t)/("diamond"===e.type?lo(c[n][0],c[n][1])/2:Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height,2))/2)})).sort((function(e,t){return Math.abs(e)-Math.abs(t)}))[0])&&void 0!==r?r:0},Pv=function(e,t,n){var r=Ji(e.x+e.width/2,e.y+e.height/2);if(0===t)return r;var a=("diamond"===e.type?[Ji(e.x,e.y+e.height/2),Ji(e.x+e.width/2,e.y),Ji(e.x+e.width,e.y+e.height/2),Ji(e.x+e.width/2,e.y+e.height)]:[Ji(e.x,e.y),Ji(e.x+e.width,e.y),Ji(e.x+e.width,e.y+e.height),Ji(e.x,e.y+e.height)]).map((function(e){return to($i(Vi(e,r),Math.abs(t)),r)})).map((function(t){return ao(t,r,e.angle)})),i=[Yi(Vi(n,a[0]),Vi(a[1],a[0]))>0&&(t>0?Yi(Vi(n,a[1]),Vi(a[2],a[1]))<0:Yi(Vi(n,a[3]),Vi(a[0],a[3]))<0),Yi(Vi(n,a[1]),Vi(a[2],a[1]))>0&&(t>0?Yi(Vi(n,a[2]),Vi(a[3],a[2]))<0:Yi(Vi(n,a[0]),Vi(a[1],a[0]))<0),Yi(Vi(n,a[2]),Vi(a[3],a[2]))>0&&(t>0?Yi(Vi(n,a[3]),Vi(a[0],a[3]))<0:Yi(Vi(n,a[1]),Vi(a[2],a[1]))<0),Yi(Vi(n,a[3]),Vi(a[0],a[3]))>0&&(t>0?Yi(Vi(n,a[0]),Vi(a[1],a[0]))<0:Yi(Vi(n,a[2]),Vi(a[3],a[2]))<0)];return i[0]?t>0?a[1]:a[0]:i[1]?t>0?a[2]:a[1]:i[2]?t>0?a[3]:a[2]:t>0?a[0]:a[3]},Nv=new Set(["boundElements","frameId","containerId","startBinding","endBinding"]),Fv=function(e,t,n){var r,a;ls(t)&&(null!==(r=null===(a=t.boundElements)||void 0===a?void 0:a.slice())&&void 0!==r?r:[]).forEach((function(t){var r=t.id;n(e.get(r),"boundElements",r)}))},Ov=function(e,t,n){var r=[];if(t.frameId){var a=t.frameId;r.push(n(e.get(a),"frameId",a))}if(fs(t)){var i=t.containerId;r.push(n(e.get(i),"containerId",i))}if(ns(t)){if(t.startBinding){var o=t.startBinding.elementId;r.push(n(e.get(o),"startBinding",o))}if(t.endBinding){var l=t.endBinding.elementId;r.push(n(e.get(l),"endBinding",l))}}return r},zv=function(){return(0,s.A)((function e(){(0,l.A)(this,e)}),null,[{key:"unbindAffected",value:function(e,t,n){t&&Ov(e,t,(function(r){!r||r.isDeleted||Fv(e,r,(function(e,a,i){i===t.id&&n(r,{boundElements:Tv(r.boundElements,new Set([i]))})}))}))}}])}();(0,m.d)(zv,"rebindAffected",(function(e,t,n){!t||t.isDeleted||Ov(e,t,(function(e,r){var a,i;e&&!e.isDeleted?"frameId"!==r&&((null===(a=e.boundElements)||void 0===a?void 0:a.find((function(e){return e.id===t.id})))||(ns(t)&&n(e,{boundElements:Tv(e.boundElements,new Set,new Array(t))}),Kl(t)&&(null!==(i=e.boundElements)&&void 0!==i&&i.find((function(e){return"text"===e.type}))?n(t,(0,p.default)({},r,null)):n(e,{boundElements:Tv(e.boundElements,new Set,new Array(t))})))):n(t,(0,p.default)({},r,null))}))}));var Bv=function(){return(0,s.A)((function e(){(0,l.A)(this,e)}),null,[{key:"unbindAffected",value:function(e,t,n){t&&Fv(e,t,(function(r){!r||r.isDeleted||Ov(e,r,(function(e,a,i){i===t.id&&n(r,(0,p.default)({},a,null))}))}))}}])}();(0,m.d)(Bv,"rebindAffected",(function(e,t,n){!t||t.isDeleted||Fv(e,t,(function(e,r,a){var i,o,l;e&&!e.isDeleted?Kl(e)&&((null===(i=(null!==(o=null===(l=t.boundElements)||void 0===l?void 0:l.slice())&&void 0!==o?o:[]).reverse().find((function(e){return"text"===e.type})))||void 0===i?void 0:i.id)===e.id?e.containerId!==t.id&&n(e,{containerId:t.id}):(null!==e.containerId&&n(e,{containerId:null}),n(t,{boundElements:Tv(t.boundElements,new Set([e.id]))}))):n(t,{boundElements:Tv(t.boundElements,new Set([a]))})}))}));var Hv=function(e,t){var n=Xv(e),r=(0,f.A)(n,2),a=r[0],i=r[1];return ao(Ji(t.x+t.width*a,t.y+t.height*i),Ji(t.x+t.width/2,t.y+t.height/2),t.angle)},Wv=function(e,t){var n=function(e,t){var n=e.startBinding&&t.get(e.startBinding.elementId),r=e.endBinding&&t.get(e.endBinding.elementId);return[n&&e.startBinding?Hv(e.startBinding.fixedPoint,n):Ji(e.x+e.points[0][0],e.y+e.points[0][1]),r&&e.endBinding?Hv(e.endBinding.fixedPoint,r):Ji(e.x+e.points[e.points.length-1][0],e.y+e.points[e.points.length-1][1])]}(e,t),r=(0,f.A)(n,2),a=r[0],i=r[1];return[PU.pointFromAbsoluteCoords(e,a,t),PU.pointFromAbsoluteCoords(e,i,t)]},Xv=function(e){return e&&(Math.abs(e[0]-.5)<1e-4||Math.abs(e[1]-.5)<1e-4)?e.map((function(e){return Math.abs(e-.5)<1e-4?.5001:e})):e},Gv=function(e){var t,n,r,a,i=e.scenePoint,o=e.viewportDimensions,l=e.zoom,s=e.offsets,c=(o.width-(null!==(t=null===s||void 0===s?void 0:s.right)&&void 0!==t?t:0))/2/l.value-i.x;c+=(null!==(n=null===s||void 0===s?void 0:s.left)&&void 0!==n?n:0)/2/l.value;var d=(o.height-(null!==(r=null===s||void 0===s?void 0:s.bottom)&&void 0!==r?r:0))/2/l.value-i.y;return{scrollX:c,scrollY:d+=(null!==(a=null===s||void 0===s?void 0:s.top)&&void 0!==a?a:0)/2/l.value}},Vv=function(e,t){var n,r;if(!(e=jw(e)).length)return{scrollX:0,scrollY:0};var a=Bp(e),i=(0,f.A)(a,4),o=i[0],l=i[1],s=i[2],c=i[3];return function(e,t){var n=(0,f.A)(t,4),r=n[0],a=n[1],i=n[2],o=n[3],l=qo({sceneX:r,sceneY:a},e),s=l.x,c=l.y,d=qo({sceneX:i,sceneY:o},e),u=d.x,h=d.y;return u-s>e.width||h-c>e.height}(t,[o,l,s,c])&&(n=function(e,t){if(!e.length)return[0,0,0,0];var n=1/0,r=e[0],a=ul(e);return e.forEach((function(e){var i=zp(e,a),o=(0,f.A)(i,4),l=o[0],s=o[1],c=lo(Ji((l+o[2])/2,(s+o[3])/2),Ji(t.x,t.y));c<n&&(n=c,r=e)})),zp(r,a)}(e,Ko({clientX:t.scrollX,clientY:t.scrollY},t)),o=(r=(0,f.A)(n,4))[0],l=r[1],s=r[2],c=r[3]),Gv({scenePoint:{x:(o+s)/2,y:(l+c)/2},viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})},Yv=function(e){return Pi(Ni(e,6),Xa,Ga)},Zv=function(e){return Pi(Math.round(e),1,100)},Kv=function(e){return Pi(Math.round(e),1,100)},qv=function(e,t,n){var r=n.reduce((function(t,n){return n.groupIds.includes(e)&&(t[n.id]=!0),t}),{});return Object.keys(r).length<2?t.selectedGroupIds[e]||t.editingGroupId===e?{selectedElementIds:t.selectedElementIds,selectedGroupIds:(0,v.A)((0,v.A)({},t.selectedGroupIds),{},(0,p.default)({},e,!1)),editingGroupId:null}:t:{editingGroupId:t.editingGroupId,selectedGroupIds:(0,v.A)((0,v.A)({},t.selectedGroupIds),{},(0,p.default)({},e,!0)),selectedElementIds:(0,v.A)((0,v.A)({},t.selectedElementIds),r)}},$v=function(){var e=null,t=null,n=null,r=function(r,a,i,o){var l=o?o.scene.getSelectedElements({selectedElementIds:r.selectedElementIds,elements:a}):Dx(a,r);return l.length?function(r,a,i,o){var l;if(void 0!==n&&a===t&&r===e&&i.editingGroupId===(null===(l=n)||void 0===l?void 0:l.editingGroupId))return n;var s,c={},d=(0,u.A)(r);try{for(d.s();!(s=d.n()).done;){var f=s.value.groupIds;if(i.editingGroupId){var h=f.indexOf(i.editingGroupId);h>-1&&(f=f.slice(0,h))}if(f.length>0){var p=f[f.length-1];c[p]=!0}}}catch(Be){d.e(Be)}finally{d.f()}for(var U={},m=a.reduce((function(e,t){if(t.isDeleted)return e;var n=t.groupIds.find((function(e){return c[e]}));return n&&(e[t.id]=!0,Array.isArray(U[n])?U[n].push(t.id):U[n]=[t.id]),e}),{}),g=0,b=Object.keys(U);g<b.length;g++){var y=b[g];U[y].length<2&&c[y]&&(c[y]=!1)}return t=a,e=r,n={editingGroupId:i.editingGroupId,selectedGroupIds:c,selectedElementIds:_x((0,v.A)((0,v.A)({},i.selectedElementIds),m),o)}}(l,a,r,i):{selectedGroupIds:{},editingGroupId:null,selectedElementIds:_x(r.selectedElementIds,i)}};return r.clearCache=function(){t=null,e=null,n=null},r}(),Qv=function(e,t){return null!=Jv(e,t)},Jv=function(e,t){return t.groupIds.filter((function(t){return t!==e.editingGroupId})).find((function(t){return e.selectedGroupIds[t]}))},eU=function(e){return Object.entries(e.selectedGroupIds).filter((function(e){var t=(0,f.A)(e,2);t[0];return t[1]})).map((function(e){var t=(0,f.A)(e,2),n=t[0];t[1];return n}))},tU=function(e,t){var n,r=(0,v.A)((0,v.A)({},t),{},{selectedGroupIds:{}}),a=(0,u.A)(e);try{for(a.s();!(n=a.n()).done;){var i=n.value.groupIds;if(t.editingGroupId){var o=i.indexOf(t.editingGroupId);o>-1&&(i=i.slice(0,o))}if(i.length>0){var l=i[i.length-1];r=(0,v.A)((0,v.A)({},r),qv(l,r,e))}}}catch(Be){a.e(Be)}finally{a.f()}return r.selectedGroupIds},nU=function(e,t){return(0,v.A)((0,v.A)({},e),{},{editingGroupId:t.groupIds.length?t.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,p.default)({},t.id,!0)})},rU=function(e,t){return e.groupIds.includes(t)},aU=function(e,t){var n,r=[],a=(0,u.A)(e.values());try{for(a.s();!(n=a.n()).done;){var i=n.value;rU(i,t)&&r.push(i)}}catch(Be){a.e(Be)}finally{a.f()}return r},iU=function(e,t){return e.groupIds.find((function(e){return t[e]}))},oU=function(e,t,n){var r=(0,h.A)(e),a=n?r.indexOf(n):-1,i=a>-1?a:r.length;return r.splice(i,0,t),r},lU=function(e,t){return e.filter((function(e){return!t[e]}))},sU=function(e,t){var n=new Map;return e.forEach((function(e){var r=0===e.groupIds.length?e.id:e.groupIds[e.groupIds.length-1],a=n.get(r)||[],i=YU(e,t);i&&a.push(i),n.set(r,[].concat((0,h.A)(a),[e]))})),Array.from(n.values())},cU=function(e){var t,n=e.flatMap((function(e){return e.groupIds})),r=new Map,a=0,i=(0,u.A)(n);try{for(i.s();!(t=i.n()).done;){var o,l=t.value;r.set(l,(null!==(o=r.get(l))&&void 0!==o?o:0)+1),r.get(l)>a&&(a=r.get(l))}}catch(Be){i.e(Be)}finally{i.f()}return a===e.length},dU=function(e){return e.groupIds.length>0},uU=function(e){return 8/e},fU=(0,s.A)((function e(){(0,l.A)(this,e)}));(0,m.d)(fU,"referenceSnapPoints",null),(0,m.d)(fU,"visibleGaps",null),(0,m.d)(fU,"setReferenceSnapPoints",(function(e){fU.referenceSnapPoints=e})),(0,m.d)(fU,"getReferenceSnapPoints",(function(){return fU.referenceSnapPoints})),(0,m.d)(fU,"setVisibleGaps",(function(e){fU.visibleGaps=e})),(0,m.d)(fU,"getVisibleGaps",(function(){return fU.visibleGaps})),(0,m.d)(fU,"destroy",(function(){fU.referenceSnapPoints=null,fU.visibleGaps=null}));var hU=fU,pU=function(e){var t;return null!==(t=e.props.gridModeEnabled)&&void 0!==t?t:e.state.gridModeEnabled},vU=function(e){var t=e.event,n=e.app,r=e.selectedElements;return t?n.state.objectsSnapModeEnabled&&!t[dh.CTRL_OR_CMD]||!n.state.objectsSnapModeEnabled&&t[dh.CTRL_OR_CMD]&&!pU(n):(1!==r.length||"arrow"!==r[0].type)&&n.state.objectsSnapModeEnabled},UU=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{omitCenter:!1,boundingBoxCorners:!1},r=n.omitCenter,a=n.boundingBoxCorners,i=n.dragOffset,o=[];if(1===e.length){var l=e[0],s=Ip(l,t),c=(0,f.A)(s,6),d=c[0],u=c[1],h=c[2],p=c[3],v=c[4],U=c[5];i&&(d+=i.x,h+=i.x,v+=i.x,u+=i.y,p+=i.y,U+=i.y);var m=(h-d)/2,g=(p-u)/2;if("diamond"!==l.type&&"ellipse"!==l.type||a){var b=ao(Ji(d,u),Ji(v,U),l.angle),y=ao(Ji(h,u),Ji(v,U),l.angle),x=ao(Ji(d,p),Ji(v,U),l.angle),w=ao(Ji(h,p),Ji(v,U),l.angle),A=Ji(v,U);o=r?[b,y,x,w]:[b,y,x,w,A]}else{var E=ao(Ji(d,u+g),Ji(v,U),l.angle),k=ao(Ji(d+m,u),Ji(v,U),l.angle),S=ao(Ji(h,u+g),Ji(v,U),l.angle),M=ao(Ji(d+m,p),Ji(v,U),l.angle),C=Ji(v,U);o=r?[E,k,S,M]:[E,k,S,M,C]}}else if(e.length>1){var j=Hp(e,null!==i&&void 0!==i?i:{x:0,y:0}),I=(0,f.A)(j,4),D=I[0],T=I[1],_=I[2],L=I[3],R=_-D,P=L-T,N=Ji(D,T),F=Ji(_,T),O=Ji(D,L),z=Ji(_,L),B=Ji(D+R/2,T+P/2);o=r?[N,F,O,z]:[N,F,O,z,B]}return o.map((function(e){return Ji(AU(e[0]),AU(e[1]))}))},mU=function(e,t,n,r){var a=t.filter((function(e){return Ql(e)})).map((function(e){return e.id}));return Cx(e,t,n,r).filter((function(e){return!(e.frameId&&a.includes(e.frameId))}))},gU=function(e,t,n,r){var a=mU(e,t,n,r),i=sU(a,r).filter((function(e){return!(1===e.length&&fs(e[0]))})).map((function(e){return Bp(e).map((function(e){return AU(e)}))})),o=i.sort((function(e,t){return e[0]-t[0]})),l=[],s=0;e:for(var c=0;c<o.length;c++)for(var d=o[c],u=c+1;u<o.length;u++){if(++s>99999)break e;var h=o[u],p=(0,f.A)(d,4),v=p[1],U=p[2],m=p[3],g=(0,f.A)(h,4),b=g[0],y=g[1],x=g[3];U<b&&Co(Mo(v,m),Mo(y,x))&&l.push({startBounds:d,endBounds:h,startSide:[Ji(U,v),Ji(U,m)],endSide:[Ji(b,y),Ji(b,x)],length:b-U,overlap:jo(Mo(v,m),Mo(y,x))})}var w=i.sort((function(e,t){return e[1]-t[1]})),A=[];s=0;e:for(var E=0;E<w.length;E++)for(var k=w[E],S=E+1;S<w.length;S++){if(++s>99999)break e;var M=w[S],C=(0,f.A)(k,4),j=C[0],I=C[2],D=C[3],T=(0,f.A)(M,3),_=T[0],L=T[1],R=T[2];D<L&&Co(Mo(j,I),Mo(_,R))&&A.push({startBounds:k,endBounds:M,startSide:[Ji(j,D),Ji(I,D)],endSide:[Ji(_,L),Ji(R,L)],length:L-D,overlap:jo(Mo(j,I),Mo(_,R))})}return{horizontalGaps:l,verticalGaps:A}},bU=function(e,t,n,r,a,i,o){if(!vU({app:n,event:r,selectedElements:e}))return[];if(0===e.length)return[];var l=hU.getVisibleGaps();if(l){var s,c=l.horizontalGaps,d=l.verticalGaps,h=Hp(e,t).map((function(e){return AU(e)})),p=(0,f.A)(h,4),v=p[0],U=p[1],m=p[2],g=p[3],b=(v+m)/2,y=(U+g)/2,x=(0,u.A)(c);try{for(x.s();!(s=x.n()).done;){var w=s.value;if(Co(Mo(U,g),w.overlap)){var A=w.startSide[0][0]+w.length/2,E=AU(A-b);if(w.length>m-v&&Math.abs(E)<=o.x){Math.abs(E)<o.x&&(a.length=0),o.x=Math.abs(E);var k={type:"gap",direction:"center_horizontal",gap:w,offset:E};a.push(k)}else{var S=v-(0,f.A)(w.endBounds,3)[2],M=AU(w.length-S);if(Math.abs(M)<=o.x){Math.abs(M)<o.x&&(a.length=0),o.x=Math.abs(M);var C={type:"gap",direction:"side_right",gap:w,offset:M};a.push(C)}else{var j=(0,f.A)(w.startBounds,3)[0],I=AU(j-m-w.length);if(Math.abs(I)<=o.x){Math.abs(I)<o.x&&(a.length=0),o.x=Math.abs(I);var D={type:"gap",direction:"side_left",gap:w,offset:I};a.push(D)}else;}}}}}catch(Be){x.e(Be)}finally{x.f()}var T,_=(0,u.A)(d);try{for(_.s();!(T=_.n()).done;){var L=T.value;if(Co(Mo(v,m),L.overlap)){var R=L.startSide[0][1]+L.length/2,P=AU(R-y);if(L.length>g-U&&Math.abs(P)<=o.y){Math.abs(P)<o.y&&(i.length=0),o.y=Math.abs(P);var N={type:"gap",direction:"center_vertical",gap:L,offset:P};i.push(N)}else{var F=(0,f.A)(L.startBounds,3)[1],O=AU(F-g-L.length);if(Math.abs(O)<=o.y){Math.abs(O)<o.y&&(i.length=0),o.y=Math.abs(O);var z={type:"gap",direction:"side_top",gap:L,offset:O};i.push(z)}else{var B=(0,f.A)(L.endBounds,4)[3],H=AU(U-B),W=L.length-H;if(Math.abs(W)<=o.y){Math.abs(W)<o.y&&(i.length=0),o.y=Math.abs(W);var X={type:"gap",direction:"side_bottom",gap:L,offset:W};i.push(X)}else;}}}}}catch(Be){_.e(Be)}finally{_.f()}}},yU=function(e,t,n,r){var a=mU(e,t,n,r);return sU(a,r).filter((function(e){return!(1===e.length&&fs(e[0]))})).flatMap((function(e){return UU(e,r)}))},xU=function(e,t,n,r,a,i,o){if(!vU({app:n,event:r,selectedElements:e})||0===e.length&&0===t.length)return[];var l=hU.getReferenceSnapPoints();if(l){var s,c=(0,u.A)(t);try{for(c.s();!(s=c.n()).done;){var d,f=s.value,h=(0,u.A)(l);try{for(h.s();!(d=h.n()).done;){var p=d.value,v=p[0]-f[0],U=p[1]-f[1];Math.abs(v)<=o.x&&(Math.abs(v)<o.x&&(a.length=0),a.push({type:"point",points:[f,p],offset:v}),o.x=Math.abs(v)),Math.abs(U)<=o.y&&(Math.abs(U)<o.y&&(i.length=0),i.push({type:"point",points:[f,p],offset:U}),o.y=Math.abs(U))}}catch(Be){h.e(Be)}finally{h.f()}}}catch(Be){c.e(Be)}finally{c.f()}}},wU=function(e,t,n,r,a){var i,o,l,s,c=n.state,d=Dx(e,c);if(!vU({app:n,event:r,selectedElements:d})||0===d.length)return{snapOffset:{x:0,y:0},snapLines:[]};t.x=AU(t.x),t.y=AU(t.y);var u=[],f=[],p=uU(c.zoom.value),v={x:p,y:p},U=UU(d,a,{dragOffset:t});xU(d,U,n,r,u,f,v),bU(d,t,n,r,u,f,v);var m={x:null!==(i=null===(o=u[0])||void 0===o?void 0:o.offset)&&void 0!==i?i:0,y:null!==(l=null===(s=f[0])||void 0===s?void 0:s.offset)&&void 0!==l?l:0};v.x=0,v.y=0,u.length=0,f.length=0;var g={x:AU(t.x+m.x),y:AU(t.y+m.y)};xU(d,UU(d,a,{dragOffset:g}),n,r,u,f,v),bU(d,g,n,r,u,f,v);var b=kU(u,f),y=SU(d,g,[].concat(u,f).filter((function(e){return"gap"===e.type})));return{snapOffset:m,snapLines:[].concat((0,h.A)(b),(0,h.A)(y))}},AU=function(e){return Math.round(e*Math.pow(10,6))/Math.pow(10,6)},EU=function(e){var t,n=new Map,r=(0,u.A)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=a.join(",");n.has(i)||n.set(i,a)}}catch(Be){r.e(Be)}finally{r.f()}return Array.from(n.values())},kU=function(e,t){var n={},r={};if(e.length>0){var a,i=(0,u.A)(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;if("point"===o.type){var l,s=AU(o.points[0][0]);n[s]||(n[s]=[]),(l=n[s]).push.apply(l,(0,h.A)(o.points.map((function(e){return Ji(AU(e[0]),AU(e[1]))}))))}}}catch(Be){i.e(Be)}finally{i.f()}}if(t.length>0){var c,d=(0,u.A)(t);try{for(d.s();!(c=d.n()).done;){var p=c.value;if("point"===p.type){var v,U=AU(p.points[0][1]);r[U]||(r[U]=[]),(v=r[U]).push.apply(v,(0,h.A)(p.points.map((function(e){return Ji(AU(e[0]),AU(e[1]))}))))}}}catch(Be){d.e(Be)}finally{d.f()}}return Object.entries(n).map((function(e){var t=(0,f.A)(e,2),n=t[0],r=t[1];return{type:"points",points:EU(r.map((function(e){return Ji(Number(n),e[1])})).sort((function(e,t){return e[1]-t[1]})))}})).concat(Object.entries(r).map((function(e){var t=(0,f.A)(e,2),n=t[0],r=t[1];return{type:"points",points:EU(r.map((function(e){return Ji(e[0],Number(n))})).sort((function(e,t){return e[0]-t[0]})))}})))},SU=function(e,t,n){var r,a=Hp(e,t),i=(0,f.A)(a,4),o=i[0],l=i[1],s=i[2],c=i[3],d=[],h=(0,u.A)(n);try{for(h.s();!(r=h.n()).done;){var p=r.value,U=(0,f.A)(p.gap.startBounds,4),m=U[0],g=U[1],b=U[2],y=U[3],x=(0,f.A)(p.gap.endBounds,4),w=x[0],A=x[1],E=x[2],k=x[3],S=jo(Mo(l,c),p.gap.overlap),M=jo(Mo(o,s),p.gap.overlap);switch(p.direction){case"center_horizontal":if(S){var C=(S[0]+S[1])/2;d.push({type:"gap",direction:"horizontal",points:[Ji(p.gap.startSide[0][0],C),Ji(o,C)]},{type:"gap",direction:"horizontal",points:[Ji(s,C),Ji(p.gap.endSide[0][0],C)]})}break;case"center_vertical":if(M){var j=(M[0]+M[1])/2;d.push({type:"gap",direction:"vertical",points:[Ji(j,p.gap.startSide[0][1]),Ji(j,l)]},{type:"gap",direction:"vertical",points:[Ji(j,c),Ji(j,p.gap.endSide[0][1])]})}break;case"side_right":if(S){var I=(S[0]+S[1])/2;d.push({type:"gap",direction:"horizontal",points:[Ji(b,I),Ji(w,I)]},{type:"gap",direction:"horizontal",points:[Ji(E,I),Ji(o,I)]})}break;case"side_left":if(S){var D=(S[0]+S[1])/2;d.push({type:"gap",direction:"horizontal",points:[Ji(s,D),Ji(m,D)]},{type:"gap",direction:"horizontal",points:[Ji(b,D),Ji(w,D)]})}break;case"side_top":if(M){var T=(M[0]+M[1])/2;d.push({type:"gap",direction:"vertical",points:[Ji(T,c),Ji(T,g)]},{type:"gap",direction:"vertical",points:[Ji(T,y),Ji(T,A)]})}break;case"side_bottom":if(M){var _=(M[0]+M[1])/2;d.push({type:"gap",direction:"vertical",points:[Ji(_,y),Ji(_,A)]},{type:"gap",direction:"vertical",points:[Ji(_,k),Ji(_,l)]})}}}}catch(Be){h.e(Be)}finally{h.f()}return function(e){var t,n=new Map,r=(0,u.A)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=a.points.flat().map((function(e){return[AU(e)]})).join(",");n.has(i)||n.set(i,a)}}catch(Be){r.e(Be)}finally{r.f()}return Array.from(n.values())}(d.map((function(e){return(0,v.A)((0,v.A)({},e),{},{points:e.points.map((function(e){return Ji(AU(e[0]),AU(e[1]))}))})})))},MU=function(e,t,n,r,a,i){var o,l,s,c;if(!vU({event:r,selectedElements:e,app:n})||0===e.length||1===e.length&&!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}(e[0].angle,0))return{snapOffset:{x:0,y:0},snapLines:[]};var d=Bp(t),u=(0,f.A)(d,4),h=u[0],p=u[1],v=u[2],U=u[3];i&&(i.includes("e")?v+=a.x:i.includes("w")&&(h+=a.x),i.includes("n")?p+=a.y:i.includes("s")&&(U+=a.y));var m=[];if(i)switch(i){case"e":m.push(Ji(v,p),Ji(v,U));break;case"w":m.push(Ji(h,p),Ji(h,U));break;case"n":m.push(Ji(h,p),Ji(v,p));break;case"s":m.push(Ji(h,U),Ji(v,U));break;case"ne":m.push(Ji(v,p));break;case"nw":m.push(Ji(h,p));break;case"se":m.push(Ji(v,U));break;case"sw":m.push(Ji(h,U))}var g=uU(n.state.zoom.value),b={x:g,y:g},y=[],x=[];xU(t,m,n,r,y,x,b);var w={x:null!==(o=null===(l=y[0])||void 0===l?void 0:l.offset)&&void 0!==o?o:0,y:null!==(s=null===(c=x[0])||void 0===c?void 0:c.offset)&&void 0!==s?s:0};b.x=0,b.y=0,y.length=0,x.length=0;var A=Bp(e).map((function(e){return AU(e)})),E=(0,f.A)(A,4),k=E[0],S=E[1],M=E[2],C=E[3],j=[Ji(k,S),Ji(k,C),Ji(M,S),Ji(M,C)];return xU(e,j,n,r,y,x,b),{snapOffset:w,snapLines:kU(y,x)}},CU=function(e,t,n,r,a,i){var o,l,s,c;if(!vU({event:n,selectedElements:[e],app:t}))return{snapOffset:{x:0,y:0},snapLines:[]};var d=[Ji(r.x+a.x,r.y+a.y)],u=uU(t.state.zoom.value),f={x:u,y:u},h=[],p=[];xU([e],d,t,n,h,p,f);var v={x:null!==(o=null===(l=h[0])||void 0===l?void 0:l.offset)&&void 0!==o?o:0,y:null!==(s=null===(c=p[0])||void 0===c?void 0:c.offset)&&void 0!==s?s:0};f.x=0,f.y=0,h.length=0,p.length=0;var U=UU([e],i,{boundingBoxCorners:!0,omitCenter:!0});return xU([e],U,t,n,h,p,f),{snapOffset:v,snapLines:kU(h,p)}},jU=function(e,t,n,r,a){if(!vU({event:r,selectedElements:[],app:t}))return{originOffset:{x:0,y:0},snapLines:[]};var i,o=Cx(e,[],t.state,a),l=uU(t.state.zoom.value),s={x:l,y:l},c=[],d=[],f=(0,u.A)(o);try{for(f.s();!(i=f.n()).done;){var h,p=i.value,v=UU([p],a),U=(0,u.A)(v);try{for(U.s();!(h=U.n()).done;){var m=h.value,g=m[0]-n.x;Math.abs(g)<=Math.abs(s.x)&&(Math.abs(g)<Math.abs(s.x)&&(d.length=0),d.push({type:"pointer",points:[m,Ji(m[0],n.y)],direction:"vertical"}),s.x=g);var b=m[1]-n.y;Math.abs(b)<=Math.abs(s.y)&&(Math.abs(b)<Math.abs(s.y)&&(c.length=0),c.push({type:"pointer",points:[m,Ji(n.x,m[1])],direction:"horizontal"}),s.y=b)}}catch(Be){U.e(Be)}finally{U.f()}}}catch(Be){f.e(Be)}finally{f.f()}return{originOffset:{x:d.length>0?d[0].points[0][0]-n.x:0,y:c.length>0?c[0].points[0][1]-n.y:0},snapLines:[].concat(d,c)}},IU=function(e){return e===gi.rectangle||e===gi.ellipse||e===gi.diamond||e===gi.frame||e===gi.magicframe||e===gi.image||e===gi.text},DU=function(e,t,n){return n?[Math.round(e/n)*n,Math.round(t/n)*n]:[e,t]},TU={version:null,points:[],zoom:null},_U=function(){function e(t){(0,l.A)(this,e),(0,m.d)(this,"elementId"),(0,m.d)(this,"selectedPointsIndices"),(0,m.d)(this,"pointerDownState"),(0,m.d)(this,"isDragging"),(0,m.d)(this,"lastUncommittedPoint"),(0,m.d)(this,"pointerOffset"),(0,m.d)(this,"startBindingElement"),(0,m.d)(this,"endBindingElement"),(0,m.d)(this,"hoverPointIndex"),(0,m.d)(this,"segmentMidPointHoveredCoords"),(0,m.d)(this,"elbowed"),this.elementId=t.id,ro(t.points[0],Ji(0,0))||console.error("Linear element is not normalized",Error().stack),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,lastClickedIsEndPoint:!1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null,this.elbowed=rs(t)&&t.elbowed}return(0,s.A)(e,null,[{key:"getElement",value:function(e,t){return t.get(e)||null}},{key:"handleBoxSelection",value:function(t,n,r,a){if(!n.editingLinearElement||!n.selectionElement)return!1;var i=n.editingLinearElement,o=i.selectedPointsIndices,l=i.elementId,s=e.getElement(l,a);if(!s)return!1;var c=Ip(n.selectionElement,a),d=(0,f.A)(c,4),u=d[0],h=d[1],p=d[2],U=d[3],m=e.getPointsGlobalCoordinates(s,a).reduce((function(e,n,r){return(n[0]>=u&&n[0]<=p&&n[1]>=h&&n[1]<=U||t.shiftKey&&null!==o&&void 0!==o&&o.includes(r))&&e.push(r),e}),[]).filter((function(e){return!(rs(s)&&0!==e&&e!==s.points.length-1)}));r({editingLinearElement:(0,v.A)((0,v.A)({},i),{},{selectedPointsIndices:m.length?m:null})})}},{key:"handlePointDragging",value:function(t,n,r,a,i,o,l){var s;if(!o)return!1;var c=o.elementId,d=l.getNonDeletedElementsMap(),u=e.getElement(c,d);if(!u||rs(u)&&!o.pointerDownState.lastClickedIsEndPoint&&0!==o.pointerDownState.lastClickedPoint)return!1;var h=rs(u)?null===(s=o.selectedPointsIndices)||void 0===s?void 0:s.reduce((function(e,t){return 0===t?[0,e[1]]:[e[0],u.points.length-1]}),[!1,!1]).filter((function(e){return"number"==typeof e})):o.selectedPointsIndices,p=rs(u)?o.pointerDownState.lastClickedPoint>0?u.points.length-1:0:o.pointerDownState.lastClickedPoint,v=u.points[p];if(h&&v){if(Uh(t)&&1===h.length&&u.points.length>1){var U=h[0],m=u.points[0===U?1:U-1],g=e._getShiftLockedDelta(u,d,m,Ji(r,a),t[dh.CTRL_OR_CMD]?null:n.getEffectiveGridSize()),b=(0,f.A)(g,2),y=b[0],x=b[1];e.movePoints(u,[{index:U,point:Ji(y+m[0],x+m[1]),isDragging:U===p}])}else{var w=e.createPointAt(u,d,r-o.pointerOffset.x,a-o.pointerOffset.y,t[dh.CTRL_OR_CMD]?null:n.getEffectiveGridSize()),A=w[0]-v[0],E=w[1]-v[1];e.movePoints(u,h.map((function(i){return{index:i,point:i===p?e.createPointAt(u,d,r-o.pointerOffset.x,a-o.pointerOffset.y,t[dh.CTRL_OR_CMD]?null:n.getEffectiveGridSize()):Ji(u.points[i][0]+A,u.points[i][1]+E),isDragging:i===p}})))}if(YU(u,d)&&XU(u,d,!1),is(u,!1)){var k=[];0===h[0]&&k.push(el(e.getPointGlobalCoordinates(u,u.points[0],d)));var S=h[h.length-1];S===u.points.length-1&&k.push(el(e.getPointGlobalCoordinates(u,u.points[S],d))),k.length&&i(u,k)}return!0}return!1}},{key:"handlePointerUp",value:function(t,n,r,a){var i,o=a.getNonDeletedElementsMap(),l=a.getNonDeletedElements(),s=n.elementId,c=n.selectedPointsIndices,d=n.isDragging,f=n.pointerDownState,h=e.getElement(s,o);if(!h)return n;var p={};if(d&&c){var U,m=(0,u.A)(c);try{for(m.s();!(U=m.n()).done;){var g=U.value;if(0===g||g===h.points.length-1){Mh(h.points,r.zoom.value)&&e.movePoints(h,[{index:g,point:0===g?h.points[h.points.length-1]:h.points[0]}]);var b=Jp(r)?hv(el(e.getPointAtIndexGlobalCoordinates(h,g,o)),l,o,r.zoom,rs(h),rs(h)):null;p[0===g?"startBindingElement":"endBindingElement"]=b}}}catch(Be){m.e(Be)}finally{m.f()}}return(0,v.A)((0,v.A)((0,v.A)({},n),p),{},{selectedPointsIndices:d||t.shiftKey?!d&&t.shiftKey&&null!==(i=f.prevSelectedPointsIndices)&&void 0!==i&&i.includes(f.lastClickedPoint)?c&&c.filter((function(e){return e!==f.lastClickedPoint})):c:null!==c&&void 0!==c&&c.includes(f.lastClickedPoint)?[f.lastClickedPoint]:c,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(t,n,r,a,i){if(rs(t))return a>=0&&a<t.points.length&&lo(n,r)*i.value<e.POINT_HANDLE_SIZE/2;var o=lo(n,r);return t.points.length>2&&t.roundness&&(o=function(e,t){return Ah(e,t).at(-1)}(t,r)),o*i.value<4*e.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(t,n,r,a,i){var o=oo(n,r);if(t.points.length>2&&t.roundness){var l=xh(t,t.points[a]);if(l){var s=function(e,t,n){for(var r=Ah(e,t),a=r.length-1,i=n*r.at(-1),o=0,l=a,s=0;o<l;)r[s=Math.floor(o+(l-o)/2)]<i?o=s+1:l=s;return r[s]>i&&s--,r[s]===i?s/a:1-(s+(i-r[s])/(r[s+1]-r[s]))/a}(t,t.points[a],.5);o=e.getPointGlobalCoordinates(t,wh(l[0],l[1],l[2],l[3],s),i)}}return o}},{key:"getSegmentMidPointIndex",value:function(t,n,r,a){var i=e.getElement(t.elementId,a);if(!i)return-1;for(var o=e.getEditorMidPoints(i,a,n),l=0;l<o.length;){if(e.arePointsEqual(r,o[l]))return l+1;l++}return-1}},{key:"handlePointerDown",value:function(t,n,r,a,i,o){var l,s=n.state,c=o.getNonDeletedElementsMap(),d=o.getNonDeletedElements(),u={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!i)return u;var p=i.elementId,U=e.getElement(p,c);if(!U)return u;var m=e.getSegmentMidpointHitCoords(i,a,s,c),g=null;if(m)g=e.getSegmentMidPointIndex(i,s,m,c);else if(t.altKey&&s.editingLinearElement)return null==i.lastUncommittedPoint&&(Ox(U,{points:[].concat((0,h.A)(U.points),[e.createPointAt(U,c,a.x,a.y,t[dh.CTRL_OR_CMD]?null:n.getEffectiveGridSize())])}),u.didAddPoint=!0),r.shouldCaptureIncrement(),u.linearElementEditor=(0,v.A)((0,v.A)({},i),{},{pointerDownState:{prevSelectedPointsIndices:i.selectedPointsIndices,lastClickedPoint:-1,lastClickedIsEndPoint:!1,origin:{x:a.x,y:a.y},segmentMidpoint:{value:m,index:g,added:!1}},selectedPointsIndices:[U.points.length-1],lastUncommittedPoint:null,endBindingElement:hv(a,d,c,n.state.zoom,i.elbowed)}),u.didAddPoint=!0,u;var b=e.getPointIndexUnderCursor(U,c,s.zoom,a.x,a.y);if(b>=0||m)u.hitElement=U;else{var y=i.startBindingElement,x=i.endBindingElement;Jp(s)&&is(U)&&nv(U,y,x,c,o)}var w=Ip(U,c),A=(0,f.A)(w,4),E=A[0],k=A[1],S=(E+A[2])/2,M=(k+A[3])/2,C=b>-1&&ao(Ji(U.x+U.points[b][0],U.y+U.points[b][1]),Ji(S,M),U.angle),j=b>-1||t.shiftKey?t.shiftKey||null!==(l=i.selectedPointsIndices)&&void 0!==l&&l.includes(b)?NU([].concat((0,h.A)(i.selectedPointsIndices||[]),[b])):[b]:null;return u.linearElementEditor=(0,v.A)((0,v.A)({},i),{},{pointerDownState:{prevSelectedPointsIndices:i.selectedPointsIndices,lastClickedPoint:b,lastClickedIsEndPoint:b===U.points.length-1,origin:{x:a.x,y:a.y},segmentMidpoint:{value:m,index:g,added:!1}},selectedPointsIndices:j,pointerOffset:C?{x:a.x-C[0],y:a.y-C[1]}:{x:0,y:0}}),u}},{key:"arePointsEqual",value:function(e,t){return!e&&!t||!(!e||!t)&&ro(e,t)}},{key:"handlePointerMove",value:function(t,n,r,a,i){var o=a.state;if(!o.editingLinearElement)return null;var l=o.editingLinearElement,s=l.elementId,c=l.lastUncommittedPoint,d=e.getElement(s,i);if(!d)return o.editingLinearElement;var u,h=d.points,p=h[h.length-1];if(!t.altKey)return p===c&&e.deletePoints(d,[h.length-1]),(0,v.A)((0,v.A)({},o.editingLinearElement),{},{lastUncommittedPoint:null});if(Uh(t)&&h.length>=2){var U=h[h.length-2],m=e._getShiftLockedDelta(d,i,U,Ji(n,r),t[dh.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),g=(0,f.A)(m,2),b=g[0],y=g[1];u=Ji(b+U[0],y+U[1])}else u=e.createPointAt(d,i,n-o.editingLinearElement.pointerOffset.x,r-o.editingLinearElement.pointerOffset.y,t[dh.CTRL_OR_CMD]||rs(d)?null:a.getEffectiveGridSize());return p===c?e.movePoints(d,[{index:d.points.length-1,point:u}]):e.addPoints(d,[{point:u}]),(0,v.A)((0,v.A)({},o.editingLinearElement),{},{lastUncommittedPoint:d.points[d.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(e,t,n){var r=Ip(e,n),a=(0,f.A)(r,4),i=a[0],o=a[1],l=(i+a[2])/2,s=(o+a[3])/2,c=e.x,d=e.y;return ao(Ji(c+t[0],d+t[1]),Ji(l,s),e.angle)}},{key:"getPointsGlobalCoordinates",value:function(e,t){var n=Ip(e,t),r=(0,f.A)(n,4),a=r[0],i=r[1],o=r[2],l=r[3],s=(a+o)/2,c=(i+l)/2;return e.points.map((function(t){var n=e.x,r=e.y;return ao(Ji(n+t[0],r+t[1]),Ji(s,c),e.angle)}))}},{key:"getPointAtIndexGlobalCoordinates",value:function(e,t,n){var r=t<0?e.points.length+t:t,a=Ip(e,n),i=(0,f.A)(a,4),o=i[0],l=i[1],s=(o+i[2])/2,c=(l+i[3])/2,d=e.points[r],u=e.x,h=e.y;return ao(d?Ji(u+d[0],h+d[1]):Ji(u,h),Ji(s,c),e.angle)}},{key:"pointFromAbsoluteCoords",value:function(e,t,n){if(rs(e))return Ji(t[0]-e.x,t[1]-e.y);var r=Ip(e,n),a=(0,f.A)(r,4),i=a[0],o=a[1],l=(i+a[2])/2,s=(o+a[3])/2,c=ao(Ji(t[0],t[1]),Ji(l,s),-e.angle),d=(0,f.A)(c,2),u=d[0],h=d[1];return Ji(u-e.x,h-e.y)}},{key:"getPointIndexUnderCursor",value:function(t,n,r,a,i){for(var o=e.getPointsGlobalCoordinates(t,n),l=o.length;--l>-1;){var s=o[l];if(lo(Ji(a,i),Ji(s[0],s[1]))*r.value<e.POINT_HANDLE_SIZE+1)return l}return-1}},{key:"createPointAt",value:function(e,t,n,r,a){var i=DU(n,r,a),o=Ip(e,t),l=(0,f.A)(o,4),s=l[0],c=l[1],d=(s+l[2])/2,u=(c+l[3])/2,h=ao(Ji(i[0],i[1]),Ji(d,u),-e.angle),p=(0,f.A)(h,2),v=p[0],U=p[1];return Ji(v-e.x,U-e.y)}},{key:"getNormalizedPoints",value:function(e){var t=e.points,n=t[0][0],r=t[0][1];return{points:t.map((function(e){return Ji(e[0]-n,e[1]-r)})),x:e.x+n,y:e.y+r}}},{key:"normalizePoints",value:function(t){Ox(t,e.getNormalizedPoints(t))}},{key:"duplicateSelectedPoints",value:function(t,n){Sl(t.editingLinearElement,"Not currently editing a linear element");var r=t.editingLinearElement,a=r.selectedPointsIndices,i=r.elementId,o=e.getElement(i,n);Sl(o,"The linear element does not exist in the provided Scene"),Sl(null!=a,"There are no selected points to duplicate");var l=o.points,s=[],c=!1,d=-1,u=l.reduce((function(e,t,n){if(++d,e.push(t),a.includes(n)){var r=l[n+1];r||(c=!0),e.push(r?Ji((t[0]+r[0])/2,(t[1]+r[1])/2):Ji(t[0],t[1])),s.push(d+1),++d}return e}),[]);if(Ox(o,{points:u}),c){var f=o.points[o.points.length-1];e.movePoints(o,[{index:o.points.length-1,point:Ji(f[0]+30,f[1]+30)}])}return(0,v.A)((0,v.A)({},t),{},{editingLinearElement:(0,v.A)((0,v.A)({},t.editingLinearElement),{},{selectedPointsIndices:s})})}},{key:"deletePoints",value:function(t,n){var r=0,a=0;if(n.includes(0)){var i=t.points.find((function(e,t){return!n.includes(t)}));i&&(r=i[0],a=i[1])}var o=t.points.reduce((function(e,t,i){return n.includes(i)||e.push(e.length?Ji(t[0]-r,t[1]-a):Ji(0,0)),e}),[]);e._updatePoints(t,o,r,a)}},{key:"addPoints",value:function(t,n){var r=[].concat((0,h.A)(t.points),(0,h.A)(n.map((function(e){return e.point}))));e._updatePoints(t,r,0,0)}},{key:"movePoints",value:function(t,n,r){var a,i,o,l,s,c,d=t.points,u=null!==(a=null===(i=n.find((function(e){return 0===e.index})))||void 0===i?void 0:i.point)&&void 0!==a?a:Ji(0,0),h=(0,f.A)(u,2),p=h[0],v=h[1],U=Ji(p-d[0][0],v-d[0][1]),m=(0,f.A)(U,2),g=m[0],b=m[1],y=rs(t)?[null!==(o=null===(l=n.find((function(e){return 0===e.index})))||void 0===l?void 0:l.point)&&void 0!==o?o:d[0],null!==(s=null===(c=n.find((function(e){return e.index===d.length-1})))||void 0===c?void 0:c.point)&&void 0!==s?s:d[d.length-1]]:d.map((function(e,t){var r,a,i=null!==(r=null===(a=n.find((function(e){return e.index===t})))||void 0===a?void 0:a.point)&&void 0!==r?r:e;return Ji(i[0]-g,i[1]-b)}));e._updatePoints(t,y,g,b,r,{isDragging:n.reduce((function(e,t){return e||!0===t.isDragging}),!1)})}},{key:"shouldAddMidpoint",value:function(t,n,r,a){var i=e.getElement(t.elementId,a);if(i&&rs(i)||!i)return!1;var o=t.pointerDownState.segmentMidpoint;if(o.added||null===o.value||null===o.index||null===t.pointerDownState.origin)return!1;var l=t.pointerDownState.origin,s=lo(Ji(l.x,l.y),Ji(n.x,n.y));return!(!r.editingLinearElement&&s<na/r.zoom.value)}},{key:"addMidpoint",value:function(t,n,r,a,i){var o=e.getElement(t.elementId,i);if(o){var l=t.pointerDownState.segmentMidpoint,s={pointerDownState:t.pointerDownState,selectedPointsIndices:t.selectedPointsIndices},c=e.createPointAt(o,i,n.x,n.y,a&&!rs(o)?r.getEffectiveGridSize():null),d=[].concat((0,h.A)(o.points.slice(0,l.index)),[c],(0,h.A)(o.points.slice(l.index)));return Ox(o,{points:d}),s.pointerDownState=(0,v.A)((0,v.A)({},t.pointerDownState),{},{segmentMidpoint:(0,v.A)((0,v.A)({},t.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:l.index}),s.selectedPointsIndices=[l.index],s}}},{key:"_updatePoints",value:function(e,t,n,r,a,i){if(rs(e)){var o={};void 0!==(null===a||void 0===a?void 0:a.startBinding)&&(o.startBinding=null!==a.startBinding&&ms(a.startBinding)?a.startBinding:null),void 0!==(null===a||void 0===a?void 0:a.endBinding)&&(o.endBinding=null!==a.endBinding&&ms(a.endBinding)?a.endBinding:null),o.points=Array.from(t),Ox(e,o,!0,{isDragging:null===i||void 0===i?void 0:i.isDragging})}else{var l=Xp(e,t),s=Xp(e,e.points),c=(l[0]+l[2])/2,d=(l[1]+l[3])/2,u=(s[0]+s[2])/2-c,f=(s[1]+s[3])/2-d,h=ao(Ji(n,r),Ji(u,f),e.angle);Ox(e,(0,v.A)((0,v.A)({},a),{},{points:t,x:e.x+h[0],y:e.y+h[1]}))}}},{key:"_getShiftLockedDelta",value:function(t,n,r,a,i){var o=e.getPointGlobalCoordinates(t,r,n);if(rs(t))return[a[0]-o[0],a[1]-o[1]];var l=DU(a[0],a[1],i),s=(0,f.A)(l,2),c=s[0],d=s[1],u=Vx(o[0],o[1],c,d);return ao(Ji(u.width,u.height),Ji(0,0),-t.angle)}},{key:"moveFixedSegment",value:function(t,n,r,a,i){var o=e.getElement(t.elementId,i);if(!o||!rs(o))return t;if(n&&n>0&&n<o.points.length){var l,s=vp(up(Vi(o.points[n],o.points[n-1]))),c=(null!==(l=o.fixedSegments)&&void 0!==l?l:[]).reduce((function(e,t){return e[t.index]=t,e}),{});c[n]={index:n,start:Ji(s?o.points[n-1][0]:r-o.x,s?a-o.y:o.points[n-1][1]),end:Ji(s?o.points[n][0]:r-o.x,s?a-o.y:o.points[n][1])};var d=Object.values(c).sort((function(e,t){return e.index-t.index})),u=d.map((function(e){return e.index})).reduce((function(e,t){return t<n?e+1:e}),0);Ox(o,{fixedSegments:d});var f=Ji(o.x+(o.fixedSegments[u].start[0]+o.fixedSegments[u].end[0])/2,o.y+(o.fixedSegments[u].start[1]+o.fixedSegments[u].end[1])/2);return(0,v.A)((0,v.A)({},t),{},{segmentMidPointHoveredCoords:f,pointerDownState:(0,v.A)((0,v.A)({},t.pointerDownState),{},{segmentMidpoint:{added:!1,index:o.fixedSegments[u].index,value:f}})})}return t}},{key:"deleteFixedSegment",value:function(e,t){var n;Ox(e,{fixedSegments:null===(n=e.fixedSegments)||void 0===n?void 0:n.filter((function(e){return e.index!==t}))}),Ox(e,{},!0)}}])}();(0,m.d)(_U,"POINT_HANDLE_SIZE",10),(0,m.d)(_U,"getEditorMidPoints",(function(e,t,n){var r=YU(e,t);return!rs(e)&&!n.editingLinearElement&&e.points.length>2&&!r?[]:(TU.version===e.version&&TU.zoom===n.zoom.value||_U.updateEditorMidPointsCache(e,t,n),TU.points)})),(0,m.d)(_U,"updateEditorMidPointsCache",(function(e,t,n){for(var r=_U.getPointsGlobalCoordinates(e,t),a=0,i=[];a<r.length-1;)if(_U.isSegmentTooShort(e,e.points[a],e.points[a+1],a,n.zoom))i.push(null),a++;else{var o=_U.getSegmentMidPoint(e,r[a],r[a+1],a+1,t);i.push(o),a++}TU.points=i,TU.version=e.version,TU.zoom=n.zoom.value})),(0,m.d)(_U,"getSegmentMidpointHitCoords",(function(e,t,n,r){var a=e.elementId,i=_U.getElement(a,r);if(!i)return null;var o=_U.getPointIndexUnderCursor(i,r,n.zoom,t.x,t.y);if(!rs(i)&&o>=0||_U.getPointsGlobalCoordinates(i,r).length>=3&&!n.editingLinearElement&&!rs(i))return null;var l=(_U.POINT_HANDLE_SIZE+1)/n.zoom.value,s=e.segmentMidPointHoveredCoords;if(s&&lo(Ji(s[0],s[1]),Ji(t.x,t.y))<=l)return s;for(var c=0,d=_U.getEditorMidPoints(i,r,n);c<d.length;){if(null!==d[c]&&lo(d[c],Ji(t.x,t.y))<=l)return d[c];c++}return null})),(0,m.d)(_U,"getBoundTextElementPosition",(function(e,t,n){var r=_U.getPointsGlobalCoordinates(e,n);r.length<2&&Ox(t,{isDeleted:!0});var a=0,i=0;if(e.points.length%2===1){var o=Math.floor(e.points.length/2),l=_U.getPointGlobalCoordinates(e,e.points[o],n);a=l[0]-t.width/2,i=l[1]-t.height/2}else{var s=e.points.length/2-1,c=TU.points[s];2===e.points.length&&(c=oo(r[0],r[1])),(!c||TU.version!==e.version)&&(c=_U.getSegmentMidPoint(e,r[s],r[s+1],s+1,n)),a=c[0]-t.width/2,i=c[1]-t.height/2}return{x:a,y:i}})),(0,m.d)(_U,"getMinMaxXYWithBoundText",(function(e,t,n,r){var a=(0,f.A)(n,4),i=a[0],o=a[1],l=a[2],s=a[3],c=(i+l)/2,d=(o+s)/2,u=_U.getBoundTextElementPosition(e,r,t),h=u.x,p=u.y,v=h+r.width,U=p+r.height,m=Ji(c,d),g=ao(Ji(i,o),m,e.angle),b=ao(Ji(l,o),m,e.angle),y=ao(Ji(h,p),m,-e.angle),x=ao(Ji(v,p),m,-e.angle),w=ao(Ji(h,U),m,-e.angle),A=ao(Ji(v,U),m,-e.angle);return g[0]<b[0]&&g[1]>=b[1]?(i=Math.min(i,w[0]),l=Math.max(l,Math.max(x[0],A[0])),o=Math.min(o,y[1]),s=Math.max(s,A[1])):g[0]>=b[0]&&g[1]>b[1]?(i=Math.min(i,A[0]),l=Math.max(l,Math.max(y[0],x[0])),o=Math.min(o,w[1]),s=Math.max(s,x[1])):g[0]>=b[0]?(i=Math.min(i,x[0]),l=Math.max(l,w[0]),o=Math.min(o,A[1]),s=Math.max(s,y[1])):g[1]<=b[1]&&(i=Math.min(i,Math.min(x[0],y[0])),l=Math.max(l,A[0]),o=Math.min(o,x[1]),s=Math.max(s,w[1])),[i,o,l,s,c,d]})),(0,m.d)(_U,"getElementAbsoluteCoords",(function(e,t){var n,r,a,i,o,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.points.length<2||!Js.get(e)){var s=e.points.reduce((function(e,t){var n=(0,f.A)(t,2),r=n[0],a=n[1];return e.minY=Math.min(e.minY,a),e.minX=Math.min(e.minX,r),e.maxX=Math.max(e.maxX,r),e.maxY=Math.max(e.maxY,a),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),c=s.minX,d=s.minY,u=s.maxX,h=s.maxY;r=c+e.x,a=d+e.y,i=u+e.x,o=h+e.y}else{var p=Js.generateElementShape(e,null),v=Bf(p[0]),U=Rp(v),m=(0,f.A)(U,4),g=m[0],b=m[1],y=m[2],x=m[3];r=g+e.x,a=b+e.y,i=y+e.x,o=x+e.y}if(n=[r,a,i,o,(r+i)/2,(a+o)/2],!l)return n;var w=YU(e,t);return w&&(n=_U.getMinMaxXYWithBoundText(e,t,[r,a,i,o],w)),n}));var LU,RU,PU=_U,NU=function(e){var t=(0,h.A)(new Set(e.filter((function(e){return null!==e&&-1!==e}))));return t=t.sort((function(e,t){return e-t})),t.length?t:null},FU={},OU=function(e,t){var n=FU[e]||(FU[e]={height:t});return n.height=t,n},zU=function(e){FU[e]&&delete FU[e]},BU=function(e){var t,n;return null!==(t=null===(n=FU[e])||void 0===n?void 0:n.height)&&void 0!==t?t:null},HU=function(e,t,n){var r,a,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={x:e.x,y:e.y,text:e.text,width:e.width,height:e.height,angle:null!==(r=null===t||void 0===t?void 0:t.angle)&&void 0!==r?r:e.angle};o.text=e.text,(t||!e.autoResize)&&(a=t?rm(t,e):e.width,o.text=Vs(e.originalText,Oo(e),a));var l=gs(o.text,Oo(e),e.lineHeight);if(e.autoResize&&(o.width=l.width),o.height=l.height,t){var s=am(t,e),c=rm(t,e);if(!ns(t)&&l.height>s){var d=nm(l.height,t.type);Ox(t,{height:d},i),OU(t.id,d)}if(l.width>c){var u=nm(l.width,t.type);Ox(t,{width:u},i)}var f=(0,v.A)((0,v.A)({},e),o),h=GU(t,f,n),p=h.x,U=h.y;o.x=p,o.y=U}Ox(e,o,i)},WU=function(e,t,n){var r=ul(e);t.forEach((function(e){var t=n.get(e.id),a=VU(e);if(a){var i=n.get(a);if(i){var o=r.get(t);o&&Ox(o,{boundElements:(e.boundElements||[]).filter((function(e){return e.id!==i&&e.id!==a})).concat({type:"text",id:i})});var l=r.get(i);l&&Kl(l)&&Ox(l,{containerId:o?t:null})}}}))},XU=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(VU(e)){zU(e.id);var a=YU(e,t);if(a&&a.text){if(!e)return;var i=a.text,o=a.height,l=a.width,s=rm(e,a),c=am(e,a),d=e.height;if(r||"n"!==n&&"s"!==n){i&&(i=Vs(a.originalText,Oo(a),s));var u=gs(i,Oo(a),a.lineHeight);o=u.height,l=u.width}if(o>c){var f=(d=nm(o,e.type))-e.height,h=ns(e)||"ne"!==n&&"nw"!==n&&"n"!==n?e.y:e.y-f;Ox(e,{height:d,y:h})}Ox(a,{text:i,width:l,height:o}),ns(e)||Ox(a,GU(e,a,t))}}},GU=function(e,t,n){if(ns(e))return PU.getBoundTextElementPosition(e,t,n);var r,a=qU(e),i=am(e,t),o=rm(e,t);return r=t.verticalAlign===oi.TOP?a.y:t.verticalAlign===oi.BOTTOM?a.y+(i-t.height):a.y+(i/2-t.height/2),{x:t.textAlign===li.LEFT?a.x:t.textAlign===li.RIGHT?a.x+(o-t.width):a.x+(o/2-t.width/2),y:r}},VU=function(e){var t,n;return(null===e||void 0===e||null===(t=e.boundElements)||void 0===t?void 0:t.length)&&(null===e||void 0===e||null===(n=e.boundElements)||void 0===n||null===(n=n.find((function(e){return"text"===e.type})))||void 0===n?void 0:n.id)||null},YU=function(e,t){if(!e)return null;var n=VU(e);return n&&t.get(n)||null},ZU=function(e,t){return e&&e.containerId&&t.get(e.containerId)||null},KU=function(e,t,n){if(!ns(e))return{x:e.x+e.width/2,y:e.y+e.height/2};var r=PU.getPointsGlobalCoordinates(e,n);if(r.length%2===1){var a=Math.floor(e.points.length/2),i=PU.getPointGlobalCoordinates(e,e.points[a],n);return{x:i[0],y:i[1]}}var o=e.points.length/2-1,l=PU.getEditorMidPoints(e,n,t)[o];return l||(l=PU.getSegmentMidPoint(e,r[o],r[o+1],o+1,n)),{x:l[0],y:l[1]}},qU=function(e){var t=ii,n=ii;return"ellipse"===e.type&&(t+=e.width/2*(1-Math.sqrt(2)/2),n+=e.height/2*(1-Math.sqrt(2)/2)),"diamond"===e.type&&(t+=e.width/4,n+=e.height/4),{x:e.x+t,y:e.y+n}},$U=function(e,t){return!t||ns(t)?e.angle:t.angle},QU=function(e,t){return e.some((function(e){if(fs(e)){var n=ZU(e,t);return!ns(n)}return!1}))},JU=function(e,t){return e.some((function(e){if(fs(e)){var n=ZU(e,t);return!ns(n)}return Kl(e)}))},em=new Set(["rectangle","ellipse","diamond","arrow"]),tm=function(e){return em.has(e.type)},nm=function(e,t){e=Math.ceil(e);var n=2*ii;return"ellipse"===t?Math.round((e+n)/Math.sqrt(2)*2):"arrow"===t?e+8*n:"diamond"===t?2*(e+n):e+n},rm=function(e,t){var n=e.width;if(ns(e)){var r,a=11*(null!==(r=null===t||void 0===t?void 0:t.fontSize)&&void 0!==r?r:wa);return Math.max(.7*n,a)}return"ellipse"===e.type?Math.round(n/2*Math.sqrt(2))-2*ii:"diamond"===e.type?Math.round(n/2)-2*ii:n-2*ii},am=function(e,t){var n=e.height;return ns(e)?n-8*ii*2<=0?t.height:n:"ellipse"===e.type?Math.round(n/2*Math.sqrt(2))-2*ii:"diamond"===e.type?Math.round(n/2)-2*ii:n-2*ii},im=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\n\n";return e.reduce((function(e,t){return Kl(t)&&e.push(t.text),e}),[]).join(t)},om=function(e){return(e=e.trim())&&(0,rr.J)(Hl(e))},lm=function(e){return!!(null!==e&&void 0!==e&&e.includes(location.origin)||null!==e&&void 0!==e&&e.startsWith("/"))},sm=function(e){if((e=om(e)).startsWith("/"))return"".concat(location.origin).concat(e);try{new URL(e)}catch(t){return"about:blank"}return e},cm=[],dm=function(e){return cm=cm.concat(e),e},um='<svg viewBox="0 0 24 24" stroke-width="1" width="28" height="28" xmlns="http://www.w3.org/2000/svg">',fm='<path stroke="#1b1b1f" fill="#fff" d="m7.868 11.113 7.773 7.774a2.359 2.359 0 0 0 1.667.691 2.368 2.368 0 0 0 2.357-2.358c0-.625-.248-1.225-.69-1.667L11.201 7.78 9.558 9.469l-1.69 1.643v.001Zm10.273 3.606-3.333 3.333m-3.25-6.583 2 2m-7-7 3 3M3.664 3.625l1 1M2.529 6.922l1.407-.144m5.735-2.932-1.118.866M4.285 9.823l.758-1.194m1.863-6.207-.13 1.408"/>',hm="data:".concat(La.svg,",").concat(encodeURIComponent("".concat(um).concat(fm,"</svg>"))),pm="data:".concat(La.svg,",").concat(encodeURIComponent("".concat(um).concat('<path d="M6.164 11.755a5.314 5.314 0 0 1-4.932-5.298 5.314 5.314 0 0 1 5.311-5.311 5.314 5.314 0 0 1 5.307 5.113l8.773 8.773a3.322 3.322 0 0 1 0 4.696l-.895.895a3.322 3.322 0 0 1-4.696 0l-8.868-8.868Z" style="fill:#fff"/>').concat(fm,"</svg>"))),vm=function(e){e&&(e.style.cursor="")},Um=function(e,t){e&&(e.style.cursor=t)},mm=function(e,t){(!LU||LU.theme!==t)&&function(){var e=t===ya.DARK;(LU=document.createElement("canvas")).theme=t,LU.height=20,LU.width=20;var n=LU.getContext("2d");n.lineWidth=1,n.beginPath(),n.arc(LU.width/2,LU.height/2,5,0,2*Math.PI),n.fillStyle=e?Sn.black:Sn.white,n.fill(),n.strokeStyle=e?Sn.white:Sn.black,n.stroke(),RU=LU.toDataURL(La.svg)}(),Um(e,"url(".concat(RU,") ").concat(10," ").concat(10,", auto"))},gm=function(e,t){if(e)if("selection"===t.activeTool.type)vm(e);else if(Ri(t))e.style.cursor=ca.GRAB;else if(Li(t))mm(e,t.theme);else if("laser"===t.activeTool.type){var n=t.theme===ya.LIGHT?hm:pm;e.style.cursor="url(".concat(n,"), auto")}else["image","custom"].includes(t.activeTool.type)?"image"!==t.activeTool.type&&(e.style.cursor=ca.AUTO):e.style.cursor=ca.CROSSHAIR},bm=new ar.o(Date.now()),ym=0,xm=function(){return Math.floor(bm.next()*Math.pow(2,31))},wm=function(){return vl()?"id".concat(ym++):(0,Mn.Ak)()},Am=function(e,t){var n,r,a=t.x,i=t.y,l=t.strokeColor,s=void 0===l?hi.strokeColor:l,c=t.backgroundColor,d=void 0===c?hi.backgroundColor:c,u=t.fillStyle,f=void 0===u?hi.fillStyle:u,h=t.strokeWidth,p=void 0===h?hi.strokeWidth:h,v=t.strokeStyle,U=void 0===v?hi.strokeStyle:v,m=t.roughness,g=void 0===m?hi.roughness:m,b=t.opacity,y=void 0===b?hi.opacity:b,x=t.width,w=void 0===x?0:x,A=t.height,E=void 0===A?0:A,k=t.angle,S=void 0===k?0:k,M=t.groupIds,C=void 0===M?[]:M,j=t.frameId,I=void 0===j?null:j,D=t.index,T=void 0===D?null:D,_=t.roundness,L=void 0===_?null:_,R=t.boundElements,P=void 0===R?null:R,N=t.link,F=void 0===N?null:N,O=t.locked,z=void 0===O?hi.locked:O,B=(0,o.A)(t,wr);return(a<-1e6||a>1e6||i<-1e6||i>1e6||w<-1e6||w>1e6||E<-1e6||E>1e6)&&console.error("New element size or position is too large",{x:a,y:i,width:w,height:E,points:B.points}),{id:B.id||wm(),type:e,x:a,y:i,width:w,height:E,angle:S,strokeColor:s,backgroundColor:d,fillStyle:f,strokeWidth:p,strokeStyle:U,roughness:g,opacity:y,groupIds:C,frameId:I,index:T,roundness:L,seed:null!==(n=B.seed)&&void 0!==n?n:xm(),version:B.version||1,versionNonce:null!==(r=B.versionNonce)&&void 0!==r?r:0,isDeleted:!1,boundElements:P,updated:dl(),link:F,locked:z,customData:B.customData}},Em=function(e){return Am(e.type,e)},km=function(e){return Am("embeddable",e)},Sm=function(e){return(0,v.A)({},Am("iframe",e))},Mm=function(e){return zx((0,v.A)((0,v.A)({},Am("frame",e)),{},{type:"frame",name:(null===e||void 0===e?void 0:e.name)||null}),{})},Cm=function(e){return zx((0,v.A)((0,v.A)({},Am("magicframe",e)),{},{type:"magicframe",name:(null===e||void 0===e?void 0:e.name)||null}),{})},jm=function(e,t){return{x:"center"===e.textAlign?t.width/2:"right"===e.textAlign?t.width:0,y:"middle"===e.verticalAlign?t.height/2:0}},Im=function(e){var t,n,r=e.fontFamily||Aa,a=e.fontSize||wa,i=e.lineHeight||Ff(r),o=As(e.text),l=gs(o,Oo({fontFamily:r,fontSize:a}),i),s=e.textAlign||Ea,c=e.verticalAlign||ka,d=jm({textAlign:s,verticalAlign:c},l),u=(0,v.A)((0,v.A)({},Am("text",e)),{},{text:o,fontSize:a,fontFamily:r,textAlign:s,verticalAlign:c,x:e.x-d.x,y:e.y-d.y,width:l.width,height:l.height,containerId:e.containerId||null,originalText:null!==(t=e.originalText)&&void 0!==t?t:o,autoResize:null===(n=e.autoResize)||void 0===n||n,lineHeight:i});return zx(u,{})},Dm=function(e,t,n,r,a,i,o,l){var s=Math.cos(r),c=Math.sin(r);return e.e&&e.w?t+=a+o:e.e?(t+=a*(1+s),n+=a*c,t+=o*(1-s),n+=o*-c):e.w&&(t+=a*(1-s),n+=a*-c,t+=o*(1+s),n+=o*c),e.n&&e.s?n+=i+l:e.n?(t+=i*c,n+=i*(1-s),t+=l*-c,n+=l*(1+s)):e.s&&(t+=i*-c,n+=i*(1+s),t+=l*c,n+=l*(1-s)),[t,n]},Tm=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.text;if(!e.isDeleted){(t||!e.autoResize)&&(r=Vs(r,Oo(e),t?rm(t,e):e.width));var a=function(e,t,n){var r=gs(n,Oo(e),e.lineHeight),a=r.width,i=r.height;e.autoResize||(a=e.width);var o,l,s=e.textAlign,c=e.verticalAlign;if("center"===s&&c===oi.MIDDLE&&!e.containerId&&e.autoResize){var d=gs(e.text,Oo(e),e.lineHeight),u=jm(e,{width:a-d.width,height:i-d.height});o=e.x-u.x,l=e.y-u.y}else{var h=Ip(e,t),p=(0,f.A)(h,4),v=p[0],U=p[1],m=p[2],g=p[3],b=Wp(e,a,i,!1),y=(0,f.A)(b,4),x=(v-y[0])/2,w=(U-y[1])/2,A=(m-y[2])/2,E=(g-y[3])/2,k=Dm({s:!0,e:"center"===s||"left"===s,w:"center"===s||"right"===s},e.x,e.y,e.angle,x,w,A,E),S=(0,f.A)(k,2);o=S[0],l=S[1]}return{width:a,height:i,x:Number.isFinite(o)?o:e.x,y:Number.isFinite(l)?l:e.y}}(e,n,r);return(0,v.A)({text:r},a)}},_m=function(e){return(0,v.A)((0,v.A)({},Am(e.type,e)),{},{points:e.points||[],pressures:e.pressures||[],simulatePressure:e.simulatePressure,lastCommittedPoint:null})},Lm=function(e){return(0,v.A)((0,v.A)({},Am(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:null,endArrowhead:null})},Rm=function(e){return e.elbowed?(0,v.A)((0,v.A)({},Am(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead||null,endArrowhead:e.endArrowhead||null,elbowed:!0,fixedSegments:e.fixedSegments||[],startIsSpecial:!1,endIsSpecial:!1}):(0,v.A)((0,v.A)({},Am(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead||null,endArrowhead:e.endArrowhead||null,elbowed:!1})},Pm=function(e){var t,n,r,a;return(0,v.A)((0,v.A)({},Am("image",e)),{},{strokeColor:"transparent",status:null!==(t=e.status)&&void 0!==t?t:"pending",fileId:null!==(n=e.fileId)&&void 0!==n?n:null,scale:null!==(r=e.scale)&&void 0!==r?r:[1,1],crop:null!==(a=e.crop)&&void 0!==a?a:null})},Nm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==e||"object"!=typeof e)return e;var n=Object.prototype.toString.call(e);if("[object Object]"===n){var r="function"==typeof e.constructor?Object.create(Object.getPrototypeOf(e)):{};for(var a in e)if(e.hasOwnProperty(a)){if(0===t&&("shape"===a||"canvas"===a))continue;r[a]=Nm(e[a],t+1)}return r}if(Array.isArray(e)){for(var i=e.length,o=new Array(i);i--;)o[i]=Nm(e[i],t+1);return o}return U.a.DEV&&"[object Object]"!==n&&"[object Array]"!==n&&n.startsWith("[object ")&&console.warn("_deepCloneElement: unexpected object type ".concat(n,". This value will not be cloned!")),e},Fm=function(e){return Nm(e)},Om=function(e,t){Object.defineProperty(e,Si,{value:t,writable:!1,enumerable:!1})},zm=function(){return wm()},Bm=function(e,t,n,r){var a=Fm(n);return vl()&&Om(a,n.id),a.id=zm(),a.boundElements=null,a.updated=dl(),a.seed=xm(),a.groupIds=function(e,t,n){for(var r=(0,h.A)(e),a=t?e.indexOf(t):-1,i=a>-1?a:e.length,o=0;o<i;o++)r[o]=n(r[o]);return r}(a.groupIds,e,(function(e){return t.has(e)||t.set(e,zm()),t.get(e)})),r&&(a=Object.assign(a,r)),a},Hm=function(e,t){var n,r=[],a=ul(e),i=new Map,o=function(e){if(i.has(e))return i.get(e);if(a.has(e)){var t=zm();return i.set(e,t),t}return null},l=new Map,s=(0,u.A)(e);try{for(s.s();!(n=s.n()).done;){var c=n.value,d=Nm(c);if(d.id=o(c.id),vl()&&Om(d,c.id),null!==t&&void 0!==t&&t.randomizeSeed&&(d.seed=xm(),Bx(d)),d.groupIds&&(d.groupIds=d.groupIds.map((function(e){return l.has(e)||l.set(e,zm()),l.get(e)}))),"containerId"in d&&d.containerId){var f=o(d.containerId);d.containerId=f}if("boundElements"in d&&d.boundElements&&(d.boundElements=d.boundElements.reduce((function(e,t){var n=o(t.id);return n&&e.push((0,v.A)((0,v.A)({},t),{},{id:n})),e}),[])),"endBinding"in d&&d.endBinding){var h=o(d.endBinding.elementId);d.endBinding=h?(0,v.A)((0,v.A)({},d.endBinding),{},{elementId:h}):null}if("startBinding"in d&&d.startBinding){var p=o(d.startBinding.elementId);d.startBinding=p?(0,v.A)((0,v.A)({},d.startBinding),{},{elementId:p}):null}d.frameId&&(d.frameId=o(d.frameId)),r.push(d)}}catch(Be){s.e(Be)}finally{s.f()}return r},Wm=function(e,t){var n,r=t.shouldThrow,a=void 0!==r&&r,i=t.includeBoundTextValidation,o=void 0!==i&&i,l=t.ignoreLogs,s=t.reconciliationContext,c=[],d=function(e){return"".concat(null===e||void 0===e?void 0:e.index,":").concat(null===e||void 0===e?void 0:e.id,":").concat(null===e||void 0===e?void 0:e.type,":").concat(null===e||void 0===e?void 0:e.isDeleted,":").concat(null===e||void 0===e?void 0:e.version,":").concat(null===e||void 0===e?void 0:e.versionNonce)},h=e.map((function(e){return e.index})),p=(0,u.A)(h.entries());try{for(p.s();!(n=p.n()).done;){var v=(0,f.A)(n.value,2),U=v[0],m=v[1],g=h[U-1],b=h[U+1];if(Zm(m,g,b)||c.push('Fractional indices invariant has been compromised: "'.concat(d(e[U-1]),'", "').concat(d(e[U]),'", "').concat(d(e[U+1]),'"')),o&&us(e[U])){var y=e[U],x=YU(y,ul(e));x&&x.index<=y.index&&c.push('Fractional indices invariant for bound elements has been compromised: "'.concat(d(x),'", "').concat(d(y),'"'))}}}catch(Be){p.e(Be)}finally{p.f()}if(c.length){var w,A=new cf,E=[];if(s&&(E.push("Additional reconciliation context:"),E.push(s.localElements.map((function(e){return d(e)}))),E.push(s.remoteElements.map((function(e){return d(e)})))),l||(w=console).error.apply(w,[c.join("\n\n"),A.stack,e.map((function(e){return d(e)}))].concat(E)),a)throw A}},Xm=function(e,t){try{var n=Vm(e,t),r=Km(e,n),a=e.map((function(e){return r.has(e)?(0,v.A)((0,v.A)({},e),r.get(e)):e}));Wm(a,{includeBoundTextValidation:!1,shouldThrow:!0,ignoreLogs:!0});var i,o=(0,u.A)(r);try{for(o.s();!(i=o.n()).done;){var l=(0,f.A)(i.value,2),s=l[0],c=l[1];Ox(s,c,!1)}}catch(Be){o.e(Be)}finally{o.f()}}catch(d){Gm(e)}return e},Gm=function(e){var t,n=Ym(e),r=Km(e,n),a=(0,u.A)(r);try{for(a.s();!(t=a.n()).done;){var i=(0,f.A)(t.value,2),o=i[0],l=i[1];Ox(o,l,!1)}}catch(Be){a.e(Be)}finally{a.f()}return e},Vm=function(e,t){for(var n=[],r=0;r<e.length;)if(t.has(e[r].id)){for(var a=[r-1,r];++r<e.length&&t.has(e[r].id);)a.push(r);a.push(r),n.push(a)}else r++;return n},Ym=function(e){for(var t,n,r=[],a=-1,i=0,o=function(t){var n,r=e[a]?e[a].index:void 0,i=null===(n=e[t-1])||void 0===n?void 0:n.index;return!r&&i||r&&i&&i>r?[i,t-1]:[r,a]},l=function(t){var n=e[i]?e[i].index:void 0;if(n&&t<i)return[n,i];for(var r=i;++r<e.length;){var a,o=null===(a=e[r])||void 0===a?void 0:a.index;if(!n&&o||n&&o&&o>n)return[o,r]}return[void 0,r]},s=0;s<e.length;){var c,d,u,h,p=e[s].index;if(c=o(s),t=(d=(0,f.A)(c,2))[0],a=d[1],u=l(s),n=(h=(0,f.A)(u,2))[0],i=h[1],Zm(p,t,n))s++;else{for(var v=[a,s];++s<e.length;){var U=e[s].index,m=o(s),g=(0,f.A)(m,2),b=g[0],y=g[1],x=l(s),w=(0,f.A)(x,2),A=w[0],E=w[1];if(Zm(U,b,A))break;t=b,a=y,n=A,i=E,v.push(s)}v.push(i),r.push(v)}}return r},Zm=function(e,t,n){return!!e&&(t&&n?t<e&&e<n:!t&&n?e<n:t&&!n?t<e:!!e)},Km=function(e,t){var n,r=new Map,a=(0,u.A)(t);try{for(a.s();!(n=a.n()).done;)for(var i,o,l=n.value,s=l.shift(),c=l.pop(),d=pr(null===(i=e[s])||void 0===i?void 0:i.index,null===(o=e[c])||void 0===o?void 0:o.index,l.length),f=0;f<l.length;f++){var h=e[l[f]];r.set(h,{index:d[f]})}}catch(Be){a.e(Be)}finally{a.f()}return r},qm=function(e){return!!e.index},$m=function(){function e(t,n){(0,l.A)(this,e),this.deleted=t,this.inserted=n}return(0,s.A)(e,null,[{key:"create",value:function(t,n,r,a){return new e(r&&"inserted"!==a?r(t):t,r&&"deleted"!==a?r(n):n)}},{key:"calculate",value:function(t,n,r,a){if(t===n)return e.empty();var i,o={},l={},s=(0,u.A)(this.distinctKeysIterator("full",t,n));try{for(s.s();!(i=s.n()).done;){var c=i.value;o[c]=t[c],l[c]=n[c]}}catch(Be){s.e(Be)}finally{s.f()}var d=a?a(o,l):[o,l],h=(0,f.A)(d,2),p=h[0],v=h[1];return e.create(p,v,r)}},{key:"empty",value:function(){return new e({},{})}},{key:"isEmpty",value:function(e){return!Object.keys(e.deleted).length&&!Object.keys(e.inserted).length}},{key:"mergeObjects",value:function(e,t,n){for(var r=(0,v.A)({},e),a=0,i=Object.keys(n);a<i.length;a++){delete r[i[a]]}return(0,v.A)((0,v.A)({},r),t)}},{key:"mergeArrays",value:function(t,n,r,a){return Object.values(e.mergeObjects(hl(null!==t&&void 0!==t?t:[],a),hl(null!==n&&void 0!==n?n:[],a),hl(null!==r&&void 0!==r?r:[],a)))}},{key:"diffObjects",value:function(t,n,r,a){if((t[r]||n[r])&&("object"==typeof t[r]||"object"==typeof n[r])){var i,o,l=null!==(i=t[r])&&void 0!==i?i:{},s=null!==(o=n[r])&&void 0!==o?o:{},c=e.getLeftDifferences(l,s).reduce((function(e,t){return e[t]=a(l[t]),e}),{}),d=e.getRightDifferences(l,s).reduce((function(e,t){return e[t]=a(s[t]),e}),{});Object.keys(c).length||Object.keys(d).length?(Reflect.set(t,r,c),Reflect.set(n,r,d)):(Reflect.deleteProperty(t,r),Reflect.deleteProperty(n,r))}}},{key:"diffArrays",value:function(t,n,r,a){if((t[r]||n[r])&&(Array.isArray(t[r])||Array.isArray(n[r]))){var i=Array.isArray(t[r])?t[r]:[],o=Array.isArray(n[r])?n[r]:[],l=hl(e.getLeftDifferences(hl(i,a),hl(o,a))),s=hl(e.getRightDifferences(hl(i,a),hl(o,a)));if(Object.keys(l).length||Object.keys(s).length){var c=i.filter((function(e){return l[a?a(e):String(e)]})),d=o.filter((function(e){return s[a?a(e):String(e)]}));Reflect.set(t,r,c),Reflect.set(n,r,d)}else Reflect.deleteProperty(t,r),Reflect.deleteProperty(n,r)}}},{key:"isLeftDifferent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!this.distinctKeysIterator("left",e,t,n).next().value}},{key:"isRightDifferent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!this.distinctKeysIterator("right",e,t,n).next().value}},{key:"getLeftDifferences",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.from(this.distinctKeysIterator("left",e,t,n))}},{key:"getRightDifferences",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.from(this.distinctKeysIterator("right",e,t,n))}},{key:"distinctKeysIterator",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,c.A)().mark((function a(){var i,o,l,s,d,f;return(0,c.A)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t!==n){a.next=2;break}return a.abrupt("return");case 2:i=[],"left"===e?i=Object.keys(t):"right"===e?i=Object.keys(n):"full"===e?i=Array.from(new Set([].concat((0,h.A)(Object.keys(t)),(0,h.A)(Object.keys(n))))):kl(e,"Unknown distinctKeysIterator's join param \"".concat(e,'"'),!0),o=(0,u.A)(i),a.prev=5,o.s();case 7:if((l=o.n()).done){a.next=17;break}if(s=l.value,d=t[s],f=n[s],d===f){a.next=15;break}if(r||"object"!=typeof d||"object"!=typeof f||null===d||null===f||!Al(d,f)){a.next=13;break}return a.abrupt("continue",15);case 13:return a.next=15,s;case 15:a.next=7;break;case 17:a.next=22;break;case 19:a.prev=19,a.t0=a.catch(5),o.e(a.t0);case 22:return a.prev=22,o.f(),a.finish(22);case 25:case"end":return a.stop()}}),a,null,[[5,19,22,25]])}))()}}])}(),Qm=function(){function e(t){(0,l.A)(this,e),this.delta=t}return(0,s.A)(e,[{key:"inverse",value:function(){return new e($m.create(this.delta.inserted,this.delta.deleted))}},{key:"applyTo",value:function(e,t){try{var n=this.delta.deleted,r=n.selectedElementIds,a=void 0===r?{}:r,i=n.selectedGroupIds,l=void 0===i?{}:i,s=this.delta.inserted,c=s.selectedElementIds,d=void 0===c?{}:c,u=s.selectedGroupIds,f=void 0===u?{}:u,h=s.selectedLinearElementId,p=s.editingLinearElementId,m=(0,o.A)(s,Ar),g=$m.mergeObjects(e.selectedElementIds,d,a),b=$m.mergeObjects(e.selectedGroupIds,f,l),y=h&&t.has(h)?new PU(t.get(h)):null,x=p&&t.has(p)?new PU(t.get(p)):null,w=(0,v.A)((0,v.A)((0,v.A)({},e),m),{},{selectedElementIds:g,selectedGroupIds:b,selectedLinearElement:typeof h<"u"?y:e.selectedLinearElement,editingLinearElement:typeof p<"u"?x:e.editingLinearElement});return[w,this.filterInvisibleChanges(e,w,t)]}catch(a){if(console.error("Couldn't apply appstate change",a),U.a.DEV||U.a.MODE===ha.TEST)throw a;return[e,!1]}}},{key:"isEmpty",value:function(){return $m.isEmpty(this.delta)}},{key:"filterInvisibleChanges",value:function(t,n,r){var a=rg(t),i=rg(n),o=$m.isRightDifferent(e.stripElementsProps(a),e.stripElementsProps(i)),l=$m.isRightDifferent(e.stripStandaloneProps(a),e.stripStandaloneProps(i));if(!o&&!l)return!1;var s={value:o};if(l){var c=$m.getRightDifferences(e.stripStandaloneProps(a),e.stripStandaloneProps(i)),d=new Set;(c.includes("editingGroupId")||c.includes("selectedGroupIds"))&&(d=function(e){var t,n=new Set,r=(0,u.A)(e);try{for(r.s();!(t=r.n()).done;){var a=(0,f.A)(t.value,2)[1];if(!a.isDeleted){var i,o,l=(0,u.A)(null!==(i=a.groupIds)&&void 0!==i?i:[]);try{for(l.s();!(o=l.n()).done;){var s=o.value;n.add(s)}}catch(Be){l.e(Be)}finally{l.f()}}}}catch(Be){r.e(Be)}finally{r.f()}return n}(r));var h,p=(0,u.A)(c);try{for(p.s();!(h=p.n()).done;){var v=h.value;switch(v){case"selectedElementIds":n[v]=e.filterSelectedElements(n[v],r,s);break;case"selectedGroupIds":n[v]=e.filterSelectedGroups(n[v],d,s);break;case"croppingElementId":var U=n[v],m=U&&r.get(U);m&&!m.isDeleted?s.value=!0:n[v]=null;break;case"editingGroupId":var g=n[v];g?d.has(g)?s.value=!0:n[v]=null:s.value=!0;break;case"selectedLinearElementId":case"editingLinearElementId":var b=e.convertToAppStateKey(v),y=n[b];if(y){var x=r.get(y.elementId);x&&!x.isDeleted?s.value=!0:n[b]=null}else s.value=!0;break;default:kl(v,"Unknown ObservedElementsAppState's key \"".concat(v,'"'),!0)}}}catch(Be){p.e(Be)}finally{p.f()}}return s.value}}],[{key:"calculate",value:function(t,n){return new e($m.calculate(t,n,void 0,e.postProcess))}},{key:"empty",value:function(){return new e($m.create({},{}))}},{key:"postProcess",value:function(e,t){try{$m.diffObjects(e,t,"selectedElementIds",(function(e){return!0})),$m.diffObjects(e,t,"selectedGroupIds",(function(e){return null!==e&&void 0!==e&&e}))}catch(n){if(console.error("Couldn't postprocess appstate change deltas."),U.a.DEV||U.a.MODE===ha.TEST)throw n}finally{return[e,t]}}},{key:"convertToAppStateKey",value:function(e){switch(e){case"selectedLinearElementId":return"selectedLinearElement";case"editingLinearElementId":return"editingLinearElement"}}},{key:"filterSelectedElements",value:function(e,t,n){var r=Object.keys(e);if(!r.length)return n.value=!0,e;for(var a=(0,v.A)({},e),i=0,o=r;i<o.length;i++){var l=o[i],s=t.get(l);s&&!s.isDeleted?n.value=!0:delete a[l]}return a}},{key:"filterSelectedGroups",value:function(e,t,n){if(!Object.keys(e).length)return n.value=!0,e;for(var r=(0,v.A)({},e),a=0,i=Object.keys(r);a<i.length;a++){var o=i[a];t.has(o)?n.value=!0:delete r[o]}return r}},{key:"stripElementsProps",value:function(e){e.editingGroupId,e.selectedGroupIds,e.selectedElementIds,e.editingLinearElementId,e.selectedLinearElementId,e.croppingElementId;return(0,o.A)(e,Er)}},{key:"stripStandaloneProps",value:function(e){e.name,e.viewBackgroundColor;return(0,o.A)(e,kr)}}])}(),Jm=function(){function e(t,n,r){(0,l.A)(this,e),this.added=t,this.removed=n,this.updated=r}return(0,s.A)(e,[{key:"inverse",value:function(){var t=function(e){var t,n=new Map,r=(0,u.A)(e.entries());try{for(r.s();!(t=r.n()).done;){var a=(0,f.A)(t.value,2),i=a[0],o=a[1];n.set(i,$m.create(o.inserted,o.deleted))}}catch(Be){r.e(Be)}finally{r.f()}return n},n=t(this.added),r=t(this.removed),a=t(this.updated);return e.create(r,n,a)}},{key:"isEmpty",value:function(){return 0===this.added.size&&0===this.removed.size&&0===this.updated.size}},{key:"applyLatestChanges",value:function(t){var n=function(e){return function(t){for(var n={},r=0,a=Object.keys(t);r<a.length;r++){var i=a[r];if("boundElements"===i)n[i]=t[i];else n[i]=e[i]}return n}},r=function(e){var r,a=new Map,i=(0,u.A)(e.entries());try{for(i.s();!(r=i.n()).done;){var o=(0,f.A)(r.value,2),l=o[0],s=o[1],c=t.get(l);if(c){var d=$m.create(s.deleted,s.inserted,n(c),"inserted");a.set(l,d)}else a.set(l,s)}}catch(Be){i.e(Be)}finally{i.f()}return a},a=r(this.added),i=r(this.removed),o=r(this.updated);return e.create(a,i,o,{shouldRedistribute:!0})}},{key:"applyTo",value:function(t,n){var r,a=Fl(new Map(t)),i={containsVisibleDifference:!1,containsZindexDifference:!1};try{var o=e.createApplier(a,n,i),l=o(this.added),s=o(this.removed),c=o(this.updated),d=this.resolveConflicts(t,a);r=new Map([].concat((0,h.A)(l),(0,h.A)(s),(0,h.A)(c),(0,h.A)(d)))}catch(o){if(console.error("Couldn't apply elements change",o),U.a.DEV||U.a.MODE===ha.TEST)throw o;return[t,!0]}try{e.redrawTextBoundingBoxes(a,r),a=e.reorderElements(a,r,i),e.redrawBoundArrows(a,r)}catch(o){if(console.error("Couldn't mutate elements after applying elements change",o),U.a.DEV||U.a.MODE===ha.TEST)throw o}finally{return[a,i.containsVisibleDifference]}}},{key:"resolveConflicts",value:function(t,n){var r,a=new Map,i=function(e,r){var i,o=n.get(e.id);o&&(i=t.get(e.id)===o?zx(o,r):Ox(o,r),a.set(i.id,i),n.set(i.id,i))},o=(0,u.A)(this.removed);try{for(o.s();!(r=o.n()).done;){var l=(0,f.A)(r.value,1)[0];e.unbindAffected(t,n,l,i)}}catch(Be){o.e(Be)}finally{o.f()}var s,c=(0,u.A)(this.added);try{for(c.s();!(s=c.n()).done;){var d=(0,f.A)(s.value,1)[0];e.rebindAffected(t,n,d,i)}}catch(Be){c.e(Be)}finally{c.f()}var h,p=(0,u.A)(Array.from(this.updated).filter((function(e){var t=(0,f.A)(e,2),n=(t[0],t[1]);return Object.keys((0,v.A)((0,v.A)({},n.deleted),n.inserted)).find((function(e){return Nv.has(e)}))})));try{for(p.s();!(h=p.n()).done;){var U=(0,f.A)(h.value,1)[0],m=n.get(U);!m||m.isDeleted||e.rebindAffected(t,n,U,i)}}catch(Be){p.e(Be)}finally{p.f()}var g,b=new Map(Array.from(t).filter((function(e){var t=(0,f.A)(e,1)[0];return a.has(t)}))),y=e.calculate(b,a),x=y.added,w=y.removed,A=y.updated,E=(0,u.A)(x);try{for(E.s();!(g=E.n()).done;){var k=(0,f.A)(g.value,2),S=k[0],M=k[1];this.added.set(S,M)}}catch(Be){E.e(Be)}finally{E.f()}var C,j=(0,u.A)(w);try{for(j.s();!(C=j.n()).done;){var I=(0,f.A)(C.value,2),D=I[0],T=I[1];this.removed.set(D,T)}}catch(Be){j.e(Be)}finally{j.f()}var _,L=(0,u.A)(A);try{for(L.s();!(_=L.n()).done;){var R=(0,f.A)(_.value,2),P=R[0],N=R[1];this.updated.set(P,N)}}catch(Be){L.e(Be)}finally{L.f()}return a}}],[{key:"create",value:function(t,n,r){var a;if((arguments.length>3&&void 0!==arguments[3]?arguments[3]:{shouldRedistribute:!1}).shouldRedistribute){var i,o=new Map,l=new Map,s=new Map,c=[].concat((0,h.A)(t),(0,h.A)(n),(0,h.A)(r)),d=(0,u.A)(c);try{for(d.s();!(i=d.n()).done;){var p=(0,f.A)(i.value,2),v=p[0],m=p[1];this.satisfiesAddition(m)?o.set(v,m):this.satisfiesRemoval(m)?l.set(v,m):s.set(v,m)}}catch(Be){d.e(Be)}finally{d.f()}a=new e(o,l,s)}else a=new e(t,n,r);return(U.a.DEV||U.a.MODE===ha.TEST)&&(e.validate(a,"added",this.satisfiesAddition),e.validate(a,"removed",this.satisfiesRemoval),e.validate(a,"updated",this.satisfiesUpdate)),a}},{key:"validate",value:function(e,t,n){var r,a=(0,u.A)(e[t].entries());try{for(a.s();!(r=a.n()).done;){var i=(0,f.A)(r.value,2),o=i[0],l=i[1];if(!n(l))throw console.error('Broken invariant for "'.concat(t,'" delta, element "').concat(o,'", delta:'),l),new Error('ElementsChange invariant broken for element "'.concat(o,'".'))}}catch(Be){a.e(Be)}finally{a.f()}}},{key:"calculate",value:function(t,n){if(t===n)return e.empty();var r,a=new Map,i=new Map,o=new Map,l=(0,u.A)(t.values());try{for(l.s();!(r=l.n()).done;){var s=r.value;if(!n.get(s.id)){var c=(0,v.A)((0,v.A)({},s),{},{isDeleted:!1}),d=$m.create(c,{isDeleted:!0},e.stripIrrelevantProps);i.set(s.id,d)}}}catch(Be){l.e(Be)}finally{l.f()}var f,h=(0,u.A)(n.values());try{for(h.s();!(f=h.n()).done;){var p=f.value,U=t.get(p.id);if(U){if(U.versionNonce!==p.versionNonce){var m=$m.calculate(U,p,e.stripIrrelevantProps,e.postProcess);if("boolean"==typeof U.isDeleted&&"boolean"==typeof p.isDeleted&&U.isDeleted!==p.isDeleted){U.isDeleted&&!p.isDeleted?a.set(p.id,m):i.set(p.id,m);continue}$m.isEmpty(m)||o.set(p.id,m)}}else{var g=(0,v.A)((0,v.A)({},p),{},{isDeleted:!1}),b=$m.create({isDeleted:!0},g,e.stripIrrelevantProps);a.set(p.id,b)}}}catch(Be){h.e(Be)}finally{h.f()}return e.create(a,i,o)}},{key:"empty",value:function(){return e.create(new Map,new Map,new Map)}},{key:"applyDelta",value:function(t,n){var r,a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{containsVisibleDifference:!0,containsZindexDifference:!0},l=n.inserted,s=(l.boundElements,(0,o.A)(l,Sr));if(null!==(r=n.deleted.boundElements)&&void 0!==r&&r.length||null!==(a=n.inserted.boundElements)&&void 0!==a&&a.length){var c=$m.mergeArrays(t.boundElements,n.inserted.boundElements,n.deleted.boundElements,(function(e){return e.id}));Object.assign(s,{boundElements:c})}if(Gl(t)){var d,u=n;(u.deleted.crop||u.inserted.crop)&&Object.assign(s,{crop:null!==(d=u.inserted.crop)&&void 0!==d?d:null})}if(!i.containsVisibleDifference){s.index;var f=(0,o.A)(s,Mr),h=e.checkForVisibleDifference(t,f);i.containsVisibleDifference=h}return i.containsZindexDifference||(i.containsZindexDifference=n.deleted.index!==n.inserted.index),zx(t,s)}},{key:"checkForVisibleDifference",value:function(e,t){return(!e.isDeleted||!1===t.isDeleted)&&(!!(e.isDeleted&&!1===t.isDeleted||!1===e.isDeleted&&t.isDeleted)||$m.isRightDifferent(e,t))}},{key:"unbindAffected",value:function(e,t,n,r){var a=function(){return e.get(n)},i=function(){return t.get(n)};zv.unbindAffected(t,a(),r),zv.unbindAffected(t,i(),r),Bv.unbindAffected(t,a(),r),Bv.unbindAffected(t,i(),r)}},{key:"rebindAffected",value:function(e,t,n,r){var a=function(){return e.get(n)},i=function(){return t.get(n)};zv.unbindAffected(t,a(),r),zv.rebindAffected(t,i(),r),Bv.unbindAffected(t,a(),(function(e,t){Kl(e)&&r(e,t)})),Bv.rebindAffected(t,i(),r)}},{key:"redrawTextBoundingBoxes",value:function(e,t){var n,r=new Map,a=(0,u.A)(t.values());try{for(a.s();!(n=a.n()).done;){var i=n.value;if(fs(i)){var o=i.containerId,l=o?e.get(o):void 0;l&&r.set(l.id,{container:l,boundText:i})}if(us(i)){var s=VU(i),c=s?e.get(s):void 0;c&&r.set(i.id,{container:i,boundText:c})}}}catch(Be){a.e(Be)}finally{a.f()}var d,f=(0,u.A)(r.values());try{for(f.s();!(d=f.n()).done;){var h=d.value,p=h.container,v=h.boundText;p.isDeleted||v.isDeleted||HU(v,p,e,!1)}}catch(Be){f.e(Be)}finally{f.f()}}},{key:"redrawBoundArrows",value:function(e,t){var n,r=(0,u.A)(t.values());try{for(r.s();!(n=r.n()).done;){var a=n.value;!a.isDeleted&&ls(a)&&mv(a,e,{changedElements:t})}}catch(Be){r.e(Be)}finally{r.f()}}},{key:"reorderElements",value:function(e,t,n){if(!n.containsZindexDifference)return e;var r=Array.from(e.values()),a=[].concat(r).sort((function(e,t){return qm(e)&&qm(t)?e.index<t.index?-1:e.index>t.index?1:e.id<t.id?-1:1:1})),i=$m.getRightDifferences(r,a,!0).reduce((function(e,n){var a=r[Number(n)];return a&&t.has(a.id)&&e.set(a.id,a),e}),new Map);return!n.containsVisibleDifference&&i.size&&(n.containsVisibleDifference=!0),ul(Xm(a,i))}},{key:"postProcess",value:function(e,t){try{$m.diffArrays(e,t,"boundElements",(function(e){return e.id}))}catch(n){if(console.error("Couldn't postprocess elements change deltas."),U.a.DEV||U.a.MODE===ha.TEST)throw n}finally{return[e,t]}}},{key:"stripIrrelevantProps",value:function(e){e.id,e.updated,e.version,e.versionNonce,e.seed;return(0,o.A)(e,Cr)}}])}();(0,m.d)(Jm,"satisfiesAddition",(function(e){var t=e.deleted,n=e.inserted;return!0===t.isDeleted&&!n.isDeleted})),(0,m.d)(Jm,"satisfiesRemoval",(function(e){var t=e.deleted,n=e.inserted;return!t.isDeleted&&!0===n.isDeleted})),(0,m.d)(Jm,"satisfiesUpdate",(function(e){var t=e.deleted,n=e.inserted;return!!t.isDeleted==!!n.isDeleted})),(0,m.d)(Jm,"createApplier",(function(e,t,n){var r=Jm.createGetter(e,t,n);return function(t){return Array.from(t.entries()).reduce((function(t,a){var i=(0,f.A)(a,2),o=i[0],l=i[1],s=r(o,l.inserted);if(s){var c=Jm.applyDelta(s,l,n);e.set(c.id,c),t.set(c.id,c)}return t}),new Map)}})),(0,m.d)(Jm,"createGetter",(function(e,t,n){return function(r,a){var i=e.get(r);return i||(i=t.get(r))&&(n.containsZindexDifference=!0,(!1===a.isDeleted||!0!==a.isDeleted&&!1===i.isDeleted)&&(n.containsVisibleDifference=!0)),i}}));var eg=Jm,tg=function(){return(0,s.A)((function e(){(0,l.A)(this,e),(0,m.d)(this,"subscribers",[])}),[{key:"on",value:function(){for(var e,t=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.flat().filter((function(e){return"function"==typeof e}));return(e=this.subscribers).push.apply(e,(0,h.A)(i)),function(){return t.off(i)}}},{key:"once",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.flat().filter((function(e){return"function"==typeof e}));r.push((function(){return a()}));var a=this.on.apply(this,(0,h.A)(r));return a}},{key:"off",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.flat();this.subscribers=this.subscribers.filter((function(e){return!r.includes(e)}))}},{key:"trigger",value:function(){var e,t=(0,u.A)(this.subscribers);try{for(t.s();!(e=t.n()).done;){e.value.apply(void 0,arguments)}}catch(Be){t.e(Be)}finally{t.f()}return this}},{key:"clear",value:function(){this.subscribers=[]}}])}(),ng="__observedAppState",rg=function(e){var t,n,r={name:e.name,editingGroupId:e.editingGroupId,viewBackgroundColor:e.viewBackgroundColor,selectedElementIds:e.selectedElementIds,selectedGroupIds:e.selectedGroupIds,editingLinearElementId:(null===(t=e.editingLinearElement)||void 0===t?void 0:t.elementId)||null,selectedLinearElementId:(null===(n=e.selectedLinearElement)||void 0===n?void 0:n.elementId)||null,croppingElementId:e.croppingElementId};return Reflect.defineProperty(r,ng,{value:!0,enumerable:!1}),r},ag={IMMEDIATELY:"IMMEDIATELY",NEVER:"NEVER",EVENTUALLY:"EVENTUALLY"},ig=(0,s.A)((function e(t,n){(0,l.A)(this,e),this.elementsChange=t,this.appStateChange=n})),og=function(){return(0,s.A)((function e(){var t=this;(0,l.A)(this,e),(0,m.d)(this,"onStoreIncrementEmitter",new tg),(0,m.d)(this,"scheduledActions",new Set),(0,m.d)(this,"_snapshot",lg.empty()),(0,m.d)(this,"shouldCaptureIncrement",(function(){t.scheduleAction(ag.IMMEDIATELY)})),(0,m.d)(this,"shouldUpdateSnapshot",(function(){t.scheduleAction(ag.NEVER)})),(0,m.d)(this,"scheduleAction",(function(e){t.scheduledActions.add(e),t.satisfiesScheduledActionsInvariant()})),(0,m.d)(this,"commit",(function(e,n){try{t.scheduledActions.has(ag.IMMEDIATELY)?t.captureIncrement(e,n):t.scheduledActions.has(ag.NEVER)&&t.updateSnapshot(e,n)}finally{t.satisfiesScheduledActionsInvariant(),t.scheduledActions=new Set}})),(0,m.d)(this,"captureIncrement",(function(e,n){var r=t.snapshot,a=t.snapshot.maybeClone(e,n);if(r!==a){var i=a.meta.didElementsChange?eg.calculate(r.elements,a.elements):eg.empty(),o=a.meta.didAppStateChange?Qm.calculate(r.appState,a.appState):Qm.empty();(!i.isEmpty()||!o.isEmpty())&&t.onStoreIncrementEmitter.trigger(new ig(i,o)),t.snapshot=a}})),(0,m.d)(this,"updateSnapshot",(function(e,n){var r=t.snapshot.maybeClone(e,n);t.snapshot!==r&&(t.snapshot=r)})),(0,m.d)(this,"filterUncomittedElements",(function(e,n){var r,a=(0,u.A)(e.entries());try{for(a.s();!(r=a.n()).done;){var i=(0,f.A)(r.value,2),o=i[0],l=i[1];if(n.get(o)){var s=t.snapshot.elements.get(o);s?s.version<l.version&&n.set(o,s):n.delete(o)}}}catch(Be){a.e(Be)}finally{a.f()}return n})),(0,m.d)(this,"clear",(function(){t.snapshot=lg.empty(),t.scheduledActions=new Set})),(0,m.d)(this,"satisfiesScheduledActionsInvariant",(function(){if(!(t.scheduledActions.size>=0&&t.scheduledActions.size<=3)){var e='There can be at most three store actions scheduled at the same time, but there are "'.concat(t.scheduledActions.size,'".');if(console.error(e,t.scheduledActions.values()),U.a.DEV||U.a.MODE===ha.TEST)throw new Error(e)}}))}),[{key:"snapshot",get:function(){return this._snapshot},set:function(e){this._snapshot=e}}])}(),lg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{didElementsChange:!1,didAppStateChange:!1,isEmpty:!1};(0,l.A)(this,e),this.elements=t,this.appState=n,this.meta=r}return(0,s.A)(e,[{key:"isEmpty",value:function(){return this.meta.isEmpty}},{key:"maybeClone",value:function(t,n){var r=this.maybeCreateElementsSnapshot(t),a=this.maybeCreateAppStateSnapshot(n),i=!1,o=!1;return this.elements!==r&&(i=!0),this.appState!==a&&(o=!0),i||o?new e(r,a,{didElementsChange:i,didAppStateChange:o}):this}},{key:"maybeCreateAppStateSnapshot",value:function(e){if(!e)return this.appState;var t=function(e){return!!Reflect.get(e,ng)}(e)?e:rg(e);return this.detectChangedAppState(t)?t:this.appState}},{key:"detectChangedAppState",value:function(e){return!Al(this.appState,e,{selectedElementIds:Al,selectedGroupIds:Al})}},{key:"maybeCreateElementsSnapshot",value:function(e){return e&&this.detectChangedElements(e)?this.createElementsSnapshot(e):this.elements}},{key:"detectChangedElements",value:function(e){if(this.elements===e)return!1;if(this.elements.size!==e.size)return!0;for(var t=Array.from(e.keys()),n=t.length-1;n>=0;n--){var r=this.elements.get(t[n]),a=e.get(t[n]);if(!r||!a||r.id!==a.id||r.versionNonce!==a.versionNonce)return!0}return!1}},{key:"createElementsSnapshot",value:function(e){var t,n=new Map,r=(0,u.A)(this.elements.entries());try{for(r.s();!(t=r.n()).done;){var a=(0,f.A)(t.value,2),i=a[0],o=a[1];e.get(i)?n.set(i,o):n.set(i,zx(o,{isDeleted:!0}))}}catch(Be){r.e(Be)}finally{r.f()}var l,s=(0,u.A)(e.entries());try{for(s.s();!(l=s.n()).done;){var c=(0,f.A)(l.value,2),d=c[0],h=c[1],p=n.get(d);(!p||p&&p.versionNonce!==h.versionNonce)&&n.set(d,Fm(h))}}catch(Be){s.e(Be)}finally{s.f()}return n}}],[{key:"empty",value:function(){return new e(new Map,rg(ji()),{didElementsChange:!1,didAppStateChange:!1,isEmpty:!0})}}])}(),sg=new Map,cg=/^(?:http(?:s)?:\/\/)?(?:www\.)?youtu(?:be\.com|\.be)\/(embed\/|watch\?v=|shorts\/|playlist\?list=|embed\/videoseries\?list=)?([a-zA-Z0-9_-]+)(?:\?t=|&t=|\?start=|&start=)?([a-zA-Z0-9_-]+)?[^\s]*$/,dg=/^(?:http(?:s)?:\/\/)?(?:(?:w){3}\.)?(?:player\.)?vimeo\.com\/(?:video\/)?([^?\s]+)(?:\?.*)?$/,ug=/^https:\/\/(?:www\.)?figma\.com/,fg=/^https:\/\/gist\.github\.com\/([\w_-]+)\/([\w_-]+)/,hg=/^<script[\s\S]*?\ssrc=["'](https:\/\/gist\.github\.com\/.*?)\.js["']/i,pg=/(?:https?:\/\/)?(?:(?:w){3}\.)?(?:twitter|x)\.com\/[^/]+\/status\/(\d+)/,vg=/^<blockquote[\s\S]*?\shref=["'](https?:\/\/(?:twitter|x)\.com\/[^"']*)/i,Ug=/^https:\/\/(?:www\.)?val\.town\/(v|embed)\/[a-zA-Z_$][0-9a-zA-Z_$]+\.[a-zA-Z_$][0-9a-zA-Z_$]+/,mg=/^<(?:iframe|blockquote)[\s\S]*?\s(?:src|href)=["']([^"']*)["'][\s\S]*?>$/i,gg=/giphy.com\/(?:clips|embed|gifs)\/[a-zA-Z0-9]*?-?([a-zA-Z0-9]+)(?:[^a-zA-Z0-9]|$)/,bg=/^(?:http(?:s)?:\/\/)?(?:www\.)?reddit\.com\/r\/([a-zA-Z0-9_]+)\/comments\/([a-zA-Z0-9_]+)\/([a-zA-Z0-9_]+)\/?(?:\?[^#\s]*)?(?:#[^\s]*)?$/,yg=/^<blockquote[\s\S]*?\shref=["'](https?:\/\/(?:www\.)?reddit\.com\/[^"']*)/i,xg=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","link.excalidraw.com","gist.github.com","twitter.com","x.com","*.simplepdf.eu","stackblitz.com","val.town","giphy.com","reddit.com"]),wg=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","twitter.com","x.com","*.simplepdf.eu","stackblitz.com","reddit.com"]),Ag=function(e){return"<html><body>".concat(e,"</body></html>")},Eg=function(e){if(!e)return null;if(sg.has(e))return sg.get(e);var t=e,n=wg.has(Sg(e,wg)||""),r="generic",a={w:560,h:840},i=e.match(cg);if(null!==i&&void 0!==i&&i[2]){var o=i[3]?"&start=".concat(i[3]):"",l=e.includes("shorts");switch(r="video",i[1]){case"embed/":case"watch?v=":case"shorts/":default:e="https://www.youtube.com/embed/".concat(i[2],"?enablejsapi=1").concat(o);break;case"playlist?list=":case"embed/videoseries?list=":e="https://www.youtube.com/embed/videoseries?list=".concat(i[2],"&enablejsapi=1").concat(o)}return a=l?{w:315,h:560}:{w:560,h:315},sg.set(t,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}}var s=e.match(dg);if(null!==s&&void 0!==s&&s[1]){var c=null===s||void 0===s?void 0:s[1],d=/^\d+$/.test(c)?void 0:new URIError("Invalid embed link format");return r="video",e="https://player.vimeo.com/video/".concat(c,"?api=1"),a={w:560,h:315},sg.set(t,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,error:d,sandbox:{allowSameOrigin:n}}}if(e.match(ug))return r="generic",e="https://www.figma.com/embed?embed_host=share&url=".concat(encodeURIComponent(e)),a={w:550,h:550},sg.set(t,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}};var u=e.match(Ug);if(u)return e="embed"===u[1]?u[0]:u[0].replace("/v","/embed"),sg.set(t,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}};if(pg.test(e)){var h=e.match(pg)[1],p=Hl("https://twitter.com/x/status/".concat(h)),v={type:"document",srcdoc:function(e){return Ag('<blockquote class="twitter-tweet" data-dnt="true" data-theme="'.concat(e,'"><a href="').concat(p,'"></a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script>'))},intrinsicSize:{w:480,h:480},sandbox:{allowSameOrigin:n}};return sg.set(t,v),v}if(bg.test(e)){var U=e.match(bg),m=(0,f.A)(U,4),g=m[1],b=m[2],y=m[3],x=Hl("https://reddit.com/r/".concat(g,"/comments/").concat(b,"/").concat(y)),w={type:"document",srcdoc:function(e){return Ag('<blockquote class="reddit-embed-bq" data-embed-theme="'.concat(e,'"><a href="').concat(x,'"></a><br></blockquote><script async="" src="https://embed.reddit.com/widgets.js" charset="UTF-8"><\/script>'))},intrinsicSize:{w:480,h:480},sandbox:{allowSameOrigin:n}};return sg.set(t,w),w}if(fg.test(e)){var A=e.match(fg),E=(0,f.A)(A,3),k=E[1],S=E[2],M=Hl("https://gist.github.com/".concat(k,"/").concat(S)),C={type:"document",srcdoc:function(){return Ag('\n          <script src="'.concat(M,'.js"><\/script>\n          <style type="text/css">\n            * { margin: 0px; }\n            table, .gist { height: 100%; }\n            .gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }\n          </style>\n        '))},intrinsicSize:{w:550,h:720},sandbox:{allowSameOrigin:n}};return sg.set(e,C),C}return sg.set(e,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}},kg=function(e){var t,n;n=Yl(e)?"IFrame element":e.link&&""!==(null===e||void 0===e?void 0:e.link)?e.link:"Empty Web-Embed";var r=Math.max(Math.min(e.width/2,e.width/n.length),e.width/30),a=ma.Helvetica,i=Oo({fontSize:r,fontFamily:a});return Im({x:e.x+e.width/2,y:e.y+e.height/2,strokeColor:"transparent"!==e.strokeColor?e.strokeColor:"black",backgroundColor:"transparent",fontFamily:a,fontSize:r,text:Vs(n,i,e.width-20),textAlign:"center",verticalAlign:oi.MIDDLE,angle:null!==(t=e.angle)&&void 0!==t?t:0})},Sg=(dm({name:"setEmbeddableAsActiveTool",trackEvent:{category:"toolbar"},target:"Tool",label:"toolBar.embeddable",perform:function(e,t,n,r){var a=Yo(t,{type:"embeddable"});return gm(r.canvas,(0,v.A)((0,v.A)({},t),{},{activeTool:a})),{elements:e,appState:(0,v.A)((0,v.A)({},t),{},{activeTool:Yo(t,{type:"embeddable"})}),captureUpdate:ag.EVENTUALLY}}}),function(e,t){try{var n=new URL(e).hostname.replace(/^www\./,"");if(t instanceof Set){if(xg.has(n))return n;var r=n.replace(/^([^.]+)/,"*");return xg.has(r)?r:null}var a=t.replace(/^www\./,"");if(n===a)return a}catch(i){}return null}),Mg=function(e){var t=e.match(vg);if(t&&2===t.length)return t[1];var n=e.match(yg);if(n&&2===n.length)return n[1];var r=e.match(hg);if(r&&2===r.length)return r[1];if(gg.test(e))return"https://giphy.com/embed/".concat(gg.exec(e)[1]);var a=e.match(mg);return a&&2===a.length?a[1]:e},Cg=function(e,t){if(!e)return!1;if(null!=t)if("function"==typeof t){var n=t(e);if("boolean"==typeof n)return n}else{if("boolean"==typeof t)return t;if(t instanceof RegExp)return t.test(e);if(Array.isArray(t)){var r,a=(0,u.A)(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i instanceof RegExp){if(e.match(i))return!0}else if(Sg(e,i))return!0}}catch(Be){a.e(Be)}finally{a.f()}return!1}}return!!Sg(e,xg)},jg=function(e,t,n){if(typeof n>"u")return e.draw(t);var r={sets:t.sets,shape:t.shape,options:(0,v.A)((0,v.A)({},t.options),{},{fixedDecimalPlaceDigits:n})};return e.draw(r)},Ig=function(e,t,n,r,a){if(!r.enabled||!r.clip)return null;var i=fx(e,a);if(i){var o=t.ownerDocument.createElementNS(ri,"g");return o.setAttributeNS(ri,"clip-path","url(#".concat(i.id,")")),n.forEach((function(e){return o.appendChild(e)})),o}return null},Dg=function(e,t,n,r,a,i,o,l){var s,c,d=i,u=o,h=Ip(e,t),p=(0,f.A)(h,4),v=p[0],U=p[1],m=p[2],g=p[3],b=(m-v)/2-(e.x-v),y=(g-U)/2-(e.y-U);if(Kl(e)){var x=ZU(e,t);if(ns(x)){var w=Ip(x,t),A=(0,f.A)(w,4),E=A[0],k=A[1],S=A[2],M=A[3],C=PU.getBoundTextElementPosition(x,e,t);b=(S-E)/2-(C.x-E),y=(M-k)/2-(C.y-k),i=i+C.x-e.x,o=o+C.y-e.y}}var j=180*e.angle/Math.PI,I=r;if(e.link){var D=r.ownerDocument.createElementNS(ri,"a");D.setAttribute("href",om(e.link)),I.appendChild(D),I=D}var T=function(e,t){vl()&&e.setAttribute("data-id",t.id),I.appendChild(e)},_=(null!==(s=null===(c=fx(e,t))||void 0===c?void 0:c.opacity)&&void 0!==s?s:100)*e.opacity/1e4;switch(e.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":var L=Js.generateElementShape(e,null),R=jg(n,L,2);1!==_&&(R.setAttribute("stroke-opacity","".concat(_)),R.setAttribute("fill-opacity","".concat(_))),R.setAttribute("stroke-linecap","round"),R.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")")),T(Ig(e,I,[R],l.frameRendering,t)||R,e);break;case"iframe":case"embeddable":var P=Js.generateElementShape(e,l),N=jg(n,P,2),F=e.opacity/100;1!==F&&(N.setAttribute("stroke-opacity","".concat(F)),N.setAttribute("fill-opacity","".concat(F))),N.setAttribute("stroke-linecap","round"),N.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")")),T(N,e);var O=kg(e);Dg(O,t,n,I,a,O.x+d-e.x,O.y+u-e.y,l);var z=jg(n,P,2);for(z.setAttribute("stroke-linecap","round"),z.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")"));z.firstChild;)z.removeChild(z.firstChild);var B=Sh(Math.min(e.width,e.height),e),H=Eg(sm(e.link||""));if(!1===l.renderEmbeddables||"document"===(null===H||void 0===H?void 0:H.type)){var W=r.ownerDocument.createElementNS(ri,"a");W.setAttribute("href",om(e.link||"")),W.setAttribute("target","_blank"),W.setAttribute("rel","noopener noreferrer"),W.style.borderRadius="".concat(B,"px"),z.appendChild(W)}else{var X,G=r.ownerDocument.createElementNS(ri,"foreignObject");G.style.width="".concat(e.width,"px"),G.style.height="".concat(e.height,"px"),G.style.border="none";var V=G.ownerDocument.createElementNS(ri,"div");V.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),V.style.width="100%",V.style.height="100%";var Y=V.ownerDocument.createElement("iframe");Y.src=null!==(X=null===H||void 0===H?void 0:H.link)&&void 0!==X?X:"",Y.style.width="100%",Y.style.height="100%",Y.style.border="none",Y.style.borderRadius="".concat(B,"px"),Y.style.top="0",Y.style.left="0",Y.allowFullscreen=!0,V.appendChild(Y),G.appendChild(V),z.appendChild(G)}T(z,e);break;case"line":case"arrow":var Z=YU(e,t),K=r.ownerDocument.createElementNS(ri,"mask");if(Z){K.setAttribute("id","mask-".concat(e.id));var q=r.ownerDocument.createElementNS(ri,"rect");i=i||0,o=o||0,q.setAttribute("x","0"),q.setAttribute("y","0"),q.setAttribute("fill","#fff"),q.setAttribute("width","".concat(e.width+100+i)),q.setAttribute("height","".concat(e.height+100+o)),K.appendChild(q);var $=r.ownerDocument.createElementNS(ri,"rect"),Q=PU.getBoundTextElementPosition(e,Z,t),J=i+Q.x-e.x,ee=o+Q.y-e.y;$.setAttribute("x",J.toString()),$.setAttribute("y",ee.toString()),$.setAttribute("fill","#000"),$.setAttribute("width","".concat(Z.width)),$.setAttribute("height","".concat(Z.height)),$.setAttribute("opacity","1"),K.appendChild($)}var te=r.ownerDocument.createElementNS(ri,"g");Z&&te.setAttribute("mask","url(#mask-".concat(e.id,")")),te.setAttribute("stroke-linecap","round"),Js.generateElementShape(e,l).forEach((function(t){var r=jg(n,t,2);1!==_&&(r.setAttribute("stroke-opacity","".concat(_)),r.setAttribute("fill-opacity","".concat(_))),r.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")")),"line"===e.type&&Mh(e.points)&&"transparent"!==e.backgroundColor&&r.setAttribute("fill-rule","evenodd"),te.appendChild(r)}));var ne=Ig(e,I,[te,K],l.frameRendering,t);ne?(T(ne,e),I.appendChild(ne)):(T(te,e),I.append(K));break;case"freedraw":var re=Js.generateElementShape(e,l),ae=re?jg(n,re,2):r.ownerDocument.createElementNS(ri,"g");1!==_&&(ae.setAttribute("stroke-opacity","".concat(_)),ae.setAttribute("fill-opacity","".concat(_))),ae.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")")),ae.setAttribute("stroke","none");var ie=r.ownerDocument.createElementNS(ri,"path");ie.setAttribute("fill",e.strokeColor),ie.setAttribute("d",qh(e)),ae.appendChild(ie),T(Ig(e,I,[ae],l.frameRendering,t)||ae,e);break;case"image":var oe=Math.round(e.width),le=Math.round(e.height),se=Xl(e)&&a[e.fileId];if(se){var ce,de=l.reuseImages,ue=void 0===de||de,fe="image-".concat(se.id),he=e.width,pe=e.height;e.crop&&(he=(ce=Dh(e)).width,pe=ce.height,fe="image-crop-".concat(se.id,"-").concat(Cw("".concat(he,"x").concat(pe)))),ue||(fe="image-".concat(e.id));var ve=r.querySelector("#".concat(fe));if(!ve){(ve=r.ownerDocument.createElementNS(ri,"symbol")).id=fe;var Ue=r.ownerDocument.createElementNS(ri,"image");Ue.setAttribute("href",se.dataURL),Ue.setAttribute("preserveAspectRatio","none"),e.crop||!ue?(Ue.setAttribute("width","".concat(he)),Ue.setAttribute("height","".concat(pe))):(Ue.setAttribute("width","100%"),Ue.setAttribute("height","100%")),ve.appendChild(Ue),(I.querySelector("defs")||I).prepend(ve)}var me=r.ownerDocument.createElementNS(ri,"use");me.setAttribute("href","#".concat(fe)),l.exportWithDarkMode&&se.mimeType!==La.svg&&me.setAttribute("filter",Lh);var ge=0,be=0;if(e.crop){var ye=Dh(e),xe=ye.width,we=ye.height;ge=e.crop.x/(e.crop.naturalWidth/xe),be=e.crop.y/(e.crop.naturalHeight/we)}var Ae=b+ge,Ee=y+be;me.setAttribute("width","".concat(oe+ge)),me.setAttribute("height","".concat(le+be)),me.setAttribute("opacity","".concat(_)),(1!==e.scale[0]||1!==e.scale[1])&&me.setAttribute("transform","translate(".concat(Ae," ").concat(Ee,") scale(").concat(e.scale[0]," ").concat(e.scale[1],") translate(").concat(-Ae," ").concat(-Ee,")"));var ke=r.ownerDocument.createElementNS(ri,"g");if(e.crop){var Se=r.ownerDocument.createElementNS(ri,"mask");Se.setAttribute("id","mask-image-crop-".concat(e.id)),Se.setAttribute("fill","#fff");var Me=r.ownerDocument.createElementNS(ri,"rect");Me.setAttribute("x","".concat(ge)),Me.setAttribute("y","".concat(be)),Me.setAttribute("width","".concat(oe)),Me.setAttribute("height","".concat(le)),Se.appendChild(Me),I.appendChild(Se),ke.setAttribute("mask","url(#".concat(Se.id,")"))}if(ke.appendChild(me),ke.setAttribute("transform","translate(".concat(i-ge," ").concat(o-be,") rotate(").concat(j," ").concat(Ae," ").concat(Ee,")")),e.roundness){var Ce=r.ownerDocument.createElementNS(ri,"clipPath");Ce.id="image-clipPath-".concat(e.id);var je=r.ownerDocument.createElementNS(ri,"rect"),Ie=Sh(Math.min(e.width,e.height),e);je.setAttribute("width","".concat(e.width)),je.setAttribute("height","".concat(e.height)),je.setAttribute("rx","".concat(Ie)),je.setAttribute("ry","".concat(Ie)),Ce.appendChild(je),T(Ce,e),ke.setAttributeNS(ri,"clip-path","url(#".concat(Ce.id,")"))}T(Ig(e,I,[ke],l.frameRendering,t)||ke,e)}break;case"frame":case"magicframe":if(l.frameRendering.enabled&&l.frameRendering.outline){var De=document.createElementNS(ri,"rect");De.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")")),De.setAttribute("width","".concat(e.width,"px")),De.setAttribute("height","".concat(e.height,"px")),De.setAttribute("rx",xa.radius.toString()),De.setAttribute("ry",xa.radius.toString()),De.setAttribute("fill","none"),De.setAttribute("stroke",xa.strokeColor),De.setAttribute("stroke-width",xa.strokeWidth.toString()),T(De,e)}break;default:if(!Kl(e))throw new Error("Unimplemented type ".concat(e.type));var Te=r.ownerDocument.createElementNS(ri,"g");1!==_&&(Te.setAttribute("stroke-opacity","".concat(_)),Te.setAttribute("fill-opacity","".concat(_))),Te.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")"));for(var _e=e.text.replace(/\r\n?/g,"\n").split("\n"),Le=ks(e.fontSize,e.lineHeight),Re="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,Pe=Nf(e.fontFamily,e.fontSize,Le),Ne=Jo(e.text)?"rtl":"ltr",Fe="center"===e.textAlign?"middle":"right"===e.textAlign||"rtl"===Ne?"end":"start",Oe=0;Oe<_e.length;Oe++){var ze=r.ownerDocument.createElementNS(ri,"text");ze.textContent=_e[Oe],ze.setAttribute("x","".concat(Re)),ze.setAttribute("y","".concat(Oe*Le+Pe)),ze.setAttribute("font-family",Fo(e)),ze.setAttribute("font-size","".concat(e.fontSize,"px")),ze.setAttribute("fill",e.strokeColor),ze.setAttribute("text-anchor",Fe),ze.setAttribute("style","white-space: pre;"),ze.setAttribute("direction",Ne),ze.setAttribute("dominant-baseline","alphabetic"),Te.appendChild(ze)}T(Ig(e,I,[Te],l.frameRendering,t)||Te,e)}},Tg=function(e,t,n,r,a,i){r&&(e.filter((function(e){return!Zl(e)})).forEach((function(e){if(!e.isDeleted){if(Kl(e)&&e.containerId&&t.has(e.containerId))return;try{Dg(e,t,n,r,a,e.x+i.offsetX,e.y+i.offsetY,i);var o=YU(e,t);o&&Dg(o,t,n,r,a,o.x+i.offsetX,o.y+i.offsetY,i)}catch(o){console.error(o)}}})),e.filter((function(e){return Zl(e)})).forEach((function(e){if(!e.isDeleted)try{Dg(e,t,n,r,a,e.x+i.offsetX,e.y+i.offsetY,i)}catch(o){console.error(o)}})))},_g=function(e){var t,n,r,a=null===(t=e.extensions)||void 0===t?void 0:t.reduce((function(e,t){return e.push(La[t]),e}),[]),i=null===(n=e.extensions)||void 0===n?void 0:n.reduce((function(e,t){return"jpg"===t?e.concat(".jpg",".jpeg"):e.concat(".".concat(t))}),[]);return function(){return mr.apply(this,arguments)}({description:e.description,extensions:i,mimeTypes:a,multiple:null!==(r=e.multiple)&&void 0!==r&&r,legacySetup:function(t,n,r){var a=zo(n,500),i=function(){o(),document.addEventListener("keyup",a),document.addEventListener("pointerup",a),a()},o=function(){var n;if(null!==(n=r.files)&&void 0!==n&&n.length){var a=e.multiple?(0,h.A)(r.files):r.files[0];t(a)}};requestAnimationFrame((function(){window.addEventListener("focus",i)}));var l=window.setInterval((function(){o()}),500);return function(e){clearInterval(l),a.cancel(),window.removeEventListener("focus",i),document.removeEventListener("keyup",a),document.removeEventListener("pointerup",a),e&&(console.warn("Opening the file was canceled (legacy-fs)."),e(new lf))}}})},Lg=function(e,t){return function(){return br.apply(this,arguments)}(e,{fileName:"".concat(t.name,".").concat(t.extension),description:t.description,extensions:[".".concat(t.extension)],mimeTypes:t.mimeTypes},t.fileHandle)},Rg=function(e,t){var n,r={},a=(0,u.A)(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;!i.isDeleted&&"fileId"in i&&i.fileId&&t[i.fileId]&&(r[i.fileId]=t[i.fileId])}}catch(Be){a.e(Be)}finally{a.f()}return r},Pg=function(e,t,n,r){var a={type:Na.excalidraw,version:ai.excalidraw,source:Fa,elements:"local"===r?Lw(e):_w(e),appState:"local"===r?Ti(t):_i(t),files:"local"===r?Rg(e,n):void 0};return JSON.stringify(a,null,2)},Ng=function(){var e=(0,d.A)((0,c.A)().mark((function e(t,n,r){var a,i,o,l=arguments;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:n.name||yi,i=Pg(t,n,r,"local"),o=new Blob([i],{type:La.excalidraw}),e.next=4,Lg(o,{name:a,extension:"excalidraw",description:"Excalidraw file",fileHandle:Fw(n.fileHandle)?null:n.fileHandle});case 4:return e.t0=e.sent,e.abrupt("return",{fileHandle:e.t0});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Fg=function(){var e=(0,d.A)((0,c.A)().mark((function e(t,n){var r;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_g({description:"Excalidraw files"});case 2:return r=e.sent,e.t0=Hw,e.next=6,aA(r);case 6:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=r.handle,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Og=function(e){return(null===e||void 0===e?void 0:e.type)===Na.excalidraw&&(!e.elements||Array.isArray(e.elements)&&(!e.appState||"object"==typeof e.appState))},zg=function(e){return"object"==typeof e&&e&&e.type===Na.excalidrawLibrary&&(1===e.version||2===e.version)},Bg=function(e){var t={type:Na.excalidrawLibrary,version:ai.excalidrawLibrary,source:Fa,libraryItems:e};return JSON.stringify(t,null,2)},Hg=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bg(t),e.next=3,Lg(new Blob([n],{type:La.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wg=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.src=e}))},Xg=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n,r,a,i,o;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fileIds,r=t.files,a=t.imageCache,i=new Map,o=new Map,e.next=4,Promise.all(n.reduce((function(e,t){var n=r[t];return n&&!i.has(t)?(i.set(t,!0),e.concat((0,d.A)((0,c.A)().mark((function e(){var r,i,l;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.mimeType!==La.binary){e.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return r=Wg(n.dataURL),i={image:r,mimeType:n.mimeType},a.set(t,i),e.next=7,r;case 7:l=e.sent,a.set(t,(0,v.A)((0,v.A)({},i),{},{image:l})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),o.set(t,!0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))())):e}),[]));case 4:return e.abrupt("return",{imageCache:a,updatedFiles:i,erroredFiles:o});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gg=function(e){return e.filter((function(e){return Xl(e)}))},Vg=function(e){var t,n,r=(new DOMParser).parseFromString(e,La.svg),a=r.querySelector("svg");if(r.querySelector("parsererror")||!function(e){return"svg"===(null===e||void 0===e?void 0:e.nodeName.toLowerCase())}(a))throw new Error("Invalid SVG");a.hasAttribute("xmlns")||a.setAttribute("xmlns",ri);var i=a.getAttribute("width"),o=a.getAttribute("height");(null!==(t=i)&&void 0!==t&&t.includes("%")||"auto"===i)&&(i=null),((null===(n=o)||void 0===n?void 0:n.includes("%"))||"auto"===o)&&(o=null);var l=a.getAttribute("viewBox");if(!i||!o){if(i=i||"50",o=o||"50",l){var s,c,d=l.match(/\d+ +\d+ +(\d+(?:\.\d+)?) +(\d+(?:\.\d+)?)/);d&&(s=d,i=(c=(0,f.A)(s,3))[1],o=c[2])}a.setAttribute("width",i),a.setAttribute("height",o)}return l||a.setAttribute("viewBox","0 0 ".concat(i," ").concat(o)),a.outerHTML},Yg=document.createElement("img");Yg.src="data:".concat(La.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var Zg=document.createElement("img");Zg.src="data:".concat(La.svg,", ").concat(encodeURIComponent('<svg  xmlns="http://www.w3.org/2000/svg"  width="16"  height="16"  viewBox="0 0 24 24"  fill="none"  stroke="#1971c2"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-big-right-line"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 9v-3.586a1 1 0 0 1 1.707 -.707l6.586 6.586a1 1 0 0 1 0 1.414l-6.586 6.586a1 1 0 0 1 -1.707 -.707v-3.586h-6v-6h6z" /><path d="M3 9v6" /></svg>'));var Kg,qg=function(e,t,n){var r=(0,f.A)(e,4),a=r[0],i=r[1],o=r[2],l=r[3],s=14/n.zoom.value,c=14/n.zoom.value,d=14/n.zoom.value,u=(a+o)/2,h=(i+l)/2,p=6/(2*n.zoom.value),v=4/n.zoom.value,U=ao(Ji(o+v-p+s/2,i-v-d+p+c/2),Ji(u,h),t),m=(0,f.A)(U,2);return[m[0]-s/2,m[1]-c/2,s,c]},$g=function(e,t,n,r){var a=(0,f.A)(r,2),i=a[0],o=a[1],l=4/n.zoom.value,s=Ip(e,t),c=(0,f.A)(s,4),d=c[0],u=c[1],h=c[2],p=c[3],v=qg([d,u,h,p],e.angle,n),U=(0,f.A)(v,4),m=U[0],g=U[1],b=U[2],y=U[3];return i>m-l&&i<m+l+b&&o>g-l&&o<g+y+l},Qg=function(e,t,n,r,a){var i=(0,f.A)(r,2),o=i[0],l=i[1];return!(!e.link||n.selectedElementIds[e.id])&&(!(a||!n.viewModeEnabled||!nh(o,l,e,t))||$g(e,t,n,Ji(o,l)))},Jg=function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),a&&e.stroke()},eb=function(e,t){return[e.width/t,e.height/t]},tb=function(e){var t=e.canvas,n=e.scale,r=e.normalizedWidth,a=e.normalizedHeight,i=e.theme,o=e.isExporting,l=e.viewBackgroundColor,s=t.getContext("2d");return s.setTransform(1,0,0,1,0,0),s.scale(n,n),o&&i===ya.DARK&&(s.filter=Ya),"string"==typeof l?(("transparent"===l||5===l.length||9===l.length||/(hsla|rgba)\(/.test(l))&&s.clearRect(0,0,r,a),s.save(),s.fillStyle=l,s.fillRect(0,0,r,a),s.restore()):s.clearRect(0,0,r,a),s},nb=function(e,t){var n=window.location.href;try{var r=new URL(n);return r.searchParams.set(ki,e),om(r.toString())}catch(r){console.error(r)}return om(n)},rb=function(e,t){if(e.length>0&&ab(e)){if(1===e.length)return{id:e[0].id,type:"element"};if(e.length>1){var n=Object.keys(t.selectedGroupIds)[0];return n?{id:n,type:"group"}:{id:e[0].groupIds[0],type:"group"}}}return null},ab=function(e){return!!(1===e.length||e.length>1&&cU(e))},ib=function(e){try{var t=new URL(e);return t.searchParams.has(ki)&&t.host===window.location.host}catch(n){return!1}},ob=function(e){try{var t=new URL(e).searchParams;if(t.has(ki))return t.get(ki)}catch(n){}return null},lb="#dddddd",sb="#e5e5e5",cb=function(e,t,n,r){t.translate(e.x+r.scrollX,e.y+r.scrollY),t.beginPath(),t.roundRect?t.roundRect(0,0,e.width,e.height,xa.radius/r.zoom.value):t.rect(0,0,e.width,e.height),t.clip(),t.translate(-(e.x+r.scrollX),-(e.y+r.scrollY))},db={regularLink:null,elementLink:null},ub=function(e,t,n,r){if(e.link&&!n.selectedElementIds[e.id]){var a=Ip(e,r),i=(0,f.A)(a,4),o=i[0],l=i[1],s=i[2],c=i[3],d=qg([o,l,s,c],e.angle,n),u=(0,f.A)(d,4),h=u[0],p=u[1],v=u[2],U=u[3],m=h+v/2,g=p+U/2;t.save(),t.translate(n.scrollX+m,n.scrollY+g),t.rotate(e.angle);var b=ib(e.link)?"elementLink":"regularLink",y=db[b];if(!y||y.zoom!==n.zoom.value){(y=Object.assign(document.createElement("canvas"),{zoom:n.zoom.value})).width=v*window.devicePixelRatio*n.zoom.value,y.height=U*window.devicePixelRatio*n.zoom.value,db[b]=y;var x=y.getContext("2d");x.scale(window.devicePixelRatio*n.zoom.value,window.devicePixelRatio*n.zoom.value),x.fillStyle="#fff",x.fillRect(0,0,v,U),"elementLink"===b?x.drawImage(Zg,0,0,v,U):x.drawImage(Yg,0,0,v,U),x.restore()}t.drawImage(y,h-m,p-g,v,U),t.restore()}},fb=function(e){var t,n=e.canvas,r=e.rc,a=e.elementsMap,i=e.allElementsMap,o=e.visibleElements,l=e.scale,s=e.appState,c=e.renderConfig;if(null!==n){var d=c.renderGrid,u=void 0===d||d,h=c.isExporting,p=eb(n,l),v=(0,f.A)(p,2),U=v[0],m=v[1],g=tb({canvas:n,scale:l,normalizedWidth:U,normalizedHeight:m,theme:s.theme,isExporting:h,viewBackgroundColor:s.viewBackgroundColor});g.scale(s.zoom.value,s.zoom.value),u&&function(e,t,n,r,a,i,o,l){var s=r%t-t,c=a%t-t,d=t*i.value,u=1/i.value;e.save(),1===i.value&&e.translate(s%1?0:.5,c%1?0:.5);for(var f=s;f<s+o+2*t;f+=t){var h=n>1&&Math.round(f-r)%(n*t)===0;if(h||!(d<10)){var p=Math.min(1/i.value,h?4:1);e.lineWidth=p;var v=[3*p,u+(p+u)];e.beginPath(),e.setLineDash(h?[]:v),e.strokeStyle=h?lb:sb,e.moveTo(f,c-t),e.lineTo(f,Math.ceil(c+l+2*t)),e.stroke()}}for(var U=c;U<c+l+2*t;U+=t){var m=n>1&&Math.round(U-a)%(n*t)===0;if(m||!(d<10)){var g=Math.min(1/i.value,m?4:1);e.lineWidth=g;var b=[3*g,u+(g+u)];e.beginPath(),e.setLineDash(m?[]:b),e.strokeStyle=m?lb:sb,e.moveTo(s-t,U),e.lineTo(Math.ceil(s+o+2*t),U),e.stroke()}}e.restore()}(g,s.gridSize,s.gridStep,s.scrollX,s.scrollY,s.zoom,U/s.zoom.value,m/s.zoom.value);var b=new Set;o.forEach((function(e){e.groupIds.length>0&&s.frameToHighlight&&s.selectedElementIds[e.id]&&(rx(e,s.frameToHighlight,a)||e.groupIds.find((function(e){return b.has(e)})))&&e.groupIds.forEach((function(e){return b.add(e)}))}));var y=new Map;o.filter((function(e){return!Zl(e)})).forEach((function(e){try{var t,n=e.frameId||(null===(t=s.frameToHighlight)||void 0===t?void 0:t.id);if(Kl(e)&&e.containerId&&a.has(e.containerId))return;if(g.save(),n&&s.frameRendering.enabled&&s.frameRendering.clip){var o=yx(e,a,s);o&&wx(e,o,s,a,y)&&cb(o,g,0,s),Zh(e,a,i,r,g,c,s)}else Zh(e,a,i,r,g,c,s);var l=YU(e,a);l&&Zh(l,a,i,r,g,c,s),g.restore(),h||ub(e,g,s,a)}catch(n){console.error(n,e.id,e.x,e.y,e.width,e.height)}})),o.filter((function(e){return Zl(e)})).forEach((function(e){try{var t,n=function(){if(Zh(e,a,i,r,g,c,s),Zl(e)&&(h||Vl(e)&&!0!==c.embedsValidationStatus.get(e.id))&&e.width&&e.height){var t=kg(e);Zh(t,a,i,r,g,c,s)}h||ub(e,g,s,a)};if((e.frameId||null!==(t=s.frameToHighlight)&&void 0!==t&&t.id)&&s.frameRendering.enabled&&s.frameRendering.clip){g.save();var o=yx(e,a,s);o&&wx(e,o,s,a,y)&&cb(o,g,0,s),n(),g.restore()}else n()}catch(n){console.error(n)}})),null===(t=c.pendingFlowchartNodes)||void 0===t||t.forEach((function(e){try{Zh(e,a,i,r,g,c,s)}catch(t){console.error(t)}}))}},hb=Bo((function(e){fb(e)}),{trailing:!0}),pb=function(e,t){t?hb(e):fb(e)},vb=function(e,t){if(e.width<=t)return e;var n=document.createElement("canvas").getContext("2d");n.font=Oo({fontFamily:e.fontFamily,fontSize:e.fontSize});var r=e.text;if(n.measureText(r).width>t)for(var a=r.length;a>0;a--){var i="".concat(r.slice(0,a),"...");if(n.measureText(i).width<=t){r=i;break}}return zx(e,{text:r,width:t})},Ub=function(e,t){return t=t||ji().frameRendering,{enabled:!!e||t.enabled,outline:!e&&t.outline,name:!e&&t.name,clip:!!e||t.clip}},mb=function(e){var t,n=e.elements,r=e.exportingFrame,a=e.frameRendering,i=e.exportWithDarkMode;return t=r?Ex(n,r):a.enabled&&a.name?function(e,t){var n,r=[],a=(0,u.A)(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(Ql(i)){var o=Im({x:i.x,y:i.y-xa.nameOffsetY,fontFamily:ma.Helvetica,fontSize:xa.nameFontSize,lineHeight:xa.nameLineHeight,strokeColor:t.exportWithDarkMode?xa.nameColorDarkTheme:xa.nameColorLightTheme,text:Ax(i)});o.y-=o.height,o=vb(o,i.width),r.push(o)}r.push(i)}}catch(Be){a.e(Be)}finally{a.f()}return r}(n,{exportWithDarkMode:i}):n,t},gb=function(){var e=(0,d.A)((0,c.A)().mark((function e(t,n,r,a){var i,o,l,s,u,h,p,U,m,g,b,y,x,w,A,E,k,S,M,C,j,I,D,T=arguments;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.exportBackground,l=a.exportPadding,s=void 0===l?ei:l,u=a.viewBackgroundColor,h=a.exportingFrame,p=T.length>4&&void 0!==T[4]?T[4]:function(e,t){var r=document.createElement("canvas");return r.width=e*n.exportScale,r.height=t*n.exportScale,{canvas:r,scale:n.exportScale}},U=T.length>5&&void 0!==T[5]?T[5]:(0,d.A)((0,c.A)().mark((function e(){return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pf.loadElementsFonts(t);case 2:case"end":return e.stop()}}),e)}))),e.next=5,U();case 5:return m=Ub(null!==h&&void 0!==h?h:null,null!==(i=n.frameRendering)&&void 0!==i?i:null),h&&(m.clip=!1),g=mb({elements:t,exportingFrame:h,exportWithDarkMode:n.exportWithDarkMode,frameRendering:m}),h&&(s=0),b=Ab(h?[h]:sx(g),s),y=(0,f.A)(b,4),x=y[0],w=y[1],A=y[2],E=y[3],k=p(A,E),S=k.canvas,M=k.scale,C=void 0===M?1:M,j=ji(),e.next=22,Xg({imageCache:new Map,fileIds:Gg(g).map((function(e){return e.fileId})),files:r});case 22:return I=e.sent,D=I.imageCache,e.abrupt("return",(pb({canvas:S,rc:In.A.canvas(S),elementsMap:Fl(ul(g)),allElementsMap:Fl(ul(Gm(t))),visibleElements:g,scale:C,appState:(0,v.A)((0,v.A)({},n),{},{frameRendering:m,viewBackgroundColor:o?u:null,scrollX:-x+s,scrollY:-w+s,zoom:j.zoom,shouldCacheIgnoreZoom:!1,theme:n.exportWithDarkMode?ya.DARK:ya.LIGHT}),renderConfig:{canvasBackgroundColor:u,imageCache:D,renderGrid:!1,isExporting:!0,embedsValidationStatus:new Map,elementsPendingErasure:new Set,pendingFlowchartNodes:null}}),S));case 25:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),bb=function(e){return document.createComment(" ".concat(e," "))},yb=function(){var e=(0,d.A)((0,c.A)().mark((function e(t,n,r,a){var i,o,l,s,d,h,p,v,U,m,g,b,y,x,w,A,E,k,S,M,C,j,I,D,T,_,L,R,P,N,F,O,z,B,H,W,X,G,V,Y,Z,K,q,$,Q,J,ee,te;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=Ub(null!==(i=null===a||void 0===a?void 0:a.exportingFrame)&&void 0!==i?i:null,null!==(o=n.frameRendering)&&void 0!==o?o:null),h=n.exportPadding,p=void 0===h?ei:h,v=n.exportWithDarkMode,U=void 0!==v&&v,m=n.viewBackgroundColor,g=n.exportScale,b=void 0===g?1:g,y=n.exportEmbedScene,x=(a||{}).exportingFrame,A=mb({elements:t,exportingFrame:w=void 0===x?null:x,exportWithDarkMode:U,frameRendering:d}),w&&(p=0),E=Ab(w?[w]:sx(A),p),k=(0,f.A)(E,4),S=k[0],M=k[1],C=k[2],j=k[3],I=-S+p,D=-M+p,(T=document.createElementNS(ri,"svg")).setAttribute("version","1.1"),T.setAttribute("xmlns",ri),T.setAttribute("viewBox","0 0 ".concat(C," ").concat(j)),T.setAttribute("width","".concat(C*b)),T.setAttribute("height","".concat(j*b)),U&&T.setAttribute("filter",Ya),_=T.ownerDocument.createElementNS(ri,"defs"),L=T.ownerDocument.createElementNS(ri,"metadata"),T.appendChild(bb("svg-source:excalidraw")),T.appendChild(L),T.appendChild(_),y)try{xb({metadataElement:L,payload:Pg(t,n,r||{},"local")})}catch(P){console.error(P)}if((R=lx(t)).length){P=ul(t),N=(0,u.A)(R);try{for(N.s();!(F=N.n()).done;)O=F.value,(z=T.ownerDocument.createElementNS(ri,"clipPath")).setAttribute("id",O.id),B=Ip(O,P),H=(0,f.A)(B,4),W=H[0],X=H[1],G=H[2],V=H[3],Y=(G-W)/2-(O.x-W),Z=(V-X)/2-(O.y-X),(K=T.ownerDocument.createElementNS(ri,"rect")).setAttribute("transform","translate(".concat(O.x+I," ").concat(O.y+D,") rotate(").concat(O.angle," ").concat(Y," ").concat(Z,")")),K.setAttribute("width","".concat(O.width)),K.setAttribute("height","".concat(O.height)),w||(K.setAttribute("rx","".concat(xa.radius)),K.setAttribute("ry","".concat(xa.radius))),z.appendChild(K),_.appendChild(z)}catch(Be){N.e(Be)}finally{N.f()}}if(null===a||void 0===a||!a.skipInliningFonts){e.next=12;break}e.t0=[],e.next=15;break;case 12:return e.next=14,Pf.generateFontFaceDeclarations(t);case 14:e.t0=e.sent;case 15:return q=e.t0,$="\n      ",(Q=T.ownerDocument.createElementNS(ri,"style")).classList.add("style-fonts"),Q.appendChild(document.createTextNode("".concat($).concat(q.join($)))),_.appendChild(Q),n.exportBackground&&m&&((J=T.ownerDocument.createElementNS(ri,"rect")).setAttribute("x","0"),J.setAttribute("y","0"),J.setAttribute("width","".concat(C)),J.setAttribute("height","".concat(j)),J.setAttribute("fill",m),T.appendChild(J)),ee=In.A.svg(T),te=null!==(l=null===a||void 0===a?void 0:a.renderEmbeddables)&&void 0!==l&&l,e.abrupt("return",(Tg(A,Fl(ul(A)),ee,T,r||{},{offsetX:I,offsetY:D,isExporting:!0,exportWithDarkMode:U,renderEmbeddables:te,frameRendering:d,canvasBackgroundColor:m,embedsValidationStatus:te?new Map(A.filter((function(e){return Ql(e)})).map((function(e){return[e.id,!0]}))):new Map,reuseImages:null===(s=null===a||void 0===a?void 0:a.reuseImages)||void 0===s||s}),T));case 21:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),xb=function(e){var t=e.payload,n=e.metadataElement,r=cA(JSON.stringify(uA({text:t})),!0);n.appendChild(bb("payload-type:".concat(La.excalidraw))),n.appendChild(bb("payload-version:2")),n.appendChild(bb("payload-start")),n.appendChild(document.createTextNode(r)),n.appendChild(bb("payload-end"))},wb=function(e){var t=e.svg;if(t.includes("payload-type:".concat(La.excalidraw))){var n,r=t.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/);if(!r)throw new Error("INVALID");var a="1"!==((null===(n=t.match(/<!-- payload-version:(\d+) -->/))||void 0===n?void 0:n[1])||"1");try{var i=dA(r[1],a),o=JSON.parse(i);if(!("encoded"in o)){if("type"in o&&o.type===Na.excalidraw)return i;throw new Error("FAILED")}return fA(o)}catch(i){throw console.error(i),new Error("FAILED")}}throw new Error("INVALID")},Ab=function(e,t){var n=Bp(e),r=(0,f.A)(n,4),a=r[0],i=r[1],o=r[2],l=r[3];return[a,i,Vo(a,o)+2*t,Vo(i,l)+2*t]},Eb=function(e,t,n){var r=Ab(e,t).map((function(e){return Math.trunc(e*n)})),a=(0,f.A)(r,4);return[a[2],a[3]]},kb=function(){return(0,s.A)((function e(t){(0,l.A)(this,e),this.scoreFunction=t,(0,m.d)(this,"content",[])}),[{key:"sinkDown",value:function(e){for(var t=this.content[e];e>0;){var n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}}},{key:"bubbleUp",value:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var a=e+1<<1,i=a-1,o=null,l=0;if(i<t){var s=this.content[i];(l=this.scoreFunction(s))<r&&(o=i)}if(a<t){var c=this.content[a];this.scoreFunction(c)<(null===o?r:l)&&(o=a)}if(null===o)break;this.content[e]=this.content[o],this.content[o]=n,e=o}}},{key:"push",value:function(e){this.content.push(e),this.sinkDown(this.content.length-1)}},{key:"pop",value:function(){if(0===this.content.length)return null;var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e}},{key:"remove",value:function(e){if(0!==this.content.length){var t=this.content.indexOf(e),n=this.content.pop();t<this.content.length&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))}}},{key:"size",value:function(){return this.content.length}},{key:"rescoreElement",value:function(e){this.sinkDown(this.content.indexOf(e))}}])}(),Sb=40,Mb=1e6,Cb=function(e,t,n,r){var a,i,l,s,c,d,h,p,m,g,b,y,x,w,A,E,k,S,M,C,j,I,D,T,_,L,R,P,N,F,O;if(e.points.length<2)return{points:null!==(a=n.points)&&void 0!==a?a:e.points};(e.x<-1e6||e.x>Mb||e.y<-1e6||e.y>Mb||e.x+(null!==(i=null===n||void 0===n||null===(l=n.points)||void 0===l||null===(l=l[(null===n||void 0===n||null===(s=n.points)||void 0===s?void 0:s.length)-1])||void 0===l?void 0:l[0])&&void 0!==i?i:0)<-1e6||e.x+(null!==(c=null===n||void 0===n||null===(d=n.points)||void 0===d||null===(d=d[(null===n||void 0===n||null===(h=n.points)||void 0===h?void 0:h.length)-1])||void 0===d?void 0:d[0])&&void 0!==c?c:0)>Mb||e.y+(null!==(p=null===n||void 0===n||null===(m=n.points)||void 0===m||null===(m=m[(null===n||void 0===n||null===(g=n.points)||void 0===g?void 0:g.length)-1])||void 0===m?void 0:m[1])&&void 0!==p?p:0)<-1e6||e.y+(null!==(b=null===n||void 0===n||null===(y=n.points)||void 0===y||null===(y=y[(null===n||void 0===n||null===(x=n.points)||void 0===x?void 0:x.length)-1])||void 0===y?void 0:y[1])&&void 0!==b?b:0)>Mb||e.x+(null!==(w=null===e||void 0===e||null===(A=e.points)||void 0===A||null===(A=A[(null===e||void 0===e||null===(E=e.points)||void 0===E?void 0:E.length)-1])||void 0===A?void 0:A[0])&&void 0!==w?w:0)<-1e6||e.x+(null!==(k=null===e||void 0===e||null===(S=e.points)||void 0===S||null===(S=S[(null===e||void 0===e||null===(M=e.points)||void 0===M?void 0:M.length)-1])||void 0===S?void 0:S[0])&&void 0!==k?k:0)>Mb||e.y+(null!==(C=null===e||void 0===e||null===(j=e.points)||void 0===j||null===(j=j[(null===e||void 0===e||null===(I=e.points)||void 0===I?void 0:I.length)-1])||void 0===j?void 0:j[1])&&void 0!==C?C:0)<-1e6||e.y+(null!==(D=null===e||void 0===e||null===(T=e.points)||void 0===T||null===(T=T[(null===e||void 0===e||null===(_=e.points)||void 0===_?void 0:_.length)-1])||void 0===T?void 0:T[1])&&void 0!==D?D:0)>Mb)&&console.error("Elbow arrow (or update) is outside reasonable bounds (> 1e6)",{arrow:e,updates:n}),e.x=Pi(e.x,-1e6,Mb),e.y=Pi(e.y,-1e6,Mb),n.points&&(n.points=n.points.map((function(e){var t=(0,f.A)(e,2),n=t[0],r=t[1];return Ji(Pi(n,-1e6,Mb),Pi(r,-1e6,Mb))}))),U.a.PROD||(Sl(!n.points||n.points.length>=2,"Updated point array length must match the arrow point length, contain exactly the new start and end points or not be specified at all (i.e. you can't add new points between start and end manually to elbow arrows)"),Sl(!e.fixedSegments||e.fixedSegments.map((function(e){return e.start[0]===e.end[0]||e.start[1]===e.end[1]})).every(Boolean),"Fixed segments must be either horizontal or vertical"),Sl(!n.fixedSegments||n.fixedSegments.map((function(e){return e.start[0]===e.end[0]||e.start[1]===e.end[1]})).every(Boolean),"Updates to fixed segments must be either horizontal or vertical"),Sl(e.points.slice(1).map((function(t,n){return t[0]===e.points[n][0]||t[1]===e.points[n][1]})),"Elbow arrow segments must be either horizontal or vertical"));var z=n.points?n.points&&2===n.points.length?e.points.map((function(t,r){return 0===r?n.points[0]:r===e.points.length-1?n.points[1]:t})):n.points.slice():e.points.slice(),B=typeof n.startBinding<"u"?n.startBinding:e.startBinding,H=typeof n.endBinding<"u"?n.endBinding:e.endBinding,W=B&&Wb(B.elementId,t),X=H&&Wb(H.elementId,t);if(0===t.size&&Qb(z)||(null===W||void 0===W?void 0:W.id)!==(null===B||void 0===B?void 0:B.elementId)||(null===X||void 0===X?void 0:X.id)!==(null===H||void 0===H?void 0:H.elementId))return Xb(z.map((function(t){return Ji(e.x+t[0],e.y+t[1])})),e.fixedSegments,e.startIsSpecial,e.endIsSpecial);var G=jb({x:e.x,y:e.y,startBinding:B,endBinding:H,startArrowhead:e.startArrowhead,endArrowhead:e.endArrowhead,points:e.points},t,z,W,X,r),V=G.startHeading,Y=G.endHeading,Z=G.startGlobalPoint,K=G.endGlobalPoint,q=G.hoveredStartElement,$=G.hoveredEndElement,Q=(0,o.A)(G,Ir),J=null!==(L=null!==(R=n.fixedSegments)&&void 0!==R?R:e.fixedSegments)&&void 0!==L?L:[];return n.points||n.fixedSegments||n.startBinding||n.endBinding?n.startBinding===e.startBinding&&n.endBinding===e.endBinding&&(null!==(P=n.points)&&void 0!==P?P:[]).every((function(t,n){var r;return ro(t,null!==(r=e.points[n])&&void 0!==r?r:Ji(1/0,1/0))}))?{}:0===J.length?Xb(Gb(Vb(null!==(N=Ib(e,(0,v.A)({startHeading:V,endHeading:Y,startGlobalPoint:Z,endGlobalPoint:K,hoveredStartElement:q,hoveredEndElement:$},Q)))&&void 0!==N?N:[])),J,null,null):(null!==(F=null===(O=e.fixedSegments)||void 0===O?void 0:O.length)&&void 0!==F?F:0)>J.length?function(e,t,n){var r,a,i,l,s,c,d,u,f=t.map((function(e){return e.index})),h=(null!==(r=null===(a=e.fixedSegments)||void 0===a?void 0:a.map((function(e){return e.index})))&&void 0!==r?r:[]).findIndex((function(e){return!f.includes(e)}));if(-1===h||null===(i=e.fixedSegments)||void 0===i||!i[h])return{points:e.points};var p=e.fixedSegments[h].index,U=e.fixedSegments[h-1],m=e.fixedSegments[h+1],g=e.x+(U?U.end[0]:0),b=e.y+(U?U.end[1]:0),y=U?null:e.startBinding,x=m?null:e.endBinding,w=jb({x:g,y:b,startBinding:y,endBinding:x,startArrowhead:null,endArrowhead:null,points:e.points},n,[Ji(0,0),Ji(e.x+(null!==(l=null===m||void 0===m?void 0:m.start[0])&&void 0!==l?l:e.points[e.points.length-1][0])-g,e.y+(null!==(s=null===m||void 0===m?void 0:m.start[1])&&void 0!==s?s:e.points[e.points.length-1][1])-b)],y&&Wb(y.elementId,n),x&&Wb(x.elementId,n),{isDragging:!1}),A=w.startHeading,E=w.endHeading,k=w.startGlobalPoint,S=w.endGlobalPoint,M=w.hoveredStartElement,C=w.hoveredEndElement,j=(0,o.A)(w,jr),I=Xb(Gb(Vb(null!==(c=Ib(e,(0,v.A)({startHeading:A,endHeading:E,startGlobalPoint:k,endGlobalPoint:S,hoveredStartElement:M,hoveredEndElement:C},j)))&&void 0!==c?c:[])),t,null,null).points,D=[];if(U)for(var T=0;T<U.index;T++)D.push(Ji(e.x+e.points[T][0],e.y+e.points[T][1]));if(I.forEach((function(t){D.push(Ji(e.x+(U?U.end[0]:0)+t[0],e.y+(U?U.end[1]:0)+t[1]))})),m)for(var _=m.index;_<e.points.length;_++)D.push(Ji(e.x+e.points[_][0],e.y+e.points[_][1]));var L=(null!==(d=null===m||void 0===m?void 0:m.index)&&void 0!==d?d:e.points.length)-(null!==(u=null===U||void 0===U?void 0:U.index)&&void 0!==u?u:0)-1,R=t.map((function(e){return e.index>p?(0,v.A)((0,v.A)({},e),{},{index:e.index-L+(I.length-1)}):e})),P=D.flatMap((function(e,t){var n=D[t-1],r=D[t+1];if(n&&r){var a=fp(e,n),i=fp(r,e);if(pp(a,i))return R.forEach((function(e){e.index>t&&(e.index-=1)})),[];if(pp(a,mp(i)))return R.forEach((function(e){e.index>t&&(e.index+=1)})),[e,e]}return[e]}));return Xb(P,R,!1,!1)}(e,J,t):n.points?n.points&&n.fixedSegments?n:function(e,t,n,r,a,i,o,l,s){for(var c,d,f=null!==(c=e.startIsSpecial)&&void 0!==c?c:null,h=null!==(d=e.endIsSpecial)&&void 0!==d?d:null,p=t.map((function(n,r){return 0===r||r===t.length-1?Ji(e.x+n[0],e.y+n[1]):Ji(e.x+e.points[r][0],e.y+e.points[r][1])})),U=n.map((function(n){return(0,v.A)((0,v.A)({},n),{},{start:Ji(e.x+(n.start[0]-t[0][0]),e.y+(n.start[1]-t[0][1])),end:Ji(e.x+(n.end[0]-t[0][0]),e.y+(n.end[1]-t[0][1]))})})),m=[],g=2+(f?1:0),b=2+(h?1:0);m.length+g<p.length-b;)m.push(p[m.length+g]);var y=p[f?2:1],x=p[f?3:2],w=vp(r),A=vp(up(Vi(y,x)));if(l&&w===A){var E=pp(r,w?op:lp);if(m.unshift(Ji(A?i[0]+(E?Sb:-40):x[0],A?x[1]:i[1]+(E?Sb:-40))),m.unshift(Ji(w?i[0]+(E?Sb:-40):i[0],w?i[1]:i[1]+(E?Sb:-40))),!f){f=!0;var k,S=(0,u.A)(U);try{for(S.s();!(k=S.n()).done;){var M=k.value;M.index>1&&(M.index+=1)}}catch(Be){S.e(Be)}finally{S.f()}}}else if(m.unshift(Ji(A?i[0]:y[0],A?y[1]:i[1])),f){f=!1;var C,j=(0,u.A)(U);try{for(j.s();!(C=j.n()).done;){var I=C.value;I.index>1&&(I.index-=1)}}catch(Be){j.e(Be)}finally{j.f()}}m.unshift(i);var D=p[p.length-(h?3:2)],T=p[p.length-(h?4:3)],_=vp(a),L=hp(T,D);if(s&&_===L){var R=pp(a,_?op:lp);m.push(Ji(L?o[0]+(R?Sb:-40):T[0],L?T[1]:o[1]+(R?Sb:-40))),m.push(Ji(_?o[0]+(R?Sb:-40):o[0],_?o[1]:o[1]+(R?Sb:-40))),h||(h=!0)}else m.push(Ji(L?o[0]:D[0],L?D[1]:o[1])),h&&(h=!1);return m.push(o),Xb(m,U.map((function(e){var t=e.index;return{index:t,start:m[t-1],end:m[t]}})).map((function(e){return(0,v.A)((0,v.A)({},e),{},{start:Ji(e.start[0]-i[0],e.start[1]-i[1]),end:Ji(e.end[0]-i[0],e.end[1]-i[1])})})),f,h)}(e,z,J,V,Y,Z,K,q,$):function(e,t,n,r,a,i){var o,l,s,c,d=t.map((function(t,n){return null==e.fixedSegments||void 0===e.fixedSegments[n]||e.fixedSegments[n].index!==t.index||(t.start[0]!==e.fixedSegments[n].start[0]&&t.end[0]!==e.fixedSegments[n].end[0])!=(t.start[1]!==e.fixedSegments[n].start[1]&&t.end[1]!==e.fixedSegments[n].end[1])?n:null})).filter((function(e){return null!==e})).shift();if(null==d)return{points:e.points};var f=null!==(o=null===(l=e.fixedSegments)||void 0===l?void 0:l.findIndex((function(e){return 1===e.index})))&&void 0!==o?o:-1,h=null!==(s=null===(c=e.fixedSegments)||void 0===c?void 0:c.findIndex((function(t){return t.index===e.points.length-1})))&&void 0!==s?s:-1,p=lo(t[d].start,t[d].end),U=p<45;if(-1===f&&1===t[d].index&&a){var m=vp(n),g=pp(n,m?op:lp)?U?p/2:Sb:U?-p/2:-40;t[d].start=Ji(t[d].start[0]+(m?g:0),t[d].start[1]+(m?0:g))}if(-1===h&&t[d].index===e.points.length-1&&i){var b=vp(r),y=pp(r,b?op:lp)?U?p/2:Sb:U?-p/2:-40;t[d].end=Ji(t[d].end[0]+(b?y:0),t[d].end[1]+(b?0:y))}var x=t.map((function(t){return(0,v.A)((0,v.A)({},t),{},{start:Ji(e.x+t.start[0],e.y+t.start[1]),end:Ji(e.x+t.end[0],e.y+t.end[1])})})),w=e.points.map((function(t,n){return Ji(e.x+t[0],e.y+t[1])})),A=x[d].index-1,E=x[d].index,k=x[d].start,S=x[d].end,M=w[A-1]&&!ro(w[A],w[A-1])?hp(w[A-1],w[A]):void 0,C=w[E+1]&&!ro(w[E],w[E+1])?hp(w[E+1],w[E]):void 0;if(void 0!==M){var j=M?1:0;w[A-1][j]=k[j]}if(w[A]=k,w[E]=S,void 0!==C){var I=C?1:0;w[E+1][I]=S[I]}var D=x.findIndex((function(e){return e.index===A}));if(-1!==D){var T=hp(x[D].end,x[D].start)?1:0;x[D].start[T]=k[T],x[D].end=k}var _=x.findIndex((function(e){return e.index===E+1}));if(-1!==_){var L=hp(x[_].end,x[_].start)?1:0;x[_].end[L]=S[L],x[_].start=S}if(-1===f&&0===A){var R=a?vp(n):hp(w[1],w[0]);w.unshift(Ji(R?k[0]:e.x+e.points[0][0],R?e.y+e.points[0][1]:k[1])),a&&w.unshift(Ji(e.x+e.points[0][0],e.y+e.points[0][1]));var P,N=(0,u.A)(x);try{for(N.s();!(P=N.n()).done;)P.value.index+=a?2:1}catch(Be){N.e(Be)}finally{N.f()}}if(-1===h&&E===e.points.length-1){var F=vp(r);w.push(Ji(F?S[0]:e.x+e.points[e.points.length-1][0],F?e.y+e.points[e.points.length-1][1]:S[1])),i&&w.push(Ji(e.x+e.points[e.points.length-1][0],e.y+e.points[e.points.length-1][1]))}return Xb(w,x.map((function(t){return(0,v.A)((0,v.A)({},t),{},{start:Ji(t.start[0]-e.x,t.start[1]-e.y),end:Ji(t.end[0]-e.x,t.end[1]-e.y)})})),!1,!1)}(e,J,V,Y,q,$):function(e,t){var n=e.fixedSegments?e.fixedSegments.slice():null;if(n){var r,a=[];e.points.map((function(t){return Ji(e.x+t[0],e.y+t[1])})).forEach((function(t,r,i){if(r<2)return a.push(t);var o=fp(t,i[r-1]),l=fp(i[r-1],i[r-2]);if(pp(o,l)){var s,c,d=null!==(s=null===n||void 0===n?void 0:n.findIndex((function(e){return e.index===r-1})))&&void 0!==s?s:-1,u=null!==(c=null===n||void 0===n?void 0:n.findIndex((function(e){return e.index===r})))&&void 0!==c?c:-1;-1!==u&&(n[u].start=Ji(i[r-2][0]-e.x,i[r-2][1]-e.y)),-1!==d&&n.splice(d,1),a.splice(-1,1),n.forEach((function(e){e.index>r-1&&(e.index-=1)}))}return a.push(t)}));var i=[];a.forEach((function(e,t,r){if(t<3)return i.push(e);if(lo(r[t-2],r[t-1])<1){var a,o,l=null!==(a=null===n||void 0===n?void 0:n.findIndex((function(e){return e.index===t-2})))&&void 0!==a?a:-1,s=null!==(o=null===n||void 0===n?void 0:n.findIndex((function(e){return e.index===t-1})))&&void 0!==o?o:-1;-1!==s&&n.splice(s,1),-1!==l&&n.splice(l,1),i.splice(-2,2),n.forEach((function(e){e.index>t-2&&(e.index-=2)}));var c=hp(e,r[t-1]);return i.push(Ji(c?e[0]:r[t-2][0],c?r[t-2][1]:e[1]))}i.push(e)}));var o=n.filter((function(e){return 1!==e.index&&e.index!==i.length-1}));return 0===o.length?Xb(Gb(Vb(null!==(r=Ib(e,jb(e,t,i.map((function(t){return Ji(t[0]-e.x,t[1]-e.y)})),e.startBinding&&Wb(e.startBinding.elementId,t),e.endBinding&&Wb(e.endBinding.elementId,t))))&&void 0!==r?r:[])),o,null,null):(U.a.DEV&&Sl(Qb(i),"Invalid elbow points with fixed segments"),Xb(i,o,e.startIsSpecial,e.endIsSpecial))}return{x:e.x,y:e.y,points:e.points,fixedSegments:e.fixedSegments,startIsSpecial:e.startIsSpecial,endIsSpecial:e.endIsSpecial}}(e,t)},jb=function(e,t,n,r,a,i){var o,l,s=io(n[0],Gi(e.x,e.y)),c=io(n[n.length-1],Gi(e.x,e.y)),d=r,u=a;if(null!==i&&void 0!==i&&i.isDragging){var f=Array.from(t.values());d=qb(s,t,f,null===i||void 0===i?void 0:i.zoom)||r,u=qb(c,t,f,null===i||void 0===i?void 0:i.zoom)||a}var h=Zb((0,v.A)((0,v.A)({},e),{},{elbowed:!0,points:n}),"start",null===(o=e.startBinding)||void 0===o?void 0:o.fixedPoint,s,r,d,null===i||void 0===i?void 0:i.isDragging),p=Zb((0,v.A)((0,v.A)({},e),{},{elbowed:!0,points:n}),"end",null===(l=e.endBinding)||void 0===l?void 0:l.fixedPoint,c,a,u,null===i||void 0===i?void 0:i.isDragging),U=Kb(h,p,t,d,s),m=Kb(p,h,t,u,c),g=[h[0]-2,h[1]-2,h[0]+2,h[1]+2],b=[p[0]-2,p[1]-2,p[0]+2,p[1]+2],y=d?Eh(d,Db(U,e.startArrowhead?30:10,1)):g,x=u?Eh(u,Db(m,e.endArrowhead?30:10,1)):b,w=kh(h,u?Eh(u,Db(m,Sb,Sb)):b)||kh(p,d?Eh(d,Db(U,Sb,Sb)):g),A=Hb(w?[g,b]:[y,x]),E=Rb(w?g:y,w?b:x,A,w?Db(U,d||u?Sb:0,0):Db(U,d||u?Sb-(e.startArrowhead?30:10):0,Sb),w?Db(m,d||u?Sb:0,0):Db(m,d||u?Sb-(e.endArrowhead?30:10):0,Sb),w,d&&Eh(d),u&&Eh(u));return{dynamicAABBs:E,startDonglePosition:Nb(E[0],U,h),startGlobalPoint:h,startHeading:U,endDonglePosition:Nb(E[1],m,p),endGlobalPoint:p,endHeading:m,commonBounds:A,hoveredStartElement:d,hoveredEndElement:u,boundsOverlap:w,startElementBounds:y,endElementBounds:x}},Ib=function(e,t){var n=t.dynamicAABBs,r=t.startDonglePosition,a=t.startGlobalPoint,i=t.startHeading,o=t.endDonglePosition,l=t.endGlobalPoint,s=t.endHeading,c=t.commonBounds,d=t.hoveredEndElement,u=Pb(n,r||a,i,o||l,s,c),f=r&&Bb(r,u),h=o&&Bb(o,u),p=Bb(l,u);p&&d&&(p.closed=!0);var v=Bb(a,u);v&&e.startBinding&&(v.closed=!0);var U=f&&h&&(kh(f.pos,n[1])||kh(h.pos,n[0])),m=Tb(f||v,h||p,u,i||op,s||op,U?[]:n);if(m){var g=m.map((function(e){return[e.pos[0],e.pos[1]]}));return f&&g.unshift(a),h&&g.push(l),g}return null},Db=function(e,t,n){switch(e){case cp:return[t,n,n,n];case op:return[n,t,n,n];case lp:return[n,n,t,n]}return[n,n,n,t]},Tb=function(e,t,n,r,a,i){var o=Lb(e.pos,t.pos),l=new kb((function(e){return e.f}));for(l.push(e);l.size()>0;){var s=l.pop();if(s&&!s.closed){if(s===t)return _b(e,s);s.closed=!0;for(var c=Ob(s.addr,n),d=function(){var n=c[u];if(!n||n.closed)return 0;var d=co(n.pos,s.pos,.5);if(zl.apply(void 0,(0,h.A)(i.map((function(e){return kh(d,e)})))))return 0;var f=Yb(u),p=s.parent?up(Vi(s.pos,s.parent.pos)):r,v=mp(p);if(pp(v,f)||$b(e.addr,n.addr)&&pp(f,r)||$b(t.addr,n.addr)&&pp(f,a))return 0;var U=p!==f,m=s.g+Lb(n.pos,s.pos)+(U?Math.pow(o,3):0),g=n.visited;if(!g||m<n.g){var b=Fb(n,t,f,a);n.visited=!0,n.parent=s,n.h=Lb(t.pos,n.pos)+b*Math.pow(o,2),n.g=m,n.f=n.g+n.h,g?l.rescoreElement(n):l.push(n)}},u=0;u<4;u++)d()}}return null},_b=function(e,t){for(var n=t,r=[];n.parent;)r.unshift(n),n=n.parent;return r.unshift(e),r},Lb=function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])},Rb=function(e,t,n,r,a,i,o,l){var s=null!==o&&void 0!==o?o:e,c=null!==l&&void 0!==l?l:t,d=null!==r&&void 0!==r?r:[0,0,0,0],u=(0,f.A)(d,4),h=u[0],p=u[1],v=u[2],U=u[3],m=null!==a&&void 0!==a?a:[0,0,0,0],g=(0,f.A)(m,4),b=g[0],y=g[1],x=g[2],w=g[3],A=[e[0]>t[2]?e[1]>t[3]||e[3]<t[1]?Math.min((s[0]+c[2])/2,e[0]-U):(s[0]+c[2])/2:e[0]>t[0]?e[0]-U:n[0]-U,e[1]>t[3]?e[0]>t[2]||e[2]<t[0]?Math.min((s[1]+c[3])/2,e[1]-h):(s[1]+c[3])/2:e[1]>t[1]?e[1]-h:n[1]-h,e[2]<t[0]?e[1]>t[3]||e[3]<t[1]?Math.max((s[2]+c[0])/2,e[2]+p):(s[2]+c[0])/2:e[2]<t[2]?e[2]+p:n[2]+p,e[3]<t[1]?e[0]>t[2]||e[2]<t[0]?Math.max((s[3]+c[1])/2,e[3]+v):(s[3]+c[1])/2:e[3]<t[3]?e[3]+v:n[3]+v],E=[t[0]>e[2]?t[1]>e[3]||t[3]<e[1]?Math.min((c[0]+s[2])/2,t[0]-w):(c[0]+s[2])/2:t[0]>e[0]?t[0]-w:n[0]-w,t[1]>e[3]?t[0]>e[2]||t[2]<e[0]?Math.min((c[1]+s[3])/2,t[1]-b):(c[1]+s[3])/2:t[1]>e[1]?t[1]-b:n[1]-b,t[2]<e[0]?t[1]>e[3]||t[3]<e[1]?Math.max((c[2]+s[0])/2,t[2]+y):(c[2]+s[0])/2:t[2]<e[2]?t[2]+y:n[2]+y,t[3]<e[1]?t[0]>e[2]||t[2]<e[0]?Math.max((c[3]+s[1])/2,t[3]+x):(c[3]+s[1])/2:t[3]<e[3]?t[3]+x:n[3]+x],k=Hb([A,E]);if(!i&&A[2]-A[0]+E[2]-E[0]>k[2]-k[0]+1e-11&&A[3]-A[1]+E[3]-E[1]>k[3]-k[1]+1e-11){var S=(E[0]+E[2])/2,M=(E[1]+E[3])/2;if(t[0]>e[2]&&e[1]>t[3]){var C=A[2]+(E[0]-A[2])/2,j=E[3]+(A[1]-E[3])/2;return Yi(Gi(e[2]-S,e[1]-M),Gi(e[0]-S,e[3]-M))>0?[[A[0],A[1],C,A[3]],[C,E[1],E[2],E[3]]]:[[A[0],j,A[2],A[3]],[E[0],E[1],E[2],j]]}if(e[2]<t[0]&&e[3]<t[1]){var I=A[2]+(E[0]-A[2])/2,D=A[3]+(E[1]-A[3])/2;return Yi(Gi(e[0]-S,e[1]-M),Gi(e[2]-S,e[3]-M))>0?[[A[0],A[1],A[2],D],[E[0],D,E[2],E[3]]]:[[A[0],A[1],I,A[3]],[I,E[1],E[2],E[3]]]}if(e[0]>t[2]&&e[3]<t[1]){var T=E[2]+(A[0]-E[2])/2,_=A[3]+(E[1]-A[3])/2;return Yi(Gi(e[2]-S,e[1]-M),Gi(e[0]-S,e[3]-M))>0?[[T,A[1],A[2],A[3]],[E[0],E[1],T,E[3]]]:[[A[0],A[1],A[2],_],[E[0],_,E[2],E[3]]]}if(e[0]>t[2]&&e[1]>t[3]){var L=E[2]+(A[0]-E[2])/2,R=E[3]+(A[1]-E[3])/2;return Yi(Gi(e[0]-S,e[1]-M),Gi(e[2]-S,e[3]-M))>0?[[L,A[1],A[2],A[3]],[E[0],E[1],L,E[3]]]:[[A[0],R,A[2],A[3]],[E[0],E[1],E[2],R]]}}return[A,E]},Pb=function(e,t,n,r,a,i){var o=new Set,l=new Set;n===sp||n===op?l.add(t[1]):o.add(t[0]),a===sp||a===op?l.add(r[1]):o.add(r[0]),e.forEach((function(e){o.add(e[0]),o.add(e[2]),l.add(e[1]),l.add(e[3])})),o.add(i[0]),o.add(i[2]),l.add(i[1]),l.add(i[3]);var s=Array.from(l).sort((function(e,t){return e-t})),c=Array.from(o).sort((function(e,t){return e-t}));return{row:s.length,col:c.length,data:s.flatMap((function(e,t){return c.map((function(n,r){return{f:0,g:0,h:0,closed:!1,visited:!1,parent:null,addr:[r,t],pos:[n,e]}}))}))}},Nb=function(e,t,n){switch(t){case cp:return Ji(n[0],e[1]);case op:return Ji(e[2],n[1]);case lp:return Ji(n[0],e[3])}return Ji(e[0],n[1])},Fb=function(e,t,n,r){if(r===op)switch(n){case op:return e.pos[0]>=t.pos[0]?4:e.pos[1]===t.pos[1]?0:2;case cp:return e.pos[1]>t.pos[1]&&e.pos[0]<t.pos[0]?1:3;case lp:return e.pos[1]<t.pos[1]&&e.pos[0]<t.pos[0]?1:3;case sp:return e.pos[1]===t.pos[1]?4:2}else if(r===sp)switch(n){case op:return e.pos[1]===t.pos[1]?4:2;case cp:return e.pos[1]>t.pos[1]&&e.pos[0]>t.pos[0]?1:3;case lp:return e.pos[1]<t.pos[1]&&e.pos[0]>t.pos[0]?1:3;case sp:return e.pos[0]<=t.pos[0]?4:e.pos[1]===t.pos[1]?0:2}else if(r===cp)switch(n){case op:return e.pos[1]>t.pos[1]&&e.pos[0]<t.pos[0]?1:3;case cp:return e.pos[1]>=t.pos[1]?4:e.pos[0]===t.pos[0]?0:2;case lp:return e.pos[0]===t.pos[0]?4:2;case sp:return e.pos[1]>t.pos[1]&&e.pos[0]>t.pos[0]?1:3}else if(r===lp)switch(n){case op:return e.pos[1]<t.pos[1]&&e.pos[0]<t.pos[0]?1:3;case cp:return e.pos[0]===t.pos[0]?4:2;case lp:return e.pos[1]<=t.pos[1]?4:e.pos[0]===t.pos[0]?0:2;case sp:return e.pos[1]<t.pos[1]&&e.pos[0]>t.pos[0]?1:3}return 0},Ob=function(e,t){var n=(0,f.A)(e,2),r=n[0],a=n[1];return[zb([r,a-1],t),zb([r+1,a],t),zb([r,a+1],t),zb([r-1,a],t)]},zb=function(e,t){var n,r=(0,f.A)(e,2),a=r[0],i=r[1];return a<0||a>=t.col||i<0||i>=t.row?null:null!==(n=t.data[i*t.col+a])&&void 0!==n?n:null},Bb=function(e,t){for(var n=0;n<t.col;n++)for(var r=0;r<t.row;r++){var a=zb([n,r],t);if(a&&e[0]===a.pos[0]&&e[1]===a.pos[1])return a}return null},Hb=function(e){return[Math.min.apply(Math,(0,h.A)(e.map((function(e){return e[0]})))),Math.min.apply(Math,(0,h.A)(e.map((function(e){return e[1]})))),Math.max.apply(Math,(0,h.A)(e.map((function(e){return e[2]})))),Math.max.apply(Math,(0,h.A)(e.map((function(e){return e[3]}))))]},Wb=function(e,t){var n=t.get(e);return n&&ls(n)?n:null},Xb=function(e,t,n,r){var a,i=e[0][0],o=e[0][1],l=e.map((function(t){return io(t,$i(Vi(e[0]),-1))}));return(i<-1e6||i>Mb||o<-1e6||o>Mb||i+l[l.length-1][0]<-1e6||o+l[l.length-1][0]>Mb||i+l[l.length-1][1]<-1e6||o+l[l.length-1][1]>Mb)&&console.error("Elbow arrow normalization is outside reasonable bounds (> 1e6)",(0,v.A)({x:i,y:o,points:l},Sp(l))),l=l.map((function(e){var t=(0,f.A)(e,2),n=t[0],r=t[1];return Ji(Pi(n,-1e6,1e6),Pi(r,-1e6,1e6))})),(0,v.A)((0,v.A)({points:l,x:Pi(i,-1e6,1e6),y:Pi(o,-1e6,1e6),fixedSegments:(null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0)>0?t:null},Sp(l)),{},{startIsSpecial:n,endIsSpecial:r})},Gb=function(e){if(e.length>1){var t=Math.abs(e[0][1]-e[1][1])<Math.abs(e[0][0]-e[1][0]);return e.filter((function(n,r){if(0===r||r===e.length-1)return!0;var a=e[r+1],i=Math.abs(n[1]-a[1])<Math.abs(n[0]-a[0]);return t===i?(t=i,!1):(t=i,!0)}))}return e},Vb=function(e){return e.length>=4?e.filter((function(t,n){return 0===n||n===e.length-1||lo(e[n-1],t)>1})):e},Yb=function(e){switch(e){case 0:return cp;case 1:return op;case 2:return lp}return sp},Zb=function(e,t,n,r,a,i,o){if(o)return i?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.05,r=e.x,a=e.y,i=e.width,o=e.height,l=e.angle,s=Ji(r+i/2-.1,a+o/2-.1),c=ao(t,s,-l),d=Pi(n*o,5,80),u=Pi(n*i,5,80);return c[0]<=r+i/2&&c[1]>s[1]-d&&c[1]<s[1]+d?ao(Ji(r-5,s[1]),s,l):c[1]<=a+o/2&&c[0]>s[0]-u&&c[0]<s[0]+u?ao(Ji(s[0],a-5),s,l):c[0]>=r+i/2&&c[1]>s[1]-d&&c[1]<s[1]+d?ao(Ji(r+i+5,s[1]),s,l):c[1]>=a+o/2&&c[0]>s[0]-u&&c[0]<s[0]+u?ao(Ji(s[0],a+o+5),s,l):t}(i,xv(e,i,t)):r;if(a){var l=Hv(n||[0,0],a);return Math.abs(Zp(a,l)-5)>.01?xv(e,a,t):l}return r},Kb=function(e,t,n,r,a){return function(e,t,n,r,a,i,o){var l=up(Vi(t,e));return n&&r?yv(i,n,a,o)?Up(n,r,e):up(Vi(e,Ji(n.x+n.width/2,n.y+n.height/2))):l}(e,t,r,r&&Eh(r,Array(4).fill(Zp(r,e))),n,a)},qb=function(e,t,n,r){return hv(el(e),n,t,r,!0,!0)},$b=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Qb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.slice(1).map((function(n,r){return Math.abs(n[0]-e[r][0])<t||Math.abs(n[1]-e[r][1])<t})).every(Boolean)},Jb={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,frame:!0,embeddable:!0,hand:!0,laser:!1,magicframe:!1},ey=function(e,t){var n;if(!t)return null;var r=t.focus||0;return rs(e)?ms(t)?(0,v.A)((0,v.A)({},t),{},{focus:r,fixedPoint:Xv(null!==(n=t.fixedPoint)&&void 0!==n?n:[0,0])}):null:(0,v.A)((0,v.A)({},t),{},{focus:r})},ty=function(e,t){var n,r,a,i,o,l,s,c,d,u,f,h,p,U,m,g={type:t.type||e.type,version:e.version||1,versionNonce:null!==(n=e.versionNonce)&&void 0!==n?n:0,index:null!==(r=e.index)&&void 0!==r?r:null,isDeleted:null!==(a=e.isDeleted)&&void 0!==a&&a,id:e.id||wm(),fillStyle:e.fillStyle||hi.fillStyle,strokeWidth:e.strokeWidth||hi.strokeWidth,strokeStyle:null!==(i=e.strokeStyle)&&void 0!==i?i:hi.strokeStyle,roughness:null!==(o=e.roughness)&&void 0!==o?o:hi.roughness,opacity:null==e.opacity?hi.opacity:e.opacity,angle:e.angle||0,x:null!==(l=null!==(s=t.x)&&void 0!==s?s:e.x)&&void 0!==l?l:0,y:null!==(c=null!==(d=t.y)&&void 0!==d?d:e.y)&&void 0!==c?c:0,strokeColor:e.strokeColor||hi.strokeColor,backgroundColor:e.backgroundColor||hi.backgroundColor,width:e.width||0,height:e.height||0,seed:null!==(u=e.seed)&&void 0!==u?u:1,groupIds:null!==(f=e.groupIds)&&void 0!==f?f:[],frameId:null!==(h=e.frameId)&&void 0!==h?h:null,roundness:e.roundness?e.roundness:"round"===e.strokeSharpness?{type:hs(e.type)?ci.LEGACY:ci.PROPORTIONAL_RADIUS}:null,boundElements:e.boundElementIds?e.boundElementIds.map((function(e){return{type:"arrow",id:e}})):null!==(p=e.boundElements)&&void 0!==p?p:[],updated:null!==(U=e.updated)&&void 0!==U?U:dl(),link:e.link?om(e.link):null,locked:null!==(m=e.locked)&&void 0!==m&&m};return("customData"in e||"customData"in t)&&(g.customData="customData"in t?t.customData:e.customData),(0,v.A)((0,v.A)((0,v.A)((0,v.A)({},e),g),Yx(g)),t)},ny=function(e){var t,n,r,a,i;switch((e=(0,v.A)({},e)).type){case"text":delete e.rawText;var o=e.fontSize,l=e.fontFamily;if("font"in e){var s=e.font.split(" "),c=(0,f.A)(s,2),d=c[0],u=c[1];o=parseFloat(d),l=function(e){return Object.keys(ma).includes(e)?ma[e]:Aa}(u)}var h="string"==typeof e.text&&e.text||"",p=e.lineHeight||(e.height?function(e){var t=Es(e.text).length;return e.height/t/e.fontSize}(e):Ff(e.fontFamily));return e=ty(e,{fontSize:o,fontFamily:l,text:h,textAlign:e.textAlign||Ea,verticalAlign:e.verticalAlign||ka,containerId:null!==(t=e.containerId)&&void 0!==t?t:null,originalText:e.originalText||h,autoResize:null===(n=e.autoResize)||void 0===n||n,lineHeight:p}),!h&&!e.isDeleted&&(e=(0,v.A)((0,v.A)({},e),{},{originalText:h,isDeleted:!0}),e=Bx(e)),e;case"freedraw":return ty(e,{points:e.points,lastCommittedPoint:null,simulatePressure:e.simulatePressure,pressures:e.pressures});case"image":return ty(e,{status:e.status||"pending",fileId:e.fileId,scale:e.scale||[1,1],crop:null!==(r=e.crop)&&void 0!==r?r:null});case"line":case"draw":var U=e,m=U.startArrowhead,g=void 0===m?null:m,b=U.endArrowhead,y=void 0===b?null:b,x=e.x,w=e.y,A=!Array.isArray(e.points)||e.points.length<2?[Ji(0,0),Ji(e.width,e.height)]:e.points;return(0!==A[0][0]||0!==A[0][1])&&(A=(a=PU.getNormalizedPoints(e)).points,x=a.x,w=a.y),ty(e,(0,v.A)({type:"draw"===e.type?"line":e.type,startBinding:ey(e,e.startBinding),endBinding:ey(e,e.endBinding),lastCommittedPoint:null,startArrowhead:g,endArrowhead:y,points:A,x:x,y:w},Sp(A)));case"arrow":var E,k=e,S=k.startArrowhead,M=void 0===S?null:S,C=k.endArrowhead,j=void 0===C?"arrow":C,I=e.x,D=e.y,T=!Array.isArray(e.points)||e.points.length<2?[Ji(0,0),Ji(e.width,e.height)]:e.points;(0!==T[0][0]||0!==T[0][1])&&(T=(E=PU.getNormalizedPoints(e)).points,I=E.x,D=E.y);var _=(0,v.A)({type:e.type,startBinding:ey(e,e.startBinding),endBinding:ey(e,e.endBinding),lastCommittedPoint:null,startArrowhead:M,endArrowhead:j,points:T,x:I,y:D,elbowed:e.elbowed},Sp(T));return rs(e)?ty(e,(0,v.A)((0,v.A)({},_),{},{elbowed:!0,startBinding:ey(e,e.startBinding),endBinding:ey(e,e.endBinding),fixedSegments:e.fixedSegments,startIsSpecial:e.startIsSpecial,endIsSpecial:e.endIsSpecial})):ty(e,_);case"ellipse":case"rectangle":case"diamond":case"iframe":case"embeddable":return ty(e,{});case"magicframe":case"frame":return ty(e,{name:null!==(i=e.name)&&void 0!==i?i:null})}return null},ry=function(e,t){if(e.boundElements){var n=e.boundElements.slice(),r=new Set;e.boundElements=n.reduce((function(n,a){var i=t.get(a.id);if(i&&!r.has(a.id)){if(r.add(a.id),i.isDeleted)return n;n.push(a),Kl(i)&&!i.containerId&&(i.containerId=e.id)}return n}),[])}},ay=function(e,t){var n=e.containerId?t.get(e.containerId):null;if(n){if(!e.isDeleted&&n.boundElements&&!n.boundElements.find((function(t){return t.id===e.id}))){var r=(n.boundElements||(n.boundElements=[])).slice();r.push({type:"text",id:e.id}),n.boundElements=r}}else e.containerId=null},iy=function(e,t){e.frameId&&(t.get(e.frameId)||(e.frameId=null))},oy=function(e,t,n){var r=new Set,a=t?ul(t):null,i=Gm((e||[]).reduce((function(e,t){if("selection"!==t.type&&!Hx(t)){var n=ny(t);if(n){var i=null===a||void 0===a?void 0:a.get(t.id);i&&i.version>n.version&&(n=Bx(n,i.version)),r.has(n.id)&&(n=(0,v.A)((0,v.A)({},n),{},{id:wm()})),r.add(n.id),e.push(n)}}return e}),[]));if(null===n||void 0===n||!n.repairBindings)return i;var o,l=ul(i),s=(0,u.A)(i);try{for(s.s();!(o=s.n()).done;){var c=o.value;c.frameId&&iy(c,l),Kl(c)&&c.containerId?ay(c,l):c.boundElements&&ry(c,l),n.refreshDimensions&&Kl(c)&&Object.assign(c,Tm(c,ZU(c,l),l)),ts(c)&&(c.startBinding&&(!l.has(c.startBinding.elementId)||!ns(c))&&(c.startBinding=null),c.endBinding&&(!l.has(c.endBinding.elementId)||!ns(c))&&(c.endBinding=null))}}catch(Be){s.e(Be)}finally{s.f()}return i.map((function(e){if(rs(e)&&null==e.startBinding&&null==e.endBinding&&!Qb(e.points))return(0,v.A)((0,v.A)((0,v.A)({},e),Cb(e,l,{points:[Ji(0,0),e.points[e.points.length-1]]})),{},{index:e.index});if(rs(e)&&e.startBinding&&e.endBinding&&e.startBinding.elementId===e.endBinding.elementId&&e.points.length>1&&e.points.some((function(e){var t=(0,f.A)(e,2),n=t[0],r=t[1];return Math.abs(n)>1e6||Math.abs(r)>1e6}))){console.error("Fixing self-bound elbow arrow",e.id);var t=l.get(e.startBinding.elementId);return t?(0,v.A)((0,v.A)({},e),{},{x:t.x+t.width/2,y:t.y-5,width:t.width,height:t.height,points:[Ji(0,0),Ji(0,-10),Ji(t.width/2+5,-10),Ji(t.width/2+5,t.height/2+5)]}):(console.error("Bound element not found",e.startBinding.elementId),e)}return e}))},ly=function(e,t,n){var r=t[e];return void 0!==r?r:n[e]},sy={isSidebarDocked:function(e,t){var n;return["defaultSidebarDockedPreference",null!==(n=e.isSidebarDocked)&&void 0!==n?n:ly("defaultSidebarDockedPreference",e,t)]}},cy=function(e,t){var n,r,a,i,o;e=e||{};for(var l=ji(),s={},c=0,d=Object.keys(sy);c<d.length;c++){var u=d[c];if(u in e){var h=sy[u](e,l),p=(0,f.A)(h,2),U=p[0],m=p[1];s[U]=m}}for(var g=0,b=Object.entries(l);g<b.length;g++){var y=(0,f.A)(b[g],2),x=y[0],w=y[1],A=e[x],E=t?t[x]:void 0;s[x]=void 0!==A?A:void 0!==E?E:w}return(0,v.A)((0,v.A)({},s),{},{cursorButton:(null===t||void 0===t?void 0:t.cursorButton)||"up",penDetected:null!==(n=null===t||void 0===t?void 0:t.penDetected)&&void 0!==n?n:!!e.penMode&&(null!==(r=e.penDetected)&&void 0!==r&&r),activeTool:(0,v.A)((0,v.A)({},Yo(l,s.activeTool.type&&Jb[s.activeTool.type]?s.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:null!==(a=s.activeTool.locked)&&void 0!==a&&a}),zoom:{value:Yv(zi(e.zoom)?e.zoom:null!==(i=null===(o=e.zoom)||void 0===o?void 0:o.value)&&void 0!==i?i:l.zoom.value)},openSidebar:"string"==typeof e.openSidebar?{name:Ui.name}:s.openSidebar,gridSize:Zv(zi(e.gridSize)?e.gridSize:Ta),gridStep:Kv(zi(e.gridStep)?e.gridStep:5),editingFrame:null})},dy=function(e,t,n,r){return{elements:oy(null===e||void 0===e?void 0:e.elements,n,r),appState:cy(null===e||void 0===e?void 0:e.appState,t||null),files:(null===e||void 0===e?void 0:e.files)||{}}},uy=function(e){var t=oy(Iw(e.elements),null);return t.length?(0,v.A)((0,v.A)({},e),{},{elements:t}):null},fy=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=[],a=(0,u.A)(t);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(Array.isArray(i)){var o=uy({status:n,elements:i,id:wm(),created:Date.now()});o&&r.push(o)}else{var l=i,s=uy((0,v.A)((0,v.A)({},l),{},{id:l.id||wm(),status:l.status||n,created:l.created||Date.now()}));s&&r.push(s)}}}catch(Be){a.e(Be)}finally{a.f()}return r},hy=32,py=12,vy=256,Uy="NOT_SPREADSHEET",my="VALID_SPREADSHEET",gy=function(e){var t=/^([-+]?)[$\u20ac\xa3\xa5\u20a9]?([-+]?)([\d.,]+)[%]?$/.exec(e);return t?parseFloat("".concat((t[1]||t[2])+t[3]).replace(/,/g,"")):null},by=function(e,t){return e.slice(1).every((function(e){return null!==gy(e[t])}))},yy=function(e){var t=e[0].length;if(t>2)return{type:Uy,reason:"More than 2 columns"};if(1===t){if(!by(e,0))return{type:Uy,reason:"Value is not numeric"};var n=null===gy(e[0][0]),r=(n?e.slice(1):e).map((function(e){return gy(e[0])}));return r.length<2?{type:Uy,reason:"Less than two rows"}:{type:my,spreadsheet:{title:n?e[0][0]:null,labels:null,values:r}}}var a=by(e,0),i=by(e,1);if(!a&&!i)return{type:Uy,reason:"Value is not numeric"};var o=i?[0,1]:[1,0],l=(0,f.A)(o,2),s=l[0],c=l[1],d=null===gy(e[0][c]),u=d?e.slice(1):e;return u.length<2?{type:Uy,reason:"Less than 2 rows"}:{type:my,spreadsheet:{title:d?e[0][c]:null,labels:u.map((function(e){return e[s]})),values:u.map((function(e){return gy(e[c])}))}}},xy=(Kg=4,[Or.cyan[Kg],Or.blue[Kg],Or.violet[Kg],Or.grape[Kg],Or.pink[Kg],Or.green[Kg],Or.teal[Kg],Or.yellow[Kg],Or.orange[Kg],Or.red[Kg]]),wy={fillStyle:"hachure",fontFamily:Aa,fontSize:wa,opacity:100,roughness:1,strokeColor:Or.black,roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:oi.MIDDLE,locked:!1},Ay=function(e){return{chartWidth:44*e.values.length+py,chartHeight:280}},Ey=function(e,t,n,r,a,i){var o=Ay(e),l=o.chartWidth,s=o.chartHeight,c=e.title?Im((0,v.A)((0,v.A)({backgroundColor:a,groupIds:[r]},wy),{},{text:e.title,x:t+l/2,y:n-vy-24-wa,roundness:null,textAlign:"center"})):null,d=i?Em((0,v.A)((0,v.A)({backgroundColor:a,groupIds:[r]},wy),{},{type:"rectangle",x:t,y:n-s,width:l,height:s,strokeColor:Or.black,fillStyle:"solid",opacity:6})):null;return[].concat((0,h.A)(d?[d]:[]),(0,h.A)(c?[c]:[]),(0,h.A)(function(e,t,n,r,a){var i;return(null===(i=e.labels)||void 0===i?void 0:i.map((function(e,i){return Im((0,v.A)((0,v.A)({groupIds:[r],backgroundColor:a},wy),{},{text:e.length>8?"".concat(e.slice(0,5),"..."):e,x:t+44*i+24,y:n+6,width:hy,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))})))||[]}(e,t,n,r,a)),(0,h.A)(function(e,t,n,r,a){var i=Im((0,v.A)((0,v.A)({groupIds:[r],backgroundColor:a},wy),{},{x:t-py,y:n-py,text:"0",textAlign:"right"}));return[i,Im((0,v.A)((0,v.A)({groupIds:[r],backgroundColor:a},wy),{},{x:t-py,y:n-vy-i.height/2,text:Math.max.apply(Math,(0,h.A)(e.values)).toLocaleString(),textAlign:"right"}))]}(e,t,n,r,a)),(0,h.A)(function(e,t,n,r,a){var i=Ay(e),o=i.chartWidth,l=i.chartHeight;return[Lm((0,v.A)((0,v.A)({backgroundColor:a,groupIds:[r]},wy),{},{type:"line",x:t,y:n,width:o,points:[Ji(0,0),Ji(o,0)]})),Lm((0,v.A)((0,v.A)({backgroundColor:a,groupIds:[r]},wy),{},{type:"line",x:t,y:n,height:l,points:[Ji(0,0),Ji(0,-l)]})),Lm((0,v.A)((0,v.A)({backgroundColor:a,groupIds:[r]},wy),{},{type:"line",x:t,y:n-vy-py,strokeStyle:"dotted",width:o,opacity:50,points:[Ji(0,0),Ji(o,0)]}))]}(e,t,n,r,a)))},ky=function(e,t,n,r){return"line"===e?function(e,t,n){var r,a=Math.max.apply(Math,(0,h.A)(e.values)),i=wm(),o=xy[Math.floor(Math.random()*xy.length)],l=0,s=[],c=(0,u.A)(e.values);try{for(c.s();!(r=c.n()).done;){var d=r.value,f=44*l,p=-d/a*vy;s.push([f,p]),l++}}catch(Be){c.e(Be)}finally{c.f()}var m=Math.max.apply(Math,(0,h.A)(s.map((function(e){return e[0]})))),g=Math.max.apply(Math,(0,h.A)(s.map((function(e){return e[1]})))),b=Math.min.apply(Math,(0,h.A)(s.map((function(e){return e[0]})))),y=Math.min.apply(Math,(0,h.A)(s.map((function(e){return e[1]})))),x=Lm((0,v.A)((0,v.A)({backgroundColor:o,groupIds:[i]},wy),{},{type:"line",x:t+py+16,y:n-py,height:g-y,width:m-b,strokeWidth:2,points:s})),w=e.values.map((function(e,r){var l=44*r+6,s=-e/a*vy+6;return Em((0,v.A)((0,v.A)({backgroundColor:o,groupIds:[i]},wy),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:t+l+16,y:n+s-24,width:py,height:py}))})),A=e.values.map((function(e,r){var l=44*r+6,s=e/a*vy+6+py;return Lm((0,v.A)((0,v.A)({backgroundColor:o,groupIds:[i]},wy),{},{type:"line",x:t+l+16+6,y:n-s,height:s,strokeStyle:"dotted",opacity:50,points:[Ji(0,0),Ji(0,s)]}))}));return[].concat((0,h.A)(Ey(e,t,n,i,o,U.a.DEV)),[x],(0,h.A)(A),(0,h.A)(w))}(t,n,r):function(e,t,n){var r=Math.max.apply(Math,(0,h.A)(e.values)),a=wm(),i=xy[Math.floor(Math.random()*xy.length)];return[].concat((0,h.A)(e.values.map((function(e,o){var l=e/r*vy;return Em((0,v.A)((0,v.A)({backgroundColor:i,groupIds:[a]},wy),{},{type:"rectangle",x:t+44*o+py,y:n-l-py,width:hy,height:l}))}))),(0,h.A)(Ey(e,t,n,a,i,U.a.DEV)))}(t,n,r)},Sy=("clipboard"in navigator&&navigator.clipboard,"clipboard"in navigator&&"writeText"in navigator.clipboard),My="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,Cy=function(e){return!(![Na.excalidraw,Na.excalidrawClipboard,Na.excalidrawClipboardWithAPI].includes(null===e||void 0===e?void 0:e.type)||!Array.isArray(e.elements))},jy=function(e){var t=e.types,n=e.files;!t&&!n&&console.warn("createPasteEvent: no types or files provided");var r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});if(t)for(var a=0,i=Object.entries(t);a<i.length;a++){var o=(0,f.A)(i[a],2),l=o[0],s=o[1];if("string"==typeof s)try{var c,d;if(null!==(c=r.clipboardData)&&void 0!==c&&c.setData(l,s),(null===(d=r.clipboardData)||void 0===d?void 0:d.getData(l))!==s)throw new Error('Failed to set "'.concat(l,'" as clipboardData item'))}catch(b){throw new Error(b.message)}else(n=n||[]).push(s)}if(n){var h,p=-1,v=(0,u.A)(n);try{for(v.s();!(h=v.n()).done;){var U=h.value;p++;try{var m,g;if(null!==(m=r.clipboardData)&&void 0!==m&&m.items.add(U),(null===(g=r.clipboardData)||void 0===g?void 0:g.files[p])!==U)throw new Error('Failed to set file "'.concat(U.name,'" as clipboardData item'))}catch(b){throw new Error(b.message)}}}catch(Be){v.e(Be)}finally{v.f()}}return r},Iy=function(e){var t=e.elements,n=e.files,r=ul(t),a=new Set(t.filter((function(e){return Ql(e)}))),i=!1,o=t.reduce((function(e,t){return Xl(t)&&(i=!0,n&&n[t.fileId]&&(e[t.fileId]=n[t.fileId])),e}),{});i&&!n&&console.warn("copyToClipboard: attempting to file element(s) without providing associated `files` object.");var l={type:Na.excalidrawClipboard,elements:t.map((function(e){if(fx(e,r)&&!a.has(fx(e,r))){var t=Fm(e);return Ox(t,{frameId:null}),t}return e})),files:n?o:void 0};return JSON.stringify(l)},Dy=function(){var e=(0,d.A)((0,c.A)().mark((function e(t,n,r){return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oy(Iy({elements:t,files:n}),r);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ty=function(e){var t=function(e){var t=e.trim().split("\n").map((function(e){return e.trim().split("\t")}));if(t.length&&2!==t[0].length&&(t=e.trim().split("\n").map((function(e){return e.trim().split(",")}))),0===t.length)return{type:Uy,reason:"No values"};var n=t[0].length;if(!t.every((function(e){return e.length===n})))return{type:Uy,reason:"All rows don't have same number of columns"};var r=yy(t);if(r.type!==my){var a=yy(function(e){for(var t=[],n=0;n<e[0].length;n++){for(var r=[],a=0;a<e.length;a++)r.push(e[a][n]);t.push(r)}return t}(t));if(a.type===my)return a}return r}(e);return t.type===my?{spreadsheet:t.spreadsheet}:null};function _y(e){var t,n=[],r=(0,u.A)(e.childNodes);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(3===a.nodeType){var i,o=null===(i=a.textContent)||void 0===i?void 0:i.trim();o&&n.push({type:"text",value:o})}else if(a instanceof HTMLImageElement){var l=a.getAttribute("src");l&&l.startsWith("http")&&n.push({type:"imageUrl",value:l})}else n=n.concat(_y(a))}}catch(Be){r.e(Be)}finally{r.f()}return n}var Ly=function(e){var t,n=null===(t=e.clipboardData)||void 0===t?void 0:t.getData(La.html);if(!n)return null;try{var r,a=_y((new DOMParser).parseFromString(n,La.html).body);if(a.length)return{type:"mixedContent",value:a}}catch(r){console.error("error in parseHTMLFromPaste: ".concat(r.message))}return null},Ry=function(){var e=(0,d.A)((0,c.A)().mark((function e(){var t,n,r,a,i,o,l,s,d,f,h,v,U,m,g;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,null===(r=navigator.clipboard)||void 0===r?void 0:r.read();case 4:n=e.sent,e.next=29;break;case 7:if(e.prev=7,e.t0=e.catch(1),e.prev=9,null===(a=navigator.clipboard)||void 0===a||!a.readText){e.next=17;break}return console.warn("navigator.clipboard.readText() failed (".concat(e.t0.message,"). Failling back to navigator.clipboard.read()")),e.next=14,null===(i=navigator.clipboard)||void 0===i?void 0:i.readText();case 14:if(!(o=e.sent)){e.next=17;break}return e.abrupt("return",(0,p.default)({},La.text,o));case 17:e.next=28;break;case 19:if(e.prev=19,e.t1=e.catch(9),null===(l=navigator.clipboard)||void 0===l||!l.read){e.next=25;break}console.warn("navigator.clipboard.readText() failed (".concat(e.t1.message,"). Failling back to navigator.clipboard.read()")),e.next=28;break;case 25:if("DataError"!==e.t1.name){e.next=27;break}return e.abrupt("return",(console.warn("navigator.clipboard.read() error, clipboard is probably empty: ".concat(e.t1.message)),t));case 27:throw e.t1;case 28:throw e.t0;case 29:s=(0,u.A)(n),e.prev=30,s.s();case 32:if((d=s.n()).done){e.next=75;break}f=d.value,h=(0,u.A)(f.types),e.prev=35,h.s();case 37:if((v=h.n()).done){e.next=65;break}if(U=v.value,!Cl(Ra,U)){e.next=63;break}if(e.prev=40,U!==La.text&&U!==La.html){e.next=49;break}return e.next=44,f.getType(U);case 44:return e.next=46,e.sent.text();case 46:t[U]=e.sent,e.next=58;break;case 49:if(!Ow(U)){e.next=57;break}return e.next=52,f.getType(U);case 52:m=e.sent,g=rA(m,U,void 0),t[U]=g,e.next=58;break;case 57:throw new ff("Unsupported clipboard type: ".concat(U));case 58:e.next=63;break;case 60:e.prev=60,e.t2=e.catch(40),console.warn(e.t2 instanceof ff?e.t2.message:"Cannot retrieve ".concat(U," from clipboardItem: ").concat(e.t2.message));case 63:e.next=37;break;case 65:e.next=70;break;case 67:e.prev=67,e.t3=e.catch(35),h.e(e.t3);case 70:return e.prev=70,h.f(),e.finish(70);case 73:e.next=32;break;case 75:e.next=80;break;case 77:e.prev=77,e.t4=e.catch(30),s.e(e.t4);case 80:return e.prev=80,s.f(),e.finish(80);case 83:return e.abrupt("return",(0===Object.keys(t).length&&console.warn("No clipboard data found from clipboard.read()."),t));case 84:case"end":return e.stop()}}),e,null,[[1,7],[9,19],[30,77,80,83],[35,67,70,73],[40,60]])})));return function(){return e.apply(this,arguments)}}(),Py=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n,r,a,i,o=arguments;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.prev=1,i=!n&&t&&Ly(t),e.abrupt("return",i?i.value.every((function(e){return"text"===e.type}))?{type:"text",value:(null===(r=t.clipboardData)||void 0===r?void 0:r.getData(La.text))||i.value.map((function(e){return e.value})).join("\n").trim()}:i:{type:"text",value:((null===(a=t.clipboardData)||void 0===a?void 0:a.getData(La.text))||"").trim()});case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{type:"text",value:""});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Ny=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n,r,a,i,o,l=arguments;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]&&l[1],e.next=3,Py(t,n);case 3:if("mixedContent"!==(r=e.sent).type){e.next=6;break}return e.abrupt("return",{mixedContent:r.value});case 6:if(e.prev=6,!(a=!n&&Ty(r.value))){e.next=10;break}return e.abrupt("return",a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.error(e.t0);case 15:if(e.prev=15,i=JSON.parse(r.value),o=i.type===Na.excalidrawClipboardWithAPI,!Cy(i)){e.next=19;break}return e.abrupt("return",{elements:i.elements,files:i.files,text:n?JSON.stringify(i.elements,null,2):void 0,programmaticAPI:o});case 19:e.next=23;break;case 21:e.prev=21,e.t1=e.catch(15);case 23:return e.abrupt("return",{text:r.value});case 24:case"end":return e.stop()}}),e,null,[[6,12],[15,21]])})));return function(t){return e.apply(this,arguments)}}(),Fy=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.write([new window.ClipboardItem((0,p.default)({},La.png,t))]);case 3:case 21:e.next=24;break;case 5:if(e.prev=5,e.t0=e.catch(0),!yl(t)){e.next=23;break}return e.t1=navigator.clipboard,e.t2=window.ClipboardItem,e.t3=p.default,e.t4={},e.t5=La.png,e.next=15,t;case 15:return e.t6=e.sent,e.t7=(0,e.t3)(e.t4,e.t5,e.t6),e.t8=new e.t2(e.t7),e.t9=[e.t8],e.next=21,e.t1.write.call(e.t1,e.t9);case 23:throw e.t0;case 24:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Oy=function(){var e=(0,d.A)((0,c.A)().mark((function e(t,n){var r,a;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Sy){e.next=10;break}return e.prev=1,e.next=4,navigator.clipboard.writeText(t||"");case 4:return e.abrupt("return");case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:if(e.prev=10,!n){e.next=15;break}if(null!==(r=n.clipboardData)&&void 0!==r&&r.setData(La.text,t||""),(null===(a=n.clipboardData)||void 0===a?void 0:a.getData(La.text))===t){e.next=14;break}throw new Error("Failed to setData on clipboardEvent");case 14:return e.abrupt("return");case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),console.error(e.t1);case 20:if(zy(t)){e.next=22;break}throw new Error("Error copying to clipboard.");case 22:case"end":return e.stop()}}),e,null,[[1,7],[10,17]])})));return function(t,n){return e.apply(this,arguments)}}(),zy=function(e){e||(e=" ");var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(r,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);var a=!1;try{n.select(),n.setSelectionRange(0,n.value.length),a=document.execCommand("copy")}catch(i){console.error(i)}return n.remove(),a},By=function(e){var t=e.elements,n=e.appState,r=e.files,a=e.maxWidthOrHeight,i=e.getDimensions,o=e.exportPadding,l=e.exportingFrame,s=dy({elements:t,appState:n},null,null),c=s.elements,d=s.appState,u=d.exportBackground,f=d.viewBackgroundColor;return gb(c,(0,v.A)((0,v.A)({},d),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),r||{},{exportBackground:u,exportPadding:o,viewBackgroundColor:f,exportingFrame:l},(function(e,t){var r,o=document.createElement("canvas");if(a){var l;"function"==typeof i&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var s=Math.max(e,t),c=a<s?a/s:null!==(l=null===n||void 0===n?void 0:n.exportScale)&&void 0!==l?l:1;return o.width=e*c,o.height=t*c,{canvas:o,scale:c}}var d=(null===i||void 0===i?void 0:i(e,t))||{width:e,height:t};return o.width=d.width,o.height=d.height,{canvas:o,scale:null!==(r=d.scale)&&void 0!==r?r:1}}))},Hy=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n,r,a,i,o,l,s,d,u,f,h,p,U,m;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.elements,r=t.appState,a=void 0===r?ji():r,i=t.files,o=void 0===i?{}:i,l=t.exportPadding,s=t.renderEmbeddables,d=t.exportingFrame,u=t.skipInliningFonts,f=t.reuseImages,h=dy({elements:n,appState:a},null,null),p=h.elements,U=h.appState,m=(0,v.A)((0,v.A)({},U),{},{exportPadding:l}),e.abrupt("return",yb(p,m,o,{exportingFrame:d,renderEmbeddables:s,skipInliningFonts:u,reuseImages:f}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wy=function(e){return ts(e)||Jl(e)?e.points:function(e){return"diamond"===e.type?[Ji(e.width/2,0),Ji(e.width,e.height/2),Ji(e.width/2,e.height),Ji(0,e.height/2)]:[Ji(0,0),Ji(0+e.width,0),Ji(0+e.width,e.height),Ji(0,e.height)]}(e)},Xy=function(e){var t=e.reduce((function(e,t){var n=(0,f.A)(t,2),r=n[0],a=n[1];return e.minY=Math.min(e.minY,a),e.minX=Math.min(e.minX,r),e.maxX=Math.max(e.maxX,r),e.maxY=Math.max(e.maxY,a),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,cx:0,cy:0});return t.cx=(t.maxX+t.minX)/2,t.cy=(t.maxY+t.minY)/2,t},Gy=function(e){var t=Wy(e),n=Xy(t),r=Ji(n.cx,n.cy),a=t.map((function(t){return ao(t,r,e.angle)})),i=Xy(a),o=i.minX,l=i.minY,s=i.maxX,c=i.maxY;return[o+e.x,l+e.y,s+e.x,c+e.y]},Vy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Gy(e),a=t[0]<=r[0]&&t[2]>=r[2]&&t[1]<=r[1]&&t[3]>=r[3];return n?!!a||r[0]<=t[0]&&r[2]>=t[2]&&r[1]<=t[1]&&r[3]>=t[3]:a},Yy=function(e,t){var n=Gy(e);return(Io(n[0],Mo(t[0],t[2]))||Io(t[0],Mo(n[0],n[2])))&&(Io(n[1],Mo(t[1],t[3]))||Io(t[1],Mo(n[1],n[3])))};function Zy(e){return[Math.min(e[0][0],e[1][0]),Math.min(e[0][1],e[1][1]),Math.max(e[0][0],e[1][0]),Math.max(e[0][1],e[1][1])]}function Ky(e,t){var n=Yi(Vi(e[1],e[0]),Vi(t,e[0]));return Math.abs(n)<1e-6}function qy(e,t){return Yi(Vi(e[1],e[0]),Vi(t,e[0]))<0}function $y(e,t){return Ky(e,t[0])||Ky(e,t[1])||(qy(e,t[0])?!qy(e,t[1]):qy(e,t[1]))}var Qy=function(e,t,n){var r,a=ul(e),i=(0,u.A)(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.frameId){var l=n.get(o.id),s=n.get(o.frameId);if(l){var c=a.get(l);c&&Ox(c,{frameId:null!==s&&void 0!==s?s:o.frameId},!1)}}}}catch(Be){i.e(Be)}finally{i.f()}};function Jy(e,t,n){var r=Dp(t,n),a=Dp(e,n);return r.some((function(e){return a.some((function(t){return function(e,t){return function(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}(Zy(e),Zy(t))&&$y(e,t)&&$y(t,e)}(e,t)}))}))}var ex=function(e,t,n){return bx(Mx(e,t,n,!1)).filter((function(e){return!Ql(e)&&!e.frameId||e.frameId===t.id}))},tx=function(e,t,n){return Mx([t],e,n).some((function(e){return e.id===t.id}))},nx=function(e,t,n){var r=Ip(t,n),a=(0,f.A)(r,4),i=a[0],o=a[1],l=a[2],s=a[3],c=Bp(e),d=(0,f.A)(c,4),u=d[0],h=d[1],p=d[2],v=d[3];return i<=u&&o<=h&&l>=p&&s>=v},rx=function(e,t,n){return nx([e],t,n)||Jy(e,t,n)||tx(e,t,n)},ax=function(e,t,n){var r=Ip(t,n),a=(0,f.A)(r,4),i=a[0],o=a[1],l=a[2],s=a[3];return uo(Ji(i,o),Ji(e.x,e.y),Ji(l,s))},ix=function(e){var t,n=new Map,r=(0,u.A)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=Ql(a)?a.id:a.frameId;i&&!n.has(i)&&n.set(i,ox(e,i))}}catch(Be){r.e(Be)}finally{r.f()}return n},ox=function(e,t){var n,r=[],a=(0,u.A)(e.values());try{for(a.s();!(n=a.n()).done;){var i=n.value;i.frameId===t&&r.push(i)}}catch(Be){a.e(Be)}finally{a.f()}return r},lx=function(e){return e.filter((function(e){return Ql(e)}))},sx=function(e){var t=ul(lx(e));return e.filter((function(e){return t.has(e.id)||!e.frameId||!t.has(e.frameId)}))},cx=function(e,t,n,r){var a,i=ox(e,t.id),o=new Set(i),l=new Set([].concat((0,h.A)(ex(e,t,r)),(0,h.A)(i.filter((function(e){return tx(e,t,r)}))))),s=i.filter((function(e){return!l.has(e)})),c=new Set(Array.from(l).flatMap((function(e){return e.groupIds}))),d=(0,u.A)(s);try{for(d.s();!(a=d.n()).done;){var p=a.value;if(Jy(p,t,r)){if(p.groupIds.length>0){var v,U=(0,u.A)(p.groupIds);try{for(U.s();!(v=U.n()).done;){var m=v.value;c.add(m)}}catch(Be){U.e(Be)}finally{U.f()}}}else 0===p.groupIds.length&&o.delete(p)}}catch(Be){d.e(Be)}finally{d.f()}var g,b=(0,u.A)(s);try{for(b.s();!(g=b.n()).done;){var y=g.value;if(y.groupIds.length>0){var x,w=!0,A=(0,u.A)(y.groupIds);try{for(A.s();!(x=A.n()).done;){var E=x.value;c.has(E)&&(w=!1)}}catch(Be){A.e(Be)}finally{A.f()}w&&o.delete(y)}}}catch(Be){b.e(Be)}finally{b.f()}var k,S=Array.from(l).filter((function(e){return 0===e.groupIds.length})),M=(0,u.A)(S);try{for(M.s();!(k=M.n()).done;){var C=k.value;o.add(C)}}catch(Be){M.e(Be)}finally{M.f()}for(var j=Array.from(l).filter((function(e){return e.groupIds.length>0})),I=tU(j,n),D=0,T=Object.entries(I);D<T.length;D++){var _=(0,f.A)(T[D],2),L=_[0];if(_[1]){var R=aU(e,L);if(nx(R,t,r)){var P,N=(0,u.A)(R);try{for(N.s();!(P=N.n()).done;){var F=P.value;o.add(F)}}catch(Be){N.e(Be)}finally{N.f()}}}}return(0,h.A)(o).filter((function(e){return!(Kl(e)&&e.containerId)}))},dx=function(e,t,n){return ux(bx(e,ex(e,t,n)),t,n)},ux=function(e,t,n){var r,a=[],i=new Map,o=(0,u.A)(e);try{var l=function(){var e=r.value,o=!1;if(e.groupIds.length>0){if(e.groupIds.some((function(e){return i.get(e)})))o=!0;else{var l=new Set(e.groupIds.flatMap((function(e){return aU(n,e)})));o=!nx(Array.from(l),t,n)}e.groupIds.forEach((function(e){i.set(e,o)}))}o||a.push(e)};for(o.s();!(r=o.n()).done;)l()}catch(Be){o.e(Be)}finally{o.f()}return a},fx=function(e,t){return e.frameId&&t.get(e.frameId)||null},hx=function(e,t){var n=new Set,r=ul(e);e=bx(e);var a,i=(0,u.A)(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;Ql(o)&&o.id!==t.id&&n.add(o.id)}}catch(Be){i.e(Be)}finally{i.f()}var l,s=new Set,c=[],d=(0,u.A)(e);try{for(d.s();!(l=d.n()).done;){var f=l.value;if(!(Ql(f)||f.frameId&&n.has(f.frameId)))if(f.groupIds.length){var h=f.groupIds.at(-1);if(!s.has(h)){s.add(h);var p=aU(e,h);if(p.some((function(e){return rx(e,t,r)}))){var v,U=(0,u.A)(p);try{for(U.s();!(v=U.n()).done;){var m=v.value;c.push(m)}}catch(Be){U.e(Be)}finally{U.f()}}}}else rx(f,t,r)&&c.push(f)}}catch(Be){d.e(Be)}finally{d.f()}return c},px=function(e,t,n,r){var a,i=ul(e),o=new Map,l=(0,u.A)(e.values());try{for(l.s();!(a=l.n()).done;){var s=a.value;s.frameId===n.id&&o.set(s.id,!0)}}catch(Be){l.e(Be)}finally{l.f()}var c,d=new Set(t.map((function(e){return e.id}))),f=[],h=new Set,p=(0,u.A)(t);try{for(p.s();!(c=p.n()).done;){var v=c.value;Ql(v)&&v.id!==n.id&&h.add(v.id)}}catch(Be){p.e(Be)}finally{p.f()}var U,m=(0,u.A)(bx(e,t));try{for(m.s();!(U=m.n()).done;){var g=U.value;if(!(Ql(g)||g.frameId&&h.has(g.frameId)||g.frameId&&r.selectedElementIds[g.id]&&r.selectedElementIds[g.frameId])){o.has(g.id)||f.push(g);var b=YU(g,i);b&&!d.has(b.id)&&!o.has(b.id)&&f.push(b)}}}catch(Be){m.e(Be)}finally{m.f()}for(var y=0,x=f;y<x.length;y++){var w=x[y];Ox(w,{frameId:n.id},!1)}return e},vx=function(e,t){var n,r=new Map,a=new Map,i=(0,u.A)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.frameId){r.set(o.id,o);var l=a.get(o.frameId)||[];l.push(o);var s=YU(o,t);s&&(r.set(s.id,s),l.push(s)),a.set(o.frameId,l)}}}catch(Be){i.e(Be)}finally{i.f()}var c,d=(0,u.A)(r);try{for(d.s();!(c=d.n()).done;){var h=(0,f.A)(c.value,2)[1];Ox(h,{frameId:null},!1)}}catch(Be){d.e(Be)}finally{d.f()}},Ux=function(e,t){var n=ox(e,t.id);return vx(n,ul(e)),e},mx=function(e,t,n,r){return px(Ux(e,n),t,n,r.state).slice()},gx=function(e,t,n){var r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,elements:e}),a=new Set(r);if(t.editingGroupId){var i,o=(0,u.A)(r);try{for(o.s();!(i=o.n()).done;){var l=i.value;0===l.groupIds.length?a.add(l):l.groupIds.flatMap((function(t){return aU(e,t)})).forEach((function(e){return a.add(e)}))}}catch(Be){o.e(Be)}finally{o.f()}}var s=new Set,c=ul(e);return a.forEach((function(e){e.frameId&&!Ql(e)&&!xx(e,c,t)&&s.add(e)})),s.size>0&&vx(s,c),e},bx=function(e,t){var n,r=new Set,a=t||e,i=(0,u.A)(a.values());try{for(i.s();!(n=i.n()).done;){var o=n.value,l=o.groupIds[o.groupIds.length-1];l&&r.add(l)}}catch(Be){i.e(Be)}finally{i.f()}var s,c=new Set,d=(0,u.A)(r);try{for(d.s();!(s=d.n()).done;){var f=s.value;aU(e,f).some((function(e){return Ql(e)}))&&c.add(f)}}catch(Be){d.e(Be)}finally{d.f()}var h,p=[],v=(0,u.A)(a.values());try{for(v.s();!(h=v.n()).done;){var U=h.value;c.has(U.groupIds[U.groupIds.length-1])||p.push(U)}}catch(Be){v.e(Be)}finally{v.f()}return p},yx=function(e,t,n){var r=Kl(e)&&ZU(e,t)||e;return r.frameId&&n.selectedElementIds[r.id]&&n.selectedElementIds[r.frameId]?fx(r,t):n.selectedElementIds[r.id]&&n.selectedElementsAreBeingDragged?n.frameToHighlight:fx(r,t)},xx=function(e,t,n,r){var a,i=null!==(a=null===r||void 0===r?void 0:r.targetFrame)&&void 0!==a?a:yx(e,t,n);if(!i)return!1;var o=Kl(e)&&ZU(e,t)||e,l=function(e){(null===r||void 0===r?void 0:r.checkedGroups)&&o.groupIds.forEach((function(t){var n;null===(n=r.checkedGroups)||void 0===n||n.set(t,e)}))};if(!n.selectedElementIds[o.id]||!n.selectedElementsAreBeingDragged||n.selectedElementIds[o.id]&&n.selectedElementIds[i.id])return!0;if(0===o.groupIds.length)return rx(o,i,t);var s,c=(0,u.A)(o.groupIds);try{for(c.s();!(s=c.n()).done;){var d,f=s.value;if(null!==r&&void 0!==r&&null!==(d=r.checkedGroups)&&void 0!==d&&d.has(f))return r.checkedGroups.get(f)}}catch(Be){c.e(Be)}finally{c.f()}var h=new Set(o.groupIds.filter((function(e){return null===r||void 0===r||!r.checkedGroups||!r.checkedGroups.has(e)})).flatMap((function(e){return aU(t,e)})));if(n.editingGroupId&&n.selectedElementsAreBeingDragged){var p=new Set(Dx(t,n));if(null!==n.frameToHighlight)return!0;p.forEach((function(e){h.delete(e)}))}var v,U=(0,u.A)(h);try{for(U.s();!(v=U.n()).done;){var m=v.value;if(Ql(m))return l(!1),!1}}catch(Be){U.e(Be)}finally{U.f()}var g,b=(0,u.A)(h);try{for(b.s();!(g=b.n()).done;){var y=g.value;if(rx(y,i,t))return l(!0),!0}}catch(Be){b.e(Be)}finally{b.f()}return!1},wx=function(e,t,n,r,a){if(!n.frameRendering||!n.frameRendering.clip)return!1;var i=Jy(e,t,r)||tx(e,t,r);if(i){var o,l=(0,u.A)(e.groupIds);try{for(l.s();!(o=l.n()).done;){var s=o.value;null===a||void 0===a||a.set(s,!0)}}catch(Be){l.e(Be)}finally{l.f()}return!0}if(!i&&e.groupIds.length>0&&!nx([e],t,r)){var c=!1;if(n.selectedElementsAreBeingDragged)c=xx(e,r,n,{targetFrame:t,checkedGroups:a});else{c=e.frameId===t.id;var d,f=(0,u.A)(e.groupIds);try{for(f.s();!(d=f.n()).done;){var h=d.value;null===a||void 0===a||a.set(h,c)}}catch(Be){f.e(Be)}finally{f.f()}}var p,v=(0,u.A)(e.groupIds);try{for(v.s();!(p=v.n()).done;){var U=p.value;null===a||void 0===a||a.set(U,c)}}catch(Be){v.e(Be)}finally{v.f()}return c}return!1},Ax=function(e){return null===e.name?ql(e)?"Frame":"AI Frame":e.name},Ex=function(e,t){return function(e){var t=e.elements,n=e.bounds,r=e.type,a=e.errorMargin,i=void 0===a?0:a;cs(n)&&(n=zp(n,ul(t)));var o,l=[n[0]-i,n[1]-i,n[2]+i,n[3]+i],s=new Set,c=(0,u.A)(t);try{for(c.s();!(o=c.n()).done;){var d=o.value;if(!s.has(d.id)&&("overlap"===r?Yy(d,l):"inside"===r?Vy(d,l):Vy(d,l,!0))){var f;if(s.add(d.id),d.boundElements){var h,p=(0,u.A)(d.boundElements);try{for(p.s();!(h=p.n()).done;){var v=h.value;s.add(v.id)}}catch(Be){p.e(Be)}finally{p.f()}}Kl(d)&&d.containerId&&s.add(d.containerId),ns(d)&&(d.startBinding&&s.add(d.startBinding.elementId),d.endBinding&&s.add(null===(f=d.endBinding)||void 0===f?void 0:f.elementId))}}}catch(Be){c.e(Be)}finally{c.f()}return t.filter((function(e){return s.has(e.id)}))}({elements:e,bounds:t,type:"overlap"}).filter((function(e){return!e.frameId||e.frameId===t.id}))},kx=function(e){var t=ul(e);return e.length>1&&e.some((function(e){return e.frameId&&t.has(e.frameId)}))},Sx=function(e){var t=new Set;return e.forEach((function(e){Ql(e)&&t.add(e.id)})),e.filter((function(e){return!(e.frameId&&t.has(e.frameId))}))},Mx=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=Ip(t,n),i=(0,f.A)(a,4),o=i[0],l=i[1],s=i[2],c=i[3],d=e.filter((function(e){var t=zp(e,n),r=(0,f.A)(t,4),a=r[0],i=r[1],d=r[2],u=r[3],h=fx(e,n);if(h){var p=zp(h,n),v=(0,f.A)(p,4),U=v[0],m=v[1],g=v[2],b=v[3];a=Math.max(U,a),i=Math.max(m,i),d=Math.min(g,d),u=Math.min(b,u)}return!1===e.locked&&"selection"!==e.type&&!fs(e)&&o<=a&&l<=i&&s>=d&&c>=u}));return d=(d=r?Sx(d):d).filter((function(e){var t=fx(e,n);return!t||rx(e,t,n)})),d},Cx=function(e,t,n,r){var a=new Set(t.map((function(e){return e.id})));return e.filter((function(e){var t=Wx(e,n.width,n.height,n,r);return!a.has(e.id)&&t}))},jx=function(){var e=null,t=null,n=null,r=function(r,a){return null!=n&&r===e&&a.selectedElementIds===t||(n=r.some((function(e){return a.selectedElementIds[e.id]})),e=r,t=a.selectedElementIds),n};return r.clearCache=function(){e=null,t=null,n=null},r}(),Ix=function(e,t,n){var r=Array.from(new Set(Dx(e,t).map((function(e){return n(e)}))));return 1===r.length?r[0]:null},Dx=function(e,t,n){var r,a=new Set,i=[],o=(0,u.A)(e.values());try{for(o.s();!(r=o.n()).done;){var l=r.value;t.selectedElementIds[l.id]?(i.push(l),a.add(l.id)):null!==n&&void 0!==n&&n.includeBoundTextElement&&fs(l)&&t.selectedElementIds[null===l||void 0===l?void 0:l.containerId]&&(i.push(l),a.add(l.id))}}catch(Be){o.e(Be)}finally{o.f()}if(null!==n&&void 0!==n&&n.includeElementsInFrames){var s=[];return i.forEach((function(t){Ql(t)&&ox(e,t.id).forEach((function(e){return!a.has(e.id)&&s.push(e)})),s.push(t)})),s}return i},Tx=function(e,t){return t.editingTextElement?[t.editingTextElement]:t.newElement?[t.newElement]:Dx(e,t,{includeBoundTextElement:!0})},_x=function(e,t){return Al(t.selectedElementIds,e)?t.selectedElementIds:e},Lx=function(e){var t,n=new Map,r=[],a=(0,u.A)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.isDeleted||(r.push(i),n.set(i.id,i))}}catch(Be){a.e(Be)}finally{a.f()}return{elementsMap:n,elements:r}},Rx=Cn((function(e){var t;(U.a.DEV||U.a.MODE===ha.TEST||(null===(t=window)||void 0===t?void 0:t.DEBUG_FRACTIONAL_INDICES))&&Wm(e,{shouldThrow:U.a.DEV||U.a.MODE===ha.TEST,includeBoundTextValidation:!0})}),6e4,{leading:!0,trailing:!1}),Px=function(e){return"string"==typeof e},Nx=function(){function e(){var t=this;(0,l.A)(this,e),(0,m.d)(this,"callbacks",new Set),(0,m.d)(this,"nonDeletedElements",[]),(0,m.d)(this,"nonDeletedElementsMap",Fl(new Map)),(0,m.d)(this,"elements",[]),(0,m.d)(this,"nonDeletedFramesLikes",[]),(0,m.d)(this,"frames",[]),(0,m.d)(this,"elementsMap",Fl(new Map)),(0,m.d)(this,"selectedElementsCache",{selectedElementIds:null,elements:null,cache:new Map}),(0,m.d)(this,"sceneNonce"),(0,m.d)(this,"insertElement",(function(e){var n=e.frameId?t.getElementIndex(e.frameId):t.elements.length;t.insertElementAtIndex(e,n)})),(0,m.d)(this,"insertElements",(function(e){var n;if(e.length){var r=null!==(n=e[0])&&void 0!==n&&n.frameId?t.getElementIndex(e[0].frameId):t.elements.length;t.insertElementsAtIndex(e,r)}})),(0,m.d)(this,"getContainerElement",(function(e){return e&&e.containerId&&t.getElement(e.containerId)||null})),(0,m.d)(this,"getElementsFromId",(function(e){var n=t.getNonDeletedElementsMap(),r=n.get(e);return r?[r]:aU(n,e)}))}return(0,s.A)(e,[{key:"getSceneNonce",value:function(){return this.sceneNonce}},{key:"getNonDeletedElementsMap",value:function(){return this.nonDeletedElementsMap}},{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getElementsMapIncludingDeleted",value:function(){return this.elementsMap}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getFramesIncludingDeleted",value:function(){return this.frames}},{key:"getSelectedElements",value:function(e){var t=function(e){for(var t="",n=0,r=["includeBoundTextElement","includeElementsInFrames"];n<r.length;n++){var a=r[n];t+="".concat(a,":").concat(e[a]?"1":"0")}return t}(e),n=(null===e||void 0===e?void 0:e.elements)||this.nonDeletedElements;if(this.selectedElementsCache.elements===n&&this.selectedElementsCache.selectedElementIds===e.selectedElementIds){var r=this.selectedElementsCache.cache.get(t);if(r)return r}else null==(null===e||void 0===e?void 0:e.elements)&&this.selectedElementsCache.cache.clear();var a=Dx(n,{selectedElementIds:e.selectedElementIds},e);return null==(null===e||void 0===e?void 0:e.elements)&&(this.selectedElementsCache.selectedElementIds=e.selectedElementIds,this.selectedElementsCache.elements=this.nonDeletedElements,this.selectedElementsCache.cache.set(t,a)),a}},{key:"getNonDeletedFramesLikes",value:function(){return this.nonDeletedFramesLikes}},{key:"getElement",value:function(e){return this.elementsMap.get(e)||null}},{key:"getNonDeletedElement",value:function(e){var t=this.getElement(e);return t&&Dw(t)?t:null}},{key:"mapElements",value:function(e){var t=!1,n=this.elements.map((function(n){var r=e(n);return r!==n&&(t=!0),r}));return t&&this.replaceAllElements(n),t}},{key:"replaceAllElements",value:function(t){var n=this,r=t instanceof Array?t:Array.from(t.values()),a=[];Rx(r),this.elements=Gm(r),this.elementsMap.clear(),this.elements.forEach((function(t){Ql(t)&&a.push(t),n.elementsMap.set(t.id,t),e.mapElementToScene(t,n)}));var i=Lx(this.elements);this.nonDeletedElements=i.elements,this.nonDeletedElementsMap=i.elementsMap,this.frames=a,this.nonDeletedFramesLikes=Lx(this.frames).elements,this.triggerUpdate()}},{key:"triggerUpdate",value:function(){this.sceneNonce=xm();for(var e=0,t=Array.from(this.callbacks);e<t.length;e++){(0,t[e])()}}},{key:"onUpdate",value:function(e){var t=this;if(this.callbacks.has(e))throw new Error;return this.callbacks.add(e),function(){if(!t.callbacks.has(e))throw new Error;t.callbacks.delete(e)}}},{key:"destroy",value:function(){var t=this;this.elements=[],this.nonDeletedElements=[],this.nonDeletedFramesLikes=[],this.frames=[],this.elementsMap.clear(),this.selectedElementsCache.selectedElementIds=null,this.selectedElementsCache.elements=null,this.selectedElementsCache.cache.clear(),e.sceneMapById.forEach((function(n,r){n===t&&e.sceneMapById.delete(r)})),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(e,t){if(!Number.isFinite(t)||t<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var n=[].concat((0,h.A)(this.elements.slice(0,t)),[e],(0,h.A)(this.elements.slice(t)));Xm(n,ul([e])),this.replaceAllElements(n)}},{key:"insertElementsAtIndex",value:function(e,t){if(e.length){if(!Number.isFinite(t)||t<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var n=[].concat((0,h.A)(this.elements.slice(0,t)),(0,h.A)(e),(0,h.A)(this.elements.slice(t)));Xm(n,ul(e)),this.replaceAllElements(n)}}},{key:"getElementIndex",value:function(e){return this.elements.findIndex((function(t){return t.id===e}))}}],[{key:"mapElementToScene",value:function(e,t){Px(e)?this.sceneMapById.set(e,t):(this.sceneMapByElement.set(e,t),this.sceneMapById.set(e.id,t))}},{key:"getScene",value:function(e){return Px(e)?this.sceneMapById.get(e)||null:this.sceneMapByElement.get(e)||null}}])}();(0,m.d)(Nx,"sceneMapByElement",new WeakMap),(0,m.d)(Nx,"sceneMapById",new Map);var Fx=Nx,Ox=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3?arguments[3]:void 0,i=!1,o=t,l=o.points,s=o.fixedSegments,c=o.fileId,d=o.startBinding,u=o.endBinding;if(rs(e)&&(0===Object.keys(t).length||typeof l<"u"||typeof s<"u"||typeof d<"u"||typeof u<"u")){var f,h,p=Fl(null!==(f=null===(h=Fx.getScene(e))||void 0===h?void 0:h.getNonDeletedElementsMap())&&void 0!==f?f:new Map);t=(0,v.A)((0,v.A)({},t),{},{angle:0},Cb((0,v.A)((0,v.A)({},e),{},{x:t.x||e.x,y:t.y||e.y}),p,{fixedSegments:s,points:l,startBinding:d,endBinding:u},{isDragging:null===a||void 0===a?void 0:a.isDragging}))}else typeof l<"u"&&(t=(0,v.A)((0,v.A)({},Sp(l)),t));for(var U in t){var m=t[U];if(typeof m<"u"){if(e[U]===m&&("object"!=typeof m||null===m||"groupIds"===U||"scale"===U))continue;if("scale"===U){var g=e[U],b=m;if(g[0]===b[0]&&g[1]===b[1])continue}else if("points"===U){var y=e[U],x=m;if(y.length===x.length){for(var w=!1,A=y.length;--A;){var E=y[A],k=x[A];if(E[0]!==k[0]||E[1]!==k[1]){w=!0;break}}if(!w)continue}}e[U]=m,i=!0}}return i&&((typeof t.height<"u"||typeof t.width<"u"||typeof c<"u"||typeof l<"u")&&Js.delete(e),e.version++,e.versionNonce=xm(),e.updated=dl(),r&&null!==(n=Fx.getScene(e))&&void 0!==n&&n.triggerUpdate()),e},zx=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1;for(var a in t){var i=t[a];if(typeof i<"u"){if(e[a]===i&&("object"!=typeof i||null===i))continue;r=!0}}return r||n?(0,v.A)((0,v.A)((0,v.A)({},e),t),{},{updated:dl(),version:e.version+1,versionNonce:xm()}):e},Bx=function(e,t){return e.version=(null!==t&&void 0!==t?t:e.version)+1,e.versionNonce=xm(),e.updated=dl(),e},Hx=function(e){return ts(e)||Jl(e)?e.points.length<2:0===e.width&&0===e.height},Wx=function(e,t,n,r,a){var i=zp(e,a),o=(0,f.A)(i,4),l=o[0],s=o[1],c=o[2],d=o[3],u=Ko({clientX:r.offsetLeft,clientY:r.offsetTop},r),h=Ko({clientX:r.offsetLeft+t,clientY:r.offsetTop+n},r);return u.x<=c&&u.y<=d&&h.x>=l&&h.y>=s},Xx=function(e,t,n,r,a,i){var o=Bp(e,a),l=(0,f.A)(o,4),s=l[0],c=l[1],d=l[2],u=l[3],h=Ko({clientX:r.offsetLeft+((null===i||void 0===i?void 0:i.left)||0),clientY:r.offsetTop+((null===i||void 0===i?void 0:i.top)||0)},r),p=Ko({clientX:r.offsetLeft+t-((null===i||void 0===i?void 0:i.right)||0),clientY:r.offsetTop+n-((null===i||void 0===i?void 0:i.bottom)||0)},r);return s>=h.x&&c>=h.y&&d<=p.x&&u<=p.y},Gx=function(e,t,n){var r=Math.abs(t),a=Math.abs(n);if("line"===e||"arrow"===e||"freedraw"===e){var i=Math.round(Math.atan(a/r)/la)*la;0===i?n=0:i===Math.PI/2?t=0:n=r*Math.tan(i)*Math.sign(n)||n}else"selection"!==e&&(n=r*Math.sign(n));return{width:t,height:n}},Vx=function(e,t,n,r){var a=n-e,i=r-t,o=Math.round(Math.atan(i/a)/la)*la;if(0===o)i=0;else if(o===Math.PI/2)a=0;else{var l=Math.tan(o),s=t-l*e,c=-1/l,d=r-c*n;a=(-1*d- -1*s)/(-1*l- -1*c)-e,i=(s*c-d*l)/(-1*l- -1*c)-t}return{width:a,height:i}},Yx=function(e){var t={width:e.width,height:e.height,x:e.x,y:e.y};if(e.width<0){var n=Math.abs(e.width);t.width=n,t.x=e.x-n}if(e.height<0){var r=Math.abs(e.height);t.height=r,t.y=e.y-r}return t},Zx={mouse:8,pen:16,touch:28},Kx={e:!0,s:!0,n:!0,w:!0},qx={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},$x={e:!0,s:!0,n:!0,w:!0},Qx=function(e,t,n,r,a,i,o){var l=ao(Ji(e+n/2,t+r/2),Ji(a,i),o),s=(0,f.A)(l,2);return[s[0]-n/2,s[1]-r/2,n,r]},Jx=function(e){return!(e.viewport.isMobile||e.isTouchScreen&&(Kr||Qr))},ew=function(e){return Jx(e)?Kx:{}},tw=function(e,t,n,r){var a=(0,f.A)(e,6),i=a[0],o=a[1],l=a[2],s=a[3],c=a[4],d=a[5],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:4,p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Sa,v=Zx[r],U=v/n.value,m=v/n.value,g=v/n.value,b=v/n.value,y=l-i,x=s-o,w=h/n.value,A=(v-2*p)/(2*n.value),E={nw:u.nw?void 0:Qx(i-w-g+A,o-w-b+A,U,m,c,d,t),ne:u.ne?void 0:Qx(l+w-A,o-w-b+A,U,m,c,d,t),sw:u.sw?void 0:Qx(i-w-g+A,s+w-A,U,m,c,d,t),se:u.se?void 0:Qx(l+w-A,s+w-A,U,m,c,d,t),rotation:u.rotation?void 0:Qx(i+y/2-U/2,o-w-b+A-16/n.value,U,m,c,d,t)},k=5*Zx.mouse/n.value;return Math.abs(y)>k&&(u.n||(E.n=Qx(i+y/2-U/2,o-w-b+A,U,m,c,d,t)),u.s||(E.s=Qx(i+y/2-U/2,s+w-A,U,m,c,d,t))),Math.abs(x)>k&&(u.w||(E.w=Qx(i-w-g+A,o+x/2-m/2,U,m,c,d,t)),u.e||(E.e=Qx(l+w-A,o+x/2-m/2,U,m,c,d,t))),E},nw=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mouse",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kx;if(e.locked||rs(e))return{};if("freedraw"===e.type||ts(e)){if(2===e.points.length){var i=(0,f.A)(e.points,2)[1];0===i[0]||0===i[1]?a=$x:i[0]>0&&i[1]<0?a=qx:i[0]>0&&i[1]>0?a=$x:i[0]<0&&i[1]>0?a=qx:i[0]<0&&i[1]<0&&(a=$x)}}else Ql(e)&&(a=(0,v.A)((0,v.A)({},a),{},{rotation:!0}));var o=ts(e)?Sa+8:Gl(e)?0:Sa;return tw(Ip(e,n,!0),e.angle,t,r,a,o,Gl(e)?0:void 0)},rw=function(e,t){if(t.editingLinearElement)return!1;if(e.length>1)return!0;var n=e[0];return!rs(n)&&(!ts(n)||n.points.length>2)},aw=function(e,t,n){return t>=e[0]&&t<=e[0]+e[2]&&n>=e[1]&&n<=e[1]+e[3]},iw=function(e,t,n,r,a,i,l,s){return e.reduce((function(e,c){if(e)return e;var d=function(e,t,n,r,a,i,l,s){if(!n.selectedElementIds[e.id])return!1;var c=nw(e,i,t,l,ew(s)),d=c.rotation,u=(0,o.A)(c,Dr);if(d&&aw(d,r,a))return"rotation";var h=Object.keys(u).filter((function(e){var t=u[e];return!!t&&aw(t,r,a)}));if(h.length>0)return h[0];if(Jx(s)){var p=Ip(e,t),v=(0,f.A)(p,6),U=v[0],m=v[1],g=v[2],b=v[3],y=v[4],x=v[5];if(!(ts(e)&&e.points.length<=2))for(var w=Gl(e)?0:Ma/i.value,A=Ma/i.value,E=cw(Ji(U-w,m-w),Ji(g+w,b+w),Ji(y,x),e.angle),k=0,S=Object.entries(E);k<S.length;k++){var M=(0,f.A)(S[k],2),C=M[0],j=M[1];if(po(Ji(r,a),j,A))return C}}return!1}(c,l,t,n,r,a,i,s);return d?{element:c,transformHandleType:d}:null}),null)},ow=function(e,t,n,r,a,i){var o=(0,f.A)(e,4),l=o[0],s=o[1],c=o[2],d=o[3],u=tw([l,s,c,d,(l+c)/2,(s+d)/2],0,r,a,ew(i)),h=Object.keys(u).find((function(e){var r=u[e];return r&&aw(r,t,n)}));if(h)return h;if(Jx(i))for(var p=(l+c)/2,v=(s+d)/2,U=Ma/r.value,m=cw(Ji(l-U,s-U),Ji(c+U,d+U),Ji(p,v),0),g=0,b=Object.entries(m);g<b.length;g++){var y=(0,f.A)(b[g],2),x=y[0],w=y[1];if(po(Ji(t,n),w,U))return x}return!1},lw=["ns","nesw","ew","nwse"],sw=function(e){var t=e.element,n=e.transformHandleType,r=t&&Math.sign(t.height)*Math.sign(t.width)===-1,a=null;switch(n){case"n":case"s":a="ns";break;case"w":case"e":a="ew";break;case"nw":case"se":a=r?"nesw":"nwse";break;case"ne":case"sw":a=r?"nwse":"nesw";break;case"rotation":return"grab"}return a&&t&&(a=function(e,t){var n=lw.indexOf(e);if(n>=0){var r=Math.round(t/(Math.PI/4));e=lw[(n+r)%lw.length]}return e}(a,t.angle)),a?"".concat(a,"-resize"):""},cw=function(e,t,n,r){var a=(0,f.A)(e,2),i=a[0],o=a[1],l=(0,f.A)(t,2),s=l[0],c=l[1],d=ao(Ji(i,o),n,r),u=ao(Ji(s,o),n,r),h=ao(Ji(i,c),n,r),p=ao(Ji(s,c),n,r);return{n:[d,u],e:[u,p],s:[p,h],w:[h,d]}},dw=function(e,t,n,r,a,i,o,l,s,c,d,u){if(1===n.length){var h=(0,f.A)(n,1)[0];if("rotation"===t)rs(h)||(uw(h,r,a,s,c,i),mv(h,r));else{if(Kl(h)&&t)return pw(e,h,r,t,o,s,c),mv(h,r),!0;if(t){var p=n[0].id,v=r.get(p),U=e.get(p);if(v&&U){var m=bw(v,U,r,e,t,s,c,{shouldMaintainAspectRatio:l,shouldResizeFromCenter:o}),g=m.nextWidth,b=m.nextHeight;gw(g,b,v,U,r,e,t,{shouldMaintainAspectRatio:l,shouldResizeFromCenter:o})}}}return!0}if(n.length>1){if("rotation"===t)return vw(e,n,r,a,s,c,i,d,u),!0;if(t){var y=yw(n,e,r,t,s,c,{shouldMaintainAspectRatio:l,shouldResizeFromCenter:o}),x=y.nextWidth,w=y.nextHeight,A=y.flipByX,E=y.flipByY,k=y.originalBoundingBox;return xw(n,r,t,a,e,{shouldResizeFromCenter:o,shouldMaintainAspectRatio:l,flipByX:A,flipByY:E,nextWidth:x,nextHeight:w,originalBoundingBox:k}),!0}}return!1},uw=function(e,t,n,r,a,i){var o,l=Ip(e,t),s=(0,f.A)(l,4),c=s[0],d=s[1],u=(c+s[2])/2,h=(d+s[3])/2;Ql(e)?o=0:(o=5*Math.PI/2+Math.atan2(a-h,r-u),i&&(o+=la/2,o-=o%la),o=Hi(o));var p=VU(e);if(Ox(e,{angle:o}),p){var v=n.getElement(p);v&&!ns(e)&&Ox(v,{angle:o})}},fw=function(e,t,n,r){return ts(e)||Jl(e)?{points:Mp(0,t,Mp(1,n,e.points,r),r)}:{}},hw=function(e,t,n){var r=e.width;if(fs(e)){var a=ZU(e,t);a&&(r=rm(a,e))}var i=e.fontSize*(n/r);return i<1?null:{size:i}},pw=function(e,t,n,r,a,i,o){var l=Ip(t,n),s=(0,f.A)(l,6),c=s[0],d=s[1],u=s[2],p=s[3],v=s[4],U=s[5],m=ao(Ji(i,o),Ji(v,U),-t.angle),g=(0,f.A)(m,2),b=g[0],y=g[1],x=0,w=0;"e"!==r&&"w"!==r&&(r.includes("e")&&(x=(b-c)/(u-c)),r.includes("w")&&(x=(u-b)/(u-c)),r.includes("n")&&(w=(p-y)/(p-d)),r.includes("s")&&(w=(y-d)/(p-d)));var A=Math.max(x,w);if(A>0){var E=t.width*A,k=t.height*A,S=hw(t,n,E);if(null===S)return;var M=[c,d],C=[u,p],j=[v,U],I=Ji(c,d);if(["n","w","nw"].includes(r)&&(I=Ji(C[0]-Math.abs(E),C[1]-Math.abs(k))),"ne"===r){var D=[M[0],C[1]];I=Ji(D[0],D[1]-Math.abs(k))}if("sw"===r){var T=[C[0],M[1]];I=Ji(T[0]-Math.abs(E),T[1])}["s","n"].includes(r)&&(I[0]=j[0]-E/2),["e","w"].includes(r)&&(I[1]=j[1]-k/2),a&&(I[0]=j[0]-Math.abs(E)/2,I[1]=j[1]-Math.abs(k)/2);var _=t.angle,L=ao(I,Ji(v,U),_),R=ao(Ji(I[0]+Math.abs(E)/2,I[1]+Math.abs(k)/2),Ji(v,U),_),P=I=ao(L,R,-_),N=(0,f.A)(P,2),F=N[0],O=N[1];Ox(t,{fontSize:S.size,width:E,height:k,x:F,y:O})}if("e"===r||"w"===r){var z=e.get(t.id),B=Wp(z,z.width,z.height,!0),H=(0,f.A)(B,4),W=H[0],X=H[1],G=H[2],V=H[3],Y=Ji(W,X),Z=Ji(G,V),K=oo(Y,Z),q=ao(Ji(i,o),K,-z.angle),$=Wp(t,t.width,t.height,!0),Q=(0,f.A)($,3),J=Q[0],ee=Q[2]-J,te=Z[0]-Y[0],ne=xs(Oo({fontSize:t.fontSize,fontFamily:t.fontFamily}),t.lineHeight),re=te/ee;r.includes("e")&&(re=(q[0]-Y[0])/ee),r.includes("w")&&(re=(Z[0]-q[0])/ee);var ae=t.width*re<ne?ne:t.width*re,ie=Vs(t.originalText,Oo(t),Math.abs(ae)),oe=gs(ie,Oo(t),t.lineHeight),le=oe.height,se=Wp(z,ae,le,!0),ce=(0,f.A)(se,4),de=ce[0],ue=ce[1],fe=ce[2]-de,he=ce[3]-ue,pe=(0,h.A)(Y);["n","w","nw"].includes(r)&&(pe=[Z[0]-Math.abs(fe),Y[1]]);var ve=z.angle,Ue=ao(pe,K,ve),me=ao(Ji(pe[0]+Math.abs(fe)/2,pe[1]+Math.abs(he)/2),K,ve);pe=ao(Ue,me,-ve);var ge={width:Math.abs(ae),height:Math.abs(oe.height),x:pe[0],y:pe[1],text:ie,autoResize:!1};Ox(t,ge)}},vw=function(e,t,n,r,a,i,o,l,s){var c=5*Math.PI/2+Math.atan2(i-s,a-l);o&&(c+=la/2,c-=c%la);var d,h=(0,u.A)(t);try{for(h.s();!(d=h.n()).done;){var p=d.value;if(!Ql(p)){var v,U,m=Ip(p,n),g=(0,f.A)(m,4),b=g[0],y=g[1],x=g[2],w=g[3],A=(b+x)/2,E=(y+w)/2,k=null!==(v=null===(U=e.get(p.id))||void 0===U?void 0:U.angle)&&void 0!==v?v:p.angle,S=ao(Ji(A,E),Ji(l,s),c+k-p.angle),M=(0,f.A)(S,2),C=M[0],j=M[1];rs(p)?Ox(p,{points:Wv(p,n)}):Ox(p,{x:p.x+(C-A),y:p.y+(j-E),angle:Hi(c+k)},!1),mv(p,n,{simultaneouslyUpdated:t});var I=YU(p,n);I&&!ns(p)&&Ox(I,{x:I.x+(C-A),y:I.y+(j-E),angle:Hi(c+k)},!1)}}}catch(Be){h.e(Be)}finally{h.f()}r.triggerUpdate()},Uw=function(e,t,n,r,a){var i,o,l=1===t.length?Ip(t[0],n):Bp(t),s=(0,f.A)(l,4),c=s[0],d=s[1],u=s[2],h=s[3],p=(c+u)/2,v=(d+h)/2,U=1===t.length?t[0].angle:0;switch(i=ao(Ji(r,a),Ji(p,v),-U),r=(o=(0,f.A)(i,2))[0],a=o[1],e){case"n":return ao(Ji(r-(c+u)/2,a-d),Ji(0,0),U);case"s":return ao(Ji(r-(c+u)/2,a-h),Ji(0,0),U);case"w":return ao(Ji(r-c,a-(d+h)/2),Ji(0,0),U);case"e":return ao(Ji(r-u,a-(d+h)/2),Ji(0,0),U);case"nw":return ao(Ji(r-c,a-d),Ji(0,0),U);case"ne":return ao(Ji(r-u,a-d),Ji(0,0),U);case"sw":return ao(Ji(r-c,a-h),Ji(0,0),U);case"se":return ao(Ji(r-u,a-h),Ji(0,0),U);default:return[0,0]}},mw=function(e,t){var n=(0,f.A)(t.points,2),r=(0,f.A)(n[1],2),a=r[0],i=r[1];return"nw"===e&&(a<0||i<0)||"ne"===e&&a>=0||"sw"===e&&a<=0||"se"===e&&(a>0||i>0)?"end":"origin"},gw=function(e,t,n,r,a,i,o){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},s=l.shouldInformMutation,c=void 0===s||s,d=l.shouldMaintainAspectRatio,u=void 0!==d&&d,h=l.shouldResizeFromCenter,p=void 0!==h&&h,U={},m=YU(n,a);if(m){var g=i.get(m.id);if(g&&(U={fontSize:g.fontSize}),u){var b=(0,v.A)((0,v.A)({},n),{},{width:e,height:t}),y=hw(m,a,rm(b,m));if(null===y)return;U={fontSize:y.size}}else{var x=ys(Oo(m),m.lineHeight),w=Ss(m.fontSize,m.lineHeight);e=Math.max(e,x),t=Math.max(t,w)}}var A=fw(r,e,t,!0),E=Ji(r.x,r.y);if(ts(r)){var k=zp(r,i),S=(0,f.A)(k,2);E=Ji(S[0],S[1])}var M=function(e,t,n,r,a,i,o,l,s){var c=function(e,t,n){if(n)return"center";if(t)switch(e){case"n":return"south-side";case"e":return"west-side";case"s":return"north-side";case"w":return"east-side";case"ne":return"bottom-left";case"nw":return"bottom-right";case"se":return"top-left";case"sw":return"top-right"}return["e","se","s"].includes(e)?"top-left":["n","nw","w"].includes(e)?"bottom-right":"ne"===e?"bottom-left":"top-right"}(o,l,s),d=(0,f.A)(e,2),u=d[0],h=d[1];switch(c){case"top-left":return{x:u+(t-r)/2+(r-t)/2*Math.cos(i)+(n-a)/2*Math.sin(i),y:h+(n-a)/2+(r-t)/2*Math.sin(i)+(a-n)/2*Math.cos(i)};case"top-right":return{x:u+(t-r)/2*(Math.cos(i)+1)+(n-a)/2*Math.sin(i),y:h+(n-a)/2+(t-r)/2*Math.sin(i)+(a-n)/2*Math.cos(i)};case"bottom-left":return{x:u+(t-r)/2*(1-Math.cos(i))+(a-n)/2*Math.sin(i),y:h+(n-a)/2*(Math.cos(i)+1)+(r-t)/2*Math.sin(i)};case"bottom-right":return{x:u+(t-r)/2*(Math.cos(i)+1)+(a-n)/2*Math.sin(i),y:h+(n-a)/2*(Math.cos(i)+1)+(t-r)/2*Math.sin(i)};case"center":return{x:u-(r-t)/2,y:h-(a-n)/2};case"east-side":return{x:u+(t-r)/2*(Math.cos(i)+1),y:h+(t-r)/2*Math.sin(i)+(n-a)/2};case"west-side":return{x:u+(t-r)/2*(1-Math.cos(i)),y:h+(r-t)/2*Math.sin(i)+(n-a)/2};case"north-side":return{x:u+(t-r)/2+(n-a)/2*Math.sin(i),y:h+(a-n)/2*(Math.cos(i)-1)};case"south-side":return{x:u+(t-r)/2+(a-n)/2*Math.sin(i),y:h+(n-a)/2*(Math.cos(i)+1)}}}(E,r.width,r.height,e,t,r.angle,o,u,p);if(ts(r)&&A.points){var C=r.x-E[0],j=r.y-E[1];M.x+=C,M.y+=j;var I=A.points[0][0],D=A.points[0][1];M.x+=I,M.y+=D,A.points=A.points.map((function(e){return Ji(e[0]-I,e[1]-D)}))}if(e<0&&(M.x=M.x+e),t<0&&(M.y=M.y+t),"scale"in n&&"scale"in r&&Ox(n,{scale:[(Math.sign(e)||r.scale[0])*r.scale[0],(Math.sign(t)||r.scale[1])*r.scale[1]]}),ns(n)&&m&&u){var T=e/n.width*m.fontSize;if(T<1)return;U.fontSize=T}if(0!==e&&0!==t&&Number.isFinite(M.x)&&Number.isFinite(M.y)){var _=(0,v.A)((0,v.A)({},M),{},{width:Math.abs(e),height:Math.abs(t)},A);Ox(n,_,c),mv(n,a,{newSize:{width:e,height:t}}),m&&null!=U&&Ox(m,{fontSize:U.fontSize}),XU(n,a,o,u)}},bw=function(e,t,n,r,a,i,o){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},s=l.shouldMaintainAspectRatio,c=void 0!==s&&s,d=l.shouldResizeFromCenter,u=void 0!==d&&d,h=Wp(t,t.width,t.height,!0),p=(0,f.A)(h,4),v=p[0],U=p[1],m=p[2],g=p[3],b=Ji(v,U),y=Ji(m,g),x=oo(b,y),w=ao(Ji(i,o),x,-t.angle),A=Wp(e,e.width,e.height,!0),E=(0,f.A)(A,4),k=E[0],S=E[1],M=E[2]-k,C=E[3]-S,j=(y[0]-b[0])/M,I=(y[1]-b[1])/C;a.includes("e")&&(j=(w[0]-b[0])/M),a.includes("s")&&(I=(w[1]-b[1])/C),a.includes("w")&&(j=(y[0]-w[0])/M),a.includes("n")&&(I=(y[1]-w[1])/C);var D=e.width*j,T=e.height*I;if(u&&(D=2*D-t.width,T=2*T-t.height),c){var _=Math.abs(D)/t.width,L=Math.abs(T)/t.height;if(1===a.length&&(T*=_,D*=L),2===a.length){var R=Math.max(_,L);D=t.width*R*Math.sign(D),T=t.height*R*Math.sign(T)}}return{nextWidth:D,nextHeight:T}},yw=function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=o.shouldMaintainAspectRatio,s=void 0!==l&&l,c=o.shouldResizeFromCenter,d=void 0!==c&&c,u=e.map((function(e){return t.get(e.id)})),p=u.reduce((function(e,r){var a;if(!ts(r))return e;var i=VU(r);if(!i)return e;var o=null!==(a=t.get(i))&&void 0!==a?a:null;return fs(o)?[].concat((0,h.A)(e),[(0,v.A)((0,v.A)({},o),PU.getBoundTextElementPosition(r,o,n))]):e}),[]),U=Gp(u.map((function(e){return e})).concat(p)),m=U.minX,g=U.minY,b=U.maxX,y=U.maxY,x=U.midX,w=U.midY,A=b-m,E=y-g,k=d?[x,w]:{ne:[m,y],se:[m,g],sw:[b,g],nw:[b,y],e:[m,g+E/2],w:[b,g+E/2],n:[m+A/2,y],s:[m+A/2,g]}[r],S=(0,f.A)(k,2),M=S[0],C=S[1],j=d?2:1,I=Math.max(Math.abs(a-M)/A||0,Math.abs(i-C)/E||0)*j,D=r.includes("e")||r.includes("w")?Math.abs(a-M)*j:A,T=r.includes("n")||r.includes("s")?Math.abs(i-C)*j:E;s&&(D=A*I*Math.sign(a-M),T=E*I*Math.sign(i-C));var _={ne:[a<M,i>C],se:[a<M,i<C],sw:[a>M,i<C],nw:[a>M,i>C],e:[a<M,!1],w:[a>M,!1],n:[!1,i>C],s:[!1,i<C]}[r].map((function(e){return e})),L=(0,f.A)(_,2);return{originalBoundingBox:U,nextWidth:D,nextHeight:T,flipByX:L[0],flipByY:L[1]}},xw=function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=i.shouldMaintainAspectRatio,s=void 0!==l&&l,c=i.shouldResizeFromCenter,d=void 0!==c&&c,p=i.flipByX,U=void 0!==p&&p,m=i.flipByY,g=void 0!==m&&m,b=i.nextHeight,y=i.nextWidth,x=i.originalBoundingBox;if((void 0!==y||void 0!==b||void 0!==U||void 0!==g)&&0!==b&&0!==y){a||(a=t);var w,A=e.reduce((function(e,t){var n=a.get(t.id);return n&&e.push({orig:n,latest:t}),e}),[]);if(x)w=x;else{var E=A.reduce((function(e,n){var r,i=n.orig;if(!ts(i))return e;var o=VU(i);if(!o)return e;var l=null!==(r=a.get(o))&&void 0!==r?r:null;return fs(l)?[].concat((0,h.A)(e),[(0,v.A)((0,v.A)({},l),PU.getBoundTextElementPosition(i,l,t))]):e}),[]);w=Gp(A.map((function(e){return e.orig})).concat(E))}var k=w,S=k.minX,M=k.minY,C=k.maxX,j=k.maxY,I=k.midX,D=k.midY,T=C-S,_=j-M;if(void 0===y&&void 0===b&&(y=T,b=_),s&&(void 0===y?y=b*(T/_):void 0===b?b=y*(_/T):Math.abs(y/b-T/_)>.001&&(y=b*(T/_))),y&&b){var L,R=n.includes("e")||n.includes("w")?Math.abs(y)/T:1,P=n.includes("n")||n.includes("s")?Math.abs(b)/_:1;L=1===n.length?n.includes("e")||n.includes("w")?R:P:Math.max(Math.abs(y)/T||0,Math.abs(b)/_||0);var N=d?[I,D]:{ne:[S,j],se:[S,M],sw:[C,M],nw:[C,j],e:[S,M+_/2],w:[C,M+_/2],n:[S+T/2,j],s:[S+T/2,M]}[n],F=(0,f.A)(N,2),O=F[0],z=F[1],B=s||A.some((function(e){return 0!==e.latest.angle||Kl(e.latest)||dU(e.latest)}));B&&(R=L,P=L);var H,W=U?-1:1,X=g?-1:1,G=[],V=(0,u.A)(A);try{var Y,Z=function(){var e,n=H.value,r=n.orig,i=n.latest;if(Kl(r)&&fs(r))return 0;var o=r.width*R,l=r.height*P,s=Hi(r.angle*W*X),c=ts(r)||Jl(r),d=r.x-O,u=r.y-z,f=O+W*(d*R+(U&&!c?o:0)),h=z+X*(u*P+(g&&!c?l:0)),p=fw(r,o*W,l*X,!1),m=(0,v.A)({x:f,y:h,width:o,height:l,angle:s},p);if(rs(r)&&(r.startBinding&&(m.startBinding=(0,v.A)((0,v.A)({},r.startBinding),{},{fixedPoint:[U?1-r.startBinding.fixedPoint[0]:r.startBinding.fixedPoint[0],g?1-r.startBinding.fixedPoint[1]:r.startBinding.fixedPoint[1]]})),r.endBinding&&(m.endBinding=(0,v.A)((0,v.A)({},r.endBinding),{},{fixedPoint:[U?1-r.endBinding.fixedPoint[0]:r.endBinding.fixedPoint[0],g?1-r.endBinding.fixedPoint[1]:r.endBinding.fixedPoint[1]]})),r.fixedSegments&&p.points&&(m.fixedSegments=r.fixedSegments.map((function(e){return(0,v.A)((0,v.A)({},e),{},{start:p.points[e.index-1],end:p.points[e.index]})})))),Gl(r)&&(m.scale=[r.scale[0]*W,r.scale[1]*X]),Kl(r)){var b=hw(r,t,o);if(!b)return{v:void 0};m.fontSize=b.size}var y=a.get(null!==(e=VU(r))&&void 0!==e?e:"");if(y)if(B){var x=y.fontSize*L;if(x<1)return{v:void 0};m.boundTextFontSize=x}else m.boundTextFontSize=y.fontSize;G.push({element:i,update:m})};for(V.s();!(H=V.n()).done;)if(0!==(Y=Z())&&Y)return Y.v}catch(Be){V.e(Be)}finally{V.f()}for(var K=G.map((function(e){return e.element})),q=0,$=G;q<$.length;q++){var Q=$[q],J=Q.element,ee=Q.update,te=ee.boundTextFontSize,ne=(0,o.A)(ee,Tr),re=ne.width,ae=ne.height,ie=ne.angle;Ox(J,ne,!1,{isDragging:!0}),mv(J,t,{simultaneouslyUpdated:K,newSize:{width:re,height:ae}});var oe=YU(J,t);oe&&te&&(Ox(oe,{fontSize:te,angle:ts(J)?void 0:ie},!1),XU(J,t,n,!0))}r.triggerUpdate()}}},ww=function(e,t,n,r,a,i){if(1!==t.length||!rs(t[0])||!t[0].startBinding&&!t[0].endBinding){var o=t.filter((function(e){if(rs(e)&&e.startBinding&&e.endBinding){var n=t.find((function(t){var n;return t.id===(null===(n=e.startBinding)||void 0===n?void 0:n.elementId)})),r=t.find((function(t){var n;return t.id===(null===(n=e.endBinding)||void 0===n?void 0:n.elementId)}));return n&&r}return!0})),l=new Set(o),s=o.filter((function(e){return Ql(e)})).map((function(e){return e.id}));if(s.length>0){var c,d=(0,u.A)(r.getNonDeletedElements());try{for(d.s();!(c=d.n()).done;){var f=c.value;null!==f.frameId&&s.includes(f.frameId)&&l.add(f)}}catch(Be){d.e(Be)}finally{d.f()}}var h=Bp(Array.from(l).map((function(t){var n;return null!==(n=e.originalElements.get(t.id))&&void 0!==n?n:t}))),p=Aw(h,n,a,i);l.forEach((function(t){if(Ew(e,t,p),!ns(t)){var n=YU(t,r.getNonDeletedElementsMap());n&&Ew(e,n,p),mv(t,r.getElementsMapIncludingDeleted(),{simultaneouslyUpdated:Array.from(l)})}}))}},Aw=function(e,t,n,r){var a=(0,f.A)(e,2),i=a[0],o=a[1],l=i+t.x+n.x,s=o+t.y+n.y;if(0===n.x||0===n.y){var c=DU(i+t.x,o+t.y,r),d=(0,f.A)(c,2),u=d[0],h=d[1];0===n.x&&(l=u),0===n.y&&(s=h)}return{x:l-i,y:s-o}},Ew=function(e,t,n){var r,a=null!==(r=e.originalElements.get(t.id))&&void 0!==r?r:t,i=a.x+n.x,o=a.y+n.y;Ox(t,{x:i,y:o})},kw=function(e,t,n){var r=Bp(e),a=(0,f.A)(r,2);return[t-a[0],n-a[1]]},Sw=function(e){var t,n,r=e.newElement,a=e.elementType,i=e.originX,o=e.originY,l=e.x,s=e.y,c=e.width,d=e.height,u=e.shouldMaintainAspectRatio,f=e.shouldResizeFromCenter,h=e.zoom,p=e.widthAspectRatio,U=void 0===p?null:p,m=e.originOffset,g=void 0===m?null:m,b=e.informMutation,y=void 0===b||b;u&&"selection"!==r.type&&(U?d=c/U:(Math.abs(s-o)>Math.abs(l-i)?(c=(t=Gx(a,d,l<i?-c:c)).width,d=t.height):(c=(n=Gx(a,c,s<o?-d:d)).width,d=n.height),d<0&&(d=-d)));var x=l<i?i-c:i,w=s<o?o-d:o;f&&(x=i-(c+=c)/2,w=o-(d+=d)/2);var A=null;if(Kl(r)){d=r.height;var E=xs(Oo({fontSize:r.fontSize,fontFamily:r.fontFamily}),r.lineHeight);c=Math.max(c,E),Math.abs(l-i)>36/h&&(A={autoResize:!1}),w=o,f&&(x=i-c/2)}if(0!==c&&0!==d){var k,S,M=null;Gl(r)&&(M={initialWidth:c,initialHeight:d}),Ox(r,(0,v.A)((0,v.A)({x:x+(null!==(k=null===g||void 0===g?void 0:g.x)&&void 0!==k?k:0),y:w+(null!==(S=null===g||void 0===g?void 0:g.y)&&void 0!==S?S:0),width:c,height:d},A),M),y)}},Mw=function(e,t){var n;return!(e.viewModeEnabled||"elementLinkSelector"===(null===(n=e.openDialog)||void 0===n?void 0:n.name)||!("custom"!==e.activeTool.type&&(e.editingTextElement||"selection"!==e.activeTool.type&&"eraser"!==e.activeTool.type&&"hand"!==e.activeTool.type&&"laser"!==e.activeTool.type)||Dx(t,e).length))},Cw=function(e){for(var t=5381,n=0;n<e.length;n++){t=(t<<5)+t+e.charCodeAt(n)}return t>>>0},jw=function(e){return e.filter((function(e){return!e.isDeleted&&!Hx(e)}))},Iw=function(e){return e.filter((function(e){return!e.isDeleted}))},Dw=function(e){return!e.isDeleted},Tw=function(e){return Iw(e).map((function(e){return as(e.type)?(0,v.A)((0,v.A)({},e),{},{lastCommittedPoint:null}):e}))},_w=function(e){return Tw(e)},Lw=function(e){return Tw(e)},Rw=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var r;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==La.png){e.next=14;break}return e.prev=1,e.next=4,n.e(9352).then(n.bind(n,79352));case 4:return e.next=6,e.sent.decodePngMetadata(t);case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),"INVALID"===e.t0.message?new sf("Image doesn't contain scene","IMAGE_NOT_CONTAINS_SCENE_DATA"):new sf("Error: cannot restore image");case 12:e.next=31;break;case 14:if(!("text"in Blob)){e.next=20;break}return e.next=17,t.text();case 17:r=e.sent,e.next=23;break;case 20:return e.next=22,new Promise((function(e){var n=new FileReader;n.readAsText(t,"utf8"),n.onloadend=function(){n.readyState===FileReader.DONE&&e(n.result)}}));case 22:r=e.sent;case 23:if(t.type!==La.svg){e.next=31;break}return e.prev=24,e.abrupt("return",wb({svg:r}));case 28:throw e.prev=28,e.t1=e.catch(24),"INVALID"===e.t1.message?new sf("Image doesn't contain scene","IMAGE_NOT_CONTAINS_SCENE_DATA"):new sf("Error: cannot restore image");case 31:return e.abrupt("return",r);case 32:case"end":return e.stop()}}),e,null,[[1,9],[24,28]])})));return function(t){return e.apply(this,arguments)}}(),Pw=function(e){var t;return e&&(null===(t=e.name.match(/\.(json|excalidraw|png|svg)$/))||void 0===t?void 0:t[1])||null},Nw=function(e){return"png"===e||"svg"===e},Fw=function(e){var t=Pw(e);return"png"===t||"svg"===t},Ow=function(e){return!!e&&Object.values(_a).includes(e)},zw=function(e){var t=(e||{}).type;return Ow(t)},Bw=function(){var e=(0,d.A)((0,c.A)().mark((function e(t,n,r,a){var i,o;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rw(t);case 2:i=e.sent,e.prev=3,e.prev=4,o=JSON.parse(i),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(4),zw(t)?new sf("Image doesn't contain scene","IMAGE_NOT_CONTAINS_SCENE_DATA"):e.t0;case 11:if(!Og(o)){e.next=13;break}return e.abrupt("return",{type:La.excalidraw,data:dy({elements:Lw(o.elements||[]),appState:(0,v.A)((0,v.A)({theme:null===n||void 0===n?void 0:n.theme,fileHandle:a||t.handle||null},Ti(o.appState||{})),n?Vv(o.elements||[],n):{}),files:o.files},n,r,{repairBindings:!0,refreshDimensions:!1})});case 13:if(!zg(o)){e.next=15;break}return e.abrupt("return",{type:La.excalidrawlib,data:o});case 15:throw new Error("Error: invalid file");case 18:throw e.prev=18,e.t1=e.catch(3),e.t1 instanceof sf?e.t1:new Error("Error: invalid file");case 21:case"end":return e.stop()}}),e,null,[[3,18],[4,8]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Hw=function(){var e=(0,d.A)((0,c.A)().mark((function e(t,n,r,a){var i;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bw(t,n,r,a);case 2:if((i=e.sent).type===La.excalidraw){e.next=5;break}throw new Error("Error: invalid file");case 5:return e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Ww=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unpublished",n=JSON.parse(e);if(!zg(n))throw new Error("Invalid library");var r=n.libraryItems||n.library;return fy(r,t)},Xw=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n,r=arguments;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"unpublished",e.t0=Ww,e.next=4,Rw(t);case 4:return e.t1=e.sent,e.t2=n,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gw=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,d.A)((0,c.A)().mark((function e(n,r){return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=yl(t),!e.t0){e.next=6;break}return e.next=5,t;case 5:t=e.sent;case 6:t.toBlob((function(e){if(!e)return r(new of("Error: Canvas too big","CANVAS_POSSIBLY_TOO_BIG"));n(e)})),e.next=12;break;case 9:e.prev=9,e.t1=e.catch(0),r(e.t1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vw=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=window.crypto.subtle,e.next=4,iA(t);case 4:return e.t1=e.sent,e.next=7,e.t0.digest.call(e.t0,"SHA-1",e.t1);case 7:return n=e.sent,e.abrupt("return",cl(new Uint8Array(n)));case 11:return e.prev=11,e.t2=e.catch(0),e.abrupt("return",(console.error(e.t2),(0,Mn.Ak)(40)));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Yw=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(){var t=r.result;e(t)},r.onerror=function(e){return n(e)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zw=function(e,t){return"data:".concat(t,";base64,").concat(cA(oA(e),!0))},Kw=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.indexOf(","),r=atob(e.slice(n+1)),a=e.slice(0,n).split(":")[1].split(";")[0],i=new ArrayBuffer(r.length),o=new Uint8Array(i),l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return new File([i],t,{type:a})},qw=function(e){return dA(e.slice(e.indexOf(",")+1))},$w=function(){var e=(0,d.A)((0,c.A)().mark((function e(t,r){var a,i,o,l,s,d;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==La.svg){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,Promise.all([n.e(9094).then(n.t.bind(n,89094,19)).then((function(e){return e.default})),n.e(7587).then(n.bind(n,77587)).then((function(e){return e.default}))]);case 4:if(a=e.sent,i=(0,f.A)(a,2),o=i[0],l=i[1],s=l({pica:o({features:["js","wasm"]})}),r.outputType&&(d=r.outputType,s._create_blob=function(e){return this.pica.toBlob(e.out_canvas,d,.8).then((function(t){return e.out_blob=t,e}))}),zw(t)){e.next=12;break}throw new Error("Error: unsupported file type",{cause:"UNSUPPORTED"});case 12:return e.t0=File,e.next=15,s.toBlob(t,{max:r.maxWidthOrHeight,alpha:!0});case 15:return e.t1=e.sent,e.t2=[e.t1],e.t3=t.name,e.t4={type:r.outputType||t.type},e.abrupt("return",new e.t0(e.t2,e.t3,e.t4));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new File([(new TextEncoder).encode(e)],t,{type:La.svg})},Jw=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n,r,a,i,o=arguments;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",e.prev=1,e.next=4,fetch(t);case 4:r=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("Error: failed to fetch image",{cause:"FETCH_ERROR"});case 10:if(r.ok){e.next=12;break}throw new Error("Error: failed to fetch image",{cause:"FETCH_ERROR"});case 12:return e.next=14,r.blob();case 14:if(!(a=e.sent).type||!zw(a)){e.next=18;break}return i=n||a.name||"",e.abrupt("return",new File([a],i,{type:a.type}));case 18:throw new Error("Error: unsupported file type",{cause:"UNSUPPORTED"});case 19:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),eA=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n,r;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dataTransfer.files.item(0),e.next=3,tA(t);case 3:if(r=e.sent,!n){e.next=10;break}return e.next=7,aA(n);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.t1=e.t0,e.t2=r,e.abrupt("return",{file:e.t1,fileHandle:e.t2});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tA=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!vr){e.next=13;break}return e.prev=1,e.next=4,t.dataTransfer.items[0].getAsFileSystemHandle();case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=null;case 7:return e.abrupt("return",e.t0);case 10:return e.prev=10,e.t1=e.catch(1),e.abrupt("return",(console.warn(e.t1.name,e.t1.message),null));case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),nA=function(e){var t=null,n="".concat((0,h.A)(new Uint8Array(e).slice(0,8)).join(" ")," "),r="255 216 255 ",a="71 73 70 56 57 97 ";return n==="137 80 78 71 13 10 26 10 "?t=La.png:n.startsWith(r)?t=La.jpg:n.startsWith(a)&&(t=La.gif),t},rA=function(e,t,n){return new File([e],n||"",{type:t})},aA=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n,r,a,i,o,l;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.type){e.next=9;break}if(!zw(t)){e.next=7;break}return e.next=4,iA(t);case 4:a=e.sent,(i=nA(a))&&i!==t.type&&(t=rA(a,i,t.name));case 7:e.next=34;break;case 9:if(null===(n=t)||void 0===n||null===(n=n.name)||void 0===n||!n.endsWith(".excalidrawlib")){e.next=19;break}return e.t0=rA,e.next=13,iA(t);case 13:e.t1=e.sent,e.t2=La.excalidrawlib,e.t3=t.name,t=(0,e.t0)(e.t1,e.t2,e.t3),e.next=34;break;case 19:if(null===(r=t)||void 0===r||null===(r=r.name)||void 0===r||!r.endsWith(".excalidraw")){e.next=29;break}return e.t4=rA,e.next=23,iA(t);case 23:e.t5=e.sent,e.t6=La.excalidraw,e.t7=t.name,t=(0,e.t4)(e.t5,e.t6,e.t7),e.next=34;break;case 29:return e.next=31,iA(t);case 31:o=e.sent,(l=nA(o))&&(t=rA(o,l,t.name));case 34:return e.abrupt("return",t);case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),iA=function(e){return"arrayBuffer"in e?e.arrayBuffer():new Promise((function(t,n){var r=new FileReader;r.onload=function(e){var r;if(null===(r=e.target)||void 0===r||!r.result)return n(new Error("Couldn't convert blob to ArrayBuffer"));t(e.target.result)},r.readAsArrayBuffer(e)}))},oA=function(e){var t,n="string"==typeof e?(new TextEncoder).encode(e):e instanceof Uint8Array?e:new Uint8Array(e),r="",a=(0,u.A)(n);try{for(a.s();!(t=a.n()).done;){var i=t.value;r+=String.fromCharCode(i)}}catch(Be){a.e(Be)}finally{a.f()}return r},lA=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,a=e.length;r<a;r++)n[r]=e.charCodeAt(r);return t},sA=function(e){return new TextDecoder("utf-8").decode(lA(e))},cA=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?window.btoa(e):window.btoa(oA(e))},dA=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?window.atob(e):sA(window.atob(e))},uA=function(e){var t,n=e.text;if(!1!==e.compress)try{t=oA(En(n))}catch(r){console.error("encode: cannot deflate",r)}return{version:"1",encoding:"bstring",compressed:!!t,encoded:t||oA(n)}},fA=function(e){var t;if("bstring"!==e.encoding)throw new Error('decode: unknown encoding "'.concat(e.encoding,'"'));return t=e.compressed?e.encoded:sA(e.encoded),e.compressed?kn(new Uint8Array(lA(t)),{to:"string"}):t},hA=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g,e.t1=Uint8Array,e.next=4,iA(t);case 4:return e.t2=e.sent,e.t3=new e.t1(e.t2),n=(0,e.t0)(e.t3).find((function(e){return"tEXt"===e.name})),e.abrupt("return",n?b.decode(n.data):null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pA=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n,r,a,i;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.blob,r=t.metadata,e.t0=g,e.t1=Uint8Array,e.next=5,iA(n);case 5:return e.t2=e.sent,e.t3=new e.t1(e.t2),a=(0,e.t0)(e.t3),i=b.encode(La.excalidraw,JSON.stringify(uA({text:r,compress:!0}))),e.abrupt("return",(a.splice(-1,0,i),new Blob([y(a)],{type:La.png})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vA=function(){var e=(0,d.A)((0,c.A)().mark((function e(t){var n,r;return(0,c.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hA(t);case 2:if((null===(n=e.sent)||void 0===n?void 0:n.keyword)!==La.excalidraw){e.next=16;break}if(e.prev=4,"encoded"in(r=JSON.parse(n.text))){e.next=10;break}if(!("type"in r)||r.type!==Na.excalidraw){e.next=9;break}return e.abrupt("return",n.text);case 9:throw new Error("FAILED");case 10:return e.abrupt("return",fA(r));case 13:throw e.prev=13,e.t0=e.catch(4),console.error(e.t0),new Error("FAILED");case 16:throw new Error("INVALID");case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()},63137:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var r={VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_AI_BACKEND:"https://oss-ai.excalidraw.com",VITE_APP_WS_SERVER_URL:"https://oss-collab.excalidraw.com",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_ENABLE_TRACKING:"false",VITE_APP_PLUS_EXPORT_PUBLIC_KEY:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApQ0jM9Qz8TdFLzcuAZZX\n/WvuKSOJxiw6AR/ZcE3eFQWM/mbFdhQgyK8eHGkKQifKzH1xUZjCxyXcxW6ZO02t\nkPOPxhz+nxUrIoWCD/V4NGmUA1lxwHuO21HN1gzKrN3xHg5EGjyouR9vibT9VDGF\ngq6+4Ic/kJX+AD2MM7Yre2+FsOdysrmuW2Fu3ahuC1uQE7pOe1j0k7auNP0y1q53\nPrB8Ts2LUpepWC1l7zIXFm4ViDULuyWXTEpUcHSsEH8vpd1tckjypxCwkipfZsXx\niPszy0o0Dx2iArPfWMXlFAI9mvyFCyFC3+nSvfyAUb2C4uZgCwAuyFh/ydPF4DEE\nPQIDAQAB",VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX:"false",VITE_APP_COLLAPSE_OVERLAY:"false",VITE_APP_ENABLE_ESLINT:"false",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.18.0",PROD:!0}},91618:function(e,t,n){"use strict";n.d(t,{a:function(){return i},b:function(){return o},c:function(){return l},d:function(){return s}});var r,a=Object.defineProperty,i=(r=function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:function(e,t){return(typeof require<"u"?require:e)[t]}}):r),o=function(e){return function(t){var n=e[t];if(n)return n();throw new Error("Module not found in bundle: "+t)}},l=function(e,t){for(var n in t)a(e,n,{get:t[n],enumerable:!0})},s=function(e,t,n){return function(e,t,n){t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n}},98718:function(e,t,n){"use strict";n.d(t,{a:function(){return r},b:function(){return a},c:function(){return i}});var r=100,a=36,i={"ar-SA":94,"az-AZ":17,"bg-BG":71,"bn-BD":52,"ca-ES":83,"cs-CZ":86,"da-DK":61,"de-DE":100,"el-GR":80,en:r,"es-ES":96,"eu-ES":97,"fa-IR":84,"fi-FI":76,"fr-FR":99,"gl-ES":86,"he-IL":77,"hi-IN":76,"hu-HU":76,"id-ID":91,"it-IT":98,"ja-JP":90,kaa:a,"kab-KAB":76,"kk-KZ":18,"km-KH":83,"ko-KR":100,"ku-TR":87,"lt-LT":48,"lv-LV":77,"mr-IN":98,"my-MM":35,"nb-NO":93,"nl-NL":75,"nn-NO":67,"oc-FR":92,"pa-IN":78,"pl-PL":99,"pt-BR":91,"pt-PT":83,"ro-RO":99,"ru-RU":92,"si-LK":7,"sk-SK":100,"sl-SI":100,"sv-SE":100,"ta-IN":81,"th-TH":44,"tr-TR":87,"uk-UA":93,"vi-VN":49,"zh-CN":100,"zh-HK":22,"zh-TW":100}},96772:function(e,t,n){"use strict";n.d(t,{Ak:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")}},90782:function(e){"use strict";e.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')}},function(e){e.O(0,[4223],(function(){return t=62381,e(e.s=t);var t}));e.O()}]);