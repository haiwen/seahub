{"version":3,"sources":["shared-file-view-image.js"],"names":["window","shared","pageOptions","fileName","rawPath","err","prevImgPath","nextImgPath","prevImgURL","encodeURIComponent","nextImgURL","SharedFileViewImage","content","FileContent","React","Component","document","addEventListener","e","keyCode","location","href","className","id","title","gettext","src","alt","ReactDom","render","getElementById"],"mappings":"0RAMmC,EAE0BA,OAAOC,OAAOC,YAAnEC,EAAQ,EAARA,SAAUC,EAAO,EAAPA,QAASC,EAAG,EAAHA,IAAKC,EAAW,EAAXA,YAAaC,EAAW,EAAXA,YAEvCC,EAAU,aAASC,mBAAmBH,IACtCI,EAAU,aAASD,mBAAmBF,IAEtCI,EAAmB,kHAGtB,OAHsB,mCACvB,WACE,OAAO,cAAC,IAAc,CAACC,QAAS,cAACC,EAAW,KAC9C,KAAC,EAHsB,CAASC,IAAMC,WAMlCF,EAAW,kHA+Bd,OA/Bc,8CAEf,WACEG,SAASC,iBAAiB,WAAW,SAACC,GAChCZ,GAA4B,IAAbY,EAAEC,UACnBC,SAASC,KAAOb,GAEdD,GAA4B,IAAbW,EAAEC,UACnBC,SAASC,KAAOX,EAEpB,GACF,GAAC,oBAED,WACE,OAAIL,EACK,cAAC,IAAiB,IAIzB,qBAAKiB,UAAU,2CAA0C,SACvD,sBAAKA,UAAU,yBAAwB,UACpChB,GACC,mBAAGe,KAAMb,EAAYe,GAAG,WAAWC,MAAOC,aAAQ,8BAAyB,SAAC,sBAAMH,UAAU,0BAE7Ff,GACC,mBAAGc,KAAMX,EAAYa,GAAG,WAAWC,MAAOC,aAAQ,6BAAwB,SAAC,sBAAMH,UAAU,2BAE7F,qBAAKI,IAAKtB,EAASuB,IAAKxB,EAAUoB,GAAG,mBAI7C,KAAC,EA/Bc,CAAST,IAAMC,WAkChCa,IAASC,OAAO,cAAClB,EAAmB,IAAKK,SAASc,eAAe,W","file":"static/js/sharedFileViewImage.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDom from 'react-dom';\nimport SharedFileView from './components/shared-file-view/shared-file-view';\nimport SharedFileViewTip from './components/shared-file-view/shared-file-view-tip';\nimport { gettext } from './utils/constants';\n\nimport './css/image-file-view.css';\n\nconst { fileName, rawPath, err, prevImgPath, nextImgPath } = window.shared.pageOptions;\n\nconst prevImgURL = `?p=${encodeURIComponent(prevImgPath)}`;\nconst nextImgURL = `?p=${encodeURIComponent(nextImgPath)}`;\n\nclass SharedFileViewImage extends React.Component {\n  render() {\n    return <SharedFileView content={<FileContent />} />;\n  }\n}\n\nclass FileContent extends React.Component {\n\n  componentDidMount() {\n    document.addEventListener('keydown', (e) => {\n      if (prevImgPath && e.keyCode == 37) { // press '<-'\n        location.href = prevImgURL;\n      }\n      if (nextImgPath && e.keyCode == 39) { // press '->'\n        location.href = nextImgURL;\n      }\n    });\n  }\n\n  render() {\n    if (err) {\n      return <SharedFileViewTip />;\n    }\n\n    return (\n      <div className=\"shared-file-view-body d-flex text-center\">\n        <div className=\"image-file-view flex-1\">\n          {prevImgPath && (\n            <a href={prevImgURL} id=\"img-prev\" title={gettext('you can also press ← ')}><span className=\"fas fa-chevron-left\"></span></a>\n          )}\n          {nextImgPath && (\n            <a href={nextImgURL} id=\"img-next\" title={gettext('you can also press →')}><span className=\"fas fa-chevron-right\"></span></a>\n          )}\n          <img src={rawPath} alt={fileName} id=\"image-view\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nReactDom.render(<SharedFileViewImage />, document.getElementById('wrapper'));\n"],"sourceRoot":""}