{"version":3,"file":"static/js/sysAdmin.14a4f9fd.js","mappings":"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","sources":["components/dialog/commit-details.js","components/dialog/create-folder-dialog.js","components/dialog/op-menu.js","components/dialog/share-admin-link.js","components/dialog/sysadmin-dialog/sysadmin-unlink-device-dialog.js","pages/sys-admin/side-panel.js","pages/sys-admin/main-panel.js","pages/sys-admin/main-panel-topbar.js","pages/sys-admin/info.js","pages/sys-admin/statistic/statistic-nav.js","pages/sys-admin/statistic/picker.js","pages/sys-admin/statistic/statistic-common-tool.js","pages/sys-admin/statistic/statistic-chart.js","pages/sys-admin/statistic/statistic-file.js","pages/sys-admin/statistic/statistic-storage.js","pages/sys-admin/statistic/traffic-table.js","pages/sys-admin/statistic/traffic-table-body.js","pages/sys-admin/statistic/statistic-traffic-orgs.js","pages/sys-admin/statistic/statistic-traffic-users.js","pages/sys-admin/statistic/statistic-traffic.js","pages/sys-admin/statistic/statistic-users.js","pages/sys-admin/statistic/statistic-reports.js","pages/sys-admin/devices/devices-nav.js","pages/sys-admin/devices/devices-by-platform.js","pages/sys-admin/devices/desktop-devices.js","pages/sys-admin/devices/mobile-devices.js","pages/sys-admin/user-link.js","pages/sys-admin/devices/devices-errors.js","components/dialog/sysadmin-dialog/set-quota.js","components/dialog/sysadmin-dialog/sysadmin-import-user-dialog.js","components/select-editor/sysadmin-user-role-editor.js","components/dialog/sysadmin-dialog/sysadmin-add-user-dialog.js","components/dialog/sysadmin-dialog/sysadmin-batch-add-admin-dialog.js","models/sysadmin-user.js","models/sysadmin-admin-user.js","pages/sys-admin/search.js","pages/sys-admin/users/users-nav.js","components/select-editor/sysadmin-user-status-editor.js","pages/sys-admin/users/users-content.js","pages/sys-admin/users/users.js","pages/sys-admin/users/admin-users.js","pages/sys-admin/users/ldap-imported-users.js","pages/sys-admin/users/ldap-users.js","pages/sys-admin/users/search-users.js","components/dialog/sysadmin-dialog/set-upload-download-rate-limit.js","components/dialog/sysadmin-dialog/update-user.js","pages/sys-admin/users/user-nav.js","pages/sys-admin/users/user-info.js","pages/sys-admin/users/user-repos.js","pages/sys-admin/users/user-shared-repos.js","pages/sys-admin/users/user-links.js","pages/sys-admin/users/user-groups.js","components/dialog/sysadmin-dialog/sysadmin-create-repo-dialog.js","pages/sys-admin/repos/repos-nav.js","components/dialog/sysadmin-dialog/sysadmin-share-to-user.js","components/dialog/sysadmin-dialog/sysadmin-share-to-group.js","components/dialog/sysadmin-dialog/sysadmin-share-dialog.js","components/dialog/sysadmin-dialog/sysadmin-lib-history-setting-dialog.js","pages/sys-admin/repos/repos.js","pages/sys-admin/repos/all-repos.js","pages/sys-admin/repos/system-repo.js","pages/sys-admin/repos/trash-repos.js","pages/sys-admin/repos/search-repos.js","models/system-admin/dirent.js","pages/sys-admin/repos/dir-path-bar.js","pages/sys-admin/repos/dir-content.js","pages/sys-admin/repos/dir-view.js","components/dialog/sysadmin-dialog/sysadmin-create-group-dialog.js","components/dialog/sysadmin-dialog/sysadmin-group-transfer-dialog.js","pages/sys-admin/groups/groups-content.js","pages/sys-admin/groups/groups.js","pages/sys-admin/groups/search-groups.js","pages/sys-admin/groups/group-nav.js","pages/sys-admin/groups/group-repos.js","components/dialog/sysadmin-dialog/sysadmin-group-add-member-dialog.js","components/select-editor/sysadmin-group-role-editor.js","pages/sys-admin/groups/group-members.js","pages/sys-admin/departments/departments.js","components/dialog/sysadmin-dialog/sysadmin-add-department-dialog.js","components/dialog/sysadmin-dialog/sysadmin-rename-department-dialog.js","components/dialog/sysadmin-dialog/sysadmin-delete-department-dialog.js","components/dialog/sysadmin-dialog/sysadmin-set-group-quota-dialog.js","pages/sys-admin/departments/group-item.js","pages/sys-admin/departments/department-list.js","components/dialog/sysadmin-dialog/sysadmin-add-member-dialog.js","components/dialog/sysadmin-dialog/sysadmin-add-repo-dialog.js","pages/sys-admin/departments/department.js","pages/sys-admin/departments/sub-departments.js","components/dialog/sysadmin-dialog/sysadmin-delete-member-dialog.js","pages/sys-admin/departments/member-item.js","pages/sys-admin/departments/department-members.js","components/dialog/sysadmin-dialog/sysadmin-delete-repo-dialog.js","pages/sys-admin/departments/repo-item.js","pages/sys-admin/departments/department-libraries.js","pages/sys-admin/links/links-nav.js","pages/sys-admin/links/share-links.js","pages/sys-admin/links/upload-links.js","components/dialog/sysadmin-dialog/sysadmin-add-org-dialog.js","pages/sys-admin/orgs/orgs-content.js","pages/sys-admin/orgs/orgs.js","pages/sys-admin/orgs/search-orgs.js","components/dialog/sysadmin-dialog/sysadmin-set-org-name-dialog.js","components/dialog/sysadmin-dialog/sysadmin-set-org-max-user-number-dialog.js","pages/sys-admin/orgs/org-nav.js","pages/sys-admin/orgs/org-info.js","components/select-editor/sysadmin-user-membership-editor.js","pages/sys-admin/orgs/org-users.js","pages/sys-admin/orgs/org-groups.js","pages/sys-admin/orgs/org-repos.js","components/dialog/sysadmin-dialog/sysadmin-add-institution-dialog.js","pages/sys-admin/institutions/institutions.js","pages/sys-admin/institutions/institution-nav.js","pages/sys-admin/institutions/institution-info.js","components/dialog/sysadmin-dialog/sysadmin-add-institution-member-dialog.js","pages/sys-admin/institutions/institution-users.js","pages/sys-admin/institutions/institution-admins.js","pages/sys-admin/logs-page/logs-nav.js","components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog.js","pages/sys-admin/logs-page/login-logs.js","pages/sys-admin/logs-page/file-access-item-menu.js","pages/sys-admin/logs-page/file-access-toggle-filter.js","pages/sys-admin/logs-page/file-access-logs.js","pages/sys-admin/logs-page/file-update-logs.js","pages/sys-admin/logs-page/share-permission-logs.js","pages/sys-admin/web-settings/section.js","pages/sys-admin/web-settings/setting-item-base.js","pages/sys-admin/web-settings/input-item.js","pages/sys-admin/web-settings/file-item.js","pages/sys-admin/web-settings/checkbox-item.js","pages/sys-admin/web-settings/web-settings.js","components/dialog/sysadmin-dialog/sysadmin-add-sys-notification-dialog.js","pages/sys-admin/notifications/notifications.js","pages/sys-admin/file-scan-records.js","pages/sys-admin/work-weixin/work-weixin-department-members-list.js","pages/sys-admin/work-weixin/work-weixin-departments-tree-node.js","pages/sys-admin/work-weixin/work-weixin-departments-tree-panel.js","components/dialog/import-work-weixin-department-dialog.js","pages/sys-admin/work-weixin-departments.js","pages/sys-admin/dingtalk/dingtalk-department-members-list.js","pages/sys-admin/dingtalk/dingtalk-departments-tree-node.js","pages/sys-admin/dingtalk/dingtalk-departments-tree-panel.js","components/dialog/import-dingtalk-department-dialog.js","pages/sys-admin/dingtalk-departments.js","pages/sys-admin/invitations/invitations.js","components/dialog/terms-editor-dialog.js","components/dialog/sysadmin-dialog/sysadmin-add-or-update-term-dialog.js","utils/markdown-utils.js","components/dialog/terms-preview-dialog.js","pages/sys-admin/terms-and-conditions/item.js","pages/sys-admin/terms-and-conditions/content.js","pages/sys-admin/terms-and-conditions/terms-and-conditions.js","pages/sys-admin/virus-scan/nav.js","pages/sys-admin/virus-scan/all-virus-files.js","pages/sys-admin/virus-scan/unhandled-virus-files.js","pages/sys-admin/admin-logs/logs-nav.js","pages/sys-admin/admin-logs/operation-logs.js","pages/sys-admin/admin-logs/login-logs.js","pages/sys-admin/abuse-reports.js","pages/sys-admin/index.js","../node_modules/chart.js/dist/Chart.js","../node_modules/lodash/_arrayAggregator.js","../node_modules/lodash/_baseAggregator.js","../node_modules/lodash/_createAggregator.js","../node_modules/lodash/isEqual.js","../node_modules/lodash/keyBy.js","../node_modules/react-chartjs-2/es/index.js","../node_modules/reactstrap/es/Table.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport moment from 'moment';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../loading';\n\nimport '../../css/commit-details.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  commitID: PropTypes.string.isRequired,\n  commitTime: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass CommitDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      errorMsg: '',\n    };\n  }\n\n  componentDidMount() {\n    const {repoID, commitID} = this.props;\n    seafileAPI.getCommitDetails(repoID, commitID).then((res) => {\n      this.setState({\n        isLoading: false,\n        errorMsg: '',\n        commitDetails: res.data\n      });\n    }).catch((error) => {\n      let errorMsg = Utils.getErrorMsg(error);\n      this.setState({\n        isLoading: false,\n        errorMsg: errorMsg\n      });\n    });\n  }\n\n  render() {\n    const { toggleDialog, commitTime} = this.props;\n    return (\n      <Modal isOpen={true} centered={true} toggle={toggleDialog}>\n        <ModalHeader toggle={toggleDialog}>{gettext('Modification Details')}</ModalHeader>\n        <ModalBody>\n          <p className=\"small\">{moment(commitTime).format('YYYY-MM-DD HH:mm:ss')}</p>\n          <Content data={this.state} />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nclass Content extends React.Component {\n\n  renderDetails = (data) => {\n    const detailsData = [\n      {type: 'new', title: gettext('New files')},\n      {type: 'removed', title: gettext('Deleted files')},\n      {type: 'renamed', title: gettext('Renamed or Moved files')},\n      {type: 'modified', title: gettext('Modified files')},\n      {type: 'newdir', title: gettext('New directories')},\n      {type: 'deldir', title: gettext('Deleted directories')}\n    ];\n\n    let showDesc = true;\n    for (let i = 0, len = detailsData.length; i < len; i++) {\n      if (data[detailsData[i].type].length) {\n        showDesc = false;\n        break;\n      }\n    }\n    if (showDesc) {\n      return <p>{data.cmt_desc}</p>;\n    }\n\n    return (\n      <React.Fragment>\n        {detailsData.map((item, index) => {\n          if (!data[item.type].length) {\n            return null;\n          }\n          return (\n            <React.Fragment key={index}>\n              <h6>{item.title}</h6>\n              <ul>\n                {\n                  data[item.type].map((item, index) => {\n                    return <li key={index} dangerouslySetInnerHTML={{__html: item}} className=\"commit-detail-item\"></li>;\n                  })\n                }\n              </ul>\n            </React.Fragment>\n          );\n        })}\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    const {isLoading, errorMsg, commitDetails} = this.props.data;\n\n    if (isLoading) {\n      return <Loading />;\n    }\n\n    if (errorMsg) {\n      return <p className=\"error mt-4 text-center\">{errorMsg}</p>;\n    }\n\n    return this.renderDetails(commitDetails);\n  }\n}\n\nContent.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\nCommitDetails.propTypes = propTypes;\n\nexport default CommitDetails;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  fileType: PropTypes.string,\n  parentPath: PropTypes.string.isRequired,\n  onAddFolder: PropTypes.func.isRequired,\n  checkDuplicatedName: PropTypes.func.isRequired,\n  addFolderCancel: PropTypes.func.isRequired,\n};\n\nclass CreateForder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      parentPath: '',\n      childName: '',\n      errMessage: '',\n      isSubmitBtnActive: false,\n    };\n  }\n\n  componentDidMount() {\n    let parentPath = this.props.parentPath;\n    if (parentPath[parentPath.length - 1] === '/') {  // mainPanel\n      this.setState({parentPath: parentPath});\n    } else {\n      this.setState({parentPath: parentPath + '/'}); // sidePanel\n    }\n  }\n\n  handleChange = (e) => {\n    if (!e.target.value.trim()) {\n      this.setState({isSubmitBtnActive: false});\n    } else {\n      this.setState({isSubmitBtnActive: true});\n    }\n\n    this.setState({childName: e.target.value});\n  };\n\n  handleSubmit = () => {\n    if (!this.state.isSubmitBtnActive) {\n      return;\n    }\n\n    let newName = this.state.childName;\n    let isDuplicated = this.checkDuplicatedName();\n\n    if (isDuplicated) {\n      let errMessage = gettext('The name \"{name}\" is already taken. Please choose a different name.');\n      errMessage = errMessage.replace('{name}', Utils.HTMLescape(newName));\n      this.setState({errMessage: errMessage});\n    } else {\n      let path = this.state.parentPath + newName;\n      this.props.onAddFolder(path);\n    }\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  toggle = () => {\n    this.props.addFolderCancel();\n  };\n\n  checkDuplicatedName = () => {\n    let isDuplicated = this.props.checkDuplicatedName(this.state.childName);\n    return isDuplicated;\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Folder')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"folderName\">{gettext('Name')}</Label>\n              <Input\n                id=\"folderName\"\n                value={this.state.childName}\n                onKeyDown={this.handleKeyDown}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\" className=\"mt-2\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nCreateForder.propTypes = propTypes;\n\nexport default CreateForder;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n  operations: PropTypes.array.isRequired,\n  translateOperations: PropTypes.func.isRequired\n};\n\nclass OpMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false\n    };\n  }\n\n  onMenuItemClick = (e) => {\n    let operation = Utils.getEventData(e, 'op');\n    this.props.onMenuItemClick(operation);\n  };\n\n  onDropdownToggleClick = (e) => {\n    this.toggleOperationMenu(e);\n  };\n\n  toggleOperationMenu = (e) => {\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow},\n      () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  };\n\n  render() {\n    const { operations, translateOperations } = this.props;\n    return (\n      <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n        <DropdownToggle\n          tag=\"i\"\n          className=\"d-flex w-5 h-5 align-items-center justify-content-center sf-dropdown-toggle fa fa-ellipsis-v\"\n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\"\n          aria-expanded={this.state.isItemMenuShow}\n        />\n        <DropdownMenu className=\"my-1 mr-2\">\n          {operations.map((item, index )=> {\n            return (<DropdownItem key={index} data-op={item} onClick={this.onMenuItemClick}>{translateOperations(item)}</DropdownItem>);\n          })}\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nOpMenu.propTypes = propTypes;\n\nexport default OpMenu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport copy from '../copy-to-clipboard';\nimport { gettext } from '../../utils/constants';\nimport toaster from '../../components/toast';\n\nconst propTypes = {\n  link: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass ShareAdminLink extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  copyToClipboard = () => {\n    copy(this.props.link);\n    this.props.toggleDialog();\n    toaster.success(gettext('The link is copied to the clipboard.'), {duration: 2});\n  };\n\n  render() {\n    const { link, toggleDialog } = this.props;\n    return (\n      <Modal isOpen={true} toggle={toggleDialog}>\n        <ModalHeader toggle={toggleDialog}>{gettext('Link')}</ModalHeader>\n        <ModalBody>\n          <a href={link}>{link}</a>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.copyToClipboard}>{gettext('Copy')}</Button>\n          <Button color=\"secondary\" onClick={toggleDialog}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nShareAdminLink.propTypes = propTypes;\n\nexport default ShareAdminLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext, isPro } from '../../../utils/constants';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nconst propTypes = {\n  unlinkDevice: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminUnlinkDevice extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputChecked: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      inputChecked: e.target.checked\n    });\n  };\n\n  unlinkDevice = () => {\n    this.props.toggleDialog();\n    this.props.unlinkDevice(this.state.inputChecked);\n  };\n\n  render() {\n    const { inputChecked } = this.state;\n    const toggle = this.props.toggleDialog;\n    return (\n      <Modal isOpen={true} toggle={toggle}>\n        <ModalHeader toggle={toggle}>{gettext('Unlink device')}</ModalHeader>\n        <ModalBody>\n          <p>{gettext('Are you sure you want to unlink this device?')}</p>\n          {isPro &&\n          <div className=\"d-flex align-items-center\">\n            <input id=\"delete-files\" className=\"mr-1\" type=\"checkbox\" checked={inputChecked} onChange={this.handleInputChange} />\n            <label htmlFor=\"delete-files\" className=\"m-0\">{gettext('Delete files from this device the next time it comes online.')}</label>\n          </div>\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.unlinkDevice}>{gettext('Unlink')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminUnlinkDevice.propTypes = propTypes;\n\nexport default SysAdminUnlinkDevice;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport Logo from '../../components/logo';\nimport { gettext, siteRoot, isPro, otherPermission, canViewSystemInfo, canViewStatistic,\n  canConfigSystem, canManageLibrary, canManageUser, canManageGroup, canViewUserLog,\n  canViewAdminLog, constanceEnabled, multiTenancy, multiInstitution, sysadminExtraEnabled,\n  enableGuestInvitation, enableTermsAndConditions, enableFileScan, enableWorkWeixin, enableDingtalk,\n  enableShareLinkReportAbuse, isDBSqlite3 } from '../../utils/constants';\n\nconst propTypes = {\n  isSidePanelClosed: PropTypes.bool.isRequired,\n  onCloseSidePanel: PropTypes.func.isRequired,\n  currentTab: PropTypes.string.isRequired,\n  tabItemClick: PropTypes.func.isRequired\n};\n\nclass SidePanel extends React.Component {\n\n  getActiveClass = (tab) => {\n    return this.props.currentTab == tab ? 'active' : '';\n  };\n\n  render() {\n    return (\n      <div className={`side-panel ${this.props.isSidePanelClosed ? '' : 'left-zero'}`}>\n        <div className=\"side-panel-north\">\n          <Logo onCloseSidePanel={this.props.onCloseSidePanel}/>\n        </div>\n        <div className=\"side-panel-center\">\n          <div className=\"side-nav\">\n            <div className=\"side-nav-con\">\n              <h3 className=\"sf-heading\">{gettext('System Admin')}</h3>\n              <ul className=\"nav nav-pills flex-column nav-container\">\n                {canViewSystemInfo &&\n                <li className=\"nav-item\">\n                  <Link\n                    className={`nav-link ellipsis ${this.getActiveClass('info')}`}\n                    to={siteRoot + 'sys/info/'}\n                    onClick={() => this.props.tabItemClick('info')}\n                  >\n                    <span className=\"sf2-icon-info\" aria-hidden=\"true\"></span>\n                    <span className=\"nav-text\">{gettext('Info')}</span>\n                  </Link>\n                </li>\n                }\n                {(isPro || !isDBSqlite3) && canViewStatistic &&\n                  <li className=\"nav-item\">\n                    <Link className={`nav-link ellipsis ${this.getActiveClass('statistic')}`}\n                      to={siteRoot + 'sys/statistics/file/'}\n                      onClick={() => this.props.tabItemClick('statistic')}\n                    >\n                      <span className=\"sf2-icon-histogram\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Statistic')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('devices')}`}\n                      to={siteRoot + 'sys/desktop-devices/'}\n                      onClick={() => this.props.tabItemClick('devices')}\n                    >\n                      <span className=\"sf2-icon-monitor\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Devices')}</span>\n                    </Link>\n                  </li>\n                }\n                {constanceEnabled && canConfigSystem &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('web-settings')}`}\n                      to={siteRoot + 'sys/web-settings/'}\n                      onClick={() => this.props.tabItemClick('web-settings')}\n                    >\n                      <span className=\"sf2-icon-cog2\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Settings')}</span>\n                    </Link>\n                  </li>\n                }\n                {canManageLibrary &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('libraries')}`}\n                      to={siteRoot + 'sys/all-libraries/'}\n                      onClick={() => this.props.tabItemClick('libraries')}\n                    >\n                      <span className=\"sf2-icon-library\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Libraries')}</span>\n                    </Link>\n                  </li>\n                }\n                {canManageUser &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('users')}`}\n                      to={siteRoot + 'sys/users/'}\n                      onClick={() => this.props.tabItemClick('users')}\n                    >\n                      <span className=\"sf2-icon-user\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Users')}</span>\n                    </Link>\n                  </li>\n                }\n                {canManageGroup &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('groups')}`}\n                      to={siteRoot + 'sys/groups/'}\n                      onClick={() => this.props.tabItemClick('groups')}\n                    >\n                      <span className=\"sf2-icon-group\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Groups')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && canManageGroup &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('departments')}`}\n                      to={siteRoot + 'sys/departments/'}\n                      onClick={() => this.props.tabItemClick('departments')}\n                    >\n                      <span className=\"sf2-icon-organization\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Departments')}</span>\n                    </Link>\n                  </li>\n                }\n                {multiTenancy && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('organizations')}`}\n                      to={siteRoot + 'sys/organizations/'}\n                      onClick={() => this.props.tabItemClick('organizations')}\n                    >\n                      <span className=\"sf2-icon-organization\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Organizations')}</span>\n                    </Link>\n                  </li>\n                }\n                {multiInstitution && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('institutions')}`}\n                      to={siteRoot + 'sys/institutions/'}\n                      onClick={() => this.props.tabItemClick('institutions')}\n                    >\n                      <span className=\"sf2-icon-organization\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Institutions')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('notifications')}`}\n                      to={siteRoot + 'sys/notifications/'}\n                      onClick={() => this.props.tabItemClick('notifications')}\n                    >\n                      <span className=\"sf2-icon-msgs\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Notifications')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('links')}`}\n                      to={siteRoot + 'sys/share-links/'}\n                      onClick={() => this.props.tabItemClick('links')}\n                    >\n                      <span className=\"sf2-icon-link\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Links')}</span>\n                    </Link>\n                  </li>\n                }\n                {sysadminExtraEnabled && canViewUserLog &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('logs')}`}\n                      to={siteRoot + 'sys/logs/login'}\n                      onClick={() => this.props.tabItemClick('logs')}\n                    >\n                      <span className=\"sf2-icon-clock\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Logs')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && otherPermission && enableFileScan &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('file-scan-records')}`}\n                      to={siteRoot + 'sys/file-scan-records/'}\n                      onClick={() => this.props.tabItemClick('file-scan-records')}\n                    >\n                      <span className=\"sf2-icon-security\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('File Scan')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('virus-files')}`}\n                      to={siteRoot + 'sys/virus-files/all/'}\n                      onClick={() => this.props.tabItemClick('virus-files')}\n                    >\n                      <span className=\"sf2-icon-security\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Virus Scan')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && enableGuestInvitation && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('invitations')}`}\n                      to={siteRoot + 'sys/invitations/'}\n                      onClick={() => this.props.tabItemClick('invitations')}\n                    >\n                      <span className=\"sf2-icon-invite\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Invitations')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission && enableTermsAndConditions &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('termsandconditions')}`}\n                      to={siteRoot + 'sys/terms-and-conditions/'}\n                      onClick={() => this.props.tabItemClick('termsandconditions')}\n                    >\n                      <span className=\"sf2-icon-wiki\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Terms and Conditions')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && canViewAdminLog &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('adminLogs')}`}\n                      to={siteRoot + 'sys/admin-logs/operation'}\n                      onClick={() => this.props.tabItemClick('adminLogs')}\n                    >\n                      <span className=\"sf2-icon-admin-log\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Admin Logs')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission && enableWorkWeixin &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('work-weixin')}`}\n                      to={siteRoot + 'sys/work-weixin/'}\n                      onClick={() => this.props.tabItemClick('work-weixin')}\n                    >\n                      <span className=\"sf3-font-enterprise-wechat sf3-font\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{''}</span>\n                    </Link>\n                  </li>\n                }\n\n                {otherPermission && enableDingtalk &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('dingtalk')}`}\n                      to={siteRoot + 'sys/dingtalk/'}\n                      onClick={() => this.props.tabItemClick('dingtalk')}\n                    >\n                      <span className=\"sf3-font-dingtalk sf3-font\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{''}</span>\n                    </Link>\n                  </li>\n                }\n\n                {otherPermission && enableShareLinkReportAbuse &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('abuse-reports')}`}\n                      to={siteRoot + 'sys/abuse-reports/'}\n                      onClick={() => this.props.tabItemClick('abuse-reports')}\n                    >\n                      <span className=\"sf2-icon-monitor\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Abuse Reports')}</span>\n                    </Link>\n                  </li>\n                }\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSidePanel.propTypes = propTypes;\n\nexport default SidePanel;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  children: PropTypes.object.isRequired,\n};\n\nclass MainPanel extends Component {\n\n  render() {\n    return (\n      <div className=\"main-panel\">\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nMainPanel.propTypes = propTypes;\n\nexport default MainPanel;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Account from '../../components/common/account';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  children: PropTypes.object,\n  search: PropTypes.any,\n  toggleSidePanel: PropTypes.func\n};\n\nclass MainPanelTopbar extends Component {\n\n  render() {\n    return (\n      <div className={`main-panel-north ${this.props.children ? 'border-left-show' : ''}`}>\n        <div className=\"cur-view-toolbar\">\n          <span\n            className=\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\"\n            title={gettext('Side Nav Menu')}\n            onClick={this.props.toggleSidePanel}\n          ></span>\n          <div className=\"operation\">\n            {this.props.children}\n          </div>\n        </div>\n        <div className=\"common-toolbar\">\n          {this.props.search && this.props.search}\n          <Account isAdminPanel={true} />\n        </div>\n      </div>\n    );\n  }\n}\n\nMainPanelTopbar.propTypes = propTypes;\n\nexport default MainPanelTopbar;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, isPro, isDefaultAdmin } from '../../utils/constants';\nimport toaster from '../../components/toast';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/system-info.css';\n\nclass Info extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      sysInfo: {}\n    };\n    this.fileInput = React.createRef();\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetSysInfo().then((res) => {\n      this.setState({\n        loading: false,\n        sysInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  uploadLicenseFile = (e) => {\n\n    // no file selected\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n    seafileAPI.sysAdminUploadLicense(file).then((res) => {\n      let info = this.state.sysInfo;\n      Object.assign(info, res.data, {with_license: true});\n      this.setState({\n        sysInfo: info\n      });\n    }).catch((error) => {\n      let errMsg = Utils.getErrorMsg(error);\n      toaster.danger(errMsg);\n    });\n  };\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  };\n\n  renderLicenseDescString = (license_mode, license_to, license_expiration) => {\n    if (license_mode == 'life-time') {\n      if (window.app.config.lang == 'zh-cn') {\n        return ' ' + license_to + ' ' + license_expiration + ' ';\n      } else {\n        return gettext('licensed to {placeholder_license_to}, upgrade service expired in {placeholder_license_expiration}')\n          .replace('{placeholder_license_to}', license_to).replace('{placeholder_license_expiration}', license_expiration);\n      }\n    } else {\n      return gettext('licensed to {placeholder_license_to}, expires on {placeholder_license_expiration}')\n        .replace('{placeholder_license_to}', license_to).replace('{placeholder_license_expiration}', license_expiration);\n    }\n  };\n\n  render() {\n    let { license_mode, license_to, license_expiration, org_count,\n      repos_count, total_files_count, total_storage, total_devices_count,\n      current_connected_devices_count, license_maxusers, multi_tenancy_enabled,\n      active_users_count, users_count, groups_count, with_license } = this.state.sysInfo;\n    let { loading, errorMsg } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container system-admin-info\">\n            <h2 className=\"heading\">{gettext('Info')}</h2>\n            <div className=\"content\">\n              {loading && <Loading />}\n              {errorMsg && <p className=\"error text-center mt-4\">{errorMsg}</p>}\n              {(!loading && !errorMsg) &&\n              <dl className=\"flex-1 m-0\">\n                <dt className=\"info-item-heading\">{gettext('System Info')}</dt>\n                {isPro ?\n                  <dd className=\"info-item-content\">\n                    {gettext('Professional Edition')}\n                    {with_license &&\n                      ' ' + this.renderLicenseDescString(license_mode, license_to, license_expiration)\n                    }<br/>\n                    {isDefaultAdmin &&\n                      <Fragment>\n                        <Button type=\"button\" className=\"mt-2\" onClick={this.openFileInput}>{gettext('Upload license')}</Button>\n                        <input className=\"d-none\" type=\"file\" onChange={this.uploadLicenseFile} ref={this.fileInput} />\n                      </Fragment>\n                    }\n                  </dd> :\n                  <dd className=\"info-item-content\">\n                    {gettext('Community Edition')}\n                    <a className=\"ml-1\" href=\"https://download.seafile.com/published/seafile-manual/deploy_pro/migrate_from_seafile_community_server.md\" target=\"_blank\" rel=\"noreferrer\">{gettext('Upgrade to Pro Edition')}</a>\n                  </dd>\n                }\n                <dt className=\"info-item-heading\">{gettext('Libraries')} / {gettext('Files')}</dt>\n                <dd className=\"info-item-content\">{repos_count} / {total_files_count}</dd>\n\n                <dt className=\"info-item-heading\">{gettext('Storage Used')}</dt>\n                <dd className=\"info-item-content\">{Utils.bytesToSize(total_storage)}</dd>\n\n                <dt className=\"info-item-heading\">{gettext('Total Devices')} / {gettext('Current Connected Devices')}</dt>\n                <dd className=\"info-item-content\">{total_devices_count} / {current_connected_devices_count}</dd>\n\n                {isPro ?\n                  <Fragment>\n                    <dt className=\"info-item-heading\">{gettext('Activated Users')} / {gettext('Total Users')} / {gettext('Limits')}</dt>\n                    <dd className=\"info-item-content\">{active_users_count}{' / '}{users_count}{' / '}{with_license ? license_maxusers : '--'}</dd>\n                  </Fragment> :\n                  <Fragment>\n                    <dt className=\"info-item-heading\">{gettext('Activated Users')} / {gettext('Total Users')}</dt>\n                    <dd className=\"info-item-content\">{active_users_count} / {users_count}</dd>\n                  </Fragment>\n                }\n\n                <dt className=\"info-item-heading\">{gettext('Groups')}</dt>\n                <dd className=\"info-item-content\">{groups_count}</dd>\n\n                {multi_tenancy_enabled &&\n                  <Fragment>\n                    <dt className=\"info-item-heading\">{gettext('Organizations')}</dt>\n                    <dd className=\"info-item-content\">{org_count}</dd>\n                  </Fragment>\n                }\n              </dl>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Info;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'fileStatistic', urlPart: 'statistics/file', text: gettext('File')},\n      {name: 'storageStatistic', urlPart: 'statistics/storage', text: gettext('Storage')},\n      {name: 'usersStatistic', urlPart: 'statistics/user', text: gettext('Users')},\n      {name: 'trafficStatistic', urlPart: 'statistics/traffic', text: gettext('Traffic')},\n      {name: 'reportsStatistic', urlPart: 'statistics/reports', text: gettext('Reports')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Calendar from '@seafile/seafile-calendar';\nimport DatePicker from '@seafile/seafile-calendar/lib/Picker';\nimport { translateCalendar } from '../../../utils/date-format-utils';\n\nimport '@seafile/seafile-calendar/assets/index.css';\n\nconst FORMAT = 'YYYY-MM-DD';\n\nclass Picker extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.defaultCalendarValue = null;\n  }\n\n  componentDidMount() {\n    let lang = window.app.config.lang;\n    this.defaultCalendarValue = moment().locale(lang).clone();\n  }\n\n  render() {\n    const props = this.props;\n    const calendar = (<Calendar\n      defaultValue={this.defaultCalendarValue}\n      disabledDate={props.disabledDate}\n      format={FORMAT}\n      locale={translateCalendar()}\n    />);\n    return (\n      <DatePicker\n        calendar={calendar}\n        value={props.value}\n        onChange={props.onChange}\n      >\n        {\n          ({value}) => {\n            return (\n              <span>\n                <input\n                  placeholder=\"yyyy-mm-dd\"\n                  tabIndex=\"-1\"\n                  readOnly\n                  value={value && value.format(FORMAT) || ''}\n                  className=\"form-control system-statistic-input\"\n                />\n              </span>\n            );\n          }\n        }\n      </DatePicker>\n    );\n  }\n}\n\nPicker.propTypes = {\n  disabledDate: PropTypes.func.isRequired,\n  value: PropTypes.object,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default Picker;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport Picker from './picker';\n\nconst propTypes = {\n  getActiviesFiles: PropTypes.func.isRequired,\n  children: PropTypes.object,\n};\n\nclass StatisticCommonTool extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      statisticType: 'oneWeek',\n      startValue: null,\n      endValue: null,\n    };\n  }\n\n  componentDidMount() {\n    let today = moment().format('YYYY-MM-DD 00:00:00');\n    let endTime = today;\n    let startTime = moment().subtract(6,'d').format('YYYY-MM-DD 00:00:00');\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  }\n\n  changeActive = (statisticTypeName) => {\n    let { statisticType } = this.state;\n    if (statisticType === statisticTypeName) {\n      return;\n    }\n    let today = moment().format('YYYY-MM-DD 00:00:00');\n    let endTime = today;\n    let startTime;\n    switch(statisticTypeName) {\n      case 'oneWeek' :\n        startTime = moment().subtract(6,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n      case 'oneMonth' :\n        startTime = moment().subtract(29,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n      case 'oneYear' :\n        startTime = moment().subtract(364,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n    }\n    this.setState({\n      statisticType: statisticTypeName,\n    });\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  };\n\n  disabledStartDate = (startValue) => {\n    if (!startValue) {\n      return false;\n    }\n    let today = moment().format();\n\n    const endValue = this.state.endValue;\n    if (!endValue) {\n      let startTime = moment(startValue).format();\n      return today < startTime;\n    }\n    return endValue.isBefore(startValue) || moment(startValue).format() > today;\n  };\n\n  disabledEndDate = (endValue) => {\n    if (!endValue) {\n      return false;\n    }\n    let today = moment().format();\n    const startValue = this.state.startValue;\n    if (!startValue) {\n      let endTime = moment(endValue).format();\n      return today < endTime;\n    }\n    return endValue.isBefore(startValue) || moment(endValue).format() > today;\n  };\n\n  onChange = (field, value) => {\n    this.setState({\n      [field]: value,\n    });\n  };\n\n  onSubmit = () => {\n    let { startValue, endValue } = this.state;\n    if(!startValue || !endValue) {\n      return;\n    }\n    this.setState({\n      statisticType: 'itemButton',\n    });\n    let startTime = moment(startValue).format('YYYY-MM-DD 00:00:00');\n    let endTime = moment(endValue).format('YYYY-MM-DD 00:00:00');\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  };\n\n  render() {\n    let { statisticType, endValue, startValue } = this.state;\n    return(\n      <Fragment>\n        {this.props.children}\n        <div className=\"system-statistic-time-range\">\n          <div className=\"sys-stat-tool\">\n            <div className={`system-statistic-item border-right-0 rounded-left ${statisticType === 'oneWeek' ? 'item-active' : ''}`} onClick={this.changeActive.bind(this, 'oneWeek')}>{gettext('7 Days')}</div>\n            <div className={`system-statistic-item border-right-0 ${statisticType === 'oneMonth' ? 'item-active' : ''}`}  onClick={this.changeActive.bind(this, 'oneMonth')}>{gettext('30 Days')}</div>\n            <div className={`system-statistic-item rounded-right ${statisticType === 'oneYear' ? 'item-active' : ''}`}  onClick={this.changeActive.bind(this, 'oneYear')}>{gettext('1 Year')}</div>\n          </div>\n          <div className=\"system-statistic-input-container\">\n            <Picker\n              disabledDate={this.disabledStartDate}\n              value={startValue}\n              onChange={this.onChange.bind(this, 'startValue')}\n            />\n            <span className=\"system-statistic-connect\">-</span>\n            <Picker\n              disabledDate={this.disabledEndDate}\n              value={endValue}\n              onChange={this.onChange.bind(this, 'endValue')}\n            />\n            <Button className=\"operation-item system-statistic-button\" onClick={this.onSubmit}>{gettext('Submit')}</Button>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nStatisticCommonTool.propTypes = propTypes;\n\nexport default StatisticCommonTool;\n","import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  labels: PropTypes.array.isRequired,\n  filesData: PropTypes.array.isRequired,\n  suggestedMaxNumbers: PropTypes.number.isRequired,\n  isLegendStatus: PropTypes.bool.isRequired,\n  chartTitle: PropTypes.string.isRequired,\n  isTitleCallback: PropTypes.bool,\n  isTicksCallback: PropTypes.bool,\n};\n\nclass StatisticChart extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {},\n      opations: {}\n    };\n  }\n\n  componentDidMount() {\n    let { labels, filesData, isTitleCallback, isTicksCallback, suggestedMaxNumbers, isLegendStatus, chartTitle } = this.props;\n    let _this = this;\n    let data = {\n      labels: labels,\n      datasets: filesData\n    };\n    let options = {\n      title: {\n        display: true,\n        fontSize: 14,\n        text: chartTitle,\n      },\n      elements: {\n        line: {\n          fill: false,\n          tension: 0, // disable bezier curves, i.e, draw straight lines\n          borderWidth: 2\n        }\n      },\n      legend: {\n        display: isLegendStatus,\n        labels: {\n          usePointStyle: true\n        }\n      },\n      tooltips: {\n        callbacks: {\n          label: function(tooltipItem, data) {\n            if (isTitleCallback) {\n              return _this.titleCallback(tooltipItem, data);\n            }\n            return data.datasets[tooltipItem.datasetIndex].label + ': ' + tooltipItem.yLabel;\n          }\n        }\n      },\n      layout: {\n        padding: {\n          right: 100,\n        }\n      },\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true,\n            suggestedMax: suggestedMaxNumbers,\n            callback: function(value, index, values) {\n              if (isTicksCallback) {\n                return _this.ticksCallback(value, index, values);\n              }\n              return value;\n            }\n          }\n        }],\n        xAxes: [{\n          ticks: {\n            maxTicksLimit: 20\n          }\n        }]\n      }\n    };\n    this.setState({\n      data: data,\n      options: options\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let data = {\n      labels: nextProps.labels,\n      datasets: nextProps.filesData\n    };\n    this.setState({data: data});\n  }\n\n  titleCallback = (tooltipItem, data) => {\n    return data.datasets[tooltipItem.datasetIndex].label + ': ' + Utils.bytesToSize(tooltipItem.yLabel);\n  };\n\n  ticksCallback = (value, index, values) => {\n    return Utils.bytesToSize(value);\n  };\n\n  render() {\n\n    let { data, options } = this.state;\n    return (\n      <Line\n        data={data}\n        options={options}\n      />\n    );\n  }\n}\n\nStatisticChart.propTypes = propTypes;\n\nexport default StatisticChart;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nimport '../../../css/system-stat.css';\n\nclass StatisticFile extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.sysAdminStatisticFiles(startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        added = [],\n        deleted = [],\n        visited = [],\n        modified = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          added.push(item.added);\n          deleted.push(item.deleted);\n          modified.push(item.modified);\n          visited.push(item.visited);\n        });\n        let addedData = {\n          label: gettext('Added'),\n          data: added,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let visitedData = {\n          label: gettext('Visited'),\n          data: visited,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let modifiedData = {\n          label: gettext('Modified'),\n          data: modified,\n          borderColor: '#72c3fc',\n          backgroundColor: '#72c3fc'};\n        let deletedData = {\n          label: gettext('Deleted'),\n          data: deleted,\n          borderColor: '#f75356',\n          backgroundColor: '#f75356'};\n        filesData = [visitedData, addedData, modifiedData, deletedData];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n\n    return(\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"fileStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10}\n                isLegendStatus={true}\n                chartTitle={gettext('File Operations')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticFile;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass StatisticStorage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.sysAdminStatisticStorages(startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        totalStorage = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          totalStorage.push(item.total_storage);\n        });\n        let total_storage = {\n          label: gettext('Total Storage'),\n          data: totalStorage,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        filesData = [total_storage];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n    return(\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"storageStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10*1000*1000}\n                isTitleCallback={true}\n                isTicksCallback={true}\n                isLegendStatus={false}\n                chartTitle={gettext('Total Storage')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticStorage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n};\n\nclass TrafficTable extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { type, sortBy, sortOrder } = this.props;\n    const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n    return (\n      <table className=\"table-hover\">\n        <thead>\n          <tr>\n            <th width=\"16%\">{type == 'user' ? gettext('User') : gettext('Organization')}</th>\n            <th width=\"11%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'sync_file_upload')}>{gettext('Sync Upload')} {sortBy === 'sync_file_upload' && sortIcon}</div></th>\n            <th width=\"14%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'sync_file_download')}>{gettext('Sync Download')} {sortBy === 'sync_file_download' && sortIcon}</div></th>\n            <th width=\"11%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'web_file_upload')}>{gettext('Web Upload')} {sortBy === 'web_file_upload' && sortIcon}</div></th>\n            <th width=\"14%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'web_file_download')}>{gettext('Web Download')} {sortBy === 'web_file_download' && sortIcon}</div></th>\n            <th width=\"17%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'link_file_upload')}>{gettext('Share link upload')} {sortBy === 'link_file_upload' && sortIcon}</div></th>\n            <th width=\"17%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'link_file_download')}>{gettext('Share link download')} {sortBy === 'link_file_download' && sortIcon}</div></th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.props.children}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nTrafficTable.propTypes = propTypes;\n\nexport default TrafficTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot } from '../../../utils/constants';\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  userTrafficItem: PropTypes.object.isRequired,\n};\n\nclass TrafficTableBody extends React.Component {\n\n  trafficName = () => {\n    let { userTrafficItem, type } = this.props;\n    switch(type) {\n      case 'user':\n        if (userTrafficItem.name) {\n          return (\n            <a href={siteRoot + 'useradmin/info/' + userTrafficItem.email + '/'}>{userTrafficItem.name}</a>\n          );\n        }\n        return(<span>{'--'}</span>);\n      case 'org':\n        return(<span>{userTrafficItem.org_name}</span>);\n    }\n  };\n\n  render() {\n    let { userTrafficItem } = this.props;\n\n    let syncUploadSize = Utils.bytesToSize(userTrafficItem.sync_file_upload);\n    let syncDownloadSize = Utils.bytesToSize(userTrafficItem.sync_file_download);\n    let webUploadSize = Utils.bytesToSize(userTrafficItem.web_file_upload);\n    let webDownloadSize = Utils.bytesToSize(userTrafficItem.web_file_download);\n    let linkUploadSize = Utils.bytesToSize(userTrafficItem.link_file_upload);\n    let linkDownloadSize = Utils.bytesToSize(userTrafficItem.link_file_download);\n\n    return(\n      <tr>\n        <td>{this.trafficName()}</td>\n        <td>{syncUploadSize}</td>\n        <td>{syncDownloadSize}</td>\n        <td>{webUploadSize}</td>\n        <td>{webDownloadSize}</td>\n        <td>{linkUploadSize}</td>\n        <td>{linkDownloadSize}</td>\n      </tr>\n    );\n  }\n}\n\nTrafficTableBody.propTypes = propTypes;\n\nexport default TrafficTableBody;\n","import React, { Fragment } from 'react';\nimport { Input } from 'reactstrap';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport TrafficTable from './traffic-table';\nimport TrafficTableBody from './traffic-table-body';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport Paginator from '../../../components/paginator';\nimport Loading from '../../../components/loading';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass OrgsTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      orgTrafficList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      month: moment().format('YYYYMM'),\n      isLoading: false,\n      errorMessage: '',\n      sortBy: 'link_file_download',\n      sortOrder: 'desc'\n    };\n    this.initPage = 1;\n    this.initMonth = moment().format('YYYYMM');\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getTrafficList(this.initMonth, this.state.currentPage);\n    });\n  }\n\n  getPreviousPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage + 1);\n  };\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  };\n\n  handleKeyPress = (e) => {\n    let { month } = this.state;\n    if (e.key === 'Enter') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n      this.getTrafficList(month, this.initPage);\n      e.target.blur();\n      e.preventDefault();\n    }\n  };\n\n  getTrafficList = (month, page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    const orderBy = sortOrder == 'asc' ? sortBy : `${sortBy}_${sortOrder}`;\n    this.setState({isLoading: true, errorMessage: ''});\n    seafileAPI.sysAdminListOrgTraffic(month, page, perPage, orderBy).then(res => {\n      let orgTrafficList = res.data.org_monthly_traffic_list.slice(0);\n      this.setState({\n        month: month,\n        currentPage: page,\n        orgTrafficList: orgTrafficList,\n        hasNextPage: res.data.has_next_page,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  sortItems = (sortBy) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc'\n    }, () => {\n      const { month, currentPage } = this.state;\n      this.getTrafficList(month, currentPage);\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getTrafficList(this.initPage, this.initMonth));\n  };\n\n  render() {\n    const {\n      isLoading, errorMessage, orgTrafficList,\n      currentPage, hasNextPage, perPage,\n      sortBy, sortOrder\n    } = this.state;\n    return (\n      <Fragment>\n        <div className=\"d-flex align-items-center mt-4\">\n          <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n          <Input\n            className=\"statistic-reports-input\"\n            defaultValue={moment().format('YYYYMM')}\n            onChange={this.handleChange}\n            onKeyPress={this.handleKeyPress}\n          />\n          {errorMessage && <div className=\"error\">{errorMessage}</div>}\n        </div>\n        {isLoading && <Loading />}\n        {!isLoading &&\n          <TrafficTable type={'org'} sortItems={this.sortItems} sortBy={sortBy} sortOrder={sortOrder}>\n            {orgTrafficList.length > 0 && orgTrafficList.map((item, index) => {\n              return(\n                <TrafficTableBody\n                  key={index}\n                  userTrafficItem={item}\n                  type={'org'}\n                />\n              );\n            })}\n          </TrafficTable>\n        }\n        <Paginator\n          gotoPreviousPage={this.getPreviousPage}\n          gotoNextPage={this.getNextPage}\n          currentPage={currentPage}\n          hasNextPage={hasNextPage}\n          curPerPage={perPage}\n          resetPerPage={this.resetPerPage}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgsTraffic;\n","import React, { Fragment } from 'react';\nimport { Input } from 'reactstrap';\nimport TrafficTable from './traffic-table';\nimport TrafficTableBody from './traffic-table-body';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport Paginator from '../../../components/paginator';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass UsersTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      userTrafficList: [],\n      hasNextPage: false,\n      perPage: 25,\n      currentPage: 1,\n      month: moment().format('YYYYMM'),\n      isLoading: false,\n      errorMessage: '',\n      sortBy: 'link_file_download',\n      sortOrder: 'desc'\n    };\n    this.initPage = 1;\n    this.initMonth = moment().format('YYYYMM');\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getTrafficList(this.initMonth, this.state.currentPage);\n    });\n  }\n\n  getPreviousPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage + 1);\n  };\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  };\n\n  handleKeyPress = (e) => {\n    let { month } = this.state;\n    if (e.key === 'Enter') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n      this.getTrafficList(month, this.initPage);\n      e.target.blur();\n      e.preventDefault();\n    }\n  };\n\n  getTrafficList = (month, page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    const orderBy = sortOrder == 'asc' ? sortBy : `${sortBy}_${sortOrder}`;\n    this.setState({\n      isLoading: true,\n      errorMessage: ''\n    });\n    seafileAPI.sysAdminListUserTraffic(month, page, perPage, orderBy).then(res => {\n      let userTrafficList = res.data.user_monthly_traffic_list.slice(0);\n      this.setState({\n        month: month,\n        currentPage: page,\n        userTrafficList: userTrafficList,\n        hasNextPage: res.data.has_next_page,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  sortItems = (sortBy) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc'\n    }, () => {\n      const { month, currentPage } = this.state;\n      this.getTrafficList(month, currentPage);\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getTrafficList(this.initMonth, this.initPage));\n  };\n\n  render() {\n    const {\n      isLoading, errorMessage, userTrafficList,\n      currentPage, hasNextPage, perPage,\n      sortBy, sortOrder\n    } = this.state;\n    return (\n      <Fragment>\n        <div className=\"d-flex align-items-center mt-4\">\n          <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n          <Input\n            className=\"statistic-reports-input\"\n            defaultValue={moment().format('YYYYMM')}\n            onChange={this.handleChange}\n            onKeyPress={this.handleKeyPress}\n          />\n          {errorMessage && <div className=\"error\">{errorMessage}</div>}\n        </div>\n        {isLoading && <Loading />}\n        {!isLoading &&\n          <TrafficTable type={'user'} sortItems={this.sortItems} sortBy={sortBy} sortOrder={sortOrder}>\n            {userTrafficList.length > 0 && userTrafficList.map((item, index) => {\n              return(\n                <TrafficTableBody\n                  key={index}\n                  userTrafficItem={item}\n                  type={'user'}\n                />\n              );\n            })}\n          </TrafficTable>\n        }\n        <Paginator\n          gotoPreviousPage={this.getPreviousPage}\n          gotoNextPage={this.getNextPage}\n          currentPage={currentPage}\n          hasNextPage={hasNextPage}\n          curPerPage={perPage}\n          resetPerPage={this.resetPerPage}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default UsersTraffic;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport Loading from '../../../components/loading';\nimport OrgsTraffic from './statistic-traffic-orgs';\nimport UsersTraffic from './statistic-traffic-users';\nimport StatisticChart from './statistic-chart';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass StatisticTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      linkData: [],\n      syncData: [],\n      webData: [],\n      labels: [],\n      isLoading: true,\n      tabActive: 'system'\n    };\n  }\n\n  changeTabActive = activeName => {\n    this.setState({tabActive: activeName});\n  };\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    seafileAPI.sysAdminStatisticTraffic(startTime, endTime, groupBy).then((res) => {\n      let labels = [];\n      let total_upload = [],\n        total_download = [],\n        link_upload = [],\n        link_download = [],\n        sync_upload = [],\n        sync_download = [],\n        web_upload = [],\n        web_download = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          link_upload.push(item['link-file-upload']);\n          link_download.push(item['link-file-download']);\n          sync_upload.push(item['sync-file-upload']);\n          sync_download.push(item['sync-file-download']);\n          web_upload.push(item['web-file-upload']);\n          web_download.push(item['web-file-download']);\n          total_upload.push(item['link-file-upload'] + item['sync-file-upload'] + item['web-file-upload']);\n          total_download.push(item['link-file-download'] + item['sync-file-download'] + item['web-file-download']);\n        });\n        let linkUpload = {\n          label: gettext('Upload'),\n          data: link_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let linkDownload = {\n          label: gettext('Download'),\n          data: link_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let syncUpload = {\n          label: gettext('Upload'),\n          data: sync_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let syncDownload = {\n          label: gettext('Download'),\n          data: sync_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let webUpload = {\n          label: gettext('Upload'),\n          data: web_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let webDownload = {\n          label: gettext('Download'),\n          data: web_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let totalUpload = {\n          label: gettext('Upload'),\n          data: total_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let totalDownload = {\n          label: gettext('Download'),\n          data: total_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let linkData = [linkUpload, linkDownload];\n        let syncData = [syncUpload, syncDownload];\n        let webData = [webUpload, webDownload];\n        let filesData = [totalUpload, totalDownload];\n        this.setState({\n          linkData: linkData,\n          syncData: syncData,\n          webData: webData,\n          filesData: filesData,\n          labels: labels,\n          isLoading: false\n        });\n      }\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  renderCommonTool = () => {\n    let { tabActive } = this.state;\n    if (tabActive === 'system') {\n      return (\n        <StatisticCommonTool getActiviesFiles={this.getActiviesFiles}>\n          <div className=\"statistic-traffic-tab\">\n            <div className={`statistic-traffic-tab-item ${tabActive === 'system' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'system')}>{gettext('System')}</div>\n            <div className={`statistic-traffic-tab-item ${tabActive === 'user' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'user')}>{gettext('Users')}</div>\n            <div className={`statistic-traffic-tab-item ${tabActive === 'organizations' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'organizations')}>{gettext('Organizations')}</div>\n          </div>\n        </StatisticCommonTool>\n      );\n    }\n    return (\n      <div className=\"statistic-traffic-tab\">\n        <div className={`statistic-traffic-tab-item ${tabActive === 'system' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'system')}>{gettext('System')}</div>\n        <div className={`statistic-traffic-tab-item ${tabActive === 'user' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'user')}>{gettext('Users')}</div>\n        <div className={`statistic-traffic-tab-item ${tabActive === 'organizations' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'organizations')}>{gettext('Organizations')}</div>\n      </div>\n    );\n  };\n\n  render() {\n    let { labels, filesData, linkData, syncData, webData, isLoading, tabActive } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"trafficStatistic\" />\n          <div className=\"cur-view-content\">\n            {this.renderCommonTool()}\n            {isLoading && <Loading />}\n            {!isLoading && tabActive === 'system' &&\n              <div className=\"statistic-traffic-chart-container\">\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={filesData}\n                      chartTitle={gettext('Total Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={webData}\n                      chartTitle={gettext('Web Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={linkData}\n                      chartTitle={gettext('Share Link Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={syncData}\n                      chartTitle={gettext('Sync Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n              </div>\n            }\n            {!isLoading && tabActive === 'user' &&\n              <UsersTraffic />\n            }\n            {!isLoading && tabActive === 'organizations' &&\n              <OrgsTraffic />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticTraffic;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass StatisticUsers extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true,\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.sysAdminStatisticActiveUsers(startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        count = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          count.push(item.count);\n        });\n        let userCount = {\n          label: gettext('Active Users'),\n          data: count,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        filesData = [userCount];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"usersStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10}\n                isLegendStatus={false}\n                chartTitle={gettext('Active Users')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticUsers;\n","import React, { Fragment } from 'react';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport moment from 'moment';\nimport StatisticNav from './statistic-nav';\nimport { Button, Input } from 'reactstrap';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nclass StatisticReports extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      month: moment().format('YYYYMM'),\n      errorMessage: ''\n    };\n  }\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  };\n\n  onGenerateReports = (type) => {\n    let url = siteRoot + 'api/v2.1/admin/statistics/';\n    let { month } = this.state;\n    if (!month) {\n      let errorMessage = gettext('It is required.');\n      this.setState({\n        errorMessage: errorMessage\n      });\n      return;\n    }\n    if (type === 'month') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n    }\n    switch(type) {\n      case 'month':\n        url += 'system-user-traffic/excel/?month=' + month;\n        break;\n      case 'storage':\n        url += 'system-user-storage/excel/?';\n        break;\n    }\n    this.setState({\n      errorMessage: ''\n    });\n    window.location.href = url;\n  };\n\n  render() {\n\n    let { errorMessage } = this.state;\n    return(\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"reportsStatistic\" />\n          <div className=\"cur-view-content\">\n            <div className=\"statistic-reports\">\n              <div className=\"statistic-reports-title\">{gettext('Monthly User Traffic')}</div>\n              <div className=\"d-flex align-items-center mt-4\">\n                <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n                <Input className=\"statistic-reports-input\" defaultValue={moment().format('YYYYMM')} onChange={this.handleChange} />\n                <Button className=\"statistic-reports-submit operation-item\" onClick={this.onGenerateReports.bind(this, 'month')}>{gettext('Create Report')}</Button>\n              </div>\n              {errorMessage && <div className=\"error\">{errorMessage}</div>}\n            </div>\n            <div className=\"statistic-reports\">\n              <div className=\"statistic-reports-title\">{gettext('User Storage')}</div>\n              <Button className=\"mt-4 operation-item\" onClick={this.onGenerateReports.bind(this, 'storage')}>{gettext('Create Report')}</Button>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticReports;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext, isPro } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'desktop', urlPart:'desktop-devices', text: gettext('Desktop')},\n      {name: 'mobile', urlPart:'mobile-devices', text: gettext('Mobile')}\n    ];\n    if (isPro) {\n      this.navItems.push({name: 'errors', urlPart:'device-errors', text: gettext('Errors')});\n    }\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport SysAdminUnlinkDevice from '../../../components/dialog/sysadmin-dialog/sysadmin-unlink-device-dialog';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageDevicesList = () => {\n    this.props.getDevicesListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageDevicesList = () => {\n    this.props.getDevicesListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No connected devices')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"19%\">{gettext('User')}</th>\n                <th width=\"19%\">{gettext('Platform')}{' / '}{gettext('Version')}</th>\n                <th width=\"19%\">{gettext('Device Name')}</th>\n                <th width=\"19%\">{gettext('IP')}</th>\n                <th width=\"19%\">{gettext('Last Access')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item} />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageDevicesList}\n            gotoNextPage={this.getNextPageDevicesList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getDevicesListByPage: PropTypes.func.isRequired,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      unlinked: false,\n      isOpIconShown: false,\n      isUnlinkDeviceDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseOut = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  handleUnlink = (e) => {\n    e.preventDefault();\n    if (this.props.item.is_desktop_client) {\n      this.toggleUnlinkDeviceDialog();\n    } else {\n      this.unlinkDevice(true);\n    }\n  };\n\n  toggleUnlinkDeviceDialog = () => {\n    this.setState({isUnlinkDeviceDialogOpen: !this.state.isUnlinkDeviceDialogOpen});\n  };\n\n  unlinkDevice = (deleteFiles) => {\n    const { platform, device_id, user } = this.props.item;\n    seafileAPI.sysAdminUnlinkDevice(platform, device_id, user, deleteFiles).then((res) => {\n      this.setState({unlinked: true});\n      let message = gettext('Successfully unlinked the device.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const item = this.props.item;\n    const { unlinked, isUnlinkDeviceDialogOpen, isOpIconShown } = this.state;\n\n    if (unlinked) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td>{item.user_name}</td>\n          <td>{item.platform}{' / '}{item.client_version}</td>\n          <td>{item.device_name}</td>\n          <td>{item.last_login_ip}</td>\n          <td>\n            <span title={moment(item.last_accessed).format('llll')}>{moment(item.last_accessed).fromNow()}</span>\n          </td>\n          <td>\n            <a href=\"#\" className={`sf2-icon-delete action-icon ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Unlink')} onClick={this.handleUnlink}></a>\n          </td>\n        </tr>\n        {isUnlinkDeviceDialogOpen &&\n          <SysAdminUnlinkDevice\n            unlinkDevice={this.unlinkDevice}\n            toggleDialog={this.toggleUnlinkDeviceDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass DevicesByPlatform extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      devicesData: {},\n      pageInfo: {},\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getDevicesListByPage(this.state.currentPage);\n    });\n  }\n\n  getDevicesListByPage = (page) => {\n    let platform = this.props.devicesPlatform;\n    let per_page = this.state.perPage;\n    seafileAPI.sysAdminListDevices(platform, page, per_page).then((res) => {\n      this.setState({\n        devicesData: res.data.devices,\n        pageInfo: res.data.page_info,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getDevicesListByPage(1);\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"cur-view-content\">\n        <Content\n          loading={this.state.loading}\n          errorMsg={this.state.errorMsg}\n          items={this.state.devicesData}\n          getDevicesListByPage={this.getDevicesListByPage}\n          curPerPage={this.state.perPage}\n          resetPerPage={this.resetPerPage}\n          pageInfo={this.state.pageInfo}\n        />\n      </div>\n    );\n  }\n}\n\nDevicesByPlatform.propTypes = {\n  devicesPlatform: PropTypes.string.isRequired,\n};\n\nexport default DevicesByPlatform;\n","import React, { Component, Fragment } from 'react';\nimport DevicesNav from './devices-nav';\nimport DevicesByPlatform from './devices-by-platform';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass DesktopDevices extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"desktop\" />\n            <DevicesByPlatform\n              devicesPlatform={'desktop'}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default DesktopDevices;\n","import React, { Component, Fragment } from 'react';\nimport DevicesNav from './devices-nav';\nimport DevicesByPlatform from './devices-by-platform';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass MobileDevices extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"mobile\" />\n            <DevicesByPlatform\n              devicesPlatform={'mobile'}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default MobileDevices;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot } from '../../utils/constants';\n\nconst propTypes = {\n  email: PropTypes.string,\n  name: PropTypes.string.isRequired\n};\n\nclass UserLink extends Component {\n\n  render() {\n    return <Link to={`${siteRoot}sys/users/${encodeURIComponent(this.props.email)}/`}>{this.props.name}</Link>;\n  }\n}\n\nUserLink.propTypes = propTypes;\n\nexport default UserLink;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport { Link } from '@gatsbyjs/reach-router';\nimport DevicesNav from './devices-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport Paginator from '../../../components/paginator';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageDeviceErrorsList = () => {\n    this.props.getDeviceErrorsListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageDeviceErrorsList = () => {\n    this.props.getDeviceErrorsListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No sync errors')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"16%\">{gettext('User')}</th>\n                <th width=\"20%\">{gettext('Device')}{' / '}{gettext('Version')}</th>\n                <th width=\"16%\">{gettext('IP')}</th>\n                <th width=\"16%\">{gettext('Library')}</th>\n                <th width=\"16%\">{gettext('Error')}</th>\n                <th width=\"16%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item} />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageDeviceErrorsList}\n            gotoNextPage={this.getNextPageDeviceErrorsList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getDeviceErrorsListByPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseOut = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  render() {\n    let item = this.props.item;\n    return (\n      <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{item.device_name}{' / '}{item.client_version}</td>\n        <td>{item.device_ip}</td>\n        <td><Link to={`${siteRoot}sysadmin/#libs/${item.repo_id}`}>{item.repo_name}</Link></td>\n        <td>{item.error_msg}</td>\n        <td>\n          <span className=\"item-meta-info\" title={moment(item.last_accessed).format('llll')}>{moment(item.error_time).fromNow()}</span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass DeviceErrors extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      devicesErrors: [],\n      isCleanBtnShown: false,\n      pageInfo: {},\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getDeviceErrorsListByPage(this.state.currentPage);\n    });\n  }\n\n  getDeviceErrorsListByPage = (page) => {\n    let per_page = this.state.perPage;\n    seafileAPI.sysAdminListDeviceErrors(page, per_page).then((res) => {\n      this.setState({\n        loading: false,\n        devicesErrors: res.data.device_errors,\n        pageInfo: res.data.page_info,\n        isCleanBtnShown: res.data.length > 0\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  clean = () => {\n    seafileAPI.sysAdminClearDeviceErrors().then((res) => {\n      this.setState({\n        devicesErrors: [],\n        isCleanBtnShown: false\n      });\n      let message = gettext('Successfully cleaned all errors.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getDeviceErrorsListByPage(1);\n    });\n  };\n  render() {\n    return (\n      <Fragment>\n        {this.state.isCleanBtnShown ? (\n          <MainPanelTopbar {...this.props}>\n            <Button className=\"operation-item\" onClick={this.clean}>{gettext('Clean')}</Button>\n          </MainPanelTopbar>\n        ) : (\n          <MainPanelTopbar {...this.props} />\n        )}\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"errors\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.devicesErrors}\n                getDeviceErrorsListByPage={this.getDeviceErrorsListByPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                pageInfo={this.state.pageInfo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default DeviceErrors;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  updateQuota: PropTypes.func.isRequired\n};\n\nclass SetQuotaDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      quota: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleQuotaChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      quota: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateQuota(this.state.quota.trim());\n    this.toggle();\n  };\n\n  render() {\n    const { quota, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Set Quota')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <InputGroup>\n                <Input\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={quota}\n                  onKeyDown={this.handleKeyDown}\n                  onChange={this.handleQuotaChange}\n                />\n                <InputGroupAddon addonType=\"append\">\n                  <InputGroupText>MB</InputGroupText>\n                </InputGroupAddon>\n              </InputGroup>\n              <p className=\"small text-secondary mt-2 mb-2\">\n                {gettext('An integer that is greater than or equal to 0.')}\n                <br />\n                {gettext('Tip: 0 means default limit')}\n              </p>\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetQuotaDialog.propTypes = propTypes;\n\nexport default SetQuotaDialog;\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport { gettext, siteRoot } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  importUserInBatch: PropTypes.func.isRequired,\n};\n\nclass SysAdminImportUserDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorMsg: ''\n    };\n    this.fileInputRef = React.createRef();\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  openFileInput = () => {\n    this.fileInputRef.current.click();\n  };\n\n  uploadFile = (e) => {\n    // no file selected\n    if (!this.fileInputRef.current.files.length) {\n      return;\n    }\n    // check file extension\n    let fileName = this.fileInputRef.current.files[0].name;\n    if(fileName.substr(fileName.lastIndexOf('.') + 1) != 'xlsx') {\n      this.setState({\n        errorMsg: gettext('Please choose a .xlsx file.')\n      });\n      return;\n    }\n    const file = this.fileInputRef.current.files[0];\n    this.props.importUserInBatch(file);\n    this.toggle();\n  };\n\n  render() {\n    let { errorMsg } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Import users from a .xlsx file')}</ModalHeader>\n        <ModalBody>\n          <p><a className=\"text-secondary small\" href={`${siteRoot}useradmin/batchadduser/example/`}>{gettext('Download an example file')}</a></p>\n          <button className=\"btn btn-outline-primary\" onClick={this.openFileInput}>{gettext('Upload file')}</button>\n          <input className=\"d-none\" type=\"file\" onChange={this.uploadFile} ref={this.fileInputRef} />\n          {errorMsg && <Alert color=\"danger\">{errorMsg}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminImportUserDialog.propTypes = propTypes;\n\nexport default SysAdminImportUserDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  roleOptions: PropTypes.array.isRequired,\n  currentRole: PropTypes.string.isRequired,\n  onRoleChanged: PropTypes.func.isRequired\n};\n\nclass SysAdminUserRoleEditor extends React.Component {\n\n  translateRoles = (role) => {\n    switch (role) {\n      case 'default':\n        return gettext('Default');\n      case 'guest':\n        return gettext('Guest');\n      default:\n        return role;\n    }\n  };\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.roleOptions}\n        currentOption={this.props.currentRole}\n        onOptionChanged={this.props.onRoleChanged}\n        translateOption={this.translateRoles}\n      />\n    );\n  }\n}\n\nSysAdminUserRoleEditor.propTypes = propTypes;\n\nexport default SysAdminUserRoleEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Label, Input, InputGroup, InputGroupAddon } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport SysAdminUserRoleEditor from '../../../components/select-editor/sysadmin-user-role-editor';\n\nconst propTypes = {\n  availableRoles: PropTypes.array.isRequired,\n  dialogTitle: PropTypes.string.isRequired,\n  showRole: PropTypes.bool.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  addUser: PropTypes.func.isRequired\n};\n\nclass SysAdminAddUserDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorMsg: '',\n      isPasswordVisible: false,\n      password: '',\n      passwordAgain: '',\n      email: '',\n      name: '',\n      role: 'default',\n      isSubmitBtnActive: false\n    };\n  }\n\n  checkSubmitBtnActive = () => {\n    const { email, password, passwordAgain } = this.state;\n    let btnActive = true;\n    if (email.trim() &&\n      password.trim() &&\n      passwordAgain.trim()) {\n      btnActive = true;\n    } else {\n      btnActive = false;\n    }\n    this.setState({\n      isSubmitBtnActive: btnActive\n    });\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  togglePasswordVisible = () => {\n    this.setState({isPasswordVisible: !this.state.isPasswordVisible});\n  };\n\n  inputPassword = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      password: passwd,\n      errorMsg: ''\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputPasswordAgain = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      passwordAgain: passwd,\n      errorMsg: ''\n    }, this.checkSubmitBtnActive);\n  };\n\n  generatePassword = () => {\n    let val = Utils.generatePassword(8);\n    this.setState({\n      password: val,\n      passwordAgain: val\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputEmail = (e) => {\n    let email = e.target.value;\n    this.setState({\n      email: email\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputName = (e) => {\n    let name = e.target.value;\n    this.setState({\n      name: name\n    });\n  };\n\n  updateRole = (role) => {\n    this.setState({\n      role: role\n    });\n  };\n\n  handleSubmit = () => {\n    const { email, password, passwordAgain, name, role } = this.state;\n    if (password != passwordAgain) {\n      this.setState({errorMsg: gettext('Passwords do not match.')});\n      return;\n    }\n    let data = {\n      email: email.trim(),\n      name: name.trim(),\n      password: password.trim()\n    };\n    if (this.props.showRole) {\n      data.role = role;\n    }\n    this.props.addUser(data);\n    this.toggle();\n  };\n\n  render() {\n    const { dialogTitle, showRole } = this.props;\n    const {\n      errorMsg, isPasswordVisible,\n      email, name, role, password, passwordAgain,\n      isSubmitBtnActive\n    } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{dialogTitle || gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <Form autoComplete=\"off\">\n            <FormGroup>\n              <Label>{gettext('Email')}</Label>\n              <Input value={email} onChange={this.inputEmail} />\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Name(optional)')}</Label>\n              <Input type=\"text\" value={name} onChange={this.inputName} />\n            </FormGroup>\n            {showRole &&\n            <FormGroup>\n              <Label>\n                {gettext('Role')}\n                <span className=\"small text-secondary ml-1 fas fa-question-circle\" title={gettext('You can also add a user as a guest, who will not be allowed to create libraries and groups.')}></span>\n              </Label>\n              <SysAdminUserRoleEditor\n                isTextMode={false}\n                isEditIconShow={false}\n                currentRole={role}\n                roleOptions={this.props.availableRoles}\n                onRoleChanged={this.updateRole}\n              />\n            </FormGroup>\n            }\n            <FormGroup>\n              <Label>{gettext('Password')}</Label>\n              <InputGroup>\n                <Input autoComplete=\"new-password\" type={isPasswordVisible ? 'text' : 'password'} value={password || ''} onChange={this.inputPassword} />\n                <InputGroupAddon addonType=\"append\">\n                  <Button className=\"mt-0\" onClick={this.togglePasswordVisible}><i className={`link-operation-icon fas ${this.state.isPasswordVisible ? 'fa-eye': 'fa-eye-slash'}`}></i></Button>\n                  <Button className=\"mt-0\" onClick={this.generatePassword}><i className=\"link-operation-icon fas fa-magic\"></i></Button>\n                </InputGroupAddon>\n              </InputGroup>\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Password again')}</Label>\n              <Input type={isPasswordVisible ? 'text' : 'password'} value={passwordAgain || ''} onChange={this.inputPasswordAgain} />\n            </FormGroup>\n          </Form>\n          {errorMsg && <Alert color=\"danger\">{errorMsg}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddUserDialog.propTypes = propTypes;\n\nexport default SysAdminAddUserDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport UserSelect from '../../user-select';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addAdminInBatch: PropTypes.func.isRequired,\n};\n\nclass SysAdminBatchAddAdminDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      options: null,\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleSelectChange = (options) => {\n    this.setState({\n      options: options,\n      isSubmitBtnActive: options.length > 0\n    });\n  };\n\n  handleSubmit = () => {\n    this.props.addAdminInBatch(this.state.options.map(item => item.email));\n    this.toggle();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add Admin')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            isMulti={true}\n            className=\"reviewer-select\"\n            placeholder={gettext('Search users...')}\n            onSelectChange={this.handleSelectChange}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminBatchAddAdminDialog.propTypes = propTypes;\n\nexport default SysAdminBatchAddAdminDialog;\n","class SysAdminUser {\n  constructor(object) {\n    this.email = object.email;\n    this.name = object.name;\n    this.contact_email = object.contact_email;\n    this.login_id = object.login_id;\n    this.last_login = object.last_login;\n    this.last_access_time = object.last_access_time;\n    this.create_time = object.create_time;\n    this.is_active = object.is_active;\n    this.is_staff = object.is_staff;\n    this.reference_id = object.reference_id;\n    this.department = object.department;\n    this.quota_total = object.quota_total;\n    this.quota_usage = object.quota_usage;\n    this.role = object.role;\n    this.institution = object.institution;\n    if (object.org_id) {\n      this.org_id = object.org_id;\n    }\n    if (object.org_name) {\n      this.org_name = object.org_name;\n    }\n    this.isSelected = false;\n  }\n}\n\nexport default SysAdminUser;\n","\nclass SysAdminAdminUser {\n  constructor(object) {\n    this.email = object.email;\n    this.name = object.name;\n    this.contact_email = object.contact_email;\n    this.login_id = object.login_id;\n    this.last_login = object.last_login;\n    this.last_access_time = object.last_access_time;\n    this.create_time = object.create_time;\n    this.is_active = object.is_active;\n    this.is_staff = object.is_staff;\n    this.quota_total = object.quota_total;\n    this.quota_usage = object.quota_usage;\n    this.admin_role = object.admin_role;\n    this.isSelected = false;\n  }\n}\n\nexport default SysAdminAdminUser;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  placeholder: PropTypes.string.isRequired,\n  submit: PropTypes.func.isRequired\n};\n\nclass Search extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      value: e.target.value\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key == 'Enter') {\n      e.preventDefault();\n      this.handleSubmit();\n    }\n  };\n\n  handleSubmit = () => {\n    const value = this.state.value.trim();\n    if (!value) {\n      return false;\n    }\n    this.props.submit(value);\n  };\n\n  render() {\n    return (\n      <div className=\"input-icon\">\n        <i className=\"d-flex input-icon-addon fas fa-search\"></i>\n        <input\n          type=\"text\"\n          className=\"form-control search-input h-6 mr-1\"\n          style={{width: '17rem'}}\n          placeholder={this.props.placeholder}\n          value={this.state.value}\n          onChange={this.handleInputChange}\n          onKeyDown={this.handleKeyDown}\n          autoComplete=\"off\"\n        />\n      </div>\n    );\n  }\n}\n\nSearch.propTypes = propTypes;\n\nexport default Search;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext, haveLDAP, isDefaultAdmin } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'database', urlPart: 'users', text: gettext('Database')}\n    ];\n    if (haveLDAP) {\n      this.navItems.push(\n        {name: 'ldap', urlPart: 'users/ldap', text: gettext('LDAP')},\n        {name: 'ldap-imported', urlPart: 'users/ldap-imported', text: gettext('LDAP(imported)')}\n      );\n    }\n    if (isDefaultAdmin) {\n      this.navItems.push(\n        {name: 'admin', urlPart: 'users/admins', text: gettext('Admin')}\n      );\n    }\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  statusOptions: PropTypes.array.isRequired,\n  currentStatus: PropTypes.string.isRequired,\n  onStatusChanged: PropTypes.func.isRequired\n};\n\nclass SysAdminUserStatusEditor extends React.Component {\n\n  translateStatus = (status) => {\n    switch (status) {\n      case 'active':\n        return gettext('Active');\n      case 'inactive':\n        return gettext('Inactive');\n    }\n  };\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.statusOptions}\n        currentOption={this.props.currentStatus}\n        onOptionChanged={this.props.onStatusChanged}\n        translateOption={this.translateStatus}\n      />\n    );\n  }\n}\n\nSysAdminUserStatusEditor.propTypes = propTypes;\n\nexport default SysAdminUserStatusEditor;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, username, gettext, multiInstitution, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport SysAdminUserStatusEditor from '../../../components/select-editor/sysadmin-user-status-editor';\nimport SysAdminUserRoleEditor from '../../../components/select-editor/sysadmin-user-role-editor';\nimport SelectEditor from '../../../components/select-editor/select-editor';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport SysAdminUserSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\n\nconst { availableRoles, availableAdminRoles, institutions } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  sortByQuotaUsage = (e) => {\n    e.preventDefault();\n    this.props.sortByQuotaUsage();\n  };\n\n  render() {\n    const {\n      isAdmin, loading, errorMsg, items, isAllUsersSelected,\n      curPerPage, hasNextPage, currentPage,\n      sortBy, sortOrder\n    } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No users')}</h2>\n        </EmptyTip>\n      );\n\n\n      let columns = [];\n\n      let sortIcon;\n      if (sortBy == '') {\n        // initial sort icon\n        sortIcon = <span className=\"fas fa-sort\"></span>;\n      } else {\n        sortIcon = <span className={`fas ${sortOrder == 'asc' ? 'fa-caret-up' : 'fa-caret-down'}`}></span>;\n      }\n      const spaceText = gettext('Space Used');\n      const spaceEl =\n        sortBy != undefined ? // only offer 'sort' for 'DB' & 'LDAPImported' users\n          <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByQuotaUsage}>{spaceText} {sortIcon}</a> :\n          spaceText;\n      const colSpaceText = <Fragment>{spaceEl}{` / ${gettext('Quota')}`}</Fragment>;\n\n      const colNameText = `${gettext('Name')} / ${gettext('Contact Email')}`;\n      const colCreatedText = `${gettext('Created At')} / ${gettext('Last Login')} / ${gettext('Last Access')}`;\n      if (isPro) {\n        columns.push(\n          {width: '20%', text: colNameText},\n          {width: '15%', text: gettext('Status')},\n          {width: '15%', text: gettext('Role')}\n        );\n      } else {\n        columns.push(\n          {width: '30%', text: colNameText},\n          {width: '20%', text: gettext('Status')}\n        );\n      }\n      if (multiInstitution && !isAdmin) {\n        columns.push(\n          {width: '14%', text: colSpaceText},\n          {width: '14%', text: gettext('Institution')},\n          {width: '14%', text: colCreatedText},\n          {width: '5%', text: ''}\n        );\n      } else {\n        columns.push(\n          {width: '20%', text: colSpaceText},\n          {width: '22%', text: colCreatedText},\n          {width: '5%', text: ''}\n        );\n      }\n\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"3%\" className=\"pl-2\">\n                  <input type=\"checkbox\" className=\"vam\" onChange={this.props.toggleSelectAllUsers} checked={isAllUsersSelected} />\n                </th>\n                {columns.map((item, index) => {\n                  return <th width={item.width} key={index}>{item.text}</th>;\n                })}\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  updateUser={this.props.updateUser}\n                  deleteUser={this.props.deleteUser}\n                  updateAdminRole={this.props.updateAdminRole}\n                  revokeAdmin={this.props.revokeAdmin}\n                  onUserSelected={this.props.onUserSelected}\n                  isAdmin={this.props.isAdmin}\n                  isLDAPImported={this.props.isLDAPImported}\n                />);\n              })}\n            </tbody>\n          </table>\n          {(!this.props.isAdmin && !this.props.isSearchResult) &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool,\n  errorMsg: PropTypes.string,\n  items: PropTypes.array,\n  deleteItem: PropTypes.func,\n  isAdmin: PropTypes.bool,\n  isLDAPImported: PropTypes.bool,\n  isSearchResult: PropTypes.bool,\n  sortBy: PropTypes.string,\n  sortByQuotaUsage: PropTypes.func,\n  getListByPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  toggleSelectAllUsers: PropTypes.func,\n  isAllUsersSelected: PropTypes.bool,\n  resetPerPage: PropTypes.func,\n  updateUser: PropTypes.func,\n  deleteUser: PropTypes.func,\n  updateAdminRole: PropTypes.func,\n  revokeAdmin: PropTypes.func,\n  onUserSelected: PropTypes.func,\n  curPerPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n  sortOrder: PropTypes.string,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isSetQuotaDialogOpen: false,\n      isDeleteUserDialogOpen: false,\n      isResetUserPasswordDialogOpen: false,\n      isRevokeAdminDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  };\n\n  toggleDeleteUserDialog = () => {\n    this.setState({isDeleteUserDialogOpen: !this.state.isDeleteUserDialogOpen});\n  };\n\n  toggleResetUserPasswordDialog = () => {\n    this.setState({isResetUserPasswordDialogOpen: !this.state.isResetUserPasswordDialogOpen});\n  };\n\n  toggleRevokeAdminDialog = () => {\n    this.setState({isRevokeAdminDialogOpen: !this.state.isRevokeAdminDialogOpen});\n  };\n\n  onUserSelected = () => {\n    this.props.onUserSelected(this.props.item);\n  };\n\n  updateStatus= (value) => {\n    const isActive = value == 'active';\n    if (isActive) {\n      toaster.notify(gettext('It may take some time, please wait.'));\n    }\n    this.props.updateUser(this.props.item.email, 'is_active', isActive);\n  };\n\n  updateRole = (value) => {\n    this.props.updateUser(this.props.item.email, 'role', value);\n  };\n\n  updateAdminRole = (value) => {\n    this.props.updateAdminRole(this.props.item.email, value);\n  };\n\n  translateAdminRole = (role) => {\n    switch (role) {\n      case 'default_admin':\n        return gettext('Default Admin');\n      case 'system_admin':\n        return gettext('System Admin');\n      case 'daily_admin':\n        return gettext('Daily Admin');\n      case 'audit_admin':\n        return gettext('Audit Admin');\n      default:\n        return role;\n    }\n  };\n\n  updateInstitution = (value) => {\n    this.props.updateUser(this.props.item.email, 'institution', value);\n  };\n\n  translateInstitution = (inst) => {\n    return inst;\n  };\n\n  updateQuota = (value) => {\n    this.props.updateUser(this.props.item.email, 'quota_total', value);\n  };\n\n  deleteUser = () => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    this.props.deleteUser(this.props.item.email, this.props.item.name);\n  };\n\n  resetPassword = () => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    seafileAPI.sysAdminResetUserPassword(this.props.item.email).then(res => {\n      toaster.success(res.data.reset_tip);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  revokeAdmin = () => {\n    const { item } = this.props;\n    this.props.revokeAdmin(item.email, item.name);\n  };\n\n  getMenuOperations = () => {\n    const {\n      isAdmin, isLDAPImported,\n      isSearchResult, item\n    } = this.props;\n    let list = ['Delete'];\n    if (!isLDAPImported ||\n      (isSearchResult && item.source == 'db')) {\n      list.push('Reset Password');\n    }\n    if (isAdmin) {\n      list = ['Revoke Admin'];\n    }\n    return list;\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Reset Password':\n        translateResult = gettext('Reset Password');\n        break;\n      case 'Revoke Admin':\n        translateResult = gettext('Revoke Admin');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteUserDialog();\n        break;\n      case 'Reset Password':\n        this.toggleResetUserPasswordDialog();\n        break;\n      case 'Revoke Admin':\n        this.toggleRevokeAdminDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  render() {\n    const { item, isAdmin } = this.props;\n    const {\n      isOpIconShown,\n      isSetQuotaDialogOpen,\n      isDeleteUserDialogOpen,\n      isResetUserPasswordDialogOpen,\n      isRevokeAdminDialogOpen\n    } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n    const resetPasswordDialogMsg = gettext('Are you sure you want to reset the password of {placeholder} ?').replace('{placeholder}', itemName);\n    const revokeAdminDialogMsg = gettext('Are you sure you want to revoke the admin permission of {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td className=\"pl-2\">\n            <input type=\"checkbox\" className=\"vam\" onChange={this.onUserSelected} checked={item.isSelected} />\n          </td>\n          <td>\n            <UserLink email={item.email} name={item.name} />\n            {item.contact_email &&\n              <Fragment>\n                <br />\n                {item.contact_email}\n              </Fragment>}\n            {item.org_id &&\n              <Fragment>\n                <br />\n                <Link to={`${siteRoot}sys/organizations/${item.org_id}/info/`}>({item.org_name})</Link>\n              </Fragment>\n            }\n          </td>\n          <td>\n            <SysAdminUserStatusEditor\n              isTextMode={true}\n              isEditIconShow={isOpIconShown}\n              currentStatus={item.is_active ? 'active' : 'inactive'}\n              statusOptions={['active', 'inactive']}\n              onStatusChanged={this.updateStatus}\n            />\n          </td>\n          {isPro &&\n          <td>\n            {isAdmin ?\n              <SelectEditor\n                isTextMode={true}\n                isEditIconShow={isOpIconShown}\n                options={availableAdminRoles}\n                currentOption={item.admin_role}\n                onOptionChanged={this.updateAdminRole}\n                translateOption={this.translateAdminRole}\n              /> :\n              <SysAdminUserRoleEditor\n                isTextMode={true}\n                isEditIconShow={isOpIconShown}\n                currentRole={item.role}\n                roleOptions={availableRoles}\n                onRoleChanged={this.updateRole}\n              />\n            }\n          </td>\n          }\n          <td>\n            {`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}\n            <span\n              title={gettext('Edit')}\n              className={`fa fa-pencil-alt attr-action-icon ${isOpIconShown ? '' : 'invisible'}`}\n              onClick={this.toggleSetQuotaDialog}>\n            </span>\n          </td>\n          {(multiInstitution && !isAdmin) &&\n            <td>\n              <SelectEditor\n                isTextMode={true}\n                isEditIconShow={isOpIconShown && institutions.length > 0}\n                options={institutions}\n                currentOption={item.institution}\n                onOptionChanged={this.updateInstitution}\n                translateOption={this.translateInstitution}\n              />\n            </td>\n          }\n          <td>\n            {`${item.create_time ? moment(item.create_time).format('YYYY-MM-DD HH:mm') : '--'} /`}\n            <br />\n            {`${item.last_login ? moment(item.last_login).fromNow() : '--'}`}\n            <br />\n            {`${item.last_access_time ? moment(item.last_access_time).fromNow() : '--'}`}\n          </td>\n          <td>\n            {(item.email != username && isOpIconShown) &&\n            <OpMenu\n              operations={this.getMenuOperations()}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isSetQuotaDialogOpen &&\n          <SysAdminUserSetQuotaDialog\n            toggle={this.toggleSetQuotaDialog}\n            updateQuota={this.updateQuota}\n          />\n        }\n        {isDeleteUserDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete User')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteUser}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteUserDialog}\n          />\n        }\n        {isResetUserPasswordDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Reset Password')}\n            message={resetPasswordDialogMsg}\n            executeOperation={this.resetPassword}\n            confirmBtnText={gettext('Reset')}\n            toggleDialog={this.toggleResetUserPasswordDialog}\n          />\n        }\n        {isRevokeAdminDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Revoke Admin')}\n            message={revokeAdminDialogMsg}\n            executeOperation={this.revokeAdmin}\n            confirmBtnText={gettext('Revoke')}\n            toggleDialog={this.toggleRevokeAdminDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object,\n  isItemFreezed: PropTypes.bool,\n  isAdmin: PropTypes.bool,\n  isLDAPImported: PropTypes.bool,\n  onFreezedItem: PropTypes.func,\n  onUnfreezedItem: PropTypes.func,\n  updateUser: PropTypes.func,\n  deleteUser: PropTypes.func,\n  updateAdminRole: PropTypes.func,\n  revokeAdmin: PropTypes.func,\n  onUserSelected: PropTypes.func,\n  isSearchResult: PropTypes.bool,\n};\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, gettext, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminUserSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport SysAdminImportUserDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-import-user-dialog';\nimport SysAdminAddUserDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-user-dialog';\nimport SysAdminBatchAddAdminDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-batch-add-admin-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminUser from '../../../models/sysadmin-user';\nimport SysAdminAdminUser from '../../../models/sysadmin-admin-user';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport UsersNav from './users-nav';\nimport Content from './users-content';\n\nconst { availableRoles } = window.sysadmin.pageOptions;\n\nconst propTypes = {\n  isAdmin: PropTypes.bool,\n  isLDAPImported: PropTypes.bool\n};\n\nclass Users extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userList: [],\n      hasNextPage: false,\n      currentPage: 1,\n      perPage: 25,\n      hasUserSelected: false,\n      selectedUserList: [],\n      isAllUsersSelected: false,\n      isImportUserDialogOpen: false,\n      isAddUserDialogOpen: false,\n      isBatchSetQuotaDialogOpen: false,\n      isBatchDeleteUserDialogOpen: false,\n      isBatchAddAdminDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    if (this.props.isAdmin) { // 'Admin' page\n      this.getUserList(); // no pagination\n    } else {\n      let urlParams = (new URL(window.location)).searchParams;\n      const {\n        currentPage, perPage,\n        sortBy = '',\n        sortOrder = 'asc'\n      } = this.state;\n      this.setState({\n        perPage: parseInt(urlParams.get('per_page') || perPage),\n        currentPage: parseInt(urlParams.get('page') || currentPage),\n        sortBy: urlParams.get('order_by') || sortBy,\n        sortOrder: urlParams.get('direction') || sortOrder\n      }, () => {\n        this.getUsersListByPage(this.state.currentPage);\n      });\n    }\n  }\n\n  toggleImportUserDialog = () => {\n    this.setState({isImportUserDialogOpen: !this.state.isImportUserDialogOpen});\n  };\n\n  toggleAddUserDialog = () => {\n    this.setState({isAddUserDialogOpen: !this.state.isAddUserDialogOpen});\n  };\n\n  toggleBatchSetQuotaDialog = () => {\n    this.setState({isBatchSetQuotaDialogOpen: !this.state.isBatchSetQuotaDialogOpen});\n  };\n\n  toggleBatchDeleteUserDialog = () => {\n    this.setState({isBatchDeleteUserDialogOpen: !this.state.isBatchDeleteUserDialogOpen});\n  };\n\n  onUserSelected = (item) => {\n    let hasUserSelected = false;\n    let selectedUserList = [];\n    // traverse all users, toggle its selected status\n    let users = this.state.userList.map(user => {\n      // toggle status\n      if (user.email === item.email) {\n        user.isSelected = !user.isSelected;\n      }\n      // update selectedUserList\n      // if current user is now selected, push it to selectedUserList\n      // if current user is now not selected, drop it from selectedUserList\n      if (user.isSelected == true) {\n        hasUserSelected = true;\n        selectedUserList.push(user);\n      } else {\n        selectedUserList = selectedUserList.filter(thisuser => {\n          return thisuser.email != user.email;\n        });\n      }\n      return user;\n    });\n    // finally update state\n    this.setState({\n      userList: users,\n      hasUserSelected: hasUserSelected,\n      selectedUserList: selectedUserList,\n    });\n  };\n\n  toggleSelectAllUsers = () => {\n    if (this.state.isAllUsersSelected) {\n      // if previous state is allSelected, toggle to not select\n      let users = this.state.userList.map(user => {\n        user.isSelected = false;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: false,\n        isAllUsersSelected: false,\n        selectedUserList: [],\n      });\n    } else {\n      // if previous state is not allSelected, toggle to selectAll\n      let users = this.state.userList.map(user => {\n        user.isSelected = true;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: true,\n        isAllUsersSelected: true,\n        selectedUserList: users\n      });\n    }\n  };\n\n  getUserList = () => {\n  // get admins\n    seafileAPI.sysAdminListAdmins().then(res => {\n      let users = res.data.admin_user_list.map(user => {\n        return new SysAdminAdminUser(user);\n      });\n      this.setState({\n        userList: users,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  getUsersListByPage = (page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    const { isLDAPImported } = this.props;\n    seafileAPI.sysAdminListUsers(page, perPage, isLDAPImported, sortBy, sortOrder).then(res => {\n      let users = res.data.data.map(user => {return new SysAdminUser(user);});\n      this.setState({\n        userList: users,\n        loading: false,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n        currentPage: page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  sortByQuotaUsage = () => {\n    this.setState({\n      sortBy: 'quota_usage',\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc',\n      currentPage: 1\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { currentPage, sortBy, sortOrder } = this.state;\n      searchParams.set('page', currentPage);\n      searchParams.set('order_by', sortBy);\n      searchParams.set('direction', sortOrder);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.getUsersListByPage(currentPage);\n    });\n  };\n\n  deleteUser = (email, username) => {\n    seafileAPI.sysAdminDeleteUser(email).then(res => {\n      let newUserList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({userList: newUserList});\n      let msg = gettext('Deleted user %s');\n      msg = msg.replace('%s', username);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  setUserQuotaInBatch = (quotaTotal) => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminSetUserQuotaInBatch(emails, quotaTotal).then(res => {\n      let userList = this.state.userList.map(item => {\n        res.data.success.forEach(resultUser => {\n          if (item.email == resultUser.email) {\n            item.quota_total = resultUser.quota_total;\n          }\n        });\n        return item;\n      });\n      this.setState({userList: userList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUserInBatch = () => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminDeleteUserInBatch(emails).then(res => {\n      if (res.data.success.length) {\n        let oldUserList = this.state.userList;\n        let newUserList = oldUserList.filter(oldUser => {\n          return !res.data.success.some(deletedUser =>{\n            return deletedUser.email == oldUser.email;\n          });\n        });\n        this.setState({\n          userList: newUserList,\n          hasUserSelected: emails.length != res.data.success.length\n        });\n        const length = res.data.success.length;\n        const msg = length == 1 ?\n          gettext('Successfully deleted 1 user.') :\n          gettext('Successfully deleted {user_number_placeholder} users.')\n            .replace('{user_number_placeholder}', length);\n        toaster.success(msg);\n      }\n      res.data.failed.forEach(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  importUserInBatch = (file) => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    seafileAPI.sysAdminImportUserViaFile(file).then((res) => {\n      if (res.data.success.length) {\n        const users = res.data.success.map(item => {\n          if (item.institution == undefined) {\n            item.institution = '';\n          }\n          return new SysAdminUser(item);\n        });\n        this.setState({\n          userList: users.concat(this.state.userList)\n        });\n      }\n      res.data.failed.forEach(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMsg = Utils.getErrorMsg(error);\n      toaster.danger(errMsg);\n    });\n  };\n\n  addUser = (data) => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    const { email, name, role, password } = data;\n    seafileAPI.sysAdminAddUser(email, name, role, password).then((res) => {\n      let userList = this.state.userList;\n      userList.unshift(res.data);\n      this.setState({\n        userList: userList\n      });\n      toaster.success(res.data.add_user_tip);\n    }).catch((error) => {\n      let errMsg = Utils.getErrorMsg(error);\n      toaster.danger(errMsg);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getUsersListByPage(1);\n    });\n  };\n\n  updateUser = (email, key, value) => {\n    seafileAPI.sysAdminUpdateUser(email, key, value).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item[key]= res.data[key];\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      const msg = (key == 'is_active' && value) ?\n        res.data.update_status_tip : gettext('Edit succeeded');\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateAdminRole = (email, role) => {\n    seafileAPI.sysAdminUpdateAdminRole(email, role).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.admin_role = res.data.role;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  revokeAdmin = (email, name) => {\n    seafileAPI.sysAdminUpdateUser(email, 'is_staff', false).then(res => {\n      let userList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({\n        userList: userList\n      });\n      toaster.success(gettext('Successfully revoked the admin permission of {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getOperationsForAll = () => {\n    const { isAdmin, isLDAPImported } = this.props;\n\n    if (isAdmin) {\n      return <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchAddAdminDialog}>{gettext('Add Admin')}</Button>;\n    }\n\n    if (isLDAPImported) {\n      return <a className=\"btn btn-secondary operation-item\" href={`${siteRoot}sys/useradmin/export-excel/`}>{gettext('Export Excel')}</a>;\n    }\n\n    // 'database'\n    return (\n      <Fragment>\n        <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleImportUserDialog}>{gettext('Import Users')}</Button>\n        <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddUserDialog}>{gettext('Add User')}</Button>\n        <a className=\"btn btn-secondary operation-item\" href={`${siteRoot}sys/useradmin/export-excel/`}>{gettext('Export Excel')}</a>\n      </Fragment>\n    );\n  };\n\n  getCurrentNavItem = () => {\n    const { isAdmin, isLDAPImported } = this.props;\n    let item = 'database';\n    if (isAdmin) {\n      item = 'admin';\n    } else if (isLDAPImported) {\n      item = 'ldap-imported';\n    }\n    return item;\n  };\n\n  toggleBatchAddAdminDialog = () => {\n    this.setState({isBatchAddAdminDialogOpen: !this.state.isBatchAddAdminDialogOpen});\n  };\n\n  addAdminInBatch = (emails) => {\n    seafileAPI.sysAdminAddAdminInBatch(emails).then(res => {\n      let users = res.data.success.map(user => {\n        return new SysAdminAdminUser(user);\n      });\n      this.setState({\n        userList: users.concat(this.state.userList)\n      });\n      res.data.failed.forEach(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getSearch = () => {\n    if (this.props.isAdmin) {\n      return null;\n    }\n    // offer 'Search' for 'DB' & 'LDAPImported' users\n    return <Search\n      placeholder={gettext('Search users')}\n      submit={this.searchItems}\n    />;\n  };\n\n  searchItems = (keyword) => {\n    navigate(`${siteRoot}sys/search-users/?query=${encodeURIComponent(keyword)}`);\n  };\n\n  render() {\n    const { isAdmin, isLDAPImported } = this.props;\n    const {\n      hasUserSelected,\n      isImportUserDialogOpen,\n      isAddUserDialogOpen,\n      isBatchDeleteUserDialogOpen,\n      isBatchSetQuotaDialogOpen,\n      isBatchAddAdminDialogOpen\n    } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          {hasUserSelected ?\n            <Fragment>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchSetQuotaDialog}>{gettext('Set Quota')}</Button>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchDeleteUserDialog}>{gettext('Delete Users')}</Button>\n            </Fragment>\n            : this.getOperationsForAll()\n          }\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <UsersNav currentItem={this.getCurrentNavItem()} />\n            <div className=\"cur-view-content\">\n              <Content\n                isAdmin={isAdmin}\n                isLDAPImported={isLDAPImported}\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                sortBy={this.state.sortBy}\n                sortOrder={this.state.sortOrder}\n                sortByQuotaUsage={this.sortByQuotaUsage}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getUsersListByPage}\n                updateUser={this.updateUser}\n                deleteUser={this.deleteUser}\n                updateAdminRole={this.updateAdminRole}\n                revokeAdmin={this.revokeAdmin}\n                onUserSelected={this.onUserSelected}\n                isAllUsersSelected={this.isAllUsersSelected}\n                toggleSelectAllUsers={this.toggleSelectAllUsers}\n              />\n            </div>\n          </div>\n        </div>\n        {isImportUserDialogOpen &&\n        <SysAdminImportUserDialog\n          toggle={this.toggleImportUserDialog}\n          importUserInBatch={this.importUserInBatch}\n        />\n        }\n        {isAddUserDialogOpen &&\n          <SysAdminAddUserDialog\n            dialogTitle={gettext('Add User')}\n            showRole={isPro}\n            availableRoles={availableRoles}\n            addUser={this.addUser}\n            toggleDialog={this.toggleAddUserDialog}\n          />\n        }\n        {isBatchSetQuotaDialogOpen &&\n          <SysAdminUserSetQuotaDialog\n            toggle={this.toggleBatchSetQuotaDialog}\n            updateQuota={this.setUserQuotaInBatch}\n          />\n        }\n        {isBatchDeleteUserDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Users')}\n            message={gettext('Are you sure you want to delete the selected user(s) ?')}\n            executeOperation={this.deleteUserInBatch}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleBatchDeleteUserDialog}\n          />\n        }\n        {isBatchAddAdminDialogOpen &&\n          <SysAdminBatchAddAdminDialog\n            addAdminInBatch={this.addAdminInBatch}\n            toggle={this.toggleBatchAddAdminDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nUsers.propTypes = propTypes;\n\nexport default Users;\n","import React, { Component } from 'react';\nimport Users from './users';\n\nclass AdminUsers extends Component {\n\n  render() {\n    return <Users isAdmin={true} {...this.props} />;\n  }\n}\n\nexport default AdminUsers;\n","import React, { Component } from 'react';\nimport Users from './users';\n\nclass LDAPImportedUsers extends Component {\n\n  render() {\n    return <Users isLDAPImported={true} {...this.props} />;\n  }\n}\n\nexport default LDAPImportedUsers;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport UsersNav from './users-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, curPerPage, hasNextPage, currentPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No users')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"40%\">{gettext('Email')}</th>\n                <th width=\"30%\">{gettext('Space Used')}{' / '}{gettext('Quota')}</th>\n                <th width=\"30%\">{gettext('Last Login')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  currentPage: PropTypes.number,\n  curPerPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n  render() {\n    const { item } = this.props;\n    return (\n      <Fragment>\n        <tr>\n          <td><UserLink email={item.email} name={item.email} /></td>\n          <td>\n            {`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}\n          </td>\n          <td>\n            {item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass Users extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userList: {},\n      hasNextPage: false,\n      currentPage: 1,\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getUsersListByPage(this.state.currentPage);\n    });\n  }\n\n  getUsersListByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListLDAPUsers(page, perPage).then(res => {\n      this.setState({\n        loading: false,\n        userList: res.data.ldap_user_list,\n        hasNextPage: res.data.has_next_page,\n        currentPage: page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getUsersListByPage(1);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <UsersNav currentItem=\"ldap\" />\n            <div className=\"cur-view-content\">\n              <Content\n                resetPerPage={this.resetPerPage}\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                getListByPage={this.getUsersListByPage}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nUsers.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Users;\n","import React, { Component, Fragment } from 'react';\nimport { Button, Form, FormGroup, Input, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport Paginator from '../../../components/paginator';\nimport toaster from '../../../components/toast';\nimport SysAdminUserSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './users-content';\n\n\nclass SearchUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      userList: [],\n      pageInfo: {\n        has_next_page: false,\n        current_page: 1,\n      },\n      currentPage: 1,\n      perPage: 25,\n      hasUserSelected: false,\n      selectedUserList: [],\n      isAllUsersSelected: false,\n      isBatchSetQuotaDialogOpen: false,\n      isBatchDeleteUserDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      query: params.get('query') || '',\n      currentPage: parseInt(params.get('page') || currentPage),\n      perPage: parseInt(params.get('per_page') || perPage)\n    }, () => {this.getItems(this.state.currentPage);});\n  }\n\n  toggleBatchSetQuotaDialog = () => {\n    this.setState({isBatchSetQuotaDialogOpen: !this.state.isBatchSetQuotaDialogOpen});\n  };\n\n  toggleBatchDeleteUserDialog = () => {\n    this.setState({isBatchDeleteUserDialogOpen: !this.state.isBatchDeleteUserDialogOpen});\n  };\n\n  onUserSelected = (item) => {\n    let hasUserSelected = false;\n    let selectedUserList = [];\n    // traverse all users, toggle its selected status\n    let users = this.state.userList.map(user => {\n      // toggle status\n      if (user.email === item.email) {\n        user.isSelected = !user.isSelected;\n      }\n      // update selectedUserList\n      // if current user is now selected, push it to selectedUserList\n      // if current user is now not selected, drop it from selectedUserList\n      if (user.isSelected == true) {\n        hasUserSelected = true;\n        selectedUserList.push(user);\n      } else {\n        selectedUserList = selectedUserList.filter(thisuser => {\n          return thisuser.email != user.email;\n        });\n      }\n      return user;\n    });\n    // finally update state\n    this.setState({\n      userList: users,\n      hasUserSelected: hasUserSelected,\n      selectedUserList: selectedUserList,\n    });\n  };\n\n  toggleSelectAllUsers = () => {\n    if (this.state.isAllUsersSelected) {\n      // if previous state is allSelected, toggle to not select\n      let users = this.state.userList.map(user => {\n        user.isSelected = false;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: false,\n        isAllUsersSelected: false,\n        selectedUserList: [],\n      });\n    } else {\n      // if previous state is not allSelected, toggle to selectAll\n      let users = this.state.userList.map(user => {\n        user.isSelected = true;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: true,\n        isAllUsersSelected: true,\n        selectedUserList: users\n      });\n    }\n  };\n\n  getItems = (page) => {\n    seafileAPI.sysAdminSearchUsers(this.state.query.trim(), page, this.state.perPage).then(res => {\n      this.setState({\n        userList: res.data.user_list,\n        loading: false,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getItems(1);\n    });\n  };\n\n  deleteUser = (email, username) => {\n    seafileAPI.sysAdminDeleteUser(email).then(res => {\n      let newUserList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({userList: newUserList});\n      let msg = gettext('Deleted user %s');\n      msg = msg.replace('%s', username);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  setUserQuotaInBatch = (quotaTotal) => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminSetUserQuotaInBatch(emails, quotaTotal).then(res => {\n      let userList = this.state.userList.map(item => {\n        res.data.success.forEach(resultUser => {\n          if (item.email == resultUser.email) {\n            item.quota_total = resultUser.quota_total;\n          }\n        });\n        return item;\n      });\n      this.setState({userList: userList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUserInBatch = () => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminDeleteUserInBatch(emails).then(res => {\n      if (res.data.success.length) {\n        let oldUserList = this.state.userList;\n        let newUserList = oldUserList.filter(oldUser => {\n          return !res.data.success.some(deletedUser =>{\n            return deletedUser.email == oldUser.email;\n          });\n        });\n        this.setState({\n          userList: newUserList,\n          hasUserSelected: emails.length != res.data.success.length\n        });\n        const length = res.data.success.length;\n        const msg = length == 1 ?\n          gettext('Successfully deleted 1 user.') :\n          gettext('Successfully deleted {user_number_placeholder} users.')\n            .replace('{user_number_placeholder}', length);\n        toaster.success(msg);\n      }\n      res.data.failed.forEach(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateUser = (email, key, value) => {\n    seafileAPI.sysAdminUpdateUser(email, key, value).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item[key]= res.data[key];\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      const msg = (key == 'is_active' && value) ?\n        res.data.update_status_tip : gettext('Edit succeeded');\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateAdminRole = (email, role) => {\n    seafileAPI.sysAdminUpdateAdminRole(email, role).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.admin_role = res.data.role;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  revokeAdmin = (email, name) => {\n    seafileAPI.sysAdminUpdateUser(email, 'is_staff', false).then(res => {\n      let userList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({\n        userList: userList\n      });\n      toaster.success(gettext('Successfully revoked the admin permission of {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  handleInputChange = (e) => {\n    this.setState({\n      query: e.target.value\n    }, this.checkSubmitBtnActive);\n  };\n\n  checkSubmitBtnActive = () => {\n    const { query } = this.state;\n    this.setState({\n      isSubmitBtnActive: query.trim()\n    });\n  };\n\n  getPreviousPageList = () => {\n    this.getItems(this.state.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.getItems(this.state.pageInfo.current_page + 1);\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive } = this.state;\n      if (isSubmitBtnActive) {\n        this.getItems();\n      }\n    }\n  };\n\n  render() {\n    const { query, isSubmitBtnActive } = this.state;\n    const {\n      hasUserSelected,\n      isBatchDeleteUserDialogOpen,\n      isBatchSetQuotaDialogOpen\n    } = this.state;\n    return (\n      <Fragment>\n        {hasUserSelected ?\n          <MainPanelTopbar {...this.props}>\n            <Fragment>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchSetQuotaDialog}>{gettext('Set Quota')}</Button>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchDeleteUserDialog}>{gettext('Delete Users')}</Button>\n            </Fragment>\n          </MainPanelTopbar> :\n          <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Users')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Users')}</h4>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"query\" value={query} placeholder={gettext('Search users')} onChange={this.handleInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getItems}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  isLDAPImported={false}\n                  isAdmin={false}\n                  isSearchResult={true}\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.userList}\n                  updateUser={this.updateUser}\n                  deleteUser={this.deleteUser}\n                  updateAdminRole={this.updateAdminRole}\n                  revokeAdmin={this.revokeAdmin}\n                  onUserSelected={this.onUserSelected}\n                  isAllUsersSelected={this.isAllUsersSelected}\n                  toggleSelectAllUsers={this.toggleSelectAllUsers}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        {isBatchSetQuotaDialogOpen &&\n          <SysAdminUserSetQuotaDialog\n            toggle={this.toggleBatchSetQuotaDialog}\n            updateQuota={this.setUserQuotaInBatch}\n          />\n        }\n        {isBatchDeleteUserDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Users')}\n            message={gettext('Are you sure you want to delete the selected user(s) ?')}\n            executeOperation={this.deleteUserInBatch}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleBatchDeleteUserDialog}\n          />\n        }\n        {this.state.pageInfo &&\n        <Paginator\n          gotoPreviousPage={this.getPreviousPageList}\n          gotoNextPage={this.getNextPageList}\n          currentPage={this.state.pageInfo.current_page}\n          hasNextPage={this.state.pageInfo.has_next_page}\n          curPerPage={this.state.perPage}\n          resetPerPage={this.resetPerPage}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchUsers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  uploadOrDownload: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  updateUploadDownloadRateLimit: PropTypes.func.isRequired\n};\n\nclass SysAdminSetUploadDownloadRateLimitDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      rateLimit: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleRateLimitChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      rateLimit: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateUploadDownloadRateLimit(this.props.uploadOrDownload, this.state.rateLimit.trim());\n    this.toggle();\n  };\n\n  render() {\n    const { rateLimit, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{this.props.uploadOrDownload == 'upload' ? gettext('Set Upload Rate Limit') : gettext('Set Download Rate Limit')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <InputGroup>\n                <Input\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={rateLimit}\n                  onKeyDown={this.handleKeyDown}\n                  onChange={this.handleRateLimitChange}\n                />\n                <InputGroupAddon addonType=\"append\">\n                  <InputGroupText>kB/s</InputGroupText>\n                </InputGroupAddon>\n              </InputGroup>\n              <p className=\"small text-secondary mt-2 mb-2\">\n                {gettext('An integer that is greater than or equal to 0.')}\n                <br />\n                {gettext('Tip: 0 means default limit')}\n              </p>\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminSetUploadDownloadRateLimitDialog.propTypes = propTypes;\n\nexport default SysAdminSetUploadDownloadRateLimitDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  value: PropTypes.string.isRequired,\n  dialogTitle: PropTypes.string.isRequired,\n  updateValue: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass UpdateUser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: this.props.value,\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateValue(this.state.value.trim());\n    this.props.toggleDialog();\n  };\n\n  render() {\n    const  { toggleDialog } = this.props;\n    return (\n      <Modal isOpen={true} toggle={toggleDialog}>\n        <ModalHeader toggle={toggleDialog}>{this.props.dialogTitle}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                value={this.state.value}\n                onKeyDown={this.handleKeyDown}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={toggleDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nUpdateUser.propTypes = propTypes;\n\nexport default UpdateUser;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  email: PropTypes.string,\n  userName: PropTypes.string.isRequired,\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'info', urlPart: '', text: gettext('Info')},\n      {name: 'owned-repos', urlPart: 'owned-libraries', text: gettext('Owned Libraries')},\n      {name: 'shared-repos', urlPart: 'shared-libraries', text: gettext('Shared Libraries')},\n      {name: 'links', urlPart: 'shared-links', text: gettext('Shared Links')},\n      {name: 'groups', urlPart: 'groups', text: gettext('Groups')}\n    ];\n  }\n\n  render() {\n    const { currentItem, email, userName } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/users/`}>{gettext('Users')}</Link> / {userName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/users/${encodeURIComponent(email)}/${item.urlPart}`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormGroup, Label, Input, Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, isPro } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport Loading from '../../../components/loading';\nimport SysAdminSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport SysAdminSetUploadDownloadRateLimitDialog from '../../../components/dialog/sysadmin-dialog/set-upload-download-rate-limit';\nimport SysAdminUpdateUserDialog from '../../../components/dialog/sysadmin-dialog/update-user';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nconst { twoFactorAuthEnabled } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentKey: '',\n      dialogTitle: '',\n      isSetQuotaDialogOpen: false,\n      isSetUserUploadRateLimitDialogOpen: false,\n      isSetUserDownloadRateLimitDialogOpen: false,\n      isUpdateUserDialogOpen: false\n    };\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  };\n\n  toggleSetUserUploadRateLimitDialog = () => {\n    this.setState({isSetUserUploadRateLimitDialogOpen: !this.state.isSetUserUploadRateLimitDialogOpen});\n  };\n\n  toggleSetUserDownloadRateLimitDialog = () => {\n    this.setState({isSetUserDownloadRateLimitDialogOpen: !this.state.isSetUserDownloadRateLimitDialogOpen});\n  };\n\n  updateQuota = (value) => {\n    this.props.updateUser('quota_total', value);\n  };\n\n  updateUploadDownloadRateLimit = (uploadOrDownload, value) => {\n    if (uploadOrDownload == 'upload'){\n      this.props.updateUser('upload_rate_limit', value);\n    }\n    if (uploadOrDownload == 'download'){\n      this.props.updateUser('download_rate_limit', value);\n    }\n  };\n\n  toggleDialog = (key, dialogTitle) => {\n    this.setState({\n      currentKey: key,\n      dialogTitle: dialogTitle,\n      isUpdateUserDialogOpen: !this.state.isUpdateUserDialogOpen\n    });\n  };\n\n  toggleSetNameDialog = () => {\n    this.toggleDialog('name', gettext('Set Name'));\n  };\n\n  toggleSetUserLoginIDDialog = () => {\n    this.toggleDialog('login_id', gettext('Set Login ID'));\n  };\n\n  toggleSetUserComtactEmailDialog = () => {\n    this.toggleDialog('contact_email', gettext('Set Contact Email'));\n  };\n\n  toggleSetUserReferenceIDDialog = () => {\n    this.toggleDialog('reference_id', gettext('Set Reference ID'));\n  };\n\n  updateValue = (value) => {\n    this.props.updateUser(this.state.currentKey, value);\n  };\n\n  toggleUpdateUserDialog = () => {\n    this.toggleDialog('', '');\n  };\n\n  showEditIcon = (action) => {\n    return (\n      <span\n        title={gettext('Edit')}\n        className=\"fa fa-pencil-alt attr-action-icon\"\n        onClick={action}>\n      </span>\n    );\n  };\n\n  render() {\n    const { loading, errorMsg } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const user = this.props.userInfo;\n      const {\n        currentKey, dialogTitle,\n        isSetQuotaDialogOpen, isUpdateUserDialogOpen,\n        isSetUserUploadRateLimitDialogOpen, isSetUserDownloadRateLimitDialogOpen\n      } = this.state;\n      return (\n        <Fragment>\n          <dl className=\"m-0\">\n            <dt className=\"info-item-heading\">{gettext('Avatar')}</dt>\n            <dd className=\"info-item-content\">\n              <img src={user.avatar_url} alt={user.name} width=\"80\" className=\"rounded\"  />\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Email')}</dt>\n            <dd className=\"info-item-content\">{user.email}</dd>\n\n            {user.org_name &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Organization')}</dt>\n                <dd className=\"info-item-content\">{user.org_name}</dd>\n              </Fragment>\n            }\n\n            <dt className=\"info-item-heading\">{gettext('Name')}</dt>\n            <dd className=\"info-item-content\">\n              {user.name || '--'}\n              {this.showEditIcon(this.toggleSetNameDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Login ID')}</dt>\n            <dd className=\"info-item-content\">\n              {user.login_id || '--'}\n              {this.showEditIcon(this.toggleSetUserLoginIDDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Contact Email')}</dt>\n            <dd className=\"info-item-content\">\n              {user.contact_email || '--'}\n              {this.showEditIcon(this.toggleSetUserComtactEmailDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Reference ID')}</dt>\n            <dd className=\"info-item-content\">\n              {user.reference_id|| '--'}\n              {this.showEditIcon(this.toggleSetUserReferenceIDDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Space Used / Quota')}</dt>\n            <dd className=\"info-item-content\">\n              {`${Utils.bytesToSize(user.quota_usage)} / ${user.quota_total > 0 ? Utils.bytesToSize(user.quota_total) : '--'}`}\n              {this.showEditIcon(this.toggleSetQuotaDialog)}\n            </dd>\n            {isPro &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Upload Rate Limit')}</dt>\n                <dd className=\"info-item-content\">\n                  {user.upload_rate_limit > 0 ? user.upload_rate_limit + ' kB/s' : '--'}\n                  {this.showEditIcon(this.toggleSetUserUploadRateLimitDialog)}\n                </dd>\n                <dt className=\"info-item-heading\">{gettext('Download Rate Limit')}</dt>\n                <dd className=\"info-item-content\">\n                  {user.download_rate_limit > 0 ? user.download_rate_limit + ' kB/s' : '--'}\n                  {this.showEditIcon(this.toggleSetUserDownloadRateLimitDialog)}\n                </dd>\n              </Fragment>\n            }\n            {twoFactorAuthEnabled &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Two-Factor Authentication')}</dt>\n                <dd className=\"info-item-content\">\n                  {user.has_default_device ?\n                    <FormGroup>\n                      <p className=\"mb-1\">{gettext('Status: enabled')}</p>\n                      <Button onClick={this.props.disable2FA}>{gettext('Disable Two-Factor Authentication')}</Button>\n                    </FormGroup> :\n                    <FormGroup>\n                      <Button disabled={true}>{gettext('Disable Two-Factor Authentication')}</Button>\n                    </FormGroup>\n                  }\n                  <FormGroup check>\n                    <Label check>\n                      <Input type=\"checkbox\" checked={user.is_force_2fa} onChange={this.props.toggleForce2fa} />\n                      <span>{gettext('Force Two-Factor Authentication')}</span>\n                    </Label>\n                  </FormGroup>\n                </dd>\n              </Fragment>\n            }\n          </dl>\n          {isSetQuotaDialogOpen &&\n          <SysAdminSetQuotaDialog\n            updateQuota={this.updateQuota}\n            toggle={this.toggleSetQuotaDialog}\n          />\n          }\n          {(isPro && isSetUserUploadRateLimitDialogOpen) &&\n          <SysAdminSetUploadDownloadRateLimitDialog\n            uploadOrDownload=\"upload\"\n            updateUploadDownloadRateLimit={this.updateUploadDownloadRateLimit}\n            toggle={this.toggleSetUserUploadRateLimitDialog}\n          />\n          }\n          {(isPro && isSetUserDownloadRateLimitDialogOpen) &&\n          <SysAdminSetUploadDownloadRateLimitDialog\n            uploadOrDownload=\"download\"\n            updateUploadDownloadRateLimit={this.updateUploadDownloadRateLimit}\n            toggle={this.toggleSetUserDownloadRateLimitDialog}\n          />\n          }\n          {isUpdateUserDialogOpen &&\n          <SysAdminUpdateUserDialog\n            dialogTitle={dialogTitle}\n            value={user[currentKey]}\n            updateValue={this.updateValue}\n            toggleDialog={this.toggleUpdateUserDialog}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  updateUser: PropTypes.func.isRequired,\n  userInfo: PropTypes.object.isRequired,\n  disable2FA: PropTypes.func.isRequired,\n  toggleForce2fa: PropTypes.func.isRequired,\n  email: PropTypes.string,\n};\n\nclass User extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {}\n    };\n  }\n\n  componentDidMount () {\n    // avatar size: 160\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email, 160).then((res) => {\n      this.setState({\n        loading: false,\n        userInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateUser = (key, value) => {\n    const email = this.state.userInfo.email;\n    seafileAPI.sysAdminUpdateUser(email, key, value).then(res => {\n      let userInfo = this.state.userInfo;\n      userInfo[key]= res.data[key];\n      this.setState({\n        userInfo: userInfo\n      });\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  disable2FA = () => {\n    const email = this.state.userInfo.email;\n    seafileAPI.sysAdminDeleteTwoFactorAuth(email).then(res => {\n      let userInfo = this.state.userInfo;\n      userInfo.has_default_device = false;\n      this.setState({\n        userInfo: userInfo\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleForce2fa = (e) => {\n    const email = this.state.userInfo.email;\n    const checked = e.target.checked;\n    seafileAPI.sysAdminSetForceTwoFactorAuth(email, checked).then(res => {\n      let userInfo = this.state.userInfo;\n      userInfo.is_force_2fa = checked;\n      this.setState({\n        userInfo: userInfo\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { userInfo } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"info\" email={this.props.email} userName={userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                userInfo={this.state.userInfo}\n                updateUser={this.updateUser}\n                disable2FA={this.disable2FA}\n                toggleForce2fa={this.toggleForce2fa}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nUser.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default User;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport TransferDialog from '../../../components/dialog/transfer-dialog';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\"></th>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Size')}</th>\n                <th width=\"25%\">{gettext('Last Update')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteRepo={this.props.deleteRepo}\n                  transferRepo={this.props.transferRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  items: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n  transferRepo: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n      isTransferDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleDeleteDialog = () => {\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteRepo = () => {\n    this.props.deleteRepo(this.props.item.id);\n  };\n\n  toggleTransferDialog = () => {\n    this.setState({isTransferDialogOpen: !this.state.isTransferDialogOpen});\n  };\n\n  transferRepo = (owner) => {\n    this.props.transferRepo(this.props.item.id, owner.email);\n    this.toggleTransferDialog();\n  };\n\n  renderRepoName = () => {\n    const { item } = this.props;\n    const repo = item;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return gettext('Broken ({repo_id_placeholder})')\n        .replace('{repo_id_placeholder}', repo.id);\n    }\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Transfer':\n        this.toggleTransferDialog();\n        break;\n    }\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, isTransferDialogOpen } = this.state;\n\n    const iconUrl = Utils.getLibIconUrl(item);\n    const iconTitle = Utils.getLibIconTitle(item);\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{Utils.bytesToSize(item.size)}</td>\n          <td>{moment(item.last_modified).fromNow()}</td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Delete', 'Transfer']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Library')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteRepo}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n        {isTransferDialogOpen &&\n        <TransferDialog\n          itemName={item.name}\n          submit={this.transferRepo}\n          canTransferToDept={false}\n          toggleDialog={this.toggleTransferDialog}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n  transferRepo: PropTypes.func.isRequired,\n};\n\nclass Repos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n    seafileAPI.sysAdminListReposByOwner(email).then(res => {\n      this.setState({\n        loading: false,\n        repoList: res.data.repos\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteRepo = (repoID) => {\n    seafileAPI.sysAdminDeleteRepo(repoID).then(res => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  transferRepo = (repoID, email) => {\n    seafileAPI.sysAdminTransferRepo(repoID, email).then((res) => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      let message = gettext('Successfully transferred the library.');\n      toaster.success(message);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"owned-repos\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n                deleteRepo={this.deleteRepo}\n                transferRepo={this.transferRepo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nRepos.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Repos;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, siteRoot, gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport Nav from './user-nav';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\"></th>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Share From')}</th>\n                <th width=\"20%\">{gettext('Size')}</th>\n                <th width=\"20%\">{gettext('Last Update')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n};\n\nclass Item extends Component {\n\n  renderRepoName = () => {\n    const { item } = this.props;\n    const repo = item;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return gettext('Broken ({repo_id_placeholder})')\n        .replace('{repo_id_placeholder}', repo.id);\n    }\n  };\n\n  getOwnerLink = () => {\n    let link;\n    const { item } = this.props;\n    const index = item.owner_email.indexOf('@seafile_group');\n    if (index == -1) {\n      link = <UserLink email={item.owner_email} name={item.owner_name} />;\n    } else {\n      const groupID = item.owner_email.substring(0, index);\n      link = <Link to={`${siteRoot}sys/departments/${groupID}/`}>{item.owner_name}</Link>;\n    }\n    return link;\n  };\n\n  render() {\n    const { item } = this.props;\n    const iconUrl = Utils.getLibIconUrl(item);\n    const iconTitle = Utils.getLibIconTitle(item);\n    return (\n      <Fragment>\n        <tr>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{this.getOwnerLink()}</td>\n          <td>{Utils.bytesToSize(item.size)}</td>\n          <td>{moment(item.last_modify).fromNow()}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass Repos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n    seafileAPI.sysAdminListShareInRepos(email).then(res => {\n      this.setState({\n        loading: false,\n        repoList: res.data.repo_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"shared-repos\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nRepos.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Repos;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport LinkDialog from '../../../components/dialog/share-admin-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No shared links')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\">{/* icon */}</th>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Size')}</th>\n                <th width=\"20%\">{gettext('Type')}</th>\n                <th width=\"20%\">{gettext('Visits')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteItem={this.props.deleteItem}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  email: PropTypes.string,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isLinkDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleLinkDialog = () => {\n    this.setState({isLinkDialogOpen: !this.state.isLinkDialogOpen});\n  };\n\n  deleteItem = () => {\n    this.props.deleteItem(this.props.item);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'View':\n        translateResult = gettext('View');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'View':\n        this.toggleLinkDialog();\n        break;\n      case 'Delete':\n        this.deleteItem();\n        break;\n    }\n  };\n\n  getRoleText = () => {\n    let roleText;\n    const { item } = this.props;\n    switch(item.role) {\n      case 'Owner':\n        roleText = gettext('Owner');\n        break;\n      case 'Admin':\n        roleText = gettext('Admin');\n        break;\n      case 'Member':\n        roleText = gettext('Member');\n        break;\n    }\n    return roleText;\n  };\n\n  getIconUrl = () => {\n    const { item } = this.props;\n    let url;\n    if (item.type == 'upload') {\n      url = Utils.getFolderIconUrl();\n    } else { // share link\n      if (item.is_dir) {\n        url = Utils.getFolderIconUrl();\n      } else {\n        url = Utils.getFileIconUrl(item.obj_name);\n      }\n    }\n    return url;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isLinkDialogOpen } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={this.getIconUrl()} alt=\"\" width=\"24\" /></td>\n          <td>{item.obj_name == '/' ? item.repo_name : item.obj_name}</td>\n          {item.type == 'upload' ?\n            <Fragment>\n              <td></td>\n              <td>{gettext('Upload')}</td>\n            </Fragment> :\n            <Fragment>\n              <td>{item.is_dir ? null : Utils.bytesToSize(item.size)}</td>\n              <td>{gettext('Download')}</td>\n            </Fragment>\n          }\n          <td>{item.view_cnt}</td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['View', 'Delete']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isLinkDialogOpen &&\n          <LinkDialog\n            link={item.link}\n            toggleDialog={this.toggleLinkDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n  email: PropTypes.string,\n};\n\nclass Links extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      uploadLinkItems: [],\n      shareLinkItems: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n\n    seafileAPI.sysAdminListShareLinksByUser(email).then(res => {\n      const items = res.data.share_link_list.map(item => {\n        item.type = 'download';\n        return item;\n      });\n      items.sort((a, b) => {\n        return a.is_dir ? -1 : 1;\n      });\n      this.setState({\n        loading: false,\n        shareLinkItems: items\n      });\n    });\n    seafileAPI.sysAdminListUploadLinksByUser(email).then(res => {\n      const items = res.data.upload_link_list.map(item => {\n        item.type = 'upload';\n        return item;\n      });\n      this.setState({\n        loading: false,\n        uploadLinkItems: items\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteItem = (item) => {\n    const type = item.type;\n    const token = item.token;\n    if (type == 'download') {\n      seafileAPI.sysAdminDeleteShareLink(token).then(res => {\n        let items = this.state.shareLinkItems.filter(item=> {\n          return item.token != token;\n        });\n        this.setState({\n          shareLinkItems: items\n        });\n        toaster.success(gettext('Successfully deleted 1 item.'));\n      }).catch((error) => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      seafileAPI.sysAdminDeleteUploadLink(token).then(res => {\n        let items = this.state.uploadLinkItems.filter(item=> {\n          return item.token != token;\n        });\n        this.setState({\n          uploadLinkItems: items\n        });\n        toaster.success(gettext('Successfully deleted 1 item.'));\n      }).catch((error) => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    }\n  };\n\n  render() {\n    const { shareLinkItems, uploadLinkItems } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"links\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={[].concat(uploadLinkItems, shareLinkItems)}\n                deleteItem={this.deleteItem}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nLinks.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Links;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No groups')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Role')}</th>\n                <th width=\"35%\">{gettext('Created At')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  getRoleText = () => {\n    let roleText;\n    const { item } = this.props;\n    switch(item.role) {\n      case 'Owner':\n        roleText = gettext('Owner');\n        break;\n      case 'Admin':\n        roleText = gettext('Admin');\n        break;\n      case 'Member':\n        roleText = gettext('Member');\n        break;\n    }\n    return roleText;\n  };\n\n  render() {\n    const { item } = this.props;\n    const url = item.parent_group_id == 0 ?\n      `${siteRoot}sys/groups/${item.id}/libraries/` :\n      `${siteRoot}sys/departments/${item.id}/`;\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={url}>{item.name}</Link></td>\n          <td>{this.getRoleText()}</td>\n          <td>{moment(item.created_at).format('YYYY-MM-DD HH:mm')}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n};\n\nclass Groups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      items: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n    seafileAPI.sysAdminListGroupsJoinedByUser(email).then(res => {\n      this.setState({\n        loading: false,\n        items: res.data.group_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"groups\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nGroups.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Groups;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\n\nconst propTypes = {\n  createRepo: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n};\n\nclass SysAdminCreateRepoDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoName: '',\n      ownerEmail: '',\n      errMessage: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleRepoNameChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      repoName: value,\n      isSubmitBtnActive: value.trim()\n    });\n  };\n\n  handleSubmit = () => {\n    const { repoName, ownerEmail } = this.state;\n    this.props.createRepo(repoName.trim(), ownerEmail);\n    this.toggle();\n  };\n\n  handleSelectChange = (option) => {\n    // option can be null\n    this.setState({\n      ownerEmail: option ? option.email : ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Library')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"repoName\">{gettext('Name')}</Label>\n              <Input\n                id=\"repoName\"\n                onKeyDown={this.handleKeyDown}\n                value={this.state.repoName}\n                onChange={this.handleRepoNameChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"userSelect\">\n                {gettext('Owner')}\n                <span className=\"small text-secondary\">{gettext('(If left blank, owner will be admin)')}</span>\n              </Label>\n              <UserSelect\n                id=\"userSelect\"\n                isMulti={false}\n                className=\"reviewer-select\"\n                placeholder={gettext('Select a user')}\n                onSelectChange={this.handleSelectChange}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminCreateRepoDialog.propTypes = propTypes;\n\nexport default SysAdminCreateRepoDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'all', urlPart: 'all-libraries', text: gettext('All')},\n      {name: 'system', urlPart: 'system-library', text: gettext('System')},\n      {name: 'trash', urlPart: 'trash-libraries', text: gettext('Trash')}\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { isPro, gettext } from '../../../utils/constants';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\nimport UserSelect from '../../user-select';\nimport SharePermissionEditor from '../../select-editor/share-permission-editor';\n\nclass UserItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  };\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  };\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.user_email);\n  };\n\n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item, permission);\n  };\n\n  render() {\n    let item = this.props.item;\n    let currentPermission = Utils.getSharedPermission(item);\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className=\"name\">{item.user_name}</td>\n        <td>\n          <SharePermissionEditor\n            repoID={item.repo_id}\n            isTextMode={true}\n            autoFocus={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={currentPermission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n          />\n        </td>\n        <td>\n          <span\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem}\n            title={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nUserItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nclass UserList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <UserItem\n              key={index}\n              item={item}\n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nUserList.propTypes = {\n  items: PropTypes.array.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemPath: PropTypes.string.isRequired,\n  itemType: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired\n};\n\nclass SysAdminShareToUser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      permission: 'rw',\n      sharedItems: []\n    };\n    this.options = [];\n    this.permissions = ['rw', 'r'];\n    if (isPro) {\n      this.permissions.push('admin', 'cloud-edit', 'preview');\n    }\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n    this.options = [];\n  };\n\n  componentDidMount() {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminListRepoSharedItems(repoID, 'user').then((res) => {\n      if(res.data.length !== 0) {\n        this.setState({sharedItems: res.data});\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  };\n\n  shareToUser = () => {\n    let users = [];\n    let repoID = this.props.repoID;\n    if (this.state.selectedOption && this.state.selectedOption.length > 0 ) {\n      for (let i = 0; i < this.state.selectedOption.length; i ++) {\n        users[i] = this.state.selectedOption[i].email;\n      }\n    }\n    seafileAPI.sysAdminAddRepoSharedItem(repoID, 'user' , users, this.state.permission).then(res => {\n      let errorMsg = [];\n      if (res.data.failed.length > 0) {\n        for (let i = 0 ; i < res.data.failed.length ; i++) {\n          errorMsg[i] = res.data.failed[i];\n        }\n      }\n      let newItems = res.data.success;\n      this.setState({\n        errorMsg: errorMsg,\n        sharedItems: this.state.sharedItems.concat(newItems),\n        selectedOption: null,\n        permission: 'rw',\n      });\n      this.refs.userSelect.clearSelect();\n    }).catch(error => {\n      if (error.response) {\n        let message = gettext('Library can not be shared to owner.');\n        let errMessage = [];\n        errMessage.push(message);\n        this.setState({\n          errorMsg: errMessage,\n          selectedOption: null,\n        });\n      }\n    });\n  };\n\n  deleteShareItem = (useremail) => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminDeleteRepoSharedItem(repoID, 'user', useremail).then(res => {\n      this.setState({\n        sharedItems: this.state.sharedItems.filter( item => { return item.user_email !== useremail; })\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onChangeUserPermission = (item, permission) => {\n    let repoID = this.props.repoID;\n    let userEmail = item.user_email;\n    seafileAPI.sysAdminUpdateRepoSharedItemPermission(repoID, 'user', userEmail, permission).then(() => {\n      this.updateSharedItems(item, permission);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateSharedItems = (item, permission) => {\n    let username = item.user_name;\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      let sharedItemUsername = sharedItem.user_name;\n      if (username === sharedItemUsername) {\n        sharedItem.permission = permission;\n        sharedItem.is_admin = permission === 'admin' ? true : false;\n      }\n      return sharedItem;\n    });\n    this.setState({sharedItems: sharedItems});\n  };\n\n  render() {\n    let { sharedItems } = this.state;\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('User')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <UserSelect\n                  ref=\"userSelect\"\n                  isMulti={true}\n                  className=\"reviewer-select\"\n                  placeholder={gettext('Search users...')}\n                  onSelectChange={this.handleSelectChange}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor\n                  repoID={this.props.repoID}\n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareToUser}>{gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&\n              this.state.errorMsg.map((item, index) => {\n                let errMessage = '';\n                if (item.email) {\n                  errMessage = item.email + ': ' + item.error_msg;\n                } else {\n                  errMessage = item;\n                }\n                return (\n                  <tr key={index}>\n                    <td colSpan={3}><p className=\"error\">{errMessage}</p></td>\n                  </tr>\n                );\n              })\n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"50%\">{gettext('User')}</th>\n                <th width=\"35%\">{gettext('Permission')}</th>\n                <th width=\"15%\"></th>\n              </tr>\n            </thead>\n            <UserList\n              items={sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem}\n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nSysAdminShareToUser.propTypes = propTypes;\n\nexport default SysAdminShareToUser;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { isPro, gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\nimport SharePermissionEditor from '../../select-editor/share-permission-editor';\nimport { SeahubSelect, NoGroupMessage } from '../../common/select';\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  };\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  };\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.group_id);\n  };\n\n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item, permission);\n  };\n\n  render() {\n    let item = this.props.item;\n    let currentPermission = Utils.getSharedPermission(item);\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className='name'>{item.group_name}</td>\n        <td>\n          <SharePermissionEditor\n            repoID={item.repo_id}\n            isTextMode={true}\n            autoFocus={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={currentPermission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n          />\n        </td>\n        <td>\n          <span\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem}\n            title={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nGroupItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nclass GroupList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <GroupItem\n              key={index}\n              item={item}\n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nGroupList.propTypes = {\n  items: PropTypes.array.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemPath: PropTypes.string.isRequired,\n  itemType: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  isRepoOwner: PropTypes.bool.isRequired,\n};\n\nclass SysAdminShareToGroup extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      permission: 'rw',\n      sharedItems: []\n    };\n    this.options = [];\n    this.permissions = ['rw', 'r'];\n    if (isPro) {\n      this.permissions.push('admin', 'cloud-edit', 'preview');\n    }\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n  };\n\n  componentDidMount() {\n    this.loadOptions();\n    this.listSharedGroups();\n  }\n\n  loadOptions = () => {\n    seafileAPI.shareableGroups().then((res) => {\n      this.options = [];\n      for (let i = 0 ; i < res.data.length; i++) {\n        let obj = {};\n        obj.value = res.data[i].name;\n        obj.id = res.data[i].id;\n        obj.label = res.data[i].name;\n        this.options.push(obj);\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  listSharedGroups = () => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminListRepoSharedItems(repoID, 'group').then((res) => {\n      if(res.data.length !== 0) {\n        this.setState({\n          sharedItems: res.data\n        });\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  };\n\n  shareToGroup = () => {\n    let groups = [];\n    let repoID = this.props.repoID;\n    if (this.state.selectedOption && this.state.selectedOption.length > 0 ) {\n      for (let i = 0; i < this.state.selectedOption.length; i ++) {\n        groups[i] = this.state.selectedOption[i].id;\n      }\n    }\n    seafileAPI.sysAdminAddRepoSharedItem(repoID, 'group', groups, this.state.permission).then(res => {\n      let errorMsg = [];\n      if (res.data.failed.length > 0) {\n        for (let i = 0 ; i < res.data.failed.length ; i++) {\n          errorMsg[i] = res.data.failed[i];\n        }\n      }\n      let items = res.data.success;\n      this.setState({\n        errorMsg: errorMsg,\n        sharedItems: this.state.sharedItems.concat(items),\n        selectedOption: null,\n        permission: 'rw',\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteShareItem = (groupID) => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminDeleteRepoSharedItem(repoID, 'group', groupID).then(() => {\n      this.setState({\n        sharedItems: this.state.sharedItems.filter(item => { return item.group_id !== groupID; })\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onChangeUserPermission = (item, permission) => {\n    let repoID = this.props.repoID;\n    let groupID = item.group_id;\n    seafileAPI.sysAdminUpdateRepoSharedItemPermission(repoID, 'group', groupID, permission).then(() => {\n      this.updateSharedItems(item, permission);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateSharedItems = (item, permission) => {\n    let groupID = item.group_id;\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      let sharedItemGroupID = sharedItem.group_id;\n      if (groupID === sharedItemGroupID) {\n        sharedItem.permission = permission;\n        sharedItem.is_admin = permission === 'admin' ? true : false;\n      }\n      return sharedItem;\n    });\n    this.setState({sharedItems: sharedItems});\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('Group')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <SeahubSelect\n                  onChange={this.handleSelectChange}\n                  options={this.options}\n                  placeholder={gettext('Select groups...')}\n                  maxMenuHeight={200}\n                  value={this.state.selectedOption}\n                  components={{ NoOptionsMessage: NoGroupMessage }}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor\n                  repoID={this.props.repoID}\n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareToGroup}>{gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&\n              this.state.errorMsg.map((item, index) => {\n                let errMessage = item.group_name + ': ' + item.error_msg;\n                return (\n                  <tr key={index}>\n                    <td colSpan={3}><p className=\"error\">{errMessage}</p></td>\n                  </tr>\n                );\n              })\n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"50%\">{gettext('Group')}</th>\n                <th width=\"35%\">{gettext('Permission')}</th>\n                <th width=\"15%\"></th>\n              </tr>\n            </thead>\n            <GroupList\n              items={this.state.sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem}\n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nSysAdminShareToGroup.propTypes = propTypes;\n\nexport default SysAdminShareToGroup;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SysAdminShareToUser from './sysadmin-share-to-user';\nimport SysAdminShareToGroup from './sysadmin-share-to-group';\nimport '../../../css/share-link-dialog.css';\n\nconst propTypes = {\n  itemName: PropTypes.string.isRequired,\n  itemPath: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  repoEncrypted: PropTypes.bool,\n  userPerm: PropTypes.string,\n  enableDirPrivateShare: PropTypes.bool\n};\n\nclass SysAdminShareDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: this.getInitialActiveTab(),\n      isRepoOwner: false\n    };\n  }\n\n  getInitialActiveTab = () => {\n    return 'shareToUser';\n  };\n\n  toggle = (tab) => {\n    if (this.state.activeTab !== tab) {\n      this.setState({activeTab: tab});\n    }\n  };\n\n  renderDirContent = () => {\n    let activeTab = this.state.activeTab;\n    const { enableDirPrivateShare, isGroupOwnedRepo } = this.props;\n    return (\n      <Fragment>\n        <div className=\"share-dialog-side\">\n          <Nav pills>\n            {enableDirPrivateShare &&\n              <Fragment>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToUser' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToUser')}>\n                    {gettext('Share to user')}\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToGroup' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToGroup')}>\n                    {gettext('Share to group')}\n                  </NavLink>\n                </NavItem>\n              </Fragment>\n            }\n          </Nav>\n        </div>\n        <div className=\"share-dialog-main\">\n          <TabContent activeTab={this.state.activeTab}>\n            {enableDirPrivateShare &&\n              <Fragment>\n                <TabPane tabId=\"shareToUser\">\n                  <SysAdminShareToUser itemType={'library'} isGroupOwnedRepo={isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} isRepoOwner={this.state.isRepoOwner}/>\n                </TabPane>\n                <TabPane tabId=\"shareToGroup\">\n                  <SysAdminShareToGroup itemType={'library'} isGroupOwnedRepo={isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} isRepoOwner={this.state.isRepoOwner}/>\n                </TabPane>\n              </Fragment>\n            }\n          </TabContent>\n        </div>\n      </Fragment>\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <Modal isOpen={true} style={{maxWidth: '720px'}} className=\"share-dialog\" toggle={this.props.toggleDialog}>\n          <ModalHeader toggle={this.props.toggleDialog}>{gettext('Share')} <span className=\"op-target\" title={this.props.itemName}>{this.props.itemName}</span></ModalHeader>\n          <ModalBody className=\"share-dialog-content\">\n            {this.renderDirContent()}\n          </ModalBody>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nSysAdminShareDialog.propTypes = propTypes;\n\nexport default SysAdminShareDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nconst propTypes = {\n  itemName: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n};\n\nclass SysAdminLibHistorySettingDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      keepDays: -1,\n      expireDays: 30,\n      disabled: true,\n      allHistory: true,\n      noHistory: false,\n      autoHistory: false,\n      errorInfo: ''\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.sysAdminGetRepoHistorySetting(this.props.repoID).then(res => {\n      this.setState({\n        keepDays: res.data.keep_days,\n        allHistory: res.data.keep_days < 0 ? true : false,\n        noHistory: res.data.keep_days === 0 ? true : false,\n        autoHistory: res.data.keep_days > 0 ? true : false,\n        disabled: res.data.keep_days > 0 ? false : true,\n        expireDays: res.data.keep_days > 0 ? res.data.keep_days : 30,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  submit = () => {\n    let days = this.state.keepDays;\n    if (this.state.autoHistory) {\n      days = this.state.expireDays;\n    }\n    let repoID = this.props.repoID;\n    let reg = /^-?\\d+$/;\n    let flag = reg.test(days);\n    if (flag) {\n      let message = gettext('Successfully set library history.');\n      seafileAPI.sysAdminUpdateRepoHistorySetting(repoID, days).then(res => {\n        toaster.success(message);\n        this.setState({keepDays: res.data.keep_days});\n        this.props.toggleDialog();\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      this.setState({\n        errorInfo: gettext('Please enter a non-negative integer'),\n      });\n    }\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.submit();\n      e.preventDefault();\n    }\n  };\n\n  onChange = (e) => {\n    let num = e.target.value;\n    this.setState({\n      keepDays: num,\n      expireDays: num,\n    });\n  };\n\n  setLimitDays = (type) => {\n    if (type === 'allHistory') {\n      this.setState({\n        keepDays: -1,\n      });\n    } else if (type === 'noHistory') {\n      this.setState({\n        keepDays: 0,\n      });\n    } else {\n      this.setState({\n        disabled: false\n      });\n    }\n\n    this.setState({\n      allHistory: type === 'allHistory' ? true : false,\n      noHistory: type === 'noHistory' ? true : false,\n      autoHistory: type === 'autoHistory' ? true : false,\n    });\n  };\n\n  render() {\n    const itemName = this.props.itemName;\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.props.toggleDialog}>\n          <span className=\"op-target\" title={itemName}>{itemName}</span>{' '}\n          {gettext('History Setting')}\n        </ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.allHistory} onChange={() => {this.setLimitDays('allHistory');}}/>{' '}\n              <Label>{gettext('Keep full history')}</Label>\n            </FormGroup>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.noHistory} onChange={() =>{this.setLimitDays('noHistory');}}/>{' '}\n              <Label>{gettext('Don\\'t keep history')}</Label>\n            </FormGroup>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.autoHistory} onChange={() =>{this.setLimitDays('autoHistory');}}/>{' '}\n              <Label>{gettext('Only keep a period of history:')}</Label>\n              <Input\n                type=\"text\"\n                className=\"expire-input\"\n                value={this.state.expireDays}\n                onChange={this.onChange}\n                disabled={this.state.disabled}\n                onKeyDown={this.handleKeyDown}\n              />{' '}\n              <Label><span>{gettext('days')}</span></Label>\n            </FormGroup>\n            {this.state.errorInfo && <Alert color=\"danger\">{this.state.errorInfo}</Alert>}\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.submit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminLibHistorySettingDialog.propTypes = propTypes;\n\nexport default SysAdminLibHistorySettingDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot, isPro } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport ModalPortal from '../../../components/modal-portal';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport TransferDialog from '../../../components/dialog/transfer-dialog';\nimport DeleteRepoDialog from '../../../components/dialog/delete-repo-dialog';\nimport SysAdminShareDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-share-dialog';\nimport SysAdminLibHistorySettingDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-lib-history-setting-dialog';\nimport UserLink from '../user-link';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  sortByFileCount = (e) => {\n    e.preventDefault();\n    this.props.sortItems('file_count');\n  };\n\n  sortBySize = (e) => {\n    e.preventDefault();\n    this.props.sortItems('size');\n  };\n\n  render() {\n    // offer 'sort' only for 'all repos'\n    const { loading, errorMsg, items, pageInfo, curPerPage, sortBy } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const initialSortIcon = <span className=\"fas fa-sort\"></span>;\n      const sortIcon = <span className=\"fas fa-caret-down\"></span>;\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\">{/*icon*/}</th>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"15%\">\n                  {sortBy != undefined ?\n                    <Fragment>\n                      <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByFileCount}>{gettext('Files')} {sortBy == 'file_count' ? sortIcon : initialSortIcon}</a>{' / '}\n                      <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortBySize}>{gettext('Size')} {sortBy == 'size' ? sortIcon : initialSortIcon}</a>\n                    </Fragment> :\n                    gettext('Files') / gettext('Size')\n                  }\n                </th>\n                <th width=\"32%\">ID</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  repo={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  onDeleteRepo={this.props.onDeleteRepo}\n                  onTransferRepo={this.props.onTransferRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageList}\n            gotoNextPage={this.getNextPageList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onRestoreRepo: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  resetPerPage: PropTypes.func,\n  pageInfo: PropTypes.object,\n  curPerPage: PropTypes.number,\n  sortItems: PropTypes.func,\n  sortBy: PropTypes.string,\n  onTransferRepo: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isShareDialogOpen: false,\n      isDeleteDialogOpen: false,\n      isTransferDialogOpen: false,\n      isHistorySettingDialogOpen: false,\n      isRepoDeleted: false,\n    };\n  }\n\n  onDeleteRepo = (repo) => {\n    seafileAPI.sysAdminDeleteRepo(repo.id).then((res) => {\n      this.props.onDeleteRepo(repo);\n      this.setState({\n        isDeleteDialogOpen: false,\n        isRepoDeleted: true,\n      });\n      const msg = gettext('Successfully deleted {name}.').replace('{name}', repo.name);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n\n      this.setState({isRepoDeleted: false});\n    });\n  };\n\n  onTransferRepo = (owner) => {\n    seafileAPI.sysAdminTransferRepo(this.props.repo.id, owner.email).then((res) => {\n      this.props.onTransferRepo(res.data);\n      let message = gettext('Successfully transferred the library.');\n      toaster.success(message);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n    this.toggleTransferDialog();\n  };\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Share':\n        this.toggleShareDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Transfer':\n        this.toggleTransferDialog();\n        break;\n      case 'History Setting':\n        this.toggleHistorySettingDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  toggleShareDialog = () => {\n    this.setState({isShareDialogOpen: !this.state.isShareDialogOpen});\n  };\n\n  toggleDeleteDialog = () => {\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  toggleTransferDialog = () => {\n    this.setState({isTransferDialogOpen: !this.state.isTransferDialogOpen});\n  };\n\n  toggleHistorySettingDialog = () => {\n    this.setState({isHistorySettingDialogOpen: !this.state.isHistorySettingDialogOpen});\n  };\n\n  renderRepoName = () => {\n    const { repo } = this.props;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return '--';\n    }\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Share':\n        translateResult = gettext('Share');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n      case 'History Setting':\n        translateResult = gettext('History Setting');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  };\n\n  getOperations = () => {\n    const { repo } = this.props;\n    let operations = ['Delete', 'Transfer'];\n    if (!repo.encrypted) {\n      operations.push('Share');\n    }\n    operations.push('History Setting');\n    return operations;\n  };\n\n  render () {\n    const { repo } = this.props;\n    const {\n      isOpIconShown,\n      isShareDialogOpen,\n      isDeleteDialogOpen,\n      isTransferDialogOpen,\n      isHistorySettingDialogOpen\n    } = this.state;\n    let iconUrl = Utils.getLibIconUrl(repo);\n    let iconTitle = Utils.getLibIconTitle(repo);\n    const index = repo.owner_email.indexOf('@seafile_group');\n    let isGroupOwnedRepo = index != -1;\n    let departmentID;\n    if (isGroupOwnedRepo) {\n      departmentID = repo.owner_email.substring(0, index);\n    }\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{`${repo.file_count} / ${Utils.bytesToSize(repo.size)}`}</td>\n          <td>{repo.id}</td>\n          <td>\n            {isGroupOwnedRepo ?\n              <Link to={`${siteRoot}sys/departments/${departmentID}/`}>{repo.owner_name}</Link> :\n              <UserLink email={repo.owner_email} name={repo.owner_name} />\n            }\n          </td>\n          <td>\n            {(!isGroupOwnedRepo && isOpIconShown) &&\n            <OpMenu\n              operations={this.getOperations()}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isShareDialogOpen &&\n          <ModalPortal>\n            <SysAdminShareDialog\n              itemName={repo.name}\n              itemPath={'/'}\n              repoID={repo.id}\n              isGroupOwnedRepo={isGroupOwnedRepo}\n              repoEncrypted={repo.encrypted}\n              enableDirPrivateShare={true}\n              userPerm={repo.permission}\n              toggleDialog={this.toggleShareDialog}\n            />\n          </ModalPortal>\n        }\n        {isDeleteDialogOpen &&\n          <ModalPortal>\n            <DeleteRepoDialog\n              repo={repo}\n              isRepoDeleted={this.state.isRepoDeleted}\n              onDeleteRepo={this.onDeleteRepo}\n              toggle={this.toggleDeleteDialog}\n            />\n          </ModalPortal>\n        }\n        {isTransferDialogOpen &&\n          <ModalPortal>\n            <TransferDialog\n              itemName={repo.name}\n              submit={this.onTransferRepo}\n              canTransferToDept={false}\n              toggleDialog={this.toggleTransferDialog}\n            />\n          </ModalPortal>\n        }\n        {isHistorySettingDialogOpen &&\n          <ModalPortal>\n            <SysAdminLibHistorySettingDialog\n              repoID={repo.id}\n              itemName={repo.name}\n              toggleDialog={this.toggleHistorySettingDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  repo: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onTransferRepo: PropTypes.func.isRequired,\n};\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminCreateRepoDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-create-repo-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport ReposNav from './repos-nav';\nimport Content from './repos';\n\nclass AllRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      repos: [],\n      pageInfo: {},\n      perPage: 25,\n      sortBy: '',\n      isCreateRepoDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage, sortBy } = this.state;\n    this.setState({\n      sortBy: urlParams.get('order_by') || sortBy,\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getReposByPage(this.state.currentPage);\n    });\n  }\n\n  toggleCreateRepoDialog = () => {\n    this.setState({isCreateRepoDialogOpen: !this.state.isCreateRepoDialogOpen});\n  };\n\n  getReposByPage = (page) => {\n    const { perPage, sortBy } = this.state;\n    seafileAPI.sysAdminListAllRepos(page, perPage, sortBy).then((res) => {\n      this.setState({\n        loading: false,\n        repos: res.data.repos,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  sortItems = (sortBy) => {\n    this.setState({\n      currentPage: 1,\n      sortBy: sortBy\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { currentPage, sortBy } = this.state;\n      searchParams.set('page', currentPage);\n      searchParams.set('order_by', sortBy);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.getReposByPage(currentPage);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getReposByPage(1);\n    });\n  };\n\n  createRepo = (repoName, Owner) => {\n    seafileAPI.sysAdminCreateRepo(repoName, Owner).then(res => {\n      this.state.repos.unshift(res.data);\n      this.setState({\n        repos: this.state.repos\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onDeleteRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  onTransferRepo = (targetRepo) => {\n    let repos = this.state.repos.map((item) => {\n      return item.id == targetRepo.id ? targetRepo : item;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search libraries by name or ID')}\n      submit={this.searchRepos}\n    />;\n  };\n\n  searchRepos = (repoNameOrID) => {\n    if (this.getValueLength(repoNameOrID) < 3) {\n      toaster.notify(gettext('Required at least three letters.'));\n      return;\n    }\n    navigate(`${siteRoot}sys/search-libraries/?name_or_id=${encodeURIComponent(repoNameOrID)}`);\n  };\n\n  getValueLength(str) {\n    let code, len = 0;\n    for (let i = 0, length = str.length; i < length; i++) {\n      code = str.charCodeAt(i);\n      if (code === 10) { //solve enter problem\n        len += 2;\n      } else if (code < 0x007f) {\n        len += 1;\n      } else if (code >= 0x0080 && code <= 0x07ff) {\n        len += 2;\n      } else if (code >= 0x0800 && code <= 0xffff) {\n        len += 3;\n      }\n    }\n    return len;\n  }\n\n  render() {\n    let { isCreateRepoDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleCreateRepoDialog}>\n            <i className=\"fas fa-plus-square text-secondary mr-1\"></i>{gettext('New Library')}\n          </Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"all\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repos}\n                sortBy={this.state.sortBy}\n                sortItems={this.sortItems}\n                pageInfo={this.state.pageInfo}\n                curPerPage={this.state.perPage}\n                getListByPage={this.getReposByPage}\n                resetPerPage={this.resetPerPage}\n                onDeleteRepo={this.onDeleteRepo}\n                onTransferRepo={this.onTransferRepo}\n              />\n            </div>\n          </div>\n        </div>\n        {isCreateRepoDialogOpen &&\n        <SysAdminCreateRepoDialog\n          createRepo={this.createRepo}\n          toggleDialog={this.toggleCreateRepoDialog}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default AllRepos;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport ReposNav from './repos-nav';\n\nclass Content extends Component {\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"33%\">{gettext('Name')}</th>\n                <th width=\"34%\">ID</th>\n                <th width=\"33%\">{gettext('Description')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item}/>);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return table;\n    }\n  }\n}\n\n\nContent.propTypes = {\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  currentPage: PropTypes.number,\n  curPerPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n  render() {\n    const item = this.props.item;\n    return (\n      <tr>\n        <td><Link to={`${siteRoot}sys/libraries/${item.id}/`}>{item.name}</Link></td>\n        <td>{item.id}</td>\n        <td>{item.description}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass SystemRepo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetSystemRepoInfo().then((res) => {\n      let items = [];\n      items.push(res.data);\n      this.setState({\n        items: items,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"system\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SystemRepo;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport ModalPortal from '../../../components/modal-portal';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport UserLink from '../user-link';\nimport ReposNav from './repos-nav';\n\nconst { trashReposExpireDays } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No deleted libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <p className=\"mt-4 small text-secondary\">{gettext('Tip: libraries deleted {trashReposExpireDays} days ago will be cleaned automatically.').replace('{trashReposExpireDays}', trashReposExpireDays)}</p>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\">{/*icon*/}</th>\n                <th width=\"43%\">{gettext('Name')}</th>\n                <th width=\"27%\">{gettext('Owner')}</th>\n                <th width=\"20%\">{gettext('Deleted Time')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  repo={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  onDeleteRepo={this.props.onDeleteRepo}\n                  onRestoreRepo={this.props.onRestoreRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageList}\n            gotoNextPage={this.getNextPageList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onRestoreRepo: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  resetPerPage: PropTypes.func,\n  pageInfo: PropTypes.object,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false,\n      isDeleteRepoDialogOpen: false,\n      isRestoreRepoDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onDeleteRepo = () => {\n    const repo = this.props.repo;\n    seafileAPI.sysAdminDeleteTrashRepo(repo.id).then((res) => {\n      this.props.onDeleteRepo(repo);\n      const msg = gettext('Successfully deleted {name}.').replace('{name}', repo.name);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onRestoreRepo = () => {\n    const repo = this.props.repo;\n    seafileAPI.sysAdminRestoreTrashRepo(repo.id).then((res) => {\n      this.props.onRestoreRepo(repo);\n      let message = gettext('Successfully restored the library.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleDeleteRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteRepoDialogOpen: !this.state.isDeleteRepoDialogOpen});\n  };\n\n  toggleRestoreRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isRestoreRepoDialogOpen: !this.state.isRestoreRepoDialogOpen});\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Restore':\n        translateResult = gettext('Restore');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Restore':\n        this.toggleRestoreRepoDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteRepoDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  render () {\n    const { repo } = this.props;\n    const { isOpIconShown, isDeleteRepoDialogOpen, isRestoreRepoDialogOpen } = this.state;\n    const iconUrl = Utils.getLibIconUrl(repo);\n    const iconTitle = Utils.getLibIconTitle(repo);\n    const repoName = '<span class=\"op-target\">' + Utils.HTMLescape(repo.name) + '</span>';\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{repo.name}</td>\n          <td>\n            {repo.owner.indexOf('@seafile_group') == -1 ?\n              <UserLink email={repo.owner} name={repo.owner_name} /> :\n              repo.group_name}\n          </td>\n          <td>{moment(repo.delete_time).fromNow()}</td>\n          <td>\n            {isOpIconShown && (\n              <OpMenu\n                operations={['Restore', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            )}\n          </td>\n        </tr>\n        {isDeleteRepoDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Delete Library')}\n              message={gettext('Are you sure you want to delete {placeholder} completely?').replace('{placeholder}', repoName)}\n              executeOperation={this.onDeleteRepo}\n              confirmBtnText={gettext('Delete')}\n              toggleDialog={this.toggleDeleteRepoDialog}\n            />\n          </ModalPortal>\n        }\n        {isRestoreRepoDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Restore Library')}\n              message={gettext('Are you sure you want to restore {placeholder}?').replace('{placeholder}', repoName)}\n              executeOperation={this.onRestoreRepo}\n              confirmBtnText={gettext('Restore')}\n              toggleDialog={this.toggleRestoreRepoDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  repo: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onRestoreRepo: PropTypes.func,\n};\n\nclass TrashRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      repos: [],\n      pageInfo: {},\n      perPage: 25,\n      isCleanTrashDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getReposByPage(this.state.currentPage);\n    });\n  }\n\n  toggleCleanTrashDialog = () => {\n    this.setState({isCleanTrashDialogOpen: !this.state.isCleanTrashDialogOpen});\n  };\n\n  getReposByPage = (page) => {\n    let perPage = this.state.perPage;\n    seafileAPI.sysAdminListTrashRepos(page, perPage).then((res) => {\n      this.setState({\n        repos: res.data.repos,\n        pageInfo: res.data.page_info,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getReposByPage(1);\n    });\n  };\n\n  onDeleteRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  onRestoreRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  cleanTrash = () => {\n    seafileAPI.sysAdminCleanTrashRepos().then(res => {\n      this.setState({repos: []});\n      toaster.success(gettext('Successfully cleared trash.'));\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search libraries by owner')}\n      submit={this.searchRepos}\n    />;\n  };\n\n  searchRepos = (owner) => {\n    seafileAPI.sysAdminSearchTrashRepos(owner).then((res) => {\n      this.setState({\n        repos: res.data.repos,\n        pageInfo: null,\n        errorMsg: '', // necessary!\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  render() {\n    const { isCleanTrashDialogOpen } = this.state;\n\n    // enable 'search': <MainPanelTopbar search={this.getSearch()}>\n    return (\n      <Fragment>\n        {this.state.repos.length ? (\n          <MainPanelTopbar {...this.props}>\n            <Button className=\"operation-item\" onClick={this.toggleCleanTrashDialog}>{gettext('Clean')}</Button>\n          </MainPanelTopbar>\n        ) : <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"trash\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repos}\n                pageInfo={this.state.pageInfo}\n                onDeleteRepo={this.onDeleteRepo}\n                onRestoreRepo={this.onRestoreRepo}\n                getListByPage={this.getReposByPage}\n                resetPerPage={this.resetPerPage}\n                curPerPage={this.state.perPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isCleanTrashDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Clear Trash')}\n            message={gettext('Are you sure you want to clear trash?')}\n            executeOperation={this.cleanTrash}\n            confirmBtnText={gettext('Clear')}\n            toggleDialog={this.toggleCleanTrashDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default TrashRepos;\n","import React, { Component, Fragment } from 'react';\nimport { Form, FormGroup, Input, Label, Col } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './repos';\n\n\nclass SearchRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      currentPage: 1,\n      perPage: 25,\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      repos: [],\n      pageInfo: {},\n    };\n  }\n\n  componentDidMount() {\n    let params = (new URL(document.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      name: params.get('name_or_id') || '',\n      perPage: parseInt(params.get('per_page') || perPage),\n      currentPage: parseInt(params.get('page') || currentPage),\n    }, () => {\n      this.getRepos(this.state.currentPage);\n    });\n  }\n\n  getRepos = (page) => {\n    const { name, perPage } = this.state;\n    seafileAPI.sysAdminSearchRepos(name, page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        errorMsg: '',\n        repos: res.data.repo_list,\n        pageInfo: res.data.page_info,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  searchRepos = () => {\n    const { currentPage } = this.state;\n    this.getRepos(currentPage);\n  };\n\n  onDeleteRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  onTransferRepo = (targetRepo) => {\n    let repos = this.state.repos.map((item) => {\n      return item.id == targetRepo.id ? targetRepo : item;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  handleNameInputChange = (e) => {\n    this.setState({\n      name: e.target.value,\n      currentPage: 1,\n    }, this.checkSubmitBtnActive);\n  };\n\n  checkSubmitBtnActive = () => {\n    const { name } = this.state;\n    this.setState({\n      isSubmitBtnActive: name.trim()\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive, name } = this.state;\n      if (isSubmitBtnActive) {\n        if (this.getValueLength(name) < 3) {\n          toaster.notify(gettext('Required at least three letters.'));\n          return;\n        }\n        this.searchRepos();\n      }\n    }\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage,\n      currentPage: 1,\n    }, () => {\n      this.searchRepos();\n    });\n  };\n\n  getValueLength(str) {\n    let code, len = 0;\n    for (let i = 0, length = str.length; i < length; i++) {\n      code = str.charCodeAt(i);\n      if (code === 10) { //solve enter problem\n        len += 2;\n      } else if (code < 0x007f) {\n        len += 1;\n      } else if (code >= 0x0080 && code <= 0x07ff) {\n        len += 2;\n      } else if (code >= 0x0800 && code <= 0xffff) {\n        len += 3;\n      }\n    }\n    return len;\n  }\n\n  render() {\n    const { name, isSubmitBtnActive } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Libraries')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Libraries')}</h4>\n                <p className=\"text-secondary small\">{gettext('Tip: you can search by keyword in name or ID.')}</p>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Label for=\"name\" sm={1}>{gettext('Name or ID')}</Label>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"name\" id=\"name\" value={name} onChange={this.handleNameInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5, offset: 1}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.searchRepos}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.repos}\n                  pageInfo={this.state.pageInfo}\n                  curPerPage={this.state.perPage}\n                  getListByPage={this.getRepos}\n                  resetPerPage={this.resetPerPage}\n                  onDeleteRepo={this.onDeleteRepo}\n                  onTransferRepo={this.onTransferRepo}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchRepos;\n","class Dirent {\n  constructor(obj) {\n    this.name = obj.obj_name;\n    this.mtime = obj.last_update;\n    this.size = obj.file_size;\n    this.is_file = obj.is_file;\n  }\n\n  isDir() {\n    return !this.is_file;\n  }\n}\n\nexport default Dirent;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  repoName: PropTypes.string.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onPathClick: PropTypes.func.isRequired,\n  isSystemRepo: PropTypes.bool.isRequired,\n  repoID: PropTypes.string.isRequired,\n};\n\nclass DirPath extends React.Component {\n\n  onPathClick = (e) => {\n    let path = Utils.getEventData(e, 'path');\n    this.props.onPathClick(path);\n  };\n\n  turnPathToLink = (path) => {\n    path = path[path.length - 1] === '/' ? path.slice(0, path.length - 1) : path;\n    let pathList = path.split('/');\n    let nodePath = '';\n    let pathElem = pathList.map((item, index) => {\n      if (item === '') {\n        return null;\n      }\n      if (index === (pathList.length - 1)) {\n        return (\n          <Fragment key={index}>\n            <span className=\"path-split\">/</span>\n            <span className=\"path-file-name\">{item}</span>\n          </Fragment>\n        );\n      } else {\n        nodePath += '/' + item;\n        return (\n          <Fragment key={index} >\n            <span className=\"path-split\">/</span>\n            <a className=\"path-link\" data-path={nodePath} onClick={this.onPathClick}>{item}</a>\n          </Fragment>\n        );\n      }\n    });\n    return pathElem;\n  };\n\n  render() {\n    let { isSystemRepo, currentPath, repoName } = this.props;\n    let pathElem = this.turnPathToLink(currentPath);\n\n    return (\n      <div className=\"path-container\">\n        {isSystemRepo ?\n          <a href={`${siteRoot}sys/system-library/`}>{gettext('System')}</a> :\n          <a href={`${siteRoot}sys/all-libraries/`}>{gettext('All')}</a>\n        }\n        <span className=\"path-split\">/</span>\n        {(currentPath === '/' || currentPath === '') ?\n          <span className=\"path-repo-name\">{repoName}</span>:\n          <a className=\"path-link\" data-path=\"/\" onClick={this.onPathClick}>{repoName}</a>\n        }\n        {pathElem}\n      </div>\n    );\n  }\n}\n\nDirPath.propTypes = propTypes;\n\nexport default DirPath;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport Loading from '../../../components/loading';\n\nclass DirentItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  openFolder = () => {\n    this.props.openFolder(this.props.dirent);\n  };\n\n  deleteDirent = (e) => {\n    e.preventDefault();\n    this.props.deleteDirent(this.props.dirent);\n  };\n\n  downloadDirent = (e) => {\n    e.preventDefault();\n    this.props.downloadDirent(this.props.dirent);\n  };\n\n  render () {\n    let { isOpIconShown } = this.state;\n    let { dirent, fromSystemRepo } = this.props;\n    let iconUrl = Utils.getDirentIcon(dirent);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td className=\"text-center\"><img src={iconUrl} width=\"24\" alt='' /></td>\n          <td>\n            {dirent.is_file ?\n              dirent.name :\n              <Link to=\"#\" onClick={this.openFolder}>{dirent.name}</Link>\n            }\n          </td>\n          <td>\n            {isOpIconShown && fromSystemRepo &&\n              <a href=\"#\" className=\"op-icon sf2-icon-delete\" title={gettext('Delete')} onClick={this.deleteDirent}></a>\n            }\n            {isOpIconShown && dirent.is_file &&\n            <a href=\"#\" className=\"op-icon sf2-icon-download\" title={gettext('Download')} onClick={this.downloadDirent}></a>\n            }\n          </td>\n          <td>{dirent.size}</td>\n          <td>{moment(dirent.mtime).fromNow()}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nDirentItem.propTypes = {\n  dirent: PropTypes.object.isRequired,\n  fromSystemRepo: PropTypes.bool.isRequired,\n  deleteDirent: PropTypes.func.isRequired,\n  openFolder: PropTypes.func.isRequired,\n  downloadDirent: PropTypes.func.isRequired,\n};\n\nclass DirContent extends React.Component {\n\n  render() {\n    let { loading, errorMsg, direntList } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    }\n\n    if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    }\n\n    return (\n      <Fragment>\n        <table className=\"table-hover\">\n          <thead>\n            <tr>\n              <th width=\"5%\">{/*icon*/}</th>\n              <th width=\"55%\">{gettext('Name')}</th>\n              <th width=\"10%\">{/*operation*/}</th>\n              <th width=\"15%\">{gettext('Size')}</th>\n              <th width=\"15%\">{gettext('Last Update')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {direntList.map((dirent, index) => {\n              return <DirentItem\n                key={index}\n                dirent={dirent}\n                openFolder={this.props.openFolder}\n                deleteDirent={this.props.deleteDirent}\n                downloadDirent={this.props.downloadDirent}\n                fromSystemRepo={this.props.fromSystemRepo}\n              />;\n            })}\n          </tbody>\n        </table>\n      </Fragment>\n    );\n  }\n}\n\nDirContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  openFolder: PropTypes.func.isRequired,\n  direntList: PropTypes.array.isRequired,\n  fromSystemRepo: PropTypes.bool.isRequired,\n  deleteDirent: PropTypes.func.isRequired,\n  downloadDirent: PropTypes.func.isRequired,\n};\n\nexport default DirContent;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport axios from 'axios';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport CreateFolderDialog from '../../../components/dialog/create-folder-dialog';\nimport Dirent from '../../../models/system-admin/dirent';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport DirPathBar from './dir-path-bar';\nimport DirContent from './dir-content';\n\nclass DirView extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      isSystemRepo: false,\n      repoName: '',\n      path: '',\n      direntList: [],\n      isNewFolderDialogOpen: false\n    };\n    this.fileInput = React.createRef();\n  }\n\n  componentDidMount () {\n    this.loadDirentList('/');\n  }\n\n  onPathClick = (path) => {\n    this.loadDirentList(path);\n  };\n\n  toggleNewFolderDialog = () => {\n    this.setState({isNewFolderDialogOpen: !this.state.isNewFolderDialogOpen});\n  };\n\n  createNewFolder = (path) => {\n    let folderName = Utils.getFileName(path);\n    seafileAPI.sysAdminCreateSysRepoFolder(this.props.repoID, this.state.path, folderName).then(res => {\n      let new_dirent = new Dirent(res.data);\n      let direntList = this.state.direntList;\n      direntList.unshift(new_dirent);\n      this.setState({\n        direntList: direntList\n      });\n      this.toggleNewFolderDialog();\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  openFolder = (dirent) => {\n    let direntPath = Utils.joinPath(this.state.path, dirent.name);\n    if (!dirent.is_file) {\n      this.loadDirentList(direntPath);\n    }\n  };\n\n  loadDirentList = (path) => {\n    const repoID = this.props.repoID;\n    seafileAPI.sysAdminListRepoDirents(repoID, path).then(res => {\n      const { is_system_library: isSystemRepo, repo_name: repoName, dirent_list } = res.data;\n      let direntList = [];\n      dirent_list.forEach(item => {\n        let dirent = new Dirent(item);\n        direntList.push(dirent);\n      });\n      this.setState({\n        loading: false,\n        repoName: repoName,\n        isSystemRepo: isSystemRepo,\n        direntList: direntList,\n        path: path,\n      }, () => {\n        let url = siteRoot + 'sys/libraries/' + repoID + '/' + encodeURIComponent(this.state.repoName) + Utils.encodePath(path);\n        window.history.replaceState({url: url, path: path}, path, url);\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteDirent = (dirent) => {\n    let path = Utils.joinPath(this.state.path, dirent.name);\n    seafileAPI.sysAdminDeleteRepoDirent(this.props.repoID, path).then(res => {\n      toaster.success(gettext('Successfully deleted 1 item.'));\n      let direntList = this.state.direntList.filter(item => {\n        return item.name != dirent.name;\n      });\n      this.setState({\n        direntList: direntList\n      });\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  downloadDirent = (dirent) => {\n    let path = Utils.joinPath(this.state.path, dirent.name);\n    seafileAPI.sysAdminGetRepoFileDownloadURL(this.props.repoID, path).then(res => {\n      location.href = res.data.download_url;\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  };\n\n  onFileInputChange = () => {\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n\n    let { path } = this.state;\n    seafileAPI.sydAdminGetSysRepoItemUploadURL(path).then(res => {\n      let formData = new FormData();\n      formData.append('parent_dir', path);\n      formData.append('file', file);\n      axios.post(res.data.upload_link, formData).then(res => {\n        const fileObj = res.data[0];\n        let newDirent = new Dirent({\n          'is_file': true,\n          'obj_name': fileObj.name,\n          'file_size': Utils.bytesToSize(fileObj.size),\n          'last_update': (new Date()).getTime()\n        });\n        let direntList = this.state.direntList;\n        const dirs = direntList.filter(item => { return !item.is_file; });\n        direntList.splice(dirs.length, 0, newDirent);\n        this.setState({\n          direntList: direntList\n        });\n      });\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  checkDuplicatedName = (newName) => {\n    let direntList = this.state.direntList;\n    let isDuplicated = direntList.some(object => {\n      return object.name === newName;\n    });\n    return isDuplicated;\n  };\n\n  render() {\n    const { loading, errorMsg,\n      repoName, direntList, isSystemRepo, path,\n      isNewFolderDialogOpen } = this.state;\n    const { repoID } = this.props;\n\n    return (\n      <Fragment>\n        {isSystemRepo ?\n          <MainPanelTopbar {...this.props}>\n            <Fragment>\n              <input className=\"d-none\" type=\"file\" onChange={this.onFileInputChange} ref={this.fileInput} />\n              <Button className=\"operation-item\" onClick={this.openFileInput}>{gettext('Upload')}</Button>\n              <Button className=\"operation-item\" onClick={this.toggleNewFolderDialog}>{gettext('New Folder')}</Button>\n            </Fragment>\n          </MainPanelTopbar> : <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path align-items-center\">\n              <DirPathBar\n                isSystemRepo={isSystemRepo}\n                repoID={repoID}\n                repoName={repoName}\n                currentPath={path}\n                onPathClick={this.onPathClick}\n              />\n            </div>\n            <div className=\"cur-view-content\">\n              <DirContent\n                loading={loading}\n                errorMsg={errorMsg}\n                fromSystemRepo={isSystemRepo}\n                direntList={direntList}\n                openFolder={this.openFolder}\n                deleteDirent={this.deleteDirent}\n                downloadDirent={this.downloadDirent}\n              />\n            </div>\n          </div>\n        </div>\n        {isNewFolderDialogOpen &&\n          <CreateFolderDialog\n            parentPath={path}\n            checkDuplicatedName={this.checkDuplicatedName}\n            onAddFolder={this.createNewFolder}\n            addFolderCancel={this.toggleNewFolderDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nDirView.propTypes = {\n  repoID: PropTypes.string,\n};\n\nexport default DirView;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\n\nconst propTypes = {\n  createGroup: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminCreateGroupDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupName: '',\n      ownerEmail: '',\n      errMessage: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleRepoNameChange = (e) => {\n    if (!e.target.value.trim()) {\n      this.setState({isSubmitBtnActive: false});\n    } else {\n      this.setState({isSubmitBtnActive: true});\n    }\n\n    this.setState({groupName: e.target.value});\n  };\n\n  handleSubmit = () => {\n    let groupName = this.state.groupName.trim();\n    this.props.createGroup(groupName, this.state.ownerEmail);\n  };\n\n  handleSelectChange = (option) => {\n    // option can be null\n    this.setState({\n      ownerEmail: option ? option.email : ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Group')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"groupName\">{gettext('Name')}</Label>\n              <Input\n                id=\"groupName\"\n                onKeyDown={this.handleKeyDown}\n                value={this.state.groupName}\n                onChange={this.handleRepoNameChange}\n                autoFocus={true}\n              />\n              <Label className=\"mt-2\">\n                {gettext('Owner')}\n                <span className=\"small text-secondary\">{gettext('(If left blank, owner will be admin)')}</span>\n              </Label>\n              <UserSelect\n                isMulti={false}\n                className=\"reviewer-select\"\n                placeholder={gettext('Select a user')}\n                onSelectChange={this.handleSelectChange}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminCreateGroupDialog.propTypes = propTypes;\n\nexport default SysAdminCreateGroupDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  groupName: PropTypes.string.isRequired,\n  transferGroup: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminTransferGroupDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      submitBtnDisabled: true\n    };\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({\n      selectedOption: option,\n      submitBtnDisabled: option == null\n    });\n  };\n\n  submit = () => {\n    const receiver = this.state.selectedOption.email;\n    this.props.transferGroup(receiver);\n    this.props.toggleDialog();\n  };\n\n  render() {\n    const { submitBtnDisabled } = this.state;\n    const groupName = '<span class=\"op-target\">' + Utils.HTMLescape(this.props.groupName) +'</span>';\n    const msg = gettext('Transfer Group {placeholder} to').replace('{placeholder}', groupName);\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.props.toggleDialog}>\n          <span dangerouslySetInnerHTML={{__html: msg}}></span>\n        </ModalHeader>\n        <ModalBody>\n          <UserSelect\n            ref=\"userSelect\"\n            isMulti={false}\n            className=\"reviewer-select\"\n            placeholder={gettext('Select a user')}\n            onSelectChange={this.handleSelectChange}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.submit} disabled={submitBtnDisabled}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminTransferGroupDialog.propTypes = propTypes;\n\nexport default SysAdminTransferGroupDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\nimport EmptyTip from '../../../components/empty-tip';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminTransferGroupDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-group-transfer-dialog';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No groups')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"40%\">{gettext('Owner')}</th>\n                <th width=\"20%\">{gettext('Created At')}</th>\n                <th width=\"5%\">{/* operation */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteGroup={this.props.deleteGroup}\n                  transferGroup={this.props.transferGroup}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getDeviceErrorsListByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  getListByPage: PropTypes.func.isRequired,\n  deleteGroup: PropTypes.func.isRequired,\n  transferGroup: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n      isTransferDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Transfer':\n        this.toggleTransferDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  toggleTransferDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isTransferDialogOpen: !this.state.isTransferDialogOpen});\n  };\n\n  deleteGroup = () => {\n    this.props.deleteGroup(this.props.item.id);\n  };\n\n  transferGroup = (receiver) => {\n    this.props.transferGroup(this.props.item.id, receiver);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, isTransferDialogOpen } = this.state;\n\n    let groupName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', groupName);\n\n    const groupUrl = item.parent_group_id == 0 ?\n      `${siteRoot}sys/groups/${item.id}/libraries/` :\n      `${siteRoot}sys/departments/${item.id}/`;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={groupUrl}>{item.name}</Link></td>\n          <td>\n            {item.owner == 'system admin' ?\n              '--' :\n              <UserLink email={item.owner} name={item.owner_name} />\n            }\n          </td>\n          <td>\n            <span title={moment(item.created_at).format('llll')}>{moment(item.created_at).fromNow()}</span>\n          </td>\n          <td>\n            {(isOpIconShown && item.owner != 'system admin') &&\n            <OpMenu\n              operations={['Delete', 'Transfer']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Group')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteGroup}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n        {isTransferDialogOpen &&\n          <SysAdminTransferGroupDialog\n            groupName={item.name}\n            transferGroup={this.transferGroup}\n            toggleDialog={this.toggleTransferDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteGroup: PropTypes.func.isRequired,\n  transferGroup: PropTypes.func.isRequired,\n};\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminCreateGroupDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-create-group-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport Content from './groups-content';\n\nclass Groups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      groupList: [],\n      pageInfo: {},\n      perPage: 25,\n      isCreateGroupDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getGroupListByPage(this.state.currentPage);\n    });\n  }\n\n  toggleCreateGroupDialog = () => {\n    this.setState({isCreateGroupDialogOpen: !this.state.isCreateGroupDialogOpen});\n  };\n\n  getGroupListByPage = (page) => {\n    seafileAPI.sysAdminListAllGroups(page, this.state.perPage).then((res) => {\n      this.setState({\n        loading: false,\n        groupList: res.data.groups,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getGroupListByPage(1);\n    });\n  };\n\n  createGroup = (groupName, OnwerEmail) => {\n    seafileAPI.sysAdminCreateNewGroup(groupName, OnwerEmail).then(res => {\n      let newGroupList = this.state.groupList;\n      newGroupList.unshift(res.data);\n      this.setState({\n        groupList: newGroupList\n      });\n      this.toggleCreateGroupDialog();\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteGroup = (groupID) => {\n    seafileAPI.sysAdminDismissGroupByID(groupID).then(res => {\n      let newGroupList = this.state.groupList.filter(item => {\n        return item.id != groupID;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  transferGroup = (groupID, receiverEmail) => {\n    seafileAPI.sysAdminTransferGroup(receiverEmail, groupID).then(res => {\n      let newGroupList = this.state.groupList.map(item => {\n        if (item.id == groupID) {\n          item = res.data;\n        }\n        return item;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully transferred the group.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search groups by name')}\n      submit={this.searchGroups}\n    />;\n  };\n\n  searchGroups = (name) => {\n    navigate(`${siteRoot}sys/search-groups/?name=${encodeURIComponent(name)}`);\n  };\n\n  render() {\n    let { isCreateGroupDialogOpen } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          <Fragment>\n            <Button className=\"operation-item\" onClick={this.toggleCreateGroupDialog}>{gettext('New Group')}</Button>\n            <a className=\"btn btn-secondary operation-item\" href={`${siteRoot}sys/groupadmin/export-excel/`}>{gettext('Export Excel')}</a>\n          </Fragment>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Groups')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.groupList}\n                pageInfo={this.state.pageInfo}\n                deleteGroup={this.deleteGroup}\n                transferGroup={this.transferGroup}\n                getListByPage={this.getGroupListByPage}\n                resetPerPage={this.resetPerPage}\n                curPerPage={this.state.perPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isCreateGroupDialogOpen &&\n          <SysAdminCreateGroupDialog\n            createGroup={this.createGroup}\n            toggleDialog={this.toggleCreateGroupDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Groups;\n","import React, { Component, Fragment } from 'react';\nimport { Form, FormGroup, Input, Label, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './groups-content';\n\nclass SearchGroups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      groupList: [],\n      pageInfo: null\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    this.setState({\n      name: params.get('name') || ''\n    }, this.getGroups);\n  }\n\n  getGroups = () => {\n    const { name } = this.state;\n    seafileAPI.sysAdminSearchGroups(name).then((res) => {\n      this.setState({\n        loading: false,\n        groupList: res.data.group_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteGroup = (groupID) => {\n    seafileAPI.sysAdminDismissGroupByID(groupID).then(res => {\n      let newGroupList = this.state.groupList.filter(item => {\n        return item.id != groupID;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  transferGroup = (groupID, receiverEmail) => {\n    seafileAPI.sysAdminTransferGroup(receiverEmail, groupID).then(res => {\n      let newGroupList = this.state.groupList.map(item => {\n        if (item.id == groupID) {\n          item = res.data;\n        }\n        return item;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully transferred the group.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  handleNameInputChange = (e) => {\n    this.setState({\n      name: e.target.value\n    }, this.checkSubmitBtnActive);\n  };\n\n  checkSubmitBtnActive = () => {\n    const { name } = this.state;\n    this.setState({\n      isSubmitBtnActive: name.trim()\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive } = this.state;\n      if (isSubmitBtnActive) {\n        this.getGroups();\n      }\n    }\n  };\n\n  render() {\n    const { name, isSubmitBtnActive } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Groups')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Groups')}</h4>\n                <p className=\"text-secondary small\">{gettext('Tip: you can search by keyword in name.')}</p>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Label for=\"name\" sm={1}>{gettext('Name')}</Label>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"name\" id=\"name\" value={name} onChange={this.handleNameInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5, offset: 1}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getGroups}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.groupList}\n                  deleteGroup={this.deleteGroup}\n                  transferGroup={this.transferGroup}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchGroups;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired,\n  groupName: PropTypes.string.isRequired,\n  groupID: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'repos', urlPart: 'groups/' + this.props.groupID + '/libraries', text: gettext('Libraries')},\n      {name: 'members', urlPart: 'groups/' + this.props.groupID + '/members', text: gettext('Members')}\n    ];\n  }\n\n  render() {\n    const { groupName, currentItem } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/groups/`}>{gettext('Groups')}</Link> / {groupName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext, isPro } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport GroupNav from './group-nav';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\">{/* icon */}</th>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Size')}</th>\n                <th width=\"25%\">{gettext('Shared By')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  unshareRepo={this.props.unshareRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getDeviceErrorsListByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  unshareRepo: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isUnshareRepoDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleUnshareRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isUnshareRepoDialogOpen: !this.state.isUnshareRepoDialogOpen});\n  };\n\n  unshareRepo = () => {\n    const { item } = this.props;\n    this.props.unshareRepo(item.repo_id, item.name);\n    this.toggleUnshareRepoDialog();\n  };\n\n  renderRepoName = () => {\n    const { item } = this.props;\n    const repo = item;\n    repo.id = item.repo_id;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <a href={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</a>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return '--';\n    }\n  };\n\n  render() {\n    let { isOpIconShown, isUnshareRepoDialogOpen } = this.state;\n    let { item } = this.props;\n\n    let iconUrl = Utils.getLibIconUrl(item);\n    let iconTitle = Utils.getLibIconTitle(item);\n\n    let repoName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let dialogMsg = gettext('Are you sure you want to unshare {placeholder} ?').replace('{placeholder}', repoName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{Utils.bytesToSize(item.size)}</td>\n          <td>\n            <UserLink email={item.shared_by} name={item.shared_by_name} />\n          </td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-x3 ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Unshare')} onClick={this.toggleUnshareRepoDialog}></a>\n          </td>\n        </tr>\n        {isUnshareRepoDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Unshare Library')}\n            message={dialogMsg}\n            executeOperation={this.unshareRepo}\n            confirmBtnText={gettext('Unshare')}\n            toggleDialog={this.toggleUnshareRepoDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  unshareRepo: PropTypes.func.isRequired,\n};\n\nclass GroupRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      groupName: '',\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminListGroupRepos(this.props.groupID).then((res) => {\n      this.setState({\n        loading: false,\n        repoList: res.data.libraries,\n        groupName: res.data.group_name\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  unshareRepo = (repoID, repoName) => {\n    seafileAPI.sysAdminUnshareRepoFromGroup(this.props.groupID, repoID).then(res => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.repo_id != repoID;\n      });\n      this.setState({\n        repoList: newRepoList\n      });\n      const msg = gettext('Successfully unshared library {placeholder}')\n        .replace('{placeholder}', repoName);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <GroupNav\n              groupID={this.props.groupID}\n              groupName={this.state.groupName}\n              currentItem=\"repos\"\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n                unshareRepo={this.unshareRepo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nGroupRepos.propTypes = {\n  groupID: PropTypes.string,\n};\n\nexport default GroupRepos;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addMembers: PropTypes.func.isRequired\n};\n\nclass SysAdminGroupAddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOptions: null,\n      isSubmitBtnDisabled: true\n    };\n  }\n\n  handleSelectChange = (options) => {\n    this.setState({\n      selectedOptions: options,\n      isSubmitBtnDisabled: !options.length\n    });\n  };\n\n  addMembers = () => {\n    let emails = this.state.selectedOptions.map(item => item.email);\n    this.props.addMembers(emails);\n    this.props.toggle();\n  };\n\n  render() {\n    const { isSubmitBtnDisabled } = this.state;\n    return (\n      <Modal isOpen={true}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            ref=\"userSelect\"\n            isMulti={true}\n            className=\"reviewer-select\"\n            placeholder={gettext('Search users...')}\n            onSelectChange={this.handleSelectChange}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.addMembers} disabled={isSubmitBtnDisabled}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminGroupAddMemberDialog.propTypes = propTypes;\n\nexport default SysAdminGroupAddMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  roleOptions: PropTypes.array.isRequired,\n  currentRole: PropTypes.string.isRequired,\n  onRoleChanged: PropTypes.func.isRequired\n};\n\nclass SysAdminGroupRoleEditor extends React.Component {\n\n  translateRoles = (role) => {\n    switch (role) {\n      case 'Member':\n        return gettext('Member');\n      case 'Admin':\n        return gettext('Admin');\n      default:\n        return role;\n    }\n  };\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.roleOptions}\n        currentOption={this.props.currentRole}\n        onOptionChanged={this.props.onRoleChanged}\n        translateOption={this.translateRoles}\n      />\n    );\n  }\n}\n\nSysAdminGroupRoleEditor.propTypes = propTypes;\n\nexport default SysAdminGroupRoleEditor;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminGroupAddMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-group-add-member-dialog';\nimport SysAdminGroupRoleEditor from '../../../components/select-editor/sysadmin-group-role-editor';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport GroupNav from './group-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No members')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\">{/* icon */}</th>\n                <th width=\"55%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Role')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  removeMember={this.props.removeMember}\n                  updateMemberRole={this.props.updateMemberRole}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageList}\n            gotoNextPage={this.getNextPageList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  removeMember: PropTypes.func.isRequired,\n  resetPerPage: PropTypes.func,\n  updateMemberRole: PropTypes.func.isRequired,\n  curPerPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  getListByPage: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  removeMember = () => {\n    const { item } = this.props;\n    this.props.removeMember(item.email, item.name);\n    this.toggleDeleteDialog();\n  };\n\n  updateMemberRole = (role) => {\n    this.props.updateMemberRole(this.props.item.email, role);\n  };\n\n  render() {\n    let { isOpIconShown, isDeleteDialogOpen } = this.state;\n    let { item } = this.props;\n\n    let itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let dialogMsg = gettext('Are you sure you want to remove {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={item.avatar_url} alt=\"\" className=\"rounded-circle\" width=\"24\" /></td>\n          <td><UserLink email={item.email} name={item.name} /></td>\n          <td>\n            {item.role == 'Owner' ?\n              gettext('Owner') :\n              <SysAdminGroupRoleEditor\n                isTextMode={true}\n                isEditIconShow={isOpIconShown}\n                roleOptions={['Member', 'Admin']}\n                currentRole={item.role}\n                onRoleChanged={this.updateMemberRole}\n              />\n            }\n          </td>\n          <td>\n            {item.role != 'Owner' &&\n            <a href=\"#\" className={`action-icon sf2-icon-x3 ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Remove')} onClick={this.toggleDeleteDialog}></a>\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Remove Member')}\n            message={dialogMsg}\n            executeOperation={this.removeMember}\n            confirmBtnText={gettext('Remove')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  removeMember: PropTypes.func.isRequired,\n  updateMemberRole: PropTypes.func.isRequired,\n};\n\nclass GroupMembers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      groupName: '',\n      memberList: [],\n      pageInfo: {},\n      currentPage: 1,\n      perPage: 25,\n      isAddMemberDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      currentPage: parseInt(urlParams.get('page') || currentPage),\n      perPage: parseInt(urlParams.get('per_page') || perPage)\n    }, () => {\n      this.getListByPage(this.state.currentPage);\n    });\n  }\n\n  getListByPage = (page) => {\n    const { perPage } = this.state;\n    seafileAPI.sysAdminListGroupMembers(this.props.groupID, page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        memberList: res.data.members,\n        groupName: res.data.group_name,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getListByPage(1);\n    });\n  };\n\n  toggleAddMemgerDialog = () => {\n    this.setState({isAddMemberDialogOpen: !this.state.isAddMemberDialogOpen});\n  };\n\n  addMembers = (emails) => {\n    seafileAPI.sysAdminAddGroupMember(this.props.groupID, emails).then(res => {\n      let newMemberList = res.data.success;\n      if (newMemberList.length) {\n        this.setState({\n          memberList: newMemberList.concat(this.state.memberList)\n        });\n        newMemberList.forEach(item => {\n          const msg = gettext('Successfully added {email_placeholder}')\n            .replace('{email_placeholder}', item.email);\n          toaster.success(msg);\n        });\n      }\n      res.data.failed.forEach(item => {\n        const msg = gettext('Failed to add {email_placeholder}: {error_msg_placeholder}')\n          .replace('{email_placeholder}', item.email)\n          .replace('{error_msg_placeholder}', item.error_msg);\n        toaster.danger(msg, {duration: 3});\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  removeMember = (email, name) => {\n    seafileAPI.sysAdminDeleteGroupMember(this.props.groupID, email).then(res => {\n      let newRepoList = this.state.memberList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({\n        memberList: newRepoList\n      });\n      toaster.success(gettext('Successfully removed {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateMemberRole = (email, role) => {\n    let isAdmin = role == 'Admin';\n    seafileAPI.sysAdminUpdateGroupMemberRole(this.props.groupID, email, isAdmin).then(res => {\n      let newRepoList = this.state.memberList.map(item => {\n        if (item.email == email) {\n          item.role = role;\n        }\n        return item;\n      });\n      this.setState({\n        memberList: newRepoList\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { isAddMemberDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddMemgerDialog}>{gettext('Add Member')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <GroupNav\n              currentItem=\"members\"\n              groupID={this.props.groupID}\n              groupName={this.state.groupName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.memberList}\n                removeMember={this.removeMember}\n                updateMemberRole={this.updateMemberRole}\n                pageInfo={this.state.pageInfo}\n                curPerPage={this.state.perPage}\n                getListByPage={this.getListByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddMemberDialogOpen &&\n          <SysAdminGroupAddMemberDialog\n            addMembers={this.addMembers}\n            toggle={this.toggleAddMemgerDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nGroupMembers.propTypes = {\n  groupID: PropTypes.string,\n};\n\nexport default GroupMembers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../../../css/org-department-item.css';\n\nclass Departments extends React.Component {\n  render() {\n    return (\n      <div className=\"h-100 org-departments\">\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nDepartments.propTypes = {\n  children: PropTypes.any.isRequired,\n};\n\nexport default Departments;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\n\nconst propTypes = {\n  groupID: PropTypes.string,\n  parentGroupID: PropTypes.string,\n  toggle: PropTypes.func.isRequired,\n  onAddNewDepartment: PropTypes.func.isRequired\n};\n\nclass AddDepartDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      departName: '',\n      errMessage: '',\n    };\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      let parentGroup = -1;\n      if (this.props.parentGroupID) {\n        parentGroup = this.props.parentGroupID;\n      }\n      seafileAPI.sysAdminAddNewDepartment(parentGroup, this.state.departName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onAddNewDepartment(res.data);\n      }).catch(error => {\n        let errorMsg = gettext(error.response.data.error_msg);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  };\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.departName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      departName: e.target.value,\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  render() {\n    let header = this.props.parentGroupID ? gettext('New Sub-department') : gettext('New Department');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{header}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"departName\">{gettext('Name')}</Label>\n              <Input\n                id=\"departName\"\n                onKeyDown={this.handleKeyDown}\n                value={this.state.departName}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddDepartDialog.propTypes = propTypes;\n\nexport default AddDepartDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nconst propTypes = {\n  groupID: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]).isRequired,\n  name: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onDepartmentNameChanged: PropTypes.func.isRequired\n};\n\nclass RenameDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      departmentName: this.props.name,\n      errMessage: ''\n    };\n    this.newInput = React.createRef();\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      seafileAPI.sysAdminRenameDepartment(this.props.groupID, this.state.departmentName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onDepartmentNameChanged(res.data);\n        toaster.success(gettext('Success'));\n      }).catch(error => {\n        let errorMsg = Utils.getErrorMsg(error);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  };\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.departmentName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      departmentName: e.target.value\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  onAfterModelOpened = () => {\n    if (!this.newInput.current) return;\n    this.newInput.current.focus();\n    this.newInput.current.select();\n  };\n\n  render() {\n    let header = gettext('Rename Department');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} onOpened={this.onAfterModelOpened}>\n        <ModalHeader toggle={this.props.toggle}>{header}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"departmentName\">{gettext('Name')}</Label>\n              <Input\n                id=\"departmentName\"\n                onKeyDown={this.handleKeyDown}\n                value={this.state.departmentName}\n                onChange={this.handleChange}\n                innerRef={this.newInput}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nRenameDepartmentDialog.propTypes = propTypes;\n\nexport default RenameDepartmentDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nconst propTypes = {\n  group: PropTypes.object.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onDeleteDepartment: PropTypes.func.isRequired\n};\n\nclass DeleteDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteDepart = () => {\n    this.props.toggle();\n    const { group } = this.props;\n    seafileAPI.sysAdminDeleteDepartment(group.id).then((res) => {\n      this.props.onDeleteDepartment(group.id);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { group } = this.props;\n\n    let tipMessage = gettext('Are you sure you want to delete {placeholder} ?');\n    tipMessage = tipMessage.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(group.name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Department')}</ModalHeader>\n        <ModalBody>\n          <p dangerouslySetInnerHTML={{__html: tipMessage}}></p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.deleteDepart}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDeleteDepartmentDialog.propTypes = propTypes;\n\nexport default DeleteDepartmentDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, InputGroupAddon, InputGroup } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.number.isRequired,\n  onSetQuota: PropTypes.func.isRequired,\n};\n\nclass SetGroupQuotaDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      quota: '',\n      errMessage: '',\n    };\n  }\n\n  setGroupQuota = () => {\n    const numberReg = /^[1-9]\\d*$/im;\n    let quota = this.state.quota;\n    if ((quota.length && numberReg.test(quota)) || quota == -2) {\n      this.setState({ errMessage: '' });\n      let newQuota = this.state.quota == -2 ? this.state.quota : this.state.quota * 1000000;\n      seafileAPI.sysAdminUpdateDepartmentQuota(this.props.groupID, newQuota).then((res) => {\n        this.props.toggle();\n        this.props.onSetQuota(res.data);\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      const err = gettext('Quota is invalid.');\n      this.setState({ errMessage: err });\n    }\n  };\n\n  handleChange = (e) => {\n    const quota = e.target.value.trim();\n    this.setState({ quota: quota });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.setGroupQuota();\n      e.preventDefault();\n    }\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Set Quota')}</ModalHeader>\n        <ModalBody>\n          <InputGroup>\n            <Input\n              onKeyDown={this.handleKeyDown}\n              value={this.state.quota}\n              onChange={this.handleChange}\n              autoFocus={true}\n            />\n            <InputGroupAddon addonType=\"append\">{'MB'}</InputGroupAddon>\n          </InputGroup>\n          <p className=\"tip\">\n            <br/><span>{gettext('An integer that is greater than 0 or equal to -2.')}</span><br/>\n            <span>{gettext('Tip: -2 means no limit.')}</span>\n          </p>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.setGroupQuota}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetGroupQuotaDialog.propTypes = propTypes;\n\nexport default SetGroupQuotaDialog;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport ModalPortal from '../../../components/modal-portal';\nimport RenameDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-rename-department-dialog';\nimport DeleteDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-delete-department-dialog';\nimport SetGroupQuotaDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-set-group-quota-dialog';\n\nconst GroupItemPropTypes = {\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  group: PropTypes.object.isRequired,\n  onDepartmentNameChanged: PropTypes.func.isRequired,\n  onDeleteDepartment: PropTypes.func.isRequired,\n  onSetDepartmentQuota: PropTypes.func.isRequired\n};\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isSetQuotaDialogOpen: false,\n      isDeleteDialogOpen: false,\n      isRenameDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Rename':\n        this.toggleRenameDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  toggleRenameDialog = () => {\n    this.setState({\n      isRenameDialogOpen: !this.state.isRenameDialogOpen\n    });\n  };\n\n  toggleDeleteDialog = () => {\n    this.setState({\n      isDeleteDialogOpen: !this.state.isDeleteDialogOpen\n    });\n  };\n\n  toggleSetQuotaDialog = () => {\n    this.setState({\n      isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen\n    });\n  };\n\n  render() {\n    const { group } = this.props;\n    const { highlight, isOpIconShown, isRenameDialogOpen, isDeleteDialogOpen, isSetQuotaDialogOpen } = this.state;\n    const newHref = siteRoot+ 'sys/departments/' + group.id + '/';\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td><Link to={newHref}>{group.name}</Link></td>\n          <td>{moment(group.created_at).fromNow()}</td>\n          <td>\n            {Utils.bytesToSize(group.quota)}{' '}\n            <span onClick={this.toggleSetQuotaDialog} title={gettext('Edit')} className={`fa fa-pencil-alt attr-action-icon ${highlight ? '' : 'vh'}`}></span>\n          </td>\n          <td>\n            {isOpIconShown &&\n              <OpMenu\n                operations={['Rename', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen && (\n          <ModalPortal>\n            <DeleteDepartmentDialog\n              group={group}\n              onDeleteDepartment={this.props.onDeleteDepartment}\n              toggle={this.toggleDeleteDialog}\n            />\n          </ModalPortal>\n        )}\n        {isSetQuotaDialogOpen && (\n          <ModalPortal>\n            <SetGroupQuotaDialog\n              groupID={group.id}\n              onSetQuota={this.props.onSetDepartmentQuota}\n              toggle={this.toggleSetQuotaDialog}\n            />\n          </ModalPortal>\n        )}\n        {isRenameDialogOpen && (\n          <RenameDepartmentDialog\n            groupID={group.id}\n            name={group.name}\n            toggle={this.toggleRenameDialog}\n            onDepartmentNameChanged={this.props.onDepartmentNameChanged}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nGroupItem.propTypes = GroupItemPropTypes;\n\nexport default GroupItem;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport ModalPortal from '../../../components/modal-portal';\nimport AddDepartDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-department-dialog';\nimport { gettext, lang } from '../../../utils/constants';\nimport GroupItem from './group-item';\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nclass DepartmentList extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groups: null,\n      groupID: '',\n      isShowAddDepartDialog: false,\n      isItemFreezed: false\n    };\n  }\n\n  componentDidMount() {\n    this.listDepartments();\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  listDepartments = () => {\n    seafileAPI.sysAdminListAllDepartments().then(res => {\n      this.setState({ groups: res.data.data });\n    });\n  };\n\n  toggleAddDepartDialog = () => {\n    this.setState({ isShowAddDepartDialog: !this.state.isShowAddDepartDialog });\n  };\n\n  onDepartmentNameChanged = (dept) => {\n    this.setState({\n      groups: this.state.groups.map(item => {\n        if (item.id == dept.id) {\n          item.name = dept.name;\n        }\n        return item;\n      })\n    });\n  };\n\n  onAddNewDepartment = (newDepartment) => {\n    const { groups } = this.state;\n    groups.unshift(newDepartment);\n    this.setState({\n      groups: groups\n    });\n  };\n\n  onDeleteDepartment = (id) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.filter((item) => item.id != id)\n    });\n  };\n\n  onSetDepartmentQuota = (target) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.map((item) => {\n        if (item.id == target.id) {\n          item.quota = target.quota;\n        }\n        return item;\n      })\n    });\n  };\n\n  render() {\n    const groups = this.state.groups;\n    const topbarChildren = (\n      <Fragment>\n        <button className='btn btn-secondary operation-item' title={gettext('New Department')} onClick={this.toggleAddDepartDialog}>{gettext('New Department')}\n        </button>\n        {this.state.isShowAddDepartDialog && (\n          <ModalPortal>\n            <AddDepartDialog\n              onAddNewDepartment={this.onAddNewDepartment}\n              groupID={this.state.groupID}\n              toggle={this.toggleAddDepartDialog}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          {topbarChildren}\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row h-100\">\n          <div className=\"cur-view-container o-auto\">\n            <div className=\"cur-view-path\">\n              <div className=\"fleft\">\n                <h3 className=\"sf-heading\">{gettext('Departments')}</h3>\n              </div>\n            </div>\n            <div className=\"cur-view-content\">\n              {groups && groups.length > 0 ?\n                <table>\n                  <thead>\n                    <tr>\n                      <th width=\"40%\">{gettext('Name')}</th>\n                      <th width=\"25%\">{gettext('Created At')}</th>\n                      <th width=\"20%\">{gettext('Quota')}</th>\n                      <th width=\"15%\"></th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {groups.map((group, index) => {\n                      return(\n                        <Fragment key={group.id}>\n                          <GroupItem\n                            group={group}\n                            isItemFreezed={this.state.isItemFreezed}\n                            onFreezedItem={this.onFreezedItem}\n                            onUnfreezedItem={this.onUnfreezedItem}\n                            onDepartmentNameChanged={this.onDepartmentNameChanged}\n                            onDeleteDepartment={this.onDeleteDepartment}\n                            onSetDepartmentQuota={this.onSetDepartmentQuota}\n                          />\n                        </Fragment>\n                      );\n                    })}\n                  </tbody>\n                </table>\n                :\n                <p className=\"no-group\">{gettext('No departments')}</p>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default DepartmentList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID:  PropTypes.string.isRequired,\n  onAddNewMembers: PropTypes.func.isRequired\n};\n\nclass AddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errMessage: '',\n    };\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({ selectedOption: option });\n  };\n\n  handleSubmit = () => {\n    if (!this.state.selectedOption) return;\n    const emails = this.state.selectedOption.map(item => item.email);\n    this.refs.orgSelect.clearSelect();\n    this.setState({ errMessage: [] });\n    seafileAPI.sysAdminAddGroupMember(this.props.groupID, emails).then((res) => {\n      this.setState({ selectedOption: null });\n      if (res.data.failed.length > 0) {\n        this.setState({ errMessage: res.data.failed[0].error_msg });\n      }\n      if (res.data.success.length > 0) {\n        this.props.onAddNewMembers(res.data.success);\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            placeholder={gettext('Search users...')}\n            onSelectChange={this.handleSelectChange}\n            ref=\"orgSelect\"\n            isMulti={true}\n            className='org-add-member-select'\n          />\n          { this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddMemberDialog.propTypes = propTypes;\n\nexport default AddMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.string,\n  onAddNewRepo: PropTypes.func.isRequired\n};\n\nclass AddRepoDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoName: '',\n      errMessage: '',\n    };\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      seafileAPI.sysAdminAddRepoInDepartment(this.props.groupID, this.state.repoName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onAddNewRepo(res.data);\n      }).catch(error => {\n        let errorMsg = Utils.getErrorMsg(error);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  };\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.repoName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      repoName: e.target.value,\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('New Library')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"repoName\">{gettext('Name')}</Label>\n              <Input\n                id=\"repoName\"\n                onKeyDown={this.handleKeyDown}\n                value={this.state.repoName}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddRepoDialog.propTypes = propTypes;\n\nexport default AddRepoDialog;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport ModalPortal from '../../../components/modal-portal';\nimport AddDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-department-dialog';\nimport RenameDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-rename-department-dialog';\nimport AddMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-member-dialog';\nimport AddRepoDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-repo-dialog';\nimport { siteRoot, gettext, lang } from '../../../utils/constants';\n\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst DepartmentDetailPropTypes = {\n  groupID: PropTypes.string,\n  currentItem: PropTypes.string.isRequired,\n  onAddNewDepartment: PropTypes.func,\n  onAddNewMembers: PropTypes.func,\n  onAddNewRepo: PropTypes.func,\n  children: PropTypes.object\n};\n\nclass Department extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupName: '',\n      ancestorGroups: [],\n      isShowAddDepartmentDialog: false,\n      isShowAddMemberDialog: false,\n      isShowRenameDepartmentDialog: false,\n      isShowAddRepoDialog: false\n    };\n\n    this.navItems = [\n      {name: 'subDepartments', urlPart: '/', text: gettext('Sub-departments')},\n      {name: 'members', urlPart: '/members/', text: gettext('Members')},\n      {name: 'repos', urlPart: '/libraries/', text: gettext('Libraries')}\n    ];\n  }\n\n  componentDidMount() {\n    const groupID = this.props.groupID;\n    this.getDepartmentInfo(groupID);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.getDepartmentInfo(nextProps.groupID);\n    }\n  }\n\n  getDepartmentInfo = (groupID) => {\n    seafileAPI.sysAdminGetDepartmentInfo(groupID, true).then(res => {\n      this.setState({\n        ancestorGroups: res.data.ancestor_groups,\n        groupName: res.data.name,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onDepartmentNameChanged = (dept) => {\n    this.setState({\n      groupName: dept.name\n    });\n  };\n\n  toggleRenameDepartmentDialog = () => {\n    this.setState({ isShowRenameDepartmentDialog: !this.state.isShowRenameDepartmentDialog });\n  };\n\n  toggleAddRepoDialog = () => {\n    this.setState({ isShowAddRepoDialog: !this.state.isShowAddRepoDialog });\n  };\n\n  toggleAddMemberDialog = () => {\n    this.setState({ isShowAddMemberDialog: !this.state.isShowAddMemberDialog });\n  };\n\n  toggleAddDepartmentDialog = () => {\n    this.setState({ isShowAddDepartmentDialog: !this.state.isShowAddDepartmentDialog});\n  };\n\n  render() {\n    const { groupID, currentItem } = this.props;\n    const { groupName } = this.state;\n\n    const topBtn = 'btn btn-secondary operation-item';\n    const topbarChildren = (\n      <Fragment>\n        {groupID &&\n          <Fragment>\n            <button className={topBtn} title={gettext('Rename Department')} onClick={this.toggleRenameDepartmentDialog}>{gettext('Rename Department')}</button>\n            {currentItem == 'subDepartments' && <button className={topBtn} title={gettext('New Sub-department')} onClick={this.toggleAddDepartmentDialog}>{gettext('New Sub-department')}</button>}\n            {currentItem == 'members' && <button className={topBtn} title={gettext('Add Member')} onClick={this.toggleAddMemberDialog}>{gettext('Add Member')}</button>}\n            {currentItem == 'repos' && <button className={topBtn} onClick={this.toggleAddRepoDialog} title={gettext('New Library')}>{gettext('New Library')}</button>}\n          </Fragment>\n        }\n        {this.state.isShowRenameDepartmentDialog && (\n          <ModalPortal>\n            <RenameDepartmentDialog\n              groupID={groupID}\n              name={groupName}\n              toggle={this.toggleRenameDepartmentDialog}\n              onDepartmentNameChanged={this.onDepartmentNameChanged}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddMemberDialog && (\n          <ModalPortal>\n            <AddMemberDialog\n              toggle={this.toggleAddMemberDialog}\n              onAddNewMembers={this.props.onAddNewMembers}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddRepoDialog && (\n          <ModalPortal>\n            <AddRepoDialog\n              toggle={this.toggleAddRepoDialog}\n              onAddNewRepo={this.props.onAddNewRepo}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddDepartmentDialog && (\n          <ModalPortal>\n            <AddDepartmentDialog\n              onAddNewDepartment={this.props.onAddNewDepartment}\n              parentGroupID={groupID}\n              toggle={this.toggleAddDepartmentDialog}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          {topbarChildren}\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row h-100\">\n          <div className=\"cur-view-container o-auto\">\n            <div className=\"cur-view-path\">\n              <div className=\"fleft\">\n                <h3 className=\"sf-heading\">\n                  {groupID ?\n                    <Link to={siteRoot + 'sys/departments/'}>{gettext('Departments')}</Link>\n                    : <span>{gettext('Departments')}</span>\n                  }\n                  {this.state.ancestorGroups.map(ancestor => {\n                    let newHref = siteRoot + 'sys/departments/' + ancestor.id + '/';\n                    return <span key={ancestor.id}>{' / '}<Link to={newHref}>{ancestor.name}</Link></span>;\n                  })}\n                  {groupID && <span>{' / '}{groupName}</span>}\n                </h3>\n              </div>\n            </div>\n\n            <ul className=\"nav border-bottom mx-4\">\n              {this.navItems.map((item, index) => {\n                return (\n                  <li className=\"nav-item mr-2\" key={index}>\n                    <Link to={`${siteRoot}sys/departments/${groupID}${item.urlPart}`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n                  </li>\n                );\n              })}\n            </ul>\n            {this.props.children}\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nDepartment.propTypes = DepartmentDetailPropTypes;\n\nexport default Department;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport { gettext, lang } from '../../../utils/constants';\nimport GroupItem from './group-item';\nimport Department from './department';\n\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst SubDepartmentsPropTypes = {\n  groupID: PropTypes.string\n};\n\nclass SubDepartments extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n      groups: []\n    };\n  }\n\n  componentDidMount() {\n    this.listSubDepartments(this.props.groupID);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listSubDepartments(nextProps.groupID);\n    }\n  }\n\n  listSubDepartments = (groupID) => {\n    seafileAPI.sysAdminGetDepartmentInfo(groupID, true).then(res => {\n      this.setState({groups: res.data.groups});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onSubDepartmentNameChanged = (dept) => {\n    this.setState({\n      groups: this.state.groups.map(item => {\n        if (item.id == dept.id) {\n          item.name = dept.name;\n        }\n        return item;\n      })\n    });\n  };\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  onAddNewDepartment = (newDepartment) => {\n    const { groups } = this.state;\n    groups.unshift(newDepartment);\n    this.setState({\n      groups: groups\n    });\n  };\n\n  onDeleteDepartment = (id) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.filter(item => item.id != id)\n    });\n  };\n\n  onSetDepartmentQuota = (target) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.map((item) => {\n        if (item.id == target.id) {\n          item.quota = target.quota;\n        }\n        return item;\n      })\n    });\n  };\n\n  render() {\n    const { groups } = this.state;\n    const { groupID } = this.props;\n\n    return (\n      <Department\n        groupID={groupID}\n        currentItem=\"subDepartments\"\n        onAddNewDepartment={this.onAddNewDepartment}\n      >\n        <div className=\"cur-view-content\">\n          {groups && groups.length > 0 ?\n            <table>\n              <thead>\n                <tr>\n                  <th width=\"40%\">{gettext('Name')}</th>\n                  <th width=\"25%\">{gettext('Created At')}</th>\n                  <th width=\"20%\">{gettext('Quota')}</th>\n                  <th width=\"15%\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                {groups.map((group, index) => {\n                  return(\n                    <GroupItem\n                      key={group.id}\n                      isItemFreezed={this.state.isItemFreezed}\n                      onFreezedItem={this.onFreezedItem}\n                      onUnfreezedItem={this.onUnfreezedItem}\n                      onDepartmentNameChanged={this.onSubDepartmentNameChanged}\n                      group={group}\n                      onDeleteDepartment={this.onDeleteDepartment}\n                      onSetDepartmentQuota={this.onSetDepartmentQuota}\n                    />\n                  );\n                })}\n              </tbody>\n            </table>\n            : <p className=\"no-group\">{gettext('No sub-departments')}</p>\n          }\n        </div>\n      </Department>\n    );\n  }\n}\n\nSubDepartments.propTypes = SubDepartmentsPropTypes;\n\nexport default SubDepartments;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nconst propTypes = {\n  member: PropTypes.object.isRequired,\n  groupID: PropTypes.string,\n  toggle: PropTypes.func.isRequired,\n  onMemberChanged: PropTypes.func.isRequired\n};\n\nclass DeleteMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteMember = () => {\n    const userEmail = this.props.member.email;\n    seafileAPI.sysAdminDeleteGroupMember(this.props.groupID, userEmail).then((res) => {\n      if (res.data.success) {\n        this.props.onMemberChanged();\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let tipMessage = gettext('Are you sure you want to delete {placeholder} ?');\n    tipMessage = tipMessage.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.member.name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Member')}</ModalHeader>\n        <ModalBody>\n          <div dangerouslySetInnerHTML={{__html: tipMessage}}></div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.deleteMember}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDeleteMemberDialog.propTypes = propTypes;\n\nexport default DeleteMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport RoleEditor from '../../../components/select-editor/role-editor';\nimport UserLink from '../user-link';\n\nconst MemberItemPropTypes = {\n  groupID: PropTypes.string,\n  member: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onMemberChanged: PropTypes.func.isRequired,\n  showDeleteMemberDialog: PropTypes.func.isRequired,\n  toggleItemFreezed: PropTypes.func.isRequired,\n};\n\nclass MemberItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showRoleMenu: false,\n    };\n    this.roles = ['Admin', 'Member'];\n  }\n\n  onMouseEnter = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({ highlight: true });\n  };\n\n  onMouseLeave = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({ highlight: false });\n  };\n\n  toggleMemberRoleMenu = () => {\n    this.setState({ showRoleMenu: !this.state.showRoleMenu });\n  };\n\n  onChangeUserRole = (role) => {\n    let isAdmin = role === 'Admin' ? true : false;\n    seafileAPI.sysAdminUpdateGroupMemberRole(this.props.groupID, this.props.member.email, isAdmin).then((res) => {\n      this.props.onMemberChanged();\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n    this.setState({\n      highlight: false\n    });\n  };\n\n  render() {\n    const member = this.props.member;\n    const highlight = this.state.highlight;\n    if (member.role === 'Owner') return null;\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={member.avatar_url} alt=\"member-header\" width=\"24\" className=\"avatar\"/></td>\n        <td><UserLink email={member.email} name={member.name} /></td>\n        <td>\n          <RoleEditor\n            isTextMode={true}\n            isEditIconShow={highlight}\n            currentRole={member.role}\n            roles={this.roles}\n            onRoleChanged={this.onChangeUserRole}\n            toggleItemFreezed={this.props.toggleItemFreezed}\n          />\n        </td>\n        {!this.props.isItemFreezed ?\n          <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteMemberDialog.bind(this, member)}>\n            <span className={`sf2-icon-x3 action-icon ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n          </td> : <td></td>\n        }\n      </tr>\n    );\n  }\n}\n\nMemberItem.propTypes = MemberItemPropTypes;\n\nexport default MemberItem;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Paginator from '../../../components/paginator';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport ModalPortal from '../../../components/modal-portal';\nimport DeleteMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-delete-member-dialog';\nimport { gettext, lang } from '../../../utils/constants';\nimport MemberItem from './member-item';\nimport Department from './department';\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst DepartmentMembersPropTypes = {\n  groupID: PropTypes.string,\n};\n\nclass DepartmentMembers extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n      members: [],\n      membersErrorMsg: '',\n      currentPageInfo: {\n      },\n      currentPage: 1,\n      perPage: 25,\n      deletedMember: {},\n      showDeleteMemberDialog: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      const { groupID } = this.props;\n      this.listMembers(groupID, this.state.currentPage, this.state.perPage);\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listMembers(nextProps.groupID, this.state.currentPage, this.state.perPage);\n    }\n  }\n\n  listMembers = (groupID, page, perPage) => {\n    seafileAPI.sysAdminListGroupMembers(groupID, page, perPage).then((res) => {\n      this.setState({\n        members: res.data.members,\n        currentPageInfo: res.data.page_info\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      this.setState({membersErrorMsg: errMessage});\n    });\n  };\n\n  getPreviousPageList = () => {\n    this.listMembers(this.props.groupID, this.state.currentPageInfo.current_page - 1, this.state.perPage);\n  };\n\n  getNextPageList = () => {\n    this.listMembers(this.props.groupID, this.state.currentPageInfo.current_page + 1, this.state.perPage);\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.listMembers(this.props.groupID, 1, perPage);\n    });\n  };\n\n  toggleCancel = () => {\n    this.setState({\n      showDeleteMemberDialog: false,\n    });\n  };\n\n  onMemberChanged = () => {\n    this.listMembers(this.props.groupID, this.state.currentPageInfo.current_page, this.state.perPage);\n  };\n\n  toggleItemFreezed = (isFreezed) => {\n    this.setState({ isItemFreezed: isFreezed });\n  };\n\n  showDeleteMemberDialog = (member) => {\n    this.setState({ showDeleteMemberDialog: true, deletedMember: member });\n  };\n\n  onAddNewMembers = (newMembers) => {\n    const { members } = this.state;\n    members.unshift(...newMembers);\n    this.setState({ members });\n  };\n\n  render() {\n    const { members, membersErrorMsg } = this.state;\n    const { groupID } = this.props;\n\n    return (\n      <Fragment>\n        <Department\n          groupID={groupID}\n          currentItem=\"members\"\n          onAddNewMembers={this.onAddNewMembers}\n        >\n          <div className=\"cur-view-content\">\n            {membersErrorMsg ? <p className=\"error text-center\">{membersErrorMsg}</p> :\n              members.length == 0 ?\n                <p className=\"no-member\">{gettext('No members')}</p> :\n                <Fragment>\n                  <table>\n                    <thead>\n                      <tr>\n                        <th width=\"5%\"></th>\n                        <th width=\"50%\">{gettext('Name')}</th>\n                        <th width=\"15%\">{gettext('Role')}</th>\n                        <th width=\"30%\"></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {members.map((member, index) => {\n                        return (\n                          <Fragment key={index}>\n                            <MemberItem\n                              member={member}\n                              showDeleteMemberDialog={this.showDeleteMemberDialog}\n                              isItemFreezed={this.state.isItemFreezed}\n                              onMemberChanged={this.onMemberChanged}\n                              toggleItemFreezed={this.toggleItemFreezed}\n                              groupID={groupID}\n                            />\n                          </Fragment>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                  {this.state.currentPageInfo &&\n                  <Paginator\n                    gotoPreviousPage={this.getPreviousPageList}\n                    gotoNextPage={this.getNextPageList}\n                    currentPage={this.state.currentPageInfo.current_page}\n                    hasNextPage={this.state.currentPageInfo.has_next_page}\n                    curPerPage={this.state.perPage}\n                    resetPerPage={this.resetPerPage}\n                  />\n                  }\n                </Fragment>\n            }\n          </div>\n        </Department>\n        {this.state.showDeleteMemberDialog && (\n          <ModalPortal>\n            <DeleteMemberDialog\n              toggle={this.toggleCancel}\n              onMemberChanged={this.onMemberChanged}\n              member={this.state.deletedMember}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nDepartmentMembers.propTypes = DepartmentMembersPropTypes;\n\nexport default DepartmentMembers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nclass DeleteRepoDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteRepo = () => {\n    seafileAPI.sysAdminDeleteRepoInDepartment(this.props.groupID, this.props.repo.repo_id).then((res) => {\n      if (res.data.success) {\n        this.props.onRepoChanged();\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { repo } = this.props;\n    let tipMessage = gettext('Are you sure you want to delete {placeholder} ?');\n    tipMessage = tipMessage.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(repo.name || repo.repo_name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Library')}</ModalHeader>\n        <ModalBody>\n          <div dangerouslySetInnerHTML={{__html: tipMessage}}></div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.deleteRepo}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst propTypes = {\n  repo: PropTypes.object.isRequired,\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.string,\n  onRepoChanged: PropTypes.func.isRequired\n};\n\nDeleteRepoDialog.propTypes = propTypes;\n\nexport default DeleteRepoDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nconst RepoItemPropTypes = {\n  repo: PropTypes.object.isRequired,\n  showDeleteRepoDialog: PropTypes.func.isRequired\n};\n\nclass RepoItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({ highlight: true });\n  };\n\n  onMouseLeave = () => {\n    this.setState({ highlight: false });\n  };\n\n  render() {\n    const { repo } = this.props;\n    const repoName = repo.name || repo.repo_name;\n    const highlight = this.state.highlight;\n    let iconUrl = Utils.getLibIconUrl(repo);\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={iconUrl} width=\"24\" alt={gettext('icon')}/></td>\n        { enableSysAdminViewRepo ?\n          <td><a href={`${siteRoot}sys/libraries/${repo.repo_id}/${encodeURIComponent(repoName)}/`}>{repoName}</a></td>\n          :\n          <td>{repoName}</td>\n        }\n        <td>{Utils.bytesToSize(repo.size)}</td>\n        <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteRepoDialog.bind(this, repo)}>\n          <span className={`sf2-icon-delete action-icon ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nRepoItem.propTypes = RepoItemPropTypes;\n\nexport default RepoItem;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport ModalPortal from '../../../components/modal-portal';\nimport DeleteRepoDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-delete-repo-dialog';\nimport { gettext, lang } from '../../../utils/constants';\nimport RepoItem from './repo-item';\nimport Department from './department';\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst DepartmentDetailPropTypes = {\n  groupID: PropTypes.string,\n};\n\nclass DepartmentDetail extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repos: [],\n      deletedRepo: {},\n      showDeleteRepoDialog: false\n    };\n  }\n\n  componentDidMount() {\n    const { groupID } = this.props;\n    this.listGroupRepo(groupID);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listGroupRepo(nextProps.groupID);\n    }\n  }\n\n  listGroupRepo = (groupID) => {\n    seafileAPI.sysAdminListGroupRepos(groupID).then(res => {\n      this.setState({ repos: res.data.libraries });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleCancel = () => {\n    this.setState({\n      showDeleteRepoDialog: false\n    });\n  };\n\n  onRepoChanged = () => {\n    this.listGroupRepo(this.props.groupID);\n  };\n\n  showDeleteRepoDialog = (repo) => {\n    this.setState({ showDeleteRepoDialog: true, deletedRepo: repo });\n  };\n\n  onAddNewRepo = (newRepo) => {\n    const { repos } = this.state;\n    repos.unshift(newRepo);\n    this.setState({ repos });\n  };\n\n  render() {\n    const { repos } = this.state;\n    const { groupID } = this.props;\n\n    return (\n      <Fragment>\n        <Department groupID={groupID} currentItem=\"repos\" onAddNewRepo={this.onAddNewRepo}>\n          {repos.length > 0 ?\n            <div className=\"cur-view-content\">\n              <table>\n                <thead>\n                  <tr>\n                    <th width=\"5%\"></th>\n                    <th width=\"50%\">{gettext('Name')}</th>\n                    <th width=\"30%\">{gettext('Size')}</th>\n                    <th width=\"15%\"></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {repos.map((repo, index) => {\n                    return (\n                      <RepoItem key={index} repo={repo} showDeleteRepoDialog={this.showDeleteRepoDialog} />\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n            : <p className=\"no-libraty\">{gettext('No libraries')}</p>\n          }\n        </Department>\n        {this.state.showDeleteRepoDialog && (\n          <ModalPortal>\n            <DeleteRepoDialog\n              toggle={this.toggleCancel}\n              onRepoChanged={this.onRepoChanged}\n              repo={this.state.deletedRepo}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nDepartmentDetail.propTypes = DepartmentDetailPropTypes;\n\nexport default DepartmentDetail;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'shareLinks', urlPart:'share-links', text: gettext('Share Links')},\n      {name: 'uploadLinks', urlPart:'upload-links', text: gettext('Upload Links')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LinksNav from './links-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getShareLinksByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getShareLinksByPage(this.props.currentPage + 1);\n  };\n\n  sortByTime = (e) => {\n    e.preventDefault();\n    this.props.sortItems('ctime');\n  };\n\n  sortByCount = (e) => {\n    e.preventDefault();\n    this.props.sortItems('view_cnt');\n  };\n\n  render() {\n    const {\n      loading, errorMsg, items,\n      perPage, currentPage, hasNextPage,\n      sortBy, sortOrder\n    } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No share links')}</h2>\n        </EmptyTip>\n      );\n\n      const initialSortIcon = <span className=\"fas fa-sort\"></span>;\n      const sortIcon = <span className={`fas ${sortOrder == 'asc' ? 'fa-caret-up' : 'fa-caret-down'}`}></span>;\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"18%\">{gettext('Name')}</th>\n                <th width=\"18%\">{gettext('Token')}</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"15%\">\n                  <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('Created At')} {sortBy == 'ctime' ? sortIcon : initialSortIcon}</a>\n                </th>\n                <th width=\"10%\">\n                  <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByCount}>{gettext('Count')} {sortBy == 'view_cnt' ? sortIcon : initialSortIcon}</a>\n                </th>\n                <th width=\"11%\">{gettext('Expiration')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    deleteShareLink={this.props.deleteShareLink}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getShareLinksByPage: PropTypes.func.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  deleteShareLink: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  deleteShareLink = () => {\n    this.props.deleteShareLink(this.props.item.token);\n  };\n\n  renderExpiration = () => {\n    const item = this.props.item;\n    if (!item.expire_date) {\n      return '--';\n    }\n    const expire_date = moment(item.expire_date).format('YYYY-MM-DD');\n    const expire_time = moment(item.expire_date).format('YYYY-MM-DD HH:mm:ss');\n    return (<span className={item.is_expired ? 'error' : ''} title={expire_time}>{expire_date}</span>);\n  };\n\n  render() {\n    let { isOpIconShown } = this.state;\n    let { item } = this.props;\n    let deleteIcon = `action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td>{item.obj_name}</td>\n        <td>{item.token}</td>\n        <td><UserLink email={item.creator_email} name={item.creator_name} /></td>\n        <td>{moment(item.ctime).fromNow()}</td>\n        <td>{item.view_cnt}</td>\n        <td>{this.renderExpiration()}</td>\n        <td>\n          <a href=\"#\" className={deleteIcon} title={gettext('Remove')} onClick={this.deleteShareLink}></a>\n        </td>\n      </tr>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  deleteShareLink: PropTypes.func.isRequired,\n};\n\nclass ShareLinks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      shareLinkList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      sortBy: '',\n      sortOrder: 'asc'\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage, sortBy, sortOrder } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage),\n      sortBy: urlParams.get('order_by') || sortBy,\n      sortOrder: urlParams.get('direction') || sortOrder\n    }, () => {\n      this.getShareLinksByPage(this.state.currentPage);\n    });\n  }\n\n  getShareLinksByPage = (page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    seafileAPI.sysAdminListShareLinks(page, perPage, sortBy, sortOrder).then((res) => {\n      this.setState({\n        shareLinkList: res.data.share_link_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  sortItems = (sortBy) => {\n    this.setState({\n      currentPage: 1,\n      sortBy: sortBy,\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc'\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { currentPage, sortBy, sortOrder } = this.state;\n      searchParams.set('page', currentPage);\n      searchParams.set('order_by', sortBy);\n      searchParams.set('direction', sortOrder);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.getShareLinksByPage(currentPage);\n    });\n  };\n\n  deleteShareLink = (linkToken) => {\n    seafileAPI.sysAdminDeleteShareLink(linkToken).then(res => {\n      let newShareLinkList = this.state.shareLinkList.filter(item =>\n        item.token != linkToken\n      );\n      this.setState({shareLinkList: newShareLinkList});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getShareLinksByPage(this.initPage));\n  };\n\n  render() {\n    let { shareLinkList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LinksNav currentItem=\"shareLinks\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={shareLinkList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getShareLinksByPage={this.getShareLinksByPage}\n                resetPerPage={this.resetPerPage}\n                sortBy={this.state.sortBy}\n                sortOrder={this.state.sortOrder}\n                sortItems={this.sortItems}\n                deleteShareLink={this.deleteShareLink}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default ShareLinks;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LinksNav from './links-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getUploadLinksByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getUploadLinksByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No upload links')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"18%\">{gettext('Name')}</th>\n                <th width=\"18%\">{gettext('Token')}</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"15%\">{gettext('Created At')}</th>\n                <th width=\"10%\">{gettext('Count')}</th>\n                <th width=\"11%\">{gettext('Expiration')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    deleteUploadLink={this.props.deleteUploadLink}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getUploadLinksByPage: PropTypes.func.isRequired,\n  deleteUploadLink: PropTypes.func.isRequired,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  deleteUploadLink = () => {\n    this.props.deleteUploadLink(this.props.item.token);\n  };\n\n  renderExpiration = () => {\n    let item = this.props.item;\n    if (!item.expire_date) {\n      return '--';\n    }\n    const expire_date = moment(item.expire_date).format('YYYY-MM-DD');\n    const expire_time = moment(item.expire_date).format('YYYY-MM-DD HH:mm:ss');\n    return (<span className={item.is_expired ? 'error' : ''} title={expire_time}>{expire_date}</span>);\n  };\n\n  render() {\n    let { isOpIconShown } = this.state;\n    let { item } = this.props;\n    let deleteIcon = `action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`;\n    return (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td>{item.path}</td>\n          <td>{item.token}</td>\n          <td><UserLink email={item.creator_email} name={item.creator_name} /></td>\n          <td>{moment(item.ctime).fromNow()}</td>\n          <td>{item.view_cnt}</td>\n          <td>{this.renderExpiration()}</td>\n          <td>\n            <a href=\"#\" className={deleteIcon} title={gettext('Remove')} onClick={this.deleteUploadLink}></a>\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  deleteUploadLink: PropTypes.func.isRequired,\n};\n\n\nclass UploadLinks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      uploadLinkList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getUploadLinksByPage(this.state.currentPage);\n    });\n  }\n\n  getUploadLinksByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListAllUploadLinks(page, perPage).then((res) => {\n      this.setState({\n        uploadLinkList: res.data.upload_link_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteUploadLink = (linkToken) => {\n    seafileAPI.sysAdminDeleteUploadLink(linkToken).then(res => {\n      let newUploadLinkList = this.state.uploadLinkList.filter(item =>\n        item.token != linkToken\n      );\n      this.setState({uploadLinkList: newUploadLinkList});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getUploadLinksByPage(this.initPage));\n  };\n\n  render() {\n    let { uploadLinkList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LinksNav currentItem=\"uploadLinks\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={uploadLinkList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getUploadLinksByPage={this.getUploadLinksByPage}\n                resetPerPage={this.resetPerPage}\n                deleteUploadLink={this.deleteUploadLink}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default UploadLinks;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggleDialog: PropTypes.func.isRequired,\n  addOrg: PropTypes.func.isRequired\n};\n\nclass SysAdminAddOrgDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      passwordAgain: '',\n      errorMsg: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  checkSubmitBtnActive = () => {\n    const { name, email, password, passwordAgain } = this.state;\n    let btnActive = true;\n    if (name.trim() !='' &&\n      email.trim() != '' &&\n      password.trim() != '' &&\n      passwordAgain.trim() != '') {\n      btnActive = true;\n    } else {\n      btnActive = false;\n    }\n    this.setState({\n      isSubmitBtnActive: btnActive\n    });\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  inputPassword = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      password: passwd\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputPasswordAgain = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      passwordAgain: passwd\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputEmail = (e) => {\n    let email = e.target.value;\n    this.setState({\n      email: email\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputName = (e) => {\n    let name = e.target.value;\n    this.setState({\n      name: name\n    }, this.checkSubmitBtnActive);\n  };\n\n  handleSubmit = () => {\n    let { name, email, password, passwordAgain } = this.state;\n    if (password != passwordAgain) {\n      this.setState({errorMsg: gettext('Passwords do not match.')});\n      return;\n    }\n    const data = {\n      orgName: name.trim(),\n      ownerEmail: email.trim(),\n      password: password.trim()\n    };\n    this.props.addOrg(data);\n    this.toggle();\n  };\n\n  render() {\n    const { errorMsg, password, passwordAgain, email, name, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add Organization')}</ModalHeader>\n        <ModalBody>\n          <Form autoComplete=\"off\">\n            <FormGroup>\n              <Label>{gettext('Name')}</Label>\n              <Input value={name} onChange={this.inputName} />\n            </FormGroup>\n            <FormGroup>\n              <Label>\n                {gettext('Owner')}\n                <span className=\"small text-secondary ml-1 fas fa-question-circle\" title={gettext('Owner can use admin panel in an organization, must be a new account.')}></span>\n              </Label>\n              <Input value={email} onChange={this.inputEmail} />\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Password')}</Label>\n              <Input type=\"password\" value={password} onChange={this.inputPassword} />\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Password again')}</Label>\n              <Input type=\"password\" value={passwordAgain} onChange={this.inputPasswordAgain} />\n            </FormGroup>\n          </Form>\n          {errorMsg && <Alert color=\"danger\">{errorMsg}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddOrgDialog.propTypes = propTypes;\n\nexport default SysAdminAddOrgDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport SysAdminUserRoleEditor from '../../../components/select-editor/sysadmin-user-role-editor';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\nimport toaster from '../../../components/toast';\n\nconst { availableRoles } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No organizations')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Creator')}</th>\n                <th width=\"20%\">{gettext('Role')}</th>\n                <th width=\"15%\">{gettext('Space Used')}</th>\n                <th width=\"20%\">{gettext('Created At')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  updateRole={this.props.updateRole}\n                  deleteOrg={this.props.deleteOrg}\n                />);\n              })}\n            </tbody>\n          </table>\n          {this.props.currentPage &&\n          <Paginator\n            currentPage={this.props.currentPage}\n            hasNextPage={this.props.hasNextPage}\n            curPerPage={this.props.curPerPage}\n            resetPerPage={this.props.resetPerPage}\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n          />\n          }\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  item: PropTypes.object.isRequired,\n  getListByPage: PropTypes.func.isRequired,\n  currentPage: PropTypes.number,\n  items: PropTypes.array.isRequired,\n  updateRole: PropTypes.func.isRequired,\n  deleteOrg: PropTypes.func.isRequired,\n  hasNextPage: PropTypes.bool,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false,\n      deleteDialogMsg: '',\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen}, () => {\n      if (this.state.isDeleteDialogOpen) {\n        seafileAPI.sysAdminGetOrg(this.props.item.org_id).then((res) => {\n          let orgName = '<span class=\"op-target\">' + Utils.HTMLescape(res.data.org_name) + '</span>';\n          let userCount = '<span class=\"op-target\">' + Utils.HTMLescape(res.data.users_count) + '</span>';\n          let repoCount = '<span class=\"op-target\">' + Utils.HTMLescape(res.data.repos_count) + '</span>';\n          let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?')\n            .replace('{placeholder}', orgName) + '<br/>' +\n            gettext('{userCount} user(s) and {repoCount} libraries of this organization will also be deleted.')\n              .replace('{userCount}', userCount)\n              .replace('{repoCount}', repoCount);\n          this.setState({deleteDialogMsg: deleteDialogMsg});\n        }).catch(error => {\n          let errorMsg = Utils.getErrorMsg(error);\n          toaster.danger(errorMsg);\n        });\n      }\n    });\n  };\n\n  updateRole = (role) => {\n    this.props.updateRole(this.props.item.org_id, role);\n  };\n\n  deleteOrg = () => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    this.props.deleteOrg(this.props.item.org_id);\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, deleteDialogMsg } = this.state;\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={`${siteRoot}sys/organizations/${item.org_id}/info/`}>{item.org_name}</Link></td>\n          <td>\n            <UserLink email={item.creator_email} name={item.creator_name} />\n          </td>\n          <td>\n            <SysAdminUserRoleEditor\n              isTextMode={true}\n              isEditIconShow={isOpIconShown}\n              currentRole={item.role}\n              roleOptions={availableRoles}\n              onRoleChanged={this.updateRole}\n            />\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota > 0 ? Utils.bytesToSize(item.quota) : '--'}`}</td>\n          <td>{moment(item.ctime).format('YYYY-MM-DD HH:mm:ss')}</td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Organization')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteOrg}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  updateRole: PropTypes.func.isRequired,\n  deleteOrg: PropTypes.func.isRequired,\n};\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminAddOrgDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-org-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport Content from './orgs-content';\n\n\nclass Orgs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgList: [],\n      currentPage: 1,\n      perPage: 25,\n      hasNextPage: false,\n      isAddOrgDialogOpen: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getItemsByPage(this.state.currentPage);\n    });\n  }\n\n  getItemsByPage = (page) => {\n    const { perPage } = this.state;\n    seafileAPI.sysAdminListOrgs(page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        orgList: res.data.organizations,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count)\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getItemsByPage(1);\n    });\n  };\n\n  toggleAddOrgDialog = () => {\n    this.setState({isAddOrgDialogOpen: !this.state.isAddOrgDialogOpen});\n  };\n\n  updateRole = (orgID, role) => {\n    let orgInfo = {};\n    orgInfo.role = role;\n    seafileAPI.sysAdminUpdateOrg(orgID, orgInfo).then(res => {\n      let newOrgList = this.state.orgList.map(org => {\n        if (org.org_id == orgID) {\n          org.role = role;\n        }\n        return org;\n      });\n      this.setState({orgList: newOrgList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  addOrg = (data) => {\n    const { orgName, ownerEmail, password } = data;\n    seafileAPI.sysAdminAddOrg(orgName, ownerEmail, password).then(res => {\n      let orgList = this.state.orgList;\n      orgList.unshift(res.data);\n      this.setState({orgList: orgList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteOrg = (orgID) => {\n    seafileAPI.sysAdminDeleteOrg(orgID).then(res => {\n      let orgList = this.state.orgList.filter(org => {\n        return org.org_id != orgID;\n      });\n      this.setState({orgList: orgList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search organizations')}\n      submit={this.searchItems}\n    />;\n  };\n\n  searchItems = (keyword) => {\n    navigate(`${siteRoot}sys/search-organizations/?query=${encodeURIComponent(keyword)}`);\n  };\n\n  render() {\n    const { isAddOrgDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddOrgDialog}>{gettext('Add Organization')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Organizations')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.orgList}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getItemsByPage}\n                updateRole={this.updateRole}\n                deleteOrg={this.deleteOrg}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddOrgDialogOpen &&\n          <SysAdminAddOrgDialog\n            addOrg={this.addOrg}\n            toggleDialog={this.toggleAddOrgDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Orgs;\n","import React, { Component, Fragment } from 'react';\nimport { Form, FormGroup, Input, Label, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './orgs-content';\n\n\nclass SearchOrgs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      orgList: []\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    this.setState({\n      query: params.get('query') || ''\n    }, this.getItems);\n  }\n\n  getItems = () => {\n    seafileAPI.sysAdminSearchOrgs(this.state.query.trim()).then(res => {\n      this.setState({\n        loading: false,\n        orgList: res.data.organization_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  updateRole = (orgID, role) => {\n    let orgInfo = {};\n    orgInfo.role = role;\n    seafileAPI.sysAdminUpdateOrg(orgID, orgInfo).then(res => {\n      let newOrgList = this.state.orgList.map(org => {\n        if (org.org_id == orgID) {\n          org.role = role;\n        }\n        return org;\n      });\n      this.setState({orgList: newOrgList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteOrg = (orgID) => {\n    seafileAPI.sysAdminDeleteOrg(orgID).then(res => {\n      let orgList = this.state.orgList.filter(org => {\n        return org.org_id != orgID;\n      });\n      this.setState({orgList: orgList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  handleInputChange = (e) => {\n    this.setState({\n      query: e.target.value\n    }, this.checkSubmitBtnActive);\n  };\n\n  checkSubmitBtnActive = () => {\n    const { query } = this.state;\n    this.setState({\n      isSubmitBtnActive: query.trim()\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive } = this.state;\n      if (isSubmitBtnActive) {\n        this.getItems();\n      }\n    }\n  };\n\n  render() {\n    const { query, isSubmitBtnActive } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Organizations')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Organizations')}</h4>\n                <p className=\"text-secondary small\">{gettext('Tip: you can search by keyword in name.')}</p>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Label for=\"name\" sm={1}>{gettext('Name')}</Label>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"query\" id=\"name\" value={query} onChange={this.handleInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5, offset: 1}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getItems}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.orgList}\n                  updateRole={this.updateRole}\n                  deleteOrg={this.deleteOrg}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchOrgs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  name: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  updateName: PropTypes.func.isRequired\n};\n\nclass SysAdminSetOrgNameDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: this.props.name,\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleInputChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      name: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateName(this.state.name.trim());\n    this.toggle();\n  };\n\n  render() {\n    const { name, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Set Name')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                value={name}\n                onKeyDown={this.handleKeyDown}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminSetOrgNameDialog.propTypes = propTypes;\n\nexport default SysAdminSetOrgNameDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  value: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  updateValue: PropTypes.func.isRequired\n};\n\nclass SysAdminSetOrgMaxUserNumberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: this.props.value,\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleInputChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateValue(this.state.value.trim());\n    this.toggle();\n  };\n\n  render() {\n    const { value, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Set max number of members')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                className=\"form-control\"\n                value={value}\n                onKeyDown={this.handleKeyDown}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminSetOrgMaxUserNumberDialog.propTypes = propTypes;\n\nexport default SysAdminSetOrgMaxUserNumberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  orgID: PropTypes.string,\n  orgName: PropTypes.string.isRequired,\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'info', urlPart: 'info', text: gettext('Info')},\n      {name: 'users', urlPart: 'users', text: gettext('Members')},\n      {name: 'groups', urlPart: 'groups', text: gettext('Groups')},\n      {name: 'repos', urlPart: 'libraries', text: gettext('Libraries')},\n      //{name: 'traffic', urlPart: 'traffic', text: gettext('traffic')},\n      //{name: 'settings', urlPart: 'settings', text: gettext('Settings')}\n    ];\n  }\n\n  render() {\n    const { currentItem, orgID, orgName } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/organizations/`}>{gettext('Organizations')}</Link> / {orgName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/organizations/${orgID}/${item.urlPart}/`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, serviceURL } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport Loading from '../../../components/loading';\nimport SysAdminSetOrgQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport SysAdminSetOrgNameDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-set-org-name-dialog';\nimport SysAdminSetOrgMaxUserNumberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-set-org-max-user-number-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSetQuotaDialogOpen: false,\n      isSetNameDialogOpen: false,\n      isSetMaxUserNumberDialogOpen: false\n    };\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  };\n\n  toggleSetNameDialog = () => {\n    this.setState({isSetNameDialogOpen: !this.state.isSetNameDialogOpen});\n  };\n\n  toggleSetMaxUserNumberDialog = () => {\n    this.setState({isSetMaxUserNumberDialogOpen: !this.state.isSetMaxUserNumberDialogOpen});\n  };\n\n  showEditIcon = (action) => {\n    return (\n      <span\n        title={gettext('Edit')}\n        className=\"fa fa-pencil-alt attr-action-icon\"\n        onClick={action}>\n      </span>\n    );\n  };\n\n  render() {\n    const { loading, errorMsg } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const { org_name, users_count, max_user_number, groups_count, quota, quota_usage, enable_saml_login, url_prefix, metadata_url, domain } = this.props.orgInfo;\n      const { isSetQuotaDialogOpen, isSetNameDialogOpen, isSetMaxUserNumberDialogOpen } = this.state;\n      return (\n        <Fragment>\n          <dl className=\"m-0\">\n            <dt className=\"info-item-heading\">{gettext('Name')}</dt>\n            <dd className=\"info-item-content\">\n              {org_name}\n              {this.showEditIcon(this.toggleSetNameDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Number of members')}</dt>\n            <dd className=\"info-item-content\">{users_count}</dd>\n\n            {max_user_number &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Max number of members')}</dt>\n                <dd className=\"info-item-content\">\n                  {max_user_number}\n                  {this.showEditIcon(this.toggleSetMaxUserNumberDialog)}\n                </dd>\n              </Fragment>\n            }\n\n            <dt className=\"info-item-heading\">{gettext('Number of groups')}</dt>\n            <dd className=\"info-item-content\">{groups_count}</dd>\n\n            <dt className=\"info-item-heading\">{gettext('Space Used')}</dt>\n            <dd className=\"info-item-content\">\n              {`${Utils.bytesToSize(quota_usage)} / ${quota > 0 ? Utils.bytesToSize(quota) : '--'}`}\n              {this.showEditIcon(this.toggleSetQuotaDialog)}\n            </dd>\n            {enable_saml_login &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('SAML Config')}</dt>\n                <dd className=\"info-item-content\">\n                  <Row className=\"my-4\">\n                    <Col md=\"3\">{gettext('Custom SAML Login URL')}</Col>\n                    <Col md=\"6\">{`${serviceURL}/org/custom/${url_prefix}`}</Col>\n                  </Row>\n                </dd>\n                <dd className=\"info-item-content\">\n                  <Row className=\"my-4\">\n                    <Col md=\"3\">{gettext('App Federation Metadata URL')}</Col>\n                    <Col md=\"6\">{metadata_url}</Col>\n                  </Row>\n                </dd>\n                <dd className=\"info-item-content\">\n                  <Row className=\"my-4\">\n                    <Col md=\"3\">{gettext('Email Domain')}</Col>\n                    <Col md=\"6\">{domain}</Col>\n                  </Row>\n                </dd>\n              </Fragment>\n            }\n          </dl>\n          {isSetQuotaDialogOpen &&\n          <SysAdminSetOrgQuotaDialog\n            updateQuota={this.props.updateQuota}\n            toggle={this.toggleSetQuotaDialog}\n          />\n          }\n          {isSetNameDialogOpen &&\n          <SysAdminSetOrgNameDialog\n            name={org_name}\n            updateName={this.props.updateName}\n            toggle={this.toggleSetNameDialog}\n          />\n          }\n          {isSetMaxUserNumberDialogOpen &&\n          <SysAdminSetOrgMaxUserNumberDialog\n            value={max_user_number}\n            updateValue={this.props.updateMaxUserNumber}\n            toggle={this.toggleSetMaxUserNumberDialog}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getDeviceErrorsListByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  orgInfo: PropTypes.object,\n  updateQuota: PropTypes.func.isRequired,\n  updateName: PropTypes.func.isRequired,\n  updateMaxUserNumber: PropTypes.func.isRequired,\n};\n\nclass OrgInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgInfo: {}\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        orgInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateQuota = (quota) => {\n    const data = {quota: quota};\n    seafileAPI.sysAdminUpdateOrg(this.props.orgID, data).then(res => {\n      const newOrgInfo = Object.assign(this.state.orgInfo, {\n        quota: res.data.quota\n      });\n      this.setState({orgInfo: newOrgInfo});\n      toaster.success(gettext('Successfully set quota.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateName = (orgName) => {\n    const data = {orgName: orgName};\n    seafileAPI.sysAdminUpdateOrg(this.props.orgID, data).then(res => {\n      const newOrgInfo = Object.assign(this.state.orgInfo, {\n        org_name: res.data.org_name\n      });\n      this.setState({orgInfo: newOrgInfo});\n      toaster.success(gettext('Successfully set name.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateMaxUserNumber = (newValue) => {\n    const data = {maxUserNumber: newValue};\n    seafileAPI.sysAdminUpdateOrg(this.props.orgID, data).then(res => {\n      const newOrgInfo = Object.assign(this.state.orgInfo, {\n        max_user_number: res.data.max_user_number\n      });\n      this.setState({orgInfo: newOrgInfo});\n      toaster.success(gettext('Successfully set max number of members.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { orgInfo } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav currentItem=\"info\" orgID={this.props.orgID} orgName={orgInfo.org_name} />\n            <div className=\"cur-view-content\">\n              <Content\n                orgID={this.props.orgID}\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                orgInfo={this.state.orgInfo}\n                updateQuota={this.updateQuota}\n                updateName={this.updateName}\n                updateMaxUserNumber={this.updateMaxUserNumber}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nOrgInfo.propTypes = {\n  orgID: PropTypes.string,\n  orgInfo: PropTypes.object,\n};\n\nexport default OrgInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  statusOptions: PropTypes.array.isRequired,\n  currentStatus: PropTypes.string.isRequired,\n  onStatusChanged: PropTypes.func.isRequired\n};\n\nclass SysAdminUserMembershipEditor extends React.Component {\n\n  translateStatus = (status) => {\n    switch (status) {\n      case 'is_org_staff':\n        return gettext('Admin');\n      case 'not_is_org_staff':\n        return gettext('Member');\n    }\n  };\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.statusOptions}\n        currentOption={this.props.currentStatus}\n        onOptionChanged={this.props.onStatusChanged}\n        translateOption={this.translateStatus}\n      />\n    );\n  }\n}\n\nSysAdminUserMembershipEditor.propTypes = propTypes;\n\nexport default SysAdminUserMembershipEditor;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, username } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport SysAdminUserStatusEditor from '../../../components/select-editor/sysadmin-user-status-editor';\nimport SysAdminUserMembershipEditor from '../../../components/select-editor/sysadmin-user-membership-editor';\nimport SysAdminAddUserDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-user-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No members')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"15%\">{gettext('Status')}</th>\n                <th width=\"15%\">{gettext('Membership')}</th>\n                <th width=\"15%\">{gettext('Space Used')}</th>\n                <th width=\"25%\">{gettext('Created At')}{' / '}{gettext('Last Login')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  updateStatus={this.props.updateStatus}\n                  updateMembership={this.props.updateMembership}\n                  deleteUser={this.props.deleteUser}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  updateStatus: PropTypes.func.isRequired,\n  updateMembership: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n      isResetPasswordDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Reset Password':\n        this.toggleResetPasswordDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  toggleResetPasswordDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isResetPasswordDialogOpen: !this.state.isResetPasswordDialogOpen});\n  };\n\n  updateStatus= (statusValue) => {\n    this.props.updateStatus(this.props.item.email, statusValue);\n  };\n\n  updateMembership= (membershipValue) => {\n    this.props.updateMembership(this.props.item.email, membershipValue);\n  };\n\n  deleteUser = () => {\n    const { item } = this.props;\n    this.props.deleteUser(item.org_id, item.email);\n  };\n\n  resetPassword = () => {\n    seafileAPI.sysAdminResetUserPassword(this.props.item.email).then(res => {\n      toaster.success(res.data.reset_tip);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Reset Password':\n        translateResult = gettext('Reset Password');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, isResetPasswordDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n    let resetPasswordDialogMsg = gettext('Are you sure you want to reset the password of {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><UserLink email={item.email} name={item.name} /></td>\n          <td>\n            <SysAdminUserStatusEditor\n              isTextMode={true}\n              isEditIconShow={isOpIconShown}\n              currentStatus={item.active ? 'active' : 'inactive'}\n              statusOptions={['active', 'inactive']}\n              onStatusChanged={this.updateStatus}\n            />\n          </td>\n          <td>\n            <SysAdminUserMembershipEditor\n              isTextMode={true}\n              isEditIconShow={isOpIconShown}\n              currentStatus={item.is_org_staff ? 'is_org_staff' : 'not_is_org_staff'}\n              statusOptions={['is_org_staff', 'not_is_org_staff']}\n              onStatusChanged={this.updateMembership}\n            />\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}</td>\n          <td>\n            {moment(item.create_time).format('YYYY-MM-DD HH:mm:ss')}{' / '}{item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n          <td>\n            {(isOpIconShown && item.email != username) &&\n            <OpMenu\n              operations={['Delete', 'Reset Password']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Member')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteUser}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n        {isResetPasswordDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Reset Password')}\n            message={resetPasswordDialogMsg}\n            executeOperation={this.resetPassword}\n            confirmBtnText={gettext('Reset')}\n            toggleDialog={this.toggleResetPasswordDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  updateStatus: PropTypes.func.isRequired,\n  updateMembership: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass OrgUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgName: '',\n      userList: [],\n      isAddUserDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        orgName: res.data.org_name\n      });\n    });\n    seafileAPI.sysAdminListOrgUsers(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        userList: res.data.users\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  toggleAddUserDialog = () => {\n    this.setState({isAddUserDialogOpen: !this.state.isAddUserDialogOpen});\n  };\n\n  addUser = (newUserInfo) => {\n    const { email, name, password } = newUserInfo;\n    seafileAPI.sysAdminAddOrgUser(this.props.orgID, email, name, password).then(res => {\n      let userList = this.state.userList;\n      userList.unshift(res.data);\n      this.setState({userList: userList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUser = (orgID, email) => {\n    seafileAPI.sysAdminDeleteOrgUser(orgID, email).then(res => {\n      let newUserList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateStatus = (email, statusValue) => {\n    const isActive = statusValue == 'active';\n    seafileAPI.sysAdminUpdateOrgUser(this.props.orgID, email, 'active', isActive).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.active = res.data.active;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateMembership = (email, membershipValue) => {\n    const isOrgStaff = membershipValue == 'is_org_staff';\n    seafileAPI.sysAdminUpdateOrgUser(this.props.orgID, email, 'is_org_staff', isOrgStaff).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.is_org_staff = res.data.is_org_staff;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { isAddUserDialogOpen, orgName } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddUserDialog}>{gettext('Add Member')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav\n              currentItem=\"users\"\n              orgID={this.props.orgID}\n              orgName={orgName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                updateStatus={this.updateStatus}\n                updateMembership={this.updateMembership}\n                deleteUser={this.deleteUser}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddUserDialogOpen &&\n          <SysAdminAddUserDialog\n            addUser={this.addUser}\n            toggleDialog={this.toggleAddUserDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nOrgUsers.propTypes = {\n  orgID: PropTypes.string,\n};\n\nexport default OrgUsers;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No groups')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Creator')}</th>\n                <th width=\"30%\">{gettext('Created At')}</th>\n                <th width=\"10%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  deleteGroup={this.props.deleteGroup}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getDeviceErrorsListByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  deleteGroup: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteGroup = () => {\n    this.toggleDeleteDialog();\n    this.props.deleteGroup(this.props.item.group_id);\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.group_name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n\n    const groupUrl = item.parent_group_id == 0 ?\n      `${siteRoot}sys/groups/${item.group_id}/libraries/` :\n      `${siteRoot}sys/departments/${item.group_id}/`;\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><a href={groupUrl}>{item.group_name}</a></td>\n          <td><UserLink email={item.creator_email} name={item.creator_name} /></td>\n          <td>{moment(item.created_at).format('YYYY-MM-DD HH:mm:ss')}</td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Group')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteGroup}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteGroup: PropTypes.func.isRequired,\n  transferGroup: PropTypes.func.isRequired,\n};\n\nclass OrgGroups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgName: '',\n      groupList: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        orgName: res.data.org_name\n      });\n    });\n    seafileAPI.sysAdminListOrgGroups(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        groupList: res.data.group_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteGroup = (groupID) => {\n    seafileAPI.sysAdminDismissGroupByID(groupID).then(res => {\n      let newGroupList = this.state.groupList.filter(item => {\n        return item.group_id != groupID;\n      });\n      this.setState({groupList: newGroupList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav\n              currentItem=\"groups\"\n              orgID={this.props.orgID}\n              orgName={this.state.orgName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.groupList}\n                deleteGroup={this.deleteGroup}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nOrgGroups.propTypes = {\n  orgID: PropTypes.string,\n};\n\n\n\nexport default OrgGroups;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\"></th>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"35%\">{gettext('ID')}</th>\n                <th width=\"20%\">{gettext('Owner')}</th>\n                <th width=\"10%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  deleteRepo={this.props.deleteRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteRepo = () => {\n    this.props.deleteRepo(this.props.item.repo_id);\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    const iconUrl = Utils.getLibIconUrl(item);\n    const iconTitle = Utils.getLibIconTitle(item);\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.repo_name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{item.repo_name}</td>\n          <td>{item.repo_id}</td>\n          <td>\n            {!item.owner_email ?\n              '--' :\n              item.owner_email.indexOf('@seafile_group') == -1 ?\n                <UserLink email={item.owner_email} name={item.owner_name} /> :\n                item.owner_name\n            }\n          </td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Library')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteRepo}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n};\n\nclass OrgRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgName: '',\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        orgName: res.data.org_name\n      });\n    });\n    seafileAPI.sysAdminListOrgRepos(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        repoList: res.data.repo_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteRepo = (repoID) => {\n    seafileAPI.sysAdminDeleteRepo(repoID).then(res => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.repo_id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav\n              currentItem=\"repos\"\n              orgID={this.props.orgID}\n              orgName={this.state.orgName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n                deleteRepo={this.deleteRepo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nOrgRepos.propTypes = {\n  orgID: PropTypes.string,\n};\n\nexport default OrgRepos;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addInstitution: PropTypes.func.isRequired\n};\n\nclass SysAdminAddInstitutionDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleSubmit = () => {\n    this.toggle();\n    this.props.addInstitution(this.state.value.trim());\n  };\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add institution')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <p>{gettext('Name')}</p>\n            <FormGroup>\n              <Input\n                value={this.state.value}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddInstitutionDialog.propTypes = propTypes;\n\nexport default SysAdminAddInstitutionDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport SysAdminAddInstitutionDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-institution-dialog';\nimport Paginator from '../../../components/paginator';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getInstitutionsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getInstitutionsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No institutions')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"75%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Created At')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  deleteInstitution={this.props.deleteInstitution}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getInstitutionsByPage: PropTypes.func.isRequired,\n  deleteInstitution: PropTypes.func.isRequired,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteInstitution = () => {\n    this.props.deleteInstitution(this.props.item.id);\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    const institutionName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', institutionName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={`${siteRoot}sys/institutions/${item.id}/info/`}>{item.name}</Link></td>\n          <td>{moment(item.ctime).fromNow()}</td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Institution')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteInstitution}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  deleteInstitution: PropTypes.func.isRequired,\n};\n\nclass Institutions extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isAddInstitutionDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getInstitutionsByPage(this.state.currentPage);\n    });\n  }\n\n  getInstitutionsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInstitutions(page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        institutionList: res.data.institution_list,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getInstitutionsByPage(this.initPage));\n  };\n\n  toggleAddInstitutionDialog = () => {\n    this.setState({isAddInstitutionDialogOpen: !this.state.isAddInstitutionDialogOpen});\n  };\n\n  addInstitution = (name) => {\n    seafileAPI.sysAdminAddInstitution(name).then(res => {\n      let institutionList = this.state.institutionList;\n      institutionList.push(res.data);\n      this.setState({institutionList: institutionList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteInstitution = (institutionID) => {\n    seafileAPI.sysAdminDeleteInstitution(institutionID).then(res => {\n      let institutionList = this.state.institutionList.filter(inst => {\n        return inst.id != institutionID;\n      });\n      this.setState({institutionList: institutionList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { isAddInstitutionDialogOpen, hasNextPage, currentPage, perPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddInstitutionDialog}>{gettext('Add Institution')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Institutions')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.institutionList}\n                deleteInstitution={this.deleteInstitution}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getInstitutionsByPage={this.getInstitutionsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddInstitutionDialogOpen &&\n          <SysAdminAddInstitutionDialog\n            addInstitution={this.addInstitution}\n            toggle={this.toggleAddInstitutionDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Institutions;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  institutionID: PropTypes.string,\n  institutionName: PropTypes.string.isRequired,\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'info', urlPart: 'info', text: gettext('Info')},\n      {name: 'members', urlPart: 'members', text: gettext('Members')},\n      {name: 'admins', urlPart: 'admins', text: gettext('Admins')},\n    ];\n  }\n\n  render() {\n    const { currentItem, institutionID, institutionName } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/institutions/`}>{gettext('Institutions')}</Link> / {institutionName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/institutions/${institutionID}/${item.urlPart}/`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport Loading from '../../../components/loading';\nimport SysAdminSetInstitutionQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport InstitutionNav from './institution-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSetQuotaDialogOpen: false,\n    };\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  };\n\n  showEditIcon = (action) => {\n    return (\n      <span\n        title={gettext('Edit')}\n        className=\"fa fa-pencil-alt attr-action-icon\"\n        onClick={action}>\n      </span>\n    );\n  };\n\n  render() {\n    const { loading, errorMsg, institutionInfo } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const { name, user_count, quota_total, quota_used } = institutionInfo;\n      const { isSetQuotaDialogOpen } = this.state;\n      return (\n        <Fragment>\n          <dl className=\"m-0\">\n            <dt className=\"info-item-heading\">{gettext('Name')}</dt>\n            <dd className=\"info-item-content\">\n              {name}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Number of members')}</dt>\n            <dd className=\"info-item-content\">{user_count}</dd>\n\n            <dt className=\"info-item-heading\">{gettext('Space Used')}</dt>\n            <dd className=\"info-item-content\">\n              {`${Utils.bytesToSize(quota_used)} / ${quota_total > 0 ? Utils.bytesToSize(quota_total) : '--'}`}\n              {this.showEditIcon(this.toggleSetQuotaDialog)}\n            </dd>\n          </dl>\n          {isSetQuotaDialogOpen &&\n          <SysAdminSetInstitutionQuotaDialog\n            updateQuota={this.props.updateQuota}\n            toggle={this.toggleSetQuotaDialog}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  institutionInfo: PropTypes.object.isRequired,\n  updateQuota: PropTypes.func.isRequired,\n};\n\n\nclass InstitutionInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionInfo: {}\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetInstitution(this.props.institutionID).then((res) => {\n      this.setState({\n        loading: false,\n        institutionInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateQuota = (quota) => {\n    seafileAPI.sysAdminUpdateInstitution(this.props.institutionID, quota).then(res => {\n      const newInstitutionInfo = Object.assign(this.state.institutionInfo, {\n        quota_total: res.data.quota_total,\n      });\n      this.setState({institutionInfo: newInstitutionInfo});\n      toaster.success(gettext('Successfully set quota.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n\n  render() {\n    const { institutionInfo } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <InstitutionNav currentItem=\"info\" institutionID={this.props.institutionID} institutionName={institutionInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                institutionInfo={this.state.institutionInfo}\n                updateQuota={this.updateQuota}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nInstitutionInfo.propTypes = {\n  institutionID: PropTypes.string,\n};\n\nexport default InstitutionInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addUser: PropTypes.func.isRequired\n};\n\nclass AddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: [],\n    };\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({ selectedOption: option });\n  };\n\n  handleSubmit = () => {\n    if (!this.state.selectedOption) return;\n    const emails = this.state.selectedOption.map(item => item.email);\n    this.props.addUser(emails);\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            placeholder={gettext('Search users...')}\n            onSelectChange={this.handleSelectChange}\n            isMulti={true}\n            className='org-add-member-select'\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddMemberDialog.propTypes = propTypes;\n\nexport default AddMemberDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport AddMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-institution-member-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport InstitutionNav from './institution-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getInstitutionUsersByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getInstitutionUsersByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No members')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Status')}</th>\n                <th width=\"20%\">{gettext('Space Used')}</th>\n                <th width=\"40%\">{gettext('Created At')}{' / '}{gettext('Last Login')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  setAdmin={this.props.setAdmin}\n                  deleteUser={this.props.deleteUser}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getInstitutionUsersByPage: PropTypes.func.isRequired,\n  setAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isSetAdminDialogOpen: false,\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleSetAdminDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isSetAdminDialogOpen: !this.state.isSetAdminDialogOpen});\n  };\n\n  setAdmin = () => {\n    this.props.setAdmin(this.props.item.email);\n  };\n\n  onMenuItemClick = (operation) => {\n    switch (operation) {\n      case 'Delete':\n        this.props.deleteUser(this.props.item.email);\n        break;\n      case 'Set Admin':\n        this.toggleSetAdminDialog();\n        break;\n    }\n  };\n\n  getOperations = () => {\n    let operations = [];\n    if (!this.props.item.is_institution_admin) {\n      operations.push('Set Admin');\n    }\n    operations.push('Delete');\n    return operations;\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Set Admin':\n        translateResult = gettext('Set Admin');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isSetAdminDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const dialogMsg = gettext('Are you sure you want to set {placeholder} as Admin?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.email} name={item.name} />\n          </td>\n          <td>\n            {item.is_active ? gettext('Active') : gettext('Inactive')}\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}</td>\n          <td>\n            {moment(item.create_time).format('YYYY-MM-DD HH:mm:ss')}{' / '}{item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n          <td>\n            {isOpIconShown &&\n              <OpMenu\n                operations={this.getOperations()}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isSetAdminDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Set Admin')}\n            message={dialogMsg}\n            executeOperation={this.setAdmin}\n            toggleDialog={this.toggleSetAdminDialog}\n            confirmBtnText={gettext('Set Admin')}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.string.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  setAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass InstitutionUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionName: '',\n      userList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isAddUserDialogOpen: false\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetInstitution(this.props.institutionID).then((res) => {\n      this.setState({\n        institutionName: res.data.name\n      });\n    });\n\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getInstitutionUsersByPage(this.state.currentPage);\n    });\n  }\n\n  getInstitutionUsersByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInstitutionUsers(this.props.institutionID, page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        userList: res.data.user_list,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  setAdmin = (email) => {\n    seafileAPI.sysAdminUpdateInstitutionUser(this.props.institutionID, email, true).then(res => {\n      let userList = this.state.userList.map(user => {\n        if (user.email == email) {\n          user.is_institution_admin = true;\n        }\n        return user;\n      });\n      this.setState({userList: userList});\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleAddUserDialog = () => {\n    this.setState({isAddUserDialogOpen: !this.state.isAddUserDialogOpen});\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getInstitutionUsersByPage(this.initPage));\n  };\n\n  addUser = (emails) => {\n    seafileAPI.sysAdminAddInstitutionUserBatch(this.props.institutionID, emails).then(res => {\n      this.toggleAddUserDialog();\n      let successArray = res.data.success;\n      let failedArray = res.data.failed;\n      if (successArray.length) {\n        let newUserList = this.state.userList.concat(successArray);\n        this.setState({userList: newUserList});\n      }\n      failedArray.forEach((item) => {\n        toaster.danger(item.error_msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUser = (email) => {\n    seafileAPI.sysAdminDeleteInstitutionUser(this.props.institutionID, email).then(res => {\n      let newUserList = this.state.userList.filter(user => {\n        return user.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success('success');\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { isAddUserDialogOpen, institutionName, hasNextPage, currentPage, perPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddUserDialog}>{gettext('Add Member')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <InstitutionNav\n              currentItem=\"members\"\n              institutionID={this.props.institutionID}\n              institutionName={institutionName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                setAdmin={this.setAdmin}\n                deleteUser={this.deleteUser}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getInstitutionUsersByPage={this.getInstitutionUsersByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddUserDialogOpen &&\n          <AddMemberDialog\n            addUser={this.addUser}\n            toggle={this.toggleAddUserDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nInstitutionUsers.propTypes = {\n  institutionID: PropTypes.string,\n};\n\nexport default InstitutionUsers;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport InstitutionNav from './institution-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No admins')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Status')}</th>\n                <th width=\"20%\">{gettext('Space Used')}</th>\n                <th width=\"40%\">{gettext('Created At')}{' / '}{gettext('Last Login')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  revokeAdmin={this.props.revokeAdmin}\n                  deleteUser={this.props.deleteUser}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  revokeAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isRevokeAdminDialogOpen: false,\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleRevokeAdminDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isRevokeAdminDialogOpen: !this.state.isRevokeAdminDialogOpen});\n  };\n\n  revokeAdmin = () => {\n    this.props.revokeAdmin(this.props.item);\n  };\n\n  onMenuItemClick = (operation) => {\n    switch (operation) {\n      case 'Revoke Admin':\n        this.toggleRevokeAdminDialog();\n        break;\n    }\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Revoke Admin':\n        translateResult = gettext('Revoke Admin');\n        break;\n    }\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isRevokeAdminDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const revokeAdminDialogMsg = gettext('Are you sure you want to revoke the admin permission of {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.email} name={item.name} />\n          </td>\n          <td>\n            {item.is_active ? gettext('Active') : gettext('Inactive')}\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}</td>\n          <td>\n            {moment(item.create_time).format('YYYY-MM-DD HH:mm:ss')}{' / '}{item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Revoke Admin']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isRevokeAdminDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Revoke Admin')}\n            message={revokeAdminDialogMsg}\n            executeOperation={this.revokeAdmin}\n            confirmBtnText={gettext('Revoke')}\n            toggleDialog={this.toggleRevokeAdminDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  revokeAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n};\n\nclass InstitutionAdmins extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionName: '',\n      userList: [],\n      isAddUserDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetInstitution(this.props.institutionID).then((res) => {\n      this.setState({\n        institutionName: res.data.name\n      });\n    });\n    seafileAPI.sysAdminListInstitutionAdmins(this.props.institutionID).then((res) => {\n      this.setState({\n        loading: false,\n        userList: res.data.user_list,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  revokeAdmin = (item) => {\n    const email = item.email;\n    const name = item.name;\n    seafileAPI.sysAdminUpdateInstitutionUser(this.props.institutionID, email, false).then(res => {\n      let userList = this.state.userList.filter(user => {\n        return user.email != email;\n      });\n      this.setState({userList: userList});\n      toaster.success(gettext('Successfully revoked the admin permission of {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUser = (email) => {\n    seafileAPI.sysAdminDeleteInstitutionUser(this.props.institutionID, email).then(res => {\n      let newUserList = this.state.userList.filter(user => {\n        return user.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success('success');\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { institutionName } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <InstitutionNav\n              currentItem=\"admins\"\n              institutionID={this.props.institutionID}\n              institutionName={institutionName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                revokeAdmin={this.revokeAdmin}\n                deleteUser={this.deleteUser}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nInstitutionAdmins.propTypes = {\n  institutionID: PropTypes.string,\n};\n\nexport default InstitutionAdmins;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'loginLogs', urlPart:'logs/login', text: gettext('Login')},\n      {name: 'fileAccessLogs', urlPart:'logs/file-access', text: gettext('File Access')},\n      {name: 'fileUpdateLogs', urlPart:'logs/file-update', text: gettext('File Update')},\n      {name: 'sharePermissionLogs', urlPart:'logs/share-permission', text: gettext('Permission')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, FormGroup, Label, Input, Alert } from 'reactstrap';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport moment from 'moment';\n\nclass LogsExportExcelDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      startDateStr: '',\n      endDateStr: '',\n      errMsg: '',\n    };\n  }\n\n  downloadExcel = () => {\n    if (!this.isValidDateStr()) {\n      return;\n    }\n    let { startDateStr, endDateStr } = this.state;\n    let url = siteRoot;\n\n    switch (this.props.logType) {\n      case 'login':\n        url += 'sys/loginadmin/export-excel/';\n        break;\n      case 'fileAccess':\n        url += 'sys/log/fileaudit/export-excel/';\n        break;\n      case 'fileUpdate':\n        url += 'sys/log/fileupdate/export-excel/';\n        break;\n      case 'sharePermission':\n        url += 'sys/log/permaudit/export-excel/';\n        break;\n    }\n    location.href = url + '?start=' + startDateStr + '&end=' + endDateStr;\n    this.props.toggle();\n  };\n\n  isValidDateStr = () => {\n    let { startDateStr, endDateStr } = this.state;\n    if (moment(startDateStr, 'YYYY-MM-DD', true).isValid() &&\n      moment(endDateStr, 'YYYY-MM-DD', true).isValid() &&\n      moment(startDateStr).isBefore(endDateStr)\n    ) {\n      return true;\n    } else {\n      this.setState({\n        errMsg: gettext('Date Invalid.')\n      });\n      return false;\n    }\n  };\n\n  handleStartChange = (e) => {\n    const startDateStr = e.target.value.trim();\n    this.setState({\n      startDateStr: startDateStr,\n      errMsg: ''\n    });\n  };\n\n  handleEndChange = (e) => {\n    const endDateStr = e.target.value.trim();\n    this.setState({\n      endDateStr: endDateStr,\n      errMsg: '',\n    });\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Choose date')}</ModalHeader>\n        <ModalBody>\n          <FormGroup>\n            <Label>{gettext('Start date')}</Label>\n            <Input\n              value={this.state.startDateStr}\n              onChange={this.handleStartChange}\n              placeholder='yyyy-mm-dd'\n              autoFocus={true}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label>{gettext('End date')}</Label>\n            <Input\n              value={this.state.endDateStr}\n              onChange={this.handleEndChange}\n              placeholder='yyyy-mm-dd'\n            />\n          </FormGroup>\n          {this.state.errMsg &&\n            <Alert className=\"mt-2\" color=\"danger\">\n              {gettext(this.state.errMsg)}\n            </Alert>\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.downloadExcel}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  logType: PropTypes.string.isRequired,\n};\n\nLogsExportExcelDialog.propTypes = propTypes;\n\nexport default LogsExportExcelDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport { Button } from 'reactstrap';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\nimport ModalPortal from '../../../components/modal-portal';\n\n\nclass Content extends Component {\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No login logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"25%\">{gettext('IP')}</th>\n                <th width=\"25%\">{gettext('Status')}</th>\n                <th width=\"25%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{item.login_ip}</td>\n        <td>{item.log_success ? gettext('Success') : gettext('Failed')}</td>\n        <td>{moment(item.login_time).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass LoginLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  };\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListLoginLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.login_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage, isExportExcelDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"loginLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'login'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default LoginLogs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\n\nclass FilterMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMenuShown: false\n    };\n  }\n\n  toggleMenu = () => {\n    this.setState({\n      isMenuShown: !this.state.isMenuShown\n    }, () => {\n      this.props.toggleFreezeItem(this.state.isMenuShown);\n    });\n  };\n\n  onItemClick = () => {\n    this.props.filterItems();\n    this.props.toggleFreezeItem(false);\n  };\n\n  render() {\n    const { filterBy } = this.props;\n    return (\n      <Dropdown isOpen={this.state.isMenuShown} toggle={this.toggleMenu}>\n        <DropdownToggle\n          tag=\"i\"\n          className=\"sf-dropdown-toggle sf2-icon-caret-down\"\n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\"\n          aria-expanded={this.state.isMenuShown}\n        />\n        <DropdownMenu>\n          <DropdownItem onClick={this.onItemClick}>{gettext('only show {placeholder}').replace('{placeholder}', filterBy)}</DropdownItem>\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nFilterMenu.propTypes = {\n  toggleFreezeItem: PropTypes.func.isRequired,\n  filterItems: PropTypes.array.isRequired,\n  filterBy: PropTypes.string.isRequired,\n};\n\nexport default FilterMenu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\n\nclass ToggleFilter extends React.Component {\n  render() {\n    const { filterBy } = this.props;\n    return (\n      <Button\n        color='secondary'\n        className=\"my-2 mr-2\"\n        onClick={this.props.toggleFilter}\n      >\n        <span className=\"text-primary\">{filterBy}</span>\n        <span className=\"ml-2 close\" style={{fontSize: '1.2rem'}}>x</span>\n      </Button>\n    );\n  }\n}\n\nToggleFilter.propTypes = {\n  filterBy: PropTypes.string.isRequired,\n  toggleFilter: PropTypes.func.isRequired,\n};\n\nexport default ToggleFilter;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport { Button } from 'reactstrap';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport LogsNav from './logs-nav';\nimport FilterMenu from './file-access-item-menu';\nimport ToggleFilter from './file-access-toggle-filter';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  toggleFilterByUser = () => {\n    this.props.filterByUser(null);\n  };\n\n  toggleFilterByRepo = () => {\n    this.props.filterByRepo(null);\n  };\n\n  toggleFreezeItem = (freezed) => {\n    this.setState({\n      isItemFreezed: freezed\n    });\n  };\n\n  render() {\n    const {\n      loading, errorMsg, items,\n      userFilteredBy, repoFilteredBy,\n      perPage, currentPage, hasNextPage\n    } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No file access logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <div>\n            {userFilteredBy && (\n              <ToggleFilter\n                filterBy={items[0].name}\n                toggleFilter={this.toggleFilterByUser}\n              />\n            )}\n            {repoFilteredBy && (\n              <ToggleFilter\n                filterBy={items[0].repo_name}\n                toggleFilter={this.toggleFilterByRepo}\n              />\n            )}\n          </div>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Type')}</th>\n                <th width=\"20%\">{gettext('IP')}{' / '}{gettext('Device')}</th>\n                <th width=\"20%\">{gettext('Date')}</th>\n                <th width=\"15%\">{gettext('Library')}</th>\n                <th width=\"15%\">{gettext('File')}{' / '}{gettext('Folder')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    isFreezed={this.state.isItemFreezed}\n                    toggleFreezeItem={this.toggleFreezeItem}\n                    userFilteredBy={userFilteredBy}\n                    repoFilteredBy={repoFilteredBy}\n                    filterByUser={this.props.filterByUser}\n                    filterByRepo={this.props.filterByRepo}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  toggleFreezeItem: PropTypes.func.isRequired,\n  userFilteredBy: PropTypes.string.isRequired,\n  repoFilteredBy: PropTypes.string.isRequired,\n  filterByUser: PropTypes.func.isRequired,\n  filterByRepo: PropTypes.func.isRequired,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHighlighted: false,\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isFreezed) {\n      this.setState({\n        isHighlighted: true,\n        isOpIconShown: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isFreezed) {\n      this.setState({\n        isHighlighted: false,\n        isOpIconShown: false\n      });\n    }\n  };\n\n  filterByUser = () => {\n    const { item } = this.props;\n    this.props.filterByUser(item.email);\n  };\n\n  filterByRepo = () => {\n    const { item } = this.props;\n    this.props.filterByRepo(item.repo_id);\n  };\n\n  toggleFreezeItem = (freezed) => {\n    this.props.toggleFreezeItem(freezed);\n    if (!freezed) {\n      this.setState({\n        isHighlighted: false,\n        isOpIconShown: false\n      });\n    }\n  };\n\n  render() {\n    const { isHighlighted, isOpIconShown } = this.state;\n    const { item, userFilteredBy, repoFilteredBy } = this.props;\n    return (\n      <tr className={isHighlighted ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        <td>\n          <UserLink email={item.email} name={item.name} />\n          {isOpIconShown && !userFilteredBy && (\n            <FilterMenu\n              filterBy={item.name}\n              filterItems={this.filterByUser}\n              toggleFreezeItem={this.toggleFreezeItem}\n            />\n          )}\n        </td>\n        <td>{item.event_type}</td>\n        <td>{item.ip}{' / '}{item.device || '--'}</td>\n        <td>{moment(item.time).fromNow()}</td>\n        <td>\n          {item.repo_name ? item.repo_name : gettext('Deleted')}\n          {isOpIconShown && item.repo_name && !repoFilteredBy && (\n            <FilterMenu\n              filterBy={item.repo_name}\n              filterItems={this.filterByRepo}\n              toggleFreezeItem={this.toggleFreezeItem}\n            />\n          )}\n        </td>\n        <td>{item.file_or_dir_name}</td>\n      </tr>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isFreezed: PropTypes.bool.isRequired,\n  toggleFreezeItem: PropTypes.func.isRequired,\n  userFilteredBy: PropTypes.string.isRequired,\n  repoFilteredBy: PropTypes.string.isRequired,\n  filterByUser: PropTypes.func.isRequired,\n  filterByRepo: PropTypes.func.isRequired,\n};\n\nclass FileAccessLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  };\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage),\n      userFilteredBy: urlParams.get('email'),\n      repoFilteredBy: urlParams.get('repo_id')\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    const { perPage, userFilteredBy, repoFilteredBy } = this.state;\n    seafileAPI.sysAdminListFileAccessLogs(page, perPage, userFilteredBy, repoFilteredBy).then((res) => {\n      this.setState({\n        logList: res.data.file_access_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: res.data.has_next_page,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  updateURL = (obj) => {\n    let url = new URL(location.href);\n    let searchParams = new URLSearchParams(url.search);\n    for (let key in obj) {\n      obj[key] == null ?\n        searchParams.delete(key) :\n        searchParams.set(key, obj[key]);\n    }\n    url.search = searchParams.toString();\n    navigate(url.toString());\n  };\n\n  filterByUser = (email) => {\n    this.setState({\n      userFilteredBy: email\n    }, () => {\n      this.getLogsByPage(this.initPage);\n      this.updateURL({'email': email});\n    });\n  };\n\n  filterByRepo = (repoID) => {\n    this.setState({\n      repoFilteredBy: repoID\n    }, () => {\n      this.getLogsByPage(this.initPage);\n      this.updateURL({'repo_id': repoID});\n    });\n  };\n\n  render() {\n    const {\n      logList,\n      userFilteredBy, repoFilteredBy,\n      currentPage, perPage, hasNextPage,\n      isExportExcelDialogOpen\n    } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"fileAccessLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                userFilteredBy={userFilteredBy}\n                repoFilteredBy={repoFilteredBy}\n                filterByUser={this.filterByUser}\n                filterByRepo={this.filterByRepo}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'fileAccess'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default FileAccessLogs;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport { Button } from 'reactstrap';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport ModalPortal from '../../../components/modal-portal';\nimport CommitDetails from '../../../components/dialog/commit-details';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\n\nclass Content extends Component {\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No file update logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"25%\">{gettext('Date')}</th>\n                <th width=\"25%\">{gettext('Library')}</th>\n                <th width=\"25%\">{gettext('Action')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isCommitDetailsDialogOpen: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n\n  toggleCommitDetailsDialog = () => {\n    this.setState({\n      isCommitDetailsDialogOpen: !this.state.isCommitDetailsDialogOpen\n    });\n  };\n\n  showCommitDetails = (e) => {\n    e.preventDefault();\n    this.setState({\n      isCommitDetailsDialogOpen: !this.state.isCommitDetailsDialogOpen\n    });\n  };\n\n  render() {\n    let { item } = this.props;\n    return (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td><UserLink email={item.email} name={item.name} /></td>\n          <td>{moment(item.time).fromNow()}</td>\n          <td>{item.repo_name ? item.repo_name : gettext('Deleted')}</td>\n          <td>\n            {item.file_operation}\n            {item.repo_name && !item.repo_encrypted &&\n              <a className=\"ml-1\" href=\"#\" onClick={this.showCommitDetails}>{gettext('Details')}</a>\n            }\n          </td>\n        </tr>\n        {this.state.isCommitDetailsDialogOpen &&\n          <ModalPortal>\n            <CommitDetails\n              repoID={item.repo_id}\n              commitID={item.commit_id}\n              commitTime={item.time}\n              toggleDialog={this.toggleCommitDetailsDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\n\nclass FileUpdateLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  };\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListFileUpdateLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.file_update_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: res.data.has_next_page,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage, isExportExcelDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"fileUpdateLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'fileUpdate'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default FileUpdateLogs;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport LogsNav from './logs-nav';\n\nclass Content extends Component {\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No permission logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"15%\">{gettext('Share From')}</th>\n                <th width=\"15%\">{gettext('Share To')}</th>\n                <th width=\"10%\">{gettext('Actions')}</th>\n                <th width=\"13%\">{gettext('Permission')}</th>\n                <th width=\"20%\">{gettext('Library')}</th>\n                <th width=\"12%\">{gettext('Folder')}</th>\n                <th width=\"15%\">{gettext('Date')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  getActionTextByEType = (etype) => {\n    if (etype.indexOf('add') != -1) {\n      return gettext('Add');\n    } else if (etype.indexOf('modify') != -1) {\n      return gettext('Modify');\n    } else if (etype.indexOf('delete') != -1) {\n      return gettext('Delete');\n    } else {\n      return '';\n    }\n  };\n\n  getShareTo = (item) => {\n    switch(item.share_type) {\n      case 'user':\n        return <UserLink email={item.to_user_email} name={item.to_user_name} />;\n      case 'group':\n        return <Link to={`${siteRoot}sys/groups/${item.to_group_id}/libraries/`}>{item.to_group_name}</Link>;\n      case 'department':\n        return <Link to={`${siteRoot}sys/departments/${item.to_group_id}/`}>{item.to_group_name}</Link>;\n      case 'all':\n        return <Link to={`${siteRoot}org/`}>{gettext('All')}</Link>;\n      default:\n        return gettext('Deleted');\n    }\n  };\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.from_user_email} name={item.from_user_name} /></td>\n        <td>{this.getShareTo(item)}</td>\n        <td>{this.getActionTextByEType(item.etype)}</td>\n        <td>{Utils.sharePerms(item.permission)}</td>\n        <td>{item.repo_name ? item.repo_name : gettext('Deleted')}</td>\n        <td>{item.folder}</td>\n        <td>{moment(item.date).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass SharePermissionLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  };\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListSharePermissionLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.share_permission_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: res.data.has_next_page,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage, isExportExcelDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"sharePermissionLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'sharePermission'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default SharePermissionLogs;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  headingText: PropTypes.string.isRequired,\n  children: PropTypes.object.isRequired\n};\n\nclass Section extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { headingText, children} = this.props;\n    return (\n      <div className=\"mb-4\">\n        <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{headingText}</h4>\n        {children}\n      </div>\n    );\n  }\n}\n\nSection.propTypes = propTypes;\n\nexport default Section;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col, Label } from 'reactstrap';\n\nconst propTypes = {\n  displayName: PropTypes.string.isRequired,\n  helpTip: PropTypes.string,\n  mainContent: PropTypes.object.isRequired,\n  extraContent: PropTypes.object\n};\n\nclass SettingItemBase extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { helpTip, displayName, mainContent, extraContent } = this.props;\n    return (\n      <Fragment>\n        <Row className=\"my-4\">\n          <Col md=\"3\">\n            <Label className=\"web-setting-label\">{displayName}</Label>\n          </Col>\n          <Col md=\"5\">\n            {mainContent}\n            {helpTip && <p className=\"small text-secondary mt-1\">{helpTip}</p>}\n          </Col>\n          <Col md=\"4\">\n            {extraContent}\n          </Col>\n        </Row>\n      </Fragment>\n    );\n  }\n}\n\nSettingItemBase.propTypes = propTypes;\n\nexport default SettingItemBase;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input, Button } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  inputType: PropTypes.string,\n  saveSetting: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string,PropTypes.number]),\n  helpTip: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingInput extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isBtnsShown: false,\n      value: this.props.value\n    };\n  }\n\n  toggleBtns = () => {\n    this.setState({isBtnsShown: !this.state.isBtnsShown});\n  };\n\n  hideBtns = (e) => {\n    if (!this.state.isBtnsShown) {\n      return;\n    }\n    if (this.props.value != this.state.value) {\n      this.setState({value: this.props.value});\n    }\n    this.toggleBtns();\n  };\n\n  onInputChange = (e) => {\n    this.setState({ value: e.target.value });\n  };\n\n  onSubmit = (e) => {\n    const value = this.state.value.trim();\n    if (value != this.props.value) {\n      this.props.saveSetting(this.props.keyText, value);\n    }\n    this.toggleBtns();\n  };\n\n  render() {\n    const { isBtnsShown, value } = this.state;\n    const { helpTip, displayName, inputType } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        helpTip={helpTip}\n        mainContent={\n          <Input type={inputType || 'text'} className={inputType == 'textarea' ? 'web-setting-textarea' : ''} onChange={this.onInputChange} onFocus={this.toggleBtns} onBlur={this.hideBtns} value={value} />\n        }\n        extraContent={\n          isBtnsShown ?\n            <Fragment>\n              <Button className=\"sf2-icon-tick web-setting-icon-btn web-setting-icon-btn-submit\" onMouseDown={this.onSubmit} title={gettext('Submit')}></Button>\n              <Button className=\"ml-1 sf2-icon-x2 web-setting-icon-btn web-setting-icon-btn-cancel\" title={gettext('Cancel')}></Button>\n            </Fragment> : null\n        }\n      />\n    );\n  }\n}\n\nWebSettingInput.propTypes = propTypes;\n\nexport default WebSettingInput;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  postFile: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  helpTip: PropTypes.string.isRequired,\n  fileWidth: PropTypes.number.isRequired,\n  fileHeight: PropTypes.number.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingFile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.fileInput = React.createRef();\n  }\n\n  uploadFile = () => {\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n    this.props.postFile(file, this.props.keyText);\n  };\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  };\n\n  render() {\n    const { helpTip, filePath, fileWidth, fileHeight, displayName } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        helpTip={helpTip}\n        mainContent={\n          <img src={filePath + '?t=' + new Date().getTime()} alt={displayName} width={fileWidth} height={fileHeight} className=\"mb-1\" />\n        }\n        extraContent={\n          <Fragment>\n            <Button color=\"secondary\" onClick={this.openFileInput}>{gettext('Change')}</Button>\n            <input className=\"d-none\" type=\"file\" onChange={this.uploadFile} ref={this.fileInput} />\n          </Fragment>\n        }\n      />\n    );\n  }\n}\n\nWebSettingFile.propTypes = propTypes;\n\nexport default WebSettingFile;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input } from 'reactstrap';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  saveSetting: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  helpTip: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingCheckbox extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputChecked: this.props.value\n    };\n  }\n\n  onInputChange = (e) => {\n    const checked = e.target.checked;\n    const valueToNum = checked ? 1 : 0;\n    this.setState({\n      inputChecked: checked\n    });\n    this.props.saveSetting(this.props.keyText, valueToNum);\n  };\n\n  render() {\n    const { inputChecked } = this.state;\n    const { helpTip, displayName } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        mainContent={\n          <Fragment>\n            <Input className=\"ml-0\" checked={inputChecked} type='checkbox' onChange={this.onInputChange} />\n            <p className=\"ml-4\">{helpTip}</p>\n          </Fragment>\n        }\n      />\n    );\n  }\n}\n\nWebSettingCheckbox.propTypes = propTypes;\n\nexport default WebSettingCheckbox;\n","import React, { Component, Fragment } from 'react';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, isPro, mediaUrl, logoPath, faviconPath, loginBGPath } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Section from './section';\nimport InputItem from './input-item';\nimport FileItem from './file-item';\nimport CheckboxItem from './checkbox-item';\n\nimport '../../../css/system-admin-web-settings.css';\n\nclass WebSettings extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      config_dict: null,\n      logoPath: mediaUrl + logoPath,\n      faviconPath: mediaUrl + faviconPath,\n      loginBGPath: mediaUrl + loginBGPath\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetSysSettingInfo().then((res) => {\n      this.setState({\n        loading: false,\n        config_dict: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  saveSetting = (key, value) => {\n    seafileAPI.sysAdminSetSysSettingInfo(key, value).then((res) => {\n      this.setState({\n        config_dict: res.data\n      });\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  postFile = (file, fileType) => {\n    let postFile;\n    if (fileType == 'Logo') {\n      postFile = seafileAPI.sysAdminUpdateLogo(file);\n    } else if (fileType == 'Favicon') {\n      postFile = seafileAPI.sysAdminUpdateFavicon(file);\n    } else if (fileType == 'loginBGImage') {\n      postFile = seafileAPI.sysAdminUpdateLoginBG(file);\n    }\n    postFile.then((res) => {\n      if (fileType == 'Logo') {\n        this.setState({\n          logoPath: res.data.logo_path\n        });\n      } else if (fileType == 'Favicon') {\n        this.setState({\n          faviconPath: res.data.favicon_path\n        });\n      } else if (fileType == 'loginBGImage') {\n        this.setState({\n          loginBGPath: res.data.login_bg_image_path\n        });\n      }\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { loading, errorMsg, config_dict, logoPath, faviconPath, loginBGPath } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Settings')}</h3>\n            </div>\n            <div className=\"cur-view-content container mw-100\">\n              {loading && <Loading />}\n              {errorMsg && <p className=\"error text-center mt-4\">{errorMsg}</p>}\n              {(!loading && !errorMsg) && config_dict &&\n              <Fragment>\n                <p className=\"small text-secondary my-4\">{gettext('Note: Settings via web interface are saved in database table (seahub-db/constance_config). They have a higher priority over the settings in config files.')}</p>\n\n                <Section headingText='URL'>\n                  <Fragment>\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='SERVICE_URL'\n                      keyText='SERVICE_URL'\n                      value={config_dict['SERVICE_URL']}\n                      helpTip={gettext('The URL of the server, like https://seafile.example.com or http://192.168.1.2:8000')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='FILE_SERVER_ROOT'\n                      keyText='FILE_SERVER_ROOT'\n                      value={config_dict['FILE_SERVER_ROOT']}\n                      helpTip={gettext('The internal URL for downloading/uploading files. Users will not be able to download/upload files if this is not set correctly. If you config Seafile behind Nginx/Apache, it should be SERVICE_URL/seafhttp, like https://seafile.example.com/seafhttp .')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Branding')}>\n                  <Fragment>\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='SITE_TITLE'\n                      keyText='SITE_TITLE'\n                      value={config_dict['SITE_TITLE']}\n                      helpTip={gettext('Site title shown in a browser tab')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='SITE_NAME'\n                      keyText='SITE_NAME'\n                      value={config_dict['SITE_NAME']}\n                      helpTip={gettext('Site name used in email sending')}\n                    />\n                    <FileItem\n                      postFile={this.postFile}\n                      displayName='Logo'\n                      keyText='Logo'\n                      filePath={logoPath}\n                      fileWidth={256}\n                      fileHeight={64}\n                      helpTip='logo.png, 256px * 64px'\n                    />\n                    <FileItem\n                      postFile={this.postFile}\n                      displayName='Favicon'\n                      keyText='Favicon'\n                      filePath={faviconPath}\n                      fileWidth={32}\n                      fileHeight={32}\n                      helpTip='favicon.ico, 32px * 32px'\n                    />\n                    <FileItem\n                      postFile={this.postFile}\n                      displayName={gettext('Login Background Image')}\n                      keyText='loginBGImage'\n                      filePath={loginBGPath}\n                      fileWidth={240}\n                      fileHeight={160}\n                      helpTip='login-bg.jpg, 2400px * 1600px'\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='ENABLE_BRANDING_CSS'\n                      keyText='ENABLE_BRANDING_CSS'\n                      value={config_dict['ENABLE_BRANDING_CSS']}\n                      helpTip={gettext('Use custom CSS')}\n                    />\n                    <InputItem\n                      inputType=\"textarea\"\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('Custom CSS')}\n                      keyText='CUSTOM_CSS'\n                      value={config_dict['CUSTOM_CSS']}\n                      helpTip=''\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('User')}>\n                  <Fragment>\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('allow new registrations')}\n                      keyText='ENABLE_SIGNUP'\n                      value={config_dict['ENABLE_SIGNUP']}\n                      helpTip={gettext('Allow new user registrations. Uncheck this to prevent anyone from creating a new account.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('activate after registration')}\n                      keyText='ACTIVATE_AFTER_REGISTRATION'\n                      value={config_dict['ACTIVATE_AFTER_REGISTRATION']}\n                      helpTip={gettext('Activate user immediately after registration. If unchecked, a user need to be activated by administrator or via activation email')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('send activation email')}\n                      keyText='REGISTRATION_SEND_MAIL'\n                      value={config_dict['REGISTRATION_SEND_MAIL']}\n                      helpTip={gettext('Send activation Email after user registration.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('keep sign in')}\n                      keyText='LOGIN_REMEMBER_DAYS'\n                      value={config_dict['LOGIN_REMEMBER_DAYS']}\n                      helpTip={gettext('Number of days that keep user sign in.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='LOGIN_ATTEMPT_LIMIT'\n                      keyText='LOGIN_ATTEMPT_LIMIT'\n                      value={config_dict['LOGIN_ATTEMPT_LIMIT']}\n                      helpTip={gettext('The maximum number of failed login attempts before showing CAPTCHA.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='FREEZE_USER_ON_LOGIN_FAILED'\n                      keyText='FREEZE_USER_ON_LOGIN_FAILED'\n                      value={config_dict['FREEZE_USER_ON_LOGIN_FAILED']}\n                      helpTip={gettext('Freeze user account when failed login attempts exceed limit.')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Groups')}>\n                  <CheckboxItem\n                    saveSetting={this.saveSetting}\n                    displayName='ENABLE_SHARE_TO_ALL_GROUPS'\n                    keyText='ENABLE_SHARE_TO_ALL_GROUPS'\n                    value={config_dict['ENABLE_SHARE_TO_ALL_GROUPS']}\n                    helpTip={gettext('Enable users to share libraries to any groups in the system.')}\n                  />\n                </Section>\n\n                <Section headingText={gettext('Password')}>\n                  <Fragment>\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='strong password'\n                      keyText='USER_STRONG_PASSWORD_REQUIRED'\n                      value={config_dict['USER_STRONG_PASSWORD_REQUIRED']}\n                      helpTip={gettext('Force user to use a strong password when sign up or change password.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='force password change'\n                      keyText='FORCE_PASSWORD_CHANGE'\n                      value={config_dict['FORCE_PASSWORD_CHANGE']}\n                      helpTip={gettext('Force user to change password when account is newly added or reset by admin')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('password minimum length')}\n                      keyText='USER_PASSWORD_MIN_LENGTH'\n                      value={config_dict['USER_PASSWORD_MIN_LENGTH']}\n                      helpTip={gettext('The least number of characters an account password should include.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('password strength level')}\n                      keyText='USER_PASSWORD_STRENGTH_LEVEL'\n                      value={config_dict['USER_PASSWORD_STRENGTH_LEVEL']}\n                      helpTip={gettext('The level(1-4) of an account password\\'s strength. For example, \\'3\\' means password must have at least 3 of the following: num, upper letter, lower letter and other symbols')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='enable two factor authentication'\n                      keyText='ENABLE_TWO_FACTOR_AUTH'\n                      value={config_dict['ENABLE_TWO_FACTOR_AUTH']}\n                      helpTip={gettext('Enable two factor authentication')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Library')}>\n                  <Fragment>\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='library history'\n                      keyText='ENABLE_REPO_HISTORY_SETTING'\n                      value={config_dict['ENABLE_REPO_HISTORY_SETTING']}\n                      helpTip={gettext('Allow user to change library history settings')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='encrypted library'\n                      keyText='ENABLE_ENCRYPTED_LIBRARY'\n                      value={config_dict['ENABLE_ENCRYPTED_LIBRARY']}\n                      helpTip={gettext('Allow user to create encrypted libraries')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('library password minimum length')}\n                      keyText='REPO_PASSWORD_MIN_LENGTH'\n                      value={config_dict['REPO_PASSWORD_MIN_LENGTH']}\n                      helpTip={gettext('The least number of characters an encrypted library password should include.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('share/upload link force password')}\n                      keyText='SHARE_LINK_FORCE_USE_PASSWORD'\n                      value={config_dict['SHARE_LINK_FORCE_USE_PASSWORD']}\n                      helpTip={gettext('Force user use password when generating share/upload link.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('share/upload link password minimum length')}\n                      keyText='SHARE_LINK_PASSWORD_MIN_LENGTH'\n                      value={config_dict['SHARE_LINK_PASSWORD_MIN_LENGTH']}\n                      helpTip={gettext('The least number of characters a share/upload link password should include.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('share/upload link password strength level')}\n                      keyText='SHARE_LINK_PASSWORD_STRENGTH_LEVEL'\n                      value={config_dict['SHARE_LINK_PASSWORD_STRENGTH_LEVEL']}\n                      helpTip={gettext('The level(1-4) of a share/upload link password\\'s strength. For example, \\'3\\' means password must have at least 3 of the following: num, upper letter, lower letter and other symbols')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='ENABLE_USER_CLEAN_TRASH'\n                      keyText='ENABLE_USER_CLEAN_TRASH'\n                      value={config_dict['ENABLE_USER_CLEAN_TRASH']}\n                      helpTip={gettext('Allow user to clean library trash')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Online Preview')}>\n                  <InputItem\n                    inputType=\"textarea\"\n                    saveSetting={this.saveSetting}\n                    displayName={gettext('text file extensions')}\n                    keyText='TEXT_PREVIEW_EXT'\n                    value={config_dict['TEXT_PREVIEW_EXT']}\n                    helpTip={gettext('Extensions of text files that can be online previewed, each suffix is separated by a comma.')}\n                  />\n                </Section>\n\n                <Section headingText={gettext('Sync')}>\n                  <CheckboxItem\n                    saveSetting={this.saveSetting}\n                    displayName='DISABLE_SYNC_WITH_ANY_FOLDER'\n                    keyText='DISABLE_SYNC_WITH_ANY_FOLDER'\n                    value={config_dict['DISABLE_SYNC_WITH_ANY_FOLDER']}\n                    helpTip={gettext('If turn on, the desktop clients will not be able to sync a folder outside the default Seafile folder.')}\n                  />\n                </Section>\n\n                {isPro && <Section headingText={gettext('Terms')}>\n                  <CheckboxItem\n                    saveSetting={this.saveSetting}\n                    displayName='ENABLE_TERMS_AND_CONDITIONS'\n                    keyText='ENABLE_TERMS_AND_CONDITIONS'\n                    value={config_dict['ENABLE_TERMS_AND_CONDITIONS']}\n                    helpTip={gettext('Enable system admin to add Terms and Conditions, and all users will have to accept the terms.')}\n                  />\n                </Section>}\n              </Fragment>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default WebSettings;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addNotification: PropTypes.func.isRequired\n};\n\nclass SysAdminAddSysNotificationDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleSubmit = () => {\n    this.toggle();\n    this.props.addNotification(this.state.value.trim());\n  };\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add new notification')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"textarea\"\n                value={this.state.value}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddSysNotificationDialog.propTypes = propTypes;\n\nexport default SysAdminAddSysNotificationDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminAddSysNotificationDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-sys-notification-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No notifications')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <table>\n          <thead>\n            <tr>\n              <th width=\"95%\">{gettext('Notification Detail')}</th>\n              <th width=\"5%\">{/*Operations*/}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, index) => {\n              return (<Item\n                key={index}\n                item={item}\n                isItemFreezed={this.state.isItemFreezed}\n                onFreezedItem={this.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n                deleteNotification={this.props.deleteNotification}\n                setToCurrent={this.props.setToCurrent}\n              />);\n            })}\n          </tbody>\n        </table>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getItemsByPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  deleteItem: PropTypes.func,\n  setToCurrent: PropTypes.func.isRequired,\n  deleteNotification: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteNotification = () => {\n    this.props.deleteNotification(this.props.item.id);\n    this.toggleDeleteDialog();\n  };\n\n  setToCurrent = () => {\n    this.props.setToCurrent(this.props.item.id);\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Set to current':\n        this.setToCurrent();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n    }\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Set to current':\n        translateResult = gettext('Set to current');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  };\n\n  getOperations = () => {\n    const { item } = this.props;\n    let operations = [];\n    if (!item.is_current) {\n      operations.push('Set to current');\n    }\n    operations.push('Delete');\n    return operations;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            {item.msg}\n            {item.is_current &&\n              <span className=\"small text-orange\">{gettext('(current notification)')}</span>\n            }\n          </td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={this.getOperations()}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Notification')}\n            message={gettext('Are you sure you want to delete the notification ?')}\n            toggleDialog={this.toggleDeleteDialog}\n            executeOperation={this.deleteNotification}\n            confirmBtnText={gettext('Delete')}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n  onFreezedItem: PropTypes.func.isRequired,\n  setToCurrent: PropTypes.func.isRequired,\n  deleteNotification: PropTypes.func.isRequired,\n};\n\nclass Notifications extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      notificationList: [],\n      isAddNotificationDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminListAllSysNotifications().then((res) => {\n      this.setState({\n        loading: false,\n        notificationList: res.data.notifications\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  toggleAddNotificationDialog = () => {\n    this.setState({isAddNotificationDialogOpen: !this.state.isAddNotificationDialogOpen});\n  };\n\n  addNotification = (msg) => {\n    seafileAPI.sysAdminAddSysNotification(msg).then(res => {\n      let notificationList = this.state.notificationList;\n      notificationList.unshift(res.data.notification);\n      this.setState({notificationList: notificationList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteNotification = (id) => {\n    seafileAPI.sysAdminDeleteSysNotification(id).then(res => {\n      let notificationList = this.state.notificationList.filter(item => {\n        return item.id != id;\n      });\n      this.setState({notificationList: notificationList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  setToCurrent = (id) => {\n    seafileAPI.sysAdminSetSysNotificationToCurrent(id).then(res => {\n      let notificationList = this.state.notificationList.map(item => {\n        if (item.id == id) {\n          item.is_current = true;\n        } else {\n          item.is_current = false;\n        }\n        return item;\n      });\n      this.setState({notificationList: notificationList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { isAddNotificationDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddNotificationDialog}>{gettext('Add new notification')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('All Notifications')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.notificationList}\n                deleteNotification={this.deleteNotification}\n                setToCurrent={this.setToCurrent}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddNotificationDialogOpen &&\n          <SysAdminAddSysNotificationDialog\n            addNotification={this.addNotification}\n            toggle={this.toggleAddNotificationDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Notifications;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport MainPanelTopbar from './main-panel-topbar';\n\n\nconst tablePropTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  records: PropTypes.array.isRequired,\n};\n\nclass Table extends Component {\n\n  render() {\n    let { loading, errorMsg, records } = this.props;\n\n    if (loading) {\n      return <span className=\"loading-icon loading-tip\"></span>;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      return (\n        <table width=\"100%\" className=\"table table-hover table-vcenter\">\n          <thead>\n            <tr>\n              <th width=\"16%\">{gettext('Library')}</th>\n              <th width=\"30%\">ID</th>\n              <th width=\"30%\">{gettext('Path')}</th>\n              <th width=\"12%\">{gettext('Label')}</th>\n              <th width=\"12%\">{gettext('Suggestion')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {records.map((record, index) => {\n              return (\n                <Item key={index} record={record} />\n              );\n            })}\n          </tbody>\n        </table>\n      );\n    }\n  }\n}\n\nTable.propTypes = tablePropTypes;\n\n\nconst itemPropTypes = {\n  record: PropTypes.object.isRequired,\n};\n\nclass Item extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    let record = this.props.record;\n\n    return (\n      <tr>\n        <td>{record.repo_name}</td>\n        <td>{record.repo_id}</td>\n        <td>{record.path}</td>\n        <td>{record.detail.label}</td>\n        <td>{record.detail.suggestion}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = itemPropTypes;\n\n\nclass FileScanRecords extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      records: [],\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listFileScanRecords().then((res) => {\n      this.setState({\n        loading: false,\n        records: res.data.record_list,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\" id=\"content-scan-records\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Content Scan Records')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Table\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                records={this.state.records}\n              />\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default FileScanRecords;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\nimport { siteRoot } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\n\nconst WorkWeixinDepartmentMembersListPropTypes = {\n  isMembersListLoading: PropTypes.bool.isRequired,\n  membersList: PropTypes.array.isRequired,\n  newUsersTempObj: PropTypes.object.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  onUserChecked: PropTypes.func.isRequired,\n  onAllUsersChecked: PropTypes.func.isRequired,\n  isCheckedAll: PropTypes.bool.isRequired,\n  canCheckUserIds: PropTypes.array.isRequired,\n};\n\nclass WorkWeixinDepartmentMembersList extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { newUsersTempObj, checkedDepartmentId, isMembersListLoading, canCheckUserIds } = this.props;\n    const membersList = this.props.membersList.map((member, index) => {\n      let avatar = member.avatar;\n      if (member.avatar && member.avatar.length > 0) {\n        avatar = member.avatar.substring(0, member.avatar.length - 1) + '100';// get smaller avatar\n      } else {\n        avatar = siteRoot + 'media/avatars/default.png';\n      }\n      return (\n        <tr key={checkedDepartmentId.toString() + member.userid}>\n          <td>\n            {!member.email &&\n              <input type=\"checkbox\" className=\"vam\" onChange={() => this.props.onUserChecked(member)}\n                checked={(member.userid in newUsersTempObj) ? 'checked' : ''}></input>}\n          </td>\n          <td><img className=\"avatar\" src={avatar} alt=\"\"></img></td>\n          <td>{member.name}</td>\n          <td>{member.mobile}</td>\n          <td>{member.contact_email}</td>\n          <td>{member.email && <i className=\"sf2-icon-tick\"></i>}</td>\n        </tr>\n      );\n    });\n\n    return (\n      <div className=\"dir-content-main\">\n        {isMembersListLoading && <Loading/>}\n        {!isMembersListLoading && this.props.membersList.length > 0 &&\n          <Table hover>\n            <thead>\n              <tr>\n                <th width=\"5%\">\n                  {canCheckUserIds.length > 0 &&\n                    <input type=\"checkbox\" className=\"vam\" checked={this.props.isCheckedAll}\n                      onChange={() => this.props.onAllUsersChecked()}></input>}\n                </th>\n                <th width=\"10%\"></th>\n                <th width=\"20%\">{''}</th>\n                <th width=\"20%\">{''}</th>\n                <th width=\"30%\">{''}</th>\n                <th width=\"15%\">{''}</th>\n              </tr>\n            </thead>\n            <tbody>{membersList}</tbody>\n          </Table>\n        }\n        {!isMembersListLoading && this.props.membersList.length === 0 &&\n          <div className=\"message empty-tip text-center\">\n            <img src={`${siteRoot}media/img/member-list-empty-2x.png`} alt=\"\"/>\n            <h4>{''}</h4>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nWorkWeixinDepartmentMembersList.propTypes = WorkWeixinDepartmentMembersListPropTypes;\n\nexport default WorkWeixinDepartmentMembersList;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\nimport { gettext, isPro } from '../../../utils/constants';\n\nconst WorkWeixinDepartmentsTreeNodePropTypes = {\n  index: PropTypes.number,\n  department: PropTypes.object.isRequired,\n  isChildrenShow: PropTypes.bool.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass WorkWeixinDepartmentsTreeNode extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isChildrenShow: false,\n      dropdownOpen: false,\n      active: false,\n    };\n  }\n\n  toggleChildren = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({\n      isChildrenShow: !this.state.isChildrenShow,\n    });\n  };\n\n  dropdownToggle = (e) => {\n    e.stopPropagation();\n    this.setState({ dropdownOpen: !this.state.dropdownOpen });\n  };\n\n  onMouseEnter = () => {\n    this.setState({ active: true });\n  };\n\n  onMouseLeave = () => {\n    if (this.state.dropdownOpen) return;\n    this.setState({ active: false });\n  };\n\n  importDepartmentDialogToggle = (depart) => {\n    this.setState({ active: false });\n    this.props.importDepartmentDialogToggle(depart);\n  };\n\n  componentDidMount() {\n    if (this.props.index === 0) {\n      this.setState({ isChildrenShow: true });\n      this.props.onChangeDepartment(this.props.department.id);\n    }\n  }\n\n  renderTreeNodes = (departmentsTree) => {\n    if (departmentsTree.length > 0) {\n      return departmentsTree.map((department) => {\n        return (\n          <WorkWeixinDepartmentsTreeNode\n            key={department.id}\n            department={department}\n            isChildrenShow={this.state.isChildrenShow}\n            onChangeDepartment={this.props.onChangeDepartment}\n            checkedDepartmentId={this.props.checkedDepartmentId}\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n          />\n        );\n      });\n    }\n  };\n\n  changeDept = (departmentID) => {\n    const { department, checkedDepartmentId } = this.props;\n    this.props.onChangeDepartment(departmentID);\n    if (checkedDepartmentId === department.id && !this.state.isChildrenShow) {\n      this.setState({ isChildrenShow: true });\n    }\n  };\n\n  render() {\n    const { isChildrenShow, department, checkedDepartmentId } = this.props;\n    let toggleClass = classNames({\n      'folder-toggle-icon fa fa-caret-down': department.children && this.state.isChildrenShow,\n      'folder-toggle-icon fa fa-caret-right': department.children && !this.state.isChildrenShow,\n    });\n    let nodeInnerClass = classNames({\n      'tree-node-inner': true,\n      'tree-node-inner-hover': this.state.active,\n      'tree-node-hight-light': checkedDepartmentId === department.id\n    });\n    return (\n      <Fragment>\n        {isChildrenShow &&\n          <div\n            className={nodeInnerClass}\n            onClick={() => this.changeDept(department.id)}\n            onMouseEnter={this.onMouseEnter}\n            onMouseLeave={this.onMouseLeave}\n          >\n            <span className=\"tree-node-icon\" onClick={(e) => this.toggleChildren(e)}>\n              <i className={toggleClass}></i>\n            </span>\n            <span className=\"tree-node-text\">{department.name}</span>\n            {isPro &&\n            <Dropdown\n              isOpen={this.state.dropdownOpen}\n              toggle={(e) => this.dropdownToggle(e)}\n              direction=\"down\"\n              style={this.state.active ? {} : { opacity: 0 }}\n            >\n              <DropdownToggle\n                tag='i'\n                className='fa fa-ellipsis-v cursor-pointer attr-action-icon'\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.dropdownOpen}\n              >\n              </DropdownToggle>\n              <DropdownMenu className=\"drop-list\" right={true}>\n                <DropdownItem\n                  onClick={this.importDepartmentDialogToggle.bind(this, department)}\n                  id={department.id}\n                >{''}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n            }\n          </div>\n        }\n        {this.state.isChildrenShow &&\n          <div className=\"department-children\">\n            {department.children && this.renderTreeNodes(department.children)}\n          </div>\n        }\n      </Fragment>\n    );\n  }\n}\n\nWorkWeixinDepartmentsTreeNode.propTypes = WorkWeixinDepartmentsTreeNodePropTypes;\n\nexport default WorkWeixinDepartmentsTreeNode;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../../../components/loading';\nimport WorkWeixinDepartmentsTreeNode from './work-weixin-departments-tree-node';\n\nconst WorkWeixinDepartmentsTreePanelPropTypes = {\n  isTreeLoading: PropTypes.bool.isRequired,\n  departmentsTree: PropTypes.array.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass WorkWeixinDepartmentsTreePanel extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { departmentsTree } = this.props;\n    return (\n      <div className=\"dir-content-nav\">\n        <div className=\"tree-view tree\">\n          {this.props.isTreeLoading ?\n            <Loading/> :\n            <div className=\"tree-node\">\n              {departmentsTree.length > 0 && departmentsTree.map((department, index) => {\n                return (\n                  <WorkWeixinDepartmentsTreeNode\n                    key={department.id}\n                    index={index}\n                    department={department}\n                    isChildrenShow={true}\n                    onChangeDepartment={this.props.onChangeDepartment}\n                    checkedDepartmentId={this.props.checkedDepartmentId}\n                    importDepartmentDialogToggle={this.props.importDepartmentDialogToggle}\n                  />\n                );\n              })}\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nWorkWeixinDepartmentsTreePanel.propTypes = WorkWeixinDepartmentsTreePanelPropTypes;\n\nexport default WorkWeixinDepartmentsTreePanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Loading from '../loading';\n\nconst propTypes = {\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n  onImportDepartmentSubmit: PropTypes.func.isRequired,\n  departmentsCount: PropTypes.number.isRequired,\n  membersCount: PropTypes.number.isRequired,\n  departmentName: PropTypes.string.isRequired,\n};\n\nclass ImportWorkWeixinDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading : false,\n    };\n  }\n\n  toggle = () => {\n    this.props.importDepartmentDialogToggle(null);\n  };\n\n  handleSubmit = () => {\n    this.props.onImportDepartmentSubmit();\n    this.setState({ isLoading : true });\n  };\n\n  render() {\n    const { departmentsCount, membersCount, departmentName } = this.props;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>\n          <span>{' '}</span><span className=\"op-target\" title={departmentName}>{departmentName}</span>\n        </ModalHeader>\n        <ModalBody>\n          <p>{' '}<strong>{departmentsCount}</strong>{'  '}<strong>{membersCount}</strong>{' '}</p>\n          {this.state.isLoading && <Loading/>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{''}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{''}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nImportWorkWeixinDepartmentDialog.propTypes = propTypes;\n\nexport default ImportWorkWeixinDepartmentDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport deepCopy from 'deep-copy';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { siteRoot, isPro } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport MainPanelTopbar from './main-panel-topbar';\nimport { WorkWeixinDepartmentMembersList, WorkWeixinDepartmentsTreePanel } from './work-weixin';\nimport ImportWorkWeixinDepartmentDialog from '../../components/dialog/import-work-weixin-department-dialog';\n\nimport '../../css/work-weixin-departments.css';\n\nclass WorkWeixinDepartments extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isTreeLoading: true,\n      isMembersListLoading: true,\n      departmentsTree: [],\n      checkedDepartmentId: 0,\n      membersTempObj: {},\n      membersList: [],\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      canCheckUserIds: [],\n      isImportDepartmentDialogShow: false,\n      importDepartment: null,\n      importDepartmentChildrenCount: 0,\n      importDepartmentMembersCount: 0,\n    };\n  }\n\n  getDepartmentsTree = (list) => {\n    let childIds = [];\n    let parentIds = [];\n    for (let i = 0; i < list.length; i++) {\n      if (childIds.indexOf(list[i].id) === -1) {\n        childIds.push(list[i].id);\n      }\n      if (parentIds.indexOf(list[i].parentid) === -1) {\n        parentIds.push(list[i].parentid);\n      }\n    }\n    let intersection = parentIds.filter((v) => {\n      return childIds.indexOf(v) !== -1;\n    });\n    let rootIds = parentIds.concat(intersection).filter((v) => {\n      return parentIds.indexOf(v) === -1 || intersection.indexOf(v) === -1;\n    });\n    let cloneData = deepCopy(list);\n    return cloneData.filter(father => {\n      let branchArr = cloneData.filter(child => father.id === child.parentid);\n      branchArr.length > 0 ? father.children = branchArr : '';\n      return rootIds.indexOf(father.parentid) !== -1;\n    });\n  };\n\n  getWorkWeixinDepartmentsList = (departmentID) => {\n    seafileAPI.adminListWorkWeixinDepartments(departmentID).then((res) => {\n      if (!departmentID) {\n        let departmentsTree = this.getDepartmentsTree(res.data.department);\n        this.setState({\n          isTreeLoading: false,\n          departmentsTree: departmentsTree,\n        });\n      } else {\n        this.setState({\n          importDepartmentChildrenCount: res.data.department.length,\n          importDepartmentMembersCount: this.state.membersTempObj[departmentID].length,\n        });\n      }\n    }).catch((error) => {\n      this.handleError(error);\n      this.setState({\n        isTreeLoading: false,\n        isMembersListLoading: false,\n      });\n      if (error.response && error.response.status === 403) {\n        window.location = siteRoot + 'sys/useradmin/';\n      }\n    });\n  };\n\n  getWorkWeixinDepartmentMembersList = (department_id) => {\n    this.setState({\n      isMembersListLoading: true,\n    });\n    seafileAPI.adminListWorkWeixinDepartmentMembers(department_id, {fetch_child: true}).then((res) => {\n      let membersTempObj = this.state.membersTempObj;\n      membersTempObj[department_id] = res.data.userlist;\n      let canCheckUserIds = this.getCanCheckUserIds(res.data.userlist);\n      this.setState({\n        membersTempObj: membersTempObj,\n        membersList: res.data.userlist,\n        isMembersListLoading: false,\n        canCheckUserIds: canCheckUserIds,\n      });\n    }).catch((error) => {\n      this.setState({isMembersListLoading: false});\n      this.handleError(error);\n    });\n  };\n\n  getCanCheckUserIds = (membersList) => {\n    let userIds = [];\n    membersList.forEach((member) => {\n      if (!member.email) userIds.push(member.userid);\n    });\n    return userIds;\n  };\n\n  onChangeDepartment = (department_id) => {\n    this.setState({\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      checkedDepartmentId: department_id,\n    });\n    if (!(department_id in this.state.membersTempObj)) {\n      this.getWorkWeixinDepartmentMembersList(department_id);\n    } else {\n      let canCheckUserIds = this.getCanCheckUserIds(this.state.membersTempObj[department_id]);\n      this.setState({\n        membersList: this.state.membersTempObj[department_id],\n        canCheckUserIds: canCheckUserIds,\n      });\n    }\n  };\n\n  onUserChecked = (user) => {\n    if (this.state.canCheckUserIds.indexOf(user.userid) !== -1) {\n      let newUsersTempObj = this.state.newUsersTempObj;\n      if (user.userid in newUsersTempObj) {\n        delete newUsersTempObj[user.userid];\n        if (this.state.isCheckedAll) {\n          this.setState({ isCheckedAll: false });\n        }\n      } else {\n        newUsersTempObj[user.userid] = user;\n        if (Object.keys(newUsersTempObj).length === this.state.canCheckUserIds.length) {\n          this.setState({ isCheckedAll: true });\n        }\n      }\n      this.setState({ newUsersTempObj: newUsersTempObj });\n    }\n  };\n\n  onAllUsersChecked = () => {\n    this.setState({\n      isCheckedAll: !this.state.isCheckedAll,\n    }, () => {\n      if (this.state.isCheckedAll) {\n        let newUsersTempObj = {};\n        let newUsersTempList = this.state.membersList.filter(user => {\n          return this.state.canCheckUserIds.indexOf(user.userid) !== -1;\n        });\n        for (let i = 0; i < newUsersTempList.length; i++) {\n          newUsersTempObj[newUsersTempList[i].userid] = newUsersTempList[i];\n        }\n        this.setState({ newUsersTempObj: newUsersTempObj });\n      } else {\n        this.setState({ newUsersTempObj: {} });\n      }\n    });\n  };\n\n  onSubmit = () => {\n    const { newUsersTempObj } = this.state;\n    if (JSON.stringify(newUsersTempObj) === '{}') return;\n    let userList = [];\n    for (let i in newUsersTempObj) {\n      userList.push(newUsersTempObj[i]);\n    }\n    if (userList.length === 0) {\n      toaster.danger('', {duration: 3});\n      return;\n    }\n    seafileAPI.adminAddWorkWeixinUsersBatch(userList).then((res) => {\n      this.setState({\n        newUsersTempObj: {},\n        isCheckedAll: false,\n      });\n      if (res.data.success) {\n        this.handleSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        const fails= res.data.failed;\n        for (let i = 0; i < fails.length; i++) {\n          toaster.danger(fails[i].name + ' ' + fails[i].error_msg, {duration: 3});\n        }\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n\n  };\n\n  handleSubmitSuccess = (success) => {\n    let { membersTempObj, membersList, canCheckUserIds } = this.state;\n    for (let i = 0; i < success.length; i++) {\n      let { userid, name, email } = success[i];\n      toaster.success(name + ' ', {duration: 1});\n      // refresh all temp\n      if (canCheckUserIds.indexOf(userid) !== -1) {\n        canCheckUserIds.splice(canCheckUserIds.indexOf(userid), 1);\n      }\n      for (let j = 0; j < membersList.length; j++) {\n        if (membersList[j].userid === userid) {\n          membersList[j].email = email;\n          break;\n        }\n      }\n      for (let departmentId in membersTempObj) {\n        for (let k = 0; k < membersTempObj[departmentId].length; k++) {\n          if (membersTempObj[departmentId][k].userid === userid) {\n            membersTempObj[departmentId][k].email = email;\n            break;\n          }\n        }\n      }\n    }\n    this.setState({\n      membersTempObj: membersTempObj,\n      membersList: membersList,\n      canCheckUserIds: canCheckUserIds,\n    });\n  };\n\n  importDepartmentDialogToggle = (importDepartment) => {\n    this.setState({\n      isImportDepartmentDialogShow: !this.state.isImportDepartmentDialogShow,\n      importDepartment: importDepartment,\n    }, () => {\n      if (importDepartment) {\n        this.getWorkWeixinDepartmentsList(importDepartment.id);\n      }\n    });\n  };\n\n  onImportDepartmentSubmit = () => {\n    let importDepartment = this.state.importDepartment;\n    if (!importDepartment) return;\n    seafileAPI.adminImportWorkWeixinDepartment(importDepartment.id).then((res) => {\n      this.setState({\n        isMembersListLoading: true,\n        checkedDepartmentId: importDepartment.id,\n        membersTempObj: {},\n        membersList: [],\n        newUsersTempObj: {},\n        isCheckedAll: false,\n        canCheckUserIds: [],\n      });\n      this.getWorkWeixinDepartmentMembersList(importDepartment.id);\n      this.importDepartmentDialogToggle(null);\n      if (res.data.success) {\n        this.handleImportDepartmentSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        this.handleImportDepartmentSubmitFailed(res.data.failed);\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  handleImportDepartmentSubmitSuccess = (successes) => {\n    for (let i = 0, len = successes.length; i < len; i++) {\n      let success = successes[i];\n      let successMsg = success.type === 'department' ? ' ' + success.department_name + ' ' : success.api_user_name + ' ' ;\n      toaster.success(successMsg, { duration: 3 });\n    }\n  };\n\n  handleImportDepartmentSubmitFailed = (fails) => {\n    for (let i = 0, len = fails.length; i < len; i++) {\n      let fail = fails[i];\n      let failName = fail.type === 'department' ? fail.department_name : fail.api_user_name;\n      toaster.danger(failName + ' ' + fail.msg, { duration: 3} );\n    }\n  };\n\n  handleError = (error) => {\n    const errorMsg = Utils.getErrorMsg(error);\n    toaster.danger(errorMsg);\n  };\n\n  componentDidMount() {\n    this.getWorkWeixinDepartmentsList(null);\n  }\n\n  render() {\n    const { isImportDepartmentDialogShow, isTreeLoading, importDepartment, importDepartmentChildrenCount, importDepartmentMembersCount } = this.state;\n    let canImportDepartment = !!(isPro && isImportDepartmentDialogShow && !isTreeLoading && importDepartment);\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"operation-item\" onClick={this.onSubmit}>{''}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{''}</h3>\n            </div>\n            <div className=\"cur-view-content d-flex flex-row\">\n              <WorkWeixinDepartmentsTreePanel\n                departmentsTree={this.state.departmentsTree}\n                isTreeLoading={this.state.isTreeLoading}\n                onChangeDepartment={this.onChangeDepartment}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n              />\n              <div className=\"dir-content-resize\"></div>\n              <WorkWeixinDepartmentMembersList\n                isMembersListLoading={this.state.isMembersListLoading}\n                membersList={this.state.membersList}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                newUsersTempObj={this.state.newUsersTempObj}\n                onUserChecked={this.onUserChecked}\n                onAllUsersChecked={this.onAllUsersChecked}\n                isCheckedAll={this.state.isCheckedAll}\n                canCheckUserIds={this.state.canCheckUserIds}\n              />\n            </div>\n          </div>\n        </div>\n        {canImportDepartment &&\n          <ImportWorkWeixinDepartmentDialog\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n            onImportDepartmentSubmit={this.onImportDepartmentSubmit}\n            departmentsCount={importDepartmentChildrenCount}\n            membersCount={importDepartmentMembersCount}\n            departmentName={importDepartment.name}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default WorkWeixinDepartments;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\nimport { siteRoot } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\n\nconst DingtalkDepartmentMembersListPropTypes = {\n  isMembersListLoading: PropTypes.bool.isRequired,\n  membersList: PropTypes.array.isRequired,\n  newUsersTempObj: PropTypes.object.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  onUserChecked: PropTypes.func.isRequired,\n  onAllUsersChecked: PropTypes.func.isRequired,\n  isCheckedAll: PropTypes.bool.isRequired,\n  canCheckUserIds: PropTypes.array.isRequired,\n};\n\nclass DingtalkDepartmentMembersList extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { newUsersTempObj, checkedDepartmentId, isMembersListLoading, canCheckUserIds } = this.props;\n    const membersList = this.props.membersList.map((member, index) => {\n      let avatar = member.avatar;\n      if (member.avatar && member.avatar.length > 0) {\n        avatar = member.avatar;\n      } else {\n        avatar = siteRoot + 'media/avatars/default.png';\n      }\n      return (\n        <tr key={checkedDepartmentId.toString() + member.userid}>\n          <td>\n            {!member.email &&\n              <input type=\"checkbox\" className=\"vam\" onChange={() => this.props.onUserChecked(member)}\n                checked={(member.userid in newUsersTempObj) ? 'checked' : ''}></input>}\n          </td>\n          <td><img className=\"avatar\" src={avatar} alt=\"\"></img></td>\n          <td>{member.name}</td>\n          <td>{member.mobile}</td>\n          <td>{member.contact_email}</td>\n          <td>{member.email && <i className=\"sf2-icon-tick\"></i>}</td>\n        </tr>\n      );\n    });\n\n    return (\n      <div className=\"dir-content-main\">\n        {isMembersListLoading && <Loading/>}\n        {!isMembersListLoading && this.props.membersList.length > 0 &&\n          <Table hover>\n            <thead>\n              <tr>\n                <th width=\"5%\">\n                  {canCheckUserIds.length > 0 &&\n                    <input type=\"checkbox\" className=\"vam\" checked={this.props.isCheckedAll}\n                      onChange={() => this.props.onAllUsersChecked()}></input>}\n                </th>\n                <th width=\"10%\"></th>\n                <th width=\"20%\">{''}</th>\n                <th width=\"20%\">{''}</th>\n                <th width=\"30%\">{''}</th>\n                <th width=\"15%\">{''}</th>\n              </tr>\n            </thead>\n            <tbody>{membersList}</tbody>\n          </Table>\n        }\n        {!isMembersListLoading && this.props.membersList.length === 0 &&\n          <div className=\"message empty-tip text-center\">\n            <img src={`${siteRoot}media/img/member-list-empty-2x.png`} alt=\"\"/>\n            <h4>{''}</h4>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nDingtalkDepartmentMembersList.propTypes = DingtalkDepartmentMembersListPropTypes;\n\nexport default DingtalkDepartmentMembersList;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\nimport { gettext, isPro } from '../../../utils/constants';\n\nconst DingtalkDepartmentsTreeNodePropTypes = {\n  index: PropTypes.number,\n  department: PropTypes.object.isRequired,\n  isChildrenShow: PropTypes.bool.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass DingtalkDepartmentsTreeNode extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isChildrenShow: false,\n      dropdownOpen: false,\n      active: false,\n    };\n  }\n\n  toggleChildren = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({\n      isChildrenShow: !this.state.isChildrenShow,\n    });\n  };\n\n  dropdownToggle = (e) => {\n    e.stopPropagation();\n    this.setState({ dropdownOpen: !this.state.dropdownOpen });\n  };\n\n  onMouseEnter = () => {\n    this.setState({ active: true });\n  };\n\n  onMouseLeave = () => {\n    if (this.state.dropdownOpen) return;\n    this.setState({ active: false });\n  };\n\n  importDepartmentDialogToggle = (depart) => {\n    this.setState({ active: false });\n    this.props.importDepartmentDialogToggle(depart);\n  };\n\n  componentDidMount() {\n    if (this.props.index === 0) {\n      this.setState({ isChildrenShow: true });\n      this.props.onChangeDepartment(this.props.department.id);\n    }\n  }\n\n  renderTreeNodes = (departmentsTree) => {\n    if (departmentsTree.length > 0) {\n      return departmentsTree.map((department) => {\n        return (\n          <DingtalkDepartmentsTreeNode\n            key={department.id}\n            department={department}\n            isChildrenShow={this.state.isChildrenShow}\n            onChangeDepartment={this.props.onChangeDepartment}\n            checkedDepartmentId={this.props.checkedDepartmentId}\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n          />\n        );\n      });\n    }\n  };\n\n  changeDept = (departmentID) => {\n    const { department, checkedDepartmentId } = this.props;\n    this.props.onChangeDepartment(departmentID);\n    if (checkedDepartmentId === department.id && !this.state.isChildrenShow) {\n      this.setState({ isChildrenShow: true });\n    }\n  };\n\n  render() {\n    const { isChildrenShow, department, checkedDepartmentId } = this.props;\n    let toggleClass = classNames({\n      'folder-toggle-icon fa fa-caret-down': department.children && this.state.isChildrenShow,\n      'folder-toggle-icon fa fa-caret-right': department.children && !this.state.isChildrenShow,\n    });\n    let nodeInnerClass = classNames({\n      'tree-node-inner': true,\n      'tree-node-inner-hover': this.state.active,\n      'tree-node-hight-light': checkedDepartmentId === department.id\n    });\n    return (\n      <Fragment>\n        {isChildrenShow &&\n          <div\n            className={nodeInnerClass}\n            onClick={() => this.changeDept(department.id)}\n            onMouseEnter={this.onMouseEnter}\n            onMouseLeave={this.onMouseLeave}\n          >\n            <span className=\"tree-node-icon\" onClick={(e) => this.toggleChildren(e)}>\n              <i className={toggleClass}></i>\n            </span>\n            <span className=\"tree-node-text\">{department.name}</span>\n            {isPro &&\n            <Dropdown\n              isOpen={this.state.dropdownOpen}\n              toggle={(e) => this.dropdownToggle(e)}\n              direction=\"down\"\n              style={this.state.active ? {} : { opacity: 0 }}\n            >\n              <DropdownToggle\n                tag='i'\n                className='fa fa-ellipsis-v cursor-pointer attr-action-icon'\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.dropdownOpen}\n              >\n              </DropdownToggle>\n              <DropdownMenu className=\"drop-list\" right={true}>\n                <DropdownItem\n                  onClick={this.importDepartmentDialogToggle.bind(this, department)}\n                  id={department.id}\n                >{''}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n            }\n          </div>\n        }\n        {this.state.isChildrenShow &&\n          <div className=\"department-children\">\n            {department.children && this.renderTreeNodes(department.children)}\n          </div>\n        }\n      </Fragment>\n    );\n  }\n}\n\nDingtalkDepartmentsTreeNode.propTypes = DingtalkDepartmentsTreeNodePropTypes;\n\nexport default DingtalkDepartmentsTreeNode;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../../../components/loading';\nimport DingtalkDepartmentsTreeNode from './dingtalk-departments-tree-node';\n\nconst DingtalkDepartmentsTreePanelPropTypes = {\n  isTreeLoading: PropTypes.bool.isRequired,\n  departmentsTree: PropTypes.array.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass DingtalkDepartmentsTreePanel extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { departmentsTree } = this.props;\n    return (\n      <div className=\"dir-content-nav\">\n        <div className=\"tree-view tree\">\n          {this.props.isTreeLoading ?\n            <Loading/> :\n            <div className=\"tree-node\">\n              {departmentsTree.length > 0 && departmentsTree.map((department, index) => {\n                return (\n                  <DingtalkDepartmentsTreeNode\n                    key={department.id}\n                    index={index}\n                    department={department}\n                    isChildrenShow={true}\n                    onChangeDepartment={this.props.onChangeDepartment}\n                    checkedDepartmentId={this.props.checkedDepartmentId}\n                    importDepartmentDialogToggle={this.props.importDepartmentDialogToggle}\n                  />\n                );\n              })}\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nDingtalkDepartmentsTreePanel.propTypes = DingtalkDepartmentsTreePanelPropTypes;\n\nexport default DingtalkDepartmentsTreePanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Loading from '../loading';\n\nconst propTypes = {\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n  onImportDepartmentSubmit: PropTypes.func.isRequired,\n  departmentsCount: PropTypes.number.isRequired,\n  membersCount: PropTypes.number.isRequired,\n  departmentName: PropTypes.string.isRequired,\n};\n\nclass ImportDingtalkDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading : false,\n    };\n  }\n\n  toggle = () => {\n    this.props.importDepartmentDialogToggle(null);\n  };\n\n  handleSubmit = () => {\n    this.props.onImportDepartmentSubmit();\n    this.setState({ isLoading : true });\n  };\n\n  render() {\n    const { departmentsCount, membersCount, departmentName } = this.props;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>\n          <span>{' '}</span><span className=\"op-target\" title={departmentName}>{departmentName}</span>\n        </ModalHeader>\n        <ModalBody>\n          <p>{' '}<strong>{departmentsCount}</strong>{'  '}<strong>{membersCount}</strong>{' '}</p>\n          {this.state.isLoading && <Loading/>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{''}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{''}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nImportDingtalkDepartmentDialog.propTypes = propTypes;\n\nexport default ImportDingtalkDepartmentDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport deepCopy from 'deep-copy';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { siteRoot, isPro } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport MainPanelTopbar from './main-panel-topbar';\nimport toaster from '../../components/toast';\nimport { DingtalkDepartmentMembersList, DingtalkDepartmentsTreePanel } from './dingtalk';\nimport ImportDingtalkDepartmentDialog from '../../components/dialog/import-dingtalk-department-dialog';\n\nimport '../../css/work-weixin-departments.css';\nimport '../../css/dingtalk-departments.css';\n\nclass DingtalkDepartments extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isTreeLoading: true,\n      isMembersListLoading: true,\n      departmentsTree: [],\n      checkedDepartmentId: 0,\n      membersTempObj: {},\n      membersList: [],\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      canCheckUserIds: [],\n      isImportDepartmentDialogShow: false,\n      importDepartment: null,\n      importDepartmentChildrenCount: 0,\n      importDepartmentMembersCount: 0,\n    };\n  }\n\n  getDepartmentsTree = (list) => {\n    let childIds = [];\n    let parentIds = [];\n    for (let i = 0; i < list.length; i++) {\n      if (childIds.indexOf(list[i].id) === -1) {\n        childIds.push(list[i].id);\n      }\n      if (parentIds.indexOf(list[i].parentid) === -1) {\n        parentIds.push(list[i].parentid);\n      }\n    }\n    let intersection = parentIds.filter((v) => {\n      return childIds.indexOf(v) !== -1;\n    });\n    let rootIds = parentIds.concat(intersection).filter((v) => {\n      return parentIds.indexOf(v) === -1 || intersection.indexOf(v) === -1;\n    });\n    let cloneData = deepCopy(list);\n    return cloneData.filter(father => {\n      let branchArr = cloneData.filter(child => father.id === child.parentid);\n      branchArr.length > 0 ? father.children = branchArr : '';\n      return rootIds.indexOf(father.parentid) !== -1;\n    });\n  };\n\n  getDingtalkDepartmentsList = (departmentID) => {\n    seafileAPI.adminListDingtalkDepartments(departmentID).then((res) => {\n      if (!departmentID) {\n        let departmentsTree = this.getDepartmentsTree(res.data.department);\n        this.setState({\n          isTreeLoading: false,\n          departmentsTree: departmentsTree,\n        });\n      } else {\n        this.setState({\n          importDepartmentChildrenCount: res.data.department.length,\n          importDepartmentMembersCount: this.state.membersTempObj[departmentID].length,\n        });\n      }\n    }).catch((error) => {\n      this.handleError(error);\n      this.setState({\n        isTreeLoading: false,\n        isMembersListLoading: false,\n      });\n      if (error.response && error.response.status === 403) {\n        window.location = siteRoot + 'sys/useradmin/';\n      }\n    });\n  };\n\n  getDingtalkDepartmentMembersList = (department_id) => {\n    this.setState({\n      isMembersListLoading: true,\n    });\n    seafileAPI.adminListDingtalkDepartmentMembers(department_id).then((res) => {\n      let membersTempObj = this.state.membersTempObj;\n      membersTempObj[department_id] = res.data.userlist;\n      let canCheckUserIds = this.getCanCheckUserIds(res.data.userlist);\n      this.setState({\n        membersTempObj: membersTempObj,\n        membersList: res.data.userlist,\n        isMembersListLoading: false,\n        canCheckUserIds: canCheckUserIds,\n      });\n    }).catch((error) => {\n      this.setState({isMembersListLoading: false});\n      this.handleError(error);\n    });\n  };\n  getCanCheckUserIds = (membersList) => {\n    let userIds = [];\n    membersList.forEach((member) => {\n      if (!member.email) userIds.push(member.userid);\n    });\n    return userIds;\n  };\n\n  onChangeDepartment = (department_id) => {\n    this.setState({\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      checkedDepartmentId: department_id,\n    });\n    if (!(department_id in this.state.membersTempObj)) {\n      this.getDingtalkDepartmentMembersList(department_id);\n    } else {\n      let canCheckUserIds = this.getCanCheckUserIds(this.state.membersTempObj[department_id]);\n      this.setState({\n        membersList: this.state.membersTempObj[department_id],\n        canCheckUserIds: canCheckUserIds,\n      });\n    }\n  };\n\n  onUserChecked = (user) => {\n    if (this.state.canCheckUserIds.indexOf(user.userid) !== -1) {\n      let newUsersTempObj = this.state.newUsersTempObj;\n      if (user.userid in newUsersTempObj) {\n        delete newUsersTempObj[user.userid];\n        if (this.state.isCheckedAll) {\n          this.setState({ isCheckedAll: false });\n        }\n      } else {\n        newUsersTempObj[user.userid] = user;\n        if (Object.keys(newUsersTempObj).length === this.state.canCheckUserIds.length) {\n          this.setState({ isCheckedAll: true });\n        }\n      }\n      this.setState({ newUsersTempObj: newUsersTempObj });\n    }\n  };\n\n  onAllUsersChecked = () => {\n    this.setState({\n      isCheckedAll: !this.state.isCheckedAll,\n    }, () => {\n      if (this.state.isCheckedAll) {\n        let newUsersTempObj = {};\n        let newUsersTempList = this.state.membersList.filter(user => {\n          return this.state.canCheckUserIds.indexOf(user.userid) !== -1;\n        });\n        for (let i = 0; i < newUsersTempList.length; i++) {\n          newUsersTempObj[newUsersTempList[i].userid] = newUsersTempList[i];\n        }\n        this.setState({ newUsersTempObj: newUsersTempObj });\n      } else {\n        this.setState({ newUsersTempObj: {} });\n      }\n    });\n  };\n\n  onSubmit = () => {\n    const { newUsersTempObj } = this.state;\n    if (JSON.stringify(newUsersTempObj) === '{}') return;\n    let userList = [];\n    for (let i in newUsersTempObj) {\n      userList.push(newUsersTempObj[i]);\n    }\n    if (userList.length === 0) {\n      toaster.danger('', {duration: 3});\n      return;\n    }\n    seafileAPI.adminAddDingtalkUsersBatch(userList).then((res) => {\n      this.setState({\n        newUsersTempObj: {},\n        isCheckedAll: false,\n      });\n      if (res.data.success) {\n        this.handleSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        const fails= res.data.failed;\n        for (let i = 0; i < fails.length; i++) {\n          toaster.danger(fails[i].name + ' ' + fails[i].error_msg, {duration: 3});\n        }\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n\n  };\n\n  handleSubmitSuccess = (success) => {\n    let { membersTempObj, membersList, canCheckUserIds } = this.state;\n    for (let i = 0; i < success.length; i++) {\n      let { userid, name, email } = success[i];\n      toaster.success(name + ' ', {duration: 1});\n      // refresh all temp\n      if (canCheckUserIds.indexOf(userid) !== -1) {\n        canCheckUserIds.splice(canCheckUserIds.indexOf(userid), 1);\n      }\n      for (let j = 0; j < membersList.length; j++) {\n        if (membersList[j].userid === userid) {\n          membersList[j].email = email;\n          break;\n        }\n      }\n      for (let departmentId in membersTempObj) {\n        for (let k = 0; k < membersTempObj[departmentId].length; k++) {\n          if (membersTempObj[departmentId][k].userid === userid) {\n            membersTempObj[departmentId][k].email = email;\n            break;\n          }\n        }\n      }\n    }\n    this.setState({\n      membersTempObj: membersTempObj,\n      membersList: membersList,\n      canCheckUserIds: canCheckUserIds,\n    });\n  };\n\n  importDepartmentDialogToggle = (importDepartment) => {\n    this.setState({\n      isImportDepartmentDialogShow: !this.state.isImportDepartmentDialogShow,\n      importDepartment: importDepartment,\n    }, () => {\n      if (importDepartment) {\n        this.getDingtalkDepartmentsList(importDepartment.id);\n      }\n    });\n  };\n\n  onImportDepartmentSubmit = () => {\n    let importDepartment = this.state.importDepartment;\n    if (!importDepartment) return;\n    seafileAPI.adminImportDingtalkDepartment(importDepartment.id).then((res) => {\n      this.setState({\n        isMembersListLoading: true,\n        checkedDepartmentId: importDepartment.id,\n        membersTempObj: {},\n        membersList: [],\n        newUsersTempObj: {},\n        isCheckedAll: false,\n        canCheckUserIds: [],\n      });\n      this.getDingtalkDepartmentMembersList(importDepartment.id);\n      this.importDepartmentDialogToggle(null);\n      if (res.data.success) {\n        this.handleImportDepartmentSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        this.handleImportDepartmentSubmitFailed(res.data.failed);\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  handleImportDepartmentSubmitSuccess = (successes) => {\n    for (let i = 0, len = successes.length; i < len; i++) {\n      let success = successes[i];\n      let successMsg = success.type === 'department' ? ' ' + success.department_name + ' ' : success.api_user_name + ' ' ;\n      toaster.success(successMsg, { duration: 3 });\n    }\n  };\n\n  handleImportDepartmentSubmitFailed = (fails) => {\n    for (let i = 0, len = fails.length; i < len; i++) {\n      let fail = fails[i];\n      let failName = fail.type === 'department' ? fail.department_name : fail.api_user_name;\n      toaster.danger(failName + ' ' + fail.msg, { duration: 3} );\n    }\n  };\n\n  handleError = (error) => {\n    const errorMsg = Utils.getErrorMsg(error);\n    toaster.danger(errorMsg);\n  };\n\n  componentDidMount() {\n    this.getDingtalkDepartmentsList(null);\n  }\n\n  render() {\n    const { isImportDepartmentDialogShow, isTreeLoading, importDepartment, importDepartmentChildrenCount, importDepartmentMembersCount } = this.state;\n    let canImportDepartment = !!(isPro && isImportDepartmentDialogShow && !isTreeLoading && importDepartment);\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"operation-item\" onClick={this.onSubmit}>{''}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{''}</h3>\n            </div>\n            <div className=\"cur-view-content d-flex flex-row\">\n              <DingtalkDepartmentsTreePanel\n                departmentsTree={this.state.departmentsTree}\n                isTreeLoading={this.state.isTreeLoading}\n                onChangeDepartment={this.onChangeDepartment}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n              />\n              <div className=\"dir-content-resize\"></div>\n              <DingtalkDepartmentMembersList\n                isMembersListLoading={this.state.isMembersListLoading}\n                membersList={this.state.membersList}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                newUsersTempObj={this.state.newUsersTempObj}\n                onUserChecked={this.onUserChecked}\n                onAllUsersChecked={this.onAllUsersChecked}\n                isCheckedAll={this.state.isCheckedAll}\n                canCheckUserIds={this.state.canCheckUserIds}\n              />\n            </div>\n          </div>\n        </div>\n        {canImportDepartment &&\n          <ImportDingtalkDepartmentDialog\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n            onImportDepartmentSubmit={this.onImportDepartmentSubmit}\n            departmentsCount={importDepartmentChildrenCount}\n            membersCount={importDepartmentMembersCount}\n            departmentName={importDepartment.name}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default DingtalkDepartments;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getItemsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getItemsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, curPerPage, hasNextPage, currentPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No invitations')}</h2>\n        </EmptyTip>\n      );\n\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Inviter')}</th>\n                <th width=\"20%\">{gettext('Accepter')}</th>\n                <th width=\"9%\">{gettext('Type')}</th>\n                <th width=\"14%\">{gettext('Invited at')}</th>\n                <th width=\"14%\">{gettext('Accepted at')}</th>\n                <th width=\"18%\">{gettext('Expired at')}</th>\n                <th width=\"5%\"></th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteItem={this.props.deleteItem}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getItemsByPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  deleteItem: PropTypes.func,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  deleteItem = () => {\n    this.props.deleteItem(this.props.item);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n    }\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.deleteItem();\n        break;\n      default:\n        break;\n    }\n  };\n\n  getInviteTypeText = () => {\n    let translateResult = '';\n    switch (this.props.item.invite_type) {\n      case 'Guest':\n        translateResult = gettext('Guest');\n        break;\n    }\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const {\n      isOpIconShown\n    } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.inviter_email} name={item.inviter_name} />\n          </td>\n          <td>\n            {item.accept_time ?\n              <UserLink email={item.accepter_email} name={item.accepter_name} /> :\n              item.accepter_email\n            }\n          </td>\n          <td>{this.getInviteTypeText()}</td>\n          <td>\n            <span title={moment(item.invite_time).format('llll')}>{moment(item.invite_time).fromNow()}</span>\n          </td>\n          <td>\n            {item.accept_time ?\n              <span title={moment(item.accept_time).format('llll')}>{moment(item.accept_time).fromNow()}</span> :\n              '--'\n            }\n          </td>\n          <td>\n            {item.is_expired ?\n              <span className=\"text-red\">{moment(item.expire_time).format('YYYY-MM-DD HH:mm')}</span> :\n              moment(item.expire_time).format('YYYY-MM-DD HH:mm')\n            }\n          </td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Delete']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n  onFreezedItem: PropTypes.func.isRequired,\n};\n\nclass Invitations extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: [],\n      totalItemCount: 0,\n      hasNextPage: false,\n      currentPage: 1,\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getItemsByPage(this.state.currentPage);\n    });\n  }\n\n  getItemsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInvitations(page, perPage).then(res => {\n      this.setState({\n        loading: false,\n        items: res.data.invitation_list,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n        currentPage: page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteItem = (targetItem) => {\n    const token = targetItem.token;\n    seafileAPI.sysAdminDeleteInvitation(token).then(res => {\n      let items = this.state.items.filter(item => {\n        return item.token != token;\n      });\n      this.setState({items: items});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteItemInBatch = () => {\n    seafileAPI.sysAdminDeleteExpiredInvitations().then(res => {\n      const prevItems = this.state.items;\n      const items = this.state.items.filter(item => !item.is_expired || item.accept_time);\n      if (items.length < prevItems.length) {\n        this.setState({\n          items: items\n        });\n        toaster.success(gettext('Operation succeeded.'));\n      }\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getItemsByPage(1);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.deleteItemInBatch}>{gettext('Delete Expired Invitations')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Invitations')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getItemsByPage={this.getItemsByPage}\n                deleteItem={this.deleteItem}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Invitations;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { SimpleEditor } from '@seafile/seafile-editor';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  title: PropTypes.string,\n  content: PropTypes.string,\n  onCommit: PropTypes.func.isRequired,\n  onCloseEditorDialog: PropTypes.func.isRequired,\n};\n\nclass TermsEditorDialog extends React.Component {\n\n  static defaultProps = {\n    title: gettext('Terms'),\n  };\n\n  onKeyDown = (event) => {\n    event.stopPropagation();\n  };\n\n  toggle = () => {\n    if (this.isContentChanged()) {\n      let currentContent = this.getCurrentContent();\n      this.props.onCommit(currentContent);\n    }\n    this.props.onCloseEditorDialog();\n  };\n\n  isContentChanged = () => {\n    return this.simpleEditor.hasContentChange();\n  };\n\n  getCurrentContent = () => {\n    let markdownContent = this.simpleEditor.getMarkdown();\n    return markdownContent;\n  };\n\n  setSimpleEditorRef = (editor) => {\n    this.simpleEditor = editor;\n  };\n\n  render() {\n    let { content, title } = this.props;\n    return (\n      <Modal\n        isOpen={true}\n        toggle={this.toggle}\n        onKeyDown={this.onKeyDown}\n        wrapClassName={'conditions-editor-dialog-wrapper'}\n        className={'conditions-editor-dialog'}\n        contentClassName={'conditions-editor-dialog-content'}\n        size={'lg'}\n        style={{width: 770}}\n      >\n        <ModalHeader className=\"conditions-editor-dialog-title\" toggle={this.toggle}>{title}</ModalHeader>\n        <ModalBody className={'conditions-editor-dialog-main'}>\n          <SimpleEditor\n            onRef={this.setSimpleEditorRef.bind(this)}\n            value={content || ''}\n          />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nTermsEditorDialog.propTypes = propTypes;\n\nexport default TermsEditorDialog;\n","import React, {Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Alert, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport TermsPreviewWidget from '../../terms-preview-widget';\nimport TermsEditorDialog from '../terms-editor-dialog';\n\nimport '../../../css/terms-conditions-editor.css';\n\nconst propTypes = {\n  isUpdate: PropTypes.bool,\n  oldTermObj: PropTypes.object,\n  addTerm: PropTypes.func,\n  updateTerm: PropTypes.func,\n  toggle: PropTypes.func.isRequired,\n};\n\nclass AddOrUpdateTermDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      versionNumber: '',\n      text: '',\n      isActive: true,\n      errorMsg: '',\n      isConditionsEditorDialogShow: false,\n    };\n  }\n\n  componentDidMount() {\n    let oldTermObj = this.props.oldTermObj;\n    if (oldTermObj) {\n      this.setState({\n        name: oldTermObj.name,\n        versionNumber: oldTermObj.version_number,\n        text: oldTermObj.text,\n        isActive: !(oldTermObj.activate_time === ''),\n      });\n    }\n  }\n\n  handleNameChange = (e) => {\n    this.setState({name: e.target.value.trim()});\n  };\n\n  handleVersionNumberChange = (e) => {\n    this.setState({versionNumber: e.target.value.trim()});\n  };\n\n  handleTextChange = (e) => {\n    this.setState({text: e.target.value.trim()});\n  };\n\n  setActive = () => {\n    this.setState({isActive: true});\n  };\n\n  setInActive = () => {\n    this.setState({isActive: false});\n  };\n\n  addTerm = () => {\n    let { name, versionNumber, text, isActive } = this.state;\n    if (name === '') {\n      this.setState({errMsg: gettext('Name is required.')});\n      return;\n    }\n    if (versionNumber === '') {\n      this.setState({errMsg: gettext('Version Number is required.')});\n      return;\n    }\n    if (isNaN(versionNumber)) {\n      this.setState({errMsg: gettext('Version Number must be a number.')});\n      return;\n    }\n    if (text === '') {\n      this.setState({errMsg: gettext('Text is required.')});\n      return;\n    }\n    if (this.props.isUpdate) {\n      this.props.updateTerm(name, versionNumber, text, isActive);\n    } else {\n      this.props.addTerm(name, versionNumber, text, isActive);\n    }\n  };\n\n  onContentClick = () => {\n    this.setState({isConditionsEditorDialogShow: !this.state.isConditionsEditorDialogShow});\n  };\n\n  onCloseEditorDialog = () => {\n    this.setState({isConditionsEditorDialogShow: false});\n  };\n\n  onUpdateContent = (content) => {\n    this.setState({ text: content });\n  };\n\n  render() {\n    let title = this.props.isUpdate ? gettext('Update Terms and Conditions') : gettext('Add Terms and Conditions');\n    return (\n      <Fragment>\n        <Modal isOpen={true} toggle={this.props.toggle}>\n          <ModalHeader toggle={this.props.toggle}>{title}</ModalHeader>\n          <ModalBody>\n            <FormGroup>\n              <Label for=\"name\">{gettext('Name')}</Label>\n              <Input id=\"name\" value={this.state.name} onChange={this.handleNameChange}/>\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Version Number')}</Label>\n              <Input value={this.state.versionNumber} onChange={this.handleVersionNumberChange}/>\n            </FormGroup>\n            <FormGroup className=\"form-content\">\n              <Label>{gettext('Text')}</Label>\n              <TermsPreviewWidget content={this.state.text} onContentClick={this.onContentClick}/>\n            </FormGroup>\n            <FormGroup tag=\"fieldset\">\n              <Label>{gettext('Activated')}</Label>\n              <FormGroup check>\n                <Label check>\n                  <Input type=\"radio\" checked={this.state.isActive} onChange={this.setActive} />\n                  {' '}{gettext('On')}\n                </Label>\n              </FormGroup>\n              <FormGroup check>\n                <Label check>\n                  <Input type=\"radio\" checked={!this.state.isActive} onChange={this.setInActive} />\n                  {' '}{gettext('Off')}\n                </Label>\n              </FormGroup>\n            </FormGroup>\n            {this.state.errMsg && <Alert color=\"danger\">{this.state.errMsg}</Alert>}\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.addTerm}>{gettext('Submit')}</Button>\n          </ModalFooter>\n        </Modal>\n        {this.state.isConditionsEditorDialogShow && (\n          <TermsEditorDialog\n            content={this.state.text}\n            onCommit={this.onUpdateContent}\n            onCloseEditorDialog={this.onCloseEditorDialog}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nAddOrUpdateTermDialog.propTypes = propTypes;\n\nexport default AddOrUpdateTermDialog;\n","const hrefReg = /\\[.+\\]\\(\\S+\\)|<img src=(\\S+).+\\/>|!\\[\\]\\(\\S+\\)|<\\S+>/g,\n  imageReg1 = /^<img src=\"(\\S+)\" .+\\/>/,\n  imageReg2 = /^!\\[\\]\\((\\S+)\\)/,\n  linkReg1 = /^\\[.+\\]\\(\\S+\\)/,\n  linkReg2 = /^<\\S+>$/;\n\nconst getLinks = (hrefs) => {\n  const hrefObj = {\n    links: [],\n    images: []\n  };\n  hrefs.forEach((href) => {\n    if (href.search(linkReg1) >= 0 || href.search(linkReg2) >= 0) {\n      hrefObj.links.push(href);\n    } else {\n      let imageSrcs = href.match(imageReg1);\n      let imageSrcs1 = href.match(imageReg2);\n      if (imageSrcs) {\n        hrefObj.images.push(imageSrcs[1]);\n      } else if (imageSrcs1) {\n        hrefObj.images.push(imageSrcs1[1]);\n      }\n    }\n  });\n  return hrefObj;\n};\n\n\nconst getPreviewContent = (markdownContent) => {\n  let previewText = '';\n  let newMarkdownContent = markdownContent.replace(hrefReg, '');\n  for (let index = 0; index < newMarkdownContent.length; index++) {\n    if (newMarkdownContent[index] === '#') {\n      continue;\n    } else if (newMarkdownContent[index] === '\\n') {\n      previewText += ' ';\n    } else {\n      previewText += newMarkdownContent[index];\n    }\n    if (previewText.length === 30) {\n      break;\n    }\n  }\n\n  const hrefs = markdownContent.match(hrefReg);\n  if (hrefs) {\n    const { images, links } = getLinks(hrefs);\n    return { previewText, images, links };\n  }\n  return { previewText, images: [], links: [] };\n};\n\n\nexport default getPreviewContent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport TermsPreviewWidget from '../terms-preview-widget';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  title: PropTypes.string,\n  content: PropTypes.string,\n  onClosePreviewDialog: PropTypes.func.isRequired,\n};\n\nclass TermsPreviewDialog extends React.Component {\n\n  static defaultProps = {\n    title: gettext('Terms'),\n  };\n\n\n  toggle = () => {\n    this.props.onClosePreviewDialog();\n  };\n\n  render() {\n    let { title, content } = this.props;\n    return (\n      <Modal\n        isOpen={true}\n        size={'lg'}\n        style={{width: 600}}\n        wrapClassName={'conditions-perview-wrapper'}\n        toggle={this.toggle}\n      >\n        <ModalHeader toggle={this.toggle}>{title}</ModalHeader>\n        <ModalBody>\n          <TermsPreviewWidget content={content} />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nTermsPreviewDialog.propTypes = propTypes;\n\nexport default TermsPreviewDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { processor } from '@seafile/seafile-editor';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport getPreviewContent from '../../../utils/markdown-utils';\nimport AddOrUpdateTermDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-or-update-term-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport TermsPerviewDialog from '../../../components/dialog/terms-preview-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport OpMenu from '../../../components/dialog/op-menu';\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      itemContent: '...',\n      isOpIconShown: false,\n      isUpdateDialogOpen: false,\n      isDeleteDialogOpen: false,\n      isTermsPerviewDialogOpen: false,\n    };\n  }\n\n  componentDidMount() {\n    let mdFile = this.props.item.text;\n    processor.process(mdFile).then((result) => {\n      let innerHtml = String(result);\n      this.setState({itemContent: innerHtml});\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.item.text !== this.props.item.text) {\n      let mdFile = nextProps.item.text;\n      processor.process(mdFile).then((result) => {\n        let innerHtml = String(result);\n        this.setState({itemContent: innerHtml});\n      });\n    }\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  toggleUpdateDialog = (e) => {\n    this.setState({isUpdateDialogOpen: !this.state.isUpdateDialogOpen});\n  };\n\n  toggleDeleteDialog = (e) => {\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  toggleTermsContentDialog = (e) => {\n    this.setState({isTermsPerviewDialogOpen: !this.state.isTermsPerviewDialogOpen});\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Update':\n        this.toggleUpdateDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  deleteTerm = () => {\n    this.props.deleteTerm(this.props.item.id);\n    this.toggleDeleteDialog();\n  };\n\n  updateTerm = (name, versionNumber, text, isActive) => {\n    this.props.updateTerm(this.props.item.id, name, versionNumber, text, isActive);\n    this.toggleUpdateDialog();\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Update':\n        translateResult = gettext('Update');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  };\n\n  render() {\n    let { item } = this.props;\n    let { isDeleteDialogOpen, isUpdateDialogOpen, isTermsPerviewDialogOpen } = this.state;\n    let previewContent = getPreviewContent(item.text);\n    let itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>{item.name}</td>\n          <td>{item.version_number}</td>\n          <td className=\"ellipsis\">\n            <a href='#' onClick={this.toggleTermsContentDialog}>{previewContent.previewText}</a>\n          </td>\n          <td>{moment(item.ctime).fromNow()}</td>\n          <td>{item.activate_time ? moment(item.activate_time).fromNow() : '--'}</td>\n          <td>\n            {this.state.isOpIconShown &&\n              <OpMenu\n                operations={['Update', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Delete T&C')}\n              message={deleteDialogMsg}\n              toggleDialog={this.toggleDeleteDialog}\n              executeOperation={this.deleteTerm}\n              confirmBtnText={gettext('Delete')}\n            />\n          </ModalPortal>\n        }\n        {isUpdateDialogOpen &&\n          <ModalPortal>\n            <AddOrUpdateTermDialog\n              updateTerm={this.updateTerm}\n              toggle={this.toggleUpdateDialog}\n              isUpdate={true}\n              oldTermObj={item}\n            />\n          </ModalPortal>\n        }\n        {isTermsPerviewDialogOpen &&\n          <ModalPortal>\n            <TermsPerviewDialog\n              content={item.text}\n              onClosePreviewDialog={this.toggleTermsContentDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteTerm: PropTypes.func.isRequired,\n  updateTerm: PropTypes.func.isRequired,\n};\n\nexport default Item;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Item from './item';\n\nconst propTypes = {\n  loading: PropTypes.bool.isRequired,\n  items: PropTypes.array.isRequired,\n  errorMsg: PropTypes.string,\n  deleteTerm: PropTypes.func.isRequired,\n  updateTerm: PropTypes.func.isRequired,\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No terms and conditions')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Version')}</th>\n                <th width=\"25%\">{gettext('Text')}</th>\n                <th width=\"20%\">{gettext('Created')}</th>\n                <th width=\"20%\">{gettext('Activated')}</th>\n                <th width=\"5%\">{/* operation */}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    deleteTerm={this.props.deleteTerm}\n                    updateTerm={this.props.updateTerm}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = propTypes;\n\nexport default Content;\n\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport AddOrUpdateTermDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-or-update-term-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './content';\n\nclass TermsAndConditions extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      termList: [],\n      isAddTermDialogOpen: false,\n    };\n  }\n\n  toggleAddTermDialog = () => {\n    this.setState({isAddTermDialogOpen: !this.state.isAddTermDialogOpen});\n  };\n\n  componentDidMount () {\n    seafileAPI.sysAdminListTermsAndConditions().then((res) => {\n      this.setState({\n        termList: res.data.term_and_condition_list,\n        loading: false,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  addTerm = (name, versionNumber, text, isActive) => {\n    seafileAPI.sysAdminAddTermAndCondition(name, versionNumber, text, isActive).then(res => {\n      // After adding the terms, you need to refresh the page.\n      location.reload();\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateTerm = (termID, name, versionNumber, text, isActive) => {\n    seafileAPI.sysAdminUpdateTermAndCondition(termID, name, versionNumber, text, isActive).then(res => {\n      let termList = this.state.termList.map(item => {\n        if (item.id == termID) {\n          return res.data;\n        } else {\n          return item;\n        }\n      });\n      this.setState({termList: termList});\n      toaster.success(gettext('Update succeeded.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteTerm = (termID) => {\n    seafileAPI.sysAdminDeleteTermAndCondition(termID).then(res => {\n      let termList = this.state.termList.filter(item => item.id != termID);\n      this.setState({termList: termList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { termList, isAddTermDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddTermDialog}>{gettext('Add')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Terms and Conditions')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={termList}\n                deleteTerm={this.deleteTerm}\n                updateTerm={this.updateTerm}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddTermDialogOpen &&\n        <ModalPortal>\n          <AddOrUpdateTermDialog\n            isUpdate={false}\n            addTerm={this.addTerm}\n            toggle={this.toggleAddTermDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default TermsAndConditions;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'all', urlPart: 'all', text: gettext('All')},\n      {name: 'unhandled', urlPart: 'unhandled', text: gettext('Unhandled')}\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/virus-files/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './nav';\n\nconst virusFileItemPropTypes = {\n  virusFile: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n};\n\nclass VirusFileItem extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    this.props.handleFile(this.props.virusFile.virus_id, operation);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'ignore':\n        translateResult = gettext('Ignore');\n        break;\n      case 'do-not-ignore':\n        translateResult = gettext('Don\\'t ignore');\n        break;\n    }\n    return translateResult;\n  };\n\n  render() {\n    const virusFile = this.props.virusFile;\n    let fileStatus = '',\n      fileOpList = [];\n    if (virusFile.has_deleted) {\n      fileStatus = <span className=\"text-green\">{gettext('Deleted')}</span>;\n    } else if (virusFile.has_ignored) {\n      fileStatus = <span className=\"text-orange\">{gettext('Ignored')}</span>;\n      fileOpList = ['do-not-ignore'];\n    } else {\n      fileStatus = <span className=\"text-red\">{gettext('Unhandled')}</span>;\n      fileOpList = ['delete', 'ignore'];\n    }\n\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        <td>{virusFile.repo_name}</td>\n        <td>{virusFile.repo_owner}</td>\n        <td>{virusFile.file_path}</td>\n        <td>{fileStatus}</td>\n        <td>\n          {fileOpList.length > 0 && this.state.isOpIconShown &&\n            <OpMenu\n              operations={fileOpList}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n          }\n        </td>\n      </tr>\n    );\n  }\n}\n\nVirusFileItem.propTypes = virusFileItemPropTypes;\n\n\nconst virusFileListPropTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  virusFiles: PropTypes.array.isRequired,\n  currentPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n  curPerPage: PropTypes.number,\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const {\n      loading, errorMsg, virusFiles,\n      curPerPage, hasNextPage, currentPage\n    } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      return (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"27%\">{gettext('Library')}</th>\n                <th width=\"25%\">{gettext('Owner')}</th>\n                <th width=\"28%\">{gettext('Virus File')}</th>\n                <th width=\"15%\">{gettext('Status')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {virusFiles.map((virusFile, index) => {\n                return (\n                  <VirusFileItem\n                    key={index}\n                    virusFile={virusFile}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    handleFile={this.props.handleFile}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n          {virusFiles.length > 0 &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = virusFileListPropTypes;\n\n\nclass AllVirusFiles extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      virusFiles: [],\n      currentPage: 1,\n      perPage: 25,\n      hasNextPage: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const {\n      currentPage, perPage\n    } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getListByPage(this.state.currentPage);\n    });\n  }\n\n  getListByPage = (page) => {\n    const { perPage } = this.state;\n    seafileAPI.listVirusFiles(page, perPage).then((res) => {\n      const data = res.data;\n      this.setState({\n        loading: false,\n        virusFiles: data.virus_file_list,\n        hasNextPage: data.has_next_page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getListByPage(1);\n    });\n  };\n\n  handleFile = (virusID, op) => {\n    let request;\n    switch(op) {\n      case 'delete':\n        request = seafileAPI.deleteVirusFile(virusID);\n        break;\n      case 'ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, true);\n        break;\n      case 'do-not-ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, false);\n        break;\n    }\n    request.then((res) => {\n      this.setState({\n        virusFiles: this.state.virusFiles.map((item) => {\n          if (item.virus_id == virusID) {\n            if (op == 'delete') {\n              item.has_deleted = true;\n            } else {\n              item = res.data.virus_file;\n            }\n          }\n          return item;\n        })\n      });\n    }).catch((error) => {\n      toaster.danger(Utils.getErrorMsg(error));\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"all\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                virusFiles={this.state.virusFiles}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getListByPage}\n                handleFile={this.handleFile}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AllVirusFiles;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './nav';\n\nconst virusFileItemPropTypes = {\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n  virusFile: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  toggleItemSelected: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired\n};\n\nclass VirusFileItem extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    this.props.handleFile(this.props.virusFile.virus_id, operation);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'ignore':\n        translateResult = gettext('Ignore');\n        break;\n      case 'do-not-ignore':\n        translateResult = gettext('Don\\'t ignore');\n        break;\n    }\n    return translateResult;\n  };\n\n  toggleItemSelected = (e) => {\n    this.props.toggleItemSelected(this.props.virusFile, e.target.checked);\n  };\n\n  render() {\n    const virusFile = this.props.virusFile;\n    let fileStatus = '',\n      fileOpList = [];\n    if (virusFile.has_deleted) {\n      fileStatus = <span className=\"text-green\">{gettext('Deleted')}</span>;\n    } else if (virusFile.has_ignored) {\n      fileStatus = <span className=\"text-orange\">{gettext('Ignored')}</span>;\n      fileOpList = ['do-not-ignore'];\n    } else {\n      fileStatus = <span className=\"text-red\">{gettext('Unhandled')}</span>;\n      fileOpList = ['delete', 'ignore'];\n    }\n\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        <td className=\"text-center\">\n          <input type=\"checkbox\" checked={virusFile.isSelected} onChange={this.toggleItemSelected} />\n        </td>\n        <td>{virusFile.repo_name}</td>\n        <td>{virusFile.repo_owner}</td>\n        <td>{virusFile.file_path}</td>\n        <td>{fileStatus}</td>\n        <td>\n          {fileOpList.length > 0 && this.state.isOpIconShown &&\n            <OpMenu\n              operations={fileOpList}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n          }\n        </td>\n      </tr>\n    );\n  }\n}\n\nVirusFileItem.propTypes = virusFileItemPropTypes;\n\n\nconst virusFileListPropTypes = {\n  currentPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n  curPerPage: PropTypes.number,\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n  isAllItemsSelected: PropTypes.bool.isRequired,\n  toggleAllSelected: PropTypes.func.isRequired,\n  toggleItemSelected: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  virusFiles: PropTypes.array.isRequired\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const {\n      loading, errorMsg, virusFiles,\n      curPerPage, hasNextPage, currentPage,\n      isAllItemsSelected\n    } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      return (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"3%\" className=\"text-center\">\n                  <input type=\"checkbox\" checked={isAllItemsSelected} onChange={this.props.toggleAllSelected} />\n                </th>\n                <th width=\"24%\">{gettext('Library')}</th>\n                <th width=\"25%\">{gettext('Owner')}</th>\n                <th width=\"28%\">{gettext('Virus File')}</th>\n                <th width=\"15%\">{gettext('Status')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {virusFiles.map((virusFile, index) => {\n                return (\n                  <VirusFileItem\n                    key={index}\n                    virusFile={virusFile}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    handleFile={this.props.handleFile}\n                    toggleItemSelected={this.props.toggleItemSelected}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n          {virusFiles.length > 0 &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = virusFileListPropTypes;\n\n\nclass UnhandledVirusFiles extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      virusFiles: [],\n\n      isAllItemsSelected: false,\n      selectedItems: [],\n\n      currentPage: 1,\n      perPage: 25,\n      hasNextPage: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const {\n      currentPage, perPage\n    } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getListByPage(this.state.currentPage);\n    });\n  }\n\n  getListByPage = (page) => {\n    const { perPage } = this.state;\n    const hasHandled = false;\n    seafileAPI.listVirusFiles(page, perPage, hasHandled).then((res) => {\n      const data = res.data;\n      const items = data.virus_file_list.map(item => {\n        item.isSelected = false;\n        return item;\n      });\n      this.setState({\n        loading: false,\n        virusFiles: items,\n        hasNextPage: data.has_next_page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getListByPage(1);\n    });\n  };\n\n  handleFile = (virusID, op) => {\n    let request;\n    switch(op) {\n      case 'delete':\n        request = seafileAPI.deleteVirusFile(virusID);\n        break;\n      case 'ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, true);\n        break;\n      case 'do-not-ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, false);\n        break;\n    }\n    request.then((res) => {\n      this.setState({\n        virusFiles: this.state.virusFiles.map((item) => {\n          if (item.virus_id == virusID) {\n            if (op == 'delete') {\n              item.has_deleted = true;\n            } else {\n              item = res.data.virus_file;\n            }\n          }\n          return item;\n        })\n      });\n    }).catch((error) => {\n      toaster.danger(Utils.getErrorMsg(error));\n    });\n  };\n\n  toggleAllSelected = () => {\n    this.setState((prevState) => ({\n      isAllItemsSelected: !prevState.isAllItemsSelected,\n      virusFiles: this.state.virusFiles.map((item) => {\n        item.isSelected = !prevState.isAllItemsSelected;\n        return item;\n      })\n    }));\n  };\n\n  toggleItemSelected = (targetItem, isSelected) => {\n    this.setState({\n      virusFiles: this.state.virusFiles.map((item) => {\n        if (item === targetItem) {\n          item.isSelected = isSelected;\n        }\n        return item;\n      })\n    }, () => {\n      this.setState({\n        isAllItemsSelected: !this.state.virusFiles.some(item => !item.isSelected)\n      });\n    });\n  };\n\n  handleSelectedItems = (op) => {\n    // op: 'delete-virus', 'ignore-virus'\n    const virusIDs = this.state.virusFiles\n      .filter(item => {\n        if (op == 'delete-virus') {\n          return item.isSelected && !item.has_deleted;\n        } else {\n          return item.isSelected && !item.has_ignored;\n        }\n      })\n      .map(item => item.virus_id);\n    seafileAPI.batchProcessVirusFiles(virusIDs, op).then((res) => {\n      let fileList = this.state.virusFiles;\n      res.data.success.forEach(item => {\n        let file = fileList.find(file => file.virus_id == item.virus_id);\n        if (op == 'delete-virus') {\n          file.has_deleted = true;\n        } else {\n          file.has_ignored = true;\n        }\n      });\n      this.setState({\n        virusFiles: fileList\n      });\n\n      res.data.failed.forEach(item => {\n        const file = fileList.find(file => file.virus_id == item.virus_id);\n        let errMsg = op == 'delete-virus' ?\n          gettext('Failed to delete %(virus_file) from library %(library): %(error_msg)') :\n          gettext('Failed to ignore %(virus_file) from library %(library): %(error_msg)');\n        errMsg = errMsg.replace('%(virus_file)', file.file_path)\n          .replace('%(library)', file.repo_name)\n          .replace('%(error_msg)', item.error_msg);\n        toaster.danger(errMsg);\n      });\n    }).catch((error) => {\n      toaster.danger(Utils.getErrorMsg(error));\n    });\n  };\n\n  deleteSelectedItems = () => {\n    const op = 'delete-virus';\n    this.handleSelectedItems(op);\n  };\n\n  ignoreSelectedItems = () => {\n    const op = 'ignore-virus';\n    this.handleSelectedItems(op);\n  };\n\n  render() {\n    return (\n      <Fragment>\n        {this.state.virusFiles.some(item => item.isSelected) ? (\n          <MainPanelTopbar {...this.props}>\n            <Fragment>\n              <Button onClick={this.deleteSelectedItems} className=\"operation-item\">{gettext('Delete')}</Button>\n              <Button onClick={this.ignoreSelectedItems} className=\"operation-item\">{gettext('Ignore')}</Button>\n            </Fragment>\n          </MainPanelTopbar>\n        ) : <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"unhandled\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                virusFiles={this.state.virusFiles}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getListByPage}\n                handleFile={this.handleFile}\n                isAllItemsSelected={this.state.isAllItemsSelected}\n                toggleAllSelected={this.toggleAllSelected}\n                toggleItemSelected={this.toggleItemSelected}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default UnhandledVirusFiles;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass LogsNav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'adminOperationLogs', urlPart:'admin-logs/operation', text: gettext('Admin Operation Logs')},\n      {name: 'adminLoginLogs', urlPart:'admin-logs/login', text: gettext('Admin Login Logs')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nLogsNav.propTypes = propTypes;\n\nexport default LogsNav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot, enableSysAdminViewRepo, isPro } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No Admin operation logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"15%\">{gettext('Operation')}</th>\n                <th width=\"50%\">{gettext('Detail')}</th>\n                <th width=\"15%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  getOperationText = (operationType) => {\n    switch (operationType) {\n      case 'repo_create': return gettext('Create Library');\n      case 'repo_delete': return gettext('Delete Library');\n      case 'repo_transfer': return gettext('Transfer Library');\n      case 'group_create': return gettext('Create Group');\n      case 'group_transfer': return gettext('Transfer Group');\n      case 'group_delete': return gettext('Delete Group');\n      case 'user_add': return gettext('Add User');\n      case 'user_delete': return gettext('Delete User');\n      default: return '';\n    }\n  };\n\n  getOperationDetail = (item) => {\n    let detail = item.detail;\n\n    let ownerPageUrl = '';\n    if (detail.owner) {\n      ownerPageUrl = siteRoot + 'sys/users/' + encodeURIComponent(detail.owner) + '/';\n    }\n    let userPageUrl = '';\n    if (detail.email) {\n      userPageUrl = siteRoot + 'sys/users/' + encodeURIComponent(detail.email) + '/';\n    }\n    let detailText = '';\n    let repoPageUrl = '';\n    let groupPageUrl = '';\n    if (item.operation == 'repo_create' || item.operation == 'repo_delete' || item.operation == 'repo_transfer') {\n      repoPageUrl = siteRoot + 'sys/libraries/' + detail.id + '/' + encodeURIComponent(detail.name) + '/';\n    }\n    if (item.operation == 'group_create' || item.operation == 'group_delete' || item.operation == 'group_transfer') {\n      groupPageUrl = siteRoot + 'sys/groups/' + detail.id + '/libraries/';\n    }\n\n    switch (item.operation) {\n      case 'repo_create':\n        detailText = gettext('Created library {library_name} with {owner} as its owner')\n          .replace('{owner}', '<a href=\"' + ownerPageUrl + '\">' + detail.owner + '</a>');\n        if (isPro && enableSysAdminViewRepo) {\n          detailText = detailText.replace('{library_name}', '<a href=\"' + repoPageUrl + '\">' + detail.name + '</a>');\n        } else {\n          detailText = detailText.replace('{library_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        }\n        return detailText;\n\n      case 'repo_delete':\n        detailText = gettext('Deleted library {library_name}')\n          .replace('{library_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        return detailText;\n\n      case 'repo_transfer':\n        detailText = gettext('Transferred library {library_name} from {user_from} to {user_to}')\n          .replace('{user_from}', '<span class=\"font-weight-bold\">' + detail.from + '</span>')\n          .replace('{user_to}', '<span class=\"font-weight-bold\">' + detail.to+ '</span>');\n        if (isPro && enableSysAdminViewRepo) {\n          detailText = detailText.replace('{library_name}', '<a href=\"' + repoPageUrl + '\">' + detail.name + '</a>');\n        } else {\n          detailText = detailText.replace('{library_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        }\n        return detailText;\n\n      case 'group_create':\n        detailText = gettext('Created group {group_name}')\n          .replace('{group_name}', '<a href=\"' + groupPageUrl + '\">' + detail.name+ '</a>');\n        return detailText;\n\n      case 'group_transfer':\n        detailText = gettext('Transferred group {group_name} from {user_from} to {user_to}')\n          .replace('{user_from}', '<span class=\"font-weight-bold\">' + detail.from + '</span>')\n          .replace('{user_to}', '<span class=\"font-weight-bold\">' + detail.to+ '</span>')\n          .replace('{group_name}', '<a href=\"' + groupPageUrl + '\">' + detail.name+ '</a>');\n        return detailText;\n\n      case 'group_delete':\n        detailText = gettext('Deleted group {group_name}')\n          .replace('{group_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        return detailText;\n\n      case 'user_add':\n        detailText = gettext('Added user {user}')\n          .replace('{user}', '<a href=\"' + userPageUrl + '\">' + detail.email+ '</a>');\n        return detailText;\n\n      case 'user_delete':\n        detailText = gettext('Deleted user {user}')\n          .replace('{user}', '<span class=\"font-weight-bold\">' + detail.email+ '</span>');\n        return detailText;\n\n      default: return '';\n    }\n  };\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{this.getOperationText(item.operation)}</td>\n        <td>\n          <span dangerouslySetInnerHTML={{__html: this.getOperationDetail(item)}}></span>\n        </td>\n        <td>{moment(item.datetime).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass AdminOperationLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListAdminLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.data,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"adminOperationLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AdminOperationLogs;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No Admin login logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"25%\">{gettext('IP')}</th>\n                <th width=\"25%\">{gettext('Status')}</th>\n                <th width=\"25%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{item.login_ip}</td>\n        <td>{item.login_success ? gettext('Success') : gettext('Failed')}</td>\n        <td>{moment(item.login_time).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass AdminLoginLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListAdminLoginLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.data,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"adminLoginLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AdminLoginLogs;\n","import React, { Component, Fragment } from 'react';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport toaster from '../../components/toast';\nimport moment from 'moment';\nimport MainPanelTopbar from './main-panel-topbar';\n\nclass AbuseReports extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      abuseReportList: [],\n    };\n  }\n\n  listAbuseReports = () => {\n    seafileAPI.sysAdminListAbuseReports().then((res) => {\n      this.setState({\n        abuseReportList: res.data.abuse_report_list,\n      });\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  updateAbuseReport = (handled, abuseReportId) => {\n    seafileAPI.sysAdminUpdateAbuseReport(handled, abuseReportId).then((res) => {\n      const abuseReportList = this.state.abuseReportList.map((item, index) => {\n        if (item.id === abuseReportId) {\n          item.handled = res.data.handled;\n        }\n        return item;\n      });\n      this.setState({\n        abuseReportList: abuseReportList,\n      });\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  handleError = (e) => {\n    if (e.response) {\n      toaster.danger(e.response.data.error_msg || e.response.data.detail || gettext('Error'), {duration: 3});\n    } else {\n      toaster.danger(gettext('Please check the network.'), {duration: 3});\n    }\n  };\n\n  componentDidMount() {\n    this.listAbuseReports();\n  }\n\n  render() {\n    const AbuseReportList = this.state.abuseReportList.map((item, index) => {\n      const handled = (!item.handled).toString();\n      const abuseReportId = item.id;\n      const fileUrl = siteRoot + 'lib/' + item.repo_id + '/file' + item.file_path;\n      return (\n        <tr key={index}>\n          <td>{item.repo_name}</td>\n          <td><a href={fileUrl} target=\"_blank\" rel=\"noreferrer\">{item.file_path}</a></td>\n          <td>{item.reporter}</td>\n          <td>{item.abuse_type}</td>\n          <td>{item.description}</td>\n          <td>{moment(item.time).format('YYYY-MM-DD')}</td>\n          <td><p onClick={this.updateAbuseReport.bind(this, handled, abuseReportId)}\n            className=\"op-target ellipsis ellipsis-op-target cursor-pointer\"\n          >{gettext(item.handled.toString())}</p></td>\n        </tr>\n      );\n    });\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Abuse Reports')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <table className={'table-hover'}>\n                <thead>\n                  <tr>\n                    <th width=\"20%\">{gettext('Library')}</th>\n                    <th width=\"20%\">{gettext('File')}</th>\n                    <th width=\"10%\">{gettext('Reporter')}</th>\n                    <th width=\"15%\">{gettext('Abuse Type')}</th>\n                    <th width=\"20%\">{gettext('Description')}</th>\n                    <th width=\"10%\">{gettext('Time')}</th>\n                    <th width=\"5%\">{gettext('Handled')}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {AbuseReportList}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AbuseReports;\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport MediaQuery from 'react-responsive';\nimport { Modal } from 'reactstrap';\nimport { Router } from '@gatsbyjs/reach-router';\nimport { siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nimport SidePanel from './side-panel';\nimport MainPanel from './main-panel';\n\nimport Info from './info';\n\nimport StatisticFile from './statistic/statistic-file';\nimport StatisticStorage from './statistic/statistic-storage';\nimport StatisticTraffic from './statistic/statistic-traffic';\nimport StatisticUsers from './statistic/statistic-users';\nimport StatisticReport from './statistic/statistic-reports';\n\nimport DesktopDevices from './devices/desktop-devices';\nimport MobileDevices from './devices/mobile-devices';\nimport DeviceErrors from './devices/devices-errors';\n\nimport Users from './users/users';\nimport AdminUsers from './users/admin-users';\nimport LDAPImportedUsers from './users/ldap-imported-users';\nimport LDAPUsers from './users/ldap-users';\nimport SearchUsers from './users/search-users';\nimport User from './users/user-info';\nimport UserOwnedRepos from './users/user-repos';\nimport UserSharedRepos from './users/user-shared-repos';\nimport UserLinks from './users/user-links';\nimport UserGroups from './users/user-groups';\n\nimport AllRepos from './repos/all-repos';\nimport SystemRepo from './repos/system-repo';\nimport TrashRepos from './repos/trash-repos';\nimport SearchRepos from './repos/search-repos';\nimport DirView from './repos/dir-view';\n\nimport Groups from './groups/groups';\nimport SearchGroups from './groups/search-groups';\nimport GroupRepos from './groups/group-repos';\nimport GroupMembers from './groups/group-members';\n\nimport Departments from './departments/departments';\nimport DepartmentList from './departments/department-list';\nimport SubDepartments from './departments/sub-departments';\nimport DepartmentMembers from './departments/department-members';\nimport DepartmentLibraries from './departments/department-libraries';\n\nimport ShareLinks from './links/share-links';\nimport UploadLinks from './links/upload-links';\n\nimport Orgs from './orgs/orgs';\nimport SearchOrgs from './orgs/search-orgs';\nimport OrgInfo from './orgs/org-info';\nimport OrgUsers from './orgs/org-users';\nimport OrgGroups from './orgs/org-groups';\nimport OrgRepos from './orgs/org-repos';\n\nimport Institutions from './institutions/institutions';\nimport InstitutionInfo from './institutions/institution-info';\nimport InstitutionUsers from './institutions/institution-users';\nimport InstitutionAdmins from './institutions/institution-admins';\n\nimport LoginLogs from './logs-page/login-logs';\nimport FileAccessLogs from './logs-page/file-access-logs';\nimport FileUpdateLogs from './logs-page/file-update-logs';\nimport SharePermissionLogs from './logs-page/share-permission-logs';\n\nimport WebSettings from './web-settings/web-settings';\nimport Notifications from './notifications/notifications';\nimport FileScanRecords from './file-scan-records';\nimport WorkWeixinDepartments from './work-weixin-departments';\nimport DingtalkDepartments from './dingtalk-departments';\nimport Invitations from './invitations/invitations';\nimport TermsAndConditions from './terms-and-conditions/terms-and-conditions';\n\nimport AllVirusFiles from './virus-scan/all-virus-files';\nimport UnhandledVirusFiles from './virus-scan/unhandled-virus-files';\n\nimport AdminOperationLogs from './admin-logs/operation-logs';\nimport AdminLoginLogs from './admin-logs/login-logs';\n\nimport AbuseReports from './abuse-reports';\n\nimport '../../css/layout.css';\nimport '../../css/toolbar.css';\n\nclass SysAdmin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSidePanelClosed: false,\n      currentTab: 'file-scan'\n    };\n  }\n\n  componentDidMount() {\n    let href = window.location.href.split('/');\n    let currentTab = href[href.length - 2];\n\n    const pageList = [\n      {\n        tab: 'devices',\n        urlPartList: ['desktop-devices', 'mobile-devices', 'device-errors']\n      },\n      {\n        tab: 'libraries',\n        urlPartList: ['all-libraries', 'search-libraries', 'system-library', 'trash-libraries', 'libraries/']\n      },\n      {\n        tab: 'statistic',\n        urlPartList: ['statistics/file', 'statistics/storage', 'statistics/user', 'statistics/traffic', 'statistics/reports']\n      },\n      {\n        tab: 'users',\n        urlPartList: ['users/', 'search-users/']\n      },\n      {\n        tab: 'groups',\n        urlPartList: ['groups/', 'search-groups/']\n      },\n      {\n        tab: 'organizations',\n        urlPartList: ['organizations/', 'search-organizations/']\n      },\n      {\n        tab: 'links',\n        urlPartList: ['share-links/', 'upload-links/']\n      },\n      {\n        tab: 'institutions',\n        urlPartList: ['institutions/']\n      },\n      {\n        tab: 'termsandconditions',\n        urlPartList: ['terms-and-conditions/']\n      },\n      {\n        tab: 'departments',\n        urlPartList: ['departments/']\n      },\n      {\n        tab: 'logs',\n        urlPartList: ['logs/']\n      },\n      {\n        tab: 'virus-files',\n        urlPartList: ['virus-files/']\n      },\n      {\n        tab: 'adminLogs',\n        urlPartList: ['admin-logs/']\n      }\n    ];\n    const tmpTab = this.getCurrentTabForPageList(pageList);\n    currentTab = tmpTab ? tmpTab : currentTab;\n\n    this.setState({currentTab: currentTab});\n  }\n\n  componentWillMount() {\n    if (!Utils.isDesktop()) {\n      this.setState({\n        isSidePanelClosed: true\n      });\n    }\n  }\n\n  getCurrentTabForPageList = (pageList) => {\n    let urlPartList, tab;\n    const urlBase = `${siteRoot}sys/`;\n    for (let i = 0, len = pageList.length; i < len; i++) {\n      urlPartList = pageList[i].urlPartList;\n      tab = pageList[i].tab;\n      for (let j = 0, jlen = urlPartList.length; j < jlen; j++) {\n        if (location.href.indexOf(`${urlBase}${urlPartList[j]}`) != -1) {\n          return tab;\n        }\n      }\n    }\n  };\n\n  onCloseSidePanel = () => {\n    this.setState({isSidePanelClosed: !this.state.isSidePanelClosed});\n  };\n\n  tabItemClick = (param) => {\n    this.setState({currentTab: param});\n    if (!Utils.isDesktop() && !this.state.isSidePanelClosed) {\n      this.setState({ isSidePanelClosed: true });\n    }\n  };\n\n  toggleSidePanel = () => {\n    this.setState({\n      isSidePanelClosed: !this.state.isSidePanelClosed\n    });\n  };\n\n  render() {\n    const { currentTab, isSidePanelClosed } = this.state;\n    const commonProps = {\n      toggleSidePanel: this.toggleSidePanel\n    };\n\n    return (\n      <div id=\"main\">\n        <SidePanel\n          isSidePanelClosed={isSidePanelClosed}\n          onCloseSidePanel={this.onCloseSidePanel}\n          currentTab={currentTab}\n          tabItemClick={this.tabItemClick}\n        />\n        <MainPanel>\n          <Router className=\"reach-router\">\n            <Info path={siteRoot + 'sys/info'} {...commonProps} />\n            <StatisticFile path={siteRoot + 'sys/statistics/file'} {...commonProps} />\n            <StatisticStorage path={siteRoot + 'sys/statistics/storage'} {...commonProps} />\n            <StatisticUsers path={siteRoot + 'sys/statistics/user'} {...commonProps} />\n            <StatisticTraffic path={siteRoot + 'sys/statistics/traffic'} {...commonProps} />\n            <StatisticReport path={siteRoot + 'sys/statistics/reports'} {...commonProps} />\n            <DesktopDevices path={siteRoot + 'sys/desktop-devices'} {...commonProps} />\n            <MobileDevices path={siteRoot + 'sys/mobile-devices'} {...commonProps} />\n            <DeviceErrors path={siteRoot + 'sys/device-errors'} {...commonProps} />\n            <AllRepos path={siteRoot + 'sys/all-libraries'} {...commonProps} />\n            <SystemRepo path={siteRoot + 'sys/system-library'} {...commonProps} />\n            <TrashRepos path={siteRoot + 'sys/trash-libraries'} {...commonProps} />\n            <SearchRepos path={siteRoot + 'sys/search-libraries'} {...commonProps} />\n            <DirView path={siteRoot + 'sys/libraries/:repoID/*'} {...commonProps} />\n            <WebSettings path={siteRoot + 'sys/web-settings'} {...commonProps} />\n            <Notifications path={siteRoot + 'sys/notifications'} {...commonProps} />\n            <Groups path={siteRoot + 'sys/groups'} {...commonProps} />\n            <SearchGroups path={siteRoot + 'sys/search-groups'} {...commonProps} />\n            <GroupRepos path={siteRoot + 'sys/groups/:groupID/libraries'} {...commonProps} />\n            <GroupMembers path={siteRoot + 'sys/groups/:groupID/members'} {...commonProps} />\n            <Departments path={siteRoot + 'sys/departments'}>\n              <DepartmentList path='/' {...commonProps} />\n              <SubDepartments path='/:groupID' {...commonProps} />\n              <DepartmentMembers path='/:groupID/members' {...commonProps} />\n              <DepartmentLibraries path='/:groupID/libraries' {...commonProps} />\n            </Departments>\n            <ShareLinks path={siteRoot + 'sys/share-links'} {...commonProps} />\n            <UploadLinks path={siteRoot + 'sys/upload-links'} {...commonProps} />\n            <Orgs path={siteRoot + 'sys/organizations'} {...commonProps} />\n            <SearchOrgs path={siteRoot + 'sys/search-organizations'} {...commonProps} />\n            <OrgInfo path={siteRoot + 'sys/organizations/:orgID/info'} {...commonProps} />\n            <OrgUsers path={siteRoot + 'sys/organizations/:orgID/users'} {...commonProps} />\n            <OrgGroups path={siteRoot + 'sys/organizations/:orgID/groups'} {...commonProps} />\n            <OrgRepos path={siteRoot + 'sys/organizations/:orgID/libraries'} {...commonProps} />\n            <Institutions path={siteRoot + 'sys/institutions'} {...commonProps} />\n            <InstitutionInfo path={siteRoot + 'sys/institutions/:institutionID/info'} {...commonProps} />\n            <InstitutionUsers path={siteRoot + 'sys/institutions/:institutionID/members'} {...commonProps} />\n            <InstitutionAdmins path={siteRoot + 'sys/institutions/:institutionID/admins'} {...commonProps} />\n            <LoginLogs path={siteRoot + 'sys/logs/login'} {...commonProps} />\n            <FileAccessLogs path={siteRoot + 'sys/logs/file-access'} {...commonProps} />\n            <FileUpdateLogs path={siteRoot + 'sys/logs/file-update'} {...commonProps} />\n            <SharePermissionLogs path={siteRoot + 'sys/logs/share-permission'} {...commonProps} />\n            <AdminOperationLogs path={siteRoot + 'sys/admin-logs/operation'} {...commonProps} />\n            <AdminLoginLogs path={siteRoot + 'sys/admin-logs/login'} {...commonProps} />\n\n            <Users path={siteRoot + 'sys/users'} {...commonProps} />\n            <AdminUsers path={siteRoot + 'sys/users/admins'} {...commonProps} />\n            <LDAPImportedUsers path={siteRoot + 'sys/users/ldap-imported'} {...commonProps} />\n            <LDAPUsers path={siteRoot + 'sys/users/ldap'} {...commonProps} />\n            <SearchUsers path={siteRoot + 'sys/search-users'} {...commonProps} />\n            <User path={siteRoot + 'sys/users/:email'} {...commonProps} />\n            <UserOwnedRepos path={siteRoot + 'sys/users/:email/owned-libraries'} {...commonProps} />\n            <UserSharedRepos path={siteRoot + 'sys/users/:email/shared-libraries'} {...commonProps} />\n            <UserLinks path={siteRoot + 'sys/users/:email/shared-links'} {...commonProps} />\n            <UserGroups path={siteRoot + 'sys/users/:email/groups'} {...commonProps} />\n\n            <Invitations path={siteRoot + 'sys/invitations'} {...commonProps} />\n            <TermsAndConditions path={siteRoot + 'sys/terms-and-conditions/'} {...commonProps} />\n\n            <AllVirusFiles path={siteRoot + 'sys/virus-files/all'} {...commonProps} />\n            <UnhandledVirusFiles path={siteRoot + 'sys/virus-files/unhandled'} {...commonProps} />\n\n            <FileScanRecords path={siteRoot + 'sys/file-scan-records'} {...commonProps} />\n            <WorkWeixinDepartments path={siteRoot + 'sys/work-weixin'} {...commonProps} />\n            <DingtalkDepartments path={siteRoot + 'sys/dingtalk'} {...commonProps} />\n            <AbuseReports path={siteRoot + 'sys/abuse-reports'} {...commonProps} />\n          </Router>\n        </MainPanel>\n        <MediaQuery query=\"(max-width: 767.8px)\">\n          <Modal zIndex=\"1030\" isOpen={!isSidePanelClosed} toggle={this.toggleSidePanel} contentClassName=\"d-none\"></Modal>\n        </MediaQuery>\n      </div>\n    );\n  }\n}\n\nReactDom.render(<SysAdmin />, document.getElementById('wrapper'));\n","/*!\n * Chart.js v2.9.4\n * https://www.chartjs.org\n * (c) 2020 Chart.js Contributors\n * Released under the MIT License\n */\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(function() { try { return require('moment'); } catch(e) { } }()) :\ntypeof define === 'function' && define.amd ? define(['require'], function(require) { return factory(function() { try { return require('moment'); } catch(e) { } }()); }) :\n(global = global || self, global.Chart = factory(global.moment));\n}(this, (function (moment) { 'use strict';\n\nmoment = moment && moment.hasOwnProperty('default') ? moment['default'] : moment;\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nfunction getCjsExportFromNamespace (n) {\n\treturn n && n['default'] || n;\n}\n\nvar colorName = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\n\nvar conversions = createCommonjsModule(function (module) {\n/* MIT license */\n\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\nfor (var key in colorName) {\n\tif (colorName.hasOwnProperty(key)) {\n\t\treverseKeywords[colorName[key]] = key;\n\t}\n}\n\nvar convert = module.exports = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\n// hide .channels and .labels properties\nfor (var model in convert) {\n\tif (convert.hasOwnProperty(model)) {\n\t\tif (!('channels' in convert[model])) {\n\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t}\n\n\t\tif (!('labels' in convert[model])) {\n\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t}\n\n\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\t\tvar labels = convert[model].labels;\n\t\tdelete convert[model].channels;\n\t\tdelete convert[model].labels;\n\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t}\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar l;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tvar rdif;\n\tvar gdif;\n\tvar bdif;\n\tvar h;\n\tvar s;\n\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar v = Math.max(r, g, b);\n\tvar diff = v - Math.min(r, g, b);\n\tvar diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = s = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar h = convert.rgb.hsl(rgb)[0];\n\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar c;\n\tvar m;\n\tvar y;\n\tvar k;\n\n\tk = Math.min(1 - r, 1 - g, 1 - b);\n\tc = (1 - r - k) / (1 - k) || 0;\n\tm = (1 - g - k) / (1 - k) || 0;\n\ty = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\n/**\n * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n * */\nfunction comparativeDistance(x, y) {\n\treturn (\n\t\tMath.pow(x[0] - y[0], 2) +\n\t\tMath.pow(x[1] - y[1], 2) +\n\t\tMath.pow(x[2] - y[2], 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tvar reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tvar currentClosestDistance = Infinity;\n\tvar currentClosestKeyword;\n\n\tfor (var keyword in colorName) {\n\t\tif (colorName.hasOwnProperty(keyword)) {\n\t\t\tvar value = colorName[keyword];\n\n\t\t\t// Compute comparative distance\n\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t// Check if its less, if so set as closest\n\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn colorName[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tvar xyz = convert.rgb.xyz(rgb);\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tvar h = hsl[0] / 360;\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar t1;\n\tvar t2;\n\tvar t3;\n\tvar rgb;\n\tvar val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tt1 = 2 * l - t2;\n\n\trgb = [0, 0, 0];\n\tfor (var i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tvar h = hsl[0];\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar smin = s;\n\tvar lmin = Math.max(l, 0.01);\n\tvar sv;\n\tvar v;\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tv = (l + s) / 2;\n\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tvar h = hsv[0] / 60;\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar hi = Math.floor(h) % 6;\n\n\tvar f = h - Math.floor(h);\n\tvar p = 255 * v * (1 - s);\n\tvar q = 255 * v * (1 - (s * f));\n\tvar t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tvar h = hsv[0];\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar vmin = Math.max(v, 0.01);\n\tvar lmin;\n\tvar sl;\n\tvar l;\n\n\tl = (2 - s) * v;\n\tlmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tvar h = hwb[0] / 360;\n\tvar wh = hwb[1] / 100;\n\tvar bl = hwb[2] / 100;\n\tvar ratio = wh + bl;\n\tvar i;\n\tvar v;\n\tvar f;\n\tvar n;\n\n\t// wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\ti = Math.floor(6 * h);\n\tv = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tn = wh + f * (v - wh); // linear interpolation\n\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v; g = n; b = wh; break;\n\t\tcase 1: r = n; g = v; b = wh; break;\n\t\tcase 2: r = wh; g = v; b = n; break;\n\t\tcase 3: r = wh; g = n; b = v; break;\n\t\tcase 4: r = n; g = wh; b = v; break;\n\t\tcase 5: r = v; g = wh; b = n; break;\n\t}\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tvar c = cmyk[0] / 100;\n\tvar m = cmyk[1] / 100;\n\tvar y = cmyk[2] / 100;\n\tvar k = cmyk[3] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = 1 - Math.min(1, c * (1 - k) + k);\n\tg = 1 - Math.min(1, m * (1 - k) + k);\n\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tvar x = xyz[0] / 100;\n\tvar y = xyz[1] / 100;\n\tvar z = xyz[2] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar x;\n\tvar y;\n\tvar z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tvar y2 = Math.pow(y, 3);\n\tvar x2 = Math.pow(x, 3);\n\tvar z2 = Math.pow(z, 3);\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar hr;\n\tvar h;\n\tvar c;\n\n\thr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tc = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tvar l = lch[0];\n\tvar c = lch[1];\n\tvar h = lch[2];\n\tvar a;\n\tvar b;\n\tvar hr;\n\n\thr = h / 360 * 2 * Math.PI;\n\ta = c * Math.cos(hr);\n\tb = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tvar ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\n\t// we use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tvar ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tvar color = args % 10;\n\n\t// handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tvar mult = (~~(args > 50) + 1) * 0.5;\n\tvar r = ((color & 1) * mult) * 255;\n\tvar g = (((color >> 1) & 1) * mult) * 255;\n\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// handle greyscale\n\tif (args >= 232) {\n\t\tvar c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tvar rem;\n\tvar r = Math.floor(args / 36) / 5 * 255;\n\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tvar b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tvar colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tvar integer = parseInt(colorString, 16);\n\tvar r = (integer >> 16) & 0xFF;\n\tvar g = (integer >> 8) & 0xFF;\n\tvar b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar max = Math.max(Math.max(r, g), b);\n\tvar min = Math.min(Math.min(r, g), b);\n\tvar chroma = (max - min);\n\tvar grayscale;\n\tvar hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma + 4;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar c = 1;\n\tvar f = 0;\n\n\tif (l < 0.5) {\n\t\tc = 2.0 * s * l;\n\t} else {\n\t\tc = 2.0 * s * (1.0 - l);\n\t}\n\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\n\tvar c = s * v;\n\tvar f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tvar h = hcg[0] / 360;\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tvar pure = [0, 0, 0];\n\tvar hi = (h % 1) * 6;\n\tvar v = hi % 1;\n\tvar w = 1 - v;\n\tvar mg = 0;\n\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar v = c + g * (1.0 - c);\n\tvar f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar l = g * (1.0 - c) + 0.5 * c;\n\tvar s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\tvar v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tvar w = hwb[1] / 100;\n\tvar b = hwb[2] / 100;\n\tvar v = 1 - b;\n\tvar c = v - w;\n\tvar g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = convert.gray.hsv = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tvar integer = (val << 16) + (val << 8) + val;\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n});\nvar conversions_1 = conversions.rgb;\nvar conversions_2 = conversions.hsl;\nvar conversions_3 = conversions.hsv;\nvar conversions_4 = conversions.hwb;\nvar conversions_5 = conversions.cmyk;\nvar conversions_6 = conversions.xyz;\nvar conversions_7 = conversions.lab;\nvar conversions_8 = conversions.lch;\nvar conversions_9 = conversions.hex;\nvar conversions_10 = conversions.keyword;\nvar conversions_11 = conversions.ansi16;\nvar conversions_12 = conversions.ansi256;\nvar conversions_13 = conversions.hcg;\nvar conversions_14 = conversions.apple;\nvar conversions_15 = conversions.gray;\n\n/*\n\tthis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tvar graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tvar models = Object.keys(conversions);\n\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tvar graph = buildGraph();\n\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tvar current = queue.pop();\n\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tvar adjacent = adjacents[i];\n\t\t\tvar node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tvar path = [graph[toModel].parent, toModel];\n\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\tvar cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nvar route = function (fromModel) {\n\tvar graph = deriveBFS(fromModel);\n\tvar conversion = {};\n\n\tvar models = Object.keys(graph);\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tvar toModel = models[i];\n\t\tvar node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// no possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\nvar convert = {};\n\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\tvar result = fn(args);\n\n\t\t// we're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tvar routes = route(fromModel);\n\tvar routeModels = Object.keys(routes);\n\n\trouteModels.forEach(function (toModel) {\n\t\tvar fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nvar colorConvert = convert;\n\nvar colorName$1 = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\n\n/* MIT license */\n\n\nvar colorString = {\n   getRgba: getRgba,\n   getHsla: getHsla,\n   getRgb: getRgb,\n   getHsl: getHsl,\n   getHwb: getHwb,\n   getAlpha: getAlpha,\n\n   hexString: hexString,\n   rgbString: rgbString,\n   rgbaString: rgbaString,\n   percentString: percentString,\n   percentaString: percentaString,\n   hslString: hslString,\n   hslaString: hslaString,\n   hwbString: hwbString,\n   keyword: keyword\n};\n\nfunction getRgba(string) {\n   if (!string) {\n      return;\n   }\n   var abbr =  /^#([a-fA-F0-9]{3,4})$/i,\n       hex =  /^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,\n       rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i,\n       per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i,\n       keyword = /(\\w+)/;\n\n   var rgb = [0, 0, 0],\n       a = 1,\n       match = string.match(abbr),\n       hexAlpha = \"\";\n   if (match) {\n      match = match[1];\n      hexAlpha = match[3];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i] + match[i], 16);\n      }\n      if (hexAlpha) {\n         a = Math.round((parseInt(hexAlpha + hexAlpha, 16) / 255) * 100) / 100;\n      }\n   }\n   else if (match = string.match(hex)) {\n      hexAlpha = match[2];\n      match = match[1];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match.slice(i * 2, i * 2 + 2), 16);\n      }\n      if (hexAlpha) {\n         a = Math.round((parseInt(hexAlpha, 16) / 255) * 100) / 100;\n      }\n   }\n   else if (match = string.match(rgba)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i + 1]);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(per)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(keyword)) {\n      if (match[1] == \"transparent\") {\n         return [0, 0, 0, 0];\n      }\n      rgb = colorName$1[match[1]];\n      if (!rgb) {\n         return;\n      }\n   }\n\n   for (var i = 0; i < rgb.length; i++) {\n      rgb[i] = scale(rgb[i], 0, 255);\n   }\n   if (!a && a != 0) {\n      a = 1;\n   }\n   else {\n      a = scale(a, 0, 1);\n   }\n   rgb[3] = a;\n   return rgb;\n}\n\nfunction getHsla(string) {\n   if (!string) {\n      return;\n   }\n   var hsl = /^hsla?\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hsl);\n   if (match) {\n      var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          s = scale(parseFloat(match[2]), 0, 100),\n          l = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, s, l, a];\n   }\n}\n\nfunction getHwb(string) {\n   if (!string) {\n      return;\n   }\n   var hwb = /^hwb\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hwb);\n   if (match) {\n    var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          w = scale(parseFloat(match[2]), 0, 100),\n          b = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, w, b, a];\n   }\n}\n\nfunction getRgb(string) {\n   var rgba = getRgba(string);\n   return rgba && rgba.slice(0, 3);\n}\n\nfunction getHsl(string) {\n  var hsla = getHsla(string);\n  return hsla && hsla.slice(0, 3);\n}\n\nfunction getAlpha(string) {\n   var vals = getRgba(string);\n   if (vals) {\n      return vals[3];\n   }\n   else if (vals = getHsla(string)) {\n      return vals[3];\n   }\n   else if (vals = getHwb(string)) {\n      return vals[3];\n   }\n}\n\n// generators\nfunction hexString(rgba, a) {\n   var a = (a !== undefined && rgba.length === 3) ? a : rgba[3];\n   return \"#\" + hexDouble(rgba[0]) \n              + hexDouble(rgba[1])\n              + hexDouble(rgba[2])\n              + (\n                 (a >= 0 && a < 1)\n                 ? hexDouble(Math.round(a * 255))\n                 : \"\"\n              );\n}\n\nfunction rgbString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return rgbaString(rgba, alpha);\n   }\n   return \"rgb(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2] + \")\";\n}\n\nfunction rgbaString(rgba, alpha) {\n   if (alpha === undefined) {\n      alpha = (rgba[3] !== undefined ? rgba[3] : 1);\n   }\n   return \"rgba(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2]\n           + \", \" + alpha + \")\";\n}\n\nfunction percentString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return percentaString(rgba, alpha);\n   }\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n\n   return \"rgb(\" + r + \"%, \" + g + \"%, \" + b + \"%)\";\n}\n\nfunction percentaString(rgba, alpha) {\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n   return \"rgba(\" + r + \"%, \" + g + \"%, \" + b + \"%, \" + (alpha || rgba[3] || 1) + \")\";\n}\n\nfunction hslString(hsla, alpha) {\n   if (alpha < 1 || (hsla[3] && hsla[3] < 1)) {\n      return hslaString(hsla, alpha);\n   }\n   return \"hsl(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%)\";\n}\n\nfunction hslaString(hsla, alpha) {\n   if (alpha === undefined) {\n      alpha = (hsla[3] !== undefined ? hsla[3] : 1);\n   }\n   return \"hsla(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%, \"\n           + alpha + \")\";\n}\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\nfunction hwbString(hwb, alpha) {\n   if (alpha === undefined) {\n      alpha = (hwb[3] !== undefined ? hwb[3] : 1);\n   }\n   return \"hwb(\" + hwb[0] + \", \" + hwb[1] + \"%, \" + hwb[2] + \"%\"\n           + (alpha !== undefined && alpha !== 1 ? \", \" + alpha : \"\") + \")\";\n}\n\nfunction keyword(rgb) {\n  return reverseNames[rgb.slice(0, 3)];\n}\n\n// helpers\nfunction scale(num, min, max) {\n   return Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n  var str = num.toString(16).toUpperCase();\n  return (str.length < 2) ? \"0\" + str : str;\n}\n\n\n//create a list of reverse color names\nvar reverseNames = {};\nfor (var name in colorName$1) {\n   reverseNames[colorName$1[name]] = name;\n}\n\n/* MIT license */\n\n\n\nvar Color = function (obj) {\n\tif (obj instanceof Color) {\n\t\treturn obj;\n\t}\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj);\n\t}\n\n\tthis.valid = false;\n\tthis.values = {\n\t\trgb: [0, 0, 0],\n\t\thsl: [0, 0, 0],\n\t\thsv: [0, 0, 0],\n\t\thwb: [0, 0, 0],\n\t\tcmyk: [0, 0, 0, 0],\n\t\talpha: 1\n\t};\n\n\t// parse Color() argument\n\tvar vals;\n\tif (typeof obj === 'string') {\n\t\tvals = colorString.getRgba(obj);\n\t\tif (vals) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals = colorString.getHsla(obj)) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals = colorString.getHwb(obj)) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t}\n\t} else if (typeof obj === 'object') {\n\t\tvals = obj;\n\t\tif (vals.r !== undefined || vals.red !== undefined) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals.l !== undefined || vals.lightness !== undefined) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals.v !== undefined || vals.value !== undefined) {\n\t\t\tthis.setValues('hsv', vals);\n\t\t} else if (vals.w !== undefined || vals.whiteness !== undefined) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t} else if (vals.c !== undefined || vals.cyan !== undefined) {\n\t\t\tthis.setValues('cmyk', vals);\n\t\t}\n\t}\n};\n\nColor.prototype = {\n\tisValid: function () {\n\t\treturn this.valid;\n\t},\n\trgb: function () {\n\t\treturn this.setSpace('rgb', arguments);\n\t},\n\thsl: function () {\n\t\treturn this.setSpace('hsl', arguments);\n\t},\n\thsv: function () {\n\t\treturn this.setSpace('hsv', arguments);\n\t},\n\thwb: function () {\n\t\treturn this.setSpace('hwb', arguments);\n\t},\n\tcmyk: function () {\n\t\treturn this.setSpace('cmyk', arguments);\n\t},\n\n\trgbArray: function () {\n\t\treturn this.values.rgb;\n\t},\n\thslArray: function () {\n\t\treturn this.values.hsl;\n\t},\n\thsvArray: function () {\n\t\treturn this.values.hsv;\n\t},\n\thwbArray: function () {\n\t\tvar values = this.values;\n\t\tif (values.alpha !== 1) {\n\t\t\treturn values.hwb.concat([values.alpha]);\n\t\t}\n\t\treturn values.hwb;\n\t},\n\tcmykArray: function () {\n\t\treturn this.values.cmyk;\n\t},\n\trgbaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.rgb.concat([values.alpha]);\n\t},\n\thslaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.hsl.concat([values.alpha]);\n\t},\n\talpha: function (val) {\n\t\tif (val === undefined) {\n\t\t\treturn this.values.alpha;\n\t\t}\n\t\tthis.setValues('alpha', val);\n\t\treturn this;\n\t},\n\n\tred: function (val) {\n\t\treturn this.setChannel('rgb', 0, val);\n\t},\n\tgreen: function (val) {\n\t\treturn this.setChannel('rgb', 1, val);\n\t},\n\tblue: function (val) {\n\t\treturn this.setChannel('rgb', 2, val);\n\t},\n\thue: function (val) {\n\t\tif (val) {\n\t\t\tval %= 360;\n\t\t\tval = val < 0 ? 360 + val : val;\n\t\t}\n\t\treturn this.setChannel('hsl', 0, val);\n\t},\n\tsaturation: function (val) {\n\t\treturn this.setChannel('hsl', 1, val);\n\t},\n\tlightness: function (val) {\n\t\treturn this.setChannel('hsl', 2, val);\n\t},\n\tsaturationv: function (val) {\n\t\treturn this.setChannel('hsv', 1, val);\n\t},\n\twhiteness: function (val) {\n\t\treturn this.setChannel('hwb', 1, val);\n\t},\n\tblackness: function (val) {\n\t\treturn this.setChannel('hwb', 2, val);\n\t},\n\tvalue: function (val) {\n\t\treturn this.setChannel('hsv', 2, val);\n\t},\n\tcyan: function (val) {\n\t\treturn this.setChannel('cmyk', 0, val);\n\t},\n\tmagenta: function (val) {\n\t\treturn this.setChannel('cmyk', 1, val);\n\t},\n\tyellow: function (val) {\n\t\treturn this.setChannel('cmyk', 2, val);\n\t},\n\tblack: function (val) {\n\t\treturn this.setChannel('cmyk', 3, val);\n\t},\n\n\thexString: function () {\n\t\treturn colorString.hexString(this.values.rgb);\n\t},\n\trgbString: function () {\n\t\treturn colorString.rgbString(this.values.rgb, this.values.alpha);\n\t},\n\trgbaString: function () {\n\t\treturn colorString.rgbaString(this.values.rgb, this.values.alpha);\n\t},\n\tpercentString: function () {\n\t\treturn colorString.percentString(this.values.rgb, this.values.alpha);\n\t},\n\thslString: function () {\n\t\treturn colorString.hslString(this.values.hsl, this.values.alpha);\n\t},\n\thslaString: function () {\n\t\treturn colorString.hslaString(this.values.hsl, this.values.alpha);\n\t},\n\thwbString: function () {\n\t\treturn colorString.hwbString(this.values.hwb, this.values.alpha);\n\t},\n\tkeyword: function () {\n\t\treturn colorString.keyword(this.values.rgb, this.values.alpha);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.values.rgb;\n\t\treturn (rgb[0] << 16) | (rgb[1] << 8) | rgb[2];\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.values.rgb;\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tdark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.values.rgb;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tlight: function () {\n\t\treturn !this.dark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = [];\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb[i] = 255 - this.values.rgb[i];\n\t\t}\n\t\tthis.setValues('rgb', rgb);\n\t\treturn this;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] += hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] -= hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] += hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] -= hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[1] += hwb[1] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[2] += hwb[2] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tgreyscale: function () {\n\t\tvar rgb = this.values.rgb;\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\tthis.setValues('rgb', [val, val, val]);\n\t\treturn this;\n\t},\n\n\tclearer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha - (alpha * ratio));\n\t\treturn this;\n\t},\n\n\topaquer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha + (alpha * ratio));\n\t\treturn this;\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.values.hsl;\n\t\tvar hue = (hsl[0] + degrees) % 360;\n\t\thsl[0] = hue < 0 ? 360 + hue : hue;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Ported from sass implementation in C\n\t * https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t */\n\tmix: function (mixinColor, weight) {\n\t\tvar color1 = this;\n\t\tvar color2 = mixinColor;\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn this\n\t\t\t.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue()\n\t\t\t)\n\t\t\t.alpha(color1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n\n\ttoJSON: function () {\n\t\treturn this.rgb();\n\t},\n\n\tclone: function () {\n\t\t// NOTE(SB): using node-clone creates a dependency to Buffer when using browserify,\n\t\t// making the final build way to big to embed in Chart.js. So let's do it manually,\n\t\t// assuming that values to clone are 1 dimension arrays containing only numbers,\n\t\t// except 'alpha' which is a number.\n\t\tvar result = new Color();\n\t\tvar source = this.values;\n\t\tvar target = result.values;\n\t\tvar value, type;\n\n\t\tfor (var prop in source) {\n\t\t\tif (source.hasOwnProperty(prop)) {\n\t\t\t\tvalue = source[prop];\n\t\t\t\ttype = ({}).toString.call(value);\n\t\t\t\tif (type === '[object Array]') {\n\t\t\t\t\ttarget[prop] = value.slice(0);\n\t\t\t\t} else if (type === '[object Number]') {\n\t\t\t\t\ttarget[prop] = value;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('unexpected color value:', value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nColor.prototype.spaces = {\n\trgb: ['red', 'green', 'blue'],\n\thsl: ['hue', 'saturation', 'lightness'],\n\thsv: ['hue', 'saturation', 'value'],\n\thwb: ['hue', 'whiteness', 'blackness'],\n\tcmyk: ['cyan', 'magenta', 'yellow', 'black']\n};\n\nColor.prototype.maxes = {\n\trgb: [255, 255, 255],\n\thsl: [360, 100, 100],\n\thsv: [360, 100, 100],\n\thwb: [360, 100, 100],\n\tcmyk: [100, 100, 100, 100]\n};\n\nColor.prototype.getValues = function (space) {\n\tvar values = this.values;\n\tvar vals = {};\n\n\tfor (var i = 0; i < space.length; i++) {\n\t\tvals[space.charAt(i)] = values[space][i];\n\t}\n\n\tif (values.alpha !== 1) {\n\t\tvals.a = values.alpha;\n\t}\n\n\t// {r: 255, g: 255, b: 255, a: 0.4}\n\treturn vals;\n};\n\nColor.prototype.setValues = function (space, vals) {\n\tvar values = this.values;\n\tvar spaces = this.spaces;\n\tvar maxes = this.maxes;\n\tvar alpha = 1;\n\tvar i;\n\n\tthis.valid = true;\n\n\tif (space === 'alpha') {\n\t\talpha = vals;\n\t} else if (vals.length) {\n\t\t// [10, 10, 10]\n\t\tvalues[space] = vals.slice(0, space.length);\n\t\talpha = vals[space.length];\n\t} else if (vals[space.charAt(0)] !== undefined) {\n\t\t// {r: 10, g: 10, b: 10}\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[space.charAt(i)];\n\t\t}\n\n\t\talpha = vals.a;\n\t} else if (vals[spaces[space][0]] !== undefined) {\n\t\t// {red: 10, green: 10, blue: 10}\n\t\tvar chans = spaces[space];\n\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[chans[i]];\n\t\t}\n\n\t\talpha = vals.alpha;\n\t}\n\n\tvalues.alpha = Math.max(0, Math.min(1, (alpha === undefined ? values.alpha : alpha)));\n\n\tif (space === 'alpha') {\n\t\treturn false;\n\t}\n\n\tvar capped;\n\n\t// cap values of the space prior converting all values\n\tfor (i = 0; i < space.length; i++) {\n\t\tcapped = Math.max(0, Math.min(maxes[space][i], values[space][i]));\n\t\tvalues[space][i] = Math.round(capped);\n\t}\n\n\t// convert to all the other color spaces\n\tfor (var sname in spaces) {\n\t\tif (sname !== space) {\n\t\t\tvalues[sname] = colorConvert[space][sname](values[space]);\n\t\t}\n\t}\n\n\treturn true;\n};\n\nColor.prototype.setSpace = function (space, args) {\n\tvar vals = args[0];\n\n\tif (vals === undefined) {\n\t\t// color.rgb()\n\t\treturn this.getValues(space);\n\t}\n\n\t// color.rgb(10, 10, 10)\n\tif (typeof vals === 'number') {\n\t\tvals = Array.prototype.slice.call(args);\n\t}\n\n\tthis.setValues(space, vals);\n\treturn this;\n};\n\nColor.prototype.setChannel = function (space, index, val) {\n\tvar svalues = this.values[space];\n\tif (val === undefined) {\n\t\t// color.red()\n\t\treturn svalues[index];\n\t} else if (val === svalues[index]) {\n\t\t// color.red(color.red())\n\t\treturn this;\n\t}\n\n\t// color.red(100)\n\tsvalues[index] = val;\n\tthis.setValues(space, svalues);\n\n\treturn this;\n};\n\nif (typeof window !== 'undefined') {\n\twindow.Color = Color;\n}\n\nvar chartjsColor = Color;\n\nfunction isValidKey(key) {\r\n\treturn ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\r\n}\r\n\r\n/**\r\n * @namespace Chart.helpers\r\n */\r\nvar helpers = {\r\n\t/**\r\n\t * An empty function that can be used, for example, for optional callback.\r\n\t */\r\n\tnoop: function() {},\r\n\r\n\t/**\r\n\t * Returns a unique id, sequentially generated from a global variable.\r\n\t * @returns {number}\r\n\t * @function\r\n\t */\r\n\tuid: (function() {\r\n\t\tvar id = 0;\r\n\t\treturn function() {\r\n\t\t\treturn id++;\r\n\t\t};\r\n\t}()),\r\n\r\n\t/**\r\n\t * Returns true if `value` is neither null nor undefined, else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @since 2.7.0\r\n\t */\r\n\tisNullOrUndef: function(value) {\r\n\t\treturn value === null || typeof value === 'undefined';\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is an array (including typed arrays), else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @function\r\n\t */\r\n\tisArray: function(value) {\r\n\t\tif (Array.isArray && Array.isArray(value)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tvar type = Object.prototype.toString.call(value);\r\n\t\tif (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is an object (excluding null), else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @since 2.7.0\r\n\t */\r\n\tisObject: function(value) {\r\n\t\treturn value !== null && Object.prototype.toString.call(value) === '[object Object]';\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is a finite number, else returns false\r\n\t * @param {*} value  - The value to test.\r\n\t * @returns {boolean}\r\n\t */\r\n\tisFinite: function(value) {\r\n\t\treturn (typeof value === 'number' || value instanceof Number) && isFinite(value);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns `value` if defined, else returns `defaultValue`.\r\n\t * @param {*} value - The value to return if defined.\r\n\t * @param {*} defaultValue - The value to return if `value` is undefined.\r\n\t * @returns {*}\r\n\t */\r\n\tvalueOrDefault: function(value, defaultValue) {\r\n\t\treturn typeof value === 'undefined' ? defaultValue : value;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns value at the given `index` in array if defined, else returns `defaultValue`.\r\n\t * @param {Array} value - The array to lookup for value at `index`.\r\n\t * @param {number} index - The index in `value` to lookup for value.\r\n\t * @param {*} defaultValue - The value to return if `value[index]` is undefined.\r\n\t * @returns {*}\r\n\t */\r\n\tvalueAtIndexOrDefault: function(value, index, defaultValue) {\r\n\t\treturn helpers.valueOrDefault(helpers.isArray(value) ? value[index] : value, defaultValue);\r\n\t},\r\n\r\n\t/**\r\n\t * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\r\n\t * value returned by `fn`. If `fn` is not a function, this method returns undefined.\r\n\t * @param {function} fn - The function to call.\r\n\t * @param {Array|undefined|null} args - The arguments with which `fn` should be called.\r\n\t * @param {object} [thisArg] - The value of `this` provided for the call to `fn`.\r\n\t * @returns {*}\r\n\t */\r\n\tcallback: function(fn, args, thisArg) {\r\n\t\tif (fn && typeof fn.call === 'function') {\r\n\t\t\treturn fn.apply(thisArg, args);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Note(SB) for performance sake, this method should only be used when loopable type\r\n\t * is unknown or in none intensive code (not called often and small loopable). Else\r\n\t * it's preferable to use a regular for() loop and save extra function calls.\r\n\t * @param {object|Array} loopable - The object or array to be iterated.\r\n\t * @param {function} fn - The function to call for each item.\r\n\t * @param {object} [thisArg] - The value of `this` provided for the call to `fn`.\r\n\t * @param {boolean} [reverse] - If true, iterates backward on the loopable.\r\n\t */\r\n\teach: function(loopable, fn, thisArg, reverse) {\r\n\t\tvar i, len, keys;\r\n\t\tif (helpers.isArray(loopable)) {\r\n\t\t\tlen = loopable.length;\r\n\t\t\tif (reverse) {\r\n\t\t\t\tfor (i = len - 1; i >= 0; i--) {\r\n\t\t\t\t\tfn.call(thisArg, loopable[i], i);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (i = 0; i < len; i++) {\r\n\t\t\t\t\tfn.call(thisArg, loopable[i], i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (helpers.isObject(loopable)) {\r\n\t\t\tkeys = Object.keys(loopable);\r\n\t\t\tlen = keys.length;\r\n\t\t\tfor (i = 0; i < len; i++) {\r\n\t\t\t\tfn.call(thisArg, loopable[keys[i]], keys[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\r\n\t * @see https://stackoverflow.com/a/14853974\r\n\t * @param {Array} a0 - The array to compare\r\n\t * @param {Array} a1 - The array to compare\r\n\t * @returns {boolean}\r\n\t */\r\n\tarrayEquals: function(a0, a1) {\r\n\t\tvar i, ilen, v0, v1;\r\n\r\n\t\tif (!a0 || !a1 || a0.length !== a1.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = a0.length; i < ilen; ++i) {\r\n\t\t\tv0 = a0[i];\r\n\t\t\tv1 = a1[i];\r\n\r\n\t\t\tif (v0 instanceof Array && v1 instanceof Array) {\r\n\t\t\t\tif (!helpers.arrayEquals(v0, v1)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} else if (v0 !== v1) {\r\n\t\t\t\t// NOTE: two different object instances will never be equal: {x:20} != {x:20}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a deep copy of `source` without keeping references on objects and arrays.\r\n\t * @param {*} source - The value to clone.\r\n\t * @returns {*}\r\n\t */\r\n\tclone: function(source) {\r\n\t\tif (helpers.isArray(source)) {\r\n\t\t\treturn source.map(helpers.clone);\r\n\t\t}\r\n\r\n\t\tif (helpers.isObject(source)) {\r\n\t\t\tvar target = Object.create(source);\r\n\t\t\tvar keys = Object.keys(source);\r\n\t\t\tvar klen = keys.length;\r\n\t\t\tvar k = 0;\r\n\r\n\t\t\tfor (; k < klen; ++k) {\r\n\t\t\t\ttarget[keys[k]] = helpers.clone(source[keys[k]]);\r\n\t\t\t}\r\n\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\treturn source;\r\n\t},\r\n\r\n\t/**\r\n\t * The default merger when Chart.helpers.merge is called without merger option.\r\n\t * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\r\n\t * @private\r\n\t */\r\n\t_merger: function(key, target, source, options) {\r\n\t\tif (!isValidKey(key)) {\r\n\t\t\t// We want to ensure we do not copy prototypes over\r\n\t\t\t// as this can pollute global namespaces\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tval = target[key];\r\n\t\tvar sval = source[key];\r\n\r\n\t\tif (helpers.isObject(tval) && helpers.isObject(sval)) {\r\n\t\t\thelpers.merge(tval, sval, options);\r\n\t\t} else {\r\n\t\t\ttarget[key] = helpers.clone(sval);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Merges source[key] in target[key] only if target[key] is undefined.\r\n\t * @private\r\n\t */\r\n\t_mergerIf: function(key, target, source) {\r\n\t\tif (!isValidKey(key)) {\r\n\t\t\t// We want to ensure we do not copy prototypes over\r\n\t\t\t// as this can pollute global namespaces\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tval = target[key];\r\n\t\tvar sval = source[key];\r\n\r\n\t\tif (helpers.isObject(tval) && helpers.isObject(sval)) {\r\n\t\t\thelpers.mergeIf(tval, sval);\r\n\t\t} else if (!target.hasOwnProperty(key)) {\r\n\t\t\ttarget[key] = helpers.clone(sval);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Recursively deep copies `source` properties into `target` with the given `options`.\r\n\t * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\r\n\t * @param {object} target - The target object in which all sources are merged into.\r\n\t * @param {object|object[]} source - Object(s) to merge into `target`.\r\n\t * @param {object} [options] - Merging options:\r\n\t * @param {function} [options.merger] - The merge method (key, target, source, options)\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\tmerge: function(target, source, options) {\r\n\t\tvar sources = helpers.isArray(source) ? source : [source];\r\n\t\tvar ilen = sources.length;\r\n\t\tvar merge, i, keys, klen, k;\r\n\r\n\t\tif (!helpers.isObject(target)) {\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\toptions = options || {};\r\n\t\tmerge = options.merger || helpers._merger;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tsource = sources[i];\r\n\t\t\tif (!helpers.isObject(source)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tkeys = Object.keys(source);\r\n\t\t\tfor (k = 0, klen = keys.length; k < klen; ++k) {\r\n\t\t\t\tmerge(keys[k], target, source, options);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\t},\r\n\r\n\t/**\r\n\t * Recursively deep copies `source` properties into `target` *only* if not defined in target.\r\n\t * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\r\n\t * @param {object} target - The target object in which all sources are merged into.\r\n\t * @param {object|object[]} source - Object(s) to merge into `target`.\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\tmergeIf: function(target, source) {\r\n\t\treturn helpers.merge(target, source, {merger: helpers._mergerIf});\r\n\t},\r\n\r\n\t/**\r\n\t * Applies the contents of two or more objects together into the first object.\r\n\t * @param {object} target - The target object in which all objects are merged into.\r\n\t * @param {object} arg1 - Object containing additional properties to merge in target.\r\n\t * @param {object} argN - Additional objects containing properties to merge in target.\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\textend: Object.assign || function(target) {\r\n\t\treturn helpers.merge(target, [].slice.call(arguments, 1), {\r\n\t\t\tmerger: function(key, dst, src) {\r\n\t\t\t\tdst[key] = src[key];\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * Basic javascript inheritance based on the model created in Backbone.js\r\n\t */\r\n\tinherits: function(extensions) {\r\n\t\tvar me = this;\r\n\t\tvar ChartElement = (extensions && extensions.hasOwnProperty('constructor')) ? extensions.constructor : function() {\r\n\t\t\treturn me.apply(this, arguments);\r\n\t\t};\r\n\r\n\t\tvar Surrogate = function() {\r\n\t\t\tthis.constructor = ChartElement;\r\n\t\t};\r\n\r\n\t\tSurrogate.prototype = me.prototype;\r\n\t\tChartElement.prototype = new Surrogate();\r\n\t\tChartElement.extend = helpers.inherits;\r\n\r\n\t\tif (extensions) {\r\n\t\t\thelpers.extend(ChartElement.prototype, extensions);\r\n\t\t}\r\n\r\n\t\tChartElement.__super__ = me.prototype;\r\n\t\treturn ChartElement;\r\n\t},\r\n\r\n\t_deprecated: function(scope, value, previous, current) {\r\n\t\tif (value !== undefined) {\r\n\t\t\tconsole.warn(scope + ': \"' + previous +\r\n\t\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar helpers_core = helpers;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.callback instead.\r\n * @function Chart.helpers.callCallback\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.callCallback = helpers.callback;\r\n\r\n/**\r\n * Provided for backward compatibility, use Array.prototype.indexOf instead.\r\n * Array.prototype.indexOf compatibility: Chrome, Opera, Safari, FF1.5+, IE9+\r\n * @function Chart.helpers.indexOf\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.indexOf = function(array, item, fromIndex) {\r\n\treturn Array.prototype.indexOf.call(array, item, fromIndex);\r\n};\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.valueOrDefault instead.\r\n * @function Chart.helpers.getValueOrDefault\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.getValueOrDefault = helpers.valueOrDefault;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.valueAtIndexOrDefault instead.\r\n * @function Chart.helpers.getValueAtIndexOrDefault\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.getValueAtIndexOrDefault = helpers.valueAtIndexOrDefault;\n\n/**\r\n * Easing functions adapted from Robert Penner's easing equations.\r\n * @namespace Chart.helpers.easingEffects\r\n * @see http://www.robertpenner.com/easing/\r\n */\r\nvar effects = {\r\n\tlinear: function(t) {\r\n\t\treturn t;\r\n\t},\r\n\r\n\teaseInQuad: function(t) {\r\n\t\treturn t * t;\r\n\t},\r\n\r\n\teaseOutQuad: function(t) {\r\n\t\treturn -t * (t - 2);\r\n\t},\r\n\r\n\teaseInOutQuad: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t;\r\n\t\t}\r\n\t\treturn -0.5 * ((--t) * (t - 2) - 1);\r\n\t},\r\n\r\n\teaseInCubic: function(t) {\r\n\t\treturn t * t * t;\r\n\t},\r\n\r\n\teaseOutCubic: function(t) {\r\n\t\treturn (t = t - 1) * t * t + 1;\r\n\t},\r\n\r\n\teaseInOutCubic: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t;\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * t + 2);\r\n\t},\r\n\r\n\teaseInQuart: function(t) {\r\n\t\treturn t * t * t * t;\r\n\t},\r\n\r\n\teaseOutQuart: function(t) {\r\n\t\treturn -((t = t - 1) * t * t * t - 1);\r\n\t},\r\n\r\n\teaseInOutQuart: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t * t;\r\n\t\t}\r\n\t\treturn -0.5 * ((t -= 2) * t * t * t - 2);\r\n\t},\r\n\r\n\teaseInQuint: function(t) {\r\n\t\treturn t * t * t * t * t;\r\n\t},\r\n\r\n\teaseOutQuint: function(t) {\r\n\t\treturn (t = t - 1) * t * t * t * t + 1;\r\n\t},\r\n\r\n\teaseInOutQuint: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t * t * t;\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n\t},\r\n\r\n\teaseInSine: function(t) {\r\n\t\treturn -Math.cos(t * (Math.PI / 2)) + 1;\r\n\t},\r\n\r\n\teaseOutSine: function(t) {\r\n\t\treturn Math.sin(t * (Math.PI / 2));\r\n\t},\r\n\r\n\teaseInOutSine: function(t) {\r\n\t\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\r\n\t},\r\n\r\n\teaseInExpo: function(t) {\r\n\t\treturn (t === 0) ? 0 : Math.pow(2, 10 * (t - 1));\r\n\t},\r\n\r\n\teaseOutExpo: function(t) {\r\n\t\treturn (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1;\r\n\t},\r\n\r\n\teaseInOutExpo: function(t) {\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * Math.pow(2, 10 * (t - 1));\r\n\t\t}\r\n\t\treturn 0.5 * (-Math.pow(2, -10 * --t) + 2);\r\n\t},\r\n\r\n\teaseInCirc: function(t) {\r\n\t\tif (t >= 1) {\r\n\t\t\treturn t;\r\n\t\t}\r\n\t\treturn -(Math.sqrt(1 - t * t) - 1);\r\n\t},\r\n\r\n\teaseOutCirc: function(t) {\r\n\t\treturn Math.sqrt(1 - (t = t - 1) * t);\r\n\t},\r\n\r\n\teaseInOutCirc: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn -0.5 * (Math.sqrt(1 - t * t) - 1);\r\n\t\t}\r\n\t\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\r\n\t},\r\n\r\n\teaseInElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.3;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\treturn -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p));\r\n\t},\r\n\r\n\teaseOutElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.3;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t - s) * (2 * Math.PI) / p) + 1;\r\n\t},\r\n\r\n\teaseInOutElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif ((t /= 0.5) === 2) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.45;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\tif (t < 1) {\r\n\t\t\treturn -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p));\r\n\t\t}\r\n\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p) * 0.5 + 1;\r\n\t},\r\n\teaseInBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\treturn t * t * ((s + 1) * t - s);\r\n\t},\r\n\r\n\teaseOutBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\treturn (t = t - 1) * t * ((s + 1) * t + s) + 1;\r\n\t},\r\n\r\n\teaseInOutBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\r\n\t},\r\n\r\n\teaseInBounce: function(t) {\r\n\t\treturn 1 - effects.easeOutBounce(1 - t);\r\n\t},\r\n\r\n\teaseOutBounce: function(t) {\r\n\t\tif (t < (1 / 2.75)) {\r\n\t\t\treturn 7.5625 * t * t;\r\n\t\t}\r\n\t\tif (t < (2 / 2.75)) {\r\n\t\t\treturn 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n\t\t}\r\n\t\tif (t < (2.5 / 2.75)) {\r\n\t\t\treturn 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n\t\t}\r\n\t\treturn 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n\t},\r\n\r\n\teaseInOutBounce: function(t) {\r\n\t\tif (t < 0.5) {\r\n\t\t\treturn effects.easeInBounce(t * 2) * 0.5;\r\n\t\t}\r\n\t\treturn effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5;\r\n\t}\r\n};\r\n\r\nvar helpers_easing = {\r\n\teffects: effects\r\n};\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.easing.effects instead.\r\n * @function Chart.helpers.easingEffects\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.easingEffects = effects;\n\nvar PI = Math.PI;\r\nvar RAD_PER_DEG = PI / 180;\r\nvar DOUBLE_PI = PI * 2;\r\nvar HALF_PI = PI / 2;\r\nvar QUARTER_PI = PI / 4;\r\nvar TWO_THIRDS_PI = PI * 2 / 3;\r\n\r\n/**\r\n * @namespace Chart.helpers.canvas\r\n */\r\nvar exports$1 = {\r\n\t/**\r\n\t * Clears the entire canvas associated to the given `chart`.\r\n\t * @param {Chart} chart - The chart for which to clear the canvas.\r\n\t */\r\n\tclear: function(chart) {\r\n\t\tchart.ctx.clearRect(0, 0, chart.width, chart.height);\r\n\t},\r\n\r\n\t/**\r\n\t * Creates a \"path\" for a rectangle with rounded corners at position (x, y) with a\r\n\t * given size (width, height) and the same `radius` for all corners.\r\n\t * @param {CanvasRenderingContext2D} ctx - The canvas 2D Context.\r\n\t * @param {number} x - The x axis of the coordinate for the rectangle starting point.\r\n\t * @param {number} y - The y axis of the coordinate for the rectangle starting point.\r\n\t * @param {number} width - The rectangle's width.\r\n\t * @param {number} height - The rectangle's height.\r\n\t * @param {number} radius - The rounded amount (in pixels) for the four corners.\r\n\t * @todo handle `radius` as top-left, top-right, bottom-right, bottom-left array/object?\r\n\t */\r\n\troundedRect: function(ctx, x, y, width, height, radius) {\r\n\t\tif (radius) {\r\n\t\t\tvar r = Math.min(radius, height / 2, width / 2);\r\n\t\t\tvar left = x + r;\r\n\t\t\tvar top = y + r;\r\n\t\t\tvar right = x + width - r;\r\n\t\t\tvar bottom = y + height - r;\r\n\r\n\t\t\tctx.moveTo(x, top);\r\n\t\t\tif (left < right && top < bottom) {\r\n\t\t\t\tctx.arc(left, top, r, -PI, -HALF_PI);\r\n\t\t\t\tctx.arc(right, top, r, -HALF_PI, 0);\r\n\t\t\t\tctx.arc(right, bottom, r, 0, HALF_PI);\r\n\t\t\t\tctx.arc(left, bottom, r, HALF_PI, PI);\r\n\t\t\t} else if (left < right) {\r\n\t\t\t\tctx.moveTo(left, y);\r\n\t\t\t\tctx.arc(right, top, r, -HALF_PI, HALF_PI);\r\n\t\t\t\tctx.arc(left, top, r, HALF_PI, PI + HALF_PI);\r\n\t\t\t} else if (top < bottom) {\r\n\t\t\t\tctx.arc(left, top, r, -PI, 0);\r\n\t\t\t\tctx.arc(left, bottom, r, 0, PI);\r\n\t\t\t} else {\r\n\t\t\t\tctx.arc(left, top, r, -PI, PI);\r\n\t\t\t}\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.moveTo(x, y);\r\n\t\t} else {\r\n\t\t\tctx.rect(x, y, width, height);\r\n\t\t}\r\n\t},\r\n\r\n\tdrawPoint: function(ctx, style, radius, x, y, rotation) {\r\n\t\tvar type, xOffset, yOffset, size, cornerRadius;\r\n\t\tvar rad = (rotation || 0) * RAD_PER_DEG;\r\n\r\n\t\tif (style && typeof style === 'object') {\r\n\t\t\ttype = style.toString();\r\n\t\t\tif (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.translate(x, y);\r\n\t\t\t\tctx.rotate(rad);\r\n\t\t\t\tctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\r\n\t\t\t\tctx.restore();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isNaN(radius) || radius <= 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.beginPath();\r\n\r\n\t\tswitch (style) {\r\n\t\t// Default includes circle\r\n\t\tdefault:\r\n\t\t\tctx.arc(x, y, radius, 0, DOUBLE_PI);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'triangle':\r\n\t\t\tctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\trad += TWO_THIRDS_PI;\r\n\t\t\tctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\trad += TWO_THIRDS_PI;\r\n\t\t\tctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'rectRounded':\r\n\t\t\t// NOTE: the rounded rect implementation changed to use `arc` instead of\r\n\t\t\t// `quadraticCurveTo` since it generates better results when rect is\r\n\t\t\t// almost a circle. 0.516 (instead of 0.5) produces results with visually\r\n\t\t\t// closer proportion to the previous impl and it is inscribed in the\r\n\t\t\t// circle with `radius`. For more details, see the following PRs:\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5597\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5858\r\n\t\t\tcornerRadius = radius * 0.516;\r\n\t\t\tsize = radius - cornerRadius;\r\n\t\t\txOffset = Math.cos(rad + QUARTER_PI) * size;\r\n\t\t\tyOffset = Math.sin(rad + QUARTER_PI) * size;\r\n\t\t\tctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\r\n\t\t\tctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\r\n\t\t\tctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\r\n\t\t\tctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'rect':\r\n\t\t\tif (!rotation) {\r\n\t\t\t\tsize = Math.SQRT1_2 * radius;\r\n\t\t\t\tctx.rect(x - size, y - size, 2 * size, 2 * size);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\t/* falls through */\r\n\t\tcase 'rectRot':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'crossRot':\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\t/* falls through */\r\n\t\tcase 'cross':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'star':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'line':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'dash':\r\n\t\t\tctx.moveTo(x, y);\r\n\t\t\tctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if the point is inside the rectangle\r\n\t * @param {object} point - The point to test\r\n\t * @param {object} area - The rectangle\r\n\t * @returns {boolean}\r\n\t * @private\r\n\t */\r\n\t_isPointInArea: function(point, area) {\r\n\t\tvar epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\r\n\r\n\t\treturn point.x > area.left - epsilon && point.x < area.right + epsilon &&\r\n\t\t\tpoint.y > area.top - epsilon && point.y < area.bottom + epsilon;\r\n\t},\r\n\r\n\tclipArea: function(ctx, area) {\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\r\n\t\tctx.clip();\r\n\t},\r\n\r\n\tunclipArea: function(ctx) {\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\tlineTo: function(ctx, previous, target, flip) {\r\n\t\tvar stepped = target.steppedLine;\r\n\t\tif (stepped) {\r\n\t\t\tif (stepped === 'middle') {\r\n\t\t\t\tvar midpoint = (previous.x + target.x) / 2.0;\r\n\t\t\t\tctx.lineTo(midpoint, flip ? target.y : previous.y);\r\n\t\t\t\tctx.lineTo(midpoint, flip ? previous.y : target.y);\r\n\t\t\t} else if ((stepped === 'after' && !flip) || (stepped !== 'after' && flip)) {\r\n\t\t\t\tctx.lineTo(previous.x, target.y);\r\n\t\t\t} else {\r\n\t\t\t\tctx.lineTo(target.x, previous.y);\r\n\t\t\t}\r\n\t\t\tctx.lineTo(target.x, target.y);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!target.tension) {\r\n\t\t\tctx.lineTo(target.x, target.y);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.bezierCurveTo(\r\n\t\t\tflip ? previous.controlPointPreviousX : previous.controlPointNextX,\r\n\t\t\tflip ? previous.controlPointPreviousY : previous.controlPointNextY,\r\n\t\t\tflip ? target.controlPointNextX : target.controlPointPreviousX,\r\n\t\t\tflip ? target.controlPointNextY : target.controlPointPreviousY,\r\n\t\t\ttarget.x,\r\n\t\t\ttarget.y);\r\n\t}\r\n};\r\n\r\nvar helpers_canvas = exports$1;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas.clear instead.\r\n * @namespace Chart.helpers.clear\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.clear = exports$1.clear;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas.roundedRect instead.\r\n * @namespace Chart.helpers.drawRoundedRectangle\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.drawRoundedRectangle = function(ctx) {\r\n\tctx.beginPath();\r\n\texports$1.roundedRect.apply(exports$1, arguments);\r\n};\n\nvar defaults = {\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_set: function(scope, values) {\r\n\t\treturn helpers_core.merge(this[scope] || (this[scope] = {}), values);\r\n\t}\r\n};\r\n\r\n// TODO(v3): remove 'global' from namespace.  all default are global and\r\n// there's inconsistency around which options are under 'global'\r\ndefaults._set('global', {\r\n\tdefaultColor: 'rgba(0,0,0,0.1)',\r\n\tdefaultFontColor: '#666',\r\n\tdefaultFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\r\n\tdefaultFontSize: 12,\r\n\tdefaultFontStyle: 'normal',\r\n\tdefaultLineHeight: 1.2,\r\n\tshowLines: true\r\n});\r\n\r\nvar core_defaults = defaults;\n\nvar valueOrDefault = helpers_core.valueOrDefault;\r\n\r\n/**\r\n * Converts the given font object into a CSS font string.\r\n * @param {object} font - A font object.\r\n * @return {string} The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\r\n * @private\r\n */\r\nfunction toFontString(font) {\r\n\tif (!font || helpers_core.isNullOrUndef(font.size) || helpers_core.isNullOrUndef(font.family)) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (font.style ? font.style + ' ' : '')\r\n\t\t+ (font.weight ? font.weight + ' ' : '')\r\n\t\t+ font.size + 'px '\r\n\t\t+ font.family;\r\n}\r\n\r\n/**\r\n * @alias Chart.helpers.options\r\n * @namespace\r\n */\r\nvar helpers_options = {\r\n\t/**\r\n\t * Converts the given line height `value` in pixels for a specific font `size`.\r\n\t * @param {number|string} value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\r\n\t * @param {number} size - The font size (in pixels) used to resolve relative `value`.\r\n\t * @returns {number} The effective line height in pixels (size * 1.2 if value is invalid).\r\n\t * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\r\n\t * @since 2.7.0\r\n\t */\r\n\ttoLineHeight: function(value, size) {\r\n\t\tvar matches = ('' + value).match(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\r\n\t\tif (!matches || matches[1] === 'normal') {\r\n\t\t\treturn size * 1.2;\r\n\t\t}\r\n\r\n\t\tvalue = +matches[2];\r\n\r\n\t\tswitch (matches[3]) {\r\n\t\tcase 'px':\r\n\t\t\treturn value;\r\n\t\tcase '%':\r\n\t\t\tvalue /= 100;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn size * value;\r\n\t},\r\n\r\n\t/**\r\n\t * Converts the given value into a padding object with pre-computed width/height.\r\n\t * @param {number|object} value - If a number, set the value to all TRBL component,\r\n\t *  else, if and object, use defined properties and sets undefined ones to 0.\r\n\t * @returns {object} The padding values (top, right, bottom, left, width, height)\r\n\t * @since 2.7.0\r\n\t */\r\n\ttoPadding: function(value) {\r\n\t\tvar t, r, b, l;\r\n\r\n\t\tif (helpers_core.isObject(value)) {\r\n\t\t\tt = +value.top || 0;\r\n\t\t\tr = +value.right || 0;\r\n\t\t\tb = +value.bottom || 0;\r\n\t\t\tl = +value.left || 0;\r\n\t\t} else {\r\n\t\t\tt = r = b = l = +value || 0;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttop: t,\r\n\t\t\tright: r,\r\n\t\t\tbottom: b,\r\n\t\t\tleft: l,\r\n\t\t\theight: t + b,\r\n\t\t\twidth: l + r\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Parses font options and returns the font object.\r\n\t * @param {object} options - A object that contains font options to be parsed.\r\n\t * @return {object} The font object.\r\n\t * @todo Support font.* options and renamed to toFont().\r\n\t * @private\r\n\t */\r\n\t_parseFont: function(options) {\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar size = valueOrDefault(options.fontSize, globalDefaults.defaultFontSize);\r\n\t\tvar font = {\r\n\t\t\tfamily: valueOrDefault(options.fontFamily, globalDefaults.defaultFontFamily),\r\n\t\t\tlineHeight: helpers_core.options.toLineHeight(valueOrDefault(options.lineHeight, globalDefaults.defaultLineHeight), size),\r\n\t\t\tsize: size,\r\n\t\t\tstyle: valueOrDefault(options.fontStyle, globalDefaults.defaultFontStyle),\r\n\t\t\tweight: null,\r\n\t\t\tstring: ''\r\n\t\t};\r\n\r\n\t\tfont.string = toFontString(font);\r\n\t\treturn font;\r\n\t},\r\n\r\n\t/**\r\n\t * Evaluates the given `inputs` sequentially and returns the first defined value.\r\n\t * @param {Array} inputs - An array of values, falling back to the last value.\r\n\t * @param {object} [context] - If defined and the current value is a function, the value\r\n\t * is called with `context` as first argument and the result becomes the new input.\r\n\t * @param {number} [index] - If defined and the current value is an array, the value\r\n\t * at `index` become the new input.\r\n\t * @param {object} [info] - object to return information about resolution in\r\n\t * @param {boolean} [info.cacheable] - Will be set to `false` if option is not cacheable.\r\n\t * @since 2.7.0\r\n\t */\r\n\tresolve: function(inputs, context, index, info) {\r\n\t\tvar cacheable = true;\r\n\t\tvar i, ilen, value;\r\n\r\n\t\tfor (i = 0, ilen = inputs.length; i < ilen; ++i) {\r\n\t\t\tvalue = inputs[i];\r\n\t\t\tif (value === undefined) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (context !== undefined && typeof value === 'function') {\r\n\t\t\t\tvalue = value(context);\r\n\t\t\t\tcacheable = false;\r\n\t\t\t}\r\n\t\t\tif (index !== undefined && helpers_core.isArray(value)) {\r\n\t\t\t\tvalue = value[index];\r\n\t\t\t\tcacheable = false;\r\n\t\t\t}\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\tif (info && !cacheable) {\r\n\t\t\t\t\tinfo.cacheable = false;\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\n/**\r\n * @alias Chart.helpers.math\r\n * @namespace\r\n */\r\nvar exports$2 = {\r\n\t/**\r\n\t * Returns an array of factors sorted from 1 to sqrt(value)\r\n\t * @private\r\n\t */\r\n\t_factorize: function(value) {\r\n\t\tvar result = [];\r\n\t\tvar sqrt = Math.sqrt(value);\r\n\t\tvar i;\r\n\r\n\t\tfor (i = 1; i < sqrt; i++) {\r\n\t\t\tif (value % i === 0) {\r\n\t\t\t\tresult.push(i);\r\n\t\t\t\tresult.push(value / i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (sqrt === (sqrt | 0)) { // if value is a square number\r\n\t\t\tresult.push(sqrt);\r\n\t\t}\r\n\r\n\t\tresult.sort(function(a, b) {\r\n\t\t\treturn a - b;\r\n\t\t}).pop();\r\n\t\treturn result;\r\n\t},\r\n\r\n\tlog10: Math.log10 || function(x) {\r\n\t\tvar exponent = Math.log(x) * Math.LOG10E; // Math.LOG10E = 1 / Math.LN10.\r\n\t\t// Check for whole powers of 10,\r\n\t\t// which due to floating point rounding error should be corrected.\r\n\t\tvar powerOf10 = Math.round(exponent);\r\n\t\tvar isPowerOf10 = x === Math.pow(10, powerOf10);\r\n\r\n\t\treturn isPowerOf10 ? powerOf10 : exponent;\r\n\t}\r\n};\r\n\r\nvar helpers_math = exports$2;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.math.log10 instead.\r\n * @namespace Chart.helpers.log10\r\n * @deprecated since version 2.9.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.log10 = exports$2.log10;\n\nvar getRtlAdapter = function(rectX, width) {\r\n\treturn {\r\n\t\tx: function(x) {\r\n\t\t\treturn rectX + rectX + width - x;\r\n\t\t},\r\n\t\tsetWidth: function(w) {\r\n\t\t\twidth = w;\r\n\t\t},\r\n\t\ttextAlign: function(align) {\r\n\t\t\tif (align === 'center') {\r\n\t\t\t\treturn align;\r\n\t\t\t}\r\n\t\t\treturn align === 'right' ? 'left' : 'right';\r\n\t\t},\r\n\t\txPlus: function(x, value) {\r\n\t\t\treturn x - value;\r\n\t\t},\r\n\t\tleftForLtr: function(x, itemWidth) {\r\n\t\t\treturn x - itemWidth;\r\n\t\t},\r\n\t};\r\n};\r\n\r\nvar getLtrAdapter = function() {\r\n\treturn {\r\n\t\tx: function(x) {\r\n\t\t\treturn x;\r\n\t\t},\r\n\t\tsetWidth: function(w) { // eslint-disable-line no-unused-vars\r\n\t\t},\r\n\t\ttextAlign: function(align) {\r\n\t\t\treturn align;\r\n\t\t},\r\n\t\txPlus: function(x, value) {\r\n\t\t\treturn x + value;\r\n\t\t},\r\n\t\tleftForLtr: function(x, _itemWidth) { // eslint-disable-line no-unused-vars\r\n\t\t\treturn x;\r\n\t\t},\r\n\t};\r\n};\r\n\r\nvar getAdapter = function(rtl, rectX, width) {\r\n\treturn rtl ? getRtlAdapter(rectX, width) : getLtrAdapter();\r\n};\r\n\r\nvar overrideTextDirection = function(ctx, direction) {\r\n\tvar style, original;\r\n\tif (direction === 'ltr' || direction === 'rtl') {\r\n\t\tstyle = ctx.canvas.style;\r\n\t\toriginal = [\r\n\t\t\tstyle.getPropertyValue('direction'),\r\n\t\t\tstyle.getPropertyPriority('direction'),\r\n\t\t];\r\n\r\n\t\tstyle.setProperty('direction', direction, 'important');\r\n\t\tctx.prevTextDirection = original;\r\n\t}\r\n};\r\n\r\nvar restoreTextDirection = function(ctx) {\r\n\tvar original = ctx.prevTextDirection;\r\n\tif (original !== undefined) {\r\n\t\tdelete ctx.prevTextDirection;\r\n\t\tctx.canvas.style.setProperty('direction', original[0], original[1]);\r\n\t}\r\n};\r\n\r\nvar helpers_rtl = {\r\n\tgetRtlAdapter: getAdapter,\r\n\toverrideTextDirection: overrideTextDirection,\r\n\trestoreTextDirection: restoreTextDirection,\r\n};\n\nvar helpers$1 = helpers_core;\r\nvar easing = helpers_easing;\r\nvar canvas = helpers_canvas;\r\nvar options = helpers_options;\r\nvar math = helpers_math;\r\nvar rtl = helpers_rtl;\nhelpers$1.easing = easing;\nhelpers$1.canvas = canvas;\nhelpers$1.options = options;\nhelpers$1.math = math;\nhelpers$1.rtl = rtl;\n\nfunction interpolate(start, view, model, ease) {\r\n\tvar keys = Object.keys(model);\r\n\tvar i, ilen, key, actual, origin, target, type, c0, c1;\r\n\r\n\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\tkey = keys[i];\r\n\r\n\t\ttarget = model[key];\r\n\r\n\t\t// if a value is added to the model after pivot() has been called, the view\r\n\t\t// doesn't contain it, so let's initialize the view to the target value.\r\n\t\tif (!view.hasOwnProperty(key)) {\r\n\t\t\tview[key] = target;\r\n\t\t}\r\n\r\n\t\tactual = view[key];\r\n\r\n\t\tif (actual === target || key[0] === '_') {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (!start.hasOwnProperty(key)) {\r\n\t\t\tstart[key] = actual;\r\n\t\t}\r\n\r\n\t\torigin = start[key];\r\n\r\n\t\ttype = typeof target;\r\n\r\n\t\tif (type === typeof origin) {\r\n\t\t\tif (type === 'string') {\r\n\t\t\t\tc0 = chartjsColor(origin);\r\n\t\t\t\tif (c0.valid) {\r\n\t\t\t\t\tc1 = chartjsColor(target);\r\n\t\t\t\t\tif (c1.valid) {\r\n\t\t\t\t\t\tview[key] = c1.mix(c0, ease).rgbString();\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (helpers$1.isFinite(origin) && helpers$1.isFinite(target)) {\r\n\t\t\t\tview[key] = origin + (target - origin) * ease;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tview[key] = target;\r\n\t}\r\n}\r\n\r\nvar Element = function(configuration) {\r\n\thelpers$1.extend(this, configuration);\r\n\tthis.initialize.apply(this, arguments);\r\n};\r\n\r\nhelpers$1.extend(Element.prototype, {\r\n\t_type: undefined,\r\n\r\n\tinitialize: function() {\r\n\t\tthis.hidden = false;\r\n\t},\r\n\r\n\tpivot: function() {\r\n\t\tvar me = this;\r\n\t\tif (!me._view) {\r\n\t\t\tme._view = helpers$1.extend({}, me._model);\r\n\t\t}\r\n\t\tme._start = {};\r\n\t\treturn me;\r\n\t},\r\n\r\n\ttransition: function(ease) {\r\n\t\tvar me = this;\r\n\t\tvar model = me._model;\r\n\t\tvar start = me._start;\r\n\t\tvar view = me._view;\r\n\r\n\t\t// No animation -> No Transition\r\n\t\tif (!model || ease === 1) {\r\n\t\t\tme._view = helpers$1.extend({}, model);\r\n\t\t\tme._start = null;\r\n\t\t\treturn me;\r\n\t\t}\r\n\r\n\t\tif (!view) {\r\n\t\t\tview = me._view = {};\r\n\t\t}\r\n\r\n\t\tif (!start) {\r\n\t\t\tstart = me._start = {};\r\n\t\t}\r\n\r\n\t\tinterpolate(start, view, model, ease);\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\treturn {\r\n\t\t\tx: this._model.x,\r\n\t\t\ty: this._model.y\r\n\t\t};\r\n\t},\r\n\r\n\thasValue: function() {\r\n\t\treturn helpers$1.isNumber(this._model.x) && helpers$1.isNumber(this._model.y);\r\n\t}\r\n});\r\n\r\nElement.extend = helpers$1.inherits;\r\n\r\nvar core_element = Element;\n\nvar exports$3 = core_element.extend({\r\n\tchart: null, // the animation associated chart instance\r\n\tcurrentStep: 0, // the current animation step\r\n\tnumSteps: 60, // default number of steps\r\n\teasing: '', // the easing to use for this animation\r\n\trender: null, // render function used by the animation service\r\n\r\n\tonAnimationProgress: null, // user specified callback to fire on each step of the animation\r\n\tonAnimationComplete: null, // user specified callback to fire when the animation finishes\r\n});\r\n\r\nvar core_animation = exports$3;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.Animation instead\r\n * @prop Chart.Animation#animationObject\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n */\r\nObject.defineProperty(exports$3.prototype, 'animationObject', {\r\n\tget: function() {\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.Animation#chart instead\r\n * @prop Chart.Animation#chartInstance\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n */\r\nObject.defineProperty(exports$3.prototype, 'chartInstance', {\r\n\tget: function() {\r\n\t\treturn this.chart;\r\n\t},\r\n\tset: function(value) {\r\n\t\tthis.chart = value;\r\n\t}\r\n});\n\ncore_defaults._set('global', {\r\n\tanimation: {\r\n\t\tduration: 1000,\r\n\t\teasing: 'easeOutQuart',\r\n\t\tonProgress: helpers$1.noop,\r\n\t\tonComplete: helpers$1.noop\r\n\t}\r\n});\r\n\r\nvar core_animations = {\r\n\tanimations: [],\r\n\trequest: null,\r\n\r\n\t/**\r\n\t * @param {Chart} chart - The chart to animate.\r\n\t * @param {Chart.Animation} animation - The animation that we will animate.\r\n\t * @param {number} duration - The animation duration in ms.\r\n\t * @param {boolean} lazy - if true, the chart is not marked as animating to enable more responsive interactions\r\n\t */\r\n\taddAnimation: function(chart, animation, duration, lazy) {\r\n\t\tvar animations = this.animations;\r\n\t\tvar i, ilen;\r\n\r\n\t\tanimation.chart = chart;\r\n\t\tanimation.startTime = Date.now();\r\n\t\tanimation.duration = duration;\r\n\r\n\t\tif (!lazy) {\r\n\t\t\tchart.animating = true;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = animations.length; i < ilen; ++i) {\r\n\t\t\tif (animations[i].chart === chart) {\r\n\t\t\t\tanimations[i] = animation;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tanimations.push(animation);\r\n\r\n\t\t// If there are no animations queued, manually kickstart a digest, for lack of a better word\r\n\t\tif (animations.length === 1) {\r\n\t\t\tthis.requestAnimationFrame();\r\n\t\t}\r\n\t},\r\n\r\n\tcancelAnimation: function(chart) {\r\n\t\tvar index = helpers$1.findIndex(this.animations, function(animation) {\r\n\t\t\treturn animation.chart === chart;\r\n\t\t});\r\n\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.animations.splice(index, 1);\r\n\t\t\tchart.animating = false;\r\n\t\t}\r\n\t},\r\n\r\n\trequestAnimationFrame: function() {\r\n\t\tvar me = this;\r\n\t\tif (me.request === null) {\r\n\t\t\t// Skip animation frame requests until the active one is executed.\r\n\t\t\t// This can happen when processing mouse events, e.g. 'mousemove'\r\n\t\t\t// and 'mouseout' events will trigger multiple renders.\r\n\t\t\tme.request = helpers$1.requestAnimFrame.call(window, function() {\r\n\t\t\t\tme.request = null;\r\n\t\t\t\tme.startDigest();\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tstartDigest: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tme.advance();\r\n\r\n\t\t// Do we have more stuff to animate?\r\n\t\tif (me.animations.length > 0) {\r\n\t\t\tme.requestAnimationFrame();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tadvance: function() {\r\n\t\tvar animations = this.animations;\r\n\t\tvar animation, chart, numSteps, nextStep;\r\n\t\tvar i = 0;\r\n\r\n\t\t// 1 animation per chart, so we are looping charts here\r\n\t\twhile (i < animations.length) {\r\n\t\t\tanimation = animations[i];\r\n\t\t\tchart = animation.chart;\r\n\t\t\tnumSteps = animation.numSteps;\r\n\r\n\t\t\t// Make sure that currentStep starts at 1\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/6104\r\n\t\t\tnextStep = Math.floor((Date.now() - animation.startTime) / animation.duration * numSteps) + 1;\r\n\t\t\tanimation.currentStep = Math.min(nextStep, numSteps);\r\n\r\n\t\t\thelpers$1.callback(animation.render, [chart, animation], chart);\r\n\t\t\thelpers$1.callback(animation.onAnimationProgress, [animation], chart);\r\n\r\n\t\t\tif (animation.currentStep >= numSteps) {\r\n\t\t\t\thelpers$1.callback(animation.onAnimationComplete, [animation], chart);\r\n\t\t\t\tchart.animating = false;\r\n\t\t\t\tanimations.splice(i, 1);\r\n\t\t\t} else {\r\n\t\t\t\t++i;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\nvar resolve = helpers$1.options.resolve;\r\n\r\nvar arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\r\n\r\n/**\r\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\r\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\r\n * called on the 'onData*' callbacks (e.g. onDataPush, etc.) with same arguments.\r\n */\r\nfunction listenArrayEvents(array, listener) {\r\n\tif (array._chartjs) {\r\n\t\tarray._chartjs.listeners.push(listener);\r\n\t\treturn;\r\n\t}\r\n\r\n\tObject.defineProperty(array, '_chartjs', {\r\n\t\tconfigurable: true,\r\n\t\tenumerable: false,\r\n\t\tvalue: {\r\n\t\t\tlisteners: [listener]\r\n\t\t}\r\n\t});\r\n\r\n\tarrayEvents.forEach(function(key) {\r\n\t\tvar method = 'onData' + key.charAt(0).toUpperCase() + key.slice(1);\r\n\t\tvar base = array[key];\r\n\r\n\t\tObject.defineProperty(array, key, {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: false,\r\n\t\t\tvalue: function() {\r\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\t\t\tvar res = base.apply(this, args);\r\n\r\n\t\t\t\thelpers$1.each(array._chartjs.listeners, function(object) {\r\n\t\t\t\t\tif (typeof object[method] === 'function') {\r\n\t\t\t\t\t\tobject[method].apply(object, args);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/**\r\n * Removes the given array event listener and cleanup extra attached properties (such as\r\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\r\n */\r\nfunction unlistenArrayEvents(array, listener) {\r\n\tvar stub = array._chartjs;\r\n\tif (!stub) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar listeners = stub.listeners;\r\n\tvar index = listeners.indexOf(listener);\r\n\tif (index !== -1) {\r\n\t\tlisteners.splice(index, 1);\r\n\t}\r\n\r\n\tif (listeners.length > 0) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tarrayEvents.forEach(function(key) {\r\n\t\tdelete array[key];\r\n\t});\r\n\r\n\tdelete array._chartjs;\r\n}\r\n\r\n// Base class for all dataset controllers (line, bar, etc)\r\nvar DatasetController = function(chart, datasetIndex) {\r\n\tthis.initialize(chart, datasetIndex);\r\n};\r\n\r\nhelpers$1.extend(DatasetController.prototype, {\r\n\r\n\t/**\r\n\t * Element type used to generate a meta dataset (e.g. Chart.element.Line).\r\n\t * @type {Chart.core.element}\r\n\t */\r\n\tdatasetElementType: null,\r\n\r\n\t/**\r\n\t * Element type used to generate a meta data (e.g. Chart.element.Point).\r\n\t * @type {Chart.core.element}\r\n\t */\r\n\tdataElementType: null,\r\n\r\n\t/**\r\n\t * Dataset element option keys to be resolved in _resolveDatasetElementOptions.\r\n\t * A derived controller may override this to resolve controller-specific options.\r\n\t * The keys defined here are for backward compatibility for legend styles.\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderColor',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'borderWidth'\r\n\t],\r\n\r\n\t/**\r\n\t * Data element option keys to be resolved in _resolveDataElementOptions.\r\n\t * A derived controller may override this to resolve controller-specific options.\r\n\t * The keys defined here are for backward compatibility for legend styles.\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'pointStyle'\r\n\t],\r\n\r\n\tinitialize: function(chart, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tme.chart = chart;\r\n\t\tme.index = datasetIndex;\r\n\t\tme.linkScales();\r\n\t\tme.addElements();\r\n\t\tme._type = me.getMeta().type;\r\n\t},\r\n\r\n\tupdateIndex: function(datasetIndex) {\r\n\t\tthis.index = datasetIndex;\r\n\t},\r\n\r\n\tlinkScales: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar chart = me.chart;\r\n\t\tvar scales = chart.scales;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar scalesOpts = chart.options.scales;\r\n\r\n\t\tif (meta.xAxisID === null || !(meta.xAxisID in scales) || dataset.xAxisID) {\r\n\t\t\tmeta.xAxisID = dataset.xAxisID || scalesOpts.xAxes[0].id;\r\n\t\t}\r\n\t\tif (meta.yAxisID === null || !(meta.yAxisID in scales) || dataset.yAxisID) {\r\n\t\t\tmeta.yAxisID = dataset.yAxisID || scalesOpts.yAxes[0].id;\r\n\t\t}\r\n\t},\r\n\r\n\tgetDataset: function() {\r\n\t\treturn this.chart.data.datasets[this.index];\r\n\t},\r\n\r\n\tgetMeta: function() {\r\n\t\treturn this.chart.getDatasetMeta(this.index);\r\n\t},\r\n\r\n\tgetScaleForId: function(scaleID) {\r\n\t\treturn this.chart.scales[scaleID];\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.getMeta().yAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.getMeta().xAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScale: function() {\r\n\t\treturn this.getScaleForId(this._getValueScaleId());\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScale: function() {\r\n\t\treturn this.getScaleForId(this._getIndexScaleId());\r\n\t},\r\n\r\n\treset: function() {\r\n\t\tthis._update(true);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tdestroy: function() {\r\n\t\tif (this._data) {\r\n\t\t\tunlistenArrayEvents(this._data, this);\r\n\t\t}\r\n\t},\r\n\r\n\tcreateMetaDataset: function() {\r\n\t\tvar me = this;\r\n\t\tvar type = me.datasetElementType;\r\n\t\treturn type && new type({\r\n\t\t\t_chart: me.chart,\r\n\t\t\t_datasetIndex: me.index\r\n\t\t});\r\n\t},\r\n\r\n\tcreateMetaData: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar type = me.dataElementType;\r\n\t\treturn type && new type({\r\n\t\t\t_chart: me.chart,\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index\r\n\t\t});\r\n\t},\r\n\r\n\taddElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar data = me.getDataset().data || [];\r\n\t\tvar metaData = meta.data;\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = data.length; i < ilen; ++i) {\r\n\t\t\tmetaData[i] = metaData[i] || me.createMetaData(i);\r\n\t\t}\r\n\r\n\t\tmeta.dataset = meta.dataset || me.createMetaDataset();\r\n\t},\r\n\r\n\taddElementAndReset: function(index) {\r\n\t\tvar element = this.createMetaData(index);\r\n\t\tthis.getMeta().data.splice(index, 0, element);\r\n\t\tthis.updateElement(element, index, true);\r\n\t},\r\n\r\n\tbuildOrUpdateElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar data = dataset.data || (dataset.data = []);\r\n\r\n\t\t// In order to correctly handle data addition/deletion animation (an thus simulate\r\n\t\t// real-time charts), we need to monitor these data modifications and synchronize\r\n\t\t// the internal meta data accordingly.\r\n\t\tif (me._data !== data) {\r\n\t\t\tif (me._data) {\r\n\t\t\t\t// This case happens when the user replaced the data array instance.\r\n\t\t\t\tunlistenArrayEvents(me._data, me);\r\n\t\t\t}\r\n\r\n\t\t\tif (data && Object.isExtensible(data)) {\r\n\t\t\t\tlistenArrayEvents(data, me);\r\n\t\t\t}\r\n\t\t\tme._data = data;\r\n\t\t}\r\n\r\n\t\t// Re-sync meta data in case the user replaced the data array or if we missed\r\n\t\t// any updates and so make sure that we handle number of datapoints changing.\r\n\t\tme.resyncElements();\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the merged user-supplied and default dataset-level options\r\n\t * @private\r\n\t */\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tme._config = helpers$1.merge(Object.create(null), [\r\n\t\t\tme.chart.options.datasets[me._type],\r\n\t\t\tme.getDataset(),\r\n\t\t], {\r\n\t\t\tmerger: function(key, target, source) {\r\n\t\t\t\tif (key !== '_meta' && key !== 'data') {\r\n\t\t\t\t\thelpers$1._merger(key, target, source);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\t_update: function(reset) {\r\n\t\tvar me = this;\r\n\t\tme._configure();\r\n\t\tme._cachedDataOpts = null;\r\n\t\tme.update(reset);\r\n\t},\r\n\r\n\tupdate: helpers$1.noop,\r\n\r\n\ttransition: function(easingValue) {\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar elements = meta.data || [];\r\n\t\tvar ilen = elements.length;\r\n\t\tvar i = 0;\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\telements[i].transition(easingValue);\r\n\t\t}\r\n\r\n\t\tif (meta.dataset) {\r\n\t\t\tmeta.dataset.transition(easingValue);\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar elements = meta.data || [];\r\n\t\tvar ilen = elements.length;\r\n\t\tvar i = 0;\r\n\r\n\t\tif (meta.dataset) {\r\n\t\t\tmeta.dataset.draw();\r\n\t\t}\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\telements[i].draw();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a set of predefined style properties that should be used to represent the dataset\r\n\t * or the data if the index is specified\r\n\t * @param {number} index - data index\r\n\t * @return {IStyleInterface} style object\r\n\t */\r\n\tgetStyle: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar dataset = meta.dataset;\r\n\t\tvar style;\r\n\r\n\t\tme._configure();\r\n\t\tif (dataset && index === undefined) {\r\n\t\t\tstyle = me._resolveDatasetElementOptions(dataset || {});\r\n\t\t} else {\r\n\t\t\tindex = index || 0;\r\n\t\t\tstyle = me._resolveDataElementOptions(meta.data[index] || {}, index);\r\n\t\t}\r\n\r\n\t\tif (style.fill === false || style.fill === null) {\r\n\t\t\tstyle.backgroundColor = style.borderColor;\r\n\t\t}\r\n\r\n\t\treturn style;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function(element, hover) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasetOpts = me._config;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar options = chart.options.elements[me.datasetElementType.prototype._type] || {};\r\n\t\tvar elementOptions = me._datasetElementOptions;\r\n\t\tvar values = {};\r\n\t\tvar i, ilen, key, readKey;\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataset: me.getDataset(),\r\n\t\t\tdatasetIndex: me.index,\r\n\t\t\thover: hover\r\n\t\t};\r\n\r\n\t\tfor (i = 0, ilen = elementOptions.length; i < ilen; ++i) {\r\n\t\t\tkey = elementOptions[i];\r\n\t\t\treadKey = hover ? 'hover' + key.charAt(0).toUpperCase() + key.slice(1) : key;\r\n\t\t\tvalues[key] = resolve([\r\n\t\t\t\tcustom[readKey],\r\n\t\t\t\tdatasetOpts[readKey],\r\n\t\t\t\toptions[readKey]\r\n\t\t\t], context);\r\n\t\t}\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function(element, index) {\r\n\t\tvar me = this;\r\n\t\tvar custom = element && element.custom;\r\n\t\tvar cached = me._cachedDataOpts;\r\n\t\tif (cached && !custom) {\r\n\t\t\treturn cached;\r\n\t\t}\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasetOpts = me._config;\r\n\t\tvar options = chart.options.elements[me.dataElementType.prototype._type] || {};\r\n\t\tvar elementOptions = me._dataElementOptions;\r\n\t\tvar values = {};\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: me.getDataset(),\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\t// `resolve` sets cacheable to `false` if any option is indexed or scripted\r\n\t\tvar info = {cacheable: !custom};\r\n\r\n\t\tvar keys, i, ilen, key;\r\n\r\n\t\tcustom = custom || {};\r\n\r\n\t\tif (helpers$1.isArray(elementOptions)) {\r\n\t\t\tfor (i = 0, ilen = elementOptions.length; i < ilen; ++i) {\r\n\t\t\t\tkey = elementOptions[i];\r\n\t\t\t\tvalues[key] = resolve([\r\n\t\t\t\t\tcustom[key],\r\n\t\t\t\t\tdatasetOpts[key],\r\n\t\t\t\t\toptions[key]\r\n\t\t\t\t], context, index, info);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tkeys = Object.keys(elementOptions);\r\n\t\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\t\t\tkey = keys[i];\r\n\t\t\t\tvalues[key] = resolve([\r\n\t\t\t\t\tcustom[key],\r\n\t\t\t\t\tdatasetOpts[elementOptions[key]],\r\n\t\t\t\t\tdatasetOpts[key],\r\n\t\t\t\t\toptions[key]\r\n\t\t\t\t], context, index, info);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (info.cacheable) {\r\n\t\t\tme._cachedDataOpts = Object.freeze(values);\r\n\t\t}\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tremoveHoverStyle: function(element) {\r\n\t\thelpers$1.merge(element._model, element.$previousStyle || {});\r\n\t\tdelete element.$previousStyle;\r\n\t},\r\n\r\n\tsetHoverStyle: function(element) {\r\n\t\tvar dataset = this.chart.data.datasets[element._datasetIndex];\r\n\t\tvar index = element._index;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar model = element._model;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\telement.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = resolve([custom.hoverBackgroundColor, dataset.hoverBackgroundColor, getHoverColor(model.backgroundColor)], undefined, index);\r\n\t\tmodel.borderColor = resolve([custom.hoverBorderColor, dataset.hoverBorderColor, getHoverColor(model.borderColor)], undefined, index);\r\n\t\tmodel.borderWidth = resolve([custom.hoverBorderWidth, dataset.hoverBorderWidth, model.borderWidth], undefined, index);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_removeDatasetHoverStyle: function() {\r\n\t\tvar element = this.getMeta().dataset;\r\n\r\n\t\tif (element) {\r\n\t\t\tthis.removeHoverStyle(element);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_setDatasetHoverStyle: function() {\r\n\t\tvar element = this.getMeta().dataset;\r\n\t\tvar prev = {};\r\n\t\tvar i, ilen, key, keys, hoverOptions, model;\r\n\r\n\t\tif (!element) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmodel = element._model;\r\n\t\thoverOptions = this._resolveDatasetElementOptions(element, true);\r\n\r\n\t\tkeys = Object.keys(hoverOptions);\r\n\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\t\tkey = keys[i];\r\n\t\t\tprev[key] = model[key];\r\n\t\t\tmodel[key] = hoverOptions[key];\r\n\t\t}\r\n\r\n\t\telement.$previousStyle = prev;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tresyncElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar data = me.getDataset().data;\r\n\t\tvar numMeta = meta.data.length;\r\n\t\tvar numData = data.length;\r\n\r\n\t\tif (numData < numMeta) {\r\n\t\t\tmeta.data.splice(numData, numMeta - numData);\r\n\t\t} else if (numData > numMeta) {\r\n\t\t\tme.insertElements(numMeta, numData - numMeta);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tinsertElements: function(start, count) {\r\n\t\tfor (var i = 0; i < count; ++i) {\r\n\t\t\tthis.addElementAndReset(start + i);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataPush: function() {\r\n\t\tvar count = arguments.length;\r\n\t\tthis.insertElements(this.getDataset().data.length - count, count);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataPop: function() {\r\n\t\tthis.getMeta().data.pop();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataShift: function() {\r\n\t\tthis.getMeta().data.shift();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataSplice: function(start, count) {\r\n\t\tthis.getMeta().data.splice(start, count);\r\n\t\tthis.insertElements(start, arguments.length - 2);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataUnshift: function() {\r\n\t\tthis.insertElements(0, arguments.length);\r\n\t}\r\n});\r\n\r\nDatasetController.extend = helpers$1.inherits;\r\n\r\nvar core_datasetController = DatasetController;\n\nvar TAU = Math.PI * 2;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tarc: {\r\n\t\t\tbackgroundColor: core_defaults.global.defaultColor,\r\n\t\t\tborderColor: '#fff',\r\n\t\t\tborderWidth: 2,\r\n\t\t\tborderAlign: 'center'\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction clipArc(ctx, arc) {\r\n\tvar startAngle = arc.startAngle;\r\n\tvar endAngle = arc.endAngle;\r\n\tvar pixelMargin = arc.pixelMargin;\r\n\tvar angleMargin = pixelMargin / arc.outerRadius;\r\n\tvar x = arc.x;\r\n\tvar y = arc.y;\r\n\r\n\t// Draw an inner border by cliping the arc and drawing a double-width border\r\n\t// Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\r\n\tctx.beginPath();\r\n\tctx.arc(x, y, arc.outerRadius, startAngle - angleMargin, endAngle + angleMargin);\r\n\tif (arc.innerRadius > pixelMargin) {\r\n\t\tangleMargin = pixelMargin / arc.innerRadius;\r\n\t\tctx.arc(x, y, arc.innerRadius - pixelMargin, endAngle + angleMargin, startAngle - angleMargin, true);\r\n\t} else {\r\n\t\tctx.arc(x, y, pixelMargin, endAngle + Math.PI / 2, startAngle - Math.PI / 2);\r\n\t}\r\n\tctx.closePath();\r\n\tctx.clip();\r\n}\r\n\r\nfunction drawFullCircleBorders(ctx, vm, arc, inner) {\r\n\tvar endAngle = arc.endAngle;\r\n\tvar i;\r\n\r\n\tif (inner) {\r\n\t\tarc.endAngle = arc.startAngle + TAU;\r\n\t\tclipArc(ctx, arc);\r\n\t\tarc.endAngle = endAngle;\r\n\t\tif (arc.endAngle === arc.startAngle && arc.fullCircles) {\r\n\t\t\tarc.endAngle += TAU;\r\n\t\t\tarc.fullCircles--;\r\n\t\t}\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.startAngle + TAU, arc.startAngle, true);\r\n\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, vm.outerRadius, arc.startAngle, arc.startAngle + TAU);\r\n\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\tctx.stroke();\r\n\t}\r\n}\r\n\r\nfunction drawBorder(ctx, vm, arc) {\r\n\tvar inner = vm.borderAlign === 'inner';\r\n\r\n\tif (inner) {\r\n\t\tctx.lineWidth = vm.borderWidth * 2;\r\n\t\tctx.lineJoin = 'round';\r\n\t} else {\r\n\t\tctx.lineWidth = vm.borderWidth;\r\n\t\tctx.lineJoin = 'bevel';\r\n\t}\r\n\r\n\tif (arc.fullCircles) {\r\n\t\tdrawFullCircleBorders(ctx, vm, arc, inner);\r\n\t}\r\n\r\n\tif (inner) {\r\n\t\tclipArc(ctx, arc);\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, vm.outerRadius, arc.startAngle, arc.endAngle);\r\n\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\tctx.closePath();\r\n\tctx.stroke();\r\n}\r\n\r\nvar element_arc = core_element.extend({\r\n\t_type: 'arc',\r\n\r\n\tinLabelRange: function(mouseX) {\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm) {\r\n\t\t\treturn (Math.pow(mouseX - vm.x, 2) < Math.pow(vm.radius + vm.hoverRadius, 2));\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tinRange: function(chartX, chartY) {\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm) {\r\n\t\t\tvar pointRelativePosition = helpers$1.getAngleFromPoint(vm, {x: chartX, y: chartY});\r\n\t\t\tvar angle = pointRelativePosition.angle;\r\n\t\t\tvar distance = pointRelativePosition.distance;\r\n\r\n\t\t\t// Sanitise angle range\r\n\t\t\tvar startAngle = vm.startAngle;\r\n\t\t\tvar endAngle = vm.endAngle;\r\n\t\t\twhile (endAngle < startAngle) {\r\n\t\t\t\tendAngle += TAU;\r\n\t\t\t}\r\n\t\t\twhile (angle > endAngle) {\r\n\t\t\t\tangle -= TAU;\r\n\t\t\t}\r\n\t\t\twhile (angle < startAngle) {\r\n\t\t\t\tangle += TAU;\r\n\t\t\t}\r\n\r\n\t\t\t// Check if within the range of the open/close angle\r\n\t\t\tvar betweenAngles = (angle >= startAngle && angle <= endAngle);\r\n\t\t\tvar withinRadius = (distance >= vm.innerRadius && distance <= vm.outerRadius);\r\n\r\n\t\t\treturn (betweenAngles && withinRadius);\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar halfAngle = (vm.startAngle + vm.endAngle) / 2;\r\n\t\tvar halfRadius = (vm.innerRadius + vm.outerRadius) / 2;\r\n\t\treturn {\r\n\t\t\tx: vm.x + Math.cos(halfAngle) * halfRadius,\r\n\t\t\ty: vm.y + Math.sin(halfAngle) * halfRadius\r\n\t\t};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn Math.PI * ((vm.endAngle - vm.startAngle) / (2 * Math.PI)) * (Math.pow(vm.outerRadius, 2) - Math.pow(vm.innerRadius, 2));\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar centreAngle = vm.startAngle + ((vm.endAngle - vm.startAngle) / 2);\r\n\t\tvar rangeFromCentre = (vm.outerRadius - vm.innerRadius) / 2 + vm.innerRadius;\r\n\r\n\t\treturn {\r\n\t\t\tx: vm.x + (Math.cos(centreAngle) * rangeFromCentre),\r\n\t\t\ty: vm.y + (Math.sin(centreAngle) * rangeFromCentre)\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar pixelMargin = (vm.borderAlign === 'inner') ? 0.33 : 0;\r\n\t\tvar arc = {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y,\r\n\t\t\tinnerRadius: vm.innerRadius,\r\n\t\t\touterRadius: Math.max(vm.outerRadius - pixelMargin, 0),\r\n\t\t\tpixelMargin: pixelMargin,\r\n\t\t\tstartAngle: vm.startAngle,\r\n\t\t\tendAngle: vm.endAngle,\r\n\t\t\tfullCircles: Math.floor(vm.circumference / TAU)\r\n\t\t};\r\n\t\tvar i;\r\n\r\n\t\tctx.save();\r\n\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.strokeStyle = vm.borderColor;\r\n\r\n\t\tif (arc.fullCircles) {\r\n\t\t\tarc.endAngle = arc.startAngle + TAU;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.arc(arc.x, arc.y, arc.outerRadius, arc.startAngle, arc.endAngle);\r\n\t\t\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\t\t\tctx.closePath();\r\n\t\t\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\t\t\tctx.fill();\r\n\t\t\t}\r\n\t\t\tarc.endAngle = arc.startAngle + vm.circumference % TAU;\r\n\t\t}\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(arc.x, arc.y, arc.outerRadius, arc.startAngle, arc.endAngle);\r\n\t\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\r\n\t\tif (vm.borderWidth) {\r\n\t\t\tdrawBorder(ctx, vm, arc);\r\n\t\t}\r\n\r\n\t\tctx.restore();\r\n\t}\r\n});\n\nvar valueOrDefault$1 = helpers$1.valueOrDefault;\r\n\r\nvar defaultColor = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tline: {\r\n\t\t\ttension: 0.4,\r\n\t\t\tbackgroundColor: defaultColor,\r\n\t\t\tborderWidth: 3,\r\n\t\t\tborderColor: defaultColor,\r\n\t\t\tborderCapStyle: 'butt',\r\n\t\t\tborderDash: [],\r\n\t\t\tborderDashOffset: 0.0,\r\n\t\t\tborderJoinStyle: 'miter',\r\n\t\t\tcapBezierPoints: true,\r\n\t\t\tfill: true, // do we fill in the area between the line and its base axis\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar element_line = core_element.extend({\r\n\t_type: 'line',\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar vm = me._view;\r\n\t\tvar ctx = me._chart.ctx;\r\n\t\tvar spanGaps = vm.spanGaps;\r\n\t\tvar points = me._children.slice(); // clone array\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar globalOptionLineElements = globalDefaults.elements.line;\r\n\t\tvar lastDrawnIndex = -1;\r\n\t\tvar closePath = me._loop;\r\n\t\tvar index, previous, currentVM;\r\n\r\n\t\tif (!points.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (me._loop) {\r\n\t\t\tfor (index = 0; index < points.length; ++index) {\r\n\t\t\t\tprevious = helpers$1.previousItem(points, index);\r\n\t\t\t\t// If the line has an open path, shift the point array\r\n\t\t\t\tif (!points[index]._view.skip && previous._view.skip) {\r\n\t\t\t\t\tpoints = points.slice(index).concat(points.slice(0, index));\r\n\t\t\t\t\tclosePath = spanGaps;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// If the line has a close path, add the first point again\r\n\t\t\tif (closePath) {\r\n\t\t\t\tpoints.push(points[0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\r\n\t\t// Stroke Line Options\r\n\t\tctx.lineCap = vm.borderCapStyle || globalOptionLineElements.borderCapStyle;\r\n\r\n\t\t// IE 9 and 10 do not support line dash\r\n\t\tif (ctx.setLineDash) {\r\n\t\t\tctx.setLineDash(vm.borderDash || globalOptionLineElements.borderDash);\r\n\t\t}\r\n\r\n\t\tctx.lineDashOffset = valueOrDefault$1(vm.borderDashOffset, globalOptionLineElements.borderDashOffset);\r\n\t\tctx.lineJoin = vm.borderJoinStyle || globalOptionLineElements.borderJoinStyle;\r\n\t\tctx.lineWidth = valueOrDefault$1(vm.borderWidth, globalOptionLineElements.borderWidth);\r\n\t\tctx.strokeStyle = vm.borderColor || globalDefaults.defaultColor;\r\n\r\n\t\t// Stroke Line\r\n\t\tctx.beginPath();\r\n\r\n\t\t// First point moves to it's starting position no matter what\r\n\t\tcurrentVM = points[0]._view;\r\n\t\tif (!currentVM.skip) {\r\n\t\t\tctx.moveTo(currentVM.x, currentVM.y);\r\n\t\t\tlastDrawnIndex = 0;\r\n\t\t}\r\n\r\n\t\tfor (index = 1; index < points.length; ++index) {\r\n\t\t\tcurrentVM = points[index]._view;\r\n\t\t\tprevious = lastDrawnIndex === -1 ? helpers$1.previousItem(points, index) : points[lastDrawnIndex];\r\n\r\n\t\t\tif (!currentVM.skip) {\r\n\t\t\t\tif ((lastDrawnIndex !== (index - 1) && !spanGaps) || lastDrawnIndex === -1) {\r\n\t\t\t\t\t// There was a gap and this is the first point after the gap\r\n\t\t\t\t\tctx.moveTo(currentVM.x, currentVM.y);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Line to next point\r\n\t\t\t\t\thelpers$1.canvas.lineTo(ctx, previous._view, currentVM);\r\n\t\t\t\t}\r\n\t\t\t\tlastDrawnIndex = index;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (closePath) {\r\n\t\t\tctx.closePath();\r\n\t\t}\r\n\r\n\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\t}\r\n});\n\nvar valueOrDefault$2 = helpers$1.valueOrDefault;\r\n\r\nvar defaultColor$1 = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tpoint: {\r\n\t\t\tradius: 3,\r\n\t\t\tpointStyle: 'circle',\r\n\t\t\tbackgroundColor: defaultColor$1,\r\n\t\t\tborderColor: defaultColor$1,\r\n\t\t\tborderWidth: 1,\r\n\t\t\t// Hover\r\n\t\t\thitRadius: 1,\r\n\t\t\thoverRadius: 4,\r\n\t\t\thoverBorderWidth: 1\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction xRange(mouseX) {\r\n\tvar vm = this._view;\r\n\treturn vm ? (Math.abs(mouseX - vm.x) < vm.radius + vm.hitRadius) : false;\r\n}\r\n\r\nfunction yRange(mouseY) {\r\n\tvar vm = this._view;\r\n\treturn vm ? (Math.abs(mouseY - vm.y) < vm.radius + vm.hitRadius) : false;\r\n}\r\n\r\nvar element_point = core_element.extend({\r\n\t_type: 'point',\r\n\r\n\tinRange: function(mouseX, mouseY) {\r\n\t\tvar vm = this._view;\r\n\t\treturn vm ? ((Math.pow(mouseX - vm.x, 2) + Math.pow(mouseY - vm.y, 2)) < Math.pow(vm.hitRadius + vm.radius, 2)) : false;\r\n\t},\r\n\r\n\tinLabelRange: xRange,\r\n\tinXRange: xRange,\r\n\tinYRange: yRange,\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\treturn Math.PI * Math.pow(this._view.radius, 2);\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y,\r\n\t\t\tpadding: vm.radius + vm.borderWidth\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function(chartArea) {\r\n\t\tvar vm = this._view;\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar pointStyle = vm.pointStyle;\r\n\t\tvar rotation = vm.rotation;\r\n\t\tvar radius = vm.radius;\r\n\t\tvar x = vm.x;\r\n\t\tvar y = vm.y;\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar defaultColor = globalDefaults.defaultColor; // eslint-disable-line no-shadow\r\n\r\n\t\tif (vm.skip) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Clipping for Points.\r\n\t\tif (chartArea === undefined || helpers$1.canvas._isPointInArea(vm, chartArea)) {\r\n\t\t\tctx.strokeStyle = vm.borderColor || defaultColor;\r\n\t\t\tctx.lineWidth = valueOrDefault$2(vm.borderWidth, globalDefaults.elements.point.borderWidth);\r\n\t\t\tctx.fillStyle = vm.backgroundColor || defaultColor;\r\n\t\t\thelpers$1.canvas.drawPoint(ctx, pointStyle, radius, x, y, rotation);\r\n\t\t}\r\n\t}\r\n});\n\nvar defaultColor$2 = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\trectangle: {\r\n\t\t\tbackgroundColor: defaultColor$2,\r\n\t\t\tborderColor: defaultColor$2,\r\n\t\t\tborderSkipped: 'bottom',\r\n\t\t\tborderWidth: 0\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction isVertical(vm) {\r\n\treturn vm && vm.width !== undefined;\r\n}\r\n\r\n/**\r\n * Helper function to get the bounds of the bar regardless of the orientation\r\n * @param bar {Chart.Element.Rectangle} the bar\r\n * @return {Bounds} bounds of the bar\r\n * @private\r\n */\r\nfunction getBarBounds(vm) {\r\n\tvar x1, x2, y1, y2, half;\r\n\r\n\tif (isVertical(vm)) {\r\n\t\thalf = vm.width / 2;\r\n\t\tx1 = vm.x - half;\r\n\t\tx2 = vm.x + half;\r\n\t\ty1 = Math.min(vm.y, vm.base);\r\n\t\ty2 = Math.max(vm.y, vm.base);\r\n\t} else {\r\n\t\thalf = vm.height / 2;\r\n\t\tx1 = Math.min(vm.x, vm.base);\r\n\t\tx2 = Math.max(vm.x, vm.base);\r\n\t\ty1 = vm.y - half;\r\n\t\ty2 = vm.y + half;\r\n\t}\r\n\r\n\treturn {\r\n\t\tleft: x1,\r\n\t\ttop: y1,\r\n\t\tright: x2,\r\n\t\tbottom: y2\r\n\t};\r\n}\r\n\r\nfunction swap(orig, v1, v2) {\r\n\treturn orig === v1 ? v2 : orig === v2 ? v1 : orig;\r\n}\r\n\r\nfunction parseBorderSkipped(vm) {\r\n\tvar edge = vm.borderSkipped;\r\n\tvar res = {};\r\n\r\n\tif (!edge) {\r\n\t\treturn res;\r\n\t}\r\n\r\n\tif (vm.horizontal) {\r\n\t\tif (vm.base > vm.x) {\r\n\t\t\tedge = swap(edge, 'left', 'right');\r\n\t\t}\r\n\t} else if (vm.base < vm.y) {\r\n\t\tedge = swap(edge, 'bottom', 'top');\r\n\t}\r\n\r\n\tres[edge] = true;\r\n\treturn res;\r\n}\r\n\r\nfunction parseBorderWidth(vm, maxW, maxH) {\r\n\tvar value = vm.borderWidth;\r\n\tvar skip = parseBorderSkipped(vm);\r\n\tvar t, r, b, l;\r\n\r\n\tif (helpers$1.isObject(value)) {\r\n\t\tt = +value.top || 0;\r\n\t\tr = +value.right || 0;\r\n\t\tb = +value.bottom || 0;\r\n\t\tl = +value.left || 0;\r\n\t} else {\r\n\t\tt = r = b = l = +value || 0;\r\n\t}\r\n\r\n\treturn {\r\n\t\tt: skip.top || (t < 0) ? 0 : t > maxH ? maxH : t,\r\n\t\tr: skip.right || (r < 0) ? 0 : r > maxW ? maxW : r,\r\n\t\tb: skip.bottom || (b < 0) ? 0 : b > maxH ? maxH : b,\r\n\t\tl: skip.left || (l < 0) ? 0 : l > maxW ? maxW : l\r\n\t};\r\n}\r\n\r\nfunction boundingRects(vm) {\r\n\tvar bounds = getBarBounds(vm);\r\n\tvar width = bounds.right - bounds.left;\r\n\tvar height = bounds.bottom - bounds.top;\r\n\tvar border = parseBorderWidth(vm, width / 2, height / 2);\r\n\r\n\treturn {\r\n\t\touter: {\r\n\t\t\tx: bounds.left,\r\n\t\t\ty: bounds.top,\r\n\t\t\tw: width,\r\n\t\t\th: height\r\n\t\t},\r\n\t\tinner: {\r\n\t\t\tx: bounds.left + border.l,\r\n\t\t\ty: bounds.top + border.t,\r\n\t\t\tw: width - border.l - border.r,\r\n\t\t\th: height - border.t - border.b\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction inRange(vm, x, y) {\r\n\tvar skipX = x === null;\r\n\tvar skipY = y === null;\r\n\tvar bounds = !vm || (skipX && skipY) ? false : getBarBounds(vm);\r\n\r\n\treturn bounds\r\n\t\t&& (skipX || x >= bounds.left && x <= bounds.right)\r\n\t\t&& (skipY || y >= bounds.top && y <= bounds.bottom);\r\n}\r\n\r\nvar element_rectangle = core_element.extend({\r\n\t_type: 'rectangle',\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar rects = boundingRects(vm);\r\n\t\tvar outer = rects.outer;\r\n\t\tvar inner = rects.inner;\r\n\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.fillRect(outer.x, outer.y, outer.w, outer.h);\r\n\r\n\t\tif (outer.w === inner.w && outer.h === inner.h) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(outer.x, outer.y, outer.w, outer.h);\r\n\t\tctx.clip();\r\n\t\tctx.fillStyle = vm.borderColor;\r\n\t\tctx.rect(inner.x, inner.y, inner.w, inner.h);\r\n\t\tctx.fill('evenodd');\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\theight: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn vm.base - vm.y;\r\n\t},\r\n\r\n\tinRange: function(mouseX, mouseY) {\r\n\t\treturn inRange(this._view, mouseX, mouseY);\r\n\t},\r\n\r\n\tinLabelRange: function(mouseX, mouseY) {\r\n\t\tvar vm = this._view;\r\n\t\treturn isVertical(vm)\r\n\t\t\t? inRange(vm, mouseX, null)\r\n\t\t\t: inRange(vm, null, mouseY);\r\n\t},\r\n\r\n\tinXRange: function(mouseX) {\r\n\t\treturn inRange(this._view, mouseX, null);\r\n\t},\r\n\r\n\tinYRange: function(mouseY) {\r\n\t\treturn inRange(this._view, null, mouseY);\r\n\t},\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar x, y;\r\n\t\tif (isVertical(vm)) {\r\n\t\t\tx = vm.x;\r\n\t\t\ty = (vm.y + vm.base) / 2;\r\n\t\t} else {\r\n\t\t\tx = (vm.x + vm.base) / 2;\r\n\t\t\ty = vm.y;\r\n\t\t}\r\n\r\n\t\treturn {x: x, y: y};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\tvar vm = this._view;\r\n\r\n\t\treturn isVertical(vm)\r\n\t\t\t? vm.width * Math.abs(vm.y - vm.base)\r\n\t\t\t: vm.height * Math.abs(vm.x - vm.base);\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\t}\r\n});\n\nvar elements = {};\r\nvar Arc = element_arc;\r\nvar Line = element_line;\r\nvar Point = element_point;\r\nvar Rectangle = element_rectangle;\nelements.Arc = Arc;\nelements.Line = Line;\nelements.Point = Point;\nelements.Rectangle = Rectangle;\n\nvar deprecated = helpers$1._deprecated;\r\nvar valueOrDefault$3 = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('bar', {\r\n\thover: {\r\n\t\tmode: 'label'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\toffset: true,\r\n\t\t\tgridLines: {\r\n\t\t\t\toffsetGridLines: true\r\n\t\t\t}\r\n\t\t}],\r\n\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear'\r\n\t\t}]\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\tbar: {\r\n\t\t\tcategoryPercentage: 0.8,\r\n\t\t\tbarPercentage: 0.9\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/**\r\n * Computes the \"optimal\" sample size to maintain bars equally sized while preventing overlap.\r\n * @private\r\n */\r\nfunction computeMinSampleSize(scale, pixels) {\r\n\tvar min = scale._length;\r\n\tvar prev, curr, i, ilen;\r\n\r\n\tfor (i = 1, ilen = pixels.length; i < ilen; ++i) {\r\n\t\tmin = Math.min(min, Math.abs(pixels[i] - pixels[i - 1]));\r\n\t}\r\n\r\n\tfor (i = 0, ilen = scale.getTicks().length; i < ilen; ++i) {\r\n\t\tcurr = scale.getPixelForTick(i);\r\n\t\tmin = i > 0 ? Math.min(min, Math.abs(curr - prev)) : min;\r\n\t\tprev = curr;\r\n\t}\r\n\r\n\treturn min;\r\n}\r\n\r\n/**\r\n * Computes an \"ideal\" category based on the absolute bar thickness or, if undefined or null,\r\n * uses the smallest interval (see computeMinSampleSize) that prevents bar overlapping. This\r\n * mode currently always generates bars equally sized (until we introduce scriptable options?).\r\n * @private\r\n */\r\nfunction computeFitCategoryTraits(index, ruler, options) {\r\n\tvar thickness = options.barThickness;\r\n\tvar count = ruler.stackCount;\r\n\tvar curr = ruler.pixels[index];\r\n\tvar min = helpers$1.isNullOrUndef(thickness)\r\n\t\t? computeMinSampleSize(ruler.scale, ruler.pixels)\r\n\t\t: -1;\r\n\tvar size, ratio;\r\n\r\n\tif (helpers$1.isNullOrUndef(thickness)) {\r\n\t\tsize = min * options.categoryPercentage;\r\n\t\tratio = options.barPercentage;\r\n\t} else {\r\n\t\t// When bar thickness is enforced, category and bar percentages are ignored.\r\n\t\t// Note(SB): we could add support for relative bar thickness (e.g. barThickness: '50%')\r\n\t\t// and deprecate barPercentage since this value is ignored when thickness is absolute.\r\n\t\tsize = thickness * count;\r\n\t\tratio = 1;\r\n\t}\r\n\r\n\treturn {\r\n\t\tchunk: size / count,\r\n\t\tratio: ratio,\r\n\t\tstart: curr - (size / 2)\r\n\t};\r\n}\r\n\r\n/**\r\n * Computes an \"optimal\" category that globally arranges bars side by side (no gap when\r\n * percentage options are 1), based on the previous and following categories. This mode\r\n * generates bars with different widths when data are not evenly spaced.\r\n * @private\r\n */\r\nfunction computeFlexCategoryTraits(index, ruler, options) {\r\n\tvar pixels = ruler.pixels;\r\n\tvar curr = pixels[index];\r\n\tvar prev = index > 0 ? pixels[index - 1] : null;\r\n\tvar next = index < pixels.length - 1 ? pixels[index + 1] : null;\r\n\tvar percent = options.categoryPercentage;\r\n\tvar start, size;\r\n\r\n\tif (prev === null) {\r\n\t\t// first data: its size is double based on the next point or,\r\n\t\t// if it's also the last data, we use the scale size.\r\n\t\tprev = curr - (next === null ? ruler.end - ruler.start : next - curr);\r\n\t}\r\n\r\n\tif (next === null) {\r\n\t\t// last data: its size is also double based on the previous point.\r\n\t\tnext = curr + curr - prev;\r\n\t}\r\n\r\n\tstart = curr - (curr - Math.min(prev, next)) / 2 * percent;\r\n\tsize = Math.abs(next - prev) / 2 * percent;\r\n\r\n\treturn {\r\n\t\tchunk: size / ruler.stackCount,\r\n\t\tratio: options.barPercentage,\r\n\t\tstart: start\r\n\t};\r\n}\r\n\r\nvar controller_bar = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Rectangle,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderSkipped',\r\n\t\t'borderWidth',\r\n\t\t'barPercentage',\r\n\t\t'barThickness',\r\n\t\t'categoryPercentage',\r\n\t\t'maxBarThickness',\r\n\t\t'minBarLength'\r\n\t],\r\n\r\n\tinitialize: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta, scaleOpts;\r\n\r\n\t\tcore_datasetController.prototype.initialize.apply(me, arguments);\r\n\r\n\t\tmeta = me.getMeta();\r\n\t\tmeta.stack = me.getDataset().stack;\r\n\t\tmeta.bar = true;\r\n\r\n\t\tscaleOpts = me._getIndexScale().options;\r\n\t\tdeprecated('bar chart', scaleOpts.barPercentage, 'scales.[x/y]Axes.barPercentage', 'dataset.barPercentage');\r\n\t\tdeprecated('bar chart', scaleOpts.barThickness, 'scales.[x/y]Axes.barThickness', 'dataset.barThickness');\r\n\t\tdeprecated('bar chart', scaleOpts.categoryPercentage, 'scales.[x/y]Axes.categoryPercentage', 'dataset.categoryPercentage');\r\n\t\tdeprecated('bar chart', me._getValueScale().options.minBarLength, 'scales.[x/y]Axes.minBarLength', 'dataset.minBarLength');\r\n\t\tdeprecated('bar chart', scaleOpts.maxBarThickness, 'scales.[x/y]Axes.maxBarThickness', 'dataset.maxBarThickness');\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar rects = me.getMeta().data;\r\n\t\tvar i, ilen;\r\n\r\n\t\tme._ruler = me.getRuler();\r\n\r\n\t\tfor (i = 0, ilen = rects.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(rects[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(rectangle, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar options = me._resolveDataElementOptions(rectangle, index);\r\n\r\n\t\trectangle._xScale = me.getScaleForId(meta.xAxisID);\r\n\t\trectangle._yScale = me.getScaleForId(meta.yAxisID);\r\n\t\trectangle._datasetIndex = me.index;\r\n\t\trectangle._index = index;\r\n\t\trectangle._model = {\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderSkipped: options.borderSkipped,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\tdatasetLabel: dataset.label,\r\n\t\t\tlabel: me.chart.data.labels[index]\r\n\t\t};\r\n\r\n\t\tif (helpers$1.isArray(dataset.data[index])) {\r\n\t\t\trectangle._model.borderSkipped = null;\r\n\t\t}\r\n\r\n\t\tme._updateElementGeometry(rectangle, index, reset, options);\r\n\r\n\t\trectangle.pivot();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_updateElementGeometry: function(rectangle, index, reset, options) {\r\n\t\tvar me = this;\r\n\t\tvar model = rectangle._model;\r\n\t\tvar vscale = me._getValueScale();\r\n\t\tvar base = vscale.getBasePixel();\r\n\t\tvar horizontal = vscale.isHorizontal();\r\n\t\tvar ruler = me._ruler || me.getRuler();\r\n\t\tvar vpixels = me.calculateBarValuePixels(me.index, index, options);\r\n\t\tvar ipixels = me.calculateBarIndexPixels(me.index, index, ruler, options);\r\n\r\n\t\tmodel.horizontal = horizontal;\r\n\t\tmodel.base = reset ? base : vpixels.base;\r\n\t\tmodel.x = horizontal ? reset ? base : vpixels.head : ipixels.center;\r\n\t\tmodel.y = horizontal ? ipixels.center : reset ? base : vpixels.head;\r\n\t\tmodel.height = horizontal ? ipixels.size : undefined;\r\n\t\tmodel.width = horizontal ? undefined : ipixels.size;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the stacks based on groups and bar visibility.\r\n\t * @param {number} [last] - The dataset index\r\n\t * @returns {string[]} The list of stack IDs\r\n\t * @private\r\n\t */\r\n\t_getStacks: function(last) {\r\n\t\tvar me = this;\r\n\t\tvar scale = me._getIndexScale();\r\n\t\tvar metasets = scale._getMatchingVisibleMetas(me._type);\r\n\t\tvar stacked = scale.options.stacked;\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar stacks = [];\r\n\t\tvar i, meta;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tmeta = metasets[i];\r\n\t\t\t// stacked   | meta.stack\r\n\t\t\t//           | found | not found | undefined\r\n\t\t\t// false     |   x   |     x     |     x\r\n\t\t\t// true      |       |     x     |\r\n\t\t\t// undefined |       |     x     |     x\r\n\t\t\tif (stacked === false || stacks.indexOf(meta.stack) === -1 ||\r\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\r\n\t\t\t\tstacks.push(meta.stack);\r\n\t\t\t}\r\n\t\t\tif (meta.index === last) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn stacks;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the effective number of stacks based on groups and bar visibility.\r\n\t * @private\r\n\t */\r\n\tgetStackCount: function() {\r\n\t\treturn this._getStacks().length;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the stack index for the given dataset based on groups and bar visibility.\r\n\t * @param {number} [datasetIndex] - The dataset index\r\n\t * @param {string} [name] - The stack name to find\r\n\t * @returns {number} The stack index\r\n\t * @private\r\n\t */\r\n\tgetStackIndex: function(datasetIndex, name) {\r\n\t\tvar stacks = this._getStacks(datasetIndex);\r\n\t\tvar index = (name !== undefined)\r\n\t\t\t? stacks.indexOf(name)\r\n\t\t\t: -1; // indexOf returns -1 if element is not present\r\n\r\n\t\treturn (index === -1)\r\n\t\t\t? stacks.length - 1\r\n\t\t\t: index;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tgetRuler: function() {\r\n\t\tvar me = this;\r\n\t\tvar scale = me._getIndexScale();\r\n\t\tvar pixels = [];\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = me.getMeta().data.length; i < ilen; ++i) {\r\n\t\t\tpixels.push(scale.getPixelForValue(null, i, me.index));\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tpixels: pixels,\r\n\t\t\tstart: scale._startPixel,\r\n\t\t\tend: scale._endPixel,\r\n\t\t\tstackCount: me.getStackCount(),\r\n\t\t\tscale: scale\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Note: pixel values are not clamped to the scale area.\r\n\t * @private\r\n\t */\r\n\tcalculateBarValuePixels: function(datasetIndex, index, options) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar scale = me._getValueScale();\r\n\t\tvar isHorizontal = scale.isHorizontal();\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar metasets = scale._getMatchingVisibleMetas(me._type);\r\n\t\tvar value = scale._parseValue(datasets[datasetIndex].data[index]);\r\n\t\tvar minBarLength = options.minBarLength;\r\n\t\tvar stacked = scale.options.stacked;\r\n\t\tvar stack = me.getMeta().stack;\r\n\t\tvar start = value.start === undefined ? 0 : value.max >= 0 && value.min >= 0 ? value.min : value.max;\r\n\t\tvar length = value.start === undefined ? value.end : value.max >= 0 && value.min >= 0 ? value.max - value.min : value.min - value.max;\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar i, imeta, ivalue, base, head, size, stackLength;\r\n\r\n\t\tif (stacked || (stacked === undefined && stack !== undefined)) {\r\n\t\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\t\timeta = metasets[i];\r\n\r\n\t\t\t\tif (imeta.index === datasetIndex) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (imeta.stack === stack) {\r\n\t\t\t\t\tstackLength = scale._parseValue(datasets[imeta.index].data[index]);\r\n\t\t\t\t\tivalue = stackLength.start === undefined ? stackLength.end : stackLength.min >= 0 && stackLength.max >= 0 ? stackLength.max : stackLength.min;\r\n\r\n\t\t\t\t\tif ((value.min < 0 && ivalue < 0) || (value.max >= 0 && ivalue > 0)) {\r\n\t\t\t\t\t\tstart += ivalue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbase = scale.getPixelForValue(start);\r\n\t\thead = scale.getPixelForValue(start + length);\r\n\t\tsize = head - base;\r\n\r\n\t\tif (minBarLength !== undefined && Math.abs(size) < minBarLength) {\r\n\t\t\tsize = minBarLength;\r\n\t\t\tif (length >= 0 && !isHorizontal || length < 0 && isHorizontal) {\r\n\t\t\t\thead = base - minBarLength;\r\n\t\t\t} else {\r\n\t\t\t\thead = base + minBarLength;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tsize: size,\r\n\t\t\tbase: base,\r\n\t\t\thead: head,\r\n\t\t\tcenter: head + size / 2\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tcalculateBarIndexPixels: function(datasetIndex, index, ruler, options) {\r\n\t\tvar me = this;\r\n\t\tvar range = options.barThickness === 'flex'\r\n\t\t\t? computeFlexCategoryTraits(index, ruler, options)\r\n\t\t\t: computeFitCategoryTraits(index, ruler, options);\r\n\r\n\t\tvar stackIndex = me.getStackIndex(datasetIndex, me.getMeta().stack);\r\n\t\tvar center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\r\n\t\tvar size = Math.min(\r\n\t\t\tvalueOrDefault$3(options.maxBarThickness, Infinity),\r\n\t\t\trange.chunk * range.ratio);\r\n\r\n\t\treturn {\r\n\t\t\tbase: center - size / 2,\r\n\t\t\thead: center + size / 2,\r\n\t\t\tcenter: center,\r\n\t\t\tsize: size\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar scale = me._getValueScale();\r\n\t\tvar rects = me.getMeta().data;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar ilen = rects.length;\r\n\t\tvar i = 0;\r\n\r\n\t\thelpers$1.canvas.clipArea(chart.ctx, chart.chartArea);\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\tvar val = scale._parseValue(dataset.data[i]);\r\n\t\t\tif (!isNaN(val.min) && !isNaN(val.max)) {\r\n\t\t\t\trects[i].draw();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thelpers$1.canvas.unclipArea(chart.ctx);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar values = helpers$1.extend({}, core_datasetController.prototype._resolveDataElementOptions.apply(me, arguments));\r\n\t\tvar indexOpts = me._getIndexScale().options;\r\n\t\tvar valueOpts = me._getValueScale().options;\r\n\r\n\t\tvalues.barPercentage = valueOrDefault$3(indexOpts.barPercentage, values.barPercentage);\r\n\t\tvalues.barThickness = valueOrDefault$3(indexOpts.barThickness, values.barThickness);\r\n\t\tvalues.categoryPercentage = valueOrDefault$3(indexOpts.categoryPercentage, values.categoryPercentage);\r\n\t\tvalues.maxBarThickness = valueOrDefault$3(indexOpts.maxBarThickness, values.maxBarThickness);\r\n\t\tvalues.minBarLength = valueOrDefault$3(valueOpts.minBarLength, values.minBarLength);\r\n\r\n\t\treturn values;\r\n\t}\r\n\r\n});\n\nvar valueOrDefault$4 = helpers$1.valueOrDefault;\r\nvar resolve$1 = helpers$1.options.resolve;\r\n\r\ncore_defaults._set('bubble', {\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'linear', // bubble should probably use a linear scale by default\r\n\t\t\tposition: 'bottom',\r\n\t\t\tid: 'x-axis-0' // need an ID so datasets can reference the scale\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'left',\r\n\t\t\tid: 'y-axis-0'\r\n\t\t}]\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\t// Title doesn't make sense for scatter since we format the data as a point\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(item, data) {\r\n\t\t\t\tvar datasetLabel = data.datasets[item.datasetIndex].label || '';\r\n\t\t\t\tvar dataPoint = data.datasets[item.datasetIndex].data[item.index];\r\n\t\t\t\treturn datasetLabel + ': (' + item.xLabel + ', ' + item.yLabel + ', ' + dataPoint.r + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_bubble = core_datasetController.extend({\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tdataElementType: elements.Point,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t\t'hoverRadius',\r\n\t\t'hitRadius',\r\n\t\t'pointStyle',\r\n\t\t'rotation'\r\n\t],\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar points = meta.data;\r\n\r\n\t\t// Update Points\r\n\t\thelpers$1.each(points, function(point, index) {\r\n\t\t\tme.updateElement(point, index, reset);\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar xScale = me.getScaleForId(meta.xAxisID);\r\n\t\tvar yScale = me.getScaleForId(meta.yAxisID);\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\t\tvar data = me.getDataset().data[index];\r\n\t\tvar dsIndex = me.index;\r\n\r\n\t\tvar x = reset ? xScale.getPixelForDecimal(0.5) : xScale.getPixelForValue(typeof data === 'object' ? data : NaN, index, dsIndex);\r\n\t\tvar y = reset ? yScale.getBasePixel() : yScale.getPixelForValue(data, index, dsIndex);\r\n\r\n\t\tpoint._xScale = xScale;\r\n\t\tpoint._yScale = yScale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = dsIndex;\r\n\t\tpoint._index = index;\r\n\t\tpoint._model = {\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\thitRadius: options.hitRadius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tradius: reset ? 0 : options.radius,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t};\r\n\r\n\t\tpoint.pivot();\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(point) {\r\n\t\tvar model = point._model;\r\n\t\tvar options = point._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tpoint.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t\tradius: model.radius\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$4(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$4(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$4(options.hoverBorderWidth, options.borderWidth);\r\n\t\tmodel.radius = options.radius + options.hoverRadius;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function(point, index) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar data = dataset.data[index] || {};\r\n\t\tvar values = core_datasetController.prototype._resolveDataElementOptions.apply(me, arguments);\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: dataset,\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\t// In case values were cached (and thus frozen), we need to clone the values\r\n\t\tif (me._cachedDataOpts === values) {\r\n\t\t\tvalues = helpers$1.extend({}, values);\r\n\t\t}\r\n\r\n\t\t// Custom radius resolution\r\n\t\tvalues.radius = resolve$1([\r\n\t\t\tcustom.radius,\r\n\t\t\tdata.r,\r\n\t\t\tme._config.radius,\r\n\t\t\tchart.options.elements.point.radius\r\n\t\t], context, index);\r\n\r\n\t\treturn values;\r\n\t}\r\n});\n\nvar valueOrDefault$5 = helpers$1.valueOrDefault;\r\n\r\nvar PI$1 = Math.PI;\r\nvar DOUBLE_PI$1 = PI$1 * 2;\r\nvar HALF_PI$1 = PI$1 / 2;\r\n\r\ncore_defaults._set('doughnut', {\r\n\tanimation: {\r\n\t\t// Boolean - Whether we animate the rotation of the Doughnut\r\n\t\tanimateRotate: true,\r\n\t\t// Boolean - Whether we animate scaling the Doughnut from the centre\r\n\t\tanimateScale: false\r\n\t},\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\tlegendCallback: function(chart) {\r\n\t\tvar list = document.createElement('ul');\r\n\t\tvar data = chart.data;\r\n\t\tvar datasets = data.datasets;\r\n\t\tvar labels = data.labels;\r\n\t\tvar i, ilen, listItem, listItemSpan;\r\n\r\n\t\tlist.setAttribute('class', chart.id + '-legend');\r\n\t\tif (datasets.length) {\r\n\t\t\tfor (i = 0, ilen = datasets[0].data.length; i < ilen; ++i) {\r\n\t\t\t\tlistItem = list.appendChild(document.createElement('li'));\r\n\t\t\t\tlistItemSpan = listItem.appendChild(document.createElement('span'));\r\n\t\t\t\tlistItemSpan.style.backgroundColor = datasets[0].backgroundColor[i];\r\n\t\t\t\tif (labels[i]) {\r\n\t\t\t\t\tlistItem.appendChild(document.createTextNode(labels[i]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list.outerHTML;\r\n\t},\r\n\tlegend: {\r\n\t\tlabels: {\r\n\t\t\tgenerateLabels: function(chart) {\r\n\t\t\t\tvar data = chart.data;\r\n\t\t\t\tif (data.labels.length && data.datasets.length) {\r\n\t\t\t\t\treturn data.labels.map(function(label, i) {\r\n\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\r\n\t\t\t\t\t\tvar style = meta.controller.getStyle(i);\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttext: label,\r\n\t\t\t\t\t\t\tfillStyle: style.backgroundColor,\r\n\t\t\t\t\t\t\tstrokeStyle: style.borderColor,\r\n\t\t\t\t\t\t\tlineWidth: style.borderWidth,\r\n\t\t\t\t\t\t\thidden: isNaN(data.datasets[0].data[i]) || meta.data[i].hidden,\r\n\r\n\t\t\t\t\t\t\t// Extra data used for toggling the correct item\r\n\t\t\t\t\t\t\tindex: i\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonClick: function(e, legendItem) {\r\n\t\t\tvar index = legendItem.index;\r\n\t\t\tvar chart = this.chart;\r\n\t\t\tvar i, ilen, meta;\r\n\r\n\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\t// toggle visibility of index if exists\r\n\t\t\t\tif (meta.data[index]) {\r\n\t\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tchart.update();\r\n\t\t}\r\n\t},\r\n\r\n\t// The percentage of the chart that we cut out of the middle.\r\n\tcutoutPercentage: 50,\r\n\r\n\t// The rotation of the chart, where the first data arc begins.\r\n\trotation: -HALF_PI$1,\r\n\r\n\t// The total circumference of the chart.\r\n\tcircumference: DOUBLE_PI$1,\r\n\r\n\t// Need to override these to give a nice default\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(tooltipItem, data) {\r\n\t\t\t\tvar dataLabel = data.labels[tooltipItem.index];\r\n\t\t\t\tvar value = ': ' + data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\r\n\r\n\t\t\t\tif (helpers$1.isArray(dataLabel)) {\r\n\t\t\t\t\t// show value on first line of multiline label\r\n\t\t\t\t\t// need to clone because we are changing the value\r\n\t\t\t\t\tdataLabel = dataLabel.slice();\r\n\t\t\t\t\tdataLabel[0] += value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdataLabel += value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn dataLabel;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_doughnut = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Arc,\r\n\r\n\tlinkScales: helpers$1.noop,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'borderAlign',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t],\r\n\r\n\t// Get index of the dataset in relation to the visible datasets. This allows determining the inner and outer radius correctly\r\n\tgetRingIndex: function(datasetIndex) {\r\n\t\tvar ringIndex = 0;\r\n\r\n\t\tfor (var j = 0; j < datasetIndex; ++j) {\r\n\t\t\tif (this.chart.isDatasetVisible(j)) {\r\n\t\t\t\t++ringIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ringIndex;\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar ratioX = 1;\r\n\t\tvar ratioY = 1;\r\n\t\tvar offsetX = 0;\r\n\t\tvar offsetY = 0;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar arcs = meta.data;\r\n\t\tvar cutout = opts.cutoutPercentage / 100 || 0;\r\n\t\tvar circumference = opts.circumference;\r\n\t\tvar chartWeight = me._getRingWeight(me.index);\r\n\t\tvar maxWidth, maxHeight, i, ilen;\r\n\r\n\t\t// If the chart's circumference isn't a full circle, calculate size as a ratio of the width/height of the arc\r\n\t\tif (circumference < DOUBLE_PI$1) {\r\n\t\t\tvar startAngle = opts.rotation % DOUBLE_PI$1;\r\n\t\t\tstartAngle += startAngle >= PI$1 ? -DOUBLE_PI$1 : startAngle < -PI$1 ? DOUBLE_PI$1 : 0;\r\n\t\t\tvar endAngle = startAngle + circumference;\r\n\t\t\tvar startX = Math.cos(startAngle);\r\n\t\t\tvar startY = Math.sin(startAngle);\r\n\t\t\tvar endX = Math.cos(endAngle);\r\n\t\t\tvar endY = Math.sin(endAngle);\r\n\t\t\tvar contains0 = (startAngle <= 0 && endAngle >= 0) || endAngle >= DOUBLE_PI$1;\r\n\t\t\tvar contains90 = (startAngle <= HALF_PI$1 && endAngle >= HALF_PI$1) || endAngle >= DOUBLE_PI$1 + HALF_PI$1;\r\n\t\t\tvar contains180 = startAngle === -PI$1 || endAngle >= PI$1;\r\n\t\t\tvar contains270 = (startAngle <= -HALF_PI$1 && endAngle >= -HALF_PI$1) || endAngle >= PI$1 + HALF_PI$1;\r\n\t\t\tvar minX = contains180 ? -1 : Math.min(startX, startX * cutout, endX, endX * cutout);\r\n\t\t\tvar minY = contains270 ? -1 : Math.min(startY, startY * cutout, endY, endY * cutout);\r\n\t\t\tvar maxX = contains0 ? 1 : Math.max(startX, startX * cutout, endX, endX * cutout);\r\n\t\t\tvar maxY = contains90 ? 1 : Math.max(startY, startY * cutout, endY, endY * cutout);\r\n\t\t\tratioX = (maxX - minX) / 2;\r\n\t\t\tratioY = (maxY - minY) / 2;\r\n\t\t\toffsetX = -(maxX + minX) / 2;\r\n\t\t\toffsetY = -(maxY + minY) / 2;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarcs[i]._options = me._resolveDataElementOptions(arcs[i], i);\r\n\t\t}\r\n\r\n\t\tchart.borderWidth = me.getMaxBorderWidth();\r\n\t\tmaxWidth = (chartArea.right - chartArea.left - chart.borderWidth) / ratioX;\r\n\t\tmaxHeight = (chartArea.bottom - chartArea.top - chart.borderWidth) / ratioY;\r\n\t\tchart.outerRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\r\n\t\tchart.innerRadius = Math.max(chart.outerRadius * cutout, 0);\r\n\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / (me._getVisibleDatasetWeightTotal() || 1);\r\n\t\tchart.offsetX = offsetX * chart.outerRadius;\r\n\t\tchart.offsetY = offsetY * chart.outerRadius;\r\n\r\n\t\tmeta.total = me.calculateTotal();\r\n\r\n\t\tme.outerRadius = chart.outerRadius - chart.radiusLength * me._getRingWeightOffset(me.index);\r\n\t\tme.innerRadius = Math.max(me.outerRadius - chart.radiusLength * chartWeight, 0);\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(arcs[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(arc, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar animationOpts = opts.animation;\r\n\t\tvar centerX = (chartArea.left + chartArea.right) / 2;\r\n\t\tvar centerY = (chartArea.top + chartArea.bottom) / 2;\r\n\t\tvar startAngle = opts.rotation; // non reset case handled later\r\n\t\tvar endAngle = opts.rotation; // non reset case handled later\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar circumference = reset && animationOpts.animateRotate ? 0 : arc.hidden ? 0 : me.calculateCircumference(dataset.data[index]) * (opts.circumference / DOUBLE_PI$1);\r\n\t\tvar innerRadius = reset && animationOpts.animateScale ? 0 : me.innerRadius;\r\n\t\tvar outerRadius = reset && animationOpts.animateScale ? 0 : me.outerRadius;\r\n\t\tvar options = arc._options || {};\r\n\r\n\t\thelpers$1.extend(arc, {\r\n\t\t\t// Utility\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index,\r\n\r\n\t\t\t// Desired view properties\r\n\t\t\t_model: {\r\n\t\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\t\tborderColor: options.borderColor,\r\n\t\t\t\tborderWidth: options.borderWidth,\r\n\t\t\t\tborderAlign: options.borderAlign,\r\n\t\t\t\tx: centerX + chart.offsetX,\r\n\t\t\t\ty: centerY + chart.offsetY,\r\n\t\t\t\tstartAngle: startAngle,\r\n\t\t\t\tendAngle: endAngle,\r\n\t\t\t\tcircumference: circumference,\r\n\t\t\t\touterRadius: outerRadius,\r\n\t\t\t\tinnerRadius: innerRadius,\r\n\t\t\t\tlabel: helpers$1.valueAtIndexOrDefault(dataset.label, index, chart.data.labels[index])\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar model = arc._model;\r\n\r\n\t\t// Set correct angles if not resetting\r\n\t\tif (!reset || !animationOpts.animateRotate) {\r\n\t\t\tif (index === 0) {\r\n\t\t\t\tmodel.startAngle = opts.rotation;\r\n\t\t\t} else {\r\n\t\t\t\tmodel.startAngle = me.getMeta().data[index - 1]._model.endAngle;\r\n\t\t\t}\r\n\r\n\t\t\tmodel.endAngle = model.startAngle + model.circumference;\r\n\t\t}\r\n\r\n\t\tarc.pivot();\r\n\t},\r\n\r\n\tcalculateTotal: function() {\r\n\t\tvar dataset = this.getDataset();\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar total = 0;\r\n\t\tvar value;\r\n\r\n\t\thelpers$1.each(meta.data, function(element, index) {\r\n\t\t\tvalue = dataset.data[index];\r\n\t\t\tif (!isNaN(value) && !element.hidden) {\r\n\t\t\t\ttotal += Math.abs(value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t/* if (total === 0) {\r\n\t\t\ttotal = NaN;\r\n\t\t}*/\r\n\r\n\t\treturn total;\r\n\t},\r\n\r\n\tcalculateCircumference: function(value) {\r\n\t\tvar total = this.getMeta().total;\r\n\t\tif (total > 0 && !isNaN(value)) {\r\n\t\t\treturn DOUBLE_PI$1 * (Math.abs(value) / total);\r\n\t\t}\r\n\t\treturn 0;\r\n\t},\r\n\r\n\t// gets the max border or hover width to properly scale pie charts\r\n\tgetMaxBorderWidth: function(arcs) {\r\n\t\tvar me = this;\r\n\t\tvar max = 0;\r\n\t\tvar chart = me.chart;\r\n\t\tvar i, ilen, meta, arc, controller, options, borderWidth, hoverWidth;\r\n\r\n\t\tif (!arcs) {\r\n\t\t\t// Find the outmost visible dataset\r\n\t\t\tfor (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\r\n\t\t\t\tif (chart.isDatasetVisible(i)) {\r\n\t\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\t\tarcs = meta.data;\r\n\t\t\t\t\tif (i !== me.index) {\r\n\t\t\t\t\t\tcontroller = meta.controller;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!arcs) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarc = arcs[i];\r\n\t\t\tif (controller) {\r\n\t\t\t\tcontroller._configure();\r\n\t\t\t\toptions = controller._resolveDataElementOptions(arc, i);\r\n\t\t\t} else {\r\n\t\t\t\toptions = arc._options;\r\n\t\t\t}\r\n\t\t\tif (options.borderAlign !== 'inner') {\r\n\t\t\t\tborderWidth = options.borderWidth;\r\n\t\t\t\thoverWidth = options.hoverBorderWidth;\r\n\r\n\t\t\t\tmax = borderWidth > max ? borderWidth : max;\r\n\t\t\t\tmax = hoverWidth > max ? hoverWidth : max;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn max;\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(arc) {\r\n\t\tvar model = arc._model;\r\n\t\tvar options = arc._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tarc.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$5(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$5(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$5(options.hoverBorderWidth, options.borderWidth);\r\n\t},\r\n\r\n\t/**\r\n\t * Get radius length offset of the dataset in relation to the visible datasets weights. This allows determining the inner and outer radius correctly\r\n\t * @private\r\n\t */\r\n\t_getRingWeightOffset: function(datasetIndex) {\r\n\t\tvar ringWeightOffset = 0;\r\n\r\n\t\tfor (var i = 0; i < datasetIndex; ++i) {\r\n\t\t\tif (this.chart.isDatasetVisible(i)) {\r\n\t\t\t\tringWeightOffset += this._getRingWeight(i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ringWeightOffset;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getRingWeight: function(dataSetIndex) {\r\n\t\treturn Math.max(valueOrDefault$5(this.chart.data.datasets[dataSetIndex].weight, 1), 0);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the sum of all visibile data set weights.  This value can be 0.\r\n\t * @private\r\n\t */\r\n\t_getVisibleDatasetWeightTotal: function() {\r\n\t\treturn this._getRingWeightOffset(this.chart.data.datasets.length);\r\n\t}\r\n});\n\ncore_defaults._set('horizontalBar', {\r\n\thover: {\r\n\t\tmode: 'index',\r\n\t\taxis: 'y'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'bottom'\r\n\t\t}],\r\n\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\tposition: 'left',\r\n\t\t\toffset: true,\r\n\t\t\tgridLines: {\r\n\t\t\t\toffsetGridLines: true\r\n\t\t\t}\r\n\t\t}]\r\n\t},\r\n\r\n\telements: {\r\n\t\trectangle: {\r\n\t\t\tborderSkipped: 'left'\r\n\t\t}\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tmode: 'index',\r\n\t\taxis: 'y'\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\thorizontalBar: {\r\n\t\t\tcategoryPercentage: 0.8,\r\n\t\t\tbarPercentage: 0.9\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_horizontalBar = controller_bar.extend({\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.getMeta().xAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.getMeta().yAxisID;\r\n\t}\r\n});\n\nvar valueOrDefault$6 = helpers$1.valueOrDefault;\r\nvar resolve$2 = helpers$1.options.resolve;\r\nvar isPointInArea = helpers$1.canvas._isPointInArea;\r\n\r\ncore_defaults._set('line', {\r\n\tshowLines: true,\r\n\tspanGaps: false,\r\n\r\n\thover: {\r\n\t\tmode: 'label'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\tid: 'x-axis-0'\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tid: 'y-axis-0'\r\n\t\t}]\r\n\t}\r\n});\r\n\r\nfunction scaleClip(scale, halfBorderWidth) {\r\n\tvar tickOpts = scale && scale.options.ticks || {};\r\n\tvar reverse = tickOpts.reverse;\r\n\tvar min = tickOpts.min === undefined ? halfBorderWidth : 0;\r\n\tvar max = tickOpts.max === undefined ? halfBorderWidth : 0;\r\n\treturn {\r\n\t\tstart: reverse ? max : min,\r\n\t\tend: reverse ? min : max\r\n\t};\r\n}\r\n\r\nfunction defaultClip(xScale, yScale, borderWidth) {\r\n\tvar halfBorderWidth = borderWidth / 2;\r\n\tvar x = scaleClip(xScale, halfBorderWidth);\r\n\tvar y = scaleClip(yScale, halfBorderWidth);\r\n\r\n\treturn {\r\n\t\ttop: y.end,\r\n\t\tright: x.end,\r\n\t\tbottom: y.start,\r\n\t\tleft: x.start\r\n\t};\r\n}\r\n\r\nfunction toClip(value) {\r\n\tvar t, r, b, l;\r\n\r\n\tif (helpers$1.isObject(value)) {\r\n\t\tt = value.top;\r\n\t\tr = value.right;\r\n\t\tb = value.bottom;\r\n\t\tl = value.left;\r\n\t} else {\r\n\t\tt = r = b = l = value;\r\n\t}\r\n\r\n\treturn {\r\n\t\ttop: t,\r\n\t\tright: r,\r\n\t\tbottom: b,\r\n\t\tleft: l\r\n\t};\r\n}\r\n\r\n\r\nvar controller_line = core_datasetController.extend({\r\n\r\n\tdatasetElementType: elements.Line,\r\n\r\n\tdataElementType: elements.Point,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderColor',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'borderWidth',\r\n\t\t'cubicInterpolationMode',\r\n\t\t'fill'\r\n\t],\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: {\r\n\t\tbackgroundColor: 'pointBackgroundColor',\r\n\t\tborderColor: 'pointBorderColor',\r\n\t\tborderWidth: 'pointBorderWidth',\r\n\t\thitRadius: 'pointHitRadius',\r\n\t\thoverBackgroundColor: 'pointHoverBackgroundColor',\r\n\t\thoverBorderColor: 'pointHoverBorderColor',\r\n\t\thoverBorderWidth: 'pointHoverBorderWidth',\r\n\t\thoverRadius: 'pointHoverRadius',\r\n\t\tpointStyle: 'pointStyle',\r\n\t\tradius: 'pointRadius',\r\n\t\trotation: 'pointRotation'\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar line = meta.dataset;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar options = me.chart.options;\r\n\t\tvar config = me._config;\r\n\t\tvar showLine = me._showLine = valueOrDefault$6(config.showLine, options.showLines);\r\n\t\tvar i, ilen;\r\n\r\n\t\tme._xScale = me.getScaleForId(meta.xAxisID);\r\n\t\tme._yScale = me.getScaleForId(meta.yAxisID);\r\n\r\n\t\t// Update Line\r\n\t\tif (showLine) {\r\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\r\n\t\t\tif (config.tension !== undefined && config.lineTension === undefined) {\r\n\t\t\t\tconfig.lineTension = config.tension;\r\n\t\t\t}\r\n\r\n\t\t\t// Utility\r\n\t\t\tline._scale = me._yScale;\r\n\t\t\tline._datasetIndex = me.index;\r\n\t\t\t// Data\r\n\t\t\tline._children = points;\r\n\t\t\t// Model\r\n\t\t\tline._model = me._resolveDatasetElementOptions(line);\r\n\r\n\t\t\tline.pivot();\r\n\t\t}\r\n\r\n\t\t// Update Points\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(points[i], i, reset);\r\n\t\t}\r\n\r\n\t\tif (showLine && line._model.tension !== 0) {\r\n\t\t\tme.updateBezierControlPoints();\r\n\t\t}\r\n\r\n\t\t// Now pivot the point for animation\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tpoints[i].pivot();\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar datasetIndex = me.index;\r\n\t\tvar value = dataset.data[index];\r\n\t\tvar xScale = me._xScale;\r\n\t\tvar yScale = me._yScale;\r\n\t\tvar lineModel = meta.dataset._model;\r\n\t\tvar x, y;\r\n\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\r\n\t\tx = xScale.getPixelForValue(typeof value === 'object' ? value : NaN, index, datasetIndex);\r\n\t\ty = reset ? yScale.getBasePixel() : me.calculatePointY(value, index, datasetIndex);\r\n\r\n\t\t// Utility\r\n\t\tpoint._xScale = xScale;\r\n\t\tpoint._yScale = yScale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = datasetIndex;\r\n\t\tpoint._index = index;\r\n\r\n\t\t// Desired view properties\r\n\t\tpoint._model = {\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\t// Appearance\r\n\t\t\tradius: options.radius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\ttension: valueOrDefault$6(custom.tension, lineModel ? lineModel.tension : 0),\r\n\t\t\tsteppedLine: lineModel ? lineModel.steppedLine : false,\r\n\t\t\t// Tooltip\r\n\t\t\thitRadius: options.hitRadius\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function(element) {\r\n\t\tvar me = this;\r\n\t\tvar config = me._config;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar options = me.chart.options;\r\n\t\tvar lineOptions = options.elements.line;\r\n\t\tvar values = core_datasetController.prototype._resolveDatasetElementOptions.apply(me, arguments);\r\n\r\n\t\t// The default behavior of lines is to break at null values, according\r\n\t\t// to https://github.com/chartjs/Chart.js/issues/2435#issuecomment-216718158\r\n\t\t// This option gives lines the ability to span gaps\r\n\t\tvalues.spanGaps = valueOrDefault$6(config.spanGaps, options.spanGaps);\r\n\t\tvalues.tension = valueOrDefault$6(config.lineTension, lineOptions.tension);\r\n\t\tvalues.steppedLine = resolve$2([custom.steppedLine, config.steppedLine, lineOptions.stepped]);\r\n\t\tvalues.clip = toClip(valueOrDefault$6(config.clip, defaultClip(me._xScale, me._yScale, values.borderWidth)));\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tcalculatePointY: function(value, index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar yScale = me._yScale;\r\n\t\tvar sumPos = 0;\r\n\t\tvar sumNeg = 0;\r\n\t\tvar i, ds, dsMeta, stackedRightValue, rightValue, metasets, ilen;\r\n\r\n\t\tif (yScale.options.stacked) {\r\n\t\t\trightValue = +yScale.getRightValue(value);\r\n\t\t\tmetasets = chart._getSortedVisibleDatasetMetas();\r\n\t\t\tilen = metasets.length;\r\n\r\n\t\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\t\tdsMeta = metasets[i];\r\n\t\t\t\tif (dsMeta.index === datasetIndex) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tds = chart.data.datasets[dsMeta.index];\r\n\t\t\t\tif (dsMeta.type === 'line' && dsMeta.yAxisID === yScale.id) {\r\n\t\t\t\t\tstackedRightValue = +yScale.getRightValue(ds.data[index]);\r\n\t\t\t\t\tif (stackedRightValue < 0) {\r\n\t\t\t\t\t\tsumNeg += stackedRightValue || 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsumPos += stackedRightValue || 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (rightValue < 0) {\r\n\t\t\t\treturn yScale.getPixelForValue(sumNeg + rightValue);\r\n\t\t\t}\r\n\t\t\treturn yScale.getPixelForValue(sumPos + rightValue);\r\n\t\t}\r\n\t\treturn yScale.getPixelForValue(value);\r\n\t},\r\n\r\n\tupdateBezierControlPoints: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar lineModel = meta.dataset._model;\r\n\t\tvar area = chart.chartArea;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar i, ilen, model, controlPoints;\r\n\r\n\t\t// Only consider points that are drawn in case the spanGaps option is used\r\n\t\tif (lineModel.spanGaps) {\r\n\t\t\tpoints = points.filter(function(pt) {\r\n\t\t\t\treturn !pt._model.skip;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction capControlPoint(pt, min, max) {\r\n\t\t\treturn Math.max(Math.min(pt, max), min);\r\n\t\t}\r\n\r\n\t\tif (lineModel.cubicInterpolationMode === 'monotone') {\r\n\t\t\thelpers$1.splineCurveMonotone(points);\r\n\t\t} else {\r\n\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\t\tmodel = points[i]._model;\r\n\t\t\t\tcontrolPoints = helpers$1.splineCurve(\r\n\t\t\t\t\thelpers$1.previousItem(points, i)._model,\r\n\t\t\t\t\tmodel,\r\n\t\t\t\t\thelpers$1.nextItem(points, i)._model,\r\n\t\t\t\t\tlineModel.tension\r\n\t\t\t\t);\r\n\t\t\t\tmodel.controlPointPreviousX = controlPoints.previous.x;\r\n\t\t\t\tmodel.controlPointPreviousY = controlPoints.previous.y;\r\n\t\t\t\tmodel.controlPointNextX = controlPoints.next.x;\r\n\t\t\t\tmodel.controlPointNextY = controlPoints.next.y;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (chart.options.elements.line.capBezierPoints) {\r\n\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\t\tmodel = points[i]._model;\r\n\t\t\t\tif (isPointInArea(model, area)) {\r\n\t\t\t\t\tif (i > 0 && isPointInArea(points[i - 1]._model, area)) {\r\n\t\t\t\t\t\tmodel.controlPointPreviousX = capControlPoint(model.controlPointPreviousX, area.left, area.right);\r\n\t\t\t\t\t\tmodel.controlPointPreviousY = capControlPoint(model.controlPointPreviousY, area.top, area.bottom);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (i < points.length - 1 && isPointInArea(points[i + 1]._model, area)) {\r\n\t\t\t\t\t\tmodel.controlPointNextX = capControlPoint(model.controlPointNextX, area.left, area.right);\r\n\t\t\t\t\t\tmodel.controlPointNextY = capControlPoint(model.controlPointNextY, area.top, area.bottom);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar points = meta.data || [];\r\n\t\tvar area = chart.chartArea;\r\n\t\tvar canvas = chart.canvas;\r\n\t\tvar i = 0;\r\n\t\tvar ilen = points.length;\r\n\t\tvar clip;\r\n\r\n\t\tif (me._showLine) {\r\n\t\t\tclip = meta.dataset._model.clip;\r\n\r\n\t\t\thelpers$1.canvas.clipArea(chart.ctx, {\r\n\t\t\t\tleft: clip.left === false ? 0 : area.left - clip.left,\r\n\t\t\t\tright: clip.right === false ? canvas.width : area.right + clip.right,\r\n\t\t\t\ttop: clip.top === false ? 0 : area.top - clip.top,\r\n\t\t\t\tbottom: clip.bottom === false ? canvas.height : area.bottom + clip.bottom\r\n\t\t\t});\r\n\r\n\t\t\tmeta.dataset.draw();\r\n\r\n\t\t\thelpers$1.canvas.unclipArea(chart.ctx);\r\n\t\t}\r\n\r\n\t\t// Draw the points\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\tpoints[i].draw(area);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(point) {\r\n\t\tvar model = point._model;\r\n\t\tvar options = point._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tpoint.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t\tradius: model.radius\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$6(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$6(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$6(options.hoverBorderWidth, options.borderWidth);\r\n\t\tmodel.radius = valueOrDefault$6(options.hoverRadius, options.radius);\r\n\t},\r\n});\n\nvar resolve$3 = helpers$1.options.resolve;\r\n\r\ncore_defaults._set('polarArea', {\r\n\tscale: {\r\n\t\ttype: 'radialLinear',\r\n\t\tangleLines: {\r\n\t\t\tdisplay: false\r\n\t\t},\r\n\t\tgridLines: {\r\n\t\t\tcircular: true\r\n\t\t},\r\n\t\tpointLabels: {\r\n\t\t\tdisplay: false\r\n\t\t},\r\n\t\tticks: {\r\n\t\t\tbeginAtZero: true\r\n\t\t}\r\n\t},\r\n\r\n\t// Boolean - Whether to animate the rotation of the chart\r\n\tanimation: {\r\n\t\tanimateRotate: true,\r\n\t\tanimateScale: true\r\n\t},\r\n\r\n\tstartAngle: -0.5 * Math.PI,\r\n\tlegendCallback: function(chart) {\r\n\t\tvar list = document.createElement('ul');\r\n\t\tvar data = chart.data;\r\n\t\tvar datasets = data.datasets;\r\n\t\tvar labels = data.labels;\r\n\t\tvar i, ilen, listItem, listItemSpan;\r\n\r\n\t\tlist.setAttribute('class', chart.id + '-legend');\r\n\t\tif (datasets.length) {\r\n\t\t\tfor (i = 0, ilen = datasets[0].data.length; i < ilen; ++i) {\r\n\t\t\t\tlistItem = list.appendChild(document.createElement('li'));\r\n\t\t\t\tlistItemSpan = listItem.appendChild(document.createElement('span'));\r\n\t\t\t\tlistItemSpan.style.backgroundColor = datasets[0].backgroundColor[i];\r\n\t\t\t\tif (labels[i]) {\r\n\t\t\t\t\tlistItem.appendChild(document.createTextNode(labels[i]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list.outerHTML;\r\n\t},\r\n\tlegend: {\r\n\t\tlabels: {\r\n\t\t\tgenerateLabels: function(chart) {\r\n\t\t\t\tvar data = chart.data;\r\n\t\t\t\tif (data.labels.length && data.datasets.length) {\r\n\t\t\t\t\treturn data.labels.map(function(label, i) {\r\n\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\r\n\t\t\t\t\t\tvar style = meta.controller.getStyle(i);\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttext: label,\r\n\t\t\t\t\t\t\tfillStyle: style.backgroundColor,\r\n\t\t\t\t\t\t\tstrokeStyle: style.borderColor,\r\n\t\t\t\t\t\t\tlineWidth: style.borderWidth,\r\n\t\t\t\t\t\t\thidden: isNaN(data.datasets[0].data[i]) || meta.data[i].hidden,\r\n\r\n\t\t\t\t\t\t\t// Extra data used for toggling the correct item\r\n\t\t\t\t\t\t\tindex: i\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonClick: function(e, legendItem) {\r\n\t\t\tvar index = legendItem.index;\r\n\t\t\tvar chart = this.chart;\r\n\t\t\tvar i, ilen, meta;\r\n\r\n\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\r\n\t\t\t}\r\n\r\n\t\t\tchart.update();\r\n\t\t}\r\n\t},\r\n\r\n\t// Need to override these to give a nice default\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(item, data) {\r\n\t\t\t\treturn data.labels[item.index] + ': ' + item.yLabel;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_polarArea = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Arc,\r\n\r\n\tlinkScales: helpers$1.noop,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'borderAlign',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t],\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar start = me.chart.options.startAngle || 0;\r\n\t\tvar starts = me._starts = [];\r\n\t\tvar angles = me._angles = [];\r\n\t\tvar arcs = meta.data;\r\n\t\tvar i, ilen, angle;\r\n\r\n\t\tme._updateRadius();\r\n\r\n\t\tmeta.count = me.countVisibleElements();\r\n\r\n\t\tfor (i = 0, ilen = dataset.data.length; i < ilen; i++) {\r\n\t\t\tstarts[i] = start;\r\n\t\t\tangle = me._computeAngle(i);\r\n\t\t\tangles[i] = angle;\r\n\t\t\tstart += angle;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarcs[i]._options = me._resolveDataElementOptions(arcs[i], i);\r\n\t\t\tme.updateElement(arcs[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_updateRadius: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\r\n\r\n\t\tchart.outerRadius = Math.max(minSize / 2, 0);\r\n\t\tchart.innerRadius = Math.max(opts.cutoutPercentage ? (chart.outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\r\n\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\r\n\r\n\t\tme.outerRadius = chart.outerRadius - (chart.radiusLength * me.index);\r\n\t\tme.innerRadius = me.outerRadius - chart.radiusLength;\r\n\t},\r\n\r\n\tupdateElement: function(arc, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar opts = chart.options;\r\n\t\tvar animationOpts = opts.animation;\r\n\t\tvar scale = chart.scale;\r\n\t\tvar labels = chart.data.labels;\r\n\r\n\t\tvar centerX = scale.xCenter;\r\n\t\tvar centerY = scale.yCenter;\r\n\r\n\t\t// var negHalfPI = -0.5 * Math.PI;\r\n\t\tvar datasetStartAngle = opts.startAngle;\r\n\t\tvar distance = arc.hidden ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\r\n\t\tvar startAngle = me._starts[index];\r\n\t\tvar endAngle = startAngle + (arc.hidden ? 0 : me._angles[index]);\r\n\r\n\t\tvar resetRadius = animationOpts.animateScale ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\r\n\t\tvar options = arc._options || {};\r\n\r\n\t\thelpers$1.extend(arc, {\r\n\t\t\t// Utility\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index,\r\n\t\t\t_scale: scale,\r\n\r\n\t\t\t// Desired view properties\r\n\t\t\t_model: {\r\n\t\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\t\tborderColor: options.borderColor,\r\n\t\t\t\tborderWidth: options.borderWidth,\r\n\t\t\t\tborderAlign: options.borderAlign,\r\n\t\t\t\tx: centerX,\r\n\t\t\t\ty: centerY,\r\n\t\t\t\tinnerRadius: 0,\r\n\t\t\t\touterRadius: reset ? resetRadius : distance,\r\n\t\t\t\tstartAngle: reset && animationOpts.animateRotate ? datasetStartAngle : startAngle,\r\n\t\t\t\tendAngle: reset && animationOpts.animateRotate ? datasetStartAngle : endAngle,\r\n\t\t\t\tlabel: helpers$1.valueAtIndexOrDefault(labels, index, labels[index])\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tarc.pivot();\r\n\t},\r\n\r\n\tcountVisibleElements: function() {\r\n\t\tvar dataset = this.getDataset();\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar count = 0;\r\n\r\n\t\thelpers$1.each(meta.data, function(element, index) {\r\n\t\t\tif (!isNaN(dataset.data[index]) && !element.hidden) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn count;\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(arc) {\r\n\t\tvar model = arc._model;\r\n\t\tvar options = arc._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\t\tvar valueOrDefault = helpers$1.valueOrDefault;\r\n\r\n\t\tarc.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault(options.hoverBorderWidth, options.borderWidth);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_computeAngle: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar count = this.getMeta().count;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar meta = me.getMeta();\r\n\r\n\t\tif (isNaN(dataset.data[index]) || meta.data[index].hidden) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: me.chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: dataset,\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\treturn resolve$3([\r\n\t\t\tme.chart.options.elements.arc.angle,\r\n\t\t\t(2 * Math.PI) / count\r\n\t\t], context, index);\r\n\t}\r\n});\n\ncore_defaults._set('pie', helpers$1.clone(core_defaults.doughnut));\r\ncore_defaults._set('pie', {\r\n\tcutoutPercentage: 0\r\n});\r\n\r\n// Pie charts are Doughnut chart with different defaults\r\nvar controller_pie = controller_doughnut;\n\nvar valueOrDefault$7 = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('radar', {\r\n\tspanGaps: false,\r\n\tscale: {\r\n\t\ttype: 'radialLinear'\r\n\t},\r\n\telements: {\r\n\t\tline: {\r\n\t\t\tfill: 'start',\r\n\t\t\ttension: 0 // no bezier in radar\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_radar = core_datasetController.extend({\r\n\tdatasetElementType: elements.Line,\r\n\r\n\tdataElementType: elements.Point,\r\n\r\n\tlinkScales: helpers$1.noop,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderWidth',\r\n\t\t'borderColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'fill'\r\n\t],\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: {\r\n\t\tbackgroundColor: 'pointBackgroundColor',\r\n\t\tborderColor: 'pointBorderColor',\r\n\t\tborderWidth: 'pointBorderWidth',\r\n\t\thitRadius: 'pointHitRadius',\r\n\t\thoverBackgroundColor: 'pointHoverBackgroundColor',\r\n\t\thoverBorderColor: 'pointHoverBorderColor',\r\n\t\thoverBorderWidth: 'pointHoverBorderWidth',\r\n\t\thoverRadius: 'pointHoverRadius',\r\n\t\tpointStyle: 'pointStyle',\r\n\t\tradius: 'pointRadius',\r\n\t\trotation: 'pointRotation'\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar line = meta.dataset;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar scale = me.chart.scale;\r\n\t\tvar config = me._config;\r\n\t\tvar i, ilen;\r\n\r\n\t\t// Compatibility: If the properties are defined with only the old name, use those values\r\n\t\tif (config.tension !== undefined && config.lineTension === undefined) {\r\n\t\t\tconfig.lineTension = config.tension;\r\n\t\t}\r\n\r\n\t\t// Utility\r\n\t\tline._scale = scale;\r\n\t\tline._datasetIndex = me.index;\r\n\t\t// Data\r\n\t\tline._children = points;\r\n\t\tline._loop = true;\r\n\t\t// Model\r\n\t\tline._model = me._resolveDatasetElementOptions(line);\r\n\r\n\t\tline.pivot();\r\n\r\n\t\t// Update Points\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(points[i], i, reset);\r\n\t\t}\r\n\r\n\t\t// Update bezier control points\r\n\t\tme.updateBezierControlPoints();\r\n\r\n\t\t// Now pivot the point for animation\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tpoints[i].pivot();\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar scale = me.chart.scale;\r\n\t\tvar pointPosition = scale.getPointPositionForValue(index, dataset.data[index]);\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\t\tvar lineModel = me.getMeta().dataset._model;\r\n\t\tvar x = reset ? scale.xCenter : pointPosition.x;\r\n\t\tvar y = reset ? scale.yCenter : pointPosition.y;\r\n\r\n\t\t// Utility\r\n\t\tpoint._scale = scale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = me.index;\r\n\t\tpoint._index = index;\r\n\r\n\t\t// Desired view properties\r\n\t\tpoint._model = {\r\n\t\t\tx: x, // value not used in dataset scale, but we want a consistent API between scales\r\n\t\t\ty: y,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\t// Appearance\r\n\t\t\tradius: options.radius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\ttension: valueOrDefault$7(custom.tension, lineModel ? lineModel.tension : 0),\r\n\r\n\t\t\t// Tooltip\r\n\t\t\thitRadius: options.hitRadius\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar config = me._config;\r\n\t\tvar options = me.chart.options;\r\n\t\tvar values = core_datasetController.prototype._resolveDatasetElementOptions.apply(me, arguments);\r\n\r\n\t\tvalues.spanGaps = valueOrDefault$7(config.spanGaps, options.spanGaps);\r\n\t\tvalues.tension = valueOrDefault$7(config.lineTension, options.elements.line.tension);\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tupdateBezierControlPoints: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar area = me.chart.chartArea;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar i, ilen, model, controlPoints;\r\n\r\n\t\t// Only consider points that are drawn in case the spanGaps option is used\r\n\t\tif (meta.dataset._model.spanGaps) {\r\n\t\t\tpoints = points.filter(function(pt) {\r\n\t\t\t\treturn !pt._model.skip;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction capControlPoint(pt, min, max) {\r\n\t\t\treturn Math.max(Math.min(pt, max), min);\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tmodel = points[i]._model;\r\n\t\t\tcontrolPoints = helpers$1.splineCurve(\r\n\t\t\t\thelpers$1.previousItem(points, i, true)._model,\r\n\t\t\t\tmodel,\r\n\t\t\t\thelpers$1.nextItem(points, i, true)._model,\r\n\t\t\t\tmodel.tension\r\n\t\t\t);\r\n\r\n\t\t\t// Prevent the bezier going outside of the bounds of the graph\r\n\t\t\tmodel.controlPointPreviousX = capControlPoint(controlPoints.previous.x, area.left, area.right);\r\n\t\t\tmodel.controlPointPreviousY = capControlPoint(controlPoints.previous.y, area.top, area.bottom);\r\n\t\t\tmodel.controlPointNextX = capControlPoint(controlPoints.next.x, area.left, area.right);\r\n\t\t\tmodel.controlPointNextY = capControlPoint(controlPoints.next.y, area.top, area.bottom);\r\n\t\t}\r\n\t},\r\n\r\n\tsetHoverStyle: function(point) {\r\n\t\tvar model = point._model;\r\n\t\tvar options = point._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tpoint.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t\tradius: model.radius\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$7(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$7(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$7(options.hoverBorderWidth, options.borderWidth);\r\n\t\tmodel.radius = valueOrDefault$7(options.hoverRadius, options.radius);\r\n\t}\r\n});\n\ncore_defaults._set('scatter', {\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\tid: 'x-axis-1',    // need an ID so datasets can reference the scale\r\n\t\t\ttype: 'linear',    // scatter should not use a category axis\r\n\t\t\tposition: 'bottom'\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\tid: 'y-axis-1',\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'left'\r\n\t\t}]\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\treturn '';     // doesn't make sense for scatter since data are formatted as a point\r\n\t\t\t},\r\n\t\t\tlabel: function(item) {\r\n\t\t\t\treturn '(' + item.xLabel + ', ' + item.yLabel + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\tscatter: {\r\n\t\t\tshowLine: false\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Scatter charts use line controllers\r\nvar controller_scatter = controller_line;\n\n// NOTE export a map in which the key represents the controller type, not\r\n// the class, and so must be CamelCase in order to be correctly retrieved\r\n// by the controller in core.controller.js (`controllers[meta.type]`).\r\n\r\nvar controllers = {\r\n\tbar: controller_bar,\r\n\tbubble: controller_bubble,\r\n\tdoughnut: controller_doughnut,\r\n\thorizontalBar: controller_horizontalBar,\r\n\tline: controller_line,\r\n\tpolarArea: controller_polarArea,\r\n\tpie: controller_pie,\r\n\tradar: controller_radar,\r\n\tscatter: controller_scatter\r\n};\n\n/**\r\n * Helper function to get relative position for an event\r\n * @param {Event|IEvent} event - The event to get the position for\r\n * @param {Chart} chart - The chart\r\n * @returns {object} the event position\r\n */\r\nfunction getRelativePosition(e, chart) {\r\n\tif (e.native) {\r\n\t\treturn {\r\n\t\t\tx: e.x,\r\n\t\t\ty: e.y\r\n\t\t};\r\n\t}\r\n\r\n\treturn helpers$1.getRelativePosition(e, chart);\r\n}\r\n\r\n/**\r\n * Helper function to traverse all of the visible elements in the chart\r\n * @param {Chart} chart - the chart\r\n * @param {function} handler - the callback to execute for each visible item\r\n */\r\nfunction parseVisibleItems(chart, handler) {\r\n\tvar metasets = chart._getSortedVisibleDatasetMetas();\r\n\tvar metadata, i, j, ilen, jlen, element;\r\n\r\n\tfor (i = 0, ilen = metasets.length; i < ilen; ++i) {\r\n\t\tmetadata = metasets[i].data;\r\n\t\tfor (j = 0, jlen = metadata.length; j < jlen; ++j) {\r\n\t\t\telement = metadata[j];\r\n\t\t\tif (!element._view.skip) {\r\n\t\t\t\thandler(element);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Helper function to get the items that intersect the event position\r\n * @param {ChartElement[]} items - elements to filter\r\n * @param {object} position - the point to be nearest to\r\n * @return {ChartElement[]} the nearest items\r\n */\r\nfunction getIntersectItems(chart, position) {\r\n\tvar elements = [];\r\n\r\n\tparseVisibleItems(chart, function(element) {\r\n\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\telements.push(element);\r\n\t\t}\r\n\t});\r\n\r\n\treturn elements;\r\n}\r\n\r\n/**\r\n * Helper function to get the items nearest to the event position considering all visible items in teh chart\r\n * @param {Chart} chart - the chart to look at elements from\r\n * @param {object} position - the point to be nearest to\r\n * @param {boolean} intersect - if true, only consider items that intersect the position\r\n * @param {function} distanceMetric - function to provide the distance between points\r\n * @return {ChartElement[]} the nearest items\r\n */\r\nfunction getNearestItems(chart, position, intersect, distanceMetric) {\r\n\tvar minDistance = Number.POSITIVE_INFINITY;\r\n\tvar nearestItems = [];\r\n\r\n\tparseVisibleItems(chart, function(element) {\r\n\t\tif (intersect && !element.inRange(position.x, position.y)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar center = element.getCenterPoint();\r\n\t\tvar distance = distanceMetric(position, center);\r\n\t\tif (distance < minDistance) {\r\n\t\t\tnearestItems = [element];\r\n\t\t\tminDistance = distance;\r\n\t\t} else if (distance === minDistance) {\r\n\t\t\t// Can have multiple items at the same distance in which case we sort by size\r\n\t\t\tnearestItems.push(element);\r\n\t\t}\r\n\t});\r\n\r\n\treturn nearestItems;\r\n}\r\n\r\n/**\r\n * Get a distance metric function for two points based on the\r\n * axis mode setting\r\n * @param {string} axis - the axis mode. x|y|xy\r\n */\r\nfunction getDistanceMetricForAxis(axis) {\r\n\tvar useX = axis.indexOf('x') !== -1;\r\n\tvar useY = axis.indexOf('y') !== -1;\r\n\r\n\treturn function(pt1, pt2) {\r\n\t\tvar deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\r\n\t\tvar deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\r\n\t\treturn Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\r\n\t};\r\n}\r\n\r\nfunction indexMode(chart, e, options) {\r\n\tvar position = getRelativePosition(e, chart);\r\n\t// Default axis for index mode is 'x' to match old behaviour\r\n\toptions.axis = options.axis || 'x';\r\n\tvar distanceMetric = getDistanceMetricForAxis(options.axis);\r\n\tvar items = options.intersect ? getIntersectItems(chart, position) : getNearestItems(chart, position, false, distanceMetric);\r\n\tvar elements = [];\r\n\r\n\tif (!items.length) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tchart._getSortedVisibleDatasetMetas().forEach(function(meta) {\r\n\t\tvar element = meta.data[items[0]._index];\r\n\r\n\t\t// don't count items that are skipped (null data)\r\n\t\tif (element && !element._view.skip) {\r\n\t\t\telements.push(element);\r\n\t\t}\r\n\t});\r\n\r\n\treturn elements;\r\n}\r\n\r\n/**\r\n * @interface IInteractionOptions\r\n */\r\n/**\r\n * If true, only consider items that intersect the point\r\n * @name IInterfaceOptions#boolean\r\n * @type Boolean\r\n */\r\n\r\n/**\r\n * Contains interaction related functions\r\n * @namespace Chart.Interaction\r\n */\r\nvar core_interaction = {\r\n\t// Helper function for different modes\r\n\tmodes: {\r\n\t\tsingle: function(chart, e) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\tvar elements = [];\r\n\r\n\t\t\tparseVisibleItems(chart, function(element) {\r\n\t\t\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\t\t\telements.push(element);\r\n\t\t\t\t\treturn elements;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn elements.slice(0, 1);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @function Chart.Interaction.modes.label\r\n\t\t * @deprecated since version 2.4.0\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\tlabel: indexMode,\r\n\r\n\t\t/**\r\n\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\r\n\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\r\n\t\t * @function Chart.Interaction.modes.index\r\n\t\t * @since v2.4.0\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use during interaction\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tindex: indexMode,\r\n\r\n\t\t/**\r\n\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\r\n\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\r\n\t\t * @function Chart.Interaction.modes.dataset\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use during interaction\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tdataset: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\toptions.axis = options.axis || 'xy';\r\n\t\t\tvar distanceMetric = getDistanceMetricForAxis(options.axis);\r\n\t\t\tvar items = options.intersect ? getIntersectItems(chart, position) : getNearestItems(chart, position, false, distanceMetric);\r\n\r\n\t\t\tif (items.length > 0) {\r\n\t\t\t\titems = chart.getDatasetMeta(items[0]._datasetIndex).data;\r\n\t\t\t}\r\n\r\n\t\t\treturn items;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @function Chart.Interaction.modes.x-axis\r\n\t\t * @deprecated since version 2.4.0. Use index mode and intersect == true\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\t'x-axis': function(chart, e) {\r\n\t\t\treturn indexMode(chart, e, {intersect: false});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Point mode returns all elements that hit test based on the event position\r\n\t\t * of the event\r\n\t\t * @function Chart.Interaction.modes.intersect\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tpoint: function(chart, e) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\treturn getIntersectItems(chart, position);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * nearest mode returns the element closest to the point\r\n\t\t * @function Chart.Interaction.modes.intersect\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tnearest: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\toptions.axis = options.axis || 'xy';\r\n\t\t\tvar distanceMetric = getDistanceMetricForAxis(options.axis);\r\n\t\t\treturn getNearestItems(chart, position, options.intersect, distanceMetric);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * x mode returns the elements that hit-test at the current x coordinate\r\n\t\t * @function Chart.Interaction.modes.x\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tx: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\tvar items = [];\r\n\t\t\tvar intersectsItem = false;\r\n\r\n\t\t\tparseVisibleItems(chart, function(element) {\r\n\t\t\t\tif (element.inXRange(position.x)) {\r\n\t\t\t\t\titems.push(element);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\t\t\tintersectsItem = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// If we want to trigger on an intersect and we don't have any items\r\n\t\t\t// that intersect the position, return nothing\r\n\t\t\tif (options.intersect && !intersectsItem) {\r\n\t\t\t\titems = [];\r\n\t\t\t}\r\n\t\t\treturn items;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * y mode returns the elements that hit-test at the current y coordinate\r\n\t\t * @function Chart.Interaction.modes.y\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\ty: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\tvar items = [];\r\n\t\t\tvar intersectsItem = false;\r\n\r\n\t\t\tparseVisibleItems(chart, function(element) {\r\n\t\t\t\tif (element.inYRange(position.y)) {\r\n\t\t\t\t\titems.push(element);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\t\t\tintersectsItem = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// If we want to trigger on an intersect and we don't have any items\r\n\t\t\t// that intersect the position, return nothing\r\n\t\t\tif (options.intersect && !intersectsItem) {\r\n\t\t\t\titems = [];\r\n\t\t\t}\r\n\t\t\treturn items;\r\n\t\t}\r\n\t}\r\n};\n\nvar extend = helpers$1.extend;\r\n\r\nfunction filterByPosition(array, position) {\r\n\treturn helpers$1.where(array, function(v) {\r\n\t\treturn v.pos === position;\r\n\t});\r\n}\r\n\r\nfunction sortByWeight(array, reverse) {\r\n\treturn array.sort(function(a, b) {\r\n\t\tvar v0 = reverse ? b : a;\r\n\t\tvar v1 = reverse ? a : b;\r\n\t\treturn v0.weight === v1.weight ?\r\n\t\t\tv0.index - v1.index :\r\n\t\t\tv0.weight - v1.weight;\r\n\t});\r\n}\r\n\r\nfunction wrapBoxes(boxes) {\r\n\tvar layoutBoxes = [];\r\n\tvar i, ilen, box;\r\n\r\n\tfor (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\r\n\t\tbox = boxes[i];\r\n\t\tlayoutBoxes.push({\r\n\t\t\tindex: i,\r\n\t\t\tbox: box,\r\n\t\t\tpos: box.position,\r\n\t\t\thorizontal: box.isHorizontal(),\r\n\t\t\tweight: box.weight\r\n\t\t});\r\n\t}\r\n\treturn layoutBoxes;\r\n}\r\n\r\nfunction setLayoutDims(layouts, params) {\r\n\tvar i, ilen, layout;\r\n\tfor (i = 0, ilen = layouts.length; i < ilen; ++i) {\r\n\t\tlayout = layouts[i];\r\n\t\t// store width used instead of chartArea.w in fitBoxes\r\n\t\tlayout.width = layout.horizontal\r\n\t\t\t? layout.box.fullWidth && params.availableWidth\r\n\t\t\t: params.vBoxMaxWidth;\r\n\t\t// store height used instead of chartArea.h in fitBoxes\r\n\t\tlayout.height = layout.horizontal && params.hBoxMaxHeight;\r\n\t}\r\n}\r\n\r\nfunction buildLayoutBoxes(boxes) {\r\n\tvar layoutBoxes = wrapBoxes(boxes);\r\n\tvar left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\r\n\tvar right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\r\n\tvar top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\r\n\tvar bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\r\n\r\n\treturn {\r\n\t\tleftAndTop: left.concat(top),\r\n\t\trightAndBottom: right.concat(bottom),\r\n\t\tchartArea: filterByPosition(layoutBoxes, 'chartArea'),\r\n\t\tvertical: left.concat(right),\r\n\t\thorizontal: top.concat(bottom)\r\n\t};\r\n}\r\n\r\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\r\n\treturn Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\r\n}\r\n\r\nfunction updateDims(chartArea, params, layout) {\r\n\tvar box = layout.box;\r\n\tvar maxPadding = chartArea.maxPadding;\r\n\tvar newWidth, newHeight;\r\n\r\n\tif (layout.size) {\r\n\t\t// this layout was already counted for, lets first reduce old size\r\n\t\tchartArea[layout.pos] -= layout.size;\r\n\t}\r\n\tlayout.size = layout.horizontal ? box.height : box.width;\r\n\tchartArea[layout.pos] += layout.size;\r\n\r\n\tif (box.getPadding) {\r\n\t\tvar boxPadding = box.getPadding();\r\n\t\tmaxPadding.top = Math.max(maxPadding.top, boxPadding.top);\r\n\t\tmaxPadding.left = Math.max(maxPadding.left, boxPadding.left);\r\n\t\tmaxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\r\n\t\tmaxPadding.right = Math.max(maxPadding.right, boxPadding.right);\r\n\t}\r\n\r\n\tnewWidth = params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right');\r\n\tnewHeight = params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom');\r\n\r\n\tif (newWidth !== chartArea.w || newHeight !== chartArea.h) {\r\n\t\tchartArea.w = newWidth;\r\n\t\tchartArea.h = newHeight;\r\n\r\n\t\t// return true if chart area changed in layout's direction\r\n\t\tvar sizes = layout.horizontal ? [newWidth, chartArea.w] : [newHeight, chartArea.h];\r\n\t\treturn sizes[0] !== sizes[1] && (!isNaN(sizes[0]) || !isNaN(sizes[1]));\r\n\t}\r\n}\r\n\r\nfunction handleMaxPadding(chartArea) {\r\n\tvar maxPadding = chartArea.maxPadding;\r\n\r\n\tfunction updatePos(pos) {\r\n\t\tvar change = Math.max(maxPadding[pos] - chartArea[pos], 0);\r\n\t\tchartArea[pos] += change;\r\n\t\treturn change;\r\n\t}\r\n\tchartArea.y += updatePos('top');\r\n\tchartArea.x += updatePos('left');\r\n\tupdatePos('right');\r\n\tupdatePos('bottom');\r\n}\r\n\r\nfunction getMargins(horizontal, chartArea) {\r\n\tvar maxPadding = chartArea.maxPadding;\r\n\r\n\tfunction marginForPositions(positions) {\r\n\t\tvar margin = {left: 0, top: 0, right: 0, bottom: 0};\r\n\t\tpositions.forEach(function(pos) {\r\n\t\t\tmargin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\r\n\t\t});\r\n\t\treturn margin;\r\n\t}\r\n\r\n\treturn horizontal\r\n\t\t? marginForPositions(['left', 'right'])\r\n\t\t: marginForPositions(['top', 'bottom']);\r\n}\r\n\r\nfunction fitBoxes(boxes, chartArea, params) {\r\n\tvar refitBoxes = [];\r\n\tvar i, ilen, layout, box, refit, changed;\r\n\r\n\tfor (i = 0, ilen = boxes.length; i < ilen; ++i) {\r\n\t\tlayout = boxes[i];\r\n\t\tbox = layout.box;\r\n\r\n\t\tbox.update(\r\n\t\t\tlayout.width || chartArea.w,\r\n\t\t\tlayout.height || chartArea.h,\r\n\t\t\tgetMargins(layout.horizontal, chartArea)\r\n\t\t);\r\n\t\tif (updateDims(chartArea, params, layout)) {\r\n\t\t\tchanged = true;\r\n\t\t\tif (refitBoxes.length) {\r\n\t\t\t\t// Dimensions changed and there were non full width boxes before this\r\n\t\t\t\t// -> we have to refit those\r\n\t\t\t\trefit = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!box.fullWidth) { // fullWidth boxes don't need to be re-fitted in any case\r\n\t\t\trefitBoxes.push(layout);\r\n\t\t}\r\n\t}\r\n\r\n\treturn refit ? fitBoxes(refitBoxes, chartArea, params) || changed : changed;\r\n}\r\n\r\nfunction placeBoxes(boxes, chartArea, params) {\r\n\tvar userPadding = params.padding;\r\n\tvar x = chartArea.x;\r\n\tvar y = chartArea.y;\r\n\tvar i, ilen, layout, box;\r\n\r\n\tfor (i = 0, ilen = boxes.length; i < ilen; ++i) {\r\n\t\tlayout = boxes[i];\r\n\t\tbox = layout.box;\r\n\t\tif (layout.horizontal) {\r\n\t\t\tbox.left = box.fullWidth ? userPadding.left : chartArea.left;\r\n\t\t\tbox.right = box.fullWidth ? params.outerWidth - userPadding.right : chartArea.left + chartArea.w;\r\n\t\t\tbox.top = y;\r\n\t\t\tbox.bottom = y + box.height;\r\n\t\t\tbox.width = box.right - box.left;\r\n\t\t\ty = box.bottom;\r\n\t\t} else {\r\n\t\t\tbox.left = x;\r\n\t\t\tbox.right = x + box.width;\r\n\t\t\tbox.top = chartArea.top;\r\n\t\t\tbox.bottom = chartArea.top + chartArea.h;\r\n\t\t\tbox.height = box.bottom - box.top;\r\n\t\t\tx = box.right;\r\n\t\t}\r\n\t}\r\n\r\n\tchartArea.x = x;\r\n\tchartArea.y = y;\r\n}\r\n\r\ncore_defaults._set('global', {\r\n\tlayout: {\r\n\t\tpadding: {\r\n\t\t\ttop: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/**\r\n * @interface ILayoutItem\r\n * @prop {string} position - The position of the item in the chart layout. Possible values are\r\n * 'left', 'top', 'right', 'bottom', and 'chartArea'\r\n * @prop {number} weight - The weight used to sort the item. Higher weights are further away from the chart area\r\n * @prop {boolean} fullWidth - if true, and the item is horizontal, then push vertical boxes down\r\n * @prop {function} isHorizontal - returns true if the layout item is horizontal (ie. top or bottom)\r\n * @prop {function} update - Takes two parameters: width and height. Returns size of item\r\n * @prop {function} getPadding -  Returns an object with padding on the edges\r\n * @prop {number} width - Width of item. Must be valid after update()\r\n * @prop {number} height - Height of item. Must be valid after update()\r\n * @prop {number} left - Left edge of the item. Set by layout system and cannot be used in update\r\n * @prop {number} top - Top edge of the item. Set by layout system and cannot be used in update\r\n * @prop {number} right - Right edge of the item. Set by layout system and cannot be used in update\r\n * @prop {number} bottom - Bottom edge of the item. Set by layout system and cannot be used in update\r\n */\r\n\r\n// The layout service is very self explanatory.  It's responsible for the layout within a chart.\r\n// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\r\n// It is this service's responsibility of carrying out that layout.\r\nvar core_layouts = {\r\n\tdefaults: {},\r\n\r\n\t/**\r\n\t * Register a box to a chart.\r\n\t * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.\r\n\t * @param {Chart} chart - the chart to use\r\n\t * @param {ILayoutItem} item - the item to add to be layed out\r\n\t */\r\n\taddBox: function(chart, item) {\r\n\t\tif (!chart.boxes) {\r\n\t\t\tchart.boxes = [];\r\n\t\t}\r\n\r\n\t\t// initialize item with default values\r\n\t\titem.fullWidth = item.fullWidth || false;\r\n\t\titem.position = item.position || 'top';\r\n\t\titem.weight = item.weight || 0;\r\n\t\titem._layers = item._layers || function() {\r\n\t\t\treturn [{\r\n\t\t\t\tz: 0,\r\n\t\t\t\tdraw: function() {\r\n\t\t\t\t\titem.draw.apply(item, arguments);\r\n\t\t\t\t}\r\n\t\t\t}];\r\n\t\t};\r\n\r\n\t\tchart.boxes.push(item);\r\n\t},\r\n\r\n\t/**\r\n\t * Remove a layoutItem from a chart\r\n\t * @param {Chart} chart - the chart to remove the box from\r\n\t * @param {ILayoutItem} layoutItem - the item to remove from the layout\r\n\t */\r\n\tremoveBox: function(chart, layoutItem) {\r\n\t\tvar index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\r\n\t\tif (index !== -1) {\r\n\t\t\tchart.boxes.splice(index, 1);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Sets (or updates) options on the given `item`.\r\n\t * @param {Chart} chart - the chart in which the item lives (or will be added to)\r\n\t * @param {ILayoutItem} item - the item to configure with the given options\r\n\t * @param {object} options - the new item options.\r\n\t */\r\n\tconfigure: function(chart, item, options) {\r\n\t\tvar props = ['fullWidth', 'position', 'weight'];\r\n\t\tvar ilen = props.length;\r\n\t\tvar i = 0;\r\n\t\tvar prop;\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\tprop = props[i];\r\n\t\t\tif (options.hasOwnProperty(prop)) {\r\n\t\t\t\titem[prop] = options[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Fits boxes of the given chart into the given size by having each box measure itself\r\n\t * then running a fitting algorithm\r\n\t * @param {Chart} chart - the chart\r\n\t * @param {number} width - the width to fit into\r\n\t * @param {number} height - the height to fit into\r\n\t */\r\n\tupdate: function(chart, width, height) {\r\n\t\tif (!chart) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar layoutOptions = chart.options.layout || {};\r\n\t\tvar padding = helpers$1.options.toPadding(layoutOptions.padding);\r\n\r\n\t\tvar availableWidth = width - padding.width;\r\n\t\tvar availableHeight = height - padding.height;\r\n\t\tvar boxes = buildLayoutBoxes(chart.boxes);\r\n\t\tvar verticalBoxes = boxes.vertical;\r\n\t\tvar horizontalBoxes = boxes.horizontal;\r\n\r\n\t\t// Essentially we now have any number of boxes on each of the 4 sides.\r\n\t\t// Our canvas looks like the following.\r\n\t\t// The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\r\n\t\t// B1 is the bottom axis\r\n\t\t// There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\r\n\t\t// These locations are single-box locations only, when trying to register a chartArea location that is already taken,\r\n\t\t// an error will be thrown.\r\n\t\t//\r\n\t\t// |----------------------------------------------------|\r\n\t\t// |                  T1 (Full Width)                   |\r\n\t\t// |----------------------------------------------------|\r\n\t\t// |    |    |                 T2                  |    |\r\n\t\t// |    |----|-------------------------------------|----|\r\n\t\t// |    |    | C1 |                           | C2 |    |\r\n\t\t// |    |    |----|                           |----|    |\r\n\t\t// |    |    |                                     |    |\r\n\t\t// | L1 | L2 |           ChartArea (C0)            | R1 |\r\n\t\t// |    |    |                                     |    |\r\n\t\t// |    |    |----|                           |----|    |\r\n\t\t// |    |    | C3 |                           | C4 |    |\r\n\t\t// |    |----|-------------------------------------|----|\r\n\t\t// |    |    |                 B1                  |    |\r\n\t\t// |----------------------------------------------------|\r\n\t\t// |                  B2 (Full Width)                   |\r\n\t\t// |----------------------------------------------------|\r\n\t\t//\r\n\r\n\t\tvar params = Object.freeze({\r\n\t\t\touterWidth: width,\r\n\t\t\touterHeight: height,\r\n\t\t\tpadding: padding,\r\n\t\t\tavailableWidth: availableWidth,\r\n\t\t\tvBoxMaxWidth: availableWidth / 2 / verticalBoxes.length,\r\n\t\t\thBoxMaxHeight: availableHeight / 2\r\n\t\t});\r\n\t\tvar chartArea = extend({\r\n\t\t\tmaxPadding: extend({}, padding),\r\n\t\t\tw: availableWidth,\r\n\t\t\th: availableHeight,\r\n\t\t\tx: padding.left,\r\n\t\t\ty: padding.top\r\n\t\t}, padding);\r\n\r\n\t\tsetLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\r\n\r\n\t\t// First fit vertical boxes\r\n\t\tfitBoxes(verticalBoxes, chartArea, params);\r\n\r\n\t\t// Then fit horizontal boxes\r\n\t\tif (fitBoxes(horizontalBoxes, chartArea, params)) {\r\n\t\t\t// if the area changed, re-fit vertical boxes\r\n\t\t\tfitBoxes(verticalBoxes, chartArea, params);\r\n\t\t}\r\n\r\n\t\thandleMaxPadding(chartArea);\r\n\r\n\t\t// Finally place the boxes to correct coordinates\r\n\t\tplaceBoxes(boxes.leftAndTop, chartArea, params);\r\n\r\n\t\t// Move to opposite side of chart\r\n\t\tchartArea.x += chartArea.w;\r\n\t\tchartArea.y += chartArea.h;\r\n\r\n\t\tplaceBoxes(boxes.rightAndBottom, chartArea, params);\r\n\r\n\t\tchart.chartArea = {\r\n\t\t\tleft: chartArea.left,\r\n\t\t\ttop: chartArea.top,\r\n\t\t\tright: chartArea.left + chartArea.w,\r\n\t\t\tbottom: chartArea.top + chartArea.h\r\n\t\t};\r\n\r\n\t\t// Finally update boxes in chartArea (radial scale for example)\r\n\t\thelpers$1.each(boxes.chartArea, function(layout) {\r\n\t\t\tvar box = layout.box;\r\n\t\t\textend(box, chart.chartArea);\r\n\t\t\tbox.update(chartArea.w, chartArea.h);\r\n\t\t});\r\n\t}\r\n};\n\n/**\r\n * Platform fallback implementation (minimal).\r\n * @see https://github.com/chartjs/Chart.js/pull/4591#issuecomment-319575939\r\n */\r\n\r\nvar platform_basic = {\r\n\tacquireContext: function(item) {\r\n\t\tif (item && item.canvas) {\r\n\t\t\t// Support for any object associated to a canvas (including a context2d)\r\n\t\t\titem = item.canvas;\r\n\t\t}\r\n\r\n\t\treturn item && item.getContext('2d') || null;\r\n\t}\r\n};\n\nvar platform_dom = \"/*\\r\\n * DOM element rendering detection\\r\\n * https://davidwalsh.name/detect-node-insertion\\r\\n */\\r\\n@keyframes chartjs-render-animation {\\r\\n\\tfrom { opacity: 0.99; }\\r\\n\\tto { opacity: 1; }\\r\\n}\\r\\n\\r\\n.chartjs-render-monitor {\\r\\n\\tanimation: chartjs-render-animation 0.001s;\\r\\n}\\r\\n\\r\\n/*\\r\\n * DOM element resizing detection\\r\\n * https://github.com/marcj/css-element-queries\\r\\n */\\r\\n.chartjs-size-monitor,\\r\\n.chartjs-size-monitor-expand,\\r\\n.chartjs-size-monitor-shrink {\\r\\n\\tposition: absolute;\\r\\n\\tdirection: ltr;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n\\tright: 0;\\r\\n\\tbottom: 0;\\r\\n\\toverflow: hidden;\\r\\n\\tpointer-events: none;\\r\\n\\tvisibility: hidden;\\r\\n\\tz-index: -1;\\r\\n}\\r\\n\\r\\n.chartjs-size-monitor-expand > div {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 1000000px;\\r\\n\\theight: 1000000px;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n}\\r\\n\\r\\n.chartjs-size-monitor-shrink > div {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 200%;\\r\\n\\theight: 200%;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n}\\r\\n\";\n\nvar platform_dom$1 = /*#__PURE__*/Object.freeze({\n__proto__: null,\n'default': platform_dom\n});\n\nvar stylesheet = getCjsExportFromNamespace(platform_dom$1);\n\nvar EXPANDO_KEY = '$chartjs';\r\nvar CSS_PREFIX = 'chartjs-';\r\nvar CSS_SIZE_MONITOR = CSS_PREFIX + 'size-monitor';\r\nvar CSS_RENDER_MONITOR = CSS_PREFIX + 'render-monitor';\r\nvar CSS_RENDER_ANIMATION = CSS_PREFIX + 'render-animation';\r\nvar ANIMATION_START_EVENTS = ['animationstart', 'webkitAnimationStart'];\r\n\r\n/**\r\n * DOM event types -> Chart.js event types.\r\n * Note: only events with different types are mapped.\r\n * @see https://developer.mozilla.org/en-US/docs/Web/Events\r\n */\r\nvar EVENT_TYPES = {\r\n\ttouchstart: 'mousedown',\r\n\ttouchmove: 'mousemove',\r\n\ttouchend: 'mouseup',\r\n\tpointerenter: 'mouseenter',\r\n\tpointerdown: 'mousedown',\r\n\tpointermove: 'mousemove',\r\n\tpointerup: 'mouseup',\r\n\tpointerleave: 'mouseout',\r\n\tpointerout: 'mouseout'\r\n};\r\n\r\n/**\r\n * The \"used\" size is the final value of a dimension property after all calculations have\r\n * been performed. This method uses the computed style of `element` but returns undefined\r\n * if the computed style is not expressed in pixels. That can happen in some cases where\r\n * `element` has a size relative to its parent and this last one is not yet displayed,\r\n * for example because of `display: none` on a parent node.\r\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\r\n * @returns {number} Size in pixels or undefined if unknown.\r\n */\r\nfunction readUsedSize(element, property) {\r\n\tvar value = helpers$1.getStyle(element, property);\r\n\tvar matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\r\n\treturn matches ? Number(matches[1]) : undefined;\r\n}\r\n\r\n/**\r\n * Initializes the canvas style and render size without modifying the canvas display size,\r\n * since responsiveness is handled by the controller.resize() method. The config is used\r\n * to determine the aspect ratio to apply in case no explicit height has been specified.\r\n */\r\nfunction initCanvas(canvas, config) {\r\n\tvar style = canvas.style;\r\n\r\n\t// NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\r\n\t// returns null or '' if no explicit value has been set to the canvas attribute.\r\n\tvar renderHeight = canvas.getAttribute('height');\r\n\tvar renderWidth = canvas.getAttribute('width');\r\n\r\n\t// Chart.js modifies some canvas values that we want to restore on destroy\r\n\tcanvas[EXPANDO_KEY] = {\r\n\t\tinitial: {\r\n\t\t\theight: renderHeight,\r\n\t\t\twidth: renderWidth,\r\n\t\t\tstyle: {\r\n\t\t\t\tdisplay: style.display,\r\n\t\t\t\theight: style.height,\r\n\t\t\t\twidth: style.width\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// Force canvas to display as block to avoid extra space caused by inline\r\n\t// elements, which would interfere with the responsive resize process.\r\n\t// https://github.com/chartjs/Chart.js/issues/2538\r\n\tstyle.display = style.display || 'block';\r\n\r\n\tif (renderWidth === null || renderWidth === '') {\r\n\t\tvar displayWidth = readUsedSize(canvas, 'width');\r\n\t\tif (displayWidth !== undefined) {\r\n\t\t\tcanvas.width = displayWidth;\r\n\t\t}\r\n\t}\r\n\r\n\tif (renderHeight === null || renderHeight === '') {\r\n\t\tif (canvas.style.height === '') {\r\n\t\t\t// If no explicit render height and style height, let's apply the aspect ratio,\r\n\t\t\t// which one can be specified by the user but also by charts as default option\r\n\t\t\t// (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\r\n\t\t\tcanvas.height = canvas.width / (config.options.aspectRatio || 2);\r\n\t\t} else {\r\n\t\t\tvar displayHeight = readUsedSize(canvas, 'height');\r\n\t\t\tif (displayWidth !== undefined) {\r\n\t\t\t\tcanvas.height = displayHeight;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn canvas;\r\n}\r\n\r\n/**\r\n * Detects support for options object argument in addEventListener.\r\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\r\n * @private\r\n */\r\nvar supportsEventListenerOptions = (function() {\r\n\tvar supports = false;\r\n\ttry {\r\n\t\tvar options = Object.defineProperty({}, 'passive', {\r\n\t\t\t// eslint-disable-next-line getter-return\r\n\t\t\tget: function() {\r\n\t\t\t\tsupports = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\twindow.addEventListener('e', null, options);\r\n\t} catch (e) {\r\n\t\t// continue regardless of error\r\n\t}\r\n\treturn supports;\r\n}());\r\n\r\n// Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\r\n// https://github.com/chartjs/Chart.js/issues/4287\r\nvar eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\r\n\r\nfunction addListener(node, type, listener) {\r\n\tnode.addEventListener(type, listener, eventListenerOptions);\r\n}\r\n\r\nfunction removeListener(node, type, listener) {\r\n\tnode.removeEventListener(type, listener, eventListenerOptions);\r\n}\r\n\r\nfunction createEvent(type, chart, x, y, nativeEvent) {\r\n\treturn {\r\n\t\ttype: type,\r\n\t\tchart: chart,\r\n\t\tnative: nativeEvent || null,\r\n\t\tx: x !== undefined ? x : null,\r\n\t\ty: y !== undefined ? y : null,\r\n\t};\r\n}\r\n\r\nfunction fromNativeEvent(event, chart) {\r\n\tvar type = EVENT_TYPES[event.type] || event.type;\r\n\tvar pos = helpers$1.getRelativePosition(event, chart);\r\n\treturn createEvent(type, chart, pos.x, pos.y, event);\r\n}\r\n\r\nfunction throttled(fn, thisArg) {\r\n\tvar ticking = false;\r\n\tvar args = [];\r\n\r\n\treturn function() {\r\n\t\targs = Array.prototype.slice.call(arguments);\r\n\t\tthisArg = thisArg || this;\r\n\r\n\t\tif (!ticking) {\r\n\t\t\tticking = true;\r\n\t\t\thelpers$1.requestAnimFrame.call(window, function() {\r\n\t\t\t\tticking = false;\r\n\t\t\t\tfn.apply(thisArg, args);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction createDiv(cls) {\r\n\tvar el = document.createElement('div');\r\n\tel.className = cls || '';\r\n\treturn el;\r\n}\r\n\r\n// Implementation based on https://github.com/marcj/css-element-queries\r\nfunction createResizer(handler) {\r\n\tvar maxSize = 1000000;\r\n\r\n\t// NOTE(SB) Don't use innerHTML because it could be considered unsafe.\r\n\t// https://github.com/chartjs/Chart.js/issues/5902\r\n\tvar resizer = createDiv(CSS_SIZE_MONITOR);\r\n\tvar expand = createDiv(CSS_SIZE_MONITOR + '-expand');\r\n\tvar shrink = createDiv(CSS_SIZE_MONITOR + '-shrink');\r\n\r\n\texpand.appendChild(createDiv());\r\n\tshrink.appendChild(createDiv());\r\n\r\n\tresizer.appendChild(expand);\r\n\tresizer.appendChild(shrink);\r\n\tresizer._reset = function() {\r\n\t\texpand.scrollLeft = maxSize;\r\n\t\texpand.scrollTop = maxSize;\r\n\t\tshrink.scrollLeft = maxSize;\r\n\t\tshrink.scrollTop = maxSize;\r\n\t};\r\n\r\n\tvar onScroll = function() {\r\n\t\tresizer._reset();\r\n\t\thandler();\r\n\t};\r\n\r\n\taddListener(expand, 'scroll', onScroll.bind(expand, 'expand'));\r\n\taddListener(shrink, 'scroll', onScroll.bind(shrink, 'shrink'));\r\n\r\n\treturn resizer;\r\n}\r\n\r\n// https://davidwalsh.name/detect-node-insertion\r\nfunction watchForRender(node, handler) {\r\n\tvar expando = node[EXPANDO_KEY] || (node[EXPANDO_KEY] = {});\r\n\tvar proxy = expando.renderProxy = function(e) {\r\n\t\tif (e.animationName === CSS_RENDER_ANIMATION) {\r\n\t\t\thandler();\r\n\t\t}\r\n\t};\r\n\r\n\thelpers$1.each(ANIMATION_START_EVENTS, function(type) {\r\n\t\taddListener(node, type, proxy);\r\n\t});\r\n\r\n\t// #4737: Chrome might skip the CSS animation when the CSS_RENDER_MONITOR class\r\n\t// is removed then added back immediately (same animation frame?). Accessing the\r\n\t// `offsetParent` property will force a reflow and re-evaluate the CSS animation.\r\n\t// https://gist.github.com/paulirish/5d52fb081b3570c81e3a#box-metrics\r\n\t// https://github.com/chartjs/Chart.js/issues/4737\r\n\texpando.reflow = !!node.offsetParent;\r\n\r\n\tnode.classList.add(CSS_RENDER_MONITOR);\r\n}\r\n\r\nfunction unwatchForRender(node) {\r\n\tvar expando = node[EXPANDO_KEY] || {};\r\n\tvar proxy = expando.renderProxy;\r\n\r\n\tif (proxy) {\r\n\t\thelpers$1.each(ANIMATION_START_EVENTS, function(type) {\r\n\t\t\tremoveListener(node, type, proxy);\r\n\t\t});\r\n\r\n\t\tdelete expando.renderProxy;\r\n\t}\r\n\r\n\tnode.classList.remove(CSS_RENDER_MONITOR);\r\n}\r\n\r\nfunction addResizeListener(node, listener, chart) {\r\n\tvar expando = node[EXPANDO_KEY] || (node[EXPANDO_KEY] = {});\r\n\r\n\t// Let's keep track of this added resizer and thus avoid DOM query when removing it.\r\n\tvar resizer = expando.resizer = createResizer(throttled(function() {\r\n\t\tif (expando.resizer) {\r\n\t\t\tvar container = chart.options.maintainAspectRatio && node.parentNode;\r\n\t\t\tvar w = container ? container.clientWidth : 0;\r\n\t\t\tlistener(createEvent('resize', chart));\r\n\t\t\tif (container && container.clientWidth < w && chart.canvas) {\r\n\t\t\t\t// If the container size shrank during chart resize, let's assume\r\n\t\t\t\t// scrollbar appeared. So we resize again with the scrollbar visible -\r\n\t\t\t\t// effectively making chart smaller and the scrollbar hidden again.\r\n\t\t\t\t// Because we are inside `throttled`, and currently `ticking`, scroll\r\n\t\t\t\t// events are ignored during this whole 2 resize process.\r\n\t\t\t\t// If we assumed wrong and something else happened, we are resizing\r\n\t\t\t\t// twice in a frame (potential performance issue)\r\n\t\t\t\tlistener(createEvent('resize', chart));\r\n\t\t\t}\r\n\t\t}\r\n\t}));\r\n\r\n\t// The resizer needs to be attached to the node parent, so we first need to be\r\n\t// sure that `node` is attached to the DOM before injecting the resizer element.\r\n\twatchForRender(node, function() {\r\n\t\tif (expando.resizer) {\r\n\t\t\tvar container = node.parentNode;\r\n\t\t\tif (container && container !== resizer.parentNode) {\r\n\t\t\t\tcontainer.insertBefore(resizer, container.firstChild);\r\n\t\t\t}\r\n\r\n\t\t\t// The container size might have changed, let's reset the resizer state.\r\n\t\t\tresizer._reset();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction removeResizeListener(node) {\r\n\tvar expando = node[EXPANDO_KEY] || {};\r\n\tvar resizer = expando.resizer;\r\n\r\n\tdelete expando.resizer;\r\n\tunwatchForRender(node);\r\n\r\n\tif (resizer && resizer.parentNode) {\r\n\t\tresizer.parentNode.removeChild(resizer);\r\n\t}\r\n}\r\n\r\n/**\r\n * Injects CSS styles inline if the styles are not already present.\r\n * @param {HTMLDocument|ShadowRoot} rootNode - the node to contain the <style>.\r\n * @param {string} css - the CSS to be injected.\r\n */\r\nfunction injectCSS(rootNode, css) {\r\n\t// https://stackoverflow.com/q/3922139\r\n\tvar expando = rootNode[EXPANDO_KEY] || (rootNode[EXPANDO_KEY] = {});\r\n\tif (!expando.containsStyles) {\r\n\t\texpando.containsStyles = true;\r\n\t\tcss = '/* Chart.js */\\n' + css;\r\n\t\tvar style = document.createElement('style');\r\n\t\tstyle.setAttribute('type', 'text/css');\r\n\t\tstyle.appendChild(document.createTextNode(css));\r\n\t\trootNode.appendChild(style);\r\n\t}\r\n}\r\n\r\nvar platform_dom$2 = {\r\n\t/**\r\n\t * When `true`, prevents the automatic injection of the stylesheet required to\r\n\t * correctly detect when the chart is added to the DOM and then resized. This\r\n\t * switch has been added to allow external stylesheet (`dist/Chart(.min)?.js`)\r\n\t * to be manually imported to make this library compatible with any CSP.\r\n\t * See https://github.com/chartjs/Chart.js/issues/5208\r\n\t */\r\n\tdisableCSSInjection: false,\r\n\r\n\t/**\r\n\t * This property holds whether this platform is enabled for the current environment.\r\n\t * Currently used by platform.js to select the proper implementation.\r\n\t * @private\r\n\t */\r\n\t_enabled: typeof window !== 'undefined' && typeof document !== 'undefined',\r\n\r\n\t/**\r\n\t * Initializes resources that depend on platform options.\r\n\t * @param {HTMLCanvasElement} canvas - The Canvas element.\r\n\t * @private\r\n\t */\r\n\t_ensureLoaded: function(canvas) {\r\n\t\tif (!this.disableCSSInjection) {\r\n\t\t\t// If the canvas is in a shadow DOM, then the styles must also be inserted\r\n\t\t\t// into the same shadow DOM.\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5763\r\n\t\t\tvar root = canvas.getRootNode ? canvas.getRootNode() : document;\r\n\t\t\tvar targetNode = root.host ? root : document.head;\r\n\t\t\tinjectCSS(targetNode, stylesheet);\r\n\t\t}\r\n\t},\r\n\r\n\tacquireContext: function(item, config) {\r\n\t\tif (typeof item === 'string') {\r\n\t\t\titem = document.getElementById(item);\r\n\t\t} else if (item.length) {\r\n\t\t\t// Support for array based queries (such as jQuery)\r\n\t\t\titem = item[0];\r\n\t\t}\r\n\r\n\t\tif (item && item.canvas) {\r\n\t\t\t// Support for any object associated to a canvas (including a context2d)\r\n\t\t\titem = item.canvas;\r\n\t\t}\r\n\r\n\t\t// To prevent canvas fingerprinting, some add-ons undefine the getContext\r\n\t\t// method, for example: https://github.com/kkapsner/CanvasBlocker\r\n\t\t// https://github.com/chartjs/Chart.js/issues/2807\r\n\t\tvar context = item && item.getContext && item.getContext('2d');\r\n\r\n\t\t// `instanceof HTMLCanvasElement/CanvasRenderingContext2D` fails when the item is\r\n\t\t// inside an iframe or when running in a protected environment. We could guess the\r\n\t\t// types from their toString() value but let's keep things flexible and assume it's\r\n\t\t// a sufficient condition if the item has a context2D which has item as `canvas`.\r\n\t\t// https://github.com/chartjs/Chart.js/issues/3887\r\n\t\t// https://github.com/chartjs/Chart.js/issues/4102\r\n\t\t// https://github.com/chartjs/Chart.js/issues/4152\r\n\t\tif (context && context.canvas === item) {\r\n\t\t\t// Load platform resources on first chart creation, to make it possible to\r\n\t\t\t// import the library before setting platform options.\r\n\t\t\tthis._ensureLoaded(item);\r\n\t\t\tinitCanvas(item, config);\r\n\t\t\treturn context;\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\treleaseContext: function(context) {\r\n\t\tvar canvas = context.canvas;\r\n\t\tif (!canvas[EXPANDO_KEY]) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar initial = canvas[EXPANDO_KEY].initial;\r\n\t\t['height', 'width'].forEach(function(prop) {\r\n\t\t\tvar value = initial[prop];\r\n\t\t\tif (helpers$1.isNullOrUndef(value)) {\r\n\t\t\t\tcanvas.removeAttribute(prop);\r\n\t\t\t} else {\r\n\t\t\t\tcanvas.setAttribute(prop, value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thelpers$1.each(initial.style || {}, function(value, key) {\r\n\t\t\tcanvas.style[key] = value;\r\n\t\t});\r\n\r\n\t\t// The canvas render size might have been changed (and thus the state stack discarded),\r\n\t\t// we can't use save() and restore() to restore the initial state. So make sure that at\r\n\t\t// least the canvas context is reset to the default state by setting the canvas width.\r\n\t\t// https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\r\n\t\t// eslint-disable-next-line no-self-assign\r\n\t\tcanvas.width = canvas.width;\r\n\r\n\t\tdelete canvas[EXPANDO_KEY];\r\n\t},\r\n\r\n\taddEventListener: function(chart, type, listener) {\r\n\t\tvar canvas = chart.canvas;\r\n\t\tif (type === 'resize') {\r\n\t\t\t// Note: the resize event is not supported on all browsers.\r\n\t\t\taddResizeListener(canvas, listener, chart);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar expando = listener[EXPANDO_KEY] || (listener[EXPANDO_KEY] = {});\r\n\t\tvar proxies = expando.proxies || (expando.proxies = {});\r\n\t\tvar proxy = proxies[chart.id + '_' + type] = function(event) {\r\n\t\t\tlistener(fromNativeEvent(event, chart));\r\n\t\t};\r\n\r\n\t\taddListener(canvas, type, proxy);\r\n\t},\r\n\r\n\tremoveEventListener: function(chart, type, listener) {\r\n\t\tvar canvas = chart.canvas;\r\n\t\tif (type === 'resize') {\r\n\t\t\t// Note: the resize event is not supported on all browsers.\r\n\t\t\tremoveResizeListener(canvas);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar expando = listener[EXPANDO_KEY] || {};\r\n\t\tvar proxies = expando.proxies || {};\r\n\t\tvar proxy = proxies[chart.id + '_' + type];\r\n\t\tif (!proxy) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tremoveListener(canvas, type, proxy);\r\n\t}\r\n};\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use EventTarget.addEventListener instead.\r\n * EventTarget.addEventListener compatibility: Chrome, Opera 7, Safari, FF1.5+, IE9+\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\r\n * @function Chart.helpers.addEvent\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.addEvent = addListener;\r\n\r\n/**\r\n * Provided for backward compatibility, use EventTarget.removeEventListener instead.\r\n * EventTarget.removeEventListener compatibility: Chrome, Opera 7, Safari, FF1.5+, IE9+\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener\r\n * @function Chart.helpers.removeEvent\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.removeEvent = removeListener;\n\n// @TODO Make possible to select another platform at build time.\r\nvar implementation = platform_dom$2._enabled ? platform_dom$2 : platform_basic;\r\n\r\n/**\r\n * @namespace Chart.platform\r\n * @see https://chartjs.gitbooks.io/proposals/content/Platform.html\r\n * @since 2.4.0\r\n */\r\nvar platform = helpers$1.extend({\r\n\t/**\r\n\t * @since 2.7.0\r\n\t */\r\n\tinitialize: function() {},\r\n\r\n\t/**\r\n\t * Called at chart construction time, returns a context2d instance implementing\r\n\t * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.\r\n\t * @param {*} item - The native item from which to acquire context (platform specific)\r\n\t * @param {object} options - The chart options\r\n\t * @returns {CanvasRenderingContext2D} context2d instance\r\n\t */\r\n\tacquireContext: function() {},\r\n\r\n\t/**\r\n\t * Called at chart destruction time, releases any resources associated to the context\r\n\t * previously returned by the acquireContext() method.\r\n\t * @param {CanvasRenderingContext2D} context - The context2d instance\r\n\t * @returns {boolean} true if the method succeeded, else false\r\n\t */\r\n\treleaseContext: function() {},\r\n\r\n\t/**\r\n\t * Registers the specified listener on the given chart.\r\n\t * @param {Chart} chart - Chart from which to listen for event\r\n\t * @param {string} type - The ({@link IEvent}) type to listen for\r\n\t * @param {function} listener - Receives a notification (an object that implements\r\n\t * the {@link IEvent} interface) when an event of the specified type occurs.\r\n\t */\r\n\taddEventListener: function() {},\r\n\r\n\t/**\r\n\t * Removes the specified listener previously registered with addEventListener.\r\n\t * @param {Chart} chart - Chart from which to remove the listener\r\n\t * @param {string} type - The ({@link IEvent}) type to remove\r\n\t * @param {function} listener - The listener function to remove from the event target.\r\n\t */\r\n\tremoveEventListener: function() {}\r\n\r\n}, implementation);\n\ncore_defaults._set('global', {\r\n\tplugins: {}\r\n});\r\n\r\n/**\r\n * The plugin service singleton\r\n * @namespace Chart.plugins\r\n * @since 2.1.0\r\n */\r\nvar core_plugins = {\r\n\t/**\r\n\t * Globally registered plugins.\r\n\t * @private\r\n\t */\r\n\t_plugins: [],\r\n\r\n\t/**\r\n\t * This identifier is used to invalidate the descriptors cache attached to each chart\r\n\t * when a global plugin is registered or unregistered. In this case, the cache ID is\r\n\t * incremented and descriptors are regenerated during following API calls.\r\n\t * @private\r\n\t */\r\n\t_cacheId: 0,\r\n\r\n\t/**\r\n\t * Registers the given plugin(s) if not already registered.\r\n\t * @param {IPlugin[]|IPlugin} plugins plugin instance(s).\r\n\t */\r\n\tregister: function(plugins) {\r\n\t\tvar p = this._plugins;\r\n\t\t([]).concat(plugins).forEach(function(plugin) {\r\n\t\t\tif (p.indexOf(plugin) === -1) {\r\n\t\t\t\tp.push(plugin);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._cacheId++;\r\n\t},\r\n\r\n\t/**\r\n\t * Unregisters the given plugin(s) only if registered.\r\n\t * @param {IPlugin[]|IPlugin} plugins plugin instance(s).\r\n\t */\r\n\tunregister: function(plugins) {\r\n\t\tvar p = this._plugins;\r\n\t\t([]).concat(plugins).forEach(function(plugin) {\r\n\t\t\tvar idx = p.indexOf(plugin);\r\n\t\t\tif (idx !== -1) {\r\n\t\t\t\tp.splice(idx, 1);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._cacheId++;\r\n\t},\r\n\r\n\t/**\r\n\t * Remove all registered plugins.\r\n\t * @since 2.1.5\r\n\t */\r\n\tclear: function() {\r\n\t\tthis._plugins = [];\r\n\t\tthis._cacheId++;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the number of registered plugins?\r\n\t * @returns {number}\r\n\t * @since 2.1.5\r\n\t */\r\n\tcount: function() {\r\n\t\treturn this._plugins.length;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns all registered plugin instances.\r\n\t * @returns {IPlugin[]} array of plugin objects.\r\n\t * @since 2.1.5\r\n\t */\r\n\tgetAll: function() {\r\n\t\treturn this._plugins;\r\n\t},\r\n\r\n\t/**\r\n\t * Calls enabled plugins for `chart` on the specified hook and with the given args.\r\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\r\n\t * returned value can be used, for instance, to interrupt the current action.\r\n\t * @param {Chart} chart - The chart instance for which plugins should be called.\r\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\r\n\t * @param {Array} [args] - Extra arguments to apply to the hook call.\r\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\r\n\t */\r\n\tnotify: function(chart, hook, args) {\r\n\t\tvar descriptors = this.descriptors(chart);\r\n\t\tvar ilen = descriptors.length;\r\n\t\tvar i, descriptor, plugin, params, method;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tdescriptor = descriptors[i];\r\n\t\t\tplugin = descriptor.plugin;\r\n\t\t\tmethod = plugin[hook];\r\n\t\t\tif (typeof method === 'function') {\r\n\t\t\t\tparams = [chart].concat(args || []);\r\n\t\t\t\tparams.push(descriptor.options);\r\n\t\t\t\tif (method.apply(plugin, params) === false) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns descriptors of enabled plugins for the given chart.\r\n\t * @returns {object[]} [{ plugin, options }]\r\n\t * @private\r\n\t */\r\n\tdescriptors: function(chart) {\r\n\t\tvar cache = chart.$plugins || (chart.$plugins = {});\r\n\t\tif (cache.id === this._cacheId) {\r\n\t\t\treturn cache.descriptors;\r\n\t\t}\r\n\r\n\t\tvar plugins = [];\r\n\t\tvar descriptors = [];\r\n\t\tvar config = (chart && chart.config) || {};\r\n\t\tvar options = (config.options && config.options.plugins) || {};\r\n\r\n\t\tthis._plugins.concat(config.plugins || []).forEach(function(plugin) {\r\n\t\t\tvar idx = plugins.indexOf(plugin);\r\n\t\t\tif (idx !== -1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar id = plugin.id;\r\n\t\t\tvar opts = options[id];\r\n\t\t\tif (opts === false) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (opts === true) {\r\n\t\t\t\topts = helpers$1.clone(core_defaults.global.plugins[id]);\r\n\t\t\t}\r\n\r\n\t\t\tplugins.push(plugin);\r\n\t\t\tdescriptors.push({\r\n\t\t\t\tplugin: plugin,\r\n\t\t\t\toptions: opts || {}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tcache.descriptors = descriptors;\r\n\t\tcache.id = this._cacheId;\r\n\t\treturn descriptors;\r\n\t},\r\n\r\n\t/**\r\n\t * Invalidates cache for the given chart: descriptors hold a reference on plugin option,\r\n\t * but in some cases, this reference can be changed by the user when updating options.\r\n\t * https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\r\n\t * @private\r\n\t */\r\n\t_invalidate: function(chart) {\r\n\t\tdelete chart.$plugins;\r\n\t}\r\n};\n\nvar core_scaleService = {\r\n\t// Scale registration object. Extensions can register new scale types (such as log or DB scales) and then\r\n\t// use the new chart options to grab the correct scale\r\n\tconstructors: {},\r\n\t// Use a registration function so that we can move to an ES6 map when we no longer need to support\r\n\t// old browsers\r\n\r\n\t// Scale config defaults\r\n\tdefaults: {},\r\n\tregisterScaleType: function(type, scaleConstructor, scaleDefaults) {\r\n\t\tthis.constructors[type] = scaleConstructor;\r\n\t\tthis.defaults[type] = helpers$1.clone(scaleDefaults);\r\n\t},\r\n\tgetScaleConstructor: function(type) {\r\n\t\treturn this.constructors.hasOwnProperty(type) ? this.constructors[type] : undefined;\r\n\t},\r\n\tgetScaleDefaults: function(type) {\r\n\t\t// Return the scale defaults merged with the global settings so that we always use the latest ones\r\n\t\treturn this.defaults.hasOwnProperty(type) ? helpers$1.merge(Object.create(null), [core_defaults.scale, this.defaults[type]]) : {};\r\n\t},\r\n\tupdateScaleDefaults: function(type, additions) {\r\n\t\tvar me = this;\r\n\t\tif (me.defaults.hasOwnProperty(type)) {\r\n\t\t\tme.defaults[type] = helpers$1.extend(me.defaults[type], additions);\r\n\t\t}\r\n\t},\r\n\taddScalesToLayout: function(chart) {\r\n\t\t// Adds each scale to the chart.boxes array to be sized accordingly\r\n\t\thelpers$1.each(chart.scales, function(scale) {\r\n\t\t\t// Set ILayoutItem parameters for backwards compatibility\r\n\t\t\tscale.fullWidth = scale.options.fullWidth;\r\n\t\t\tscale.position = scale.options.position;\r\n\t\t\tscale.weight = scale.options.weight;\r\n\t\t\tcore_layouts.addBox(chart, scale);\r\n\t\t});\r\n\t}\r\n};\n\nvar valueOrDefault$8 = helpers$1.valueOrDefault;\r\nvar getRtlHelper = helpers$1.rtl.getRtlAdapter;\r\n\r\ncore_defaults._set('global', {\r\n\ttooltips: {\r\n\t\tenabled: true,\r\n\t\tcustom: null,\r\n\t\tmode: 'nearest',\r\n\t\tposition: 'average',\r\n\t\tintersect: true,\r\n\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\r\n\t\ttitleFontStyle: 'bold',\r\n\t\ttitleSpacing: 2,\r\n\t\ttitleMarginBottom: 6,\r\n\t\ttitleFontColor: '#fff',\r\n\t\ttitleAlign: 'left',\r\n\t\tbodySpacing: 2,\r\n\t\tbodyFontColor: '#fff',\r\n\t\tbodyAlign: 'left',\r\n\t\tfooterFontStyle: 'bold',\r\n\t\tfooterSpacing: 2,\r\n\t\tfooterMarginTop: 6,\r\n\t\tfooterFontColor: '#fff',\r\n\t\tfooterAlign: 'left',\r\n\t\tyPadding: 6,\r\n\t\txPadding: 6,\r\n\t\tcaretPadding: 2,\r\n\t\tcaretSize: 5,\r\n\t\tcornerRadius: 6,\r\n\t\tmultiKeyBackground: '#fff',\r\n\t\tdisplayColors: true,\r\n\t\tborderColor: 'rgba(0,0,0,0)',\r\n\t\tborderWidth: 0,\r\n\t\tcallbacks: {\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tbeforeTitle: helpers$1.noop,\r\n\t\t\ttitle: function(tooltipItems, data) {\r\n\t\t\t\tvar title = '';\r\n\t\t\t\tvar labels = data.labels;\r\n\t\t\t\tvar labelCount = labels ? labels.length : 0;\r\n\r\n\t\t\t\tif (tooltipItems.length > 0) {\r\n\t\t\t\t\tvar item = tooltipItems[0];\r\n\t\t\t\t\tif (item.label) {\r\n\t\t\t\t\t\ttitle = item.label;\r\n\t\t\t\t\t} else if (item.xLabel) {\r\n\t\t\t\t\t\ttitle = item.xLabel;\r\n\t\t\t\t\t} else if (labelCount > 0 && item.index < labelCount) {\r\n\t\t\t\t\t\ttitle = labels[item.index];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn title;\r\n\t\t\t},\r\n\t\t\tafterTitle: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tbeforeBody: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItem, data)\r\n\t\t\tbeforeLabel: helpers$1.noop,\r\n\t\t\tlabel: function(tooltipItem, data) {\r\n\t\t\t\tvar label = data.datasets[tooltipItem.datasetIndex].label || '';\r\n\r\n\t\t\t\tif (label) {\r\n\t\t\t\t\tlabel += ': ';\r\n\t\t\t\t}\r\n\t\t\t\tif (!helpers$1.isNullOrUndef(tooltipItem.value)) {\r\n\t\t\t\t\tlabel += tooltipItem.value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlabel += tooltipItem.yLabel;\r\n\t\t\t\t}\r\n\t\t\t\treturn label;\r\n\t\t\t},\r\n\t\t\tlabelColor: function(tooltipItem, chart) {\r\n\t\t\t\tvar meta = chart.getDatasetMeta(tooltipItem.datasetIndex);\r\n\t\t\t\tvar activeElement = meta.data[tooltipItem.index];\r\n\t\t\t\tvar view = activeElement._view;\r\n\t\t\t\treturn {\r\n\t\t\t\t\tborderColor: view.borderColor,\r\n\t\t\t\t\tbackgroundColor: view.backgroundColor\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tlabelTextColor: function() {\r\n\t\t\t\treturn this._options.bodyFontColor;\r\n\t\t\t},\r\n\t\t\tafterLabel: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tafterBody: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tbeforeFooter: helpers$1.noop,\r\n\t\t\tfooter: helpers$1.noop,\r\n\t\t\tafterFooter: helpers$1.noop\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar positioners = {\r\n\t/**\r\n\t * Average mode places the tooltip at the average position of the elements shown\r\n\t * @function Chart.Tooltip.positioners.average\r\n\t * @param elements {ChartElement[]} the elements being displayed in the tooltip\r\n\t * @returns {object} tooltip position\r\n\t */\r\n\taverage: function(elements) {\r\n\t\tif (!elements.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar i, len;\r\n\t\tvar x = 0;\r\n\t\tvar y = 0;\r\n\t\tvar count = 0;\r\n\r\n\t\tfor (i = 0, len = elements.length; i < len; ++i) {\r\n\t\t\tvar el = elements[i];\r\n\t\t\tif (el && el.hasValue()) {\r\n\t\t\t\tvar pos = el.tooltipPosition();\r\n\t\t\t\tx += pos.x;\r\n\t\t\t\ty += pos.y;\r\n\t\t\t\t++count;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tx: x / count,\r\n\t\t\ty: y / count\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Gets the tooltip position nearest of the item nearest to the event position\r\n\t * @function Chart.Tooltip.positioners.nearest\r\n\t * @param elements {Chart.Element[]} the tooltip elements\r\n\t * @param eventPosition {object} the position of the event in canvas coordinates\r\n\t * @returns {object} the tooltip position\r\n\t */\r\n\tnearest: function(elements, eventPosition) {\r\n\t\tvar x = eventPosition.x;\r\n\t\tvar y = eventPosition.y;\r\n\t\tvar minDistance = Number.POSITIVE_INFINITY;\r\n\t\tvar i, len, nearestElement;\r\n\r\n\t\tfor (i = 0, len = elements.length; i < len; ++i) {\r\n\t\t\tvar el = elements[i];\r\n\t\t\tif (el && el.hasValue()) {\r\n\t\t\t\tvar center = el.getCenterPoint();\r\n\t\t\t\tvar d = helpers$1.distanceBetweenPoints(eventPosition, center);\r\n\r\n\t\t\t\tif (d < minDistance) {\r\n\t\t\t\t\tminDistance = d;\r\n\t\t\t\t\tnearestElement = el;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (nearestElement) {\r\n\t\t\tvar tp = nearestElement.tooltipPosition();\r\n\t\t\tx = tp.x;\r\n\t\t\ty = tp.y;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tx: x,\r\n\t\t\ty: y\r\n\t\t};\r\n\t}\r\n};\r\n\r\n// Helper to push or concat based on if the 2nd parameter is an array or not\r\nfunction pushOrConcat(base, toPush) {\r\n\tif (toPush) {\r\n\t\tif (helpers$1.isArray(toPush)) {\r\n\t\t\t// base = base.concat(toPush);\r\n\t\t\tArray.prototype.push.apply(base, toPush);\r\n\t\t} else {\r\n\t\t\tbase.push(toPush);\r\n\t\t}\r\n\t}\r\n\r\n\treturn base;\r\n}\r\n\r\n/**\r\n * Returns array of strings split by newline\r\n * @param {string} value - The value to split by newline.\r\n * @returns {string[]} value if newline present - Returned from String split() method\r\n * @function\r\n */\r\nfunction splitNewlines(str) {\r\n\tif ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\r\n\t\treturn str.split('\\n');\r\n\t}\r\n\treturn str;\r\n}\r\n\r\n\r\n/**\r\n * Private helper to create a tooltip item model\r\n * @param element - the chart element (point, arc, bar) to create the tooltip item for\r\n * @return new tooltip item\r\n */\r\nfunction createTooltipItem(element) {\r\n\tvar xScale = element._xScale;\r\n\tvar yScale = element._yScale || element._scale; // handle radar || polarArea charts\r\n\tvar index = element._index;\r\n\tvar datasetIndex = element._datasetIndex;\r\n\tvar controller = element._chart.getDatasetMeta(datasetIndex).controller;\r\n\tvar indexScale = controller._getIndexScale();\r\n\tvar valueScale = controller._getValueScale();\r\n\r\n\treturn {\r\n\t\txLabel: xScale ? xScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tyLabel: yScale ? yScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tlabel: indexScale ? '' + indexScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tvalue: valueScale ? '' + valueScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tindex: index,\r\n\t\tdatasetIndex: datasetIndex,\r\n\t\tx: element._model.x,\r\n\t\ty: element._model.y\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper to get the reset model for the tooltip\r\n * @param tooltipOpts {object} the tooltip options\r\n */\r\nfunction getBaseModel(tooltipOpts) {\r\n\tvar globalDefaults = core_defaults.global;\r\n\r\n\treturn {\r\n\t\t// Positioning\r\n\t\txPadding: tooltipOpts.xPadding,\r\n\t\tyPadding: tooltipOpts.yPadding,\r\n\t\txAlign: tooltipOpts.xAlign,\r\n\t\tyAlign: tooltipOpts.yAlign,\r\n\r\n\t\t// Drawing direction and text direction\r\n\t\trtl: tooltipOpts.rtl,\r\n\t\ttextDirection: tooltipOpts.textDirection,\r\n\r\n\t\t// Body\r\n\t\tbodyFontColor: tooltipOpts.bodyFontColor,\r\n\t\t_bodyFontFamily: valueOrDefault$8(tooltipOpts.bodyFontFamily, globalDefaults.defaultFontFamily),\r\n\t\t_bodyFontStyle: valueOrDefault$8(tooltipOpts.bodyFontStyle, globalDefaults.defaultFontStyle),\r\n\t\t_bodyAlign: tooltipOpts.bodyAlign,\r\n\t\tbodyFontSize: valueOrDefault$8(tooltipOpts.bodyFontSize, globalDefaults.defaultFontSize),\r\n\t\tbodySpacing: tooltipOpts.bodySpacing,\r\n\r\n\t\t// Title\r\n\t\ttitleFontColor: tooltipOpts.titleFontColor,\r\n\t\t_titleFontFamily: valueOrDefault$8(tooltipOpts.titleFontFamily, globalDefaults.defaultFontFamily),\r\n\t\t_titleFontStyle: valueOrDefault$8(tooltipOpts.titleFontStyle, globalDefaults.defaultFontStyle),\r\n\t\ttitleFontSize: valueOrDefault$8(tooltipOpts.titleFontSize, globalDefaults.defaultFontSize),\r\n\t\t_titleAlign: tooltipOpts.titleAlign,\r\n\t\ttitleSpacing: tooltipOpts.titleSpacing,\r\n\t\ttitleMarginBottom: tooltipOpts.titleMarginBottom,\r\n\r\n\t\t// Footer\r\n\t\tfooterFontColor: tooltipOpts.footerFontColor,\r\n\t\t_footerFontFamily: valueOrDefault$8(tooltipOpts.footerFontFamily, globalDefaults.defaultFontFamily),\r\n\t\t_footerFontStyle: valueOrDefault$8(tooltipOpts.footerFontStyle, globalDefaults.defaultFontStyle),\r\n\t\tfooterFontSize: valueOrDefault$8(tooltipOpts.footerFontSize, globalDefaults.defaultFontSize),\r\n\t\t_footerAlign: tooltipOpts.footerAlign,\r\n\t\tfooterSpacing: tooltipOpts.footerSpacing,\r\n\t\tfooterMarginTop: tooltipOpts.footerMarginTop,\r\n\r\n\t\t// Appearance\r\n\t\tcaretSize: tooltipOpts.caretSize,\r\n\t\tcornerRadius: tooltipOpts.cornerRadius,\r\n\t\tbackgroundColor: tooltipOpts.backgroundColor,\r\n\t\topacity: 0,\r\n\t\tlegendColorBackground: tooltipOpts.multiKeyBackground,\r\n\t\tdisplayColors: tooltipOpts.displayColors,\r\n\t\tborderColor: tooltipOpts.borderColor,\r\n\t\tborderWidth: tooltipOpts.borderWidth\r\n\t};\r\n}\r\n\r\n/**\r\n * Get the size of the tooltip\r\n */\r\nfunction getTooltipSize(tooltip, model) {\r\n\tvar ctx = tooltip._chart.ctx;\r\n\r\n\tvar height = model.yPadding * 2; // Tooltip Padding\r\n\tvar width = 0;\r\n\r\n\t// Count of all lines in the body\r\n\tvar body = model.body;\r\n\tvar combinedBodyLength = body.reduce(function(count, bodyItem) {\r\n\t\treturn count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length;\r\n\t}, 0);\r\n\tcombinedBodyLength += model.beforeBody.length + model.afterBody.length;\r\n\r\n\tvar titleLineCount = model.title.length;\r\n\tvar footerLineCount = model.footer.length;\r\n\tvar titleFontSize = model.titleFontSize;\r\n\tvar bodyFontSize = model.bodyFontSize;\r\n\tvar footerFontSize = model.footerFontSize;\r\n\r\n\theight += titleLineCount * titleFontSize; // Title Lines\r\n\theight += titleLineCount ? (titleLineCount - 1) * model.titleSpacing : 0; // Title Line Spacing\r\n\theight += titleLineCount ? model.titleMarginBottom : 0; // Title's bottom Margin\r\n\theight += combinedBodyLength * bodyFontSize; // Body Lines\r\n\theight += combinedBodyLength ? (combinedBodyLength - 1) * model.bodySpacing : 0; // Body Line Spacing\r\n\theight += footerLineCount ? model.footerMarginTop : 0; // Footer Margin\r\n\theight += footerLineCount * (footerFontSize); // Footer Lines\r\n\theight += footerLineCount ? (footerLineCount - 1) * model.footerSpacing : 0; // Footer Line Spacing\r\n\r\n\t// Title width\r\n\tvar widthPadding = 0;\r\n\tvar maxLineWidth = function(line) {\r\n\t\twidth = Math.max(width, ctx.measureText(line).width + widthPadding);\r\n\t};\r\n\r\n\tctx.font = helpers$1.fontString(titleFontSize, model._titleFontStyle, model._titleFontFamily);\r\n\thelpers$1.each(model.title, maxLineWidth);\r\n\r\n\t// Body width\r\n\tctx.font = helpers$1.fontString(bodyFontSize, model._bodyFontStyle, model._bodyFontFamily);\r\n\thelpers$1.each(model.beforeBody.concat(model.afterBody), maxLineWidth);\r\n\r\n\t// Body lines may include some extra width due to the color box\r\n\twidthPadding = model.displayColors ? (bodyFontSize + 2) : 0;\r\n\thelpers$1.each(body, function(bodyItem) {\r\n\t\thelpers$1.each(bodyItem.before, maxLineWidth);\r\n\t\thelpers$1.each(bodyItem.lines, maxLineWidth);\r\n\t\thelpers$1.each(bodyItem.after, maxLineWidth);\r\n\t});\r\n\r\n\t// Reset back to 0\r\n\twidthPadding = 0;\r\n\r\n\t// Footer width\r\n\tctx.font = helpers$1.fontString(footerFontSize, model._footerFontStyle, model._footerFontFamily);\r\n\thelpers$1.each(model.footer, maxLineWidth);\r\n\r\n\t// Add padding\r\n\twidth += 2 * model.xPadding;\r\n\r\n\treturn {\r\n\t\twidth: width,\r\n\t\theight: height\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper to get the alignment of a tooltip given the size\r\n */\r\nfunction determineAlignment(tooltip, size) {\r\n\tvar model = tooltip._model;\r\n\tvar chart = tooltip._chart;\r\n\tvar chartArea = tooltip._chart.chartArea;\r\n\tvar xAlign = 'center';\r\n\tvar yAlign = 'center';\r\n\r\n\tif (model.y < size.height) {\r\n\t\tyAlign = 'top';\r\n\t} else if (model.y > (chart.height - size.height)) {\r\n\t\tyAlign = 'bottom';\r\n\t}\r\n\r\n\tvar lf, rf; // functions to determine left, right alignment\r\n\tvar olf, orf; // functions to determine if left/right alignment causes tooltip to go outside chart\r\n\tvar yf; // function to get the y alignment if the tooltip goes outside of the left or right edges\r\n\tvar midX = (chartArea.left + chartArea.right) / 2;\r\n\tvar midY = (chartArea.top + chartArea.bottom) / 2;\r\n\r\n\tif (yAlign === 'center') {\r\n\t\tlf = function(x) {\r\n\t\t\treturn x <= midX;\r\n\t\t};\r\n\t\trf = function(x) {\r\n\t\t\treturn x > midX;\r\n\t\t};\r\n\t} else {\r\n\t\tlf = function(x) {\r\n\t\t\treturn x <= (size.width / 2);\r\n\t\t};\r\n\t\trf = function(x) {\r\n\t\t\treturn x >= (chart.width - (size.width / 2));\r\n\t\t};\r\n\t}\r\n\r\n\tolf = function(x) {\r\n\t\treturn x + size.width + model.caretSize + model.caretPadding > chart.width;\r\n\t};\r\n\torf = function(x) {\r\n\t\treturn x - size.width - model.caretSize - model.caretPadding < 0;\r\n\t};\r\n\tyf = function(y) {\r\n\t\treturn y <= midY ? 'top' : 'bottom';\r\n\t};\r\n\r\n\tif (lf(model.x)) {\r\n\t\txAlign = 'left';\r\n\r\n\t\t// Is tooltip too wide and goes over the right side of the chart.?\r\n\t\tif (olf(model.x)) {\r\n\t\t\txAlign = 'center';\r\n\t\t\tyAlign = yf(model.y);\r\n\t\t}\r\n\t} else if (rf(model.x)) {\r\n\t\txAlign = 'right';\r\n\r\n\t\t// Is tooltip too wide and goes outside left edge of canvas?\r\n\t\tif (orf(model.x)) {\r\n\t\t\txAlign = 'center';\r\n\t\t\tyAlign = yf(model.y);\r\n\t\t}\r\n\t}\r\n\r\n\tvar opts = tooltip._options;\r\n\treturn {\r\n\t\txAlign: opts.xAlign ? opts.xAlign : xAlign,\r\n\t\tyAlign: opts.yAlign ? opts.yAlign : yAlign\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\r\n */\r\nfunction getBackgroundPoint(vm, size, alignment, chart) {\r\n\t// Background Position\r\n\tvar x = vm.x;\r\n\tvar y = vm.y;\r\n\r\n\tvar caretSize = vm.caretSize;\r\n\tvar caretPadding = vm.caretPadding;\r\n\tvar cornerRadius = vm.cornerRadius;\r\n\tvar xAlign = alignment.xAlign;\r\n\tvar yAlign = alignment.yAlign;\r\n\tvar paddingAndSize = caretSize + caretPadding;\r\n\tvar radiusAndPadding = cornerRadius + caretPadding;\r\n\r\n\tif (xAlign === 'right') {\r\n\t\tx -= size.width;\r\n\t} else if (xAlign === 'center') {\r\n\t\tx -= (size.width / 2);\r\n\t\tif (x + size.width > chart.width) {\r\n\t\t\tx = chart.width - size.width;\r\n\t\t}\r\n\t\tif (x < 0) {\r\n\t\t\tx = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tif (yAlign === 'top') {\r\n\t\ty += paddingAndSize;\r\n\t} else if (yAlign === 'bottom') {\r\n\t\ty -= size.height + paddingAndSize;\r\n\t} else {\r\n\t\ty -= (size.height / 2);\r\n\t}\r\n\r\n\tif (yAlign === 'center') {\r\n\t\tif (xAlign === 'left') {\r\n\t\t\tx += paddingAndSize;\r\n\t\t} else if (xAlign === 'right') {\r\n\t\t\tx -= paddingAndSize;\r\n\t\t}\r\n\t} else if (xAlign === 'left') {\r\n\t\tx -= radiusAndPadding;\r\n\t} else if (xAlign === 'right') {\r\n\t\tx += radiusAndPadding;\r\n\t}\r\n\r\n\treturn {\r\n\t\tx: x,\r\n\t\ty: y\r\n\t};\r\n}\r\n\r\nfunction getAlignedX(vm, align) {\r\n\treturn align === 'center'\r\n\t\t? vm.x + vm.width / 2\r\n\t\t: align === 'right'\r\n\t\t\t? vm.x + vm.width - vm.xPadding\r\n\t\t\t: vm.x + vm.xPadding;\r\n}\r\n\r\n/**\r\n * Helper to build before and after body lines\r\n */\r\nfunction getBeforeAfterBodyLines(callback) {\r\n\treturn pushOrConcat([], splitNewlines(callback));\r\n}\r\n\r\nvar exports$4 = core_element.extend({\r\n\tinitialize: function() {\r\n\t\tthis._model = getBaseModel(this._options);\r\n\t\tthis._lastActive = [];\r\n\t},\r\n\r\n\t// Get the title\r\n\t// Args are: (tooltipItem, data)\r\n\tgetTitle: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me._options;\r\n\t\tvar callbacks = opts.callbacks;\r\n\r\n\t\tvar beforeTitle = callbacks.beforeTitle.apply(me, arguments);\r\n\t\tvar title = callbacks.title.apply(me, arguments);\r\n\t\tvar afterTitle = callbacks.afterTitle.apply(me, arguments);\r\n\r\n\t\tvar lines = [];\r\n\t\tlines = pushOrConcat(lines, splitNewlines(beforeTitle));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(title));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(afterTitle));\r\n\r\n\t\treturn lines;\r\n\t},\r\n\r\n\t// Args are: (tooltipItem, data)\r\n\tgetBeforeBody: function() {\r\n\t\treturn getBeforeAfterBodyLines(this._options.callbacks.beforeBody.apply(this, arguments));\r\n\t},\r\n\r\n\t// Args are: (tooltipItem, data)\r\n\tgetBody: function(tooltipItems, data) {\r\n\t\tvar me = this;\r\n\t\tvar callbacks = me._options.callbacks;\r\n\t\tvar bodyItems = [];\r\n\r\n\t\thelpers$1.each(tooltipItems, function(tooltipItem) {\r\n\t\t\tvar bodyItem = {\r\n\t\t\t\tbefore: [],\r\n\t\t\t\tlines: [],\r\n\t\t\t\tafter: []\r\n\t\t\t};\r\n\t\t\tpushOrConcat(bodyItem.before, splitNewlines(callbacks.beforeLabel.call(me, tooltipItem, data)));\r\n\t\t\tpushOrConcat(bodyItem.lines, callbacks.label.call(me, tooltipItem, data));\r\n\t\t\tpushOrConcat(bodyItem.after, splitNewlines(callbacks.afterLabel.call(me, tooltipItem, data)));\r\n\r\n\t\t\tbodyItems.push(bodyItem);\r\n\t\t});\r\n\r\n\t\treturn bodyItems;\r\n\t},\r\n\r\n\t// Args are: (tooltipItem, data)\r\n\tgetAfterBody: function() {\r\n\t\treturn getBeforeAfterBodyLines(this._options.callbacks.afterBody.apply(this, arguments));\r\n\t},\r\n\r\n\t// Get the footer and beforeFooter and afterFooter lines\r\n\t// Args are: (tooltipItem, data)\r\n\tgetFooter: function() {\r\n\t\tvar me = this;\r\n\t\tvar callbacks = me._options.callbacks;\r\n\r\n\t\tvar beforeFooter = callbacks.beforeFooter.apply(me, arguments);\r\n\t\tvar footer = callbacks.footer.apply(me, arguments);\r\n\t\tvar afterFooter = callbacks.afterFooter.apply(me, arguments);\r\n\r\n\t\tvar lines = [];\r\n\t\tlines = pushOrConcat(lines, splitNewlines(beforeFooter));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(footer));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(afterFooter));\r\n\r\n\t\treturn lines;\r\n\t},\r\n\r\n\tupdate: function(changed) {\r\n\t\tvar me = this;\r\n\t\tvar opts = me._options;\r\n\r\n\t\t// Need to regenerate the model because its faster than using extend and it is necessary due to the optimization in Chart.Element.transition\r\n\t\t// that does _view = _model if ease === 1. This causes the 2nd tooltip update to set properties in both the view and model at the same time\r\n\t\t// which breaks any animations.\r\n\t\tvar existingModel = me._model;\r\n\t\tvar model = me._model = getBaseModel(opts);\r\n\t\tvar active = me._active;\r\n\r\n\t\tvar data = me._data;\r\n\r\n\t\t// In the case where active.length === 0 we need to keep these at existing values for good animations\r\n\t\tvar alignment = {\r\n\t\t\txAlign: existingModel.xAlign,\r\n\t\t\tyAlign: existingModel.yAlign\r\n\t\t};\r\n\t\tvar backgroundPoint = {\r\n\t\t\tx: existingModel.x,\r\n\t\t\ty: existingModel.y\r\n\t\t};\r\n\t\tvar tooltipSize = {\r\n\t\t\twidth: existingModel.width,\r\n\t\t\theight: existingModel.height\r\n\t\t};\r\n\t\tvar tooltipPosition = {\r\n\t\t\tx: existingModel.caretX,\r\n\t\t\ty: existingModel.caretY\r\n\t\t};\r\n\r\n\t\tvar i, len;\r\n\r\n\t\tif (active.length) {\r\n\t\t\tmodel.opacity = 1;\r\n\r\n\t\t\tvar labelColors = [];\r\n\t\t\tvar labelTextColors = [];\r\n\t\t\ttooltipPosition = positioners[opts.position].call(me, active, me._eventPosition);\r\n\r\n\t\t\tvar tooltipItems = [];\r\n\t\t\tfor (i = 0, len = active.length; i < len; ++i) {\r\n\t\t\t\ttooltipItems.push(createTooltipItem(active[i]));\r\n\t\t\t}\r\n\r\n\t\t\t// If the user provided a filter function, use it to modify the tooltip items\r\n\t\t\tif (opts.filter) {\r\n\t\t\t\ttooltipItems = tooltipItems.filter(function(a) {\r\n\t\t\t\t\treturn opts.filter(a, data);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// If the user provided a sorting function, use it to modify the tooltip items\r\n\t\t\tif (opts.itemSort) {\r\n\t\t\t\ttooltipItems = tooltipItems.sort(function(a, b) {\r\n\t\t\t\t\treturn opts.itemSort(a, b, data);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Determine colors for boxes\r\n\t\t\thelpers$1.each(tooltipItems, function(tooltipItem) {\r\n\t\t\t\tlabelColors.push(opts.callbacks.labelColor.call(me, tooltipItem, me._chart));\r\n\t\t\t\tlabelTextColors.push(opts.callbacks.labelTextColor.call(me, tooltipItem, me._chart));\r\n\t\t\t});\r\n\r\n\r\n\t\t\t// Build the Text Lines\r\n\t\t\tmodel.title = me.getTitle(tooltipItems, data);\r\n\t\t\tmodel.beforeBody = me.getBeforeBody(tooltipItems, data);\r\n\t\t\tmodel.body = me.getBody(tooltipItems, data);\r\n\t\t\tmodel.afterBody = me.getAfterBody(tooltipItems, data);\r\n\t\t\tmodel.footer = me.getFooter(tooltipItems, data);\r\n\r\n\t\t\t// Initial positioning and colors\r\n\t\t\tmodel.x = tooltipPosition.x;\r\n\t\t\tmodel.y = tooltipPosition.y;\r\n\t\t\tmodel.caretPadding = opts.caretPadding;\r\n\t\t\tmodel.labelColors = labelColors;\r\n\t\t\tmodel.labelTextColors = labelTextColors;\r\n\r\n\t\t\t// data points\r\n\t\t\tmodel.dataPoints = tooltipItems;\r\n\r\n\t\t\t// We need to determine alignment of the tooltip\r\n\t\t\ttooltipSize = getTooltipSize(this, model);\r\n\t\t\talignment = determineAlignment(this, tooltipSize);\r\n\t\t\t// Final Size and Position\r\n\t\t\tbackgroundPoint = getBackgroundPoint(model, tooltipSize, alignment, me._chart);\r\n\t\t} else {\r\n\t\t\tmodel.opacity = 0;\r\n\t\t}\r\n\r\n\t\tmodel.xAlign = alignment.xAlign;\r\n\t\tmodel.yAlign = alignment.yAlign;\r\n\t\tmodel.x = backgroundPoint.x;\r\n\t\tmodel.y = backgroundPoint.y;\r\n\t\tmodel.width = tooltipSize.width;\r\n\t\tmodel.height = tooltipSize.height;\r\n\r\n\t\t// Point where the caret on the tooltip points to\r\n\t\tmodel.caretX = tooltipPosition.x;\r\n\t\tmodel.caretY = tooltipPosition.y;\r\n\r\n\t\tme._model = model;\r\n\r\n\t\tif (changed && opts.custom) {\r\n\t\t\topts.custom.call(me, model);\r\n\t\t}\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\tdrawCaret: function(tooltipPoint, size) {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar caretPosition = this.getCaretPosition(tooltipPoint, size, vm);\r\n\r\n\t\tctx.lineTo(caretPosition.x1, caretPosition.y1);\r\n\t\tctx.lineTo(caretPosition.x2, caretPosition.y2);\r\n\t\tctx.lineTo(caretPosition.x3, caretPosition.y3);\r\n\t},\r\n\tgetCaretPosition: function(tooltipPoint, size, vm) {\r\n\t\tvar x1, x2, x3, y1, y2, y3;\r\n\t\tvar caretSize = vm.caretSize;\r\n\t\tvar cornerRadius = vm.cornerRadius;\r\n\t\tvar xAlign = vm.xAlign;\r\n\t\tvar yAlign = vm.yAlign;\r\n\t\tvar ptX = tooltipPoint.x;\r\n\t\tvar ptY = tooltipPoint.y;\r\n\t\tvar width = size.width;\r\n\t\tvar height = size.height;\r\n\r\n\t\tif (yAlign === 'center') {\r\n\t\t\ty2 = ptY + (height / 2);\r\n\r\n\t\t\tif (xAlign === 'left') {\r\n\t\t\t\tx1 = ptX;\r\n\t\t\t\tx2 = x1 - caretSize;\r\n\t\t\t\tx3 = x1;\r\n\r\n\t\t\t\ty1 = y2 + caretSize;\r\n\t\t\t\ty3 = y2 - caretSize;\r\n\t\t\t} else {\r\n\t\t\t\tx1 = ptX + width;\r\n\t\t\t\tx2 = x1 + caretSize;\r\n\t\t\t\tx3 = x1;\r\n\r\n\t\t\t\ty1 = y2 - caretSize;\r\n\t\t\t\ty3 = y2 + caretSize;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (xAlign === 'left') {\r\n\t\t\t\tx2 = ptX + cornerRadius + (caretSize);\r\n\t\t\t\tx1 = x2 - caretSize;\r\n\t\t\t\tx3 = x2 + caretSize;\r\n\t\t\t} else if (xAlign === 'right') {\r\n\t\t\t\tx2 = ptX + width - cornerRadius - caretSize;\r\n\t\t\t\tx1 = x2 - caretSize;\r\n\t\t\t\tx3 = x2 + caretSize;\r\n\t\t\t} else {\r\n\t\t\t\tx2 = vm.caretX;\r\n\t\t\t\tx1 = x2 - caretSize;\r\n\t\t\t\tx3 = x2 + caretSize;\r\n\t\t\t}\r\n\t\t\tif (yAlign === 'top') {\r\n\t\t\t\ty1 = ptY;\r\n\t\t\t\ty2 = y1 - caretSize;\r\n\t\t\t\ty3 = y1;\r\n\t\t\t} else {\r\n\t\t\t\ty1 = ptY + height;\r\n\t\t\t\ty2 = y1 + caretSize;\r\n\t\t\t\ty3 = y1;\r\n\t\t\t\t// invert drawing order\r\n\t\t\t\tvar tmp = x3;\r\n\t\t\t\tx3 = x1;\r\n\t\t\t\tx1 = tmp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {x1: x1, x2: x2, x3: x3, y1: y1, y2: y2, y3: y3};\r\n\t},\r\n\r\n\tdrawTitle: function(pt, vm, ctx) {\r\n\t\tvar title = vm.title;\r\n\t\tvar length = title.length;\r\n\t\tvar titleFontSize, titleSpacing, i;\r\n\r\n\t\tif (length) {\r\n\t\t\tvar rtlHelper = getRtlHelper(vm.rtl, vm.x, vm.width);\r\n\r\n\t\t\tpt.x = getAlignedX(vm, vm._titleAlign);\r\n\r\n\t\t\tctx.textAlign = rtlHelper.textAlign(vm._titleAlign);\r\n\t\t\tctx.textBaseline = 'middle';\r\n\r\n\t\t\ttitleFontSize = vm.titleFontSize;\r\n\t\t\ttitleSpacing = vm.titleSpacing;\r\n\r\n\t\t\tctx.fillStyle = vm.titleFontColor;\r\n\t\t\tctx.font = helpers$1.fontString(titleFontSize, vm._titleFontStyle, vm._titleFontFamily);\r\n\r\n\t\t\tfor (i = 0; i < length; ++i) {\r\n\t\t\t\tctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFontSize / 2);\r\n\t\t\t\tpt.y += titleFontSize + titleSpacing; // Line Height and spacing\r\n\r\n\t\t\t\tif (i + 1 === length) {\r\n\t\t\t\t\tpt.y += vm.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdrawBody: function(pt, vm, ctx) {\r\n\t\tvar bodyFontSize = vm.bodyFontSize;\r\n\t\tvar bodySpacing = vm.bodySpacing;\r\n\t\tvar bodyAlign = vm._bodyAlign;\r\n\t\tvar body = vm.body;\r\n\t\tvar drawColorBoxes = vm.displayColors;\r\n\t\tvar xLinePadding = 0;\r\n\t\tvar colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;\r\n\r\n\t\tvar rtlHelper = getRtlHelper(vm.rtl, vm.x, vm.width);\r\n\r\n\t\tvar fillLineOfText = function(line) {\r\n\t\t\tctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyFontSize / 2);\r\n\t\t\tpt.y += bodyFontSize + bodySpacing;\r\n\t\t};\r\n\r\n\t\tvar bodyItem, textColor, labelColors, lines, i, j, ilen, jlen;\r\n\t\tvar bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\r\n\r\n\t\tctx.textAlign = bodyAlign;\r\n\t\tctx.textBaseline = 'middle';\r\n\t\tctx.font = helpers$1.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\r\n\r\n\t\tpt.x = getAlignedX(vm, bodyAlignForCalculation);\r\n\r\n\t\t// Before body lines\r\n\t\tctx.fillStyle = vm.bodyFontColor;\r\n\t\thelpers$1.each(vm.beforeBody, fillLineOfText);\r\n\r\n\t\txLinePadding = drawColorBoxes && bodyAlignForCalculation !== 'right'\r\n\t\t\t? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)\r\n\t\t\t: 0;\r\n\r\n\t\t// Draw body lines now\r\n\t\tfor (i = 0, ilen = body.length; i < ilen; ++i) {\r\n\t\t\tbodyItem = body[i];\r\n\t\t\ttextColor = vm.labelTextColors[i];\r\n\t\t\tlabelColors = vm.labelColors[i];\r\n\r\n\t\t\tctx.fillStyle = textColor;\r\n\t\t\thelpers$1.each(bodyItem.before, fillLineOfText);\r\n\r\n\t\t\tlines = bodyItem.lines;\r\n\t\t\tfor (j = 0, jlen = lines.length; j < jlen; ++j) {\r\n\t\t\t\t// Draw Legend-like boxes if needed\r\n\t\t\t\tif (drawColorBoxes) {\r\n\t\t\t\t\tvar rtlColorX = rtlHelper.x(colorX);\r\n\r\n\t\t\t\t\t// Fill a white rect so that colours merge nicely if the opacity is < 1\r\n\t\t\t\t\tctx.fillStyle = vm.legendColorBackground;\r\n\t\t\t\t\tctx.fillRect(rtlHelper.leftForLtr(rtlColorX, bodyFontSize), pt.y, bodyFontSize, bodyFontSize);\r\n\r\n\t\t\t\t\t// Border\r\n\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\tctx.strokeStyle = labelColors.borderColor;\r\n\t\t\t\t\tctx.strokeRect(rtlHelper.leftForLtr(rtlColorX, bodyFontSize), pt.y, bodyFontSize, bodyFontSize);\r\n\r\n\t\t\t\t\t// Inner square\r\n\t\t\t\t\tctx.fillStyle = labelColors.backgroundColor;\r\n\t\t\t\t\tctx.fillRect(rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), bodyFontSize - 2), pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\r\n\t\t\t\t\tctx.fillStyle = textColor;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfillLineOfText(lines[j]);\r\n\t\t\t}\r\n\r\n\t\t\thelpers$1.each(bodyItem.after, fillLineOfText);\r\n\t\t}\r\n\r\n\t\t// Reset back to 0 for after body\r\n\t\txLinePadding = 0;\r\n\r\n\t\t// After body lines\r\n\t\thelpers$1.each(vm.afterBody, fillLineOfText);\r\n\t\tpt.y -= bodySpacing; // Remove last body spacing\r\n\t},\r\n\r\n\tdrawFooter: function(pt, vm, ctx) {\r\n\t\tvar footer = vm.footer;\r\n\t\tvar length = footer.length;\r\n\t\tvar footerFontSize, i;\r\n\r\n\t\tif (length) {\r\n\t\t\tvar rtlHelper = getRtlHelper(vm.rtl, vm.x, vm.width);\r\n\r\n\t\t\tpt.x = getAlignedX(vm, vm._footerAlign);\r\n\t\t\tpt.y += vm.footerMarginTop;\r\n\r\n\t\t\tctx.textAlign = rtlHelper.textAlign(vm._footerAlign);\r\n\t\t\tctx.textBaseline = 'middle';\r\n\r\n\t\t\tfooterFontSize = vm.footerFontSize;\r\n\r\n\t\t\tctx.fillStyle = vm.footerFontColor;\r\n\t\t\tctx.font = helpers$1.fontString(footerFontSize, vm._footerFontStyle, vm._footerFontFamily);\r\n\r\n\t\t\tfor (i = 0; i < length; ++i) {\r\n\t\t\t\tctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFontSize / 2);\r\n\t\t\t\tpt.y += footerFontSize + vm.footerSpacing;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdrawBackground: function(pt, vm, ctx, tooltipSize) {\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.strokeStyle = vm.borderColor;\r\n\t\tctx.lineWidth = vm.borderWidth;\r\n\t\tvar xAlign = vm.xAlign;\r\n\t\tvar yAlign = vm.yAlign;\r\n\t\tvar x = pt.x;\r\n\t\tvar y = pt.y;\r\n\t\tvar width = tooltipSize.width;\r\n\t\tvar height = tooltipSize.height;\r\n\t\tvar radius = vm.cornerRadius;\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x + radius, y);\r\n\t\tif (yAlign === 'top') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x + width - radius, y);\r\n\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\r\n\t\tif (yAlign === 'center' && xAlign === 'right') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x + width, y + height - radius);\r\n\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\r\n\t\tif (yAlign === 'bottom') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x + radius, y + height);\r\n\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\r\n\t\tif (yAlign === 'center' && xAlign === 'left') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x, y + radius);\r\n\t\tctx.quadraticCurveTo(x, y, x + radius, y);\r\n\t\tctx.closePath();\r\n\r\n\t\tctx.fill();\r\n\r\n\t\tif (vm.borderWidth > 0) {\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm.opacity === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tooltipSize = {\r\n\t\t\twidth: vm.width,\r\n\t\t\theight: vm.height\r\n\t\t};\r\n\t\tvar pt = {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\r\n\t\t// IE11/Edge does not like very small opacities, so snap to 0\r\n\t\tvar opacity = Math.abs(vm.opacity < 1e-3) ? 0 : vm.opacity;\r\n\r\n\t\t// Truthy/falsey value for empty tooltip\r\n\t\tvar hasTooltipContent = vm.title.length || vm.beforeBody.length || vm.body.length || vm.afterBody.length || vm.footer.length;\r\n\r\n\t\tif (this._options.enabled && hasTooltipContent) {\r\n\t\t\tctx.save();\r\n\t\t\tctx.globalAlpha = opacity;\r\n\r\n\t\t\t// Draw Background\r\n\t\t\tthis.drawBackground(pt, vm, ctx, tooltipSize);\r\n\r\n\t\t\t// Draw Title, Body, and Footer\r\n\t\t\tpt.y += vm.yPadding;\r\n\r\n\t\t\thelpers$1.rtl.overrideTextDirection(ctx, vm.textDirection);\r\n\r\n\t\t\t// Titles\r\n\t\t\tthis.drawTitle(pt, vm, ctx);\r\n\r\n\t\t\t// Body\r\n\t\t\tthis.drawBody(pt, vm, ctx);\r\n\r\n\t\t\t// Footer\r\n\t\t\tthis.drawFooter(pt, vm, ctx);\r\n\r\n\t\t\thelpers$1.rtl.restoreTextDirection(ctx, vm.textDirection);\r\n\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Handle an event\r\n\t * @private\r\n\t * @param {IEvent} event - The event to handle\r\n\t * @returns {boolean} true if the tooltip changed\r\n\t */\r\n\thandleEvent: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar options = me._options;\r\n\t\tvar changed = false;\r\n\r\n\t\tme._lastActive = me._lastActive || [];\r\n\r\n\t\t// Find Active Elements for tooltips\r\n\t\tif (e.type === 'mouseout') {\r\n\t\t\tme._active = [];\r\n\t\t} else {\r\n\t\t\tme._active = me._chart.getElementsAtEventForMode(e, options.mode, options);\r\n\t\t\tif (options.reverse) {\r\n\t\t\t\tme._active.reverse();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remember Last Actives\r\n\t\tchanged = !helpers$1.arrayEquals(me._active, me._lastActive);\r\n\r\n\t\t// Only handle target event on tooltip change\r\n\t\tif (changed) {\r\n\t\t\tme._lastActive = me._active;\r\n\r\n\t\t\tif (options.enabled || options.custom) {\r\n\t\t\t\tme._eventPosition = {\r\n\t\t\t\t\tx: e.x,\r\n\t\t\t\t\ty: e.y\r\n\t\t\t\t};\r\n\r\n\t\t\t\tme.update(true);\r\n\t\t\t\tme.pivot();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn changed;\r\n\t}\r\n});\r\n\r\n/**\r\n * @namespace Chart.Tooltip.positioners\r\n */\r\nvar positioners_1 = positioners;\r\n\r\nvar core_tooltip = exports$4;\ncore_tooltip.positioners = positioners_1;\n\nvar valueOrDefault$9 = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {},\r\n\tevents: [\r\n\t\t'mousemove',\r\n\t\t'mouseout',\r\n\t\t'click',\r\n\t\t'touchstart',\r\n\t\t'touchmove'\r\n\t],\r\n\thover: {\r\n\t\tonHover: null,\r\n\t\tmode: 'nearest',\r\n\t\tintersect: true,\r\n\t\tanimationDuration: 400\r\n\t},\r\n\tonClick: null,\r\n\tmaintainAspectRatio: true,\r\n\tresponsive: true,\r\n\tresponsiveAnimationDuration: 0\r\n});\r\n\r\n/**\r\n * Recursively merge the given config objects representing the `scales` option\r\n * by incorporating scale defaults in `xAxes` and `yAxes` array items, then\r\n * returns a deep copy of the result, thus doesn't alter inputs.\r\n */\r\nfunction mergeScaleConfig(/* config objects ... */) {\r\n\treturn helpers$1.merge(Object.create(null), [].slice.call(arguments), {\r\n\t\tmerger: function(key, target, source, options) {\r\n\t\t\tif (key === 'xAxes' || key === 'yAxes') {\r\n\t\t\t\tvar slen = source[key].length;\r\n\t\t\t\tvar i, type, scale;\r\n\r\n\t\t\t\tif (!target[key]) {\r\n\t\t\t\t\ttarget[key] = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (i = 0; i < slen; ++i) {\r\n\t\t\t\t\tscale = source[key][i];\r\n\t\t\t\t\ttype = valueOrDefault$9(scale.type, key === 'xAxes' ? 'category' : 'linear');\r\n\r\n\t\t\t\t\tif (i >= target[key].length) {\r\n\t\t\t\t\t\ttarget[key].push({});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!target[key][i].type || (scale.type && scale.type !== target[key][i].type)) {\r\n\t\t\t\t\t\t// new/untyped scale or type changed: let's apply the new defaults\r\n\t\t\t\t\t\t// then merge source scale to correctly overwrite the defaults.\r\n\t\t\t\t\t\thelpers$1.merge(target[key][i], [core_scaleService.getScaleDefaults(type), scale]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// scales type are the same\r\n\t\t\t\t\t\thelpers$1.merge(target[key][i], scale);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\thelpers$1._merger(key, target, source, options);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * Recursively merge the given config objects as the root options by handling\r\n * default scale options for the `scales` and `scale` properties, then returns\r\n * a deep copy of the result, thus doesn't alter inputs.\r\n */\r\nfunction mergeConfig(/* config objects ... */) {\r\n\treturn helpers$1.merge(Object.create(null), [].slice.call(arguments), {\r\n\t\tmerger: function(key, target, source, options) {\r\n\t\t\tvar tval = target[key] || Object.create(null);\r\n\t\t\tvar sval = source[key];\r\n\r\n\t\t\tif (key === 'scales') {\r\n\t\t\t\t// scale config merging is complex. Add our own function here for that\r\n\t\t\t\ttarget[key] = mergeScaleConfig(tval, sval);\r\n\t\t\t} else if (key === 'scale') {\r\n\t\t\t\t// used in polar area & radar charts since there is only one scale\r\n\t\t\t\ttarget[key] = helpers$1.merge(tval, [core_scaleService.getScaleDefaults(sval.type), sval]);\r\n\t\t\t} else {\r\n\t\t\t\thelpers$1._merger(key, target, source, options);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction initConfig(config) {\r\n\tconfig = config || Object.create(null);\r\n\r\n\t// Do NOT use mergeConfig for the data object because this method merges arrays\r\n\t// and so would change references to labels and datasets, preventing data updates.\r\n\tvar data = config.data = config.data || {};\r\n\tdata.datasets = data.datasets || [];\r\n\tdata.labels = data.labels || [];\r\n\r\n\tconfig.options = mergeConfig(\r\n\t\tcore_defaults.global,\r\n\t\tcore_defaults[config.type],\r\n\t\tconfig.options || {});\r\n\r\n\treturn config;\r\n}\r\n\r\nfunction updateConfig(chart) {\r\n\tvar newOptions = chart.options;\r\n\r\n\thelpers$1.each(chart.scales, function(scale) {\r\n\t\tcore_layouts.removeBox(chart, scale);\r\n\t});\r\n\r\n\tnewOptions = mergeConfig(\r\n\t\tcore_defaults.global,\r\n\t\tcore_defaults[chart.config.type],\r\n\t\tnewOptions);\r\n\r\n\tchart.options = chart.config.options = newOptions;\r\n\tchart.ensureScalesHaveIDs();\r\n\tchart.buildOrUpdateScales();\r\n\r\n\t// Tooltip\r\n\tchart.tooltip._options = newOptions.tooltips;\r\n\tchart.tooltip.initialize();\r\n}\r\n\r\nfunction nextAvailableScaleId(axesOpts, prefix, index) {\r\n\tvar id;\r\n\tvar hasId = function(obj) {\r\n\t\treturn obj.id === id;\r\n\t};\r\n\r\n\tdo {\r\n\t\tid = prefix + index++;\r\n\t} while (helpers$1.findIndex(axesOpts, hasId) >= 0);\r\n\r\n\treturn id;\r\n}\r\n\r\nfunction positionIsHorizontal(position) {\r\n\treturn position === 'top' || position === 'bottom';\r\n}\r\n\r\nfunction compare2Level(l1, l2) {\r\n\treturn function(a, b) {\r\n\t\treturn a[l1] === b[l1]\r\n\t\t\t? a[l2] - b[l2]\r\n\t\t\t: a[l1] - b[l1];\r\n\t};\r\n}\r\n\r\nvar Chart = function(item, config) {\r\n\tthis.construct(item, config);\r\n\treturn this;\r\n};\r\n\r\nhelpers$1.extend(Chart.prototype, /** @lends Chart */ {\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tconstruct: function(item, config) {\r\n\t\tvar me = this;\r\n\r\n\t\tconfig = initConfig(config);\r\n\r\n\t\tvar context = platform.acquireContext(item, config);\r\n\t\tvar canvas = context && context.canvas;\r\n\t\tvar height = canvas && canvas.height;\r\n\t\tvar width = canvas && canvas.width;\r\n\r\n\t\tme.id = helpers$1.uid();\r\n\t\tme.ctx = context;\r\n\t\tme.canvas = canvas;\r\n\t\tme.config = config;\r\n\t\tme.width = width;\r\n\t\tme.height = height;\r\n\t\tme.aspectRatio = height ? width / height : null;\r\n\t\tme.options = config.options;\r\n\t\tme._bufferedRender = false;\r\n\t\tme._layers = [];\r\n\r\n\t\t/**\r\n\t\t * Provided for backward compatibility, Chart and Chart.Controller have been merged,\r\n\t\t * the \"instance\" still need to be defined since it might be called from plugins.\r\n\t\t * @prop Chart#chart\r\n\t\t * @deprecated since version 2.6.0\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\tme.chart = me;\r\n\t\tme.controller = me; // chart.chart.controller #inception\r\n\r\n\t\t// Add the chart instance to the global namespace\r\n\t\tChart.instances[me.id] = me;\r\n\r\n\t\t// Define alias to the config data: `chart.data === chart.config.data`\r\n\t\tObject.defineProperty(me, 'data', {\r\n\t\t\tget: function() {\r\n\t\t\t\treturn me.config.data;\r\n\t\t\t},\r\n\t\t\tset: function(value) {\r\n\t\t\t\tme.config.data = value;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!context || !canvas) {\r\n\t\t\t// The given item is not a compatible context2d element, let's return before finalizing\r\n\t\t\t// the chart initialization but after setting basic chart / controller properties that\r\n\t\t\t// can help to figure out that the chart is not valid (e.g chart.canvas !== null);\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/2807\r\n\t\t\tconsole.error(\"Failed to create chart: can't acquire context from the given item\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tme.initialize();\r\n\t\tme.update();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tinitialize: function() {\r\n\t\tvar me = this;\r\n\r\n\t\t// Before init plugin notification\r\n\t\tcore_plugins.notify(me, 'beforeInit');\r\n\r\n\t\thelpers$1.retinaScale(me, me.options.devicePixelRatio);\r\n\r\n\t\tme.bindEvents();\r\n\r\n\t\tif (me.options.responsive) {\r\n\t\t\t// Initial resize before chart draws (must be silent to preserve initial animations).\r\n\t\t\tme.resize(true);\r\n\t\t}\r\n\r\n\t\tme.initToolTip();\r\n\r\n\t\t// After init plugin notification\r\n\t\tcore_plugins.notify(me, 'afterInit');\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\tclear: function() {\r\n\t\thelpers$1.canvas.clear(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tstop: function() {\r\n\t\t// Stops any current animation loop occurring\r\n\t\tcore_animations.cancelAnimation(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tresize: function(silent) {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar canvas = me.canvas;\r\n\t\tvar aspectRatio = (options.maintainAspectRatio && me.aspectRatio) || null;\r\n\r\n\t\t// the canvas render width and height will be casted to integers so make sure that\r\n\t\t// the canvas display style uses the same integer values to avoid blurring effect.\r\n\r\n\t\t// Set to 0 instead of canvas.size because the size defaults to 300x150 if the element is collapsed\r\n\t\tvar newWidth = Math.max(0, Math.floor(helpers$1.getMaximumWidth(canvas)));\r\n\t\tvar newHeight = Math.max(0, Math.floor(aspectRatio ? newWidth / aspectRatio : helpers$1.getMaximumHeight(canvas)));\r\n\r\n\t\tif (me.width === newWidth && me.height === newHeight) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcanvas.width = me.width = newWidth;\r\n\t\tcanvas.height = me.height = newHeight;\r\n\t\tcanvas.style.width = newWidth + 'px';\r\n\t\tcanvas.style.height = newHeight + 'px';\r\n\r\n\t\thelpers$1.retinaScale(me, options.devicePixelRatio);\r\n\r\n\t\tif (!silent) {\r\n\t\t\t// Notify any plugins about the resize\r\n\t\t\tvar newSize = {width: newWidth, height: newHeight};\r\n\t\t\tcore_plugins.notify(me, 'resize', [newSize]);\r\n\r\n\t\t\t// Notify of resize\r\n\t\t\tif (options.onResize) {\r\n\t\t\t\toptions.onResize(me, newSize);\r\n\t\t\t}\r\n\r\n\t\t\tme.stop();\r\n\t\t\tme.update({\r\n\t\t\t\tduration: options.responsiveAnimationDuration\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\tensureScalesHaveIDs: function() {\r\n\t\tvar options = this.options;\r\n\t\tvar scalesOptions = options.scales || {};\r\n\t\tvar scaleOptions = options.scale;\r\n\r\n\t\thelpers$1.each(scalesOptions.xAxes, function(xAxisOptions, index) {\r\n\t\t\tif (!xAxisOptions.id) {\r\n\t\t\t\txAxisOptions.id = nextAvailableScaleId(scalesOptions.xAxes, 'x-axis-', index);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thelpers$1.each(scalesOptions.yAxes, function(yAxisOptions, index) {\r\n\t\t\tif (!yAxisOptions.id) {\r\n\t\t\t\tyAxisOptions.id = nextAvailableScaleId(scalesOptions.yAxes, 'y-axis-', index);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (scaleOptions) {\r\n\t\t\tscaleOptions.id = scaleOptions.id || 'scale';\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Builds a map of scale ID to scale object for future lookup.\r\n\t */\r\n\tbuildOrUpdateScales: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar scales = me.scales || {};\r\n\t\tvar items = [];\r\n\t\tvar updated = Object.keys(scales).reduce(function(obj, id) {\r\n\t\t\tobj[id] = false;\r\n\t\t\treturn obj;\r\n\t\t}, {});\r\n\r\n\t\tif (options.scales) {\r\n\t\t\titems = items.concat(\r\n\t\t\t\t(options.scales.xAxes || []).map(function(xAxisOptions) {\r\n\t\t\t\t\treturn {options: xAxisOptions, dtype: 'category', dposition: 'bottom'};\r\n\t\t\t\t}),\r\n\t\t\t\t(options.scales.yAxes || []).map(function(yAxisOptions) {\r\n\t\t\t\t\treturn {options: yAxisOptions, dtype: 'linear', dposition: 'left'};\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (options.scale) {\r\n\t\t\titems.push({\r\n\t\t\t\toptions: options.scale,\r\n\t\t\t\tdtype: 'radialLinear',\r\n\t\t\t\tisDefault: true,\r\n\t\t\t\tdposition: 'chartArea'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\thelpers$1.each(items, function(item) {\r\n\t\t\tvar scaleOptions = item.options;\r\n\t\t\tvar id = scaleOptions.id;\r\n\t\t\tvar scaleType = valueOrDefault$9(scaleOptions.type, item.dtype);\r\n\r\n\t\t\tif (positionIsHorizontal(scaleOptions.position) !== positionIsHorizontal(item.dposition)) {\r\n\t\t\t\tscaleOptions.position = item.dposition;\r\n\t\t\t}\r\n\r\n\t\t\tupdated[id] = true;\r\n\t\t\tvar scale = null;\r\n\t\t\tif (id in scales && scales[id].type === scaleType) {\r\n\t\t\t\tscale = scales[id];\r\n\t\t\t\tscale.options = scaleOptions;\r\n\t\t\t\tscale.ctx = me.ctx;\r\n\t\t\t\tscale.chart = me;\r\n\t\t\t} else {\r\n\t\t\t\tvar scaleClass = core_scaleService.getScaleConstructor(scaleType);\r\n\t\t\t\tif (!scaleClass) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tscale = new scaleClass({\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\ttype: scaleType,\r\n\t\t\t\t\toptions: scaleOptions,\r\n\t\t\t\t\tctx: me.ctx,\r\n\t\t\t\t\tchart: me\r\n\t\t\t\t});\r\n\t\t\t\tscales[scale.id] = scale;\r\n\t\t\t}\r\n\r\n\t\t\tscale.mergeTicksOptions();\r\n\r\n\t\t\t// TODO(SB): I think we should be able to remove this custom case (options.scale)\r\n\t\t\t// and consider it as a regular scale part of the \"scales\"\" map only! This would\r\n\t\t\t// make the logic easier and remove some useless? custom code.\r\n\t\t\tif (item.isDefault) {\r\n\t\t\t\tme.scale = scale;\r\n\t\t\t}\r\n\t\t});\r\n\t\t// clear up discarded scales\r\n\t\thelpers$1.each(updated, function(hasUpdated, id) {\r\n\t\t\tif (!hasUpdated) {\r\n\t\t\t\tdelete scales[id];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tme.scales = scales;\r\n\r\n\t\tcore_scaleService.addScalesToLayout(this);\r\n\t},\r\n\r\n\tbuildOrUpdateControllers: function() {\r\n\t\tvar me = this;\r\n\t\tvar newControllers = [];\r\n\t\tvar datasets = me.data.datasets;\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; i++) {\r\n\t\t\tvar dataset = datasets[i];\r\n\t\t\tvar meta = me.getDatasetMeta(i);\r\n\t\t\tvar type = dataset.type || me.config.type;\r\n\r\n\t\t\tif (meta.type && meta.type !== type) {\r\n\t\t\t\tme.destroyDatasetMeta(i);\r\n\t\t\t\tmeta = me.getDatasetMeta(i);\r\n\t\t\t}\r\n\t\t\tmeta.type = type;\r\n\t\t\tmeta.order = dataset.order || 0;\r\n\t\t\tmeta.index = i;\r\n\r\n\t\t\tif (meta.controller) {\r\n\t\t\t\tmeta.controller.updateIndex(i);\r\n\t\t\t\tmeta.controller.linkScales();\r\n\t\t\t} else {\r\n\t\t\t\tvar ControllerClass = controllers[meta.type];\r\n\t\t\t\tif (ControllerClass === undefined) {\r\n\t\t\t\t\tthrow new Error('\"' + meta.type + '\" is not a chart type.');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmeta.controller = new ControllerClass(me, i);\r\n\t\t\t\tnewControllers.push(meta.controller);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn newControllers;\r\n\t},\r\n\r\n\t/**\r\n\t * Reset the elements of all datasets\r\n\t * @private\r\n\t */\r\n\tresetElements: function() {\r\n\t\tvar me = this;\r\n\t\thelpers$1.each(me.data.datasets, function(dataset, datasetIndex) {\r\n\t\t\tme.getDatasetMeta(datasetIndex).controller.reset();\r\n\t\t}, me);\r\n\t},\r\n\r\n\t/**\r\n\t* Resets the chart back to it's state before the initial animation\r\n\t*/\r\n\treset: function() {\r\n\t\tthis.resetElements();\r\n\t\tthis.tooltip.initialize();\r\n\t},\r\n\r\n\tupdate: function(config) {\r\n\t\tvar me = this;\r\n\t\tvar i, ilen;\r\n\r\n\t\tif (!config || typeof config !== 'object') {\r\n\t\t\t// backwards compatibility\r\n\t\t\tconfig = {\r\n\t\t\t\tduration: config,\r\n\t\t\t\tlazy: arguments[1]\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tupdateConfig(me);\r\n\r\n\t\t// plugins options references might have change, let's invalidate the cache\r\n\t\t// https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\r\n\t\tcore_plugins._invalidate(me);\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeUpdate') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// In case the entire data object changed\r\n\t\tme.tooltip._data = me.data;\r\n\r\n\t\t// Make sure dataset controllers are updated and new controllers are reset\r\n\t\tvar newControllers = me.buildOrUpdateControllers();\r\n\r\n\t\t// Make sure all dataset controllers have correct meta data counts\r\n\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; i++) {\r\n\t\t\tme.getDatasetMeta(i).controller.buildOrUpdateElements();\r\n\t\t}\r\n\r\n\t\tme.updateLayout();\r\n\r\n\t\t// Can only reset the new controllers after the scales have been updated\r\n\t\tif (me.options.animation && me.options.animation.duration) {\r\n\t\t\thelpers$1.each(newControllers, function(controller) {\r\n\t\t\t\tcontroller.reset();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tme.updateDatasets();\r\n\r\n\t\t// Need to reset tooltip in case it is displayed with elements that are removed\r\n\t\t// after update.\r\n\t\tme.tooltip.initialize();\r\n\r\n\t\t// Last active contains items that were previously in the tooltip.\r\n\t\t// When we reset the tooltip, we need to clear it\r\n\t\tme.lastActive = [];\r\n\r\n\t\t// Do this before render so that any plugins that need final scale updates can use it\r\n\t\tcore_plugins.notify(me, 'afterUpdate');\r\n\r\n\t\tme._layers.sort(compare2Level('z', '_idx'));\r\n\r\n\t\tif (me._bufferedRender) {\r\n\t\t\tme._bufferedRequest = {\r\n\t\t\t\tduration: config.duration,\r\n\t\t\t\teasing: config.easing,\r\n\t\t\t\tlazy: config.lazy\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tme.render(config);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Updates the chart layout unless a plugin returns `false` to the `beforeLayout`\r\n\t * hook, in which case, plugins will not be called on `afterLayout`.\r\n\t * @private\r\n\t */\r\n\tupdateLayout: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeLayout') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcore_layouts.update(this, this.width, this.height);\r\n\r\n\t\tme._layers = [];\r\n\t\thelpers$1.each(me.boxes, function(box) {\r\n\t\t\t// _configure is called twice, once in core.scale.update and once here.\r\n\t\t\t// Here the boxes are fully updated and at their final positions.\r\n\t\t\tif (box._configure) {\r\n\t\t\t\tbox._configure();\r\n\t\t\t}\r\n\t\t\tme._layers.push.apply(me._layers, box._layers());\r\n\t\t}, me);\r\n\r\n\t\tme._layers.forEach(function(item, index) {\r\n\t\t\titem._idx = index;\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Provided for backward compatibility, use `afterLayout` instead.\r\n\t\t * @method IPlugin#afterScaleUpdate\r\n\t\t * @deprecated since version 2.5.0\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\tcore_plugins.notify(me, 'afterScaleUpdate');\r\n\t\tcore_plugins.notify(me, 'afterLayout');\r\n\t},\r\n\r\n\t/**\r\n\t * Updates all datasets unless a plugin returns `false` to the `beforeDatasetsUpdate`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetsUpdate`.\r\n\t * @private\r\n\t */\r\n\tupdateDatasets: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetsUpdate') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (var i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tme.updateDataset(i);\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetsUpdate');\r\n\t},\r\n\r\n\t/**\r\n\t * Updates dataset at index unless a plugin returns `false` to the `beforeDatasetUpdate`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetUpdate`.\r\n\t * @private\r\n\t */\r\n\tupdateDataset: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getDatasetMeta(index);\r\n\t\tvar args = {\r\n\t\t\tmeta: meta,\r\n\t\t\tindex: index\r\n\t\t};\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetUpdate', [args]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmeta.controller._update();\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetUpdate', [args]);\r\n\t},\r\n\r\n\trender: function(config) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (!config || typeof config !== 'object') {\r\n\t\t\t// backwards compatibility\r\n\t\t\tconfig = {\r\n\t\t\t\tduration: config,\r\n\t\t\t\tlazy: arguments[1]\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tvar animationOptions = me.options.animation;\r\n\t\tvar duration = valueOrDefault$9(config.duration, animationOptions && animationOptions.duration);\r\n\t\tvar lazy = config.lazy;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeRender') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar onComplete = function(animation) {\r\n\t\t\tcore_plugins.notify(me, 'afterRender');\r\n\t\t\thelpers$1.callback(animationOptions && animationOptions.onComplete, [animation], me);\r\n\t\t};\r\n\r\n\t\tif (animationOptions && duration) {\r\n\t\t\tvar animation = new core_animation({\r\n\t\t\t\tnumSteps: duration / 16.66, // 60 fps\r\n\t\t\t\teasing: config.easing || animationOptions.easing,\r\n\r\n\t\t\t\trender: function(chart, animationObject) {\r\n\t\t\t\t\tvar easingFunction = helpers$1.easing.effects[animationObject.easing];\r\n\t\t\t\t\tvar currentStep = animationObject.currentStep;\r\n\t\t\t\t\tvar stepDecimal = currentStep / animationObject.numSteps;\r\n\r\n\t\t\t\t\tchart.draw(easingFunction(stepDecimal), stepDecimal, currentStep);\r\n\t\t\t\t},\r\n\r\n\t\t\t\tonAnimationProgress: animationOptions.onProgress,\r\n\t\t\t\tonAnimationComplete: onComplete\r\n\t\t\t});\r\n\r\n\t\t\tcore_animations.addAnimation(me, animation, duration, lazy);\r\n\t\t} else {\r\n\t\t\tme.draw();\r\n\r\n\t\t\t// See https://github.com/chartjs/Chart.js/issues/3781\r\n\t\t\tonComplete(new core_animation({numSteps: 0, chart: me}));\r\n\t\t}\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\tdraw: function(easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar i, layers;\r\n\r\n\t\tme.clear();\r\n\r\n\t\tif (helpers$1.isNullOrUndef(easingValue)) {\r\n\t\t\teasingValue = 1;\r\n\t\t}\r\n\r\n\t\tme.transition(easingValue);\r\n\r\n\t\tif (me.width <= 0 || me.height <= 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDraw', [easingValue]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Because of plugin hooks (before/afterDatasetsDraw), datasets can't\r\n\t\t// currently be part of layers. Instead, we draw\r\n\t\t// layers <= 0 before(default, backward compat), and the rest after\r\n\t\tlayers = me._layers;\r\n\t\tfor (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\r\n\t\t\tlayers[i].draw(me.chartArea);\r\n\t\t}\r\n\r\n\t\tme.drawDatasets(easingValue);\r\n\r\n\t\t// Rest of layers\r\n\t\tfor (; i < layers.length; ++i) {\r\n\t\t\tlayers[i].draw(me.chartArea);\r\n\t\t}\r\n\r\n\t\tme._drawTooltip(easingValue);\r\n\r\n\t\tcore_plugins.notify(me, 'afterDraw', [easingValue]);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\ttransition: function(easingValue) {\r\n\t\tvar me = this;\r\n\r\n\t\tfor (var i = 0, ilen = (me.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\tif (me.isDatasetVisible(i)) {\r\n\t\t\t\tme.getDatasetMeta(i).controller.transition(easingValue);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.tooltip.transition(easingValue);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getSortedDatasetMetas: function(filterVisible) {\r\n\t\tvar me = this;\r\n\t\tvar datasets = me.data.datasets || [];\r\n\t\tvar result = [];\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; ++i) {\r\n\t\t\tif (!filterVisible || me.isDatasetVisible(i)) {\r\n\t\t\t\tresult.push(me.getDatasetMeta(i));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tresult.sort(compare2Level('order', 'index'));\r\n\r\n\t\treturn result;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getSortedVisibleDatasetMetas: function() {\r\n\t\treturn this._getSortedDatasetMetas(true);\r\n\t},\r\n\r\n\t/**\r\n\t * Draws all datasets unless a plugin returns `false` to the `beforeDatasetsDraw`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetsDraw`.\r\n\t * @private\r\n\t */\r\n\tdrawDatasets: function(easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar metasets, i;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetsDraw', [easingValue]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmetasets = me._getSortedVisibleDatasetMetas();\r\n\t\tfor (i = metasets.length - 1; i >= 0; --i) {\r\n\t\t\tme.drawDataset(metasets[i], easingValue);\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetsDraw', [easingValue]);\r\n\t},\r\n\r\n\t/**\r\n\t * Draws dataset at index unless a plugin returns `false` to the `beforeDatasetDraw`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetDraw`.\r\n\t * @private\r\n\t */\r\n\tdrawDataset: function(meta, easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar args = {\r\n\t\t\tmeta: meta,\r\n\t\t\tindex: meta.index,\r\n\t\t\teasingValue: easingValue\r\n\t\t};\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetDraw', [args]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmeta.controller.draw(easingValue);\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetDraw', [args]);\r\n\t},\r\n\r\n\t/**\r\n\t * Draws tooltip unless a plugin returns `false` to the `beforeTooltipDraw`\r\n\t * hook, in which case, plugins will not be called on `afterTooltipDraw`.\r\n\t * @private\r\n\t */\r\n\t_drawTooltip: function(easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar tooltip = me.tooltip;\r\n\t\tvar args = {\r\n\t\t\ttooltip: tooltip,\r\n\t\t\teasingValue: easingValue\r\n\t\t};\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeTooltipDraw', [args]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttooltip.draw();\r\n\r\n\t\tcore_plugins.notify(me, 'afterTooltipDraw', [args]);\r\n\t},\r\n\r\n\t/**\r\n\t * Get the single element that was clicked on\r\n\t * @return An object containing the dataset index and element index of the matching element. Also contains the rectangle that was draw\r\n\t */\r\n\tgetElementAtEvent: function(e) {\r\n\t\treturn core_interaction.modes.single(this, e);\r\n\t},\r\n\r\n\tgetElementsAtEvent: function(e) {\r\n\t\treturn core_interaction.modes.label(this, e, {intersect: true});\r\n\t},\r\n\r\n\tgetElementsAtXAxis: function(e) {\r\n\t\treturn core_interaction.modes['x-axis'](this, e, {intersect: true});\r\n\t},\r\n\r\n\tgetElementsAtEventForMode: function(e, mode, options) {\r\n\t\tvar method = core_interaction.modes[mode];\r\n\t\tif (typeof method === 'function') {\r\n\t\t\treturn method(this, e, options);\r\n\t\t}\r\n\r\n\t\treturn [];\r\n\t},\r\n\r\n\tgetDatasetAtEvent: function(e) {\r\n\t\treturn core_interaction.modes.dataset(this, e, {intersect: true});\r\n\t},\r\n\r\n\tgetDatasetMeta: function(datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar dataset = me.data.datasets[datasetIndex];\r\n\t\tif (!dataset._meta) {\r\n\t\t\tdataset._meta = {};\r\n\t\t}\r\n\r\n\t\tvar meta = dataset._meta[me.id];\r\n\t\tif (!meta) {\r\n\t\t\tmeta = dataset._meta[me.id] = {\r\n\t\t\t\ttype: null,\r\n\t\t\t\tdata: [],\r\n\t\t\t\tdataset: null,\r\n\t\t\t\tcontroller: null,\r\n\t\t\t\thidden: null,\t\t\t// See isDatasetVisible() comment\r\n\t\t\t\txAxisID: null,\r\n\t\t\t\tyAxisID: null,\r\n\t\t\t\torder: dataset.order || 0,\r\n\t\t\t\tindex: datasetIndex\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn meta;\r\n\t},\r\n\r\n\tgetVisibleDatasetCount: function() {\r\n\t\tvar count = 0;\r\n\t\tfor (var i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tif (this.isDatasetVisible(i)) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t},\r\n\r\n\tisDatasetVisible: function(datasetIndex) {\r\n\t\tvar meta = this.getDatasetMeta(datasetIndex);\r\n\r\n\t\t// meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\r\n\t\t// the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\r\n\t\treturn typeof meta.hidden === 'boolean' ? !meta.hidden : !this.data.datasets[datasetIndex].hidden;\r\n\t},\r\n\r\n\tgenerateLegend: function() {\r\n\t\treturn this.options.legendCallback(this);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tdestroyDatasetMeta: function(datasetIndex) {\r\n\t\tvar id = this.id;\r\n\t\tvar dataset = this.data.datasets[datasetIndex];\r\n\t\tvar meta = dataset._meta && dataset._meta[id];\r\n\r\n\t\tif (meta) {\r\n\t\t\tmeta.controller.destroy();\r\n\t\t\tdelete dataset._meta[id];\r\n\t\t}\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tvar me = this;\r\n\t\tvar canvas = me.canvas;\r\n\t\tvar i, ilen;\r\n\r\n\t\tme.stop();\r\n\r\n\t\t// dataset controllers need to cleanup associated data\r\n\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tme.destroyDatasetMeta(i);\r\n\t\t}\r\n\r\n\t\tif (canvas) {\r\n\t\t\tme.unbindEvents();\r\n\t\t\thelpers$1.canvas.clear(me);\r\n\t\t\tplatform.releaseContext(me.ctx);\r\n\t\t\tme.canvas = null;\r\n\t\t\tme.ctx = null;\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'destroy');\r\n\r\n\t\tdelete Chart.instances[me.id];\r\n\t},\r\n\r\n\ttoBase64Image: function() {\r\n\t\treturn this.canvas.toDataURL.apply(this.canvas, arguments);\r\n\t},\r\n\r\n\tinitToolTip: function() {\r\n\t\tvar me = this;\r\n\t\tme.tooltip = new core_tooltip({\r\n\t\t\t_chart: me,\r\n\t\t\t_chartInstance: me, // deprecated, backward compatibility\r\n\t\t\t_data: me.data,\r\n\t\t\t_options: me.options.tooltips\r\n\t\t}, me);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tbindEvents: function() {\r\n\t\tvar me = this;\r\n\t\tvar listeners = me._listeners = {};\r\n\t\tvar listener = function() {\r\n\t\t\tme.eventHandler.apply(me, arguments);\r\n\t\t};\r\n\r\n\t\thelpers$1.each(me.options.events, function(type) {\r\n\t\t\tplatform.addEventListener(me, type, listener);\r\n\t\t\tlisteners[type] = listener;\r\n\t\t});\r\n\r\n\t\t// Elements used to detect size change should not be injected for non responsive charts.\r\n\t\t// See https://github.com/chartjs/Chart.js/issues/2210\r\n\t\tif (me.options.responsive) {\r\n\t\t\tlistener = function() {\r\n\t\t\t\tme.resize();\r\n\t\t\t};\r\n\r\n\t\t\tplatform.addEventListener(me, 'resize', listener);\r\n\t\t\tlisteners.resize = listener;\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tunbindEvents: function() {\r\n\t\tvar me = this;\r\n\t\tvar listeners = me._listeners;\r\n\t\tif (!listeners) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdelete me._listeners;\r\n\t\thelpers$1.each(listeners, function(listener, type) {\r\n\t\t\tplatform.removeEventListener(me, type, listener);\r\n\t\t});\r\n\t},\r\n\r\n\tupdateHoverStyle: function(elements, mode, enabled) {\r\n\t\tvar prefix = enabled ? 'set' : 'remove';\r\n\t\tvar element, i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = elements.length; i < ilen; ++i) {\r\n\t\t\telement = elements[i];\r\n\t\t\tif (element) {\r\n\t\t\t\tthis.getDatasetMeta(element._datasetIndex).controller[prefix + 'HoverStyle'](element);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (mode === 'dataset') {\r\n\t\t\tthis.getDatasetMeta(elements[0]._datasetIndex).controller['_' + prefix + 'DatasetHoverStyle']();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\teventHandler: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar tooltip = me.tooltip;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeEvent', [e]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Buffer any update calls so that renders do not occur\r\n\t\tme._bufferedRender = true;\r\n\t\tme._bufferedRequest = null;\r\n\r\n\t\tvar changed = me.handleEvent(e);\r\n\t\t// for smooth tooltip animations issue #4989\r\n\t\t// the tooltip should be the source of change\r\n\t\t// Animation check workaround:\r\n\t\t// tooltip._start will be null when tooltip isn't animating\r\n\t\tif (tooltip) {\r\n\t\t\tchanged = tooltip._start\r\n\t\t\t\t? tooltip.handleEvent(e)\r\n\t\t\t\t: changed | tooltip.handleEvent(e);\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'afterEvent', [e]);\r\n\r\n\t\tvar bufferedRequest = me._bufferedRequest;\r\n\t\tif (bufferedRequest) {\r\n\t\t\t// If we have an update that was triggered, we need to do a normal render\r\n\t\t\tme.render(bufferedRequest);\r\n\t\t} else if (changed && !me.animating) {\r\n\t\t\t// If entering, leaving, or changing elements, animate the change via pivot\r\n\t\t\tme.stop();\r\n\r\n\t\t\t// We only need to render at this point. Updating will cause scales to be\r\n\t\t\t// recomputed generating flicker & using more memory than necessary.\r\n\t\t\tme.render({\r\n\t\t\t\tduration: me.options.hover.animationDuration,\r\n\t\t\t\tlazy: true\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tme._bufferedRender = false;\r\n\t\tme._bufferedRequest = null;\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\t/**\r\n\t * Handle an event\r\n\t * @private\r\n\t * @param {IEvent} event the event to handle\r\n\t * @return {boolean} true if the chart needs to re-render\r\n\t */\r\n\thandleEvent: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options || {};\r\n\t\tvar hoverOptions = options.hover;\r\n\t\tvar changed = false;\r\n\r\n\t\tme.lastActive = me.lastActive || [];\r\n\r\n\t\t// Find Active Elements for hover and tooltips\r\n\t\tif (e.type === 'mouseout') {\r\n\t\t\tme.active = [];\r\n\t\t} else {\r\n\t\t\tme.active = me.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions);\r\n\t\t}\r\n\r\n\t\t// Invoke onHover hook\r\n\t\t// Need to call with native event here to not break backwards compatibility\r\n\t\thelpers$1.callback(options.onHover || options.hover.onHover, [e.native, me.active], me);\r\n\r\n\t\tif (e.type === 'mouseup' || e.type === 'click') {\r\n\t\t\tif (options.onClick) {\r\n\t\t\t\t// Use e.native here for backwards compatibility\r\n\t\t\t\toptions.onClick.call(me, e.native, me.active);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remove styling for last active (even if it may still be active)\r\n\t\tif (me.lastActive.length) {\r\n\t\t\tme.updateHoverStyle(me.lastActive, hoverOptions.mode, false);\r\n\t\t}\r\n\r\n\t\t// Built in hover styling\r\n\t\tif (me.active.length && hoverOptions.mode) {\r\n\t\t\tme.updateHoverStyle(me.active, hoverOptions.mode, true);\r\n\t\t}\r\n\r\n\t\tchanged = !helpers$1.arrayEquals(me.active, me.lastActive);\r\n\r\n\t\t// Remember Last Actives\r\n\t\tme.lastActive = me.active;\r\n\r\n\t\treturn changed;\r\n\t}\r\n});\r\n\r\n/**\r\n * NOTE(SB) We actually don't use this container anymore but we need to keep it\r\n * for backward compatibility. Though, it can still be useful for plugins that\r\n * would need to work on multiple charts?!\r\n */\r\nChart.instances = {};\r\n\r\nvar core_controller = Chart;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart instead.\r\n * @class Chart.Controller\r\n * @deprecated since version 2.6\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nChart.Controller = Chart;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart\r\n * @deprecated since version 2.8\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nChart.types = {};\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart.helpers.configMerge\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.configMerge = mergeConfig;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart.helpers.scaleMerge\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.scaleMerge = mergeScaleConfig;\n\nvar core_helpers = function() {\r\n\r\n\t// -- Basic js utility methods\r\n\r\n\thelpers$1.where = function(collection, filterCallback) {\r\n\t\tif (helpers$1.isArray(collection) && Array.prototype.filter) {\r\n\t\t\treturn collection.filter(filterCallback);\r\n\t\t}\r\n\t\tvar filtered = [];\r\n\r\n\t\thelpers$1.each(collection, function(item) {\r\n\t\t\tif (filterCallback(item)) {\r\n\t\t\t\tfiltered.push(item);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn filtered;\r\n\t};\r\n\thelpers$1.findIndex = Array.prototype.findIndex ?\r\n\t\tfunction(array, callback, scope) {\r\n\t\t\treturn array.findIndex(callback, scope);\r\n\t\t} :\r\n\t\tfunction(array, callback, scope) {\r\n\t\t\tscope = scope === undefined ? array : scope;\r\n\t\t\tfor (var i = 0, ilen = array.length; i < ilen; ++i) {\r\n\t\t\t\tif (callback.call(scope, array[i], i, array)) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn -1;\r\n\t\t};\r\n\thelpers$1.findNextWhere = function(arrayToSearch, filterCallback, startIndex) {\r\n\t\t// Default to start of the array\r\n\t\tif (helpers$1.isNullOrUndef(startIndex)) {\r\n\t\t\tstartIndex = -1;\r\n\t\t}\r\n\t\tfor (var i = startIndex + 1; i < arrayToSearch.length; i++) {\r\n\t\t\tvar currentItem = arrayToSearch[i];\r\n\t\t\tif (filterCallback(currentItem)) {\r\n\t\t\t\treturn currentItem;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\thelpers$1.findPreviousWhere = function(arrayToSearch, filterCallback, startIndex) {\r\n\t\t// Default to end of the array\r\n\t\tif (helpers$1.isNullOrUndef(startIndex)) {\r\n\t\t\tstartIndex = arrayToSearch.length;\r\n\t\t}\r\n\t\tfor (var i = startIndex - 1; i >= 0; i--) {\r\n\t\t\tvar currentItem = arrayToSearch[i];\r\n\t\t\tif (filterCallback(currentItem)) {\r\n\t\t\t\treturn currentItem;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// -- Math methods\r\n\thelpers$1.isNumber = function(n) {\r\n\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\r\n\t};\r\n\thelpers$1.almostEquals = function(x, y, epsilon) {\r\n\t\treturn Math.abs(x - y) < epsilon;\r\n\t};\r\n\thelpers$1.almostWhole = function(x, epsilon) {\r\n\t\tvar rounded = Math.round(x);\r\n\t\treturn ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\r\n\t};\r\n\thelpers$1.max = function(array) {\r\n\t\treturn array.reduce(function(max, value) {\r\n\t\t\tif (!isNaN(value)) {\r\n\t\t\t\treturn Math.max(max, value);\r\n\t\t\t}\r\n\t\t\treturn max;\r\n\t\t}, Number.NEGATIVE_INFINITY);\r\n\t};\r\n\thelpers$1.min = function(array) {\r\n\t\treturn array.reduce(function(min, value) {\r\n\t\t\tif (!isNaN(value)) {\r\n\t\t\t\treturn Math.min(min, value);\r\n\t\t\t}\r\n\t\t\treturn min;\r\n\t\t}, Number.POSITIVE_INFINITY);\r\n\t};\r\n\thelpers$1.sign = Math.sign ?\r\n\t\tfunction(x) {\r\n\t\t\treturn Math.sign(x);\r\n\t\t} :\r\n\t\tfunction(x) {\r\n\t\t\tx = +x; // convert to a number\r\n\t\t\tif (x === 0 || isNaN(x)) {\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t\treturn x > 0 ? 1 : -1;\r\n\t\t};\r\n\thelpers$1.toRadians = function(degrees) {\r\n\t\treturn degrees * (Math.PI / 180);\r\n\t};\r\n\thelpers$1.toDegrees = function(radians) {\r\n\t\treturn radians * (180 / Math.PI);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the number of decimal places\r\n\t * i.e. the number of digits after the decimal point, of the value of this Number.\r\n\t * @param {number} x - A number.\r\n\t * @returns {number} The number of decimal places.\r\n\t * @private\r\n\t */\r\n\thelpers$1._decimalPlaces = function(x) {\r\n\t\tif (!helpers$1.isFinite(x)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar e = 1;\r\n\t\tvar p = 0;\r\n\t\twhile (Math.round(x * e) / e !== x) {\r\n\t\t\te *= 10;\r\n\t\t\tp++;\r\n\t\t}\r\n\t\treturn p;\r\n\t};\r\n\r\n\t// Gets the angle from vertical upright to the point about a centre.\r\n\thelpers$1.getAngleFromPoint = function(centrePoint, anglePoint) {\r\n\t\tvar distanceFromXCenter = anglePoint.x - centrePoint.x;\r\n\t\tvar distanceFromYCenter = anglePoint.y - centrePoint.y;\r\n\t\tvar radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\r\n\r\n\t\tvar angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\r\n\r\n\t\tif (angle < (-0.5 * Math.PI)) {\r\n\t\t\tangle += 2.0 * Math.PI; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tangle: angle,\r\n\t\t\tdistance: radialDistanceFromCenter\r\n\t\t};\r\n\t};\r\n\thelpers$1.distanceBetweenPoints = function(pt1, pt2) {\r\n\t\treturn Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\r\n\t};\r\n\r\n\t/**\r\n\t * Provided for backward compatibility, not available anymore\r\n\t * @function Chart.helpers.aliasPixel\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t */\r\n\thelpers$1.aliasPixel = function(pixelWidth) {\r\n\t\treturn (pixelWidth % 2 === 0) ? 0 : 0.5;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the aligned pixel value to avoid anti-aliasing blur\r\n\t * @param {Chart} chart - The chart instance.\r\n\t * @param {number} pixel - A pixel value.\r\n\t * @param {number} width - The width of the element.\r\n\t * @returns {number} The aligned pixel value.\r\n\t * @private\r\n\t */\r\n\thelpers$1._alignPixel = function(chart, pixel, width) {\r\n\t\tvar devicePixelRatio = chart.currentDevicePixelRatio;\r\n\t\tvar halfWidth = width / 2;\r\n\t\treturn Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\r\n\t};\r\n\r\n\thelpers$1.splineCurve = function(firstPoint, middlePoint, afterPoint, t) {\r\n\t\t// Props to Rob Spencer at scaled innovation for his post on splining between points\r\n\t\t// http://scaledinnovation.com/analytics/splines/aboutSplines.html\r\n\r\n\t\t// This function must also respect \"skipped\" points\r\n\r\n\t\tvar previous = firstPoint.skip ? middlePoint : firstPoint;\r\n\t\tvar current = middlePoint;\r\n\t\tvar next = afterPoint.skip ? middlePoint : afterPoint;\r\n\r\n\t\tvar d01 = Math.sqrt(Math.pow(current.x - previous.x, 2) + Math.pow(current.y - previous.y, 2));\r\n\t\tvar d12 = Math.sqrt(Math.pow(next.x - current.x, 2) + Math.pow(next.y - current.y, 2));\r\n\r\n\t\tvar s01 = d01 / (d01 + d12);\r\n\t\tvar s12 = d12 / (d01 + d12);\r\n\r\n\t\t// If all points are the same, s01 & s02 will be inf\r\n\t\ts01 = isNaN(s01) ? 0 : s01;\r\n\t\ts12 = isNaN(s12) ? 0 : s12;\r\n\r\n\t\tvar fa = t * s01; // scaling factor for triangle Ta\r\n\t\tvar fb = t * s12;\r\n\r\n\t\treturn {\r\n\t\t\tprevious: {\r\n\t\t\t\tx: current.x - fa * (next.x - previous.x),\r\n\t\t\t\ty: current.y - fa * (next.y - previous.y)\r\n\t\t\t},\r\n\t\t\tnext: {\r\n\t\t\t\tx: current.x + fb * (next.x - previous.x),\r\n\t\t\t\ty: current.y + fb * (next.y - previous.y)\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\thelpers$1.EPSILON = Number.EPSILON || 1e-14;\r\n\thelpers$1.splineCurveMonotone = function(points) {\r\n\t\t// This function calculates Bzier control points in a similar way than |splineCurve|,\r\n\t\t// but preserves monotonicity of the provided data and ensures no local extremums are added\r\n\t\t// between the dataset discrete points due to the interpolation.\r\n\t\t// See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\r\n\r\n\t\tvar pointsWithTangents = (points || []).map(function(point) {\r\n\t\t\treturn {\r\n\t\t\t\tmodel: point._model,\r\n\t\t\t\tdeltaK: 0,\r\n\t\t\t\tmK: 0\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\t// Calculate slopes (deltaK) and initialize tangents (mK)\r\n\t\tvar pointsLen = pointsWithTangents.length;\r\n\t\tvar i, pointBefore, pointCurrent, pointAfter;\r\n\t\tfor (i = 0; i < pointsLen; ++i) {\r\n\t\t\tpointCurrent = pointsWithTangents[i];\r\n\t\t\tif (pointCurrent.model.skip) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\r\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\r\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\r\n\t\t\t\tvar slopeDeltaX = (pointAfter.model.x - pointCurrent.model.x);\r\n\r\n\t\t\t\t// In the case of two points that appear at the same x pixel, slopeDeltaX is 0\r\n\t\t\t\tpointCurrent.deltaK = slopeDeltaX !== 0 ? (pointAfter.model.y - pointCurrent.model.y) / slopeDeltaX : 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (!pointBefore || pointBefore.model.skip) {\r\n\t\t\t\tpointCurrent.mK = pointCurrent.deltaK;\r\n\t\t\t} else if (!pointAfter || pointAfter.model.skip) {\r\n\t\t\t\tpointCurrent.mK = pointBefore.deltaK;\r\n\t\t\t} else if (this.sign(pointBefore.deltaK) !== this.sign(pointCurrent.deltaK)) {\r\n\t\t\t\tpointCurrent.mK = 0;\r\n\t\t\t} else {\r\n\t\t\t\tpointCurrent.mK = (pointBefore.deltaK + pointCurrent.deltaK) / 2;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Adjust tangents to ensure monotonic properties\r\n\t\tvar alphaK, betaK, tauK, squaredMagnitude;\r\n\t\tfor (i = 0; i < pointsLen - 1; ++i) {\r\n\t\t\tpointCurrent = pointsWithTangents[i];\r\n\t\t\tpointAfter = pointsWithTangents[i + 1];\r\n\t\t\tif (pointCurrent.model.skip || pointAfter.model.skip) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (helpers$1.almostEquals(pointCurrent.deltaK, 0, this.EPSILON)) {\r\n\t\t\t\tpointCurrent.mK = pointAfter.mK = 0;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\talphaK = pointCurrent.mK / pointCurrent.deltaK;\r\n\t\t\tbetaK = pointAfter.mK / pointCurrent.deltaK;\r\n\t\t\tsquaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\r\n\t\t\tif (squaredMagnitude <= 9) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\ttauK = 3 / Math.sqrt(squaredMagnitude);\r\n\t\t\tpointCurrent.mK = alphaK * tauK * pointCurrent.deltaK;\r\n\t\t\tpointAfter.mK = betaK * tauK * pointCurrent.deltaK;\r\n\t\t}\r\n\r\n\t\t// Compute control points\r\n\t\tvar deltaX;\r\n\t\tfor (i = 0; i < pointsLen; ++i) {\r\n\t\t\tpointCurrent = pointsWithTangents[i];\r\n\t\t\tif (pointCurrent.model.skip) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\r\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\r\n\t\t\tif (pointBefore && !pointBefore.model.skip) {\r\n\t\t\t\tdeltaX = (pointCurrent.model.x - pointBefore.model.x) / 3;\r\n\t\t\t\tpointCurrent.model.controlPointPreviousX = pointCurrent.model.x - deltaX;\r\n\t\t\t\tpointCurrent.model.controlPointPreviousY = pointCurrent.model.y - deltaX * pointCurrent.mK;\r\n\t\t\t}\r\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\r\n\t\t\t\tdeltaX = (pointAfter.model.x - pointCurrent.model.x) / 3;\r\n\t\t\t\tpointCurrent.model.controlPointNextX = pointCurrent.model.x + deltaX;\r\n\t\t\t\tpointCurrent.model.controlPointNextY = pointCurrent.model.y + deltaX * pointCurrent.mK;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\thelpers$1.nextItem = function(collection, index, loop) {\r\n\t\tif (loop) {\r\n\t\t\treturn index >= collection.length - 1 ? collection[0] : collection[index + 1];\r\n\t\t}\r\n\t\treturn index >= collection.length - 1 ? collection[collection.length - 1] : collection[index + 1];\r\n\t};\r\n\thelpers$1.previousItem = function(collection, index, loop) {\r\n\t\tif (loop) {\r\n\t\t\treturn index <= 0 ? collection[collection.length - 1] : collection[index - 1];\r\n\t\t}\r\n\t\treturn index <= 0 ? collection[0] : collection[index - 1];\r\n\t};\r\n\t// Implementation of the nice number algorithm used in determining where axis labels will go\r\n\thelpers$1.niceNum = function(range, round) {\r\n\t\tvar exponent = Math.floor(helpers$1.log10(range));\r\n\t\tvar fraction = range / Math.pow(10, exponent);\r\n\t\tvar niceFraction;\r\n\r\n\t\tif (round) {\r\n\t\t\tif (fraction < 1.5) {\r\n\t\t\t\tniceFraction = 1;\r\n\t\t\t} else if (fraction < 3) {\r\n\t\t\t\tniceFraction = 2;\r\n\t\t\t} else if (fraction < 7) {\r\n\t\t\t\tniceFraction = 5;\r\n\t\t\t} else {\r\n\t\t\t\tniceFraction = 10;\r\n\t\t\t}\r\n\t\t} else if (fraction <= 1.0) {\r\n\t\t\tniceFraction = 1;\r\n\t\t} else if (fraction <= 2) {\r\n\t\t\tniceFraction = 2;\r\n\t\t} else if (fraction <= 5) {\r\n\t\t\tniceFraction = 5;\r\n\t\t} else {\r\n\t\t\tniceFraction = 10;\r\n\t\t}\r\n\r\n\t\treturn niceFraction * Math.pow(10, exponent);\r\n\t};\r\n\t// Request animation polyfill - https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n\thelpers$1.requestAnimFrame = (function() {\r\n\t\tif (typeof window === 'undefined') {\r\n\t\t\treturn function(callback) {\r\n\t\t\t\tcallback();\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn window.requestAnimationFrame ||\r\n\t\t\twindow.webkitRequestAnimationFrame ||\r\n\t\t\twindow.mozRequestAnimationFrame ||\r\n\t\t\twindow.oRequestAnimationFrame ||\r\n\t\t\twindow.msRequestAnimationFrame ||\r\n\t\t\tfunction(callback) {\r\n\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\r\n\t\t\t};\r\n\t}());\r\n\t// -- DOM methods\r\n\thelpers$1.getRelativePosition = function(evt, chart) {\r\n\t\tvar mouseX, mouseY;\r\n\t\tvar e = evt.originalEvent || evt;\r\n\t\tvar canvas = evt.target || evt.srcElement;\r\n\t\tvar boundingRect = canvas.getBoundingClientRect();\r\n\r\n\t\tvar touches = e.touches;\r\n\t\tif (touches && touches.length > 0) {\r\n\t\t\tmouseX = touches[0].clientX;\r\n\t\t\tmouseY = touches[0].clientY;\r\n\r\n\t\t} else {\r\n\t\t\tmouseX = e.clientX;\r\n\t\t\tmouseY = e.clientY;\r\n\t\t}\r\n\r\n\t\t// Scale mouse coordinates into canvas coordinates\r\n\t\t// by following the pattern laid out by 'jerryj' in the comments of\r\n\t\t// https://www.html5canvastutorials.com/advanced/html5-canvas-mouse-coordinates/\r\n\t\tvar paddingLeft = parseFloat(helpers$1.getStyle(canvas, 'padding-left'));\r\n\t\tvar paddingTop = parseFloat(helpers$1.getStyle(canvas, 'padding-top'));\r\n\t\tvar paddingRight = parseFloat(helpers$1.getStyle(canvas, 'padding-right'));\r\n\t\tvar paddingBottom = parseFloat(helpers$1.getStyle(canvas, 'padding-bottom'));\r\n\t\tvar width = boundingRect.right - boundingRect.left - paddingLeft - paddingRight;\r\n\t\tvar height = boundingRect.bottom - boundingRect.top - paddingTop - paddingBottom;\r\n\r\n\t\t// We divide by the current device pixel ratio, because the canvas is scaled up by that amount in each direction. However\r\n\t\t// the backend model is in unscaled coordinates. Since we are going to deal with our model coordinates, we go back here\r\n\t\tmouseX = Math.round((mouseX - boundingRect.left - paddingLeft) / (width) * canvas.width / chart.currentDevicePixelRatio);\r\n\t\tmouseY = Math.round((mouseY - boundingRect.top - paddingTop) / (height) * canvas.height / chart.currentDevicePixelRatio);\r\n\r\n\t\treturn {\r\n\t\t\tx: mouseX,\r\n\t\t\ty: mouseY\r\n\t\t};\r\n\r\n\t};\r\n\r\n\t// Private helper function to convert max-width/max-height values that may be percentages into a number\r\n\tfunction parseMaxStyle(styleValue, node, parentProperty) {\r\n\t\tvar valueInPixels;\r\n\t\tif (typeof styleValue === 'string') {\r\n\t\t\tvalueInPixels = parseInt(styleValue, 10);\r\n\r\n\t\t\tif (styleValue.indexOf('%') !== -1) {\r\n\t\t\t\t// percentage * size in dimension\r\n\t\t\t\tvalueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvalueInPixels = styleValue;\r\n\t\t}\r\n\r\n\t\treturn valueInPixels;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns if the given value contains an effective constraint.\r\n\t * @private\r\n\t */\r\n\tfunction isConstrainedValue(value) {\r\n\t\treturn value !== undefined && value !== null && value !== 'none';\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the max width or height of the given DOM node in a cross-browser compatible fashion\r\n\t * @param {HTMLElement} domNode - the node to check the constraint on\r\n\t * @param {string} maxStyle - the style that defines the maximum for the direction we are using ('max-width' / 'max-height')\r\n\t * @param {string} percentageProperty - property of parent to use when calculating width as a percentage\r\n\t * @see {@link https://www.nathanaeljones.com/blog/2013/reading-max-width-cross-browser}\r\n\t */\r\n\tfunction getConstraintDimension(domNode, maxStyle, percentageProperty) {\r\n\t\tvar view = document.defaultView;\r\n\t\tvar parentNode = helpers$1._getParentNode(domNode);\r\n\t\tvar constrainedNode = view.getComputedStyle(domNode)[maxStyle];\r\n\t\tvar constrainedContainer = view.getComputedStyle(parentNode)[maxStyle];\r\n\t\tvar hasCNode = isConstrainedValue(constrainedNode);\r\n\t\tvar hasCContainer = isConstrainedValue(constrainedContainer);\r\n\t\tvar infinity = Number.POSITIVE_INFINITY;\r\n\r\n\t\tif (hasCNode || hasCContainer) {\r\n\t\t\treturn Math.min(\r\n\t\t\t\thasCNode ? parseMaxStyle(constrainedNode, domNode, percentageProperty) : infinity,\r\n\t\t\t\thasCContainer ? parseMaxStyle(constrainedContainer, parentNode, percentageProperty) : infinity);\r\n\t\t}\r\n\r\n\t\treturn 'none';\r\n\t}\r\n\t// returns Number or undefined if no constraint\r\n\thelpers$1.getConstraintWidth = function(domNode) {\r\n\t\treturn getConstraintDimension(domNode, 'max-width', 'clientWidth');\r\n\t};\r\n\t// returns Number or undefined if no constraint\r\n\thelpers$1.getConstraintHeight = function(domNode) {\r\n\t\treturn getConstraintDimension(domNode, 'max-height', 'clientHeight');\r\n\t};\r\n\t/**\r\n\t * @private\r\n \t */\r\n\thelpers$1._calculatePadding = function(container, padding, parentDimension) {\r\n\t\tpadding = helpers$1.getStyle(container, padding);\r\n\r\n\t\treturn padding.indexOf('%') > -1 ? parentDimension * parseInt(padding, 10) / 100 : parseInt(padding, 10);\r\n\t};\r\n\t/**\r\n\t * @private\r\n\t */\r\n\thelpers$1._getParentNode = function(domNode) {\r\n\t\tvar parent = domNode.parentNode;\r\n\t\tif (parent && parent.toString() === '[object ShadowRoot]') {\r\n\t\t\tparent = parent.host;\r\n\t\t}\r\n\t\treturn parent;\r\n\t};\r\n\thelpers$1.getMaximumWidth = function(domNode) {\r\n\t\tvar container = helpers$1._getParentNode(domNode);\r\n\t\tif (!container) {\r\n\t\t\treturn domNode.clientWidth;\r\n\t\t}\r\n\r\n\t\tvar clientWidth = container.clientWidth;\r\n\t\tvar paddingLeft = helpers$1._calculatePadding(container, 'padding-left', clientWidth);\r\n\t\tvar paddingRight = helpers$1._calculatePadding(container, 'padding-right', clientWidth);\r\n\r\n\t\tvar w = clientWidth - paddingLeft - paddingRight;\r\n\t\tvar cw = helpers$1.getConstraintWidth(domNode);\r\n\t\treturn isNaN(cw) ? w : Math.min(w, cw);\r\n\t};\r\n\thelpers$1.getMaximumHeight = function(domNode) {\r\n\t\tvar container = helpers$1._getParentNode(domNode);\r\n\t\tif (!container) {\r\n\t\t\treturn domNode.clientHeight;\r\n\t\t}\r\n\r\n\t\tvar clientHeight = container.clientHeight;\r\n\t\tvar paddingTop = helpers$1._calculatePadding(container, 'padding-top', clientHeight);\r\n\t\tvar paddingBottom = helpers$1._calculatePadding(container, 'padding-bottom', clientHeight);\r\n\r\n\t\tvar h = clientHeight - paddingTop - paddingBottom;\r\n\t\tvar ch = helpers$1.getConstraintHeight(domNode);\r\n\t\treturn isNaN(ch) ? h : Math.min(h, ch);\r\n\t};\r\n\thelpers$1.getStyle = function(el, property) {\r\n\t\treturn el.currentStyle ?\r\n\t\t\tel.currentStyle[property] :\r\n\t\t\tdocument.defaultView.getComputedStyle(el, null).getPropertyValue(property);\r\n\t};\r\n\thelpers$1.retinaScale = function(chart, forceRatio) {\r\n\t\tvar pixelRatio = chart.currentDevicePixelRatio = forceRatio || (typeof window !== 'undefined' && window.devicePixelRatio) || 1;\r\n\t\tif (pixelRatio === 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar canvas = chart.canvas;\r\n\t\tvar height = chart.height;\r\n\t\tvar width = chart.width;\r\n\r\n\t\tcanvas.height = height * pixelRatio;\r\n\t\tcanvas.width = width * pixelRatio;\r\n\t\tchart.ctx.scale(pixelRatio, pixelRatio);\r\n\r\n\t\t// If no style has been set on the canvas, the render size is used as display size,\r\n\t\t// making the chart visually bigger, so let's enforce it to the \"correct\" values.\r\n\t\t// See https://github.com/chartjs/Chart.js/issues/3575\r\n\t\tif (!canvas.style.height && !canvas.style.width) {\r\n\t\t\tcanvas.style.height = height + 'px';\r\n\t\t\tcanvas.style.width = width + 'px';\r\n\t\t}\r\n\t};\r\n\t// -- Canvas methods\r\n\thelpers$1.fontString = function(pixelSize, fontStyle, fontFamily) {\r\n\t\treturn fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\r\n\t};\r\n\thelpers$1.longestText = function(ctx, font, arrayOfThings, cache) {\r\n\t\tcache = cache || {};\r\n\t\tvar data = cache.data = cache.data || {};\r\n\t\tvar gc = cache.garbageCollect = cache.garbageCollect || [];\r\n\r\n\t\tif (cache.font !== font) {\r\n\t\t\tdata = cache.data = {};\r\n\t\t\tgc = cache.garbageCollect = [];\r\n\t\t\tcache.font = font;\r\n\t\t}\r\n\r\n\t\tctx.font = font;\r\n\t\tvar longest = 0;\r\n\t\tvar ilen = arrayOfThings.length;\r\n\t\tvar i, j, jlen, thing, nestedThing;\r\n\t\tfor (i = 0; i < ilen; i++) {\r\n\t\t\tthing = arrayOfThings[i];\r\n\r\n\t\t\t// Undefined strings and arrays should not be measured\r\n\t\t\tif (thing !== undefined && thing !== null && helpers$1.isArray(thing) !== true) {\r\n\t\t\t\tlongest = helpers$1.measureText(ctx, data, gc, longest, thing);\r\n\t\t\t} else if (helpers$1.isArray(thing)) {\r\n\t\t\t\t// if it is an array lets measure each element\r\n\t\t\t\t// to do maybe simplify this function a bit so we can do this more recursively?\r\n\t\t\t\tfor (j = 0, jlen = thing.length; j < jlen; j++) {\r\n\t\t\t\t\tnestedThing = thing[j];\r\n\t\t\t\t\t// Undefined strings and arrays should not be measured\r\n\t\t\t\t\tif (nestedThing !== undefined && nestedThing !== null && !helpers$1.isArray(nestedThing)) {\r\n\t\t\t\t\t\tlongest = helpers$1.measureText(ctx, data, gc, longest, nestedThing);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar gcLen = gc.length / 2;\r\n\t\tif (gcLen > arrayOfThings.length) {\r\n\t\t\tfor (i = 0; i < gcLen; i++) {\r\n\t\t\t\tdelete data[gc[i]];\r\n\t\t\t}\r\n\t\t\tgc.splice(0, gcLen);\r\n\t\t}\r\n\t\treturn longest;\r\n\t};\r\n\thelpers$1.measureText = function(ctx, data, gc, longest, string) {\r\n\t\tvar textWidth = data[string];\r\n\t\tif (!textWidth) {\r\n\t\t\ttextWidth = data[string] = ctx.measureText(string).width;\r\n\t\t\tgc.push(string);\r\n\t\t}\r\n\t\tif (textWidth > longest) {\r\n\t\t\tlongest = textWidth;\r\n\t\t}\r\n\t\treturn longest;\r\n\t};\r\n\r\n\t/**\r\n\t * @deprecated\r\n\t */\r\n\thelpers$1.numberOfLabelLines = function(arrayOfThings) {\r\n\t\tvar numberOfLines = 1;\r\n\t\thelpers$1.each(arrayOfThings, function(thing) {\r\n\t\t\tif (helpers$1.isArray(thing)) {\r\n\t\t\t\tif (thing.length > numberOfLines) {\r\n\t\t\t\t\tnumberOfLines = thing.length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn numberOfLines;\r\n\t};\r\n\r\n\thelpers$1.color = !chartjsColor ?\r\n\t\tfunction(value) {\r\n\t\t\tconsole.error('Color.js not found!');\r\n\t\t\treturn value;\r\n\t\t} :\r\n\t\tfunction(value) {\r\n\t\t\t/* global CanvasGradient */\r\n\t\t\tif (value instanceof CanvasGradient) {\r\n\t\t\t\tvalue = core_defaults.global.defaultColor;\r\n\t\t\t}\r\n\r\n\t\t\treturn chartjsColor(value);\r\n\t\t};\r\n\r\n\thelpers$1.getHoverColor = function(colorValue) {\r\n\t\t/* global CanvasPattern */\r\n\t\treturn (colorValue instanceof CanvasPattern || colorValue instanceof CanvasGradient) ?\r\n\t\t\tcolorValue :\r\n\t\t\thelpers$1.color(colorValue).saturate(0.5).darken(0.1).rgbString();\r\n\t};\r\n};\n\nfunction abstract() {\r\n\tthrow new Error(\r\n\t\t'This method is not implemented: either no adapter can ' +\r\n\t\t'be found or an incomplete integration was provided.'\r\n\t);\r\n}\r\n\r\n/**\r\n * Date adapter (current used by the time scale)\r\n * @namespace Chart._adapters._date\r\n * @memberof Chart._adapters\r\n * @private\r\n */\r\n\r\n/**\r\n * Currently supported unit string values.\r\n * @typedef {('millisecond'|'second'|'minute'|'hour'|'day'|'week'|'month'|'quarter'|'year')}\r\n * @memberof Chart._adapters._date\r\n * @name Unit\r\n */\r\n\r\n/**\r\n * @class\r\n */\r\nfunction DateAdapter(options) {\r\n\tthis.options = options || {};\r\n}\r\n\r\nhelpers$1.extend(DateAdapter.prototype, /** @lends DateAdapter */ {\r\n\t/**\r\n\t * Returns a map of time formats for the supported formatting units defined\r\n\t * in Unit as well as 'datetime' representing a detailed date/time string.\r\n\t * @returns {{string: string}}\r\n\t */\r\n\tformats: abstract,\r\n\r\n\t/**\r\n\t * Parses the given `value` and return the associated timestamp.\r\n\t * @param {any} value - the value to parse (usually comes from the data)\r\n\t * @param {string} [format] - the expected data format\r\n\t * @returns {(number|null)}\r\n\t * @function\r\n\t */\r\n\tparse: abstract,\r\n\r\n\t/**\r\n\t * Returns the formatted date in the specified `format` for a given `timestamp`.\r\n\t * @param {number} timestamp - the timestamp to format\r\n\t * @param {string} format - the date/time token\r\n\t * @return {string}\r\n\t * @function\r\n\t */\r\n\tformat: abstract,\r\n\r\n\t/**\r\n\t * Adds the specified `amount` of `unit` to the given `timestamp`.\r\n\t * @param {number} timestamp - the input timestamp\r\n\t * @param {number} amount - the amount to add\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @return {number}\r\n\t * @function\r\n\t */\r\n\tadd: abstract,\r\n\r\n\t/**\r\n\t * Returns the number of `unit` between the given timestamps.\r\n\t * @param {number} max - the input timestamp (reference)\r\n\t * @param {number} min - the timestamp to substract\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @return {number}\r\n\t * @function\r\n\t */\r\n\tdiff: abstract,\r\n\r\n\t/**\r\n\t * Returns start of `unit` for the given `timestamp`.\r\n\t * @param {number} timestamp - the input timestamp\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @param {number} [weekday] - the ISO day of the week with 1 being Monday\r\n\t * and 7 being Sunday (only needed if param *unit* is `isoWeek`).\r\n\t * @function\r\n\t */\r\n\tstartOf: abstract,\r\n\r\n\t/**\r\n\t * Returns end of `unit` for the given `timestamp`.\r\n\t * @param {number} timestamp - the input timestamp\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @function\r\n\t */\r\n\tendOf: abstract,\r\n\r\n\t// DEPRECATIONS\r\n\r\n\t/**\r\n\t * Provided for backward compatibility for scale.getValueForPixel(),\r\n\t * this method should be overridden only by the moment adapter.\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t * @private\r\n\t */\r\n\t_create: function(value) {\r\n\t\treturn value;\r\n\t}\r\n});\r\n\r\nDateAdapter.override = function(members) {\r\n\thelpers$1.extend(DateAdapter.prototype, members);\r\n};\r\n\r\nvar _date = DateAdapter;\n\nvar core_adapters = {\n\t_date: _date\n};\n\n/**\r\n * Namespace to hold static tick generation functions\r\n * @namespace Chart.Ticks\r\n */\r\nvar core_ticks = {\r\n\t/**\r\n\t * Namespace to hold formatters for different types of ticks\r\n\t * @namespace Chart.Ticks.formatters\r\n\t */\r\n\tformatters: {\r\n\t\t/**\r\n\t\t * Formatter for value labels\r\n\t\t * @method Chart.Ticks.formatters.values\r\n\t\t * @param value the value to display\r\n\t\t * @return {string|string[]} the label to display\r\n\t\t */\r\n\t\tvalues: function(value) {\r\n\t\t\treturn helpers$1.isArray(value) ? value : '' + value;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Formatter for linear numeric ticks\r\n\t\t * @method Chart.Ticks.formatters.linear\r\n\t\t * @param tickValue {number} the value to be formatted\r\n\t\t * @param index {number} the position of the tickValue parameter in the ticks array\r\n\t\t * @param ticks {number[]} the list of ticks being converted\r\n\t\t * @return {string} string representation of the tickValue parameter\r\n\t\t */\r\n\t\tlinear: function(tickValue, index, ticks) {\r\n\t\t\t// If we have lots of ticks, don't use the ones\r\n\t\t\tvar delta = ticks.length > 3 ? ticks[2] - ticks[1] : ticks[1] - ticks[0];\r\n\r\n\t\t\t// If we have a number like 2.5 as the delta, figure out how many decimal places we need\r\n\t\t\tif (Math.abs(delta) > 1) {\r\n\t\t\t\tif (tickValue !== Math.floor(tickValue)) {\r\n\t\t\t\t\t// not an integer\r\n\t\t\t\t\tdelta = tickValue - Math.floor(tickValue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar logDelta = helpers$1.log10(Math.abs(delta));\r\n\t\t\tvar tickString = '';\r\n\r\n\t\t\tif (tickValue !== 0) {\r\n\t\t\t\tvar maxTick = Math.max(Math.abs(ticks[0]), Math.abs(ticks[ticks.length - 1]));\r\n\t\t\t\tif (maxTick < 1e-4) { // all ticks are small numbers; use scientific notation\r\n\t\t\t\t\tvar logTick = helpers$1.log10(Math.abs(tickValue));\r\n\t\t\t\t\tvar numExponential = Math.floor(logTick) - Math.floor(logDelta);\r\n\t\t\t\t\tnumExponential = Math.max(Math.min(numExponential, 20), 0);\r\n\t\t\t\t\ttickString = tickValue.toExponential(numExponential);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar numDecimal = -1 * Math.floor(logDelta);\r\n\t\t\t\t\tnumDecimal = Math.max(Math.min(numDecimal, 20), 0); // toFixed has a max of 20 decimal places\r\n\t\t\t\t\ttickString = tickValue.toFixed(numDecimal);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttickString = '0'; // never show decimal places for 0\r\n\t\t\t}\r\n\r\n\t\t\treturn tickString;\r\n\t\t},\r\n\r\n\t\tlogarithmic: function(tickValue, index, ticks) {\r\n\t\t\tvar remain = tickValue / (Math.pow(10, Math.floor(helpers$1.log10(tickValue))));\r\n\r\n\t\t\tif (tickValue === 0) {\r\n\t\t\t\treturn '0';\r\n\t\t\t} else if (remain === 1 || remain === 2 || remain === 5 || index === 0 || index === ticks.length - 1) {\r\n\t\t\t\treturn tickValue.toExponential();\r\n\t\t\t}\r\n\t\t\treturn '';\r\n\t\t}\r\n\t}\r\n};\n\nvar isArray = helpers$1.isArray;\r\nvar isNullOrUndef = helpers$1.isNullOrUndef;\r\nvar valueOrDefault$a = helpers$1.valueOrDefault;\r\nvar valueAtIndexOrDefault = helpers$1.valueAtIndexOrDefault;\r\n\r\ncore_defaults._set('scale', {\r\n\tdisplay: true,\r\n\tposition: 'left',\r\n\toffset: false,\r\n\r\n\t// grid line settings\r\n\tgridLines: {\r\n\t\tdisplay: true,\r\n\t\tcolor: 'rgba(0,0,0,0.1)',\r\n\t\tlineWidth: 1,\r\n\t\tdrawBorder: true,\r\n\t\tdrawOnChartArea: true,\r\n\t\tdrawTicks: true,\r\n\t\ttickMarkLength: 10,\r\n\t\tzeroLineWidth: 1,\r\n\t\tzeroLineColor: 'rgba(0,0,0,0.25)',\r\n\t\tzeroLineBorderDash: [],\r\n\t\tzeroLineBorderDashOffset: 0.0,\r\n\t\toffsetGridLines: false,\r\n\t\tborderDash: [],\r\n\t\tborderDashOffset: 0.0\r\n\t},\r\n\r\n\t// scale label\r\n\tscaleLabel: {\r\n\t\t// display property\r\n\t\tdisplay: false,\r\n\r\n\t\t// actual label\r\n\t\tlabelString: '',\r\n\r\n\t\t// top/bottom padding\r\n\t\tpadding: {\r\n\t\t\ttop: 4,\r\n\t\t\tbottom: 4\r\n\t\t}\r\n\t},\r\n\r\n\t// label settings\r\n\tticks: {\r\n\t\tbeginAtZero: false,\r\n\t\tminRotation: 0,\r\n\t\tmaxRotation: 50,\r\n\t\tmirror: false,\r\n\t\tpadding: 0,\r\n\t\treverse: false,\r\n\t\tdisplay: true,\r\n\t\tautoSkip: true,\r\n\t\tautoSkipPadding: 0,\r\n\t\tlabelOffset: 0,\r\n\t\t// We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\r\n\t\tcallback: core_ticks.formatters.values,\r\n\t\tminor: {},\r\n\t\tmajor: {}\r\n\t}\r\n});\r\n\r\n/** Returns a new array containing numItems from arr */\r\nfunction sample(arr, numItems) {\r\n\tvar result = [];\r\n\tvar increment = arr.length / numItems;\r\n\tvar i = 0;\r\n\tvar len = arr.length;\r\n\r\n\tfor (; i < len; i += increment) {\r\n\t\tresult.push(arr[Math.floor(i)]);\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\r\n\tvar length = scale.getTicks().length;\r\n\tvar validIndex = Math.min(index, length - 1);\r\n\tvar lineValue = scale.getPixelForTick(validIndex);\r\n\tvar start = scale._startPixel;\r\n\tvar end = scale._endPixel;\r\n\tvar epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\r\n\tvar offset;\r\n\r\n\tif (offsetGridLines) {\r\n\t\tif (length === 1) {\r\n\t\t\toffset = Math.max(lineValue - start, end - lineValue);\r\n\t\t} else if (index === 0) {\r\n\t\t\toffset = (scale.getPixelForTick(1) - lineValue) / 2;\r\n\t\t} else {\r\n\t\t\toffset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\r\n\t\t}\r\n\t\tlineValue += validIndex < index ? offset : -offset;\r\n\r\n\t\t// Return undefined if the pixel is out of the range\r\n\t\tif (lineValue < start - epsilon || lineValue > end + epsilon) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\treturn lineValue;\r\n}\r\n\r\nfunction garbageCollect(caches, length) {\r\n\thelpers$1.each(caches, function(cache) {\r\n\t\tvar gc = cache.gc;\r\n\t\tvar gcLen = gc.length / 2;\r\n\t\tvar i;\r\n\t\tif (gcLen > length) {\r\n\t\t\tfor (i = 0; i < gcLen; ++i) {\r\n\t\t\t\tdelete cache.data[gc[i]];\r\n\t\t\t}\r\n\t\t\tgc.splice(0, gcLen);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * Returns {width, height, offset} objects for the first, last, widest, highest tick\r\n * labels where offset indicates the anchor point offset from the top in pixels.\r\n */\r\nfunction computeLabelSizes(ctx, tickFonts, ticks, caches) {\r\n\tvar length = ticks.length;\r\n\tvar widths = [];\r\n\tvar heights = [];\r\n\tvar offsets = [];\r\n\tvar widestLabelSize = 0;\r\n\tvar highestLabelSize = 0;\r\n\tvar i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel, widest, highest;\r\n\r\n\tfor (i = 0; i < length; ++i) {\r\n\t\tlabel = ticks[i].label;\r\n\t\ttickFont = ticks[i].major ? tickFonts.major : tickFonts.minor;\r\n\t\tctx.font = fontString = tickFont.string;\r\n\t\tcache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\r\n\t\tlineHeight = tickFont.lineHeight;\r\n\t\twidth = height = 0;\r\n\t\t// Undefined labels and arrays should not be measured\r\n\t\tif (!isNullOrUndef(label) && !isArray(label)) {\r\n\t\t\twidth = helpers$1.measureText(ctx, cache.data, cache.gc, width, label);\r\n\t\t\theight = lineHeight;\r\n\t\t} else if (isArray(label)) {\r\n\t\t\t// if it is an array let's measure each element\r\n\t\t\tfor (j = 0, jlen = label.length; j < jlen; ++j) {\r\n\t\t\t\tnestedLabel = label[j];\r\n\t\t\t\t// Undefined labels and arrays should not be measured\r\n\t\t\t\tif (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\r\n\t\t\t\t\twidth = helpers$1.measureText(ctx, cache.data, cache.gc, width, nestedLabel);\r\n\t\t\t\t\theight += lineHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\twidths.push(width);\r\n\t\theights.push(height);\r\n\t\toffsets.push(lineHeight / 2);\r\n\t\twidestLabelSize = Math.max(width, widestLabelSize);\r\n\t\thighestLabelSize = Math.max(height, highestLabelSize);\r\n\t}\r\n\tgarbageCollect(caches, length);\r\n\r\n\twidest = widths.indexOf(widestLabelSize);\r\n\thighest = heights.indexOf(highestLabelSize);\r\n\r\n\tfunction valueAt(idx) {\r\n\t\treturn {\r\n\t\t\twidth: widths[idx] || 0,\r\n\t\t\theight: heights[idx] || 0,\r\n\t\t\toffset: offsets[idx] || 0\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tfirst: valueAt(0),\r\n\t\tlast: valueAt(length - 1),\r\n\t\twidest: valueAt(widest),\r\n\t\thighest: valueAt(highest)\r\n\t};\r\n}\r\n\r\nfunction getTickMarkLength(options) {\r\n\treturn options.drawTicks ? options.tickMarkLength : 0;\r\n}\r\n\r\nfunction getScaleLabelHeight(options) {\r\n\tvar font, padding;\r\n\r\n\tif (!options.display) {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tfont = helpers$1.options._parseFont(options);\r\n\tpadding = helpers$1.options.toPadding(options.padding);\r\n\r\n\treturn font.lineHeight + padding.height;\r\n}\r\n\r\nfunction parseFontOptions(options, nestedOpts) {\r\n\treturn helpers$1.extend(helpers$1.options._parseFont({\r\n\t\tfontFamily: valueOrDefault$a(nestedOpts.fontFamily, options.fontFamily),\r\n\t\tfontSize: valueOrDefault$a(nestedOpts.fontSize, options.fontSize),\r\n\t\tfontStyle: valueOrDefault$a(nestedOpts.fontStyle, options.fontStyle),\r\n\t\tlineHeight: valueOrDefault$a(nestedOpts.lineHeight, options.lineHeight)\r\n\t}), {\r\n\t\tcolor: helpers$1.options.resolve([nestedOpts.fontColor, options.fontColor, core_defaults.global.defaultFontColor])\r\n\t});\r\n}\r\n\r\nfunction parseTickFontOptions(options) {\r\n\tvar minor = parseFontOptions(options, options.minor);\r\n\tvar major = options.major.enabled ? parseFontOptions(options, options.major) : minor;\r\n\r\n\treturn {minor: minor, major: major};\r\n}\r\n\r\nfunction nonSkipped(ticksToFilter) {\r\n\tvar filtered = [];\r\n\tvar item, index, len;\r\n\tfor (index = 0, len = ticksToFilter.length; index < len; ++index) {\r\n\t\titem = ticksToFilter[index];\r\n\t\tif (typeof item._index !== 'undefined') {\r\n\t\t\tfiltered.push(item);\r\n\t\t}\r\n\t}\r\n\treturn filtered;\r\n}\r\n\r\nfunction getEvenSpacing(arr) {\r\n\tvar len = arr.length;\r\n\tvar i, diff;\r\n\r\n\tif (len < 2) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfor (diff = arr[0], i = 1; i < len; ++i) {\r\n\t\tif (arr[i] - arr[i - 1] !== diff) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn diff;\r\n}\r\n\r\nfunction calculateSpacing(majorIndices, ticks, axisLength, ticksLimit) {\r\n\tvar evenMajorSpacing = getEvenSpacing(majorIndices);\r\n\tvar spacing = (ticks.length - 1) / ticksLimit;\r\n\tvar factors, factor, i, ilen;\r\n\r\n\t// If the major ticks are evenly spaced apart, place the minor ticks\r\n\t// so that they divide the major ticks into even chunks\r\n\tif (!evenMajorSpacing) {\r\n\t\treturn Math.max(spacing, 1);\r\n\t}\r\n\r\n\tfactors = helpers$1.math._factorize(evenMajorSpacing);\r\n\tfor (i = 0, ilen = factors.length - 1; i < ilen; i++) {\r\n\t\tfactor = factors[i];\r\n\t\tif (factor > spacing) {\r\n\t\t\treturn factor;\r\n\t\t}\r\n\t}\r\n\treturn Math.max(spacing, 1);\r\n}\r\n\r\nfunction getMajorIndices(ticks) {\r\n\tvar result = [];\r\n\tvar i, ilen;\r\n\tfor (i = 0, ilen = ticks.length; i < ilen; i++) {\r\n\t\tif (ticks[i].major) {\r\n\t\t\tresult.push(i);\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction skipMajors(ticks, majorIndices, spacing) {\r\n\tvar count = 0;\r\n\tvar next = majorIndices[0];\r\n\tvar i, tick;\r\n\r\n\tspacing = Math.ceil(spacing);\r\n\tfor (i = 0; i < ticks.length; i++) {\r\n\t\ttick = ticks[i];\r\n\t\tif (i === next) {\r\n\t\t\ttick._index = i;\r\n\t\t\tcount++;\r\n\t\t\tnext = majorIndices[count * spacing];\r\n\t\t} else {\r\n\t\t\tdelete tick.label;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction skip(ticks, spacing, majorStart, majorEnd) {\r\n\tvar start = valueOrDefault$a(majorStart, 0);\r\n\tvar end = Math.min(valueOrDefault$a(majorEnd, ticks.length), ticks.length);\r\n\tvar count = 0;\r\n\tvar length, i, tick, next;\r\n\r\n\tspacing = Math.ceil(spacing);\r\n\tif (majorEnd) {\r\n\t\tlength = majorEnd - majorStart;\r\n\t\tspacing = length / Math.floor(length / spacing);\r\n\t}\r\n\r\n\tnext = start;\r\n\r\n\twhile (next < 0) {\r\n\t\tcount++;\r\n\t\tnext = Math.round(start + count * spacing);\r\n\t}\r\n\r\n\tfor (i = Math.max(start, 0); i < end; i++) {\r\n\t\ttick = ticks[i];\r\n\t\tif (i === next) {\r\n\t\t\ttick._index = i;\r\n\t\t\tcount++;\r\n\t\t\tnext = Math.round(start + count * spacing);\r\n\t\t} else {\r\n\t\t\tdelete tick.label;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nvar Scale = core_element.extend({\r\n\r\n\tzeroLineIndex: 0,\r\n\r\n\t/**\r\n\t * Get the padding needed for the scale\r\n\t * @method getPadding\r\n\t * @private\r\n\t * @returns {Padding} the necessary padding\r\n\t */\r\n\tgetPadding: function() {\r\n\t\tvar me = this;\r\n\t\treturn {\r\n\t\t\tleft: me.paddingLeft || 0,\r\n\t\t\ttop: me.paddingTop || 0,\r\n\t\t\tright: me.paddingRight || 0,\r\n\t\t\tbottom: me.paddingBottom || 0\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the scale tick objects ({label, major})\r\n\t * @since 2.7\r\n\t */\r\n\tgetTicks: function() {\r\n\t\treturn this._ticks;\r\n\t},\r\n\r\n\t/**\r\n\t* @private\r\n\t*/\r\n\t_getLabels: function() {\r\n\t\tvar data = this.chart.data;\r\n\t\treturn this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\r\n\t},\r\n\r\n\t// These methods are ordered by lifecyle. Utilities then follow.\r\n\t// Any function defined here is inherited by all scale types.\r\n\t// Any function can be extended by the scale type\r\n\r\n\t/**\r\n\t * Provided for backward compatibility, not available anymore\r\n\t * @function Chart.Scale.mergeTicksOptions\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t */\r\n\tmergeTicksOptions: function() {\r\n\t\t// noop\r\n\t},\r\n\r\n\tbeforeUpdate: function() {\r\n\t\thelpers$1.callback(this.options.beforeUpdate, [this]);\r\n\t},\r\n\r\n\t/**\r\n\t * @param {number} maxWidth - the max width in pixels\r\n\t * @param {number} maxHeight - the max height in pixels\r\n\t * @param {object} margins - the space between the edge of the other scales and edge of the chart\r\n\t *   This space comes from two sources:\r\n\t *     - padding - space that's required to show the labels at the edges of the scale\r\n\t *     - thickness of scales or legends in another orientation\r\n\t */\r\n\tupdate: function(maxWidth, maxHeight, margins) {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar sampleSize = tickOpts.sampleSize;\r\n\t\tvar i, ilen, labels, ticks, samplingEnabled;\r\n\r\n\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\r\n\t\tme.beforeUpdate();\r\n\r\n\t\t// Absorb the master measurements\r\n\t\tme.maxWidth = maxWidth;\r\n\t\tme.maxHeight = maxHeight;\r\n\t\tme.margins = helpers$1.extend({\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0\r\n\t\t}, margins);\r\n\r\n\t\tme._ticks = null;\r\n\t\tme.ticks = null;\r\n\t\tme._labelSizes = null;\r\n\t\tme._maxLabelLines = 0;\r\n\t\tme.longestLabelWidth = 0;\r\n\t\tme.longestTextCache = me.longestTextCache || {};\r\n\t\tme._gridLineItems = null;\r\n\t\tme._labelItems = null;\r\n\r\n\t\t// Dimensions\r\n\t\tme.beforeSetDimensions();\r\n\t\tme.setDimensions();\r\n\t\tme.afterSetDimensions();\r\n\r\n\t\t// Data min/max\r\n\t\tme.beforeDataLimits();\r\n\t\tme.determineDataLimits();\r\n\t\tme.afterDataLimits();\r\n\r\n\t\t// Ticks - `this.ticks` is now DEPRECATED!\r\n\t\t// Internal ticks are now stored as objects in the PRIVATE `this._ticks` member\r\n\t\t// and must not be accessed directly from outside this class. `this.ticks` being\r\n\t\t// around for long time and not marked as private, we can't change its structure\r\n\t\t// without unexpected breaking changes. If you need to access the scale ticks,\r\n\t\t// use scale.getTicks() instead.\r\n\r\n\t\tme.beforeBuildTicks();\r\n\r\n\t\t// New implementations should return an array of objects but for BACKWARD COMPAT,\r\n\t\t// we still support no return (`this.ticks` internally set by calling this method).\r\n\t\tticks = me.buildTicks() || [];\r\n\r\n\t\t// Allow modification of ticks in callback.\r\n\t\tticks = me.afterBuildTicks(ticks) || ticks;\r\n\r\n\t\t// Ensure ticks contains ticks in new tick format\r\n\t\tif ((!ticks || !ticks.length) && me.ticks) {\r\n\t\t\tticks = [];\r\n\t\t\tfor (i = 0, ilen = me.ticks.length; i < ilen; ++i) {\r\n\t\t\t\tticks.push({\r\n\t\t\t\t\tvalue: me.ticks[i],\r\n\t\t\t\t\tmajor: false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme._ticks = ticks;\r\n\r\n\t\t// Compute tick rotation and fit using a sampled subset of labels\r\n\t\t// We generally don't need to compute the size of every single label for determining scale size\r\n\t\tsamplingEnabled = sampleSize < ticks.length;\r\n\t\tlabels = me._convertTicksToLabels(samplingEnabled ? sample(ticks, sampleSize) : ticks);\r\n\r\n\t\t// _configure is called twice, once here, once from core.controller.updateLayout.\r\n\t\t// Here we haven't been positioned yet, but dimensions are correct.\r\n\t\t// Variables set in _configure are needed for calculateTickRotation, and\r\n\t\t// it's ok that coordinates are not correct there, only dimensions matter.\r\n\t\tme._configure();\r\n\r\n\t\t// Tick Rotation\r\n\t\tme.beforeCalculateTickRotation();\r\n\t\tme.calculateTickRotation();\r\n\t\tme.afterCalculateTickRotation();\r\n\r\n\t\tme.beforeFit();\r\n\t\tme.fit();\r\n\t\tme.afterFit();\r\n\r\n\t\t// Auto-skip\r\n\t\tme._ticksToDraw = tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto') ? me._autoSkip(ticks) : ticks;\r\n\r\n\t\tif (samplingEnabled) {\r\n\t\t\t// Generate labels using all non-skipped ticks\r\n\t\t\tlabels = me._convertTicksToLabels(me._ticksToDraw);\r\n\t\t}\r\n\r\n\t\tme.ticks = labels;   // BACKWARD COMPATIBILITY\r\n\r\n\t\t// IMPORTANT: after this point, we consider that `this.ticks` will NEVER change!\r\n\r\n\t\tme.afterUpdate();\r\n\r\n\t\t// TODO(v3): remove minSize as a public property and return value from all layout boxes. It is unused\r\n\t\t// make maxWidth and maxHeight private\r\n\t\treturn me.minSize;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar reversePixels = me.options.ticks.reverse;\r\n\t\tvar startPixel, endPixel;\r\n\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\tstartPixel = me.left;\r\n\t\t\tendPixel = me.right;\r\n\t\t} else {\r\n\t\t\tstartPixel = me.top;\r\n\t\t\tendPixel = me.bottom;\r\n\t\t\t// by default vertical scales are from bottom to top, so pixels are reversed\r\n\t\t\treversePixels = !reversePixels;\r\n\t\t}\r\n\t\tme._startPixel = startPixel;\r\n\t\tme._endPixel = endPixel;\r\n\t\tme._reversePixels = reversePixels;\r\n\t\tme._length = endPixel - startPixel;\r\n\t},\r\n\r\n\tafterUpdate: function() {\r\n\t\thelpers$1.callback(this.options.afterUpdate, [this]);\r\n\t},\r\n\r\n\t//\r\n\r\n\tbeforeSetDimensions: function() {\r\n\t\thelpers$1.callback(this.options.beforeSetDimensions, [this]);\r\n\t},\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.width = me.maxWidth;\r\n\t\t\tme.left = 0;\r\n\t\t\tme.right = me.width;\r\n\t\t} else {\r\n\t\t\tme.height = me.maxHeight;\r\n\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.top = 0;\r\n\t\t\tme.bottom = me.height;\r\n\t\t}\r\n\r\n\t\t// Reset padding\r\n\t\tme.paddingLeft = 0;\r\n\t\tme.paddingTop = 0;\r\n\t\tme.paddingRight = 0;\r\n\t\tme.paddingBottom = 0;\r\n\t},\r\n\tafterSetDimensions: function() {\r\n\t\thelpers$1.callback(this.options.afterSetDimensions, [this]);\r\n\t},\r\n\r\n\t// Data limits\r\n\tbeforeDataLimits: function() {\r\n\t\thelpers$1.callback(this.options.beforeDataLimits, [this]);\r\n\t},\r\n\tdetermineDataLimits: helpers$1.noop,\r\n\tafterDataLimits: function() {\r\n\t\thelpers$1.callback(this.options.afterDataLimits, [this]);\r\n\t},\r\n\r\n\t//\r\n\tbeforeBuildTicks: function() {\r\n\t\thelpers$1.callback(this.options.beforeBuildTicks, [this]);\r\n\t},\r\n\tbuildTicks: helpers$1.noop,\r\n\tafterBuildTicks: function(ticks) {\r\n\t\tvar me = this;\r\n\t\t// ticks is empty for old axis implementations here\r\n\t\tif (isArray(ticks) && ticks.length) {\r\n\t\t\treturn helpers$1.callback(me.options.afterBuildTicks, [me, ticks]);\r\n\t\t}\r\n\t\t// Support old implementations (that modified `this.ticks` directly in buildTicks)\r\n\t\tme.ticks = helpers$1.callback(me.options.afterBuildTicks, [me, me.ticks]) || me.ticks;\r\n\t\treturn ticks;\r\n\t},\r\n\r\n\tbeforeTickToLabelConversion: function() {\r\n\t\thelpers$1.callback(this.options.beforeTickToLabelConversion, [this]);\r\n\t},\r\n\tconvertTicksToLabels: function() {\r\n\t\tvar me = this;\r\n\t\t// Convert ticks to strings\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tme.ticks = me.ticks.map(tickOpts.userCallback || tickOpts.callback, this);\r\n\t},\r\n\tafterTickToLabelConversion: function() {\r\n\t\thelpers$1.callback(this.options.afterTickToLabelConversion, [this]);\r\n\t},\r\n\r\n\t//\r\n\r\n\tbeforeCalculateTickRotation: function() {\r\n\t\thelpers$1.callback(this.options.beforeCalculateTickRotation, [this]);\r\n\t},\r\n\tcalculateTickRotation: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar tickOpts = options.ticks;\r\n\t\tvar numTicks = me.getTicks().length;\r\n\t\tvar minRotation = tickOpts.minRotation || 0;\r\n\t\tvar maxRotation = tickOpts.maxRotation;\r\n\t\tvar labelRotation = minRotation;\r\n\t\tvar labelSizes, maxLabelWidth, maxLabelHeight, maxWidth, tickWidth, maxHeight, maxLabelDiagonal;\r\n\r\n\t\tif (!me._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !me.isHorizontal()) {\r\n\t\t\tme.labelRotation = minRotation;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlabelSizes = me._getLabelSizes();\r\n\t\tmaxLabelWidth = labelSizes.widest.width;\r\n\t\tmaxLabelHeight = labelSizes.highest.height - labelSizes.highest.offset;\r\n\r\n\t\t// Estimate the width of each grid based on the canvas width, the maximum\r\n\t\t// label width and the number of tick intervals\r\n\t\tmaxWidth = Math.min(me.maxWidth, me.chart.width - maxLabelWidth);\r\n\t\ttickWidth = options.offset ? me.maxWidth / numTicks : maxWidth / (numTicks - 1);\r\n\r\n\t\t// Allow 3 pixels x2 padding either side for label readability\r\n\t\tif (maxLabelWidth + 6 > tickWidth) {\r\n\t\t\ttickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\r\n\t\t\tmaxHeight = me.maxHeight - getTickMarkLength(options.gridLines)\r\n\t\t\t\t- tickOpts.padding - getScaleLabelHeight(options.scaleLabel);\r\n\t\t\tmaxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\r\n\t\t\tlabelRotation = helpers$1.toDegrees(Math.min(\r\n\t\t\t\tMath.asin(Math.min((labelSizes.highest.height + 6) / tickWidth, 1)),\r\n\t\t\t\tMath.asin(Math.min(maxHeight / maxLabelDiagonal, 1)) - Math.asin(maxLabelHeight / maxLabelDiagonal)\r\n\t\t\t));\r\n\t\t\tlabelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\r\n\t\t}\r\n\r\n\t\tme.labelRotation = labelRotation;\r\n\t},\r\n\tafterCalculateTickRotation: function() {\r\n\t\thelpers$1.callback(this.options.afterCalculateTickRotation, [this]);\r\n\t},\r\n\r\n\t//\r\n\r\n\tbeforeFit: function() {\r\n\t\thelpers$1.callback(this.options.beforeFit, [this]);\r\n\t},\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\t// Reset\r\n\t\tvar minSize = me.minSize = {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n\r\n\t\tvar chart = me.chart;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\t\tvar scaleLabelOpts = opts.scaleLabel;\r\n\t\tvar gridLineOpts = opts.gridLines;\r\n\t\tvar display = me._isVisible();\r\n\t\tvar isBottom = opts.position === 'bottom';\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\r\n\t\t// Width\r\n\t\tif (isHorizontal) {\r\n\t\t\tminSize.width = me.maxWidth;\r\n\t\t} else if (display) {\r\n\t\t\tminSize.width = getTickMarkLength(gridLineOpts) + getScaleLabelHeight(scaleLabelOpts);\r\n\t\t}\r\n\r\n\t\t// height\r\n\t\tif (!isHorizontal) {\r\n\t\t\tminSize.height = me.maxHeight; // fill all the height\r\n\t\t} else if (display) {\r\n\t\t\tminSize.height = getTickMarkLength(gridLineOpts) + getScaleLabelHeight(scaleLabelOpts);\r\n\t\t}\r\n\r\n\t\t// Don't bother fitting the ticks if we are not showing the labels\r\n\t\tif (tickOpts.display && display) {\r\n\t\t\tvar tickFonts = parseTickFontOptions(tickOpts);\r\n\t\t\tvar labelSizes = me._getLabelSizes();\r\n\t\t\tvar firstLabelSize = labelSizes.first;\r\n\t\t\tvar lastLabelSize = labelSizes.last;\r\n\t\t\tvar widestLabelSize = labelSizes.widest;\r\n\t\t\tvar highestLabelSize = labelSizes.highest;\r\n\t\t\tvar lineSpace = tickFonts.minor.lineHeight * 0.4;\r\n\t\t\tvar tickPadding = tickOpts.padding;\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\t// A horizontal axis is more constrained by the height.\r\n\t\t\t\tvar isRotated = me.labelRotation !== 0;\r\n\t\t\t\tvar angleRadians = helpers$1.toRadians(me.labelRotation);\r\n\t\t\t\tvar cosRotation = Math.cos(angleRadians);\r\n\t\t\t\tvar sinRotation = Math.sin(angleRadians);\r\n\r\n\t\t\t\tvar labelHeight = sinRotation * widestLabelSize.width\r\n\t\t\t\t\t+ cosRotation * (highestLabelSize.height - (isRotated ? highestLabelSize.offset : 0))\r\n\t\t\t\t\t+ (isRotated ? 0 : lineSpace); // padding\r\n\r\n\t\t\t\tminSize.height = Math.min(me.maxHeight, minSize.height + labelHeight + tickPadding);\r\n\r\n\t\t\t\tvar offsetLeft = me.getPixelForTick(0) - me.left;\r\n\t\t\t\tvar offsetRight = me.right - me.getPixelForTick(me.getTicks().length - 1);\r\n\t\t\t\tvar paddingLeft, paddingRight;\r\n\r\n\t\t\t\t// Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned\r\n\t\t\t\t// which means that the right padding is dominated by the font height\r\n\t\t\t\tif (isRotated) {\r\n\t\t\t\t\tpaddingLeft = isBottom ?\r\n\t\t\t\t\t\tcosRotation * firstLabelSize.width + sinRotation * firstLabelSize.offset :\r\n\t\t\t\t\t\tsinRotation * (firstLabelSize.height - firstLabelSize.offset);\r\n\t\t\t\t\tpaddingRight = isBottom ?\r\n\t\t\t\t\t\tsinRotation * (lastLabelSize.height - lastLabelSize.offset) :\r\n\t\t\t\t\t\tcosRotation * lastLabelSize.width + sinRotation * lastLabelSize.offset;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpaddingLeft = firstLabelSize.width / 2;\r\n\t\t\t\t\tpaddingRight = lastLabelSize.width / 2;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adjust padding taking into account changes in offsets\r\n\t\t\t\t// and add 3 px to move away from canvas edges\r\n\t\t\t\tme.paddingLeft = Math.max((paddingLeft - offsetLeft) * me.width / (me.width - offsetLeft), 0) + 3;\r\n\t\t\t\tme.paddingRight = Math.max((paddingRight - offsetRight) * me.width / (me.width - offsetRight), 0) + 3;\r\n\t\t\t} else {\r\n\t\t\t\t// A vertical axis is more constrained by the width. Labels are the\r\n\t\t\t\t// dominant factor here, so get that length first and account for padding\r\n\t\t\t\tvar labelWidth = tickOpts.mirror ? 0 :\r\n\t\t\t\t\t// use lineSpace for consistency with horizontal axis\r\n\t\t\t\t\t// tickPadding is not implemented for horizontal\r\n\t\t\t\t\twidestLabelSize.width + tickPadding + lineSpace;\r\n\r\n\t\t\t\tminSize.width = Math.min(me.maxWidth, minSize.width + labelWidth);\r\n\r\n\t\t\t\tme.paddingTop = firstLabelSize.height / 2;\r\n\t\t\t\tme.paddingBottom = lastLabelSize.height / 2;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.handleMargins();\r\n\r\n\t\tif (isHorizontal) {\r\n\t\t\tme.width = me._length = chart.width - me.margins.left - me.margins.right;\r\n\t\t\tme.height = minSize.height;\r\n\t\t} else {\r\n\t\t\tme.width = minSize.width;\r\n\t\t\tme.height = me._length = chart.height - me.margins.top - me.margins.bottom;\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Handle margins and padding interactions\r\n\t * @private\r\n\t */\r\n\thandleMargins: function() {\r\n\t\tvar me = this;\r\n\t\tif (me.margins) {\r\n\t\t\tme.margins.left = Math.max(me.paddingLeft, me.margins.left);\r\n\t\t\tme.margins.top = Math.max(me.paddingTop, me.margins.top);\r\n\t\t\tme.margins.right = Math.max(me.paddingRight, me.margins.right);\r\n\t\t\tme.margins.bottom = Math.max(me.paddingBottom, me.margins.bottom);\r\n\t\t}\r\n\t},\r\n\r\n\tafterFit: function() {\r\n\t\thelpers$1.callback(this.options.afterFit, [this]);\r\n\t},\r\n\r\n\t// Shared Methods\r\n\tisHorizontal: function() {\r\n\t\tvar pos = this.options.position;\r\n\t\treturn pos === 'top' || pos === 'bottom';\r\n\t},\r\n\tisFullWidth: function() {\r\n\t\treturn this.options.fullWidth;\r\n\t},\r\n\r\n\t// Get the correct value. NaN bad inputs, If the value type is object get the x or y based on whether we are horizontal or not\r\n\tgetRightValue: function(rawValue) {\r\n\t\t// Null and undefined values first\r\n\t\tif (isNullOrUndef(rawValue)) {\r\n\t\t\treturn NaN;\r\n\t\t}\r\n\t\t// isNaN(object) returns true, so make sure NaN is checking for a number; Discard Infinite values\r\n\t\tif ((typeof rawValue === 'number' || rawValue instanceof Number) && !isFinite(rawValue)) {\r\n\t\t\treturn NaN;\r\n\t\t}\r\n\r\n\t\t// If it is in fact an object, dive in one more level\r\n\t\tif (rawValue) {\r\n\t\t\tif (this.isHorizontal()) {\r\n\t\t\t\tif (rawValue.x !== undefined) {\r\n\t\t\t\t\treturn this.getRightValue(rawValue.x);\r\n\t\t\t\t}\r\n\t\t\t} else if (rawValue.y !== undefined) {\r\n\t\t\t\treturn this.getRightValue(rawValue.y);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Value is good, return it\r\n\t\treturn rawValue;\r\n\t},\r\n\r\n\t_convertTicksToLabels: function(ticks) {\r\n\t\tvar me = this;\r\n\t\tvar labels, i, ilen;\r\n\r\n\t\tme.ticks = ticks.map(function(tick) {\r\n\t\t\treturn tick.value;\r\n\t\t});\r\n\r\n\t\tme.beforeTickToLabelConversion();\r\n\r\n\t\t// New implementations should return the formatted tick labels but for BACKWARD\r\n\t\t// COMPAT, we still support no return (`this.ticks` internally changed by calling\r\n\t\t// this method and supposed to contain only string values).\r\n\t\tlabels = me.convertTicksToLabels(ticks) || me.ticks;\r\n\r\n\t\tme.afterTickToLabelConversion();\r\n\r\n\t\t// BACKWARD COMPAT: synchronize `_ticks` with labels (so potentially `this.ticks`)\r\n\t\tfor (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n\t\t\tticks[i].label = labels[i];\r\n\t\t}\r\n\r\n\t\treturn labels;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getLabelSizes: function() {\r\n\t\tvar me = this;\r\n\t\tvar labelSizes = me._labelSizes;\r\n\r\n\t\tif (!labelSizes) {\r\n\t\t\tme._labelSizes = labelSizes = computeLabelSizes(me.ctx, parseTickFontOptions(me.options.ticks), me.getTicks(), me.longestTextCache);\r\n\t\t\tme.longestLabelWidth = labelSizes.widest.width;\r\n\t\t}\r\n\r\n\t\treturn labelSizes;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_parseValue: function(value) {\r\n\t\tvar start, end, min, max;\r\n\r\n\t\tif (isArray(value)) {\r\n\t\t\tstart = +this.getRightValue(value[0]);\r\n\t\t\tend = +this.getRightValue(value[1]);\r\n\t\t\tmin = Math.min(start, end);\r\n\t\t\tmax = Math.max(start, end);\r\n\t\t} else {\r\n\t\t\tvalue = +this.getRightValue(value);\r\n\t\t\tstart = undefined;\r\n\t\t\tend = value;\r\n\t\t\tmin = value;\r\n\t\t\tmax = value;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tmin: min,\r\n\t\t\tmax: max,\r\n\t\t\tstart: start,\r\n\t\t\tend: end\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t* @private\r\n\t*/\r\n\t_getScaleLabel: function(rawValue) {\r\n\t\tvar v = this._parseValue(rawValue);\r\n\t\tif (v.start !== undefined) {\r\n\t\t\treturn '[' + v.start + ', ' + v.end + ']';\r\n\t\t}\r\n\r\n\t\treturn +this.getRightValue(rawValue);\r\n\t},\r\n\r\n\t/**\r\n\t * Used to get the value to display in the tooltip for the data at the given index\r\n\t * @param index\r\n\t * @param datasetIndex\r\n\t */\r\n\tgetLabelForIndex: helpers$1.noop,\r\n\r\n\t/**\r\n\t * Returns the location of the given data point. Value can either be an index or a numerical value\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t * @param value\r\n\t * @param index\r\n\t * @param datasetIndex\r\n\t */\r\n\tgetPixelForValue: helpers$1.noop,\r\n\r\n\t/**\r\n\t * Used to get the data value from a given pixel. This is the inverse of getPixelForValue\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t * @param pixel\r\n\t */\r\n\tgetValueForPixel: helpers$1.noop,\r\n\r\n\t/**\r\n\t * Returns the location of the tick at the given index\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t */\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar offset = me.options.offset;\r\n\t\tvar numTicks = me._ticks.length;\r\n\t\tvar tickWidth = 1 / Math.max(numTicks - (offset ? 0 : 1), 1);\r\n\r\n\t\treturn index < 0 || index > numTicks - 1\r\n\t\t\t? null\r\n\t\t\t: me.getPixelForDecimal(index * tickWidth + (offset ? tickWidth / 2 : 0));\r\n\t},\r\n\r\n\t/**\r\n\t * Utility for getting the pixel location of a percentage of scale\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t */\r\n\tgetPixelForDecimal: function(decimal) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (me._reversePixels) {\r\n\t\t\tdecimal = 1 - decimal;\r\n\t\t}\r\n\r\n\t\treturn me._startPixel + decimal * me._length;\r\n\t},\r\n\r\n\tgetDecimalForPixel: function(pixel) {\r\n\t\tvar decimal = (pixel - this._startPixel) / this._length;\r\n\t\treturn this._reversePixels ? 1 - decimal : decimal;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the pixel for the minimum chart value\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t */\r\n\tgetBasePixel: function() {\r\n\t\treturn this.getPixelForValue(this.getBaseValue());\r\n\t},\r\n\r\n\tgetBaseValue: function() {\r\n\t\tvar me = this;\r\n\t\tvar min = me.min;\r\n\t\tvar max = me.max;\r\n\r\n\t\treturn me.beginAtZero ? 0 :\r\n\t\t\tmin < 0 && max < 0 ? max :\r\n\t\t\tmin > 0 && max > 0 ? min :\r\n\t\t\t0;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a subset of ticks to be plotted to avoid overlapping labels.\r\n\t * @private\r\n\t */\r\n\t_autoSkip: function(ticks) {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar axisLength = me._length;\r\n\t\tvar ticksLimit = tickOpts.maxTicksLimit || axisLength / me._tickSize() + 1;\r\n\t\tvar majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\r\n\t\tvar numMajorIndices = majorIndices.length;\r\n\t\tvar first = majorIndices[0];\r\n\t\tvar last = majorIndices[numMajorIndices - 1];\r\n\t\tvar i, ilen, spacing, avgMajorSpacing;\r\n\r\n\t\t// If there are too many major ticks to display them all\r\n\t\tif (numMajorIndices > ticksLimit) {\r\n\t\t\tskipMajors(ticks, majorIndices, numMajorIndices / ticksLimit);\r\n\t\t\treturn nonSkipped(ticks);\r\n\t\t}\r\n\r\n\t\tspacing = calculateSpacing(majorIndices, ticks, axisLength, ticksLimit);\r\n\r\n\t\tif (numMajorIndices > 0) {\r\n\t\t\tfor (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\r\n\t\t\t\tskip(ticks, spacing, majorIndices[i], majorIndices[i + 1]);\r\n\t\t\t}\r\n\t\t\tavgMajorSpacing = numMajorIndices > 1 ? (last - first) / (numMajorIndices - 1) : null;\r\n\t\t\tskip(ticks, spacing, helpers$1.isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\r\n\t\t\tskip(ticks, spacing, last, helpers$1.isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\r\n\t\t\treturn nonSkipped(ticks);\r\n\t\t}\r\n\t\tskip(ticks, spacing);\r\n\t\treturn nonSkipped(ticks);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_tickSize: function() {\r\n\t\tvar me = this;\r\n\t\tvar optionTicks = me.options.ticks;\r\n\r\n\t\t// Calculate space needed by label in axis direction.\r\n\t\tvar rot = helpers$1.toRadians(me.labelRotation);\r\n\t\tvar cos = Math.abs(Math.cos(rot));\r\n\t\tvar sin = Math.abs(Math.sin(rot));\r\n\r\n\t\tvar labelSizes = me._getLabelSizes();\r\n\t\tvar padding = optionTicks.autoSkipPadding || 0;\r\n\t\tvar w = labelSizes ? labelSizes.widest.width + padding : 0;\r\n\t\tvar h = labelSizes ? labelSizes.highest.height + padding : 0;\r\n\r\n\t\t// Calculate space needed for 1 tick in axis direction.\r\n\t\treturn me.isHorizontal()\r\n\t\t\t? h * cos > w * sin ? w / cos : h / sin\r\n\t\t\t: h * sin < w * cos ? h / cos : w / sin;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_isVisible: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar display = me.options.display;\r\n\t\tvar i, ilen, meta;\r\n\r\n\t\tif (display !== 'auto') {\r\n\t\t\treturn !!display;\r\n\t\t}\r\n\r\n\t\t// When 'auto', the scale is visible if at least one associated dataset is visible.\r\n\t\tfor (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tif (chart.isDatasetVisible(i)) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\tif (meta.xAxisID === me.id || meta.yAxisID === me.id) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_computeGridLineItems: function(chartArea) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar options = me.options;\r\n\t\tvar gridLines = options.gridLines;\r\n\t\tvar position = options.position;\r\n\t\tvar offsetGridLines = gridLines.offsetGridLines;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tvar ticks = me._ticksToDraw;\r\n\t\tvar ticksLength = ticks.length + (offsetGridLines ? 1 : 0);\r\n\r\n\t\tvar tl = getTickMarkLength(gridLines);\r\n\t\tvar items = [];\r\n\t\tvar axisWidth = gridLines.drawBorder ? valueAtIndexOrDefault(gridLines.lineWidth, 0, 0) : 0;\r\n\t\tvar axisHalfWidth = axisWidth / 2;\r\n\t\tvar alignPixel = helpers$1._alignPixel;\r\n\t\tvar alignBorderValue = function(pixel) {\r\n\t\t\treturn alignPixel(chart, pixel, axisWidth);\r\n\t\t};\r\n\t\tvar borderValue, i, tick, lineValue, alignedLineValue;\r\n\t\tvar tx1, ty1, tx2, ty2, x1, y1, x2, y2, lineWidth, lineColor, borderDash, borderDashOffset;\r\n\r\n\t\tif (position === 'top') {\r\n\t\t\tborderValue = alignBorderValue(me.bottom);\r\n\t\t\tty1 = me.bottom - tl;\r\n\t\t\tty2 = borderValue - axisHalfWidth;\r\n\t\t\ty1 = alignBorderValue(chartArea.top) + axisHalfWidth;\r\n\t\t\ty2 = chartArea.bottom;\r\n\t\t} else if (position === 'bottom') {\r\n\t\t\tborderValue = alignBorderValue(me.top);\r\n\t\t\ty1 = chartArea.top;\r\n\t\t\ty2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\r\n\t\t\tty1 = borderValue + axisHalfWidth;\r\n\t\t\tty2 = me.top + tl;\r\n\t\t} else if (position === 'left') {\r\n\t\t\tborderValue = alignBorderValue(me.right);\r\n\t\t\ttx1 = me.right - tl;\r\n\t\t\ttx2 = borderValue - axisHalfWidth;\r\n\t\t\tx1 = alignBorderValue(chartArea.left) + axisHalfWidth;\r\n\t\t\tx2 = chartArea.right;\r\n\t\t} else {\r\n\t\t\tborderValue = alignBorderValue(me.left);\r\n\t\t\tx1 = chartArea.left;\r\n\t\t\tx2 = alignBorderValue(chartArea.right) - axisHalfWidth;\r\n\t\t\ttx1 = borderValue + axisHalfWidth;\r\n\t\t\ttx2 = me.left + tl;\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < ticksLength; ++i) {\r\n\t\t\ttick = ticks[i] || {};\r\n\r\n\t\t\t// autoskipper skipped this tick (#4635)\r\n\t\t\tif (isNullOrUndef(tick.label) && i < ticks.length) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (i === me.zeroLineIndex && options.offset === offsetGridLines) {\r\n\t\t\t\t// Draw the first index specially\r\n\t\t\t\tlineWidth = gridLines.zeroLineWidth;\r\n\t\t\t\tlineColor = gridLines.zeroLineColor;\r\n\t\t\t\tborderDash = gridLines.zeroLineBorderDash || [];\r\n\t\t\t\tborderDashOffset = gridLines.zeroLineBorderDashOffset || 0.0;\r\n\t\t\t} else {\r\n\t\t\t\tlineWidth = valueAtIndexOrDefault(gridLines.lineWidth, i, 1);\r\n\t\t\t\tlineColor = valueAtIndexOrDefault(gridLines.color, i, 'rgba(0,0,0,0.1)');\r\n\t\t\t\tborderDash = gridLines.borderDash || [];\r\n\t\t\t\tborderDashOffset = gridLines.borderDashOffset || 0.0;\r\n\t\t\t}\r\n\r\n\t\t\tlineValue = getPixelForGridLine(me, tick._index || i, offsetGridLines);\r\n\r\n\t\t\t// Skip if the pixel is out of the range\r\n\t\t\tif (lineValue === undefined) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\talignedLineValue = alignPixel(chart, lineValue, lineWidth);\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\ttx1 = tx2 = x1 = x2 = alignedLineValue;\r\n\t\t\t} else {\r\n\t\t\t\tty1 = ty2 = y1 = y2 = alignedLineValue;\r\n\t\t\t}\r\n\r\n\t\t\titems.push({\r\n\t\t\t\ttx1: tx1,\r\n\t\t\t\tty1: ty1,\r\n\t\t\t\ttx2: tx2,\r\n\t\t\t\tty2: ty2,\r\n\t\t\t\tx1: x1,\r\n\t\t\t\ty1: y1,\r\n\t\t\t\tx2: x2,\r\n\t\t\t\ty2: y2,\r\n\t\t\t\twidth: lineWidth,\r\n\t\t\t\tcolor: lineColor,\r\n\t\t\t\tborderDash: borderDash,\r\n\t\t\t\tborderDashOffset: borderDashOffset,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\titems.ticksLength = ticksLength;\r\n\t\titems.borderValue = borderValue;\r\n\r\n\t\treturn items;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_computeLabelItems: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar optionTicks = options.ticks;\r\n\t\tvar position = options.position;\r\n\t\tvar isMirrored = optionTicks.mirror;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tvar ticks = me._ticksToDraw;\r\n\t\tvar fonts = parseTickFontOptions(optionTicks);\r\n\t\tvar tickPadding = optionTicks.padding;\r\n\t\tvar tl = getTickMarkLength(options.gridLines);\r\n\t\tvar rotation = -helpers$1.toRadians(me.labelRotation);\r\n\t\tvar items = [];\r\n\t\tvar i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\r\n\r\n\t\tif (position === 'top') {\r\n\t\t\ty = me.bottom - tl - tickPadding;\r\n\t\t\ttextAlign = !rotation ? 'center' : 'left';\r\n\t\t} else if (position === 'bottom') {\r\n\t\t\ty = me.top + tl + tickPadding;\r\n\t\t\ttextAlign = !rotation ? 'center' : 'right';\r\n\t\t} else if (position === 'left') {\r\n\t\t\tx = me.right - (isMirrored ? 0 : tl) - tickPadding;\r\n\t\t\ttextAlign = isMirrored ? 'left' : 'right';\r\n\t\t} else {\r\n\t\t\tx = me.left + (isMirrored ? 0 : tl) + tickPadding;\r\n\t\t\ttextAlign = isMirrored ? 'right' : 'left';\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n\t\t\ttick = ticks[i];\r\n\t\t\tlabel = tick.label;\r\n\r\n\t\t\t// autoskipper skipped this tick (#4635)\r\n\t\t\tif (isNullOrUndef(label)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpixel = me.getPixelForTick(tick._index || i) + optionTicks.labelOffset;\r\n\t\t\tfont = tick.major ? fonts.major : fonts.minor;\r\n\t\t\tlineHeight = font.lineHeight;\r\n\t\t\tlineCount = isArray(label) ? label.length : 1;\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\tx = pixel;\r\n\t\t\t\ttextOffset = position === 'top'\r\n\t\t\t\t\t? ((!rotation ? 0.5 : 1) - lineCount) * lineHeight\r\n\t\t\t\t\t: (!rotation ? 0.5 : 0) * lineHeight;\r\n\t\t\t} else {\r\n\t\t\t\ty = pixel;\r\n\t\t\t\ttextOffset = (1 - lineCount) * lineHeight / 2;\r\n\t\t\t}\r\n\r\n\t\t\titems.push({\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y,\r\n\t\t\t\trotation: rotation,\r\n\t\t\t\tlabel: label,\r\n\t\t\t\tfont: font,\r\n\t\t\t\ttextOffset: textOffset,\r\n\t\t\t\ttextAlign: textAlign\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn items;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawGrid: function(chartArea) {\r\n\t\tvar me = this;\r\n\t\tvar gridLines = me.options.gridLines;\r\n\r\n\t\tif (!gridLines.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar chart = me.chart;\r\n\t\tvar alignPixel = helpers$1._alignPixel;\r\n\t\tvar axisWidth = gridLines.drawBorder ? valueAtIndexOrDefault(gridLines.lineWidth, 0, 0) : 0;\r\n\t\tvar items = me._gridLineItems || (me._gridLineItems = me._computeGridLineItems(chartArea));\r\n\t\tvar width, color, i, ilen, item;\r\n\r\n\t\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\t\titem = items[i];\r\n\t\t\twidth = item.width;\r\n\t\t\tcolor = item.color;\r\n\r\n\t\t\tif (width && color) {\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.lineWidth = width;\r\n\t\t\t\tctx.strokeStyle = color;\r\n\t\t\t\tif (ctx.setLineDash) {\r\n\t\t\t\t\tctx.setLineDash(item.borderDash);\r\n\t\t\t\t\tctx.lineDashOffset = item.borderDashOffset;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tctx.beginPath();\r\n\r\n\t\t\t\tif (gridLines.drawTicks) {\r\n\t\t\t\t\tctx.moveTo(item.tx1, item.ty1);\r\n\t\t\t\t\tctx.lineTo(item.tx2, item.ty2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (gridLines.drawOnChartArea) {\r\n\t\t\t\t\tctx.moveTo(item.x1, item.y1);\r\n\t\t\t\t\tctx.lineTo(item.x2, item.y2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tctx.stroke();\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (axisWidth) {\r\n\t\t\t// Draw the line at the edge of the axis\r\n\t\t\tvar firstLineWidth = axisWidth;\r\n\t\t\tvar lastLineWidth = valueAtIndexOrDefault(gridLines.lineWidth, items.ticksLength - 1, 1);\r\n\t\t\tvar borderValue = items.borderValue;\r\n\t\t\tvar x1, x2, y1, y2;\r\n\r\n\t\t\tif (me.isHorizontal()) {\r\n\t\t\t\tx1 = alignPixel(chart, me.left, firstLineWidth) - firstLineWidth / 2;\r\n\t\t\t\tx2 = alignPixel(chart, me.right, lastLineWidth) + lastLineWidth / 2;\r\n\t\t\t\ty1 = y2 = borderValue;\r\n\t\t\t} else {\r\n\t\t\t\ty1 = alignPixel(chart, me.top, firstLineWidth) - firstLineWidth / 2;\r\n\t\t\t\ty2 = alignPixel(chart, me.bottom, lastLineWidth) + lastLineWidth / 2;\r\n\t\t\t\tx1 = x2 = borderValue;\r\n\t\t\t}\r\n\r\n\t\t\tctx.lineWidth = axisWidth;\r\n\t\t\tctx.strokeStyle = valueAtIndexOrDefault(gridLines.color, 0);\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(x1, y1);\r\n\t\t\tctx.lineTo(x2, y2);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawLabels: function() {\r\n\t\tvar me = this;\r\n\t\tvar optionTicks = me.options.ticks;\r\n\r\n\t\tif (!optionTicks.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar items = me._labelItems || (me._labelItems = me._computeLabelItems());\r\n\t\tvar i, j, ilen, jlen, item, tickFont, label, y;\r\n\r\n\t\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\t\titem = items[i];\r\n\t\t\ttickFont = item.font;\r\n\r\n\t\t\t// Make sure we draw text in the correct color and font\r\n\t\t\tctx.save();\r\n\t\t\tctx.translate(item.x, item.y);\r\n\t\t\tctx.rotate(item.rotation);\r\n\t\t\tctx.font = tickFont.string;\r\n\t\t\tctx.fillStyle = tickFont.color;\r\n\t\t\tctx.textBaseline = 'middle';\r\n\t\t\tctx.textAlign = item.textAlign;\r\n\r\n\t\t\tlabel = item.label;\r\n\t\t\ty = item.textOffset;\r\n\t\t\tif (isArray(label)) {\r\n\t\t\t\tfor (j = 0, jlen = label.length; j < jlen; ++j) {\r\n\t\t\t\t\t// We just make sure the multiline element is a string here..\r\n\t\t\t\t\tctx.fillText('' + label[j], 0, y);\r\n\t\t\t\t\ty += tickFont.lineHeight;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tctx.fillText(label, 0, y);\r\n\t\t\t}\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawTitle: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar options = me.options;\r\n\t\tvar scaleLabel = options.scaleLabel;\r\n\r\n\t\tif (!scaleLabel.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar scaleLabelFontColor = valueOrDefault$a(scaleLabel.fontColor, core_defaults.global.defaultFontColor);\r\n\t\tvar scaleLabelFont = helpers$1.options._parseFont(scaleLabel);\r\n\t\tvar scaleLabelPadding = helpers$1.options.toPadding(scaleLabel.padding);\r\n\t\tvar halfLineHeight = scaleLabelFont.lineHeight / 2;\r\n\t\tvar position = options.position;\r\n\t\tvar rotation = 0;\r\n\t\tvar scaleLabelX, scaleLabelY;\r\n\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\tscaleLabelX = me.left + me.width / 2; // midpoint of the width\r\n\t\t\tscaleLabelY = position === 'bottom'\r\n\t\t\t\t? me.bottom - halfLineHeight - scaleLabelPadding.bottom\r\n\t\t\t\t: me.top + halfLineHeight + scaleLabelPadding.top;\r\n\t\t} else {\r\n\t\t\tvar isLeft = position === 'left';\r\n\t\t\tscaleLabelX = isLeft\r\n\t\t\t\t? me.left + halfLineHeight + scaleLabelPadding.top\r\n\t\t\t\t: me.right - halfLineHeight - scaleLabelPadding.top;\r\n\t\t\tscaleLabelY = me.top + me.height / 2;\r\n\t\t\trotation = isLeft ? -0.5 * Math.PI : 0.5 * Math.PI;\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.translate(scaleLabelX, scaleLabelY);\r\n\t\tctx.rotate(rotation);\r\n\t\tctx.textAlign = 'center';\r\n\t\tctx.textBaseline = 'middle';\r\n\t\tctx.fillStyle = scaleLabelFontColor; // render in correct colour\r\n\t\tctx.font = scaleLabelFont.string;\r\n\t\tctx.fillText(scaleLabel.labelString, 0, 0);\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\tdraw: function(chartArea) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (!me._isVisible()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tme._drawGrid(chartArea);\r\n\t\tme._drawTitle();\r\n\t\tme._drawLabels();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_layers: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar tz = opts.ticks && opts.ticks.z || 0;\r\n\t\tvar gz = opts.gridLines && opts.gridLines.z || 0;\r\n\r\n\t\tif (!me._isVisible() || tz === gz || me.draw !== me._draw) {\r\n\t\t\t// backward compatibility: draw has been overridden by custom scale\r\n\t\t\treturn [{\r\n\t\t\t\tz: tz,\r\n\t\t\t\tdraw: function() {\r\n\t\t\t\t\tme.draw.apply(me, arguments);\r\n\t\t\t\t}\r\n\t\t\t}];\r\n\t\t}\r\n\r\n\t\treturn [{\r\n\t\t\tz: gz,\r\n\t\t\tdraw: function() {\r\n\t\t\t\tme._drawGrid.apply(me, arguments);\r\n\t\t\t\tme._drawTitle.apply(me, arguments);\r\n\t\t\t}\r\n\t\t}, {\r\n\t\t\tz: tz,\r\n\t\t\tdraw: function() {\r\n\t\t\t\tme._drawLabels.apply(me, arguments);\r\n\t\t\t}\r\n\t\t}];\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getMatchingVisibleMetas: function(type) {\r\n\t\tvar me = this;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\treturn me.chart._getSortedVisibleDatasetMetas()\r\n\t\t\t.filter(function(meta) {\r\n\t\t\t\treturn (!type || meta.type === type)\r\n\t\t\t\t\t&& (isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id);\r\n\t\t\t});\r\n\t}\r\n});\r\n\r\nScale.prototype._draw = Scale.prototype.draw;\r\n\r\nvar core_scale = Scale;\n\nvar isNullOrUndef$1 = helpers$1.isNullOrUndef;\r\n\r\nvar defaultConfig = {\r\n\tposition: 'bottom'\r\n};\r\n\r\nvar scale_category = core_scale.extend({\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar labels = me._getLabels();\r\n\t\tvar ticksOpts = me.options.ticks;\r\n\t\tvar min = ticksOpts.min;\r\n\t\tvar max = ticksOpts.max;\r\n\t\tvar minIndex = 0;\r\n\t\tvar maxIndex = labels.length - 1;\r\n\t\tvar findIndex;\r\n\r\n\t\tif (min !== undefined) {\r\n\t\t\t// user specified min value\r\n\t\t\tfindIndex = labels.indexOf(min);\r\n\t\t\tif (findIndex >= 0) {\r\n\t\t\t\tminIndex = findIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (max !== undefined) {\r\n\t\t\t// user specified max value\r\n\t\t\tfindIndex = labels.indexOf(max);\r\n\t\t\tif (findIndex >= 0) {\r\n\t\t\t\tmaxIndex = findIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.minIndex = minIndex;\r\n\t\tme.maxIndex = maxIndex;\r\n\t\tme.min = labels[minIndex];\r\n\t\tme.max = labels[maxIndex];\r\n\t},\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar labels = me._getLabels();\r\n\t\tvar minIndex = me.minIndex;\r\n\t\tvar maxIndex = me.maxIndex;\r\n\r\n\t\t// If we are viewing some subset of labels, slice the original array\r\n\t\tme.ticks = (minIndex === 0 && maxIndex === labels.length - 1) ? labels : labels.slice(minIndex, maxIndex + 1);\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\r\n\t\tif (chart.getDatasetMeta(datasetIndex).controller._getValueScaleId() === me.id) {\r\n\t\t\treturn me.getRightValue(chart.data.datasets[datasetIndex].data[index]);\r\n\t\t}\r\n\r\n\t\treturn me._getLabels()[index];\r\n\t},\r\n\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar offset = me.options.offset;\r\n\t\tvar ticks = me.ticks;\r\n\r\n\t\tcore_scale.prototype._configure.call(me);\r\n\r\n\t\tif (!me.isHorizontal()) {\r\n\t\t\t// For backward compatibility, vertical category scale reverse is inverted.\r\n\t\t\tme._reversePixels = !me._reversePixels;\r\n\t\t}\r\n\r\n\t\tif (!ticks) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tme._startValue = me.minIndex - (offset ? 0.5 : 0);\r\n\t\tme._valueRange = Math.max(ticks.length - (offset ? 0 : 1), 1);\r\n\t},\r\n\r\n\t// Used to get data value locations.  Value can either be an index or a numerical value\r\n\tgetPixelForValue: function(value, index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar valueCategory, labels, idx;\r\n\r\n\t\tif (!isNullOrUndef$1(index) && !isNullOrUndef$1(datasetIndex)) {\r\n\t\t\tvalue = me.chart.data.datasets[datasetIndex].data[index];\r\n\t\t}\r\n\r\n\t\t// If value is a data object, then index is the index in the data array,\r\n\t\t// not the index of the scale. We need to change that.\r\n\t\tif (!isNullOrUndef$1(value)) {\r\n\t\t\tvalueCategory = me.isHorizontal() ? value.x : value.y;\r\n\t\t}\r\n\t\tif (valueCategory !== undefined || (value !== undefined && isNaN(index))) {\r\n\t\t\tlabels = me._getLabels();\r\n\t\t\tvalue = helpers$1.valueOrDefault(valueCategory, value);\r\n\t\t\tidx = labels.indexOf(value);\r\n\t\t\tindex = idx !== -1 ? idx : index;\r\n\t\t\tif (isNaN(index)) {\r\n\t\t\t\tindex = value;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn me.getPixelForDecimal((index - me._startValue) / me._valueRange);\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.ticks;\r\n\t\treturn index < 0 || index > ticks.length - 1\r\n\t\t\t? null\r\n\t\t\t: this.getPixelForValue(ticks[index], index + this.minIndex);\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\tvar me = this;\r\n\t\tvar value = Math.round(me._startValue + me.getDecimalForPixel(pixel) * me._valueRange);\r\n\t\treturn Math.min(Math.max(value, 0), me.ticks.length - 1);\r\n\t},\r\n\r\n\tgetBasePixel: function() {\r\n\t\treturn this.bottom;\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults = defaultConfig;\nscale_category._defaults = _defaults;\n\nvar noop = helpers$1.noop;\r\nvar isNullOrUndef$2 = helpers$1.isNullOrUndef;\r\n\r\n/**\r\n * Generate a set of linear ticks\r\n * @param generationOptions the options used to generate the ticks\r\n * @param dataRange the range of the data\r\n * @returns {number[]} array of tick values\r\n */\r\nfunction generateTicks(generationOptions, dataRange) {\r\n\tvar ticks = [];\r\n\t// To get a \"nice\" value for the tick spacing, we will use the appropriately named\r\n\t// \"nice number\" algorithm. See https://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\r\n\t// for details.\r\n\r\n\tvar MIN_SPACING = 1e-14;\r\n\tvar stepSize = generationOptions.stepSize;\r\n\tvar unit = stepSize || 1;\r\n\tvar maxNumSpaces = generationOptions.maxTicks - 1;\r\n\tvar min = generationOptions.min;\r\n\tvar max = generationOptions.max;\r\n\tvar precision = generationOptions.precision;\r\n\tvar rmin = dataRange.min;\r\n\tvar rmax = dataRange.max;\r\n\tvar spacing = helpers$1.niceNum((rmax - rmin) / maxNumSpaces / unit) * unit;\r\n\tvar factor, niceMin, niceMax, numSpaces;\r\n\r\n\t// Beyond MIN_SPACING floating point numbers being to lose precision\r\n\t// such that we can't do the math necessary to generate ticks\r\n\tif (spacing < MIN_SPACING && isNullOrUndef$2(min) && isNullOrUndef$2(max)) {\r\n\t\treturn [rmin, rmax];\r\n\t}\r\n\r\n\tnumSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\r\n\tif (numSpaces > maxNumSpaces) {\r\n\t\t// If the calculated num of spaces exceeds maxNumSpaces, recalculate it\r\n\t\tspacing = helpers$1.niceNum(numSpaces * spacing / maxNumSpaces / unit) * unit;\r\n\t}\r\n\r\n\tif (stepSize || isNullOrUndef$2(precision)) {\r\n\t\t// If a precision is not specified, calculate factor based on spacing\r\n\t\tfactor = Math.pow(10, helpers$1._decimalPlaces(spacing));\r\n\t} else {\r\n\t\t// If the user specified a precision, round to that number of decimal places\r\n\t\tfactor = Math.pow(10, precision);\r\n\t\tspacing = Math.ceil(spacing * factor) / factor;\r\n\t}\r\n\r\n\tniceMin = Math.floor(rmin / spacing) * spacing;\r\n\tniceMax = Math.ceil(rmax / spacing) * spacing;\r\n\r\n\t// If min, max and stepSize is set and they make an evenly spaced scale use it.\r\n\tif (stepSize) {\r\n\t\t// If very close to our whole number, use it.\r\n\t\tif (!isNullOrUndef$2(min) && helpers$1.almostWhole(min / spacing, spacing / 1000)) {\r\n\t\t\tniceMin = min;\r\n\t\t}\r\n\t\tif (!isNullOrUndef$2(max) && helpers$1.almostWhole(max / spacing, spacing / 1000)) {\r\n\t\t\tniceMax = max;\r\n\t\t}\r\n\t}\r\n\r\n\tnumSpaces = (niceMax - niceMin) / spacing;\r\n\t// If very close to our rounded value, use it.\r\n\tif (helpers$1.almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\r\n\t\tnumSpaces = Math.round(numSpaces);\r\n\t} else {\r\n\t\tnumSpaces = Math.ceil(numSpaces);\r\n\t}\r\n\r\n\tniceMin = Math.round(niceMin * factor) / factor;\r\n\tniceMax = Math.round(niceMax * factor) / factor;\r\n\tticks.push(isNullOrUndef$2(min) ? niceMin : min);\r\n\tfor (var j = 1; j < numSpaces; ++j) {\r\n\t\tticks.push(Math.round((niceMin + j * spacing) * factor) / factor);\r\n\t}\r\n\tticks.push(isNullOrUndef$2(max) ? niceMax : max);\r\n\r\n\treturn ticks;\r\n}\r\n\r\nvar scale_linearbase = core_scale.extend({\r\n\tgetRightValue: function(value) {\r\n\t\tif (typeof value === 'string') {\r\n\t\t\treturn +value;\r\n\t\t}\r\n\t\treturn core_scale.prototype.getRightValue.call(this, value);\r\n\t},\r\n\r\n\thandleTickRangeOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\r\n\t\t// If we are forcing it to begin at 0, but 0 will already be rendered on the chart,\r\n\t\t// do nothing since that would make the chart weird. If the user really wants a weird chart\r\n\t\t// axis, they can manually override it\r\n\t\tif (tickOpts.beginAtZero) {\r\n\t\t\tvar minSign = helpers$1.sign(me.min);\r\n\t\t\tvar maxSign = helpers$1.sign(me.max);\r\n\r\n\t\t\tif (minSign < 0 && maxSign < 0) {\r\n\t\t\t\t// move the top up to 0\r\n\t\t\t\tme.max = 0;\r\n\t\t\t} else if (minSign > 0 && maxSign > 0) {\r\n\t\t\t\t// move the bottom down to 0\r\n\t\t\t\tme.min = 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar setMin = tickOpts.min !== undefined || tickOpts.suggestedMin !== undefined;\r\n\t\tvar setMax = tickOpts.max !== undefined || tickOpts.suggestedMax !== undefined;\r\n\r\n\t\tif (tickOpts.min !== undefined) {\r\n\t\t\tme.min = tickOpts.min;\r\n\t\t} else if (tickOpts.suggestedMin !== undefined) {\r\n\t\t\tif (me.min === null) {\r\n\t\t\t\tme.min = tickOpts.suggestedMin;\r\n\t\t\t} else {\r\n\t\t\t\tme.min = Math.min(me.min, tickOpts.suggestedMin);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (tickOpts.max !== undefined) {\r\n\t\t\tme.max = tickOpts.max;\r\n\t\t} else if (tickOpts.suggestedMax !== undefined) {\r\n\t\t\tif (me.max === null) {\r\n\t\t\t\tme.max = tickOpts.suggestedMax;\r\n\t\t\t} else {\r\n\t\t\t\tme.max = Math.max(me.max, tickOpts.suggestedMax);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (setMin !== setMax) {\r\n\t\t\t// We set the min or the max but not both.\r\n\t\t\t// So ensure that our range is good\r\n\t\t\t// Inverted or 0 length range can happen when\r\n\t\t\t// ticks.min is set, and no datasets are visible\r\n\t\t\tif (me.min >= me.max) {\r\n\t\t\t\tif (setMin) {\r\n\t\t\t\t\tme.max = me.min + 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tme.min = me.max - 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (me.min === me.max) {\r\n\t\t\tme.max++;\r\n\r\n\t\t\tif (!tickOpts.beginAtZero) {\r\n\t\t\t\tme.min--;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tgetTickLimit: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar stepSize = tickOpts.stepSize;\r\n\t\tvar maxTicksLimit = tickOpts.maxTicksLimit;\r\n\t\tvar maxTicks;\r\n\r\n\t\tif (stepSize) {\r\n\t\t\tmaxTicks = Math.ceil(me.max / stepSize) - Math.floor(me.min / stepSize) + 1;\r\n\t\t} else {\r\n\t\t\tmaxTicks = me._computeTickLimit();\r\n\t\t\tmaxTicksLimit = maxTicksLimit || 11;\r\n\t\t}\r\n\r\n\t\tif (maxTicksLimit) {\r\n\t\t\tmaxTicks = Math.min(maxTicksLimit, maxTicks);\r\n\t\t}\r\n\r\n\t\treturn maxTicks;\r\n\t},\r\n\r\n\t_computeTickLimit: function() {\r\n\t\treturn Number.POSITIVE_INFINITY;\r\n\t},\r\n\r\n\thandleDirectionalChanges: noop,\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\r\n\t\t// Figure out what the max number of ticks we can support it is based on the size of\r\n\t\t// the axis area. For now, we say that the minimum tick spacing in pixels must be 40\r\n\t\t// We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\r\n\t\t// the graph. Make sure we always have at least 2 ticks\r\n\t\tvar maxTicks = me.getTickLimit();\r\n\t\tmaxTicks = Math.max(2, maxTicks);\r\n\r\n\t\tvar numericGeneratorOptions = {\r\n\t\t\tmaxTicks: maxTicks,\r\n\t\t\tmin: tickOpts.min,\r\n\t\t\tmax: tickOpts.max,\r\n\t\t\tprecision: tickOpts.precision,\r\n\t\t\tstepSize: helpers$1.valueOrDefault(tickOpts.fixedStepSize, tickOpts.stepSize)\r\n\t\t};\r\n\t\tvar ticks = me.ticks = generateTicks(numericGeneratorOptions, me);\r\n\r\n\t\tme.handleDirectionalChanges();\r\n\r\n\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\r\n\t\t// range of the scale\r\n\t\tme.max = helpers$1.max(ticks);\r\n\t\tme.min = helpers$1.min(ticks);\r\n\r\n\t\tif (tickOpts.reverse) {\r\n\t\t\tticks.reverse();\r\n\r\n\t\t\tme.start = me.max;\r\n\t\t\tme.end = me.min;\r\n\t\t} else {\r\n\t\t\tme.start = me.min;\r\n\t\t\tme.end = me.max;\r\n\t\t}\r\n\t},\r\n\r\n\tconvertTicksToLabels: function() {\r\n\t\tvar me = this;\r\n\t\tme.ticksAsNumbers = me.ticks.slice();\r\n\t\tme.zeroLineIndex = me.ticks.indexOf(0);\r\n\r\n\t\tcore_scale.prototype.convertTicksToLabels.call(me);\r\n\t},\r\n\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar ticks = me.getTicks();\r\n\t\tvar start = me.min;\r\n\t\tvar end = me.max;\r\n\t\tvar offset;\r\n\r\n\t\tcore_scale.prototype._configure.call(me);\r\n\r\n\t\tif (me.options.offset && ticks.length) {\r\n\t\t\toffset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\r\n\t\t\tstart -= offset;\r\n\t\t\tend += offset;\r\n\t\t}\r\n\t\tme._startValue = start;\r\n\t\tme._endValue = end;\r\n\t\tme._valueRange = end - start;\r\n\t}\r\n});\n\nvar defaultConfig$1 = {\r\n\tposition: 'left',\r\n\tticks: {\r\n\t\tcallback: core_ticks.formatters.linear\r\n\t}\r\n};\r\n\r\nvar DEFAULT_MIN = 0;\r\nvar DEFAULT_MAX = 1;\r\n\r\nfunction getOrCreateStack(stacks, stacked, meta) {\r\n\tvar key = [\r\n\t\tmeta.type,\r\n\t\t// we have a separate stack for stack=undefined datasets when the opts.stacked is undefined\r\n\t\tstacked === undefined && meta.stack === undefined ? meta.index : '',\r\n\t\tmeta.stack\r\n\t].join('.');\r\n\r\n\tif (stacks[key] === undefined) {\r\n\t\tstacks[key] = {\r\n\t\t\tpos: [],\r\n\t\t\tneg: []\r\n\t\t};\r\n\t}\r\n\r\n\treturn stacks[key];\r\n}\r\n\r\nfunction stackData(scale, stacks, meta, data) {\r\n\tvar opts = scale.options;\r\n\tvar stacked = opts.stacked;\r\n\tvar stack = getOrCreateStack(stacks, stacked, meta);\r\n\tvar pos = stack.pos;\r\n\tvar neg = stack.neg;\r\n\tvar ilen = data.length;\r\n\tvar i, value;\r\n\r\n\tfor (i = 0; i < ilen; ++i) {\r\n\t\tvalue = scale._parseValue(data[i]);\r\n\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tpos[i] = pos[i] || 0;\r\n\t\tneg[i] = neg[i] || 0;\r\n\r\n\t\tif (opts.relativePoints) {\r\n\t\t\tpos[i] = 100;\r\n\t\t} else if (value.min < 0 || value.max < 0) {\r\n\t\t\tneg[i] += value.min;\r\n\t\t} else {\r\n\t\t\tpos[i] += value.max;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction updateMinMax(scale, meta, data) {\r\n\tvar ilen = data.length;\r\n\tvar i, value;\r\n\r\n\tfor (i = 0; i < ilen; ++i) {\r\n\t\tvalue = scale._parseValue(data[i]);\r\n\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tscale.min = Math.min(scale.min, value.min);\r\n\t\tscale.max = Math.max(scale.max, value.max);\r\n\t}\r\n}\r\n\r\nvar scale_linear = scale_linearbase.extend({\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar metasets = me._getMatchingVisibleMetas();\r\n\t\tvar hasStacks = opts.stacked;\r\n\t\tvar stacks = {};\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar i, meta, data, values;\r\n\r\n\t\tme.min = Number.POSITIVE_INFINITY;\r\n\t\tme.max = Number.NEGATIVE_INFINITY;\r\n\r\n\t\tif (hasStacks === undefined) {\r\n\t\t\tfor (i = 0; !hasStacks && i < ilen; ++i) {\r\n\t\t\t\tmeta = metasets[i];\r\n\t\t\t\thasStacks = meta.stack !== undefined;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tmeta = metasets[i];\r\n\t\t\tdata = datasets[meta.index].data;\r\n\t\t\tif (hasStacks) {\r\n\t\t\t\tstackData(me, stacks, meta, data);\r\n\t\t\t} else {\r\n\t\t\t\tupdateMinMax(me, meta, data);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thelpers$1.each(stacks, function(stackValues) {\r\n\t\t\tvalues = stackValues.pos.concat(stackValues.neg);\r\n\t\t\tme.min = Math.min(me.min, helpers$1.min(values));\r\n\t\t\tme.max = Math.max(me.max, helpers$1.max(values));\r\n\t\t});\r\n\r\n\t\tme.min = helpers$1.isFinite(me.min) && !isNaN(me.min) ? me.min : DEFAULT_MIN;\r\n\t\tme.max = helpers$1.isFinite(me.max) && !isNaN(me.max) ? me.max : DEFAULT_MAX;\r\n\r\n\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\r\n\t\tme.handleTickRangeOptions();\r\n\t},\r\n\r\n\t// Returns the maximum number of ticks based on the scale dimension\r\n\t_computeTickLimit: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickFont;\r\n\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\treturn Math.ceil(me.width / 40);\r\n\t\t}\r\n\t\ttickFont = helpers$1.options._parseFont(me.options.ticks);\r\n\t\treturn Math.ceil(me.height / tickFont.lineHeight);\r\n\t},\r\n\r\n\t// Called after the ticks are built. We need\r\n\thandleDirectionalChanges: function() {\r\n\t\tif (!this.isHorizontal()) {\r\n\t\t\t// We are in a vertical orientation. The top value is the highest. So reverse the array\r\n\t\t\tthis.ticks.reverse();\r\n\t\t}\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\treturn this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);\r\n\t},\r\n\r\n\t// Utils\r\n\tgetPixelForValue: function(value) {\r\n\t\tvar me = this;\r\n\t\treturn me.getPixelForDecimal((+me.getRightValue(value) - me._startValue) / me._valueRange);\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\treturn this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.ticksAsNumbers;\r\n\t\tif (index < 0 || index > ticks.length - 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.getPixelForValue(ticks[index]);\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$1 = defaultConfig$1;\nscale_linear._defaults = _defaults$1;\n\nvar valueOrDefault$b = helpers$1.valueOrDefault;\r\nvar log10 = helpers$1.math.log10;\r\n\r\n/**\r\n * Generate a set of logarithmic ticks\r\n * @param generationOptions the options used to generate the ticks\r\n * @param dataRange the range of the data\r\n * @returns {number[]} array of tick values\r\n */\r\nfunction generateTicks$1(generationOptions, dataRange) {\r\n\tvar ticks = [];\r\n\r\n\tvar tickVal = valueOrDefault$b(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\r\n\r\n\tvar endExp = Math.floor(log10(dataRange.max));\r\n\tvar endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\r\n\tvar exp, significand;\r\n\r\n\tif (tickVal === 0) {\r\n\t\texp = Math.floor(log10(dataRange.minNotZero));\r\n\t\tsignificand = Math.floor(dataRange.minNotZero / Math.pow(10, exp));\r\n\r\n\t\tticks.push(tickVal);\r\n\t\ttickVal = significand * Math.pow(10, exp);\r\n\t} else {\r\n\t\texp = Math.floor(log10(tickVal));\r\n\t\tsignificand = Math.floor(tickVal / Math.pow(10, exp));\r\n\t}\r\n\tvar precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\r\n\r\n\tdo {\r\n\t\tticks.push(tickVal);\r\n\r\n\t\t++significand;\r\n\t\tif (significand === 10) {\r\n\t\t\tsignificand = 1;\r\n\t\t\t++exp;\r\n\t\t\tprecision = exp >= 0 ? 1 : precision;\r\n\t\t}\r\n\r\n\t\ttickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\r\n\t} while (exp < endExp || (exp === endExp && significand < endSignificand));\r\n\r\n\tvar lastTick = valueOrDefault$b(generationOptions.max, tickVal);\r\n\tticks.push(lastTick);\r\n\r\n\treturn ticks;\r\n}\r\n\r\nvar defaultConfig$2 = {\r\n\tposition: 'left',\r\n\r\n\t// label settings\r\n\tticks: {\r\n\t\tcallback: core_ticks.formatters.logarithmic\r\n\t}\r\n};\r\n\r\n// TODO(v3): change this to positiveOrDefault\r\nfunction nonNegativeOrDefault(value, defaultValue) {\r\n\treturn helpers$1.isFinite(value) && value >= 0 ? value : defaultValue;\r\n}\r\n\r\nvar scale_logarithmic = core_scale.extend({\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tfunction IDMatches(meta) {\r\n\t\t\treturn isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\r\n\t\t}\r\n\t\tvar datasetIndex, meta, value, data, i, ilen;\r\n\r\n\t\t// Calculate Range\r\n\t\tme.min = Number.POSITIVE_INFINITY;\r\n\t\tme.max = Number.NEGATIVE_INFINITY;\r\n\t\tme.minNotZero = Number.POSITIVE_INFINITY;\r\n\r\n\t\tvar hasStacks = opts.stacked;\r\n\t\tif (hasStacks === undefined) {\r\n\t\t\tfor (datasetIndex = 0; datasetIndex < datasets.length; datasetIndex++) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(datasetIndex);\r\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta) &&\r\n\t\t\t\t\tmeta.stack !== undefined) {\r\n\t\t\t\t\thasStacks = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (opts.stacked || hasStacks) {\r\n\t\t\tvar valuesPerStack = {};\r\n\r\n\t\t\tfor (datasetIndex = 0; datasetIndex < datasets.length; datasetIndex++) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(datasetIndex);\r\n\t\t\t\tvar key = [\r\n\t\t\t\t\tmeta.type,\r\n\t\t\t\t\t// we have a separate stack for stack=undefined datasets when the opts.stacked is undefined\r\n\t\t\t\t\t((opts.stacked === undefined && meta.stack === undefined) ? datasetIndex : ''),\r\n\t\t\t\t\tmeta.stack\r\n\t\t\t\t].join('.');\r\n\r\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\r\n\t\t\t\t\tif (valuesPerStack[key] === undefined) {\r\n\t\t\t\t\t\tvaluesPerStack[key] = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdata = datasets[datasetIndex].data;\r\n\t\t\t\t\tfor (i = 0, ilen = data.length; i < ilen; i++) {\r\n\t\t\t\t\t\tvar values = valuesPerStack[key];\r\n\t\t\t\t\t\tvalue = me._parseValue(data[i]);\r\n\t\t\t\t\t\t// invalid, hidden and negative values are ignored\r\n\t\t\t\t\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden || value.min < 0 || value.max < 0) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalues[i] = values[i] || 0;\r\n\t\t\t\t\t\tvalues[i] += value.max;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\thelpers$1.each(valuesPerStack, function(valuesForType) {\r\n\t\t\t\tif (valuesForType.length > 0) {\r\n\t\t\t\t\tvar minVal = helpers$1.min(valuesForType);\r\n\t\t\t\t\tvar maxVal = helpers$1.max(valuesForType);\r\n\t\t\t\t\tme.min = Math.min(me.min, minVal);\r\n\t\t\t\t\tme.max = Math.max(me.max, maxVal);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t} else {\r\n\t\t\tfor (datasetIndex = 0; datasetIndex < datasets.length; datasetIndex++) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(datasetIndex);\r\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\r\n\t\t\t\t\tdata = datasets[datasetIndex].data;\r\n\t\t\t\t\tfor (i = 0, ilen = data.length; i < ilen; i++) {\r\n\t\t\t\t\t\tvalue = me._parseValue(data[i]);\r\n\t\t\t\t\t\t// invalid, hidden and negative values are ignored\r\n\t\t\t\t\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden || value.min < 0 || value.max < 0) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tme.min = Math.min(value.min, me.min);\r\n\t\t\t\t\t\tme.max = Math.max(value.max, me.max);\r\n\r\n\t\t\t\t\t\tif (value.min !== 0) {\r\n\t\t\t\t\t\t\tme.minNotZero = Math.min(value.min, me.minNotZero);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.min = helpers$1.isFinite(me.min) ? me.min : null;\r\n\t\tme.max = helpers$1.isFinite(me.max) ? me.max : null;\r\n\t\tme.minNotZero = helpers$1.isFinite(me.minNotZero) ? me.minNotZero : null;\r\n\r\n\t\t// Common base implementation to handle ticks.min, ticks.max\r\n\t\tthis.handleTickRangeOptions();\r\n\t},\r\n\r\n\thandleTickRangeOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar DEFAULT_MIN = 1;\r\n\t\tvar DEFAULT_MAX = 10;\r\n\r\n\t\tme.min = nonNegativeOrDefault(tickOpts.min, me.min);\r\n\t\tme.max = nonNegativeOrDefault(tickOpts.max, me.max);\r\n\r\n\t\tif (me.min === me.max) {\r\n\t\t\tif (me.min !== 0 && me.min !== null) {\r\n\t\t\t\tme.min = Math.pow(10, Math.floor(log10(me.min)) - 1);\r\n\t\t\t\tme.max = Math.pow(10, Math.floor(log10(me.max)) + 1);\r\n\t\t\t} else {\r\n\t\t\t\tme.min = DEFAULT_MIN;\r\n\t\t\t\tme.max = DEFAULT_MAX;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (me.min === null) {\r\n\t\t\tme.min = Math.pow(10, Math.floor(log10(me.max)) - 1);\r\n\t\t}\r\n\t\tif (me.max === null) {\r\n\t\t\tme.max = me.min !== 0\r\n\t\t\t\t? Math.pow(10, Math.floor(log10(me.min)) + 1)\r\n\t\t\t\t: DEFAULT_MAX;\r\n\t\t}\r\n\t\tif (me.minNotZero === null) {\r\n\t\t\tif (me.min > 0) {\r\n\t\t\t\tme.minNotZero = me.min;\r\n\t\t\t} else if (me.max < 1) {\r\n\t\t\t\tme.minNotZero = Math.pow(10, Math.floor(log10(me.max)));\r\n\t\t\t} else {\r\n\t\t\t\tme.minNotZero = DEFAULT_MIN;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar reverse = !me.isHorizontal();\r\n\r\n\t\tvar generationOptions = {\r\n\t\t\tmin: nonNegativeOrDefault(tickOpts.min),\r\n\t\t\tmax: nonNegativeOrDefault(tickOpts.max)\r\n\t\t};\r\n\t\tvar ticks = me.ticks = generateTicks$1(generationOptions, me);\r\n\r\n\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\r\n\t\t// range of the scale\r\n\t\tme.max = helpers$1.max(ticks);\r\n\t\tme.min = helpers$1.min(ticks);\r\n\r\n\t\tif (tickOpts.reverse) {\r\n\t\t\treverse = !reverse;\r\n\t\t\tme.start = me.max;\r\n\t\t\tme.end = me.min;\r\n\t\t} else {\r\n\t\t\tme.start = me.min;\r\n\t\t\tme.end = me.max;\r\n\t\t}\r\n\t\tif (reverse) {\r\n\t\t\tticks.reverse();\r\n\t\t}\r\n\t},\r\n\r\n\tconvertTicksToLabels: function() {\r\n\t\tthis.tickValues = this.ticks.slice();\r\n\r\n\t\tcore_scale.prototype.convertTicksToLabels.call(this);\r\n\t},\r\n\r\n\t// Get the correct tooltip label\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\treturn this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.tickValues;\r\n\t\tif (index < 0 || index > ticks.length - 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.getPixelForValue(ticks[index]);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the value of the first tick.\r\n\t * @param {number} value - The minimum not zero value.\r\n\t * @return {number} The first tick value.\r\n\t * @private\r\n\t */\r\n\t_getFirstTickValue: function(value) {\r\n\t\tvar exp = Math.floor(log10(value));\r\n\t\tvar significand = Math.floor(value / Math.pow(10, exp));\r\n\r\n\t\treturn significand * Math.pow(10, exp);\r\n\t},\r\n\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar start = me.min;\r\n\t\tvar offset = 0;\r\n\r\n\t\tcore_scale.prototype._configure.call(me);\r\n\r\n\t\tif (start === 0) {\r\n\t\t\tstart = me._getFirstTickValue(me.minNotZero);\r\n\t\t\toffset = valueOrDefault$b(me.options.ticks.fontSize, core_defaults.global.defaultFontSize) / me._length;\r\n\t\t}\r\n\r\n\t\tme._startValue = log10(start);\r\n\t\tme._valueOffset = offset;\r\n\t\tme._valueRange = (log10(me.max) - log10(start)) / (1 - offset);\r\n\t},\r\n\r\n\tgetPixelForValue: function(value) {\r\n\t\tvar me = this;\r\n\t\tvar decimal = 0;\r\n\r\n\t\tvalue = +me.getRightValue(value);\r\n\r\n\t\tif (value > me.min && value > 0) {\r\n\t\t\tdecimal = (log10(value) - me._startValue) / me._valueRange + me._valueOffset;\r\n\t\t}\r\n\t\treturn me.getPixelForDecimal(decimal);\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\tvar me = this;\r\n\t\tvar decimal = me.getDecimalForPixel(pixel);\r\n\t\treturn decimal === 0 && me.min === 0\r\n\t\t\t? 0\r\n\t\t\t: Math.pow(10, me._startValue + (decimal - me._valueOffset) * me._valueRange);\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$2 = defaultConfig$2;\nscale_logarithmic._defaults = _defaults$2;\n\nvar valueOrDefault$c = helpers$1.valueOrDefault;\r\nvar valueAtIndexOrDefault$1 = helpers$1.valueAtIndexOrDefault;\r\nvar resolve$4 = helpers$1.options.resolve;\r\n\r\nvar defaultConfig$3 = {\r\n\tdisplay: true,\r\n\r\n\t// Boolean - Whether to animate scaling the chart from the centre\r\n\tanimate: true,\r\n\tposition: 'chartArea',\r\n\r\n\tangleLines: {\r\n\t\tdisplay: true,\r\n\t\tcolor: 'rgba(0,0,0,0.1)',\r\n\t\tlineWidth: 1,\r\n\t\tborderDash: [],\r\n\t\tborderDashOffset: 0.0\r\n\t},\r\n\r\n\tgridLines: {\r\n\t\tcircular: false\r\n\t},\r\n\r\n\t// label settings\r\n\tticks: {\r\n\t\t// Boolean - Show a backdrop to the scale label\r\n\t\tshowLabelBackdrop: true,\r\n\r\n\t\t// String - The colour of the label backdrop\r\n\t\tbackdropColor: 'rgba(255,255,255,0.75)',\r\n\r\n\t\t// Number - The backdrop padding above & below the label in pixels\r\n\t\tbackdropPaddingY: 2,\r\n\r\n\t\t// Number - The backdrop padding to the side of the label in pixels\r\n\t\tbackdropPaddingX: 2,\r\n\r\n\t\tcallback: core_ticks.formatters.linear\r\n\t},\r\n\r\n\tpointLabels: {\r\n\t\t// Boolean - if true, show point labels\r\n\t\tdisplay: true,\r\n\r\n\t\t// Number - Point label font size in pixels\r\n\t\tfontSize: 10,\r\n\r\n\t\t// Function - Used to convert point labels\r\n\t\tcallback: function(label) {\r\n\t\t\treturn label;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction getTickBackdropHeight(opts) {\r\n\tvar tickOpts = opts.ticks;\r\n\r\n\tif (tickOpts.display && opts.display) {\r\n\t\treturn valueOrDefault$c(tickOpts.fontSize, core_defaults.global.defaultFontSize) + tickOpts.backdropPaddingY * 2;\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nfunction measureLabelSize(ctx, lineHeight, label) {\r\n\tif (helpers$1.isArray(label)) {\r\n\t\treturn {\r\n\t\t\tw: helpers$1.longestText(ctx, ctx.font, label),\r\n\t\t\th: label.length * lineHeight\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tw: ctx.measureText(label).width,\r\n\t\th: lineHeight\r\n\t};\r\n}\r\n\r\nfunction determineLimits(angle, pos, size, min, max) {\r\n\tif (angle === min || angle === max) {\r\n\t\treturn {\r\n\t\t\tstart: pos - (size / 2),\r\n\t\t\tend: pos + (size / 2)\r\n\t\t};\r\n\t} else if (angle < min || angle > max) {\r\n\t\treturn {\r\n\t\t\tstart: pos - size,\r\n\t\t\tend: pos\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tstart: pos,\r\n\t\tend: pos + size\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper function to fit a radial linear scale with point labels\r\n */\r\nfunction fitWithPointLabels(scale) {\r\n\r\n\t// Right, this is really confusing and there is a lot of maths going on here\r\n\t// The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\r\n\t//\r\n\t// Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\r\n\t//\r\n\t// Solution:\r\n\t//\r\n\t// We assume the radius of the polygon is half the size of the canvas at first\r\n\t// at each index we check if the text overlaps.\r\n\t//\r\n\t// Where it does, we store that angle and that index.\r\n\t//\r\n\t// After finding the largest index and angle we calculate how much we need to remove\r\n\t// from the shape radius to move the point inwards by that x.\r\n\t//\r\n\t// We average the left and right distances to get the maximum shape radius that can fit in the box\r\n\t// along with labels.\r\n\t//\r\n\t// Once we have that, we can find the centre point for the chart, by taking the x text protrusion\r\n\t// on each side, removing that from the size, halving it and adding the left x protrusion width.\r\n\t//\r\n\t// This will mean we have a shape fitted to the canvas, as large as it can be with the labels\r\n\t// and position it in the most space efficient manner\r\n\t//\r\n\t// https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\r\n\r\n\tvar plFont = helpers$1.options._parseFont(scale.options.pointLabels);\r\n\r\n\t// Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\r\n\t// Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\r\n\tvar furthestLimits = {\r\n\t\tl: 0,\r\n\t\tr: scale.width,\r\n\t\tt: 0,\r\n\t\tb: scale.height - scale.paddingTop\r\n\t};\r\n\tvar furthestAngles = {};\r\n\tvar i, textSize, pointPosition;\r\n\r\n\tscale.ctx.font = plFont.string;\r\n\tscale._pointLabelSizes = [];\r\n\r\n\tvar valueCount = scale.chart.data.labels.length;\r\n\tfor (i = 0; i < valueCount; i++) {\r\n\t\tpointPosition = scale.getPointPosition(i, scale.drawingArea + 5);\r\n\t\ttextSize = measureLabelSize(scale.ctx, plFont.lineHeight, scale.pointLabels[i]);\r\n\t\tscale._pointLabelSizes[i] = textSize;\r\n\r\n\t\t// Add quarter circle to make degree 0 mean top of circle\r\n\t\tvar angleRadians = scale.getIndexAngle(i);\r\n\t\tvar angle = helpers$1.toDegrees(angleRadians) % 360;\r\n\t\tvar hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\r\n\t\tvar vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\r\n\r\n\t\tif (hLimits.start < furthestLimits.l) {\r\n\t\t\tfurthestLimits.l = hLimits.start;\r\n\t\t\tfurthestAngles.l = angleRadians;\r\n\t\t}\r\n\r\n\t\tif (hLimits.end > furthestLimits.r) {\r\n\t\t\tfurthestLimits.r = hLimits.end;\r\n\t\t\tfurthestAngles.r = angleRadians;\r\n\t\t}\r\n\r\n\t\tif (vLimits.start < furthestLimits.t) {\r\n\t\t\tfurthestLimits.t = vLimits.start;\r\n\t\t\tfurthestAngles.t = angleRadians;\r\n\t\t}\r\n\r\n\t\tif (vLimits.end > furthestLimits.b) {\r\n\t\t\tfurthestLimits.b = vLimits.end;\r\n\t\t\tfurthestAngles.b = angleRadians;\r\n\t\t}\r\n\t}\r\n\r\n\tscale.setReductions(scale.drawingArea, furthestLimits, furthestAngles);\r\n}\r\n\r\nfunction getTextAlignForAngle(angle) {\r\n\tif (angle === 0 || angle === 180) {\r\n\t\treturn 'center';\r\n\t} else if (angle < 180) {\r\n\t\treturn 'left';\r\n\t}\r\n\r\n\treturn 'right';\r\n}\r\n\r\nfunction fillText(ctx, text, position, lineHeight) {\r\n\tvar y = position.y + lineHeight / 2;\r\n\tvar i, ilen;\r\n\r\n\tif (helpers$1.isArray(text)) {\r\n\t\tfor (i = 0, ilen = text.length; i < ilen; ++i) {\r\n\t\t\tctx.fillText(text[i], position.x, y);\r\n\t\t\ty += lineHeight;\r\n\t\t}\r\n\t} else {\r\n\t\tctx.fillText(text, position.x, y);\r\n\t}\r\n}\r\n\r\nfunction adjustPointPositionForLabelHeight(angle, textSize, position) {\r\n\tif (angle === 90 || angle === 270) {\r\n\t\tposition.y -= (textSize.h / 2);\r\n\t} else if (angle > 270 || angle < 90) {\r\n\t\tposition.y -= textSize.h;\r\n\t}\r\n}\r\n\r\nfunction drawPointLabels(scale) {\r\n\tvar ctx = scale.ctx;\r\n\tvar opts = scale.options;\r\n\tvar pointLabelOpts = opts.pointLabels;\r\n\tvar tickBackdropHeight = getTickBackdropHeight(opts);\r\n\tvar outerDistance = scale.getDistanceFromCenterForValue(opts.ticks.reverse ? scale.min : scale.max);\r\n\tvar plFont = helpers$1.options._parseFont(pointLabelOpts);\r\n\r\n\tctx.save();\r\n\r\n\tctx.font = plFont.string;\r\n\tctx.textBaseline = 'middle';\r\n\r\n\tfor (var i = scale.chart.data.labels.length - 1; i >= 0; i--) {\r\n\t\t// Extra pixels out for some label spacing\r\n\t\tvar extra = (i === 0 ? tickBackdropHeight / 2 : 0);\r\n\t\tvar pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + 5);\r\n\r\n\t\t// Keep this in loop since we may support array properties here\r\n\t\tvar pointLabelFontColor = valueAtIndexOrDefault$1(pointLabelOpts.fontColor, i, core_defaults.global.defaultFontColor);\r\n\t\tctx.fillStyle = pointLabelFontColor;\r\n\r\n\t\tvar angleRadians = scale.getIndexAngle(i);\r\n\t\tvar angle = helpers$1.toDegrees(angleRadians);\r\n\t\tctx.textAlign = getTextAlignForAngle(angle);\r\n\t\tadjustPointPositionForLabelHeight(angle, scale._pointLabelSizes[i], pointLabelPosition);\r\n\t\tfillText(ctx, scale.pointLabels[i], pointLabelPosition, plFont.lineHeight);\r\n\t}\r\n\tctx.restore();\r\n}\r\n\r\nfunction drawRadiusLine(scale, gridLineOpts, radius, index) {\r\n\tvar ctx = scale.ctx;\r\n\tvar circular = gridLineOpts.circular;\r\n\tvar valueCount = scale.chart.data.labels.length;\r\n\tvar lineColor = valueAtIndexOrDefault$1(gridLineOpts.color, index - 1);\r\n\tvar lineWidth = valueAtIndexOrDefault$1(gridLineOpts.lineWidth, index - 1);\r\n\tvar pointPosition;\r\n\r\n\tif ((!circular && !valueCount) || !lineColor || !lineWidth) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tctx.save();\r\n\tctx.strokeStyle = lineColor;\r\n\tctx.lineWidth = lineWidth;\r\n\tif (ctx.setLineDash) {\r\n\t\tctx.setLineDash(gridLineOpts.borderDash || []);\r\n\t\tctx.lineDashOffset = gridLineOpts.borderDashOffset || 0.0;\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tif (circular) {\r\n\t\t// Draw circular arcs between the points\r\n\t\tctx.arc(scale.xCenter, scale.yCenter, radius, 0, Math.PI * 2);\r\n\t} else {\r\n\t\t// Draw straight lines connecting each index\r\n\t\tpointPosition = scale.getPointPosition(0, radius);\r\n\t\tctx.moveTo(pointPosition.x, pointPosition.y);\r\n\r\n\t\tfor (var i = 1; i < valueCount; i++) {\r\n\t\t\tpointPosition = scale.getPointPosition(i, radius);\r\n\t\t\tctx.lineTo(pointPosition.x, pointPosition.y);\r\n\t\t}\r\n\t}\r\n\tctx.closePath();\r\n\tctx.stroke();\r\n\tctx.restore();\r\n}\r\n\r\nfunction numberOrZero(param) {\r\n\treturn helpers$1.isNumber(param) ? param : 0;\r\n}\r\n\r\nvar scale_radialLinear = scale_linearbase.extend({\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tme.width = me.maxWidth;\r\n\t\tme.height = me.maxHeight;\r\n\t\tme.paddingTop = getTickBackdropHeight(me.options) / 2;\r\n\t\tme.xCenter = Math.floor(me.width / 2);\r\n\t\tme.yCenter = Math.floor((me.height - me.paddingTop) / 2);\r\n\t\tme.drawingArea = Math.min(me.height - me.paddingTop, me.width) / 2;\r\n\t},\r\n\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar min = Number.POSITIVE_INFINITY;\r\n\t\tvar max = Number.NEGATIVE_INFINITY;\r\n\r\n\t\thelpers$1.each(chart.data.datasets, function(dataset, datasetIndex) {\r\n\t\t\tif (chart.isDatasetVisible(datasetIndex)) {\r\n\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\r\n\r\n\t\t\t\thelpers$1.each(dataset.data, function(rawValue, index) {\r\n\t\t\t\t\tvar value = +me.getRightValue(rawValue);\r\n\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmin = Math.min(value, min);\r\n\t\t\t\t\tmax = Math.max(value, max);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tme.min = (min === Number.POSITIVE_INFINITY ? 0 : min);\r\n\t\tme.max = (max === Number.NEGATIVE_INFINITY ? 0 : max);\r\n\r\n\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\r\n\t\tme.handleTickRangeOptions();\r\n\t},\r\n\r\n\t// Returns the maximum number of ticks based on the scale dimension\r\n\t_computeTickLimit: function() {\r\n\t\treturn Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\r\n\t},\r\n\r\n\tconvertTicksToLabels: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tscale_linearbase.prototype.convertTicksToLabels.call(me);\r\n\r\n\t\t// Point labels\r\n\t\tme.pointLabels = me.chart.data.labels.map(function() {\r\n\t\t\tvar label = helpers$1.callback(me.options.pointLabels.callback, arguments, me);\r\n\t\t\treturn label || label === 0 ? label : '';\r\n\t\t});\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\r\n\t},\r\n\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\r\n\t\tif (opts.display && opts.pointLabels.display) {\r\n\t\t\tfitWithPointLabels(me);\r\n\t\t} else {\r\n\t\t\tme.setCenterPoint(0, 0, 0, 0);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Set radius reductions and determine new radius and center point\r\n\t * @private\r\n\t */\r\n\tsetReductions: function(largestPossibleRadius, furthestLimits, furthestAngles) {\r\n\t\tvar me = this;\r\n\t\tvar radiusReductionLeft = furthestLimits.l / Math.sin(furthestAngles.l);\r\n\t\tvar radiusReductionRight = Math.max(furthestLimits.r - me.width, 0) / Math.sin(furthestAngles.r);\r\n\t\tvar radiusReductionTop = -furthestLimits.t / Math.cos(furthestAngles.t);\r\n\t\tvar radiusReductionBottom = -Math.max(furthestLimits.b - (me.height - me.paddingTop), 0) / Math.cos(furthestAngles.b);\r\n\r\n\t\tradiusReductionLeft = numberOrZero(radiusReductionLeft);\r\n\t\tradiusReductionRight = numberOrZero(radiusReductionRight);\r\n\t\tradiusReductionTop = numberOrZero(radiusReductionTop);\r\n\t\tradiusReductionBottom = numberOrZero(radiusReductionBottom);\r\n\r\n\t\tme.drawingArea = Math.min(\r\n\t\t\tMath.floor(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2),\r\n\t\t\tMath.floor(largestPossibleRadius - (radiusReductionTop + radiusReductionBottom) / 2));\r\n\t\tme.setCenterPoint(radiusReductionLeft, radiusReductionRight, radiusReductionTop, radiusReductionBottom);\r\n\t},\r\n\r\n\tsetCenterPoint: function(leftMovement, rightMovement, topMovement, bottomMovement) {\r\n\t\tvar me = this;\r\n\t\tvar maxRight = me.width - rightMovement - me.drawingArea;\r\n\t\tvar maxLeft = leftMovement + me.drawingArea;\r\n\t\tvar maxTop = topMovement + me.drawingArea;\r\n\t\tvar maxBottom = (me.height - me.paddingTop) - bottomMovement - me.drawingArea;\r\n\r\n\t\tme.xCenter = Math.floor(((maxLeft + maxRight) / 2) + me.left);\r\n\t\tme.yCenter = Math.floor(((maxTop + maxBottom) / 2) + me.top + me.paddingTop);\r\n\t},\r\n\r\n\tgetIndexAngle: function(index) {\r\n\t\tvar chart = this.chart;\r\n\t\tvar angleMultiplier = 360 / chart.data.labels.length;\r\n\t\tvar options = chart.options || {};\r\n\t\tvar startAngle = options.startAngle || 0;\r\n\r\n\t\t// Start from the top instead of right, so remove a quarter of the circle\r\n\t\tvar angle = (index * angleMultiplier + startAngle) % 360;\r\n\r\n\t\treturn (angle < 0 ? angle + 360 : angle) * Math.PI * 2 / 360;\r\n\t},\r\n\r\n\tgetDistanceFromCenterForValue: function(value) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (helpers$1.isNullOrUndef(value)) {\r\n\t\t\treturn NaN;\r\n\t\t}\r\n\r\n\t\t// Take into account half font size + the yPadding of the top value\r\n\t\tvar scalingFactor = me.drawingArea / (me.max - me.min);\r\n\t\tif (me.options.ticks.reverse) {\r\n\t\t\treturn (me.max - value) * scalingFactor;\r\n\t\t}\r\n\t\treturn (value - me.min) * scalingFactor;\r\n\t},\r\n\r\n\tgetPointPosition: function(index, distanceFromCenter) {\r\n\t\tvar me = this;\r\n\t\tvar thisAngle = me.getIndexAngle(index) - (Math.PI / 2);\r\n\t\treturn {\r\n\t\t\tx: Math.cos(thisAngle) * distanceFromCenter + me.xCenter,\r\n\t\t\ty: Math.sin(thisAngle) * distanceFromCenter + me.yCenter\r\n\t\t};\r\n\t},\r\n\r\n\tgetPointPositionForValue: function(index, value) {\r\n\t\treturn this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\r\n\t},\r\n\r\n\tgetBasePosition: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar min = me.min;\r\n\t\tvar max = me.max;\r\n\r\n\t\treturn me.getPointPositionForValue(index || 0,\r\n\t\t\tme.beginAtZero ? 0 :\r\n\t\t\tmin < 0 && max < 0 ? max :\r\n\t\t\tmin > 0 && max > 0 ? min :\r\n\t\t\t0);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawGrid: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar opts = me.options;\r\n\t\tvar gridLineOpts = opts.gridLines;\r\n\t\tvar angleLineOpts = opts.angleLines;\r\n\t\tvar lineWidth = valueOrDefault$c(angleLineOpts.lineWidth, gridLineOpts.lineWidth);\r\n\t\tvar lineColor = valueOrDefault$c(angleLineOpts.color, gridLineOpts.color);\r\n\t\tvar i, offset, position;\r\n\r\n\t\tif (opts.pointLabels.display) {\r\n\t\t\tdrawPointLabels(me);\r\n\t\t}\r\n\r\n\t\tif (gridLineOpts.display) {\r\n\t\t\thelpers$1.each(me.ticks, function(label, index) {\r\n\t\t\t\tif (index !== 0) {\r\n\t\t\t\t\toffset = me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);\r\n\t\t\t\t\tdrawRadiusLine(me, gridLineOpts, offset, index);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (angleLineOpts.display && lineWidth && lineColor) {\r\n\t\t\tctx.save();\r\n\t\t\tctx.lineWidth = lineWidth;\r\n\t\t\tctx.strokeStyle = lineColor;\r\n\t\t\tif (ctx.setLineDash) {\r\n\t\t\t\tctx.setLineDash(resolve$4([angleLineOpts.borderDash, gridLineOpts.borderDash, []]));\r\n\t\t\t\tctx.lineDashOffset = resolve$4([angleLineOpts.borderDashOffset, gridLineOpts.borderDashOffset, 0.0]);\r\n\t\t\t}\r\n\r\n\t\t\tfor (i = me.chart.data.labels.length - 1; i >= 0; i--) {\r\n\t\t\t\toffset = me.getDistanceFromCenterForValue(opts.ticks.reverse ? me.min : me.max);\r\n\t\t\t\tposition = me.getPointPosition(i, offset);\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(me.xCenter, me.yCenter);\r\n\t\t\t\tctx.lineTo(position.x, position.y);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawLabels: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\r\n\t\tif (!tickOpts.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar startAngle = me.getIndexAngle(0);\r\n\t\tvar tickFont = helpers$1.options._parseFont(tickOpts);\r\n\t\tvar tickFontColor = valueOrDefault$c(tickOpts.fontColor, core_defaults.global.defaultFontColor);\r\n\t\tvar offset, width;\r\n\r\n\t\tctx.save();\r\n\t\tctx.font = tickFont.string;\r\n\t\tctx.translate(me.xCenter, me.yCenter);\r\n\t\tctx.rotate(startAngle);\r\n\t\tctx.textAlign = 'center';\r\n\t\tctx.textBaseline = 'middle';\r\n\r\n\t\thelpers$1.each(me.ticks, function(label, index) {\r\n\t\t\tif (index === 0 && !tickOpts.reverse) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\toffset = me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);\r\n\r\n\t\t\tif (tickOpts.showLabelBackdrop) {\r\n\t\t\t\twidth = ctx.measureText(label).width;\r\n\t\t\t\tctx.fillStyle = tickOpts.backdropColor;\r\n\r\n\t\t\t\tctx.fillRect(\r\n\t\t\t\t\t-width / 2 - tickOpts.backdropPaddingX,\r\n\t\t\t\t\t-offset - tickFont.size / 2 - tickOpts.backdropPaddingY,\r\n\t\t\t\t\twidth + tickOpts.backdropPaddingX * 2,\r\n\t\t\t\t\ttickFont.size + tickOpts.backdropPaddingY * 2\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tctx.fillStyle = tickFontColor;\r\n\t\t\tctx.fillText(label, 0, -offset);\r\n\t\t});\r\n\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawTitle: helpers$1.noop\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$3 = defaultConfig$3;\nscale_radialLinear._defaults = _defaults$3;\n\nvar deprecated$1 = helpers$1._deprecated;\r\nvar resolve$5 = helpers$1.options.resolve;\r\nvar valueOrDefault$d = helpers$1.valueOrDefault;\r\n\r\n// Integer constants are from the ES6 spec.\r\nvar MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991;\r\nvar MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\r\n\r\nvar INTERVALS = {\r\n\tmillisecond: {\r\n\t\tcommon: true,\r\n\t\tsize: 1,\r\n\t\tsteps: 1000\r\n\t},\r\n\tsecond: {\r\n\t\tcommon: true,\r\n\t\tsize: 1000,\r\n\t\tsteps: 60\r\n\t},\r\n\tminute: {\r\n\t\tcommon: true,\r\n\t\tsize: 60000,\r\n\t\tsteps: 60\r\n\t},\r\n\thour: {\r\n\t\tcommon: true,\r\n\t\tsize: 3600000,\r\n\t\tsteps: 24\r\n\t},\r\n\tday: {\r\n\t\tcommon: true,\r\n\t\tsize: 86400000,\r\n\t\tsteps: 30\r\n\t},\r\n\tweek: {\r\n\t\tcommon: false,\r\n\t\tsize: 604800000,\r\n\t\tsteps: 4\r\n\t},\r\n\tmonth: {\r\n\t\tcommon: true,\r\n\t\tsize: 2.628e9,\r\n\t\tsteps: 12\r\n\t},\r\n\tquarter: {\r\n\t\tcommon: false,\r\n\t\tsize: 7.884e9,\r\n\t\tsteps: 4\r\n\t},\r\n\tyear: {\r\n\t\tcommon: true,\r\n\t\tsize: 3.154e10\r\n\t}\r\n};\r\n\r\nvar UNITS = Object.keys(INTERVALS);\r\n\r\nfunction sorter(a, b) {\r\n\treturn a - b;\r\n}\r\n\r\nfunction arrayUnique(items) {\r\n\tvar hash = {};\r\n\tvar out = [];\r\n\tvar i, ilen, item;\r\n\r\n\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\titem = items[i];\r\n\t\tif (!hash[item]) {\r\n\t\t\thash[item] = true;\r\n\t\t\tout.push(item);\r\n\t\t}\r\n\t}\r\n\r\n\treturn out;\r\n}\r\n\r\nfunction getMin(options) {\r\n\treturn helpers$1.valueOrDefault(options.time.min, options.ticks.min);\r\n}\r\n\r\nfunction getMax(options) {\r\n\treturn helpers$1.valueOrDefault(options.time.max, options.ticks.max);\r\n}\r\n\r\n/**\r\n * Returns an array of {time, pos} objects used to interpolate a specific `time` or position\r\n * (`pos`) on the scale, by searching entries before and after the requested value. `pos` is\r\n * a decimal between 0 and 1: 0 being the start of the scale (left or top) and 1 the other\r\n * extremity (left + width or top + height). Note that it would be more optimized to directly\r\n * store pre-computed pixels, but the scale dimensions are not guaranteed at the time we need\r\n * to create the lookup table. The table ALWAYS contains at least two items: min and max.\r\n *\r\n * @param {number[]} timestamps - timestamps sorted from lowest to highest.\r\n * @param {string} distribution - If 'linear', timestamps will be spread linearly along the min\r\n * and max range, so basically, the table will contains only two items: {min, 0} and {max, 1}.\r\n * If 'series', timestamps will be positioned at the same distance from each other. In this\r\n * case, only timestamps that break the time linearity are registered, meaning that in the\r\n * best case, all timestamps are linear, the table contains only min and max.\r\n */\r\nfunction buildLookupTable(timestamps, min, max, distribution) {\r\n\tif (distribution === 'linear' || !timestamps.length) {\r\n\t\treturn [\r\n\t\t\t{time: min, pos: 0},\r\n\t\t\t{time: max, pos: 1}\r\n\t\t];\r\n\t}\r\n\r\n\tvar table = [];\r\n\tvar items = [min];\r\n\tvar i, ilen, prev, curr, next;\r\n\r\n\tfor (i = 0, ilen = timestamps.length; i < ilen; ++i) {\r\n\t\tcurr = timestamps[i];\r\n\t\tif (curr > min && curr < max) {\r\n\t\t\titems.push(curr);\r\n\t\t}\r\n\t}\r\n\r\n\titems.push(max);\r\n\r\n\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\tnext = items[i + 1];\r\n\t\tprev = items[i - 1];\r\n\t\tcurr = items[i];\r\n\r\n\t\t// only add points that breaks the scale linearity\r\n\t\tif (prev === undefined || next === undefined || Math.round((next + prev) / 2) !== curr) {\r\n\t\t\ttable.push({time: curr, pos: i / (ilen - 1)});\r\n\t\t}\r\n\t}\r\n\r\n\treturn table;\r\n}\r\n\r\n// @see adapted from https://www.anujgakhar.com/2014/03/01/binary-search-in-javascript/\r\nfunction lookup(table, key, value) {\r\n\tvar lo = 0;\r\n\tvar hi = table.length - 1;\r\n\tvar mid, i0, i1;\r\n\r\n\twhile (lo >= 0 && lo <= hi) {\r\n\t\tmid = (lo + hi) >> 1;\r\n\t\ti0 = table[mid - 1] || null;\r\n\t\ti1 = table[mid];\r\n\r\n\t\tif (!i0) {\r\n\t\t\t// given value is outside table (before first item)\r\n\t\t\treturn {lo: null, hi: i1};\r\n\t\t} else if (i1[key] < value) {\r\n\t\t\tlo = mid + 1;\r\n\t\t} else if (i0[key] > value) {\r\n\t\t\thi = mid - 1;\r\n\t\t} else {\r\n\t\t\treturn {lo: i0, hi: i1};\r\n\t\t}\r\n\t}\r\n\r\n\t// given value is outside table (after last item)\r\n\treturn {lo: i1, hi: null};\r\n}\r\n\r\n/**\r\n * Linearly interpolates the given source `value` using the table items `skey` values and\r\n * returns the associated `tkey` value. For example, interpolate(table, 'time', 42, 'pos')\r\n * returns the position for a timestamp equal to 42. If value is out of bounds, values at\r\n * index [0, 1] or [n - 1, n] are used for the interpolation.\r\n */\r\nfunction interpolate$1(table, skey, sval, tkey) {\r\n\tvar range = lookup(table, skey, sval);\r\n\r\n\t// Note: the lookup table ALWAYS contains at least 2 items (min and max)\r\n\tvar prev = !range.lo ? table[0] : !range.hi ? table[table.length - 2] : range.lo;\r\n\tvar next = !range.lo ? table[1] : !range.hi ? table[table.length - 1] : range.hi;\r\n\r\n\tvar span = next[skey] - prev[skey];\r\n\tvar ratio = span ? (sval - prev[skey]) / span : 0;\r\n\tvar offset = (next[tkey] - prev[tkey]) * ratio;\r\n\r\n\treturn prev[tkey] + offset;\r\n}\r\n\r\nfunction toTimestamp(scale, input) {\r\n\tvar adapter = scale._adapter;\r\n\tvar options = scale.options.time;\r\n\tvar parser = options.parser;\r\n\tvar format = parser || options.format;\r\n\tvar value = input;\r\n\r\n\tif (typeof parser === 'function') {\r\n\t\tvalue = parser(value);\r\n\t}\r\n\r\n\t// Only parse if its not a timestamp already\r\n\tif (!helpers$1.isFinite(value)) {\r\n\t\tvalue = typeof format === 'string'\r\n\t\t\t? adapter.parse(value, format)\r\n\t\t\t: adapter.parse(value);\r\n\t}\r\n\r\n\tif (value !== null) {\r\n\t\treturn +value;\r\n\t}\r\n\r\n\t// Labels are in an incompatible format and no `parser` has been provided.\r\n\t// The user might still use the deprecated `format` option for parsing.\r\n\tif (!parser && typeof format === 'function') {\r\n\t\tvalue = format(input);\r\n\r\n\t\t// `format` could return something else than a timestamp, if so, parse it\r\n\t\tif (!helpers$1.isFinite(value)) {\r\n\t\t\tvalue = adapter.parse(value);\r\n\t\t}\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction parse(scale, input) {\r\n\tif (helpers$1.isNullOrUndef(input)) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tvar options = scale.options.time;\r\n\tvar value = toTimestamp(scale, scale.getRightValue(input));\r\n\tif (value === null) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tif (options.round) {\r\n\t\tvalue = +scale._adapter.startOf(value, options.round);\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\n/**\r\n * Figures out what unit results in an appropriate number of auto-generated ticks\r\n */\r\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\r\n\tvar ilen = UNITS.length;\r\n\tvar i, interval, factor;\r\n\r\n\tfor (i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\r\n\t\tinterval = INTERVALS[UNITS[i]];\r\n\t\tfactor = interval.steps ? interval.steps : MAX_INTEGER;\r\n\r\n\t\tif (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\r\n\t\t\treturn UNITS[i];\r\n\t\t}\r\n\t}\r\n\r\n\treturn UNITS[ilen - 1];\r\n}\r\n\r\n/**\r\n * Figures out what unit to format a set of ticks with\r\n */\r\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\r\n\tvar i, unit;\r\n\r\n\tfor (i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\r\n\t\tunit = UNITS[i];\r\n\t\tif (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\r\n\t\t\treturn unit;\r\n\t\t}\r\n\t}\r\n\r\n\treturn UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\r\n}\r\n\r\nfunction determineMajorUnit(unit) {\r\n\tfor (var i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\r\n\t\tif (INTERVALS[UNITS[i]].common) {\r\n\t\t\treturn UNITS[i];\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Generates a maximum of `capacity` timestamps between min and max, rounded to the\r\n * `minor` unit using the given scale time `options`.\r\n * Important: this method can return ticks outside the min and max range, it's the\r\n * responsibility of the calling code to clamp values if needed.\r\n */\r\nfunction generate(scale, min, max, capacity) {\r\n\tvar adapter = scale._adapter;\r\n\tvar options = scale.options;\r\n\tvar timeOpts = options.time;\r\n\tvar minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, capacity);\r\n\tvar stepSize = resolve$5([timeOpts.stepSize, timeOpts.unitStepSize, 1]);\r\n\tvar weekday = minor === 'week' ? timeOpts.isoWeekday : false;\r\n\tvar first = min;\r\n\tvar ticks = [];\r\n\tvar time;\r\n\r\n\t// For 'week' unit, handle the first day of week option\r\n\tif (weekday) {\r\n\t\tfirst = +adapter.startOf(first, 'isoWeek', weekday);\r\n\t}\r\n\r\n\t// Align first ticks on unit\r\n\tfirst = +adapter.startOf(first, weekday ? 'day' : minor);\r\n\r\n\t// Prevent browser from freezing in case user options request millions of milliseconds\r\n\tif (adapter.diff(max, min, minor) > 100000 * stepSize) {\r\n\t\tthrow min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor;\r\n\t}\r\n\r\n\tfor (time = first; time < max; time = +adapter.add(time, stepSize, minor)) {\r\n\t\tticks.push(time);\r\n\t}\r\n\r\n\tif (time === max || options.bounds === 'ticks') {\r\n\t\tticks.push(time);\r\n\t}\r\n\r\n\treturn ticks;\r\n}\r\n\r\n/**\r\n * Returns the start and end offsets from edges in the form of {start, end}\r\n * where each value is a relative width to the scale and ranges between 0 and 1.\r\n * They add extra margins on the both sides by scaling down the original scale.\r\n * Offsets are added when the `offset` option is true.\r\n */\r\nfunction computeOffsets(table, ticks, min, max, options) {\r\n\tvar start = 0;\r\n\tvar end = 0;\r\n\tvar first, last;\r\n\r\n\tif (options.offset && ticks.length) {\r\n\t\tfirst = interpolate$1(table, 'time', ticks[0], 'pos');\r\n\t\tif (ticks.length === 1) {\r\n\t\t\tstart = 1 - first;\r\n\t\t} else {\r\n\t\t\tstart = (interpolate$1(table, 'time', ticks[1], 'pos') - first) / 2;\r\n\t\t}\r\n\t\tlast = interpolate$1(table, 'time', ticks[ticks.length - 1], 'pos');\r\n\t\tif (ticks.length === 1) {\r\n\t\t\tend = last;\r\n\t\t} else {\r\n\t\t\tend = (last - interpolate$1(table, 'time', ticks[ticks.length - 2], 'pos')) / 2;\r\n\t\t}\r\n\t}\r\n\r\n\treturn {start: start, end: end, factor: 1 / (start + 1 + end)};\r\n}\r\n\r\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\r\n\tvar adapter = scale._adapter;\r\n\tvar first = +adapter.startOf(ticks[0].value, majorUnit);\r\n\tvar last = ticks[ticks.length - 1].value;\r\n\tvar major, index;\r\n\r\n\tfor (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\r\n\t\tindex = map[major];\r\n\t\tif (index >= 0) {\r\n\t\t\tticks[index].major = true;\r\n\t\t}\r\n\t}\r\n\treturn ticks;\r\n}\r\n\r\nfunction ticksFromTimestamps(scale, values, majorUnit) {\r\n\tvar ticks = [];\r\n\tvar map = {};\r\n\tvar ilen = values.length;\r\n\tvar i, value;\r\n\r\n\tfor (i = 0; i < ilen; ++i) {\r\n\t\tvalue = values[i];\r\n\t\tmap[value] = i;\r\n\r\n\t\tticks.push({\r\n\t\t\tvalue: value,\r\n\t\t\tmajor: false\r\n\t\t});\r\n\t}\r\n\r\n\t// We set the major ticks separately from the above loop because calling startOf for every tick\r\n\t// is expensive when there is a large number of ticks\r\n\treturn (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\r\n}\r\n\r\nvar defaultConfig$4 = {\r\n\tposition: 'bottom',\r\n\r\n\t/**\r\n\t * Data distribution along the scale:\r\n\t * - 'linear': data are spread according to their time (distances can vary),\r\n\t * - 'series': data are spread at the same distance from each other.\r\n\t * @see https://github.com/chartjs/Chart.js/pull/4507\r\n\t * @since 2.7.0\r\n\t */\r\n\tdistribution: 'linear',\r\n\r\n\t/**\r\n\t * Scale boundary strategy (bypassed by min/max time options)\r\n\t * - `data`: make sure data are fully visible, ticks outside are removed\r\n\t * - `ticks`: make sure ticks are fully visible, data outside are truncated\r\n\t * @see https://github.com/chartjs/Chart.js/pull/4556\r\n\t * @since 2.7.0\r\n\t */\r\n\tbounds: 'data',\r\n\r\n\tadapters: {},\r\n\ttime: {\r\n\t\tparser: false, // false == a pattern string from https://momentjs.com/docs/#/parsing/string-format/ or a custom callback that converts its argument to a moment\r\n\t\tunit: false, // false == automatic or override with week, month, year, etc.\r\n\t\tround: false, // none, or override with week, month, year, etc.\r\n\t\tdisplayFormat: false, // DEPRECATED\r\n\t\tisoWeekday: false, // override week start day - see https://momentjs.com/docs/#/get-set/iso-weekday/\r\n\t\tminUnit: 'millisecond',\r\n\t\tdisplayFormats: {}\r\n\t},\r\n\tticks: {\r\n\t\tautoSkip: false,\r\n\r\n\t\t/**\r\n\t\t * Ticks generation input values:\r\n\t\t * - 'auto': generates \"optimal\" ticks based on scale size and time options.\r\n\t\t * - 'data': generates ticks from data (including labels from data {t|x|y} objects).\r\n\t\t * - 'labels': generates ticks from user given `data.labels` values ONLY.\r\n\t\t * @see https://github.com/chartjs/Chart.js/pull/4507\r\n\t\t * @since 2.7.0\r\n\t\t */\r\n\t\tsource: 'auto',\r\n\r\n\t\tmajor: {\r\n\t\t\tenabled: false\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar scale_time = core_scale.extend({\r\n\tinitialize: function() {\r\n\t\tthis.mergeTicksOptions();\r\n\t\tcore_scale.prototype.initialize.call(this);\r\n\t},\r\n\r\n\tupdate: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar time = options.time || (options.time = {});\r\n\t\tvar adapter = me._adapter = new core_adapters._date(options.adapters.date);\r\n\r\n\t\t// DEPRECATIONS: output a message only one time per update\r\n\t\tdeprecated$1('time scale', time.format, 'time.format', 'time.parser');\r\n\t\tdeprecated$1('time scale', time.min, 'time.min', 'ticks.min');\r\n\t\tdeprecated$1('time scale', time.max, 'time.max', 'ticks.max');\r\n\r\n\t\t// Backward compatibility: before introducing adapter, `displayFormats` was\r\n\t\t// supposed to contain *all* unit/string pairs but this can't be resolved\r\n\t\t// when loading the scale (adapters are loaded afterward), so let's populate\r\n\t\t// missing formats on update\r\n\t\thelpers$1.mergeIf(time.displayFormats, adapter.formats());\r\n\r\n\t\treturn core_scale.prototype.update.apply(me, arguments);\r\n\t},\r\n\r\n\t/**\r\n\t * Allows data to be referenced via 't' attribute\r\n\t */\r\n\tgetRightValue: function(rawValue) {\r\n\t\tif (rawValue && rawValue.t !== undefined) {\r\n\t\t\trawValue = rawValue.t;\r\n\t\t}\r\n\t\treturn core_scale.prototype.getRightValue.call(this, rawValue);\r\n\t},\r\n\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar adapter = me._adapter;\r\n\t\tvar options = me.options;\r\n\t\tvar unit = options.time.unit || 'day';\r\n\t\tvar min = MAX_INTEGER;\r\n\t\tvar max = MIN_INTEGER;\r\n\t\tvar timestamps = [];\r\n\t\tvar datasets = [];\r\n\t\tvar labels = [];\r\n\t\tvar i, j, ilen, jlen, data, timestamp, labelsAdded;\r\n\t\tvar dataLabels = me._getLabels();\r\n\r\n\t\tfor (i = 0, ilen = dataLabels.length; i < ilen; ++i) {\r\n\t\t\tlabels.push(parse(me, dataLabels[i]));\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\tif (chart.isDatasetVisible(i)) {\r\n\t\t\t\tdata = chart.data.datasets[i].data;\r\n\r\n\t\t\t\t// Let's consider that all data have the same format.\r\n\t\t\t\tif (helpers$1.isObject(data[0])) {\r\n\t\t\t\t\tdatasets[i] = [];\r\n\r\n\t\t\t\t\tfor (j = 0, jlen = data.length; j < jlen; ++j) {\r\n\t\t\t\t\t\ttimestamp = parse(me, data[j]);\r\n\t\t\t\t\t\ttimestamps.push(timestamp);\r\n\t\t\t\t\t\tdatasets[i][j] = timestamp;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdatasets[i] = labels.slice(0);\r\n\t\t\t\t\tif (!labelsAdded) {\r\n\t\t\t\t\t\ttimestamps = timestamps.concat(labels);\r\n\t\t\t\t\t\tlabelsAdded = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdatasets[i] = [];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (labels.length) {\r\n\t\t\tmin = Math.min(min, labels[0]);\r\n\t\t\tmax = Math.max(max, labels[labels.length - 1]);\r\n\t\t}\r\n\r\n\t\tif (timestamps.length) {\r\n\t\t\ttimestamps = ilen > 1 ? arrayUnique(timestamps).sort(sorter) : timestamps.sort(sorter);\r\n\t\t\tmin = Math.min(min, timestamps[0]);\r\n\t\t\tmax = Math.max(max, timestamps[timestamps.length - 1]);\r\n\t\t}\r\n\r\n\t\tmin = parse(me, getMin(options)) || min;\r\n\t\tmax = parse(me, getMax(options)) || max;\r\n\r\n\t\t// In case there is no valid min/max, set limits based on unit time option\r\n\t\tmin = min === MAX_INTEGER ? +adapter.startOf(Date.now(), unit) : min;\r\n\t\tmax = max === MIN_INTEGER ? +adapter.endOf(Date.now(), unit) + 1 : max;\r\n\r\n\t\t// Make sure that max is strictly higher than min (required by the lookup table)\r\n\t\tme.min = Math.min(min, max);\r\n\t\tme.max = Math.max(min + 1, max);\r\n\r\n\t\t// PRIVATE\r\n\t\tme._table = [];\r\n\t\tme._timestamps = {\r\n\t\t\tdata: timestamps,\r\n\t\t\tdatasets: datasets,\r\n\t\t\tlabels: labels\r\n\t\t};\r\n\t},\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar min = me.min;\r\n\t\tvar max = me.max;\r\n\t\tvar options = me.options;\r\n\t\tvar tickOpts = options.ticks;\r\n\t\tvar timeOpts = options.time;\r\n\t\tvar timestamps = me._timestamps;\r\n\t\tvar ticks = [];\r\n\t\tvar capacity = me.getLabelCapacity(min);\r\n\t\tvar source = tickOpts.source;\r\n\t\tvar distribution = options.distribution;\r\n\t\tvar i, ilen, timestamp;\r\n\r\n\t\tif (source === 'data' || (source === 'auto' && distribution === 'series')) {\r\n\t\t\ttimestamps = timestamps.data;\r\n\t\t} else if (source === 'labels') {\r\n\t\t\ttimestamps = timestamps.labels;\r\n\t\t} else {\r\n\t\t\ttimestamps = generate(me, min, max, capacity);\r\n\t\t}\r\n\r\n\t\tif (options.bounds === 'ticks' && timestamps.length) {\r\n\t\t\tmin = timestamps[0];\r\n\t\t\tmax = timestamps[timestamps.length - 1];\r\n\t\t}\r\n\r\n\t\t// Enforce limits with user min/max options\r\n\t\tmin = parse(me, getMin(options)) || min;\r\n\t\tmax = parse(me, getMax(options)) || max;\r\n\r\n\t\t// Remove ticks outside the min/max range\r\n\t\tfor (i = 0, ilen = timestamps.length; i < ilen; ++i) {\r\n\t\t\ttimestamp = timestamps[i];\r\n\t\t\tif (timestamp >= min && timestamp <= max) {\r\n\t\t\t\tticks.push(timestamp);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.min = min;\r\n\t\tme.max = max;\r\n\r\n\t\t// PRIVATE\r\n\t\t// determineUnitForFormatting relies on the number of ticks so we don't use it when\r\n\t\t// autoSkip is enabled because we don't yet know what the final number of ticks will be\r\n\t\tme._unit = timeOpts.unit || (tickOpts.autoSkip\r\n\t\t\t? determineUnitForAutoTicks(timeOpts.minUnit, me.min, me.max, capacity)\r\n\t\t\t: determineUnitForFormatting(me, ticks.length, timeOpts.minUnit, me.min, me.max));\r\n\t\tme._majorUnit = !tickOpts.major.enabled || me._unit === 'year' ? undefined\r\n\t\t\t: determineMajorUnit(me._unit);\r\n\t\tme._table = buildLookupTable(me._timestamps.data, min, max, distribution);\r\n\t\tme._offsets = computeOffsets(me._table, ticks, min, max, options);\r\n\r\n\t\tif (tickOpts.reverse) {\r\n\t\t\tticks.reverse();\r\n\t\t}\r\n\r\n\t\treturn ticksFromTimestamps(me, ticks, me._majorUnit);\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar adapter = me._adapter;\r\n\t\tvar data = me.chart.data;\r\n\t\tvar timeOpts = me.options.time;\r\n\t\tvar label = data.labels && index < data.labels.length ? data.labels[index] : '';\r\n\t\tvar value = data.datasets[datasetIndex].data[index];\r\n\r\n\t\tif (helpers$1.isObject(value)) {\r\n\t\t\tlabel = me.getRightValue(value);\r\n\t\t}\r\n\t\tif (timeOpts.tooltipFormat) {\r\n\t\t\treturn adapter.format(toTimestamp(me, label), timeOpts.tooltipFormat);\r\n\t\t}\r\n\t\tif (typeof label === 'string') {\r\n\t\t\treturn label;\r\n\t\t}\r\n\t\treturn adapter.format(toTimestamp(me, label), timeOpts.displayFormats.datetime);\r\n\t},\r\n\r\n\t/**\r\n\t * Function to format an individual tick mark\r\n\t * @private\r\n\t */\r\n\ttickFormatFunction: function(time, index, ticks, format) {\r\n\t\tvar me = this;\r\n\t\tvar adapter = me._adapter;\r\n\t\tvar options = me.options;\r\n\t\tvar formats = options.time.displayFormats;\r\n\t\tvar minorFormat = formats[me._unit];\r\n\t\tvar majorUnit = me._majorUnit;\r\n\t\tvar majorFormat = formats[majorUnit];\r\n\t\tvar tick = ticks[index];\r\n\t\tvar tickOpts = options.ticks;\r\n\t\tvar major = majorUnit && majorFormat && tick && tick.major;\r\n\t\tvar label = adapter.format(time, format ? format : major ? majorFormat : minorFormat);\r\n\t\tvar nestedTickOpts = major ? tickOpts.major : tickOpts.minor;\r\n\t\tvar formatter = resolve$5([\r\n\t\t\tnestedTickOpts.callback,\r\n\t\t\tnestedTickOpts.userCallback,\r\n\t\t\ttickOpts.callback,\r\n\t\t\ttickOpts.userCallback\r\n\t\t]);\r\n\r\n\t\treturn formatter ? formatter(label, index, ticks) : label;\r\n\t},\r\n\r\n\tconvertTicksToLabels: function(ticks) {\r\n\t\tvar labels = [];\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n\t\t\tlabels.push(this.tickFormatFunction(ticks[i].value, i, ticks));\r\n\t\t}\r\n\r\n\t\treturn labels;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tgetPixelForOffset: function(time) {\r\n\t\tvar me = this;\r\n\t\tvar offsets = me._offsets;\r\n\t\tvar pos = interpolate$1(me._table, 'time', time, 'pos');\r\n\t\treturn me.getPixelForDecimal((offsets.start + pos) * offsets.factor);\r\n\t},\r\n\r\n\tgetPixelForValue: function(value, index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar time = null;\r\n\r\n\t\tif (index !== undefined && datasetIndex !== undefined) {\r\n\t\t\ttime = me._timestamps.datasets[datasetIndex][index];\r\n\t\t}\r\n\r\n\t\tif (time === null) {\r\n\t\t\ttime = parse(me, value);\r\n\t\t}\r\n\r\n\t\tif (time !== null) {\r\n\t\t\treturn me.getPixelForOffset(time);\r\n\t\t}\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.getTicks();\r\n\t\treturn index >= 0 && index < ticks.length ?\r\n\t\t\tthis.getPixelForOffset(ticks[index].value) :\r\n\t\t\tnull;\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\tvar me = this;\r\n\t\tvar offsets = me._offsets;\r\n\t\tvar pos = me.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\r\n\t\tvar time = interpolate$1(me._table, 'pos', pos, 'time');\r\n\r\n\t\t// DEPRECATION, we should return time directly\r\n\t\treturn me._adapter._create(time);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getLabelSize: function(label) {\r\n\t\tvar me = this;\r\n\t\tvar ticksOpts = me.options.ticks;\r\n\t\tvar tickLabelWidth = me.ctx.measureText(label).width;\r\n\t\tvar angle = helpers$1.toRadians(me.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\r\n\t\tvar cosRotation = Math.cos(angle);\r\n\t\tvar sinRotation = Math.sin(angle);\r\n\t\tvar tickFontSize = valueOrDefault$d(ticksOpts.fontSize, core_defaults.global.defaultFontSize);\r\n\r\n\t\treturn {\r\n\t\t\tw: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\r\n\t\t\th: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Crude approximation of what the label width might be\r\n\t * @private\r\n\t */\r\n\tgetLabelWidth: function(label) {\r\n\t\treturn this._getLabelSize(label).w;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tgetLabelCapacity: function(exampleTime) {\r\n\t\tvar me = this;\r\n\t\tvar timeOpts = me.options.time;\r\n\t\tvar displayFormats = timeOpts.displayFormats;\r\n\r\n\t\t// pick the longest format (milliseconds) for guestimation\r\n\t\tvar format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\r\n\t\tvar exampleLabel = me.tickFormatFunction(exampleTime, 0, ticksFromTimestamps(me, [exampleTime], me._majorUnit), format);\r\n\t\tvar size = me._getLabelSize(exampleLabel);\r\n\t\tvar capacity = Math.floor(me.isHorizontal() ? me.width / size.w : me.height / size.h);\r\n\r\n\t\tif (me.options.offset) {\r\n\t\t\tcapacity--;\r\n\t\t}\r\n\r\n\t\treturn capacity > 0 ? capacity : 1;\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$4 = defaultConfig$4;\nscale_time._defaults = _defaults$4;\n\nvar scales = {\r\n\tcategory: scale_category,\r\n\tlinear: scale_linear,\r\n\tlogarithmic: scale_logarithmic,\r\n\tradialLinear: scale_radialLinear,\r\n\ttime: scale_time\r\n};\n\nvar FORMATS = {\r\n\tdatetime: 'MMM D, YYYY, h:mm:ss a',\r\n\tmillisecond: 'h:mm:ss.SSS a',\r\n\tsecond: 'h:mm:ss a',\r\n\tminute: 'h:mm a',\r\n\thour: 'hA',\r\n\tday: 'MMM D',\r\n\tweek: 'll',\r\n\tmonth: 'MMM YYYY',\r\n\tquarter: '[Q]Q - YYYY',\r\n\tyear: 'YYYY'\r\n};\r\n\r\ncore_adapters._date.override(typeof moment === 'function' ? {\r\n\t_id: 'moment', // DEBUG ONLY\r\n\r\n\tformats: function() {\r\n\t\treturn FORMATS;\r\n\t},\r\n\r\n\tparse: function(value, format) {\r\n\t\tif (typeof value === 'string' && typeof format === 'string') {\r\n\t\t\tvalue = moment(value, format);\r\n\t\t} else if (!(value instanceof moment)) {\r\n\t\t\tvalue = moment(value);\r\n\t\t}\r\n\t\treturn value.isValid() ? value.valueOf() : null;\r\n\t},\r\n\r\n\tformat: function(time, format) {\r\n\t\treturn moment(time).format(format);\r\n\t},\r\n\r\n\tadd: function(time, amount, unit) {\r\n\t\treturn moment(time).add(amount, unit).valueOf();\r\n\t},\r\n\r\n\tdiff: function(max, min, unit) {\r\n\t\treturn moment(max).diff(moment(min), unit);\r\n\t},\r\n\r\n\tstartOf: function(time, unit, weekday) {\r\n\t\ttime = moment(time);\r\n\t\tif (unit === 'isoWeek') {\r\n\t\t\treturn time.isoWeekday(weekday).valueOf();\r\n\t\t}\r\n\t\treturn time.startOf(unit).valueOf();\r\n\t},\r\n\r\n\tendOf: function(time, unit) {\r\n\t\treturn moment(time).endOf(unit).valueOf();\r\n\t},\r\n\r\n\t// DEPRECATIONS\r\n\r\n\t/**\r\n\t * Provided for backward compatibility with scale.getValueForPixel().\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t * @private\r\n\t */\r\n\t_create: function(time) {\r\n\t\treturn moment(time);\r\n\t},\r\n} : {});\n\ncore_defaults._set('global', {\r\n\tplugins: {\r\n\t\tfiller: {\r\n\t\t\tpropagate: true\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar mappers = {\r\n\tdataset: function(source) {\r\n\t\tvar index = source.fill;\r\n\t\tvar chart = source.chart;\r\n\t\tvar meta = chart.getDatasetMeta(index);\r\n\t\tvar visible = meta && chart.isDatasetVisible(index);\r\n\t\tvar points = (visible && meta.dataset._children) || [];\r\n\t\tvar length = points.length || 0;\r\n\r\n\t\treturn !length ? null : function(point, i) {\r\n\t\t\treturn (i < length && points[i]._view) || null;\r\n\t\t};\r\n\t},\r\n\r\n\tboundary: function(source) {\r\n\t\tvar boundary = source.boundary;\r\n\t\tvar x = boundary ? boundary.x : null;\r\n\t\tvar y = boundary ? boundary.y : null;\r\n\r\n\t\tif (helpers$1.isArray(boundary)) {\r\n\t\t\treturn function(point, i) {\r\n\t\t\t\treturn boundary[i];\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn function(point) {\r\n\t\t\treturn {\r\n\t\t\t\tx: x === null ? point.x : x,\r\n\t\t\t\ty: y === null ? point.y : y,\r\n\t\t\t};\r\n\t\t};\r\n\t}\r\n};\r\n\r\n// @todo if (fill[0] === '#')\r\nfunction decodeFill(el, index, count) {\r\n\tvar model = el._model || {};\r\n\tvar fill = model.fill;\r\n\tvar target;\r\n\r\n\tif (fill === undefined) {\r\n\t\tfill = !!model.backgroundColor;\r\n\t}\r\n\r\n\tif (fill === false || fill === null) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (fill === true) {\r\n\t\treturn 'origin';\r\n\t}\r\n\r\n\ttarget = parseFloat(fill, 10);\r\n\tif (isFinite(target) && Math.floor(target) === target) {\r\n\t\tif (fill[0] === '-' || fill[0] === '+') {\r\n\t\t\ttarget = index + target;\r\n\t\t}\r\n\r\n\t\tif (target === index || target < 0 || target >= count) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\t}\r\n\r\n\tswitch (fill) {\r\n\t// compatibility\r\n\tcase 'bottom':\r\n\t\treturn 'start';\r\n\tcase 'top':\r\n\t\treturn 'end';\r\n\tcase 'zero':\r\n\t\treturn 'origin';\r\n\t// supported boundaries\r\n\tcase 'origin':\r\n\tcase 'start':\r\n\tcase 'end':\r\n\t\treturn fill;\r\n\t// invalid fill values\r\n\tdefault:\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nfunction computeLinearBoundary(source) {\r\n\tvar model = source.el._model || {};\r\n\tvar scale = source.el._scale || {};\r\n\tvar fill = source.fill;\r\n\tvar target = null;\r\n\tvar horizontal;\r\n\r\n\tif (isFinite(fill)) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Backward compatibility: until v3, we still need to support boundary values set on\r\n\t// the model (scaleTop, scaleBottom and scaleZero) because some external plugins and\r\n\t// controllers might still use it (e.g. the Smith chart).\r\n\r\n\tif (fill === 'start') {\r\n\t\ttarget = model.scaleBottom === undefined ? scale.bottom : model.scaleBottom;\r\n\t} else if (fill === 'end') {\r\n\t\ttarget = model.scaleTop === undefined ? scale.top : model.scaleTop;\r\n\t} else if (model.scaleZero !== undefined) {\r\n\t\ttarget = model.scaleZero;\r\n\t} else if (scale.getBasePixel) {\r\n\t\ttarget = scale.getBasePixel();\r\n\t}\r\n\r\n\tif (target !== undefined && target !== null) {\r\n\t\tif (target.x !== undefined && target.y !== undefined) {\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\tif (helpers$1.isFinite(target)) {\r\n\t\t\thorizontal = scale.isHorizontal();\r\n\t\t\treturn {\r\n\t\t\t\tx: horizontal ? target : null,\r\n\t\t\t\ty: horizontal ? null : target\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n\r\nfunction computeCircularBoundary(source) {\r\n\tvar scale = source.el._scale;\r\n\tvar options = scale.options;\r\n\tvar length = scale.chart.data.labels.length;\r\n\tvar fill = source.fill;\r\n\tvar target = [];\r\n\tvar start, end, center, i, point;\r\n\r\n\tif (!length) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tstart = options.ticks.reverse ? scale.max : scale.min;\r\n\tend = options.ticks.reverse ? scale.min : scale.max;\r\n\tcenter = scale.getPointPositionForValue(0, start);\r\n\tfor (i = 0; i < length; ++i) {\r\n\t\tpoint = fill === 'start' || fill === 'end'\r\n\t\t\t? scale.getPointPositionForValue(i, fill === 'start' ? start : end)\r\n\t\t\t: scale.getBasePosition(i);\r\n\t\tif (options.gridLines.circular) {\r\n\t\t\tpoint.cx = center.x;\r\n\t\t\tpoint.cy = center.y;\r\n\t\t\tpoint.angle = scale.getIndexAngle(i) - Math.PI / 2;\r\n\t\t}\r\n\t\ttarget.push(point);\r\n\t}\r\n\treturn target;\r\n}\r\n\r\nfunction computeBoundary(source) {\r\n\tvar scale = source.el._scale || {};\r\n\r\n\tif (scale.getPointPositionForValue) {\r\n\t\treturn computeCircularBoundary(source);\r\n\t}\r\n\treturn computeLinearBoundary(source);\r\n}\r\n\r\nfunction resolveTarget(sources, index, propagate) {\r\n\tvar source = sources[index];\r\n\tvar fill = source.fill;\r\n\tvar visited = [index];\r\n\tvar target;\r\n\r\n\tif (!propagate) {\r\n\t\treturn fill;\r\n\t}\r\n\r\n\twhile (fill !== false && visited.indexOf(fill) === -1) {\r\n\t\tif (!isFinite(fill)) {\r\n\t\t\treturn fill;\r\n\t\t}\r\n\r\n\t\ttarget = sources[fill];\r\n\t\tif (!target) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (target.visible) {\r\n\t\t\treturn fill;\r\n\t\t}\r\n\r\n\t\tvisited.push(fill);\r\n\t\tfill = target.fill;\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nfunction createMapper(source) {\r\n\tvar fill = source.fill;\r\n\tvar type = 'dataset';\r\n\r\n\tif (fill === false) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (!isFinite(fill)) {\r\n\t\ttype = 'boundary';\r\n\t}\r\n\r\n\treturn mappers[type](source);\r\n}\r\n\r\nfunction isDrawable(point) {\r\n\treturn point && !point.skip;\r\n}\r\n\r\nfunction drawArea(ctx, curve0, curve1, len0, len1) {\r\n\tvar i, cx, cy, r;\r\n\r\n\tif (!len0 || !len1) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// building first area curve (normal)\r\n\tctx.moveTo(curve0[0].x, curve0[0].y);\r\n\tfor (i = 1; i < len0; ++i) {\r\n\t\thelpers$1.canvas.lineTo(ctx, curve0[i - 1], curve0[i]);\r\n\t}\r\n\r\n\tif (curve1[0].angle !== undefined) {\r\n\t\tcx = curve1[0].cx;\r\n\t\tcy = curve1[0].cy;\r\n\t\tr = Math.sqrt(Math.pow(curve1[0].x - cx, 2) + Math.pow(curve1[0].y - cy, 2));\r\n\t\tfor (i = len1 - 1; i > 0; --i) {\r\n\t\t\tctx.arc(cx, cy, r, curve1[i].angle, curve1[i - 1].angle, true);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\t// joining the two area curves\r\n\tctx.lineTo(curve1[len1 - 1].x, curve1[len1 - 1].y);\r\n\r\n\t// building opposite area curve (reverse)\r\n\tfor (i = len1 - 1; i > 0; --i) {\r\n\t\thelpers$1.canvas.lineTo(ctx, curve1[i], curve1[i - 1], true);\r\n\t}\r\n}\r\n\r\nfunction doFill(ctx, points, mapper, view, color, loop) {\r\n\tvar count = points.length;\r\n\tvar span = view.spanGaps;\r\n\tvar curve0 = [];\r\n\tvar curve1 = [];\r\n\tvar len0 = 0;\r\n\tvar len1 = 0;\r\n\tvar i, ilen, index, p0, p1, d0, d1, loopOffset;\r\n\r\n\tctx.beginPath();\r\n\r\n\tfor (i = 0, ilen = count; i < ilen; ++i) {\r\n\t\tindex = i % count;\r\n\t\tp0 = points[index]._view;\r\n\t\tp1 = mapper(p0, index, view);\r\n\t\td0 = isDrawable(p0);\r\n\t\td1 = isDrawable(p1);\r\n\r\n\t\tif (loop && loopOffset === undefined && d0) {\r\n\t\t\tloopOffset = i + 1;\r\n\t\t\tilen = count + loopOffset;\r\n\t\t}\r\n\r\n\t\tif (d0 && d1) {\r\n\t\t\tlen0 = curve0.push(p0);\r\n\t\t\tlen1 = curve1.push(p1);\r\n\t\t} else if (len0 && len1) {\r\n\t\t\tif (!span) {\r\n\t\t\t\tdrawArea(ctx, curve0, curve1, len0, len1);\r\n\t\t\t\tlen0 = len1 = 0;\r\n\t\t\t\tcurve0 = [];\r\n\t\t\t\tcurve1 = [];\r\n\t\t\t} else {\r\n\t\t\t\tif (d0) {\r\n\t\t\t\t\tcurve0.push(p0);\r\n\t\t\t\t}\r\n\t\t\t\tif (d1) {\r\n\t\t\t\t\tcurve1.push(p1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdrawArea(ctx, curve0, curve1, len0, len1);\r\n\r\n\tctx.closePath();\r\n\tctx.fillStyle = color;\r\n\tctx.fill();\r\n}\r\n\r\nvar plugin_filler = {\r\n\tid: 'filler',\r\n\r\n\tafterDatasetsUpdate: function(chart, options) {\r\n\t\tvar count = (chart.data.datasets || []).length;\r\n\t\tvar propagate = options.propagate;\r\n\t\tvar sources = [];\r\n\t\tvar meta, i, el, source;\r\n\r\n\t\tfor (i = 0; i < count; ++i) {\r\n\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\tel = meta.dataset;\r\n\t\t\tsource = null;\r\n\r\n\t\t\tif (el && el._model && el instanceof elements.Line) {\r\n\t\t\t\tsource = {\r\n\t\t\t\t\tvisible: chart.isDatasetVisible(i),\r\n\t\t\t\t\tfill: decodeFill(el, i, count),\r\n\t\t\t\t\tchart: chart,\r\n\t\t\t\t\tel: el\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tmeta.$filler = source;\r\n\t\t\tsources.push(source);\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < count; ++i) {\r\n\t\t\tsource = sources[i];\r\n\t\t\tif (!source) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tsource.fill = resolveTarget(sources, i, propagate);\r\n\t\t\tsource.boundary = computeBoundary(source);\r\n\t\t\tsource.mapper = createMapper(source);\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeDatasetsDraw: function(chart) {\r\n\t\tvar metasets = chart._getSortedVisibleDatasetMetas();\r\n\t\tvar ctx = chart.ctx;\r\n\t\tvar meta, i, el, view, points, mapper, color;\r\n\r\n\t\tfor (i = metasets.length - 1; i >= 0; --i) {\r\n\t\t\tmeta = metasets[i].$filler;\r\n\r\n\t\t\tif (!meta || !meta.visible) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tel = meta.el;\r\n\t\t\tview = el._view;\r\n\t\t\tpoints = el._children || [];\r\n\t\t\tmapper = meta.mapper;\r\n\t\t\tcolor = view.backgroundColor || core_defaults.global.defaultColor;\r\n\r\n\t\t\tif (mapper && color && points.length) {\r\n\t\t\t\thelpers$1.canvas.clipArea(ctx, chart.chartArea);\r\n\t\t\t\tdoFill(ctx, points, mapper, view, color, el._loop);\r\n\t\t\t\thelpers$1.canvas.unclipArea(ctx);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\nvar getRtlHelper$1 = helpers$1.rtl.getRtlAdapter;\r\nvar noop$1 = helpers$1.noop;\r\nvar valueOrDefault$e = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('global', {\r\n\tlegend: {\r\n\t\tdisplay: true,\r\n\t\tposition: 'top',\r\n\t\talign: 'center',\r\n\t\tfullWidth: true,\r\n\t\treverse: false,\r\n\t\tweight: 1000,\r\n\r\n\t\t// a callback that will handle\r\n\t\tonClick: function(e, legendItem) {\r\n\t\t\tvar index = legendItem.datasetIndex;\r\n\t\t\tvar ci = this.chart;\r\n\t\t\tvar meta = ci.getDatasetMeta(index);\r\n\r\n\t\t\t// See controller.isDatasetVisible comment\r\n\t\t\tmeta.hidden = meta.hidden === null ? !ci.data.datasets[index].hidden : null;\r\n\r\n\t\t\t// We hid a dataset ... rerender the chart\r\n\t\t\tci.update();\r\n\t\t},\r\n\r\n\t\tonHover: null,\r\n\t\tonLeave: null,\r\n\r\n\t\tlabels: {\r\n\t\t\tboxWidth: 40,\r\n\t\t\tpadding: 10,\r\n\t\t\t// Generates labels shown in the legend\r\n\t\t\t// Valid properties to return:\r\n\t\t\t// text : text to display\r\n\t\t\t// fillStyle : fill of coloured box\r\n\t\t\t// strokeStyle: stroke of coloured box\r\n\t\t\t// hidden : if this legend item refers to a hidden item\r\n\t\t\t// lineCap : cap style for line\r\n\t\t\t// lineDash\r\n\t\t\t// lineDashOffset :\r\n\t\t\t// lineJoin :\r\n\t\t\t// lineWidth :\r\n\t\t\tgenerateLabels: function(chart) {\r\n\t\t\t\tvar datasets = chart.data.datasets;\r\n\t\t\t\tvar options = chart.options.legend || {};\r\n\t\t\t\tvar usePointStyle = options.labels && options.labels.usePointStyle;\r\n\r\n\t\t\t\treturn chart._getSortedDatasetMetas().map(function(meta) {\r\n\t\t\t\t\tvar style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttext: datasets[meta.index].label,\r\n\t\t\t\t\t\tfillStyle: style.backgroundColor,\r\n\t\t\t\t\t\thidden: !chart.isDatasetVisible(meta.index),\r\n\t\t\t\t\t\tlineCap: style.borderCapStyle,\r\n\t\t\t\t\t\tlineDash: style.borderDash,\r\n\t\t\t\t\t\tlineDashOffset: style.borderDashOffset,\r\n\t\t\t\t\t\tlineJoin: style.borderJoinStyle,\r\n\t\t\t\t\t\tlineWidth: style.borderWidth,\r\n\t\t\t\t\t\tstrokeStyle: style.borderColor,\r\n\t\t\t\t\t\tpointStyle: style.pointStyle,\r\n\t\t\t\t\t\trotation: style.rotation,\r\n\r\n\t\t\t\t\t\t// Below is extra data used for toggling the datasets\r\n\t\t\t\t\t\tdatasetIndex: meta.index\r\n\t\t\t\t\t};\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tlegendCallback: function(chart) {\r\n\t\tvar list = document.createElement('ul');\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar i, ilen, listItem, listItemSpan;\r\n\r\n\t\tlist.setAttribute('class', chart.id + '-legend');\r\n\r\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; i++) {\r\n\t\t\tlistItem = list.appendChild(document.createElement('li'));\r\n\t\t\tlistItemSpan = listItem.appendChild(document.createElement('span'));\r\n\t\t\tlistItemSpan.style.backgroundColor = datasets[i].backgroundColor;\r\n\t\t\tif (datasets[i].label) {\r\n\t\t\t\tlistItem.appendChild(document.createTextNode(datasets[i].label));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list.outerHTML;\r\n\t}\r\n});\r\n\r\n/**\r\n * Helper function to get the box width based on the usePointStyle option\r\n * @param {object} labelopts - the label options on the legend\r\n * @param {number} fontSize - the label font size\r\n * @return {number} width of the color box area\r\n */\r\nfunction getBoxWidth(labelOpts, fontSize) {\r\n\treturn labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?\r\n\t\tfontSize :\r\n\t\tlabelOpts.boxWidth;\r\n}\r\n\r\n/**\r\n * IMPORTANT: this class is exposed publicly as Chart.Legend, backward compatibility required!\r\n */\r\nvar Legend = core_element.extend({\r\n\r\n\tinitialize: function(config) {\r\n\t\tvar me = this;\r\n\t\thelpers$1.extend(me, config);\r\n\r\n\t\t// Contains hit boxes for each dataset (in dataset order)\r\n\t\tme.legendHitBoxes = [];\r\n\r\n\t\t/**\r\n \t\t * @private\r\n \t\t */\r\n\t\tme._hoveredItem = null;\r\n\r\n\t\t// Are we in doughnut mode which has a different data type\r\n\t\tme.doughnutMode = false;\r\n\t},\r\n\r\n\t// These methods are ordered by lifecycle. Utilities then follow.\r\n\t// Any function defined here is inherited by all legend types.\r\n\t// Any function can be extended by the legend type\r\n\r\n\tbeforeUpdate: noop$1,\r\n\tupdate: function(maxWidth, maxHeight, margins) {\r\n\t\tvar me = this;\r\n\r\n\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\r\n\t\tme.beforeUpdate();\r\n\r\n\t\t// Absorb the master measurements\r\n\t\tme.maxWidth = maxWidth;\r\n\t\tme.maxHeight = maxHeight;\r\n\t\tme.margins = margins;\r\n\r\n\t\t// Dimensions\r\n\t\tme.beforeSetDimensions();\r\n\t\tme.setDimensions();\r\n\t\tme.afterSetDimensions();\r\n\t\t// Labels\r\n\t\tme.beforeBuildLabels();\r\n\t\tme.buildLabels();\r\n\t\tme.afterBuildLabels();\r\n\r\n\t\t// Fit\r\n\t\tme.beforeFit();\r\n\t\tme.fit();\r\n\t\tme.afterFit();\r\n\t\t//\r\n\t\tme.afterUpdate();\r\n\r\n\t\treturn me.minSize;\r\n\t},\r\n\tafterUpdate: noop$1,\r\n\r\n\t//\r\n\r\n\tbeforeSetDimensions: noop$1,\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.width = me.maxWidth;\r\n\t\t\tme.left = 0;\r\n\t\t\tme.right = me.width;\r\n\t\t} else {\r\n\t\t\tme.height = me.maxHeight;\r\n\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.top = 0;\r\n\t\t\tme.bottom = me.height;\r\n\t\t}\r\n\r\n\t\t// Reset padding\r\n\t\tme.paddingLeft = 0;\r\n\t\tme.paddingTop = 0;\r\n\t\tme.paddingRight = 0;\r\n\t\tme.paddingBottom = 0;\r\n\r\n\t\t// Reset minSize\r\n\t\tme.minSize = {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n\t},\r\n\tafterSetDimensions: noop$1,\r\n\r\n\t//\r\n\r\n\tbeforeBuildLabels: noop$1,\r\n\tbuildLabels: function() {\r\n\t\tvar me = this;\r\n\t\tvar labelOpts = me.options.labels || {};\r\n\t\tvar legendItems = helpers$1.callback(labelOpts.generateLabels, [me.chart], me) || [];\r\n\r\n\t\tif (labelOpts.filter) {\r\n\t\t\tlegendItems = legendItems.filter(function(item) {\r\n\t\t\t\treturn labelOpts.filter(item, me.chart.data);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (me.options.reverse) {\r\n\t\t\tlegendItems.reverse();\r\n\t\t}\r\n\r\n\t\tme.legendItems = legendItems;\r\n\t},\r\n\tafterBuildLabels: noop$1,\r\n\r\n\t//\r\n\r\n\tbeforeFit: noop$1,\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar labelOpts = opts.labels;\r\n\t\tvar display = opts.display;\r\n\r\n\t\tvar ctx = me.ctx;\r\n\r\n\t\tvar labelFont = helpers$1.options._parseFont(labelOpts);\r\n\t\tvar fontSize = labelFont.size;\r\n\r\n\t\t// Reset hit boxes\r\n\t\tvar hitboxes = me.legendHitBoxes = [];\r\n\r\n\t\tvar minSize = me.minSize;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\r\n\t\tif (isHorizontal) {\r\n\t\t\tminSize.width = me.maxWidth; // fill all the width\r\n\t\t\tminSize.height = display ? 10 : 0;\r\n\t\t} else {\r\n\t\t\tminSize.width = display ? 10 : 0;\r\n\t\t\tminSize.height = me.maxHeight; // fill all the height\r\n\t\t}\r\n\r\n\t\t// Increase sizes here\r\n\t\tif (!display) {\r\n\t\t\tme.width = minSize.width = me.height = minSize.height = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tctx.font = labelFont.string;\r\n\r\n\t\tif (isHorizontal) {\r\n\t\t\t// Labels\r\n\r\n\t\t\t// Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\r\n\t\t\tvar lineWidths = me.lineWidths = [0];\r\n\t\t\tvar totalHeight = 0;\r\n\r\n\t\t\tctx.textAlign = 'left';\r\n\t\t\tctx.textBaseline = 'middle';\r\n\r\n\t\t\thelpers$1.each(me.legendItems, function(legendItem, i) {\r\n\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\r\n\t\t\t\tvar width = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\r\n\r\n\t\t\t\tif (i === 0 || lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {\r\n\t\t\t\t\ttotalHeight += fontSize + labelOpts.padding;\r\n\t\t\t\t\tlineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\r\n\t\t\t\thitboxes[i] = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: fontSize\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlineWidths[lineWidths.length - 1] += width + labelOpts.padding;\r\n\t\t\t});\r\n\r\n\t\t\tminSize.height += totalHeight;\r\n\r\n\t\t} else {\r\n\t\t\tvar vPadding = labelOpts.padding;\r\n\t\t\tvar columnWidths = me.columnWidths = [];\r\n\t\t\tvar columnHeights = me.columnHeights = [];\r\n\t\t\tvar totalWidth = labelOpts.padding;\r\n\t\t\tvar currentColWidth = 0;\r\n\t\t\tvar currentColHeight = 0;\r\n\r\n\t\t\thelpers$1.each(me.legendItems, function(legendItem, i) {\r\n\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\r\n\t\t\t\tvar itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\r\n\r\n\t\t\t\t// If too tall, go to new column\r\n\t\t\t\tif (i > 0 && currentColHeight + fontSize + 2 * vPadding > minSize.height) {\r\n\t\t\t\t\ttotalWidth += currentColWidth + labelOpts.padding;\r\n\t\t\t\t\tcolumnWidths.push(currentColWidth); // previous column width\r\n\t\t\t\t\tcolumnHeights.push(currentColHeight);\r\n\t\t\t\t\tcurrentColWidth = 0;\r\n\t\t\t\t\tcurrentColHeight = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get max width\r\n\t\t\t\tcurrentColWidth = Math.max(currentColWidth, itemWidth);\r\n\t\t\t\tcurrentColHeight += fontSize + vPadding;\r\n\r\n\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\r\n\t\t\t\thitboxes[i] = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: itemWidth,\r\n\t\t\t\t\theight: fontSize\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\ttotalWidth += currentColWidth;\r\n\t\t\tcolumnWidths.push(currentColWidth);\r\n\t\t\tcolumnHeights.push(currentColHeight);\r\n\t\t\tminSize.width += totalWidth;\r\n\t\t}\r\n\r\n\t\tme.width = minSize.width;\r\n\t\tme.height = minSize.height;\r\n\t},\r\n\tafterFit: noop$1,\r\n\r\n\t// Shared Methods\r\n\tisHorizontal: function() {\r\n\t\treturn this.options.position === 'top' || this.options.position === 'bottom';\r\n\t},\r\n\r\n\t// Actually draw the legend on the canvas\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar labelOpts = opts.labels;\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar defaultColor = globalDefaults.defaultColor;\r\n\t\tvar lineDefault = globalDefaults.elements.line;\r\n\t\tvar legendHeight = me.height;\r\n\t\tvar columnHeights = me.columnHeights;\r\n\t\tvar legendWidth = me.width;\r\n\t\tvar lineWidths = me.lineWidths;\r\n\r\n\t\tif (!opts.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar rtlHelper = getRtlHelper$1(opts.rtl, me.left, me.minSize.width);\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar fontColor = valueOrDefault$e(labelOpts.fontColor, globalDefaults.defaultFontColor);\r\n\t\tvar labelFont = helpers$1.options._parseFont(labelOpts);\r\n\t\tvar fontSize = labelFont.size;\r\n\t\tvar cursor;\r\n\r\n\t\t// Canvas setup\r\n\t\tctx.textAlign = rtlHelper.textAlign('left');\r\n\t\tctx.textBaseline = 'middle';\r\n\t\tctx.lineWidth = 0.5;\r\n\t\tctx.strokeStyle = fontColor; // for strikethrough effect\r\n\t\tctx.fillStyle = fontColor; // render in correct colour\r\n\t\tctx.font = labelFont.string;\r\n\r\n\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\r\n\t\tvar hitboxes = me.legendHitBoxes;\r\n\r\n\t\t// current position\r\n\t\tvar drawLegendBox = function(x, y, legendItem) {\r\n\t\t\tif (isNaN(boxWidth) || boxWidth <= 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Set the ctx for the box\r\n\t\t\tctx.save();\r\n\r\n\t\t\tvar lineWidth = valueOrDefault$e(legendItem.lineWidth, lineDefault.borderWidth);\r\n\t\t\tctx.fillStyle = valueOrDefault$e(legendItem.fillStyle, defaultColor);\r\n\t\t\tctx.lineCap = valueOrDefault$e(legendItem.lineCap, lineDefault.borderCapStyle);\r\n\t\t\tctx.lineDashOffset = valueOrDefault$e(legendItem.lineDashOffset, lineDefault.borderDashOffset);\r\n\t\t\tctx.lineJoin = valueOrDefault$e(legendItem.lineJoin, lineDefault.borderJoinStyle);\r\n\t\t\tctx.lineWidth = lineWidth;\r\n\t\t\tctx.strokeStyle = valueOrDefault$e(legendItem.strokeStyle, defaultColor);\r\n\r\n\t\t\tif (ctx.setLineDash) {\r\n\t\t\t\t// IE 9 and 10 do not support line dash\r\n\t\t\t\tctx.setLineDash(valueOrDefault$e(legendItem.lineDash, lineDefault.borderDash));\r\n\t\t\t}\r\n\r\n\t\t\tif (labelOpts && labelOpts.usePointStyle) {\r\n\t\t\t\t// Recalculate x and y for drawPoint() because its expecting\r\n\t\t\t\t// x and y to be center of figure (instead of top left)\r\n\t\t\t\tvar radius = boxWidth * Math.SQRT2 / 2;\r\n\t\t\t\tvar centerX = rtlHelper.xPlus(x, boxWidth / 2);\r\n\t\t\t\tvar centerY = y + fontSize / 2;\r\n\r\n\t\t\t\t// Draw pointStyle as legend symbol\r\n\t\t\t\thelpers$1.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY, legendItem.rotation);\r\n\t\t\t} else {\r\n\t\t\t\t// Draw box as legend symbol\r\n\t\t\t\tctx.fillRect(rtlHelper.leftForLtr(x, boxWidth), y, boxWidth, fontSize);\r\n\t\t\t\tif (lineWidth !== 0) {\r\n\t\t\t\t\tctx.strokeRect(rtlHelper.leftForLtr(x, boxWidth), y, boxWidth, fontSize);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tctx.restore();\r\n\t\t};\r\n\r\n\t\tvar fillText = function(x, y, legendItem, textWidth) {\r\n\t\t\tvar halfFontSize = fontSize / 2;\r\n\t\t\tvar xLeft = rtlHelper.xPlus(x, boxWidth + halfFontSize);\r\n\t\t\tvar yMiddle = y + halfFontSize;\r\n\r\n\t\t\tctx.fillText(legendItem.text, xLeft, yMiddle);\r\n\r\n\t\t\tif (legendItem.hidden) {\r\n\t\t\t\t// Strikethrough the text if hidden\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.lineWidth = 2;\r\n\t\t\t\tctx.moveTo(xLeft, yMiddle);\r\n\t\t\t\tctx.lineTo(rtlHelper.xPlus(xLeft, textWidth), yMiddle);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar alignmentOffset = function(dimension, blockSize) {\r\n\t\t\tswitch (opts.align) {\r\n\t\t\tcase 'start':\r\n\t\t\t\treturn labelOpts.padding;\r\n\t\t\tcase 'end':\r\n\t\t\t\treturn dimension - blockSize;\r\n\t\t\tdefault: // center\r\n\t\t\t\treturn (dimension - blockSize + labelOpts.padding) / 2;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Horizontal\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tif (isHorizontal) {\r\n\t\t\tcursor = {\r\n\t\t\t\tx: me.left + alignmentOffset(legendWidth, lineWidths[0]),\r\n\t\t\t\ty: me.top + labelOpts.padding,\r\n\t\t\t\tline: 0\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tcursor = {\r\n\t\t\t\tx: me.left + labelOpts.padding,\r\n\t\t\t\ty: me.top + alignmentOffset(legendHeight, columnHeights[0]),\r\n\t\t\t\tline: 0\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\thelpers$1.rtl.overrideTextDirection(me.ctx, opts.textDirection);\r\n\r\n\t\tvar itemHeight = fontSize + labelOpts.padding;\r\n\t\thelpers$1.each(me.legendItems, function(legendItem, i) {\r\n\t\t\tvar textWidth = ctx.measureText(legendItem.text).width;\r\n\t\t\tvar width = boxWidth + (fontSize / 2) + textWidth;\r\n\t\t\tvar x = cursor.x;\r\n\t\t\tvar y = cursor.y;\r\n\r\n\t\t\trtlHelper.setWidth(me.minSize.width);\r\n\r\n\t\t\t// Use (me.left + me.minSize.width) and (me.top + me.minSize.height)\r\n\t\t\t// instead of me.right and me.bottom because me.width and me.height\r\n\t\t\t// may have been changed since me.minSize was calculated\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\tif (i > 0 && x + width + labelOpts.padding > me.left + me.minSize.width) {\r\n\t\t\t\t\ty = cursor.y += itemHeight;\r\n\t\t\t\t\tcursor.line++;\r\n\t\t\t\t\tx = cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);\r\n\t\t\t\t}\r\n\t\t\t} else if (i > 0 && y + itemHeight > me.top + me.minSize.height) {\r\n\t\t\t\tx = cursor.x = x + me.columnWidths[cursor.line] + labelOpts.padding;\r\n\t\t\t\tcursor.line++;\r\n\t\t\t\ty = cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);\r\n\t\t\t}\r\n\r\n\t\t\tvar realX = rtlHelper.x(x);\r\n\r\n\t\t\tdrawLegendBox(realX, y, legendItem);\r\n\r\n\t\t\thitboxes[i].left = rtlHelper.leftForLtr(realX, hitboxes[i].width);\r\n\t\t\thitboxes[i].top = y;\r\n\r\n\t\t\t// Fill the actual label\r\n\t\t\tfillText(realX, y, legendItem, textWidth);\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\tcursor.x += width + labelOpts.padding;\r\n\t\t\t} else {\r\n\t\t\t\tcursor.y += itemHeight;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thelpers$1.rtl.restoreTextDirection(me.ctx, opts.textDirection);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getLegendItemAt: function(x, y) {\r\n\t\tvar me = this;\r\n\t\tvar i, hitBox, lh;\r\n\r\n\t\tif (x >= me.left && x <= me.right && y >= me.top && y <= me.bottom) {\r\n\t\t\t// See if we are touching one of the dataset boxes\r\n\t\t\tlh = me.legendHitBoxes;\r\n\t\t\tfor (i = 0; i < lh.length; ++i) {\r\n\t\t\t\thitBox = lh[i];\r\n\r\n\t\t\t\tif (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\r\n\t\t\t\t\t// Touching an element\r\n\t\t\t\t\treturn me.legendItems[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\t/**\r\n\t * Handle an event\r\n\t * @private\r\n\t * @param {IEvent} event - The event to handle\r\n\t */\r\n\thandleEvent: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar type = e.type === 'mouseup' ? 'click' : e.type;\r\n\t\tvar hoveredItem;\r\n\r\n\t\tif (type === 'mousemove') {\r\n\t\t\tif (!opts.onHover && !opts.onLeave) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else if (type === 'click') {\r\n\t\t\tif (!opts.onClick) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Chart event already has relative position in it\r\n\t\thoveredItem = me._getLegendItemAt(e.x, e.y);\r\n\r\n\t\tif (type === 'click') {\r\n\t\t\tif (hoveredItem && opts.onClick) {\r\n\t\t\t\t// use e.native for backwards compatibility\r\n\t\t\t\topts.onClick.call(me, e.native, hoveredItem);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (opts.onLeave && hoveredItem !== me._hoveredItem) {\r\n\t\t\t\tif (me._hoveredItem) {\r\n\t\t\t\t\topts.onLeave.call(me, e.native, me._hoveredItem);\r\n\t\t\t\t}\r\n\t\t\t\tme._hoveredItem = hoveredItem;\r\n\t\t\t}\r\n\r\n\t\t\tif (opts.onHover && hoveredItem) {\r\n\t\t\t\t// use e.native for backwards compatibility\r\n\t\t\t\topts.onHover.call(me, e.native, hoveredItem);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction createNewLegendAndAttach(chart, legendOpts) {\r\n\tvar legend = new Legend({\r\n\t\tctx: chart.ctx,\r\n\t\toptions: legendOpts,\r\n\t\tchart: chart\r\n\t});\r\n\r\n\tcore_layouts.configure(chart, legend, legendOpts);\r\n\tcore_layouts.addBox(chart, legend);\r\n\tchart.legend = legend;\r\n}\r\n\r\nvar plugin_legend = {\r\n\tid: 'legend',\r\n\r\n\t/**\r\n\t * Backward compatibility: since 2.1.5, the legend is registered as a plugin, making\r\n\t * Chart.Legend obsolete. To avoid a breaking change, we export the Legend as part of\r\n\t * the plugin, which one will be re-exposed in the chart.js file.\r\n\t * https://github.com/chartjs/Chart.js/pull/2640\r\n\t * @private\r\n\t */\r\n\t_element: Legend,\r\n\r\n\tbeforeInit: function(chart) {\r\n\t\tvar legendOpts = chart.options.legend;\r\n\r\n\t\tif (legendOpts) {\r\n\t\t\tcreateNewLegendAndAttach(chart, legendOpts);\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeUpdate: function(chart) {\r\n\t\tvar legendOpts = chart.options.legend;\r\n\t\tvar legend = chart.legend;\r\n\r\n\t\tif (legendOpts) {\r\n\t\t\thelpers$1.mergeIf(legendOpts, core_defaults.global.legend);\r\n\r\n\t\t\tif (legend) {\r\n\t\t\t\tcore_layouts.configure(chart, legend, legendOpts);\r\n\t\t\t\tlegend.options = legendOpts;\r\n\t\t\t} else {\r\n\t\t\t\tcreateNewLegendAndAttach(chart, legendOpts);\r\n\t\t\t}\r\n\t\t} else if (legend) {\r\n\t\t\tcore_layouts.removeBox(chart, legend);\r\n\t\t\tdelete chart.legend;\r\n\t\t}\r\n\t},\r\n\r\n\tafterEvent: function(chart, e) {\r\n\t\tvar legend = chart.legend;\r\n\t\tif (legend) {\r\n\t\t\tlegend.handleEvent(e);\r\n\t\t}\r\n\t}\r\n};\n\nvar noop$2 = helpers$1.noop;\r\n\r\ncore_defaults._set('global', {\r\n\ttitle: {\r\n\t\tdisplay: false,\r\n\t\tfontStyle: 'bold',\r\n\t\tfullWidth: true,\r\n\t\tpadding: 10,\r\n\t\tposition: 'top',\r\n\t\ttext: '',\r\n\t\tweight: 2000         // by default greater than legend (1000) to be above\r\n\t}\r\n});\r\n\r\n/**\r\n * IMPORTANT: this class is exposed publicly as Chart.Legend, backward compatibility required!\r\n */\r\nvar Title = core_element.extend({\r\n\tinitialize: function(config) {\r\n\t\tvar me = this;\r\n\t\thelpers$1.extend(me, config);\r\n\r\n\t\t// Contains hit boxes for each dataset (in dataset order)\r\n\t\tme.legendHitBoxes = [];\r\n\t},\r\n\r\n\t// These methods are ordered by lifecycle. Utilities then follow.\r\n\r\n\tbeforeUpdate: noop$2,\r\n\tupdate: function(maxWidth, maxHeight, margins) {\r\n\t\tvar me = this;\r\n\r\n\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\r\n\t\tme.beforeUpdate();\r\n\r\n\t\t// Absorb the master measurements\r\n\t\tme.maxWidth = maxWidth;\r\n\t\tme.maxHeight = maxHeight;\r\n\t\tme.margins = margins;\r\n\r\n\t\t// Dimensions\r\n\t\tme.beforeSetDimensions();\r\n\t\tme.setDimensions();\r\n\t\tme.afterSetDimensions();\r\n\t\t// Labels\r\n\t\tme.beforeBuildLabels();\r\n\t\tme.buildLabels();\r\n\t\tme.afterBuildLabels();\r\n\r\n\t\t// Fit\r\n\t\tme.beforeFit();\r\n\t\tme.fit();\r\n\t\tme.afterFit();\r\n\t\t//\r\n\t\tme.afterUpdate();\r\n\r\n\t\treturn me.minSize;\r\n\r\n\t},\r\n\tafterUpdate: noop$2,\r\n\r\n\t//\r\n\r\n\tbeforeSetDimensions: noop$2,\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.width = me.maxWidth;\r\n\t\t\tme.left = 0;\r\n\t\t\tme.right = me.width;\r\n\t\t} else {\r\n\t\t\tme.height = me.maxHeight;\r\n\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.top = 0;\r\n\t\t\tme.bottom = me.height;\r\n\t\t}\r\n\r\n\t\t// Reset padding\r\n\t\tme.paddingLeft = 0;\r\n\t\tme.paddingTop = 0;\r\n\t\tme.paddingRight = 0;\r\n\t\tme.paddingBottom = 0;\r\n\r\n\t\t// Reset minSize\r\n\t\tme.minSize = {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n\t},\r\n\tafterSetDimensions: noop$2,\r\n\r\n\t//\r\n\r\n\tbeforeBuildLabels: noop$2,\r\n\tbuildLabels: noop$2,\r\n\tafterBuildLabels: noop$2,\r\n\r\n\t//\r\n\r\n\tbeforeFit: noop$2,\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar minSize = me.minSize = {};\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tvar lineCount, textSize;\r\n\r\n\t\tif (!opts.display) {\r\n\t\t\tme.width = minSize.width = me.height = minSize.height = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlineCount = helpers$1.isArray(opts.text) ? opts.text.length : 1;\r\n\t\ttextSize = lineCount * helpers$1.options._parseFont(opts).lineHeight + opts.padding * 2;\r\n\r\n\t\tme.width = minSize.width = isHorizontal ? me.maxWidth : textSize;\r\n\t\tme.height = minSize.height = isHorizontal ? textSize : me.maxHeight;\r\n\t},\r\n\tafterFit: noop$2,\r\n\r\n\t// Shared Methods\r\n\tisHorizontal: function() {\r\n\t\tvar pos = this.options.position;\r\n\t\treturn pos === 'top' || pos === 'bottom';\r\n\t},\r\n\r\n\t// Actually draw the title block on the canvas\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar opts = me.options;\r\n\r\n\t\tif (!opts.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar fontOpts = helpers$1.options._parseFont(opts);\r\n\t\tvar lineHeight = fontOpts.lineHeight;\r\n\t\tvar offset = lineHeight / 2 + opts.padding;\r\n\t\tvar rotation = 0;\r\n\t\tvar top = me.top;\r\n\t\tvar left = me.left;\r\n\t\tvar bottom = me.bottom;\r\n\t\tvar right = me.right;\r\n\t\tvar maxWidth, titleX, titleY;\r\n\r\n\t\tctx.fillStyle = helpers$1.valueOrDefault(opts.fontColor, core_defaults.global.defaultFontColor); // render in correct colour\r\n\t\tctx.font = fontOpts.string;\r\n\r\n\t\t// Horizontal\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\ttitleX = left + ((right - left) / 2); // midpoint of the width\r\n\t\t\ttitleY = top + offset;\r\n\t\t\tmaxWidth = right - left;\r\n\t\t} else {\r\n\t\t\ttitleX = opts.position === 'left' ? left + offset : right - offset;\r\n\t\t\ttitleY = top + ((bottom - top) / 2);\r\n\t\t\tmaxWidth = bottom - top;\r\n\t\t\trotation = Math.PI * (opts.position === 'left' ? -0.5 : 0.5);\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.translate(titleX, titleY);\r\n\t\tctx.rotate(rotation);\r\n\t\tctx.textAlign = 'center';\r\n\t\tctx.textBaseline = 'middle';\r\n\r\n\t\tvar text = opts.text;\r\n\t\tif (helpers$1.isArray(text)) {\r\n\t\t\tvar y = 0;\r\n\t\t\tfor (var i = 0; i < text.length; ++i) {\r\n\t\t\t\tctx.fillText(text[i], 0, y, maxWidth);\r\n\t\t\t\ty += lineHeight;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tctx.fillText(text, 0, 0, maxWidth);\r\n\t\t}\r\n\r\n\t\tctx.restore();\r\n\t}\r\n});\r\n\r\nfunction createNewTitleBlockAndAttach(chart, titleOpts) {\r\n\tvar title = new Title({\r\n\t\tctx: chart.ctx,\r\n\t\toptions: titleOpts,\r\n\t\tchart: chart\r\n\t});\r\n\r\n\tcore_layouts.configure(chart, title, titleOpts);\r\n\tcore_layouts.addBox(chart, title);\r\n\tchart.titleBlock = title;\r\n}\r\n\r\nvar plugin_title = {\r\n\tid: 'title',\r\n\r\n\t/**\r\n\t * Backward compatibility: since 2.1.5, the title is registered as a plugin, making\r\n\t * Chart.Title obsolete. To avoid a breaking change, we export the Title as part of\r\n\t * the plugin, which one will be re-exposed in the chart.js file.\r\n\t * https://github.com/chartjs/Chart.js/pull/2640\r\n\t * @private\r\n\t */\r\n\t_element: Title,\r\n\r\n\tbeforeInit: function(chart) {\r\n\t\tvar titleOpts = chart.options.title;\r\n\r\n\t\tif (titleOpts) {\r\n\t\t\tcreateNewTitleBlockAndAttach(chart, titleOpts);\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeUpdate: function(chart) {\r\n\t\tvar titleOpts = chart.options.title;\r\n\t\tvar titleBlock = chart.titleBlock;\r\n\r\n\t\tif (titleOpts) {\r\n\t\t\thelpers$1.mergeIf(titleOpts, core_defaults.global.title);\r\n\r\n\t\t\tif (titleBlock) {\r\n\t\t\t\tcore_layouts.configure(chart, titleBlock, titleOpts);\r\n\t\t\t\ttitleBlock.options = titleOpts;\r\n\t\t\t} else {\r\n\t\t\t\tcreateNewTitleBlockAndAttach(chart, titleOpts);\r\n\t\t\t}\r\n\t\t} else if (titleBlock) {\r\n\t\t\tcore_layouts.removeBox(chart, titleBlock);\r\n\t\t\tdelete chart.titleBlock;\r\n\t\t}\r\n\t}\r\n};\n\nvar plugins = {};\r\nvar filler = plugin_filler;\r\nvar legend = plugin_legend;\r\nvar title = plugin_title;\nplugins.filler = filler;\nplugins.legend = legend;\nplugins.title = title;\n\n/**\r\n * @namespace Chart\r\n */\r\n\r\n\r\ncore_controller.helpers = helpers$1;\r\n\r\n// @todo dispatch these helpers into appropriated helpers/helpers.* file and write unit tests!\r\ncore_helpers();\r\n\r\ncore_controller._adapters = core_adapters;\r\ncore_controller.Animation = core_animation;\r\ncore_controller.animationService = core_animations;\r\ncore_controller.controllers = controllers;\r\ncore_controller.DatasetController = core_datasetController;\r\ncore_controller.defaults = core_defaults;\r\ncore_controller.Element = core_element;\r\ncore_controller.elements = elements;\r\ncore_controller.Interaction = core_interaction;\r\ncore_controller.layouts = core_layouts;\r\ncore_controller.platform = platform;\r\ncore_controller.plugins = core_plugins;\r\ncore_controller.Scale = core_scale;\r\ncore_controller.scaleService = core_scaleService;\r\ncore_controller.Ticks = core_ticks;\r\ncore_controller.Tooltip = core_tooltip;\r\n\r\n// Register built-in scales\r\n\r\ncore_controller.helpers.each(scales, function(scale, type) {\r\n\tcore_controller.scaleService.registerScaleType(type, scale, scale._defaults);\r\n});\r\n\r\n// Load to register built-in adapters (as side effects)\r\n\r\n\r\n// Loading built-in plugins\r\n\r\nfor (var k in plugins) {\r\n\tif (plugins.hasOwnProperty(k)) {\r\n\t\tcore_controller.plugins.register(plugins[k]);\r\n\t}\r\n}\r\n\r\ncore_controller.platform.initialize();\r\n\r\nvar src = core_controller;\r\nif (typeof window !== 'undefined') {\r\n\twindow.Chart = core_controller;\r\n}\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore\r\n * @namespace Chart.Chart\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.Chart = core_controller;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore\r\n * @namespace Chart.Legend\r\n * @deprecated since version 2.1.5\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.Legend = plugins.legend._element;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore\r\n * @namespace Chart.Title\r\n * @deprecated since version 2.1.5\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.Title = plugins.title._element;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.plugins instead\r\n * @namespace Chart.pluginService\r\n * @deprecated since version 2.1.5\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.pluginService = core_controller.plugins;\r\n\r\n/**\r\n * Provided for backward compatibility, inheriting from Chart.PlugingBase has no\r\n * effect, instead simply create/register plugins via plain JavaScript objects.\r\n * @interface Chart.PluginBase\r\n * @deprecated since version 2.5.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.PluginBase = core_controller.Element.extend({});\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas instead.\r\n * @namespace Chart.canvasHelpers\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.canvasHelpers = core_controller.helpers.canvas;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.layouts instead.\r\n * @namespace Chart.layoutService\r\n * @deprecated since version 2.7.3\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.layoutService = core_controller.layouts;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart.LinearScaleBase\r\n * @deprecated since version 2.8\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.LinearScaleBase = scale_linearbase;\r\n\r\n/**\r\n * Provided for backward compatibility, instead we should create a new Chart\r\n * by setting the type in the config (`new Chart(id, {type: '{chart-type}'}`).\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n */\r\ncore_controller.helpers.each(\r\n\t[\r\n\t\t'Bar',\r\n\t\t'Bubble',\r\n\t\t'Doughnut',\r\n\t\t'Line',\r\n\t\t'PolarArea',\r\n\t\t'Radar',\r\n\t\t'Scatter'\r\n\t],\r\n\tfunction(klass) {\r\n\t\tcore_controller[klass] = function(ctx, cfg) {\r\n\t\t\treturn new core_controller(ctx, core_controller.helpers.merge(cfg || {}, {\r\n\t\t\t\ttype: klass.charAt(0).toLowerCase() + klass.slice(1)\r\n\t\t\t}));\r\n\t\t};\r\n\t}\r\n);\n\nreturn src;\n\n})));\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Chart\", {\n  enumerable: true,\n  get: function get() {\n    return _chart[\"default\"];\n  }\n});\nexports.defaults = exports.Scatter = exports.Bubble = exports.Polar = exports.Radar = exports.HorizontalBar = exports.Bar = exports.Line = exports.Pie = exports.Doughnut = exports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _chart = _interopRequireDefault(require(\"chart.js\"));\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nvar _keyBy = _interopRequireDefault(require(\"lodash/keyBy\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar NODE_ENV = typeof process !== 'undefined' && process.env && process.env.NODE_ENV;\n\nvar ChartComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(ChartComponent, _React$Component);\n\n  var _super = _createSuper(ChartComponent);\n\n  function ChartComponent() {\n    var _this;\n\n    _classCallCheck(this, ChartComponent);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnClick\", function (event) {\n      var instance = _this.chartInstance;\n      var _this$props = _this.props,\n          getDatasetAtEvent = _this$props.getDatasetAtEvent,\n          getElementAtEvent = _this$props.getElementAtEvent,\n          getElementsAtEvent = _this$props.getElementsAtEvent,\n          onElementsClick = _this$props.onElementsClick;\n      getDatasetAtEvent && getDatasetAtEvent(instance.getDatasetAtEvent(event), event);\n      getElementAtEvent && getElementAtEvent(instance.getElementAtEvent(event), event);\n      getElementsAtEvent && getElementsAtEvent(instance.getElementsAtEvent(event), event);\n      onElementsClick && onElementsClick(instance.getElementsAtEvent(event), event); // Backward compatibility\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"ref\", function (element) {\n      _this.element = element;\n    });\n\n    _this.chartInstance = undefined;\n    return _this;\n  }\n\n  _createClass(ChartComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderChart();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.redraw) {\n        this.destroyChart();\n        this.renderChart();\n        return;\n      }\n\n      this.updateChart();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      var _this$props2 = this.props,\n          redraw = _this$props2.redraw,\n          type = _this$props2.type,\n          options = _this$props2.options,\n          plugins = _this$props2.plugins,\n          legend = _this$props2.legend,\n          height = _this$props2.height,\n          width = _this$props2.width;\n\n      if (nextProps.redraw === true) {\n        return true;\n      }\n\n      if (height !== nextProps.height || width !== nextProps.width) {\n        return true;\n      }\n\n      if (type !== nextProps.type) {\n        return true;\n      }\n\n      if (!(0, _isEqual[\"default\"])(legend, nextProps.legend)) {\n        return true;\n      }\n\n      if (!(0, _isEqual[\"default\"])(options, nextProps.options)) {\n        return true;\n      }\n\n      var nextData = this.transformDataProp(nextProps);\n\n      if (!(0, _isEqual[\"default\"])(this.shadowDataProp, nextData)) {\n        return true;\n      }\n\n      return !(0, _isEqual[\"default\"])(plugins, nextProps.plugins);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyChart();\n    }\n  }, {\n    key: \"transformDataProp\",\n    value: function transformDataProp(props) {\n      var data = props.data;\n\n      if (typeof data == 'function') {\n        var node = this.element;\n        return data(node);\n      } else {\n        return data;\n      }\n    } // Chart.js directly mutates the data.dataset objects by adding _meta proprerty\n    // this makes impossible to compare the current and next data changes\n    // therefore we memoize the data prop while sending a fake to Chart.js for mutation.\n    // see https://github.com/chartjs/Chart.js/blob/master/src/core/core.controller.js#L615-L617\n\n  }, {\n    key: \"memoizeDataProps\",\n    value: function memoizeDataProps() {\n      if (!this.props.data) {\n        return;\n      }\n\n      var data = this.transformDataProp(this.props);\n      this.shadowDataProp = _objectSpread(_objectSpread({}, data), {}, {\n        datasets: data.datasets && data.datasets.map(function (set) {\n          return _objectSpread({}, set);\n        })\n      });\n      this.saveCurrentDatasets(); // to remove the dataset metadata from this chart when the chart is destroyed\n\n      return data;\n    }\n  }, {\n    key: \"checkDatasets\",\n    value: function checkDatasets(datasets) {\n      var isDev = NODE_ENV !== 'production' && NODE_ENV !== 'prod';\n      var usingCustomKeyProvider = this.props.datasetKeyProvider !== ChartComponent.getLabelAsKey;\n      var multipleDatasets = datasets.length > 1;\n\n      if (isDev && multipleDatasets && !usingCustomKeyProvider) {\n        var shouldWarn = false;\n        datasets.forEach(function (dataset) {\n          if (!dataset.label) {\n            shouldWarn = true;\n          }\n        });\n\n        if (shouldWarn) {\n          console.error('[react-chartjs-2] Warning: Each dataset needs a unique key. By default, the \"label\" property on each dataset is used. Alternatively, you may provide a \"datasetKeyProvider\" as a prop that returns a unique key.');\n        }\n      }\n    }\n  }, {\n    key: \"getCurrentDatasets\",\n    value: function getCurrentDatasets() {\n      return this.chartInstance && this.chartInstance.config.data && this.chartInstance.config.data.datasets || [];\n    }\n  }, {\n    key: \"saveCurrentDatasets\",\n    value: function saveCurrentDatasets() {\n      var _this2 = this;\n\n      this.datasets = this.datasets || {};\n      var currentDatasets = this.getCurrentDatasets();\n      currentDatasets.forEach(function (d) {\n        _this2.datasets[_this2.props.datasetKeyProvider(d)] = d;\n      });\n    }\n  }, {\n    key: \"updateChart\",\n    value: function updateChart() {\n      var _this3 = this;\n\n      var options = this.props.options;\n      var data = this.memoizeDataProps(this.props);\n      if (!this.chartInstance) return;\n\n      if (options) {\n        this.chartInstance.options = _chart[\"default\"].helpers.configMerge(this.chartInstance.options, options);\n      } // Pipe datasets to chart instance datasets enabling\n      // seamless transitions\n\n\n      var currentDatasets = this.getCurrentDatasets();\n      var nextDatasets = data.datasets || [];\n      this.checkDatasets(currentDatasets);\n      var currentDatasetsIndexed = (0, _keyBy[\"default\"])(currentDatasets, this.props.datasetKeyProvider); // We can safely replace the dataset array, as long as we retain the _meta property\n      // on each dataset.\n\n      this.chartInstance.config.data.datasets = nextDatasets.map(function (next) {\n        var current = currentDatasetsIndexed[_this3.props.datasetKeyProvider(next)];\n\n        if (current && current.type === next.type && next.data) {\n          // Be robust to no data. Relevant for other update mechanisms as in chartjs-plugin-streaming.\n          // The data array must be edited in place. As chart.js adds listeners to it.\n          current.data.splice(next.data.length);\n          next.data.forEach(function (point, pid) {\n            current.data[pid] = next.data[pid];\n          });\n\n          var _data = next.data,\n              otherProps = _objectWithoutProperties(next, [\"data\"]); // Merge properties. Notice a weakness here. If a property is removed\n          // from next, it will be retained by current and never disappears.\n          // Workaround is to set value to null or undefined in next.\n\n\n          return _objectSpread(_objectSpread({}, current), otherProps);\n        } else {\n          return next;\n        }\n      });\n\n      var datasets = data.datasets,\n          rest = _objectWithoutProperties(data, [\"datasets\"]);\n\n      this.chartInstance.config.data = _objectSpread(_objectSpread({}, this.chartInstance.config.data), rest);\n      this.chartInstance.update();\n    }\n  }, {\n    key: \"renderChart\",\n    value: function renderChart() {\n      var _this$props3 = this.props,\n          options = _this$props3.options,\n          legend = _this$props3.legend,\n          type = _this$props3.type,\n          plugins = _this$props3.plugins;\n      var node = this.element;\n      var data = this.memoizeDataProps();\n\n      if (typeof legend !== 'undefined' && !(0, _isEqual[\"default\"])(ChartComponent.defaultProps.legend, legend)) {\n        options.legend = legend;\n      }\n\n      this.chartInstance = new _chart[\"default\"](node, {\n        type: type,\n        data: data,\n        options: options,\n        plugins: plugins\n      });\n    }\n  }, {\n    key: \"destroyChart\",\n    value: function destroyChart() {\n      if (!this.chartInstance) {\n        return;\n      } // Put all of the datasets that have existed in the chart back on the chart\n      // so that the metadata associated with this chart get destroyed.\n      // This allows the datasets to be used in another chart. This can happen,\n      // for example, in a tabbed UI where the chart gets created each time the\n      // tab gets switched to the chart and uses the same data).\n\n\n      this.saveCurrentDatasets();\n      var datasets = Object.values(this.datasets);\n      this.chartInstance.config.data.datasets = datasets;\n      this.chartInstance.destroy();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          height = _this$props4.height,\n          width = _this$props4.width,\n          id = _this$props4.id;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"canvas\", {\n        ref: this.ref,\n        height: height,\n        width: width,\n        id: id,\n        onClick: this.handleOnClick\n      });\n    }\n  }]);\n\n  return ChartComponent;\n}(_react[\"default\"].Component);\n\n_defineProperty(ChartComponent, \"getLabelAsKey\", function (d) {\n  return d.label;\n});\n\n_defineProperty(ChartComponent, \"propTypes\", {\n  data: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].object, _propTypes[\"default\"].func]).isRequired,\n  getDatasetAtEvent: _propTypes[\"default\"].func,\n  getElementAtEvent: _propTypes[\"default\"].func,\n  getElementsAtEvent: _propTypes[\"default\"].func,\n  height: _propTypes[\"default\"].number,\n  legend: _propTypes[\"default\"].object,\n  onElementsClick: _propTypes[\"default\"].func,\n  options: _propTypes[\"default\"].object,\n  plugins: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].object),\n  redraw: _propTypes[\"default\"].bool,\n  type: function type(props, propName, componentName) {\n    if (!_chart[\"default\"].controllers[props[propName]]) {\n      return new Error('Invalid chart type `' + props[propName] + '` supplied to' + ' `' + componentName + '`.');\n    }\n  },\n  width: _propTypes[\"default\"].number,\n  datasetKeyProvider: _propTypes[\"default\"].func\n});\n\n_defineProperty(ChartComponent, \"defaultProps\", {\n  legend: {\n    display: true,\n    position: 'bottom'\n  },\n  type: 'doughnut',\n  height: 150,\n  width: 300,\n  redraw: false,\n  options: {},\n  datasetKeyProvider: ChartComponent.getLabelAsKey\n});\n\nvar _default = ChartComponent;\nexports[\"default\"] = _default;\n\nvar Doughnut = /*#__PURE__*/function (_React$Component2) {\n  _inherits(Doughnut, _React$Component2);\n\n  var _super2 = _createSuper(Doughnut);\n\n  function Doughnut() {\n    _classCallCheck(this, Doughnut);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(Doughnut, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref) {\n          return _this4.chartInstance = _ref && _ref.chartInstance;\n        },\n        type: \"doughnut\"\n      }));\n    }\n  }]);\n\n  return Doughnut;\n}(_react[\"default\"].Component);\n\nexports.Doughnut = Doughnut;\n\nvar Pie = /*#__PURE__*/function (_React$Component3) {\n  _inherits(Pie, _React$Component3);\n\n  var _super3 = _createSuper(Pie);\n\n  function Pie() {\n    _classCallCheck(this, Pie);\n\n    return _super3.apply(this, arguments);\n  }\n\n  _createClass(Pie, [{\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref2) {\n          return _this5.chartInstance = _ref2 && _ref2.chartInstance;\n        },\n        type: \"pie\"\n      }));\n    }\n  }]);\n\n  return Pie;\n}(_react[\"default\"].Component);\n\nexports.Pie = Pie;\n\nvar Line = /*#__PURE__*/function (_React$Component4) {\n  _inherits(Line, _React$Component4);\n\n  var _super4 = _createSuper(Line);\n\n  function Line() {\n    _classCallCheck(this, Line);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(Line, [{\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref3) {\n          return _this6.chartInstance = _ref3 && _ref3.chartInstance;\n        },\n        type: \"line\"\n      }));\n    }\n  }]);\n\n  return Line;\n}(_react[\"default\"].Component);\n\nexports.Line = Line;\n\nvar Bar = /*#__PURE__*/function (_React$Component5) {\n  _inherits(Bar, _React$Component5);\n\n  var _super5 = _createSuper(Bar);\n\n  function Bar() {\n    _classCallCheck(this, Bar);\n\n    return _super5.apply(this, arguments);\n  }\n\n  _createClass(Bar, [{\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref4) {\n          return _this7.chartInstance = _ref4 && _ref4.chartInstance;\n        },\n        type: \"bar\"\n      }));\n    }\n  }]);\n\n  return Bar;\n}(_react[\"default\"].Component);\n\nexports.Bar = Bar;\n\nvar HorizontalBar = /*#__PURE__*/function (_React$Component6) {\n  _inherits(HorizontalBar, _React$Component6);\n\n  var _super6 = _createSuper(HorizontalBar);\n\n  function HorizontalBar() {\n    _classCallCheck(this, HorizontalBar);\n\n    return _super6.apply(this, arguments);\n  }\n\n  _createClass(HorizontalBar, [{\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref5) {\n          return _this8.chartInstance = _ref5 && _ref5.chartInstance;\n        },\n        type: \"horizontalBar\"\n      }));\n    }\n  }]);\n\n  return HorizontalBar;\n}(_react[\"default\"].Component);\n\nexports.HorizontalBar = HorizontalBar;\n\nvar Radar = /*#__PURE__*/function (_React$Component7) {\n  _inherits(Radar, _React$Component7);\n\n  var _super7 = _createSuper(Radar);\n\n  function Radar() {\n    _classCallCheck(this, Radar);\n\n    return _super7.apply(this, arguments);\n  }\n\n  _createClass(Radar, [{\n    key: \"render\",\n    value: function render() {\n      var _this9 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref6) {\n          return _this9.chartInstance = _ref6 && _ref6.chartInstance;\n        },\n        type: \"radar\"\n      }));\n    }\n  }]);\n\n  return Radar;\n}(_react[\"default\"].Component);\n\nexports.Radar = Radar;\n\nvar Polar = /*#__PURE__*/function (_React$Component8) {\n  _inherits(Polar, _React$Component8);\n\n  var _super8 = _createSuper(Polar);\n\n  function Polar() {\n    _classCallCheck(this, Polar);\n\n    return _super8.apply(this, arguments);\n  }\n\n  _createClass(Polar, [{\n    key: \"render\",\n    value: function render() {\n      var _this10 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref7) {\n          return _this10.chartInstance = _ref7 && _ref7.chartInstance;\n        },\n        type: \"polarArea\"\n      }));\n    }\n  }]);\n\n  return Polar;\n}(_react[\"default\"].Component);\n\nexports.Polar = Polar;\n\nvar Bubble = /*#__PURE__*/function (_React$Component9) {\n  _inherits(Bubble, _React$Component9);\n\n  var _super9 = _createSuper(Bubble);\n\n  function Bubble() {\n    _classCallCheck(this, Bubble);\n\n    return _super9.apply(this, arguments);\n  }\n\n  _createClass(Bubble, [{\n    key: \"render\",\n    value: function render() {\n      var _this11 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref8) {\n          return _this11.chartInstance = _ref8 && _ref8.chartInstance;\n        },\n        type: \"bubble\"\n      }));\n    }\n  }]);\n\n  return Bubble;\n}(_react[\"default\"].Component);\n\nexports.Bubble = Bubble;\n\nvar Scatter = /*#__PURE__*/function (_React$Component10) {\n  _inherits(Scatter, _React$Component10);\n\n  var _super10 = _createSuper(Scatter);\n\n  function Scatter() {\n    _classCallCheck(this, Scatter);\n\n    return _super10.apply(this, arguments);\n  }\n\n  _createClass(Scatter, [{\n    key: \"render\",\n    value: function render() {\n      var _this12 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref9) {\n          return _this12.chartInstance = _ref9 && _ref9.chartInstance;\n        },\n        type: \"scatter\"\n      }));\n    }\n  }]);\n\n  return Scatter;\n}(_react[\"default\"].Component);\n\nexports.Scatter = Scatter;\nvar defaults = _chart[\"default\"].defaults;\nexports.defaults = defaults;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return /*#__PURE__*/React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;"],"names":["CommitDetails","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","isLoading","errorMsg","_createClass","key","value","_this2","_this$props","this","repoID","commitID","seafileAPI","getCommitDetails","then","res","setState","commitDetails","data","catch","error","Utils","getErrorMsg","_this$props2","toggleDialog","commitTime","_jsxs","Modal","isOpen","centered","toggle","children","_jsx","ModalHeader","gettext","ModalBody","className","moment","format","Content","React","_React$Component2","_super2","_this3","_len","arguments","length","args","Array","_key","apply","concat","renderDetails","detailsData","type","title","showDesc","i","len","cmt_desc","map","item","index","dangerouslySetInnerHTML","__html","_this$props$data","Loading","CreateForder","handleChange","e","target","trim","isSubmitBtnActive","childName","handleSubmit","newName","checkDuplicatedName","errMessage","replace","HTMLescape","path","parentPath","onAddFolder","handleKeyDown","preventDefault","addFolderCancel","autoFocus","Form","FormGroup","Label","for","Input","id","onKeyDown","onChange","Alert","color","ModalFooter","Button","onClick","disabled","OpMenu","onMenuItemClick","operation","getEventData","onDropdownToggleClick","toggleOperationMenu","isItemMenuShow","onFreezedItem","onUnfreezedItem","operations","translateOperations","Dropdown","DropdownToggle","tag","DropdownMenu","DropdownItem","ShareAdminLink","copyToClipboard","copy","link","toaster","success","duration","href","SysAdminUnlinkDevice","handleInputChange","inputChecked","checked","unlinkDevice","isPro","htmlFor","SidePanel","getActiveClass","tab","currentTab","isSidePanelClosed","Logo","onCloseSidePanel","canViewSystemInfo","Link","to","siteRoot","tabItemClick","isDBSqlite3","canViewStatistic","otherPermission","constanceEnabled","canConfigSystem","canManageLibrary","canManageUser","canManageGroup","multiTenancy","multiInstitution","sysadminExtraEnabled","canViewUserLog","enableFileScan","enableGuestInvitation","enableTermsAndConditions","canViewAdminLog","enableWorkWeixin","enableDingtalk","enableShareLinkReportAbuse","MainPanel","_Component","Component","MainPanelTopbar","toggleSidePanel","search","Account","isAdminPanel","Info","uploadLicenseFile","fileInput","current","files","file","sysAdminUploadLicense","info","sysInfo","Object","assign","with_license","errMsg","danger","openFileInput","click","renderLicenseDescString","license_mode","license_to","license_expiration","window","app","config","lang","loading","sysAdminGetSysInfo","_this$state$sysInfo","org_count","repos_count","total_files_count","total_storage","total_devices_count","current_connected_devices_count","license_maxusers","multi_tenancy_enabled","active_users_count","users_count","groups_count","_this$state","Fragment","_objectSpread","isDefaultAdmin","ref","rel","bytesToSize","Nav","navItems","name","urlPart","text","currentItem","FORMAT","Picker","defaultCalendarValue","locale","clone","calendar","Calendar","defaultValue","disabledDate","translateCalendar","DatePicker","_ref","placeholder","tabIndex","readOnly","StatisticCommonTool","changeActive","statisticTypeName","statisticType","startTime","endTime","subtract","getActiviesFiles","disabledStartDate","startValue","today","endValue","isBefore","disabledEndDate","field","_defineProperty","onSubmit","_this$state2","bind","StatisticChart","titleCallback","tooltipItem","datasets","datasetIndex","label","yLabel","ticksCallback","values","opations","labels","filesData","isTitleCallback","isTicksCallback","suggestedMaxNumbers","isLegendStatus","chartTitle","options","display","fontSize","elements","line","fill","tension","borderWidth","legend","usePointStyle","tooltips","callbacks","layout","padding","right","scales","yAxes","ticks","beginAtZero","suggestedMax","callback","xAxes","maxTicksLimit","nextProps","Line","StatisticFile","groupBy","sysAdminStatisticFiles","added","deleted","visited","modified","isArray","forEach","push","datetime","addedData","borderColor","backgroundColor","visitedData","modifiedData","deletedData","err","StatisticNav","StatisticStorage","sysAdminStatisticStorages","totalStorage","TrafficTable","sortBy","sortIcon","sortOrder","width","sortItems","TrafficTableBody","trafficName","userTrafficItem","email","org_name","syncUploadSize","sync_file_upload","syncDownloadSize","sync_file_download","webUploadSize","web_file_upload","webDownloadSize","web_file_download","linkUploadSize","link_file_upload","linkDownloadSize","link_file_download","OrgsTraffic","getPreviousPage","getTrafficList","month","currentPage","getNextPage","handleKeyPress","test","errorMessage","initPage","blur","page","perPage","orderBy","sysAdminListOrgTraffic","orgTrafficList","org_monthly_traffic_list","slice","hasNextPage","has_next_page","resetPerPage","newPerPage","initMonth","urlParams","URL","location","searchParams","_this$state3","parseInt","get","_this$state4","onKeyPress","Paginator","gotoPreviousPage","gotoNextPage","curPerPage","UsersTraffic","sysAdminListUserTraffic","userTrafficList","user_monthly_traffic_list","StatisticTraffic","changeTabActive","activeName","tabActive","sysAdminStatisticTraffic","total_upload","total_download","link_upload","link_download","sync_upload","sync_download","web_upload","web_download","linkData","syncData","webData","renderCommonTool","_assertThisInitialized","StatisticUsers","sysAdminStatisticActiveUsers","count","userCount","StatisticReports","onGenerateReports","url","getPreviousPageDevicesList","getDevicesListByPage","pageInfo","current_page","getNextPageDevicesList","items","emptyTip","EmptyTip","table","Item","_Component2","handleMouseOver","isOpIconShown","handleMouseOut","handleUnlink","is_desktop_client","toggleUnlinkDeviceDialog","isUnlinkDeviceDialogOpen","deleteFiles","_this2$props$item","platform","device_id","user","sysAdminUnlinkDevice","unlinked","message","onMouseEnter","onMouseLeave","user_name","client_version","device_name","last_login_ip","last_accessed","fromNow","_Component3","DevicesByPlatform","_super3","devicesPlatform","per_page","sysAdminListDevices","devicesData","devices","page_info","_this4","_this$state2$currentP","DesktopDevices","DevicesNav","MobileDevices","UserLink","encodeURIComponent","getPreviousPageDeviceErrorsList","getDeviceErrorsListByPage","getNextPageDeviceErrorsList","device_ip","repo_id","repo_name","error_msg","error_time","DeviceErrors","sysAdminListDeviceErrors","devicesErrors","device_errors","isCleanBtnShown","clean","sysAdminClearDeviceErrors","_this$state$currentPa","SetQuotaDialog","handleQuotaChange","quota","updateQuota","InputGroup","InputGroupAddon","addonType","InputGroupText","SysAdminImportUserDialog","fileInputRef","uploadFile","fileName","substr","lastIndexOf","importUserInBatch","SysAdminUserRoleEditor","translateRoles","role","SelectEditor","isTextMode","isEditIconShow","roleOptions","currentOption","currentRole","onOptionChanged","onRoleChanged","translateOption","SysAdminAddUserDialog","checkSubmitBtnActive","password","passwordAgain","btnActive","togglePasswordVisible","isPasswordVisible","inputPassword","passwd","inputPasswordAgain","generatePassword","val","inputEmail","inputName","updateRole","showRole","addUser","dialogTitle","autoComplete","availableRoles","SysAdminBatchAddAdminDialog","handleSelectChange","addAdminInBatch","UserSelect","isMulti","onSelectChange","SysAdminUser","object","contact_email","login_id","last_login","last_access_time","create_time","is_active","is_staff","reference_id","department","quota_total","quota_usage","institution","org_id","isSelected","SysAdminAdminUser","admin_role","Search","submit","style","haveLDAP","SysAdminUserStatusEditor","translateStatus","status","statusOptions","currentStatus","onStatusChanged","_window$sysadmin$page","sysadmin","pageOptions","availableAdminRoles","institutions","isItemFreezed","getListByPage","sortByQuotaUsage","isAdmin","isAllUsersSelected","columns","spaceText","spaceEl","undefined","colSpaceText","colNameText","colCreatedText","toggleSelectAllUsers","updateUser","deleteUser","updateAdminRole","revokeAdmin","onUserSelected","isLDAPImported","isSearchResult","handleMouseEnter","highlight","handleMouseLeave","isOpIconShow","toggleSetQuotaDialog","isSetQuotaDialogOpen","toggleDeleteUserDialog","isDeleteUserDialogOpen","toggleResetUserPasswordDialog","isResetUserPasswordDialogOpen","toggleRevokeAdminDialog","isRevokeAdminDialogOpen","updateStatus","isActive","notify","translateAdminRole","updateInstitution","translateInstitution","inst","resetPassword","sysAdminResetUserPassword","reset_tip","getMenuOperations","_this3$props","list","source","translateResult","itemName","deleteDialogMsg","resetPasswordDialogMsg","revokeAdminDialogMsg","username","SysAdminUserSetQuotaDialog","CommonOperationConfirmationDialog","executeOperation","confirmBtnText","Users","toggleImportUserDialog","isImportUserDialogOpen","toggleAddUserDialog","isAddUserDialogOpen","toggleBatchSetQuotaDialog","isBatchSetQuotaDialogOpen","toggleBatchDeleteUserDialog","isBatchDeleteUserDialogOpen","hasUserSelected","selectedUserList","users","userList","filter","thisuser","getUserList","sysAdminListAdmins","admin_user_list","getUsersListByPage","sysAdminListUsers","total_count","URLSearchParams","set","toString","navigate","sysAdminDeleteUser","newUserList","msg","setUserQuotaInBatch","quotaTotal","emails","sysAdminSetUserQuotaInBatch","resultUser","deleteUserInBatch","sysAdminDeleteUserInBatch","oldUser","some","deletedUser","failed","sysAdminImportUserViaFile","sysAdminAddUser","unshift","add_user_tip","sysAdminUpdateUser","update_status_tip","sysAdminUpdateAdminRole","getOperationsForAll","toggleBatchAddAdminDialog","getCurrentNavItem","isBatchAddAdminDialogOpen","sysAdminAddAdminInBatch","getSearch","searchItems","keyword","_this$state3$sortBy","_this$state3$sortOrde","_this$props3","UsersNav","AdminUsers","LDAPImportedUsers","sysAdminListLDAPUsers","ldap_user_list","SearchUsers","getItems","sysAdminSearchUsers","query","user_list","getPreviousPageList","getNextPageList","keyCode","params","document","row","Col","sm","size","SysAdminSetUploadDownloadRateLimitDialog","handleRateLimitChange","rateLimit","updateUploadDownloadRateLimit","uploadOrDownload","UpdateUser","updateValue","userName","twoFactorAuthEnabled","toggleSetUserUploadRateLimitDialog","isSetUserUploadRateLimitDialogOpen","toggleSetUserDownloadRateLimitDialog","isSetUserDownloadRateLimitDialogOpen","currentKey","isUpdateUserDialogOpen","toggleSetNameDialog","toggleSetUserLoginIDDialog","toggleSetUserComtactEmailDialog","toggleSetUserReferenceIDDialog","toggleUpdateUserDialog","showEditIcon","action","userInfo","src","avatar_url","alt","upload_rate_limit","download_rate_limit","has_default_device","disable2FA","check","is_force_2fa","toggleForce2fa","SysAdminSetQuotaDialog","SysAdminUpdateUserDialog","User","sysAdminDeleteTwoFactorAuth","sysAdminSetForceTwoFactorAuth","decodeURIComponent","sysAdminGetUser","enableSysAdminViewRepo","deleteRepo","transferRepo","toggleDeleteDialog","isDeleteDialogOpen","toggleTransferDialog","isTransferDialogOpen","owner","renderRepoName","repo","encrypted","iconUrl","getLibIconUrl","iconTitle","getLibIconTitle","last_modified","TransferDialog","canTransferToDept","Repos","sysAdminDeleteRepo","newRepoList","repoList","sysAdminTransferRepo","_this5","sysAdminListReposByOwner","repos","getOwnerLink","owner_email","indexOf","owner_name","groupID","substring","last_modify","sysAdminListShareInRepos","repo_list","deleteItem","toggleLinkDialog","isLinkDialogOpen","getRoleText","roleText","getIconUrl","is_dir","getFolderIconUrl","getFileIconUrl","obj_name","view_cnt","LinkDialog","Links","token","sysAdminDeleteShareLink","shareLinkItems","sysAdminDeleteUploadLink","uploadLinkItems","sysAdminListShareLinksByUser","share_link_list","sort","a","b","sysAdminListUploadLinksByUser","upload_link_list","parent_group_id","created_at","Groups","sysAdminListGroupsJoinedByUser","group_list","SysAdminCreateRepoDialog","handleRepoNameChange","repoName","ownerEmail","createRepo","option","UserItem","isOperationShow","deleteShareItem","user_email","onChangeUserPermission","permission","currentPermission","getSharedPermission","SharePermissionEditor","permissions","onPermissionChanged","UserList","SysAdminShareToUser","_React$Component3","selectedOption","setPermission","shareToUser","sysAdminAddRepoSharedItem","newItems","sharedItems","refs","userSelect","clearSelect","response","useremail","sysAdminDeleteRepoSharedItem","userEmail","sysAdminUpdateRepoSharedItemPermission","updateSharedItems","sharedItem","sharedItemUsername","is_admin","sysAdminListRepoSharedItems","colSpan","GroupItem","group_id","group_name","GroupList","SysAdminShareToGroup","loadOptions","shareableGroups","obj","listSharedGroups","shareToGroup","groups","sharedItemGroupID","SeahubSelect","maxMenuHeight","components","NoOptionsMessage","NoGroupMessage","SysAdminShareDialog","getInitialActiveTab","activeTab","renderDirContent","enableDirPrivateShare","isGroupOwnedRepo","pills","NavItem","NavLink","TabContent","TabPane","tabId","itemType","itemPath","isRepoOwner","maxWidth","SysAdminLibHistorySettingDialog","days","keepDays","autoHistory","expireDays","sysAdminUpdateRepoHistorySetting","keep_days","errorInfo","num","setLimitDays","allHistory","noHistory","sysAdminGetRepoHistorySetting","sortByFileCount","sortBySize","initialSortIcon","onDeleteRepo","onTransferRepo","isRepoDeleted","toggleShareDialog","toggleHistorySettingDialog","isShareDialogOpen","isHistorySettingDialogOpen","getOperations","departmentID","file_count","ModalPortal","repoEncrypted","userPerm","DeleteRepoDialog","AllRepos","toggleCreateRepoDialog","isCreateRepoDialogOpen","getReposByPage","sysAdminListAllRepos","Owner","sysAdminCreateRepo","targetRepo","searchRepos","repoNameOrID","getValueLength","_this$state3$currentP","str","code","charCodeAt","ReposNav","description","SystemRepo","sysAdminGetSystemRepoInfo","trashReposExpireDays","onRestoreRepo","sysAdminDeleteTrashRepo","sysAdminRestoreTrashRepo","toggleDeleteRepoDialog","isDeleteRepoDialogOpen","toggleRestoreRepoDialog","isRestoreRepoDialogOpen","delete_time","TrashRepos","toggleCleanTrashDialog","isCleanTrashDialogOpen","sysAdminListTrashRepos","cleanTrash","sysAdminCleanTrashRepos","sysAdminSearchTrashRepos","SearchRepos","getRepos","sysAdminSearchRepos","handleNameInputChange","offset","Dirent","mtime","last_update","file_size","is_file","DirPath","onPathClick","turnPathToLink","pathList","split","nodePath","isSystemRepo","currentPath","pathElem","DirentItem","openFolder","dirent","deleteDirent","downloadDirent","fromSystemRepo","getDirentIcon","DirContent","direntList","DirView","loadDirentList","toggleNewFolderDialog","isNewFolderDialogOpen","createNewFolder","folderName","getFileName","sysAdminCreateSysRepoFolder","new_dirent","direntPath","joinPath","sysAdminListRepoDirents","_res$data","is_system_library","dirent_list","encodePath","history","replaceState","sysAdminDeleteRepoDirent","sysAdminGetRepoFileDownloadURL","download_url","onFileInputChange","sydAdminGetSysRepoItemUploadURL","formData","FormData","append","axios","post","upload_link","fileObj","newDirent","Date","getTime","dirs","splice","DirPathBar","CreateFolderDialog","SysAdminCreateGroupDialog","groupName","createGroup","SysAdminTransferGroupDialog","submitBtnDisabled","receiver","transferGroup","deleteGroup","groupUrl","toggleCreateGroupDialog","isCreateGroupDialogOpen","getGroupListByPage","sysAdminListAllGroups","groupList","OnwerEmail","sysAdminCreateNewGroup","newGroupList","sysAdminDismissGroupByID","receiverEmail","sysAdminTransferGroup","searchGroups","SearchGroups","getGroups","sysAdminSearchGroups","unshareRepo","toggleUnshareRepoDialog","isUnshareRepoDialogOpen","dialogMsg","shared_by","shared_by_name","GroupRepos","sysAdminUnshareRepoFromGroup","sysAdminListGroupRepos","libraries","GroupNav","SysAdminGroupAddMemberDialog","selectedOptions","isSubmitBtnDisabled","addMembers","SysAdminGroupRoleEditor","removeMember","updateMemberRole","GroupMembers","sysAdminListGroupMembers","memberList","members","toggleAddMemgerDialog","isAddMemberDialogOpen","sysAdminAddGroupMember","newMemberList","sysAdminDeleteGroupMember","sysAdminUpdateGroupMemberRole","Departments","AddDepartDialog","validateName","parentGroup","parentGroupID","sysAdminAddNewDepartment","departName","onAddNewDepartment","header","RenameDepartmentDialog","sysAdminRenameDepartment","departmentName","onDepartmentNameChanged","onAfterModelOpened","newInput","focus","select","onOpened","innerRef","DeleteDepartmentDialog","deleteDepart","group","sysAdminDeleteDepartment","onDeleteDepartment","tipMessage","SetGroupQuotaDialog","setGroupQuota","newQuota","sysAdminUpdateDepartmentQuota","onSetQuota","toggleRenameDialog","isRenameDialogOpen","newHref","onSetDepartmentQuota","DepartmentList","listDepartments","sysAdminListAllDepartments","toggleAddDepartDialog","isShowAddDepartDialog","dept","newDepartment","topbarChildren","AddMemberDialog","orgSelect","onAddNewMembers","AddRepoDialog","sysAdminAddRepoInDepartment","onAddNewRepo","Department","getDepartmentInfo","sysAdminGetDepartmentInfo","ancestorGroups","ancestor_groups","toggleRenameDepartmentDialog","isShowRenameDepartmentDialog","toggleAddRepoDialog","isShowAddRepoDialog","toggleAddMemberDialog","isShowAddMemberDialog","toggleAddDepartmentDialog","isShowAddDepartmentDialog","topBtn","AddDepartmentDialog","ancestor","SubDepartments","listSubDepartments","onSubDepartmentNameChanged","DeleteMemberDialog","deleteMember","member","onMemberChanged","MemberItem","toggleMemberRoleMenu","showRoleMenu","onChangeUserRole","roles","RoleEditor","toggleItemFreezed","showDeleteMemberDialog","DepartmentMembers","listMembers","currentPageInfo","membersErrorMsg","toggleCancel","isFreezed","deletedMember","newMembers","_toConsumableArray","sysAdminDeleteRepoInDepartment","onRepoChanged","RepoItem","showDeleteRepoDialog","DepartmentDetail","listGroupRepo","deletedRepo","newRepo","getShareLinksByPage","sortByTime","sortByCount","deleteShareLink","renderExpiration","expire_date","expire_time","is_expired","deleteIcon","onMouseOver","onMouseOut","creator_email","creator_name","ctime","ShareLinks","_this4$state","sysAdminListShareLinks","shareLinkList","_this4$state2","linkToken","newShareLinkList","LinksNav","getUploadLinksByPage","deleteUploadLink","UploadLinks","sysAdminListAllUploadLinks","uploadLinkList","newUploadLinkList","SysAdminAddOrgDialog","orgName","addOrg","deleteOrg","sysAdminGetOrg","repoCount","Orgs","getItemsByPage","sysAdminListOrgs","orgList","organizations","toggleAddOrgDialog","isAddOrgDialogOpen","orgID","orgInfo","sysAdminUpdateOrg","newOrgList","org","sysAdminAddOrg","sysAdminDeleteOrg","SearchOrgs","sysAdminSearchOrgs","organization_list","SysAdminSetOrgNameDialog","updateName","SysAdminSetOrgMaxUserNumberDialog","isSetNameDialogOpen","toggleSetMaxUserNumberDialog","isSetMaxUserNumberDialogOpen","_this$props$orgInfo","max_user_number","enable_saml_login","url_prefix","metadata_url","domain","Row","md","serviceURL","SysAdminSetOrgQuotaDialog","updateMaxUserNumber","OrgInfo","newOrgInfo","newValue","maxUserNumber","OrgNav","SysAdminUserMembershipEditor","updateMembership","toggleResetPasswordDialog","isResetPasswordDialogOpen","statusValue","membershipValue","active","is_org_staff","OrgUsers","newUserInfo","sysAdminAddOrgUser","sysAdminDeleteOrgUser","sysAdminUpdateOrgUser","isOrgStaff","sysAdminListOrgUsers","OrgGroups","sysAdminListOrgGroups","OrgRepos","sysAdminListOrgRepos","SysAdminAddInstitutionDialog","addInstitution","getInstitutionsByPage","deleteInstitution","institutionName","Institutions","sysAdminListInstitutions","institutionList","institution_list","toggleAddInstitutionDialog","isAddInstitutionDialogOpen","sysAdminAddInstitution","institutionID","sysAdminDeleteInstitution","institutionInfo","user_count","quota_used","SysAdminSetInstitutionQuotaDialog","InstitutionInfo","sysAdminUpdateInstitution","newInstitutionInfo","sysAdminGetInstitution","InstitutionNav","getInstitutionUsersByPage","setAdmin","toggleSetAdminDialog","isSetAdminDialogOpen","is_institution_admin","InstitutionUsers","sysAdminListInstitutionUsers","sysAdminUpdateInstitutionUser","sysAdminAddInstitutionUserBatch","successArray","failedArray","sysAdminDeleteInstitutionUser","InstitutionAdmins","sysAdminListInstitutionAdmins","LogsExportExcelDialog","downloadExcel","isValidDateStr","startDateStr","endDateStr","logType","isValid","handleStartChange","handleEndChange","getLogsByPage","login_ip","log_success","login_time","LoginLogs","toggleExportExcelDialog","isExportExcelDialogOpen","sysAdminListLoginLogs","logList","login_log_list","LogsNav","FilterMenu","toggleMenu","isMenuShown","toggleFreezeItem","onItemClick","filterItems","filterBy","ToggleFilter","toggleFilter","toggleFilterByUser","filterByUser","toggleFilterByRepo","filterByRepo","freezed","userFilteredBy","repoFilteredBy","isHighlighted","event_type","ip","device","time","file_or_dir_name","FileAccessLogs","sysAdminListFileAccessLogs","file_access_log_list","updateURL","delete","toggleCommitDetailsDialog","isCommitDetailsDialogOpen","showCommitDetails","file_operation","repo_encrypted","commit_id","FileUpdateLogs","sysAdminListFileUpdateLogs","file_update_log_list","getActionTextByEType","etype","getShareTo","share_type","to_user_email","to_user_name","to_group_id","to_group_name","from_user_email","from_user_name","sharePerms","folder","date","SharePermissionLogs","sysAdminListSharePermissionLogs","share_permission_log_list","Section","headingText","SettingItemBase","helpTip","displayName","mainContent","extraContent","WebSettingInput","toggleBtns","isBtnsShown","hideBtns","onInputChange","saveSetting","keyText","inputType","onFocus","onBlur","onMouseDown","WebSettingFile","postFile","filePath","fileWidth","fileHeight","height","WebSettingCheckbox","valueToNum","WebSettings","sysAdminSetSysSettingInfo","config_dict","fileType","sysAdminUpdateLogo","sysAdminUpdateFavicon","sysAdminUpdateLoginBG","logoPath","logo_path","faviconPath","favicon_path","loginBGPath","login_bg_image_path","mediaUrl","sysAdminGetSysSettingInfo","InputItem","FileItem","CheckboxItem","SysAdminAddSysNotificationDialog","addNotification","deleteNotification","setToCurrent","is_current","Notifications","toggleAddNotificationDialog","isAddNotificationDialogOpen","sysAdminAddSysNotification","notificationList","notification","sysAdminDeleteSysNotification","sysAdminSetSysNotificationToCurrent","sysAdminListAllSysNotifications","notifications","Table","records","record","detail","suggestion","FileScanRecords","listFileScanRecords","record_list","WorkWeixinDepartmentMembersList","newUsersTempObj","checkedDepartmentId","isMembersListLoading","canCheckUserIds","membersList","avatar","onUserChecked","userid","mobile","hover","isCheckedAll","onAllUsersChecked","WorkWeixinDepartmentsTreeNode","toggleChildren","stopPropagation","isChildrenShow","dropdownToggle","dropdownOpen","importDepartmentDialogToggle","depart","renderTreeNodes","departmentsTree","onChangeDepartment","changeDept","toggleClass","classNames","nodeInnerClass","direction","opacity","WorkWeixinDepartmentsTreePanel","isTreeLoading","ImportWorkWeixinDepartmentDialog","onImportDepartmentSubmit","departmentsCount","membersCount","WorkWeixinDepartments","getDepartmentsTree","childIds","parentIds","parentid","intersection","v","rootIds","cloneData","deepCopy","father","branchArr","child","getWorkWeixinDepartmentsList","adminListWorkWeixinDepartments","importDepartmentChildrenCount","importDepartmentMembersCount","membersTempObj","handleError","getWorkWeixinDepartmentMembersList","department_id","adminListWorkWeixinDepartmentMembers","fetch_child","userlist","getCanCheckUserIds","userIds","keys","newUsersTempList","JSON","stringify","adminAddWorkWeixinUsersBatch","handleSubmitSuccess","fails","_success$i","j","departmentId","k","importDepartment","isImportDepartmentDialogShow","adminImportWorkWeixinDepartment","handleImportDepartmentSubmitSuccess","handleImportDepartmentSubmitFailed","successes","successMsg","department_name","api_user_name","fail","failName","canImportDepartment","DingtalkDepartmentMembersList","DingtalkDepartmentsTreeNode","DingtalkDepartmentsTreePanel","ImportDingtalkDepartmentDialog","DingtalkDepartments","getDingtalkDepartmentsList","adminListDingtalkDepartments","getDingtalkDepartmentMembersList","adminListDingtalkDepartmentMembers","adminAddDingtalkUsersBatch","adminImportDingtalkDepartment","getInviteTypeText","invite_type","inviter_email","inviter_name","accept_time","accepter_email","accepter_name","invite_time","Invitations","sysAdminListInvitations","invitation_list","targetItem","sysAdminDeleteInvitation","deleteItemInBatch","sysAdminDeleteExpiredInvitations","prevItems","totalItemCount","TermsEditorDialog","event","isContentChanged","currentContent","getCurrentContent","onCommit","onCloseEditorDialog","simpleEditor","hasContentChange","getMarkdown","setSimpleEditorRef","editor","content","wrapClassName","contentClassName","SimpleEditor","onRef","defaultProps","AddOrUpdateTermDialog","handleNameChange","handleVersionNumberChange","versionNumber","handleTextChange","setActive","setInActive","addTerm","isNaN","isUpdate","updateTerm","onContentClick","isConditionsEditorDialogShow","onUpdateContent","oldTermObj","version_number","activate_time","TermsPreviewWidget","hrefReg","imageReg1","imageReg2","linkReg1","linkReg2","markdownContent","previewText","newMarkdownContent","hrefs","match","_getLinks","hrefObj","links","images","imageSrcs","imageSrcs1","getLinks","TermsPreviewDialog","onClosePreviewDialog","toggleUpdateDialog","isUpdateDialogOpen","toggleTermsContentDialog","isTermsPerviewDialogOpen","deleteTerm","itemContent","mdFile","processor","process","result","innerHtml","String","previewContent","getPreviewContent","TermsPerviewDialog","TermsAndConditions","toggleAddTermDialog","isAddTermDialogOpen","sysAdminAddTermAndCondition","reload","termID","sysAdminUpdateTermAndCondition","termList","sysAdminDeleteTermAndCondition","sysAdminListTermsAndConditions","term_and_condition_list","VirusFileItem","handleFile","virusFile","virus_id","fileStatus","fileOpList","has_deleted","has_ignored","repo_owner","file_path","virusFiles","AllVirusFiles","listVirusFiles","virus_file_list","virusID","op","request","deleteVirusFile","toggleIgnoreVirusFile","virus_file","toggleItemSelected","isAllItemsSelected","toggleAllSelected","UnhandledVirusFiles","prevState","handleSelectedItems","virusIDs","batchProcessVirusFiles","fileList","find","deleteSelectedItems","ignoreSelectedItems","selectedItems","getOperationText","operationType","getOperationDetail","ownerPageUrl","userPageUrl","detailText","repoPageUrl","groupPageUrl","from","AdminOperationLogs","sysAdminListAdminLogs","login_success","AdminLoginLogs","sysAdminListAdminLoginLogs","AbuseReports","listAbuseReports","sysAdminListAbuseReports","abuseReportList","abuse_report_list","updateAbuseReport","handled","abuseReportId","sysAdminUpdateAbuseReport","AbuseReportList","fileUrl","reporter","abuse_type","SysAdmin","getCurrentTabForPageList","pageList","urlPartList","urlBase","jlen","param","isDesktop","tmpTab","commonProps","Router","StatisticReport","DepartmentLibraries","LDAPUsers","UserOwnedRepos","UserSharedRepos","UserLinks","UserGroups","MediaQuery","zIndex","ReactDom","getElementById","module","exports","createCommonjsModule","fn","getCjsExportFromNamespace","n","hasOwnProperty","colorName","conversions","reverseKeywords","convert","rgb","channels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","ansi16","ansi256","hcg","apple","gray","model","Error","defineProperty","comparativeDistance","x","y","Math","pow","h","l","r","g","min","max","delta","rdif","gdif","bdif","s","diff","diffc","c","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","z","t1","t2","t3","smin","lmin","hi","floor","f","p","q","t","sl","vmin","wh","bl","ratio","m","y2","x2","z2","atan2","PI","sqrt","hr","cos","sin","round","ansi","mult","rem","string","toUpperCase","colorString","char","join","integer","hue","chroma","pure","w","mg","buildGraph","graph","models","parent","deriveBFS","fromModel","queue","pop","adjacents","adjacent","node","wrapConversion","toModel","cur","conversion","route","wrapRaw","wrappedFn","prototype","wrapRounded","routes","raw","colorConvert","colorName$1","getRgba","getHsla","getRgb","getHsl","getHwb","getAlpha","hexString","rgbString","rgbaString","percentString","percentaString","hslString","hslaString","hwbString","abbr","rgba","per","hexAlpha","parseFloat","scale","alpha","hsla","vals","hexDouble","reverseNames","Color","valid","setValues","red","lightness","whiteness","cyan","setSpace","rgbArray","hslArray","hsvArray","hwbArray","cmykArray","rgbaArray","hslaArray","setChannel","green","blue","saturation","saturationv","blackness","magenta","yellow","black","rgbNumber","luminosity","lum","chan","contrast","color2","lum1","lum2","level","contrastRatio","dark","light","negate","lighten","darken","saturate","desaturate","whiten","blacken","greyscale","clearer","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w1","w2","toJSON","prop","console","spaces","maxes","getValues","space","charAt","capped","chans","sname","svalues","chartjsColor","isValidKey","helpers","noop","uid","isNullOrUndef","isObject","isFinite","_isFinite","_x","Number","valueOrDefault","valueAtIndexOrDefault","thisArg","each","loopable","reverse","arrayEquals","a0","a1","ilen","v0","v1","create","klen","_merger","tval","sval","merge","_mergerIf","mergeIf","sources","merger","extend","dst","inherits","extensions","me","ChartElement","constructor","Surrogate","__super__","_deprecated","scope","previous","warn","helpers_core","callCallback","array","fromIndex","getValueOrDefault","getValueAtIndexOrDefault","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","helpers_easing","easingEffects","RAD_PER_DEG","DOUBLE_PI","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","exports$1","clear","chart","ctx","clearRect","roundedRect","radius","left","top","bottom","moveTo","arc","closePath","rect","drawPoint","rotation","xOffset","yOffset","cornerRadius","rad","save","translate","drawImage","restore","beginPath","lineTo","SQRT1_2","stroke","_isPointInArea","point","area","epsilon","clipArea","clip","unclipArea","flip","stepped","steppedLine","midpoint","bezierCurveTo","controlPointPreviousX","controlPointNextX","controlPointPreviousY","controlPointNextY","helpers_canvas","drawRoundedRectangle","defaults","_set","defaultColor","defaultFontColor","defaultFontFamily","defaultFontSize","defaultFontStyle","defaultLineHeight","showLines","core_defaults","toFontString","font","family","helpers_options","toLineHeight","matches","toPadding","_parseFont","globalDefaults","global","fontFamily","lineHeight","fontStyle","resolve","inputs","context","cacheable","exports$2","_factorize","log10","exponent","log","LOG10E","powerOf10","helpers_math","getRtlAdapter","rectX","setWidth","textAlign","align","xPlus","leftForLtr","itemWidth","getLtrAdapter","_itemWidth","helpers$1","easing","canvas","math","rtl","overrideTextDirection","original","getPropertyValue","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","interpolate","start","view","ease","actual","origin","c0","c1","Element","configuration","initialize","_type","hidden","pivot","_view","_model","_start","transition","tooltipPosition","hasValue","isNumber","core_element","exports$3","currentStep","numSteps","render","onAnimationProgress","onAnimationComplete","core_animation","animation","onProgress","onComplete","core_animations","animations","addAnimation","lazy","now","animating","requestAnimationFrame","cancelAnimation","findIndex","requestAnimFrame","startDigest","advance","nextStep","arrayEvents","listenArrayEvents","listener","_chartjs","listeners","configurable","enumerable","method","base","unlistenArrayEvents","stub","DatasetController","datasetElementType","dataElementType","_datasetElementOptions","_dataElementOptions","linkScales","addElements","getMeta","updateIndex","meta","dataset","getDataset","scalesOpts","xAxisID","yAxisID","getDatasetMeta","getScaleForId","scaleID","_getValueScaleId","_getIndexScaleId","_getValueScale","_getIndexScale","reset","_update","destroy","_data","createMetaDataset","_chart","_datasetIndex","createMetaData","_index","metaData","addElementAndReset","element","updateElement","buildOrUpdateElements","isExtensible","resyncElements","_configure","_config","_cachedDataOpts","update","easingValue","draw","getStyle","_resolveDatasetElementOptions","_resolveDataElementOptions","readKey","datasetOpts","custom","elementOptions","cached","dataIndex","freeze","removeHoverStyle","$previousStyle","setHoverStyle","getHoverColor","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","_removeDatasetHoverStyle","_setDatasetHoverStyle","hoverOptions","prev","numMeta","numData","insertElements","onDataPush","onDataPop","onDataShift","shift","onDataSplice","onDataUnshift","core_datasetController","TAU","clipArc","startAngle","endAngle","pixelMargin","angleMargin","outerRadius","innerRadius","drawFullCircleBorders","vm","inner","fullCircles","drawBorder","borderAlign","lineWidth","lineJoin","element_arc","inLabelRange","mouseX","hoverRadius","inRange","chartX","chartY","pointRelativePosition","getAngleFromPoint","angle","betweenAngles","withinRadius","getCenterPoint","halfAngle","halfRadius","getArea","centreAngle","rangeFromCentre","circumference","fillStyle","strokeStyle","valueOrDefault$1","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","capBezierPoints","element_line","currentVM","spanGaps","points","_children","globalOptionLineElements","lastDrawnIndex","_loop","previousItem","skip","lineCap","setLineDash","lineDashOffset","valueOrDefault$2","defaultColor$1","xRange","abs","hitRadius","yRange","mouseY","pointStyle","element_point","inXRange","inYRange","chartArea","defaultColor$2","isVertical","getBarBounds","x1","y1","half","swap","orig","v2","parseBorderSkipped","edge","borderSkipped","horizontal","parseBorderWidth","maxW","maxH","boundingRects","bounds","border","outer","skipX","skipY","rectangle","element_rectangle","rects","fillRect","Arc","Point","Rectangle","deprecated","valueOrDefault$3","computeMinSampleSize","pixels","curr","_length","getTicks","getPixelForTick","computeFitCategoryTraits","ruler","thickness","barThickness","stackCount","categoryPercentage","barPercentage","chunk","computeFlexCategoryTraits","next","percent","end","mode","gridLines","offsetGridLines","bar","controller_bar","scaleOpts","stack","minBarLength","maxBarThickness","_ruler","getRuler","_xScale","_yScale","datasetLabel","_updateElementGeometry","vscale","getBasePixel","isHorizontal","vpixels","calculateBarValuePixels","ipixels","calculateBarIndexPixels","head","center","_getStacks","last","metasets","_getMatchingVisibleMetas","stacked","stacks","getStackCount","getStackIndex","getPixelForValue","_startPixel","_endPixel","imeta","ivalue","stackLength","_parseValue","range","stackIndex","indexOpts","valueOpts","valueOrDefault$4","resolve$1","position","dataPoint","xLabel","controller_bubble","xScale","yScale","dsIndex","getPixelForDecimal","NaN","_options","valueOrDefault$5","PI$1","DOUBLE_PI$1","HALF_PI$1","animateRotate","animateScale","legendCallback","listItem","createElement","setAttribute","appendChild","createTextNode","outerHTML","generateLabels","controller","legendItem","cutoutPercentage","dataLabel","controller_doughnut","getRingIndex","ringIndex","isDatasetVisible","maxHeight","opts","ratioX","ratioY","offsetX","offsetY","arcs","cutout","chartWeight","_getRingWeight","startX","startY","endX","endY","contains0","contains90","contains270","minX","minY","maxX","maxY","getMaxBorderWidth","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","animationOpts","centerX","centerY","calculateCircumference","hoverWidth","ringWeightOffset","dataSetIndex","axis","horizontalBar","controller_horizontalBar","valueOrDefault$6","resolve$2","isPointInArea","scaleClip","halfBorderWidth","tickOpts","defaultClip","toClip","controller_line","showLine","_showLine","lineTension","_scale","updateBezierControlPoints","lineModel","calculatePointY","lineOptions","ds","dsMeta","stackedRightValue","rightValue","sumPos","sumNeg","getRightValue","_getSortedVisibleDatasetMetas","controlPoints","capControlPoint","pt","cubicInterpolationMode","splineCurveMonotone","splineCurve","nextItem","resolve$3","angleLines","circular","pointLabels","controller_polarArea","starts","_starts","angles","_angles","_updateRadius","countVisibleElements","_computeAngle","minSize","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getDistanceFromCenterForValue","resetRadius","doughnut","controller_pie","valueOrDefault$7","controller_radar","pointPosition","getPointPositionForValue","scatter","controllers","bubble","polarArea","pie","radar","getRelativePosition","native","parseVisibleItems","handler","metadata","getIntersectItems","getNearestItems","intersect","distanceMetric","minDistance","POSITIVE_INFINITY","nearestItems","getDistanceMetricForAxis","useX","useY","pt1","pt2","deltaX","deltaY","indexMode","core_interaction","modes","single","nearest","intersectsItem","filterByPosition","where","pos","sortByWeight","wrapBoxes","boxes","box","layoutBoxes","setLayoutDims","layouts","fullWidth","availableWidth","vBoxMaxWidth","hBoxMaxHeight","buildLayoutBoxes","leftAndTop","rightAndBottom","vertical","getCombinedMax","maxPadding","updateDims","newWidth","newHeight","getPadding","boxPadding","outerWidth","outerHeight","sizes","handleMaxPadding","updatePos","change","getMargins","marginForPositions","positions","margin","fitBoxes","refit","changed","refitBoxes","placeBoxes","userPadding","core_layouts","addBox","_layers","removeBox","layoutItem","configure","layoutOptions","availableHeight","verticalBoxes","horizontalBoxes","platform_basic","acquireContext","getContext","platform_dom","stylesheet","__proto__","EXPANDO_KEY","CSS_PREFIX","CSS_SIZE_MONITOR","CSS_RENDER_MONITOR","CSS_RENDER_ANIMATION","ANIMATION_START_EVENTS","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","readUsedSize","property","initCanvas","renderHeight","getAttribute","renderWidth","initial","displayWidth","aspectRatio","displayHeight","eventListenerOptions","supports","addEventListener","passive","addListener","removeListener","removeEventListener","createEvent","nativeEvent","fromNativeEvent","throttled","ticking","createDiv","cls","el","createResizer","maxSize","resizer","expand","shrink","_reset","scrollLeft","scrollTop","onScroll","watchForRender","expando","proxy","renderProxy","animationName","reflow","offsetParent","classList","add","unwatchForRender","remove","addResizeListener","container","maintainAspectRatio","parentNode","clientWidth","insertBefore","firstChild","removeResizeListener","removeChild","injectCSS","rootNode","css","containsStyles","platform_dom$2","disableCSSInjection","_enabled","_ensureLoaded","root","getRootNode","host","releaseContext","removeAttribute","proxies","addEvent","removeEvent","implementation","plugins","core_plugins","_plugins","_cacheId","register","plugin","unregister","idx","getAll","hook","descriptor","descriptors","cache","$plugins","_invalidate","core_scaleService","constructors","registerScaleType","scaleConstructor","scaleDefaults","getScaleConstructor","getScaleDefaults","updateScaleDefaults","additions","addScalesToLayout","valueOrDefault$8","getRtlHelper","enabled","titleFontStyle","titleSpacing","titleMarginBottom","titleFontColor","titleAlign","bodySpacing","bodyFontColor","bodyAlign","footerFontStyle","footerSpacing","footerMarginTop","footerFontColor","footerAlign","yPadding","xPadding","caretPadding","caretSize","multiKeyBackground","displayColors","beforeTitle","tooltipItems","labelCount","afterTitle","beforeBody","beforeLabel","labelColor","labelTextColor","afterLabel","afterBody","beforeFooter","footer","afterFooter","positioners","average","eventPosition","nearestElement","d","distanceBetweenPoints","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","indexScale","valueScale","getLabelForIndex","getBaseModel","tooltipOpts","xAlign","yAlign","textDirection","_bodyFontFamily","bodyFontFamily","_bodyFontStyle","bodyFontStyle","_bodyAlign","bodyFontSize","_titleFontFamily","titleFontFamily","_titleFontStyle","titleFontSize","_titleAlign","_footerFontFamily","footerFontFamily","_footerFontStyle","footerFontSize","_footerAlign","legendColorBackground","getTooltipSize","tooltip","body","combinedBodyLength","reduce","bodyItem","before","lines","after","titleLineCount","footerLineCount","widthPadding","maxLineWidth","measureText","fontString","determineAlignment","lf","rf","olf","orf","yf","midX","midY","getBackgroundPoint","alignment","paddingAndSize","radiusAndPadding","getAlignedX","getBeforeAfterBodyLines","exports$4","_lastActive","getTitle","getBeforeBody","getBody","bodyItems","getAfterBody","getFooter","existingModel","_active","backgroundPoint","tooltipSize","caretX","caretY","labelColors","labelTextColors","_eventPosition","itemSort","dataPoints","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","tmp","drawTitle","rtlHelper","textBaseline","fillText","drawBody","textColor","drawColorBoxes","xLinePadding","colorX","fillLineOfText","bodyAlignForCalculation","rtlColorX","strokeRect","drawFooter","drawBackground","quadraticCurveTo","hasTooltipContent","globalAlpha","handleEvent","getElementsAtEventForMode","positioners_1","core_tooltip","valueOrDefault$9","mergeScaleConfig","slen","mergeConfig","initConfig","updateConfig","newOptions","ensureScalesHaveIDs","buildOrUpdateScales","nextAvailableScaleId","axesOpts","prefix","hasId","positionIsHorizontal","compare2Level","l1","l2","events","onHover","animationDuration","responsive","responsiveAnimationDuration","Chart","construct","_bufferedRender","instances","retinaScale","devicePixelRatio","bindEvents","resize","initToolTip","stop","silent","getMaximumWidth","getMaximumHeight","newSize","onResize","scalesOptions","scaleOptions","xAxisOptions","yAxisOptions","updated","dtype","dposition","isDefault","scaleType","scaleClass","mergeTicksOptions","hasUpdated","buildOrUpdateControllers","newControllers","destroyDatasetMeta","order","ControllerClass","resetElements","updateLayout","updateDatasets","lastActive","_bufferedRequest","_idx","updateDataset","animationOptions","animationObject","easingFunction","stepDecimal","layers","drawDatasets","_drawTooltip","_getSortedDatasetMetas","filterVisible","drawDataset","getElementAtEvent","getElementsAtEvent","getElementsAtXAxis","getDatasetAtEvent","_meta","generateLegend","unbindEvents","toBase64Image","toDataURL","_chartInstance","_listeners","eventHandler","updateHoverStyle","bufferedRequest","core_controller","Controller","types","configMerge","scaleMerge","core_helpers","parseMaxStyle","styleValue","parentProperty","valueInPixels","isConstrainedValue","getConstraintDimension","domNode","maxStyle","percentageProperty","defaultView","_getParentNode","constrainedNode","getComputedStyle","constrainedContainer","hasCNode","hasCContainer","infinity","collection","filterCallback","filtered","findNextWhere","arrayToSearch","startIndex","findPreviousWhere","almostEquals","almostWhole","rounded","NEGATIVE_INFINITY","sign","toRadians","toDegrees","radians","_decimalPlaces","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","aliasPixel","pixelWidth","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","EPSILON","pointBefore","pointCurrent","pointAfter","alphaK","betaK","tauK","squaredMagnitude","pointsWithTangents","deltaK","mK","pointsLen","slopeDeltaX","loop","niceNum","fraction","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","evt","originalEvent","srcElement","boundingRect","getBoundingClientRect","touches","clientX","clientY","paddingLeft","paddingTop","paddingRight","paddingBottom","getConstraintWidth","getConstraintHeight","_calculatePadding","parentDimension","cw","clientHeight","ch","currentStyle","forceRatio","pixelRatio","pixelSize","longestText","arrayOfThings","gc","garbageCollect","thing","nestedThing","longest","gcLen","textWidth","numberOfLabelLines","numberOfLines","CanvasGradient","colorValue","CanvasPattern","abstract","DateAdapter","formats","parse","startOf","endOf","_create","override","core_adapters","_date","core_ticks","formatters","tickValue","logDelta","tickString","logTick","numExponential","toExponential","numDecimal","toFixed","logarithmic","remain","valueOrDefault$a","sample","arr","numItems","increment","getPixelForGridLine","validIndex","lineValue","caches","computeLabelSizes","tickFonts","tickFont","nestedLabel","widest","highest","widths","heights","offsets","widestLabelSize","highestLabelSize","major","minor","valueAt","first","getTickMarkLength","drawTicks","tickMarkLength","getScaleLabelHeight","parseFontOptions","nestedOpts","fontColor","parseTickFontOptions","nonSkipped","ticksToFilter","getEvenSpacing","calculateSpacing","majorIndices","axisLength","ticksLimit","factors","factor","evenMajorSpacing","spacing","getMajorIndices","skipMajors","tick","ceil","majorStart","majorEnd","drawOnChartArea","zeroLineWidth","zeroLineColor","zeroLineBorderDash","zeroLineBorderDashOffset","scaleLabel","labelString","minRotation","maxRotation","mirror","autoSkip","autoSkipPadding","labelOffset","Scale","zeroLineIndex","_ticks","_getLabels","xLabels","yLabels","beforeUpdate","margins","samplingEnabled","sampleSize","_labelSizes","_maxLabelLines","longestLabelWidth","longestTextCache","_gridLineItems","_labelItems","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","_convertTicksToLabels","beforeCalculateTickRotation","calculateTickRotation","afterCalculateTickRotation","beforeFit","fit","afterFit","_ticksToDraw","_autoSkip","afterUpdate","startPixel","endPixel","reversePixels","_reversePixels","beforeTickToLabelConversion","convertTicksToLabels","userCallback","afterTickToLabelConversion","labelSizes","maxLabelWidth","maxLabelHeight","tickWidth","maxLabelDiagonal","numTicks","labelRotation","_isVisible","_getLabelSizes","scaleLabelOpts","gridLineOpts","isBottom","firstLabelSize","lastLabelSize","lineSpace","tickPadding","isRotated","angleRadians","cosRotation","sinRotation","labelHeight","offsetLeft","offsetRight","labelWidth","handleMargins","isFullWidth","rawValue","_getScaleLabel","getValueForPixel","decimal","getDecimalForPixel","getBaseValue","avgMajorSpacing","_tickSize","numMajorIndices","optionTicks","rot","_computeGridLineItems","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","lineColor","ticksLength","tl","axisWidth","axisHalfWidth","alignPixel","alignBorderValue","_computeLabelItems","lineCount","textOffset","isMirrored","fonts","_drawGrid","firstLineWidth","lastLineWidth","_drawLabels","_drawTitle","scaleLabelX","scaleLabelY","scaleLabelFontColor","scaleLabelFont","scaleLabelPadding","halfLineHeight","isLeft","tz","gz","_draw","core_scale","isNullOrUndef$1","defaultConfig","scale_category","ticksOpts","minIndex","maxIndex","_startValue","_valueRange","valueCategory","_defaults","isNullOrUndef$2","generateTicks","generationOptions","dataRange","niceMin","niceMax","numSpaces","MIN_SPACING","stepSize","unit","maxNumSpaces","maxTicks","precision","rmin","rmax","scale_linearbase","handleTickRangeOptions","minSign","maxSign","setMin","suggestedMin","setMax","getTickLimit","_computeTickLimit","handleDirectionalChanges","numericGeneratorOptions","fixedStepSize","ticksAsNumbers","_endValue","defaultConfig$1","DEFAULT_MIN","DEFAULT_MAX","getOrCreateStack","neg","stackData","relativePoints","updateMinMax","scale_linear","hasStacks","stackValues","_defaults$1","valueOrDefault$b","generateTicks$1","exp","significand","tickVal","endExp","endSignificand","minNotZero","lastTick","defaultConfig$2","nonNegativeOrDefault","scale_logarithmic","IDMatches","valuesPerStack","valuesForType","minVal","maxVal","tickValues","_getFirstTickValue","_valueOffset","_defaults$2","valueOrDefault$c","valueAtIndexOrDefault$1","resolve$4","defaultConfig$3","animate","showLabelBackdrop","backdropColor","backdropPaddingY","backdropPaddingX","getTickBackdropHeight","measureLabelSize","determineLimits","fitWithPointLabels","textSize","plFont","furthestLimits","furthestAngles","_pointLabelSizes","valueCount","getPointPosition","drawingArea","getIndexAngle","hLimits","vLimits","setReductions","getTextAlignForAngle","adjustPointPositionForLabelHeight","drawPointLabels","pointLabelOpts","tickBackdropHeight","outerDistance","extra","pointLabelPosition","pointLabelFontColor","drawRadiusLine","numberOrZero","scale_radialLinear","setCenterPoint","largestPossibleRadius","radiusReductionLeft","radiusReductionRight","radiusReductionTop","radiusReductionBottom","leftMovement","rightMovement","topMovement","bottomMovement","maxRight","maxLeft","maxTop","maxBottom","scalingFactor","distanceFromCenter","thisAngle","getBasePosition","angleLineOpts","tickFontColor","_defaults$3","deprecated$1","resolve$5","valueOrDefault$d","MIN_INTEGER","MIN_SAFE_INTEGER","MAX_INTEGER","MAX_SAFE_INTEGER","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","quarter","year","UNITS","sorter","arrayUnique","hash","out","getMin","getMax","buildLookupTable","timestamps","distribution","lookup","mid","i0","i1","lo","interpolate$1","skey","tkey","span","toTimestamp","input","adapter","_adapter","parser","determineUnitForAutoTicks","minUnit","capacity","interval","determineUnitForFormatting","determineMajorUnit","generate","timeOpts","unitStepSize","weekday","isoWeekday","computeOffsets","setMajorTicks","majorUnit","ticksFromTimestamps","defaultConfig$4","adapters","displayFormat","displayFormats","scale_time","timestamp","labelsAdded","dataLabels","_table","_timestamps","getLabelCapacity","_unit","_majorUnit","_offsets","tooltipFormat","tickFormatFunction","minorFormat","majorFormat","nestedTickOpts","formatter","getPixelForOffset","_getLabelSize","tickLabelWidth","tickFontSize","getLabelWidth","exampleTime","exampleLabel","_defaults$4","category","radialLinear","FORMATS","_id","valueOf","amount","filler","propagate","mappers","boundary","decodeFill","computeLinearBoundary","scaleBottom","scaleTop","scaleZero","computeCircularBoundary","cx","cy","computeBoundary","resolveTarget","visible","createMapper","isDrawable","drawArea","curve0","curve1","len0","len1","doFill","mapper","p0","p1","d0","d1","loopOffset","plugin_filler","afterDatasetsUpdate","$filler","beforeDatasetsDraw","getRtlHelper$1","noop$1","valueOrDefault$e","getBoxWidth","labelOpts","boxWidth","ci","onLeave","lineDash","Legend","legendHitBoxes","_hoveredItem","doughnutMode","beforeBuildLabels","buildLabels","afterBuildLabels","legendItems","labelFont","hitboxes","lineWidths","totalHeight","vPadding","columnWidths","columnHeights","totalWidth","currentColWidth","currentColHeight","lineDefault","legendHeight","legendWidth","cursor","drawLegendBox","SQRT2","halfFontSize","xLeft","yMiddle","alignmentOffset","dimension","blockSize","itemHeight","realX","_getLegendItemAt","hitBox","lh","hoveredItem","createNewLegendAndAttach","legendOpts","plugin_legend","_element","beforeInit","afterEvent","noop$2","Title","titleX","titleY","fontOpts","createNewTitleBlockAndAttach","titleOpts","titleBlock","_adapters","Animation","animationService","Interaction","scaleService","Ticks","Tooltip","pluginService","PluginBase","canvasHelpers","layoutService","LinearScaleBase","klass","cfg","toLowerCase","factory","require","setter","iteratee","accumulator","baseEach","arrayAggregator","baseAggregator","baseIteratee","initializer","func","baseIsEqual","other","baseAssignValue","keyBy","createAggregator","_react","_interopRequireDefault","_propTypes","_isEqual","_keyBy","__esModule","default","_extends","_typeof","Symbol","iterator","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","instance","Constructor","TypeError","_defineProperties","writable","protoProps","staticProps","subClass","superClass","_setPrototypeOf","o","setPrototypeOf","Derived","hasNativeReflectConstruct","Reflect","sham","Proxy","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","self","_possibleConstructorReturn","ReferenceError","getPrototypeOf","NODE_ENV","ChartComponent","chartInstance","onElementsClick","renderChart","redraw","destroyChart","updateChart","nextData","transformDataProp","shadowDataProp","saveCurrentDatasets","isDev","usingCustomKeyProvider","datasetKeyProvider","getLabelAsKey","multipleDatasets","shouldWarn","getCurrentDatasets","memoizeDataProps","currentDatasets","nextDatasets","checkDatasets","currentDatasetsIndexed","pid","otherProps","rest","_this$props4","handleOnClick","oneOfType","isRequired","number","arrayOf","bool","propName","componentName","Doughnut","Pie","_ref2","_React$Component4","_super4","_this6","_ref3","Bar","_React$Component5","_super5","_this7","_ref4","HorizontalBar","_React$Component6","_super6","_this8","_ref5","Radar","_React$Component7","_super7","_this9","_ref6","Polar","_React$Component8","_super8","_this10","_ref7","Bubble","_React$Component9","_super9","_this11","_ref8","Scatter","_React$Component10","_super10","_this12","_ref9","propTypes","PropTypes","cssModule","bordered","borderless","striped","tagPropType","responsiveTag","Tag","ResponsiveTag","attributes","classes","mapToCssModules","responsiveClassName"],"sourceRoot":""}