(this["webpackJsonpseahub-frontend"]=this["webpackJsonpseahub-frontend"]||[]).push([[19],{1669:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var s=a(46),i=a(27),n=a(43),r=a(69),o=a(2),l=a.n(o),c=a(9),d=a.n(c),p=a(301),h=a(22);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}var b=["defaultOpen"],j=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={isOpen:t.defaultOpen||!1},a.toggle=a.toggle.bind(Object(n.a)(a)),a}Object(r.a)(t,e);var a=t.prototype;return a.toggle=function(){this.setState({isOpen:!this.state.isOpen})},a.render=function(){return l.a.createElement(p.a,Object(i.a)({isOpen:this.state.isOpen,toggle:this.toggle},Object(h.n)(this.props,b)))},t}(o.Component);j.propTypes=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({defaultOpen:d.a.bool},p.a.propTypes)},1686:function(e,t,a){a(76),e.exports=a(1756)},1687:function(e,t,a){},174:function(e,t,a){"use strict";var s,i=a(3),n=a(5),r=a(7),o=a(6),l=a(2),c=a.n(l),d=a(121),p=a(106),h=a(107),u=a(1),b=a(8),j=a(4),m=a(19),g=a(0),f=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).queryZipProgress=function(){var e=n.state.zipToken;b.a.queryZipProgress(e).then((function(t){var a=t.data;1==a.failed?(clearInterval(s),n.setState({isLoading:!1,errorMsg:a.failed_reason})):(n.setState({zipProgress:0==a.total?"100%":(a.zipped/a.total*100).toFixed(2)+"%"}),a.total==a.zipped&&(clearInterval(s),n.props.toggleDialog(),location.href="".concat(u.rb,"zip/").concat(e)))})).catch((function(e){clearInterval(s);var t=j.a.getErrorMsg(e);n.setState({isLoading:!1,errorMsg:t})}))},n.cancelZipTask=function(){var e=n.state.zipToken;b.a.cancelZipTask(e).then((function(e){})).catch((function(e){}))},n.toggleDialog=function(){var e=n.state.zipProgress;e&&"100%"!=e&&(clearInterval(s),n.cancelZipTask()),n.props.toggleDialog()},n.state={isLoading:!0,errorMsg:"",zipProgress:null},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.token,i=t.path,n=t.repoID,r=t.target;(a?r.length?b.a.getShareLinkDirentsZipTask(a,i,r):b.a.getShareLinkZipTask(a,i):b.a.zipDownload(n,i,r)).then((function(t){var a=t.data.zip_token;e.setState({isLoading:!1,errorMsg:"",zipToken:a}),e.queryZipProgress(),s=setInterval(e.queryZipProgress,1e3)})).catch((function(t){var a=j.a.getErrorMsg(t);e.setState({isLoading:!1,errorMsg:a})}))}},{key:"render",value:function(){return Object(g.jsxs)(d.a,{isOpen:!0,toggle:this.toggleDialog,children:[Object(g.jsx)(p.a,{toggle:this.toggleDialog,children:Object(u.tb)("Download")}),Object(g.jsx)(h.a,{children:Object(g.jsx)(O,{data:this.state})})]})}}]),a}(c.a.Component),O=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this.props.data,t=e.isLoading,a=e.errorMsg,s=e.zipProgress;return t?Object(g.jsx)(m.a,{}):a?Object(g.jsx)("p",{className:"error mt-4 text-center",children:a}):Object(g.jsx)("p",{className:"mt-4 text-center",children:"".concat(Object(u.tb)("Packaging...")," ").concat(s)})}}]),a}(c.a.Component);t.a=f},1756:function(e,t,a){"use strict";a.r(t);var s=a(68),i=a.n(s),n=a(92),r=a(3),o=a(5),l=a(32),c=a(7),d=a(6),p=a(2),h=a.n(p),u=a(161),b=a.n(u),j=a(31),m=a.n(j),g=a(83),f=a(310),O=a(313),v=a(189),x=a(1669),S=a(12),k=a.n(S),F=a(99),w=a(1),C=a(4),y=a(8),D=a(19),I=a(10),N=a(23),P=a(174),U=a(201),L=a(50),M=a(289),_=a.n(M),T=a(0),z="uploading",R="error",E="isSaving",A="uploaded",B=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).onUploadCancel=function(e){e.preventDefault(),s.props.onUploadCancel(s.props.resumableFile)},s.onUploadRetry=function(e){e.preventDefault(),s.props.onUploadRetry(s.props.resumableFile)},s.formatFileSize=function(e){return"number"!==typeof e?"":e>=1e9?(e/1e9).toFixed(1)+" G":e>=1e6?(e/1e6).toFixed(1)+" M":e>=1e3?(e/1e3).toFixed(1)+" K":e.toFixed(1)+" B"},s.state={uploadState:z},s}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.resumableFile,a=z;t.error?a=R:(0!==t.remainingTime||t.isSaved||(a=E),t.isSaved&&(a=A)),this.setState({uploadState:a})}},{key:"render",value:function(){var e=this.props.resumableFile,t=Math.round(100*e.progress()),a=e.error,s=e.newFileName,i=this.formatFileSize(e.size);return Object(T.jsxs)("tr",{className:"file-upload-item",children:[Object(T.jsx)("td",{className:"upload-name",children:Object(T.jsx)("div",{className:"ellipsis",title:s,children:s})}),Object(T.jsx)("td",{className:"ellipsis",children:Object(T.jsx)("span",{className:"file-size",title:i,children:i})}),Object(T.jsxs)("td",{className:"upload-progress ellipsis",children:[(this.state.uploadState===z||this.state.uploadState===E)&&Object(T.jsxs)(p.Fragment,{children:[e.size>=1e8&&Object(T.jsxs)(p.Fragment,{children:[e.isUploading()&&Object(T.jsxs)("div",{className:"progress-container",children:[Object(T.jsx)("div",{className:"progress",children:Object(T.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t,"%")},"aria-valuenow":t,"aria-valuemin":"0","aria-valuemax":"100"})}),-1===e.remainingTime&&Object(T.jsx)("div",{className:"progress-text",children:Object(w.tb)("Preparing to upload...")}),e.remainingTime>0&&Object(T.jsxs)("div",{className:"progress-text",children:[Object(w.tb)("Remaining")," ",C.a.formatTime(e.remainingTime)]}),0===e.remainingTime&&Object(T.jsx)("div",{className:"progress-text",children:Object(w.tb)("Indexing...")})]}),!e.isUploading()&&Object(T.jsx)("div",{className:"progress-container d-flex align-items-center",children:Object(T.jsx)("div",{className:"progress",children:Object(T.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t,"%")},"aria-valuenow":t,"aria-valuemin":"0","aria-valuemax":"100"})})})]}),e.size<1e8&&Object(T.jsx)("div",{className:"progress-container d-flex align-items-center",children:Object(T.jsx)("div",{className:"progress",children:Object(T.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t,"%")},"aria-valuenow":t,"aria-valuemin":"0","aria-valuemax":"100"})})})]}),this.state.uploadState===R&&Object(T.jsx)("div",{className:"message err-message ml-0",dangerouslySetInnerHTML:{__html:a}})]}),Object(T.jsx)("td",{className:"upload-operation ellipsis",children:Object(T.jsxs)(p.Fragment,{children:[this.state.uploadState===z&&Object(T.jsx)("a",{href:"#",onClick:this.onUploadCancel,children:Object(w.tb)("Cancel")}),this.state.uploadState===R&&Object(T.jsx)("a",{href:"#",onClick:this.onUploadRetry,children:Object(w.tb)("Retry")}),this.state.uploadState===E&&Object(T.jsx)("span",{className:"saving",children:Object(w.tb)("Saving...")}),this.state.uploadState===A&&Object(T.jsx)("span",{className:"uploaded",children:Object(w.tb)("Uploaded")})]})})]})}}]),a}(h.a.Component),q=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.file,t=Object(w.tb)("Please upload files less than {placeholder}M").replace("{placeholder}",w.Qb);return Object(T.jsxs)("tr",{className:"file-upload-item",children:[Object(T.jsx)("td",{className:"upload-name",children:Object(T.jsx)("div",{className:"ellipsis",title:e.name,children:e.name})}),Object(T.jsx)("td",{colSpan:3,className:"error",children:t})]})}}]),a}(h.a.Component),Z=q,G=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).onCancelAllUploading=function(){s.props.onCancelAllUploading()},s.onMinimizeUpload=function(e){e.nativeEvent.stopImmediatePropagation(),s.setState({isMinimized:!s.state.isMinimized})},s.onCloseUpload=function(e){e.nativeEvent.stopImmediatePropagation(),s.props.onCloseUploadDialog()},s.state={isMinimized:!1},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=C.a.formatBitRate(this.props.uploadBitrate),a=Object(w.tb)("File Upload"),s=Object(w.tb)("File Uploading...")+" "+this.props.totalProgress+"% ("+t+")",i=Object(T.jsx)("span",{className:"sf2-icon-minus",onClick:this.onMinimizeUpload}),n=Object(T.jsxs)(p.Fragment,{children:[Object(T.jsx)("span",{className:"sf2-icon-minus",onClick:this.onMinimizeUpload}),Object(T.jsx)("span",{className:"sf2-icon-x1",onClick:this.onCloseUpload})]}),r=this.props,o=r.totalProgress,l=r.allFilesUploaded,c=r.retryFileList;return Object(T.jsxs)("div",{className:"uploader-list-view mw-100",style:{height:this.state.isMinimized?"2.25rem":"20rem"},children:[Object(T.jsxs)("div",{className:"uploader-list-header",children:[Object(T.jsx)("div",{className:"title",children:100===o?a:s}),Object(T.jsx)("div",{className:"uploader-options",children:100===o||l?n:i})]}),Object(T.jsxs)("div",{className:"uploader-list-content",children:[Object(T.jsxs)("div",{className:"text-right mt-2",children:[c.length>0?Object(T.jsx)("span",{className:"cursor-pointer",onClick:this.props.onUploadRetryAll,children:Object(w.tb)("Retry All")}):Object(T.jsx)("span",{className:"cursor-pointer disabled-link",children:Object(w.tb)("Retry All")}),l?Object(T.jsx)("span",{className:"cursor-pointer ml-3 disabled-link",children:Object(w.tb)("Cancel All")}):Object(T.jsx)("span",{className:"cursor-pointer ml-3",onClick:this.onCancelAllUploading,children:Object(w.tb)("Cancel All")})]}),Object(T.jsxs)("table",{className:"table-thead-hidden",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{width:"30%",children:Object(w.tb)("name")}),Object(T.jsx)("th",{width:"20%",children:Object(w.tb)("size")}),Object(T.jsx)("th",{width:"30%",children:Object(w.tb)("progress")}),Object(T.jsx)("th",{width:"20%",children:Object(w.tb)("state")})]})}),Object(T.jsxs)("tbody",{children:[this.props.forbidUploadFileList.map((function(e,t){return Object(T.jsx)(Z,{file:e},t)})),this.props.uploadFileList.map((function(t,a){return Object(T.jsx)(B,{resumableFile:t,onUploadCancel:e.props.onUploadCancel,onUploadRetry:e.props.onUploadRetry},a)}))]})]})]})]})}}]),a}(h.a.Component),H=(a(544),function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).componentWillUnmount=function(){window.onbeforeunload=null,!0===s.props.dragAndDrop&&s.resumable.disableDropOnDocument()},s.onbeforeunload=function(){if(window.uploader&&window.uploader.isUploadProgressDialogShow&&100!==window.uploader.totalProgress)return""},s.bindCallbackHandler=function(){var e=s.props,t=e.minFileSizeErrorCallback,a=e.fileTypeErrorCallback;s.maxFilesErrorCallback&&(s.resumable.opts.maxFilesErrorCallback=s.maxFilesErrorCallback),t&&(s.resumable.opts.minFileSizeErrorCallback=s.props.minFileSizeErrorCallback),s.maxFileSizeErrorCallback&&(s.resumable.opts.maxFileSizeErrorCallback=s.maxFileSizeErrorCallback),a&&(s.resumable.opts.fileTypeErrorCallback=s.props.fileTypeErrorCallback)},s.bindEventHandler=function(){s.resumable.on("chunkingComplete",s.onChunkingComplete.bind(Object(l.a)(s))),s.resumable.on("fileAdded",s.onFileAdded.bind(Object(l.a)(s))),s.resumable.on("filesAddedComplete",s.filesAddedComplete.bind(Object(l.a)(s))),s.resumable.on("fileProgress",s.onFileProgress.bind(Object(l.a)(s))),s.resumable.on("fileSuccess",s.onFileUploadSuccess.bind(Object(l.a)(s))),s.resumable.on("progress",s.onProgress.bind(Object(l.a)(s))),s.resumable.on("complete",s.onComplete.bind(Object(l.a)(s))),s.resumable.on("pause",s.onPause.bind(Object(l.a)(s))),s.resumable.on("fileRetry",s.onFileRetry.bind(Object(l.a)(s))),s.resumable.on("fileError",s.onFileError.bind(Object(l.a)(s))),s.resumable.on("error",s.onError.bind(Object(l.a)(s))),s.resumable.on("beforeCancel",s.onBeforeCancel.bind(Object(l.a)(s))),s.resumable.on("cancel",s.onCancel.bind(Object(l.a)(s))),s.resumable.on("dragstart",s.onDragStart.bind(Object(l.a)(s)))},s.maxFilesErrorCallback=function(e,t){var a=w.Pb,s=Object(w.tb)("Please upload no more than {maxFiles} files at a time.");s=s.replace("{maxFiles}",a),I.a.danger(s)},s.maxFileSizeErrorCallback=function(e){var t=s.state.forbidUploadFileList;t.push(e),s.setState({forbidUploadFileList:t})},s.onChunkingComplete=function(e){!0===s.state.allFilesUploaded&&s.setState({allFilesUploaded:!1});var t="/"===s.props.path?"/":s.props.path+"/",a=e.fileName,i=e.relativePath,n=a===i;if(e.formData={},n)e.formData={parent_dir:t};else{var r=i.slice(0,i.lastIndexOf("/")+1);e.formData={parent_dir:t,relative_path:r}}},s.onFileAdded=function(e,t){if(e.fileName===e.relativePath&&1===t.length){s.setUploadFileList(s.resumable.files);var a=s.props,i=a.token,n=a.relativePath;y.a.sharedLinkGetFileUploadUrl(i,n).then((function(t){s.resumable.opts.target=t.data.upload_link+"?ret-json=1",s.resumableUpload(e)})).catch((function(e){var t=C.a.getErrorMsg(e);I.a.danger(t)}))}else if(s.setUploadFileList(s.resumable.files),!s.isUploadLinkLoaded){s.isUploadLinkLoaded=!0;var r=s.props,o=r.token,l=r.relativePath;y.a.sharedLinkGetFileUploadUrl(o,l).then((function(e){s.resumable.opts.target=e.data.upload_link+"?ret-json=1",s.resumable.upload()})).catch((function(e){var t=C.a.getErrorMsg(e);I.a.danger(t)}))}},s.resumableUpload=function(e){var t=s.props,a=t.repoID,i=t.path;y.a.getFileUploadedBytes(a,i,e.fileName).then((function(t){var a=t.data.uploadedBytes,i=1024*parseInt(w.hc)*1024||1048576,n=Math.floor(a/i);e.markChunksCompleted(n),s.resumable.upload()})).catch((function(e){var t=C.a.getErrorMsg(e);I.a.danger(t)}))},s.filesAddedComplete=function(e,t){s.state.forbidUploadFileList.length>0&&0===t.length&&s.setState({isUploadProgressDialogShow:!0,totalProgress:100})},s.setUploadFileList=function(){var e=s.resumable.files;s.setState({uploadFileList:e,isUploadProgressDialogShow:!0}),C.a.registerGlobalVariable("uploader","isUploadProgressDialogShow",!0)},s.onFileProgress=function(e){var t=s.getBitrate(),a=s.state.uploadFileList.map((function(a){if(a.uniqueIdentifier===e.uniqueIdentifier&&t){var s=8*(a.size-a.size*a.progress()),i=Math.floor(s/t);a.remainingTime=i}return a}));s.setState({uploadBitrate:t,uploadFileList:a})},s.getBitrate=function(){var e=0,t=0,a=(new Date).getTime();if(s.resumable.files.forEach((function(t){e+=t.progress()*t.size})),s.timestamp){var i=a-s.timestamp;if(i<s.bitrateInterval)return s.state.uploadBitrate;(e<s.loaded||0===s.loaded)&&(s.loaded=e),t=(e-s.loaded)*(1e3/i)*8}return s.timestamp=a,s.loaded=e,t},s.onProgress=function(){var e=Math.round(100*s.resumable.progress());s.setState({totalProgress:e}),C.a.registerGlobalVariable("uploader","totalProgress",e)},s.onFileUploadSuccess=function(e,t){var a=e.formData,i=(new Date).getTime()/1e3;t=a.replace?t:JSON.parse(t)[0],a.relative_path;var n={id:t.id,type:"file",name:t.name,size:t.size,mtime:i};s.props.onFileUploadSuccess(n);var r=s.state.uploadFileList.map((function(a){return a.uniqueIdentifier===e.uniqueIdentifier&&(a.newFileName=t.name,a.isSaved=!0),a}));s.setState({uploadFileList:r})},s.onFileError=function(e,t){var a="";if(t){var i=t.replace(/\n/g,"");i=JSON.parse(i),"File locked by others."===(a=i.error)&&(a=Object(w.tb)("File is locked by others.")),"Internal error."===a&&(a=Object(w.tb)("Internal Server Error"))}else a=Object(w.tb)("Network error");var n=s.state.uploadFileList.map((function(t){return t.uniqueIdentifier===e.uniqueIdentifier&&(s.state.retryFileList.push(t),t.error=a),t}));s.loaded=0,s.setState({retryFileList:s.state.retryFileList,uploadFileList:n})},s.onComplete=function(){s.notifiedFolders=[],s.isUploadLinkLoaded=!1,s.setState({allFilesUploaded:!0})},s.onPause=function(){},s.onError=function(e){s.isUploadLinkLoaded=!1,C.a.registerGlobalVariable("uploader","totalProgress",100)},s.onFileRetry=function(){},s.onBeforeCancel=function(){},s.onCancel=function(){},s.setHeaders=function(e,t){var a=t.offset,s=t.getOpt("chunkSize"),i=0===e.size?1:e.size,n=0!==a?a*s:0,r=Math.min(i,(a+1)*s)-1;return i-t.endByte<s&&!t.getOpt("forceChunkSize")&&(r=i),{Accept:"application/json; text/javascript, */*; q=0.01","Content-Disposition":'attachment; filename="'+encodeURI(e.fileName)+'"',"Content-Range":"bytes "+n+"-"+r+"/"+i}},s.setQuery=function(e){return e.formData},s.generateUniqueIdentifier=function(e){var t=e.webkitRelativePath||e.relativePath||e.fileName||e.name;return b()(t+new Date)+t},s.onClick=function(e){e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},s.onFileUpload=function(){s.uploadInput.current.removeAttribute("webkitdirectory"),s.uploadInput.current.click()},s.onFolderUpload=function(){s.uploadInput.current.setAttribute("webkitdirectory","webkitdirectory"),s.uploadInput.current.click()},s.onDragStart=function(){s.uploadInput.current.setAttribute("webkitdirectory","webkitdirectory")},s.onCloseUploadDialog=function(){s.loaded=0,s.resumable.files=[],s.isUploadLinkLoaded=!1,s.setState({isUploadProgressDialogShow:!1,uploadFileList:[],forbidUploadFileList:[]}),C.a.registerGlobalVariable("uploader","isUploadProgressDialogShow",!1)},s.onUploadCancel=function(e){var t=s.state.uploadFileList.filter((function(t){return t.uniqueIdentifier!==e.uniqueIdentifier||(t.cancel(),!1)}));s.resumable.isUploading()||(s.setState({totalProgress:"100",allFilesUploaded:!0}),s.loaded=0),s.setState({uploadFileList:t})},s.onCancelAllUploading=function(){var e=s.state.uploadFileList.filter((function(e){return!Math.round(1!==e.progress())||(e.cancel(),!1)}));s.loaded=0,s.setState({allFilesUploaded:!0,totalProgress:"100",uploadFileList:e}),s.isUploadLinkLoaded=!1},s.onUploadRetry=function(e){var t=s.props,a=t.token,i=t.relativePath;y.a.sharedLinkGetFileUploadUrl(a,i).then((function(t){s.resumable.opts.target=t.data.upload_link+"?ret-json=1";var a=s.state.retryFileList.filter((function(t){return t.uniqueIdentifier!==e.uniqueIdentifier})),i=s.state.uploadFileList.map((function(t){return t.uniqueIdentifier===e.uniqueIdentifier&&(t.error=null,s.retryUploadFile(t)),t}));s.setState({retryFileList:a,uploadFileList:i})})).catch((function(e){var t=C.a.getErrorMsg(e);I.a.danger(t)}))},s.onUploadRetryAll=function(){var e=s.props,t=e.token,a=e.relativePath;y.a.sharedLinkGetFileUploadUrl(t,a).then((function(e){s.resumable.opts.target=e.data.upload_link+"?ret-json=1",s.state.retryFileList.forEach((function(e){e.error=!1,s.retryUploadFile(e)}));var t=s.state.uploadFileList.slice(0);s.setState({retryFileList:[],uploadFileList:t})})).catch((function(e){var t=C.a.getErrorMsg(e);I.a.danger(t)}))},s.retryUploadFile=function(e){var t=s.props,a=t.repoID,i=t.path,n=e.fileName;if(!(e.fileName===e.relativePath)){var r=e.formData.relative_path;n=("/"===i?i+r:i+"/"+r)+n}e.bootstrap();var o=!1;e.resumableObj.on("chunkingComplete",(function(){o||y.a.getFileUploadedBytes(a,i,n).then((function(t){var a=t.data.uploadedBytes,s=1024*parseInt(w.hc)*1024||1048576,i=Math.floor(a/s);e.markChunksCompleted(i),e.resumableObj.upload()})).catch((function(e){var t=C.a.getErrorMsg(e);I.a.danger(t)})),o=!0}))},s.uploadFile=function(){var e=s.resumable.files[s.resumable.files.length-1],t=s.props,a=t.token,i=t.relativePath;y.a.sharedLinkGetFileUploadUrl(a,i).then((function(t){s.resumable.opts.target=t.data.upload_link+"?ret-json=1",s.setState({isUploadRemindDialogShow:!1,isUploadProgressDialogShow:!0,uploadFileList:[].concat(Object(L.a)(s.state.uploadFileList),[e])},(function(){s.resumable.upload()})),C.a.registerGlobalVariable("uploader","isUploadProgressDialogShow",!0)})).catch((function(e){var t=C.a.getErrorMsg(e);I.a.danger(t)}))},s.cancelFileUpload=function(){s.resumable.files.pop(),s.setState({isUploadRemindDialogShow:!1})},s.state={retryFileList:[],uploadFileList:[],forbidUploadFileList:[],totalProgress:0,isUploadProgressDialogShow:!1,isUploadRemindDialogShow:!1,currentResumableFile:null,uploadBitrate:0,allFilesUploaded:!1},s.uploadInput=h.a.createRef(),s.notifiedFolders=[],s.timestamp=null,s.loaded=0,s.bitrateInterval=500,window.onbeforeunload=s.onbeforeunload,s.isUploadLinkLoaded=!1,s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.resumable=new _.a({target:"",query:this.setQuery||{},fileType:this.props.filetypes,maxFiles:w.Pb||void 0,maxFileSize:1e3*w.Qb*1e3||void 0,testMethod:this.props.testMethod||"post",testChunks:this.props.testChunks||!1,headers:this.setHeaders||{},withCredentials:this.props.withCredentials||!1,chunkSize:1024*parseInt(w.hc)*1024||1048576,simultaneousUploads:this.props.simultaneousUploads||1,fileParameterName:this.props.fileParameterName,generateUniqueIdentifier:this.generateUniqueIdentifier,forceChunkSize:!0,maxChunkRetries:3,minFileSize:0}),this.resumable.assignBrowse(this.uploadInput.current,!0),!0===this.props.dragAndDrop&&this.resumable.enableDropOnDocument(),this.bindCallbackHandler(),this.bindEventHandler()}},{key:"render",value:function(){return Object(T.jsxs)(p.Fragment,{children:[Object(T.jsx)("div",{className:"file-uploader-container",children:Object(T.jsx)("div",{className:"file-uploader",children:Object(T.jsx)("input",{className:"upload-input",type:"file",ref:this.uploadInput,onClick:this.onClick})})}),this.state.isUploadProgressDialogShow&&Object(T.jsx)(G,{retryFileList:this.state.retryFileList,uploadFileList:this.state.uploadFileList,forbidUploadFileList:this.state.forbidUploadFileList,totalProgress:this.state.totalProgress,uploadBitrate:this.state.uploadBitrate,allFilesUploaded:this.state.allFilesUploaded,onCloseUploadDialog:this.onCloseUploadDialog,onCancelAllUploading:this.onCancelAllUploading,onUploadCancel:this.onUploadCancel,onUploadRetry:this.onUploadRetry,onUploadRetryAll:this.onUploadRetryAll})]})}}]),a}(h.a.Component)),V=H,Q=a(121),J=a(106),Y=a(107),W=a(1e3),$=a(143),K=a(140),X=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).onSaveSharedFile=function(){s.props.handleSaveSharedDir(s.state.repo.repo_id,s.state.selectedPath)},s.onDirentItemClick=function(e,t,a){"dir"===a.type?s.setState({repo:e,selectedPath:t}):s.setState({repo:null,selectedPath:""})},s.onRepoItemClick=function(e){s.setState({repo:e,selectedPath:"/"})},s.state={repo:null,selectedPath:"",errMessage:""},s}return Object(o.a)(a,[{key:"render",value:function(){return Object(T.jsxs)(Q.a,{isOpen:!0,className:"sf-save-file",children:[Object(T.jsx)(J.a,{toggle:this.props.toggleCancel,children:Object(w.tb)("Save to:")}),Object(T.jsxs)(Y.a,{children:[Object(T.jsx)(K.a,{isShowFile:!1,onDirentItemClick:this.onDirentItemClick,onRepoItemClick:this.onRepoItemClick,mode:"only_all_repos"}),this.state.errMessage&&Object(T.jsx)(W.a,{color:"danger",children:this.state.errMessage})]}),Object(T.jsxs)($.a,{children:[Object(T.jsx)(g.a,{color:"secondary",onClick:this.props.toggleCancel,children:Object(w.tb)("Cancel")}),this.state.selectedPath?Object(T.jsx)(g.a,{color:"primary",onClick:this.onSaveSharedFile,children:Object(w.tb)("Submit")}):Object(T.jsx)(g.a,{color:"primary",disabled:!0,children:Object(w.tb)("Submit")})]})]})}}]),a}(h.a.Component),ee=a(371),te=a(264),ae=a(180);a(1687),a(543);k.a.locale(window.app.config.lang);var se=window.app.pageOptions.name,ie=window.shared.pageOptions,ne=ie.token,re=ie.dirName,oe=ie.dirPath,le=ie.sharedBy,ce=ie.repoID,de=ie.relativePath,pe=ie.mode,he=ie.thumbnailSize,ue=ie.zipped,be=ie.trafficOverLimit,je=ie.canDownload,me=ie.noQuota,ge=ie.canUpload,fe=ie.enableVideoThumbnail,Oe=!be&&je,ve=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).sortItems=function(e,t){s.setState({sortBy:e,sortOrder:t,items:C.a.sortDirentsInSharedDir(s.state.items,e,t)})},s.getThumbnails=function(){var e=s.state.items.filter((function(e){return!e.is_dir&&(C.a.imageCheck(e.file_name)||fe&&C.a.videoCheck(e.file_name))&&!e.encoded_thumbnail_src}));if(0!=e.length){var t=e.length,a=Object(l.a)(s);!function s(i){var n=e[i];y.a.getShareLinkThumbnail(ne,n.file_path,he).then((function(e){n.encoded_thumbnail_src=e.data.encoded_thumbnail_src})).catch((function(e){})).then((function(){i<t-1?s(++i):a.setState({items:a.state.items})}))}(0)}},s.renderPath=function(){return Object(T.jsxs)(h.a.Fragment,{children:[ue.map((function(e,t){if(t!=ue.length-1)return Object(T.jsxs)(h.a.Fragment,{children:[Object(T.jsx)("a",{href:"?p=".concat(encodeURIComponent(e.path),"&mode=").concat(pe),className:"mx-1 ellipsis",title:e.name,children:e.name}),Object(T.jsx)("span",{children:" / "})]},t)})),Object(T.jsx)("span",{className:"ml-1 ellipsis",title:ue[ue.length-1].name,children:ue[ue.length-1].name})]})},s.zipDownloadFolder=function(e){w.Fc?y.a.getShareLinkZipTask(ne,e).then((function(e){var t=e.data.zip_token;location.href="".concat(w.rb,"zip/").concat(t)})).catch((function(e){var t=C.a.getErrorMsg(e);s.setState({isLoading:!1,errorMsg:t})})):s.setState({isZipDialogOpen:!0,zipFolderPath:e})},s.zipDownloadSelectedItems=function(){if(w.Fc){var e=s.state.items.filter((function(e){return e.isSelected})).map((function(e){return e.file_name||e.folder_name}));y.a.getShareLinkDirentsZipTask(ne,de,e).then((function(e){var t=e.data.zip_token;location.href="".concat(w.rb,"zip/").concat(t)})).catch((function(e){var t=C.a.getErrorMsg(e);s.setState({isLoading:!1,errorMsg:t})}))}else s.setState({isZipDialogOpen:!0,zipFolderPath:de,selectedItems:s.state.items.filter((function(e){return e.isSelected})).map((function(e){return e.file_name||e.folder_name}))})},s.saveSelectedItems=function(){s.setState({isSaveSharedDirDialogShow:!0,itemsForSave:s.state.items.filter((function(e){return e.isSelected})).map((function(e){return e.file_name||e.folder_name}))})},s.saveAllItems=function(){s.setState({isSaveSharedDirDialogShow:!0,itemsForSave:s.state.items.map((function(e){return e.file_name||e.folder_name}))})},s.toggleSaveSharedDirCancel=function(){s.setState({isSaveSharedDirDialogShow:!1,itemsForSave:[]})},s.handleSaveSharedDir=function(e,t){var a=s.state.itemsForSave;y.a.saveSharedDir(e,t,ne,de,a).then((function(e){s.setState({isSaveSharedDirDialogShow:!1,itemsForSave:[],isCopyMoveProgressDialogShow:!0,asyncCopyMoveTaskId:e.data.task_id,asyncOperatedFilesLength:a.length},(function(){s.getAsyncCopyMoveProgress()}))})).catch((function(e){var t=C.a.getErrorMsg(e);s.setState({errMessage:t})}))},s.onProgressDialogToggle=function(){if(100!==s.state.asyncOperationProgress){var e=s.state.asyncCopyMoveTaskId;y.a.cancelCopyMoveOperation(e)}s.setState({asyncOperationProgress:0,isCopyMoveProgressDialogShow:!1})},s.closeZipDialog=function(){s.setState({isZipDialogOpen:!1,zipFolderPath:"",selectedItems:[]})},s.prepareImageItem=function(e){var t=e.file_name,a="gif"==t.substr(t.lastIndexOf(".")+1).toLowerCase(),s="".concat(w.vc,"d/").concat(ne,"/files/?p=").concat(encodeURIComponent(e.file_path));return{name:t,url:s,src:a?"".concat(s,"&raw=1"):"".concat(w.vc,"thumbnail/").concat(ne,"/").concat(w.Ac).concat(C.a.encodePath(e.file_path))}},s.showImagePopup=function(e){var t=s.state.items.filter((function(e){return!e.is_dir&&C.a.imageCheck(e.file_name)})),a=t.map((function(e){return s.prepareImageItem(e)}));s.setState({isImagePopupOpen:!0,imageItems:a,imageIndex:t.indexOf(e)})},s.closeImagePopup=function(){s.setState({isImagePopupOpen:!1})},s.moveToPrevImage=function(){var e=s.state.imageItems.length;s.setState((function(t){return{imageIndex:(t.imageIndex+e-1)%e}}))},s.moveToNextImage=function(){var e=s.state.imageItems.length;s.setState((function(t){return{imageIndex:(t.imageIndex+1)%e}}))},s.toggleAllSelected=function(){s.setState((function(e){return{isAllItemsSelected:!e.isAllItemsSelected,items:s.state.items.map((function(t){return t.isSelected=!e.isAllItemsSelected,t}))}}))},s.toggleItemSelected=function(e,t){s.setState({items:s.state.items.map((function(a){return a===e&&(a.isSelected=t),a}))},(function(){s.setState({isAllItemsSelected:!s.state.items.some((function(e){return!e.isSelected}))})}))},s.onUploadFile=function(e){e.nativeEvent.stopImmediatePropagation(),s.uploader.onFileUpload()},s.onFileUploadSuccess=function(e){var t=e.name,a=e.size,i={isSelected:!1,file_name:t,file_path:C.a.joinPath(de,t),is_dir:!1,last_modified:k()().format(),size:a},n=s.state.items.filter((function(e){return e.is_dir})),r=Array.from(s.state.items);r.splice(n.length,0,i),s.setState({items:r}),y.a.shareLinksUploadDone(ne,C.a.joinPath(oe,t))},s.getShareLinkRepoTags=function(){y.a.getShareLinkRepoTags(ne).then((function(e){var t=[];e.data.repo_tags.forEach((function(e){var a=new ae.a(e);a.fileCount>0&&t.push(a)})),s.setState({usedRepoTags:t}),0!=t.length&&"/"==de&&s.setState({isRepoInfoBarShow:!0})})).catch((function(e){var t=C.a.getErrorMsg(e);I.a.danger(t)}))},s.state={isLoading:!0,errorMsg:"",items:[],isAllItemsSelected:!1,selectedItems:[],sortBy:"name",sortOrder:"asc",isZipDialogOpen:!1,zipFolderPath:"",usedRepoTags:[],isRepoInfoBarShow:!1,isSaveSharedDirDialogShow:!1,itemsForSave:[],asyncCopyMoveTaskId:"",asyncOperationProgress:0,asyncOperatedFilesLength:0,isCopyMoveProgressDialogShow:!1,isImagePopupOpen:!1,imageItems:[],imageIndex:0},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;be&&I.a.danger(Object(w.tb)("File download is disabled: the share link traffic of owner is used up."),{duration:3}),y.a.listSharedDir(ne,de,he).then((function(t){var a=t.data.dirent_list.map((function(e){return e.isSelected=!1,e}));e.setState({isLoading:!1,errorMsg:"",items:C.a.sortDirentsInSharedDir(a,e.state.sortBy,e.state.sortOrder)}),e.getThumbnails()})).catch((function(t){var a=C.a.getErrorMsg(t);e.setState({isLoading:!1,errorMsg:a})})),this.getShareLinkRepoTags()}},{key:"getAsyncCopyMoveProgress",value:function(){var e=Object(n.a)(i.a.mark((function e(){var t,a,s,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.asyncCopyMoveTaskId,e.prev=1,e.next=4,y.a.queryAsyncOperationProgress(t);case 4:if(a=e.sent,!(s=a.data).failed){e.next=11;break}return n=Object(w.tb)("Failed to copy files to another library."),I.a.danger(n),this.setState({asyncOperationProgress:0,isCopyMoveProgressDialogShow:!1}),e.abrupt("return");case 11:if(!s.successful){e.next=16;break}return this.setState({asyncOperationProgress:0,isCopyMoveProgressDialogShow:!1}),r=Object(w.tb)("Successfully copied files to another library."),I.a.success(r),e.abrupt("return");case 16:o=s.total?parseInt((s.done/s.total*100).toFixed(2)):0,this.getAsyncCopyMoveProgress(),this.setState({asyncOperationProgress:o}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),this.setState({asyncOperationProgress:0,isCopyMoveProgressDialogShow:!1});case 24:case"end":return e.stop()}}),e,this,[[1,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=C.a.isDesktop(),a="btn btn-secondary btn-icon sf-view-mode-btn";return Object(T.jsxs)(h.a.Fragment,{children:[Object(T.jsxs)("div",{className:"h-100 d-flex flex-column",children:[Object(T.jsxs)("div",{className:"top-header d-flex justify-content-between",children:[Object(T.jsx)("a",{href:w.vc,children:Object(T.jsx)("img",{src:w.Rb+w.Mb,height:w.Lb,width:w.Nb,title:w.wc,alt:"logo"})}),se&&Object(T.jsx)(F.a,{})]}),Object(T.jsx)("div",{className:"o-auto",children:Object(T.jsxs)("div",{className:"shared-dir-view-main",children:[Object(T.jsx)("h2",{className:"h3",children:re}),Object(T.jsxs)("p",{children:[Object(w.tb)("Shared by: "),le]}),Object(T.jsxs)("div",{className:"d-flex justify-content-between align-items-center op-bar",children:[Object(T.jsxs)("p",{className:"m-0 mr-4 ellipsis d-flex align-items-center",children:[Object(T.jsx)("span",{className:"flex-none",children:Object(w.tb)("Current path: ")}),this.renderPath()]}),Object(T.jsxs)("div",{className:"flex-none",children:[t&&Object(T.jsxs)("div",{className:"view-mode btn-group",children:[Object(T.jsx)("a",{href:"?p=".concat(encodeURIComponent(de),"&mode=list"),className:"".concat(a," sf2-icon-list-view ").concat("list"==pe?"current-mode":""),title:Object(w.tb)("List"),"aria-label":Object(w.tb)("List")}),Object(T.jsx)("a",{href:"?p=".concat(encodeURIComponent(de),"&mode=grid"),className:"".concat(a," sf2-icon-grid-view ").concat("grid"==pe?"current-mode":""),title:Object(w.tb)("Grid"),"aria-label":Object(w.tb)("Grid")})]}),ge&&Object(T.jsx)(g.a,{disabled:me,title:me?Object(w.tb)("The owner of this library has run out of space."):"",onClick:this.onUploadFile,className:"ml-2 shared-dir-op-btn shared-dir-upload-btn",children:Object(w.tb)("Upload")}),Oe&&Object(T.jsx)(p.Fragment,{children:this.state.items.some((function(e){return e.isSelected}))?Object(T.jsxs)(p.Fragment,{children:[Object(T.jsx)(g.a,{color:"success",onClick:this.zipDownloadSelectedItems,className:"ml-2 shared-dir-op-btn",children:Object(w.tb)("ZIP Selected Items")}),je&&se&&se!==le&&Object(T.jsx)(g.a,{color:"success",onClick:this.saveSelectedItems,className:"ml-2 shared-dir-op-btn",children:Object(w.tb)("Save Selected Items")})]}):Object(T.jsxs)(p.Fragment,{children:[Object(T.jsx)(g.a,{color:"success",onClick:this.zipDownloadFolder.bind(this,de),className:"ml-2 shared-dir-op-btn",children:Object(w.tb)("ZIP")}),je&&se&&se!==le&&Object(T.jsx)(g.a,{color:"success",onClick:this.saveAllItems,className:"ml-2 shared-dir-op-btn",children:Object(w.tb)("Save")})]})})]})]}),!me&&ge&&Object(T.jsx)(V,{ref:function(t){return e.uploader=t},dragAndDrop:!1,token:ne,path:"/"===oe?oe:oe.replace(/\/+$/,""),relativePath:"/"===de?de:de.replace(/\/+$/,""),repoID:ce,onFileUploadSuccess:this.onFileUploadSuccess}),this.state.isRepoInfoBarShow&&Object(T.jsx)(te.a,{repoID:ce,currentPath:"/",usedRepoTags:this.state.usedRepoTags,shareLinkToken:ne,enableFileDownload:Oe,className:"mx-0"}),Object(T.jsx)(xe,{isDesktop:t,isLoading:this.state.isLoading,errorMsg:this.state.errorMsg,items:this.state.items,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems,isAllItemsSelected:this.state.isAllItemsSelected,toggleAllSelected:this.toggleAllSelected,toggleItemSelected:this.toggleItemSelected,zipDownloadFolder:this.zipDownloadFolder,showImagePopup:this.showImagePopup})]})})]}),this.state.isZipDialogOpen&&Object(T.jsx)(N.a,{children:Object(T.jsx)(P.a,{token:ne,path:this.state.zipFolderPath,target:this.state.selectedItems,toggleDialog:this.closeZipDialog})}),this.state.isSaveSharedDirDialogShow&&Object(T.jsx)(X,{sharedToken:ne,parentDir:de,items:this.state.itemsForSave,toggleCancel:this.toggleSaveSharedDirCancel,handleSaveSharedDir:this.handleSaveSharedDir}),this.state.isCopyMoveProgressDialogShow&&Object(T.jsx)(ee.a,{type:"copy",asyncOperatedFilesLength:this.state.asyncOperatedFilesLength,asyncOperationProgress:this.state.asyncOperationProgress,toggleDialog:this.onProgressDialogToggle}),this.state.isImagePopupOpen&&Object(T.jsx)(N.a,{children:Object(T.jsx)(U.a,{imageItems:this.state.imageItems,imageIndex:this.state.imageIndex,closeImagePopup:this.closeImagePopup,moveToPrevImage:this.moveToPrevImage,moveToNextImage:this.moveToNextImage})})]})}}]),a}(h.a.Component),xe=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).sortByName=function(e){e.preventDefault();var t="asc"==s.props.sortOrder?"desc":"asc";s.props.sortItems("name",t)},s.sortByTime=function(e){e.preventDefault();var t="asc"==s.props.sortOrder?"desc":"asc";s.props.sortItems("time",t)},s.sortBySize=function(e){e.preventDefault();var t="asc"==s.props.sortOrder?"desc":"asc";s.props.sortItems("size",t)},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.isDesktop,s=t.isLoading,i=t.errorMsg,n=t.items,r=t.sortBy,o=t.sortOrder,l=t.isAllItemsSelected;if(s)return Object(T.jsx)(D.a,{});if(i)return Object(T.jsx)("p",{className:"error mt-6 text-center",children:i});var c=Object(T.jsx)("tbody",{children:n.map((function(t,s){return Object(T.jsx)(Se,{isDesktop:a,item:t,zipDownloadFolder:e.props.zipDownloadFolder,showImagePopup:e.props.showImagePopup,toggleItemSelected:e.props.toggleItemSelected},s)}))});if(!a)return Object(T.jsxs)("table",{className:"table-hover table-thead-hidden",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("th",{width:"12%"}),Object(T.jsx)("th",{width:"80%"}),Object(T.jsx)("th",{width:"8%"})]})}),c]});var d=Object(T.jsx)("span",{className:"fas ".concat("asc"==o?"fa-caret-up":"fa-caret-down")});return"list"==pe?Object(T.jsxs)("table",{className:"table-hover",children:[Object(T.jsx)("thead",{children:Object(T.jsxs)("tr",{children:[Oe&&Object(T.jsx)("th",{width:"3%",className:"text-center",children:Object(T.jsx)("input",{type:"checkbox",checked:l,onChange:this.props.toggleAllSelected})}),Object(T.jsx)("th",{width:"5%"}),Object(T.jsx)("th",{width:Oe?"50%":"53%",children:Object(T.jsxs)("a",{className:"d-block table-sort-op",href:"#",onClick:this.sortByName,children:[Object(w.tb)("Name")," ","name"==r&&d]})}),Object(T.jsx)("th",{width:"8%"}),Object(T.jsx)("th",{width:"14%",children:Object(T.jsxs)("a",{className:"d-block table-sort-op",href:"#",onClick:this.sortBySize,children:[Object(w.tb)("Size")," ","size"==r&&d]})}),Object(T.jsx)("th",{width:"13%",children:Object(T.jsxs)("a",{className:"d-block table-sort-op",href:"#",onClick:this.sortByTime,children:[Object(w.tb)("Last Update")," ","time"==r&&d]})}),Object(T.jsx)("th",{width:"7%"})]})}),c]}):Object(T.jsx)("ul",{className:"grid-view",children:n.map((function(t,a){return Object(T.jsx)(ke,{item:t,zipDownloadFolder:e.props.zipDownloadFolder,showImagePopup:e.props.showImagePopup},a)}))})}}]),a}(h.a.Component),Se=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).toggleOpMenu=function(){s.setState({isOpMenuOpen:!s.state.isOpMenuOpen})},s.handleMouseOver=function(){s.setState({isIconShown:!0})},s.handleMouseOut=function(){s.setState({isIconShown:!1})},s.zipDownloadFolder=function(e){e.preventDefault(),s.props.zipDownloadFolder.bind(Object(l.a)(s),s.props.item.folder_path)()},s.handleFileClick=function(e){var t=s.props.item;C.a.imageCheck(t.file_name)&&(e.preventDefault(),s.props.showImagePopup(t))},s.toggleItemSelected=function(e){s.props.toggleItemSelected(s.props.item,e.target.checked)},s.state={isIconShown:!1,isOpMenuOpen:!1},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.isDesktop,s=this.state.isIconShown,i="",n="";if(t.file_tags&&t.file_tags.length>0&&(i=b()(t.file_name).slice(0,7),n=t.file_tags.map((function(e){return e.tag_name})).join(" ")),t.is_dir)return a?Object(T.jsxs)("tr",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onFocus:this.handleMouseOver,children:[Oe&&Object(T.jsx)("td",{className:"text-center",children:Object(T.jsx)("input",{type:"checkbox",checked:t.isSelected,onChange:this.toggleItemSelected})}),Object(T.jsx)("td",{className:"text-center",children:Object(T.jsx)("img",{src:C.a.getFolderIconUrl(),alt:"",width:"24"})}),Object(T.jsx)("td",{children:Object(T.jsx)("a",{href:"?p=".concat(encodeURIComponent(t.folder_path.substr(0,t.folder_path.length-1)),"&mode=").concat(pe),children:t.folder_name})}),Object(T.jsx)("td",{}),Object(T.jsx)("td",{}),Object(T.jsx)("td",{title:k()(t.last_modified).format("llll"),children:k()(t.last_modified).fromNow()}),Object(T.jsx)("td",{children:Oe&&Object(T.jsx)("a",{role:"button",className:"action-icon sf2-icon-download".concat(s?"":" invisible"),href:"#",onClick:this.zipDownloadFolder,title:Object(w.tb)("Download"),"aria-label":Object(w.tb)("Download")})})]}):Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{className:"text-center",children:Object(T.jsx)("img",{src:C.a.getFolderIconUrl(),alt:"",width:"24"})}),Object(T.jsxs)("td",{children:[Object(T.jsx)("a",{href:"?p=".concat(encodeURIComponent(t.folder_path.substr(0,t.folder_path.length-1)),"&mode=").concat(pe),children:t.folder_name}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:"item-meta-info",children:k()(t.last_modified).fromNow()})]}),Object(T.jsx)("td",{children:Oe&&Object(T.jsxs)(f.a,{isOpen:this.state.isOpMenuOpen,toggle:this.toggleOpMenu,children:[Object(T.jsx)(O.a,{tag:"i",className:"sf-dropdown-toggle fa fa-ellipsis-v ml-0",title:Object(w.tb)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isOpMenuOpen}),Object(T.jsxs)("div",{className:this.state.isOpMenuOpen?"":"d-none",onClick:this.toggleOpMenu,children:[Object(T.jsx)("div",{className:"mobile-operation-menu-bg-layer"}),Object(T.jsx)("div",{className:"mobile-operation-menu",children:Object(T.jsx)(v.a,{className:"mobile-menu-item",onClick:this.zipDownloadFolder,children:Object(w.tb)("Download")})})]})]})})]});var r="".concat(w.vc,"d/").concat(ne,"/files/?p=").concat(encodeURIComponent(t.file_path)),o=t.encoded_thumbnail_src?"".concat(w.vc).concat(t.encoded_thumbnail_src):"";return a?Object(T.jsxs)("tr",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onFocus:this.handleMouseOver,children:[Oe&&Object(T.jsx)("td",{className:"text-center",children:Object(T.jsx)("input",{type:"checkbox",checked:t.isSelected,onChange:this.toggleItemSelected})}),Object(T.jsx)("td",{className:"text-center",children:o?Object(T.jsx)("img",{className:"thumbnail",src:o,alt:""}):Object(T.jsx)("img",{src:C.a.getFileIconUrl(t.file_name),alt:"",width:"24"})}),Object(T.jsx)("td",{children:Object(T.jsx)("a",{href:r,onClick:this.handleFileClick,children:t.file_name})}),Object(T.jsx)("td",{className:"tag-list-title",children:t.file_tags&&t.file_tags.length>0&&Object(T.jsxs)(p.Fragment,{children:[Object(T.jsx)("div",{id:"tag-list-title-".concat(i),className:"dirent-item tag-list tag-list-stacked",children:t.file_tags.map((function(e,a){var s=t.file_tags.length;return Object(T.jsx)("span",{className:"file-tag",style:{zIndex:s-a,backgroundColor:e.tag_color}},e.file_tag_id)}))}),Object(T.jsx)(x.a,{target:"tag-list-title-".concat(i),placement:"bottom",children:n})]})}),Object(T.jsx)("td",{children:C.a.bytesToSize(t.size)}),Object(T.jsx)("td",{title:k()(t.last_modified).format("llll"),children:k()(t.last_modified).fromNow()}),Object(T.jsx)("td",{children:Oe&&Object(T.jsx)("a",{className:"action-icon sf2-icon-download".concat(s?"":" invisible"),href:"".concat(r,"&dl=1"),title:Object(w.tb)("Download"),"aria-label":Object(w.tb)("Download")})})]}):Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{className:"text-center",children:o?Object(T.jsx)("img",{className:"thumbnail",src:o,alt:""}):Object(T.jsx)("img",{src:C.a.getFileIconUrl(t.file_name),alt:"",width:"24"})}),Object(T.jsxs)("td",{children:[Object(T.jsx)("a",{href:r,onClick:this.handleFileClick,children:t.file_name}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:"item-meta-info",children:C.a.bytesToSize(t.size)}),Object(T.jsx)("span",{className:"item-meta-info",children:k()(t.last_modified).fromNow()})]}),Object(T.jsx)("td",{children:Oe&&Object(T.jsxs)(f.a,{isOpen:this.state.isOpMenuOpen,toggle:this.toggleOpMenu,children:[Object(T.jsx)(O.a,{tag:"i",className:"sf-dropdown-toggle fa fa-ellipsis-v ml-0",title:Object(w.tb)("More Operations"),"data-toggle":"dropdown","aria-expanded":this.state.isOpMenuOpen}),Object(T.jsxs)("div",{className:this.state.isOpMenuOpen?"":"d-none",onClick:this.toggleOpMenu,children:[Object(T.jsx)("div",{className:"mobile-operation-menu-bg-layer"}),Object(T.jsx)("div",{className:"mobile-operation-menu",children:Object(T.jsx)(v.a,{className:"mobile-menu-item",tag:"a",href:"".concat(r,"&dl=1"),children:Object(w.tb)("Download")})})]})]})})]})}}]),a}(h.a.Component),ke=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).handleMouseOver=function(){s.setState({isIconShown:!0})},s.handleMouseOut=function(){s.setState({isIconShown:!1})},s.zipDownloadFolder=function(e){e.preventDefault(),s.props.zipDownloadFolder.bind(Object(l.a)(s),s.props.item.folder_path)()},s.handleFileClick=function(e){var t=s.props.item;C.a.imageCheck(t.file_name)&&(e.preventDefault(),s.props.showImagePopup(t))},s.state={isIconShown:!1},s}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.item,t=this.state.isIconShown;if(e.is_dir){var a="?p=".concat(encodeURIComponent(e.folder_path.substr(0,e.folder_path.length-1)),"&mode=").concat(pe);return Object(T.jsxs)("li",{className:"grid-item",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onFocus:this.handleMouseOver,children:[Object(T.jsx)("a",{href:a,className:"grid-file-img-link d-block",children:Object(T.jsx)("img",{src:C.a.getFolderIconUrl(!1,192),alt:"",width:"96",height:"96"})}),Object(T.jsx)("a",{href:a,className:"grid-file-name grid-file-name-link",children:e.folder_name}),Oe&&Object(T.jsx)("a",{role:"button",className:"action-icon sf2-icon-download".concat(t?"":" invisible"),href:"#",onClick:this.zipDownloadFolder,title:Object(w.tb)("Download"),"aria-label":Object(w.tb)("Download")})]})}var s="".concat(w.vc,"d/").concat(ne,"/files/?p=").concat(encodeURIComponent(e.file_path)),i=e.encoded_thumbnail_src?"".concat(w.vc).concat(e.encoded_thumbnail_src):"";return Object(T.jsxs)("li",{className:"grid-item",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onFocus:this.handleMouseOver,children:[Object(T.jsx)("a",{href:s,className:"grid-file-img-link d-block",onClick:this.handleFileClick,children:i?Object(T.jsx)("img",{className:"thumbnail",src:i,alt:""}):Object(T.jsx)("img",{src:C.a.getFileIconUrl(e.file_name,192),alt:"",width:"96",height:"96"})}),Object(T.jsx)("a",{href:s,className:"grid-file-name grid-file-name-link",onClick:this.handleFileClick,children:e.file_name}),Oe&&Object(T.jsx)("a",{className:"action-icon sf2-icon-download".concat(t?"":" invisible"),href:"".concat(s,"&dl=1"),title:Object(w.tb)("Download"),"aria-label":Object(w.tb)("Download")})]})}}]),a}(h.a.Component);m.a.render(Object(T.jsx)(ve,{}),document.getElementById("wrapper"))},201:function(e,t,a){"use strict";var s=a(3),i=a(5),n=a(7),r=a(6),o=a(2),l=a.n(o),c=a(1),d=a(224),p=(a(509),a(0)),h=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.imageItems,t=this.props.imageIndex,a=e.length,s=e[t].name,i="".concat(s," (").concat(t+1,"/").concat(a,")");return Object(p.jsx)(d.a,{imageTitle:i,mainSrc:e[t].src,nextSrc:e[(t+1)%a].src,prevSrc:e[(t+a-1)%a].src,onCloseRequest:this.props.closeImagePopup,onMovePrevRequest:this.props.moveToPrevImage,onMoveNextRequest:this.props.moveToNextImage,imagePadding:70,imageLoadErrorMessage:Object(c.tb)("The image could not be loaded."),prevLabel:Object(c.tb)("Previous (Left arrow key)"),nextLabel:Object(c.tb)("Next (Right arrow key)"),closeLabel:Object(c.tb)("Close (Esc)"),zoomInLabel:Object(c.tb)("Zoom in"),zoomOutLabel:Object(c.tb)("Zoom out")})}}]),a}(l.a.Component);t.a=h},262:function(e,t,a){"use strict";var s=a(3),i=a(5),n=a(7),r=a(6),o=a(2),l=a.n(o),c=a(121),d=a(106),p=a(107),h=a(143),u=a(83),b=a(12),j=a.n(b),m=a(1),g=a(8),f=a(4),O=a(10),v=a(0),x=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).onFileTagChanged=function(e){var t=e.parent_path,a={name:e.filename},s="/"===t?t+e.filename:t+"/"+e.filename;i.props.onFileTagChanged(a,s)},i.onDeleteTaggedFile=function(e){var t=i.props.repoID,a=e.file_tag_id;g.a.deleteFileTag(t,a).then((function(t){i.getTaggedFiles(),i.props.updateUsedRepoTags(),i.props.onFileTagChanged&&!e.file_deleted&&i.onFileTagChanged(e)})).catch((function(e){var t=f.a.getErrorMsg(e);O.a.danger(t)}))},i.getTaggedFiles=function(){var e=i.props,t=e.repoID,a=e.currentTag,s=e.shareLinkToken;(s?g.a.getShareLinkTaggedFiles(s,a.id):g.a.listTaggedFiles(t,a.id)).then((function(e){var t=[];void 0!==e.data.tagged_files&&e.data.tagged_files.forEach((function(e){var a=e;t.push(a)})),i.setState({taggedFileList:t})})).catch((function(e){var t=f.a.getErrorMsg(e);O.a.danger(t)}))},i.state={taggedFileList:[]},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getTaggedFiles()}},{key:"render",value:function(){var e=this,t=this.state.taggedFileList;return Object(v.jsxs)(c.a,{isOpen:!0,style:{maxWidth:"678px"},children:[Object(v.jsx)(d.a,{toggle:this.props.onClose,children:Object(m.tb)("Tagged Files")}),Object(v.jsx)(p.a,{className:"dialog-list-container",children:Object(v.jsxs)("table",{children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{width:"50%",className:"ellipsis",children:Object(m.tb)("Name")}),Object(v.jsx)("th",{width:"20%",children:Object(m.tb)("Size")}),Object(v.jsx)("th",{width:"22%",children:Object(m.tb)("Last Update")}),Object(v.jsx)("th",{width:"8%"})]})}),Object(v.jsx)("tbody",{children:t.map((function(t,a){return Object(v.jsx)(S,{repoID:e.props.repoID,taggedFile:t,onDeleteTaggedFile:e.onDeleteTaggedFile,shareLinkToken:e.props.shareLinkToken,enableFileDownload:e.props.enableFileDownload},a)}))})]})}),Object(v.jsx)(h.a,{children:Object(v.jsx)(u.a,{color:"secondary",onClick:this.props.toggleCancel,children:Object(m.tb)("Close")})})]})}}]),a}(l.a.Component);t.a=x;var S=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).onMouseEnter=function(){i.setState({active:!0})},i.onMouseLeave=function(){i.setState({active:!1})},i.deleteFile=function(e){e.preventDefault(),i.props.onDeleteTaggedFile(i.props.taggedFile)},i.state={active:!1},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.taggedFile,a=e.shareLinkToken,s=e.enableFileDownload,i=t.parent_path?f.a.joinPath(t.parent_path,t.filename):"",n=a?m.vc+"d/"+a+"/files/?p="+f.a.encodePath(i):m.vc+"lib/"+this.props.repoID+"/file"+f.a.encodePath(i);return Object(v.jsxs)("tr",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onMouseEnter,children:[t.file_deleted?Object(v.jsx)(o.Fragment,{children:Object(v.jsxs)("td",{colSpan:"3",className:"name",children:[t.filename," ",Object(v.jsx)("span",{style:{color:"red"},children:Object(m.tb)("deleted")})]})}):Object(v.jsxs)(o.Fragment,{children:[Object(v.jsx)("td",{children:Object(v.jsx)("a",{href:n,target:"_blank",className:"d-inline-block w-100 ellipsis",title:t.filename,rel:"noreferrer",children:t.filename})}),Object(v.jsx)("td",{children:f.a.bytesToSize(t.size)}),Object(v.jsx)("td",{children:j.a.unix(t.mtime).fromNow()})]}),Object(v.jsxs)("td",{children:[!a&&Object(v.jsx)("a",{href:"#",role:"button","aria-label":Object(m.tb)("Delete"),title:Object(m.tb)("Delete"),className:"action-icon sf2-icon-x3".concat(this.state.active?"":" invisible"),onClick:this.deleteFile}),a&&s&&Object(v.jsx)("a",{className:"action-icon sf2-icon-download".concat(this.state.active?"":" invisible"),href:"".concat(n,"&dl=1"),title:Object(m.tb)("Download"),"aria-label":Object(m.tb)("Download")})]})]})}}]),a}(l.a.Component)},264:function(e,t,a){"use strict";var s=a(3),i=a(5),n=a(7),r=a(6),o=a(2),l=a.n(o),c=a(23),d=a(262),p=a(121),h=a(106),u=a(107),b=a(143),j=a(83),m=a(1),g=a(8),f=a(12),O=a.n(f),v=a(113),x=a(10),S=a(4),k=function e(t){Object(s.a)(this,e),this.created=t.created_at,this.createdStr=O()(new Date(t.created_at).getTime()).format("YYYY-MM-DD HH:mm"),this.id=t.id,this.ownerNickname=t.owner_nickname,this.originRepoID=t.origin_repo_id,this.draftFilePath=t.draft_file_path},F=a(0),w=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).onDeleteDraftItem=function(e){v.a.deleteDraft(e.id).then((function(){var t=i.state.drafts.filter((function(t){return t.id!==e.id}));i.setState({drafts:t});var a=Object(m.tb)("Successfully deleted draft %(draft)s.");a=a.replace("%(draft)s",e.draftFilePath),x.a.success(a)})).catch((function(){var t=Object(m.tb)("Failed to delete draft %(draft)s.");t=t.replace("%(draft)s",e.draftFilePath),x.a.danger(t)}))},i.toggle=function(){i.props.toggle()},i.state={drafts:[]},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.listRepoDrafts(this.props.repoID).then((function(t){var a=t.data.drafts.map((function(e){return new k(e)}));e.setState({drafts:a})}))}},{key:"render",value:function(){var e=this;return Object(F.jsxs)(p.a,{isOpen:!0,children:[Object(F.jsx)(h.a,{toggle:this.toggle,children:Object(m.tb)("Drafts")}),Object(F.jsx)(u.a,{className:"dialog-list-container",children:Object(F.jsxs)("table",{children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{width:"50%",className:"ellipsis",children:Object(m.tb)("Name")}),Object(F.jsx)("th",{width:"20%",children:Object(m.tb)("Owner")}),Object(F.jsx)("th",{width:"20%",children:Object(m.tb)("Last Update")}),Object(F.jsx)("th",{width:"10%"})]})}),Object(F.jsx)("tbody",{children:this.state.drafts.map((function(t,a){return Object(F.jsx)(C,{draftItem:t,onDeleteDraftItem:e.onDeleteDraftItem},a)}))})]})}),Object(F.jsx)(b.a,{children:Object(F.jsx)(j.a,{color:"secondary",onClick:this.toggle,children:Object(m.tb)("Close")})})]})}}]),a}(l.a.Component),C=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).onMouseEnter=function(){i.setState({active:!0})},i.onMouseLeave=function(){i.setState({active:!1})},i.state={active:!1},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.draftItem,t=m.vc+"drafts/"+e.id+"/",a=this.state.active?"action-icon sf2-icon-x3":"action-icon vh sf2-icon-x3";return Object(F.jsxs)("tr",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[Object(F.jsx)("td",{className:"name",children:Object(F.jsx)("a",{href:t,target:"_blank",children:S.a.getFileName(e.draftFilePath)})}),Object(F.jsx)("td",{children:e.ownerNickname}),Object(F.jsx)("td",{children:O()(e.createdStr).fromNow()}),Object(F.jsx)("td",{children:Object(F.jsx)("i",{className:a,onClick:this.props.onDeleteDraftItem.bind(this,e)})})]})}}]),a}(l.a.Component),y=a(52),D=a(19),I=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).state={readmeContent:null,isLoading:!0},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.getFileDownloadLink(this.props.repoID,this.props.filePath).then((function(t){g.a.getFileContent(t.data).then((function(t){e.setState({readmeContent:t.data,isLoading:!1})}))})).catch((function(e){var t=S.a.getErrorMsg(e);x.a.danger(t)}))}},{key:"render",value:function(){return Object(F.jsxs)(p.a,{isOpen:!0,toggle:this.props.toggleCancel,className:"readme-dialog",size:"lg",children:[Object(F.jsxs)(h.a,{children:[this.props.fileName,Object(F.jsx)("a",{className:"readme-dialog-edit",href:this.props.href,target:"_blank",children:Object(F.jsx)("i",{className:"fa fa-pencil-alt"})})]}),Object(F.jsx)(u.a,{children:this.state.isLoading?Object(F.jsx)(D.a,{}):Object(F.jsx)(y.d,{markdownContent:this.state.readmeContent,showTOC:!1,scriptSource:m.Rb+"js/mathjax/tex-svg.js"})}),Object(F.jsx)(b.a,{children:Object(F.jsx)(j.a,{color:"secondary",onClick:this.props.toggleCancel,children:Object(m.tb)("Close")})})]})}}]),a}(l.a.Component),N=(a(542),function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).onListTaggedFiles=function(e){i.setState({currentTag:e,isListTaggedFileShow:!i.state.isListTaggedFileShow})},i.onCloseDialog=function(){i.setState({isListTaggedFileShow:!1})},i.toggleDrafts=function(){i.setState({showRepoDrafts:!i.state.showRepoDrafts})},i.toggleReadme=function(){i.setState({showReadmeDialog:!i.state.showReadmeDialog})},i.state={currentTag:null,isListTaggedFileShow:!1,showRepoDrafts:!1,showReadmeDialog:!1},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.repoID,s=t.currentPath,i=t.usedRepoTags,n=t.readmeMarkdown,r=t.draftCounts,o=t.className;void 0===n&&(n=null),void 0===r&&(r=0);var l=null!==n?m.vc+"lib/"+a+"/file"+S.a.joinPath(s,n.name)+"?mode=edit":"",p=null!==n?s+n.name:"";return Object(F.jsxs)("div",{className:"repo-info-bar ".concat(o||""),children:[i.length>0&&Object(F.jsx)("ul",{className:"used-tag-list",children:i.map((function(t){return Object(F.jsxs)("li",{className:"used-tag-item",children:[Object(F.jsx)("span",{className:"used-tag",style:{backgroundColor:t.color}}),Object(F.jsx)("span",{className:"used-tag-name",title:t.name,children:t.name}),Object(F.jsx)("button",{type:"button",className:"used-tag-files border-0 bg-transparent",onClick:e.onListTaggedFiles.bind(e,t),children:t.fileCount>1?t.fileCount+" files":t.fileCount+" file"})]},t.id)}))}),Object(F.jsxs)("div",{className:i.length>0&&n?"file-info-list mt-1":"file-info-list",children:[null!==n&&parseInt(n.size)>1&&Object(F.jsxs)("span",{className:"file-info",onClick:this.toggleReadme,children:[Object(F.jsx)("span",{className:"info-icon sf2-icon-readme"}),Object(F.jsx)("span",{className:"used-tag-name",children:n.name})]}),null!==n&&parseInt(n.size)<2&&Object(F.jsxs)("span",{className:"file-info",children:[Object(F.jsx)("span",{className:"info-icon sf2-icon-readme"}),Object(F.jsx)("a",{className:"used-tag-name",href:l,target:"_blank",rel:"noreferrer",children:n.name})]}),r>0&&Object(F.jsxs)("span",{className:"file-info",children:[Object(F.jsx)("span",{className:"info-icon sf2-icon-drafts"}),Object(F.jsx)("span",{className:"used-tag-name",children:Object(m.tb)("draft")}),Object(F.jsx)("button",{type:"button",className:"used-tag-files border-0 bg-transparent",onClick:this.toggleDrafts,children:r>1?r+" files":r+" file"})]})]}),this.state.isListTaggedFileShow&&Object(F.jsx)(c.a,{children:Object(F.jsx)(d.a,{repoID:a,currentTag:this.state.currentTag,onClose:this.onCloseDialog,toggleCancel:this.onListTaggedFiles,updateUsedRepoTags:this.props.updateUsedRepoTags,onFileTagChanged:this.props.onFileTagChanged,shareLinkToken:this.props.shareLinkToken,enableFileDownload:this.props.enableFileDownload})}),this.state.showRepoDrafts&&Object(F.jsx)(c.a,{children:Object(F.jsx)(w,{toggle:this.toggleDrafts,repoID:this.props.repoID})}),this.state.showReadmeDialog&&Object(F.jsx)(c.a,{children:Object(F.jsx)(I,{toggleCancel:this.toggleReadme,repoID:a,filePath:p,href:l,fileName:n.name})})]})}}]),a}(l.a.Component));t.a=N},371:function(e,t,a){"use strict";var s=a(3),i=a(5),n=a(7),r=a(6),o=a(2),l=a.n(o),c=a(121),d=a(106),p=a(107),h=a(1),u=a(0),b=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.asyncOperationProgress,s=e.asyncOperatedFilesLength,i="move"===t?Object(h.tb)("Move {num} items"):Object(h.tb)("Copy {num} items");i=i.replace("{num}",s);var n={width:a+"%",lineHeight:"40px",textAlign:"left"};return Object(u.jsxs)(c.a,{isOpen:!0,children:[Object(u.jsx)(d.a,{toggle:this.props.toggleDialog,children:i}),Object(u.jsx)(p.a,{style:{minHeight:"80px"},children:Object(u.jsx)("div",{className:"progress",style:{height:"40px"},children:Object(u.jsx)("div",{className:"progress-bar pl-2",role:"progressbar",style:n,"aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100",children:a+"%"})})})]})}}]),a}(l.a.Component);t.a=b},542:function(e,t,a){},543:function(e,t,a){}},[[1686,1,0]]]);
//# sourceMappingURL=sharedDirView.chunk.js.map