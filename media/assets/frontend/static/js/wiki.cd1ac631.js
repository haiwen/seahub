/*! For license information please see wiki.cd1ac631.js.LICENSE.txt */
(self.webpackChunkseahub_frontend=self.webpackChunkseahub_frontend||[]).push([[6419],{29009:function(e,t,n){"use strict";var o=n(23029),a=n(92901),i=n(39874),r=n(85501),s=n(9950),l=n(5495),d=n(69123),c=n(65276),u=n(34940),f=n(92795),p=n(46757),m=n(31095),h=n(65604),v=n(44414),g=function(e){function t(e){var n;return(0,o.default)(this,t),(n=(0,i.default)(this,t,[e])).registerHandlers=function(){document.addEventListener("mousedown",n.handleOutsideClick),document.addEventListener("touchstart",n.handleOutsideClick),document.addEventListener("scroll",n.handleHide),document.addEventListener("contextmenu",n.handleHide),document.addEventListener("keydown",n.handleKeyNavigation),window.addEventListener("resize",n.handleHide)},n.unregisterHandlers=function(){document.removeEventListener("mousedown",n.handleOutsideClick),document.removeEventListener("touchstart",n.handleOutsideClick),document.removeEventListener("scroll",n.handleHide),document.removeEventListener("contextmenu",n.handleHide),document.removeEventListener("keydown",n.handleKeyNavigation),window.removeEventListener("resize",n.handleHide)},n.handleShow=function(e){if(e.detail.id===n.props.id){var t=e.detail.position,o=t.x,a=t.y;if(n.props.getMenuContainerSize){var i=n.props.getMenuContainerSize(),r=o-(window.innerWidth-parseFloat(i.width)),s=a-(window.innerHeight-parseFloat(i.height));n.setState({x:r,y:s})}else n.setState({x:o,y:a});var l=e.detail,d=l.currentObject,c=l.menuList;n.setState({isVisible:!0,currentObject:d,menuList:c}),n.registerHandlers(),(0,m._$)(n.props.onShowMenu,e)}},n.handleHide=function(e){!n.state.isVisible||e.detail&&e.detail.id&&e.detail.id!==n.props.id||(n.unregisterHandlers(),n.setState({isVisible:!1}),(0,m._$)(n.props.onHideMenu,e))},n.handleOutsideClick=function(e){n.menu.contains(e.target)||(0,p.ks)()},n.handleMouseLeave=function(e){e.preventDefault()},n.handleContextMenu=function(e){n.handleHide(e)},n.handleKeyNavigation=function(e){!1!==n.state.isVisible&&(e.preventDefault(),n.hideMenu(e))},n.hideMenu=function(e){27!==e.keyCode&&13!==e.keyCode||(0,p.ks)()},n.getMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o={top:t,left:e};if(!n.menu)return o;var a=window,i=a.innerWidth,r=a.innerHeight,s=n.menu.getBoundingClientRect();if(n.props.getMenuContainerSize){var l=n.props.getMenuContainerSize();i=parseFloat(l.width),r=parseFloat(l.height)}return t+s.height>r-10&&(o.top=r-s.height-10),e+s.width>i-10&&(o.left=i-s.width-10),o.left<0&&(o.left=s.width<i?(i-s.width)/2:0),o.top<0&&(o.top=s.height<r?(r-s.height)/2:0),o},n.onMenuItemClick=function(e){e.stopPropagation();var t=h.Aq.getEventData(e,"operation"),o=n.state.currentObject;n.props.onMenuItemClick(t,o,e)},n.onContextMenu=function(e){e.stopPropagation()},n.onDropDownMouseMove=function(e){n.state.isSubMenuShown&&n.setState({isSubMenuShown:!1})},n.toggleSubMenu=function(e){e.stopPropagation(),n.setState({isSubMenuShown:!n.state.isSubMenuShown})},n.toggleSubMenuShown=function(e){n.setState({isSubMenuShown:!0,currentItem:e.key})},n.state={x:0,y:0,isVisible:!1,currentObject:null,menuList:[],isSubMenuShown:!1,currentItem:""},n}return(0,r.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){this.listenId=f.A.register(this.handleShow,this.handleHide)}},{key:"componentDidUpdate",value:function(){var e=this;if(this.state.isVisible){var t=window.requestAnimationFrame||setTimeout;t((function(){var n=e.state,o=n.x,a=n.y,i=e.getMenuPosition(o,a),r=i.top,s=i.left;t((function(){e.menu&&(e.menu.style.top="".concat(r,"px"),e.menu.style.left="".concat(s,"px"),e.menu.style.opacity=1,e.menu.style.pointerEvents="auto")}))}))}else{if(!this.menu)return;this.menu.style.opacity=0,this.menu.style.pointerEvents="none"}}},{key:"componentWillUnmount",value:function(){this.listenId&&f.A.unregister(this.listenId),this.unregisterHandlers()}},{key:"render",value:function(){var e=this;return(0,v.jsx)("div",{role:"menu",className:"seafile-contextmenu dropdown-menu",style:{position:"fixed",opacity:0,pointerEvents:"none",display:"block"},ref:function(t){e.menu=t},children:this.state.menuList.map((function(t,n){return"Divider"===t?(0,v.jsx)("div",{className:"seafile-divider dropdown-divider"},n):t.subOpList?(0,v.jsxs)(l.A,{direction:"right",className:"w-100",isOpen:e.state.isSubMenuShown&&e.state.currentItem==t.key,toggle:e.toggleSubMenu,onMouseMove:function(e){e.stopPropagation()},children:[(0,v.jsxs)(d.A,{tag:"span",className:"dropdown-item font-weight-normal rounded-0 d-flex align-items-center",onMouseEnter:e.toggleSubMenuShown.bind(e,t),children:[(0,v.jsx)("span",{className:"mr-auto",children:t.value}),(0,v.jsx)("i",{className:"sf3-font-down sf3-font rotate-270"})]}),(0,v.jsx)(c.A,{children:t.subOpList.map((function(t,n){return"Divider"==t?(0,v.jsx)(u.A,{divider:!0},n):(0,v.jsx)(u.A,{"data-operation":t.key,onClick:e.onMenuItemClick,onContextMenu:e.onContextMenu,children:t.value},n)}))})]},n):(0,v.jsx)("button",{className:"seafile-contextmenu-item dropdown-item","data-operation":t.key,onClick:e.onMenuItemClick,onContextMenu:e.onContextMenu,onMouseMove:e.onDropDownMouseMove,children:t.value},n)}))})}}])}(s.Component);t.A=g},54352:function(e,t,n){"use strict";n.d(t,{A:function(){return C}});var o=n(23029),a=n(92901),i=n(39874),r=n(85501),s=n(9950),l=n(5495),d=n(69123),c=n(65276),u=n(34940),f=n(92795),p=n(40326),m=n(65604),h=n(40866),v=n(48738),g=n.n(v),E=n(44414),b=function(e){var t=e.menuItem,n=e.onClick,o=e.onKeyDown,a=e.onMouseMove,i=e.tickable,r=void 0!==i&&i,l=e.isSubMenuItem,d=void 0!==l&&l,c=(0,s.useCallback)((function(e){n&&n(e)}),[n]),f=(0,s.useCallback)((function(e){o&&o(e)}),[o]);return(0,E.jsxs)(u.A,{className:g()({"position-relative pl-5":r&&!d}),"data-toggle":t.key,onClick:c,onKeyDown:f,onMouseMove:d?void 0:a,children:[!d&&t.tick&&(0,E.jsx)("i",{className:"dropdown-item-tick sf2-icon-tick"}),t.icon_dom||null,d?(0,E.jsx)("span",{children:t.value}):t.value]})},C=(n(55351),function(e){function t(e){var n;return(0,o.default)(this,t),(n=(0,i.default)(this,t,[e])).removeUselessDivider=function(e){for(;e&&"Divider"===e[0];)e.shift();return e},n.onShowMenu=function(){},n.onHideMenu=function(){n.state.isItemMenuShow&&(n.setState({isItemMenuShow:!1,isSubMenuShown:!1}),"function"===typeof n.props.unfreezeItem&&n.props.unfreezeItem())},n.onDropdownToggleKeyDown=function(e){"Enter"!=e.key&&"Space"!=e.key||n.onDropdownToggleClick(e)},n.onDropdownToggleClick=function(e){e.preventDefault(),e.stopPropagation(),n.toggleOperationMenu()},n.toggleOperationMenu=function(){n.setState({isItemMenuShow:!n.state.isItemMenuShow,isSubMenuShown:!1},(function(){n.state.isItemMenuShow&&"function"===typeof n.props.freezeItem?n.props.freezeItem():n.state.isItemMenuShow||"function"!==typeof n.props.unfreezeItem||n.props.unfreezeItem()}))},n.onMenuItemKeyDown=function(e){"Enter"!=e.key&&"Space"!=e.key||n.onMenuItemClick(e)},n.onMenuItemClick=function(e){var t,o=null!==(t=m.Aq.getEventData(e,"toggle"))&&void 0!==t?t:e.currentTarget.getAttribute("data-toggle"),a=n.props.item;"function"===typeof n.props.unfreezeItem&&n.props.unfreezeItem(),n.props.onMenuItemClick(o,e,a),n.setState({isItemMenuShow:!1})},n.onDropDownMouseMove=function(){n.state.isSubMenuShown&&n.setState({isSubMenuShown:!1})},n.toggleSubMenu=function(e){e.stopPropagation(),n.setState({isSubMenuShown:!n.state.isSubMenuShown})},n.toggleSubMenuShown=function(e){n.setState({isSubMenuShown:!0,currentItem:e.key})},n.state={menuList:[],isItemMenuShow:!1,isSubMenuShown:!1,currentItem:""},n.dropdownRef=s.createRef(),n.mainMenuDirection="down",n.subMenuDirection="right",n}return(0,r.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.isHandleContextMenuEvent;(void 0===t||t)&&(this.listenerId=f.A.register(this.onShowMenu,this.onHideMenu)),this.setState({menuList:this.removeUselessDivider(this.props.getMenuList(this.props.item))}),setTimeout((function(){if(e.dropdownRef.current){var t,n=e.dropdownRef.current.getBoundingClientRect(),o=window.innerHeight-n.bottom,a=n.top;if(o<400&&a<400)t=window.innerWidth-n.right>=200?"right":"left";else t=o<400?"up":"down";e.mainMenuDirection=t,e.subMenuDirection=window.innerWidth-e.dropdownRef.current.getBoundingClientRect().right<400?"left":"right"}}),1)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.removeUselessDivider(e.getMenuList(e.item));e.item.name===this.props.item.name&&this.state.menuList===t||this.setState({menuList:t})}},{key:"componentWillUnmount",value:function(){var e=this.props.isHandleContextMenuEvent;(void 0===e||e)&&this.listenerId&&f.A.unregister(this.listenerId)}},{key:"render",value:function(){var e=this,t=this.state.menuList,n=this.props,o=n.toggleClass,a=void 0===o?"sf3-font-more sf3-font":o,i=n.toggleChildren,r=n.tagName,s=n.menuStyle,f=void 0===s?{}:s;return a="sf-dropdown-toggle "+a,t.length?r&&"button"===r?(0,E.jsxs)(l.A,{isOpen:this.state.isItemMenuShow,toggle:this.onDropdownToggleClick,children:[(0,E.jsx)(d.A,{tag:"span",className:this.props.toggleClass,"data-toggle":"dropdown",title:(0,p.APU)("More operations"),"aria-label":(0,p.APU)("More operations"),"aria-expanded":this.state.isItemMenuShow,onKeyDown:this.onDropdownToggleKeyDown,children:i}),(0,E.jsx)(c.A,{children:t.map((function(t,n){return"Divider"===t?(0,E.jsx)(u.A,{divider:!0},n):(0,E.jsx)(u.A,{"data-toggle":t.key,onClick:e.onMenuItemClick,onKeyDown:e.onMenuItemKeyDown,children:t.value},n)}))})]}):(0,E.jsxs)(l.A,{isOpen:this.state.isItemMenuShow,toggle:this.onDropdownToggleClick,className:"vam",direction:this.mainMenuDirection,children:[(0,E.jsx)(d.A,{tag:r||"i",role:"button",tabIndex:"0",className:a,title:(0,p.APU)("More operations"),"data-toggle":"dropdown","aria-expanded":this.state.isItemMenuShow,"aria-label":(0,p.APU)("More operations"),onKeyDown:this.onDropdownToggleKeyDown,innerRef:this.dropdownRef}),(0,E.jsx)(h.A,{children:(0,E.jsx)(c.A,{style:f,children:t.map((function(t,n){return"Divider"===t?(0,E.jsx)(u.A,{divider:!0},n):t.subOpList?(0,E.jsxs)(l.A,{direction:e.subMenuDirection,className:"w-100",isOpen:e.state.isSubMenuShown&&e.state.currentItem==t.key,toggle:e.toggleSubMenu,onMouseMove:function(e){e.stopPropagation()},children:[(0,E.jsxs)(d.A,{tag:"span",className:"dropdown-item font-weight-normal rounded-0 d-flex align-items-center",onMouseEnter:e.toggleSubMenuShown.bind(e,t),children:[(0,E.jsx)("span",{className:"mr-auto",children:t.value}),(0,E.jsx)("i",{className:"sf3-font-down sf3-font rotate-270"})]}),(0,E.jsxs)(c.A,{children:[t.subOpListHeader&&(0,E.jsx)(u.A,{header:!0,children:t.subOpListHeader}),t.subOpList.map((function(t,n){return"Divider"==t?(0,E.jsx)(u.A,{divider:!0},n):(0,E.jsx)(b,{menuItem:t,onClick:e.onMenuItemClick,onKeyDown:e.onMenuItemKeyDown,isSubMenuItem:!0},n)}))]})]},n):(0,E.jsx)(b,{menuItem:t,onClick:e.onMenuItemClick,onKeyDown:e.onMenuItemKeyDown,onMouseMove:e.onDropDownMouseMove,tickable:e.props.tickable},n)}))})})]}):""}}])}(s.Component))},79837:function(e,t,n){"use strict";n.d(t,{A:function(){return E}});var o=n(23029),a=n(92901),i=n(39874),r=n(85501),s=n(9950),l=n(94634),d=n(40326),c=n(54352),u=n(65604),f=n(45613),p=n(95754),m=n(44414),h=function(e){function t(e){var n;(0,o.default)(this,t),(n=(0,i.default)(this,t,[e])).onMouseEnter=function(){n.props.isItemFreezed||n.setState({isShowOperationMenu:!0,isHighlight:!0})},n.onMouseOver=function(){n.props.isItemFreezed||n.setState({isShowOperationMenu:!0,isHighlight:!0})},n.onMouseLeave=function(){n.props.isItemFreezed||n.setState({isShowOperationMenu:!1,isHighlight:!1})},n.onNodeClick=function(){var e=n.props.node.object;if(e.isDir())n.props.onNodeClick(n.props.node);else{var t=u.Aq.getUserPermission(e.permission),o=t.isCustomPermission,a=t.customPermission;if(o){var i=a.permission,r=i.preview,s=i.modify;if(!r&&!s)return}n.props.onNodeClick(n.props.node)}},n.onLoadToggle=function(e){e.stopPropagation();var t=n.props.node;t.isExpanded?n.props.onNodeCollapse(t):n.props.onNodeExpanded(t)},n.onNodeDragStart=function(e){if(u.Aq.isIEBrowser()||!n.canDrag)return!1;n.props.onNodeDragStart(e,n.props.node)},n.onNodeDragEnter=function(e){if(u.Aq.isIEBrowser()||!n.canDrag)return!1;"dir"===n.props.node.object.type&&n.setState({isNodeDropShow:!0}),n.props.onNodeDragEnter(e,n.props.node)},n.onNodeDragMove=function(e){if(u.Aq.isIEBrowser()||!n.canDrag)return!1;n.props.onNodeDragMove(e)},n.onNodeDragLeave=function(e){if(u.Aq.isIEBrowser()||!n.canDrag)return!1;n.setState({isNodeDropShow:!1}),n.props.onNodeDragLeave(e,n.props.node)},n.onNodeDrop=function(e){if(u.Aq.isIEBrowser()||!n.canDrag)return!1;e.stopPropagation(),n.setState({isNodeDropShow:!1}),n.props.onNodeDrop(e,n.props.node)},n.unfreezeItem=function(){n.setState({isShowOperationMenu:!1}),n.props.unfreezeItem()},n.onMenuItemClick=function(e,t,o){n.props.onMenuItemClick(e,o)},n.onItemMouseDown=function(e){e.stopPropagation(),e.button},n.onItemContextMenu=function(e){n.handleContextClick(e)},n.handleContextClick=function(e){n.props.handleContextClick(e,n.props.node),n.setState({isShowOperationMenu:!1})},n.getNodeTypeAndIcon=function(){var e=n.props.node,t="",o="";if("dir"===e.object.type)t=(0,m.jsx)(p.A,{symbol:"folder",className:"sf3-font-folder-icon"}),o="dir";else{var a=e.object.name.lastIndexOf(".");if(-1===a)t=(0,m.jsx)(p.A,{symbol:"file"}),o="file";else{var i=e.object.name.slice(a).toLowerCase();".png"===i||".jpg"===i||".jpeg"===i||".gif"===i||".bmp"===i?(t=(0,m.jsx)(p.A,{symbol:"gallery"}),o="image"):(t=(0,m.jsx)(p.A,{symbol:"file"}),o="file")}}return{icon:t,type:o}},n.calculateMenuList=function(e){var t=l.A.NEW_FOLDER,o=l.A.NEW_FILE,a=l.A.COPY,i=l.A.MOVE,r=l.A.RENAME,s=l.A.DELETE,d=l.A.OPEN_VIA_CLIENT,c=[r,s,a,i,d];"dir"===e.object.type&&(c=[t,o,a,i,r,s]);var f=n.props.userPerm,p=u.Aq.getUserPermission(f),m=p.isCustomPermission,h=p.customPermission;if(!m)return c;c=[];var v=h.permission,g=v.create,E=v.modify,b=v.delete,C=v.copy;return"dir"===e.object.type&&g&&c.push(t,o),C&&c.push(a),E&&c.push(i,r),b&&c.push(s),"dir"!==e.object.type&&c.push(d),c},n.renderChildren=function(){var e=n.props.node;return e.hasChildren()?(0,m.jsx)("div",{className:"children",children:e.children.map((function(e){return(0,m.jsx)(t,{node:e,leftIndent:n.props.leftIndent+20,userPerm:n.props.userPerm,currentPath:n.props.currentPath,isNodeMenuShow:n.props.isNodeMenuShow,isItemFreezed:n.props.isItemFreezed,onNodeClick:n.props.onNodeClick,onNodeCollapse:n.props.onNodeCollapse,onNodeExpanded:n.props.onNodeExpanded,freezeItem:n.props.freezeItem,onMenuItemClick:n.props.onMenuItemClick,unfreezeItem:n.unfreezeItem,onNodeDragStart:n.props.onNodeDragStart,onNodeDragMove:n.props.onNodeDragMove,onNodeDrop:n.props.onNodeDrop,onNodeDragEnter:n.props.onNodeDragEnter,onNodeDragLeave:n.props.onNodeDragLeave,handleContextClick:n.props.handleContextClick,isDisplayFiles:n.props.isDisplayFiles},e.path)}))}):""},n.state={isHighlight:!1,isShowOperationMenu:!1,isNodeDropShow:!1};var a=e.userPerm;n.canDrag="rw"===a;var r=u.Aq.getUserPermission(a),s=r.isCustomPermission,d=r.customPermission;if(s){var c=d.permission.modify;n.canDrag=c}return n}return(0,r.default)(t,e),(0,a.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isItemFreezed||this.setState({isShowOperationMenu:!1,isHighlight:!1})}},{key:"render",value:function(){var e=this.props,t=e.currentPath,n=e.node,o=e.isNodeMenuShow,a=e.userPerm,i=e.leftIndent,r=this.getNodeTypeAndIcon(),s=r.type,l=r.icon,p=this.state.isHighlight?"tree-node-inner-hover ":"";if(n.path===t&&(p="tree-node-hight-light"),"/"!==n.path&&"dir"!==s&&!this.props.isDisplayFiles)return"";var h=u.Aq.getUserPermission(a).isCustomPermission;return(0,m.jsxs)("div",{className:"tree-node",children:[(0,m.jsxs)("div",{type:s,className:"tree-node-inner text-nowrap ".concat(p," ").concat("/"===n.path?"hide":""," ").concat(this.state.isNodeDropShow?"tree-node-drop":""),title:n.object.name,onMouseEnter:this.onMouseEnter,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onMouseDown:this.onItemMouseDown,onContextMenu:this.onItemContextMenu,onClick:this.onNodeClick,onKeyDown:u.Aq.onKeyDown,onFocus:this.onMouseEnter,tabIndex:"0",children:[(0,m.jsx)("div",{className:"tree-node-text",draggable:this.canDrag,onDragStart:this.onNodeDragStart,onDragEnter:this.onNodeDragEnter,onDragLeave:this.onNodeDragLeave,onDragOver:this.onNodeDragMove,onDrop:this.onNodeDrop,style:{paddingLeft:i+5},children:n.object.name}),(0,m.jsxs)("div",{className:"left-icon",style:{left:i-40},children:["dir"===s&&(!n.isLoaded||n.isLoaded&&n.hasChildren())&&(0,m.jsx)(f.A,{className:"folder-toggle-icon ".concat(n.isExpanded?"rotate-90":""),symbol:"right_arrow",title:n.isExpanded?(0,d.APU)("Fold"):(0,d.APU)("Unfold"),onMouseDown:function(e){return e.stopPropagation()},op:this.onLoadToggle}),(0,m.jsx)("span",{className:"tree-node-icon",children:l})]}),o&&("rw"===a||d.EK0||h)&&this.state.isShowOperationMenu&&(0,m.jsx)("div",{className:"right-icon",children:(0,m.jsx)(c.A,{item:this.props.node,toggleClass:"sf3-font sf3-font-more",getMenuList:this.calculateMenuList,onMenuItemClick:this.onMenuItemClick,freezeItem:this.props.freezeItem,unfreezeItem:this.unfreezeItem,menuStyle:u.Fr?{zIndex:1050}:{}})})]}),n.isExpanded&&this.renderChildren()]})}}])}(s.Component),v=n(29009),g=n(46757),E=function(e){function t(e){var n;(0,o.default)(this,t),(n=(0,i.default)(this,t,[e])).onNodeDragStart=function(e,t){if(u.Aq.isIEBrowser())return!1;var n={nodeDirent:t.object,nodeParentPath:t.parentNode.path,nodeRootPath:t.path};n=JSON.stringify(n),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("application/drag-item-info",n)},n.onNodeDragEnter=function(e,t){if(u.Aq.isIEBrowser()||!n.canDrop)return!1;e.persist(),"tree-view tree "===e.target.className&&n.setState({isTreeViewDropTipShow:!0})},n.onNodeDragMove=function(e){if(u.Aq.isIEBrowser()||!n.canDrop)return!1;e.preventDefault(),e.dataTransfer.dropEffect="move"},n.onNodeDragLeave=function(e,t){if(u.Aq.isIEBrowser()||!n.canDrop)return!1;"tree-view tree tree-view-drop"===e.target.className&&n.setState({isTreeViewDropTipShow:!1})},n.onContainerClick=function(e){(0,g.ks)()},n.onNodeClick=function(e){(0,g.ks)(),n.props.onNodeClick(e)},n.onNodeDrop=function(e,t){if(u.Aq.isIEBrowser()||!n.canDrop)return!1;if(!e.dataTransfer.files.length){var o=e.dataTransfer.getData("application/drag-item-info");if(o){var a=o=JSON.parse(o),i=a.nodeDirent,r=a.nodeParentPath,s=a.nodeRootPath,l=t;if(Array.isArray(o))return l?void n.onMoveItems(o,l,n.props.currentRepoInfo,l.path):("/"===o[0].nodeParentPath||n.props.onItemsMove(n.props.currentRepoInfo,"/"),void n.setState({isTreeViewDropTipShow:!1}));if(!l)return"/"===r||n.props.onItemMove(n.props.currentRepoInfo,i,"/",r),void n.setState({isTreeViewDropTipShow:!1});if("dir"===l.object.type&&r!==l.path&&(r!==l.parentNode.path||l.object.name!==i.name)){if("dir"===l.object.type&&"dir"===i.type)if(l.parentNode.path!==r)if(u.Aq.getPaths(l.path).includes(s))return;n.props.onItemMove(n.props.currentRepoInfo,i,l.path,r)}}}},n.onMoveItems=function(e,t,o,a){var i=[],r=u.Aq.getPaths(a);(e.forEach((function(e){var t=e.nodeRootPath;i.push(t)})),"dir"===t.object.type)&&(i.some((function(e){return e===a}))||e[0].nodeParentPath&&e[0].nodeParentPath===t.path||i.some((function(e){return r.includes(e)}))||n.props.onItemsMove(o,a))},n.freezeItem=function(){n.setState({isItemFreezed:!0})},n.unfreezeItem=function(){n.setState({isItemFreezed:!1})},n.onMenuItemClick=function(e,t){n.props.onMenuItemClick(e,t),(0,g.ks)()},n.onMouseDown=function(e){e.stopPropagation(),e.button},n.onContextMenu=function(e){e.preventDefault();var t=n.props.currentRepoInfo;if("admin"!==t.permission&&"rw"!==t.permission)return"";n.handleContextClick(e)},n.handleContextClick=function(e,t){if(e.preventDefault(),e.stopPropagation(),n.props.isNodeMenuShow){var o=e.clientX||e.touches&&e.touches[0].pageX,a=e.clientY||e.touches&&e.touches[0].pageY;n.props.posX&&(o-=n.props.posX),n.props.posY&&(a-=n.props.posY),(0,g.ks)();var i=n.getMenuList(t),r={id:"tree-node-contextmenu",position:{x:o,y:a},target:e.target,currentObject:t,menuList:i};(0,g.db)(r)}},n.getMenuList=function(e){var t=[],o=l.A.NEW_FOLDER,a=l.A.NEW_FILE,i=l.A.COPY,r=l.A.MOVE,s=l.A.RENAME,d=l.A.DELETE,c=l.A.OPEN_VIA_CLIENT;if(!e)return[o,a];t="dir"===e.object.type?[o,a,i,r,s,d]:[s,d,i,r,c];var f=n.props.userPerm,p=u.Aq.getUserPermission(f),m=p.isCustomPermission,h=p.customPermission;if(!m)return t;t=[];var v=h.permission,g=v.create,E=v.modify,b=v.delete,C=v.copy;return e?("dir"===e.object.type&&g&&t.push(o,a),C&&t.push(i),E&&t.push(r,s),b&&t.push(d),"dir"!==e.object.type&&t.push(c),t):(g&&t.push(o,a),t)},n.onShowMenu=function(){n.freezeItem()},n.onHideMenu=function(){n.unfreezeItem()},n.state={isItemFreezed:!1,isTreeViewDropTipShow:!1};var a=e.userPerm;n.canDrop="rw"===a;var r=u.Aq.getUserPermission(a),s=r.isCustomPermission,d=r.customPermission;if(s){var c=d.permission.modify;n.canDrop=c}return n}return(0,r.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return(0,m.jsxs)("div",{className:"tree-view tree ".concat(this.state.isTreeViewDropTipShow&&this.canDrop?"tree-view-drop":""),onDrop:this.onNodeDrop,onDragEnter:this.onNodeDragEnter,onDragLeave:this.onNodeDragLeave,onMouseDown:this.onMouseDown,onContextMenu:this.onContextMenu,onClick:this.onContainerClick,children:[(0,m.jsx)(h,{userPerm:this.props.userPerm,node:this.props.treeData.root,currentPath:this.props.currentPath,leftIndent:20,isNodeMenuShow:this.props.isNodeMenuShow,isItemFreezed:this.state.isItemFreezed,onNodeClick:this.onNodeClick,onMenuItemClick:this.props.onMenuItemClick,onNodeExpanded:this.props.onNodeExpanded,onNodeCollapse:this.props.onNodeCollapse,onNodeDragStart:this.onNodeDragStart,freezeItem:this.freezeItem,unfreezeItem:this.unfreezeItem,onNodeDragMove:this.onNodeDragMove,onNodeDrop:this.onNodeDrop,onNodeDragEnter:this.onNodeDragEnter,onNodeDragLeave:this.onNodeDragLeave,handleContextClick:this.handleContextClick,isDisplayFiles:this.props.isDisplayFiles}),(0,m.jsx)(v.A,{id:"tree-node-contextmenu",onMenuItemClick:this.onMenuItemClick,onHideMenu:this.onHideMenu,onShowMenu:this.onShowMenu,getMenuContainerSize:this.props.getMenuContainerSize})]})}}])}(s.Component)},17312:function(e,t,n){"use strict";var o=n(9950),a=n(1352),i=n(23029),r=n(92901),s=n(39874),l=n(85501),d=n(4159),c=n.n(d),u=n(37609),f=n.n(u),p=n(53496),m=n(8081),h=n(65604),v=n(40326),g=n(97011),E=n(84878),b=n(56044),C=n(25547),A=n(49403),w=n(9961),N=n(79837),S=n(92203),y=function(){return(0,r.default)((function e(t){var n=t.name,o=t.href,a=t.parentNode;(0,i.default)(this,e),this.name=n,this.href=o,this.parentNode=a||null,this.children=[]}),[{key:"setParent",value:function(e){this.parentNode=e}},{key:"addChildren",value:function(e){this.children=e}}])}(),I=function(e,t){var n=e.name,o="/"===t?t+n:t+"/"+n;e.path=o,e.children.length>0&&e.children.forEach((function(e){I(e,o)}))},x=function(e){var t;if(e.children[1]&&"link"===e.children[1].type){var n=e.children[1],o=n.children[0],a=o?o.text:"";t=new y({name:a,href:n.url})}else if(e.children[0]){var i=e.children[0],r=i.text?i.text:"";t=new y({name:r,href:""})}else t=new y({name:"",href:""});return t},k=function(e,t){var n=e.map((function(e){if(2!==e.children.length||"unordered_list"!==e.children[1].type&&"ordered_list"!==e.children[1].type)return e.children[0]&&"paragraph"===e.children[0].type?x(e.children[0]):new y({name:"",href:""});var t=e.children[0],n=x(t),o=e.children[1];return k(o.children,n)}));return t.addChildren(n),t},D=n(48738),M=n.n(D),L=n(44414),T=function(e){function t(e){var n;return(0,i.default)(this,t),(n=(0,s.default)(this,t,[e])).toggleExpanded=function(){var e=n.state.expanded;n.setState({expanded:!e})},n.onLinkClick=function(e){e.preventDefault();var t=n.props.node,o=n.state.expanded;t.children&&t.children.length>0&&!o?n.setState({expanded:!o}):n.props.onLinkClick(t)},n.itemClick=function(){var e=n.props.node,t=n.state.expanded;e.children&&e.children.length>0&&n.setState({expanded:!t})},n.renderLink=function(e){var t=e.href,o=e.name,a=e.path,i=e.children,r=n.props.currentPath,s=M()("wiki-nav-content",{"no-children":!i||0===i.length,"wiki-nav-content-highlight":r===a});return t&&o?(0,L.jsx)("div",{className:s,children:(0,L.jsx)("a",{href:t,"data-path":a,onClick:n.onLinkClick,title:o,children:o})}):o?(0,L.jsx)("div",{className:s,onClick:n.itemClick,children:(0,L.jsx)("span",{title:o,children:o})}):null},n.state={expanded:!1},n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,n=this.props.node,o=this.state.expanded;return n.children.length>0?(0,L.jsxs)("div",{className:"pl-4 position-relative",children:[(0,L.jsx)("span",{className:"switch-btn",onClick:this.toggleExpanded,children:(0,L.jsx)("i",{className:"sf3-font sf3-font-down ".concat(o?"":"rotate-270 d-inline-block"),"aria-hidden":"true"})}),this.renderLink(n),o&&n.children.map((function(n,o){return(0,L.jsx)(t,{node:n,currentPath:e.props.currentPath,onLinkClick:e.props.onLinkClick},o)}))]}):this.renderLink(n)}}])}(o.Component),P=function(e){function t(e){var n;return(0,i.default)(this,t),(n=(0,s.default)(this,t,[e])).onLinkClick=function(e){var t=n.state.currentPath;if(e.path!==t){e.path&&n.setState({currentPath:e.path});var o=new URL(e.href);e.href&&n.props.onLinkClick(o.href)}},n.changeInlineNode=function(e){var t;if("link"==e.type||"image"===e.type)if("image"==e.type&&v.Ejc){if(t=e.data.src,!new RegExp(v.xW0+"/lib/"+v.GCj+"/file.*raw=1").test(t))return;var n=t.indexOf("/file"),o=t.indexOf("?"),a=t.substring(n+5,o);e.data.src=v.xW0+"/view-image-via-public-wiki/?slug="+v.yRH+"&path="+a}else if("link"==e.type){t=e.url;if(new RegExp(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/).test(t)){if(h.Aq.isInternalMarkdownLink(t,v.GCj)){var i=h.Aq.getPathFromInternalMarkdownLink(t,v.GCj);e.url=v.xW0+"/published/"+v.yRH+i}else if(h.Aq.isInternalDirLink(t,v.GCj)){var r=h.Aq.getPathFromInternalDirLink(t,v.GCj);e.url=v.xW0+"/published/"+v.yRH+r}}else t.startsWith("./")&&(t=t.slice(2)),e.url=v.xW0+"/published/"+v.yRH+"/"+t}return e},n.links=[],n.state={currentPath:"",treeRoot:{name:"",href:"",children:[],isRoot:!0}},n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.indexContent,t=(0,S.mdStringToSlate)(e),n=function(e){var t=new y({name:"",href:""});return e.forEach((function(e){"unordered_list"!==e.type&&"ordered_list"!==e.type||(t=k(e.children,t),I(t,"/"))})),t}(h.Aq.changeMarkdownNodes(t,this.changeInlineNode));this.setState({treeRoot:n})}},{key:"render",value:function(){var e=this,t=this.state,n=t.treeRoot,o=t.currentPath;return(0,L.jsx)("div",{className:"mx-4 o-hidden",children:n.children.map((function(t){return(0,L.jsx)(T,{node:t,currentPath:o,onLinkClick:e.onLinkClick},t.path)}))})}}])}(o.Component),R=function(e){function t(e){var n;return(0,i.default)(this,t),(n=(0,s.default)(this,t,[e])).renderIndexView=function(){return(0,L.jsxs)("div",{className:"wiki-pages-container",children:[(0,L.jsx)("div",{style:{marginTop:"2px"}}),(0,L.jsx)(P,{indexContent:n.props.indexContent,onLinkClick:n.props.onLinkClick})]})},n.renderTreeView=function(){return(0,L.jsx)("div",{className:"wiki-pages-container",children:n.props.treeData&&(0,L.jsx)(N.A,{treeData:n.props.treeData,currentPath:n.props.currentPath,isNodeMenuShow:n.isNodeMenuShow,onNodeClick:n.props.onNodeClick,onNodeCollapse:n.props.onNodeCollapse,onNodeExpanded:n.props.onNodeExpanded})})},n.isNodeMenuShow=!1,n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return(0,L.jsxs)("div",{className:"side-panel wiki-side-panel ".concat(this.props.closeSideBar?"":"left-zero"),children:[(0,L.jsx)("div",{className:"side-panel-top panel-top",children:(0,L.jsx)(A.A,{onCloseSidePanel:this.props.onCloseSide})}),(0,L.jsxs)("div",{id:"side-nav",className:"wiki-side-nav",role:"navigation",children:[this.props.isTreeDataLoading&&(0,L.jsx)(w.A,{}),!this.props.isTreeDataLoading&&this.props.indexNode&&this.renderIndexView(),!this.props.isTreeDataLoading&&!this.props.indexNode&&this.renderTreeView(),v.Xh_&&v.EK0&&(0,L.jsx)("div",{className:"p-2",children:(0,L.jsx)("a",{href:v.YcY+"library/"+v.GCj+"/"+v.yRH+"/",className:"text-dark text-decoration-underline",children:(0,v.APU)("Go to Library")})})]})]})}}])}(o.Component),_=n(89379),O=n(67818),j=n(66945),B=function(e){function t(e){var n;return(0,i.default)(this,t),(n=(0,s.default)(this,t,[e])).checkMarkdownEditorRenderCompleted=function(){n.seafileMarkdownViewerRef&&("empty-loading-page"!==n.seafileMarkdownViewerRef.firstElementChild.className&&(n.setState({isMarkdownEditorRenderCompleted:!0}),n.timer&&clearInterval(n.timer)))},n.onLinkClick=function(e){n.props.onLinkClick(e)},n.changeInlineNode=function(e){var t,o,a=n.props.repoID;if("image"==e.type){if(t=e.data.src,new RegExp(v.xW0+"/lib/"+a+"/file.*raw=1").test(t)){var i=t.indexOf("/file"),r=t.indexOf("?");o=t.substring(i+5,r)}else{if(!/^\.\.\/*/.test(t)&&!/^\.\/*/.test(t))return;var s=n.props.path,l=s.slice(0,s.lastIndexOf("/"))+"/"+t;o=h.Aq.pathNormalize(l)}e.data.src=v.xW0+"/view-image-via-public-wiki/?slug="+v.yRH+"&path="+o}else if("link"==e.type)if(t=e.url,h.Aq.isInternalFileLink(t,a))if(h.Aq.isInternalMarkdownLink(t,a)){var d=h.Aq.getPathFromInternalMarkdownLink(t,a);e.url=v.xW0+"/published/"+v.yRH+d}else e.url=t.replace(/(.*)lib\/([-0-9a-f]{36})\/file(.*)/g,(function(e,t,n,o){return"".concat(t,"d/").concat(v.Jif,"/files/?p=").concat(o,"&dl=1")}));else if(h.Aq.isInternalDirLink(t,a)){var c=h.Aq.getPathFromInternalDirLink(t,a);e.url=v.xW0+"/published/"+v.yRH+c}return e},n.modifyValueBeforeRender=function(e){return h.Aq.changeMarkdownNodes(e,n.changeInlineNode)},n.renderMarkdown=function(){var e=n.props,t=e.isTOCShow,a=void 0===t||t,i=e.isWiki,r=void 0!==i&&i,s=e.markdownContent,l=(0,_.default)({isShowOutline:a,mathJaxSource:"".concat(v.SGU,"js/mathjax/tex-svg.js"),value:s,scrollRef:n.scrollRef,onLinkClick:n.onLinkClick},r&&{beforeRenderCallback:n.modifyValueBeforeRender});return(0,L.jsx)(O.I18nextProvider,{i18n:j.A,children:(0,L.jsx)(o.Suspense,{fallback:(0,L.jsx)(w.A,{}),children:(0,L.jsx)(S.MarkdownViewer,(0,_.default)({},l))})})},n.scrollRef=o.createRef(),n.seafileMarkdownViewerRef=null,n.timer=null,n.state={isMarkdownEditorRenderCompleted:!1},n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){e.checkMarkdownEditorRenderCompleted()}),100)}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"render",value:function(){var e=this,t=this.state.isMarkdownEditorRenderCompleted,n=this.props,o=n.isFileLoading,a=n.isWiki,i=void 0!==a&&a,r=n.containerClassName,s=void 0===r?"":r;return o?(0,L.jsx)(w.A,{}):(0,L.jsx)("div",{ref:this.scrollRef,className:"wiki-page-container ".concat(s),children:(0,L.jsxs)("div",{className:"wiki-page-content ".concat(i?"":"w-100"),ref:function(t){return e.seafileMarkdownViewerRef=t},children:[this.props.children,this.renderMarkdown(),t&&(0,L.jsxs)("p",{id:"wiki-page-last-modified",children:[(0,v.APU)("Last modified by")," ",this.props.latestContributor,", ",(0,L.jsx)("span",{children:this.props.lastModified})]}),!t&&(0,L.jsx)(w.A,{})]})})}}])}(o.Component),F=function(e){function t(e){var n;return(0,i.default)(this,t),(n=(0,s.default)(this,t,[e])).onMouseEnter=function(){n.setState({highlight:!0})},n.onMouseLeave=function(){n.setState({highlight:!1})},n.onContextMenu=function(e){e.preventDefault(),e.stopPropagation()},n.onDirentClick=function(e){e.preventDefault(),n.props.onDirentClick(n.props.dirent)},n.state={highlight:!1},n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.dirent,o=v.YcY+"published"+h.Aq.joinPath(t,n.name),a=h.Aq.getDirentIcon(n);return h.Aq.isDesktop()?(0,L.jsxs)("tr",{className:this.state.highlight?"tr-highlight":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onContextMenu:this.onContextMenu,children:[(0,L.jsx)("td",{className:"text-center",children:(0,L.jsx)("img",{src:a,width:"24",alt:""})}),(0,L.jsx)("td",{className:"name",children:(0,L.jsx)("a",{href:o,onClick:this.onDirentClick,children:n.name})}),(0,L.jsx)("td",{children:n.size}),(0,L.jsx)("td",{children:n.mtime_relative})]}):(0,L.jsxs)("tr",{children:[(0,L.jsx)("td",{className:"text-center",children:(0,L.jsx)("img",{src:a,width:"24",alt:""})}),(0,L.jsxs)("td",{children:[(0,L.jsx)("a",{href:o,onClick:this.onDirentClick,children:n.name}),(0,L.jsx)("br",{}),(0,L.jsx)("span",{className:"item-meta-info",children:n.size}),(0,L.jsx)("span",{className:"item-meta-info",children:n.mtime_relative})]})]})}}])}(o.Component),H=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,t,arguments)}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=h.Aq.isDesktop();return(0,L.jsxs)("table",{className:"table-hover ".concat(t?"":"table-thead-hidden"),children:[(0,L.jsx)("thead",{children:t?(0,L.jsxs)("tr",{children:[(0,L.jsx)("th",{style:{width:"4%"}}),(0,L.jsx)("th",{style:{width:"66%"},children:(0,v.APU)("Name")}),(0,L.jsx)("th",{style:{width:"15%"},children:(0,v.APU)("Size")}),(0,L.jsx)("th",{style:{width:"15%"},children:(0,v.APU)("Last Update")})]}):(0,L.jsxs)("tr",{children:[(0,L.jsx)("th",{width:"12%"}),(0,L.jsx)("th",{width:"88%"})]})}),(0,L.jsx)("tbody",{children:0!==this.props.direntList.length&&this.props.direntList.map((function(t,n){return(0,L.jsx)(F,{path:e.props.path,dirent:t,onDirentClick:e.props.onDirentClick},n)}))})]})}}])}(o.Component),U=H,Y=n(93896),V=n(48731),W=n(51925),J=n(98705),Q=n(97499),z=function(e){function t(e){var n;return(0,i.default)(this,t),(n=(0,s.default)(this,t,[e])).changeInlineNode=function(e){var t,o,a=n.props.repoID;if("image"==e.type){if(t=e.data.src,new RegExp(v.xW0+"/lib/"+a+"/file.*raw=1").test(t)){var i=t.indexOf("/file"),r=t.indexOf("?");o=t.substring(i+5,r)}else{if(!/^\.\.\/*/.test(t)&&!/^\.\/*/.test(t))return;var s=n.props.path,l=s.slice(0,s.lastIndexOf("/"))+"/"+t;o=h.Aq.pathNormalize(l)}e.data.src=v.xW0+"/view-image-via-public-wiki/?slug="+v.yRH+"&path="+o}else if("link"==e.type)if(t=e.url,h.Aq.isInternalFileLink(t,a))if(h.Aq.isInternalMarkdownLink(t,a)){var d=h.Aq.getPathFromInternalMarkdownLink(t,a);e.url=v.xW0+"/published/"+v.yRH+d}else e.url=t.replace(/(.*)lib\/([-0-9a-f]{36})\/file(.*)/g,(function(e,t,n,o){return"".concat(t,"d/").concat(v.Jif,"/files/?p=").concat(o,"&dl=1")}));else if(h.Aq.isInternalDirLink(t,a)){var c=h.Aq.getPathFromInternalDirLink(t,a);e.url=v.xW0+"/published/"+v.yRH+c}return e},n.modifyValueBeforeRender=function(e){return h.Aq.changeMarkdownNodes(e,n.changeInlineNode)},n.renderMarkdown=function(){var e=n.props,t=e.isTOCShow,a=void 0===t||t,i=e.markdownContent;if(!i)return null;var r=JSON.parse(i);window.seafile||(window.seafile={serviceUrl:v.xW0,username:v.Xh_,name:v.UUu,avatarURL:v.wgO,repoID:v.GCj,siteRoot:v.YcY,assetsUrl:v.Hh2});var s={document:r,showOutline:a,scrollRef:n.scrollRef};return(0,L.jsx)(O.I18nextProvider,{i18n:Q.A,children:(0,L.jsx)(o.Suspense,{fallback:(0,L.jsx)(w.A,{}),children:(0,L.jsx)(J.DM,(0,_.default)({},s))})})},n.scrollRef=o.createRef(),n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){if(this.props.isFileLoading)return(0,L.jsx)(w.A,{});var e=this.props,t=e.isWiki,n=void 0!==t&&t,o=e.containerClassName,a=void 0===o?"":o;return(0,L.jsx)("div",{ref:this.scrollRef,className:"wiki-page-container ".concat(a),children:(0,L.jsxs)("div",{className:"wiki-page-content ".concat(n?"":"w-100"),children:[this.props.children,this.renderMarkdown(),(0,L.jsxs)("p",{id:"wiki-page-last-modified",children:[(0,v.APU)("Last modified by")," ",this.props.latestContributor,", ",(0,L.jsx)("span",{children:this.props.lastModified})]})]})})}}])}(o.Component),q=function(e){function t(){var e;(0,i.default)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=(0,s.default)(this,t,[].concat(a))).onMenuClick=function(){e.props.onMenuClick()},e.onEditClick=function(t){t.preventDefault();var n=v.YcY+"lib/"+v.GCj+"/file"+e.props.path+"?mode=edit";window.open(n)},e.onMainNavBarClick=function(t){var n=h.Aq.getEventData(t,"path");e.props.onMainNavBarClick(n)},e.renderNavPath=function(){var t=e.props.path.split("/"),n="";return t.map((function(a,i){return""===a?null:i===t.length-1?(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)("span",{className:"path-split",children:"/"}),(0,L.jsx)("span",{className:"path-file-name",children:a})]},i):(n+="/"+a,(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)("span",{className:"path-split",children:"/"}),(0,L.jsx)("a",{className:"path-link","data-path":n,onClick:e.onMainNavBarClick,children:a})]},i))}))},e}return(0,l.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.onSearchedClick,t=(0,L.jsx)("div",{className:"message err-tip",children:(0,v.APU)("Folder does not exist.")}),n=this.props.pathExist&&!this.props.isDataLoading&&this.props.isViewFile;return(0,L.jsxs)("div",{className:"main-panel wiki-main-panel",children:[(0,L.jsx)("div",{className:"main-panel-hide hide",children:this.props.content}),(0,L.jsxs)("div",{className:"main-panel-north panel-top ".concat("rw"===this.props.permission?"border-left-show":""),children:[!v.Xh_&&(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)("div",{className:"cur-view-toolbar",children:(0,L.jsx)("span",{className:"sf2-icon-menu hidden-md-up d-md-none side-nav-toggle",title:"Side Nav Menu",onClick:this.onMenuClick})}),(0,L.jsx)("div",{className:"common-toolbar",children:v.amr&&(0,L.jsx)(Y.A,{isPublic:!0,repoID:v.GCj,onSearchedClick:e,placeholder:(0,v.APU)("Search files")})})]}),v.Xh_&&(0,L.jsxs)(o.Fragment,{children:[(0,L.jsxs)("div",{className:"cur-view-toolbar",children:[(0,L.jsx)("span",{className:"sf2-icon-menu hidden-md-up d-md-none side-nav-toggle",title:"Side Nav Menu",onClick:this.onMenuClick}),"rw"==this.props.permission&&(h.Aq.isDesktop()?(0,L.jsx)("button",{className:"btn btn-secondary operation-item",title:(0,v.APU)("Edit"),onClick:this.onEditClick,children:(0,v.APU)("Edit")}):(0,L.jsx)("span",{className:"sf3-font sf3-font-rename mobile-toolbar-icon",title:(0,v.APU)("Edit"),onClick:this.onEditClick}))]}),(0,L.jsxs)("div",{className:"common-toolbar",children:[v.amr&&(0,L.jsx)(Y.A,{isPublic:!0,repoID:v.GCj,onSearchedClick:e,placeholder:(0,v.APU)("Search files")}),(0,L.jsx)(V.A,{}),(0,L.jsx)(W.A,{})]})]})]}),(0,L.jsx)("div",{className:"main-panel-center",children:(0,L.jsxs)("div",{className:"cur-view-content ".concat(n?"o-hidden":""),children:[!this.props.pathExist&&t,this.props.pathExist&&this.props.isDataLoading&&(0,L.jsx)(w.A,{}),n&&h.Aq.isMarkdownFile(this.props.path)&&(0,L.jsx)(B,{isWiki:!0,path:this.props.path,repoID:v.GCj,isTOCShow:!1,markdownContent:this.props.content,isFileLoading:this.props.isDataLoading,lastModified:this.props.lastModified,latestContributor:this.props.latestContributor,onLinkClick:this.props.onLinkClick}),n&&h.Aq.isSdocFile(this.props.path)&&(0,L.jsx)(z,{isWiki:!0,path:this.props.path,repoID:v.GCj,markdownContent:this.props.content,isFileLoading:this.props.isDataLoading,lastModified:this.props.lastModified,latestContributor:this.props.latestContributor,onLinkClick:this.props.onLinkClick}),!this.props.isDataLoading&&!this.props.isViewFile&&(0,L.jsx)(U,{path:this.props.path,direntList:this.props.direntList,onDirentClick:this.props.onDirentClick})]})})]})}}])}(o.Component),G=q;n(16322),n(62664),n(40672),n(81848);c().locale(v.vVe),c().extend(f());var X=function(e){function t(e){var n;return(0,i.default)(this,t),(n=(0,s.default)(this,t,[e])).loadSidePanel=function(e){v.V6g?n.loadIndexNode():(e="None"===v.Q7U||h.Aq.isSdocFile(e)?"/":e,n.loadNodeAndParentsByPath(e))},n.loadWikiData=function(e){if(n.pythonWrapper=document.getElementById("wiki-file-content"),"False"===v.Q7U&&h.Aq.isSdocFile(e))n.showDir("/");else if("False"!==v.Q7U)if(n.removePythonWrapper(),"True"!==v.Q7U)if("None"!==v.Q7U||"/home.md"!==e){if("None"===v.Q7U){n.setState({pathExist:!1});var t=v.YcY+"published/"+v.yRH+h.Aq.encodePath(e);window.history.pushState({url:t,path:e},e,t)}}else n.showDir("/");else n.showDir(e);else n.setState({path:e})},n.loadIndexNode=function(){g.e.listWikiDir(v.gj_,"/").then((function(e){var t=n.state.treeData;n.addFirstResponseListToNode(e.data.dirent_list,t.root);var o=t.getNodeByPath(n.indexPath);g.e.getWikiFileContent(v.gj_,o.path).then((function(e){n.setState({treeData:t,indexNode:o,indexContent:e.data.content,isTreeDataLoading:!1})}))})).catch((function(e){n.setState({isLoadFailed:!0})}))},n.showDir=function(e){n.removePythonWrapper(),n.loadDirentList(e);var t=v.YcY+"published/"+v.yRH+h.Aq.encodePath(e);window.history.pushState({url:t,path:e},e,t)},n.showFile=function(e){n.setState({isDataLoading:!0,isViewFile:!0,path:e}),n.removePythonWrapper(),g.e.getWikiFileContent(v.gj_,e).then((function(e){var t=e.data;n.setState({isDataLoading:!1,content:t.content,permission:t.permission,lastModified:c().unix(t.last_modified).fromNow(),latestContributor:t.latest_contributor})}));var t=window.location.hash,o=v.YcY+"published/"+v.yRH+h.Aq.encodePath(e)+t;"/home.md"===e?window.history.replaceState({url:o,path:e},e,o):window.history.pushState({url:o,path:e},e,o)},n.loadDirentList=function(e){n.setState({isDataLoading:!0}),g.e.listWikiDir(v.gj_,e).then((function(t){var o=t.data.dirent_list.map((function(e){return new E.A(e)}));"/"===e&&(o=o.filter((function(e){if("dir"===e.type){var t=e.name.toLowerCase();return"drafts"!==t&&"images"!==t&&"downloads"!==t}return!0}))),o=h.Aq.sortDirents(o,"name","asc"),n.setState({path:e,isViewFile:!1,direntList:o,isDataLoading:!1})})).catch((function(){n.setState({isLoadFailed:!0})}))},n.loadTreeNodeByPath=function(e){var t=n.state.treeData.clone(),o=t.getNodeByPath(e);o.isLoaded?(t.getNodeByPath(o.parentNode.path).isExpanded=!0,n.setState({treeData:t,currentNode:o})):g.e.listWikiDir(v.gj_,o.path).then((function(e){n.addResponseListToNode(e.data.dirent_list,o),t.getNodeByPath(o.parentNode.path).isExpanded=!0,n.setState({treeData:t,currentNode:o})}))},n.loadNodeAndParentsByPath=function(e){var t=n.state.treeData.clone();h.Aq.isMarkdownFile(e)&&(e=h.Aq.getDirName(e)),g.e.listWikiDir(v.gj_,e,!0).then((function(e){for(var o=e.data.dirent_list,a={},i=0;i<o.length;i++){var r=o[i],s=r.parent_dir;a[s]||(a[s]=[]),a[s].push(r)}for(var l in a){var d=t.getNodeByPath(l);d.isLoaded||"/"!==d.path?d.isLoaded||n.addResponseListToNode(a[l],d):n.addFirstResponseListToNode(a[l],d)}n.setState({isTreeDataLoading:!1,treeData:t})})).catch((function(){n.setState({isLoadFailed:!0})}))},n.removePythonWrapper=function(){n.pythonWrapper&&(document.body.removeChild(n.pythonWrapper),n.pythonWrapper=null)},n.onConentLinkClick=function(e){e.preventDefault(),e.stopPropagation();var t="";if("A"!==e.target.tagName){for(var o=e.target.parentNode;"A"!==o.tagName;)o=o.parentNode;t=o.href}else t=e.target.href;n.onLinkClick(t)},n.onLinkClick=function(e){var t=e;if(h.Aq.isRelativePath(t)&&(t=window.location.href.replace("home.md",""),t+=e),h.Aq.isWikiInternalMarkdownLink(t,v.yRH)){var o=h.Aq.getPathFromWikiInternalMarkdownLink(t,v.yRH);n.showFile(o)}else if(h.Aq.isWikiInternalDirLink(t,v.yRH)){var a=h.Aq.getPathFromWikiInternalDirLink(t,v.yRH);n.showDir(a)}else window.location.href=t;n.state.closeSideBar||n.setState({closeSideBar:!0})},n.onpopstate=function(e){if(e.state&&e.state.path){var t=e.state.path;h.Aq.isMarkdownFile(t)?n.showFile(t):(n.loadDirentList(t),n.setState({path:t,isViewFile:!1}))}},n.onSearchedClick=function(e){var t=e.is_dir?e.path.slice(0,e.path.length-1):e.path;if(n.state.currentPath!==t){for(var o=-1,a=h.Aq.getPaths(t),i=0;i<a.length;i++){var r=n.state.treeData.getNodeByPath(r);if(!r){o=i;break}}if(-1===o){var s=n.state.treeData.clone(),l=s.getNodeByPath(e.path);C.A.expandNode(l),n.setState({treeData:s})}else n.loadNodeAndParentsByPath(t);if(e.is_dir)n.showDir(t);else if(h.Aq.isMarkdownFile(t))n.showFile(t);else{var d=v.YcY+"d/"+v.Jif+"/files/?p="+h.Aq.encodePath(t);window.open("about:blank").location.href=d}}},n.onMenuClick=function(){n.setState({closeSideBar:!n.state.closeSideBar})},n.onMainNavBarClick=function(e){var t=n.state.treeData.clone(),o=t.getNodeByPath(e);t.expandNode(o),n.setState({treeData:t,currentNode:o}),n.showDir(o.path)},n.onDirentClick=function(e){var t=h.Aq.joinPath(n.state.path,e.name);if(e.isDir())n.loadTreeNodeByPath(t),n.showDir(t);else if(h.Aq.isMarkdownFile(t))n.showFile(t);else{var o=window.open("about:blank"),a=v.YcY+"d/"+v.Jif+"/files/?p="+h.Aq.encodePath(t);o.location.href=a}},n.onCloseSide=function(){n.setState({closeSideBar:!n.state.closeSideBar})},n.onNodeClick=function(e){if(n.state.pathExist||n.setState({pathExist:!0}),e.object.isDir()){if(!e.isLoaded){var t=n.state.treeData.clone();e=t.getNodeByPath(e.path),g.e.listWikiDir(v.gj_,e.path).then((function(o){n.addResponseListToNode(o.data.dirent_list,e),t.collapseNode(e),n.setState({treeData:t})}))}if(e.path===n.state.path)if(e.isExpanded){var o=C.A.collapseNode(n.state.treeData,e);n.setState({treeData:o})}else{var a=n.state.treeData.clone();e=a.getNodeByPath(e.path),a.expandNode(e),n.setState({treeData:a})}}if(e.path!==n.state.path)if(e.object.isDir())n.showDir(e.path);else if(h.Aq.isMarkdownFile(e.path)||h.Aq.isSdocFile(e.path))e.path!==n.state.path&&n.showFile(e.path),n.onCloseSide();else{var i=window.open("about:blank"),r=v.YcY+"d/"+v.Jif+"/files/?p="+h.Aq.encodePath(e.path);i.location.href=r}},n.onNodeCollapse=function(e){var t=C.A.collapseNode(n.state.treeData,e);n.setState({treeData:t})},n.onNodeExpanded=function(e){var t=n.state.treeData.clone();(e=t.getNodeByPath(e.path)).isLoaded?(t.expandNode(e),n.setState({treeData:t})):g.e.listWikiDir(v.gj_,e.path).then((function(o){n.addResponseListToNode(o.data.dirent_list,e),n.setState({treeData:t})}))},n.addFirstResponseListToNode=function(e,t){t.isLoaded=!0,t.isExpanded=!0;var n=e.map((function(e){return new E.A(e)}));n=n.filter((function(e){if("dir"===e.type){var t=e.name.toLowerCase();return"drafts"!==t&&"images"!==t&&"downloads"!==t}return!0}));var o=(n=h.Aq.sortDirents(n,"name","asc")).map((function(e){return new b.A({object:e})}));t.addChildren(o)},n.addResponseListToNode=function(e,t){t.isLoaded=!0,t.isExpanded=!0;var n=e.map((function(e){return new E.A(e)})),o=(n=h.Aq.sortDirents(n,"name","asc")).map((function(e){return new b.A({object:e})}));t.addChildren(o)},n.state={path:"",pathExist:!0,closeSideBar:!1,isViewFile:!0,isDataLoading:!1,direntList:[],content:"",permission:"",lastModified:"",latestContributor:"",isTreeDataLoading:!0,treeData:C.A.buildTree(),currentNode:null,indexNode:null,indexContent:""},window.onpopstate=n.onpopstate,n.indexPath="/index.md",n.homePath="/home.md",n.pythonWrapper=null,n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){h.Aq.isDesktop()||this.setState({closeSideBar:!0})}},{key:"componentDidMount",value:function(){var e=this;this.loadSidePanel(v.cN8),this.loadWikiData(v.cN8),this.links=document.querySelectorAll("#wiki-file-content a"),this.links.forEach((function(t){return t.addEventListener("click",e.onConentLinkClick)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.links.forEach((function(t){return t.removeEventListener("click",e.onConentLinkClick)}))}},{key:"render",value:function(){return(0,L.jsxs)("div",{id:"main",className:"wiki-main",children:[(0,L.jsx)(R,{isTreeDataLoading:this.state.isTreeDataLoading,closeSideBar:this.state.closeSideBar,currentPath:this.state.path,treeData:this.state.treeData,indexNode:this.state.indexNode,indexContent:this.state.indexContent,onCloseSide:this.onCloseSide,onNodeClick:this.onNodeClick,onNodeCollapse:this.onNodeCollapse,onNodeExpanded:this.onNodeExpanded,onLinkClick:this.onLinkClick}),(0,L.jsx)(G,{path:this.state.path,pathExist:this.state.pathExist,isViewFile:this.state.isViewFile,isDataLoading:this.state.isDataLoading,content:this.state.content,permission:this.state.permission,lastModified:this.state.lastModified,latestContributor:this.state.latestContributor,direntList:this.state.direntList,onLinkClick:this.onLinkClick,onMenuClick:this.onMenuClick,onSearchedClick:this.onSearchedClick,onMainNavBarClick:this.onMainNavBarClick,onDirentClick:this.onDirentClick}),(0,L.jsx)(p.Ay,{query:"(max-width: 767.8px)",children:(0,L.jsx)(m.A,{isOpen:!this.state.closeSideBar,toggle:this.onCloseSide,contentClassName:"d-none"})})]})}}])}(o.Component);(0,a.createRoot)(document.getElementById("wrapper")).render((0,L.jsx)(X,{}))},38208:function(e){window,e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(2)},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n(1);var o={isFirefox:function(){return"undefined"!=typeof InstallTrigger},getFirefoxMajorVersion:function(e){var t=(e=e||navigator.userAgent).toLowerCase().match(/firefox\/(\S+)/);if(t)return t[1].split(".").map((function(e){return parseInt(e)}))[0]},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!o.isIE()&&!!window.StyleMedia},isChrome:function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}},a=o,i={show:function(e){var t=document.createElement("div");t.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),t.setAttribute("id","printJS-Modal");var n=document.createElement("div");n.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var o=document.createElement("div");o.setAttribute("class","printClose"),o.setAttribute("id","printClose"),n.appendChild(o);var a=document.createElement("span");a.setAttribute("class","printSpinner"),n.appendChild(a);var r=document.createTextNode(e.modalMessage);n.appendChild(r),t.appendChild(n),document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("printClose").addEventListener("click",(function(){i.close()}))},close:function(){var e=document.getElementById("printJS-Modal");e&&e.parentNode.removeChild(e)}},r=i;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d(e,t){for(var n=0;n<e.length;n++)if("object"===s(t)&&-1!==t.indexOf(e[n]))return!0;return!1}function c(e,t){var n=document.createElement("div");if(p(t.header))n.innerHTML=t.header;else{var o=document.createElement("h1"),a=document.createTextNode(t.header);o.appendChild(a),o.setAttribute("style",t.headerStyle),n.appendChild(o)}e.insertBefore(n,e.childNodes[0])}function u(e,t){var n=document.createElement("div");if(p(t.footer))n.innerHTML=t.footer;else{var o=document.createElement("h1"),a=document.createTextNode(t.footer);o.appendChild(a),o.setAttribute("style",t.footerStyle),n.appendChild(o)}e.insertBefore(n,e.childNodes.lastChild)}function f(e){e.showModal&&r.close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var t="mouseover";(a.isChrome()||a.isFirefox())&&(t="focus"),window.addEventListener(t,(function n(){window.removeEventListener(t,n),e.onPrintDialogClose();var o=document.getElementById(e.frameId);o&&(e.frameRemoveDelay?setTimeout((function(){o.remove()}),e.frameRemoveDelay):o.remove())}))}function p(e){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(e)}function m(e,t){try{if(e.focus(),a.isEdge()||a.isIE())try{e.contentWindow.document.execCommand("print",!1,null)}catch(n){setTimeout((function(){e.contentWindow.print()}),1e3)}else setTimeout((function(){e.contentWindow.print()}),1e3)}catch(o){t.onError(o)}finally{a.isFirefox()&&a.getFirefoxMajorVersion()<110&&(e.style.visibility="hidden",e.style.left="-1px"),f(t)}}var h={send:function(e,t){document.getElementsByTagName("body")[0].appendChild(t);var n=document.getElementById(e.frameId);n.onload=function(){if("pdf"!==e.type){var t=n.contentWindow||n.contentDocument;if(t.document&&(t=t.document),t.body.appendChild(e.printableElement),"pdf"!==e.type&&e.style){var o=document.createElement("style");o.innerHTML=e.style,t.head.appendChild(o)}var i=t.getElementsByTagName("img"),r={};i=Array.from(i).filter((function(e){var t=e.currentSrc;r[t]||(r[t]=t)})),(i=Object.values(r)).length>0?function(e){var t=e.map((function(e){if(e.src&&e.src!==window.location.href)return function(e){return new Promise((function(t){!function n(){e&&"undefined"!=typeof e.naturalWidth&&0!==e.naturalWidth&&e.complete?t():setTimeout(n,500)}()}))}(e)}));return Promise.all(t)}(Array.from(i)).then((function(){return m(n,e)})):m(n,e)}else a.isFirefox()&&a.getFirefoxMajorVersion()<110?setTimeout((function(){return m(n,e)}),1e3):m(n,e)}}},v=function(e,t){if(e.base64){-1!==e.printable.indexOf(",")&&(e.printable=e.printable.split(",")[1]);var n=Uint8Array.from(atob(e.printable),(function(e){return e.charCodeAt(0)}));g(e,t,n)}else{e.printable=/^(blob|http|\/\/)/i.test(e.printable)?e.printable:window.location.origin+("/"!==e.printable.charAt(0)?"/"+e.printable:e.printable);var o=new window.XMLHttpRequest;o.responseType="arraybuffer",o.addEventListener("error",(function(){f(e),e.onError(o.statusText,o)})),o.addEventListener("load",(function(){if(-1===[200,201].indexOf(o.status))return f(e),void e.onError(o.statusText,o);g(e,t,o.response)})),o.open("GET",e.printable,!0),o.send()}};function g(e,t,n){var o=new window.Blob([n],{type:"application/pdf"});o=window.URL.createObjectURL(o),t.setAttribute("src",o),h.send(e,t)}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}var b=function(e,t){var n,o="object"===E(n=e.printable)&&n&&(n instanceof HTMLElement||1===n.nodeType)?e.printable:document.getElementById(e.printable);o?(e.printableElement=C(o,e),e.header&&c(e.printableElement,e),e.footer&&u(e.printableElement,e),h.send(e,t)):window.console.error("Invalid HTML element id: "+e.printable)};function C(e,t){for(var n=e.cloneNode(),o=Array.prototype.slice.call(e.childNodes),a=0;a<o.length;a++)if(-1===t.ignoreElements.indexOf(o[a].id)){var i=C(o[a],t);n.appendChild(i)}switch(t.scanStyles&&1===e.nodeType&&n.setAttribute("style",function(e,t){for(var n="",o=(document.defaultView||window).getComputedStyle(e,""),a=0;a<o.length;a++)(-1!==t.targetStyles.indexOf("*")||-1!==t.targetStyle.indexOf(o[a])||d(t.targetStyles,o[a]))&&o.getPropertyValue(o[a])&&(n+=o[a]+":"+o.getPropertyValue(o[a])+";");return n+="max-width: "+t.maxWidth+"px !important;",t.forceStandardizingFont&&(n+="font-family: "+t.font+" !important;font-size: "+t.font_size+" !important;"),n}(e,t)),e.tagName){case"SELECT":n.value=e.value;break;case"CANVAS":n.getContext("2d").drawImage(e,0,0)}return n}var A=function(e,t){e.printableElement=document.createElement("div"),e.printableElement.setAttribute("style","width:100%"),e.printableElement.innerHTML=e.printable,e.header&&c(e.printableElement,e),e.footer&&u(e.printableElement,e),h.send(e,t)},w=function(e,t){e.printable.constructor!==Array&&(e.printable=[e.printable]),e.printableElement=document.createElement("div"),e.printable.forEach((function(t){var n=document.createElement("img");if(n.setAttribute("style",e.imageStyle),n.src=t,a.isFirefox()){var o=n.src;n.src=o}var i=document.createElement("div");i.appendChild(n),e.printableElement.appendChild(i)})),e.header&&c(e.printableElement,e),e.footer&&u(e.printableElement,e),h.send(e,t)};function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}var S=function(e,t){if("object"!==N(e.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof e.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!e.properties||!Array.isArray(e.properties))throw new Error("Invalid properties array for your JSON data.");e.properties=e.properties.map((function(t){return{field:"object"===N(t)?t.field:t,displayName:"object"===N(t)?t.displayName:t,columnSize:"object"===N(t)&&t.columnSize?t.columnSize+";":100/e.properties.length+"%;"}})),e.printableElement=document.createElement("div"),e.header&&c(e.printableElement,e),e.printableElement.innerHTML+=function(e){var t=e.printable,n=e.properties,o='<table style="border-collapse: collapse; width: 100%;">';e.repeatTableHeader&&(o+="<thead>"),o+="<tr>";for(var a=0;a<n.length;a++)o+='<th style="width:'+n[a].columnSize+";"+e.gridHeaderStyle+'">'+l(n[a].displayName)+"</th>";o+="</tr>",e.repeatTableHeader&&(o+="</thead>"),o+="<tbody>";for(var i=0;i<t.length;i++){o+="<tr>";for(var r=0;r<n.length;r++){var s=t[i],d=n[r].field.split(".");if(d.length>1)for(var c=0;c<d.length;c++)s=s[d[c]];else s=s[n[r].field];o+='<td style="width:'+n[r].columnSize+e.gridStyle+'">'+s+"</td>"}o+="</tr>"}return o+"</tbody></table>"}(e),e.footer&&u(e.printableElement,e),h.send(e,t)};function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}var I=["pdf","html","image","json","raw-html"],x=function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",footer:null,footerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(e){throw e},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"sdoc-print-container",frameRemoveDelay:null,printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,forceStandardizingFont:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"11pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},t=arguments[0];if(void 0===t)throw new Error("printJS expects at least 1 attribute.");switch(y(t)){case"string":e.printable=encodeURI(t),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":for(var n in e.printable=t.printable,e.fallbackPrintable="undefined"!=typeof t.fallbackPrintable?t.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable,e)"printable"!==n&&"fallbackPrintable"!==n&&(e[n]="undefined"!=typeof t[n]?t[n]:e[n]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+y(t))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||"string"!=typeof e.type||-1===I.indexOf(e.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&r.show(e),e.onLoadingStart&&e.onLoadingStart();var o=document.getElementById(e.frameId);o&&o.parentNode.removeChild(o);var i=document.createElement("iframe");switch(a.isFirefox()?i.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):i.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),i.setAttribute("id",e.frameId),"pdf"!==e.type&&(i.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach((function(e){i.srcdoc+='<link rel="stylesheet" href="'+e+'">'}))),i.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(a.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer."),window.open(e.fallbackPrintable,"_blank").focus(),e.onIncompatibleBrowser()}catch(s){e.onError(s)}finally{e.showModal&&r.close(),e.onLoadingEnd&&e.onLoadingEnd()}else v(e,i);break;case"image":w(e,i);break;case"html":b(e,i);break;case"raw-html":A(e,i);break;case"json":S(e,i)}},k=x;"undefined"!=typeof window&&(window.printJS=k),t.default=k}]).default},65794:function(e,t,n){"use strict";var o=n(24994).default,a=n(6305).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(9950)),r=n(67818),s=n(17),l=o(n(12913)),d=o(n(83907)),c=n(13967),u=n(11891),f=o(n(27116)),p=o(n(95214));n(11054);t.default=(0,r.withTranslation)("sdoc-editor")((function(e){var t=e.t,n=e.isStarred,o=e.isDraft,a=e.isEditMode,r=e.isPublished,m=void 0!==r&&r,h=e.initContext;void 0!==h&&h&&s.context.initApi();var v=s.context.getSetting("isSdocRevision"),g=s.context.getSetting("docName"),E=s.context.getSettings(),b=E.isShowInternalLink,C=E.isStarIconShown,A=E.isFreezed,w=E.mobileLogin,N=(0,i.useCallback)((function(){var e=s.EventBus.getInstance();v?e.dispatch(c.EXTERNAL_EVENT.INTERNAL_LINK_CLICK,{internalLink:window.location.href}):e.dispatch(c.EXTERNAL_EVENT.INTERNAL_LINK_CLICK)}),[v]),S=(0,i.useCallback)((function(){s.EventBus.getInstance().dispatch(c.EXTERNAL_EVENT.TOGGLE_STAR)}),[]),y=(0,i.useCallback)((function(){var e=s.context.getSetting("originFileURL");window.open(e,"_blank")}),[]),I=i.default.createElement(i.default.Fragment,null,o&&i.default.createElement(f.default,null),C&&!w&&i.default.createElement("button",{className:"doc-icon sdocfont ".concat(n?"sdoc-starred":"sdoc-unstarred"," border-0 p-0 bg-transparent"),title:t(n?"Starred":"Unstarred"),"aria-label":t(n?"Unstar":"Star"),onClick:S}),b&&!w&&i.default.createElement("span",{className:"doc-icon"},i.default.createElement("span",{className:"internal-link sdocfont sdoc-link",title:t("Internal_link"),onClick:N})),A&&i.default.createElement("span",{className:"doc-icon"},i.default.createElement("img",{src:d.default,alt:t("Document_frozen"),title:t("Document_frozen"),width:"16px"})),i.default.createElement(p.default,{isEditMode:a}));if(!v)return i.default.createElement("div",{className:"doc-info"},i.default.createElement("div",{className:"doc-name"},g),I);var x=s.context.getSetting("revisionCreatedAt"),k=s.context.getSetting("originFilename"),D=s.context.getSetting("revisionId");return i.default.createElement("div",{className:"sdoc-revision-info doc-info"},i.default.createElement("div",{className:"sdoc-revision-avatar"},i.default.createElement("img",{src:l.default,alt:""})),i.default.createElement("div",{className:"sdoc-revision-detail"},i.default.createElement("div",{className:"doc-name-container d-flex align-items-center justify-content-start w-100"},i.default.createElement("div",{className:"doc-name"},k),i.default.createElement("div",{className:"sdoc-revision-order"},t("Revision")+" "+D),b&&i.default.createElement("span",{className:"doc-icon"},i.default.createElement("span",{className:"internal-link sdocfont sdoc-link",title:t("Internal_link"),onClick:N})),m&&i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"sdoc-revision-published-tip"},t("Published")),i.default.createElement("div",{className:"sdoc-revision-source-doc",title:t("Jump_to_original_doc"),onClick:y},i.default.createElement("i",{className:"sdocfont sdoc-jump-to"}))),!m&&i.default.createElement(p.default,{isEditMode:a})),i.default.createElement("div",{className:"doc-state"},i.default.createElement("span",{className:"mr-2"},t("Created_at")),i.default.createElement("span",null,u.DateUtils.format(x,"YYYY-MM-DD HH:MM")))))}))},24315:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(23029)),i=o(n(92901)),r=o(n(39874)),s=o(n(85501)),l=o(n(64467)),d=o(n(9950)),c=n(67818),u=n(65611),f=n(17),p=o(n(20842));n(14197);var m=function(e){function t(e){var n;return(0,a.default)(this,t),n=(0,r.default)(this,t,[e]),(0,l.default)(n,"onEditNameToggle",(function(){n.setState({isRenaming:!0})})),(0,l.default)(n,"onRenameConfirm",(function(e){n.props.onEditUserName(e),n.onRenameCancel()})),(0,l.default)(n,"onRenameCancel",(function(){n.setState({isRenaming:!1})})),n.state={isRenaming:!1},n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.t,o=t.collaborators,a=this.state.isRenaming,i=f.context.getSetting("canEdit");return d.default.createElement(u.UncontrolledPopover,{target:"collaborators",placement:"bottom-end",popperClassName:"collaborators-popover",trigger:"legacy",hideArrow:!0,fade:!1,security:"fixed"},d.default.createElement(u.PopoverHeader,{className:"popover-header"},n("Online_members")," ","(",o.length,")"),d.default.createElement(u.PopoverBody,{className:"popover-container"},d.default.createElement("div",{className:"content-list"},o.map((function(t,o){var r=0===o?"".concat(t.name," (").concat(n("Me"),")"):t.name,s=0===o&&i,l=0===o&&a;return d.default.createElement("div",{key:o,className:"collaborator-details"},d.default.createElement("span",{className:"collaborator-tag"}),d.default.createElement("img",{className:"collaborator-avatar",alt:r,src:t.avatar_url}),!l&&d.default.createElement("span",{className:"collaborator-name"},r),l&&d.default.createElement(p.default,{name:t.name,onRenameConfirm:e.onRenameConfirm,onRenameCancel:e.onRenameCancel}),s&&d.default.createElement("i",{className:"sdocfont sdoc-rename",onClick:e.onEditNameToggle}))})))))}}])}(d.default.PureComponent);t.default=(0,c.withTranslation)("sdoc-editor")(m)},61722:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(23029)),i=o(n(92901)),r=o(n(39874)),s=o(n(85501)),l=o(n(64467)),d=o(n(9950)),c=n(67818),u=n(17),f=o(n(24315)),p=function(e){function t(e){var n;(0,a.default)(this,t),n=(0,r.default)(this,t,[e]),(0,l.default)(n,"onUserJoinRoom",(function(e){var t=n.state.collaborators.slice();t.find((function(t){return t.username===e.username}))||(t.push(e),n.setState({collaborators:t}))})),(0,l.default)(n,"onUserLeaveRoom",(function(e){if(n.currentUser.username!==e){var t=n.state.collaborators.slice();t.find((function(t){return t.username===e}))&&(t=t.filter((function(t){return t.username!==e})),n.setState({collaborators:t}))}})),(0,l.default)(n,"onUserUpdated",(function(e){var t=n.state.collaborators.map((function(t){return t.username===e.username&&(t.name=e.name),t}));n.setState({collaborators:t})})),(0,l.default)(n,"onRename",(function(e){var t=n.state.collaborators,o=n.currentUser;u.SocketManager.getInstance().sendUserUpdated(e);var a=t.map((function(t){return t.username===o.username&&(t.name=e,n.currentUser.name=e),t}));n.setState({collaborators:a})}));var o=u.context.getUserInfo();return n.state={collaborators:[o]},n.currentUser=o,n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this;u.context.getCollaborators().then((function(t){var n=t.data.collaborators,o=n.findIndex((function(t){return t.username===e.currentUser.username}));o>-1&&n.splice(o,1),n.unshift(e.currentUser),e.setState({collaborators:n})}));var t=u.EventBus.getInstance();this.unsubscribeJoinEvent=t.subscribe("join-room",this.onUserJoinRoom),this.unsubscribeLeaveEvent=t.subscribe("leave-room",this.onUserLeaveRoom),this.unsubscribeUpdatedEvent=t.subscribe("user-updated",this.onUserUpdated)}},{key:"componentWillUnmount",value:function(){this.unsubscribeJoinEvent(),this.unsubscribeLeaveEvent(),this.unsubscribeUpdatedEvent()}},{key:"render",value:function(){var e=this.state.collaborators,t=this.props.t;return d.default.createElement(d.default.Fragment,null,d.default.createElement("span",{className:"op-item collaborators-op-item",id:"collaborators"},d.default.createElement("i",{className:"sdocfont sdoc-user mr-1"}),e.length),d.default.createElement(u.Tooltip,{target:"collaborators"},t("Online_members")),d.default.createElement(f.default,{collaborators:e,onEditUserName:this.onRename}))}}])}(d.default.PureComponent);t.default=(0,c.withTranslation)("sdoc-editor")(p)},20842:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(23029)),i=o(n(92901)),r=o(n(39874)),s=o(n(85501)),l=o(n(64467)),d=o(n(9950)),c=n(17),u=function(e){function t(e){var n;return(0,a.default)(this,t),n=(0,r.default)(this,t,[e]),(0,l.default)(n,"onChange",(function(e){n.setState({name:e.target.value})})),(0,l.default)(n,"onKeyDown",(function(e){13===e.keyCode?n.onRenameConfirm(e):27===e.keyCode&&n.onRenameCancel(e),e.nativeEvent.stopImmediatePropagation()})),(0,l.default)(n,"onRenameConfirm",(function(e){e&&e.nativeEvent.stopImmediatePropagation();var t=n.state.name.trim();if(t!==n.props.name){var o=n.validateInput(),a=o.isValid,i=o.errMessage;a?n.props.onRenameConfirm(t):(c.toaster.danger(i),n.props.onRenameCancel())}else n.props.onRenameCancel()})),(0,l.default)(n,"onRenameCancel",(function(e){e.nativeEvent.stopImmediatePropagation(),n.props.onRenameCancel()})),(0,l.default)(n,"validateInput",(function(){var e=n.state.name.trim(),t=n.props.t,o=!0,a="";return e?{isValid:o,errMessage:a}:{isValid:o=!1,errMessage:a=t("Name_is_required")}})),n.state={name:e.name},n.inputRef=d.default.createRef(),n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.inputRef.current.focus(),this.inputRef.current.setSelectionRange(0,-1)}},{key:"render",value:function(){return d.default.createElement("div",{className:"rename-container"},d.default.createElement("input",{ref:this.inputRef,value:this.state.name,onChange:this.onChange,onKeyDown:this.onKeyDown,onBlur:this.onRenameConfirm}))}}])}(d.default.Component);t.default=u},8616:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5544)),r=o(n(9950)),s=n(67818),l=n(17),d=a(n(61722)),c=a(n(3082)),u=a(n(6766)),f=a(n(23275)),p=a(n(51829)),m=a(n(68221)),h=a(n(92596));n(60843);t.default=(0,s.withTranslation)("sdoc-editor")((function(e){var t=e.isShowChanges,n=e.isPublished,o=void 0!==n&&n,a=e.changes,s=e.handleViewChangesToggle,v=e.handleRevisionMerged,g=e.handleRevisionPublished,E=l.context.getSetting("isSdocRevision"),b=l.context.getSetting("mobileLogin"),C=(0,r.useState)(!1),A=(0,i.default)(C,2),w=A[0],N=A[1],S=(0,r.useCallback)((function(e){var t=e.isEdit;N(t)}),[]);return(0,r.useEffect)((function(){var e=l.EventBus.getInstance().subscribe("ViewOrEdit",S);return function(){e()}}),[S]),l.isMobile?r.default.createElement("div",{className:"doc-ops"},!E&&!b&&!w&&r.default.createElement(h.default,null),!E&&r.default.createElement(c.default,null)):r.default.createElement("div",{className:"doc-ops"},r.default.createElement(m.default,{isShowChanges:t,isPublished:o,changes:a,handleViewChangesToggle:s,handleRevisionMerged:v,handleRevisionPublished:g}),!E&&r.default.createElement(p.default,null),!E&&r.default.createElement(f.default,null),!E&&r.default.createElement(h.default,null),!o&&r.default.createElement(d.default,null),!E&&r.default.createElement(u.default,null))}))},3082:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,s.useTranslation)("sdoc-editor").t,t=(0,r.useState)("Edit"),n=(0,i.default)(t,2),o=n[0],a=n[1],d=(0,r.useRef)(!1),c=(0,r.useCallback)((function(){d.current?(d.current=!1,a("Edit")):(d.current=!0,a("Finish")),l.EventBus.getInstance().dispatch("ViewOrEdit",{isEdit:d.current})}),[]);return r.default.createElement("span",{className:"op-item",id:"op-edit",onClick:c},e(o))};var i=a(n(5544)),r=o(n(9950)),s=n(67818),l=n(17)},6766:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5544)),r=o(n(9950)),s=n(67818),l=n(65611),d=a(n(38208)),c=n(17),u=n(13967),f=a(n(85007));t.default=(0,s.withTranslation)("sdoc-editor")((function(e){var t=e.isStarred,n=e.t,o=(0,r.useState)(!1),a=(0,i.default)(o,2),s=a[0],p=a[1],m=(0,r.useState)(c.LocalStorage.getItem(c.FULL_WIDTH_MODE)),h=(0,i.default)(m,2),v=h[0],g=h[1],E=c.context.getSetting("parentFolderURL"),b=c.context.getSetting("isPro"),C=c.context.getSetting("isFreezed"),A=c.context.getSetting("docPerm"),w=c.context.getSetting("historyURL"),N=c.context.getSetting("isSdocRevision"),S=c.context.getSetting("mobileLogin"),y=c.context.getPrintCss(),I="sdoc_more_operation";(0,r.useEffect)((function(){var e=c.EventBus.getInstance().subscribe(c.INTERNAL_EVENT.ON_PRINT,k);return function(){e()}}),[]);var x=(0,r.useCallback)((function(e,t){if(t){var n=document.getElementById("sdoc-full-width-mode-wrapper");if(n&&n.contains(e.target))return}p(!t)}),[]),k=(0,r.useCallback)((function(){(0,d.default)({printable:"sdoc-editor-print-wrapper",type:"html",scanStyles:!1,style:"\n      @page {\n        size: auto A4 landscape;\n        margin: 20px 0px;\n        padding: 0;\n      }\n      .d-print-none {\n        display:none !important;\n      }\n      .article {\n        border: none !important;\n        box-shadow: none !important;\n      }\n      html, body {\n        margin: 0;\n        padding: 0\n      }\n      body {\n        min-width: 673px !important;\n        -webkit-print-color-adjust: exact;\n        print-color-adjust: exact;\n        height: auto;\n      }\n      .d-print-none {\n        display:none !important;\n      }\n      .article {\n        width: 673px !important;\n        margin: 40px 60px;\n        border: none !important;\n        box-shadow: none !important;\n        padding: 0 !important;\n      }\n      @media print {\n        img {\n          page-break-inside: avoid;\n          height: auto !important;\n          max-width: 100% !important;\n        }\n      }\n    ",css:y})}),[y]),D=(0,r.useCallback)((function(){c.EventBus.getInstance().dispatch(u.EXTERNAL_EVENT.FREEZE_DOCUMENT)}),[]),M=(0,r.useCallback)((function(){c.EventBus.getInstance().dispatch(u.EXTERNAL_EVENT.UNFREEZE)}),[]),L=(0,r.useCallback)((function(e){"rw"===A&&w&&(N||(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),window.location.href=w))}),[A,w,N]),T=(0,r.useMemo)((function(){return(0,c.isMac)()?["\u2318","P"]:["Ctrl","P"]}),[]),P=(0,r.useCallback)((function(){var e=!v;c.LocalStorage.setItem(c.FULL_WIDTH_MODE,e),c.EventBus.getInstance().dispatch(c.INTERNAL_EVENT.RESIZE_ARTICLE),g(e)}),[v]),R=(0,r.useCallback)((function(){c.EventBus.getInstance().dispatch(u.EXTERNAL_EVENT.TOGGLE_STAR)}),[]),_=(0,r.useCallback)((function(){c.EventBus.getInstance().dispatch(u.EXTERNAL_EVENT.SHARE_SDOC)}),[]),O=(0,r.useCallback)((function(){var e=c.EventBus.getInstance();N?e.dispatch(u.EXTERNAL_EVENT.INTERNAL_LINK_CLICK,{internalLink:window.location.href}):e.dispatch(u.EXTERNAL_EVENT.INTERNAL_LINK_CLICK)}),[N]);return r.default.createElement(l.Dropdown,{className:"sdoc-operator-folder ".concat(S?"mobile-login":""),isOpen:s,toggle:function(e){return x(e,s)}},r.default.createElement(l.DropdownToggle,{id:I,className:"op-item",tag:"span"},r.default.createElement("i",{className:"sdocfont sdoc-more"})),r.default.createElement(c.Tooltip,{target:I},n("More_operation")),r.default.createElement(l.DropdownMenu,{className:"sdoc-dropdown-menu",end:!0},S&&r.default.createElement(r.default.Fragment,null,r.default.createElement(l.DropdownItem,{className:"sdoc-dropdown-menu-item",onClick:R},r.default.createElement("div",null,n(t?"Collected":"Collect"))),r.default.createElement(l.DropdownItem,{className:"sdoc-dropdown-menu-item",onClick:_},n("Share_1")),r.default.createElement(l.DropdownItem,{className:"sdoc-dropdown-menu-item",onClick:O},n("Internal_link")),r.default.createElement("div",{className:"sdoc-operator-folder-divider"})),r.default.createElement(l.DropdownItem,{className:"sdoc-dropdown-menu-item",onClick:k},r.default.createElement("div",{className:"sdoc-dropdown-print-container"},r.default.createElement("div",null,n("Print")),r.default.createElement(c.MenuShortcutPrompt,{shortcuts:T}))),r.default.createElement(l.DropdownItem,{className:"sdoc-dropdown-menu-item",onClick:L},n("Document_history")),b&&C&&r.default.createElement(l.DropdownItem,{className:"sdoc-dropdown-menu-item",onClick:M},n("Unfreeze")),b&&!C&&r.default.createElement(l.DropdownItem,{className:"sdoc-dropdown-menu-item",onClick:D},n("Freeze_document")),!c.isMobile&&r.default.createElement(l.DropdownItem,{id:"sdoc-full-width-mode-wrapper",className:"sdoc-dropdown-menu-item"},r.default.createElement(f.default,{checked:v,placeholder:n("Full_width_mode"),className:"sdoc-full-width-mode-wrapper w-100",onChange:P})),E&&r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"sdoc-operator-folder-divider"}),r.default.createElement(l.DropdownItem,{className:"sdoc-dropdown-menu-item",tag:"a",href:E},n("Open_parent_folder")))))}))},23275:function(e,t,n){"use strict";var o=n(24994).default,a=n(6305).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(9950)),r=n(67818),s=n(17),l=o(n(5540));t.default=function(){var e=(0,s.usePlugins)(),t=e.plugins,n=e.updateDisplayPlugin,o=(0,r.useTranslation)("sdoc-editor").t,a={"sdoc-info":"sdoc_info","sdoc-comment":"sdoc_comment"},d=(0,i.useCallback)((function(e,t){e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),n(t)}),[n]);return 0===t.length?null:t.filter((function(e){return(!e.position||e.position===s.PLUGIN_BTN_POSITION.DEFAULT)&&e.icon})).map((function(e){var t=e.name,n=e.icon,r="";return r="string"!==typeof n?n:i.default.createElement("i",{className:(0,l.default)("sdocfont",n)}),i.default.createElement("span",{className:"op-item sdoc-plugin-operation-btn-container",id:a[t],onClick:function(e){return d(e,t)},key:t},r,"sdoc-info"===t&&i.default.createElement(s.Tooltip,{target:a[t]},o("Property")),"sdoc-comment"===t&&i.default.createElement(s.Tooltip,{target:a[t]},o("Comment_list")))}))}},51829:function(e,t,n){"use strict";var o=n(6305).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(9950)),i=n(67818),r=n(17);t.default=function(){var e=(0,i.useTranslation)("sdoc-editor").t,t="sdoc_presentation",n=(0,r.usePlugins)(),o=n.plugins,s=n.closePlugin,l=(0,a.useCallback)((function(){o&&["sdoc-info","sdoc-comment"].includes(o[0].name)&&s&&s(),r.EventBus.getInstance().dispatch(r.INTERNAL_EVENT.TOGGLE_PRESENTATION_MODE,{isShowFullScreen:!0});var e=document.querySelector(".sdoc-editor-container");null!==e&&void 0!==e&&e.requestFullscreen&&e.requestFullscreen().catch((function(e){return console.error("Failed to enter fullscreen:",e)}))}),[s,o]);return a.default.createElement("span",{className:"op-item",id:t,onClick:l},a.default.createElement("i",{className:"sdocfont sdoc-presentation"}),a.default.createElement(r.Tooltip,{target:t},e("Presentation")))}},75905:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5544)),r=o(n(9950)),s=n(67818),l=n(17);n(33287);t.default=function(e){var t=e.allChanges,n=(0,s.useTranslation)("sdoc-editor").t,o=(0,r.useState)(0),a=(0,i.default)(o,2),d=a[0],c=a[1],u=(0,r.useState)([]),f=(0,i.default)(u,2),p=f[0],m=f[1],h=(0,r.useRef)();(0,r.useEffect)((function(){return new Promise((function(e){h.current=setInterval((function(){document.querySelector(".article")&&(clearInterval(h.current),h.current=null,e())}),100)})).then((function(){if(0!==t.changes.length){var e=(0,l.getTopLevelChanges)(t.changes),n=(0,l.getMergedChanges)(e,t.value);m(n)}})),function(){h.current&&clearInterval(h.current)}}),[t]);var v=(0,r.useCallback)((function(e){c(e);var t=p[e],n=document.querySelectorAll('[data-id="'.concat(t,'"]'))[0];if(n){var o=document.getElementById("sdoc-scroll-container");o&&(o.scrollTop=n.offsetTop-10)}}),[p,d]),g=(0,r.useCallback)((function(){v(0!==d?d-1:p.length-1)}),[p,d]),E=(0,r.useCallback)((function(){d!==p.length-1?v(d+1):v(0)}),[p,d]);if(!Array.isArray(p)||0===p.length)return r.default.createElement("div",{className:"sdoc-revision-changes-container d-flex align-items-center pl-2 pr-2 ml-4"},n("No_changes"));var b=p.length;return r.default.createElement("div",{className:"sdoc-revision-changes-container d-flex align-items-center ml-4"},r.default.createElement("div",{className:"sdoc-revision-changes-tip d-flex align-items-center justify-content-center pl-2 pr-2"},"".concat(n("Changes")," ").concat(d+1,"/").concat(b)),r.default.createElement("div",{className:"sdoc-revision-changes-divider"}),r.default.createElement("div",{className:"sdoc-revision-changes-last d-flex align-items-center justify-content-center",id:"sdoc-revision-changes-last",onClick:g},r.default.createElement("i",{className:"sdocfont sdoc-next-page",style:{transform:"rotate(-90deg)"}})),r.default.createElement("div",{className:"sdoc-revision-changes-divider"}),r.default.createElement("div",{className:"sdoc-revision-changes-next d-flex align-items-center justify-content-center",id:"sdoc-revision-changes-next",onClick:E},r.default.createElement("i",{className:"sdocfont sdoc-previous-page",style:{transform:"rotate(-90deg)"}})),r.default.createElement(l.Tooltip,{placement:"bottom",target:"sdoc-revision-changes-last"},n("Last_modification")),r.default.createElement(l.Tooltip,{placement:"bottom",target:"sdoc-revision-changes-next"},n("Next_modification")))}},68221:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5544)),r=o(n(9950)),s=n(67818),l=n(17),d=n(13967),c=n(26577),u=a(n(59827)),f=a(n(75905)),p=a(n(20347)),m=a(n(13317)),h=a(n(8428)),v=a(n(48543));t.default=function(e){var t=e.isShowChanges,n=e.isPublished,o=void 0!==n&&n,a=e.changes,g=e.handleViewChangesToggle,E=e.handleRevisionMerged,b=e.handleRevisionPublished,C=l.context.getSetting("isSdocRevision"),A=(0,s.useTranslation)("sdoc-editor").t,w=(0,r.useState)(!1),N=(0,i.default)(w,2),S=N[0],y=N[1],I=(0,r.useState)(""),x=(0,i.default)(I,2),k=x[0],D=x[1],M=(0,r.useState)(null),L=(0,i.default)(M,2),T=L[0],P=L[1],R=(0,r.useState)(!1),_=(0,i.default)(R,2),O=_[0],j=_[1],B=(0,c.useDocument)(!1).loadDocument;(0,r.useEffect)((function(){if(C&&!t&&!o){var e=B(),n=l.context.getRevisionBaseVersionContent(),a=l.context.getSeadocOriginFileContent();Promise.all([e,n,a]).then((function(e){var t=(0,i.default)(e,3),n=t[0],o=t[1],a=t[2],r=JSON.parse(o.data.content),s=JSON.parse(a.data.content);if(s.version!==r.version){y(!0);var c=(0,l.getRebase)(s,r,n).value;P(c),D(d.TIP_TYPE.SOURCE_DOCUMENT_CHANGED)}})).catch((function(e){"string"!==typeof e?(l.toaster.danger(A("Error")),y(!1),D("")):l.toaster.danger(A(e))}))}}),[]);var F=(0,r.useCallback)((function(){S||(D(d.TIP_TYPE.HAS_BEEN_REPLACED),y(!0))}),[S]),H=(0,r.useCallback)((function(){b(),l.toaster.success(A(d.TIP_CONTENT[d.TIP_TYPE.HAS_BEEN_PUBLISHED]))}),[b,A]),U=(0,r.useCallback)((function(){S||(D(d.TIP_TYPE.HAS_BEEN_REMOVED),y(!0))}),[S]),Y=(0,r.useCallback)((function(){l.toaster.danger(A("Error"))}),[]);(0,r.useEffect)((function(){var e=l.EventBus.getInstance(),t=e.subscribe(l.INTERNAL_EVENT.DOCUMENT_REPLACED,F),n=e.subscribe(l.INTERNAL_EVENT.DOCUMENT_REPLACED_ERROR,Y),o=e.subscribe(l.INTERNAL_EVENT.PUBLISH_DOCUMENT,H),a=e.subscribe(l.INTERNAL_EVENT.PUBLISH_DOCUMENT_ERROR,Y),i=e.subscribe(l.INTERNAL_EVENT.REMOVE_DOCUMENT,U),r=e.subscribe(l.INTERNAL_EVENT.REMOVE_DOCUMENT_ERROR,Y);return function(){t(),n(),o(),a(),i(),r()}}),[]);var V=(0,r.useCallback)((function(e){O||(j(!0),o||!e?(g(e),j(!1)):B().then((function(t){(0,l.hasConflict)(t.elements)?(D(d.TIP_TYPE.HAS_CONFLICT_BEFORE_VIEW_CHANGES),y(!0)):g(e),j(!1)})).catch((function(e){l.toaster.danger(A(e)),j(!1)})))}),[g,B,A,o,O]),W=(0,r.useCallback)((function(){y(!0),D(d.TIP_TYPE.CHECKING);var e=B(),t=l.context.getRevisionBaseVersionContent(),n=l.context.getSeadocOriginFileContent();Promise.all([e,t,n]).then((function(e){var t=(0,i.default)(e,3),n=t[0],o=t[1],a=t[2],r=JSON.parse(o.data.content),s=JSON.parse(a.data.content);if((0,l.hasConflict)(n.elements))D(d.TIP_TYPE.HAS_CONFLICT_BEFORE_PUBLISH);else{var c=(0,l.getRebase)(s,r,n),u=c.canMerge,f=c.isNeedReplaceMaster,p=c.value;if(u&&f)return D(d.TIP_TYPE.PUBLISHING),void l.context.publishRevision().then((function(e){y(!1),D("")})).catch((function(e){l.toaster.danger(A("Error"))}));!u||f?(P(p),D(d.TIP_TYPE.MERGE)):D(d.TIP_TYPE.DELETE_NO_CHANGES_REVISION)}})).catch((function(e){"string"!==typeof e?l.toaster.danger(A("Error")):l.toaster.danger(A(e))}))}),[B,A]),J=(0,r.useCallback)((function(){if(k!==d.TIP_TYPE.HAS_BEEN_PUBLISHED)if(k!==d.TIP_TYPE.DELETE_NO_CHANGES_REVISION)if(k!==d.TIP_TYPE.MERGE&&k!==d.TIP_TYPE.SOURCE_DOCUMENT_CHANGED);else{var e=l.context.getUserInfo().username,t={elements:T.elements,version:T.version,format_version:T.format_version,last_modify_user:e};l.context.updateSdocRevision(t).then((function(e){var t=e.data.origin_file_version;l.context.updateSettings({originFileVersion:t}),E&&E(T),y(!1)})).catch((function(e){l.toaster.danger(A("Error"))}))}else l.context.deleteSdocRevision().then((function(e){var t=l.context.getSetting("originFileURL");window.location.href=t})).catch((function(e){l.toaster.danger(A("Error"))}))}),[k,T,document]),Q=(0,r.useCallback)((function(){y(!1)}),[]);return r.default.createElement(r.default.Fragment,null,!C&&r.default.createElement(r.default.Fragment,null,r.default.createElement(p.default,null),r.default.createElement(h.default,null)),C&&t&&r.default.createElement(f.default,{allChanges:a}),C&&r.default.createElement(v.default,{isShowChanges:t,onViewChangesToggle:V}),C&&!o&&r.default.createElement(m.default,{publishRevision:W}),S&&r.default.createElement(u.default,{tipType:k,onSubmit:J,onClose:Q,zIndex:1072}))}},20347:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5544)),r=o(n(9950)),s=n(67818),l=n(65611),d=n(17),c=n(13967);n(54808);t.default=(0,s.withTranslation)("sdoc-editor")((function(e){var t=e.t,n="sdoc_revisions",o=d.EventBus.getInstance(),a=(0,r.useState)(!1),s=(0,i.default)(a,2),u=s[0],f=s[1],p=(0,r.useCallback)((function(e){f(!e)}),[]),m=(0,r.useCallback)((function(){d.context.startRevise().then((function(e){var t=d.context.getSetting("repoID"),n=d.context.getSetting("siteRoot"),a="".concat(n,"lib/").concat(t,"/revisions/").concat(e.data.revision_id,"/");window.open(a,"_blank"),o.dispatch(c.NEW_REVISION)})).catch((function(e){d.toaster.danger(t("Error"))}))}),[]);return r.default.createElement(l.Dropdown,{isOpen:u,toggle:function(){return p(u)},className:"sdoc-more-revision-operations-dropdown"},r.default.createElement(l.DropdownToggle,{id:n,className:"ml-4 sdoc-more-revision-operations-toggle",tag:"div"},r.default.createElement("i",{className:"sdocfont sdoc-revise"}),r.default.createElement("span",{className:"sdocfont sdoc-".concat(u?"caret-up":"drop-down")})),r.default.createElement(d.Tooltip,{target:n},t("Revise")),r.default.createElement(l.DropdownMenu,{className:"sdoc-dropdown-menu",end:!0},r.default.createElement(l.DropdownItem,{className:"sdoc-dropdown-menu-item",onClick:m},r.default.createElement("div",{className:"sdoc-more-revision-operation"},r.default.createElement("div",{className:"sdoc-more-revision-operation-title"},r.default.createElement("i",{className:"sdocfont sdoc-revise"}),r.default.createElement("span",{className:"sdoc-more-revision-operation-title-name"},t("Revise"))),r.default.createElement("div",{className:"sdoc-more-revision-operation-describe"},t("Start_revise_tip"))))))}))},13317:function(e,t,n){"use strict";var o=n(6305).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(9950)),i=n(67818),r=n(65611);n(17959);t.default=function(e){var t=e.publishRevision,n=(0,i.useTranslation)("sdoc-editor").t,o=(0,a.useCallback)((function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t()}),[]);return a.default.createElement(r.Button,{color:"success sdoc-publish-button",onClick:o,className:"ml-4"},n("Publish"))}},8428:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5544)),r=o(n(9950)),s=n(67818),l=n(17),d=n(13967),c=n(11891),u=a(n(58448));n(7456);t.default=function(){var e=l.EventBus.getInstance(),t=(0,s.useTranslation)("sdoc-editor").t,n=(0,r.useState)(0),o=(0,i.default)(n,2),a=o[0],f=o[1],p=(0,r.useState)(!1),m=(0,i.default)(p,2),h=m[0],v=m[1],g=(0,r.useCallback)((function(){f(a+1)}),[a]);(0,r.useEffect)((function(){l.context.getSdocRevisionsCount().then((function(e){var t=e.data.count;f(t)})).catch((function(e){var n=(0,c.getErrorMsg)(e);l.toaster.danger(t(n))}))}),[]),(0,r.useEffect)((function(){var t=e.subscribe(d.NEW_REVISION,g);return function(){t()}}),[g]);var E=(0,r.useCallback)((function(){v(!0)}),[]),b=(0,r.useCallback)((function(){v(!1)}),[]);return 0===a?null:r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"sdoc-revisions-count",onClick:E},1===a&&r.default.createElement(r.default.Fragment,null,t("1_revision")),a>1&&r.default.createElement(r.default.Fragment,null,t("x_revisions",{count:a}))),h&&r.default.createElement(u.default,{updateRevisionsCount:f,toggle:b}))}},58448:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(60436)),r=a(n(5544)),s=o(n(9950)),l=n(67818),d=n(65611),c=n(17),u=a(n(5540)),f=n(13967),p=n(80131),m=n(11891),h=a(n(19158)),v=a(n(59827)),g=a(n(40604));n(91612);t.default=function(e){var t,n=e.updateRevisionsCount,o=e.toggle,a=(0,s.useRef)(null),E=(0,l.useTranslation)("sdoc-editor").t,b=(0,s.useState)(!0),C=(0,r.default)(b,2),A=C[0],w=C[1],N=(0,s.useState)([]),S=(0,r.default)(N,2),y=S[0],I=S[1],x=(0,s.useState)(1),k=(0,r.default)(x,2),D=k[0],M=k[1],L=(0,s.useState)(""),T=(0,r.default)(L,2),P=T[0],R=T[1],_=(0,s.useState)(!0),O=(0,r.default)(_,2),j=O[0],B=O[1],F=c.context.getSetting("repoID"),H=c.context.getSetting("siteRoot"),U=(0,s.useState)(""),Y=(0,r.default)(U,2),V=Y[0],W=Y[1],J=(0,s.useState)(""),Q=(0,r.default)(J,2),z=Q[0],q=Q[1],G=(0,s.useState)(!1),X=(0,r.default)(G,2),K=X[0],Z=X[1];(0,s.useEffect)((function(){$()}),[]);var $=(0,s.useCallback)((function(){c.context.getSdocRevisions(D,25).then((function(e){var t=e.data.revisions.map((function(e){return new p.Revision(e)}));w(!1),n(e.data.count);var o=[].concat((0,i.default)(y),(0,i.default)(t));I(o),o.length<e.data.count?M(D+1):B(!1)})).catch((function(e){var t=(0,m.getErrorMsg)(e);1===D?R(t):c.toaster.danger(E(t)),w(!1)}))}),[y,D,25]),ee=(0,s.useCallback)((function(e,t){if(e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),!e.target.className.includes("sdoc-revision-operation-toggle")){var n="".concat(H,"lib/").concat(F,"/revisions/").concat(t,"/");window.open(n,"_blank")}}),[]),te=(0,s.useCallback)((function(e){var t=e.target,n=t.scrollTop,o=t.clientHeight,i=(a.current||{clientHeight:0}).clientHeight;A||j&&n+o+1>=i&&(w(!0),$())}),[null===(t=a.current)||void 0===t?void 0:t.clientHeight,A,j]),ne=(0,s.useCallback)((function(){Z(!0)}),[]),oe=(0,s.useCallback)((function(){q(""),Z(!1)}),[]),ae=(0,s.useCallback)((function(){var e=y.findIndex((function(e){return e.id===z}));if(-1!==e){var t=y[e];c.context.deleteSdocOtherRevision(t.id).then((function(t){var o=y.slice(0);o.splice(e,1),n(o.length),I(o),oe(),c.toaster.success(E("Revision_deleted"))})).catch((function(e){var t=(0,m.getErrorMsg)(e);c.toaster.danger(E(t))}))}else oe()}),[z,y,oe]),ie=(0,s.useCallback)((function(){return 1===D&&A?s.default.createElement("div",{className:"sdoc-revisions-container loading"},s.default.createElement(c.FileLoading,null)):1===D&&P?s.default.createElement("div",{className:"sdoc-revisions-container error"},E(P)):s.default.createElement("div",{className:"sdoc-revisions-container"},s.default.createElement("div",{className:"sdoc-revisions-header"},s.default.createElement("div",{className:"sdoc-revision-name-header",style:{width:"40%"}},E("ID")),s.default.createElement("div",{className:"sdoc-revision-user-header",style:{width:"25%"}},E("Creator")),s.default.createElement("div",{className:"sdoc-revision-time-header",style:{width:"30%"}},E("Created_time")),s.default.createElement("div",{className:"sdoc-revision-time-header",style:{width:"5%"}})),s.default.createElement("div",{className:"sdoc-revisions-content",onScroll:te},s.default.createElement("div",{className:"sdoc-revisions-list",ref:a},y.map((function(e){var t=e.id,n=z===t,o=V===t;return s.default.createElement("div",{key:e.id,className:(0,u.default)("sdoc-revision",{operating:n}),onClick:function(e){return ee(e,t)},onMouseEnter:function(){return W(t)},onMouseLeave:function(){return W("")}},s.default.createElement("div",{className:"sdoc-revision-name",style:{width:"40%"}},s.default.createElement("div",{className:"sdoc-revision-name-content"},E("Revision")+" "+t)),s.default.createElement("div",{className:"sdoc-revision-user",style:{width:"25%"}},e.nickname),s.default.createElement("div",{className:"sdoc-revision-time",style:{width:"30%"}},e.createdTime),s.default.createElement("div",{className:"sdoc-revision-operations",style:{width:"5%"}},s.default.createElement(g.default,{isActive:o,isOperating:n,revision:e,updateOperatingRevision:q,onDeleteOtherRevision:ne})))})),A&&s.default.createElement("div",{className:"sdoc-revision loading"},s.default.createElement(c.FileLoading,null)))))}),[D,y,A,P,V,z]);return s.default.createElement(s.default.Fragment,null,s.default.createElement(d.Modal,{isOpen:!0,toggle:o,className:"revisions-dialog"},s.default.createElement(h.default,{toggle:o},E("Revision")),s.default.createElement(d.ModalBody,{className:"revisions-body"},ie())),K&&s.default.createElement(v.default,{tipType:f.TIP_TYPE.DELETE_REVISION,onSubmit:ae,onClose:oe,zIndex:1071},E(f.TIP_CONTENT[f.TIP_TYPE.DELETE_REVISION],{content:"".concat(E("revision")," ").concat(z)})))}},40604:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5544)),r=o(n(9950)),s=n(65611),l=n(17);n(65372);t.default=function(e){var t=e.isActive,n=e.isOperating,o=e.revision,a=e.updateOperatingRevision,d=e.onDeleteOtherRevision,c="sdoc-revision-".concat(o.id),u=(0,r.useRef)(null),f=(0,r.useState)(!1),p=(0,i.default)(f,2),m=p[0],h=p[1],v=(0,r.useCallback)((function(){u.current.toggle();var e=!m;h(e),a(e?o.id:"")}),[m,a,o]),g=(0,r.useCallback)((function(e){e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation(),d(),u.current.toggle()}),[d]);return t||n?r.default.createElement("div",{className:"sdoc-revision-operation-toggle-container"},r.default.createElement("i",{className:"sdocfont sdoc-more sdoc-revision-operation-toggle",id:c}),r.default.createElement(s.UncontrolledPopover,{target:c,className:"sdoc-menu-popover sdoc-dropdown-menu sdoc-revision-menu-popover",trigger:"legacy",placement:"bottom-start",hideArrow:!0,toggle:v,fade:!1,modifiers:[{name:"preventOverflow",options:{boundariesElement:document.body}}],ref:u},r.default.createElement("div",{className:"sdoc-dropdown-menu-container"},r.default.createElement(l.DropdownMenuItem,{onClick:g,menuConfig:{iconClass:"sdocfont sdoc-delete",text:"Delete"}})))):null}},48543:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.REVISION_DIFF_VALUE=t.REVISION_DIFF_KEY=void 0;var i=a(n(24765)),r=o(n(9950)),s=n(67818),l=n(17),d=a(n(85007));n(33669);var c=t.REVISION_DIFF_KEY="diff",u=t.REVISION_DIFF_VALUE="1";t.default=function(e){var t=e.isShowChanges,n=e.onViewChangesToggle,o=(0,s.useTranslation)("sdoc-editor").t;(0,r.useEffect)((function(){var e=new URL(window.location.href),t=new URLSearchParams(e.search);t.has(c)&&(t.get(c)===u&&n(!0))}),[]);var a=(0,r.useCallback)((function(){var e,o=!t,a=new URL(window.location.href),r=new URLSearchParams(a.search),s="",l=(0,i.default)(r.entries());try{for(l.s();!(e=l.n()).done;){var d=e.value;d[0]!==c&&(s?s+="&".concat(d[0],"=").concat(d[1]):s="".concat(d[0],"=").concat(d[1]))}}catch(m){l.e(m)}finally{l.f()}!r.has(c)&&o&&(s?s+="&".concat(c,"=").concat(u):s="".concat(c,"=").concat(u));var f=a.pathname.endsWith("/")?a.pathname:a.pathname+"/",p="".concat(a.origin).concat(f).concat(s?"?"+s:"");window.history.replaceState(null,null,p),n(o)}),[t,n]);return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{id:"sdoc-toggle-revision-changes-container",className:"h-100 ml-4 d-flex align-items-center "},r.default.createElement(d.default,{checked:t,onChange:a,className:"sdoc-toggle-revision-changes d-flex align-items-center"})),r.default.createElement(l.Tooltip,{target:"sdoc-toggle-revision-changes-container"},o("View_changes")))}},77251:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5544)),r=o(n(9950)),s=n(67818),l=n(65611),d=a(n(38208)),c=n(17),u=a(n(85007));t.default=(0,s.withTranslation)("sdoc-editor")((function(e){var t=e.t,n=(0,r.useState)(!1),o=(0,i.default)(n,2),a=o[0],s=o[1],f=(0,r.useState)(c.LocalStorage.getItem(c.FULL_WIDTH_MODE)),p=(0,i.default)(f,2),m=p[0],h=p[1],v=c.context.getSetting("mobileLogin"),g=c.context.getPrintCss(),E="sdoc_more_operation";(0,r.useEffect)((function(){var e=c.EventBus.getInstance().subscribe(c.INTERNAL_EVENT.ON_PRINT,C);return function(){e()}}),[]);var b=(0,r.useCallback)((function(e,t){if(t){var n=document.getElementById("sdoc-full-width-mode-wrapper");if(n&&n.contains(e.target))return}s(!t)}),[]),C=(0,r.useCallback)((function(){(0,d.default)({printable:"sdoc-editor-print-wrapper",type:"html",scanStyles:!0,targetStyles:["*"],style:"@page { size: auto A4 landscape;margin:20px auto; padding: 0;} .d-print-none{display:none !important;} .article {border: none !important; box-shadow: none !important; } html, body {margin: 0; padding: 0}",css:g})}),[g]),A=(0,r.useMemo)((function(){return(0,c.isMac)()?["\u2318","P"]:["Ctrl","P"]}),[]),w=(0,r.useCallback)((function(){var e=!m;c.LocalStorage.setItem(c.FULL_WIDTH_MODE,e),c.EventBus.getInstance().dispatch(c.INTERNAL_EVENT.RESIZE_ARTICLE),h(e)}),[m]);return r.default.createElement(l.Dropdown,{className:"sdoc-operator-folder ".concat(v?"mobile-login":""),isOpen:a,toggle:function(e){return b(e,a)}},r.default.createElement(l.DropdownToggle,{id:E,className:"op-item",tag:"span"},r.default.createElement("i",{className:"sdocfont sdoc-more"})),r.default.createElement(c.Tooltip,{target:E},t("More_operation")),r.default.createElement(l.DropdownMenu,{className:"sdoc-dropdown-menu",end:!0},r.default.createElement(l.DropdownItem,{className:"sdoc-dropdown-menu-item",onClick:C},r.default.createElement("div",{className:"sdoc-dropdown-print-container"},r.default.createElement("div",null,t("Print")),r.default.createElement(c.MenuShortcutPrompt,{shortcuts:A}))),!c.isMobile&&r.default.createElement(l.DropdownItem,{id:"sdoc-full-width-mode-wrapper",className:"sdoc-dropdown-menu-item"},r.default.createElement(u.default,{checked:m,placeholder:t("Full_width_mode"),className:"sdoc-full-width-mode-wrapper w-100",onChange:w}))))}))},92596:function(e,t,n){"use strict";var o=n(6305).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,i.useTranslation)("sdoc-editor").t,t="sdoc-share",n=(0,a.useCallback)((function(){r.EventBus.getInstance().dispatch(s.EXTERNAL_EVENT.SHARE_SDOC)}),[]);return a.default.createElement("span",{className:"op-item",id:t,onClick:n},a.default.createElement("i",{className:"sdocfont sdoc-share"}),a.default.createElement(r.Tooltip,{target:t},e("Share")))};var a=o(n(9950)),i=n(67818),r=n(17),s=n(13967)},27116:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(23029)),i=o(n(92901)),r=o(n(39874)),s=o(n(85501)),l=o(n(64467)),d=o(n(9950)),c=n(67818),u=n(17),f=n(13967);n(32135);var p=function(e){function t(e){var n;return(0,a.default)(this,t),n=(0,r.default)(this,t,[e]),(0,l.default)(n,"registerEventHandler",(function(){document.addEventListener("click",n.onHideDraftDropdownMenu)})),(0,l.default)(n,"unregisterEventHandler",(function(){document.removeEventListener("click",n.onHideDraftDropdownMenu)})),(0,l.default)(n,"onHideDraftDropdownMenu",(function(){n.setState({isDropdownMenuOpen:!1},(function(){n.unregisterEventHandler()}))})),(0,l.default)(n,"onToggleClick",(function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var t=!n.state.isDropdownMenuOpen;t?n.setState({isDropdownMenuOpen:t},(function(){n.registerEventHandler()})):n.setState({isDropdownMenuOpen:t},(function(){n.unregisterEventHandler()}))})),(0,l.default)(n,"unmark",(function(){u.EventBus.getInstance().dispatch(f.EXTERNAL_EVENT.UNMARK_AS_DRAFT)})),n.state={isDropdownMenuOpen:!1},n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.state.isDropdownMenuOpen,t=this.props.t;return d.default.createElement("div",{className:"sdoc-draft-menu"},d.default.createElement("span",{className:"draft-toggle sdoc-draft-identifier",onClick:this.onToggleClick},t("Draft")),e&&d.default.createElement("ul",{className:"draft-popover list-unstyled m-0"},d.default.createElement("li",{className:"draft-menu-item",onClick:this.unmark},t("Unmark_as_draft"))))}}])}(d.default.Component);t.default=(0,c.withTranslation)("sdoc-editor")(p)},47532:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(22007)),r=a(n(10467)),s=o(n(9950)),l=n(67818),d=n(65611),c=n(17);n(23136);t.default=(0,l.withTranslation)("sdoc-editor")((function(e){var t=e.t,n=(0,s.useCallback)((0,r.default)((0,i.default)().m((function e(){var t;return(0,i.default)().w((function(e){for(;;)switch(e.n){case 0:return e.n=1,c.context.normalizeSdocContent();case 1:t=e.v,t.data.success&&location.reload(!0);case 2:return e.a(2)}}),e)}))),[]);return s.default.createElement("div",{className:"error-page"},s.default.createElement("span",{className:"error-tip"},t("Sdoc_error_tip")),s.default.createElement(d.Button,{className:"error-button",onClick:function(){return n()}},t("Repair")))}))},61800:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23029)),r=a(n(92901)),s=a(n(39874)),l=a(n(85501)),d=o(n(9950)),c=a(n(47532));t.default=function(e){function t(e){var n;return(0,i.default)(this,t),(n=(0,s.default)(this,t,[e])).state={hasError:!1},n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?d.default.createElement(c.default,null):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}])}(d.PureComponent)},19158:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.toggle,n=e.children,o=null;t&&(o=a.default.createElement("span",{className:"sdoc-add-link-close-icon",onClick:t},a.default.createElement("i",{className:"sdocfont sdoc-sm-close","aria-hidden":"true"})));return a.default.createElement(i.ModalHeader,{close:o},n)};var a=o(n(9950)),i=n(65611);n(87830)},85007:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(9950)),i=o(n(5540));n(44577);t.default=function(e){var t=e.onChange,n=e.checked,o=e.placeholder,r=e.disabled,s=e.className,l=e.size;return a.default.createElement("div",{className:(0,i.default)("seadoc-switch position-relative",s,l)},a.default.createElement("label",{className:"custom-switch"},a.default.createElement("input",{className:"custom-switch-input",type:"checkbox",checked:n,onChange:t,name:"custom-switch-checkbox",disabled:r}),o&&a.default.createElement("span",{className:"custom-switch-description text-truncate"},o),a.default.createElement("span",{className:"custom-switch-indicator"})))}},59827:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5544)),r=o(n(9950)),s=n(67818),l=n(65611),d=n(17),c=a(n(5540)),u=a(n(43892)),f=n(13967),p=a(n(19158));n(56457);var m=[f.TIP_TYPE.HAS_BEEN_REPLACED,f.TIP_TYPE.HAS_BEEN_PUBLISHED,f.TIP_TYPE.CHECKING,f.TIP_TYPE.PUBLISHING];t.default=function(e){var t=e.className,n=e.tipType,o=e.onClose,a=e.onSubmit,h=e.zIndex,v=void 0===h?1071:h,g=e.children,E=(0,s.useTranslation)("sdoc-editor").t,b=(0,r.useState)(),C=(0,i.default)(b,2),A=C[0],w=C[1],N=(0,r.useCallback)((function(){m.includes(n)||A||o&&o()}),[n,A]),S=(0,r.useCallback)((function(){[f.TIP_TYPE.HAS_CONFLICT_BEFORE_VIEW_CHANGES,f.TIP_TYPE.HAS_CONFLICT_BEFORE_PUBLISH].includes(n)?N():(w(!0),a&&a())}),[N,a,n]);(0,r.useEffect)((function(){if(A){var e=setTimeout((function(){w(!1)}),3e3);return function(){clearTimeout(e)}}}),[A]);var y=(0,r.useCallback)((function(){window.location.reload()}),[]),I=(0,r.useCallback)((function(){return n===f.TIP_TYPE.HAS_BEEN_REPLACED?r.default.createElement("div",{className:"sdoc-tip-dialog-custom-container"},r.default.createElement("div",{className:"sdoc-tip-img-container"},r.default.createElement("img",{src:u.default,alt:"",height:"140"})),r.default.createElement("div",{className:"sdoc-tip-content"},E(f.TIP_CONTENT[n])),r.default.createElement("div",{className:"sdoc-tip-operations-container"},r.default.createElement(l.Button,{color:"primary",className:"highlight-bg-color sdoc-tip-operation-btn",onClick:y},E("Refresh")))):n===f.TIP_TYPE.PUBLISHING?r.default.createElement("div",{className:"sdoc-tip-dialog-custom-container publishing"},r.default.createElement(d.FileLoading,null),r.default.createElement("div",{className:"sdoc-tip-content"},E(f.TIP_CONTENT[n]))):r.default.createElement(r.default.Fragment,null,r.default.createElement(p.default,{toggle:m.includes(n)?void 0:N},E(f.TIP_TITLE[n])),r.default.createElement(l.ModalBody,{className:"sdoc-tip-body"},g||r.default.createElement(r.default.Fragment,null,E(f.TIP_CONTENT[n]))),!m.includes(n)&&r.default.createElement(l.ModalFooter,null,r.default.createElement(l.Button,{color:"secondary",className:"mr-2",onClick:N},E("Cancel")),r.default.createElement(l.Button,{color:"primary",className:(0,c.default)("highlight-bg-color",{"d-flex align-items-center":A}),disabled:A,onClick:S},A&&r.default.createElement("span",{className:"submit-loading-container mr-2"},r.default.createElement(d.FileLoading,null)),E("Confirm"))))}),[g,N,A,S,E,n,y]);return r.default.createElement(l.Modal,{isOpen:!0,autoFocus:!1,zIndex:v,returnFocusAfterClose:!1,toggle:N,className:(0,c.default)("sdoc-tip-dialog",t),contentClassName:"sdoc-tip-modal"},I())}},95214:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(23029)),i=o(n(92901)),r=o(n(39874)),s=o(n(85501)),l=o(n(64467)),d=o(n(9950)),c=n(67818),u=n(17),f=o(n(4159));n(26525);var p=function(e){function t(e){var n;return(0,a.default)(this,t),n=(0,r.default)(this,t,[e]),(0,l.default)(n,"onOperationExecuteError",(function(){var e=(0,n.props.t)("Failed_to_execute_operation_on_server");u.toaster.warning(e,{hasCloseButton:!0})})),(0,l.default)(n,"onSyncServerOperationError",(function(){var e=(0,n.props.t)("Failed_to_sync_with_server_operations");u.toaster.danger(e,{hasCloseButton:!1,duration:null})})),(0,l.default)(n,"onInternalServerExecError",(function(){var e=(0,n.props.t)("Internal_server_exec_operations_error");u.toaster.danger(e,{hasCloseButton:!1,duration:null})})),(0,l.default)(n,"onTokenExpiredError",(function(e){var t=(0,n.props.t)("Token_expired_Please_refresh_the_page");u.toaster.closeAll(),u.toaster.danger(t,{duration:null})})),(0,l.default)(n,"onPendingOpExceedLimit",(function(){var e=n.props.t;u.toaster.closeAll();var t=e("Pending_operations_exceed_limit");u.toaster.warning(t,{duration:5})})),(0,l.default)(n,"onDisconnect",(function(){var e=n.props,t=e.t;if(e.isEditMode){var o=t("Server_is_not_connected_Operation_will_be_sent_to_server_later");u.toaster.warning(o,{hasCloseButton:!0,duration:null})}})),(0,l.default)(n,"onReconnectError",(function(){if(!n.isConnectError){n.isConnectError=!0;var e=(0,n.props.t)("Server_is_disconnected_Reconnecting");u.toaster.closeAll(),u.toaster.warning(e,{hasCloseButton:!0,duration:null})}})),(0,l.default)(n,"onConnect",(function(){n.isConnectError=!1,u.toaster.closeAll()})),(0,l.default)(n,"onReconnect",(function(){n.isConnectError=!1;var e=(0,n.props.t)("Server_is_reconnected");u.toaster.closeAll(),u.toaster.success(e)})),(0,l.default)(n,"onDocumentSaving",(function(){n.setState({isSaving:!0,isSaved:!1})})),(0,l.default)(n,"onDocumentSaved",(function(e){n.saveTimer&&clearTimeout(n.saveTimer),n.resetTimer&&clearTimeout(n.resetTimer),n.saveTimer=setTimeout((function(){n.setState({lastSavedAt:e,isSaving:!1,isSaved:!0})}),1e3),n.resetTimer=setTimeout((function(){n.setState({isSaving:!1,isSaved:!1})}),2e3)})),(0,l.default)(n,"render",(function(){var e=n.props.t,t=n.state,o=t.isSaved,a=t.isSaving,i=t.lastSavedAt;return a&&!o?d.default.createElement("span",{className:"tip-message"},e("Saving")):i?d.default.createElement("span",{className:"tip-message"},d.default.createElement("span",{className:"sdocfont sdoc-save-tip mr-2"}),d.default.createElement("span",{className:"save-time"},(0,f.default)(i).format("HH:mm"))):null})),n.state={isSaved:!1,isSaving:!1,lastSavedAt:""},n.saveTimer=null,n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=u.EventBus.getInstance();this.unsubscribeSavingEvent=e.subscribe("is-saving",this.onDocumentSaving),this.unsubscribeSavedEvent=e.subscribe("saved",this.onDocumentSaved),this.unsubscribeSavedEvent=e.subscribe("connect",this.onConnect),this.unsubscribeDisconnectEvent=e.subscribe("disconnect",this.onDisconnect),this.unsubscribeReconnectErrorEvent=e.subscribe("reconnect_error",this.onReconnectError),this.unsubscribeReconnectEvent=e.subscribe("reconnect",this.onReconnect),this.unsubscribeOpExecError=e.subscribe("execute_client_operations_error",this.onOperationExecuteError),this.unsubscribeSyncServerOpError=e.subscribe("sync_server_operations_error",this.onSyncServerOperationError),this.unsubscribeDocumentLoadError=e.subscribe("load_document_content_error",this.onInternalServerExecError),this.unsubscribeOperationsSaveError=e.subscribe("save_operations_to_database_error",this.onInternalServerExecError),this.unsubscribeOperationsSaveError=e.subscribe("token_expired",this.onTokenExpiredError),this.unsubscribePendingOpExceedLimit=e.subscribe("pending_operations_exceed_limit",this.onPendingOpExceedLimit)}},{key:"componentWillUnmount",value:function(){this.unsubscribeSavingEvent(),this.unsubscribeSavedEvent(),this.unsubscribeDisconnectEvent(),this.unsubscribeReconnectErrorEvent(),this.unsubscribeReconnectEvent(),this.unsubscribeOpExecError(),this.unsubscribeSyncServerOpError(),this.unsubscribePendingOpExceedLimit(),this.unsubscribeDocumentLoadError(),this.unsubscribeOperationsSaveError(),clearTimeout(this.saveTimer)}}])}(d.default.Component);t.default=(0,c.withTranslation)("sdoc-editor")(p)},13967:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TIP_TYPE=t.TIP_TITLE=t.TIP_CONTENT=t.NEW_REVISION=t.EXTERNAL_EVENT=void 0;var a,i,r=o(n(64467)),s=n(17),l=(t.EXTERNAL_EVENT={INTERNAL_LINK_CLICK:"internal_link_click",TOGGLE_STAR:"toggle_star",UNMARK_AS_DRAFT:"unmark_as_draft",SHARE_SDOC:"share_sdoc",FREEZE_DOCUMENT:"freeze_document",UNFREEZE:"unfreeze",REFRESH_DOCUMENT:s.INTERNAL_EVENT.REFRESH_DOCUMENT,NEW_NOTIFICATION:s.INTERNAL_EVENT.NEW_NOTIFICATION,CLEAR_NOTIFICATION:s.INTERNAL_EVENT.CLEAR_NOTIFICATION,CREATE_WHITEBOARD_FILE:s.INTERNAL_EVENT.CREATE_WHITEBOARD_FILE,GENERATE_EXDRAW_READ_ONLY_LINK:s.INTERNAL_EVENT.GENERATE_EXDRAW_READ_ONLY_LINK,FILE_METADATA_COMPONENT:s.INTERNAL_EVENT.FILE_METADATA_COMPONENT,CREATE_SDOC_FILE:s.INTERNAL_EVENT.CREATE_SDOC_FILE,CREATE_WIKI_PAGE:s.INTERNAL_EVENT.CREATE_WIKI_PAGE,UNSEEN_NOTIFICATIONS_COUNT:s.INTERNAL_EVENT.UNSEEN_NOTIFICATIONS_COUNT,TRANSFER_PREVIEW_FILE_ID:s.INTERNAL_EVENT.TRANSFER_PREVIEW_FILE_ID,IMAGE_COLUMN_TOGGLE:s.INTERNAL_EVENT.IMAGE_COLUMN_TOGGLE,COLLABORATORS_UPDATED:"collaborators_updated",CHANGE_HEADER_WIDTH:"change_header_width"},t.NEW_REVISION="new_revision",t.TIP_TYPE={DELETE_NO_CHANGES_REVISION:"delete_no_changes_revision",MERGE:"merge",HAS_CONFLICT_BEFORE_PUBLISH:"has_conflict_before_publish",HAS_BEEN_PUBLISHED:"has_been_published",HAS_BEEN_REPLACED:"has_been_merge",HAS_CONFLICT_BEFORE_VIEW_CHANGES:"has_conflict_before_view_changes",HAS_BEEN_REMOVED:"has_been_removed",CHECKING:"checking",PUBLISHING:"publishing",DELETE_REVISION:"delete_revision",SOURCE_DOCUMENT_CHANGED:"source_document_changed"});t.TIP_TITLE=(a={},(0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)(a,l.DELETE_NO_CHANGES_REVISION,"Tip"),l.MERGE,"Tip"),l.HAS_CONFLICT_BEFORE_PUBLISH,"Tip"),l.HAS_BEEN_PUBLISHED,"Tip"),l.HAS_BEEN_REPLACED,"Tip"),l.HAS_CONFLICT_BEFORE_VIEW_CHANGES,"Tip"),l.HAS_BEEN_REMOVED,"Tip"),l.CHECKING,"Tip"),l.PUBLISHING,"Tip"),l.DELETE_REVISION,"Delete_revision"),(0,r.default)(a,l.SOURCE_DOCUMENT_CHANGED,"Tip")),t.TIP_CONTENT=(i={},(0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)(i,l.DELETE_NO_CHANGES_REVISION,"Rebase_delete_no_change_revision_tip"),l.MERGE,"Merge_tip"),l.HAS_CONFLICT_BEFORE_PUBLISH,"Has_conflict_before_publish_tip"),l.HAS_BEEN_PUBLISHED,"Has_been_published_tip"),l.HAS_BEEN_REPLACED,"Has_been_replaced_tip"),l.HAS_CONFLICT_BEFORE_VIEW_CHANGES,"Has_conflict_before_view_changes_tip"),l.HAS_BEEN_REMOVED,"Has_been_removed_tip"),l.CHECKING,"Checking"),l.PUBLISHING,"Publishing"),l.DELETE_REVISION,"Delete_tip"),(0,r.default)(i,l.SOURCE_DOCUMENT_CHANGED,"Source_document_changed_tip"))},26577:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useDocument",{enumerable:!0,get:function(){return o.useDocument}});var o=n(77823)},77823:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useDocument=void 0;var a=o(n(5544)),i=n(9950),r=n(17);t.useDocument=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=r.context.getSetting("isSdocRevision"),n=r.context.getSetting("isPublished"),o=(0,i.useState)(!0),s=(0,a.default)(o,2),l=s[0],d=s[1],c=(0,i.useState)(!1),u=(0,a.default)(c,2),f=u[0],p=u[1],m=(0,i.useState)({version:0,children:[],cursors:{}}),h=(0,a.default)(m,2),v=h[0],g=h[1],E=(0,i.useState)(""),b=(0,a.default)(E,2),C=b[0],A=b[1],w=(0,i.useCallback)((function(){return new Promise((function(e,t){r.context.getFileContent().then((function(t){var n=t.data;e(n)})).catch((function(e){console.log(e);var n="Load_doc_content_error";e&&e.response&&("content_invalid"===(e.response.data||{}).error_type&&(n="Sdoc_format_invalid"));t(n)}))}))}),[]),N=(0,i.useCallback)((function(){p(!0),w().then((function(e){g(e),p(!1)})).catch((function(e){p(!1),A(e),g(null),p(!1)}))}),[w]);return(0,i.useEffect)((function(){t&&n||e&&w().then((function(e){g(e),d(!1)})).catch((function(e){A(e),g(null),d(!1)}))}),[]),{isFirstLoading:l,isReloading:f,errorMessage:C,document:v,loadDocument:w,reloadDocument:N,setErrorMessage:A}}},98705:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"Mh",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"bT",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Zo",{enumerable:!0,get:function(){return s.EXTERNAL_EVENT}}),Object.defineProperty(t,"tH",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"l7",{enumerable:!0,get:function(){return a.EventBus}}),Object.defineProperty(t,"Ii",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"SX",{enumerable:!0,get:function(){return a.SDocViewer}}),Object.defineProperty(t,"fP",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"xc",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"YU",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"x",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"DM",{enumerable:!0,get:function(){return m.default}});var a=n(17),i=o(n(65794)),r=o(n(61800)),s=n(13967),l=o(n(10774)),d=o(n(9247)),c=o(n(69746)),u=o(n(52190)),f=o(n(318)),p=o(n(21209)),m=o(n(81683))},62353:function(e,t,n){"use strict";var o=n(24994).default,a=n(6305).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(80045)),r=o(n(23029)),s=o(n(92901)),l=o(n(39874)),d=o(n(85501)),c=a(n(9950)),u=o(n(5540)),f=["children","className"];t.default=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,t,arguments)}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=(0,i.default)(e,f);return c.default.createElement("div",Object.assign({className:(0,u.default)("sdoc-editor-page-content",n)},o),t)}}])}(c.Component)},21179:function(e,t,n){"use strict";var o=n(24994).default,a=n(6305).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(80045)),r=o(n(23029)),s=o(n(92901)),l=o(n(39874)),d=o(n(85501)),c=a(n(9950)),u=o(n(5540)),f=["children","className"];t.default=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,t,arguments)}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=(0,i.default)(e,f);return c.default.createElement("div",Object.assign({className:(0,u.default)("sdoc-editor-page-header d-flex justify-content-between align-items-center px-4",n)},o),t)}}])}(c.Component)},31596:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Content",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return i.default}}),t.default=void 0;var a=o(n(62353)),i=o(n(21179)),r=o(n(51976));n(37784);t.default=r.default},51976:function(e,t,n){"use strict";var o=n(24994).default,a=n(6305).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(60436)),r=o(n(80045)),s=a(n(9950)),l=n(17),d=o(n(5540)),c=["children","className"];t.default=function(e){var t=e.children,n=e.className,o=(0,r.default)(e,c);return(0,s.useEffect)((function(){setTimeout((function(){var e=window.location.href,t=e.slice(e.indexOf("#")+1);if(t){var n=document.getElementById(t);n&&n.scrollIntoView(!0)}}),500),function(){var e=l.context.getSetting("isPublished")||!1,t=l.context.getSetting("isSdocRevision")||!1;if(!e&&!t){var n=l.context.getSetting("docUuid"),o=l.context.getSetting("docName"),a=l.LocalStorage.getItem("sdoc-recent-files",[]),r=[],s={doc_uuid:n,name:o};if(a.length>0){var d=a.find((function(e){return e.doc_uuid===n}));if(d)return;if(!d){var c=a.slice(0);10===a.length&&c.shift(),r=[s].concat((0,i.default)(c))}}else r.push(s);l.LocalStorage.setItem("sdoc-recent-files",r)}}()}),[]),s.default.createElement("div",Object.assign({className:(0,d.default)("sdoc-editor-page-wrapper",n)},o),t)}},80131:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Revision",{enumerable:!0,get:function(){return a.default}});var a=o(n(79126))},79126:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(92901)),i=o(n(23029)),r=n(11891),s=(0,a.default)((function e(t){(0,i.default)(this,e),this.id=t.revision_id||"",this.repoId=t.repo_id||"",this.docUuid=t.doc_uuid||"",this.filePath=t.file_path||"",this.filename=t.filename||"",this.parentPath=t.parent_path||"",this.nickname=t.nickname||"",this.createdTime=r.DateUtils.format(t.created_at||"","YYYY-MM-DD HH:MM"),this.updatedTime=r.DateUtils.format(t.updated_at||"","YYYY-MM-DD HH:MM"),this.isPublished=t.is_published||!1,this.publisher=t.publisher||"",this.publisherNickname=t.publisher_nickname||"",this.publishFileVersion=t.publish_file_version||"",this.originDocUuid=t.origin_doc_uuid||"",this.originFilePath=t.origin_file_path||"",this.originFileVersion=t.origin_file_version||"",this.originFilename=t.origin_filename||"",this.originParentPath=t.origin_parent_path||""}));t.default=s},10774:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(17);t.default=o.DiffViewer},9247:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5544)),r=o(n(9950)),s=n(67818),l=n(17),d=a(n(65794)),c=a(n(8616)),u=a(n(61800)),f=o(n(31596)),p=n(11891);n(41921);t.default=function(){l.context.initApi();var e=(0,s.useTranslation)("sdoc-editor").t,t=(0,r.useState)(!0),n=(0,i.default)(t,2),o=n[0],a=n[1],m=(0,r.useState)(""),h=(0,i.default)(m,2),v=h[0],g=h[1],E=(0,r.useState)(!1),b=(0,i.default)(E,2),C=b[0],A=b[1],w=(0,r.useState)({}),N=(0,i.default)(w,2),S=N[0],y=N[1],I=(0,r.useState)({}),x=(0,i.default)(I,2),k=x[0],D=x[1];(0,r.useEffect)((function(){(0,p.resetWebTitle)(e)}),[]),(0,r.useEffect)((function(){l.context.getPublishedRevisionContent().then((function(e){var t=e.data.content,n=JSON.parse(t);D(n),a(!1)})).catch((function(e){console.log(e);var t="Load_doc_content_error";e&&e.response&&("content_invalid"===(e.response.data||{}).error_type&&(t="Sdoc_format_invalid"));g(t),a(!1)}))}),[]);var M=(0,r.useCallback)((function(e){y(e)}),[]),L=(0,r.useCallback)((function(e){A(e)}),[]);return o?r.default.createElement(l.Loading,null):v?r.default.createElement("div",{className:"error-page"},r.default.createElement("div",{className:"error-tip"},e(v))):r.default.createElement(u.default,null,r.default.createElement(f.default,null,r.default.createElement(f.Header,null,r.default.createElement(d.default,{isEditMode:!1,isPublished:!0}),r.default.createElement(c.default,{isShowChanges:C,changes:S,isPublished:!0,handleViewChangesToggle:L})),r.default.createElement(f.Content,null,r.default.createElement(l.PublishedRevisionDiffViewer,{isShowChanges:C,revisionContent:k,didMountCallback:M}))))}},69746:function(e,t,n){"use strict";var o=n(24994).default,a=n(6305).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(9950)),r=n(67818),s=n(17),l=o(n(61800));n(18687);t.default=(0,r.withTranslation)("sdoc-editor")((function(e){var t=e.document,n=e.docUuid,o=e.isWikiReadOnly,a=e.scrollRef,r=e.collaborators,d=e.showComment,c=e.isShowRightPanel,u=e.setEditor;s.context.initApi();var f=(0,i.useMemo)((function(){var e=(0,s.createWikiEditor)();n&&s.context.updateConfigUuid(n);var a=s.context.getEditorConfig(),i=null;i=o?(0,s.withNodeId)(e):(0,s.withNodeId)((0,s.withSocketIO)(e,{document:t,config:a}));var r=t.cursors;return i.cursors=r||{},i.width=s.WIKI_EDITOR_EDIT_AREA_WIDTH,i.editorType=s.WIKI_EDITOR,i}),[n]);(0,i.useEffect)((function(){u&&f&&(f.editorType=s.WIKI_EDITOR,u(f))}),[u,f]),(0,i.useEffect)((function(){if(!o)return f.openConnection(),function(){f.closeConnection()}}),[o,f]);var p=d?s.CommentContextProvider:i.Fragment;return i.default.createElement(l.default,null,i.default.createElement(s.CollaboratorsProvider,{collaborators:r},i.default.createElement(s.PluginsProvider,{plugins:[],showComment:d},i.default.createElement(p,d&&{editor:f},i.default.createElement(s.WikiEditor,{document:t,docUuid:n,editor:f,isWikiReadOnly:o,scrollRef:a,showComment:d,isShowRightPanel:c})))))}))},52190:function(e,t,n){"use strict";var o=n(24994).default,a=n(6305).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(9950)),r=n(67818),s=n(17),l=o(n(65794)),d=o(n(61722)),c=o(n(77251)),u=o(n(61800)),f=n(26577),p=a(n(31596)),m=n(11891);n(41921);t.default=(0,r.withTranslation)("sdoc-editor")((function(e){var t=e.showComment,n=e.t,o=e.plugins,a=void 0===o?[]:o,r=e.collaborators;s.context.initApi();var h=(0,i.useRef)(null),v=(0,f.useDocument)(),g=v.isFirstLoading,E=v.isReloading,b=v.errorMessage,C=v.document;return(0,i.useEffect)((function(){(0,m.resetWebTitle)(n)}),[]),g?i.default.createElement(s.Loading,null):b?i.default.createElement("div",{className:"error-page"},i.default.createElement("div",{className:"error-tip"},n(b))):i.default.createElement(u.default,null,i.default.createElement(s.CollaboratorsProvider,{collaborators:r},i.default.createElement(s.PluginsProvider,{plugins:a,showComment:t},i.default.createElement(p.default,null,!(0,m.isSeafileClient)()&&i.default.createElement(p.Header,null,i.default.createElement(l.default,null),i.default.createElement("div",{className:"doc-ops"},i.default.createElement(d.default,null),i.default.createElement(c.default,null))),i.default.createElement(p.Content,null,i.default.createElement(s.SDocEditor,{ref:h,isReloading:E,document:C,showComment:t}))))))}))},318:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(5544)),r=o(n(9950)),s=n(67818),l=n(17),d=a(n(65794)),c=a(n(8616)),u=a(n(61800)),f=n(26577),p=o(n(31596)),m=n(11891);n(41921);t.default=(0,s.withTranslation)("sdoc-editor")((function(e){var t=e.isStarred,n=e.isDraft,o=e.showComment,a=e.showDocOperations,s=void 0===a||a,h=e.t,v=e.plugins,g=void 0===v?[]:v,E=e.collaborators;l.context.initApi();var b=(0,r.useRef)(null),C=(0,f.useDocument)(),A=C.isFirstLoading,w=C.isReloading,N=C.errorMessage,S=C.document,y=C.reloadDocument,I=C.setErrorMessage,x=(0,r.useState)(!1),k=(0,i.default)(x,2),D=k[0],M=k[1],L=(0,r.useState)(null),T=(0,i.default)(L,2),P=T[0],R=T[1],_=(0,r.useState)({}),O=(0,i.default)(_,2),j=O[0],B=O[1],F=l.context.getSetting("isPublished")||!1,H=l.context.getSetting("isSdocRevision")||!1,U=(0,r.useState)(F),Y=(0,i.default)(U,2),V=Y[0],W=Y[1];(0,r.useEffect)((function(){(0,m.resetWebTitle)(h)}),[]);var J=(0,r.useCallback)((function(e){B(e)}),[D]),Q=(0,r.useCallback)((function(e){if(V)M(e);else{if(!e)return M(e),void y();var t=b.current.getSlateValue();R(t),M(e)}}),[S,b.current,V]),z=(0,r.useCallback)((function(e){M(!1),b.current.setSlateValue(e),b.current.updateDocumentVersion(e)}),[]),q=(0,r.useCallback)((function(){l.context.getPublishedRevisionContent().then((function(e){var t=e.data.content,n=JSON.parse(t);R(n),W(!0),l.context.settings.isPublished=!0;var o=l.context.getSetting("assetsUrl"),a=l.context.getSetting("docUuid"),i=l.context.getSetting("originDocUuid");l.context.settings.assetsUrl=o.replace(a,i)})).catch((function(e){console.log(e);var t="Load_doc_content_error";e&&e.response&&("content_invalid"===(e.response.data||{}).error_type&&(t="Sdoc_format_invalid"));I(t),W(!0)}))}),[I]),G={isStarred:t,isPublished:V,isShowChanges:D,changes:j,handleViewChangesToggle:Q,handleRevisionMerged:z,handleRevisionPublished:q};return A?r.default.createElement(l.Loading,null):N?r.default.createElement("div",{className:"error-page"},r.default.createElement("div",{className:"error-tip"},h(N))):r.default.createElement(u.default,null,r.default.createElement(l.CollaboratorsProvider,{collaborators:E},r.default.createElement(l.PluginsProvider,{plugins:g,showComment:o},r.default.createElement(p.default,null,!(0,m.isSeafileClient)()&&r.default.createElement(p.Header,null,r.default.createElement(d.default,{isStarred:t,isDraft:n,isPublished:V,isEditMode:!V&&!D}),s&&r.default.createElement(c.default,G)),r.default.createElement(p.Content,null,!H&&r.default.createElement(l.SDocEditor,{ref:b,isReloading:w,document:S,showComment:o}),H&&!V&&r.default.createElement(l.RevisionEditor,{ref:b,isReloading:w,document:S,revisionContent:P,isShowChanges:D,didMountCallback:J}),H&&V&&r.default.createElement(l.PublishedRevisionDiffViewer,{revisionContent:P,isShowChanges:D,didMountCallback:J}))))))}))},21209:function(e,t,n){"use strict";var o=n(6305).default,a=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(22007)),r=a(n(10467)),s=a(n(23029)),l=a(n(92901)),d=a(n(39874)),c=a(n(85501)),u=a(n(9950)),f=n(67818),p=n(17),m=a(n(61800)),h=o(n(31596));n(18687);var v=function(e){function t(e){var n;return(0,s.default)(this,t),(n=(0,d.default)(this,t,[e])).state={isContextInit:!1,errorMessage:null,document:null},n.config=null,n}return(0,c.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=(0,r.default)((0,i.default)().m((function e(){var t,n,o;return(0,i.default)().w((function(e){for(;;)switch(e.p=e.n){case 0:return p.context.initApi(),e.p=1,e.n=2,p.context.getFileContent();case 2:t=e.v,n=t.data||null,this.setState({isContextInit:!0,document:n}),e.n=4;break;case 3:e.p=3,o=e.v,console.log(o),this.setState({isContextInit:!0,errorMessage:"Load_doc_content_error",document:null});case 4:return e.a(2)}}),e,this,[[1,3]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isContextInit,n=e.errorMessage,o=e.document,a=this.props.t;if(!t)return u.default.createElement(p.Loading,null);if(n)return u.default.createElement("div",{className:"d-flex justify-content-center"},a(n));var i=p.context.getSettings(),r=i.docName,s=i.sharePermissionText,l=i.downloadURL,d={document:o,showToolbar:!p.isMobile,showOutline:!p.isMobile,showComment:!1};return u.default.createElement(m.default,null,u.default.createElement(h.default,null,u.default.createElement(h.Header,null,u.default.createElement("div",{className:"doc-info"},u.default.createElement("h2",{className:"doc-name my-0"},r),s&&u.default.createElement("span",{className:"sdoc-share-permission ml-2"},s)),u.default.createElement("div",{className:"doc-ops"},l&&u.default.createElement("a",{href:l,className:"op-item"},u.default.createElement("i",{className:"sdocfont sdoc-download"})))),u.default.createElement(h.Content,null,u.default.createElement(p.SDocViewer,d))))}}])}(u.default.Component);t.default=(0,f.withTranslation)("sdoc-editor")(v)},81683:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(9950)),i=n(17),r=o(n(61800));n(18687);t.default=function(e){var t=e.document,n=e.showOutline,o=e.scrollRef;return i.context.initApi(),a.default.createElement(r.default,null,a.default.createElement(i.SDocWikiViewer,{document:t,showOutline:n,scrollRef:o}))}},61699:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(23029)),i=o(n(92901)),r=function(){return(0,i.default)((function e(){(0,a.default)(this,e)}),null,[{key:"format",value:function(e,t){var n=this.getValidDate(e);if(!n)return"";var o=t&&t.toUpperCase(),a=n.getFullYear(),i=n.getMonth()+1,r=n.getDate(),s=i<10?"0".concat(i):i,l=r<10?"0".concat(r):r;switch(o){case"YYYY-MM-DD HH:MM:SS":var d=n.getHours(),c=n.getMinutes(),u=n.getSeconds(),f=d<10?"0".concat(d):d,p=c<10?"0".concat(c):c,m=u<10?"0".concat(u):u;return"".concat(a,"-").concat(s,"-").concat(l," ").concat(f,":").concat(p,":").concat(m);case"YYYY-MM-DD HH:MM":var h=n.getHours(),v=n.getMinutes(),g=h<10?"0".concat(h):h,E=v<10?"0".concat(v):v;return"".concat(a,"-").concat(s,"-").concat(l," ").concat(g,":").concat(E);default:return"".concat(a,"-").concat(s,"-").concat(l)}}},{key:"isValidDateObject",value:function(e){return e instanceof Date&&!isNaN(e.getTime())}},{key:"getValidDate",value:function(e){if(!e)return null;var t="string"===typeof e,n=e,o=e;return t&&(n.split(" ").length>1||n.includes("T")?o=new Date(e):(n="".concat(e," 00:00:00"),o=new Date(n))),this.isValidDateObject(o)?o:t?(o=new Date(n.replace(/-/g,"/")),this.isValidDateObject(o)?o:null):null}}])}();t.default=r},11891:function(e,t,n){"use strict";var o=n(24994).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DateUtils",{enumerable:!0,get:function(){return i.default}}),t.resetWebTitle=t.isSeafileClient=t.getImageFileNameWithTimestamp=t.getErrorMsg=t.getDirPath=void 0;var a=n(17),i=o(n(61699));t.getDirPath=function(e){var t=e.slice(0,e.lastIndexOf("/"));return""===t?"/":t},t.getImageFileNameWithTimestamp=function(){return"image-"+Date.now().toString()+".png"},t.getErrorMsg=function(e){return e.response?403===e.response.status?"Permission_denied":e.response.data&&e.response.data.error_msg?e.response.data.error_msg:"Error":"Please_check_the_network"},t.resetWebTitle=function(e){var t=a.context.getSetting("isSdocRevision"),n=a.context.getSetting("originFilename");t&&(window.document.getElementsByTagName("title")[0].innerText="".concat(e("Revision")," - ").concat(n))},t.isSeafileClient=function(){var e="undefined"!==typeof navigator?navigator.userAgent:"";return/Seafile (Android|iOS)\/3\.0/.test(e)}},5540:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var r=a.apply(null,n);r&&e.push(r)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)o.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},41921:function(e,t,n){"use strict";n.r(t),t.default={}},18687:function(e,t,n){"use strict";n.r(t),t.default={}},11054:function(e,t,n){"use strict";n.r(t),t.default={}},14197:function(e,t,n){"use strict";n.r(t),t.default={}},33287:function(e,t,n){"use strict";n.r(t),t.default={}},54808:function(e,t,n){"use strict";n.r(t),t.default={}},17959:function(e,t,n){"use strict";n.r(t),t.default={}},7456:function(e,t,n){"use strict";n.r(t),t.default={}},91612:function(e,t,n){"use strict";n.r(t),t.default={}},65372:function(e,t,n){"use strict";n.r(t),t.default={}},33669:function(e,t,n){"use strict";n.r(t),t.default={}},60843:function(e,t,n){"use strict";n.r(t),t.default={}},32135:function(e,t,n){"use strict";n.r(t),t.default={}},23136:function(e,t,n){"use strict";n.r(t),t.default={}},87830:function(e,t,n){"use strict";n.r(t),t.default={}},44577:function(e,t,n){"use strict";n.r(t),t.default={}},56457:function(e,t,n){"use strict";n.r(t),t.default={}},26525:function(e,t,n){"use strict";n.r(t),t.default={}},37784:function(e,t,n){"use strict";n.r(t),t.default={}},62664:function(){},43892:function(e){"use strict";e.exports="data:image/png;base64,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"},12913:function(e){"use strict";e.exports="data:image/png;base64,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"},83907:function(e){"use strict";e.exports="data:image/png;base64,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"}},function(e){e.O(0,[4223],(function(){return t=17312,e(e.s=t);var t}));e.O()}]);