{"version":3,"file":"static/js/sysAdmin.91d1d2f2.js","mappings":"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","sources":["_i18n/i18n-seafile-editor.js","components/dialog/commit-details.js","components/dialog/create-folder-dialog.js","components/dialog/op-menu.js","components/dialog/share-admin-link.js","components/dialog/sysadmin-dialog/sysadmin-unlink-device-dialog.js","pages/sys-admin/side-panel.js","pages/sys-admin/main-panel.js","pages/sys-admin/main-panel-topbar.js","pages/sys-admin/info.js","pages/sys-admin/statistic/statistic-nav.js","pages/sys-admin/statistic/picker.js","pages/sys-admin/statistic/statistic-common-tool.js","pages/sys-admin/statistic/statistic-chart.js","pages/sys-admin/statistic/statistic-file.js","pages/sys-admin/statistic/statistic-storage.js","pages/sys-admin/statistic/traffic-table.js","pages/sys-admin/statistic/traffic-table-body.js","pages/sys-admin/statistic/statistic-traffic-orgs.js","pages/sys-admin/statistic/statistic-traffic-users.js","pages/sys-admin/statistic/statistic-traffic.js","pages/sys-admin/statistic/statistic-users.js","pages/sys-admin/statistic/statistic-reports.js","pages/sys-admin/devices/devices-nav.js","pages/sys-admin/devices/devices-by-platform.js","pages/sys-admin/devices/desktop-devices.js","pages/sys-admin/devices/mobile-devices.js","pages/sys-admin/user-link.js","pages/sys-admin/devices/devices-errors.js","components/dialog/sysadmin-dialog/set-quota.js","components/dialog/sysadmin-dialog/sysadmin-import-user-dialog.js","components/select-editor/sysadmin-user-role-editor.js","components/dialog/sysadmin-dialog/sysadmin-add-user-dialog.js","components/dialog/sysadmin-dialog/sysadmin-batch-add-admin-dialog.js","models/sysadmin-user.js","models/sysadmin-admin-user.js","pages/sys-admin/search.js","pages/sys-admin/users/users-nav.js","pages/sys-admin/users/users-content.js","pages/sys-admin/users/users.js","pages/sys-admin/users/admin-users.js","pages/sys-admin/users/ldap-imported-users.js","pages/sys-admin/users/ldap-users.js","pages/sys-admin/users/search-users.js","components/dialog/sysadmin-dialog/set-upload-download-rate-limit.js","components/dialog/sysadmin-dialog/update-user.js","pages/sys-admin/users/user-nav.js","pages/sys-admin/users/user-info.js","pages/sys-admin/users/user-repos.js","pages/sys-admin/users/user-shared-repos.js","pages/sys-admin/users/user-links.js","pages/sys-admin/users/user-groups.js","components/dialog/sysadmin-dialog/sysadmin-create-repo-dialog.js","pages/sys-admin/repos/repos-nav.js","components/dialog/sysadmin-dialog/sysadmin-share-to-user.js","components/dialog/sysadmin-dialog/sysadmin-share-to-group.js","components/dialog/sysadmin-dialog/sysadmin-share-dialog.js","components/dialog/sysadmin-dialog/sysadmin-lib-history-setting-dialog.js","pages/sys-admin/repos/repos.js","pages/sys-admin/repos/all-repos.js","pages/sys-admin/repos/system-repo.js","pages/sys-admin/repos/trash-repos.js","pages/sys-admin/repos/search-repos.js","models/system-admin/dirent.js","pages/sys-admin/repos/dir-path-bar.js","pages/sys-admin/repos/dir-content.js","pages/sys-admin/repos/dir-view.js","components/dialog/sysadmin-dialog/sysadmin-create-group-dialog.js","components/dialog/sysadmin-dialog/sysadmin-group-transfer-dialog.js","pages/sys-admin/groups/groups-content.js","pages/sys-admin/groups/groups.js","pages/sys-admin/groups/search-groups.js","pages/sys-admin/groups/group-nav.js","pages/sys-admin/groups/group-repos.js","components/dialog/sysadmin-dialog/sysadmin-group-add-member-dialog.js","pages/sys-admin/groups/group-members.js","pages/sys-admin/departments/departments.js","components/dialog/sysadmin-dialog/sysadmin-add-department-dialog.js","components/dialog/sysadmin-dialog/sysadmin-rename-department-dialog.js","components/dialog/sysadmin-dialog/sysadmin-delete-department-dialog.js","components/dialog/sysadmin-dialog/sysadmin-set-group-quota-dialog.js","pages/sys-admin/departments/group-item.js","pages/sys-admin/departments/department-list.js","components/dialog/sysadmin-dialog/sysadmin-add-member-dialog.js","components/dialog/sysadmin-dialog/sysadmin-add-repo-dialog.js","pages/sys-admin/departments/department.js","pages/sys-admin/departments/sub-departments.js","components/dialog/sysadmin-dialog/sysadmin-delete-member-dialog.js","pages/sys-admin/departments/member-item.js","pages/sys-admin/departments/department-members.js","components/dialog/sysadmin-dialog/sysadmin-delete-repo-dialog.js","pages/sys-admin/departments/repo-item.js","pages/sys-admin/departments/department-libraries.js","pages/sys-admin/links/links-nav.js","pages/sys-admin/links/share-links.js","pages/sys-admin/links/upload-links.js","components/dialog/sysadmin-dialog/sysadmin-add-org-dialog.js","pages/sys-admin/orgs/orgs-content.js","pages/sys-admin/orgs/orgs.js","pages/sys-admin/orgs/search-orgs.js","components/dialog/sysadmin-dialog/sysadmin-set-org-name-dialog.js","components/dialog/sysadmin-dialog/sysadmin-set-org-max-user-number-dialog.js","pages/sys-admin/orgs/org-nav.js","pages/sys-admin/orgs/org-info.js","pages/sys-admin/orgs/org-users.js","pages/sys-admin/orgs/org-groups.js","pages/sys-admin/orgs/org-repos.js","components/dialog/sysadmin-dialog/sysadmin-add-institution-dialog.js","pages/sys-admin/institutions/institutions.js","pages/sys-admin/institutions/institution-nav.js","pages/sys-admin/institutions/institution-info.js","components/dialog/sysadmin-dialog/sysadmin-add-institution-member-dialog.js","pages/sys-admin/institutions/institution-users.js","pages/sys-admin/institutions/institution-admins.js","pages/sys-admin/logs-page/logs-nav.js","components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog.js","pages/sys-admin/logs-page/login-logs.js","pages/sys-admin/logs-page/file-access-item-menu.js","pages/sys-admin/logs-page/file-access-toggle-filter.js","pages/sys-admin/logs-page/file-access-logs.js","pages/sys-admin/logs-page/file-update-logs.js","pages/sys-admin/logs-page/share-permission-logs.js","pages/sys-admin/web-settings/section.js","pages/sys-admin/web-settings/setting-item-base.js","pages/sys-admin/web-settings/input-item.js","pages/sys-admin/web-settings/file-item.js","pages/sys-admin/web-settings/checkbox-item.js","pages/sys-admin/web-settings/web-settings.js","components/dialog/sysadmin-dialog/sysadmin-add-sys-notification-dialog.js","pages/sys-admin/notifications/notifications.js","pages/sys-admin/file-scan-records.js","pages/sys-admin/work-weixin/work-weixin-department-members-list.js","pages/sys-admin/work-weixin/work-weixin-departments-tree-node.js","pages/sys-admin/work-weixin/work-weixin-departments-tree-panel.js","components/dialog/import-work-weixin-department-dialog.js","pages/sys-admin/work-weixin-departments.js","pages/sys-admin/dingtalk/dingtalk-department-members-list.js","pages/sys-admin/dingtalk/dingtalk-departments-tree-node.js","pages/sys-admin/dingtalk/dingtalk-departments-tree-panel.js","components/dialog/import-dingtalk-department-dialog.js","pages/sys-admin/dingtalk-departments.js","pages/sys-admin/invitations/invitations.js","components/dialog/terms-editor-dialog.js","components/dialog/sysadmin-dialog/sysadmin-add-or-update-term-dialog.js","utils/markdown-utils.js","components/dialog/terms-preview-dialog.js","pages/sys-admin/terms-and-conditions/item.js","pages/sys-admin/terms-and-conditions/content.js","pages/sys-admin/terms-and-conditions/terms-and-conditions.js","pages/sys-admin/virus-scan/nav.js","pages/sys-admin/virus-scan/all-virus-files.js","pages/sys-admin/virus-scan/unhandled-virus-files.js","pages/sys-admin/admin-logs/logs-nav.js","pages/sys-admin/admin-logs/operation-logs.js","pages/sys-admin/admin-logs/login-logs.js","pages/sys-admin/abuse-reports.js","pages/sys-admin/index.js","../node_modules/chart.js/dist/Chart.js","../node_modules/lodash/_arrayAggregator.js","../node_modules/lodash/_baseAggregator.js","../node_modules/lodash/_createAggregator.js","../node_modules/lodash/isEqual.js","../node_modules/lodash/keyBy.js","../node_modules/react-chartjs-2/es/index.js","../node_modules/reactstrap/es/Table.js"],"sourcesContent":["import i18n from 'i18next';\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\nimport { mediaUrl } from '../utils/constants';\n\nconst lang = window.app.pageOptions.lang;\n\ni18n\n  .use(Backend)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    lng: lang,\n    fallbackLng: 'en',\n    ns: ['seafile-editor'],\n    defaultNS: 'seafile-editor',\n\n    whitelist: ['en', 'zh-CN', 'fr', 'de', 'cs', 'es', 'es-AR', 'es-MX', 'ru'],\n\n    backend: {\n      loadPath: mediaUrl + 'locales/{{ lng }}/{{ ns }}.json',\n      // loadPath: '/media/locales/{{lng}}/{{ns}}.json',\n    },\n\n    debug: false, // console log if debug: true\n\n    interpolation: {\n      escapeValue: false, // not needed for react!!\n    },\n\n\n    load: 'currentOnly',\n\n    react: {\n      wait: true,\n    }\n  });\n\nexport default i18n;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport moment from 'moment';\nimport { gettext } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../loading';\n\nimport '../../css/commit-details.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  commitID: PropTypes.string.isRequired,\n  commitTime: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass CommitDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      errorMsg: '',\n    };\n  }\n\n  componentDidMount() {\n    const {repoID, commitID} = this.props;\n    seafileAPI.getCommitDetails(repoID, commitID).then((res) => {\n      this.setState({\n        isLoading: false,\n        errorMsg: '',\n        commitDetails: res.data\n      });\n    }).catch((error) => {\n      let errorMsg = Utils.getErrorMsg(error);\n      this.setState({\n        isLoading: false,\n        errorMsg: errorMsg\n      });\n    });\n  }\n\n  render() {\n    const { toggleDialog, commitTime} = this.props;\n    return (\n      <Modal isOpen={true} centered={true} toggle={toggleDialog}>\n        <ModalHeader toggle={toggleDialog}>{gettext('Modification Details')}</ModalHeader>\n        <ModalBody>\n          <p className=\"small\">{moment(commitTime).format('YYYY-MM-DD HH:mm:ss')}</p>\n          <Content data={this.state} />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nclass Content extends React.Component {\n\n  renderDetails = (data) => {\n    const detailsData = [\n      {type: 'new', title: gettext('New files')},\n      {type: 'removed', title: gettext('Deleted files')},\n      {type: 'renamed', title: gettext('Renamed or Moved files')},\n      {type: 'modified', title: gettext('Modified files')},\n      {type: 'newdir', title: gettext('New directories')},\n      {type: 'deldir', title: gettext('Deleted directories')}\n    ];\n\n    let showDesc = true;\n    for (let i = 0, len = detailsData.length; i < len; i++) {\n      if (data[detailsData[i].type].length) {\n        showDesc = false;\n        break;\n      }\n    }\n    if (showDesc) {\n      return <p>{data.cmt_desc}</p>;\n    }\n\n    return (\n      <React.Fragment>\n        {detailsData.map((item, index) => {\n          if (!data[item.type].length) {\n            return null;\n          }\n          return (\n            <React.Fragment key={index}>\n              <h6>{item.title}</h6>\n              <ul>\n                {\n                  data[item.type].map((item, index) => {\n                    return <li key={index} dangerouslySetInnerHTML={{__html: item}} className=\"commit-detail-item\"></li>;\n                  })\n                }\n              </ul>\n            </React.Fragment>\n          );\n        })}\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    const {isLoading, errorMsg, commitDetails} = this.props.data;\n\n    if (isLoading) {\n      return <Loading />;\n    }\n\n    if (errorMsg) {\n      return <p className=\"error mt-4 text-center\">{errorMsg}</p>;\n    }\n\n    return this.renderDetails(commitDetails);\n  }\n}\n\nContent.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\nCommitDetails.propTypes = propTypes;\n\nexport default CommitDetails;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  fileType: PropTypes.string,\n  parentPath: PropTypes.string.isRequired,\n  onAddFolder: PropTypes.func.isRequired,\n  checkDuplicatedName: PropTypes.func.isRequired,\n  addFolderCancel: PropTypes.func.isRequired,\n};\n\nclass CreateForder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      parentPath: '',\n      childName: '',\n      errMessage: '',\n      isSubmitBtnActive: false,\n    };\n  }\n\n  componentDidMount() {\n    let parentPath = this.props.parentPath;\n    if (parentPath[parentPath.length - 1] === '/') {  // mainPanel\n      this.setState({parentPath: parentPath});\n    } else {\n      this.setState({parentPath: parentPath + '/'}); // sidePanel\n    }\n  }\n\n  handleChange = (e) => {\n    if (!e.target.value.trim()) {\n      this.setState({isSubmitBtnActive: false});\n    } else {\n      this.setState({isSubmitBtnActive: true});\n    }\n\n    this.setState({childName: e.target.value});\n  };\n\n  handleSubmit = () => {\n    if (!this.state.isSubmitBtnActive) {\n      return;\n    }\n\n    let newName = this.state.childName;\n    let isDuplicated = this.checkDuplicatedName();\n\n    if (isDuplicated) {\n      let errMessage = gettext('The name \"{name}\" is already taken. Please choose a different name.');\n      errMessage = errMessage.replace('{name}', Utils.HTMLescape(newName));\n      this.setState({errMessage: errMessage});\n    } else {\n      let path = this.state.parentPath + newName;\n      this.props.onAddFolder(path);\n    }\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  toggle = () => {\n    this.props.addFolderCancel();\n  };\n\n  checkDuplicatedName = () => {\n    let isDuplicated = this.props.checkDuplicatedName(this.state.childName);\n    return isDuplicated;\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Folder')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"folderName\">{gettext('Name')}</Label>\n              <Input\n                id=\"folderName\"\n                value={this.state.childName}\n                onKeyDown={this.handleKeyDown}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\" className=\"mt-2\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nCreateForder.propTypes = propTypes;\n\nexport default CreateForder;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n  operations: PropTypes.array.isRequired,\n  translateOperations: PropTypes.func.isRequired\n};\n\nclass OpMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false\n    };\n  }\n\n  onMenuItemClick = (e) => {\n    let operation = Utils.getEventData(e, 'op');\n    this.props.onMenuItemClick(operation);\n  };\n\n  onDropdownToggleClick = (e) => {\n    this.toggleOperationMenu(e);\n  };\n\n  toggleOperationMenu = (e) => {\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow},\n      () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  };\n\n  render() {\n    const { operations, translateOperations } = this.props;\n    return (\n      <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n        <DropdownToggle\n          tag=\"i\"\n          className=\"d-flex w-5 h-5 align-items-center justify-content-center sf-dropdown-toggle fa fa-ellipsis-v\"\n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\"\n          aria-expanded={this.state.isItemMenuShow}\n        />\n        <DropdownMenu className=\"my-1 mr-2\">\n          {operations.map((item, index )=> {\n            return (<DropdownItem key={index} data-op={item} onClick={this.onMenuItemClick}>{translateOperations(item)}</DropdownItem>);\n          })}\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nOpMenu.propTypes = propTypes;\n\nexport default OpMenu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport copy from '../copy-to-clipboard';\nimport { gettext } from '../../utils/constants';\nimport toaster from '../../components/toast';\n\nconst propTypes = {\n  link: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass ShareAdminLink extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  copyToClipboard = () => {\n    copy(this.props.link);\n    this.props.toggleDialog();\n    toaster.success(gettext('The link is copied to the clipboard.'), {duration: 2});\n  };\n\n  render() {\n    const { link, toggleDialog } = this.props;\n    return (\n      <Modal isOpen={true} toggle={toggleDialog}>\n        <ModalHeader toggle={toggleDialog}>{gettext('Link')}</ModalHeader>\n        <ModalBody>\n          <a href={link}>{link}</a>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.copyToClipboard}>{gettext('Copy')}</Button>\n          <Button color=\"secondary\" onClick={toggleDialog}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nShareAdminLink.propTypes = propTypes;\n\nexport default ShareAdminLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext, isPro } from '../../../utils/constants';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nconst propTypes = {\n  unlinkDevice: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminUnlinkDevice extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputChecked: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      inputChecked: e.target.checked\n    });\n  };\n\n  unlinkDevice = () => {\n    this.props.toggleDialog();\n    this.props.unlinkDevice(this.state.inputChecked);\n  };\n\n  render() {\n    const { inputChecked } = this.state;\n    const toggle = this.props.toggleDialog;\n    return (\n      <Modal isOpen={true} toggle={toggle}>\n        <ModalHeader toggle={toggle}>{gettext('Unlink device')}</ModalHeader>\n        <ModalBody>\n          <p>{gettext('Are you sure you want to unlink this device?')}</p>\n          {isPro &&\n          <div className=\"d-flex align-items-center\">\n            <input id=\"delete-files\" className=\"mr-1\" type=\"checkbox\" checked={inputChecked} onChange={this.handleInputChange} />\n            <label htmlFor=\"delete-files\" className=\"m-0\">{gettext('Delete files from this device the next time it comes online.')}</label>\n          </div>\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.unlinkDevice}>{gettext('Unlink')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminUnlinkDevice.propTypes = propTypes;\n\nexport default SysAdminUnlinkDevice;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport Logo from '../../components/logo';\nimport { gettext, siteRoot, isPro, otherPermission, canViewSystemInfo, canViewStatistic,\n  canConfigSystem, canManageLibrary, canManageUser, canManageGroup, canViewUserLog,\n  canViewAdminLog, constanceEnabled, multiTenancy, multiInstitution, sysadminExtraEnabled,\n  enableGuestInvitation, enableTermsAndConditions, enableFileScan, enableWorkWeixin, enableDingtalk,\n  enableShareLinkReportAbuse, isDBSqlite3 } from '../../utils/constants';\n\nconst propTypes = {\n  isSidePanelClosed: PropTypes.bool.isRequired,\n  onCloseSidePanel: PropTypes.func.isRequired,\n  currentTab: PropTypes.string.isRequired,\n  tabItemClick: PropTypes.func.isRequired\n};\n\nclass SidePanel extends React.Component {\n\n  getActiveClass = (tab) => {\n    return this.props.currentTab == tab ? 'active' : '';\n  };\n\n  render() {\n    return (\n      <div className={`side-panel ${this.props.isSidePanelClosed ? '' : 'left-zero'}`}>\n        <div className=\"side-panel-north\">\n          <Logo onCloseSidePanel={this.props.onCloseSidePanel}/>\n        </div>\n        <div className=\"side-panel-center\">\n          <div className=\"side-nav\">\n            <div className=\"side-nav-con\">\n              <h3 className=\"sf-heading\">{gettext('System Admin')}</h3>\n              <ul className=\"nav nav-pills flex-column nav-container\">\n                {canViewSystemInfo &&\n                <li className=\"nav-item\">\n                  <Link\n                    className={`nav-link ellipsis ${this.getActiveClass('info')}`}\n                    to={siteRoot + 'sys/info/'}\n                    onClick={() => this.props.tabItemClick('info')}\n                  >\n                    <span className=\"sf2-icon-info\" aria-hidden=\"true\"></span>\n                    <span className=\"nav-text\">{gettext('Info')}</span>\n                  </Link>\n                </li>\n                }\n                {(isPro || !isDBSqlite3) && canViewStatistic &&\n                  <li className=\"nav-item\">\n                    <Link className={`nav-link ellipsis ${this.getActiveClass('statistic')}`}\n                      to={siteRoot + 'sys/statistics/file/'}\n                      onClick={() => this.props.tabItemClick('statistic')}\n                    >\n                      <span className=\"sf2-icon-histogram\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Statistic')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('devices')}`}\n                      to={siteRoot + 'sys/desktop-devices/'}\n                      onClick={() => this.props.tabItemClick('devices')}\n                    >\n                      <span className=\"sf2-icon-monitor\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Devices')}</span>\n                    </Link>\n                  </li>\n                }\n                {constanceEnabled && canConfigSystem &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('web-settings')}`}\n                      to={siteRoot + 'sys/web-settings/'}\n                      onClick={() => this.props.tabItemClick('web-settings')}\n                    >\n                      <span className=\"sf2-icon-cog2\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Settings')}</span>\n                    </Link>\n                  </li>\n                }\n                {canManageLibrary &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('libraries')}`}\n                      to={siteRoot + 'sys/all-libraries/'}\n                      onClick={() => this.props.tabItemClick('libraries')}\n                    >\n                      <span className=\"sf2-icon-library\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Libraries')}</span>\n                    </Link>\n                  </li>\n                }\n                {canManageUser &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('users')}`}\n                      to={siteRoot + 'sys/users/'}\n                      onClick={() => this.props.tabItemClick('users')}\n                    >\n                      <span className=\"sf2-icon-user\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Users')}</span>\n                    </Link>\n                  </li>\n                }\n                {canManageGroup &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('groups')}`}\n                      to={siteRoot + 'sys/groups/'}\n                      onClick={() => this.props.tabItemClick('groups')}\n                    >\n                      <span className=\"sf2-icon-group\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Groups')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && canManageGroup &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('departments')}`}\n                      to={siteRoot + 'sys/departments/'}\n                      onClick={() => this.props.tabItemClick('departments')}\n                    >\n                      <span className=\"sf2-icon-organization\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Departments')}</span>\n                    </Link>\n                  </li>\n                }\n                {multiTenancy && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('organizations')}`}\n                      to={siteRoot + 'sys/organizations/'}\n                      onClick={() => this.props.tabItemClick('organizations')}\n                    >\n                      <span className=\"sf2-icon-organization\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Organizations')}</span>\n                    </Link>\n                  </li>\n                }\n                {multiInstitution && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('institutions')}`}\n                      to={siteRoot + 'sys/institutions/'}\n                      onClick={() => this.props.tabItemClick('institutions')}\n                    >\n                      <span className=\"sf2-icon-organization\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Institutions')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('notifications')}`}\n                      to={siteRoot + 'sys/notifications/'}\n                      onClick={() => this.props.tabItemClick('notifications')}\n                    >\n                      <span className=\"sf2-icon-msgs\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Notifications')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('links')}`}\n                      to={siteRoot + 'sys/share-links/'}\n                      onClick={() => this.props.tabItemClick('links')}\n                    >\n                      <span className=\"sf2-icon-link\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Links')}</span>\n                    </Link>\n                  </li>\n                }\n                {sysadminExtraEnabled && canViewUserLog &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('logs')}`}\n                      to={siteRoot + 'sys/logs/login'}\n                      onClick={() => this.props.tabItemClick('logs')}\n                    >\n                      <span className=\"sf2-icon-clock\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Logs')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && otherPermission && enableFileScan &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('file-scan-records')}`}\n                      to={siteRoot + 'sys/file-scan-records/'}\n                      onClick={() => this.props.tabItemClick('file-scan-records')}\n                    >\n                      <span className=\"sf2-icon-security\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('File Scan')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('virus-files')}`}\n                      to={siteRoot + 'sys/virus-files/all/'}\n                      onClick={() => this.props.tabItemClick('virus-files')}\n                    >\n                      <span className=\"sf2-icon-security\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Virus Scan')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && enableGuestInvitation && otherPermission &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('invitations')}`}\n                      to={siteRoot + 'sys/invitations/'}\n                      onClick={() => this.props.tabItemClick('invitations')}\n                    >\n                      <span className=\"sf2-icon-invite\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Invitations')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission && enableTermsAndConditions &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('termsandconditions')}`}\n                      to={siteRoot + 'sys/terms-and-conditions/'}\n                      onClick={() => this.props.tabItemClick('termsandconditions')}\n                    >\n                      <span className=\"sf2-icon-wiki\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Terms and Conditions')}</span>\n                    </Link>\n                  </li>\n                }\n                {isPro && canViewAdminLog &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('adminLogs')}`}\n                      to={siteRoot + 'sys/admin-logs/operation'}\n                      onClick={() => this.props.tabItemClick('adminLogs')}\n                    >\n                      <span className=\"sf2-icon-admin-log\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Admin Logs')}</span>\n                    </Link>\n                  </li>\n                }\n                {otherPermission && enableWorkWeixin &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('work-weixin')}`}\n                      to={siteRoot + 'sys/work-weixin/'}\n                      onClick={() => this.props.tabItemClick('work-weixin')}\n                    >\n                      <span className=\"sf3-font-enterprise-wechat sf3-font\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{''}</span>\n                    </Link>\n                  </li>\n                }\n\n                {otherPermission && enableDingtalk &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('dingtalk')}`}\n                      to={siteRoot + 'sys/dingtalk/'}\n                      onClick={() => this.props.tabItemClick('dingtalk')}\n                    >\n                      <span className=\"sf3-font-dingtalk sf3-font\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{''}</span>\n                    </Link>\n                  </li>\n                }\n\n                {otherPermission && enableShareLinkReportAbuse &&\n                  <li className=\"nav-item\">\n                    <Link\n                      className={`nav-link ellipsis ${this.getActiveClass('abuse-reports')}`}\n                      to={siteRoot + 'sys/abuse-reports/'}\n                      onClick={() => this.props.tabItemClick('abuse-reports')}\n                    >\n                      <span className=\"sf2-icon-monitor\" aria-hidden=\"true\"></span>\n                      <span className=\"nav-text\">{gettext('Abuse Reports')}</span>\n                    </Link>\n                  </li>\n                }\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSidePanel.propTypes = propTypes;\n\nexport default SidePanel;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  children: PropTypes.object.isRequired,\n};\n\nclass MainPanel extends Component {\n\n  render() {\n    return (\n      <div className=\"main-panel\">\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nMainPanel.propTypes = propTypes;\n\nexport default MainPanel;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Account from '../../components/common/account';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  children: PropTypes.object,\n  search: PropTypes.any,\n  toggleSidePanel: PropTypes.func\n};\n\nclass MainPanelTopbar extends Component {\n\n  render() {\n    return (\n      <div className={`main-panel-north ${this.props.children ? 'border-left-show' : ''}`}>\n        <div className=\"cur-view-toolbar\">\n          <span\n            className=\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\"\n            title={gettext('Side Nav Menu')}\n            onClick={this.props.toggleSidePanel}\n          ></span>\n          <div className=\"operation\">\n            {this.props.children}\n          </div>\n        </div>\n        <div className=\"common-toolbar\">\n          {this.props.search && this.props.search}\n          <Account isAdminPanel={true} />\n        </div>\n      </div>\n    );\n  }\n}\n\nMainPanelTopbar.propTypes = propTypes;\n\nexport default MainPanelTopbar;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, isPro, isDefaultAdmin } from '../../utils/constants';\nimport toaster from '../../components/toast';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/system-info.css';\n\nclass Info extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      sysInfo: {}\n    };\n    this.fileInput = React.createRef();\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetSysInfo().then((res) => {\n      this.setState({\n        loading: false,\n        sysInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  uploadLicenseFile = (e) => {\n\n    // no file selected\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n    seafileAPI.sysAdminUploadLicense(file).then((res) => {\n      let info = this.state.sysInfo;\n      Object.assign(info, res.data, {with_license: true});\n      this.setState({\n        sysInfo: info\n      });\n    }).catch((error) => {\n      let errMsg = Utils.getErrorMsg(error);\n      toaster.danger(errMsg);\n    });\n  };\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  };\n\n  renderLicenseDescString = (license_mode, license_to, license_expiration) => {\n    if (license_mode == 'life-time') {\n      if (window.app.config.lang == 'zh-cn') {\n        return ' ' + license_to + ' ' + license_expiration + ' ';\n      } else {\n        return gettext('licensed to {placeholder_license_to}, upgrade service expired in {placeholder_license_expiration}')\n          .replace('{placeholder_license_to}', license_to).replace('{placeholder_license_expiration}', license_expiration);\n      }\n    } else {\n      return gettext('licensed to {placeholder_license_to}, expires on {placeholder_license_expiration}')\n        .replace('{placeholder_license_to}', license_to).replace('{placeholder_license_expiration}', license_expiration);\n    }\n  };\n\n  render() {\n    let { license_mode, license_to, license_expiration, org_count,\n      repos_count, total_files_count, total_storage, total_devices_count,\n      current_connected_devices_count, license_maxusers, multi_tenancy_enabled,\n      active_users_count, users_count, groups_count, with_license } = this.state.sysInfo;\n    let { loading, errorMsg } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container system-admin-info\">\n            <h2 className=\"heading\">{gettext('Info')}</h2>\n            <div className=\"content\">\n              {loading && <Loading />}\n              {errorMsg && <p className=\"error text-center mt-4\">{errorMsg}</p>}\n              {(!loading && !errorMsg) &&\n              <dl className=\"flex-1 m-0\">\n                <dt className=\"info-item-heading\">{gettext('System Info')}</dt>\n                {isPro ?\n                  <dd className=\"info-item-content\">\n                    {gettext('Professional Edition')}\n                    {with_license &&\n                      ' ' + this.renderLicenseDescString(license_mode, license_to, license_expiration)\n                    }<br/>\n                    {isDefaultAdmin &&\n                      <Fragment>\n                        <Button type=\"button\" className=\"mt-2\" onClick={this.openFileInput}>{gettext('Upload license')}</Button>\n                        <input className=\"d-none\" type=\"file\" onChange={this.uploadLicenseFile} ref={this.fileInput} />\n                      </Fragment>\n                    }\n                  </dd> :\n                  <dd className=\"info-item-content\">\n                    {gettext('Community Edition')}\n                    <a className=\"ml-1\" href=\"https://download.seafile.com/published/seafile-manual/deploy_pro/migrate_from_seafile_community_server.md\" target=\"_blank\" rel=\"noreferrer\">{gettext('Upgrade to Pro Edition')}</a>\n                  </dd>\n                }\n                <dt className=\"info-item-heading\">{gettext('Libraries')} / {gettext('Files')}</dt>\n                <dd className=\"info-item-content\">{repos_count} / {total_files_count}</dd>\n\n                <dt className=\"info-item-heading\">{gettext('Storage Used')}</dt>\n                <dd className=\"info-item-content\">{Utils.bytesToSize(total_storage)}</dd>\n\n                <dt className=\"info-item-heading\">{gettext('Total Devices')} / {gettext('Current Connected Devices')}</dt>\n                <dd className=\"info-item-content\">{total_devices_count} / {current_connected_devices_count}</dd>\n\n                {isPro ?\n                  <Fragment>\n                    <dt className=\"info-item-heading\">{gettext('Activated Users')} / {gettext('Total Users')} / {gettext('Limits')}</dt>\n                    <dd className=\"info-item-content\">{active_users_count}{' / '}{users_count}{' / '}{with_license ? license_maxusers : '--'}</dd>\n                  </Fragment> :\n                  <Fragment>\n                    <dt className=\"info-item-heading\">{gettext('Activated Users')} / {gettext('Total Users')}</dt>\n                    <dd className=\"info-item-content\">{active_users_count} / {users_count}</dd>\n                  </Fragment>\n                }\n\n                <dt className=\"info-item-heading\">{gettext('Groups')}</dt>\n                <dd className=\"info-item-content\">{groups_count}</dd>\n\n                {multi_tenancy_enabled &&\n                  <Fragment>\n                    <dt className=\"info-item-heading\">{gettext('Organizations')}</dt>\n                    <dd className=\"info-item-content\">{org_count}</dd>\n                  </Fragment>\n                }\n              </dl>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Info;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'fileStatistic', urlPart: 'statistics/file', text: gettext('File')},\n      {name: 'storageStatistic', urlPart: 'statistics/storage', text: gettext('Storage')},\n      {name: 'usersStatistic', urlPart: 'statistics/user', text: gettext('Users')},\n      {name: 'trafficStatistic', urlPart: 'statistics/traffic', text: gettext('Traffic')},\n      {name: 'reportsStatistic', urlPart: 'statistics/reports', text: gettext('Reports')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Calendar from '@seafile/seafile-calendar';\nimport DatePicker from '@seafile/seafile-calendar/lib/Picker';\nimport { translateCalendar } from '../../../utils/date-format-utils';\n\nimport '@seafile/seafile-calendar/assets/index.css';\n\nconst FORMAT = 'YYYY-MM-DD';\n\nclass Picker extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.defaultCalendarValue = null;\n  }\n\n  componentDidMount() {\n    let lang = window.app.config.lang;\n    this.defaultCalendarValue = moment().locale(lang).clone();\n  }\n\n  render() {\n    const props = this.props;\n    const calendar = (<Calendar\n      defaultValue={this.defaultCalendarValue}\n      disabledDate={props.disabledDate}\n      format={FORMAT}\n      locale={translateCalendar()}\n    />);\n    return (\n      <DatePicker\n        calendar={calendar}\n        value={props.value}\n        onChange={props.onChange}\n      >\n        {\n          ({value}) => {\n            return (\n              <span>\n                <input\n                  placeholder=\"yyyy-mm-dd\"\n                  tabIndex=\"-1\"\n                  readOnly\n                  value={value && value.format(FORMAT) || ''}\n                  className=\"form-control system-statistic-input\"\n                />\n              </span>\n            );\n          }\n        }\n      </DatePicker>\n    );\n  }\n}\n\nPicker.propTypes = {\n  disabledDate: PropTypes.func.isRequired,\n  value: PropTypes.object,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default Picker;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport Picker from './picker';\n\nconst propTypes = {\n  getActiviesFiles: PropTypes.func.isRequired,\n  children: PropTypes.object,\n};\n\nclass StatisticCommonTool extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      statisticType: 'oneWeek',\n      startValue: null,\n      endValue: null,\n    };\n  }\n\n  componentDidMount() {\n    let today = moment().format('YYYY-MM-DD 00:00:00');\n    let endTime = today;\n    let startTime = moment().subtract(6,'d').format('YYYY-MM-DD 00:00:00');\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  }\n\n  changeActive = (statisticTypeName) => {\n    let { statisticType } = this.state;\n    if (statisticType === statisticTypeName) {\n      return;\n    }\n    let today = moment().format('YYYY-MM-DD 00:00:00');\n    let endTime = today;\n    let startTime;\n    switch(statisticTypeName) {\n      case 'oneWeek' :\n        startTime = moment().subtract(6,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n      case 'oneMonth' :\n        startTime = moment().subtract(29,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n      case 'oneYear' :\n        startTime = moment().subtract(364,'d').format('YYYY-MM-DD 00:00:00');\n        break;\n    }\n    this.setState({\n      statisticType: statisticTypeName,\n    });\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  };\n\n  disabledStartDate = (startValue) => {\n    if (!startValue) {\n      return false;\n    }\n    let today = moment().format();\n\n    const endValue = this.state.endValue;\n    if (!endValue) {\n      let startTime = moment(startValue).format();\n      return today < startTime;\n    }\n    return endValue.isBefore(startValue) || moment(startValue).format() > today;\n  };\n\n  disabledEndDate = (endValue) => {\n    if (!endValue) {\n      return false;\n    }\n    let today = moment().format();\n    const startValue = this.state.startValue;\n    if (!startValue) {\n      let endTime = moment(endValue).format();\n      return today < endTime;\n    }\n    return endValue.isBefore(startValue) || moment(endValue).format() > today;\n  };\n\n  onChange = (field, value) => {\n    this.setState({\n      [field]: value,\n    });\n  };\n\n  onSubmit = () => {\n    let { startValue, endValue } = this.state;\n    if(!startValue || !endValue) {\n      return;\n    }\n    this.setState({\n      statisticType: 'itemButton',\n    });\n    let startTime = moment(startValue).format('YYYY-MM-DD 00:00:00');\n    let endTime = moment(endValue).format('YYYY-MM-DD 00:00:00');\n    let group_by = 'day';\n    this.props.getActiviesFiles(startTime, endTime, group_by);\n  };\n\n  render() {\n    let { statisticType, endValue, startValue } = this.state;\n    return(\n      <Fragment>\n        {this.props.children}\n        <div className=\"system-statistic-time-range\">\n          <div className=\"sys-stat-tool\">\n            <div className={`system-statistic-item border-right-0 rounded-left ${statisticType === 'oneWeek' ? 'item-active' : ''}`} onClick={this.changeActive.bind(this, 'oneWeek')}>{gettext('7 Days')}</div>\n            <div className={`system-statistic-item border-right-0 ${statisticType === 'oneMonth' ? 'item-active' : ''}`}  onClick={this.changeActive.bind(this, 'oneMonth')}>{gettext('30 Days')}</div>\n            <div className={`system-statistic-item rounded-right ${statisticType === 'oneYear' ? 'item-active' : ''}`}  onClick={this.changeActive.bind(this, 'oneYear')}>{gettext('1 Year')}</div>\n          </div>\n          <div className=\"system-statistic-input-container\">\n            <Picker\n              disabledDate={this.disabledStartDate}\n              value={startValue}\n              onChange={this.onChange.bind(this, 'startValue')}\n            />\n            <span className=\"system-statistic-connect\">-</span>\n            <Picker\n              disabledDate={this.disabledEndDate}\n              value={endValue}\n              onChange={this.onChange.bind(this, 'endValue')}\n            />\n            <Button className=\"operation-item system-statistic-button\" onClick={this.onSubmit}>{gettext('Submit')}</Button>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nStatisticCommonTool.propTypes = propTypes;\n\nexport default StatisticCommonTool;\n","import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  labels: PropTypes.array.isRequired,\n  filesData: PropTypes.array.isRequired,\n  suggestedMaxNumbers: PropTypes.number.isRequired,\n  isLegendStatus: PropTypes.bool.isRequired,\n  chartTitle: PropTypes.string.isRequired,\n  isTitleCallback: PropTypes.bool,\n  isTicksCallback: PropTypes.bool,\n};\n\nclass StatisticChart extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {},\n      opations: {}\n    };\n  }\n\n  componentDidMount() {\n    let { labels, filesData, isTitleCallback, isTicksCallback, suggestedMaxNumbers, isLegendStatus, chartTitle } = this.props;\n    let _this = this;\n    let data = {\n      labels: labels,\n      datasets: filesData\n    };\n    let options = {\n      title: {\n        display: true,\n        fontSize: 14,\n        text: chartTitle,\n      },\n      elements: {\n        line: {\n          fill: false,\n          tension: 0, // disable bezier curves, i.e, draw straight lines\n          borderWidth: 2\n        }\n      },\n      legend: {\n        display: isLegendStatus,\n        labels: {\n          usePointStyle: true\n        }\n      },\n      tooltips: {\n        callbacks: {\n          label: function(tooltipItem, data) {\n            if (isTitleCallback) {\n              return _this.titleCallback(tooltipItem, data);\n            }\n            return data.datasets[tooltipItem.datasetIndex].label + ': ' + tooltipItem.yLabel;\n          }\n        }\n      },\n      layout: {\n        padding: {\n          right: 100,\n        }\n      },\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true,\n            suggestedMax: suggestedMaxNumbers,\n            callback: function(value, index, values) {\n              if (isTicksCallback) {\n                return _this.ticksCallback(value, index, values);\n              }\n              return value;\n            }\n          }\n        }],\n        xAxes: [{\n          ticks: {\n            maxTicksLimit: 20\n          }\n        }]\n      }\n    };\n    this.setState({\n      data: data,\n      options: options\n    });\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    let data = {\n      labels: nextProps.labels,\n      datasets: nextProps.filesData\n    };\n    this.setState({data: data});\n  }\n\n  titleCallback = (tooltipItem, data) => {\n    return data.datasets[tooltipItem.datasetIndex].label + ': ' + Utils.bytesToSize(tooltipItem.yLabel);\n  };\n\n  ticksCallback = (value, index, values) => {\n    return Utils.bytesToSize(value);\n  };\n\n  render() {\n\n    let { data, options } = this.state;\n    return (\n      <Line\n        data={data}\n        options={options}\n      />\n    );\n  }\n}\n\nStatisticChart.propTypes = propTypes;\n\nexport default StatisticChart;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nimport '../../../css/system-stat.css';\n\nclass StatisticFile extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.sysAdminStatisticFiles(startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        added = [],\n        deleted = [],\n        visited = [],\n        modified = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          added.push(item.added);\n          deleted.push(item.deleted);\n          modified.push(item.modified);\n          visited.push(item.visited);\n        });\n        let addedData = {\n          label: gettext('Added'),\n          data: added,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let visitedData = {\n          label: gettext('Visited'),\n          data: visited,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let modifiedData = {\n          label: gettext('Modified'),\n          data: modified,\n          borderColor: '#72c3fc',\n          backgroundColor: '#72c3fc'};\n        let deletedData = {\n          label: gettext('Deleted'),\n          data: deleted,\n          borderColor: '#f75356',\n          backgroundColor: '#f75356'};\n        filesData = [visitedData, addedData, modifiedData, deletedData];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n\n    return(\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"fileStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10}\n                isLegendStatus={true}\n                chartTitle={gettext('File Operations')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticFile;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass StatisticStorage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.sysAdminStatisticStorages(startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        totalStorage = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          totalStorage.push(item.total_storage);\n        });\n        let total_storage = {\n          label: gettext('Total Storage'),\n          data: totalStorage,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        filesData = [total_storage];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n    return(\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"storageStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10*1000*1000}\n                isTitleCallback={true}\n                isTicksCallback={true}\n                isLegendStatus={false}\n                chartTitle={gettext('Total Storage')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticStorage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n};\n\nclass TrafficTable extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { type, sortBy, sortOrder } = this.props;\n    const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n    return (\n      <table className=\"table-hover\">\n        <thead>\n          <tr>\n            <th width=\"16%\">{type == 'user' ? gettext('User') : gettext('Organization')}</th>\n            <th width=\"11%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'sync_file_upload')}>{gettext('Sync Upload')} {sortBy === 'sync_file_upload' && sortIcon}</div></th>\n            <th width=\"14%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'sync_file_download')}>{gettext('Sync Download')} {sortBy === 'sync_file_download' && sortIcon}</div></th>\n            <th width=\"11%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'web_file_upload')}>{gettext('Web Upload')} {sortBy === 'web_file_upload' && sortIcon}</div></th>\n            <th width=\"14%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'web_file_download')}>{gettext('Web Download')} {sortBy === 'web_file_download' && sortIcon}</div></th>\n            <th width=\"17%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'link_file_upload')}>{gettext('Share link upload')} {sortBy === 'link_file_upload' && sortIcon}</div></th>\n            <th width=\"17%\"><div className=\"d-block table-sort-op cursor-pointer\" onClick={this.props.sortItems.bind(this, 'link_file_download')}>{gettext('Share link download')} {sortBy === 'link_file_download' && sortIcon}</div></th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.props.children}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nTrafficTable.propTypes = propTypes;\n\nexport default TrafficTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot } from '../../../utils/constants';\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  userTrafficItem: PropTypes.object.isRequired,\n};\n\nclass TrafficTableBody extends React.Component {\n\n  trafficName = () => {\n    let { userTrafficItem, type } = this.props;\n    switch(type) {\n      case 'user':\n        if (userTrafficItem.name) {\n          return (\n            <a href={siteRoot + 'useradmin/info/' + userTrafficItem.email + '/'}>{userTrafficItem.name}</a>\n          );\n        }\n        return(<span>{'--'}</span>);\n      case 'org':\n        return(<span>{userTrafficItem.org_name}</span>);\n    }\n  };\n\n  render() {\n    let { userTrafficItem } = this.props;\n\n    let syncUploadSize = Utils.bytesToSize(userTrafficItem.sync_file_upload);\n    let syncDownloadSize = Utils.bytesToSize(userTrafficItem.sync_file_download);\n    let webUploadSize = Utils.bytesToSize(userTrafficItem.web_file_upload);\n    let webDownloadSize = Utils.bytesToSize(userTrafficItem.web_file_download);\n    let linkUploadSize = Utils.bytesToSize(userTrafficItem.link_file_upload);\n    let linkDownloadSize = Utils.bytesToSize(userTrafficItem.link_file_download);\n\n    return(\n      <tr>\n        <td>{this.trafficName()}</td>\n        <td>{syncUploadSize}</td>\n        <td>{syncDownloadSize}</td>\n        <td>{webUploadSize}</td>\n        <td>{webDownloadSize}</td>\n        <td>{linkUploadSize}</td>\n        <td>{linkDownloadSize}</td>\n      </tr>\n    );\n  }\n}\n\nTrafficTableBody.propTypes = propTypes;\n\nexport default TrafficTableBody;\n","import React, { Fragment } from 'react';\nimport { Input } from 'reactstrap';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport TrafficTable from './traffic-table';\nimport TrafficTableBody from './traffic-table-body';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport Paginator from '../../../components/paginator';\nimport Loading from '../../../components/loading';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass OrgsTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      orgTrafficList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      month: moment().format('YYYYMM'),\n      isLoading: false,\n      errorMessage: '',\n      sortBy: 'link_file_download',\n      sortOrder: 'desc'\n    };\n    this.initPage = 1;\n    this.initMonth = moment().format('YYYYMM');\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getTrafficList(this.initMonth, this.state.currentPage);\n    });\n  }\n\n  getPreviousPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage + 1);\n  };\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  };\n\n  handleKeyPress = (e) => {\n    let { month } = this.state;\n    if (e.key === 'Enter') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n      this.getTrafficList(month, this.initPage);\n      e.target.blur();\n      e.preventDefault();\n    }\n  };\n\n  getTrafficList = (month, page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    const orderBy = sortOrder == 'asc' ? sortBy : `${sortBy}_${sortOrder}`;\n    this.setState({isLoading: true, errorMessage: ''});\n    seafileAPI.sysAdminListOrgTraffic(month, page, perPage, orderBy).then(res => {\n      let orgTrafficList = res.data.org_monthly_traffic_list.slice(0);\n      this.setState({\n        month: month,\n        currentPage: page,\n        orgTrafficList: orgTrafficList,\n        hasNextPage: res.data.has_next_page,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  sortItems = (sortBy) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc'\n    }, () => {\n      const { month, currentPage } = this.state;\n      this.getTrafficList(month, currentPage);\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getTrafficList(this.initPage, this.initMonth));\n  };\n\n  render() {\n    const {\n      isLoading, errorMessage, orgTrafficList,\n      currentPage, hasNextPage, perPage,\n      sortBy, sortOrder\n    } = this.state;\n    return (\n      <Fragment>\n        <div className=\"d-flex align-items-center mt-4\">\n          <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n          <Input\n            className=\"statistic-reports-input\"\n            defaultValue={moment().format('YYYYMM')}\n            onChange={this.handleChange}\n            onKeyPress={this.handleKeyPress}\n          />\n          {errorMessage && <div className=\"error\">{errorMessage}</div>}\n        </div>\n        {isLoading && <Loading />}\n        {!isLoading &&\n          <TrafficTable type={'org'} sortItems={this.sortItems} sortBy={sortBy} sortOrder={sortOrder}>\n            {orgTrafficList.length > 0 && orgTrafficList.map((item, index) => {\n              return(\n                <TrafficTableBody\n                  key={index}\n                  userTrafficItem={item}\n                  type={'org'}\n                />\n              );\n            })}\n          </TrafficTable>\n        }\n        <Paginator\n          gotoPreviousPage={this.getPreviousPage}\n          gotoNextPage={this.getNextPage}\n          currentPage={currentPage}\n          hasNextPage={hasNextPage}\n          curPerPage={perPage}\n          resetPerPage={this.resetPerPage}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgsTraffic;\n","import React, { Fragment } from 'react';\nimport { Input } from 'reactstrap';\nimport TrafficTable from './traffic-table';\nimport TrafficTableBody from './traffic-table-body';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport Paginator from '../../../components/paginator';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass UsersTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      userTrafficList: [],\n      hasNextPage: false,\n      perPage: 25,\n      currentPage: 1,\n      month: moment().format('YYYYMM'),\n      isLoading: false,\n      errorMessage: '',\n      sortBy: 'link_file_download',\n      sortOrder: 'desc'\n    };\n    this.initPage = 1;\n    this.initMonth = moment().format('YYYYMM');\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getTrafficList(this.initMonth, this.state.currentPage);\n    });\n  }\n\n  getPreviousPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.getTrafficList(this.state.month, this.state.currentPage + 1);\n  };\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  };\n\n  handleKeyPress = (e) => {\n    let { month } = this.state;\n    if (e.key === 'Enter') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n      this.getTrafficList(month, this.initPage);\n      e.target.blur();\n      e.preventDefault();\n    }\n  };\n\n  getTrafficList = (month, page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    const orderBy = sortOrder == 'asc' ? sortBy : `${sortBy}_${sortOrder}`;\n    this.setState({\n      isLoading: true,\n      errorMessage: ''\n    });\n    seafileAPI.sysAdminListUserTraffic(month, page, perPage, orderBy).then(res => {\n      let userTrafficList = res.data.user_monthly_traffic_list.slice(0);\n      this.setState({\n        month: month,\n        currentPage: page,\n        userTrafficList: userTrafficList,\n        hasNextPage: res.data.has_next_page,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  sortItems = (sortBy) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc'\n    }, () => {\n      const { month, currentPage } = this.state;\n      this.getTrafficList(month, currentPage);\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getTrafficList(this.initMonth, this.initPage));\n  };\n\n  render() {\n    const {\n      isLoading, errorMessage, userTrafficList,\n      currentPage, hasNextPage, perPage,\n      sortBy, sortOrder\n    } = this.state;\n    return (\n      <Fragment>\n        <div className=\"d-flex align-items-center mt-4\">\n          <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n          <Input\n            className=\"statistic-reports-input\"\n            defaultValue={moment().format('YYYYMM')}\n            onChange={this.handleChange}\n            onKeyPress={this.handleKeyPress}\n          />\n          {errorMessage && <div className=\"error\">{errorMessage}</div>}\n        </div>\n        {isLoading && <Loading />}\n        {!isLoading &&\n          <TrafficTable type={'user'} sortItems={this.sortItems} sortBy={sortBy} sortOrder={sortOrder}>\n            {userTrafficList.length > 0 && userTrafficList.map((item, index) => {\n              return(\n                <TrafficTableBody\n                  key={index}\n                  userTrafficItem={item}\n                  type={'user'}\n                />\n              );\n            })}\n          </TrafficTable>\n        }\n        <Paginator\n          gotoPreviousPage={this.getPreviousPage}\n          gotoNextPage={this.getNextPage}\n          currentPage={currentPage}\n          hasNextPage={hasNextPage}\n          curPerPage={perPage}\n          resetPerPage={this.resetPerPage}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default UsersTraffic;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport Loading from '../../../components/loading';\nimport OrgsTraffic from './statistic-traffic-orgs';\nimport UsersTraffic from './statistic-traffic-users';\nimport StatisticChart from './statistic-chart';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass StatisticTraffic extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      linkData: [],\n      syncData: [],\n      webData: [],\n      labels: [],\n      isLoading: true,\n      tabActive: 'system'\n    };\n  }\n\n  changeTabActive = activeName => {\n    this.setState({tabActive: activeName});\n  };\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    seafileAPI.sysAdminStatisticTraffic(startTime, endTime, groupBy).then((res) => {\n      let labels = [];\n      let total_upload = [],\n        total_download = [],\n        link_upload = [],\n        link_download = [],\n        sync_upload = [],\n        sync_download = [],\n        web_upload = [],\n        web_download = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          link_upload.push(item['link-file-upload']);\n          link_download.push(item['link-file-download']);\n          sync_upload.push(item['sync-file-upload']);\n          sync_download.push(item['sync-file-download']);\n          web_upload.push(item['web-file-upload']);\n          web_download.push(item['web-file-download']);\n          total_upload.push(item['link-file-upload'] + item['sync-file-upload'] + item['web-file-upload']);\n          total_download.push(item['link-file-download'] + item['sync-file-download'] + item['web-file-download']);\n        });\n        let linkUpload = {\n          label: gettext('Upload'),\n          data: link_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let linkDownload = {\n          label: gettext('Download'),\n          data: link_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let syncUpload = {\n          label: gettext('Upload'),\n          data: sync_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let syncDownload = {\n          label: gettext('Download'),\n          data: sync_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let webUpload = {\n          label: gettext('Upload'),\n          data: web_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let webDownload = {\n          label: gettext('Download'),\n          data: web_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let totalUpload = {\n          label: gettext('Upload'),\n          data: total_upload,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        let totalDownload = {\n          label: gettext('Download'),\n          data: total_download,\n          borderColor: '#57cd6b',\n          backgroundColor: '#57cd6b'};\n        let linkData = [linkUpload, linkDownload];\n        let syncData = [syncUpload, syncDownload];\n        let webData = [webUpload, webDownload];\n        let filesData = [totalUpload, totalDownload];\n        this.setState({\n          linkData: linkData,\n          syncData: syncData,\n          webData: webData,\n          filesData: filesData,\n          labels: labels,\n          isLoading: false\n        });\n      }\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  renderCommonTool = () => {\n    let { tabActive } = this.state;\n    if (tabActive === 'system') {\n      return (\n        <StatisticCommonTool getActiviesFiles={this.getActiviesFiles}>\n          <div className=\"statistic-traffic-tab\">\n            <div className={`statistic-traffic-tab-item ${tabActive === 'system' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'system')}>{gettext('System')}</div>\n            <div className={`statistic-traffic-tab-item ${tabActive === 'user' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'user')}>{gettext('Users')}</div>\n            <div className={`statistic-traffic-tab-item ${tabActive === 'organizations' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'organizations')}>{gettext('Organizations')}</div>\n          </div>\n        </StatisticCommonTool>\n      );\n    }\n    return (\n      <div className=\"statistic-traffic-tab\">\n        <div className={`statistic-traffic-tab-item ${tabActive === 'system' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'system')}>{gettext('System')}</div>\n        <div className={`statistic-traffic-tab-item ${tabActive === 'user' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'user')}>{gettext('Users')}</div>\n        <div className={`statistic-traffic-tab-item ${tabActive === 'organizations' ? 'active' : ''}`} onClick={this.changeTabActive.bind(this, 'organizations')}>{gettext('Organizations')}</div>\n      </div>\n    );\n  };\n\n  render() {\n    let { labels, filesData, linkData, syncData, webData, isLoading, tabActive } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"trafficStatistic\" />\n          <div className=\"cur-view-content\">\n            {this.renderCommonTool()}\n            {isLoading && <Loading />}\n            {!isLoading && tabActive === 'system' &&\n              <div className=\"statistic-traffic-chart-container\">\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={filesData}\n                      chartTitle={gettext('Total Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={webData}\n                      chartTitle={gettext('Web Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={linkData}\n                      chartTitle={gettext('Share Link Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n                <div className=\"mb-4\">\n                  {labels.length > 0 &&\n                    <StatisticChart\n                      labels={labels}\n                      filesData={syncData}\n                      chartTitle={gettext('Sync Traffic')}\n                      suggestedMaxNumbers={10*1000*1000}\n                      isTitleCallback={true}\n                      isTicksCallback={true}\n                      isLegendStatus={true}\n                    />\n                  }\n                </div>\n              </div>\n            }\n            {!isLoading && tabActive === 'user' &&\n              <UsersTraffic />\n            }\n            {!isLoading && tabActive === 'organizations' &&\n              <OrgsTraffic />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticTraffic;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport StatisticNav from './statistic-nav';\nimport StatisticCommonTool from './statistic-common-tool';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport StatisticChart from './statistic-chart';\nimport Loading from '../../../components/loading';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nclass StatisticUsers extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      filesData: [],\n      labels: [],\n      isLoading: true,\n    };\n  }\n\n  getActiviesFiles = (startTime, endTime, groupBy) => {\n    let { filesData } = this.state;\n    seafileAPI.sysAdminStatisticActiveUsers(startTime, endTime, groupBy).then((res) => {\n      let labels = [],\n        count = [];\n      let data = res.data;\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          labels.push(moment(item.datetime).format('YYYY-MM-DD'));\n          count.push(item.count);\n        });\n        let userCount = {\n          label: gettext('Active Users'),\n          data: count,\n          borderColor: '#fd913a',\n          backgroundColor: '#fd913a'};\n        filesData = [userCount];\n      }\n      this.setState({\n        filesData: filesData,\n        labels: labels,\n        isLoading: false\n      });\n    }).catch(err => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { labels, filesData, isLoading } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"usersStatistic\" />\n          <div className=\"cur-view-content\">\n            <StatisticCommonTool getActiviesFiles={this.getActiviesFiles} />\n            {isLoading && <Loading />}\n            {!isLoading && labels.length > 0 &&\n              <StatisticChart\n                labels={labels}\n                filesData={filesData}\n                suggestedMaxNumbers={10}\n                isLegendStatus={false}\n                chartTitle={gettext('Active Users')}\n              />\n            }\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticUsers;\n","import React, { Fragment } from 'react';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport moment from 'moment';\nimport StatisticNav from './statistic-nav';\nimport { Button, Input } from 'reactstrap';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nclass StatisticReports extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      month: moment().format('YYYYMM'),\n      errorMessage: ''\n    };\n  }\n\n  handleChange = (e) => {\n    let month = e.target.value;\n    this.setState({\n      month: month\n    });\n  };\n\n  onGenerateReports = (type) => {\n    let url = siteRoot + 'api/v2.1/admin/statistics/';\n    let { month } = this.state;\n    if (!month) {\n      let errorMessage = gettext('It is required.');\n      this.setState({\n        errorMessage: errorMessage\n      });\n      return;\n    }\n    if (type === 'month') {\n      let pattern = /^([012]\\d{3})(0[1-9]|1[012])$/;\n      if (!pattern.test(month)) {\n        let errorMessage = gettext('Invalid month, should be yyyymm.');\n        this.setState({\n          errorMessage: errorMessage\n        });\n        return;\n      }\n    }\n    switch(type) {\n      case 'month':\n        url += 'system-user-traffic/excel/?month=' + month;\n        break;\n      case 'storage':\n        url += 'system-user-storage/excel/?';\n        break;\n    }\n    this.setState({\n      errorMessage: ''\n    });\n    window.location.href = url;\n  };\n\n  render() {\n\n    let { errorMessage } = this.state;\n    return(\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"cur-view-container\">\n          <StatisticNav currentItem=\"reportsStatistic\" />\n          <div className=\"cur-view-content\">\n            <div className=\"statistic-reports\">\n              <div className=\"statistic-reports-title\">{gettext('Monthly User Traffic')}</div>\n              <div className=\"d-flex align-items-center mt-4\">\n                <span className=\"statistic-reports-tip\">{gettext('Month:')}</span>\n                <Input className=\"statistic-reports-input\" defaultValue={moment().format('YYYYMM')} onChange={this.handleChange} />\n                <Button className=\"statistic-reports-submit operation-item\" onClick={this.onGenerateReports.bind(this, 'month')}>{gettext('Create Report')}</Button>\n              </div>\n              {errorMessage && <div className=\"error\">{errorMessage}</div>}\n            </div>\n            <div className=\"statistic-reports\">\n              <div className=\"statistic-reports-title\">{gettext('User Storage')}</div>\n              <Button className=\"mt-4 operation-item\" onClick={this.onGenerateReports.bind(this, 'storage')}>{gettext('Create Report')}</Button>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default StatisticReports;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext, isPro } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'desktop', urlPart:'desktop-devices', text: gettext('Desktop')},\n      {name: 'mobile', urlPart:'mobile-devices', text: gettext('Mobile')}\n    ];\n    if (isPro) {\n      this.navItems.push({name: 'errors', urlPart:'device-errors', text: gettext('Errors')});\n    }\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport SysAdminUnlinkDevice from '../../../components/dialog/sysadmin-dialog/sysadmin-unlink-device-dialog';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageDevicesList = () => {\n    this.props.getDevicesListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageDevicesList = () => {\n    this.props.getDevicesListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No connected devices')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"19%\">{gettext('User')}</th>\n                <th width=\"19%\">{gettext('Platform')}{' / '}{gettext('Version')}</th>\n                <th width=\"19%\">{gettext('Device Name')}</th>\n                <th width=\"19%\">{gettext('IP')}</th>\n                <th width=\"19%\">{gettext('Last Access')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item} />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageDevicesList}\n            gotoNextPage={this.getNextPageDevicesList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getDevicesListByPage: PropTypes.func.isRequired,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      unlinked: false,\n      isOpIconShown: false,\n      isUnlinkDeviceDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseOut = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  handleUnlink = (e) => {\n    e.preventDefault();\n    if (this.props.item.is_desktop_client) {\n      this.toggleUnlinkDeviceDialog();\n    } else {\n      this.unlinkDevice(true);\n    }\n  };\n\n  toggleUnlinkDeviceDialog = () => {\n    this.setState({isUnlinkDeviceDialogOpen: !this.state.isUnlinkDeviceDialogOpen});\n  };\n\n  unlinkDevice = (deleteFiles) => {\n    const { platform, device_id, user } = this.props.item;\n    seafileAPI.sysAdminUnlinkDevice(platform, device_id, user, deleteFiles).then((res) => {\n      this.setState({unlinked: true});\n      let message = gettext('Successfully unlinked the device.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const item = this.props.item;\n    const { unlinked, isUnlinkDeviceDialogOpen, isOpIconShown } = this.state;\n\n    if (unlinked) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td>{item.user_name}</td>\n          <td>{item.platform}{' / '}{item.client_version}</td>\n          <td>{item.device_name}</td>\n          <td>{item.last_login_ip}</td>\n          <td>\n            <span title={moment(item.last_accessed).format('llll')}>{moment(item.last_accessed).fromNow()}</span>\n          </td>\n          <td>\n            <a href=\"#\" className={`sf2-icon-delete action-icon ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Unlink')} onClick={this.handleUnlink}></a>\n          </td>\n        </tr>\n        {isUnlinkDeviceDialogOpen &&\n          <SysAdminUnlinkDevice\n            unlinkDevice={this.unlinkDevice}\n            toggleDialog={this.toggleUnlinkDeviceDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass DevicesByPlatform extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      devicesData: [],\n      pageInfo: {},\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getDevicesListByPage(this.state.currentPage);\n    });\n  }\n\n  getDevicesListByPage = (page) => {\n    let platform = this.props.devicesPlatform;\n    let per_page = this.state.perPage;\n    seafileAPI.sysAdminListDevices(platform, page, per_page).then((res) => {\n      this.setState({\n        devicesData: res.data.devices,\n        pageInfo: res.data.page_info,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getDevicesListByPage(1);\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"cur-view-content\">\n        <Content\n          loading={this.state.loading}\n          errorMsg={this.state.errorMsg}\n          items={this.state.devicesData}\n          getDevicesListByPage={this.getDevicesListByPage}\n          curPerPage={this.state.perPage}\n          resetPerPage={this.resetPerPage}\n          pageInfo={this.state.pageInfo}\n        />\n      </div>\n    );\n  }\n}\n\nDevicesByPlatform.propTypes = {\n  devicesPlatform: PropTypes.string.isRequired,\n};\n\nexport default DevicesByPlatform;\n","import React, { Component, Fragment } from 'react';\nimport DevicesNav from './devices-nav';\nimport DevicesByPlatform from './devices-by-platform';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass DesktopDevices extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"desktop\" />\n            <DevicesByPlatform\n              devicesPlatform={'desktop'}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default DesktopDevices;\n","import React, { Component, Fragment } from 'react';\nimport DevicesNav from './devices-nav';\nimport DevicesByPlatform from './devices-by-platform';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass MobileDevices extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"mobile\" />\n            <DevicesByPlatform\n              devicesPlatform={'mobile'}\n            />\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default MobileDevices;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot } from '../../utils/constants';\n\nconst propTypes = {\n  email: PropTypes.string,\n  name: PropTypes.string.isRequired\n};\n\nclass UserLink extends Component {\n\n  render() {\n    return <Link to={`${siteRoot}sys/users/${encodeURIComponent(this.props.email)}/`}>{this.props.name}</Link>;\n  }\n}\n\nUserLink.propTypes = propTypes;\n\nexport default UserLink;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport { Link } from '@gatsbyjs/reach-router';\nimport DevicesNav from './devices-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport Paginator from '../../../components/paginator';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageDeviceErrorsList = () => {\n    this.props.getDeviceErrorsListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageDeviceErrorsList = () => {\n    this.props.getDeviceErrorsListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No sync errors')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"16%\">{gettext('User')}</th>\n                <th width=\"20%\">{gettext('Device')}{' / '}{gettext('Version')}</th>\n                <th width=\"16%\">{gettext('IP')}</th>\n                <th width=\"16%\">{gettext('Library')}</th>\n                <th width=\"16%\">{gettext('Error')}</th>\n                <th width=\"16%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item} />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageDeviceErrorsList}\n            gotoNextPage={this.getNextPageDeviceErrorsList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getDeviceErrorsListByPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseOut = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  render() {\n    let item = this.props.item;\n    return (\n      <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{item.device_name}{' / '}{item.client_version}</td>\n        <td>{item.device_ip}</td>\n        <td><Link to={`${siteRoot}sysadmin/#libs/${item.repo_id}`}>{item.repo_name}</Link></td>\n        <td>{item.error_msg}</td>\n        <td>\n          <span className=\"item-meta-info\" title={moment(item.last_accessed).format('llll')}>{moment(item.error_time).fromNow()}</span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass DeviceErrors extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      devicesErrors: [],\n      isCleanBtnShown: false,\n      pageInfo: {},\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getDeviceErrorsListByPage(this.state.currentPage);\n    });\n  }\n\n  getDeviceErrorsListByPage = (page) => {\n    let per_page = this.state.perPage;\n    seafileAPI.sysAdminListDeviceErrors(page, per_page).then((res) => {\n      this.setState({\n        loading: false,\n        devicesErrors: res.data.device_errors,\n        pageInfo: res.data.page_info,\n        isCleanBtnShown: res.data.length > 0\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  clean = () => {\n    seafileAPI.sysAdminClearDeviceErrors().then((res) => {\n      this.setState({\n        devicesErrors: [],\n        isCleanBtnShown: false\n      });\n      let message = gettext('Successfully cleaned all errors.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getDeviceErrorsListByPage(1);\n    });\n  };\n  render() {\n    return (\n      <Fragment>\n        {this.state.isCleanBtnShown ? (\n          <MainPanelTopbar {...this.props}>\n            <Button className=\"operation-item\" onClick={this.clean}>{gettext('Clean')}</Button>\n          </MainPanelTopbar>\n        ) : (\n          <MainPanelTopbar {...this.props} />\n        )}\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <DevicesNav currentItem=\"errors\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.devicesErrors}\n                getDeviceErrorsListByPage={this.getDeviceErrorsListByPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                pageInfo={this.state.pageInfo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default DeviceErrors;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  updateQuota: PropTypes.func.isRequired\n};\n\nclass SetQuotaDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      quota: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleQuotaChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      quota: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateQuota(this.state.quota.trim());\n    this.toggle();\n  };\n\n  render() {\n    const { quota, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Set Quota')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <InputGroup>\n                <Input\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={quota}\n                  onKeyDown={this.handleKeyDown}\n                  onChange={this.handleQuotaChange}\n                />\n                <InputGroupAddon addonType=\"append\">\n                  <InputGroupText>MB</InputGroupText>\n                </InputGroupAddon>\n              </InputGroup>\n              <p className=\"small text-secondary mt-2 mb-2\">\n                {gettext('An integer that is greater than or equal to 0.')}\n                <br />\n                {gettext('Tip: 0 means default limit')}\n              </p>\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetQuotaDialog.propTypes = propTypes;\n\nexport default SetQuotaDialog;\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport { gettext, siteRoot } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  importUserInBatch: PropTypes.func.isRequired,\n};\n\nclass SysAdminImportUserDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorMsg: ''\n    };\n    this.fileInputRef = React.createRef();\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  openFileInput = () => {\n    this.fileInputRef.current.click();\n  };\n\n  uploadFile = (e) => {\n    // no file selected\n    if (!this.fileInputRef.current.files.length) {\n      return;\n    }\n    // check file extension\n    let fileName = this.fileInputRef.current.files[0].name;\n    if(fileName.substr(fileName.lastIndexOf('.') + 1) != 'xlsx') {\n      this.setState({\n        errorMsg: gettext('Please choose a .xlsx file.')\n      });\n      return;\n    }\n    const file = this.fileInputRef.current.files[0];\n    this.props.importUserInBatch(file);\n    this.toggle();\n  };\n\n  render() {\n    let { errorMsg } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Import users from a .xlsx file')}</ModalHeader>\n        <ModalBody>\n          <p><a className=\"text-secondary small\" href={`${siteRoot}useradmin/batchadduser/example/`}>{gettext('Download an example file')}</a></p>\n          <button className=\"btn btn-outline-primary\" onClick={this.openFileInput}>{gettext('Upload file')}</button>\n          <input className=\"d-none\" type=\"file\" onChange={this.uploadFile} ref={this.fileInputRef} />\n          {errorMsg && <Alert color=\"danger\">{errorMsg}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminImportUserDialog.propTypes = propTypes;\n\nexport default SysAdminImportUserDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport SelectEditor from './select-editor';\n\nconst propTypes = {\n  isTextMode: PropTypes.bool.isRequired,\n  isEditIconShow: PropTypes.bool.isRequired,\n  roleOptions: PropTypes.array.isRequired,\n  currentRole: PropTypes.string.isRequired,\n  onRoleChanged: PropTypes.func.isRequired\n};\n\nclass SysAdminUserRoleEditor extends React.Component {\n\n  translateRoles = (role) => {\n    switch (role) {\n      case 'default':\n        return gettext('Default');\n      case 'guest':\n        return gettext('Guest');\n      default:\n        return role;\n    }\n  };\n\n  render() {\n    return (\n      <SelectEditor\n        isTextMode={this.props.isTextMode}\n        isEditIconShow={this.props.isEditIconShow}\n        options={this.props.roleOptions}\n        currentOption={this.props.currentRole}\n        onOptionChanged={this.props.onRoleChanged}\n        translateOption={this.translateRoles}\n      />\n    );\n  }\n}\n\nSysAdminUserRoleEditor.propTypes = propTypes;\n\nexport default SysAdminUserRoleEditor;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Label, Input, InputGroup, InputGroupAddon } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport SysAdminUserRoleEditor from '../../../components/select-editor/sysadmin-user-role-editor';\n\nconst propTypes = {\n  availableRoles: PropTypes.array.isRequired,\n  dialogTitle: PropTypes.string.isRequired,\n  showRole: PropTypes.bool.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  addUser: PropTypes.func.isRequired\n};\n\nclass SysAdminAddUserDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorMsg: '',\n      isPasswordVisible: false,\n      password: '',\n      passwordAgain: '',\n      email: '',\n      name: '',\n      role: 'default',\n      isSubmitBtnActive: false\n    };\n  }\n\n  checkSubmitBtnActive = () => {\n    const { email, password, passwordAgain } = this.state;\n    let btnActive = true;\n    if (email.trim() &&\n      password.trim() &&\n      passwordAgain.trim()) {\n      btnActive = true;\n    } else {\n      btnActive = false;\n    }\n    this.setState({\n      isSubmitBtnActive: btnActive\n    });\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  togglePasswordVisible = () => {\n    this.setState({isPasswordVisible: !this.state.isPasswordVisible});\n  };\n\n  inputPassword = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      password: passwd,\n      errorMsg: ''\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputPasswordAgain = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      passwordAgain: passwd,\n      errorMsg: ''\n    }, this.checkSubmitBtnActive);\n  };\n\n  generatePassword = () => {\n    let val = Utils.generatePassword(8);\n    this.setState({\n      password: val,\n      passwordAgain: val\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputEmail = (e) => {\n    let email = e.target.value;\n    this.setState({\n      email: email\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputName = (e) => {\n    let name = e.target.value;\n    this.setState({\n      name: name\n    });\n  };\n\n  updateRole = (role) => {\n    this.setState({\n      role: role\n    });\n  };\n\n  handleSubmit = () => {\n    const { email, password, passwordAgain, name, role } = this.state;\n    if (password != passwordAgain) {\n      this.setState({errorMsg: gettext('Passwords do not match.')});\n      return;\n    }\n    let data = {\n      email: email.trim(),\n      name: name.trim(),\n      password: password.trim()\n    };\n    if (this.props.showRole) {\n      data.role = role;\n    }\n    this.props.addUser(data);\n    this.toggle();\n  };\n\n  render() {\n    const { dialogTitle, showRole } = this.props;\n    const {\n      errorMsg, isPasswordVisible,\n      email, name, role, password, passwordAgain,\n      isSubmitBtnActive\n    } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{dialogTitle || gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <Form autoComplete=\"off\">\n            <FormGroup>\n              <Label>{gettext('Email')}</Label>\n              <Input value={email} onChange={this.inputEmail} />\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Name(optional)')}</Label>\n              <Input type=\"text\" value={name} onChange={this.inputName} />\n            </FormGroup>\n            {showRole &&\n            <FormGroup>\n              <Label>\n                {gettext('Role')}\n                <span className=\"small text-secondary ml-1 fas fa-question-circle\" title={gettext('You can also add a user as a guest, who will not be allowed to create libraries and groups.')}></span>\n              </Label>\n              <SysAdminUserRoleEditor\n                isTextMode={false}\n                isEditIconShow={false}\n                currentRole={role}\n                roleOptions={this.props.availableRoles}\n                onRoleChanged={this.updateRole}\n              />\n            </FormGroup>\n            }\n            <FormGroup>\n              <Label>{gettext('Password')}</Label>\n              <InputGroup>\n                <Input autoComplete=\"new-password\" type={isPasswordVisible ? 'text' : 'password'} value={password || ''} onChange={this.inputPassword} />\n                <InputGroupAddon addonType=\"append\">\n                  <Button className=\"mt-0\" onClick={this.togglePasswordVisible}><i className={`link-operation-icon fas ${this.state.isPasswordVisible ? 'fa-eye': 'fa-eye-slash'}`}></i></Button>\n                  <Button className=\"mt-0\" onClick={this.generatePassword}><i className=\"link-operation-icon fas fa-magic\"></i></Button>\n                </InputGroupAddon>\n              </InputGroup>\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Password again')}</Label>\n              <Input type={isPasswordVisible ? 'text' : 'password'} value={passwordAgain || ''} onChange={this.inputPasswordAgain} />\n            </FormGroup>\n          </Form>\n          {errorMsg && <Alert color=\"danger\">{errorMsg}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddUserDialog.propTypes = propTypes;\n\nexport default SysAdminAddUserDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport UserSelect from '../../user-select';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addAdminInBatch: PropTypes.func.isRequired,\n};\n\nclass SysAdminBatchAddAdminDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      options: null,\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleSelectChange = (options) => {\n    this.setState({\n      options: options,\n      isSubmitBtnActive: options.length > 0\n    });\n  };\n\n  handleSubmit = () => {\n    this.props.addAdminInBatch(this.state.options.map(item => item.email));\n    this.toggle();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add Admin')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            isMulti={true}\n            className=\"reviewer-select\"\n            placeholder={gettext('Search users')}\n            onSelectChange={this.handleSelectChange}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminBatchAddAdminDialog.propTypes = propTypes;\n\nexport default SysAdminBatchAddAdminDialog;\n","class SysAdminUser {\n  constructor(object) {\n    this.email = object.email;\n    this.name = object.name;\n    this.contact_email = object.contact_email;\n    this.login_id = object.login_id;\n    this.last_login = object.last_login;\n    this.last_access_time = object.last_access_time;\n    this.create_time = object.create_time;\n    this.is_active = object.is_active;\n    this.is_staff = object.is_staff;\n    this.reference_id = object.reference_id;\n    this.department = object.department;\n    this.quota_total = object.quota_total;\n    this.quota_usage = object.quota_usage;\n    this.role = object.role;\n    this.institution = object.institution;\n    if (object.org_id) {\n      this.org_id = object.org_id;\n    }\n    if (object.org_name) {\n      this.org_name = object.org_name;\n    }\n    this.isSelected = false;\n  }\n}\n\nexport default SysAdminUser;\n","\nclass SysAdminAdminUser {\n  constructor(object) {\n    this.email = object.email;\n    this.name = object.name;\n    this.contact_email = object.contact_email;\n    this.login_id = object.login_id;\n    this.last_login = object.last_login;\n    this.last_access_time = object.last_access_time;\n    this.create_time = object.create_time;\n    this.is_active = object.is_active;\n    this.is_staff = object.is_staff;\n    this.quota_total = object.quota_total;\n    this.quota_usage = object.quota_usage;\n    this.admin_role = object.admin_role;\n    this.isSelected = false;\n  }\n}\n\nexport default SysAdminAdminUser;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  placeholder: PropTypes.string.isRequired,\n  submit: PropTypes.func.isRequired\n};\n\nclass Search extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      value: e.target.value\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key == 'Enter') {\n      e.preventDefault();\n      this.handleSubmit();\n    }\n  };\n\n  handleSubmit = () => {\n    const value = this.state.value.trim();\n    if (!value) {\n      return false;\n    }\n    this.props.submit(value);\n  };\n\n  render() {\n    return (\n      <div className=\"input-icon\">\n        <i className=\"d-flex input-icon-addon fas fa-search\"></i>\n        <input\n          type=\"text\"\n          className=\"form-control search-input h-6 mr-1\"\n          style={{width: '17rem'}}\n          placeholder={this.props.placeholder}\n          value={this.state.value}\n          onChange={this.handleInputChange}\n          onKeyDown={this.handleKeyDown}\n          autoComplete=\"off\"\n        />\n      </div>\n    );\n  }\n}\n\nSearch.propTypes = propTypes;\n\nexport default Search;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext, haveLDAP, isDefaultAdmin } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'database', urlPart: 'users', text: gettext('Database')}\n    ];\n    if (haveLDAP) {\n      this.navItems.push(\n        {name: 'ldap', urlPart: 'users/ldap', text: gettext('LDAP')},\n        {name: 'ldap-imported', urlPart: 'users/ldap-imported', text: gettext('LDAP(imported)')}\n      );\n    }\n    if (isDefaultAdmin) {\n      this.navItems.push(\n        {name: 'admin', urlPart: 'users/admins', text: gettext('Admin')}\n      );\n    }\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, username, gettext, multiInstitution, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport Selector from '../../../components/single-selector';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport SysAdminUserSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\n\nconst { availableRoles, availableAdminRoles, institutions } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  toggleItemFreezed = (isFreezed) => {\n    this.setState({ isItemFreezed: isFreezed });\n  };\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  sortByQuotaUsage = (e) => {\n    e.preventDefault();\n    this.props.sortByQuotaUsage();\n  };\n\n  render() {\n    const {\n      isAdmin, loading, errorMsg, items, isAllUsersSelected,\n      curPerPage, hasNextPage, currentPage,\n      sortBy, sortOrder\n    } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No users')}</h2>\n        </EmptyTip>\n      );\n\n\n      let columns = [];\n\n      let sortIcon;\n      if (sortBy == '') {\n        // initial sort icon\n        sortIcon = <span className=\"fas fa-sort\"></span>;\n      } else {\n        sortIcon = <span className={`fas ${sortOrder == 'asc' ? 'fa-caret-up' : 'fa-caret-down'}`}></span>;\n      }\n      const spaceText = gettext('Space Used');\n      const spaceEl =\n        sortBy != undefined ? // only offer 'sort' for 'DB' & 'LDAPImported' users\n          <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByQuotaUsage}>{spaceText} {sortIcon}</a> :\n          spaceText;\n      const colSpaceText = <Fragment>{spaceEl}{` / ${gettext('Quota')}`}</Fragment>;\n\n      const colNameText = `${gettext('Name')} / ${gettext('Contact Email')}`;\n      const colCreatedText = `${gettext('Created At')} / ${gettext('Last Login')} / ${gettext('Last Access')}`;\n      if (isPro) {\n        columns.push(\n          {width: '20%', text: colNameText},\n          {width: '15%', text: gettext('Status')},\n          {width: '15%', text: gettext('Role')}\n        );\n      } else {\n        columns.push(\n          {width: '30%', text: colNameText},\n          {width: '20%', text: gettext('Status')}\n        );\n      }\n      if (multiInstitution && !isAdmin) {\n        columns.push(\n          {width: '14%', text: colSpaceText},\n          {width: '14%', text: gettext('Institution')},\n          {width: '14%', text: colCreatedText},\n          {width: '5%', text: ''}\n        );\n      } else {\n        columns.push(\n          {width: '20%', text: colSpaceText},\n          {width: '22%', text: colCreatedText},\n          {width: '5%', text: ''}\n        );\n      }\n\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"3%\" className=\"pl-2\">\n                  <input type=\"checkbox\" className=\"vam\" onChange={this.props.toggleSelectAllUsers} checked={isAllUsersSelected} />\n                </th>\n                {columns.map((item, index) => {\n                  return <th width={item.width} key={index}>{item.text}</th>;\n                })}\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  toggleItemFreezed={this.toggleItemFreezed}\n                  updateUser={this.props.updateUser}\n                  deleteUser={this.props.deleteUser}\n                  updateAdminRole={this.props.updateAdminRole}\n                  revokeAdmin={this.props.revokeAdmin}\n                  onUserSelected={this.props.onUserSelected}\n                  isAdmin={this.props.isAdmin}\n                  isLDAPImported={this.props.isLDAPImported}\n                />);\n              })}\n            </tbody>\n          </table>\n          {(!this.props.isAdmin && !this.props.isSearchResult) &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool,\n  errorMsg: PropTypes.string,\n  items: PropTypes.array,\n  deleteItem: PropTypes.func,\n  isAdmin: PropTypes.bool,\n  isLDAPImported: PropTypes.bool,\n  isSearchResult: PropTypes.bool,\n  sortBy: PropTypes.string,\n  sortByQuotaUsage: PropTypes.func,\n  getListByPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  toggleSelectAllUsers: PropTypes.func,\n  isAllUsersSelected: PropTypes.bool,\n  resetPerPage: PropTypes.func,\n  updateUser: PropTypes.func,\n  deleteUser: PropTypes.func,\n  updateAdminRole: PropTypes.func,\n  revokeAdmin: PropTypes.func,\n  onUserSelected: PropTypes.func,\n  curPerPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n  sortOrder: PropTypes.string,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isSetQuotaDialogOpen: false,\n      isDeleteUserDialogOpen: false,\n      isResetUserPasswordDialogOpen: false,\n      isRevokeAdminDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  };\n\n  toggleDeleteUserDialog = () => {\n    this.setState({isDeleteUserDialogOpen: !this.state.isDeleteUserDialogOpen});\n  };\n\n  toggleResetUserPasswordDialog = () => {\n    this.setState({isResetUserPasswordDialogOpen: !this.state.isResetUserPasswordDialogOpen});\n  };\n\n  toggleRevokeAdminDialog = () => {\n    this.setState({isRevokeAdminDialogOpen: !this.state.isRevokeAdminDialogOpen});\n  };\n\n  onUserSelected = () => {\n    this.props.onUserSelected(this.props.item);\n  };\n\n  updateStatus= (roleOption) => {\n    const isActive = roleOption.value == 'active';\n    if (isActive) {\n      toaster.notify(gettext('It may take some time, please wait.'));\n    }\n    this.props.updateUser(this.props.item.email, 'is_active', isActive);\n  };\n\n  updateRole = (roleOption) => {\n    this.props.updateUser(this.props.item.email, 'role', roleOption.value);\n  };\n\n  updateAdminRole = (roleOption) => {\n    this.props.updateAdminRole(this.props.item.email, roleOption.value);\n  };\n\n  translateRole = (role) => {\n    switch (role) {\n      case 'default':\n        return gettext('Default');\n      case 'guest':\n        return gettext('Guest');\n      default:\n        return role;\n    }\n  };\n\n  translateAdminRole = (role) => {\n    switch (role) {\n      case 'default_admin':\n        return gettext('Default Admin');\n      case 'system_admin':\n        return gettext('System Admin');\n      case 'daily_admin':\n        return gettext('Daily Admin');\n      case 'audit_admin':\n        return gettext('Audit Admin');\n      default:\n        return role;\n    }\n  };\n\n  translateStatus = (status) => {\n    switch (status) {\n      case 'active':\n        return gettext('Active');\n      case 'inactive':\n        return gettext('Inactive');\n    }\n  };\n\n  updateInstitution = (instOption) => {\n    this.props.updateUser(this.props.item.email, 'institution', instOption.value);\n  };\n\n  updateQuota = (value) => {\n    this.props.updateUser(this.props.item.email, 'quota_total', value);\n  };\n\n  deleteUser = () => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    this.props.deleteUser(this.props.item.email, this.props.item.name);\n  };\n\n  resetPassword = () => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    seafileAPI.sysAdminResetUserPassword(this.props.item.email).then(res => {\n      toaster.success(res.data.reset_tip);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  revokeAdmin = () => {\n    const { item } = this.props;\n    this.props.revokeAdmin(item.email, item.name);\n  };\n\n  getMenuOperations = () => {\n    const {\n      isAdmin, isLDAPImported,\n      isSearchResult, item\n    } = this.props;\n    let list = ['Delete'];\n    if (!isLDAPImported ||\n      (isSearchResult && item.source == 'db')) {\n      list.push('Reset Password');\n    }\n    if (isAdmin) {\n      list = ['Revoke Admin'];\n    }\n    return list;\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Reset Password':\n        translateResult = gettext('Reset Password');\n        break;\n      case 'Revoke Admin':\n        translateResult = gettext('Revoke Admin');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteUserDialog();\n        break;\n      case 'Reset Password':\n        this.toggleResetUserPasswordDialog();\n        break;\n      case 'Revoke Admin':\n        this.toggleRevokeAdminDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  render() {\n    const { item, isAdmin } = this.props;\n    const {\n      highlight,\n      isOpIconShown,\n      isSetQuotaDialogOpen,\n      isDeleteUserDialogOpen,\n      isResetUserPasswordDialogOpen,\n      isRevokeAdminDialogOpen\n    } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n    const resetPasswordDialogMsg = gettext('Are you sure you want to reset the password of {placeholder} ?').replace('{placeholder}', itemName);\n    const revokeAdminDialogMsg = gettext('Are you sure you want to revoke the admin permission of {placeholder} ?').replace('{placeholder}', itemName);\n\n    // for 'user status'\n    const curStatus = item.is_active ? 'active' : 'inactive';\n    this.statusOptions = ['active', 'inactive'].map(item => {\n      return {\n        value: item,\n        text: this.translateStatus(item),\n        isSelected: item == curStatus\n      };\n    });\n    const currentSelectedStatusOption = this.statusOptions.filter(item => item.isSelected)[0];\n\n    let currentSelectedAdminRoleOption;\n    let currentSelectedRoleOption;\n    if (isAdmin) {\n      const { admin_role: curAdminRole } = item;\n      this.adminRoleOptions = availableAdminRoles.map(item => {\n        return {\n          value: item,\n          text: this.translateAdminRole(item),\n          isSelected: item == curAdminRole\n        };\n      });\n      currentSelectedAdminRoleOption = this.adminRoleOptions.filter(item => item.isSelected)[0];\n    } else {\n      const { role: curRole } = item;\n      this.roleOptions = availableRoles.map(item => {\n        return {\n          value: item,\n          text: this.translateRole(item),\n          isSelected: item == curRole\n        };\n      });\n      currentSelectedRoleOption = this.roleOptions.filter(item => item.isSelected)[0] || { // `|| {...}`: to be compatible with old data(roles not in the present `availableRoles`\n        value: curRole,\n        text: this.translateRole(curRole),\n        isSelected: true\n      };\n    }\n\n    let currentSelectedInstOption;\n    if (multiInstitution && !isAdmin) {\n      const { institution: curInstitution } = item;\n      this.instOptions = institutions.map(item => {\n        return {\n          value: item,\n          text: item,\n          isSelected: item == curInstitution\n        };\n      });\n      currentSelectedInstOption = this.instOptions.filter(item => item.isSelected)[0];\n    }\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td className=\"pl-2\">\n            <input type=\"checkbox\" className=\"vam\" onChange={this.onUserSelected} checked={item.isSelected} />\n          </td>\n          <td>\n            <UserLink email={item.email} name={item.name} />\n            {item.contact_email &&\n              <Fragment>\n                <br />\n                {item.contact_email}\n              </Fragment>}\n            {item.org_id &&\n              <Fragment>\n                <br />\n                <Link to={`${siteRoot}sys/organizations/${item.org_id}/info/`}>({item.org_name})</Link>\n              </Fragment>\n            }\n          </td>\n          <td>\n            <Selector\n              isDropdownToggleShown={highlight}\n              currentSelectedOption={currentSelectedStatusOption}\n              options={this.statusOptions}\n              selectOption={this.updateStatus}\n              toggleItemFreezed={this.props.toggleItemFreezed}\n            />\n          </td>\n          {isPro &&\n          <td>\n            {isAdmin ?\n              <Selector\n                isDropdownToggleShown={highlight}\n                currentSelectedOption={currentSelectedAdminRoleOption}\n                options={this.adminRoleOptions}\n                selectOption={this.updateAdminRole}\n                toggleItemFreezed={this.props.toggleItemFreezed}\n              />\n              :\n              <Selector\n                isDropdownToggleShown={highlight}\n                currentSelectedOption={currentSelectedRoleOption}\n                options={this.roleOptions}\n                selectOption={this.updateRole}\n                toggleItemFreezed={this.props.toggleItemFreezed}\n              />\n            }\n          </td>\n          }\n          <td>\n            {`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}\n            <span\n              title={gettext('Edit')}\n              className={`fa fa-pencil-alt attr-action-icon ${isOpIconShown ? '' : 'invisible'}`}\n              onClick={this.toggleSetQuotaDialog}>\n            </span>\n          </td>\n          {(multiInstitution && !isAdmin) &&\n            <td>\n              <Selector\n                isDropdownToggleShown={highlight && institutions.length > 0}\n                currentSelectedOption={currentSelectedInstOption}\n                options={this.instOptions}\n                selectOption={this.updateInstitution}\n                toggleItemFreezed={this.props.toggleItemFreezed}\n              />\n            </td>\n          }\n          <td>\n            {`${item.create_time ? moment(item.create_time).format('YYYY-MM-DD HH:mm') : '--'} /`}\n            <br />\n            {`${item.last_login ? moment(item.last_login).fromNow() : '--'}`}\n            <br />\n            {`${item.last_access_time ? moment(item.last_access_time).fromNow() : '--'}`}\n          </td>\n          <td>\n            {(item.email != username && isOpIconShown) &&\n            <OpMenu\n              operations={this.getMenuOperations()}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isSetQuotaDialogOpen &&\n          <SysAdminUserSetQuotaDialog\n            toggle={this.toggleSetQuotaDialog}\n            updateQuota={this.updateQuota}\n          />\n        }\n        {isDeleteUserDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete User')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteUser}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteUserDialog}\n          />\n        }\n        {isResetUserPasswordDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Reset Password')}\n            message={resetPasswordDialogMsg}\n            executeOperation={this.resetPassword}\n            confirmBtnText={gettext('Reset')}\n            toggleDialog={this.toggleResetUserPasswordDialog}\n          />\n        }\n        {isRevokeAdminDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Revoke Admin')}\n            message={revokeAdminDialogMsg}\n            executeOperation={this.revokeAdmin}\n            confirmBtnText={gettext('Revoke')}\n            toggleDialog={this.toggleRevokeAdminDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object,\n  isItemFreezed: PropTypes.bool,\n  isAdmin: PropTypes.bool,\n  isLDAPImported: PropTypes.bool,\n  onFreezedItem: PropTypes.func,\n  onUnfreezedItem: PropTypes.func,\n  toggleItemFreezed: PropTypes.func.isRequired,\n  updateUser: PropTypes.func,\n  deleteUser: PropTypes.func,\n  updateAdminRole: PropTypes.func,\n  revokeAdmin: PropTypes.func,\n  onUserSelected: PropTypes.func,\n  isSearchResult: PropTypes.bool,\n};\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, gettext, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminUserSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport SysAdminImportUserDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-import-user-dialog';\nimport SysAdminAddUserDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-user-dialog';\nimport SysAdminBatchAddAdminDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-batch-add-admin-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminUser from '../../../models/sysadmin-user';\nimport SysAdminAdminUser from '../../../models/sysadmin-admin-user';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport UsersNav from './users-nav';\nimport Content from './users-content';\n\nconst { availableRoles } = window.sysadmin.pageOptions;\n\nconst propTypes = {\n  isAdmin: PropTypes.bool,\n  isLDAPImported: PropTypes.bool\n};\n\nclass Users extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userList: [],\n      hasNextPage: false,\n      currentPage: 1,\n      perPage: 25,\n      hasUserSelected: false,\n      selectedUserList: [],\n      isAllUsersSelected: false,\n      isImportUserDialogOpen: false,\n      isAddUserDialogOpen: false,\n      isBatchSetQuotaDialogOpen: false,\n      isBatchDeleteUserDialogOpen: false,\n      isBatchAddAdminDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    if (this.props.isAdmin) { // 'Admin' page\n      this.getUserList(); // no pagination\n    } else {\n      let urlParams = (new URL(window.location)).searchParams;\n      const {\n        currentPage, perPage,\n        sortBy = '',\n        sortOrder = 'asc'\n      } = this.state;\n      this.setState({\n        perPage: parseInt(urlParams.get('per_page') || perPage),\n        currentPage: parseInt(urlParams.get('page') || currentPage),\n        sortBy: urlParams.get('order_by') || sortBy,\n        sortOrder: urlParams.get('direction') || sortOrder\n      }, () => {\n        this.getUsersListByPage(this.state.currentPage);\n      });\n    }\n  }\n\n  toggleImportUserDialog = () => {\n    this.setState({isImportUserDialogOpen: !this.state.isImportUserDialogOpen});\n  };\n\n  toggleAddUserDialog = () => {\n    this.setState({isAddUserDialogOpen: !this.state.isAddUserDialogOpen});\n  };\n\n  toggleBatchSetQuotaDialog = () => {\n    this.setState({isBatchSetQuotaDialogOpen: !this.state.isBatchSetQuotaDialogOpen});\n  };\n\n  toggleBatchDeleteUserDialog = () => {\n    this.setState({isBatchDeleteUserDialogOpen: !this.state.isBatchDeleteUserDialogOpen});\n  };\n\n  onUserSelected = (item) => {\n    let hasUserSelected = false;\n    let selectedUserList = [];\n    // traverse all users, toggle its selected status\n    let users = this.state.userList.map(user => {\n      // toggle status\n      if (user.email === item.email) {\n        user.isSelected = !user.isSelected;\n      }\n      // update selectedUserList\n      // if current user is now selected, push it to selectedUserList\n      // if current user is now not selected, drop it from selectedUserList\n      if (user.isSelected == true) {\n        hasUserSelected = true;\n        selectedUserList.push(user);\n      } else {\n        selectedUserList = selectedUserList.filter(thisuser => {\n          return thisuser.email != user.email;\n        });\n      }\n      return user;\n    });\n    // finally update state\n    this.setState({\n      userList: users,\n      hasUserSelected: hasUserSelected,\n      selectedUserList: selectedUserList,\n    });\n  };\n\n  toggleSelectAllUsers = () => {\n    if (this.state.isAllUsersSelected) {\n      // if previous state is allSelected, toggle to not select\n      let users = this.state.userList.map(user => {\n        user.isSelected = false;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: false,\n        isAllUsersSelected: false,\n        selectedUserList: [],\n      });\n    } else {\n      // if previous state is not allSelected, toggle to selectAll\n      let users = this.state.userList.map(user => {\n        user.isSelected = true;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: true,\n        isAllUsersSelected: true,\n        selectedUserList: users\n      });\n    }\n  };\n\n  getUserList = () => {\n  // get admins\n    seafileAPI.sysAdminListAdmins().then(res => {\n      let users = res.data.admin_user_list.map(user => {\n        return new SysAdminAdminUser(user);\n      });\n      this.setState({\n        userList: users,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  getUsersListByPage = (page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    const { isLDAPImported } = this.props;\n    seafileAPI.sysAdminListUsers(page, perPage, isLDAPImported, sortBy, sortOrder).then(res => {\n      let users = res.data.data.map(user => {return new SysAdminUser(user);});\n      this.setState({\n        userList: users,\n        loading: false,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n        currentPage: page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  sortByQuotaUsage = () => {\n    this.setState({\n      sortBy: 'quota_usage',\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc',\n      currentPage: 1\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { currentPage, sortBy, sortOrder } = this.state;\n      searchParams.set('page', currentPage);\n      searchParams.set('order_by', sortBy);\n      searchParams.set('direction', sortOrder);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.getUsersListByPage(currentPage);\n    });\n  };\n\n  deleteUser = (email, username) => {\n    seafileAPI.sysAdminDeleteUser(email).then(res => {\n      let newUserList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({userList: newUserList});\n      let msg = gettext('Deleted user %s');\n      msg = msg.replace('%s', username);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  setUserQuotaInBatch = (quotaTotal) => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminSetUserQuotaInBatch(emails, quotaTotal).then(res => {\n      let userList = this.state.userList.map(item => {\n        res.data.success.forEach(resultUser => {\n          if (item.email == resultUser.email) {\n            item.quota_total = resultUser.quota_total;\n          }\n        });\n        return item;\n      });\n      this.setState({userList: userList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUserInBatch = () => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminDeleteUserInBatch(emails).then(res => {\n      if (res.data.success.length) {\n        let oldUserList = this.state.userList;\n        let newUserList = oldUserList.filter(oldUser => {\n          return !res.data.success.some(deletedUser =>{\n            return deletedUser.email == oldUser.email;\n          });\n        });\n        this.setState({\n          userList: newUserList,\n          hasUserSelected: emails.length != res.data.success.length\n        });\n        const length = res.data.success.length;\n        const msg = length == 1 ?\n          gettext('Successfully deleted 1 user.') :\n          gettext('Successfully deleted {user_number_placeholder} users.')\n            .replace('{user_number_placeholder}', length);\n        toaster.success(msg);\n      }\n      res.data.failed.forEach(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  importUserInBatch = (file) => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    seafileAPI.sysAdminImportUserViaFile(file).then((res) => {\n      if (res.data.success.length) {\n        const users = res.data.success.map(item => {\n          if (item.institution == undefined) {\n            item.institution = '';\n          }\n          return new SysAdminUser(item);\n        });\n        this.setState({\n          userList: users.concat(this.state.userList)\n        });\n      }\n      res.data.failed.forEach(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMsg = Utils.getErrorMsg(error);\n      toaster.danger(errMsg);\n    });\n  };\n\n  addUser = (data) => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    const { email, name, role, password } = data;\n    seafileAPI.sysAdminAddUser(email, name, role, password).then((res) => {\n      let userList = this.state.userList;\n      userList.unshift(res.data);\n      this.setState({\n        userList: userList\n      });\n      toaster.success(res.data.add_user_tip);\n    }).catch((error) => {\n      let errMsg = Utils.getErrorMsg(error);\n      toaster.danger(errMsg);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getUsersListByPage(1);\n    });\n  };\n\n  updateUser = (email, key, value) => {\n    seafileAPI.sysAdminUpdateUser(email, key, value).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item[key]= res.data[key];\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      const msg = (key == 'is_active' && value) ?\n        res.data.update_status_tip : gettext('Edit succeeded');\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateAdminRole = (email, role) => {\n    seafileAPI.sysAdminUpdateAdminRole(email, role).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.admin_role = res.data.role;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  revokeAdmin = (email, name) => {\n    seafileAPI.sysAdminUpdateUser(email, 'is_staff', false).then(res => {\n      let userList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({\n        userList: userList\n      });\n      toaster.success(gettext('Successfully revoked the admin permission of {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getOperationsForAll = () => {\n    const { isAdmin, isLDAPImported } = this.props;\n\n    if (isAdmin) {\n      return <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchAddAdminDialog}>{gettext('Add Admin')}</Button>;\n    }\n\n    if (isLDAPImported) {\n      return <a className=\"btn btn-secondary operation-item\" href={`${siteRoot}sys/useradmin/export-excel/`}>{gettext('Export Excel')}</a>;\n    }\n\n    // 'database'\n    return (\n      <Fragment>\n        <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleImportUserDialog}>{gettext('Import Users')}</Button>\n        <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddUserDialog}>{gettext('Add User')}</Button>\n        <a className=\"btn btn-secondary operation-item\" href={`${siteRoot}sys/useradmin/export-excel/`}>{gettext('Export Excel')}</a>\n      </Fragment>\n    );\n  };\n\n  getCurrentNavItem = () => {\n    const { isAdmin, isLDAPImported } = this.props;\n    let item = 'database';\n    if (isAdmin) {\n      item = 'admin';\n    } else if (isLDAPImported) {\n      item = 'ldap-imported';\n    }\n    return item;\n  };\n\n  toggleBatchAddAdminDialog = () => {\n    this.setState({isBatchAddAdminDialogOpen: !this.state.isBatchAddAdminDialogOpen});\n  };\n\n  addAdminInBatch = (emails) => {\n    seafileAPI.sysAdminAddAdminInBatch(emails).then(res => {\n      let users = res.data.success.map(user => {\n        return new SysAdminAdminUser(user);\n      });\n      this.setState({\n        userList: users.concat(this.state.userList)\n      });\n      res.data.failed.forEach(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getSearch = () => {\n    if (this.props.isAdmin) {\n      return null;\n    }\n    // offer 'Search' for 'DB' & 'LDAPImported' users\n    return <Search\n      placeholder={gettext('Search users')}\n      submit={this.searchItems}\n    />;\n  };\n\n  searchItems = (keyword) => {\n    navigate(`${siteRoot}sys/search-users/?query=${encodeURIComponent(keyword)}`);\n  };\n\n  render() {\n    const { isAdmin, isLDAPImported } = this.props;\n    const {\n      hasUserSelected,\n      isImportUserDialogOpen,\n      isAddUserDialogOpen,\n      isBatchDeleteUserDialogOpen,\n      isBatchSetQuotaDialogOpen,\n      isBatchAddAdminDialogOpen\n    } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          {hasUserSelected ?\n            <Fragment>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchSetQuotaDialog}>{gettext('Set Quota')}</Button>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchDeleteUserDialog}>{gettext('Delete Users')}</Button>\n            </Fragment>\n            : this.getOperationsForAll()\n          }\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <UsersNav currentItem={this.getCurrentNavItem()} />\n            <div className=\"cur-view-content\">\n              <Content\n                isAdmin={isAdmin}\n                isLDAPImported={isLDAPImported}\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                sortBy={this.state.sortBy}\n                sortOrder={this.state.sortOrder}\n                sortByQuotaUsage={this.sortByQuotaUsage}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getUsersListByPage}\n                updateUser={this.updateUser}\n                deleteUser={this.deleteUser}\n                updateAdminRole={this.updateAdminRole}\n                revokeAdmin={this.revokeAdmin}\n                onUserSelected={this.onUserSelected}\n                isAllUsersSelected={this.isAllUsersSelected}\n                toggleSelectAllUsers={this.toggleSelectAllUsers}\n              />\n            </div>\n          </div>\n        </div>\n        {isImportUserDialogOpen &&\n        <SysAdminImportUserDialog\n          toggle={this.toggleImportUserDialog}\n          importUserInBatch={this.importUserInBatch}\n        />\n        }\n        {isAddUserDialogOpen &&\n          <SysAdminAddUserDialog\n            dialogTitle={gettext('Add User')}\n            showRole={isPro}\n            availableRoles={availableRoles}\n            addUser={this.addUser}\n            toggleDialog={this.toggleAddUserDialog}\n          />\n        }\n        {isBatchSetQuotaDialogOpen &&\n          <SysAdminUserSetQuotaDialog\n            toggle={this.toggleBatchSetQuotaDialog}\n            updateQuota={this.setUserQuotaInBatch}\n          />\n        }\n        {isBatchDeleteUserDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Users')}\n            message={gettext('Are you sure you want to delete the selected user(s) ?')}\n            executeOperation={this.deleteUserInBatch}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleBatchDeleteUserDialog}\n          />\n        }\n        {isBatchAddAdminDialogOpen &&\n          <SysAdminBatchAddAdminDialog\n            addAdminInBatch={this.addAdminInBatch}\n            toggle={this.toggleBatchAddAdminDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nUsers.propTypes = propTypes;\n\nexport default Users;\n","import React, { Component } from 'react';\nimport Users from './users';\n\nclass AdminUsers extends Component {\n\n  render() {\n    return <Users isAdmin={true} {...this.props} />;\n  }\n}\n\nexport default AdminUsers;\n","import React, { Component } from 'react';\nimport Users from './users';\n\nclass LDAPImportedUsers extends Component {\n\n  render() {\n    return <Users isLDAPImported={true} {...this.props} />;\n  }\n}\n\nexport default LDAPImportedUsers;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport UsersNav from './users-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, curPerPage, hasNextPage, currentPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No users')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"40%\">{gettext('Email')}</th>\n                <th width=\"30%\">{gettext('Space Used')}{' / '}{gettext('Quota')}</th>\n                <th width=\"30%\">{gettext('Last Login')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  currentPage: PropTypes.number,\n  curPerPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n  render() {\n    const { item } = this.props;\n    return (\n      <Fragment>\n        <tr>\n          <td><UserLink email={item.email} name={item.email} /></td>\n          <td>\n            {`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}\n          </td>\n          <td>\n            {item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass Users extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userList: {},\n      hasNextPage: false,\n      currentPage: 1,\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getUsersListByPage(this.state.currentPage);\n    });\n  }\n\n  getUsersListByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListLDAPUsers(page, perPage).then(res => {\n      this.setState({\n        loading: false,\n        userList: res.data.ldap_user_list,\n        hasNextPage: res.data.has_next_page,\n        currentPage: page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getUsersListByPage(1);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <UsersNav currentItem=\"ldap\" />\n            <div className=\"cur-view-content\">\n              <Content\n                resetPerPage={this.resetPerPage}\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                getListByPage={this.getUsersListByPage}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nUsers.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Users;\n","import React, { Component, Fragment } from 'react';\nimport { Button, Form, FormGroup, Input, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport Paginator from '../../../components/paginator';\nimport toaster from '../../../components/toast';\nimport SysAdminUserSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './users-content';\n\n\nclass SearchUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      userList: [],\n      pageInfo: {\n        has_next_page: false,\n        current_page: 1,\n      },\n      currentPage: 1,\n      perPage: 25,\n      hasUserSelected: false,\n      selectedUserList: [],\n      isAllUsersSelected: false,\n      isBatchSetQuotaDialogOpen: false,\n      isBatchDeleteUserDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      query: params.get('query') || '',\n      currentPage: parseInt(params.get('page') || currentPage),\n      perPage: parseInt(params.get('per_page') || perPage)\n    }, () => {this.getItems(this.state.currentPage);});\n  }\n\n  toggleBatchSetQuotaDialog = () => {\n    this.setState({isBatchSetQuotaDialogOpen: !this.state.isBatchSetQuotaDialogOpen});\n  };\n\n  toggleBatchDeleteUserDialog = () => {\n    this.setState({isBatchDeleteUserDialogOpen: !this.state.isBatchDeleteUserDialogOpen});\n  };\n\n  onUserSelected = (item) => {\n    let hasUserSelected = false;\n    let selectedUserList = [];\n    // traverse all users, toggle its selected status\n    let users = this.state.userList.map(user => {\n      // toggle status\n      if (user.email === item.email) {\n        user.isSelected = !user.isSelected;\n      }\n      // update selectedUserList\n      // if current user is now selected, push it to selectedUserList\n      // if current user is now not selected, drop it from selectedUserList\n      if (user.isSelected == true) {\n        hasUserSelected = true;\n        selectedUserList.push(user);\n      } else {\n        selectedUserList = selectedUserList.filter(thisuser => {\n          return thisuser.email != user.email;\n        });\n      }\n      return user;\n    });\n    // finally update state\n    this.setState({\n      userList: users,\n      hasUserSelected: hasUserSelected,\n      selectedUserList: selectedUserList,\n    });\n  };\n\n  toggleSelectAllUsers = () => {\n    if (this.state.isAllUsersSelected) {\n      // if previous state is allSelected, toggle to not select\n      let users = this.state.userList.map(user => {\n        user.isSelected = false;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: false,\n        isAllUsersSelected: false,\n        selectedUserList: [],\n      });\n    } else {\n      // if previous state is not allSelected, toggle to selectAll\n      let users = this.state.userList.map(user => {\n        user.isSelected = true;\n        return user;\n      });\n      this.setState({\n        userList: users,\n        hasUserSelected: true,\n        isAllUsersSelected: true,\n        selectedUserList: users\n      });\n    }\n  };\n\n  getItems = (page) => {\n    seafileAPI.sysAdminSearchUsers(this.state.query.trim(), page, this.state.perPage).then(res => {\n      this.setState({\n        userList: res.data.user_list,\n        loading: false,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getItems(1);\n    });\n  };\n\n  deleteUser = (email, username) => {\n    seafileAPI.sysAdminDeleteUser(email).then(res => {\n      let newUserList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({userList: newUserList});\n      let msg = gettext('Deleted user %s');\n      msg = msg.replace('%s', username);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  setUserQuotaInBatch = (quotaTotal) => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminSetUserQuotaInBatch(emails, quotaTotal).then(res => {\n      let userList = this.state.userList.map(item => {\n        res.data.success.forEach(resultUser => {\n          if (item.email == resultUser.email) {\n            item.quota_total = resultUser.quota_total;\n          }\n        });\n        return item;\n      });\n      this.setState({userList: userList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUserInBatch = () => {\n    let emails = this.state.selectedUserList.map(user => {\n      return user.email;\n    });\n    seafileAPI.sysAdminDeleteUserInBatch(emails).then(res => {\n      if (res.data.success.length) {\n        let oldUserList = this.state.userList;\n        let newUserList = oldUserList.filter(oldUser => {\n          return !res.data.success.some(deletedUser =>{\n            return deletedUser.email == oldUser.email;\n          });\n        });\n        this.setState({\n          userList: newUserList,\n          hasUserSelected: emails.length != res.data.success.length\n        });\n        const length = res.data.success.length;\n        const msg = length == 1 ?\n          gettext('Successfully deleted 1 user.') :\n          gettext('Successfully deleted {user_number_placeholder} users.')\n            .replace('{user_number_placeholder}', length);\n        toaster.success(msg);\n      }\n      res.data.failed.forEach(item => {\n        const msg = `${item.email}: ${item.error_msg}`;\n        toaster.danger(msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateUser = (email, key, value) => {\n    seafileAPI.sysAdminUpdateUser(email, key, value).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item[key]= res.data[key];\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      const msg = (key == 'is_active' && value) ?\n        res.data.update_status_tip : gettext('Edit succeeded');\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateAdminRole = (email, role) => {\n    seafileAPI.sysAdminUpdateAdminRole(email, role).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.admin_role = res.data.role;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  revokeAdmin = (email, name) => {\n    seafileAPI.sysAdminUpdateUser(email, 'is_staff', false).then(res => {\n      let userList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({\n        userList: userList\n      });\n      toaster.success(gettext('Successfully revoked the admin permission of {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  handleInputChange = (e) => {\n    this.setState({\n      query: e.target.value\n    }, this.checkSubmitBtnActive);\n  };\n\n  checkSubmitBtnActive = () => {\n    const { query } = this.state;\n    this.setState({\n      isSubmitBtnActive: query.trim()\n    });\n  };\n\n  getPreviousPageList = () => {\n    this.getItems(this.state.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.getItems(this.state.pageInfo.current_page + 1);\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive } = this.state;\n      if (isSubmitBtnActive) {\n        this.getItems();\n      }\n    }\n  };\n\n  render() {\n    const { query, isSubmitBtnActive } = this.state;\n    const {\n      hasUserSelected,\n      isBatchDeleteUserDialogOpen,\n      isBatchSetQuotaDialogOpen\n    } = this.state;\n    return (\n      <Fragment>\n        {hasUserSelected ?\n          <MainPanelTopbar {...this.props}>\n            <Fragment>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchSetQuotaDialog}>{gettext('Set Quota')}</Button>\n              <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleBatchDeleteUserDialog}>{gettext('Delete Users')}</Button>\n            </Fragment>\n          </MainPanelTopbar> :\n          <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Users')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Users')}</h4>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"query\" value={query} placeholder={gettext('Search users')} onChange={this.handleInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getItems}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  isLDAPImported={false}\n                  isAdmin={false}\n                  isSearchResult={true}\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.userList}\n                  updateUser={this.updateUser}\n                  deleteUser={this.deleteUser}\n                  updateAdminRole={this.updateAdminRole}\n                  revokeAdmin={this.revokeAdmin}\n                  onUserSelected={this.onUserSelected}\n                  isAllUsersSelected={this.isAllUsersSelected}\n                  toggleSelectAllUsers={this.toggleSelectAllUsers}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        {isBatchSetQuotaDialogOpen &&\n          <SysAdminUserSetQuotaDialog\n            toggle={this.toggleBatchSetQuotaDialog}\n            updateQuota={this.setUserQuotaInBatch}\n          />\n        }\n        {isBatchDeleteUserDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Users')}\n            message={gettext('Are you sure you want to delete the selected user(s) ?')}\n            executeOperation={this.deleteUserInBatch}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleBatchDeleteUserDialog}\n          />\n        }\n        {this.state.pageInfo &&\n        <Paginator\n          gotoPreviousPage={this.getPreviousPageList}\n          gotoNextPage={this.getNextPageList}\n          currentPage={this.state.pageInfo.current_page}\n          hasNextPage={this.state.pageInfo.has_next_page}\n          curPerPage={this.state.perPage}\n          resetPerPage={this.resetPerPage}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchUsers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  uploadOrDownload: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  updateUploadDownloadRateLimit: PropTypes.func.isRequired\n};\n\nclass SysAdminSetUploadDownloadRateLimitDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      rateLimit: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleRateLimitChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      rateLimit: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateUploadDownloadRateLimit(this.props.uploadOrDownload, this.state.rateLimit.trim());\n    this.toggle();\n  };\n\n  render() {\n    const { rateLimit, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{this.props.uploadOrDownload == 'upload' ? gettext('Set Upload Rate Limit') : gettext('Set Download Rate Limit')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <InputGroup>\n                <Input\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={rateLimit}\n                  onKeyDown={this.handleKeyDown}\n                  onChange={this.handleRateLimitChange}\n                />\n                <InputGroupAddon addonType=\"append\">\n                  <InputGroupText>kB/s</InputGroupText>\n                </InputGroupAddon>\n              </InputGroup>\n              <p className=\"small text-secondary mt-2 mb-2\">\n                {gettext('An integer that is greater than or equal to 0.')}\n                <br />\n                {gettext('Tip: 0 means default limit')}\n              </p>\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminSetUploadDownloadRateLimitDialog.propTypes = propTypes;\n\nexport default SysAdminSetUploadDownloadRateLimitDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  value: PropTypes.string.isRequired,\n  dialogTitle: PropTypes.string.isRequired,\n  updateValue: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass UpdateUser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: this.props.value,\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleInputChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateValue(this.state.value.trim());\n    this.props.toggleDialog();\n  };\n\n  render() {\n    const  { toggleDialog } = this.props;\n    return (\n      <Modal isOpen={true} toggle={toggleDialog}>\n        <ModalHeader toggle={toggleDialog}>{this.props.dialogTitle}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                value={this.state.value}\n                onKeyDown={this.handleKeyDown}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={toggleDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nUpdateUser.propTypes = propTypes;\n\nexport default UpdateUser;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  email: PropTypes.string,\n  userName: PropTypes.string.isRequired,\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'info', urlPart: '', text: gettext('Info')},\n      {name: 'owned-repos', urlPart: 'owned-libraries', text: gettext('Owned Libraries')},\n      {name: 'shared-repos', urlPart: 'shared-libraries', text: gettext('Shared Libraries')},\n      {name: 'links', urlPart: 'shared-links', text: gettext('Shared Links')},\n      {name: 'groups', urlPart: 'groups', text: gettext('Groups')}\n    ];\n  }\n\n  render() {\n    const { currentItem, email, userName } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/users/`}>{gettext('Users')}</Link> / {userName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/users/${encodeURIComponent(email)}/${item.urlPart}`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormGroup, Label, Input, Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, isPro } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport Loading from '../../../components/loading';\nimport SysAdminSetQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport SysAdminSetUploadDownloadRateLimitDialog from '../../../components/dialog/sysadmin-dialog/set-upload-download-rate-limit';\nimport SysAdminUpdateUserDialog from '../../../components/dialog/sysadmin-dialog/update-user';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nconst { twoFactorAuthEnabled } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentKey: '',\n      dialogTitle: '',\n      isSetQuotaDialogOpen: false,\n      isSetUserUploadRateLimitDialogOpen: false,\n      isSetUserDownloadRateLimitDialogOpen: false,\n      isUpdateUserDialogOpen: false\n    };\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  };\n\n  toggleSetUserUploadRateLimitDialog = () => {\n    this.setState({isSetUserUploadRateLimitDialogOpen: !this.state.isSetUserUploadRateLimitDialogOpen});\n  };\n\n  toggleSetUserDownloadRateLimitDialog = () => {\n    this.setState({isSetUserDownloadRateLimitDialogOpen: !this.state.isSetUserDownloadRateLimitDialogOpen});\n  };\n\n  updateQuota = (value) => {\n    this.props.updateUser('quota_total', value);\n  };\n\n  updateUploadDownloadRateLimit = (uploadOrDownload, value) => {\n    if (uploadOrDownload == 'upload'){\n      this.props.updateUser('upload_rate_limit', value);\n    }\n    if (uploadOrDownload == 'download'){\n      this.props.updateUser('download_rate_limit', value);\n    }\n  };\n\n  toggleDialog = (key, dialogTitle) => {\n    this.setState({\n      currentKey: key,\n      dialogTitle: dialogTitle,\n      isUpdateUserDialogOpen: !this.state.isUpdateUserDialogOpen\n    });\n  };\n\n  toggleSetNameDialog = () => {\n    this.toggleDialog('name', gettext('Set Name'));\n  };\n\n  toggleSetUserLoginIDDialog = () => {\n    this.toggleDialog('login_id', gettext('Set Login ID'));\n  };\n\n  toggleSetUserComtactEmailDialog = () => {\n    this.toggleDialog('contact_email', gettext('Set Contact Email'));\n  };\n\n  toggleSetUserReferenceIDDialog = () => {\n    this.toggleDialog('reference_id', gettext('Set Reference ID'));\n  };\n\n  updateValue = (value) => {\n    this.props.updateUser(this.state.currentKey, value);\n  };\n\n  toggleUpdateUserDialog = () => {\n    this.toggleDialog('', '');\n  };\n\n  showEditIcon = (action) => {\n    return (\n      <span\n        title={gettext('Edit')}\n        className=\"fa fa-pencil-alt attr-action-icon\"\n        onClick={action}>\n      </span>\n    );\n  };\n\n  render() {\n    const { loading, errorMsg } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const user = this.props.userInfo;\n      const {\n        currentKey, dialogTitle,\n        isSetQuotaDialogOpen, isUpdateUserDialogOpen,\n        isSetUserUploadRateLimitDialogOpen, isSetUserDownloadRateLimitDialogOpen\n      } = this.state;\n      return (\n        <Fragment>\n          <dl className=\"m-0\">\n            <dt className=\"info-item-heading\">{gettext('Avatar')}</dt>\n            <dd className=\"info-item-content\">\n              <img src={user.avatar_url} alt={user.name} width=\"80\" className=\"rounded\"  />\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Email')}</dt>\n            <dd className=\"info-item-content\">{user.email}</dd>\n\n            {user.org_name &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Organization')}</dt>\n                <dd className=\"info-item-content\">{user.org_name}</dd>\n              </Fragment>\n            }\n\n            <dt className=\"info-item-heading\">{gettext('Name')}</dt>\n            <dd className=\"info-item-content\">\n              {user.name || '--'}\n              {this.showEditIcon(this.toggleSetNameDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Login ID')}</dt>\n            <dd className=\"info-item-content\">\n              {user.login_id || '--'}\n              {this.showEditIcon(this.toggleSetUserLoginIDDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Contact Email')}</dt>\n            <dd className=\"info-item-content\">\n              {user.contact_email || '--'}\n              {this.showEditIcon(this.toggleSetUserComtactEmailDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Reference ID')}</dt>\n            <dd className=\"info-item-content\">\n              {user.reference_id|| '--'}\n              {this.showEditIcon(this.toggleSetUserReferenceIDDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Space Used / Quota')}</dt>\n            <dd className=\"info-item-content\">\n              {`${Utils.bytesToSize(user.quota_usage)} / ${user.quota_total > 0 ? Utils.bytesToSize(user.quota_total) : '--'}`}\n              {this.showEditIcon(this.toggleSetQuotaDialog)}\n            </dd>\n            {isPro &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Upload Rate Limit')}</dt>\n                <dd className=\"info-item-content\">\n                  {user.upload_rate_limit > 0 ? user.upload_rate_limit + ' kB/s' : '--'}\n                  {this.showEditIcon(this.toggleSetUserUploadRateLimitDialog)}\n                </dd>\n                <dt className=\"info-item-heading\">{gettext('Download Rate Limit')}</dt>\n                <dd className=\"info-item-content\">\n                  {user.download_rate_limit > 0 ? user.download_rate_limit + ' kB/s' : '--'}\n                  {this.showEditIcon(this.toggleSetUserDownloadRateLimitDialog)}\n                </dd>\n              </Fragment>\n            }\n            {twoFactorAuthEnabled &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Two-Factor Authentication')}</dt>\n                <dd className=\"info-item-content\">\n                  {user.has_default_device ?\n                    <FormGroup>\n                      <p className=\"mb-1\">{gettext('Status: enabled')}</p>\n                      <Button onClick={this.props.disable2FA}>{gettext('Disable Two-Factor Authentication')}</Button>\n                    </FormGroup> :\n                    <FormGroup>\n                      <Button disabled={true}>{gettext('Disable Two-Factor Authentication')}</Button>\n                    </FormGroup>\n                  }\n                  <FormGroup check>\n                    <Label check>\n                      <Input type=\"checkbox\" checked={user.is_force_2fa} onChange={this.props.toggleForce2fa} />\n                      <span>{gettext('Force Two-Factor Authentication')}</span>\n                    </Label>\n                  </FormGroup>\n                </dd>\n              </Fragment>\n            }\n          </dl>\n          {isSetQuotaDialogOpen &&\n          <SysAdminSetQuotaDialog\n            updateQuota={this.updateQuota}\n            toggle={this.toggleSetQuotaDialog}\n          />\n          }\n          {(isPro && isSetUserUploadRateLimitDialogOpen) &&\n          <SysAdminSetUploadDownloadRateLimitDialog\n            uploadOrDownload=\"upload\"\n            updateUploadDownloadRateLimit={this.updateUploadDownloadRateLimit}\n            toggle={this.toggleSetUserUploadRateLimitDialog}\n          />\n          }\n          {(isPro && isSetUserDownloadRateLimitDialogOpen) &&\n          <SysAdminSetUploadDownloadRateLimitDialog\n            uploadOrDownload=\"download\"\n            updateUploadDownloadRateLimit={this.updateUploadDownloadRateLimit}\n            toggle={this.toggleSetUserDownloadRateLimitDialog}\n          />\n          }\n          {isUpdateUserDialogOpen &&\n          <SysAdminUpdateUserDialog\n            dialogTitle={dialogTitle}\n            value={user[currentKey]}\n            updateValue={this.updateValue}\n            toggleDialog={this.toggleUpdateUserDialog}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  updateUser: PropTypes.func.isRequired,\n  userInfo: PropTypes.object.isRequired,\n  disable2FA: PropTypes.func.isRequired,\n  toggleForce2fa: PropTypes.func.isRequired,\n  email: PropTypes.string,\n};\n\nclass User extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {}\n    };\n  }\n\n  componentDidMount () {\n    // avatar size: 160\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email, 160).then((res) => {\n      this.setState({\n        loading: false,\n        userInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateUser = (key, value) => {\n    const email = this.state.userInfo.email;\n    seafileAPI.sysAdminUpdateUser(email, key, value).then(res => {\n      let userInfo = this.state.userInfo;\n      userInfo[key]= res.data[key];\n      this.setState({\n        userInfo: userInfo\n      });\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  disable2FA = () => {\n    const email = this.state.userInfo.email;\n    seafileAPI.sysAdminDeleteTwoFactorAuth(email).then(res => {\n      let userInfo = this.state.userInfo;\n      userInfo.has_default_device = false;\n      this.setState({\n        userInfo: userInfo\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleForce2fa = (e) => {\n    const email = this.state.userInfo.email;\n    const checked = e.target.checked;\n    seafileAPI.sysAdminSetForceTwoFactorAuth(email, checked).then(res => {\n      let userInfo = this.state.userInfo;\n      userInfo.is_force_2fa = checked;\n      this.setState({\n        userInfo: userInfo\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { userInfo } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"info\" email={this.props.email} userName={userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                userInfo={this.state.userInfo}\n                updateUser={this.updateUser}\n                disable2FA={this.disable2FA}\n                toggleForce2fa={this.toggleForce2fa}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nUser.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default User;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport TransferDialog from '../../../components/dialog/transfer-dialog';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\"></th>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Size')}</th>\n                <th width=\"25%\">{gettext('Last Update')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteRepo={this.props.deleteRepo}\n                  transferRepo={this.props.transferRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  items: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n  transferRepo: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n      isTransferDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleDeleteDialog = () => {\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteRepo = () => {\n    this.props.deleteRepo(this.props.item.id);\n  };\n\n  toggleTransferDialog = () => {\n    this.setState({isTransferDialogOpen: !this.state.isTransferDialogOpen});\n  };\n\n  transferRepo = (owner) => {\n    this.props.transferRepo(this.props.item.id, owner.email);\n    this.toggleTransferDialog();\n  };\n\n  renderRepoName = () => {\n    const { item } = this.props;\n    const repo = item;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return gettext('Broken ({repo_id_placeholder})')\n        .replace('{repo_id_placeholder}', repo.id);\n    }\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Transfer':\n        this.toggleTransferDialog();\n        break;\n    }\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, isTransferDialogOpen } = this.state;\n\n    const iconUrl = Utils.getLibIconUrl(item);\n    const iconTitle = Utils.getLibIconTitle(item);\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{Utils.bytesToSize(item.size)}</td>\n          <td>{moment(item.last_modified).fromNow()}</td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Delete', 'Transfer']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Library')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteRepo}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n        {isTransferDialogOpen &&\n        <TransferDialog\n          itemName={item.name}\n          submit={this.transferRepo}\n          canTransferToDept={false}\n          toggleDialog={this.toggleTransferDialog}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n  transferRepo: PropTypes.func.isRequired,\n};\n\nclass Repos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n    seafileAPI.sysAdminListReposByOwner(email).then(res => {\n      this.setState({\n        loading: false,\n        repoList: res.data.repos\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteRepo = (repoID) => {\n    seafileAPI.sysAdminDeleteRepo(repoID).then(res => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  transferRepo = (repoID, email) => {\n    seafileAPI.sysAdminTransferRepo(repoID, email).then((res) => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      let message = gettext('Successfully transferred the library.');\n      toaster.success(message);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"owned-repos\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n                deleteRepo={this.deleteRepo}\n                transferRepo={this.transferRepo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nRepos.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Repos;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, siteRoot, gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport Nav from './user-nav';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\"></th>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Share From')}</th>\n                <th width=\"20%\">{gettext('Size')}</th>\n                <th width=\"20%\">{gettext('Last Update')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n};\n\nclass Item extends Component {\n\n  renderRepoName = () => {\n    const { item } = this.props;\n    const repo = item;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return gettext('Broken ({repo_id_placeholder})')\n        .replace('{repo_id_placeholder}', repo.id);\n    }\n  };\n\n  getOwnerLink = () => {\n    let link;\n    const { item } = this.props;\n    const index = item.owner_email.indexOf('@seafile_group');\n    if (index == -1) {\n      link = <UserLink email={item.owner_email} name={item.owner_name} />;\n    } else {\n      const groupID = item.owner_email.substring(0, index);\n      link = <Link to={`${siteRoot}sys/departments/${groupID}/`}>{item.owner_name}</Link>;\n    }\n    return link;\n  };\n\n  render() {\n    const { item } = this.props;\n    const iconUrl = Utils.getLibIconUrl(item);\n    const iconTitle = Utils.getLibIconTitle(item);\n    return (\n      <Fragment>\n        <tr>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{this.getOwnerLink()}</td>\n          <td>{Utils.bytesToSize(item.size)}</td>\n          <td>{moment(item.last_modify).fromNow()}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass Repos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n    seafileAPI.sysAdminListShareInRepos(email).then(res => {\n      this.setState({\n        loading: false,\n        repoList: res.data.repo_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"shared-repos\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nRepos.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Repos;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport LinkDialog from '../../../components/dialog/share-admin-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No shared links')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\">{/* icon */}</th>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Size')}</th>\n                <th width=\"20%\">{gettext('Type')}</th>\n                <th width=\"20%\">{gettext('Visits')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteItem={this.props.deleteItem}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  email: PropTypes.string,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isLinkDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleLinkDialog = () => {\n    this.setState({isLinkDialogOpen: !this.state.isLinkDialogOpen});\n  };\n\n  deleteItem = () => {\n    this.props.deleteItem(this.props.item);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'View':\n        translateResult = gettext('View');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'View':\n        this.toggleLinkDialog();\n        break;\n      case 'Delete':\n        this.deleteItem();\n        break;\n    }\n  };\n\n  getRoleText = () => {\n    let roleText;\n    const { item } = this.props;\n    switch(item.role) {\n      case 'Owner':\n        roleText = gettext('Owner');\n        break;\n      case 'Admin':\n        roleText = gettext('Admin');\n        break;\n      case 'Member':\n        roleText = gettext('Member');\n        break;\n    }\n    return roleText;\n  };\n\n  getIconUrl = () => {\n    const { item } = this.props;\n    let url;\n    if (item.type == 'upload') {\n      url = Utils.getFolderIconUrl();\n    } else { // share link\n      if (item.is_dir) {\n        url = Utils.getFolderIconUrl();\n      } else {\n        url = Utils.getFileIconUrl(item.obj_name);\n      }\n    }\n    return url;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isLinkDialogOpen } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={this.getIconUrl()} alt=\"\" width=\"24\" /></td>\n          <td>{item.obj_name == '/' ? item.repo_name : item.obj_name}</td>\n          {item.type == 'upload' ?\n            <Fragment>\n              <td></td>\n              <td>{gettext('Upload')}</td>\n            </Fragment> :\n            <Fragment>\n              <td>{item.is_dir ? null : Utils.bytesToSize(item.size)}</td>\n              <td>{gettext('Download')}</td>\n            </Fragment>\n          }\n          <td>{item.view_cnt}</td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['View', 'Delete']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isLinkDialogOpen &&\n          <LinkDialog\n            link={item.link}\n            toggleDialog={this.toggleLinkDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n  email: PropTypes.string,\n};\n\nclass Links extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      uploadLinkItems: [],\n      shareLinkItems: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n\n    seafileAPI.sysAdminListShareLinksByUser(email).then(res => {\n      const items = res.data.share_link_list.map(item => {\n        item.type = 'download';\n        return item;\n      });\n      items.sort((a, b) => {\n        return a.is_dir ? -1 : 1;\n      });\n      this.setState({\n        loading: false,\n        shareLinkItems: items\n      });\n    });\n    seafileAPI.sysAdminListUploadLinksByUser(email).then(res => {\n      const items = res.data.upload_link_list.map(item => {\n        item.type = 'upload';\n        return item;\n      });\n      this.setState({\n        loading: false,\n        uploadLinkItems: items\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteItem = (item) => {\n    const type = item.type;\n    const token = item.token;\n    if (type == 'download') {\n      seafileAPI.sysAdminDeleteShareLink(token).then(res => {\n        let items = this.state.shareLinkItems.filter(item=> {\n          return item.token != token;\n        });\n        this.setState({\n          shareLinkItems: items\n        });\n        toaster.success(gettext('Successfully deleted 1 item.'));\n      }).catch((error) => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      seafileAPI.sysAdminDeleteUploadLink(token).then(res => {\n        let items = this.state.uploadLinkItems.filter(item=> {\n          return item.token != token;\n        });\n        this.setState({\n          uploadLinkItems: items\n        });\n        toaster.success(gettext('Successfully deleted 1 item.'));\n      }).catch((error) => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    }\n  };\n\n  render() {\n    const { shareLinkItems, uploadLinkItems } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"links\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={[].concat(uploadLinkItems, shareLinkItems)}\n                deleteItem={this.deleteItem}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nLinks.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Links;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No groups')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Role')}</th>\n                <th width=\"35%\">{gettext('Created At')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  getRoleText = () => {\n    let roleText;\n    const { item } = this.props;\n    switch(item.role) {\n      case 'Owner':\n        roleText = gettext('Owner');\n        break;\n      case 'Admin':\n        roleText = gettext('Admin');\n        break;\n      case 'Member':\n        roleText = gettext('Member');\n        break;\n    }\n    return roleText;\n  };\n\n  render() {\n    const { item } = this.props;\n    const url = item.parent_group_id == 0 ?\n      `${siteRoot}sys/groups/${item.id}/libraries/` :\n      `${siteRoot}sys/departments/${item.id}/`;\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={url}>{item.name}</Link></td>\n          <td>{this.getRoleText()}</td>\n          <td>{moment(item.created_at).format('YYYY-MM-DD HH:mm')}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n};\n\nclass Groups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      items: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n    seafileAPI.sysAdminListGroupsJoinedByUser(email).then(res => {\n      this.setState({\n        loading: false,\n        items: res.data.group_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"groups\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nGroups.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Groups;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\n\nconst propTypes = {\n  createRepo: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n};\n\nclass SysAdminCreateRepoDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoName: '',\n      ownerEmail: '',\n      errMessage: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleRepoNameChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      repoName: value,\n      isSubmitBtnActive: value.trim()\n    });\n  };\n\n  handleSubmit = () => {\n    const { repoName, ownerEmail } = this.state;\n    this.props.createRepo(repoName.trim(), ownerEmail);\n    this.toggle();\n  };\n\n  handleSelectChange = (option) => {\n    // option can be null\n    this.setState({\n      ownerEmail: option ? option.email : ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Library')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"repoName\">{gettext('Name')}</Label>\n              <Input\n                id=\"repoName\"\n                onKeyDown={this.handleKeyDown}\n                value={this.state.repoName}\n                onChange={this.handleRepoNameChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"userSelect\">\n                {gettext('Owner')}\n                <span className=\"small text-secondary\">{gettext('(If left blank, owner will be admin)')}</span>\n              </Label>\n              <UserSelect\n                id=\"userSelect\"\n                isMulti={false}\n                className=\"reviewer-select\"\n                placeholder={gettext('Select a user')}\n                onSelectChange={this.handleSelectChange}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminCreateRepoDialog.propTypes = propTypes;\n\nexport default SysAdminCreateRepoDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'all', urlPart: 'all-libraries', text: gettext('All')},\n      {name: 'system', urlPart: 'system-library', text: gettext('System')},\n      {name: 'trash', urlPart: 'trash-libraries', text: gettext('Trash')}\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { isPro, gettext } from '../../../utils/constants';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\nimport UserSelect from '../../user-select';\nimport SharePermissionEditor from '../../select-editor/share-permission-editor';\n\nclass UserItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  };\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  };\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.user_email);\n  };\n\n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item, permission);\n  };\n\n  render() {\n    let item = this.props.item;\n    let currentPermission = Utils.getSharedPermission(item);\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className=\"name\">{item.user_name}</td>\n        <td>\n          <SharePermissionEditor\n            repoID={item.repo_id}\n            isTextMode={true}\n            autoFocus={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={currentPermission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n          />\n        </td>\n        <td>\n          <span\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem}\n            title={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nUserItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nclass UserList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <UserItem\n              key={index}\n              item={item}\n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nUserList.propTypes = {\n  items: PropTypes.array.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemPath: PropTypes.string.isRequired,\n  itemType: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired\n};\n\nclass SysAdminShareToUser extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      permission: 'rw',\n      sharedItems: []\n    };\n    this.options = [];\n    this.permissions = ['rw', 'r'];\n    if (isPro) {\n      this.permissions.push('admin', 'cloud-edit', 'preview');\n    }\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n    this.options = [];\n  };\n\n  componentDidMount() {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminListRepoSharedItems(repoID, 'user').then((res) => {\n      if(res.data.length !== 0) {\n        this.setState({sharedItems: res.data});\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  };\n\n  shareToUser = () => {\n    let users = [];\n    let repoID = this.props.repoID;\n    if (this.state.selectedOption && this.state.selectedOption.length > 0 ) {\n      for (let i = 0; i < this.state.selectedOption.length; i ++) {\n        users[i] = this.state.selectedOption[i].email;\n      }\n    }\n    seafileAPI.sysAdminAddRepoSharedItem(repoID, 'user' , users, this.state.permission).then(res => {\n      let errorMsg = [];\n      if (res.data.failed.length > 0) {\n        for (let i = 0 ; i < res.data.failed.length ; i++) {\n          errorMsg[i] = res.data.failed[i];\n        }\n      }\n      let newItems = res.data.success;\n      this.setState({\n        errorMsg: errorMsg,\n        sharedItems: this.state.sharedItems.concat(newItems),\n        selectedOption: null,\n        permission: 'rw',\n      });\n      this.refs.userSelect.clearSelect();\n    }).catch(error => {\n      if (error.response) {\n        let message = gettext('Library can not be shared to owner.');\n        let errMessage = [];\n        errMessage.push(message);\n        this.setState({\n          errorMsg: errMessage,\n          selectedOption: null,\n        });\n      }\n    });\n  };\n\n  deleteShareItem = (useremail) => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminDeleteRepoSharedItem(repoID, 'user', useremail).then(res => {\n      this.setState({\n        sharedItems: this.state.sharedItems.filter( item => { return item.user_email !== useremail; })\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onChangeUserPermission = (item, permission) => {\n    let repoID = this.props.repoID;\n    let userEmail = item.user_email;\n    seafileAPI.sysAdminUpdateRepoSharedItemPermission(repoID, 'user', userEmail, permission).then(() => {\n      this.updateSharedItems(item, permission);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateSharedItems = (item, permission) => {\n    let username = item.user_name;\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      let sharedItemUsername = sharedItem.user_name;\n      if (username === sharedItemUsername) {\n        sharedItem.permission = permission;\n        sharedItem.is_admin = permission === 'admin' ? true : false;\n      }\n      return sharedItem;\n    });\n    this.setState({sharedItems: sharedItems});\n  };\n\n  render() {\n    let { sharedItems } = this.state;\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('User')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <UserSelect\n                  ref=\"userSelect\"\n                  isMulti={true}\n                  className=\"reviewer-select\"\n                  placeholder={gettext('Search users')}\n                  onSelectChange={this.handleSelectChange}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor\n                  repoID={this.props.repoID}\n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareToUser}>{gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&\n              this.state.errorMsg.map((item, index) => {\n                let errMessage = '';\n                if (item.email) {\n                  errMessage = item.email + ': ' + item.error_msg;\n                } else {\n                  errMessage = item;\n                }\n                return (\n                  <tr key={index}>\n                    <td colSpan={3}><p className=\"error\">{errMessage}</p></td>\n                  </tr>\n                );\n              })\n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"50%\">{gettext('User')}</th>\n                <th width=\"35%\">{gettext('Permission')}</th>\n                <th width=\"15%\"></th>\n              </tr>\n            </thead>\n            <UserList\n              items={sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem}\n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nSysAdminShareToUser.propTypes = propTypes;\n\nexport default SysAdminShareToUser;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { isPro, gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\nimport SharePermissionEditor from '../../select-editor/share-permission-editor';\nimport { SeahubSelect, NoGroupMessage } from '../../common/select';\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  };\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  };\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.group_id);\n  };\n\n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item, permission);\n  };\n\n  render() {\n    let item = this.props.item;\n    let currentPermission = Utils.getSharedPermission(item);\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className='name'>{item.group_name}</td>\n        <td>\n          <SharePermissionEditor\n            repoID={item.repo_id}\n            isTextMode={true}\n            autoFocus={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={currentPermission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n          />\n        </td>\n        <td>\n          <span\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem}\n            title={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nGroupItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nclass GroupList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <GroupItem\n              key={index}\n              item={item}\n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nGroupList.propTypes = {\n  items: PropTypes.array.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemPath: PropTypes.string.isRequired,\n  itemType: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  isRepoOwner: PropTypes.bool.isRequired,\n};\n\nclass SysAdminShareToGroup extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      permission: 'rw',\n      sharedItems: []\n    };\n    this.options = [];\n    this.permissions = ['rw', 'r'];\n    if (isPro) {\n      this.permissions.push('admin', 'cloud-edit', 'preview');\n    }\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n  };\n\n  componentDidMount() {\n    this.loadOptions();\n    this.listSharedGroups();\n  }\n\n  loadOptions = () => {\n    seafileAPI.shareableGroups().then((res) => {\n      this.options = [];\n      for (let i = 0 ; i < res.data.length; i++) {\n        let obj = {};\n        obj.value = res.data[i].name;\n        obj.id = res.data[i].id;\n        obj.label = res.data[i].name;\n        this.options.push(obj);\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  listSharedGroups = () => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminListRepoSharedItems(repoID, 'group').then((res) => {\n      if(res.data.length !== 0) {\n        this.setState({\n          sharedItems: res.data\n        });\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  };\n\n  shareToGroup = () => {\n    let groups = [];\n    let repoID = this.props.repoID;\n    if (this.state.selectedOption && this.state.selectedOption.length > 0 ) {\n      for (let i = 0; i < this.state.selectedOption.length; i ++) {\n        groups[i] = this.state.selectedOption[i].id;\n      }\n    }\n    seafileAPI.sysAdminAddRepoSharedItem(repoID, 'group', groups, this.state.permission).then(res => {\n      let errorMsg = [];\n      if (res.data.failed.length > 0) {\n        for (let i = 0 ; i < res.data.failed.length ; i++) {\n          errorMsg[i] = res.data.failed[i];\n        }\n      }\n      let items = res.data.success;\n      this.setState({\n        errorMsg: errorMsg,\n        sharedItems: this.state.sharedItems.concat(items),\n        selectedOption: null,\n        permission: 'rw',\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteShareItem = (groupID) => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminDeleteRepoSharedItem(repoID, 'group', groupID).then(() => {\n      this.setState({\n        sharedItems: this.state.sharedItems.filter(item => { return item.group_id !== groupID; })\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onChangeUserPermission = (item, permission) => {\n    let repoID = this.props.repoID;\n    let groupID = item.group_id;\n    seafileAPI.sysAdminUpdateRepoSharedItemPermission(repoID, 'group', groupID, permission).then(() => {\n      this.updateSharedItems(item, permission);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateSharedItems = (item, permission) => {\n    let groupID = item.group_id;\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      let sharedItemGroupID = sharedItem.group_id;\n      if (groupID === sharedItemGroupID) {\n        sharedItem.permission = permission;\n        sharedItem.is_admin = permission === 'admin' ? true : false;\n      }\n      return sharedItem;\n    });\n    this.setState({sharedItems: sharedItems});\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('Group')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <SeahubSelect\n                  onChange={this.handleSelectChange}\n                  options={this.options}\n                  placeholder={gettext('Select groups')}\n                  maxMenuHeight={200}\n                  value={this.state.selectedOption}\n                  components={{ NoOptionsMessage: NoGroupMessage }}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor\n                  repoID={this.props.repoID}\n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareToGroup}>{gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&\n              this.state.errorMsg.map((item, index) => {\n                let errMessage = item.group_name + ': ' + item.error_msg;\n                return (\n                  <tr key={index}>\n                    <td colSpan={3}><p className=\"error\">{errMessage}</p></td>\n                  </tr>\n                );\n              })\n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"50%\">{gettext('Group')}</th>\n                <th width=\"35%\">{gettext('Permission')}</th>\n                <th width=\"15%\"></th>\n              </tr>\n            </thead>\n            <GroupList\n              items={this.state.sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem}\n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nSysAdminShareToGroup.propTypes = propTypes;\n\nexport default SysAdminShareToGroup;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SysAdminShareToUser from './sysadmin-share-to-user';\nimport SysAdminShareToGroup from './sysadmin-share-to-group';\nimport '../../../css/share-link-dialog.css';\n\nconst propTypes = {\n  itemName: PropTypes.string.isRequired,\n  itemPath: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  repoEncrypted: PropTypes.bool,\n  userPerm: PropTypes.string,\n  enableDirPrivateShare: PropTypes.bool\n};\n\nclass SysAdminShareDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: this.getInitialActiveTab(),\n      isRepoOwner: false\n    };\n  }\n\n  getInitialActiveTab = () => {\n    return 'shareToUser';\n  };\n\n  toggle = (tab) => {\n    if (this.state.activeTab !== tab) {\n      this.setState({activeTab: tab});\n    }\n  };\n\n  renderDirContent = () => {\n    let activeTab = this.state.activeTab;\n    const { enableDirPrivateShare, isGroupOwnedRepo } = this.props;\n    return (\n      <Fragment>\n        <div className=\"share-dialog-side\">\n          <Nav pills>\n            {enableDirPrivateShare &&\n              <Fragment>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToUser' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToUser')}>\n                    {gettext('Share to user')}\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToGroup' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToGroup')}>\n                    {gettext('Share to group')}\n                  </NavLink>\n                </NavItem>\n              </Fragment>\n            }\n          </Nav>\n        </div>\n        <div className=\"share-dialog-main\">\n          <TabContent activeTab={this.state.activeTab}>\n            {enableDirPrivateShare &&\n              <Fragment>\n                <TabPane tabId=\"shareToUser\">\n                  <SysAdminShareToUser itemType={'library'} isGroupOwnedRepo={isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} isRepoOwner={this.state.isRepoOwner}/>\n                </TabPane>\n                <TabPane tabId=\"shareToGroup\">\n                  <SysAdminShareToGroup itemType={'library'} isGroupOwnedRepo={isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} isRepoOwner={this.state.isRepoOwner}/>\n                </TabPane>\n              </Fragment>\n            }\n          </TabContent>\n        </div>\n      </Fragment>\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <Modal isOpen={true} style={{maxWidth: '720px'}} className=\"share-dialog\" toggle={this.props.toggleDialog}>\n          <ModalHeader toggle={this.props.toggleDialog}>{gettext('Share')} <span className=\"op-target\" title={this.props.itemName}>{this.props.itemName}</span></ModalHeader>\n          <ModalBody className=\"share-dialog-content\">\n            {this.renderDirContent()}\n          </ModalBody>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nSysAdminShareDialog.propTypes = propTypes;\n\nexport default SysAdminShareDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nconst propTypes = {\n  itemName: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n};\n\nclass SysAdminLibHistorySettingDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      keepDays: -1,\n      expireDays: 30,\n      disabled: true,\n      allHistory: true,\n      noHistory: false,\n      autoHistory: false,\n      errorInfo: ''\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.sysAdminGetRepoHistorySetting(this.props.repoID).then(res => {\n      this.setState({\n        keepDays: res.data.keep_days,\n        allHistory: res.data.keep_days < 0 ? true : false,\n        noHistory: res.data.keep_days === 0 ? true : false,\n        autoHistory: res.data.keep_days > 0 ? true : false,\n        disabled: res.data.keep_days > 0 ? false : true,\n        expireDays: res.data.keep_days > 0 ? res.data.keep_days : 30,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  submit = () => {\n    let days = this.state.keepDays;\n    if (this.state.autoHistory) {\n      days = this.state.expireDays;\n    }\n    let repoID = this.props.repoID;\n    let reg = /^-?\\d+$/;\n    let flag = reg.test(days);\n    if (flag) {\n      let message = gettext('Successfully set library history.');\n      seafileAPI.sysAdminUpdateRepoHistorySetting(repoID, days).then(res => {\n        toaster.success(message);\n        this.setState({keepDays: res.data.keep_days});\n        this.props.toggleDialog();\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      this.setState({\n        errorInfo: gettext('Please enter a non-negative integer'),\n      });\n    }\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.submit();\n      e.preventDefault();\n    }\n  };\n\n  onChange = (e) => {\n    let num = e.target.value;\n    this.setState({\n      keepDays: num,\n      expireDays: num,\n    });\n  };\n\n  setLimitDays = (type) => {\n    if (type === 'allHistory') {\n      this.setState({\n        keepDays: -1,\n      });\n    } else if (type === 'noHistory') {\n      this.setState({\n        keepDays: 0,\n      });\n    } else {\n      this.setState({\n        disabled: false\n      });\n    }\n\n    this.setState({\n      allHistory: type === 'allHistory' ? true : false,\n      noHistory: type === 'noHistory' ? true : false,\n      autoHistory: type === 'autoHistory' ? true : false,\n    });\n  };\n\n  render() {\n    const itemName = this.props.itemName;\n    return (\n      <Modal isOpen={true} toggle={this.props.toggleDialog}>\n        <ModalHeader toggle={this.props.toggleDialog}>\n          <span className=\"op-target\" title={itemName}>{itemName}</span>{' '}\n          {gettext('History Setting')}\n        </ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.allHistory} onChange={() => {this.setLimitDays('allHistory');}}/>{' '}\n              <Label>{gettext('Keep full history')}</Label>\n            </FormGroup>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.noHistory} onChange={() =>{this.setLimitDays('noHistory');}}/>{' '}\n              <Label>{gettext('Don\\'t keep history')}</Label>\n            </FormGroup>\n            <FormGroup check>\n              <Input type=\"radio\" name=\"radio1\" checked={this.state.autoHistory} onChange={() =>{this.setLimitDays('autoHistory');}}/>{' '}\n              <Label>{gettext('Only keep a period of history:')}</Label>\n              <Input\n                type=\"text\"\n                className=\"expire-input\"\n                value={this.state.expireDays}\n                onChange={this.onChange}\n                disabled={this.state.disabled}\n                onKeyDown={this.handleKeyDown}\n              />{' '}\n              <Label><span>{gettext('days')}</span></Label>\n            </FormGroup>\n            {this.state.errorInfo && <Alert color=\"danger\">{this.state.errorInfo}</Alert>}\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.submit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminLibHistorySettingDialog.propTypes = propTypes;\n\nexport default SysAdminLibHistorySettingDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot, isPro } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport ModalPortal from '../../../components/modal-portal';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport TransferDialog from '../../../components/dialog/transfer-dialog';\nimport DeleteRepoDialog from '../../../components/dialog/delete-repo-dialog';\nimport SysAdminShareDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-share-dialog';\nimport SysAdminLibHistorySettingDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-lib-history-setting-dialog';\nimport UserLink from '../user-link';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  sortByFileCount = (e) => {\n    e.preventDefault();\n    this.props.sortItems('file_count');\n  };\n\n  sortBySize = (e) => {\n    e.preventDefault();\n    this.props.sortItems('size');\n  };\n\n  render() {\n    // offer 'sort' only for 'all repos'\n    const { loading, errorMsg, items, pageInfo, curPerPage, sortBy } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const initialSortIcon = <span className=\"fas fa-sort\"></span>;\n      const sortIcon = <span className=\"fas fa-caret-down\"></span>;\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\">{/*icon*/}</th>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"15%\">\n                  {sortBy != undefined ?\n                    <Fragment>\n                      <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByFileCount}>{gettext('Files')} {sortBy == 'file_count' ? sortIcon : initialSortIcon}</a>{' / '}\n                      <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortBySize}>{gettext('Size')} {sortBy == 'size' ? sortIcon : initialSortIcon}</a>\n                    </Fragment> :\n                    gettext('Files') / gettext('Size')\n                  }\n                </th>\n                <th width=\"32%\">ID</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  repo={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  onDeleteRepo={this.props.onDeleteRepo}\n                  onTransferRepo={this.props.onTransferRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageList}\n            gotoNextPage={this.getNextPageList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onRestoreRepo: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  resetPerPage: PropTypes.func,\n  pageInfo: PropTypes.object,\n  curPerPage: PropTypes.number,\n  sortItems: PropTypes.func,\n  sortBy: PropTypes.string,\n  onTransferRepo: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isShareDialogOpen: false,\n      isDeleteDialogOpen: false,\n      isTransferDialogOpen: false,\n      isHistorySettingDialogOpen: false,\n      isRepoDeleted: false,\n    };\n  }\n\n  onDeleteRepo = (repo) => {\n    seafileAPI.sysAdminDeleteRepo(repo.id).then((res) => {\n      this.props.onDeleteRepo(repo);\n      this.setState({\n        isDeleteDialogOpen: false,\n        isRepoDeleted: true,\n      });\n      const msg = gettext('Successfully deleted {name}.').replace('{name}', repo.name);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n\n      this.setState({isRepoDeleted: false});\n    });\n  };\n\n  onTransferRepo = (owner) => {\n    seafileAPI.sysAdminTransferRepo(this.props.repo.id, owner.email).then((res) => {\n      this.props.onTransferRepo(res.data);\n      let message = gettext('Successfully transferred the library.');\n      toaster.success(message);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n    this.toggleTransferDialog();\n  };\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Share':\n        this.toggleShareDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Transfer':\n        this.toggleTransferDialog();\n        break;\n      case 'History Setting':\n        this.toggleHistorySettingDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  toggleShareDialog = () => {\n    this.setState({isShareDialogOpen: !this.state.isShareDialogOpen});\n  };\n\n  toggleDeleteDialog = () => {\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  toggleTransferDialog = () => {\n    this.setState({isTransferDialogOpen: !this.state.isTransferDialogOpen});\n  };\n\n  toggleHistorySettingDialog = () => {\n    this.setState({isHistorySettingDialogOpen: !this.state.isHistorySettingDialogOpen});\n  };\n\n  renderRepoName = () => {\n    const { repo } = this.props;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return '--';\n    }\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Share':\n        translateResult = gettext('Share');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n      case 'History Setting':\n        translateResult = gettext('History Setting');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  };\n\n  getOperations = () => {\n    const { repo } = this.props;\n    let operations = ['Delete', 'Transfer'];\n    if (!repo.encrypted) {\n      operations.push('Share');\n    }\n    operations.push('History Setting');\n    return operations;\n  };\n\n  render () {\n    const { repo } = this.props;\n    const {\n      isOpIconShown,\n      isShareDialogOpen,\n      isDeleteDialogOpen,\n      isTransferDialogOpen,\n      isHistorySettingDialogOpen\n    } = this.state;\n    let iconUrl = Utils.getLibIconUrl(repo);\n    let iconTitle = Utils.getLibIconTitle(repo);\n    const index = repo.owner_email.indexOf('@seafile_group');\n    let isGroupOwnedRepo = index != -1;\n    let departmentID;\n    if (isGroupOwnedRepo) {\n      departmentID = repo.owner_email.substring(0, index);\n    }\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{`${repo.file_count} / ${Utils.bytesToSize(repo.size)}`}</td>\n          <td>{repo.id}</td>\n          <td>\n            {isGroupOwnedRepo ?\n              <Link to={`${siteRoot}sys/departments/${departmentID}/`}>{repo.owner_name}</Link> :\n              <UserLink email={repo.owner_email} name={repo.owner_name} />\n            }\n          </td>\n          <td>\n            {(!isGroupOwnedRepo && isOpIconShown) &&\n            <OpMenu\n              operations={this.getOperations()}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isShareDialogOpen &&\n          <ModalPortal>\n            <SysAdminShareDialog\n              itemName={repo.name}\n              itemPath={'/'}\n              repoID={repo.id}\n              isGroupOwnedRepo={isGroupOwnedRepo}\n              repoEncrypted={repo.encrypted}\n              enableDirPrivateShare={true}\n              userPerm={repo.permission}\n              toggleDialog={this.toggleShareDialog}\n            />\n          </ModalPortal>\n        }\n        {isDeleteDialogOpen &&\n          <ModalPortal>\n            <DeleteRepoDialog\n              repo={repo}\n              isRepoDeleted={this.state.isRepoDeleted}\n              onDeleteRepo={this.onDeleteRepo}\n              toggle={this.toggleDeleteDialog}\n            />\n          </ModalPortal>\n        }\n        {isTransferDialogOpen &&\n          <ModalPortal>\n            <TransferDialog\n              itemName={repo.name}\n              submit={this.onTransferRepo}\n              canTransferToDept={false}\n              toggleDialog={this.toggleTransferDialog}\n            />\n          </ModalPortal>\n        }\n        {isHistorySettingDialogOpen &&\n          <ModalPortal>\n            <SysAdminLibHistorySettingDialog\n              repoID={repo.id}\n              itemName={repo.name}\n              toggleDialog={this.toggleHistorySettingDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  repo: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onTransferRepo: PropTypes.func.isRequired,\n};\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminCreateRepoDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-create-repo-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport ReposNav from './repos-nav';\nimport Content from './repos';\n\nclass AllRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      repos: [],\n      pageInfo: {},\n      perPage: 25,\n      sortBy: '',\n      isCreateRepoDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage, sortBy } = this.state;\n    this.setState({\n      sortBy: urlParams.get('order_by') || sortBy,\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getReposByPage(this.state.currentPage);\n    });\n  }\n\n  toggleCreateRepoDialog = () => {\n    this.setState({isCreateRepoDialogOpen: !this.state.isCreateRepoDialogOpen});\n  };\n\n  getReposByPage = (page) => {\n    const { perPage, sortBy } = this.state;\n    seafileAPI.sysAdminListAllRepos(page, perPage, sortBy).then((res) => {\n      this.setState({\n        loading: false,\n        repos: res.data.repos,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  sortItems = (sortBy) => {\n    this.setState({\n      currentPage: 1,\n      sortBy: sortBy\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { currentPage, sortBy } = this.state;\n      searchParams.set('page', currentPage);\n      searchParams.set('order_by', sortBy);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.getReposByPage(currentPage);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getReposByPage(1);\n    });\n  };\n\n  createRepo = (repoName, Owner) => {\n    seafileAPI.sysAdminCreateRepo(repoName, Owner).then(res => {\n      this.state.repos.unshift(res.data);\n      this.setState({\n        repos: this.state.repos\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onDeleteRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  onTransferRepo = (targetRepo) => {\n    let repos = this.state.repos.map((item) => {\n      return item.id == targetRepo.id ? targetRepo : item;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search libraries by name or ID')}\n      submit={this.searchRepos}\n    />;\n  };\n\n  searchRepos = (repoNameOrID) => {\n    if (this.getValueLength(repoNameOrID) < 3) {\n      toaster.notify(gettext('Required at least three letters.'));\n      return;\n    }\n    navigate(`${siteRoot}sys/search-libraries/?name_or_id=${encodeURIComponent(repoNameOrID)}`);\n  };\n\n  getValueLength(str) {\n    let code, len = 0;\n    for (let i = 0, length = str.length; i < length; i++) {\n      code = str.charCodeAt(i);\n      if (code === 10) { //solve enter problem\n        len += 2;\n      } else if (code < 0x007f) {\n        len += 1;\n      } else if (code >= 0x0080 && code <= 0x07ff) {\n        len += 2;\n      } else if (code >= 0x0800 && code <= 0xffff) {\n        len += 3;\n      }\n    }\n    return len;\n  }\n\n  render() {\n    let { isCreateRepoDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleCreateRepoDialog}>\n            <i className=\"fas fa-plus-square text-secondary mr-1\"></i>{gettext('New Library')}\n          </Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"all\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repos}\n                sortBy={this.state.sortBy}\n                sortItems={this.sortItems}\n                pageInfo={this.state.pageInfo}\n                curPerPage={this.state.perPage}\n                getListByPage={this.getReposByPage}\n                resetPerPage={this.resetPerPage}\n                onDeleteRepo={this.onDeleteRepo}\n                onTransferRepo={this.onTransferRepo}\n              />\n            </div>\n          </div>\n        </div>\n        {isCreateRepoDialogOpen &&\n        <SysAdminCreateRepoDialog\n          createRepo={this.createRepo}\n          toggleDialog={this.toggleCreateRepoDialog}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default AllRepos;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport ReposNav from './repos-nav';\n\nclass Content extends Component {\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"33%\">{gettext('Name')}</th>\n                <th width=\"34%\">ID</th>\n                <th width=\"33%\">{gettext('Description')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item}/>);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return table;\n    }\n  }\n}\n\n\nContent.propTypes = {\n  resetPerPage: PropTypes.func,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  currentPage: PropTypes.number,\n  curPerPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n  render() {\n    const item = this.props.item;\n    return (\n      <tr>\n        <td><Link to={`${siteRoot}sys/libraries/${item.id}/`}>{item.name}</Link></td>\n        <td>{item.id}</td>\n        <td>{item.description}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass SystemRepo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetSystemRepoInfo().then((res) => {\n      let items = [];\n      items.push(res.data);\n      this.setState({\n        items: items,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"system\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SystemRepo;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport ModalPortal from '../../../components/modal-portal';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport UserLink from '../user-link';\nimport ReposNav from './repos-nav';\n\nconst { trashReposExpireDays } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No deleted libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <p className=\"mt-4 small text-secondary\">{gettext('Tip: libraries deleted {trashReposExpireDays} days ago will be cleaned automatically.').replace('{trashReposExpireDays}', trashReposExpireDays)}</p>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\">{/*icon*/}</th>\n                <th width=\"43%\">{gettext('Name')}</th>\n                <th width=\"27%\">{gettext('Owner')}</th>\n                <th width=\"20%\">{gettext('Deleted Time')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  repo={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  onDeleteRepo={this.props.onDeleteRepo}\n                  onRestoreRepo={this.props.onRestoreRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageList}\n            gotoNextPage={this.getNextPageList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onRestoreRepo: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  resetPerPage: PropTypes.func,\n  pageInfo: PropTypes.object,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false,\n      isDeleteRepoDialogOpen: false,\n      isRestoreRepoDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onDeleteRepo = () => {\n    const repo = this.props.repo;\n    seafileAPI.sysAdminDeleteTrashRepo(repo.id).then((res) => {\n      this.props.onDeleteRepo(repo);\n      const msg = gettext('Successfully deleted {name}.').replace('{name}', repo.name);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onRestoreRepo = () => {\n    const repo = this.props.repo;\n    seafileAPI.sysAdminRestoreTrashRepo(repo.id).then((res) => {\n      this.props.onRestoreRepo(repo);\n      let message = gettext('Successfully restored the library.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleDeleteRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteRepoDialogOpen: !this.state.isDeleteRepoDialogOpen});\n  };\n\n  toggleRestoreRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isRestoreRepoDialogOpen: !this.state.isRestoreRepoDialogOpen});\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Restore':\n        translateResult = gettext('Restore');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Restore':\n        this.toggleRestoreRepoDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteRepoDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  render () {\n    const { repo } = this.props;\n    const { isOpIconShown, isDeleteRepoDialogOpen, isRestoreRepoDialogOpen } = this.state;\n    const iconUrl = Utils.getLibIconUrl(repo);\n    const iconTitle = Utils.getLibIconTitle(repo);\n    const repoName = '<span class=\"op-target\">' + Utils.HTMLescape(repo.name) + '</span>';\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{repo.name}</td>\n          <td>\n            {repo.owner.indexOf('@seafile_group') == -1 ?\n              <UserLink email={repo.owner} name={repo.owner_name} /> :\n              repo.group_name}\n          </td>\n          <td>{moment(repo.delete_time).fromNow()}</td>\n          <td>\n            {isOpIconShown && (\n              <OpMenu\n                operations={['Restore', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            )}\n          </td>\n        </tr>\n        {isDeleteRepoDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Delete Library')}\n              message={gettext('Are you sure you want to delete {placeholder} completely?').replace('{placeholder}', repoName)}\n              executeOperation={this.onDeleteRepo}\n              confirmBtnText={gettext('Delete')}\n              toggleDialog={this.toggleDeleteRepoDialog}\n            />\n          </ModalPortal>\n        }\n        {isRestoreRepoDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Restore Library')}\n              message={gettext('Are you sure you want to restore {placeholder}?').replace('{placeholder}', repoName)}\n              executeOperation={this.onRestoreRepo}\n              confirmBtnText={gettext('Restore')}\n              toggleDialog={this.toggleRestoreRepoDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  repo: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onRestoreRepo: PropTypes.func,\n};\n\nclass TrashRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      repos: [],\n      pageInfo: {},\n      perPage: 25,\n      isCleanTrashDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getReposByPage(this.state.currentPage);\n    });\n  }\n\n  toggleCleanTrashDialog = () => {\n    this.setState({isCleanTrashDialogOpen: !this.state.isCleanTrashDialogOpen});\n  };\n\n  getReposByPage = (page) => {\n    let perPage = this.state.perPage;\n    seafileAPI.sysAdminListTrashRepos(page, perPage).then((res) => {\n      this.setState({\n        repos: res.data.repos,\n        pageInfo: res.data.page_info,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getReposByPage(1);\n    });\n  };\n\n  onDeleteRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  onRestoreRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  cleanTrash = () => {\n    seafileAPI.sysAdminCleanTrashRepos().then(res => {\n      this.setState({repos: []});\n      toaster.success(gettext('Successfully cleared trash.'));\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search libraries by owner')}\n      submit={this.searchRepos}\n    />;\n  };\n\n  searchRepos = (owner) => {\n    seafileAPI.sysAdminSearchTrashRepos(owner).then((res) => {\n      this.setState({\n        repos: res.data.repos,\n        pageInfo: null,\n        errorMsg: '', // necessary!\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  render() {\n    const { isCleanTrashDialogOpen } = this.state;\n\n    // enable 'search': <MainPanelTopbar search={this.getSearch()}>\n    return (\n      <Fragment>\n        {this.state.repos.length ? (\n          <MainPanelTopbar {...this.props}>\n            <Button className=\"operation-item\" onClick={this.toggleCleanTrashDialog}>{gettext('Clean')}</Button>\n          </MainPanelTopbar>\n        ) : <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"trash\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repos}\n                pageInfo={this.state.pageInfo}\n                onDeleteRepo={this.onDeleteRepo}\n                onRestoreRepo={this.onRestoreRepo}\n                getListByPage={this.getReposByPage}\n                resetPerPage={this.resetPerPage}\n                curPerPage={this.state.perPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isCleanTrashDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Clear Trash')}\n            message={gettext('Are you sure you want to clear trash?')}\n            executeOperation={this.cleanTrash}\n            confirmBtnText={gettext('Clear')}\n            toggleDialog={this.toggleCleanTrashDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default TrashRepos;\n","import React, { Component, Fragment } from 'react';\nimport { Form, FormGroup, Input, Label, Col } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './repos';\n\n\nclass SearchRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      currentPage: 1,\n      perPage: 25,\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      repos: [],\n      pageInfo: {},\n    };\n  }\n\n  componentDidMount() {\n    let params = (new URL(document.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      name: params.get('name_or_id') || '',\n      perPage: parseInt(params.get('per_page') || perPage),\n      currentPage: parseInt(params.get('page') || currentPage),\n    }, () => {\n      this.getRepos(this.state.currentPage);\n    });\n  }\n\n  getRepos = (page) => {\n    const { name, perPage } = this.state;\n    if (this.getValueLength(name) < 3) {\n      toaster.notify(gettext('Required at least three letters.'));\n      return;\n    }\n    seafileAPI.sysAdminSearchRepos(name, page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        errorMsg: '',\n        repos: res.data.repo_list,\n        pageInfo: res.data.page_info,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  searchRepos = () => {\n    const { currentPage } = this.state;\n    this.getRepos(currentPage);\n  };\n\n  onDeleteRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  onTransferRepo = (targetRepo) => {\n    let repos = this.state.repos.map((item) => {\n      return item.id == targetRepo.id ? targetRepo : item;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  handleNameInputChange = (e) => {\n    this.setState({\n      name: e.target.value,\n      currentPage: 1,\n    }, this.checkSubmitBtnActive);\n  };\n\n  checkSubmitBtnActive = () => {\n    const { name } = this.state;\n    this.setState({\n      isSubmitBtnActive: name.trim()\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive } = this.state;\n      if (isSubmitBtnActive) {\n        this.searchRepos();\n      }\n    }\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage,\n      currentPage: 1,\n    }, () => {\n      this.searchRepos();\n    });\n  };\n\n  getValueLength(str) {\n    let code, len = 0;\n    for (let i = 0, length = str.length; i < length; i++) {\n      code = str.charCodeAt(i);\n      if (code === 10) { //solve enter problem\n        len += 2;\n      } else if (code < 0x007f) {\n        len += 1;\n      } else if (code >= 0x0080 && code <= 0x07ff) {\n        len += 2;\n      } else if (code >= 0x0800 && code <= 0xffff) {\n        len += 3;\n      }\n    }\n    return len;\n  }\n\n  render() {\n    const { name, isSubmitBtnActive } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Libraries')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Libraries')}</h4>\n                <p className=\"text-secondary small\">{gettext('Tip: you can search by keyword in name or ID.')}</p>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Label for=\"name\" sm={1}>{gettext('Name or ID')}</Label>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"name\" id=\"name\" value={name} onChange={this.handleNameInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5, offset: 1}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.searchRepos}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.repos}\n                  pageInfo={this.state.pageInfo}\n                  curPerPage={this.state.perPage}\n                  getListByPage={this.getRepos}\n                  resetPerPage={this.resetPerPage}\n                  onDeleteRepo={this.onDeleteRepo}\n                  onTransferRepo={this.onTransferRepo}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchRepos;\n","class Dirent {\n  constructor(obj) {\n    this.name = obj.obj_name;\n    this.mtime = obj.last_update;\n    this.size = obj.file_size;\n    this.is_file = obj.is_file;\n  }\n\n  isDir() {\n    return !this.is_file;\n  }\n}\n\nexport default Dirent;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  repoName: PropTypes.string.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onPathClick: PropTypes.func.isRequired,\n  isSystemRepo: PropTypes.bool.isRequired,\n  repoID: PropTypes.string.isRequired,\n};\n\nclass DirPath extends React.Component {\n\n  onPathClick = (e) => {\n    let path = Utils.getEventData(e, 'path');\n    this.props.onPathClick(path);\n  };\n\n  turnPathToLink = (path) => {\n    path = path[path.length - 1] === '/' ? path.slice(0, path.length - 1) : path;\n    let pathList = path.split('/');\n    let nodePath = '';\n    let pathElem = pathList.map((item, index) => {\n      if (item === '') {\n        return null;\n      }\n      if (index === (pathList.length - 1)) {\n        return (\n          <Fragment key={index}>\n            <span className=\"path-split\">/</span>\n            <span className=\"path-file-name\">{item}</span>\n          </Fragment>\n        );\n      } else {\n        nodePath += '/' + item;\n        return (\n          <Fragment key={index} >\n            <span className=\"path-split\">/</span>\n            <a className=\"path-link\" data-path={nodePath} onClick={this.onPathClick}>{item}</a>\n          </Fragment>\n        );\n      }\n    });\n    return pathElem;\n  };\n\n  render() {\n    let { isSystemRepo, currentPath, repoName } = this.props;\n    let pathElem = this.turnPathToLink(currentPath);\n\n    return (\n      <div className=\"path-container\">\n        {isSystemRepo ?\n          <a href={`${siteRoot}sys/system-library/`}>{gettext('System')}</a> :\n          <a href={`${siteRoot}sys/all-libraries/`}>{gettext('All')}</a>\n        }\n        <span className=\"path-split\">/</span>\n        {(currentPath === '/' || currentPath === '') ?\n          <span className=\"path-repo-name\">{repoName}</span>:\n          <a className=\"path-link\" data-path=\"/\" onClick={this.onPathClick}>{repoName}</a>\n        }\n        {pathElem}\n      </div>\n    );\n  }\n}\n\nDirPath.propTypes = propTypes;\n\nexport default DirPath;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport Loading from '../../../components/loading';\n\nclass DirentItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  openFolder = () => {\n    this.props.openFolder(this.props.dirent);\n  };\n\n  deleteDirent = (e) => {\n    e.preventDefault();\n    this.props.deleteDirent(this.props.dirent);\n  };\n\n  downloadDirent = (e) => {\n    e.preventDefault();\n    this.props.downloadDirent(this.props.dirent);\n  };\n\n  render () {\n    let { isOpIconShown } = this.state;\n    let { dirent, fromSystemRepo } = this.props;\n    let iconUrl = Utils.getDirentIcon(dirent);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td className=\"text-center\"><img src={iconUrl} width=\"24\" alt='' /></td>\n          <td>\n            {dirent.is_file ?\n              dirent.name :\n              <Link to=\"#\" onClick={this.openFolder}>{dirent.name}</Link>\n            }\n          </td>\n          <td>\n            {isOpIconShown && fromSystemRepo &&\n              <a href=\"#\" className=\"op-icon sf2-icon-delete\" title={gettext('Delete')} onClick={this.deleteDirent}></a>\n            }\n            {isOpIconShown && dirent.is_file &&\n            <a href=\"#\" className=\"op-icon sf2-icon-download\" title={gettext('Download')} onClick={this.downloadDirent}></a>\n            }\n          </td>\n          <td>{dirent.size}</td>\n          <td>{moment(dirent.mtime).fromNow()}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nDirentItem.propTypes = {\n  dirent: PropTypes.object.isRequired,\n  fromSystemRepo: PropTypes.bool.isRequired,\n  deleteDirent: PropTypes.func.isRequired,\n  openFolder: PropTypes.func.isRequired,\n  downloadDirent: PropTypes.func.isRequired,\n};\n\nclass DirContent extends React.Component {\n\n  render() {\n    let { loading, errorMsg, direntList } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    }\n\n    if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    }\n\n    return (\n      <Fragment>\n        <table className=\"table-hover\">\n          <thead>\n            <tr>\n              <th width=\"5%\">{/*icon*/}</th>\n              <th width=\"55%\">{gettext('Name')}</th>\n              <th width=\"10%\">{/*operation*/}</th>\n              <th width=\"15%\">{gettext('Size')}</th>\n              <th width=\"15%\">{gettext('Last Update')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {direntList.map((dirent, index) => {\n              return <DirentItem\n                key={index}\n                dirent={dirent}\n                openFolder={this.props.openFolder}\n                deleteDirent={this.props.deleteDirent}\n                downloadDirent={this.props.downloadDirent}\n                fromSystemRepo={this.props.fromSystemRepo}\n              />;\n            })}\n          </tbody>\n        </table>\n      </Fragment>\n    );\n  }\n}\n\nDirContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  openFolder: PropTypes.func.isRequired,\n  direntList: PropTypes.array.isRequired,\n  fromSystemRepo: PropTypes.bool.isRequired,\n  deleteDirent: PropTypes.func.isRequired,\n  downloadDirent: PropTypes.func.isRequired,\n};\n\nexport default DirContent;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport axios from 'axios';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport CreateFolderDialog from '../../../components/dialog/create-folder-dialog';\nimport Dirent from '../../../models/system-admin/dirent';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport DirPathBar from './dir-path-bar';\nimport DirContent from './dir-content';\n\nclass DirView extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      isSystemRepo: false,\n      repoName: '',\n      path: '',\n      direntList: [],\n      isNewFolderDialogOpen: false\n    };\n    this.fileInput = React.createRef();\n  }\n\n  componentDidMount () {\n    this.loadDirentList('/');\n  }\n\n  onPathClick = (path) => {\n    this.loadDirentList(path);\n  };\n\n  toggleNewFolderDialog = () => {\n    this.setState({isNewFolderDialogOpen: !this.state.isNewFolderDialogOpen});\n  };\n\n  createNewFolder = (path) => {\n    let folderName = Utils.getFileName(path);\n    seafileAPI.sysAdminCreateSysRepoFolder(this.props.repoID, this.state.path, folderName).then(res => {\n      let new_dirent = new Dirent(res.data);\n      let direntList = this.state.direntList;\n      direntList.unshift(new_dirent);\n      this.setState({\n        direntList: direntList\n      });\n      this.toggleNewFolderDialog();\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  openFolder = (dirent) => {\n    let direntPath = Utils.joinPath(this.state.path, dirent.name);\n    if (!dirent.is_file) {\n      this.loadDirentList(direntPath);\n    }\n  };\n\n  loadDirentList = (path) => {\n    const repoID = this.props.repoID;\n    seafileAPI.sysAdminListRepoDirents(repoID, path).then(res => {\n      const { is_system_library: isSystemRepo, repo_name: repoName, dirent_list } = res.data;\n      let direntList = [];\n      dirent_list.forEach(item => {\n        let dirent = new Dirent(item);\n        direntList.push(dirent);\n      });\n      this.setState({\n        loading: false,\n        repoName: repoName,\n        isSystemRepo: isSystemRepo,\n        direntList: direntList,\n        path: path,\n      }, () => {\n        let url = siteRoot + 'sys/libraries/' + repoID + '/' + encodeURIComponent(this.state.repoName) + Utils.encodePath(path);\n        window.history.replaceState({url: url, path: path}, path, url);\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteDirent = (dirent) => {\n    let path = Utils.joinPath(this.state.path, dirent.name);\n    seafileAPI.sysAdminDeleteRepoDirent(this.props.repoID, path).then(res => {\n      toaster.success(gettext('Successfully deleted 1 item.'));\n      let direntList = this.state.direntList.filter(item => {\n        return item.name != dirent.name;\n      });\n      this.setState({\n        direntList: direntList\n      });\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  downloadDirent = (dirent) => {\n    let path = Utils.joinPath(this.state.path, dirent.name);\n    seafileAPI.sysAdminGetRepoFileDownloadURL(this.props.repoID, path).then(res => {\n      location.href = res.data.download_url;\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  };\n\n  onFileInputChange = () => {\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n\n    let { path } = this.state;\n    seafileAPI.sydAdminGetSysRepoItemUploadURL(path).then(res => {\n      let formData = new FormData();\n      formData.append('parent_dir', path);\n      formData.append('file', file);\n      axios.post(res.data.upload_link, formData).then(res => {\n        const fileObj = res.data[0];\n        let newDirent = new Dirent({\n          'is_file': true,\n          'obj_name': fileObj.name,\n          'file_size': Utils.bytesToSize(fileObj.size),\n          'last_update': (new Date()).getTime()\n        });\n        let direntList = this.state.direntList;\n        const dirs = direntList.filter(item => { return !item.is_file; });\n        direntList.splice(dirs.length, 0, newDirent);\n        this.setState({\n          direntList: direntList\n        });\n      });\n    }).catch((err) => {\n      let errMessage = Utils.getErrorMsg(err);\n      toaster.danger(errMessage);\n    });\n  };\n\n  checkDuplicatedName = (newName) => {\n    let direntList = this.state.direntList;\n    let isDuplicated = direntList.some(object => {\n      return object.name === newName;\n    });\n    return isDuplicated;\n  };\n\n  render() {\n    const { loading, errorMsg,\n      repoName, direntList, isSystemRepo, path,\n      isNewFolderDialogOpen } = this.state;\n    const { repoID } = this.props;\n\n    return (\n      <Fragment>\n        {isSystemRepo ?\n          <MainPanelTopbar {...this.props}>\n            <Fragment>\n              <input className=\"d-none\" type=\"file\" onChange={this.onFileInputChange} ref={this.fileInput} />\n              <Button className=\"operation-item\" onClick={this.openFileInput}>{gettext('Upload')}</Button>\n              <Button className=\"operation-item\" onClick={this.toggleNewFolderDialog}>{gettext('New Folder')}</Button>\n            </Fragment>\n          </MainPanelTopbar> : <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path align-items-center\">\n              <DirPathBar\n                isSystemRepo={isSystemRepo}\n                repoID={repoID}\n                repoName={repoName}\n                currentPath={path}\n                onPathClick={this.onPathClick}\n              />\n            </div>\n            <div className=\"cur-view-content\">\n              <DirContent\n                loading={loading}\n                errorMsg={errorMsg}\n                fromSystemRepo={isSystemRepo}\n                direntList={direntList}\n                openFolder={this.openFolder}\n                deleteDirent={this.deleteDirent}\n                downloadDirent={this.downloadDirent}\n              />\n            </div>\n          </div>\n        </div>\n        {isNewFolderDialogOpen &&\n          <CreateFolderDialog\n            parentPath={path}\n            checkDuplicatedName={this.checkDuplicatedName}\n            onAddFolder={this.createNewFolder}\n            addFolderCancel={this.toggleNewFolderDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nDirView.propTypes = {\n  repoID: PropTypes.string,\n};\n\nexport default DirView;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\n\nconst propTypes = {\n  createGroup: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminCreateGroupDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupName: '',\n      ownerEmail: '',\n      errMessage: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleRepoNameChange = (e) => {\n    if (!e.target.value.trim()) {\n      this.setState({isSubmitBtnActive: false});\n    } else {\n      this.setState({isSubmitBtnActive: true});\n    }\n\n    this.setState({groupName: e.target.value});\n  };\n\n  handleSubmit = () => {\n    let groupName = this.state.groupName.trim();\n    this.props.createGroup(groupName, this.state.ownerEmail);\n  };\n\n  handleSelectChange = (option) => {\n    // option can be null\n    this.setState({\n      ownerEmail: option ? option.email : ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Group')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"groupName\">{gettext('Name')}</Label>\n              <Input\n                id=\"groupName\"\n                onKeyDown={this.handleKeyDown}\n                value={this.state.groupName}\n                onChange={this.handleRepoNameChange}\n                autoFocus={true}\n              />\n              <Label className=\"mt-2\">\n                {gettext('Owner')}\n                <span className=\"small text-secondary\">{gettext('(If left blank, owner will be admin)')}</span>\n              </Label>\n              <UserSelect\n                isMulti={false}\n                className=\"reviewer-select\"\n                placeholder={gettext('Select a user')}\n                onSelectChange={this.handleSelectChange}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminCreateGroupDialog.propTypes = propTypes;\n\nexport default SysAdminCreateGroupDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  groupName: PropTypes.string.isRequired,\n  transferGroup: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminTransferGroupDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      submitBtnDisabled: true\n    };\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({\n      selectedOption: option,\n      submitBtnDisabled: option == null\n    });\n  };\n\n  submit = () => {\n    const receiver = this.state.selectedOption.email;\n    this.props.transferGroup(receiver);\n    this.props.toggleDialog();\n  };\n\n  render() {\n    const { submitBtnDisabled } = this.state;\n    const groupName = '<span class=\"op-target\">' + Utils.HTMLescape(this.props.groupName) +'</span>';\n    const msg = gettext('Transfer Group {placeholder} to').replace('{placeholder}', groupName);\n    return (\n      <Modal isOpen={true} toggle={this.props.toggleDialog}>\n        <ModalHeader toggle={this.props.toggleDialog}>\n          <span dangerouslySetInnerHTML={{__html: msg}}></span>\n        </ModalHeader>\n        <ModalBody>\n          <UserSelect\n            ref=\"userSelect\"\n            isMulti={false}\n            className=\"reviewer-select\"\n            placeholder={gettext('Select a user')}\n            onSelectChange={this.handleSelectChange}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleDialog}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.submit} disabled={submitBtnDisabled}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminTransferGroupDialog.propTypes = propTypes;\n\nexport default SysAdminTransferGroupDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\nimport EmptyTip from '../../../components/empty-tip';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminTransferGroupDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-group-transfer-dialog';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No groups')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"40%\">{gettext('Owner')}</th>\n                <th width=\"20%\">{gettext('Created At')}</th>\n                <th width=\"5%\">{/* operation */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteGroup={this.props.deleteGroup}\n                  transferGroup={this.props.transferGroup}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getDeviceErrorsListByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  getListByPage: PropTypes.func.isRequired,\n  deleteGroup: PropTypes.func.isRequired,\n  transferGroup: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n      isTransferDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Transfer':\n        this.toggleTransferDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  toggleTransferDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isTransferDialogOpen: !this.state.isTransferDialogOpen});\n  };\n\n  deleteGroup = () => {\n    this.props.deleteGroup(this.props.item.id);\n  };\n\n  transferGroup = (receiver) => {\n    this.props.transferGroup(this.props.item.id, receiver);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, isTransferDialogOpen } = this.state;\n\n    let groupName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', groupName);\n\n    const groupUrl = item.parent_group_id == 0 ?\n      `${siteRoot}sys/groups/${item.id}/libraries/` :\n      `${siteRoot}sys/departments/${item.id}/`;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={groupUrl}>{item.name}</Link></td>\n          <td>\n            {item.owner == 'system admin' ?\n              '--' :\n              <UserLink email={item.owner} name={item.owner_name} />\n            }\n          </td>\n          <td>\n            <span title={moment(item.created_at).format('llll')}>{moment(item.created_at).fromNow()}</span>\n          </td>\n          <td>\n            {(isOpIconShown && item.owner != 'system admin') &&\n            <OpMenu\n              operations={['Delete', 'Transfer']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Group')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteGroup}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n        {isTransferDialogOpen &&\n          <SysAdminTransferGroupDialog\n            groupName={item.name}\n            transferGroup={this.transferGroup}\n            toggleDialog={this.toggleTransferDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteGroup: PropTypes.func.isRequired,\n  transferGroup: PropTypes.func.isRequired,\n};\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminCreateGroupDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-create-group-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport Content from './groups-content';\n\nclass Groups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      groupList: [],\n      pageInfo: {},\n      perPage: 25,\n      isCreateGroupDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getGroupListByPage(this.state.currentPage);\n    });\n  }\n\n  toggleCreateGroupDialog = () => {\n    this.setState({isCreateGroupDialogOpen: !this.state.isCreateGroupDialogOpen});\n  };\n\n  getGroupListByPage = (page) => {\n    seafileAPI.sysAdminListAllGroups(page, this.state.perPage).then((res) => {\n      this.setState({\n        loading: false,\n        groupList: res.data.groups,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getGroupListByPage(1);\n    });\n  };\n\n  createGroup = (groupName, OnwerEmail) => {\n    seafileAPI.sysAdminCreateNewGroup(groupName, OnwerEmail).then(res => {\n      let newGroupList = this.state.groupList;\n      newGroupList.unshift(res.data);\n      this.setState({\n        groupList: newGroupList\n      });\n      this.toggleCreateGroupDialog();\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteGroup = (groupID) => {\n    seafileAPI.sysAdminDismissGroupByID(groupID).then(res => {\n      let newGroupList = this.state.groupList.filter(item => {\n        return item.id != groupID;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  transferGroup = (groupID, receiverEmail) => {\n    seafileAPI.sysAdminTransferGroup(receiverEmail, groupID).then(res => {\n      let newGroupList = this.state.groupList.map(item => {\n        if (item.id == groupID) {\n          item = res.data;\n        }\n        return item;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully transferred the group.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search groups by name')}\n      submit={this.searchGroups}\n    />;\n  };\n\n  searchGroups = (name) => {\n    navigate(`${siteRoot}sys/search-groups/?name=${encodeURIComponent(name)}`);\n  };\n\n  render() {\n    let { isCreateGroupDialogOpen } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          <Fragment>\n            <Button className=\"operation-item\" onClick={this.toggleCreateGroupDialog}>{gettext('New Group')}</Button>\n            <a className=\"btn btn-secondary operation-item\" href={`${siteRoot}sys/groupadmin/export-excel/`}>{gettext('Export Excel')}</a>\n          </Fragment>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Groups')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.groupList}\n                pageInfo={this.state.pageInfo}\n                deleteGroup={this.deleteGroup}\n                transferGroup={this.transferGroup}\n                getListByPage={this.getGroupListByPage}\n                resetPerPage={this.resetPerPage}\n                curPerPage={this.state.perPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isCreateGroupDialogOpen &&\n          <SysAdminCreateGroupDialog\n            createGroup={this.createGroup}\n            toggleDialog={this.toggleCreateGroupDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Groups;\n","import React, { Component, Fragment } from 'react';\nimport { Form, FormGroup, Input, Label, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './groups-content';\n\nclass SearchGroups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      groupList: [],\n      pageInfo: null\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    this.setState({\n      name: params.get('name') || ''\n    }, this.getGroups);\n  }\n\n  getGroups = () => {\n    const { name } = this.state;\n    seafileAPI.sysAdminSearchGroups(name).then((res) => {\n      this.setState({\n        loading: false,\n        groupList: res.data.group_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteGroup = (groupID) => {\n    seafileAPI.sysAdminDismissGroupByID(groupID).then(res => {\n      let newGroupList = this.state.groupList.filter(item => {\n        return item.id != groupID;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  transferGroup = (groupID, receiverEmail) => {\n    seafileAPI.sysAdminTransferGroup(receiverEmail, groupID).then(res => {\n      let newGroupList = this.state.groupList.map(item => {\n        if (item.id == groupID) {\n          item = res.data;\n        }\n        return item;\n      });\n      this.setState({\n        groupList: newGroupList\n      });\n      toaster.success(gettext('Successfully transferred the group.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  handleNameInputChange = (e) => {\n    this.setState({\n      name: e.target.value\n    }, this.checkSubmitBtnActive);\n  };\n\n  checkSubmitBtnActive = () => {\n    const { name } = this.state;\n    this.setState({\n      isSubmitBtnActive: name.trim()\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive } = this.state;\n      if (isSubmitBtnActive) {\n        this.getGroups();\n      }\n    }\n  };\n\n  render() {\n    const { name, isSubmitBtnActive } = this.state;\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Groups')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Groups')}</h4>\n                <p className=\"text-secondary small\">{gettext('Tip: you can search by keyword in name.')}</p>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Label for=\"name\" sm={1}>{gettext('Name')}</Label>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"name\" id=\"name\" value={name} onChange={this.handleNameInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5, offset: 1}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getGroups}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.groupList}\n                  deleteGroup={this.deleteGroup}\n                  transferGroup={this.transferGroup}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchGroups;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired,\n  groupName: PropTypes.string.isRequired,\n  groupID: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'repos', urlPart: 'groups/' + this.props.groupID + '/libraries', text: gettext('Libraries')},\n      {name: 'members', urlPart: 'groups/' + this.props.groupID + '/members', text: gettext('Members')}\n    ];\n  }\n\n  render() {\n    const { groupName, currentItem } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/groups/`}>{gettext('Groups')}</Link> / {groupName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext, isPro } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport GroupNav from './group-nav';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\">{/* icon */}</th>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Size')}</th>\n                <th width=\"25%\">{gettext('Shared By')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  unshareRepo={this.props.unshareRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getDeviceErrorsListByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  unshareRepo: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isUnshareRepoDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleUnshareRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isUnshareRepoDialogOpen: !this.state.isUnshareRepoDialogOpen});\n  };\n\n  unshareRepo = () => {\n    const { item } = this.props;\n    this.props.unshareRepo(item.repo_id, item.name);\n    this.toggleUnshareRepoDialog();\n  };\n\n  renderRepoName = () => {\n    const { item } = this.props;\n    const repo = item;\n    repo.id = item.repo_id;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <a href={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</a>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return '--';\n    }\n  };\n\n  render() {\n    let { isOpIconShown, isUnshareRepoDialogOpen } = this.state;\n    let { item } = this.props;\n\n    let iconUrl = Utils.getLibIconUrl(item);\n    let iconTitle = Utils.getLibIconTitle(item);\n\n    let repoName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let dialogMsg = gettext('Are you sure you want to unshare {placeholder} ?').replace('{placeholder}', repoName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{Utils.bytesToSize(item.size)}</td>\n          <td>\n            <UserLink email={item.shared_by} name={item.shared_by_name} />\n          </td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-x3 ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Unshare')} onClick={this.toggleUnshareRepoDialog}></a>\n          </td>\n        </tr>\n        {isUnshareRepoDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Unshare Library')}\n            message={dialogMsg}\n            executeOperation={this.unshareRepo}\n            confirmBtnText={gettext('Unshare')}\n            toggleDialog={this.toggleUnshareRepoDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  unshareRepo: PropTypes.func.isRequired,\n};\n\nclass GroupRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      groupName: '',\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminListGroupRepos(this.props.groupID).then((res) => {\n      this.setState({\n        loading: false,\n        repoList: res.data.libraries,\n        groupName: res.data.group_name\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  unshareRepo = (repoID, repoName) => {\n    seafileAPI.sysAdminUnshareRepoFromGroup(this.props.groupID, repoID).then(res => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.repo_id != repoID;\n      });\n      this.setState({\n        repoList: newRepoList\n      });\n      const msg = gettext('Successfully unshared library {placeholder}')\n        .replace('{placeholder}', repoName);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <GroupNav\n              groupID={this.props.groupID}\n              groupName={this.state.groupName}\n              currentItem=\"repos\"\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n                unshareRepo={this.unshareRepo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nGroupRepos.propTypes = {\n  groupID: PropTypes.string,\n};\n\nexport default GroupRepos;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addMembers: PropTypes.func.isRequired\n};\n\nclass SysAdminGroupAddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOptions: null,\n      isSubmitBtnDisabled: true\n    };\n  }\n\n  handleSelectChange = (options) => {\n    this.setState({\n      selectedOptions: options,\n      isSubmitBtnDisabled: !options.length\n    });\n  };\n\n  addMembers = () => {\n    let emails = this.state.selectedOptions.map(item => item.email);\n    this.props.addMembers(emails);\n    this.props.toggle();\n  };\n\n  render() {\n    const { isSubmitBtnDisabled } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            ref=\"userSelect\"\n            isMulti={true}\n            className=\"reviewer-select\"\n            placeholder={gettext('Search users')}\n            onSelectChange={this.handleSelectChange}\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.addMembers} disabled={isSubmitBtnDisabled}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminGroupAddMemberDialog.propTypes = propTypes;\n\nexport default SysAdminGroupAddMemberDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminGroupAddMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-group-add-member-dialog';\nimport RoleSelector from '../../../components/single-selector';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport GroupNav from './group-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  toggleItemFreezed = (isFreezed) => {\n    this.setState({ isItemFreezed: isFreezed });\n  };\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No members')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\">{/* icon */}</th>\n                <th width=\"55%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Role')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  toggleItemFreezed={this.toggleItemFreezed}\n                  removeMember={this.props.removeMember}\n                  updateMemberRole={this.props.updateMemberRole}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageList}\n            gotoNextPage={this.getNextPageList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  removeMember: PropTypes.func.isRequired,\n  resetPerPage: PropTypes.func,\n  updateMemberRole: PropTypes.func.isRequired,\n  curPerPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  getListByPage: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.roleOptions = [\n      { value: 'Admin', text: gettext('Admin'), isSelected: false },\n      { value: 'Member', text: gettext('Member'), isSelected: false }\n    ];\n    this.state = {\n      highlighted: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({highlighted: true});\n  };\n\n  handleMouseLeave = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({highlighted: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  removeMember = () => {\n    const { item } = this.props;\n    this.props.removeMember(item.email, item.name);\n    this.toggleDeleteDialog();\n  };\n\n  updateMemberRole = (roleOption) => {\n    this.props.updateMemberRole(this.props.item.email, roleOption.value);\n  };\n\n  render() {\n    let { highlighted, isDeleteDialogOpen } = this.state;\n    let { item } = this.props;\n\n    let itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let dialogMsg = gettext('Are you sure you want to remove {placeholder} ?').replace('{placeholder}', itemName);\n\n    const { role: curRole } = item;\n    this.roleOptions = this.roleOptions.map(item => {\n      item.isSelected = item.value == curRole;\n      return item;\n    });\n    const currentSelectedOption = this.roleOptions.filter(item => item.isSelected)[0];\n\n    return (\n      <Fragment>\n        <tr className={highlighted ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={item.avatar_url} alt=\"\" className=\"rounded-circle\" width=\"24\" /></td>\n          <td><UserLink email={item.email} name={item.name} /></td>\n          <td>\n            {item.role == 'Owner' ?\n              gettext('Owner') :\n              <RoleSelector\n                isDropdownToggleShown={highlighted}\n                currentSelectedOption={currentSelectedOption}\n                options={this.roleOptions}\n                selectOption={this.updateMemberRole}\n                toggleItemFreezed={this.props.toggleItemFreezed}\n              />\n            }\n          </td>\n          <td>\n            {item.role != 'Owner' &&\n            <a href=\"#\" className={`action-icon sf2-icon-x3 ${highlighted ? '' : 'invisible'}`} title={gettext('Remove')} onClick={this.toggleDeleteDialog}></a>\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Remove Member')}\n            message={dialogMsg}\n            executeOperation={this.removeMember}\n            confirmBtnText={gettext('Remove')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  removeMember: PropTypes.func.isRequired,\n  updateMemberRole: PropTypes.func.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  toggleItemFreezed: PropTypes.func.isRequired\n};\n\nclass GroupMembers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      groupName: '',\n      memberList: [],\n      pageInfo: {},\n      currentPage: 1,\n      perPage: 25,\n      isAddMemberDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      currentPage: parseInt(urlParams.get('page') || currentPage),\n      perPage: parseInt(urlParams.get('per_page') || perPage)\n    }, () => {\n      this.getListByPage(this.state.currentPage);\n    });\n  }\n\n  getListByPage = (page) => {\n    const { perPage } = this.state;\n    seafileAPI.sysAdminListGroupMembers(this.props.groupID, page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        memberList: res.data.members,\n        groupName: res.data.group_name,\n        pageInfo: res.data.page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getListByPage(1);\n    });\n  };\n\n  toggleAddMemgerDialog = () => {\n    this.setState({isAddMemberDialogOpen: !this.state.isAddMemberDialogOpen});\n  };\n\n  addMembers = (emails) => {\n    seafileAPI.sysAdminAddGroupMember(this.props.groupID, emails).then(res => {\n      let newMemberList = res.data.success;\n      if (newMemberList.length) {\n        this.setState({\n          memberList: newMemberList.concat(this.state.memberList)\n        });\n        newMemberList.forEach(item => {\n          const msg = gettext('Successfully added {email_placeholder}')\n            .replace('{email_placeholder}', item.email);\n          toaster.success(msg);\n        });\n      }\n      res.data.failed.forEach(item => {\n        const msg = gettext('Failed to add {email_placeholder}: {error_msg_placeholder}')\n          .replace('{email_placeholder}', item.email)\n          .replace('{error_msg_placeholder}', item.error_msg);\n        toaster.danger(msg, {duration: 3});\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  removeMember = (email, name) => {\n    seafileAPI.sysAdminDeleteGroupMember(this.props.groupID, email).then(res => {\n      let newRepoList = this.state.memberList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({\n        memberList: newRepoList\n      });\n      toaster.success(gettext('Successfully removed {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateMemberRole = (email, role) => {\n    let isAdmin = role == 'Admin';\n    seafileAPI.sysAdminUpdateGroupMemberRole(this.props.groupID, email, isAdmin).then(res => {\n      let newRepoList = this.state.memberList.map(item => {\n        if (item.email == email) {\n          item.role = role;\n        }\n        return item;\n      });\n      this.setState({\n        memberList: newRepoList\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { isAddMemberDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddMemgerDialog}>{gettext('Add Member')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <GroupNav\n              currentItem=\"members\"\n              groupID={this.props.groupID}\n              groupName={this.state.groupName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.memberList}\n                removeMember={this.removeMember}\n                updateMemberRole={this.updateMemberRole}\n                pageInfo={this.state.pageInfo}\n                curPerPage={this.state.perPage}\n                getListByPage={this.getListByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddMemberDialogOpen &&\n          <SysAdminGroupAddMemberDialog\n            addMembers={this.addMembers}\n            toggle={this.toggleAddMemgerDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nGroupMembers.propTypes = {\n  groupID: PropTypes.string,\n};\n\nexport default GroupMembers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../../../css/org-department-item.css';\n\nclass Departments extends React.Component {\n  render() {\n    return (\n      <div className=\"h-100 org-departments\">\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nDepartments.propTypes = {\n  children: PropTypes.any.isRequired,\n};\n\nexport default Departments;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\n\nconst propTypes = {\n  groupID: PropTypes.string,\n  parentGroupID: PropTypes.string,\n  toggle: PropTypes.func.isRequired,\n  onAddNewDepartment: PropTypes.func.isRequired\n};\n\nclass AddDepartDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      departName: '',\n      errMessage: '',\n    };\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      let parentGroup = -1;\n      if (this.props.parentGroupID) {\n        parentGroup = this.props.parentGroupID;\n      }\n      seafileAPI.sysAdminAddNewDepartment(parentGroup, this.state.departName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onAddNewDepartment(res.data);\n      }).catch(error => {\n        let errorMsg = gettext(error.response.data.error_msg);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  };\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.departName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      departName: e.target.value,\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  render() {\n    let header = this.props.parentGroupID ? gettext('New Sub-department') : gettext('New Department');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{header}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"departName\">{gettext('Name')}</Label>\n              <Input\n                id=\"departName\"\n                onKeyDown={this.handleKeyDown}\n                value={this.state.departName}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddDepartDialog.propTypes = propTypes;\n\nexport default AddDepartDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nconst propTypes = {\n  groupID: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]).isRequired,\n  name: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onDepartmentNameChanged: PropTypes.func.isRequired\n};\n\nclass RenameDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      departmentName: this.props.name,\n      errMessage: ''\n    };\n    this.newInput = React.createRef();\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      seafileAPI.sysAdminRenameDepartment(this.props.groupID, this.state.departmentName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onDepartmentNameChanged(res.data);\n        toaster.success(gettext('Success'));\n      }).catch(error => {\n        let errorMsg = Utils.getErrorMsg(error);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  };\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.departmentName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      departmentName: e.target.value\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  onAfterModelOpened = () => {\n    if (!this.newInput.current) return;\n    this.newInput.current.focus();\n    this.newInput.current.select();\n  };\n\n  render() {\n    let header = gettext('Rename Department');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} onOpened={this.onAfterModelOpened}>\n        <ModalHeader toggle={this.props.toggle}>{header}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"departmentName\">{gettext('Name')}</Label>\n              <Input\n                id=\"departmentName\"\n                onKeyDown={this.handleKeyDown}\n                value={this.state.departmentName}\n                onChange={this.handleChange}\n                innerRef={this.newInput}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nRenameDepartmentDialog.propTypes = propTypes;\n\nexport default RenameDepartmentDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\n\nconst propTypes = {\n  group: PropTypes.object.isRequired,\n  toggle: PropTypes.func.isRequired,\n  onDeleteDepartment: PropTypes.func.isRequired\n};\n\nclass DeleteDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteDepart = () => {\n    this.props.toggle();\n    const { group } = this.props;\n    seafileAPI.sysAdminDeleteDepartment(group.id).then((res) => {\n      this.props.onDeleteDepartment(group.id);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { group } = this.props;\n\n    let tipMessage = gettext('Are you sure you want to delete {placeholder} ?');\n    tipMessage = tipMessage.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(group.name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Department')}</ModalHeader>\n        <ModalBody>\n          <p dangerouslySetInnerHTML={{__html: tipMessage}}></p>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.deleteDepart}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDeleteDepartmentDialog.propTypes = propTypes;\n\nexport default DeleteDepartmentDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, InputGroupAddon, InputGroup } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.number.isRequired,\n  onSetQuota: PropTypes.func.isRequired,\n};\n\nclass SetGroupQuotaDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      quota: '',\n      errMessage: '',\n    };\n  }\n\n  setGroupQuota = () => {\n    const numberReg = /^[1-9]\\d*$/im;\n    let quota = this.state.quota;\n    if ((quota.length && numberReg.test(quota)) || quota == -2) {\n      this.setState({ errMessage: '' });\n      let newQuota = this.state.quota == -2 ? this.state.quota : this.state.quota * 1000000;\n      seafileAPI.sysAdminUpdateDepartmentQuota(this.props.groupID, newQuota).then((res) => {\n        this.props.toggle();\n        this.props.onSetQuota(res.data);\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      const err = gettext('Quota is invalid.');\n      this.setState({ errMessage: err });\n    }\n  };\n\n  handleChange = (e) => {\n    const quota = e.target.value.trim();\n    this.setState({ quota: quota });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.setGroupQuota();\n      e.preventDefault();\n    }\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Set Quota')}</ModalHeader>\n        <ModalBody>\n          <InputGroup>\n            <Input\n              onKeyDown={this.handleKeyDown}\n              value={this.state.quota}\n              onChange={this.handleChange}\n              autoFocus={true}\n            />\n            <InputGroupAddon addonType=\"append\">{'MB'}</InputGroupAddon>\n          </InputGroup>\n          <p className=\"tip\">\n            <br/><span>{gettext('An integer that is greater than 0 or equal to -2.')}</span><br/>\n            <span>{gettext('Tip: -2 means no limit.')}</span>\n          </p>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.setGroupQuota}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSetGroupQuotaDialog.propTypes = propTypes;\n\nexport default SetGroupQuotaDialog;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport ModalPortal from '../../../components/modal-portal';\nimport RenameDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-rename-department-dialog';\nimport DeleteDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-delete-department-dialog';\nimport SetGroupQuotaDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-set-group-quota-dialog';\n\nconst GroupItemPropTypes = {\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  group: PropTypes.object.isRequired,\n  onDepartmentNameChanged: PropTypes.func.isRequired,\n  onDeleteDepartment: PropTypes.func.isRequired,\n  onSetDepartmentQuota: PropTypes.func.isRequired\n};\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isSetQuotaDialogOpen: false,\n      isDeleteDialogOpen: false,\n      isRenameDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Rename':\n        translateResult = gettext('Rename');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Rename':\n        this.toggleRenameDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  toggleRenameDialog = () => {\n    this.setState({\n      isRenameDialogOpen: !this.state.isRenameDialogOpen\n    });\n  };\n\n  toggleDeleteDialog = () => {\n    this.setState({\n      isDeleteDialogOpen: !this.state.isDeleteDialogOpen\n    });\n  };\n\n  toggleSetQuotaDialog = () => {\n    this.setState({\n      isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen\n    });\n  };\n\n  render() {\n    const { group } = this.props;\n    const { highlight, isOpIconShown, isRenameDialogOpen, isDeleteDialogOpen, isSetQuotaDialogOpen } = this.state;\n    const newHref = siteRoot+ 'sys/departments/' + group.id + '/';\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td><Link to={newHref}>{group.name}</Link></td>\n          <td>{moment(group.created_at).fromNow()}</td>\n          <td>\n            {Utils.bytesToSize(group.quota)}{' '}\n            <span onClick={this.toggleSetQuotaDialog} title={gettext('Edit')} className={`fa fa-pencil-alt attr-action-icon ${highlight ? '' : 'vh'}`}></span>\n          </td>\n          <td>\n            {isOpIconShown &&\n              <OpMenu\n                operations={['Rename', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen && (\n          <ModalPortal>\n            <DeleteDepartmentDialog\n              group={group}\n              onDeleteDepartment={this.props.onDeleteDepartment}\n              toggle={this.toggleDeleteDialog}\n            />\n          </ModalPortal>\n        )}\n        {isSetQuotaDialogOpen && (\n          <ModalPortal>\n            <SetGroupQuotaDialog\n              groupID={group.id}\n              onSetQuota={this.props.onSetDepartmentQuota}\n              toggle={this.toggleSetQuotaDialog}\n            />\n          </ModalPortal>\n        )}\n        {isRenameDialogOpen && (\n          <RenameDepartmentDialog\n            groupID={group.id}\n            name={group.name}\n            toggle={this.toggleRenameDialog}\n            onDepartmentNameChanged={this.props.onDepartmentNameChanged}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nGroupItem.propTypes = GroupItemPropTypes;\n\nexport default GroupItem;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport ModalPortal from '../../../components/modal-portal';\nimport AddDepartDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-department-dialog';\nimport { gettext, lang } from '../../../utils/constants';\nimport GroupItem from './group-item';\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nclass DepartmentList extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groups: null,\n      groupID: '',\n      isShowAddDepartDialog: false,\n      isItemFreezed: false\n    };\n  }\n\n  componentDidMount() {\n    this.listDepartments();\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  listDepartments = () => {\n    seafileAPI.sysAdminListAllDepartments().then(res => {\n      this.setState({ groups: res.data.data });\n    });\n  };\n\n  toggleAddDepartDialog = () => {\n    this.setState({ isShowAddDepartDialog: !this.state.isShowAddDepartDialog });\n  };\n\n  onDepartmentNameChanged = (dept) => {\n    this.setState({\n      groups: this.state.groups.map(item => {\n        if (item.id == dept.id) {\n          item.name = dept.name;\n        }\n        return item;\n      })\n    });\n  };\n\n  onAddNewDepartment = (newDepartment) => {\n    const { groups } = this.state;\n    groups.unshift(newDepartment);\n    this.setState({\n      groups: groups\n    });\n  };\n\n  onDeleteDepartment = (id) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.filter((item) => item.id != id)\n    });\n  };\n\n  onSetDepartmentQuota = (target) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.map((item) => {\n        if (item.id == target.id) {\n          item.quota = target.quota;\n        }\n        return item;\n      })\n    });\n  };\n\n  render() {\n    const groups = this.state.groups;\n    const topbarChildren = (\n      <Fragment>\n        <button className='btn btn-secondary operation-item' title={gettext('New Department')} onClick={this.toggleAddDepartDialog}>{gettext('New Department')}\n        </button>\n        {this.state.isShowAddDepartDialog && (\n          <ModalPortal>\n            <AddDepartDialog\n              onAddNewDepartment={this.onAddNewDepartment}\n              groupID={this.state.groupID}\n              toggle={this.toggleAddDepartDialog}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          {topbarChildren}\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row h-100\">\n          <div className=\"cur-view-container o-auto\">\n            <div className=\"cur-view-path\">\n              <div className=\"fleft\">\n                <h3 className=\"sf-heading\">{gettext('Departments')}</h3>\n              </div>\n            </div>\n            <div className=\"cur-view-content\">\n              {groups && groups.length > 0 ?\n                <table>\n                  <thead>\n                    <tr>\n                      <th width=\"40%\">{gettext('Name')}</th>\n                      <th width=\"25%\">{gettext('Created At')}</th>\n                      <th width=\"20%\">{gettext('Quota')}</th>\n                      <th width=\"15%\"></th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {groups.map((group, index) => {\n                      return(\n                        <Fragment key={group.id}>\n                          <GroupItem\n                            group={group}\n                            isItemFreezed={this.state.isItemFreezed}\n                            onFreezedItem={this.onFreezedItem}\n                            onUnfreezedItem={this.onUnfreezedItem}\n                            onDepartmentNameChanged={this.onDepartmentNameChanged}\n                            onDeleteDepartment={this.onDeleteDepartment}\n                            onSetDepartmentQuota={this.onSetDepartmentQuota}\n                          />\n                        </Fragment>\n                      );\n                    })}\n                  </tbody>\n                </table>\n                :\n                <p className=\"no-group\">{gettext('No departments')}</p>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default DepartmentList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID:  PropTypes.string.isRequired,\n  onAddNewMembers: PropTypes.func.isRequired\n};\n\nclass AddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errMessage: '',\n    };\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({ selectedOption: option });\n  };\n\n  handleSubmit = () => {\n    if (!this.state.selectedOption) return;\n    const emails = this.state.selectedOption.map(item => item.email);\n    this.refs.orgSelect.clearSelect();\n    this.setState({ errMessage: [] });\n    seafileAPI.sysAdminAddGroupMember(this.props.groupID, emails).then((res) => {\n      this.setState({ selectedOption: null });\n      if (res.data.failed.length > 0) {\n        this.setState({ errMessage: res.data.failed[0].error_msg });\n      }\n      if (res.data.success.length > 0) {\n        this.props.onAddNewMembers(res.data.success);\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            placeholder={gettext('Search users')}\n            onSelectChange={this.handleSelectChange}\n            ref=\"orgSelect\"\n            isMulti={true}\n            className='org-add-member-select'\n          />\n          { this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddMemberDialog.propTypes = propTypes;\n\nexport default AddMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Form, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.string,\n  onAddNewRepo: PropTypes.func.isRequired\n};\n\nclass AddRepoDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoName: '',\n      errMessage: '',\n    };\n  }\n\n  handleSubmit = () => {\n    let isValid = this.validateName();\n    if (isValid) {\n      seafileAPI.sysAdminAddRepoInDepartment(this.props.groupID, this.state.repoName.trim()).then((res) => {\n        this.props.toggle();\n        this.props.onAddNewRepo(res.data);\n      }).catch(error => {\n        let errorMsg = Utils.getErrorMsg(error);\n        this.setState({ errMessage: errorMsg });\n      });\n    }\n  };\n\n  validateName = () => {\n    let errMessage = '';\n    const name = this.state.repoName.trim();\n    if (!name.length) {\n      errMessage = gettext('Name is required');\n      this.setState({ errMessage: errMessage });\n      return false;\n    }\n    return true;\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      repoName: e.target.value,\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('New Library')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"repoName\">{gettext('Name')}</Label>\n              <Input\n                id=\"repoName\"\n                onKeyDown={this.handleKeyDown}\n                value={this.state.repoName}\n                onChange={this.handleChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <p className=\"error\">{this.state.errMessage}</p> }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddRepoDialog.propTypes = propTypes;\n\nexport default AddRepoDialog;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport ModalPortal from '../../../components/modal-portal';\nimport AddDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-department-dialog';\nimport RenameDepartmentDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-rename-department-dialog';\nimport AddMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-member-dialog';\nimport AddRepoDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-repo-dialog';\nimport { siteRoot, gettext, lang } from '../../../utils/constants';\n\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst DepartmentDetailPropTypes = {\n  groupID: PropTypes.string,\n  currentItem: PropTypes.string.isRequired,\n  onAddNewDepartment: PropTypes.func,\n  onAddNewMembers: PropTypes.func,\n  onAddNewRepo: PropTypes.func,\n  children: PropTypes.object\n};\n\nclass Department extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupName: '',\n      ancestorGroups: [],\n      isShowAddDepartmentDialog: false,\n      isShowAddMemberDialog: false,\n      isShowRenameDepartmentDialog: false,\n      isShowAddRepoDialog: false\n    };\n\n    this.navItems = [\n      {name: 'subDepartments', urlPart: '/', text: gettext('Sub-departments')},\n      {name: 'members', urlPart: '/members/', text: gettext('Members')},\n      {name: 'repos', urlPart: '/libraries/', text: gettext('Libraries')}\n    ];\n  }\n\n  componentDidMount() {\n    const groupID = this.props.groupID;\n    this.getDepartmentInfo(groupID);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.getDepartmentInfo(nextProps.groupID);\n    }\n  }\n\n  getDepartmentInfo = (groupID) => {\n    seafileAPI.sysAdminGetDepartmentInfo(groupID, true).then(res => {\n      this.setState({\n        ancestorGroups: res.data.ancestor_groups,\n        groupName: res.data.name,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onDepartmentNameChanged = (dept) => {\n    this.setState({\n      groupName: dept.name\n    });\n  };\n\n  toggleRenameDepartmentDialog = () => {\n    this.setState({ isShowRenameDepartmentDialog: !this.state.isShowRenameDepartmentDialog });\n  };\n\n  toggleAddRepoDialog = () => {\n    this.setState({ isShowAddRepoDialog: !this.state.isShowAddRepoDialog });\n  };\n\n  toggleAddMemberDialog = () => {\n    this.setState({ isShowAddMemberDialog: !this.state.isShowAddMemberDialog });\n  };\n\n  toggleAddDepartmentDialog = () => {\n    this.setState({ isShowAddDepartmentDialog: !this.state.isShowAddDepartmentDialog});\n  };\n\n  render() {\n    const { groupID, currentItem } = this.props;\n    const { groupName } = this.state;\n\n    const topBtn = 'btn btn-secondary operation-item';\n    const topbarChildren = (\n      <Fragment>\n        {groupID &&\n          <Fragment>\n            <button className={topBtn} title={gettext('Rename Department')} onClick={this.toggleRenameDepartmentDialog}>{gettext('Rename Department')}</button>\n            {currentItem == 'subDepartments' && <button className={topBtn} title={gettext('New Sub-department')} onClick={this.toggleAddDepartmentDialog}>{gettext('New Sub-department')}</button>}\n            {currentItem == 'members' && <button className={topBtn} title={gettext('Add Member')} onClick={this.toggleAddMemberDialog}>{gettext('Add Member')}</button>}\n            {currentItem == 'repos' && <button className={topBtn} onClick={this.toggleAddRepoDialog} title={gettext('New Library')}>{gettext('New Library')}</button>}\n          </Fragment>\n        }\n        {this.state.isShowRenameDepartmentDialog && (\n          <ModalPortal>\n            <RenameDepartmentDialog\n              groupID={groupID}\n              name={groupName}\n              toggle={this.toggleRenameDepartmentDialog}\n              onDepartmentNameChanged={this.onDepartmentNameChanged}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddMemberDialog && (\n          <ModalPortal>\n            <AddMemberDialog\n              toggle={this.toggleAddMemberDialog}\n              onAddNewMembers={this.props.onAddNewMembers}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddRepoDialog && (\n          <ModalPortal>\n            <AddRepoDialog\n              toggle={this.toggleAddRepoDialog}\n              onAddNewRepo={this.props.onAddNewRepo}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n        {this.state.isShowAddDepartmentDialog && (\n          <ModalPortal>\n            <AddDepartmentDialog\n              onAddNewDepartment={this.props.onAddNewDepartment}\n              parentGroupID={groupID}\n              toggle={this.toggleAddDepartmentDialog}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          {topbarChildren}\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row h-100\">\n          <div className=\"cur-view-container o-auto\">\n            <div className=\"cur-view-path\">\n              <div className=\"fleft\">\n                <h3 className=\"sf-heading\">\n                  {groupID ?\n                    <Link to={siteRoot + 'sys/departments/'}>{gettext('Departments')}</Link>\n                    : <span>{gettext('Departments')}</span>\n                  }\n                  {this.state.ancestorGroups.map(ancestor => {\n                    let newHref = siteRoot + 'sys/departments/' + ancestor.id + '/';\n                    return <span key={ancestor.id}>{' / '}<Link to={newHref}>{ancestor.name}</Link></span>;\n                  })}\n                  {groupID && <span>{' / '}{groupName}</span>}\n                </h3>\n              </div>\n            </div>\n\n            <ul className=\"nav border-bottom mx-4\">\n              {this.navItems.map((item, index) => {\n                return (\n                  <li className=\"nav-item mr-2\" key={index}>\n                    <Link to={`${siteRoot}sys/departments/${groupID}${item.urlPart}`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n                  </li>\n                );\n              })}\n            </ul>\n            {this.props.children}\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nDepartment.propTypes = DepartmentDetailPropTypes;\n\nexport default Department;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport { gettext, lang } from '../../../utils/constants';\nimport GroupItem from './group-item';\nimport Department from './department';\n\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst SubDepartmentsPropTypes = {\n  groupID: PropTypes.string\n};\n\nclass SubDepartments extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n      groups: []\n    };\n  }\n\n  componentDidMount() {\n    this.listSubDepartments(this.props.groupID);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listSubDepartments(nextProps.groupID);\n    }\n  }\n\n  listSubDepartments = (groupID) => {\n    seafileAPI.sysAdminGetDepartmentInfo(groupID, true).then(res => {\n      this.setState({groups: res.data.groups});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onSubDepartmentNameChanged = (dept) => {\n    this.setState({\n      groups: this.state.groups.map(item => {\n        if (item.id == dept.id) {\n          item.name = dept.name;\n        }\n        return item;\n      })\n    });\n  };\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  onAddNewDepartment = (newDepartment) => {\n    const { groups } = this.state;\n    groups.unshift(newDepartment);\n    this.setState({\n      groups: groups\n    });\n  };\n\n  onDeleteDepartment = (id) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.filter(item => item.id != id)\n    });\n  };\n\n  onSetDepartmentQuota = (target) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.map((item) => {\n        if (item.id == target.id) {\n          item.quota = target.quota;\n        }\n        return item;\n      })\n    });\n  };\n\n  render() {\n    const { groups } = this.state;\n    const { groupID } = this.props;\n\n    return (\n      <Department\n        groupID={groupID}\n        currentItem=\"subDepartments\"\n        onAddNewDepartment={this.onAddNewDepartment}\n      >\n        <div className=\"cur-view-content\">\n          {groups && groups.length > 0 ?\n            <table>\n              <thead>\n                <tr>\n                  <th width=\"40%\">{gettext('Name')}</th>\n                  <th width=\"25%\">{gettext('Created At')}</th>\n                  <th width=\"20%\">{gettext('Quota')}</th>\n                  <th width=\"15%\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                {groups.map((group, index) => {\n                  return(\n                    <GroupItem\n                      key={group.id}\n                      isItemFreezed={this.state.isItemFreezed}\n                      onFreezedItem={this.onFreezedItem}\n                      onUnfreezedItem={this.onUnfreezedItem}\n                      onDepartmentNameChanged={this.onSubDepartmentNameChanged}\n                      group={group}\n                      onDeleteDepartment={this.onDeleteDepartment}\n                      onSetDepartmentQuota={this.onSetDepartmentQuota}\n                    />\n                  );\n                })}\n              </tbody>\n            </table>\n            : <p className=\"no-group\">{gettext('No sub-departments')}</p>\n          }\n        </div>\n      </Department>\n    );\n  }\n}\n\nSubDepartments.propTypes = SubDepartmentsPropTypes;\n\nexport default SubDepartments;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nconst propTypes = {\n  member: PropTypes.object.isRequired,\n  groupID: PropTypes.string,\n  toggle: PropTypes.func.isRequired,\n  onMemberChanged: PropTypes.func.isRequired\n};\n\nclass DeleteMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteMember = () => {\n    const userEmail = this.props.member.email;\n    seafileAPI.sysAdminDeleteGroupMember(this.props.groupID, userEmail).then((res) => {\n      if (res.data.success) {\n        this.props.onMemberChanged();\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let tipMessage = gettext('Are you sure you want to delete {placeholder} ?');\n    tipMessage = tipMessage.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(this.props.member.name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Member')}</ModalHeader>\n        <ModalBody>\n          <div dangerouslySetInnerHTML={{__html: tipMessage}}></div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.deleteMember}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nDeleteMemberDialog.propTypes = propTypes;\n\nexport default DeleteMemberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport RoleSelector from '../../../components/single-selector';\nimport UserLink from '../user-link';\n\nconst MemberItemPropTypes = {\n  groupID: PropTypes.string,\n  member: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onMemberChanged: PropTypes.func.isRequired,\n  showDeleteMemberDialog: PropTypes.func.isRequired,\n  toggleItemFreezed: PropTypes.func.isRequired,\n};\n\nclass MemberItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false\n    };\n    this.roleOptions = [\n      { value: 'Admin', text: gettext('Admin'), isSelected: false },\n      { value: 'Member', text: gettext('Member'), isSelected: false }\n    ];\n  }\n\n  onMouseEnter = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({ highlight: true });\n  };\n\n  onMouseLeave = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({ highlight: false });\n  };\n\n  onChangeUserRole = (roleOption) => {\n    let isAdmin = roleOption.value === 'Admin' ? true : false;\n    seafileAPI.sysAdminUpdateGroupMemberRole(this.props.groupID, this.props.member.email, isAdmin).then((res) => {\n      this.props.onMemberChanged();\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n    this.setState({\n      highlight: false\n    });\n  };\n\n  render() {\n    const member = this.props.member;\n    const highlight = this.state.highlight;\n    if (member.role === 'Owner') return null;\n    this.roleOptions = this.roleOptions.map(item => {\n      item.isSelected = item.value == member.role;\n      return item;\n    });\n    const currentSelectedOption = this.roleOptions.filter(item => item.isSelected)[0];\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={member.avatar_url} alt=\"member-header\" width=\"24\" className=\"avatar\"/></td>\n        <td><UserLink email={member.email} name={member.name} /></td>\n        <td>\n          <RoleSelector\n            isDropdownToggleShown={highlight}\n            currentSelectedOption={currentSelectedOption}\n            options={this.roleOptions}\n            selectOption={this.onChangeUserRole}\n            toggleItemFreezed={this.props.toggleItemFreezed}\n          />\n        </td>\n        <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteMemberDialog.bind(this, member)}>\n          <span className={`sf2-icon-x3 action-icon ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nMemberItem.propTypes = MemberItemPropTypes;\n\nexport default MemberItem;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Paginator from '../../../components/paginator';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport ModalPortal from '../../../components/modal-portal';\nimport DeleteMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-delete-member-dialog';\nimport { gettext, lang } from '../../../utils/constants';\nimport MemberItem from './member-item';\nimport Department from './department';\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst DepartmentMembersPropTypes = {\n  groupID: PropTypes.string,\n};\n\nclass DepartmentMembers extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n      members: [],\n      membersErrorMsg: '',\n      currentPageInfo: {\n      },\n      currentPage: 1,\n      perPage: 25,\n      deletedMember: {},\n      showDeleteMemberDialog: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      const { groupID } = this.props;\n      this.listMembers(groupID, this.state.currentPage, this.state.perPage);\n    });\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listMembers(nextProps.groupID, this.state.currentPage, this.state.perPage);\n    }\n  }\n\n  listMembers = (groupID, page, perPage) => {\n    seafileAPI.sysAdminListGroupMembers(groupID, page, perPage).then((res) => {\n      this.setState({\n        members: res.data.members,\n        currentPageInfo: res.data.page_info\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      this.setState({membersErrorMsg: errMessage});\n    });\n  };\n\n  getPreviousPageList = () => {\n    this.listMembers(this.props.groupID, this.state.currentPageInfo.current_page - 1, this.state.perPage);\n  };\n\n  getNextPageList = () => {\n    this.listMembers(this.props.groupID, this.state.currentPageInfo.current_page + 1, this.state.perPage);\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.listMembers(this.props.groupID, 1, perPage);\n    });\n  };\n\n  toggleCancel = () => {\n    this.setState({\n      showDeleteMemberDialog: false,\n    });\n  };\n\n  onMemberChanged = () => {\n    this.listMembers(this.props.groupID, this.state.currentPageInfo.current_page, this.state.perPage);\n  };\n\n  toggleItemFreezed = (isFreezed) => {\n    this.setState({ isItemFreezed: isFreezed });\n  };\n\n  showDeleteMemberDialog = (member) => {\n    this.setState({ showDeleteMemberDialog: true, deletedMember: member });\n  };\n\n  onAddNewMembers = (newMembers) => {\n    const { members } = this.state;\n    members.unshift(...newMembers);\n    this.setState({ members });\n  };\n\n  render() {\n    const { members, membersErrorMsg } = this.state;\n    const { groupID } = this.props;\n\n    return (\n      <Fragment>\n        <Department\n          groupID={groupID}\n          currentItem=\"members\"\n          onAddNewMembers={this.onAddNewMembers}\n        >\n          <div className=\"cur-view-content\">\n            {membersErrorMsg ? <p className=\"error text-center\">{membersErrorMsg}</p> :\n              members.length == 0 ?\n                <p className=\"no-member\">{gettext('No members')}</p> :\n                <Fragment>\n                  <table>\n                    <thead>\n                      <tr>\n                        <th width=\"5%\"></th>\n                        <th width=\"50%\">{gettext('Name')}</th>\n                        <th width=\"15%\">{gettext('Role')}</th>\n                        <th width=\"30%\"></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {members.map((member, index) => {\n                        return (\n                          <Fragment key={index}>\n                            <MemberItem\n                              member={member}\n                              showDeleteMemberDialog={this.showDeleteMemberDialog}\n                              isItemFreezed={this.state.isItemFreezed}\n                              onMemberChanged={this.onMemberChanged}\n                              toggleItemFreezed={this.toggleItemFreezed}\n                              groupID={groupID}\n                            />\n                          </Fragment>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                  {this.state.currentPageInfo &&\n                  <Paginator\n                    gotoPreviousPage={this.getPreviousPageList}\n                    gotoNextPage={this.getNextPageList}\n                    currentPage={this.state.currentPageInfo.current_page}\n                    hasNextPage={this.state.currentPageInfo.has_next_page}\n                    curPerPage={this.state.perPage}\n                    resetPerPage={this.resetPerPage}\n                  />\n                  }\n                </Fragment>\n            }\n          </div>\n        </Department>\n        {this.state.showDeleteMemberDialog && (\n          <ModalPortal>\n            <DeleteMemberDialog\n              toggle={this.toggleCancel}\n              onMemberChanged={this.onMemberChanged}\n              member={this.state.deletedMember}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nDepartmentMembers.propTypes = DepartmentMembersPropTypes;\n\nexport default DepartmentMembers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\n\nclass DeleteRepoDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  deleteRepo = () => {\n    seafileAPI.sysAdminDeleteRepoInDepartment(this.props.groupID, this.props.repo.repo_id).then((res) => {\n      if (res.data.success) {\n        this.props.onRepoChanged();\n        this.props.toggle();\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { repo } = this.props;\n    let tipMessage = gettext('Are you sure you want to delete {placeholder} ?');\n    tipMessage = tipMessage.replace('{placeholder}', '<span class=\"op-target\">' + Utils.HTMLescape(repo.name || repo.repo_name) + '</span>');\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Delete Library')}</ModalHeader>\n        <ModalBody>\n          <div dangerouslySetInnerHTML={{__html: tipMessage}}></div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.deleteRepo}>{gettext('Delete')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst propTypes = {\n  repo: PropTypes.object.isRequired,\n  toggle: PropTypes.func.isRequired,\n  groupID: PropTypes.string,\n  onRepoChanged: PropTypes.func.isRequired\n};\n\nDeleteRepoDialog.propTypes = propTypes;\n\nexport default DeleteRepoDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nconst RepoItemPropTypes = {\n  repo: PropTypes.object.isRequired,\n  showDeleteRepoDialog: PropTypes.func.isRequired\n};\n\nclass RepoItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({ highlight: true });\n  };\n\n  onMouseLeave = () => {\n    this.setState({ highlight: false });\n  };\n\n  render() {\n    const { repo } = this.props;\n    const repoName = repo.name || repo.repo_name;\n    const highlight = this.state.highlight;\n    let iconUrl = Utils.getLibIconUrl(repo);\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={iconUrl} width=\"24\" alt={gettext('icon')}/></td>\n        { enableSysAdminViewRepo ?\n          <td><a href={`${siteRoot}sys/libraries/${repo.repo_id}/${encodeURIComponent(repoName)}/`}>{repoName}</a></td>\n          :\n          <td>{repoName}</td>\n        }\n        <td>{Utils.bytesToSize(repo.size)}</td>\n        <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteRepoDialog.bind(this, repo)}>\n          <span className={`sf2-icon-delete action-icon ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nRepoItem.propTypes = RepoItemPropTypes;\n\nexport default RepoItem;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport ModalPortal from '../../../components/modal-portal';\nimport DeleteRepoDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-delete-repo-dialog';\nimport { gettext, lang } from '../../../utils/constants';\nimport RepoItem from './repo-item';\nimport Department from './department';\nimport '../../../css/org-department-item.css';\n\nmoment.locale(lang);\n\nconst DepartmentDetailPropTypes = {\n  groupID: PropTypes.string,\n};\n\nclass DepartmentDetail extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repos: [],\n      deletedRepo: {},\n      showDeleteRepoDialog: false\n    };\n  }\n\n  componentDidMount() {\n    const { groupID } = this.props;\n    this.listGroupRepo(groupID);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (this.props.groupID !== nextProps.groupID) {\n      this.listGroupRepo(nextProps.groupID);\n    }\n  }\n\n  listGroupRepo = (groupID) => {\n    seafileAPI.sysAdminListGroupRepos(groupID).then(res => {\n      this.setState({ repos: res.data.libraries });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleCancel = () => {\n    this.setState({\n      showDeleteRepoDialog: false\n    });\n  };\n\n  onRepoChanged = () => {\n    this.listGroupRepo(this.props.groupID);\n  };\n\n  showDeleteRepoDialog = (repo) => {\n    this.setState({ showDeleteRepoDialog: true, deletedRepo: repo });\n  };\n\n  onAddNewRepo = (newRepo) => {\n    const { repos } = this.state;\n    repos.unshift(newRepo);\n    this.setState({ repos });\n  };\n\n  render() {\n    const { repos } = this.state;\n    const { groupID } = this.props;\n\n    return (\n      <Fragment>\n        <Department groupID={groupID} currentItem=\"repos\" onAddNewRepo={this.onAddNewRepo}>\n          {repos.length > 0 ?\n            <div className=\"cur-view-content\">\n              <table>\n                <thead>\n                  <tr>\n                    <th width=\"5%\"></th>\n                    <th width=\"50%\">{gettext('Name')}</th>\n                    <th width=\"30%\">{gettext('Size')}</th>\n                    <th width=\"15%\"></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {repos.map((repo, index) => {\n                    return (\n                      <RepoItem key={index} repo={repo} showDeleteRepoDialog={this.showDeleteRepoDialog} />\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n            : <p className=\"no-libraty\">{gettext('No libraries')}</p>\n          }\n        </Department>\n        {this.state.showDeleteRepoDialog && (\n          <ModalPortal>\n            <DeleteRepoDialog\n              toggle={this.toggleCancel}\n              onRepoChanged={this.onRepoChanged}\n              repo={this.state.deletedRepo}\n              groupID={groupID}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nDepartmentDetail.propTypes = DepartmentDetailPropTypes;\n\nexport default DepartmentDetail;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'shareLinks', urlPart:'share-links', text: gettext('Share Links')},\n      {name: 'uploadLinks', urlPart:'upload-links', text: gettext('Upload Links')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LinksNav from './links-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getShareLinksByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getShareLinksByPage(this.props.currentPage + 1);\n  };\n\n  sortByTime = (e) => {\n    e.preventDefault();\n    this.props.sortItems('ctime');\n  };\n\n  sortByCount = (e) => {\n    e.preventDefault();\n    this.props.sortItems('view_cnt');\n  };\n\n  render() {\n    const {\n      loading, errorMsg, items,\n      perPage, currentPage, hasNextPage,\n      sortBy, sortOrder\n    } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No share links')}</h2>\n        </EmptyTip>\n      );\n\n      const initialSortIcon = <span className=\"fas fa-sort\"></span>;\n      const sortIcon = <span className={`fas ${sortOrder == 'asc' ? 'fa-caret-up' : 'fa-caret-down'}`}></span>;\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"18%\">{gettext('Name')}</th>\n                <th width=\"18%\">{gettext('Token')}</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"15%\">\n                  <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('Created At')} {sortBy == 'ctime' ? sortIcon : initialSortIcon}</a>\n                </th>\n                <th width=\"10%\">\n                  <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByCount}>{gettext('Count')} {sortBy == 'view_cnt' ? sortIcon : initialSortIcon}</a>\n                </th>\n                <th width=\"11%\">{gettext('Expiration')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    deleteShareLink={this.props.deleteShareLink}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getShareLinksByPage: PropTypes.func.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  deleteShareLink: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  deleteShareLink = () => {\n    this.props.deleteShareLink(this.props.item.token);\n  };\n\n  renderExpiration = () => {\n    const item = this.props.item;\n    if (!item.expire_date) {\n      return '--';\n    }\n    const expire_date = moment(item.expire_date).format('YYYY-MM-DD');\n    const expire_time = moment(item.expire_date).format('YYYY-MM-DD HH:mm:ss');\n    return (<span className={item.is_expired ? 'error' : ''} title={expire_time}>{expire_date}</span>);\n  };\n\n  render() {\n    let { isOpIconShown } = this.state;\n    let { item } = this.props;\n    let deleteIcon = `action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td>{item.obj_name}</td>\n        <td>{item.token}</td>\n        <td><UserLink email={item.creator_email} name={item.creator_name} /></td>\n        <td>{moment(item.ctime).fromNow()}</td>\n        <td>{item.view_cnt}</td>\n        <td>{this.renderExpiration()}</td>\n        <td>\n          <a href=\"#\" className={deleteIcon} title={gettext('Remove')} onClick={this.deleteShareLink}></a>\n        </td>\n      </tr>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  deleteShareLink: PropTypes.func.isRequired,\n};\n\nclass ShareLinks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      shareLinkList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      sortBy: '',\n      sortOrder: 'asc'\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage, sortBy, sortOrder } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage),\n      sortBy: urlParams.get('order_by') || sortBy,\n      sortOrder: urlParams.get('direction') || sortOrder\n    }, () => {\n      this.getShareLinksByPage(this.state.currentPage);\n    });\n  }\n\n  getShareLinksByPage = (page) => {\n    const { perPage, sortBy, sortOrder } = this.state;\n    seafileAPI.sysAdminListShareLinks(page, perPage, sortBy, sortOrder).then((res) => {\n      this.setState({\n        shareLinkList: res.data.share_link_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  sortItems = (sortBy) => {\n    this.setState({\n      currentPage: 1,\n      sortBy: sortBy,\n      sortOrder: this.state.sortOrder == 'asc' ? 'desc' : 'asc'\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { currentPage, sortBy, sortOrder } = this.state;\n      searchParams.set('page', currentPage);\n      searchParams.set('order_by', sortBy);\n      searchParams.set('direction', sortOrder);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.getShareLinksByPage(currentPage);\n    });\n  };\n\n  deleteShareLink = (linkToken) => {\n    seafileAPI.sysAdminDeleteShareLink(linkToken).then(res => {\n      let newShareLinkList = this.state.shareLinkList.filter(item =>\n        item.token != linkToken\n      );\n      this.setState({shareLinkList: newShareLinkList});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getShareLinksByPage(this.initPage));\n  };\n\n  render() {\n    let { shareLinkList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LinksNav currentItem=\"shareLinks\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={shareLinkList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getShareLinksByPage={this.getShareLinksByPage}\n                resetPerPage={this.resetPerPage}\n                sortBy={this.state.sortBy}\n                sortOrder={this.state.sortOrder}\n                sortItems={this.sortItems}\n                deleteShareLink={this.deleteShareLink}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default ShareLinks;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LinksNav from './links-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getUploadLinksByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getUploadLinksByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No upload links')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"18%\">{gettext('Name')}</th>\n                <th width=\"18%\">{gettext('Token')}</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"15%\">{gettext('Created At')}</th>\n                <th width=\"10%\">{gettext('Count')}</th>\n                <th width=\"11%\">{gettext('Expiration')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    deleteUploadLink={this.props.deleteUploadLink}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getUploadLinksByPage: PropTypes.func.isRequired,\n  deleteUploadLink: PropTypes.func.isRequired,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  deleteUploadLink = () => {\n    this.props.deleteUploadLink(this.props.item.token);\n  };\n\n  renderExpiration = () => {\n    let item = this.props.item;\n    if (!item.expire_date) {\n      return '--';\n    }\n    const expire_date = moment(item.expire_date).format('YYYY-MM-DD');\n    const expire_time = moment(item.expire_date).format('YYYY-MM-DD HH:mm:ss');\n    return (<span className={item.is_expired ? 'error' : ''} title={expire_time}>{expire_date}</span>);\n  };\n\n  render() {\n    let { isOpIconShown } = this.state;\n    let { item } = this.props;\n    let deleteIcon = `action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`;\n    return (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td>{item.path}</td>\n          <td>{item.token}</td>\n          <td><UserLink email={item.creator_email} name={item.creator_name} /></td>\n          <td>{moment(item.ctime).fromNow()}</td>\n          <td>{item.view_cnt}</td>\n          <td>{this.renderExpiration()}</td>\n          <td>\n            <a href=\"#\" className={deleteIcon} title={gettext('Remove')} onClick={this.deleteUploadLink}></a>\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  deleteUploadLink: PropTypes.func.isRequired,\n};\n\n\nclass UploadLinks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      uploadLinkList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getUploadLinksByPage(this.state.currentPage);\n    });\n  }\n\n  getUploadLinksByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListAllUploadLinks(page, perPage).then((res) => {\n      this.setState({\n        uploadLinkList: res.data.upload_link_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteUploadLink = (linkToken) => {\n    seafileAPI.sysAdminDeleteUploadLink(linkToken).then(res => {\n      let newUploadLinkList = this.state.uploadLinkList.filter(item =>\n        item.token != linkToken\n      );\n      this.setState({uploadLinkList: newUploadLinkList});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getUploadLinksByPage(this.initPage));\n  };\n\n  render() {\n    let { uploadLinkList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LinksNav currentItem=\"uploadLinks\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={uploadLinkList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getUploadLinksByPage={this.getUploadLinksByPage}\n                resetPerPage={this.resetPerPage}\n                deleteUploadLink={this.deleteUploadLink}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default UploadLinks;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggleDialog: PropTypes.func.isRequired,\n  addOrg: PropTypes.func.isRequired\n};\n\nclass SysAdminAddOrgDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      passwordAgain: '',\n      errorMsg: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  checkSubmitBtnActive = () => {\n    const { name, email, password, passwordAgain } = this.state;\n    let btnActive = true;\n    if (name.trim() !='' &&\n      email.trim() != '' &&\n      password.trim() != '' &&\n      passwordAgain.trim() != '') {\n      btnActive = true;\n    } else {\n      btnActive = false;\n    }\n    this.setState({\n      isSubmitBtnActive: btnActive\n    });\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  inputPassword = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      password: passwd\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputPasswordAgain = (e) => {\n    let passwd = e.target.value;\n    this.setState({\n      passwordAgain: passwd\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputEmail = (e) => {\n    let email = e.target.value;\n    this.setState({\n      email: email\n    }, this.checkSubmitBtnActive);\n  };\n\n  inputName = (e) => {\n    let name = e.target.value;\n    this.setState({\n      name: name\n    }, this.checkSubmitBtnActive);\n  };\n\n  handleSubmit = () => {\n    let { name, email, password, passwordAgain } = this.state;\n    if (password != passwordAgain) {\n      this.setState({errorMsg: gettext('Passwords do not match.')});\n      return;\n    }\n    const data = {\n      orgName: name.trim(),\n      ownerEmail: email.trim(),\n      password: password.trim()\n    };\n    this.props.addOrg(data);\n    this.toggle();\n  };\n\n  render() {\n    const { errorMsg, password, passwordAgain, email, name, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add Organization')}</ModalHeader>\n        <ModalBody>\n          <Form autoComplete=\"off\">\n            <FormGroup>\n              <Label>{gettext('Name')}</Label>\n              <Input value={name} onChange={this.inputName} />\n            </FormGroup>\n            <FormGroup>\n              <Label>\n                {gettext('Owner')}\n                <span className=\"small text-secondary ml-1 fas fa-question-circle\" title={gettext('Owner can use admin panel in an organization, must be a new account.')}></span>\n              </Label>\n              <Input value={email} onChange={this.inputEmail} />\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Password')}</Label>\n              <Input type=\"password\" value={password} onChange={this.inputPassword} />\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Password again')}</Label>\n              <Input type=\"password\" value={passwordAgain} onChange={this.inputPasswordAgain} />\n            </FormGroup>\n          </Form>\n          {errorMsg && <Alert color=\"danger\">{errorMsg}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddOrgDialog.propTypes = propTypes;\n\nexport default SysAdminAddOrgDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport RoleSelector from '../../../components/single-selector';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\nimport toaster from '../../../components/toast';\n\nconst { availableRoles } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  toggleItemFreezed = (isFreezed) => {\n    this.setState({ isItemFreezed: isFreezed });\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No organizations')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Creator')}</th>\n                <th width=\"20%\">{gettext('Role')}</th>\n                <th width=\"15%\">{gettext('Space Used')}</th>\n                <th width=\"20%\">{gettext('Created At')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  updateRole={this.props.updateRole}\n                  deleteOrg={this.props.deleteOrg}\n                  isItemFreezed={this.state.isItemFreezed}\n                  toggleItemFreezed={this.toggleItemFreezed}\n                />);\n              })}\n            </tbody>\n          </table>\n          {this.props.currentPage &&\n          <Paginator\n            currentPage={this.props.currentPage}\n            hasNextPage={this.props.hasNextPage}\n            curPerPage={this.props.curPerPage}\n            resetPerPage={this.props.resetPerPage}\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n          />\n          }\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  getListByPage: PropTypes.func.isRequired,\n  currentPage: PropTypes.number,\n  items: PropTypes.array.isRequired,\n  updateRole: PropTypes.func.isRequired,\n  deleteOrg: PropTypes.func.isRequired,\n  hasNextPage: PropTypes.bool,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlighted: false,\n      isDeleteDialogOpen: false,\n      deleteDialogMsg: '',\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({highlighted: true});\n  };\n\n  handleMouseLeave = () => {\n    if (this.props.isItemFreezed) return;\n    this.setState({highlighted: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen}, () => {\n      if (this.state.isDeleteDialogOpen) {\n        seafileAPI.sysAdminGetOrg(this.props.item.org_id).then((res) => {\n          let orgName = '<span class=\"op-target\">' + Utils.HTMLescape(res.data.org_name) + '</span>';\n          let userCount = '<span class=\"op-target\">' + Utils.HTMLescape(res.data.users_count) + '</span>';\n          let repoCount = '<span class=\"op-target\">' + Utils.HTMLescape(res.data.repos_count) + '</span>';\n          let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?')\n            .replace('{placeholder}', orgName) + '<br/>' +\n            gettext('{userCount} user(s) and {repoCount} libraries of this organization will also be deleted.')\n              .replace('{userCount}', userCount)\n              .replace('{repoCount}', repoCount);\n          this.setState({deleteDialogMsg: deleteDialogMsg});\n        }).catch(error => {\n          let errorMsg = Utils.getErrorMsg(error);\n          toaster.danger(errorMsg);\n        });\n      }\n    });\n  };\n\n  translateRole = (role) => {\n    switch (role) {\n      case 'default':\n        return gettext('Default');\n      case 'guest':\n        return gettext('Guest');\n      default:\n        return role;\n    }\n  };\n\n  updateRole = (roleOption) => {\n    this.props.updateRole(this.props.item.org_id, roleOption.value);\n  };\n\n  deleteOrg = () => {\n    toaster.notify(gettext('It may take some time, please wait.'));\n    this.props.deleteOrg(this.props.item.org_id);\n  };\n\n  render() {\n    const { item } = this.props;\n    const { highlighted, isDeleteDialogOpen, deleteDialogMsg } = this.state;\n\n    const { role: curRole } = item;\n    this.roleOptions = availableRoles.map(item => {\n      return {\n        value: item,\n        text: this.translateRole(item),\n        isSelected: item == curRole\n      };\n    });\n    const currentSelectedOption = this.roleOptions.filter(item => item.isSelected)[0];\n\n    return (\n      <Fragment>\n        <tr className={highlighted ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={`${siteRoot}sys/organizations/${item.org_id}/info/`}>{item.org_name}</Link></td>\n          <td>\n            <UserLink email={item.creator_email} name={item.creator_name} />\n          </td>\n          <td>\n            <RoleSelector\n              isDropdownToggleShown={highlighted}\n              currentSelectedOption={currentSelectedOption}\n              options={this.roleOptions}\n              selectOption={this.updateRole}\n              toggleItemFreezed={this.props.toggleItemFreezed}\n            />\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota > 0 ? Utils.bytesToSize(item.quota) : '--'}`}</td>\n          <td>{moment(item.ctime).format('YYYY-MM-DD HH:mm:ss')}</td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${highlighted ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Organization')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteOrg}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  updateRole: PropTypes.func.isRequired,\n  deleteOrg: PropTypes.func.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  toggleItemFreezed: PropTypes.func.isRequired\n};\n\nexport default Content;\n","import React, { Component, Fragment } from 'react';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport SysAdminAddOrgDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-org-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport Content from './orgs-content';\n\n\nclass Orgs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgList: [],\n      currentPage: 1,\n      perPage: 25,\n      hasNextPage: false,\n      isAddOrgDialogOpen: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getItemsByPage(this.state.currentPage);\n    });\n  }\n\n  getItemsByPage = (page) => {\n    const { perPage } = this.state;\n    seafileAPI.sysAdminListOrgs(page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        orgList: res.data.organizations,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count)\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getItemsByPage(1);\n    });\n  };\n\n  toggleAddOrgDialog = () => {\n    this.setState({isAddOrgDialogOpen: !this.state.isAddOrgDialogOpen});\n  };\n\n  updateRole = (orgID, role) => {\n    let orgInfo = {};\n    orgInfo.role = role;\n    seafileAPI.sysAdminUpdateOrg(orgID, orgInfo).then(res => {\n      let newOrgList = this.state.orgList.map(org => {\n        if (org.org_id == orgID) {\n          org.role = role;\n        }\n        return org;\n      });\n      this.setState({orgList: newOrgList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  addOrg = (data) => {\n    const { orgName, ownerEmail, password } = data;\n    seafileAPI.sysAdminAddOrg(orgName, ownerEmail, password).then(res => {\n      let orgList = this.state.orgList;\n      orgList.unshift(res.data);\n      this.setState({orgList: orgList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteOrg = (orgID) => {\n    seafileAPI.sysAdminDeleteOrg(orgID).then(res => {\n      let orgList = this.state.orgList.filter(org => {\n        return org.org_id != orgID;\n      });\n      this.setState({orgList: orgList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search organizations')}\n      submit={this.searchItems}\n    />;\n  };\n\n  searchItems = (keyword) => {\n    navigate(`${siteRoot}sys/search-organizations/?query=${encodeURIComponent(keyword)}`);\n  };\n\n  render() {\n    const { isAddOrgDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar search={this.getSearch()} {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddOrgDialog}>{gettext('Add Organization')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Organizations')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.orgList}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getItemsByPage}\n                updateRole={this.updateRole}\n                deleteOrg={this.deleteOrg}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddOrgDialogOpen &&\n          <SysAdminAddOrgDialog\n            addOrg={this.addOrg}\n            toggleDialog={this.toggleAddOrgDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Orgs;\n","import React, { Component, Fragment } from 'react';\nimport { Form, FormGroup, Input, Label, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './orgs-content';\n\n\nclass SearchOrgs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      isSubmitBtnActive: false,\n      loading: true,\n      errorMsg: '',\n      orgList: []\n    };\n  }\n\n  componentDidMount () {\n    let params = (new URL(document.location)).searchParams;\n    this.setState({\n      query: params.get('query') || ''\n    }, this.getItems);\n  }\n\n  getItems = () => {\n    seafileAPI.sysAdminSearchOrgs(this.state.query.trim()).then(res => {\n      this.setState({\n        loading: false,\n        orgList: res.data.organization_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  updateRole = (orgID, role) => {\n    let orgInfo = {};\n    orgInfo.role = role;\n    seafileAPI.sysAdminUpdateOrg(orgID, orgInfo).then(res => {\n      let newOrgList = this.state.orgList.map(org => {\n        if (org.org_id == orgID) {\n          org.role = role;\n        }\n        return org;\n      });\n      this.setState({orgList: newOrgList});\n      toaster.success(gettext('Edit succeeded'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteOrg = (orgID) => {\n    seafileAPI.sysAdminDeleteOrg(orgID).then(res => {\n      let orgList = this.state.orgList.filter(org => {\n        return org.org_id != orgID;\n      });\n      this.setState({orgList: orgList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  handleInputChange = (e) => {\n    this.setState({\n      query: e.target.value\n    }, this.checkSubmitBtnActive);\n  };\n\n  checkSubmitBtnActive = () => {\n    const { query } = this.state;\n    this.setState({\n      isSubmitBtnActive: query.trim()\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      const { isSubmitBtnActive } = this.state;\n      if (isSubmitBtnActive) {\n        this.getItems();\n      }\n    }\n  };\n\n  render() {\n    const { query, isSubmitBtnActive } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Organizations')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Search Organizations')}</h4>\n                <p className=\"text-secondary small\">{gettext('Tip: you can search by keyword in name.')}</p>\n                <Form tag={'div'}>\n                  <FormGroup row>\n                    <Label for=\"name\" sm={1}>{gettext('Name')}</Label>\n                    <Col sm={5}>\n                      <Input type=\"text\" name=\"query\" id=\"name\" value={query} onChange={this.handleInputChange} onKeyDown={this.handleKeyDown} />\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row>\n                    <Col sm={{size: 5, offset: 1}}>\n                      <button className=\"btn btn-outline-primary\" disabled={!isSubmitBtnActive} onClick={this.getItems}>{gettext('Submit')}</button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </div>\n              <div className=\"mt-4 mb-6\">\n                <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{gettext('Result')}</h4>\n                <Content\n                  loading={this.state.loading}\n                  errorMsg={this.state.errorMsg}\n                  items={this.state.orgList}\n                  updateRole={this.updateRole}\n                  deleteOrg={this.deleteOrg}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default SearchOrgs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  name: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  updateName: PropTypes.func.isRequired\n};\n\nclass SysAdminSetOrgNameDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: this.props.name,\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleInputChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      name: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateName(this.state.name.trim());\n    this.toggle();\n  };\n\n  render() {\n    const { name, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Set Name')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                value={name}\n                onKeyDown={this.handleKeyDown}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminSetOrgNameDialog.propTypes = propTypes;\n\nexport default SysAdminSetOrgNameDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  value: PropTypes.string.isRequired,\n  toggle: PropTypes.func.isRequired,\n  updateValue: PropTypes.func.isRequired\n};\n\nclass SysAdminSetOrgMaxUserNumberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: this.props.value,\n      isSubmitBtnActive: false\n    };\n  }\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  handleInputChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key == 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  handleSubmit = () => {\n    this.props.updateValue(this.state.value.trim());\n    this.toggle();\n  };\n\n  render() {\n    const { value, isSubmitBtnActive } = this.state;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Set max number of members')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                className=\"form-control\"\n                value={value}\n                onKeyDown={this.handleKeyDown}\n                onChange={this.handleInputChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminSetOrgMaxUserNumberDialog.propTypes = propTypes;\n\nexport default SysAdminSetOrgMaxUserNumberDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  orgID: PropTypes.string,\n  orgName: PropTypes.string.isRequired,\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'info', urlPart: 'info', text: gettext('Info')},\n      {name: 'users', urlPart: 'users', text: gettext('Members')},\n      {name: 'groups', urlPart: 'groups', text: gettext('Groups')},\n      {name: 'repos', urlPart: 'libraries', text: gettext('Libraries')},\n      //{name: 'traffic', urlPart: 'traffic', text: gettext('traffic')},\n      //{name: 'settings', urlPart: 'settings', text: gettext('Settings')}\n    ];\n  }\n\n  render() {\n    const { currentItem, orgID, orgName } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/organizations/`}>{gettext('Organizations')}</Link> / {orgName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/organizations/${orgID}/${item.urlPart}/`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, serviceURL } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport Loading from '../../../components/loading';\nimport SysAdminSetOrgQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport SysAdminSetOrgNameDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-set-org-name-dialog';\nimport SysAdminSetOrgMaxUserNumberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-set-org-max-user-number-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSetQuotaDialogOpen: false,\n      isSetNameDialogOpen: false,\n      isSetMaxUserNumberDialogOpen: false\n    };\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  };\n\n  toggleSetNameDialog = () => {\n    this.setState({isSetNameDialogOpen: !this.state.isSetNameDialogOpen});\n  };\n\n  toggleSetMaxUserNumberDialog = () => {\n    this.setState({isSetMaxUserNumberDialogOpen: !this.state.isSetMaxUserNumberDialogOpen});\n  };\n\n  showEditIcon = (action) => {\n    return (\n      <span\n        title={gettext('Edit')}\n        className=\"fa fa-pencil-alt attr-action-icon\"\n        onClick={action}>\n      </span>\n    );\n  };\n\n  render() {\n    const { loading, errorMsg } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const { org_name, users_count, max_user_number, groups_count, quota, quota_usage, enable_saml_login, url_prefix, metadata_url, domain } = this.props.orgInfo;\n      const { isSetQuotaDialogOpen, isSetNameDialogOpen, isSetMaxUserNumberDialogOpen } = this.state;\n      return (\n        <Fragment>\n          <dl className=\"m-0\">\n            <dt className=\"info-item-heading\">{gettext('Name')}</dt>\n            <dd className=\"info-item-content\">\n              {org_name}\n              {this.showEditIcon(this.toggleSetNameDialog)}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Number of members')}</dt>\n            <dd className=\"info-item-content\">{users_count}</dd>\n\n            {max_user_number &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('Max number of members')}</dt>\n                <dd className=\"info-item-content\">\n                  {max_user_number}\n                  {this.showEditIcon(this.toggleSetMaxUserNumberDialog)}\n                </dd>\n              </Fragment>\n            }\n\n            <dt className=\"info-item-heading\">{gettext('Number of groups')}</dt>\n            <dd className=\"info-item-content\">{groups_count}</dd>\n\n            <dt className=\"info-item-heading\">{gettext('Space Used')}</dt>\n            <dd className=\"info-item-content\">\n              {`${Utils.bytesToSize(quota_usage)} / ${quota > 0 ? Utils.bytesToSize(quota) : '--'}`}\n              {this.showEditIcon(this.toggleSetQuotaDialog)}\n            </dd>\n            {enable_saml_login &&\n              <Fragment>\n                <dt className=\"info-item-heading\">{gettext('SAML Config')}</dt>\n                <dd className=\"info-item-content\">\n                  <Row className=\"my-4\">\n                    <Col md=\"3\">{gettext('Custom SAML Login URL')}</Col>\n                    <Col md=\"6\">{`${serviceURL}/org/custom/${url_prefix}`}</Col>\n                  </Row>\n                </dd>\n                <dd className=\"info-item-content\">\n                  <Row className=\"my-4\">\n                    <Col md=\"3\">{gettext('App Federation Metadata URL')}</Col>\n                    <Col md=\"6\">{metadata_url}</Col>\n                  </Row>\n                </dd>\n                <dd className=\"info-item-content\">\n                  <Row className=\"my-4\">\n                    <Col md=\"3\">{gettext('Email Domain')}</Col>\n                    <Col md=\"6\">{domain}</Col>\n                  </Row>\n                </dd>\n              </Fragment>\n            }\n          </dl>\n          {isSetQuotaDialogOpen &&\n          <SysAdminSetOrgQuotaDialog\n            updateQuota={this.props.updateQuota}\n            toggle={this.toggleSetQuotaDialog}\n          />\n          }\n          {isSetNameDialogOpen &&\n          <SysAdminSetOrgNameDialog\n            name={org_name}\n            updateName={this.props.updateName}\n            toggle={this.toggleSetNameDialog}\n          />\n          }\n          {isSetMaxUserNumberDialogOpen &&\n          <SysAdminSetOrgMaxUserNumberDialog\n            value={max_user_number}\n            updateValue={this.props.updateMaxUserNumber}\n            toggle={this.toggleSetMaxUserNumberDialog}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getDeviceErrorsListByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  orgInfo: PropTypes.object,\n  updateQuota: PropTypes.func.isRequired,\n  updateName: PropTypes.func.isRequired,\n  updateMaxUserNumber: PropTypes.func.isRequired,\n};\n\nclass OrgInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgInfo: {}\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        orgInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateQuota = (quota) => {\n    const data = {quota: quota};\n    seafileAPI.sysAdminUpdateOrg(this.props.orgID, data).then(res => {\n      const newOrgInfo = Object.assign(this.state.orgInfo, {\n        quota: res.data.quota\n      });\n      this.setState({orgInfo: newOrgInfo});\n      toaster.success(gettext('Successfully set quota.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateName = (orgName) => {\n    const data = {orgName: orgName};\n    seafileAPI.sysAdminUpdateOrg(this.props.orgID, data).then(res => {\n      const newOrgInfo = Object.assign(this.state.orgInfo, {\n        org_name: res.data.org_name\n      });\n      this.setState({orgInfo: newOrgInfo});\n      toaster.success(gettext('Successfully set name.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateMaxUserNumber = (newValue) => {\n    const data = {maxUserNumber: newValue};\n    seafileAPI.sysAdminUpdateOrg(this.props.orgID, data).then(res => {\n      const newOrgInfo = Object.assign(this.state.orgInfo, {\n        max_user_number: res.data.max_user_number\n      });\n      this.setState({orgInfo: newOrgInfo});\n      toaster.success(gettext('Successfully set max number of members.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { orgInfo } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav currentItem=\"info\" orgID={this.props.orgID} orgName={orgInfo.org_name} />\n            <div className=\"cur-view-content\">\n              <Content\n                orgID={this.props.orgID}\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                orgInfo={this.state.orgInfo}\n                updateQuota={this.updateQuota}\n                updateName={this.updateName}\n                updateMaxUserNumber={this.updateMaxUserNumber}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nOrgInfo.propTypes = {\n  orgID: PropTypes.string,\n  orgInfo: PropTypes.object,\n};\n\nexport default OrgInfo;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, username } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Selector from '../../../components/single-selector';\nimport SysAdminAddUserDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-user-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  toggleItemFreezed = (isFreezed) => {\n    this.setState({ isItemFreezed: isFreezed });\n  };\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No members')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"15%\">{gettext('Status')}</th>\n                <th width=\"15%\">{gettext('Membership')}</th>\n                <th width=\"15%\">{gettext('Space Used')}</th>\n                <th width=\"25%\">{gettext('Created At')}{' / '}{gettext('Last Login')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  toggleItemFreezed={this.toggleItemFreezed}\n                  updateStatus={this.props.updateStatus}\n                  updateMembership={this.props.updateMembership}\n                  deleteUser={this.props.deleteUser}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  updateStatus: PropTypes.func.isRequired,\n  updateMembership: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n      isResetPasswordDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Reset Password':\n        this.toggleResetPasswordDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  toggleResetPasswordDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isResetPasswordDialogOpen: !this.state.isResetPasswordDialogOpen});\n  };\n\n  updateStatus= (statusOption) => {\n    this.props.updateStatus(this.props.item.email, statusOption.value);\n  };\n\n  updateMembership= (membershipOption) => {\n    this.props.updateMembership(this.props.item.email, membershipOption.value);\n  };\n\n  deleteUser = () => {\n    const { item } = this.props;\n    this.props.deleteUser(item.org_id, item.email);\n  };\n\n  resetPassword = () => {\n    seafileAPI.sysAdminResetUserPassword(this.props.item.email).then(res => {\n      toaster.success(res.data.reset_tip);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Reset Password':\n        translateResult = gettext('Reset Password');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  translateStatus = (status) => {\n    switch (status) {\n      case 'active':\n        return gettext('Active');\n      case 'inactive':\n        return gettext('Inactive');\n    }\n  };\n\n  translateMembership = (membership) => {\n    switch (membership) {\n      case 'Admin':\n        return gettext('Admin');\n      case 'Member':\n        return gettext('Member');\n    }\n  };\n\n  render() {\n    const { item } = this.props;\n    const { highlight, isOpIconShown, isDeleteDialogOpen, isResetPasswordDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n    let resetPasswordDialogMsg = gettext('Are you sure you want to reset the password of {placeholder} ?').replace('{placeholder}', itemName);\n\n    // for 'user status'\n    const curStatus = item.active ? 'active' : 'inactive';\n    this.statusOptions = ['active', 'inactive'].map(item => {\n      return {\n        value: item,\n        text: this.translateStatus(item),\n        isSelected: item == curStatus\n      };\n    });\n    const currentSelectedStatusOption = this.statusOptions.filter(item => item.isSelected)[0];\n\n    // for 'user membership'\n    const curMembership = item.is_org_staff? 'Admin' : 'Member';\n    this.membershipOptions = ['Admin', 'Member'].map(item => {\n      return {\n        value: item,\n        text: this.translateMembership(item),\n        isSelected: item == curMembership\n      };\n    });\n    const currentSelectedMembershipOption = this.membershipOptions.filter(item => item.isSelected)[0];\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><UserLink email={item.email} name={item.name} /></td>\n          <td>\n            <Selector\n              isDropdownToggleShown={highlight}\n              currentSelectedOption={currentSelectedStatusOption}\n              options={this.statusOptions}\n              selectOption={this.updateStatus}\n              toggleItemFreezed={this.props.toggleItemFreezed}\n            />\n          </td>\n          <td>\n            <Selector\n              isDropdownToggleShown={highlight}\n              currentSelectedOption={currentSelectedMembershipOption}\n              options={this.membershipOptions}\n              selectOption={this.updateMembership}\n              toggleItemFreezed={this.props.toggleItemFreezed}\n            />\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}</td>\n          <td>\n            {moment(item.create_time).format('YYYY-MM-DD HH:mm:ss')}{' / '}{item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n          <td>\n            {(isOpIconShown && item.email != username) &&\n            <OpMenu\n              operations={['Delete', 'Reset Password']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Member')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteUser}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n        {isResetPasswordDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Reset Password')}\n            message={resetPasswordDialogMsg}\n            executeOperation={this.resetPassword}\n            confirmBtnText={gettext('Reset')}\n            toggleDialog={this.toggleResetPasswordDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  toggleItemFreezed: PropTypes.func.isRequired,\n  updateStatus: PropTypes.func.isRequired,\n  updateMembership: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass OrgUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgName: '',\n      userList: [],\n      isAddUserDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        orgName: res.data.org_name\n      });\n    });\n    seafileAPI.sysAdminListOrgUsers(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        userList: res.data.users\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  toggleAddUserDialog = () => {\n    this.setState({isAddUserDialogOpen: !this.state.isAddUserDialogOpen});\n  };\n\n  addUser = (newUserInfo) => {\n    const { email, name, password } = newUserInfo;\n    seafileAPI.sysAdminAddOrgUser(this.props.orgID, email, name, password).then(res => {\n      let userList = this.state.userList;\n      userList.unshift(res.data);\n      this.setState({userList: userList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUser = (orgID, email) => {\n    seafileAPI.sysAdminDeleteOrgUser(orgID, email).then(res => {\n      let newUserList = this.state.userList.filter(item => {\n        return item.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateStatus = (email, statusValue) => {\n    const isActive = statusValue == 'active';\n    seafileAPI.sysAdminUpdateOrgUser(this.props.orgID, email, 'active', isActive).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.active = res.data.active;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateMembership = (email, membershipValue) => {\n    const isOrgStaff = membershipValue == 'Admin';\n    seafileAPI.sysAdminUpdateOrgUser(this.props.orgID, email, 'is_org_staff', isOrgStaff).then(res => {\n      let newUserList = this.state.userList.map(item => {\n        if (item.email == email) {\n          item.is_org_staff = res.data.is_org_staff;\n        }\n        return item;\n      });\n      this.setState({userList: newUserList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { isAddUserDialogOpen, orgName } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddUserDialog}>{gettext('Add Member')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav\n              currentItem=\"users\"\n              orgID={this.props.orgID}\n              orgName={orgName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                updateStatus={this.updateStatus}\n                updateMembership={this.updateMembership}\n                deleteUser={this.deleteUser}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddUserDialogOpen &&\n          <SysAdminAddUserDialog\n            addUser={this.addUser}\n            toggleDialog={this.toggleAddUserDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nOrgUsers.propTypes = {\n  orgID: PropTypes.string,\n};\n\nexport default OrgUsers;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No groups')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Creator')}</th>\n                <th width=\"30%\">{gettext('Created At')}</th>\n                <th width=\"10%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  deleteGroup={this.props.deleteGroup}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getDeviceErrorsListByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  deleteGroup: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteGroup = () => {\n    this.toggleDeleteDialog();\n    this.props.deleteGroup(this.props.item.group_id);\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.group_name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n\n    const groupUrl = item.parent_group_id == 0 ?\n      `${siteRoot}sys/groups/${item.group_id}/libraries/` :\n      `${siteRoot}sys/departments/${item.group_id}/`;\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><a href={groupUrl}>{item.group_name}</a></td>\n          <td><UserLink email={item.creator_email} name={item.creator_name} /></td>\n          <td>{moment(item.created_at).format('YYYY-MM-DD HH:mm:ss')}</td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Group')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteGroup}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteGroup: PropTypes.func.isRequired,\n  transferGroup: PropTypes.func.isRequired,\n};\n\nclass OrgGroups extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgName: '',\n      groupList: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        orgName: res.data.org_name\n      });\n    });\n    seafileAPI.sysAdminListOrgGroups(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        groupList: res.data.group_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteGroup = (groupID) => {\n    seafileAPI.sysAdminDismissGroupByID(groupID).then(res => {\n      let newGroupList = this.state.groupList.filter(item => {\n        return item.group_id != groupID;\n      });\n      this.setState({groupList: newGroupList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav\n              currentItem=\"groups\"\n              orgID={this.props.orgID}\n              orgName={this.state.orgName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.groupList}\n                deleteGroup={this.deleteGroup}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nOrgGroups.propTypes = {\n  orgID: PropTypes.string,\n};\n\n\n\nexport default OrgGroups;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport OrgNav from './org-nav';\n\nclass Content extends Component {\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\"></th>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"35%\">{gettext('ID')}</th>\n                <th width=\"20%\">{gettext('Owner')}</th>\n                <th width=\"10%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  deleteRepo={this.props.deleteRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteRepo = () => {\n    this.props.deleteRepo(this.props.item.repo_id);\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    const iconUrl = Utils.getLibIconUrl(item);\n    const iconTitle = Utils.getLibIconTitle(item);\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.repo_name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{item.repo_name}</td>\n          <td>{item.repo_id}</td>\n          <td>\n            {!item.owner_email ?\n              '--' :\n              item.owner_email.indexOf('@seafile_group') == -1 ?\n                <UserLink email={item.owner_email} name={item.owner_name} /> :\n                item.owner_name\n            }\n          </td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Library')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteRepo}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n};\n\nclass OrgRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      orgName: '',\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetOrg(this.props.orgID).then((res) => {\n      this.setState({\n        orgName: res.data.org_name\n      });\n    });\n    seafileAPI.sysAdminListOrgRepos(this.props.orgID).then((res) => {\n      this.setState({\n        loading: false,\n        repoList: res.data.repo_list\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteRepo = (repoID) => {\n    seafileAPI.sysAdminDeleteRepo(repoID).then(res => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.repo_id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgNav\n              currentItem=\"repos\"\n              orgID={this.props.orgID}\n              orgName={this.state.orgName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n                deleteRepo={this.deleteRepo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nOrgRepos.propTypes = {\n  orgID: PropTypes.string,\n};\n\nexport default OrgRepos;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addInstitution: PropTypes.func.isRequired\n};\n\nclass SysAdminAddInstitutionDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleSubmit = () => {\n    this.toggle();\n    this.props.addInstitution(this.state.value.trim());\n  };\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add institution')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <p>{gettext('Name')}</p>\n            <FormGroup>\n              <Input\n                value={this.state.value}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddInstitutionDialog.propTypes = propTypes;\n\nexport default SysAdminAddInstitutionDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport SysAdminAddInstitutionDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-institution-dialog';\nimport Paginator from '../../../components/paginator';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getInstitutionsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getInstitutionsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No institutions')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"75%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Created At')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  deleteInstitution={this.props.deleteInstitution}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getInstitutionsByPage: PropTypes.func.isRequired,\n  deleteInstitution: PropTypes.func.isRequired,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteInstitution = () => {\n    this.props.deleteInstitution(this.props.item.id);\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    const institutionName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', institutionName);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><Link to={`${siteRoot}sys/institutions/${item.id}/info/`}>{item.name}</Link></td>\n          <td>{moment(item.ctime).fromNow()}</td>\n          <td>\n            <a href=\"#\" className={`action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Delete')} onClick={this.toggleDeleteDialog}></a>\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Institution')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteInstitution}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  deleteInstitution: PropTypes.func.isRequired,\n};\n\nclass Institutions extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isAddInstitutionDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getInstitutionsByPage(this.state.currentPage);\n    });\n  }\n\n  getInstitutionsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInstitutions(page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        institutionList: res.data.institution_list,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getInstitutionsByPage(this.initPage));\n  };\n\n  toggleAddInstitutionDialog = () => {\n    this.setState({isAddInstitutionDialogOpen: !this.state.isAddInstitutionDialogOpen});\n  };\n\n  addInstitution = (name) => {\n    seafileAPI.sysAdminAddInstitution(name).then(res => {\n      let institutionList = this.state.institutionList;\n      institutionList.push(res.data);\n      this.setState({institutionList: institutionList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteInstitution = (institutionID) => {\n    seafileAPI.sysAdminDeleteInstitution(institutionID).then(res => {\n      let institutionList = this.state.institutionList.filter(inst => {\n        return inst.id != institutionID;\n      });\n      this.setState({institutionList: institutionList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { isAddInstitutionDialogOpen, hasNextPage, currentPage, perPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddInstitutionDialog}>{gettext('Add Institution')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Institutions')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.institutionList}\n                deleteInstitution={this.deleteInstitution}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getInstitutionsByPage={this.getInstitutionsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddInstitutionDialogOpen &&\n          <SysAdminAddInstitutionDialog\n            addInstitution={this.addInstitution}\n            toggle={this.toggleAddInstitutionDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Institutions;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  institutionID: PropTypes.string,\n  institutionName: PropTypes.string.isRequired,\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'info', urlPart: 'info', text: gettext('Info')},\n      {name: 'members', urlPart: 'members', text: gettext('Members')},\n      {name: 'admins', urlPart: 'admins', text: gettext('Admins')},\n    ];\n  }\n\n  render() {\n    const { currentItem, institutionID, institutionName } = this.props;\n    return (\n      <div>\n        <div className=\"cur-view-path\">\n          <h3 className=\"sf-heading\"><Link to={`${siteRoot}sys/institutions/`}>{gettext('Institutions')}</Link> / {institutionName}</h3>\n        </div>\n        <ul className=\"nav border-bottom mx-4\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item mr-2\" key={index}>\n                <Link to={`${siteRoot}sys/institutions/${institutionID}/${item.urlPart}/`} className={`nav-link ${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport Loading from '../../../components/loading';\nimport SysAdminSetInstitutionQuotaDialog from '../../../components/dialog/sysadmin-dialog/set-quota';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport InstitutionNav from './institution-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSetQuotaDialogOpen: false,\n    };\n  }\n\n  toggleSetQuotaDialog = () => {\n    this.setState({isSetQuotaDialogOpen: !this.state.isSetQuotaDialogOpen});\n  };\n\n  showEditIcon = (action) => {\n    return (\n      <span\n        title={gettext('Edit')}\n        className=\"fa fa-pencil-alt attr-action-icon\"\n        onClick={action}>\n      </span>\n    );\n  };\n\n  render() {\n    const { loading, errorMsg, institutionInfo } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const { name, user_count, quota_total, quota_used } = institutionInfo;\n      const { isSetQuotaDialogOpen } = this.state;\n      return (\n        <Fragment>\n          <dl className=\"m-0\">\n            <dt className=\"info-item-heading\">{gettext('Name')}</dt>\n            <dd className=\"info-item-content\">\n              {name}\n            </dd>\n\n            <dt className=\"info-item-heading\">{gettext('Number of members')}</dt>\n            <dd className=\"info-item-content\">{user_count}</dd>\n\n            <dt className=\"info-item-heading\">{gettext('Space Used')}</dt>\n            <dd className=\"info-item-content\">\n              {`${Utils.bytesToSize(quota_used)} / ${quota_total > 0 ? Utils.bytesToSize(quota_total) : '--'}`}\n              {this.showEditIcon(this.toggleSetQuotaDialog)}\n            </dd>\n          </dl>\n          {isSetQuotaDialogOpen &&\n          <SysAdminSetInstitutionQuotaDialog\n            updateQuota={this.props.updateQuota}\n            toggle={this.toggleSetQuotaDialog}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  institutionInfo: PropTypes.object.isRequired,\n  updateQuota: PropTypes.func.isRequired,\n};\n\n\nclass InstitutionInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionInfo: {}\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetInstitution(this.props.institutionID).then((res) => {\n      this.setState({\n        loading: false,\n        institutionInfo: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  updateQuota = (quota) => {\n    seafileAPI.sysAdminUpdateInstitution(this.props.institutionID, quota).then(res => {\n      const newInstitutionInfo = Object.assign(this.state.institutionInfo, {\n        quota_total: res.data.quota_total,\n      });\n      this.setState({institutionInfo: newInstitutionInfo});\n      toaster.success(gettext('Successfully set quota.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n\n  render() {\n    const { institutionInfo } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <InstitutionNav currentItem=\"info\" institutionID={this.props.institutionID} institutionName={institutionInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                institutionInfo={this.state.institutionInfo}\n                updateQuota={this.updateQuota}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nInstitutionInfo.propTypes = {\n  institutionID: PropTypes.string,\n};\n\nexport default InstitutionInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addUser: PropTypes.func.isRequired\n};\n\nclass AddMemberDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: [],\n    };\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({ selectedOption: option });\n  };\n\n  handleSubmit = () => {\n    if (!this.state.selectedOption) return;\n    const emails = this.state.selectedOption.map(item => item.email);\n    this.props.addUser(emails);\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Add Member')}</ModalHeader>\n        <ModalBody>\n          <UserSelect\n            placeholder={gettext('Search users')}\n            onSelectChange={this.handleSelectChange}\n            isMulti={true}\n            className='org-add-member-select'\n          />\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{gettext('Submit')}</Button>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nAddMemberDialog.propTypes = propTypes;\n\nexport default AddMemberDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport AddMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-institution-member-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport InstitutionNav from './institution-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getInstitutionUsersByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getInstitutionUsersByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No members')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Status')}</th>\n                <th width=\"20%\">{gettext('Space Used')}</th>\n                <th width=\"40%\">{gettext('Created At')}{' / '}{gettext('Last Login')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  setAdmin={this.props.setAdmin}\n                  deleteUser={this.props.deleteUser}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getInstitutionUsersByPage: PropTypes.func.isRequired,\n  setAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isSetAdminDialogOpen: false,\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleSetAdminDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isSetAdminDialogOpen: !this.state.isSetAdminDialogOpen});\n  };\n\n  setAdmin = () => {\n    this.props.setAdmin(this.props.item.email);\n  };\n\n  onMenuItemClick = (operation) => {\n    switch (operation) {\n      case 'Delete':\n        this.props.deleteUser(this.props.item.email);\n        break;\n      case 'Set Admin':\n        this.toggleSetAdminDialog();\n        break;\n    }\n  };\n\n  getOperations = () => {\n    let operations = [];\n    if (!this.props.item.is_institution_admin) {\n      operations.push('Set Admin');\n    }\n    operations.push('Delete');\n    return operations;\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Set Admin':\n        translateResult = gettext('Set Admin');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isSetAdminDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const dialogMsg = gettext('Are you sure you want to set {placeholder} as Admin?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.email} name={item.name} />\n          </td>\n          <td>\n            {item.is_active ? gettext('Active') : gettext('Inactive')}\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}</td>\n          <td>\n            {moment(item.create_time).format('YYYY-MM-DD HH:mm:ss')}{' / '}{item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n          <td>\n            {isOpIconShown &&\n              <OpMenu\n                operations={this.getOperations()}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isSetAdminDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Set Admin')}\n            message={dialogMsg}\n            executeOperation={this.setAdmin}\n            toggleDialog={this.toggleSetAdminDialog}\n            confirmBtnText={gettext('Set Admin')}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.string.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  setAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass InstitutionUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionName: '',\n      userList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isAddUserDialogOpen: false\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetInstitution(this.props.institutionID).then((res) => {\n      this.setState({\n        institutionName: res.data.name\n      });\n    });\n\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getInstitutionUsersByPage(this.state.currentPage);\n    });\n  }\n\n  getInstitutionUsersByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInstitutionUsers(this.props.institutionID, page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        userList: res.data.user_list,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  setAdmin = (email) => {\n    seafileAPI.sysAdminUpdateInstitutionUser(this.props.institutionID, email, true).then(res => {\n      let userList = this.state.userList.map(user => {\n        if (user.email == email) {\n          user.is_institution_admin = true;\n        }\n        return user;\n      });\n      this.setState({userList: userList});\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleAddUserDialog = () => {\n    this.setState({isAddUserDialogOpen: !this.state.isAddUserDialogOpen});\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getInstitutionUsersByPage(this.initPage));\n  };\n\n  addUser = (emails) => {\n    seafileAPI.sysAdminAddInstitutionUserBatch(this.props.institutionID, emails).then(res => {\n      this.toggleAddUserDialog();\n      let successArray = res.data.success;\n      let failedArray = res.data.failed;\n      if (successArray.length) {\n        let newUserList = this.state.userList.concat(successArray);\n        this.setState({userList: newUserList});\n      }\n      failedArray.forEach((item) => {\n        toaster.danger(item.error_msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUser = (email) => {\n    seafileAPI.sysAdminDeleteInstitutionUser(this.props.institutionID, email).then(res => {\n      let newUserList = this.state.userList.filter(user => {\n        return user.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success('success');\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { isAddUserDialogOpen, institutionName, hasNextPage, currentPage, perPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddUserDialog}>{gettext('Add Member')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <InstitutionNav\n              currentItem=\"members\"\n              institutionID={this.props.institutionID}\n              institutionName={institutionName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                setAdmin={this.setAdmin}\n                deleteUser={this.deleteUser}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getInstitutionUsersByPage={this.getInstitutionUsersByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddUserDialogOpen &&\n          <AddMemberDialog\n            addUser={this.addUser}\n            toggle={this.toggleAddUserDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nInstitutionUsers.propTypes = {\n  institutionID: PropTypes.string,\n};\n\nexport default InstitutionUsers;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport InstitutionNav from './institution-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No admins')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Status')}</th>\n                <th width=\"20%\">{gettext('Space Used')}</th>\n                <th width=\"40%\">{gettext('Created At')}{' / '}{gettext('Last Login')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  revokeAdmin={this.props.revokeAdmin}\n                  deleteUser={this.props.deleteUser}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  revokeAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isRevokeAdminDialogOpen: false,\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleRevokeAdminDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isRevokeAdminDialogOpen: !this.state.isRevokeAdminDialogOpen});\n  };\n\n  revokeAdmin = () => {\n    this.props.revokeAdmin(this.props.item);\n  };\n\n  onMenuItemClick = (operation) => {\n    switch (operation) {\n      case 'Revoke Admin':\n        this.toggleRevokeAdminDialog();\n        break;\n    }\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Revoke Admin':\n        translateResult = gettext('Revoke Admin');\n        break;\n    }\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isRevokeAdminDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const revokeAdminDialogMsg = gettext('Are you sure you want to revoke the admin permission of {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.email} name={item.name} />\n          </td>\n          <td>\n            {item.is_active ? gettext('Active') : gettext('Inactive')}\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}</td>\n          <td>\n            {moment(item.create_time).format('YYYY-MM-DD HH:mm:ss')}{' / '}{item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Revoke Admin']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isRevokeAdminDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Revoke Admin')}\n            message={revokeAdminDialogMsg}\n            executeOperation={this.revokeAdmin}\n            confirmBtnText={gettext('Revoke')}\n            toggleDialog={this.toggleRevokeAdminDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  revokeAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n};\n\nclass InstitutionAdmins extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionName: '',\n      userList: [],\n      isAddUserDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetInstitution(this.props.institutionID).then((res) => {\n      this.setState({\n        institutionName: res.data.name\n      });\n    });\n    seafileAPI.sysAdminListInstitutionAdmins(this.props.institutionID).then((res) => {\n      this.setState({\n        loading: false,\n        userList: res.data.user_list,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  revokeAdmin = (item) => {\n    const email = item.email;\n    const name = item.name;\n    seafileAPI.sysAdminUpdateInstitutionUser(this.props.institutionID, email, false).then(res => {\n      let userList = this.state.userList.filter(user => {\n        return user.email != email;\n      });\n      this.setState({userList: userList});\n      toaster.success(gettext('Successfully revoked the admin permission of {placeholder}.').replace('{placeholder}', name));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUser = (email) => {\n    seafileAPI.sysAdminDeleteInstitutionUser(this.props.institutionID, email).then(res => {\n      let newUserList = this.state.userList.filter(user => {\n        return user.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success('success');\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { institutionName } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <InstitutionNav\n              currentItem=\"admins\"\n              institutionID={this.props.institutionID}\n              institutionName={institutionName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                revokeAdmin={this.revokeAdmin}\n                deleteUser={this.deleteUser}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nInstitutionAdmins.propTypes = {\n  institutionID: PropTypes.string,\n};\n\nexport default InstitutionAdmins;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'loginLogs', urlPart:'logs/login', text: gettext('Login')},\n      {name: 'fileAccessLogs', urlPart:'logs/file-access', text: gettext('File Access')},\n      {name: 'fileUpdateLogs', urlPart:'logs/file-update', text: gettext('File Update')},\n      {name: 'sharePermissionLogs', urlPart:'logs/share-permission', text: gettext('Permission')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, FormGroup, Label, Input, Alert } from 'reactstrap';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport moment from 'moment';\n\nclass LogsExportExcelDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      startDateStr: '',\n      endDateStr: '',\n      errMsg: '',\n    };\n  }\n\n  downloadExcel = () => {\n    if (!this.isValidDateStr()) {\n      return;\n    }\n    let { startDateStr, endDateStr } = this.state;\n    let url = siteRoot;\n\n    switch (this.props.logType) {\n      case 'login':\n        url += 'sys/loginadmin/export-excel/';\n        break;\n      case 'fileAccess':\n        url += 'sys/log/fileaudit/export-excel/';\n        break;\n      case 'fileUpdate':\n        url += 'sys/log/fileupdate/export-excel/';\n        break;\n      case 'sharePermission':\n        url += 'sys/log/permaudit/export-excel/';\n        break;\n    }\n    location.href = url + '?start=' + startDateStr + '&end=' + endDateStr;\n    this.props.toggle();\n  };\n\n  isValidDateStr = () => {\n    let { startDateStr, endDateStr } = this.state;\n    if (moment(startDateStr, 'YYYY-MM-DD', true).isValid() &&\n      moment(endDateStr, 'YYYY-MM-DD', true).isValid() &&\n      moment(startDateStr).isBefore(endDateStr)\n    ) {\n      return true;\n    } else {\n      this.setState({\n        errMsg: gettext('Date Invalid.')\n      });\n      return false;\n    }\n  };\n\n  handleStartChange = (e) => {\n    const startDateStr = e.target.value.trim();\n    this.setState({\n      startDateStr: startDateStr,\n      errMsg: ''\n    });\n  };\n\n  handleEndChange = (e) => {\n    const endDateStr = e.target.value.trim();\n    this.setState({\n      endDateStr: endDateStr,\n      errMsg: '',\n    });\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.props.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.props.toggle}>{gettext('Choose date')}</ModalHeader>\n        <ModalBody>\n          <FormGroup>\n            <Label>{gettext('Start date')}</Label>\n            <Input\n              value={this.state.startDateStr}\n              onChange={this.handleStartChange}\n              placeholder='yyyy-mm-dd'\n              autoFocus={true}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label>{gettext('End date')}</Label>\n            <Input\n              value={this.state.endDateStr}\n              onChange={this.handleEndChange}\n              placeholder='yyyy-mm-dd'\n            />\n          </FormGroup>\n          {this.state.errMsg &&\n            <Alert className=\"mt-2\" color=\"danger\">\n              {gettext(this.state.errMsg)}\n            </Alert>\n          }\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.downloadExcel}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  logType: PropTypes.string.isRequired,\n};\n\nLogsExportExcelDialog.propTypes = propTypes;\n\nexport default LogsExportExcelDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport { Button } from 'reactstrap';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\nimport ModalPortal from '../../../components/modal-portal';\n\n\nclass Content extends Component {\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No login logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"25%\">{gettext('IP')}</th>\n                <th width=\"25%\">{gettext('Status')}</th>\n                <th width=\"25%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{item.login_ip}</td>\n        <td>{item.log_success ? gettext('Success') : gettext('Failed')}</td>\n        <td>{moment(item.login_time).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass LoginLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  };\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListLoginLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.login_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage, isExportExcelDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"loginLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'login'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default LoginLogs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\n\nclass FilterMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMenuShown: false\n    };\n  }\n\n  toggleMenu = () => {\n    this.setState({\n      isMenuShown: !this.state.isMenuShown\n    }, () => {\n      this.props.toggleFreezeItem(this.state.isMenuShown);\n    });\n  };\n\n  onItemClick = () => {\n    this.props.filterItems();\n    this.props.toggleFreezeItem(false);\n  };\n\n  render() {\n    const { filterBy } = this.props;\n    return (\n      <Dropdown isOpen={this.state.isMenuShown} toggle={this.toggleMenu}>\n        <DropdownToggle\n          tag=\"i\"\n          className=\"sf-dropdown-toggle sf2-icon-caret-down\"\n          title={gettext('More Operations')}\n          data-toggle=\"dropdown\"\n          aria-expanded={this.state.isMenuShown}\n        />\n        <DropdownMenu>\n          <DropdownItem onClick={this.onItemClick}>{gettext('only show {placeholder}').replace('{placeholder}', filterBy)}</DropdownItem>\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nFilterMenu.propTypes = {\n  toggleFreezeItem: PropTypes.func.isRequired,\n  filterItems: PropTypes.func.isRequired,\n  filterBy: PropTypes.string.isRequired,\n};\n\nexport default FilterMenu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\n\nclass ToggleFilter extends React.Component {\n  render() {\n    const { filterBy } = this.props;\n    return (\n      <Button\n        color='secondary'\n        className=\"my-2 mr-2\"\n        onClick={this.props.toggleFilter}\n      >\n        <span className=\"text-primary\">{filterBy}</span>\n        <span className=\"ml-2 close\" style={{fontSize: '1.2rem'}}>x</span>\n      </Button>\n    );\n  }\n}\n\nToggleFilter.propTypes = {\n  filterBy: PropTypes.string.isRequired,\n  toggleFilter: PropTypes.func.isRequired,\n};\n\nexport default ToggleFilter;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport { Button } from 'reactstrap';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport LogsNav from './logs-nav';\nimport FilterMenu from './file-access-item-menu';\nimport ToggleFilter from './file-access-toggle-filter';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  toggleFilterByUser = () => {\n    this.props.filterByUser(null);\n  };\n\n  toggleFilterByRepo = () => {\n    this.props.filterByRepo(null);\n  };\n\n  toggleFreezeItem = (freezed) => {\n    this.setState({\n      isItemFreezed: freezed\n    });\n  };\n\n  render() {\n    const {\n      loading, errorMsg, items,\n      userFilteredBy, repoFilteredBy,\n      perPage, currentPage, hasNextPage\n    } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No file access logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <div>\n            {userFilteredBy && (\n              <ToggleFilter\n                filterBy={items[0].name}\n                toggleFilter={this.toggleFilterByUser}\n              />\n            )}\n            {repoFilteredBy && (\n              <ToggleFilter\n                filterBy={items[0].repo_name}\n                toggleFilter={this.toggleFilterByRepo}\n              />\n            )}\n          </div>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Type')}</th>\n                <th width=\"20%\">{gettext('IP')}{' / '}{gettext('Device')}</th>\n                <th width=\"20%\">{gettext('Date')}</th>\n                <th width=\"15%\">{gettext('Library')}</th>\n                <th width=\"15%\">{gettext('File')}{' / '}{gettext('Folder')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    isFreezed={this.state.isItemFreezed}\n                    toggleFreezeItem={this.toggleFreezeItem}\n                    userFilteredBy={userFilteredBy}\n                    repoFilteredBy={repoFilteredBy}\n                    filterByUser={this.props.filterByUser}\n                    filterByRepo={this.props.filterByRepo}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool,\n  errorMsg: PropTypes.string,\n  items: PropTypes.array,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  toggleFreezeItem: PropTypes.func,\n  userFilteredBy: PropTypes.string,\n  repoFilteredBy: PropTypes.string,\n  filterByUser: PropTypes.func,\n  filterByRepo: PropTypes.func,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHighlighted: false,\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isFreezed) {\n      this.setState({\n        isHighlighted: true,\n        isOpIconShown: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isFreezed) {\n      this.setState({\n        isHighlighted: false,\n        isOpIconShown: false\n      });\n    }\n  };\n\n  filterByUser = () => {\n    const { item } = this.props;\n    this.props.filterByUser(item.email);\n  };\n\n  filterByRepo = () => {\n    const { item } = this.props;\n    this.props.filterByRepo(item.repo_id);\n  };\n\n  toggleFreezeItem = (freezed) => {\n    this.props.toggleFreezeItem(freezed);\n    if (!freezed) {\n      this.setState({\n        isHighlighted: false,\n        isOpIconShown: false\n      });\n    }\n  };\n\n  render() {\n    const { isHighlighted, isOpIconShown } = this.state;\n    const { item, userFilteredBy, repoFilteredBy } = this.props;\n    return (\n      <tr className={isHighlighted ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        <td>\n          <UserLink email={item.email} name={item.name} />\n          {isOpIconShown && !userFilteredBy && (\n            <FilterMenu\n              filterBy={item.name}\n              filterItems={this.filterByUser}\n              toggleFreezeItem={this.toggleFreezeItem}\n            />\n          )}\n        </td>\n        <td>{item.event_type}</td>\n        <td>{item.ip}{' / '}{item.device || '--'}</td>\n        <td>{moment(item.time).fromNow()}</td>\n        <td>\n          {item.repo_name ? item.repo_name : gettext('Deleted')}\n          {isOpIconShown && item.repo_name && !repoFilteredBy && (\n            <FilterMenu\n              filterBy={item.repo_name}\n              filterItems={this.filterByRepo}\n              toggleFreezeItem={this.toggleFreezeItem}\n            />\n          )}\n        </td>\n        <td>{item.file_or_dir_name}</td>\n      </tr>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  item: PropTypes.object,\n  isFreezed: PropTypes.bool,\n  toggleFreezeItem: PropTypes.func,\n  userFilteredBy: PropTypes.string,\n  repoFilteredBy: PropTypes.string,\n  filterByUser: PropTypes.func,\n  filterByRepo: PropTypes.func,\n};\n\nclass FileAccessLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  };\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage),\n      userFilteredBy: urlParams.get('email'),\n      repoFilteredBy: urlParams.get('repo_id')\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    const { perPage, userFilteredBy, repoFilteredBy } = this.state;\n    seafileAPI.sysAdminListFileAccessLogs(page, perPage, userFilteredBy, repoFilteredBy).then((res) => {\n      this.setState({\n        logList: res.data.file_access_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: res.data.has_next_page,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  updateURL = (obj) => {\n    let url = new URL(location.href);\n    let searchParams = new URLSearchParams(url.search);\n    for (let key in obj) {\n      obj[key] == null ?\n        searchParams.delete(key) :\n        searchParams.set(key, obj[key]);\n    }\n    url.search = searchParams.toString();\n    navigate(url.toString());\n  };\n\n  filterByUser = (email) => {\n    this.setState({\n      userFilteredBy: email\n    }, () => {\n      this.getLogsByPage(this.initPage);\n      this.updateURL({'email': email});\n    });\n  };\n\n  filterByRepo = (repoID) => {\n    this.setState({\n      repoFilteredBy: repoID\n    }, () => {\n      this.getLogsByPage(this.initPage);\n      this.updateURL({'repo_id': repoID});\n    });\n  };\n\n  render() {\n    const {\n      logList,\n      userFilteredBy, repoFilteredBy,\n      currentPage, perPage, hasNextPage,\n      isExportExcelDialogOpen\n    } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"fileAccessLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                userFilteredBy={userFilteredBy}\n                repoFilteredBy={repoFilteredBy}\n                filterByUser={this.filterByUser}\n                filterByRepo={this.filterByRepo}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'fileAccess'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default FileAccessLogs;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport { Button } from 'reactstrap';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport ModalPortal from '../../../components/modal-portal';\nimport CommitDetails from '../../../components/dialog/commit-details';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\n\nclass Content extends Component {\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No file update logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"25%\">{gettext('Date')}</th>\n                <th width=\"25%\">{gettext('Library')}</th>\n                <th width=\"25%\">{gettext('Action')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      isCommitDetailsDialogOpen: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n\n  toggleCommitDetailsDialog = () => {\n    this.setState({\n      isCommitDetailsDialogOpen: !this.state.isCommitDetailsDialogOpen\n    });\n  };\n\n  showCommitDetails = (e) => {\n    e.preventDefault();\n    this.setState({\n      isCommitDetailsDialogOpen: !this.state.isCommitDetailsDialogOpen\n    });\n  };\n\n  render() {\n    let { item } = this.props;\n    return (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td><UserLink email={item.email} name={item.name} /></td>\n          <td>{moment(item.time).fromNow()}</td>\n          <td>{item.repo_name ? item.repo_name : gettext('Deleted')}</td>\n          <td>\n            {item.file_operation}\n            {item.repo_name && !item.repo_encrypted &&\n              <a className=\"ml-1\" href=\"#\" onClick={this.showCommitDetails}>{gettext('Details')}</a>\n            }\n          </td>\n        </tr>\n        {this.state.isCommitDetailsDialogOpen &&\n          <ModalPortal>\n            <CommitDetails\n              repoID={item.repo_id}\n              commitID={item.commit_id}\n              commitTime={item.time}\n              toggleDialog={this.toggleCommitDetailsDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\n\nclass FileUpdateLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  };\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListFileUpdateLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.file_update_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: res.data.has_next_page,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage, isExportExcelDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"fileUpdateLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'fileUpdate'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default FileUpdateLogs;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport LogsExportExcelDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-logs-export-excel-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\nimport LogsNav from './logs-nav';\n\nclass Content extends Component {\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No permission logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"15%\">{gettext('Share From')}</th>\n                <th width=\"15%\">{gettext('Share To')}</th>\n                <th width=\"10%\">{gettext('Actions')}</th>\n                <th width=\"13%\">{gettext('Permission')}</th>\n                <th width=\"20%\">{gettext('Library')}</th>\n                <th width=\"12%\">{gettext('Folder')}</th>\n                <th width=\"15%\">{gettext('Date')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  getActionTextByEType = (etype) => {\n    if (etype.indexOf('add') != -1) {\n      return gettext('Add');\n    } else if (etype.indexOf('modify') != -1) {\n      return gettext('Modify');\n    } else if (etype.indexOf('delete') != -1) {\n      return gettext('Delete');\n    } else {\n      return '';\n    }\n  };\n\n  getShareTo = (item) => {\n    switch(item.share_type) {\n      case 'user':\n        return <UserLink email={item.to_user_email} name={item.to_user_name} />;\n      case 'group':\n        return <Link to={`${siteRoot}sys/groups/${item.to_group_id}/libraries/`}>{item.to_group_name}</Link>;\n      case 'department':\n        return <Link to={`${siteRoot}sys/departments/${item.to_group_id}/`}>{item.to_group_name}</Link>;\n      case 'all':\n        return <Link to={`${siteRoot}org/`}>{gettext('All')}</Link>;\n      default:\n        return gettext('Deleted');\n    }\n  };\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.from_user_email} name={item.from_user_name} /></td>\n        <td>{this.getShareTo(item)}</td>\n        <td>{this.getActionTextByEType(item.etype)}</td>\n        <td>{Utils.sharePerms(item.permission)}</td>\n        <td>{item.repo_name ? item.repo_name : gettext('Deleted')}</td>\n        <td>{item.folder}</td>\n        <td>{moment(item.date).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass SharePermissionLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isExportExcelDialogOpen: false,\n    };\n    this.initPage = 1;\n  }\n\n  toggleExportExcelDialog = () => {\n    this.setState({isExportExcelDialogOpen: !this.state.isExportExcelDialogOpen});\n  };\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListSharePermissionLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.share_permission_log_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: res.data.has_next_page,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage, isExportExcelDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleExportExcelDialog}>{gettext('Export Excel')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"sharePermissionLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isExportExcelDialogOpen &&\n        <ModalPortal>\n          <LogsExportExcelDialog\n            logType={'sharePermission'}\n            toggle={this.toggleExportExcelDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default SharePermissionLogs;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  headingText: PropTypes.string.isRequired,\n  children: PropTypes.object.isRequired\n};\n\nclass Section extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { headingText, children} = this.props;\n    return (\n      <div className=\"mb-4\">\n        <h4 className=\"border-bottom font-weight-normal mb-2 pb-1\">{headingText}</h4>\n        {children}\n      </div>\n    );\n  }\n}\n\nSection.propTypes = propTypes;\n\nexport default Section;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col, Label } from 'reactstrap';\n\nconst propTypes = {\n  displayName: PropTypes.string.isRequired,\n  helpTip: PropTypes.string,\n  mainContent: PropTypes.object.isRequired,\n  extraContent: PropTypes.object\n};\n\nclass SettingItemBase extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { helpTip, displayName, mainContent, extraContent } = this.props;\n    return (\n      <Fragment>\n        <Row className=\"my-4\">\n          <Col md=\"3\">\n            <Label className=\"web-setting-label\">{displayName}</Label>\n          </Col>\n          <Col md=\"5\">\n            {mainContent}\n            {helpTip && <p className=\"small text-secondary mt-1\">{helpTip}</p>}\n          </Col>\n          <Col md=\"4\">\n            {extraContent}\n          </Col>\n        </Row>\n      </Fragment>\n    );\n  }\n}\n\nSettingItemBase.propTypes = propTypes;\n\nexport default SettingItemBase;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input, Button } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  inputType: PropTypes.string,\n  saveSetting: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string,PropTypes.number]),\n  helpTip: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingInput extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isBtnsShown: false,\n      value: this.props.value\n    };\n  }\n\n  toggleBtns = () => {\n    this.setState({isBtnsShown: !this.state.isBtnsShown});\n  };\n\n  hideBtns = (e) => {\n    if (!this.state.isBtnsShown) {\n      return;\n    }\n    if (this.props.value != this.state.value) {\n      this.setState({value: this.props.value});\n    }\n    this.toggleBtns();\n  };\n\n  onInputChange = (e) => {\n    this.setState({ value: e.target.value });\n  };\n\n  onSubmit = (e) => {\n    const value = this.state.value.trim();\n    if (value != this.props.value) {\n      this.props.saveSetting(this.props.keyText, value);\n    }\n    this.toggleBtns();\n  };\n\n  render() {\n    const { isBtnsShown, value } = this.state;\n    const { helpTip, displayName, inputType } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        helpTip={helpTip}\n        mainContent={\n          <Input type={inputType || 'text'} className={inputType == 'textarea' ? 'web-setting-textarea' : ''} onChange={this.onInputChange} onFocus={this.toggleBtns} onBlur={this.hideBtns} value={value} />\n        }\n        extraContent={\n          isBtnsShown ?\n            <Fragment>\n              <Button className=\"sf2-icon-tick web-setting-icon-btn web-setting-icon-btn-submit\" onMouseDown={this.onSubmit} title={gettext('Submit')}></Button>\n              <Button className=\"ml-1 sf2-icon-x2 web-setting-icon-btn web-setting-icon-btn-cancel\" title={gettext('Cancel')}></Button>\n            </Fragment> : null\n        }\n      />\n    );\n  }\n}\n\nWebSettingInput.propTypes = propTypes;\n\nexport default WebSettingInput;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  postFile: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  helpTip: PropTypes.string.isRequired,\n  fileWidth: PropTypes.number.isRequired,\n  fileHeight: PropTypes.number.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingFile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.fileInput = React.createRef();\n  }\n\n  uploadFile = () => {\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n    this.props.postFile(file, this.props.keyText);\n  };\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  };\n\n  render() {\n    const { helpTip, filePath, fileWidth, fileHeight, displayName } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        helpTip={helpTip}\n        mainContent={\n          <img src={filePath + '?t=' + new Date().getTime()} alt={displayName} width={fileWidth} height={fileHeight} className=\"mb-1\" />\n        }\n        extraContent={\n          <Fragment>\n            <Button color=\"secondary\" onClick={this.openFileInput}>{gettext('Change')}</Button>\n            <input className=\"d-none\" type=\"file\" onChange={this.uploadFile} ref={this.fileInput} />\n          </Fragment>\n        }\n      />\n    );\n  }\n}\n\nWebSettingFile.propTypes = propTypes;\n\nexport default WebSettingFile;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input } from 'reactstrap';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  saveSetting: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  helpTip: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingCheckbox extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputChecked: this.props.value\n    };\n  }\n\n  onInputChange = (e) => {\n    const checked = e.target.checked;\n    const valueToNum = checked ? 1 : 0;\n    this.setState({\n      inputChecked: checked\n    });\n    this.props.saveSetting(this.props.keyText, valueToNum);\n  };\n\n  render() {\n    const { inputChecked } = this.state;\n    const { helpTip, displayName } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        mainContent={\n          <Fragment>\n            <Input className=\"ml-0\" checked={inputChecked} type='checkbox' onChange={this.onInputChange} />\n            <p className=\"ml-4\">{helpTip}</p>\n          </Fragment>\n        }\n      />\n    );\n  }\n}\n\nWebSettingCheckbox.propTypes = propTypes;\n\nexport default WebSettingCheckbox;\n","import React, { Component, Fragment } from 'react';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, isPro, mediaUrl, logoPath, faviconPath, loginBGPath } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Section from './section';\nimport InputItem from './input-item';\nimport FileItem from './file-item';\nimport CheckboxItem from './checkbox-item';\n\nimport '../../../css/system-admin-web-settings.css';\n\nclass WebSettings extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      config_dict: null,\n      logoPath: mediaUrl + logoPath,\n      faviconPath: mediaUrl + faviconPath,\n      loginBGPath: mediaUrl + loginBGPath\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetSysSettingInfo().then((res) => {\n      this.setState({\n        loading: false,\n        config_dict: res.data\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  saveSetting = (key, value) => {\n    seafileAPI.sysAdminSetSysSettingInfo(key, value).then((res) => {\n      this.setState({\n        config_dict: res.data\n      });\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  postFile = (file, fileType) => {\n    let postFile;\n    if (fileType == 'Logo') {\n      postFile = seafileAPI.sysAdminUpdateLogo(file);\n    } else if (fileType == 'Favicon') {\n      postFile = seafileAPI.sysAdminUpdateFavicon(file);\n    } else if (fileType == 'loginBGImage') {\n      postFile = seafileAPI.sysAdminUpdateLoginBG(file);\n    }\n    postFile.then((res) => {\n      if (fileType == 'Logo') {\n        this.setState({\n          logoPath: res.data.logo_path\n        });\n      } else if (fileType == 'Favicon') {\n        this.setState({\n          faviconPath: res.data.favicon_path\n        });\n      } else if (fileType == 'loginBGImage') {\n        this.setState({\n          loginBGPath: res.data.login_bg_image_path\n        });\n      }\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { loading, errorMsg, config_dict, logoPath, faviconPath, loginBGPath } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Settings')}</h3>\n            </div>\n            <div className=\"cur-view-content container mw-100\">\n              {loading && <Loading />}\n              {errorMsg && <p className=\"error text-center mt-4\">{errorMsg}</p>}\n              {(!loading && !errorMsg) && config_dict &&\n              <Fragment>\n                <p className=\"small text-secondary my-4\">{gettext('Note: Settings via web interface are saved in database table (seahub-db/constance_config). They have a higher priority over the settings in config files.')}</p>\n\n                <Section headingText='URL'>\n                  <Fragment>\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='SERVICE_URL'\n                      keyText='SERVICE_URL'\n                      value={config_dict['SERVICE_URL']}\n                      helpTip={gettext('The URL of the server, like https://seafile.example.com or http://192.168.1.2:8000')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='FILE_SERVER_ROOT'\n                      keyText='FILE_SERVER_ROOT'\n                      value={config_dict['FILE_SERVER_ROOT']}\n                      helpTip={gettext('The internal URL for downloading/uploading files. Users will not be able to download/upload files if this is not set correctly. If you config Seafile behind Nginx/Apache, it should be SERVICE_URL/seafhttp, like https://seafile.example.com/seafhttp .')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Branding')}>\n                  <Fragment>\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='SITE_TITLE'\n                      keyText='SITE_TITLE'\n                      value={config_dict['SITE_TITLE']}\n                      helpTip={gettext('Site title shown in a browser tab')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='SITE_NAME'\n                      keyText='SITE_NAME'\n                      value={config_dict['SITE_NAME']}\n                      helpTip={gettext('Site name used in email sending')}\n                    />\n                    <FileItem\n                      postFile={this.postFile}\n                      displayName='Logo'\n                      keyText='Logo'\n                      filePath={logoPath}\n                      fileWidth={256}\n                      fileHeight={64}\n                      helpTip='logo.png, 256px * 64px'\n                    />\n                    <FileItem\n                      postFile={this.postFile}\n                      displayName='Favicon'\n                      keyText='Favicon'\n                      filePath={faviconPath}\n                      fileWidth={32}\n                      fileHeight={32}\n                      helpTip='favicon.ico, 32px * 32px'\n                    />\n                    <FileItem\n                      postFile={this.postFile}\n                      displayName={gettext('Login Background Image')}\n                      keyText='loginBGImage'\n                      filePath={loginBGPath}\n                      fileWidth={240}\n                      fileHeight={160}\n                      helpTip='login-bg.jpg, 2400px * 1600px'\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='ENABLE_BRANDING_CSS'\n                      keyText='ENABLE_BRANDING_CSS'\n                      value={config_dict['ENABLE_BRANDING_CSS']}\n                      helpTip={gettext('Use custom CSS')}\n                    />\n                    <InputItem\n                      inputType=\"textarea\"\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('Custom CSS')}\n                      keyText='CUSTOM_CSS'\n                      value={config_dict['CUSTOM_CSS']}\n                      helpTip=''\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('User')}>\n                  <Fragment>\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('allow new registrations')}\n                      keyText='ENABLE_SIGNUP'\n                      value={config_dict['ENABLE_SIGNUP']}\n                      helpTip={gettext('Allow new user registrations. Uncheck this to prevent anyone from creating a new account.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('activate after registration')}\n                      keyText='ACTIVATE_AFTER_REGISTRATION'\n                      value={config_dict['ACTIVATE_AFTER_REGISTRATION']}\n                      helpTip={gettext('Activate user immediately after registration. If unchecked, a user need to be activated by administrator or via activation email')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('send activation email')}\n                      keyText='REGISTRATION_SEND_MAIL'\n                      value={config_dict['REGISTRATION_SEND_MAIL']}\n                      helpTip={gettext('Send activation Email after user registration.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('keep sign in')}\n                      keyText='LOGIN_REMEMBER_DAYS'\n                      value={config_dict['LOGIN_REMEMBER_DAYS']}\n                      helpTip={gettext('Number of days that keep user sign in.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName='LOGIN_ATTEMPT_LIMIT'\n                      keyText='LOGIN_ATTEMPT_LIMIT'\n                      value={config_dict['LOGIN_ATTEMPT_LIMIT']}\n                      helpTip={gettext('The maximum number of failed login attempts before showing CAPTCHA.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='FREEZE_USER_ON_LOGIN_FAILED'\n                      keyText='FREEZE_USER_ON_LOGIN_FAILED'\n                      value={config_dict['FREEZE_USER_ON_LOGIN_FAILED']}\n                      helpTip={gettext('Freeze user account when failed login attempts exceed limit.')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Groups')}>\n                  <CheckboxItem\n                    saveSetting={this.saveSetting}\n                    displayName='ENABLE_SHARE_TO_ALL_GROUPS'\n                    keyText='ENABLE_SHARE_TO_ALL_GROUPS'\n                    value={config_dict['ENABLE_SHARE_TO_ALL_GROUPS']}\n                    helpTip={gettext('Enable users to share libraries to any groups in the system.')}\n                  />\n                </Section>\n\n                <Section headingText={gettext('Password')}>\n                  <Fragment>\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='strong password'\n                      keyText='USER_STRONG_PASSWORD_REQUIRED'\n                      value={config_dict['USER_STRONG_PASSWORD_REQUIRED']}\n                      helpTip={gettext('Force user to use a strong password when sign up or change password.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='force password change'\n                      keyText='FORCE_PASSWORD_CHANGE'\n                      value={config_dict['FORCE_PASSWORD_CHANGE']}\n                      helpTip={gettext('Force user to change password when account is newly added or reset by admin')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('password minimum length')}\n                      keyText='USER_PASSWORD_MIN_LENGTH'\n                      value={config_dict['USER_PASSWORD_MIN_LENGTH']}\n                      helpTip={gettext('The least number of characters an account password should include.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('password strength level')}\n                      keyText='USER_PASSWORD_STRENGTH_LEVEL'\n                      value={config_dict['USER_PASSWORD_STRENGTH_LEVEL']}\n                      helpTip={gettext('The level(1-4) of an account password\\'s strength. For example, \\'3\\' means password must have at least 3 of the following: num, upper letter, lower letter and other symbols')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='enable two factor authentication'\n                      keyText='ENABLE_TWO_FACTOR_AUTH'\n                      value={config_dict['ENABLE_TWO_FACTOR_AUTH']}\n                      helpTip={gettext('Enable two factor authentication')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Library')}>\n                  <Fragment>\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='library history'\n                      keyText='ENABLE_REPO_HISTORY_SETTING'\n                      value={config_dict['ENABLE_REPO_HISTORY_SETTING']}\n                      helpTip={gettext('Allow user to change library history settings')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='encrypted library'\n                      keyText='ENABLE_ENCRYPTED_LIBRARY'\n                      value={config_dict['ENABLE_ENCRYPTED_LIBRARY']}\n                      helpTip={gettext('Allow user to create encrypted libraries')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('library password minimum length')}\n                      keyText='REPO_PASSWORD_MIN_LENGTH'\n                      value={config_dict['REPO_PASSWORD_MIN_LENGTH']}\n                      helpTip={gettext('The least number of characters an encrypted library password should include.')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('share/upload link force password')}\n                      keyText='SHARE_LINK_FORCE_USE_PASSWORD'\n                      value={config_dict['SHARE_LINK_FORCE_USE_PASSWORD']}\n                      helpTip={gettext('Force user use password when generating share/upload link.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('share/upload link password minimum length')}\n                      keyText='SHARE_LINK_PASSWORD_MIN_LENGTH'\n                      value={config_dict['SHARE_LINK_PASSWORD_MIN_LENGTH']}\n                      helpTip={gettext('The least number of characters a share/upload link password should include.')}\n                    />\n                    <InputItem\n                      saveSetting={this.saveSetting}\n                      displayName={gettext('share/upload link password strength level')}\n                      keyText='SHARE_LINK_PASSWORD_STRENGTH_LEVEL'\n                      value={config_dict['SHARE_LINK_PASSWORD_STRENGTH_LEVEL']}\n                      helpTip={gettext('The level(1-4) of a share/upload link password\\'s strength. For example, \\'3\\' means password must have at least 3 of the following: num, upper letter, lower letter and other symbols')}\n                    />\n                    <CheckboxItem\n                      saveSetting={this.saveSetting}\n                      displayName='ENABLE_USER_CLEAN_TRASH'\n                      keyText='ENABLE_USER_CLEAN_TRASH'\n                      value={config_dict['ENABLE_USER_CLEAN_TRASH']}\n                      helpTip={gettext('Allow user to clean library trash')}\n                    />\n                  </Fragment>\n                </Section>\n\n                <Section headingText={gettext('Online Preview')}>\n                  <InputItem\n                    inputType=\"textarea\"\n                    saveSetting={this.saveSetting}\n                    displayName={gettext('text file extensions')}\n                    keyText='TEXT_PREVIEW_EXT'\n                    value={config_dict['TEXT_PREVIEW_EXT']}\n                    helpTip={gettext('Extensions of text files that can be online previewed, each suffix is separated by a comma.')}\n                  />\n                </Section>\n\n                <Section headingText={gettext('Sync')}>\n                  <CheckboxItem\n                    saveSetting={this.saveSetting}\n                    displayName='DISABLE_SYNC_WITH_ANY_FOLDER'\n                    keyText='DISABLE_SYNC_WITH_ANY_FOLDER'\n                    value={config_dict['DISABLE_SYNC_WITH_ANY_FOLDER']}\n                    helpTip={gettext('If turn on, the desktop clients will not be able to sync a folder outside the default Seafile folder.')}\n                  />\n                </Section>\n\n                {isPro && <Section headingText={gettext('Terms')}>\n                  <CheckboxItem\n                    saveSetting={this.saveSetting}\n                    displayName='ENABLE_TERMS_AND_CONDITIONS'\n                    keyText='ENABLE_TERMS_AND_CONDITIONS'\n                    value={config_dict['ENABLE_TERMS_AND_CONDITIONS']}\n                    helpTip={gettext('Enable system admin to add Terms and Conditions, and all users will have to accept the terms.')}\n                  />\n                </Section>}\n              </Fragment>\n              }\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default WebSettings;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Input } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  addNotification: PropTypes.func.isRequired\n};\n\nclass SysAdminAddSysNotificationDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      value: value,\n      isSubmitBtnActive: value.trim() != ''\n    });\n  };\n\n  handleSubmit = () => {\n    this.toggle();\n    this.props.addNotification(this.state.value.trim());\n  };\n\n  toggle = () => {\n    this.props.toggle();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Add new notification')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Input\n                type=\"textarea\"\n                value={this.state.value}\n                onChange={this.handleChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminAddSysNotificationDialog.propTypes = propTypes;\n\nexport default SysAdminAddSysNotificationDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport SysAdminAddSysNotificationDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-sys-notification-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No notifications')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <table>\n          <thead>\n            <tr>\n              <th width=\"95%\">{gettext('Notification Detail')}</th>\n              <th width=\"5%\">{/*Operations*/}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, index) => {\n              return (<Item\n                key={index}\n                item={item}\n                isItemFreezed={this.state.isItemFreezed}\n                onFreezedItem={this.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n                deleteNotification={this.props.deleteNotification}\n                setToCurrent={this.props.setToCurrent}\n              />);\n            })}\n          </tbody>\n        </table>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getItemsByPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  deleteItem: PropTypes.func,\n  setToCurrent: PropTypes.func.isRequired,\n  deleteNotification: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleDeleteDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteNotification = () => {\n    this.props.deleteNotification(this.props.item.id);\n    this.toggleDeleteDialog();\n  };\n\n  setToCurrent = () => {\n    this.props.setToCurrent(this.props.item.id);\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Set to current':\n        this.setToCurrent();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n    }\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Set to current':\n        translateResult = gettext('Set to current');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n    return translateResult;\n  };\n\n  getOperations = () => {\n    const { item } = this.props;\n    let operations = [];\n    if (!item.is_current) {\n      operations.push('Set to current');\n    }\n    operations.push('Delete');\n    return operations;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            {item.msg}\n            {item.is_current &&\n              <span className=\"small text-orange\">{gettext('(current notification)')}</span>\n            }\n          </td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={this.getOperations()}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Notification')}\n            message={gettext('Are you sure you want to delete the notification ?')}\n            toggleDialog={this.toggleDeleteDialog}\n            executeOperation={this.deleteNotification}\n            confirmBtnText={gettext('Delete')}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n  onFreezedItem: PropTypes.func.isRequired,\n  setToCurrent: PropTypes.func.isRequired,\n  deleteNotification: PropTypes.func.isRequired,\n};\n\nclass Notifications extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      notificationList: [],\n      isAddNotificationDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminListAllSysNotifications().then((res) => {\n      this.setState({\n        loading: false,\n        notificationList: res.data.notifications\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  toggleAddNotificationDialog = () => {\n    this.setState({isAddNotificationDialogOpen: !this.state.isAddNotificationDialogOpen});\n  };\n\n  addNotification = (msg) => {\n    seafileAPI.sysAdminAddSysNotification(msg).then(res => {\n      let notificationList = this.state.notificationList;\n      notificationList.unshift(res.data.notification);\n      this.setState({notificationList: notificationList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteNotification = (id) => {\n    seafileAPI.sysAdminDeleteSysNotification(id).then(res => {\n      let notificationList = this.state.notificationList.filter(item => {\n        return item.id != id;\n      });\n      this.setState({notificationList: notificationList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  setToCurrent = (id) => {\n    seafileAPI.sysAdminSetSysNotificationToCurrent(id).then(res => {\n      let notificationList = this.state.notificationList.map(item => {\n        if (item.id == id) {\n          item.is_current = true;\n        } else {\n          item.is_current = false;\n        }\n        return item;\n      });\n      this.setState({notificationList: notificationList});\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { isAddNotificationDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddNotificationDialog}>{gettext('Add new notification')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('All Notifications')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.notificationList}\n                deleteNotification={this.deleteNotification}\n                setToCurrent={this.setToCurrent}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddNotificationDialogOpen &&\n          <SysAdminAddSysNotificationDialog\n            addNotification={this.addNotification}\n            toggle={this.toggleAddNotificationDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Notifications;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport MainPanelTopbar from './main-panel-topbar';\n\n\nconst tablePropTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  records: PropTypes.array.isRequired,\n};\n\nclass Table extends Component {\n\n  render() {\n    let { loading, errorMsg, records } = this.props;\n\n    if (loading) {\n      return <span className=\"loading-icon loading-tip\"></span>;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      return (\n        <table width=\"100%\" className=\"table table-hover table-vcenter\">\n          <thead>\n            <tr>\n              <th width=\"16%\">{gettext('Library')}</th>\n              <th width=\"30%\">ID</th>\n              <th width=\"30%\">{gettext('Path')}</th>\n              <th width=\"12%\">{gettext('Label')}</th>\n              <th width=\"12%\">{gettext('Suggestion')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {records.map((record, index) => {\n              return (\n                <Item key={index} record={record} />\n              );\n            })}\n          </tbody>\n        </table>\n      );\n    }\n  }\n}\n\nTable.propTypes = tablePropTypes;\n\n\nconst itemPropTypes = {\n  record: PropTypes.object.isRequired,\n};\n\nclass Item extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    let record = this.props.record;\n\n    return (\n      <tr>\n        <td>{record.repo_name}</td>\n        <td>{record.repo_id}</td>\n        <td>{record.path}</td>\n        <td>{record.detail.label}</td>\n        <td>{record.detail.suggestion}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = itemPropTypes;\n\n\nclass FileScanRecords extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      records: [],\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listFileScanRecords().then((res) => {\n      this.setState({\n        loading: false,\n        records: res.data.record_list,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\" id=\"content-scan-records\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Content Scan Records')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Table\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                records={this.state.records}\n              />\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default FileScanRecords;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\nimport { siteRoot } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\n\nconst WorkWeixinDepartmentMembersListPropTypes = {\n  isMembersListLoading: PropTypes.bool.isRequired,\n  membersList: PropTypes.array.isRequired,\n  newUsersTempObj: PropTypes.object.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  onUserChecked: PropTypes.func.isRequired,\n  onAllUsersChecked: PropTypes.func.isRequired,\n  isCheckedAll: PropTypes.bool.isRequired,\n  canCheckUserIds: PropTypes.array.isRequired,\n};\n\nclass WorkWeixinDepartmentMembersList extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { newUsersTempObj, checkedDepartmentId, isMembersListLoading, canCheckUserIds } = this.props;\n    const membersList = this.props.membersList.map((member, index) => {\n      let avatar = member.avatar;\n      if (member.avatar && member.avatar.length > 0) {\n        avatar = member.avatar.substring(0, member.avatar.length - 1) + '100';// get smaller avatar\n      } else {\n        avatar = siteRoot + 'media/avatars/default.png';\n      }\n      return (\n        <tr key={checkedDepartmentId.toString() + member.userid}>\n          <td>\n            {!member.email &&\n              <input type=\"checkbox\" className=\"vam\" onChange={() => this.props.onUserChecked(member)}\n                checked={(member.userid in newUsersTempObj) ? 'checked' : ''}></input>}\n          </td>\n          <td><img className=\"avatar\" src={avatar} alt=\"\"></img></td>\n          <td>{member.name}</td>\n          <td>{member.mobile}</td>\n          <td>{member.contact_email}</td>\n          <td>{member.email && <i className=\"sf2-icon-tick\"></i>}</td>\n        </tr>\n      );\n    });\n\n    return (\n      <div className=\"dir-content-main\">\n        {isMembersListLoading && <Loading/>}\n        {!isMembersListLoading && this.props.membersList.length > 0 &&\n          <Table hover>\n            <thead>\n              <tr>\n                <th width=\"5%\">\n                  {canCheckUserIds.length > 0 &&\n                    <input type=\"checkbox\" className=\"vam\" checked={this.props.isCheckedAll}\n                      onChange={() => this.props.onAllUsersChecked()}></input>}\n                </th>\n                <th width=\"10%\"></th>\n                <th width=\"20%\">{''}</th>\n                <th width=\"20%\">{''}</th>\n                <th width=\"30%\">{''}</th>\n                <th width=\"15%\">{''}</th>\n              </tr>\n            </thead>\n            <tbody>{membersList}</tbody>\n          </Table>\n        }\n        {!isMembersListLoading && this.props.membersList.length === 0 &&\n          <div className=\"message empty-tip text-center\">\n            <img src={`${siteRoot}media/img/member-list-empty-2x.png`} alt=\"\"/>\n            <h4>{''}</h4>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nWorkWeixinDepartmentMembersList.propTypes = WorkWeixinDepartmentMembersListPropTypes;\n\nexport default WorkWeixinDepartmentMembersList;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\nimport { gettext, isPro } from '../../../utils/constants';\n\nconst WorkWeixinDepartmentsTreeNodePropTypes = {\n  index: PropTypes.number,\n  department: PropTypes.object.isRequired,\n  isChildrenShow: PropTypes.bool.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass WorkWeixinDepartmentsTreeNode extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isChildrenShow: false,\n      dropdownOpen: false,\n      active: false,\n    };\n  }\n\n  toggleChildren = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({\n      isChildrenShow: !this.state.isChildrenShow,\n    });\n  };\n\n  dropdownToggle = (e) => {\n    e.stopPropagation();\n    this.setState({ dropdownOpen: !this.state.dropdownOpen });\n  };\n\n  onMouseEnter = () => {\n    this.setState({ active: true });\n  };\n\n  onMouseLeave = () => {\n    if (this.state.dropdownOpen) return;\n    this.setState({ active: false });\n  };\n\n  importDepartmentDialogToggle = (depart) => {\n    this.setState({ active: false });\n    this.props.importDepartmentDialogToggle(depart);\n  };\n\n  componentDidMount() {\n    if (this.props.index === 0) {\n      this.setState({ isChildrenShow: true });\n      this.props.onChangeDepartment(this.props.department.id);\n    }\n  }\n\n  renderTreeNodes = (departmentsTree) => {\n    if (departmentsTree.length > 0) {\n      return departmentsTree.map((department) => {\n        return (\n          <WorkWeixinDepartmentsTreeNode\n            key={department.id}\n            department={department}\n            isChildrenShow={this.state.isChildrenShow}\n            onChangeDepartment={this.props.onChangeDepartment}\n            checkedDepartmentId={this.props.checkedDepartmentId}\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n          />\n        );\n      });\n    }\n  };\n\n  changeDept = (departmentID) => {\n    const { department, checkedDepartmentId } = this.props;\n    this.props.onChangeDepartment(departmentID);\n    if (checkedDepartmentId === department.id && !this.state.isChildrenShow) {\n      this.setState({ isChildrenShow: true });\n    }\n  };\n\n  render() {\n    const { isChildrenShow, department, checkedDepartmentId } = this.props;\n    let toggleClass = classNames({\n      'folder-toggle-icon fa fa-caret-down': department.children && this.state.isChildrenShow,\n      'folder-toggle-icon fa fa-caret-right': department.children && !this.state.isChildrenShow,\n    });\n    let nodeInnerClass = classNames({\n      'tree-node-inner': true,\n      'tree-node-inner-hover': this.state.active,\n      'tree-node-hight-light': checkedDepartmentId === department.id\n    });\n    return (\n      <Fragment>\n        {isChildrenShow &&\n          <div\n            className={nodeInnerClass}\n            onClick={() => this.changeDept(department.id)}\n            onMouseEnter={this.onMouseEnter}\n            onMouseLeave={this.onMouseLeave}\n          >\n            <span className=\"tree-node-icon\" onClick={(e) => this.toggleChildren(e)}>\n              <i className={toggleClass}></i>\n            </span>\n            <span className=\"tree-node-text\">{department.name}</span>\n            {isPro &&\n            <Dropdown\n              isOpen={this.state.dropdownOpen}\n              toggle={(e) => this.dropdownToggle(e)}\n              direction=\"down\"\n              style={this.state.active ? {} : { opacity: 0 }}\n            >\n              <DropdownToggle\n                tag='i'\n                className='fa fa-ellipsis-v cursor-pointer attr-action-icon'\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.dropdownOpen}\n              >\n              </DropdownToggle>\n              <DropdownMenu className=\"drop-list\" right={true}>\n                <DropdownItem\n                  onClick={this.importDepartmentDialogToggle.bind(this, department)}\n                  id={department.id}\n                >{''}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n            }\n          </div>\n        }\n        {this.state.isChildrenShow &&\n          <div className=\"department-children\">\n            {department.children && this.renderTreeNodes(department.children)}\n          </div>\n        }\n      </Fragment>\n    );\n  }\n}\n\nWorkWeixinDepartmentsTreeNode.propTypes = WorkWeixinDepartmentsTreeNodePropTypes;\n\nexport default WorkWeixinDepartmentsTreeNode;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../../../components/loading';\nimport WorkWeixinDepartmentsTreeNode from './work-weixin-departments-tree-node';\n\nconst WorkWeixinDepartmentsTreePanelPropTypes = {\n  isTreeLoading: PropTypes.bool.isRequired,\n  departmentsTree: PropTypes.array.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass WorkWeixinDepartmentsTreePanel extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { departmentsTree } = this.props;\n    return (\n      <div className=\"dir-content-nav\">\n        <div className=\"tree-view tree\">\n          {this.props.isTreeLoading ?\n            <Loading/> :\n            <div className=\"tree-node\">\n              {departmentsTree.length > 0 && departmentsTree.map((department, index) => {\n                return (\n                  <WorkWeixinDepartmentsTreeNode\n                    key={department.id}\n                    index={index}\n                    department={department}\n                    isChildrenShow={true}\n                    onChangeDepartment={this.props.onChangeDepartment}\n                    checkedDepartmentId={this.props.checkedDepartmentId}\n                    importDepartmentDialogToggle={this.props.importDepartmentDialogToggle}\n                  />\n                );\n              })}\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nWorkWeixinDepartmentsTreePanel.propTypes = WorkWeixinDepartmentsTreePanelPropTypes;\n\nexport default WorkWeixinDepartmentsTreePanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Loading from '../loading';\n\nconst propTypes = {\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n  onImportDepartmentSubmit: PropTypes.func.isRequired,\n  departmentsCount: PropTypes.number.isRequired,\n  membersCount: PropTypes.number.isRequired,\n  departmentName: PropTypes.string.isRequired,\n};\n\nclass ImportWorkWeixinDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading : false,\n    };\n  }\n\n  toggle = () => {\n    this.props.importDepartmentDialogToggle(null);\n  };\n\n  handleSubmit = () => {\n    this.props.onImportDepartmentSubmit();\n    this.setState({ isLoading : true });\n  };\n\n  render() {\n    const { departmentsCount, membersCount, departmentName } = this.props;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>\n          <span>{' '}</span><span className=\"op-target\" title={departmentName}>{departmentName}</span>\n        </ModalHeader>\n        <ModalBody>\n          <p>{' '}<strong>{departmentsCount}</strong>{'  '}<strong>{membersCount}</strong>{' '}</p>\n          {this.state.isLoading && <Loading/>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{''}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{''}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nImportWorkWeixinDepartmentDialog.propTypes = propTypes;\n\nexport default ImportWorkWeixinDepartmentDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport deepCopy from 'deep-copy';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { siteRoot, isPro } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport MainPanelTopbar from './main-panel-topbar';\nimport { WorkWeixinDepartmentMembersList, WorkWeixinDepartmentsTreePanel } from './work-weixin';\nimport ImportWorkWeixinDepartmentDialog from '../../components/dialog/import-work-weixin-department-dialog';\n\nimport '../../css/work-weixin-departments.css';\n\nclass WorkWeixinDepartments extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isTreeLoading: true,\n      isMembersListLoading: true,\n      departmentsTree: [],\n      checkedDepartmentId: 0,\n      membersTempObj: {},\n      membersList: [],\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      canCheckUserIds: [],\n      isImportDepartmentDialogShow: false,\n      importDepartment: null,\n      importDepartmentChildrenCount: 0,\n      importDepartmentMembersCount: 0,\n    };\n  }\n\n  getDepartmentsTree = (list) => {\n    let childIds = [];\n    let parentIds = [];\n    for (let i = 0; i < list.length; i++) {\n      if (childIds.indexOf(list[i].id) === -1) {\n        childIds.push(list[i].id);\n      }\n      if (parentIds.indexOf(list[i].parentid) === -1) {\n        parentIds.push(list[i].parentid);\n      }\n    }\n    let intersection = parentIds.filter((v) => {\n      return childIds.indexOf(v) !== -1;\n    });\n    let rootIds = parentIds.concat(intersection).filter((v) => {\n      return parentIds.indexOf(v) === -1 || intersection.indexOf(v) === -1;\n    });\n    let cloneData = deepCopy(list);\n    return cloneData.filter(father => {\n      let branchArr = cloneData.filter(child => father.id === child.parentid);\n      branchArr.length > 0 ? father.children = branchArr : '';\n      return rootIds.indexOf(father.parentid) !== -1;\n    });\n  };\n\n  getWorkWeixinDepartmentsList = (departmentID) => {\n    seafileAPI.adminListWorkWeixinDepartments(departmentID).then((res) => {\n      if (!departmentID) {\n        let departmentsTree = this.getDepartmentsTree(res.data.department);\n        this.setState({\n          isTreeLoading: false,\n          departmentsTree: departmentsTree,\n        });\n      } else {\n        this.setState({\n          importDepartmentChildrenCount: res.data.department.length,\n          importDepartmentMembersCount: this.state.membersTempObj[departmentID].length,\n        });\n      }\n    }).catch((error) => {\n      this.handleError(error);\n      this.setState({\n        isTreeLoading: false,\n        isMembersListLoading: false,\n      });\n      if (error.response && error.response.status === 403) {\n        window.location = siteRoot + 'sys/useradmin/';\n      }\n    });\n  };\n\n  getWorkWeixinDepartmentMembersList = (department_id) => {\n    this.setState({\n      isMembersListLoading: true,\n    });\n    seafileAPI.adminListWorkWeixinDepartmentMembers(department_id, {fetch_child: true}).then((res) => {\n      let membersTempObj = this.state.membersTempObj;\n      membersTempObj[department_id] = res.data.userlist;\n      let canCheckUserIds = this.getCanCheckUserIds(res.data.userlist);\n      this.setState({\n        membersTempObj: membersTempObj,\n        membersList: res.data.userlist,\n        isMembersListLoading: false,\n        canCheckUserIds: canCheckUserIds,\n      });\n    }).catch((error) => {\n      this.setState({isMembersListLoading: false});\n      this.handleError(error);\n    });\n  };\n\n  getCanCheckUserIds = (membersList) => {\n    let userIds = [];\n    membersList.forEach((member) => {\n      if (!member.email) userIds.push(member.userid);\n    });\n    return userIds;\n  };\n\n  onChangeDepartment = (department_id) => {\n    this.setState({\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      checkedDepartmentId: department_id,\n    });\n    if (!(department_id in this.state.membersTempObj)) {\n      this.getWorkWeixinDepartmentMembersList(department_id);\n    } else {\n      let canCheckUserIds = this.getCanCheckUserIds(this.state.membersTempObj[department_id]);\n      this.setState({\n        membersList: this.state.membersTempObj[department_id],\n        canCheckUserIds: canCheckUserIds,\n      });\n    }\n  };\n\n  onUserChecked = (user) => {\n    if (this.state.canCheckUserIds.indexOf(user.userid) !== -1) {\n      let newUsersTempObj = this.state.newUsersTempObj;\n      if (user.userid in newUsersTempObj) {\n        delete newUsersTempObj[user.userid];\n        if (this.state.isCheckedAll) {\n          this.setState({ isCheckedAll: false });\n        }\n      } else {\n        newUsersTempObj[user.userid] = user;\n        if (Object.keys(newUsersTempObj).length === this.state.canCheckUserIds.length) {\n          this.setState({ isCheckedAll: true });\n        }\n      }\n      this.setState({ newUsersTempObj: newUsersTempObj });\n    }\n  };\n\n  onAllUsersChecked = () => {\n    this.setState({\n      isCheckedAll: !this.state.isCheckedAll,\n    }, () => {\n      if (this.state.isCheckedAll) {\n        let newUsersTempObj = {};\n        let newUsersTempList = this.state.membersList.filter(user => {\n          return this.state.canCheckUserIds.indexOf(user.userid) !== -1;\n        });\n        for (let i = 0; i < newUsersTempList.length; i++) {\n          newUsersTempObj[newUsersTempList[i].userid] = newUsersTempList[i];\n        }\n        this.setState({ newUsersTempObj: newUsersTempObj });\n      } else {\n        this.setState({ newUsersTempObj: {} });\n      }\n    });\n  };\n\n  onSubmit = () => {\n    const { newUsersTempObj } = this.state;\n    if (JSON.stringify(newUsersTempObj) === '{}') return;\n    let userList = [];\n    for (let i in newUsersTempObj) {\n      userList.push(newUsersTempObj[i]);\n    }\n    if (userList.length === 0) {\n      toaster.danger('', {duration: 3});\n      return;\n    }\n    seafileAPI.adminAddWorkWeixinUsersBatch(userList).then((res) => {\n      this.setState({\n        newUsersTempObj: {},\n        isCheckedAll: false,\n      });\n      if (res.data.success) {\n        this.handleSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        const fails= res.data.failed;\n        for (let i = 0; i < fails.length; i++) {\n          toaster.danger(fails[i].name + ' ' + fails[i].error_msg, {duration: 3});\n        }\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n\n  };\n\n  handleSubmitSuccess = (success) => {\n    let { membersTempObj, membersList, canCheckUserIds } = this.state;\n    for (let i = 0; i < success.length; i++) {\n      let { userid, name, email } = success[i];\n      toaster.success(name + ' ', {duration: 1});\n      // refresh all temp\n      if (canCheckUserIds.indexOf(userid) !== -1) {\n        canCheckUserIds.splice(canCheckUserIds.indexOf(userid), 1);\n      }\n      for (let j = 0; j < membersList.length; j++) {\n        if (membersList[j].userid === userid) {\n          membersList[j].email = email;\n          break;\n        }\n      }\n      for (let departmentId in membersTempObj) {\n        for (let k = 0; k < membersTempObj[departmentId].length; k++) {\n          if (membersTempObj[departmentId][k].userid === userid) {\n            membersTempObj[departmentId][k].email = email;\n            break;\n          }\n        }\n      }\n    }\n    this.setState({\n      membersTempObj: membersTempObj,\n      membersList: membersList,\n      canCheckUserIds: canCheckUserIds,\n    });\n  };\n\n  importDepartmentDialogToggle = (importDepartment) => {\n    this.setState({\n      isImportDepartmentDialogShow: !this.state.isImportDepartmentDialogShow,\n      importDepartment: importDepartment,\n    }, () => {\n      if (importDepartment) {\n        this.getWorkWeixinDepartmentsList(importDepartment.id);\n      }\n    });\n  };\n\n  onImportDepartmentSubmit = () => {\n    let importDepartment = this.state.importDepartment;\n    if (!importDepartment) return;\n    seafileAPI.adminImportWorkWeixinDepartment(importDepartment.id).then((res) => {\n      this.setState({\n        isMembersListLoading: true,\n        checkedDepartmentId: importDepartment.id,\n        membersTempObj: {},\n        membersList: [],\n        newUsersTempObj: {},\n        isCheckedAll: false,\n        canCheckUserIds: [],\n      });\n      this.getWorkWeixinDepartmentMembersList(importDepartment.id);\n      this.importDepartmentDialogToggle(null);\n      if (res.data.success) {\n        this.handleImportDepartmentSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        this.handleImportDepartmentSubmitFailed(res.data.failed);\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  handleImportDepartmentSubmitSuccess = (successes) => {\n    for (let i = 0, len = successes.length; i < len; i++) {\n      let success = successes[i];\n      let successMsg = success.type === 'department' ? ' ' + success.department_name + ' ' : success.api_user_name + ' ' ;\n      toaster.success(successMsg, { duration: 3 });\n    }\n  };\n\n  handleImportDepartmentSubmitFailed = (fails) => {\n    for (let i = 0, len = fails.length; i < len; i++) {\n      let fail = fails[i];\n      let failName = fail.type === 'department' ? fail.department_name : fail.api_user_name;\n      toaster.danger(failName + ' ' + fail.msg, { duration: 3} );\n    }\n  };\n\n  handleError = (error) => {\n    const errorMsg = Utils.getErrorMsg(error);\n    toaster.danger(errorMsg);\n  };\n\n  componentDidMount() {\n    this.getWorkWeixinDepartmentsList(null);\n  }\n\n  render() {\n    const { isImportDepartmentDialogShow, isTreeLoading, importDepartment, importDepartmentChildrenCount, importDepartmentMembersCount } = this.state;\n    let canImportDepartment = !!(isPro && isImportDepartmentDialogShow && !isTreeLoading && importDepartment);\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"operation-item\" onClick={this.onSubmit}>{''}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{''}</h3>\n            </div>\n            <div className=\"cur-view-content d-flex flex-row\">\n              <WorkWeixinDepartmentsTreePanel\n                departmentsTree={this.state.departmentsTree}\n                isTreeLoading={this.state.isTreeLoading}\n                onChangeDepartment={this.onChangeDepartment}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n              />\n              <div className=\"dir-content-resize\"></div>\n              <WorkWeixinDepartmentMembersList\n                isMembersListLoading={this.state.isMembersListLoading}\n                membersList={this.state.membersList}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                newUsersTempObj={this.state.newUsersTempObj}\n                onUserChecked={this.onUserChecked}\n                onAllUsersChecked={this.onAllUsersChecked}\n                isCheckedAll={this.state.isCheckedAll}\n                canCheckUserIds={this.state.canCheckUserIds}\n              />\n            </div>\n          </div>\n        </div>\n        {canImportDepartment &&\n          <ImportWorkWeixinDepartmentDialog\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n            onImportDepartmentSubmit={this.onImportDepartmentSubmit}\n            departmentsCount={importDepartmentChildrenCount}\n            membersCount={importDepartmentMembersCount}\n            departmentName={importDepartment.name}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default WorkWeixinDepartments;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\nimport { siteRoot } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\n\nconst DingtalkDepartmentMembersListPropTypes = {\n  isMembersListLoading: PropTypes.bool.isRequired,\n  membersList: PropTypes.array.isRequired,\n  newUsersTempObj: PropTypes.object.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  onUserChecked: PropTypes.func.isRequired,\n  onAllUsersChecked: PropTypes.func.isRequired,\n  isCheckedAll: PropTypes.bool.isRequired,\n  canCheckUserIds: PropTypes.array.isRequired,\n};\n\nclass DingtalkDepartmentMembersList extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { newUsersTempObj, checkedDepartmentId, isMembersListLoading, canCheckUserIds } = this.props;\n    const membersList = this.props.membersList.map((member, index) => {\n      let avatar = member.avatar;\n      if (member.avatar && member.avatar.length > 0) {\n        avatar = member.avatar;\n      } else {\n        avatar = siteRoot + 'media/avatars/default.png';\n      }\n      return (\n        <tr key={checkedDepartmentId.toString() + member.userid}>\n          <td>\n            {!member.email &&\n              <input type=\"checkbox\" className=\"vam\" onChange={() => this.props.onUserChecked(member)}\n                checked={(member.userid in newUsersTempObj) ? 'checked' : ''}></input>}\n          </td>\n          <td><img className=\"avatar\" src={avatar} alt=\"\"></img></td>\n          <td>{member.name}</td>\n          <td>{member.mobile}</td>\n          <td>{member.contact_email}</td>\n          <td>{member.email && <i className=\"sf2-icon-tick\"></i>}</td>\n        </tr>\n      );\n    });\n\n    return (\n      <div className=\"dir-content-main\">\n        {isMembersListLoading && <Loading/>}\n        {!isMembersListLoading && this.props.membersList.length > 0 &&\n          <Table hover>\n            <thead>\n              <tr>\n                <th width=\"5%\">\n                  {canCheckUserIds.length > 0 &&\n                    <input type=\"checkbox\" className=\"vam\" checked={this.props.isCheckedAll}\n                      onChange={() => this.props.onAllUsersChecked()}></input>}\n                </th>\n                <th width=\"10%\"></th>\n                <th width=\"20%\">{''}</th>\n                <th width=\"20%\">{''}</th>\n                <th width=\"30%\">{''}</th>\n                <th width=\"15%\">{''}</th>\n              </tr>\n            </thead>\n            <tbody>{membersList}</tbody>\n          </Table>\n        }\n        {!isMembersListLoading && this.props.membersList.length === 0 &&\n          <div className=\"message empty-tip text-center\">\n            <img src={`${siteRoot}media/img/member-list-empty-2x.png`} alt=\"\"/>\n            <h4>{''}</h4>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nDingtalkDepartmentMembersList.propTypes = DingtalkDepartmentMembersListPropTypes;\n\nexport default DingtalkDepartmentMembersList;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\nimport { gettext, isPro } from '../../../utils/constants';\n\nconst DingtalkDepartmentsTreeNodePropTypes = {\n  index: PropTypes.number,\n  department: PropTypes.object.isRequired,\n  isChildrenShow: PropTypes.bool.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass DingtalkDepartmentsTreeNode extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isChildrenShow: false,\n      dropdownOpen: false,\n      active: false,\n    };\n  }\n\n  toggleChildren = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({\n      isChildrenShow: !this.state.isChildrenShow,\n    });\n  };\n\n  dropdownToggle = (e) => {\n    e.stopPropagation();\n    this.setState({ dropdownOpen: !this.state.dropdownOpen });\n  };\n\n  onMouseEnter = () => {\n    this.setState({ active: true });\n  };\n\n  onMouseLeave = () => {\n    if (this.state.dropdownOpen) return;\n    this.setState({ active: false });\n  };\n\n  importDepartmentDialogToggle = (depart) => {\n    this.setState({ active: false });\n    this.props.importDepartmentDialogToggle(depart);\n  };\n\n  componentDidMount() {\n    if (this.props.index === 0) {\n      this.setState({ isChildrenShow: true });\n      this.props.onChangeDepartment(this.props.department.id);\n    }\n  }\n\n  renderTreeNodes = (departmentsTree) => {\n    if (departmentsTree.length > 0) {\n      return departmentsTree.map((department) => {\n        return (\n          <DingtalkDepartmentsTreeNode\n            key={department.id}\n            department={department}\n            isChildrenShow={this.state.isChildrenShow}\n            onChangeDepartment={this.props.onChangeDepartment}\n            checkedDepartmentId={this.props.checkedDepartmentId}\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n          />\n        );\n      });\n    }\n  };\n\n  changeDept = (departmentID) => {\n    const { department, checkedDepartmentId } = this.props;\n    this.props.onChangeDepartment(departmentID);\n    if (checkedDepartmentId === department.id && !this.state.isChildrenShow) {\n      this.setState({ isChildrenShow: true });\n    }\n  };\n\n  render() {\n    const { isChildrenShow, department, checkedDepartmentId } = this.props;\n    let toggleClass = classNames({\n      'folder-toggle-icon fa fa-caret-down': department.children && this.state.isChildrenShow,\n      'folder-toggle-icon fa fa-caret-right': department.children && !this.state.isChildrenShow,\n    });\n    let nodeInnerClass = classNames({\n      'tree-node-inner': true,\n      'tree-node-inner-hover': this.state.active,\n      'tree-node-hight-light': checkedDepartmentId === department.id\n    });\n    return (\n      <Fragment>\n        {isChildrenShow &&\n          <div\n            className={nodeInnerClass}\n            onClick={() => this.changeDept(department.id)}\n            onMouseEnter={this.onMouseEnter}\n            onMouseLeave={this.onMouseLeave}\n          >\n            <span className=\"tree-node-icon\" onClick={(e) => this.toggleChildren(e)}>\n              <i className={toggleClass}></i>\n            </span>\n            <span className=\"tree-node-text\">{department.name}</span>\n            {isPro &&\n            <Dropdown\n              isOpen={this.state.dropdownOpen}\n              toggle={(e) => this.dropdownToggle(e)}\n              direction=\"down\"\n              style={this.state.active ? {} : { opacity: 0 }}\n            >\n              <DropdownToggle\n                tag='i'\n                className='fa fa-ellipsis-v cursor-pointer attr-action-icon'\n                title={gettext('More Operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.dropdownOpen}\n              >\n              </DropdownToggle>\n              <DropdownMenu className=\"drop-list\" right={true}>\n                <DropdownItem\n                  onClick={this.importDepartmentDialogToggle.bind(this, department)}\n                  id={department.id}\n                >{''}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n            }\n          </div>\n        }\n        {this.state.isChildrenShow &&\n          <div className=\"department-children\">\n            {department.children && this.renderTreeNodes(department.children)}\n          </div>\n        }\n      </Fragment>\n    );\n  }\n}\n\nDingtalkDepartmentsTreeNode.propTypes = DingtalkDepartmentsTreeNodePropTypes;\n\nexport default DingtalkDepartmentsTreeNode;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../../../components/loading';\nimport DingtalkDepartmentsTreeNode from './dingtalk-departments-tree-node';\n\nconst DingtalkDepartmentsTreePanelPropTypes = {\n  isTreeLoading: PropTypes.bool.isRequired,\n  departmentsTree: PropTypes.array.isRequired,\n  onChangeDepartment: PropTypes.func.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n};\n\nclass DingtalkDepartmentsTreePanel extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { departmentsTree } = this.props;\n    return (\n      <div className=\"dir-content-nav\">\n        <div className=\"tree-view tree\">\n          {this.props.isTreeLoading ?\n            <Loading/> :\n            <div className=\"tree-node\">\n              {departmentsTree.length > 0 && departmentsTree.map((department, index) => {\n                return (\n                  <DingtalkDepartmentsTreeNode\n                    key={department.id}\n                    index={index}\n                    department={department}\n                    isChildrenShow={true}\n                    onChangeDepartment={this.props.onChangeDepartment}\n                    checkedDepartmentId={this.props.checkedDepartmentId}\n                    importDepartmentDialogToggle={this.props.importDepartmentDialogToggle}\n                  />\n                );\n              })}\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nDingtalkDepartmentsTreePanel.propTypes = DingtalkDepartmentsTreePanelPropTypes;\n\nexport default DingtalkDepartmentsTreePanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport Loading from '../loading';\n\nconst propTypes = {\n  importDepartmentDialogToggle: PropTypes.func.isRequired,\n  onImportDepartmentSubmit: PropTypes.func.isRequired,\n  departmentsCount: PropTypes.number.isRequired,\n  membersCount: PropTypes.number.isRequired,\n  departmentName: PropTypes.string.isRequired,\n};\n\nclass ImportDingtalkDepartmentDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading : false,\n    };\n  }\n\n  toggle = () => {\n    this.props.importDepartmentDialogToggle(null);\n  };\n\n  handleSubmit = () => {\n    this.props.onImportDepartmentSubmit();\n    this.setState({ isLoading : true });\n  };\n\n  render() {\n    const { departmentsCount, membersCount, departmentName } = this.props;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>\n          <span>{' '}</span><span className=\"op-target\" title={departmentName}>{departmentName}</span>\n        </ModalHeader>\n        <ModalBody>\n          <p>{' '}<strong>{departmentsCount}</strong>{'  '}<strong>{membersCount}</strong>{' '}</p>\n          {this.state.isLoading && <Loading/>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{''}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit}>{''}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nImportDingtalkDepartmentDialog.propTypes = propTypes;\n\nexport default ImportDingtalkDepartmentDialog;\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport deepCopy from 'deep-copy';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { siteRoot, isPro } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport MainPanelTopbar from './main-panel-topbar';\nimport toaster from '../../components/toast';\nimport { DingtalkDepartmentMembersList, DingtalkDepartmentsTreePanel } from './dingtalk';\nimport ImportDingtalkDepartmentDialog from '../../components/dialog/import-dingtalk-department-dialog';\n\nimport '../../css/work-weixin-departments.css';\nimport '../../css/dingtalk-departments.css';\n\nclass DingtalkDepartments extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isTreeLoading: true,\n      isMembersListLoading: true,\n      departmentsTree: [],\n      checkedDepartmentId: 0,\n      membersTempObj: {},\n      membersList: [],\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      canCheckUserIds: [],\n      isImportDepartmentDialogShow: false,\n      importDepartment: null,\n      importDepartmentChildrenCount: 0,\n      importDepartmentMembersCount: 0,\n    };\n  }\n\n  getDepartmentsTree = (list) => {\n    let childIds = [];\n    let parentIds = [];\n    for (let i = 0; i < list.length; i++) {\n      if (childIds.indexOf(list[i].id) === -1) {\n        childIds.push(list[i].id);\n      }\n      if (parentIds.indexOf(list[i].parentid) === -1) {\n        parentIds.push(list[i].parentid);\n      }\n    }\n    let intersection = parentIds.filter((v) => {\n      return childIds.indexOf(v) !== -1;\n    });\n    let rootIds = parentIds.concat(intersection).filter((v) => {\n      return parentIds.indexOf(v) === -1 || intersection.indexOf(v) === -1;\n    });\n    let cloneData = deepCopy(list);\n    return cloneData.filter(father => {\n      let branchArr = cloneData.filter(child => father.id === child.parentid);\n      branchArr.length > 0 ? father.children = branchArr : '';\n      return rootIds.indexOf(father.parentid) !== -1;\n    });\n  };\n\n  getDingtalkDepartmentsList = (departmentID) => {\n    seafileAPI.adminListDingtalkDepartments(departmentID).then((res) => {\n      if (!departmentID) {\n        let departmentsTree = this.getDepartmentsTree(res.data.department);\n        this.setState({\n          isTreeLoading: false,\n          departmentsTree: departmentsTree,\n        });\n      } else {\n        this.setState({\n          importDepartmentChildrenCount: res.data.department.length,\n          importDepartmentMembersCount: this.state.membersTempObj[departmentID].length,\n        });\n      }\n    }).catch((error) => {\n      this.handleError(error);\n      this.setState({\n        isTreeLoading: false,\n        isMembersListLoading: false,\n      });\n      if (error.response && error.response.status === 403) {\n        window.location = siteRoot + 'sys/useradmin/';\n      }\n    });\n  };\n\n  getDingtalkDepartmentMembersList = (department_id) => {\n    this.setState({\n      isMembersListLoading: true,\n    });\n    seafileAPI.adminListDingtalkDepartmentMembers(department_id).then((res) => {\n      let membersTempObj = this.state.membersTempObj;\n      membersTempObj[department_id] = res.data.userlist;\n      let canCheckUserIds = this.getCanCheckUserIds(res.data.userlist);\n      this.setState({\n        membersTempObj: membersTempObj,\n        membersList: res.data.userlist,\n        isMembersListLoading: false,\n        canCheckUserIds: canCheckUserIds,\n      });\n    }).catch((error) => {\n      this.setState({isMembersListLoading: false});\n      this.handleError(error);\n    });\n  };\n  getCanCheckUserIds = (membersList) => {\n    let userIds = [];\n    membersList.forEach((member) => {\n      if (!member.email) userIds.push(member.userid);\n    });\n    return userIds;\n  };\n\n  onChangeDepartment = (department_id) => {\n    this.setState({\n      newUsersTempObj: {},\n      isCheckedAll: false,\n      checkedDepartmentId: department_id,\n    });\n    if (!(department_id in this.state.membersTempObj)) {\n      this.getDingtalkDepartmentMembersList(department_id);\n    } else {\n      let canCheckUserIds = this.getCanCheckUserIds(this.state.membersTempObj[department_id]);\n      this.setState({\n        membersList: this.state.membersTempObj[department_id],\n        canCheckUserIds: canCheckUserIds,\n      });\n    }\n  };\n\n  onUserChecked = (user) => {\n    if (this.state.canCheckUserIds.indexOf(user.userid) !== -1) {\n      let newUsersTempObj = this.state.newUsersTempObj;\n      if (user.userid in newUsersTempObj) {\n        delete newUsersTempObj[user.userid];\n        if (this.state.isCheckedAll) {\n          this.setState({ isCheckedAll: false });\n        }\n      } else {\n        newUsersTempObj[user.userid] = user;\n        if (Object.keys(newUsersTempObj).length === this.state.canCheckUserIds.length) {\n          this.setState({ isCheckedAll: true });\n        }\n      }\n      this.setState({ newUsersTempObj: newUsersTempObj });\n    }\n  };\n\n  onAllUsersChecked = () => {\n    this.setState({\n      isCheckedAll: !this.state.isCheckedAll,\n    }, () => {\n      if (this.state.isCheckedAll) {\n        let newUsersTempObj = {};\n        let newUsersTempList = this.state.membersList.filter(user => {\n          return this.state.canCheckUserIds.indexOf(user.userid) !== -1;\n        });\n        for (let i = 0; i < newUsersTempList.length; i++) {\n          newUsersTempObj[newUsersTempList[i].userid] = newUsersTempList[i];\n        }\n        this.setState({ newUsersTempObj: newUsersTempObj });\n      } else {\n        this.setState({ newUsersTempObj: {} });\n      }\n    });\n  };\n\n  onSubmit = () => {\n    const { newUsersTempObj } = this.state;\n    if (JSON.stringify(newUsersTempObj) === '{}') return;\n    let userList = [];\n    for (let i in newUsersTempObj) {\n      userList.push(newUsersTempObj[i]);\n    }\n    if (userList.length === 0) {\n      toaster.danger('', {duration: 3});\n      return;\n    }\n    seafileAPI.adminAddDingtalkUsersBatch(userList).then((res) => {\n      this.setState({\n        newUsersTempObj: {},\n        isCheckedAll: false,\n      });\n      if (res.data.success) {\n        this.handleSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        const fails= res.data.failed;\n        for (let i = 0; i < fails.length; i++) {\n          toaster.danger(fails[i].name + ' ' + fails[i].error_msg, {duration: 3});\n        }\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n\n  };\n\n  handleSubmitSuccess = (success) => {\n    let { membersTempObj, membersList, canCheckUserIds } = this.state;\n    for (let i = 0; i < success.length; i++) {\n      let { userid, name, email } = success[i];\n      toaster.success(name + ' ', {duration: 1});\n      // refresh all temp\n      if (canCheckUserIds.indexOf(userid) !== -1) {\n        canCheckUserIds.splice(canCheckUserIds.indexOf(userid), 1);\n      }\n      for (let j = 0; j < membersList.length; j++) {\n        if (membersList[j].userid === userid) {\n          membersList[j].email = email;\n          break;\n        }\n      }\n      for (let departmentId in membersTempObj) {\n        for (let k = 0; k < membersTempObj[departmentId].length; k++) {\n          if (membersTempObj[departmentId][k].userid === userid) {\n            membersTempObj[departmentId][k].email = email;\n            break;\n          }\n        }\n      }\n    }\n    this.setState({\n      membersTempObj: membersTempObj,\n      membersList: membersList,\n      canCheckUserIds: canCheckUserIds,\n    });\n  };\n\n  importDepartmentDialogToggle = (importDepartment) => {\n    this.setState({\n      isImportDepartmentDialogShow: !this.state.isImportDepartmentDialogShow,\n      importDepartment: importDepartment,\n    }, () => {\n      if (importDepartment) {\n        this.getDingtalkDepartmentsList(importDepartment.id);\n      }\n    });\n  };\n\n  onImportDepartmentSubmit = () => {\n    let importDepartment = this.state.importDepartment;\n    if (!importDepartment) return;\n    seafileAPI.adminImportDingtalkDepartment(importDepartment.id).then((res) => {\n      this.setState({\n        isMembersListLoading: true,\n        checkedDepartmentId: importDepartment.id,\n        membersTempObj: {},\n        membersList: [],\n        newUsersTempObj: {},\n        isCheckedAll: false,\n        canCheckUserIds: [],\n      });\n      this.getDingtalkDepartmentMembersList(importDepartment.id);\n      this.importDepartmentDialogToggle(null);\n      if (res.data.success) {\n        this.handleImportDepartmentSubmitSuccess(res.data.success);\n      }\n      if (res.data.failed) {\n        this.handleImportDepartmentSubmitFailed(res.data.failed);\n      }\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  handleImportDepartmentSubmitSuccess = (successes) => {\n    for (let i = 0, len = successes.length; i < len; i++) {\n      let success = successes[i];\n      let successMsg = success.type === 'department' ? ' ' + success.department_name + ' ' : success.api_user_name + ' ' ;\n      toaster.success(successMsg, { duration: 3 });\n    }\n  };\n\n  handleImportDepartmentSubmitFailed = (fails) => {\n    for (let i = 0, len = fails.length; i < len; i++) {\n      let fail = fails[i];\n      let failName = fail.type === 'department' ? fail.department_name : fail.api_user_name;\n      toaster.danger(failName + ' ' + fail.msg, { duration: 3} );\n    }\n  };\n\n  handleError = (error) => {\n    const errorMsg = Utils.getErrorMsg(error);\n    toaster.danger(errorMsg);\n  };\n\n  componentDidMount() {\n    this.getDingtalkDepartmentsList(null);\n  }\n\n  render() {\n    const { isImportDepartmentDialogShow, isTreeLoading, importDepartment, importDepartmentChildrenCount, importDepartmentMembersCount } = this.state;\n    let canImportDepartment = !!(isPro && isImportDepartmentDialogShow && !isTreeLoading && importDepartment);\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"operation-item\" onClick={this.onSubmit}>{''}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{''}</h3>\n            </div>\n            <div className=\"cur-view-content d-flex flex-row\">\n              <DingtalkDepartmentsTreePanel\n                departmentsTree={this.state.departmentsTree}\n                isTreeLoading={this.state.isTreeLoading}\n                onChangeDepartment={this.onChangeDepartment}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n              />\n              <div className=\"dir-content-resize\"></div>\n              <DingtalkDepartmentMembersList\n                isMembersListLoading={this.state.isMembersListLoading}\n                membersList={this.state.membersList}\n                checkedDepartmentId={this.state.checkedDepartmentId}\n                newUsersTempObj={this.state.newUsersTempObj}\n                onUserChecked={this.onUserChecked}\n                onAllUsersChecked={this.onAllUsersChecked}\n                isCheckedAll={this.state.isCheckedAll}\n                canCheckUserIds={this.state.canCheckUserIds}\n              />\n            </div>\n          </div>\n        </div>\n        {canImportDepartment &&\n          <ImportDingtalkDepartmentDialog\n            importDepartmentDialogToggle={this.importDepartmentDialogToggle}\n            onImportDepartmentSubmit={this.onImportDepartmentSubmit}\n            departmentsCount={importDepartmentChildrenCount}\n            membersCount={importDepartmentMembersCount}\n            departmentName={importDepartment.name}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default DingtalkDepartments;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getItemsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getItemsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, curPerPage, hasNextPage, currentPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No invitations')}</h2>\n        </EmptyTip>\n      );\n\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Inviter')}</th>\n                <th width=\"20%\">{gettext('Accepter')}</th>\n                <th width=\"9%\">{gettext('Type')}</th>\n                <th width=\"14%\">{gettext('Invited at')}</th>\n                <th width=\"14%\">{gettext('Accepted at')}</th>\n                <th width=\"18%\">{gettext('Expired at')}</th>\n                <th width=\"5%\"></th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteItem={this.props.deleteItem}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getItemsByPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  deleteItem: PropTypes.func,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  deleteItem = () => {\n    this.props.deleteItem(this.props.item);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n    }\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.deleteItem();\n        break;\n      default:\n        break;\n    }\n  };\n\n  getInviteTypeText = () => {\n    let translateResult = '';\n    switch (this.props.item.invite_type) {\n      case 'Guest':\n        translateResult = gettext('Guest');\n        break;\n      case 'guest':\n        translateResult = gettext('Guest');\n        break;\n      case 'Default':\n        translateResult = gettext('Default');\n        break;\n      case 'default':\n        translateResult = gettext('Default');\n        break;\n    }\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const {\n      isOpIconShown\n    } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.inviter_email} name={item.inviter_name} />\n          </td>\n          <td>\n            {item.accept_time ?\n              <UserLink email={item.accepter_email} name={item.accepter_name} /> :\n              item.accepter_email\n            }\n          </td>\n          <td>{this.getInviteTypeText()}</td>\n          <td>\n            <span title={moment(item.invite_time).format('llll')}>{moment(item.invite_time).fromNow()}</span>\n          </td>\n          <td>\n            {item.accept_time ?\n              <span title={moment(item.accept_time).format('llll')}>{moment(item.accept_time).fromNow()}</span> :\n              '--'\n            }\n          </td>\n          <td>\n            {item.is_expired ?\n              <span className=\"text-red\">{moment(item.expire_time).format('YYYY-MM-DD HH:mm')}</span> :\n              moment(item.expire_time).format('YYYY-MM-DD HH:mm')\n            }\n          </td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Delete']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n  onFreezedItem: PropTypes.func.isRequired,\n};\n\nclass Invitations extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: [],\n      totalItemCount: 0,\n      hasNextPage: false,\n      currentPage: 1,\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getItemsByPage(this.state.currentPage);\n    });\n  }\n\n  getItemsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInvitations(page, perPage).then(res => {\n      this.setState({\n        loading: false,\n        items: res.data.invitation_list,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n        currentPage: page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteItem = (targetItem) => {\n    const token = targetItem.token;\n    seafileAPI.sysAdminDeleteInvitation(token).then(res => {\n      let items = this.state.items.filter(item => {\n        return item.token != token;\n      });\n      this.setState({items: items});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteItemInBatch = () => {\n    seafileAPI.sysAdminDeleteExpiredInvitations().then(res => {\n      const prevItems = this.state.items;\n      const items = this.state.items.filter(item => !item.is_expired || item.accept_time);\n      if (items.length < prevItems.length) {\n        this.setState({\n          items: items\n        });\n        toaster.success(gettext('Operation succeeded.'));\n      }\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getItemsByPage(1);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.deleteItemInBatch}>{gettext('Delete Expired Invitations')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Invitations')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getItemsByPage={this.getItemsByPage}\n                deleteItem={this.deleteItem}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Invitations;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { SimpleEditor } from '@seafile/seafile-editor';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  title: PropTypes.string,\n  content: PropTypes.string,\n  onCommit: PropTypes.func.isRequired,\n  onCloseEditorDialog: PropTypes.func.isRequired,\n};\n\nclass TermsEditorDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isValueChanged: false,\n    };\n    this.editorRef = React.createRef();\n  }\n\n  static defaultProps = {\n    title: gettext('Terms'),\n  };\n\n  onKeyDown = (event) => {\n    event.stopPropagation();\n  };\n\n  toggle = () => {\n    const { isValueChanged } = this.state;\n    if (isValueChanged) {\n      let currentContent = this.getCurrentContent();\n      this.props.onCommit(currentContent);\n    }\n    this.props.onCloseEditorDialog();\n  };\n\n  onContentChanged = () => {\n    return this.setState({isValueChanged: true});\n  };\n\n  getCurrentContent = () => {\n    return this.editorRef.current.getValue();\n  };\n\n  setSimpleEditorRef = (editor) => {\n    this.simpleEditor = editor;\n  };\n\n  render() {\n    let { content, title } = this.props;\n    return (\n      <Modal\n        isOpen={true}\n        toggle={this.toggle}\n        onKeyDown={this.onKeyDown}\n        wrapClassName={'conditions-editor-dialog-wrapper'}\n        className={'conditions-editor-dialog'}\n        contentClassName={'conditions-editor-dialog-content'}\n        size={'lg'}\n        style={{width: 770}}\n      >\n        <ModalHeader className=\"conditions-editor-dialog-title\" toggle={this.toggle}>{title}</ModalHeader>\n        <ModalBody className={'conditions-editor-dialog-main'}>\n          <SimpleEditor\n            ref={this.editorRef}\n            value={content || ''}\n            onContentChanged={this.onContentChanged}\n          />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nTermsEditorDialog.propTypes = propTypes;\n\nexport default TermsEditorDialog;\n","import React, {Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input, Alert, FormGroup, Label } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport TermsPreviewWidget from '../../terms-preview-widget';\nimport TermsEditorDialog from '../terms-editor-dialog';\n\nimport '../../../css/terms-conditions-editor.css';\n\nconst propTypes = {\n  isUpdate: PropTypes.bool,\n  oldTermObj: PropTypes.object,\n  addTerm: PropTypes.func,\n  updateTerm: PropTypes.func,\n  toggle: PropTypes.func.isRequired,\n};\n\nclass AddOrUpdateTermDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      versionNumber: '',\n      text: '',\n      isActive: true,\n      errorMsg: '',\n      isConditionsEditorDialogShow: false,\n    };\n  }\n\n  componentDidMount() {\n    let oldTermObj = this.props.oldTermObj;\n    if (oldTermObj) {\n      this.setState({\n        name: oldTermObj.name,\n        versionNumber: oldTermObj.version_number,\n        text: oldTermObj.text,\n        isActive: !(oldTermObj.activate_time === ''),\n      });\n    }\n  }\n\n  handleNameChange = (e) => {\n    this.setState({name: e.target.value.trim()});\n  };\n\n  handleVersionNumberChange = (e) => {\n    this.setState({versionNumber: e.target.value.trim()});\n  };\n\n  handleTextChange = (e) => {\n    this.setState({text: e.target.value.trim()});\n  };\n\n  setActive = () => {\n    this.setState({isActive: true});\n  };\n\n  setInActive = () => {\n    this.setState({isActive: false});\n  };\n\n  addTerm = () => {\n    let { name, versionNumber, text, isActive } = this.state;\n    if (name === '') {\n      this.setState({errMsg: gettext('Name is required.')});\n      return;\n    }\n    if (versionNumber === '') {\n      this.setState({errMsg: gettext('Version Number is required.')});\n      return;\n    }\n    if (isNaN(versionNumber)) {\n      this.setState({errMsg: gettext('Version Number must be a number.')});\n      return;\n    }\n    if (text === '') {\n      this.setState({errMsg: gettext('Text is required.')});\n      return;\n    }\n    if (this.props.isUpdate) {\n      this.props.updateTerm(name, versionNumber, text, isActive);\n    } else {\n      this.props.addTerm(name, versionNumber, text, isActive);\n    }\n  };\n\n  onContentClick = () => {\n    this.setState({isConditionsEditorDialogShow: !this.state.isConditionsEditorDialogShow});\n  };\n\n  onCloseEditorDialog = () => {\n    this.setState({isConditionsEditorDialogShow: false});\n  };\n\n  onUpdateContent = (content) => {\n    this.setState({ text: content });\n  };\n\n  render() {\n    let title = this.props.isUpdate ? gettext('Update Terms and Conditions') : gettext('Add Terms and Conditions');\n    return (\n      <Fragment>\n        <Modal isOpen={true} toggle={this.props.toggle}>\n          <ModalHeader toggle={this.props.toggle}>{title}</ModalHeader>\n          <ModalBody>\n            <FormGroup>\n              <Label for=\"name\">{gettext('Name')}</Label>\n              <Input id=\"name\" value={this.state.name} onChange={this.handleNameChange}/>\n            </FormGroup>\n            <FormGroup>\n              <Label>{gettext('Version Number')}</Label>\n              <Input value={this.state.versionNumber} onChange={this.handleVersionNumberChange}/>\n            </FormGroup>\n            <FormGroup className=\"form-content\">\n              <Label>{gettext('Text')}</Label>\n              <TermsPreviewWidget content={this.state.text} onContentClick={this.onContentClick}/>\n            </FormGroup>\n            <FormGroup tag=\"fieldset\">\n              <Label>{gettext('Activated')}</Label>\n              <FormGroup check>\n                <Label check>\n                  <Input type=\"radio\" checked={this.state.isActive} onChange={this.setActive} />\n                  {' '}{gettext('On')}\n                </Label>\n              </FormGroup>\n              <FormGroup check>\n                <Label check>\n                  <Input type=\"radio\" checked={!this.state.isActive} onChange={this.setInActive} />\n                  {' '}{gettext('Off')}\n                </Label>\n              </FormGroup>\n            </FormGroup>\n            {this.state.errMsg && <Alert color=\"danger\">{this.state.errMsg}</Alert>}\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.addTerm}>{gettext('Submit')}</Button>\n          </ModalFooter>\n        </Modal>\n        {this.state.isConditionsEditorDialogShow && (\n          <TermsEditorDialog\n            content={this.state.text}\n            onCommit={this.onUpdateContent}\n            onCloseEditorDialog={this.onCloseEditorDialog}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nAddOrUpdateTermDialog.propTypes = propTypes;\n\nexport default AddOrUpdateTermDialog;\n","const hrefReg = /\\[.+\\]\\(\\S+\\)|<img src=(\\S+).+\\/>|!\\[\\]\\(\\S+\\)|<\\S+>/g,\n  imageReg1 = /^<img src=\"(\\S+)\" .+\\/>/,\n  imageReg2 = /^!\\[\\]\\((\\S+)\\)/,\n  linkReg1 = /^\\[.+\\]\\(\\S+\\)/,\n  linkReg2 = /^<\\S+>$/;\n\nconst getLinks = (hrefs) => {\n  const hrefObj = {\n    links: [],\n    images: []\n  };\n  hrefs.forEach((href) => {\n    if (href.search(linkReg1) >= 0 || href.search(linkReg2) >= 0) {\n      hrefObj.links.push(href);\n    } else {\n      let imageSrcs = href.match(imageReg1);\n      let imageSrcs1 = href.match(imageReg2);\n      if (imageSrcs) {\n        hrefObj.images.push(imageSrcs[1]);\n      } else if (imageSrcs1) {\n        hrefObj.images.push(imageSrcs1[1]);\n      }\n    }\n  });\n  return hrefObj;\n};\n\n\nconst getPreviewContent = (markdownContent) => {\n  let previewText = '';\n  let newMarkdownContent = markdownContent.replace(hrefReg, '');\n  for (let index = 0; index < newMarkdownContent.length; index++) {\n    if (newMarkdownContent[index] === '#') {\n      continue;\n    } else if (newMarkdownContent[index] === '\\n') {\n      previewText += ' ';\n    } else {\n      previewText += newMarkdownContent[index];\n    }\n    if (previewText.length === 30) {\n      break;\n    }\n  }\n\n  const hrefs = markdownContent.match(hrefReg);\n  if (hrefs) {\n    const { images, links } = getLinks(hrefs);\n    return { previewText, images, links };\n  }\n  return { previewText, images: [], links: [] };\n};\n\n\nexport default getPreviewContent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport TermsPreviewWidget from '../terms-preview-widget';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  title: PropTypes.string,\n  content: PropTypes.string,\n  onClosePreviewDialog: PropTypes.func.isRequired,\n};\n\nclass TermsPreviewDialog extends React.Component {\n\n  static defaultProps = {\n    title: gettext('Terms'),\n  };\n\n\n  toggle = () => {\n    this.props.onClosePreviewDialog();\n  };\n\n  render() {\n    let { title, content } = this.props;\n    return (\n      <Modal\n        isOpen={true}\n        size={'lg'}\n        style={{width: 600}}\n        wrapClassName={'conditions-perview-wrapper'}\n        toggle={this.toggle}\n      >\n        <ModalHeader toggle={this.toggle}>{title}</ModalHeader>\n        <ModalBody>\n          <TermsPreviewWidget content={content} />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nTermsPreviewDialog.propTypes = propTypes;\n\nexport default TermsPreviewDialog;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { processor } from '@seafile/seafile-editor';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport getPreviewContent from '../../../utils/markdown-utils';\nimport AddOrUpdateTermDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-or-update-term-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport TermsPerviewDialog from '../../../components/dialog/terms-preview-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport OpMenu from '../../../components/dialog/op-menu';\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      itemContent: '...',\n      isOpIconShown: false,\n      isUpdateDialogOpen: false,\n      isDeleteDialogOpen: false,\n      isTermsPerviewDialogOpen: false,\n    };\n  }\n\n  componentDidMount() {\n    let mdFile = this.props.item.text;\n    processor.process(mdFile).then((result) => {\n      let innerHtml = String(result);\n      this.setState({itemContent: innerHtml});\n    });\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.item.text !== this.props.item.text) {\n      let mdFile = nextProps.item.text;\n      processor.process(mdFile).then((result) => {\n        let innerHtml = String(result);\n        this.setState({itemContent: innerHtml});\n      });\n    }\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  toggleUpdateDialog = (e) => {\n    this.setState({isUpdateDialogOpen: !this.state.isUpdateDialogOpen});\n  };\n\n  toggleDeleteDialog = (e) => {\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  toggleTermsContentDialog = (e) => {\n    this.setState({isTermsPerviewDialogOpen: !this.state.isTermsPerviewDialogOpen});\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Update':\n        this.toggleUpdateDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  deleteTerm = () => {\n    this.props.deleteTerm(this.props.item.id);\n    this.toggleDeleteDialog();\n  };\n\n  updateTerm = (name, versionNumber, text, isActive) => {\n    this.props.updateTerm(this.props.item.id, name, versionNumber, text, isActive);\n    this.toggleUpdateDialog();\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Update':\n        translateResult = gettext('Update');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  };\n\n  render() {\n    let { item } = this.props;\n    let { isDeleteDialogOpen, isUpdateDialogOpen, isTermsPerviewDialogOpen } = this.state;\n    let previewContent = getPreviewContent(item.text);\n    let itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    let deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>{item.name}</td>\n          <td>{item.version_number}</td>\n          <td className=\"ellipsis\">\n            <a href='#' onClick={this.toggleTermsContentDialog}>{previewContent.previewText}</a>\n          </td>\n          <td>{moment(item.ctime).fromNow()}</td>\n          <td>{item.activate_time ? moment(item.activate_time).fromNow() : '--'}</td>\n          <td>\n            {this.state.isOpIconShown &&\n              <OpMenu\n                operations={['Update', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Delete T&C')}\n              message={deleteDialogMsg}\n              toggleDialog={this.toggleDeleteDialog}\n              executeOperation={this.deleteTerm}\n              confirmBtnText={gettext('Delete')}\n            />\n          </ModalPortal>\n        }\n        {isUpdateDialogOpen &&\n          <ModalPortal>\n            <AddOrUpdateTermDialog\n              updateTerm={this.updateTerm}\n              toggle={this.toggleUpdateDialog}\n              isUpdate={true}\n              oldTermObj={item}\n            />\n          </ModalPortal>\n        }\n        {isTermsPerviewDialogOpen &&\n          <ModalPortal>\n            <TermsPerviewDialog\n              content={item.text}\n              onClosePreviewDialog={this.toggleTermsContentDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteTerm: PropTypes.func.isRequired,\n  updateTerm: PropTypes.func.isRequired,\n};\n\nexport default Item;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../../utils/constants';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Item from './item';\n\nconst propTypes = {\n  loading: PropTypes.bool.isRequired,\n  items: PropTypes.array.isRequired,\n  errorMsg: PropTypes.string,\n  deleteTerm: PropTypes.func.isRequired,\n  updateTerm: PropTypes.func.isRequired,\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No terms and conditions')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Version')}</th>\n                <th width=\"25%\">{gettext('Text')}</th>\n                <th width=\"20%\">{gettext('Created')}</th>\n                <th width=\"20%\">{gettext('Activated')}</th>\n                <th width=\"5%\">{/* operation */}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    deleteTerm={this.props.deleteTerm}\n                    updateTerm={this.props.updateTerm}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = propTypes;\n\nexport default Content;\n\n","import React, { Component, Fragment } from 'react';\nimport { Button } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport AddOrUpdateTermDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-or-update-term-dialog';\nimport ModalPortal from '../../../components/modal-portal';\nimport toaster from '../../../components/toast';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Content from './content';\n\nclass TermsAndConditions extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      termList: [],\n      isAddTermDialogOpen: false,\n    };\n  }\n\n  toggleAddTermDialog = () => {\n    this.setState({isAddTermDialogOpen: !this.state.isAddTermDialogOpen});\n  };\n\n  componentDidMount () {\n    seafileAPI.sysAdminListTermsAndConditions().then((res) => {\n      this.setState({\n        termList: res.data.term_and_condition_list,\n        loading: false,\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  addTerm = (name, versionNumber, text, isActive) => {\n    seafileAPI.sysAdminAddTermAndCondition(name, versionNumber, text, isActive).then(res => {\n      // After adding the terms, you need to refresh the page.\n      location.reload();\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateTerm = (termID, name, versionNumber, text, isActive) => {\n    seafileAPI.sysAdminUpdateTermAndCondition(termID, name, versionNumber, text, isActive).then(res => {\n      let termList = this.state.termList.map(item => {\n        if (item.id == termID) {\n          return res.data;\n        } else {\n          return item;\n        }\n      });\n      this.setState({termList: termList});\n      toaster.success(gettext('Update succeeded.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteTerm = (termID) => {\n    seafileAPI.sysAdminDeleteTermAndCondition(termID).then(res => {\n      let termList = this.state.termList.filter(item => item.id != termID);\n      this.setState({termList: termList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    let { termList, isAddTermDialogOpen } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddTermDialog}>{gettext('Add')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Terms and Conditions')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={termList}\n                deleteTerm={this.deleteTerm}\n                updateTerm={this.updateTerm}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddTermDialogOpen &&\n        <ModalPortal>\n          <AddOrUpdateTermDialog\n            isUpdate={false}\n            addTerm={this.addTerm}\n            toggle={this.toggleAddTermDialog}\n          />\n        </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default TermsAndConditions;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass Nav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'all', urlPart: 'all', text: gettext('All')},\n      {name: 'unhandled', urlPart: 'unhandled', text: gettext('Unhandled')}\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/virus-files/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nNav.propTypes = propTypes;\n\nexport default Nav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './nav';\n\nconst virusFileItemPropTypes = {\n  virusFile: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n};\n\nclass VirusFileItem extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    this.props.handleFile(this.props.virusFile.virus_id, operation);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'ignore':\n        translateResult = gettext('Ignore');\n        break;\n      case 'do-not-ignore':\n        translateResult = gettext('Don\\'t ignore');\n        break;\n    }\n    return translateResult;\n  };\n\n  render() {\n    const virusFile = this.props.virusFile;\n    let fileStatus = '',\n      fileOpList = [];\n    if (virusFile.has_deleted) {\n      fileStatus = <span className=\"text-green\">{gettext('Deleted')}</span>;\n    } else if (virusFile.has_ignored) {\n      fileStatus = <span className=\"text-orange\">{gettext('Ignored')}</span>;\n      fileOpList = ['do-not-ignore'];\n    } else {\n      fileStatus = <span className=\"text-red\">{gettext('Unhandled')}</span>;\n      fileOpList = ['delete', 'ignore'];\n    }\n\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        <td>{virusFile.repo_name}</td>\n        <td>{virusFile.repo_owner}</td>\n        <td>{virusFile.file_path}</td>\n        <td>{fileStatus}</td>\n        <td>\n          {fileOpList.length > 0 && this.state.isOpIconShown &&\n            <OpMenu\n              operations={fileOpList}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n          }\n        </td>\n      </tr>\n    );\n  }\n}\n\nVirusFileItem.propTypes = virusFileItemPropTypes;\n\n\nconst virusFileListPropTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  virusFiles: PropTypes.array.isRequired,\n  currentPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n  curPerPage: PropTypes.number,\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const {\n      loading, errorMsg, virusFiles,\n      curPerPage, hasNextPage, currentPage\n    } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      return (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"27%\">{gettext('Library')}</th>\n                <th width=\"25%\">{gettext('Owner')}</th>\n                <th width=\"28%\">{gettext('Virus File')}</th>\n                <th width=\"15%\">{gettext('Status')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {virusFiles.map((virusFile, index) => {\n                return (\n                  <VirusFileItem\n                    key={index}\n                    virusFile={virusFile}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    handleFile={this.props.handleFile}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n          {virusFiles.length > 0 &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = virusFileListPropTypes;\n\n\nclass AllVirusFiles extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      virusFiles: [],\n      currentPage: 1,\n      perPage: 25,\n      hasNextPage: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const {\n      currentPage, perPage\n    } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getListByPage(this.state.currentPage);\n    });\n  }\n\n  getListByPage = (page) => {\n    const { perPage } = this.state;\n    seafileAPI.listVirusFiles(page, perPage).then((res) => {\n      const data = res.data;\n      this.setState({\n        loading: false,\n        virusFiles: data.virus_file_list,\n        hasNextPage: data.has_next_page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getListByPage(1);\n    });\n  };\n\n  handleFile = (virusID, op) => {\n    let request;\n    switch(op) {\n      case 'delete':\n        request = seafileAPI.deleteVirusFile(virusID);\n        break;\n      case 'ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, true);\n        break;\n      case 'do-not-ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, false);\n        break;\n    }\n    request.then((res) => {\n      this.setState({\n        virusFiles: this.state.virusFiles.map((item) => {\n          if (item.virus_id == virusID) {\n            if (op == 'delete') {\n              item.has_deleted = true;\n            } else {\n              item = res.data.virus_file;\n            }\n          }\n          return item;\n        })\n      });\n    }).catch((error) => {\n      toaster.danger(Utils.getErrorMsg(error));\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"all\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                virusFiles={this.state.virusFiles}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getListByPage}\n                handleFile={this.handleFile}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AllVirusFiles;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './nav';\n\nconst virusFileItemPropTypes = {\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n  virusFile: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  toggleItemSelected: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired\n};\n\nclass VirusFileItem extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    this.props.handleFile(this.props.virusFile.virus_id, operation);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'ignore':\n        translateResult = gettext('Ignore');\n        break;\n      case 'do-not-ignore':\n        translateResult = gettext('Don\\'t ignore');\n        break;\n    }\n    return translateResult;\n  };\n\n  toggleItemSelected = (e) => {\n    this.props.toggleItemSelected(this.props.virusFile, e.target.checked);\n  };\n\n  render() {\n    const virusFile = this.props.virusFile;\n    let fileStatus = '',\n      fileOpList = [];\n    if (virusFile.has_deleted) {\n      fileStatus = <span className=\"text-green\">{gettext('Deleted')}</span>;\n    } else if (virusFile.has_ignored) {\n      fileStatus = <span className=\"text-orange\">{gettext('Ignored')}</span>;\n      fileOpList = ['do-not-ignore'];\n    } else {\n      fileStatus = <span className=\"text-red\">{gettext('Unhandled')}</span>;\n      fileOpList = ['delete', 'ignore'];\n    }\n\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        <td className=\"text-center\">\n          <input type=\"checkbox\" checked={virusFile.isSelected} onChange={this.toggleItemSelected} />\n        </td>\n        <td>{virusFile.repo_name}</td>\n        <td>{virusFile.repo_owner}</td>\n        <td>{virusFile.file_path}</td>\n        <td>{fileStatus}</td>\n        <td>\n          {fileOpList.length > 0 && this.state.isOpIconShown &&\n            <OpMenu\n              operations={fileOpList}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n          }\n        </td>\n      </tr>\n    );\n  }\n}\n\nVirusFileItem.propTypes = virusFileItemPropTypes;\n\n\nconst virusFileListPropTypes = {\n  currentPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n  curPerPage: PropTypes.number,\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n  isAllItemsSelected: PropTypes.bool.isRequired,\n  toggleAllSelected: PropTypes.func.isRequired,\n  toggleItemSelected: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  virusFiles: PropTypes.array.isRequired\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const {\n      loading, errorMsg, virusFiles,\n      curPerPage, hasNextPage, currentPage,\n      isAllItemsSelected\n    } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      return (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"3%\" className=\"text-center\">\n                  <input type=\"checkbox\" checked={isAllItemsSelected} onChange={this.props.toggleAllSelected} />\n                </th>\n                <th width=\"24%\">{gettext('Library')}</th>\n                <th width=\"25%\">{gettext('Owner')}</th>\n                <th width=\"28%\">{gettext('Virus File')}</th>\n                <th width=\"15%\">{gettext('Status')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {virusFiles.map((virusFile, index) => {\n                return (\n                  <VirusFileItem\n                    key={index}\n                    virusFile={virusFile}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    handleFile={this.props.handleFile}\n                    toggleItemSelected={this.props.toggleItemSelected}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n          {virusFiles.length > 0 &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = virusFileListPropTypes;\n\n\nclass UnhandledVirusFiles extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      virusFiles: [],\n\n      isAllItemsSelected: false,\n      selectedItems: [],\n\n      currentPage: 1,\n      perPage: 25,\n      hasNextPage: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const {\n      currentPage, perPage\n    } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getListByPage(this.state.currentPage);\n    });\n  }\n\n  getListByPage = (page) => {\n    const { perPage } = this.state;\n    const hasHandled = false;\n    seafileAPI.listVirusFiles(page, perPage, hasHandled).then((res) => {\n      const data = res.data;\n      const items = data.virus_file_list.map(item => {\n        item.isSelected = false;\n        return item;\n      });\n      this.setState({\n        loading: false,\n        virusFiles: items,\n        hasNextPage: data.has_next_page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getListByPage(1);\n    });\n  };\n\n  handleFile = (virusID, op) => {\n    let request;\n    switch(op) {\n      case 'delete':\n        request = seafileAPI.deleteVirusFile(virusID);\n        break;\n      case 'ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, true);\n        break;\n      case 'do-not-ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, false);\n        break;\n    }\n    request.then((res) => {\n      this.setState({\n        virusFiles: this.state.virusFiles.map((item) => {\n          if (item.virus_id == virusID) {\n            if (op == 'delete') {\n              item.has_deleted = true;\n            } else {\n              item = res.data.virus_file;\n            }\n          }\n          return item;\n        })\n      });\n    }).catch((error) => {\n      toaster.danger(Utils.getErrorMsg(error));\n    });\n  };\n\n  toggleAllSelected = () => {\n    this.setState((prevState) => ({\n      isAllItemsSelected: !prevState.isAllItemsSelected,\n      virusFiles: this.state.virusFiles.map((item) => {\n        item.isSelected = !prevState.isAllItemsSelected;\n        return item;\n      })\n    }));\n  };\n\n  toggleItemSelected = (targetItem, isSelected) => {\n    this.setState({\n      virusFiles: this.state.virusFiles.map((item) => {\n        if (item === targetItem) {\n          item.isSelected = isSelected;\n        }\n        return item;\n      })\n    }, () => {\n      this.setState({\n        isAllItemsSelected: !this.state.virusFiles.some(item => !item.isSelected)\n      });\n    });\n  };\n\n  handleSelectedItems = (op) => {\n    // op: 'delete-virus', 'ignore-virus'\n    const virusIDs = this.state.virusFiles\n      .filter(item => {\n        if (op == 'delete-virus') {\n          return item.isSelected && !item.has_deleted;\n        } else {\n          return item.isSelected && !item.has_ignored;\n        }\n      })\n      .map(item => item.virus_id);\n    seafileAPI.batchProcessVirusFiles(virusIDs, op).then((res) => {\n      let fileList = this.state.virusFiles;\n      res.data.success.forEach(item => {\n        let file = fileList.find(file => file.virus_id == item.virus_id);\n        if (op == 'delete-virus') {\n          file.has_deleted = true;\n        } else {\n          file.has_ignored = true;\n        }\n      });\n      this.setState({\n        virusFiles: fileList\n      });\n\n      res.data.failed.forEach(item => {\n        const file = fileList.find(file => file.virus_id == item.virus_id);\n        let errMsg = op == 'delete-virus' ?\n          gettext('Failed to delete %(virus_file) from library %(library): %(error_msg)') :\n          gettext('Failed to ignore %(virus_file) from library %(library): %(error_msg)');\n        errMsg = errMsg.replace('%(virus_file)', file.file_path)\n          .replace('%(library)', file.repo_name)\n          .replace('%(error_msg)', item.error_msg);\n        toaster.danger(errMsg);\n      });\n    }).catch((error) => {\n      toaster.danger(Utils.getErrorMsg(error));\n    });\n  };\n\n  deleteSelectedItems = () => {\n    const op = 'delete-virus';\n    this.handleSelectedItems(op);\n  };\n\n  ignoreSelectedItems = () => {\n    const op = 'ignore-virus';\n    this.handleSelectedItems(op);\n  };\n\n  render() {\n    return (\n      <Fragment>\n        {this.state.virusFiles.some(item => item.isSelected) ? (\n          <MainPanelTopbar {...this.props}>\n            <Fragment>\n              <Button onClick={this.deleteSelectedItems} className=\"operation-item\">{gettext('Delete')}</Button>\n              <Button onClick={this.ignoreSelectedItems} className=\"operation-item\">{gettext('Ignore')}</Button>\n            </Fragment>\n          </MainPanelTopbar>\n        ) : <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"unhandled\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                virusFiles={this.state.virusFiles}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getListByPage}\n                handleFile={this.handleFile}\n                isAllItemsSelected={this.state.isAllItemsSelected}\n                toggleAllSelected={this.toggleAllSelected}\n                toggleItemSelected={this.toggleItemSelected}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default UnhandledVirusFiles;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst propTypes = {\n  currentItem: PropTypes.string.isRequired\n};\n\nclass LogsNav extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.navItems = [\n      {name: 'adminOperationLogs', urlPart:'admin-logs/operation', text: gettext('Admin Operation Logs')},\n      {name: 'adminLoginLogs', urlPart:'admin-logs/login', text: gettext('Admin Login Logs')},\n    ];\n  }\n\n  render() {\n    const { currentItem } = this.props;\n    return (\n      <div className=\"cur-view-path tab-nav-container\">\n        <ul className=\"nav\">\n          {this.navItems.map((item, index) => {\n            return (\n              <li className=\"nav-item\" key={index}>\n                <Link to={`${siteRoot}sys/${item.urlPart}/`} className={`nav-link${currentItem == item.name ? ' active' : ''}`}>{item.text}</Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nLogsNav.propTypes = propTypes;\n\nexport default LogsNav;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot, enableSysAdminViewRepo, isPro } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No Admin operation logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Name')}</th>\n                <th width=\"15%\">{gettext('Operation')}</th>\n                <th width=\"50%\">{gettext('Detail')}</th>\n                <th width=\"15%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  getOperationText = (operationType) => {\n    switch (operationType) {\n      case 'repo_create': return gettext('Create Library');\n      case 'repo_delete': return gettext('Delete Library');\n      case 'repo_transfer': return gettext('Transfer Library');\n      case 'group_create': return gettext('Create Group');\n      case 'group_transfer': return gettext('Transfer Group');\n      case 'group_delete': return gettext('Delete Group');\n      case 'user_add': return gettext('Add User');\n      case 'user_delete': return gettext('Delete User');\n      default: return '';\n    }\n  };\n\n  getOperationDetail = (item) => {\n    let detail = item.detail;\n\n    let ownerPageUrl = '';\n    if (detail.owner) {\n      ownerPageUrl = siteRoot + 'sys/users/' + encodeURIComponent(detail.owner) + '/';\n    }\n    let userPageUrl = '';\n    if (detail.email) {\n      userPageUrl = siteRoot + 'sys/users/' + encodeURIComponent(detail.email) + '/';\n    }\n    let detailText = '';\n    let repoPageUrl = '';\n    let groupPageUrl = '';\n    if (item.operation == 'repo_create' || item.operation == 'repo_delete' || item.operation == 'repo_transfer') {\n      repoPageUrl = siteRoot + 'sys/libraries/' + detail.id + '/' + encodeURIComponent(detail.name) + '/';\n    }\n    if (item.operation == 'group_create' || item.operation == 'group_delete' || item.operation == 'group_transfer') {\n      groupPageUrl = siteRoot + 'sys/groups/' + detail.id + '/libraries/';\n    }\n\n    switch (item.operation) {\n      case 'repo_create':\n        detailText = gettext('Created library {library_name} with {owner} as its owner')\n          .replace('{owner}', '<a href=\"' + ownerPageUrl + '\">' + detail.owner + '</a>');\n        if (isPro && enableSysAdminViewRepo) {\n          detailText = detailText.replace('{library_name}', '<a href=\"' + repoPageUrl + '\">' + detail.name + '</a>');\n        } else {\n          detailText = detailText.replace('{library_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        }\n        return detailText;\n\n      case 'repo_delete':\n        detailText = gettext('Deleted library {library_name}')\n          .replace('{library_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        return detailText;\n\n      case 'repo_transfer':\n        detailText = gettext('Transferred library {library_name} from {user_from} to {user_to}')\n          .replace('{user_from}', '<span class=\"font-weight-bold\">' + detail.from + '</span>')\n          .replace('{user_to}', '<span class=\"font-weight-bold\">' + detail.to+ '</span>');\n        if (isPro && enableSysAdminViewRepo) {\n          detailText = detailText.replace('{library_name}', '<a href=\"' + repoPageUrl + '\">' + detail.name + '</a>');\n        } else {\n          detailText = detailText.replace('{library_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        }\n        return detailText;\n\n      case 'group_create':\n        detailText = gettext('Created group {group_name}')\n          .replace('{group_name}', '<a href=\"' + groupPageUrl + '\">' + detail.name+ '</a>');\n        return detailText;\n\n      case 'group_transfer':\n        detailText = gettext('Transferred group {group_name} from {user_from} to {user_to}')\n          .replace('{user_from}', '<span class=\"font-weight-bold\">' + detail.from + '</span>')\n          .replace('{user_to}', '<span class=\"font-weight-bold\">' + detail.to+ '</span>')\n          .replace('{group_name}', '<a href=\"' + groupPageUrl + '\">' + detail.name+ '</a>');\n        return detailText;\n\n      case 'group_delete':\n        detailText = gettext('Deleted group {group_name}')\n          .replace('{group_name}', '<span class=\"font-weight-bold\">' + detail.name + '</span>');\n        return detailText;\n\n      case 'user_add':\n        detailText = gettext('Added user {user}')\n          .replace('{user}', '<a href=\"' + userPageUrl + '\">' + detail.email+ '</a>');\n        return detailText;\n\n      case 'user_delete':\n        detailText = gettext('Deleted user {user}')\n          .replace('{user}', '<span class=\"font-weight-bold\">' + detail.email+ '</span>');\n        return detailText;\n\n      default: return '';\n    }\n  };\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{this.getOperationText(item.operation)}</td>\n        <td>\n          <span dangerouslySetInnerHTML={{__html: this.getOperationDetail(item)}}></span>\n        </td>\n        <td>{moment(item.datetime).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass AdminOperationLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListAdminLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.data,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"adminOperationLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AdminOperationLogs;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LogsNav from './logs-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getLogsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getLogsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No Admin login logs')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"25%\">{gettext('IP')}</th>\n                <th width=\"25%\">{gettext('Status')}</th>\n                <th width=\"25%\">{gettext('Time')}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let { item } = this.props;\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><UserLink email={item.email} name={item.name} /></td>\n        <td>{item.login_ip}</td>\n        <td>{item.login_success ? gettext('Success') : gettext('Failed')}</td>\n        <td>{moment(item.login_time).fromNow()}</td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass AdminLoginLogs extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      logList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getLogsByPage(this.state.currentPage);\n    });\n  }\n\n  getLogsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListAdminLoginLogs(page, perPage).then((res) => {\n      this.setState({\n        logList: res.data.data,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getLogsByPage(this.initPage));\n  };\n\n  render() {\n    let { logList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LogsNav currentItem=\"adminLoginLogs\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={logList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getLogsByPage={this.getLogsByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AdminLoginLogs;\n","import React, { Component, Fragment } from 'react';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport toaster from '../../components/toast';\nimport moment from 'moment';\nimport MainPanelTopbar from './main-panel-topbar';\n\nclass AbuseReports extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      abuseReportList: [],\n    };\n  }\n\n  listAbuseReports = () => {\n    seafileAPI.sysAdminListAbuseReports().then((res) => {\n      this.setState({\n        abuseReportList: res.data.abuse_report_list,\n      });\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  updateAbuseReport = (handled, abuseReportId) => {\n    seafileAPI.sysAdminUpdateAbuseReport(handled, abuseReportId).then((res) => {\n      const abuseReportList = this.state.abuseReportList.map((item, index) => {\n        if (item.id === abuseReportId) {\n          item.handled = res.data.handled;\n        }\n        return item;\n      });\n      this.setState({\n        abuseReportList: abuseReportList,\n      });\n    }).catch((error) => {\n      this.handleError(error);\n    });\n  };\n\n  handleError = (e) => {\n    if (e.response) {\n      toaster.danger(e.response.data.error_msg || e.response.data.detail || gettext('Error'), {duration: 3});\n    } else {\n      toaster.danger(gettext('Please check the network.'), {duration: 3});\n    }\n  };\n\n  componentDidMount() {\n    this.listAbuseReports();\n  }\n\n  render() {\n    const AbuseReportList = this.state.abuseReportList.map((item, index) => {\n      const handled = (!item.handled).toString();\n      const abuseReportId = item.id;\n      const fileUrl = siteRoot + 'lib/' + item.repo_id + '/file' + item.file_path;\n      return (\n        <tr key={index}>\n          <td>{item.repo_name}</td>\n          <td><a href={fileUrl} target=\"_blank\" rel=\"noreferrer\">{item.file_path}</a></td>\n          <td>{item.reporter}</td>\n          <td>{item.abuse_type}</td>\n          <td>{item.description}</td>\n          <td>{moment(item.time).format('YYYY-MM-DD')}</td>\n          <td><p onClick={this.updateAbuseReport.bind(this, handled, abuseReportId)}\n            className=\"op-target ellipsis ellipsis-op-target cursor-pointer\"\n          >{gettext(item.handled.toString())}</p></td>\n        </tr>\n      );\n    });\n\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Abuse Reports')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <table className={'table-hover'}>\n                <thead>\n                  <tr>\n                    <th width=\"20%\">{gettext('Library')}</th>\n                    <th width=\"20%\">{gettext('File')}</th>\n                    <th width=\"10%\">{gettext('Reporter')}</th>\n                    <th width=\"15%\">{gettext('Abuse Type')}</th>\n                    <th width=\"20%\">{gettext('Description')}</th>\n                    <th width=\"10%\">{gettext('Time')}</th>\n                    <th width=\"5%\">{gettext('Handled')}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {AbuseReportList}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AbuseReports;\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport MediaQuery from 'react-responsive';\nimport { Modal } from 'reactstrap';\nimport { Router } from '@gatsbyjs/reach-router';\nimport { I18nextProvider } from 'react-i18next';\nimport { siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport i18n from '../../_i18n/i18n-seafile-editor';\n\nimport SidePanel from './side-panel';\nimport MainPanel from './main-panel';\n\nimport Info from './info';\n\nimport StatisticFile from './statistic/statistic-file';\nimport StatisticStorage from './statistic/statistic-storage';\nimport StatisticTraffic from './statistic/statistic-traffic';\nimport StatisticUsers from './statistic/statistic-users';\nimport StatisticReport from './statistic/statistic-reports';\n\nimport DesktopDevices from './devices/desktop-devices';\nimport MobileDevices from './devices/mobile-devices';\nimport DeviceErrors from './devices/devices-errors';\n\nimport Users from './users/users';\nimport AdminUsers from './users/admin-users';\nimport LDAPImportedUsers from './users/ldap-imported-users';\nimport LDAPUsers from './users/ldap-users';\nimport SearchUsers from './users/search-users';\nimport User from './users/user-info';\nimport UserOwnedRepos from './users/user-repos';\nimport UserSharedRepos from './users/user-shared-repos';\nimport UserLinks from './users/user-links';\nimport UserGroups from './users/user-groups';\n\nimport AllRepos from './repos/all-repos';\nimport SystemRepo from './repos/system-repo';\nimport TrashRepos from './repos/trash-repos';\nimport SearchRepos from './repos/search-repos';\nimport DirView from './repos/dir-view';\n\nimport Groups from './groups/groups';\nimport SearchGroups from './groups/search-groups';\nimport GroupRepos from './groups/group-repos';\nimport GroupMembers from './groups/group-members';\n\nimport Departments from './departments/departments';\nimport DepartmentList from './departments/department-list';\nimport SubDepartments from './departments/sub-departments';\nimport DepartmentMembers from './departments/department-members';\nimport DepartmentLibraries from './departments/department-libraries';\n\nimport ShareLinks from './links/share-links';\nimport UploadLinks from './links/upload-links';\n\nimport Orgs from './orgs/orgs';\nimport SearchOrgs from './orgs/search-orgs';\nimport OrgInfo from './orgs/org-info';\nimport OrgUsers from './orgs/org-users';\nimport OrgGroups from './orgs/org-groups';\nimport OrgRepos from './orgs/org-repos';\n\nimport Institutions from './institutions/institutions';\nimport InstitutionInfo from './institutions/institution-info';\nimport InstitutionUsers from './institutions/institution-users';\nimport InstitutionAdmins from './institutions/institution-admins';\n\nimport LoginLogs from './logs-page/login-logs';\nimport FileAccessLogs from './logs-page/file-access-logs';\nimport FileUpdateLogs from './logs-page/file-update-logs';\nimport SharePermissionLogs from './logs-page/share-permission-logs';\n\nimport WebSettings from './web-settings/web-settings';\nimport Notifications from './notifications/notifications';\nimport FileScanRecords from './file-scan-records';\nimport WorkWeixinDepartments from './work-weixin-departments';\nimport DingtalkDepartments from './dingtalk-departments';\nimport Invitations from './invitations/invitations';\nimport TermsAndConditions from './terms-and-conditions/terms-and-conditions';\n\nimport AllVirusFiles from './virus-scan/all-virus-files';\nimport UnhandledVirusFiles from './virus-scan/unhandled-virus-files';\n\nimport AdminOperationLogs from './admin-logs/operation-logs';\nimport AdminLoginLogs from './admin-logs/login-logs';\n\nimport AbuseReports from './abuse-reports';\n\nimport '../../css/layout.css';\nimport '../../css/toolbar.css';\n\nclass SysAdmin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSidePanelClosed: false,\n      currentTab: 'file-scan'\n    };\n  }\n\n  componentDidMount() {\n    let href = window.location.href.split('/');\n    let currentTab = href[href.length - 2];\n\n    const pageList = [\n      {\n        tab: 'devices',\n        urlPartList: ['desktop-devices', 'mobile-devices', 'device-errors']\n      },\n      {\n        tab: 'libraries',\n        urlPartList: ['all-libraries', 'search-libraries', 'system-library', 'trash-libraries', 'libraries/']\n      },\n      {\n        tab: 'statistic',\n        urlPartList: ['statistics/file', 'statistics/storage', 'statistics/user', 'statistics/traffic', 'statistics/reports']\n      },\n      {\n        tab: 'users',\n        urlPartList: ['users/', 'search-users/']\n      },\n      {\n        tab: 'groups',\n        urlPartList: ['groups/', 'search-groups/']\n      },\n      {\n        tab: 'organizations',\n        urlPartList: ['organizations/', 'search-organizations/']\n      },\n      {\n        tab: 'links',\n        urlPartList: ['share-links/', 'upload-links/']\n      },\n      {\n        tab: 'institutions',\n        urlPartList: ['institutions/']\n      },\n      {\n        tab: 'termsandconditions',\n        urlPartList: ['terms-and-conditions/']\n      },\n      {\n        tab: 'departments',\n        urlPartList: ['departments/']\n      },\n      {\n        tab: 'logs',\n        urlPartList: ['logs/']\n      },\n      {\n        tab: 'virus-files',\n        urlPartList: ['virus-files/']\n      },\n      {\n        tab: 'adminLogs',\n        urlPartList: ['admin-logs/']\n      }\n    ];\n    const tmpTab = this.getCurrentTabForPageList(pageList);\n    currentTab = tmpTab ? tmpTab : currentTab;\n\n    this.setState({currentTab: currentTab});\n  }\n\n  UNSAFE_componentWillMount() {\n    if (!Utils.isDesktop()) {\n      this.setState({\n        isSidePanelClosed: true\n      });\n    }\n  }\n\n  getCurrentTabForPageList = (pageList) => {\n    let urlPartList, tab;\n    const urlBase = `${siteRoot}sys/`;\n    for (let i = 0, len = pageList.length; i < len; i++) {\n      urlPartList = pageList[i].urlPartList;\n      tab = pageList[i].tab;\n      for (let j = 0, jlen = urlPartList.length; j < jlen; j++) {\n        if (location.href.indexOf(`${urlBase}${urlPartList[j]}`) != -1) {\n          return tab;\n        }\n      }\n    }\n  };\n\n  onCloseSidePanel = () => {\n    this.setState({isSidePanelClosed: !this.state.isSidePanelClosed});\n  };\n\n  tabItemClick = (param) => {\n    this.setState({currentTab: param});\n    if (!Utils.isDesktop() && !this.state.isSidePanelClosed) {\n      this.setState({ isSidePanelClosed: true });\n    }\n  };\n\n  toggleSidePanel = () => {\n    this.setState({\n      isSidePanelClosed: !this.state.isSidePanelClosed\n    });\n  };\n\n  render() {\n    const { currentTab, isSidePanelClosed } = this.state;\n    const commonProps = {\n      toggleSidePanel: this.toggleSidePanel\n    };\n\n    return (\n      <div id=\"main\">\n        <SidePanel\n          isSidePanelClosed={isSidePanelClosed}\n          onCloseSidePanel={this.onCloseSidePanel}\n          currentTab={currentTab}\n          tabItemClick={this.tabItemClick}\n        />\n        <MainPanel>\n          <Router className=\"reach-router\">\n            <Info path={siteRoot + 'sys/info'} {...commonProps} />\n            <StatisticFile path={siteRoot + 'sys/statistics/file'} {...commonProps} />\n            <StatisticStorage path={siteRoot + 'sys/statistics/storage'} {...commonProps} />\n            <StatisticUsers path={siteRoot + 'sys/statistics/user'} {...commonProps} />\n            <StatisticTraffic path={siteRoot + 'sys/statistics/traffic'} {...commonProps} />\n            <StatisticReport path={siteRoot + 'sys/statistics/reports'} {...commonProps} />\n            <DesktopDevices path={siteRoot + 'sys/desktop-devices'} {...commonProps} />\n            <MobileDevices path={siteRoot + 'sys/mobile-devices'} {...commonProps} />\n            <DeviceErrors path={siteRoot + 'sys/device-errors'} {...commonProps} />\n            <AllRepos path={siteRoot + 'sys/all-libraries'} {...commonProps} />\n            <SystemRepo path={siteRoot + 'sys/system-library'} {...commonProps} />\n            <TrashRepos path={siteRoot + 'sys/trash-libraries'} {...commonProps} />\n            <SearchRepos path={siteRoot + 'sys/search-libraries'} {...commonProps} />\n            <DirView path={siteRoot + 'sys/libraries/:repoID/*'} {...commonProps} />\n            <WebSettings path={siteRoot + 'sys/web-settings'} {...commonProps} />\n            <Notifications path={siteRoot + 'sys/notifications'} {...commonProps} />\n            <Groups path={siteRoot + 'sys/groups'} {...commonProps} />\n            <SearchGroups path={siteRoot + 'sys/search-groups'} {...commonProps} />\n            <GroupRepos path={siteRoot + 'sys/groups/:groupID/libraries'} {...commonProps} />\n            <GroupMembers path={siteRoot + 'sys/groups/:groupID/members'} {...commonProps} />\n            <Departments path={siteRoot + 'sys/departments'}>\n              <DepartmentList path='/' {...commonProps} />\n              <SubDepartments path='/:groupID' {...commonProps} />\n              <DepartmentMembers path='/:groupID/members' {...commonProps} />\n              <DepartmentLibraries path='/:groupID/libraries' {...commonProps} />\n            </Departments>\n            <ShareLinks path={siteRoot + 'sys/share-links'} {...commonProps} />\n            <UploadLinks path={siteRoot + 'sys/upload-links'} {...commonProps} />\n            <Orgs path={siteRoot + 'sys/organizations'} {...commonProps} />\n            <SearchOrgs path={siteRoot + 'sys/search-organizations'} {...commonProps} />\n            <OrgInfo path={siteRoot + 'sys/organizations/:orgID/info'} {...commonProps} />\n            <OrgUsers path={siteRoot + 'sys/organizations/:orgID/users'} {...commonProps} />\n            <OrgGroups path={siteRoot + 'sys/organizations/:orgID/groups'} {...commonProps} />\n            <OrgRepos path={siteRoot + 'sys/organizations/:orgID/libraries'} {...commonProps} />\n            <Institutions path={siteRoot + 'sys/institutions'} {...commonProps} />\n            <InstitutionInfo path={siteRoot + 'sys/institutions/:institutionID/info'} {...commonProps} />\n            <InstitutionUsers path={siteRoot + 'sys/institutions/:institutionID/members'} {...commonProps} />\n            <InstitutionAdmins path={siteRoot + 'sys/institutions/:institutionID/admins'} {...commonProps} />\n            <LoginLogs path={siteRoot + 'sys/logs/login'} {...commonProps} />\n            <FileAccessLogs path={siteRoot + 'sys/logs/file-access'} {...commonProps} />\n            <FileUpdateLogs path={siteRoot + 'sys/logs/file-update'} {...commonProps} />\n            <SharePermissionLogs path={siteRoot + 'sys/logs/share-permission'} {...commonProps} />\n            <AdminOperationLogs path={siteRoot + 'sys/admin-logs/operation'} {...commonProps} />\n            <AdminLoginLogs path={siteRoot + 'sys/admin-logs/login'} {...commonProps} />\n\n            <Users path={siteRoot + 'sys/users'} {...commonProps} />\n            <AdminUsers path={siteRoot + 'sys/users/admins'} {...commonProps} />\n            <LDAPImportedUsers path={siteRoot + 'sys/users/ldap-imported'} {...commonProps} />\n            <LDAPUsers path={siteRoot + 'sys/users/ldap'} {...commonProps} />\n            <SearchUsers path={siteRoot + 'sys/search-users'} {...commonProps} />\n            <User path={siteRoot + 'sys/users/:email'} {...commonProps} />\n            <UserOwnedRepos path={siteRoot + 'sys/users/:email/owned-libraries'} {...commonProps} />\n            <UserSharedRepos path={siteRoot + 'sys/users/:email/shared-libraries'} {...commonProps} />\n            <UserLinks path={siteRoot + 'sys/users/:email/shared-links'} {...commonProps} />\n            <UserGroups path={siteRoot + 'sys/users/:email/groups'} {...commonProps} />\n\n            <Invitations path={siteRoot + 'sys/invitations'} {...commonProps} />\n            <TermsAndConditions path={siteRoot + 'sys/terms-and-conditions/'} {...commonProps} />\n\n            <AllVirusFiles path={siteRoot + 'sys/virus-files/all'} {...commonProps} />\n            <UnhandledVirusFiles path={siteRoot + 'sys/virus-files/unhandled'} {...commonProps} />\n\n            <FileScanRecords path={siteRoot + 'sys/file-scan-records'} {...commonProps} />\n            <WorkWeixinDepartments path={siteRoot + 'sys/work-weixin'} {...commonProps} />\n            <DingtalkDepartments path={siteRoot + 'sys/dingtalk'} {...commonProps} />\n            <AbuseReports path={siteRoot + 'sys/abuse-reports'} {...commonProps} />\n          </Router>\n        </MainPanel>\n        <MediaQuery query=\"(max-width: 767.8px)\">\n          <Modal zIndex=\"1030\" isOpen={!isSidePanelClosed} toggle={this.toggleSidePanel} contentClassName=\"d-none\"></Modal>\n        </MediaQuery>\n      </div>\n    );\n  }\n}\n\nReactDom.render(\n  <I18nextProvider value={i18n}>\n    <SysAdmin />\n  </I18nextProvider>,\n  document.getElementById('wrapper')\n);\n","/*!\n * Chart.js v2.9.4\n * https://www.chartjs.org\n * (c) 2020 Chart.js Contributors\n * Released under the MIT License\n */\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(function() { try { return require('moment'); } catch(e) { } }()) :\ntypeof define === 'function' && define.amd ? define(['require'], function(require) { return factory(function() { try { return require('moment'); } catch(e) { } }()); }) :\n(global = global || self, global.Chart = factory(global.moment));\n}(this, (function (moment) { 'use strict';\n\nmoment = moment && moment.hasOwnProperty('default') ? moment['default'] : moment;\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nfunction getCjsExportFromNamespace (n) {\n\treturn n && n['default'] || n;\n}\n\nvar colorName = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\n\nvar conversions = createCommonjsModule(function (module) {\n/* MIT license */\n\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nvar reverseKeywords = {};\nfor (var key in colorName) {\n\tif (colorName.hasOwnProperty(key)) {\n\t\treverseKeywords[colorName[key]] = key;\n\t}\n}\n\nvar convert = module.exports = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\n// hide .channels and .labels properties\nfor (var model in convert) {\n\tif (convert.hasOwnProperty(model)) {\n\t\tif (!('channels' in convert[model])) {\n\t\t\tthrow new Error('missing channels property: ' + model);\n\t\t}\n\n\t\tif (!('labels' in convert[model])) {\n\t\t\tthrow new Error('missing channel labels property: ' + model);\n\t\t}\n\n\t\tif (convert[model].labels.length !== convert[model].channels) {\n\t\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t\t}\n\n\t\tvar channels = convert[model].channels;\n\t\tvar labels = convert[model].labels;\n\t\tdelete convert[model].channels;\n\t\tdelete convert[model].labels;\n\t\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\t\tObject.defineProperty(convert[model], 'labels', {value: labels});\n\t}\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar min = Math.min(r, g, b);\n\tvar max = Math.max(r, g, b);\n\tvar delta = max - min;\n\tvar h;\n\tvar s;\n\tvar l;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tl = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tvar rdif;\n\tvar gdif;\n\tvar bdif;\n\tvar h;\n\tvar s;\n\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar v = Math.max(r, g, b);\n\tvar diff = v - Math.min(r, g, b);\n\tvar diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = s = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tvar r = rgb[0];\n\tvar g = rgb[1];\n\tvar b = rgb[2];\n\tvar h = convert.rgb.hsl(rgb)[0];\n\tvar w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar c;\n\tvar m;\n\tvar y;\n\tvar k;\n\n\tk = Math.min(1 - r, 1 - g, 1 - b);\n\tc = (1 - r - k) / (1 - k) || 0;\n\tm = (1 - g - k) / (1 - k) || 0;\n\ty = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\n/**\n * See https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n * */\nfunction comparativeDistance(x, y) {\n\treturn (\n\t\tMath.pow(x[0] - y[0], 2) +\n\t\tMath.pow(x[1] - y[1], 2) +\n\t\tMath.pow(x[2] - y[2], 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tvar reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tvar currentClosestDistance = Infinity;\n\tvar currentClosestKeyword;\n\n\tfor (var keyword in colorName) {\n\t\tif (colorName.hasOwnProperty(keyword)) {\n\t\t\tvar value = colorName[keyword];\n\n\t\t\t// Compute comparative distance\n\t\t\tvar distance = comparativeDistance(rgb, value);\n\n\t\t\t// Check if its less, if so set as closest\n\t\t\tif (distance < currentClosestDistance) {\n\t\t\t\tcurrentClosestDistance = distance;\n\t\t\t\tcurrentClosestKeyword = keyword;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn colorName[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\n\t// assume sRGB\n\tr = r > 0.04045 ? Math.pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? Math.pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? Math.pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tvar x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tvar y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tvar z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tvar xyz = convert.rgb.xyz(rgb);\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tvar h = hsl[0] / 360;\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar t1;\n\tvar t2;\n\tvar t3;\n\tvar rgb;\n\tvar val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tt1 = 2 * l - t2;\n\n\trgb = [0, 0, 0];\n\tfor (var i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tvar h = hsl[0];\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar smin = s;\n\tvar lmin = Math.max(l, 0.01);\n\tvar sv;\n\tvar v;\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tv = (l + s) / 2;\n\tsv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tvar h = hsv[0] / 60;\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar hi = Math.floor(h) % 6;\n\n\tvar f = h - Math.floor(h);\n\tvar p = 255 * v * (1 - s);\n\tvar q = 255 * v * (1 - (s * f));\n\tvar t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tvar h = hsv[0];\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\tvar vmin = Math.max(v, 0.01);\n\tvar lmin;\n\tvar sl;\n\tvar l;\n\n\tl = (2 - s) * v;\n\tlmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tvar h = hwb[0] / 360;\n\tvar wh = hwb[1] / 100;\n\tvar bl = hwb[2] / 100;\n\tvar ratio = wh + bl;\n\tvar i;\n\tvar v;\n\tvar f;\n\tvar n;\n\n\t// wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\ti = Math.floor(6 * h);\n\tv = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tn = wh + f * (v - wh); // linear interpolation\n\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v; g = n; b = wh; break;\n\t\tcase 1: r = n; g = v; b = wh; break;\n\t\tcase 2: r = wh; g = v; b = n; break;\n\t\tcase 3: r = wh; g = n; b = v; break;\n\t\tcase 4: r = n; g = wh; b = v; break;\n\t\tcase 5: r = v; g = wh; b = n; break;\n\t}\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tvar c = cmyk[0] / 100;\n\tvar m = cmyk[1] / 100;\n\tvar y = cmyk[2] / 100;\n\tvar k = cmyk[3] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = 1 - Math.min(1, c * (1 - k) + k);\n\tg = 1 - Math.min(1, m * (1 - k) + k);\n\tb = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tvar x = xyz[0] / 100;\n\tvar y = xyz[1] / 100;\n\tvar z = xyz[2] / 100;\n\tvar r;\n\tvar g;\n\tvar b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * Math.pow(r, 1.0 / 2.4)) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * Math.pow(g, 1.0 / 2.4)) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * Math.pow(b, 1.0 / 2.4)) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tvar x = xyz[0];\n\tvar y = xyz[1];\n\tvar z = xyz[2];\n\tvar l;\n\tvar a;\n\tvar b;\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? Math.pow(x, 1 / 3) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? Math.pow(y, 1 / 3) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? Math.pow(z, 1 / 3) : (7.787 * z) + (16 / 116);\n\n\tl = (116 * y) - 16;\n\ta = 500 * (x - y);\n\tb = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar x;\n\tvar y;\n\tvar z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tvar y2 = Math.pow(y, 3);\n\tvar x2 = Math.pow(x, 3);\n\tvar z2 = Math.pow(z, 3);\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tvar l = lab[0];\n\tvar a = lab[1];\n\tvar b = lab[2];\n\tvar hr;\n\tvar h;\n\tvar c;\n\n\thr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tc = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tvar l = lch[0];\n\tvar c = lch[1];\n\tvar h = lch[2];\n\tvar a;\n\tvar b;\n\tvar hr;\n\n\thr = h / 360 * 2 * Math.PI;\n\ta = c * Math.cos(hr);\n\tb = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\tvar value = 1 in arguments ? arguments[1] : convert.rgb.hsv(args)[2]; // hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tvar ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tvar r = args[0];\n\tvar g = args[1];\n\tvar b = args[2];\n\n\t// we use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tvar ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tvar color = args % 10;\n\n\t// handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tvar mult = (~~(args > 50) + 1) * 0.5;\n\tvar r = ((color & 1) * mult) * 255;\n\tvar g = (((color >> 1) & 1) * mult) * 255;\n\tvar b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// handle greyscale\n\tif (args >= 232) {\n\t\tvar c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tvar rem;\n\tvar r = Math.floor(args / 36) / 5 * 255;\n\tvar g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tvar b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tvar integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tvar match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tvar colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(function (char) {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tvar integer = parseInt(colorString, 16);\n\tvar r = (integer >> 16) & 0xFF;\n\tvar g = (integer >> 8) & 0xFF;\n\tvar b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tvar r = rgb[0] / 255;\n\tvar g = rgb[1] / 255;\n\tvar b = rgb[2] / 255;\n\tvar max = Math.max(Math.max(r, g), b);\n\tvar min = Math.min(Math.min(r, g), b);\n\tvar chroma = (max - min);\n\tvar grayscale;\n\tvar hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma + 4;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tvar s = hsl[1] / 100;\n\tvar l = hsl[2] / 100;\n\tvar c = 1;\n\tvar f = 0;\n\n\tif (l < 0.5) {\n\t\tc = 2.0 * s * l;\n\t} else {\n\t\tc = 2.0 * s * (1.0 - l);\n\t}\n\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tvar s = hsv[1] / 100;\n\tvar v = hsv[2] / 100;\n\n\tvar c = s * v;\n\tvar f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tvar h = hcg[0] / 360;\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tvar pure = [0, 0, 0];\n\tvar hi = (h % 1) * 6;\n\tvar v = hi % 1;\n\tvar w = 1 - v;\n\tvar mg = 0;\n\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar v = c + g * (1.0 - c);\n\tvar f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\n\tvar l = g * (1.0 - c) + 0.5 * c;\n\tvar s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tvar c = hcg[1] / 100;\n\tvar g = hcg[2] / 100;\n\tvar v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tvar w = hwb[1] / 100;\n\tvar b = hwb[2] / 100;\n\tvar v = 1 - b;\n\tvar c = v - w;\n\tvar g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = convert.gray.hsv = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tvar val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tvar integer = (val << 16) + (val << 8) + val;\n\n\tvar string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tvar val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n});\nvar conversions_1 = conversions.rgb;\nvar conversions_2 = conversions.hsl;\nvar conversions_3 = conversions.hsv;\nvar conversions_4 = conversions.hwb;\nvar conversions_5 = conversions.cmyk;\nvar conversions_6 = conversions.xyz;\nvar conversions_7 = conversions.lab;\nvar conversions_8 = conversions.lch;\nvar conversions_9 = conversions.hex;\nvar conversions_10 = conversions.keyword;\nvar conversions_11 = conversions.ansi16;\nvar conversions_12 = conversions.ansi256;\nvar conversions_13 = conversions.hcg;\nvar conversions_14 = conversions.apple;\nvar conversions_15 = conversions.gray;\n\n/*\n\tthis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tvar graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tvar models = Object.keys(conversions);\n\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tvar graph = buildGraph();\n\tvar queue = [fromModel]; // unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tvar current = queue.pop();\n\t\tvar adjacents = Object.keys(conversions[current]);\n\n\t\tfor (var len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tvar adjacent = adjacents[i];\n\t\t\tvar node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tvar path = [graph[toModel].parent, toModel];\n\tvar fn = conversions[graph[toModel].parent][toModel];\n\n\tvar cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nvar route = function (fromModel) {\n\tvar graph = deriveBFS(fromModel);\n\tvar conversion = {};\n\n\tvar models = Object.keys(graph);\n\tfor (var len = models.length, i = 0; i < len; i++) {\n\t\tvar toModel = models[i];\n\t\tvar node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// no possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\nvar convert = {};\n\nvar models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tvar wrappedFn = function (args) {\n\t\tif (args === undefined || args === null) {\n\t\t\treturn args;\n\t\t}\n\n\t\tif (arguments.length > 1) {\n\t\t\targs = Array.prototype.slice.call(arguments);\n\t\t}\n\n\t\tvar result = fn(args);\n\n\t\t// we're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (var len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(function (fromModel) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tvar routes = route(fromModel);\n\tvar routeModels = Object.keys(routes);\n\n\trouteModels.forEach(function (toModel) {\n\t\tvar fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nvar colorConvert = convert;\n\nvar colorName$1 = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\n\n/* MIT license */\n\n\nvar colorString = {\n   getRgba: getRgba,\n   getHsla: getHsla,\n   getRgb: getRgb,\n   getHsl: getHsl,\n   getHwb: getHwb,\n   getAlpha: getAlpha,\n\n   hexString: hexString,\n   rgbString: rgbString,\n   rgbaString: rgbaString,\n   percentString: percentString,\n   percentaString: percentaString,\n   hslString: hslString,\n   hslaString: hslaString,\n   hwbString: hwbString,\n   keyword: keyword\n};\n\nfunction getRgba(string) {\n   if (!string) {\n      return;\n   }\n   var abbr =  /^#([a-fA-F0-9]{3,4})$/i,\n       hex =  /^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,\n       rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i,\n       per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/i,\n       keyword = /(\\w+)/;\n\n   var rgb = [0, 0, 0],\n       a = 1,\n       match = string.match(abbr),\n       hexAlpha = \"\";\n   if (match) {\n      match = match[1];\n      hexAlpha = match[3];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i] + match[i], 16);\n      }\n      if (hexAlpha) {\n         a = Math.round((parseInt(hexAlpha + hexAlpha, 16) / 255) * 100) / 100;\n      }\n   }\n   else if (match = string.match(hex)) {\n      hexAlpha = match[2];\n      match = match[1];\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match.slice(i * 2, i * 2 + 2), 16);\n      }\n      if (hexAlpha) {\n         a = Math.round((parseInt(hexAlpha, 16) / 255) * 100) / 100;\n      }\n   }\n   else if (match = string.match(rgba)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = parseInt(match[i + 1]);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(per)) {\n      for (var i = 0; i < rgb.length; i++) {\n         rgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n      }\n      a = parseFloat(match[4]);\n   }\n   else if (match = string.match(keyword)) {\n      if (match[1] == \"transparent\") {\n         return [0, 0, 0, 0];\n      }\n      rgb = colorName$1[match[1]];\n      if (!rgb) {\n         return;\n      }\n   }\n\n   for (var i = 0; i < rgb.length; i++) {\n      rgb[i] = scale(rgb[i], 0, 255);\n   }\n   if (!a && a != 0) {\n      a = 1;\n   }\n   else {\n      a = scale(a, 0, 1);\n   }\n   rgb[3] = a;\n   return rgb;\n}\n\nfunction getHsla(string) {\n   if (!string) {\n      return;\n   }\n   var hsl = /^hsla?\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hsl);\n   if (match) {\n      var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          s = scale(parseFloat(match[2]), 0, 100),\n          l = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, s, l, a];\n   }\n}\n\nfunction getHwb(string) {\n   if (!string) {\n      return;\n   }\n   var hwb = /^hwb\\(\\s*([+-]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n   var match = string.match(hwb);\n   if (match) {\n    var alpha = parseFloat(match[4]);\n      var h = scale(parseInt(match[1]), 0, 360),\n          w = scale(parseFloat(match[2]), 0, 100),\n          b = scale(parseFloat(match[3]), 0, 100),\n          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);\n      return [h, w, b, a];\n   }\n}\n\nfunction getRgb(string) {\n   var rgba = getRgba(string);\n   return rgba && rgba.slice(0, 3);\n}\n\nfunction getHsl(string) {\n  var hsla = getHsla(string);\n  return hsla && hsla.slice(0, 3);\n}\n\nfunction getAlpha(string) {\n   var vals = getRgba(string);\n   if (vals) {\n      return vals[3];\n   }\n   else if (vals = getHsla(string)) {\n      return vals[3];\n   }\n   else if (vals = getHwb(string)) {\n      return vals[3];\n   }\n}\n\n// generators\nfunction hexString(rgba, a) {\n   var a = (a !== undefined && rgba.length === 3) ? a : rgba[3];\n   return \"#\" + hexDouble(rgba[0]) \n              + hexDouble(rgba[1])\n              + hexDouble(rgba[2])\n              + (\n                 (a >= 0 && a < 1)\n                 ? hexDouble(Math.round(a * 255))\n                 : \"\"\n              );\n}\n\nfunction rgbString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return rgbaString(rgba, alpha);\n   }\n   return \"rgb(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2] + \")\";\n}\n\nfunction rgbaString(rgba, alpha) {\n   if (alpha === undefined) {\n      alpha = (rgba[3] !== undefined ? rgba[3] : 1);\n   }\n   return \"rgba(\" + rgba[0] + \", \" + rgba[1] + \", \" + rgba[2]\n           + \", \" + alpha + \")\";\n}\n\nfunction percentString(rgba, alpha) {\n   if (alpha < 1 || (rgba[3] && rgba[3] < 1)) {\n      return percentaString(rgba, alpha);\n   }\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n\n   return \"rgb(\" + r + \"%, \" + g + \"%, \" + b + \"%)\";\n}\n\nfunction percentaString(rgba, alpha) {\n   var r = Math.round(rgba[0]/255 * 100),\n       g = Math.round(rgba[1]/255 * 100),\n       b = Math.round(rgba[2]/255 * 100);\n   return \"rgba(\" + r + \"%, \" + g + \"%, \" + b + \"%, \" + (alpha || rgba[3] || 1) + \")\";\n}\n\nfunction hslString(hsla, alpha) {\n   if (alpha < 1 || (hsla[3] && hsla[3] < 1)) {\n      return hslaString(hsla, alpha);\n   }\n   return \"hsl(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%)\";\n}\n\nfunction hslaString(hsla, alpha) {\n   if (alpha === undefined) {\n      alpha = (hsla[3] !== undefined ? hsla[3] : 1);\n   }\n   return \"hsla(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%, \"\n           + alpha + \")\";\n}\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\nfunction hwbString(hwb, alpha) {\n   if (alpha === undefined) {\n      alpha = (hwb[3] !== undefined ? hwb[3] : 1);\n   }\n   return \"hwb(\" + hwb[0] + \", \" + hwb[1] + \"%, \" + hwb[2] + \"%\"\n           + (alpha !== undefined && alpha !== 1 ? \", \" + alpha : \"\") + \")\";\n}\n\nfunction keyword(rgb) {\n  return reverseNames[rgb.slice(0, 3)];\n}\n\n// helpers\nfunction scale(num, min, max) {\n   return Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n  var str = num.toString(16).toUpperCase();\n  return (str.length < 2) ? \"0\" + str : str;\n}\n\n\n//create a list of reverse color names\nvar reverseNames = {};\nfor (var name in colorName$1) {\n   reverseNames[colorName$1[name]] = name;\n}\n\n/* MIT license */\n\n\n\nvar Color = function (obj) {\n\tif (obj instanceof Color) {\n\t\treturn obj;\n\t}\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(obj);\n\t}\n\n\tthis.valid = false;\n\tthis.values = {\n\t\trgb: [0, 0, 0],\n\t\thsl: [0, 0, 0],\n\t\thsv: [0, 0, 0],\n\t\thwb: [0, 0, 0],\n\t\tcmyk: [0, 0, 0, 0],\n\t\talpha: 1\n\t};\n\n\t// parse Color() argument\n\tvar vals;\n\tif (typeof obj === 'string') {\n\t\tvals = colorString.getRgba(obj);\n\t\tif (vals) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals = colorString.getHsla(obj)) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals = colorString.getHwb(obj)) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t}\n\t} else if (typeof obj === 'object') {\n\t\tvals = obj;\n\t\tif (vals.r !== undefined || vals.red !== undefined) {\n\t\t\tthis.setValues('rgb', vals);\n\t\t} else if (vals.l !== undefined || vals.lightness !== undefined) {\n\t\t\tthis.setValues('hsl', vals);\n\t\t} else if (vals.v !== undefined || vals.value !== undefined) {\n\t\t\tthis.setValues('hsv', vals);\n\t\t} else if (vals.w !== undefined || vals.whiteness !== undefined) {\n\t\t\tthis.setValues('hwb', vals);\n\t\t} else if (vals.c !== undefined || vals.cyan !== undefined) {\n\t\t\tthis.setValues('cmyk', vals);\n\t\t}\n\t}\n};\n\nColor.prototype = {\n\tisValid: function () {\n\t\treturn this.valid;\n\t},\n\trgb: function () {\n\t\treturn this.setSpace('rgb', arguments);\n\t},\n\thsl: function () {\n\t\treturn this.setSpace('hsl', arguments);\n\t},\n\thsv: function () {\n\t\treturn this.setSpace('hsv', arguments);\n\t},\n\thwb: function () {\n\t\treturn this.setSpace('hwb', arguments);\n\t},\n\tcmyk: function () {\n\t\treturn this.setSpace('cmyk', arguments);\n\t},\n\n\trgbArray: function () {\n\t\treturn this.values.rgb;\n\t},\n\thslArray: function () {\n\t\treturn this.values.hsl;\n\t},\n\thsvArray: function () {\n\t\treturn this.values.hsv;\n\t},\n\thwbArray: function () {\n\t\tvar values = this.values;\n\t\tif (values.alpha !== 1) {\n\t\t\treturn values.hwb.concat([values.alpha]);\n\t\t}\n\t\treturn values.hwb;\n\t},\n\tcmykArray: function () {\n\t\treturn this.values.cmyk;\n\t},\n\trgbaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.rgb.concat([values.alpha]);\n\t},\n\thslaArray: function () {\n\t\tvar values = this.values;\n\t\treturn values.hsl.concat([values.alpha]);\n\t},\n\talpha: function (val) {\n\t\tif (val === undefined) {\n\t\t\treturn this.values.alpha;\n\t\t}\n\t\tthis.setValues('alpha', val);\n\t\treturn this;\n\t},\n\n\tred: function (val) {\n\t\treturn this.setChannel('rgb', 0, val);\n\t},\n\tgreen: function (val) {\n\t\treturn this.setChannel('rgb', 1, val);\n\t},\n\tblue: function (val) {\n\t\treturn this.setChannel('rgb', 2, val);\n\t},\n\thue: function (val) {\n\t\tif (val) {\n\t\t\tval %= 360;\n\t\t\tval = val < 0 ? 360 + val : val;\n\t\t}\n\t\treturn this.setChannel('hsl', 0, val);\n\t},\n\tsaturation: function (val) {\n\t\treturn this.setChannel('hsl', 1, val);\n\t},\n\tlightness: function (val) {\n\t\treturn this.setChannel('hsl', 2, val);\n\t},\n\tsaturationv: function (val) {\n\t\treturn this.setChannel('hsv', 1, val);\n\t},\n\twhiteness: function (val) {\n\t\treturn this.setChannel('hwb', 1, val);\n\t},\n\tblackness: function (val) {\n\t\treturn this.setChannel('hwb', 2, val);\n\t},\n\tvalue: function (val) {\n\t\treturn this.setChannel('hsv', 2, val);\n\t},\n\tcyan: function (val) {\n\t\treturn this.setChannel('cmyk', 0, val);\n\t},\n\tmagenta: function (val) {\n\t\treturn this.setChannel('cmyk', 1, val);\n\t},\n\tyellow: function (val) {\n\t\treturn this.setChannel('cmyk', 2, val);\n\t},\n\tblack: function (val) {\n\t\treturn this.setChannel('cmyk', 3, val);\n\t},\n\n\thexString: function () {\n\t\treturn colorString.hexString(this.values.rgb);\n\t},\n\trgbString: function () {\n\t\treturn colorString.rgbString(this.values.rgb, this.values.alpha);\n\t},\n\trgbaString: function () {\n\t\treturn colorString.rgbaString(this.values.rgb, this.values.alpha);\n\t},\n\tpercentString: function () {\n\t\treturn colorString.percentString(this.values.rgb, this.values.alpha);\n\t},\n\thslString: function () {\n\t\treturn colorString.hslString(this.values.hsl, this.values.alpha);\n\t},\n\thslaString: function () {\n\t\treturn colorString.hslaString(this.values.hsl, this.values.alpha);\n\t},\n\thwbString: function () {\n\t\treturn colorString.hwbString(this.values.hwb, this.values.alpha);\n\t},\n\tkeyword: function () {\n\t\treturn colorString.keyword(this.values.rgb, this.values.alpha);\n\t},\n\n\trgbNumber: function () {\n\t\tvar rgb = this.values.rgb;\n\t\treturn (rgb[0] << 16) | (rgb[1] << 8) | rgb[2];\n\t},\n\n\tluminosity: function () {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tvar rgb = this.values.rgb;\n\t\tvar lum = [];\n\t\tfor (var i = 0; i < rgb.length; i++) {\n\t\t\tvar chan = rgb[i] / 255;\n\t\t\tlum[i] = (chan <= 0.03928) ? chan / 12.92 : Math.pow(((chan + 0.055) / 1.055), 2.4);\n\t\t}\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast: function (color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tvar lum1 = this.luminosity();\n\t\tvar lum2 = color2.luminosity();\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel: function (color2) {\n\t\tvar contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tdark: function () {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tvar rgb = this.values.rgb;\n\t\tvar yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tlight: function () {\n\t\treturn !this.dark();\n\t},\n\n\tnegate: function () {\n\t\tvar rgb = [];\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\trgb[i] = 255 - this.values.rgb[i];\n\t\t}\n\t\tthis.setValues('rgb', rgb);\n\t\treturn this;\n\t},\n\n\tlighten: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] += hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdarken: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[2] -= hsl[2] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tsaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] += hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\tdesaturate: function (ratio) {\n\t\tvar hsl = this.values.hsl;\n\t\thsl[1] -= hsl[1] * ratio;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\twhiten: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[1] += hwb[1] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tblacken: function (ratio) {\n\t\tvar hwb = this.values.hwb;\n\t\thwb[2] += hwb[2] * ratio;\n\t\tthis.setValues('hwb', hwb);\n\t\treturn this;\n\t},\n\n\tgreyscale: function () {\n\t\tvar rgb = this.values.rgb;\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tvar val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\tthis.setValues('rgb', [val, val, val]);\n\t\treturn this;\n\t},\n\n\tclearer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha - (alpha * ratio));\n\t\treturn this;\n\t},\n\n\topaquer: function (ratio) {\n\t\tvar alpha = this.values.alpha;\n\t\tthis.setValues('alpha', alpha + (alpha * ratio));\n\t\treturn this;\n\t},\n\n\trotate: function (degrees) {\n\t\tvar hsl = this.values.hsl;\n\t\tvar hue = (hsl[0] + degrees) % 360;\n\t\thsl[0] = hue < 0 ? 360 + hue : hue;\n\t\tthis.setValues('hsl', hsl);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Ported from sass implementation in C\n\t * https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t */\n\tmix: function (mixinColor, weight) {\n\t\tvar color1 = this;\n\t\tvar color2 = mixinColor;\n\t\tvar p = weight === undefined ? 0.5 : weight;\n\n\t\tvar w = 2 * p - 1;\n\t\tvar a = color1.alpha() - color2.alpha();\n\n\t\tvar w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\tvar w2 = 1 - w1;\n\n\t\treturn this\n\t\t\t.rgb(\n\t\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\t\tw1 * color1.blue() + w2 * color2.blue()\n\t\t\t)\n\t\t\t.alpha(color1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n\n\ttoJSON: function () {\n\t\treturn this.rgb();\n\t},\n\n\tclone: function () {\n\t\t// NOTE(SB): using node-clone creates a dependency to Buffer when using browserify,\n\t\t// making the final build way to big to embed in Chart.js. So let's do it manually,\n\t\t// assuming that values to clone are 1 dimension arrays containing only numbers,\n\t\t// except 'alpha' which is a number.\n\t\tvar result = new Color();\n\t\tvar source = this.values;\n\t\tvar target = result.values;\n\t\tvar value, type;\n\n\t\tfor (var prop in source) {\n\t\t\tif (source.hasOwnProperty(prop)) {\n\t\t\t\tvalue = source[prop];\n\t\t\t\ttype = ({}).toString.call(value);\n\t\t\t\tif (type === '[object Array]') {\n\t\t\t\t\ttarget[prop] = value.slice(0);\n\t\t\t\t} else if (type === '[object Number]') {\n\t\t\t\t\ttarget[prop] = value;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('unexpected color value:', value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nColor.prototype.spaces = {\n\trgb: ['red', 'green', 'blue'],\n\thsl: ['hue', 'saturation', 'lightness'],\n\thsv: ['hue', 'saturation', 'value'],\n\thwb: ['hue', 'whiteness', 'blackness'],\n\tcmyk: ['cyan', 'magenta', 'yellow', 'black']\n};\n\nColor.prototype.maxes = {\n\trgb: [255, 255, 255],\n\thsl: [360, 100, 100],\n\thsv: [360, 100, 100],\n\thwb: [360, 100, 100],\n\tcmyk: [100, 100, 100, 100]\n};\n\nColor.prototype.getValues = function (space) {\n\tvar values = this.values;\n\tvar vals = {};\n\n\tfor (var i = 0; i < space.length; i++) {\n\t\tvals[space.charAt(i)] = values[space][i];\n\t}\n\n\tif (values.alpha !== 1) {\n\t\tvals.a = values.alpha;\n\t}\n\n\t// {r: 255, g: 255, b: 255, a: 0.4}\n\treturn vals;\n};\n\nColor.prototype.setValues = function (space, vals) {\n\tvar values = this.values;\n\tvar spaces = this.spaces;\n\tvar maxes = this.maxes;\n\tvar alpha = 1;\n\tvar i;\n\n\tthis.valid = true;\n\n\tif (space === 'alpha') {\n\t\talpha = vals;\n\t} else if (vals.length) {\n\t\t// [10, 10, 10]\n\t\tvalues[space] = vals.slice(0, space.length);\n\t\talpha = vals[space.length];\n\t} else if (vals[space.charAt(0)] !== undefined) {\n\t\t// {r: 10, g: 10, b: 10}\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[space.charAt(i)];\n\t\t}\n\n\t\talpha = vals.a;\n\t} else if (vals[spaces[space][0]] !== undefined) {\n\t\t// {red: 10, green: 10, blue: 10}\n\t\tvar chans = spaces[space];\n\n\t\tfor (i = 0; i < space.length; i++) {\n\t\t\tvalues[space][i] = vals[chans[i]];\n\t\t}\n\n\t\talpha = vals.alpha;\n\t}\n\n\tvalues.alpha = Math.max(0, Math.min(1, (alpha === undefined ? values.alpha : alpha)));\n\n\tif (space === 'alpha') {\n\t\treturn false;\n\t}\n\n\tvar capped;\n\n\t// cap values of the space prior converting all values\n\tfor (i = 0; i < space.length; i++) {\n\t\tcapped = Math.max(0, Math.min(maxes[space][i], values[space][i]));\n\t\tvalues[space][i] = Math.round(capped);\n\t}\n\n\t// convert to all the other color spaces\n\tfor (var sname in spaces) {\n\t\tif (sname !== space) {\n\t\t\tvalues[sname] = colorConvert[space][sname](values[space]);\n\t\t}\n\t}\n\n\treturn true;\n};\n\nColor.prototype.setSpace = function (space, args) {\n\tvar vals = args[0];\n\n\tif (vals === undefined) {\n\t\t// color.rgb()\n\t\treturn this.getValues(space);\n\t}\n\n\t// color.rgb(10, 10, 10)\n\tif (typeof vals === 'number') {\n\t\tvals = Array.prototype.slice.call(args);\n\t}\n\n\tthis.setValues(space, vals);\n\treturn this;\n};\n\nColor.prototype.setChannel = function (space, index, val) {\n\tvar svalues = this.values[space];\n\tif (val === undefined) {\n\t\t// color.red()\n\t\treturn svalues[index];\n\t} else if (val === svalues[index]) {\n\t\t// color.red(color.red())\n\t\treturn this;\n\t}\n\n\t// color.red(100)\n\tsvalues[index] = val;\n\tthis.setValues(space, svalues);\n\n\treturn this;\n};\n\nif (typeof window !== 'undefined') {\n\twindow.Color = Color;\n}\n\nvar chartjsColor = Color;\n\nfunction isValidKey(key) {\r\n\treturn ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\r\n}\r\n\r\n/**\r\n * @namespace Chart.helpers\r\n */\r\nvar helpers = {\r\n\t/**\r\n\t * An empty function that can be used, for example, for optional callback.\r\n\t */\r\n\tnoop: function() {},\r\n\r\n\t/**\r\n\t * Returns a unique id, sequentially generated from a global variable.\r\n\t * @returns {number}\r\n\t * @function\r\n\t */\r\n\tuid: (function() {\r\n\t\tvar id = 0;\r\n\t\treturn function() {\r\n\t\t\treturn id++;\r\n\t\t};\r\n\t}()),\r\n\r\n\t/**\r\n\t * Returns true if `value` is neither null nor undefined, else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @since 2.7.0\r\n\t */\r\n\tisNullOrUndef: function(value) {\r\n\t\treturn value === null || typeof value === 'undefined';\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is an array (including typed arrays), else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @function\r\n\t */\r\n\tisArray: function(value) {\r\n\t\tif (Array.isArray && Array.isArray(value)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tvar type = Object.prototype.toString.call(value);\r\n\t\tif (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is an object (excluding null), else returns false.\r\n\t * @param {*} value - The value to test.\r\n\t * @returns {boolean}\r\n\t * @since 2.7.0\r\n\t */\r\n\tisObject: function(value) {\r\n\t\treturn value !== null && Object.prototype.toString.call(value) === '[object Object]';\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if `value` is a finite number, else returns false\r\n\t * @param {*} value  - The value to test.\r\n\t * @returns {boolean}\r\n\t */\r\n\tisFinite: function(value) {\r\n\t\treturn (typeof value === 'number' || value instanceof Number) && isFinite(value);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns `value` if defined, else returns `defaultValue`.\r\n\t * @param {*} value - The value to return if defined.\r\n\t * @param {*} defaultValue - The value to return if `value` is undefined.\r\n\t * @returns {*}\r\n\t */\r\n\tvalueOrDefault: function(value, defaultValue) {\r\n\t\treturn typeof value === 'undefined' ? defaultValue : value;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns value at the given `index` in array if defined, else returns `defaultValue`.\r\n\t * @param {Array} value - The array to lookup for value at `index`.\r\n\t * @param {number} index - The index in `value` to lookup for value.\r\n\t * @param {*} defaultValue - The value to return if `value[index]` is undefined.\r\n\t * @returns {*}\r\n\t */\r\n\tvalueAtIndexOrDefault: function(value, index, defaultValue) {\r\n\t\treturn helpers.valueOrDefault(helpers.isArray(value) ? value[index] : value, defaultValue);\r\n\t},\r\n\r\n\t/**\r\n\t * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\r\n\t * value returned by `fn`. If `fn` is not a function, this method returns undefined.\r\n\t * @param {function} fn - The function to call.\r\n\t * @param {Array|undefined|null} args - The arguments with which `fn` should be called.\r\n\t * @param {object} [thisArg] - The value of `this` provided for the call to `fn`.\r\n\t * @returns {*}\r\n\t */\r\n\tcallback: function(fn, args, thisArg) {\r\n\t\tif (fn && typeof fn.call === 'function') {\r\n\t\t\treturn fn.apply(thisArg, args);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Note(SB) for performance sake, this method should only be used when loopable type\r\n\t * is unknown or in none intensive code (not called often and small loopable). Else\r\n\t * it's preferable to use a regular for() loop and save extra function calls.\r\n\t * @param {object|Array} loopable - The object or array to be iterated.\r\n\t * @param {function} fn - The function to call for each item.\r\n\t * @param {object} [thisArg] - The value of `this` provided for the call to `fn`.\r\n\t * @param {boolean} [reverse] - If true, iterates backward on the loopable.\r\n\t */\r\n\teach: function(loopable, fn, thisArg, reverse) {\r\n\t\tvar i, len, keys;\r\n\t\tif (helpers.isArray(loopable)) {\r\n\t\t\tlen = loopable.length;\r\n\t\t\tif (reverse) {\r\n\t\t\t\tfor (i = len - 1; i >= 0; i--) {\r\n\t\t\t\t\tfn.call(thisArg, loopable[i], i);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (i = 0; i < len; i++) {\r\n\t\t\t\t\tfn.call(thisArg, loopable[i], i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (helpers.isObject(loopable)) {\r\n\t\t\tkeys = Object.keys(loopable);\r\n\t\t\tlen = keys.length;\r\n\t\t\tfor (i = 0; i < len; i++) {\r\n\t\t\t\tfn.call(thisArg, loopable[keys[i]], keys[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\r\n\t * @see https://stackoverflow.com/a/14853974\r\n\t * @param {Array} a0 - The array to compare\r\n\t * @param {Array} a1 - The array to compare\r\n\t * @returns {boolean}\r\n\t */\r\n\tarrayEquals: function(a0, a1) {\r\n\t\tvar i, ilen, v0, v1;\r\n\r\n\t\tif (!a0 || !a1 || a0.length !== a1.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = a0.length; i < ilen; ++i) {\r\n\t\t\tv0 = a0[i];\r\n\t\t\tv1 = a1[i];\r\n\r\n\t\t\tif (v0 instanceof Array && v1 instanceof Array) {\r\n\t\t\t\tif (!helpers.arrayEquals(v0, v1)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} else if (v0 !== v1) {\r\n\t\t\t\t// NOTE: two different object instances will never be equal: {x:20} != {x:20}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a deep copy of `source` without keeping references on objects and arrays.\r\n\t * @param {*} source - The value to clone.\r\n\t * @returns {*}\r\n\t */\r\n\tclone: function(source) {\r\n\t\tif (helpers.isArray(source)) {\r\n\t\t\treturn source.map(helpers.clone);\r\n\t\t}\r\n\r\n\t\tif (helpers.isObject(source)) {\r\n\t\t\tvar target = Object.create(source);\r\n\t\t\tvar keys = Object.keys(source);\r\n\t\t\tvar klen = keys.length;\r\n\t\t\tvar k = 0;\r\n\r\n\t\t\tfor (; k < klen; ++k) {\r\n\t\t\t\ttarget[keys[k]] = helpers.clone(source[keys[k]]);\r\n\t\t\t}\r\n\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\treturn source;\r\n\t},\r\n\r\n\t/**\r\n\t * The default merger when Chart.helpers.merge is called without merger option.\r\n\t * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\r\n\t * @private\r\n\t */\r\n\t_merger: function(key, target, source, options) {\r\n\t\tif (!isValidKey(key)) {\r\n\t\t\t// We want to ensure we do not copy prototypes over\r\n\t\t\t// as this can pollute global namespaces\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tval = target[key];\r\n\t\tvar sval = source[key];\r\n\r\n\t\tif (helpers.isObject(tval) && helpers.isObject(sval)) {\r\n\t\t\thelpers.merge(tval, sval, options);\r\n\t\t} else {\r\n\t\t\ttarget[key] = helpers.clone(sval);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Merges source[key] in target[key] only if target[key] is undefined.\r\n\t * @private\r\n\t */\r\n\t_mergerIf: function(key, target, source) {\r\n\t\tif (!isValidKey(key)) {\r\n\t\t\t// We want to ensure we do not copy prototypes over\r\n\t\t\t// as this can pollute global namespaces\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tval = target[key];\r\n\t\tvar sval = source[key];\r\n\r\n\t\tif (helpers.isObject(tval) && helpers.isObject(sval)) {\r\n\t\t\thelpers.mergeIf(tval, sval);\r\n\t\t} else if (!target.hasOwnProperty(key)) {\r\n\t\t\ttarget[key] = helpers.clone(sval);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Recursively deep copies `source` properties into `target` with the given `options`.\r\n\t * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\r\n\t * @param {object} target - The target object in which all sources are merged into.\r\n\t * @param {object|object[]} source - Object(s) to merge into `target`.\r\n\t * @param {object} [options] - Merging options:\r\n\t * @param {function} [options.merger] - The merge method (key, target, source, options)\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\tmerge: function(target, source, options) {\r\n\t\tvar sources = helpers.isArray(source) ? source : [source];\r\n\t\tvar ilen = sources.length;\r\n\t\tvar merge, i, keys, klen, k;\r\n\r\n\t\tif (!helpers.isObject(target)) {\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\toptions = options || {};\r\n\t\tmerge = options.merger || helpers._merger;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tsource = sources[i];\r\n\t\t\tif (!helpers.isObject(source)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tkeys = Object.keys(source);\r\n\t\t\tfor (k = 0, klen = keys.length; k < klen; ++k) {\r\n\t\t\t\tmerge(keys[k], target, source, options);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\t},\r\n\r\n\t/**\r\n\t * Recursively deep copies `source` properties into `target` *only* if not defined in target.\r\n\t * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\r\n\t * @param {object} target - The target object in which all sources are merged into.\r\n\t * @param {object|object[]} source - Object(s) to merge into `target`.\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\tmergeIf: function(target, source) {\r\n\t\treturn helpers.merge(target, source, {merger: helpers._mergerIf});\r\n\t},\r\n\r\n\t/**\r\n\t * Applies the contents of two or more objects together into the first object.\r\n\t * @param {object} target - The target object in which all objects are merged into.\r\n\t * @param {object} arg1 - Object containing additional properties to merge in target.\r\n\t * @param {object} argN - Additional objects containing properties to merge in target.\r\n\t * @returns {object} The `target` object.\r\n\t */\r\n\textend: Object.assign || function(target) {\r\n\t\treturn helpers.merge(target, [].slice.call(arguments, 1), {\r\n\t\t\tmerger: function(key, dst, src) {\r\n\t\t\t\tdst[key] = src[key];\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * Basic javascript inheritance based on the model created in Backbone.js\r\n\t */\r\n\tinherits: function(extensions) {\r\n\t\tvar me = this;\r\n\t\tvar ChartElement = (extensions && extensions.hasOwnProperty('constructor')) ? extensions.constructor : function() {\r\n\t\t\treturn me.apply(this, arguments);\r\n\t\t};\r\n\r\n\t\tvar Surrogate = function() {\r\n\t\t\tthis.constructor = ChartElement;\r\n\t\t};\r\n\r\n\t\tSurrogate.prototype = me.prototype;\r\n\t\tChartElement.prototype = new Surrogate();\r\n\t\tChartElement.extend = helpers.inherits;\r\n\r\n\t\tif (extensions) {\r\n\t\t\thelpers.extend(ChartElement.prototype, extensions);\r\n\t\t}\r\n\r\n\t\tChartElement.__super__ = me.prototype;\r\n\t\treturn ChartElement;\r\n\t},\r\n\r\n\t_deprecated: function(scope, value, previous, current) {\r\n\t\tif (value !== undefined) {\r\n\t\t\tconsole.warn(scope + ': \"' + previous +\r\n\t\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar helpers_core = helpers;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.callback instead.\r\n * @function Chart.helpers.callCallback\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.callCallback = helpers.callback;\r\n\r\n/**\r\n * Provided for backward compatibility, use Array.prototype.indexOf instead.\r\n * Array.prototype.indexOf compatibility: Chrome, Opera, Safari, FF1.5+, IE9+\r\n * @function Chart.helpers.indexOf\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.indexOf = function(array, item, fromIndex) {\r\n\treturn Array.prototype.indexOf.call(array, item, fromIndex);\r\n};\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.valueOrDefault instead.\r\n * @function Chart.helpers.getValueOrDefault\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.getValueOrDefault = helpers.valueOrDefault;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.valueAtIndexOrDefault instead.\r\n * @function Chart.helpers.getValueAtIndexOrDefault\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers.getValueAtIndexOrDefault = helpers.valueAtIndexOrDefault;\n\n/**\r\n * Easing functions adapted from Robert Penner's easing equations.\r\n * @namespace Chart.helpers.easingEffects\r\n * @see http://www.robertpenner.com/easing/\r\n */\r\nvar effects = {\r\n\tlinear: function(t) {\r\n\t\treturn t;\r\n\t},\r\n\r\n\teaseInQuad: function(t) {\r\n\t\treturn t * t;\r\n\t},\r\n\r\n\teaseOutQuad: function(t) {\r\n\t\treturn -t * (t - 2);\r\n\t},\r\n\r\n\teaseInOutQuad: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t;\r\n\t\t}\r\n\t\treturn -0.5 * ((--t) * (t - 2) - 1);\r\n\t},\r\n\r\n\teaseInCubic: function(t) {\r\n\t\treturn t * t * t;\r\n\t},\r\n\r\n\teaseOutCubic: function(t) {\r\n\t\treturn (t = t - 1) * t * t + 1;\r\n\t},\r\n\r\n\teaseInOutCubic: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t;\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * t + 2);\r\n\t},\r\n\r\n\teaseInQuart: function(t) {\r\n\t\treturn t * t * t * t;\r\n\t},\r\n\r\n\teaseOutQuart: function(t) {\r\n\t\treturn -((t = t - 1) * t * t * t - 1);\r\n\t},\r\n\r\n\teaseInOutQuart: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t * t;\r\n\t\t}\r\n\t\treturn -0.5 * ((t -= 2) * t * t * t - 2);\r\n\t},\r\n\r\n\teaseInQuint: function(t) {\r\n\t\treturn t * t * t * t * t;\r\n\t},\r\n\r\n\teaseOutQuint: function(t) {\r\n\t\treturn (t = t - 1) * t * t * t * t + 1;\r\n\t},\r\n\r\n\teaseInOutQuint: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * t * t * t * t * t;\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n\t},\r\n\r\n\teaseInSine: function(t) {\r\n\t\treturn -Math.cos(t * (Math.PI / 2)) + 1;\r\n\t},\r\n\r\n\teaseOutSine: function(t) {\r\n\t\treturn Math.sin(t * (Math.PI / 2));\r\n\t},\r\n\r\n\teaseInOutSine: function(t) {\r\n\t\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\r\n\t},\r\n\r\n\teaseInExpo: function(t) {\r\n\t\treturn (t === 0) ? 0 : Math.pow(2, 10 * (t - 1));\r\n\t},\r\n\r\n\teaseOutExpo: function(t) {\r\n\t\treturn (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1;\r\n\t},\r\n\r\n\teaseInOutExpo: function(t) {\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * Math.pow(2, 10 * (t - 1));\r\n\t\t}\r\n\t\treturn 0.5 * (-Math.pow(2, -10 * --t) + 2);\r\n\t},\r\n\r\n\teaseInCirc: function(t) {\r\n\t\tif (t >= 1) {\r\n\t\t\treturn t;\r\n\t\t}\r\n\t\treturn -(Math.sqrt(1 - t * t) - 1);\r\n\t},\r\n\r\n\teaseOutCirc: function(t) {\r\n\t\treturn Math.sqrt(1 - (t = t - 1) * t);\r\n\t},\r\n\r\n\teaseInOutCirc: function(t) {\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn -0.5 * (Math.sqrt(1 - t * t) - 1);\r\n\t\t}\r\n\t\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\r\n\t},\r\n\r\n\teaseInElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.3;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\treturn -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p));\r\n\t},\r\n\r\n\teaseOutElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (t === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.3;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t - s) * (2 * Math.PI) / p) + 1;\r\n\t},\r\n\r\n\teaseInOutElastic: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tvar p = 0;\r\n\t\tvar a = 1;\r\n\t\tif (t === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif ((t /= 0.5) === 2) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (!p) {\r\n\t\t\tp = 0.45;\r\n\t\t}\r\n\t\tif (a < 1) {\r\n\t\t\ta = 1;\r\n\t\t\ts = p / 4;\r\n\t\t} else {\r\n\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\r\n\t\t}\r\n\t\tif (t < 1) {\r\n\t\t\treturn -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p));\r\n\t\t}\r\n\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - s) * (2 * Math.PI) / p) * 0.5 + 1;\r\n\t},\r\n\teaseInBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\treturn t * t * ((s + 1) * t - s);\r\n\t},\r\n\r\n\teaseOutBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\treturn (t = t - 1) * t * ((s + 1) * t + s) + 1;\r\n\t},\r\n\r\n\teaseInOutBack: function(t) {\r\n\t\tvar s = 1.70158;\r\n\t\tif ((t /= 0.5) < 1) {\r\n\t\t\treturn 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\r\n\t\t}\r\n\t\treturn 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\r\n\t},\r\n\r\n\teaseInBounce: function(t) {\r\n\t\treturn 1 - effects.easeOutBounce(1 - t);\r\n\t},\r\n\r\n\teaseOutBounce: function(t) {\r\n\t\tif (t < (1 / 2.75)) {\r\n\t\t\treturn 7.5625 * t * t;\r\n\t\t}\r\n\t\tif (t < (2 / 2.75)) {\r\n\t\t\treturn 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n\t\t}\r\n\t\tif (t < (2.5 / 2.75)) {\r\n\t\t\treturn 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n\t\t}\r\n\t\treturn 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n\t},\r\n\r\n\teaseInOutBounce: function(t) {\r\n\t\tif (t < 0.5) {\r\n\t\t\treturn effects.easeInBounce(t * 2) * 0.5;\r\n\t\t}\r\n\t\treturn effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5;\r\n\t}\r\n};\r\n\r\nvar helpers_easing = {\r\n\teffects: effects\r\n};\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.easing.effects instead.\r\n * @function Chart.helpers.easingEffects\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.easingEffects = effects;\n\nvar PI = Math.PI;\r\nvar RAD_PER_DEG = PI / 180;\r\nvar DOUBLE_PI = PI * 2;\r\nvar HALF_PI = PI / 2;\r\nvar QUARTER_PI = PI / 4;\r\nvar TWO_THIRDS_PI = PI * 2 / 3;\r\n\r\n/**\r\n * @namespace Chart.helpers.canvas\r\n */\r\nvar exports$1 = {\r\n\t/**\r\n\t * Clears the entire canvas associated to the given `chart`.\r\n\t * @param {Chart} chart - The chart for which to clear the canvas.\r\n\t */\r\n\tclear: function(chart) {\r\n\t\tchart.ctx.clearRect(0, 0, chart.width, chart.height);\r\n\t},\r\n\r\n\t/**\r\n\t * Creates a \"path\" for a rectangle with rounded corners at position (x, y) with a\r\n\t * given size (width, height) and the same `radius` for all corners.\r\n\t * @param {CanvasRenderingContext2D} ctx - The canvas 2D Context.\r\n\t * @param {number} x - The x axis of the coordinate for the rectangle starting point.\r\n\t * @param {number} y - The y axis of the coordinate for the rectangle starting point.\r\n\t * @param {number} width - The rectangle's width.\r\n\t * @param {number} height - The rectangle's height.\r\n\t * @param {number} radius - The rounded amount (in pixels) for the four corners.\r\n\t * @todo handle `radius` as top-left, top-right, bottom-right, bottom-left array/object?\r\n\t */\r\n\troundedRect: function(ctx, x, y, width, height, radius) {\r\n\t\tif (radius) {\r\n\t\t\tvar r = Math.min(radius, height / 2, width / 2);\r\n\t\t\tvar left = x + r;\r\n\t\t\tvar top = y + r;\r\n\t\t\tvar right = x + width - r;\r\n\t\t\tvar bottom = y + height - r;\r\n\r\n\t\t\tctx.moveTo(x, top);\r\n\t\t\tif (left < right && top < bottom) {\r\n\t\t\t\tctx.arc(left, top, r, -PI, -HALF_PI);\r\n\t\t\t\tctx.arc(right, top, r, -HALF_PI, 0);\r\n\t\t\t\tctx.arc(right, bottom, r, 0, HALF_PI);\r\n\t\t\t\tctx.arc(left, bottom, r, HALF_PI, PI);\r\n\t\t\t} else if (left < right) {\r\n\t\t\t\tctx.moveTo(left, y);\r\n\t\t\t\tctx.arc(right, top, r, -HALF_PI, HALF_PI);\r\n\t\t\t\tctx.arc(left, top, r, HALF_PI, PI + HALF_PI);\r\n\t\t\t} else if (top < bottom) {\r\n\t\t\t\tctx.arc(left, top, r, -PI, 0);\r\n\t\t\t\tctx.arc(left, bottom, r, 0, PI);\r\n\t\t\t} else {\r\n\t\t\t\tctx.arc(left, top, r, -PI, PI);\r\n\t\t\t}\r\n\t\t\tctx.closePath();\r\n\t\t\tctx.moveTo(x, y);\r\n\t\t} else {\r\n\t\t\tctx.rect(x, y, width, height);\r\n\t\t}\r\n\t},\r\n\r\n\tdrawPoint: function(ctx, style, radius, x, y, rotation) {\r\n\t\tvar type, xOffset, yOffset, size, cornerRadius;\r\n\t\tvar rad = (rotation || 0) * RAD_PER_DEG;\r\n\r\n\t\tif (style && typeof style === 'object') {\r\n\t\t\ttype = style.toString();\r\n\t\t\tif (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.translate(x, y);\r\n\t\t\t\tctx.rotate(rad);\r\n\t\t\t\tctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\r\n\t\t\t\tctx.restore();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isNaN(radius) || radius <= 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.beginPath();\r\n\r\n\t\tswitch (style) {\r\n\t\t// Default includes circle\r\n\t\tdefault:\r\n\t\t\tctx.arc(x, y, radius, 0, DOUBLE_PI);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'triangle':\r\n\t\t\tctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\trad += TWO_THIRDS_PI;\r\n\t\t\tctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\trad += TWO_THIRDS_PI;\r\n\t\t\tctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'rectRounded':\r\n\t\t\t// NOTE: the rounded rect implementation changed to use `arc` instead of\r\n\t\t\t// `quadraticCurveTo` since it generates better results when rect is\r\n\t\t\t// almost a circle. 0.516 (instead of 0.5) produces results with visually\r\n\t\t\t// closer proportion to the previous impl and it is inscribed in the\r\n\t\t\t// circle with `radius`. For more details, see the following PRs:\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5597\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5858\r\n\t\t\tcornerRadius = radius * 0.516;\r\n\t\t\tsize = radius - cornerRadius;\r\n\t\t\txOffset = Math.cos(rad + QUARTER_PI) * size;\r\n\t\t\tyOffset = Math.sin(rad + QUARTER_PI) * size;\r\n\t\t\tctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\r\n\t\t\tctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\r\n\t\t\tctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\r\n\t\t\tctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'rect':\r\n\t\t\tif (!rotation) {\r\n\t\t\t\tsize = Math.SQRT1_2 * radius;\r\n\t\t\t\tctx.rect(x - size, y - size, 2 * size, 2 * size);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\t/* falls through */\r\n\t\tcase 'rectRot':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tctx.closePath();\r\n\t\t\tbreak;\r\n\t\tcase 'crossRot':\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\t/* falls through */\r\n\t\tcase 'cross':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'star':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\trad += QUARTER_PI;\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tctx.moveTo(x + yOffset, y - xOffset);\r\n\t\t\tctx.lineTo(x - yOffset, y + xOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'line':\r\n\t\t\txOffset = Math.cos(rad) * radius;\r\n\t\t\tyOffset = Math.sin(rad) * radius;\r\n\t\t\tctx.moveTo(x - xOffset, y - yOffset);\r\n\t\t\tctx.lineTo(x + xOffset, y + yOffset);\r\n\t\t\tbreak;\r\n\t\tcase 'dash':\r\n\t\t\tctx.moveTo(x, y);\r\n\t\t\tctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tctx.fill();\r\n\t\tctx.stroke();\r\n\t},\r\n\r\n\t/**\r\n\t * Returns true if the point is inside the rectangle\r\n\t * @param {object} point - The point to test\r\n\t * @param {object} area - The rectangle\r\n\t * @returns {boolean}\r\n\t * @private\r\n\t */\r\n\t_isPointInArea: function(point, area) {\r\n\t\tvar epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\r\n\r\n\t\treturn point.x > area.left - epsilon && point.x < area.right + epsilon &&\r\n\t\t\tpoint.y > area.top - epsilon && point.y < area.bottom + epsilon;\r\n\t},\r\n\r\n\tclipArea: function(ctx, area) {\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\r\n\t\tctx.clip();\r\n\t},\r\n\r\n\tunclipArea: function(ctx) {\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\tlineTo: function(ctx, previous, target, flip) {\r\n\t\tvar stepped = target.steppedLine;\r\n\t\tif (stepped) {\r\n\t\t\tif (stepped === 'middle') {\r\n\t\t\t\tvar midpoint = (previous.x + target.x) / 2.0;\r\n\t\t\t\tctx.lineTo(midpoint, flip ? target.y : previous.y);\r\n\t\t\t\tctx.lineTo(midpoint, flip ? previous.y : target.y);\r\n\t\t\t} else if ((stepped === 'after' && !flip) || (stepped !== 'after' && flip)) {\r\n\t\t\t\tctx.lineTo(previous.x, target.y);\r\n\t\t\t} else {\r\n\t\t\t\tctx.lineTo(target.x, previous.y);\r\n\t\t\t}\r\n\t\t\tctx.lineTo(target.x, target.y);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!target.tension) {\r\n\t\t\tctx.lineTo(target.x, target.y);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.bezierCurveTo(\r\n\t\t\tflip ? previous.controlPointPreviousX : previous.controlPointNextX,\r\n\t\t\tflip ? previous.controlPointPreviousY : previous.controlPointNextY,\r\n\t\t\tflip ? target.controlPointNextX : target.controlPointPreviousX,\r\n\t\t\tflip ? target.controlPointNextY : target.controlPointPreviousY,\r\n\t\t\ttarget.x,\r\n\t\t\ttarget.y);\r\n\t}\r\n};\r\n\r\nvar helpers_canvas = exports$1;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas.clear instead.\r\n * @namespace Chart.helpers.clear\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.clear = exports$1.clear;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas.roundedRect instead.\r\n * @namespace Chart.helpers.drawRoundedRectangle\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.drawRoundedRectangle = function(ctx) {\r\n\tctx.beginPath();\r\n\texports$1.roundedRect.apply(exports$1, arguments);\r\n};\n\nvar defaults = {\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_set: function(scope, values) {\r\n\t\treturn helpers_core.merge(this[scope] || (this[scope] = {}), values);\r\n\t}\r\n};\r\n\r\n// TODO(v3): remove 'global' from namespace.  all default are global and\r\n// there's inconsistency around which options are under 'global'\r\ndefaults._set('global', {\r\n\tdefaultColor: 'rgba(0,0,0,0.1)',\r\n\tdefaultFontColor: '#666',\r\n\tdefaultFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\r\n\tdefaultFontSize: 12,\r\n\tdefaultFontStyle: 'normal',\r\n\tdefaultLineHeight: 1.2,\r\n\tshowLines: true\r\n});\r\n\r\nvar core_defaults = defaults;\n\nvar valueOrDefault = helpers_core.valueOrDefault;\r\n\r\n/**\r\n * Converts the given font object into a CSS font string.\r\n * @param {object} font - A font object.\r\n * @return {string} The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\r\n * @private\r\n */\r\nfunction toFontString(font) {\r\n\tif (!font || helpers_core.isNullOrUndef(font.size) || helpers_core.isNullOrUndef(font.family)) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (font.style ? font.style + ' ' : '')\r\n\t\t+ (font.weight ? font.weight + ' ' : '')\r\n\t\t+ font.size + 'px '\r\n\t\t+ font.family;\r\n}\r\n\r\n/**\r\n * @alias Chart.helpers.options\r\n * @namespace\r\n */\r\nvar helpers_options = {\r\n\t/**\r\n\t * Converts the given line height `value` in pixels for a specific font `size`.\r\n\t * @param {number|string} value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\r\n\t * @param {number} size - The font size (in pixels) used to resolve relative `value`.\r\n\t * @returns {number} The effective line height in pixels (size * 1.2 if value is invalid).\r\n\t * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\r\n\t * @since 2.7.0\r\n\t */\r\n\ttoLineHeight: function(value, size) {\r\n\t\tvar matches = ('' + value).match(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\r\n\t\tif (!matches || matches[1] === 'normal') {\r\n\t\t\treturn size * 1.2;\r\n\t\t}\r\n\r\n\t\tvalue = +matches[2];\r\n\r\n\t\tswitch (matches[3]) {\r\n\t\tcase 'px':\r\n\t\t\treturn value;\r\n\t\tcase '%':\r\n\t\t\tvalue /= 100;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn size * value;\r\n\t},\r\n\r\n\t/**\r\n\t * Converts the given value into a padding object with pre-computed width/height.\r\n\t * @param {number|object} value - If a number, set the value to all TRBL component,\r\n\t *  else, if and object, use defined properties and sets undefined ones to 0.\r\n\t * @returns {object} The padding values (top, right, bottom, left, width, height)\r\n\t * @since 2.7.0\r\n\t */\r\n\ttoPadding: function(value) {\r\n\t\tvar t, r, b, l;\r\n\r\n\t\tif (helpers_core.isObject(value)) {\r\n\t\t\tt = +value.top || 0;\r\n\t\t\tr = +value.right || 0;\r\n\t\t\tb = +value.bottom || 0;\r\n\t\t\tl = +value.left || 0;\r\n\t\t} else {\r\n\t\t\tt = r = b = l = +value || 0;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttop: t,\r\n\t\t\tright: r,\r\n\t\t\tbottom: b,\r\n\t\t\tleft: l,\r\n\t\t\theight: t + b,\r\n\t\t\twidth: l + r\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Parses font options and returns the font object.\r\n\t * @param {object} options - A object that contains font options to be parsed.\r\n\t * @return {object} The font object.\r\n\t * @todo Support font.* options and renamed to toFont().\r\n\t * @private\r\n\t */\r\n\t_parseFont: function(options) {\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar size = valueOrDefault(options.fontSize, globalDefaults.defaultFontSize);\r\n\t\tvar font = {\r\n\t\t\tfamily: valueOrDefault(options.fontFamily, globalDefaults.defaultFontFamily),\r\n\t\t\tlineHeight: helpers_core.options.toLineHeight(valueOrDefault(options.lineHeight, globalDefaults.defaultLineHeight), size),\r\n\t\t\tsize: size,\r\n\t\t\tstyle: valueOrDefault(options.fontStyle, globalDefaults.defaultFontStyle),\r\n\t\t\tweight: null,\r\n\t\t\tstring: ''\r\n\t\t};\r\n\r\n\t\tfont.string = toFontString(font);\r\n\t\treturn font;\r\n\t},\r\n\r\n\t/**\r\n\t * Evaluates the given `inputs` sequentially and returns the first defined value.\r\n\t * @param {Array} inputs - An array of values, falling back to the last value.\r\n\t * @param {object} [context] - If defined and the current value is a function, the value\r\n\t * is called with `context` as first argument and the result becomes the new input.\r\n\t * @param {number} [index] - If defined and the current value is an array, the value\r\n\t * at `index` become the new input.\r\n\t * @param {object} [info] - object to return information about resolution in\r\n\t * @param {boolean} [info.cacheable] - Will be set to `false` if option is not cacheable.\r\n\t * @since 2.7.0\r\n\t */\r\n\tresolve: function(inputs, context, index, info) {\r\n\t\tvar cacheable = true;\r\n\t\tvar i, ilen, value;\r\n\r\n\t\tfor (i = 0, ilen = inputs.length; i < ilen; ++i) {\r\n\t\t\tvalue = inputs[i];\r\n\t\t\tif (value === undefined) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (context !== undefined && typeof value === 'function') {\r\n\t\t\t\tvalue = value(context);\r\n\t\t\t\tcacheable = false;\r\n\t\t\t}\r\n\t\t\tif (index !== undefined && helpers_core.isArray(value)) {\r\n\t\t\t\tvalue = value[index];\r\n\t\t\t\tcacheable = false;\r\n\t\t\t}\r\n\t\t\tif (value !== undefined) {\r\n\t\t\t\tif (info && !cacheable) {\r\n\t\t\t\t\tinfo.cacheable = false;\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\n/**\r\n * @alias Chart.helpers.math\r\n * @namespace\r\n */\r\nvar exports$2 = {\r\n\t/**\r\n\t * Returns an array of factors sorted from 1 to sqrt(value)\r\n\t * @private\r\n\t */\r\n\t_factorize: function(value) {\r\n\t\tvar result = [];\r\n\t\tvar sqrt = Math.sqrt(value);\r\n\t\tvar i;\r\n\r\n\t\tfor (i = 1; i < sqrt; i++) {\r\n\t\t\tif (value % i === 0) {\r\n\t\t\t\tresult.push(i);\r\n\t\t\t\tresult.push(value / i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (sqrt === (sqrt | 0)) { // if value is a square number\r\n\t\t\tresult.push(sqrt);\r\n\t\t}\r\n\r\n\t\tresult.sort(function(a, b) {\r\n\t\t\treturn a - b;\r\n\t\t}).pop();\r\n\t\treturn result;\r\n\t},\r\n\r\n\tlog10: Math.log10 || function(x) {\r\n\t\tvar exponent = Math.log(x) * Math.LOG10E; // Math.LOG10E = 1 / Math.LN10.\r\n\t\t// Check for whole powers of 10,\r\n\t\t// which due to floating point rounding error should be corrected.\r\n\t\tvar powerOf10 = Math.round(exponent);\r\n\t\tvar isPowerOf10 = x === Math.pow(10, powerOf10);\r\n\r\n\t\treturn isPowerOf10 ? powerOf10 : exponent;\r\n\t}\r\n};\r\n\r\nvar helpers_math = exports$2;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.math.log10 instead.\r\n * @namespace Chart.helpers.log10\r\n * @deprecated since version 2.9.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers_core.log10 = exports$2.log10;\n\nvar getRtlAdapter = function(rectX, width) {\r\n\treturn {\r\n\t\tx: function(x) {\r\n\t\t\treturn rectX + rectX + width - x;\r\n\t\t},\r\n\t\tsetWidth: function(w) {\r\n\t\t\twidth = w;\r\n\t\t},\r\n\t\ttextAlign: function(align) {\r\n\t\t\tif (align === 'center') {\r\n\t\t\t\treturn align;\r\n\t\t\t}\r\n\t\t\treturn align === 'right' ? 'left' : 'right';\r\n\t\t},\r\n\t\txPlus: function(x, value) {\r\n\t\t\treturn x - value;\r\n\t\t},\r\n\t\tleftForLtr: function(x, itemWidth) {\r\n\t\t\treturn x - itemWidth;\r\n\t\t},\r\n\t};\r\n};\r\n\r\nvar getLtrAdapter = function() {\r\n\treturn {\r\n\t\tx: function(x) {\r\n\t\t\treturn x;\r\n\t\t},\r\n\t\tsetWidth: function(w) { // eslint-disable-line no-unused-vars\r\n\t\t},\r\n\t\ttextAlign: function(align) {\r\n\t\t\treturn align;\r\n\t\t},\r\n\t\txPlus: function(x, value) {\r\n\t\t\treturn x + value;\r\n\t\t},\r\n\t\tleftForLtr: function(x, _itemWidth) { // eslint-disable-line no-unused-vars\r\n\t\t\treturn x;\r\n\t\t},\r\n\t};\r\n};\r\n\r\nvar getAdapter = function(rtl, rectX, width) {\r\n\treturn rtl ? getRtlAdapter(rectX, width) : getLtrAdapter();\r\n};\r\n\r\nvar overrideTextDirection = function(ctx, direction) {\r\n\tvar style, original;\r\n\tif (direction === 'ltr' || direction === 'rtl') {\r\n\t\tstyle = ctx.canvas.style;\r\n\t\toriginal = [\r\n\t\t\tstyle.getPropertyValue('direction'),\r\n\t\t\tstyle.getPropertyPriority('direction'),\r\n\t\t];\r\n\r\n\t\tstyle.setProperty('direction', direction, 'important');\r\n\t\tctx.prevTextDirection = original;\r\n\t}\r\n};\r\n\r\nvar restoreTextDirection = function(ctx) {\r\n\tvar original = ctx.prevTextDirection;\r\n\tif (original !== undefined) {\r\n\t\tdelete ctx.prevTextDirection;\r\n\t\tctx.canvas.style.setProperty('direction', original[0], original[1]);\r\n\t}\r\n};\r\n\r\nvar helpers_rtl = {\r\n\tgetRtlAdapter: getAdapter,\r\n\toverrideTextDirection: overrideTextDirection,\r\n\trestoreTextDirection: restoreTextDirection,\r\n};\n\nvar helpers$1 = helpers_core;\r\nvar easing = helpers_easing;\r\nvar canvas = helpers_canvas;\r\nvar options = helpers_options;\r\nvar math = helpers_math;\r\nvar rtl = helpers_rtl;\nhelpers$1.easing = easing;\nhelpers$1.canvas = canvas;\nhelpers$1.options = options;\nhelpers$1.math = math;\nhelpers$1.rtl = rtl;\n\nfunction interpolate(start, view, model, ease) {\r\n\tvar keys = Object.keys(model);\r\n\tvar i, ilen, key, actual, origin, target, type, c0, c1;\r\n\r\n\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\tkey = keys[i];\r\n\r\n\t\ttarget = model[key];\r\n\r\n\t\t// if a value is added to the model after pivot() has been called, the view\r\n\t\t// doesn't contain it, so let's initialize the view to the target value.\r\n\t\tif (!view.hasOwnProperty(key)) {\r\n\t\t\tview[key] = target;\r\n\t\t}\r\n\r\n\t\tactual = view[key];\r\n\r\n\t\tif (actual === target || key[0] === '_') {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (!start.hasOwnProperty(key)) {\r\n\t\t\tstart[key] = actual;\r\n\t\t}\r\n\r\n\t\torigin = start[key];\r\n\r\n\t\ttype = typeof target;\r\n\r\n\t\tif (type === typeof origin) {\r\n\t\t\tif (type === 'string') {\r\n\t\t\t\tc0 = chartjsColor(origin);\r\n\t\t\t\tif (c0.valid) {\r\n\t\t\t\t\tc1 = chartjsColor(target);\r\n\t\t\t\t\tif (c1.valid) {\r\n\t\t\t\t\t\tview[key] = c1.mix(c0, ease).rgbString();\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (helpers$1.isFinite(origin) && helpers$1.isFinite(target)) {\r\n\t\t\t\tview[key] = origin + (target - origin) * ease;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tview[key] = target;\r\n\t}\r\n}\r\n\r\nvar Element = function(configuration) {\r\n\thelpers$1.extend(this, configuration);\r\n\tthis.initialize.apply(this, arguments);\r\n};\r\n\r\nhelpers$1.extend(Element.prototype, {\r\n\t_type: undefined,\r\n\r\n\tinitialize: function() {\r\n\t\tthis.hidden = false;\r\n\t},\r\n\r\n\tpivot: function() {\r\n\t\tvar me = this;\r\n\t\tif (!me._view) {\r\n\t\t\tme._view = helpers$1.extend({}, me._model);\r\n\t\t}\r\n\t\tme._start = {};\r\n\t\treturn me;\r\n\t},\r\n\r\n\ttransition: function(ease) {\r\n\t\tvar me = this;\r\n\t\tvar model = me._model;\r\n\t\tvar start = me._start;\r\n\t\tvar view = me._view;\r\n\r\n\t\t// No animation -> No Transition\r\n\t\tif (!model || ease === 1) {\r\n\t\t\tme._view = helpers$1.extend({}, model);\r\n\t\t\tme._start = null;\r\n\t\t\treturn me;\r\n\t\t}\r\n\r\n\t\tif (!view) {\r\n\t\t\tview = me._view = {};\r\n\t\t}\r\n\r\n\t\tif (!start) {\r\n\t\t\tstart = me._start = {};\r\n\t\t}\r\n\r\n\t\tinterpolate(start, view, model, ease);\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\treturn {\r\n\t\t\tx: this._model.x,\r\n\t\t\ty: this._model.y\r\n\t\t};\r\n\t},\r\n\r\n\thasValue: function() {\r\n\t\treturn helpers$1.isNumber(this._model.x) && helpers$1.isNumber(this._model.y);\r\n\t}\r\n});\r\n\r\nElement.extend = helpers$1.inherits;\r\n\r\nvar core_element = Element;\n\nvar exports$3 = core_element.extend({\r\n\tchart: null, // the animation associated chart instance\r\n\tcurrentStep: 0, // the current animation step\r\n\tnumSteps: 60, // default number of steps\r\n\teasing: '', // the easing to use for this animation\r\n\trender: null, // render function used by the animation service\r\n\r\n\tonAnimationProgress: null, // user specified callback to fire on each step of the animation\r\n\tonAnimationComplete: null, // user specified callback to fire when the animation finishes\r\n});\r\n\r\nvar core_animation = exports$3;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.Animation instead\r\n * @prop Chart.Animation#animationObject\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n */\r\nObject.defineProperty(exports$3.prototype, 'animationObject', {\r\n\tget: function() {\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.Animation#chart instead\r\n * @prop Chart.Animation#chartInstance\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n */\r\nObject.defineProperty(exports$3.prototype, 'chartInstance', {\r\n\tget: function() {\r\n\t\treturn this.chart;\r\n\t},\r\n\tset: function(value) {\r\n\t\tthis.chart = value;\r\n\t}\r\n});\n\ncore_defaults._set('global', {\r\n\tanimation: {\r\n\t\tduration: 1000,\r\n\t\teasing: 'easeOutQuart',\r\n\t\tonProgress: helpers$1.noop,\r\n\t\tonComplete: helpers$1.noop\r\n\t}\r\n});\r\n\r\nvar core_animations = {\r\n\tanimations: [],\r\n\trequest: null,\r\n\r\n\t/**\r\n\t * @param {Chart} chart - The chart to animate.\r\n\t * @param {Chart.Animation} animation - The animation that we will animate.\r\n\t * @param {number} duration - The animation duration in ms.\r\n\t * @param {boolean} lazy - if true, the chart is not marked as animating to enable more responsive interactions\r\n\t */\r\n\taddAnimation: function(chart, animation, duration, lazy) {\r\n\t\tvar animations = this.animations;\r\n\t\tvar i, ilen;\r\n\r\n\t\tanimation.chart = chart;\r\n\t\tanimation.startTime = Date.now();\r\n\t\tanimation.duration = duration;\r\n\r\n\t\tif (!lazy) {\r\n\t\t\tchart.animating = true;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = animations.length; i < ilen; ++i) {\r\n\t\t\tif (animations[i].chart === chart) {\r\n\t\t\t\tanimations[i] = animation;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tanimations.push(animation);\r\n\r\n\t\t// If there are no animations queued, manually kickstart a digest, for lack of a better word\r\n\t\tif (animations.length === 1) {\r\n\t\t\tthis.requestAnimationFrame();\r\n\t\t}\r\n\t},\r\n\r\n\tcancelAnimation: function(chart) {\r\n\t\tvar index = helpers$1.findIndex(this.animations, function(animation) {\r\n\t\t\treturn animation.chart === chart;\r\n\t\t});\r\n\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.animations.splice(index, 1);\r\n\t\t\tchart.animating = false;\r\n\t\t}\r\n\t},\r\n\r\n\trequestAnimationFrame: function() {\r\n\t\tvar me = this;\r\n\t\tif (me.request === null) {\r\n\t\t\t// Skip animation frame requests until the active one is executed.\r\n\t\t\t// This can happen when processing mouse events, e.g. 'mousemove'\r\n\t\t\t// and 'mouseout' events will trigger multiple renders.\r\n\t\t\tme.request = helpers$1.requestAnimFrame.call(window, function() {\r\n\t\t\t\tme.request = null;\r\n\t\t\t\tme.startDigest();\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tstartDigest: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tme.advance();\r\n\r\n\t\t// Do we have more stuff to animate?\r\n\t\tif (me.animations.length > 0) {\r\n\t\t\tme.requestAnimationFrame();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tadvance: function() {\r\n\t\tvar animations = this.animations;\r\n\t\tvar animation, chart, numSteps, nextStep;\r\n\t\tvar i = 0;\r\n\r\n\t\t// 1 animation per chart, so we are looping charts here\r\n\t\twhile (i < animations.length) {\r\n\t\t\tanimation = animations[i];\r\n\t\t\tchart = animation.chart;\r\n\t\t\tnumSteps = animation.numSteps;\r\n\r\n\t\t\t// Make sure that currentStep starts at 1\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/6104\r\n\t\t\tnextStep = Math.floor((Date.now() - animation.startTime) / animation.duration * numSteps) + 1;\r\n\t\t\tanimation.currentStep = Math.min(nextStep, numSteps);\r\n\r\n\t\t\thelpers$1.callback(animation.render, [chart, animation], chart);\r\n\t\t\thelpers$1.callback(animation.onAnimationProgress, [animation], chart);\r\n\r\n\t\t\tif (animation.currentStep >= numSteps) {\r\n\t\t\t\thelpers$1.callback(animation.onAnimationComplete, [animation], chart);\r\n\t\t\t\tchart.animating = false;\r\n\t\t\t\tanimations.splice(i, 1);\r\n\t\t\t} else {\r\n\t\t\t\t++i;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\nvar resolve = helpers$1.options.resolve;\r\n\r\nvar arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\r\n\r\n/**\r\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\r\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\r\n * called on the 'onData*' callbacks (e.g. onDataPush, etc.) with same arguments.\r\n */\r\nfunction listenArrayEvents(array, listener) {\r\n\tif (array._chartjs) {\r\n\t\tarray._chartjs.listeners.push(listener);\r\n\t\treturn;\r\n\t}\r\n\r\n\tObject.defineProperty(array, '_chartjs', {\r\n\t\tconfigurable: true,\r\n\t\tenumerable: false,\r\n\t\tvalue: {\r\n\t\t\tlisteners: [listener]\r\n\t\t}\r\n\t});\r\n\r\n\tarrayEvents.forEach(function(key) {\r\n\t\tvar method = 'onData' + key.charAt(0).toUpperCase() + key.slice(1);\r\n\t\tvar base = array[key];\r\n\r\n\t\tObject.defineProperty(array, key, {\r\n\t\t\tconfigurable: true,\r\n\t\t\tenumerable: false,\r\n\t\t\tvalue: function() {\r\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\t\t\tvar res = base.apply(this, args);\r\n\r\n\t\t\t\thelpers$1.each(array._chartjs.listeners, function(object) {\r\n\t\t\t\t\tif (typeof object[method] === 'function') {\r\n\t\t\t\t\t\tobject[method].apply(object, args);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/**\r\n * Removes the given array event listener and cleanup extra attached properties (such as\r\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\r\n */\r\nfunction unlistenArrayEvents(array, listener) {\r\n\tvar stub = array._chartjs;\r\n\tif (!stub) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar listeners = stub.listeners;\r\n\tvar index = listeners.indexOf(listener);\r\n\tif (index !== -1) {\r\n\t\tlisteners.splice(index, 1);\r\n\t}\r\n\r\n\tif (listeners.length > 0) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tarrayEvents.forEach(function(key) {\r\n\t\tdelete array[key];\r\n\t});\r\n\r\n\tdelete array._chartjs;\r\n}\r\n\r\n// Base class for all dataset controllers (line, bar, etc)\r\nvar DatasetController = function(chart, datasetIndex) {\r\n\tthis.initialize(chart, datasetIndex);\r\n};\r\n\r\nhelpers$1.extend(DatasetController.prototype, {\r\n\r\n\t/**\r\n\t * Element type used to generate a meta dataset (e.g. Chart.element.Line).\r\n\t * @type {Chart.core.element}\r\n\t */\r\n\tdatasetElementType: null,\r\n\r\n\t/**\r\n\t * Element type used to generate a meta data (e.g. Chart.element.Point).\r\n\t * @type {Chart.core.element}\r\n\t */\r\n\tdataElementType: null,\r\n\r\n\t/**\r\n\t * Dataset element option keys to be resolved in _resolveDatasetElementOptions.\r\n\t * A derived controller may override this to resolve controller-specific options.\r\n\t * The keys defined here are for backward compatibility for legend styles.\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderColor',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'borderWidth'\r\n\t],\r\n\r\n\t/**\r\n\t * Data element option keys to be resolved in _resolveDataElementOptions.\r\n\t * A derived controller may override this to resolve controller-specific options.\r\n\t * The keys defined here are for backward compatibility for legend styles.\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'pointStyle'\r\n\t],\r\n\r\n\tinitialize: function(chart, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tme.chart = chart;\r\n\t\tme.index = datasetIndex;\r\n\t\tme.linkScales();\r\n\t\tme.addElements();\r\n\t\tme._type = me.getMeta().type;\r\n\t},\r\n\r\n\tupdateIndex: function(datasetIndex) {\r\n\t\tthis.index = datasetIndex;\r\n\t},\r\n\r\n\tlinkScales: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar chart = me.chart;\r\n\t\tvar scales = chart.scales;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar scalesOpts = chart.options.scales;\r\n\r\n\t\tif (meta.xAxisID === null || !(meta.xAxisID in scales) || dataset.xAxisID) {\r\n\t\t\tmeta.xAxisID = dataset.xAxisID || scalesOpts.xAxes[0].id;\r\n\t\t}\r\n\t\tif (meta.yAxisID === null || !(meta.yAxisID in scales) || dataset.yAxisID) {\r\n\t\t\tmeta.yAxisID = dataset.yAxisID || scalesOpts.yAxes[0].id;\r\n\t\t}\r\n\t},\r\n\r\n\tgetDataset: function() {\r\n\t\treturn this.chart.data.datasets[this.index];\r\n\t},\r\n\r\n\tgetMeta: function() {\r\n\t\treturn this.chart.getDatasetMeta(this.index);\r\n\t},\r\n\r\n\tgetScaleForId: function(scaleID) {\r\n\t\treturn this.chart.scales[scaleID];\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.getMeta().yAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.getMeta().xAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScale: function() {\r\n\t\treturn this.getScaleForId(this._getValueScaleId());\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScale: function() {\r\n\t\treturn this.getScaleForId(this._getIndexScaleId());\r\n\t},\r\n\r\n\treset: function() {\r\n\t\tthis._update(true);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tdestroy: function() {\r\n\t\tif (this._data) {\r\n\t\t\tunlistenArrayEvents(this._data, this);\r\n\t\t}\r\n\t},\r\n\r\n\tcreateMetaDataset: function() {\r\n\t\tvar me = this;\r\n\t\tvar type = me.datasetElementType;\r\n\t\treturn type && new type({\r\n\t\t\t_chart: me.chart,\r\n\t\t\t_datasetIndex: me.index\r\n\t\t});\r\n\t},\r\n\r\n\tcreateMetaData: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar type = me.dataElementType;\r\n\t\treturn type && new type({\r\n\t\t\t_chart: me.chart,\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index\r\n\t\t});\r\n\t},\r\n\r\n\taddElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar data = me.getDataset().data || [];\r\n\t\tvar metaData = meta.data;\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = data.length; i < ilen; ++i) {\r\n\t\t\tmetaData[i] = metaData[i] || me.createMetaData(i);\r\n\t\t}\r\n\r\n\t\tmeta.dataset = meta.dataset || me.createMetaDataset();\r\n\t},\r\n\r\n\taddElementAndReset: function(index) {\r\n\t\tvar element = this.createMetaData(index);\r\n\t\tthis.getMeta().data.splice(index, 0, element);\r\n\t\tthis.updateElement(element, index, true);\r\n\t},\r\n\r\n\tbuildOrUpdateElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar data = dataset.data || (dataset.data = []);\r\n\r\n\t\t// In order to correctly handle data addition/deletion animation (an thus simulate\r\n\t\t// real-time charts), we need to monitor these data modifications and synchronize\r\n\t\t// the internal meta data accordingly.\r\n\t\tif (me._data !== data) {\r\n\t\t\tif (me._data) {\r\n\t\t\t\t// This case happens when the user replaced the data array instance.\r\n\t\t\t\tunlistenArrayEvents(me._data, me);\r\n\t\t\t}\r\n\r\n\t\t\tif (data && Object.isExtensible(data)) {\r\n\t\t\t\tlistenArrayEvents(data, me);\r\n\t\t\t}\r\n\t\t\tme._data = data;\r\n\t\t}\r\n\r\n\t\t// Re-sync meta data in case the user replaced the data array or if we missed\r\n\t\t// any updates and so make sure that we handle number of datapoints changing.\r\n\t\tme.resyncElements();\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the merged user-supplied and default dataset-level options\r\n\t * @private\r\n\t */\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tme._config = helpers$1.merge(Object.create(null), [\r\n\t\t\tme.chart.options.datasets[me._type],\r\n\t\t\tme.getDataset(),\r\n\t\t], {\r\n\t\t\tmerger: function(key, target, source) {\r\n\t\t\t\tif (key !== '_meta' && key !== 'data') {\r\n\t\t\t\t\thelpers$1._merger(key, target, source);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\t_update: function(reset) {\r\n\t\tvar me = this;\r\n\t\tme._configure();\r\n\t\tme._cachedDataOpts = null;\r\n\t\tme.update(reset);\r\n\t},\r\n\r\n\tupdate: helpers$1.noop,\r\n\r\n\ttransition: function(easingValue) {\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar elements = meta.data || [];\r\n\t\tvar ilen = elements.length;\r\n\t\tvar i = 0;\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\telements[i].transition(easingValue);\r\n\t\t}\r\n\r\n\t\tif (meta.dataset) {\r\n\t\t\tmeta.dataset.transition(easingValue);\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar elements = meta.data || [];\r\n\t\tvar ilen = elements.length;\r\n\t\tvar i = 0;\r\n\r\n\t\tif (meta.dataset) {\r\n\t\t\tmeta.dataset.draw();\r\n\t\t}\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\telements[i].draw();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a set of predefined style properties that should be used to represent the dataset\r\n\t * or the data if the index is specified\r\n\t * @param {number} index - data index\r\n\t * @return {IStyleInterface} style object\r\n\t */\r\n\tgetStyle: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar dataset = meta.dataset;\r\n\t\tvar style;\r\n\r\n\t\tme._configure();\r\n\t\tif (dataset && index === undefined) {\r\n\t\t\tstyle = me._resolveDatasetElementOptions(dataset || {});\r\n\t\t} else {\r\n\t\t\tindex = index || 0;\r\n\t\t\tstyle = me._resolveDataElementOptions(meta.data[index] || {}, index);\r\n\t\t}\r\n\r\n\t\tif (style.fill === false || style.fill === null) {\r\n\t\t\tstyle.backgroundColor = style.borderColor;\r\n\t\t}\r\n\r\n\t\treturn style;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function(element, hover) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasetOpts = me._config;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar options = chart.options.elements[me.datasetElementType.prototype._type] || {};\r\n\t\tvar elementOptions = me._datasetElementOptions;\r\n\t\tvar values = {};\r\n\t\tvar i, ilen, key, readKey;\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataset: me.getDataset(),\r\n\t\t\tdatasetIndex: me.index,\r\n\t\t\thover: hover\r\n\t\t};\r\n\r\n\t\tfor (i = 0, ilen = elementOptions.length; i < ilen; ++i) {\r\n\t\t\tkey = elementOptions[i];\r\n\t\t\treadKey = hover ? 'hover' + key.charAt(0).toUpperCase() + key.slice(1) : key;\r\n\t\t\tvalues[key] = resolve([\r\n\t\t\t\tcustom[readKey],\r\n\t\t\t\tdatasetOpts[readKey],\r\n\t\t\t\toptions[readKey]\r\n\t\t\t], context);\r\n\t\t}\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function(element, index) {\r\n\t\tvar me = this;\r\n\t\tvar custom = element && element.custom;\r\n\t\tvar cached = me._cachedDataOpts;\r\n\t\tif (cached && !custom) {\r\n\t\t\treturn cached;\r\n\t\t}\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasetOpts = me._config;\r\n\t\tvar options = chart.options.elements[me.dataElementType.prototype._type] || {};\r\n\t\tvar elementOptions = me._dataElementOptions;\r\n\t\tvar values = {};\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: me.getDataset(),\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\t// `resolve` sets cacheable to `false` if any option is indexed or scripted\r\n\t\tvar info = {cacheable: !custom};\r\n\r\n\t\tvar keys, i, ilen, key;\r\n\r\n\t\tcustom = custom || {};\r\n\r\n\t\tif (helpers$1.isArray(elementOptions)) {\r\n\t\t\tfor (i = 0, ilen = elementOptions.length; i < ilen; ++i) {\r\n\t\t\t\tkey = elementOptions[i];\r\n\t\t\t\tvalues[key] = resolve([\r\n\t\t\t\t\tcustom[key],\r\n\t\t\t\t\tdatasetOpts[key],\r\n\t\t\t\t\toptions[key]\r\n\t\t\t\t], context, index, info);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tkeys = Object.keys(elementOptions);\r\n\t\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\t\t\tkey = keys[i];\r\n\t\t\t\tvalues[key] = resolve([\r\n\t\t\t\t\tcustom[key],\r\n\t\t\t\t\tdatasetOpts[elementOptions[key]],\r\n\t\t\t\t\tdatasetOpts[key],\r\n\t\t\t\t\toptions[key]\r\n\t\t\t\t], context, index, info);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (info.cacheable) {\r\n\t\t\tme._cachedDataOpts = Object.freeze(values);\r\n\t\t}\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tremoveHoverStyle: function(element) {\r\n\t\thelpers$1.merge(element._model, element.$previousStyle || {});\r\n\t\tdelete element.$previousStyle;\r\n\t},\r\n\r\n\tsetHoverStyle: function(element) {\r\n\t\tvar dataset = this.chart.data.datasets[element._datasetIndex];\r\n\t\tvar index = element._index;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar model = element._model;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\telement.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = resolve([custom.hoverBackgroundColor, dataset.hoverBackgroundColor, getHoverColor(model.backgroundColor)], undefined, index);\r\n\t\tmodel.borderColor = resolve([custom.hoverBorderColor, dataset.hoverBorderColor, getHoverColor(model.borderColor)], undefined, index);\r\n\t\tmodel.borderWidth = resolve([custom.hoverBorderWidth, dataset.hoverBorderWidth, model.borderWidth], undefined, index);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_removeDatasetHoverStyle: function() {\r\n\t\tvar element = this.getMeta().dataset;\r\n\r\n\t\tif (element) {\r\n\t\t\tthis.removeHoverStyle(element);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_setDatasetHoverStyle: function() {\r\n\t\tvar element = this.getMeta().dataset;\r\n\t\tvar prev = {};\r\n\t\tvar i, ilen, key, keys, hoverOptions, model;\r\n\r\n\t\tif (!element) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmodel = element._model;\r\n\t\thoverOptions = this._resolveDatasetElementOptions(element, true);\r\n\r\n\t\tkeys = Object.keys(hoverOptions);\r\n\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\r\n\t\t\tkey = keys[i];\r\n\t\t\tprev[key] = model[key];\r\n\t\t\tmodel[key] = hoverOptions[key];\r\n\t\t}\r\n\r\n\t\telement.$previousStyle = prev;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tresyncElements: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar data = me.getDataset().data;\r\n\t\tvar numMeta = meta.data.length;\r\n\t\tvar numData = data.length;\r\n\r\n\t\tif (numData < numMeta) {\r\n\t\t\tmeta.data.splice(numData, numMeta - numData);\r\n\t\t} else if (numData > numMeta) {\r\n\t\t\tme.insertElements(numMeta, numData - numMeta);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tinsertElements: function(start, count) {\r\n\t\tfor (var i = 0; i < count; ++i) {\r\n\t\t\tthis.addElementAndReset(start + i);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataPush: function() {\r\n\t\tvar count = arguments.length;\r\n\t\tthis.insertElements(this.getDataset().data.length - count, count);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataPop: function() {\r\n\t\tthis.getMeta().data.pop();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataShift: function() {\r\n\t\tthis.getMeta().data.shift();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataSplice: function(start, count) {\r\n\t\tthis.getMeta().data.splice(start, count);\r\n\t\tthis.insertElements(start, arguments.length - 2);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tonDataUnshift: function() {\r\n\t\tthis.insertElements(0, arguments.length);\r\n\t}\r\n});\r\n\r\nDatasetController.extend = helpers$1.inherits;\r\n\r\nvar core_datasetController = DatasetController;\n\nvar TAU = Math.PI * 2;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tarc: {\r\n\t\t\tbackgroundColor: core_defaults.global.defaultColor,\r\n\t\t\tborderColor: '#fff',\r\n\t\t\tborderWidth: 2,\r\n\t\t\tborderAlign: 'center'\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction clipArc(ctx, arc) {\r\n\tvar startAngle = arc.startAngle;\r\n\tvar endAngle = arc.endAngle;\r\n\tvar pixelMargin = arc.pixelMargin;\r\n\tvar angleMargin = pixelMargin / arc.outerRadius;\r\n\tvar x = arc.x;\r\n\tvar y = arc.y;\r\n\r\n\t// Draw an inner border by cliping the arc and drawing a double-width border\r\n\t// Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\r\n\tctx.beginPath();\r\n\tctx.arc(x, y, arc.outerRadius, startAngle - angleMargin, endAngle + angleMargin);\r\n\tif (arc.innerRadius > pixelMargin) {\r\n\t\tangleMargin = pixelMargin / arc.innerRadius;\r\n\t\tctx.arc(x, y, arc.innerRadius - pixelMargin, endAngle + angleMargin, startAngle - angleMargin, true);\r\n\t} else {\r\n\t\tctx.arc(x, y, pixelMargin, endAngle + Math.PI / 2, startAngle - Math.PI / 2);\r\n\t}\r\n\tctx.closePath();\r\n\tctx.clip();\r\n}\r\n\r\nfunction drawFullCircleBorders(ctx, vm, arc, inner) {\r\n\tvar endAngle = arc.endAngle;\r\n\tvar i;\r\n\r\n\tif (inner) {\r\n\t\tarc.endAngle = arc.startAngle + TAU;\r\n\t\tclipArc(ctx, arc);\r\n\t\tarc.endAngle = endAngle;\r\n\t\tif (arc.endAngle === arc.startAngle && arc.fullCircles) {\r\n\t\t\tarc.endAngle += TAU;\r\n\t\t\tarc.fullCircles--;\r\n\t\t}\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.startAngle + TAU, arc.startAngle, true);\r\n\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\tctx.stroke();\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, vm.outerRadius, arc.startAngle, arc.startAngle + TAU);\r\n\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\tctx.stroke();\r\n\t}\r\n}\r\n\r\nfunction drawBorder(ctx, vm, arc) {\r\n\tvar inner = vm.borderAlign === 'inner';\r\n\r\n\tif (inner) {\r\n\t\tctx.lineWidth = vm.borderWidth * 2;\r\n\t\tctx.lineJoin = 'round';\r\n\t} else {\r\n\t\tctx.lineWidth = vm.borderWidth;\r\n\t\tctx.lineJoin = 'bevel';\r\n\t}\r\n\r\n\tif (arc.fullCircles) {\r\n\t\tdrawFullCircleBorders(ctx, vm, arc, inner);\r\n\t}\r\n\r\n\tif (inner) {\r\n\t\tclipArc(ctx, arc);\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tctx.arc(arc.x, arc.y, vm.outerRadius, arc.startAngle, arc.endAngle);\r\n\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\tctx.closePath();\r\n\tctx.stroke();\r\n}\r\n\r\nvar element_arc = core_element.extend({\r\n\t_type: 'arc',\r\n\r\n\tinLabelRange: function(mouseX) {\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm) {\r\n\t\t\treturn (Math.pow(mouseX - vm.x, 2) < Math.pow(vm.radius + vm.hoverRadius, 2));\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tinRange: function(chartX, chartY) {\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm) {\r\n\t\t\tvar pointRelativePosition = helpers$1.getAngleFromPoint(vm, {x: chartX, y: chartY});\r\n\t\t\tvar angle = pointRelativePosition.angle;\r\n\t\t\tvar distance = pointRelativePosition.distance;\r\n\r\n\t\t\t// Sanitise angle range\r\n\t\t\tvar startAngle = vm.startAngle;\r\n\t\t\tvar endAngle = vm.endAngle;\r\n\t\t\twhile (endAngle < startAngle) {\r\n\t\t\t\tendAngle += TAU;\r\n\t\t\t}\r\n\t\t\twhile (angle > endAngle) {\r\n\t\t\t\tangle -= TAU;\r\n\t\t\t}\r\n\t\t\twhile (angle < startAngle) {\r\n\t\t\t\tangle += TAU;\r\n\t\t\t}\r\n\r\n\t\t\t// Check if within the range of the open/close angle\r\n\t\t\tvar betweenAngles = (angle >= startAngle && angle <= endAngle);\r\n\t\t\tvar withinRadius = (distance >= vm.innerRadius && distance <= vm.outerRadius);\r\n\r\n\t\t\treturn (betweenAngles && withinRadius);\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar halfAngle = (vm.startAngle + vm.endAngle) / 2;\r\n\t\tvar halfRadius = (vm.innerRadius + vm.outerRadius) / 2;\r\n\t\treturn {\r\n\t\t\tx: vm.x + Math.cos(halfAngle) * halfRadius,\r\n\t\t\ty: vm.y + Math.sin(halfAngle) * halfRadius\r\n\t\t};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn Math.PI * ((vm.endAngle - vm.startAngle) / (2 * Math.PI)) * (Math.pow(vm.outerRadius, 2) - Math.pow(vm.innerRadius, 2));\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar centreAngle = vm.startAngle + ((vm.endAngle - vm.startAngle) / 2);\r\n\t\tvar rangeFromCentre = (vm.outerRadius - vm.innerRadius) / 2 + vm.innerRadius;\r\n\r\n\t\treturn {\r\n\t\t\tx: vm.x + (Math.cos(centreAngle) * rangeFromCentre),\r\n\t\t\ty: vm.y + (Math.sin(centreAngle) * rangeFromCentre)\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar pixelMargin = (vm.borderAlign === 'inner') ? 0.33 : 0;\r\n\t\tvar arc = {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y,\r\n\t\t\tinnerRadius: vm.innerRadius,\r\n\t\t\touterRadius: Math.max(vm.outerRadius - pixelMargin, 0),\r\n\t\t\tpixelMargin: pixelMargin,\r\n\t\t\tstartAngle: vm.startAngle,\r\n\t\t\tendAngle: vm.endAngle,\r\n\t\t\tfullCircles: Math.floor(vm.circumference / TAU)\r\n\t\t};\r\n\t\tvar i;\r\n\r\n\t\tctx.save();\r\n\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.strokeStyle = vm.borderColor;\r\n\r\n\t\tif (arc.fullCircles) {\r\n\t\t\tarc.endAngle = arc.startAngle + TAU;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.arc(arc.x, arc.y, arc.outerRadius, arc.startAngle, arc.endAngle);\r\n\t\t\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\t\t\tctx.closePath();\r\n\t\t\tfor (i = 0; i < arc.fullCircles; ++i) {\r\n\t\t\t\tctx.fill();\r\n\t\t\t}\r\n\t\t\tarc.endAngle = arc.startAngle + vm.circumference % TAU;\r\n\t\t}\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.arc(arc.x, arc.y, arc.outerRadius, arc.startAngle, arc.endAngle);\r\n\t\tctx.arc(arc.x, arc.y, arc.innerRadius, arc.endAngle, arc.startAngle, true);\r\n\t\tctx.closePath();\r\n\t\tctx.fill();\r\n\r\n\t\tif (vm.borderWidth) {\r\n\t\t\tdrawBorder(ctx, vm, arc);\r\n\t\t}\r\n\r\n\t\tctx.restore();\r\n\t}\r\n});\n\nvar valueOrDefault$1 = helpers$1.valueOrDefault;\r\n\r\nvar defaultColor = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tline: {\r\n\t\t\ttension: 0.4,\r\n\t\t\tbackgroundColor: defaultColor,\r\n\t\t\tborderWidth: 3,\r\n\t\t\tborderColor: defaultColor,\r\n\t\t\tborderCapStyle: 'butt',\r\n\t\t\tborderDash: [],\r\n\t\t\tborderDashOffset: 0.0,\r\n\t\t\tborderJoinStyle: 'miter',\r\n\t\t\tcapBezierPoints: true,\r\n\t\t\tfill: true, // do we fill in the area between the line and its base axis\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar element_line = core_element.extend({\r\n\t_type: 'line',\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar vm = me._view;\r\n\t\tvar ctx = me._chart.ctx;\r\n\t\tvar spanGaps = vm.spanGaps;\r\n\t\tvar points = me._children.slice(); // clone array\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar globalOptionLineElements = globalDefaults.elements.line;\r\n\t\tvar lastDrawnIndex = -1;\r\n\t\tvar closePath = me._loop;\r\n\t\tvar index, previous, currentVM;\r\n\r\n\t\tif (!points.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (me._loop) {\r\n\t\t\tfor (index = 0; index < points.length; ++index) {\r\n\t\t\t\tprevious = helpers$1.previousItem(points, index);\r\n\t\t\t\t// If the line has an open path, shift the point array\r\n\t\t\t\tif (!points[index]._view.skip && previous._view.skip) {\r\n\t\t\t\t\tpoints = points.slice(index).concat(points.slice(0, index));\r\n\t\t\t\t\tclosePath = spanGaps;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// If the line has a close path, add the first point again\r\n\t\t\tif (closePath) {\r\n\t\t\t\tpoints.push(points[0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\r\n\t\t// Stroke Line Options\r\n\t\tctx.lineCap = vm.borderCapStyle || globalOptionLineElements.borderCapStyle;\r\n\r\n\t\t// IE 9 and 10 do not support line dash\r\n\t\tif (ctx.setLineDash) {\r\n\t\t\tctx.setLineDash(vm.borderDash || globalOptionLineElements.borderDash);\r\n\t\t}\r\n\r\n\t\tctx.lineDashOffset = valueOrDefault$1(vm.borderDashOffset, globalOptionLineElements.borderDashOffset);\r\n\t\tctx.lineJoin = vm.borderJoinStyle || globalOptionLineElements.borderJoinStyle;\r\n\t\tctx.lineWidth = valueOrDefault$1(vm.borderWidth, globalOptionLineElements.borderWidth);\r\n\t\tctx.strokeStyle = vm.borderColor || globalDefaults.defaultColor;\r\n\r\n\t\t// Stroke Line\r\n\t\tctx.beginPath();\r\n\r\n\t\t// First point moves to it's starting position no matter what\r\n\t\tcurrentVM = points[0]._view;\r\n\t\tif (!currentVM.skip) {\r\n\t\t\tctx.moveTo(currentVM.x, currentVM.y);\r\n\t\t\tlastDrawnIndex = 0;\r\n\t\t}\r\n\r\n\t\tfor (index = 1; index < points.length; ++index) {\r\n\t\t\tcurrentVM = points[index]._view;\r\n\t\t\tprevious = lastDrawnIndex === -1 ? helpers$1.previousItem(points, index) : points[lastDrawnIndex];\r\n\r\n\t\t\tif (!currentVM.skip) {\r\n\t\t\t\tif ((lastDrawnIndex !== (index - 1) && !spanGaps) || lastDrawnIndex === -1) {\r\n\t\t\t\t\t// There was a gap and this is the first point after the gap\r\n\t\t\t\t\tctx.moveTo(currentVM.x, currentVM.y);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Line to next point\r\n\t\t\t\t\thelpers$1.canvas.lineTo(ctx, previous._view, currentVM);\r\n\t\t\t\t}\r\n\t\t\t\tlastDrawnIndex = index;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (closePath) {\r\n\t\t\tctx.closePath();\r\n\t\t}\r\n\r\n\t\tctx.stroke();\r\n\t\tctx.restore();\r\n\t}\r\n});\n\nvar valueOrDefault$2 = helpers$1.valueOrDefault;\r\n\r\nvar defaultColor$1 = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\tpoint: {\r\n\t\t\tradius: 3,\r\n\t\t\tpointStyle: 'circle',\r\n\t\t\tbackgroundColor: defaultColor$1,\r\n\t\t\tborderColor: defaultColor$1,\r\n\t\t\tborderWidth: 1,\r\n\t\t\t// Hover\r\n\t\t\thitRadius: 1,\r\n\t\t\thoverRadius: 4,\r\n\t\t\thoverBorderWidth: 1\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction xRange(mouseX) {\r\n\tvar vm = this._view;\r\n\treturn vm ? (Math.abs(mouseX - vm.x) < vm.radius + vm.hitRadius) : false;\r\n}\r\n\r\nfunction yRange(mouseY) {\r\n\tvar vm = this._view;\r\n\treturn vm ? (Math.abs(mouseY - vm.y) < vm.radius + vm.hitRadius) : false;\r\n}\r\n\r\nvar element_point = core_element.extend({\r\n\t_type: 'point',\r\n\r\n\tinRange: function(mouseX, mouseY) {\r\n\t\tvar vm = this._view;\r\n\t\treturn vm ? ((Math.pow(mouseX - vm.x, 2) + Math.pow(mouseY - vm.y, 2)) < Math.pow(vm.hitRadius + vm.radius, 2)) : false;\r\n\t},\r\n\r\n\tinLabelRange: xRange,\r\n\tinXRange: xRange,\r\n\tinYRange: yRange,\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\treturn Math.PI * Math.pow(this._view.radius, 2);\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y,\r\n\t\t\tpadding: vm.radius + vm.borderWidth\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function(chartArea) {\r\n\t\tvar vm = this._view;\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar pointStyle = vm.pointStyle;\r\n\t\tvar rotation = vm.rotation;\r\n\t\tvar radius = vm.radius;\r\n\t\tvar x = vm.x;\r\n\t\tvar y = vm.y;\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar defaultColor = globalDefaults.defaultColor; // eslint-disable-line no-shadow\r\n\r\n\t\tif (vm.skip) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Clipping for Points.\r\n\t\tif (chartArea === undefined || helpers$1.canvas._isPointInArea(vm, chartArea)) {\r\n\t\t\tctx.strokeStyle = vm.borderColor || defaultColor;\r\n\t\t\tctx.lineWidth = valueOrDefault$2(vm.borderWidth, globalDefaults.elements.point.borderWidth);\r\n\t\t\tctx.fillStyle = vm.backgroundColor || defaultColor;\r\n\t\t\thelpers$1.canvas.drawPoint(ctx, pointStyle, radius, x, y, rotation);\r\n\t\t}\r\n\t}\r\n});\n\nvar defaultColor$2 = core_defaults.global.defaultColor;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {\r\n\t\trectangle: {\r\n\t\t\tbackgroundColor: defaultColor$2,\r\n\t\t\tborderColor: defaultColor$2,\r\n\t\t\tborderSkipped: 'bottom',\r\n\t\t\tborderWidth: 0\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction isVertical(vm) {\r\n\treturn vm && vm.width !== undefined;\r\n}\r\n\r\n/**\r\n * Helper function to get the bounds of the bar regardless of the orientation\r\n * @param bar {Chart.Element.Rectangle} the bar\r\n * @return {Bounds} bounds of the bar\r\n * @private\r\n */\r\nfunction getBarBounds(vm) {\r\n\tvar x1, x2, y1, y2, half;\r\n\r\n\tif (isVertical(vm)) {\r\n\t\thalf = vm.width / 2;\r\n\t\tx1 = vm.x - half;\r\n\t\tx2 = vm.x + half;\r\n\t\ty1 = Math.min(vm.y, vm.base);\r\n\t\ty2 = Math.max(vm.y, vm.base);\r\n\t} else {\r\n\t\thalf = vm.height / 2;\r\n\t\tx1 = Math.min(vm.x, vm.base);\r\n\t\tx2 = Math.max(vm.x, vm.base);\r\n\t\ty1 = vm.y - half;\r\n\t\ty2 = vm.y + half;\r\n\t}\r\n\r\n\treturn {\r\n\t\tleft: x1,\r\n\t\ttop: y1,\r\n\t\tright: x2,\r\n\t\tbottom: y2\r\n\t};\r\n}\r\n\r\nfunction swap(orig, v1, v2) {\r\n\treturn orig === v1 ? v2 : orig === v2 ? v1 : orig;\r\n}\r\n\r\nfunction parseBorderSkipped(vm) {\r\n\tvar edge = vm.borderSkipped;\r\n\tvar res = {};\r\n\r\n\tif (!edge) {\r\n\t\treturn res;\r\n\t}\r\n\r\n\tif (vm.horizontal) {\r\n\t\tif (vm.base > vm.x) {\r\n\t\t\tedge = swap(edge, 'left', 'right');\r\n\t\t}\r\n\t} else if (vm.base < vm.y) {\r\n\t\tedge = swap(edge, 'bottom', 'top');\r\n\t}\r\n\r\n\tres[edge] = true;\r\n\treturn res;\r\n}\r\n\r\nfunction parseBorderWidth(vm, maxW, maxH) {\r\n\tvar value = vm.borderWidth;\r\n\tvar skip = parseBorderSkipped(vm);\r\n\tvar t, r, b, l;\r\n\r\n\tif (helpers$1.isObject(value)) {\r\n\t\tt = +value.top || 0;\r\n\t\tr = +value.right || 0;\r\n\t\tb = +value.bottom || 0;\r\n\t\tl = +value.left || 0;\r\n\t} else {\r\n\t\tt = r = b = l = +value || 0;\r\n\t}\r\n\r\n\treturn {\r\n\t\tt: skip.top || (t < 0) ? 0 : t > maxH ? maxH : t,\r\n\t\tr: skip.right || (r < 0) ? 0 : r > maxW ? maxW : r,\r\n\t\tb: skip.bottom || (b < 0) ? 0 : b > maxH ? maxH : b,\r\n\t\tl: skip.left || (l < 0) ? 0 : l > maxW ? maxW : l\r\n\t};\r\n}\r\n\r\nfunction boundingRects(vm) {\r\n\tvar bounds = getBarBounds(vm);\r\n\tvar width = bounds.right - bounds.left;\r\n\tvar height = bounds.bottom - bounds.top;\r\n\tvar border = parseBorderWidth(vm, width / 2, height / 2);\r\n\r\n\treturn {\r\n\t\touter: {\r\n\t\t\tx: bounds.left,\r\n\t\t\ty: bounds.top,\r\n\t\t\tw: width,\r\n\t\t\th: height\r\n\t\t},\r\n\t\tinner: {\r\n\t\t\tx: bounds.left + border.l,\r\n\t\t\ty: bounds.top + border.t,\r\n\t\t\tw: width - border.l - border.r,\r\n\t\t\th: height - border.t - border.b\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction inRange(vm, x, y) {\r\n\tvar skipX = x === null;\r\n\tvar skipY = y === null;\r\n\tvar bounds = !vm || (skipX && skipY) ? false : getBarBounds(vm);\r\n\r\n\treturn bounds\r\n\t\t&& (skipX || x >= bounds.left && x <= bounds.right)\r\n\t\t&& (skipY || y >= bounds.top && y <= bounds.bottom);\r\n}\r\n\r\nvar element_rectangle = core_element.extend({\r\n\t_type: 'rectangle',\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar rects = boundingRects(vm);\r\n\t\tvar outer = rects.outer;\r\n\t\tvar inner = rects.inner;\r\n\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.fillRect(outer.x, outer.y, outer.w, outer.h);\r\n\r\n\t\tif (outer.w === inner.w && outer.h === inner.h) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(outer.x, outer.y, outer.w, outer.h);\r\n\t\tctx.clip();\r\n\t\tctx.fillStyle = vm.borderColor;\r\n\t\tctx.rect(inner.x, inner.y, inner.w, inner.h);\r\n\t\tctx.fill('evenodd');\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\theight: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn vm.base - vm.y;\r\n\t},\r\n\r\n\tinRange: function(mouseX, mouseY) {\r\n\t\treturn inRange(this._view, mouseX, mouseY);\r\n\t},\r\n\r\n\tinLabelRange: function(mouseX, mouseY) {\r\n\t\tvar vm = this._view;\r\n\t\treturn isVertical(vm)\r\n\t\t\t? inRange(vm, mouseX, null)\r\n\t\t\t: inRange(vm, null, mouseY);\r\n\t},\r\n\r\n\tinXRange: function(mouseX) {\r\n\t\treturn inRange(this._view, mouseX, null);\r\n\t},\r\n\r\n\tinYRange: function(mouseY) {\r\n\t\treturn inRange(this._view, null, mouseY);\r\n\t},\r\n\r\n\tgetCenterPoint: function() {\r\n\t\tvar vm = this._view;\r\n\t\tvar x, y;\r\n\t\tif (isVertical(vm)) {\r\n\t\t\tx = vm.x;\r\n\t\t\ty = (vm.y + vm.base) / 2;\r\n\t\t} else {\r\n\t\t\tx = (vm.x + vm.base) / 2;\r\n\t\t\ty = vm.y;\r\n\t\t}\r\n\r\n\t\treturn {x: x, y: y};\r\n\t},\r\n\r\n\tgetArea: function() {\r\n\t\tvar vm = this._view;\r\n\r\n\t\treturn isVertical(vm)\r\n\t\t\t? vm.width * Math.abs(vm.y - vm.base)\r\n\t\t\t: vm.height * Math.abs(vm.x - vm.base);\r\n\t},\r\n\r\n\ttooltipPosition: function() {\r\n\t\tvar vm = this._view;\r\n\t\treturn {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\t}\r\n});\n\nvar elements = {};\r\nvar Arc = element_arc;\r\nvar Line = element_line;\r\nvar Point = element_point;\r\nvar Rectangle = element_rectangle;\nelements.Arc = Arc;\nelements.Line = Line;\nelements.Point = Point;\nelements.Rectangle = Rectangle;\n\nvar deprecated = helpers$1._deprecated;\r\nvar valueOrDefault$3 = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('bar', {\r\n\thover: {\r\n\t\tmode: 'label'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\toffset: true,\r\n\t\t\tgridLines: {\r\n\t\t\t\toffsetGridLines: true\r\n\t\t\t}\r\n\t\t}],\r\n\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear'\r\n\t\t}]\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\tbar: {\r\n\t\t\tcategoryPercentage: 0.8,\r\n\t\t\tbarPercentage: 0.9\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/**\r\n * Computes the \"optimal\" sample size to maintain bars equally sized while preventing overlap.\r\n * @private\r\n */\r\nfunction computeMinSampleSize(scale, pixels) {\r\n\tvar min = scale._length;\r\n\tvar prev, curr, i, ilen;\r\n\r\n\tfor (i = 1, ilen = pixels.length; i < ilen; ++i) {\r\n\t\tmin = Math.min(min, Math.abs(pixels[i] - pixels[i - 1]));\r\n\t}\r\n\r\n\tfor (i = 0, ilen = scale.getTicks().length; i < ilen; ++i) {\r\n\t\tcurr = scale.getPixelForTick(i);\r\n\t\tmin = i > 0 ? Math.min(min, Math.abs(curr - prev)) : min;\r\n\t\tprev = curr;\r\n\t}\r\n\r\n\treturn min;\r\n}\r\n\r\n/**\r\n * Computes an \"ideal\" category based on the absolute bar thickness or, if undefined or null,\r\n * uses the smallest interval (see computeMinSampleSize) that prevents bar overlapping. This\r\n * mode currently always generates bars equally sized (until we introduce scriptable options?).\r\n * @private\r\n */\r\nfunction computeFitCategoryTraits(index, ruler, options) {\r\n\tvar thickness = options.barThickness;\r\n\tvar count = ruler.stackCount;\r\n\tvar curr = ruler.pixels[index];\r\n\tvar min = helpers$1.isNullOrUndef(thickness)\r\n\t\t? computeMinSampleSize(ruler.scale, ruler.pixels)\r\n\t\t: -1;\r\n\tvar size, ratio;\r\n\r\n\tif (helpers$1.isNullOrUndef(thickness)) {\r\n\t\tsize = min * options.categoryPercentage;\r\n\t\tratio = options.barPercentage;\r\n\t} else {\r\n\t\t// When bar thickness is enforced, category and bar percentages are ignored.\r\n\t\t// Note(SB): we could add support for relative bar thickness (e.g. barThickness: '50%')\r\n\t\t// and deprecate barPercentage since this value is ignored when thickness is absolute.\r\n\t\tsize = thickness * count;\r\n\t\tratio = 1;\r\n\t}\r\n\r\n\treturn {\r\n\t\tchunk: size / count,\r\n\t\tratio: ratio,\r\n\t\tstart: curr - (size / 2)\r\n\t};\r\n}\r\n\r\n/**\r\n * Computes an \"optimal\" category that globally arranges bars side by side (no gap when\r\n * percentage options are 1), based on the previous and following categories. This mode\r\n * generates bars with different widths when data are not evenly spaced.\r\n * @private\r\n */\r\nfunction computeFlexCategoryTraits(index, ruler, options) {\r\n\tvar pixels = ruler.pixels;\r\n\tvar curr = pixels[index];\r\n\tvar prev = index > 0 ? pixels[index - 1] : null;\r\n\tvar next = index < pixels.length - 1 ? pixels[index + 1] : null;\r\n\tvar percent = options.categoryPercentage;\r\n\tvar start, size;\r\n\r\n\tif (prev === null) {\r\n\t\t// first data: its size is double based on the next point or,\r\n\t\t// if it's also the last data, we use the scale size.\r\n\t\tprev = curr - (next === null ? ruler.end - ruler.start : next - curr);\r\n\t}\r\n\r\n\tif (next === null) {\r\n\t\t// last data: its size is also double based on the previous point.\r\n\t\tnext = curr + curr - prev;\r\n\t}\r\n\r\n\tstart = curr - (curr - Math.min(prev, next)) / 2 * percent;\r\n\tsize = Math.abs(next - prev) / 2 * percent;\r\n\r\n\treturn {\r\n\t\tchunk: size / ruler.stackCount,\r\n\t\tratio: options.barPercentage,\r\n\t\tstart: start\r\n\t};\r\n}\r\n\r\nvar controller_bar = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Rectangle,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderSkipped',\r\n\t\t'borderWidth',\r\n\t\t'barPercentage',\r\n\t\t'barThickness',\r\n\t\t'categoryPercentage',\r\n\t\t'maxBarThickness',\r\n\t\t'minBarLength'\r\n\t],\r\n\r\n\tinitialize: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta, scaleOpts;\r\n\r\n\t\tcore_datasetController.prototype.initialize.apply(me, arguments);\r\n\r\n\t\tmeta = me.getMeta();\r\n\t\tmeta.stack = me.getDataset().stack;\r\n\t\tmeta.bar = true;\r\n\r\n\t\tscaleOpts = me._getIndexScale().options;\r\n\t\tdeprecated('bar chart', scaleOpts.barPercentage, 'scales.[x/y]Axes.barPercentage', 'dataset.barPercentage');\r\n\t\tdeprecated('bar chart', scaleOpts.barThickness, 'scales.[x/y]Axes.barThickness', 'dataset.barThickness');\r\n\t\tdeprecated('bar chart', scaleOpts.categoryPercentage, 'scales.[x/y]Axes.categoryPercentage', 'dataset.categoryPercentage');\r\n\t\tdeprecated('bar chart', me._getValueScale().options.minBarLength, 'scales.[x/y]Axes.minBarLength', 'dataset.minBarLength');\r\n\t\tdeprecated('bar chart', scaleOpts.maxBarThickness, 'scales.[x/y]Axes.maxBarThickness', 'dataset.maxBarThickness');\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar rects = me.getMeta().data;\r\n\t\tvar i, ilen;\r\n\r\n\t\tme._ruler = me.getRuler();\r\n\r\n\t\tfor (i = 0, ilen = rects.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(rects[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(rectangle, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar options = me._resolveDataElementOptions(rectangle, index);\r\n\r\n\t\trectangle._xScale = me.getScaleForId(meta.xAxisID);\r\n\t\trectangle._yScale = me.getScaleForId(meta.yAxisID);\r\n\t\trectangle._datasetIndex = me.index;\r\n\t\trectangle._index = index;\r\n\t\trectangle._model = {\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderSkipped: options.borderSkipped,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\tdatasetLabel: dataset.label,\r\n\t\t\tlabel: me.chart.data.labels[index]\r\n\t\t};\r\n\r\n\t\tif (helpers$1.isArray(dataset.data[index])) {\r\n\t\t\trectangle._model.borderSkipped = null;\r\n\t\t}\r\n\r\n\t\tme._updateElementGeometry(rectangle, index, reset, options);\r\n\r\n\t\trectangle.pivot();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_updateElementGeometry: function(rectangle, index, reset, options) {\r\n\t\tvar me = this;\r\n\t\tvar model = rectangle._model;\r\n\t\tvar vscale = me._getValueScale();\r\n\t\tvar base = vscale.getBasePixel();\r\n\t\tvar horizontal = vscale.isHorizontal();\r\n\t\tvar ruler = me._ruler || me.getRuler();\r\n\t\tvar vpixels = me.calculateBarValuePixels(me.index, index, options);\r\n\t\tvar ipixels = me.calculateBarIndexPixels(me.index, index, ruler, options);\r\n\r\n\t\tmodel.horizontal = horizontal;\r\n\t\tmodel.base = reset ? base : vpixels.base;\r\n\t\tmodel.x = horizontal ? reset ? base : vpixels.head : ipixels.center;\r\n\t\tmodel.y = horizontal ? ipixels.center : reset ? base : vpixels.head;\r\n\t\tmodel.height = horizontal ? ipixels.size : undefined;\r\n\t\tmodel.width = horizontal ? undefined : ipixels.size;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the stacks based on groups and bar visibility.\r\n\t * @param {number} [last] - The dataset index\r\n\t * @returns {string[]} The list of stack IDs\r\n\t * @private\r\n\t */\r\n\t_getStacks: function(last) {\r\n\t\tvar me = this;\r\n\t\tvar scale = me._getIndexScale();\r\n\t\tvar metasets = scale._getMatchingVisibleMetas(me._type);\r\n\t\tvar stacked = scale.options.stacked;\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar stacks = [];\r\n\t\tvar i, meta;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tmeta = metasets[i];\r\n\t\t\t// stacked   | meta.stack\r\n\t\t\t//           | found | not found | undefined\r\n\t\t\t// false     |   x   |     x     |     x\r\n\t\t\t// true      |       |     x     |\r\n\t\t\t// undefined |       |     x     |     x\r\n\t\t\tif (stacked === false || stacks.indexOf(meta.stack) === -1 ||\r\n\t\t\t\t(stacked === undefined && meta.stack === undefined)) {\r\n\t\t\t\tstacks.push(meta.stack);\r\n\t\t\t}\r\n\t\t\tif (meta.index === last) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn stacks;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the effective number of stacks based on groups and bar visibility.\r\n\t * @private\r\n\t */\r\n\tgetStackCount: function() {\r\n\t\treturn this._getStacks().length;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the stack index for the given dataset based on groups and bar visibility.\r\n\t * @param {number} [datasetIndex] - The dataset index\r\n\t * @param {string} [name] - The stack name to find\r\n\t * @returns {number} The stack index\r\n\t * @private\r\n\t */\r\n\tgetStackIndex: function(datasetIndex, name) {\r\n\t\tvar stacks = this._getStacks(datasetIndex);\r\n\t\tvar index = (name !== undefined)\r\n\t\t\t? stacks.indexOf(name)\r\n\t\t\t: -1; // indexOf returns -1 if element is not present\r\n\r\n\t\treturn (index === -1)\r\n\t\t\t? stacks.length - 1\r\n\t\t\t: index;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tgetRuler: function() {\r\n\t\tvar me = this;\r\n\t\tvar scale = me._getIndexScale();\r\n\t\tvar pixels = [];\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = me.getMeta().data.length; i < ilen; ++i) {\r\n\t\t\tpixels.push(scale.getPixelForValue(null, i, me.index));\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tpixels: pixels,\r\n\t\t\tstart: scale._startPixel,\r\n\t\t\tend: scale._endPixel,\r\n\t\t\tstackCount: me.getStackCount(),\r\n\t\t\tscale: scale\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Note: pixel values are not clamped to the scale area.\r\n\t * @private\r\n\t */\r\n\tcalculateBarValuePixels: function(datasetIndex, index, options) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar scale = me._getValueScale();\r\n\t\tvar isHorizontal = scale.isHorizontal();\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar metasets = scale._getMatchingVisibleMetas(me._type);\r\n\t\tvar value = scale._parseValue(datasets[datasetIndex].data[index]);\r\n\t\tvar minBarLength = options.minBarLength;\r\n\t\tvar stacked = scale.options.stacked;\r\n\t\tvar stack = me.getMeta().stack;\r\n\t\tvar start = value.start === undefined ? 0 : value.max >= 0 && value.min >= 0 ? value.min : value.max;\r\n\t\tvar length = value.start === undefined ? value.end : value.max >= 0 && value.min >= 0 ? value.max - value.min : value.min - value.max;\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar i, imeta, ivalue, base, head, size, stackLength;\r\n\r\n\t\tif (stacked || (stacked === undefined && stack !== undefined)) {\r\n\t\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\t\timeta = metasets[i];\r\n\r\n\t\t\t\tif (imeta.index === datasetIndex) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (imeta.stack === stack) {\r\n\t\t\t\t\tstackLength = scale._parseValue(datasets[imeta.index].data[index]);\r\n\t\t\t\t\tivalue = stackLength.start === undefined ? stackLength.end : stackLength.min >= 0 && stackLength.max >= 0 ? stackLength.max : stackLength.min;\r\n\r\n\t\t\t\t\tif ((value.min < 0 && ivalue < 0) || (value.max >= 0 && ivalue > 0)) {\r\n\t\t\t\t\t\tstart += ivalue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbase = scale.getPixelForValue(start);\r\n\t\thead = scale.getPixelForValue(start + length);\r\n\t\tsize = head - base;\r\n\r\n\t\tif (minBarLength !== undefined && Math.abs(size) < minBarLength) {\r\n\t\t\tsize = minBarLength;\r\n\t\t\tif (length >= 0 && !isHorizontal || length < 0 && isHorizontal) {\r\n\t\t\t\thead = base - minBarLength;\r\n\t\t\t} else {\r\n\t\t\t\thead = base + minBarLength;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tsize: size,\r\n\t\t\tbase: base,\r\n\t\t\thead: head,\r\n\t\t\tcenter: head + size / 2\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tcalculateBarIndexPixels: function(datasetIndex, index, ruler, options) {\r\n\t\tvar me = this;\r\n\t\tvar range = options.barThickness === 'flex'\r\n\t\t\t? computeFlexCategoryTraits(index, ruler, options)\r\n\t\t\t: computeFitCategoryTraits(index, ruler, options);\r\n\r\n\t\tvar stackIndex = me.getStackIndex(datasetIndex, me.getMeta().stack);\r\n\t\tvar center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\r\n\t\tvar size = Math.min(\r\n\t\t\tvalueOrDefault$3(options.maxBarThickness, Infinity),\r\n\t\t\trange.chunk * range.ratio);\r\n\r\n\t\treturn {\r\n\t\t\tbase: center - size / 2,\r\n\t\t\thead: center + size / 2,\r\n\t\t\tcenter: center,\r\n\t\t\tsize: size\r\n\t\t};\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar scale = me._getValueScale();\r\n\t\tvar rects = me.getMeta().data;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar ilen = rects.length;\r\n\t\tvar i = 0;\r\n\r\n\t\thelpers$1.canvas.clipArea(chart.ctx, chart.chartArea);\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\tvar val = scale._parseValue(dataset.data[i]);\r\n\t\t\tif (!isNaN(val.min) && !isNaN(val.max)) {\r\n\t\t\t\trects[i].draw();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thelpers$1.canvas.unclipArea(chart.ctx);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar values = helpers$1.extend({}, core_datasetController.prototype._resolveDataElementOptions.apply(me, arguments));\r\n\t\tvar indexOpts = me._getIndexScale().options;\r\n\t\tvar valueOpts = me._getValueScale().options;\r\n\r\n\t\tvalues.barPercentage = valueOrDefault$3(indexOpts.barPercentage, values.barPercentage);\r\n\t\tvalues.barThickness = valueOrDefault$3(indexOpts.barThickness, values.barThickness);\r\n\t\tvalues.categoryPercentage = valueOrDefault$3(indexOpts.categoryPercentage, values.categoryPercentage);\r\n\t\tvalues.maxBarThickness = valueOrDefault$3(indexOpts.maxBarThickness, values.maxBarThickness);\r\n\t\tvalues.minBarLength = valueOrDefault$3(valueOpts.minBarLength, values.minBarLength);\r\n\r\n\t\treturn values;\r\n\t}\r\n\r\n});\n\nvar valueOrDefault$4 = helpers$1.valueOrDefault;\r\nvar resolve$1 = helpers$1.options.resolve;\r\n\r\ncore_defaults._set('bubble', {\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'linear', // bubble should probably use a linear scale by default\r\n\t\t\tposition: 'bottom',\r\n\t\t\tid: 'x-axis-0' // need an ID so datasets can reference the scale\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'left',\r\n\t\t\tid: 'y-axis-0'\r\n\t\t}]\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\t// Title doesn't make sense for scatter since we format the data as a point\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(item, data) {\r\n\t\t\t\tvar datasetLabel = data.datasets[item.datasetIndex].label || '';\r\n\t\t\t\tvar dataPoint = data.datasets[item.datasetIndex].data[item.index];\r\n\t\t\t\treturn datasetLabel + ': (' + item.xLabel + ', ' + item.yLabel + ', ' + dataPoint.r + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_bubble = core_datasetController.extend({\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tdataElementType: elements.Point,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t\t'hoverRadius',\r\n\t\t'hitRadius',\r\n\t\t'pointStyle',\r\n\t\t'rotation'\r\n\t],\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar points = meta.data;\r\n\r\n\t\t// Update Points\r\n\t\thelpers$1.each(points, function(point, index) {\r\n\t\t\tme.updateElement(point, index, reset);\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar xScale = me.getScaleForId(meta.xAxisID);\r\n\t\tvar yScale = me.getScaleForId(meta.yAxisID);\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\t\tvar data = me.getDataset().data[index];\r\n\t\tvar dsIndex = me.index;\r\n\r\n\t\tvar x = reset ? xScale.getPixelForDecimal(0.5) : xScale.getPixelForValue(typeof data === 'object' ? data : NaN, index, dsIndex);\r\n\t\tvar y = reset ? yScale.getBasePixel() : yScale.getPixelForValue(data, index, dsIndex);\r\n\r\n\t\tpoint._xScale = xScale;\r\n\t\tpoint._yScale = yScale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = dsIndex;\r\n\t\tpoint._index = index;\r\n\t\tpoint._model = {\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\thitRadius: options.hitRadius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tradius: reset ? 0 : options.radius,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t};\r\n\r\n\t\tpoint.pivot();\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(point) {\r\n\t\tvar model = point._model;\r\n\t\tvar options = point._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tpoint.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t\tradius: model.radius\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$4(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$4(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$4(options.hoverBorderWidth, options.borderWidth);\r\n\t\tmodel.radius = options.radius + options.hoverRadius;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDataElementOptions: function(point, index) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar data = dataset.data[index] || {};\r\n\t\tvar values = core_datasetController.prototype._resolveDataElementOptions.apply(me, arguments);\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: dataset,\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\t// In case values were cached (and thus frozen), we need to clone the values\r\n\t\tif (me._cachedDataOpts === values) {\r\n\t\t\tvalues = helpers$1.extend({}, values);\r\n\t\t}\r\n\r\n\t\t// Custom radius resolution\r\n\t\tvalues.radius = resolve$1([\r\n\t\t\tcustom.radius,\r\n\t\t\tdata.r,\r\n\t\t\tme._config.radius,\r\n\t\t\tchart.options.elements.point.radius\r\n\t\t], context, index);\r\n\r\n\t\treturn values;\r\n\t}\r\n});\n\nvar valueOrDefault$5 = helpers$1.valueOrDefault;\r\n\r\nvar PI$1 = Math.PI;\r\nvar DOUBLE_PI$1 = PI$1 * 2;\r\nvar HALF_PI$1 = PI$1 / 2;\r\n\r\ncore_defaults._set('doughnut', {\r\n\tanimation: {\r\n\t\t// Boolean - Whether we animate the rotation of the Doughnut\r\n\t\tanimateRotate: true,\r\n\t\t// Boolean - Whether we animate scaling the Doughnut from the centre\r\n\t\tanimateScale: false\r\n\t},\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\tlegendCallback: function(chart) {\r\n\t\tvar list = document.createElement('ul');\r\n\t\tvar data = chart.data;\r\n\t\tvar datasets = data.datasets;\r\n\t\tvar labels = data.labels;\r\n\t\tvar i, ilen, listItem, listItemSpan;\r\n\r\n\t\tlist.setAttribute('class', chart.id + '-legend');\r\n\t\tif (datasets.length) {\r\n\t\t\tfor (i = 0, ilen = datasets[0].data.length; i < ilen; ++i) {\r\n\t\t\t\tlistItem = list.appendChild(document.createElement('li'));\r\n\t\t\t\tlistItemSpan = listItem.appendChild(document.createElement('span'));\r\n\t\t\t\tlistItemSpan.style.backgroundColor = datasets[0].backgroundColor[i];\r\n\t\t\t\tif (labels[i]) {\r\n\t\t\t\t\tlistItem.appendChild(document.createTextNode(labels[i]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list.outerHTML;\r\n\t},\r\n\tlegend: {\r\n\t\tlabels: {\r\n\t\t\tgenerateLabels: function(chart) {\r\n\t\t\t\tvar data = chart.data;\r\n\t\t\t\tif (data.labels.length && data.datasets.length) {\r\n\t\t\t\t\treturn data.labels.map(function(label, i) {\r\n\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\r\n\t\t\t\t\t\tvar style = meta.controller.getStyle(i);\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttext: label,\r\n\t\t\t\t\t\t\tfillStyle: style.backgroundColor,\r\n\t\t\t\t\t\t\tstrokeStyle: style.borderColor,\r\n\t\t\t\t\t\t\tlineWidth: style.borderWidth,\r\n\t\t\t\t\t\t\thidden: isNaN(data.datasets[0].data[i]) || meta.data[i].hidden,\r\n\r\n\t\t\t\t\t\t\t// Extra data used for toggling the correct item\r\n\t\t\t\t\t\t\tindex: i\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonClick: function(e, legendItem) {\r\n\t\t\tvar index = legendItem.index;\r\n\t\t\tvar chart = this.chart;\r\n\t\t\tvar i, ilen, meta;\r\n\r\n\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\t// toggle visibility of index if exists\r\n\t\t\t\tif (meta.data[index]) {\r\n\t\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tchart.update();\r\n\t\t}\r\n\t},\r\n\r\n\t// The percentage of the chart that we cut out of the middle.\r\n\tcutoutPercentage: 50,\r\n\r\n\t// The rotation of the chart, where the first data arc begins.\r\n\trotation: -HALF_PI$1,\r\n\r\n\t// The total circumference of the chart.\r\n\tcircumference: DOUBLE_PI$1,\r\n\r\n\t// Need to override these to give a nice default\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(tooltipItem, data) {\r\n\t\t\t\tvar dataLabel = data.labels[tooltipItem.index];\r\n\t\t\t\tvar value = ': ' + data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\r\n\r\n\t\t\t\tif (helpers$1.isArray(dataLabel)) {\r\n\t\t\t\t\t// show value on first line of multiline label\r\n\t\t\t\t\t// need to clone because we are changing the value\r\n\t\t\t\t\tdataLabel = dataLabel.slice();\r\n\t\t\t\t\tdataLabel[0] += value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdataLabel += value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn dataLabel;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_doughnut = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Arc,\r\n\r\n\tlinkScales: helpers$1.noop,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'borderAlign',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t],\r\n\r\n\t// Get index of the dataset in relation to the visible datasets. This allows determining the inner and outer radius correctly\r\n\tgetRingIndex: function(datasetIndex) {\r\n\t\tvar ringIndex = 0;\r\n\r\n\t\tfor (var j = 0; j < datasetIndex; ++j) {\r\n\t\t\tif (this.chart.isDatasetVisible(j)) {\r\n\t\t\t\t++ringIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ringIndex;\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar ratioX = 1;\r\n\t\tvar ratioY = 1;\r\n\t\tvar offsetX = 0;\r\n\t\tvar offsetY = 0;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar arcs = meta.data;\r\n\t\tvar cutout = opts.cutoutPercentage / 100 || 0;\r\n\t\tvar circumference = opts.circumference;\r\n\t\tvar chartWeight = me._getRingWeight(me.index);\r\n\t\tvar maxWidth, maxHeight, i, ilen;\r\n\r\n\t\t// If the chart's circumference isn't a full circle, calculate size as a ratio of the width/height of the arc\r\n\t\tif (circumference < DOUBLE_PI$1) {\r\n\t\t\tvar startAngle = opts.rotation % DOUBLE_PI$1;\r\n\t\t\tstartAngle += startAngle >= PI$1 ? -DOUBLE_PI$1 : startAngle < -PI$1 ? DOUBLE_PI$1 : 0;\r\n\t\t\tvar endAngle = startAngle + circumference;\r\n\t\t\tvar startX = Math.cos(startAngle);\r\n\t\t\tvar startY = Math.sin(startAngle);\r\n\t\t\tvar endX = Math.cos(endAngle);\r\n\t\t\tvar endY = Math.sin(endAngle);\r\n\t\t\tvar contains0 = (startAngle <= 0 && endAngle >= 0) || endAngle >= DOUBLE_PI$1;\r\n\t\t\tvar contains90 = (startAngle <= HALF_PI$1 && endAngle >= HALF_PI$1) || endAngle >= DOUBLE_PI$1 + HALF_PI$1;\r\n\t\t\tvar contains180 = startAngle === -PI$1 || endAngle >= PI$1;\r\n\t\t\tvar contains270 = (startAngle <= -HALF_PI$1 && endAngle >= -HALF_PI$1) || endAngle >= PI$1 + HALF_PI$1;\r\n\t\t\tvar minX = contains180 ? -1 : Math.min(startX, startX * cutout, endX, endX * cutout);\r\n\t\t\tvar minY = contains270 ? -1 : Math.min(startY, startY * cutout, endY, endY * cutout);\r\n\t\t\tvar maxX = contains0 ? 1 : Math.max(startX, startX * cutout, endX, endX * cutout);\r\n\t\t\tvar maxY = contains90 ? 1 : Math.max(startY, startY * cutout, endY, endY * cutout);\r\n\t\t\tratioX = (maxX - minX) / 2;\r\n\t\t\tratioY = (maxY - minY) / 2;\r\n\t\t\toffsetX = -(maxX + minX) / 2;\r\n\t\t\toffsetY = -(maxY + minY) / 2;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarcs[i]._options = me._resolveDataElementOptions(arcs[i], i);\r\n\t\t}\r\n\r\n\t\tchart.borderWidth = me.getMaxBorderWidth();\r\n\t\tmaxWidth = (chartArea.right - chartArea.left - chart.borderWidth) / ratioX;\r\n\t\tmaxHeight = (chartArea.bottom - chartArea.top - chart.borderWidth) / ratioY;\r\n\t\tchart.outerRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\r\n\t\tchart.innerRadius = Math.max(chart.outerRadius * cutout, 0);\r\n\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / (me._getVisibleDatasetWeightTotal() || 1);\r\n\t\tchart.offsetX = offsetX * chart.outerRadius;\r\n\t\tchart.offsetY = offsetY * chart.outerRadius;\r\n\r\n\t\tmeta.total = me.calculateTotal();\r\n\r\n\t\tme.outerRadius = chart.outerRadius - chart.radiusLength * me._getRingWeightOffset(me.index);\r\n\t\tme.innerRadius = Math.max(me.outerRadius - chart.radiusLength * chartWeight, 0);\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(arcs[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(arc, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar animationOpts = opts.animation;\r\n\t\tvar centerX = (chartArea.left + chartArea.right) / 2;\r\n\t\tvar centerY = (chartArea.top + chartArea.bottom) / 2;\r\n\t\tvar startAngle = opts.rotation; // non reset case handled later\r\n\t\tvar endAngle = opts.rotation; // non reset case handled later\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar circumference = reset && animationOpts.animateRotate ? 0 : arc.hidden ? 0 : me.calculateCircumference(dataset.data[index]) * (opts.circumference / DOUBLE_PI$1);\r\n\t\tvar innerRadius = reset && animationOpts.animateScale ? 0 : me.innerRadius;\r\n\t\tvar outerRadius = reset && animationOpts.animateScale ? 0 : me.outerRadius;\r\n\t\tvar options = arc._options || {};\r\n\r\n\t\thelpers$1.extend(arc, {\r\n\t\t\t// Utility\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index,\r\n\r\n\t\t\t// Desired view properties\r\n\t\t\t_model: {\r\n\t\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\t\tborderColor: options.borderColor,\r\n\t\t\t\tborderWidth: options.borderWidth,\r\n\t\t\t\tborderAlign: options.borderAlign,\r\n\t\t\t\tx: centerX + chart.offsetX,\r\n\t\t\t\ty: centerY + chart.offsetY,\r\n\t\t\t\tstartAngle: startAngle,\r\n\t\t\t\tendAngle: endAngle,\r\n\t\t\t\tcircumference: circumference,\r\n\t\t\t\touterRadius: outerRadius,\r\n\t\t\t\tinnerRadius: innerRadius,\r\n\t\t\t\tlabel: helpers$1.valueAtIndexOrDefault(dataset.label, index, chart.data.labels[index])\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar model = arc._model;\r\n\r\n\t\t// Set correct angles if not resetting\r\n\t\tif (!reset || !animationOpts.animateRotate) {\r\n\t\t\tif (index === 0) {\r\n\t\t\t\tmodel.startAngle = opts.rotation;\r\n\t\t\t} else {\r\n\t\t\t\tmodel.startAngle = me.getMeta().data[index - 1]._model.endAngle;\r\n\t\t\t}\r\n\r\n\t\t\tmodel.endAngle = model.startAngle + model.circumference;\r\n\t\t}\r\n\r\n\t\tarc.pivot();\r\n\t},\r\n\r\n\tcalculateTotal: function() {\r\n\t\tvar dataset = this.getDataset();\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar total = 0;\r\n\t\tvar value;\r\n\r\n\t\thelpers$1.each(meta.data, function(element, index) {\r\n\t\t\tvalue = dataset.data[index];\r\n\t\t\tif (!isNaN(value) && !element.hidden) {\r\n\t\t\t\ttotal += Math.abs(value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t/* if (total === 0) {\r\n\t\t\ttotal = NaN;\r\n\t\t}*/\r\n\r\n\t\treturn total;\r\n\t},\r\n\r\n\tcalculateCircumference: function(value) {\r\n\t\tvar total = this.getMeta().total;\r\n\t\tif (total > 0 && !isNaN(value)) {\r\n\t\t\treturn DOUBLE_PI$1 * (Math.abs(value) / total);\r\n\t\t}\r\n\t\treturn 0;\r\n\t},\r\n\r\n\t// gets the max border or hover width to properly scale pie charts\r\n\tgetMaxBorderWidth: function(arcs) {\r\n\t\tvar me = this;\r\n\t\tvar max = 0;\r\n\t\tvar chart = me.chart;\r\n\t\tvar i, ilen, meta, arc, controller, options, borderWidth, hoverWidth;\r\n\r\n\t\tif (!arcs) {\r\n\t\t\t// Find the outmost visible dataset\r\n\t\t\tfor (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\r\n\t\t\t\tif (chart.isDatasetVisible(i)) {\r\n\t\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\t\tarcs = meta.data;\r\n\t\t\t\t\tif (i !== me.index) {\r\n\t\t\t\t\t\tcontroller = meta.controller;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!arcs) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarc = arcs[i];\r\n\t\t\tif (controller) {\r\n\t\t\t\tcontroller._configure();\r\n\t\t\t\toptions = controller._resolveDataElementOptions(arc, i);\r\n\t\t\t} else {\r\n\t\t\t\toptions = arc._options;\r\n\t\t\t}\r\n\t\t\tif (options.borderAlign !== 'inner') {\r\n\t\t\t\tborderWidth = options.borderWidth;\r\n\t\t\t\thoverWidth = options.hoverBorderWidth;\r\n\r\n\t\t\t\tmax = borderWidth > max ? borderWidth : max;\r\n\t\t\t\tmax = hoverWidth > max ? hoverWidth : max;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn max;\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(arc) {\r\n\t\tvar model = arc._model;\r\n\t\tvar options = arc._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tarc.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$5(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$5(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$5(options.hoverBorderWidth, options.borderWidth);\r\n\t},\r\n\r\n\t/**\r\n\t * Get radius length offset of the dataset in relation to the visible datasets weights. This allows determining the inner and outer radius correctly\r\n\t * @private\r\n\t */\r\n\t_getRingWeightOffset: function(datasetIndex) {\r\n\t\tvar ringWeightOffset = 0;\r\n\r\n\t\tfor (var i = 0; i < datasetIndex; ++i) {\r\n\t\t\tif (this.chart.isDatasetVisible(i)) {\r\n\t\t\t\tringWeightOffset += this._getRingWeight(i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ringWeightOffset;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getRingWeight: function(dataSetIndex) {\r\n\t\treturn Math.max(valueOrDefault$5(this.chart.data.datasets[dataSetIndex].weight, 1), 0);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the sum of all visibile data set weights.  This value can be 0.\r\n\t * @private\r\n\t */\r\n\t_getVisibleDatasetWeightTotal: function() {\r\n\t\treturn this._getRingWeightOffset(this.chart.data.datasets.length);\r\n\t}\r\n});\n\ncore_defaults._set('horizontalBar', {\r\n\thover: {\r\n\t\tmode: 'index',\r\n\t\taxis: 'y'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'bottom'\r\n\t\t}],\r\n\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\tposition: 'left',\r\n\t\t\toffset: true,\r\n\t\t\tgridLines: {\r\n\t\t\t\toffsetGridLines: true\r\n\t\t\t}\r\n\t\t}]\r\n\t},\r\n\r\n\telements: {\r\n\t\trectangle: {\r\n\t\t\tborderSkipped: 'left'\r\n\t\t}\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tmode: 'index',\r\n\t\taxis: 'y'\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\thorizontalBar: {\r\n\t\t\tcategoryPercentage: 0.8,\r\n\t\t\tbarPercentage: 0.9\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_horizontalBar = controller_bar.extend({\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.getMeta().xAxisID;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.getMeta().yAxisID;\r\n\t}\r\n});\n\nvar valueOrDefault$6 = helpers$1.valueOrDefault;\r\nvar resolve$2 = helpers$1.options.resolve;\r\nvar isPointInArea = helpers$1.canvas._isPointInArea;\r\n\r\ncore_defaults._set('line', {\r\n\tshowLines: true,\r\n\tspanGaps: false,\r\n\r\n\thover: {\r\n\t\tmode: 'label'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\ttype: 'category',\r\n\t\t\tid: 'x-axis-0'\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\ttype: 'linear',\r\n\t\t\tid: 'y-axis-0'\r\n\t\t}]\r\n\t}\r\n});\r\n\r\nfunction scaleClip(scale, halfBorderWidth) {\r\n\tvar tickOpts = scale && scale.options.ticks || {};\r\n\tvar reverse = tickOpts.reverse;\r\n\tvar min = tickOpts.min === undefined ? halfBorderWidth : 0;\r\n\tvar max = tickOpts.max === undefined ? halfBorderWidth : 0;\r\n\treturn {\r\n\t\tstart: reverse ? max : min,\r\n\t\tend: reverse ? min : max\r\n\t};\r\n}\r\n\r\nfunction defaultClip(xScale, yScale, borderWidth) {\r\n\tvar halfBorderWidth = borderWidth / 2;\r\n\tvar x = scaleClip(xScale, halfBorderWidth);\r\n\tvar y = scaleClip(yScale, halfBorderWidth);\r\n\r\n\treturn {\r\n\t\ttop: y.end,\r\n\t\tright: x.end,\r\n\t\tbottom: y.start,\r\n\t\tleft: x.start\r\n\t};\r\n}\r\n\r\nfunction toClip(value) {\r\n\tvar t, r, b, l;\r\n\r\n\tif (helpers$1.isObject(value)) {\r\n\t\tt = value.top;\r\n\t\tr = value.right;\r\n\t\tb = value.bottom;\r\n\t\tl = value.left;\r\n\t} else {\r\n\t\tt = r = b = l = value;\r\n\t}\r\n\r\n\treturn {\r\n\t\ttop: t,\r\n\t\tright: r,\r\n\t\tbottom: b,\r\n\t\tleft: l\r\n\t};\r\n}\r\n\r\n\r\nvar controller_line = core_datasetController.extend({\r\n\r\n\tdatasetElementType: elements.Line,\r\n\r\n\tdataElementType: elements.Point,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderColor',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'borderWidth',\r\n\t\t'cubicInterpolationMode',\r\n\t\t'fill'\r\n\t],\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: {\r\n\t\tbackgroundColor: 'pointBackgroundColor',\r\n\t\tborderColor: 'pointBorderColor',\r\n\t\tborderWidth: 'pointBorderWidth',\r\n\t\thitRadius: 'pointHitRadius',\r\n\t\thoverBackgroundColor: 'pointHoverBackgroundColor',\r\n\t\thoverBorderColor: 'pointHoverBorderColor',\r\n\t\thoverBorderWidth: 'pointHoverBorderWidth',\r\n\t\thoverRadius: 'pointHoverRadius',\r\n\t\tpointStyle: 'pointStyle',\r\n\t\tradius: 'pointRadius',\r\n\t\trotation: 'pointRotation'\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar line = meta.dataset;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar options = me.chart.options;\r\n\t\tvar config = me._config;\r\n\t\tvar showLine = me._showLine = valueOrDefault$6(config.showLine, options.showLines);\r\n\t\tvar i, ilen;\r\n\r\n\t\tme._xScale = me.getScaleForId(meta.xAxisID);\r\n\t\tme._yScale = me.getScaleForId(meta.yAxisID);\r\n\r\n\t\t// Update Line\r\n\t\tif (showLine) {\r\n\t\t\t// Compatibility: If the properties are defined with only the old name, use those values\r\n\t\t\tif (config.tension !== undefined && config.lineTension === undefined) {\r\n\t\t\t\tconfig.lineTension = config.tension;\r\n\t\t\t}\r\n\r\n\t\t\t// Utility\r\n\t\t\tline._scale = me._yScale;\r\n\t\t\tline._datasetIndex = me.index;\r\n\t\t\t// Data\r\n\t\t\tline._children = points;\r\n\t\t\t// Model\r\n\t\t\tline._model = me._resolveDatasetElementOptions(line);\r\n\r\n\t\t\tline.pivot();\r\n\t\t}\r\n\r\n\t\t// Update Points\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(points[i], i, reset);\r\n\t\t}\r\n\r\n\t\tif (showLine && line._model.tension !== 0) {\r\n\t\t\tme.updateBezierControlPoints();\r\n\t\t}\r\n\r\n\t\t// Now pivot the point for animation\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tpoints[i].pivot();\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar datasetIndex = me.index;\r\n\t\tvar value = dataset.data[index];\r\n\t\tvar xScale = me._xScale;\r\n\t\tvar yScale = me._yScale;\r\n\t\tvar lineModel = meta.dataset._model;\r\n\t\tvar x, y;\r\n\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\r\n\t\tx = xScale.getPixelForValue(typeof value === 'object' ? value : NaN, index, datasetIndex);\r\n\t\ty = reset ? yScale.getBasePixel() : me.calculatePointY(value, index, datasetIndex);\r\n\r\n\t\t// Utility\r\n\t\tpoint._xScale = xScale;\r\n\t\tpoint._yScale = yScale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = datasetIndex;\r\n\t\tpoint._index = index;\r\n\r\n\t\t// Desired view properties\r\n\t\tpoint._model = {\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\t// Appearance\r\n\t\t\tradius: options.radius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\ttension: valueOrDefault$6(custom.tension, lineModel ? lineModel.tension : 0),\r\n\t\t\tsteppedLine: lineModel ? lineModel.steppedLine : false,\r\n\t\t\t// Tooltip\r\n\t\t\thitRadius: options.hitRadius\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function(element) {\r\n\t\tvar me = this;\r\n\t\tvar config = me._config;\r\n\t\tvar custom = element.custom || {};\r\n\t\tvar options = me.chart.options;\r\n\t\tvar lineOptions = options.elements.line;\r\n\t\tvar values = core_datasetController.prototype._resolveDatasetElementOptions.apply(me, arguments);\r\n\r\n\t\t// The default behavior of lines is to break at null values, according\r\n\t\t// to https://github.com/chartjs/Chart.js/issues/2435#issuecomment-216718158\r\n\t\t// This option gives lines the ability to span gaps\r\n\t\tvalues.spanGaps = valueOrDefault$6(config.spanGaps, options.spanGaps);\r\n\t\tvalues.tension = valueOrDefault$6(config.lineTension, lineOptions.tension);\r\n\t\tvalues.steppedLine = resolve$2([custom.steppedLine, config.steppedLine, lineOptions.stepped]);\r\n\t\tvalues.clip = toClip(valueOrDefault$6(config.clip, defaultClip(me._xScale, me._yScale, values.borderWidth)));\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tcalculatePointY: function(value, index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar yScale = me._yScale;\r\n\t\tvar sumPos = 0;\r\n\t\tvar sumNeg = 0;\r\n\t\tvar i, ds, dsMeta, stackedRightValue, rightValue, metasets, ilen;\r\n\r\n\t\tif (yScale.options.stacked) {\r\n\t\t\trightValue = +yScale.getRightValue(value);\r\n\t\t\tmetasets = chart._getSortedVisibleDatasetMetas();\r\n\t\t\tilen = metasets.length;\r\n\r\n\t\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\t\tdsMeta = metasets[i];\r\n\t\t\t\tif (dsMeta.index === datasetIndex) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tds = chart.data.datasets[dsMeta.index];\r\n\t\t\t\tif (dsMeta.type === 'line' && dsMeta.yAxisID === yScale.id) {\r\n\t\t\t\t\tstackedRightValue = +yScale.getRightValue(ds.data[index]);\r\n\t\t\t\t\tif (stackedRightValue < 0) {\r\n\t\t\t\t\t\tsumNeg += stackedRightValue || 0;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsumPos += stackedRightValue || 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (rightValue < 0) {\r\n\t\t\t\treturn yScale.getPixelForValue(sumNeg + rightValue);\r\n\t\t\t}\r\n\t\t\treturn yScale.getPixelForValue(sumPos + rightValue);\r\n\t\t}\r\n\t\treturn yScale.getPixelForValue(value);\r\n\t},\r\n\r\n\tupdateBezierControlPoints: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar lineModel = meta.dataset._model;\r\n\t\tvar area = chart.chartArea;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar i, ilen, model, controlPoints;\r\n\r\n\t\t// Only consider points that are drawn in case the spanGaps option is used\r\n\t\tif (lineModel.spanGaps) {\r\n\t\t\tpoints = points.filter(function(pt) {\r\n\t\t\t\treturn !pt._model.skip;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction capControlPoint(pt, min, max) {\r\n\t\t\treturn Math.max(Math.min(pt, max), min);\r\n\t\t}\r\n\r\n\t\tif (lineModel.cubicInterpolationMode === 'monotone') {\r\n\t\t\thelpers$1.splineCurveMonotone(points);\r\n\t\t} else {\r\n\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\t\tmodel = points[i]._model;\r\n\t\t\t\tcontrolPoints = helpers$1.splineCurve(\r\n\t\t\t\t\thelpers$1.previousItem(points, i)._model,\r\n\t\t\t\t\tmodel,\r\n\t\t\t\t\thelpers$1.nextItem(points, i)._model,\r\n\t\t\t\t\tlineModel.tension\r\n\t\t\t\t);\r\n\t\t\t\tmodel.controlPointPreviousX = controlPoints.previous.x;\r\n\t\t\t\tmodel.controlPointPreviousY = controlPoints.previous.y;\r\n\t\t\t\tmodel.controlPointNextX = controlPoints.next.x;\r\n\t\t\t\tmodel.controlPointNextY = controlPoints.next.y;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (chart.options.elements.line.capBezierPoints) {\r\n\t\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\t\tmodel = points[i]._model;\r\n\t\t\t\tif (isPointInArea(model, area)) {\r\n\t\t\t\t\tif (i > 0 && isPointInArea(points[i - 1]._model, area)) {\r\n\t\t\t\t\t\tmodel.controlPointPreviousX = capControlPoint(model.controlPointPreviousX, area.left, area.right);\r\n\t\t\t\t\t\tmodel.controlPointPreviousY = capControlPoint(model.controlPointPreviousY, area.top, area.bottom);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (i < points.length - 1 && isPointInArea(points[i + 1]._model, area)) {\r\n\t\t\t\t\t\tmodel.controlPointNextX = capControlPoint(model.controlPointNextX, area.left, area.right);\r\n\t\t\t\t\t\tmodel.controlPointNextY = capControlPoint(model.controlPointNextY, area.top, area.bottom);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar points = meta.data || [];\r\n\t\tvar area = chart.chartArea;\r\n\t\tvar canvas = chart.canvas;\r\n\t\tvar i = 0;\r\n\t\tvar ilen = points.length;\r\n\t\tvar clip;\r\n\r\n\t\tif (me._showLine) {\r\n\t\t\tclip = meta.dataset._model.clip;\r\n\r\n\t\t\thelpers$1.canvas.clipArea(chart.ctx, {\r\n\t\t\t\tleft: clip.left === false ? 0 : area.left - clip.left,\r\n\t\t\t\tright: clip.right === false ? canvas.width : area.right + clip.right,\r\n\t\t\t\ttop: clip.top === false ? 0 : area.top - clip.top,\r\n\t\t\t\tbottom: clip.bottom === false ? canvas.height : area.bottom + clip.bottom\r\n\t\t\t});\r\n\r\n\t\t\tmeta.dataset.draw();\r\n\r\n\t\t\thelpers$1.canvas.unclipArea(chart.ctx);\r\n\t\t}\r\n\r\n\t\t// Draw the points\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\tpoints[i].draw(area);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(point) {\r\n\t\tvar model = point._model;\r\n\t\tvar options = point._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tpoint.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t\tradius: model.radius\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$6(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$6(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$6(options.hoverBorderWidth, options.borderWidth);\r\n\t\tmodel.radius = valueOrDefault$6(options.hoverRadius, options.radius);\r\n\t},\r\n});\n\nvar resolve$3 = helpers$1.options.resolve;\r\n\r\ncore_defaults._set('polarArea', {\r\n\tscale: {\r\n\t\ttype: 'radialLinear',\r\n\t\tangleLines: {\r\n\t\t\tdisplay: false\r\n\t\t},\r\n\t\tgridLines: {\r\n\t\t\tcircular: true\r\n\t\t},\r\n\t\tpointLabels: {\r\n\t\t\tdisplay: false\r\n\t\t},\r\n\t\tticks: {\r\n\t\t\tbeginAtZero: true\r\n\t\t}\r\n\t},\r\n\r\n\t// Boolean - Whether to animate the rotation of the chart\r\n\tanimation: {\r\n\t\tanimateRotate: true,\r\n\t\tanimateScale: true\r\n\t},\r\n\r\n\tstartAngle: -0.5 * Math.PI,\r\n\tlegendCallback: function(chart) {\r\n\t\tvar list = document.createElement('ul');\r\n\t\tvar data = chart.data;\r\n\t\tvar datasets = data.datasets;\r\n\t\tvar labels = data.labels;\r\n\t\tvar i, ilen, listItem, listItemSpan;\r\n\r\n\t\tlist.setAttribute('class', chart.id + '-legend');\r\n\t\tif (datasets.length) {\r\n\t\t\tfor (i = 0, ilen = datasets[0].data.length; i < ilen; ++i) {\r\n\t\t\t\tlistItem = list.appendChild(document.createElement('li'));\r\n\t\t\t\tlistItemSpan = listItem.appendChild(document.createElement('span'));\r\n\t\t\t\tlistItemSpan.style.backgroundColor = datasets[0].backgroundColor[i];\r\n\t\t\t\tif (labels[i]) {\r\n\t\t\t\t\tlistItem.appendChild(document.createTextNode(labels[i]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list.outerHTML;\r\n\t},\r\n\tlegend: {\r\n\t\tlabels: {\r\n\t\t\tgenerateLabels: function(chart) {\r\n\t\t\t\tvar data = chart.data;\r\n\t\t\t\tif (data.labels.length && data.datasets.length) {\r\n\t\t\t\t\treturn data.labels.map(function(label, i) {\r\n\t\t\t\t\t\tvar meta = chart.getDatasetMeta(0);\r\n\t\t\t\t\t\tvar style = meta.controller.getStyle(i);\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttext: label,\r\n\t\t\t\t\t\t\tfillStyle: style.backgroundColor,\r\n\t\t\t\t\t\t\tstrokeStyle: style.borderColor,\r\n\t\t\t\t\t\t\tlineWidth: style.borderWidth,\r\n\t\t\t\t\t\t\thidden: isNaN(data.datasets[0].data[i]) || meta.data[i].hidden,\r\n\r\n\t\t\t\t\t\t\t// Extra data used for toggling the correct item\r\n\t\t\t\t\t\t\tindex: i\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonClick: function(e, legendItem) {\r\n\t\t\tvar index = legendItem.index;\r\n\t\t\tvar chart = this.chart;\r\n\t\t\tvar i, ilen, meta;\r\n\r\n\t\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\tmeta.data[index].hidden = !meta.data[index].hidden;\r\n\t\t\t}\r\n\r\n\t\t\tchart.update();\r\n\t\t}\r\n\t},\r\n\r\n\t// Need to override these to give a nice default\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\t\t\tlabel: function(item, data) {\r\n\t\t\t\treturn data.labels[item.index] + ': ' + item.yLabel;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_polarArea = core_datasetController.extend({\r\n\r\n\tdataElementType: elements.Arc,\r\n\r\n\tlinkScales: helpers$1.noop,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderColor',\r\n\t\t'borderWidth',\r\n\t\t'borderAlign',\r\n\t\t'hoverBackgroundColor',\r\n\t\t'hoverBorderColor',\r\n\t\t'hoverBorderWidth',\r\n\t],\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar start = me.chart.options.startAngle || 0;\r\n\t\tvar starts = me._starts = [];\r\n\t\tvar angles = me._angles = [];\r\n\t\tvar arcs = meta.data;\r\n\t\tvar i, ilen, angle;\r\n\r\n\t\tme._updateRadius();\r\n\r\n\t\tmeta.count = me.countVisibleElements();\r\n\r\n\t\tfor (i = 0, ilen = dataset.data.length; i < ilen; i++) {\r\n\t\t\tstarts[i] = start;\r\n\t\t\tangle = me._computeAngle(i);\r\n\t\t\tangles[i] = angle;\r\n\t\t\tstart += angle;\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = arcs.length; i < ilen; ++i) {\r\n\t\t\tarcs[i]._options = me._resolveDataElementOptions(arcs[i], i);\r\n\t\t\tme.updateElement(arcs[i], i, reset);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_updateRadius: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar chartArea = chart.chartArea;\r\n\t\tvar opts = chart.options;\r\n\t\tvar minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\r\n\r\n\t\tchart.outerRadius = Math.max(minSize / 2, 0);\r\n\t\tchart.innerRadius = Math.max(opts.cutoutPercentage ? (chart.outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\r\n\t\tchart.radiusLength = (chart.outerRadius - chart.innerRadius) / chart.getVisibleDatasetCount();\r\n\r\n\t\tme.outerRadius = chart.outerRadius - (chart.radiusLength * me.index);\r\n\t\tme.innerRadius = me.outerRadius - chart.radiusLength;\r\n\t},\r\n\r\n\tupdateElement: function(arc, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar opts = chart.options;\r\n\t\tvar animationOpts = opts.animation;\r\n\t\tvar scale = chart.scale;\r\n\t\tvar labels = chart.data.labels;\r\n\r\n\t\tvar centerX = scale.xCenter;\r\n\t\tvar centerY = scale.yCenter;\r\n\r\n\t\t// var negHalfPI = -0.5 * Math.PI;\r\n\t\tvar datasetStartAngle = opts.startAngle;\r\n\t\tvar distance = arc.hidden ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\r\n\t\tvar startAngle = me._starts[index];\r\n\t\tvar endAngle = startAngle + (arc.hidden ? 0 : me._angles[index]);\r\n\r\n\t\tvar resetRadius = animationOpts.animateScale ? 0 : scale.getDistanceFromCenterForValue(dataset.data[index]);\r\n\t\tvar options = arc._options || {};\r\n\r\n\t\thelpers$1.extend(arc, {\r\n\t\t\t// Utility\r\n\t\t\t_datasetIndex: me.index,\r\n\t\t\t_index: index,\r\n\t\t\t_scale: scale,\r\n\r\n\t\t\t// Desired view properties\r\n\t\t\t_model: {\r\n\t\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\t\tborderColor: options.borderColor,\r\n\t\t\t\tborderWidth: options.borderWidth,\r\n\t\t\t\tborderAlign: options.borderAlign,\r\n\t\t\t\tx: centerX,\r\n\t\t\t\ty: centerY,\r\n\t\t\t\tinnerRadius: 0,\r\n\t\t\t\touterRadius: reset ? resetRadius : distance,\r\n\t\t\t\tstartAngle: reset && animationOpts.animateRotate ? datasetStartAngle : startAngle,\r\n\t\t\t\tendAngle: reset && animationOpts.animateRotate ? datasetStartAngle : endAngle,\r\n\t\t\t\tlabel: helpers$1.valueAtIndexOrDefault(labels, index, labels[index])\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tarc.pivot();\r\n\t},\r\n\r\n\tcountVisibleElements: function() {\r\n\t\tvar dataset = this.getDataset();\r\n\t\tvar meta = this.getMeta();\r\n\t\tvar count = 0;\r\n\r\n\t\thelpers$1.each(meta.data, function(element, index) {\r\n\t\t\tif (!isNaN(dataset.data[index]) && !element.hidden) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn count;\r\n\t},\r\n\r\n\t/**\r\n\t * @protected\r\n\t */\r\n\tsetHoverStyle: function(arc) {\r\n\t\tvar model = arc._model;\r\n\t\tvar options = arc._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\t\tvar valueOrDefault = helpers$1.valueOrDefault;\r\n\r\n\t\tarc.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault(options.hoverBorderWidth, options.borderWidth);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_computeAngle: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar count = this.getMeta().count;\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar meta = me.getMeta();\r\n\r\n\t\tif (isNaN(dataset.data[index]) || meta.data[index].hidden) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\t// Scriptable options\r\n\t\tvar context = {\r\n\t\t\tchart: me.chart,\r\n\t\t\tdataIndex: index,\r\n\t\t\tdataset: dataset,\r\n\t\t\tdatasetIndex: me.index\r\n\t\t};\r\n\r\n\t\treturn resolve$3([\r\n\t\t\tme.chart.options.elements.arc.angle,\r\n\t\t\t(2 * Math.PI) / count\r\n\t\t], context, index);\r\n\t}\r\n});\n\ncore_defaults._set('pie', helpers$1.clone(core_defaults.doughnut));\r\ncore_defaults._set('pie', {\r\n\tcutoutPercentage: 0\r\n});\r\n\r\n// Pie charts are Doughnut chart with different defaults\r\nvar controller_pie = controller_doughnut;\n\nvar valueOrDefault$7 = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('radar', {\r\n\tspanGaps: false,\r\n\tscale: {\r\n\t\ttype: 'radialLinear'\r\n\t},\r\n\telements: {\r\n\t\tline: {\r\n\t\t\tfill: 'start',\r\n\t\t\ttension: 0 // no bezier in radar\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar controller_radar = core_datasetController.extend({\r\n\tdatasetElementType: elements.Line,\r\n\r\n\tdataElementType: elements.Point,\r\n\r\n\tlinkScales: helpers$1.noop,\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_datasetElementOptions: [\r\n\t\t'backgroundColor',\r\n\t\t'borderWidth',\r\n\t\t'borderColor',\r\n\t\t'borderCapStyle',\r\n\t\t'borderDash',\r\n\t\t'borderDashOffset',\r\n\t\t'borderJoinStyle',\r\n\t\t'fill'\r\n\t],\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_dataElementOptions: {\r\n\t\tbackgroundColor: 'pointBackgroundColor',\r\n\t\tborderColor: 'pointBorderColor',\r\n\t\tborderWidth: 'pointBorderWidth',\r\n\t\thitRadius: 'pointHitRadius',\r\n\t\thoverBackgroundColor: 'pointHoverBackgroundColor',\r\n\t\thoverBorderColor: 'pointHoverBorderColor',\r\n\t\thoverBorderWidth: 'pointHoverBorderWidth',\r\n\t\thoverRadius: 'pointHoverRadius',\r\n\t\tpointStyle: 'pointStyle',\r\n\t\tradius: 'pointRadius',\r\n\t\trotation: 'pointRotation'\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getIndexScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getValueScaleId: function() {\r\n\t\treturn this.chart.scale.id;\r\n\t},\r\n\r\n\tupdate: function(reset) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar line = meta.dataset;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar scale = me.chart.scale;\r\n\t\tvar config = me._config;\r\n\t\tvar i, ilen;\r\n\r\n\t\t// Compatibility: If the properties are defined with only the old name, use those values\r\n\t\tif (config.tension !== undefined && config.lineTension === undefined) {\r\n\t\t\tconfig.lineTension = config.tension;\r\n\t\t}\r\n\r\n\t\t// Utility\r\n\t\tline._scale = scale;\r\n\t\tline._datasetIndex = me.index;\r\n\t\t// Data\r\n\t\tline._children = points;\r\n\t\tline._loop = true;\r\n\t\t// Model\r\n\t\tline._model = me._resolveDatasetElementOptions(line);\r\n\r\n\t\tline.pivot();\r\n\r\n\t\t// Update Points\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tme.updateElement(points[i], i, reset);\r\n\t\t}\r\n\r\n\t\t// Update bezier control points\r\n\t\tme.updateBezierControlPoints();\r\n\r\n\t\t// Now pivot the point for animation\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tpoints[i].pivot();\r\n\t\t}\r\n\t},\r\n\r\n\tupdateElement: function(point, index, reset) {\r\n\t\tvar me = this;\r\n\t\tvar custom = point.custom || {};\r\n\t\tvar dataset = me.getDataset();\r\n\t\tvar scale = me.chart.scale;\r\n\t\tvar pointPosition = scale.getPointPositionForValue(index, dataset.data[index]);\r\n\t\tvar options = me._resolveDataElementOptions(point, index);\r\n\t\tvar lineModel = me.getMeta().dataset._model;\r\n\t\tvar x = reset ? scale.xCenter : pointPosition.x;\r\n\t\tvar y = reset ? scale.yCenter : pointPosition.y;\r\n\r\n\t\t// Utility\r\n\t\tpoint._scale = scale;\r\n\t\tpoint._options = options;\r\n\t\tpoint._datasetIndex = me.index;\r\n\t\tpoint._index = index;\r\n\r\n\t\t// Desired view properties\r\n\t\tpoint._model = {\r\n\t\t\tx: x, // value not used in dataset scale, but we want a consistent API between scales\r\n\t\t\ty: y,\r\n\t\t\tskip: custom.skip || isNaN(x) || isNaN(y),\r\n\t\t\t// Appearance\r\n\t\t\tradius: options.radius,\r\n\t\t\tpointStyle: options.pointStyle,\r\n\t\t\trotation: options.rotation,\r\n\t\t\tbackgroundColor: options.backgroundColor,\r\n\t\t\tborderColor: options.borderColor,\r\n\t\t\tborderWidth: options.borderWidth,\r\n\t\t\ttension: valueOrDefault$7(custom.tension, lineModel ? lineModel.tension : 0),\r\n\r\n\t\t\t// Tooltip\r\n\t\t\thitRadius: options.hitRadius\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_resolveDatasetElementOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar config = me._config;\r\n\t\tvar options = me.chart.options;\r\n\t\tvar values = core_datasetController.prototype._resolveDatasetElementOptions.apply(me, arguments);\r\n\r\n\t\tvalues.spanGaps = valueOrDefault$7(config.spanGaps, options.spanGaps);\r\n\t\tvalues.tension = valueOrDefault$7(config.lineTension, options.elements.line.tension);\r\n\r\n\t\treturn values;\r\n\t},\r\n\r\n\tupdateBezierControlPoints: function() {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getMeta();\r\n\t\tvar area = me.chart.chartArea;\r\n\t\tvar points = meta.data || [];\r\n\t\tvar i, ilen, model, controlPoints;\r\n\r\n\t\t// Only consider points that are drawn in case the spanGaps option is used\r\n\t\tif (meta.dataset._model.spanGaps) {\r\n\t\t\tpoints = points.filter(function(pt) {\r\n\t\t\t\treturn !pt._model.skip;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction capControlPoint(pt, min, max) {\r\n\t\t\treturn Math.max(Math.min(pt, max), min);\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = points.length; i < ilen; ++i) {\r\n\t\t\tmodel = points[i]._model;\r\n\t\t\tcontrolPoints = helpers$1.splineCurve(\r\n\t\t\t\thelpers$1.previousItem(points, i, true)._model,\r\n\t\t\t\tmodel,\r\n\t\t\t\thelpers$1.nextItem(points, i, true)._model,\r\n\t\t\t\tmodel.tension\r\n\t\t\t);\r\n\r\n\t\t\t// Prevent the bezier going outside of the bounds of the graph\r\n\t\t\tmodel.controlPointPreviousX = capControlPoint(controlPoints.previous.x, area.left, area.right);\r\n\t\t\tmodel.controlPointPreviousY = capControlPoint(controlPoints.previous.y, area.top, area.bottom);\r\n\t\t\tmodel.controlPointNextX = capControlPoint(controlPoints.next.x, area.left, area.right);\r\n\t\t\tmodel.controlPointNextY = capControlPoint(controlPoints.next.y, area.top, area.bottom);\r\n\t\t}\r\n\t},\r\n\r\n\tsetHoverStyle: function(point) {\r\n\t\tvar model = point._model;\r\n\t\tvar options = point._options;\r\n\t\tvar getHoverColor = helpers$1.getHoverColor;\r\n\r\n\t\tpoint.$previousStyle = {\r\n\t\t\tbackgroundColor: model.backgroundColor,\r\n\t\t\tborderColor: model.borderColor,\r\n\t\t\tborderWidth: model.borderWidth,\r\n\t\t\tradius: model.radius\r\n\t\t};\r\n\r\n\t\tmodel.backgroundColor = valueOrDefault$7(options.hoverBackgroundColor, getHoverColor(options.backgroundColor));\r\n\t\tmodel.borderColor = valueOrDefault$7(options.hoverBorderColor, getHoverColor(options.borderColor));\r\n\t\tmodel.borderWidth = valueOrDefault$7(options.hoverBorderWidth, options.borderWidth);\r\n\t\tmodel.radius = valueOrDefault$7(options.hoverRadius, options.radius);\r\n\t}\r\n});\n\ncore_defaults._set('scatter', {\r\n\thover: {\r\n\t\tmode: 'single'\r\n\t},\r\n\r\n\tscales: {\r\n\t\txAxes: [{\r\n\t\t\tid: 'x-axis-1',    // need an ID so datasets can reference the scale\r\n\t\t\ttype: 'linear',    // scatter should not use a category axis\r\n\t\t\tposition: 'bottom'\r\n\t\t}],\r\n\t\tyAxes: [{\r\n\t\t\tid: 'y-axis-1',\r\n\t\t\ttype: 'linear',\r\n\t\t\tposition: 'left'\r\n\t\t}]\r\n\t},\r\n\r\n\ttooltips: {\r\n\t\tcallbacks: {\r\n\t\t\ttitle: function() {\r\n\t\t\t\treturn '';     // doesn't make sense for scatter since data are formatted as a point\r\n\t\t\t},\r\n\t\t\tlabel: function(item) {\r\n\t\t\t\treturn '(' + item.xLabel + ', ' + item.yLabel + ')';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\ncore_defaults._set('global', {\r\n\tdatasets: {\r\n\t\tscatter: {\r\n\t\t\tshowLine: false\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Scatter charts use line controllers\r\nvar controller_scatter = controller_line;\n\n// NOTE export a map in which the key represents the controller type, not\r\n// the class, and so must be CamelCase in order to be correctly retrieved\r\n// by the controller in core.controller.js (`controllers[meta.type]`).\r\n\r\nvar controllers = {\r\n\tbar: controller_bar,\r\n\tbubble: controller_bubble,\r\n\tdoughnut: controller_doughnut,\r\n\thorizontalBar: controller_horizontalBar,\r\n\tline: controller_line,\r\n\tpolarArea: controller_polarArea,\r\n\tpie: controller_pie,\r\n\tradar: controller_radar,\r\n\tscatter: controller_scatter\r\n};\n\n/**\r\n * Helper function to get relative position for an event\r\n * @param {Event|IEvent} event - The event to get the position for\r\n * @param {Chart} chart - The chart\r\n * @returns {object} the event position\r\n */\r\nfunction getRelativePosition(e, chart) {\r\n\tif (e.native) {\r\n\t\treturn {\r\n\t\t\tx: e.x,\r\n\t\t\ty: e.y\r\n\t\t};\r\n\t}\r\n\r\n\treturn helpers$1.getRelativePosition(e, chart);\r\n}\r\n\r\n/**\r\n * Helper function to traverse all of the visible elements in the chart\r\n * @param {Chart} chart - the chart\r\n * @param {function} handler - the callback to execute for each visible item\r\n */\r\nfunction parseVisibleItems(chart, handler) {\r\n\tvar metasets = chart._getSortedVisibleDatasetMetas();\r\n\tvar metadata, i, j, ilen, jlen, element;\r\n\r\n\tfor (i = 0, ilen = metasets.length; i < ilen; ++i) {\r\n\t\tmetadata = metasets[i].data;\r\n\t\tfor (j = 0, jlen = metadata.length; j < jlen; ++j) {\r\n\t\t\telement = metadata[j];\r\n\t\t\tif (!element._view.skip) {\r\n\t\t\t\thandler(element);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Helper function to get the items that intersect the event position\r\n * @param {ChartElement[]} items - elements to filter\r\n * @param {object} position - the point to be nearest to\r\n * @return {ChartElement[]} the nearest items\r\n */\r\nfunction getIntersectItems(chart, position) {\r\n\tvar elements = [];\r\n\r\n\tparseVisibleItems(chart, function(element) {\r\n\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\telements.push(element);\r\n\t\t}\r\n\t});\r\n\r\n\treturn elements;\r\n}\r\n\r\n/**\r\n * Helper function to get the items nearest to the event position considering all visible items in teh chart\r\n * @param {Chart} chart - the chart to look at elements from\r\n * @param {object} position - the point to be nearest to\r\n * @param {boolean} intersect - if true, only consider items that intersect the position\r\n * @param {function} distanceMetric - function to provide the distance between points\r\n * @return {ChartElement[]} the nearest items\r\n */\r\nfunction getNearestItems(chart, position, intersect, distanceMetric) {\r\n\tvar minDistance = Number.POSITIVE_INFINITY;\r\n\tvar nearestItems = [];\r\n\r\n\tparseVisibleItems(chart, function(element) {\r\n\t\tif (intersect && !element.inRange(position.x, position.y)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar center = element.getCenterPoint();\r\n\t\tvar distance = distanceMetric(position, center);\r\n\t\tif (distance < minDistance) {\r\n\t\t\tnearestItems = [element];\r\n\t\t\tminDistance = distance;\r\n\t\t} else if (distance === minDistance) {\r\n\t\t\t// Can have multiple items at the same distance in which case we sort by size\r\n\t\t\tnearestItems.push(element);\r\n\t\t}\r\n\t});\r\n\r\n\treturn nearestItems;\r\n}\r\n\r\n/**\r\n * Get a distance metric function for two points based on the\r\n * axis mode setting\r\n * @param {string} axis - the axis mode. x|y|xy\r\n */\r\nfunction getDistanceMetricForAxis(axis) {\r\n\tvar useX = axis.indexOf('x') !== -1;\r\n\tvar useY = axis.indexOf('y') !== -1;\r\n\r\n\treturn function(pt1, pt2) {\r\n\t\tvar deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\r\n\t\tvar deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\r\n\t\treturn Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\r\n\t};\r\n}\r\n\r\nfunction indexMode(chart, e, options) {\r\n\tvar position = getRelativePosition(e, chart);\r\n\t// Default axis for index mode is 'x' to match old behaviour\r\n\toptions.axis = options.axis || 'x';\r\n\tvar distanceMetric = getDistanceMetricForAxis(options.axis);\r\n\tvar items = options.intersect ? getIntersectItems(chart, position) : getNearestItems(chart, position, false, distanceMetric);\r\n\tvar elements = [];\r\n\r\n\tif (!items.length) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tchart._getSortedVisibleDatasetMetas().forEach(function(meta) {\r\n\t\tvar element = meta.data[items[0]._index];\r\n\r\n\t\t// don't count items that are skipped (null data)\r\n\t\tif (element && !element._view.skip) {\r\n\t\t\telements.push(element);\r\n\t\t}\r\n\t});\r\n\r\n\treturn elements;\r\n}\r\n\r\n/**\r\n * @interface IInteractionOptions\r\n */\r\n/**\r\n * If true, only consider items that intersect the point\r\n * @name IInterfaceOptions#boolean\r\n * @type Boolean\r\n */\r\n\r\n/**\r\n * Contains interaction related functions\r\n * @namespace Chart.Interaction\r\n */\r\nvar core_interaction = {\r\n\t// Helper function for different modes\r\n\tmodes: {\r\n\t\tsingle: function(chart, e) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\tvar elements = [];\r\n\r\n\t\t\tparseVisibleItems(chart, function(element) {\r\n\t\t\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\t\t\telements.push(element);\r\n\t\t\t\t\treturn elements;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn elements.slice(0, 1);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @function Chart.Interaction.modes.label\r\n\t\t * @deprecated since version 2.4.0\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\tlabel: indexMode,\r\n\r\n\t\t/**\r\n\t\t * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something\r\n\t\t * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item\r\n\t\t * @function Chart.Interaction.modes.index\r\n\t\t * @since v2.4.0\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use during interaction\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tindex: indexMode,\r\n\r\n\t\t/**\r\n\t\t * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something\r\n\t\t * If the options.intersect is false, we find the nearest item and return the items in that dataset\r\n\t\t * @function Chart.Interaction.modes.dataset\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use during interaction\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tdataset: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\toptions.axis = options.axis || 'xy';\r\n\t\t\tvar distanceMetric = getDistanceMetricForAxis(options.axis);\r\n\t\t\tvar items = options.intersect ? getIntersectItems(chart, position) : getNearestItems(chart, position, false, distanceMetric);\r\n\r\n\t\t\tif (items.length > 0) {\r\n\t\t\t\titems = chart.getDatasetMeta(items[0]._datasetIndex).data;\r\n\t\t\t}\r\n\r\n\t\t\treturn items;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @function Chart.Interaction.modes.x-axis\r\n\t\t * @deprecated since version 2.4.0. Use index mode and intersect == true\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\t'x-axis': function(chart, e) {\r\n\t\t\treturn indexMode(chart, e, {intersect: false});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Point mode returns all elements that hit test based on the event position\r\n\t\t * of the event\r\n\t\t * @function Chart.Interaction.modes.intersect\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tpoint: function(chart, e) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\treturn getIntersectItems(chart, position);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * nearest mode returns the element closest to the point\r\n\t\t * @function Chart.Interaction.modes.intersect\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tnearest: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\toptions.axis = options.axis || 'xy';\r\n\t\t\tvar distanceMetric = getDistanceMetricForAxis(options.axis);\r\n\t\t\treturn getNearestItems(chart, position, options.intersect, distanceMetric);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * x mode returns the elements that hit-test at the current x coordinate\r\n\t\t * @function Chart.Interaction.modes.x\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\tx: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\tvar items = [];\r\n\t\t\tvar intersectsItem = false;\r\n\r\n\t\t\tparseVisibleItems(chart, function(element) {\r\n\t\t\t\tif (element.inXRange(position.x)) {\r\n\t\t\t\t\titems.push(element);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\t\t\tintersectsItem = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// If we want to trigger on an intersect and we don't have any items\r\n\t\t\t// that intersect the position, return nothing\r\n\t\t\tif (options.intersect && !intersectsItem) {\r\n\t\t\t\titems = [];\r\n\t\t\t}\r\n\t\t\treturn items;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * y mode returns the elements that hit-test at the current y coordinate\r\n\t\t * @function Chart.Interaction.modes.y\r\n\t\t * @param {Chart} chart - the chart we are returning items from\r\n\t\t * @param {Event} e - the event we are find things at\r\n\t\t * @param {IInteractionOptions} options - options to use\r\n\t\t * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned\r\n\t\t */\r\n\t\ty: function(chart, e, options) {\r\n\t\t\tvar position = getRelativePosition(e, chart);\r\n\t\t\tvar items = [];\r\n\t\t\tvar intersectsItem = false;\r\n\r\n\t\t\tparseVisibleItems(chart, function(element) {\r\n\t\t\t\tif (element.inYRange(position.y)) {\r\n\t\t\t\t\titems.push(element);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (element.inRange(position.x, position.y)) {\r\n\t\t\t\t\tintersectsItem = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// If we want to trigger on an intersect and we don't have any items\r\n\t\t\t// that intersect the position, return nothing\r\n\t\t\tif (options.intersect && !intersectsItem) {\r\n\t\t\t\titems = [];\r\n\t\t\t}\r\n\t\t\treturn items;\r\n\t\t}\r\n\t}\r\n};\n\nvar extend = helpers$1.extend;\r\n\r\nfunction filterByPosition(array, position) {\r\n\treturn helpers$1.where(array, function(v) {\r\n\t\treturn v.pos === position;\r\n\t});\r\n}\r\n\r\nfunction sortByWeight(array, reverse) {\r\n\treturn array.sort(function(a, b) {\r\n\t\tvar v0 = reverse ? b : a;\r\n\t\tvar v1 = reverse ? a : b;\r\n\t\treturn v0.weight === v1.weight ?\r\n\t\t\tv0.index - v1.index :\r\n\t\t\tv0.weight - v1.weight;\r\n\t});\r\n}\r\n\r\nfunction wrapBoxes(boxes) {\r\n\tvar layoutBoxes = [];\r\n\tvar i, ilen, box;\r\n\r\n\tfor (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\r\n\t\tbox = boxes[i];\r\n\t\tlayoutBoxes.push({\r\n\t\t\tindex: i,\r\n\t\t\tbox: box,\r\n\t\t\tpos: box.position,\r\n\t\t\thorizontal: box.isHorizontal(),\r\n\t\t\tweight: box.weight\r\n\t\t});\r\n\t}\r\n\treturn layoutBoxes;\r\n}\r\n\r\nfunction setLayoutDims(layouts, params) {\r\n\tvar i, ilen, layout;\r\n\tfor (i = 0, ilen = layouts.length; i < ilen; ++i) {\r\n\t\tlayout = layouts[i];\r\n\t\t// store width used instead of chartArea.w in fitBoxes\r\n\t\tlayout.width = layout.horizontal\r\n\t\t\t? layout.box.fullWidth && params.availableWidth\r\n\t\t\t: params.vBoxMaxWidth;\r\n\t\t// store height used instead of chartArea.h in fitBoxes\r\n\t\tlayout.height = layout.horizontal && params.hBoxMaxHeight;\r\n\t}\r\n}\r\n\r\nfunction buildLayoutBoxes(boxes) {\r\n\tvar layoutBoxes = wrapBoxes(boxes);\r\n\tvar left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\r\n\tvar right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\r\n\tvar top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\r\n\tvar bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\r\n\r\n\treturn {\r\n\t\tleftAndTop: left.concat(top),\r\n\t\trightAndBottom: right.concat(bottom),\r\n\t\tchartArea: filterByPosition(layoutBoxes, 'chartArea'),\r\n\t\tvertical: left.concat(right),\r\n\t\thorizontal: top.concat(bottom)\r\n\t};\r\n}\r\n\r\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\r\n\treturn Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\r\n}\r\n\r\nfunction updateDims(chartArea, params, layout) {\r\n\tvar box = layout.box;\r\n\tvar maxPadding = chartArea.maxPadding;\r\n\tvar newWidth, newHeight;\r\n\r\n\tif (layout.size) {\r\n\t\t// this layout was already counted for, lets first reduce old size\r\n\t\tchartArea[layout.pos] -= layout.size;\r\n\t}\r\n\tlayout.size = layout.horizontal ? box.height : box.width;\r\n\tchartArea[layout.pos] += layout.size;\r\n\r\n\tif (box.getPadding) {\r\n\t\tvar boxPadding = box.getPadding();\r\n\t\tmaxPadding.top = Math.max(maxPadding.top, boxPadding.top);\r\n\t\tmaxPadding.left = Math.max(maxPadding.left, boxPadding.left);\r\n\t\tmaxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\r\n\t\tmaxPadding.right = Math.max(maxPadding.right, boxPadding.right);\r\n\t}\r\n\r\n\tnewWidth = params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right');\r\n\tnewHeight = params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom');\r\n\r\n\tif (newWidth !== chartArea.w || newHeight !== chartArea.h) {\r\n\t\tchartArea.w = newWidth;\r\n\t\tchartArea.h = newHeight;\r\n\r\n\t\t// return true if chart area changed in layout's direction\r\n\t\tvar sizes = layout.horizontal ? [newWidth, chartArea.w] : [newHeight, chartArea.h];\r\n\t\treturn sizes[0] !== sizes[1] && (!isNaN(sizes[0]) || !isNaN(sizes[1]));\r\n\t}\r\n}\r\n\r\nfunction handleMaxPadding(chartArea) {\r\n\tvar maxPadding = chartArea.maxPadding;\r\n\r\n\tfunction updatePos(pos) {\r\n\t\tvar change = Math.max(maxPadding[pos] - chartArea[pos], 0);\r\n\t\tchartArea[pos] += change;\r\n\t\treturn change;\r\n\t}\r\n\tchartArea.y += updatePos('top');\r\n\tchartArea.x += updatePos('left');\r\n\tupdatePos('right');\r\n\tupdatePos('bottom');\r\n}\r\n\r\nfunction getMargins(horizontal, chartArea) {\r\n\tvar maxPadding = chartArea.maxPadding;\r\n\r\n\tfunction marginForPositions(positions) {\r\n\t\tvar margin = {left: 0, top: 0, right: 0, bottom: 0};\r\n\t\tpositions.forEach(function(pos) {\r\n\t\t\tmargin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\r\n\t\t});\r\n\t\treturn margin;\r\n\t}\r\n\r\n\treturn horizontal\r\n\t\t? marginForPositions(['left', 'right'])\r\n\t\t: marginForPositions(['top', 'bottom']);\r\n}\r\n\r\nfunction fitBoxes(boxes, chartArea, params) {\r\n\tvar refitBoxes = [];\r\n\tvar i, ilen, layout, box, refit, changed;\r\n\r\n\tfor (i = 0, ilen = boxes.length; i < ilen; ++i) {\r\n\t\tlayout = boxes[i];\r\n\t\tbox = layout.box;\r\n\r\n\t\tbox.update(\r\n\t\t\tlayout.width || chartArea.w,\r\n\t\t\tlayout.height || chartArea.h,\r\n\t\t\tgetMargins(layout.horizontal, chartArea)\r\n\t\t);\r\n\t\tif (updateDims(chartArea, params, layout)) {\r\n\t\t\tchanged = true;\r\n\t\t\tif (refitBoxes.length) {\r\n\t\t\t\t// Dimensions changed and there were non full width boxes before this\r\n\t\t\t\t// -> we have to refit those\r\n\t\t\t\trefit = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!box.fullWidth) { // fullWidth boxes don't need to be re-fitted in any case\r\n\t\t\trefitBoxes.push(layout);\r\n\t\t}\r\n\t}\r\n\r\n\treturn refit ? fitBoxes(refitBoxes, chartArea, params) || changed : changed;\r\n}\r\n\r\nfunction placeBoxes(boxes, chartArea, params) {\r\n\tvar userPadding = params.padding;\r\n\tvar x = chartArea.x;\r\n\tvar y = chartArea.y;\r\n\tvar i, ilen, layout, box;\r\n\r\n\tfor (i = 0, ilen = boxes.length; i < ilen; ++i) {\r\n\t\tlayout = boxes[i];\r\n\t\tbox = layout.box;\r\n\t\tif (layout.horizontal) {\r\n\t\t\tbox.left = box.fullWidth ? userPadding.left : chartArea.left;\r\n\t\t\tbox.right = box.fullWidth ? params.outerWidth - userPadding.right : chartArea.left + chartArea.w;\r\n\t\t\tbox.top = y;\r\n\t\t\tbox.bottom = y + box.height;\r\n\t\t\tbox.width = box.right - box.left;\r\n\t\t\ty = box.bottom;\r\n\t\t} else {\r\n\t\t\tbox.left = x;\r\n\t\t\tbox.right = x + box.width;\r\n\t\t\tbox.top = chartArea.top;\r\n\t\t\tbox.bottom = chartArea.top + chartArea.h;\r\n\t\t\tbox.height = box.bottom - box.top;\r\n\t\t\tx = box.right;\r\n\t\t}\r\n\t}\r\n\r\n\tchartArea.x = x;\r\n\tchartArea.y = y;\r\n}\r\n\r\ncore_defaults._set('global', {\r\n\tlayout: {\r\n\t\tpadding: {\r\n\t\t\ttop: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/**\r\n * @interface ILayoutItem\r\n * @prop {string} position - The position of the item in the chart layout. Possible values are\r\n * 'left', 'top', 'right', 'bottom', and 'chartArea'\r\n * @prop {number} weight - The weight used to sort the item. Higher weights are further away from the chart area\r\n * @prop {boolean} fullWidth - if true, and the item is horizontal, then push vertical boxes down\r\n * @prop {function} isHorizontal - returns true if the layout item is horizontal (ie. top or bottom)\r\n * @prop {function} update - Takes two parameters: width and height. Returns size of item\r\n * @prop {function} getPadding -  Returns an object with padding on the edges\r\n * @prop {number} width - Width of item. Must be valid after update()\r\n * @prop {number} height - Height of item. Must be valid after update()\r\n * @prop {number} left - Left edge of the item. Set by layout system and cannot be used in update\r\n * @prop {number} top - Top edge of the item. Set by layout system and cannot be used in update\r\n * @prop {number} right - Right edge of the item. Set by layout system and cannot be used in update\r\n * @prop {number} bottom - Bottom edge of the item. Set by layout system and cannot be used in update\r\n */\r\n\r\n// The layout service is very self explanatory.  It's responsible for the layout within a chart.\r\n// Scales, Legends and Plugins all rely on the layout service and can easily register to be placed anywhere they need\r\n// It is this service's responsibility of carrying out that layout.\r\nvar core_layouts = {\r\n\tdefaults: {},\r\n\r\n\t/**\r\n\t * Register a box to a chart.\r\n\t * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.\r\n\t * @param {Chart} chart - the chart to use\r\n\t * @param {ILayoutItem} item - the item to add to be layed out\r\n\t */\r\n\taddBox: function(chart, item) {\r\n\t\tif (!chart.boxes) {\r\n\t\t\tchart.boxes = [];\r\n\t\t}\r\n\r\n\t\t// initialize item with default values\r\n\t\titem.fullWidth = item.fullWidth || false;\r\n\t\titem.position = item.position || 'top';\r\n\t\titem.weight = item.weight || 0;\r\n\t\titem._layers = item._layers || function() {\r\n\t\t\treturn [{\r\n\t\t\t\tz: 0,\r\n\t\t\t\tdraw: function() {\r\n\t\t\t\t\titem.draw.apply(item, arguments);\r\n\t\t\t\t}\r\n\t\t\t}];\r\n\t\t};\r\n\r\n\t\tchart.boxes.push(item);\r\n\t},\r\n\r\n\t/**\r\n\t * Remove a layoutItem from a chart\r\n\t * @param {Chart} chart - the chart to remove the box from\r\n\t * @param {ILayoutItem} layoutItem - the item to remove from the layout\r\n\t */\r\n\tremoveBox: function(chart, layoutItem) {\r\n\t\tvar index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\r\n\t\tif (index !== -1) {\r\n\t\t\tchart.boxes.splice(index, 1);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Sets (or updates) options on the given `item`.\r\n\t * @param {Chart} chart - the chart in which the item lives (or will be added to)\r\n\t * @param {ILayoutItem} item - the item to configure with the given options\r\n\t * @param {object} options - the new item options.\r\n\t */\r\n\tconfigure: function(chart, item, options) {\r\n\t\tvar props = ['fullWidth', 'position', 'weight'];\r\n\t\tvar ilen = props.length;\r\n\t\tvar i = 0;\r\n\t\tvar prop;\r\n\r\n\t\tfor (; i < ilen; ++i) {\r\n\t\t\tprop = props[i];\r\n\t\t\tif (options.hasOwnProperty(prop)) {\r\n\t\t\t\titem[prop] = options[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Fits boxes of the given chart into the given size by having each box measure itself\r\n\t * then running a fitting algorithm\r\n\t * @param {Chart} chart - the chart\r\n\t * @param {number} width - the width to fit into\r\n\t * @param {number} height - the height to fit into\r\n\t */\r\n\tupdate: function(chart, width, height) {\r\n\t\tif (!chart) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar layoutOptions = chart.options.layout || {};\r\n\t\tvar padding = helpers$1.options.toPadding(layoutOptions.padding);\r\n\r\n\t\tvar availableWidth = width - padding.width;\r\n\t\tvar availableHeight = height - padding.height;\r\n\t\tvar boxes = buildLayoutBoxes(chart.boxes);\r\n\t\tvar verticalBoxes = boxes.vertical;\r\n\t\tvar horizontalBoxes = boxes.horizontal;\r\n\r\n\t\t// Essentially we now have any number of boxes on each of the 4 sides.\r\n\t\t// Our canvas looks like the following.\r\n\t\t// The areas L1 and L2 are the left axes. R1 is the right axis, T1 is the top axis and\r\n\t\t// B1 is the bottom axis\r\n\t\t// There are also 4 quadrant-like locations (left to right instead of clockwise) reserved for chart overlays\r\n\t\t// These locations are single-box locations only, when trying to register a chartArea location that is already taken,\r\n\t\t// an error will be thrown.\r\n\t\t//\r\n\t\t// |----------------------------------------------------|\r\n\t\t// |                  T1 (Full Width)                   |\r\n\t\t// |----------------------------------------------------|\r\n\t\t// |    |    |                 T2                  |    |\r\n\t\t// |    |----|-------------------------------------|----|\r\n\t\t// |    |    | C1 |                           | C2 |    |\r\n\t\t// |    |    |----|                           |----|    |\r\n\t\t// |    |    |                                     |    |\r\n\t\t// | L1 | L2 |           ChartArea (C0)            | R1 |\r\n\t\t// |    |    |                                     |    |\r\n\t\t// |    |    |----|                           |----|    |\r\n\t\t// |    |    | C3 |                           | C4 |    |\r\n\t\t// |    |----|-------------------------------------|----|\r\n\t\t// |    |    |                 B1                  |    |\r\n\t\t// |----------------------------------------------------|\r\n\t\t// |                  B2 (Full Width)                   |\r\n\t\t// |----------------------------------------------------|\r\n\t\t//\r\n\r\n\t\tvar params = Object.freeze({\r\n\t\t\touterWidth: width,\r\n\t\t\touterHeight: height,\r\n\t\t\tpadding: padding,\r\n\t\t\tavailableWidth: availableWidth,\r\n\t\t\tvBoxMaxWidth: availableWidth / 2 / verticalBoxes.length,\r\n\t\t\thBoxMaxHeight: availableHeight / 2\r\n\t\t});\r\n\t\tvar chartArea = extend({\r\n\t\t\tmaxPadding: extend({}, padding),\r\n\t\t\tw: availableWidth,\r\n\t\t\th: availableHeight,\r\n\t\t\tx: padding.left,\r\n\t\t\ty: padding.top\r\n\t\t}, padding);\r\n\r\n\t\tsetLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\r\n\r\n\t\t// First fit vertical boxes\r\n\t\tfitBoxes(verticalBoxes, chartArea, params);\r\n\r\n\t\t// Then fit horizontal boxes\r\n\t\tif (fitBoxes(horizontalBoxes, chartArea, params)) {\r\n\t\t\t// if the area changed, re-fit vertical boxes\r\n\t\t\tfitBoxes(verticalBoxes, chartArea, params);\r\n\t\t}\r\n\r\n\t\thandleMaxPadding(chartArea);\r\n\r\n\t\t// Finally place the boxes to correct coordinates\r\n\t\tplaceBoxes(boxes.leftAndTop, chartArea, params);\r\n\r\n\t\t// Move to opposite side of chart\r\n\t\tchartArea.x += chartArea.w;\r\n\t\tchartArea.y += chartArea.h;\r\n\r\n\t\tplaceBoxes(boxes.rightAndBottom, chartArea, params);\r\n\r\n\t\tchart.chartArea = {\r\n\t\t\tleft: chartArea.left,\r\n\t\t\ttop: chartArea.top,\r\n\t\t\tright: chartArea.left + chartArea.w,\r\n\t\t\tbottom: chartArea.top + chartArea.h\r\n\t\t};\r\n\r\n\t\t// Finally update boxes in chartArea (radial scale for example)\r\n\t\thelpers$1.each(boxes.chartArea, function(layout) {\r\n\t\t\tvar box = layout.box;\r\n\t\t\textend(box, chart.chartArea);\r\n\t\t\tbox.update(chartArea.w, chartArea.h);\r\n\t\t});\r\n\t}\r\n};\n\n/**\r\n * Platform fallback implementation (minimal).\r\n * @see https://github.com/chartjs/Chart.js/pull/4591#issuecomment-319575939\r\n */\r\n\r\nvar platform_basic = {\r\n\tacquireContext: function(item) {\r\n\t\tif (item && item.canvas) {\r\n\t\t\t// Support for any object associated to a canvas (including a context2d)\r\n\t\t\titem = item.canvas;\r\n\t\t}\r\n\r\n\t\treturn item && item.getContext('2d') || null;\r\n\t}\r\n};\n\nvar platform_dom = \"/*\\r\\n * DOM element rendering detection\\r\\n * https://davidwalsh.name/detect-node-insertion\\r\\n */\\r\\n@keyframes chartjs-render-animation {\\r\\n\\tfrom { opacity: 0.99; }\\r\\n\\tto { opacity: 1; }\\r\\n}\\r\\n\\r\\n.chartjs-render-monitor {\\r\\n\\tanimation: chartjs-render-animation 0.001s;\\r\\n}\\r\\n\\r\\n/*\\r\\n * DOM element resizing detection\\r\\n * https://github.com/marcj/css-element-queries\\r\\n */\\r\\n.chartjs-size-monitor,\\r\\n.chartjs-size-monitor-expand,\\r\\n.chartjs-size-monitor-shrink {\\r\\n\\tposition: absolute;\\r\\n\\tdirection: ltr;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n\\tright: 0;\\r\\n\\tbottom: 0;\\r\\n\\toverflow: hidden;\\r\\n\\tpointer-events: none;\\r\\n\\tvisibility: hidden;\\r\\n\\tz-index: -1;\\r\\n}\\r\\n\\r\\n.chartjs-size-monitor-expand > div {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 1000000px;\\r\\n\\theight: 1000000px;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n}\\r\\n\\r\\n.chartjs-size-monitor-shrink > div {\\r\\n\\tposition: absolute;\\r\\n\\twidth: 200%;\\r\\n\\theight: 200%;\\r\\n\\tleft: 0;\\r\\n\\ttop: 0;\\r\\n}\\r\\n\";\n\nvar platform_dom$1 = /*#__PURE__*/Object.freeze({\n__proto__: null,\n'default': platform_dom\n});\n\nvar stylesheet = getCjsExportFromNamespace(platform_dom$1);\n\nvar EXPANDO_KEY = '$chartjs';\r\nvar CSS_PREFIX = 'chartjs-';\r\nvar CSS_SIZE_MONITOR = CSS_PREFIX + 'size-monitor';\r\nvar CSS_RENDER_MONITOR = CSS_PREFIX + 'render-monitor';\r\nvar CSS_RENDER_ANIMATION = CSS_PREFIX + 'render-animation';\r\nvar ANIMATION_START_EVENTS = ['animationstart', 'webkitAnimationStart'];\r\n\r\n/**\r\n * DOM event types -> Chart.js event types.\r\n * Note: only events with different types are mapped.\r\n * @see https://developer.mozilla.org/en-US/docs/Web/Events\r\n */\r\nvar EVENT_TYPES = {\r\n\ttouchstart: 'mousedown',\r\n\ttouchmove: 'mousemove',\r\n\ttouchend: 'mouseup',\r\n\tpointerenter: 'mouseenter',\r\n\tpointerdown: 'mousedown',\r\n\tpointermove: 'mousemove',\r\n\tpointerup: 'mouseup',\r\n\tpointerleave: 'mouseout',\r\n\tpointerout: 'mouseout'\r\n};\r\n\r\n/**\r\n * The \"used\" size is the final value of a dimension property after all calculations have\r\n * been performed. This method uses the computed style of `element` but returns undefined\r\n * if the computed style is not expressed in pixels. That can happen in some cases where\r\n * `element` has a size relative to its parent and this last one is not yet displayed,\r\n * for example because of `display: none` on a parent node.\r\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\r\n * @returns {number} Size in pixels or undefined if unknown.\r\n */\r\nfunction readUsedSize(element, property) {\r\n\tvar value = helpers$1.getStyle(element, property);\r\n\tvar matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\r\n\treturn matches ? Number(matches[1]) : undefined;\r\n}\r\n\r\n/**\r\n * Initializes the canvas style and render size without modifying the canvas display size,\r\n * since responsiveness is handled by the controller.resize() method. The config is used\r\n * to determine the aspect ratio to apply in case no explicit height has been specified.\r\n */\r\nfunction initCanvas(canvas, config) {\r\n\tvar style = canvas.style;\r\n\r\n\t// NOTE(SB) canvas.getAttribute('width') !== canvas.width: in the first case it\r\n\t// returns null or '' if no explicit value has been set to the canvas attribute.\r\n\tvar renderHeight = canvas.getAttribute('height');\r\n\tvar renderWidth = canvas.getAttribute('width');\r\n\r\n\t// Chart.js modifies some canvas values that we want to restore on destroy\r\n\tcanvas[EXPANDO_KEY] = {\r\n\t\tinitial: {\r\n\t\t\theight: renderHeight,\r\n\t\t\twidth: renderWidth,\r\n\t\t\tstyle: {\r\n\t\t\t\tdisplay: style.display,\r\n\t\t\t\theight: style.height,\r\n\t\t\t\twidth: style.width\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// Force canvas to display as block to avoid extra space caused by inline\r\n\t// elements, which would interfere with the responsive resize process.\r\n\t// https://github.com/chartjs/Chart.js/issues/2538\r\n\tstyle.display = style.display || 'block';\r\n\r\n\tif (renderWidth === null || renderWidth === '') {\r\n\t\tvar displayWidth = readUsedSize(canvas, 'width');\r\n\t\tif (displayWidth !== undefined) {\r\n\t\t\tcanvas.width = displayWidth;\r\n\t\t}\r\n\t}\r\n\r\n\tif (renderHeight === null || renderHeight === '') {\r\n\t\tif (canvas.style.height === '') {\r\n\t\t\t// If no explicit render height and style height, let's apply the aspect ratio,\r\n\t\t\t// which one can be specified by the user but also by charts as default option\r\n\t\t\t// (i.e. options.aspectRatio). If not specified, use canvas aspect ratio of 2.\r\n\t\t\tcanvas.height = canvas.width / (config.options.aspectRatio || 2);\r\n\t\t} else {\r\n\t\t\tvar displayHeight = readUsedSize(canvas, 'height');\r\n\t\t\tif (displayWidth !== undefined) {\r\n\t\t\t\tcanvas.height = displayHeight;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn canvas;\r\n}\r\n\r\n/**\r\n * Detects support for options object argument in addEventListener.\r\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\r\n * @private\r\n */\r\nvar supportsEventListenerOptions = (function() {\r\n\tvar supports = false;\r\n\ttry {\r\n\t\tvar options = Object.defineProperty({}, 'passive', {\r\n\t\t\t// eslint-disable-next-line getter-return\r\n\t\t\tget: function() {\r\n\t\t\t\tsupports = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\twindow.addEventListener('e', null, options);\r\n\t} catch (e) {\r\n\t\t// continue regardless of error\r\n\t}\r\n\treturn supports;\r\n}());\r\n\r\n// Default passive to true as expected by Chrome for 'touchstart' and 'touchend' events.\r\n// https://github.com/chartjs/Chart.js/issues/4287\r\nvar eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\r\n\r\nfunction addListener(node, type, listener) {\r\n\tnode.addEventListener(type, listener, eventListenerOptions);\r\n}\r\n\r\nfunction removeListener(node, type, listener) {\r\n\tnode.removeEventListener(type, listener, eventListenerOptions);\r\n}\r\n\r\nfunction createEvent(type, chart, x, y, nativeEvent) {\r\n\treturn {\r\n\t\ttype: type,\r\n\t\tchart: chart,\r\n\t\tnative: nativeEvent || null,\r\n\t\tx: x !== undefined ? x : null,\r\n\t\ty: y !== undefined ? y : null,\r\n\t};\r\n}\r\n\r\nfunction fromNativeEvent(event, chart) {\r\n\tvar type = EVENT_TYPES[event.type] || event.type;\r\n\tvar pos = helpers$1.getRelativePosition(event, chart);\r\n\treturn createEvent(type, chart, pos.x, pos.y, event);\r\n}\r\n\r\nfunction throttled(fn, thisArg) {\r\n\tvar ticking = false;\r\n\tvar args = [];\r\n\r\n\treturn function() {\r\n\t\targs = Array.prototype.slice.call(arguments);\r\n\t\tthisArg = thisArg || this;\r\n\r\n\t\tif (!ticking) {\r\n\t\t\tticking = true;\r\n\t\t\thelpers$1.requestAnimFrame.call(window, function() {\r\n\t\t\t\tticking = false;\r\n\t\t\t\tfn.apply(thisArg, args);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction createDiv(cls) {\r\n\tvar el = document.createElement('div');\r\n\tel.className = cls || '';\r\n\treturn el;\r\n}\r\n\r\n// Implementation based on https://github.com/marcj/css-element-queries\r\nfunction createResizer(handler) {\r\n\tvar maxSize = 1000000;\r\n\r\n\t// NOTE(SB) Don't use innerHTML because it could be considered unsafe.\r\n\t// https://github.com/chartjs/Chart.js/issues/5902\r\n\tvar resizer = createDiv(CSS_SIZE_MONITOR);\r\n\tvar expand = createDiv(CSS_SIZE_MONITOR + '-expand');\r\n\tvar shrink = createDiv(CSS_SIZE_MONITOR + '-shrink');\r\n\r\n\texpand.appendChild(createDiv());\r\n\tshrink.appendChild(createDiv());\r\n\r\n\tresizer.appendChild(expand);\r\n\tresizer.appendChild(shrink);\r\n\tresizer._reset = function() {\r\n\t\texpand.scrollLeft = maxSize;\r\n\t\texpand.scrollTop = maxSize;\r\n\t\tshrink.scrollLeft = maxSize;\r\n\t\tshrink.scrollTop = maxSize;\r\n\t};\r\n\r\n\tvar onScroll = function() {\r\n\t\tresizer._reset();\r\n\t\thandler();\r\n\t};\r\n\r\n\taddListener(expand, 'scroll', onScroll.bind(expand, 'expand'));\r\n\taddListener(shrink, 'scroll', onScroll.bind(shrink, 'shrink'));\r\n\r\n\treturn resizer;\r\n}\r\n\r\n// https://davidwalsh.name/detect-node-insertion\r\nfunction watchForRender(node, handler) {\r\n\tvar expando = node[EXPANDO_KEY] || (node[EXPANDO_KEY] = {});\r\n\tvar proxy = expando.renderProxy = function(e) {\r\n\t\tif (e.animationName === CSS_RENDER_ANIMATION) {\r\n\t\t\thandler();\r\n\t\t}\r\n\t};\r\n\r\n\thelpers$1.each(ANIMATION_START_EVENTS, function(type) {\r\n\t\taddListener(node, type, proxy);\r\n\t});\r\n\r\n\t// #4737: Chrome might skip the CSS animation when the CSS_RENDER_MONITOR class\r\n\t// is removed then added back immediately (same animation frame?). Accessing the\r\n\t// `offsetParent` property will force a reflow and re-evaluate the CSS animation.\r\n\t// https://gist.github.com/paulirish/5d52fb081b3570c81e3a#box-metrics\r\n\t// https://github.com/chartjs/Chart.js/issues/4737\r\n\texpando.reflow = !!node.offsetParent;\r\n\r\n\tnode.classList.add(CSS_RENDER_MONITOR);\r\n}\r\n\r\nfunction unwatchForRender(node) {\r\n\tvar expando = node[EXPANDO_KEY] || {};\r\n\tvar proxy = expando.renderProxy;\r\n\r\n\tif (proxy) {\r\n\t\thelpers$1.each(ANIMATION_START_EVENTS, function(type) {\r\n\t\t\tremoveListener(node, type, proxy);\r\n\t\t});\r\n\r\n\t\tdelete expando.renderProxy;\r\n\t}\r\n\r\n\tnode.classList.remove(CSS_RENDER_MONITOR);\r\n}\r\n\r\nfunction addResizeListener(node, listener, chart) {\r\n\tvar expando = node[EXPANDO_KEY] || (node[EXPANDO_KEY] = {});\r\n\r\n\t// Let's keep track of this added resizer and thus avoid DOM query when removing it.\r\n\tvar resizer = expando.resizer = createResizer(throttled(function() {\r\n\t\tif (expando.resizer) {\r\n\t\t\tvar container = chart.options.maintainAspectRatio && node.parentNode;\r\n\t\t\tvar w = container ? container.clientWidth : 0;\r\n\t\t\tlistener(createEvent('resize', chart));\r\n\t\t\tif (container && container.clientWidth < w && chart.canvas) {\r\n\t\t\t\t// If the container size shrank during chart resize, let's assume\r\n\t\t\t\t// scrollbar appeared. So we resize again with the scrollbar visible -\r\n\t\t\t\t// effectively making chart smaller and the scrollbar hidden again.\r\n\t\t\t\t// Because we are inside `throttled`, and currently `ticking`, scroll\r\n\t\t\t\t// events are ignored during this whole 2 resize process.\r\n\t\t\t\t// If we assumed wrong and something else happened, we are resizing\r\n\t\t\t\t// twice in a frame (potential performance issue)\r\n\t\t\t\tlistener(createEvent('resize', chart));\r\n\t\t\t}\r\n\t\t}\r\n\t}));\r\n\r\n\t// The resizer needs to be attached to the node parent, so we first need to be\r\n\t// sure that `node` is attached to the DOM before injecting the resizer element.\r\n\twatchForRender(node, function() {\r\n\t\tif (expando.resizer) {\r\n\t\t\tvar container = node.parentNode;\r\n\t\t\tif (container && container !== resizer.parentNode) {\r\n\t\t\t\tcontainer.insertBefore(resizer, container.firstChild);\r\n\t\t\t}\r\n\r\n\t\t\t// The container size might have changed, let's reset the resizer state.\r\n\t\t\tresizer._reset();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction removeResizeListener(node) {\r\n\tvar expando = node[EXPANDO_KEY] || {};\r\n\tvar resizer = expando.resizer;\r\n\r\n\tdelete expando.resizer;\r\n\tunwatchForRender(node);\r\n\r\n\tif (resizer && resizer.parentNode) {\r\n\t\tresizer.parentNode.removeChild(resizer);\r\n\t}\r\n}\r\n\r\n/**\r\n * Injects CSS styles inline if the styles are not already present.\r\n * @param {HTMLDocument|ShadowRoot} rootNode - the node to contain the <style>.\r\n * @param {string} css - the CSS to be injected.\r\n */\r\nfunction injectCSS(rootNode, css) {\r\n\t// https://stackoverflow.com/q/3922139\r\n\tvar expando = rootNode[EXPANDO_KEY] || (rootNode[EXPANDO_KEY] = {});\r\n\tif (!expando.containsStyles) {\r\n\t\texpando.containsStyles = true;\r\n\t\tcss = '/* Chart.js */\\n' + css;\r\n\t\tvar style = document.createElement('style');\r\n\t\tstyle.setAttribute('type', 'text/css');\r\n\t\tstyle.appendChild(document.createTextNode(css));\r\n\t\trootNode.appendChild(style);\r\n\t}\r\n}\r\n\r\nvar platform_dom$2 = {\r\n\t/**\r\n\t * When `true`, prevents the automatic injection of the stylesheet required to\r\n\t * correctly detect when the chart is added to the DOM and then resized. This\r\n\t * switch has been added to allow external stylesheet (`dist/Chart(.min)?.js`)\r\n\t * to be manually imported to make this library compatible with any CSP.\r\n\t * See https://github.com/chartjs/Chart.js/issues/5208\r\n\t */\r\n\tdisableCSSInjection: false,\r\n\r\n\t/**\r\n\t * This property holds whether this platform is enabled for the current environment.\r\n\t * Currently used by platform.js to select the proper implementation.\r\n\t * @private\r\n\t */\r\n\t_enabled: typeof window !== 'undefined' && typeof document !== 'undefined',\r\n\r\n\t/**\r\n\t * Initializes resources that depend on platform options.\r\n\t * @param {HTMLCanvasElement} canvas - The Canvas element.\r\n\t * @private\r\n\t */\r\n\t_ensureLoaded: function(canvas) {\r\n\t\tif (!this.disableCSSInjection) {\r\n\t\t\t// If the canvas is in a shadow DOM, then the styles must also be inserted\r\n\t\t\t// into the same shadow DOM.\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/5763\r\n\t\t\tvar root = canvas.getRootNode ? canvas.getRootNode() : document;\r\n\t\t\tvar targetNode = root.host ? root : document.head;\r\n\t\t\tinjectCSS(targetNode, stylesheet);\r\n\t\t}\r\n\t},\r\n\r\n\tacquireContext: function(item, config) {\r\n\t\tif (typeof item === 'string') {\r\n\t\t\titem = document.getElementById(item);\r\n\t\t} else if (item.length) {\r\n\t\t\t// Support for array based queries (such as jQuery)\r\n\t\t\titem = item[0];\r\n\t\t}\r\n\r\n\t\tif (item && item.canvas) {\r\n\t\t\t// Support for any object associated to a canvas (including a context2d)\r\n\t\t\titem = item.canvas;\r\n\t\t}\r\n\r\n\t\t// To prevent canvas fingerprinting, some add-ons undefine the getContext\r\n\t\t// method, for example: https://github.com/kkapsner/CanvasBlocker\r\n\t\t// https://github.com/chartjs/Chart.js/issues/2807\r\n\t\tvar context = item && item.getContext && item.getContext('2d');\r\n\r\n\t\t// `instanceof HTMLCanvasElement/CanvasRenderingContext2D` fails when the item is\r\n\t\t// inside an iframe or when running in a protected environment. We could guess the\r\n\t\t// types from their toString() value but let's keep things flexible and assume it's\r\n\t\t// a sufficient condition if the item has a context2D which has item as `canvas`.\r\n\t\t// https://github.com/chartjs/Chart.js/issues/3887\r\n\t\t// https://github.com/chartjs/Chart.js/issues/4102\r\n\t\t// https://github.com/chartjs/Chart.js/issues/4152\r\n\t\tif (context && context.canvas === item) {\r\n\t\t\t// Load platform resources on first chart creation, to make it possible to\r\n\t\t\t// import the library before setting platform options.\r\n\t\t\tthis._ensureLoaded(item);\r\n\t\t\tinitCanvas(item, config);\r\n\t\t\treturn context;\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\treleaseContext: function(context) {\r\n\t\tvar canvas = context.canvas;\r\n\t\tif (!canvas[EXPANDO_KEY]) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar initial = canvas[EXPANDO_KEY].initial;\r\n\t\t['height', 'width'].forEach(function(prop) {\r\n\t\t\tvar value = initial[prop];\r\n\t\t\tif (helpers$1.isNullOrUndef(value)) {\r\n\t\t\t\tcanvas.removeAttribute(prop);\r\n\t\t\t} else {\r\n\t\t\t\tcanvas.setAttribute(prop, value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thelpers$1.each(initial.style || {}, function(value, key) {\r\n\t\t\tcanvas.style[key] = value;\r\n\t\t});\r\n\r\n\t\t// The canvas render size might have been changed (and thus the state stack discarded),\r\n\t\t// we can't use save() and restore() to restore the initial state. So make sure that at\r\n\t\t// least the canvas context is reset to the default state by setting the canvas width.\r\n\t\t// https://www.w3.org/TR/2011/WD-html5-20110525/the-canvas-element.html\r\n\t\t// eslint-disable-next-line no-self-assign\r\n\t\tcanvas.width = canvas.width;\r\n\r\n\t\tdelete canvas[EXPANDO_KEY];\r\n\t},\r\n\r\n\taddEventListener: function(chart, type, listener) {\r\n\t\tvar canvas = chart.canvas;\r\n\t\tif (type === 'resize') {\r\n\t\t\t// Note: the resize event is not supported on all browsers.\r\n\t\t\taddResizeListener(canvas, listener, chart);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar expando = listener[EXPANDO_KEY] || (listener[EXPANDO_KEY] = {});\r\n\t\tvar proxies = expando.proxies || (expando.proxies = {});\r\n\t\tvar proxy = proxies[chart.id + '_' + type] = function(event) {\r\n\t\t\tlistener(fromNativeEvent(event, chart));\r\n\t\t};\r\n\r\n\t\taddListener(canvas, type, proxy);\r\n\t},\r\n\r\n\tremoveEventListener: function(chart, type, listener) {\r\n\t\tvar canvas = chart.canvas;\r\n\t\tif (type === 'resize') {\r\n\t\t\t// Note: the resize event is not supported on all browsers.\r\n\t\t\tremoveResizeListener(canvas);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar expando = listener[EXPANDO_KEY] || {};\r\n\t\tvar proxies = expando.proxies || {};\r\n\t\tvar proxy = proxies[chart.id + '_' + type];\r\n\t\tif (!proxy) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tremoveListener(canvas, type, proxy);\r\n\t}\r\n};\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use EventTarget.addEventListener instead.\r\n * EventTarget.addEventListener compatibility: Chrome, Opera 7, Safari, FF1.5+, IE9+\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\r\n * @function Chart.helpers.addEvent\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.addEvent = addListener;\r\n\r\n/**\r\n * Provided for backward compatibility, use EventTarget.removeEventListener instead.\r\n * EventTarget.removeEventListener compatibility: Chrome, Opera 7, Safari, FF1.5+, IE9+\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener\r\n * @function Chart.helpers.removeEvent\r\n * @deprecated since version 2.7.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.removeEvent = removeListener;\n\n// @TODO Make possible to select another platform at build time.\r\nvar implementation = platform_dom$2._enabled ? platform_dom$2 : platform_basic;\r\n\r\n/**\r\n * @namespace Chart.platform\r\n * @see https://chartjs.gitbooks.io/proposals/content/Platform.html\r\n * @since 2.4.0\r\n */\r\nvar platform = helpers$1.extend({\r\n\t/**\r\n\t * @since 2.7.0\r\n\t */\r\n\tinitialize: function() {},\r\n\r\n\t/**\r\n\t * Called at chart construction time, returns a context2d instance implementing\r\n\t * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.\r\n\t * @param {*} item - The native item from which to acquire context (platform specific)\r\n\t * @param {object} options - The chart options\r\n\t * @returns {CanvasRenderingContext2D} context2d instance\r\n\t */\r\n\tacquireContext: function() {},\r\n\r\n\t/**\r\n\t * Called at chart destruction time, releases any resources associated to the context\r\n\t * previously returned by the acquireContext() method.\r\n\t * @param {CanvasRenderingContext2D} context - The context2d instance\r\n\t * @returns {boolean} true if the method succeeded, else false\r\n\t */\r\n\treleaseContext: function() {},\r\n\r\n\t/**\r\n\t * Registers the specified listener on the given chart.\r\n\t * @param {Chart} chart - Chart from which to listen for event\r\n\t * @param {string} type - The ({@link IEvent}) type to listen for\r\n\t * @param {function} listener - Receives a notification (an object that implements\r\n\t * the {@link IEvent} interface) when an event of the specified type occurs.\r\n\t */\r\n\taddEventListener: function() {},\r\n\r\n\t/**\r\n\t * Removes the specified listener previously registered with addEventListener.\r\n\t * @param {Chart} chart - Chart from which to remove the listener\r\n\t * @param {string} type - The ({@link IEvent}) type to remove\r\n\t * @param {function} listener - The listener function to remove from the event target.\r\n\t */\r\n\tremoveEventListener: function() {}\r\n\r\n}, implementation);\n\ncore_defaults._set('global', {\r\n\tplugins: {}\r\n});\r\n\r\n/**\r\n * The plugin service singleton\r\n * @namespace Chart.plugins\r\n * @since 2.1.0\r\n */\r\nvar core_plugins = {\r\n\t/**\r\n\t * Globally registered plugins.\r\n\t * @private\r\n\t */\r\n\t_plugins: [],\r\n\r\n\t/**\r\n\t * This identifier is used to invalidate the descriptors cache attached to each chart\r\n\t * when a global plugin is registered or unregistered. In this case, the cache ID is\r\n\t * incremented and descriptors are regenerated during following API calls.\r\n\t * @private\r\n\t */\r\n\t_cacheId: 0,\r\n\r\n\t/**\r\n\t * Registers the given plugin(s) if not already registered.\r\n\t * @param {IPlugin[]|IPlugin} plugins plugin instance(s).\r\n\t */\r\n\tregister: function(plugins) {\r\n\t\tvar p = this._plugins;\r\n\t\t([]).concat(plugins).forEach(function(plugin) {\r\n\t\t\tif (p.indexOf(plugin) === -1) {\r\n\t\t\t\tp.push(plugin);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._cacheId++;\r\n\t},\r\n\r\n\t/**\r\n\t * Unregisters the given plugin(s) only if registered.\r\n\t * @param {IPlugin[]|IPlugin} plugins plugin instance(s).\r\n\t */\r\n\tunregister: function(plugins) {\r\n\t\tvar p = this._plugins;\r\n\t\t([]).concat(plugins).forEach(function(plugin) {\r\n\t\t\tvar idx = p.indexOf(plugin);\r\n\t\t\tif (idx !== -1) {\r\n\t\t\t\tp.splice(idx, 1);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._cacheId++;\r\n\t},\r\n\r\n\t/**\r\n\t * Remove all registered plugins.\r\n\t * @since 2.1.5\r\n\t */\r\n\tclear: function() {\r\n\t\tthis._plugins = [];\r\n\t\tthis._cacheId++;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the number of registered plugins?\r\n\t * @returns {number}\r\n\t * @since 2.1.5\r\n\t */\r\n\tcount: function() {\r\n\t\treturn this._plugins.length;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns all registered plugin instances.\r\n\t * @returns {IPlugin[]} array of plugin objects.\r\n\t * @since 2.1.5\r\n\t */\r\n\tgetAll: function() {\r\n\t\treturn this._plugins;\r\n\t},\r\n\r\n\t/**\r\n\t * Calls enabled plugins for `chart` on the specified hook and with the given args.\r\n\t * This method immediately returns as soon as a plugin explicitly returns false. The\r\n\t * returned value can be used, for instance, to interrupt the current action.\r\n\t * @param {Chart} chart - The chart instance for which plugins should be called.\r\n\t * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').\r\n\t * @param {Array} [args] - Extra arguments to apply to the hook call.\r\n\t * @returns {boolean} false if any of the plugins return false, else returns true.\r\n\t */\r\n\tnotify: function(chart, hook, args) {\r\n\t\tvar descriptors = this.descriptors(chart);\r\n\t\tvar ilen = descriptors.length;\r\n\t\tvar i, descriptor, plugin, params, method;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tdescriptor = descriptors[i];\r\n\t\t\tplugin = descriptor.plugin;\r\n\t\t\tmethod = plugin[hook];\r\n\t\t\tif (typeof method === 'function') {\r\n\t\t\t\tparams = [chart].concat(args || []);\r\n\t\t\t\tparams.push(descriptor.options);\r\n\t\t\t\tif (method.apply(plugin, params) === false) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns descriptors of enabled plugins for the given chart.\r\n\t * @returns {object[]} [{ plugin, options }]\r\n\t * @private\r\n\t */\r\n\tdescriptors: function(chart) {\r\n\t\tvar cache = chart.$plugins || (chart.$plugins = {});\r\n\t\tif (cache.id === this._cacheId) {\r\n\t\t\treturn cache.descriptors;\r\n\t\t}\r\n\r\n\t\tvar plugins = [];\r\n\t\tvar descriptors = [];\r\n\t\tvar config = (chart && chart.config) || {};\r\n\t\tvar options = (config.options && config.options.plugins) || {};\r\n\r\n\t\tthis._plugins.concat(config.plugins || []).forEach(function(plugin) {\r\n\t\t\tvar idx = plugins.indexOf(plugin);\r\n\t\t\tif (idx !== -1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar id = plugin.id;\r\n\t\t\tvar opts = options[id];\r\n\t\t\tif (opts === false) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (opts === true) {\r\n\t\t\t\topts = helpers$1.clone(core_defaults.global.plugins[id]);\r\n\t\t\t}\r\n\r\n\t\t\tplugins.push(plugin);\r\n\t\t\tdescriptors.push({\r\n\t\t\t\tplugin: plugin,\r\n\t\t\t\toptions: opts || {}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tcache.descriptors = descriptors;\r\n\t\tcache.id = this._cacheId;\r\n\t\treturn descriptors;\r\n\t},\r\n\r\n\t/**\r\n\t * Invalidates cache for the given chart: descriptors hold a reference on plugin option,\r\n\t * but in some cases, this reference can be changed by the user when updating options.\r\n\t * https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\r\n\t * @private\r\n\t */\r\n\t_invalidate: function(chart) {\r\n\t\tdelete chart.$plugins;\r\n\t}\r\n};\n\nvar core_scaleService = {\r\n\t// Scale registration object. Extensions can register new scale types (such as log or DB scales) and then\r\n\t// use the new chart options to grab the correct scale\r\n\tconstructors: {},\r\n\t// Use a registration function so that we can move to an ES6 map when we no longer need to support\r\n\t// old browsers\r\n\r\n\t// Scale config defaults\r\n\tdefaults: {},\r\n\tregisterScaleType: function(type, scaleConstructor, scaleDefaults) {\r\n\t\tthis.constructors[type] = scaleConstructor;\r\n\t\tthis.defaults[type] = helpers$1.clone(scaleDefaults);\r\n\t},\r\n\tgetScaleConstructor: function(type) {\r\n\t\treturn this.constructors.hasOwnProperty(type) ? this.constructors[type] : undefined;\r\n\t},\r\n\tgetScaleDefaults: function(type) {\r\n\t\t// Return the scale defaults merged with the global settings so that we always use the latest ones\r\n\t\treturn this.defaults.hasOwnProperty(type) ? helpers$1.merge(Object.create(null), [core_defaults.scale, this.defaults[type]]) : {};\r\n\t},\r\n\tupdateScaleDefaults: function(type, additions) {\r\n\t\tvar me = this;\r\n\t\tif (me.defaults.hasOwnProperty(type)) {\r\n\t\t\tme.defaults[type] = helpers$1.extend(me.defaults[type], additions);\r\n\t\t}\r\n\t},\r\n\taddScalesToLayout: function(chart) {\r\n\t\t// Adds each scale to the chart.boxes array to be sized accordingly\r\n\t\thelpers$1.each(chart.scales, function(scale) {\r\n\t\t\t// Set ILayoutItem parameters for backwards compatibility\r\n\t\t\tscale.fullWidth = scale.options.fullWidth;\r\n\t\t\tscale.position = scale.options.position;\r\n\t\t\tscale.weight = scale.options.weight;\r\n\t\t\tcore_layouts.addBox(chart, scale);\r\n\t\t});\r\n\t}\r\n};\n\nvar valueOrDefault$8 = helpers$1.valueOrDefault;\r\nvar getRtlHelper = helpers$1.rtl.getRtlAdapter;\r\n\r\ncore_defaults._set('global', {\r\n\ttooltips: {\r\n\t\tenabled: true,\r\n\t\tcustom: null,\r\n\t\tmode: 'nearest',\r\n\t\tposition: 'average',\r\n\t\tintersect: true,\r\n\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\r\n\t\ttitleFontStyle: 'bold',\r\n\t\ttitleSpacing: 2,\r\n\t\ttitleMarginBottom: 6,\r\n\t\ttitleFontColor: '#fff',\r\n\t\ttitleAlign: 'left',\r\n\t\tbodySpacing: 2,\r\n\t\tbodyFontColor: '#fff',\r\n\t\tbodyAlign: 'left',\r\n\t\tfooterFontStyle: 'bold',\r\n\t\tfooterSpacing: 2,\r\n\t\tfooterMarginTop: 6,\r\n\t\tfooterFontColor: '#fff',\r\n\t\tfooterAlign: 'left',\r\n\t\tyPadding: 6,\r\n\t\txPadding: 6,\r\n\t\tcaretPadding: 2,\r\n\t\tcaretSize: 5,\r\n\t\tcornerRadius: 6,\r\n\t\tmultiKeyBackground: '#fff',\r\n\t\tdisplayColors: true,\r\n\t\tborderColor: 'rgba(0,0,0,0)',\r\n\t\tborderWidth: 0,\r\n\t\tcallbacks: {\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tbeforeTitle: helpers$1.noop,\r\n\t\t\ttitle: function(tooltipItems, data) {\r\n\t\t\t\tvar title = '';\r\n\t\t\t\tvar labels = data.labels;\r\n\t\t\t\tvar labelCount = labels ? labels.length : 0;\r\n\r\n\t\t\t\tif (tooltipItems.length > 0) {\r\n\t\t\t\t\tvar item = tooltipItems[0];\r\n\t\t\t\t\tif (item.label) {\r\n\t\t\t\t\t\ttitle = item.label;\r\n\t\t\t\t\t} else if (item.xLabel) {\r\n\t\t\t\t\t\ttitle = item.xLabel;\r\n\t\t\t\t\t} else if (labelCount > 0 && item.index < labelCount) {\r\n\t\t\t\t\t\ttitle = labels[item.index];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn title;\r\n\t\t\t},\r\n\t\t\tafterTitle: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tbeforeBody: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItem, data)\r\n\t\t\tbeforeLabel: helpers$1.noop,\r\n\t\t\tlabel: function(tooltipItem, data) {\r\n\t\t\t\tvar label = data.datasets[tooltipItem.datasetIndex].label || '';\r\n\r\n\t\t\t\tif (label) {\r\n\t\t\t\t\tlabel += ': ';\r\n\t\t\t\t}\r\n\t\t\t\tif (!helpers$1.isNullOrUndef(tooltipItem.value)) {\r\n\t\t\t\t\tlabel += tooltipItem.value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlabel += tooltipItem.yLabel;\r\n\t\t\t\t}\r\n\t\t\t\treturn label;\r\n\t\t\t},\r\n\t\t\tlabelColor: function(tooltipItem, chart) {\r\n\t\t\t\tvar meta = chart.getDatasetMeta(tooltipItem.datasetIndex);\r\n\t\t\t\tvar activeElement = meta.data[tooltipItem.index];\r\n\t\t\t\tvar view = activeElement._view;\r\n\t\t\t\treturn {\r\n\t\t\t\t\tborderColor: view.borderColor,\r\n\t\t\t\t\tbackgroundColor: view.backgroundColor\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tlabelTextColor: function() {\r\n\t\t\t\treturn this._options.bodyFontColor;\r\n\t\t\t},\r\n\t\t\tafterLabel: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tafterBody: helpers$1.noop,\r\n\r\n\t\t\t// Args are: (tooltipItems, data)\r\n\t\t\tbeforeFooter: helpers$1.noop,\r\n\t\t\tfooter: helpers$1.noop,\r\n\t\t\tafterFooter: helpers$1.noop\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar positioners = {\r\n\t/**\r\n\t * Average mode places the tooltip at the average position of the elements shown\r\n\t * @function Chart.Tooltip.positioners.average\r\n\t * @param elements {ChartElement[]} the elements being displayed in the tooltip\r\n\t * @returns {object} tooltip position\r\n\t */\r\n\taverage: function(elements) {\r\n\t\tif (!elements.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar i, len;\r\n\t\tvar x = 0;\r\n\t\tvar y = 0;\r\n\t\tvar count = 0;\r\n\r\n\t\tfor (i = 0, len = elements.length; i < len; ++i) {\r\n\t\t\tvar el = elements[i];\r\n\t\t\tif (el && el.hasValue()) {\r\n\t\t\t\tvar pos = el.tooltipPosition();\r\n\t\t\t\tx += pos.x;\r\n\t\t\t\ty += pos.y;\r\n\t\t\t\t++count;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tx: x / count,\r\n\t\t\ty: y / count\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Gets the tooltip position nearest of the item nearest to the event position\r\n\t * @function Chart.Tooltip.positioners.nearest\r\n\t * @param elements {Chart.Element[]} the tooltip elements\r\n\t * @param eventPosition {object} the position of the event in canvas coordinates\r\n\t * @returns {object} the tooltip position\r\n\t */\r\n\tnearest: function(elements, eventPosition) {\r\n\t\tvar x = eventPosition.x;\r\n\t\tvar y = eventPosition.y;\r\n\t\tvar minDistance = Number.POSITIVE_INFINITY;\r\n\t\tvar i, len, nearestElement;\r\n\r\n\t\tfor (i = 0, len = elements.length; i < len; ++i) {\r\n\t\t\tvar el = elements[i];\r\n\t\t\tif (el && el.hasValue()) {\r\n\t\t\t\tvar center = el.getCenterPoint();\r\n\t\t\t\tvar d = helpers$1.distanceBetweenPoints(eventPosition, center);\r\n\r\n\t\t\t\tif (d < minDistance) {\r\n\t\t\t\t\tminDistance = d;\r\n\t\t\t\t\tnearestElement = el;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (nearestElement) {\r\n\t\t\tvar tp = nearestElement.tooltipPosition();\r\n\t\t\tx = tp.x;\r\n\t\t\ty = tp.y;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tx: x,\r\n\t\t\ty: y\r\n\t\t};\r\n\t}\r\n};\r\n\r\n// Helper to push or concat based on if the 2nd parameter is an array or not\r\nfunction pushOrConcat(base, toPush) {\r\n\tif (toPush) {\r\n\t\tif (helpers$1.isArray(toPush)) {\r\n\t\t\t// base = base.concat(toPush);\r\n\t\t\tArray.prototype.push.apply(base, toPush);\r\n\t\t} else {\r\n\t\t\tbase.push(toPush);\r\n\t\t}\r\n\t}\r\n\r\n\treturn base;\r\n}\r\n\r\n/**\r\n * Returns array of strings split by newline\r\n * @param {string} value - The value to split by newline.\r\n * @returns {string[]} value if newline present - Returned from String split() method\r\n * @function\r\n */\r\nfunction splitNewlines(str) {\r\n\tif ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\r\n\t\treturn str.split('\\n');\r\n\t}\r\n\treturn str;\r\n}\r\n\r\n\r\n/**\r\n * Private helper to create a tooltip item model\r\n * @param element - the chart element (point, arc, bar) to create the tooltip item for\r\n * @return new tooltip item\r\n */\r\nfunction createTooltipItem(element) {\r\n\tvar xScale = element._xScale;\r\n\tvar yScale = element._yScale || element._scale; // handle radar || polarArea charts\r\n\tvar index = element._index;\r\n\tvar datasetIndex = element._datasetIndex;\r\n\tvar controller = element._chart.getDatasetMeta(datasetIndex).controller;\r\n\tvar indexScale = controller._getIndexScale();\r\n\tvar valueScale = controller._getValueScale();\r\n\r\n\treturn {\r\n\t\txLabel: xScale ? xScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tyLabel: yScale ? yScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tlabel: indexScale ? '' + indexScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tvalue: valueScale ? '' + valueScale.getLabelForIndex(index, datasetIndex) : '',\r\n\t\tindex: index,\r\n\t\tdatasetIndex: datasetIndex,\r\n\t\tx: element._model.x,\r\n\t\ty: element._model.y\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper to get the reset model for the tooltip\r\n * @param tooltipOpts {object} the tooltip options\r\n */\r\nfunction getBaseModel(tooltipOpts) {\r\n\tvar globalDefaults = core_defaults.global;\r\n\r\n\treturn {\r\n\t\t// Positioning\r\n\t\txPadding: tooltipOpts.xPadding,\r\n\t\tyPadding: tooltipOpts.yPadding,\r\n\t\txAlign: tooltipOpts.xAlign,\r\n\t\tyAlign: tooltipOpts.yAlign,\r\n\r\n\t\t// Drawing direction and text direction\r\n\t\trtl: tooltipOpts.rtl,\r\n\t\ttextDirection: tooltipOpts.textDirection,\r\n\r\n\t\t// Body\r\n\t\tbodyFontColor: tooltipOpts.bodyFontColor,\r\n\t\t_bodyFontFamily: valueOrDefault$8(tooltipOpts.bodyFontFamily, globalDefaults.defaultFontFamily),\r\n\t\t_bodyFontStyle: valueOrDefault$8(tooltipOpts.bodyFontStyle, globalDefaults.defaultFontStyle),\r\n\t\t_bodyAlign: tooltipOpts.bodyAlign,\r\n\t\tbodyFontSize: valueOrDefault$8(tooltipOpts.bodyFontSize, globalDefaults.defaultFontSize),\r\n\t\tbodySpacing: tooltipOpts.bodySpacing,\r\n\r\n\t\t// Title\r\n\t\ttitleFontColor: tooltipOpts.titleFontColor,\r\n\t\t_titleFontFamily: valueOrDefault$8(tooltipOpts.titleFontFamily, globalDefaults.defaultFontFamily),\r\n\t\t_titleFontStyle: valueOrDefault$8(tooltipOpts.titleFontStyle, globalDefaults.defaultFontStyle),\r\n\t\ttitleFontSize: valueOrDefault$8(tooltipOpts.titleFontSize, globalDefaults.defaultFontSize),\r\n\t\t_titleAlign: tooltipOpts.titleAlign,\r\n\t\ttitleSpacing: tooltipOpts.titleSpacing,\r\n\t\ttitleMarginBottom: tooltipOpts.titleMarginBottom,\r\n\r\n\t\t// Footer\r\n\t\tfooterFontColor: tooltipOpts.footerFontColor,\r\n\t\t_footerFontFamily: valueOrDefault$8(tooltipOpts.footerFontFamily, globalDefaults.defaultFontFamily),\r\n\t\t_footerFontStyle: valueOrDefault$8(tooltipOpts.footerFontStyle, globalDefaults.defaultFontStyle),\r\n\t\tfooterFontSize: valueOrDefault$8(tooltipOpts.footerFontSize, globalDefaults.defaultFontSize),\r\n\t\t_footerAlign: tooltipOpts.footerAlign,\r\n\t\tfooterSpacing: tooltipOpts.footerSpacing,\r\n\t\tfooterMarginTop: tooltipOpts.footerMarginTop,\r\n\r\n\t\t// Appearance\r\n\t\tcaretSize: tooltipOpts.caretSize,\r\n\t\tcornerRadius: tooltipOpts.cornerRadius,\r\n\t\tbackgroundColor: tooltipOpts.backgroundColor,\r\n\t\topacity: 0,\r\n\t\tlegendColorBackground: tooltipOpts.multiKeyBackground,\r\n\t\tdisplayColors: tooltipOpts.displayColors,\r\n\t\tborderColor: tooltipOpts.borderColor,\r\n\t\tborderWidth: tooltipOpts.borderWidth\r\n\t};\r\n}\r\n\r\n/**\r\n * Get the size of the tooltip\r\n */\r\nfunction getTooltipSize(tooltip, model) {\r\n\tvar ctx = tooltip._chart.ctx;\r\n\r\n\tvar height = model.yPadding * 2; // Tooltip Padding\r\n\tvar width = 0;\r\n\r\n\t// Count of all lines in the body\r\n\tvar body = model.body;\r\n\tvar combinedBodyLength = body.reduce(function(count, bodyItem) {\r\n\t\treturn count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length;\r\n\t}, 0);\r\n\tcombinedBodyLength += model.beforeBody.length + model.afterBody.length;\r\n\r\n\tvar titleLineCount = model.title.length;\r\n\tvar footerLineCount = model.footer.length;\r\n\tvar titleFontSize = model.titleFontSize;\r\n\tvar bodyFontSize = model.bodyFontSize;\r\n\tvar footerFontSize = model.footerFontSize;\r\n\r\n\theight += titleLineCount * titleFontSize; // Title Lines\r\n\theight += titleLineCount ? (titleLineCount - 1) * model.titleSpacing : 0; // Title Line Spacing\r\n\theight += titleLineCount ? model.titleMarginBottom : 0; // Title's bottom Margin\r\n\theight += combinedBodyLength * bodyFontSize; // Body Lines\r\n\theight += combinedBodyLength ? (combinedBodyLength - 1) * model.bodySpacing : 0; // Body Line Spacing\r\n\theight += footerLineCount ? model.footerMarginTop : 0; // Footer Margin\r\n\theight += footerLineCount * (footerFontSize); // Footer Lines\r\n\theight += footerLineCount ? (footerLineCount - 1) * model.footerSpacing : 0; // Footer Line Spacing\r\n\r\n\t// Title width\r\n\tvar widthPadding = 0;\r\n\tvar maxLineWidth = function(line) {\r\n\t\twidth = Math.max(width, ctx.measureText(line).width + widthPadding);\r\n\t};\r\n\r\n\tctx.font = helpers$1.fontString(titleFontSize, model._titleFontStyle, model._titleFontFamily);\r\n\thelpers$1.each(model.title, maxLineWidth);\r\n\r\n\t// Body width\r\n\tctx.font = helpers$1.fontString(bodyFontSize, model._bodyFontStyle, model._bodyFontFamily);\r\n\thelpers$1.each(model.beforeBody.concat(model.afterBody), maxLineWidth);\r\n\r\n\t// Body lines may include some extra width due to the color box\r\n\twidthPadding = model.displayColors ? (bodyFontSize + 2) : 0;\r\n\thelpers$1.each(body, function(bodyItem) {\r\n\t\thelpers$1.each(bodyItem.before, maxLineWidth);\r\n\t\thelpers$1.each(bodyItem.lines, maxLineWidth);\r\n\t\thelpers$1.each(bodyItem.after, maxLineWidth);\r\n\t});\r\n\r\n\t// Reset back to 0\r\n\twidthPadding = 0;\r\n\r\n\t// Footer width\r\n\tctx.font = helpers$1.fontString(footerFontSize, model._footerFontStyle, model._footerFontFamily);\r\n\thelpers$1.each(model.footer, maxLineWidth);\r\n\r\n\t// Add padding\r\n\twidth += 2 * model.xPadding;\r\n\r\n\treturn {\r\n\t\twidth: width,\r\n\t\theight: height\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper to get the alignment of a tooltip given the size\r\n */\r\nfunction determineAlignment(tooltip, size) {\r\n\tvar model = tooltip._model;\r\n\tvar chart = tooltip._chart;\r\n\tvar chartArea = tooltip._chart.chartArea;\r\n\tvar xAlign = 'center';\r\n\tvar yAlign = 'center';\r\n\r\n\tif (model.y < size.height) {\r\n\t\tyAlign = 'top';\r\n\t} else if (model.y > (chart.height - size.height)) {\r\n\t\tyAlign = 'bottom';\r\n\t}\r\n\r\n\tvar lf, rf; // functions to determine left, right alignment\r\n\tvar olf, orf; // functions to determine if left/right alignment causes tooltip to go outside chart\r\n\tvar yf; // function to get the y alignment if the tooltip goes outside of the left or right edges\r\n\tvar midX = (chartArea.left + chartArea.right) / 2;\r\n\tvar midY = (chartArea.top + chartArea.bottom) / 2;\r\n\r\n\tif (yAlign === 'center') {\r\n\t\tlf = function(x) {\r\n\t\t\treturn x <= midX;\r\n\t\t};\r\n\t\trf = function(x) {\r\n\t\t\treturn x > midX;\r\n\t\t};\r\n\t} else {\r\n\t\tlf = function(x) {\r\n\t\t\treturn x <= (size.width / 2);\r\n\t\t};\r\n\t\trf = function(x) {\r\n\t\t\treturn x >= (chart.width - (size.width / 2));\r\n\t\t};\r\n\t}\r\n\r\n\tolf = function(x) {\r\n\t\treturn x + size.width + model.caretSize + model.caretPadding > chart.width;\r\n\t};\r\n\torf = function(x) {\r\n\t\treturn x - size.width - model.caretSize - model.caretPadding < 0;\r\n\t};\r\n\tyf = function(y) {\r\n\t\treturn y <= midY ? 'top' : 'bottom';\r\n\t};\r\n\r\n\tif (lf(model.x)) {\r\n\t\txAlign = 'left';\r\n\r\n\t\t// Is tooltip too wide and goes over the right side of the chart.?\r\n\t\tif (olf(model.x)) {\r\n\t\t\txAlign = 'center';\r\n\t\t\tyAlign = yf(model.y);\r\n\t\t}\r\n\t} else if (rf(model.x)) {\r\n\t\txAlign = 'right';\r\n\r\n\t\t// Is tooltip too wide and goes outside left edge of canvas?\r\n\t\tif (orf(model.x)) {\r\n\t\t\txAlign = 'center';\r\n\t\t\tyAlign = yf(model.y);\r\n\t\t}\r\n\t}\r\n\r\n\tvar opts = tooltip._options;\r\n\treturn {\r\n\t\txAlign: opts.xAlign ? opts.xAlign : xAlign,\r\n\t\tyAlign: opts.yAlign ? opts.yAlign : yAlign\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper to get the location a tooltip needs to be placed at given the initial position (via the vm) and the size and alignment\r\n */\r\nfunction getBackgroundPoint(vm, size, alignment, chart) {\r\n\t// Background Position\r\n\tvar x = vm.x;\r\n\tvar y = vm.y;\r\n\r\n\tvar caretSize = vm.caretSize;\r\n\tvar caretPadding = vm.caretPadding;\r\n\tvar cornerRadius = vm.cornerRadius;\r\n\tvar xAlign = alignment.xAlign;\r\n\tvar yAlign = alignment.yAlign;\r\n\tvar paddingAndSize = caretSize + caretPadding;\r\n\tvar radiusAndPadding = cornerRadius + caretPadding;\r\n\r\n\tif (xAlign === 'right') {\r\n\t\tx -= size.width;\r\n\t} else if (xAlign === 'center') {\r\n\t\tx -= (size.width / 2);\r\n\t\tif (x + size.width > chart.width) {\r\n\t\t\tx = chart.width - size.width;\r\n\t\t}\r\n\t\tif (x < 0) {\r\n\t\t\tx = 0;\r\n\t\t}\r\n\t}\r\n\r\n\tif (yAlign === 'top') {\r\n\t\ty += paddingAndSize;\r\n\t} else if (yAlign === 'bottom') {\r\n\t\ty -= size.height + paddingAndSize;\r\n\t} else {\r\n\t\ty -= (size.height / 2);\r\n\t}\r\n\r\n\tif (yAlign === 'center') {\r\n\t\tif (xAlign === 'left') {\r\n\t\t\tx += paddingAndSize;\r\n\t\t} else if (xAlign === 'right') {\r\n\t\t\tx -= paddingAndSize;\r\n\t\t}\r\n\t} else if (xAlign === 'left') {\r\n\t\tx -= radiusAndPadding;\r\n\t} else if (xAlign === 'right') {\r\n\t\tx += radiusAndPadding;\r\n\t}\r\n\r\n\treturn {\r\n\t\tx: x,\r\n\t\ty: y\r\n\t};\r\n}\r\n\r\nfunction getAlignedX(vm, align) {\r\n\treturn align === 'center'\r\n\t\t? vm.x + vm.width / 2\r\n\t\t: align === 'right'\r\n\t\t\t? vm.x + vm.width - vm.xPadding\r\n\t\t\t: vm.x + vm.xPadding;\r\n}\r\n\r\n/**\r\n * Helper to build before and after body lines\r\n */\r\nfunction getBeforeAfterBodyLines(callback) {\r\n\treturn pushOrConcat([], splitNewlines(callback));\r\n}\r\n\r\nvar exports$4 = core_element.extend({\r\n\tinitialize: function() {\r\n\t\tthis._model = getBaseModel(this._options);\r\n\t\tthis._lastActive = [];\r\n\t},\r\n\r\n\t// Get the title\r\n\t// Args are: (tooltipItem, data)\r\n\tgetTitle: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me._options;\r\n\t\tvar callbacks = opts.callbacks;\r\n\r\n\t\tvar beforeTitle = callbacks.beforeTitle.apply(me, arguments);\r\n\t\tvar title = callbacks.title.apply(me, arguments);\r\n\t\tvar afterTitle = callbacks.afterTitle.apply(me, arguments);\r\n\r\n\t\tvar lines = [];\r\n\t\tlines = pushOrConcat(lines, splitNewlines(beforeTitle));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(title));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(afterTitle));\r\n\r\n\t\treturn lines;\r\n\t},\r\n\r\n\t// Args are: (tooltipItem, data)\r\n\tgetBeforeBody: function() {\r\n\t\treturn getBeforeAfterBodyLines(this._options.callbacks.beforeBody.apply(this, arguments));\r\n\t},\r\n\r\n\t// Args are: (tooltipItem, data)\r\n\tgetBody: function(tooltipItems, data) {\r\n\t\tvar me = this;\r\n\t\tvar callbacks = me._options.callbacks;\r\n\t\tvar bodyItems = [];\r\n\r\n\t\thelpers$1.each(tooltipItems, function(tooltipItem) {\r\n\t\t\tvar bodyItem = {\r\n\t\t\t\tbefore: [],\r\n\t\t\t\tlines: [],\r\n\t\t\t\tafter: []\r\n\t\t\t};\r\n\t\t\tpushOrConcat(bodyItem.before, splitNewlines(callbacks.beforeLabel.call(me, tooltipItem, data)));\r\n\t\t\tpushOrConcat(bodyItem.lines, callbacks.label.call(me, tooltipItem, data));\r\n\t\t\tpushOrConcat(bodyItem.after, splitNewlines(callbacks.afterLabel.call(me, tooltipItem, data)));\r\n\r\n\t\t\tbodyItems.push(bodyItem);\r\n\t\t});\r\n\r\n\t\treturn bodyItems;\r\n\t},\r\n\r\n\t// Args are: (tooltipItem, data)\r\n\tgetAfterBody: function() {\r\n\t\treturn getBeforeAfterBodyLines(this._options.callbacks.afterBody.apply(this, arguments));\r\n\t},\r\n\r\n\t// Get the footer and beforeFooter and afterFooter lines\r\n\t// Args are: (tooltipItem, data)\r\n\tgetFooter: function() {\r\n\t\tvar me = this;\r\n\t\tvar callbacks = me._options.callbacks;\r\n\r\n\t\tvar beforeFooter = callbacks.beforeFooter.apply(me, arguments);\r\n\t\tvar footer = callbacks.footer.apply(me, arguments);\r\n\t\tvar afterFooter = callbacks.afterFooter.apply(me, arguments);\r\n\r\n\t\tvar lines = [];\r\n\t\tlines = pushOrConcat(lines, splitNewlines(beforeFooter));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(footer));\r\n\t\tlines = pushOrConcat(lines, splitNewlines(afterFooter));\r\n\r\n\t\treturn lines;\r\n\t},\r\n\r\n\tupdate: function(changed) {\r\n\t\tvar me = this;\r\n\t\tvar opts = me._options;\r\n\r\n\t\t// Need to regenerate the model because its faster than using extend and it is necessary due to the optimization in Chart.Element.transition\r\n\t\t// that does _view = _model if ease === 1. This causes the 2nd tooltip update to set properties in both the view and model at the same time\r\n\t\t// which breaks any animations.\r\n\t\tvar existingModel = me._model;\r\n\t\tvar model = me._model = getBaseModel(opts);\r\n\t\tvar active = me._active;\r\n\r\n\t\tvar data = me._data;\r\n\r\n\t\t// In the case where active.length === 0 we need to keep these at existing values for good animations\r\n\t\tvar alignment = {\r\n\t\t\txAlign: existingModel.xAlign,\r\n\t\t\tyAlign: existingModel.yAlign\r\n\t\t};\r\n\t\tvar backgroundPoint = {\r\n\t\t\tx: existingModel.x,\r\n\t\t\ty: existingModel.y\r\n\t\t};\r\n\t\tvar tooltipSize = {\r\n\t\t\twidth: existingModel.width,\r\n\t\t\theight: existingModel.height\r\n\t\t};\r\n\t\tvar tooltipPosition = {\r\n\t\t\tx: existingModel.caretX,\r\n\t\t\ty: existingModel.caretY\r\n\t\t};\r\n\r\n\t\tvar i, len;\r\n\r\n\t\tif (active.length) {\r\n\t\t\tmodel.opacity = 1;\r\n\r\n\t\t\tvar labelColors = [];\r\n\t\t\tvar labelTextColors = [];\r\n\t\t\ttooltipPosition = positioners[opts.position].call(me, active, me._eventPosition);\r\n\r\n\t\t\tvar tooltipItems = [];\r\n\t\t\tfor (i = 0, len = active.length; i < len; ++i) {\r\n\t\t\t\ttooltipItems.push(createTooltipItem(active[i]));\r\n\t\t\t}\r\n\r\n\t\t\t// If the user provided a filter function, use it to modify the tooltip items\r\n\t\t\tif (opts.filter) {\r\n\t\t\t\ttooltipItems = tooltipItems.filter(function(a) {\r\n\t\t\t\t\treturn opts.filter(a, data);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// If the user provided a sorting function, use it to modify the tooltip items\r\n\t\t\tif (opts.itemSort) {\r\n\t\t\t\ttooltipItems = tooltipItems.sort(function(a, b) {\r\n\t\t\t\t\treturn opts.itemSort(a, b, data);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Determine colors for boxes\r\n\t\t\thelpers$1.each(tooltipItems, function(tooltipItem) {\r\n\t\t\t\tlabelColors.push(opts.callbacks.labelColor.call(me, tooltipItem, me._chart));\r\n\t\t\t\tlabelTextColors.push(opts.callbacks.labelTextColor.call(me, tooltipItem, me._chart));\r\n\t\t\t});\r\n\r\n\r\n\t\t\t// Build the Text Lines\r\n\t\t\tmodel.title = me.getTitle(tooltipItems, data);\r\n\t\t\tmodel.beforeBody = me.getBeforeBody(tooltipItems, data);\r\n\t\t\tmodel.body = me.getBody(tooltipItems, data);\r\n\t\t\tmodel.afterBody = me.getAfterBody(tooltipItems, data);\r\n\t\t\tmodel.footer = me.getFooter(tooltipItems, data);\r\n\r\n\t\t\t// Initial positioning and colors\r\n\t\t\tmodel.x = tooltipPosition.x;\r\n\t\t\tmodel.y = tooltipPosition.y;\r\n\t\t\tmodel.caretPadding = opts.caretPadding;\r\n\t\t\tmodel.labelColors = labelColors;\r\n\t\t\tmodel.labelTextColors = labelTextColors;\r\n\r\n\t\t\t// data points\r\n\t\t\tmodel.dataPoints = tooltipItems;\r\n\r\n\t\t\t// We need to determine alignment of the tooltip\r\n\t\t\ttooltipSize = getTooltipSize(this, model);\r\n\t\t\talignment = determineAlignment(this, tooltipSize);\r\n\t\t\t// Final Size and Position\r\n\t\t\tbackgroundPoint = getBackgroundPoint(model, tooltipSize, alignment, me._chart);\r\n\t\t} else {\r\n\t\t\tmodel.opacity = 0;\r\n\t\t}\r\n\r\n\t\tmodel.xAlign = alignment.xAlign;\r\n\t\tmodel.yAlign = alignment.yAlign;\r\n\t\tmodel.x = backgroundPoint.x;\r\n\t\tmodel.y = backgroundPoint.y;\r\n\t\tmodel.width = tooltipSize.width;\r\n\t\tmodel.height = tooltipSize.height;\r\n\r\n\t\t// Point where the caret on the tooltip points to\r\n\t\tmodel.caretX = tooltipPosition.x;\r\n\t\tmodel.caretY = tooltipPosition.y;\r\n\r\n\t\tme._model = model;\r\n\r\n\t\tif (changed && opts.custom) {\r\n\t\t\topts.custom.call(me, model);\r\n\t\t}\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\tdrawCaret: function(tooltipPoint, size) {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\t\tvar caretPosition = this.getCaretPosition(tooltipPoint, size, vm);\r\n\r\n\t\tctx.lineTo(caretPosition.x1, caretPosition.y1);\r\n\t\tctx.lineTo(caretPosition.x2, caretPosition.y2);\r\n\t\tctx.lineTo(caretPosition.x3, caretPosition.y3);\r\n\t},\r\n\tgetCaretPosition: function(tooltipPoint, size, vm) {\r\n\t\tvar x1, x2, x3, y1, y2, y3;\r\n\t\tvar caretSize = vm.caretSize;\r\n\t\tvar cornerRadius = vm.cornerRadius;\r\n\t\tvar xAlign = vm.xAlign;\r\n\t\tvar yAlign = vm.yAlign;\r\n\t\tvar ptX = tooltipPoint.x;\r\n\t\tvar ptY = tooltipPoint.y;\r\n\t\tvar width = size.width;\r\n\t\tvar height = size.height;\r\n\r\n\t\tif (yAlign === 'center') {\r\n\t\t\ty2 = ptY + (height / 2);\r\n\r\n\t\t\tif (xAlign === 'left') {\r\n\t\t\t\tx1 = ptX;\r\n\t\t\t\tx2 = x1 - caretSize;\r\n\t\t\t\tx3 = x1;\r\n\r\n\t\t\t\ty1 = y2 + caretSize;\r\n\t\t\t\ty3 = y2 - caretSize;\r\n\t\t\t} else {\r\n\t\t\t\tx1 = ptX + width;\r\n\t\t\t\tx2 = x1 + caretSize;\r\n\t\t\t\tx3 = x1;\r\n\r\n\t\t\t\ty1 = y2 - caretSize;\r\n\t\t\t\ty3 = y2 + caretSize;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (xAlign === 'left') {\r\n\t\t\t\tx2 = ptX + cornerRadius + (caretSize);\r\n\t\t\t\tx1 = x2 - caretSize;\r\n\t\t\t\tx3 = x2 + caretSize;\r\n\t\t\t} else if (xAlign === 'right') {\r\n\t\t\t\tx2 = ptX + width - cornerRadius - caretSize;\r\n\t\t\t\tx1 = x2 - caretSize;\r\n\t\t\t\tx3 = x2 + caretSize;\r\n\t\t\t} else {\r\n\t\t\t\tx2 = vm.caretX;\r\n\t\t\t\tx1 = x2 - caretSize;\r\n\t\t\t\tx3 = x2 + caretSize;\r\n\t\t\t}\r\n\t\t\tif (yAlign === 'top') {\r\n\t\t\t\ty1 = ptY;\r\n\t\t\t\ty2 = y1 - caretSize;\r\n\t\t\t\ty3 = y1;\r\n\t\t\t} else {\r\n\t\t\t\ty1 = ptY + height;\r\n\t\t\t\ty2 = y1 + caretSize;\r\n\t\t\t\ty3 = y1;\r\n\t\t\t\t// invert drawing order\r\n\t\t\t\tvar tmp = x3;\r\n\t\t\t\tx3 = x1;\r\n\t\t\t\tx1 = tmp;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {x1: x1, x2: x2, x3: x3, y1: y1, y2: y2, y3: y3};\r\n\t},\r\n\r\n\tdrawTitle: function(pt, vm, ctx) {\r\n\t\tvar title = vm.title;\r\n\t\tvar length = title.length;\r\n\t\tvar titleFontSize, titleSpacing, i;\r\n\r\n\t\tif (length) {\r\n\t\t\tvar rtlHelper = getRtlHelper(vm.rtl, vm.x, vm.width);\r\n\r\n\t\t\tpt.x = getAlignedX(vm, vm._titleAlign);\r\n\r\n\t\t\tctx.textAlign = rtlHelper.textAlign(vm._titleAlign);\r\n\t\t\tctx.textBaseline = 'middle';\r\n\r\n\t\t\ttitleFontSize = vm.titleFontSize;\r\n\t\t\ttitleSpacing = vm.titleSpacing;\r\n\r\n\t\t\tctx.fillStyle = vm.titleFontColor;\r\n\t\t\tctx.font = helpers$1.fontString(titleFontSize, vm._titleFontStyle, vm._titleFontFamily);\r\n\r\n\t\t\tfor (i = 0; i < length; ++i) {\r\n\t\t\t\tctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFontSize / 2);\r\n\t\t\t\tpt.y += titleFontSize + titleSpacing; // Line Height and spacing\r\n\r\n\t\t\t\tif (i + 1 === length) {\r\n\t\t\t\t\tpt.y += vm.titleMarginBottom - titleSpacing; // If Last, add margin, remove spacing\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdrawBody: function(pt, vm, ctx) {\r\n\t\tvar bodyFontSize = vm.bodyFontSize;\r\n\t\tvar bodySpacing = vm.bodySpacing;\r\n\t\tvar bodyAlign = vm._bodyAlign;\r\n\t\tvar body = vm.body;\r\n\t\tvar drawColorBoxes = vm.displayColors;\r\n\t\tvar xLinePadding = 0;\r\n\t\tvar colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;\r\n\r\n\t\tvar rtlHelper = getRtlHelper(vm.rtl, vm.x, vm.width);\r\n\r\n\t\tvar fillLineOfText = function(line) {\r\n\t\t\tctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyFontSize / 2);\r\n\t\t\tpt.y += bodyFontSize + bodySpacing;\r\n\t\t};\r\n\r\n\t\tvar bodyItem, textColor, labelColors, lines, i, j, ilen, jlen;\r\n\t\tvar bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\r\n\r\n\t\tctx.textAlign = bodyAlign;\r\n\t\tctx.textBaseline = 'middle';\r\n\t\tctx.font = helpers$1.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\r\n\r\n\t\tpt.x = getAlignedX(vm, bodyAlignForCalculation);\r\n\r\n\t\t// Before body lines\r\n\t\tctx.fillStyle = vm.bodyFontColor;\r\n\t\thelpers$1.each(vm.beforeBody, fillLineOfText);\r\n\r\n\t\txLinePadding = drawColorBoxes && bodyAlignForCalculation !== 'right'\r\n\t\t\t? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)\r\n\t\t\t: 0;\r\n\r\n\t\t// Draw body lines now\r\n\t\tfor (i = 0, ilen = body.length; i < ilen; ++i) {\r\n\t\t\tbodyItem = body[i];\r\n\t\t\ttextColor = vm.labelTextColors[i];\r\n\t\t\tlabelColors = vm.labelColors[i];\r\n\r\n\t\t\tctx.fillStyle = textColor;\r\n\t\t\thelpers$1.each(bodyItem.before, fillLineOfText);\r\n\r\n\t\t\tlines = bodyItem.lines;\r\n\t\t\tfor (j = 0, jlen = lines.length; j < jlen; ++j) {\r\n\t\t\t\t// Draw Legend-like boxes if needed\r\n\t\t\t\tif (drawColorBoxes) {\r\n\t\t\t\t\tvar rtlColorX = rtlHelper.x(colorX);\r\n\r\n\t\t\t\t\t// Fill a white rect so that colours merge nicely if the opacity is < 1\r\n\t\t\t\t\tctx.fillStyle = vm.legendColorBackground;\r\n\t\t\t\t\tctx.fillRect(rtlHelper.leftForLtr(rtlColorX, bodyFontSize), pt.y, bodyFontSize, bodyFontSize);\r\n\r\n\t\t\t\t\t// Border\r\n\t\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\t\tctx.strokeStyle = labelColors.borderColor;\r\n\t\t\t\t\tctx.strokeRect(rtlHelper.leftForLtr(rtlColorX, bodyFontSize), pt.y, bodyFontSize, bodyFontSize);\r\n\r\n\t\t\t\t\t// Inner square\r\n\t\t\t\t\tctx.fillStyle = labelColors.backgroundColor;\r\n\t\t\t\t\tctx.fillRect(rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), bodyFontSize - 2), pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\r\n\t\t\t\t\tctx.fillStyle = textColor;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfillLineOfText(lines[j]);\r\n\t\t\t}\r\n\r\n\t\t\thelpers$1.each(bodyItem.after, fillLineOfText);\r\n\t\t}\r\n\r\n\t\t// Reset back to 0 for after body\r\n\t\txLinePadding = 0;\r\n\r\n\t\t// After body lines\r\n\t\thelpers$1.each(vm.afterBody, fillLineOfText);\r\n\t\tpt.y -= bodySpacing; // Remove last body spacing\r\n\t},\r\n\r\n\tdrawFooter: function(pt, vm, ctx) {\r\n\t\tvar footer = vm.footer;\r\n\t\tvar length = footer.length;\r\n\t\tvar footerFontSize, i;\r\n\r\n\t\tif (length) {\r\n\t\t\tvar rtlHelper = getRtlHelper(vm.rtl, vm.x, vm.width);\r\n\r\n\t\t\tpt.x = getAlignedX(vm, vm._footerAlign);\r\n\t\t\tpt.y += vm.footerMarginTop;\r\n\r\n\t\t\tctx.textAlign = rtlHelper.textAlign(vm._footerAlign);\r\n\t\t\tctx.textBaseline = 'middle';\r\n\r\n\t\t\tfooterFontSize = vm.footerFontSize;\r\n\r\n\t\t\tctx.fillStyle = vm.footerFontColor;\r\n\t\t\tctx.font = helpers$1.fontString(footerFontSize, vm._footerFontStyle, vm._footerFontFamily);\r\n\r\n\t\t\tfor (i = 0; i < length; ++i) {\r\n\t\t\t\tctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFontSize / 2);\r\n\t\t\t\tpt.y += footerFontSize + vm.footerSpacing;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tdrawBackground: function(pt, vm, ctx, tooltipSize) {\r\n\t\tctx.fillStyle = vm.backgroundColor;\r\n\t\tctx.strokeStyle = vm.borderColor;\r\n\t\tctx.lineWidth = vm.borderWidth;\r\n\t\tvar xAlign = vm.xAlign;\r\n\t\tvar yAlign = vm.yAlign;\r\n\t\tvar x = pt.x;\r\n\t\tvar y = pt.y;\r\n\t\tvar width = tooltipSize.width;\r\n\t\tvar height = tooltipSize.height;\r\n\t\tvar radius = vm.cornerRadius;\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(x + radius, y);\r\n\t\tif (yAlign === 'top') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x + width - radius, y);\r\n\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\r\n\t\tif (yAlign === 'center' && xAlign === 'right') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x + width, y + height - radius);\r\n\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\r\n\t\tif (yAlign === 'bottom') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x + radius, y + height);\r\n\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\r\n\t\tif (yAlign === 'center' && xAlign === 'left') {\r\n\t\t\tthis.drawCaret(pt, tooltipSize);\r\n\t\t}\r\n\t\tctx.lineTo(x, y + radius);\r\n\t\tctx.quadraticCurveTo(x, y, x + radius, y);\r\n\t\tctx.closePath();\r\n\r\n\t\tctx.fill();\r\n\r\n\t\tif (vm.borderWidth > 0) {\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t},\r\n\r\n\tdraw: function() {\r\n\t\tvar ctx = this._chart.ctx;\r\n\t\tvar vm = this._view;\r\n\r\n\t\tif (vm.opacity === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tooltipSize = {\r\n\t\t\twidth: vm.width,\r\n\t\t\theight: vm.height\r\n\t\t};\r\n\t\tvar pt = {\r\n\t\t\tx: vm.x,\r\n\t\t\ty: vm.y\r\n\t\t};\r\n\r\n\t\t// IE11/Edge does not like very small opacities, so snap to 0\r\n\t\tvar opacity = Math.abs(vm.opacity < 1e-3) ? 0 : vm.opacity;\r\n\r\n\t\t// Truthy/falsey value for empty tooltip\r\n\t\tvar hasTooltipContent = vm.title.length || vm.beforeBody.length || vm.body.length || vm.afterBody.length || vm.footer.length;\r\n\r\n\t\tif (this._options.enabled && hasTooltipContent) {\r\n\t\t\tctx.save();\r\n\t\t\tctx.globalAlpha = opacity;\r\n\r\n\t\t\t// Draw Background\r\n\t\t\tthis.drawBackground(pt, vm, ctx, tooltipSize);\r\n\r\n\t\t\t// Draw Title, Body, and Footer\r\n\t\t\tpt.y += vm.yPadding;\r\n\r\n\t\t\thelpers$1.rtl.overrideTextDirection(ctx, vm.textDirection);\r\n\r\n\t\t\t// Titles\r\n\t\t\tthis.drawTitle(pt, vm, ctx);\r\n\r\n\t\t\t// Body\r\n\t\t\tthis.drawBody(pt, vm, ctx);\r\n\r\n\t\t\t// Footer\r\n\t\t\tthis.drawFooter(pt, vm, ctx);\r\n\r\n\t\t\thelpers$1.rtl.restoreTextDirection(ctx, vm.textDirection);\r\n\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Handle an event\r\n\t * @private\r\n\t * @param {IEvent} event - The event to handle\r\n\t * @returns {boolean} true if the tooltip changed\r\n\t */\r\n\thandleEvent: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar options = me._options;\r\n\t\tvar changed = false;\r\n\r\n\t\tme._lastActive = me._lastActive || [];\r\n\r\n\t\t// Find Active Elements for tooltips\r\n\t\tif (e.type === 'mouseout') {\r\n\t\t\tme._active = [];\r\n\t\t} else {\r\n\t\t\tme._active = me._chart.getElementsAtEventForMode(e, options.mode, options);\r\n\t\t\tif (options.reverse) {\r\n\t\t\t\tme._active.reverse();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remember Last Actives\r\n\t\tchanged = !helpers$1.arrayEquals(me._active, me._lastActive);\r\n\r\n\t\t// Only handle target event on tooltip change\r\n\t\tif (changed) {\r\n\t\t\tme._lastActive = me._active;\r\n\r\n\t\t\tif (options.enabled || options.custom) {\r\n\t\t\t\tme._eventPosition = {\r\n\t\t\t\t\tx: e.x,\r\n\t\t\t\t\ty: e.y\r\n\t\t\t\t};\r\n\r\n\t\t\t\tme.update(true);\r\n\t\t\t\tme.pivot();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn changed;\r\n\t}\r\n});\r\n\r\n/**\r\n * @namespace Chart.Tooltip.positioners\r\n */\r\nvar positioners_1 = positioners;\r\n\r\nvar core_tooltip = exports$4;\ncore_tooltip.positioners = positioners_1;\n\nvar valueOrDefault$9 = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('global', {\r\n\telements: {},\r\n\tevents: [\r\n\t\t'mousemove',\r\n\t\t'mouseout',\r\n\t\t'click',\r\n\t\t'touchstart',\r\n\t\t'touchmove'\r\n\t],\r\n\thover: {\r\n\t\tonHover: null,\r\n\t\tmode: 'nearest',\r\n\t\tintersect: true,\r\n\t\tanimationDuration: 400\r\n\t},\r\n\tonClick: null,\r\n\tmaintainAspectRatio: true,\r\n\tresponsive: true,\r\n\tresponsiveAnimationDuration: 0\r\n});\r\n\r\n/**\r\n * Recursively merge the given config objects representing the `scales` option\r\n * by incorporating scale defaults in `xAxes` and `yAxes` array items, then\r\n * returns a deep copy of the result, thus doesn't alter inputs.\r\n */\r\nfunction mergeScaleConfig(/* config objects ... */) {\r\n\treturn helpers$1.merge(Object.create(null), [].slice.call(arguments), {\r\n\t\tmerger: function(key, target, source, options) {\r\n\t\t\tif (key === 'xAxes' || key === 'yAxes') {\r\n\t\t\t\tvar slen = source[key].length;\r\n\t\t\t\tvar i, type, scale;\r\n\r\n\t\t\t\tif (!target[key]) {\r\n\t\t\t\t\ttarget[key] = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (i = 0; i < slen; ++i) {\r\n\t\t\t\t\tscale = source[key][i];\r\n\t\t\t\t\ttype = valueOrDefault$9(scale.type, key === 'xAxes' ? 'category' : 'linear');\r\n\r\n\t\t\t\t\tif (i >= target[key].length) {\r\n\t\t\t\t\t\ttarget[key].push({});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!target[key][i].type || (scale.type && scale.type !== target[key][i].type)) {\r\n\t\t\t\t\t\t// new/untyped scale or type changed: let's apply the new defaults\r\n\t\t\t\t\t\t// then merge source scale to correctly overwrite the defaults.\r\n\t\t\t\t\t\thelpers$1.merge(target[key][i], [core_scaleService.getScaleDefaults(type), scale]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// scales type are the same\r\n\t\t\t\t\t\thelpers$1.merge(target[key][i], scale);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\thelpers$1._merger(key, target, source, options);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * Recursively merge the given config objects as the root options by handling\r\n * default scale options for the `scales` and `scale` properties, then returns\r\n * a deep copy of the result, thus doesn't alter inputs.\r\n */\r\nfunction mergeConfig(/* config objects ... */) {\r\n\treturn helpers$1.merge(Object.create(null), [].slice.call(arguments), {\r\n\t\tmerger: function(key, target, source, options) {\r\n\t\t\tvar tval = target[key] || Object.create(null);\r\n\t\t\tvar sval = source[key];\r\n\r\n\t\t\tif (key === 'scales') {\r\n\t\t\t\t// scale config merging is complex. Add our own function here for that\r\n\t\t\t\ttarget[key] = mergeScaleConfig(tval, sval);\r\n\t\t\t} else if (key === 'scale') {\r\n\t\t\t\t// used in polar area & radar charts since there is only one scale\r\n\t\t\t\ttarget[key] = helpers$1.merge(tval, [core_scaleService.getScaleDefaults(sval.type), sval]);\r\n\t\t\t} else {\r\n\t\t\t\thelpers$1._merger(key, target, source, options);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction initConfig(config) {\r\n\tconfig = config || Object.create(null);\r\n\r\n\t// Do NOT use mergeConfig for the data object because this method merges arrays\r\n\t// and so would change references to labels and datasets, preventing data updates.\r\n\tvar data = config.data = config.data || {};\r\n\tdata.datasets = data.datasets || [];\r\n\tdata.labels = data.labels || [];\r\n\r\n\tconfig.options = mergeConfig(\r\n\t\tcore_defaults.global,\r\n\t\tcore_defaults[config.type],\r\n\t\tconfig.options || {});\r\n\r\n\treturn config;\r\n}\r\n\r\nfunction updateConfig(chart) {\r\n\tvar newOptions = chart.options;\r\n\r\n\thelpers$1.each(chart.scales, function(scale) {\r\n\t\tcore_layouts.removeBox(chart, scale);\r\n\t});\r\n\r\n\tnewOptions = mergeConfig(\r\n\t\tcore_defaults.global,\r\n\t\tcore_defaults[chart.config.type],\r\n\t\tnewOptions);\r\n\r\n\tchart.options = chart.config.options = newOptions;\r\n\tchart.ensureScalesHaveIDs();\r\n\tchart.buildOrUpdateScales();\r\n\r\n\t// Tooltip\r\n\tchart.tooltip._options = newOptions.tooltips;\r\n\tchart.tooltip.initialize();\r\n}\r\n\r\nfunction nextAvailableScaleId(axesOpts, prefix, index) {\r\n\tvar id;\r\n\tvar hasId = function(obj) {\r\n\t\treturn obj.id === id;\r\n\t};\r\n\r\n\tdo {\r\n\t\tid = prefix + index++;\r\n\t} while (helpers$1.findIndex(axesOpts, hasId) >= 0);\r\n\r\n\treturn id;\r\n}\r\n\r\nfunction positionIsHorizontal(position) {\r\n\treturn position === 'top' || position === 'bottom';\r\n}\r\n\r\nfunction compare2Level(l1, l2) {\r\n\treturn function(a, b) {\r\n\t\treturn a[l1] === b[l1]\r\n\t\t\t? a[l2] - b[l2]\r\n\t\t\t: a[l1] - b[l1];\r\n\t};\r\n}\r\n\r\nvar Chart = function(item, config) {\r\n\tthis.construct(item, config);\r\n\treturn this;\r\n};\r\n\r\nhelpers$1.extend(Chart.prototype, /** @lends Chart */ {\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tconstruct: function(item, config) {\r\n\t\tvar me = this;\r\n\r\n\t\tconfig = initConfig(config);\r\n\r\n\t\tvar context = platform.acquireContext(item, config);\r\n\t\tvar canvas = context && context.canvas;\r\n\t\tvar height = canvas && canvas.height;\r\n\t\tvar width = canvas && canvas.width;\r\n\r\n\t\tme.id = helpers$1.uid();\r\n\t\tme.ctx = context;\r\n\t\tme.canvas = canvas;\r\n\t\tme.config = config;\r\n\t\tme.width = width;\r\n\t\tme.height = height;\r\n\t\tme.aspectRatio = height ? width / height : null;\r\n\t\tme.options = config.options;\r\n\t\tme._bufferedRender = false;\r\n\t\tme._layers = [];\r\n\r\n\t\t/**\r\n\t\t * Provided for backward compatibility, Chart and Chart.Controller have been merged,\r\n\t\t * the \"instance\" still need to be defined since it might be called from plugins.\r\n\t\t * @prop Chart#chart\r\n\t\t * @deprecated since version 2.6.0\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\tme.chart = me;\r\n\t\tme.controller = me; // chart.chart.controller #inception\r\n\r\n\t\t// Add the chart instance to the global namespace\r\n\t\tChart.instances[me.id] = me;\r\n\r\n\t\t// Define alias to the config data: `chart.data === chart.config.data`\r\n\t\tObject.defineProperty(me, 'data', {\r\n\t\t\tget: function() {\r\n\t\t\t\treturn me.config.data;\r\n\t\t\t},\r\n\t\t\tset: function(value) {\r\n\t\t\t\tme.config.data = value;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!context || !canvas) {\r\n\t\t\t// The given item is not a compatible context2d element, let's return before finalizing\r\n\t\t\t// the chart initialization but after setting basic chart / controller properties that\r\n\t\t\t// can help to figure out that the chart is not valid (e.g chart.canvas !== null);\r\n\t\t\t// https://github.com/chartjs/Chart.js/issues/2807\r\n\t\t\tconsole.error(\"Failed to create chart: can't acquire context from the given item\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tme.initialize();\r\n\t\tme.update();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tinitialize: function() {\r\n\t\tvar me = this;\r\n\r\n\t\t// Before init plugin notification\r\n\t\tcore_plugins.notify(me, 'beforeInit');\r\n\r\n\t\thelpers$1.retinaScale(me, me.options.devicePixelRatio);\r\n\r\n\t\tme.bindEvents();\r\n\r\n\t\tif (me.options.responsive) {\r\n\t\t\t// Initial resize before chart draws (must be silent to preserve initial animations).\r\n\t\t\tme.resize(true);\r\n\t\t}\r\n\r\n\t\tme.initToolTip();\r\n\r\n\t\t// After init plugin notification\r\n\t\tcore_plugins.notify(me, 'afterInit');\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\tclear: function() {\r\n\t\thelpers$1.canvas.clear(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tstop: function() {\r\n\t\t// Stops any current animation loop occurring\r\n\t\tcore_animations.cancelAnimation(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tresize: function(silent) {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar canvas = me.canvas;\r\n\t\tvar aspectRatio = (options.maintainAspectRatio && me.aspectRatio) || null;\r\n\r\n\t\t// the canvas render width and height will be casted to integers so make sure that\r\n\t\t// the canvas display style uses the same integer values to avoid blurring effect.\r\n\r\n\t\t// Set to 0 instead of canvas.size because the size defaults to 300x150 if the element is collapsed\r\n\t\tvar newWidth = Math.max(0, Math.floor(helpers$1.getMaximumWidth(canvas)));\r\n\t\tvar newHeight = Math.max(0, Math.floor(aspectRatio ? newWidth / aspectRatio : helpers$1.getMaximumHeight(canvas)));\r\n\r\n\t\tif (me.width === newWidth && me.height === newHeight) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcanvas.width = me.width = newWidth;\r\n\t\tcanvas.height = me.height = newHeight;\r\n\t\tcanvas.style.width = newWidth + 'px';\r\n\t\tcanvas.style.height = newHeight + 'px';\r\n\r\n\t\thelpers$1.retinaScale(me, options.devicePixelRatio);\r\n\r\n\t\tif (!silent) {\r\n\t\t\t// Notify any plugins about the resize\r\n\t\t\tvar newSize = {width: newWidth, height: newHeight};\r\n\t\t\tcore_plugins.notify(me, 'resize', [newSize]);\r\n\r\n\t\t\t// Notify of resize\r\n\t\t\tif (options.onResize) {\r\n\t\t\t\toptions.onResize(me, newSize);\r\n\t\t\t}\r\n\r\n\t\t\tme.stop();\r\n\t\t\tme.update({\r\n\t\t\t\tduration: options.responsiveAnimationDuration\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\tensureScalesHaveIDs: function() {\r\n\t\tvar options = this.options;\r\n\t\tvar scalesOptions = options.scales || {};\r\n\t\tvar scaleOptions = options.scale;\r\n\r\n\t\thelpers$1.each(scalesOptions.xAxes, function(xAxisOptions, index) {\r\n\t\t\tif (!xAxisOptions.id) {\r\n\t\t\t\txAxisOptions.id = nextAvailableScaleId(scalesOptions.xAxes, 'x-axis-', index);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thelpers$1.each(scalesOptions.yAxes, function(yAxisOptions, index) {\r\n\t\t\tif (!yAxisOptions.id) {\r\n\t\t\t\tyAxisOptions.id = nextAvailableScaleId(scalesOptions.yAxes, 'y-axis-', index);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (scaleOptions) {\r\n\t\t\tscaleOptions.id = scaleOptions.id || 'scale';\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Builds a map of scale ID to scale object for future lookup.\r\n\t */\r\n\tbuildOrUpdateScales: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar scales = me.scales || {};\r\n\t\tvar items = [];\r\n\t\tvar updated = Object.keys(scales).reduce(function(obj, id) {\r\n\t\t\tobj[id] = false;\r\n\t\t\treturn obj;\r\n\t\t}, {});\r\n\r\n\t\tif (options.scales) {\r\n\t\t\titems = items.concat(\r\n\t\t\t\t(options.scales.xAxes || []).map(function(xAxisOptions) {\r\n\t\t\t\t\treturn {options: xAxisOptions, dtype: 'category', dposition: 'bottom'};\r\n\t\t\t\t}),\r\n\t\t\t\t(options.scales.yAxes || []).map(function(yAxisOptions) {\r\n\t\t\t\t\treturn {options: yAxisOptions, dtype: 'linear', dposition: 'left'};\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (options.scale) {\r\n\t\t\titems.push({\r\n\t\t\t\toptions: options.scale,\r\n\t\t\t\tdtype: 'radialLinear',\r\n\t\t\t\tisDefault: true,\r\n\t\t\t\tdposition: 'chartArea'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\thelpers$1.each(items, function(item) {\r\n\t\t\tvar scaleOptions = item.options;\r\n\t\t\tvar id = scaleOptions.id;\r\n\t\t\tvar scaleType = valueOrDefault$9(scaleOptions.type, item.dtype);\r\n\r\n\t\t\tif (positionIsHorizontal(scaleOptions.position) !== positionIsHorizontal(item.dposition)) {\r\n\t\t\t\tscaleOptions.position = item.dposition;\r\n\t\t\t}\r\n\r\n\t\t\tupdated[id] = true;\r\n\t\t\tvar scale = null;\r\n\t\t\tif (id in scales && scales[id].type === scaleType) {\r\n\t\t\t\tscale = scales[id];\r\n\t\t\t\tscale.options = scaleOptions;\r\n\t\t\t\tscale.ctx = me.ctx;\r\n\t\t\t\tscale.chart = me;\r\n\t\t\t} else {\r\n\t\t\t\tvar scaleClass = core_scaleService.getScaleConstructor(scaleType);\r\n\t\t\t\tif (!scaleClass) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tscale = new scaleClass({\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\ttype: scaleType,\r\n\t\t\t\t\toptions: scaleOptions,\r\n\t\t\t\t\tctx: me.ctx,\r\n\t\t\t\t\tchart: me\r\n\t\t\t\t});\r\n\t\t\t\tscales[scale.id] = scale;\r\n\t\t\t}\r\n\r\n\t\t\tscale.mergeTicksOptions();\r\n\r\n\t\t\t// TODO(SB): I think we should be able to remove this custom case (options.scale)\r\n\t\t\t// and consider it as a regular scale part of the \"scales\"\" map only! This would\r\n\t\t\t// make the logic easier and remove some useless? custom code.\r\n\t\t\tif (item.isDefault) {\r\n\t\t\t\tme.scale = scale;\r\n\t\t\t}\r\n\t\t});\r\n\t\t// clear up discarded scales\r\n\t\thelpers$1.each(updated, function(hasUpdated, id) {\r\n\t\t\tif (!hasUpdated) {\r\n\t\t\t\tdelete scales[id];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tme.scales = scales;\r\n\r\n\t\tcore_scaleService.addScalesToLayout(this);\r\n\t},\r\n\r\n\tbuildOrUpdateControllers: function() {\r\n\t\tvar me = this;\r\n\t\tvar newControllers = [];\r\n\t\tvar datasets = me.data.datasets;\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; i++) {\r\n\t\t\tvar dataset = datasets[i];\r\n\t\t\tvar meta = me.getDatasetMeta(i);\r\n\t\t\tvar type = dataset.type || me.config.type;\r\n\r\n\t\t\tif (meta.type && meta.type !== type) {\r\n\t\t\t\tme.destroyDatasetMeta(i);\r\n\t\t\t\tmeta = me.getDatasetMeta(i);\r\n\t\t\t}\r\n\t\t\tmeta.type = type;\r\n\t\t\tmeta.order = dataset.order || 0;\r\n\t\t\tmeta.index = i;\r\n\r\n\t\t\tif (meta.controller) {\r\n\t\t\t\tmeta.controller.updateIndex(i);\r\n\t\t\t\tmeta.controller.linkScales();\r\n\t\t\t} else {\r\n\t\t\t\tvar ControllerClass = controllers[meta.type];\r\n\t\t\t\tif (ControllerClass === undefined) {\r\n\t\t\t\t\tthrow new Error('\"' + meta.type + '\" is not a chart type.');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmeta.controller = new ControllerClass(me, i);\r\n\t\t\t\tnewControllers.push(meta.controller);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn newControllers;\r\n\t},\r\n\r\n\t/**\r\n\t * Reset the elements of all datasets\r\n\t * @private\r\n\t */\r\n\tresetElements: function() {\r\n\t\tvar me = this;\r\n\t\thelpers$1.each(me.data.datasets, function(dataset, datasetIndex) {\r\n\t\t\tme.getDatasetMeta(datasetIndex).controller.reset();\r\n\t\t}, me);\r\n\t},\r\n\r\n\t/**\r\n\t* Resets the chart back to it's state before the initial animation\r\n\t*/\r\n\treset: function() {\r\n\t\tthis.resetElements();\r\n\t\tthis.tooltip.initialize();\r\n\t},\r\n\r\n\tupdate: function(config) {\r\n\t\tvar me = this;\r\n\t\tvar i, ilen;\r\n\r\n\t\tif (!config || typeof config !== 'object') {\r\n\t\t\t// backwards compatibility\r\n\t\t\tconfig = {\r\n\t\t\t\tduration: config,\r\n\t\t\t\tlazy: arguments[1]\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tupdateConfig(me);\r\n\r\n\t\t// plugins options references might have change, let's invalidate the cache\r\n\t\t// https://github.com/chartjs/Chart.js/issues/5111#issuecomment-355934167\r\n\t\tcore_plugins._invalidate(me);\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeUpdate') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// In case the entire data object changed\r\n\t\tme.tooltip._data = me.data;\r\n\r\n\t\t// Make sure dataset controllers are updated and new controllers are reset\r\n\t\tvar newControllers = me.buildOrUpdateControllers();\r\n\r\n\t\t// Make sure all dataset controllers have correct meta data counts\r\n\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; i++) {\r\n\t\t\tme.getDatasetMeta(i).controller.buildOrUpdateElements();\r\n\t\t}\r\n\r\n\t\tme.updateLayout();\r\n\r\n\t\t// Can only reset the new controllers after the scales have been updated\r\n\t\tif (me.options.animation && me.options.animation.duration) {\r\n\t\t\thelpers$1.each(newControllers, function(controller) {\r\n\t\t\t\tcontroller.reset();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tme.updateDatasets();\r\n\r\n\t\t// Need to reset tooltip in case it is displayed with elements that are removed\r\n\t\t// after update.\r\n\t\tme.tooltip.initialize();\r\n\r\n\t\t// Last active contains items that were previously in the tooltip.\r\n\t\t// When we reset the tooltip, we need to clear it\r\n\t\tme.lastActive = [];\r\n\r\n\t\t// Do this before render so that any plugins that need final scale updates can use it\r\n\t\tcore_plugins.notify(me, 'afterUpdate');\r\n\r\n\t\tme._layers.sort(compare2Level('z', '_idx'));\r\n\r\n\t\tif (me._bufferedRender) {\r\n\t\t\tme._bufferedRequest = {\r\n\t\t\t\tduration: config.duration,\r\n\t\t\t\teasing: config.easing,\r\n\t\t\t\tlazy: config.lazy\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tme.render(config);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Updates the chart layout unless a plugin returns `false` to the `beforeLayout`\r\n\t * hook, in which case, plugins will not be called on `afterLayout`.\r\n\t * @private\r\n\t */\r\n\tupdateLayout: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeLayout') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcore_layouts.update(this, this.width, this.height);\r\n\r\n\t\tme._layers = [];\r\n\t\thelpers$1.each(me.boxes, function(box) {\r\n\t\t\t// _configure is called twice, once in core.scale.update and once here.\r\n\t\t\t// Here the boxes are fully updated and at their final positions.\r\n\t\t\tif (box._configure) {\r\n\t\t\t\tbox._configure();\r\n\t\t\t}\r\n\t\t\tme._layers.push.apply(me._layers, box._layers());\r\n\t\t}, me);\r\n\r\n\t\tme._layers.forEach(function(item, index) {\r\n\t\t\titem._idx = index;\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * Provided for backward compatibility, use `afterLayout` instead.\r\n\t\t * @method IPlugin#afterScaleUpdate\r\n\t\t * @deprecated since version 2.5.0\r\n\t\t * @todo remove at version 3\r\n\t\t * @private\r\n\t\t */\r\n\t\tcore_plugins.notify(me, 'afterScaleUpdate');\r\n\t\tcore_plugins.notify(me, 'afterLayout');\r\n\t},\r\n\r\n\t/**\r\n\t * Updates all datasets unless a plugin returns `false` to the `beforeDatasetsUpdate`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetsUpdate`.\r\n\t * @private\r\n\t */\r\n\tupdateDatasets: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetsUpdate') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (var i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tme.updateDataset(i);\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetsUpdate');\r\n\t},\r\n\r\n\t/**\r\n\t * Updates dataset at index unless a plugin returns `false` to the `beforeDatasetUpdate`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetUpdate`.\r\n\t * @private\r\n\t */\r\n\tupdateDataset: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar meta = me.getDatasetMeta(index);\r\n\t\tvar args = {\r\n\t\t\tmeta: meta,\r\n\t\t\tindex: index\r\n\t\t};\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetUpdate', [args]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmeta.controller._update();\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetUpdate', [args]);\r\n\t},\r\n\r\n\trender: function(config) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (!config || typeof config !== 'object') {\r\n\t\t\t// backwards compatibility\r\n\t\t\tconfig = {\r\n\t\t\t\tduration: config,\r\n\t\t\t\tlazy: arguments[1]\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tvar animationOptions = me.options.animation;\r\n\t\tvar duration = valueOrDefault$9(config.duration, animationOptions && animationOptions.duration);\r\n\t\tvar lazy = config.lazy;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeRender') === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar onComplete = function(animation) {\r\n\t\t\tcore_plugins.notify(me, 'afterRender');\r\n\t\t\thelpers$1.callback(animationOptions && animationOptions.onComplete, [animation], me);\r\n\t\t};\r\n\r\n\t\tif (animationOptions && duration) {\r\n\t\t\tvar animation = new core_animation({\r\n\t\t\t\tnumSteps: duration / 16.66, // 60 fps\r\n\t\t\t\teasing: config.easing || animationOptions.easing,\r\n\r\n\t\t\t\trender: function(chart, animationObject) {\r\n\t\t\t\t\tvar easingFunction = helpers$1.easing.effects[animationObject.easing];\r\n\t\t\t\t\tvar currentStep = animationObject.currentStep;\r\n\t\t\t\t\tvar stepDecimal = currentStep / animationObject.numSteps;\r\n\r\n\t\t\t\t\tchart.draw(easingFunction(stepDecimal), stepDecimal, currentStep);\r\n\t\t\t\t},\r\n\r\n\t\t\t\tonAnimationProgress: animationOptions.onProgress,\r\n\t\t\t\tonAnimationComplete: onComplete\r\n\t\t\t});\r\n\r\n\t\t\tcore_animations.addAnimation(me, animation, duration, lazy);\r\n\t\t} else {\r\n\t\t\tme.draw();\r\n\r\n\t\t\t// See https://github.com/chartjs/Chart.js/issues/3781\r\n\t\t\tonComplete(new core_animation({numSteps: 0, chart: me}));\r\n\t\t}\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\tdraw: function(easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar i, layers;\r\n\r\n\t\tme.clear();\r\n\r\n\t\tif (helpers$1.isNullOrUndef(easingValue)) {\r\n\t\t\teasingValue = 1;\r\n\t\t}\r\n\r\n\t\tme.transition(easingValue);\r\n\r\n\t\tif (me.width <= 0 || me.height <= 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDraw', [easingValue]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Because of plugin hooks (before/afterDatasetsDraw), datasets can't\r\n\t\t// currently be part of layers. Instead, we draw\r\n\t\t// layers <= 0 before(default, backward compat), and the rest after\r\n\t\tlayers = me._layers;\r\n\t\tfor (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\r\n\t\t\tlayers[i].draw(me.chartArea);\r\n\t\t}\r\n\r\n\t\tme.drawDatasets(easingValue);\r\n\r\n\t\t// Rest of layers\r\n\t\tfor (; i < layers.length; ++i) {\r\n\t\t\tlayers[i].draw(me.chartArea);\r\n\t\t}\r\n\r\n\t\tme._drawTooltip(easingValue);\r\n\r\n\t\tcore_plugins.notify(me, 'afterDraw', [easingValue]);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\ttransition: function(easingValue) {\r\n\t\tvar me = this;\r\n\r\n\t\tfor (var i = 0, ilen = (me.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\tif (me.isDatasetVisible(i)) {\r\n\t\t\t\tme.getDatasetMeta(i).controller.transition(easingValue);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.tooltip.transition(easingValue);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getSortedDatasetMetas: function(filterVisible) {\r\n\t\tvar me = this;\r\n\t\tvar datasets = me.data.datasets || [];\r\n\t\tvar result = [];\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; ++i) {\r\n\t\t\tif (!filterVisible || me.isDatasetVisible(i)) {\r\n\t\t\t\tresult.push(me.getDatasetMeta(i));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tresult.sort(compare2Level('order', 'index'));\r\n\r\n\t\treturn result;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getSortedVisibleDatasetMetas: function() {\r\n\t\treturn this._getSortedDatasetMetas(true);\r\n\t},\r\n\r\n\t/**\r\n\t * Draws all datasets unless a plugin returns `false` to the `beforeDatasetsDraw`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetsDraw`.\r\n\t * @private\r\n\t */\r\n\tdrawDatasets: function(easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar metasets, i;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetsDraw', [easingValue]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmetasets = me._getSortedVisibleDatasetMetas();\r\n\t\tfor (i = metasets.length - 1; i >= 0; --i) {\r\n\t\t\tme.drawDataset(metasets[i], easingValue);\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetsDraw', [easingValue]);\r\n\t},\r\n\r\n\t/**\r\n\t * Draws dataset at index unless a plugin returns `false` to the `beforeDatasetDraw`\r\n\t * hook, in which case, plugins will not be called on `afterDatasetDraw`.\r\n\t * @private\r\n\t */\r\n\tdrawDataset: function(meta, easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar args = {\r\n\t\t\tmeta: meta,\r\n\t\t\tindex: meta.index,\r\n\t\t\teasingValue: easingValue\r\n\t\t};\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeDatasetDraw', [args]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmeta.controller.draw(easingValue);\r\n\r\n\t\tcore_plugins.notify(me, 'afterDatasetDraw', [args]);\r\n\t},\r\n\r\n\t/**\r\n\t * Draws tooltip unless a plugin returns `false` to the `beforeTooltipDraw`\r\n\t * hook, in which case, plugins will not be called on `afterTooltipDraw`.\r\n\t * @private\r\n\t */\r\n\t_drawTooltip: function(easingValue) {\r\n\t\tvar me = this;\r\n\t\tvar tooltip = me.tooltip;\r\n\t\tvar args = {\r\n\t\t\ttooltip: tooltip,\r\n\t\t\teasingValue: easingValue\r\n\t\t};\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeTooltipDraw', [args]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttooltip.draw();\r\n\r\n\t\tcore_plugins.notify(me, 'afterTooltipDraw', [args]);\r\n\t},\r\n\r\n\t/**\r\n\t * Get the single element that was clicked on\r\n\t * @return An object containing the dataset index and element index of the matching element. Also contains the rectangle that was draw\r\n\t */\r\n\tgetElementAtEvent: function(e) {\r\n\t\treturn core_interaction.modes.single(this, e);\r\n\t},\r\n\r\n\tgetElementsAtEvent: function(e) {\r\n\t\treturn core_interaction.modes.label(this, e, {intersect: true});\r\n\t},\r\n\r\n\tgetElementsAtXAxis: function(e) {\r\n\t\treturn core_interaction.modes['x-axis'](this, e, {intersect: true});\r\n\t},\r\n\r\n\tgetElementsAtEventForMode: function(e, mode, options) {\r\n\t\tvar method = core_interaction.modes[mode];\r\n\t\tif (typeof method === 'function') {\r\n\t\t\treturn method(this, e, options);\r\n\t\t}\r\n\r\n\t\treturn [];\r\n\t},\r\n\r\n\tgetDatasetAtEvent: function(e) {\r\n\t\treturn core_interaction.modes.dataset(this, e, {intersect: true});\r\n\t},\r\n\r\n\tgetDatasetMeta: function(datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar dataset = me.data.datasets[datasetIndex];\r\n\t\tif (!dataset._meta) {\r\n\t\t\tdataset._meta = {};\r\n\t\t}\r\n\r\n\t\tvar meta = dataset._meta[me.id];\r\n\t\tif (!meta) {\r\n\t\t\tmeta = dataset._meta[me.id] = {\r\n\t\t\t\ttype: null,\r\n\t\t\t\tdata: [],\r\n\t\t\t\tdataset: null,\r\n\t\t\t\tcontroller: null,\r\n\t\t\t\thidden: null,\t\t\t// See isDatasetVisible() comment\r\n\t\t\t\txAxisID: null,\r\n\t\t\t\tyAxisID: null,\r\n\t\t\t\torder: dataset.order || 0,\r\n\t\t\t\tindex: datasetIndex\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn meta;\r\n\t},\r\n\r\n\tgetVisibleDatasetCount: function() {\r\n\t\tvar count = 0;\r\n\t\tfor (var i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tif (this.isDatasetVisible(i)) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t},\r\n\r\n\tisDatasetVisible: function(datasetIndex) {\r\n\t\tvar meta = this.getDatasetMeta(datasetIndex);\r\n\r\n\t\t// meta.hidden is a per chart dataset hidden flag override with 3 states: if true or false,\r\n\t\t// the dataset.hidden value is ignored, else if null, the dataset hidden state is returned.\r\n\t\treturn typeof meta.hidden === 'boolean' ? !meta.hidden : !this.data.datasets[datasetIndex].hidden;\r\n\t},\r\n\r\n\tgenerateLegend: function() {\r\n\t\treturn this.options.legendCallback(this);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tdestroyDatasetMeta: function(datasetIndex) {\r\n\t\tvar id = this.id;\r\n\t\tvar dataset = this.data.datasets[datasetIndex];\r\n\t\tvar meta = dataset._meta && dataset._meta[id];\r\n\r\n\t\tif (meta) {\r\n\t\t\tmeta.controller.destroy();\r\n\t\t\tdelete dataset._meta[id];\r\n\t\t}\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tvar me = this;\r\n\t\tvar canvas = me.canvas;\r\n\t\tvar i, ilen;\r\n\r\n\t\tme.stop();\r\n\r\n\t\t// dataset controllers need to cleanup associated data\r\n\t\tfor (i = 0, ilen = me.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tme.destroyDatasetMeta(i);\r\n\t\t}\r\n\r\n\t\tif (canvas) {\r\n\t\t\tme.unbindEvents();\r\n\t\t\thelpers$1.canvas.clear(me);\r\n\t\t\tplatform.releaseContext(me.ctx);\r\n\t\t\tme.canvas = null;\r\n\t\t\tme.ctx = null;\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'destroy');\r\n\r\n\t\tdelete Chart.instances[me.id];\r\n\t},\r\n\r\n\ttoBase64Image: function() {\r\n\t\treturn this.canvas.toDataURL.apply(this.canvas, arguments);\r\n\t},\r\n\r\n\tinitToolTip: function() {\r\n\t\tvar me = this;\r\n\t\tme.tooltip = new core_tooltip({\r\n\t\t\t_chart: me,\r\n\t\t\t_chartInstance: me, // deprecated, backward compatibility\r\n\t\t\t_data: me.data,\r\n\t\t\t_options: me.options.tooltips\r\n\t\t}, me);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tbindEvents: function() {\r\n\t\tvar me = this;\r\n\t\tvar listeners = me._listeners = {};\r\n\t\tvar listener = function() {\r\n\t\t\tme.eventHandler.apply(me, arguments);\r\n\t\t};\r\n\r\n\t\thelpers$1.each(me.options.events, function(type) {\r\n\t\t\tplatform.addEventListener(me, type, listener);\r\n\t\t\tlisteners[type] = listener;\r\n\t\t});\r\n\r\n\t\t// Elements used to detect size change should not be injected for non responsive charts.\r\n\t\t// See https://github.com/chartjs/Chart.js/issues/2210\r\n\t\tif (me.options.responsive) {\r\n\t\t\tlistener = function() {\r\n\t\t\t\tme.resize();\r\n\t\t\t};\r\n\r\n\t\t\tplatform.addEventListener(me, 'resize', listener);\r\n\t\t\tlisteners.resize = listener;\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tunbindEvents: function() {\r\n\t\tvar me = this;\r\n\t\tvar listeners = me._listeners;\r\n\t\tif (!listeners) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdelete me._listeners;\r\n\t\thelpers$1.each(listeners, function(listener, type) {\r\n\t\t\tplatform.removeEventListener(me, type, listener);\r\n\t\t});\r\n\t},\r\n\r\n\tupdateHoverStyle: function(elements, mode, enabled) {\r\n\t\tvar prefix = enabled ? 'set' : 'remove';\r\n\t\tvar element, i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = elements.length; i < ilen; ++i) {\r\n\t\t\telement = elements[i];\r\n\t\t\tif (element) {\r\n\t\t\t\tthis.getDatasetMeta(element._datasetIndex).controller[prefix + 'HoverStyle'](element);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (mode === 'dataset') {\r\n\t\t\tthis.getDatasetMeta(elements[0]._datasetIndex).controller['_' + prefix + 'DatasetHoverStyle']();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\teventHandler: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar tooltip = me.tooltip;\r\n\r\n\t\tif (core_plugins.notify(me, 'beforeEvent', [e]) === false) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Buffer any update calls so that renders do not occur\r\n\t\tme._bufferedRender = true;\r\n\t\tme._bufferedRequest = null;\r\n\r\n\t\tvar changed = me.handleEvent(e);\r\n\t\t// for smooth tooltip animations issue #4989\r\n\t\t// the tooltip should be the source of change\r\n\t\t// Animation check workaround:\r\n\t\t// tooltip._start will be null when tooltip isn't animating\r\n\t\tif (tooltip) {\r\n\t\t\tchanged = tooltip._start\r\n\t\t\t\t? tooltip.handleEvent(e)\r\n\t\t\t\t: changed | tooltip.handleEvent(e);\r\n\t\t}\r\n\r\n\t\tcore_plugins.notify(me, 'afterEvent', [e]);\r\n\r\n\t\tvar bufferedRequest = me._bufferedRequest;\r\n\t\tif (bufferedRequest) {\r\n\t\t\t// If we have an update that was triggered, we need to do a normal render\r\n\t\t\tme.render(bufferedRequest);\r\n\t\t} else if (changed && !me.animating) {\r\n\t\t\t// If entering, leaving, or changing elements, animate the change via pivot\r\n\t\t\tme.stop();\r\n\r\n\t\t\t// We only need to render at this point. Updating will cause scales to be\r\n\t\t\t// recomputed generating flicker & using more memory than necessary.\r\n\t\t\tme.render({\r\n\t\t\t\tduration: me.options.hover.animationDuration,\r\n\t\t\t\tlazy: true\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tme._bufferedRender = false;\r\n\t\tme._bufferedRequest = null;\r\n\r\n\t\treturn me;\r\n\t},\r\n\r\n\t/**\r\n\t * Handle an event\r\n\t * @private\r\n\t * @param {IEvent} event the event to handle\r\n\t * @return {boolean} true if the chart needs to re-render\r\n\t */\r\n\thandleEvent: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options || {};\r\n\t\tvar hoverOptions = options.hover;\r\n\t\tvar changed = false;\r\n\r\n\t\tme.lastActive = me.lastActive || [];\r\n\r\n\t\t// Find Active Elements for hover and tooltips\r\n\t\tif (e.type === 'mouseout') {\r\n\t\t\tme.active = [];\r\n\t\t} else {\r\n\t\t\tme.active = me.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions);\r\n\t\t}\r\n\r\n\t\t// Invoke onHover hook\r\n\t\t// Need to call with native event here to not break backwards compatibility\r\n\t\thelpers$1.callback(options.onHover || options.hover.onHover, [e.native, me.active], me);\r\n\r\n\t\tif (e.type === 'mouseup' || e.type === 'click') {\r\n\t\t\tif (options.onClick) {\r\n\t\t\t\t// Use e.native here for backwards compatibility\r\n\t\t\t\toptions.onClick.call(me, e.native, me.active);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remove styling for last active (even if it may still be active)\r\n\t\tif (me.lastActive.length) {\r\n\t\t\tme.updateHoverStyle(me.lastActive, hoverOptions.mode, false);\r\n\t\t}\r\n\r\n\t\t// Built in hover styling\r\n\t\tif (me.active.length && hoverOptions.mode) {\r\n\t\t\tme.updateHoverStyle(me.active, hoverOptions.mode, true);\r\n\t\t}\r\n\r\n\t\tchanged = !helpers$1.arrayEquals(me.active, me.lastActive);\r\n\r\n\t\t// Remember Last Actives\r\n\t\tme.lastActive = me.active;\r\n\r\n\t\treturn changed;\r\n\t}\r\n});\r\n\r\n/**\r\n * NOTE(SB) We actually don't use this container anymore but we need to keep it\r\n * for backward compatibility. Though, it can still be useful for plugins that\r\n * would need to work on multiple charts?!\r\n */\r\nChart.instances = {};\r\n\r\nvar core_controller = Chart;\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart instead.\r\n * @class Chart.Controller\r\n * @deprecated since version 2.6\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nChart.Controller = Chart;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart\r\n * @deprecated since version 2.8\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nChart.types = {};\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart.helpers.configMerge\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.configMerge = mergeConfig;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart.helpers.scaleMerge\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\nhelpers$1.scaleMerge = mergeScaleConfig;\n\nvar core_helpers = function() {\r\n\r\n\t// -- Basic js utility methods\r\n\r\n\thelpers$1.where = function(collection, filterCallback) {\r\n\t\tif (helpers$1.isArray(collection) && Array.prototype.filter) {\r\n\t\t\treturn collection.filter(filterCallback);\r\n\t\t}\r\n\t\tvar filtered = [];\r\n\r\n\t\thelpers$1.each(collection, function(item) {\r\n\t\t\tif (filterCallback(item)) {\r\n\t\t\t\tfiltered.push(item);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn filtered;\r\n\t};\r\n\thelpers$1.findIndex = Array.prototype.findIndex ?\r\n\t\tfunction(array, callback, scope) {\r\n\t\t\treturn array.findIndex(callback, scope);\r\n\t\t} :\r\n\t\tfunction(array, callback, scope) {\r\n\t\t\tscope = scope === undefined ? array : scope;\r\n\t\t\tfor (var i = 0, ilen = array.length; i < ilen; ++i) {\r\n\t\t\t\tif (callback.call(scope, array[i], i, array)) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn -1;\r\n\t\t};\r\n\thelpers$1.findNextWhere = function(arrayToSearch, filterCallback, startIndex) {\r\n\t\t// Default to start of the array\r\n\t\tif (helpers$1.isNullOrUndef(startIndex)) {\r\n\t\t\tstartIndex = -1;\r\n\t\t}\r\n\t\tfor (var i = startIndex + 1; i < arrayToSearch.length; i++) {\r\n\t\t\tvar currentItem = arrayToSearch[i];\r\n\t\t\tif (filterCallback(currentItem)) {\r\n\t\t\t\treturn currentItem;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\thelpers$1.findPreviousWhere = function(arrayToSearch, filterCallback, startIndex) {\r\n\t\t// Default to end of the array\r\n\t\tif (helpers$1.isNullOrUndef(startIndex)) {\r\n\t\t\tstartIndex = arrayToSearch.length;\r\n\t\t}\r\n\t\tfor (var i = startIndex - 1; i >= 0; i--) {\r\n\t\t\tvar currentItem = arrayToSearch[i];\r\n\t\t\tif (filterCallback(currentItem)) {\r\n\t\t\t\treturn currentItem;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// -- Math methods\r\n\thelpers$1.isNumber = function(n) {\r\n\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\r\n\t};\r\n\thelpers$1.almostEquals = function(x, y, epsilon) {\r\n\t\treturn Math.abs(x - y) < epsilon;\r\n\t};\r\n\thelpers$1.almostWhole = function(x, epsilon) {\r\n\t\tvar rounded = Math.round(x);\r\n\t\treturn ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\r\n\t};\r\n\thelpers$1.max = function(array) {\r\n\t\treturn array.reduce(function(max, value) {\r\n\t\t\tif (!isNaN(value)) {\r\n\t\t\t\treturn Math.max(max, value);\r\n\t\t\t}\r\n\t\t\treturn max;\r\n\t\t}, Number.NEGATIVE_INFINITY);\r\n\t};\r\n\thelpers$1.min = function(array) {\r\n\t\treturn array.reduce(function(min, value) {\r\n\t\t\tif (!isNaN(value)) {\r\n\t\t\t\treturn Math.min(min, value);\r\n\t\t\t}\r\n\t\t\treturn min;\r\n\t\t}, Number.POSITIVE_INFINITY);\r\n\t};\r\n\thelpers$1.sign = Math.sign ?\r\n\t\tfunction(x) {\r\n\t\t\treturn Math.sign(x);\r\n\t\t} :\r\n\t\tfunction(x) {\r\n\t\t\tx = +x; // convert to a number\r\n\t\t\tif (x === 0 || isNaN(x)) {\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t\treturn x > 0 ? 1 : -1;\r\n\t\t};\r\n\thelpers$1.toRadians = function(degrees) {\r\n\t\treturn degrees * (Math.PI / 180);\r\n\t};\r\n\thelpers$1.toDegrees = function(radians) {\r\n\t\treturn radians * (180 / Math.PI);\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the number of decimal places\r\n\t * i.e. the number of digits after the decimal point, of the value of this Number.\r\n\t * @param {number} x - A number.\r\n\t * @returns {number} The number of decimal places.\r\n\t * @private\r\n\t */\r\n\thelpers$1._decimalPlaces = function(x) {\r\n\t\tif (!helpers$1.isFinite(x)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar e = 1;\r\n\t\tvar p = 0;\r\n\t\twhile (Math.round(x * e) / e !== x) {\r\n\t\t\te *= 10;\r\n\t\t\tp++;\r\n\t\t}\r\n\t\treturn p;\r\n\t};\r\n\r\n\t// Gets the angle from vertical upright to the point about a centre.\r\n\thelpers$1.getAngleFromPoint = function(centrePoint, anglePoint) {\r\n\t\tvar distanceFromXCenter = anglePoint.x - centrePoint.x;\r\n\t\tvar distanceFromYCenter = anglePoint.y - centrePoint.y;\r\n\t\tvar radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\r\n\r\n\t\tvar angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\r\n\r\n\t\tif (angle < (-0.5 * Math.PI)) {\r\n\t\t\tangle += 2.0 * Math.PI; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tangle: angle,\r\n\t\t\tdistance: radialDistanceFromCenter\r\n\t\t};\r\n\t};\r\n\thelpers$1.distanceBetweenPoints = function(pt1, pt2) {\r\n\t\treturn Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\r\n\t};\r\n\r\n\t/**\r\n\t * Provided for backward compatibility, not available anymore\r\n\t * @function Chart.helpers.aliasPixel\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t */\r\n\thelpers$1.aliasPixel = function(pixelWidth) {\r\n\t\treturn (pixelWidth % 2 === 0) ? 0 : 0.5;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns the aligned pixel value to avoid anti-aliasing blur\r\n\t * @param {Chart} chart - The chart instance.\r\n\t * @param {number} pixel - A pixel value.\r\n\t * @param {number} width - The width of the element.\r\n\t * @returns {number} The aligned pixel value.\r\n\t * @private\r\n\t */\r\n\thelpers$1._alignPixel = function(chart, pixel, width) {\r\n\t\tvar devicePixelRatio = chart.currentDevicePixelRatio;\r\n\t\tvar halfWidth = width / 2;\r\n\t\treturn Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\r\n\t};\r\n\r\n\thelpers$1.splineCurve = function(firstPoint, middlePoint, afterPoint, t) {\r\n\t\t// Props to Rob Spencer at scaled innovation for his post on splining between points\r\n\t\t// http://scaledinnovation.com/analytics/splines/aboutSplines.html\r\n\r\n\t\t// This function must also respect \"skipped\" points\r\n\r\n\t\tvar previous = firstPoint.skip ? middlePoint : firstPoint;\r\n\t\tvar current = middlePoint;\r\n\t\tvar next = afterPoint.skip ? middlePoint : afterPoint;\r\n\r\n\t\tvar d01 = Math.sqrt(Math.pow(current.x - previous.x, 2) + Math.pow(current.y - previous.y, 2));\r\n\t\tvar d12 = Math.sqrt(Math.pow(next.x - current.x, 2) + Math.pow(next.y - current.y, 2));\r\n\r\n\t\tvar s01 = d01 / (d01 + d12);\r\n\t\tvar s12 = d12 / (d01 + d12);\r\n\r\n\t\t// If all points are the same, s01 & s02 will be inf\r\n\t\ts01 = isNaN(s01) ? 0 : s01;\r\n\t\ts12 = isNaN(s12) ? 0 : s12;\r\n\r\n\t\tvar fa = t * s01; // scaling factor for triangle Ta\r\n\t\tvar fb = t * s12;\r\n\r\n\t\treturn {\r\n\t\t\tprevious: {\r\n\t\t\t\tx: current.x - fa * (next.x - previous.x),\r\n\t\t\t\ty: current.y - fa * (next.y - previous.y)\r\n\t\t\t},\r\n\t\t\tnext: {\r\n\t\t\t\tx: current.x + fb * (next.x - previous.x),\r\n\t\t\t\ty: current.y + fb * (next.y - previous.y)\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\thelpers$1.EPSILON = Number.EPSILON || 1e-14;\r\n\thelpers$1.splineCurveMonotone = function(points) {\r\n\t\t// This function calculates Bzier control points in a similar way than |splineCurve|,\r\n\t\t// but preserves monotonicity of the provided data and ensures no local extremums are added\r\n\t\t// between the dataset discrete points due to the interpolation.\r\n\t\t// See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\r\n\r\n\t\tvar pointsWithTangents = (points || []).map(function(point) {\r\n\t\t\treturn {\r\n\t\t\t\tmodel: point._model,\r\n\t\t\t\tdeltaK: 0,\r\n\t\t\t\tmK: 0\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\t// Calculate slopes (deltaK) and initialize tangents (mK)\r\n\t\tvar pointsLen = pointsWithTangents.length;\r\n\t\tvar i, pointBefore, pointCurrent, pointAfter;\r\n\t\tfor (i = 0; i < pointsLen; ++i) {\r\n\t\t\tpointCurrent = pointsWithTangents[i];\r\n\t\t\tif (pointCurrent.model.skip) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\r\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\r\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\r\n\t\t\t\tvar slopeDeltaX = (pointAfter.model.x - pointCurrent.model.x);\r\n\r\n\t\t\t\t// In the case of two points that appear at the same x pixel, slopeDeltaX is 0\r\n\t\t\t\tpointCurrent.deltaK = slopeDeltaX !== 0 ? (pointAfter.model.y - pointCurrent.model.y) / slopeDeltaX : 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (!pointBefore || pointBefore.model.skip) {\r\n\t\t\t\tpointCurrent.mK = pointCurrent.deltaK;\r\n\t\t\t} else if (!pointAfter || pointAfter.model.skip) {\r\n\t\t\t\tpointCurrent.mK = pointBefore.deltaK;\r\n\t\t\t} else if (this.sign(pointBefore.deltaK) !== this.sign(pointCurrent.deltaK)) {\r\n\t\t\t\tpointCurrent.mK = 0;\r\n\t\t\t} else {\r\n\t\t\t\tpointCurrent.mK = (pointBefore.deltaK + pointCurrent.deltaK) / 2;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Adjust tangents to ensure monotonic properties\r\n\t\tvar alphaK, betaK, tauK, squaredMagnitude;\r\n\t\tfor (i = 0; i < pointsLen - 1; ++i) {\r\n\t\t\tpointCurrent = pointsWithTangents[i];\r\n\t\t\tpointAfter = pointsWithTangents[i + 1];\r\n\t\t\tif (pointCurrent.model.skip || pointAfter.model.skip) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (helpers$1.almostEquals(pointCurrent.deltaK, 0, this.EPSILON)) {\r\n\t\t\t\tpointCurrent.mK = pointAfter.mK = 0;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\talphaK = pointCurrent.mK / pointCurrent.deltaK;\r\n\t\t\tbetaK = pointAfter.mK / pointCurrent.deltaK;\r\n\t\t\tsquaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\r\n\t\t\tif (squaredMagnitude <= 9) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\ttauK = 3 / Math.sqrt(squaredMagnitude);\r\n\t\t\tpointCurrent.mK = alphaK * tauK * pointCurrent.deltaK;\r\n\t\t\tpointAfter.mK = betaK * tauK * pointCurrent.deltaK;\r\n\t\t}\r\n\r\n\t\t// Compute control points\r\n\t\tvar deltaX;\r\n\t\tfor (i = 0; i < pointsLen; ++i) {\r\n\t\t\tpointCurrent = pointsWithTangents[i];\r\n\t\t\tif (pointCurrent.model.skip) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpointBefore = i > 0 ? pointsWithTangents[i - 1] : null;\r\n\t\t\tpointAfter = i < pointsLen - 1 ? pointsWithTangents[i + 1] : null;\r\n\t\t\tif (pointBefore && !pointBefore.model.skip) {\r\n\t\t\t\tdeltaX = (pointCurrent.model.x - pointBefore.model.x) / 3;\r\n\t\t\t\tpointCurrent.model.controlPointPreviousX = pointCurrent.model.x - deltaX;\r\n\t\t\t\tpointCurrent.model.controlPointPreviousY = pointCurrent.model.y - deltaX * pointCurrent.mK;\r\n\t\t\t}\r\n\t\t\tif (pointAfter && !pointAfter.model.skip) {\r\n\t\t\t\tdeltaX = (pointAfter.model.x - pointCurrent.model.x) / 3;\r\n\t\t\t\tpointCurrent.model.controlPointNextX = pointCurrent.model.x + deltaX;\r\n\t\t\t\tpointCurrent.model.controlPointNextY = pointCurrent.model.y + deltaX * pointCurrent.mK;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\thelpers$1.nextItem = function(collection, index, loop) {\r\n\t\tif (loop) {\r\n\t\t\treturn index >= collection.length - 1 ? collection[0] : collection[index + 1];\r\n\t\t}\r\n\t\treturn index >= collection.length - 1 ? collection[collection.length - 1] : collection[index + 1];\r\n\t};\r\n\thelpers$1.previousItem = function(collection, index, loop) {\r\n\t\tif (loop) {\r\n\t\t\treturn index <= 0 ? collection[collection.length - 1] : collection[index - 1];\r\n\t\t}\r\n\t\treturn index <= 0 ? collection[0] : collection[index - 1];\r\n\t};\r\n\t// Implementation of the nice number algorithm used in determining where axis labels will go\r\n\thelpers$1.niceNum = function(range, round) {\r\n\t\tvar exponent = Math.floor(helpers$1.log10(range));\r\n\t\tvar fraction = range / Math.pow(10, exponent);\r\n\t\tvar niceFraction;\r\n\r\n\t\tif (round) {\r\n\t\t\tif (fraction < 1.5) {\r\n\t\t\t\tniceFraction = 1;\r\n\t\t\t} else if (fraction < 3) {\r\n\t\t\t\tniceFraction = 2;\r\n\t\t\t} else if (fraction < 7) {\r\n\t\t\t\tniceFraction = 5;\r\n\t\t\t} else {\r\n\t\t\t\tniceFraction = 10;\r\n\t\t\t}\r\n\t\t} else if (fraction <= 1.0) {\r\n\t\t\tniceFraction = 1;\r\n\t\t} else if (fraction <= 2) {\r\n\t\t\tniceFraction = 2;\r\n\t\t} else if (fraction <= 5) {\r\n\t\t\tniceFraction = 5;\r\n\t\t} else {\r\n\t\t\tniceFraction = 10;\r\n\t\t}\r\n\r\n\t\treturn niceFraction * Math.pow(10, exponent);\r\n\t};\r\n\t// Request animation polyfill - https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n\thelpers$1.requestAnimFrame = (function() {\r\n\t\tif (typeof window === 'undefined') {\r\n\t\t\treturn function(callback) {\r\n\t\t\t\tcallback();\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn window.requestAnimationFrame ||\r\n\t\t\twindow.webkitRequestAnimationFrame ||\r\n\t\t\twindow.mozRequestAnimationFrame ||\r\n\t\t\twindow.oRequestAnimationFrame ||\r\n\t\t\twindow.msRequestAnimationFrame ||\r\n\t\t\tfunction(callback) {\r\n\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\r\n\t\t\t};\r\n\t}());\r\n\t// -- DOM methods\r\n\thelpers$1.getRelativePosition = function(evt, chart) {\r\n\t\tvar mouseX, mouseY;\r\n\t\tvar e = evt.originalEvent || evt;\r\n\t\tvar canvas = evt.target || evt.srcElement;\r\n\t\tvar boundingRect = canvas.getBoundingClientRect();\r\n\r\n\t\tvar touches = e.touches;\r\n\t\tif (touches && touches.length > 0) {\r\n\t\t\tmouseX = touches[0].clientX;\r\n\t\t\tmouseY = touches[0].clientY;\r\n\r\n\t\t} else {\r\n\t\t\tmouseX = e.clientX;\r\n\t\t\tmouseY = e.clientY;\r\n\t\t}\r\n\r\n\t\t// Scale mouse coordinates into canvas coordinates\r\n\t\t// by following the pattern laid out by 'jerryj' in the comments of\r\n\t\t// https://www.html5canvastutorials.com/advanced/html5-canvas-mouse-coordinates/\r\n\t\tvar paddingLeft = parseFloat(helpers$1.getStyle(canvas, 'padding-left'));\r\n\t\tvar paddingTop = parseFloat(helpers$1.getStyle(canvas, 'padding-top'));\r\n\t\tvar paddingRight = parseFloat(helpers$1.getStyle(canvas, 'padding-right'));\r\n\t\tvar paddingBottom = parseFloat(helpers$1.getStyle(canvas, 'padding-bottom'));\r\n\t\tvar width = boundingRect.right - boundingRect.left - paddingLeft - paddingRight;\r\n\t\tvar height = boundingRect.bottom - boundingRect.top - paddingTop - paddingBottom;\r\n\r\n\t\t// We divide by the current device pixel ratio, because the canvas is scaled up by that amount in each direction. However\r\n\t\t// the backend model is in unscaled coordinates. Since we are going to deal with our model coordinates, we go back here\r\n\t\tmouseX = Math.round((mouseX - boundingRect.left - paddingLeft) / (width) * canvas.width / chart.currentDevicePixelRatio);\r\n\t\tmouseY = Math.round((mouseY - boundingRect.top - paddingTop) / (height) * canvas.height / chart.currentDevicePixelRatio);\r\n\r\n\t\treturn {\r\n\t\t\tx: mouseX,\r\n\t\t\ty: mouseY\r\n\t\t};\r\n\r\n\t};\r\n\r\n\t// Private helper function to convert max-width/max-height values that may be percentages into a number\r\n\tfunction parseMaxStyle(styleValue, node, parentProperty) {\r\n\t\tvar valueInPixels;\r\n\t\tif (typeof styleValue === 'string') {\r\n\t\t\tvalueInPixels = parseInt(styleValue, 10);\r\n\r\n\t\t\tif (styleValue.indexOf('%') !== -1) {\r\n\t\t\t\t// percentage * size in dimension\r\n\t\t\t\tvalueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvalueInPixels = styleValue;\r\n\t\t}\r\n\r\n\t\treturn valueInPixels;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns if the given value contains an effective constraint.\r\n\t * @private\r\n\t */\r\n\tfunction isConstrainedValue(value) {\r\n\t\treturn value !== undefined && value !== null && value !== 'none';\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the max width or height of the given DOM node in a cross-browser compatible fashion\r\n\t * @param {HTMLElement} domNode - the node to check the constraint on\r\n\t * @param {string} maxStyle - the style that defines the maximum for the direction we are using ('max-width' / 'max-height')\r\n\t * @param {string} percentageProperty - property of parent to use when calculating width as a percentage\r\n\t * @see {@link https://www.nathanaeljones.com/blog/2013/reading-max-width-cross-browser}\r\n\t */\r\n\tfunction getConstraintDimension(domNode, maxStyle, percentageProperty) {\r\n\t\tvar view = document.defaultView;\r\n\t\tvar parentNode = helpers$1._getParentNode(domNode);\r\n\t\tvar constrainedNode = view.getComputedStyle(domNode)[maxStyle];\r\n\t\tvar constrainedContainer = view.getComputedStyle(parentNode)[maxStyle];\r\n\t\tvar hasCNode = isConstrainedValue(constrainedNode);\r\n\t\tvar hasCContainer = isConstrainedValue(constrainedContainer);\r\n\t\tvar infinity = Number.POSITIVE_INFINITY;\r\n\r\n\t\tif (hasCNode || hasCContainer) {\r\n\t\t\treturn Math.min(\r\n\t\t\t\thasCNode ? parseMaxStyle(constrainedNode, domNode, percentageProperty) : infinity,\r\n\t\t\t\thasCContainer ? parseMaxStyle(constrainedContainer, parentNode, percentageProperty) : infinity);\r\n\t\t}\r\n\r\n\t\treturn 'none';\r\n\t}\r\n\t// returns Number or undefined if no constraint\r\n\thelpers$1.getConstraintWidth = function(domNode) {\r\n\t\treturn getConstraintDimension(domNode, 'max-width', 'clientWidth');\r\n\t};\r\n\t// returns Number or undefined if no constraint\r\n\thelpers$1.getConstraintHeight = function(domNode) {\r\n\t\treturn getConstraintDimension(domNode, 'max-height', 'clientHeight');\r\n\t};\r\n\t/**\r\n\t * @private\r\n \t */\r\n\thelpers$1._calculatePadding = function(container, padding, parentDimension) {\r\n\t\tpadding = helpers$1.getStyle(container, padding);\r\n\r\n\t\treturn padding.indexOf('%') > -1 ? parentDimension * parseInt(padding, 10) / 100 : parseInt(padding, 10);\r\n\t};\r\n\t/**\r\n\t * @private\r\n\t */\r\n\thelpers$1._getParentNode = function(domNode) {\r\n\t\tvar parent = domNode.parentNode;\r\n\t\tif (parent && parent.toString() === '[object ShadowRoot]') {\r\n\t\t\tparent = parent.host;\r\n\t\t}\r\n\t\treturn parent;\r\n\t};\r\n\thelpers$1.getMaximumWidth = function(domNode) {\r\n\t\tvar container = helpers$1._getParentNode(domNode);\r\n\t\tif (!container) {\r\n\t\t\treturn domNode.clientWidth;\r\n\t\t}\r\n\r\n\t\tvar clientWidth = container.clientWidth;\r\n\t\tvar paddingLeft = helpers$1._calculatePadding(container, 'padding-left', clientWidth);\r\n\t\tvar paddingRight = helpers$1._calculatePadding(container, 'padding-right', clientWidth);\r\n\r\n\t\tvar w = clientWidth - paddingLeft - paddingRight;\r\n\t\tvar cw = helpers$1.getConstraintWidth(domNode);\r\n\t\treturn isNaN(cw) ? w : Math.min(w, cw);\r\n\t};\r\n\thelpers$1.getMaximumHeight = function(domNode) {\r\n\t\tvar container = helpers$1._getParentNode(domNode);\r\n\t\tif (!container) {\r\n\t\t\treturn domNode.clientHeight;\r\n\t\t}\r\n\r\n\t\tvar clientHeight = container.clientHeight;\r\n\t\tvar paddingTop = helpers$1._calculatePadding(container, 'padding-top', clientHeight);\r\n\t\tvar paddingBottom = helpers$1._calculatePadding(container, 'padding-bottom', clientHeight);\r\n\r\n\t\tvar h = clientHeight - paddingTop - paddingBottom;\r\n\t\tvar ch = helpers$1.getConstraintHeight(domNode);\r\n\t\treturn isNaN(ch) ? h : Math.min(h, ch);\r\n\t};\r\n\thelpers$1.getStyle = function(el, property) {\r\n\t\treturn el.currentStyle ?\r\n\t\t\tel.currentStyle[property] :\r\n\t\t\tdocument.defaultView.getComputedStyle(el, null).getPropertyValue(property);\r\n\t};\r\n\thelpers$1.retinaScale = function(chart, forceRatio) {\r\n\t\tvar pixelRatio = chart.currentDevicePixelRatio = forceRatio || (typeof window !== 'undefined' && window.devicePixelRatio) || 1;\r\n\t\tif (pixelRatio === 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar canvas = chart.canvas;\r\n\t\tvar height = chart.height;\r\n\t\tvar width = chart.width;\r\n\r\n\t\tcanvas.height = height * pixelRatio;\r\n\t\tcanvas.width = width * pixelRatio;\r\n\t\tchart.ctx.scale(pixelRatio, pixelRatio);\r\n\r\n\t\t// If no style has been set on the canvas, the render size is used as display size,\r\n\t\t// making the chart visually bigger, so let's enforce it to the \"correct\" values.\r\n\t\t// See https://github.com/chartjs/Chart.js/issues/3575\r\n\t\tif (!canvas.style.height && !canvas.style.width) {\r\n\t\t\tcanvas.style.height = height + 'px';\r\n\t\t\tcanvas.style.width = width + 'px';\r\n\t\t}\r\n\t};\r\n\t// -- Canvas methods\r\n\thelpers$1.fontString = function(pixelSize, fontStyle, fontFamily) {\r\n\t\treturn fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\r\n\t};\r\n\thelpers$1.longestText = function(ctx, font, arrayOfThings, cache) {\r\n\t\tcache = cache || {};\r\n\t\tvar data = cache.data = cache.data || {};\r\n\t\tvar gc = cache.garbageCollect = cache.garbageCollect || [];\r\n\r\n\t\tif (cache.font !== font) {\r\n\t\t\tdata = cache.data = {};\r\n\t\t\tgc = cache.garbageCollect = [];\r\n\t\t\tcache.font = font;\r\n\t\t}\r\n\r\n\t\tctx.font = font;\r\n\t\tvar longest = 0;\r\n\t\tvar ilen = arrayOfThings.length;\r\n\t\tvar i, j, jlen, thing, nestedThing;\r\n\t\tfor (i = 0; i < ilen; i++) {\r\n\t\t\tthing = arrayOfThings[i];\r\n\r\n\t\t\t// Undefined strings and arrays should not be measured\r\n\t\t\tif (thing !== undefined && thing !== null && helpers$1.isArray(thing) !== true) {\r\n\t\t\t\tlongest = helpers$1.measureText(ctx, data, gc, longest, thing);\r\n\t\t\t} else if (helpers$1.isArray(thing)) {\r\n\t\t\t\t// if it is an array lets measure each element\r\n\t\t\t\t// to do maybe simplify this function a bit so we can do this more recursively?\r\n\t\t\t\tfor (j = 0, jlen = thing.length; j < jlen; j++) {\r\n\t\t\t\t\tnestedThing = thing[j];\r\n\t\t\t\t\t// Undefined strings and arrays should not be measured\r\n\t\t\t\t\tif (nestedThing !== undefined && nestedThing !== null && !helpers$1.isArray(nestedThing)) {\r\n\t\t\t\t\t\tlongest = helpers$1.measureText(ctx, data, gc, longest, nestedThing);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar gcLen = gc.length / 2;\r\n\t\tif (gcLen > arrayOfThings.length) {\r\n\t\t\tfor (i = 0; i < gcLen; i++) {\r\n\t\t\t\tdelete data[gc[i]];\r\n\t\t\t}\r\n\t\t\tgc.splice(0, gcLen);\r\n\t\t}\r\n\t\treturn longest;\r\n\t};\r\n\thelpers$1.measureText = function(ctx, data, gc, longest, string) {\r\n\t\tvar textWidth = data[string];\r\n\t\tif (!textWidth) {\r\n\t\t\ttextWidth = data[string] = ctx.measureText(string).width;\r\n\t\t\tgc.push(string);\r\n\t\t}\r\n\t\tif (textWidth > longest) {\r\n\t\t\tlongest = textWidth;\r\n\t\t}\r\n\t\treturn longest;\r\n\t};\r\n\r\n\t/**\r\n\t * @deprecated\r\n\t */\r\n\thelpers$1.numberOfLabelLines = function(arrayOfThings) {\r\n\t\tvar numberOfLines = 1;\r\n\t\thelpers$1.each(arrayOfThings, function(thing) {\r\n\t\t\tif (helpers$1.isArray(thing)) {\r\n\t\t\t\tif (thing.length > numberOfLines) {\r\n\t\t\t\t\tnumberOfLines = thing.length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn numberOfLines;\r\n\t};\r\n\r\n\thelpers$1.color = !chartjsColor ?\r\n\t\tfunction(value) {\r\n\t\t\tconsole.error('Color.js not found!');\r\n\t\t\treturn value;\r\n\t\t} :\r\n\t\tfunction(value) {\r\n\t\t\t/* global CanvasGradient */\r\n\t\t\tif (value instanceof CanvasGradient) {\r\n\t\t\t\tvalue = core_defaults.global.defaultColor;\r\n\t\t\t}\r\n\r\n\t\t\treturn chartjsColor(value);\r\n\t\t};\r\n\r\n\thelpers$1.getHoverColor = function(colorValue) {\r\n\t\t/* global CanvasPattern */\r\n\t\treturn (colorValue instanceof CanvasPattern || colorValue instanceof CanvasGradient) ?\r\n\t\t\tcolorValue :\r\n\t\t\thelpers$1.color(colorValue).saturate(0.5).darken(0.1).rgbString();\r\n\t};\r\n};\n\nfunction abstract() {\r\n\tthrow new Error(\r\n\t\t'This method is not implemented: either no adapter can ' +\r\n\t\t'be found or an incomplete integration was provided.'\r\n\t);\r\n}\r\n\r\n/**\r\n * Date adapter (current used by the time scale)\r\n * @namespace Chart._adapters._date\r\n * @memberof Chart._adapters\r\n * @private\r\n */\r\n\r\n/**\r\n * Currently supported unit string values.\r\n * @typedef {('millisecond'|'second'|'minute'|'hour'|'day'|'week'|'month'|'quarter'|'year')}\r\n * @memberof Chart._adapters._date\r\n * @name Unit\r\n */\r\n\r\n/**\r\n * @class\r\n */\r\nfunction DateAdapter(options) {\r\n\tthis.options = options || {};\r\n}\r\n\r\nhelpers$1.extend(DateAdapter.prototype, /** @lends DateAdapter */ {\r\n\t/**\r\n\t * Returns a map of time formats for the supported formatting units defined\r\n\t * in Unit as well as 'datetime' representing a detailed date/time string.\r\n\t * @returns {{string: string}}\r\n\t */\r\n\tformats: abstract,\r\n\r\n\t/**\r\n\t * Parses the given `value` and return the associated timestamp.\r\n\t * @param {any} value - the value to parse (usually comes from the data)\r\n\t * @param {string} [format] - the expected data format\r\n\t * @returns {(number|null)}\r\n\t * @function\r\n\t */\r\n\tparse: abstract,\r\n\r\n\t/**\r\n\t * Returns the formatted date in the specified `format` for a given `timestamp`.\r\n\t * @param {number} timestamp - the timestamp to format\r\n\t * @param {string} format - the date/time token\r\n\t * @return {string}\r\n\t * @function\r\n\t */\r\n\tformat: abstract,\r\n\r\n\t/**\r\n\t * Adds the specified `amount` of `unit` to the given `timestamp`.\r\n\t * @param {number} timestamp - the input timestamp\r\n\t * @param {number} amount - the amount to add\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @return {number}\r\n\t * @function\r\n\t */\r\n\tadd: abstract,\r\n\r\n\t/**\r\n\t * Returns the number of `unit` between the given timestamps.\r\n\t * @param {number} max - the input timestamp (reference)\r\n\t * @param {number} min - the timestamp to substract\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @return {number}\r\n\t * @function\r\n\t */\r\n\tdiff: abstract,\r\n\r\n\t/**\r\n\t * Returns start of `unit` for the given `timestamp`.\r\n\t * @param {number} timestamp - the input timestamp\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @param {number} [weekday] - the ISO day of the week with 1 being Monday\r\n\t * and 7 being Sunday (only needed if param *unit* is `isoWeek`).\r\n\t * @function\r\n\t */\r\n\tstartOf: abstract,\r\n\r\n\t/**\r\n\t * Returns end of `unit` for the given `timestamp`.\r\n\t * @param {number} timestamp - the input timestamp\r\n\t * @param {Unit} unit - the unit as string\r\n\t * @function\r\n\t */\r\n\tendOf: abstract,\r\n\r\n\t// DEPRECATIONS\r\n\r\n\t/**\r\n\t * Provided for backward compatibility for scale.getValueForPixel(),\r\n\t * this method should be overridden only by the moment adapter.\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t * @private\r\n\t */\r\n\t_create: function(value) {\r\n\t\treturn value;\r\n\t}\r\n});\r\n\r\nDateAdapter.override = function(members) {\r\n\thelpers$1.extend(DateAdapter.prototype, members);\r\n};\r\n\r\nvar _date = DateAdapter;\n\nvar core_adapters = {\n\t_date: _date\n};\n\n/**\r\n * Namespace to hold static tick generation functions\r\n * @namespace Chart.Ticks\r\n */\r\nvar core_ticks = {\r\n\t/**\r\n\t * Namespace to hold formatters for different types of ticks\r\n\t * @namespace Chart.Ticks.formatters\r\n\t */\r\n\tformatters: {\r\n\t\t/**\r\n\t\t * Formatter for value labels\r\n\t\t * @method Chart.Ticks.formatters.values\r\n\t\t * @param value the value to display\r\n\t\t * @return {string|string[]} the label to display\r\n\t\t */\r\n\t\tvalues: function(value) {\r\n\t\t\treturn helpers$1.isArray(value) ? value : '' + value;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Formatter for linear numeric ticks\r\n\t\t * @method Chart.Ticks.formatters.linear\r\n\t\t * @param tickValue {number} the value to be formatted\r\n\t\t * @param index {number} the position of the tickValue parameter in the ticks array\r\n\t\t * @param ticks {number[]} the list of ticks being converted\r\n\t\t * @return {string} string representation of the tickValue parameter\r\n\t\t */\r\n\t\tlinear: function(tickValue, index, ticks) {\r\n\t\t\t// If we have lots of ticks, don't use the ones\r\n\t\t\tvar delta = ticks.length > 3 ? ticks[2] - ticks[1] : ticks[1] - ticks[0];\r\n\r\n\t\t\t// If we have a number like 2.5 as the delta, figure out how many decimal places we need\r\n\t\t\tif (Math.abs(delta) > 1) {\r\n\t\t\t\tif (tickValue !== Math.floor(tickValue)) {\r\n\t\t\t\t\t// not an integer\r\n\t\t\t\t\tdelta = tickValue - Math.floor(tickValue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar logDelta = helpers$1.log10(Math.abs(delta));\r\n\t\t\tvar tickString = '';\r\n\r\n\t\t\tif (tickValue !== 0) {\r\n\t\t\t\tvar maxTick = Math.max(Math.abs(ticks[0]), Math.abs(ticks[ticks.length - 1]));\r\n\t\t\t\tif (maxTick < 1e-4) { // all ticks are small numbers; use scientific notation\r\n\t\t\t\t\tvar logTick = helpers$1.log10(Math.abs(tickValue));\r\n\t\t\t\t\tvar numExponential = Math.floor(logTick) - Math.floor(logDelta);\r\n\t\t\t\t\tnumExponential = Math.max(Math.min(numExponential, 20), 0);\r\n\t\t\t\t\ttickString = tickValue.toExponential(numExponential);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar numDecimal = -1 * Math.floor(logDelta);\r\n\t\t\t\t\tnumDecimal = Math.max(Math.min(numDecimal, 20), 0); // toFixed has a max of 20 decimal places\r\n\t\t\t\t\ttickString = tickValue.toFixed(numDecimal);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttickString = '0'; // never show decimal places for 0\r\n\t\t\t}\r\n\r\n\t\t\treturn tickString;\r\n\t\t},\r\n\r\n\t\tlogarithmic: function(tickValue, index, ticks) {\r\n\t\t\tvar remain = tickValue / (Math.pow(10, Math.floor(helpers$1.log10(tickValue))));\r\n\r\n\t\t\tif (tickValue === 0) {\r\n\t\t\t\treturn '0';\r\n\t\t\t} else if (remain === 1 || remain === 2 || remain === 5 || index === 0 || index === ticks.length - 1) {\r\n\t\t\t\treturn tickValue.toExponential();\r\n\t\t\t}\r\n\t\t\treturn '';\r\n\t\t}\r\n\t}\r\n};\n\nvar isArray = helpers$1.isArray;\r\nvar isNullOrUndef = helpers$1.isNullOrUndef;\r\nvar valueOrDefault$a = helpers$1.valueOrDefault;\r\nvar valueAtIndexOrDefault = helpers$1.valueAtIndexOrDefault;\r\n\r\ncore_defaults._set('scale', {\r\n\tdisplay: true,\r\n\tposition: 'left',\r\n\toffset: false,\r\n\r\n\t// grid line settings\r\n\tgridLines: {\r\n\t\tdisplay: true,\r\n\t\tcolor: 'rgba(0,0,0,0.1)',\r\n\t\tlineWidth: 1,\r\n\t\tdrawBorder: true,\r\n\t\tdrawOnChartArea: true,\r\n\t\tdrawTicks: true,\r\n\t\ttickMarkLength: 10,\r\n\t\tzeroLineWidth: 1,\r\n\t\tzeroLineColor: 'rgba(0,0,0,0.25)',\r\n\t\tzeroLineBorderDash: [],\r\n\t\tzeroLineBorderDashOffset: 0.0,\r\n\t\toffsetGridLines: false,\r\n\t\tborderDash: [],\r\n\t\tborderDashOffset: 0.0\r\n\t},\r\n\r\n\t// scale label\r\n\tscaleLabel: {\r\n\t\t// display property\r\n\t\tdisplay: false,\r\n\r\n\t\t// actual label\r\n\t\tlabelString: '',\r\n\r\n\t\t// top/bottom padding\r\n\t\tpadding: {\r\n\t\t\ttop: 4,\r\n\t\t\tbottom: 4\r\n\t\t}\r\n\t},\r\n\r\n\t// label settings\r\n\tticks: {\r\n\t\tbeginAtZero: false,\r\n\t\tminRotation: 0,\r\n\t\tmaxRotation: 50,\r\n\t\tmirror: false,\r\n\t\tpadding: 0,\r\n\t\treverse: false,\r\n\t\tdisplay: true,\r\n\t\tautoSkip: true,\r\n\t\tautoSkipPadding: 0,\r\n\t\tlabelOffset: 0,\r\n\t\t// We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\r\n\t\tcallback: core_ticks.formatters.values,\r\n\t\tminor: {},\r\n\t\tmajor: {}\r\n\t}\r\n});\r\n\r\n/** Returns a new array containing numItems from arr */\r\nfunction sample(arr, numItems) {\r\n\tvar result = [];\r\n\tvar increment = arr.length / numItems;\r\n\tvar i = 0;\r\n\tvar len = arr.length;\r\n\r\n\tfor (; i < len; i += increment) {\r\n\t\tresult.push(arr[Math.floor(i)]);\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\r\n\tvar length = scale.getTicks().length;\r\n\tvar validIndex = Math.min(index, length - 1);\r\n\tvar lineValue = scale.getPixelForTick(validIndex);\r\n\tvar start = scale._startPixel;\r\n\tvar end = scale._endPixel;\r\n\tvar epsilon = 1e-6; // 1e-6 is margin in pixels for accumulated error.\r\n\tvar offset;\r\n\r\n\tif (offsetGridLines) {\r\n\t\tif (length === 1) {\r\n\t\t\toffset = Math.max(lineValue - start, end - lineValue);\r\n\t\t} else if (index === 0) {\r\n\t\t\toffset = (scale.getPixelForTick(1) - lineValue) / 2;\r\n\t\t} else {\r\n\t\t\toffset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\r\n\t\t}\r\n\t\tlineValue += validIndex < index ? offset : -offset;\r\n\r\n\t\t// Return undefined if the pixel is out of the range\r\n\t\tif (lineValue < start - epsilon || lineValue > end + epsilon) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\treturn lineValue;\r\n}\r\n\r\nfunction garbageCollect(caches, length) {\r\n\thelpers$1.each(caches, function(cache) {\r\n\t\tvar gc = cache.gc;\r\n\t\tvar gcLen = gc.length / 2;\r\n\t\tvar i;\r\n\t\tif (gcLen > length) {\r\n\t\t\tfor (i = 0; i < gcLen; ++i) {\r\n\t\t\t\tdelete cache.data[gc[i]];\r\n\t\t\t}\r\n\t\t\tgc.splice(0, gcLen);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * Returns {width, height, offset} objects for the first, last, widest, highest tick\r\n * labels where offset indicates the anchor point offset from the top in pixels.\r\n */\r\nfunction computeLabelSizes(ctx, tickFonts, ticks, caches) {\r\n\tvar length = ticks.length;\r\n\tvar widths = [];\r\n\tvar heights = [];\r\n\tvar offsets = [];\r\n\tvar widestLabelSize = 0;\r\n\tvar highestLabelSize = 0;\r\n\tvar i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel, widest, highest;\r\n\r\n\tfor (i = 0; i < length; ++i) {\r\n\t\tlabel = ticks[i].label;\r\n\t\ttickFont = ticks[i].major ? tickFonts.major : tickFonts.minor;\r\n\t\tctx.font = fontString = tickFont.string;\r\n\t\tcache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\r\n\t\tlineHeight = tickFont.lineHeight;\r\n\t\twidth = height = 0;\r\n\t\t// Undefined labels and arrays should not be measured\r\n\t\tif (!isNullOrUndef(label) && !isArray(label)) {\r\n\t\t\twidth = helpers$1.measureText(ctx, cache.data, cache.gc, width, label);\r\n\t\t\theight = lineHeight;\r\n\t\t} else if (isArray(label)) {\r\n\t\t\t// if it is an array let's measure each element\r\n\t\t\tfor (j = 0, jlen = label.length; j < jlen; ++j) {\r\n\t\t\t\tnestedLabel = label[j];\r\n\t\t\t\t// Undefined labels and arrays should not be measured\r\n\t\t\t\tif (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\r\n\t\t\t\t\twidth = helpers$1.measureText(ctx, cache.data, cache.gc, width, nestedLabel);\r\n\t\t\t\t\theight += lineHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\twidths.push(width);\r\n\t\theights.push(height);\r\n\t\toffsets.push(lineHeight / 2);\r\n\t\twidestLabelSize = Math.max(width, widestLabelSize);\r\n\t\thighestLabelSize = Math.max(height, highestLabelSize);\r\n\t}\r\n\tgarbageCollect(caches, length);\r\n\r\n\twidest = widths.indexOf(widestLabelSize);\r\n\thighest = heights.indexOf(highestLabelSize);\r\n\r\n\tfunction valueAt(idx) {\r\n\t\treturn {\r\n\t\t\twidth: widths[idx] || 0,\r\n\t\t\theight: heights[idx] || 0,\r\n\t\t\toffset: offsets[idx] || 0\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tfirst: valueAt(0),\r\n\t\tlast: valueAt(length - 1),\r\n\t\twidest: valueAt(widest),\r\n\t\thighest: valueAt(highest)\r\n\t};\r\n}\r\n\r\nfunction getTickMarkLength(options) {\r\n\treturn options.drawTicks ? options.tickMarkLength : 0;\r\n}\r\n\r\nfunction getScaleLabelHeight(options) {\r\n\tvar font, padding;\r\n\r\n\tif (!options.display) {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tfont = helpers$1.options._parseFont(options);\r\n\tpadding = helpers$1.options.toPadding(options.padding);\r\n\r\n\treturn font.lineHeight + padding.height;\r\n}\r\n\r\nfunction parseFontOptions(options, nestedOpts) {\r\n\treturn helpers$1.extend(helpers$1.options._parseFont({\r\n\t\tfontFamily: valueOrDefault$a(nestedOpts.fontFamily, options.fontFamily),\r\n\t\tfontSize: valueOrDefault$a(nestedOpts.fontSize, options.fontSize),\r\n\t\tfontStyle: valueOrDefault$a(nestedOpts.fontStyle, options.fontStyle),\r\n\t\tlineHeight: valueOrDefault$a(nestedOpts.lineHeight, options.lineHeight)\r\n\t}), {\r\n\t\tcolor: helpers$1.options.resolve([nestedOpts.fontColor, options.fontColor, core_defaults.global.defaultFontColor])\r\n\t});\r\n}\r\n\r\nfunction parseTickFontOptions(options) {\r\n\tvar minor = parseFontOptions(options, options.minor);\r\n\tvar major = options.major.enabled ? parseFontOptions(options, options.major) : minor;\r\n\r\n\treturn {minor: minor, major: major};\r\n}\r\n\r\nfunction nonSkipped(ticksToFilter) {\r\n\tvar filtered = [];\r\n\tvar item, index, len;\r\n\tfor (index = 0, len = ticksToFilter.length; index < len; ++index) {\r\n\t\titem = ticksToFilter[index];\r\n\t\tif (typeof item._index !== 'undefined') {\r\n\t\t\tfiltered.push(item);\r\n\t\t}\r\n\t}\r\n\treturn filtered;\r\n}\r\n\r\nfunction getEvenSpacing(arr) {\r\n\tvar len = arr.length;\r\n\tvar i, diff;\r\n\r\n\tif (len < 2) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfor (diff = arr[0], i = 1; i < len; ++i) {\r\n\t\tif (arr[i] - arr[i - 1] !== diff) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn diff;\r\n}\r\n\r\nfunction calculateSpacing(majorIndices, ticks, axisLength, ticksLimit) {\r\n\tvar evenMajorSpacing = getEvenSpacing(majorIndices);\r\n\tvar spacing = (ticks.length - 1) / ticksLimit;\r\n\tvar factors, factor, i, ilen;\r\n\r\n\t// If the major ticks are evenly spaced apart, place the minor ticks\r\n\t// so that they divide the major ticks into even chunks\r\n\tif (!evenMajorSpacing) {\r\n\t\treturn Math.max(spacing, 1);\r\n\t}\r\n\r\n\tfactors = helpers$1.math._factorize(evenMajorSpacing);\r\n\tfor (i = 0, ilen = factors.length - 1; i < ilen; i++) {\r\n\t\tfactor = factors[i];\r\n\t\tif (factor > spacing) {\r\n\t\t\treturn factor;\r\n\t\t}\r\n\t}\r\n\treturn Math.max(spacing, 1);\r\n}\r\n\r\nfunction getMajorIndices(ticks) {\r\n\tvar result = [];\r\n\tvar i, ilen;\r\n\tfor (i = 0, ilen = ticks.length; i < ilen; i++) {\r\n\t\tif (ticks[i].major) {\r\n\t\t\tresult.push(i);\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction skipMajors(ticks, majorIndices, spacing) {\r\n\tvar count = 0;\r\n\tvar next = majorIndices[0];\r\n\tvar i, tick;\r\n\r\n\tspacing = Math.ceil(spacing);\r\n\tfor (i = 0; i < ticks.length; i++) {\r\n\t\ttick = ticks[i];\r\n\t\tif (i === next) {\r\n\t\t\ttick._index = i;\r\n\t\t\tcount++;\r\n\t\t\tnext = majorIndices[count * spacing];\r\n\t\t} else {\r\n\t\t\tdelete tick.label;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction skip(ticks, spacing, majorStart, majorEnd) {\r\n\tvar start = valueOrDefault$a(majorStart, 0);\r\n\tvar end = Math.min(valueOrDefault$a(majorEnd, ticks.length), ticks.length);\r\n\tvar count = 0;\r\n\tvar length, i, tick, next;\r\n\r\n\tspacing = Math.ceil(spacing);\r\n\tif (majorEnd) {\r\n\t\tlength = majorEnd - majorStart;\r\n\t\tspacing = length / Math.floor(length / spacing);\r\n\t}\r\n\r\n\tnext = start;\r\n\r\n\twhile (next < 0) {\r\n\t\tcount++;\r\n\t\tnext = Math.round(start + count * spacing);\r\n\t}\r\n\r\n\tfor (i = Math.max(start, 0); i < end; i++) {\r\n\t\ttick = ticks[i];\r\n\t\tif (i === next) {\r\n\t\t\ttick._index = i;\r\n\t\t\tcount++;\r\n\t\t\tnext = Math.round(start + count * spacing);\r\n\t\t} else {\r\n\t\t\tdelete tick.label;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nvar Scale = core_element.extend({\r\n\r\n\tzeroLineIndex: 0,\r\n\r\n\t/**\r\n\t * Get the padding needed for the scale\r\n\t * @method getPadding\r\n\t * @private\r\n\t * @returns {Padding} the necessary padding\r\n\t */\r\n\tgetPadding: function() {\r\n\t\tvar me = this;\r\n\t\treturn {\r\n\t\t\tleft: me.paddingLeft || 0,\r\n\t\t\ttop: me.paddingTop || 0,\r\n\t\t\tright: me.paddingRight || 0,\r\n\t\t\tbottom: me.paddingBottom || 0\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the scale tick objects ({label, major})\r\n\t * @since 2.7\r\n\t */\r\n\tgetTicks: function() {\r\n\t\treturn this._ticks;\r\n\t},\r\n\r\n\t/**\r\n\t* @private\r\n\t*/\r\n\t_getLabels: function() {\r\n\t\tvar data = this.chart.data;\r\n\t\treturn this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\r\n\t},\r\n\r\n\t// These methods are ordered by lifecyle. Utilities then follow.\r\n\t// Any function defined here is inherited by all scale types.\r\n\t// Any function can be extended by the scale type\r\n\r\n\t/**\r\n\t * Provided for backward compatibility, not available anymore\r\n\t * @function Chart.Scale.mergeTicksOptions\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t */\r\n\tmergeTicksOptions: function() {\r\n\t\t// noop\r\n\t},\r\n\r\n\tbeforeUpdate: function() {\r\n\t\thelpers$1.callback(this.options.beforeUpdate, [this]);\r\n\t},\r\n\r\n\t/**\r\n\t * @param {number} maxWidth - the max width in pixels\r\n\t * @param {number} maxHeight - the max height in pixels\r\n\t * @param {object} margins - the space between the edge of the other scales and edge of the chart\r\n\t *   This space comes from two sources:\r\n\t *     - padding - space that's required to show the labels at the edges of the scale\r\n\t *     - thickness of scales or legends in another orientation\r\n\t */\r\n\tupdate: function(maxWidth, maxHeight, margins) {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar sampleSize = tickOpts.sampleSize;\r\n\t\tvar i, ilen, labels, ticks, samplingEnabled;\r\n\r\n\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\r\n\t\tme.beforeUpdate();\r\n\r\n\t\t// Absorb the master measurements\r\n\t\tme.maxWidth = maxWidth;\r\n\t\tme.maxHeight = maxHeight;\r\n\t\tme.margins = helpers$1.extend({\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0\r\n\t\t}, margins);\r\n\r\n\t\tme._ticks = null;\r\n\t\tme.ticks = null;\r\n\t\tme._labelSizes = null;\r\n\t\tme._maxLabelLines = 0;\r\n\t\tme.longestLabelWidth = 0;\r\n\t\tme.longestTextCache = me.longestTextCache || {};\r\n\t\tme._gridLineItems = null;\r\n\t\tme._labelItems = null;\r\n\r\n\t\t// Dimensions\r\n\t\tme.beforeSetDimensions();\r\n\t\tme.setDimensions();\r\n\t\tme.afterSetDimensions();\r\n\r\n\t\t// Data min/max\r\n\t\tme.beforeDataLimits();\r\n\t\tme.determineDataLimits();\r\n\t\tme.afterDataLimits();\r\n\r\n\t\t// Ticks - `this.ticks` is now DEPRECATED!\r\n\t\t// Internal ticks are now stored as objects in the PRIVATE `this._ticks` member\r\n\t\t// and must not be accessed directly from outside this class. `this.ticks` being\r\n\t\t// around for long time and not marked as private, we can't change its structure\r\n\t\t// without unexpected breaking changes. If you need to access the scale ticks,\r\n\t\t// use scale.getTicks() instead.\r\n\r\n\t\tme.beforeBuildTicks();\r\n\r\n\t\t// New implementations should return an array of objects but for BACKWARD COMPAT,\r\n\t\t// we still support no return (`this.ticks` internally set by calling this method).\r\n\t\tticks = me.buildTicks() || [];\r\n\r\n\t\t// Allow modification of ticks in callback.\r\n\t\tticks = me.afterBuildTicks(ticks) || ticks;\r\n\r\n\t\t// Ensure ticks contains ticks in new tick format\r\n\t\tif ((!ticks || !ticks.length) && me.ticks) {\r\n\t\t\tticks = [];\r\n\t\t\tfor (i = 0, ilen = me.ticks.length; i < ilen; ++i) {\r\n\t\t\t\tticks.push({\r\n\t\t\t\t\tvalue: me.ticks[i],\r\n\t\t\t\t\tmajor: false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme._ticks = ticks;\r\n\r\n\t\t// Compute tick rotation and fit using a sampled subset of labels\r\n\t\t// We generally don't need to compute the size of every single label for determining scale size\r\n\t\tsamplingEnabled = sampleSize < ticks.length;\r\n\t\tlabels = me._convertTicksToLabels(samplingEnabled ? sample(ticks, sampleSize) : ticks);\r\n\r\n\t\t// _configure is called twice, once here, once from core.controller.updateLayout.\r\n\t\t// Here we haven't been positioned yet, but dimensions are correct.\r\n\t\t// Variables set in _configure are needed for calculateTickRotation, and\r\n\t\t// it's ok that coordinates are not correct there, only dimensions matter.\r\n\t\tme._configure();\r\n\r\n\t\t// Tick Rotation\r\n\t\tme.beforeCalculateTickRotation();\r\n\t\tme.calculateTickRotation();\r\n\t\tme.afterCalculateTickRotation();\r\n\r\n\t\tme.beforeFit();\r\n\t\tme.fit();\r\n\t\tme.afterFit();\r\n\r\n\t\t// Auto-skip\r\n\t\tme._ticksToDraw = tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto') ? me._autoSkip(ticks) : ticks;\r\n\r\n\t\tif (samplingEnabled) {\r\n\t\t\t// Generate labels using all non-skipped ticks\r\n\t\t\tlabels = me._convertTicksToLabels(me._ticksToDraw);\r\n\t\t}\r\n\r\n\t\tme.ticks = labels;   // BACKWARD COMPATIBILITY\r\n\r\n\t\t// IMPORTANT: after this point, we consider that `this.ticks` will NEVER change!\r\n\r\n\t\tme.afterUpdate();\r\n\r\n\t\t// TODO(v3): remove minSize as a public property and return value from all layout boxes. It is unused\r\n\t\t// make maxWidth and maxHeight private\r\n\t\treturn me.minSize;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar reversePixels = me.options.ticks.reverse;\r\n\t\tvar startPixel, endPixel;\r\n\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\tstartPixel = me.left;\r\n\t\t\tendPixel = me.right;\r\n\t\t} else {\r\n\t\t\tstartPixel = me.top;\r\n\t\t\tendPixel = me.bottom;\r\n\t\t\t// by default vertical scales are from bottom to top, so pixels are reversed\r\n\t\t\treversePixels = !reversePixels;\r\n\t\t}\r\n\t\tme._startPixel = startPixel;\r\n\t\tme._endPixel = endPixel;\r\n\t\tme._reversePixels = reversePixels;\r\n\t\tme._length = endPixel - startPixel;\r\n\t},\r\n\r\n\tafterUpdate: function() {\r\n\t\thelpers$1.callback(this.options.afterUpdate, [this]);\r\n\t},\r\n\r\n\t//\r\n\r\n\tbeforeSetDimensions: function() {\r\n\t\thelpers$1.callback(this.options.beforeSetDimensions, [this]);\r\n\t},\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.width = me.maxWidth;\r\n\t\t\tme.left = 0;\r\n\t\t\tme.right = me.width;\r\n\t\t} else {\r\n\t\t\tme.height = me.maxHeight;\r\n\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.top = 0;\r\n\t\t\tme.bottom = me.height;\r\n\t\t}\r\n\r\n\t\t// Reset padding\r\n\t\tme.paddingLeft = 0;\r\n\t\tme.paddingTop = 0;\r\n\t\tme.paddingRight = 0;\r\n\t\tme.paddingBottom = 0;\r\n\t},\r\n\tafterSetDimensions: function() {\r\n\t\thelpers$1.callback(this.options.afterSetDimensions, [this]);\r\n\t},\r\n\r\n\t// Data limits\r\n\tbeforeDataLimits: function() {\r\n\t\thelpers$1.callback(this.options.beforeDataLimits, [this]);\r\n\t},\r\n\tdetermineDataLimits: helpers$1.noop,\r\n\tafterDataLimits: function() {\r\n\t\thelpers$1.callback(this.options.afterDataLimits, [this]);\r\n\t},\r\n\r\n\t//\r\n\tbeforeBuildTicks: function() {\r\n\t\thelpers$1.callback(this.options.beforeBuildTicks, [this]);\r\n\t},\r\n\tbuildTicks: helpers$1.noop,\r\n\tafterBuildTicks: function(ticks) {\r\n\t\tvar me = this;\r\n\t\t// ticks is empty for old axis implementations here\r\n\t\tif (isArray(ticks) && ticks.length) {\r\n\t\t\treturn helpers$1.callback(me.options.afterBuildTicks, [me, ticks]);\r\n\t\t}\r\n\t\t// Support old implementations (that modified `this.ticks` directly in buildTicks)\r\n\t\tme.ticks = helpers$1.callback(me.options.afterBuildTicks, [me, me.ticks]) || me.ticks;\r\n\t\treturn ticks;\r\n\t},\r\n\r\n\tbeforeTickToLabelConversion: function() {\r\n\t\thelpers$1.callback(this.options.beforeTickToLabelConversion, [this]);\r\n\t},\r\n\tconvertTicksToLabels: function() {\r\n\t\tvar me = this;\r\n\t\t// Convert ticks to strings\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tme.ticks = me.ticks.map(tickOpts.userCallback || tickOpts.callback, this);\r\n\t},\r\n\tafterTickToLabelConversion: function() {\r\n\t\thelpers$1.callback(this.options.afterTickToLabelConversion, [this]);\r\n\t},\r\n\r\n\t//\r\n\r\n\tbeforeCalculateTickRotation: function() {\r\n\t\thelpers$1.callback(this.options.beforeCalculateTickRotation, [this]);\r\n\t},\r\n\tcalculateTickRotation: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar tickOpts = options.ticks;\r\n\t\tvar numTicks = me.getTicks().length;\r\n\t\tvar minRotation = tickOpts.minRotation || 0;\r\n\t\tvar maxRotation = tickOpts.maxRotation;\r\n\t\tvar labelRotation = minRotation;\r\n\t\tvar labelSizes, maxLabelWidth, maxLabelHeight, maxWidth, tickWidth, maxHeight, maxLabelDiagonal;\r\n\r\n\t\tif (!me._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !me.isHorizontal()) {\r\n\t\t\tme.labelRotation = minRotation;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlabelSizes = me._getLabelSizes();\r\n\t\tmaxLabelWidth = labelSizes.widest.width;\r\n\t\tmaxLabelHeight = labelSizes.highest.height - labelSizes.highest.offset;\r\n\r\n\t\t// Estimate the width of each grid based on the canvas width, the maximum\r\n\t\t// label width and the number of tick intervals\r\n\t\tmaxWidth = Math.min(me.maxWidth, me.chart.width - maxLabelWidth);\r\n\t\ttickWidth = options.offset ? me.maxWidth / numTicks : maxWidth / (numTicks - 1);\r\n\r\n\t\t// Allow 3 pixels x2 padding either side for label readability\r\n\t\tif (maxLabelWidth + 6 > tickWidth) {\r\n\t\t\ttickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\r\n\t\t\tmaxHeight = me.maxHeight - getTickMarkLength(options.gridLines)\r\n\t\t\t\t- tickOpts.padding - getScaleLabelHeight(options.scaleLabel);\r\n\t\t\tmaxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\r\n\t\t\tlabelRotation = helpers$1.toDegrees(Math.min(\r\n\t\t\t\tMath.asin(Math.min((labelSizes.highest.height + 6) / tickWidth, 1)),\r\n\t\t\t\tMath.asin(Math.min(maxHeight / maxLabelDiagonal, 1)) - Math.asin(maxLabelHeight / maxLabelDiagonal)\r\n\t\t\t));\r\n\t\t\tlabelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\r\n\t\t}\r\n\r\n\t\tme.labelRotation = labelRotation;\r\n\t},\r\n\tafterCalculateTickRotation: function() {\r\n\t\thelpers$1.callback(this.options.afterCalculateTickRotation, [this]);\r\n\t},\r\n\r\n\t//\r\n\r\n\tbeforeFit: function() {\r\n\t\thelpers$1.callback(this.options.beforeFit, [this]);\r\n\t},\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\t// Reset\r\n\t\tvar minSize = me.minSize = {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n\r\n\t\tvar chart = me.chart;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\t\tvar scaleLabelOpts = opts.scaleLabel;\r\n\t\tvar gridLineOpts = opts.gridLines;\r\n\t\tvar display = me._isVisible();\r\n\t\tvar isBottom = opts.position === 'bottom';\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\r\n\t\t// Width\r\n\t\tif (isHorizontal) {\r\n\t\t\tminSize.width = me.maxWidth;\r\n\t\t} else if (display) {\r\n\t\t\tminSize.width = getTickMarkLength(gridLineOpts) + getScaleLabelHeight(scaleLabelOpts);\r\n\t\t}\r\n\r\n\t\t// height\r\n\t\tif (!isHorizontal) {\r\n\t\t\tminSize.height = me.maxHeight; // fill all the height\r\n\t\t} else if (display) {\r\n\t\t\tminSize.height = getTickMarkLength(gridLineOpts) + getScaleLabelHeight(scaleLabelOpts);\r\n\t\t}\r\n\r\n\t\t// Don't bother fitting the ticks if we are not showing the labels\r\n\t\tif (tickOpts.display && display) {\r\n\t\t\tvar tickFonts = parseTickFontOptions(tickOpts);\r\n\t\t\tvar labelSizes = me._getLabelSizes();\r\n\t\t\tvar firstLabelSize = labelSizes.first;\r\n\t\t\tvar lastLabelSize = labelSizes.last;\r\n\t\t\tvar widestLabelSize = labelSizes.widest;\r\n\t\t\tvar highestLabelSize = labelSizes.highest;\r\n\t\t\tvar lineSpace = tickFonts.minor.lineHeight * 0.4;\r\n\t\t\tvar tickPadding = tickOpts.padding;\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\t// A horizontal axis is more constrained by the height.\r\n\t\t\t\tvar isRotated = me.labelRotation !== 0;\r\n\t\t\t\tvar angleRadians = helpers$1.toRadians(me.labelRotation);\r\n\t\t\t\tvar cosRotation = Math.cos(angleRadians);\r\n\t\t\t\tvar sinRotation = Math.sin(angleRadians);\r\n\r\n\t\t\t\tvar labelHeight = sinRotation * widestLabelSize.width\r\n\t\t\t\t\t+ cosRotation * (highestLabelSize.height - (isRotated ? highestLabelSize.offset : 0))\r\n\t\t\t\t\t+ (isRotated ? 0 : lineSpace); // padding\r\n\r\n\t\t\t\tminSize.height = Math.min(me.maxHeight, minSize.height + labelHeight + tickPadding);\r\n\r\n\t\t\t\tvar offsetLeft = me.getPixelForTick(0) - me.left;\r\n\t\t\t\tvar offsetRight = me.right - me.getPixelForTick(me.getTicks().length - 1);\r\n\t\t\t\tvar paddingLeft, paddingRight;\r\n\r\n\t\t\t\t// Ensure that our ticks are always inside the canvas. When rotated, ticks are right aligned\r\n\t\t\t\t// which means that the right padding is dominated by the font height\r\n\t\t\t\tif (isRotated) {\r\n\t\t\t\t\tpaddingLeft = isBottom ?\r\n\t\t\t\t\t\tcosRotation * firstLabelSize.width + sinRotation * firstLabelSize.offset :\r\n\t\t\t\t\t\tsinRotation * (firstLabelSize.height - firstLabelSize.offset);\r\n\t\t\t\t\tpaddingRight = isBottom ?\r\n\t\t\t\t\t\tsinRotation * (lastLabelSize.height - lastLabelSize.offset) :\r\n\t\t\t\t\t\tcosRotation * lastLabelSize.width + sinRotation * lastLabelSize.offset;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpaddingLeft = firstLabelSize.width / 2;\r\n\t\t\t\t\tpaddingRight = lastLabelSize.width / 2;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adjust padding taking into account changes in offsets\r\n\t\t\t\t// and add 3 px to move away from canvas edges\r\n\t\t\t\tme.paddingLeft = Math.max((paddingLeft - offsetLeft) * me.width / (me.width - offsetLeft), 0) + 3;\r\n\t\t\t\tme.paddingRight = Math.max((paddingRight - offsetRight) * me.width / (me.width - offsetRight), 0) + 3;\r\n\t\t\t} else {\r\n\t\t\t\t// A vertical axis is more constrained by the width. Labels are the\r\n\t\t\t\t// dominant factor here, so get that length first and account for padding\r\n\t\t\t\tvar labelWidth = tickOpts.mirror ? 0 :\r\n\t\t\t\t\t// use lineSpace for consistency with horizontal axis\r\n\t\t\t\t\t// tickPadding is not implemented for horizontal\r\n\t\t\t\t\twidestLabelSize.width + tickPadding + lineSpace;\r\n\r\n\t\t\t\tminSize.width = Math.min(me.maxWidth, minSize.width + labelWidth);\r\n\r\n\t\t\t\tme.paddingTop = firstLabelSize.height / 2;\r\n\t\t\t\tme.paddingBottom = lastLabelSize.height / 2;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.handleMargins();\r\n\r\n\t\tif (isHorizontal) {\r\n\t\t\tme.width = me._length = chart.width - me.margins.left - me.margins.right;\r\n\t\t\tme.height = minSize.height;\r\n\t\t} else {\r\n\t\t\tme.width = minSize.width;\r\n\t\t\tme.height = me._length = chart.height - me.margins.top - me.margins.bottom;\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Handle margins and padding interactions\r\n\t * @private\r\n\t */\r\n\thandleMargins: function() {\r\n\t\tvar me = this;\r\n\t\tif (me.margins) {\r\n\t\t\tme.margins.left = Math.max(me.paddingLeft, me.margins.left);\r\n\t\t\tme.margins.top = Math.max(me.paddingTop, me.margins.top);\r\n\t\t\tme.margins.right = Math.max(me.paddingRight, me.margins.right);\r\n\t\t\tme.margins.bottom = Math.max(me.paddingBottom, me.margins.bottom);\r\n\t\t}\r\n\t},\r\n\r\n\tafterFit: function() {\r\n\t\thelpers$1.callback(this.options.afterFit, [this]);\r\n\t},\r\n\r\n\t// Shared Methods\r\n\tisHorizontal: function() {\r\n\t\tvar pos = this.options.position;\r\n\t\treturn pos === 'top' || pos === 'bottom';\r\n\t},\r\n\tisFullWidth: function() {\r\n\t\treturn this.options.fullWidth;\r\n\t},\r\n\r\n\t// Get the correct value. NaN bad inputs, If the value type is object get the x or y based on whether we are horizontal or not\r\n\tgetRightValue: function(rawValue) {\r\n\t\t// Null and undefined values first\r\n\t\tif (isNullOrUndef(rawValue)) {\r\n\t\t\treturn NaN;\r\n\t\t}\r\n\t\t// isNaN(object) returns true, so make sure NaN is checking for a number; Discard Infinite values\r\n\t\tif ((typeof rawValue === 'number' || rawValue instanceof Number) && !isFinite(rawValue)) {\r\n\t\t\treturn NaN;\r\n\t\t}\r\n\r\n\t\t// If it is in fact an object, dive in one more level\r\n\t\tif (rawValue) {\r\n\t\t\tif (this.isHorizontal()) {\r\n\t\t\t\tif (rawValue.x !== undefined) {\r\n\t\t\t\t\treturn this.getRightValue(rawValue.x);\r\n\t\t\t\t}\r\n\t\t\t} else if (rawValue.y !== undefined) {\r\n\t\t\t\treturn this.getRightValue(rawValue.y);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Value is good, return it\r\n\t\treturn rawValue;\r\n\t},\r\n\r\n\t_convertTicksToLabels: function(ticks) {\r\n\t\tvar me = this;\r\n\t\tvar labels, i, ilen;\r\n\r\n\t\tme.ticks = ticks.map(function(tick) {\r\n\t\t\treturn tick.value;\r\n\t\t});\r\n\r\n\t\tme.beforeTickToLabelConversion();\r\n\r\n\t\t// New implementations should return the formatted tick labels but for BACKWARD\r\n\t\t// COMPAT, we still support no return (`this.ticks` internally changed by calling\r\n\t\t// this method and supposed to contain only string values).\r\n\t\tlabels = me.convertTicksToLabels(ticks) || me.ticks;\r\n\r\n\t\tme.afterTickToLabelConversion();\r\n\r\n\t\t// BACKWARD COMPAT: synchronize `_ticks` with labels (so potentially `this.ticks`)\r\n\t\tfor (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n\t\t\tticks[i].label = labels[i];\r\n\t\t}\r\n\r\n\t\treturn labels;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getLabelSizes: function() {\r\n\t\tvar me = this;\r\n\t\tvar labelSizes = me._labelSizes;\r\n\r\n\t\tif (!labelSizes) {\r\n\t\t\tme._labelSizes = labelSizes = computeLabelSizes(me.ctx, parseTickFontOptions(me.options.ticks), me.getTicks(), me.longestTextCache);\r\n\t\t\tme.longestLabelWidth = labelSizes.widest.width;\r\n\t\t}\r\n\r\n\t\treturn labelSizes;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_parseValue: function(value) {\r\n\t\tvar start, end, min, max;\r\n\r\n\t\tif (isArray(value)) {\r\n\t\t\tstart = +this.getRightValue(value[0]);\r\n\t\t\tend = +this.getRightValue(value[1]);\r\n\t\t\tmin = Math.min(start, end);\r\n\t\t\tmax = Math.max(start, end);\r\n\t\t} else {\r\n\t\t\tvalue = +this.getRightValue(value);\r\n\t\t\tstart = undefined;\r\n\t\t\tend = value;\r\n\t\t\tmin = value;\r\n\t\t\tmax = value;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tmin: min,\r\n\t\t\tmax: max,\r\n\t\t\tstart: start,\r\n\t\t\tend: end\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t* @private\r\n\t*/\r\n\t_getScaleLabel: function(rawValue) {\r\n\t\tvar v = this._parseValue(rawValue);\r\n\t\tif (v.start !== undefined) {\r\n\t\t\treturn '[' + v.start + ', ' + v.end + ']';\r\n\t\t}\r\n\r\n\t\treturn +this.getRightValue(rawValue);\r\n\t},\r\n\r\n\t/**\r\n\t * Used to get the value to display in the tooltip for the data at the given index\r\n\t * @param index\r\n\t * @param datasetIndex\r\n\t */\r\n\tgetLabelForIndex: helpers$1.noop,\r\n\r\n\t/**\r\n\t * Returns the location of the given data point. Value can either be an index or a numerical value\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t * @param value\r\n\t * @param index\r\n\t * @param datasetIndex\r\n\t */\r\n\tgetPixelForValue: helpers$1.noop,\r\n\r\n\t/**\r\n\t * Used to get the data value from a given pixel. This is the inverse of getPixelForValue\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t * @param pixel\r\n\t */\r\n\tgetValueForPixel: helpers$1.noop,\r\n\r\n\t/**\r\n\t * Returns the location of the tick at the given index\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t */\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar offset = me.options.offset;\r\n\t\tvar numTicks = me._ticks.length;\r\n\t\tvar tickWidth = 1 / Math.max(numTicks - (offset ? 0 : 1), 1);\r\n\r\n\t\treturn index < 0 || index > numTicks - 1\r\n\t\t\t? null\r\n\t\t\t: me.getPixelForDecimal(index * tickWidth + (offset ? tickWidth / 2 : 0));\r\n\t},\r\n\r\n\t/**\r\n\t * Utility for getting the pixel location of a percentage of scale\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t */\r\n\tgetPixelForDecimal: function(decimal) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (me._reversePixels) {\r\n\t\t\tdecimal = 1 - decimal;\r\n\t\t}\r\n\r\n\t\treturn me._startPixel + decimal * me._length;\r\n\t},\r\n\r\n\tgetDecimalForPixel: function(pixel) {\r\n\t\tvar decimal = (pixel - this._startPixel) / this._length;\r\n\t\treturn this._reversePixels ? 1 - decimal : decimal;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the pixel for the minimum chart value\r\n\t * The coordinate (0, 0) is at the upper-left corner of the canvas\r\n\t */\r\n\tgetBasePixel: function() {\r\n\t\treturn this.getPixelForValue(this.getBaseValue());\r\n\t},\r\n\r\n\tgetBaseValue: function() {\r\n\t\tvar me = this;\r\n\t\tvar min = me.min;\r\n\t\tvar max = me.max;\r\n\r\n\t\treturn me.beginAtZero ? 0 :\r\n\t\t\tmin < 0 && max < 0 ? max :\r\n\t\t\tmin > 0 && max > 0 ? min :\r\n\t\t\t0;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns a subset of ticks to be plotted to avoid overlapping labels.\r\n\t * @private\r\n\t */\r\n\t_autoSkip: function(ticks) {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar axisLength = me._length;\r\n\t\tvar ticksLimit = tickOpts.maxTicksLimit || axisLength / me._tickSize() + 1;\r\n\t\tvar majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\r\n\t\tvar numMajorIndices = majorIndices.length;\r\n\t\tvar first = majorIndices[0];\r\n\t\tvar last = majorIndices[numMajorIndices - 1];\r\n\t\tvar i, ilen, spacing, avgMajorSpacing;\r\n\r\n\t\t// If there are too many major ticks to display them all\r\n\t\tif (numMajorIndices > ticksLimit) {\r\n\t\t\tskipMajors(ticks, majorIndices, numMajorIndices / ticksLimit);\r\n\t\t\treturn nonSkipped(ticks);\r\n\t\t}\r\n\r\n\t\tspacing = calculateSpacing(majorIndices, ticks, axisLength, ticksLimit);\r\n\r\n\t\tif (numMajorIndices > 0) {\r\n\t\t\tfor (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\r\n\t\t\t\tskip(ticks, spacing, majorIndices[i], majorIndices[i + 1]);\r\n\t\t\t}\r\n\t\t\tavgMajorSpacing = numMajorIndices > 1 ? (last - first) / (numMajorIndices - 1) : null;\r\n\t\t\tskip(ticks, spacing, helpers$1.isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\r\n\t\t\tskip(ticks, spacing, last, helpers$1.isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\r\n\t\t\treturn nonSkipped(ticks);\r\n\t\t}\r\n\t\tskip(ticks, spacing);\r\n\t\treturn nonSkipped(ticks);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_tickSize: function() {\r\n\t\tvar me = this;\r\n\t\tvar optionTicks = me.options.ticks;\r\n\r\n\t\t// Calculate space needed by label in axis direction.\r\n\t\tvar rot = helpers$1.toRadians(me.labelRotation);\r\n\t\tvar cos = Math.abs(Math.cos(rot));\r\n\t\tvar sin = Math.abs(Math.sin(rot));\r\n\r\n\t\tvar labelSizes = me._getLabelSizes();\r\n\t\tvar padding = optionTicks.autoSkipPadding || 0;\r\n\t\tvar w = labelSizes ? labelSizes.widest.width + padding : 0;\r\n\t\tvar h = labelSizes ? labelSizes.highest.height + padding : 0;\r\n\r\n\t\t// Calculate space needed for 1 tick in axis direction.\r\n\t\treturn me.isHorizontal()\r\n\t\t\t? h * cos > w * sin ? w / cos : h / sin\r\n\t\t\t: h * sin < w * cos ? h / cos : w / sin;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_isVisible: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar display = me.options.display;\r\n\t\tvar i, ilen, meta;\r\n\r\n\t\tif (display !== 'auto') {\r\n\t\t\treturn !!display;\r\n\t\t}\r\n\r\n\t\t// When 'auto', the scale is visible if at least one associated dataset is visible.\r\n\t\tfor (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\r\n\t\t\tif (chart.isDatasetVisible(i)) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\t\tif (meta.xAxisID === me.id || meta.yAxisID === me.id) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_computeGridLineItems: function(chartArea) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar options = me.options;\r\n\t\tvar gridLines = options.gridLines;\r\n\t\tvar position = options.position;\r\n\t\tvar offsetGridLines = gridLines.offsetGridLines;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tvar ticks = me._ticksToDraw;\r\n\t\tvar ticksLength = ticks.length + (offsetGridLines ? 1 : 0);\r\n\r\n\t\tvar tl = getTickMarkLength(gridLines);\r\n\t\tvar items = [];\r\n\t\tvar axisWidth = gridLines.drawBorder ? valueAtIndexOrDefault(gridLines.lineWidth, 0, 0) : 0;\r\n\t\tvar axisHalfWidth = axisWidth / 2;\r\n\t\tvar alignPixel = helpers$1._alignPixel;\r\n\t\tvar alignBorderValue = function(pixel) {\r\n\t\t\treturn alignPixel(chart, pixel, axisWidth);\r\n\t\t};\r\n\t\tvar borderValue, i, tick, lineValue, alignedLineValue;\r\n\t\tvar tx1, ty1, tx2, ty2, x1, y1, x2, y2, lineWidth, lineColor, borderDash, borderDashOffset;\r\n\r\n\t\tif (position === 'top') {\r\n\t\t\tborderValue = alignBorderValue(me.bottom);\r\n\t\t\tty1 = me.bottom - tl;\r\n\t\t\tty2 = borderValue - axisHalfWidth;\r\n\t\t\ty1 = alignBorderValue(chartArea.top) + axisHalfWidth;\r\n\t\t\ty2 = chartArea.bottom;\r\n\t\t} else if (position === 'bottom') {\r\n\t\t\tborderValue = alignBorderValue(me.top);\r\n\t\t\ty1 = chartArea.top;\r\n\t\t\ty2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\r\n\t\t\tty1 = borderValue + axisHalfWidth;\r\n\t\t\tty2 = me.top + tl;\r\n\t\t} else if (position === 'left') {\r\n\t\t\tborderValue = alignBorderValue(me.right);\r\n\t\t\ttx1 = me.right - tl;\r\n\t\t\ttx2 = borderValue - axisHalfWidth;\r\n\t\t\tx1 = alignBorderValue(chartArea.left) + axisHalfWidth;\r\n\t\t\tx2 = chartArea.right;\r\n\t\t} else {\r\n\t\t\tborderValue = alignBorderValue(me.left);\r\n\t\t\tx1 = chartArea.left;\r\n\t\t\tx2 = alignBorderValue(chartArea.right) - axisHalfWidth;\r\n\t\t\ttx1 = borderValue + axisHalfWidth;\r\n\t\t\ttx2 = me.left + tl;\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < ticksLength; ++i) {\r\n\t\t\ttick = ticks[i] || {};\r\n\r\n\t\t\t// autoskipper skipped this tick (#4635)\r\n\t\t\tif (isNullOrUndef(tick.label) && i < ticks.length) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (i === me.zeroLineIndex && options.offset === offsetGridLines) {\r\n\t\t\t\t// Draw the first index specially\r\n\t\t\t\tlineWidth = gridLines.zeroLineWidth;\r\n\t\t\t\tlineColor = gridLines.zeroLineColor;\r\n\t\t\t\tborderDash = gridLines.zeroLineBorderDash || [];\r\n\t\t\t\tborderDashOffset = gridLines.zeroLineBorderDashOffset || 0.0;\r\n\t\t\t} else {\r\n\t\t\t\tlineWidth = valueAtIndexOrDefault(gridLines.lineWidth, i, 1);\r\n\t\t\t\tlineColor = valueAtIndexOrDefault(gridLines.color, i, 'rgba(0,0,0,0.1)');\r\n\t\t\t\tborderDash = gridLines.borderDash || [];\r\n\t\t\t\tborderDashOffset = gridLines.borderDashOffset || 0.0;\r\n\t\t\t}\r\n\r\n\t\t\tlineValue = getPixelForGridLine(me, tick._index || i, offsetGridLines);\r\n\r\n\t\t\t// Skip if the pixel is out of the range\r\n\t\t\tif (lineValue === undefined) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\talignedLineValue = alignPixel(chart, lineValue, lineWidth);\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\ttx1 = tx2 = x1 = x2 = alignedLineValue;\r\n\t\t\t} else {\r\n\t\t\t\tty1 = ty2 = y1 = y2 = alignedLineValue;\r\n\t\t\t}\r\n\r\n\t\t\titems.push({\r\n\t\t\t\ttx1: tx1,\r\n\t\t\t\tty1: ty1,\r\n\t\t\t\ttx2: tx2,\r\n\t\t\t\tty2: ty2,\r\n\t\t\t\tx1: x1,\r\n\t\t\t\ty1: y1,\r\n\t\t\t\tx2: x2,\r\n\t\t\t\ty2: y2,\r\n\t\t\t\twidth: lineWidth,\r\n\t\t\t\tcolor: lineColor,\r\n\t\t\t\tborderDash: borderDash,\r\n\t\t\t\tborderDashOffset: borderDashOffset,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\titems.ticksLength = ticksLength;\r\n\t\titems.borderValue = borderValue;\r\n\r\n\t\treturn items;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_computeLabelItems: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar optionTicks = options.ticks;\r\n\t\tvar position = options.position;\r\n\t\tvar isMirrored = optionTicks.mirror;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tvar ticks = me._ticksToDraw;\r\n\t\tvar fonts = parseTickFontOptions(optionTicks);\r\n\t\tvar tickPadding = optionTicks.padding;\r\n\t\tvar tl = getTickMarkLength(options.gridLines);\r\n\t\tvar rotation = -helpers$1.toRadians(me.labelRotation);\r\n\t\tvar items = [];\r\n\t\tvar i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\r\n\r\n\t\tif (position === 'top') {\r\n\t\t\ty = me.bottom - tl - tickPadding;\r\n\t\t\ttextAlign = !rotation ? 'center' : 'left';\r\n\t\t} else if (position === 'bottom') {\r\n\t\t\ty = me.top + tl + tickPadding;\r\n\t\t\ttextAlign = !rotation ? 'center' : 'right';\r\n\t\t} else if (position === 'left') {\r\n\t\t\tx = me.right - (isMirrored ? 0 : tl) - tickPadding;\r\n\t\t\ttextAlign = isMirrored ? 'left' : 'right';\r\n\t\t} else {\r\n\t\t\tx = me.left + (isMirrored ? 0 : tl) + tickPadding;\r\n\t\t\ttextAlign = isMirrored ? 'right' : 'left';\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n\t\t\ttick = ticks[i];\r\n\t\t\tlabel = tick.label;\r\n\r\n\t\t\t// autoskipper skipped this tick (#4635)\r\n\t\t\tif (isNullOrUndef(label)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tpixel = me.getPixelForTick(tick._index || i) + optionTicks.labelOffset;\r\n\t\t\tfont = tick.major ? fonts.major : fonts.minor;\r\n\t\t\tlineHeight = font.lineHeight;\r\n\t\t\tlineCount = isArray(label) ? label.length : 1;\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\tx = pixel;\r\n\t\t\t\ttextOffset = position === 'top'\r\n\t\t\t\t\t? ((!rotation ? 0.5 : 1) - lineCount) * lineHeight\r\n\t\t\t\t\t: (!rotation ? 0.5 : 0) * lineHeight;\r\n\t\t\t} else {\r\n\t\t\t\ty = pixel;\r\n\t\t\t\ttextOffset = (1 - lineCount) * lineHeight / 2;\r\n\t\t\t}\r\n\r\n\t\t\titems.push({\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y,\r\n\t\t\t\trotation: rotation,\r\n\t\t\t\tlabel: label,\r\n\t\t\t\tfont: font,\r\n\t\t\t\ttextOffset: textOffset,\r\n\t\t\t\ttextAlign: textAlign\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn items;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawGrid: function(chartArea) {\r\n\t\tvar me = this;\r\n\t\tvar gridLines = me.options.gridLines;\r\n\r\n\t\tif (!gridLines.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar chart = me.chart;\r\n\t\tvar alignPixel = helpers$1._alignPixel;\r\n\t\tvar axisWidth = gridLines.drawBorder ? valueAtIndexOrDefault(gridLines.lineWidth, 0, 0) : 0;\r\n\t\tvar items = me._gridLineItems || (me._gridLineItems = me._computeGridLineItems(chartArea));\r\n\t\tvar width, color, i, ilen, item;\r\n\r\n\t\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\t\titem = items[i];\r\n\t\t\twidth = item.width;\r\n\t\t\tcolor = item.color;\r\n\r\n\t\t\tif (width && color) {\r\n\t\t\t\tctx.save();\r\n\t\t\t\tctx.lineWidth = width;\r\n\t\t\t\tctx.strokeStyle = color;\r\n\t\t\t\tif (ctx.setLineDash) {\r\n\t\t\t\t\tctx.setLineDash(item.borderDash);\r\n\t\t\t\t\tctx.lineDashOffset = item.borderDashOffset;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tctx.beginPath();\r\n\r\n\t\t\t\tif (gridLines.drawTicks) {\r\n\t\t\t\t\tctx.moveTo(item.tx1, item.ty1);\r\n\t\t\t\t\tctx.lineTo(item.tx2, item.ty2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (gridLines.drawOnChartArea) {\r\n\t\t\t\t\tctx.moveTo(item.x1, item.y1);\r\n\t\t\t\t\tctx.lineTo(item.x2, item.y2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tctx.stroke();\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (axisWidth) {\r\n\t\t\t// Draw the line at the edge of the axis\r\n\t\t\tvar firstLineWidth = axisWidth;\r\n\t\t\tvar lastLineWidth = valueAtIndexOrDefault(gridLines.lineWidth, items.ticksLength - 1, 1);\r\n\t\t\tvar borderValue = items.borderValue;\r\n\t\t\tvar x1, x2, y1, y2;\r\n\r\n\t\t\tif (me.isHorizontal()) {\r\n\t\t\t\tx1 = alignPixel(chart, me.left, firstLineWidth) - firstLineWidth / 2;\r\n\t\t\t\tx2 = alignPixel(chart, me.right, lastLineWidth) + lastLineWidth / 2;\r\n\t\t\t\ty1 = y2 = borderValue;\r\n\t\t\t} else {\r\n\t\t\t\ty1 = alignPixel(chart, me.top, firstLineWidth) - firstLineWidth / 2;\r\n\t\t\t\ty2 = alignPixel(chart, me.bottom, lastLineWidth) + lastLineWidth / 2;\r\n\t\t\t\tx1 = x2 = borderValue;\r\n\t\t\t}\r\n\r\n\t\t\tctx.lineWidth = axisWidth;\r\n\t\t\tctx.strokeStyle = valueAtIndexOrDefault(gridLines.color, 0);\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(x1, y1);\r\n\t\t\tctx.lineTo(x2, y2);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawLabels: function() {\r\n\t\tvar me = this;\r\n\t\tvar optionTicks = me.options.ticks;\r\n\r\n\t\tif (!optionTicks.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar items = me._labelItems || (me._labelItems = me._computeLabelItems());\r\n\t\tvar i, j, ilen, jlen, item, tickFont, label, y;\r\n\r\n\t\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\t\titem = items[i];\r\n\t\t\ttickFont = item.font;\r\n\r\n\t\t\t// Make sure we draw text in the correct color and font\r\n\t\t\tctx.save();\r\n\t\t\tctx.translate(item.x, item.y);\r\n\t\t\tctx.rotate(item.rotation);\r\n\t\t\tctx.font = tickFont.string;\r\n\t\t\tctx.fillStyle = tickFont.color;\r\n\t\t\tctx.textBaseline = 'middle';\r\n\t\t\tctx.textAlign = item.textAlign;\r\n\r\n\t\t\tlabel = item.label;\r\n\t\t\ty = item.textOffset;\r\n\t\t\tif (isArray(label)) {\r\n\t\t\t\tfor (j = 0, jlen = label.length; j < jlen; ++j) {\r\n\t\t\t\t\t// We just make sure the multiline element is a string here..\r\n\t\t\t\t\tctx.fillText('' + label[j], 0, y);\r\n\t\t\t\t\ty += tickFont.lineHeight;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tctx.fillText(label, 0, y);\r\n\t\t\t}\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawTitle: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar options = me.options;\r\n\t\tvar scaleLabel = options.scaleLabel;\r\n\r\n\t\tif (!scaleLabel.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar scaleLabelFontColor = valueOrDefault$a(scaleLabel.fontColor, core_defaults.global.defaultFontColor);\r\n\t\tvar scaleLabelFont = helpers$1.options._parseFont(scaleLabel);\r\n\t\tvar scaleLabelPadding = helpers$1.options.toPadding(scaleLabel.padding);\r\n\t\tvar halfLineHeight = scaleLabelFont.lineHeight / 2;\r\n\t\tvar position = options.position;\r\n\t\tvar rotation = 0;\r\n\t\tvar scaleLabelX, scaleLabelY;\r\n\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\tscaleLabelX = me.left + me.width / 2; // midpoint of the width\r\n\t\t\tscaleLabelY = position === 'bottom'\r\n\t\t\t\t? me.bottom - halfLineHeight - scaleLabelPadding.bottom\r\n\t\t\t\t: me.top + halfLineHeight + scaleLabelPadding.top;\r\n\t\t} else {\r\n\t\t\tvar isLeft = position === 'left';\r\n\t\t\tscaleLabelX = isLeft\r\n\t\t\t\t? me.left + halfLineHeight + scaleLabelPadding.top\r\n\t\t\t\t: me.right - halfLineHeight - scaleLabelPadding.top;\r\n\t\t\tscaleLabelY = me.top + me.height / 2;\r\n\t\t\trotation = isLeft ? -0.5 * Math.PI : 0.5 * Math.PI;\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.translate(scaleLabelX, scaleLabelY);\r\n\t\tctx.rotate(rotation);\r\n\t\tctx.textAlign = 'center';\r\n\t\tctx.textBaseline = 'middle';\r\n\t\tctx.fillStyle = scaleLabelFontColor; // render in correct colour\r\n\t\tctx.font = scaleLabelFont.string;\r\n\t\tctx.fillText(scaleLabel.labelString, 0, 0);\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\tdraw: function(chartArea) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (!me._isVisible()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tme._drawGrid(chartArea);\r\n\t\tme._drawTitle();\r\n\t\tme._drawLabels();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_layers: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar tz = opts.ticks && opts.ticks.z || 0;\r\n\t\tvar gz = opts.gridLines && opts.gridLines.z || 0;\r\n\r\n\t\tif (!me._isVisible() || tz === gz || me.draw !== me._draw) {\r\n\t\t\t// backward compatibility: draw has been overridden by custom scale\r\n\t\t\treturn [{\r\n\t\t\t\tz: tz,\r\n\t\t\t\tdraw: function() {\r\n\t\t\t\t\tme.draw.apply(me, arguments);\r\n\t\t\t\t}\r\n\t\t\t}];\r\n\t\t}\r\n\r\n\t\treturn [{\r\n\t\t\tz: gz,\r\n\t\t\tdraw: function() {\r\n\t\t\t\tme._drawGrid.apply(me, arguments);\r\n\t\t\t\tme._drawTitle.apply(me, arguments);\r\n\t\t\t}\r\n\t\t}, {\r\n\t\t\tz: tz,\r\n\t\t\tdraw: function() {\r\n\t\t\t\tme._drawLabels.apply(me, arguments);\r\n\t\t\t}\r\n\t\t}];\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getMatchingVisibleMetas: function(type) {\r\n\t\tvar me = this;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\treturn me.chart._getSortedVisibleDatasetMetas()\r\n\t\t\t.filter(function(meta) {\r\n\t\t\t\treturn (!type || meta.type === type)\r\n\t\t\t\t\t&& (isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id);\r\n\t\t\t});\r\n\t}\r\n});\r\n\r\nScale.prototype._draw = Scale.prototype.draw;\r\n\r\nvar core_scale = Scale;\n\nvar isNullOrUndef$1 = helpers$1.isNullOrUndef;\r\n\r\nvar defaultConfig = {\r\n\tposition: 'bottom'\r\n};\r\n\r\nvar scale_category = core_scale.extend({\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar labels = me._getLabels();\r\n\t\tvar ticksOpts = me.options.ticks;\r\n\t\tvar min = ticksOpts.min;\r\n\t\tvar max = ticksOpts.max;\r\n\t\tvar minIndex = 0;\r\n\t\tvar maxIndex = labels.length - 1;\r\n\t\tvar findIndex;\r\n\r\n\t\tif (min !== undefined) {\r\n\t\t\t// user specified min value\r\n\t\t\tfindIndex = labels.indexOf(min);\r\n\t\t\tif (findIndex >= 0) {\r\n\t\t\t\tminIndex = findIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (max !== undefined) {\r\n\t\t\t// user specified max value\r\n\t\t\tfindIndex = labels.indexOf(max);\r\n\t\t\tif (findIndex >= 0) {\r\n\t\t\t\tmaxIndex = findIndex;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.minIndex = minIndex;\r\n\t\tme.maxIndex = maxIndex;\r\n\t\tme.min = labels[minIndex];\r\n\t\tme.max = labels[maxIndex];\r\n\t},\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar labels = me._getLabels();\r\n\t\tvar minIndex = me.minIndex;\r\n\t\tvar maxIndex = me.maxIndex;\r\n\r\n\t\t// If we are viewing some subset of labels, slice the original array\r\n\t\tme.ticks = (minIndex === 0 && maxIndex === labels.length - 1) ? labels : labels.slice(minIndex, maxIndex + 1);\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\r\n\t\tif (chart.getDatasetMeta(datasetIndex).controller._getValueScaleId() === me.id) {\r\n\t\t\treturn me.getRightValue(chart.data.datasets[datasetIndex].data[index]);\r\n\t\t}\r\n\r\n\t\treturn me._getLabels()[index];\r\n\t},\r\n\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar offset = me.options.offset;\r\n\t\tvar ticks = me.ticks;\r\n\r\n\t\tcore_scale.prototype._configure.call(me);\r\n\r\n\t\tif (!me.isHorizontal()) {\r\n\t\t\t// For backward compatibility, vertical category scale reverse is inverted.\r\n\t\t\tme._reversePixels = !me._reversePixels;\r\n\t\t}\r\n\r\n\t\tif (!ticks) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tme._startValue = me.minIndex - (offset ? 0.5 : 0);\r\n\t\tme._valueRange = Math.max(ticks.length - (offset ? 0 : 1), 1);\r\n\t},\r\n\r\n\t// Used to get data value locations.  Value can either be an index or a numerical value\r\n\tgetPixelForValue: function(value, index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar valueCategory, labels, idx;\r\n\r\n\t\tif (!isNullOrUndef$1(index) && !isNullOrUndef$1(datasetIndex)) {\r\n\t\t\tvalue = me.chart.data.datasets[datasetIndex].data[index];\r\n\t\t}\r\n\r\n\t\t// If value is a data object, then index is the index in the data array,\r\n\t\t// not the index of the scale. We need to change that.\r\n\t\tif (!isNullOrUndef$1(value)) {\r\n\t\t\tvalueCategory = me.isHorizontal() ? value.x : value.y;\r\n\t\t}\r\n\t\tif (valueCategory !== undefined || (value !== undefined && isNaN(index))) {\r\n\t\t\tlabels = me._getLabels();\r\n\t\t\tvalue = helpers$1.valueOrDefault(valueCategory, value);\r\n\t\t\tidx = labels.indexOf(value);\r\n\t\t\tindex = idx !== -1 ? idx : index;\r\n\t\t\tif (isNaN(index)) {\r\n\t\t\t\tindex = value;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn me.getPixelForDecimal((index - me._startValue) / me._valueRange);\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.ticks;\r\n\t\treturn index < 0 || index > ticks.length - 1\r\n\t\t\t? null\r\n\t\t\t: this.getPixelForValue(ticks[index], index + this.minIndex);\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\tvar me = this;\r\n\t\tvar value = Math.round(me._startValue + me.getDecimalForPixel(pixel) * me._valueRange);\r\n\t\treturn Math.min(Math.max(value, 0), me.ticks.length - 1);\r\n\t},\r\n\r\n\tgetBasePixel: function() {\r\n\t\treturn this.bottom;\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults = defaultConfig;\nscale_category._defaults = _defaults;\n\nvar noop = helpers$1.noop;\r\nvar isNullOrUndef$2 = helpers$1.isNullOrUndef;\r\n\r\n/**\r\n * Generate a set of linear ticks\r\n * @param generationOptions the options used to generate the ticks\r\n * @param dataRange the range of the data\r\n * @returns {number[]} array of tick values\r\n */\r\nfunction generateTicks(generationOptions, dataRange) {\r\n\tvar ticks = [];\r\n\t// To get a \"nice\" value for the tick spacing, we will use the appropriately named\r\n\t// \"nice number\" algorithm. See https://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks\r\n\t// for details.\r\n\r\n\tvar MIN_SPACING = 1e-14;\r\n\tvar stepSize = generationOptions.stepSize;\r\n\tvar unit = stepSize || 1;\r\n\tvar maxNumSpaces = generationOptions.maxTicks - 1;\r\n\tvar min = generationOptions.min;\r\n\tvar max = generationOptions.max;\r\n\tvar precision = generationOptions.precision;\r\n\tvar rmin = dataRange.min;\r\n\tvar rmax = dataRange.max;\r\n\tvar spacing = helpers$1.niceNum((rmax - rmin) / maxNumSpaces / unit) * unit;\r\n\tvar factor, niceMin, niceMax, numSpaces;\r\n\r\n\t// Beyond MIN_SPACING floating point numbers being to lose precision\r\n\t// such that we can't do the math necessary to generate ticks\r\n\tif (spacing < MIN_SPACING && isNullOrUndef$2(min) && isNullOrUndef$2(max)) {\r\n\t\treturn [rmin, rmax];\r\n\t}\r\n\r\n\tnumSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\r\n\tif (numSpaces > maxNumSpaces) {\r\n\t\t// If the calculated num of spaces exceeds maxNumSpaces, recalculate it\r\n\t\tspacing = helpers$1.niceNum(numSpaces * spacing / maxNumSpaces / unit) * unit;\r\n\t}\r\n\r\n\tif (stepSize || isNullOrUndef$2(precision)) {\r\n\t\t// If a precision is not specified, calculate factor based on spacing\r\n\t\tfactor = Math.pow(10, helpers$1._decimalPlaces(spacing));\r\n\t} else {\r\n\t\t// If the user specified a precision, round to that number of decimal places\r\n\t\tfactor = Math.pow(10, precision);\r\n\t\tspacing = Math.ceil(spacing * factor) / factor;\r\n\t}\r\n\r\n\tniceMin = Math.floor(rmin / spacing) * spacing;\r\n\tniceMax = Math.ceil(rmax / spacing) * spacing;\r\n\r\n\t// If min, max and stepSize is set and they make an evenly spaced scale use it.\r\n\tif (stepSize) {\r\n\t\t// If very close to our whole number, use it.\r\n\t\tif (!isNullOrUndef$2(min) && helpers$1.almostWhole(min / spacing, spacing / 1000)) {\r\n\t\t\tniceMin = min;\r\n\t\t}\r\n\t\tif (!isNullOrUndef$2(max) && helpers$1.almostWhole(max / spacing, spacing / 1000)) {\r\n\t\t\tniceMax = max;\r\n\t\t}\r\n\t}\r\n\r\n\tnumSpaces = (niceMax - niceMin) / spacing;\r\n\t// If very close to our rounded value, use it.\r\n\tif (helpers$1.almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\r\n\t\tnumSpaces = Math.round(numSpaces);\r\n\t} else {\r\n\t\tnumSpaces = Math.ceil(numSpaces);\r\n\t}\r\n\r\n\tniceMin = Math.round(niceMin * factor) / factor;\r\n\tniceMax = Math.round(niceMax * factor) / factor;\r\n\tticks.push(isNullOrUndef$2(min) ? niceMin : min);\r\n\tfor (var j = 1; j < numSpaces; ++j) {\r\n\t\tticks.push(Math.round((niceMin + j * spacing) * factor) / factor);\r\n\t}\r\n\tticks.push(isNullOrUndef$2(max) ? niceMax : max);\r\n\r\n\treturn ticks;\r\n}\r\n\r\nvar scale_linearbase = core_scale.extend({\r\n\tgetRightValue: function(value) {\r\n\t\tif (typeof value === 'string') {\r\n\t\t\treturn +value;\r\n\t\t}\r\n\t\treturn core_scale.prototype.getRightValue.call(this, value);\r\n\t},\r\n\r\n\thandleTickRangeOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\r\n\t\t// If we are forcing it to begin at 0, but 0 will already be rendered on the chart,\r\n\t\t// do nothing since that would make the chart weird. If the user really wants a weird chart\r\n\t\t// axis, they can manually override it\r\n\t\tif (tickOpts.beginAtZero) {\r\n\t\t\tvar minSign = helpers$1.sign(me.min);\r\n\t\t\tvar maxSign = helpers$1.sign(me.max);\r\n\r\n\t\t\tif (minSign < 0 && maxSign < 0) {\r\n\t\t\t\t// move the top up to 0\r\n\t\t\t\tme.max = 0;\r\n\t\t\t} else if (minSign > 0 && maxSign > 0) {\r\n\t\t\t\t// move the bottom down to 0\r\n\t\t\t\tme.min = 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar setMin = tickOpts.min !== undefined || tickOpts.suggestedMin !== undefined;\r\n\t\tvar setMax = tickOpts.max !== undefined || tickOpts.suggestedMax !== undefined;\r\n\r\n\t\tif (tickOpts.min !== undefined) {\r\n\t\t\tme.min = tickOpts.min;\r\n\t\t} else if (tickOpts.suggestedMin !== undefined) {\r\n\t\t\tif (me.min === null) {\r\n\t\t\t\tme.min = tickOpts.suggestedMin;\r\n\t\t\t} else {\r\n\t\t\t\tme.min = Math.min(me.min, tickOpts.suggestedMin);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (tickOpts.max !== undefined) {\r\n\t\t\tme.max = tickOpts.max;\r\n\t\t} else if (tickOpts.suggestedMax !== undefined) {\r\n\t\t\tif (me.max === null) {\r\n\t\t\t\tme.max = tickOpts.suggestedMax;\r\n\t\t\t} else {\r\n\t\t\t\tme.max = Math.max(me.max, tickOpts.suggestedMax);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (setMin !== setMax) {\r\n\t\t\t// We set the min or the max but not both.\r\n\t\t\t// So ensure that our range is good\r\n\t\t\t// Inverted or 0 length range can happen when\r\n\t\t\t// ticks.min is set, and no datasets are visible\r\n\t\t\tif (me.min >= me.max) {\r\n\t\t\t\tif (setMin) {\r\n\t\t\t\t\tme.max = me.min + 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tme.min = me.max - 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (me.min === me.max) {\r\n\t\t\tme.max++;\r\n\r\n\t\t\tif (!tickOpts.beginAtZero) {\r\n\t\t\t\tme.min--;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tgetTickLimit: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar stepSize = tickOpts.stepSize;\r\n\t\tvar maxTicksLimit = tickOpts.maxTicksLimit;\r\n\t\tvar maxTicks;\r\n\r\n\t\tif (stepSize) {\r\n\t\t\tmaxTicks = Math.ceil(me.max / stepSize) - Math.floor(me.min / stepSize) + 1;\r\n\t\t} else {\r\n\t\t\tmaxTicks = me._computeTickLimit();\r\n\t\t\tmaxTicksLimit = maxTicksLimit || 11;\r\n\t\t}\r\n\r\n\t\tif (maxTicksLimit) {\r\n\t\t\tmaxTicks = Math.min(maxTicksLimit, maxTicks);\r\n\t\t}\r\n\r\n\t\treturn maxTicks;\r\n\t},\r\n\r\n\t_computeTickLimit: function() {\r\n\t\treturn Number.POSITIVE_INFINITY;\r\n\t},\r\n\r\n\thandleDirectionalChanges: noop,\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\r\n\t\t// Figure out what the max number of ticks we can support it is based on the size of\r\n\t\t// the axis area. For now, we say that the minimum tick spacing in pixels must be 40\r\n\t\t// We also limit the maximum number of ticks to 11 which gives a nice 10 squares on\r\n\t\t// the graph. Make sure we always have at least 2 ticks\r\n\t\tvar maxTicks = me.getTickLimit();\r\n\t\tmaxTicks = Math.max(2, maxTicks);\r\n\r\n\t\tvar numericGeneratorOptions = {\r\n\t\t\tmaxTicks: maxTicks,\r\n\t\t\tmin: tickOpts.min,\r\n\t\t\tmax: tickOpts.max,\r\n\t\t\tprecision: tickOpts.precision,\r\n\t\t\tstepSize: helpers$1.valueOrDefault(tickOpts.fixedStepSize, tickOpts.stepSize)\r\n\t\t};\r\n\t\tvar ticks = me.ticks = generateTicks(numericGeneratorOptions, me);\r\n\r\n\t\tme.handleDirectionalChanges();\r\n\r\n\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\r\n\t\t// range of the scale\r\n\t\tme.max = helpers$1.max(ticks);\r\n\t\tme.min = helpers$1.min(ticks);\r\n\r\n\t\tif (tickOpts.reverse) {\r\n\t\t\tticks.reverse();\r\n\r\n\t\t\tme.start = me.max;\r\n\t\t\tme.end = me.min;\r\n\t\t} else {\r\n\t\t\tme.start = me.min;\r\n\t\t\tme.end = me.max;\r\n\t\t}\r\n\t},\r\n\r\n\tconvertTicksToLabels: function() {\r\n\t\tvar me = this;\r\n\t\tme.ticksAsNumbers = me.ticks.slice();\r\n\t\tme.zeroLineIndex = me.ticks.indexOf(0);\r\n\r\n\t\tcore_scale.prototype.convertTicksToLabels.call(me);\r\n\t},\r\n\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar ticks = me.getTicks();\r\n\t\tvar start = me.min;\r\n\t\tvar end = me.max;\r\n\t\tvar offset;\r\n\r\n\t\tcore_scale.prototype._configure.call(me);\r\n\r\n\t\tif (me.options.offset && ticks.length) {\r\n\t\t\toffset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\r\n\t\t\tstart -= offset;\r\n\t\t\tend += offset;\r\n\t\t}\r\n\t\tme._startValue = start;\r\n\t\tme._endValue = end;\r\n\t\tme._valueRange = end - start;\r\n\t}\r\n});\n\nvar defaultConfig$1 = {\r\n\tposition: 'left',\r\n\tticks: {\r\n\t\tcallback: core_ticks.formatters.linear\r\n\t}\r\n};\r\n\r\nvar DEFAULT_MIN = 0;\r\nvar DEFAULT_MAX = 1;\r\n\r\nfunction getOrCreateStack(stacks, stacked, meta) {\r\n\tvar key = [\r\n\t\tmeta.type,\r\n\t\t// we have a separate stack for stack=undefined datasets when the opts.stacked is undefined\r\n\t\tstacked === undefined && meta.stack === undefined ? meta.index : '',\r\n\t\tmeta.stack\r\n\t].join('.');\r\n\r\n\tif (stacks[key] === undefined) {\r\n\t\tstacks[key] = {\r\n\t\t\tpos: [],\r\n\t\t\tneg: []\r\n\t\t};\r\n\t}\r\n\r\n\treturn stacks[key];\r\n}\r\n\r\nfunction stackData(scale, stacks, meta, data) {\r\n\tvar opts = scale.options;\r\n\tvar stacked = opts.stacked;\r\n\tvar stack = getOrCreateStack(stacks, stacked, meta);\r\n\tvar pos = stack.pos;\r\n\tvar neg = stack.neg;\r\n\tvar ilen = data.length;\r\n\tvar i, value;\r\n\r\n\tfor (i = 0; i < ilen; ++i) {\r\n\t\tvalue = scale._parseValue(data[i]);\r\n\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tpos[i] = pos[i] || 0;\r\n\t\tneg[i] = neg[i] || 0;\r\n\r\n\t\tif (opts.relativePoints) {\r\n\t\t\tpos[i] = 100;\r\n\t\t} else if (value.min < 0 || value.max < 0) {\r\n\t\t\tneg[i] += value.min;\r\n\t\t} else {\r\n\t\t\tpos[i] += value.max;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction updateMinMax(scale, meta, data) {\r\n\tvar ilen = data.length;\r\n\tvar i, value;\r\n\r\n\tfor (i = 0; i < ilen; ++i) {\r\n\t\tvalue = scale._parseValue(data[i]);\r\n\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tscale.min = Math.min(scale.min, value.min);\r\n\t\tscale.max = Math.max(scale.max, value.max);\r\n\t}\r\n}\r\n\r\nvar scale_linear = scale_linearbase.extend({\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar metasets = me._getMatchingVisibleMetas();\r\n\t\tvar hasStacks = opts.stacked;\r\n\t\tvar stacks = {};\r\n\t\tvar ilen = metasets.length;\r\n\t\tvar i, meta, data, values;\r\n\r\n\t\tme.min = Number.POSITIVE_INFINITY;\r\n\t\tme.max = Number.NEGATIVE_INFINITY;\r\n\r\n\t\tif (hasStacks === undefined) {\r\n\t\t\tfor (i = 0; !hasStacks && i < ilen; ++i) {\r\n\t\t\t\tmeta = metasets[i];\r\n\t\t\t\thasStacks = meta.stack !== undefined;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tmeta = metasets[i];\r\n\t\t\tdata = datasets[meta.index].data;\r\n\t\t\tif (hasStacks) {\r\n\t\t\t\tstackData(me, stacks, meta, data);\r\n\t\t\t} else {\r\n\t\t\t\tupdateMinMax(me, meta, data);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thelpers$1.each(stacks, function(stackValues) {\r\n\t\t\tvalues = stackValues.pos.concat(stackValues.neg);\r\n\t\t\tme.min = Math.min(me.min, helpers$1.min(values));\r\n\t\t\tme.max = Math.max(me.max, helpers$1.max(values));\r\n\t\t});\r\n\r\n\t\tme.min = helpers$1.isFinite(me.min) && !isNaN(me.min) ? me.min : DEFAULT_MIN;\r\n\t\tme.max = helpers$1.isFinite(me.max) && !isNaN(me.max) ? me.max : DEFAULT_MAX;\r\n\r\n\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\r\n\t\tme.handleTickRangeOptions();\r\n\t},\r\n\r\n\t// Returns the maximum number of ticks based on the scale dimension\r\n\t_computeTickLimit: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickFont;\r\n\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\treturn Math.ceil(me.width / 40);\r\n\t\t}\r\n\t\ttickFont = helpers$1.options._parseFont(me.options.ticks);\r\n\t\treturn Math.ceil(me.height / tickFont.lineHeight);\r\n\t},\r\n\r\n\t// Called after the ticks are built. We need\r\n\thandleDirectionalChanges: function() {\r\n\t\tif (!this.isHorizontal()) {\r\n\t\t\t// We are in a vertical orientation. The top value is the highest. So reverse the array\r\n\t\t\tthis.ticks.reverse();\r\n\t\t}\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\treturn this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);\r\n\t},\r\n\r\n\t// Utils\r\n\tgetPixelForValue: function(value) {\r\n\t\tvar me = this;\r\n\t\treturn me.getPixelForDecimal((+me.getRightValue(value) - me._startValue) / me._valueRange);\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\treturn this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.ticksAsNumbers;\r\n\t\tif (index < 0 || index > ticks.length - 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.getPixelForValue(ticks[index]);\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$1 = defaultConfig$1;\nscale_linear._defaults = _defaults$1;\n\nvar valueOrDefault$b = helpers$1.valueOrDefault;\r\nvar log10 = helpers$1.math.log10;\r\n\r\n/**\r\n * Generate a set of logarithmic ticks\r\n * @param generationOptions the options used to generate the ticks\r\n * @param dataRange the range of the data\r\n * @returns {number[]} array of tick values\r\n */\r\nfunction generateTicks$1(generationOptions, dataRange) {\r\n\tvar ticks = [];\r\n\r\n\tvar tickVal = valueOrDefault$b(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\r\n\r\n\tvar endExp = Math.floor(log10(dataRange.max));\r\n\tvar endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\r\n\tvar exp, significand;\r\n\r\n\tif (tickVal === 0) {\r\n\t\texp = Math.floor(log10(dataRange.minNotZero));\r\n\t\tsignificand = Math.floor(dataRange.minNotZero / Math.pow(10, exp));\r\n\r\n\t\tticks.push(tickVal);\r\n\t\ttickVal = significand * Math.pow(10, exp);\r\n\t} else {\r\n\t\texp = Math.floor(log10(tickVal));\r\n\t\tsignificand = Math.floor(tickVal / Math.pow(10, exp));\r\n\t}\r\n\tvar precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\r\n\r\n\tdo {\r\n\t\tticks.push(tickVal);\r\n\r\n\t\t++significand;\r\n\t\tif (significand === 10) {\r\n\t\t\tsignificand = 1;\r\n\t\t\t++exp;\r\n\t\t\tprecision = exp >= 0 ? 1 : precision;\r\n\t\t}\r\n\r\n\t\ttickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\r\n\t} while (exp < endExp || (exp === endExp && significand < endSignificand));\r\n\r\n\tvar lastTick = valueOrDefault$b(generationOptions.max, tickVal);\r\n\tticks.push(lastTick);\r\n\r\n\treturn ticks;\r\n}\r\n\r\nvar defaultConfig$2 = {\r\n\tposition: 'left',\r\n\r\n\t// label settings\r\n\tticks: {\r\n\t\tcallback: core_ticks.formatters.logarithmic\r\n\t}\r\n};\r\n\r\n// TODO(v3): change this to positiveOrDefault\r\nfunction nonNegativeOrDefault(value, defaultValue) {\r\n\treturn helpers$1.isFinite(value) && value >= 0 ? value : defaultValue;\r\n}\r\n\r\nvar scale_logarithmic = core_scale.extend({\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar chart = me.chart;\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tfunction IDMatches(meta) {\r\n\t\t\treturn isHorizontal ? meta.xAxisID === me.id : meta.yAxisID === me.id;\r\n\t\t}\r\n\t\tvar datasetIndex, meta, value, data, i, ilen;\r\n\r\n\t\t// Calculate Range\r\n\t\tme.min = Number.POSITIVE_INFINITY;\r\n\t\tme.max = Number.NEGATIVE_INFINITY;\r\n\t\tme.minNotZero = Number.POSITIVE_INFINITY;\r\n\r\n\t\tvar hasStacks = opts.stacked;\r\n\t\tif (hasStacks === undefined) {\r\n\t\t\tfor (datasetIndex = 0; datasetIndex < datasets.length; datasetIndex++) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(datasetIndex);\r\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta) &&\r\n\t\t\t\t\tmeta.stack !== undefined) {\r\n\t\t\t\t\thasStacks = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (opts.stacked || hasStacks) {\r\n\t\t\tvar valuesPerStack = {};\r\n\r\n\t\t\tfor (datasetIndex = 0; datasetIndex < datasets.length; datasetIndex++) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(datasetIndex);\r\n\t\t\t\tvar key = [\r\n\t\t\t\t\tmeta.type,\r\n\t\t\t\t\t// we have a separate stack for stack=undefined datasets when the opts.stacked is undefined\r\n\t\t\t\t\t((opts.stacked === undefined && meta.stack === undefined) ? datasetIndex : ''),\r\n\t\t\t\t\tmeta.stack\r\n\t\t\t\t].join('.');\r\n\r\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\r\n\t\t\t\t\tif (valuesPerStack[key] === undefined) {\r\n\t\t\t\t\t\tvaluesPerStack[key] = [];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdata = datasets[datasetIndex].data;\r\n\t\t\t\t\tfor (i = 0, ilen = data.length; i < ilen; i++) {\r\n\t\t\t\t\t\tvar values = valuesPerStack[key];\r\n\t\t\t\t\t\tvalue = me._parseValue(data[i]);\r\n\t\t\t\t\t\t// invalid, hidden and negative values are ignored\r\n\t\t\t\t\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden || value.min < 0 || value.max < 0) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalues[i] = values[i] || 0;\r\n\t\t\t\t\t\tvalues[i] += value.max;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\thelpers$1.each(valuesPerStack, function(valuesForType) {\r\n\t\t\t\tif (valuesForType.length > 0) {\r\n\t\t\t\t\tvar minVal = helpers$1.min(valuesForType);\r\n\t\t\t\t\tvar maxVal = helpers$1.max(valuesForType);\r\n\t\t\t\t\tme.min = Math.min(me.min, minVal);\r\n\t\t\t\t\tme.max = Math.max(me.max, maxVal);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t} else {\r\n\t\t\tfor (datasetIndex = 0; datasetIndex < datasets.length; datasetIndex++) {\r\n\t\t\t\tmeta = chart.getDatasetMeta(datasetIndex);\r\n\t\t\t\tif (chart.isDatasetVisible(datasetIndex) && IDMatches(meta)) {\r\n\t\t\t\t\tdata = datasets[datasetIndex].data;\r\n\t\t\t\t\tfor (i = 0, ilen = data.length; i < ilen; i++) {\r\n\t\t\t\t\t\tvalue = me._parseValue(data[i]);\r\n\t\t\t\t\t\t// invalid, hidden and negative values are ignored\r\n\t\t\t\t\t\tif (isNaN(value.min) || isNaN(value.max) || meta.data[i].hidden || value.min < 0 || value.max < 0) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tme.min = Math.min(value.min, me.min);\r\n\t\t\t\t\t\tme.max = Math.max(value.max, me.max);\r\n\r\n\t\t\t\t\t\tif (value.min !== 0) {\r\n\t\t\t\t\t\t\tme.minNotZero = Math.min(value.min, me.minNotZero);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.min = helpers$1.isFinite(me.min) ? me.min : null;\r\n\t\tme.max = helpers$1.isFinite(me.max) ? me.max : null;\r\n\t\tme.minNotZero = helpers$1.isFinite(me.minNotZero) ? me.minNotZero : null;\r\n\r\n\t\t// Common base implementation to handle ticks.min, ticks.max\r\n\t\tthis.handleTickRangeOptions();\r\n\t},\r\n\r\n\thandleTickRangeOptions: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar DEFAULT_MIN = 1;\r\n\t\tvar DEFAULT_MAX = 10;\r\n\r\n\t\tme.min = nonNegativeOrDefault(tickOpts.min, me.min);\r\n\t\tme.max = nonNegativeOrDefault(tickOpts.max, me.max);\r\n\r\n\t\tif (me.min === me.max) {\r\n\t\t\tif (me.min !== 0 && me.min !== null) {\r\n\t\t\t\tme.min = Math.pow(10, Math.floor(log10(me.min)) - 1);\r\n\t\t\t\tme.max = Math.pow(10, Math.floor(log10(me.max)) + 1);\r\n\t\t\t} else {\r\n\t\t\t\tme.min = DEFAULT_MIN;\r\n\t\t\t\tme.max = DEFAULT_MAX;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (me.min === null) {\r\n\t\t\tme.min = Math.pow(10, Math.floor(log10(me.max)) - 1);\r\n\t\t}\r\n\t\tif (me.max === null) {\r\n\t\t\tme.max = me.min !== 0\r\n\t\t\t\t? Math.pow(10, Math.floor(log10(me.min)) + 1)\r\n\t\t\t\t: DEFAULT_MAX;\r\n\t\t}\r\n\t\tif (me.minNotZero === null) {\r\n\t\t\tif (me.min > 0) {\r\n\t\t\t\tme.minNotZero = me.min;\r\n\t\t\t} else if (me.max < 1) {\r\n\t\t\t\tme.minNotZero = Math.pow(10, Math.floor(log10(me.max)));\r\n\t\t\t} else {\r\n\t\t\t\tme.minNotZero = DEFAULT_MIN;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar tickOpts = me.options.ticks;\r\n\t\tvar reverse = !me.isHorizontal();\r\n\r\n\t\tvar generationOptions = {\r\n\t\t\tmin: nonNegativeOrDefault(tickOpts.min),\r\n\t\t\tmax: nonNegativeOrDefault(tickOpts.max)\r\n\t\t};\r\n\t\tvar ticks = me.ticks = generateTicks$1(generationOptions, me);\r\n\r\n\t\t// At this point, we need to update our max and min given the tick values since we have expanded the\r\n\t\t// range of the scale\r\n\t\tme.max = helpers$1.max(ticks);\r\n\t\tme.min = helpers$1.min(ticks);\r\n\r\n\t\tif (tickOpts.reverse) {\r\n\t\t\treverse = !reverse;\r\n\t\t\tme.start = me.max;\r\n\t\t\tme.end = me.min;\r\n\t\t} else {\r\n\t\t\tme.start = me.min;\r\n\t\t\tme.end = me.max;\r\n\t\t}\r\n\t\tif (reverse) {\r\n\t\t\tticks.reverse();\r\n\t\t}\r\n\t},\r\n\r\n\tconvertTicksToLabels: function() {\r\n\t\tthis.tickValues = this.ticks.slice();\r\n\r\n\t\tcore_scale.prototype.convertTicksToLabels.call(this);\r\n\t},\r\n\r\n\t// Get the correct tooltip label\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\treturn this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.tickValues;\r\n\t\tif (index < 0 || index > ticks.length - 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.getPixelForValue(ticks[index]);\r\n\t},\r\n\r\n\t/**\r\n\t * Returns the value of the first tick.\r\n\t * @param {number} value - The minimum not zero value.\r\n\t * @return {number} The first tick value.\r\n\t * @private\r\n\t */\r\n\t_getFirstTickValue: function(value) {\r\n\t\tvar exp = Math.floor(log10(value));\r\n\t\tvar significand = Math.floor(value / Math.pow(10, exp));\r\n\r\n\t\treturn significand * Math.pow(10, exp);\r\n\t},\r\n\r\n\t_configure: function() {\r\n\t\tvar me = this;\r\n\t\tvar start = me.min;\r\n\t\tvar offset = 0;\r\n\r\n\t\tcore_scale.prototype._configure.call(me);\r\n\r\n\t\tif (start === 0) {\r\n\t\t\tstart = me._getFirstTickValue(me.minNotZero);\r\n\t\t\toffset = valueOrDefault$b(me.options.ticks.fontSize, core_defaults.global.defaultFontSize) / me._length;\r\n\t\t}\r\n\r\n\t\tme._startValue = log10(start);\r\n\t\tme._valueOffset = offset;\r\n\t\tme._valueRange = (log10(me.max) - log10(start)) / (1 - offset);\r\n\t},\r\n\r\n\tgetPixelForValue: function(value) {\r\n\t\tvar me = this;\r\n\t\tvar decimal = 0;\r\n\r\n\t\tvalue = +me.getRightValue(value);\r\n\r\n\t\tif (value > me.min && value > 0) {\r\n\t\t\tdecimal = (log10(value) - me._startValue) / me._valueRange + me._valueOffset;\r\n\t\t}\r\n\t\treturn me.getPixelForDecimal(decimal);\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\tvar me = this;\r\n\t\tvar decimal = me.getDecimalForPixel(pixel);\r\n\t\treturn decimal === 0 && me.min === 0\r\n\t\t\t? 0\r\n\t\t\t: Math.pow(10, me._startValue + (decimal - me._valueOffset) * me._valueRange);\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$2 = defaultConfig$2;\nscale_logarithmic._defaults = _defaults$2;\n\nvar valueOrDefault$c = helpers$1.valueOrDefault;\r\nvar valueAtIndexOrDefault$1 = helpers$1.valueAtIndexOrDefault;\r\nvar resolve$4 = helpers$1.options.resolve;\r\n\r\nvar defaultConfig$3 = {\r\n\tdisplay: true,\r\n\r\n\t// Boolean - Whether to animate scaling the chart from the centre\r\n\tanimate: true,\r\n\tposition: 'chartArea',\r\n\r\n\tangleLines: {\r\n\t\tdisplay: true,\r\n\t\tcolor: 'rgba(0,0,0,0.1)',\r\n\t\tlineWidth: 1,\r\n\t\tborderDash: [],\r\n\t\tborderDashOffset: 0.0\r\n\t},\r\n\r\n\tgridLines: {\r\n\t\tcircular: false\r\n\t},\r\n\r\n\t// label settings\r\n\tticks: {\r\n\t\t// Boolean - Show a backdrop to the scale label\r\n\t\tshowLabelBackdrop: true,\r\n\r\n\t\t// String - The colour of the label backdrop\r\n\t\tbackdropColor: 'rgba(255,255,255,0.75)',\r\n\r\n\t\t// Number - The backdrop padding above & below the label in pixels\r\n\t\tbackdropPaddingY: 2,\r\n\r\n\t\t// Number - The backdrop padding to the side of the label in pixels\r\n\t\tbackdropPaddingX: 2,\r\n\r\n\t\tcallback: core_ticks.formatters.linear\r\n\t},\r\n\r\n\tpointLabels: {\r\n\t\t// Boolean - if true, show point labels\r\n\t\tdisplay: true,\r\n\r\n\t\t// Number - Point label font size in pixels\r\n\t\tfontSize: 10,\r\n\r\n\t\t// Function - Used to convert point labels\r\n\t\tcallback: function(label) {\r\n\t\t\treturn label;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction getTickBackdropHeight(opts) {\r\n\tvar tickOpts = opts.ticks;\r\n\r\n\tif (tickOpts.display && opts.display) {\r\n\t\treturn valueOrDefault$c(tickOpts.fontSize, core_defaults.global.defaultFontSize) + tickOpts.backdropPaddingY * 2;\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nfunction measureLabelSize(ctx, lineHeight, label) {\r\n\tif (helpers$1.isArray(label)) {\r\n\t\treturn {\r\n\t\t\tw: helpers$1.longestText(ctx, ctx.font, label),\r\n\t\t\th: label.length * lineHeight\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tw: ctx.measureText(label).width,\r\n\t\th: lineHeight\r\n\t};\r\n}\r\n\r\nfunction determineLimits(angle, pos, size, min, max) {\r\n\tif (angle === min || angle === max) {\r\n\t\treturn {\r\n\t\t\tstart: pos - (size / 2),\r\n\t\t\tend: pos + (size / 2)\r\n\t\t};\r\n\t} else if (angle < min || angle > max) {\r\n\t\treturn {\r\n\t\t\tstart: pos - size,\r\n\t\t\tend: pos\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tstart: pos,\r\n\t\tend: pos + size\r\n\t};\r\n}\r\n\r\n/**\r\n * Helper function to fit a radial linear scale with point labels\r\n */\r\nfunction fitWithPointLabels(scale) {\r\n\r\n\t// Right, this is really confusing and there is a lot of maths going on here\r\n\t// The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\r\n\t//\r\n\t// Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\r\n\t//\r\n\t// Solution:\r\n\t//\r\n\t// We assume the radius of the polygon is half the size of the canvas at first\r\n\t// at each index we check if the text overlaps.\r\n\t//\r\n\t// Where it does, we store that angle and that index.\r\n\t//\r\n\t// After finding the largest index and angle we calculate how much we need to remove\r\n\t// from the shape radius to move the point inwards by that x.\r\n\t//\r\n\t// We average the left and right distances to get the maximum shape radius that can fit in the box\r\n\t// along with labels.\r\n\t//\r\n\t// Once we have that, we can find the centre point for the chart, by taking the x text protrusion\r\n\t// on each side, removing that from the size, halving it and adding the left x protrusion width.\r\n\t//\r\n\t// This will mean we have a shape fitted to the canvas, as large as it can be with the labels\r\n\t// and position it in the most space efficient manner\r\n\t//\r\n\t// https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\r\n\r\n\tvar plFont = helpers$1.options._parseFont(scale.options.pointLabels);\r\n\r\n\t// Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\r\n\t// Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\r\n\tvar furthestLimits = {\r\n\t\tl: 0,\r\n\t\tr: scale.width,\r\n\t\tt: 0,\r\n\t\tb: scale.height - scale.paddingTop\r\n\t};\r\n\tvar furthestAngles = {};\r\n\tvar i, textSize, pointPosition;\r\n\r\n\tscale.ctx.font = plFont.string;\r\n\tscale._pointLabelSizes = [];\r\n\r\n\tvar valueCount = scale.chart.data.labels.length;\r\n\tfor (i = 0; i < valueCount; i++) {\r\n\t\tpointPosition = scale.getPointPosition(i, scale.drawingArea + 5);\r\n\t\ttextSize = measureLabelSize(scale.ctx, plFont.lineHeight, scale.pointLabels[i]);\r\n\t\tscale._pointLabelSizes[i] = textSize;\r\n\r\n\t\t// Add quarter circle to make degree 0 mean top of circle\r\n\t\tvar angleRadians = scale.getIndexAngle(i);\r\n\t\tvar angle = helpers$1.toDegrees(angleRadians) % 360;\r\n\t\tvar hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\r\n\t\tvar vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\r\n\r\n\t\tif (hLimits.start < furthestLimits.l) {\r\n\t\t\tfurthestLimits.l = hLimits.start;\r\n\t\t\tfurthestAngles.l = angleRadians;\r\n\t\t}\r\n\r\n\t\tif (hLimits.end > furthestLimits.r) {\r\n\t\t\tfurthestLimits.r = hLimits.end;\r\n\t\t\tfurthestAngles.r = angleRadians;\r\n\t\t}\r\n\r\n\t\tif (vLimits.start < furthestLimits.t) {\r\n\t\t\tfurthestLimits.t = vLimits.start;\r\n\t\t\tfurthestAngles.t = angleRadians;\r\n\t\t}\r\n\r\n\t\tif (vLimits.end > furthestLimits.b) {\r\n\t\t\tfurthestLimits.b = vLimits.end;\r\n\t\t\tfurthestAngles.b = angleRadians;\r\n\t\t}\r\n\t}\r\n\r\n\tscale.setReductions(scale.drawingArea, furthestLimits, furthestAngles);\r\n}\r\n\r\nfunction getTextAlignForAngle(angle) {\r\n\tif (angle === 0 || angle === 180) {\r\n\t\treturn 'center';\r\n\t} else if (angle < 180) {\r\n\t\treturn 'left';\r\n\t}\r\n\r\n\treturn 'right';\r\n}\r\n\r\nfunction fillText(ctx, text, position, lineHeight) {\r\n\tvar y = position.y + lineHeight / 2;\r\n\tvar i, ilen;\r\n\r\n\tif (helpers$1.isArray(text)) {\r\n\t\tfor (i = 0, ilen = text.length; i < ilen; ++i) {\r\n\t\t\tctx.fillText(text[i], position.x, y);\r\n\t\t\ty += lineHeight;\r\n\t\t}\r\n\t} else {\r\n\t\tctx.fillText(text, position.x, y);\r\n\t}\r\n}\r\n\r\nfunction adjustPointPositionForLabelHeight(angle, textSize, position) {\r\n\tif (angle === 90 || angle === 270) {\r\n\t\tposition.y -= (textSize.h / 2);\r\n\t} else if (angle > 270 || angle < 90) {\r\n\t\tposition.y -= textSize.h;\r\n\t}\r\n}\r\n\r\nfunction drawPointLabels(scale) {\r\n\tvar ctx = scale.ctx;\r\n\tvar opts = scale.options;\r\n\tvar pointLabelOpts = opts.pointLabels;\r\n\tvar tickBackdropHeight = getTickBackdropHeight(opts);\r\n\tvar outerDistance = scale.getDistanceFromCenterForValue(opts.ticks.reverse ? scale.min : scale.max);\r\n\tvar plFont = helpers$1.options._parseFont(pointLabelOpts);\r\n\r\n\tctx.save();\r\n\r\n\tctx.font = plFont.string;\r\n\tctx.textBaseline = 'middle';\r\n\r\n\tfor (var i = scale.chart.data.labels.length - 1; i >= 0; i--) {\r\n\t\t// Extra pixels out for some label spacing\r\n\t\tvar extra = (i === 0 ? tickBackdropHeight / 2 : 0);\r\n\t\tvar pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + 5);\r\n\r\n\t\t// Keep this in loop since we may support array properties here\r\n\t\tvar pointLabelFontColor = valueAtIndexOrDefault$1(pointLabelOpts.fontColor, i, core_defaults.global.defaultFontColor);\r\n\t\tctx.fillStyle = pointLabelFontColor;\r\n\r\n\t\tvar angleRadians = scale.getIndexAngle(i);\r\n\t\tvar angle = helpers$1.toDegrees(angleRadians);\r\n\t\tctx.textAlign = getTextAlignForAngle(angle);\r\n\t\tadjustPointPositionForLabelHeight(angle, scale._pointLabelSizes[i], pointLabelPosition);\r\n\t\tfillText(ctx, scale.pointLabels[i], pointLabelPosition, plFont.lineHeight);\r\n\t}\r\n\tctx.restore();\r\n}\r\n\r\nfunction drawRadiusLine(scale, gridLineOpts, radius, index) {\r\n\tvar ctx = scale.ctx;\r\n\tvar circular = gridLineOpts.circular;\r\n\tvar valueCount = scale.chart.data.labels.length;\r\n\tvar lineColor = valueAtIndexOrDefault$1(gridLineOpts.color, index - 1);\r\n\tvar lineWidth = valueAtIndexOrDefault$1(gridLineOpts.lineWidth, index - 1);\r\n\tvar pointPosition;\r\n\r\n\tif ((!circular && !valueCount) || !lineColor || !lineWidth) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tctx.save();\r\n\tctx.strokeStyle = lineColor;\r\n\tctx.lineWidth = lineWidth;\r\n\tif (ctx.setLineDash) {\r\n\t\tctx.setLineDash(gridLineOpts.borderDash || []);\r\n\t\tctx.lineDashOffset = gridLineOpts.borderDashOffset || 0.0;\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\tif (circular) {\r\n\t\t// Draw circular arcs between the points\r\n\t\tctx.arc(scale.xCenter, scale.yCenter, radius, 0, Math.PI * 2);\r\n\t} else {\r\n\t\t// Draw straight lines connecting each index\r\n\t\tpointPosition = scale.getPointPosition(0, radius);\r\n\t\tctx.moveTo(pointPosition.x, pointPosition.y);\r\n\r\n\t\tfor (var i = 1; i < valueCount; i++) {\r\n\t\t\tpointPosition = scale.getPointPosition(i, radius);\r\n\t\t\tctx.lineTo(pointPosition.x, pointPosition.y);\r\n\t\t}\r\n\t}\r\n\tctx.closePath();\r\n\tctx.stroke();\r\n\tctx.restore();\r\n}\r\n\r\nfunction numberOrZero(param) {\r\n\treturn helpers$1.isNumber(param) ? param : 0;\r\n}\r\n\r\nvar scale_radialLinear = scale_linearbase.extend({\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tme.width = me.maxWidth;\r\n\t\tme.height = me.maxHeight;\r\n\t\tme.paddingTop = getTickBackdropHeight(me.options) / 2;\r\n\t\tme.xCenter = Math.floor(me.width / 2);\r\n\t\tme.yCenter = Math.floor((me.height - me.paddingTop) / 2);\r\n\t\tme.drawingArea = Math.min(me.height - me.paddingTop, me.width) / 2;\r\n\t},\r\n\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar min = Number.POSITIVE_INFINITY;\r\n\t\tvar max = Number.NEGATIVE_INFINITY;\r\n\r\n\t\thelpers$1.each(chart.data.datasets, function(dataset, datasetIndex) {\r\n\t\t\tif (chart.isDatasetVisible(datasetIndex)) {\r\n\t\t\t\tvar meta = chart.getDatasetMeta(datasetIndex);\r\n\r\n\t\t\t\thelpers$1.each(dataset.data, function(rawValue, index) {\r\n\t\t\t\t\tvar value = +me.getRightValue(rawValue);\r\n\t\t\t\t\tif (isNaN(value) || meta.data[index].hidden) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmin = Math.min(value, min);\r\n\t\t\t\t\tmax = Math.max(value, max);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tme.min = (min === Number.POSITIVE_INFINITY ? 0 : min);\r\n\t\tme.max = (max === Number.NEGATIVE_INFINITY ? 0 : max);\r\n\r\n\t\t// Common base implementation to handle ticks.min, ticks.max, ticks.beginAtZero\r\n\t\tme.handleTickRangeOptions();\r\n\t},\r\n\r\n\t// Returns the maximum number of ticks based on the scale dimension\r\n\t_computeTickLimit: function() {\r\n\t\treturn Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\r\n\t},\r\n\r\n\tconvertTicksToLabels: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tscale_linearbase.prototype.convertTicksToLabels.call(me);\r\n\r\n\t\t// Point labels\r\n\t\tme.pointLabels = me.chart.data.labels.map(function() {\r\n\t\t\tvar label = helpers$1.callback(me.options.pointLabels.callback, arguments, me);\r\n\t\t\treturn label || label === 0 ? label : '';\r\n\t\t});\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\treturn +this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);\r\n\t},\r\n\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\r\n\t\tif (opts.display && opts.pointLabels.display) {\r\n\t\t\tfitWithPointLabels(me);\r\n\t\t} else {\r\n\t\t\tme.setCenterPoint(0, 0, 0, 0);\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Set radius reductions and determine new radius and center point\r\n\t * @private\r\n\t */\r\n\tsetReductions: function(largestPossibleRadius, furthestLimits, furthestAngles) {\r\n\t\tvar me = this;\r\n\t\tvar radiusReductionLeft = furthestLimits.l / Math.sin(furthestAngles.l);\r\n\t\tvar radiusReductionRight = Math.max(furthestLimits.r - me.width, 0) / Math.sin(furthestAngles.r);\r\n\t\tvar radiusReductionTop = -furthestLimits.t / Math.cos(furthestAngles.t);\r\n\t\tvar radiusReductionBottom = -Math.max(furthestLimits.b - (me.height - me.paddingTop), 0) / Math.cos(furthestAngles.b);\r\n\r\n\t\tradiusReductionLeft = numberOrZero(radiusReductionLeft);\r\n\t\tradiusReductionRight = numberOrZero(radiusReductionRight);\r\n\t\tradiusReductionTop = numberOrZero(radiusReductionTop);\r\n\t\tradiusReductionBottom = numberOrZero(radiusReductionBottom);\r\n\r\n\t\tme.drawingArea = Math.min(\r\n\t\t\tMath.floor(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2),\r\n\t\t\tMath.floor(largestPossibleRadius - (radiusReductionTop + radiusReductionBottom) / 2));\r\n\t\tme.setCenterPoint(radiusReductionLeft, radiusReductionRight, radiusReductionTop, radiusReductionBottom);\r\n\t},\r\n\r\n\tsetCenterPoint: function(leftMovement, rightMovement, topMovement, bottomMovement) {\r\n\t\tvar me = this;\r\n\t\tvar maxRight = me.width - rightMovement - me.drawingArea;\r\n\t\tvar maxLeft = leftMovement + me.drawingArea;\r\n\t\tvar maxTop = topMovement + me.drawingArea;\r\n\t\tvar maxBottom = (me.height - me.paddingTop) - bottomMovement - me.drawingArea;\r\n\r\n\t\tme.xCenter = Math.floor(((maxLeft + maxRight) / 2) + me.left);\r\n\t\tme.yCenter = Math.floor(((maxTop + maxBottom) / 2) + me.top + me.paddingTop);\r\n\t},\r\n\r\n\tgetIndexAngle: function(index) {\r\n\t\tvar chart = this.chart;\r\n\t\tvar angleMultiplier = 360 / chart.data.labels.length;\r\n\t\tvar options = chart.options || {};\r\n\t\tvar startAngle = options.startAngle || 0;\r\n\r\n\t\t// Start from the top instead of right, so remove a quarter of the circle\r\n\t\tvar angle = (index * angleMultiplier + startAngle) % 360;\r\n\r\n\t\treturn (angle < 0 ? angle + 360 : angle) * Math.PI * 2 / 360;\r\n\t},\r\n\r\n\tgetDistanceFromCenterForValue: function(value) {\r\n\t\tvar me = this;\r\n\r\n\t\tif (helpers$1.isNullOrUndef(value)) {\r\n\t\t\treturn NaN;\r\n\t\t}\r\n\r\n\t\t// Take into account half font size + the yPadding of the top value\r\n\t\tvar scalingFactor = me.drawingArea / (me.max - me.min);\r\n\t\tif (me.options.ticks.reverse) {\r\n\t\t\treturn (me.max - value) * scalingFactor;\r\n\t\t}\r\n\t\treturn (value - me.min) * scalingFactor;\r\n\t},\r\n\r\n\tgetPointPosition: function(index, distanceFromCenter) {\r\n\t\tvar me = this;\r\n\t\tvar thisAngle = me.getIndexAngle(index) - (Math.PI / 2);\r\n\t\treturn {\r\n\t\t\tx: Math.cos(thisAngle) * distanceFromCenter + me.xCenter,\r\n\t\t\ty: Math.sin(thisAngle) * distanceFromCenter + me.yCenter\r\n\t\t};\r\n\t},\r\n\r\n\tgetPointPositionForValue: function(index, value) {\r\n\t\treturn this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\r\n\t},\r\n\r\n\tgetBasePosition: function(index) {\r\n\t\tvar me = this;\r\n\t\tvar min = me.min;\r\n\t\tvar max = me.max;\r\n\r\n\t\treturn me.getPointPositionForValue(index || 0,\r\n\t\t\tme.beginAtZero ? 0 :\r\n\t\t\tmin < 0 && max < 0 ? max :\r\n\t\t\tmin > 0 && max > 0 ? min :\r\n\t\t\t0);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawGrid: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar opts = me.options;\r\n\t\tvar gridLineOpts = opts.gridLines;\r\n\t\tvar angleLineOpts = opts.angleLines;\r\n\t\tvar lineWidth = valueOrDefault$c(angleLineOpts.lineWidth, gridLineOpts.lineWidth);\r\n\t\tvar lineColor = valueOrDefault$c(angleLineOpts.color, gridLineOpts.color);\r\n\t\tvar i, offset, position;\r\n\r\n\t\tif (opts.pointLabels.display) {\r\n\t\t\tdrawPointLabels(me);\r\n\t\t}\r\n\r\n\t\tif (gridLineOpts.display) {\r\n\t\t\thelpers$1.each(me.ticks, function(label, index) {\r\n\t\t\t\tif (index !== 0) {\r\n\t\t\t\t\toffset = me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);\r\n\t\t\t\t\tdrawRadiusLine(me, gridLineOpts, offset, index);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (angleLineOpts.display && lineWidth && lineColor) {\r\n\t\t\tctx.save();\r\n\t\t\tctx.lineWidth = lineWidth;\r\n\t\t\tctx.strokeStyle = lineColor;\r\n\t\t\tif (ctx.setLineDash) {\r\n\t\t\t\tctx.setLineDash(resolve$4([angleLineOpts.borderDash, gridLineOpts.borderDash, []]));\r\n\t\t\t\tctx.lineDashOffset = resolve$4([angleLineOpts.borderDashOffset, gridLineOpts.borderDashOffset, 0.0]);\r\n\t\t\t}\r\n\r\n\t\t\tfor (i = me.chart.data.labels.length - 1; i >= 0; i--) {\r\n\t\t\t\toffset = me.getDistanceFromCenterForValue(opts.ticks.reverse ? me.min : me.max);\r\n\t\t\t\tposition = me.getPointPosition(i, offset);\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(me.xCenter, me.yCenter);\r\n\t\t\t\tctx.lineTo(position.x, position.y);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawLabels: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar opts = me.options;\r\n\t\tvar tickOpts = opts.ticks;\r\n\r\n\t\tif (!tickOpts.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar startAngle = me.getIndexAngle(0);\r\n\t\tvar tickFont = helpers$1.options._parseFont(tickOpts);\r\n\t\tvar tickFontColor = valueOrDefault$c(tickOpts.fontColor, core_defaults.global.defaultFontColor);\r\n\t\tvar offset, width;\r\n\r\n\t\tctx.save();\r\n\t\tctx.font = tickFont.string;\r\n\t\tctx.translate(me.xCenter, me.yCenter);\r\n\t\tctx.rotate(startAngle);\r\n\t\tctx.textAlign = 'center';\r\n\t\tctx.textBaseline = 'middle';\r\n\r\n\t\thelpers$1.each(me.ticks, function(label, index) {\r\n\t\t\tif (index === 0 && !tickOpts.reverse) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\toffset = me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);\r\n\r\n\t\t\tif (tickOpts.showLabelBackdrop) {\r\n\t\t\t\twidth = ctx.measureText(label).width;\r\n\t\t\t\tctx.fillStyle = tickOpts.backdropColor;\r\n\r\n\t\t\t\tctx.fillRect(\r\n\t\t\t\t\t-width / 2 - tickOpts.backdropPaddingX,\r\n\t\t\t\t\t-offset - tickFont.size / 2 - tickOpts.backdropPaddingY,\r\n\t\t\t\t\twidth + tickOpts.backdropPaddingX * 2,\r\n\t\t\t\t\ttickFont.size + tickOpts.backdropPaddingY * 2\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tctx.fillStyle = tickFontColor;\r\n\t\t\tctx.fillText(label, 0, -offset);\r\n\t\t});\r\n\r\n\t\tctx.restore();\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_drawTitle: helpers$1.noop\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$3 = defaultConfig$3;\nscale_radialLinear._defaults = _defaults$3;\n\nvar deprecated$1 = helpers$1._deprecated;\r\nvar resolve$5 = helpers$1.options.resolve;\r\nvar valueOrDefault$d = helpers$1.valueOrDefault;\r\n\r\n// Integer constants are from the ES6 spec.\r\nvar MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991;\r\nvar MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\r\n\r\nvar INTERVALS = {\r\n\tmillisecond: {\r\n\t\tcommon: true,\r\n\t\tsize: 1,\r\n\t\tsteps: 1000\r\n\t},\r\n\tsecond: {\r\n\t\tcommon: true,\r\n\t\tsize: 1000,\r\n\t\tsteps: 60\r\n\t},\r\n\tminute: {\r\n\t\tcommon: true,\r\n\t\tsize: 60000,\r\n\t\tsteps: 60\r\n\t},\r\n\thour: {\r\n\t\tcommon: true,\r\n\t\tsize: 3600000,\r\n\t\tsteps: 24\r\n\t},\r\n\tday: {\r\n\t\tcommon: true,\r\n\t\tsize: 86400000,\r\n\t\tsteps: 30\r\n\t},\r\n\tweek: {\r\n\t\tcommon: false,\r\n\t\tsize: 604800000,\r\n\t\tsteps: 4\r\n\t},\r\n\tmonth: {\r\n\t\tcommon: true,\r\n\t\tsize: 2.628e9,\r\n\t\tsteps: 12\r\n\t},\r\n\tquarter: {\r\n\t\tcommon: false,\r\n\t\tsize: 7.884e9,\r\n\t\tsteps: 4\r\n\t},\r\n\tyear: {\r\n\t\tcommon: true,\r\n\t\tsize: 3.154e10\r\n\t}\r\n};\r\n\r\nvar UNITS = Object.keys(INTERVALS);\r\n\r\nfunction sorter(a, b) {\r\n\treturn a - b;\r\n}\r\n\r\nfunction arrayUnique(items) {\r\n\tvar hash = {};\r\n\tvar out = [];\r\n\tvar i, ilen, item;\r\n\r\n\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\titem = items[i];\r\n\t\tif (!hash[item]) {\r\n\t\t\thash[item] = true;\r\n\t\t\tout.push(item);\r\n\t\t}\r\n\t}\r\n\r\n\treturn out;\r\n}\r\n\r\nfunction getMin(options) {\r\n\treturn helpers$1.valueOrDefault(options.time.min, options.ticks.min);\r\n}\r\n\r\nfunction getMax(options) {\r\n\treturn helpers$1.valueOrDefault(options.time.max, options.ticks.max);\r\n}\r\n\r\n/**\r\n * Returns an array of {time, pos} objects used to interpolate a specific `time` or position\r\n * (`pos`) on the scale, by searching entries before and after the requested value. `pos` is\r\n * a decimal between 0 and 1: 0 being the start of the scale (left or top) and 1 the other\r\n * extremity (left + width or top + height). Note that it would be more optimized to directly\r\n * store pre-computed pixels, but the scale dimensions are not guaranteed at the time we need\r\n * to create the lookup table. The table ALWAYS contains at least two items: min and max.\r\n *\r\n * @param {number[]} timestamps - timestamps sorted from lowest to highest.\r\n * @param {string} distribution - If 'linear', timestamps will be spread linearly along the min\r\n * and max range, so basically, the table will contains only two items: {min, 0} and {max, 1}.\r\n * If 'series', timestamps will be positioned at the same distance from each other. In this\r\n * case, only timestamps that break the time linearity are registered, meaning that in the\r\n * best case, all timestamps are linear, the table contains only min and max.\r\n */\r\nfunction buildLookupTable(timestamps, min, max, distribution) {\r\n\tif (distribution === 'linear' || !timestamps.length) {\r\n\t\treturn [\r\n\t\t\t{time: min, pos: 0},\r\n\t\t\t{time: max, pos: 1}\r\n\t\t];\r\n\t}\r\n\r\n\tvar table = [];\r\n\tvar items = [min];\r\n\tvar i, ilen, prev, curr, next;\r\n\r\n\tfor (i = 0, ilen = timestamps.length; i < ilen; ++i) {\r\n\t\tcurr = timestamps[i];\r\n\t\tif (curr > min && curr < max) {\r\n\t\t\titems.push(curr);\r\n\t\t}\r\n\t}\r\n\r\n\titems.push(max);\r\n\r\n\tfor (i = 0, ilen = items.length; i < ilen; ++i) {\r\n\t\tnext = items[i + 1];\r\n\t\tprev = items[i - 1];\r\n\t\tcurr = items[i];\r\n\r\n\t\t// only add points that breaks the scale linearity\r\n\t\tif (prev === undefined || next === undefined || Math.round((next + prev) / 2) !== curr) {\r\n\t\t\ttable.push({time: curr, pos: i / (ilen - 1)});\r\n\t\t}\r\n\t}\r\n\r\n\treturn table;\r\n}\r\n\r\n// @see adapted from https://www.anujgakhar.com/2014/03/01/binary-search-in-javascript/\r\nfunction lookup(table, key, value) {\r\n\tvar lo = 0;\r\n\tvar hi = table.length - 1;\r\n\tvar mid, i0, i1;\r\n\r\n\twhile (lo >= 0 && lo <= hi) {\r\n\t\tmid = (lo + hi) >> 1;\r\n\t\ti0 = table[mid - 1] || null;\r\n\t\ti1 = table[mid];\r\n\r\n\t\tif (!i0) {\r\n\t\t\t// given value is outside table (before first item)\r\n\t\t\treturn {lo: null, hi: i1};\r\n\t\t} else if (i1[key] < value) {\r\n\t\t\tlo = mid + 1;\r\n\t\t} else if (i0[key] > value) {\r\n\t\t\thi = mid - 1;\r\n\t\t} else {\r\n\t\t\treturn {lo: i0, hi: i1};\r\n\t\t}\r\n\t}\r\n\r\n\t// given value is outside table (after last item)\r\n\treturn {lo: i1, hi: null};\r\n}\r\n\r\n/**\r\n * Linearly interpolates the given source `value` using the table items `skey` values and\r\n * returns the associated `tkey` value. For example, interpolate(table, 'time', 42, 'pos')\r\n * returns the position for a timestamp equal to 42. If value is out of bounds, values at\r\n * index [0, 1] or [n - 1, n] are used for the interpolation.\r\n */\r\nfunction interpolate$1(table, skey, sval, tkey) {\r\n\tvar range = lookup(table, skey, sval);\r\n\r\n\t// Note: the lookup table ALWAYS contains at least 2 items (min and max)\r\n\tvar prev = !range.lo ? table[0] : !range.hi ? table[table.length - 2] : range.lo;\r\n\tvar next = !range.lo ? table[1] : !range.hi ? table[table.length - 1] : range.hi;\r\n\r\n\tvar span = next[skey] - prev[skey];\r\n\tvar ratio = span ? (sval - prev[skey]) / span : 0;\r\n\tvar offset = (next[tkey] - prev[tkey]) * ratio;\r\n\r\n\treturn prev[tkey] + offset;\r\n}\r\n\r\nfunction toTimestamp(scale, input) {\r\n\tvar adapter = scale._adapter;\r\n\tvar options = scale.options.time;\r\n\tvar parser = options.parser;\r\n\tvar format = parser || options.format;\r\n\tvar value = input;\r\n\r\n\tif (typeof parser === 'function') {\r\n\t\tvalue = parser(value);\r\n\t}\r\n\r\n\t// Only parse if its not a timestamp already\r\n\tif (!helpers$1.isFinite(value)) {\r\n\t\tvalue = typeof format === 'string'\r\n\t\t\t? adapter.parse(value, format)\r\n\t\t\t: adapter.parse(value);\r\n\t}\r\n\r\n\tif (value !== null) {\r\n\t\treturn +value;\r\n\t}\r\n\r\n\t// Labels are in an incompatible format and no `parser` has been provided.\r\n\t// The user might still use the deprecated `format` option for parsing.\r\n\tif (!parser && typeof format === 'function') {\r\n\t\tvalue = format(input);\r\n\r\n\t\t// `format` could return something else than a timestamp, if so, parse it\r\n\t\tif (!helpers$1.isFinite(value)) {\r\n\t\t\tvalue = adapter.parse(value);\r\n\t\t}\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction parse(scale, input) {\r\n\tif (helpers$1.isNullOrUndef(input)) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tvar options = scale.options.time;\r\n\tvar value = toTimestamp(scale, scale.getRightValue(input));\r\n\tif (value === null) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tif (options.round) {\r\n\t\tvalue = +scale._adapter.startOf(value, options.round);\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\n/**\r\n * Figures out what unit results in an appropriate number of auto-generated ticks\r\n */\r\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\r\n\tvar ilen = UNITS.length;\r\n\tvar i, interval, factor;\r\n\r\n\tfor (i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\r\n\t\tinterval = INTERVALS[UNITS[i]];\r\n\t\tfactor = interval.steps ? interval.steps : MAX_INTEGER;\r\n\r\n\t\tif (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\r\n\t\t\treturn UNITS[i];\r\n\t\t}\r\n\t}\r\n\r\n\treturn UNITS[ilen - 1];\r\n}\r\n\r\n/**\r\n * Figures out what unit to format a set of ticks with\r\n */\r\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\r\n\tvar i, unit;\r\n\r\n\tfor (i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\r\n\t\tunit = UNITS[i];\r\n\t\tif (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\r\n\t\t\treturn unit;\r\n\t\t}\r\n\t}\r\n\r\n\treturn UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\r\n}\r\n\r\nfunction determineMajorUnit(unit) {\r\n\tfor (var i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\r\n\t\tif (INTERVALS[UNITS[i]].common) {\r\n\t\t\treturn UNITS[i];\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Generates a maximum of `capacity` timestamps between min and max, rounded to the\r\n * `minor` unit using the given scale time `options`.\r\n * Important: this method can return ticks outside the min and max range, it's the\r\n * responsibility of the calling code to clamp values if needed.\r\n */\r\nfunction generate(scale, min, max, capacity) {\r\n\tvar adapter = scale._adapter;\r\n\tvar options = scale.options;\r\n\tvar timeOpts = options.time;\r\n\tvar minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, capacity);\r\n\tvar stepSize = resolve$5([timeOpts.stepSize, timeOpts.unitStepSize, 1]);\r\n\tvar weekday = minor === 'week' ? timeOpts.isoWeekday : false;\r\n\tvar first = min;\r\n\tvar ticks = [];\r\n\tvar time;\r\n\r\n\t// For 'week' unit, handle the first day of week option\r\n\tif (weekday) {\r\n\t\tfirst = +adapter.startOf(first, 'isoWeek', weekday);\r\n\t}\r\n\r\n\t// Align first ticks on unit\r\n\tfirst = +adapter.startOf(first, weekday ? 'day' : minor);\r\n\r\n\t// Prevent browser from freezing in case user options request millions of milliseconds\r\n\tif (adapter.diff(max, min, minor) > 100000 * stepSize) {\r\n\t\tthrow min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor;\r\n\t}\r\n\r\n\tfor (time = first; time < max; time = +adapter.add(time, stepSize, minor)) {\r\n\t\tticks.push(time);\r\n\t}\r\n\r\n\tif (time === max || options.bounds === 'ticks') {\r\n\t\tticks.push(time);\r\n\t}\r\n\r\n\treturn ticks;\r\n}\r\n\r\n/**\r\n * Returns the start and end offsets from edges in the form of {start, end}\r\n * where each value is a relative width to the scale and ranges between 0 and 1.\r\n * They add extra margins on the both sides by scaling down the original scale.\r\n * Offsets are added when the `offset` option is true.\r\n */\r\nfunction computeOffsets(table, ticks, min, max, options) {\r\n\tvar start = 0;\r\n\tvar end = 0;\r\n\tvar first, last;\r\n\r\n\tif (options.offset && ticks.length) {\r\n\t\tfirst = interpolate$1(table, 'time', ticks[0], 'pos');\r\n\t\tif (ticks.length === 1) {\r\n\t\t\tstart = 1 - first;\r\n\t\t} else {\r\n\t\t\tstart = (interpolate$1(table, 'time', ticks[1], 'pos') - first) / 2;\r\n\t\t}\r\n\t\tlast = interpolate$1(table, 'time', ticks[ticks.length - 1], 'pos');\r\n\t\tif (ticks.length === 1) {\r\n\t\t\tend = last;\r\n\t\t} else {\r\n\t\t\tend = (last - interpolate$1(table, 'time', ticks[ticks.length - 2], 'pos')) / 2;\r\n\t\t}\r\n\t}\r\n\r\n\treturn {start: start, end: end, factor: 1 / (start + 1 + end)};\r\n}\r\n\r\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\r\n\tvar adapter = scale._adapter;\r\n\tvar first = +adapter.startOf(ticks[0].value, majorUnit);\r\n\tvar last = ticks[ticks.length - 1].value;\r\n\tvar major, index;\r\n\r\n\tfor (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\r\n\t\tindex = map[major];\r\n\t\tif (index >= 0) {\r\n\t\t\tticks[index].major = true;\r\n\t\t}\r\n\t}\r\n\treturn ticks;\r\n}\r\n\r\nfunction ticksFromTimestamps(scale, values, majorUnit) {\r\n\tvar ticks = [];\r\n\tvar map = {};\r\n\tvar ilen = values.length;\r\n\tvar i, value;\r\n\r\n\tfor (i = 0; i < ilen; ++i) {\r\n\t\tvalue = values[i];\r\n\t\tmap[value] = i;\r\n\r\n\t\tticks.push({\r\n\t\t\tvalue: value,\r\n\t\t\tmajor: false\r\n\t\t});\r\n\t}\r\n\r\n\t// We set the major ticks separately from the above loop because calling startOf for every tick\r\n\t// is expensive when there is a large number of ticks\r\n\treturn (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\r\n}\r\n\r\nvar defaultConfig$4 = {\r\n\tposition: 'bottom',\r\n\r\n\t/**\r\n\t * Data distribution along the scale:\r\n\t * - 'linear': data are spread according to their time (distances can vary),\r\n\t * - 'series': data are spread at the same distance from each other.\r\n\t * @see https://github.com/chartjs/Chart.js/pull/4507\r\n\t * @since 2.7.0\r\n\t */\r\n\tdistribution: 'linear',\r\n\r\n\t/**\r\n\t * Scale boundary strategy (bypassed by min/max time options)\r\n\t * - `data`: make sure data are fully visible, ticks outside are removed\r\n\t * - `ticks`: make sure ticks are fully visible, data outside are truncated\r\n\t * @see https://github.com/chartjs/Chart.js/pull/4556\r\n\t * @since 2.7.0\r\n\t */\r\n\tbounds: 'data',\r\n\r\n\tadapters: {},\r\n\ttime: {\r\n\t\tparser: false, // false == a pattern string from https://momentjs.com/docs/#/parsing/string-format/ or a custom callback that converts its argument to a moment\r\n\t\tunit: false, // false == automatic or override with week, month, year, etc.\r\n\t\tround: false, // none, or override with week, month, year, etc.\r\n\t\tdisplayFormat: false, // DEPRECATED\r\n\t\tisoWeekday: false, // override week start day - see https://momentjs.com/docs/#/get-set/iso-weekday/\r\n\t\tminUnit: 'millisecond',\r\n\t\tdisplayFormats: {}\r\n\t},\r\n\tticks: {\r\n\t\tautoSkip: false,\r\n\r\n\t\t/**\r\n\t\t * Ticks generation input values:\r\n\t\t * - 'auto': generates \"optimal\" ticks based on scale size and time options.\r\n\t\t * - 'data': generates ticks from data (including labels from data {t|x|y} objects).\r\n\t\t * - 'labels': generates ticks from user given `data.labels` values ONLY.\r\n\t\t * @see https://github.com/chartjs/Chart.js/pull/4507\r\n\t\t * @since 2.7.0\r\n\t\t */\r\n\t\tsource: 'auto',\r\n\r\n\t\tmajor: {\r\n\t\t\tenabled: false\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar scale_time = core_scale.extend({\r\n\tinitialize: function() {\r\n\t\tthis.mergeTicksOptions();\r\n\t\tcore_scale.prototype.initialize.call(this);\r\n\t},\r\n\r\n\tupdate: function() {\r\n\t\tvar me = this;\r\n\t\tvar options = me.options;\r\n\t\tvar time = options.time || (options.time = {});\r\n\t\tvar adapter = me._adapter = new core_adapters._date(options.adapters.date);\r\n\r\n\t\t// DEPRECATIONS: output a message only one time per update\r\n\t\tdeprecated$1('time scale', time.format, 'time.format', 'time.parser');\r\n\t\tdeprecated$1('time scale', time.min, 'time.min', 'ticks.min');\r\n\t\tdeprecated$1('time scale', time.max, 'time.max', 'ticks.max');\r\n\r\n\t\t// Backward compatibility: before introducing adapter, `displayFormats` was\r\n\t\t// supposed to contain *all* unit/string pairs but this can't be resolved\r\n\t\t// when loading the scale (adapters are loaded afterward), so let's populate\r\n\t\t// missing formats on update\r\n\t\thelpers$1.mergeIf(time.displayFormats, adapter.formats());\r\n\r\n\t\treturn core_scale.prototype.update.apply(me, arguments);\r\n\t},\r\n\r\n\t/**\r\n\t * Allows data to be referenced via 't' attribute\r\n\t */\r\n\tgetRightValue: function(rawValue) {\r\n\t\tif (rawValue && rawValue.t !== undefined) {\r\n\t\t\trawValue = rawValue.t;\r\n\t\t}\r\n\t\treturn core_scale.prototype.getRightValue.call(this, rawValue);\r\n\t},\r\n\r\n\tdetermineDataLimits: function() {\r\n\t\tvar me = this;\r\n\t\tvar chart = me.chart;\r\n\t\tvar adapter = me._adapter;\r\n\t\tvar options = me.options;\r\n\t\tvar unit = options.time.unit || 'day';\r\n\t\tvar min = MAX_INTEGER;\r\n\t\tvar max = MIN_INTEGER;\r\n\t\tvar timestamps = [];\r\n\t\tvar datasets = [];\r\n\t\tvar labels = [];\r\n\t\tvar i, j, ilen, jlen, data, timestamp, labelsAdded;\r\n\t\tvar dataLabels = me._getLabels();\r\n\r\n\t\tfor (i = 0, ilen = dataLabels.length; i < ilen; ++i) {\r\n\t\t\tlabels.push(parse(me, dataLabels[i]));\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = (chart.data.datasets || []).length; i < ilen; ++i) {\r\n\t\t\tif (chart.isDatasetVisible(i)) {\r\n\t\t\t\tdata = chart.data.datasets[i].data;\r\n\r\n\t\t\t\t// Let's consider that all data have the same format.\r\n\t\t\t\tif (helpers$1.isObject(data[0])) {\r\n\t\t\t\t\tdatasets[i] = [];\r\n\r\n\t\t\t\t\tfor (j = 0, jlen = data.length; j < jlen; ++j) {\r\n\t\t\t\t\t\ttimestamp = parse(me, data[j]);\r\n\t\t\t\t\t\ttimestamps.push(timestamp);\r\n\t\t\t\t\t\tdatasets[i][j] = timestamp;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdatasets[i] = labels.slice(0);\r\n\t\t\t\t\tif (!labelsAdded) {\r\n\t\t\t\t\t\ttimestamps = timestamps.concat(labels);\r\n\t\t\t\t\t\tlabelsAdded = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdatasets[i] = [];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (labels.length) {\r\n\t\t\tmin = Math.min(min, labels[0]);\r\n\t\t\tmax = Math.max(max, labels[labels.length - 1]);\r\n\t\t}\r\n\r\n\t\tif (timestamps.length) {\r\n\t\t\ttimestamps = ilen > 1 ? arrayUnique(timestamps).sort(sorter) : timestamps.sort(sorter);\r\n\t\t\tmin = Math.min(min, timestamps[0]);\r\n\t\t\tmax = Math.max(max, timestamps[timestamps.length - 1]);\r\n\t\t}\r\n\r\n\t\tmin = parse(me, getMin(options)) || min;\r\n\t\tmax = parse(me, getMax(options)) || max;\r\n\r\n\t\t// In case there is no valid min/max, set limits based on unit time option\r\n\t\tmin = min === MAX_INTEGER ? +adapter.startOf(Date.now(), unit) : min;\r\n\t\tmax = max === MIN_INTEGER ? +adapter.endOf(Date.now(), unit) + 1 : max;\r\n\r\n\t\t// Make sure that max is strictly higher than min (required by the lookup table)\r\n\t\tme.min = Math.min(min, max);\r\n\t\tme.max = Math.max(min + 1, max);\r\n\r\n\t\t// PRIVATE\r\n\t\tme._table = [];\r\n\t\tme._timestamps = {\r\n\t\t\tdata: timestamps,\r\n\t\t\tdatasets: datasets,\r\n\t\t\tlabels: labels\r\n\t\t};\r\n\t},\r\n\r\n\tbuildTicks: function() {\r\n\t\tvar me = this;\r\n\t\tvar min = me.min;\r\n\t\tvar max = me.max;\r\n\t\tvar options = me.options;\r\n\t\tvar tickOpts = options.ticks;\r\n\t\tvar timeOpts = options.time;\r\n\t\tvar timestamps = me._timestamps;\r\n\t\tvar ticks = [];\r\n\t\tvar capacity = me.getLabelCapacity(min);\r\n\t\tvar source = tickOpts.source;\r\n\t\tvar distribution = options.distribution;\r\n\t\tvar i, ilen, timestamp;\r\n\r\n\t\tif (source === 'data' || (source === 'auto' && distribution === 'series')) {\r\n\t\t\ttimestamps = timestamps.data;\r\n\t\t} else if (source === 'labels') {\r\n\t\t\ttimestamps = timestamps.labels;\r\n\t\t} else {\r\n\t\t\ttimestamps = generate(me, min, max, capacity);\r\n\t\t}\r\n\r\n\t\tif (options.bounds === 'ticks' && timestamps.length) {\r\n\t\t\tmin = timestamps[0];\r\n\t\t\tmax = timestamps[timestamps.length - 1];\r\n\t\t}\r\n\r\n\t\t// Enforce limits with user min/max options\r\n\t\tmin = parse(me, getMin(options)) || min;\r\n\t\tmax = parse(me, getMax(options)) || max;\r\n\r\n\t\t// Remove ticks outside the min/max range\r\n\t\tfor (i = 0, ilen = timestamps.length; i < ilen; ++i) {\r\n\t\t\ttimestamp = timestamps[i];\r\n\t\t\tif (timestamp >= min && timestamp <= max) {\r\n\t\t\t\tticks.push(timestamp);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme.min = min;\r\n\t\tme.max = max;\r\n\r\n\t\t// PRIVATE\r\n\t\t// determineUnitForFormatting relies on the number of ticks so we don't use it when\r\n\t\t// autoSkip is enabled because we don't yet know what the final number of ticks will be\r\n\t\tme._unit = timeOpts.unit || (tickOpts.autoSkip\r\n\t\t\t? determineUnitForAutoTicks(timeOpts.minUnit, me.min, me.max, capacity)\r\n\t\t\t: determineUnitForFormatting(me, ticks.length, timeOpts.minUnit, me.min, me.max));\r\n\t\tme._majorUnit = !tickOpts.major.enabled || me._unit === 'year' ? undefined\r\n\t\t\t: determineMajorUnit(me._unit);\r\n\t\tme._table = buildLookupTable(me._timestamps.data, min, max, distribution);\r\n\t\tme._offsets = computeOffsets(me._table, ticks, min, max, options);\r\n\r\n\t\tif (tickOpts.reverse) {\r\n\t\t\tticks.reverse();\r\n\t\t}\r\n\r\n\t\treturn ticksFromTimestamps(me, ticks, me._majorUnit);\r\n\t},\r\n\r\n\tgetLabelForIndex: function(index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar adapter = me._adapter;\r\n\t\tvar data = me.chart.data;\r\n\t\tvar timeOpts = me.options.time;\r\n\t\tvar label = data.labels && index < data.labels.length ? data.labels[index] : '';\r\n\t\tvar value = data.datasets[datasetIndex].data[index];\r\n\r\n\t\tif (helpers$1.isObject(value)) {\r\n\t\t\tlabel = me.getRightValue(value);\r\n\t\t}\r\n\t\tif (timeOpts.tooltipFormat) {\r\n\t\t\treturn adapter.format(toTimestamp(me, label), timeOpts.tooltipFormat);\r\n\t\t}\r\n\t\tif (typeof label === 'string') {\r\n\t\t\treturn label;\r\n\t\t}\r\n\t\treturn adapter.format(toTimestamp(me, label), timeOpts.displayFormats.datetime);\r\n\t},\r\n\r\n\t/**\r\n\t * Function to format an individual tick mark\r\n\t * @private\r\n\t */\r\n\ttickFormatFunction: function(time, index, ticks, format) {\r\n\t\tvar me = this;\r\n\t\tvar adapter = me._adapter;\r\n\t\tvar options = me.options;\r\n\t\tvar formats = options.time.displayFormats;\r\n\t\tvar minorFormat = formats[me._unit];\r\n\t\tvar majorUnit = me._majorUnit;\r\n\t\tvar majorFormat = formats[majorUnit];\r\n\t\tvar tick = ticks[index];\r\n\t\tvar tickOpts = options.ticks;\r\n\t\tvar major = majorUnit && majorFormat && tick && tick.major;\r\n\t\tvar label = adapter.format(time, format ? format : major ? majorFormat : minorFormat);\r\n\t\tvar nestedTickOpts = major ? tickOpts.major : tickOpts.minor;\r\n\t\tvar formatter = resolve$5([\r\n\t\t\tnestedTickOpts.callback,\r\n\t\t\tnestedTickOpts.userCallback,\r\n\t\t\ttickOpts.callback,\r\n\t\t\ttickOpts.userCallback\r\n\t\t]);\r\n\r\n\t\treturn formatter ? formatter(label, index, ticks) : label;\r\n\t},\r\n\r\n\tconvertTicksToLabels: function(ticks) {\r\n\t\tvar labels = [];\r\n\t\tvar i, ilen;\r\n\r\n\t\tfor (i = 0, ilen = ticks.length; i < ilen; ++i) {\r\n\t\t\tlabels.push(this.tickFormatFunction(ticks[i].value, i, ticks));\r\n\t\t}\r\n\r\n\t\treturn labels;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tgetPixelForOffset: function(time) {\r\n\t\tvar me = this;\r\n\t\tvar offsets = me._offsets;\r\n\t\tvar pos = interpolate$1(me._table, 'time', time, 'pos');\r\n\t\treturn me.getPixelForDecimal((offsets.start + pos) * offsets.factor);\r\n\t},\r\n\r\n\tgetPixelForValue: function(value, index, datasetIndex) {\r\n\t\tvar me = this;\r\n\t\tvar time = null;\r\n\r\n\t\tif (index !== undefined && datasetIndex !== undefined) {\r\n\t\t\ttime = me._timestamps.datasets[datasetIndex][index];\r\n\t\t}\r\n\r\n\t\tif (time === null) {\r\n\t\t\ttime = parse(me, value);\r\n\t\t}\r\n\r\n\t\tif (time !== null) {\r\n\t\t\treturn me.getPixelForOffset(time);\r\n\t\t}\r\n\t},\r\n\r\n\tgetPixelForTick: function(index) {\r\n\t\tvar ticks = this.getTicks();\r\n\t\treturn index >= 0 && index < ticks.length ?\r\n\t\t\tthis.getPixelForOffset(ticks[index].value) :\r\n\t\t\tnull;\r\n\t},\r\n\r\n\tgetValueForPixel: function(pixel) {\r\n\t\tvar me = this;\r\n\t\tvar offsets = me._offsets;\r\n\t\tvar pos = me.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\r\n\t\tvar time = interpolate$1(me._table, 'pos', pos, 'time');\r\n\r\n\t\t// DEPRECATION, we should return time directly\r\n\t\treturn me._adapter._create(time);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getLabelSize: function(label) {\r\n\t\tvar me = this;\r\n\t\tvar ticksOpts = me.options.ticks;\r\n\t\tvar tickLabelWidth = me.ctx.measureText(label).width;\r\n\t\tvar angle = helpers$1.toRadians(me.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\r\n\t\tvar cosRotation = Math.cos(angle);\r\n\t\tvar sinRotation = Math.sin(angle);\r\n\t\tvar tickFontSize = valueOrDefault$d(ticksOpts.fontSize, core_defaults.global.defaultFontSize);\r\n\r\n\t\treturn {\r\n\t\t\tw: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\r\n\t\t\th: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Crude approximation of what the label width might be\r\n\t * @private\r\n\t */\r\n\tgetLabelWidth: function(label) {\r\n\t\treturn this._getLabelSize(label).w;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tgetLabelCapacity: function(exampleTime) {\r\n\t\tvar me = this;\r\n\t\tvar timeOpts = me.options.time;\r\n\t\tvar displayFormats = timeOpts.displayFormats;\r\n\r\n\t\t// pick the longest format (milliseconds) for guestimation\r\n\t\tvar format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\r\n\t\tvar exampleLabel = me.tickFormatFunction(exampleTime, 0, ticksFromTimestamps(me, [exampleTime], me._majorUnit), format);\r\n\t\tvar size = me._getLabelSize(exampleLabel);\r\n\t\tvar capacity = Math.floor(me.isHorizontal() ? me.width / size.w : me.height / size.h);\r\n\r\n\t\tif (me.options.offset) {\r\n\t\t\tcapacity--;\r\n\t\t}\r\n\r\n\t\treturn capacity > 0 ? capacity : 1;\r\n\t}\r\n});\r\n\r\n// INTERNAL: static default options, registered in src/index.js\r\nvar _defaults$4 = defaultConfig$4;\nscale_time._defaults = _defaults$4;\n\nvar scales = {\r\n\tcategory: scale_category,\r\n\tlinear: scale_linear,\r\n\tlogarithmic: scale_logarithmic,\r\n\tradialLinear: scale_radialLinear,\r\n\ttime: scale_time\r\n};\n\nvar FORMATS = {\r\n\tdatetime: 'MMM D, YYYY, h:mm:ss a',\r\n\tmillisecond: 'h:mm:ss.SSS a',\r\n\tsecond: 'h:mm:ss a',\r\n\tminute: 'h:mm a',\r\n\thour: 'hA',\r\n\tday: 'MMM D',\r\n\tweek: 'll',\r\n\tmonth: 'MMM YYYY',\r\n\tquarter: '[Q]Q - YYYY',\r\n\tyear: 'YYYY'\r\n};\r\n\r\ncore_adapters._date.override(typeof moment === 'function' ? {\r\n\t_id: 'moment', // DEBUG ONLY\r\n\r\n\tformats: function() {\r\n\t\treturn FORMATS;\r\n\t},\r\n\r\n\tparse: function(value, format) {\r\n\t\tif (typeof value === 'string' && typeof format === 'string') {\r\n\t\t\tvalue = moment(value, format);\r\n\t\t} else if (!(value instanceof moment)) {\r\n\t\t\tvalue = moment(value);\r\n\t\t}\r\n\t\treturn value.isValid() ? value.valueOf() : null;\r\n\t},\r\n\r\n\tformat: function(time, format) {\r\n\t\treturn moment(time).format(format);\r\n\t},\r\n\r\n\tadd: function(time, amount, unit) {\r\n\t\treturn moment(time).add(amount, unit).valueOf();\r\n\t},\r\n\r\n\tdiff: function(max, min, unit) {\r\n\t\treturn moment(max).diff(moment(min), unit);\r\n\t},\r\n\r\n\tstartOf: function(time, unit, weekday) {\r\n\t\ttime = moment(time);\r\n\t\tif (unit === 'isoWeek') {\r\n\t\t\treturn time.isoWeekday(weekday).valueOf();\r\n\t\t}\r\n\t\treturn time.startOf(unit).valueOf();\r\n\t},\r\n\r\n\tendOf: function(time, unit) {\r\n\t\treturn moment(time).endOf(unit).valueOf();\r\n\t},\r\n\r\n\t// DEPRECATIONS\r\n\r\n\t/**\r\n\t * Provided for backward compatibility with scale.getValueForPixel().\r\n\t * @deprecated since version 2.8.0\r\n\t * @todo remove at version 3\r\n\t * @private\r\n\t */\r\n\t_create: function(time) {\r\n\t\treturn moment(time);\r\n\t},\r\n} : {});\n\ncore_defaults._set('global', {\r\n\tplugins: {\r\n\t\tfiller: {\r\n\t\t\tpropagate: true\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar mappers = {\r\n\tdataset: function(source) {\r\n\t\tvar index = source.fill;\r\n\t\tvar chart = source.chart;\r\n\t\tvar meta = chart.getDatasetMeta(index);\r\n\t\tvar visible = meta && chart.isDatasetVisible(index);\r\n\t\tvar points = (visible && meta.dataset._children) || [];\r\n\t\tvar length = points.length || 0;\r\n\r\n\t\treturn !length ? null : function(point, i) {\r\n\t\t\treturn (i < length && points[i]._view) || null;\r\n\t\t};\r\n\t},\r\n\r\n\tboundary: function(source) {\r\n\t\tvar boundary = source.boundary;\r\n\t\tvar x = boundary ? boundary.x : null;\r\n\t\tvar y = boundary ? boundary.y : null;\r\n\r\n\t\tif (helpers$1.isArray(boundary)) {\r\n\t\t\treturn function(point, i) {\r\n\t\t\t\treturn boundary[i];\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn function(point) {\r\n\t\t\treturn {\r\n\t\t\t\tx: x === null ? point.x : x,\r\n\t\t\t\ty: y === null ? point.y : y,\r\n\t\t\t};\r\n\t\t};\r\n\t}\r\n};\r\n\r\n// @todo if (fill[0] === '#')\r\nfunction decodeFill(el, index, count) {\r\n\tvar model = el._model || {};\r\n\tvar fill = model.fill;\r\n\tvar target;\r\n\r\n\tif (fill === undefined) {\r\n\t\tfill = !!model.backgroundColor;\r\n\t}\r\n\r\n\tif (fill === false || fill === null) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (fill === true) {\r\n\t\treturn 'origin';\r\n\t}\r\n\r\n\ttarget = parseFloat(fill, 10);\r\n\tif (isFinite(target) && Math.floor(target) === target) {\r\n\t\tif (fill[0] === '-' || fill[0] === '+') {\r\n\t\t\ttarget = index + target;\r\n\t\t}\r\n\r\n\t\tif (target === index || target < 0 || target >= count) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\t}\r\n\r\n\tswitch (fill) {\r\n\t// compatibility\r\n\tcase 'bottom':\r\n\t\treturn 'start';\r\n\tcase 'top':\r\n\t\treturn 'end';\r\n\tcase 'zero':\r\n\t\treturn 'origin';\r\n\t// supported boundaries\r\n\tcase 'origin':\r\n\tcase 'start':\r\n\tcase 'end':\r\n\t\treturn fill;\r\n\t// invalid fill values\r\n\tdefault:\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nfunction computeLinearBoundary(source) {\r\n\tvar model = source.el._model || {};\r\n\tvar scale = source.el._scale || {};\r\n\tvar fill = source.fill;\r\n\tvar target = null;\r\n\tvar horizontal;\r\n\r\n\tif (isFinite(fill)) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Backward compatibility: until v3, we still need to support boundary values set on\r\n\t// the model (scaleTop, scaleBottom and scaleZero) because some external plugins and\r\n\t// controllers might still use it (e.g. the Smith chart).\r\n\r\n\tif (fill === 'start') {\r\n\t\ttarget = model.scaleBottom === undefined ? scale.bottom : model.scaleBottom;\r\n\t} else if (fill === 'end') {\r\n\t\ttarget = model.scaleTop === undefined ? scale.top : model.scaleTop;\r\n\t} else if (model.scaleZero !== undefined) {\r\n\t\ttarget = model.scaleZero;\r\n\t} else if (scale.getBasePixel) {\r\n\t\ttarget = scale.getBasePixel();\r\n\t}\r\n\r\n\tif (target !== undefined && target !== null) {\r\n\t\tif (target.x !== undefined && target.y !== undefined) {\r\n\t\t\treturn target;\r\n\t\t}\r\n\r\n\t\tif (helpers$1.isFinite(target)) {\r\n\t\t\thorizontal = scale.isHorizontal();\r\n\t\t\treturn {\r\n\t\t\t\tx: horizontal ? target : null,\r\n\t\t\t\ty: horizontal ? null : target\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n\r\nfunction computeCircularBoundary(source) {\r\n\tvar scale = source.el._scale;\r\n\tvar options = scale.options;\r\n\tvar length = scale.chart.data.labels.length;\r\n\tvar fill = source.fill;\r\n\tvar target = [];\r\n\tvar start, end, center, i, point;\r\n\r\n\tif (!length) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tstart = options.ticks.reverse ? scale.max : scale.min;\r\n\tend = options.ticks.reverse ? scale.min : scale.max;\r\n\tcenter = scale.getPointPositionForValue(0, start);\r\n\tfor (i = 0; i < length; ++i) {\r\n\t\tpoint = fill === 'start' || fill === 'end'\r\n\t\t\t? scale.getPointPositionForValue(i, fill === 'start' ? start : end)\r\n\t\t\t: scale.getBasePosition(i);\r\n\t\tif (options.gridLines.circular) {\r\n\t\t\tpoint.cx = center.x;\r\n\t\t\tpoint.cy = center.y;\r\n\t\t\tpoint.angle = scale.getIndexAngle(i) - Math.PI / 2;\r\n\t\t}\r\n\t\ttarget.push(point);\r\n\t}\r\n\treturn target;\r\n}\r\n\r\nfunction computeBoundary(source) {\r\n\tvar scale = source.el._scale || {};\r\n\r\n\tif (scale.getPointPositionForValue) {\r\n\t\treturn computeCircularBoundary(source);\r\n\t}\r\n\treturn computeLinearBoundary(source);\r\n}\r\n\r\nfunction resolveTarget(sources, index, propagate) {\r\n\tvar source = sources[index];\r\n\tvar fill = source.fill;\r\n\tvar visited = [index];\r\n\tvar target;\r\n\r\n\tif (!propagate) {\r\n\t\treturn fill;\r\n\t}\r\n\r\n\twhile (fill !== false && visited.indexOf(fill) === -1) {\r\n\t\tif (!isFinite(fill)) {\r\n\t\t\treturn fill;\r\n\t\t}\r\n\r\n\t\ttarget = sources[fill];\r\n\t\tif (!target) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (target.visible) {\r\n\t\t\treturn fill;\r\n\t\t}\r\n\r\n\t\tvisited.push(fill);\r\n\t\tfill = target.fill;\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nfunction createMapper(source) {\r\n\tvar fill = source.fill;\r\n\tvar type = 'dataset';\r\n\r\n\tif (fill === false) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (!isFinite(fill)) {\r\n\t\ttype = 'boundary';\r\n\t}\r\n\r\n\treturn mappers[type](source);\r\n}\r\n\r\nfunction isDrawable(point) {\r\n\treturn point && !point.skip;\r\n}\r\n\r\nfunction drawArea(ctx, curve0, curve1, len0, len1) {\r\n\tvar i, cx, cy, r;\r\n\r\n\tif (!len0 || !len1) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// building first area curve (normal)\r\n\tctx.moveTo(curve0[0].x, curve0[0].y);\r\n\tfor (i = 1; i < len0; ++i) {\r\n\t\thelpers$1.canvas.lineTo(ctx, curve0[i - 1], curve0[i]);\r\n\t}\r\n\r\n\tif (curve1[0].angle !== undefined) {\r\n\t\tcx = curve1[0].cx;\r\n\t\tcy = curve1[0].cy;\r\n\t\tr = Math.sqrt(Math.pow(curve1[0].x - cx, 2) + Math.pow(curve1[0].y - cy, 2));\r\n\t\tfor (i = len1 - 1; i > 0; --i) {\r\n\t\t\tctx.arc(cx, cy, r, curve1[i].angle, curve1[i - 1].angle, true);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\t// joining the two area curves\r\n\tctx.lineTo(curve1[len1 - 1].x, curve1[len1 - 1].y);\r\n\r\n\t// building opposite area curve (reverse)\r\n\tfor (i = len1 - 1; i > 0; --i) {\r\n\t\thelpers$1.canvas.lineTo(ctx, curve1[i], curve1[i - 1], true);\r\n\t}\r\n}\r\n\r\nfunction doFill(ctx, points, mapper, view, color, loop) {\r\n\tvar count = points.length;\r\n\tvar span = view.spanGaps;\r\n\tvar curve0 = [];\r\n\tvar curve1 = [];\r\n\tvar len0 = 0;\r\n\tvar len1 = 0;\r\n\tvar i, ilen, index, p0, p1, d0, d1, loopOffset;\r\n\r\n\tctx.beginPath();\r\n\r\n\tfor (i = 0, ilen = count; i < ilen; ++i) {\r\n\t\tindex = i % count;\r\n\t\tp0 = points[index]._view;\r\n\t\tp1 = mapper(p0, index, view);\r\n\t\td0 = isDrawable(p0);\r\n\t\td1 = isDrawable(p1);\r\n\r\n\t\tif (loop && loopOffset === undefined && d0) {\r\n\t\t\tloopOffset = i + 1;\r\n\t\t\tilen = count + loopOffset;\r\n\t\t}\r\n\r\n\t\tif (d0 && d1) {\r\n\t\t\tlen0 = curve0.push(p0);\r\n\t\t\tlen1 = curve1.push(p1);\r\n\t\t} else if (len0 && len1) {\r\n\t\t\tif (!span) {\r\n\t\t\t\tdrawArea(ctx, curve0, curve1, len0, len1);\r\n\t\t\t\tlen0 = len1 = 0;\r\n\t\t\t\tcurve0 = [];\r\n\t\t\t\tcurve1 = [];\r\n\t\t\t} else {\r\n\t\t\t\tif (d0) {\r\n\t\t\t\t\tcurve0.push(p0);\r\n\t\t\t\t}\r\n\t\t\t\tif (d1) {\r\n\t\t\t\t\tcurve1.push(p1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdrawArea(ctx, curve0, curve1, len0, len1);\r\n\r\n\tctx.closePath();\r\n\tctx.fillStyle = color;\r\n\tctx.fill();\r\n}\r\n\r\nvar plugin_filler = {\r\n\tid: 'filler',\r\n\r\n\tafterDatasetsUpdate: function(chart, options) {\r\n\t\tvar count = (chart.data.datasets || []).length;\r\n\t\tvar propagate = options.propagate;\r\n\t\tvar sources = [];\r\n\t\tvar meta, i, el, source;\r\n\r\n\t\tfor (i = 0; i < count; ++i) {\r\n\t\t\tmeta = chart.getDatasetMeta(i);\r\n\t\t\tel = meta.dataset;\r\n\t\t\tsource = null;\r\n\r\n\t\t\tif (el && el._model && el instanceof elements.Line) {\r\n\t\t\t\tsource = {\r\n\t\t\t\t\tvisible: chart.isDatasetVisible(i),\r\n\t\t\t\t\tfill: decodeFill(el, i, count),\r\n\t\t\t\t\tchart: chart,\r\n\t\t\t\t\tel: el\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tmeta.$filler = source;\r\n\t\t\tsources.push(source);\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < count; ++i) {\r\n\t\t\tsource = sources[i];\r\n\t\t\tif (!source) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tsource.fill = resolveTarget(sources, i, propagate);\r\n\t\t\tsource.boundary = computeBoundary(source);\r\n\t\t\tsource.mapper = createMapper(source);\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeDatasetsDraw: function(chart) {\r\n\t\tvar metasets = chart._getSortedVisibleDatasetMetas();\r\n\t\tvar ctx = chart.ctx;\r\n\t\tvar meta, i, el, view, points, mapper, color;\r\n\r\n\t\tfor (i = metasets.length - 1; i >= 0; --i) {\r\n\t\t\tmeta = metasets[i].$filler;\r\n\r\n\t\t\tif (!meta || !meta.visible) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tel = meta.el;\r\n\t\t\tview = el._view;\r\n\t\t\tpoints = el._children || [];\r\n\t\t\tmapper = meta.mapper;\r\n\t\t\tcolor = view.backgroundColor || core_defaults.global.defaultColor;\r\n\r\n\t\t\tif (mapper && color && points.length) {\r\n\t\t\t\thelpers$1.canvas.clipArea(ctx, chart.chartArea);\r\n\t\t\t\tdoFill(ctx, points, mapper, view, color, el._loop);\r\n\t\t\t\thelpers$1.canvas.unclipArea(ctx);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\n\nvar getRtlHelper$1 = helpers$1.rtl.getRtlAdapter;\r\nvar noop$1 = helpers$1.noop;\r\nvar valueOrDefault$e = helpers$1.valueOrDefault;\r\n\r\ncore_defaults._set('global', {\r\n\tlegend: {\r\n\t\tdisplay: true,\r\n\t\tposition: 'top',\r\n\t\talign: 'center',\r\n\t\tfullWidth: true,\r\n\t\treverse: false,\r\n\t\tweight: 1000,\r\n\r\n\t\t// a callback that will handle\r\n\t\tonClick: function(e, legendItem) {\r\n\t\t\tvar index = legendItem.datasetIndex;\r\n\t\t\tvar ci = this.chart;\r\n\t\t\tvar meta = ci.getDatasetMeta(index);\r\n\r\n\t\t\t// See controller.isDatasetVisible comment\r\n\t\t\tmeta.hidden = meta.hidden === null ? !ci.data.datasets[index].hidden : null;\r\n\r\n\t\t\t// We hid a dataset ... rerender the chart\r\n\t\t\tci.update();\r\n\t\t},\r\n\r\n\t\tonHover: null,\r\n\t\tonLeave: null,\r\n\r\n\t\tlabels: {\r\n\t\t\tboxWidth: 40,\r\n\t\t\tpadding: 10,\r\n\t\t\t// Generates labels shown in the legend\r\n\t\t\t// Valid properties to return:\r\n\t\t\t// text : text to display\r\n\t\t\t// fillStyle : fill of coloured box\r\n\t\t\t// strokeStyle: stroke of coloured box\r\n\t\t\t// hidden : if this legend item refers to a hidden item\r\n\t\t\t// lineCap : cap style for line\r\n\t\t\t// lineDash\r\n\t\t\t// lineDashOffset :\r\n\t\t\t// lineJoin :\r\n\t\t\t// lineWidth :\r\n\t\t\tgenerateLabels: function(chart) {\r\n\t\t\t\tvar datasets = chart.data.datasets;\r\n\t\t\t\tvar options = chart.options.legend || {};\r\n\t\t\t\tvar usePointStyle = options.labels && options.labels.usePointStyle;\r\n\r\n\t\t\t\treturn chart._getSortedDatasetMetas().map(function(meta) {\r\n\t\t\t\t\tvar style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttext: datasets[meta.index].label,\r\n\t\t\t\t\t\tfillStyle: style.backgroundColor,\r\n\t\t\t\t\t\thidden: !chart.isDatasetVisible(meta.index),\r\n\t\t\t\t\t\tlineCap: style.borderCapStyle,\r\n\t\t\t\t\t\tlineDash: style.borderDash,\r\n\t\t\t\t\t\tlineDashOffset: style.borderDashOffset,\r\n\t\t\t\t\t\tlineJoin: style.borderJoinStyle,\r\n\t\t\t\t\t\tlineWidth: style.borderWidth,\r\n\t\t\t\t\t\tstrokeStyle: style.borderColor,\r\n\t\t\t\t\t\tpointStyle: style.pointStyle,\r\n\t\t\t\t\t\trotation: style.rotation,\r\n\r\n\t\t\t\t\t\t// Below is extra data used for toggling the datasets\r\n\t\t\t\t\t\tdatasetIndex: meta.index\r\n\t\t\t\t\t};\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tlegendCallback: function(chart) {\r\n\t\tvar list = document.createElement('ul');\r\n\t\tvar datasets = chart.data.datasets;\r\n\t\tvar i, ilen, listItem, listItemSpan;\r\n\r\n\t\tlist.setAttribute('class', chart.id + '-legend');\r\n\r\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; i++) {\r\n\t\t\tlistItem = list.appendChild(document.createElement('li'));\r\n\t\t\tlistItemSpan = listItem.appendChild(document.createElement('span'));\r\n\t\t\tlistItemSpan.style.backgroundColor = datasets[i].backgroundColor;\r\n\t\t\tif (datasets[i].label) {\r\n\t\t\t\tlistItem.appendChild(document.createTextNode(datasets[i].label));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn list.outerHTML;\r\n\t}\r\n});\r\n\r\n/**\r\n * Helper function to get the box width based on the usePointStyle option\r\n * @param {object} labelopts - the label options on the legend\r\n * @param {number} fontSize - the label font size\r\n * @return {number} width of the color box area\r\n */\r\nfunction getBoxWidth(labelOpts, fontSize) {\r\n\treturn labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?\r\n\t\tfontSize :\r\n\t\tlabelOpts.boxWidth;\r\n}\r\n\r\n/**\r\n * IMPORTANT: this class is exposed publicly as Chart.Legend, backward compatibility required!\r\n */\r\nvar Legend = core_element.extend({\r\n\r\n\tinitialize: function(config) {\r\n\t\tvar me = this;\r\n\t\thelpers$1.extend(me, config);\r\n\r\n\t\t// Contains hit boxes for each dataset (in dataset order)\r\n\t\tme.legendHitBoxes = [];\r\n\r\n\t\t/**\r\n \t\t * @private\r\n \t\t */\r\n\t\tme._hoveredItem = null;\r\n\r\n\t\t// Are we in doughnut mode which has a different data type\r\n\t\tme.doughnutMode = false;\r\n\t},\r\n\r\n\t// These methods are ordered by lifecycle. Utilities then follow.\r\n\t// Any function defined here is inherited by all legend types.\r\n\t// Any function can be extended by the legend type\r\n\r\n\tbeforeUpdate: noop$1,\r\n\tupdate: function(maxWidth, maxHeight, margins) {\r\n\t\tvar me = this;\r\n\r\n\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\r\n\t\tme.beforeUpdate();\r\n\r\n\t\t// Absorb the master measurements\r\n\t\tme.maxWidth = maxWidth;\r\n\t\tme.maxHeight = maxHeight;\r\n\t\tme.margins = margins;\r\n\r\n\t\t// Dimensions\r\n\t\tme.beforeSetDimensions();\r\n\t\tme.setDimensions();\r\n\t\tme.afterSetDimensions();\r\n\t\t// Labels\r\n\t\tme.beforeBuildLabels();\r\n\t\tme.buildLabels();\r\n\t\tme.afterBuildLabels();\r\n\r\n\t\t// Fit\r\n\t\tme.beforeFit();\r\n\t\tme.fit();\r\n\t\tme.afterFit();\r\n\t\t//\r\n\t\tme.afterUpdate();\r\n\r\n\t\treturn me.minSize;\r\n\t},\r\n\tafterUpdate: noop$1,\r\n\r\n\t//\r\n\r\n\tbeforeSetDimensions: noop$1,\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.width = me.maxWidth;\r\n\t\t\tme.left = 0;\r\n\t\t\tme.right = me.width;\r\n\t\t} else {\r\n\t\t\tme.height = me.maxHeight;\r\n\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.top = 0;\r\n\t\t\tme.bottom = me.height;\r\n\t\t}\r\n\r\n\t\t// Reset padding\r\n\t\tme.paddingLeft = 0;\r\n\t\tme.paddingTop = 0;\r\n\t\tme.paddingRight = 0;\r\n\t\tme.paddingBottom = 0;\r\n\r\n\t\t// Reset minSize\r\n\t\tme.minSize = {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n\t},\r\n\tafterSetDimensions: noop$1,\r\n\r\n\t//\r\n\r\n\tbeforeBuildLabels: noop$1,\r\n\tbuildLabels: function() {\r\n\t\tvar me = this;\r\n\t\tvar labelOpts = me.options.labels || {};\r\n\t\tvar legendItems = helpers$1.callback(labelOpts.generateLabels, [me.chart], me) || [];\r\n\r\n\t\tif (labelOpts.filter) {\r\n\t\t\tlegendItems = legendItems.filter(function(item) {\r\n\t\t\t\treturn labelOpts.filter(item, me.chart.data);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (me.options.reverse) {\r\n\t\t\tlegendItems.reverse();\r\n\t\t}\r\n\r\n\t\tme.legendItems = legendItems;\r\n\t},\r\n\tafterBuildLabels: noop$1,\r\n\r\n\t//\r\n\r\n\tbeforeFit: noop$1,\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar labelOpts = opts.labels;\r\n\t\tvar display = opts.display;\r\n\r\n\t\tvar ctx = me.ctx;\r\n\r\n\t\tvar labelFont = helpers$1.options._parseFont(labelOpts);\r\n\t\tvar fontSize = labelFont.size;\r\n\r\n\t\t// Reset hit boxes\r\n\t\tvar hitboxes = me.legendHitBoxes = [];\r\n\r\n\t\tvar minSize = me.minSize;\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\r\n\t\tif (isHorizontal) {\r\n\t\t\tminSize.width = me.maxWidth; // fill all the width\r\n\t\t\tminSize.height = display ? 10 : 0;\r\n\t\t} else {\r\n\t\t\tminSize.width = display ? 10 : 0;\r\n\t\t\tminSize.height = me.maxHeight; // fill all the height\r\n\t\t}\r\n\r\n\t\t// Increase sizes here\r\n\t\tif (!display) {\r\n\t\t\tme.width = minSize.width = me.height = minSize.height = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tctx.font = labelFont.string;\r\n\r\n\t\tif (isHorizontal) {\r\n\t\t\t// Labels\r\n\r\n\t\t\t// Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\r\n\t\t\tvar lineWidths = me.lineWidths = [0];\r\n\t\t\tvar totalHeight = 0;\r\n\r\n\t\t\tctx.textAlign = 'left';\r\n\t\t\tctx.textBaseline = 'middle';\r\n\r\n\t\t\thelpers$1.each(me.legendItems, function(legendItem, i) {\r\n\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\r\n\t\t\t\tvar width = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\r\n\r\n\t\t\t\tif (i === 0 || lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {\r\n\t\t\t\t\ttotalHeight += fontSize + labelOpts.padding;\r\n\t\t\t\t\tlineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\r\n\t\t\t\thitboxes[i] = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: fontSize\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlineWidths[lineWidths.length - 1] += width + labelOpts.padding;\r\n\t\t\t});\r\n\r\n\t\t\tminSize.height += totalHeight;\r\n\r\n\t\t} else {\r\n\t\t\tvar vPadding = labelOpts.padding;\r\n\t\t\tvar columnWidths = me.columnWidths = [];\r\n\t\t\tvar columnHeights = me.columnHeights = [];\r\n\t\t\tvar totalWidth = labelOpts.padding;\r\n\t\t\tvar currentColWidth = 0;\r\n\t\t\tvar currentColHeight = 0;\r\n\r\n\t\t\thelpers$1.each(me.legendItems, function(legendItem, i) {\r\n\t\t\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\r\n\t\t\t\tvar itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\r\n\r\n\t\t\t\t// If too tall, go to new column\r\n\t\t\t\tif (i > 0 && currentColHeight + fontSize + 2 * vPadding > minSize.height) {\r\n\t\t\t\t\ttotalWidth += currentColWidth + labelOpts.padding;\r\n\t\t\t\t\tcolumnWidths.push(currentColWidth); // previous column width\r\n\t\t\t\t\tcolumnHeights.push(currentColHeight);\r\n\t\t\t\t\tcurrentColWidth = 0;\r\n\t\t\t\t\tcurrentColHeight = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get max width\r\n\t\t\t\tcurrentColWidth = Math.max(currentColWidth, itemWidth);\r\n\t\t\t\tcurrentColHeight += fontSize + vPadding;\r\n\r\n\t\t\t\t// Store the hitbox width and height here. Final position will be updated in `draw`\r\n\t\t\t\thitboxes[i] = {\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: itemWidth,\r\n\t\t\t\t\theight: fontSize\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\ttotalWidth += currentColWidth;\r\n\t\t\tcolumnWidths.push(currentColWidth);\r\n\t\t\tcolumnHeights.push(currentColHeight);\r\n\t\t\tminSize.width += totalWidth;\r\n\t\t}\r\n\r\n\t\tme.width = minSize.width;\r\n\t\tme.height = minSize.height;\r\n\t},\r\n\tafterFit: noop$1,\r\n\r\n\t// Shared Methods\r\n\tisHorizontal: function() {\r\n\t\treturn this.options.position === 'top' || this.options.position === 'bottom';\r\n\t},\r\n\r\n\t// Actually draw the legend on the canvas\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar labelOpts = opts.labels;\r\n\t\tvar globalDefaults = core_defaults.global;\r\n\t\tvar defaultColor = globalDefaults.defaultColor;\r\n\t\tvar lineDefault = globalDefaults.elements.line;\r\n\t\tvar legendHeight = me.height;\r\n\t\tvar columnHeights = me.columnHeights;\r\n\t\tvar legendWidth = me.width;\r\n\t\tvar lineWidths = me.lineWidths;\r\n\r\n\t\tif (!opts.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar rtlHelper = getRtlHelper$1(opts.rtl, me.left, me.minSize.width);\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar fontColor = valueOrDefault$e(labelOpts.fontColor, globalDefaults.defaultFontColor);\r\n\t\tvar labelFont = helpers$1.options._parseFont(labelOpts);\r\n\t\tvar fontSize = labelFont.size;\r\n\t\tvar cursor;\r\n\r\n\t\t// Canvas setup\r\n\t\tctx.textAlign = rtlHelper.textAlign('left');\r\n\t\tctx.textBaseline = 'middle';\r\n\t\tctx.lineWidth = 0.5;\r\n\t\tctx.strokeStyle = fontColor; // for strikethrough effect\r\n\t\tctx.fillStyle = fontColor; // render in correct colour\r\n\t\tctx.font = labelFont.string;\r\n\r\n\t\tvar boxWidth = getBoxWidth(labelOpts, fontSize);\r\n\t\tvar hitboxes = me.legendHitBoxes;\r\n\r\n\t\t// current position\r\n\t\tvar drawLegendBox = function(x, y, legendItem) {\r\n\t\t\tif (isNaN(boxWidth) || boxWidth <= 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Set the ctx for the box\r\n\t\t\tctx.save();\r\n\r\n\t\t\tvar lineWidth = valueOrDefault$e(legendItem.lineWidth, lineDefault.borderWidth);\r\n\t\t\tctx.fillStyle = valueOrDefault$e(legendItem.fillStyle, defaultColor);\r\n\t\t\tctx.lineCap = valueOrDefault$e(legendItem.lineCap, lineDefault.borderCapStyle);\r\n\t\t\tctx.lineDashOffset = valueOrDefault$e(legendItem.lineDashOffset, lineDefault.borderDashOffset);\r\n\t\t\tctx.lineJoin = valueOrDefault$e(legendItem.lineJoin, lineDefault.borderJoinStyle);\r\n\t\t\tctx.lineWidth = lineWidth;\r\n\t\t\tctx.strokeStyle = valueOrDefault$e(legendItem.strokeStyle, defaultColor);\r\n\r\n\t\t\tif (ctx.setLineDash) {\r\n\t\t\t\t// IE 9 and 10 do not support line dash\r\n\t\t\t\tctx.setLineDash(valueOrDefault$e(legendItem.lineDash, lineDefault.borderDash));\r\n\t\t\t}\r\n\r\n\t\t\tif (labelOpts && labelOpts.usePointStyle) {\r\n\t\t\t\t// Recalculate x and y for drawPoint() because its expecting\r\n\t\t\t\t// x and y to be center of figure (instead of top left)\r\n\t\t\t\tvar radius = boxWidth * Math.SQRT2 / 2;\r\n\t\t\t\tvar centerX = rtlHelper.xPlus(x, boxWidth / 2);\r\n\t\t\t\tvar centerY = y + fontSize / 2;\r\n\r\n\t\t\t\t// Draw pointStyle as legend symbol\r\n\t\t\t\thelpers$1.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY, legendItem.rotation);\r\n\t\t\t} else {\r\n\t\t\t\t// Draw box as legend symbol\r\n\t\t\t\tctx.fillRect(rtlHelper.leftForLtr(x, boxWidth), y, boxWidth, fontSize);\r\n\t\t\t\tif (lineWidth !== 0) {\r\n\t\t\t\t\tctx.strokeRect(rtlHelper.leftForLtr(x, boxWidth), y, boxWidth, fontSize);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tctx.restore();\r\n\t\t};\r\n\r\n\t\tvar fillText = function(x, y, legendItem, textWidth) {\r\n\t\t\tvar halfFontSize = fontSize / 2;\r\n\t\t\tvar xLeft = rtlHelper.xPlus(x, boxWidth + halfFontSize);\r\n\t\t\tvar yMiddle = y + halfFontSize;\r\n\r\n\t\t\tctx.fillText(legendItem.text, xLeft, yMiddle);\r\n\r\n\t\t\tif (legendItem.hidden) {\r\n\t\t\t\t// Strikethrough the text if hidden\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.lineWidth = 2;\r\n\t\t\t\tctx.moveTo(xLeft, yMiddle);\r\n\t\t\t\tctx.lineTo(rtlHelper.xPlus(xLeft, textWidth), yMiddle);\r\n\t\t\t\tctx.stroke();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar alignmentOffset = function(dimension, blockSize) {\r\n\t\t\tswitch (opts.align) {\r\n\t\t\tcase 'start':\r\n\t\t\t\treturn labelOpts.padding;\r\n\t\t\tcase 'end':\r\n\t\t\t\treturn dimension - blockSize;\r\n\t\t\tdefault: // center\r\n\t\t\t\treturn (dimension - blockSize + labelOpts.padding) / 2;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Horizontal\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tif (isHorizontal) {\r\n\t\t\tcursor = {\r\n\t\t\t\tx: me.left + alignmentOffset(legendWidth, lineWidths[0]),\r\n\t\t\t\ty: me.top + labelOpts.padding,\r\n\t\t\t\tline: 0\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tcursor = {\r\n\t\t\t\tx: me.left + labelOpts.padding,\r\n\t\t\t\ty: me.top + alignmentOffset(legendHeight, columnHeights[0]),\r\n\t\t\t\tline: 0\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\thelpers$1.rtl.overrideTextDirection(me.ctx, opts.textDirection);\r\n\r\n\t\tvar itemHeight = fontSize + labelOpts.padding;\r\n\t\thelpers$1.each(me.legendItems, function(legendItem, i) {\r\n\t\t\tvar textWidth = ctx.measureText(legendItem.text).width;\r\n\t\t\tvar width = boxWidth + (fontSize / 2) + textWidth;\r\n\t\t\tvar x = cursor.x;\r\n\t\t\tvar y = cursor.y;\r\n\r\n\t\t\trtlHelper.setWidth(me.minSize.width);\r\n\r\n\t\t\t// Use (me.left + me.minSize.width) and (me.top + me.minSize.height)\r\n\t\t\t// instead of me.right and me.bottom because me.width and me.height\r\n\t\t\t// may have been changed since me.minSize was calculated\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\tif (i > 0 && x + width + labelOpts.padding > me.left + me.minSize.width) {\r\n\t\t\t\t\ty = cursor.y += itemHeight;\r\n\t\t\t\t\tcursor.line++;\r\n\t\t\t\t\tx = cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);\r\n\t\t\t\t}\r\n\t\t\t} else if (i > 0 && y + itemHeight > me.top + me.minSize.height) {\r\n\t\t\t\tx = cursor.x = x + me.columnWidths[cursor.line] + labelOpts.padding;\r\n\t\t\t\tcursor.line++;\r\n\t\t\t\ty = cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);\r\n\t\t\t}\r\n\r\n\t\t\tvar realX = rtlHelper.x(x);\r\n\r\n\t\t\tdrawLegendBox(realX, y, legendItem);\r\n\r\n\t\t\thitboxes[i].left = rtlHelper.leftForLtr(realX, hitboxes[i].width);\r\n\t\t\thitboxes[i].top = y;\r\n\r\n\t\t\t// Fill the actual label\r\n\t\t\tfillText(realX, y, legendItem, textWidth);\r\n\r\n\t\t\tif (isHorizontal) {\r\n\t\t\t\tcursor.x += width + labelOpts.padding;\r\n\t\t\t} else {\r\n\t\t\t\tcursor.y += itemHeight;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thelpers$1.rtl.restoreTextDirection(me.ctx, opts.textDirection);\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_getLegendItemAt: function(x, y) {\r\n\t\tvar me = this;\r\n\t\tvar i, hitBox, lh;\r\n\r\n\t\tif (x >= me.left && x <= me.right && y >= me.top && y <= me.bottom) {\r\n\t\t\t// See if we are touching one of the dataset boxes\r\n\t\t\tlh = me.legendHitBoxes;\r\n\t\t\tfor (i = 0; i < lh.length; ++i) {\r\n\t\t\t\thitBox = lh[i];\r\n\r\n\t\t\t\tif (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\r\n\t\t\t\t\t// Touching an element\r\n\t\t\t\t\treturn me.legendItems[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\t/**\r\n\t * Handle an event\r\n\t * @private\r\n\t * @param {IEvent} event - The event to handle\r\n\t */\r\n\thandleEvent: function(e) {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar type = e.type === 'mouseup' ? 'click' : e.type;\r\n\t\tvar hoveredItem;\r\n\r\n\t\tif (type === 'mousemove') {\r\n\t\t\tif (!opts.onHover && !opts.onLeave) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else if (type === 'click') {\r\n\t\t\tif (!opts.onClick) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Chart event already has relative position in it\r\n\t\thoveredItem = me._getLegendItemAt(e.x, e.y);\r\n\r\n\t\tif (type === 'click') {\r\n\t\t\tif (hoveredItem && opts.onClick) {\r\n\t\t\t\t// use e.native for backwards compatibility\r\n\t\t\t\topts.onClick.call(me, e.native, hoveredItem);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (opts.onLeave && hoveredItem !== me._hoveredItem) {\r\n\t\t\t\tif (me._hoveredItem) {\r\n\t\t\t\t\topts.onLeave.call(me, e.native, me._hoveredItem);\r\n\t\t\t\t}\r\n\t\t\t\tme._hoveredItem = hoveredItem;\r\n\t\t\t}\r\n\r\n\t\t\tif (opts.onHover && hoveredItem) {\r\n\t\t\t\t// use e.native for backwards compatibility\r\n\t\t\t\topts.onHover.call(me, e.native, hoveredItem);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nfunction createNewLegendAndAttach(chart, legendOpts) {\r\n\tvar legend = new Legend({\r\n\t\tctx: chart.ctx,\r\n\t\toptions: legendOpts,\r\n\t\tchart: chart\r\n\t});\r\n\r\n\tcore_layouts.configure(chart, legend, legendOpts);\r\n\tcore_layouts.addBox(chart, legend);\r\n\tchart.legend = legend;\r\n}\r\n\r\nvar plugin_legend = {\r\n\tid: 'legend',\r\n\r\n\t/**\r\n\t * Backward compatibility: since 2.1.5, the legend is registered as a plugin, making\r\n\t * Chart.Legend obsolete. To avoid a breaking change, we export the Legend as part of\r\n\t * the plugin, which one will be re-exposed in the chart.js file.\r\n\t * https://github.com/chartjs/Chart.js/pull/2640\r\n\t * @private\r\n\t */\r\n\t_element: Legend,\r\n\r\n\tbeforeInit: function(chart) {\r\n\t\tvar legendOpts = chart.options.legend;\r\n\r\n\t\tif (legendOpts) {\r\n\t\t\tcreateNewLegendAndAttach(chart, legendOpts);\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeUpdate: function(chart) {\r\n\t\tvar legendOpts = chart.options.legend;\r\n\t\tvar legend = chart.legend;\r\n\r\n\t\tif (legendOpts) {\r\n\t\t\thelpers$1.mergeIf(legendOpts, core_defaults.global.legend);\r\n\r\n\t\t\tif (legend) {\r\n\t\t\t\tcore_layouts.configure(chart, legend, legendOpts);\r\n\t\t\t\tlegend.options = legendOpts;\r\n\t\t\t} else {\r\n\t\t\t\tcreateNewLegendAndAttach(chart, legendOpts);\r\n\t\t\t}\r\n\t\t} else if (legend) {\r\n\t\t\tcore_layouts.removeBox(chart, legend);\r\n\t\t\tdelete chart.legend;\r\n\t\t}\r\n\t},\r\n\r\n\tafterEvent: function(chart, e) {\r\n\t\tvar legend = chart.legend;\r\n\t\tif (legend) {\r\n\t\t\tlegend.handleEvent(e);\r\n\t\t}\r\n\t}\r\n};\n\nvar noop$2 = helpers$1.noop;\r\n\r\ncore_defaults._set('global', {\r\n\ttitle: {\r\n\t\tdisplay: false,\r\n\t\tfontStyle: 'bold',\r\n\t\tfullWidth: true,\r\n\t\tpadding: 10,\r\n\t\tposition: 'top',\r\n\t\ttext: '',\r\n\t\tweight: 2000         // by default greater than legend (1000) to be above\r\n\t}\r\n});\r\n\r\n/**\r\n * IMPORTANT: this class is exposed publicly as Chart.Legend, backward compatibility required!\r\n */\r\nvar Title = core_element.extend({\r\n\tinitialize: function(config) {\r\n\t\tvar me = this;\r\n\t\thelpers$1.extend(me, config);\r\n\r\n\t\t// Contains hit boxes for each dataset (in dataset order)\r\n\t\tme.legendHitBoxes = [];\r\n\t},\r\n\r\n\t// These methods are ordered by lifecycle. Utilities then follow.\r\n\r\n\tbeforeUpdate: noop$2,\r\n\tupdate: function(maxWidth, maxHeight, margins) {\r\n\t\tvar me = this;\r\n\r\n\t\t// Update Lifecycle - Probably don't want to ever extend or overwrite this function ;)\r\n\t\tme.beforeUpdate();\r\n\r\n\t\t// Absorb the master measurements\r\n\t\tme.maxWidth = maxWidth;\r\n\t\tme.maxHeight = maxHeight;\r\n\t\tme.margins = margins;\r\n\r\n\t\t// Dimensions\r\n\t\tme.beforeSetDimensions();\r\n\t\tme.setDimensions();\r\n\t\tme.afterSetDimensions();\r\n\t\t// Labels\r\n\t\tme.beforeBuildLabels();\r\n\t\tme.buildLabels();\r\n\t\tme.afterBuildLabels();\r\n\r\n\t\t// Fit\r\n\t\tme.beforeFit();\r\n\t\tme.fit();\r\n\t\tme.afterFit();\r\n\t\t//\r\n\t\tme.afterUpdate();\r\n\r\n\t\treturn me.minSize;\r\n\r\n\t},\r\n\tafterUpdate: noop$2,\r\n\r\n\t//\r\n\r\n\tbeforeSetDimensions: noop$2,\r\n\tsetDimensions: function() {\r\n\t\tvar me = this;\r\n\t\t// Set the unconstrained dimension before label rotation\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.width = me.maxWidth;\r\n\t\t\tme.left = 0;\r\n\t\t\tme.right = me.width;\r\n\t\t} else {\r\n\t\t\tme.height = me.maxHeight;\r\n\r\n\t\t\t// Reset position before calculating rotation\r\n\t\t\tme.top = 0;\r\n\t\t\tme.bottom = me.height;\r\n\t\t}\r\n\r\n\t\t// Reset padding\r\n\t\tme.paddingLeft = 0;\r\n\t\tme.paddingTop = 0;\r\n\t\tme.paddingRight = 0;\r\n\t\tme.paddingBottom = 0;\r\n\r\n\t\t// Reset minSize\r\n\t\tme.minSize = {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n\t},\r\n\tafterSetDimensions: noop$2,\r\n\r\n\t//\r\n\r\n\tbeforeBuildLabels: noop$2,\r\n\tbuildLabels: noop$2,\r\n\tafterBuildLabels: noop$2,\r\n\r\n\t//\r\n\r\n\tbeforeFit: noop$2,\r\n\tfit: function() {\r\n\t\tvar me = this;\r\n\t\tvar opts = me.options;\r\n\t\tvar minSize = me.minSize = {};\r\n\t\tvar isHorizontal = me.isHorizontal();\r\n\t\tvar lineCount, textSize;\r\n\r\n\t\tif (!opts.display) {\r\n\t\t\tme.width = minSize.width = me.height = minSize.height = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlineCount = helpers$1.isArray(opts.text) ? opts.text.length : 1;\r\n\t\ttextSize = lineCount * helpers$1.options._parseFont(opts).lineHeight + opts.padding * 2;\r\n\r\n\t\tme.width = minSize.width = isHorizontal ? me.maxWidth : textSize;\r\n\t\tme.height = minSize.height = isHorizontal ? textSize : me.maxHeight;\r\n\t},\r\n\tafterFit: noop$2,\r\n\r\n\t// Shared Methods\r\n\tisHorizontal: function() {\r\n\t\tvar pos = this.options.position;\r\n\t\treturn pos === 'top' || pos === 'bottom';\r\n\t},\r\n\r\n\t// Actually draw the title block on the canvas\r\n\tdraw: function() {\r\n\t\tvar me = this;\r\n\t\tvar ctx = me.ctx;\r\n\t\tvar opts = me.options;\r\n\r\n\t\tif (!opts.display) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar fontOpts = helpers$1.options._parseFont(opts);\r\n\t\tvar lineHeight = fontOpts.lineHeight;\r\n\t\tvar offset = lineHeight / 2 + opts.padding;\r\n\t\tvar rotation = 0;\r\n\t\tvar top = me.top;\r\n\t\tvar left = me.left;\r\n\t\tvar bottom = me.bottom;\r\n\t\tvar right = me.right;\r\n\t\tvar maxWidth, titleX, titleY;\r\n\r\n\t\tctx.fillStyle = helpers$1.valueOrDefault(opts.fontColor, core_defaults.global.defaultFontColor); // render in correct colour\r\n\t\tctx.font = fontOpts.string;\r\n\r\n\t\t// Horizontal\r\n\t\tif (me.isHorizontal()) {\r\n\t\t\ttitleX = left + ((right - left) / 2); // midpoint of the width\r\n\t\t\ttitleY = top + offset;\r\n\t\t\tmaxWidth = right - left;\r\n\t\t} else {\r\n\t\t\ttitleX = opts.position === 'left' ? left + offset : right - offset;\r\n\t\t\ttitleY = top + ((bottom - top) / 2);\r\n\t\t\tmaxWidth = bottom - top;\r\n\t\t\trotation = Math.PI * (opts.position === 'left' ? -0.5 : 0.5);\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\t\tctx.translate(titleX, titleY);\r\n\t\tctx.rotate(rotation);\r\n\t\tctx.textAlign = 'center';\r\n\t\tctx.textBaseline = 'middle';\r\n\r\n\t\tvar text = opts.text;\r\n\t\tif (helpers$1.isArray(text)) {\r\n\t\t\tvar y = 0;\r\n\t\t\tfor (var i = 0; i < text.length; ++i) {\r\n\t\t\t\tctx.fillText(text[i], 0, y, maxWidth);\r\n\t\t\t\ty += lineHeight;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tctx.fillText(text, 0, 0, maxWidth);\r\n\t\t}\r\n\r\n\t\tctx.restore();\r\n\t}\r\n});\r\n\r\nfunction createNewTitleBlockAndAttach(chart, titleOpts) {\r\n\tvar title = new Title({\r\n\t\tctx: chart.ctx,\r\n\t\toptions: titleOpts,\r\n\t\tchart: chart\r\n\t});\r\n\r\n\tcore_layouts.configure(chart, title, titleOpts);\r\n\tcore_layouts.addBox(chart, title);\r\n\tchart.titleBlock = title;\r\n}\r\n\r\nvar plugin_title = {\r\n\tid: 'title',\r\n\r\n\t/**\r\n\t * Backward compatibility: since 2.1.5, the title is registered as a plugin, making\r\n\t * Chart.Title obsolete. To avoid a breaking change, we export the Title as part of\r\n\t * the plugin, which one will be re-exposed in the chart.js file.\r\n\t * https://github.com/chartjs/Chart.js/pull/2640\r\n\t * @private\r\n\t */\r\n\t_element: Title,\r\n\r\n\tbeforeInit: function(chart) {\r\n\t\tvar titleOpts = chart.options.title;\r\n\r\n\t\tif (titleOpts) {\r\n\t\t\tcreateNewTitleBlockAndAttach(chart, titleOpts);\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeUpdate: function(chart) {\r\n\t\tvar titleOpts = chart.options.title;\r\n\t\tvar titleBlock = chart.titleBlock;\r\n\r\n\t\tif (titleOpts) {\r\n\t\t\thelpers$1.mergeIf(titleOpts, core_defaults.global.title);\r\n\r\n\t\t\tif (titleBlock) {\r\n\t\t\t\tcore_layouts.configure(chart, titleBlock, titleOpts);\r\n\t\t\t\ttitleBlock.options = titleOpts;\r\n\t\t\t} else {\r\n\t\t\t\tcreateNewTitleBlockAndAttach(chart, titleOpts);\r\n\t\t\t}\r\n\t\t} else if (titleBlock) {\r\n\t\t\tcore_layouts.removeBox(chart, titleBlock);\r\n\t\t\tdelete chart.titleBlock;\r\n\t\t}\r\n\t}\r\n};\n\nvar plugins = {};\r\nvar filler = plugin_filler;\r\nvar legend = plugin_legend;\r\nvar title = plugin_title;\nplugins.filler = filler;\nplugins.legend = legend;\nplugins.title = title;\n\n/**\r\n * @namespace Chart\r\n */\r\n\r\n\r\ncore_controller.helpers = helpers$1;\r\n\r\n// @todo dispatch these helpers into appropriated helpers/helpers.* file and write unit tests!\r\ncore_helpers();\r\n\r\ncore_controller._adapters = core_adapters;\r\ncore_controller.Animation = core_animation;\r\ncore_controller.animationService = core_animations;\r\ncore_controller.controllers = controllers;\r\ncore_controller.DatasetController = core_datasetController;\r\ncore_controller.defaults = core_defaults;\r\ncore_controller.Element = core_element;\r\ncore_controller.elements = elements;\r\ncore_controller.Interaction = core_interaction;\r\ncore_controller.layouts = core_layouts;\r\ncore_controller.platform = platform;\r\ncore_controller.plugins = core_plugins;\r\ncore_controller.Scale = core_scale;\r\ncore_controller.scaleService = core_scaleService;\r\ncore_controller.Ticks = core_ticks;\r\ncore_controller.Tooltip = core_tooltip;\r\n\r\n// Register built-in scales\r\n\r\ncore_controller.helpers.each(scales, function(scale, type) {\r\n\tcore_controller.scaleService.registerScaleType(type, scale, scale._defaults);\r\n});\r\n\r\n// Load to register built-in adapters (as side effects)\r\n\r\n\r\n// Loading built-in plugins\r\n\r\nfor (var k in plugins) {\r\n\tif (plugins.hasOwnProperty(k)) {\r\n\t\tcore_controller.plugins.register(plugins[k]);\r\n\t}\r\n}\r\n\r\ncore_controller.platform.initialize();\r\n\r\nvar src = core_controller;\r\nif (typeof window !== 'undefined') {\r\n\twindow.Chart = core_controller;\r\n}\r\n\r\n// DEPRECATIONS\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore\r\n * @namespace Chart.Chart\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.Chart = core_controller;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore\r\n * @namespace Chart.Legend\r\n * @deprecated since version 2.1.5\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.Legend = plugins.legend._element;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore\r\n * @namespace Chart.Title\r\n * @deprecated since version 2.1.5\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.Title = plugins.title._element;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.plugins instead\r\n * @namespace Chart.pluginService\r\n * @deprecated since version 2.1.5\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.pluginService = core_controller.plugins;\r\n\r\n/**\r\n * Provided for backward compatibility, inheriting from Chart.PlugingBase has no\r\n * effect, instead simply create/register plugins via plain JavaScript objects.\r\n * @interface Chart.PluginBase\r\n * @deprecated since version 2.5.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.PluginBase = core_controller.Element.extend({});\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.helpers.canvas instead.\r\n * @namespace Chart.canvasHelpers\r\n * @deprecated since version 2.6.0\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.canvasHelpers = core_controller.helpers.canvas;\r\n\r\n/**\r\n * Provided for backward compatibility, use Chart.layouts instead.\r\n * @namespace Chart.layoutService\r\n * @deprecated since version 2.7.3\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.layoutService = core_controller.layouts;\r\n\r\n/**\r\n * Provided for backward compatibility, not available anymore.\r\n * @namespace Chart.LinearScaleBase\r\n * @deprecated since version 2.8\r\n * @todo remove at version 3\r\n * @private\r\n */\r\ncore_controller.LinearScaleBase = scale_linearbase;\r\n\r\n/**\r\n * Provided for backward compatibility, instead we should create a new Chart\r\n * by setting the type in the config (`new Chart(id, {type: '{chart-type}'}`).\r\n * @deprecated since version 2.8.0\r\n * @todo remove at version 3\r\n */\r\ncore_controller.helpers.each(\r\n\t[\r\n\t\t'Bar',\r\n\t\t'Bubble',\r\n\t\t'Doughnut',\r\n\t\t'Line',\r\n\t\t'PolarArea',\r\n\t\t'Radar',\r\n\t\t'Scatter'\r\n\t],\r\n\tfunction(klass) {\r\n\t\tcore_controller[klass] = function(ctx, cfg) {\r\n\t\t\treturn new core_controller(ctx, core_controller.helpers.merge(cfg || {}, {\r\n\t\t\t\ttype: klass.charAt(0).toLowerCase() + klass.slice(1)\r\n\t\t\t}));\r\n\t\t};\r\n\t}\r\n);\n\nreturn src;\n\n})));\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Chart\", {\n  enumerable: true,\n  get: function get() {\n    return _chart[\"default\"];\n  }\n});\nexports.defaults = exports.Scatter = exports.Bubble = exports.Polar = exports.Radar = exports.HorizontalBar = exports.Bar = exports.Line = exports.Pie = exports.Doughnut = exports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _chart = _interopRequireDefault(require(\"chart.js\"));\n\nvar _isEqual = _interopRequireDefault(require(\"lodash/isEqual\"));\n\nvar _keyBy = _interopRequireDefault(require(\"lodash/keyBy\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar NODE_ENV = typeof process !== 'undefined' && process.env && process.env.NODE_ENV;\n\nvar ChartComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(ChartComponent, _React$Component);\n\n  var _super = _createSuper(ChartComponent);\n\n  function ChartComponent() {\n    var _this;\n\n    _classCallCheck(this, ChartComponent);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnClick\", function (event) {\n      var instance = _this.chartInstance;\n      var _this$props = _this.props,\n          getDatasetAtEvent = _this$props.getDatasetAtEvent,\n          getElementAtEvent = _this$props.getElementAtEvent,\n          getElementsAtEvent = _this$props.getElementsAtEvent,\n          onElementsClick = _this$props.onElementsClick;\n      getDatasetAtEvent && getDatasetAtEvent(instance.getDatasetAtEvent(event), event);\n      getElementAtEvent && getElementAtEvent(instance.getElementAtEvent(event), event);\n      getElementsAtEvent && getElementsAtEvent(instance.getElementsAtEvent(event), event);\n      onElementsClick && onElementsClick(instance.getElementsAtEvent(event), event); // Backward compatibility\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"ref\", function (element) {\n      _this.element = element;\n    });\n\n    _this.chartInstance = undefined;\n    return _this;\n  }\n\n  _createClass(ChartComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderChart();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.redraw) {\n        this.destroyChart();\n        this.renderChart();\n        return;\n      }\n\n      this.updateChart();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      var _this$props2 = this.props,\n          redraw = _this$props2.redraw,\n          type = _this$props2.type,\n          options = _this$props2.options,\n          plugins = _this$props2.plugins,\n          legend = _this$props2.legend,\n          height = _this$props2.height,\n          width = _this$props2.width;\n\n      if (nextProps.redraw === true) {\n        return true;\n      }\n\n      if (height !== nextProps.height || width !== nextProps.width) {\n        return true;\n      }\n\n      if (type !== nextProps.type) {\n        return true;\n      }\n\n      if (!(0, _isEqual[\"default\"])(legend, nextProps.legend)) {\n        return true;\n      }\n\n      if (!(0, _isEqual[\"default\"])(options, nextProps.options)) {\n        return true;\n      }\n\n      var nextData = this.transformDataProp(nextProps);\n\n      if (!(0, _isEqual[\"default\"])(this.shadowDataProp, nextData)) {\n        return true;\n      }\n\n      return !(0, _isEqual[\"default\"])(plugins, nextProps.plugins);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyChart();\n    }\n  }, {\n    key: \"transformDataProp\",\n    value: function transformDataProp(props) {\n      var data = props.data;\n\n      if (typeof data == 'function') {\n        var node = this.element;\n        return data(node);\n      } else {\n        return data;\n      }\n    } // Chart.js directly mutates the data.dataset objects by adding _meta proprerty\n    // this makes impossible to compare the current and next data changes\n    // therefore we memoize the data prop while sending a fake to Chart.js for mutation.\n    // see https://github.com/chartjs/Chart.js/blob/master/src/core/core.controller.js#L615-L617\n\n  }, {\n    key: \"memoizeDataProps\",\n    value: function memoizeDataProps() {\n      if (!this.props.data) {\n        return;\n      }\n\n      var data = this.transformDataProp(this.props);\n      this.shadowDataProp = _objectSpread(_objectSpread({}, data), {}, {\n        datasets: data.datasets && data.datasets.map(function (set) {\n          return _objectSpread({}, set);\n        })\n      });\n      this.saveCurrentDatasets(); // to remove the dataset metadata from this chart when the chart is destroyed\n\n      return data;\n    }\n  }, {\n    key: \"checkDatasets\",\n    value: function checkDatasets(datasets) {\n      var isDev = NODE_ENV !== 'production' && NODE_ENV !== 'prod';\n      var usingCustomKeyProvider = this.props.datasetKeyProvider !== ChartComponent.getLabelAsKey;\n      var multipleDatasets = datasets.length > 1;\n\n      if (isDev && multipleDatasets && !usingCustomKeyProvider) {\n        var shouldWarn = false;\n        datasets.forEach(function (dataset) {\n          if (!dataset.label) {\n            shouldWarn = true;\n          }\n        });\n\n        if (shouldWarn) {\n          console.error('[react-chartjs-2] Warning: Each dataset needs a unique key. By default, the \"label\" property on each dataset is used. Alternatively, you may provide a \"datasetKeyProvider\" as a prop that returns a unique key.');\n        }\n      }\n    }\n  }, {\n    key: \"getCurrentDatasets\",\n    value: function getCurrentDatasets() {\n      return this.chartInstance && this.chartInstance.config.data && this.chartInstance.config.data.datasets || [];\n    }\n  }, {\n    key: \"saveCurrentDatasets\",\n    value: function saveCurrentDatasets() {\n      var _this2 = this;\n\n      this.datasets = this.datasets || {};\n      var currentDatasets = this.getCurrentDatasets();\n      currentDatasets.forEach(function (d) {\n        _this2.datasets[_this2.props.datasetKeyProvider(d)] = d;\n      });\n    }\n  }, {\n    key: \"updateChart\",\n    value: function updateChart() {\n      var _this3 = this;\n\n      var options = this.props.options;\n      var data = this.memoizeDataProps(this.props);\n      if (!this.chartInstance) return;\n\n      if (options) {\n        this.chartInstance.options = _chart[\"default\"].helpers.configMerge(this.chartInstance.options, options);\n      } // Pipe datasets to chart instance datasets enabling\n      // seamless transitions\n\n\n      var currentDatasets = this.getCurrentDatasets();\n      var nextDatasets = data.datasets || [];\n      this.checkDatasets(currentDatasets);\n      var currentDatasetsIndexed = (0, _keyBy[\"default\"])(currentDatasets, this.props.datasetKeyProvider); // We can safely replace the dataset array, as long as we retain the _meta property\n      // on each dataset.\n\n      this.chartInstance.config.data.datasets = nextDatasets.map(function (next) {\n        var current = currentDatasetsIndexed[_this3.props.datasetKeyProvider(next)];\n\n        if (current && current.type === next.type && next.data) {\n          // Be robust to no data. Relevant for other update mechanisms as in chartjs-plugin-streaming.\n          // The data array must be edited in place. As chart.js adds listeners to it.\n          current.data.splice(next.data.length);\n          next.data.forEach(function (point, pid) {\n            current.data[pid] = next.data[pid];\n          });\n\n          var _data = next.data,\n              otherProps = _objectWithoutProperties(next, [\"data\"]); // Merge properties. Notice a weakness here. If a property is removed\n          // from next, it will be retained by current and never disappears.\n          // Workaround is to set value to null or undefined in next.\n\n\n          return _objectSpread(_objectSpread({}, current), otherProps);\n        } else {\n          return next;\n        }\n      });\n\n      var datasets = data.datasets,\n          rest = _objectWithoutProperties(data, [\"datasets\"]);\n\n      this.chartInstance.config.data = _objectSpread(_objectSpread({}, this.chartInstance.config.data), rest);\n      this.chartInstance.update();\n    }\n  }, {\n    key: \"renderChart\",\n    value: function renderChart() {\n      var _this$props3 = this.props,\n          options = _this$props3.options,\n          legend = _this$props3.legend,\n          type = _this$props3.type,\n          plugins = _this$props3.plugins;\n      var node = this.element;\n      var data = this.memoizeDataProps();\n\n      if (typeof legend !== 'undefined' && !(0, _isEqual[\"default\"])(ChartComponent.defaultProps.legend, legend)) {\n        options.legend = legend;\n      }\n\n      this.chartInstance = new _chart[\"default\"](node, {\n        type: type,\n        data: data,\n        options: options,\n        plugins: plugins\n      });\n    }\n  }, {\n    key: \"destroyChart\",\n    value: function destroyChart() {\n      if (!this.chartInstance) {\n        return;\n      } // Put all of the datasets that have existed in the chart back on the chart\n      // so that the metadata associated with this chart get destroyed.\n      // This allows the datasets to be used in another chart. This can happen,\n      // for example, in a tabbed UI where the chart gets created each time the\n      // tab gets switched to the chart and uses the same data).\n\n\n      this.saveCurrentDatasets();\n      var datasets = Object.values(this.datasets);\n      this.chartInstance.config.data.datasets = datasets;\n      this.chartInstance.destroy();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          height = _this$props4.height,\n          width = _this$props4.width,\n          id = _this$props4.id;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"canvas\", {\n        ref: this.ref,\n        height: height,\n        width: width,\n        id: id,\n        onClick: this.handleOnClick\n      });\n    }\n  }]);\n\n  return ChartComponent;\n}(_react[\"default\"].Component);\n\n_defineProperty(ChartComponent, \"getLabelAsKey\", function (d) {\n  return d.label;\n});\n\n_defineProperty(ChartComponent, \"propTypes\", {\n  data: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].object, _propTypes[\"default\"].func]).isRequired,\n  getDatasetAtEvent: _propTypes[\"default\"].func,\n  getElementAtEvent: _propTypes[\"default\"].func,\n  getElementsAtEvent: _propTypes[\"default\"].func,\n  height: _propTypes[\"default\"].number,\n  legend: _propTypes[\"default\"].object,\n  onElementsClick: _propTypes[\"default\"].func,\n  options: _propTypes[\"default\"].object,\n  plugins: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].object),\n  redraw: _propTypes[\"default\"].bool,\n  type: function type(props, propName, componentName) {\n    if (!_chart[\"default\"].controllers[props[propName]]) {\n      return new Error('Invalid chart type `' + props[propName] + '` supplied to' + ' `' + componentName + '`.');\n    }\n  },\n  width: _propTypes[\"default\"].number,\n  datasetKeyProvider: _propTypes[\"default\"].func\n});\n\n_defineProperty(ChartComponent, \"defaultProps\", {\n  legend: {\n    display: true,\n    position: 'bottom'\n  },\n  type: 'doughnut',\n  height: 150,\n  width: 300,\n  redraw: false,\n  options: {},\n  datasetKeyProvider: ChartComponent.getLabelAsKey\n});\n\nvar _default = ChartComponent;\nexports[\"default\"] = _default;\n\nvar Doughnut = /*#__PURE__*/function (_React$Component2) {\n  _inherits(Doughnut, _React$Component2);\n\n  var _super2 = _createSuper(Doughnut);\n\n  function Doughnut() {\n    _classCallCheck(this, Doughnut);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(Doughnut, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref) {\n          return _this4.chartInstance = _ref && _ref.chartInstance;\n        },\n        type: \"doughnut\"\n      }));\n    }\n  }]);\n\n  return Doughnut;\n}(_react[\"default\"].Component);\n\nexports.Doughnut = Doughnut;\n\nvar Pie = /*#__PURE__*/function (_React$Component3) {\n  _inherits(Pie, _React$Component3);\n\n  var _super3 = _createSuper(Pie);\n\n  function Pie() {\n    _classCallCheck(this, Pie);\n\n    return _super3.apply(this, arguments);\n  }\n\n  _createClass(Pie, [{\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref2) {\n          return _this5.chartInstance = _ref2 && _ref2.chartInstance;\n        },\n        type: \"pie\"\n      }));\n    }\n  }]);\n\n  return Pie;\n}(_react[\"default\"].Component);\n\nexports.Pie = Pie;\n\nvar Line = /*#__PURE__*/function (_React$Component4) {\n  _inherits(Line, _React$Component4);\n\n  var _super4 = _createSuper(Line);\n\n  function Line() {\n    _classCallCheck(this, Line);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(Line, [{\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref3) {\n          return _this6.chartInstance = _ref3 && _ref3.chartInstance;\n        },\n        type: \"line\"\n      }));\n    }\n  }]);\n\n  return Line;\n}(_react[\"default\"].Component);\n\nexports.Line = Line;\n\nvar Bar = /*#__PURE__*/function (_React$Component5) {\n  _inherits(Bar, _React$Component5);\n\n  var _super5 = _createSuper(Bar);\n\n  function Bar() {\n    _classCallCheck(this, Bar);\n\n    return _super5.apply(this, arguments);\n  }\n\n  _createClass(Bar, [{\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref4) {\n          return _this7.chartInstance = _ref4 && _ref4.chartInstance;\n        },\n        type: \"bar\"\n      }));\n    }\n  }]);\n\n  return Bar;\n}(_react[\"default\"].Component);\n\nexports.Bar = Bar;\n\nvar HorizontalBar = /*#__PURE__*/function (_React$Component6) {\n  _inherits(HorizontalBar, _React$Component6);\n\n  var _super6 = _createSuper(HorizontalBar);\n\n  function HorizontalBar() {\n    _classCallCheck(this, HorizontalBar);\n\n    return _super6.apply(this, arguments);\n  }\n\n  _createClass(HorizontalBar, [{\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref5) {\n          return _this8.chartInstance = _ref5 && _ref5.chartInstance;\n        },\n        type: \"horizontalBar\"\n      }));\n    }\n  }]);\n\n  return HorizontalBar;\n}(_react[\"default\"].Component);\n\nexports.HorizontalBar = HorizontalBar;\n\nvar Radar = /*#__PURE__*/function (_React$Component7) {\n  _inherits(Radar, _React$Component7);\n\n  var _super7 = _createSuper(Radar);\n\n  function Radar() {\n    _classCallCheck(this, Radar);\n\n    return _super7.apply(this, arguments);\n  }\n\n  _createClass(Radar, [{\n    key: \"render\",\n    value: function render() {\n      var _this9 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref6) {\n          return _this9.chartInstance = _ref6 && _ref6.chartInstance;\n        },\n        type: \"radar\"\n      }));\n    }\n  }]);\n\n  return Radar;\n}(_react[\"default\"].Component);\n\nexports.Radar = Radar;\n\nvar Polar = /*#__PURE__*/function (_React$Component8) {\n  _inherits(Polar, _React$Component8);\n\n  var _super8 = _createSuper(Polar);\n\n  function Polar() {\n    _classCallCheck(this, Polar);\n\n    return _super8.apply(this, arguments);\n  }\n\n  _createClass(Polar, [{\n    key: \"render\",\n    value: function render() {\n      var _this10 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref7) {\n          return _this10.chartInstance = _ref7 && _ref7.chartInstance;\n        },\n        type: \"polarArea\"\n      }));\n    }\n  }]);\n\n  return Polar;\n}(_react[\"default\"].Component);\n\nexports.Polar = Polar;\n\nvar Bubble = /*#__PURE__*/function (_React$Component9) {\n  _inherits(Bubble, _React$Component9);\n\n  var _super9 = _createSuper(Bubble);\n\n  function Bubble() {\n    _classCallCheck(this, Bubble);\n\n    return _super9.apply(this, arguments);\n  }\n\n  _createClass(Bubble, [{\n    key: \"render\",\n    value: function render() {\n      var _this11 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref8) {\n          return _this11.chartInstance = _ref8 && _ref8.chartInstance;\n        },\n        type: \"bubble\"\n      }));\n    }\n  }]);\n\n  return Bubble;\n}(_react[\"default\"].Component);\n\nexports.Bubble = Bubble;\n\nvar Scatter = /*#__PURE__*/function (_React$Component10) {\n  _inherits(Scatter, _React$Component10);\n\n  var _super10 = _createSuper(Scatter);\n\n  function Scatter() {\n    _classCallCheck(this, Scatter);\n\n    return _super10.apply(this, arguments);\n  }\n\n  _createClass(Scatter, [{\n    key: \"render\",\n    value: function render() {\n      var _this12 = this;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(ChartComponent, _extends({}, this.props, {\n        ref: function ref(_ref9) {\n          return _this12.chartInstance = _ref9 && _ref9.chartInstance;\n        },\n        type: \"scatter\"\n      }));\n    }\n  }]);\n\n  return Scatter;\n}(_react[\"default\"].Component);\n\nexports.Scatter = Scatter;\nvar defaults = _chart[\"default\"].defaults;\nexports.defaults = defaults;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return /*#__PURE__*/React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;"],"names":["lang","window","app","pageOptions","i18n","use","Backend","LanguageDetector","initReactI18next","init","lng","fallbackLng","ns","defaultNS","whitelist","backend","loadPath","mediaUrl","debug","interpolation","escapeValue","load","react","wait","CommitDetails","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","isLoading","errorMsg","_createClass","key","value","_this2","_this$props","this","repoID","commitID","seafileAPI","getCommitDetails","then","res","setState","commitDetails","data","catch","error","Utils","getErrorMsg","_this$props2","toggleDialog","commitTime","_jsxs","Modal","isOpen","centered","toggle","children","_jsx","ModalHeader","gettext","ModalBody","className","moment","format","Content","React","_React$Component2","_super2","_this3","_len","arguments","length","args","Array","_key","apply","concat","renderDetails","detailsData","type","title","showDesc","i","len","cmt_desc","map","item","index","dangerouslySetInnerHTML","__html","_this$props$data","Loading","CreateForder","handleChange","e","target","trim","isSubmitBtnActive","childName","handleSubmit","newName","checkDuplicatedName","errMessage","replace","HTMLescape","path","parentPath","onAddFolder","handleKeyDown","preventDefault","addFolderCancel","autoFocus","Form","FormGroup","Label","for","Input","id","onKeyDown","onChange","Alert","color","ModalFooter","Button","onClick","disabled","OpMenu","onMenuItemClick","operation","getEventData","onDropdownToggleClick","toggleOperationMenu","isItemMenuShow","onFreezedItem","onUnfreezedItem","operations","translateOperations","Dropdown","DropdownToggle","tag","DropdownMenu","DropdownItem","ShareAdminLink","copyToClipboard","copy","link","toaster","success","duration","href","SysAdminUnlinkDevice","handleInputChange","inputChecked","checked","unlinkDevice","isPro","htmlFor","SidePanel","getActiveClass","tab","currentTab","isSidePanelClosed","Logo","onCloseSidePanel","canViewSystemInfo","Link","to","siteRoot","tabItemClick","isDBSqlite3","canViewStatistic","otherPermission","constanceEnabled","canConfigSystem","canManageLibrary","canManageUser","canManageGroup","multiTenancy","multiInstitution","sysadminExtraEnabled","canViewUserLog","enableFileScan","enableGuestInvitation","enableTermsAndConditions","canViewAdminLog","enableWorkWeixin","enableDingtalk","enableShareLinkReportAbuse","MainPanel","_Component","Component","MainPanelTopbar","toggleSidePanel","search","Account","isAdminPanel","Info","uploadLicenseFile","fileInput","current","files","file","sysAdminUploadLicense","info","sysInfo","Object","assign","with_license","errMsg","danger","openFileInput","click","renderLicenseDescString","license_mode","license_to","license_expiration","config","loading","sysAdminGetSysInfo","_this$state$sysInfo","org_count","repos_count","total_files_count","total_storage","total_devices_count","current_connected_devices_count","license_maxusers","multi_tenancy_enabled","active_users_count","users_count","groups_count","_this$state","Fragment","_objectSpread","isDefaultAdmin","ref","rel","bytesToSize","Nav","navItems","name","urlPart","text","currentItem","FORMAT","Picker","defaultCalendarValue","locale","clone","calendar","Calendar","defaultValue","disabledDate","translateCalendar","DatePicker","_ref","placeholder","tabIndex","readOnly","StatisticCommonTool","changeActive","statisticTypeName","statisticType","startTime","endTime","subtract","getActiviesFiles","disabledStartDate","startValue","today","endValue","isBefore","disabledEndDate","field","_defineProperty","onSubmit","_this$state2","bind","StatisticChart","titleCallback","tooltipItem","datasets","datasetIndex","label","yLabel","ticksCallback","values","opations","labels","filesData","isTitleCallback","isTicksCallback","suggestedMaxNumbers","isLegendStatus","chartTitle","options","display","fontSize","elements","line","fill","tension","borderWidth","legend","usePointStyle","tooltips","callbacks","layout","padding","right","scales","yAxes","ticks","beginAtZero","suggestedMax","callback","xAxes","maxTicksLimit","nextProps","Line","StatisticFile","groupBy","sysAdminStatisticFiles","added","deleted","visited","modified","isArray","forEach","push","datetime","addedData","borderColor","backgroundColor","visitedData","modifiedData","deletedData","err","StatisticNav","StatisticStorage","sysAdminStatisticStorages","totalStorage","TrafficTable","sortBy","sortIcon","sortOrder","width","sortItems","TrafficTableBody","trafficName","userTrafficItem","email","org_name","syncUploadSize","sync_file_upload","syncDownloadSize","sync_file_download","webUploadSize","web_file_upload","webDownloadSize","web_file_download","linkUploadSize","link_file_upload","linkDownloadSize","link_file_download","OrgsTraffic","getPreviousPage","getTrafficList","month","currentPage","getNextPage","handleKeyPress","test","errorMessage","initPage","blur","page","perPage","orderBy","sysAdminListOrgTraffic","orgTrafficList","org_monthly_traffic_list","slice","hasNextPage","has_next_page","resetPerPage","newPerPage","initMonth","urlParams","URL","location","searchParams","_this$state3","parseInt","get","_this$state4","onKeyPress","Paginator","gotoPreviousPage","gotoNextPage","curPerPage","UsersTraffic","sysAdminListUserTraffic","userTrafficList","user_monthly_traffic_list","StatisticTraffic","changeTabActive","activeName","tabActive","sysAdminStatisticTraffic","total_upload","total_download","link_upload","link_download","sync_upload","sync_download","web_upload","web_download","linkData","syncData","webData","renderCommonTool","_assertThisInitialized","StatisticUsers","sysAdminStatisticActiveUsers","count","userCount","StatisticReports","onGenerateReports","url","getPreviousPageDevicesList","getDevicesListByPage","pageInfo","current_page","getNextPageDevicesList","items","emptyTip","EmptyTip","table","Item","_Component2","handleMouseOver","isOpIconShown","handleMouseOut","handleUnlink","is_desktop_client","toggleUnlinkDeviceDialog","isUnlinkDeviceDialogOpen","deleteFiles","_this2$props$item","platform","device_id","user","sysAdminUnlinkDevice","unlinked","message","onMouseEnter","onMouseLeave","user_name","client_version","device_name","last_login_ip","last_accessed","fromNow","_Component3","DevicesByPlatform","_super3","devicesPlatform","per_page","sysAdminListDevices","devicesData","devices","page_info","_this4","_this$state2$currentP","DesktopDevices","DevicesNav","MobileDevices","UserLink","encodeURIComponent","getPreviousPageDeviceErrorsList","getDeviceErrorsListByPage","getNextPageDeviceErrorsList","device_ip","repo_id","repo_name","error_msg","error_time","DeviceErrors","sysAdminListDeviceErrors","devicesErrors","device_errors","isCleanBtnShown","clean","sysAdminClearDeviceErrors","_this$state$currentPa","SetQuotaDialog","handleQuotaChange","quota","updateQuota","InputGroup","InputGroupAddon","addonType","InputGroupText","SysAdminImportUserDialog","fileInputRef","uploadFile","fileName","substr","lastIndexOf","importUserInBatch","SysAdminUserRoleEditor","translateRoles","role","SelectEditor","isTextMode","isEditIconShow","roleOptions","currentOption","currentRole","onOptionChanged","onRoleChanged","translateOption","SysAdminAddUserDialog","checkSubmitBtnActive","password","passwordAgain","btnActive","togglePasswordVisible","isPasswordVisible","inputPassword","passwd","inputPasswordAgain","generatePassword","val","inputEmail","inputName","updateRole","showRole","addUser","dialogTitle","autoComplete","availableRoles","SysAdminBatchAddAdminDialog","handleSelectChange","addAdminInBatch","UserSelect","isMulti","onSelectChange","SysAdminUser","object","contact_email","login_id","last_login","last_access_time","create_time","is_active","is_staff","reference_id","department","quota_total","quota_usage","institution","org_id","isSelected","SysAdminAdminUser","admin_role","Search","submit","style","haveLDAP","_window$sysadmin$page","sysadmin","availableAdminRoles","institutions","toggleItemFreezed","isFreezed","isItemFreezed","getListByPage","sortByQuotaUsage","isAdmin","isAllUsersSelected","columns","spaceText","spaceEl","undefined","colSpaceText","colNameText","colCreatedText","toggleSelectAllUsers","updateUser","deleteUser","updateAdminRole","revokeAdmin","onUserSelected","isLDAPImported","isSearchResult","handleMouseEnter","highlight","handleMouseLeave","isOpIconShow","toggleSetQuotaDialog","isSetQuotaDialogOpen","toggleDeleteUserDialog","isDeleteUserDialogOpen","toggleResetUserPasswordDialog","isResetUserPasswordDialogOpen","toggleRevokeAdminDialog","isRevokeAdminDialogOpen","updateStatus","roleOption","isActive","notify","translateRole","translateAdminRole","translateStatus","status","updateInstitution","instOption","resetPassword","sysAdminResetUserPassword","reset_tip","getMenuOperations","_this3$props","list","source","translateResult","itemName","deleteDialogMsg","resetPasswordDialogMsg","revokeAdminDialogMsg","curStatus","statusOptions","currentSelectedAdminRoleOption","currentSelectedRoleOption","currentSelectedInstOption","currentSelectedStatusOption","filter","curAdminRole","adminRoleOptions","curRole","curInstitution","instOptions","Selector","isDropdownToggleShown","currentSelectedOption","selectOption","username","SysAdminUserSetQuotaDialog","CommonOperationConfirmationDialog","executeOperation","confirmBtnText","Users","toggleImportUserDialog","isImportUserDialogOpen","toggleAddUserDialog","isAddUserDialogOpen","toggleBatchSetQuotaDialog","isBatchSetQuotaDialogOpen","toggleBatchDeleteUserDialog","isBatchDeleteUserDialogOpen","hasUserSelected","selectedUserList","users","userList","thisuser","getUserList","sysAdminListAdmins","admin_user_list","getUsersListByPage","sysAdminListUsers","total_count","URLSearchParams","set","toString","navigate","sysAdminDeleteUser","newUserList","msg","setUserQuotaInBatch","quotaTotal","emails","sysAdminSetUserQuotaInBatch","resultUser","deleteUserInBatch","sysAdminDeleteUserInBatch","oldUser","some","deletedUser","failed","sysAdminImportUserViaFile","sysAdminAddUser","unshift","add_user_tip","sysAdminUpdateUser","update_status_tip","sysAdminUpdateAdminRole","getOperationsForAll","toggleBatchAddAdminDialog","getCurrentNavItem","isBatchAddAdminDialogOpen","sysAdminAddAdminInBatch","getSearch","searchItems","keyword","_this$state3$sortBy","_this$state3$sortOrde","_this$props3","UsersNav","AdminUsers","LDAPImportedUsers","sysAdminListLDAPUsers","ldap_user_list","SearchUsers","getItems","sysAdminSearchUsers","query","user_list","getPreviousPageList","getNextPageList","keyCode","params","document","row","Col","sm","size","SysAdminSetUploadDownloadRateLimitDialog","handleRateLimitChange","rateLimit","updateUploadDownloadRateLimit","uploadOrDownload","UpdateUser","updateValue","userName","twoFactorAuthEnabled","toggleSetUserUploadRateLimitDialog","isSetUserUploadRateLimitDialogOpen","toggleSetUserDownloadRateLimitDialog","isSetUserDownloadRateLimitDialogOpen","currentKey","isUpdateUserDialogOpen","toggleSetNameDialog","toggleSetUserLoginIDDialog","toggleSetUserComtactEmailDialog","toggleSetUserReferenceIDDialog","toggleUpdateUserDialog","showEditIcon","action","userInfo","src","avatar_url","alt","upload_rate_limit","download_rate_limit","has_default_device","disable2FA","check","is_force_2fa","toggleForce2fa","SysAdminSetQuotaDialog","SysAdminUpdateUserDialog","User","sysAdminDeleteTwoFactorAuth","sysAdminSetForceTwoFactorAuth","decodeURIComponent","sysAdminGetUser","enableSysAdminViewRepo","deleteRepo","transferRepo","toggleDeleteDialog","isDeleteDialogOpen","toggleTransferDialog","isTransferDialogOpen","owner","renderRepoName","repo","encrypted","iconUrl","getLibIconUrl","iconTitle","getLibIconTitle","last_modified","TransferDialog","canTransferToDept","Repos","sysAdminDeleteRepo","newRepoList","repoList","sysAdminTransferRepo","_this5","sysAdminListReposByOwner","repos","getOwnerLink","owner_email","indexOf","owner_name","groupID","substring","last_modify","sysAdminListShareInRepos","repo_list","deleteItem","toggleLinkDialog","isLinkDialogOpen","getRoleText","roleText","getIconUrl","is_dir","getFolderIconUrl","getFileIconUrl","obj_name","view_cnt","LinkDialog","Links","token","sysAdminDeleteShareLink","shareLinkItems","sysAdminDeleteUploadLink","uploadLinkItems","sysAdminListShareLinksByUser","share_link_list","sort","a","b","sysAdminListUploadLinksByUser","upload_link_list","parent_group_id","created_at","Groups","sysAdminListGroupsJoinedByUser","group_list","SysAdminCreateRepoDialog","handleRepoNameChange","repoName","ownerEmail","createRepo","option","UserItem","isOperationShow","deleteShareItem","user_email","onChangeUserPermission","permission","currentPermission","getSharedPermission","SharePermissionEditor","permissions","onPermissionChanged","UserList","SysAdminShareToUser","_React$Component3","selectedOption","setPermission","shareToUser","sysAdminAddRepoSharedItem","newItems","sharedItems","refs","userSelect","clearSelect","response","useremail","sysAdminDeleteRepoSharedItem","userEmail","sysAdminUpdateRepoSharedItemPermission","updateSharedItems","sharedItem","sharedItemUsername","is_admin","sysAdminListRepoSharedItems","colSpan","GroupItem","group_id","group_name","GroupList","SysAdminShareToGroup","loadOptions","shareableGroups","obj","listSharedGroups","shareToGroup","groups","sharedItemGroupID","SeahubSelect","maxMenuHeight","components","NoOptionsMessage","NoGroupMessage","SysAdminShareDialog","getInitialActiveTab","activeTab","renderDirContent","enableDirPrivateShare","isGroupOwnedRepo","pills","NavItem","NavLink","TabContent","TabPane","tabId","itemType","itemPath","isRepoOwner","maxWidth","SysAdminLibHistorySettingDialog","days","keepDays","autoHistory","expireDays","sysAdminUpdateRepoHistorySetting","keep_days","errorInfo","num","setLimitDays","allHistory","noHistory","sysAdminGetRepoHistorySetting","sortByFileCount","sortBySize","initialSortIcon","onDeleteRepo","onTransferRepo","isRepoDeleted","toggleShareDialog","toggleHistorySettingDialog","isShareDialogOpen","isHistorySettingDialogOpen","getOperations","departmentID","file_count","ModalPortal","repoEncrypted","userPerm","DeleteRepoDialog","AllRepos","toggleCreateRepoDialog","isCreateRepoDialogOpen","getReposByPage","sysAdminListAllRepos","Owner","sysAdminCreateRepo","targetRepo","searchRepos","repoNameOrID","getValueLength","_this$state3$currentP","str","code","charCodeAt","ReposNav","description","SystemRepo","sysAdminGetSystemRepoInfo","trashReposExpireDays","onRestoreRepo","sysAdminDeleteTrashRepo","sysAdminRestoreTrashRepo","toggleDeleteRepoDialog","isDeleteRepoDialogOpen","toggleRestoreRepoDialog","isRestoreRepoDialogOpen","delete_time","TrashRepos","toggleCleanTrashDialog","isCleanTrashDialogOpen","sysAdminListTrashRepos","cleanTrash","sysAdminCleanTrashRepos","sysAdminSearchTrashRepos","SearchRepos","getRepos","sysAdminSearchRepos","handleNameInputChange","offset","Dirent","mtime","last_update","file_size","is_file","DirPath","onPathClick","turnPathToLink","pathList","split","nodePath","isSystemRepo","currentPath","pathElem","DirentItem","openFolder","dirent","deleteDirent","downloadDirent","fromSystemRepo","getDirentIcon","DirContent","direntList","DirView","loadDirentList","toggleNewFolderDialog","isNewFolderDialogOpen","createNewFolder","folderName","getFileName","sysAdminCreateSysRepoFolder","new_dirent","direntPath","joinPath","sysAdminListRepoDirents","_res$data","is_system_library","dirent_list","encodePath","history","replaceState","sysAdminDeleteRepoDirent","sysAdminGetRepoFileDownloadURL","download_url","onFileInputChange","sydAdminGetSysRepoItemUploadURL","formData","FormData","append","axios","post","upload_link","fileObj","newDirent","Date","getTime","dirs","splice","DirPathBar","CreateFolderDialog","SysAdminCreateGroupDialog","groupName","createGroup","SysAdminTransferGroupDialog","submitBtnDisabled","receiver","transferGroup","deleteGroup","groupUrl","toggleCreateGroupDialog","isCreateGroupDialogOpen","getGroupListByPage","sysAdminListAllGroups","groupList","OnwerEmail","sysAdminCreateNewGroup","newGroupList","sysAdminDismissGroupByID","receiverEmail","sysAdminTransferGroup","searchGroups","SearchGroups","getGroups","sysAdminSearchGroups","unshareRepo","toggleUnshareRepoDialog","isUnshareRepoDialogOpen","dialogMsg","shared_by","shared_by_name","GroupRepos","sysAdminUnshareRepoFromGroup","sysAdminListGroupRepos","libraries","GroupNav","SysAdminGroupAddMemberDialog","selectedOptions","isSubmitBtnDisabled","addMembers","removeMember","updateMemberRole","highlighted","RoleSelector","GroupMembers","sysAdminListGroupMembers","memberList","members","toggleAddMemgerDialog","isAddMemberDialogOpen","sysAdminAddGroupMember","newMemberList","sysAdminDeleteGroupMember","sysAdminUpdateGroupMemberRole","Departments","AddDepartDialog","validateName","parentGroup","parentGroupID","sysAdminAddNewDepartment","departName","onAddNewDepartment","header","RenameDepartmentDialog","sysAdminRenameDepartment","departmentName","onDepartmentNameChanged","onAfterModelOpened","newInput","focus","select","onOpened","innerRef","DeleteDepartmentDialog","deleteDepart","group","sysAdminDeleteDepartment","onDeleteDepartment","tipMessage","SetGroupQuotaDialog","setGroupQuota","newQuota","sysAdminUpdateDepartmentQuota","onSetQuota","toggleRenameDialog","isRenameDialogOpen","newHref","onSetDepartmentQuota","DepartmentList","listDepartments","sysAdminListAllDepartments","toggleAddDepartDialog","isShowAddDepartDialog","dept","newDepartment","topbarChildren","AddMemberDialog","orgSelect","onAddNewMembers","AddRepoDialog","sysAdminAddRepoInDepartment","onAddNewRepo","Department","getDepartmentInfo","sysAdminGetDepartmentInfo","ancestorGroups","ancestor_groups","toggleRenameDepartmentDialog","isShowRenameDepartmentDialog","toggleAddRepoDialog","isShowAddRepoDialog","toggleAddMemberDialog","isShowAddMemberDialog","toggleAddDepartmentDialog","isShowAddDepartmentDialog","topBtn","AddDepartmentDialog","ancestor","SubDepartments","listSubDepartments","onSubDepartmentNameChanged","DeleteMemberDialog","deleteMember","member","onMemberChanged","MemberItem","onChangeUserRole","showDeleteMemberDialog","DepartmentMembers","listMembers","currentPageInfo","membersErrorMsg","toggleCancel","deletedMember","newMembers","_toConsumableArray","sysAdminDeleteRepoInDepartment","onRepoChanged","RepoItem","showDeleteRepoDialog","DepartmentDetail","listGroupRepo","deletedRepo","newRepo","getShareLinksByPage","sortByTime","sortByCount","deleteShareLink","renderExpiration","expire_date","expire_time","is_expired","deleteIcon","onMouseOver","onMouseOut","creator_email","creator_name","ctime","ShareLinks","_this4$state","sysAdminListShareLinks","shareLinkList","_this4$state2","linkToken","newShareLinkList","LinksNav","getUploadLinksByPage","deleteUploadLink","UploadLinks","sysAdminListAllUploadLinks","uploadLinkList","newUploadLinkList","SysAdminAddOrgDialog","orgName","addOrg","deleteOrg","sysAdminGetOrg","repoCount","Orgs","getItemsByPage","sysAdminListOrgs","orgList","organizations","toggleAddOrgDialog","isAddOrgDialogOpen","orgID","orgInfo","sysAdminUpdateOrg","newOrgList","org","sysAdminAddOrg","sysAdminDeleteOrg","SearchOrgs","sysAdminSearchOrgs","organization_list","SysAdminSetOrgNameDialog","updateName","SysAdminSetOrgMaxUserNumberDialog","isSetNameDialogOpen","toggleSetMaxUserNumberDialog","isSetMaxUserNumberDialogOpen","_this$props$orgInfo","max_user_number","enable_saml_login","url_prefix","metadata_url","domain","Row","md","serviceURL","SysAdminSetOrgQuotaDialog","updateMaxUserNumber","OrgInfo","newOrgInfo","newValue","maxUserNumber","OrgNav","updateMembership","toggleResetPasswordDialog","isResetPasswordDialogOpen","statusOption","membershipOption","translateMembership","membership","active","curMembership","is_org_staff","membershipOptions","currentSelectedMembershipOption","OrgUsers","newUserInfo","sysAdminAddOrgUser","sysAdminDeleteOrgUser","statusValue","sysAdminUpdateOrgUser","membershipValue","isOrgStaff","_this6","sysAdminListOrgUsers","OrgGroups","sysAdminListOrgGroups","OrgRepos","sysAdminListOrgRepos","SysAdminAddInstitutionDialog","addInstitution","getInstitutionsByPage","deleteInstitution","institutionName","Institutions","sysAdminListInstitutions","institutionList","institution_list","toggleAddInstitutionDialog","isAddInstitutionDialogOpen","sysAdminAddInstitution","institutionID","sysAdminDeleteInstitution","inst","institutionInfo","user_count","quota_used","SysAdminSetInstitutionQuotaDialog","InstitutionInfo","sysAdminUpdateInstitution","newInstitutionInfo","sysAdminGetInstitution","InstitutionNav","getInstitutionUsersByPage","setAdmin","toggleSetAdminDialog","isSetAdminDialogOpen","is_institution_admin","InstitutionUsers","sysAdminListInstitutionUsers","sysAdminUpdateInstitutionUser","sysAdminAddInstitutionUserBatch","successArray","failedArray","sysAdminDeleteInstitutionUser","InstitutionAdmins","sysAdminListInstitutionAdmins","LogsExportExcelDialog","downloadExcel","isValidDateStr","startDateStr","endDateStr","logType","isValid","handleStartChange","handleEndChange","getLogsByPage","login_ip","log_success","login_time","LoginLogs","toggleExportExcelDialog","isExportExcelDialogOpen","sysAdminListLoginLogs","logList","login_log_list","LogsNav","FilterMenu","toggleMenu","isMenuShown","toggleFreezeItem","onItemClick","filterItems","filterBy","ToggleFilter","toggleFilter","toggleFilterByUser","filterByUser","toggleFilterByRepo","filterByRepo","freezed","userFilteredBy","repoFilteredBy","isHighlighted","event_type","ip","device","time","file_or_dir_name","FileAccessLogs","sysAdminListFileAccessLogs","file_access_log_list","updateURL","delete","toggleCommitDetailsDialog","isCommitDetailsDialogOpen","showCommitDetails","file_operation","repo_encrypted","commit_id","FileUpdateLogs","sysAdminListFileUpdateLogs","file_update_log_list","getActionTextByEType","etype","getShareTo","share_type","to_user_email","to_user_name","to_group_id","to_group_name","from_user_email","from_user_name","sharePerms","folder","date","SharePermissionLogs","sysAdminListSharePermissionLogs","share_permission_log_list","Section","headingText","SettingItemBase","helpTip","displayName","mainContent","extraContent","WebSettingInput","toggleBtns","isBtnsShown","hideBtns","onInputChange","saveSetting","keyText","inputType","onFocus","onBlur","onMouseDown","WebSettingFile","postFile","filePath","fileWidth","fileHeight","height","WebSettingCheckbox","valueToNum","WebSettings","sysAdminSetSysSettingInfo","config_dict","fileType","sysAdminUpdateLogo","sysAdminUpdateFavicon","sysAdminUpdateLoginBG","logoPath","logo_path","faviconPath","favicon_path","loginBGPath","login_bg_image_path","sysAdminGetSysSettingInfo","InputItem","FileItem","CheckboxItem","SysAdminAddSysNotificationDialog","addNotification","deleteNotification","setToCurrent","is_current","Notifications","toggleAddNotificationDialog","isAddNotificationDialogOpen","sysAdminAddSysNotification","notificationList","notification","sysAdminDeleteSysNotification","sysAdminSetSysNotificationToCurrent","sysAdminListAllSysNotifications","notifications","Table","records","record","detail","suggestion","FileScanRecords","listFileScanRecords","record_list","WorkWeixinDepartmentMembersList","newUsersTempObj","checkedDepartmentId","isMembersListLoading","canCheckUserIds","membersList","avatar","onUserChecked","userid","mobile","hover","isCheckedAll","onAllUsersChecked","WorkWeixinDepartmentsTreeNode","toggleChildren","stopPropagation","isChildrenShow","dropdownToggle","dropdownOpen","importDepartmentDialogToggle","depart","renderTreeNodes","departmentsTree","onChangeDepartment","changeDept","toggleClass","classNames","nodeInnerClass","direction","opacity","WorkWeixinDepartmentsTreePanel","isTreeLoading","ImportWorkWeixinDepartmentDialog","onImportDepartmentSubmit","departmentsCount","membersCount","WorkWeixinDepartments","getDepartmentsTree","childIds","parentIds","parentid","intersection","v","rootIds","cloneData","deepCopy","father","branchArr","child","getWorkWeixinDepartmentsList","adminListWorkWeixinDepartments","importDepartmentChildrenCount","importDepartmentMembersCount","membersTempObj","handleError","getWorkWeixinDepartmentMembersList","department_id","adminListWorkWeixinDepartmentMembers","fetch_child","userlist","getCanCheckUserIds","userIds","keys","newUsersTempList","JSON","stringify","adminAddWorkWeixinUsersBatch","handleSubmitSuccess","fails","_success$i","j","departmentId","k","importDepartment","isImportDepartmentDialogShow","adminImportWorkWeixinDepartment","handleImportDepartmentSubmitSuccess","handleImportDepartmentSubmitFailed","successes","successMsg","department_name","api_user_name","fail","failName","canImportDepartment","DingtalkDepartmentMembersList","DingtalkDepartmentsTreeNode","DingtalkDepartmentsTreePanel","ImportDingtalkDepartmentDialog","DingtalkDepartments","getDingtalkDepartmentsList","adminListDingtalkDepartments","getDingtalkDepartmentMembersList","adminListDingtalkDepartmentMembers","adminAddDingtalkUsersBatch","adminImportDingtalkDepartment","getInviteTypeText","invite_type","inviter_email","inviter_name","accept_time","accepter_email","accepter_name","invite_time","Invitations","sysAdminListInvitations","invitation_list","targetItem","sysAdminDeleteInvitation","deleteItemInBatch","sysAdminDeleteExpiredInvitations","prevItems","totalItemCount","TermsEditorDialog","event","isValueChanged","currentContent","getCurrentContent","onCommit","onCloseEditorDialog","onContentChanged","editorRef","getValue","setSimpleEditorRef","editor","simpleEditor","content","wrapClassName","contentClassName","SimpleEditor","defaultProps","AddOrUpdateTermDialog","handleNameChange","handleVersionNumberChange","versionNumber","handleTextChange","setActive","setInActive","addTerm","isNaN","isUpdate","updateTerm","onContentClick","isConditionsEditorDialogShow","onUpdateContent","oldTermObj","version_number","activate_time","TermsPreviewWidget","hrefReg","imageReg1","imageReg2","linkReg1","linkReg2","markdownContent","previewText","newMarkdownContent","hrefs","match","_getLinks","hrefObj","links","images","imageSrcs","imageSrcs1","getLinks","TermsPreviewDialog","onClosePreviewDialog","toggleUpdateDialog","isUpdateDialogOpen","toggleTermsContentDialog","isTermsPerviewDialogOpen","deleteTerm","itemContent","mdFile","processor","process","result","innerHtml","String","previewContent","getPreviewContent","TermsPerviewDialog","TermsAndConditions","toggleAddTermDialog","isAddTermDialogOpen","sysAdminAddTermAndCondition","reload","termID","sysAdminUpdateTermAndCondition","termList","sysAdminDeleteTermAndCondition","sysAdminListTermsAndConditions","term_and_condition_list","VirusFileItem","handleFile","virusFile","virus_id","fileStatus","fileOpList","has_deleted","has_ignored","repo_owner","file_path","virusFiles","AllVirusFiles","listVirusFiles","virus_file_list","virusID","op","request","deleteVirusFile","toggleIgnoreVirusFile","virus_file","toggleItemSelected","isAllItemsSelected","toggleAllSelected","UnhandledVirusFiles","prevState","handleSelectedItems","virusIDs","batchProcessVirusFiles","fileList","find","deleteSelectedItems","ignoreSelectedItems","selectedItems","getOperationText","operationType","getOperationDetail","ownerPageUrl","userPageUrl","detailText","repoPageUrl","groupPageUrl","from","AdminOperationLogs","sysAdminListAdminLogs","login_success","AdminLoginLogs","sysAdminListAdminLoginLogs","AbuseReports","listAbuseReports","sysAdminListAbuseReports","abuseReportList","abuse_report_list","updateAbuseReport","handled","abuseReportId","sysAdminUpdateAbuseReport","AbuseReportList","fileUrl","reporter","abuse_type","SysAdmin","getCurrentTabForPageList","pageList","urlPartList","urlBase","jlen","param","isDesktop","tmpTab","commonProps","Router","StatisticReport","DepartmentLibraries","LDAPUsers","UserOwnedRepos","UserSharedRepos","UserLinks","UserGroups","MediaQuery","zIndex","ReactDom","I18nextProvider","getElementById","module","exports","createCommonjsModule","fn","getCjsExportFromNamespace","n","hasOwnProperty","colorName","conversions","reverseKeywords","convert","rgb","channels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","ansi16","ansi256","hcg","apple","gray","model","Error","defineProperty","comparativeDistance","x","y","Math","pow","h","l","r","g","min","max","delta","rdif","gdif","bdif","s","diff","diffc","c","reversed","currentClosestKeyword","currentClosestDistance","Infinity","distance","z","t1","t2","t3","smin","lmin","hi","floor","f","p","q","t","sl","vmin","wh","bl","ratio","m","y2","x2","z2","atan2","PI","sqrt","hr","cos","sin","round","ansi","mult","rem","string","toUpperCase","colorString","char","join","integer","hue","chroma","pure","w","mg","buildGraph","graph","models","parent","deriveBFS","fromModel","queue","pop","adjacents","adjacent","node","wrapConversion","toModel","cur","conversion","route","wrapRaw","wrappedFn","prototype","wrapRounded","routes","raw","colorConvert","colorName$1","getRgba","getHsla","getRgb","getHsl","getHwb","getAlpha","hexString","rgbString","rgbaString","percentString","percentaString","hslString","hslaString","hwbString","abbr","rgba","per","hexAlpha","parseFloat","scale","alpha","hsla","vals","hexDouble","reverseNames","Color","valid","setValues","red","lightness","whiteness","cyan","setSpace","rgbArray","hslArray","hsvArray","hwbArray","cmykArray","rgbaArray","hslaArray","setChannel","green","blue","saturation","saturationv","blackness","magenta","yellow","black","rgbNumber","luminosity","lum","chan","contrast","color2","lum1","lum2","level","contrastRatio","dark","light","negate","lighten","darken","saturate","desaturate","whiten","blacken","greyscale","clearer","opaquer","rotate","degrees","mix","mixinColor","weight","color1","w1","w2","toJSON","prop","console","spaces","maxes","getValues","space","charAt","capped","chans","sname","svalues","chartjsColor","isValidKey","helpers","noop","uid","isNullOrUndef","isObject","isFinite","_isFinite","_x","Number","valueOrDefault","valueAtIndexOrDefault","thisArg","each","loopable","reverse","arrayEquals","a0","a1","ilen","v0","v1","create","klen","_merger","tval","sval","merge","_mergerIf","mergeIf","sources","merger","extend","dst","inherits","extensions","me","ChartElement","constructor","Surrogate","__super__","_deprecated","scope","previous","warn","helpers_core","callCallback","array","fromIndex","getValueOrDefault","getValueAtIndexOrDefault","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","helpers_easing","easingEffects","RAD_PER_DEG","DOUBLE_PI","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","exports$1","clear","chart","ctx","clearRect","roundedRect","radius","left","top","bottom","moveTo","arc","closePath","rect","drawPoint","rotation","xOffset","yOffset","cornerRadius","rad","save","translate","drawImage","restore","beginPath","lineTo","SQRT1_2","stroke","_isPointInArea","point","area","epsilon","clipArea","clip","unclipArea","flip","stepped","steppedLine","midpoint","bezierCurveTo","controlPointPreviousX","controlPointNextX","controlPointPreviousY","controlPointNextY","helpers_canvas","drawRoundedRectangle","defaults","_set","defaultColor","defaultFontColor","defaultFontFamily","defaultFontSize","defaultFontStyle","defaultLineHeight","showLines","core_defaults","toFontString","font","family","helpers_options","toLineHeight","matches","toPadding","_parseFont","globalDefaults","global","fontFamily","lineHeight","fontStyle","resolve","inputs","context","cacheable","exports$2","_factorize","log10","exponent","log","LOG10E","powerOf10","helpers_math","getRtlAdapter","rectX","setWidth","textAlign","align","xPlus","leftForLtr","itemWidth","getLtrAdapter","_itemWidth","helpers$1","easing","canvas","math","rtl","overrideTextDirection","original","getPropertyValue","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","interpolate","start","view","ease","actual","origin","c0","c1","Element","configuration","initialize","_type","hidden","pivot","_view","_model","_start","transition","tooltipPosition","hasValue","isNumber","core_element","exports$3","currentStep","numSteps","render","onAnimationProgress","onAnimationComplete","core_animation","animation","onProgress","onComplete","core_animations","animations","addAnimation","lazy","now","animating","requestAnimationFrame","cancelAnimation","findIndex","requestAnimFrame","startDigest","advance","nextStep","arrayEvents","listenArrayEvents","listener","_chartjs","listeners","configurable","enumerable","method","base","unlistenArrayEvents","stub","DatasetController","datasetElementType","dataElementType","_datasetElementOptions","_dataElementOptions","linkScales","addElements","getMeta","updateIndex","meta","dataset","getDataset","scalesOpts","xAxisID","yAxisID","getDatasetMeta","getScaleForId","scaleID","_getValueScaleId","_getIndexScaleId","_getValueScale","_getIndexScale","reset","_update","destroy","_data","createMetaDataset","_chart","_datasetIndex","createMetaData","_index","metaData","addElementAndReset","element","updateElement","buildOrUpdateElements","isExtensible","resyncElements","_configure","_config","_cachedDataOpts","update","easingValue","draw","getStyle","_resolveDatasetElementOptions","_resolveDataElementOptions","readKey","datasetOpts","custom","elementOptions","cached","dataIndex","freeze","removeHoverStyle","$previousStyle","setHoverStyle","getHoverColor","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","_removeDatasetHoverStyle","_setDatasetHoverStyle","hoverOptions","prev","numMeta","numData","insertElements","onDataPush","onDataPop","onDataShift","shift","onDataSplice","onDataUnshift","core_datasetController","TAU","clipArc","startAngle","endAngle","pixelMargin","angleMargin","outerRadius","innerRadius","drawFullCircleBorders","vm","inner","fullCircles","drawBorder","borderAlign","lineWidth","lineJoin","element_arc","inLabelRange","mouseX","hoverRadius","inRange","chartX","chartY","pointRelativePosition","getAngleFromPoint","angle","betweenAngles","withinRadius","getCenterPoint","halfAngle","halfRadius","getArea","centreAngle","rangeFromCentre","circumference","fillStyle","strokeStyle","valueOrDefault$1","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","capBezierPoints","element_line","currentVM","spanGaps","points","_children","globalOptionLineElements","lastDrawnIndex","_loop","previousItem","skip","lineCap","setLineDash","lineDashOffset","valueOrDefault$2","defaultColor$1","xRange","abs","hitRadius","yRange","mouseY","pointStyle","element_point","inXRange","inYRange","chartArea","defaultColor$2","isVertical","getBarBounds","x1","y1","half","swap","orig","v2","parseBorderSkipped","edge","borderSkipped","horizontal","parseBorderWidth","maxW","maxH","boundingRects","bounds","border","outer","skipX","skipY","rectangle","element_rectangle","rects","fillRect","Arc","Point","Rectangle","deprecated","valueOrDefault$3","computeMinSampleSize","pixels","curr","_length","getTicks","getPixelForTick","computeFitCategoryTraits","ruler","thickness","barThickness","stackCount","categoryPercentage","barPercentage","chunk","computeFlexCategoryTraits","next","percent","end","mode","gridLines","offsetGridLines","bar","controller_bar","scaleOpts","stack","minBarLength","maxBarThickness","_ruler","getRuler","_xScale","_yScale","datasetLabel","_updateElementGeometry","vscale","getBasePixel","isHorizontal","vpixels","calculateBarValuePixels","ipixels","calculateBarIndexPixels","head","center","_getStacks","last","metasets","_getMatchingVisibleMetas","stacked","stacks","getStackCount","getStackIndex","getPixelForValue","_startPixel","_endPixel","imeta","ivalue","stackLength","_parseValue","range","stackIndex","indexOpts","valueOpts","valueOrDefault$4","resolve$1","position","dataPoint","xLabel","controller_bubble","xScale","yScale","dsIndex","getPixelForDecimal","NaN","_options","valueOrDefault$5","PI$1","DOUBLE_PI$1","HALF_PI$1","animateRotate","animateScale","legendCallback","listItem","createElement","setAttribute","appendChild","createTextNode","outerHTML","generateLabels","controller","legendItem","cutoutPercentage","dataLabel","controller_doughnut","getRingIndex","ringIndex","isDatasetVisible","maxHeight","opts","ratioX","ratioY","offsetX","offsetY","arcs","cutout","chartWeight","_getRingWeight","startX","startY","endX","endY","contains0","contains90","contains270","minX","minY","maxX","maxY","getMaxBorderWidth","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","animationOpts","centerX","centerY","calculateCircumference","hoverWidth","ringWeightOffset","dataSetIndex","axis","horizontalBar","controller_horizontalBar","valueOrDefault$6","resolve$2","isPointInArea","scaleClip","halfBorderWidth","tickOpts","defaultClip","toClip","controller_line","showLine","_showLine","lineTension","_scale","updateBezierControlPoints","lineModel","calculatePointY","lineOptions","ds","dsMeta","stackedRightValue","rightValue","sumPos","sumNeg","getRightValue","_getSortedVisibleDatasetMetas","controlPoints","capControlPoint","pt","cubicInterpolationMode","splineCurveMonotone","splineCurve","nextItem","resolve$3","angleLines","circular","pointLabels","controller_polarArea","starts","_starts","angles","_angles","_updateRadius","countVisibleElements","_computeAngle","minSize","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getDistanceFromCenterForValue","resetRadius","doughnut","controller_pie","valueOrDefault$7","controller_radar","pointPosition","getPointPositionForValue","scatter","controllers","bubble","polarArea","pie","radar","getRelativePosition","native","parseVisibleItems","handler","metadata","getIntersectItems","getNearestItems","intersect","distanceMetric","minDistance","POSITIVE_INFINITY","nearestItems","getDistanceMetricForAxis","useX","useY","pt1","pt2","deltaX","deltaY","indexMode","core_interaction","modes","single","nearest","intersectsItem","filterByPosition","where","pos","sortByWeight","wrapBoxes","boxes","box","layoutBoxes","setLayoutDims","layouts","fullWidth","availableWidth","vBoxMaxWidth","hBoxMaxHeight","buildLayoutBoxes","leftAndTop","rightAndBottom","vertical","getCombinedMax","maxPadding","updateDims","newWidth","newHeight","getPadding","boxPadding","outerWidth","outerHeight","sizes","handleMaxPadding","updatePos","change","getMargins","marginForPositions","positions","margin","fitBoxes","refit","changed","refitBoxes","placeBoxes","userPadding","core_layouts","addBox","_layers","removeBox","layoutItem","configure","layoutOptions","availableHeight","verticalBoxes","horizontalBoxes","platform_basic","acquireContext","getContext","platform_dom","stylesheet","__proto__","EXPANDO_KEY","CSS_PREFIX","CSS_SIZE_MONITOR","CSS_RENDER_MONITOR","CSS_RENDER_ANIMATION","ANIMATION_START_EVENTS","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","readUsedSize","property","initCanvas","renderHeight","getAttribute","renderWidth","initial","displayWidth","aspectRatio","displayHeight","eventListenerOptions","supports","addEventListener","passive","addListener","removeListener","removeEventListener","createEvent","nativeEvent","fromNativeEvent","throttled","ticking","createDiv","cls","el","createResizer","maxSize","resizer","expand","shrink","_reset","scrollLeft","scrollTop","onScroll","watchForRender","expando","proxy","renderProxy","animationName","reflow","offsetParent","classList","add","unwatchForRender","remove","addResizeListener","container","maintainAspectRatio","parentNode","clientWidth","insertBefore","firstChild","removeResizeListener","removeChild","injectCSS","rootNode","css","containsStyles","platform_dom$2","disableCSSInjection","_enabled","_ensureLoaded","root","getRootNode","host","releaseContext","removeAttribute","proxies","addEvent","removeEvent","implementation","plugins","core_plugins","_plugins","_cacheId","register","plugin","unregister","idx","getAll","hook","descriptor","descriptors","cache","$plugins","_invalidate","core_scaleService","constructors","registerScaleType","scaleConstructor","scaleDefaults","getScaleConstructor","getScaleDefaults","updateScaleDefaults","additions","addScalesToLayout","valueOrDefault$8","getRtlHelper","enabled","titleFontStyle","titleSpacing","titleMarginBottom","titleFontColor","titleAlign","bodySpacing","bodyFontColor","bodyAlign","footerFontStyle","footerSpacing","footerMarginTop","footerFontColor","footerAlign","yPadding","xPadding","caretPadding","caretSize","multiKeyBackground","displayColors","beforeTitle","tooltipItems","labelCount","afterTitle","beforeBody","beforeLabel","labelColor","labelTextColor","afterLabel","afterBody","beforeFooter","footer","afterFooter","positioners","average","eventPosition","nearestElement","d","distanceBetweenPoints","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","indexScale","valueScale","getLabelForIndex","getBaseModel","tooltipOpts","xAlign","yAlign","textDirection","_bodyFontFamily","bodyFontFamily","_bodyFontStyle","bodyFontStyle","_bodyAlign","bodyFontSize","_titleFontFamily","titleFontFamily","_titleFontStyle","titleFontSize","_titleAlign","_footerFontFamily","footerFontFamily","_footerFontStyle","footerFontSize","_footerAlign","legendColorBackground","getTooltipSize","tooltip","body","combinedBodyLength","reduce","bodyItem","before","lines","after","titleLineCount","footerLineCount","widthPadding","maxLineWidth","measureText","fontString","determineAlignment","lf","rf","olf","orf","yf","midX","midY","getBackgroundPoint","alignment","paddingAndSize","radiusAndPadding","getAlignedX","getBeforeAfterBodyLines","exports$4","_lastActive","getTitle","getBeforeBody","getBody","bodyItems","getAfterBody","getFooter","existingModel","_active","backgroundPoint","tooltipSize","caretX","caretY","labelColors","labelTextColors","_eventPosition","itemSort","dataPoints","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","tmp","drawTitle","rtlHelper","textBaseline","fillText","drawBody","textColor","drawColorBoxes","xLinePadding","colorX","fillLineOfText","bodyAlignForCalculation","rtlColorX","strokeRect","drawFooter","drawBackground","quadraticCurveTo","hasTooltipContent","globalAlpha","handleEvent","getElementsAtEventForMode","positioners_1","core_tooltip","valueOrDefault$9","mergeScaleConfig","slen","mergeConfig","initConfig","updateConfig","newOptions","ensureScalesHaveIDs","buildOrUpdateScales","nextAvailableScaleId","axesOpts","prefix","hasId","positionIsHorizontal","compare2Level","l1","l2","events","onHover","animationDuration","responsive","responsiveAnimationDuration","Chart","construct","_bufferedRender","instances","retinaScale","devicePixelRatio","bindEvents","resize","initToolTip","stop","silent","getMaximumWidth","getMaximumHeight","newSize","onResize","scalesOptions","scaleOptions","xAxisOptions","yAxisOptions","updated","dtype","dposition","isDefault","scaleType","scaleClass","mergeTicksOptions","hasUpdated","buildOrUpdateControllers","newControllers","destroyDatasetMeta","order","ControllerClass","resetElements","updateLayout","updateDatasets","lastActive","_bufferedRequest","_idx","updateDataset","animationOptions","animationObject","easingFunction","stepDecimal","layers","drawDatasets","_drawTooltip","_getSortedDatasetMetas","filterVisible","drawDataset","getElementAtEvent","getElementsAtEvent","getElementsAtXAxis","getDatasetAtEvent","_meta","generateLegend","unbindEvents","toBase64Image","toDataURL","_chartInstance","_listeners","eventHandler","updateHoverStyle","bufferedRequest","core_controller","Controller","types","configMerge","scaleMerge","core_helpers","parseMaxStyle","styleValue","parentProperty","valueInPixels","isConstrainedValue","getConstraintDimension","domNode","maxStyle","percentageProperty","defaultView","_getParentNode","constrainedNode","getComputedStyle","constrainedContainer","hasCNode","hasCContainer","infinity","collection","filterCallback","filtered","findNextWhere","arrayToSearch","startIndex","findPreviousWhere","almostEquals","almostWhole","rounded","NEGATIVE_INFINITY","sign","toRadians","toDegrees","radians","_decimalPlaces","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","aliasPixel","pixelWidth","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","firstPoint","middlePoint","afterPoint","d01","d12","s01","s12","fa","fb","EPSILON","pointBefore","pointCurrent","pointAfter","alphaK","betaK","tauK","squaredMagnitude","pointsWithTangents","deltaK","mK","pointsLen","slopeDeltaX","loop","niceNum","fraction","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","evt","originalEvent","srcElement","boundingRect","getBoundingClientRect","touches","clientX","clientY","paddingLeft","paddingTop","paddingRight","paddingBottom","getConstraintWidth","getConstraintHeight","_calculatePadding","parentDimension","cw","clientHeight","ch","currentStyle","forceRatio","pixelRatio","pixelSize","longestText","arrayOfThings","gc","garbageCollect","thing","nestedThing","longest","gcLen","textWidth","numberOfLabelLines","numberOfLines","CanvasGradient","colorValue","CanvasPattern","abstract","DateAdapter","formats","parse","startOf","endOf","_create","override","core_adapters","_date","core_ticks","formatters","tickValue","logDelta","tickString","logTick","numExponential","toExponential","numDecimal","toFixed","logarithmic","remain","valueOrDefault$a","sample","arr","numItems","increment","getPixelForGridLine","validIndex","lineValue","caches","computeLabelSizes","tickFonts","tickFont","nestedLabel","widest","highest","widths","heights","offsets","widestLabelSize","highestLabelSize","major","minor","valueAt","first","getTickMarkLength","drawTicks","tickMarkLength","getScaleLabelHeight","parseFontOptions","nestedOpts","fontColor","parseTickFontOptions","nonSkipped","ticksToFilter","getEvenSpacing","calculateSpacing","majorIndices","axisLength","ticksLimit","factors","factor","evenMajorSpacing","spacing","getMajorIndices","skipMajors","tick","ceil","majorStart","majorEnd","drawOnChartArea","zeroLineWidth","zeroLineColor","zeroLineBorderDash","zeroLineBorderDashOffset","scaleLabel","labelString","minRotation","maxRotation","mirror","autoSkip","autoSkipPadding","labelOffset","Scale","zeroLineIndex","_ticks","_getLabels","xLabels","yLabels","beforeUpdate","margins","samplingEnabled","sampleSize","_labelSizes","_maxLabelLines","longestLabelWidth","longestTextCache","_gridLineItems","_labelItems","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","_convertTicksToLabels","beforeCalculateTickRotation","calculateTickRotation","afterCalculateTickRotation","beforeFit","fit","afterFit","_ticksToDraw","_autoSkip","afterUpdate","startPixel","endPixel","reversePixels","_reversePixels","beforeTickToLabelConversion","convertTicksToLabels","userCallback","afterTickToLabelConversion","labelSizes","maxLabelWidth","maxLabelHeight","tickWidth","maxLabelDiagonal","numTicks","labelRotation","_isVisible","_getLabelSizes","scaleLabelOpts","gridLineOpts","isBottom","firstLabelSize","lastLabelSize","lineSpace","tickPadding","isRotated","angleRadians","cosRotation","sinRotation","labelHeight","offsetLeft","offsetRight","labelWidth","handleMargins","isFullWidth","rawValue","_getScaleLabel","getValueForPixel","decimal","getDecimalForPixel","getBaseValue","avgMajorSpacing","_tickSize","numMajorIndices","optionTicks","rot","_computeGridLineItems","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","lineColor","ticksLength","tl","axisWidth","axisHalfWidth","alignPixel","alignBorderValue","_computeLabelItems","lineCount","textOffset","isMirrored","fonts","_drawGrid","firstLineWidth","lastLineWidth","_drawLabels","_drawTitle","scaleLabelX","scaleLabelY","scaleLabelFontColor","scaleLabelFont","scaleLabelPadding","halfLineHeight","isLeft","tz","gz","_draw","core_scale","isNullOrUndef$1","defaultConfig","scale_category","ticksOpts","minIndex","maxIndex","_startValue","_valueRange","valueCategory","_defaults","isNullOrUndef$2","generateTicks","generationOptions","dataRange","niceMin","niceMax","numSpaces","MIN_SPACING","stepSize","unit","maxNumSpaces","maxTicks","precision","rmin","rmax","scale_linearbase","handleTickRangeOptions","minSign","maxSign","setMin","suggestedMin","setMax","getTickLimit","_computeTickLimit","handleDirectionalChanges","numericGeneratorOptions","fixedStepSize","ticksAsNumbers","_endValue","defaultConfig$1","DEFAULT_MIN","DEFAULT_MAX","getOrCreateStack","neg","stackData","relativePoints","updateMinMax","scale_linear","hasStacks","stackValues","_defaults$1","valueOrDefault$b","generateTicks$1","exp","significand","tickVal","endExp","endSignificand","minNotZero","lastTick","defaultConfig$2","nonNegativeOrDefault","scale_logarithmic","IDMatches","valuesPerStack","valuesForType","minVal","maxVal","tickValues","_getFirstTickValue","_valueOffset","_defaults$2","valueOrDefault$c","valueAtIndexOrDefault$1","resolve$4","defaultConfig$3","animate","showLabelBackdrop","backdropColor","backdropPaddingY","backdropPaddingX","getTickBackdropHeight","measureLabelSize","determineLimits","fitWithPointLabels","textSize","plFont","furthestLimits","furthestAngles","_pointLabelSizes","valueCount","getPointPosition","drawingArea","getIndexAngle","hLimits","vLimits","setReductions","getTextAlignForAngle","adjustPointPositionForLabelHeight","drawPointLabels","pointLabelOpts","tickBackdropHeight","outerDistance","extra","pointLabelPosition","pointLabelFontColor","drawRadiusLine","numberOrZero","scale_radialLinear","setCenterPoint","largestPossibleRadius","radiusReductionLeft","radiusReductionRight","radiusReductionTop","radiusReductionBottom","leftMovement","rightMovement","topMovement","bottomMovement","maxRight","maxLeft","maxTop","maxBottom","scalingFactor","distanceFromCenter","thisAngle","getBasePosition","angleLineOpts","tickFontColor","_defaults$3","deprecated$1","resolve$5","valueOrDefault$d","MIN_INTEGER","MIN_SAFE_INTEGER","MAX_INTEGER","MAX_SAFE_INTEGER","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","quarter","year","UNITS","sorter","arrayUnique","hash","out","getMin","getMax","buildLookupTable","timestamps","distribution","lookup","mid","i0","i1","lo","interpolate$1","skey","tkey","span","toTimestamp","input","adapter","_adapter","parser","determineUnitForAutoTicks","minUnit","capacity","interval","determineUnitForFormatting","determineMajorUnit","generate","timeOpts","unitStepSize","weekday","isoWeekday","computeOffsets","setMajorTicks","majorUnit","ticksFromTimestamps","defaultConfig$4","adapters","displayFormat","displayFormats","scale_time","timestamp","labelsAdded","dataLabels","_table","_timestamps","getLabelCapacity","_unit","_majorUnit","_offsets","tooltipFormat","tickFormatFunction","minorFormat","majorFormat","nestedTickOpts","formatter","getPixelForOffset","_getLabelSize","tickLabelWidth","tickFontSize","getLabelWidth","exampleTime","exampleLabel","_defaults$4","category","radialLinear","FORMATS","_id","valueOf","amount","filler","propagate","mappers","boundary","decodeFill","computeLinearBoundary","scaleBottom","scaleTop","scaleZero","computeCircularBoundary","cx","cy","computeBoundary","resolveTarget","visible","createMapper","isDrawable","drawArea","curve0","curve1","len0","len1","doFill","mapper","p0","p1","d0","d1","loopOffset","plugin_filler","afterDatasetsUpdate","$filler","beforeDatasetsDraw","getRtlHelper$1","noop$1","valueOrDefault$e","getBoxWidth","labelOpts","boxWidth","ci","onLeave","lineDash","Legend","legendHitBoxes","_hoveredItem","doughnutMode","beforeBuildLabels","buildLabels","afterBuildLabels","legendItems","labelFont","hitboxes","lineWidths","totalHeight","vPadding","columnWidths","columnHeights","totalWidth","currentColWidth","currentColHeight","lineDefault","legendHeight","legendWidth","cursor","drawLegendBox","SQRT2","halfFontSize","xLeft","yMiddle","alignmentOffset","dimension","blockSize","itemHeight","realX","_getLegendItemAt","hitBox","lh","hoveredItem","createNewLegendAndAttach","legendOpts","plugin_legend","_element","beforeInit","afterEvent","noop$2","Title","titleX","titleY","fontOpts","createNewTitleBlockAndAttach","titleOpts","titleBlock","_adapters","Animation","animationService","Interaction","scaleService","Ticks","Tooltip","pluginService","PluginBase","canvasHelpers","layoutService","LinearScaleBase","klass","cfg","toLowerCase","factory","require","setter","iteratee","accumulator","baseEach","arrayAggregator","baseAggregator","baseIteratee","initializer","func","baseIsEqual","other","baseAssignValue","keyBy","createAggregator","_react","_interopRequireDefault","_propTypes","_isEqual","_keyBy","__esModule","default","_extends","_typeof","Symbol","iterator","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","instance","Constructor","TypeError","_defineProperties","writable","protoProps","staticProps","subClass","superClass","_setPrototypeOf","o","setPrototypeOf","Derived","hasNativeReflectConstruct","Reflect","sham","Proxy","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","self","_possibleConstructorReturn","ReferenceError","getPrototypeOf","NODE_ENV","ChartComponent","chartInstance","onElementsClick","renderChart","redraw","destroyChart","updateChart","nextData","transformDataProp","shadowDataProp","saveCurrentDatasets","isDev","usingCustomKeyProvider","datasetKeyProvider","getLabelAsKey","multipleDatasets","shouldWarn","getCurrentDatasets","memoizeDataProps","currentDatasets","nextDatasets","checkDatasets","currentDatasetsIndexed","pid","otherProps","rest","_this$props4","handleOnClick","oneOfType","isRequired","number","arrayOf","bool","propName","componentName","Doughnut","Pie","_ref2","_React$Component4","_super4","_ref3","Bar","_React$Component5","_super5","_this7","_ref4","HorizontalBar","_React$Component6","_super6","_this8","_ref5","Radar","_React$Component7","_super7","_this9","_ref6","Polar","_React$Component8","_super8","_this10","_ref7","Bubble","_React$Component9","_super9","_this11","_ref8","Scatter","_React$Component10","_super10","_this12","_ref9","propTypes","PropTypes","cssModule","bordered","borderless","striped","tagPropType","responsiveTag","Tag","ResponsiveTag","attributes","classes","mapToCssModules","responsiveClassName"],"sourceRoot":""}