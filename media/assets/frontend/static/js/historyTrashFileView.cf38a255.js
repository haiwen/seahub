"use strict";(self.webpackChunkseahub_frontend=self.webpackChunkseahub_frontend||[]).push([[5240],{19435:function(e,n,t){var i=t(89379),a=t(23029),r=t(92901),o=t(39874),c=t(85501),s=t(9950),l=t(50268),u=(t(57715),t(44414)),f=window.app.pageOptions.rawPath,d=function(e){function n(){return(0,a.A)(this,n),(0,o.A)(this,n,arguments)}return(0,c.A)(n,e),(0,r.A)(n,[{key:"render",value:function(){var e={autoplay:!1,controls:!0,preload:"auto",sources:[{src:f}]};return(0,u.jsx)("div",{className:"file-view-content flex-1 audio-file-view",children:(0,u.jsx)(l.A,(0,i.A)({},e))})}}])}(s.Component);n.A=d},88572:function(e,n,t){var i,a,r=t(23029),o=t(92901),c=t(39874),s=t(85501),l=t(9950),u=t(65604),f=t(40326),d=(t(89046),t(44414)),p=window.app.pageOptions,h=p.repoID,x=p.repoEncrypted,v=p.fileExt,m=p.filePath,A=p.fileName,w=p.thumbnailSizeForOriginal,j=p.previousImage,k=p.nextImage,g=p.rawPath,N=p.xmindImageSrc;j&&(i="".concat(f.Yc,"lib/").concat(h,"/file").concat(u.Aq.encodePath(j))),k&&(a="".concat(f.Yc,"lib/").concat(h,"/file").concat(u.Aq.encodePath(k)));var b=function(e){function n(e){var t;return(0,r.A)(this,n),(t=(0,c.A)(this,n,[e])).handleLoadFailure=function(){t.setState({loadFailed:!0})},t.state={loadFailed:!1},t}return(0,s.A)(n,e),(0,o.A)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",(function(e){j&&37==e.keyCode&&(location.href=i),k&&39==e.keyCode&&(location.href=a)}))}},{key:"render",value:function(){if(this.state.loadFailed)return this.props.tip;var e="";!x&&["tif","tiff","psd"].includes(v)&&(e="".concat(f.Yc,"thumbnail/").concat(h,"/").concat(w).concat(u.Aq.encodePath(m)));var n=N?"".concat(f.Yc).concat(N):"";return(0,d.jsxs)("div",{className:"file-view-content flex-1 image-file-view",children:[j&&(0,d.jsx)("a",{href:i,id:"img-prev",title:(0,f.AP)("you can also press \u2190 "),children:(0,d.jsx)("span",{className:"sf3-font sf3-font-down rotate-90 d-inline-block"})}),k&&(0,d.jsx)("a",{href:a,id:"img-next",title:(0,f.AP)("you can also press \u2192"),children:(0,d.jsx)("span",{className:"sf3-font sf3-font-down rotate-270 d-inline-block"})}),(0,d.jsx)("img",{src:n||e||g,alt:A,id:"image-view",onError:this.handleLoadFailure})]})}}])}(l.Component);n.A=b},75839:function(e,n,t){var i=t(23029),a=t(92901),r=t(39874),o=t(85501),c=t(9950),s=t(9223),l=(t(20479),t(44414)),u=function(e){function n(){return(0,i.A)(this,n),(0,r.A)(this,n,arguments)}return(0,o.A)(n,e),(0,a.A)(n,[{key:"render",value:function(){return(0,l.jsx)("div",{className:"file-view-content flex-1 pdf-file-view",children:(0,l.jsx)(s.A,{})})}}])}(c.Component);n.A=u},4343:function(e,n,t){var i=t(23029),a=t(92901),r=t(39874),o=t(85501),c=t(9950),s=(t(57067),t(44414)),l=window.app.pageOptions,u=l.fileName,f=l.rawPath,d=function(e){function n(){return(0,i.A)(this,n),(0,r.A)(this,n,arguments)}return(0,o.A)(n,e),(0,a.A)(n,[{key:"render",value:function(){return(0,s.jsx)("div",{className:"file-view-content flex-1 svg-file-view",children:(0,s.jsx)("img",{src:f,alt:u,id:"svg-view"})})}}])}(c.Component);n.A=d},58930:function(e,n,t){var i=t(89379),a=t(23029),r=t(92901),o=t(39874),c=t(85501),s=t(9950),l=t(22899),u=(t(21936),t(44414)),f=window.app.pageOptions.rawPath,d=function(e){function n(){return(0,a.A)(this,n),(0,o.A)(this,n,arguments)}return(0,c.A)(n,e),(0,r.A)(n,[{key:"render",value:function(){var e={autoplay:!1,controls:!0,preload:"auto",playbackRates:[.5,1,1.5,2],sources:[{src:f}]};return(0,u.jsx)("div",{className:"file-view-content flex-1 video-file-view",children:(0,u.jsx)(l.A,(0,i.A)({},e))})}}])}(s.Component);n.A=d},2072:function(e,n,t){var i=t(23029),a=t(92901),r=t(39874),o=t(85501),c=t(9950),s=t(17119),l=t(47838),u=t.n(l),f=t(40326),d=t(44414),p=window.app.pageOptions,h=p.fileName,x=p.repoID,v=p.objID,m=p.path;var A=function(){return(0,d.jsx)("a",{href:"".concat(f.Yc,"repo/").concat(x,"/").concat(v,"/download/?file_name=").concat(encodeURIComponent(h),"&p=").concat(encodeURIComponent(m)),className:"btn btn-secondary flex-shrink-0",children:(0,f.AP)("Download")})},w=(t(57686),window.app.pageOptions),j=w.fromTrash,k=w.fileName,g=w.commitTime,N=w.canDownloadFile,b=w.enableWatermark,y=w.userNickName,C=function(e){function n(e){return(0,i.A)(this,n),(0,r.A)(this,n,[e])}return(0,o.A)(n,e),(0,a.A)(n,[{key:"render",value:function(){return(0,d.jsxs)("div",{className:"h-100 d-flex flex-column flex-1 mw-100",children:[(0,d.jsxs)("div",{className:"file-view-header d-flex justify-content-between align-items-center",children:[(0,d.jsxs)("div",{className:"text-truncate mr-4",children:[(0,d.jsx)("h2",{className:"file-title text-truncate",title:k,children:k}),(0,d.jsx)("p",{className:"meta-info m-0",children:j?"".concat((0,f.AP)("Current Path: ")).concat((0,f.AP)("Trash")):g})]}),N&&(0,d.jsx)(A,{})]}),(0,d.jsx)("div",{className:"file-view-body flex-auto d-flex o-hidden",children:this.props.content})]})}}])}(c.Component);b&&u().init({watermark_txt:"".concat(f.pu," ").concat(y),watermark_alpha:.075});var O=C,P=window.app.pageOptions,F=P.canDownloadFile,I=P.err,S="File preview unsupported",D=function(e){function n(){return(0,i.A)(this,n),(0,r.A)(this,n,arguments)}return(0,o.A)(n,e),(0,a.A)(n,[{key:"render",value:function(){var e;return e=I==S||this.props.err==S?(0,d.jsx)("p",{children:(0,f.AP)("Online view is not applicable to this file format")}):(0,d.jsx)("p",{className:"error",children:I}),(0,d.jsx)("div",{className:"file-view-content flex-1 o-auto",children:(0,d.jsxs)("div",{className:"file-view-tip",children:[e,F&&(0,d.jsx)(A,{})]})})}}])}(c.Component),E=D,T=t(88572),Y=t(4343),_=t(75839),q=t(49690),L=(t(61610),window.app.pageOptions),M=L.fileExt,R=L.fileContent,V=function(e){function n(){return(0,i.A)(this,n),(0,r.A)(this,n,arguments)}return(0,o.A)(n,e),(0,a.A)(n,[{key:"render",value:function(){return(0,d.jsx)("div",{className:"file-view-content flex-1 text-file-view",children:(0,d.jsx)(q.A,{fileExt:M,value:R})})}}])}(c.Component),G=V,J=t(92203),U=window.app.pageOptions.fileContent,z=function(e){function n(){return(0,i.A)(this,n),(0,r.A)(this,n,arguments)}return(0,o.A)(n,e),(0,a.A)(n,[{key:"render",value:function(){return(0,d.jsx)("div",{className:"file-view-content md-content",children:(0,d.jsx)(J.MarkdownViewer,{isFetching:!1,value:U,isShowOutline:!1,mathJaxSource:f.SG+"js/mathjax/tex-svg.js"})})}}])}(c.Component),B=z,W=t(17),X=window.app.pageOptions.fileContent,H=function(e){function n(){return(0,i.A)(this,n),(0,r.A)(this,n,arguments)}return(0,o.A)(n,e),(0,a.A)(n,[{key:"render",value:function(){var e=X?JSON.parse(X):null;return(0,d.jsx)("div",{className:"file-view-content flex-1 o-auto sdoc-file-view p-0 d-flex flex-column",children:(0,d.jsx)(W.SX,{document:e})})}}])}(c.Component),K=H,Q=t(58930),Z=t(19435),$=window.app.pageOptions,ee=$.fileType,ne=$.err,te=function(e){function n(){return(0,i.A)(this,n),(0,r.A)(this,n,arguments)}return(0,o.A)(n,e),(0,a.A)(n,[{key:"render",value:function(){if(ne)return(0,d.jsx)(O,{content:(0,d.jsx)(E,{})});var e;switch(ee){case"Image":e=(0,d.jsx)(T.A,{tip:(0,d.jsx)(E,{})});break;case"SVG":e=(0,d.jsx)(Y.A,{});break;case"PDF":e=(0,d.jsx)(_.A,{});break;case"Text":e=(0,d.jsx)(G,{});break;case"Markdown":e=(0,d.jsx)(B,{});break;case"SDoc":e=(0,d.jsx)(K,{});break;case"Video":e=(0,d.jsx)(Q.A,{});break;case"Audio":e=(0,d.jsx)(Z.A,{});break;default:e=(0,d.jsx)(E,{err:"File preview unsupported"})}return(0,d.jsx)(O,{content:e})}}])}(c.Component);s.render((0,d.jsx)(te,{}),document.getElementById("wrapper"))}},function(e){e.O(0,[4223],(function(){return n=2072,e(e.s=n);var n}));e.O()}]);